(function(X,ht){typeof exports=="object"&&typeof module<"u"?ht(exports,require("ol/proj"),require("ol/proj/proj4"),require("ol/Map"),require("ol/View"),require("ol/layer/Layer"),require("ol/math"),require("mapbox-gl"),require("ol/layer/Group.js"),require("ol/layer/Image"),require("ol/source/ImageWMS"),require("ol/layer/Tile"),require("ol/source/WMTS"),require("ol/tilegrid/WMTS"),require("ol/extent"),require("ol/source/TileWMS"),require("ol/tilegrid/TileGrid"),require("ol/events"),require("ol/ObjectEventType"),require("ol/css"),require("ol/control/Control"),require("ol/control/FullScreen"),require("ol/control/Zoom"),require("ol/control/ZoomToExtent"),require("ol/format/WMTSCapabilities.js"),require("ol/events.js"),require("ol/interaction/Draw"),require("ol/layer/Vector"),require("ol/source/Vector"),require("ol/render"),require("ol/Observable"),require("ol/render/EventType")):typeof define=="function"&&define.amd?define(["exports","ol/proj","ol/proj/proj4","ol/Map","ol/View","ol/layer/Layer","ol/math","mapbox-gl","ol/layer/Group.js","ol/layer/Image","ol/source/ImageWMS","ol/layer/Tile","ol/source/WMTS","ol/tilegrid/WMTS","ol/extent","ol/source/TileWMS","ol/tilegrid/TileGrid","ol/events","ol/ObjectEventType","ol/css","ol/control/Control","ol/control/FullScreen","ol/control/Zoom","ol/control/ZoomToExtent","ol/format/WMTSCapabilities.js","ol/events.js","ol/interaction/Draw","ol/layer/Vector","ol/source/Vector","ol/render","ol/Observable","ol/render/EventType"],ht):(X=typeof globalThis<"u"?globalThis:X||self,ht(X["luxembourg-geoportail"]={},X.proj,X.proj4$1,X.OlMap,X.OlView,X.Layer,X.math,X.mapboxgl,X.olLayerGroup,X.ImageLayer,X.ImageWMS,X.TileLayer,X.WmtsSource,X.WmtsTileGrid,X.extent,X.TileWMS,X.TileGrid,X.olEvents,X.ObjectEventType$1,X.css$1,X.Control,X.FullScreen,X.Zoom,X.OlControlZoomToExtent,X.WMTSCapabilities,X.events_js,X.Draw,X.VectorLayer,X.VectorSource,X.render$1,X.Observable$2,X.EventType$1))})(this,function(X,ht,Ui,Bb,Wb,qb,Hb,zb,Yb,Xb,Kb,Zb,Jb,Qb,e1,t1,n1,r1,i1,Ko,s1,a1,o1,l1,u1,c1,f1,h1,d1,Zo,p1,m1){"use strict";var K6=Object.defineProperty;var Z6=(X,ht,Ui)=>ht in X?K6(X,ht,{enumerable:!0,configurable:!0,writable:!0,value:Ui}):X[ht]=Ui;var nt=(X,ht,Ui)=>(Z6(X,typeof ht!="symbol"?ht+"":ht,Ui),Ui);const dt=t=>t&&typeof t=="object"&&"default"in t?t:{default:t};function g1(t){if(t&&t.__esModule)return t;const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}function y1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const v1=dt(Bb),_1=dt(Wb),b1=dt(qb),Id=dt(zb),E1=dt(Yb),w1=dt(Xb),kd=dt(Kb),Rd=dt(Zb),bc=dt(Jb),$d=dt(Qb),S1=dt(t1),O1=dt(n1),Fd=g1(r1),x1=dt(i1),Vd=dt(s1),M1=dt(a1),T1=dt(o1),N1=dt(l1),L1=dt(u1),C1=dt(f1),A1=dt(h1),P1=dt(d1),jd=dt(m1);/**
* @vue/shared v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Pr(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Ze=process.env.NODE_ENV!=="production"?Object.freeze({}):{},Ls=process.env.NODE_ENV!=="production"?Object.freeze([]):[],vt=()=>{},D1=()=>!1,Ea=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Jo=t=>t.startsWith("onUpdate:"),Qe=Object.assign,Ec=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},I1=Object.prototype.hasOwnProperty,ke=(t,e)=>I1.call(t,e),ue=Array.isArray,Bi=t=>Qo(t)==="[object Map]",Gd=t=>Qo(t)==="[object Set]",ve=t=>typeof t=="function",st=t=>typeof t=="string",Wi=t=>typeof t=="symbol",We=t=>t!==null&&typeof t=="object",wc=t=>(We(t)||ve(t))&&ve(t.then)&&ve(t.catch),Ud=Object.prototype.toString,Qo=t=>Ud.call(t),Sc=t=>Qo(t).slice(8,-1),Bd=t=>Qo(t)==="[object Object]",Oc=t=>st(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,wa=Pr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),k1=Pr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),el=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},R1=/-(\w)/g,yn=el(t=>t.replace(R1,(e,n)=>n?n.toUpperCase():"")),$1=/\B([A-Z])/g,an=el(t=>t.replace($1,"-$1").toLowerCase()),qi=el(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hi=el(t=>t?`on${qi(t)}`:""),si=(t,e)=>!Object.is(t,e),Sa=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Wd=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},F1=t=>{const e=parseFloat(t);return isNaN(e)?t:e},xc=t=>{const e=st(t)?Number(t):NaN;return isNaN(e)?t:e};let qd;const tl=()=>qd||(qd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ai(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=st(r)?U1(r):ai(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(st(t)||We(t))return t}const V1=/;(?![^(]*\))/g,j1=/:([^]+)/,G1=/\/\*[^]*?\*\//g;function U1(t){const e={};return t.replace(G1,"").split(V1).forEach(n=>{if(n){const r=n.split(j1);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ie(t){let e="";if(st(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const r=Ie(t[n]);r&&(e+=r+" ")}else if(We(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const B1="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",W1="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",q1="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",H1=Pr(B1),z1=Pr(W1),Y1=Pr(q1),X1=Pr("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Hd(t){return!!t||t===""}const ae=t=>st(t)?t:t==null?"":ue(t)||We(t)&&(t.toString===Ud||!ve(t.toString))?JSON.stringify(t,zd,2):String(t),zd=(t,e)=>e&&e.__v_isRef?zd(t,e.value):Bi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Mc(r,s)+" =>"]=i,n),{})}:Gd(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Mc(n))}:Wi(e)?Mc(e):We(e)&&!ue(e)&&!Bd(e)?String(e):e,Mc=(t,e="")=>{var n;return Wi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ir(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let vn;class Yd{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=vn,!e&&vn&&(this.index=(vn.scopes||(vn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=vn;try{return vn=this,e()}finally{vn=n}}else process.env.NODE_ENV!=="production"&&ir("cannot run an inactive effect scope.")}on(){vn=this}off(){vn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Xd(t){return new Yd(t)}function K1(t,e=vn){e&&e.active&&e.effects.push(t)}function Kd(){return vn}function Z1(t){vn?vn.cleanups.push(t):process.env.NODE_ENV!=="production"&&ir("onScopeDispose() is called when there is no active effect scope to be associated with.")}let zi;class Tc{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,K1(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Dr();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(J1(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ir()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=oi,n=zi;try{return oi=!0,zi=this,this._runnings++,Zd(this),this.fn()}finally{Jd(this),this._runnings--,zi=n,oi=e}}stop(){var e;this.active&&(Zd(this),Jd(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function J1(t){return t.value}function Zd(t){t._trackId++,t._depsLength=0}function Jd(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Qd(t.deps[e],t);t.deps.length=t._depsLength}}function Qd(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let oi=!0,Nc=0;const ep=[];function Dr(){ep.push(oi),oi=!1}function Ir(){const t=ep.pop();oi=t===void 0?!0:t}function Lc(){Nc++}function Cc(){for(Nc--;!Nc&&Ac.length;)Ac.shift()()}function tp(t,e,n){var r;if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&Qd(i,t),t.deps[t._depsLength++]=e):t._depsLength++,process.env.NODE_ENV!=="production"&&((r=t.onTrack)==null||r.call(t,Qe({effect:t},n)))}}const Ac=[];function np(t,e,n){var r;Lc();for(const i of t.keys()){let s;i._dirtyLevel<e&&(s!=null?s:s=t.get(i)===i._trackId)&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s!=null?s:s=t.get(i)===i._trackId)&&(process.env.NODE_ENV!=="production"&&((r=i.onTrigger)==null||r.call(i,Qe({effect:i},n))),i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Ac.push(i.scheduler)))}Cc()}const rp=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},nl=new WeakMap,Yi=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),Pc=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");function Pt(t,e,n){if(oi&&zi){let r=nl.get(t);r||nl.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=rp(()=>r.delete(n))),tp(zi,i,process.env.NODE_ENV!=="production"?{target:t,type:e,key:n}:void 0)}}function sr(t,e,n,r,i,s){const a=nl.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&ue(t)){const l=Number(r);a.forEach((u,f)=>{(f==="length"||!Wi(f)&&f>=l)&&o.push(u)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":ue(t)?Oc(n)&&o.push(a.get("length")):(o.push(a.get(Yi)),Bi(t)&&o.push(a.get(Pc)));break;case"delete":ue(t)||(o.push(a.get(Yi)),Bi(t)&&o.push(a.get(Pc)));break;case"set":Bi(t)&&o.push(a.get(Yi));break}Lc();for(const l of o)l&&np(l,4,process.env.NODE_ENV!=="production"?{target:t,type:e,key:n,newValue:r,oldValue:i,oldTarget:s}:void 0);Cc()}function Q1(t,e){var n;return(n=nl.get(t))==null?void 0:n.get(e)}const eE=Pr("__proto__,__v_isRef,__isVue"),ip=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Wi)),sp=tE();function tE(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ee(this);for(let s=0,a=this.length;s<a;s++)Pt(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Ee)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Dr(),Lc();const r=Ee(this)[e].apply(this,n);return Cc(),Ir(),r}}),t}function nE(t){Wi(t)||(t=String(t));const e=Ee(this);return Pt(e,"has",t),e.hasOwnProperty(t)}class ap{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?yp:gp:s?mp:pp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=ue(e);if(!i){if(a&&ke(sp,n))return Reflect.get(sp,n,r);if(n==="hasOwnProperty")return nE}const o=Reflect.get(e,n,r);return(Wi(n)?ip.has(n):eE(n))||(i||Pt(e,"get",n),s)?o:tt(o)?a&&Oc(n)?o:o.value:We(o)?i?vp(o):cl(o):o}}class op extends ap{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Xi(s);if(!Ki(r)&&!Xi(r)&&(s=Ee(s),r=Ee(r)),!ue(e)&&tt(s)&&!tt(r))return l?!1:(s.value=r,!0)}const a=ue(e)&&Oc(n)?Number(n)<e.length:ke(e,n),o=Reflect.set(e,n,r,i);return e===Ee(i)&&(a?si(r,s)&&sr(e,"set",n,r,s):sr(e,"add",n,r)),o}deleteProperty(e,n){const r=ke(e,n),i=e[n],s=Reflect.deleteProperty(e,n);return s&&r&&sr(e,"delete",n,void 0,i),s}has(e,n){const r=Reflect.has(e,n);return(!Wi(n)||!ip.has(n))&&Pt(e,"has",n),r}ownKeys(e){return Pt(e,"iterate",ue(e)?"length":Yi),Reflect.ownKeys(e)}}class lp extends ap{constructor(e=!1){super(!0,e)}set(e,n){return process.env.NODE_ENV!=="production"&&ir(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0}deleteProperty(e,n){return process.env.NODE_ENV!=="production"&&ir(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}}const rE=new op,iE=new lp,sE=new op(!0),aE=new lp(!0),Dc=t=>t,rl=t=>Reflect.getPrototypeOf(t);function il(t,e,n=!1,r=!1){t=t.__v_raw;const i=Ee(t),s=Ee(e);n||(si(e,s)&&Pt(i,"get",e),Pt(i,"get",s));const{has:a}=rl(i),o=r?Dc:n?Ic:Oa;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function sl(t,e=!1){const n=this.__v_raw,r=Ee(n),i=Ee(t);return e||(si(t,i)&&Pt(r,"has",t),Pt(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function al(t,e=!1){return t=t.__v_raw,!e&&Pt(Ee(t),"iterate",Yi),Reflect.get(t,"size",t)}function up(t){t=Ee(t);const e=Ee(this);return rl(e).has.call(e,t)||(e.add(t),sr(e,"add",t,t)),this}function cp(t,e){e=Ee(e);const n=Ee(this),{has:r,get:i}=rl(n);let s=r.call(n,t);s?process.env.NODE_ENV!=="production"&&dp(n,r,t):(t=Ee(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?si(e,a)&&sr(n,"set",t,e,a):sr(n,"add",t,e),this}function fp(t){const e=Ee(this),{has:n,get:r}=rl(e);let i=n.call(e,t);i?process.env.NODE_ENV!=="production"&&dp(e,n,t):(t=Ee(t),i=n.call(e,t));const s=r?r.call(e,t):void 0,a=e.delete(t);return i&&sr(e,"delete",t,void 0,s),a}function hp(){const t=Ee(this),e=t.size!==0,n=process.env.NODE_ENV!=="production"?Bi(t)?new Map(t):new Set(t):void 0,r=t.clear();return e&&sr(t,"clear",void 0,void 0,n),r}function ol(t,e){return function(r,i){const s=this,a=s.__v_raw,o=Ee(a),l=e?Dc:t?Ic:Oa;return!t&&Pt(o,"iterate",Yi),a.forEach((u,f)=>r.call(i,l(u),l(f),s))}}function ll(t,e,n){return function(...r){const i=this.__v_raw,s=Ee(i),a=Bi(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),f=n?Dc:e?Ic:Oa;return!e&&Pt(s,"iterate",l?Pc:Yi),{next(){const{value:c,done:h}=u.next();return h?{value:c,done:h}:{value:o?[f(c[0]),f(c[1])]:f(c),done:h}},[Symbol.iterator](){return this}}}}function li(t){return function(...e){if(process.env.NODE_ENV!=="production"){const n=e[0]?`on key "${e[0]}" `:"";ir(`${qi(t)} operation ${n}failed: target is readonly.`,Ee(this))}return t==="delete"?!1:t==="clear"?void 0:this}}function oE(){const t={get(s){return il(this,s)},get size(){return al(this)},has:sl,add:up,set:cp,delete:fp,clear:hp,forEach:ol(!1,!1)},e={get(s){return il(this,s,!1,!0)},get size(){return al(this)},has:sl,add:up,set:cp,delete:fp,clear:hp,forEach:ol(!1,!0)},n={get(s){return il(this,s,!0)},get size(){return al(this,!0)},has(s){return sl.call(this,s,!0)},add:li("add"),set:li("set"),delete:li("delete"),clear:li("clear"),forEach:ol(!0,!1)},r={get(s){return il(this,s,!0,!0)},get size(){return al(this,!0)},has(s){return sl.call(this,s,!0)},add:li("add"),set:li("set"),delete:li("delete"),clear:li("clear"),forEach:ol(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=ll(s,!1,!1),n[s]=ll(s,!0,!1),e[s]=ll(s,!1,!0),r[s]=ll(s,!0,!0)}),[t,n,e,r]}const[lE,uE,cE,fE]=oE();function ul(t,e){const n=e?t?fE:cE:t?uE:lE;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ke(n,i)&&i in r?n:r,i,s)}const hE={get:ul(!1,!1)},dE={get:ul(!1,!0)},pE={get:ul(!0,!1)},mE={get:ul(!0,!0)};function dp(t,e,n){const r=Ee(n);if(r!==n&&e.call(t,r)){const i=Sc(t);ir(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const pp=new WeakMap,mp=new WeakMap,gp=new WeakMap,yp=new WeakMap;function gE(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yE(t){return t.__v_skip||!Object.isExtensible(t)?0:gE(Sc(t))}function cl(t){return Xi(t)?t:fl(t,!1,rE,hE,pp)}function vE(t){return fl(t,!1,sE,dE,mp)}function vp(t){return fl(t,!0,iE,pE,gp)}function kr(t){return fl(t,!0,aE,mE,yp)}function fl(t,e,n,r,i){if(!We(t))return process.env.NODE_ENV!=="production"&&ir(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=yE(t);if(a===0)return t;const o=new Proxy(t,a===2?r:n);return i.set(t,o),o}function ar(t){return Xi(t)?ar(t.__v_raw):!!(t&&t.__v_isReactive)}function Xi(t){return!!(t&&t.__v_isReadonly)}function Ki(t){return!!(t&&t.__v_isShallow)}function hl(t){return t?!!t.__v_raw:!1}function Ee(t){const e=t&&t.__v_raw;return e?Ee(e):t}function ui(t){return Object.isExtensible(t)&&Wd(t,"__v_skip",!0),t}const Oa=t=>We(t)?cl(t):t,Ic=t=>We(t)?vp(t):t,_E="Computed is still dirty after getter evaluation, likely because a computed is mutating its own dependency in its getter. State mutations in computed getters should be avoided.  Check the docs for more details: https://vuejs.org/guide/essentials/computed.html#getters-should-be-side-effect-free";class _p{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Tc(()=>e(this._value),()=>dl(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Ee(this);return(!e._cacheable||e.effect.dirty)&&si(e._value,e._value=e.effect.run())&&dl(e,4),bp(e),e.effect._dirtyLevel>=2&&(process.env.NODE_ENV!=="production"&&this._warnRecursive&&ir(_E,`

getter: `,this.getter),dl(e,2)),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function bE(t,e,n=!1){let r,i;const s=ve(t);s?(r=t,i=process.env.NODE_ENV!=="production"?()=>{ir("Write operation failed: computed value is readonly")}:vt):(r=t.get,i=t.set);const a=new _p(r,i,s||!i,n);return process.env.NODE_ENV!=="production"&&e&&!n&&(a.effect.onTrack=e.onTrack,a.effect.onTrigger=e.onTrigger),a}function bp(t){var e;oi&&zi&&(t=Ee(t),tp(zi,(e=t.dep)!=null?e:t.dep=rp(()=>t.dep=void 0,t instanceof _p?t:void 0),process.env.NODE_ENV!=="production"?{target:t,type:"get",key:"value"}:void 0))}function dl(t,e=4,n){t=Ee(t);const r=t.dep;r&&np(r,e,process.env.NODE_ENV!=="production"?{target:t,type:"set",key:"value",newValue:n}:void 0)}function tt(t){return!!(t&&t.__v_isRef===!0)}function ge(t){return Ep(t,!1)}function at(t){return Ep(t,!0)}function Ep(t,e){return tt(t)?t:new EE(t,e)}class EE{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ee(e),this._value=n?e:Oa(e)}get value(){return bp(this),this._value}set value(e){const n=this.__v_isShallow||Ki(e)||Xi(e);e=n?e:Ee(e),si(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Oa(e),dl(this,4,e))}}function w(t){return tt(t)?t.value:t}const wE={get:(t,e,n)=>w(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return tt(i)&&!tt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function wp(t){return ar(t)?t:new Proxy(t,wE)}function kc(t){process.env.NODE_ENV!=="production"&&!hl(t)&&ir("toRefs() expects a reactive object but received a plain one.");const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=Sp(t,n);return e}class SE{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Q1(Ee(this._object),this._key)}}class OE{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function pl(t,e,n){return tt(t)?t:ve(t)?new OE(t):We(t)&&arguments.length>1?Sp(t,e,n):ge(t)}function Sp(t,e,n){const r=t[e];return tt(r)?r:new SE(t,e,n)}/**
* @vue/runtime-core v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Zi=[];function ml(t){Zi.push(t)}function gl(){Zi.pop()}function q(t,...e){Dr();const n=Zi.length?Zi[Zi.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=xE();if(r)Rr(r,n,11,[t+e.map(s=>{var a,o;return(o=(a=s.toString)==null?void 0:a.call(s))!=null?o:JSON.stringify(s)}).join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${Il(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${t}`,...e];i.length&&s.push(`
`,...ME(i)),console.warn(...s)}Ir()}function xE(){let t=Zi[Zi.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function ME(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...TE(n))}),e}function TE({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${Il(t.component,t.type,r)}`,s=">"+n;return t.props?[i,...NE(t.props),s]:[i+s]}function NE(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...Op(r,t[r]))}),n.length>3&&e.push(" ..."),e}function Op(t,e,n){return st(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:tt(e)?(e=Op(t,Ee(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):ve(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ee(e),n?e:[`${t}=`,e])}function LE(t,e){process.env.NODE_ENV!=="production"&&t!==void 0&&(typeof t!="number"?q(`${e} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&q(`${e} is NaN - the duration expression might be incorrect.`))}const Rc={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Rr(t,e,n,r){try{return r?t(...r):t()}catch(i){xa(i,e,n)}}function Tn(t,e,n,r){if(ve(t)){const i=Rr(t,e,n,r);return i&&wc(i)&&i.catch(s=>{xa(s,e,n)}),i}if(ue(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Tn(t[s],e,n,r));return i}else process.env.NODE_ENV!=="production"&&q(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof t}`)}function xa(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=process.env.NODE_ENV!=="production"?Rc[n]:`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Dr(),Rr(l,null,10,[t,a,o]),Ir();return}}CE(t,n,i,r)}function CE(t,e,n,r=!0){if(process.env.NODE_ENV!=="production"){const i=Rc[e];if(n&&ml(n),q(`Unhandled error${i?` during execution of ${i}`:""}`),n&&gl(),r)throw t;console.error(t)}else console.error(t)}let Ma=!1,$c=!1;const Vt=[];let or=0;const Cs=[];let $r=null,ci=0;const xp=Promise.resolve();let Fc=null;const AE=100;function yl(t){const e=Fc||xp;return t?e.then(this?t.bind(this):t):e}function PE(t){let e=or+1,n=Vt.length;for(;e<n;){const r=e+n>>>1,i=Vt[r],s=Ta(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function vl(t){(!Vt.length||!Vt.includes(t,Ma&&t.allowRecurse?or+1:or))&&(t.id==null?Vt.push(t):Vt.splice(PE(t.id),0,t),Mp())}function Mp(){!Ma&&!$c&&($c=!0,Fc=xp.then(Cp))}function DE(t){const e=Vt.indexOf(t);e>or&&Vt.splice(e,1)}function Tp(t){ue(t)?Cs.push(...t):(!$r||!$r.includes(t,t.allowRecurse?ci+1:ci))&&Cs.push(t),Mp()}function Np(t,e,n=Ma?or+1:0){for(process.env.NODE_ENV!=="production"&&(e=e||new Map);n<Vt.length;n++){const r=Vt[n];if(r&&r.pre){if(t&&r.id!==t.uid||process.env.NODE_ENV!=="production"&&Vc(e,r))continue;Vt.splice(n,1),n--,r()}}}function Lp(t){if(Cs.length){const e=[...new Set(Cs)].sort((n,r)=>Ta(n)-Ta(r));if(Cs.length=0,$r){$r.push(...e);return}for($r=e,process.env.NODE_ENV!=="production"&&(t=t||new Map),ci=0;ci<$r.length;ci++)process.env.NODE_ENV!=="production"&&Vc(t,$r[ci])||$r[ci]();$r=null,ci=0}}const Ta=t=>t.id==null?1/0:t.id,IE=(t,e)=>{const n=Ta(t)-Ta(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Cp(t){$c=!1,Ma=!0,process.env.NODE_ENV!=="production"&&(t=t||new Map),Vt.sort(IE);const e=process.env.NODE_ENV!=="production"?n=>Vc(t,n):vt;try{for(or=0;or<Vt.length;or++){const n=Vt[or];if(n&&n.active!==!1){if(process.env.NODE_ENV!=="production"&&e(n))continue;Rr(n,null,14)}}}finally{or=0,Vt.length=0,Lp(t),Ma=!1,Fc=null,(Vt.length||Cs.length)&&Cp(t)}}function Vc(t,e){if(!t.has(e))t.set(e,1);else{const n=t.get(e);if(n>AE){const r=e.ownerInstance,i=r&&gf(r.type);return xa(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else t.set(e,n+1)}}let fi=!1;const As=new Set;process.env.NODE_ENV!=="production"&&(tl().__VUE_HMR_RUNTIME__={createRecord:jc(Ap),rerender:jc($E),reload:jc(FE)});const Ji=new Map;function kE(t){const e=t.type.__hmrId;let n=Ji.get(e);n||(Ap(e,t.type),n=Ji.get(e)),n.instances.add(t)}function RE(t){Ji.get(t.type.__hmrId).instances.delete(t)}function Ap(t,e){return Ji.has(t)?!1:(Ji.set(t,{initialDef:Na(e),instances:new Set}),!0)}function Na(t){return Im(t)?t.__vccOpts:t}function $E(t,e){const n=Ji.get(t);!n||(n.initialDef.render=e,[...n.instances].forEach(r=>{e&&(r.render=e,Na(r.type).render=e),r.renderCache=[],fi=!0,r.effect.dirty=!0,r.update(),fi=!1}))}function FE(t,e){const n=Ji.get(t);if(!n)return;e=Na(e),Pp(n.initialDef,e);const r=[...n.instances];for(const i of r){const s=Na(i.type);As.has(s)||(s!==n.initialDef&&Pp(s,e),As.add(s)),i.appContext.propsCache.delete(i.type),i.appContext.emitsCache.delete(i.type),i.appContext.optionsCache.delete(i.type),i.ceReload?(As.add(s),i.ceReload(e.styles),As.delete(s)):i.parent?(i.parent.effect.dirty=!0,vl(i.parent.update)):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}Tp(()=>{for(const i of r)As.delete(Na(i.type))})}function Pp(t,e){Qe(t,e);for(const n in t)n!=="__file"&&!(n in e)&&delete t[n]}function jc(t){return(e,n)=>{try{return t(e,n)}catch(r){console.error(r),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Bn,La=[],Gc=!1;function Ca(t,...e){Bn?Bn.emit(t,...e):Gc||La.push({event:t,args:e})}function Uc(t,e){var n,r;Bn=t,Bn?(Bn.enabled=!0,La.forEach(({event:i,args:s})=>Bn.emit(i,...s)),La=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Uc(s,e)}),setTimeout(()=>{Bn||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Gc=!0,La=[])},3e3)):(Gc=!0,La=[])}function VE(t,e){Ca("app:init",t,e,{Fragment:Fe,Text:$a,Comment:Nt,Static:Ll})}function jE(t){Ca("app:unmount",t)}const GE=Bc("component:added"),Dp=Bc("component:updated"),UE=Bc("component:removed"),BE=t=>{Bn&&typeof Bn.cleanupBuffer=="function"&&!Bn.cleanupBuffer(t)&&UE(t)};/*! #__NO_SIDE_EFFECTS__ */function Bc(t){return e=>{Ca(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const WE=Ip("perf:start"),qE=Ip("perf:end");function Ip(t){return(e,n,r)=>{Ca(t,e.appContext.app,e.uid,e,n,r)}}function HE(t,e,n){Ca("component:emit",t.appContext.app,t,e,n)}function zE(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ze;if(process.env.NODE_ENV!=="production"){const{emitsOptions:f,propsOptions:[c]}=t;if(f)if(!(e in f))(!c||!(Hi(e)in c))&&q(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${Hi(e)}" prop.`);else{const h=f[e];ve(h)&&(h(...n)||q(`Invalid event arguments: event validation failed for event "${e}".`))}}let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:c,trim:h}=r[f]||Ze;h&&(i=n.map(d=>st(d)?d.trim():d)),c&&(i=n.map(F1))}if(process.env.NODE_ENV!=="production"&&HE(t,e,i),process.env.NODE_ENV!=="production"){const f=e.toLowerCase();f!==e&&r[Hi(f)]&&q(`Event "${f}" is emitted in component ${Il(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${an(e)}" instead of "${e}".`)}let o,l=r[o=Hi(e)]||r[o=Hi(yn(e))];!l&&s&&(l=r[o=Hi(an(e))]),l&&Tn(l,t,6,i);const u=r[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Tn(u,t,6,i)}}function kp(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!ve(t)){const l=u=>{const f=kp(u,e,!0);f&&(o=!0,Qe(a,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(We(t)&&r.set(t,null),null):(ue(s)?s.forEach(l=>a[l]=null):Qe(a,s),We(t)&&r.set(t,a),a)}function _l(t,e){return!t||!Ea(e)?!1:(e=e.slice(2).replace(/Once$/,""),ke(t,e[0].toLowerCase()+e.slice(1))||ke(t,an(e))||ke(t,e))}let pt=null,Rp=null;function bl(t){const e=pt;return pt=t,Rp=t&&t.type.__scopeId||null,e}function jt(t,e=pt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Om(-1);const s=bl(e);let a;try{a=t(...i)}finally{bl(s),r._d&&Om(1)}return process.env.NODE_ENV!=="production"&&Dp(e),a};return r._n=!0,r._c=!0,r._d=!0,r}let Wc=!1;function El(){Wc=!0}function qc(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:f,props:c,data:h,setupState:d,ctx:p,inheritAttrs:m}=t,g=bl(t);let y,v;process.env.NODE_ENV!=="production"&&(Wc=!1);try{if(n.shapeFlag&4){const O=i||r,T=process.env.NODE_ENV!=="production"&&d.__isScriptSetup?new Proxy(O,{get(M,R,F){return q(`Property '${String(R)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(M,R,F)}}):O;y=qn(u.call(T,O,f,process.env.NODE_ENV!=="production"?kr(c):c,d,h,p)),v=o}else{const O=e;process.env.NODE_ENV!=="production"&&o===c&&El(),y=qn(O.length>1?O(process.env.NODE_ENV!=="production"?kr(c):c,process.env.NODE_ENV!=="production"?{get attrs(){return El(),o},slots:a,emit:l}:{attrs:o,slots:a,emit:l}):O(process.env.NODE_ENV!=="production"?kr(c):c,null)),v=e.props?o:YE(o)}}catch(O){Fa.length=0,xa(O,t,1),y=Q(Nt)}let E=y,b;if(process.env.NODE_ENV!=="production"&&y.patchFlag>0&&y.patchFlag&2048&&([E,b]=$p(y)),v&&m!==!1){const O=Object.keys(v),{shapeFlag:T}=E;if(O.length){if(T&7)s&&O.some(Jo)&&(v=XE(v,s)),E=lr(E,v);else if(process.env.NODE_ENV!=="production"&&!Wc&&E.type!==Nt){const M=Object.keys(o),R=[],F=[];for(let A=0,D=M.length;A<D;A++){const P=M[A];Ea(P)?Jo(P)||R.push(P[2].toLowerCase()+P.slice(3)):F.push(P)}F.length&&q(`Extraneous non-props attributes (${F.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),R.length&&q(`Extraneous non-emits event listeners (${R.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(process.env.NODE_ENV!=="production"&&!Fp(E)&&q("Runtime directive used on component with non-element root node. The directives will not function as intended."),E=lr(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(process.env.NODE_ENV!=="production"&&!Fp(E)&&q("Component inside <Transition> renders non-element root node that cannot be animated."),E.transition=n.transition),process.env.NODE_ENV!=="production"&&b?b(E):y=E,bl(g),y}const $p=t=>{const e=t.children,n=t.dynamicChildren,r=Hc(e,!1);if(r){if(process.env.NODE_ENV!=="production"&&r.patchFlag>0&&r.patchFlag&2048)return $p(r)}else return[t,void 0];const i=e.indexOf(r),s=n?n.indexOf(r):-1,a=o=>{e[i]=o,n&&(s>-1?n[s]=o:o.patchFlag>0&&(t.dynamicChildren=[...n,o]))};return[qn(r),a]};function Hc(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(ks(i)){if(i.type!==Nt||i.children==="v-if"){if(n)return;if(n=i,process.env.NODE_ENV!=="production"&&e&&n.patchFlag>0&&n.patchFlag&2048)return Hc(n.children)}}else return}return n}const YE=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ea(n))&&((e||(e={}))[n]=t[n]);return e},XE=(t,e)=>{const n={};for(const r in t)(!Jo(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n},Fp=t=>t.shapeFlag&7||t.type===Nt;function KE(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(process.env.NODE_ENV!=="production"&&(i||o)&&fi||e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Vp(r,a,u):!!a;if(l&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const h=f[c];if(a[h]!==r[h]&&!_l(u,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?Vp(r,a,u):!0:!!a;return!1}function Vp(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!_l(n,s))return!0}return!1}function ZE({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const zc="components",JE="directives";function QE(t,e){return jp(zc,t,!0,e)||t}const ew=Symbol.for("v-ndc");function Yc(t){return jp(JE,t)}function jp(t,e,n=!0,r=!1){const i=pt||St;if(i){const s=i.type;if(t===zc){const o=gf(s,!1);if(o&&(o===e||o===yn(e)||o===qi(yn(e))))return s}const a=Gp(i[t]||s[t],e)||Gp(i.appContext[t],e);if(!a&&r)return s;if(process.env.NODE_ENV!=="production"&&n&&!a){const o=t===zc?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";q(`Failed to resolve ${t.slice(0,-1)}: ${e}${o}`)}return a}else process.env.NODE_ENV!=="production"&&q(`resolve${qi(t.slice(0,-1))} can only be used in render() or setup().`)}function Gp(t,e){return t&&(t[e]||t[yn(e)]||t[qi(yn(e))])}const tw=t=>t.__isSuspense;function nw(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):Tp(t)}const rw=Symbol.for("v-scx"),iw=()=>{{const t=Ds(rw);return t||process.env.NODE_ENV!=="production"&&q("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function on(t,e){return Xc(t,null,e)}const wl={};function Ge(t,e,n){return process.env.NODE_ENV!=="production"&&!ve(e)&&q("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Xc(t,e,n)}function Xc(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:a,onTrigger:o}=Ze){if(e&&s){const M=e;e=(...R)=>{M(...R),T()}}process.env.NODE_ENV!=="production"&&r!==void 0&&typeof r=="number"&&q('watch() "deep" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.'),process.env.NODE_ENV!=="production"&&!e&&(n!==void 0&&q('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&q('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&q('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const l=M=>{q("Invalid watch source: ",M,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=St,f=M=>r===!0?M:Qi(M,r===!1?1:void 0);let c,h=!1,d=!1;if(tt(t)?(c=()=>t.value,h=Ki(t)):ar(t)?(c=()=>f(t),h=!0):ue(t)?(d=!0,h=t.some(M=>ar(M)||Ki(M)),c=()=>t.map(M=>{if(tt(M))return M.value;if(ar(M))return f(M);if(ve(M))return Rr(M,u,2);process.env.NODE_ENV!=="production"&&l(M)})):ve(t)?e?c=()=>Rr(t,u,2):c=()=>(p&&p(),Tn(t,u,3,[m])):(c=vt,process.env.NODE_ENV!=="production"&&l(t)),e&&r){const M=c;c=()=>Qi(M())}let p,m=M=>{p=b.onStop=()=>{Rr(M,u,4),p=b.onStop=void 0}},g;if(Pl)if(m=vt,e?n&&Tn(e,u,3,[c(),d?[]:void 0,m]):c(),i==="sync"){const M=iw();g=M.__watcherHandles||(M.__watcherHandles=[])}else return vt;let y=d?new Array(t.length).fill(wl):wl;const v=()=>{if(!(!b.active||!b.dirty))if(e){const M=b.run();(r||h||(d?M.some((R,F)=>si(R,y[F])):si(M,y)))&&(p&&p(),Tn(e,u,3,[M,y===wl?void 0:d&&y[0]===wl?[]:y,m]),y=M)}else b.run()};v.allowRecurse=!!e;let E;i==="sync"?E=v:i==="post"?E=()=>un(v,u&&u.suspense):(v.pre=!0,u&&(v.id=u.uid),E=()=>vl(v));const b=new Tc(c,vt,E),O=Kd(),T=()=>{b.stop(),O&&Ec(O.effects,b)};return process.env.NODE_ENV!=="production"&&(b.onTrack=a,b.onTrigger=o),e?n?v():y=b.run():i==="post"?un(b.run.bind(b),u&&u.suspense):b.run(),g&&g.push(T),T}function sw(t,e,n){const r=this.proxy,i=st(t)?t.includes(".")?Up(r,t):()=>r[t]:t.bind(r,r);let s;ve(e)?s=e:(s=e.handler,n=e);const a=Ga(this),o=Xc(i,s.bind(r),n);return a(),o}function Up(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Qi(t,e,n=0,r){if(!We(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),tt(t))Qi(t.value,e,n,r);else if(ue(t))for(let i=0;i<t.length;i++)Qi(t[i],e,n,r);else if(Gd(t)||Bi(t))t.forEach(i=>{Qi(i,e,n,r)});else if(Bd(t))for(const i in t)Qi(t[i],e,n,r);return t}function Bp(t){k1(t)&&q("Do not use built-in directive ids as custom directive id: "+t)}function Sl(t,e){if(pt===null)return process.env.NODE_ENV!=="production"&&q("withDirectives can only be used inside render functions."),t;const n=Dl(pt)||pt.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,o,l=Ze]=e[i];s&&(ve(s)&&(s={mounted:s,updated:s}),s.deep&&Qi(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function es(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(Dr(),Tn(l,n,8,[t.el,o,t,e]),Ir())}}const hi=Symbol("_leaveCb"),Ol=Symbol("_enterCb");function aw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ln(()=>{t.isMounted=!0}),Xp(()=>{t.isUnmounting=!0}),t}const Nn=[Function,Array],Wp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Nn,onEnter:Nn,onAfterEnter:Nn,onEnterCancelled:Nn,onBeforeLeave:Nn,onLeave:Nn,onAfterLeave:Nn,onLeaveCancelled:Nn,onBeforeAppear:Nn,onAppear:Nn,onAfterAppear:Nn,onAppearCancelled:Nn},ow={name:"BaseTransition",props:Wp,setup(t,{slots:e}){const n=Rs(),r=aw();return()=>{const i=e.default&&zp(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){let h=!1;for(const d of i)if(d.type!==Nt){if(process.env.NODE_ENV!=="production"&&h){q("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}if(s=d,h=!0,process.env.NODE_ENV==="production")break}}const a=Ee(t),{mode:o}=a;if(process.env.NODE_ENV!=="production"&&o&&o!=="in-out"&&o!=="out-in"&&o!=="default"&&q(`invalid <transition> mode: ${o}`),r.isLeaving)return Zc(s);const l=Hp(s);if(!l)return Zc(s);const u=Kc(l,a,r,n);Jc(l,u);const f=n.subTree,c=f&&Hp(f);if(c&&c.type!==Nt&&!rs(l,c)){const h=Kc(c,a,r,n);if(Jc(c,h),o==="out-in")return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Zc(s);o==="in-out"&&l.type!==Nt&&(h.delayLeave=(d,p,m)=>{const g=qp(r,c);g[String(c.key)]=c,d[hi]=()=>{p(),d[hi]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return s}}};function qp(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Kc(t,e,n,r){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:c,onLeave:h,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:y,onAppearCancelled:v}=e,E=String(t.key),b=qp(n,t),O=(R,F)=>{R&&Tn(R,r,9,F)},T=(R,F)=>{const A=F[1];O(R,F),ue(R)?R.every(D=>D.length<=1)&&A():R.length<=1&&A()},M={mode:s,persisted:a,beforeEnter(R){let F=o;if(!n.isMounted)if(i)F=m||o;else return;R[hi]&&R[hi](!0);const A=b[E];A&&rs(t,A)&&A.el[hi]&&A.el[hi](),O(F,[R])},enter(R){let F=l,A=u,D=f;if(!n.isMounted)if(i)F=g||l,A=y||u,D=v||f;else return;let P=!1;const te=R[Ol]=me=>{P||(P=!0,me?O(D,[R]):O(A,[R]),M.delayedLeave&&M.delayedLeave(),R[Ol]=void 0)};F?T(F,[R,te]):te()},leave(R,F){const A=String(t.key);if(R[Ol]&&R[Ol](!0),n.isUnmounting)return F();O(c,[R]);let D=!1;const P=R[hi]=te=>{D||(D=!0,F(),te?O(p,[R]):O(d,[R]),R[hi]=void 0,b[A]===t&&delete b[A])};b[A]=t,h?T(h,[R,P]):P()},clone(R){return Kc(R,e,n,r)}};return M}function Zc(t){if(Pa(t))return t=lr(t),t.children=null,t}function Hp(t){if(!Pa(t))return t;if(process.env.NODE_ENV!=="production"&&t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ve(n.default))return n.default()}}function Jc(t,e){t.shapeFlag&6&&t.component?Jc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function zp(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Fe?(a.patchFlag&128&&i++,r=r.concat(zp(a.children,e,o))):(e||a.type!==Nt)&&r.push(o!=null?lr(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ce(t,e){return ve(t)?(()=>Qe({name:t.name},e,{setup:t}))():t}const Aa=t=>!!t.type.__asyncLoader,Pa=t=>t.type.__isKeepAlive;function lw(t,e){Yp(t,"a",e)}function uw(t,e){Yp(t,"da",e)}function Yp(t,e,n=St){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(xl(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Pa(i.parent.vnode)&&cw(r,e,n,i),i=i.parent}}function cw(t,e,n,r){const i=xl(e,t,r,!0);di(()=>{Ec(r[e],i)},n)}function xl(t,e,n=St,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Dr();const o=Ga(n),l=Tn(e,n,t,a);return o(),Ir(),l});return r?i.unshift(s):i.push(s),s}else if(process.env.NODE_ENV!=="production"){const i=Hi(Rc[t].replace(/ hook$/,""));q(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Fr=t=>(e,n=St)=>(!Pl||t==="sp")&&xl(t,(...r)=>e(...r),n),fw=Fr("bm"),ln=Fr("m"),hw=Fr("bu"),dw=Fr("u"),Xp=Fr("bum"),di=Fr("um"),pw=Fr("sp"),mw=Fr("rtg"),gw=Fr("rtc");function yw(t,e=St){xl("ec",t,e)}function Ln(t,e,n,r){let i;const s=n&&n[r];if(ue(t)||st(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){process.env.NODE_ENV!=="production"&&!Number.isInteger(t)&&q(`The v-for range expect an integer value but got ${t}.`),i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(We(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];i[o]=e(t[u],u,o,s&&s[o])}}else i=[];return n&&(n[r]=i),i}function Da(t,e,n={},r,i){if(pt.isCE||pt.parent&&Aa(pt.parent)&&pt.parent.isCE)return e!=="default"&&(n.name=e),Q("slot",n,r&&r());let s=t[e];process.env.NODE_ENV!=="production"&&s&&s.length>1&&(q("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),s=()=>[]),s&&s._c&&(s._d=!1),L();const a=s&&Kp(s(n)),o=$e(Fe,{key:n.key||a&&a.key||`_${e}`},a||(r?r():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function Kp(t){return t.some(e=>ks(e)?!(e.type===Nt||e.type===Fe&&!Kp(e.children)):!0)?t:null}const Qc=t=>t?Cm(t)?Dl(t)||t.proxy:Qc(t.parent):null,ts=Qe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>process.env.NODE_ENV!=="production"?kr(t.props):t.props,$attrs:t=>process.env.NODE_ENV!=="production"?kr(t.attrs):t.attrs,$slots:t=>process.env.NODE_ENV!=="production"?kr(t.slots):t.slots,$refs:t=>process.env.NODE_ENV!=="production"?kr(t.refs):t.refs,$parent:t=>Qc(t.parent),$root:t=>Qc(t.root),$emit:t=>t.emit,$options:t=>rf(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,vl(t.update)}),$nextTick:t=>t.n||(t.n=yl.bind(t.proxy)),$watch:t=>sw.bind(t)}),ef=t=>t==="_"||t==="$",tf=(t,e)=>t!==Ze&&!t.__isScriptSetup&&ke(t,e),Zp={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;if(process.env.NODE_ENV!=="production"&&e==="__isVue")return!0;let u;if(e[0]!=="$"){const d=a[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(tf(r,e))return a[e]=1,r[e];if(i!==Ze&&ke(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&ke(u,e))return a[e]=3,s[e];if(n!==Ze&&ke(n,e))return a[e]=4,n[e];nf&&(a[e]=0)}}const f=ts[e];let c,h;if(f)return e==="$attrs"?(Pt(t.attrs,"get",""),process.env.NODE_ENV!=="production"&&El()):process.env.NODE_ENV!=="production"&&e==="$slots"&&Pt(t,"get",e),f(t);if((c=o.__cssModules)&&(c=c[e]))return c;if(n!==Ze&&ke(n,e))return a[e]=4,n[e];if(h=l.config.globalProperties,ke(h,e))return h[e];process.env.NODE_ENV!=="production"&&pt&&(!st(e)||e.indexOf("__v")!==0)&&(i!==Ze&&ef(e[0])&&ke(i,e)?q(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===pt&&q(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return tf(i,e)?(i[e]=n,!0):process.env.NODE_ENV!=="production"&&i.__isScriptSetup&&ke(i,e)?(q(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):r!==Ze&&ke(r,e)?(r[e]=n,!0):ke(t.props,e)?(process.env.NODE_ENV!=="production"&&q(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(process.env.NODE_ENV!=="production"&&q(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&e in t.appContext.config.globalProperties?Object.defineProperty(s,e,{enumerable:!0,configurable:!0,value:n}):s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==Ze&&ke(t,a)||tf(e,a)||(o=s[0])&&ke(o,a)||ke(r,a)||ke(ts,a)||ke(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ke(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};process.env.NODE_ENV!=="production"&&(Zp.ownKeys=t=>(q("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t)));function vw(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(ts).forEach(n=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:()=>ts[n](t),set:vt})}),e}function _w(t){const{ctx:e,propsOptions:[n]}=t;n&&Object.keys(n).forEach(r=>{Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>t.props[r],set:vt})})}function bw(t){const{ctx:e,setupState:n}=t;Object.keys(Ee(n)).forEach(r=>{if(!n.__isScriptSetup){if(ef(r[0])){q(`setup() return property ${JSON.stringify(r)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n[r],set:vt})}})}function Jp(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Ew(){const t=Object.create(null);return(e,n)=>{t[n]?q(`${e} property "${n}" is already defined in ${t[n]}.`):t[n]=e}}let nf=!0;function ww(t){const e=rf(t),n=t.proxy,r=t.ctx;nf=!1,e.beforeCreate&&Qp(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:f,beforeMount:c,mounted:h,beforeUpdate:d,updated:p,activated:m,deactivated:g,beforeDestroy:y,beforeUnmount:v,destroyed:E,unmounted:b,render:O,renderTracked:T,renderTriggered:M,errorCaptured:R,serverPrefetch:F,expose:A,inheritAttrs:D,components:P,directives:te,filters:me}=e,N=process.env.NODE_ENV!=="production"?Ew():null;if(process.env.NODE_ENV!=="production"){const[z]=t.propsOptions;if(z)for(const Z in z)N("Props",Z)}if(u&&Sw(u,r,N),a)for(const z in a){const Z=a[z];ve(Z)?(process.env.NODE_ENV!=="production"?Object.defineProperty(r,z,{value:Z.bind(n),configurable:!0,enumerable:!0,writable:!0}):r[z]=Z.bind(n),process.env.NODE_ENV!=="production"&&N("Methods",z)):process.env.NODE_ENV!=="production"&&q(`Method "${z}" has type "${typeof Z}" in the component definition. Did you reference the function correctly?`)}if(i){process.env.NODE_ENV!=="production"&&!ve(i)&&q("The data option must be a function. Plain object usage is no longer supported.");const z=i.call(n,n);if(process.env.NODE_ENV!=="production"&&wc(z)&&q("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!We(z))process.env.NODE_ENV!=="production"&&q("data() should return an object.");else if(t.data=cl(z),process.env.NODE_ENV!=="production")for(const Z in z)N("Data",Z),ef(Z[0])||Object.defineProperty(r,Z,{configurable:!0,enumerable:!0,get:()=>z[Z],set:vt})}if(nf=!0,s)for(const z in s){const Z=s[z],Ae=ve(Z)?Z.bind(n,n):ve(Z.get)?Z.get.bind(n,n):vt;process.env.NODE_ENV!=="production"&&Ae===vt&&q(`Computed property "${z}" has no getter.`);const De=!ve(Z)&&ve(Z.set)?Z.set.bind(n):process.env.NODE_ENV!=="production"?()=>{q(`Write operation failed: computed property "${z}" is readonly.`)}:vt,Et=fe({get:Ae,set:De});Object.defineProperty(r,z,{enumerable:!0,configurable:!0,get:()=>Et.value,set:Kt=>Et.value=Kt}),process.env.NODE_ENV!=="production"&&N("Computed",z)}if(o)for(const z in o)em(o[z],r,n,z);if(l){const z=ve(l)?l.call(n):l;Reflect.ownKeys(z).forEach(Z=>{im(Z,z[Z])})}f&&Qp(f,t,"c");function V(z,Z){ue(Z)?Z.forEach(Ae=>z(Ae.bind(n))):Z&&z(Z.bind(n))}if(V(fw,c),V(ln,h),V(hw,d),V(dw,p),V(lw,m),V(uw,g),V(yw,R),V(gw,T),V(mw,M),V(Xp,v),V(di,b),V(pw,F),ue(A))if(A.length){const z=t.exposed||(t.exposed={});A.forEach(Z=>{Object.defineProperty(z,Z,{get:()=>n[Z],set:Ae=>n[Z]=Ae})})}else t.exposed||(t.exposed={});O&&t.render===vt&&(t.render=O),D!=null&&(t.inheritAttrs=D),P&&(t.components=P),te&&(t.directives=te)}function Sw(t,e,n=vt){ue(t)&&(t=sf(t));for(const r in t){const i=t[r];let s;We(i)?"default"in i?s=Ds(i.from||r,i.default,!0):s=Ds(i.from||r):s=Ds(i),tt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s,process.env.NODE_ENV!=="production"&&n("Inject",r)}}function Qp(t,e,n){Tn(ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function em(t,e,n,r){const i=r.includes(".")?Up(n,r):()=>n[r];if(st(t)){const s=e[t];ve(s)?Ge(i,s):process.env.NODE_ENV!=="production"&&q(`Invalid watch handler specified by key "${t}"`,s)}else if(ve(t))Ge(i,t.bind(n));else if(We(t))if(ue(t))t.forEach(s=>em(s,e,n,r));else{const s=ve(t.handler)?t.handler.bind(n):e[t.handler];ve(s)?Ge(i,s,t):process.env.NODE_ENV!=="production"&&q(`Invalid watch handler specified by key "${t.handler}"`,s)}else process.env.NODE_ENV!=="production"&&q(`Invalid watch option: "${r}"`,t)}function rf(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Ml(l,u,a,!0)),Ml(l,e,a)),We(e)&&s.set(e,l),l}function Ml(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Ml(t,s,n,!0),i&&i.forEach(a=>Ml(t,a,n,!0));for(const a in e)if(r&&a==="expose")process.env.NODE_ENV!=="production"&&q('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const o=Ow[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const Ow={data:tm,props:nm,emits:nm,methods:Ia,computed:Ia,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:Ia,directives:Ia,watch:Mw,provide:tm,inject:xw};function tm(t,e){return e?t?function(){return Qe(ve(t)?t.call(this,this):t,ve(e)?e.call(this,this):e)}:e:t}function xw(t,e){return Ia(sf(t),sf(e))}function sf(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Jt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ia(t,e){return t?Qe(Object.create(null),t,e):e}function nm(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:Qe(Object.create(null),Jp(t),Jp(e!=null?e:{})):e}function Mw(t,e){if(!t)return e;if(!e)return t;const n=Qe(Object.create(null),t);for(const r in e)n[r]=Jt(t[r],e[r]);return n}function rm(){return{app:null,config:{isNativeTag:D1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tw=0;function Nw(t,e){return function(r,i=null){ve(r)||(r=Qe({},r)),i!=null&&!We(i)&&(process.env.NODE_ENV!=="production"&&q("root props passed to app.mount() must be an object."),i=null);const s=rm(),a=new WeakSet;let o=!1;const l=s.app={_uid:Tw++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:km,get config(){return s.config},set config(u){process.env.NODE_ENV!=="production"&&q("app.config cannot be replaced. Modify individual options instead.")},use(u,...f){return a.has(u)?process.env.NODE_ENV!=="production"&&q("Plugin has already been applied to target app."):u&&ve(u.install)?(a.add(u),u.install(l,...f)):ve(u)?(a.add(u),u(l,...f)):process.env.NODE_ENV!=="production"&&q('A plugin must either be a function or an object with an "install" function.'),l},mixin(u){return s.mixins.includes(u)?process.env.NODE_ENV!=="production"&&q("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):s.mixins.push(u),l},component(u,f){return process.env.NODE_ENV!=="production"&&pf(u,s.config),f?(process.env.NODE_ENV!=="production"&&s.components[u]&&q(`Component "${u}" has already been registered in target app.`),s.components[u]=f,l):s.components[u]},directive(u,f){return process.env.NODE_ENV!=="production"&&Bp(u),f?(process.env.NODE_ENV!=="production"&&s.directives[u]&&q(`Directive "${u}" has already been registered in target app.`),s.directives[u]=f,l):s.directives[u]},mount(u,f,c){if(o)process.env.NODE_ENV!=="production"&&q("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{process.env.NODE_ENV!=="production"&&u.__vue_app__&&q("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=Q(r,i);return h.appContext=s,c===!0?c="svg":c===!1&&(c=void 0),process.env.NODE_ENV!=="production"&&(s.reload=()=>{t(lr(h),u,c)}),f&&e?e(h,u):t(h,u,c),o=!0,l._container=u,u.__vue_app__=l,process.env.NODE_ENV!=="production"&&(l._instance=h.component,VE(l,km)),Dl(h.component)||h.component.proxy}},unmount(){o?(t(null,l._container),process.env.NODE_ENV!=="production"&&(l._instance=null,jE(l)),delete l._container.__vue_app__):process.env.NODE_ENV!=="production"&&q("Cannot unmount an app that is not mounted.")},provide(u,f){return process.env.NODE_ENV!=="production"&&u in s.provides&&q(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),s.provides[u]=f,l},runWithContext(u){const f=Ps;Ps=l;try{return u()}finally{Ps=f}}};return l}}let Ps=null;function im(t,e){if(!St)process.env.NODE_ENV!=="production"&&q("provide() can only be used inside setup().");else{let n=St.provides;const r=St.parent&&St.parent.provides;r===n&&(n=St.provides=Object.create(r)),n[t]=e}}function Ds(t,e,n=!1){const r=St||pt;if(r||Ps){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ps._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ve(e)?e.call(r&&r.proxy):e;process.env.NODE_ENV!=="production"&&q(`injection "${String(t)}" not found.`)}else process.env.NODE_ENV!=="production"&&q("inject() can only be used inside setup() or functional components.")}function Lw(){return!!(St||pt||Ps)}const sm={},am=()=>Object.create(sm),om=t=>Object.getPrototypeOf(t)===sm;function Cw(t,e,n,r=!1){const i={},s=am();t.propsDefaults=Object.create(null),lm(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);process.env.NODE_ENV!=="production"&&dm(e||{},i,t),n?t.props=r?i:vE(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Aw(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function Pw(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=Ee(i),[l]=t.propsOptions;let u=!1;if(!(process.env.NODE_ENV!=="production"&&Aw(t))&&(r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let h=f[c];if(_l(t.emitsOptions,h))continue;const d=e[h];if(l)if(ke(s,h))d!==s[h]&&(s[h]=d,u=!0);else{const p=yn(h);i[p]=af(l,o,p,d,t,!1)}else d!==s[h]&&(s[h]=d,u=!0)}}}else{lm(t,e,i,s)&&(u=!0);let f;for(const c in o)(!e||!ke(e,c)&&((f=an(c))===c||!ke(e,f)))&&(l?n&&(n[c]!==void 0||n[f]!==void 0)&&(i[c]=af(l,o,c,void 0,t,!0)):delete i[c]);if(s!==o)for(const c in s)(!e||!ke(e,c)&&!0)&&(delete s[c],u=!0)}u&&sr(t.attrs,"set",""),process.env.NODE_ENV!=="production"&&dm(e||{},i,t)}function lm(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(wa(l))continue;const u=e[l];let f;i&&ke(i,f=yn(l))?!s||!s.includes(f)?n[f]=u:(o||(o={}))[f]=u:_l(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(s){const l=Ee(n),u=o||Ze;for(let f=0;f<s.length;f++){const c=s[f];n[c]=af(i,l,c,u[c],t,!ke(u,c))}}return a}function af(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=ke(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ve(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const f=Ga(i);r=u[n]=l.call(null,e),f()}}else r=l}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===an(n))&&(r=!0))}return r}function um(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!ve(t)){const f=c=>{l=!0;const[h,d]=um(c,e,!0);Qe(a,h),d&&o.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!l)return We(t)&&r.set(t,Ls),Ls;if(ue(s))for(let f=0;f<s.length;f++){process.env.NODE_ENV!=="production"&&!st(s[f])&&q("props must be strings when using array syntax.",s[f]);const c=yn(s[f]);cm(c)&&(a[c]=Ze)}else if(s){process.env.NODE_ENV!=="production"&&!We(s)&&q("invalid props options",s);for(const f in s){const c=yn(f);if(cm(c)){const h=s[f],d=a[c]=ue(h)||ve(h)?{type:h}:Qe({},h);if(d){const p=hm(Boolean,d.type),m=hm(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||ke(d,"default"))&&o.push(c)}}}}const u=[a,o];return We(t)&&r.set(t,u),u}function cm(t){return t[0]!=="$"&&!wa(t)?!0:(process.env.NODE_ENV!=="production"&&q(`Invalid prop name: "${t}" is a reserved property.`),!1)}function of(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function fm(t,e){return of(t)===of(e)}function hm(t,e){return ue(e)?e.findIndex(n=>fm(n,t)):ve(e)&&fm(e,t)?0:-1}function dm(t,e,n){const r=Ee(e),i=n.propsOptions[0];for(const s in i){let a=i[s];a!=null&&Dw(s,r[s],a,process.env.NODE_ENV!=="production"?kr(r):r,!ke(t,s)&&!ke(t,an(s)))}}function Dw(t,e,n,r,i){const{type:s,required:a,validator:o,skipCheck:l}=n;if(a&&i){q('Missing required prop: "'+t+'"');return}if(!(e==null&&!a)){if(s!=null&&s!==!0&&!l){let u=!1;const f=ue(s)?s:[s],c=[];for(let h=0;h<f.length&&!u;h++){const{valid:d,expectedType:p}=kw(e,f[h]);c.push(p||""),u=d}if(!u){q(Rw(t,e,c));return}}o&&!o(e,r)&&q('Invalid prop: custom validator check failed for prop "'+t+'".')}}const Iw=Pr("String,Number,Boolean,Function,Symbol,BigInt");function kw(t,e){let n;const r=of(e);if(Iw(r)){const i=typeof t;n=i===r.toLowerCase(),!n&&i==="object"&&(n=t instanceof e)}else r==="Object"?n=We(t):r==="Array"?n=ue(t):r==="null"?n=t===null:n=t instanceof e;return{valid:n,expectedType:r}}function Rw(t,e,n){if(n.length===0)return`Prop type [] for prop "${t}" won't match anything. Did you mean to use type Array instead?`;let r=`Invalid prop: type check failed for prop "${t}". Expected ${n.map(qi).join(" | ")}`;const i=n[0],s=Sc(e),a=pm(e,i),o=pm(e,s);return n.length===1&&mm(i)&&!$w(i,s)&&(r+=` with value ${a}`),r+=`, got ${s} `,mm(s)&&(r+=`with value ${o}.`),r}function pm(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function mm(t){return["string","number","boolean"].some(n=>t.toLowerCase()===n)}function $w(...t){return t.some(e=>e.toLowerCase()==="boolean")}const gm=t=>t[0]==="_"||t==="$stable",lf=t=>ue(t)?t.map(qn):[qn(t)],Fw=(t,e,n)=>{if(e._n)return e;const r=jt((...i)=>(process.env.NODE_ENV!=="production"&&St&&(!n||n.root===St.root)&&q(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),lf(e(...i))),n);return r._c=!1,r},ym=(t,e,n)=>{const r=t._ctx;for(const i in t){if(gm(i))continue;const s=t[i];if(ve(s))e[i]=Fw(i,s,r);else if(s!=null){process.env.NODE_ENV!=="production"&&q(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const a=lf(s);e[i]=()=>a}}},vm=(t,e)=>{process.env.NODE_ENV!=="production"&&!Pa(t.vnode)&&q("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=lf(e);t.slots.default=()=>n},Vw=(t,e)=>{const n=t.slots=am();if(t.vnode.shapeFlag&32){const r=e._;r?(Qe(n,e),Wd(n,"_",r)):ym(e,n)}else e&&vm(t,e)},jw=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=Ze;if(r.shapeFlag&32){const o=e._;o?process.env.NODE_ENV!=="production"&&fi?(Qe(i,e),sr(t,"set","$slots")):n&&o===1?s=!1:(Qe(i,e),!n&&o===1&&delete i._):(s=!e.$stable,ym(e,i)),a=e}else e&&(vm(t,e),a={default:1});if(s)for(const o in i)!gm(o)&&a[o]==null&&delete i[o]};function uf(t,e,n,r,i=!1){if(ue(t)){t.forEach((h,d)=>uf(h,e&&(ue(e)?e[d]:e),n,r,i));return}if(Aa(r)&&!i)return;const s=r.shapeFlag&4?Dl(r.component)||r.component.proxy:r.el,a=i?null:s,{i:o,r:l}=t;if(process.env.NODE_ENV!=="production"&&!o){q("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=e&&e.r,f=o.refs===Ze?o.refs={}:o.refs,c=o.setupState;if(u!=null&&u!==l&&(st(u)?(f[u]=null,ke(c,u)&&(c[u]=null)):tt(u)&&(u.value=null)),ve(l))Rr(l,o,12,[a,f]);else{const h=st(l),d=tt(l);if(h||d){const p=()=>{if(t.f){const m=h?ke(c,l)?c[l]:f[l]:l.value;i?ue(m)&&Ec(m,s):ue(m)?m.includes(s)||m.push(s):h?(f[l]=[s],ke(c,l)&&(c[l]=f[l])):(l.value=[s],t.k&&(f[t.k]=l.value))}else h?(f[l]=a,ke(c,l)&&(c[l]=a)):d?(l.value=a,t.k&&(f[t.k]=a)):process.env.NODE_ENV!=="production"&&q("Invalid template ref type:",l,`(${typeof l})`)};a?(p.id=-1,un(p,n)):p()}else process.env.NODE_ENV!=="production"&&q("Invalid template ref type:",l,`(${typeof l})`)}}let ka,pi;function Vr(t,e){t.appContext.config.performance&&Tl()&&pi.mark(`vue-${e}-${t.uid}`),process.env.NODE_ENV!=="production"&&WE(t,e,Tl()?pi.now():Date.now())}function jr(t,e){if(t.appContext.config.performance&&Tl()){const n=`vue-${e}-${t.uid}`,r=n+":end";pi.mark(r),pi.measure(`<${Il(t,t.type)}> ${e}`,n,r),pi.clearMarks(n),pi.clearMarks(r)}process.env.NODE_ENV!=="production"&&qE(t,e,Tl()?pi.now():Date.now())}function Tl(){return ka!==void 0||(typeof window<"u"&&window.performance?(ka=!0,pi=window.performance):ka=!1),ka}function Gw(){const t=[];if(typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(process.env.NODE_ENV!=="production"&&t.push("__VUE_PROD_HYDRATION_MISMATCH_DETAILS__"),tl().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1),process.env.NODE_ENV!=="production"&&t.length){const e=t.length>1;console.warn(`Feature flag${e?"s":""} ${t.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const un=nw;function Uw(t){return Bw(t)}function Bw(t,e){Gw();const n=tl();n.__VUE__=!0,process.env.NODE_ENV!=="production"&&Uc(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:f,parentNode:c,nextSibling:h,setScopeId:d=vt,insertStaticContent:p}=t,m=(_,S,k,j=null,G=null,W=null,J=void 0,B=null,K=process.env.NODE_ENV!=="production"&&fi?!1:!!S.dynamicChildren)=>{if(_===S)return;_&&!rs(_,S)&&(j=pn(_),Le(_,G,W,!0),_=null),S.patchFlag===-2&&(K=!1,S.dynamicChildren=null);const{type:U,ref:ie,shapeFlag:he}=S;switch(U){case $a:g(_,S,k,j);break;case Nt:y(_,S,k,j);break;case Ll:_==null?v(S,k,j,J):process.env.NODE_ENV!=="production"&&E(_,S,k,J);break;case Fe:te(_,S,k,j,G,W,J,B,K);break;default:he&1?T(_,S,k,j,G,W,J,B,K):he&6?me(_,S,k,j,G,W,J,B,K):he&64||he&128?U.process(_,S,k,j,G,W,J,B,K,$t):process.env.NODE_ENV!=="production"&&q("Invalid VNode type:",U,`(${typeof U})`)}ie!=null&&G&&uf(ie,_&&_.ref,W,S||_,!S)},g=(_,S,k,j)=>{if(_==null)r(S.el=o(S.children),k,j);else{const G=S.el=_.el;S.children!==_.children&&u(G,S.children)}},y=(_,S,k,j)=>{_==null?r(S.el=l(S.children||""),k,j):S.el=_.el},v=(_,S,k,j)=>{[_.el,_.anchor]=p(_.children,S,k,j,_.el,_.anchor)},E=(_,S,k,j)=>{if(S.children!==_.children){const G=h(_.anchor);O(_),[S.el,S.anchor]=p(S.children,k,G,j)}else S.el=_.el,S.anchor=_.anchor},b=({el:_,anchor:S},k,j)=>{let G;for(;_&&_!==S;)G=h(_),r(_,k,j),_=G;r(S,k,j)},O=({el:_,anchor:S})=>{let k;for(;_&&_!==S;)k=h(_),i(_),_=k;i(S)},T=(_,S,k,j,G,W,J,B,K)=>{S.type==="svg"?J="svg":S.type==="math"&&(J="mathml"),_==null?M(S,k,j,G,W,J,B,K):A(_,S,G,W,J,B,K)},M=(_,S,k,j,G,W,J,B)=>{let K,U;const{props:ie,shapeFlag:he,transition:le,dirs:ye}=_;if(K=_.el=a(_.type,W,ie&&ie.is,ie),he&8?f(K,_.children):he&16&&F(_.children,K,null,j,G,cf(_,W),J,B),ye&&es(_,null,j,"created"),R(K,_,_.scopeId,J,j),ie){for(const Be in ie)Be!=="value"&&!wa(Be)&&s(K,Be,null,ie[Be],W,_.children,j,G,Re);"value"in ie&&s(K,"value",null,ie.value,W),(U=ie.onVnodeBeforeMount)&&ur(U,j,_)}process.env.NODE_ENV!=="production"&&(Object.defineProperty(K,"__vnode",{value:_,enumerable:!1}),Object.defineProperty(K,"__vueParentComponent",{value:j,enumerable:!1})),ye&&es(_,null,j,"beforeMount");const Te=Ww(G,le);Te&&le.beforeEnter(K),r(K,S,k),((U=ie&&ie.onVnodeMounted)||Te||ye)&&un(()=>{U&&ur(U,j,_),Te&&le.enter(K),ye&&es(_,null,j,"mounted")},G)},R=(_,S,k,j,G)=>{if(k&&d(_,k),j)for(let W=0;W<j.length;W++)d(_,j[W]);if(G){let W=G.subTree;if(process.env.NODE_ENV!=="production"&&W.patchFlag>0&&W.patchFlag&2048&&(W=Hc(W.children)||W),S===W){const J=G.vnode;R(_,J,J.scopeId,J.slotScopeIds,G.parent)}}},F=(_,S,k,j,G,W,J,B,K=0)=>{for(let U=K;U<_.length;U++){const ie=_[U]=B?mi(_[U]):qn(_[U]);m(null,ie,S,k,j,G,W,J,B)}},A=(_,S,k,j,G,W,J)=>{const B=S.el=_.el;let{patchFlag:K,dynamicChildren:U,dirs:ie}=S;K|=_.patchFlag&16;const he=_.props||Ze,le=S.props||Ze;let ye;if(k&&ns(k,!1),(ye=le.onVnodeBeforeUpdate)&&ur(ye,k,S,_),ie&&es(S,_,k,"beforeUpdate"),k&&ns(k,!0),process.env.NODE_ENV!=="production"&&fi&&(K=0,J=!1,U=null),U?(D(_.dynamicChildren,U,B,k,j,cf(S,G),W),process.env.NODE_ENV!=="production"&&Ra(_,S)):J||Ae(_,S,B,null,k,j,cf(S,G),W,!1),K>0){if(K&16)P(B,S,he,le,k,j,G);else if(K&2&&he.class!==le.class&&s(B,"class",null,le.class,G),K&4&&s(B,"style",he.style,le.style,G),K&8){const Te=S.dynamicProps;for(let Be=0;Be<Te.length;Be++){const et=Te[Be],wt=he[et],sn=le[et];(sn!==wt||et==="value")&&s(B,et,wt,sn,G,_.children,k,j,Re)}}K&1&&_.children!==S.children&&f(B,S.children)}else!J&&U==null&&P(B,S,he,le,k,j,G);((ye=le.onVnodeUpdated)||ie)&&un(()=>{ye&&ur(ye,k,S,_),ie&&es(S,_,k,"updated")},j)},D=(_,S,k,j,G,W,J)=>{for(let B=0;B<S.length;B++){const K=_[B],U=S[B],ie=K.el&&(K.type===Fe||!rs(K,U)||K.shapeFlag&70)?c(K.el):k;m(K,U,ie,null,j,G,W,J,!0)}},P=(_,S,k,j,G,W,J)=>{if(k!==j){if(k!==Ze)for(const B in k)!wa(B)&&!(B in j)&&s(_,B,k[B],null,J,S.children,G,W,Re);for(const B in j){if(wa(B))continue;const K=j[B],U=k[B];K!==U&&B!=="value"&&s(_,B,U,K,J,S.children,G,W,Re)}"value"in j&&s(_,"value",k.value,j.value,J)}},te=(_,S,k,j,G,W,J,B,K)=>{const U=S.el=_?_.el:o(""),ie=S.anchor=_?_.anchor:o("");let{patchFlag:he,dynamicChildren:le,slotScopeIds:ye}=S;process.env.NODE_ENV!=="production"&&(fi||he&2048)&&(he=0,K=!1,le=null),ye&&(B=B?B.concat(ye):ye),_==null?(r(U,k,j),r(ie,k,j),F(S.children||[],k,ie,G,W,J,B,K)):he>0&&he&64&&le&&_.dynamicChildren?(D(_.dynamicChildren,le,k,G,W,J,B),process.env.NODE_ENV!=="production"?Ra(_,S):(S.key!=null||G&&S===G.subTree)&&Ra(_,S,!0)):Ae(_,S,k,ie,G,W,J,B,K)},me=(_,S,k,j,G,W,J,B,K)=>{S.slotScopeIds=B,_==null?S.shapeFlag&512?G.ctx.activate(S,k,j,J,K):N(S,k,j,G,W,J,K):V(_,S,K)},N=(_,S,k,j,G,W,J)=>{const B=_.component=tS(_,j,G);if(process.env.NODE_ENV!=="production"&&B.type.__hmrId&&kE(B),process.env.NODE_ENV!=="production"&&(ml(_),Vr(B,"mount")),Pa(_)&&(B.ctx.renderer=$t),process.env.NODE_ENV!=="production"&&Vr(B,"init"),rS(B),process.env.NODE_ENV!=="production"&&jr(B,"init"),B.asyncDep){if(G&&G.registerDep(B,z),!_.el){const K=B.subTree=Q(Nt);y(null,K,S,k)}}else z(B,_,S,k,G,W,J);process.env.NODE_ENV!=="production"&&(gl(),jr(B,"mount"))},V=(_,S,k)=>{const j=S.component=_.component;if(KE(_,S,k))if(j.asyncDep&&!j.asyncResolved){process.env.NODE_ENV!=="production"&&ml(S),Z(j,S,k),process.env.NODE_ENV!=="production"&&gl();return}else j.next=S,DE(j.update),j.effect.dirty=!0,j.update();else S.el=_.el,j.vnode=S},z=(_,S,k,j,G,W,J)=>{const B=()=>{if(_.isMounted){let{next:ie,bu:he,u:le,parent:ye,vnode:Te}=_;{const ri=_m(_);if(ri){ie&&(ie.el=Te.el,Z(_,ie,J)),ri.asyncDep.then(()=>{_.isUnmounted||B()});return}}let Be=ie,et;process.env.NODE_ENV!=="production"&&ml(ie||_.vnode),ns(_,!1),ie?(ie.el=Te.el,Z(_,ie,J)):ie=Te,he&&Sa(he),(et=ie.props&&ie.props.onVnodeBeforeUpdate)&&ur(et,ye,ie,Te),ns(_,!0),process.env.NODE_ENV!=="production"&&Vr(_,"render");const wt=qc(_);process.env.NODE_ENV!=="production"&&jr(_,"render");const sn=_.subTree;_.subTree=wt,process.env.NODE_ENV!=="production"&&Vr(_,"patch"),m(sn,wt,c(sn.el),pn(sn),_,G,W),process.env.NODE_ENV!=="production"&&jr(_,"patch"),ie.el=wt.el,Be===null&&ZE(_,wt.el),le&&un(le,G),(et=ie.props&&ie.props.onVnodeUpdated)&&un(()=>ur(et,ye,ie,Te),G),process.env.NODE_ENV!=="production"&&Dp(_),process.env.NODE_ENV!=="production"&&gl()}else{let ie;const{el:he,props:le}=S,{bm:ye,m:Te,parent:Be}=_,et=Aa(S);if(ns(_,!1),ye&&Sa(ye),!et&&(ie=le&&le.onVnodeBeforeMount)&&ur(ie,Be,S),ns(_,!0),he&&ni){const wt=()=>{process.env.NODE_ENV!=="production"&&Vr(_,"render"),_.subTree=qc(_),process.env.NODE_ENV!=="production"&&jr(_,"render"),process.env.NODE_ENV!=="production"&&Vr(_,"hydrate"),ni(he,_.subTree,_,G,null),process.env.NODE_ENV!=="production"&&jr(_,"hydrate")};et?S.type.__asyncLoader().then(()=>!_.isUnmounted&&wt()):wt()}else{process.env.NODE_ENV!=="production"&&Vr(_,"render");const wt=_.subTree=qc(_);process.env.NODE_ENV!=="production"&&jr(_,"render"),process.env.NODE_ENV!=="production"&&Vr(_,"patch"),m(null,wt,k,j,_,G,W),process.env.NODE_ENV!=="production"&&jr(_,"patch"),S.el=wt.el}if(Te&&un(Te,G),!et&&(ie=le&&le.onVnodeMounted)){const wt=S;un(()=>ur(ie,Be,wt),G)}(S.shapeFlag&256||Be&&Aa(Be.vnode)&&Be.vnode.shapeFlag&256)&&_.a&&un(_.a,G),_.isMounted=!0,process.env.NODE_ENV!=="production"&&GE(_),S=k=j=null}},K=_.effect=new Tc(B,vt,()=>vl(U),_.scope),U=_.update=()=>{K.dirty&&K.run()};U.id=_.uid,ns(_,!0),process.env.NODE_ENV!=="production"&&(K.onTrack=_.rtc?ie=>Sa(_.rtc,ie):void 0,K.onTrigger=_.rtg?ie=>Sa(_.rtg,ie):void 0,U.ownerInstance=_),U()},Z=(_,S,k)=>{S.component=_;const j=_.vnode.props;_.vnode=S,_.next=null,Pw(_,S.props,j,k),jw(_,S.children,k),Dr(),Np(_),Ir()},Ae=(_,S,k,j,G,W,J,B,K=!1)=>{const U=_&&_.children,ie=_?_.shapeFlag:0,he=S.children,{patchFlag:le,shapeFlag:ye}=S;if(le>0){if(le&128){Et(U,he,k,j,G,W,J,B,K);return}else if(le&256){De(U,he,k,j,G,W,J,B,K);return}}ye&8?(ie&16&&Re(U,G,W),he!==U&&f(k,he)):ie&16?ye&16?Et(U,he,k,j,G,W,J,B,K):Re(U,G,W,!0):(ie&8&&f(k,""),ye&16&&F(he,k,j,G,W,J,B,K))},De=(_,S,k,j,G,W,J,B,K)=>{_=_||Ls,S=S||Ls;const U=_.length,ie=S.length,he=Math.min(U,ie);let le;for(le=0;le<he;le++){const ye=S[le]=K?mi(S[le]):qn(S[le]);m(_[le],ye,k,null,G,W,J,B,K)}U>ie?Re(_,G,W,!0,!1,he):F(S,k,j,G,W,J,B,K,he)},Et=(_,S,k,j,G,W,J,B,K)=>{let U=0;const ie=S.length;let he=_.length-1,le=ie-1;for(;U<=he&&U<=le;){const ye=_[U],Te=S[U]=K?mi(S[U]):qn(S[U]);if(rs(ye,Te))m(ye,Te,k,null,G,W,J,B,K);else break;U++}for(;U<=he&&U<=le;){const ye=_[he],Te=S[le]=K?mi(S[le]):qn(S[le]);if(rs(ye,Te))m(ye,Te,k,null,G,W,J,B,K);else break;he--,le--}if(U>he){if(U<=le){const ye=le+1,Te=ye<ie?S[ye].el:j;for(;U<=le;)m(null,S[U]=K?mi(S[U]):qn(S[U]),k,Te,G,W,J,B,K),U++}}else if(U>le)for(;U<=he;)Le(_[U],G,W,!0),U++;else{const ye=U,Te=U,Be=new Map;for(U=Te;U<=le;U++){const yt=S[U]=K?mi(S[U]):qn(S[U]);yt.key!=null&&(process.env.NODE_ENV!=="production"&&Be.has(yt.key)&&q("Duplicate keys found during update:",JSON.stringify(yt.key),"Make sure keys are unique."),Be.set(yt.key,U))}let et,wt=0;const sn=le-Te+1;let ri=!1,Ts=0;const Ar=new Array(sn);for(U=0;U<sn;U++)Ar[U]=0;for(U=ye;U<=he;U++){const yt=_[U];if(wt>=sn){Le(yt,G,W,!0);continue}let mn;if(yt.key!=null)mn=Be.get(yt.key);else for(et=Te;et<=le;et++)if(Ar[et-Te]===0&&rs(yt,S[et])){mn=et;break}mn===void 0?Le(yt,G,W,!0):(Ar[mn-Te]=U+1,mn>=Ts?Ts=mn:ri=!0,m(yt,S[mn],k,null,G,W,J,B,K),wt++)}const Un=ri?qw(Ar):Ls;for(et=Un.length-1,U=sn-1;U>=0;U--){const yt=Te+U,mn=S[yt],_a=yt+1<ie?S[yt+1].el:j;Ar[U]===0?m(null,mn,k,_a,G,W,J,B,K):ri&&(et<0||U!==Un[et]?Kt(mn,k,_a,2):et--)}}},Kt=(_,S,k,j,G=null)=>{const{el:W,type:J,transition:B,children:K,shapeFlag:U}=_;if(U&6){Kt(_.component.subTree,S,k,j);return}if(U&128){_.suspense.move(S,k,j);return}if(U&64){J.move(_,S,k,$t);return}if(J===Fe){r(W,S,k);for(let he=0;he<K.length;he++)Kt(K[he],S,k,j);r(_.anchor,S,k);return}if(J===Ll){b(_,S,k);return}if(j!==2&&U&1&&B)if(j===0)B.beforeEnter(W),r(W,S,k),un(()=>B.enter(W),G);else{const{leave:he,delayLeave:le,afterLeave:ye}=B,Te=()=>r(W,S,k),Be=()=>{he(W,()=>{Te(),ye&&ye()})};le?le(W,Te,Be):Be()}else r(W,S,k)},Le=(_,S,k,j=!1,G=!1)=>{const{type:W,props:J,ref:B,children:K,dynamicChildren:U,shapeFlag:ie,patchFlag:he,dirs:le}=_;if(B!=null&&uf(B,null,k,_,!0),ie&256){S.ctx.deactivate(_);return}const ye=ie&1&&le,Te=!Aa(_);let Be;if(Te&&(Be=J&&J.onVnodeBeforeUnmount)&&ur(Be,S,_),ie&6)Nr(_.component,k,j);else{if(ie&128){_.suspense.unmount(k,j);return}ye&&es(_,null,S,"beforeUnmount"),ie&64?_.type.remove(_,S,k,G,$t,j):U&&(W!==Fe||he>0&&he&64)?Re(U,S,k,!1,!0):(W===Fe&&he&384||!G&&ie&16)&&Re(K,S,k),j&&Rt(_)}(Te&&(Be=J&&J.onVnodeUnmounted)||ye)&&un(()=>{Be&&ur(Be,S,_),ye&&es(_,null,S,"unmounted")},k)},Rt=_=>{const{type:S,el:k,anchor:j,transition:G}=_;if(S===Fe){process.env.NODE_ENV!=="production"&&_.patchFlag>0&&_.patchFlag&2048&&G&&!G.persisted?_.children.forEach(J=>{J.type===Nt?i(J.el):Rt(J)}):ft(k,j);return}if(S===Ll){O(_);return}const W=()=>{i(k),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(_.shapeFlag&1&&G&&!G.persisted){const{leave:J,delayLeave:B}=G,K=()=>J(k,W);B?B(_.el,W,K):K()}else W()},ft=(_,S)=>{let k;for(;_!==S;)k=h(_),i(_),_=k;i(S)},Nr=(_,S,k)=>{process.env.NODE_ENV!=="production"&&_.type.__hmrId&&RE(_);const{bum:j,scope:G,update:W,subTree:J,um:B}=_;j&&Sa(j),G.stop(),W&&(W.active=!1,Le(J,_,S,k)),B&&un(B,S),un(()=>{_.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve()),process.env.NODE_ENV!=="production"&&BE(_)},Re=(_,S,k,j=!1,G=!1,W=0)=>{for(let J=W;J<_.length;J++)Le(_[J],S,k,j,G)},pn=_=>_.shapeFlag&6?pn(_.component.subTree):_.shapeFlag&128?_.suspense.next():h(_.anchor||_.el);let Lr=!1;const ti=(_,S,k)=>{_==null?S._vnode&&Le(S._vnode,null,null,!0):m(S._vnode||null,_,S,null,null,null,k),Lr||(Lr=!0,Np(),Lp(),Lr=!1),S._vnode=_},$t={p:m,um:Le,m:Kt,r:Rt,mt:N,mc:F,pc:Ae,pbc:D,n:pn,o:t};let Cr,ni;return e&&([Cr,ni]=e($t)),{render:ti,hydrate:Cr,createApp:Nw(ti,Cr)}}function cf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ns({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Ww(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ra(t,e,n=!1){const r=t.children,i=e.children;if(ue(r)&&ue(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=mi(i[s]),o.el=a.el),n||Ra(a,o)),o.type===$a&&(o.el=a.el),process.env.NODE_ENV!=="production"&&o.type===Nt&&!o.el&&(o.el=a.el)}}function qw(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<u?s=o+1:a=o;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}function _m(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:_m(e)}const Hw=t=>t.__isTeleport,Is=t=>t&&(t.disabled||t.disabled===""),bm=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Em=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ff=(t,e)=>{const n=t&&t.to;if(st(n))if(e){const r=e(n);return r||process.env.NODE_ENV!=="production"&&q(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),r}else return process.env.NODE_ENV!=="production"&&q("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return process.env.NODE_ENV!=="production"&&!n&&!Is(t)&&q(`Invalid Teleport target: ${n}`),n},zw={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,u){const{mc:f,pc:c,pbc:h,o:{insert:d,querySelector:p,createText:m,createComment:g}}=u,y=Is(e.props);let{shapeFlag:v,children:E,dynamicChildren:b}=e;if(process.env.NODE_ENV!=="production"&&fi&&(l=!1,b=null),t==null){const O=e.el=process.env.NODE_ENV!=="production"?g("teleport start"):m(""),T=e.anchor=process.env.NODE_ENV!=="production"?g("teleport end"):m("");d(O,n,r),d(T,n,r);const M=e.target=ff(e.props,p),R=e.targetAnchor=m("");M?(d(R,M),a==="svg"||bm(M)?a="svg":(a==="mathml"||Em(M))&&(a="mathml")):process.env.NODE_ENV!=="production"&&!y&&q("Invalid Teleport target on mount:",M,`(${typeof M})`);const F=(A,D)=>{v&16&&f(E,A,D,i,s,a,o,l)};y?F(n,T):M&&F(M,R)}else{e.el=t.el;const O=e.anchor=t.anchor,T=e.target=t.target,M=e.targetAnchor=t.targetAnchor,R=Is(t.props),F=R?n:T,A=R?O:M;if(a==="svg"||bm(T)?a="svg":(a==="mathml"||Em(T))&&(a="mathml"),b?(h(t.dynamicChildren,b,F,i,s,a,o),Ra(t,e,!0)):l||c(t,e,F,A,i,s,a,o,!1),y)R?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Nl(e,n,O,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const D=e.target=ff(e.props,p);D?Nl(e,D,null,u,0):process.env.NODE_ENV!=="production"&&q("Invalid Teleport target on update:",T,`(${typeof T})`)}else R&&Nl(e,T,M,u,1)}Sm(e)},remove(t,e,n,r,{um:i,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:u,targetAnchor:f,target:c,props:h}=t;if(c&&s(f),a&&s(u),o&16){const d=a||!Is(h);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,d,!!m.dynamicChildren)}}},move:Nl,hydrate:Yw};function Nl(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:f}=t,c=s===2;if(c&&r(a,e,n),(!c||Is(f))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);c&&r(o,e,n)}function Yw(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const f=e.target=ff(e.props,l);if(f){const c=f._lpa||f.firstChild;if(e.shapeFlag&16)if(Is(e.props))e.anchor=u(a(t),e,o(t),n,r,i,s),e.targetAnchor=c;else{e.anchor=a(t);let h=c;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(c,e,f,n,r,i,s)}Sm(e)}return e.anchor&&a(e.anchor)}const wm=zw;function Sm(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Fe=Symbol.for("v-fgt"),$a=Symbol.for("v-txt"),Nt=Symbol.for("v-cmt"),Ll=Symbol.for("v-stc"),Fa=[];let Wn=null;function L(t=!1){Fa.push(Wn=t?null:[])}function Xw(){Fa.pop(),Wn=Fa[Fa.length-1]||null}let Va=1;function Om(t){Va+=t}function xm(t){return t.dynamicChildren=Va>0?Wn||Ls:null,Xw(),Va>0&&Wn&&Wn.push(t),t}function $(t,e,n,r,i,s){return xm(C(t,e,n,r,i,s,!0))}function $e(t,e,n,r,i){return xm(Q(t,e,n,r,i,!0))}function ks(t){return t?t.__v_isVNode===!0:!1}function rs(t,e){return process.env.NODE_ENV!=="production"&&e.shapeFlag&6&&As.has(e.type)?(t.shapeFlag&=-257,e.shapeFlag&=-513,!1):t.type===e.type&&t.key===e.key}const Kw=(...t)=>Tm(...t),Mm=({key:t})=>t!=null?t:null,Cl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?st(t)||tt(t)||ve(t)?{i:pt,r:t,k:e,f:!!n}:t:null);function C(t,e=null,n=null,r=0,i=null,s=t===Fe?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Mm(e),ref:e&&Cl(e),scopeId:Rp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:pt};return o?(hf(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=st(n)?8:16),process.env.NODE_ENV!=="production"&&l.key!==l.key&&q("VNode created with invalid key (NaN). VNode type:",l.type),Va>0&&!a&&Wn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Wn.push(l),l}const Q=process.env.NODE_ENV!=="production"?Kw:Tm;function Tm(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===ew)&&(process.env.NODE_ENV!=="production"&&!t&&q(`Invalid vnode type when creating vnode: ${t}.`),t=Nt),ks(t)){const o=lr(t,e,!0);return n&&hf(o,n),Va>0&&!s&&Wn&&(o.shapeFlag&6?Wn[Wn.indexOf(t)]=o:Wn.push(o)),o.patchFlag|=-2,o}if(Im(t)&&(t=t.__vccOpts),e){e=Zw(e);let{class:o,style:l}=e;o&&!st(o)&&(e.class=Ie(o)),We(l)&&(hl(l)&&!ue(l)&&(l=Qe({},l)),e.style=ai(l))}const a=st(t)?1:tw(t)?128:Hw(t)?64:We(t)?4:ve(t)?2:0;return process.env.NODE_ENV!=="production"&&a&4&&hl(t)&&(t=Ee(t),q("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),C(t,e,n,r,i,a,s,!0)}function Zw(t){return t?hl(t)||om(t)?Qe({},t):t:null}function lr(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,o=e?Jw(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&Mm(o),ref:e&&e.ref?n&&i?ue(i)?i.concat(Cl(e)):[i,Cl(e)]:Cl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:process.env.NODE_ENV!=="production"&&s===-1&&ue(a)?a.map(Nm):a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fe?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&lr(t.ssContent),ssFallback:t.ssFallback&&lr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Nm(t){const e=lr(t);return ue(t.children)&&(e.children=t.children.map(Nm)),e}function ja(t=" ",e=0){return Q($a,null,t,e)}function I(t="",e=!1){return e?(L(),$e(Nt,null,t)):Q(Nt,null,t)}function qn(t){return t==null||typeof t=="boolean"?Q(Nt):ue(t)?Q(Fe,null,t.slice()):typeof t=="object"?mi(t):Q($a,null,String(t))}function mi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:lr(t)}function hf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),hf(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!om(e)?e._ctx=pt:i===3&&pt&&(pt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ve(e)?(e={default:e,_ctx:pt},n=32):(e=String(e),r&64?(n=16,e=[ja(e)]):n=8);t.children=e,t.shapeFlag|=n}function Jw(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ie([e.class,r.class]));else if(i==="style")e.style=ai([e.style,r.style]);else if(Ea(i)){const s=e[i],a=r[i];a&&s!==a&&!(ue(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function ur(t,e,n,r=null){Tn(t,e,7,[n,r])}const Qw=rm();let eS=0;function tS(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Qw,s={uid:eS++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Yd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:um(r,i),emitsOptions:kp(r,i),emit:null,emitted:null,propsDefaults:Ze,inheritAttrs:r.inheritAttrs,ctx:Ze,data:Ze,props:Ze,attrs:Ze,slots:Ze,refs:Ze,setupState:Ze,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return process.env.NODE_ENV!=="production"?s.ctx=vw(s):s.ctx={_:s},s.root=e?e.root:s,s.emit=zE.bind(null,s),t.ce&&t.ce(s),s}let St=null;const Rs=()=>St||pt;let Al,df;{const t=tl(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};Al=e("__VUE_INSTANCE_SETTERS__",n=>St=n),df=e("__VUE_SSR_SETTERS__",n=>Pl=n)}const Ga=t=>{const e=St;return Al(t),t.scope.on(),()=>{t.scope.off(),Al(e)}},Lm=()=>{St&&St.scope.off(),Al(null)},nS=Pr("slot,component");function pf(t,{isNativeTag:e}){(nS(t)||e(t))&&q("Do not use built-in or reserved HTML elements as component id: "+t)}function Cm(t){return t.vnode.shapeFlag&4}let Pl=!1;function rS(t,e=!1){e&&df(e);const{props:n,children:r}=t.vnode,i=Cm(t);Cw(t,n,i,e),Vw(t,r);const s=i?iS(t,e):void 0;return e&&df(!1),s}function iS(t,e){var n;const r=t.type;if(process.env.NODE_ENV!=="production"){if(r.name&&pf(r.name,t.appContext.config),r.components){const s=Object.keys(r.components);for(let a=0;a<s.length;a++)pf(s[a],t.appContext.config)}if(r.directives){const s=Object.keys(r.directives);for(let a=0;a<s.length;a++)Bp(s[a])}r.compilerOptions&&sS()&&q('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Zp),process.env.NODE_ENV!=="production"&&_w(t);const{setup:i}=r;if(i){const s=t.setupContext=i.length>1?oS(t):null,a=Ga(t);Dr();const o=Rr(i,t,0,[process.env.NODE_ENV!=="production"?kr(t.props):t.props,s]);if(Ir(),a(),wc(o)){if(o.then(Lm,Lm),e)return o.then(l=>{Am(t,l,e)}).catch(l=>{xa(l,t,0)});if(t.asyncDep=o,process.env.NODE_ENV!=="production"&&!t.suspense){const l=(n=r.name)!=null?n:"Anonymous";q(`Component <${l}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else Am(t,o,e)}else Pm(t,e)}function Am(t,e,n){ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:We(e)?(process.env.NODE_ENV!=="production"&&ks(e)&&q("setup() should not return VNodes directly - return a render function instead."),process.env.NODE_ENV!=="production"&&(t.devtoolsRawSetupState=e),t.setupState=wp(e),process.env.NODE_ENV!=="production"&&bw(t)):process.env.NODE_ENV!=="production"&&e!==void 0&&q(`setup() should return an object. Received: ${e===null?"null":typeof e}`),Pm(t,n)}let mf;const sS=()=>!mf;function Pm(t,e,n){const r=t.type;if(!t.render){if(!e&&mf&&!r.render){const i=r.template||rf(t).template;if(i){process.env.NODE_ENV!=="production"&&Vr(t,"compile");const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,u=Qe(Qe({isCustomElement:s,delimiters:o},a),l);r.render=mf(i,u),process.env.NODE_ENV!=="production"&&jr(t,"compile")}}t.render=r.render||vt}{const i=Ga(t);Dr();try{ww(t)}finally{Ir(),i()}}process.env.NODE_ENV!=="production"&&!r.render&&t.render===vt&&!e&&(r.template?q('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):q("Component is missing template or render function."))}const Dm=process.env.NODE_ENV!=="production"?{get(t,e){return El(),Pt(t,"get",""),t[e]},set(){return q("setupContext.attrs is readonly."),!1},deleteProperty(){return q("setupContext.attrs is readonly."),!1}}:{get(t,e){return Pt(t,"get",""),t[e]}};function aS(t){return t.slotsProxy||(t.slotsProxy=new Proxy(t.slots,{get(e,n){return Pt(t,"get","$slots"),e[n]}}))}function oS(t){const e=n=>{if(process.env.NODE_ENV!=="production"&&(t.exposed&&q("expose() should be called only once per setup()."),n!=null)){let r=typeof n;r==="object"&&(ue(n)?r="array":tt(n)&&(r="ref")),r!=="object"&&q(`expose() should be passed a plain object, received ${r}.`)}t.exposed=n||{}};if(process.env.NODE_ENV!=="production"){let n;return Object.freeze({get attrs(){return n||(n=new Proxy(t.attrs,Dm))},get slots(){return aS(t)},get emit(){return(r,...i)=>t.emit(r,...i)},expose:e})}else return{attrs:new Proxy(t.attrs,Dm),slots:t.slots,emit:t.emit,expose:e}}function Dl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(wp(ui(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ts)return ts[n](t)},has(e,n){return n in e||n in ts}}))}const lS=/(?:^|[-_])(\w)/g,uS=t=>t.replace(lS,e=>e.toUpperCase()).replace(/[-_]/g,"");function gf(t,e=!0){return ve(t)?t.displayName||t.name:t.name||e&&t.__name}function Il(t,e,n=!1){let r=gf(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=s=>{for(const a in s)if(s[a]===e)return a};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?uS(r):n?"App":"Anonymous"}function Im(t){return ve(t)&&"__vccOpts"in t}const fe=(t,e)=>{const n=bE(t,e,Pl);if(process.env.NODE_ENV!=="production"){const r=Rs();r&&r.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function yf(t,e,n){const r=arguments.length;return r===2?We(e)&&!ue(e)?ks(e)?Q(t,null,[e]):Q(t,e):Q(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ks(n)&&(n=[n]),Q(t,e,n))}function cS(){if(process.env.NODE_ENV==="production"||typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#1677ff"},n={style:"color:#f5222d"},r={style:"color:#eb2f96"},i={header(c){return We(c)?c.__isVue?["div",t,"VueInstance"]:tt(c)?["div",{},["span",t,f(c)],"<",o(c.value),">"]:ar(c)?["div",{},["span",t,Ki(c)?"ShallowReactive":"Reactive"],"<",o(c),`>${Xi(c)?" (readonly)":""}`]:Xi(c)?["div",{},["span",t,Ki(c)?"ShallowReadonly":"Readonly"],"<",o(c),">"]:null:null},hasBody(c){return c&&c.__isVue},body(c){if(c&&c.__isVue)return["div",{},...s(c.$)]}};function s(c){const h=[];c.type.props&&c.props&&h.push(a("props",Ee(c.props))),c.setupState!==Ze&&h.push(a("setup",c.setupState)),c.data!==Ze&&h.push(a("data",Ee(c.data)));const d=l(c,"computed");d&&h.push(a("computed",d));const p=l(c,"inject");return p&&h.push(a("injected",p)),h.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:c}]]),h}function a(c,h){return h=Qe({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},c],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(d=>["div",{},["span",r,d+": "],o(h[d],!1)])]]:["span",{}]}function o(c,h=!0){return typeof c=="number"?["span",e,c]:typeof c=="string"?["span",n,JSON.stringify(c)]:typeof c=="boolean"?["span",r,c]:We(c)?["object",{object:h?Ee(c):c}]:["span",n,String(c)]}function l(c,h){const d=c.type;if(ve(d))return;const p={};for(const m in c.ctx)u(d,m,h)&&(p[m]=c.ctx[m]);return p}function u(c,h,d){const p=c[d];if(ue(p)&&p.includes(h)||We(p)&&h in p||c.extends&&u(c.extends,h,d)||c.mixins&&c.mixins.some(m=>u(m,h,d)))return!0}function f(c){return Ki(c)?"ShallowRef":c.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}const km="3.4.25",gi=process.env.NODE_ENV!=="production"?q:vt;process.env.NODE_ENV,process.env.NODE_ENV;/**
* @vue/runtime-dom v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const fS="http://www.w3.org/2000/svg",hS="http://www.w3.org/1998/Math/MathML",yi=typeof document<"u"?document:null,Rm=yi&&yi.createElement("template"),dS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?yi.createElementNS(fS,t):e==="mathml"?yi.createElementNS(hS,t):yi.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>yi.createTextNode(t),createComment:t=>yi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>yi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Rm.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const o=Rm.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},vi="transition",Ua="animation",Ba=Symbol("_vtc"),Wa=(t,{slots:e})=>yf(ow,pS(t),e);Wa.displayName="Transition";const $m={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Wa.props=Qe({},Wp,$m);const is=(t,e=[])=>{ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},Fm=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function pS(t){const e={};for(const P in t)P in $m||(e[P]=t[P]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:f=o,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=mS(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:E,onLeave:b,onLeaveCancelled:O,onBeforeAppear:T=y,onAppear:M=v,onAppearCancelled:R=E}=e,F=(P,te,me)=>{ss(P,te?f:o),ss(P,te?u:a),me&&me()},A=(P,te)=>{P._isLeaving=!1,ss(P,c),ss(P,d),ss(P,h),te&&te()},D=P=>(te,me)=>{const N=P?M:v,V=()=>F(te,P,me);is(N,[te,V]),Vm(()=>{ss(te,P?l:s),_i(te,P?f:o),Fm(N)||jm(te,r,m,V)})};return Qe(e,{onBeforeEnter(P){is(y,[P]),_i(P,s),_i(P,a)},onBeforeAppear(P){is(T,[P]),_i(P,l),_i(P,u)},onEnter:D(!1),onAppear:D(!0),onLeave(P,te){P._isLeaving=!0;const me=()=>A(P,te);_i(P,c),_i(P,h),vS(),Vm(()=>{!P._isLeaving||(ss(P,c),_i(P,d),Fm(b)||jm(P,r,g,me))}),is(b,[P,me])},onEnterCancelled(P){F(P,!1),is(E,[P])},onAppearCancelled(P){F(P,!0),is(R,[P])},onLeaveCancelled(P){A(P),is(O,[P])}})}function mS(t){if(t==null)return null;if(We(t))return[vf(t.enter),vf(t.leave)];{const e=vf(t);return[e,e]}}function vf(t){const e=xc(t);return process.env.NODE_ENV!=="production"&&LE(e,"<transition> explicit duration"),e}function _i(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ba]||(t[Ba]=new Set)).add(e)}function ss(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ba];n&&(n.delete(e),n.size||(t[Ba]=void 0))}function Vm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let gS=0;function jm(t,e,n,r){const i=t._endId=++gS,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=yS(t,e);if(!a)return r();const u=a+"end";let f=0;const c=()=>{t.removeEventListener(u,h),s()},h=d=>{d.target===t&&++f>=l&&c()};setTimeout(()=>{f<l&&c()},o+1),t.addEventListener(u,h)}function yS(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${vi}Delay`),s=r(`${vi}Duration`),a=Gm(i,s),o=r(`${Ua}Delay`),l=r(`${Ua}Duration`),u=Gm(o,l);let f=null,c=0,h=0;e===vi?a>0&&(f=vi,c=a,h=s.length):e===Ua?u>0&&(f=Ua,c=u,h=l.length):(c=Math.max(a,u),f=c>0?a>u?vi:Ua:null,h=f?f===vi?s.length:l.length:0);const d=f===vi&&/\b(transform|all)(,|$)/.test(r(`${vi}Property`).toString());return{type:f,timeout:c,propCount:h,hasTransform:d}}function Gm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Um(n)+Um(t[r])))}function Um(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function vS(){return document.body.offsetHeight}function _S(t,e,n){const r=t[Ba];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Bm=Symbol("_vod"),bS=Symbol("_vsh");process.env.NODE_ENV;const ES=Symbol(process.env.NODE_ENV!=="production"?"CSS_VAR_TEXT":""),wS=/(^|;)\s*display\s*:/;function SS(t,e,n){const r=t.style,i=st(n);let s=!1;if(n&&!i){if(e)if(st(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&kl(r,o,"")}else for(const a in e)n[a]==null&&kl(r,a,"");for(const a in n)a==="display"&&(s=!0),kl(r,a,n[a])}else if(i){if(e!==n){const a=r[ES];a&&(n+=";"+a),r.cssText=n,s=wS.test(n)}}else e&&t.removeAttribute("style");Bm in t&&(t[Bm]=s?r.display:"",t[bS]&&(r.display="none"))}const OS=/[^\\];\s*$/,Wm=/\s*!important$/;function kl(t,e,n){if(ue(n))n.forEach(r=>kl(t,e,r));else if(n==null&&(n=""),process.env.NODE_ENV!=="production"&&OS.test(n)&&gi(`Unexpected semicolon at the end of '${e}' style value: '${n}'`),e.startsWith("--"))t.setProperty(e,n);else{const r=xS(t,e);Wm.test(n)?t.setProperty(an(r),n.replace(Wm,""),"important"):t[r]=n}}const qm=["Webkit","Moz","ms"],_f={};function xS(t,e){const n=_f[e];if(n)return n;let r=yn(e);if(r!=="filter"&&r in t)return _f[e]=r;r=qi(r);for(let i=0;i<qm.length;i++){const s=qm[i]+r;if(s in t)return _f[e]=s}return e}const Hm="http://www.w3.org/1999/xlink";function MS(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Hm,e.slice(6,e.length)):t.setAttributeNS(Hm,e,n);else{const s=X1(e);n==null||s&&!Hd(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function TS(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n==null?"":n;return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?t.getAttribute("value")||"":t.value,f=n==null?"":n;(u!==f||!("_value"in t))&&(t.value=f),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Hd(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch(u){process.env.NODE_ENV!=="production"&&!l&&gi(`Failed setting prop "${e}" on <${o.toLowerCase()}>: value ${n} is invalid.`,u)}l&&t.removeAttribute(e)}function NS(t,e,n,r){t.addEventListener(e,n,r)}function LS(t,e,n,r){t.removeEventListener(e,n,r)}const zm=Symbol("_vei");function CS(t,e,n,r,i=null){const s=t[zm]||(t[zm]={}),a=s[e];if(r&&a)a.value=process.env.NODE_ENV!=="production"?Xm(r,e):r;else{const[o,l]=AS(e);if(r){const u=s[e]=IS(process.env.NODE_ENV!=="production"?Xm(r,e):r,i);NS(t,o,u,l)}else a&&(LS(t,o,a,l),s[e]=void 0)}}const Ym=/(?:Once|Passive|Capture)$/;function AS(t){let e;if(Ym.test(t)){e={};let r;for(;r=t.match(Ym);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):an(t.slice(2)),e]}let bf=0;const PS=Promise.resolve(),DS=()=>bf||(PS.then(()=>bf=0),bf=Date.now());function IS(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Tn(kS(r,n.value),e,5,[r])};return n.value=t,n.attached=DS(),n}function Xm(t,e){return ve(t)||ue(t)?t:(gi(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof t}.`),vt)}function kS(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Km=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,RS=(t,e,n,r,i,s,a,o,l)=>{const u=i==="svg";e==="class"?_S(t,r,u):e==="style"?SS(t,n,r):Ea(e)?Jo(e)||CS(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$S(t,e,r,u))?TS(t,e,r,s,a,o,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),MS(t,e,r,u))};function $S(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Km(e)&&ve(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Km(e)&&st(n)?!1:e in t}const FS=["ctrl","shift","alt","meta"],VS={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>FS.some(n=>t[`${n}Key`]&&!e.includes(n))},cr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<e.length;a++){const o=VS[e[a]];if(o&&o(i,e))return}return t(i,...s)})},jS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fr=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=an(i.key);if(e.some(a=>a===s||jS[a]===s))return t(i)})},GS=Qe({patchProp:RS},dS);let Zm;function Jm(){return Zm||(Zm=Uw(GS))}const Qm=(...t)=>{Jm().render(...t)},eg=(...t)=>{const e=Jm().createApp(...t);process.env.NODE_ENV!=="production"&&(BS(e),WS(e));const{mount:n}=e;return e.mount=r=>{const i=qS(r);if(!i)return;const s=e._component;!ve(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,US(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function US(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function BS(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>H1(e)||z1(e)||Y1(e),writable:!1})}function WS(t){{const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){gi("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=t.config.compilerOptions,r='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(t.config,"compilerOptions",{get(){return gi(r),n},set(){gi(r)}})}}function qS(t){if(st(t)){const e=document.querySelector(t);return process.env.NODE_ENV!=="production"&&!e&&gi(`Failed to mount app: mount target selector "${t}" returned null.`),e}return process.env.NODE_ENV!=="production"&&window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&gi('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}/**
* vue v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function HS(){cS()}process.env.NODE_ENV!=="production"&&HS();/*! @license DOMPurify 2.5.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.0/LICENSE */function bi(t){return bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(t)}function Ef(t,e){return Ef=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ef(t,e)}function zS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rl(t,e,n){return zS()?Rl=Reflect.construct:Rl=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&Ef(u,a.prototype),u},Rl.apply(null,arguments)}function Hn(t){return YS(t)||XS(t)||KS(t)||ZS()}function YS(t){if(Array.isArray(t))return wf(t)}function XS(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KS(t,e){if(!!t){if(typeof t=="string")return wf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wf(t,e)}}function wf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var JS=Object.hasOwnProperty,tg=Object.setPrototypeOf,QS=Object.isFrozen,eO=Object.getPrototypeOf,tO=Object.getOwnPropertyDescriptor,Qt=Object.freeze,Cn=Object.seal,nO=Object.create,ng=typeof Reflect<"u"&&Reflect,$l=ng.apply,Sf=ng.construct;$l||($l=function(e,n,r){return e.apply(n,r)}),Qt||(Qt=function(e){return e}),Cn||(Cn=function(e){return e}),Sf||(Sf=function(e,n){return Rl(e,Hn(n))});var rO=An(Array.prototype.forEach),rg=An(Array.prototype.pop),qa=An(Array.prototype.push),Fl=An(String.prototype.toLowerCase),Of=An(String.prototype.toString),ig=An(String.prototype.match),zn=An(String.prototype.replace),iO=An(String.prototype.indexOf),sO=An(String.prototype.trim),Gt=An(RegExp.prototype.test),xf=aO(TypeError);function An(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return $l(t,e,r)}}function aO(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Sf(t,n)}}function Ce(t,e,n){var r;n=(r=n)!==null&&r!==void 0?r:Fl,tg&&tg(t,null);for(var i=e.length;i--;){var s=e[i];if(typeof s=="string"){var a=n(s);a!==s&&(QS(e)||(e[i]=a),s=a)}t[s]=!0}return t}function as(t){var e=nO(null),n;for(n in t)$l(JS,t,[n])===!0&&(e[n]=t[n]);return e}function Vl(t,e){for(;t!==null;){var n=tO(t,e);if(n){if(n.get)return An(n.get);if(typeof n.value=="function")return An(n.value)}t=eO(t)}function r(i){return console.warn("fallback value for",i),null}return r}var sg=Qt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Mf=Qt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Tf=Qt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),oO=Qt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Nf=Qt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),lO=Qt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ag=Qt(["#text"]),og=Qt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Lf=Qt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),lg=Qt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),jl=Qt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),uO=Cn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),cO=Cn(/<%[\w\W]*|[\w\W]*%>/gm),fO=Cn(/\${[\w\W]*}/gm),hO=Cn(/^data-[\-\w.\u00B7-\uFFFF]/),dO=Cn(/^aria-[\-\w]+$/),pO=Cn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mO=Cn(/^(?:\w+script|data):/i),gO=Cn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yO=Cn(/^html$/i),vO=Cn(/^[a-z][.\w]*(-[.\w]+)+$/i),_O=function(){return typeof window>"u"?null:window},bO=function(e,n){if(bi(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML:function(o){return o},createScriptURL:function(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function ug(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_O(),e=function(x){return ug(x)};if(e.version="2.5.0",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,o=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,f=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,c=t.HTMLFormElement,h=t.DOMParser,d=t.trustedTypes,p=o.prototype,m=Vl(p,"cloneNode"),g=Vl(p,"nextSibling"),y=Vl(p,"childNodes"),v=Vl(p,"parentNode");if(typeof s=="function"){var E=r.createElement("template");E.content&&E.content.ownerDocument&&(r=E.content.ownerDocument)}var b=bO(d,n),O=b?b.createHTML(""):"",T=r,M=T.implementation,R=T.createNodeIterator,F=T.createDocumentFragment,A=T.getElementsByTagName,D=n.importNode,P={};try{P=as(r).documentMode?r.documentMode:{}}catch{}var te={};e.isSupported=typeof v=="function"&&M&&M.createHTMLDocument!==void 0&&P!==9;var me=uO,N=cO,V=fO,z=hO,Z=dO,Ae=mO,De=gO,Et=vO,Kt=pO,Le=null,Rt=Ce({},[].concat(Hn(sg),Hn(Mf),Hn(Tf),Hn(Nf),Hn(ag))),ft=null,Nr=Ce({},[].concat(Hn(og),Hn(Lf),Hn(lg),Hn(jl))),Re=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pn=null,Lr=null,ti=!0,$t=!0,Cr=!1,ni=!0,_=!1,S=!0,k=!1,j=!1,G=!1,W=!1,J=!1,B=!1,K=!0,U=!1,ie="user-content-",he=!0,le=!1,ye={},Te=null,Be=Ce({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),et=null,wt=Ce({},["audio","video","img","source","image","track"]),sn=null,ri=Ce({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ts="http://www.w3.org/1998/Math/MathML",Ar="http://www.w3.org/2000/svg",Un="http://www.w3.org/1999/xhtml",yt=Un,mn=!1,_a=null,U6=Ce({},[Ts,Ar,Un],Of),Ns,B6=["application/xhtml+xml","text/html"],W6="text/html",Ct,ba=null,q6=r.createElement("form"),Db=function(x){return x instanceof RegExp||x instanceof Function},Cd=function(x){ba&&ba===x||((!x||bi(x)!=="object")&&(x={}),x=as(x),Ns=B6.indexOf(x.PARSER_MEDIA_TYPE)===-1?Ns=W6:Ns=x.PARSER_MEDIA_TYPE,Ct=Ns==="application/xhtml+xml"?Of:Fl,Le="ALLOWED_TAGS"in x?Ce({},x.ALLOWED_TAGS,Ct):Rt,ft="ALLOWED_ATTR"in x?Ce({},x.ALLOWED_ATTR,Ct):Nr,_a="ALLOWED_NAMESPACES"in x?Ce({},x.ALLOWED_NAMESPACES,Of):U6,sn="ADD_URI_SAFE_ATTR"in x?Ce(as(ri),x.ADD_URI_SAFE_ATTR,Ct):ri,et="ADD_DATA_URI_TAGS"in x?Ce(as(wt),x.ADD_DATA_URI_TAGS,Ct):wt,Te="FORBID_CONTENTS"in x?Ce({},x.FORBID_CONTENTS,Ct):Be,pn="FORBID_TAGS"in x?Ce({},x.FORBID_TAGS,Ct):{},Lr="FORBID_ATTR"in x?Ce({},x.FORBID_ATTR,Ct):{},ye="USE_PROFILES"in x?x.USE_PROFILES:!1,ti=x.ALLOW_ARIA_ATTR!==!1,$t=x.ALLOW_DATA_ATTR!==!1,Cr=x.ALLOW_UNKNOWN_PROTOCOLS||!1,ni=x.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_=x.SAFE_FOR_TEMPLATES||!1,S=x.SAFE_FOR_XML!==!1,k=x.WHOLE_DOCUMENT||!1,W=x.RETURN_DOM||!1,J=x.RETURN_DOM_FRAGMENT||!1,B=x.RETURN_TRUSTED_TYPE||!1,G=x.FORCE_BODY||!1,K=x.SANITIZE_DOM!==!1,U=x.SANITIZE_NAMED_PROPS||!1,he=x.KEEP_CONTENT!==!1,le=x.IN_PLACE||!1,Kt=x.ALLOWED_URI_REGEXP||Kt,yt=x.NAMESPACE||Un,Re=x.CUSTOM_ELEMENT_HANDLING||{},x.CUSTOM_ELEMENT_HANDLING&&Db(x.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Re.tagNameCheck=x.CUSTOM_ELEMENT_HANDLING.tagNameCheck),x.CUSTOM_ELEMENT_HANDLING&&Db(x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Re.attributeNameCheck=x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),x.CUSTOM_ELEMENT_HANDLING&&typeof x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Re.allowCustomizedBuiltInElements=x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_&&($t=!1),J&&(W=!0),ye&&(Le=Ce({},Hn(ag)),ft=[],ye.html===!0&&(Ce(Le,sg),Ce(ft,og)),ye.svg===!0&&(Ce(Le,Mf),Ce(ft,Lf),Ce(ft,jl)),ye.svgFilters===!0&&(Ce(Le,Tf),Ce(ft,Lf),Ce(ft,jl)),ye.mathMl===!0&&(Ce(Le,Nf),Ce(ft,lg),Ce(ft,jl))),x.ADD_TAGS&&(Le===Rt&&(Le=as(Le)),Ce(Le,x.ADD_TAGS,Ct)),x.ADD_ATTR&&(ft===Nr&&(ft=as(ft)),Ce(ft,x.ADD_ATTR,Ct)),x.ADD_URI_SAFE_ATTR&&Ce(sn,x.ADD_URI_SAFE_ATTR,Ct),x.FORBID_CONTENTS&&(Te===Be&&(Te=as(Te)),Ce(Te,x.FORBID_CONTENTS,Ct)),he&&(Le["#text"]=!0),k&&Ce(Le,["html","head","body"]),Le.table&&(Ce(Le,["tbody"]),delete pn.tbody),Qt&&Qt(x),ba=x)},Ib=Ce({},["mi","mo","mn","ms","mtext"]),kb=Ce({},["foreignobject","desc","title","annotation-xml"]),H6=Ce({},["title","style","font","a","script"]),vc=Ce({},Mf);Ce(vc,Tf),Ce(vc,oO);var Ad=Ce({},Nf);Ce(Ad,lO);var z6=function(x){var Y=v(x);(!Y||!Y.tagName)&&(Y={namespaceURI:yt,tagName:"template"});var se=Fl(x.tagName),ze=Fl(Y.tagName);return _a[x.namespaceURI]?x.namespaceURI===Ar?Y.namespaceURI===Un?se==="svg":Y.namespaceURI===Ts?se==="svg"&&(ze==="annotation-xml"||Ib[ze]):Boolean(vc[se]):x.namespaceURI===Ts?Y.namespaceURI===Un?se==="math":Y.namespaceURI===Ar?se==="math"&&kb[ze]:Boolean(Ad[se]):x.namespaceURI===Un?Y.namespaceURI===Ar&&!kb[ze]||Y.namespaceURI===Ts&&!Ib[ze]?!1:!Ad[se]&&(H6[se]||!vc[se]):!!(Ns==="application/xhtml+xml"&&_a[x.namespaceURI]):!1},rr=function(x){qa(e.removed,{element:x});try{x.parentNode.removeChild(x)}catch{try{x.outerHTML=O}catch{x.remove()}}},Pd=function(x,Y){try{qa(e.removed,{attribute:Y.getAttributeNode(x),from:Y})}catch{qa(e.removed,{attribute:null,from:Y})}if(Y.removeAttribute(x),x==="is"&&!ft[x])if(W||J)try{rr(Y)}catch{}else try{Y.setAttribute(x,"")}catch{}},Rb=function(x){var Y,se;if(G)x="<remove></remove>"+x;else{var ze=ig(x,/^[\r\n\t ]+/);se=ze&&ze[0]}Ns==="application/xhtml+xml"&&yt===Un&&(x='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+x+"</body></html>");var gn=b?b.createHTML(x):x;if(yt===Un)try{Y=new h().parseFromString(gn,Ns)}catch{}if(!Y||!Y.documentElement){Y=M.createDocument(yt,"template",null);try{Y.documentElement.innerHTML=mn?O:gn}catch{}}var Zt=Y.body||Y.documentElement;return x&&se&&Zt.insertBefore(r.createTextNode(se),Zt.childNodes[0]||null),yt===Un?A.call(Y,k?"html":"body")[0]:k?Y.documentElement:Zt},$b=function(x){return R.call(x.ownerDocument||x,x,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},Y6=function(x){return x instanceof c&&(typeof x.nodeName!="string"||typeof x.textContent!="string"||typeof x.removeChild!="function"||!(x.attributes instanceof f)||typeof x.removeAttribute!="function"||typeof x.setAttribute!="function"||typeof x.namespaceURI!="string"||typeof x.insertBefore!="function"||typeof x.hasChildNodes!="function")},Xo=function(x){return bi(a)==="object"?x instanceof a:x&&bi(x)==="object"&&typeof x.nodeType=="number"&&typeof x.nodeName=="string"},ii=function(x,Y,se){!te[x]||rO(te[x],function(ze){ze.call(e,Y,se,ba)})},Fb=function(x){var Y;if(ii("beforeSanitizeElements",x,null),Y6(x)||Gt(/[\u0080-\uFFFF]/,x.nodeName))return rr(x),!0;var se=Ct(x.nodeName);if(ii("uponSanitizeElement",x,{tagName:se,allowedTags:Le}),x.hasChildNodes()&&!Xo(x.firstElementChild)&&(!Xo(x.content)||!Xo(x.content.firstElementChild))&&Gt(/<[/\w]/g,x.innerHTML)&&Gt(/<[/\w]/g,x.textContent)||se==="select"&&Gt(/<template/i,x.innerHTML)||x.nodeType===7||S&&x.nodeType===8&&Gt(/<[/\w]/g,x.data))return rr(x),!0;if(!Le[se]||pn[se]){if(!pn[se]&&jb(se)&&(Re.tagNameCheck instanceof RegExp&&Gt(Re.tagNameCheck,se)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(se)))return!1;if(he&&!Te[se]){var ze=v(x)||x.parentNode,gn=y(x)||x.childNodes;if(gn&&ze)for(var Zt=gn.length,Ft=Zt-1;Ft>=0;--Ft)ze.insertBefore(m(gn[Ft],!0),g(x))}return rr(x),!0}return x instanceof o&&!z6(x)||(se==="noscript"||se==="noembed"||se==="noframes")&&Gt(/<\/no(script|embed|frames)/i,x.innerHTML)?(rr(x),!0):(_&&x.nodeType===3&&(Y=x.textContent,Y=zn(Y,me," "),Y=zn(Y,N," "),Y=zn(Y,V," "),x.textContent!==Y&&(qa(e.removed,{element:x.cloneNode()}),x.textContent=Y)),ii("afterSanitizeElements",x,null),!1)},Vb=function(x,Y,se){if(K&&(Y==="id"||Y==="name")&&(se in r||se in q6))return!1;if(!($t&&!Lr[Y]&&Gt(z,Y))){if(!(ti&&Gt(Z,Y))){if(!ft[Y]||Lr[Y]){if(!(jb(x)&&(Re.tagNameCheck instanceof RegExp&&Gt(Re.tagNameCheck,x)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(x))&&(Re.attributeNameCheck instanceof RegExp&&Gt(Re.attributeNameCheck,Y)||Re.attributeNameCheck instanceof Function&&Re.attributeNameCheck(Y))||Y==="is"&&Re.allowCustomizedBuiltInElements&&(Re.tagNameCheck instanceof RegExp&&Gt(Re.tagNameCheck,se)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(se))))return!1}else if(!sn[Y]){if(!Gt(Kt,zn(se,De,""))){if(!((Y==="src"||Y==="xlink:href"||Y==="href")&&x!=="script"&&iO(se,"data:")===0&&et[x])){if(!(Cr&&!Gt(Ae,zn(se,De,"")))){if(se)return!1}}}}}}return!0},jb=function(x){return x!=="annotation-xml"&&ig(x,Et)},Gb=function(x){var Y,se,ze,gn;ii("beforeSanitizeAttributes",x,null);var Zt=x.attributes;if(!!Zt){var Ft={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ft};for(gn=Zt.length;gn--;){Y=Zt[gn];var _c=Y,At=_c.name,Dd=_c.namespaceURI;if(se=At==="value"?Y.value:sO(Y.value),ze=Ct(At),Ft.attrName=ze,Ft.attrValue=se,Ft.keepAttr=!0,Ft.forceKeepAttr=void 0,ii("uponSanitizeAttribute",x,Ft),se=Ft.attrValue,!Ft.forceKeepAttr&&(Pd(At,x),!!Ft.keepAttr)){if(!ni&&Gt(/\/>/i,se)){Pd(At,x);continue}_&&(se=zn(se,me," "),se=zn(se,N," "),se=zn(se,V," "));var Ub=Ct(x.nodeName);if(!!Vb(Ub,ze,se)){if(U&&(ze==="id"||ze==="name")&&(Pd(At,x),se=ie+se),b&&bi(d)==="object"&&typeof d.getAttributeType=="function"&&!Dd)switch(d.getAttributeType(Ub,ze)){case"TrustedHTML":{se=b.createHTML(se);break}case"TrustedScriptURL":{se=b.createScriptURL(se);break}}try{Dd?x.setAttributeNS(Dd,At,se):x.setAttribute(At,se),rg(e.removed)}catch{}}}}ii("afterSanitizeAttributes",x,null)}},X6=function de(x){var Y,se=$b(x);for(ii("beforeSanitizeShadowDOM",x,null);Y=se.nextNode();)ii("uponSanitizeShadowNode",Y,null),!Fb(Y)&&(Y.content instanceof i&&de(Y.content),Gb(Y));ii("afterSanitizeShadowDOM",x,null)};return e.sanitize=function(de){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y,se,ze,gn,Zt;if(mn=!de,mn&&(de="<!-->"),typeof de!="string"&&!Xo(de))if(typeof de.toString=="function"){if(de=de.toString(),typeof de!="string")throw xf("dirty is not a string, aborting")}else throw xf("toString is not a function");if(!e.isSupported){if(bi(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof de=="string")return t.toStaticHTML(de);if(Xo(de))return t.toStaticHTML(de.outerHTML)}return de}if(j||Cd(x),e.removed=[],typeof de=="string"&&(le=!1),le){if(de.nodeName){var Ft=Ct(de.nodeName);if(!Le[Ft]||pn[Ft])throw xf("root node is forbidden and cannot be sanitized in-place")}}else if(de instanceof a)Y=Rb("<!---->"),se=Y.ownerDocument.importNode(de,!0),se.nodeType===1&&se.nodeName==="BODY"||se.nodeName==="HTML"?Y=se:Y.appendChild(se);else{if(!W&&!_&&!k&&de.indexOf("<")===-1)return b&&B?b.createHTML(de):de;if(Y=Rb(de),!Y)return W?null:B?O:""}Y&&G&&rr(Y.firstChild);for(var _c=$b(le?de:Y);ze=_c.nextNode();)ze.nodeType===3&&ze===gn||Fb(ze)||(ze.content instanceof i&&X6(ze.content),Gb(ze),gn=ze);if(gn=null,le)return de;if(W){if(J)for(Zt=F.call(Y.ownerDocument);Y.firstChild;)Zt.appendChild(Y.firstChild);else Zt=Y;return(ft.shadowroot||ft.shadowrootmod)&&(Zt=D.call(n,Zt,!0)),Zt}var At=k?Y.outerHTML:Y.innerHTML;return k&&Le["!doctype"]&&Y.ownerDocument&&Y.ownerDocument.doctype&&Y.ownerDocument.doctype.name&&Gt(yO,Y.ownerDocument.doctype.name)&&(At="<!DOCTYPE "+Y.ownerDocument.doctype.name+`>
`+At),_&&(At=zn(At,me," "),At=zn(At,N," "),At=zn(At,V," ")),b&&B?b.createHTML(At):At},e.setConfig=function(de){Cd(de),j=!0},e.clearConfig=function(){ba=null,j=!1},e.isValidAttribute=function(de,x,Y){ba||Cd({});var se=Ct(de),ze=Ct(x);return Vb(se,ze,Y)},e.addHook=function(de,x){typeof x=="function"&&(te[de]=te[de]||[],qa(te[de],x))},e.removeHook=function(de){if(te[de])return rg(te[de])},e.removeHooks=function(de){te[de]&&(te[de]=[])},e.removeAllHooks=function(){te={}},e}var EO=ug();function wO(t,e){var i;const n=(i=t.hooks)!=null?i:{};let r;for(r in n){const s=n[r];s!==void 0&&e.addHook(r,s)}}function cg(){return EO()}function SO(t={},e=cg){const n=e();wO(t,n);const r=function(i,s){var c,h;const a=s.value;if(s.oldValue===a)return;const o=`${a}`,l=s.arg,u=t.namedConfigurations,f=(c=t.default)!=null?c:{};if(u&&l!==void 0){i.innerHTML=n.sanitize(o,(h=u[l])!=null?h:f);return}i.innerHTML=n.sanitize(o,f)};return{mounted:r,updated:r}}const fg={install(t,e={},n=cg){t.directive("dompurify-html",SO(e,n))}};var Cf=!1;function Gl(t,e,n){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,n),n):(t[e]=n,n)}function Af(t,e){if(Array.isArray(t)){t.splice(e,1);return}delete t[e]}function OO(){return hg().__VUE_DEVTOOLS_GLOBAL_HOOK__}function hg(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const xO=typeof Proxy=="function",MO="devtools-plugin:setup",TO="plugin:settings:set";let $s,Pf;function NO(){var t;return $s!==void 0||(typeof window<"u"&&window.performance?($s=!0,Pf=window.performance):typeof globalThis<"u"&&((t=globalThis.perf_hooks)===null||t===void 0?void 0:t.performance)?($s=!0,Pf=globalThis.perf_hooks.performance):$s=!1),$s}function LO(){return NO()?Pf.now():Date.now()}class CO{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const o=e.settings[a];r[a]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return LO()}},n&&n.on(TO,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:o,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function dg(t,e){const n=t,r=hg(),i=OO(),s=xO&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(MO,t,e);else{const a=s?new CO(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Ha;const za=t=>Ha=t,pg=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function os(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var hr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(hr||(hr={}));const Ul=typeof window<"u",Ya=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&Ul,mg=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function AO(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function Df(t,e,n){const r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){vg(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function gg(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Bl(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const Wl=typeof navigator=="object"?navigator:{userAgent:""},yg=(()=>/Macintosh/.test(Wl.userAgent)&&/AppleWebKit/.test(Wl.userAgent)&&!/Safari/.test(Wl.userAgent))(),vg=Ul?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!yg?PO:"msSaveOrOpenBlob"in Wl?DO:IO:()=>{};function PO(t,e="download",n){const r=document.createElement("a");r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?gg(r.href)?Df(t,e,n):(r.target="_blank",Bl(r)):Bl(r)):(r.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Bl(r)},0))}function DO(t,e="download",n){if(typeof t=="string")if(gg(t))Df(t,e,n);else{const r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Bl(r)})}else navigator.msSaveOrOpenBlob(AO(t,n),e)}function IO(t,e,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Df(t,e,n);const i=t.type==="application/octet-stream",s=/constructor/i.test(String(mg.HTMLElement))||"safari"in mg,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s||yg)&&typeof FileReader<"u"){const o=new FileReader;o.onloadend=function(){let l=o.result;if(typeof l!="string")throw r=null,new Error("Wrong reader.result type");l=a?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=l:location.assign(l),r=null},o.readAsDataURL(t)}else{const o=URL.createObjectURL(t);r?r.location.assign(o):location.href=o,r=null,setTimeout(function(){URL.revokeObjectURL(o)},4e4)}}function Lt(t,e){const n="\u{1F34D} "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,e):e==="error"?console.error(n):e==="warn"?console.warn(n):console.log(n)}function If(t){return"_a"in t&&"install"in t}function _g(){if(!("clipboard"in navigator))return Lt("Your browser doesn't support the Clipboard API","error"),!0}function bg(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(Lt('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function kO(t){if(!_g())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),Lt("Global state copied to clipboard.")}catch(e){if(bg(e))return;Lt("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function RO(t){if(!_g())try{Eg(t,JSON.parse(await navigator.clipboard.readText())),Lt("Global state pasted from clipboard.")}catch(e){if(bg(e))return;Lt("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function $O(t){try{vg(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){Lt("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let Gr;function FO(){Gr||(Gr=document.createElement("input"),Gr.type="file",Gr.accept=".json");function t(){return new Promise((e,n)=>{Gr.onchange=async()=>{const r=Gr.files;if(!r)return e(null);const i=r.item(0);return e(i?{text:await i.text(),file:i}:null)},Gr.oncancel=()=>e(null),Gr.onerror=n,Gr.click()})}return t}async function VO(t){try{const n=await FO()();if(!n)return;const{text:r,file:i}=n;Eg(t,JSON.parse(r)),Lt(`Global state imported from "${i.name}".`)}catch(e){Lt("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function Eg(t,e){for(const n in e){const r=t.state.value[n];r?Object.assign(r,e[n]):t.state.value[n]=e[n]}}function Yn(t){return{_custom:{display:t}}}const wg="\u{1F34D} Pinia (root)",kf="_root";function jO(t){return If(t)?{id:kf,label:wg}:{id:t.$id,label:t.$id}}function GO(t){if(If(t)){const n=Array.from(t._s.keys()),r=t._s;return{state:n.map(s=>({editable:!0,key:s,value:t.state.value[s]})),getters:n.filter(s=>r.get(s)._getters).map(s=>{const a=r.get(s);return{editable:!1,key:s,value:a._getters.reduce((o,l)=>(o[l]=a[l],o),{})}})}}const e={state:Object.keys(t.$state).map(n=>({editable:!0,key:n,value:t.$state[n]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(n=>({editable:!1,key:n,value:t[n]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(n=>({editable:!0,key:n,value:t[n]}))),e}function UO(t){return t?Array.isArray(t)?t.reduce((e,n)=>(e.keys.push(n.key),e.operations.push(n.type),e.oldValue[n.key]=n.oldValue,e.newValue[n.key]=n.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Yn(t.type),key:Yn(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function BO(t){switch(t){case hr.direct:return"mutation";case hr.patchFunction:return"$patch";case hr.patchObject:return"$patch";default:return"unknown"}}let Fs=!0;const ql=[],ls="pinia:mutations",Ut="pinia",{assign:WO}=Object,Hl=t=>"\u{1F34D} "+t;function qO(t,e){dg({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ql,app:t},n=>{typeof n.now!="function"&&Lt("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:ls,label:"Pinia \u{1F34D}",color:15064968}),n.addInspector({id:Ut,label:"Pinia \u{1F34D}",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{kO(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await RO(e),n.sendInspectorTree(Ut),n.sendInspectorState(Ut)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{$O(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await VO(e),n.sendInspectorTree(Ut),n.sendInspectorState(Ut)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:r=>{const i=e._s.get(r);i?typeof i.$reset!="function"?Lt(`Cannot reset "${r}" store because it doesn't have a "$reset" method implemented.`,"warn"):(i.$reset(),Lt(`Store "${r}" reset.`)):Lt(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((r,i)=>{const s=r.componentInstance&&r.componentInstance.proxy;if(s&&s._pStores){const a=r.componentInstance.proxy._pStores;Object.values(a).forEach(o=>{r.instanceData.state.push({type:Hl(o.$id),key:"state",editable:!0,value:o._isOptionsAPI?{_custom:{value:Ee(o.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>o.$reset()}]}}:Object.keys(o.$state).reduce((l,u)=>(l[u]=o.$state[u],l),{})}),o._getters&&o._getters.length&&r.instanceData.state.push({type:Hl(o.$id),key:"getters",editable:!1,value:o._getters.reduce((l,u)=>{try{l[u]=o[u]}catch(f){l[u]=f}return l},{})})})}}),n.on.getInspectorTree(r=>{if(r.app===t&&r.inspectorId===Ut){let i=[e];i=i.concat(Array.from(e._s.values())),r.rootNodes=(r.filter?i.filter(s=>"$id"in s?s.$id.toLowerCase().includes(r.filter.toLowerCase()):wg.toLowerCase().includes(r.filter.toLowerCase())):i).map(jO)}}),n.on.getInspectorState(r=>{if(r.app===t&&r.inspectorId===Ut){const i=r.nodeId===kf?e:e._s.get(r.nodeId);if(!i)return;i&&(r.state=GO(i))}}),n.on.editInspectorState((r,i)=>{if(r.app===t&&r.inspectorId===Ut){const s=r.nodeId===kf?e:e._s.get(r.nodeId);if(!s)return Lt(`store "${r.nodeId}" not found`,"error");const{path:a}=r;If(s)?a.unshift("state"):(a.length!==1||!s._customProperties.has(a[0])||a[0]in s.$state)&&a.unshift("$state"),Fs=!1,r.set(s,a,r.state.value),Fs=!0}}),n.on.editComponentState(r=>{if(r.type.startsWith("\u{1F34D}")){const i=r.type.replace(/^\s*/,""),s=e._s.get(i);if(!s)return Lt(`store "${i}" not found`,"error");const{path:a}=r;if(a[0]!=="state")return Lt(`Invalid path for store "${i}":
${a}
Only state can be modified.`);a[0]="$state",Fs=!1,r.set(s,a,r.state.value),Fs=!0}})})}function HO(t,e){ql.includes(Hl(e.$id))||ql.push(Hl(e.$id)),dg({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ql,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const r=typeof n.now=="function"?n.now.bind(n):Date.now;e.$onAction(({after:a,onError:o,name:l,args:u})=>{const f=Sg++;n.addTimelineEvent({layerId:ls,event:{time:r(),title:"\u{1F6EB} "+l,subtitle:"start",data:{store:Yn(e.$id),action:Yn(l),args:u},groupId:f}}),a(c=>{Ei=void 0,n.addTimelineEvent({layerId:ls,event:{time:r(),title:"\u{1F6EC} "+l,subtitle:"end",data:{store:Yn(e.$id),action:Yn(l),args:u,result:c},groupId:f}})}),o(c=>{Ei=void 0,n.addTimelineEvent({layerId:ls,event:{time:r(),logType:"error",title:"\u{1F4A5} "+l,subtitle:"end",data:{store:Yn(e.$id),action:Yn(l),args:u,error:c},groupId:f}})})},!0),e._customProperties.forEach(a=>{Ge(()=>w(e[a]),(o,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(Ut),Fs&&n.addTimelineEvent({layerId:ls,event:{time:r(),title:"Change",subtitle:a,data:{newValue:o,oldValue:l},groupId:Ei}})},{deep:!0})}),e.$subscribe(({events:a,type:o},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(Ut),!Fs)return;const u={time:r(),title:BO(o),data:WO({store:Yn(e.$id)},UO(a)),groupId:Ei};o===hr.patchFunction?u.subtitle="\u2935\uFE0F":o===hr.patchObject?u.subtitle="\u{1F9E9}":a&&!Array.isArray(a)&&(u.subtitle=a.type),a&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:a}}),n.addTimelineEvent({layerId:ls,event:u})},{detached:!0,flush:"sync"});const i=e._hotUpdate;e._hotUpdate=ui(a=>{i(a),n.addTimelineEvent({layerId:ls,event:{time:r(),title:"\u{1F525} "+e.$id,subtitle:"HMR update",data:{store:Yn(e.$id),info:Yn("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(Ut),n.sendInspectorState(Ut)});const{$dispose:s}=e;e.$dispose=()=>{s(),n.notifyComponentUpdate(),n.sendInspectorTree(Ut),n.sendInspectorState(Ut),n.getSettings().logStoreChanges&&Lt(`Disposed "${e.$id}" store \u{1F5D1}`)},n.notifyComponentUpdate(),n.sendInspectorTree(Ut),n.sendInspectorState(Ut),n.getSettings().logStoreChanges&&Lt(`"${e.$id}" store installed \u{1F195}`)})}let Sg=0,Ei;function Og(t,e,n){const r=e.reduce((i,s)=>(i[s]=Ee(t)[s],i),{});for(const i in r)t[i]=function(){const s=Sg,a=n?new Proxy(t,{get(...l){return Ei=s,Reflect.get(...l)},set(...l){return Ei=s,Reflect.set(...l)}}):t;Ei=s;const o=r[i].apply(a,arguments);return Ei=void 0,o}}function zO({app:t,store:e,options:n}){if(e.$id.startsWith("__hot:"))return;e._isOptionsAPI=!!n.state,Og(e,Object.keys(n.actions),e._isOptionsAPI);const r=e._hotUpdate;Ee(e)._hotUpdate=function(i){r.apply(this,arguments),Og(e,Object.keys(i._hmrPayload.actions),!!e._isOptionsAPI)},HO(t,e)}function xg(){const t=Xd(!0),e=t.run(()=>ge({}));let n=[],r=[];const i=ui({install(s){za(i),i._a=s,s.provide(pg,i),s.config.globalProperties.$pinia=i,Ya&&qO(s,i),r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!Cf?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return Ya&&typeof Proxy<"u"&&i.use(zO),i}function Mg(t,e){for(const n in e){const r=e[n];if(!(n in t))continue;const i=t[n];os(i)&&os(r)&&!tt(r)&&!ar(r)?t[n]=Mg(i,r):t[n]=r}return t}const Tg=()=>{};function Ng(t,e,n,r=Tg){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Kd()&&Z1(i),i}function Vs(t,...e){t.slice().forEach(n=>{n(...e)})}const YO=t=>t();function Rf(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];os(i)&&os(r)&&t.hasOwnProperty(n)&&!tt(r)&&!ar(r)?t[n]=Rf(i,r):t[n]=r}return t}const XO=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function KO(t){return!os(t)||!t.hasOwnProperty(XO)}const{assign:Pn}=Object;function Lg(t){return!!(tt(t)&&t.effect)}function Cg(t,e,n,r){const{state:i,actions:s,getters:a}=e,o=n.state.value[t];let l;function u(){!o&&(process.env.NODE_ENV==="production"||!r)&&(n.state.value[t]=i?i():{});const f=process.env.NODE_ENV!=="production"&&r?kc(ge(i?i():{}).value):kc(n.state.value[t]);return Pn(f,s,Object.keys(a||{}).reduce((c,h)=>(process.env.NODE_ENV!=="production"&&h in f&&console.warn(`[\u{1F34D}]: A getter cannot have the same name as another state property. Rename one of them. Found with "${h}" in store "${t}".`),c[h]=ui(fe(()=>{za(n);const d=n._s.get(t);return a[h].call(d,d)})),c),{}))}return l=$f(t,u,e,n,r,!0),l}function $f(t,e,n={},r,i,s){let a;const o=Pn({actions:{}},n);if(process.env.NODE_ENV!=="production"&&!r._e.active)throw new Error("Pinia destroyed");const l={deep:!0};process.env.NODE_ENV!=="production"&&!Cf&&(l.onTrigger=A=>{u?d=A:u==!1&&!M._hotUpdating&&(Array.isArray(d)?d.push(A):console.error("\u{1F34D} debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let u,f,c=[],h=[],d;const p=r.state.value[t];!s&&!p&&(process.env.NODE_ENV==="production"||!i)&&(r.state.value[t]={});const m=ge({});let g;function y(A){let D;u=f=!1,process.env.NODE_ENV!=="production"&&(d=[]),typeof A=="function"?(A(r.state.value[t]),D={type:hr.patchFunction,storeId:t,events:d}):(Rf(r.state.value[t],A),D={type:hr.patchObject,payload:A,storeId:t,events:d});const P=g=Symbol();yl().then(()=>{g===P&&(u=!0)}),f=!0,Vs(c,D,r.state.value[t])}const v=s?function(){const{state:D}=n,P=D?D():{};this.$patch(te=>{Pn(te,P)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`\u{1F34D}: Store "${t}" is built using the setup syntax and does not implement $reset().`)}:Tg;function E(){a.stop(),c=[],h=[],r._s.delete(t)}function b(A,D){return function(){za(r);const P=Array.from(arguments),te=[],me=[];function N(Z){te.push(Z)}function V(Z){me.push(Z)}Vs(h,{args:P,name:A,store:M,after:N,onError:V});let z;try{z=D.apply(this&&this.$id===t?this:M,P)}catch(Z){throw Vs(me,Z),Z}return z instanceof Promise?z.then(Z=>(Vs(te,Z),Z)).catch(Z=>(Vs(me,Z),Promise.reject(Z))):(Vs(te,z),z)}}const O=ui({actions:{},getters:{},state:[],hotState:m}),T={_p:r,$id:t,$onAction:Ng.bind(null,h),$patch:y,$reset:v,$subscribe(A,D={}){const P=Ng(c,A,D.detached,()=>te()),te=a.run(()=>Ge(()=>r.state.value[t],me=>{(D.flush==="sync"?f:u)&&A({storeId:t,type:hr.direct,events:d},me)},Pn({},l,D)));return P},$dispose:E},M=cl(process.env.NODE_ENV!=="production"||Ya?Pn({_hmrPayload:O,_customProperties:ui(new Set)},T):T);r._s.set(t,M);const F=(r._a&&r._a.runWithContext||YO)(()=>r._e.run(()=>(a=Xd()).run(e)));for(const A in F){const D=F[A];if(tt(D)&&!Lg(D)||ar(D))process.env.NODE_ENV!=="production"&&i?Gl(m.value,A,pl(F,A)):s||(p&&KO(D)&&(tt(D)?D.value=p[A]:Rf(D,p[A])),r.state.value[t][A]=D),process.env.NODE_ENV!=="production"&&O.state.push(A);else if(typeof D=="function"){const P=process.env.NODE_ENV!=="production"&&i?D:b(A,D);F[A]=P,process.env.NODE_ENV!=="production"&&(O.actions[A]=D),o.actions[A]=D}else process.env.NODE_ENV!=="production"&&Lg(D)&&(O.getters[A]=s?n.getters[A]:D,Ul&&(F._getters||(F._getters=ui([]))).push(A))}if(Pn(M,F),Pn(Ee(M),F),Object.defineProperty(M,"$state",{get:()=>process.env.NODE_ENV!=="production"&&i?m.value:r.state.value[t],set:A=>{if(process.env.NODE_ENV!=="production"&&i)throw new Error("cannot set hotState");y(D=>{Pn(D,A)})}}),process.env.NODE_ENV!=="production"&&(M._hotUpdate=ui(A=>{M._hotUpdating=!0,A._hmrPayload.state.forEach(D=>{if(D in M.$state){const P=A.$state[D],te=M.$state[D];typeof P=="object"&&os(P)&&os(te)?Mg(P,te):A.$state[D]=te}Gl(M,D,pl(A.$state,D))}),Object.keys(M.$state).forEach(D=>{D in A.$state||Af(M,D)}),u=!1,f=!1,r.state.value[t]=pl(A._hmrPayload,"hotState"),f=!0,yl().then(()=>{u=!0});for(const D in A._hmrPayload.actions){const P=A[D];Gl(M,D,b(D,P))}for(const D in A._hmrPayload.getters){const P=A._hmrPayload.getters[D],te=s?fe(()=>(za(r),P.call(M,M))):P;Gl(M,D,te)}Object.keys(M._hmrPayload.getters).forEach(D=>{D in A._hmrPayload.getters||Af(M,D)}),Object.keys(M._hmrPayload.actions).forEach(D=>{D in A._hmrPayload.actions||Af(M,D)}),M._hmrPayload=A._hmrPayload,M._getters=A._getters,M._hotUpdating=!1})),Ya){const A={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(D=>{Object.defineProperty(M,D,Pn({value:M[D]},A))})}return r._p.forEach(A=>{if(Ya){const D=a.run(()=>A({store:M,app:r._a,pinia:r,options:o}));Object.keys(D||{}).forEach(P=>M._customProperties.add(P)),Pn(M,D)}else Pn(M,a.run(()=>A({store:M,app:r._a,pinia:r,options:o})))}),process.env.NODE_ENV!=="production"&&M.$state&&typeof M.$state=="object"&&typeof M.$state.constructor=="function"&&!M.$state.constructor.toString().includes("[native code]")&&console.warn(`[\u{1F34D}]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${M.$id}".`),p&&s&&n.hydrate&&n.hydrate(M.$state,p),u=!0,f=!0,M}function wi(t,e,n){let r,i;const s=typeof e=="function";if(typeof t=="string")r=t,i=s?n:e;else if(i=t,r=t.id,process.env.NODE_ENV!=="production"&&typeof r!="string")throw new Error('[\u{1F34D}]: "defineStore()" must be passed a store id as its first argument.');function a(o,l){const u=Lw();if(o=(process.env.NODE_ENV==="test"&&Ha&&Ha._testing?null:o)||(u?Ds(pg,null):null),o&&za(o),process.env.NODE_ENV!=="production"&&!Ha)throw new Error(`[\u{1F34D}]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);o=Ha,o._s.has(r)||(s?$f(r,e,i,o):Cg(r,i,o),process.env.NODE_ENV!=="production"&&(a._pinia=o));const f=o._s.get(r);if(process.env.NODE_ENV!=="production"&&l){const c="__hot:"+r,h=s?$f(c,e,i,o,!0):Cg(c,Pn({},i),o,!0);l._hotUpdate(h),delete o.state.value[c],o._s.delete(c)}if(process.env.NODE_ENV!=="production"&&Ul){const c=Rs();if(c&&c.proxy&&!l){const h=c.proxy,d="_pStores"in h?h._pStores:h._pStores={};d[r]=f}}return f}return a.$id=r,a}function Pe(t){if(Cf)return kc(t);{t=Ee(t);const e={};for(const n in t){const r=t[n];(tt(r)||ar(r))&&(e[n]=pl(t,n))}return e}}function ZO(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var us=1,cs=2,js=3,JO=4,Ff=5,Ag=6378137,QO=6356752314e-3,Pg=.0066943799901413165,Xa=484813681109536e-20,H=Math.PI/2,ex=.16666666666666666,tx=.04722222222222222,nx=.022156084656084655,ne=1e-10,Dt=.017453292519943295,dr=57.29577951308232,Ye=Math.PI/4,Ka=Math.PI*2,_t=3.14159265359,cn={};cn.greenwich=0,cn.lisbon=-9.131906111111,cn.paris=2.337229166667,cn.bogota=-74.080916666667,cn.madrid=-3.687938888889,cn.rome=12.452333333333,cn.bern=7.439583333333,cn.jakarta=106.807719444444,cn.ferro=-17.666666666667,cn.brussels=4.367975,cn.stockholm=18.058277777778,cn.athens=23.7163375,cn.oslo=10.722916666667;const rx={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var Dg=/[\s_\-\/\(\)]/g;function Si(t,e){if(t[e])return t[e];for(var n=Object.keys(t),r=e.toLowerCase().replace(Dg,""),i=-1,s,a;++i<n.length;)if(s=n[i],a=s.toLowerCase().replace(Dg,""),a===r)return t[s]}function Vf(t){var e={},n=t.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var u=l.split("=");return u.push(!0),o[u[0].toLowerCase()]=u[1],o},{}),r,i,s,a={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*Dt},lat_1:function(o){e.lat1=o*Dt},lat_2:function(o){e.lat2=o*Dt},lat_ts:function(o){e.lat_ts=o*Dt},lon_0:function(o){e.long0=o*Dt},lon_1:function(o){e.long1=o*Dt},lon_2:function(o){e.long2=o*Dt},alpha:function(o){e.alpha=parseFloat(o)*Dt},gamma:function(o){e.rectified_grid_angle=parseFloat(o)},lonc:function(o){e.longc=o*Dt},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r:function(o){e.a=e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var l=Si(rx,o);l&&(e.to_meter=l.to_meter)},from_greenwich:function(o){e.from_greenwich=o*Dt},pm:function(o){var l=Si(cn,o);e.from_greenwich=(l||parseFloat(o))*Dt},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0}};for(r in n)i=n[r],r in a?(s=a[r],typeof s=="function"?s(i):e[s]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var Za=1,Ig=2,kg=3,zl=4,Rg=5,jf=-1,ix=/\s/,sx=/[A-Za-z]/,ax=/[A-Za-z84_]/,Yl=/[,\]]/,$g=/[\d\.E\-\+]/;function Ur(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Za}Ur.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==zl)for(;ix.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Za:return this.neutral(t);case Ig:return this.keyword(t);case zl:return this.quoted(t);case Rg:return this.afterquote(t);case kg:return this.number(t);case jf:return}},Ur.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=zl;return}if(Yl.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)},Ur.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Za;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Za,this.currentObject=this.stack.pop(),this.currentObject||(this.state=jf);return}},Ur.prototype.number=function(t){if($g.test(t)){this.word+=t;return}if(Yl.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)},Ur.prototype.quoted=function(t){if(t==='"'){this.state=Rg;return}this.word+=t},Ur.prototype.keyword=function(t){if(ax.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Za;return}if(Yl.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)},Ur.prototype.neutral=function(t){if(sx.test(t)){this.word=t,this.state=Ig;return}if(t==='"'){this.word="",this.state=zl;return}if($g.test(t)){this.word=t,this.state=kg;return}if(Yl.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)},Ur.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===jf)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function ox(t){var e=new Ur(t);return e.output()}function Fg(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(s,a){return Gs(a,s),s},r);e&&(t[e]=i)}function Gs(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},Gs(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Gs(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Gs(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],Fg(e,n,t);return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return Gs(t,e[n]);return Fg(e,n,t)}}var lx=.017453292519943295;function ux(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],e.length===3&&(t[n]=e[2](t[n])))}function pr(t){return t*lx}function cx(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function a(u){var f=t.to_meter||1;return u*f}var o=function(u){return ux(t,u)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",pr],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",pr],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",pr],["lat0","latitude_of_origin",pr],["lat0","standard_parallel_1",pr],["lat1","standard_parallel_1",pr],["lat2","standard_parallel_2",pr],["azimuth","Azimuth"],["alpha","azimuth",pr],["srsCode","name"]];l.forEach(o),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=pr(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=pr(t.lat0>0?90:-90))}function Vg(t){var e=ox(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return Gs(e,i),cx(i),i}function en(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?en[t]=Vf(arguments[1]):en[t]=Vg(arguments[1]):en[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){Array.isArray(r)?en.apply(e,r):en(r)});if(typeof t=="string"){if(t in en)return en[t]}else"EPSG"in t?en["EPSG:"+t.EPSG]=t:"ESRI"in t?en["ESRI:"+t.ESRI]=t:"IAU2000"in t?en["IAU2000:"+t.IAU2000]=t:console.log(t);return}}ZO(en);function fx(t){return typeof t=="string"}function hx(t){return t in en}var dx=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function px(t){return dx.some(function(e){return t.indexOf(e)>-1})}var mx=["3857","900913","3785","102113"];function gx(t){var e=Si(t,"authority");if(!!e){var n=Si(e,"epsg");return n&&mx.indexOf(n)>-1}}function yx(t){var e=Si(t,"extension");if(!!e)return Si(e,"proj4")}function vx(t){return t[0]==="+"}function _x(t){if(fx(t)){if(hx(t))return en[t];if(px(t)){var e=Vg(t);if(gx(e))return en["EPSG:3857"];var n=yx(e);return n?Vf(n):e}if(vx(t))return Vf(t)}else return t}function jg(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)n=e[r],n!==void 0&&(t[r]=n);return t}function mr(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function Ja(t){return t<0?-1:1}function oe(t){return Math.abs(t)<=_t?t:t-Ja(t)*Ka}function Xn(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(H-e))/r}function Qa(t,e){for(var n=.5*t,r,i,s=H-2*Math.atan(e),a=0;a<=15;a++)if(r=t*Math.sin(s),i=H-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function bx(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=mr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Ex(t){var e=t.x,n=t.y;if(n*dr>90&&n*dr<-90&&e*dr>180&&e*dr<-180)return null;var r,i;if(Math.abs(Math.abs(n)-H)<=ne)return null;if(this.sphere)r=this.x0+this.a*this.k0*oe(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(Ye+.5*n));else{var s=Math.sin(n),a=Xn(this.e,n,s);r=this.x0+this.a*this.k0*oe(e-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return t.x=r,t.y=i,t}function wx(t){var e=t.x-this.x0,n=t.y-this.y0,r,i;if(this.sphere)i=H-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(i=Qa(this.e,s),i===-9999)return null}return r=oe(this.long0+e/(this.a*this.k0)),t.x=r,t.y=i,t}var Sx=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const Ox={init:bx,forward:Ex,inverse:wx,names:Sx};function xx(){}function Gg(t){return t}var Mx=["longlat","identity"],Tx=[Ox,{init:xx,forward:Gg,inverse:Gg,names:Mx}],Xl={},Kl=[];function Ug(t,e){var n=Kl.length;return t.names?(Kl[n]=t,t.names.forEach(function(r){Xl[r.toLowerCase()]=n}),this):(console.log(e),!0)}function Nx(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Xl[e]<"u"&&Kl[Xl[e]])return Kl[Xl[e]]}function Lx(){Tx.forEach(Ug)}const Cx={start:Lx,add:Ug,get:Nx};var we={};we.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},we.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},we.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},we.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},we.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},we.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},we.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},we.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},we.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},we.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},we.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},we.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},we.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},we.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},we.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},we.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},we.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},we.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},we.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},we.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},we.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},we.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},we.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},we.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},we.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},we.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},we.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},we.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},we.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},we.hough={a:6378270,rf:297,ellipseName:"Hough"},we.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},we.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},we.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},we.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},we.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},we.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},we.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},we.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},we.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},we.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},we.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},we.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var Ax=we.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};we.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function Px(t,e,n,r){var i=t*t,s=e*e,a=(i-s)/i,o=0;r?(t*=1-a*(ex+a*(tx+a*nx)),i=t*t,a=0):o=Math.sqrt(a);var l=(i-s)/s;return{es:a,e:o,ep2:l}}function Dx(t,e,n,r,i){if(!t){var s=Si(we,r);s||(s=Ax),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<ne)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}var Tt={};Tt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Tt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Tt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Tt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Tt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Tt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Tt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Tt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Tt.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},Tt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Tt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Tt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Tt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Tt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Tt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Tt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Tt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Tt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function Ix(t,e,n,r,i,s,a){var o={};return t===void 0||t==="none"?o.datum_type=Ff:o.datum_type=JO,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=us),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=cs,o.datum_params[3]*=Xa,o.datum_params[4]*=Xa,o.datum_params[5]*=Xa,o.datum_params[6]=o.datum_params[6]/1e6+1)),a&&(o.datum_type=js,o.grids=a),o.a=n,o.b=r,o.es=i,o.ep2=s,o}var Bg={};function kx(t,e){var n=new DataView(e),r=Fx(n),i=Vx(n,r),s=jx(n,i,r),a={header:i,subgrids:s};return Bg[t]=a,a}function Rx(t){if(t===void 0)return null;var e=t.split(",");return e.map($x)}function $x(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Bg[t]||null,isNull:!1}}function Us(t){return t/3600*Math.PI/180}function Fx(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Vx(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Gf(t,56,56+8).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function Gf(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function jx(t,e,n){for(var r=176,i=[],s=0;s<e.nSubgrids;s++){var a=Ux(t,r,n),o=Bx(t,r,a,n),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);i.push({ll:[Us(a.lowerLongitude),Us(a.lowerLatitude)],del:[Us(a.longitudeInterval),Us(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:Gx(o)}),r+=176+a.gridNodeCount*16}return i}function Gx(t){return t.map(function(e){return[Us(e.longitudeShift),Us(e.latitudeShift)]})}function Ux(t,e,n){return{name:Gf(t,e+8,e+16).trim(),parent:Gf(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function Bx(t,e,n,r){for(var i=e+176,s=16,a=[],o=0;o<n.gridNodeCount;o++){var l={latitudeShift:t.getFloat32(i+o*s,r),longitudeShift:t.getFloat32(i+o*s+4,r),latitudeAccuracy:t.getFloat32(i+o*s+8,r),longitudeAccuracy:t.getFloat32(i+o*s+12,r)};a.push(l)}return a}function gr(t,e){if(!(this instanceof gr))return new gr(t);e=e||function(u){if(u)throw u};var n=_x(t);if(typeof n!="object"){e(t);return}var r=gr.projections.get(n.projName);if(!r){e(t);return}if(n.datumCode&&n.datumCode!=="none"){var i=Si(Tt,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=Dx(n.a,n.b,n.rf,n.ellps,n.sphere),a=Px(s.a,s.b,s.rf,n.R_A),o=Rx(n.nadgrids),l=n.datum||Ix(n.datumCode,n.datum_params,s.a,s.b,a.es,a.ep2,o);jg(this,n),jg(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),e(null,this)}gr.projections=Cx,gr.projections.start();function Wx(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===us?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===cs?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function Wg(t,e,n){var r=t.x,i=t.y,s=t.z?t.z:0,a,o,l,u;if(i<-H&&i>-1.001*H)i=-H;else if(i>H&&i<1.001*H)i=H;else{if(i<-H)return{x:-1/0,y:-1/0,z:t.z};if(i>H)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),o=Math.sin(i),u=Math.cos(i),l=o*o,a=n/Math.sqrt(1-e*l),{x:(a+s)*u*Math.cos(r),y:(a+s)*u*Math.sin(r),z:(a*(1-e)+s)*o}}function qg(t,e,n,r){var i=1e-12,s=i*i,a=30,o,l,u,f,c,h,d,p,m,g,y,v,E,b=t.x,O=t.y,T=t.z?t.z:0,M,R,F;if(o=Math.sqrt(b*b+O*O),l=Math.sqrt(b*b+O*O+T*T),o/n<i){if(M=0,l/n<i)return R=H,F=-r,{x:t.x,y:t.y,z:t.z}}else M=Math.atan2(O,b);u=T/l,f=o/l,c=1/Math.sqrt(1-e*(2-e)*f*f),p=f*(1-e)*c,m=u*c,E=0;do E++,d=n/Math.sqrt(1-e*m*m),F=o*p+T*m-d*(1-e*m*m),h=e*d/(d+F),c=1/Math.sqrt(1-h*(2-h)*f*f),g=f*(1-h)*c,y=u*c,v=y*p-g*m,p=g,m=y;while(v*v>s&&E<a);return R=Math.atan(y/Math.abs(g)),{x:M,y:R,z:F}}function qx(t,e,n){if(e===us)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===cs){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+o*t.z)+r,y:u*(l*t.x+t.y-a*t.z)+i,z:u*(-o*t.x+a*t.y+t.z)+s}}}function Hx(t,e,n){if(e===us)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===cs){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6],f=(t.x-r)/u,c=(t.y-i)/u,h=(t.z-s)/u;return{x:f+l*c-o*h,y:-l*f+c+a*h,z:o*f-a*c+h}}}function Zl(t){return t===us||t===cs}function zx(t,e,n){if(Wx(t,e)||t.datum_type===Ff||e.datum_type===Ff)return n;var r=t.a,i=t.es;if(t.datum_type===js){var s=Hg(t,!1,n);if(s!==0)return;r=Ag,i=Pg}var a=e.a,o=e.b,l=e.es;if(e.datum_type===js&&(a=Ag,o=QO,l=Pg),i===l&&r===a&&!Zl(t.datum_type)&&!Zl(e.datum_type))return n;if(n=Wg(n,i,r),Zl(t.datum_type)&&(n=qx(n,t.datum_type,t.datum_params)),Zl(e.datum_type)&&(n=Hx(n,e.datum_type,e.datum_params)),n=qg(n,l,a,o),e.datum_type===js){var u=Hg(e,!0,n);if(u!==0)return}return n}function Hg(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},s=[];e:for(var a=0;a<t.grids.length;a++){var o=t.grids[a];if(s.push(o.name),o.isNull){i=r;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var l=o.grid.subgrids,u=0,f=l.length;u<f;u++){var c=l[u],h=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,d=c.ll[0]-h,p=c.ll[1]-h,m=c.ll[0]+(c.lim[0]-1)*c.del[0]+h,g=c.ll[1]+(c.lim[1]-1)*c.del[1]+h;if(!(p>r.y||d>r.x||g<r.y||m<r.x)&&(i=Yx(r,e,c),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*dr+" "+r.y*dr+" tried: '"+s+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function Yx(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=oe(i.x-Math.PI)+Math.PI;var s=zg(i,n);if(e){if(isNaN(s.x))return r;s.x=i.x-s.x,s.y=i.y-s.y;var a=9,o=1e-12,l,u;do{if(u=zg(s,n),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(u.x+s.x),y:i.y-(u.y+s.y)},s.x+=l.x,s.y+=l.y}while(a--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=oe(s.x+n.ll[0]),r.y=s.y+n.ll[1]}else isNaN(s.x)||(r.x=t.x+s.x,r.y=t.y+s.y);return r}function zg(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},s={x:Number.NaN,y:Number.NaN},a;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return s;a=r.y*e.lim[0]+r.x;var o={x:e.cvs[a][0],y:e.cvs[a][1]};a++;var l={x:e.cvs[a][0],y:e.cvs[a][1]};a+=e.lim[0];var u={x:e.cvs[a][0],y:e.cvs[a][1]};a--;var f={x:e.cvs[a][0],y:e.cvs[a][1]},c=i.x*i.y,h=i.x*(1-i.y),d=(1-i.x)*(1-i.y),p=(1-i.x)*i.y;return s.x=d*o.x+h*l.x+p*f.x+c*u.x,s.y=d*o.y+h*l.y+p*f.y+c*u.y,s}function Yg(t,e,n){var r=n.x,i=n.y,s=n.z||0,a,o,l,u={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(a=r,"ew".indexOf(t.axis[l])!==-1?o="x":o="y"):l===1?(a=i,"ns".indexOf(t.axis[l])!==-1?o="y":o="x"):(a=s,o="z"),t.axis[l]){case"e":u[o]=a;break;case"w":u[o]=-a;break;case"n":u[o]=a;break;case"s":u[o]=-a;break;case"u":n[o]!==void 0&&(u.z=a);break;case"d":n[o]!==void 0&&(u.z=-a);break;default:return null}return u}function Xg(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function Xx(t){Kg(t.x),Kg(t.y)}function Kg(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Kx(t,e){return(t.datum.datum_type===us||t.datum.datum_type===cs||t.datum.datum_type===js)&&e.datumCode!=="WGS84"||(e.datum.datum_type===us||e.datum.datum_type===cs||e.datum.datum_type===js)&&t.datumCode!=="WGS84"}function Jl(t,e,n,r){var i;Array.isArray(n)?n=Xg(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(Xx(n),t.datum&&e.datum&&Kx(t,e)&&(i=new gr("WGS84"),n=Jl(t,i,n,r),t=i),r&&t.axis!=="enu"&&(n=Yg(t,!1,n)),t.projName==="longlat")n={x:n.x*Dt,y:n.y*Dt,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=zx(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*dr,y:n.y*dr,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&e.axis!=="enu"?Yg(e,!0,n):(n&&!s&&delete n.z,n)}var Zg=gr("WGS84");function Uf(t,e,n,r){var i,s,a;return Array.isArray(n)?(i=Jl(t,e,n,r)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(s=Jl(t,e,n,r),a=Object.keys(n),a.length===2||a.forEach(function(o){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;s[o]=n[o]}),s)}function Jg(t){return t instanceof gr?t:t.oProj?t.oProj:gr(t)}function Bt(t,e,n){t=Jg(t);var r=!1,i;return typeof e>"u"?(e=t,t=Zg,r=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=Zg,r=!0),e=Jg(e),n?Uf(t,e,n):(i={forward:function(s,a){return Uf(t,e,s,a)},inverse:function(s,a){return Uf(e,t,s,a)}},r&&(i.oProj=e),i)}var Qg=6,ey="AJSAJS",ty="AFAFAF",Bs=65,fn=73,Dn=79,eo=86,to=90;const Zx={forward:ny,inverse:Jx,toPoint:ry};function ny(t,e){return e=e||5,tM(Qx({lat:t[1],lon:t[0]}),e)}function Jx(t){var e=Wf(ay(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function ry(t){var e=Wf(ay(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Bf(t){return t*(Math.PI/180)}function iy(t){return 180*(t/Math.PI)}function Qx(t){var e=t.lat,n=t.lon,r=6378137,i=.00669438,s=.9996,a,o,l,u,f,c,h,d=Bf(e),p=Bf(n),m,g;g=Math.floor((n+180)/6)+1,n===180&&(g=60),e>=56&&e<64&&n>=3&&n<12&&(g=32),e>=72&&e<84&&(n>=0&&n<9?g=31:n>=9&&n<21?g=33:n>=21&&n<33?g=35:n>=33&&n<42&&(g=37)),a=(g-1)*6-180+3,m=Bf(a),o=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(d)*Math.sin(d)),u=Math.tan(d)*Math.tan(d),f=o*Math.cos(d)*Math.cos(d),c=Math.cos(d)*(p-m),h=r*((1-i/4-3*i*i/64-5*i*i*i/256)*d-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*d)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*d)-35*i*i*i/3072*Math.sin(6*d));var y=s*l*(c+(1-u+f)*c*c*c/6+(5-18*u+u*u+72*f-58*o)*c*c*c*c*c/120)+5e5,v=s*(h+l*Math.tan(d)*(c*c/2+(5-u+9*f+4*f*f)*c*c*c*c/24+(61-58*u+u*u+600*f-330*o)*c*c*c*c*c*c/720));return e<0&&(v+=1e7),{northing:Math.round(v),easting:Math.round(y),zoneNumber:g,zoneLetter:eM(e)}}function Wf(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var s=.9996,a=6378137,o=.00669438,l,u=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),f,c,h,d,p,m,g,y,v,E=n-5e5,b=e;r<"N"&&(b-=1e7),g=(i-1)*6-180+3,l=o/(1-o),m=b/s,y=m/(a*(1-o/4-3*o*o/64-5*o*o*o/256)),v=y+(3*u/2-27*u*u*u/32)*Math.sin(2*y)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*y)+151*u*u*u/96*Math.sin(6*y),f=a/Math.sqrt(1-o*Math.sin(v)*Math.sin(v)),c=Math.tan(v)*Math.tan(v),h=l*Math.cos(v)*Math.cos(v),d=a*(1-o)/Math.pow(1-o*Math.sin(v)*Math.sin(v),1.5),p=E/(f*s);var O=v-f*Math.tan(v)/d*(p*p/2-(5+3*c+10*h-4*h*h-9*l)*p*p*p*p/24+(61+90*c+298*h+45*c*c-252*l-3*h*h)*p*p*p*p*p*p/720);O=iy(O);var T=(p-(1+2*c+h)*p*p*p/6+(5-2*h+28*c-3*h*h+8*l+24*c*c)*p*p*p*p*p/120)/Math.cos(v);T=g+iy(T);var M;if(t.accuracy){var R=Wf({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});M={top:R.lat,right:R.lon,bottom:O,left:T}}else M={lat:O,lon:T};return M}function eM(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function tM(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+nM(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function nM(t,e,n){var r=sy(n),i=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return rM(i,s,r)}function sy(t){var e=t%Qg;return e===0&&(e=Qg),e}function rM(t,e,n){var r=n-1,i=ey.charCodeAt(r),s=ty.charCodeAt(r),a=i+t-1,o=s+e,l=!1;a>to&&(a=a-to+Bs-1,l=!0),(a===fn||i<fn&&a>fn||(a>fn||i<fn)&&l)&&a++,(a===Dn||i<Dn&&a>Dn||(a>Dn||i<Dn)&&l)&&(a++,a===fn&&a++),a>to&&(a=a-to+Bs-1),o>eo?(o=o-eo+Bs-1,l=!0):l=!1,(o===fn||s<fn&&o>fn||(o>fn||s<fn)&&l)&&o++,(o===Dn||s<Dn&&o>Dn||(o>Dn||s<Dn)&&l)&&(o++,o===fn&&o++),o>eo&&(o=o-eo+Bs-1);var u=String.fromCharCode(a)+String.fromCharCode(o);return u}function ay(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,r="",i,s=0;!/[A-Z]/.test(i=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=i,s++}var a=parseInt(r,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(s++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+t;n=t.substring(s,s+=2);for(var l=sy(a),u=iM(n.charAt(0),l),f=sM(n.charAt(1),l);f<aM(o);)f+=2e6;var c=e-s;if(c%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var h=c/2,d=0,p=0,m,g,y,v,E;return h>0&&(m=1e5/Math.pow(10,h),g=t.substring(s,s+h),d=parseFloat(g)*m,y=t.substring(s+h),p=parseFloat(y)*m),v=d+u,E=p+f,{easting:v,northing:E,zoneLetter:o,zoneNumber:a,accuracy:m}}function iM(t,e){for(var n=ey.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===fn&&n++,n===Dn&&n++,n>to){if(i)throw"Bad character: "+t;n=Bs,i=!0}r+=1e5}return r}function sM(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=ty.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===fn&&n++,n===Dn&&n++,n>eo){if(i)throw"Bad character: "+t;n=Bs,i=!0}r+=1e5}return r}function aM(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Ws(t,e,n){if(!(this instanceof Ws))return new Ws(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ws.fromMGRS=function(t){return new Ws(ry(t))},Ws.prototype.toMGRS=function(t){return ny([this.x,this.y],t)};var oM=1,lM=.25,oy=.046875,ly=.01953125,uy=.01068115234375,uM=.75,cM=.46875,fM=.013020833333333334,hM=.007120768229166667,dM=.3645833333333333,pM=.005696614583333333,mM=.3076171875;function cy(t){var e=[];e[0]=oM-t*(lM+t*(oy+t*(ly+t*uy))),e[1]=t*(uM-t*(oy+t*(ly+t*uy)));var n=t*t;return e[2]=n*(cM-t*(fM+t*hM)),n*=t,e[3]=n*(dM-t*pM),e[4]=n*t*mM,e}function Ql(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var gM=20;function fy(t,e,n){for(var r=1/(1-e),i=t,s=gM;s;--s){var a=Math.sin(i),o=1-e*a*a;if(o=(Ql(i,a,Math.cos(i),n)-t)*(o*Math.sqrt(o))*r,i-=o,Math.abs(o)<ne)return i}return i}function yM(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=cy(this.es),this.ml0=Ql(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function vM(t){var e=t.x,n=t.y,r=oe(e-this.long0),i,s,a,o=Math.sin(n),l=Math.cos(n);if(this.es){var f=l*r,c=Math.pow(f,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),p=Math.abs(l)>ne?Math.tan(n):0,m=Math.pow(p,2),g=Math.pow(m,2);i=1-this.es*Math.pow(o,2),f=f/Math.sqrt(i);var y=Ql(n,o,l,this.en);s=this.a*(this.k0*f*(1+c/6*(1-m+h+c/20*(5-18*m+g+14*h-58*m*h+c/42*(61+179*g-g*m-479*m)))))+this.x0,a=this.a*(this.k0*(y-this.ml0+o*r*f/2*(1+c/12*(5-m+9*h+4*d+c/30*(61+g-58*m+270*h-330*m*h+c/56*(1385+543*g-g*m-3111*m))))))+this.y0}else{var u=l*Math.sin(r);if(Math.abs(Math.abs(u)-1)<ne)return 93;if(s=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,a=l*Math.cos(r)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(a),u>=1){if(u-1>ne)return 93;a=0}else a=Math.acos(a);n<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return t.x=s,t.y=a,t}function _M(t){var e,n,r,i,s=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=fy(e,this.es,this.en),Math.abs(n)<H){var c=Math.sin(n),h=Math.cos(n),d=Math.abs(h)>ne?Math.tan(n):0,p=this.ep2*Math.pow(h,2),m=Math.pow(p,2),g=Math.pow(d,2),y=Math.pow(g,2);e=1-this.es*Math.pow(c,2);var v=s*Math.sqrt(e)/this.k0,E=Math.pow(v,2);e=e*d,r=n-e*E/(1-this.es)*.5*(1-E/12*(5+3*g-9*p*g+p-4*m-E/30*(61+90*g-252*p*g+45*y+46*p-E/56*(1385+3633*g+4095*y+1574*y*g)))),i=oe(this.long0+v*(1-E/6*(1+2*g+p-E/20*(5+28*g+24*y+8*p*g+6*p-E/42*(61+662*g+1320*y+720*y*g))))/h)}else r=H*Ja(a),i=0;else{var o=Math.exp(s/this.k0),l=.5*(o-1/o),u=this.lat0+a/this.k0,f=Math.cos(u);e=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),r=Math.asin(e),a<0&&(r=-r),l===0&&f===0?i=0:i=oe(Math.atan2(l,f)+this.long0)}return t.x=i,t.y=r,t}var bM=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const eu={init:yM,forward:vM,inverse:_M,names:bM};function hy(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function In(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function EM(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function wM(t){var e=Math.abs(t);return e=EM(e*(1+e/(In(1,e)+1))),t<0?-e:e}function qf(t,e){for(var n=2*Math.cos(2*e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return e+a*Math.sin(2*e)}function SM(t,e){for(var n=2*Math.cos(e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return Math.sin(e)*a}function OM(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function dy(t,e,n){for(var r=Math.sin(e),i=Math.cos(e),s=hy(n),a=OM(n),o=2*i*a,l=-2*r*s,u=t.length-1,f=t[u],c=0,h=0,d=0,p,m;--u>=0;)p=h,m=c,h=f,c=d,f=-p+o*h-l*c+t[u],d=-m+l*h+o*c;return o=r*a,l=i*s,[o*f-l*d,o*d+l*f]}function xM(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(eu.init.apply(this),this.forward=eu.forward,this.inverse=eu.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=qf(this.cbg,this.lat0);this.Zb=-this.Qn*(r+SM(this.gtu,2*r))}function MM(t){var e=oe(t.x-this.long0),n=t.y;n=qf(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(e),a=Math.cos(e);n=Math.atan2(r,a*i),e=Math.atan2(s*i,In(r,i*a)),e=wM(Math.tan(e));var o=dy(this.gtu,2*n,2*e);n=n+o[0],e=e+o[1];var l,u;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,u=1/0),t.x=l,t.y=u,t}function TM(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var s=dy(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(hy(e));var a=Math.sin(n),o=Math.cos(n),l=Math.sin(e),u=Math.cos(e);n=Math.atan2(a*u,In(l,u*o)),e=Math.atan2(l,u*o),r=oe(e+this.long0),i=qf(this.cgb,n)}else r=1/0,i=1/0;return t.x=r,t.y=i,t}var NM=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const tu={init:xM,forward:MM,inverse:TM,names:NM};function LM(t,e){if(t===void 0){if(t=Math.floor((oe(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var CM="etmerc";function AM(){var t=LM(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Dt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,tu.init.apply(this),this.forward=tu.forward,this.inverse=tu.inverse}var PM=["Universal Transverse Mercator System","utm"];const DM={init:AM,names:PM,dependsOn:CM};function Hf(t,e){return Math.pow((1-t)/(1+t),e)}var IM=20;function kM(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ye)/(Math.pow(Math.tan(.5*this.lat0+Ye),this.C)*Hf(this.e*t,this.ratexp))}function RM(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Ye),this.C)*Hf(this.e*Math.sin(n),this.ratexp))-H,t.x=this.C*e,t}function $M(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+Ye)/this.K,1/this.C),s=IM;s>0&&(r=2*Math.atan(i*Hf(this.e*Math.sin(t.y),-.5*this.e))-H,!(Math.abs(r-t.y)<e));--s)t.y=r;return s?(t.x=n,t.y=r,t):null}var FM=["gauss"];const zf={init:kM,forward:RM,inverse:$M,names:FM};function VM(){zf.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function jM(t){var e,n,r,i;return t.x=oe(t.x-this.long0),zf.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function GM(t){var e,n,r,i,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=In(t.x,t.y)){var a=2*Math.atan2(s,this.R2);e=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),r=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,zf.inverse.apply(this,[t]),t.x=oe(t.x+this.long0),t}var UM=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const BM={init:VM,forward:jM,inverse:GM,names:UM};function WM(t,e,n){return e*=n,Math.tan(.5*(H+t))*Math.pow((1-e)/(1+e),.5*n)}function qM(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ne&&(this.k0=.5*(1+Ja(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=ne&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ne&&Math.abs(Math.cos(this.lat_ts))>ne&&(this.k0=.5*this.cons*mr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Xn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=mr(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-H,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function HM(t){var e=t.x,n=t.y,r=Math.sin(n),i=Math.cos(n),s,a,o,l,u,f,c=oe(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=ne&&Math.abs(n+this.lat0)<=ne?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(c)),t.x=this.a*s*i*Math.sin(c)+this.x0,t.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(c))+this.y0,t):(a=2*Math.atan(this.ssfn_(n,r,this.e))-H,l=Math.cos(a),o=Math.sin(a),Math.abs(this.coslat0)<=ne?(u=Xn(this.e,n*this.con,this.con*r),f=2*this.a*this.k0*u/this.cons,t.x=this.x0+f*Math.sin(e-this.long0),t.y=this.y0-this.con*f*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<ne?(s=2*this.a*this.k0/(1+l*Math.cos(c)),t.y=s*o):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(c))),t.y=s*(this.cosX0*o-this.sinX0*l*Math.cos(c))+this.y0),t.x=s*l*Math.sin(c)+this.x0,t))}function zM(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=ne?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/a),Math.abs(this.coslat0)<ne?this.lat0>0?e=oe(this.long0+Math.atan2(t.x,-1*t.y)):e=oe(this.long0+Math.atan2(t.x,t.y)):e=oe(this.long0+Math.atan2(t.x*Math.sin(o),a*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=ne){if(a<=ne)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*Qa(this.e,r),e=this.con*oe(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=ne?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/a),e=oe(this.long0+Math.atan2(t.x*Math.sin(i),a*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*Qa(this.e,Math.tan(.5*(H+s)));return t.x=e,t.y=n,t}var YM=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const XM={init:qM,forward:HM,inverse:zM,names:YM,ssfn_:WM};function KM(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),a=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*l+this.alpha*a/2*u}function ZM(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*a+this.x0,t}function JM(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+a/this.alpha,l=0,u=s,f=-1e3,c=0;Math.abs(u-f)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),f=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=o,t.y=u,t}var QM=["somerc"];const eT={init:KM,forward:ZM,inverse:JM,names:QM};var qs=1e-7;function tT(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function nT(){var t,e,n,r,i,s,a,o,l,u,f=0,c,h=0,d=0,p=0,m=0,g=0,y=0;this.no_off=tT(this),this.no_rot="no_rot"in this;var v=!1;"alpha"in this&&(v=!0);var E=!1;if("rectified_grid_angle"in this&&(E=!0),v&&(y=this.alpha),E&&(f=this.rectified_grid_angle*Dt),v||E)h=this.longc;else if(d=this.long1,m=this.lat1,p=this.long2,g=this.lat2,Math.abs(m-g)<=qs||(t=Math.abs(m))<=qs||Math.abs(t-H)<=qs||Math.abs(Math.abs(this.lat0)-H)<=qs||Math.abs(Math.abs(g)-H)<=qs)throw new Error;var b=1-this.es;e=Math.sqrt(b),Math.abs(this.lat0)>ne?(o=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*o*o,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/b),this.A=this.B*this.k0*e/t,r=this.B*e/(n*Math.sqrt(t)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(Xn(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),v||E?(v?(c=Math.asin(Math.sin(y)/r),E||(f=y)):(c=f,y=Math.asin(r*Math.sin(c))),this.lam0=h-Math.asin(.5*(i-1/i)*Math.tan(c))/this.B):(s=Math.pow(Xn(this.e,m,Math.sin(m)),this.B),a=Math.pow(Xn(this.e,g,Math.sin(g)),this.B),i=this.E/s,l=(a-s)/(a+s),u=this.E*this.E,u=(u-a*s)/(u+a*s),t=d-p,t<-Math.pi?p-=Ka:t>Math.pi&&(p+=Ka),this.lam0=oe(.5*(d+p)-Math.atan(u*Math.tan(.5*this.B*(d-p))/l)/this.B),c=Math.atan(2*Math.sin(this.B*oe(d-this.lam0))/(i-1/i)),f=y=Math.asin(r*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(y))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(Ye-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(Ye+i))}function rT(t){var e={},n,r,i,s,a,o,l,u;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-H)>ne){if(a=this.E/Math.pow(Xn(this.e,t.y,Math.sin(t.y)),this.B),o=1/a,n=.5*(a-o),r=.5*(a+o),s=Math.sin(this.B*t.x),i=(n*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(i)-1)<ne)throw new Error;u=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*t.x),Math.abs(o)<qs?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,o)}else u=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=u):(l-=this.u_0,e.x=u*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function iT(t){var e,n,r,i,s,a,o,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),s=.5*(r+1/r),a=Math.sin(this.BrA*e),o=(a*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(o)-1)<ne)l.x=0,l.y=o<0?-H:H;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=Qa(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var sT=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const aT={init:nT,forward:rT,inverse:iT,names:sT};function oT(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<ne)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=mr(this.e,e,n),i=Xn(this.e,this.lat1,e),s=Math.sin(this.lat2),a=Math.cos(this.lat2),o=mr(this.e,s,a),l=Xn(this.e,this.lat2,s),u=Xn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>ne?this.ns=Math.log(r/o)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function lT(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=ne&&(n=Ja(n)*(H-2*ne));var r=Math.abs(Math.abs(n)-H),i,s;if(r>ne)i=Xn(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;s=0}var a=this.ns*oe(e-this.long0);return t.x=this.k0*(s*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(a))+this.y0,t}function uT(t){var e,n,r,i,s,a=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),n=1):(e=-Math.sqrt(a*a+o*o),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*a,n*o)),e!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=Qa(this.e,r),i===-9999)return null}else i=-H;return s=oe(l/this.ns+this.long0),t.x=s,t.y=i,t}var cT=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const fT={init:oT,forward:lT,inverse:uT,names:cT};function hT(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function dT(t){var e,n,r,i,s,a,o,l=t.x,u=t.y,f=oe(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-f*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*s,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=o*Math.cos(a)/1,t.x=o*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function pT(t){var e,n,r,i,s,a,o,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,o=e,l=0;var f=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(l=1),o=t.y,f+=1;while(l===0&&f<15);return f>=15?null:t}var mT=["Krovak","krovak"];const gT={init:hT,forward:dT,inverse:pT,names:mT};function tn(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function no(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function ro(t){return .375*t*(1+.25*t*(1+.46875*t))}function io(t){return .05859375*t*t*(1+.75*t)}function so(t){return t*t*t*(35/3072)}function Hs(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function zs(t){return Math.abs(t)<H?t:t-Ja(t)*Math.PI}function nu(t,e,n,r,i){var s,a;s=t/e;for(var o=0;o<15;o++)if(a=(t-(e*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=a,Math.abs(a)<=1e-10)return s;return NaN}function yT(){this.sphere||(this.e0=no(this.es),this.e1=ro(this.es),this.e2=io(this.es),this.e3=so(this.es),this.ml0=this.a*tn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function vT(t){var e,n,r=t.x,i=t.y;if(r=oe(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),a=Math.cos(i),o=Hs(this.a,this.e,s),l=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),f=u*u,c=this.es*a*a/(1-this.es),h=this.a*tn(this.e0,this.e1,this.e2,this.e3,i);e=o*u*(1-f*l*(1/6-(8-l+8*c)*f/120)),n=h-this.ml0+o*s/a*f*(.5+(5-l+6*c)*f/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function _T(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(s))}else{var a=this.ml0/this.a+n,o=nu(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-H)<=ne)return t.x=this.long0,t.y=H,n<0&&(t.y*=-1),t;var l=Hs(this.a,this.e,Math.sin(o)),u=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(o),2),c=e*this.a/l,h=c*c;r=o-l*Math.tan(o)/u*c*c*(.5-(1+3*f)*c*c/24),i=c*(1-h*(f/3+(1+3*f)*f*h/15))/Math.cos(o)}return t.x=oe(i+this.long0),t.y=zs(r),t}var bT=["Cassini","Cassini_Soldner","cass"];const ET={init:yT,forward:vT,inverse:_T,names:bT};function Oi(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var wT=1,ST=2,OT=3,xT=4;function MT(){var t=Math.abs(this.lat0);if(Math.abs(t-H)<ne?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<ne?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Oi(this.e,1),this.mmf=.5/(1-this.es),this.apa=kT(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Oi(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function TT(t){var e,n,r,i,s,a,o,l,u,f,c=t.x,h=t.y;if(c=oe(c-this.long0),this.sphere){if(s=Math.sin(h),f=Math.cos(h),r=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+f*r:1+this.sinph0*s+this.cosph0*f*r,n<=ne)return null;n=Math.sqrt(2/n),e=n*f*Math.sin(c),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.lat0)<ne)return null;n=Ye-h*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(c),n*=r}}else{switch(o=0,l=0,u=0,r=Math.cos(c),i=Math.sin(c),s=Math.sin(h),a=Oi(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=a/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*l*r;break;case this.EQUIT:u=1+l*r;break;case this.N_POLE:u=H+h,a=this.qp-a;break;case this.S_POLE:u=h-H,a=this.qp+a;break}if(Math.abs(u)<ne)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?n=this.ymf*u*(this.cosb1*o-this.sinb1*l*r):n=(u=Math.sqrt(2/(1+l*r)))*o*this.ymf,e=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?u:-u)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function NT(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i,s,a,o,l,u;if(this.sphere){var f=0,c,h=0;if(c=Math.sqrt(e*e+n*n),i=c*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sin(i),f=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(c)<=ne?0:Math.asin(n*h/c),e*=h,n=f*c;break;case this.OBLIQ:i=Math.abs(c)<=ne?this.lat0:Math.asin(f*this.sinph0+n*h*this.cosph0/c),e*=h*this.cosph0,n=(f-Math.sin(i)*this.sinph0)*c;break;case this.N_POLE:n=-n,i=H-i;break;case this.S_POLE:i-=H;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<ne)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*l/this.rq),s=Math.cos(a),e*=a=Math.sin(a),this.mode===this.OBLIQ?(u=s*this.sinb1+n*a*this.cosb1/l,o=this.qp*u,n=l*this.cosb1*s-n*this.sinb1*a):(u=n*a/l,o=this.qp*u,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),o=e*e+n*n,!o)return t.x=this.long0,t.y=this.lat0,t;u=1-o/this.qp,this.mode===this.S_POLE&&(u=-u)}r=Math.atan2(e,n),i=RT(Math.asin(u),this.apa)}return t.x=oe(this.long0+r),t.y=i,t}var LT=.3333333333333333,CT=.17222222222222222,AT=.10257936507936508,PT=.06388888888888888,DT=.0664021164021164,IT=.016415012942191543;function kT(t){var e,n=[];return n[0]=t*LT,e=t*t,n[0]+=e*CT,n[1]=e*PT,e*=t,n[0]+=e*AT,n[1]+=e*DT,n[2]=e*IT,n}function RT(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var $T=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const FT={init:MT,forward:TT,inverse:NT,names:$T,S_POLE:wT,N_POLE:ST,EQUIT:OT,OBLIQ:xT};function xi(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function VT(){Math.abs(this.lat1+this.lat2)<ne||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=mr(this.e3,this.sin_po,this.cos_po),this.qs1=Oi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=mr(this.e3,this.sin_po,this.cos_po),this.qs2=Oi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Oi(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>ne?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function jT(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Oi(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*oe(e-this.long0),a=i*Math.sin(s)+this.x0,o=this.rh-i*Math.cos(s)+this.y0;return t.x=a,t.y=o,t}function GT(t){var e,n,r,i,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),s=oe(i/this.ns0+this.long0),t.x=s,t.y=a,t}function UT(t,e){var n,r,i,s,a,o=xi(.5*e);if(t<ne)return o;for(var l=t*t,u=1;u<=25;u++)if(n=Math.sin(o),r=Math.cos(o),i=t*n,s=1-i*i,a=.5*s*s/r*(e/(1-l)-n/s+.5/t*Math.log((1-i)/(1+i))),o=o+a,Math.abs(a)<=1e-7)return o;return null}var BT=["Albers_Conic_Equal_Area","Albers","aea"];const WT={init:VT,forward:jT,inverse:GT,names:BT,phi1z:UT};function qT(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function HT(t){var e,n,r,i,s,a,o,l,u=t.x,f=t.y;return r=oe(u-this.long0),e=Math.sin(f),n=Math.cos(f),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,a>0||Math.abs(a)<=ne?(o=this.x0+this.a*s*n*Math.sin(r)/a,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)/a):(o=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function zT(t){var e,n,r,i,s,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),a=xi(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),s=oe(this.long0+s)):(a=this.phic0,s=0),t.x=s,t.y=a,t}var YT=["gnom"];const XT={init:qT,forward:HT,inverse:zT,names:YT};function KT(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*H:H;for(var r=Math.asin(.5*e),i,s,a,o,l=0;l<30;l++)if(s=Math.sin(r),a=Math.cos(r),o=t*s,i=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-s/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function ZT(){this.sphere||(this.k0=mr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function JT(t){var e=t.x,n=t.y,r,i,s=oe(e-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var a=Oi(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*a*.5/this.k0}return t.x=r,t.y=i,t}function QT(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=oe(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=KT(this.e,2*t.y*this.k0/this.a),e=oe(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var eN=["cea"];const tN={init:ZT,forward:JT,inverse:QT,names:eN};function nN(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function rN(t){var e=t.x,n=t.y,r=oe(e-this.long0),i=zs(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function iN(t){var e=t.x,n=t.y;return t.x=oe(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=zs(this.lat0+(n-this.y0)/this.a),t}var sN=["Equirectangular","Equidistant_Cylindrical","eqc"];const aN={init:nN,forward:rN,inverse:iN,names:sN};var py=20;function oN(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=no(this.es),this.e1=ro(this.es),this.e2=io(this.es),this.e3=so(this.es),this.ml0=this.a*tn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function lN(t){var e=t.x,n=t.y,r,i,s,a=oe(e-this.long0);if(s=a*Math.sin(n),this.sphere)Math.abs(n)<=ne?(r=this.a*a,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*(zs(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=ne)r=this.a*a,i=-1*this.ml0;else{var o=Hs(this.a,this.e,Math.sin(n))/Math.tan(n);r=o*Math.sin(s),i=this.a*tn(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(s))}return t.x=r+this.x0,t.y=i+this.y0,t}function uN(t){var e,n,r,i,s,a,o,l,u;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=ne)e=oe(r/this.a+this.long0),n=0;else{a=this.lat0+i/this.a,o=r*r/this.a/this.a+a*a,l=a;var f;for(s=py;s;--s)if(f=Math.tan(l),u=-1*(a*(l*f+1)-l-.5*(l*l+o)*f)/((l-a)/f-1),l+=u,Math.abs(u)<=ne){n=l;break}e=oe(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=ne)n=0,e=oe(this.long0+r/this.a);else{a=(this.ml0+i)/this.a,o=r*r/this.a/this.a+a*a,l=a;var c,h,d,p,m;for(s=py;s;--s)if(m=this.e*Math.sin(l),c=Math.sqrt(1-m*m)*Math.tan(l),h=this.a*tn(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),p=h/this.a,u=(a*(c*p+1)-p-.5*c*(p*p+o))/(this.es*Math.sin(2*l)*(p*p+o-2*a*p)/(4*c)+(a-p)*(c*d-2/Math.sin(2*l))-d),l-=u,Math.abs(u)<=ne){n=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=oe(this.long0+Math.asin(r*c/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var cN=["Polyconic","poly"];const fN={init:oN,forward:lN,inverse:uN,names:cN};function hN(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function dN(t){var e,n=t.x,r=t.y,i=r-this.lat0,s=n-this.long0,a=i/Xa*1e-5,o=s,l=1,u=0;for(e=1;e<=10;e++)l=l*a,u=u+this.A[e]*l;var f=u,c=o,h=1,d=0,p,m,g=0,y=0;for(e=1;e<=6;e++)p=h*f-d*c,m=d*f+h*c,h=p,d=m,g=g+this.B_re[e]*h-this.B_im[e]*d,y=y+this.B_im[e]*h+this.B_re[e]*d;return t.x=y*this.a+this.x0,t.y=g*this.a+this.y0,t}function pN(t){var e,n=t.x,r=t.y,i=n-this.x0,s=r-this.y0,a=s/this.a,o=i/this.a,l=1,u=0,f,c,h=0,d=0;for(e=1;e<=6;e++)f=l*a-u*o,c=u*a+l*o,l=f,u=c,h=h+this.C_re[e]*l-this.C_im[e]*u,d=d+this.C_im[e]*l+this.C_re[e]*u;for(var p=0;p<this.iterations;p++){var m=h,g=d,y,v,E=a,b=o;for(e=2;e<=6;e++)y=m*h-g*d,v=g*h+m*d,m=y,g=v,E=E+(e-1)*(this.B_re[e]*m-this.B_im[e]*g),b=b+(e-1)*(this.B_im[e]*m+this.B_re[e]*g);m=1,g=0;var O=this.B_re[1],T=this.B_im[1];for(e=2;e<=6;e++)y=m*h-g*d,v=g*h+m*d,m=y,g=v,O=O+e*(this.B_re[e]*m-this.B_im[e]*g),T=T+e*(this.B_im[e]*m+this.B_re[e]*g);var M=O*O+T*T;h=(E*O+b*T)/M,d=(b*O-E*T)/M}var R=h,F=d,A=1,D=0;for(e=1;e<=9;e++)A=A*R,D=D+this.D[e]*A;var P=this.lat0+D*Xa*1e5,te=this.long0+F;return t.x=te,t.y=P,t}var mN=["New_Zealand_Map_Grid","nzmg"];const gN={init:hN,forward:dN,inverse:pN,names:mN};function yN(){}function vN(t){var e=t.x,n=t.y,r=oe(e-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=s,t}function _N(t){t.x-=this.x0,t.y-=this.y0;var e=oe(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var bN=["Miller_Cylindrical","mill"];const EN={init:yN,forward:vN,inverse:_N,names:bN};var wN=20;function SN(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=cy(this.es)}function ON(t){var e,n,r=t.x,i=t.y;if(r=oe(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),a=wN;a;--a){var o=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<ne)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*Ql(i,l,u,this.en),e=this.a*r*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function xN(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=xi((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=xi(Math.sin(e)/this.n)),r=oe(r+this.long0),e=zs(e)):(e=fy(t.y/this.a,this.es,this.en),i=Math.abs(e),i<H?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=oe(n)):i-ne<H&&(r=this.long0)),t.x=r,t.y=e,t}var MN=["Sinusoidal","sinu"];const TN={init:SN,forward:ON,inverse:xN,names:MN};function NN(){}function LN(t){for(var e=t.x,n=t.y,r=oe(e-this.long0),i=n,s=Math.PI*Math.sin(n);;){var a=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=a,Math.abs(a)<ne)break}i/=2,Math.PI/2-Math.abs(n)<ne&&(r=0);var o=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=l,t}function CN(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=oe(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var AN=["Mollweide","moll"];const PN={init:NN,forward:LN,inverse:CN,names:AN};function DN(){Math.abs(this.lat1+this.lat2)<ne||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=no(this.es),this.e1=ro(this.es),this.e2=io(this.es),this.e3=so(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=mr(this.e,this.sinphi,this.cosphi),this.ml1=tn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<ne?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=mr(this.e,this.sinphi,this.cosphi),this.ml2=tn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=tn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function IN(t){var e=t.x,n=t.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=tn(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*oe(e-this.long0),a=this.x0+r*Math.sin(s),o=this.y0+this.rh-r*Math.cos(s);return t.x=a,t.y=o,t}function kN(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=oe(this.long0+s/this.ns),r=zs(this.g-n/this.a),t.x=i,t.y=r,t;var a=this.g-n/this.a;return r=nu(a,this.e0,this.e1,this.e2,this.e3),i=oe(this.long0+s/this.ns),t.x=i,t.y=r,t}var RN=["Equidistant_Conic","eqdc"];const $N={init:DN,forward:IN,inverse:kN,names:RN};function FN(){this.R=this.a}function VN(t){var e=t.x,n=t.y,r=oe(e-this.long0),i,s;Math.abs(n)<=ne&&(i=this.x0+this.R*r,s=this.y0);var a=xi(2*Math.abs(n/Math.PI));(Math.abs(r)<=ne||Math.abs(Math.abs(n)-H)<=ne)&&(i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*a):s=this.y0+Math.PI*this.R*-Math.tan(.5*a));var o=.5*Math.abs(Math.PI/r-r/Math.PI),l=o*o,u=Math.sin(a),f=Math.cos(a),c=f/(u+f-1),h=c*c,d=c*(2/u-1),p=d*d,m=Math.PI*this.R*(o*(c-p)+Math.sqrt(l*(c-p)*(c-p)-(p+l)*(h-p)))/(p+l);r<0&&(m=-m),i=this.x0+m;var g=l+c;return m=Math.PI*this.R*(d*g-o*Math.sqrt((p+l)*(l+1)-g*g))/(p+l),n>=0?s=this.y0+m:s=this.y0-m,t.x=i,t.y=s,t}function jN(t){var e,n,r,i,s,a,o,l,u,f,c,h,d;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,r=t.x/c,i=t.y/c,s=r*r+i*i,a=-Math.abs(i)*(1+s),o=a-2*i*i+r*r,l=-2*a+1+2*i*i+s*s,d=i*i/l+(2*o*o*o/l/l/l-9*a*o/l/l)/27,u=(a-o*o/3/l)/l,f=2*Math.sqrt(-u/3),c=3*d/u/f,Math.abs(c)>1&&(c>=0?c=1:c=-1),h=Math.acos(c)/3,t.y>=0?n=(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI:n=-(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI,Math.abs(r)<ne?e=this.long0:e=oe(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),t.x=e,t.y=n,t}var GN=["Van_der_Grinten_I","VanDerGrinten","vandg"];const UN={init:FN,forward:VN,inverse:jN,names:GN};function BN(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function WN(t){var e=t.x,n=t.y,r=Math.sin(t.y),i=Math.cos(t.y),s=oe(e-this.long0),a,o,l,u,f,c,h,d,p,m,g,y,v,E,b,O,T,M,R,F,A,D,P;return this.sphere?Math.abs(this.sin_p12-1)<=ne?(t.x=this.x0+this.a*(H-n)*Math.sin(s),t.y=this.y0-this.a*(H-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ne?(t.x=this.x0+this.a*(H+n)*Math.sin(s),t.y=this.y0+this.a*(H+n)*Math.cos(s),t):(M=this.sin_p12*r+this.cos_p12*i*Math.cos(s),O=Math.acos(M),T=O?O/Math.sin(O):1,t.x=this.x0+this.a*T*i*Math.sin(s),t.y=this.y0+this.a*T*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),t):(a=no(this.es),o=ro(this.es),l=io(this.es),u=so(this.es),Math.abs(this.sin_p12-1)<=ne?(f=this.a*tn(a,o,l,u,H),c=this.a*tn(a,o,l,u,n),t.x=this.x0+(f-c)*Math.sin(s),t.y=this.y0-(f-c)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ne?(f=this.a*tn(a,o,l,u,H),c=this.a*tn(a,o,l,u,n),t.x=this.x0+(f+c)*Math.sin(s),t.y=this.y0+(f+c)*Math.cos(s),t):(h=r/i,d=Hs(this.a,this.e,this.sin_p12),p=Hs(this.a,this.e,r),m=Math.atan((1-this.es)*h+this.es*d*this.sin_p12/(p*i)),g=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(m)-this.sin_p12*Math.cos(s)),g===0?R=Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.abs(Math.abs(g)-Math.PI)<=ne?R=-Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):R=Math.asin(Math.sin(s)*Math.cos(m)/Math.sin(g)),y=this.e*this.sin_p12/Math.sqrt(1-this.es),v=this.e*this.cos_p12*Math.cos(g)/Math.sqrt(1-this.es),E=y*v,b=v*v,F=R*R,A=F*R,D=A*R,P=D*R,O=d*R*(1-F*b*(1-b)/6+A/8*E*(1-2*b)+D/120*(b*(4-7*b)-3*y*y*(1-7*b))-P/48*E),t.x=this.x0+O*Math.sin(g),t.y=this.y0+O*Math.cos(g),t))}function qN(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a,o,l,u,f,c,h,d,p,m,g,y,v,E,b,O,T,M,R;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*H*this.a?void 0:(n=e/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=ne?a=this.lat0:(a=xi(i*this.sin_p12+t.y*r*this.cos_p12/e),o=Math.abs(this.lat0)-H,Math.abs(o)<=ne?this.lat0>=0?s=oe(this.long0+Math.atan2(t.x,-t.y)):s=oe(this.long0-Math.atan2(-t.x,t.y)):s=oe(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=s,t.y=a,t)):(l=no(this.es),u=ro(this.es),f=io(this.es),c=so(this.es),Math.abs(this.sin_p12-1)<=ne?(h=this.a*tn(l,u,f,c,H),e=Math.sqrt(t.x*t.x+t.y*t.y),d=h-e,a=nu(d/this.a,l,u,f,c),s=oe(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=a,t):Math.abs(this.sin_p12+1)<=ne?(h=this.a*tn(l,u,f,c,H),e=Math.sqrt(t.x*t.x+t.y*t.y),d=e-h,a=nu(d/this.a,l,u,f,c),s=oe(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),p=Hs(this.a,this.e,this.sin_p12),y=Math.cos(g),v=this.e*this.cos_p12*y,E=-v*v/(1-this.es),b=3*this.es*(1-E)*this.sin_p12*this.cos_p12*y/(1-this.es),O=e/p,T=O-E*(1+E)*Math.pow(O,3)/6-b*(1+3*E)*Math.pow(O,4)/24,M=1-E*T*T/2-O*T*T*T/6,m=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*y),s=oe(this.long0+Math.asin(Math.sin(g)*Math.sin(T)/Math.cos(m))),R=Math.sin(m),a=Math.atan2((R-this.es*M*this.sin_p12)*Math.tan(m),R*(1-this.es)),t.x=s,t.y=a,t))}var HN=["Azimuthal_Equidistant","aeqd"];const zN={init:BN,forward:WN,inverse:qN,names:HN};function YN(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function XN(t){var e,n,r,i,s,a,o,l,u=t.x,f=t.y;return r=oe(u-this.long0),e=Math.sin(f),n=Math.cos(f),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,(a>0||Math.abs(a)<=ne)&&(o=this.a*s*n*Math.sin(r),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function KN(t){var e,n,r,i,s,a,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=xi(e/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=ne?(o=this.lat0,t.x=a,t.y=o,t):(o=xi(i*this.sin_p14+t.y*r*this.cos_p14/e),s=Math.abs(this.lat0)-H,Math.abs(s)<=ne?(this.lat0>=0?a=oe(this.long0+Math.atan2(t.x,-t.y)):a=oe(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=o,t):(a=oe(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=a,t.y=o,t))}var ZN=["ortho"];const JN={init:YN,forward:XN,inverse:KN,names:ZN};var ut={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Xe={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function QN(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=H-Ye/2?this.face=ut.TOP:this.lat0<=-(H-Ye/2)?this.face=ut.BOTTOM:Math.abs(this.long0)<=Ye?this.face=ut.FRONT:Math.abs(this.long0)<=H+Ye?this.face=this.long0>0?ut.RIGHT:ut.LEFT:this.face=ut.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function e2(t){var e={x:0,y:0},n,r,i,s,a,o,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,r=t.x,this.face===ut.TOP)s=H-n,r>=Ye&&r<=H+Ye?(l.value=Xe.AREA_0,i=r-H):r>H+Ye||r<=-(H+Ye)?(l.value=Xe.AREA_1,i=r>0?r-_t:r+_t):r>-(H+Ye)&&r<=-Ye?(l.value=Xe.AREA_2,i=r+H):(l.value=Xe.AREA_3,i=r);else if(this.face===ut.BOTTOM)s=H+n,r>=Ye&&r<=H+Ye?(l.value=Xe.AREA_0,i=-r+H):r<Ye&&r>=-Ye?(l.value=Xe.AREA_1,i=-r):r<-Ye&&r>=-(H+Ye)?(l.value=Xe.AREA_2,i=-r-H):(l.value=Xe.AREA_3,i=r>0?-r+_t:-r-_t);else{var u,f,c,h,d,p,m;this.face===ut.RIGHT?r=Ys(r,+H):this.face===ut.BACK?r=Ys(r,+_t):this.face===ut.LEFT&&(r=Ys(r,-H)),h=Math.sin(n),d=Math.cos(n),p=Math.sin(r),m=Math.cos(r),u=d*m,f=d*p,c=h,this.face===ut.FRONT?(s=Math.acos(u),i=ru(s,c,f,l)):this.face===ut.RIGHT?(s=Math.acos(f),i=ru(s,c,-u,l)):this.face===ut.BACK?(s=Math.acos(-u),i=ru(s,c,-f,l)):this.face===ut.LEFT?(s=Math.acos(-f),i=ru(s,c,u,l)):(s=i=0,l.value=Xe.AREA_0)}return o=Math.atan(12/_t*(i+Math.acos(Math.sin(i)*Math.cos(Ye))-H)),a=Math.sqrt((1-Math.cos(s))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===Xe.AREA_1?o+=H:l.value===Xe.AREA_2?o+=_t:l.value===Xe.AREA_3&&(o+=1.5*_t),e.x=a*Math.cos(o),e.y=a*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function t2(t){var e={lam:0,phi:0},n,r,i,s,a,o,l,u,f,c={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?c.value=Xe.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(c.value=Xe.AREA_1,n-=H):t.x<0&&-t.x>=Math.abs(t.y)?(c.value=Xe.AREA_2,n=n<0?n+_t:n-_t):(c.value=Xe.AREA_3,n+=H),f=_t/12*Math.tan(n),a=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),o=Math.atan(a),i=Math.cos(n),s=Math.tan(r),l=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===ut.TOP)u=Math.acos(l),e.phi=H-u,c.value===Xe.AREA_0?e.lam=o+H:c.value===Xe.AREA_1?e.lam=o<0?o+_t:o-_t:c.value===Xe.AREA_2?e.lam=o-H:e.lam=o;else if(this.face===ut.BOTTOM)u=Math.acos(l),e.phi=u-H,c.value===Xe.AREA_0?e.lam=-o+H:c.value===Xe.AREA_1?e.lam=-o:c.value===Xe.AREA_2?e.lam=-o-H:e.lam=o<0?-o-_t:-o+_t;else{var h,d,p;h=l,f=h*h,f>=1?p=0:p=Math.sqrt(1-f)*Math.sin(o),f+=p*p,f>=1?d=0:d=Math.sqrt(1-f),c.value===Xe.AREA_1?(f=d,d=-p,p=f):c.value===Xe.AREA_2?(d=-d,p=-p):c.value===Xe.AREA_3&&(f=d,d=p,p=-f),this.face===ut.RIGHT?(f=h,h=-d,d=f):this.face===ut.BACK?(h=-h,d=-d):this.face===ut.LEFT&&(f=h,h=d,d=-f),e.phi=Math.acos(-p)-H,e.lam=Math.atan2(d,h),this.face===ut.RIGHT?e.lam=Ys(e.lam,-H):this.face===ut.BACK?e.lam=Ys(e.lam,-_t):this.face===ut.LEFT&&(e.lam=Ys(e.lam,+H))}if(this.es!==0){var m,g,y;m=e.phi<0?1:0,g=Math.tan(e.phi),y=this.b/Math.sqrt(g*g+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-y*y)/(this.one_minus_f*y)),m&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function ru(t,e,n,r){var i;return t<ne?(r.value=Xe.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=Ye?r.value=Xe.AREA_0:i>Ye&&i<=H+Ye?(r.value=Xe.AREA_1,i-=H):i>H+Ye||i<=-(H+Ye)?(r.value=Xe.AREA_2,i=i>=0?i-_t:i+_t):(r.value=Xe.AREA_3,i+=H)),i}function Ys(t,e){var n=t+e;return n<-_t?n+=Ka:n>+_t&&(n-=Ka),n}var n2=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const r2={init:QN,forward:e2,inverse:t2,names:n2};var Yf=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ao=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],my=.8487,gy=1.3523,yy=dr/5,i2=1/yy,Xs=18,iu=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},s2=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function a2(t,e,n,r){for(var i=e;r;--r){var s=t(i);if(i-=s,Math.abs(s)<n)break}return i}function o2(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function l2(t){var e=oe(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*yy);r<0?r=0:r>=Xs&&(r=Xs-1),n=dr*(n-i2*r);var i={x:iu(Yf[r],n)*e,y:iu(ao[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*my+this.x0,i.y=i.y*this.a*gy+this.y0,i}function u2(t){var e={x:(t.x-this.x0)/(this.a*my),y:Math.abs(t.y-this.y0)/(this.a*gy)};if(e.y>=1)e.x/=Yf[Xs][0],e.y=t.y<0?-H:H;else{var n=Math.floor(e.y*Xs);for(n<0?n=0:n>=Xs&&(n=Xs-1);;)if(ao[n][0]>e.y)--n;else if(ao[n+1][0]<=e.y)++n;else break;var r=ao[n],i=5*(e.y-r[0])/(ao[n+1][0]-r[0]);i=a2(function(s){return(iu(r,s)-e.y)/s2(r,s)},i,ne,100),e.x/=iu(Yf[n],i),e.y=(5*n+i)*Dt,t.y<0&&(e.y=-e.y)}return e.x=oe(e.x+this.long0),e}var c2=["Robinson","robin"];const f2={init:o2,forward:l2,inverse:u2,names:c2};function h2(){this.name="geocent"}function d2(t){var e=Wg(t,this.es,this.a);return e}function p2(t){var e=qg(t,this.es,this.a,this.b);return e}var m2=["Geocentric","geocentric","geocent","Geocent"];const g2={init:h2,forward:d2,inverse:p2,names:m2};var Wt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},oo={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function y2(){if(Object.keys(oo).forEach(function(n){if(typeof this[n]>"u")this[n]=oo[n].def;else{if(oo[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);oo[n].num&&(this[n]=parseFloat(this[n]))}oo[n].degrees&&(this[n]=this[n]*Dt)}.bind(this)),Math.abs(Math.abs(this.lat0)-H)<ne?this.mode=this.lat0<0?Wt.S_POLE:Wt.N_POLE:Math.abs(this.lat0)<ne?this.mode=Wt.EQUIT:(this.mode=Wt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function v2(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i,s;switch(this.mode){case Wt.OBLIQ:s=this.sinph0*e+this.cosph0*n*r;break;case Wt.EQUIT:s=n*r;break;case Wt.S_POLE:s=-e;break;case Wt.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),i=s*n*Math.sin(t.x),this.mode){case Wt.OBLIQ:s*=this.cosph0*e-this.sinph0*n*r;break;case Wt.EQUIT:s*=e;break;case Wt.N_POLE:s*=-(n*r);break;case Wt.S_POLE:s*=n*r;break}var a,o;return a=s*this.cg+i*this.sg,o=1/(a*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*o,s=a*o,t.x=i*this.a,t.y=s*this.a,t}function _2(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,r,i;i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var s=In(t.x,t.y);if(Math.abs(s)<ne)e.x=0,e.y=t.y;else{var a,o;switch(o=1-s*s*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/s+s/this.pn1),a=Math.sqrt(1-o*o),this.mode){case Wt.OBLIQ:e.y=Math.asin(a*this.sinph0+t.y*o*this.cosph0/s),t.y=(a-this.sinph0*Math.sin(e.y))*s,t.x*=o*this.cosph0;break;case Wt.EQUIT:e.y=Math.asin(t.y*o/s),t.y=a*s,t.x*=o;break;case Wt.N_POLE:e.y=Math.asin(a),t.y=-t.y;break;case Wt.S_POLE:e.y=-Math.asin(a);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var b2=["Tilted_Perspective","tpers"];const E2={init:y2,forward:v2,inverse:_2,names:b2};function w2(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function S2(t){var e=t.x,n=t.y,r,i,s,a;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var o=this.radius_p/In(this.radius_p*Math.cos(n),Math.sin(n));if(i=o*Math.cos(e)*Math.cos(n),s=o*Math.sin(e)*Math.cos(n),a=o*Math.sin(n),(this.radius_g-i)*i-s*s-a*a*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/In(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/In(s,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(e)*r,s=Math.sin(e)*r,a=Math.sin(n),r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/In(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/In(s,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function O2(t){var e=-1,n=0,r=0,i,s,a,o;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*In(1,r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*In(1,n));var l=r/this.radius_p;if(i=n*n+l*l+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var x2=["Geostationary Satellite View","Geostationary_Satellite","geos"];const M2={init:w2,forward:S2,inverse:O2,names:x2};var lo=1.340264,uo=-.081106,co=893e-6,fo=.003796,su=Math.sqrt(3)/2;function T2(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function N2(t){var e=oe(t.x-this.long0),n=t.y,r=Math.asin(su*Math.sin(n)),i=r*r,s=i*i*i;return t.x=e*Math.cos(r)/(su*(lo+3*uo*i+s*(7*co+9*fo*i))),t.y=r*(lo+uo*i+s*(co+fo*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function L2(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,r=t.y,i,s,a,o,l,u;for(u=0;u<n&&(i=r*r,s=i*i*i,a=r*(lo+uo*i+s*(co+fo*i))-t.y,o=lo+3*uo*i+s*(7*co+9*fo*i),r-=l=a/o,!(Math.abs(l)<e));++u);return i=r*r,s=i*i*i,t.x=su*t.x*(lo+3*uo*i+s*(7*co+9*fo*i))/Math.cos(r),t.y=Math.asin(Math.sin(r)/su),t.x=oe(t.x+this.long0),t}var C2=["eqearth","Equal Earth","Equal_Earth"];const A2={init:T2,forward:N2,inverse:L2,names:C2};function P2(t){t.Proj.projections.add(eu),t.Proj.projections.add(tu),t.Proj.projections.add(DM),t.Proj.projections.add(BM),t.Proj.projections.add(XM),t.Proj.projections.add(eT),t.Proj.projections.add(aT),t.Proj.projections.add(fT),t.Proj.projections.add(gT),t.Proj.projections.add(ET),t.Proj.projections.add(FT),t.Proj.projections.add(WT),t.Proj.projections.add(XT),t.Proj.projections.add(tN),t.Proj.projections.add(aN),t.Proj.projections.add(fN),t.Proj.projections.add(gN),t.Proj.projections.add(EN),t.Proj.projections.add(TN),t.Proj.projections.add(PN),t.Proj.projections.add($N),t.Proj.projections.add(UN),t.Proj.projections.add(zN),t.Proj.projections.add(JN),t.Proj.projections.add(r2),t.Proj.projections.add(f2),t.Proj.projections.add(g2),t.Proj.projections.add(E2),t.Proj.projections.add(M2),t.Proj.projections.add(A2)}Bt.defaultDatum="WGS84",Bt.Proj=gr,Bt.WGS84=new Bt.Proj("WGS84"),Bt.Point=Ws,Bt.toPoint=Xg,Bt.defs=en,Bt.nadgrid=kx,Bt.transform=Jl,Bt.mgrs=Zx,Bt.version="__VERSION__",P2(Bt);function D2(){var t,e,n;Bt.defs("EPSG:32632","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs"),Bt.defs("EPSG:32631","+proj=utm +zone=31 +datum=WGS84 +units=m +no_defs"),Bt.defs("EPSG:2169","+proj=tmerc +lat_0=49.83333333333334 +lon_0=6.166666666666667 +k=1 +x_0=80000 +y_0=100000 +ellps=intl +towgs84=-189.681,18.3463,-42.7695,-0.33746,-3.09264,2.53861,0.4598 +units=m +no_defs"),Ui.register(Bt),(t=ht.get("EPSG:32632"))==null||t.setExtent([166021.44,0,833978.55,932900518e-2]),(e=ht.get("EPSG:32631"))==null||e.setExtent([166021.44,0,833978.55,932900518e-2]),(n=ht.get("EPSG:2169"))==null||n.setExtent([48225.17,56225.6,105842.04,139616.4])}function vy(t,e,n){const r=ce(t);class i extends Xf{constructor(a){super(r,a,e,n)}}return nt(i,"def",r),i}const I2=typeof HTMLElement<"u"?HTMLElement:class{};class Xf extends I2{constructor(n,r={},i={},s){super();nt(this,"_instance",null);nt(this,"_connected",!1);nt(this,"_resolved",!1);nt(this,"_numberProps",null);nt(this,"_styles");nt(this,"_slots");this._def=n,this._props=r,this._config=i,this._config=Qe({shadowRoot:!0},this._config),this._config.shadowRoot?this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def)):s&&s(this._createVNode(),this._root)}get _root(){return this._config.shadowRoot?this.shadowRoot:this}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,yl(()=>{this._connected||(Qm(null,this._root),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const n=(i,s=!1)=>{const{props:a,styles:o}=i;let l;if(a&&!ue(a))for(const u in a){const f=a[u];(f===Number||f&&f.type===Number)&&(u in this._props&&(this._props[u]=xc(this._props[u])),(l||(l=Object.create(null)))[yn(u)]=!0)}this._numberProps=l,s&&this._resolveProps(i),this._applyStyles(o),this._update()},r=this._def.__asyncLoader;r?r().then(i=>n(i,!0)):n(this._def)}_resolveProps(n){const{props:r}=n,i=ue(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(yn))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(a){this._setProp(s,a)}})}_setAttr(n){let r=this.getAttribute(n);const i=yn(n);this._numberProps&&this._numberProps[i]&&(r=xc(r)),this._setProp(i,r,!1)}_getProp(n){return this._props[n]}_setProp(n,r,i=!0,s=!0){r!==this._props[n]&&(this._props[n]=r,s&&this._instance&&this._update(),i&&(r===!0?this.setAttribute(an(n),""):typeof r=="string"||typeof r=="number"?this.setAttribute(an(n),r+""):r||this.removeAttribute(an(n))))}_update(){Qm(this._createVNode(),this._root)}_createVNode(){const n=Q(this._def,Qe({},this._props));return this._instance||(n.ce=r=>{this._instance=r,r.isCE=!0;const i=(a,o)=>{this.dispatchEvent(new CustomEvent(a,{detail:o}))};r.emit=(a,...o)=>{i(a,o),an(a)!==a&&i(an(a),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof Xf){r.parent=s._instance,r.provides=s._instance.provides;break}}),n}_applyStyles(n){n&&n.forEach(r=>{const i=document.createElement("style");i.textContent=r,this._root.appendChild(i)})}}const t$="",n$="";var ho=(t=>(t.INFO="alert-info",t.WARNING="alert-warning",t.ERROR="alert-danger",t))(ho||{});const k2=ho.INFO,R2=7e3,$2=4e3,au=wi("alert-notifications",()=>{const t=ge([]);function e(r,i=k2,s){const a={message:r,type:i,duration:s!=null?s:i===ho.WARNING?$2:R2};t.value.push(a)}function n(r){t.value.splice(r,1)}return{notifications:t,addNotification:e,removeNotification:n}},{}),F2=ce({__name:"notification-item",props:{notification:{type:Object,required:!0}},emits:["close"],setup(t){const e=t,n=at(!0);function r(i,s){setTimeout(()=>{n.value=!1},e.notification.duration),s()}return(i,s)=>{const a=Yc("dompurify-html");return L(),$e(Wa,{name:"fade-out",appear:"","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0",onEnter:r,onAfterLeave:s[0]||(s[0]=o=>i.$emit("close"))},{default:jt(()=>[n.value?Sl((L(),$("div",{key:0,class:Ie(["lux-alert",`lux-${e.notification.type}`]),role:"alert"},null,2)),[[a,e.notification.message]]):I("v-if",!0)]),_:1})}}}),pe=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},V2=pe(F2,[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/alert-notifications/notification-item.vue"]]),j2={key:0,class:"lux-notifications fixed w-[500px] top-10 left-1/2 ml-[-250px] z-50"},_y=pe(ce({__name:"alert-notifications",setup(t){const e=au(),{notifications:n}=Pe(e);function r(i){e.removeNotification(i)}return(i,s)=>(L(),$e(wm,{to:"body"},[w(n).length?(L(),$("div",j2,[(L(!0),$(Fe,null,Ln(w(n),(a,o)=>(L(),$e(V2,{key:o,notification:a,onClose:()=>r(o)},null,8,["notification","onClose"]))),128))])):I("v-if",!0)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/alert-notifications/alert-notifications.vue"]]),G2={class:"lux-dropdown"},U2={class:"h-full"},B2=["aria-expanded"],W2=C("span",{class:"lux-caret"},null,-1),q2={class:"lux-dropdown-wrapper"},H2=["aria-label","data-value"],Kf=pe(ce({__name:"dropdown-list",props:{placeholder:{type:String,required:!0},options:{type:Array,required:!0,default:()=>[{label:"Default label",value:"Default value"}]},modelValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=at(!1),s=at();function a(f){i.value=f===void 0?!i.value:f}function o(f){f.stopImmediatePropagation(),a()}function l(f){s.value=f.target.dataset.value,r("change",s.value)}function u(){a(!1)}return ln(()=>document.addEventListener("click",u)),di(()=>document.removeEventListener("click",u)),(f,c)=>{var h,d;return L(),$("div",G2,[C("div",U2,[C("button",{type:"button",class:Ie(["lux-btn lux-dropdown-btn",i.value?"expanded":""]),"aria-expanded":i.value,"aria-haspopup":"true",onClick:o},[C("span",null,ae((d=n.placeholder)!=null?d:(h=n.options[0])==null?void 0:h.label),1),W2],10,B2)]),C("div",q2,[C("ul",{class:Ie(["lux-dropdown-list",i.value?"":"hidden"]),tabindex:"-1"},[(L(!0),$(Fe,null,Ln(n.options,p=>(L(),$("li",{key:p.value,class:Ie(f.modelValue===p.value?"selected":"")},[C("button",{class:"lux-dropdown-list-item","aria-label":p.ariaLabel,"data-value":p.value,onClick:l},ae(p.label),9,H2)],2))),128))],2)])])}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/dropdown-list.vue"]]),z2="fr",Y2=!0,X2=!1,K2=!1,Z2=!1,rt=wi("app",()=>{const t=ge(!1),e=ge(z2),n=ge(Y2),r=ge(X2),i=ge(K2),s=ge(),a=ge(Z2),o=ge(),l=ge(!1),u=ge(void 0),f=ge(!1),c=ge(!1);function h(T){e.value=T}function d(T){n.value=T}function p(T){r.value=T}function m(T){i.value=T}function g(T){o.value=T}function y(T){s.value=T}function v(){l.value=!0,n.value=!1}function E(){l.value=!1,n.value=!0}function b(T){f.value=T}function O(T){a.value=T!=null?T:!a.value,a.value&&(l.value=!1,n.value=!1)}return{embedded:t,lang:e,layersOpen:n,myLayersTabOpen:r,themeGridOpen:i,mapId:s,myMapsOpen:a,styleEditorOpen:l,styleEditorOpenedSection:u,remoteLayersOpen:o,drawToolbarOpen:f,setLang:h,setLayersOpen:d,setMyLayersTabOpen:p,setThemeGridOpen:m,setRemoteLayersOpen:g,setMapId:y,openStyleEditorPanel:v,closeStyleEditorPanel:E,setDrawToolbarOpen:b,isOffLine:c,toggleMyMapsOpen:O}},{});class Zf extends b1.default{constructor(e){const n=Object.assign({},e);delete n.accessToken,delete n.style,delete n.container,delete n.xyz,super(n),this.set("xyz",e.maplibreOptions.xyz),this.set("xyz_custom",e.maplibreOptions.xyz_custom),this.xyz_=e.xyz,e.accessToken&&(Id.default.accessToken=e.accessToken),this.map_=new Id.default.Map({container:e.maplibreOptions.container,style:e.maplibreOptions.style,attributionControl:!1,interactive:!1}),this.maplibreMap=this.map_}getMapBoxMap(){return this.map_}getMapLibreMap(){return this.map_}render(e){const n=this.map_.getCanvas(),r=e.viewState;n.style.position="absolute";const i=this.getVisible();n.style.display=i?"block":"none";const s=this.getOpacity().toString();s!==n.style.opacity&&(n.style.opacity=s);const a=r.rotation;return a&&this.map_.rotateTo(Hb.toDegrees(-a),{animate:!1}),this.map_.jumpTo({center:ht.toLonLat(r.center),zoom:r.zoom-1,animate:!1}),this.map_._frame&&(this.map_._frame.cancel(),this.map_._frame=null),this.map_._render(),n}setLayerVisibility(e,n){this.map_.setLayoutProperty(e,"visibility",n?"visible":"none")}getStyle(){return this.map_.getStyle()}getXYZ(){return this.get("xyz")}}function by(t,e,n){n(t,e)&&t instanceof E1.default&&t.getLayers().forEach(i=>{by(i,[...e,t],n)})}var Jf=(t=>(t.ON_LAYER_TYPE="ON_LAYER_TYPE",t))(Jf||{});const po="EPSG:3857",Ey="EPSG:4326",J2="EPSG:2169",Q2=JSON.parse("[2.6, 47.7, 8.6, 51]"),eL=parseInt("8",10);let Qf;const wy=at();function _n(){function t(){return Qf}function e(){return wy.value=Qf=new v1.default({view:new _1.default({center:[682439,6379152],constrainResolution:!0,enableRotation:!0,extent:ht.transformExtent(Q2,"EPSG:4326","EPSG:3857"),multiWorld:!1,zoom:eL}),controls:[],keyboardEventTarget:document}),Qf}function n(h,d){return h.id===d.id}function r(h,d){return h===d}function i(h,d){var p;return(p=h.layers)==null?void 0:p.some(m=>n(m,d))}function s(h,d){var m;const p=(m=h==null?void 0:h.layers)==null?void 0:m.find(g=>n(g,d));return!r(p,d)}function a(h,d){return!(d===null||!("layers"in h)||!("layers"in d)||typeof d.layers>"u"||typeof h.layers>"u"||h.layers===d.layers)}function o(h,d){return!("layers"in h)||typeof h.layers>"u"?[]:d===null||!("layers"in d)?h.layers.map((p,m)=>({layer:p,position:m})):h.layers===d.layers?[]:h.layers.reduce((p,m,g)=>i(d,m)?p:[...p,{layer:m,position:g}],[])}function l(h,d){return a(h,d)?d.layers.reduce((p,m)=>i(h,m)?p:[...p,m],[]):[]}function u(h,d){return a(h,d)?h.layers.reduce((p,m)=>s(d,m)?[...p,m]:p,[]):[]}function f(h,d,p){var y,v;const m=(y=d.layers)==null?void 0:y.find(E=>E.id===h),g=(v=p==null?void 0:p.layers)==null?void 0:v.find(E=>E.id===h);return(m==null?void 0:m.type)!==(g==null?void 0:g.type)?Jf.ON_LAYER_TYPE:null}function c(){const h=_n().getOlMap();h.updateSize(),by(h.getLayerGroup(),[],d=>(d instanceof Zf&&d.getMapLibreMap().resize(),!0))}return{olMap:wy,getOlMap:t,createMap:e,equalsLayer:n,hasLayer:i,layerHasChanged:s,contextHasChanged:a,getAddedLayers:o,getRemovedLayers:l,getMutatedLayers:u,getMutationType:f,resize:c}}const Ks=new Map;function Sy(){Ks.clear()}function kn(t){return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(t)}function yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tL(t,e){if(kn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oy(t){var e=tL(t,"string");return kn(e)=="symbol"?e:e+""}function xy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oy(r.key),r)}}function vr(t,e,n){return e&&xy(t.prototype,e),n&&xy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eh(t,e){return eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eh(t,e)}function ou(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eh(t,e)}function mo(t,e){if(e&&(kn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mi(t)}function _r(t){return _r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_r(t)}function Ti(t,e,n){return e=Oy(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nL(t){if(Array.isArray(t))return t}function rL(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function My(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iL(t,e){if(!!t){if(typeof t=="string")return My(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(t,e)}}function sL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aL(t){return nL(t)||rL(t)||iL(t)||sL()}function Ty(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ty(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ty(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var oL={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},lL=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};yr(this,t),this.init(e,n)}return vr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||oL,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,Ny(Ny({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),br=new lL,Ni=function(){function t(){yr(this,t),this.observers={}}return vr(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(!!this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var a=[].concat(this.observers[n]);a.forEach(function(l){l.apply(void 0,i)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(l){l.apply(l,[n].concat(i))})}}}]),t}();function go(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function Ly(t){return t==null?"":""+t}function uL(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function th(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var a=r(s.shift());!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function Cy(t,e,n){var r=th(t,e,Object),i=r.obj,s=r.k;i[s]=n}function cL(t,e,n,r){var i=th(t,e,Object),s=i.obj,a=i.k;s[a]=s[a]||[],r&&(s[a]=s[a].concat(n)),r||s[a].push(n)}function lu(t,e){var n=th(t,e),r=n.obj,i=n.k;if(!!r)return r[i]}function fL(t,e,n){var r=lu(t,n);return r!==void 0?r:lu(e,n)}function Ay(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):Ay(t[r],e[r],n):t[r]=e[r]);return t}function Zs(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var hL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function dL(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return hL[e]}):t}var uu=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,pL=[" ",",","?","!",";"];function mL(t,e,n){e=e||"",n=n||"";var r=pL.filter(function(o){return e.indexOf(o)<0&&n.indexOf(o)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(o){return o==="?"?"\\?":o}).join("|"),")")),s=!i.test(t);if(!s){var a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s}function cu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var a=2,o=r.slice(s,s+a).join(n),l=i[o];l===void 0&&r.length>s+a;)a++,o=r.slice(s,s+a).join(n),l=i[o];if(l===void 0)return;if(l===null)return null;if(e.endsWith(o)){if(typeof l=="string")return l;if(o&&typeof l[o]=="string")return l[o]}var u=r.slice(s+a).join(n);return u?cu(l,u,n):void 0}i=i[r[s]]}return i}}function Py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Py(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gL(t){var e=yL();return function(){var r=_r(t),i;if(e){var s=_r(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mo(this,i)}}function yL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var vL=function(t){ou(n,t);var e=gL(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return yr(this,n),i=e.call(this),uu&&Ni.call(Mi(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return vr(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[i,s];a&&typeof a!="string"&&(f=f.concat(a)),a&&typeof a=="string"&&(f=f.concat(l?a.split(l):a)),i.indexOf(".")>-1&&(f=i.split("."));var c=lu(this.data,f);return c||!u||typeof a!="string"?c:cu(this.data&&this.data[i]&&this.data[i][s],a,l)}},{key:"addResource",value:function(i,s,a,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,f=[i,s];a&&(f=f.concat(u?a.split(u):a)),i.indexOf(".")>-1&&(f=i.split("."),o=s,s=f[1]),this.addNamespaces(s),Cy(this.data,f,o),l.silent||this.emit("added",i,s,a,o)}},{key:"addResources",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in a)(typeof a[l]=="string"||Object.prototype.toString.apply(a[l])==="[object Array]")&&this.addResource(i,s,l,a[l],{silent:!0});o.silent||this.emit("added",i,s,a)}},{key:"addResourceBundle",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[i,s];i.indexOf(".")>-1&&(f=i.split("."),o=a,a=s,s=f[1]),this.addNamespaces(s);var c=lu(this.data,f)||{};o?Ay(c,a,l):c=fu(fu({},c),a),Cy(this.data,f,c),u.silent||this.emit("added",i,s,a)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?fu(fu({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),a=s&&Object.keys(s)||[];return!!a.find(function(o){return s[o]&&Object.keys(s[o]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Ni),Dy={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var a=this;return e.forEach(function(o){a.processors[o]&&(n=a.processors[o].process(n,r,i,s))}),n}};function Iy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iy(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _L(t){var e=bL();return function(){var r=_r(t),i;if(e){var s=_r(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mo(this,i)}}function bL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ky={},Ry=function(t){ou(n,t);var e=_L(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return yr(this,n),i=e.call(this),uu&&Ni.call(Mi(i)),uL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Mi(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=br.create("translator"),i}return vr(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var a=this.resolve(i,s);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(i,s){var a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS||[],u=a&&i.indexOf(a)>-1,f=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!mL(i,a,o);if(u&&!f){var c=i.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:i,namespaces:l};var h=i.split(a);(a!==o||a===o&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),i=h.join(o)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,a){var o=this;if(kn(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),kn(s)==="object"&&(s=qt({},s)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=this.extractFromKey(i[i.length-1],s),c=f.key,h=f.namespaces,d=h[h.length-1],p=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(m){var g=s.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(d).concat(g).concat(c),usedKey:c,exactUsedKey:c,usedLng:p,usedNS:d}:"".concat(d).concat(g).concat(c)}return l?{res:c,usedKey:c,exactUsedKey:c,usedLng:p,usedNS:d}:c}var y=this.resolve(i,s),v=y&&y.res,E=y&&y.usedKey||c,b=y&&y.exactUsedKey||c,O=Object.prototype.toString.apply(v),T=["[object Number]","[object Function]","[object RegExp]"],M=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,F=typeof v!="string"&&typeof v!="boolean"&&typeof v!="number";if(R&&v&&F&&T.indexOf(O)<0&&!(typeof M=="string"&&O==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,v,qt(qt({},s),{},{ns:h})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return l?(y.res=A,y):A}if(u){var D=O==="[object Array]",P=D?[]:{},te=D?b:E;for(var me in v)if(Object.prototype.hasOwnProperty.call(v,me)){var N="".concat(te).concat(u).concat(me);P[me]=this.translate(N,qt(qt({},s),{joinArrays:!1,ns:h})),P[me]===N&&(P[me]=v[me])}v=P}}else if(R&&typeof M=="string"&&O==="[object Array]")v=v.join(M),v&&(v=this.extendTranslation(v,i,s,a));else{var V=!1,z=!1,Z=s.count!==void 0&&typeof s.count!="string",Ae=n.hasDefaultValue(s),De=Z?this.pluralResolver.getSuffix(p,s.count,s):"",Et=s["defaultValue".concat(De)]||s.defaultValue;!this.isValidLookup(v)&&Ae&&(V=!0,v=Et),this.isValidLookup(v)||(z=!0,v=c);var Kt=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Le=Kt&&z?void 0:v,Rt=Ae&&Et!==v&&this.options.updateMissing;if(z||V||Rt){if(this.logger.log(Rt?"updateKey":"missingKey",p,d,c,Rt?Et:v),u){var ft=this.resolve(c,qt(qt({},s),{},{keySeparator:!1}));ft&&ft.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Nr=[],Re=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Re&&Re[0])for(var pn=0;pn<Re.length;pn++)Nr.push(Re[pn]);else this.options.saveMissingTo==="all"?Nr=this.languageUtils.toResolveHierarchy(s.lng||this.language):Nr.push(s.lng||this.language);var Lr=function($t,Cr,ni){var _=Ae&&ni!==v?ni:Le;o.options.missingKeyHandler?o.options.missingKeyHandler($t,d,Cr,_,Rt,s):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing($t,d,Cr,_,Rt,s),o.emit("missingKey",$t,d,Cr,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Z?Nr.forEach(function(ti){o.pluralResolver.getSuffixes(ti,s).forEach(function($t){Lr([ti],c+$t,s["defaultValue".concat($t)]||Et)})}):Lr(Nr,c,Et))}v=this.extendTranslation(v,i,s,y,a),z&&v===c&&this.options.appendNamespaceToMissingKey&&(v="".concat(d,":").concat(c)),(z||V)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(c):c,V?v:void 0):v=this.options.parseMissingKeyHandler(v))}return l?(y.res=v,y):v}},{key:"extendTranslation",value:function(i,s,a,o,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,qt(qt({},this.options.interpolation.defaultVariables),a),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(qt(qt({},a),{interpolation:qt(qt({},this.options.interpolation),a.interpolation)}));var f=typeof i=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(f){var h=i.match(this.interpolator.nestingRegexp);c=h&&h.length}var d=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(d=qt(qt({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,a.lng||this.language,a),f){var p=i.match(this.interpolator.nestingRegexp),m=p&&p.length;c<m&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(a.lng=o.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var v=arguments.length,E=new Array(v),b=0;b<v;b++)E[b]=arguments[b];return l&&l[0]===E[0]&&!a.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(E[0]," in key: ").concat(s[0])),null):u.translate.apply(u,E.concat([s]))},a)),a.interpolation&&this.interpolator.reset()}var g=a.postProcess||this.options.postProcess,y=typeof g=="string"?[g]:g;return i!=null&&y&&y.length&&a.applyPostProcessor!==!1&&(i=Dy.handle(y,i,s,this.options&&this.options.postProcessPassResolved?qt({i18nResolved:o},a):a,this)),i}},{key:"resolve",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,l,u,f,c;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!s.isValidLookup(o)){var d=s.extractFromKey(h,a),p=d.key;l=p;var m=d.namespaces;s.options.fallbackNS&&(m=m.concat(s.options.fallbackNS));var g=a.count!==void 0&&typeof a.count!="string",y=g&&!a.ordinal&&a.count===0&&s.pluralResolver.shouldUseIntlApi(),v=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",E=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);m.forEach(function(b){s.isValidLookup(o)||(c=b,!ky["".concat(E[0],"-").concat(b)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(c)&&(ky["".concat(E[0],"-").concat(b)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(E.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(function(O){if(!s.isValidLookup(o)){f=O;var T=[p];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(T,p,O,b,a);else{var M;g&&(M=s.pluralResolver.getSuffix(O,a.count,a));var R="".concat(s.options.pluralSeparator,"zero");if(g&&(T.push(p+M),y&&T.push(p+R)),v){var F="".concat(p).concat(s.options.contextSeparator).concat(a.context);T.push(F),g&&(T.push(F+M),y&&T.push(F+R))}}for(var A;A=T.pop();)s.isValidLookup(o)||(u=A,o=s.getResource(O,b,A,a))}}))})}}),{res:o,usedKey:l,exactUsedKey:u,usedLng:f,usedNS:c}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,a,o):this.resourceStore.getResource(i,s,a,o)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&s===a.substring(0,s.length)&&i[a]!==void 0)return!0;return!1}}]),n}(Ni);function nh(t){return t.charAt(0).toUpperCase()+t.slice(1)}var $y=function(){function t(e){yr(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=br.create("languageUtils")}return vr(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=nh(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=nh(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=nh(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var a=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(a))&&(i=a)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var a=r.getLanguagePartFromCode(s);if(r.isSupportedCode(a))return i=a;i=r.options.supportedLngs.find(function(o){if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&o.indexOf(a)===0)return o})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),a=[],o=function(u){!u||(i.isSupportedCode(u)?a.push(u):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(n))):typeof n=="string"&&o(this.formatLanguageCode(n)),s.forEach(function(l){a.indexOf(l)<0&&o(i.formatLanguageCode(l))}),a}}]),t}(),EL=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],wL={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},SL=["v1","v2","v3"],Fy={zero:0,one:1,two:2,few:3,many:4,other:5};function OL(){var t={};return EL.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:wL[e.fc]}})}),t}var xL=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};yr(this,t),this.languageUtils=e,this.options=n,this.logger=br.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=OL()}return vr(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(a,o){return Fy[a]-Fy[o]}).map(function(a){return"".concat(r.options.prepend).concat(a)}):s.numbers.map(function(a){return r.getSuffix(n,a,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),a=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var o=function(){return i.options.prepend&&a.toString()?i.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?o():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!SL.includes(this.options.compatibilityJSON)}}]),t}();function Vy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vy(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jy(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=fL(t,e,n);return!s&&i&&typeof n=="string"&&(s=cu(t,n,r),s===void 0&&(s=cu(e,n,r))),s}var ML=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yr(this,t),this.logger=br.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return vr(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:dL,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Zs(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Zs(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Zs(r.nestingPrefix):r.nestingPrefixEscaped||Zs("$t("),this.nestingSuffix=r.nestingSuffix?Zs(r.nestingSuffix):r.nestingSuffixEscaped||Zs(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var a=this,o,l,u,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(g){return g.replace(/\$/g,"$$$$")}var h=function(y){if(y.indexOf(a.formatSeparator)<0){var v=jy(r,f,y,a.options.keySeparator,a.options.ignoreJSONStructure);return a.alwaysFormat?a.format(v,void 0,i,Kn(Kn(Kn({},s),r),{},{interpolationkey:y})):v}var E=y.split(a.formatSeparator),b=E.shift().trim(),O=E.join(a.formatSeparator).trim();return a.format(jy(r,f,b,a.options.keySeparator,a.options.ignoreJSONStructure),O,i,Kn(Kn(Kn({},s),r),{},{interpolationkey:b}))};this.resetRegExp();var d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,p=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(y){return c(y)}},{regex:this.regexp,safeValue:function(y){return a.escapeValue?c(a.escape(y)):c(y)}}];return m.forEach(function(g){for(u=0;o=g.regex.exec(n);){var y=o[1].trim();if(l=h(y),l===void 0)if(typeof d=="function"){var v=d(n,o,s);l=typeof v=="string"?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))l="";else if(p){l=o[0];continue}else a.logger.warn("missed to pass in variable ".concat(y," for interpolating ").concat(n)),l="";else typeof l!="string"&&!a.useRawValueToEscape&&(l=Ly(l));var E=g.safeValue(l);if(n=n.replace(o[0],E),p?(g.regex.lastIndex+=l.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,u++,u>=a.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,l;function u(d,p){var m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;var g=d.split(new RegExp("".concat(m,"[ ]*{"))),y="{".concat(g[1]);d=g[0],y=this.interpolate(y,l);var v=y.match(/'/g),E=y.match(/"/g);(v&&v.length%2===0&&!E||E.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),p&&(l=Kn(Kn({},p),l))}catch(b){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),b),"".concat(d).concat(m).concat(y)}return delete l.defaultValue,d}for(;a=this.nestingRegexp.exec(n);){var f=[];l=Kn({},s),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var c=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var h=a[1].split(this.formatSeparator).map(function(d){return d.trim()});a[1]=h.shift(),f=h,c=!0}if(o=r(u.call(this,a[1].trim(),l),l),o&&a[0]===n&&typeof o!="string")return o;typeof o!="string"&&(o=Ly(o)),o||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(n)),o=""),c&&(o=f.reduce(function(d,p){return i.format(d,p,s.lng,Kn(Kn({},s),{},{interpolationkey:a[1].trim()}))},o.trim())),n=n.replace(a[0],o),this.regexp.lastIndex=0}return n}}]),t}();function Gy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gy(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TL(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(a){if(!!a){var o=a.split(":"),l=aL(o),u=l[0],f=l.slice(1),c=f.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=c),c==="false"&&(n[u.trim()]=!1),c==="true"&&(n[u.trim()]=!0),isNaN(c)||(n[u.trim()]=parseInt(c,10))}})}}return{formatName:e,formatOptions:n}}function Js(t){var e={};return function(r,i,s){var a=i+JSON.stringify(s),o=e[a];return o||(o=t(i,s),e[a]=o),o(r)}}var NL=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yr(this,t),this.logger=br.create("formatter"),this.options=e,this.formats={number:Js(function(n,r){var i=new Intl.NumberFormat(n,Br({},r));return function(s){return i.format(s)}}),currency:Js(function(n,r){var i=new Intl.NumberFormat(n,Br(Br({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:Js(function(n,r){var i=new Intl.DateTimeFormat(n,Br({},r));return function(s){return i.format(s)}}),relativetime:Js(function(n,r){var i=new Intl.RelativeTimeFormat(n,Br({},r));return function(s){return i.format(s,r.range||"day")}}),list:Js(function(n,r){var i=new Intl.ListFormat(n,Br({},r));return function(s){return i.format(s)}})},this.init(e)}return vr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=Js(r)}},{key:"format",value:function(n,r,i){var s=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=r.split(this.formatSeparator),l=o.reduce(function(u,f){var c=TL(f),h=c.formatName,d=c.formatOptions;if(s.formats[h]){var p=u;try{var m=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},g=m.locale||m.lng||a.locale||a.lng||i;p=s.formats[h](u,g,Br(Br(Br({},d),a),m))}catch(y){s.logger.warn(y)}return p}else s.logger.warn("there was no format function for ".concat(h));return u},n);return l}}]),t}();function Uy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function By(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uy(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LL(t){var e=CL();return function(){var r=_r(t),i;if(e){var s=_r(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mo(this,i)}}function CL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AL(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var PL=function(t){ou(n,t);var e=LL(n);function n(r,i,s){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return yr(this,n),a=e.call(this),uu&&Ni.call(Mi(a)),a.backend=r,a.store=i,a.services=s,a.languageUtils=s.languageUtils,a.options=o,a.logger=br.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(s,o.backend,o),a}return vr(n,[{key:"queueLoad",value:function(i,s,a,o){var l=this,u={},f={},c={},h={};return i.forEach(function(d){var p=!0;s.forEach(function(m){var g="".concat(d,"|").concat(m);!a.reload&&l.store.hasResourceBundle(d,m)?l.state[g]=2:l.state[g]<0||(l.state[g]===1?f[g]===void 0&&(f[g]=!0):(l.state[g]=1,p=!1,f[g]===void 0&&(f[g]=!0),u[g]===void 0&&(u[g]=!0),h[m]===void 0&&(h[m]=!0)))}),p||(c[d]=!0)}),(Object.keys(u).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(u),pending:Object.keys(f),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,s,a){var o=i.split("|"),l=o[0],u=o[1];s&&this.emit("failedLoading",l,u,s),a&&this.store.addResourceBundle(l,u,a),this.state[i]=s?-1:2;var f={};this.queue.forEach(function(c){cL(c.loaded,[l],u),AL(c,i),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(function(h){f[h]||(f[h]={});var d=c.loaded[h];d.length&&d.forEach(function(p){f[h][p]===void 0&&(f[h][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(i,s,a){var o=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:a,tried:l,wait:u,callback:f});return}this.readingCalls++;var c=function(m,g){if(o.readingCalls--,o.waitingReads.length>0){var y=o.waitingReads.shift();o.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(m&&g&&l<o.maxRetries){setTimeout(function(){o.read.call(o,i,s,a,l+1,u*2,f)},u);return}f(m,g)},h=this.backend[a].bind(this.backend);if(h.length===2){try{var d=h(i,s);d&&typeof d.then=="function"?d.then(function(p){return c(null,p)}).catch(c):c(null,d)}catch(p){c(p)}return}return h(i,s,c)}},{key:"prepareLoading",value:function(i,s){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,o,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(f){a.loadOne(f)})}},{key:"load",value:function(i,s,a){this.prepareLoading(i,s,{},a)}},{key:"reload",value:function(i,s,a){this.prepareLoading(i,s,{reload:!0},a)}},{key:"loadOne",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=i.split("|"),l=o[0],u=o[1];this.read(l,u,"read",void 0,void 0,function(f,c){f&&s.logger.warn("".concat(a,"loading namespace ").concat(u," for language ").concat(l," failed"),f),!f&&c&&s.logger.log("".concat(a,"loaded namespace ").concat(u," for language ").concat(l),c),s.loaded(i,f,c)})}},{key:"saveMissing",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var c=By(By({},u),{},{isUpdate:l}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var d;h.length===5?d=h(i,s,a,o,c):d=h(i,s,a,o),d&&typeof d.then=="function"?d.then(function(p){return f(null,p)}).catch(f):f(null,d)}catch(p){f(p)}else h(i,s,a,o,f,c)}!i||!i[0]||this.store.addResource(i[0],s,a,o)}}}]),n}(Ni);function Wy(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(kn(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),kn(e[2])==="object"||kn(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function qy(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Hy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hy(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DL(t){var e=IL();return function(){var r=_r(t),i;if(e){var s=_r(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mo(this,i)}}function IL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hu(){}function kL(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var du=function(t){ou(n,t);var e=DL(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(yr(this,n),r=e.call(this),uu&&Ni.call(Mi(r)),r.options=qy(i),r.services={},r.logger=br,r.modules={external:[]},kL(Mi(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),mo(r,Mi(r));setTimeout(function(){r.init(i,s)},0)}return r}return vr(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var o=Wy();this.options=Er(Er(Er({},o),this.options),qy(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Er(Er({},o.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function l(y){return y?typeof y=="function"?new y:y:null}if(!this.options.isClone){this.modules.logger?br.init(l(this.modules.logger),this.options):br.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=NL);var f=new $y(this.options);this.store=new vL(this.options.resources,this.options);var c=this.services;c.logger=br,c.resourceStore=this.store,c.languageUtils=f,c.pluralResolver=new xL(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(c.formatter=l(u),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new ML(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new PL(l(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(y){for(var v=arguments.length,E=new Array(v>1?v-1:0),b=1;b<v;b++)E[b-1]=arguments[b];i.emit.apply(i,[y].concat(E))}),this.modules.languageDetector&&(c.languageDetector=l(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=l(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new Ry(this.services,this.options),this.translator.on("*",function(y){for(var v=arguments.length,E=new Array(v>1?v-1:0),b=1;b<v;b++)E[b-1]=arguments[b];i.emit.apply(i,[y].concat(E))}),this.modules.external.forEach(function(y){y.init&&y.init(i)})}if(this.format=this.options.interpolation.format,a||(a=hu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(y){i[y]=function(){var v;return(v=i.store)[y].apply(v,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(y){i[y]=function(){var v;return(v=i.store)[y].apply(v,arguments),i}});var m=go(),g=function(){var v=function(b,O){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),m.resolve(O),a(b,O)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return v(null,i.t.bind(i));i.changeLanguage(i.options.lng,v)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),m}},{key:"loadResources",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hu,o=a,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(o=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return o();var u=[],f=function(d){if(!!d){var p=s.services.languageUtils.toResolveHierarchy(d);p.forEach(function(m){u.indexOf(m)<0&&u.push(m)})}};if(l)f(l);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(h){return f(h)})}this.options.preload&&this.options.preload.forEach(function(h){return f(h)}),this.services.backendConnector.load(u,this.options.ns,function(h){!h&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),o(h)})}else o(null)}},{key:"reloadResources",value:function(i,s,a){var o=go();return i||(i=this.languages),s||(s=this.options.ns),a||(a=hu),this.services.backendConnector.reload(i,s,function(l){o.resolve(),a(l)}),o}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&Dy.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(i,s){var a=this;this.isLanguageChangingTo=i;var o=go();this.emit("languageChanging",i);var l=function(h){a.language=h,a.languages=a.services.languageUtils.toResolveHierarchy(h),a.resolvedLanguage=void 0,a.setResolvedLanguage(h)},u=function(h,d){d?(l(d),a.translator.changeLanguage(d),a.isLanguageChangingTo=void 0,a.emit("languageChanged",d),a.logger.log("languageChanged",d)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),s&&s(h,function(){return a.t.apply(a,arguments)})},f=function(h){!i&&!h&&a.services.languageDetector&&(h=[]);var d=typeof h=="string"?h:a.services.languageUtils.getBestMatchFromCodes(h);d&&(a.language||l(d),a.translator.language||a.translator.changeLanguage(d),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(d)),a.loadResources(d,function(p){u(p,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),o}},{key:"getFixedT",value:function(i,s,a){var o=this,l=function u(f,c){var h;if(kn(c)!=="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),m=2;m<d;m++)p[m-2]=arguments[m];h=o.options.overloadTranslationOptionHandler([f,c].concat(p))}else h=Er({},c);h.lng=h.lng||u.lng,h.lngs=h.lngs||u.lngs,h.ns=h.ns||u.ns,h.keyPrefix=h.keyPrefix||a||u.keyPrefix;var g=o.options.keySeparator||".",y;return h.keyPrefix&&Array.isArray(f)?y=f.map(function(v){return"".concat(h.keyPrefix).concat(g).concat(v)}):y=h.keyPrefix?"".concat(h.keyPrefix).concat(g).concat(f):f,o.t(y,h)};return typeof i=="string"?l.lng=i:l.lngs=i,l.ns=s,l.keyPrefix=a,l}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=a.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var f=function(d,p){var m=s.services.backendConnector.state["".concat(d,"|").concat(p)];return m===-1||m===2};if(a.precheck){var c=a.precheck(this,f);if(c!==void 0)return c}return!!(this.hasResourceBundle(o,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(o,i)&&(!l||f(u,i)))}},{key:"loadNamespaces",value:function(i,s){var a=this,o=go();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){a.options.ns.indexOf(l)<0&&a.options.ns.push(l)}),this.loadResources(function(l){o.resolve(),s&&s(l)}),o):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var a=go();typeof i=="string"&&(i=[i]);var o=this.options.preload||[],l=i.filter(function(u){return o.indexOf(u)<0});return l.length?(this.options.preload=o.concat(l),this.loadResources(function(u){a.resolve(),s&&s(u)}),a):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new $y(Wy());return s.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hu,o=Er(Er(Er({},this.options),s),{isClone:!0}),l=new n(o);(s.debug!==void 0||s.prefix!==void 0)&&(l.logger=l.logger.clone(s));var u=["store","services","language"];return u.forEach(function(f){l[f]=i[f]}),l.services=Er({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new Ry(l.services,l.options),l.translator.on("*",function(f){for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];l.emit.apply(l,[f].concat(h))}),l.init(o,a),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Ni);Ti(du,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new du(t,e)});var ot=du.createInstance();ot.createInstance=du.createInstance,ot.createInstance,ot.dir,ot.init,ot.loadResources,ot.reloadResources,ot.use,ot.changeLanguage,ot.getFixedT,ot.t,ot.exists,ot.setDefaultNamespace,ot.hasLoadedNamespace,ot.loadNamespaces,ot.loadLanguages;const RL="/";var zy=(t=>(t.PNG="image/png",t.JPG="image/jpeg",t))(zy||{}),Wr=(t=>(t.VALUE="value",t.RANGE="range",t))(Wr||{}),pu=(t=>(t.DATEPICKER="datepicker",t.SLIDER="slider",t))(pu||{}),rh;function Yy(t,{i18next:e,rerenderOn:n=["languageChanged","loaded","added","removed"],slotStart:r="{",slotEnd:i="}"}){const s=e.t.bind(e),a=ge(new Date),o=()=>a.value=new Date,l=()=>a.value;n.forEach(h=>{var d;switch(h){case"added":case"removed":(d=e.store)==null||d.on(h,o);break;default:e.on(h,o);break}}),t.component("i18next",VL),t.mixin({beforeCreate(){var h,d;const p=this.$options;if(!p.__i18n&&!p.i18nOptions){this.__translate=void 0;return}const m=this.$options.name,g=(Math.random()*10**8|0).toString(),y=[m,g].filter(M=>!!M).join("-");this.__bundles=[];const v=M=>{Object.entries(M).forEach(([R,F])=>{e.addResourceBundle(R,y,F,!0,!1),this.__bundles.push([R,y])})};(h=p.__i18n)==null||h.forEach(M=>{v(JSON.parse(M))});let{lng:E,ns:b,keyPrefix:O}=c(p,v);(d=this.__bundles)!=null&&d.length&&(b=[y].concat(b!=null?b:[]));const T=u(E,b);this.__translate=(M,R)=>!O||f(M)?T(M,R):T(O+"."+M,R)},unmounted(){var h;(h=this.__bundles)==null||h.forEach(([d,p])=>e.removeResourceBundle(d,p))}}),t.config.globalProperties.$t=function(h,d){var p;return l(),e.isInitialized?((p=this==null?void 0:this.__translate)!=null?p:s)(h,d):h},t.config.globalProperties.$i18next=new Proxy(e,{get(h,d){return l(),Reflect.get(h,d)}}),rh=FL(r,i);function u(h,d){return h?e.getFixedT(h,d):d?e.getFixedT(null,d):s}function f(h){const d=e.options.nsSeparator;return typeof d=="string"&&h.includes(d)}function c(h,d){let p,m,g;if(h.i18nOptions){let y,v;({lng:p,namespaces:v=e.options.defaultNS,keyPrefix:g,messages:y}=h.i18nOptions),y&&d(y),m=typeof v=="string"?[v]:v,m&&e.loadNamespaces(m)}return{lng:p,ns:m,keyPrefix:g}}}function Ue(){const t=$L(),e=t.appContext.config.globalProperties;return{i18next:e.$i18next,t:e.$t.bind(t.proxy)}}function $L(){const t=Rs();if(!t)throw new Error("i18next-vue: No Vue instance in context. Make sure to register the i18next-vue plugin using app.use(...).");return t}function FL(t,e){const n=`${t}\\s*([a-z0-9\\-]+)\\s*${e}`;return new RegExp(n,"gi")}var VL=ce({props:{translation:{type:String,required:!0}},setup(t,{slots:e}){return()=>{const n=t.translation,r=[];let i,s=0;for(;(i=rh.exec(n))!==null;){r.push(n.substring(s,i.index));const a=e[i[1]];a?r.push(...a()):r.push(i[0]),s=rh.lastIndex}return r.push(n.substring(s)),r}}});class fs extends Error{}class jL extends fs{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class GL extends fs{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class UL extends fs{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Qs extends fs{}class Xy extends fs{constructor(e){super(`Invalid unit ${e}`)}}class hn extends fs{}class Li extends fs{constructor(){super("Zone is an abstract class")}}const re="numeric",Zn="short",bn="long",mu={year:re,month:re,day:re},Ky={year:re,month:Zn,day:re},BL={year:re,month:Zn,day:re,weekday:Zn},Zy={year:re,month:bn,day:re},Jy={year:re,month:bn,day:re,weekday:bn},Qy={hour:re,minute:re},ev={hour:re,minute:re,second:re},tv={hour:re,minute:re,second:re,timeZoneName:Zn},nv={hour:re,minute:re,second:re,timeZoneName:bn},rv={hour:re,minute:re,hourCycle:"h23"},iv={hour:re,minute:re,second:re,hourCycle:"h23"},sv={hour:re,minute:re,second:re,hourCycle:"h23",timeZoneName:Zn},av={hour:re,minute:re,second:re,hourCycle:"h23",timeZoneName:bn},ov={year:re,month:re,day:re,hour:re,minute:re},lv={year:re,month:re,day:re,hour:re,minute:re,second:re},uv={year:re,month:Zn,day:re,hour:re,minute:re},cv={year:re,month:Zn,day:re,hour:re,minute:re,second:re},WL={year:re,month:Zn,day:re,weekday:Zn,hour:re,minute:re},fv={year:re,month:bn,day:re,hour:re,minute:re,timeZoneName:Zn},hv={year:re,month:bn,day:re,hour:re,minute:re,second:re,timeZoneName:Zn},dv={year:re,month:bn,day:re,weekday:bn,hour:re,minute:re,timeZoneName:bn},pv={year:re,month:bn,day:re,weekday:bn,hour:re,minute:re,second:re,timeZoneName:bn};class yo{get type(){throw new Li}get name(){throw new Li}get ianaName(){return this.name}get isUniversal(){throw new Li}offsetName(e,n){throw new Li}formatOffset(e,n){throw new Li}offset(e){throw new Li}equals(e){throw new Li}get isValid(){throw new Li}}let ih=null;class gu extends yo{static get instance(){return ih===null&&(ih=new gu),ih}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Fv(e,n,r)}formatOffset(e,n){return Eo(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let yu={};function qL(t){return yu[t]||(yu[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),yu[t]}const HL={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function zL(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,a,o,l,u,f]=r;return[a,i,s,o,l,u,f]}function YL(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:a}=n[i],o=HL[s];s==="era"?r[o]=a:Se(o)||(r[o]=parseInt(a,10))}return r}let vu={};class qr extends yo{static create(e){return vu[e]||(vu[e]=new qr(e)),vu[e]}static resetCache(){vu={},yu={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=qr.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Fv(e,n,r,this.name)}formatOffset(e,n){return Eo(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=qL(this.name);let[i,s,a,o,l,u,f]=r.formatToParts?YL(r,n):zL(r,n);o==="BC"&&(i=-Math.abs(i)+1);const h=Su({year:i,month:s,day:a,hour:l===24?0:l,minute:u,second:f,millisecond:0});let d=+n;const p=d%1e3;return d-=p>=0?p:1e3+p,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let mv={};function XL(t,e={}){const n=JSON.stringify([t,e]);let r=mv[n];return r||(r=new Intl.ListFormat(t,e),mv[n]=r),r}let sh={};function ah(t,e={}){const n=JSON.stringify([t,e]);let r=sh[n];return r||(r=new Intl.DateTimeFormat(t,e),sh[n]=r),r}let oh={};function KL(t,e={}){const n=JSON.stringify([t,e]);let r=oh[n];return r||(r=new Intl.NumberFormat(t,e),oh[n]=r),r}let lh={};function ZL(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=lh[i];return s||(s=new Intl.RelativeTimeFormat(t,e),lh[i]=s),s}let vo=null;function JL(){return vo||(vo=new Intl.DateTimeFormat().resolvedOptions().locale,vo)}let gv={};function QL(t){let e=gv[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,gv[t]=e}return e}function eC(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=ah(t).resolvedOptions(),i=t}catch{const l=t.substring(0,n);r=ah(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:a}=r;return[i,s,a]}}function tC(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function nC(t){const e=[];for(let n=1;n<=12;n++){const r=xe.utc(2009,n,1);e.push(t(r))}return e}function rC(t){const e=[];for(let n=1;n<=7;n++){const r=xe.utc(2016,11,13+n);e.push(t(r))}return e}function _u(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function iC(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class sC{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...a}=r;if(!n||Object.keys(a).length>0){const o={useGrouping:!1,...r};r.padTo>0&&(o.minimumIntegerDigits=r.padTo),this.inf=KL(e,o)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):mh(e,3);return Ot(n,this.padTo)}}}class aC{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&qr.create(o).valid?(i=o,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=ah(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class oC{constructor(e,n,r){this.opts={style:"long",...r},!n&&Iv()&&(this.rtf=ZL(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):TC(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const lC={firstDay:1,minimalDays:4,weekend:[6,7]};class Je{static fromOpts(e){return Je.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const a=e||bt.defaultLocale,o=a||(s?"en-US":JL()),l=n||bt.defaultNumberingSystem,u=r||bt.defaultOutputCalendar,f=dh(i)||bt.defaultWeekSettings;return new Je(o,l,u,f,a)}static resetCache(){vo=null,sh={},oh={},lh={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Je.create(e,n,r,i)}constructor(e,n,r,i,s){const[a,o,l]=eC(e);this.locale=a,this.numberingSystem=n||o||null,this.outputCalendar=r||l||null,this.weekSettings=i,this.intl=tC(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=iC(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Je.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,dh(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return _u(this,e,Gv,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=nC(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return _u(this,e,Wv,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=rC(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return _u(this,void 0,()=>qv,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[xe.utc(2016,11,13,9),xe.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return _u(this,e,Hv,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[xe.utc(-40,1,1),xe.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new sC(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new aC(e,this.intl,n)}relFormatter(e={}){return new oC(this.intl,this.isEnglish(),e)}listFormatter(e={}){return XL(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:kv()?QL(this.locale):lC}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let uh=null;class nn extends yo{static get utcInstance(){return uh===null&&(uh=new nn(0)),uh}static instance(e){return e===0?nn.utcInstance:new nn(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new nn(Ou(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Eo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Eo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Eo(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class uC extends yo{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ci(t,e){if(Se(t)||t===null)return e;if(t instanceof yo)return t;if(hC(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?gu.instance:n==="utc"||n==="gmt"?nn.utcInstance:nn.parseSpecifier(n)||qr.create(t)}else return hs(t)?nn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new uC(t)}let yv=()=>Date.now(),vv="system",_v=null,bv=null,Ev=null,wv=60,Sv,Ov=null;class bt{static get now(){return yv}static set now(e){yv=e}static set defaultZone(e){vv=e}static get defaultZone(){return Ci(vv,gu.instance)}static get defaultLocale(){return _v}static set defaultLocale(e){_v=e}static get defaultNumberingSystem(){return bv}static set defaultNumberingSystem(e){bv=e}static get defaultOutputCalendar(){return Ev}static set defaultOutputCalendar(e){Ev=e}static get defaultWeekSettings(){return Ov}static set defaultWeekSettings(e){Ov=dh(e)}static get twoDigitCutoffYear(){return wv}static set twoDigitCutoffYear(e){wv=e%100}static get throwOnInvalid(){return Sv}static set throwOnInvalid(e){Sv=e}static resetCaches(){Je.resetCache(),qr.resetCache()}}class Jn{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const xv=[0,31,59,90,120,151,181,212,243,273,304,334],Mv=[0,31,60,91,121,152,182,213,244,274,305,335];function Rn(t,e){return new Jn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function ch(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function Tv(t,e,n){return n+(_o(t)?Mv:xv)[e-1]}function Nv(t,e){const n=_o(t)?Mv:xv,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function fh(t,e){return(t-e+7)%7+1}function bu(t,e=4,n=1){const{year:r,month:i,day:s}=t,a=Tv(r,i,s),o=fh(ch(r,i,s),n);let l=Math.floor((a-o+14-e)/7),u;return l<1?(u=r-1,l=bo(u,e,n)):l>bo(r,e,n)?(u=r+1,l=1):u=r,{weekYear:u,weekNumber:l,weekday:o,...Mu(t)}}function Lv(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,a=fh(ch(r,1,e),n),o=ta(r);let l=i*7+s-a-7+e,u;l<1?(u=r-1,l+=ta(u)):l>o?(u=r+1,l-=ta(r)):u=r;const{month:f,day:c}=Nv(u,l);return{year:u,month:f,day:c,...Mu(t)}}function hh(t){const{year:e,month:n,day:r}=t,i=Tv(e,n,r);return{year:e,ordinal:i,...Mu(t)}}function Cv(t){const{year:e,ordinal:n}=t,{month:r,day:i}=Nv(e,n);return{year:e,month:r,day:i,...Mu(t)}}function Av(t,e){if(!Se(t.localWeekday)||!Se(t.localWeekNumber)||!Se(t.localWeekYear)){if(!Se(t.weekday)||!Se(t.weekNumber)||!Se(t.weekYear))throw new Qs("Cannot mix locale-based week fields with ISO-based week fields");return Se(t.localWeekday)||(t.weekday=t.localWeekday),Se(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Se(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function cC(t,e=4,n=1){const r=Eu(t.weekYear),i=$n(t.weekNumber,1,bo(t.weekYear,e,n)),s=$n(t.weekday,1,7);return r?i?s?!1:Rn("weekday",t.weekday):Rn("week",t.weekNumber):Rn("weekYear",t.weekYear)}function fC(t){const e=Eu(t.year),n=$n(t.ordinal,1,ta(t.year));return e?n?!1:Rn("ordinal",t.ordinal):Rn("year",t.year)}function Pv(t){const e=Eu(t.year),n=$n(t.month,1,12),r=$n(t.day,1,wu(t.year,t.month));return e?n?r?!1:Rn("day",t.day):Rn("month",t.month):Rn("year",t.year)}function Dv(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=$n(e,0,23)||e===24&&n===0&&r===0&&i===0,a=$n(n,0,59),o=$n(r,0,59),l=$n(i,0,999);return s?a?o?l?!1:Rn("millisecond",i):Rn("second",r):Rn("minute",n):Rn("hour",e)}function Se(t){return typeof t>"u"}function hs(t){return typeof t=="number"}function Eu(t){return typeof t=="number"&&t%1===0}function hC(t){return typeof t=="string"}function dC(t){return Object.prototype.toString.call(t)==="[object Date]"}function Iv(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function kv(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function pC(t){return Array.isArray(t)?t:[t]}function Rv(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function mC(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function ea(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function dh(t){if(t==null)return null;if(typeof t!="object")throw new hn("Week settings must be an object");if(!$n(t.firstDay,1,7)||!$n(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!$n(e,1,7)))throw new hn("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function $n(t,e,n){return Eu(t)&&t>=e&&t<=n}function gC(t,e){return t-e*Math.floor(t/e)}function Ot(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Ai(t){if(!(Se(t)||t===null||t===""))return parseInt(t,10)}function ds(t){if(!(Se(t)||t===null||t===""))return parseFloat(t)}function ph(t){if(!(Se(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function mh(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function _o(t){return t%4===0&&(t%100!==0||t%400===0)}function ta(t){return _o(t)?366:365}function wu(t,e){const n=gC(e-1,12)+1,r=t+(e-n)/12;return n===2?_o(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Su(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function $v(t,e,n){return-fh(ch(t,1,e),n)+e-1}function bo(t,e=4,n=1){const r=$v(t,e,n),i=$v(t+1,e,n);return(ta(t)-r+i)/7}function gh(t){return t>99?t:t>bt.twoDigitCutoffYear?1900+t:2e3+t}function Fv(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const a={timeZoneName:e,...s},o=new Intl.DateTimeFormat(n,a).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function Ou(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function Vv(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new hn(`Invalid unit value ${t}`);return e}function xu(t,e){const n={};for(const r in t)if(ea(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=Vv(i)}return n}function Eo(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Ot(n,2)}:${Ot(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Ot(n,2)}${Ot(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Mu(t){return mC(t,["hour","minute","second","millisecond"])}const yC=["January","February","March","April","May","June","July","August","September","October","November","December"],jv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],vC=["J","F","M","A","M","J","J","A","S","O","N","D"];function Gv(t){switch(t){case"narrow":return[...vC];case"short":return[...jv];case"long":return[...yC];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Uv=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Bv=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],_C=["M","T","W","T","F","S","S"];function Wv(t){switch(t){case"narrow":return[..._C];case"short":return[...Bv];case"long":return[...Uv];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const qv=["AM","PM"],bC=["Before Christ","Anno Domini"],EC=["BC","AD"],wC=["B","A"];function Hv(t){switch(t){case"narrow":return[...wC];case"short":return[...EC];case"long":return[...bC];default:return null}}function SC(t){return qv[t.hour<12?0:1]}function OC(t,e){return Wv(e)[t.weekday-1]}function xC(t,e){return Gv(e)[t.month-1]}function MC(t,e){return Hv(e)[t.year<0?0:1]}function TC(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const c=t==="days";switch(e){case 1:return c?"tomorrow":`next ${i[t][0]}`;case-1:return c?"yesterday":`last ${i[t][0]}`;case 0:return c?"today":`this ${i[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,u=i[t],f=r?l?u[1]:u[2]||u[1]:l?i[t][0]:t;return a?`${o} ${f} ago`:`in ${o} ${f}`}function zv(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const NC={D:mu,DD:Ky,DDD:Zy,DDDD:Jy,t:Qy,tt:ev,ttt:tv,tttt:nv,T:rv,TT:iv,TTT:sv,TTTT:av,f:ov,ff:uv,fff:fv,ffff:dv,F:lv,FF:cv,FFF:hv,FFFF:pv};class Ht{static create(e,n={}){return new Ht(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||o===n?r+=o:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=o,n=o)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return NC[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Ot(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(d,p)=>this.loc.extract(e,d,p),a=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>r?SC(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,p)=>r?xC(e,d):s(p?{month:d}:{month:d,day:"numeric"},"month"),u=(d,p)=>r?OC(e,d):s(p?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),f=d=>{const p=Ht.macroTokenToFormatOpts(d);return p?this.formatWithSystemDefault(e,p):d},c=d=>r?MC(e,d):s({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(d)}};return zv(Ht.parseFormat(n),h)}formatDurationFromString(e,n){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>u=>{const f=r(u);return f?this.num(l.get(f),u.length):u},s=Ht.parseFormat(n),a=s.reduce((l,{literal:u,val:f})=>u?l:l.concat(f),[]),o=e.shiftTo(...a.map(r).filter(l=>l));return zv(s,i(o))}}const Yv=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function na(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function ra(...t){return e=>t.reduce(([n,r,i],s)=>{const[a,o,l]=s(e,i);return[{...n,...a},o||r,l]},[{},null,1]).slice(0,2)}function ia(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function Xv(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Ai(e[n+i]);return[r,null,n+i]}}const Kv=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,LC=`(?:${Kv.source}?(?:\\[(${Yv.source})\\])?)?`,yh=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Zv=RegExp(`${yh.source}${LC}`),vh=RegExp(`(?:T${Zv.source})?`),CC=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,AC=/(\d{4})-?W(\d\d)(?:-?(\d))?/,PC=/(\d{4})-?(\d{3})/,DC=Xv("weekYear","weekNumber","weekDay"),IC=Xv("year","ordinal"),kC=/(\d{4})-(\d\d)-(\d\d)/,Jv=RegExp(`${yh.source} ?(?:${Kv.source}|(${Yv.source}))?`),RC=RegExp(`(?: ${Jv.source})?`);function sa(t,e,n){const r=t[e];return Se(r)?n:Ai(r)}function $C(t,e){return[{year:sa(t,e),month:sa(t,e+1,1),day:sa(t,e+2,1)},null,e+3]}function aa(t,e){return[{hours:sa(t,e,0),minutes:sa(t,e+1,0),seconds:sa(t,e+2,0),milliseconds:ph(t[e+3])},null,e+4]}function wo(t,e){const n=!t[e]&&!t[e+1],r=Ou(t[e+1],t[e+2]),i=n?null:nn.instance(r);return[{},i,e+3]}function So(t,e){const n=t[e]?qr.create(t[e]):null;return[{},n,e+1]}const FC=RegExp(`^T?${yh.source}$`),VC=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function jC(t){const[e,n,r,i,s,a,o,l,u]=t,f=e[0]==="-",c=l&&l[0]==="-",h=(d,p=!1)=>d!==void 0&&(p||d&&f)?-d:d;return[{years:h(ds(n)),months:h(ds(r)),weeks:h(ds(i)),days:h(ds(s)),hours:h(ds(a)),minutes:h(ds(o)),seconds:h(ds(l),l==="-0"),milliseconds:h(ph(u),c)}]}const GC={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _h(t,e,n,r,i,s,a){const o={year:e.length===2?gh(Ai(e)):Ai(e),month:jv.indexOf(n)+1,day:Ai(r),hour:Ai(i),minute:Ai(s)};return a&&(o.second=Ai(a)),t&&(o.weekday=t.length>3?Uv.indexOf(t)+1:Bv.indexOf(t)+1),o}const UC=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function BC(t){const[,e,n,r,i,s,a,o,l,u,f,c]=t,h=_h(e,i,r,n,s,a,o);let d;return l?d=GC[l]:u?d=0:d=Ou(f,c),[h,new nn(d)]}function WC(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const qC=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,HC=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,zC=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Qv(t){const[,e,n,r,i,s,a,o]=t;return[_h(e,i,r,n,s,a,o),nn.utcInstance]}function YC(t){const[,e,n,r,i,s,a,o]=t;return[_h(e,o,n,r,i,s,a),nn.utcInstance]}const XC=na(CC,vh),KC=na(AC,vh),ZC=na(PC,vh),JC=na(Zv),e0=ra($C,aa,wo,So),QC=ra(DC,aa,wo,So),eA=ra(IC,aa,wo,So),tA=ra(aa,wo,So);function nA(t){return ia(t,[XC,e0],[KC,QC],[ZC,eA],[JC,tA])}function rA(t){return ia(WC(t),[UC,BC])}function iA(t){return ia(t,[qC,Qv],[HC,Qv],[zC,YC])}function sA(t){return ia(t,[VC,jC])}const aA=ra(aa);function oA(t){return ia(t,[FC,aA])}const lA=na(kC,RC),uA=na(Jv),cA=ra(aa,wo,So);function fA(t){return ia(t,[lA,e0],[uA,cA])}const t0="Invalid Duration",n0={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},hA={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...n0},Fn=146097/400,oa=146097/4800,dA={years:{quarters:4,months:12,weeks:Fn/7,days:Fn,hours:Fn*24,minutes:Fn*24*60,seconds:Fn*24*60*60,milliseconds:Fn*24*60*60*1e3},quarters:{months:3,weeks:Fn/28,days:Fn/4,hours:Fn*24/4,minutes:Fn*24*60/4,seconds:Fn*24*60*60/4,milliseconds:Fn*24*60*60*1e3/4},months:{weeks:oa/7,days:oa,hours:oa*24,minutes:oa*24*60,seconds:oa*24*60*60,milliseconds:oa*24*60*60*1e3},...n0},ps=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],pA=ps.slice(0).reverse();function Pi(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Ve(r)}function r0(t,e){var r;let n=(r=e.milliseconds)!=null?r:0;for(const i of pA.slice(1))e[i]&&(n+=e[i]*t[i].milliseconds);return n}function i0(t,e){const n=r0(t,e)<0?-1:1;ps.reduceRight((r,i)=>{if(Se(e[i]))return r;if(r){const s=e[r]*n,a=t[i][r],o=Math.floor(s/a);e[i]+=o*n,e[r]-=o*a*n}return i},null),ps.reduce((r,i)=>{if(Se(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function mA(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class Ve{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?dA:hA;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Je.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return Ve.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new hn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Ve({values:xu(e,Ve.normalizeUnit),loc:Je.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(hs(e))return Ve.fromMillis(e);if(Ve.isDuration(e))return e;if(typeof e=="object")return Ve.fromObject(e);throw new hn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=sA(e);return r?Ve.fromObject(r,n):Ve.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=oA(e);return r?Ve.fromObject(r,n):Ve.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new hn("need to specify a reason the Duration is invalid");const r=e instanceof Jn?e:new Jn(e,n);if(bt.throwOnInvalid)throw new UL(r);return new Ve({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Xy(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Ht.create(this.loc,r).formatDurationFromString(this,e):t0}toHuman(e={}){if(!this.isValid)return t0;const n=ps.map(r=>{const i=this.values[r];return Se(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=mh(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},xe.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?r0(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=Ve.fromDurationLike(e),r={};for(const i of ps)(ea(n.values,i)||ea(this.values,i))&&(r[i]=n.get(i)+this.get(i));return Pi(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=Ve.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=Vv(e(this.values[r],r));return Pi(this,{values:n},!0)}get(e){return this[Ve.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...xu(e,Ve.normalizeUnit)};return Pi(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return Pi(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return i0(this.matrix,e),Pi(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=mA(this.normalize().shiftToAll().toObject());return Pi(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>Ve.normalizeUnit(a));const n={},r={},i=this.toObject();let s;for(const a of ps)if(e.indexOf(a)>=0){s=a;let o=0;for(const u in r)o+=this.matrix[u][a]*r[u],r[u]=0;hs(i[a])&&(o+=i[a]);const l=Math.trunc(o);n[a]=l,r[a]=(o*1e3-l*1e3)/1e3}else hs(i[a])&&(r[a]=i[a]);for(const a in r)r[a]!==0&&(n[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return i0(this.matrix,n),Pi(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Pi(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of ps)if(!n(this.values[r],e.values[r]))return!1;return!0}}const la="Invalid Interval";function gA(t,e){return!t||!t.isValid?mt.invalid("missing or invalid start"):!e||!e.isValid?mt.invalid("missing or invalid end"):e<t?mt.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class mt{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new hn("need to specify a reason the Interval is invalid");const r=e instanceof Jn?e:new Jn(e,n);if(bt.throwOnInvalid)throw new GL(r);return new mt({invalid:r})}static fromDateTimes(e,n){const r=xo(e),i=xo(n),s=gA(r,i);return s==null?new mt({start:r,end:i}):s}static after(e,n){const r=Ve.fromDurationLike(n),i=xo(e);return mt.fromDateTimes(i,i.plus(r))}static before(e,n){const r=Ve.fromDurationLike(n),i=xo(e);return mt.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,a;try{s=xe.fromISO(r,n),a=s.isValid}catch{a=!1}let o,l;try{o=xe.fromISO(i,n),l=o.isValid}catch{l=!1}if(a&&l)return mt.fromDateTimes(s,o);if(a){const u=Ve.fromISO(i,n);if(u.isValid)return mt.after(s,u)}else if(l){const u=Ve.fromISO(r,n);if(u.isValid)return mt.before(o,u)}}return mt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n!=null&&n.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?mt.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(xo).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const a=n[s]||this.e,o=+a>+this.e?this.e:a;r.push(mt.fromDateTimes(i,o)),i=o,s+=1}return r}splitBy(e){const n=Ve.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const a=[];for(;r<this.e;){const o=this.start.plus(n.mapUnits(l=>l*i));s=+o>+this.e?this.e:o,a.push(mt.fromDateTimes(r,s)),r=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:mt.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return mt.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,u)=>l.time-u.time);for(const l of o)r+=l.type==="s"?1:-1,r===1?n=l.time:(n&&+n!=+l.time&&i.push(mt.fromDateTimes(n,l.time)),n=null);return mt.merge(i)}difference(...e){return mt.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:la}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=mu,n={}){return this.isValid?Ht.create(this.s.loc.clone(n),e).formatInterval(this):la}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:la}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:la}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:la}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:la}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):Ve.invalid(this.invalidReason)}mapEndpoints(e){return mt.fromDateTimes(e(this.s),e(this.e))}}class Tu{static hasDST(e=bt.defaultZone){const n=xe.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return qr.isValidZone(e)}static normalizeZone(e){return Ci(e,bt.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Je.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Je.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Je.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Je.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Je.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Je.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Je.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Je.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Je.create(n,null,"gregory").eras(e)}static features(){return{relative:Iv(),localeWeek:kv()}}}function s0(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(Ve.fromMillis(r).as("days"))}function yA(t,e,n){const r=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const f=s0(l,u);return(f-f%7)/7}],["days",s0]],i={},s=t;let a,o;for(const[l,u]of r)n.indexOf(l)>=0&&(a=l,i[l]=u(t,e),o=s.plus(i),o>e?(i[l]--,t=s.plus(i),t>e&&(o=t,i[l]--,t=s.plus(i))):t=o);return[t,i,o,a]}function vA(t,e,n,r){let[i,s,a,o]=yA(t,e,n);const l=e-i,u=n.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(a<e&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+l/(a-i)));const f=Ve.fromObject(s,r);return u.length>0?Ve.fromMillis(l,r).shiftTo(...u).plus(f):f}const bh={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},a0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},_A=bh.hanidec.replace(/[\[|\]]/g,"").split("");function bA(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(bh.hanidec)!==-1)e+=_A.indexOf(t[n]);else for(const i in a0){const[s,a]=a0[i];r>=s&&r<=a&&(e+=r-s)}}return parseInt(e,10)}else return e}function Qn({numberingSystem:t},e=""){return new RegExp(`${bh[t||"latn"]}${e}`)}const EA="missing Intl.DateTimeFormat.formatToParts support";function qe(t,e=n=>n){return{regex:t,deser:([n])=>e(bA(n))}}const o0=`[ ${String.fromCharCode(160)}]`,l0=new RegExp(o0,"g");function wA(t){return t.replace(/\./g,"\\.?").replace(l0,o0)}function u0(t){return t.replace(/\./g,"").replace(l0," ").toLowerCase()}function er(t,e){return t===null?null:{regex:RegExp(t.map(wA).join("|")),deser:([n])=>t.findIndex(r=>u0(n)===u0(r))+e}}function c0(t,e){return{regex:t,deser:([,n,r])=>Ou(n,r),groups:e}}function Nu(t){return{regex:t,deser:([e])=>e}}function SA(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function OA(t,e){const n=Qn(e),r=Qn(e,"{2}"),i=Qn(e,"{3}"),s=Qn(e,"{4}"),a=Qn(e,"{6}"),o=Qn(e,"{1,2}"),l=Qn(e,"{1,3}"),u=Qn(e,"{1,6}"),f=Qn(e,"{1,9}"),c=Qn(e,"{2,4}"),h=Qn(e,"{4,6}"),d=g=>({regex:RegExp(SA(g.val)),deser:([y])=>y,literal:!0}),m=(g=>{if(t.literal)return d(g);switch(g.val){case"G":return er(e.eras("short"),0);case"GG":return er(e.eras("long"),0);case"y":return qe(u);case"yy":return qe(c,gh);case"yyyy":return qe(s);case"yyyyy":return qe(h);case"yyyyyy":return qe(a);case"M":return qe(o);case"MM":return qe(r);case"MMM":return er(e.months("short",!0),1);case"MMMM":return er(e.months("long",!0),1);case"L":return qe(o);case"LL":return qe(r);case"LLL":return er(e.months("short",!1),1);case"LLLL":return er(e.months("long",!1),1);case"d":return qe(o);case"dd":return qe(r);case"o":return qe(l);case"ooo":return qe(i);case"HH":return qe(r);case"H":return qe(o);case"hh":return qe(r);case"h":return qe(o);case"mm":return qe(r);case"m":return qe(o);case"q":return qe(o);case"qq":return qe(r);case"s":return qe(o);case"ss":return qe(r);case"S":return qe(l);case"SSS":return qe(i);case"u":return Nu(f);case"uu":return Nu(o);case"uuu":return qe(n);case"a":return er(e.meridiems(),0);case"kkkk":return qe(s);case"kk":return qe(c,gh);case"W":return qe(o);case"WW":return qe(r);case"E":case"c":return qe(n);case"EEE":return er(e.weekdays("short",!1),1);case"EEEE":return er(e.weekdays("long",!1),1);case"ccc":return er(e.weekdays("short",!0),1);case"cccc":return er(e.weekdays("long",!0),1);case"Z":case"ZZ":return c0(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return c0(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return Nu(/[a-z_+-/]{1,256}?/i);case" ":return Nu(/[^\S\n\r]/);default:return d(g)}})(t)||{invalidReason:EA};return m.token=t,m}const xA={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function MA(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=n.hour12?"hour12":"hour24");let o=xA[a];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function TA(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function NA(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const a in n)if(ea(n,a)){const o=n[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function LA(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return Se(t.z)||(n=qr.create(t.z)),Se(t.Z)||(n||(n=new nn(t.Z)),r=t.Z),Se(t.q)||(t.M=(t.q-1)*3+1),Se(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Se(t.u)||(t.S=ph(t.u)),[Object.keys(t).reduce((s,a)=>{const o=e(a);return o&&(s[o]=t[a]),s},{}),n,r]}let Eh=null;function CA(){return Eh||(Eh=xe.fromMillis(1555555555555)),Eh}function AA(t,e){if(t.literal)return t;const n=Ht.macroTokenToFormatOpts(t.val),r=d0(n,e);return r==null||r.includes(void 0)?t:r}function f0(t,e){return Array.prototype.concat(...t.map(n=>AA(n,e)))}function h0(t,e,n){const r=f0(Ht.parseFormat(n),t),i=r.map(a=>OA(a,t)),s=i.find(a=>a.invalidReason);if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};{const[a,o]=TA(i),l=RegExp(a,"i"),[u,f]=NA(e,l,o),[c,h,d]=f?LA(f):[null,null,void 0];if(ea(f,"a")&&ea(f,"H"))throw new Qs("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:l,rawMatches:u,matches:f,result:c,zone:h,specificOffset:d}}}function PA(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:a}=h0(t,e,n);return[r,i,s,a]}function d0(t,e){if(!t)return null;const r=Ht.create(e,t).dtFormatter(CA()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(a=>MA(a,t,s))}const wh="Invalid DateTime",p0=864e13;function Lu(t){return new Jn("unsupported zone",`the zone "${t.name}" is not supported`)}function Sh(t){return t.weekData===null&&(t.weekData=bu(t.c)),t.weekData}function Oh(t){return t.localWeekData===null&&(t.localWeekData=bu(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function ms(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new xe({...n,...e,old:n})}function m0(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Cu(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Au(t,e,n){return m0(Su(t),e,n)}function g0(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,wu(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=Ve.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Su(s);let[l,u]=m0(o,n,t.zone);return a!==0&&(l+=a,u=t.zone.offset(l)),{ts:l,o:u}}function Oo(t,e,n,r,i,s){const{setZone:a,zone:o}=n;if(t&&Object.keys(t).length!==0||e){const l=e||o,u=xe.fromObject(t,{...n,zone:l,specificOffset:s});return a?u:u.setZone(o)}else return xe.invalid(new Jn("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Pu(t,e,n=!0){return t.isValid?Ht.create(Je.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function xh(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Ot(t.c.year,n?6:4),e?(r+="-",r+=Ot(t.c.month),r+="-",r+=Ot(t.c.day)):(r+=Ot(t.c.month),r+=Ot(t.c.day)),r}function y0(t,e,n,r,i,s){let a=Ot(t.c.hour);return e?(a+=":",a+=Ot(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=":")):a+=Ot(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=Ot(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=Ot(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=Ot(Math.trunc(-t.o/60)),a+=":",a+=Ot(Math.trunc(-t.o%60))):(a+="+",a+=Ot(Math.trunc(t.o/60)),a+=":",a+=Ot(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}const v0={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},DA={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},IA={ordinal:1,hour:0,minute:0,second:0,millisecond:0},_0=["year","month","day","hour","minute","second","millisecond"],kA=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],RA=["year","ordinal","hour","minute","second","millisecond"];function $A(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Xy(t);return e}function b0(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return $A(t)}}function E0(t,e){const n=Ci(e.zone,bt.defaultZone),r=Je.fromObject(e),i=bt.now();let s,a;if(Se(t.year))s=i;else{for(const u of _0)Se(t[u])&&(t[u]=v0[u]);const o=Pv(t)||Dv(t);if(o)return xe.invalid(o);const l=n.offset(i);[s,a]=Au(t,l,n)}return new xe({ts:s,zone:n,loc:r,o:a})}function w0(t,e,n){const r=Se(n.round)?!0:n.round,i=(a,o)=>(a=mh(a,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,o)),s=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return i(s(n.unit),n.unit);for(const a of n.units){const o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(t>e?-0:0,n.units[n.units.length-1])}function S0(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class xe{constructor(e){const n=e.zone||bt.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Jn("invalid input"):null)||(n.isValid?null:Lu(n));this.ts=Se(e.ts)?bt.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const o=n.offset(this.ts);i=Cu(this.ts,o),r=Number.isNaN(i.year)?new Jn("invalid input"):null,i=r?null:i,s=r?null:o}this._zone=n,this.loc=e.loc||Je.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new xe({})}static local(){const[e,n]=S0(arguments),[r,i,s,a,o,l,u]=n;return E0({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static utc(){const[e,n]=S0(arguments),[r,i,s,a,o,l,u]=n;return e.zone=nn.utcInstance,E0({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static fromJSDate(e,n={}){const r=dC(e)?e.valueOf():NaN;if(Number.isNaN(r))return xe.invalid("invalid input");const i=Ci(n.zone,bt.defaultZone);return i.isValid?new xe({ts:r,zone:i,loc:Je.fromObject(n)}):xe.invalid(Lu(i))}static fromMillis(e,n={}){if(hs(e))return e<-p0||e>p0?xe.invalid("Timestamp out of range"):new xe({ts:e,zone:Ci(n.zone,bt.defaultZone),loc:Je.fromObject(n)});throw new hn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(hs(e))return new xe({ts:e*1e3,zone:Ci(n.zone,bt.defaultZone),loc:Je.fromObject(n)});throw new hn("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Ci(n.zone,bt.defaultZone);if(!r.isValid)return xe.invalid(Lu(r));const i=Je.fromObject(n),s=xu(e,b0),{minDaysInFirstWeek:a,startOfWeek:o}=Av(s,i),l=bt.now(),u=Se(n.specificOffset)?r.offset(l):n.specificOffset,f=!Se(s.ordinal),c=!Se(s.year),h=!Se(s.month)||!Se(s.day),d=c||h,p=s.weekYear||s.weekNumber;if((d||f)&&p)throw new Qs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new Qs("Can't mix ordinal dates with month/day");const m=p||s.weekday&&!d;let g,y,v=Cu(l,u);m?(g=kA,y=DA,v=bu(v,a,o)):f?(g=RA,y=IA,v=hh(v)):(g=_0,y=v0);let E=!1;for(const A of g){const D=s[A];Se(D)?E?s[A]=y[A]:s[A]=v[A]:E=!0}const b=m?cC(s,a,o):f?fC(s):Pv(s),O=b||Dv(s);if(O)return xe.invalid(O);const T=m?Lv(s,a,o):f?Cv(s):s,[M,R]=Au(T,u,r),F=new xe({ts:M,zone:r,o:R,loc:i});return s.weekday&&d&&e.weekday!==F.weekday?xe.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${F.toISO()}`):F}static fromISO(e,n={}){const[r,i]=nA(e);return Oo(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=rA(e);return Oo(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=iA(e);return Oo(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(Se(e)||Se(n))throw new hn("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,a=Je.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,l,u,f]=PA(a,e,n);return f?xe.invalid(f):Oo(o,l,r,`format ${n}`,e,u)}static fromString(e,n,r={}){return xe.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=fA(e);return Oo(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new hn("need to specify a reason the DateTime is invalid");const r=e instanceof Jn?e:new Jn(e,n);if(bt.throwOnInvalid)throw new jL(r);return new xe({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=d0(e,Je.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return f0(Ht.parseFormat(e),Je.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Sh(this).weekYear:NaN}get weekNumber(){return this.isValid?Sh(this).weekNumber:NaN}get weekday(){return this.isValid?Sh(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Oh(this).weekday:NaN}get localWeekNumber(){return this.isValid?Oh(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Oh(this).weekYear:NaN}get ordinal(){return this.isValid?hh(this.c).ordinal:NaN}get monthShort(){return this.isValid?Tu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Tu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Tu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Tu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=Su(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),a=this.zone.offset(r-i*n),o=this.zone.offset(r-s*n);if(a===o)return[this];const l=r-a*n,u=r-o*n,f=Cu(l,a),c=Cu(u,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[ms(this,{ts:l}),ms(this,{ts:u})]:[this]}get isInLeapYear(){return _o(this.year)}get daysInMonth(){return wu(this.year,this.month)}get daysInYear(){return this.isValid?ta(this.year):NaN}get weeksInWeekYear(){return this.isValid?bo(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?bo(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=Ht.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(nn.instance(e),n)}toLocal(){return this.setZone(bt.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Ci(e,bt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),a=this.toObject();[i]=Au(a,s,e)}return ms(this,{ts:i,zone:e})}else return xe.invalid(Lu(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return ms(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=xu(e,b0),{minDaysInFirstWeek:r,startOfWeek:i}=Av(n,this.loc),s=!Se(n.weekYear)||!Se(n.weekNumber)||!Se(n.weekday),a=!Se(n.ordinal),o=!Se(n.year),l=!Se(n.month)||!Se(n.day),u=o||l,f=n.weekYear||n.weekNumber;if((u||a)&&f)throw new Qs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new Qs("Can't mix ordinal dates with month/day");let c;s?c=Lv({...bu(this.c,r,i),...n},r,i):Se(n.ordinal)?(c={...this.toObject(),...n},Se(n.day)&&(c.day=Math.min(wu(c.year,c.month),c.day))):c=Cv({...hh(this.c),...n});const[h,d]=Au(c,this.o,this.zone);return ms(this,{ts:h,o:d})}plus(e){if(!this.isValid)return this;const n=Ve.fromDurationLike(e);return ms(this,g0(this,n))}minus(e){if(!this.isValid)return this;const n=Ve.fromDurationLike(e).negate();return ms(this,g0(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=Ve.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Ht.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):wh}toLocaleString(e=mu,n={}){return this.isValid?Ht.create(this.loc.clone(n),e).formatDateTime(this):wh}toLocaleParts(e={}){return this.isValid?Ht.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=xh(this,a);return o+="T",o+=y0(this,a,n,r,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?xh(this,e==="extended"):null}toISOWeekDate(){return Pu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+y0(this,a==="extended",n,e,r,s):null}toRFC2822(){return Pu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Pu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?xh(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Pu(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():wh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return Ve.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=pC(n).map(Ve.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,u=vA(o,l,s,i);return a?u.negate():u}diffNow(e="milliseconds",n={}){return this.diff(xe.now(),e,n)}until(e){return this.isValid?mt.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||xe.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),w0(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?w0(e.base||xe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(xe.isDateTime))throw new hn("min requires all arguments be DateTimes");return Rv(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(xe.isDateTime))throw new hn("max requires all arguments be DateTimes");return Rv(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,a=Je.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return h0(a,e,n)}static fromStringExplain(e,n,r={}){return xe.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return mu}static get DATE_MED(){return Ky}static get DATE_MED_WITH_WEEKDAY(){return BL}static get DATE_FULL(){return Zy}static get DATE_HUGE(){return Jy}static get TIME_SIMPLE(){return Qy}static get TIME_WITH_SECONDS(){return ev}static get TIME_WITH_SHORT_OFFSET(){return tv}static get TIME_WITH_LONG_OFFSET(){return nv}static get TIME_24_SIMPLE(){return rv}static get TIME_24_WITH_SECONDS(){return iv}static get TIME_24_WITH_SHORT_OFFSET(){return sv}static get TIME_24_WITH_LONG_OFFSET(){return av}static get DATETIME_SHORT(){return ov}static get DATETIME_SHORT_WITH_SECONDS(){return lv}static get DATETIME_MED(){return uv}static get DATETIME_MED_WITH_SECONDS(){return cv}static get DATETIME_MED_WITH_WEEKDAY(){return WL}static get DATETIME_FULL(){return fv}static get DATETIME_FULL_WITH_SECONDS(){return hv}static get DATETIME_HUGE(){return dv}static get DATETIME_HUGE_WITH_SECONDS(){return pv}}function xo(t){if(xe.isDateTime(t))return t;if(t&&t.valueOf&&hs(t.valueOf()))return xe.fromJSDate(t);if(t&&typeof t=="object")return xe.fromObject(t);throw new hn(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const O0=[0,1,0,0];function x0(t,e="second",n,r){const{t:i}=Ue(),s=new Date(t).toISOString(),a={year:i("yyyy"),month:i("M/yyyy"),day:i("M/d/yyyy"),second:i("M/d/yyyy HH:mm:ss")},l=(n?{year:"yyyy",month:"yyyy-MM",day:"yyyy-MM-dd",second:void 0}:a)[e];return l?xe.fromISO(s).toFormat(`${r?"UTC:":""}${l}`):s.replace(/\.\d{3}/,"")}function Mh(t){return new Date(t).toISOString().split(".")[0]+"Z"}function Th(t){return xe.fromISO(t).toFormat("yyyy-MM-dd")}function FA(t,e){return t<=e.minValue?e.minValue:t>=e.maxValue?e.maxValue:e.timeValueList?VA(t,e):jA(t,e)}function VA(t,e){var l;const n=(l=e.timeValueList)!=null?l:[];let r,i=0,s=n.length-1;for(;s-i>1;)r=Math.floor((i+s)/2),n[r]>=t?s=r:i=r;const a=Math.abs(n[i]-t),o=Math.abs(n[s]-t);return n[a<o?i:s]}function jA(t,e){var l;const n=(l=e.timeInterval)!=null?l:O0,r=new Date(t).getTime(),i=new Date(e.minValue),s=e.maxValue;let a=e.minValue,o=Math.abs(r-a);for(let u=1;;u++){const f=new Date(i.getTime());if(f.setFullYear(i.getFullYear()+u*n[0]),f.setMonth(i.getMonth()+u*n[1],i.getDate()+u*n[2]),f.setSeconds(i.getSeconds()+u*n[3]),f.getTime()>s)break;const c=Math.abs(r-f.getTime());if(c<=o)a=f.getTime(),o=c;else break}return a}const it=wi("map",()=>{const t=En(),e=ge({}),n=at([]),r=at([]),i=ge(!1),s=ge(!1),a=ge(void 0),o=ge(void 0),l=ge(void 0);function u(b){a.value=b}function f(...b){n.value=[...new Set([...n.value,...b])]}function c(...b){r.value=[...new Set([...r.value,...b])]}function h(...b){n.value=n.value.filter(O=>b.indexOf(O.id)===-1),r.value=r.value.filter(O=>b.indexOf(O.id)===-1)}function d(){n.value=[]}function p(b){var O;return!!((O=n.value)!=null&&O.find(T=>T.id===b))}function m(b,O=!1){var M;const T=O?r:n;T.value=[...((M=T.value)==null?void 0:M.sort((R,F)=>b.indexOf(R.id)-b.indexOf(F.id)))||[]]}function g(b,O){n.value=n.value.map(T=>T.id===b?{...T,opacity:O,previousOpacity:T.opacity}:T)}function y(b,O,T){n.value=n.value.map(M=>{if(M.id===b){const R={...M,currentTimeMinValue:O?Mh(O):void 0,currentTimeMaxValue:T?Mh(T):void 0};return R.type==="WMTS"&&(R.name=t.getLayerCurrentLabel(R)),R}return M})}function v(b){i.value=b}function E(b){s.value=b}return{map:e,layers:n,layers3d:r,is3dActive:i,is3dMesh:s,bgLayer:a,minZoom:o,maxZoom:l,addLayers:f,add3dLayers:c,removeLayers:h,removeAllLayers:d,reorderLayers:m,setLayerOpacity:g,setLayerTime:y,setBgLayer:u,setIs3dActive:v,setIs3dMesh:E,hasLayer:p}}),M0="main",GA="root_3d",UA=-222,zt=wi("config",()=>{const t=at(),e=ge(M0),n=fe(()=>{var u;return(u=t.value)==null?void 0:u.themes}),r=fe(()=>{var u;return(u=n.value)==null?void 0:u.find(f=>f.name===e.value)}),i=fe(()=>{var u;return((u=t.value)==null?void 0:u.background_layers)||[]}),s=fe(()=>{var f;const u=(f=n.value)==null?void 0:f.filter(c=>{var h;return((h=c.metadata)==null?void 0:h.ol3d_type)!==void 0});if(!!u)return{name:GA,id:UA,children:u.flatMap(c=>c!=null&&c.children?c.children:c),metadata:{}}});function a(u){t.value=u,r.value===void 0&&l()}function o(u){e.value=u}function l(){e.value=M0}return{config:t,themes:n,themeName:e,theme:r,bgLayers:i,layerTrees_3d:s,setTheme:o,setThemes:a}},{});function Hr(){function t(o,l){return n(o,void 0,l)}function e(o,l){return n(void 0,o,l)}function n(o,l,u){const{themes:f}=zt();if(u=u||(f==null?void 0:f.find(c=>n(o,l,c))),o&&(u==null?void 0:u.id)===o||l&&(u==null?void 0:u.name)===l)return u;if(u!=null&&u.children)for(const c of u.children){const h=n(o,l,c);if(h)return h}}function r(o){const{layerTrees_3d:l}=zt();return n(o,void 0,l)}function i(o){const{bgLayers:l}=zt();return l.find(u=>u.id===o)}function s(o){const{bgLayers:l}=zt();return l.find(u=>u.name===o)}function a(o){const{setTheme:l}=zt();l(o)}return{findById:t,findByName:e,find3dLayerById:r,findBgLayerById:i,findBgLayerByName:s,setTheme:a}}const T0=Hr();function En(){function t(l,u){try{const f=JSON.parse(l).concat(JSON.parse(u));return new Set(f).size<f.length}catch{return!1}}function e(l){var u,f;return l.opacity=l.previousOpacity=(f=(u=l.metadata)==null?void 0:u.start_opacity)!=null?f:1,n(l),l}function n(l){var f,c,h,d,p,m,g;l.currentTimeMinValue||(l.currentTimeMinValue=(h=(f=l.time)==null?void 0:f.minDefValue)!=null?h:(c=l.time)==null?void 0:c.minValue);const u=((d=l.time)==null?void 0:d.mode)===Wr.RANGE;!l.currentTimeMaxValue&&u&&(l.currentTimeMaxValue=(g=(p=l.time)==null?void 0:p.maxDefValue)!=null?g:(m=l.time)==null?void 0:m.maxValue)}function r(l){var c,h,d;const u=i(l);let f=l.name;return u&&(f=(d=(h=(c=l.metadata)==null?void 0:c.time_layers)==null?void 0:h[u])!=null?d:f),f}function i(l){return[l.currentTimeMinValue,...l.currentTimeMaxValue?[l.currentTimeMaxValue]:[]].join(RL)}function s(l){var h,d;const u=au();if(!((h=l.metadata)!=null&&h.exclusion))return;const f=it(),c=f.layers.filter(p=>{var m,g;return t((m=l==null?void 0:l.metadata)==null?void 0:m.exclusion,(g=p==null?void 0:p.metadata)==null?void 0:g.exclusion)});c.length>0&&(f.removeLayers(...c.map(p=>p.id)),u.addNotification(ot.t("The layer <b>{{layersToRemove}}</b> has been removed because it cannot be displayed while the layer <b>{{layer}}</b> is displayed",{count:c.length,layersToRemove:c.map(p=>ot.t(p.name,{ns:"client"})).join(", "),layer:ot.t(l.name,{ns:"client"}),ns:"client"}),ho.WARNING)),l.id!==((d=f.bgLayer)==null?void 0:d.id)&&a(l)}function a(l){var c,h,d;const u=it(),f=au();t((c=l.metadata)==null?void 0:c.exclusion,(d=(h=u.bgLayer)==null?void 0:h.metadata)==null?void 0:d.exclusion)&&(u.setBgLayer(null),f.addNotification(ot.t("Background has been deactivated because the layer {{layer}} cannot be displayed on top of it.",{layer:ot.t(l.name,{ns:"client"}),ns:"client"}),ho.WARNING))}function o(l,u=!0,f){var m;const c=zt(),h=it(),d=f?c.layerTrees_3d:c.theme,p=T0.findById(l,d);if(p){const g=((m=p.metadata)==null?void 0:m.linked_layers)||[];u===!1?h.removeLayers(p.id,...g):(s(p),(f?h.add3dLayers:h.addLayers)(e(p),...g.map(v=>e(T0.findById(parseInt(v,10))))))}}return{initLayer:e,getLayerCurrentLabel:r,getLayerCurrentTime:i,handleExclusionLayers:s,toggleLayer:o}}class BA{styleSerialToStyle(e){return e?JSON.parse(decodeURIComponent(e))||[]:[]}styleLocalStorageToStyle(e){return e?JSON.parse(e).medium||[]:[]}styleToSerial(e){return e&&e.length>0?JSON.stringify(e):""}styleToLocalStorage(e){return e&&e.length>0?JSON.stringify({medium:e}):""}}const Du=new BA;function N0(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(r)},e)}}function ua(t){return(t==null?void 0:t.trim())&&!isNaN(Number(t))?Number(t):void 0}function WA(t,e){return(t==null?void 0:t.split(e).map(n=>n!==null&&!isNaN(Number(n))?parseFloat(n):void 0))||[]}function qA(t,e){return(t==null?void 0:t.split(e).map(Nh))||[]}function Nh(t){return(t==null?void 0:t.trim())==="true"?!0:(t==null?void 0:t.trim())==="false"?!1:void 0}function L0(){return window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches}function wr(t){return typeof window<"u"&&window.navigator&&t.test(navigator.userAgent)}function HA(t){const e=new RegExp("[^/]*//[^/]+/(.*)"),n=t.match(e);return n?n[1]:null}const zA=wr(/firefox/i);wr(/safari/i)&&!wr(/chrome/i)&&wr(/android/i),wr(/iP(ad|od|hone)/i),wr(/chrome/i)&&wr(/android/i),wr(/chrome/i),wr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),wr(/Edge/i);const Mo="ipv6",Iu="address",To="applogin",No="localforage",ca="debug",YA="embedded",XA="embeddedserver",KA="embeddedserverprotocol",ku="fid",Di="lang",Ru="layersOpen",Lh="version",ZA="map_id",C0="layers",A0="bgLayer",P0="opacities",Lo="theme",D0="time",I0="zoom",JA="SRS",k0="X",R0="Y",Co="serial",QA="serialLayer",$0=["basemap_2015_global","topogr_global","topo_bw_jpeg"],Ch="lc",Ah="sliderRatio",F0="bgOpacity",eP="layers_indices",V0="layers_opacity",j0="layers_visibility";var It=(t=>(t[t.localStorage=0]="localStorage",t[t.permalink=1]="permalink",t[t.permalinkAsPath=2]="permalinkAsPath",t[t.permalinkAndLocalStorage=3]="permalinkAndLocalStorage",t))(It||{});class G0{}class $u extends G0{static processRules(e){return $u.ruleUseLocalStorage(e)?It.localStorage:It.permalink}static processRulesForKey(e,n){if(e===Lo&&{}.VITE_DEPLOY_GHPAGES!=="true")return It.permalinkAsPath;if($0.includes(e))return It.localStorage;if(e===Co)return It.permalink;if(e===Ru)return It.localStorage}static ruleUseLocalStorage(e){return[tP,nP,rP].reduce((n,r)=>n||r(e),!1)}}const tP=t=>Object.keys(t).length===0,nP=t=>Object.keys(t).length===1&&(t.hasOwnProperty(Mo)||t.hasOwnProperty(To)||t.hasOwnProperty(No)),rP=t=>Object.keys(t).length===3&&t.hasOwnProperty(Mo)&&t.hasOwnProperty(To)&&t.hasOwnProperty(No);class Fu extends G0{static processRules(){return It.permalinkAndLocalStorage}static processRulesForKey(e,n){if(Fu.ruleUsePermalink(e))return It.permalink;if(e===Ru||$0.includes(e))return It.localStorage;if(e===Co)return It.permalink;if(e===Lo)return It.permalinkAsPath}static ruleUsePermalink(e){return[iP,sP,aP].reduce((n,r)=>n||r(e),!1)}}const iP=t=>t===Ch||t===Ah,sP=t=>t===Lh,aP=t=>t===Lo&&{}.VITE_DEPLOY_GHPAGES==="true";class U0{constructor(){nt(this,"snappedUrl");this.snappedUrl=new URL(window.location.toString())}get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}getSnappedUrl(){return this.snappedUrl}getSnappedParamsAsObj(){return this.getSnappedParams().reduce((e,n)=>{const[r,i]=n.split("=");return{...e,[r]:i}},{})}getSnappedParams(){return this.getSnappedUrl().search.replace("?","").split("&").filter(e=>e.split("=")[1])}setItem(e,n){const r=new URLSearchParams(new URL(window.location.toString()).search);r.set(encodeURIComponent(e),encodeURIComponent(n));try{window.history.replaceState(null,"","?"+r.toString())}catch{}}getItem(e){const n=this.getSnappedUrl().searchParams.get(e);return n!==null?decodeURIComponent(n):n}removeItem(e){const n=new URLSearchParams(new URL(window.location.toString()).search);n.delete(e);try{window.history.replaceState(null,"","?"+n.toString())}catch{}}encodeQueryParam(e,n){return`${encodeURIComponent(e)}=${encodeURIComponent(n)}`}}const gs=new U0;class oP extends U0{getItem(e){const n=this.getSnappedUrl().pathname.split("/"),r=n.findIndex(i=>i===e);return n[r+1]}setItem(e,n){const r=new URL(window.location.toString()).search,i=`/${e}/${n}${r}`;try{window.history.replaceState(null,"",i)}catch{}}}const lP=new oP;class uP{get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}removeItem(e){const n=this.getWriteStorages(e);n==null||n.map(r=>r.removeItem(e))}setItem(e,n){this.setValue(e,n)}getItem(e){return this.getValue(e)}get paramKeys(){return gs.getSnappedParamsAsObj()}getValue(e){var i;const n=(i=this.correspondingStorages($u.processRules(this.paramKeys)))==null?void 0:i.pop(),r=this.storageForKey(e,$u,n);return r?r.getItem(e):null}setValue(e,n){const r=this.getWriteStorages(e);r==null||r.map(i=>i.setItem(e,n))}getWriteStorages(e){const n=this.correspondingStorages(Fu.processRules()),r=this.storageForKey(e,Fu);return r?[r]:n}storageForKey(e,n,r){var s;const i=(s=this.correspondingStorages(n.processRulesForKey(e,this.paramKeys)))==null?void 0:s.pop();return i!=null?i:r}correspondingStorages(e){if(e===It.permalinkAndLocalStorage)return[gs,localStorage];if(e===It.localStorage)return[localStorage];if(e===It.permalink)return[gs];if(e===It.permalinkAsPath)return[lP]}}const Vu=new uP;function cP(t){return fP(t)||hP(t)||dP(t)||pP(t)}const fP=t=>Object.keys(t).length===0,hP=t=>{const e=Object.keys(t);return Object.keys(t).length===1&&[Mo,To,No,ku,Di,Iu,ca].some(n=>e.indexOf(n)!==-1)},dP=t=>{const e=Object.keys(t),n=i=>e.indexOf(i)!==-1,r=[[To,No],[ca,ku],[Di,ku],[ca,Di],[ca,Iu],[Di,Iu]];return Object.keys(t).length===2&&r.reduce((i,s)=>i||s.every(n),!1)},pP=t=>{const e=Object.keys(t),n=a=>e.indexOf(a)!==-1,r=[Mo,To,No].every(n),i=[ca,ku,Di].every(n),s=[ca,Iu,Di].every(n);return Object.keys(t).length===3&&(r||i||s)};class mP{constructor(){nt(this,"intialVersion");const e=Vu.paramKeys,n=this.getValue(Lh,ua);this.intialVersion=n?Math.max(2,Math.min(n,3)):cP(e)?3:2,this.setValue(Lh,3)}getInitialVersion(){return this.intialVersion}mapToEntity(e,n){return n?n(e):e}mapToStorage(e,n){return n?n(e):String(e)}getValue(e,n){return this.mapToEntity(Vu.getValue(e),n)}setValue(e,n,r){Vu.setValue(e,this.mapToStorage(n,r))}removeItem(e){Vu.removeItem(e)}}const Ne=new mP;var wn=(t=>(t[t.simpleStyle=0]="simpleStyle",t[t.mediumStyle=1]="mediumStyle",t[t.advancedStyle=2]="advancedStyle",t))(wn||{});const gP=["line","fill","symbol","fill-extrusion","background","hillshade"],yP="https://vectortiles.geoportail.lu",vP="/getpermalinkstyle",_P="/uploadpermalinkstyle",bP="/deletepermalinkstyle";class EP{constructor(){nt(this,"_vectortilesUrl",yP);nt(this,"_mvtStylesGetUrl",vP);nt(this,"_mvtStylesUploadUrl",_P);nt(this,"_mvtStylesDeleteUrl",bP)}get vectortilesUrl(){return this._vectortilesUrl===void 0&&console.warn("Warning: vectortilesUrl is not set."),this._vectortilesUrl}get mvtStylesGetUrl(){return this._mvtStylesGetUrl===void 0&&console.warn("Warning: mvtStylesGetUrl is not set."),this._mvtStylesGetUrl}get mvtStylesUploadUrl(){return this._mvtStylesUploadUrl===void 0&&console.warn("Warning: mvtStylesUploadUrl is not set."),this._mvtStylesUploadUrl}get mvtStylesDeleteUrl(){return this._mvtStylesDeleteUrl===void 0&&console.warn("Warning: mvtStylesDeleteUrl is not set."),this._mvtStylesDeleteUrl}setRegisterUrl_v3(e){e.get&&(this._mvtStylesGetUrl=e.get),e.upload&&(this._mvtStylesUploadUrl=e.upload),e.delete&&(this._mvtStylesDeleteUrl=e.delete),e.vectortiles&&(this._vectortilesUrl=e.vectortiles)}}const fa=new EP,zr=()=>({bg_layers:[{icon_id:"route",vector_id:"roadmap",simple_style_class:"road",medium_style_class:"road",expert_style_class:"maputnik",id:556,is_default:!0},{icon_id:"topo",vector_id:"topomap",medium_style_class:"topo",expert_style_class:"maputnik",id:529},{icon_id:"topo_bw",vector_id:"topomap_gray",medium_style_class:"topo",expert_style_class:"maputnik",id:502},{icon_id:"ortho",id:530},{icon_id:"hybrid",id:501},{icon_id:"blank",id:0}],bg_layer_theme_defaults:{tourisme:502},simple_styles:{road:[{unlocalized_label:"Light grey",hillshade:!1,colors:["#ffffff","#ffffff","#d6e0d7","#e1e1e1","#cccccc","#f2f2f2"],selected:!1},{unlocalized_label:"Dark grey",hillshade:!1,colors:["#808080","#808080","#494b4a","#505052","#232426","#454545"],selected:!1},{unlocalized_label:"Dark sand",hillshade:!1,colors:["#9e9375","#9e9375","#6b6249","#403928","#b8aa84","#1a1814"],selected:!1},{unlocalized_label:"Kids",hillshade:!1,colors:["#f9c50d","#ffffff","#839836","#d6d3ce","#2a5ba8","#eeeeee"],selected:!1},{unlocalized_label:"Light mauve",hillshade:!1,colors:["#f3edf5","#f3edf5","#9d7da8","#caa9d1","#613b5c","#e5d3e6"],selected:!1},{unlocalized_label:"Light Blue",hillshade:!1,colors:["#dceaf5","#dceaf5","#5598cf","#81b7e3","#3b576e","#b6cde0"],selected:!1}]},medium_default_styles:{road:[{label:"Roads primary",color:"#f7f7f7",lines:["lu_road_trunk_primary","lu_bridge_major","lu_tunnel_major","lu_road_major_motorway"],visible:!0},{label:"Roads secondary",color:"#f7f7f7",lines:["lu_road_minor","lu_road_secondary_tertiary","lu_bridge_minor","lu_road_path","lu_bridge_path","lu_bridge_railway case","lu_bridge_path case"],visible:!0},{label:"Vegetation",color:"#B8D293",opacity:"1",fills:["lu_landcover_wood","lu_landcover_grass","lu_landuse_stadium","lu_landuse_cemetery"],visible:!0},{label:"Buildings",color:"#D6AA85",opacity:"1",fillExtrusions:["lu_building-3d_public","lu_building-3d"],fills:["lu_building","lu_building_public"],lines:["lu_bridge_railway","lu_railway","lu_tunnel_railway"],visible:!0},{label:"Water",color:"#94c1e1",lines:["lu_waterway","lu_waterway_tunnel","lu_waterway_intermittent"],fills:["lu_water"],visible:!0},{label:"Background",color:"#e7e7e7",backgrounds:["background"],visible:!0},{label:"Hillshade",hillshades:["hillshade"],visible:!0}],topo:[{label:"Primary Names",symbols:["lu_place-label_other","lu_place-label_city","lu_place-label_canton","lu_country-label-other","lu_country-label","place_label_other","place_label_city","country_label-other","country_label"],visible:!0},{label:"Secondary Names",symbols:["lu_place-label_isolated","lu_place-label_locality_forest","lu_place-label_locality_lieudit"],visible:!0},{label:"Transport",lines:["lu_tunnel_track-casing","lu_tunnel_major_motorway-casing","lu_tunnel_railway_transit","lu_tunnel_railway","lu_tunnel_railway-hatching","lu_tunnel_path","lu_tunnel_track","lu_tunnel_minor","lu_tunnel_major_motorway","lu_tunnel_secondary_tertiary","lu_tunnel_trunk_primary","lu_road_track-casing","lu_road_minor-casing","lu_road_major_motorway-casing","lu_road_secondary_tertiary-casing","lu_road_trunk_primary-casing","lu_road_pier","lu_road_path","lu_road_track","lu_road_minor","lu_road_major_motorway","lu_road_secondary_tertiary","lu_road_trunk_primary","lu_tram","lu_tram-hatching","lu_railway_transit","lu_railway","lu_railway-hatching","lu_bridge_railway-casing","lu_bridge_track-casing","lu_bridge_path-casing","lu_bridge_minor-casing","lu_bridge_major_motorway-casing","lu_bridge_secondary_tertiary-casing","lu_bridge_trunk_primary-casing","lu_bridge_railway","lu_bridge_path","lu_bridge_track","lu_bridge_minor","lu_bridge_major_motorway","lu_bridge_secondary_tertiary","lu_bridge_trunk_primary","tunnel_track-casing","tunnel_major_motorway-casing","tunnel_railway_transit","tunnel_railway_transit-hatching","tunnel_railway","tunnel_railway-hatching","tunnel_path","tunnel_track","tunnel_minor","tunnel_major_motorway","tunnel_secondary_tertiary","tunnel_trunk_primary","road_track-casing","road_minor-casing","road_major_motorway-casing","road_secondary_tertiary-casing","road_trunk_primary-casing","road_pier","road_path","road_track","road_minor","road_major_motorway","road_secondary_tertiary","road_trunk_primary","railway-transit","railway-transit-hatching","railway","railway-hatching","bridge_railway-casing","bridge_path-casing","bridge_track_casing","bridge_minor-casing","bridge_major_motorway-casing","bridge_secondary_tertiary-casing","bridge_trunk_primary-casing","bridge_railway","bridge_path","bridge_track","bridge_minor","bridge_major_motorway","bridge_secondary_tertiary","bridge_trunk_primary"],symbols:["lu_road_major-label","lu_motorway-shield","lu_road-shield"],visible:!0},{label:"Vegetation",fills:["lu_landuse_stadium","lu_landuse_cemetery","lu_landuse_gras","lu_landuse_park","lu_landuse_park-outline","lu_landuse_vineyard","lu_landuse_orchard","lu_landuse_wood","landcover_grass","landcover_wood"],visible:!0},{label:"Electricity",fills:["lu_power_station","lu_power_pylone"],lines:["lu_power_line","lu_power_station-outline"],symbols:["lu_power_station-label","lu_eolienne"],visible:!0},{label:"Contours and Height Points",lines:["lu_contour-100","lu_contour-50","lu_contour-20","lu_contour-10","lu_contour"],symbols:["lu_contour-label-100","lu_contour-label-20","lu_apex-label"],visible:!0},{label:"Hillshade",hillshades:["lu_hillshade"],visible:!0}]},http_bg_server:"wmts{1-2}",https_bg_server:"wmts{3-4}",bg_wmts_server_path:"mapproxy_4_v3/wmts/{Layer}",bg_wmts_tile_template:"{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}",bg_layer_projection:"EPSG:3857",olcs_extent:[5.31,49.38,6.64,50.21],olcs_extent_projection:"EPSG:3857",bg_layer_resolutions:[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],bg_matrix_ids:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"]});function Yr(){function t(g){const y=gs.getItem(XA),v=gs.getItem(KA)||"http";return(y?`${v}://${y}`:fa.vectortilesUrl)+`/styles/${g}/style.json`}function e(g){return`${fa.vectortilesUrl}/styles/${g}/{z}/{x}/{y}.png`}function n(g){return/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi.test(g)}function r(g,y){const v=Vn();if(g==null)return;const E=new Map;v.bgVectorSources.forEach((b,O)=>{if(O===g.id){const T={...b,xyz_custom:y};E.set(O,T)}else E.set(O,b)}),v.setBgVectorSources(E)}function i(g,y,v=!1){const E="",b=t(y),O=e(y),T={label:g,defaultMapBoxStyle:b,defaultMapBoxStyleXYZ:O,xyz:O,xyz_custom:E,style:b},M=gs.getItem(Co),R=gs.getItem(QA);if(M)n(M)&&console.log(R);else if(!v)return Promise.resolve(T);return Promise.resolve(T)}function s(g){const y=zr().medium_default_styles.road;if(g){g.colors.forEach((E,b)=>{y[b].color=E});const v=y.findIndex(E=>E.label==="Hillshade");y[v].visible=g.hillshade}return y}function a(g,y,v){if(!g||!y.get(g.id))return;const E=JSON.parse(JSON.stringify(y.get(g.id)));if(!!E&&!(!E||!E.layers))return v&&v.forEach(b=>{E==null||E.layers.forEach((O,T)=>{for(const M of gP)if((b[`${M}s`]||[]).includes(O.id)){const F=Object.assign({},E.layers[T].paint);b.color&&(F[`${M}-color`]=b.color,F[`${M}-opacity`]=1,E.layers[T].paint=F),E.layers[T].layout=Object.assign({},E.layers[T].layout,{visibility:b.visible?"visible":"none"})}})}),E}function o(g){return g?fetch(`${fa.mvtStylesDeleteUrl}?id=${g}`).catch(console.warn):Promise.resolve()}async function l(g,y){await o(y);const v=new FormData,E=JSON.stringify(g),b=new Blob([E],{type:"application/json"});v.append("style",b,"style.json");const O={method:"POST",body:v};return fetch(fa.mvtStylesUploadUrl,O).then(T=>T.json()).then(T=>T.id).catch(console.warn)}function u(g,y){if(!y)return;const v=g.maplibreMap;!v||(v.loaded()?v.setStyle(y):new Promise(E=>v.once("data",E)).then(()=>v.setStyle(y)))}function f(g){return zr().bg_layers.find(y=>y.id==(g==null?void 0:g.id))}function c(g){const y=f(g);return y==null?void 0:y.vector_id}function h(g){const y=f(g);return(y==null?void 0:y.vector_id)!==void 0}function d(g){const y=f(g),v=[...y!=null&&y.simple_style_class?[wn.simpleStyle]:[],...y!=null&&y.medium_style_class?[wn.mediumStyle]:[],...y!=null&&y.expert_style_class?[wn.advancedStyle]:[]];return{isEditable:(y==null?void 0:y.vector_id)!==void 0,styleEditors:v}}function p(g,y){return y.map(v=>Object.assign(v,{selected:v.colors.every((E,b)=>{var O;return((O=g[b])==null?void 0:O.color)===E})}))}function m(){const g=[],y=Vn();zr().bg_layers.forEach(v=>{if(v.vector_id){const E=i(v.icon_id,v.vector_id);g.push(E.then(b=>({id:v.id,config:b})))}}),Promise.all(g).then(v=>{const E=new Map;v.forEach(b=>E.set(b.id,b.config)),y.setBgVectorSources(E)})}return{getDefaultMapBoxStyleUrl:t,getDefaultMapBoxStyleXYZ:e,setConfigForLayer:i,getRoadStyleFromSimpleStyle:s,applyDefaultStyle:a,applyConsolidatedStyle:u,getVectorId:c,setCustomStyleSerial:r,unregisterStyle:o,registerStyle:l,checkSelection:p,isLayerStyleEditable:h,getStyleCapabilitiesFromLayer:d,initBackgroundsConfigs:m}}const Vn=wi("style",()=>{const t=Yr(),e=at(),n=at(new Map),r=at(new Map),i=at(!1),s=at(null),a=at();function o(p){n.value=p}function l(p){const m=new Map;r.value.forEach((g,y)=>{y!==p&&m.set(y,g)}),r.value=m}function u(p,m){const g=new Map;r.value.forEach((y,v)=>g.set(v,y)),g.set(p,m),r.value=g}function f(p){e.value=t.getRoadStyleFromSimpleStyle(p),h()}function c(p){e.value=p,h()}function h(){i.value=!1}function d(){i.value=!0}return{bgStyle:e,bgVectorSources:n,bgVectorBaseStyles:r,isExpertStyleActive:i,appliedStyle:a,removeBaseStyle:l,setBaseStyle:u,setBgVectorSources:o,setSimpleStyle:f,setStyle:c,disableExpertStyle:h,enableExpertStyle:d,styleSerial:s}},{});class wP{constructor(){nt(this,"styleWatcher")}bootstrap(){const e=Vn();let n,r=!1;n=on(()=>{e.bgVectorSources&&(this.restore(!1),r&&this.persist(),r=!0,n&&n())})}persist(){const e=Vn(),{bgStyle:n}=Pe(e);this.styleWatcher||(this.styleWatcher=Ge(n,(r,i)=>{if(i!==r){const s=it();s.bgLayer&&(Ne.setValue(s.bgLayer.name,r||[],Du.styleToLocalStorage),Ne.setValue(Co,r||[],Du.styleToSerial))}},{immediate:!0}))}restore(e){const n=Vn();n.setStyle(null);const i=it().bgLayer;if(i){let s=[];e||(s=Ne.getValue(Co,Du.styleSerialToStyle)),s.length===0&&(s=Ne.getValue(i.name,Du.styleLocalStorageToStyle)),s&&s.length>0&&n.setStyle(s)}}}const Ph=new wP;var ys=(t=>(t.LAYER_OFFLINE_TILE="tile",t.LAYER_OFFLINE_VECTOR="vector",t.LAYER_OFFLINE_BG_VECTOR="bg_vector",t.LAYER_OFFLINE_BG_WMTS="off_bg_wmts",t))(ys||{}),Sr=(t=>(t.WMS="WMS",t.WFS="WFS",t.WMTS="WMTS",t.BG_WMTS="BG WMTS",t.BG_MVT="BG MVT",t["3D"]="3D",t.TILE_WMS="tileWMS",t))(Sr||{});const SP="id",B0="label",W0="layer_name",q0="metadata",OP="queryable_id",xP="current_time",MP="time",TP="defaultMapBoxStyle",NP="https://map.geoportail.lu/ogcproxywms",LP="https://map.geoportail.lu/httpsproxy";class CP{constructor(){nt(this,"_wmsProxyUrl",NP);nt(this,"_remoteProxyUrl",LP)}get wmsProxyUrl(){return this._wmsProxyUrl===void 0&&console.warn("Warning: proxyWmsUrl is not set."),this._wmsProxyUrl}get remoteProxyUrl(){return this._remoteProxyUrl===void 0&&console.warn("Warning: remoteProxy is not set."),this._remoteProxyUrl}getProxyfiedUrl(e){return e.indexOf("httpsproxy")>0?e:this.remoteProxyUrl+"?url="+encodeURIComponent(e)}init_v3(e,n){e&&(this._wmsProxyUrl=e),n&&(this._remoteProxyUrl=n)}}const vs=new CP;function H0(){return ht.transformExtent([5.31,49.38,6.64,50.21],Ey,po)}function z0(t){var e;return!!((e=t==null?void 0:t.metadata)!=null&&e.hasRetina)&&L0()}function AP(t,e="https"){const n=t.imageType.split("/")[1],r=Ne.getValue(Mo,Nh)?"app.geoportail.lu":"geoportail.lu";return`${e==="https"?"//wmts{3-4}.":"//wmts{1-2}."}${r}/mapproxy_4_v3/wmts/{Layer}${z0(t)?"_hd":""}/{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}.${n}`}class PP{createOlLayer(e){const{name:n,layers:r,imageType:i,url:s,id:a}=e,o=new kd.default({url:s||vs.wmsProxyUrl,hidpi:L0(),serverType:"mapserver",params:{FORMAT:i,LAYERS:r},...s!=null||vs.remoteProxyUrl?{crossOrigin:"anonymous"}:{}});return new w1.default({properties:{"olcs.extent":H0(),label:n,id:a},source:o})}setLayerTime(e,n){const r=e.getParams();r.TIME=n,e.updateParams(r)}}const Y0=new PP,DP=[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],IP=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"];class kP{createOlLayer(e){const{name:n,imageType:r,id:i}=e,s=z0(e),a=ht.get(po),o=a.getExtent(),l=new bc.default({url:AP(e),tilePixelRatio:s?2:1,layer:n,matrixSet:`GLOBAL_WEBMERCATOR_4_V3${s?"_HD":""}`,format:r,requestEncoding:"REST",projection:a,tileGrid:new $d.default({origin:e1.getTopLeft(o),extent:o,resolutions:DP,matrixIds:IP}),style:"default",crossOrigin:"anonymous"});return new Rd.default({source:l,properties:{"olcs.extent":H0(),label:n,id:i}})}setLayerTime(e,n,r){const i=e.get(q0).time_layers[r],s=n.getUrls();if(s){const a=this.transformUrls(s,i);n.setUrls(a),e.set(B0,i),e.set(W0,i)}}transformUrls(e,n){return e.map(r=>r.replace(/[/][^/]*[/]{TileMatrixSet}/,`/${n}/{TileMatrixSet}`))}}const X0=new kP;class RP{createOlLayer(e,n){const r=_n(),{id:i,metadata:s,name:a}=e,o=n.get(i);if(!o)return;const l={container:r.getOlMap().getTarget(),...o},u=new Zf({maplibreOptions:l,label:a,id:i,queryable_id:i,metadata:s}),f=Vn(),c=Yr();return u.getMapLibreMap().loaded()?f.setBaseStyle(i,u.getMapLibreMap().getStyle()):new Promise(h=>u.getMapLibreMap().once("data",h)).then(()=>f.setBaseStyle(i,u.getMapLibreMap().getStyle())),u.set(TP,c.getDefaultMapBoxStyleUrl(c.getVectorId(e))),u}}const $P=new RP;function K0(){const{initLayer:t}=En(),{addLayers:e,setBgLayer:n}=it(),{findBgLayerByName:r}=Hr();function i(a){if(a.layerType===ys.LAYER_OFFLINE_BG_VECTOR)return r(a.key);{const o=JSON.parse(a.layerSerialization),{id:l,label:u,opacity:f}=o;let c=a.layerType;return c===Sr.BG_WMTS&&(c=ys.LAYER_OFFLINE_BG_WMTS),{id:l,name:u,options:o,type:c,metadata:{start_opacity:f}}}}function s(a){if([ys.LAYER_OFFLINE_TILE,ys.LAYER_OFFLINE_BG_VECTOR].includes(a.layerType))try{const l=t(i(a));a.backgroundLayer?n(l):e(l)}catch{throw new Error("Invalid offline layer specification.")}}return{createOfflineLayer:s,offlineLayerToLayer:i}}let Z0;function _s(){const t=it(),e=K0(),{isOffLine:n}=Pe(rt()),{minZoom:r,maxZoom:i}=Pe(t),{removeAllLayers:s,setBgLayer:a}=t;function o(p){Z0=p}function l(){return n.value}function u(p){n.value=p}function f(p){c(),h(p),d(p)}function c(){Sy(),s(),a(null)}function h(p){const{zooms:m}=p;r.value=m[0],i.value=m[m.length-1]}function d(p){[...p.layers].reverse().forEach(m=>e.createOfflineLayer(m))}return{localforage_v3:Z0,isOffLine:n,initLocalforage_v3:o,getIsOffline:l,setIsOffline:u,doRestore:f}}class J0{createOlLayer(e){const n=this.deserializeTileLayer(e.options);return new Rd.default(n)}createTileLoadFunction(){const e=_s().localforage_v3;return(r,i)=>{const s=HA(i);e.getItem(s).then(a=>{r.getImage().src=a||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="}).catch(()=>r.setState(3))}}}class FP extends J0{deserializeTileLayer(e){const n=JSON.parse(e.source);if(n.tileLoadFunction=this.createTileLoadFunction(),n.gutter=parseInt("96",10),n.tileGrid){const r=new O1.default(JSON.parse(n.tileGrid));n.tileGrid=r}return e.source=new S1.default(n),e}serializeTileLayer(e){throw console.log("OlLayerTileWmsOfflineHelper::serializeTileLayer() options=",e),new Error("Method not implemented.")}}const VP=new FP;class jP extends J0{deserializeTileLayer(e){const n=JSON.parse(e.source);if(n.tileLoadFunction=this.createTileLoadFunction(),n.tileGrid){const r=new $d.default(JSON.parse(n.tileGrid));n.tileGrid=r}return e.source=new bc.default(n),e}serializeTileLayer(e){throw console.log("OlLayerWmtsOfflineHelper::serializeTileLayer() options=",e),new Error("Method not implemented.")}}const GP=new jP;class UP{createOlLayer(e){let n;switch(this.getOfflineLayerSourceType(e)){case Sr.WMTS:n=GP.createOlLayer(e);break;case Sr.TILE_WMS:n=VP.createOlLayer(e);break;default:throw new Error(`Unrecognized offline layer type: ${e.type}`)}return n}getOfflineLayerSourceType(e){return e.options.sourceType}}const BP=new UP;class WP{createOlLayer(e,n){let r;if(n&&(r=$P.createOlLayer(e,n)),!r)switch(e.type){case Sr.WMS:r=Y0.createOlLayer(e);break;case Sr.WMTS:case Sr.BG_WMTS:r=X0.createOlLayer(e);break;case ys.LAYER_OFFLINE_TILE:case ys.LAYER_OFFLINE_BG_VECTOR:r=BP.createOlLayer(e);break;default:throw new Error(`Unrecognized layer type: ${e.type}`)}return r.set(SP,e.id),r.set(B0,e.name),r.set(W0,e.name),r.set(q0,e.metadata),r.set(OP,e.id),r.set(xP,En().getLayerCurrentTime(e)),r.set(MP,e.time),r.setOpacity(e.opacity),r}}const Q0=new WP;class qP{setLayerTime(e,n){const r=e.getSource();r instanceof kd.default&&Y0.setLayerTime(r,n),r instanceof bc.default&&X0.setLayerTime(e,r,n)}}const HP=new qP,ju=-200;function Dh(){function t(d,p){if(!p)return;const m=u(p);d.addLayer(m)}function e(d,p){return d.getLayers().getArray().find(m=>m.get("id")===p)}function n(d,p){const m=e(d,p);m&&d.removeLayer(m)}function r(d,p){const m=d.getLayers().getArray();p.forEach((g,y)=>{const v=m.find(E=>E.get("id")===g.id);v==null||v.setZIndex(y+1)})}function i(d,p,m){const g=d.getLayers().getArray().find(y=>y.get("id")===p);g&&g.setOpacity(m)}function s(d,p){const m=En(),g=e(d,p.id),y=m.getLayerCurrentTime(p);y&&g&&HP.setLayerTime(g,y)}function a(d){Ks.delete(d)}function o(d){return Ks.has(d.id)}function l(d,p){Ks.set(d,p)}function u(d){const p=d.id,m=Ks.get(p);if(m)return m;{const g=Q0.createOlLayer(d);return l(p,g),g}}function f(d){return d&&Ks.get(d.id)||null}function c(d,p){const g=d.getLayers().getArray().find(y=>y.getZIndex()===ju);g&&p(g)}function h(d,p,m){var b;const g=d.getLayers(),y=g.getArray().findIndex(O=>O.getZIndex()===ju),v=(b=g.getArray()[y])==null?void 0:b.get("id");let E;p&&(o(p)?E=f(p):(E=Q0.createOlLayer(p,m),l(p.id,E))),y>=0?E?(E.setZIndex(ju),g.setAt(y,E)):g.removeAt(y):E&&(E.setZIndex(ju),d.addLayer(E)),v&&v!==(p==null?void 0:p.id)&&Ph.restore(!0)}return{addLayer:t,findLayer:e,removeLayer:n,removeFromCache:a,reorderLayers:r,setLayerOpacity:i,setLayerTime:s,getLayerFromCache:f,setBgLayer:h,applyOnBgLayer:c}}class zP{constructor(e){nt(this,"timeoutID");const n=it(),r=Vn(),i=_n(),s=Yr(),a=Dh(),{getIsOffline:o}=_s(),{appliedStyle:l}=Pe(r);Ge(()=>n.layers,(u,f)=>{const c={layers:f},h={layers:u},d=i.getRemovedLayers(h,c),p=i.getAddedLayers(h,c),m=i.getMutatedLayers(h,c);d.forEach(g=>a.removeLayer(e,g.id)),p.forEach(g=>{a.addLayer(e,g.layer),a.setLayerTime(e,g.layer)}),m.forEach(g=>{i.getMutationType(g.id,h,c)===Jf.ON_LAYER_TYPE?(a.removeLayer(e,g.id),a.addLayer(e,g)):a.setLayerOpacity(e,g.id,g.opacity),a.setLayerTime(e,g)}),h.layers&&a.reorderLayers(e,h.layers)}),Ge(()=>n.bgLayer,u=>u!==void 0&&a.setBgLayer(e,u,r.bgVectorSources)),on(()=>{r.isExpertStyleActive||(l.value=s.applyDefaultStyle(n.bgLayer,r.bgVectorBaseStyles,r.bgStyle))}),Ge(l,u=>{o()||(r.bgStyle===null&&!r.isExpertStyleActive?s.unregisterStyle(r.styleSerial).then(r.styleSerial=null):(clearTimeout(this.timeoutID),this.timeoutID=setTimeout(()=>{s.registerStyle(u,r.styleSerial).then(f=>{var h;r.styleSerial=f;const c=(h=n==null?void 0:n.bgLayer)==null?void 0:h.id;(n==null?void 0:n.bgLayer)&&c!==void 0&&f!==void 0&&a.setBgLayer(e,n==null?void 0:n.bgLayer,r.bgVectorSources)})},2e3))),a.applyOnBgLayer(e,f=>s.applyConsolidatedStyle(f,u))}),Ge(()=>r.bgVectorSources,(u,f)=>{var c;for(const h of u.keys())(!f||f.get(h)!==u.get(h))&&(a.removeFromCache(h),h===((c=n==null?void 0:n.bgLayer)==null?void 0:c.id)&&a.setBgLayer(e,n==null?void 0:n.bgLayer,u))})}}class YP{constructor(e){const n=e.getView(),r=it();Ge(()=>r.minZoom,i=>i!==void 0&&n.setMinZoom(i)),Ge(()=>r.maxZoom,i=>i!==void 0&&n.setMaxZoom(i))}}const XP={0:8,1:9,2:9,3:10,4:11,5:12,6:13,7:14,8:16,9:17,10:18,11:19,12:20,13:21};class KP{bootstrap(){this.restore(),this.persist()}persistZoom(){const e=_n().getOlMap().getView(),n=()=>{const r=e.getZoom();Ne.setValue(I0,r?Math.ceil(r):null)};n(),Fd.listen(e,"change:resolution",N0(n,300))}persistXY(){const e=_n().getOlMap().getView(),n=()=>{const r=e.getCenter();Ne.setValue(k0,r?Math.round(r[0]):null),Ne.setValue(R0,r?Math.round(r[1]):null)};n(),Fd.listen(e,x1.default.PROPERTYCHANGE,N0(n,300))}persist(){this.persistXY(),this.persistZoom()}restore(){const e=_n().getOlMap().getView(),n=Ne.getValue(I0,ua),r=Ne.getInitialVersion(),i=Ne.getValue(k0,ua),s=Ne.getValue(R0,ua),a=Ne.getValue(JA),o=ht.getTransform(J2,po);let l,u;n!==void 0?u=r===3?Number(n):XP[n]:u=parseInt("8",10),i!=null&&s!=null?r===3&&a!=null?l=ht.transform([i,s],a,po):l=r===3?[i,s]:o([s,i],void 0,2):l=ht.transform([6,49.7],Ey,po),e.setCenter(l),e.setZoom(u)}}const ZP=new KP,JP={key:0,class:"absolute bottom-0 z-10 text-[0.8em] px-[4px] text-[#6b818f] bg-[#ffffffb3]"},QP=pe(ce({__name:"attribution-control",setup(t){const e=it(),n=ge("");return on(()=>{var r,i;n.value=((i=(r=e.bgLayer)==null?void 0:r.metadata)==null?void 0:i.attribution)||""}),(r,i)=>{const s=Yc("dompurify-html");return n.value?Sl((L(),$("div",JP,null,512)),[[s,n.value]]):I("v-if",!0)}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/attribution-control.vue"]]);function Ao(t,e){const n=new t(e),r=_n(),i=Ds("olMap");return ln(()=>{i.addControl(n),i.changed()}),di(()=>{const s=r.getOlMap();s.removeControl(n),s.changed()}),{control:n}}const eD=["title"],tD=pe(ce({__name:"location-control",props:{className:{type:String,required:!1,default:"location-button"},label:{type:String,required:!1,default:"\uE800"},tipLabel:{type:String,required:!1,default:"Location"}},setup(t){const{t:e}=Ue(),n=t,r=ge(null);function i(){}return ln(()=>Ao(Vd.default,{...n,target:r})),(s,a)=>(L(),$("div",{ref_key:"controlElement",ref:r,class:Ie(`tracker-off ${n.className} ${w(Ko.CLASS_UNSELECTABLE)} ${w(Ko.CLASS_CONTROL)}`)},[C("button",{title:w(e)(n.tipLabel),onClick:i},ae(n.label),9,eD)],2))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/location-control.vue"]]),nD=["title"],rD=pe(ce({__name:"map-3d",props:{className:{type:String,required:!1,default:"map-3d-button"},label:{type:String,required:!1,default:"\uE057"},tipLabel:{type:String,required:!1,default:"3d"}},setup(t){const e=it(),{t:n}=Ue(),r=t,i=ge(null);ln(()=>Ao(Vd.default,{...r,target:i}));const s=()=>{e.setIs3dActive(!e.is3dActive)};return(a,o)=>(L(),$("div",{ref_key:"controlElement",ref:i,class:Ie(`${r.className} ${w(Ko.CLASS_UNSELECTABLE)} ${w(Ko.CLASS_CONTROL)} ${w(e).is3dActive?"active":""}`)},[C("button",{title:w(n)(r.tipLabel),onClick:s},ae(r.label),9,nD)],2))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/map-3d.vue"]]),iD=pe(ce({__name:"fullscreen-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01C"},labelActive:{type:String,required:!1,default:"\uE02C"}},setup(t){const e=t;return Ao(M1.default,e),(n,r)=>I("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/fullscreen-control.vue"]]),sD=pe(ce({__name:"zoom-control",props:{className:{type:String,required:!1},zoomInLabel:{type:String,required:!1,default:"\uE032"},zoomOutLabel:{type:String,required:!1,default:"\uE033"}},setup(t){const e=t;return Ao(T1.default,e),(n,r)=>I("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/zoom-control.vue"]]);class aD extends N1.default{constructor(n){super(n);nt(this,"ol3dm")}handleZoomToExtent(){this.ol3dm&&this.ol3dm.luxCameraExtentInRadians&&this.ol3dm.is3dEnabled()||super.handleZoomToExtent()}}const oD=pe(ce({__name:"zoom-to-extent-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01B"},tipLabel:{type:String,required:!1},extent:{type:Array,required:!0}},setup(t){return Ao(aD,t),(n,r)=>I("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/zoom-to-extent-control.vue"]]),Ih=pe(ce({__name:"map-container",props:{v4_standalone:{type:Boolean,required:!1,default:!1}},setup(t){const e=rt(),{embedded:n}=Pe(e),r=_n(),i=ge(null),s=r.createMap(),a=[425152.9429259216,632446599999133e-8,914349.9239510496,6507914867875754e-9];return ln(()=>{i.value&&(new zP(s),new YP(s),ZP.bootstrap(),s.setTarget(i.value),window.olMap=s)}),on(()=>{i.value&&n.value&&setTimeout(()=>{r.resize()},1e3)}),im("olMap",s),(o,l)=>(L(),$("div",{id:"map-container",ref_key:"mapContainer",ref:i,class:"h-full w-full bg-white relative"},[Q(sD),Q(oD,{extent:a}),w(n)?I("v-if",!0):(L(),$(Fe,{key:0},[Q(iD),Q(QP),o.v4_standalone?(L(),$e(rD,{key:0})):I("v-if",!0),Q(tD)],64))],512))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map/map-container.vue"]]),Gu={name:"blank",id:0};function kh(){const t=rt(),{mapId:e}=Pe(t),n=Hr(),r=it(),i=En(),s=fe(()=>{var c;if(!e.value){const h=(c=zt().theme)==null?void 0:c.name;if(h)return zr().bg_layer_theme_defaults[h]||l()}return l()});function a(c){const h=n.findBgLayerById(c);o(h||null)}function o(c){if(c){if(c.type===Sr.WMTS||c.type===Sr.BG_WMTS)c.type="BG WMTS";else if(c.type===Sr.BG_MVT)console.log(`passed through MVT layer ${c.name}`);else throw new Error(`Only WMTS and MVT BG layers are currently implemented (not ${c.type} for ${c.name})`);i.handleExclusionLayers(c),r.setBgLayer(i.initLayer(c))}else r.setBgLayer(null)}function l(){var c;return((c=f().find(h=>h.is_default))==null?void 0:c.id)||Gu.id}function u(){return Gu.id}function f(){return zr().bg_layers}return{setBgLayer:a,setMapBackground:o,getBgLayersFromConfig:f,getNullId:u,getDefaultSelectedId:l,defaultSelectedBgId:s}}const lD=["title"],e_=pe(ce({__name:"background-selector-item",props:{bgTitle:{type:String,default:""},bgName:{type:String,default:""}},setup(t){const{t:e}=Ue(),n=t,r=fe(()=>{const s=e(n.bgTitle),a=n.bgTitle.length>0,o=e(n.bgName);return`${s}${a?" - ":""}${o}`}),i=fe(()=>`h-full w-full rounded-sm lux-bg-sel-icon
        lux-bg-sel-${n.bgName}
        bg-${n.bgName}_sm
        md:bg-${n.bgName}
        hd:bg-${n.bgName}_sm_hi
        hd_md:bg-${n.bgName}_hi`);return(s,a)=>(L(),$("button",{title:r.value,class:Ie(i.value)},null,10,lD))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/background-selector/background-selector-item.vue"]]),uD={key:0,class:"flex flex-row-reverse"},Rh=pe(ce({__name:"background-selector",props:{isOpen:{type:Boolean,default:!1}},setup(t){const{t:e}=Ue(),n=kh(),r=it(),i=zt(),{bgLayer:s,is3dMesh:a}=Pe(r),l=ge(t.isOpen),u=ge([]),f=fe(()=>{var p,m;return(m=(p=s.value)==null?void 0:p.id)!=null?m:n.getNullId()}),c=fe(()=>{var p,m;return(m=(p=u.value)==null?void 0:p.find(g=>g.id===f.value))==null?void 0:m.name});Ge(()=>i.bgLayers,p=>{u.value=zr().bg_layers.map(m=>Object.assign({id:m.id},p.find(g=>m.id===g.id),{name:m.icon_id}))},{immediate:!0}),Ge(()=>r.bgLayer,(p,m)=>{const g=r.layers;m===void 0&&p===null&&(g==null?void 0:g.length)===0&&(n.setBgLayer(n.defaultSelectedBgId.value),p===null&&au().addNotification(e("Aucune couche n'\xE9tant d\xE9finie pour cette carte, une couche de fond a automatiquement \xE9t\xE9 ajout\xE9e.",{ns:"client"})))});function h(p){n.setBgLayer(p.id),l.value=!1}function d(){l.value=!l.value}return(p,m)=>w(a)?I("v-if",!0):(L(),$("div",uD,[C("div",{class:Ie(["lux-bg-sel border border-black",l.value===!0?"hidden":"block"])},[Q(e_,{"aria-expanded":l.value,"bg-title":"Select BG layer","bg-name":c.value,onClick:d},null,8,["aria-expanded","bg-name"])],2),C("div",{class:Ie(l.value===!0?"flex flex-col md:flex-row":"hidden")},[(L(!0),$(Fe,null,Ln(u.value,g=>(L(),$("div",{key:g.id,class:Ie(["lux-bg-sel hover:bg-cyan-600",g.id===f.value?"border-red-500 border-2":"border-black border"])},[Q(e_,{"bg-name":g.name,onClick:y=>h(g)},null,8,["bg-name","onClick"])],2))),128))],2)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/background-selector/background-selector.vue"]]),cD=C("div",{class:"fixed inset-0 bg-gray-900 opacity-40 z-[1050]"},null,-1),fD={class:"bg-white shadow-modal rounded-lg overflow-hidden w-[700px]"},hD={class:"relative flex flex-row justify-center p-4 border-b-[1px]"},dD={class:"text-xl"},pD=[C("span",{"aria-hidden":"true"},"\xD7",-1)],mD={key:0,class:"p-[15px] border-t-[1px]"},gD={class:"flex flex-row justify-end"},t_=pe(ce({__name:"modal-dialog",props:{footer:{type:Boolean,default:!0},maxHeight:{type:Boolean,default:!1},title:String},emits:["close"],setup(t){const{t:e}=Ue(),n=ge();ln(()=>{n.value.focus()});const r=at(!0);function i(){r.value=!1}return(s,a)=>(L(),$e(wm,{to:"body"},[I(" backdrop "),cD,I(" modal "),Q(Wa,{appear:"","enter-active-class":"duration-200 ease-out","enter-from-class":"transform opacity-0 -translate-y-60","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-60",onAfterLeave:a[3]||(a[3]=o=>s.$emit("close"))},{default:jt(()=>[r.value?(L(),$("div",{key:0,role:"dialog",ref_key:"modal",ref:n,tabindex:"0",onKeydown:a[2]||(a[2]=fr(cr(o=>i(),["stop"]),["esc"])),class:"fixed inset-x-0 inset-y-8 flex items-start justify-center z-[1100] outline-none"},[C("div",fD,[I(" header (title)"),C("div",hD,[C("h4",dD,ae(t.title),1),C("button",{type:"button",class:"absolute right-2 top-1 text-slate-400 text-[24px]","data-dismiss":"modal","aria-label":"Close",onClick:a[0]||(a[0]=o=>i())},[...pD])]),I(" content slot "),C("div",{class:Ie(["p-[15px] overflow-y-auto",t.maxHeight?"max-h-96":"max-h-full"])},[Da(s.$slots,"content")],2),I(" footer (optional)"),t.footer?(L(),$("div",mD,[C("div",gD,[C("button",{type:"button",class:"lux-btn","data-dismiss":"modal",onClick:a[1]||(a[1]=o=>i())},ae(w(e)("Close",{ns:"client"})),1)])])):I("v-if",!0)])],544)):I("v-if",!0)]),_:3})]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/modal-dialog.vue"]]),$h=wi("metadata",()=>{const t=ge();function e(r){t.value=r}function n(){t.value=void 0}return{metadataId:t,setMetadataId:e,clearMetadataId:n}},{}),yD=["aria-expanded"],vD={class:"leading-6"},_D={key:0},bD=ce({__name:"expandable-panel",props:{expanded:{type:Boolean,required:!0},title:{type:String,required:!0}},emits:["togglePanel"],setup(t){return(e,n)=>(L(),$(Fe,null,[I(" Header "),C("button",{onClick:n[0]||(n[0]=r=>e.$emit("togglePanel")),class:"group w-full text-left flex px-2 py-1.5 uppercase bg-tertiary","aria-expanded":e.expanded},[C("span",{class:Ie(["grow",e.expanded?"text-white":"text-secondary"])},ae(e.title),3),C("span",vD,[C("span",{class:Ie(["fa fa-sharp fa-solid group-hover:text-white text-primary",e.expanded?"fa-caret-up":"fa-caret-down"])},null,2)])],8,yD),I(" Dropdown content "),Q(Wa,{name:"slide"},{default:jt(()=>[e.expanded?(L(),$("div",_D,[Da(e.$slots,"default")])):I("v-if",!0)]),_:3})],64))}}),y$="",Uu=pe(bD,[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/expandable-panel.vue"]]),ED={class:"mb-px",key:"node.id"},wD=["data-cy"],SD=["aria-expanded","data-cy"],OD={class:"grow"},xD={class:"leading-6"},MD={key:1,class:"flex text-tertiary pr-2"},TD=["data-cy"],ND={class:"ml-1 hover:underline"},Fh=pe(ce({__name:"layer-tree-node",props:{node:{type:Object,required:!0}},emits:["toggleLayer","toggleParent"],setup(t,{emit:e}){const n=t,r=e,{t:i}=Ue(),{setMetadataId:s}=$h(),a=!!n.node.children,o=n.node.depth===0,l=n.node.depth>=10,u=fe(()=>i(n.node.name,{ns:"client"}));function f(h){r("toggleLayer",h)}function c(h){r("toggleParent",h)}return(h,d)=>{const p=QE("layer-tree-node",!0);return a?(L(),$("div",ED,[I("    First level parents"),h.node.depth===1?(L(),$("div",{key:0,"data-cy":`parentLayerLabel-${h.node.id}`},[Q(Uu,{title:u.value,expanded:h.node.expanded,onTogglePanel:d[0]||(d[0]=m=>c(h.node))},null,8,["title","expanded"])],8,wD)):h.node.depth>1&&!l?(L(),$(Fe,{key:1},[I("    Other parents (with custom panel style)"),C("button",{class:Ie(["w-full text-left flex px-2 py-1.5 pl-2",h.node.expanded?"text-tertiary":"bg-white text-primary"]),"aria-expanded":h.node.expanded,onClick:d[1]||(d[1]=m=>c(h.node)),"data-cy":`parentLayerLabel-${h.node.id}`},[C("div",OD,ae(u.value),1),C("div",xD,[C("div",{class:Ie(["fa-sharp fa-solid",h.node.expanded?"fa-minus":"fa-plus"])},null,2)])],10,SD)],2112)):I("v-if",!0),I("    Children"),l?I("v-if",!0):(L(),$("div",{key:2,class:Ie(["bg-secondary",[{"pl-2":h.node.depth>1},{"lux-collapse":!o},{expanded:!o&&h.node.expanded}]])},[(L(!0),$(Fe,null,Ln(h.node.children,m=>(L(),$e(p,{key:m.id,node:m,onToggleParent:d[2]||(d[2]=g=>c(g)),onToggleLayer:d[3]||(d[3]=g=>f(g))},null,8,["node"]))),128))],2))])):(L(),$("div",MD,[C("button",{class:"self-start before:text-[.85rem] before:transform before:translate-y-[.1rem] before:inline-block before:content-['\\f129'] fa-solid fa-fw fa-fh fa-info",onClick:d[4]||(d[4]=m=>w(s)(h.node.id))}),C("button",{class:Ie(["w-full text-left",{"font-bold":h.node.checked}]),onClick:d[5]||(d[5]=m=>f(h.node)),"data-cy":`layerLabel-${h.node.id}`},[C("i",{class:Ie(["fa-solid",h.node.checked?"fa-check-square":"fa-square"])},null,2),C("span",ND,ae(u.value),1)],10,TD)]))}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-tree/layer-tree-node.vue"]]);class LD{toggleNode(e,n,r){var i;return(n==null?void 0:n.id)===e?{...n,[r]:!n[r]}:{...n,children:(i=n.children)==null?void 0:i.map(s=>this.toggleNode(e,s,r))}}updateLayers(e,n){const{id:r}=e;if(e.children)return{...e,children:e.children.map(i=>this.updateLayers(i,n))};{const i=!!(n!=null&&n.find(s=>s.id===r));return{...e,checked:i}}}}const ha=new LD;var jn=(t=>(t.WMS="WMS",t.WMTS="WMTS",t))(jn||{});function CD(t,e){var n,r;return t.children&&!e.children||((n=e.children)==null?void 0:n.length)===0?1:e.children&&!t.children||((r=t.children)==null?void 0:r.length)===0?-1:0}function n_(t,e,n=0){const{name:r="",type:i=jn.WMS,children:s}=t,a=`${i}||${e}||${r}`.split("-").join("%2D"),o=it();return{id:a,name:r,depth:n,children:s==null?void 0:s.sort(CD).map(l=>n_(l,e,n+1)),checked:o.hasLayer(a),expanded:!1}}function AD(t){const e=decodeURIComponent(t),[n,r,i]=e.split("||");return r_({id:e,url:vs.getProxyfiedUrl(r),remoteLayer:{name:i,type:n}})}function r_({id:t,url:e,remoteLayer:n}){const{name:r="",type:i=jn.WMS}=n;return{id:t,name:r,layers:r,url:e,type:i,imageType:zy.PNG}}class Vh{constructor(e,n=0,r=!1){this.message=e,this.httpStatus=n,this.isCrossOriginRelated=r}}let PD=0;function DD(){return PD++}function ID(t,e,n){return new Promise((r,i)=>{const s=DD(),a={requestId:s,taskName:t,params:n};e===null?window.dispatchEvent(new CustomEvent("ogc-client.request",{detail:a})):e.postMessage(a);const o=({detail:l,data:u})=>{const f=l||u;f.requestId===s&&(e===null?window.removeEventListener("message",o):e.removeEventListener("message",o),"error"in f?i(f.error):r(f.response))};e===null?window.addEventListener("ogc-client.response",o):e.addEventListener("message",o)})}function jh(t,e,n){const r=typeof WorkerGlobalScope<"u",i=async({detail:s,data:a})=>{const o=s||a;if(o.taskName===t){let l,u;try{l=await n(o.params)}catch(c){u=c}const f={taskName:t,requestId:o.requestId,...l&&{response:l},...u&&{error:u}};r?e.postMessage(f):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:f}))}};r?e.addEventListener("message",i):e.addEventListener("ogc-client.request",i)}let Gh;function kD(){return Gh||(Gh=new Worker(URL.createObjectURL(new Blob([`function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(t,e,r){var n=h;return function(o,i){if(n===v)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=v;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?d:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",d="completed",y={};function m(){}function g(){}function b(){}var S={};S[a]=function(){return this};var E=Object.getPrototypeOf,w=E&&E(E(C([])));w&&w!==r&&o.call(w,a)&&(S=w);var O=b.prototype=m.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(i,a,c,u){var s=l(t[i],t,a);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"===n(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(h).then((function(t){f.value=t,c(f)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}}function k(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function C(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:G}}function G(){return{value:e,done:!0}}return g.prototype=O.constructor=b,b.constructor=g,g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},x(P.prototype),P.prototype[c]=function(){return this},t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(O),s(O,u,"Generator"),O[a]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(o);var i=o.exports;function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(t,e,n){var o="undefined"!=typeof WorkerGlobalScope,a=function(){var a=r(i.mark((function r(a){var u,s,f,l,h,p;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=a.detail,s=a.data,(f=u||s).taskName!==t){r.next=14;break}return r.prev=3,r.next=6,n(f.params);case 6:l=r.sent,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),h=r.t0;case 12:p=c(c({taskName:t,requestId:f.requestId},l&&{response:l}),h&&{error:h}),o?e.postMessage(p):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:p}));case 14:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(t){return a.apply(this,arguments)}}();o?e.addEventListener("message",a):e.addEventListener("ogc-client.request",a)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function v(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t,e,r){return m=y()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&h(o,r.prototype),o},m.apply(null,arguments)}function g(t){var e="function"==typeof Map?new Map:void 0;return g=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return m(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)},g(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),t}var E=function(){function t(e){l(this,t),this.chars=f(e),this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;var r=this.chars,n=this.charCount,o=this.charsToBytes;if(n===e.length)for(var i=0;i<n;++i)o[i]=i;else{for(var a=0,c=0;c<n;++c)o[c]=a,a+=r[c].length;this.multiByteMode=!0}}return S(t,[{key:"isEnd",get:function(){return this.charIndex>=this.charCount}},{key:"_charLength",value:function(t){var e=t.length;return e<2||!this.multiByteMode?e:t.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,"_").length}},{key:"advance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.charIndex=Math.min(this.charCount,this.charIndex+t)}},{key:"consume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.peek(t);return this.advance(t),e}},{key:"consumeMatch",value:function(t){if(!t.sticky)throw new Error('\`regex\` must have a sticky flag ("y")');t.lastIndex=this.charsToBytes[this.charIndex];var e=t.exec(this.string);if(null===e)return"";var r=e[0];return this.advance(this._charLength(r)),r}},{key:"consumeMatchFn",value:function(t){for(var e=this.charIndex;!this.isEnd&&t(this.peek());)this.advance();return this.charIndex>e?this.string.slice(this.charsToBytes[e],this.charsToBytes[this.charIndex]):""}},{key:"consumeString",value:function(t){if(this.consumeStringFast(t))return t;if(!this.multiByteMode)return"";var e=t.length,r=this._charLength(t);return r!==e&&t===this.peek(r)?(this.advance(r),t):""}},{key:"consumeStringFast",value:function(t){if(this.peek()===t[0]){var e=t.length;if(1===e)return this.advance(),t;if(this.peek(e)===t)return this.advance(e),t}return""}},{key:"consumeUntilMatch",value:function(t){if(!t.global)throw new Error('\`regex\` must have a global flag ("g")');var e=this.charsToBytes[this.charIndex];t.lastIndex=e;var r=t.exec(this.string);if(null===r||r.index===e)return"";var n=this.string.slice(e,r.index);return this.advance(this._charLength(n)),n}},{key:"consumeUntilString",value:function(t){var e=this.charIndex,r=this.charsToBytes,n=this.string,o=r[e],i=n.indexOf(t,o);if(i<=0)return"";var a=n.slice(o,i);return this.advance(this._charLength(a)),a}},{key:"peek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.charIndex>=this.charCount)return"";if(1===t)return this.chars[this.charIndex];var e=this.charsToBytes,r=this.charIndex;return this.string.slice(e[r],e[r+t])}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.charIndex=t>=0?Math.min(this.charCount,t):Math.max(0,this.charIndex+t)}}]),t}(),w=E,O={},x=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function P(t){if(k(t))return!0;var e=T(t);return 45===e||46===e||e>=48&&e<=57||183===e||e>=768&&e<=879||e>=8255&&e<=8256}function k(t){var e=T(t);return 58===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function R(t){var e=T(t);return 9===e||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}function T(t){return t.codePointAt(0)||-1}O.predefinedEntities=x,O.isNameChar=P,O.isNameStartChar=k,O.isNotXmlChar=function(t){return!R(t)},O.isReferenceChar=function(t){return"#"===t||P(t)},O.isWhitespace=function(t){var e=T(t);return 32===e||9===e||10===e||13===e},O.isXmlChar=R;var j=function(){function t(){l(this,t),this.parent=null}return S(t,[{key:"document",get:function(){return this.parent?this.parent.document:null}},{key:"isRootNode",get:function(){return!!this.parent&&this.parent===this.document}},{key:"preserveWhitespace",get:function(){return Boolean(this.parent&&this.parent.preserveWhitespace)}},{key:"type",get:function(){return""}},{key:"toJSON",value:function(){var t={type:this.type};return this.isRootNode&&(t.isRootNode=!0),this.preserveWhitespace&&(t.preserveWhitespace=!0),t}}]),t}();j.TYPE_CDATA="cdata",j.TYPE_COMMENT="comment",j.TYPE_DOCUMENT="document",j.TYPE_ELEMENT="element",j.TYPE_PROCESSING_INSTRUCTION="pi",j.TYPE_TEXT="text";var C=j;function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var N=C,A=function(t){p(r,N);var e=G(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).text=n,t}return S(r,[{key:"type",get:function(){return N.TYPE_TEXT}},{key:"toJSON",value:function(){return Object.assign(N.prototype.toJSON.call(this),{text:this.text})}}]),r}(),F=A;function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var L=C,M=F,B=function(t){p(r,M);var e=I(r);function r(){return l(this,r),e.apply(this,arguments)}return S(r,[{key:"type",get:function(){return L.TYPE_CDATA}}]),r}(),_=B;function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var D=C,W=function(t){p(r,D);var e=U(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).content=n,t}return S(r,[{key:"type",get:function(){return D.TYPE_COMMENT}},{key:"toJSON",value:function(){return Object.assign(D.prototype.toJSON.call(this),{content:this.content})}}]),r}(),X=W;function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var q=C,J=function(t){p(r,q);var e=Y(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return l(this,r),(n=e.call(this)).name=t,n.attributes=o,n.children=i,n}return S(r,[{key:"isEmpty",get:function(){return 0===this.children.length}},{key:"preserveWhitespace",get:function(){for(var t=this;t instanceof r;){if("xml:space"in t.attributes)return"preserve"===t.attributes["xml:space"];t=t.parent}return!1}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return q.TYPE_ELEMENT}},{key:"toJSON",value:function(){return Object.assign(q.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),V=J;function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var K=V,z=C,H=function(t){p(r,z);var e=$(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(this,r),(t=e.call(this)).children=n,t}return S(r,[{key:"document",get:function(){return this}},{key:"root",get:function(){return this.children.find((function(t){return t instanceof K}))||null}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return z.TYPE_DOCUMENT}},{key:"toJSON",value:function(){return Object.assign(z.prototype.toJSON.call(this),{children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),Q=H;function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var tt=C,et=function(t){p(r,tt);var e=Z(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(this,r),(n=e.call(this)).name=t,n.content=o,n}return S(r,[{key:"type",get:function(){return tt.TYPE_PROCESSING_INSTRUCTION}},{key:"toJSON",value:function(){return Object.assign(tt.prototype.toJSON.call(this),{name:this.name,content:this.content})}}]),r}(),rt=et;function nt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=w,at=O,ct=_,ut=X,st=Q,ft=V,lt=rt,ht=F,pt=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(l(this,t),this.document=new st,this.currentNode=this.document,this.options=r,this.scanner=new it(vt(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}return S(t,[{key:"addNode",value:function(t){t.parent=this.currentNode,this.currentNode.children.push(t)}},{key:"addText",value:function(t){var e=this.currentNode.children;if(e.length>0){var r=e[e.length-1];if(r instanceof ht)return void(r.text+=t)}this.addNode(new ht(t))}},{key:"consumeAttributeValue",value:function(){var t,e=this.scanner,r=e.peek();if('"'!==r&&"'"!==r)return!1;e.advance();var n=!1,o="",i='"'===r?new RegExp('[^"&<]+',"y"):new RegExp("[^'&<]+","y");t:for(;!e.isEnd;){switch((t=e.consumeMatch(i))&&(this.validateChars(t),o+=t.replace(/[\\t\\r\\n]/g," ")),e.peek()){case r:n=!0;break t;case"&":o+=this.consumeReference();continue;case"<":this.error("Unescaped \`<\` is not allowed in an attribute value");break;case"":this.error("Unclosed attribute")}}return n||this.error("Unclosed attribute"),e.advance(),o}},{key:"consumeCdataSection",value:function(){var t=this.scanner;if(!t.consumeStringFast("<![CDATA["))return!1;var e=t.consumeUntilString("]]>");return this.validateChars(e),t.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new ct(e)):this.addText(e),!0}},{key:"consumeCharData",value:function(){var t=this.scanner,e=t.consumeUntilMatch(/<|&|]]>/g);return!!e&&(this.validateChars(e),"]"===t.peek()&&"]]>"===t.peek(3)&&this.error("Element content may not contain the CDATA section close delimiter \`]]>\`"),this.addText(e),!0)}},{key:"consumeComment",value:function(){var t=this.scanner;if(!t.consumeStringFast("\\x3c!--"))return!1;var e=t.consumeUntilString("--");return this.validateChars(e),t.consumeStringFast("--\\x3e")||("--"===t.peek(2)?this.error("The string \`--\` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new ut(e.trim())),!0}},{key:"consumeContentReference",value:function(){var t=this.consumeReference();return!!t&&(this.addText(t),!0)}},{key:"consumeDoctypeDeclaration",value:function(){var t=this.scanner;return!(!t.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace())&&(t.consumeMatch(new RegExp("[^[>]+","y")),t.consumeMatch(new RegExp("\\\\[[\\\\s\\\\S]+?\\\\][\\\\x20\\\\t\\\\r\\\\n]*>","y"))||t.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}},{key:"consumeElement",value:function(){var t=this.scanner,e=t.charIndex;if("<"!==t.peek())return!1;t.advance();var r=this.consumeName();if(!r)return t.reset(e),!1;for(var n=Object.create(null);this.consumeWhitespace();){var o=this.consumeName();if(o){var i=this.consumeEqual()&&this.consumeAttributeValue();!1===i&&this.error("Attribute value expected"),o in n&&this.error("Duplicate attribute: ".concat(o)),"xml:space"===o&&"default"!==i&&"preserve"!==i&&this.error('Value of the \`xml:space\` attribute must be "default" or "preserve"'),n[o]=i}}if(this.options.sortAttributes){for(var a=Object.keys(n).sort(),c=Object.create(null),u=0;u<a.length;++u){var s=a[u];c[s]=n[s]}n=c}var f=Boolean(t.consumeStringFast("/>")),l=new ft(r,n);if(l.parent=this.currentNode,!f){for(t.consumeStringFast(">")||this.error("Unclosed start tag for element \`".concat(r,"\`")),this.currentNode=l,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();var h,p=t.charIndex;t.consumeStringFast("</")&&(h=this.consumeName())&&h===r||(t.reset(p),this.error("Missing end tag for element ".concat(r))),this.consumeWhitespace(),t.consumeStringFast(">")||this.error("Unclosed end tag for element ".concat(r)),this.currentNode=l.parent}return this.addNode(l),!0}},{key:"consumeEqual",value:function(){return this.consumeWhitespace(),!!this.scanner.consumeStringFast("=")&&(this.consumeWhitespace(),!0)}},{key:"consumeMisc",value:function(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}},{key:"consumeName",value:function(){return at.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(at.isNameChar):""}},{key:"consumeProcessingInstruction",value:function(){var t=this.scanner,e=t.charIndex;if(!t.consumeStringFast("<?"))return!1;var r=this.consumeName();if(r?"xml"===r.toLowerCase()&&(t.reset(e),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(t.consumeStringFast("?>"))return this.addNode(new lt(r)),!0;this.error("Whitespace is required after a processing instruction name")}var n=t.consumeUntilString("?>");return this.validateChars(n),t.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new lt(r,n)),!0}},{key:"consumeProlog",value:function(){var t=this.scanner,e=t.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return e<t.charIndex}},{key:"consumeReference",value:function(){var t=this.scanner;if("&"!==t.peek())return!1;t.advance();var e,r=t.consumeMatchFn(at.isReferenceChar);if(";"!==t.consume()&&this.error("Unterminated reference (a reference must end with \`;\`)"),"#"===r[0]){var o="x"===r[1]?parseInt(r.slice(2),16):parseInt(r.slice(1),10);isNaN(o)&&this.error("Invalid character reference"),e=String.fromCodePoint(o),at.isXmlChar(e)||this.error("Character reference resolves to an invalid character")}else if(void 0===(e=at.predefinedEntities[r])){var i=this.options,a=i.ignoreUndefinedEntities,c=i.resolveUndefinedEntity,u="&".concat(r,";");if(c){var s=c(u);if(null!=s){var f=n(s);if("string"!==f)throw new TypeError("\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ".concat(f));return s}}if(a)return u;t.reset(-u.length),this.error("Named entity isn't defined: ".concat(u))}return e}},{key:"consumeSystemLiteral",value:function(){var t=this.scanner,e=t.consumeStringFast('"')||t.consumeStringFast("'");if(!e)return!1;var r=t.consumeUntilString(e);return this.validateChars(r),t.consumeStringFast(e)||this.error("Missing end quote"),r}},{key:"consumeWhitespace",value:function(){return Boolean(this.scanner.consumeMatchFn(at.isWhitespace))}},{key:"consumeXmlDeclaration",value:function(){var t=this.scanner;if(!t.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");var e=Boolean(t.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(!1===e?this.error("XML version is missing or invalid"):/^1\\.[0-9]+$/.test(e)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(t.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();var r=Boolean(t.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();r&&("yes"!==r&&"no"!==r&&this.error('Only "yes" and "no" are permitted as values of \`standalone\`'),this.consumeWhitespace())}return t.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}},{key:"error",value:function(t){for(var e=this.scanner,r=e.charIndex,n=e.string,o=1,i="",a=1,c=0;c<r;++c){var u=n[c];"\\n"===u?(o=1,i="",a+=1):(o+=1,i+=u)}var s=n.indexOf("\\n",r),f=0;(i+=-1===s?n.slice(r):n.slice(r,s)).length>50&&(o<40?i=i.slice(0,50):(f=o-20,i=i.slice(f,o+30)));var l=new Error("".concat(t," (line ").concat(a,", column ").concat(o,")\\n")+"  ".concat(i,"\\n")+" ".repeat(o-f+1)+"^\\n");throw Object.assign(l,{column:o,excerpt:i,line:a,pos:r}),l}},{key:"validateChars",value:function(t){var e,r=0,n=nt(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;at.isNotXmlChar(o)&&(this.scanner.reset(-(f(t).length-r)),this.error("Invalid character")),r+=1}}catch(t){n.e(t)}finally{n.f()}}}]),t}();function vt(t){return"\\ufeff"===t[0]&&(t=t.slice(1)),t.replace(/\\r\\n?/g,"\\n")}var dt=pt,yt=_,mt=X,gt=Q,bt=V,St=C,Et=rt,wt=F;function Ot(t,e){return new dt(t,e).document}Ot.XmlCdata=yt,Ot.XmlComment=mt,Ot.XmlDocument=gt,Ot.XmlElement=bt,Ot.XmlNode=St,Ot.XmlProcessingInstruction=Et,Ot.XmlText=wt;var xt=Ot;function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var kt=function(t){p(r,g(Error));var e=Pt(r);function r(t){return l(this,r),e.call(this,t)}return r}();function Rt(t){return t.children[0]}function Tt(t){var e=t.indexOf(":");return e>-1?t.substr(e+1):t}function jt(t){return t.name||""}function Ct(t,e,r){var n=Tt(e);return t&&Array.isArray(t.children)?t.children.reduce((function t(e,o){return Tt(jt(o))===n&&e.push(o),r&&Array.isArray(o.children)?[].concat(f(e),f(o.children.reduce(t,[]))):e}),[]):[]}function Gt(t,e,r){return Ct(t,e,r)[0]||null}function Nt(t){return t&&Array.isArray(t.children)?f(t.children.filter((function(t){return"XmlElement"===t.constructor.name}))):[]}function At(t){var e=t&&Array.isArray(t.children)?t.children.find((function(t){return"text"===t.type})):null;return e?e.text:""}function Ft(t,e){return t&&t.attributes[e]||""}var It=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(this,t),this.message=e,this.httpStatus=r,this.isCrossOriginRelated=n};function Lt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bt=["utf-8","utf-16","iso-8859-1"];function _t(t,e){var r,n=e?function(t){var e=/charset=([^;]+)/.exec(t);return e?e[1]:null}(e):null,o=Lt(n?[n].concat(Bt):Bt);try{for(o.s();!(r=o.n()).done;){var i=r.value;try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch(t){}}}catch(t){o.e(t)}finally{o.f()}return console.warn("XML document encoding could not be determined, falling back to ".concat("utf-8",".")),new TextDecoder("utf-8").decode(t)}function Ut(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wt=new Map;function Xt(t){return function(t){if(Wt.has(t))return Wt.get(t);var e=fetch(t);return e.finally((function(){return Wt.delete(t)})),Wt.set(t,e),e}(t).catch((function(){return fetch(t,{method:"HEAD",mode:"no-cors"}).catch((function(t){throw new It("Fetching the document failed either due to network errors or unreachable host, error is: ".concat(t.message),0,!1)})).then((function(){throw new It("The document could not be fetched due to CORS limitations",0,!0)}))})).then(function(){var t=r(i.mark((function t(e){var r,n,o;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=5;break}return t.next=3,e.text();case 3:throw r=t.sent,new It("Received an error with code ".concat(e.status,": ").concat(r),e.status,!1);case 5:return t.next=7,e.arrayBuffer();case 7:return n=t.sent,o=e.headers.get("Content-Type"),t.abrupt("return",_t(n,o));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return function(t){var e=null;try{e=xt(t)}catch(t){throw new kt(t.message)}return e}(t)}))}function Yt(t,e){var r=t.match(/(https?%3A%2F%2F[^/]+)$/);if(r){var n=r[1],o=Yt(decodeURIComponent(n),e);return t.replace(n,encodeURIComponent(o))}var i,a=new URL(t),c=Object.keys(e),u=c.map((function(t){return t.toLowerCase()})),s=[],f=Ut(a.searchParams.keys());try{for(f.s();!(i=f.n()).done;){var l=i.value;u.indexOf(l.toLowerCase())>-1&&s.push(l)}}catch(t){f.e(t)}finally{f.f()}return s.map((function(t){return a.searchParams.delete(t)})),c.forEach((function(t){return a.searchParams.set(t,!0===e[t]?"":e[t])})),a.toString()}var qt=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function Jt(t){return qt.indexOf(Vt(t))>-1}function Vt(t){if(/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())){var e=/([0-9]+)$/.exec(t)[1];return"EPSG:".concat(e)}return t}function $t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?$t(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(t){return Rt(t).attributes.version}function Ht(t){var e=zt(t);return Ct(Gt(Rt(t),"Capability"),"Layer").map((function(t){return Qt(t,e)}))}function Qt(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a="1.3.0"===r?"CRS":"SRS",c=Ct(e,a).map(At),u=c.length>0?c:n,s=Ct(e,"Style").map(Zt),f=s.length>0?s:o;function l(t){return(Jt(Ft(t,a))&&"1.3.0"===r?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map((function(e){return Ft(t,e)}))}var h=Gt(e,"Attribution"),p=null!==h?te(h):i,v=Ct(e,"Layer").map((function(t){return Qt(t,r,u,f,p)}));return Kt({name:At(Gt(e,"Name")),title:At(Gt(e,"Title")),abstract:At(Gt(e,"Abstract")),availableCrs:u,styles:f,attribution:p,boundingBoxes:Ct(e,"BoundingBox").reduce((function(e,r){return Kt(Kt({},e),{},t({},Ft(r,a),l(r)))}),{})},v.length&&{children:v})}function Zt(t){var e=Ft(Gt(Gt(t,"LegendURL"),"OnlineResource"),"xlink:href");return Kt({name:At(Gt(t,"Name")),title:At(Gt(t,"Title"))},e&&{legendUrl:e})}function te(t){var e=Ft(Gt(Gt(t,"LogoURL"),"OnlineResource"),"xlink:href"),r=Ft(Gt(t,"OnlineResource"),"xlink:href"),n=At(Gt(t,"Title"));return Kt(Kt(Kt({},n&&{title:n}),r&&{url:r}),e&&{logoUrl:e})}function ee(t){return Rt(t).attributes.version}function re(t){var e;if(ee(t).startsWith("1.0")){var r=Gt(Gt(Gt(Rt(t),"Capability"),"Request"),"GetFeature");e=Nt(Gt(r,"ResultFormat")).map(jt)}else{var n=Ct(Gt(Rt(t),"OperationsMetadata"),"Operation").find((function(t){return"GetFeature"===Ft(t,"name")})),o=Ct(n,"Parameter").find((function(t){return"outputFormat"===Ft(t,"name")}));e=Ct(o,"Value",!0).map(At)}return e}function ne(t){var e=ee(t),r=re(t);return Ct(Gt(Rt(t),"FeatureTypeList"),"FeatureType").map((function(t){return function(t,e,r){var n=e.startsWith("2.")?"CRS":"SRS",o=e.startsWith("1.0")?"SRS":"Default".concat(n);function i(){var e=Gt(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map((function(t){return Ft(e,t)})).map(parseFloat)}function a(){var e=Gt(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map((function(t){return Gt(e,t)})).map((function(t){return At(t).split(" ")})).reduce((function(t,e){return[].concat(f(t),f(e))})).map(parseFloat)}var c=e.startsWith("1.0")?[]:Ct(t,"Other".concat(n)).map(At).map(Vt),u=e.startsWith("1.0")?[]:Ct(Gt(t,"OutputFormats"),"Format").map(At);return{name:At(Gt(t,"Name")),title:At(Gt(t,"Title")),abstract:At(Gt(t,"Abstract")),defaultCrs:Vt(At(Gt(t,o))),otherCrs:c,outputFormats:u.length>0?u:r,latLonBoundingBox:e.startsWith("1.0")?i():a()}}(t,e,r)}))}function oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?oe(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,r,n){var o,i=Rt(e);if(n.startsWith("2.0"))o=Ct(i,"member").map((function(t){return Nt(t)[0]}));else{var a=Gt(i,"featureMembers");o=a?Nt(a):Ct(i,"featureMember").map((function(t){return Nt(t)[0]}))}var c="1.0.0"===n?"fid":"gml:id";function u(e){return Nt(e).filter((function(t){return Tt(jt(t))in r.properties})).reduce((function(e,n){var o=Tt(jt(n));return ie(ie({},e),{},t({},o,function(t,e){switch(r.properties[t]){case"integer":return parseInt(e);case"float":return parseFloat(e);case"boolean":return"true"===e;default:return e}}(o,At(n))))}),{})}return o.map((function(t){return{id:Ft(t,c),properties:u(t)}}))}function ce(e,r,n,o,i,a,c,u,s,f){var l="2.0.0"===r?"COUNT":"MAXFEATURES",h=t({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:r},"2.0.0"===r?"TYPENAMES":"TYPENAME",n);if(void 0!==o&&(h.OUTPUTFORMAT=o),void 0!==a&&(h.PROPERTYNAME=a.join(",")),c?(h.RESULTTYPE="hits",h[l]="1"):void 0!==i&&(h[l]=i.toString(10)),u&&(h.SRSNAME=u),s){var p=s.join(",");h.BBOX=f?"".concat(p,",").concat(f):p}return Yt(e,h)}u("parseWmsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,r=Gt(Rt(e),"Service"),n=Ct(Gt(r,"KeywordList"),"Keyword").map(At).filter((function(t,e,r){return r.indexOf(t)===e})),{title:At(Gt(r,"Title")),name:At(Gt(r,"Name")),abstract:At(Gt(r,"Abstract")),fees:At(Gt(r,"Fees")),constraints:At(Gt(r,"AccessConstraints")),keywords:n}),layers:Ht(t),version:zt(t)};var e,r,n}))})),u("parseWfsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,n=ee(e),o=n.startsWith("1.0")?"Service":"ServiceIdentification",i=n.startsWith("1.0")?"Name":"ServiceType",a=Gt(Rt(e),o),r=n.startsWith("1.0")?At(Gt(a,"Keywords")).split(",").map((function(t){return t.trim()})):Ct(Gt(a,"Keywords"),"Keyword").map(At),{title:At(Gt(a,"Title")),name:At(Gt(a,i)),abstract:At(Gt(a,"Abstract")),fees:At(Gt(a,"Fees")),constraints:At(Gt(a,"AccessConstraints")),keywords:r,outputFormats:re(e)}),featureTypes:ne(t),version:ee(t)};var e,r,n,o,i,a}))})),u("queryWfsFeatureTypeDetails",self,(function(t){var e=t.url,r=t.serviceVersion,n=t.featureTypeFull;return Xt(ce(e,r,n.name,void 0,void 0,Object.keys(n.properties))).then((function(t){return{props:(e=ae(t,n,r),e.reduce((function(t,e){var r=function(r){var n=e.properties[r];r in t||(t[r]={uniqueValues:[]});var o=t[r].uniqueValues.find((function(t){return t.value===n}));o?o.count++:t[r].uniqueValues.push({value:n,count:1})};for(var n in e.properties)r(n);return t}),{}))};var e}))}));
`],{type:"application/javascript"})),{type:"module"})),Gh}function RD(t){return ID("parseWmsCapabilities",kD(),{url:t})}var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const Ii="";class $D{constructor(e){this.chars=[...e],this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;let{chars:n,charCount:r,charsToBytes:i}=this;if(r===e.length)for(let s=0;s<r;++s)i[s]=s;else{for(let s=0,a=0;a<r;++a)i[a]=s,s+=n[a].length;this.multiByteMode=!0}}get isEnd(){return this.charIndex>=this.charCount}_charLength(e){let{length:n}=e;return n<2||!this.multiByteMode?n:e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}advance(e=1){this.charIndex=Math.min(this.charCount,this.charIndex+e)}consume(e=1){let n=this.peek(e);return this.advance(e),n}consumeMatch(e){if(!e.sticky)throw new Error('`regex` must have a sticky flag ("y")');e.lastIndex=this.charsToBytes[this.charIndex];let n=e.exec(this.string);if(n===null)return Ii;let r=n[0];return this.advance(this._charLength(r)),r}consumeMatchFn(e){let n=this.charIndex;for(;!this.isEnd&&e(this.peek());)this.advance();return this.charIndex>n?this.string.slice(this.charsToBytes[n],this.charsToBytes[this.charIndex]):Ii}consumeString(e){if(this.consumeStringFast(e))return e;if(!this.multiByteMode)return Ii;let{length:n}=e,r=this._charLength(e);return r!==n&&e===this.peek(r)?(this.advance(r),e):Ii}consumeStringFast(e){if(this.peek()===e[0]){let{length:n}=e;if(n===1)return this.advance(),e;if(this.peek(n)===e)return this.advance(n),e}return Ii}consumeUntilMatch(e){if(!e.global)throw new Error('`regex` must have a global flag ("g")');let n=this.charsToBytes[this.charIndex];e.lastIndex=n;let r=e.exec(this.string);if(r===null||r.index===n)return Ii;let i=this.string.slice(n,r.index);return this.advance(this._charLength(i)),i}consumeUntilString(e){let{charIndex:n,charsToBytes:r,string:i}=this,s=r[n],a=i.indexOf(e,s);if(a<=0)return Ii;let o=i.slice(s,a);return this.advance(this._charLength(o)),o}peek(e=1){if(this.charIndex>=this.charCount)return Ii;if(e===1)return this.chars[this.charIndex];let{charsToBytes:n,charIndex:r}=this;return this.string.slice(n[r],n[r+e])}reset(e=0){this.charIndex=e>=0?Math.min(this.charCount,e):Math.max(0,this.charIndex+e)}}var FD=$D,ki={};const VD=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));ki.predefinedEntities=VD;function i_(t){if(s_(t))return!0;let e=Bu(t);return e===45||e===46||e>=48&&e<=57||e===183||e>=768&&e<=879||e>=8255&&e<=8256}ki.isNameChar=i_;function s_(t){let e=Bu(t);return e===58||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}ki.isNameStartChar=s_;function jD(t){return!a_(t)}ki.isNotXmlChar=jD;function GD(t){return t==="#"||i_(t)}ki.isReferenceChar=GD;function UD(t){let e=Bu(t);return e===32||e===9||e===10||e===13}ki.isWhitespace=UD;function a_(t){let e=Bu(t);return e===9||e===10||e===13||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}ki.isXmlChar=a_;function Bu(t){return t.codePointAt(0)||-1}class bs{constructor(){this.parent=null}get document(){return this.parent?this.parent.document:null}get isRootNode(){return this.parent?this.parent===this.document:!1}get preserveWhitespace(){return Boolean(this.parent&&this.parent.preserveWhitespace)}get type(){return""}toJSON(){let e={type:this.type};return this.isRootNode&&(e.isRootNode=!0),this.preserveWhitespace&&(e.preserveWhitespace=!0),e}}bs.TYPE_CDATA="cdata",bs.TYPE_COMMENT="comment",bs.TYPE_DOCUMENT="document",bs.TYPE_ELEMENT="element",bs.TYPE_PROCESSING_INSTRUCTION="pi",bs.TYPE_TEXT="text";var Es=bs;const Uh=Es;class BD extends Uh{constructor(e=""){super(),this.text=e}get type(){return Uh.TYPE_TEXT}toJSON(){return Object.assign(Uh.prototype.toJSON.call(this),{text:this.text})}}var Bh=BD;const WD=Es,qD=Bh;class HD extends qD{get type(){return WD.TYPE_CDATA}}var o_=HD;const Wh=Es;class zD extends Wh{constructor(e=""){super(),this.content=e}get type(){return Wh.TYPE_COMMENT}toJSON(){return Object.assign(Wh.prototype.toJSON.call(this),{content:this.content})}}var l_=zD;const qh=Es;class Hh extends qh{constructor(e,n=Object.create(null),r=[]){super(),this.name=e,this.attributes=n,this.children=r}get isEmpty(){return this.children.length===0}get preserveWhitespace(){let e=this;for(;e instanceof Hh;){if("xml:space"in e.attributes)return e.attributes["xml:space"]==="preserve";e=e.parent}return!1}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return qh.TYPE_ELEMENT}toJSON(){return Object.assign(qh.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(e=>e.toJSON())})}}var zh=Hh;const YD=zh,Yh=Es;class XD extends Yh{constructor(e=[]){super(),this.children=e}get document(){return this}get root(){return this.children.find(e=>e instanceof YD)||null}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return Yh.TYPE_DOCUMENT}toJSON(){return Object.assign(Yh.prototype.toJSON.call(this),{children:this.children.map(e=>e.toJSON())})}}var u_=XD;const Xh=Es;class KD extends Xh{constructor(e,n=""){super(),this.name=e,this.content=n}get type(){return Xh.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(Xh.prototype.toJSON.call(this),{name:this.name,content:this.content})}}var c_=KD;const ZD=FD,ws=ki,JD=o_,QD=l_,eI=u_,tI=zh,f_=c_,h_=Bh,Kh="";class nI{constructor(e,n={}){for(this.document=new eI,this.currentNode=this.document,this.options=n,this.scanner=new ZD(iI(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}addNode(e){e.parent=this.currentNode,this.currentNode.children.push(e)}addText(e){let{children:n}=this.currentNode;if(n.length>0){let r=n[n.length-1];if(r instanceof h_){r.text+=e;return}}this.addNode(new h_(e))}consumeAttributeValue(){let{scanner:e}=this,n=e.peek();if(n!=='"'&&n!=="'")return!1;e.advance();let r,i=!1,s=Kh,a=n==='"'?/[^"&<]+/y:/[^'&<]+/y;e:for(;!e.isEnd;)switch(r=e.consumeMatch(a),r&&(this.validateChars(r),s+=r.replace(/[\t\r\n]/g," ")),e.peek()){case n:i=!0;break e;case"&":s+=this.consumeReference();continue;case"<":this.error("Unescaped `<` is not allowed in an attribute value");break;case Kh:this.error("Unclosed attribute");break}return i||this.error("Unclosed attribute"),e.advance(),s}consumeCdataSection(){let{scanner:e}=this;if(!e.consumeStringFast("<![CDATA["))return!1;let n=e.consumeUntilString("]]>");return this.validateChars(n),e.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new JD(n)):this.addText(n),!0}consumeCharData(){let{scanner:e}=this,n=e.consumeUntilMatch(/<|&|]]>/g);return n?(this.validateChars(n),e.peek()==="]"&&e.peek(3)==="]]>"&&this.error("Element content may not contain the CDATA section close delimiter `]]>`"),this.addText(n),!0):!1}consumeComment(){let{scanner:e}=this;if(!e.consumeStringFast("<!--"))return!1;let n=e.consumeUntilString("--");return this.validateChars(n),e.consumeStringFast("-->")||(e.peek(2)==="--"?this.error("The string `--` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new QD(n.trim())),!0}consumeContentReference(){let e=this.consumeReference();return e?(this.addText(e),!0):!1}consumeDoctypeDeclaration(){let{scanner:e}=this;return!e.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace()?!1:(e.consumeMatch(/[^[>]+/y),e.consumeMatch(/\[[\s\S]+?\][\x20\t\r\n]*>/y)||e.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}consumeElement(){let{scanner:e}=this,n=e.charIndex;if(e.peek()!=="<")return!1;e.advance();let r=this.consumeName();if(!r)return e.reset(n),!1;let i=Object.create(null);for(;this.consumeWhitespace();){let o=this.consumeName();if(!o)continue;let l=this.consumeEqual()&&this.consumeAttributeValue();l===!1&&this.error("Attribute value expected"),o in i&&this.error(`Duplicate attribute: ${o}`),o==="xml:space"&&l!=="default"&&l!=="preserve"&&this.error('Value of the `xml:space` attribute must be "default" or "preserve"'),i[o]=l}if(this.options.sortAttributes){let o=Object.keys(i).sort(),l=Object.create(null);for(let u=0;u<o.length;++u){let f=o[u];l[f]=i[f]}i=l}let s=Boolean(e.consumeStringFast("/>")),a=new tI(r,i);if(a.parent=this.currentNode,!s){for(e.consumeStringFast(">")||this.error(`Unclosed start tag for element \`${r}\``),this.currentNode=a,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();let o=e.charIndex,l;(!e.consumeStringFast("</")||!(l=this.consumeName())||l!==r)&&(e.reset(o),this.error(`Missing end tag for element ${r}`)),this.consumeWhitespace(),e.consumeStringFast(">")||this.error(`Unclosed end tag for element ${r}`),this.currentNode=a.parent}return this.addNode(a),!0}consumeEqual(){return this.consumeWhitespace(),this.scanner.consumeStringFast("=")?(this.consumeWhitespace(),!0):!1}consumeMisc(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}consumeName(){return ws.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(ws.isNameChar):Kh}consumeProcessingInstruction(){let{scanner:e}=this,n=e.charIndex;if(!e.consumeStringFast("<?"))return!1;let r=this.consumeName();if(r?r.toLowerCase()==="xml"&&(e.reset(n),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(e.consumeStringFast("?>"))return this.addNode(new f_(r)),!0;this.error("Whitespace is required after a processing instruction name")}let i=e.consumeUntilString("?>");return this.validateChars(i),e.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new f_(r,i)),!0}consumeProlog(){let{scanner:e}=this,n=e.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return n<e.charIndex}consumeReference(){let{scanner:e}=this;if(e.peek()!=="&")return!1;e.advance();let n=e.consumeMatchFn(ws.isReferenceChar);e.consume()!==";"&&this.error("Unterminated reference (a reference must end with `;`)");let r;if(n[0]==="#"){let i=n[1]==="x"?parseInt(n.slice(2),16):parseInt(n.slice(1),10);isNaN(i)&&this.error("Invalid character reference"),r=String.fromCodePoint(i),ws.isXmlChar(r)||this.error("Character reference resolves to an invalid character")}else if(r=ws.predefinedEntities[n],r===void 0){let{ignoreUndefinedEntities:i,resolveUndefinedEntity:s}=this.options,a=`&${n};`;if(s){let o=s(a);if(o!=null){let l=typeof o;if(l!=="string")throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${l}`);return o}}if(i)return a;e.reset(-a.length),this.error(`Named entity isn't defined: ${a}`)}return r}consumeSystemLiteral(){let{scanner:e}=this,n=e.consumeStringFast('"')||e.consumeStringFast("'");if(!n)return!1;let r=e.consumeUntilString(n);return this.validateChars(r),e.consumeStringFast(n)||this.error("Missing end quote"),r}consumeWhitespace(){return Boolean(this.scanner.consumeMatchFn(ws.isWhitespace))}consumeXmlDeclaration(){let{scanner:e}=this;if(!e.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");let n=Boolean(e.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(n===!1?this.error("XML version is missing or invalid"):/^1\.[0-9]+$/.test(n)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(e.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();let i=Boolean(e.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();i&&(i!=="yes"&&i!=="no"&&this.error('Only "yes" and "no" are permitted as values of `standalone`'),this.consumeWhitespace())}return e.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}error(e){let{charIndex:n,string:r}=this.scanner,i=1,s="",a=1;for(let f=0;f<n;++f){let c=r[f];c===`
`?(i=1,s="",a+=1):(i+=1,s+=c)}let o=r.indexOf(`
`,n);s+=o===-1?r.slice(n):r.slice(n,o);let l=0;s.length>50&&(i<40?s=s.slice(0,50):(l=i-20,s=s.slice(l,i+30)));let u=new Error(`${e} (line ${a}, column ${i})
  ${s}
`+" ".repeat(i-l+1)+`^
`);throw Object.assign(u,{column:i,excerpt:s,line:a,pos:n}),u}validateChars(e){let n=0;for(let r of e)ws.isNotXmlChar(r)&&(this.scanner.reset(-([...e].length-n)),this.error("Invalid character")),n+=1}}var rI=nI;function iI(t){return t[0]==="\uFEFF"&&(t=t.slice(1)),t.replace(/\r\n?/g,`
`)}const sI=rI,aI=o_,oI=l_,lI=u_,uI=zh,cI=Es,fI=c_,hI=Bh;function Ri(t,e){return new sI(t,e).document}Ri.XmlCdata=aI,Ri.XmlComment=oI,Ri.XmlDocument=lI,Ri.XmlElement=uI,Ri.XmlNode=cI,Ri.XmlProcessingInstruction=fI,Ri.XmlText=hI;var dI=Ri;class pI extends Error{constructor(e){super(e)}}function mI(t){let e=null;try{e=dI(t)}catch(n){throw new pI(n.message)}return e}function Xr(t){return t.children[0]}function Wu(t){const e=t.indexOf(":");return e>-1?t.substr(e+1):t}function qu(t){return t.name||""}function Yt(t,e,n){const r=Wu(e);function i(s,a){return Wu(qu(a))===r&&s.push(a),n&&Array.isArray(a.children)?[...s,...a.children.reduce(i,[])]:s}return t&&Array.isArray(t.children)?t.children.reduce(i,[]):[]}function Me(t,e,n){return Yt(t,e,n)[0]||null}function Po(t){return t&&Array.isArray(t.children)?[...t.children.filter(e=>e.constructor.name==="XmlElement")]:[]}function Ke(t){const e=t&&Array.isArray(t.children)?t.children.find(n=>n.type==="text"):null;return e?e.text:""}function xr(t,e){return t&&t.attributes[e]||""}const d_=["utf-8","utf-16","iso-8859-1"],p_="utf-8";function gI(t){const e=/charset=([^;]+)/.exec(t);return e?e[1]:null}function yI(t,e){const n=e?gI(e):null,r=n?[n,...d_]:d_;for(const i of r)try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch{}return console.warn(`XML document encoding could not be determined, falling back to ${p_}.`),new TextDecoder(p_).decode(t)}const Hu=new Map;function vI(t){if(Hu.has(t))return Hu.get(t);const e=fetch(t);return e.finally(()=>Hu.delete(t)),Hu.set(t,e),e}function Zh(t){return vI(t).catch(()=>fetch(t,{method:"HEAD",mode:"no-cors"}).catch(e=>{throw new Vh(`Fetching the document failed either due to network errors or unreachable host, error is: ${e.message}`,0,!1)}).then(()=>{throw new Vh("The document could not be fetched due to CORS limitations",0,!0)})).then(async e=>{if(!e.ok){const i=await e.text();throw new Vh(`Received an error with code ${e.status}: ${i}`,e.status,!1)}const n=await e.arrayBuffer(),r=e.headers.get("Content-Type");return yI(n,r)}).then(e=>mI(e))}function Jh(t,e){const n=t.match(/(https?%3A%2F%2F[^/]+)$/);if(n){const o=n[1],l=Jh(decodeURIComponent(o),e);return t.replace(o,encodeURIComponent(l))}const r=new URL(t),i=Object.keys(e),s=i.map(o=>o.toLowerCase()),a=[];for(const o of r.searchParams.keys())s.indexOf(o.toLowerCase())>-1&&a.push(o);return a.map(o=>r.searchParams.delete(o)),i.forEach(o=>r.searchParams.set(o,e[o]===!0?"":e[o])),r.toString()}let _I=1e3*60*60;function bI(){return _I}const $i="caches"in self?caches.open("ogc-client"):null;async function EI(t,...e){if(!$i)return;const n="https://cache/"+e.join("/");await(await $i).put(n,new Response(JSON.stringify(t),{headers:{"x-expiry":(Date.now()+bI()).toString(10)}}))}async function wI(...t){if(!$i)return!1;const e="https://cache/"+t.join("/");return(await $i).match(e).then(r=>!!r&&parseInt(r.headers.get("x-expiry"))>Date.now())}async function SI(...t){if(!$i)return null;const e="https://cache/"+t.join("/"),r=await(await $i).match(e);return r?r.clone().json():null}const zu=new Map;async function OI(t,...e){if(await xI(),await wI(...e))return SI(...e);const n=e.join("#");if(zu.has(n))return zu.get(n);const r=t();r instanceof Promise&&(r.then(()=>zu.delete(n)),zu.set(n,r));const i=await r;return await EI(i,...e),i}async function xI(){if(!$i)return;const t=await $i,e=await t.keys();for(let n of e){const r=await t.match(n);parseInt(r.headers.get("x-expiry"))<=Date.now()&&await t.delete(n)}}function MI(t,e,n,r,i,s,a,o,l,u){const f=e==="2.0.0"?"TYPENAMES":"TYPENAME",c=e==="2.0.0"?"COUNT":"MAXFEATURES",h={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:e,[f]:n};if(r!==void 0&&(h.OUTPUTFORMAT=r),s!==void 0&&(h.PROPERTYNAME=s.join(",")),a?(h.RESULTTYPE="hits",h[c]="1"):i!==void 0&&(h[c]=i.toString(10)),o&&(h.SRSNAME=o),l){const d=l.join(",");h.BBOX=u?`${d},${u}`:d}return Jh(t,h)}class TI{constructor(e){const n=Jh(e,{SERVICE:"WMS",REQUEST:"GetCapabilities"});this._capabilitiesPromise=OI(()=>RD(n),"WMS","CAPABILITIES",n).then(({info:r,layers:i,version:s})=>{this._info=r,this._layers=i,this._version=s}),this._info=null,this._layers=null,this._version=null}isReady(){return this._capabilitiesPromise.then(()=>this)}getServiceInfo(){return this._info}getLayers(){function e(n){return{title:n.title,name:n.name,abstract:n.abstract,..."children"in n&&{children:n.children.map(e)}}}return this._layers.map(e)}getLayerByName(e){let n=null;function r(i){if(n===null){if(i.name===e){n=i;return}"children"in i&&i.children.map(r)}}return this._layers.map(r),n}getVersion(){return this._version}}const NI=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function LI(t){return NI.indexOf(Qh(t))>-1}function Qh(t){return/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())?`EPSG:${/([0-9]+)$/.exec(t)[1]}`:t}function m_(t){return Xr(t).attributes.version}function CI(t){const e=m_(t),n=Me(Xr(t),"Capability");return Yt(n,"Layer").map(r=>g_(r,e))}function AI(t){const e=Me(Xr(t),"Service"),n=Yt(Me(e,"KeywordList"),"Keyword").map(Ke).filter((r,i,s)=>s.indexOf(r)===i);return{title:Ke(Me(e,"Title")),name:Ke(Me(e,"Name")),abstract:Ke(Me(e,"Abstract")),fees:Ke(Me(e,"Fees")),constraints:Ke(Me(e,"AccessConstraints")),keywords:n}}function g_(t,e,n=[],r=[],i=null){const s=e==="1.3.0"?"CRS":"SRS",a=Yt(t,s).map(Ke),o=a.length>0?a:n,l=Yt(t,"Style").map(PI),u=l.length>0?l:r;function f(p){const m=xr(p,s);return(LI(m)&&e==="1.3.0"?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(y=>xr(p,y))}const c=Me(t,"Attribution"),h=c!==null?DI(c):i,d=Yt(t,"Layer").map(p=>g_(p,e,o,u,h));return{name:Ke(Me(t,"Name")),title:Ke(Me(t,"Title")),abstract:Ke(Me(t,"Abstract")),availableCrs:o,styles:u,attribution:h,boundingBoxes:Yt(t,"BoundingBox").reduce((p,m)=>({...p,[xr(m,s)]:f(m)}),{}),...d.length&&{children:d}}}function PI(t){const e=xr(Me(Me(t,"LegendURL"),"OnlineResource"),"xlink:href");return{name:Ke(Me(t,"Name")),title:Ke(Me(t,"Title")),...e&&{legendUrl:e}}}function DI(t){const e=xr(Me(Me(t,"LogoURL"),"OnlineResource"),"xlink:href"),n=xr(Me(t,"OnlineResource"),"xlink:href"),r=Ke(Me(t,"Title"));return{...r&&{title:r},...n&&{url:n},...e&&{logoUrl:e}}}function Yu(t){return Xr(t).attributes.version}function y_(t){const e=Yu(t);let n;if(e.startsWith("1.0")){const r=Me(Me(Me(Xr(t),"Capability"),"Request"),"GetFeature");n=Po(Me(r,"ResultFormat")).map(qu)}else{const r=Me(Xr(t),"OperationsMetadata"),i=Yt(r,"Operation").find(a=>xr(a,"name")==="GetFeature"),s=Yt(i,"Parameter").find(a=>xr(a,"name")==="outputFormat");n=Yt(s,"Value",!0).map(Ke)}return n}function II(t){const e=Yu(t),n=e.startsWith("1.0")?"Service":"ServiceIdentification",r=e.startsWith("1.0")?"Name":"ServiceType",i=Me(Xr(t),n);let s;return e.startsWith("1.0")?s=Ke(Me(i,"Keywords")).split(",").map(a=>a.trim()):s=Yt(Me(i,"Keywords"),"Keyword").map(Ke),{title:Ke(Me(i,"Title")),name:Ke(Me(i,r)),abstract:Ke(Me(i,"Abstract")),fees:Ke(Me(i,"Fees")),constraints:Ke(Me(i,"AccessConstraints")),keywords:s,outputFormats:y_(t)}}function kI(t){const e=Yu(t),n=y_(t),r=Me(Xr(t),"FeatureTypeList");return Yt(r,"FeatureType").map(i=>RI(i,e,n))}function RI(t,e,n){const r=e.startsWith("2.")?"CRS":"SRS",i=e.startsWith("1.0")?"SRS":`Default${r}`;function s(){const u=Me(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(f=>xr(u,f)).map(parseFloat)}function a(){const u=Me(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(f=>Me(u,f)).map(f=>Ke(f).split(" ")).reduce((f,c)=>[...f,...c]).map(parseFloat)}const o=e.startsWith("1.0")?[]:Yt(t,`Other${r}`).map(Ke).map(Qh),l=e.startsWith("1.0")?[]:Yt(Me(t,"OutputFormats"),"Format").map(Ke);return{name:Ke(Me(t,"Name")),title:Ke(Me(t,"Title")),abstract:Ke(Me(t,"Abstract")),defaultCrs:Qh(Ke(Me(t,i))),otherCrs:o,outputFormats:l.length>0?l:n,latLonBoundingBox:e.startsWith("1.0")?s():a()}}function $I(t,e,n){const r=Xr(t);let i;if(n.startsWith("2.0"))i=Yt(r,"member").map(u=>Po(u)[0]);else{const u=Me(r,"featureMembers");i=u?Po(u):Yt(r,"featureMember").map(f=>Po(f)[0])}const s=n==="1.0.0"?"fid":"gml:id";function a(u){return u in e.properties}function o(u,f){switch(e.properties[u]){case"integer":return parseInt(f);case"float":return parseFloat(f);case"boolean":return f==="true";default:return f}}function l(u){return Po(u).filter(f=>a(Wu(qu(f)))).reduce((f,c)=>{const h=Wu(qu(c));return{...f,[h]:o(h,Ke(c))}},{})}return i.map(u=>({id:xr(u,s),properties:l(u)}))}function FI(t){return t.reduce((e,n)=>{for(const r in n.properties){const i=n.properties[r];r in e||(e[r]={uniqueValues:[]});const s=e[r].uniqueValues.find(a=>a.value===i);s?s.count++:e[r].uniqueValues.push({value:i,count:1})}return e},{})}jh("parseWmsCapabilities",self,({url:t})=>Zh(t).then(e=>({info:AI(e),layers:CI(e),version:m_(e)}))),jh("parseWfsCapabilities",self,({url:t})=>Zh(t).then(e=>({info:II(e),featureTypes:kI(e),version:Yu(e)}))),jh("queryWfsFeatureTypeDetails",self,({url:t,serviceVersion:e,featureTypeFull:n})=>{const r=MI(t,e,n.name,void 0,void 0,Object.keys(n.properties));return Zh(r).then(i=>({props:FI($I(i,n,e))}))});const VI=()=>[{url:"http://wmts1.geoportail.lu/opendata/service",label:"Open Data Webservices WMS"},{url:"http://ows.terrestris.de/osm-gray/service",label:"OpenStreetMap by Terrestris (Grey)"},{url:"http://ows.terrestris.de/osm/service",label:"OpenStreetMap by Terrestris (Color)"}];class jI{constructor(e){nt(this,"capabilitiesPromise");nt(this,"serviceInfo");nt(this,"layers");const n=new L1.default;let r="&";e.indexOf("?")===-1&&(r="?"),e.indexOf("Capabilities")===-1&&(e=e+r+"SERVICE=WMTS&REQUEST=GetCapabilities"),this.capabilitiesPromise=fetch(e).then(i=>i.text()).then(i=>{var a;const s=n.read(i);this.serviceInfo=this.mapServiceInfo(s.ServiceIdentification),this.layers=this.mapToRemoteLayers((a=s.Contents)==null?void 0:a.Layer)})}mapToRemoteLayers(e){return[{type:jn.WMTS,children:e.map(n=>({type:jn.WMTS,abstract:n.Abstract,format:n.Format,name:n.Identifier,title:n.Title,tileMatrixSetLink:n.TileMatrixSetLink,wgs84BoundingBox:n.WGS84BoundingBox}))}]}mapServiceInfo(e){return{type:jn.WMTS,title:e.Title,abstract:e.Abstract,fees:e.Fees,constraints:e.AccessConstraints,serviceTypeVersion:e.ServiceTypeVersion}}isReady(){return this.capabilitiesPromise.then(()=>this)}getLayerByName(e){return this.layers[0].children.filter(n=>n.name===e)[0]}getLayers(){return this.layers}getServiceInfo(){return this.serviceInfo}}class GI{async getRemoteEndpoint(e){let n;return await this.getWmsEndpoint(e).isReady().catch(async()=>{n=await this.getWmtsEndpoint(e).isReady()})||n}getWmsEndpoint(e){return new TI(vs.getProxyfiedUrl(e))}getWmtsEndpoint(e){return new jI(vs.getProxyfiedUrl(e))}async fetchRemoteWmsEndpoint(){return new Promise(e=>e(VI()))}isRemoteLayer(e){return typeof e=="string"&&(e.indexOf(jn.WMS)===0||e.indexOf(jn.WMTS)===0)}}const Do=new GI,UI={class:"relative text-center"},BI=["placeholder","value"],WI={key:0,class:"text-center"},qI={class:"lux-label"},HI={key:1,class:"text-center"},zI={class:"lux-label"},YI={key:2,class:"text-center"},XI=C("div",{class:"fa fa-refresh fa-spin"},null,-1),KI={key:3,class:"overflow-auto max-h-[calc(400px-36px)]"},v_=pe(ce({__name:"remote-layers",setup(t){const{t:e}=Ue(),n=it(),r=En(),i=at([]),s=at(),{remoteLayersOpen:a}=Pe(rt()),{setRemoteLayersOpen:o}=rt();let l=!1,u,f,c;on(h);function h(){s.value=s.value?ha.updateLayers(s.value,n.layers):void 0}Do.fetchRemoteWmsEndpoint().then(b=>{i.value=b.map(({url:O,label:T})=>({label:T,value:O}))});async function d(b){l=!0,c=await Do.getRemoteEndpoint(b).catch(()=>alert(e("Impossible de contacter ce WMS",{ns:"client"}))),f=b,l=!1}async function p(){const b=c,O=b==null?void 0:b.getLayers();if(O&&O[0]){const T=n_(O[0],f);s.value=ha.updateLayers(T,n.layers)}}async function m(b){f=u=b,await d(f),p()}function g(b){u=b.target.value}async function y(){await d(u),p()}function v(b){s.value=ha.toggleNode(b.id,s.value,"expanded")}function E(b){const{id:O,name:T}=b,M=c;if(b.checked===!0)n.removeLayers(O);else{const R=M==null?void 0:M.getLayerByName(T);if(R){const F=r.initLayer(r_({id:O,url:vs.getProxyfiedUrl(f),remoteLayer:R}));n.addLayers(F)}}}return(b,O)=>w(a)?(L(),$e(t_,{key:0,title:w(e)("Add external data",{ns:"client"}),onClose:O[0]||(O[0]=T=>w(o)(!1))},{content:jt(()=>{var T,M;return[C("div",UI,[Q(Kf,{class:"lux-remote-services-dropdown",options:i.value,placeholder:w(e)("Predefined wms",{ns:"client"}),onChange:m},null,8,["options","placeholder"]),C("input",{class:"lux-input w-[300px]",type:"url",placeholder:w(e)("Choose or write a WMS url",{ns:"client"}),value:w(f)||"",onChange:g},null,40,BI),C("button",{type:"button",class:"lux-btn",onClick:y},ae(w(e)("Get the layers",{ns:"client"})),1)]),!w(l)&&w(c)?(L(),$("div",WI,[C("span",qI,ae(w(e)("Description du service :",{ns:"client"})),1),ja(" "+ae((T=w(c).getServiceInfo())==null?void 0:T.abstract),1)])):I("v-if",!0),!w(l)&&w(c)?(L(),$("div",HI,[C("span",zI,ae(w(e)("Access constraints :",{ns:"client"})),1),ja(" "+ae((M=w(c).getServiceInfo())==null?void 0:M.constraints),1)])):I("v-if",!0),w(l)?(L(),$("div",YI,[XI,C("span",null,ae(w(e)("Chargement des informations",{ns:"client"})),1)])):I("v-if",!0),w(l)?I("v-if",!0):(L(),$("div",KI,[s.value?(L(),$e(Fh,{key:0,class:"block p-[10px] mb-[11px]",node:s.value,onToggleParent:v,onToggleLayer:E},null,8,["node"])):I("v-if",!0)]))]}),_:1},8,["title"])):I("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/remote-layers/remote-layers.vue"]]);function ZI(t,e="fr-FR"){const n=new Date(t);return new Intl.DateTimeFormat(e).format(n)}const JI={class:"font-bold"},QI={class:"col-span-2"},Io=pe(ce({__name:"layer-metadata-item",props:{label:{type:String,required:!0},value:{type:String,required:!0}},setup(t){const e=t;return(n,r)=>(L(),$(Fe,null,[C("span",JI,ae(e.label),1),C("span",QI,ae(e.value),1)],64))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-metadata/layer-metadata-item.vue"]]);function ek(t){return{fr:"fre",en:"eng",de:"ger",lb:"ltz"}[t.toLowerCase()]}function tk(t){return new DOMParser().parseFromString(t,"text/html").body}function nk(t){const e=[];function n(r){const i=r.split("|");i[3]==="WWW:LINK-1.0-http--link"&&e.indexOf(i[2])===-1&&e.push(i[2])}return Array.isArray(t)?t.forEach(n,t):n(t),e}function rk(t){const n=(Array.isArray(t)?t:[t]).filter(r=>r.split("|")[1]==="metadata");return{organisaton:n[0].split("|")[2],name:n[0].split("|")[5],unknown:n[0].split("|")[6],address:n[0].split("|")[7],email:n[0].split("|")[4]}}class __{}class ik extends __{async getMetadata(e,n,r){console.assert(e===jn.WMS);const i=Do.getWmsEndpoint(n);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(r);return{title:a.title,description:a.abstract,keywords:s.keywords,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const sk=new ik;class ak extends __{async getMetadata(e,n,r){console.assert(e===jn.WMTS);const i=Do.getWmtsEndpoint(n);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(r);return{title:a.title,description:a.abstract,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const ok=new ak;class lk{async getMetadata(e,n,r){if(e===jn.WMS)return sk.getMetadata(e,n,r);if(e===jn.WMTS)return ok.getMetadata(e,n,r);throw new Error(`Unsupported service type: ${e}`)}}const uk=new lk;class ck{constructor(){nt(this,"geonetworkBaseUrl","https://geocatalogue.geoportail.lu/geonetwork/srv");nt(this,"legendBaseUrl","https://map.geoportail.lu/legends/get_html");nt(this,"localMetadataBaseUrl","https://map.geoportail.lu/getMetadata")}async getLayerMetadata(e,n){const r=Hr(),i=r.findBgLayerById(+e)||r.findById(+e)||r.find3dLayerById(+e);if(i){const s=i.metadata,a=s==null?void 0:s.metadata_id,o=a&&await this.getLocalMetadata(this.localMetadataBaseUrl,a,n),l=i.name,u=(s==null?void 0:s.legend_name)||"",f=i==null?void 0:i.id,c=u&&await this.getLegendHtml(this.legendBaseUrl,u,f,n);return{...o,title:l,hasLegend:!!c,...c&&{legendHtml:c}}}else{const[s,a,o]=String(e).split("%2D").join("-").split("||");return uk.getMetadata(s,a,o)}}getLocalMetadata(e,n,r){return fetch(`${e}?lang=${r}&uid=${n}`).then(async i=>{const s=(await i.json()).metadata;return{name:s.title,serviceDescription:s.serviceDescription,description:s.abstract,legalConstraints:s.legalConstraints,link:nk(s.link),revisionDate:s.revisionDate,keyword:s.keyword,responsibleParty:s.responsibleParty?rk(s.responsibleParty):void 0,metadataLink:`${this.geonetworkBaseUrl}/${ek(r)}/catalog.search#/metadata/${n}`,isError:!1}}).catch(()=>({isError:!0}))}getLegendHtml(e,n,r,i){const s={lang:i,...n&&{name:n},...r&&{id:r.toString()}};if(s.name&&s.lang){window.devicePixelRatio>1&&(s.dpi=(window.devicePixelRatio*96).toString());const a=`${e}?${new URLSearchParams(s).toString()}`;return fetch(a).then(async o=>{if(o.status>=400&&o.status<600)throw new Error("Server responded with error code");const l=await o.text();return l?tk(l):void 0}).catch(()=>{})}}}const b_=new ck,fk={class:"grid gap-2 grid-cols-3 pt-3 text-[13px] font-arial break-words"},hk={key:2,class:"col-span-3 grid gap-2 grid-cols-3"},dk={class:"font-bold"},pk={class:"col-span-2"},mk=["title"],gk=["title"],yk={key:4,class:"col-span-3"},vk={class:"font-bold"},_k={class:"col-span-2"},bk=["href"],Ek={key:7,class:"col-span-3 grid gap-2 grid-cols-3"},wk={class:"font-bold"},Sk={class:"col-span-2"},Ok={key:0},xk={key:1},Mk={key:2},Tk={key:3},Nk={key:4},Lk=["href"],Ck={key:8,class:"grid gap-2 grid-cols-3 col-span-3"},Ak={class:"font-bold"},Pk={class:"col-span-2"},Dk=["href"],Ik={key:9,class:"col-span-3"},kk={key:10},Rk={class:"text-xl"},$k={key:11,class:"col-span-3"},ed=220,E_=pe(ce({__name:"layer-metadata",setup(t){const e=$h(),{metadataId:n}=Pe(e),{t:r,i18next:i}=Ue(),s=ge(),a=ge(!0);Ge(n,async c=>{var h,d;s.value=c?await b_.getLayerMetadata(c,i.language):void 0,a.value=(((d=(h=s.value)==null?void 0:h.description)==null?void 0:d.length)||0)<ed}),ln(()=>{i.on("languageChanged",async()=>{n.value&&(s.value=await b_.getLayerMetadata(n.value,i.language))})});const o=fe(()=>{var c,h,d;return a.value?(c=s.value)==null?void 0:c.description:(d=(h=s.value)==null?void 0:h.description)==null?void 0:d.slice(0,ed)});function l(){a.value=!0}function u(){a.value=!1}function f(){e.clearMetadataId()}return(c,h)=>{const d=Yc("dompurify-html");return s.value?(L(),$e(t_,{key:0,footer:!1,"max-height":!0,title:w(r)(`${s.value.title}`,{ns:"client"}),onClose:f},{content:jt(()=>{var p,m,g,y,v,E,b,O,T,M,R,F,A,D,P;return[C("div",fk,[s.value.name?(L(),$e(Io,{key:0,label:w(r)("Name"),value:s.value.name},null,8,["label","value"])):I("v-if",!0),s.value.serviceDescription?(L(),$e(Io,{key:1,label:w(r)("Description du Service"),value:s.value.serviceDescription},null,8,["label","value"])):I("v-if",!0),s.value.description?(L(),$("div",hk,[C("span",dk,ae(w(r)("Description")),1),C("span",pk,[Sl(C("span",null,null,512),[[d,o.value]]),a.value?I("v-if",!0):(L(),$("button",{key:0,title:w(r)("Display full description",{ns:"app"}),onClick:l,class:"text-secondary hover:underline"}," ... ",8,mk)),a.value&&(((p=o.value)==null?void 0:p.length)||0)>ed?(L(),$("button",{key:1,title:w(r)("Hide full description",{ns:"app"}),onClick:u,class:"text-secondary hover:underline"}," - ",8,gk)):I("v-if",!0)])])):I("v-if",!0),s.value.legalConstraints?(L(),$e(Io,{key:3,label:w(r)("Contrainte d'utilisation"),value:s.value.legalConstraints},null,8,["label","value"])):I("v-if",!0),((m=s.value.link)==null?void 0:m.length)!==0?(L(),$("div",yk,[(L(!0),$(Fe,null,Ln(s.value.link,te=>(L(),$("div",{class:"grid gap-2 grid-cols-3",key:te},[C("span",vk,ae(w(r)("Url vers la resource")),1),C("span",_k,[C("a",{class:"text-secondary hover:underline",target:"_blank",href:te},ae(te),9,bk)])]))),128))])):I("v-if",!0),s.value.revisionDate?(L(),$e(Io,{key:5,label:w(r)("Revision date"),value:w(ZI)(s.value.revisionDate,w(i).language)},null,8,["label","value"])):I("v-if",!0),s.value.keyword?(L(),$e(Io,{key:6,label:w(r)("Keywords"),value:(g=s.value.keyword)==null?void 0:g.join(",")},null,8,["label","value"])):I("v-if",!0),s.value.responsibleParty?(L(),$("div",Ek,[C("div",wk,ae(w(r)("Contact")),1),C("div",Sk,[(y=s.value.responsibleParty)!=null&&y.organisaton?(L(),$("p",Ok,ae((v=s.value.responsibleParty)==null?void 0:v.organisaton),1)):I("v-if",!0),(E=s.value.responsibleParty)!=null&&E.name?(L(),$("p",xk,ae((b=s.value.responsibleParty)==null?void 0:b.name),1)):I("v-if",!0),(O=s.value.responsibleParty)!=null&&O.unknown?(L(),$("p",Mk,ae((T=s.value.responsibleParty)==null?void 0:T.unknown),1)):I("v-if",!0),(M=s.value.responsibleParty)!=null&&M.address?(L(),$("p",Tk,ae((R=s.value.responsibleParty)==null?void 0:R.address),1)):I("v-if",!0),(F=s.value.responsibleParty)!=null&&F.email?(L(),$("p",Nk,[C("a",{class:"text-secondary hover:underline",href:"mailto:"+((A=s.value.responsibleParty)==null?void 0:A.email)},ae((D=s.value.responsibleParty)==null?void 0:D.email),9,Lk)])):I("v-if",!0)])])):I("v-if",!0),s.value.metadataLink?(L(),$("div",Ck,[C("span",Ak,ae(w(r)("Link to the metadata")),1),C("span",Pk,[C("a",{class:"text-secondary hover:underline",target:"_blank",href:s.value.metadataLink},ae(w(r)("link")),9,Dk)])])):I("v-if",!0),s.value.isError?(L(),$("div",Ik,ae(w(r)("The metadata is right now not available")),1)):I("v-if",!0),s.value.legendHtml?(L(),$("div",kk,[C("h4",Rk,ae(w(r)("Legend")),1),Sl(C("span",null,null,512),[[d,(P=s.value.legendHtml)==null?void 0:P.innerHTML]])])):I("v-if",!0),s.value.hasLegend?I("v-if",!0):(L(),$("div",$k,ae(w(r)("The legend is not available for this layer")),1))])]}),_:1},8,["title"])):I("v-if",!0)}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-metadata/layer-metadata.vue"]]),Fk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAAAoCAMAAABq645qAAACPVBMVEUAAABaW13////tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy5DjxTaAAAAvXRSTlMAAAABAgMEBQYHCAkKCwwNDg8QERESFBUWFxkaGx0eHyAhIiInKSosMTIzNTY5Ojs8PUFCQ0RERkpMTk9QU1RVVldaXmFjZWZmamtwcXJzdXd3eHl7fX+AgYKDhIaHiIiKi4yOj5CTlJWWl5iZmZqcnZ+goaKjpKanqKqqq6ywsbK0tbW4u7u8vb6/wMHExcbHysvMzM7P0NDS1NXa29zd3t/g4eTl5ujp6uvs7e7u8PLz9PX29/j5+vv8/f5cALqzAAAEcklEQVRo3u3Z+ZPUVBAH8O63LsLKijoIgotHFI+HgiKNeGC8MCqgUUFAJYjgAQ6HKMgGEQQiqChIPFh1iciiwPIEhvv49t/mD5lBORa2tHbLTO2rmqnUTCrJZ3r65ZuEjDHGGLrMWGcKMah7mh/7NP8PzXBqbqgfzdtPb7i/fjQPvq8r5jUVXNNIY4moYeL6+XNfn9Ov6LUZ2/Z7Pxo3YaZWTp/uLPw/reXYbqLRPz/38g+qJ/oTEV396IzmgmquXHZoIRHd/sTs31T1DqIBcyqHZjQWtTbf6nQiokHLVVWn7ju4euXGjsX9LtTAGgPAGGMzOPZSOGFYtmAXsO8skFkgZovQgi2QcZKyIGAAjJQtIgAB/5vRTc2IvbqSqOWNJQdUVdfe+/zitmsu2jeQ/GWMC43HacRhxhAWcJRyEgmYBSVYgROwgJkzeGVEDGEGotqnPaih1Xp63KSvVFVVtz0wt23AvMVda5AZY2FM7OWO/N2DwBMgESBiQZyABUgYSYQkYSBjhAh7QXN3Zfey7YdyzXh6aQpdu2fIpWsD30CykKOU4XPgmBPEnNcmC1jgIT9uCx9ZkOW1kQi9oBm6aMvO3KIVomUPES19/KIaoNo34uA8cUgtB4DzmQXCFoCFhbXgMtgC8DNGKMj7xnIKtj2toeGf55X5c9+ZRpo1lWjyq5c/33Avj+5obpz25miiwd+p6q4/2jfvIrqtrYlemF5MzZObTuhHCw6cUd2y/91ftj5DRJOn0JKniqm56jPtUNXDx44u6NywvaPzPqL+G5v3jCimhhqaX/vyi6VTxtzyYkVV9dSsRvrmnVXUI5oo7GkNEV2RH/igaRVV1Y8fOdE+tEc0tlzqBU1tND+7U1W18t51F8/QAFJrkUccL4VjABFb+MwoMyznszWzBZxfDT2SIbZgm0/TzBbIpLqcr8GwScJxfF4UiliAgGEZ1gKx8VK4bmuafmpdrqr6cFdXBJBSORPkp9A0ZI8hAi4jYQY8CEN8MDML2K/FBBdwKU80kOp3eSBirq7BkJJLstK5UShw+eYhDBGUYNPQeN3WTND2rd+r6oquNUZQ00A49gCEJQg8RhJD8j0DQX6IEBZYMLMAAANZrpHa8lkNBwjOi0Ion90KRIDIQEzsdVfzlurhT1X11F2XqE3qwfNQMiYLGYIYNgAQMcTltXHV3z9w1dAD/8LapH/XJt9eycWudG4U8lGrjYeSIAtMFlaD1SU1NxAR0cA9qrpqr6ruaOmybxLPREBojLEOzoMNkAXsO4YNYRnIpNo3WS30+EByXt+kttY3AEdAyGmZ4/TcKORCDgDhEAg5D0wO7vK1mbmwhajxA9XWkXTTh8dVj6wZX9gr6ZFL9eTm1nbVhUREdOs2Vb25sJqmRTuOq+r+rwfmgGEHVYcU+H7a8KNrdP6kYTXBJ6qPFVjT2DxwzD/msbWqE+vnrvqvevSeutGMUm0dXC+ahk3asb5unt+8cvLIqOvr52nU7Dv7nq31afo0/0mzrhiavwAx1n2SsZnMdgAAAABJRU5ErkJggg==";class Vk{bootstrap(){this.restore();let e;e=on(()=>{this.persist(),e&&e()})}persist(){const e=rt(),{lang:n}=Pe(e);Ge(n,(r,i)=>{i!==r&&(Ne.setValue(Di,r),document.documentElement.setAttribute("lang",r))},{immediate:!0})}restore(){const e=Ne.getValue(Di);if(e){const{setLang:n}=rt(),{i18next:r}=Ue();r.changeLanguage(e),n(e)}}}const jk=new Vk,Gk=pe(ce({__name:"language-selector",setup(t){const{i18next:e,t:n}=Ue(),{setLang:r}=rt(),{lang:i}=Pe(rt()),s=fe(()=>["en","de","fr","lb"].map(l=>({label:n(l),value:l,ariaLabel:n("Change language: {{lang}}",{ns:"app",lang:l})}))),a=n("Change language",{ns:"app"});jk.bootstrap();function o(l){e.changeLanguage(l),r(l)}return(l,u)=>(L(),$("div",null,[Q(Kf,{class:"lux-navbar-dropdown lux-dropdown-inline text-white h-full",options:s.value,placeholder:w(a),modelValue:w(i),"onUpdate:modelValue":u[0]||(u[0]=f=>tt(i)?i.value=f:null),onChange:o},null,8,["options","placeholder","modelValue"])]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/nav-bars/language-selector.vue"]]);class Uk{setCurrentThemeColors(e){const n=document.querySelector(":root");["primary","secondary","tertiary"].forEach(i=>{const s=getComputedStyle(n).getPropertyValue(`--${e}-${i}`);n.style.setProperty(`--color-${i}`,s)})}}const w_=new Uk,Bk={class:"w-full h-14 flex bg-white shadow-header z-10 shrink-0"},Wk=C("div",{class:"flex-2 p-[5px]"},[C("img",{src:Fk})],-1),qk=C("div",{class:"grow text-center"},"search",-1),Hk={class:"h-full flex"},zk={class:"hidden lg:inline-block"},Yk={class:"border-l-[1px] border-stone-300 h-full"},S_=pe(ce({__name:"header-bar",setup(t){const{t:e}=Ue(),n=rt(),{layersOpen:r,myLayersTabOpen:i,themeGridOpen:s}=Pe(n),{setLayersOpen:a,setMyLayersTabOpen:o,setThemeGridOpen:l}=n,u=zt(),{theme:f}=Pe(u);Ge(f,h=>{h&&w_.setCurrentThemeColors(h.name)},{immediate:!0});function c(){r.value?r.value&&(s.value?a(!1):(i.value&&o(!1),l(!0))):(a(!0),i.value&&o(!1),l(!0))}return(h,d)=>{var p,m;return L(),$("header",Bk,[Wk,qk,C("div",null,[C("ul",Hk,[C("li",null,[C("button",{class:Ie(["flex items-center before:font-icons before:text-3xl before:w-16 text-primary uppercase h-full mr-3",`before:content-${(p=w(f))==null?void 0:p.name}`]),onClick:c},[C("span",zk,ae(w(e)(`${(m=w(f))==null?void 0:m.name}`)),1)],2)]),C("li",Yk,[Q(Gk,{class:"flex-none h-full"})])])])])}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/header/header-bar.vue"]]),Xk={class:"block text-[13px] sm:text-base uppercase"},Kr=pe(ce({__name:"button-icon",props:{label:{type:String,required:!0},icon:{type:String,required:!0},active:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(L(),$("button",{class:Ie(["h-[42px] w-full sm:h-full sm:w-16 hover:text-white hover:bg-primary",e.active?"bg-primary text-white":""])},[C("span",{class:Ie(["block text-[1.7rem] sm:text-[2rem] -mt-1.5 -mb-3 after:font-icons",e.active?"lux-close-cross":`after:content-${e.icon}`])},null,2),C("span",Xk,ae(e.label),1)],2))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/footer/button-icon.vue"]]),Kk=["href"],Fi=pe(ce({__name:"button-link",props:{label:{type:String,required:!0},link:{type:String,required:!0}},setup(t){const e=t;return(n,r)=>(L(),$("a",{class:"h-full flex flex-col justify-center px-[7px] uppercase hover:text-white hover:bg-primary",href:`${e.link}`,target:"_blank"},ae(n.$props.label),9,Kk))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/footer/button-link.vue"]]),Zk={class:"block"},ko=pe(ce({__name:"button-text",props:{label:{type:String,required:!0},active:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(L(),$("button",{class:Ie(["h-16 w-16 text-white hover:bg-primary",e.active?"bg-primary":"bg-tertiary"])},[C("span",Zk,ae(e.label),1)],2))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/footer/button-text.vue"]]),td=wi("draw",()=>{const t=ge(void 0);function e(n){t.value===n?t.value=void 0:t.value=n}return{drawStateActive:t,toggleActiveState:e}});var Jk=0;function Qk(t){return t.ol_uid||(t.ol_uid=String(++Jk))}var nd="6.15.0",eR=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tR=function(t){eR(e,t);function e(n){var r=this,i=nd==="latest"?nd:"v"+nd.split("-")[0],s="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+n+" for details.";return r=t.call(this,s)||this,r.code=n,r.name="AssertionError",r.message=s,r}return e}(Error);const nR=tR;var rR=function(){function t(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();const rd=rR,iR={PROPERTYCHANGE:"propertychange"};var sR=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();const aR=sR;function O_(){}var x_=typeof Object.assign=="function"?Object.assign:function(t,e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var s=arguments[r];if(s!=null)for(var a in s)s.hasOwnProperty(a)&&(n[a]=s[a])}return n};function M_(t){for(var e in t)delete t[e]}function oR(t){var e;for(e in t)return!1;return!e}var lR=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),uR=function(t){lR(e,t);function e(n){var r=t.call(this)||this;return r.eventTarget_=n,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return e.prototype.addEventListener=function(n,r){if(!(!n||!r)){var i=this.listeners_||(this.listeners_={}),s=i[n]||(i[n]=[]);s.indexOf(r)===-1&&s.push(r)}},e.prototype.dispatchEvent=function(n){var r=typeof n=="string",i=r?n:n.type,s=this.listeners_&&this.listeners_[i];if(!!s){var a=r?new rd(n):n;a.target||(a.target=this.eventTarget_||this);var o=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,l[i]=0),++o[i];for(var u,f=0,c=s.length;f<c;++f)if("handleEvent"in s[f]?u=s[f].handleEvent(a):u=s[f].call(this,a),u===!1||a.propagationStopped){u=!1;break}if(--o[i]===0){var h=l[i];for(delete l[i];h--;)this.removeEventListener(i,O_);delete o[i]}return u}},e.prototype.disposeInternal=function(){this.listeners_&&M_(this.listeners_)},e.prototype.getListeners=function(n){return this.listeners_&&this.listeners_[n]||void 0},e.prototype.hasListener=function(n){return this.listeners_?n?n in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(n,r){var i=this.listeners_&&this.listeners_[n];if(i){var s=i.indexOf(r);s!==-1&&(this.pendingRemovals_&&n in this.pendingRemovals_?(i[s]=O_,++this.pendingRemovals_[n]):(i.splice(s,1),i.length===0&&delete this.listeners_[n]))}},e}(aR);const cR=uR,fR={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function id(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var s=n;n=function(){t.removeEventListener(e,n),s.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function T_(t,e,n,r){return id(t,e,n,r,!0)}function N_(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),M_(t))}var hR=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xu=function(t){hR(e,t);function e(){var n=t.call(this)||this;return n.on=n.onInternal,n.once=n.onceInternal,n.un=n.unInternal,n.revision_=0,n}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(fR.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(n,r){if(Array.isArray(n)){for(var i=n.length,s=new Array(i),a=0;a<i;++a)s[a]=id(this,n[a],r);return s}else return id(this,n,r)},e.prototype.onceInternal=function(n,r){var i;if(Array.isArray(n)){var s=n.length;i=new Array(s);for(var a=0;a<s;++a)i[a]=T_(this,n[a],r)}else i=T_(this,n,r);return r.ol_key=i,i},e.prototype.unInternal=function(n,r){var i=r.ol_key;if(i)dR(i);else if(Array.isArray(n))for(var s=0,a=n.length;s<a;++s)this.removeEventListener(n[s],r);else this.removeEventListener(n,r)},e}(cR);Xu.prototype.on,Xu.prototype.once,Xu.prototype.un;function dR(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)N_(t[e]);else N_(t)}const pR=Xu;var L_=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),C_=function(t){L_(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.key=r,s.oldValue=i,s}return e}(rd),mR=function(t){L_(e,t);function e(n){var r=t.call(this)||this;return r.on,r.once,r.un,Qk(r),r.values_=null,n!==void 0&&r.setProperties(n),r}return e.prototype.get=function(n){var r;return this.values_&&this.values_.hasOwnProperty(n)&&(r=this.values_[n]),r},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&x_({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(n,r){var i;i="change:".concat(n),this.hasListener(i)&&this.dispatchEvent(new C_(i,n,r)),i=iR.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new C_(i,n,r))},e.prototype.addChangeListener=function(n,r){this.addEventListener("change:".concat(n),r)},e.prototype.removeChangeListener=function(n,r){this.removeEventListener("change:".concat(n),r)},e.prototype.set=function(n,r,i){var s=this.values_||(this.values_={});if(i)s[n]=r;else{var a=s[n];s[n]=r,a!==r&&this.notify(n,a)}},e.prototype.setProperties=function(n,r){for(var i in n)this.set(i,n[i],r)},e.prototype.applyProperties=function(n){!n.values_||x_(this.values_||(this.values_={}),n.values_)},e.prototype.unset=function(n,r){if(this.values_&&n in this.values_){var i=this.values_[n];delete this.values_[n],oR(this.values_)&&(this.values_=null),r||this.notify(n,i)}},e}(pR);const gR=mR,Ku={ADD:"add",REMOVE:"remove"};var A_=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),P_={LENGTH:"length"},Zu=function(t){A_(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.element=r,s.index=i,s}return e}(rd),yR=function(t){A_(e,t);function e(n,r){var i=t.call(this)||this;i.on,i.once,i.un;var s=r||{};if(i.unique_=!!s.unique,i.array_=n||[],i.unique_)for(var a=0,o=i.array_.length;a<o;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(n){for(var r=0,i=n.length;r<i;++r)this.push(n[r]);return this},e.prototype.forEach=function(n){for(var r=this.array_,i=0,s=r.length;i<s;++i)n(r[i],i,r)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(n){return this.array_[n]},e.prototype.getLength=function(){return this.get(P_.LENGTH)},e.prototype.insertAt=function(n,r){this.unique_&&this.assertUnique_(r),this.array_.splice(n,0,r),this.updateLength_(),this.dispatchEvent(new Zu(Ku.ADD,r,n))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(n){this.unique_&&this.assertUnique_(n);var r=this.getLength();return this.insertAt(r,n),this.getLength()},e.prototype.remove=function(n){for(var r=this.array_,i=0,s=r.length;i<s;++i)if(r[i]===n)return this.removeAt(i)},e.prototype.removeAt=function(n){var r=this.array_[n];return this.array_.splice(n,1),this.updateLength_(),this.dispatchEvent(new Zu(Ku.REMOVE,r,n)),r},e.prototype.setAt=function(n,r){var i=this.getLength();if(n<i){this.unique_&&this.assertUnique_(r,n);var s=this.array_[n];this.array_[n]=r,this.dispatchEvent(new Zu(Ku.REMOVE,s,n)),this.dispatchEvent(new Zu(Ku.ADD,r,n))}else{for(var a=i;a<n;++a)this.insertAt(a,void 0);this.insertAt(n,r)}},e.prototype.updateLength_=function(){this.set(P_.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(n,r){for(var i=0,s=this.array_.length;i<s;++i)if(this.array_[i]===n&&i!==r)throw new nR(58)},e}(gR);const vR=yR,_R=1e3;function bR(){const t=_n().getOlMap(),e=new vR,n=new A1.default({source:new P1.default({features:e}),zIndex:_R});t.addLayer(n);function r(i){e.push(i)}return{addFeature:r}}function Ro(t){const e=new C1.default(t);e.setActive(!1),_n().getOlMap().addInteraction(e),c1.listen(e,"drawend",s=>{i(s)});const{addFeature:r}=bR();function i(s){r(s.feature)}return{drawInteraction:e}}function ER(){const{drawStateActive:t}=Pe(td()),e={drawPoint:Ro({type:"Point"}).drawInteraction,drawLabel:Ro({type:"Point"}).drawInteraction,drawLine:Ro({type:"LineString"}).drawInteraction,drawCircle:Ro({type:"Circle"}).drawInteraction,drawPolygon:Ro({type:"Polygon"}).drawInteraction};return Ge(t,()=>{Object.keys(e).forEach(n=>{`${[n]}`==`${t.value}`?e[n].setActive(!0):e[n].setActive(!1)})}),{}}const wR={class:"absolute bottom-full top-auto z-20 flex flex-row justify-start divide-y-0 divide-x divide-gray-400 divide-solid box-content border-y-0 border-x border-gray-400"},SR={key:0,class:"absolute bottom-full top-auto z-10 pl-[130px] pb-16 w-[326px]"},OR={class:"flex flex-row justify-center text-white bg-tertiary hover:bg-primary py-2 box-content border-y border-x border-gray-400"},xR=C("input",{type:"checkbox"},null,-1),D_=pe(ce({__name:"toolbar-draw",setup(t){const{t:e}=Ue(),{toggleActiveState:n}=td(),{drawStateActive:r}=Pe(td());return ER(),(i,s)=>(L(),$("div",null,[C("ul",wR,[C("li",null,[Q(ko,{label:w(e)("Draw Point",{ns:"client"}),active:w(r)==="drawPoint",onClick:s[0]||(s[0]=()=>w(n)("drawPoint"))},null,8,["label","active"])]),C("li",null,[Q(ko,{label:w(e)("Label",{ns:"client"}),active:w(r)==="drawLabel",onClick:s[1]||(s[1]=()=>w(n)("drawLabel"))},null,8,["label","active"])]),C("li",null,[Q(ko,{label:w(e)("Line",{ns:"client"}),active:w(r)==="drawLine",onClick:s[2]||(s[2]=()=>w(n)("drawLine"))},null,8,["label","active"])]),C("li",null,[Q(ko,{label:w(e)("Polygon",{ns:"client"}),active:w(r)==="drawPolygon",onClick:s[3]||(s[3]=()=>w(n)("drawPolygon"))},null,8,["label","active"])]),C("li",null,[Q(ko,{label:w(e)("Circle",{ns:"client"}),active:w(r)==="drawCircle",onClick:s[4]||(s[4]=()=>w(n)("drawCircle"))},null,8,["label","active"])])]),w(r)==="drawLine"?(L(),$("ul",SR,[C("li",OR,[C("label",null,[xR,ja(" "+ae(w(e)("Suivre la route",{ns:"client"})),1)])])])):I("v-if",!0)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/footer/toolbar-draw.vue"]]),MR={class:"flex flex-col w-12 justify-between bg-white z-5 shrink-0 sm:flex-row sm:w-full sm:h-14 sm:shadow-footer"},TR={class:"flex flex-col w-full sm:w-80 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},NR={class:"relative flex flex-col w-12 sm:w-64 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},LR={class:"w-[466px] hidden sm:flex flex-row justify-end text-gray-500 whitespace-nowrap"},I_=pe(ce({__name:"footer-bar",setup(t){const{t:e,i18next:n}=Ue(),{setLayersOpen:r,setDrawToolbarOpen:i,toggleMyMapsOpen:s}=rt(),{layersOpen:a,drawToolbarOpen:o,styleEditorOpen:l,myMapsOpen:u}=Pe(rt());function f(){const c=!a.value;r(c),c&&(l.value=!1,u.value=!1)}return(c,h)=>(L(),$("footer",MR,[I(" left buttons "),C("ul",TR,[C("li",null,[Q(Kr,{label:w(e)("layers",{ns:"client"}),icon:"layers",active:w(a),onClick:f},null,8,["label","active"])]),I(`TODOs in each button when implemented
        - remove class="text-gray-300"
        - add click handler that calls setLayersOpen(true) and opens tool (also via app store)
      `),C("li",null,[Q(Kr,{label:w(e)("my_maps",{ns:"client"}),icon:"mymaps",active:w(u),onClick:h[0]||(h[0]=()=>w(s)())},null,8,["label","active"])]),C("li",null,[Q(Kr,{class:"text-gray-300",label:w(e)("infos",{ns:"client"}),icon:"infos"},null,8,["label"])]),C("li",null,[Q(Kr,{class:"text-gray-300",label:w(e)("Legends",{ns:"client"}),icon:"legends"},null,8,["label"])]),C("li",null,[Q(Kr,{class:"text-gray-300",label:w(e)("Routing",{ns:"client"}),icon:"routing"},null,8,["label"])])]),I(" center buttons "),C("div",NR,[w(o)?(L(),$e(D_,{key:0})):I("v-if",!0),Q(Kr,{label:w(e)("Dessin",{ns:"client"}),icon:"draw",active:w(o),onClick:h[1]||(h[1]=()=>w(i)(!w(o)))},null,8,["label","active"]),Q(Kr,{class:"text-gray-300 hidden sm:block",label:w(e)("Mesurer",{ns:"client"}),icon:"measure"},null,8,["label"]),Q(Kr,{class:"text-gray-300 hidden sm:block",label:w(e)("Imprimer",{ns:"client"}),icon:"print"},null,8,["label"]),Q(Kr,{class:"text-gray-300",label:w(e)("Partager",{ns:"client"}),icon:"share"},null,8,["label"])]),I(" right buttons "),C("div",LR,[Q(Fi,{class:"hidden lg:flex text-gray-500",label:w(e)("What's new",{ns:"client"}),link:`https://geoportail.lu/${w(n).language}/questions/whats-new/`},null,8,["label","link"]),I("TODO get geonetworkBaseUrl from config"),Q(Fi,{class:"hidden lg:flex text-gray-500",label:w(e)("Geocatalogue",{ns:"client"}),link:""},null,8,["label"]),I("TODO handle feedback links (for different portals?)"),Q(Fi,{class:"hidden lg:flex text-gray-500",label:w(e)("Feedback",{ns:"client"}),link:""},null,8,["label"]),Q(Fi,{class:"hidden lg:flex text-gray-500",label:w(e)("A Propos",{ns:"client"}),link:`https://www.geoportail.lu/${w(n).language}/propos/`},null,8,["label","link"]),Q(Fi,{class:"hidden lg:flex text-gray-500",label:w(e)("Aide",{ns:"client"}),link:`https://www.geoportail.lu/${w(n).language}/documentation/`},null,8,["label","link"]),Q(Fi,{class:"hidden lg:flex text-gray-500",label:w(e)("Contact",{ns:"client"}),link:`https://www.geoportail.lu/${w(n).language}/propos/contactez-nous/`},null,8,["label","link"]),Q(Fi,{class:"text-gray-500",label:w(e)("Legalites",{ns:"client"}),link:`https://www.geoportail.lu/${w(n).language}/propos/mentions-legales/`},null,8,["label","link"]),Q(Fi,{class:"text-gray-500",label:w(e)("ACT",{ns:"client"}),link:"http://www.act.public.lu/"},null,8,["label","link"])])]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/footer/footer-bar.vue"]]),CR={class:"flex flex-row flex-wrap pl-2.5"},AR=["onClick"],PR={class:"text-2xl absolute top-5"},DR=pe(ce({__name:"theme-grid",props:{themes:{type:Array,required:!0}},setup(t){const{t:e}=Ue(),n=t;return(r,i)=>(L(),$("div",CR,[(L(!0),$(Fe,null,Ln(n.themes,s=>(L(),$("button",{class:Ie(["relative shrink-0 h-[150px] w-1/2 px-2.5 text-start text-gray-100/40 uppercase hover:bg-[#ccc]",`bg-${s.name}-primary hover:text-${s.name}-primary`]),key:s.id,onClick:a=>r.$emit("setTheme",s.name)},[C("div",PR,ae(w(e)(`${s.name}`)),1),C("div",{class:Ie(["text-6xl absolute bottom-1 after:font-icons",`after:content-${s.name}`])},null,2)],10,AR))),128))]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/theme-selector/theme-grid.vue"]]),IR=["aria-expanded"],kR={class:"py-0.5"},RR={class:"px-1 py-0.5 shrink-0 flex flex-row text-[12px] bg-secondary text-white"},$R={class:"py-[3px]"},FR={class:"flex flex-row flex-wrap ml-1 w-12"},VR=pe(ce({__name:"theme-selector-button",props:{themes:{type:Array,required:!0},currentTheme:{type:Object,required:!1},isOpen:{type:Boolean,required:!1}},setup(t){const{t:e}=Ue(),n=t,r=fe(()=>{var i;return((i=n.themes)==null?void 0:i.slice(0,8))||[]});return(i,s)=>{var a;return L(),$("button",{class:"w-full flex flex-row justify-between bg-tertiary text-white px-2 py-1.5 uppercase cursor-pointer hover:bg-white hover:text-primary","aria-expanded":n.isOpen},[C("span",kR,ae(w(e)("Theme"))+": "+ae(w(e)(`${(a=n.currentTheme)==null?void 0:a.name}`)),1),C("span",RR,[C("span",$R,ae(w(e)("Changer")),1),C("span",FR,[(L(!0),$(Fe,null,Ln(r.value,o=>(L(),$("div",{class:Ie(`h-2.5 w-2.5 m-px bg-${o.name}-primary`),key:o.id},null,2))),128))])])],8,IR)}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/theme-selector/theme-selector-button.vue"]]),jR={key:0,class:"absolute inset-x-0 top-14 bottom-0 mt-1 bg-primary overflow-y-auto overflow-x-hidden"},GR=pe(ce({__name:"theme-selector",setup(t){const e=rt(),{setThemeGridOpen:n}=e,{themeGridOpen:r}=Pe(e),i=zt(),s=Hr(),{theme:a,themes:o}=Pe(i),l=fe(()=>{var c;return((c=o.value)==null?void 0:c.filter(h=>{var d;return((d=h.metadata)==null?void 0:d.display_in_switcher)===!0}))||[]});function u(){n(!r.value)}function f(c){s.setTheme(c),u()}return(c,h)=>(L(),$(Fe,null,[Q(VR,{onClick:u,themes:l.value,currentTheme:w(a),isOpen:w(r)},null,8,["themes","currentTheme","isOpen"]),w(r)?(L(),$("div",jR,[Q(DR,{onSetTheme:f,themes:l.value},null,8,["themes"])])):I("v-if",!0)],64))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/theme-selector/theme-selector.vue"]]);function sd(t,e=0){const{name:n,id:r,children:i,metadata:s}=t;return{name:n,id:r,depth:e,children:i==null?void 0:i.map(a=>sd(a,e+1)),checked:!1,expanded:(s==null?void 0:s.is_expanded)||!1}}const UR={key:0,class:"mb-7"},BR=pe(ce({__name:"catalog-tree",setup(t){const e=it(),n=zt(),r=En(),i=at(),s=at(),a=fe(()=>!e.is3dActive||e.is3dActive&&!e.is3dMesh),{layerTrees_3d:o}=Pe(n);on(l);function l(){var c;if(n.theme&&e.layers){const h=i.value&&i.value.id===((c=n.theme)==null?void 0:c.id)?i.value:sd(n.theme);i.value=ha.updateLayers(h,e.layers)}}on(()=>{if(o.value){const c=s.value?s.value:sd(o.value);s.value=ha.updateLayers(c,e.layers3d)}});function u(c,h){const d=h?s:i;d.value=ha.toggleNode(c.id,d.value,"expanded")}function f(c,h){r.toggleLayer(+c.id,!c.checked,h)}return(c,h)=>(L(),$("div",null,[I(" 3D layers catalog, only displayed when 3D is active "),s.value&&w(e).is3dActive?(L(),$("div",UR,[(L(),$e(Fh,{node:s.value,key:s.value.id,onToggleParent:h[0]||(h[0]=d=>u(d,!0)),onToggleLayer:h[1]||(h[1]=d=>f(d,!0))},null,8,["node"]))])):I("v-if",!0),I(" Main catalog, displays by default and 3D terrain active "),i.value&&a.value?(L(),$e(Fh,{node:i.value,key:i.value.id,onToggleParent:h[2]||(h[2]=d=>u(d,!1)),onToggleLayer:h[3]||(h[3]=d=>f(d,!1))},null,8,["node"])):I("v-if",!0)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/catalog/catalog-tree.vue"]]),WR=pe(ce({__name:"catalog-tab",setup(t){const{themeGridOpen:e}=Pe(rt());return(n,r)=>(L(),$(Fe,null,[Q(GR),w(e)===!1?(L(),$e(BR,{key:0,class:"pt-5 absolute inset-x-2.5 bg-primary overflow-y-auto overflow-x-hidden"})):I("v-if",!0)],64))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/catalog/catalog-tab.vue"]]);/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function k_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(n),!0).forEach(function(r){qR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ju(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(e){return typeof e}:Ju=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function qR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zr(){return Zr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zr.apply(this,arguments)}function HR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zR(t,e){if(t==null)return{};var n=HR(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}var YR="1.15.2";function Jr(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Qr=Jr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),$o=Jr(/Edge/i),R_=Jr(/firefox/i),Fo=Jr(/safari/i)&&!Jr(/chrome/i)&&!Jr(/android/i),$_=Jr(/iP(ad|od|hone)/i),F_=Jr(/chrome/i)&&Jr(/android/i),V_={capture:!1,passive:!1};function He(t,e,n){t.addEventListener(e,n,!Qr&&V_)}function je(t,e,n){t.removeEventListener(e,n,!Qr&&V_)}function Qu(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function XR(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function tr(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Qu(t,e):Qu(t,e))||r&&t===n)return t;if(t===n)break}while(t=XR(t))}return null}var j_=/\s+/g;function Sn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(j_," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(j_," ")}}function be(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function da(t,e){var n="";if(typeof t=="string")n=t;else do{var r=be(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function G_(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Tr(){var t=document.scrollingElement;return t||document.documentElement}function xt(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,a,o,l,u,f,c;if(t!==window&&t.parentNode&&t!==Tr()?(s=t.getBoundingClientRect(),a=s.top,o=s.left,l=s.bottom,u=s.right,f=s.height,c=s.width):(a=0,o=0,l=window.innerHeight,u=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Qr))do if(i&&i.getBoundingClientRect&&(be(i,"transform")!=="none"||n&&be(i,"position")!=="static")){var h=i.getBoundingClientRect();a-=h.top+parseInt(be(i,"border-top-width")),o-=h.left+parseInt(be(i,"border-left-width")),l=a+s.height,u=o+s.width;break}while(i=i.parentNode);if(r&&t!==window){var d=da(i||t),p=d&&d.a,m=d&&d.d;d&&(a/=m,o/=p,c/=p,f/=m,l=a+f,u=o+c)}return{top:a,left:o,bottom:l,right:u,width:c,height:f}}}function U_(t,e,n){for(var r=Vi(t,!0),i=xt(t)[e];r;){var s=xt(r)[n],a=void 0;if(n==="top"||n==="left"?a=i>=s:a=i<=s,!a)return r;if(r===Tr())break;r=Vi(r,!1)}return!1}function pa(t,e,n,r){for(var i=0,s=0,a=t.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==_e.ghost&&(r||a[s]!==_e.dragged)&&tr(a[s],n.draggable,t,!1)){if(i===e)return a[s];i++}s++}return null}function ad(t,e){for(var n=t.lastElementChild;n&&(n===_e.ghost||be(n,"display")==="none"||e&&!Qu(n,e));)n=n.previousElementSibling;return n||null}function Gn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==_e.clone&&(!e||Qu(t,e))&&n++;return n}function B_(t){var e=0,n=0,r=Tr();if(t)do{var i=da(t),s=i.a,a=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function KR(t,e){for(var n in t)if(!!t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Vi(t,e){if(!t||!t.getBoundingClientRect)return Tr();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=be(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Tr();if(r||e)return n;r=!0}}while(n=n.parentNode);return Tr()}function ZR(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function od(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Vo;function W_(t,e){return function(){if(!Vo){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Vo=setTimeout(function(){Vo=void 0},e)}}}function JR(){clearTimeout(Vo),Vo=void 0}function q_(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function H_(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function z_(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var s,a,o,l;if(!(!tr(i,e.draggable,t,!1)||i.animated||i===n)){var u=xt(i);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,u.left),r.top=Math.min((a=r.top)!==null&&a!==void 0?a:1/0,u.top),r.right=Math.max((o=r.right)!==null&&o!==void 0?o:-1/0,u.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var On="Sortable"+new Date().getTime();function QR(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(be(i,"display")==="none"||i===_e.ghost)){t.push({target:i,rect:xt(i)});var s=Mr({},t[t.length-1].rect);if(i.thisAnimationDuration){var a=da(i,!0);a&&(s.top-=a.f,s.left-=a.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(KR(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,a=0;t.forEach(function(o){var l=0,u=o.target,f=u.fromRect,c=xt(u),h=u.prevFromRect,d=u.prevToRect,p=o.rect,m=da(u,!0);m&&(c.top-=m.f,c.left-=m.e),u.toRect=c,u.thisAnimationDuration&&od(h,c)&&!od(f,c)&&(p.top-c.top)/(p.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(l=t3(p,h,d,i.options)),od(c,f)||(u.prevFromRect=f,u.prevToRect=c,l||(l=i.options.animation),i.animate(u,p,c,l)),l&&(s=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,a){if(a){be(r,"transition",""),be(r,"transform","");var o=da(this.el),l=o&&o.a,u=o&&o.d,f=(i.left-s.left)/(l||1),c=(i.top-s.top)/(u||1);r.animatingX=!!f,r.animatingY=!!c,be(r,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=e3(r),be(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),be(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){be(r,"transition",""),be(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function e3(t){return t.offsetWidth}function t3(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var ma=[],ld={initializeByDefault:!0},jo={mount:function(e){for(var n in ld)ld.hasOwnProperty(n)&&!(n in e)&&(e[n]=ld[n]);ma.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ma.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";ma.forEach(function(a){!n[a.pluginName]||(n[a.pluginName][s]&&n[a.pluginName][s](Mr({sortable:n},r)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](Mr({sortable:n},r)))})},initializePlugins:function(e,n,r,i){ma.forEach(function(o){var l=o.pluginName;if(!(!e.options[l]&&!o.initializeByDefault)){var u=new o(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Zr(r,u.defaults)}});for(var s in e.options)if(!!e.options.hasOwnProperty(s)){var a=this.modifyOption(e,s,e.options[s]);typeof a<"u"&&(e.options[s]=a)}},getEventProperties:function(e,n){var r={};return ma.forEach(function(i){typeof i.eventProperties=="function"&&Zr(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return ma.forEach(function(s){!e[s.pluginName]||s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function n3(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,a=t.toEl,o=t.fromEl,l=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,c=t.newDraggableIndex,h=t.originalEvent,d=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[On],!!e){var m,g=e.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Qr&&!$o?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=a||n,m.from=o||n,m.item=i||n,m.clone=s,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=f,m.newDraggableIndex=c,m.originalEvent=h,m.pullMode=d?d.lastPutMode:void 0;var v=Mr(Mr({},p),jo.getEventProperties(r,e));for(var E in v)m[E]=v[E];n&&n.dispatchEvent(m),g[y]&&g[y].call(e,m)}}var r3=["evt"],dn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=zR(r,r3);jo.pluginEvent.bind(_e)(e,n,Mr({dragEl:ee,parentEl:gt,ghostEl:Oe,rootEl:lt,nextEl:Ss,lastDownEl:ec,cloneEl:ct,cloneHidden:ji,dragStarted:Uo,putSortable:kt,activeSortable:_e.active,originalEvent:i,oldIndex:ga,oldDraggableIndex:Go,newIndex:xn,newDraggableIndex:Gi,hideGhostForTarget:eb,unhideGhostForTarget:tb,cloneNowHidden:function(){ji=!0},cloneNowShown:function(){ji=!1},dispatchSortableEvent:function(o){rn({sortable:n,name:o,originalEvent:i})}},s))};function rn(t){n3(Mr({putSortable:kt,cloneEl:ct,targetEl:ee,rootEl:lt,oldIndex:ga,oldDraggableIndex:Go,newIndex:xn,newDraggableIndex:Gi},t))}var ee,gt,Oe,lt,Ss,ec,ct,ji,ga,xn,Go,Gi,tc,kt,ya=!1,nc=!1,rc=[],Os,nr,ud,cd,Y_,X_,Uo,va,Bo,Wo=!1,ic=!1,sc,Xt,fd=[],hd=!1,ac=[],oc=typeof document<"u",lc=$_,K_=$o||Qr?"cssFloat":"float",i3=oc&&!F_&&!$_&&"draggable"in document.createElement("div"),Z_=function(){if(!!oc){if(Qr)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),J_=function(e,n){var r=be(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=pa(e,0,n),a=pa(e,1,n),o=s&&be(s),l=a&&be(a),u=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+xt(s).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+xt(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&o.float&&o.float!=="none"){var c=o.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===c)?"vertical":"horizontal"}return s&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||u>=i&&r[K_]==="none"||a&&r[K_]==="none"&&u+f>i)?"vertical":"horizontal"},s3=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,a=r?e.width:e.height,o=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===o||s===l||i+a/2===o+u/2},a3=function(e,n){var r;return rc.some(function(i){var s=i[On].options.emptyInsertThreshold;if(!(!s||ad(i))){var a=xt(i),o=e>=a.left-s&&e<=a.right+s,l=n>=a.top-s&&n<=a.bottom+s;if(o&&l)return r=i}}),r},Q_=function(e){function n(s,a){return function(o,l,u,f){var c=o.options.group.name&&l.options.group.name&&o.options.group.name===l.options.group.name;if(s==null&&(a||c))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return n(s(o,l,u,f),a)(o,l,u,f);var h=(a?o:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||Ju(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},eb=function(){!Z_&&Oe&&be(Oe,"display","none")},tb=function(){!Z_&&Oe&&be(Oe,"display","")};oc&&!F_&&document.addEventListener("click",function(t){if(nc)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),nc=!1,!1},!0);var xs=function(e){if(ee){e=e.touches?e.touches[0]:e;var n=a3(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[On]._onDragOver(r)}}},o3=function(e){ee&&ee.parentNode[On]._isOutsideThisEl(e.target)};function _e(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Zr({},e),t[On]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return J_(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,o){a.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:_e.supportPointer!==!1&&"PointerEvent"in window&&!Fo,emptyInsertThreshold:5};jo.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);Q_(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:i3,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?He(t,"pointerdown",this._onTapStart):(He(t,"mousedown",this._onTapStart),He(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(He(t,"dragover",this),He(t,"dragenter",this)),rc.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Zr(this,QR())}_e.prototype={constructor:_e,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(va=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,ee):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(o||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=i.filter;if(m3(r),!ee&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Fo&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=tr(l,i.draggable,r,!1),!(l&&l.animated)&&ec!==l)){if(ga=Gn(l),Go=Gn(l,i.draggable),typeof f=="function"){if(f.call(this,e,l,this)){rn({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),dn("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=tr(u,c.trim(),r,!1),c)return rn({sortable:n,rootEl:c,name:"filter",targetEl:l,fromEl:r,toEl:r}),dn("filter",n,{evt:e}),!0}),f)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!tr(u,i.handle,r,!1)||this._prepareDragStart(e,o,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,a=i.options,o=s.ownerDocument,l;if(r&&!ee&&r.parentNode===s){var u=xt(r);if(lt=s,ee=r,gt=ee.parentNode,Ss=ee.nextSibling,ec=r,tc=a.group,_e.dragged=ee,Os={target:ee,clientX:(n||e).clientX,clientY:(n||e).clientY},Y_=Os.clientX-u.left,X_=Os.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,ee.style["will-change"]="all",l=function(){if(dn("delayEnded",i,{evt:e}),_e.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!R_&&i.nativeDraggable&&(ee.draggable=!0),i._triggerDragStart(e,n),rn({sortable:i,name:"choose",originalEvent:e}),Sn(ee,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){G_(ee,f.trim(),dd)}),He(o,"dragover",xs),He(o,"mousemove",xs),He(o,"touchmove",xs),He(o,"mouseup",i._onDrop),He(o,"touchend",i._onDrop),He(o,"touchcancel",i._onDrop),R_&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ee.draggable=!0),dn("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!($o||Qr))){if(_e.eventCanceled){this._onDrop();return}He(o,"mouseup",i._disableDelayedDrag),He(o,"touchend",i._disableDelayedDrag),He(o,"touchcancel",i._disableDelayedDrag),He(o,"mousemove",i._delayedDragTouchMoveHandler),He(o,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&He(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ee&&dd(ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;je(e,"mouseup",this._disableDelayedDrag),je(e,"touchend",this._disableDelayedDrag),je(e,"touchcancel",this._disableDelayedDrag),je(e,"mousemove",this._delayedDragTouchMoveHandler),je(e,"touchmove",this._delayedDragTouchMoveHandler),je(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?He(document,"pointermove",this._onTouchMove):n?He(document,"touchmove",this._onTouchMove):He(document,"mousemove",this._onTouchMove):(He(ee,"dragend",this),He(lt,"dragstart",this._onDragStart));try{document.selection?cc(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ya=!1,lt&&ee){dn("dragStarted",this,{evt:n}),this.nativeDraggable&&He(document,"dragover",o3);var r=this.options;!e&&Sn(ee,r.dragClass,!1),Sn(ee,r.ghostClass,!0),_e.active=this,e&&this._appendGhost(),rn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(nr){this._lastX=nr.clientX,this._lastY=nr.clientY,eb();for(var e=document.elementFromPoint(nr.clientX,nr.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(nr.clientX,nr.clientY),e!==n);)n=e;if(ee.parentNode[On]._isOutsideThisEl(e),n)do{if(n[On]){var r=void 0;if(r=n[On]._onDragOver({clientX:nr.clientX,clientY:nr.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);tb()}},_onTouchMove:function(e){if(Os){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,a=Oe&&da(Oe,!0),o=Oe&&a&&a.a,l=Oe&&a&&a.d,u=lc&&Xt&&B_(Xt),f=(s.clientX-Os.clientX+i.x)/(o||1)+(u?u[0]-fd[0]:0)/(o||1),c=(s.clientY-Os.clientY+i.y)/(l||1)+(u?u[1]-fd[1]:0)/(l||1);if(!_e.active&&!ya){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Oe){a?(a.e+=f-(ud||0),a.f+=c-(cd||0)):a={a:1,b:0,c:0,d:1,e:f,f:c};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");be(Oe,"webkitTransform",h),be(Oe,"mozTransform",h),be(Oe,"msTransform",h),be(Oe,"transform",h),ud=f,cd=c,nr=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Oe){var e=this.options.fallbackOnBody?document.body:lt,n=xt(ee,!0,lc,!0,e),r=this.options;if(lc){for(Xt=e;be(Xt,"position")==="static"&&be(Xt,"transform")==="none"&&Xt!==document;)Xt=Xt.parentNode;Xt!==document.body&&Xt!==document.documentElement?(Xt===document&&(Xt=Tr()),n.top+=Xt.scrollTop,n.left+=Xt.scrollLeft):Xt=Tr(),fd=B_(Xt)}Oe=ee.cloneNode(!0),Sn(Oe,r.ghostClass,!1),Sn(Oe,r.fallbackClass,!0),Sn(Oe,r.dragClass,!0),be(Oe,"transition",""),be(Oe,"transform",""),be(Oe,"box-sizing","border-box"),be(Oe,"margin",0),be(Oe,"top",n.top),be(Oe,"left",n.left),be(Oe,"width",n.width),be(Oe,"height",n.height),be(Oe,"opacity","0.8"),be(Oe,"position",lc?"absolute":"fixed"),be(Oe,"zIndex","100000"),be(Oe,"pointerEvents","none"),_e.ghost=Oe,e.appendChild(Oe),be(Oe,"transform-origin",Y_/parseInt(Oe.style.width)*100+"% "+X_/parseInt(Oe.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(dn("dragStart",this,{evt:e}),_e.eventCanceled){this._onDrop();return}dn("setupClone",this),_e.eventCanceled||(ct=H_(ee),ct.removeAttribute("id"),ct.draggable=!1,ct.style["will-change"]="",this._hideClone(),Sn(ct,this.options.chosenClass,!1),_e.clone=ct),r.cloneId=cc(function(){dn("clone",r),!_e.eventCanceled&&(r.options.removeCloneOnHide||lt.insertBefore(ct,ee),r._hideClone(),rn({sortable:r,name:"clone"}))}),!n&&Sn(ee,s.dragClass,!0),n?(nc=!0,r._loopId=setInterval(r._emulateDragOver,50)):(je(document,"mouseup",r._onDrop),je(document,"touchend",r._onDrop),je(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,ee)),He(document,"drop",r),be(ee,"transform","translateZ(0)")),ya=!0,r._dragStartId=cc(r._dragStarted.bind(r,n,e)),He(document,"selectstart",r),Uo=!0,Fo&&be(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,a,o=this.options,l=o.group,u=_e.active,f=tc===l,c=o.sort,h=kt||u,d,p=this,m=!1;if(hd)return;function g(Z,Ae){dn(Z,p,Mr({evt:e,isOwner:f,axis:d?"vertical":"horizontal",revert:a,dragRect:i,targetRect:s,canSort:c,fromSortable:h,target:r,completed:v,onMove:function(Et,Kt){return uc(lt,n,ee,i,Et,xt(Et),e,Kt)},changed:E},Ae))}function y(){g("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function v(Z){return g("dragOverCompleted",{insertion:Z}),Z&&(f?u._hideClone():u._showClone(p),p!==h&&(Sn(ee,kt?kt.options.ghostClass:u.options.ghostClass,!1),Sn(ee,o.ghostClass,!0)),kt!==p&&p!==_e.active?kt=p:p===_e.active&&kt&&(kt=null),h===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){g("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===ee&&!ee.animated||r===n&&!r.animated)&&(va=null),!o.dragoverBubble&&!e.rootEl&&r!==document&&(ee.parentNode[On]._isOutsideThisEl(e.target),!Z&&xs(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function E(){xn=Gn(ee),Gi=Gn(ee,o.draggable),rn({sortable:p,name:"change",toEl:n,newIndex:xn,newDraggableIndex:Gi,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=tr(r,o.draggable,n,!0),g("dragOver"),_e.eventCanceled)return m;if(ee.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return v(!1);if(nc=!1,u&&!o.disabled&&(f?c||(a=gt!==lt):kt===this||(this.lastPutMode=tc.checkPull(this,u,ee,e))&&l.checkPut(this,u,ee,e))){if(d=this._getDirection(e,r)==="vertical",i=xt(ee),g("dragOverValid"),_e.eventCanceled)return m;if(a)return gt=lt,y(),this._hideClone(),g("revert"),_e.eventCanceled||(Ss?lt.insertBefore(ee,Ss):lt.appendChild(ee)),v(!0);var b=ad(n,o.draggable);if(!b||f3(e,d,this)&&!b.animated){if(b===ee)return v(!1);if(b&&n===e.target&&(r=b),r&&(s=xt(r)),uc(lt,n,ee,i,r,s,e,!!r)!==!1)return y(),b&&b.nextSibling?n.insertBefore(ee,b.nextSibling):n.appendChild(ee),gt=n,E(),v(!0)}else if(b&&c3(e,d,this)){var O=pa(n,0,o,!0);if(O===ee)return v(!1);if(r=O,s=xt(r),uc(lt,n,ee,i,r,s,e,!1)!==!1)return y(),n.insertBefore(ee,O),gt=n,E(),v(!0)}else if(r.parentNode===n){s=xt(r);var T=0,M,R=ee.parentNode!==n,F=!s3(ee.animated&&ee.toRect||i,r.animated&&r.toRect||s,d),A=d?"top":"left",D=U_(r,"top","top")||U_(ee,"top","top"),P=D?D.scrollTop:void 0;va!==r&&(M=s[A],Wo=!1,ic=!F&&o.invertSwap||R),T=h3(e,r,s,d,F?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,ic,va===r);var te;if(T!==0){var me=Gn(ee);do me-=T,te=gt.children[me];while(te&&(be(te,"display")==="none"||te===Oe))}if(T===0||te===r)return v(!1);va=r,Bo=T;var N=r.nextElementSibling,V=!1;V=T===1;var z=uc(lt,n,ee,i,r,s,e,V);if(z!==!1)return(z===1||z===-1)&&(V=z===1),hd=!0,setTimeout(u3,30),y(),V&&!N?n.appendChild(ee):r.parentNode.insertBefore(ee,V?N:r),D&&q_(D,0,P-D.scrollTop),gt=ee.parentNode,M!==void 0&&!ic&&(sc=Math.abs(M-xt(r)[A])),E(),v(!0)}if(n.contains(ee))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){je(document,"mousemove",this._onTouchMove),je(document,"touchmove",this._onTouchMove),je(document,"pointermove",this._onTouchMove),je(document,"dragover",xs),je(document,"mousemove",xs),je(document,"touchmove",xs)},_offUpEvents:function(){var e=this.el.ownerDocument;je(e,"mouseup",this._onDrop),je(e,"touchend",this._onDrop),je(e,"pointerup",this._onDrop),je(e,"touchcancel",this._onDrop),je(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(xn=Gn(ee),Gi=Gn(ee,r.draggable),dn("drop",this,{evt:e}),gt=ee&&ee.parentNode,xn=Gn(ee),Gi=Gn(ee,r.draggable),_e.eventCanceled){this._nulling();return}ya=!1,ic=!1,Wo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),pd(this.cloneId),pd(this._dragStartId),this.nativeDraggable&&(je(document,"drop",this),je(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Fo&&be(document.body,"user-select",""),be(ee,"transform",""),e&&(Uo&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Oe&&Oe.parentNode&&Oe.parentNode.removeChild(Oe),(lt===gt||kt&&kt.lastPutMode!=="clone")&&ct&&ct.parentNode&&ct.parentNode.removeChild(ct),ee&&(this.nativeDraggable&&je(ee,"dragend",this),dd(ee),ee.style["will-change"]="",Uo&&!ya&&Sn(ee,kt?kt.options.ghostClass:this.options.ghostClass,!1),Sn(ee,this.options.chosenClass,!1),rn({sortable:this,name:"unchoose",toEl:gt,newIndex:null,newDraggableIndex:null,originalEvent:e}),lt!==gt?(xn>=0&&(rn({rootEl:gt,name:"add",toEl:gt,fromEl:lt,originalEvent:e}),rn({sortable:this,name:"remove",toEl:gt,originalEvent:e}),rn({rootEl:gt,name:"sort",toEl:gt,fromEl:lt,originalEvent:e}),rn({sortable:this,name:"sort",toEl:gt,originalEvent:e})),kt&&kt.save()):xn!==ga&&xn>=0&&(rn({sortable:this,name:"update",toEl:gt,originalEvent:e}),rn({sortable:this,name:"sort",toEl:gt,originalEvent:e})),_e.active&&((xn==null||xn===-1)&&(xn=ga,Gi=Go),rn({sortable:this,name:"end",toEl:gt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){dn("nulling",this),lt=ee=gt=Oe=Ss=ct=ec=ji=Os=nr=Uo=xn=Gi=ga=Go=va=Bo=kt=tc=_e.dragged=_e.ghost=_e.clone=_e.active=null,ac.forEach(function(e){e.checked=!0}),ac.length=ud=cd=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ee&&(this._onDragOver(e),l3(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,a=this.options;i<s;i++)n=r[i],tr(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||p3(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,a){var o=i.children[a];tr(o,this.options.draggable,i,!1)&&(r[s]=o)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return tr(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=jo.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&Q_(r)},destroy:function(){dn("destroy",this);var e=this.el;e[On]=null,je(e,"mousedown",this._onTapStart),je(e,"touchstart",this._onTapStart),je(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(je(e,"dragover",this),je(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),rc.splice(rc.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ji){if(dn("hideClone",this),_e.eventCanceled)return;be(ct,"display","none"),this.options.removeCloneOnHide&&ct.parentNode&&ct.parentNode.removeChild(ct),ji=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ji){if(dn("showClone",this),_e.eventCanceled)return;ee.parentNode==lt&&!this.options.group.revertClone?lt.insertBefore(ct,ee):Ss?lt.insertBefore(ct,Ss):lt.appendChild(ct),this.options.group.revertClone&&this.animate(ee,ct),be(ct,"display",""),ji=!1}}};function l3(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function uc(t,e,n,r,i,s,a,o){var l,u=t[On],f=u.options.onMove,c;return window.CustomEvent&&!Qr&&!$o?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||xt(e),l.willInsertAfter=o,l.originalEvent=a,t.dispatchEvent(l),f&&(c=f.call(u,l,a)),c}function dd(t){t.draggable=!1}function u3(){hd=!1}function c3(t,e,n){var r=xt(pa(n.el,0,n.options,!0)),i=z_(n.el,n.options,Oe),s=10;return e?t.clientX<i.left-s||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-s||t.clientY<r.bottom&&t.clientX<r.left}function f3(t,e,n){var r=xt(ad(n.el,n.options.draggable)),i=z_(n.el,n.options,Oe),s=10;return e?t.clientX>i.right+s||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+s||t.clientX>r.right&&t.clientY>r.top}function h3(t,e,n,r,i,s,a,o){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,f=r?n.top:n.left,c=r?n.bottom:n.right,h=!1;if(!a){if(o&&sc<u*i){if(!Wo&&(Bo===1?l>f+u*s/2:l<c-u*s/2)&&(Wo=!0),Wo)h=!0;else if(Bo===1?l<f+sc:l>c-sc)return-Bo}else if(l>f+u*(1-i)/2&&l<c-u*(1-i)/2)return d3(e)}return h=h||a,h&&(l<f+u*s/2||l>c-u*s/2)?l>f+u/2?1:-1:0}function d3(t){return Gn(ee)<Gn(t)?1:-1}function p3(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function m3(t){ac.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&ac.push(r)}}function cc(t){return setTimeout(t,0)}function pd(t){return clearTimeout(t)}oc&&He(document,"touchmove",function(t){(_e.active||ya)&&t.cancelable&&t.preventDefault()}),_e.utils={on:He,off:je,css:be,find:G_,is:function(e,n){return!!tr(e,n,e,!1)},extend:ZR,throttle:W_,closest:tr,toggleClass:Sn,clone:H_,index:Gn,nextTick:cc,cancelNextTick:pd,detectDirection:J_,getChild:pa},_e.get=function(t){return t[On]},_e.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(_e.utils=Mr(Mr({},_e.utils),r.utils)),jo.mount(r)})},_e.create=function(t,e){return new _e(t,e)},_e.version=YR;var Mt=[],qo,md,gd=!1,yd,vd,fc,Ho;function g3(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?He(document,"dragover",this._handleAutoScroll):this.options.supportPointer?He(document,"pointermove",this._handleFallbackAutoScroll):r.touches?He(document,"touchmove",this._handleFallbackAutoScroll):He(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?je(document,"dragover",this._handleAutoScroll):(je(document,"pointermove",this._handleFallbackAutoScroll),je(document,"touchmove",this._handleFallbackAutoScroll),je(document,"mousemove",this._handleFallbackAutoScroll)),nb(),hc(),JR()},nulling:function(){fc=md=qo=gd=Ho=yd=vd=null,Mt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,o=document.elementFromPoint(s,a);if(fc=n,r||this.options.forceAutoScrollFallback||$o||Qr||Fo){_d(n,this.options,o,r);var l=Vi(o,!0);gd&&(!Ho||s!==yd||a!==vd)&&(Ho&&nb(),Ho=setInterval(function(){var u=Vi(document.elementFromPoint(s,a),!0);u!==l&&(l=u,hc()),_d(n,i.options,u,r)},10),yd=s,vd=a)}else{if(!this.options.bubbleScroll||Vi(o,!0)===Tr()){hc();return}_d(n,this.options,Vi(o,!1),!1)}}},Zr(t,{pluginName:"scroll",initializeByDefault:!0})}function hc(){Mt.forEach(function(t){clearInterval(t.pid)}),Mt=[]}function nb(){clearInterval(Ho)}var _d=W_(function(t,e,n,r){if(!!e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,o=e.scrollSpeed,l=Tr(),u=!1,f;md!==n&&(md=n,hc(),qo=e.scroll,f=e.scrollFn,qo===!0&&(qo=Vi(n,!0)));var c=0,h=qo;do{var d=h,p=xt(d),m=p.top,g=p.bottom,y=p.left,v=p.right,E=p.width,b=p.height,O=void 0,T=void 0,M=d.scrollWidth,R=d.scrollHeight,F=be(d),A=d.scrollLeft,D=d.scrollTop;d===l?(O=E<M&&(F.overflowX==="auto"||F.overflowX==="scroll"||F.overflowX==="visible"),T=b<R&&(F.overflowY==="auto"||F.overflowY==="scroll"||F.overflowY==="visible")):(O=E<M&&(F.overflowX==="auto"||F.overflowX==="scroll"),T=b<R&&(F.overflowY==="auto"||F.overflowY==="scroll"));var P=O&&(Math.abs(v-i)<=a&&A+E<M)-(Math.abs(y-i)<=a&&!!A),te=T&&(Math.abs(g-s)<=a&&D+b<R)-(Math.abs(m-s)<=a&&!!D);if(!Mt[c])for(var me=0;me<=c;me++)Mt[me]||(Mt[me]={});(Mt[c].vx!=P||Mt[c].vy!=te||Mt[c].el!==d)&&(Mt[c].el=d,Mt[c].vx=P,Mt[c].vy=te,clearInterval(Mt[c].pid),(P!=0||te!=0)&&(u=!0,Mt[c].pid=setInterval(function(){r&&this.layer===0&&_e.active._onTouchMove(fc);var N=Mt[this.layer].vy?Mt[this.layer].vy*o:0,V=Mt[this.layer].vx?Mt[this.layer].vx*o:0;typeof f=="function"&&f.call(_e.dragged.parentNode[On],V,N,t,fc,Mt[this.layer].el)!=="continue"||q_(Mt[this.layer].el,V,N)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&h!==l&&(h=Vi(h,!1)));gd=u}},30),rb=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(!!n){var u=r||s;o();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(f.clientX,f.clientY);l(),u&&!u.el.contains(c)&&(a("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function bd(){}bd.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=pa(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:rb},Zr(bd,{pluginName:"revertOnSpill"});function Ed(){}Ed.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:rb},Zr(Ed,{pluginName:"removeOnSpill"}),_e.mount(new g3),_e.mount(Ed,bd);const ib=.5,y3=!1,dc=wi("slider",()=>{const t=it(),e=ge(ib),n=ge(y3),r=fe(()=>[...t.layers].reverse()[0]);function i(a){let o=a;a<.1?o=.1:a>.9&&(o=.9),e.value=o}function s(a){n.value=a!=null?a:!n.value}return{sliderActive:n,sliderRatio:e,sliderTopLayer:r,setRatio:i,toggleSlider:s}},{});function sb(t,e){const{t:n}=Ue();function r(){e==null||e.emit("clickInfo",t)}return{t:n,onClickInfo:r}}const v3={class:"lux-layer-manager-item mt-2.5"},_3=["title"],b3={class:"flex-1 text-left cursor-default"},E3=["aria-label","title"],w3=pe(ce({__name:"layer-item-background",props:{showEditButton:{type:Boolean,required:!0},layer:{type:Object,required:!0}},emits:["clickEdit","clickInfo"],setup(t,{emit:e}){const n=t,r=e,{t:i,onClickInfo:s}=sb(n.layer,{emit:r}),a=fe(()=>i('Display informations for "{{layerName}}"',{ns:"app",layerName:l()})),o=fe(()=>!_s().isOffLine.value);function l(){return i(n.layer.name,{ns:"client"})}return(u,f)=>(L(),$("div",v3,[o.value?(L(),$("button",{key:0,class:"fa fa-info w-3",title:a.value,onClick:f[0]||(f[0]=(...c)=>w(s)&&w(s)(...c))},null,8,_3)):I("v-if",!0),C("span",b3,ae(l()),1),u.showEditButton?(L(),$("button",{key:1,class:"fa fa-pencil","aria-label":w(i)("Open editor panel",{ns:"app"}),title:w(i)("Open editor panel",{ns:"app"}),onClick:f[1]||(f[1]=c=>u.$emit("clickEdit"))},null,8,E3)):I("v-if",!0)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-item/layer-item-background.vue"]]),S3=["id"],O3=["aria-checked","title"],x3=["id","value","aria-label"],M3=["aria-checked","aria-label"],T3=pe(ce({__name:"layer-item-sub",props:{layer:{type:Object,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["changeOpacity","clickToggleLayerComparator"],setup(t,{emit:e}){var d,p,m,g;const n=t,r=e,{t:i}=Ue(),s=En(),a=fe(()=>i(s.getLayerCurrentLabel(n.layer),{ns:"client"})),o=at(((p=(d=n.layer)==null?void 0:d.opacity)!=null?p:1)*100),l=at(((g=(m=n.layer)==null?void 0:m.previousOpacity)!=null?g:o.value)*100);function u(){o.value===0?o.value=l.value:(l.value=o.value,o.value=0),h()}function f(y){y.target&&(o.value=parseInt(y.target.value),h())}function c(){r("clickToggleLayerComparator",n.layer)}function h(){r("changeOpacity",n.layer,o.value)}return(y,v)=>(L(),$("div",{class:Ie(["lux-layer-manager-item-content",y.isOpen?"h-6":"h-0"]),id:`layer-manager-item-content-${y.layer.id}`},[C("button",{class:Ie(["w-5 fa-solid",o.value===0?"fa-eye-slash":"fa-eye"]),role:"switch","aria-checked":o.value===0,title:w(i)("Toggle layer opacity for {{layerName}}",{ns:"app",layerName:a.value}),onClick:u},null,10,O3),C("input",{id:`${y.layer.id}-steps-range`,type:"range",min:"0",max:"100",value:o.value,step:"25",onChange:f,class:"m-2.5 w-16 h-[5px] rounded-lg appearance-none cursor-pointer","aria-label":w(i)("Change opacity for {{layerName}}",{ns:"app",layerName:a.value})},null,40,x3),y.displayLayerComparatorOpen?(L(),$("button",{key:0,role:"switch",class:Ie(["fa ml-auto text-sm cursor-pointer",y.isLayerComparatorOpen?"fa-adjust":"fa-circle"]),"aria-checked":y.isLayerComparatorOpen,"aria-label":w(i)("Toggle layer comparator for {{ layerName }}",{ns:"app",layerName:a.value}),onClick:c},null,10,M3)):I("v-if",!0)],10,S3))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-item/layer-item-sub.vue"]]),N3=["min","max","value"],wd=pe(ce({__name:"layer-time-datepicker",props:{minDateAllowed:{type:String,required:!1,default:""},maxDateAllowed:{type:String,required:!1,default:""},dateValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=fe(()=>Th(n.minDateAllowed)),s=fe(()=>Th(n.maxDateAllowed));function a(o){r("change",o.target.value)}return(o,l)=>(L(),$("input",{class:"lux-time-datepicker",type:"date",min:i.value,max:s.value,value:o.dateValue?w(Th)(o.dateValue):"",onChange:a},null,40,N3))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-datepicker.vue"]]),L3={class:"lux-time-slider w-full"},C3=["for"],A3=pe(ce({__name:"layer-time-datepicker-value",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t){const{t:e}=Ue(),n=t,r=at(n.layer.currentTimeMinValue);return(i,s)=>{var a,o;return L(),$("div",L3,[C("div",null,[C("label",{for:`${i.layer.id}-time-slider-start`,class:"lux-time-slider-label"},ae(w(e)("Date:")),9,C3),Q(wd,{id:`${i.layer.id}-time-slider-start`,"date-value":r.value,"min-date-allowed":(a=n.layer.time)==null?void 0:a.minValue,"max-date-allowed":(o=n.layer.time)==null?void 0:o.maxValue,onChange:s[0]||(s[0]=l=>i.$emit("changeTime",l))},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-datepicker-value.vue"]]),P3={class:"lux-time-slider w-full"},D3=["for"],I3=["for"],k3=pe(ce({__name:"layer-time-datepicker-range",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const{t:n}=Ue(),r=t,i=e,s=at(r.layer.currentTimeMinValue),a=at(r.layer.currentTimeMaxValue);function o(u){i("changeTime",u,r.layer.currentTimeMaxValue)}function l(u){i("changeTime",r.layer.currentTimeMinValue,u)}return(u,f)=>{var c,h,d,p;return L(),$("div",P3,[I(" Date START datepicker input "),C("div",null,[C("label",{for:`${u.layer.id}-time-slider-start`,class:"lux-time-slider-label"},ae(w(n)("From:")),9,D3),Q(wd,{id:`${u.layer.id}-time-slider-start`,"date-value":s.value,"min-date-allowed":(c=r.layer.time)==null?void 0:c.minValue,"max-date-allowed":(h=r.layer.time)==null?void 0:h.maxValue,onChange:o},null,8,["id","date-value","min-date-allowed","max-date-allowed"])]),I(" Date END datepicker input "),C("div",null,[C("label",{for:`${u.layer.id}-time-slider-end`,class:"lux-time-slider-label"},ae(w(n)("To:")),9,I3),Q(wd,{id:`${u.layer.id}-time-slider-end`,"date-value":a.value,"min-date-allowed":(d=r.layer.time)==null?void 0:d.minValue,"max-date-allowed":(p=r.layer.time)==null?void 0:p.maxValue,onChange:l},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-datepicker-range.vue"]]),R3=["onKeydown","aria-label","title"],ab=pe(ce({__name:"slider-range-thumb",props:{ariaLabel:{type:String,required:!1},maxLimit:{type:Number,required:!1,default:100},minLimit:{type:Number,required:!1,default:0},selectedValue:{type:Number,required:!0}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=ge(!1),s=ge(),a=ge(),o=fe(()=>{var E;return((E=s.value)==null?void 0:E.offsetWidth)||0}),l=fe(()=>{var E;return((E=a.value)==null?void 0:E.offsetWidth)||40}),u=ge(n.selectedValue),f=fe(()=>o.value*u.value/100-l.value/2),c=fe(()=>({left:`${f.value}px`}));di(()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y)}),Ge(()=>n.selectedValue,E=>{u.value=E});function h(E){u.value=Math.max(Math.min(E,100),0),r("change",u.value,i.value)}function d(){h(u.value-1)}function p(){h(u.value+1)}function m(){i.value=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",y)}function g(E){!i.value||h(v(E))}function y(E){i.value=!1,h(v(E)),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y)}function v(E){var O,T;const b=(O=s.value)!=null&&O.offsetWidth?(E.clientX-l.value*2)*100/((T=s.value)==null?void 0:T.offsetWidth):0;return Math.round(Math.max(Math.min(b,n.maxLimit),n.minLimit))}return(E,b)=>(L(),$("div",{class:"w-full",role:"slider",ref_key:"elRefTrack",ref:s},[C("button",{class:Ie(["lux-slidebar-thumb",i.value?"dragging":""]),ref_key:"elRefThumb",ref:a,style:ai(c.value),onKeydown:[fr(cr(p,["stop"]),["space"]),fr(cr(p,["stop"]),["right"]),fr(cr(d,["stop"]),["left"]),fr(cr(d,["stop"]),["delete"])],onMousedown:m,onMousemove:g,onMouseup:y,"aria-label":E.ariaLabel,title:E.ariaLabel},null,46,R3)],512))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/slider-range/slider-range-thumb.vue"]]),$3=pe(ce({__name:"slider-range-active-track",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=ge(),s=ge(),a=fe(()=>i.value?Math.round(i.value.offsetWidth*n.selectedMinValue/100):0),o=fe(()=>{var c,h;let f=0;return n.selectedMaxValue!==void 0&&((c=i.value)==null?void 0:c.offsetWidth)&&(f=((h=i.value)==null?void 0:h.offsetWidth)*n.selectedMaxValue/100-a.value),Math.round(f)}),l=fe(()=>({left:`${a.value}px`,width:`${o.value}px`}));function u(f){if(i.value){const c=i.value.getBoundingClientRect().x,h=(f.clientX-c)*100/i.value.offsetWidth;r("change",h)}}return(f,c)=>(L(),$("div",{ref_key:"elRefFullTrack",ref:i,class:"lux-slidebar-track"},[f.selectedMaxValue!==void 0?(L(),$("div",{key:0,ref_key:"elRefSelectionTrack",ref:s,class:"lux-slidebar-track-selection",style:ai(l.value),onClick:u},null,4)):I("v-if",!0),C("div",{class:"lux-slidebar-track-full",onClick:u})],512))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/slider-range/slider-range-active-track.vue"]]),F3={class:"lux-slidebar-fake"},ob=pe(ce({__name:"slider-range",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1},ariaLabelMin:{type:String,required:!1},ariaLabelMax:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=ge(n.selectedMinValue),s=ge(n.selectedMaxValue);function a(u,f){r("change",u,n.selectedMaxValue,f)}function o(u,f){r("change",n.selectedMinValue,u,f)}function l(u){s.value===void 0?i.value=u:u>=s.value?s.value=u:u<=n.selectedMinValue?i.value=u:Math.abs(s.value-u)<Math.abs(i.value-u)?s.value=u:i.value=u,r("change",i.value,s.value,!1)}return(u,f)=>(L(),$("div",F3,[I(" Draggable Max thumb button "),s.value!==void 0?(L(),$e(ab,{key:0,ariaLabel:u.ariaLabelMax,minLimit:u.selectedMinValue,selectedValue:s.value,onChange:o},null,8,["ariaLabel","minLimit","selectedValue"])):I("v-if",!0),I(" Draggable Min thumb button "),I(" put Min value after Max value, this is just for z-index grabbing "),Q(ab,{ariaLabel:u.ariaLabelMin,maxLimit:u.selectedMaxValue,selectedValue:i.value,onChange:a},null,8,["ariaLabel","maxLimit","selectedValue"]),I(" Selection highlight "),Q($3,{selectedMinValue:u.selectedMinValue,selectedMaxValue:u.selectedMaxValue,onChange:l},null,8,["selectedMinValue","selectedMaxValue"])]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/slider-range/slider-range.vue"]]),V3={class:"lux-time-slider w-full"},j3={key:0,class:"lux-time-slider-value mr-1.5"},G3={key:1,class:"lux-time-slider-range mr-1.5"},U3={class:"lux-time-displayed-dates"},B3={key:0,class:"lux-time-start-date grow"},W3={key:1,class:"lux-time-slider-end-date grow text-right"},q3=pe(ce({__name:"layer-time-slider",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const{t:n}=Ue(),r=t,i=e,s=fe(g),a=fe(()=>{var b,O;return(b=r.layer.time)!=null&&b.minValue?new Date((O=r.layer.time)==null?void 0:O.minValue).getTime():0}),o=fe(()=>{var b,O;return(b=r.layer.time)!=null&&b.maxValue?new Date((O=r.layer.time)==null?void 0:O.maxValue).getTime():0}),l=fe(()=>o.value-a.value),u=ge(r.layer.currentTimeMaxValue),f=ge(r.layer.currentTimeMinValue),c=fe(()=>f.value?new Date(f.value).getTime():void 0),h=fe(()=>u.value?new Date(u.value).getTime():void 0),d=fe(()=>m(c.value)),p=fe(()=>m(h.value));function m(b){return b?(b-a.value)/l.value*100:0}function g(){var D,P;const b=r.layer.time,O=[];if(!b)return;if(b.values)return b.values.map(te=>new Date(te).getTime());const T=new Date(b.minValue),M=new Date((D=b.maxValue)!=null?D:Date.now()),R=1024,F=new Date(T.getTime()),A=(P=b.interval)!=null?P:O0;if(F.setFullYear(T.getFullYear()+R*A[0]),F.setMonth(T.getMonth()+R*A[1],T.getDate()+R*A[2]),F.setSeconds(T.getSeconds()+R*A[3]),F>M)for(let te=0;;te++){const me=new Date(T.getTime());if(me.setFullYear(T.getFullYear()+te*A[0]),me.setMonth(T.getMonth()+te*A[1],T.getDate()+te*A[2]),me.setSeconds(T.getSeconds()+te*A[3]),me<=M)O.push(me.getTime());else break}return O}function y(b){var M;const O=b/100*(o.value-a.value)+a.value,T=FA(O,{minValue:a.value,maxValue:o.value,timeValueList:s.value,timeInterval:(M=r.layer.time)==null?void 0:M.interval});return Mh(T)}function v(b,O){const T=y(b);if(f.value=T,O){const M=y(O);u.value=M}}function E(b,O,T){v(b,O),T||i("changeTime",f.value,u.value)}return(b,O)=>{var T,M,R,F,A,D,P;return L(),$("div",V3,[I(" Slider LayerTimeMode.VALUE "),((T=b.layer.time)==null?void 0:T.mode)===w(Wr).VALUE?(L(),$("div",j3,[Q(ob,{ariaLabelMin:`${w(n)("Edit the start date",{ns:"app"})}`,selectedMinValue:d.value,onChange:E},null,8,["ariaLabelMin","selectedMinValue"])])):I("v-if",!0),I(" Slider LayerTimeMode.RANGE "),((M=b.layer.time)==null?void 0:M.mode)===w(Wr).RANGE?(L(),$("div",G3,[Q(ob,{ariaLabelMin:`${w(n)("Edit the start date",{ns:"app"})}`,ariaLabelMax:`${w(n)("Edit the end date",{ns:"app"})}`,selectedMinValue:d.value,selectedMaxValue:p.value,onChange:E},null,8,["ariaLabelMin","ariaLabelMax","selectedMinValue","selectedMaxValue"])])):I("v-if",!0),I(" Display localized time values "),C("div",U3,[I(" Display localized time values Min value "),((R=b.layer.time)==null?void 0:R.mode)===w(Wr).RANGE||((F=b.layer.time)==null?void 0:F.mode)===w(Wr).VALUE?(L(),$("div",B3,[C("span",null,ae(f.value?w(x0)(f.value,(A=b.layer.time)==null?void 0:A.resolution):"-"),1)])):I("v-if",!0),I(" Display localized time values Max value "),((D=b.layer.time)==null?void 0:D.mode)===w(Wr).RANGE?(L(),$("div",W3,[C("span",null,ae(u.value?w(x0)(u.value,(P=b.layer.time)==null?void 0:P.resolution):"-"),1)])):I("v-if",!0)])])}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-slider.vue"]]),H3=pe(ce({__name:"layer-time",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const n=e;function r(i,s){n("changeTime",i,s)}return(i,s)=>{var a,o,l,u,f;return L(),$(Fe,null,[I(" Layer time: slider widget "),((a=i.layer.time)==null?void 0:a.widget)===w(pu).SLIDER?(L(),$e(q3,{key:0,layer:i.layer,onChangeTime:r},null,8,["layer"])):I("v-if",!0),I(" Layer time: datepicker VALUE (one date) widget "),((o=i.layer.time)==null?void 0:o.widget)===w(pu).DATEPICKER&&((l=i.layer.time)==null?void 0:l.mode)===w(Wr).VALUE?(L(),$e(A3,{key:1,layer:i.layer,onChangeTime:r},null,8,["layer"])):I("v-if",!0),I(' Layer time: datepicker RANGE ("from:" date - "to:" date) widget '),((u=i.layer.time)==null?void 0:u.widget)===w(pu).DATEPICKER&&((f=i.layer.time)==null?void 0:f.mode)===w(Wr).RANGE?(L(),$e(k3,{key:2,layer:i.layer,onChangeTime:r},null,8,["layer"])):I("v-if",!0)],64)}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time.vue"]]),z3={class:"lux-layer-manager-item relative"},Y3={class:"w-full flex flex-nowrap items-start gap-x-2"},X3=["title"],K3=["aria-label","title"],Z3=["aria-expanded","aria-controls","data-cy"],J3={class:"grow"},Q3=["title","aria-label"],lb=pe(ce({__name:"layer-item",props:{is3d:{type:Boolean,required:!0},layer:{type:Object,required:!0},dragHandleClassName:{type:String,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["clickInfo","clickToggle","clickToggleLayerComparator","clickRemove","changeOpacity","changeTime"],setup(t,{emit:e}){const n=t,r=e,{t:i,onClickInfo:s}=sb(n.layer,{emit:r}),a=En(),o=fe(()=>i(a.getLayerCurrentLabel(n.layer),{ns:"client"})),l=fe(()=>!_s().isOffLine.value),u=fe(()=>i('Sort "{{layerName}}" in the list',{ns:"app",layerName:o.value})),f=fe(()=>i('Display informations for "{{layerName}}"',{ns:"app",layerName:o.value})),c=fe(()=>i('Remove layer "{{layerName}}"',{ns:"app",layerName:o.value}));function h(d,p){r("changeTime",d,p)}return(d,p)=>(L(),$("div",z3,[C("div",Y3,[C("button",{class:Ie(["fa-solid fa-bars cursor-move mt-1",d.dragHandleClassName]),title:u.value},null,10,X3),l.value?(L(),$("button",{key:0,class:"fa-solid fa-info mt-1","aria-label":f.value,title:f.value,onClick:p[0]||(p[0]=(...m)=>w(s)&&w(s)(...m))},null,8,K3)):I("v-if",!0),C("button",{"aria-expanded":d.isOpen,"aria-controls":`layer-manager-item-content-${d.layer.id}`,"data-cy":`myLayerItemLabel-${d.layer.id}`,class:Ie([d.is3d?"cursor-default":"","grow text-left break-words w-[70%] flex items-center"]),onClick:p[1]||(p[1]=m=>d.$emit("clickToggle",d.layer))},[C("span",J3,ae(o.value),1),d.is3d?I("v-if",!0):(L(),$("span",{key:0,class:Ie(["w-3.5 fa-solid",d.isOpen?"fa-xmark":"fa-ellipsis"]),"aria-hidden":"true"},null,2))],10,Z3),C("button",{class:"mt-1 fa-regular fa-trash-can",title:c.value,"aria-label":c.value,onClick:p[2]||(p[2]=m=>d.$emit("clickRemove",d.layer))},null,8,Q3)]),I(" Layer item sub content (opacity and toggle comparator) "),d.is3d?I("v-if",!0):(L(),$e(T3,{key:0,layer:d.layer,isOpen:d.isOpen,isLayerComparatorOpen:d.isLayerComparatorOpen,displayLayerComparatorOpen:d.displayLayerComparatorOpen,onClickToggleLayerComparator:p[3]||(p[3]=m=>d.$emit("clickToggleLayerComparator",m)),onChangeOpacity:p[4]||(p[4]=(m,g)=>d.$emit("changeOpacity",m,g))},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen"])),I(" Layer time: slider OR datepicker widgets "),d.layer.time?(L(),$e(H3,{key:1,layer:d.layer,onChangeTime:h},null,8,["layer"])):I("v-if",!0)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-item/layer-item.vue"]]),e4={key:0,class:"text-black"},t4={key:1,class:"mb-4 sortable-layers-3d"},n4=["id"],r4={class:"sortable-layers"},i4=["id"],s4={key:2,class:"flex flex-row justify-center space-x-1 my-2"},a4=C("div",{class:"lux-preload"},[C("i",{class:"fa-regular fa-trash-can"})],-1),Sd="drag-handle",o4=pe(ce({__name:"layer-manager",emits:["displayCatalog"],setup(t,{emit:e}){const{t:n}=Ue(),{setMetadataId:r}=$h(),i=it(),s=rt(),a=Yr(),o=dc(),{bgLayer:l}=Pe(i),{sliderActive:u}=Pe(o),{isOffLine:f}=Pe(s),{setRemoteLayersOpen:c}=s,h=fe(()=>[...i.layers].reverse()),d=fe(()=>[...i.layers3d].reverse()),p=at(),m=fe(()=>a.isLayerStyleEditable(l.value)),g=fe(()=>!f.value),y=e;ln(()=>{const A={dragClass:"lux-sortable-drag",ghostClass:"lux-sortable-ghost",sort:!0,handle:`.${Sd}`,forceFallback:zA},D=document.querySelector(".sortable-layers"),P=document.querySelector(".sortable-layers-3d");D&&_e.create(D,{...A,onSort:v}),P&&_e.create(P,{...A,onSort:E})});function v(A,D){const P=[...A.to.children].map(te=>Number(te.id)).reverse();i.reorderLayers(P,D)}function E(A){v(A,!0)}function b(A,D){i.setLayerOpacity(A.id,D/100)}function O(A,D,P){i.setLayerTime(A.id,D,P)}function T(A){i.removeLayers(A.id)}function M(A){p.value=p.value!==A.id?A.id:void 0}function R(){s.openStyleEditorPanel()}function F(){o.toggleSlider()}return(A,D)=>(L(),$("div",null,[w(f)&&h.value.length===0?(L(),$("div",e4,ae(w(n)("No layer selected",{ns:"client"})),1)):I("v-if",!0),d.value.length>0?(L(),$("ul",t4,[(L(!0),$(Fe,null,Ln(d.value,(P,te)=>(L(),$("li",{key:P.id,id:P.id},[Q(lb,{is3d:!0,dragHandleClassName:Sd,layer:P,isOpen:p.value===P.id,isLayerComparatorOpen:w(u),displayLayerComparatorOpen:te===0,onClickRemove:T,onClickToggle:M,onClickToggleLayerComparator:F,onClickInfo:me=>w(r)(P.id),onChangeOpacity:b,onChangeTime:(me,N)=>O(P,me,N)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,n4))),128))])):I("v-if",!0),C("ul",r4,[(L(!0),$(Fe,null,Ln(h.value,(P,te)=>(L(),$("li",{key:P.id,id:P.id},[Q(lb,{is3d:!1,dragHandleClassName:Sd,layer:P,isOpen:p.value===P.id,isLayerComparatorOpen:w(u),displayLayerComparatorOpen:te===0,onClickRemove:T,onClickToggle:M,onClickToggleLayerComparator:F,onClickInfo:me=>w(r)(P.id),onChangeOpacity:b,onChangeTime:(me,N)=>O(P,me,N)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,i4))),128))]),Q(w3,{layer:w(l)||w(Gu),showEditButton:m.value,onClickInfo:D[0]||(D[0]=()=>w(l)&&w(r)(w(l).id)),onClickEdit:R},null,8,["layer","showEditButton"]),g.value?(L(),$("div",s4,[C("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:D[1]||(D[1]=P=>y("displayCatalog"))},ae(w(n)("+ Add layers",{ns:"client"})),1),C("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:D[2]||(D[2]=P=>w(c)(!0))},ae(w(n)("+ Add external Wms",{ns:"client"})),1)])):I("v-if",!0),I(" Preload webfont "),a4]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-manager.vue"]]),l4=["data-cy"],u4={key:0,class:"h-16 shrink-0 flex justify-between lux-panel-title"},c4=["aria-label"],f4={key:1,class:"flex flex-row gap-2 h-10 text-2xl"},h4={class:"relative grow p-2.5 bg-primary overflow-auto"},Od=pe(ce({__name:"side-panel-layout",props:{dataCyValue:{type:String,required:!0},closeFn:{type:Function,required:!0}},setup(t){const{t:e}=Ue();return(n,r)=>(L(),$("div",{"data-cy":n.dataCyValue,class:"flex flex-col h-full pt-1.5"},[I(" Panel title and close button "),n.$slots.header?(L(),$("div",u4,[Da(n.$slots,"header"),C("span",null,[C("button",{onClick:r[0]||(r[0]=()=>n.closeFn()),"aria-label":w(e)("Close",{ns:"client"}),class:"fa-sharp fa-solid fa-close"},null,8,c4)])])):I("v-if",!0),I(" Tabs "),n.$slots.tabs?(L(),$("div",f4,[Da(n.$slots,"tabs")])):I("v-if",!0),I(" Panel content "),C("div",h4,[Da(n.$slots,"content")])],8,l4))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/side-panel-layout.vue"]]),d4=["aria-expanded"],p4={key:0},m4=["aria-expanded"],ub=pe(ce({__name:"layer-panel",setup(t){const{t:e}=Ue(),n=rt(),{setLayersOpen:r}=n,{myLayersTabOpen:i}=Pe(n),{layers:s}=Pe(it()),a=fe(()=>!_s().isOffLine.value),o=fe(()=>i.value||_s().isOffLine.value);function l(){n.setMyLayersTabOpen(!0)}function u(){n.setMyLayersTabOpen(!1)}return(f,c)=>(L(),$e(Od,{"data-cy-value":"layerPanel","close-fn":()=>w(r)(!1)},{header:jt(()=>[C("h1",null,ae(w(e)("layers",{ns:"client"})),1)]),tabs:jt(()=>[C("button",{onClick:l,class:Ie(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",o.value?"bg-primary":"bg-tertiary"]),"aria-expanded":o.value},[ja(ae(w(e)("my_layers",{ns:"client"}))+" ",1),w(s).length?(L(),$("span",p4,"("+ae(w(s).length)+")",1)):I("v-if",!0)],10,d4),a.value?(L(),$("button",{key:0,onClick:u,class:Ie(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",o.value?"bg-tertiary":"bg-primary"]),"aria-expanded":!o.value},ae(w(e)("Catalog",{ns:"client"})),11,m4)):I("v-if",!0)]),content:jt(()=>[o.value?(L(),$e(o4,{key:0,onDisplayCatalog:u})):I("v-if",!0),o.value?I("v-if",!0):(L(),$e(WR,{key:1}))]),_:1},8,["close-fn"]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-panel/layer-panel.vue"]]);class g4{bootstrap(){let e;e=on(()=>{this.restore(),this.persist(),e&&e()})}persist(){const e=dc();Ge([()=>e.sliderActive,()=>e.sliderRatio],([n,r],[i])=>{n!==i&&Ne.setValue(Ch,n),Ne.setValue(Ah,r)})}restore(){const e=Ne.getValue(Ch,Nh),n=Ne.getValue(Ah,ua),{toggleSlider:r,setRatio:i}=dc();typeof e<"u"&&e!==null&&(r(e),typeof n!==void 0&&n!==null&&i(n!=null?n:ib))}}const y4=new g4,v4=["onKeydown"],_4=C("span",{class:"lux-slider-line"},null,-1),b4=C("span",{class:"lux-slider-arrows"},[C("span"),C("span")],-1),E4={key:0,class:"lux-slider-layer-label"},w4=C("i",{class:"fa fa-arrow-left mr-2"},null,-1),cb=30,S4=pe(ce({__name:"splitter-element",props:{sliderActive:{type:Boolean,required:!0},sliderRatio:{type:Number,required:!0},sliderTopLayer:{type:Object,required:!0},sliderOffset:{type:Number,required:!0},containerOffset:{type:Number,required:!0}},emits:["moveSplitBar","escSplitBar"],setup(t,{expose:e,emit:n}){const r=t,i=n,{t:s}=Ue(),a=ge(null),o=fe(()=>({left:`${r.sliderOffset}px`}));let l=!1;e({sliderElement:a});function u(g){i("moveSplitBar",g+a.value.offsetWidth/2)}function f(){l=!0,document.addEventListener("mousemove",c),document.addEventListener("mouseup",h)}function c(g){!l||u(g.clientX)}function h(){l=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}function d(){const g=r.containerOffset+a.value.offsetLeft;u(g+cb)}function p(){const g=r.containerOffset+a.value.offsetLeft;u(g-cb)}function m(){i("escSplitBar")}return ln(()=>{var g;(g=a.value)==null||g.focus({focusVisible:!0})}),di(()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}),(g,y)=>(L(),$("button",{ref_key:"sliderElement",ref:a,onMousedown:f,onMousemove:c,onMouseup:h,onKeydown:[fr(cr(d,["stop"]),["space"]),fr(cr(d,["stop"]),["right"]),fr(cr(p,["stop"]),["left"]),fr(cr(p,["stop"]),["delete"]),fr(cr(m,["stop"]),["esc"])],class:"left-[20px] absolute h-full w-[32px] block",style:ai(o.value),role:"seperator","aria-controls":"map-container"},[_4,b4,g.sliderTopLayer?(L(),$("span",E4,[w4,C("span",null,ae(w(s)(g.sliderTopLayer.name)),1)])):I("v-if",!0)],44,v4))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/slider/splitter-element.vue"]]),fb=pe(ce({__name:"slider-comparator",setup(t){const e=dc(),n=Dh(),r=_n().olMap,i=ge(null),{sliderActive:s,sliderRatio:a,sliderTopLayer:o}=Pe(e),l=fe(()=>{var v,E;return((E=(v=i.value)==null?void 0:v.sliderElement)==null?void 0:E.offsetWidth)||0}),u=function(){var E,b,O;let v=(O=(b=(E=r.value)==null?void 0:E.getViewport())==null?void 0:b.parentElement)==null?void 0:O.offsetLeft;return(v===void 0||v===0)&&(v=d==null?void 0:d.offsetLeft),v!==void 0?v:0},f=fe(()=>{var v,E;return r.value&&i.value?a.value*r.value.getSize()[0]-((E=(v=i.value)==null?void 0:v.sliderElement)==null?void 0:E.offsetWidth)/2:0});let c,h,d;y4.bootstrap(),Ge([o,s],([v,E],[b])=>{var O;v&&E?(v!==b&&m(),p()):m(),(O=r.value)==null||O.render()}),Ge(f,()=>{var v;(v=r.value)==null||v.render()});function p(){const v=n.getLayerFromCache(o.value);!v||(c=v.on(jd.default.PRERENDER,function(E){var D;const b=E.context,O=(D=r.value)==null?void 0:D.getSize(),T=f.value+l.value/2,M=Zo.getRenderPixel(E,[0,0]),R=Zo.getRenderPixel(E,[T,0]),F=Zo.getRenderPixel(E,[0,O[1]]),A=Zo.getRenderPixel(E,[T,O[1]]);b.save(),b.beginPath(),b.moveTo(M[0],M[1]),b.lineTo(F[0],F[1]),b.lineTo(A[0],A[1]),b.lineTo(R[0],R[1]),b.closePath(),b.clip()}),h=v.on(jd.default.POSTRENDER,function(E){E.context.restore()}))}function m(){p1.unByKey([c,h])}function g(v){var O;const E=(O=r.value)==null?void 0:O.getSize(),b=(v-u())/E[0];e.setRatio(b)}function y(){e.toggleSlider()}return ln(()=>{var v,E;d=(E=(v=r.value)==null?void 0:v.getTargetElement())==null?void 0:E.closest(".map-wrapper")}),di(()=>{m()}),(v,E)=>w(o)&&w(s)?(L(),$e(S4,{key:0,ref_key:"splitterElement",ref:i,sliderActive:w(s),sliderRatio:w(a),sliderTopLayer:w(o),sliderOffset:f.value,containerOffset:u(),onMoveSplitBar:g,onEscSplitBar:y},null,8,["sliderActive","sliderRatio","sliderTopLayer","sliderOffset","containerOffset"])):I("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/slider/slider-comparator.vue"]]),pc="-",xd=",",hb="--";class O4{constructor(){nt(this,"layersOpacitiesToNumbersV2",e=>this.layersOpacitiesToNumbers(e,xd))}layerTimesToStrings(e){return e?e.split(hb):[]}layerIdsToLayers(e){const n=Hr(),r=En();return(e?e.split(pc):[]).map(s=>{const a=Do.isRemoteLayer(s)?AD(s):n.findById(parseInt(s,10));return a?r.initLayer(a):void 0})}layerNamesToLayersV2(e){const n=Hr(),r=En();return(e?e.split(xd):[]).map(s=>{const a=n.findByName(s);return a?r.initLayer(a):void 0})}layersOpacitiesToNumbers(e,n=pc){return WA(e,n)}layersVisibilitiesToBooleansV2(e){return qA(e,xd)}layersToLayerIds(e){return(e==null?void 0:e.map(n=>n.id).join(pc))||""}layersToLayerOpacities(e){return(e==null?void 0:e.map(n=>{var r;return(r=n.opacity)!=null?r:1}).join(pc))||""}layersToLayerTimes(e){return(e==null?void 0:e.map(n=>{var r;return(r=En().getLayerCurrentTime(n))!=null?r:""}).join(hb))||""}bgLayerNameToBgLayer(e){const n=Hr();return e?n.findBgLayerByName(e):null}bgLayerToBgLayerName(e){return(e==null?void 0:e.name)||Gu.name}}const Mn=new O4,x4="basemap_2015_global",M4="orthogr_2013_global",T4={webbasemap:"basemap_2015_global","pixelmaps-color":"topogr_global","pixelmaps-gray":"topo_bw_jpeg",streets:"streets_jpeg",voidlayer:"blank"};class N4{bootstrap(){const e=zt();let n;n=on(()=>{e.bgLayers.length>0&&(this.restore(),this.persist(),n&&n())})}persist(){const e=it(),{bgLayer:n}=Pe(e);Ge(n,(r,i)=>{i!==r&&Ne.setValue(A0,r,Mn.bgLayerToBgLayerName)},{immediate:!0})}restore(){const{setMapBackground:e}=kh(),n=this.getBgLayerFromStorage();e(n)}getBgLayerFromStorage(){const e=Ne.getInitialVersion(),n=Ne.getValue(A0);return n?e===2?this.getBgLayerFromStorageV2(n):Mn.bgLayerNameToBgLayer(n):Mn.bgLayerNameToBgLayer(x4)}getBgLayerFromStorageV2(e){const n=Ne.getValue(F0,ua);let r="";return e?r=T4[e]:n===0&&(r=M4),Mn.bgLayerNameToBgLayer(r)}}const db=new N4;class L4{bootstrap(){const e=zt();let n;n=on(()=>{e.themes&&(this.restore(),this.persist(),n&&n())})}persist(){const e=it(),{layers:n}=Pe(e);Ge(n,(r,i)=>{i!==r&&(Ne.setValue(C0,r,Mn.layersToLayerIds),Ne.setValue(P0,r,Mn.layersToLayerOpacities),Ne.setValue(D0,r,Mn.layersToLayerTimes))},{immediate:!0})}restore(){const e=Ne.getInitialVersion(),n=it(),r=Ne.getValue(C0,e===2?Mn.layerNamesToLayersV2:Mn.layerIdsToLayers);this.restoreLayersOpacities(r,e),this.restoreLayersTimes(r),e===2&&(Ne.removeItem(F0),Ne.removeItem(eP),Ne.removeItem(V0),Ne.removeItem(j0)),n.addLayers(...(r==null?void 0:r.filter(i=>i))||[])}restoreLayersOpacities(e,n){const r=n===2?this.getOpacitiesFromStorageV2():this.getOpacitiesFromStorage();r.length&&(e==null||e.forEach((i,s)=>{var a;return i&&(i.opacity=(a=r[s])!=null?a:1)}))}restoreLayersTimes(e){const n=Ne.getValue(D0,Mn.layerTimesToStrings);n.length&&(e==null||e.forEach((r,i)=>r&&n[i]&&this.restoreLayerTime(r,n[i])))}restoreLayerTime(e,n){const r=n.split("/");e.currentTimeMinValue=r[0],e.currentTimeMaxValue=r[1]}getOpacitiesFromStorage(){return Ne.getValue(P0,Mn.layersOpacitiesToNumbers)}getOpacitiesFromStorageV2(){const e=Ne.getValue(V0,Mn.layersOpacitiesToNumbersV2),n=Ne.getValue(j0,Mn.layersVisibilitiesToBooleansV2);return e.map((r,i)=>n[i]?r:0)}}const pb=new L4;class C4{themeToThemeName(e){return(e==null?void 0:e.name)||""}}const A4=new C4;class P4{bootstrap(){this.restore();let e;e=on(()=>{this.persist(),e&&e()})}persist(){const e=zt();Ge(()=>e.theme,(n,r)=>{r!==n&&n&&Ne.setValue(Lo,n,A4.themeToThemeName)},{immediate:!0})}restore(){const e=Ne.getValue(Lo);if(e){const{setTheme:n}=zt();n(e)}}}const mb=new P4;class D4{bootstrap(){this.restore();let e;e=on(()=>{this.persist(),e&&e()})}persist(){this.persistLayersOpen()}persistLayersOpen(){const e=rt(),{layersOpen:n}=Pe(e);Ge(n,(r,i)=>{i!==r&&Ne.setValue(Ru,r)},{immediate:!0})}restore(){this.restoreLayersOpen(),this.restoreEmbeddedMode()}restoreEmbeddedMode(){const e=Ne.getValue(YA),n=e!==null&&e!=="false",{embedded:r}=Pe(rt());r.value=n}restoreLayersOpen(){const e=Ne.getValue(Ru)!=="false",{setLayersOpen:n}=rt();n(e)}}const gb=new D4;class I4{bootstrap(){this.restore();let e;e=on(()=>{this.persist(),e&&e()})}persist(){}restore(){const e=Ne.getValue(ZA);rt().setMapId(e)}}const yb=new I4,k4=pe(ce({__name:"simple-style-item",props:{styleName:{type:String,required:!0},colors:{type:Array,required:!0}},setup(t){const e=t;return(n,r)=>(L(!0),$(Fe,null,Ln(e.colors,(i,s)=>(L(),$("span",{key:`${n.styleName}-${s}`,class:"grow m-px",style:ai(`background-color: ${i}`)}," \xA0 ",4))),128))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/simple-style-item.vue"]]),R4={class:"text-white border-2 p-[10px] m-[10px]"},$4={class:"text-center mb-3"},F4=["title"],V4={class:"text-white"},j4=["title","onClick"],G4={class:"flex"},U4=pe(ce({__name:"simple-style-selector",setup(t){const{t:e}=Ue(),n=Vn(),r=Yr(),{bgStyle:i}=Pe(n),s=zr().simple_styles.road,a=ge(s);Ge(i,l=>a.value=r.checkSelection(l||[],s),{immediate:!0});function o(l){n.setSimpleStyle(l)}return(l,u)=>(L(),$("div",R4,[I(" TODO: create clean container for simple and advanced style editors "),C("h5",$4,ae(w(e)("S\xE9lectionner un set de couleurs",{ns:"client"})),1),(L(!0),$(Fe,null,Ln(a.value,f=>(L(),$("div",{key:f.unlocalized_label,title:w(e)(f.unlocalized_label,{ns:"client"}),class:Ie(`${f.selected?"border-dotted":"border-hidden"} border-2 p-px`)},[C("span",V4,ae(w(e)(f.unlocalized_label,{ns:"client"}))+" : ",1),C("button",{title:w(e)("Select style: {{styleName}}",{ns:"app",styleName:w(e)(f.unlocalized_label)}),onClick:c=>o(f),class:"w-full"},[C("span",G4,[Q(k4,{colors:f.colors,"style-name":f.unlocalized_label},null,8,["colors","style-name"])])],8,j4)],10,F4))),128))]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/simple-style-selector.vue"]]);function B4(t){const e=W4(t);return!e||!e.medium_style_class?[]:zr().medium_default_styles[e.medium_style_class]}function W4(t){return zr().bg_layers.find(e=>e.id==(t==null?void 0:t.id))}const q4={class:"flex w-full items-center"},H4={for:"colorId",class:"w-40 m-0 font-medium"},z4={class:"grow"},Y4=["value"],X4=["checked","aria-label"],K4=pe(ce({__name:"medium-style-item",props:{style:{type:Object,required:!0},colorEditable:{type:Boolean,required:!0}},emits:["changeStyle"],setup(t,{emit:e}){const{t:n}=Ue(),r=t,i=e;function s(o){if(o.target){const l={...r.style,color:o.target.value};i("changeStyle",l)}}function a(o){if(o){const l={...r.style,visible:o.target.checked};i("changeStyle",l)}}return(o,l)=>(L(),$("div",q4,[C("label",H4,ae(w(n)(o.style.label)),1),C("div",z4,[o.colorEditable&&r.style.color?(L(),$("input",{key:0,id:"colorId",type:"color",class:"w-11 h-5 py-[1px] px-[2px]",value:r.style.color,onInput:s},null,40,Y4)):I("v-if",!0)]),C("input",{type:"checkbox",class:"flex-none mr-3",checked:r.style.visible,onChange:a,"aria-label":w(n)("Show or hide {{thematicName}}",{ns:"app",thematicName:r.style.label})},null,40,X4)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/medium-style-item.vue"]]),Z4={class:"text-white border-2 p-[10px] m-[10px]"},J4={class:"text-center mb-3"},Q4=pe(ce({__name:"medium-style-selector",props:{layer:{type:Object,required:!0}},setup(t){const e=["basemap_2015_global"],n=Vn(),{bgStyle:r}=Pe(n),{t:i}=Ue(),s=t,a=fe(()=>e.includes(s.layer.name)),o=fe(()=>r.value||B4(s.layer));function l(u,f){r.value=o.value.map((c,h)=>h===u?f:c),n.disableExpertStyle()}return(u,f)=>(L(),$("div",Z4,[C("h5",J4,ae(a.value?w(i)("S\xE9lectionner une couleur par couche"):w(i)("Afficher une cat\xE9gorie par couche")),1),(L(!0),$(Fe,null,Ln(o.value,(c,h)=>(L(),$e(K4,{key:c.label,style:ai(c),onChangeStyle:d=>l(h,d),colorEditable:a.value},null,8,["style","onChangeStyle","colorEditable"]))),128))]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/medium-style-selector.vue"]]);var vb={exports:{}};(function(t,e){(function(n,r){r()})(Or,function(){function n(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,f,c){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,f,c)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Or=="object"&&Or.global===Or?Or:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,f,c){var h=a.URL||a.webkitURL,d=document.createElement("a");f=f||u.name||"download",d.download=f,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?s(d):i(d.href)?r(u,f,c):s(d,d.target="_blank")):(d.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,c){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,c),f);else if(i(u))r(u,f,c);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){s(h)})}}:function(u,f,c,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return r(u,f,c);var d=u.type==="application/octet-stream",p=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||d&&p||o)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var E=g.result;E=m?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=E:location=E,h=null},g.readAsDataURL(u)}else{var y=a.URL||a.webkitURL,v=y.createObjectURL(u);h?h.location=v:location.href=v,h=null,setTimeout(function(){y.revokeObjectURL(v)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(vb);const e6={class:"text-white border-2 p-[10px] m-[10px] flex flex-col overflow-hidden"},t6={class:"text-center mb-3"},n6={class:"flex flex-row justify-center"},r6={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium text-white"},i6={class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] text-sm hover:bg-secondary"},s6={class:"'block z-[5] w-full h-full cursor-pointer after:absolute after:pt-[15px] after:px-[15px] after:w-full after:text-center after:content-upload",for:"uploadMvtStyle"},a6={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium"},o6=["href"],l6=pe(ce({__name:"expert-style-selector",setup(t){const e=it(),n=Vn(),r=Yr(),{appliedStyle:i}=Pe(n),{t:s}=Ue();function a(){const u=i.value,f=JSON.stringify(u),c=new Blob([f],{type:"text/plain;charset=utf-8"}),h="styles.json";vb.exports.saveAs(c,h)}function o(u){const f=u.target.files;if((f==null?void 0:f.length)!==1)return;const c=f[0];new File([],"./text.txt").text().then(d=>console.log(d)),c.type==="application/json"&&(c.text().then(d=>{n.enableExpertStyle(),i.value=JSON.parse(d)}),u.target.value="")}function l(){return n.styleSerial===null?r.getDefaultMapBoxStyleUrl(r.getVectorId(e.bgLayer)):`${fa.mvtStylesGetUrl}?id=${n.styleSerial}`}return(u,f)=>(L(),$("div",e6,[C("h5",t6,ae(w(s)("Lancer \xE9diteur externe ou importer json")),1),C("div",n6,[C("a",{href:"#",class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] z-5 text-sm after:absolute after:left-[20px] after:top-[10px] after:z-4 after:w-[3.6em] after:text-center after:content-download hover:bg-secondary",onClick:f[0]||(f[0]=c=>a())},[C("span",r6,ae(w(s)("Download style")),1)]),C("div",i6,[C("label",s6,[C("span",a6,ae(w(s)("Upload style")),1)]),C("input",{class:"invisible",type:"file",name:"uploadMvtStyle",id:"uploadMvtStyle",onChange:o},null,32)])]),C("a",{href:`https://maputnik.github.io/editor/?style=${l()}`,target:"_blank",class:"lux-btn text-center"},ae(w(s)("Open Maputnik editor")),9,o6)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/expert-style-selector.vue"]]),u6={key:0,class:"lux"},c6={key:0,class:"mb-px"},f6={key:1,class:"mb-px"},h6={key:2,class:"mb-px"},_b=pe(ce({__name:"style-selector",setup(t){const{t:e}=Ue(),n=it(),r=rt(),i=Vn(),{bgStyle:s,isExpertStyleActive:a}=Pe(i),{bgLayer:o}=Pe(n),{styleEditorOpenedSection:l}=Pe(r),u=Yr(),f=fe(()=>u.getStyleCapabilitiesFromLayer(o.value)),c=fe(()=>f.value.styleEditors);Ge(o,m=>{u.isLayerStyleEditable(m)?h():r.closeStyleEditorPanel()}),ln(()=>{h()});function h(){(!l.value||!c.value.includes(l.value))&&(l.value=c.value[0])}function d(){i.setStyle(null)}function p(m){l.value=l.value===m?void 0:m}return(m,g)=>f.value.isEditable?(L(),$("div",u6,[c.value.includes(w(wn).simpleStyle)?(L(),$("div",c6,[Q(Uu,{title:w(e)("Simple"),expanded:w(l)===w(wn).simpleStyle,onTogglePanel:g[0]||(g[0]=()=>p(w(wn).simpleStyle))},{default:jt(()=>[Q(U4)]),_:1},8,["title","expanded"])])):I("v-if",!0),c.value.includes(w(wn).mediumStyle)?(L(),$("div",f6,[Q(Uu,{title:w(e)("Medium"),expanded:w(l)===w(wn).mediumStyle,onTogglePanel:g[1]||(g[1]=()=>p(w(wn).mediumStyle))},{default:jt(()=>[w(o)?(L(),$e(Q4,{key:0,layer:w(o)},null,8,["layer"])):I("v-if",!0)]),_:1},8,["title","expanded"])])):I("v-if",!0),c.value.includes(w(wn).advancedStyle)?(L(),$("div",h6,[Q(Uu,{title:w(e)("Expert (style.json)"),expanded:w(l)===w(wn).advancedStyle,onTogglePanel:g[2]||(g[2]=()=>p(w(wn).advancedStyle))},{default:jt(()=>[w(o)?(L(),$e(l6,{key:0,layer:w(o)},null,8,["layer"])):I("v-if",!0)]),_:1},8,["title","expanded"])])):I("v-if",!0),w(s)||w(a)?(L(),$("button",{key:3,onClick:d,class:"lux-btn my-2"},ae(w(e)("R\xE9initialiser style",{ns:"client"})),1)):I("v-if",!0)])):I("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/style-selector.vue"]]);function Md(t){return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function bb(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Md(XMLHttpRequest))==="object"}function d6(t){return!!t&&typeof t.then=="function"}function p6(t){return d6(t)?t:Promise.resolve(t)}function m6(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mc={exports:{}},gc={exports:{}},Eb;function g6(){return Eb||(Eb=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Or<"u"&&Or,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(a){var o=typeof s<"u"&&s||typeof self<"u"&&self||typeof o<"u"&&o,l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(N){return N&&DataView.prototype.isPrototypeOf(N)}if(l.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(N){return N&&f.indexOf(Object.prototype.toString.call(N))>-1};function h(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function d(N){return typeof N!="string"&&(N=String(N)),N}function p(N){var V={next:function(){var z=N.shift();return{done:z===void 0,value:z}}};return l.iterable&&(V[Symbol.iterator]=function(){return V}),V}function m(N){this.map={},N instanceof m?N.forEach(function(V,z){this.append(z,V)},this):Array.isArray(N)?N.forEach(function(V){this.append(V[0],V[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(V){this.append(V,N[V])},this)}m.prototype.append=function(N,V){N=h(N),V=d(V);var z=this.map[N];this.map[N]=z?z+", "+V:V},m.prototype.delete=function(N){delete this.map[h(N)]},m.prototype.get=function(N){return N=h(N),this.has(N)?this.map[N]:null},m.prototype.has=function(N){return this.map.hasOwnProperty(h(N))},m.prototype.set=function(N,V){this.map[h(N)]=d(V)},m.prototype.forEach=function(N,V){for(var z in this.map)this.map.hasOwnProperty(z)&&N.call(V,this.map[z],z,this)},m.prototype.keys=function(){var N=[];return this.forEach(function(V,z){N.push(z)}),p(N)},m.prototype.values=function(){var N=[];return this.forEach(function(V){N.push(V)}),p(N)},m.prototype.entries=function(){var N=[];return this.forEach(function(V,z){N.push([z,V])}),p(N)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function g(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function y(N){return new Promise(function(V,z){N.onload=function(){V(N.result)},N.onerror=function(){z(N.error)}})}function v(N){var V=new FileReader,z=y(V);return V.readAsArrayBuffer(N),z}function E(N){var V=new FileReader,z=y(V);return V.readAsText(N),z}function b(N){for(var V=new Uint8Array(N),z=new Array(V.length),Z=0;Z<V.length;Z++)z[Z]=String.fromCharCode(V[Z]);return z.join("")}function O(N){if(N.slice)return N.slice(0);var V=new Uint8Array(N.byteLength);return V.set(new Uint8Array(N)),V.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(N){this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:l.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:l.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():l.arrayBuffer&&l.blob&&u(N)?(this._bodyArrayBuffer=O(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||c(N))?this._bodyArrayBuffer=O(N):this._bodyText=N=Object.prototype.toString.call(N):this._bodyText="",this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var N=g(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var N=g(this);return N||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var N=g(this);if(N)return N;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function R(N){var V=N.toUpperCase();return M.indexOf(V)>-1?V:N}function F(N,V){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');V=V||{};var z=V.body;if(N instanceof F){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,V.headers||(this.headers=new m(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!z&&N._bodyInit!=null&&(z=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=V.credentials||this.credentials||"same-origin",(V.headers||!this.headers)&&(this.headers=new m(V.headers)),this.method=R(V.method||this.method||"GET"),this.mode=V.mode||this.mode||null,this.signal=V.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(z),(this.method==="GET"||this.method==="HEAD")&&(V.cache==="no-store"||V.cache==="no-cache")){var Z=/([?&])_=[^&]*/;if(Z.test(this.url))this.url=this.url.replace(Z,"$1_="+new Date().getTime());else{var Ae=/\?/;this.url+=(Ae.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function A(N){var V=new FormData;return N.trim().split("&").forEach(function(z){if(z){var Z=z.split("="),Ae=Z.shift().replace(/\+/g," "),De=Z.join("=").replace(/\+/g," ");V.append(decodeURIComponent(Ae),decodeURIComponent(De))}}),V}function D(N){var V=new m,z=N.replace(/\r?\n[\t ]+/g," ");return z.split("\r").map(function(Z){return Z.indexOf(`
`)===0?Z.substr(1,Z.length):Z}).forEach(function(Z){var Ae=Z.split(":"),De=Ae.shift().trim();if(De){var Et=Ae.join(":").trim();V.append(De,Et)}}),V}T.call(F.prototype);function P(N,V){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');V||(V={}),this.type="default",this.status=V.status===void 0?200:V.status,this.ok=this.status>=200&&this.status<300,this.statusText=V.statusText===void 0?"":""+V.statusText,this.headers=new m(V.headers),this.url=V.url||"",this._initBody(N)}T.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},P.error=function(){var N=new P(null,{status:0,statusText:""});return N.type="error",N};var te=[301,302,303,307,308];P.redirect=function(N,V){if(te.indexOf(V)===-1)throw new RangeError("Invalid status code");return new P(null,{status:V,headers:{location:N}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(V,z){this.message=V,this.name=z;var Z=Error(V);this.stack=Z.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function me(N,V){return new Promise(function(z,Z){var Ae=new F(N,V);if(Ae.signal&&Ae.signal.aborted)return Z(new a.DOMException("Aborted","AbortError"));var De=new XMLHttpRequest;function Et(){De.abort()}De.onload=function(){var Le={status:De.status,statusText:De.statusText,headers:D(De.getAllResponseHeaders()||"")};Le.url="responseURL"in De?De.responseURL:Le.headers.get("X-Request-URL");var Rt="response"in De?De.response:De.responseText;setTimeout(function(){z(new P(Rt,Le))},0)},De.onerror=function(){setTimeout(function(){Z(new TypeError("Network request failed"))},0)},De.ontimeout=function(){setTimeout(function(){Z(new TypeError("Network request failed"))},0)},De.onabort=function(){setTimeout(function(){Z(new a.DOMException("Aborted","AbortError"))},0)};function Kt(Le){try{return Le===""&&o.location.href?o.location.href:Le}catch{return Le}}De.open(Ae.method,Kt(Ae.url),!0),Ae.credentials==="include"?De.withCredentials=!0:Ae.credentials==="omit"&&(De.withCredentials=!1),"responseType"in De&&(l.blob?De.responseType="blob":l.arrayBuffer&&Ae.headers.get("Content-Type")&&Ae.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(De.responseType="arraybuffer")),V&&typeof V.headers=="object"&&!(V.headers instanceof m)?Object.getOwnPropertyNames(V.headers).forEach(function(Le){De.setRequestHeader(Le,d(V.headers[Le]))}):Ae.headers.forEach(function(Le,Rt){De.setRequestHeader(Rt,Le)}),Ae.signal&&(Ae.signal.addEventListener("abort",Et),De.onreadystatechange=function(){De.readyState===4&&Ae.signal.removeEventListener("abort",Et)}),De.send(typeof Ae._bodyInit>"u"?null:Ae._bodyInit)})}return me.polyfill=!0,o.fetch||(o.fetch=me,o.Headers=m,o.Request=F,o.Response=P),a.Headers=m,a.Request=F,a.Response=P,a.fetch=me,a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(gc,gc.exports)),gc.exports}(function(t,e){var n;if(typeof fetch=="function"&&(typeof Or<"u"&&Or.fetch?n=Or.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof m6<"u"&&typeof window>"u"){var r=n||g6();r.default&&(r=r.default),e.default=r,t.exports=e.default}})(mc,mc.exports);const wb=mc.exports,Sb=y1({__proto__:null,default:wb},[mc.exports]);function Ob(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ob(Object(n),!0).forEach(function(r){y6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ob(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y6(t,e,n){return e=v6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v6(t){var e=_6(t,"string");return Ms(e)=="symbol"?e:String(e)}function _6(t,e){if(Ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ms(t){return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}var ei;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?ei=global.fetch:typeof window<"u"&&window.fetch?ei=window.fetch:ei=fetch);var zo;bb()&&(typeof global<"u"&&global.XMLHttpRequest?zo=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(zo=window.XMLHttpRequest));var yc;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?yc=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(yc=window.ActiveXObject)),!ei&&Sb&&!zo&&!yc&&(ei=wb||Sb),typeof ei!="function"&&(ei=void 0);var Td=function(e,n){if(n&&Ms(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},Mb=function(e,n,r,i){var s=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(u){r(null,{status:l.status,data:u})}).catch(r)};if(i){var a=i(e,n);if(a instanceof Promise){a.then(s).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(s).catch(r):ei(e,n).then(s).catch(r)},Tb=!1,b6=function(e,n,r,i){e.queryStringParams&&(n=Td(n,e.queryStringParams));var s=xb({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(s["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,o=xb({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:s},Tb?{}:a),l=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{Mb(n,o,i,l)}catch(u){if(!a||Object.keys(a).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(a).forEach(function(f){delete o[f]}),Mb(n,o,i,l),Tb=!0}catch(f){i(f)}}},E6=function(e,n,r,i){r&&Ms(r)==="object"&&(r=Td("",r).slice(1)),e.queryStringParams&&(n=Td(n,e.queryStringParams));try{var s;zo?s=new zo:s=new yc("MSXML2.XMLHTTP.3.0"),s.open(r?"POST":"GET",n,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var o in a)s.setRequestHeader(o,a[o]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(l){console&&console.log(l)}},w6=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},ei&&n.indexOf("file:")!==0)return b6(e,n,r,i);if(bb()||typeof ActiveXObject=="function")return E6(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function Yo(t){return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}function Nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nb(Object(n),!0).forEach(function(r){Cb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ab(r.key),r)}}function O6(t,e,n){return e&&Lb(t.prototype,e),n&&Lb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cb(t,e,n){return e=Ab(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ab(t){var e=x6(t,"string");return Yo(e)=="symbol"?e:String(e)}function x6(t,e){if(Yo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M6=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return Cb({},r,i||"")},parseLoadPayload:function(n,r){},request:w6,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Ld=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};S6(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return O6(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=Nd(Nd(Nd({},M6()),this.options||{}),i),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,a){var o=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=p6(l),l.then(function(u){if(!u)return a(null,{});var f=o.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});o.loadUrl(f,a,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var a=this,o=typeof i=="string"?[i]:i,l=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(o,l);this.options.request(this.options,n,u,function(f,c){if(c&&(c.status>=500&&c.status<600||!c.status))return r("failed loading "+n+"; status code: "+c.status,!0);if(c&&c.status>=400&&c.status<500)return r("failed loading "+n+"; status code: "+c.status,!1);if(!c&&f&&f.message&&f.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+f.message,!0);if(f)return r(f,!1);var h,d;try{typeof c.data=="string"?h=a.options.parse(c.data,i,s):h=c.data}catch{d="failed parsing "+n+" to json"}if(d)return r(d,!1);r(null,h)})}},{key:"create",value:function(n,r,i,s,a){var o=this;if(!!this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,s),u=0,f=[],c=[];n.forEach(function(h){var d=o.options.addPath;typeof o.options.addPath=="function"&&(d=o.options.addPath(h,r));var p=o.services.interpolator.interpolate(d,{lng:h,ns:r});o.options.request(o.options,p,l,function(m,g){u+=1,f.push(m),c.push(g),u===n.length&&typeof a=="function"&&a(f,c)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,a=r.logger,o=i.language;if(!(o&&o.toLowerCase()==="cimode")){var l=[],u=function(c){var h=s.toResolveHierarchy(c);h.forEach(function(d){l.indexOf(d)<0&&l.push(d)})};u(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return u(f)}),l.forEach(function(f){n.allOptions.ns.forEach(function(c){i.read(f,c,"read",null,null,function(h,d){h&&a.warn("loading namespace ".concat(c," for language ").concat(f," failed"),h),!h&&d&&a.log("loaded namespace ".concat(c," for language ").concat(f),d),i.loaded("".concat(f,"|").concat(c),h,d)})})})}}}]),t}();Ld.type="backend";const T6=pe(ce({__name:"style-panel",setup(t){const{t:e}=Ue(),n=rt();return(r,i)=>(L(),$e(Od,{"data-cy-value":"stylePanel","close-fn":w(n).closeStyleEditorPanel},{header:jt(()=>[C("h1",null,ae(w(e)("Vector tiles editor",{ns:"client"})),1)]),content:jt(()=>[Q(_b)]),_:1},8,["close-fn"]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/style-panel.vue"]]),N6={class:"text-white"},L6={class:"flex justify-center flex-col items-center"},C6=pe(ce({__name:"my-maps-panel",setup(t){const{t:e}=Ue(),n=rt();function r(){alert("TODO: clickOpenMap")}function i(){alert("TODO: clickCreateNewMap")}return(s,a)=>(L(),$e(Od,{"data-cy-value":"myMapsPanel","close-fn":()=>w(n).toggleMyMapsOpen(!1)},{header:jt(()=>[C("h1",null,ae(w(e)("My Maps",{ns:"client"})),1)]),content:jt(()=>[C("div",N6,ae(w(e)("Create, save and share your own maps.",{ns:"client"})),1),C("div",L6,[C("button",{class:"lux-btn mt-3",onClick:r},ae(w(e)("Ouvrir une carte",{ns:"client"})),1),C("button",{class:"lux-btn mt-3",onClick:i},ae(w(e)("Cr\xE9er une nouvelle carte",{ns:"client"})),1)])]),_:1},8,["close-fn"]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/my-maps/my-maps-panel.vue"]]),A6={class:"h-screen flex flex-col overflow-hidden"},P6={class:"flex grow"},D6={key:0,class:"w-full sm:w-80 bg-secondary z-10"},I6={key:1,class:"w-full sm:w-80 bg-secondary z-10"},k6={key:2,class:"w-full sm:w-80 bg-secondary z-10"},R6={class:"map-wrapper grow bg-blue-100 relative"},$6={class:"absolute right-1 top-16"},F6={class:"flex grow"},V6={class:"map-wrapper grow bg-blue-100 relative"},j6={class:"absolute right-1 top-2"},Pb=pe(ce({__name:"App",setup(t){const e=rt(),n=Yr(),r=_n();yb.bootstrap(),pb.bootstrap(),mb.bootstrap(),gb.bootstrap(),Ph.bootstrap(),db.bootstrap(),n.initBackgroundsConfigs();const{embedded:i,layersOpen:s,myMapsOpen:a,styleEditorOpen:o}=Pe(e);Ge(s,l),Ge(o,l),Ge(a,l);function l(){setTimeout(()=>r.resize(),50)}return ln(()=>window.addEventListener("resize",r.resize)),di(()=>window.removeEventListener("resize",r.resize)),(u,f)=>(L(),$("div",A6,[I("-------------------------------"),I(" Template for full app display "),I("-------------------------------"),w(i)?(L(),$(Fe,{key:1},[I("-------------------------------"),I(" Template for embedded mode    "),I("-------------------------------"),C("main",F6,[I(" Map container and slider comparator "),C("div",V6,[Q(Ih,{v4_standalone:!0})]),I(" Background selector "),C("div",j6,[Q(Rh)])])],64)):(L(),$(Fe,{key:0},[Q(S_),C("main",P6,[I(" Layer panel "),w(s)&&!w(o)?(L(),$("div",D6,[Q(ub)])):I("v-if",!0),I(" Style editor "),w(o)?(L(),$("div",I6,[Q(T6)])):I("v-if",!0),I(" MyMaps panel "),w(a)?(L(),$("div",k6,[Q(C6)])):I("v-if",!0),I(" Map container and slider comparator "),C("div",R6,[Q(Ih,{v4_standalone:!0}),Q(fb,{class:"absolute top-0"}),Q(v_),Q(E_)]),I(" Background selector "),C("div",$6,[Q(Rh)])]),Q(I_,{class:"fixed bottom-5 sm:static z-20"}),Q(_y)],64))]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/App.vue"]]);D2();function G6(t){var i;const e=(i=t.i18nextConfig)!=null?i:{lng:"fr",debug:!1,defaultNS:"client",supportedLngs:["de","en","fr","lb"],ns:["client","legends","server","tooltips"],fallbackLng:"fr",backend:{loadPath:"/static-ngeo/web-components/assets/locales/{{ns}}.{{lng}}.json"},nsSeparator:"|"};ot.use(Ld),ot.init(e);const n=eg(Pb);return n.use(xg()),n.use(Yy,{i18next:ot}),n.use(fg),{app:n,createElementInstance:(s={},a=null)=>vy({setup:()=>{const o=Rs();Object.assign(o.appContext,a._context),Object.assign(o.provides,a._context.provides)},render:()=>yf(s)},{shadowRoot:!1})}}X.AlertNotifications=_y,X.App=Pb,X.BackgroundSelector=Rh,X.DropdownList=Kf,X.FooterBar=I_,X.HeaderBar=S_,X.I18NextVue=Yy,X.LayerMetadata=E_,X.LayerPanel=ub,X.MapContainer=Ih,X.MapLibreLayer=Zf,X.RemoteLayers=v_,X.SliderComparator=fb,X.StyleSelector=_b,X.ToolbarDraw=D_,X.VueDOMPurifyHTML=fg,X.backend=Ld,X.clearLayersCache=Sy,X.createApp=eg,X.createPinia=xg,X.default=G6,X.defineCustomElement=vy,X.getCurrentInstance=Rs,X.h=yf,X.i18next=ot,X.proxyUrlHelper=vs,X.statePersistorAppService=gb,X.statePersistorBgLayerService=db,X.statePersistorLayersService=pb,X.statePersistorMyMapService=yb,X.statePersistorStyleService=Ph,X.statePersistorThemeService=mb,X.storeToRefs=Pe,X.styleUrlHelper=fa,X.themeSelectorService=w_,X.useAppStore=rt,X.useBackgroundLayer=kh,X.useLayers=En,X.useMap=_n,X.useMapStore=it,X.useMvtStyles=Yr,X.useOffline=_s,X.useOfflineLayers=K0,X.useOpenLayers=Dh,X.useStyleStore=Vn,X.useThemeStore=zt,X.useThemes=Hr,X.watch=Ge,Object.defineProperties(X,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
