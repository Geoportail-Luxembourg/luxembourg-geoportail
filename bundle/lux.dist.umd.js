(function(J,yt){typeof exports=="object"&&typeof module<"u"?yt(exports,require("ol/proj"),require("ol/proj/proj4"),require("ol/Map"),require("ol/View"),require("ol/layer/Image"),require("ol/source/ImageWMS"),require("ol/layer/Tile"),require("ol/source/WMTS"),require("ol/tilegrid/WMTS"),require("ol/extent"),require("ol/layer/Layer"),require("ol/math"),require("ol/proj.js"),require("mapbox-gl"),require("ol/events"),require("ol/ObjectEventType"),require("ol/css"),require("ol/control/Control"),require("ol/control/FullScreen"),require("ol/control/Zoom"),require("ol/control/ZoomToExtent"),require("ol/format/WMTSCapabilities.js"),require("ol/render"),require("ol/Observable"),require("ol/render/EventType"),require("ol/layer/Group.js")):typeof define=="function"&&define.amd?define(["exports","ol/proj","ol/proj/proj4","ol/Map","ol/View","ol/layer/Image","ol/source/ImageWMS","ol/layer/Tile","ol/source/WMTS","ol/tilegrid/WMTS","ol/extent","ol/layer/Layer","ol/math","ol/proj.js","mapbox-gl","ol/events","ol/ObjectEventType","ol/css","ol/control/Control","ol/control/FullScreen","ol/control/Zoom","ol/control/ZoomToExtent","ol/format/WMTSCapabilities.js","ol/render","ol/Observable","ol/render/EventType","ol/layer/Group.js"],yt):(J=typeof globalThis<"u"?globalThis:J||self,yt(J["luxembourg-geoportail"]={},J.proj,J.proj4$1,J.OlMap,J.OlView,J.ImageLayer,J.ImageWMS,J.TileLayer,J.WmtsSource,J.WmtsTileGrid,J.extent,J.Layer,J.math,J.proj_js,J.mapboxgl,J.olEvents,J.ObjectEventType,J.css$1,J.Control,J.FullScreen,J.Zoom,J.OlControlZoomToExtent,J.WMTSCapabilities,J.render$1,J.Observable,J.EventType,J.olLayerGroup))})(this,function(J,yt,Li,w_,S_,x_,M_,O_,T_,N_,C_,L_,P_,A_,k_,D_,I_,To,R_,$_,F_,V_,j_,No,G_,U_,B_){"use strict";var X3=Object.defineProperty;var K3=(J,yt,Li)=>yt in J?X3(J,yt,{enumerable:!0,configurable:!0,writable:!0,value:Li}):J[yt]=Li;var ct=(J,yt,Li)=>(K3(J,typeof yt!="symbol"?yt+"":yt,Li),Li);const Lt=t=>t&&typeof t=="object"&&"default"in t?t:{default:t};function q_(t){if(t&&t.__esModule)return t;const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}function W_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const H_=Lt(w_),z_=Lt(S_),Y_=Lt(x_),Hh=Lt(M_),X_=Lt(O_),zh=Lt(T_),K_=Lt(N_),Z_=Lt(L_),Yh=Lt(k_),Xh=q_(D_),J_=Lt(I_),Kh=Lt(R_),Q_=Lt($_),eb=Lt(F_),tb=Lt(V_),nb=Lt(j_),Zh=Lt(U_),rb=Lt(B_);function Yr(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function Xr(t){if(he(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=rt(r)?ob(r):Xr(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(rt(t))return t;if(Be(t))return t}}const ib=/;(?![^(]*\))/g,sb=/:([^]+)/,ab=/\/\*.*?\*\//gs;function ob(t){const e={};return t.replace(ab,"").split(ib).forEach(n=>{if(n){const r=n.split(sb);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Le(t){let e="";if(rt(t))e=t;else if(he(t))for(let n=0;n<t.length;n++){const r=Le(t[n]);r&&(e+=r+" ")}else if(Be(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const lb="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",ub="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",cb=Yr(lb),fb=Yr(ub),hb=Yr("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Jh(t){return!!t||t===""}const ue=t=>rt(t)?t:t==null?"":he(t)||Be(t)&&(t.toString===nd||!be(t.toString))?JSON.stringify(t,Qh,2):String(t),Qh=(t,e)=>e&&e.__v_isRef?Qh(t,e.value):Pi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:td(e)?{[`Set(${e.size})`]:[...e.values()]}:Be(e)&&!he(e)&&!rd(e)?String(e):e,Ke=process.env.NODE_ENV!=="production"?Object.freeze({}):{},vs=process.env.NODE_ENV!=="production"?Object.freeze([]):[],Pt=()=>{},ed=()=>!1,db=/^on[^a-z]/,aa=t=>db.test(t),Co=t=>t.startsWith("onUpdate:"),nt=Object.assign,Qu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},mb=Object.prototype.hasOwnProperty,Pe=(t,e)=>mb.call(t,e),he=Array.isArray,Pi=t=>Lo(t)==="[object Map]",td=t=>Lo(t)==="[object Set]",be=t=>typeof t=="function",rt=t=>typeof t=="string",ec=t=>typeof t=="symbol",Be=t=>t!==null&&typeof t=="object",tc=t=>Be(t)&&be(t.then)&&be(t.catch),nd=Object.prototype.toString,Lo=t=>nd.call(t),nc=t=>Lo(t).slice(8,-1),rd=t=>Lo(t)==="[object Object]",rc=t=>rt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Po=Yr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pb=Yr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Ao=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},gb=/-(\w)/g,dn=Ao(t=>t.replace(gb,(e,n)=>n?n.toUpperCase():"")),yb=/\B([A-Z])/g,nn=Ao(t=>t.replace(yb,"-$1").toLowerCase()),Ai=Ao(t=>t.charAt(0).toUpperCase()+t.slice(1)),ki=Ao(t=>t?`on${Ai(t)}`:""),oa=(t,e)=>!Object.is(t,e),la=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ko=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},vb=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ic=t=>{const e=rt(t)?Number(t):NaN;return isNaN(e)?t:e};let id;const sd=()=>id||(id=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Do(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let mn;class ad{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=mn,!e&&mn&&(this.index=(mn.scopes||(mn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=mn;try{return mn=this,e()}finally{mn=n}}else process.env.NODE_ENV!=="production"&&Do("cannot run an inactive effect scope.")}on(){mn=this}off(){mn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function od(t){return new ad(t)}function _b(t,e=mn){e&&e.active&&e.effects.push(t)}function ld(){return mn}function bb(t){mn?mn.cleanups.push(t):process.env.NODE_ENV!=="production"&&Do("onScopeDispose() is called when there is no active effect scope to be associated with.")}const ua=t=>{const e=new Set(t);return e.w=0,e.n=0,e},ud=t=>(t.w&Kr)>0,cd=t=>(t.n&Kr)>0,Eb=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Kr},wb=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];ud(i)&&!cd(i)?i.delete(t):e[n++]=i,i.w&=~Kr,i.n&=~Kr}e.length=n}},Io=new WeakMap;let ca=0,Kr=1;const sc=30;let Wt;const Di=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),ac=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");class oc{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,_b(this,r)}run(){if(!this.active)return this.fn();let e=Wt,n=Zr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Wt,Wt=this,Zr=!0,Kr=1<<++ca,ca<=sc?Eb(this):fd(this),this.fn()}finally{ca<=sc&&wb(this),Kr=1<<--ca,Wt=this.parent,Zr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Wt===this?this.deferStop=!0:this.active&&(fd(this),this.onStop&&this.onStop(),this.active=!1)}}function fd(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Zr=!0;const hd=[];function Ii(){hd.push(Zr),Zr=!1}function Ri(){const t=hd.pop();Zr=t===void 0?!0:t}function Ht(t,e,n){if(Zr&&Wt){let r=Io.get(t);r||Io.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=ua());const s=process.env.NODE_ENV!=="production"?{effect:Wt,target:t,type:e,key:n}:void 0;lc(i,s)}}function lc(t,e){let n=!1;ca<=sc?cd(t)||(t.n|=Kr,n=!ud(t)):n=!t.has(Wt),n&&(t.add(Wt),Wt.deps.push(t),process.env.NODE_ENV!=="production"&&Wt.onTrack&&Wt.onTrack(Object.assign({effect:Wt},e)))}function Or(t,e,n,r,i,s){const a=Io.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&he(t)){const u=Number(r);a.forEach((f,c)=>{(c==="length"||c>=u)&&o.push(f)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":he(t)?rc(n)&&o.push(a.get("length")):(o.push(a.get(Di)),Pi(t)&&o.push(a.get(ac)));break;case"delete":he(t)||(o.push(a.get(Di)),Pi(t)&&o.push(a.get(ac)));break;case"set":Pi(t)&&o.push(a.get(Di));break}const l=process.env.NODE_ENV!=="production"?{target:t,type:e,key:n,newValue:r,oldValue:i,oldTarget:s}:void 0;if(o.length===1)o[0]&&(process.env.NODE_ENV!=="production"?_s(o[0],l):_s(o[0]));else{const u=[];for(const f of o)f&&u.push(...f);process.env.NODE_ENV!=="production"?_s(ua(u),l):_s(ua(u))}}function _s(t,e){const n=he(t)?t:[...t];for(const r of n)r.computed&&dd(r,e);for(const r of n)r.computed||dd(r,e)}function dd(t,e){(t!==Wt||t.allowRecurse)&&(process.env.NODE_ENV!=="production"&&t.onTrigger&&t.onTrigger(nt({effect:t},e)),t.scheduler?t.scheduler():t.run())}function Sb(t,e){var n;return(n=Io.get(t))===null||n===void 0?void 0:n.get(e)}const xb=Yr("__proto__,__v_isRef,__isVue"),md=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ec)),Mb=Ro(),Ob=Ro(!1,!0),Tb=Ro(!0),Nb=Ro(!0,!0),pd=Cb();function Cb(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ve(this);for(let s=0,a=this.length;s<a;s++)Ht(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ve)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ii();const r=ve(this)[e].apply(this,n);return Ri(),r}}),t}function Lb(t){const e=ve(this);return Ht(e,"has",t),e.hasOwnProperty(t)}function Ro(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?Td:Od:e?Md:xd).get(r))return r;const a=he(r);if(!t){if(a&&Pe(pd,i))return Reflect.get(pd,i,s);if(i==="hasOwnProperty")return Lb}const o=Reflect.get(r,i,s);return(ec(i)?md.has(i):xb(i))||(t||Ht(r,"get",i),e)?o:qe(o)?a&&rc(i)?o:o.value:Be(o)?t?Nd(o):qo(o):o}}const Pb=gd(),Ab=gd(!0);function gd(t=!1){return function(n,r,i,s){let a=n[r];if(Qr(a)&&qe(a)&&!qe(i))return!1;if(!t&&(!Ho(i)&&!Qr(i)&&(a=ve(a),i=ve(i)),!he(n)&&qe(a)&&!qe(i)))return a.value=i,!0;const o=he(n)&&rc(r)?Number(r)<n.length:Pe(n,r),l=Reflect.set(n,r,i,s);return n===ve(s)&&(o?oa(i,a)&&Or(n,"set",r,i,a):Or(n,"add",r,i)),l}}function kb(t,e){const n=Pe(t,e),r=t[e],i=Reflect.deleteProperty(t,e);return i&&n&&Or(t,"delete",e,void 0,r),i}function Db(t,e){const n=Reflect.has(t,e);return(!ec(e)||!md.has(e))&&Ht(t,"has",e),n}function Ib(t){return Ht(t,"iterate",he(t)?"length":Di),Reflect.ownKeys(t)}const yd={get:Mb,set:Pb,deleteProperty:kb,has:Db,ownKeys:Ib},vd={get:Tb,set(t,e){return process.env.NODE_ENV!=="production"&&Do(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return process.env.NODE_ENV!=="production"&&Do(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},Rb=nt({},yd,{get:Ob,set:Ab}),$b=nt({},vd,{get:Nb}),uc=t=>t,$o=t=>Reflect.getPrototypeOf(t);function Fo(t,e,n=!1,r=!1){t=t.__v_raw;const i=ve(t),s=ve(e);n||(e!==s&&Ht(i,"get",e),Ht(i,"get",s));const{has:a}=$o(i),o=r?uc:n?cc:fa;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function Vo(t,e=!1){const n=this.__v_raw,r=ve(n),i=ve(t);return e||(t!==i&&Ht(r,"has",t),Ht(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function jo(t,e=!1){return t=t.__v_raw,!e&&Ht(ve(t),"iterate",Di),Reflect.get(t,"size",t)}function _d(t){t=ve(t);const e=ve(this);return $o(e).has.call(e,t)||(e.add(t),Or(e,"add",t,t)),this}function bd(t,e){e=ve(e);const n=ve(this),{has:r,get:i}=$o(n);let s=r.call(n,t);s?process.env.NODE_ENV!=="production"&&Sd(n,r,t):(t=ve(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?oa(e,a)&&Or(n,"set",t,e,a):Or(n,"add",t,e),this}function Ed(t){const e=ve(this),{has:n,get:r}=$o(e);let i=n.call(e,t);i?process.env.NODE_ENV!=="production"&&Sd(e,n,t):(t=ve(t),i=n.call(e,t));const s=r?r.call(e,t):void 0,a=e.delete(t);return i&&Or(e,"delete",t,void 0,s),a}function wd(){const t=ve(this),e=t.size!==0,n=process.env.NODE_ENV!=="production"?Pi(t)?new Map(t):new Set(t):void 0,r=t.clear();return e&&Or(t,"clear",void 0,void 0,n),r}function Go(t,e){return function(r,i){const s=this,a=s.__v_raw,o=ve(a),l=e?uc:t?cc:fa;return!t&&Ht(o,"iterate",Di),a.forEach((u,f)=>r.call(i,l(u),l(f),s))}}function Uo(t,e,n){return function(...r){const i=this.__v_raw,s=ve(i),a=Pi(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),f=n?uc:e?cc:fa;return!e&&Ht(s,"iterate",l?ac:Di),{next(){const{value:c,done:h}=u.next();return h?{value:c,done:h}:{value:o?[f(c[0]),f(c[1])]:f(c),done:h}},[Symbol.iterator](){return this}}}}function Jr(t){return function(...e){if(process.env.NODE_ENV!=="production"){const n=e[0]?`on key "${e[0]}" `:"";console.warn(`${Ai(t)} operation ${n}failed: target is readonly.`,ve(this))}return t==="delete"?!1:this}}function Fb(){const t={get(s){return Fo(this,s)},get size(){return jo(this)},has:Vo,add:_d,set:bd,delete:Ed,clear:wd,forEach:Go(!1,!1)},e={get(s){return Fo(this,s,!1,!0)},get size(){return jo(this)},has:Vo,add:_d,set:bd,delete:Ed,clear:wd,forEach:Go(!1,!0)},n={get(s){return Fo(this,s,!0)},get size(){return jo(this,!0)},has(s){return Vo.call(this,s,!0)},add:Jr("add"),set:Jr("set"),delete:Jr("delete"),clear:Jr("clear"),forEach:Go(!0,!1)},r={get(s){return Fo(this,s,!0,!0)},get size(){return jo(this,!0)},has(s){return Vo.call(this,s,!0)},add:Jr("add"),set:Jr("set"),delete:Jr("delete"),clear:Jr("clear"),forEach:Go(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Uo(s,!1,!1),n[s]=Uo(s,!0,!1),e[s]=Uo(s,!1,!0),r[s]=Uo(s,!0,!0)}),[t,n,e,r]}const[Vb,jb,Gb,Ub]=Fb();function Bo(t,e){const n=e?t?Ub:Gb:t?jb:Vb;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Pe(n,i)&&i in r?n:r,i,s)}const Bb={get:Bo(!1,!1)},qb={get:Bo(!1,!0)},Wb={get:Bo(!0,!1)},Hb={get:Bo(!0,!0)};function Sd(t,e,n){const r=ve(n);if(r!==n&&e.call(t,r)){const i=nc(t);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const xd=new WeakMap,Md=new WeakMap,Od=new WeakMap,Td=new WeakMap;function zb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yb(t){return t.__v_skip||!Object.isExtensible(t)?0:zb(nc(t))}function qo(t){return Qr(t)?t:Wo(t,!1,yd,Bb,xd)}function Xb(t){return Wo(t,!1,Rb,qb,Md)}function Nd(t){return Wo(t,!0,vd,Wb,Od)}function bs(t){return Wo(t,!0,$b,Hb,Td)}function Wo(t,e,n,r,i){if(!Be(t))return process.env.NODE_ENV!=="production"&&console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=Yb(t);if(a===0)return t;const o=new Proxy(t,a===2?r:n);return i.set(t,o),o}function $n(t){return Qr(t)?$n(t.__v_raw):!!(t&&t.__v_isReactive)}function Qr(t){return!!(t&&t.__v_isReadonly)}function Ho(t){return!!(t&&t.__v_isShallow)}function zo(t){return $n(t)||Qr(t)}function ve(t){const e=t&&t.__v_raw;return e?ve(e):t}function Fn(t){return ko(t,"__v_skip",!0),t}const fa=t=>Be(t)?qo(t):t,cc=t=>Be(t)?Nd(t):t;function Cd(t){Zr&&Wt&&(t=ve(t),process.env.NODE_ENV!=="production"?lc(t.dep||(t.dep=ua()),{target:t,type:"get",key:"value"}):lc(t.dep||(t.dep=ua())))}function Ld(t,e){t=ve(t);const n=t.dep;n&&(process.env.NODE_ENV!=="production"?_s(n,{target:t,type:"set",key:"value",newValue:e}):_s(n))}function qe(t){return!!(t&&t.__v_isRef===!0)}function Se(t){return Pd(t,!1)}function et(t){return Pd(t,!0)}function Pd(t,e){return qe(t)?t:new Kb(t,e)}class Kb{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ve(e),this._value=n?e:fa(e)}get value(){return Cd(this),this._value}set value(e){const n=this.__v_isShallow||Ho(e)||Qr(e);e=n?e:ve(e),oa(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:fa(e),Ld(this,e))}}function b(t){return qe(t)?t.value:t}const Zb={get:(t,e,n)=>b(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return qe(i)&&!qe(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Ad(t){return $n(t)?t:new Proxy(t,Zb)}function kd(t){process.env.NODE_ENV!=="production"&&!zo(t)&&console.warn("toRefs() expects a reactive object but received a plain one.");const e=he(t)?new Array(t.length):{};for(const n in t)e[n]=ha(t,n);return e}class Jb{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Sb(ve(this._object),this._key)}}function ha(t,e,n){const r=t[e];return qe(r)?r:new Jb(t,e,n)}var Dd;class Qb{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Dd]=!1,this._dirty=!0,this.effect=new oc(e,()=>{this._dirty||(this._dirty=!0,Ld(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ve(this);return Cd(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Dd="__v_isReadonly";function e1(t,e,n=!1){let r,i;const s=be(t);s?(r=t,i=process.env.NODE_ENV!=="production"?()=>{console.warn("Write operation failed: computed value is readonly")}:Pt):(r=t.get,i=t.set);const a=new Qb(r,i,s||!i,n);return process.env.NODE_ENV!=="production"&&e&&!n&&(a.effect.onTrack=e.onTrack,a.effect.onTrigger=e.onTrigger),a}const $i=[];function Yo(t){$i.push(t)}function Xo(){$i.pop()}function U(t,...e){if(process.env.NODE_ENV==="production")return;Ii();const n=$i.length?$i[$i.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=t1();if(r)Tr(r,n,11,[t+e.join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${ml(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${t}`,...e];i.length&&s.push(`
`,...n1(i)),console.warn(...s)}Ri()}function t1(){let t=$i[$i.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function n1(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...r1(n))}),e}function r1({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${ml(t.component,t.type,r)}`,s=">"+n;return t.props?[i,...i1(t.props),s]:[i+s]}function i1(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...Id(r,t[r]))}),n.length>3&&e.push(" ..."),e}function Id(t,e,n){return rt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:qe(e)?(e=Id(t,ve(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):be(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=ve(e),n?e:[`${t}=`,e])}function s1(t,e){process.env.NODE_ENV!=="production"&&t!==void 0&&(typeof t!="number"?U(`${e} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&U(`${e} is NaN - the duration expression might be incorrect.`))}const fc={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function Tr(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Ko(s,e,n)}return i}function xn(t,e,n,r){if(be(t)){const s=Tr(t,e,n,r);return s&&tc(s)&&s.catch(a=>{Ko(a,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(xn(t[s],e,n,r));return i}function Ko(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=process.env.NODE_ENV!=="production"?fc[n]:n;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Tr(l,null,10,[t,a,o]);return}}a1(t,n,i,r)}function a1(t,e,n,r=!0){if(process.env.NODE_ENV!=="production"){const i=fc[e];if(n&&Yo(n),U(`Unhandled error${i?` during execution of ${i}`:""}`),n&&Xo(),r)throw t;console.error(t)}else console.error(t)}let da=!1,hc=!1;const Rt=[];let rr=0;const Es=[];let ir=null,ei=0;const Rd=Promise.resolve();let dc=null;const o1=100;function Zo(t){const e=dc||Rd;return t?e.then(this?t.bind(this):t):e}function l1(t){let e=rr+1,n=Rt.length;for(;e<n;){const r=e+n>>>1;ma(Rt[r])<t?e=r+1:n=r}return e}function Jo(t){(!Rt.length||!Rt.includes(t,da&&t.allowRecurse?rr+1:rr))&&(t.id==null?Rt.push(t):Rt.splice(l1(t.id),0,t),$d())}function $d(){!da&&!hc&&(hc=!0,dc=Rd.then(Gd))}function u1(t){const e=Rt.indexOf(t);e>rr&&Rt.splice(e,1)}function Fd(t){he(t)?Es.push(...t):(!ir||!ir.includes(t,t.allowRecurse?ei+1:ei))&&Es.push(t),$d()}function Vd(t,e=da?rr+1:0){for(process.env.NODE_ENV!=="production"&&(t=t||new Map);e<Rt.length;e++){const n=Rt[e];if(n&&n.pre){if(process.env.NODE_ENV!=="production"&&mc(t,n))continue;Rt.splice(e,1),e--,n()}}}function jd(t){if(Es.length){const e=[...new Set(Es)];if(Es.length=0,ir){ir.push(...e);return}for(ir=e,process.env.NODE_ENV!=="production"&&(t=t||new Map),ir.sort((n,r)=>ma(n)-ma(r)),ei=0;ei<ir.length;ei++)process.env.NODE_ENV!=="production"&&mc(t,ir[ei])||ir[ei]();ir=null,ei=0}}const ma=t=>t.id==null?1/0:t.id,c1=(t,e)=>{const n=ma(t)-ma(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Gd(t){hc=!1,da=!0,process.env.NODE_ENV!=="production"&&(t=t||new Map),Rt.sort(c1);const e=process.env.NODE_ENV!=="production"?n=>mc(t,n):Pt;try{for(rr=0;rr<Rt.length;rr++){const n=Rt[rr];if(n&&n.active!==!1){if(process.env.NODE_ENV!=="production"&&e(n))continue;Tr(n,null,14)}}}finally{rr=0,Rt.length=0,jd(t),da=!1,dc=null,(Rt.length||Es.length)&&Gd(t)}}function mc(t,e){if(!t.has(e))t.set(e,1);else{const n=t.get(e);if(n>o1){const r=e.ownerInstance,i=r&&jc(r.type);return U(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else t.set(e,n+1)}}let ti=!1;const ws=new Set;process.env.NODE_ENV!=="production"&&(sd().__VUE_HMR_RUNTIME__={createRecord:pc(Ud),rerender:pc(d1),reload:pc(m1)});const Fi=new Map;function f1(t){const e=t.type.__hmrId;let n=Fi.get(e);n||(Ud(e,t.type),n=Fi.get(e)),n.instances.add(t)}function h1(t){Fi.get(t.type.__hmrId).instances.delete(t)}function Ud(t,e){return Fi.has(t)?!1:(Fi.set(t,{initialDef:pa(e),instances:new Set}),!0)}function pa(t){return Vm(t)?t.__vccOpts:t}function d1(t,e){const n=Fi.get(t);!n||(n.initialDef.render=e,[...n.instances].forEach(r=>{e&&(r.render=e,pa(r.type).render=e),r.renderCache=[],ti=!0,r.update(),ti=!1}))}function m1(t,e){const n=Fi.get(t);if(!n)return;e=pa(e),Bd(n.initialDef,e);const r=[...n.instances];for(const i of r){const s=pa(i.type);ws.has(s)||(s!==n.initialDef&&Bd(s,e),ws.add(s)),i.appContext.optionsCache.delete(i.type),i.ceReload?(ws.add(s),i.ceReload(e.styles),ws.delete(s)):i.parent?Jo(i.parent.update):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}Fd(()=>{for(const i of r)ws.delete(pa(i.type))})}function Bd(t,e){nt(t,e);for(const n in t)n!=="__file"&&!(n in e)&&delete t[n]}function pc(t){return(e,n)=>{try{return t(e,n)}catch(r){console.error(r),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let sr,ga=[],gc=!1;function ya(t,...e){sr?sr.emit(t,...e):gc||ga.push({event:t,args:e})}function qd(t,e){var n,r;sr=t,sr?(sr.enabled=!0,ga.forEach(({event:i,args:s})=>sr.emit(i,...s)),ga=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{qd(s,e)}),setTimeout(()=>{sr||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,gc=!0,ga=[])},3e3)):(gc=!0,ga=[])}function p1(t,e){ya("app:init",t,e,{Fragment:Re,Text:wa,Comment:Mt,Static:ll})}function g1(t){ya("app:unmount",t)}const y1=yc("component:added"),Wd=yc("component:updated"),v1=yc("component:removed"),_1=t=>{sr&&typeof sr.cleanupBuffer=="function"&&!sr.cleanupBuffer(t)&&v1(t)};function yc(t){return e=>{ya(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const b1=Hd("perf:start"),E1=Hd("perf:end");function Hd(t){return(e,n,r)=>{ya(t,e.appContext.app,e.uid,e,n,r)}}function w1(t,e,n){ya("component:emit",t.appContext.app,t,e,n)}function S1(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ke;if(process.env.NODE_ENV!=="production"){const{emitsOptions:f,propsOptions:[c]}=t;if(f)if(!(e in f))(!c||!(ki(e)in c))&&U(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${ki(e)}" prop.`);else{const h=f[e];be(h)&&(h(...n)||U(`Invalid event arguments: event validation failed for event "${e}".`))}}let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:c,trim:h}=r[f]||Ke;h&&(i=n.map(d=>rt(d)?d.trim():d)),c&&(i=n.map(vb))}if(process.env.NODE_ENV!=="production"&&w1(t,e,i),process.env.NODE_ENV!=="production"){const f=e.toLowerCase();f!==e&&r[ki(f)]&&U(`Event "${f}" is emitted in component ${ml(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${nn(e)}" instead of "${e}".`)}let o,l=r[o=ki(e)]||r[o=ki(dn(e))];!l&&s&&(l=r[o=ki(nn(e))]),l&&xn(l,t,6,i);const u=r[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,xn(u,t,6,i)}}function zd(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!be(t)){const l=u=>{const f=zd(u,e,!0);f&&(o=!0,nt(a,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(Be(t)&&r.set(t,null),null):(he(s)?s.forEach(l=>a[l]=null):nt(a,s),Be(t)&&r.set(t,a),a)}function Qo(t,e){return!t||!aa(e)?!1:(e=e.slice(2).replace(/Once$/,""),Pe(t,e[0].toLowerCase()+e.slice(1))||Pe(t,nn(e))||Pe(t,e))}let wt=null,Yd=null;function el(t){const e=wt;return wt=t,Yd=t&&t.type.__scopeId||null,e}function ni(t,e=wt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Lm(-1);const s=el(e);let a;try{a=t(...i)}finally{el(s),r._d&&Lm(1)}return process.env.NODE_ENV!=="production"&&Wd(e),a};return r._n=!0,r._c=!0,r._d=!0,r}let vc=!1;function tl(){vc=!0}function _c(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:o,attrs:l,emit:u,render:f,renderCache:c,data:h,setupState:d,ctx:m,inheritAttrs:p}=t;let g,v;const y=el(t);process.env.NODE_ENV!=="production"&&(vc=!1);try{if(n.shapeFlag&4){const x=i||r;g=jn(f.call(x,x,c,s,d,h,m)),v=l}else{const x=e;process.env.NODE_ENV!=="production"&&l===s&&tl(),g=jn(x.length>1?x(s,process.env.NODE_ENV!=="production"?{get attrs(){return tl(),l},slots:o,emit:u}:{attrs:l,slots:o,emit:u}):x(s,null)),v=e.props?l:M1(l)}}catch(x){Sa.length=0,Ko(x,t,1),g=ne(Mt)}let E=g,w;if(process.env.NODE_ENV!=="production"&&g.patchFlag>0&&g.patchFlag&2048&&([E,w]=x1(g)),v&&p!==!1){const x=Object.keys(v),{shapeFlag:P}=E;if(x.length){if(P&7)a&&x.some(Co)&&(v=O1(v,a)),E=ar(E,v);else if(process.env.NODE_ENV!=="production"&&!vc&&E.type!==Mt){const k=Object.keys(l),C=[],T=[];for(let N=0,B=k.length;N<B;N++){const R=k[N];aa(R)?Co(R)||C.push(R[2].toLowerCase()+R.slice(3)):T.push(R)}T.length&&U(`Extraneous non-props attributes (${T.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),C.length&&U(`Extraneous non-emits event listeners (${C.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(process.env.NODE_ENV!=="production"&&!Kd(E)&&U("Runtime directive used on component with non-element root node. The directives will not function as intended."),E=ar(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(process.env.NODE_ENV!=="production"&&!Kd(E)&&U("Component inside <Transition> renders non-element root node that cannot be animated."),E.transition=n.transition),process.env.NODE_ENV!=="production"&&w?w(E):g=E,el(y),g}const x1=t=>{const e=t.children,n=t.dynamicChildren,r=Xd(e);if(!r)return[t,void 0];const i=e.indexOf(r),s=n?n.indexOf(r):-1,a=o=>{e[i]=o,n&&(s>-1?n[s]=o:o.patchFlag>0&&(t.dynamicChildren=[...n,o]))};return[jn(r),a]};function Xd(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(Ms(r)){if(r.type!==Mt||r.children==="v-if"){if(e)return;e=r}}else return}return e}const M1=t=>{let e;for(const n in t)(n==="class"||n==="style"||aa(n))&&((e||(e={}))[n]=t[n]);return e},O1=(t,e)=>{const n={};for(const r in t)(!Co(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n},Kd=t=>t.shapeFlag&7||t.type===Mt;function T1(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(process.env.NODE_ENV!=="production"&&(i||o)&&ti||e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Zd(r,a,u):!!a;if(l&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const h=f[c];if(a[h]!==r[h]&&!Qo(u,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?Zd(r,a,u):!0:!!a;return!1}function Zd(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Qo(n,s))return!0}return!1}function N1({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const C1=t=>t.__isSuspense;function L1(t,e){e&&e.pendingBranch?he(t)?e.effects.push(...t):e.effects.push(t):Fd(t)}function Jd(t,e){if(!ft)process.env.NODE_ENV!=="production"&&U("provide() can only be used inside setup().");else{let n=ft.provides;const r=ft.parent&&ft.parent.provides;r===n&&(n=ft.provides=Object.create(r)),n[t]=e}}function Ss(t,e,n=!1){const r=ft||wt;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&be(e)?e.call(r.proxy):e;process.env.NODE_ENV!=="production"&&U(`injection "${String(t)}" not found.`)}else process.env.NODE_ENV!=="production"&&U("inject() can only be used inside setup() or functional components.")}function pn(t,e){return bc(t,null,e)}const nl={};function Qe(t,e,n){return process.env.NODE_ENV!=="production"&&!be(e)&&U("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),bc(t,e,n)}function bc(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=Ke){process.env.NODE_ENV!=="production"&&!e&&(n!==void 0&&U('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&U('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const o=w=>{U("Invalid watch source: ",w,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},l=ld()===(ft==null?void 0:ft.scope)?ft:null;let u,f=!1,c=!1;if(qe(t)?(u=()=>t.value,f=Ho(t)):$n(t)?(u=()=>t,r=!0):he(t)?(c=!0,f=t.some(w=>$n(w)||Ho(w)),u=()=>t.map(w=>{if(qe(w))return w.value;if($n(w))return Vi(w);if(be(w))return Tr(w,l,2);process.env.NODE_ENV!=="production"&&o(w)})):be(t)?e?u=()=>Tr(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return h&&h(),xn(t,l,3,[d])}:(u=Pt,process.env.NODE_ENV!=="production"&&o(t)),e&&r){const w=u;u=()=>Vi(w())}let h,d=w=>{h=y.onStop=()=>{Tr(w,l,4)}},m;if(Ma)if(d=Pt,e?n&&xn(e,l,3,[u(),c?[]:void 0,d]):u(),i==="sync"){const w=RE();m=w.__watcherHandles||(w.__watcherHandles=[])}else return Pt;let p=c?new Array(t.length).fill(nl):nl;const g=()=>{if(!!y.active)if(e){const w=y.run();(r||f||(c?w.some((x,P)=>oa(x,p[P])):oa(w,p)))&&(h&&h(),xn(e,l,3,[w,p===nl?void 0:c&&p[0]===nl?[]:p,d]),p=w)}else y.run()};g.allowRecurse=!!e;let v;i==="sync"?v=g:i==="post"?v=()=>rn(g,l&&l.suspense):(g.pre=!0,l&&(g.id=l.uid),v=()=>Jo(g));const y=new oc(u,v);process.env.NODE_ENV!=="production"&&(y.onTrack=s,y.onTrigger=a),e?n?g():p=y.run():i==="post"?rn(y.run.bind(y),l&&l.suspense):y.run();const E=()=>{y.stop(),l&&l.scope&&Qu(l.scope.effects,y)};return m&&m.push(E),E}function P1(t,e,n){const r=this.proxy,i=rt(t)?t.includes(".")?Qd(r,t):()=>r[t]:t.bind(r,r);let s;be(e)?s=e:(s=e.handler,n=e);const a=ft;Os(this);const o=bc(i,s.bind(r),n);return a?Os(a):Wi(),o}function Qd(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Vi(t,e){if(!Be(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),qe(t))Vi(t.value,e);else if(he(t))for(let n=0;n<t.length;n++)Vi(t[n],e);else if(td(t)||Pi(t))t.forEach(n=>{Vi(n,e)});else if(rd(t))for(const n in t)Vi(t[n],e);return t}function A1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gn(()=>{t.isMounted=!0}),sm(()=>{t.isUnmounting=!0}),t}const Mn=[Function,Array],em={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mn,onEnter:Mn,onAfterEnter:Mn,onEnterCancelled:Mn,onBeforeLeave:Mn,onLeave:Mn,onAfterLeave:Mn,onLeaveCancelled:Mn,onBeforeAppear:Mn,onAppear:Mn,onAfterAppear:Mn,onAppearCancelled:Mn},setup(t,{slots:e}){const n=hl(),r=A1();let i;return()=>{const s=e.default&&rm(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let p=!1;for(const g of s)if(g.type!==Mt){if(process.env.NODE_ENV!=="production"&&p){U("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}if(a=g,p=!0,process.env.NODE_ENV==="production")break}}const o=ve(t),{mode:l}=o;if(process.env.NODE_ENV!=="production"&&l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&U(`invalid <transition> mode: ${l}`),r.isLeaving)return wc(a);const u=nm(a);if(!u)return wc(a);const f=Ec(u,o,r,n);Sc(u,f);const c=n.subTree,h=c&&nm(c);let d=!1;const{getTransitionKey:m}=u.type;if(m){const p=m();i===void 0?i=p:p!==i&&(i=p,d=!0)}if(h&&h.type!==Mt&&(!qi(u,h)||d)){const p=Ec(h,o,r,n);if(Sc(h,p),l==="out-in")return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},wc(a);l==="in-out"&&u.type!==Mt&&(p.delayLeave=(g,v,y)=>{const E=tm(r,h);E[String(h.key)]=h,g._leaveCb=()=>{v(),g._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=y})}return a}}};function tm(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Ec(t,e,n,r){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:c,onLeave:h,onAfterLeave:d,onLeaveCancelled:m,onBeforeAppear:p,onAppear:g,onAfterAppear:v,onAppearCancelled:y}=e,E=String(t.key),w=tm(n,t),x=(C,T)=>{C&&xn(C,r,9,T)},P=(C,T)=>{const N=T[1];x(C,T),he(C)?C.every(B=>B.length<=1)&&N():C.length<=1&&N()},k={mode:s,persisted:a,beforeEnter(C){let T=o;if(!n.isMounted)if(i)T=p||o;else return;C._leaveCb&&C._leaveCb(!0);const N=w[E];N&&qi(t,N)&&N.el._leaveCb&&N.el._leaveCb(),x(T,[C])},enter(C){let T=l,N=u,B=f;if(!n.isMounted)if(i)T=g||l,N=v||u,B=y||f;else return;let R=!1;const ie=C._enterCb=O=>{R||(R=!0,O?x(B,[C]):x(N,[C]),k.delayedLeave&&k.delayedLeave(),C._enterCb=void 0)};T?P(T,[C,ie]):ie()},leave(C,T){const N=String(t.key);if(C._enterCb&&C._enterCb(!0),n.isUnmounting)return T();x(c,[C]);let B=!1;const R=C._leaveCb=ie=>{B||(B=!0,T(),ie?x(m,[C]):x(d,[C]),C._leaveCb=void 0,w[N]===t&&delete w[N])};w[N]=t,h?P(h,[C,R]):R()},clone(C){return Ec(C,e,n,r)}};return k}function wc(t){if(_a(t))return t=ar(t),t.children=null,t}function nm(t){return _a(t)?t.children?t.children[0]:void 0:t}function Sc(t,e){t.shapeFlag&6&&t.component?Sc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function rm(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Re?(a.patchFlag&128&&i++,r=r.concat(rm(a.children,e,o))):(e||a.type!==Mt)&&r.push(o!=null?ar(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function de(t){return be(t)?{setup:t,name:t.name}:t}const va=t=>!!t.type.__asyncLoader,_a=t=>t.type.__isKeepAlive;function k1(t,e){im(t,"a",e)}function D1(t,e){im(t,"da",e)}function im(t,e,n=ft){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(rl(e,r,n),n){let i=n.parent;for(;i&&i.parent;)_a(i.parent.vnode)&&I1(r,e,n,i),i=i.parent}}function I1(t,e,n,r){const i=rl(e,t,r,!0);ri(()=>{Qu(r[e],i)},n)}function rl(t,e,n=ft,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Ii(),Os(n);const o=xn(e,n,t,a);return Wi(),Ri(),o});return r?i.unshift(s):i.push(s),s}else if(process.env.NODE_ENV!=="production"){const i=ki(fc[t].replace(/ hook$/,""));U(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Nr=t=>(e,n=ft)=>(!Ma||t==="sp")&&rl(t,(...r)=>e(...r),n),R1=Nr("bm"),gn=Nr("m"),$1=Nr("bu"),F1=Nr("u"),sm=Nr("bum"),ri=Nr("um"),V1=Nr("sp"),j1=Nr("rtg"),G1=Nr("rtc");function U1(t,e=ft){rl("ec",t,e)}function am(t){pb(t)&&U("Do not use built-in directive ids as custom directive id: "+t)}function il(t,e){const n=wt;if(n===null)return process.env.NODE_ENV!=="production"&&U("withDirectives can only be used inside render functions."),t;const r=dl(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,o,l,u=Ke]=e[s];a&&(be(a)&&(a={mounted:a,updated:a}),a.deep&&Vi(o),i.push({dir:a,instance:r,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function ji(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(Ii(),xn(l,n,8,[t.el,o,t,e]),Ri())}}const xc="components",B1="directives";function q1(t,e){return om(xc,t,!0,e)||t}const W1=Symbol();function Mc(t){return om(B1,t)}function om(t,e,n=!0,r=!1){const i=wt||ft;if(i){const s=i.type;if(t===xc){const o=jc(s,!1);if(o&&(o===e||o===dn(e)||o===Ai(dn(e))))return s}const a=lm(i[t]||s[t],e)||lm(i.appContext[t],e);if(!a&&r)return s;if(process.env.NODE_ENV!=="production"&&n&&!a){const o=t===xc?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";U(`Failed to resolve ${t.slice(0,-1)}: ${e}${o}`)}return a}else process.env.NODE_ENV!=="production"&&U(`resolve${Ai(t.slice(0,-1))} can only be used in render() or setup().`)}function lm(t,e){return t&&(t[e]||t[dn(e)]||t[Ai(dn(e))])}function On(t,e,n,r){let i;const s=n&&n[r];if(he(t)||rt(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){process.env.NODE_ENV!=="production"&&!Number.isInteger(t)&&U(`The v-for range expect an integer value but got ${t}.`),i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Be(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];i[o]=e(t[u],u,o,s&&s[o])}}else i=[];return n&&(n[r]=i),i}function um(t,e,n={},r,i){if(wt.isCE||wt.parent&&va(wt.parent)&&wt.parent.isCE)return e!=="default"&&(n.name=e),ne("slot",n,r&&r());let s=t[e];process.env.NODE_ENV!=="production"&&s&&s.length>1&&(U("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),s=()=>[]),s&&s._c&&(s._d=!1),A();const a=s&&cm(s(n)),o=$e(Re,{key:n.key||a&&a.key||`_${e}`},a||(r?r():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function cm(t){return t.some(e=>Ms(e)?!(e.type===Mt||e.type===Re&&!cm(e.children)):!0)?t:null}const Oc=t=>t?Im(t)?dl(t)||t.proxy:Oc(t.parent):null,Gi=nt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>process.env.NODE_ENV!=="production"?bs(t.props):t.props,$attrs:t=>process.env.NODE_ENV!=="production"?bs(t.attrs):t.attrs,$slots:t=>process.env.NODE_ENV!=="production"?bs(t.slots):t.slots,$refs:t=>process.env.NODE_ENV!=="production"?bs(t.refs):t.refs,$parent:t=>Oc(t.parent),$root:t=>Oc(t.root),$emit:t=>t.emit,$options:t=>Lc(t),$forceUpdate:t=>t.f||(t.f=()=>Jo(t.update)),$nextTick:t=>t.n||(t.n=Zo.bind(t.proxy)),$watch:t=>P1.bind(t)}),Tc=t=>t==="_"||t==="$",Nc=(t,e)=>t!==Ke&&!t.__isScriptSetup&&Pe(t,e),fm={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;if(process.env.NODE_ENV!=="production"&&e==="__isVue")return!0;let u;if(e[0]!=="$"){const d=a[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Nc(r,e))return a[e]=1,r[e];if(i!==Ke&&Pe(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&Pe(u,e))return a[e]=3,s[e];if(n!==Ke&&Pe(n,e))return a[e]=4,n[e];Cc&&(a[e]=0)}}const f=Gi[e];let c,h;if(f)return e==="$attrs"&&(Ht(t,"get",e),process.env.NODE_ENV!=="production"&&tl()),f(t);if((c=o.__cssModules)&&(c=c[e]))return c;if(n!==Ke&&Pe(n,e))return a[e]=4,n[e];if(h=l.config.globalProperties,Pe(h,e))return h[e];process.env.NODE_ENV!=="production"&&wt&&(!rt(e)||e.indexOf("__v")!==0)&&(i!==Ke&&Tc(e[0])&&Pe(i,e)?U(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===wt&&U(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Nc(i,e)?(i[e]=n,!0):process.env.NODE_ENV!=="production"&&i.__isScriptSetup&&Pe(i,e)?(U(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):r!==Ke&&Pe(r,e)?(r[e]=n,!0):Pe(t.props,e)?(process.env.NODE_ENV!=="production"&&U(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(process.env.NODE_ENV!=="production"&&U(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&e in t.appContext.config.globalProperties?Object.defineProperty(s,e,{enumerable:!0,configurable:!0,value:n}):s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==Ke&&Pe(t,a)||Nc(e,a)||(o=s[0])&&Pe(o,a)||Pe(r,a)||Pe(Gi,a)||Pe(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Pe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};process.env.NODE_ENV!=="production"&&(fm.ownKeys=t=>(U("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t)));function H1(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(Gi).forEach(n=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:()=>Gi[n](t),set:Pt})}),e}function z1(t){const{ctx:e,propsOptions:[n]}=t;n&&Object.keys(n).forEach(r=>{Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>t.props[r],set:Pt})})}function Y1(t){const{ctx:e,setupState:n}=t;Object.keys(ve(n)).forEach(r=>{if(!n.__isScriptSetup){if(Tc(r[0])){U(`setup() return property ${JSON.stringify(r)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n[r],set:Pt})}})}function X1(){const t=Object.create(null);return(e,n)=>{t[n]?U(`${e} property "${n}" is already defined in ${t[n]}.`):t[n]=e}}let Cc=!0;function K1(t){const e=Lc(t),n=t.proxy,r=t.ctx;Cc=!1,e.beforeCreate&&hm(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:f,beforeMount:c,mounted:h,beforeUpdate:d,updated:m,activated:p,deactivated:g,beforeDestroy:v,beforeUnmount:y,destroyed:E,unmounted:w,render:x,renderTracked:P,renderTriggered:k,errorCaptured:C,serverPrefetch:T,expose:N,inheritAttrs:B,components:R,directives:ie,filters:O}=e,j=process.env.NODE_ENV!=="production"?X1():null;if(process.env.NODE_ENV!=="production"){const[Q]=t.propsOptions;if(Q)for(const oe in Q)j("Props",oe)}if(u&&Z1(u,r,j,t.appContext.config.unwrapInjectedRef),a)for(const Q in a){const oe=a[Q];be(oe)?(process.env.NODE_ENV!=="production"?Object.defineProperty(r,Q,{value:oe.bind(n),configurable:!0,enumerable:!0,writable:!0}):r[Q]=oe.bind(n),process.env.NODE_ENV!=="production"&&j("Methods",Q)):process.env.NODE_ENV!=="production"&&U(`Method "${Q}" has type "${typeof oe}" in the component definition. Did you reference the function correctly?`)}if(i){process.env.NODE_ENV!=="production"&&!be(i)&&U("The data option must be a function. Plain object usage is no longer supported.");const Q=i.call(n,n);if(process.env.NODE_ENV!=="production"&&tc(Q)&&U("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Be(Q))process.env.NODE_ENV!=="production"&&U("data() should return an object.");else if(t.data=qo(Q),process.env.NODE_ENV!=="production")for(const oe in Q)j("Data",oe),Tc(oe[0])||Object.defineProperty(r,oe,{configurable:!0,enumerable:!0,get:()=>Q[oe],set:Pt})}if(Cc=!0,s)for(const Q in s){const oe=s[Q],Ee=be(oe)?oe.bind(n,n):be(oe.get)?oe.get.bind(n,n):Pt;process.env.NODE_ENV!=="production"&&Ee===Pt&&U(`Computed property "${Q}" has no getter.`);const ln=!be(oe)&&be(oe.set)?oe.set.bind(n):process.env.NODE_ENV!=="production"?()=>{U(`Write operation failed: computed property "${Q}" is readonly.`)}:Pt,at=me({get:Ee,set:ln});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>at.value,set:Ie=>at.value=Ie}),process.env.NODE_ENV!=="production"&&j("Computed",Q)}if(o)for(const Q in o)dm(o[Q],r,n,Q);if(l){const Q=be(l)?l.call(n):l;Reflect.ownKeys(Q).forEach(oe=>{Jd(oe,Q[oe])})}f&&hm(f,t,"c");function Z(Q,oe){he(oe)?oe.forEach(Ee=>Q(Ee.bind(n))):oe&&Q(oe.bind(n))}if(Z(R1,c),Z(gn,h),Z($1,d),Z(F1,m),Z(k1,p),Z(D1,g),Z(U1,C),Z(G1,P),Z(j1,k),Z(sm,y),Z(ri,w),Z(V1,T),he(N))if(N.length){const Q=t.exposed||(t.exposed={});N.forEach(oe=>{Object.defineProperty(Q,oe,{get:()=>n[oe],set:Ee=>n[oe]=Ee})})}else t.exposed||(t.exposed={});x&&t.render===Pt&&(t.render=x),B!=null&&(t.inheritAttrs=B),R&&(t.components=R),ie&&(t.directives=ie)}function Z1(t,e,n=Pt,r=!1){he(t)&&(t=Pc(t));for(const i in t){const s=t[i];let a;Be(s)?"default"in s?a=Ss(s.from||i,s.default,!0):a=Ss(s.from||i):a=Ss(s),qe(a)?r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):(process.env.NODE_ENV!=="production"&&U(`injected property "${i}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),e[i]=a):e[i]=a,process.env.NODE_ENV!=="production"&&n("Inject",i)}}function hm(t,e,n){xn(he(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function dm(t,e,n,r){const i=r.includes(".")?Qd(n,r):()=>n[r];if(rt(t)){const s=e[t];be(s)?Qe(i,s):process.env.NODE_ENV!=="production"&&U(`Invalid watch handler specified by key "${t}"`,s)}else if(be(t))Qe(i,t.bind(n));else if(Be(t))if(he(t))t.forEach(s=>dm(s,e,n,r));else{const s=be(t.handler)?t.handler.bind(n):e[t.handler];be(s)?Qe(i,s,t):process.env.NODE_ENV!=="production"&&U(`Invalid watch handler specified by key "${t.handler}"`,s)}else process.env.NODE_ENV!=="production"&&U(`Invalid watch option: "${r}"`,t)}function Lc(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>sl(l,u,a,!0)),sl(l,e,a)),Be(e)&&s.set(e,l),l}function sl(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&sl(t,s,n,!0),i&&i.forEach(a=>sl(t,a,n,!0));for(const a in e)if(r&&a==="expose")process.env.NODE_ENV!=="production"&&U('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const o=J1[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const J1={data:mm,props:Ui,emits:Ui,methods:Ui,computed:Ui,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:Ui,directives:Ui,watch:eE,provide:mm,inject:Q1};function mm(t,e){return e?t?function(){return nt(be(t)?t.call(this,this):t,be(e)?e.call(this,this):e)}:e:t}function Q1(t,e){return Ui(Pc(t),Pc(e))}function Pc(t){if(he(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function zt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ui(t,e){return t?nt(nt(Object.create(null),t),e):e}function eE(t,e){if(!t)return e;if(!e)return t;const n=nt(Object.create(null),t);for(const r in e)n[r]=zt(t[r],e[r]);return n}function tE(t,e,n,r=!1){const i={},s={};ko(s,ul,1),t.propsDefaults=Object.create(null),pm(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);process.env.NODE_ENV!=="production"&&bm(e||{},i,t),n?t.props=r?i:Xb(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function nE(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function rE(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=ve(i),[l]=t.propsOptions;let u=!1;if(!(process.env.NODE_ENV!=="production"&&nE(t))&&(r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let h=f[c];if(Qo(t.emitsOptions,h))continue;const d=e[h];if(l)if(Pe(s,h))d!==s[h]&&(s[h]=d,u=!0);else{const m=dn(h);i[m]=Ac(l,o,m,d,t,!1)}else d!==s[h]&&(s[h]=d,u=!0)}}}else{pm(t,e,i,s)&&(u=!0);let f;for(const c in o)(!e||!Pe(e,c)&&((f=nn(c))===c||!Pe(e,f)))&&(l?n&&(n[c]!==void 0||n[f]!==void 0)&&(i[c]=Ac(l,o,c,void 0,t,!0)):delete i[c]);if(s!==o)for(const c in s)(!e||!Pe(e,c)&&!0)&&(delete s[c],u=!0)}u&&Or(t,"set","$attrs"),process.env.NODE_ENV!=="production"&&bm(e||{},i,t)}function pm(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Po(l))continue;const u=e[l];let f;i&&Pe(i,f=dn(l))?!s||!s.includes(f)?n[f]=u:(o||(o={}))[f]=u:Qo(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(s){const l=ve(n),u=o||Ke;for(let f=0;f<s.length;f++){const c=s[f];n[c]=Ac(i,l,c,u[c],t,!Pe(u,c))}}return a}function Ac(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=Pe(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&be(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(Os(i),r=u[n]=l.call(null,e),Wi())}else r=l}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===nn(n))&&(r=!0))}return r}function gm(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!be(t)){const f=c=>{l=!0;const[h,d]=gm(c,e,!0);nt(a,h),d&&o.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!l)return Be(t)&&r.set(t,vs),vs;if(he(s))for(let f=0;f<s.length;f++){process.env.NODE_ENV!=="production"&&!rt(s[f])&&U("props must be strings when using array syntax.",s[f]);const c=dn(s[f]);ym(c)&&(a[c]=Ke)}else if(s){process.env.NODE_ENV!=="production"&&!Be(s)&&U("invalid props options",s);for(const f in s){const c=dn(f);if(ym(c)){const h=s[f],d=a[c]=he(h)||be(h)?{type:h}:Object.assign({},h);if(d){const m=_m(Boolean,d.type),p=_m(String,d.type);d[0]=m>-1,d[1]=p<0||m<p,(m>-1||Pe(d,"default"))&&o.push(c)}}}}const u=[a,o];return Be(t)&&r.set(t,u),u}function ym(t){return t[0]!=="$"?!0:(process.env.NODE_ENV!=="production"&&U(`Invalid prop name: "${t}" is a reserved property.`),!1)}function kc(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function vm(t,e){return kc(t)===kc(e)}function _m(t,e){return he(e)?e.findIndex(n=>vm(n,t)):be(e)&&vm(e,t)?0:-1}function bm(t,e,n){const r=ve(e),i=n.propsOptions[0];for(const s in i){let a=i[s];a!=null&&iE(s,r[s],a,!Pe(t,s)&&!Pe(t,nn(s)))}}function iE(t,e,n,r){const{type:i,required:s,validator:a}=n;if(s&&r){U('Missing required prop: "'+t+'"');return}if(!(e==null&&!n.required)){if(i!=null&&i!==!0){let o=!1;const l=he(i)?i:[i],u=[];for(let f=0;f<l.length&&!o;f++){const{valid:c,expectedType:h}=aE(e,l[f]);u.push(h||""),o=c}if(!o){U(oE(t,e,u));return}}a&&!a(e)&&U('Invalid prop: custom validator check failed for prop "'+t+'".')}}const sE=Yr("String,Number,Boolean,Function,Symbol,BigInt");function aE(t,e){let n;const r=kc(e);if(sE(r)){const i=typeof t;n=i===r.toLowerCase(),!n&&i==="object"&&(n=t instanceof e)}else r==="Object"?n=Be(t):r==="Array"?n=he(t):r==="null"?n=t===null:n=t instanceof e;return{valid:n,expectedType:r}}function oE(t,e,n){let r=`Invalid prop: type check failed for prop "${t}". Expected ${n.map(Ai).join(" | ")}`;const i=n[0],s=nc(e),a=Em(e,i),o=Em(e,s);return n.length===1&&wm(i)&&!lE(i,s)&&(r+=` with value ${a}`),r+=`, got ${s} `,wm(s)&&(r+=`with value ${o}.`),r}function Em(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function wm(t){return["string","number","boolean"].some(n=>t.toLowerCase()===n)}function lE(...t){return t.some(e=>e.toLowerCase()==="boolean")}const Sm=t=>t[0]==="_"||t==="$stable",Dc=t=>he(t)?t.map(jn):[jn(t)],uE=(t,e,n)=>{if(e._n)return e;const r=ni((...i)=>(process.env.NODE_ENV!=="production"&&ft&&U(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Dc(e(...i))),n);return r._c=!1,r},xm=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Sm(i))continue;const s=t[i];if(be(s))e[i]=uE(i,s,r);else if(s!=null){process.env.NODE_ENV!=="production"&&U(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const a=Dc(s);e[i]=()=>a}}},Mm=(t,e)=>{process.env.NODE_ENV!=="production"&&!_a(t.vnode)&&U("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=Dc(e);t.slots.default=()=>n},cE=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ve(e),ko(e,"_",n)):xm(e,t.slots={})}else t.slots={},e&&Mm(t,e);ko(t.slots,ul,1)},fE=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=Ke;if(r.shapeFlag&32){const o=e._;o?process.env.NODE_ENV!=="production"&&ti?nt(i,e):n&&o===1?s=!1:(nt(i,e),!n&&o===1&&delete i._):(s=!e.$stable,xm(e,i)),a=e}else e&&(Mm(t,e),a={default:1});if(s)for(const o in i)!Sm(o)&&!(o in a)&&delete i[o]};function Om(){return{app:null,config:{isNativeTag:ed,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hE=0;function dE(t,e){return function(r,i=null){be(r)||(r=Object.assign({},r)),i!=null&&!Be(i)&&(process.env.NODE_ENV!=="production"&&U("root props passed to app.mount() must be an object."),i=null);const s=Om(),a=new Set;let o=!1;const l=s.app={_uid:hE++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Gm,get config(){return s.config},set config(u){process.env.NODE_ENV!=="production"&&U("app.config cannot be replaced. Modify individual options instead.")},use(u,...f){return a.has(u)?process.env.NODE_ENV!=="production"&&U("Plugin has already been applied to target app."):u&&be(u.install)?(a.add(u),u.install(l,...f)):be(u)?(a.add(u),u(l,...f)):process.env.NODE_ENV!=="production"&&U('A plugin must either be a function or an object with an "install" function.'),l},mixin(u){return s.mixins.includes(u)?process.env.NODE_ENV!=="production"&&U("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):s.mixins.push(u),l},component(u,f){return process.env.NODE_ENV!=="production"&&Fc(u,s.config),f?(process.env.NODE_ENV!=="production"&&s.components[u]&&U(`Component "${u}" has already been registered in target app.`),s.components[u]=f,l):s.components[u]},directive(u,f){return process.env.NODE_ENV!=="production"&&am(u),f?(process.env.NODE_ENV!=="production"&&s.directives[u]&&U(`Directive "${u}" has already been registered in target app.`),s.directives[u]=f,l):s.directives[u]},mount(u,f,c){if(o)process.env.NODE_ENV!=="production"&&U("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{process.env.NODE_ENV!=="production"&&u.__vue_app__&&U("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=ne(r,i);return h.appContext=s,process.env.NODE_ENV!=="production"&&(s.reload=()=>{t(ar(h),u,c)}),f&&e?e(h,u):t(h,u,c),o=!0,l._container=u,u.__vue_app__=l,process.env.NODE_ENV!=="production"&&(l._instance=h.component,p1(l,Gm)),dl(h.component)||h.component.proxy}},unmount(){o?(t(null,l._container),process.env.NODE_ENV!=="production"&&(l._instance=null,g1(l)),delete l._container.__vue_app__):process.env.NODE_ENV!=="production"&&U("Cannot unmount an app that is not mounted.")},provide(u,f){return process.env.NODE_ENV!=="production"&&u in s.provides&&U(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),s.provides[u]=f,l}};return l}}function Ic(t,e,n,r,i=!1){if(he(t)){t.forEach((h,d)=>Ic(h,e&&(he(e)?e[d]:e),n,r,i));return}if(va(r)&&!i)return;const s=r.shapeFlag&4?dl(r.component)||r.component.proxy:r.el,a=i?null:s,{i:o,r:l}=t;if(process.env.NODE_ENV!=="production"&&!o){U("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=e&&e.r,f=o.refs===Ke?o.refs={}:o.refs,c=o.setupState;if(u!=null&&u!==l&&(rt(u)?(f[u]=null,Pe(c,u)&&(c[u]=null)):qe(u)&&(u.value=null)),be(l))Tr(l,o,12,[a,f]);else{const h=rt(l),d=qe(l);if(h||d){const m=()=>{if(t.f){const p=h?Pe(c,l)?c[l]:f[l]:l.value;i?he(p)&&Qu(p,s):he(p)?p.includes(s)||p.push(s):h?(f[l]=[s],Pe(c,l)&&(c[l]=f[l])):(l.value=[s],t.k&&(f[t.k]=l.value))}else h?(f[l]=a,Pe(c,l)&&(c[l]=a)):d?(l.value=a,t.k&&(f[t.k]=a)):process.env.NODE_ENV!=="production"&&U("Invalid template ref type:",l,`(${typeof l})`)};a?(m.id=-1,rn(m,n)):m()}else process.env.NODE_ENV!=="production"&&U("Invalid template ref type:",l,`(${typeof l})`)}}let ba,ii;function Cr(t,e){t.appContext.config.performance&&al()&&ii.mark(`vue-${e}-${t.uid}`),process.env.NODE_ENV!=="production"&&b1(t,e,al()?ii.now():Date.now())}function Lr(t,e){if(t.appContext.config.performance&&al()){const n=`vue-${e}-${t.uid}`,r=n+":end";ii.mark(r),ii.measure(`<${ml(t,t.type)}> ${e}`,n,r),ii.clearMarks(n),ii.clearMarks(r)}process.env.NODE_ENV!=="production"&&E1(t,e,al()?ii.now():Date.now())}function al(){return ba!==void 0||(typeof window<"u"&&window.performance?(ba=!0,ii=window.performance):ba=!1),ba}function mE(){const t=[];if(process.env.NODE_ENV!=="production"&&t.length){const e=t.length>1;console.warn(`Feature flag${e?"s":""} ${t.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const rn=L1;function pE(t){return gE(t)}function gE(t,e){mE();const n=sd();n.__VUE__=!0,process.env.NODE_ENV!=="production"&&qd(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:f,parentNode:c,nextSibling:h,setScopeId:d=Pt,insertStaticContent:m}=t,p=(_,S,D,V=null,I=null,H=null,K=!1,W=null,Y=process.env.NODE_ENV!=="production"&&ti?!1:!!S.dynamicChildren)=>{if(_===S)return;_&&!qi(_,S)&&(V=Rn(_),wn(_,I,H,!0),_=null),S.patchFlag===-2&&(Y=!1,S.dynamicChildren=null);const{type:G,ref:le,shapeFlag:se}=S;switch(G){case wa:g(_,S,D,V);break;case Mt:v(_,S,D,V);break;case ll:_==null?y(S,D,V,K):process.env.NODE_ENV!=="production"&&E(_,S,D,K);break;case Re:ie(_,S,D,V,I,H,K,W,Y);break;default:se&1?P(_,S,D,V,I,H,K,W,Y):se&6?O(_,S,D,V,I,H,K,W,Y):se&64||se&128?G.process(_,S,D,V,I,H,K,W,Y,un):process.env.NODE_ENV!=="production"&&U("Invalid VNode type:",G,`(${typeof G})`)}le!=null&&I&&Ic(le,_&&_.ref,H,S||_,!S)},g=(_,S,D,V)=>{if(_==null)r(S.el=o(S.children),D,V);else{const I=S.el=_.el;S.children!==_.children&&u(I,S.children)}},v=(_,S,D,V)=>{_==null?r(S.el=l(S.children||""),D,V):S.el=_.el},y=(_,S,D,V)=>{[_.el,_.anchor]=m(_.children,S,D,V,_.el,_.anchor)},E=(_,S,D,V)=>{if(S.children!==_.children){const I=h(_.anchor);x(_),[S.el,S.anchor]=m(S.children,D,I,V)}else S.el=_.el,S.anchor=_.anchor},w=({el:_,anchor:S},D,V)=>{let I;for(;_&&_!==S;)I=h(_),r(_,D,V),_=I;r(S,D,V)},x=({el:_,anchor:S})=>{let D;for(;_&&_!==S;)D=h(_),i(_),_=D;i(S)},P=(_,S,D,V,I,H,K,W,Y)=>{K=K||S.type==="svg",_==null?k(S,D,V,I,H,K,W,Y):N(_,S,I,H,K,W,Y)},k=(_,S,D,V,I,H,K,W)=>{let Y,G;const{type:le,props:se,shapeFlag:ce,transition:pe,dirs:Ce}=_;if(Y=_.el=a(_.type,H,se&&se.is,se),ce&8?f(Y,_.children):ce&16&&T(_.children,Y,null,V,I,H&&le!=="foreignObject",K,W),Ce&&ji(_,null,V,"created"),C(Y,_,_.scopeId,K,V),se){for(const Ge in se)Ge!=="value"&&!Po(Ge)&&s(Y,Ge,null,se[Ge],H,_.children,V,I,Et);"value"in se&&s(Y,"value",null,se.value),(G=se.onVnodeBeforeMount)&&or(G,V,_)}process.env.NODE_ENV!=="production"&&(Object.defineProperty(Y,"__vnode",{value:_,enumerable:!1}),Object.defineProperty(Y,"__vueParentComponent",{value:V,enumerable:!1})),Ce&&ji(_,null,V,"beforeMount");const ze=(!I||I&&!I.pendingBranch)&&pe&&!pe.persisted;ze&&pe.beforeEnter(Y),r(Y,S,D),((G=se&&se.onVnodeMounted)||ze||Ce)&&rn(()=>{G&&or(G,V,_),ze&&pe.enter(Y),Ce&&ji(_,null,V,"mounted")},I)},C=(_,S,D,V,I)=>{if(D&&d(_,D),V)for(let H=0;H<V.length;H++)d(_,V[H]);if(I){let H=I.subTree;if(process.env.NODE_ENV!=="production"&&H.patchFlag>0&&H.patchFlag&2048&&(H=Xd(H.children)||H),S===H){const K=I.vnode;C(_,K,K.scopeId,K.slotScopeIds,I.parent)}}},T=(_,S,D,V,I,H,K,W,Y=0)=>{for(let G=Y;G<_.length;G++){const le=_[G]=W?si(_[G]):jn(_[G]);p(null,le,S,D,V,I,H,K,W)}},N=(_,S,D,V,I,H,K)=>{const W=S.el=_.el;let{patchFlag:Y,dynamicChildren:G,dirs:le}=S;Y|=_.patchFlag&16;const se=_.props||Ke,ce=S.props||Ke;let pe;D&&Bi(D,!1),(pe=ce.onVnodeBeforeUpdate)&&or(pe,D,S,_),le&&ji(S,_,D,"beforeUpdate"),D&&Bi(D,!0),process.env.NODE_ENV!=="production"&&ti&&(Y=0,K=!1,G=null);const Ce=I&&S.type!=="foreignObject";if(G?(B(_.dynamicChildren,G,W,D,V,Ce,H),process.env.NODE_ENV!=="production"&&D&&D.type.__hmrId&&Ea(_,S)):K||Ee(_,S,W,null,D,V,Ce,H,!1),Y>0){if(Y&16)R(W,S,se,ce,D,V,I);else if(Y&2&&se.class!==ce.class&&s(W,"class",null,ce.class,I),Y&4&&s(W,"style",se.style,ce.style,I),Y&8){const ze=S.dynamicProps;for(let Ge=0;Ge<ze.length;Ge++){const ot=ze[Ge],cn=se[ot],nr=ce[ot];(nr!==cn||ot==="value")&&s(W,ot,cn,nr,I,_.children,D,V,Et)}}Y&1&&_.children!==S.children&&f(W,S.children)}else!K&&G==null&&R(W,S,se,ce,D,V,I);((pe=ce.onVnodeUpdated)||le)&&rn(()=>{pe&&or(pe,D,S,_),le&&ji(S,_,D,"updated")},V)},B=(_,S,D,V,I,H,K)=>{for(let W=0;W<S.length;W++){const Y=_[W],G=S[W],le=Y.el&&(Y.type===Re||!qi(Y,G)||Y.shapeFlag&70)?c(Y.el):D;p(Y,G,le,null,V,I,H,K,!0)}},R=(_,S,D,V,I,H,K)=>{if(D!==V){if(D!==Ke)for(const W in D)!Po(W)&&!(W in V)&&s(_,W,D[W],null,K,S.children,I,H,Et);for(const W in V){if(Po(W))continue;const Y=V[W],G=D[W];Y!==G&&W!=="value"&&s(_,W,G,Y,K,S.children,I,H,Et)}"value"in V&&s(_,"value",D.value,V.value)}},ie=(_,S,D,V,I,H,K,W,Y)=>{const G=S.el=_?_.el:o(""),le=S.anchor=_?_.anchor:o("");let{patchFlag:se,dynamicChildren:ce,slotScopeIds:pe}=S;process.env.NODE_ENV!=="production"&&(ti||se&2048)&&(se=0,Y=!1,ce=null),pe&&(W=W?W.concat(pe):pe),_==null?(r(G,D,V),r(le,D,V),T(S.children,D,le,I,H,K,W,Y)):se>0&&se&64&&ce&&_.dynamicChildren?(B(_.dynamicChildren,ce,D,I,H,K,W),process.env.NODE_ENV!=="production"&&I&&I.type.__hmrId?Ea(_,S):(S.key!=null||I&&S===I.subTree)&&Ea(_,S,!0)):Ee(_,S,D,le,I,H,K,W,Y)},O=(_,S,D,V,I,H,K,W,Y)=>{S.slotScopeIds=W,_==null?S.shapeFlag&512?I.ctx.activate(S,D,V,K,Y):j(S,D,V,I,H,K,Y):Z(_,S,Y)},j=(_,S,D,V,I,H,K)=>{const W=_.component=TE(_,V,I);if(process.env.NODE_ENV!=="production"&&W.type.__hmrId&&f1(W),process.env.NODE_ENV!=="production"&&(Yo(_),Cr(W,"mount")),_a(_)&&(W.ctx.renderer=un),process.env.NODE_ENV!=="production"&&Cr(W,"init"),CE(W),process.env.NODE_ENV!=="production"&&Lr(W,"init"),W.asyncDep){if(I&&I.registerDep(W,Q),!_.el){const Y=W.subTree=ne(Mt);v(null,Y,S,D)}return}Q(W,_,S,D,I,H,K),process.env.NODE_ENV!=="production"&&(Xo(),Lr(W,"mount"))},Z=(_,S,D)=>{const V=S.component=_.component;if(T1(_,S,D))if(V.asyncDep&&!V.asyncResolved){process.env.NODE_ENV!=="production"&&Yo(S),oe(V,S,D),process.env.NODE_ENV!=="production"&&Xo();return}else V.next=S,u1(V.update),V.update();else S.el=_.el,V.vnode=S},Q=(_,S,D,V,I,H,K)=>{const W=()=>{if(_.isMounted){let{next:le,bu:se,u:ce,parent:pe,vnode:Ce}=_,ze=le,Ge;process.env.NODE_ENV!=="production"&&Yo(le||_.vnode),Bi(_,!1),le?(le.el=Ce.el,oe(_,le,K)):le=Ce,se&&la(se),(Ge=le.props&&le.props.onVnodeBeforeUpdate)&&or(Ge,pe,le,Ce),Bi(_,!0),process.env.NODE_ENV!=="production"&&Cr(_,"render");const ot=_c(_);process.env.NODE_ENV!=="production"&&Lr(_,"render");const cn=_.subTree;_.subTree=ot,process.env.NODE_ENV!=="production"&&Cr(_,"patch"),p(cn,ot,c(cn.el),Rn(cn),_,I,H),process.env.NODE_ENV!=="production"&&Lr(_,"patch"),le.el=ot.el,ze===null&&N1(_,ot.el),ce&&rn(ce,I),(Ge=le.props&&le.props.onVnodeUpdated)&&rn(()=>or(Ge,pe,le,Ce),I),process.env.NODE_ENV!=="production"&&Wd(_),process.env.NODE_ENV!=="production"&&Xo()}else{let le;const{el:se,props:ce}=S,{bm:pe,m:Ce,parent:ze}=_,Ge=va(S);if(Bi(_,!1),pe&&la(pe),!Ge&&(le=ce&&ce.onVnodeBeforeMount)&&or(le,ze,S),Bi(_,!0),se&&Mr){const ot=()=>{process.env.NODE_ENV!=="production"&&Cr(_,"render"),_.subTree=_c(_),process.env.NODE_ENV!=="production"&&Lr(_,"render"),process.env.NODE_ENV!=="production"&&Cr(_,"hydrate"),Mr(se,_.subTree,_,I,null),process.env.NODE_ENV!=="production"&&Lr(_,"hydrate")};Ge?S.type.__asyncLoader().then(()=>!_.isUnmounted&&ot()):ot()}else{process.env.NODE_ENV!=="production"&&Cr(_,"render");const ot=_.subTree=_c(_);process.env.NODE_ENV!=="production"&&Lr(_,"render"),process.env.NODE_ENV!=="production"&&Cr(_,"patch"),p(null,ot,D,V,_,I,H),process.env.NODE_ENV!=="production"&&Lr(_,"patch"),S.el=ot.el}if(Ce&&rn(Ce,I),!Ge&&(le=ce&&ce.onVnodeMounted)){const ot=S;rn(()=>or(le,ze,ot),I)}(S.shapeFlag&256||ze&&va(ze.vnode)&&ze.vnode.shapeFlag&256)&&_.a&&rn(_.a,I),_.isMounted=!0,process.env.NODE_ENV!=="production"&&y1(_),S=D=V=null}},Y=_.effect=new oc(W,()=>Jo(G),_.scope),G=_.update=()=>Y.run();G.id=_.uid,Bi(_,!0),process.env.NODE_ENV!=="production"&&(Y.onTrack=_.rtc?le=>la(_.rtc,le):void 0,Y.onTrigger=_.rtg?le=>la(_.rtg,le):void 0,G.ownerInstance=_),G()},oe=(_,S,D)=>{S.component=_;const V=_.vnode.props;_.vnode=S,_.next=null,rE(_,S.props,V,D),fE(_,S.children,D),Ii(),Vd(),Ri()},Ee=(_,S,D,V,I,H,K,W,Y=!1)=>{const G=_&&_.children,le=_?_.shapeFlag:0,se=S.children,{patchFlag:ce,shapeFlag:pe}=S;if(ce>0){if(ce&128){at(G,se,D,V,I,H,K,W,Y);return}else if(ce&256){ln(G,se,D,V,I,H,K,W,Y);return}}pe&8?(le&16&&Et(G,I,H),se!==G&&f(D,se)):le&16?pe&16?at(G,se,D,V,I,H,K,W,Y):Et(G,I,H,!0):(le&8&&f(D,""),pe&16&&T(se,D,V,I,H,K,W,Y))},ln=(_,S,D,V,I,H,K,W,Y)=>{_=_||vs,S=S||vs;const G=_.length,le=S.length,se=Math.min(G,le);let ce;for(ce=0;ce<se;ce++){const pe=S[ce]=Y?si(S[ce]):jn(S[ce]);p(_[ce],pe,D,null,I,H,K,W,Y)}G>le?Et(_,I,H,!0,!1,se):T(S,D,V,I,H,K,W,Y,se)},at=(_,S,D,V,I,H,K,W,Y)=>{let G=0;const le=S.length;let se=_.length-1,ce=le-1;for(;G<=se&&G<=ce;){const pe=_[G],Ce=S[G]=Y?si(S[G]):jn(S[G]);if(qi(pe,Ce))p(pe,Ce,D,null,I,H,K,W,Y);else break;G++}for(;G<=se&&G<=ce;){const pe=_[se],Ce=S[ce]=Y?si(S[ce]):jn(S[ce]);if(qi(pe,Ce))p(pe,Ce,D,null,I,H,K,W,Y);else break;se--,ce--}if(G>se){if(G<=ce){const pe=ce+1,Ce=pe<le?S[pe].el:V;for(;G<=ce;)p(null,S[G]=Y?si(S[G]):jn(S[G]),D,Ce,I,H,K,W,Y),G++}}else if(G>ce)for(;G<=se;)wn(_[G],I,H,!0),G++;else{const pe=G,Ce=G,ze=new Map;for(G=Ce;G<=ce;G++){const xt=S[G]=Y?si(S[G]):jn(S[G]);xt.key!=null&&(process.env.NODE_ENV!=="production"&&ze.has(xt.key)&&U("Duplicate keys found during update:",JSON.stringify(xt.key),"Make sure keys are unique."),ze.set(xt.key,G))}let Ge,ot=0;const cn=ce-Ce+1;let nr=!1,gs=0;const tn=new Array(cn);for(G=0;G<cn;G++)tn[G]=0;for(G=pe;G<=se;G++){const xt=_[G];if(ot>=cn){wn(xt,I,H,!0);continue}let fn;if(xt.key!=null)fn=ze.get(xt.key);else for(Ge=Ce;Ge<=ce;Ge++)if(tn[Ge-Ce]===0&&qi(xt,S[Ge])){fn=Ge;break}fn===void 0?wn(xt,I,H,!0):(tn[fn-Ce]=G+1,fn>=gs?gs=fn:nr=!0,p(xt,S[fn],D,null,I,H,K,W,Y),ot++)}const Wr=nr?yE(tn):vs;for(Ge=Wr.length-1,G=cn-1;G>=0;G--){const xt=Ce+G,fn=S[xt],Ku=xt+1<le?S[xt+1].el:V;tn[G]===0?p(null,fn,D,Ku,I,H,K,W,Y):nr&&(Ge<0||G!==Wr[Ge]?Ie(fn,D,Ku,2):Ge--)}}},Ie=(_,S,D,V,I=null)=>{const{el:H,type:K,transition:W,children:Y,shapeFlag:G}=_;if(G&6){Ie(_.component.subTree,S,D,V);return}if(G&128){_.suspense.move(S,D,V);return}if(G&64){K.move(_,S,D,un);return}if(K===Re){r(H,S,D);for(let se=0;se<Y.length;se++)Ie(Y[se],S,D,V);r(_.anchor,S,D);return}if(K===ll){w(_,S,D);return}if(V!==2&&G&1&&W)if(V===0)W.beforeEnter(H),r(H,S,D),rn(()=>W.enter(H),I);else{const{leave:se,delayLeave:ce,afterLeave:pe}=W,Ce=()=>r(H,S,D),ze=()=>{se(H,()=>{Ce(),pe&&pe()})};ce?ce(H,Ce,ze):ze()}else r(H,S,D)},wn=(_,S,D,V=!1,I=!1)=>{const{type:H,props:K,ref:W,children:Y,dynamicChildren:G,shapeFlag:le,patchFlag:se,dirs:ce}=_;if(W!=null&&Ic(W,null,D,_,!0),le&256){S.ctx.deactivate(_);return}const pe=le&1&&ce,Ce=!va(_);let ze;if(Ce&&(ze=K&&K.onVnodeBeforeUnmount)&&or(ze,S,_),le&6)Xe(_.component,D,V);else{if(le&128){_.suspense.unmount(D,V);return}pe&&ji(_,null,S,"beforeUnmount"),le&64?_.type.remove(_,S,D,I,un,V):G&&(H!==Re||se>0&&se&64)?Et(G,S,D,!1,!0):(H===Re&&se&384||!I&&le&16)&&Et(Y,S,D),V&&Je(_)}(Ce&&(ze=K&&K.onVnodeUnmounted)||pe)&&rn(()=>{ze&&or(ze,S,_),pe&&ji(_,null,S,"unmounted")},D)},Je=_=>{const{type:S,el:D,anchor:V,transition:I}=_;if(S===Re){process.env.NODE_ENV!=="production"&&_.patchFlag>0&&_.patchFlag&2048&&I&&!I.persisted?_.children.forEach(K=>{K.type===Mt?i(K.el):Je(K)}):ps(D,V);return}if(S===ll){x(_);return}const H=()=>{i(D),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(_.shapeFlag&1&&I&&!I.persisted){const{leave:K,delayLeave:W}=I,Y=()=>K(D,H);W?W(_.el,H,Y):Y()}else H()},ps=(_,S)=>{let D;for(;_!==S;)D=h(_),i(_),_=D;i(S)},Xe=(_,S,D)=>{process.env.NODE_ENV!=="production"&&_.type.__hmrId&&h1(_);const{bum:V,scope:I,update:H,subTree:K,um:W}=_;V&&la(V),I.stop(),H&&(H.active=!1,wn(K,_,S,D)),W&&rn(W,S),rn(()=>{_.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve()),process.env.NODE_ENV!=="production"&&_1(_)},Et=(_,S,D,V=!1,I=!1,H=0)=>{for(let K=H;K<_.length;K++)wn(_[K],S,D,V,I)},Rn=_=>_.shapeFlag&6?Rn(_.component.subTree):_.shapeFlag&128?_.suspense.next():h(_.anchor||_.el),Ci=(_,S,D)=>{_==null?S._vnode&&wn(S._vnode,null,null,!0):p(S._vnode||null,_,S,null,null,null,D),Vd(),jd(),S._vnode=_},un={p,um:wn,m:Ie,r:Je,mt:j,mc:T,pc:Ee,pbc:B,n:Rn,o:t};let Sn,Mr;return e&&([Sn,Mr]=e(un)),{render:Ci,hydrate:Sn,createApp:dE(Ci,Sn)}}function Bi({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Ea(t,e,n=!1){const r=t.children,i=e.children;if(he(r)&&he(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=si(i[s]),o.el=a.el),n||Ea(a,o)),o.type===wa&&(o.el=a.el),process.env.NODE_ENV!=="production"&&o.type===Mt&&!o.el&&(o.el=a.el)}}function yE(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<u?s=o+1:a=o;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const vE=t=>t.__isTeleport,xs=t=>t&&(t.disabled||t.disabled===""),Tm=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Rc=(t,e)=>{const n=t&&t.to;if(rt(n))if(e){const r=e(n);return r||process.env.NODE_ENV!=="production"&&U(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),r}else return process.env.NODE_ENV!=="production"&&U("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return process.env.NODE_ENV!=="production"&&!n&&!xs(t)&&U(`Invalid Teleport target: ${n}`),n},_E={__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,u){const{mc:f,pc:c,pbc:h,o:{insert:d,querySelector:m,createText:p,createComment:g}}=u,v=xs(e.props);let{shapeFlag:y,children:E,dynamicChildren:w}=e;if(process.env.NODE_ENV!=="production"&&ti&&(l=!1,w=null),t==null){const x=e.el=process.env.NODE_ENV!=="production"?g("teleport start"):p(""),P=e.anchor=process.env.NODE_ENV!=="production"?g("teleport end"):p("");d(x,n,r),d(P,n,r);const k=e.target=Rc(e.props,m),C=e.targetAnchor=p("");k?(d(C,k),a=a||Tm(k)):process.env.NODE_ENV!=="production"&&!v&&U("Invalid Teleport target on mount:",k,`(${typeof k})`);const T=(N,B)=>{y&16&&f(E,N,B,i,s,a,o,l)};v?T(n,P):k&&T(k,C)}else{e.el=t.el;const x=e.anchor=t.anchor,P=e.target=t.target,k=e.targetAnchor=t.targetAnchor,C=xs(t.props),T=C?n:P,N=C?x:k;if(a=a||Tm(P),w?(h(t.dynamicChildren,w,T,i,s,a,o),Ea(t,e,!0)):l||c(t,e,T,N,i,s,a,o,!1),v)C||ol(e,n,x,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const B=e.target=Rc(e.props,m);B?ol(e,B,null,u,0):process.env.NODE_ENV!=="production"&&U("Invalid Teleport target on update:",P,`(${typeof P})`)}else C&&ol(e,P,k,u,1)}Cm(e)},remove(t,e,n,r,{um:i,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:u,targetAnchor:f,target:c,props:h}=t;if(c&&s(f),(a||!xs(h))&&(s(u),o&16))for(let d=0;d<l.length;d++){const m=l[d];i(m,e,n,!0,!!m.dynamicChildren)}},move:ol,hydrate:bE};function ol(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:f}=t,c=s===2;if(c&&r(a,e,n),(!c||xs(f))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);c&&r(o,e,n)}function bE(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const f=e.target=Rc(e.props,l);if(f){const c=f._lpa||f.firstChild;if(e.shapeFlag&16)if(xs(e.props))e.anchor=u(a(t),e,o(t),n,r,i,s),e.targetAnchor=c;else{e.anchor=a(t);let h=c;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(c,e,f,n,r,i,s)}Cm(e)}return e.anchor&&a(e.anchor)}const Nm=_E;function Cm(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Re=Symbol(process.env.NODE_ENV!=="production"?"Fragment":void 0),wa=Symbol(process.env.NODE_ENV!=="production"?"Text":void 0),Mt=Symbol(process.env.NODE_ENV!=="production"?"Comment":void 0),ll=Symbol(process.env.NODE_ENV!=="production"?"Static":void 0),Sa=[];let Vn=null;function A(t=!1){Sa.push(Vn=t?null:[])}function EE(){Sa.pop(),Vn=Sa[Sa.length-1]||null}let xa=1;function Lm(t){xa+=t}function Pm(t){return t.dynamicChildren=xa>0?Vn||vs:null,EE(),xa>0&&Vn&&Vn.push(t),t}function F(t,e,n,r,i,s){return Pm(L(t,e,n,r,i,s,!0))}function $e(t,e,n,r,i){return Pm(ne(t,e,n,r,i,!0))}function Ms(t){return t?t.__v_isVNode===!0:!1}function qi(t,e){return process.env.NODE_ENV!=="production"&&e.shapeFlag&6&&ws.has(e.type)?(t.shapeFlag&=-257,e.shapeFlag&=-513,!1):t.type===e.type&&t.key===e.key}const wE=(...t)=>km(...t),ul="__vInternal",Am=({key:t})=>t!=null?t:null,cl=({ref:t,ref_key:e,ref_for:n})=>t!=null?rt(t)||qe(t)||be(t)?{i:wt,r:t,k:e,f:!!n}:t:null;function L(t,e=null,n=null,r=0,i=null,s=t===Re?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Am(e),ref:e&&cl(e),scopeId:Yd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:wt};return o?($c(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=rt(n)?8:16),process.env.NODE_ENV!=="production"&&l.key!==l.key&&U("VNode created with invalid key (NaN). VNode type:",l.type),xa>0&&!a&&Vn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Vn.push(l),l}const ne=process.env.NODE_ENV!=="production"?wE:km;function km(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===W1)&&(process.env.NODE_ENV!=="production"&&!t&&U(`Invalid vnode type when creating vnode: ${t}.`),t=Mt),Ms(t)){const o=ar(t,e,!0);return n&&$c(o,n),xa>0&&!s&&Vn&&(o.shapeFlag&6?Vn[Vn.indexOf(t)]=o:Vn.push(o)),o.patchFlag|=-2,o}if(Vm(t)&&(t=t.__vccOpts),e){e=SE(e);let{class:o,style:l}=e;o&&!rt(o)&&(e.class=Le(o)),Be(l)&&(zo(l)&&!he(l)&&(l=nt({},l)),e.style=Xr(l))}const a=rt(t)?1:C1(t)?128:vE(t)?64:Be(t)?4:be(t)?2:0;return process.env.NODE_ENV!=="production"&&a&4&&zo(t)&&(t=ve(t),U("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),L(t,e,n,r,i,a,s,!0)}function SE(t){return t?zo(t)||ul in t?nt({},t):t:null}function ar(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,o=e?xE(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&Am(o),ref:e&&e.ref?n&&i?he(i)?i.concat(cl(e)):[i,cl(e)]:cl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:process.env.NODE_ENV!=="production"&&s===-1&&he(a)?a.map(Dm):a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Re?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ar(t.ssContent),ssFallback:t.ssFallback&&ar(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Dm(t){const e=ar(t);return he(t.children)&&(e.children=t.children.map(Dm)),e}function fl(t=" ",e=0){return ne(wa,null,t,e)}function $(t="",e=!1){return e?(A(),$e(Mt,null,t)):ne(Mt,null,t)}function jn(t){return t==null||typeof t=="boolean"?ne(Mt):he(t)?ne(Re,null,t.slice()):typeof t=="object"?si(t):ne(wa,null,String(t))}function si(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ar(t)}function $c(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(he(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),$c(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(ul in e)?e._ctx=wt:i===3&&wt&&(wt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:wt},n=32):(e=String(e),r&64?(n=16,e=[fl(e)]):n=8);t.children=e,t.shapeFlag|=n}function xE(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Le([e.class,r.class]));else if(i==="style")e.style=Xr([e.style,r.style]);else if(aa(i)){const s=e[i],a=r[i];a&&s!==a&&!(he(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function or(t,e,n,r=null){xn(t,e,7,[n,r])}const ME=Om();let OE=0;function TE(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||ME,s={uid:OE++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new ad(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gm(r,i),emitsOptions:zd(r,i),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:r.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return process.env.NODE_ENV!=="production"?s.ctx=H1(s):s.ctx={_:s},s.root=e?e.root:s,s.emit=S1.bind(null,s),t.ce&&t.ce(s),s}let ft=null;const hl=()=>ft||wt,Os=t=>{ft=t,t.scope.on()},Wi=()=>{ft&&ft.scope.off(),ft=null},NE=Yr("slot,component");function Fc(t,e){const n=e.isNativeTag||ed;(NE(t)||n(t))&&U("Do not use built-in or reserved HTML elements as component id: "+t)}function Im(t){return t.vnode.shapeFlag&4}let Ma=!1;function CE(t,e=!1){Ma=e;const{props:n,children:r}=t.vnode,i=Im(t);tE(t,n,i,e),cE(t,r);const s=i?LE(t,e):void 0;return Ma=!1,s}function LE(t,e){var n;const r=t.type;if(process.env.NODE_ENV!=="production"){if(r.name&&Fc(r.name,t.appContext.config),r.components){const s=Object.keys(r.components);for(let a=0;a<s.length;a++)Fc(s[a],t.appContext.config)}if(r.directives){const s=Object.keys(r.directives);for(let a=0;a<s.length;a++)am(s[a])}r.compilerOptions&&PE()&&U('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=Fn(new Proxy(t.ctx,fm)),process.env.NODE_ENV!=="production"&&z1(t);const{setup:i}=r;if(i){const s=t.setupContext=i.length>1?AE(t):null;Os(t),Ii();const a=Tr(i,t,0,[process.env.NODE_ENV!=="production"?bs(t.props):t.props,s]);if(Ri(),Wi(),tc(a)){if(a.then(Wi,Wi),e)return a.then(o=>{Rm(t,o,e)}).catch(o=>{Ko(o,t,0)});if(t.asyncDep=a,process.env.NODE_ENV!=="production"&&!t.suspense){const o=(n=r.name)!==null&&n!==void 0?n:"Anonymous";U(`Component <${o}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else Rm(t,a,e)}else $m(t,e)}function Rm(t,e,n){be(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Be(e)?(process.env.NODE_ENV!=="production"&&Ms(e)&&U("setup() should not return VNodes directly - return a render function instead."),process.env.NODE_ENV!=="production"&&(t.devtoolsRawSetupState=e),t.setupState=Ad(e),process.env.NODE_ENV!=="production"&&Y1(t)):process.env.NODE_ENV!=="production"&&e!==void 0&&U(`setup() should return an object. Received: ${e===null?"null":typeof e}`),$m(t,n)}let Vc;const PE=()=>!Vc;function $m(t,e,n){const r=t.type;if(!t.render){if(!e&&Vc&&!r.render){const i=r.template||Lc(t).template;if(i){process.env.NODE_ENV!=="production"&&Cr(t,"compile");const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,u=nt(nt({isCustomElement:s,delimiters:o},a),l);r.render=Vc(i,u),process.env.NODE_ENV!=="production"&&Lr(t,"compile")}}t.render=r.render||Pt}Os(t),Ii(),K1(t),Ri(),Wi(),process.env.NODE_ENV!=="production"&&!r.render&&t.render===Pt&&!e&&(r.template?U('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):U("Component is missing template or render function."))}function Fm(t){return new Proxy(t.attrs,process.env.NODE_ENV!=="production"?{get(e,n){return tl(),Ht(t,"get","$attrs"),e[n]},set(){return U("setupContext.attrs is readonly."),!1},deleteProperty(){return U("setupContext.attrs is readonly."),!1}}:{get(e,n){return Ht(t,"get","$attrs"),e[n]}})}function AE(t){const e=r=>{if(process.env.NODE_ENV!=="production"&&(t.exposed&&U("expose() should be called only once per setup()."),r!=null)){let i=typeof r;i==="object"&&(he(r)?i="array":qe(r)&&(i="ref")),i!=="object"&&U(`expose() should be passed a plain object, received ${i}.`)}t.exposed=r||{}};let n;return process.env.NODE_ENV!=="production"?Object.freeze({get attrs(){return n||(n=Fm(t))},get slots(){return bs(t.slots)},get emit(){return(r,...i)=>t.emit(r,...i)},expose:e}):{get attrs(){return n||(n=Fm(t))},slots:t.slots,emit:t.emit,expose:e}}function dl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ad(Fn(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Gi)return Gi[n](t)},has(e,n){return n in e||n in Gi}}))}const kE=/(?:^|[-_])(\w)/g,DE=t=>t.replace(kE,e=>e.toUpperCase()).replace(/[-_]/g,"");function jc(t,e=!0){return be(t)?t.displayName||t.name:t.name||e&&t.__name}function ml(t,e,n=!1){let r=jc(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=s=>{for(const a in s)if(s[a]===e)return a};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?DE(r):n?"App":"Anonymous"}function Vm(t){return be(t)&&"__vccOpts"in t}const me=(t,e)=>e1(t,e,Ma);function jm(t,e,n){const r=arguments.length;return r===2?Be(e)&&!he(e)?Ms(e)?ne(t,null,[e]):ne(t,e):ne(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ms(n)&&(n=[n]),ne(t,e,n))}const IE=Symbol(process.env.NODE_ENV!=="production"?"ssrContext":""),RE=()=>{{const t=Ss(IE);return t||process.env.NODE_ENV!=="production"&&U("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function Gc(t){return!!(t&&t.__v_isShallow)}function $E(){if(process.env.NODE_ENV==="production"||typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#0b1bc9"},n={style:"color:#b62e24"},r={style:"color:#9d288c"},i={header(c){return Be(c)?c.__isVue?["div",t,"VueInstance"]:qe(c)?["div",{},["span",t,f(c)],"<",o(c.value),">"]:$n(c)?["div",{},["span",t,Gc(c)?"ShallowReactive":"Reactive"],"<",o(c),`>${Qr(c)?" (readonly)":""}`]:Qr(c)?["div",{},["span",t,Gc(c)?"ShallowReadonly":"Readonly"],"<",o(c),">"]:null:null},hasBody(c){return c&&c.__isVue},body(c){if(c&&c.__isVue)return["div",{},...s(c.$)]}};function s(c){const h=[];c.type.props&&c.props&&h.push(a("props",ve(c.props))),c.setupState!==Ke&&h.push(a("setup",c.setupState)),c.data!==Ke&&h.push(a("data",ve(c.data)));const d=l(c,"computed");d&&h.push(a("computed",d));const m=l(c,"inject");return m&&h.push(a("injected",m)),h.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:c}]]),h}function a(c,h){return h=nt({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},c],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(d=>["div",{},["span",r,d+": "],o(h[d],!1)])]]:["span",{}]}function o(c,h=!0){return typeof c=="number"?["span",e,c]:typeof c=="string"?["span",n,JSON.stringify(c)]:typeof c=="boolean"?["span",r,c]:Be(c)?["object",{object:h?ve(c):c}]:["span",n,String(c)]}function l(c,h){const d=c.type;if(be(d))return;const m={};for(const p in c.ctx)u(d,p,h)&&(m[p]=c.ctx[p]);return m}function u(c,h,d){const m=c[d];if(he(m)&&m.includes(h)||Be(m)&&h in m||c.extends&&u(c.extends,h,d)||c.mixins&&c.mixins.some(p=>u(p,h,d)))return!0}function f(c){return Gc(c)?"ShallowRef":c.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}const Gm="3.2.47",FE="http://www.w3.org/2000/svg",Hi=typeof document<"u"?document:null,Um=Hi&&Hi.createElement("template"),VE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Hi.createElementNS(FE,t):Hi.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Hi.createTextNode(t),createComment:t=>Hi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Hi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Um.innerHTML=r?`<svg>${t}</svg>`:t;const o=Um.content;if(r){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function jE(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function GE(t,e,n){const r=t.style,i=rt(n);if(n&&!i){if(e&&!rt(e))for(const s in e)n[s]==null&&Uc(r,s,"");for(const s in n)Uc(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const UE=/[^\\];\s*$/,Bm=/\s*!important$/;function Uc(t,e,n){if(he(n))n.forEach(r=>Uc(t,e,r));else if(n==null&&(n=""),process.env.NODE_ENV!=="production"&&UE.test(n)&&U(`Unexpected semicolon at the end of '${e}' style value: '${n}'`),e.startsWith("--"))t.setProperty(e,n);else{const r=BE(t,e);Bm.test(n)?t.setProperty(nn(r),n.replace(Bm,""),"important"):t[r]=n}}const qm=["Webkit","Moz","ms"],Bc={};function BE(t,e){const n=Bc[e];if(n)return n;let r=dn(e);if(r!=="filter"&&r in t)return Bc[e]=r;r=Ai(r);for(let i=0;i<qm.length;i++){const s=qm[i]+r;if(s in t)return Bc[e]=s}return e}const Wm="http://www.w3.org/1999/xlink";function qE(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Wm,e.slice(6,e.length)):t.setAttributeNS(Wm,e,n);else{const s=hb(e);n==null||s&&!Jh(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function WE(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n==null?"":n;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Jh(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch(l){process.env.NODE_ENV!=="production"&&!o&&U(`Failed setting prop "${e}" on <${t.tagName.toLowerCase()}>: value ${n} is invalid.`,l)}o&&t.removeAttribute(e)}function HE(t,e,n,r){t.addEventListener(e,n,r)}function zE(t,e,n,r){t.removeEventListener(e,n,r)}function YE(t,e,n,r,i=null){const s=t._vei||(t._vei={}),a=s[e];if(r&&a)a.value=r;else{const[o,l]=XE(e);if(r){const u=s[e]=JE(r,i);HE(t,o,u,l)}else a&&(zE(t,o,a,l),s[e]=void 0)}}const Hm=/(?:Once|Passive|Capture)$/;function XE(t){let e;if(Hm.test(t)){e={};let r;for(;r=t.match(Hm);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):nn(t.slice(2)),e]}let qc=0;const KE=Promise.resolve(),ZE=()=>qc||(KE.then(()=>qc=0),qc=Date.now());function JE(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;xn(QE(r,n.value),e,5,[r])};return n.value=t,n.attached=ZE(),n}function QE(t,e){if(he(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const zm=/^on[a-z]/,ew=(t,e,n,r,i=!1,s,a,o,l)=>{e==="class"?jE(t,r,i):e==="style"?GE(t,n,r):aa(e)?Co(e)||YE(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):tw(t,e,r,i))?WE(t,e,r,s,a,o,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),qE(t,e,r,i))};function tw(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&zm.test(e)&&be(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||zm.test(e)&&rt(n)?!1:e in t}const ai="transition",Oa="animation",pl=(t,{slots:e})=>jm(em,nw(t),e);pl.displayName="Transition";const Ym={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};pl.props=nt({},em.props,Ym);const zi=(t,e=[])=>{he(t)?t.forEach(n=>n(...e)):t&&t(...e)},Xm=t=>t?he(t)?t.some(e=>e.length>1):t.length>1:!1;function nw(t){const e={};for(const R in t)R in Ym||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:f=o,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,m=rw(i),p=m&&m[0],g=m&&m[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:E,onLeave:w,onLeaveCancelled:x,onBeforeAppear:P=v,onAppear:k=y,onAppearCancelled:C=E}=e,T=(R,ie,O)=>{Yi(R,ie?f:o),Yi(R,ie?u:a),O&&O()},N=(R,ie)=>{R._isLeaving=!1,Yi(R,c),Yi(R,d),Yi(R,h),ie&&ie()},B=R=>(ie,O)=>{const j=R?k:y,Z=()=>T(ie,R,O);zi(j,[ie,Z]),Km(()=>{Yi(ie,R?l:s),oi(ie,R?f:o),Xm(j)||Zm(ie,r,p,Z)})};return nt(e,{onBeforeEnter(R){zi(v,[R]),oi(R,s),oi(R,a)},onBeforeAppear(R){zi(P,[R]),oi(R,l),oi(R,u)},onEnter:B(!1),onAppear:B(!0),onLeave(R,ie){R._isLeaving=!0;const O=()=>N(R,ie);oi(R,c),aw(),oi(R,h),Km(()=>{!R._isLeaving||(Yi(R,c),oi(R,d),Xm(w)||Zm(R,r,g,O))}),zi(w,[R,O])},onEnterCancelled(R){T(R,!1),zi(E,[R])},onAppearCancelled(R){T(R,!0),zi(C,[R])},onLeaveCancelled(R){N(R),zi(x,[R])}})}function rw(t){if(t==null)return null;if(Be(t))return[Wc(t.enter),Wc(t.leave)];{const e=Wc(t);return[e,e]}}function Wc(t){const e=ic(t);return process.env.NODE_ENV!=="production"&&s1(e,"<transition> explicit duration"),e}function oi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Yi(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Km(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let iw=0;function Zm(t,e,n,r){const i=t._endId=++iw,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=sw(t,e);if(!a)return r();const u=a+"end";let f=0;const c=()=>{t.removeEventListener(u,h),s()},h=d=>{d.target===t&&++f>=l&&c()};setTimeout(()=>{f<l&&c()},o+1),t.addEventListener(u,h)}function sw(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r(`${ai}Delay`),s=r(`${ai}Duration`),a=Jm(i,s),o=r(`${Oa}Delay`),l=r(`${Oa}Duration`),u=Jm(o,l);let f=null,c=0,h=0;e===ai?a>0&&(f=ai,c=a,h=s.length):e===Oa?u>0&&(f=Oa,c=u,h=l.length):(c=Math.max(a,u),f=c>0?a>u?ai:Oa:null,h=f?f===ai?s.length:l.length:0);const d=f===ai&&/\b(transform|all)(,|$)/.test(r(`${ai}Property`).toString());return{type:f,timeout:c,propCount:h,hasTransform:d}}function Jm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Qm(n)+Qm(t[r])))}function Qm(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function aw(){return document.body.offsetHeight}const ow=["ctrl","shift","alt","meta"],lw={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ow.some(n=>t[`${n}Key`]&&!e.includes(n))},lr=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=lw[e[i]];if(s&&s(n,e))return}return t(n,...r)},uw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ur=(t,e)=>n=>{if(!("key"in n))return;const r=nn(n.key);if(e.some(i=>i===r||uw[i]===r))return t(n)},cw=nt({patchProp:ew},VE);let ep;function tp(){return ep||(ep=pE(cw))}const np=(...t)=>{tp().render(...t)},fw=(...t)=>{const e=tp().createApp(...t);process.env.NODE_ENV!=="production"&&(hw(e),dw(e));const{mount:n}=e;return e.mount=r=>{const i=mw(r);if(!i)return;const s=e._component;!be(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function hw(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>cb(e)||fb(e),writable:!1})}function dw(t){{const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){U("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=t.config.compilerOptions,r='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(t.config,"compilerOptions",{get(){return U(r),n},set(){U(r)}})}}function mw(t){if(rt(t)){const e=document.querySelector(t);return process.env.NODE_ENV!=="production"&&!e&&U(`Failed to mount app: mount target selector "${t}" returned null.`),e}return process.env.NODE_ENV!=="production"&&window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&U('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}function pw(){$E()}process.env.NODE_ENV!=="production"&&pw();/*! @license DOMPurify 2.4.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.5/LICENSE */function li(t){return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},li(t)}function Hc(t,e){return Hc=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Hc(t,e)}function gw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gl(t,e,n){return gw()?gl=Reflect.construct:gl=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&Hc(u,a.prototype),u},gl.apply(null,arguments)}function Gn(t){return yw(t)||vw(t)||_w(t)||bw()}function yw(t){if(Array.isArray(t))return zc(t)}function vw(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _w(t,e){if(!!t){if(typeof t=="string")return zc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zc(t,e)}}function zc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ew=Object.hasOwnProperty,rp=Object.setPrototypeOf,ww=Object.isFrozen,Sw=Object.getPrototypeOf,xw=Object.getOwnPropertyDescriptor,Yt=Object.freeze,Un=Object.seal,Mw=Object.create,ip=typeof Reflect<"u"&&Reflect,yl=ip.apply,Yc=ip.construct;yl||(yl=function(e,n,r){return e.apply(n,r)}),Yt||(Yt=function(e){return e}),Un||(Un=function(e){return e}),Yc||(Yc=function(e,n){return gl(e,Gn(n))});var Ow=Tn(Array.prototype.forEach),sp=Tn(Array.prototype.pop),Ta=Tn(Array.prototype.push),vl=Tn(String.prototype.toLowerCase),Xc=Tn(String.prototype.toString),Tw=Tn(String.prototype.match),Bn=Tn(String.prototype.replace),Nw=Tn(String.prototype.indexOf),Cw=Tn(String.prototype.trim),Xt=Tn(RegExp.prototype.test),Kc=Lw(TypeError);function Tn(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return yl(t,e,r)}}function Lw(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Yc(t,n)}}function Ne(t,e,n){n=n||vl,rp&&rp(t,null);for(var r=e.length;r--;){var i=e[r];if(typeof i=="string"){var s=n(i);s!==i&&(ww(e)||(e[r]=s),i=s)}t[i]=!0}return t}function Xi(t){var e=Mw(null),n;for(n in t)yl(Ew,t,[n])===!0&&(e[n]=t[n]);return e}function _l(t,e){for(;t!==null;){var n=xw(t,e);if(n){if(n.get)return Tn(n.get);if(typeof n.value=="function")return Tn(n.value)}t=Sw(t)}function r(i){return console.warn("fallback value for",i),null}return r}var ap=Yt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Zc=Yt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Jc=Yt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Pw=Yt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qc=Yt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Aw=Yt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),op=Yt(["#text"]),lp=Yt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ef=Yt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),up=Yt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),bl=Yt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kw=Un(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Dw=Un(/<%[\w\W]*|[\w\W]*%>/gm),Iw=Un(/\${[\w\W]*}/gm),Rw=Un(/^data-[\-\w.\u00B7-\uFFFF]/),$w=Un(/^aria-[\-\w]+$/),Fw=Un(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Vw=Un(/^(?:\w+script|data):/i),jw=Un(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Gw=Un(/^html$/i),Uw=function(){return typeof window>"u"?null:window},Bw=function(e,n){if(li(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML:function(o){return o},createScriptURL:function(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function cp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Uw(),e=function(M){return cp(M)};if(e.version="2.4.5",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,o=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,f=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,c=t.HTMLFormElement,h=t.DOMParser,d=t.trustedTypes,m=o.prototype,p=_l(m,"cloneNode"),g=_l(m,"nextSibling"),v=_l(m,"childNodes"),y=_l(m,"parentNode");if(typeof s=="function"){var E=r.createElement("template");E.content&&E.content.ownerDocument&&(r=E.content.ownerDocument)}var w=Bw(d,n),x=w?w.createHTML(""):"",P=r,k=P.implementation,C=P.createNodeIterator,T=P.createDocumentFragment,N=P.getElementsByTagName,B=n.importNode,R={};try{R=Xi(r).documentMode?r.documentMode:{}}catch{}var ie={};e.isSupported=typeof y=="function"&&k&&typeof k.createHTMLDocument<"u"&&R!==9;var O=kw,j=Dw,Z=Iw,Q=Rw,oe=$w,Ee=Vw,ln=jw,at=Fw,Ie=null,wn=Ne({},[].concat(Gn(ap),Gn(Zc),Gn(Jc),Gn(Qc),Gn(op))),Je=null,ps=Ne({},[].concat(Gn(lp),Gn(ef),Gn(up),Gn(bl))),Xe=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Et=null,Rn=null,Ci=!0,un=!0,Sn=!1,Mr=!0,_=!1,S=!1,D=!1,V=!1,I=!1,H=!1,K=!1,W=!0,Y=!1,G="user-content-",le=!0,se=!1,ce={},pe=null,Ce=Ne({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ze=null,Ge=Ne({},["audio","video","img","source","image","track"]),ot=null,cn=Ne({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nr="http://www.w3.org/1998/Math/MathML",gs="http://www.w3.org/2000/svg",tn="http://www.w3.org/1999/xhtml",Wr=tn,xt=!1,fn=null,Ku=Ne({},[nr,gs,tn],Xc),ys,U3=["application/xhtml+xml","text/html"],B3="text/html",Nt,sa=null,q3=r.createElement("form"),h_=function(M){return M instanceof RegExp||M instanceof Function},Uh=function(M){sa&&sa===M||((!M||li(M)!=="object")&&(M={}),M=Xi(M),ys=U3.indexOf(M.PARSER_MEDIA_TYPE)===-1?ys=B3:ys=M.PARSER_MEDIA_TYPE,Nt=ys==="application/xhtml+xml"?Xc:vl,Ie="ALLOWED_TAGS"in M?Ne({},M.ALLOWED_TAGS,Nt):wn,Je="ALLOWED_ATTR"in M?Ne({},M.ALLOWED_ATTR,Nt):ps,fn="ALLOWED_NAMESPACES"in M?Ne({},M.ALLOWED_NAMESPACES,Xc):Ku,ot="ADD_URI_SAFE_ATTR"in M?Ne(Xi(cn),M.ADD_URI_SAFE_ATTR,Nt):cn,ze="ADD_DATA_URI_TAGS"in M?Ne(Xi(Ge),M.ADD_DATA_URI_TAGS,Nt):Ge,pe="FORBID_CONTENTS"in M?Ne({},M.FORBID_CONTENTS,Nt):Ce,Et="FORBID_TAGS"in M?Ne({},M.FORBID_TAGS,Nt):{},Rn="FORBID_ATTR"in M?Ne({},M.FORBID_ATTR,Nt):{},ce="USE_PROFILES"in M?M.USE_PROFILES:!1,Ci=M.ALLOW_ARIA_ATTR!==!1,un=M.ALLOW_DATA_ATTR!==!1,Sn=M.ALLOW_UNKNOWN_PROTOCOLS||!1,Mr=M.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_=M.SAFE_FOR_TEMPLATES||!1,S=M.WHOLE_DOCUMENT||!1,I=M.RETURN_DOM||!1,H=M.RETURN_DOM_FRAGMENT||!1,K=M.RETURN_TRUSTED_TYPE||!1,V=M.FORCE_BODY||!1,W=M.SANITIZE_DOM!==!1,Y=M.SANITIZE_NAMED_PROPS||!1,le=M.KEEP_CONTENT!==!1,se=M.IN_PLACE||!1,at=M.ALLOWED_URI_REGEXP||at,Wr=M.NAMESPACE||tn,Xe=M.CUSTOM_ELEMENT_HANDLING||{},M.CUSTOM_ELEMENT_HANDLING&&h_(M.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Xe.tagNameCheck=M.CUSTOM_ELEMENT_HANDLING.tagNameCheck),M.CUSTOM_ELEMENT_HANDLING&&h_(M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Xe.attributeNameCheck=M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),M.CUSTOM_ELEMENT_HANDLING&&typeof M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Xe.allowCustomizedBuiltInElements=M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_&&(un=!1),H&&(I=!0),ce&&(Ie=Ne({},Gn(op)),Je=[],ce.html===!0&&(Ne(Ie,ap),Ne(Je,lp)),ce.svg===!0&&(Ne(Ie,Zc),Ne(Je,ef),Ne(Je,bl)),ce.svgFilters===!0&&(Ne(Ie,Jc),Ne(Je,ef),Ne(Je,bl)),ce.mathMl===!0&&(Ne(Ie,Qc),Ne(Je,up),Ne(Je,bl))),M.ADD_TAGS&&(Ie===wn&&(Ie=Xi(Ie)),Ne(Ie,M.ADD_TAGS,Nt)),M.ADD_ATTR&&(Je===ps&&(Je=Xi(Je)),Ne(Je,M.ADD_ATTR,Nt)),M.ADD_URI_SAFE_ATTR&&Ne(ot,M.ADD_URI_SAFE_ATTR,Nt),M.FORBID_CONTENTS&&(pe===Ce&&(pe=Xi(pe)),Ne(pe,M.FORBID_CONTENTS,Nt)),le&&(Ie["#text"]=!0),S&&Ne(Ie,["html","head","body"]),Ie.table&&(Ne(Ie,["tbody"]),delete Et.tbody),Yt&&Yt(M),sa=M)},d_=Ne({},["mi","mo","mn","ms","mtext"]),m_=Ne({},["foreignobject","desc","title","annotation-xml"]),W3=Ne({},["title","style","font","a","script"]),Zu=Ne({},Zc);Ne(Zu,Jc),Ne(Zu,Pw);var Bh=Ne({},Qc);Ne(Bh,Aw);var H3=function(M){var z=y(M);(!z||!z.tagName)&&(z={namespaceURI:Wr,tagName:"template"});var re=vl(M.tagName),Ue=vl(z.tagName);return fn[M.namespaceURI]?M.namespaceURI===gs?z.namespaceURI===tn?re==="svg":z.namespaceURI===nr?re==="svg"&&(Ue==="annotation-xml"||d_[Ue]):Boolean(Zu[re]):M.namespaceURI===nr?z.namespaceURI===tn?re==="math":z.namespaceURI===gs?re==="math"&&m_[Ue]:Boolean(Bh[re]):M.namespaceURI===tn?z.namespaceURI===gs&&!m_[Ue]||z.namespaceURI===nr&&!d_[Ue]?!1:!Bh[re]&&(W3[re]||!Zu[re]):!!(ys==="application/xhtml+xml"&&fn[M.namespaceURI]):!1},Hr=function(M){Ta(e.removed,{element:M});try{M.parentNode.removeChild(M)}catch{try{M.outerHTML=x}catch{M.remove()}}},qh=function(M,z){try{Ta(e.removed,{attribute:z.getAttributeNode(M),from:z})}catch{Ta(e.removed,{attribute:null,from:z})}if(z.removeAttribute(M),M==="is"&&!Je[M])if(I||H)try{Hr(z)}catch{}else try{z.setAttribute(M,"")}catch{}},p_=function(M){var z,re;if(V)M="<remove></remove>"+M;else{var Ue=Tw(M,/^[\r\n\t ]+/);re=Ue&&Ue[0]}ys==="application/xhtml+xml"&&Wr===tn&&(M='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+M+"</body></html>");var hn=w?w.createHTML(M):M;if(Wr===tn)try{z=new h().parseFromString(hn,ys)}catch{}if(!z||!z.documentElement){z=k.createDocument(Wr,"template",null);try{z.documentElement.innerHTML=xt?x:hn}catch{}}var qt=z.body||z.documentElement;return M&&re&&qt.insertBefore(r.createTextNode(re),qt.childNodes[0]||null),Wr===tn?N.call(z,S?"html":"body")[0]:S?z.documentElement:qt},g_=function(M){return C.call(M.ownerDocument||M,M,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},z3=function(M){return M instanceof c&&(typeof M.nodeName!="string"||typeof M.textContent!="string"||typeof M.removeChild!="function"||!(M.attributes instanceof f)||typeof M.removeAttribute!="function"||typeof M.setAttribute!="function"||typeof M.namespaceURI!="string"||typeof M.insertBefore!="function"||typeof M.hasChildNodes!="function")},Oo=function(M){return li(a)==="object"?M instanceof a:M&&li(M)==="object"&&typeof M.nodeType=="number"&&typeof M.nodeName=="string"},zr=function(M,z,re){!ie[M]||Ow(ie[M],function(Ue){Ue.call(e,z,re,sa)})},y_=function(M){var z;if(zr("beforeSanitizeElements",M,null),z3(M)||Xt(/[\u0080-\uFFFF]/,M.nodeName))return Hr(M),!0;var re=Nt(M.nodeName);if(zr("uponSanitizeElement",M,{tagName:re,allowedTags:Ie}),M.hasChildNodes()&&!Oo(M.firstElementChild)&&(!Oo(M.content)||!Oo(M.content.firstElementChild))&&Xt(/<[/\w]/g,M.innerHTML)&&Xt(/<[/\w]/g,M.textContent)||re==="select"&&Xt(/<template/i,M.innerHTML))return Hr(M),!0;if(!Ie[re]||Et[re]){if(!Et[re]&&__(re)&&(Xe.tagNameCheck instanceof RegExp&&Xt(Xe.tagNameCheck,re)||Xe.tagNameCheck instanceof Function&&Xe.tagNameCheck(re)))return!1;if(le&&!pe[re]){var Ue=y(M)||M.parentNode,hn=v(M)||M.childNodes;if(hn&&Ue)for(var qt=hn.length,It=qt-1;It>=0;--It)Ue.insertBefore(p(hn[It],!0),g(M))}return Hr(M),!0}return M instanceof o&&!H3(M)||(re==="noscript"||re==="noembed")&&Xt(/<\/no(script|embed)/i,M.innerHTML)?(Hr(M),!0):(_&&M.nodeType===3&&(z=M.textContent,z=Bn(z,O," "),z=Bn(z,j," "),z=Bn(z,Z," "),M.textContent!==z&&(Ta(e.removed,{element:M.cloneNode()}),M.textContent=z)),zr("afterSanitizeElements",M,null),!1)},v_=function(M,z,re){if(W&&(z==="id"||z==="name")&&(re in r||re in q3))return!1;if(!(un&&!Rn[z]&&Xt(Q,z))){if(!(Ci&&Xt(oe,z))){if(!Je[z]||Rn[z]){if(!(__(M)&&(Xe.tagNameCheck instanceof RegExp&&Xt(Xe.tagNameCheck,M)||Xe.tagNameCheck instanceof Function&&Xe.tagNameCheck(M))&&(Xe.attributeNameCheck instanceof RegExp&&Xt(Xe.attributeNameCheck,z)||Xe.attributeNameCheck instanceof Function&&Xe.attributeNameCheck(z))||z==="is"&&Xe.allowCustomizedBuiltInElements&&(Xe.tagNameCheck instanceof RegExp&&Xt(Xe.tagNameCheck,re)||Xe.tagNameCheck instanceof Function&&Xe.tagNameCheck(re))))return!1}else if(!ot[z]){if(!Xt(at,Bn(re,ln,""))){if(!((z==="src"||z==="xlink:href"||z==="href")&&M!=="script"&&Nw(re,"data:")===0&&ze[M])){if(!(Sn&&!Xt(Ee,Bn(re,ln,"")))){if(re)return!1}}}}}}return!0},__=function(M){return M.indexOf("-")>0},b_=function(M){var z,re,Ue,hn;zr("beforeSanitizeAttributes",M,null);var qt=M.attributes;if(!!qt){var It={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Je};for(hn=qt.length;hn--;){z=qt[hn];var Ju=z,Ct=Ju.name,Wh=Ju.namespaceURI;if(re=Ct==="value"?z.value:Cw(z.value),Ue=Nt(Ct),It.attrName=Ue,It.attrValue=re,It.keepAttr=!0,It.forceKeepAttr=void 0,zr("uponSanitizeAttribute",M,It),re=It.attrValue,!It.forceKeepAttr&&(qh(Ct,M),!!It.keepAttr)){if(!Mr&&Xt(/\/>/i,re)){qh(Ct,M);continue}_&&(re=Bn(re,O," "),re=Bn(re,j," "),re=Bn(re,Z," "));var E_=Nt(M.nodeName);if(!!v_(E_,Ue,re)){if(Y&&(Ue==="id"||Ue==="name")&&(qh(Ct,M),re=G+re),w&&li(d)==="object"&&typeof d.getAttributeType=="function"&&!Wh)switch(d.getAttributeType(E_,Ue)){case"TrustedHTML":re=w.createHTML(re);break;case"TrustedScriptURL":re=w.createScriptURL(re);break}try{Wh?M.setAttributeNS(Wh,Ct,re):M.setAttribute(Ct,re),sp(e.removed)}catch{}}}}zr("afterSanitizeAttributes",M,null)}},Y3=function fe(M){var z,re=g_(M);for(zr("beforeSanitizeShadowDOM",M,null);z=re.nextNode();)zr("uponSanitizeShadowNode",z,null),!y_(z)&&(z.content instanceof i&&fe(z.content),b_(z));zr("afterSanitizeShadowDOM",M,null)};return e.sanitize=function(fe){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z,re,Ue,hn,qt;if(xt=!fe,xt&&(fe="<!-->"),typeof fe!="string"&&!Oo(fe)){if(typeof fe.toString!="function")throw Kc("toString is not a function");if(fe=fe.toString(),typeof fe!="string")throw Kc("dirty is not a string, aborting")}if(!e.isSupported){if(li(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof fe=="string")return t.toStaticHTML(fe);if(Oo(fe))return t.toStaticHTML(fe.outerHTML)}return fe}if(D||Uh(M),e.removed=[],typeof fe=="string"&&(se=!1),se){if(fe.nodeName){var It=Nt(fe.nodeName);if(!Ie[It]||Et[It])throw Kc("root node is forbidden and cannot be sanitized in-place")}}else if(fe instanceof a)z=p_("<!---->"),re=z.ownerDocument.importNode(fe,!0),re.nodeType===1&&re.nodeName==="BODY"||re.nodeName==="HTML"?z=re:z.appendChild(re);else{if(!I&&!_&&!S&&fe.indexOf("<")===-1)return w&&K?w.createHTML(fe):fe;if(z=p_(fe),!z)return I?null:K?x:""}z&&V&&Hr(z.firstChild);for(var Ju=g_(se?fe:z);Ue=Ju.nextNode();)Ue.nodeType===3&&Ue===hn||y_(Ue)||(Ue.content instanceof i&&Y3(Ue.content),b_(Ue),hn=Ue);if(hn=null,se)return fe;if(I){if(H)for(qt=T.call(z.ownerDocument);z.firstChild;)qt.appendChild(z.firstChild);else qt=z;return(Je.shadowroot||Je.shadowrootmod)&&(qt=B.call(n,qt,!0)),qt}var Ct=S?z.outerHTML:z.innerHTML;return S&&Ie["!doctype"]&&z.ownerDocument&&z.ownerDocument.doctype&&z.ownerDocument.doctype.name&&Xt(Gw,z.ownerDocument.doctype.name)&&(Ct="<!DOCTYPE "+z.ownerDocument.doctype.name+`>
`+Ct),_&&(Ct=Bn(Ct,O," "),Ct=Bn(Ct,j," "),Ct=Bn(Ct,Z," ")),w&&K?w.createHTML(Ct):Ct},e.setConfig=function(fe){Uh(fe),D=!0},e.clearConfig=function(){sa=null,D=!1},e.isValidAttribute=function(fe,M,z){sa||Uh({});var re=Nt(fe),Ue=Nt(M);return v_(re,Ue,z)},e.addHook=function(fe,M){typeof M=="function"&&(ie[fe]=ie[fe]||[],Ta(ie[fe],M))},e.removeHook=function(fe){if(ie[fe])return sp(ie[fe])},e.removeHooks=function(fe){ie[fe]&&(ie[fe]=[])},e.removeAllHooks=function(){ie={}},e}var qw=cp(),fp=!1;function El(t,e,n){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,n),n):(t[e]=n,n)}function tf(t,e){if(Array.isArray(t)){t.splice(e,1);return}delete t[e]}function Ww(t,e){var i;const n=(i=t.hooks)!=null?i:{};let r;for(r in n){const s=n[r];s!==void 0&&e.addHook(r,s)}}function hp(){return qw()}function Hw(t={},e=hp){const n=e();Ww(t,n);const r=function(i,s){var c,h;const a=s.value;if(s.oldValue===a)return;const o=`${a}`,l=s.arg,u=t.namedConfigurations,f=(c=t.default)!=null?c:{};if(u&&l!==void 0){i.innerHTML=n.sanitize(o,(h=u[l])!=null?h:f);return}i.innerHTML=n.sanitize(o,f)};return{mounted:r,updated:r}}const dp={install(t,e={},n=hp){t.directive("dompurify-html",Hw(e,n))}};function zw(){return mp().__VUE_DEVTOOLS_GLOBAL_HOOK__}function mp(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Yw=typeof Proxy=="function",Xw="devtools-plugin:setup",Kw="plugin:settings:set";let Ts,nf;function Zw(){var t;return Ts!==void 0||(typeof window<"u"&&window.performance?(Ts=!0,nf=window.performance):typeof global<"u"&&((t=global.perf_hooks)===null||t===void 0?void 0:t.performance)?(Ts=!0,nf=global.perf_hooks.performance):Ts=!1),Ts}function Jw(){return Zw()?nf.now():Date.now()}class Qw{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const o=e.settings[a];r[a]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return Jw()}},n&&n.on(Kw,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:o,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function pp(t,e){const n=t,r=mp(),i=zw(),s=Yw&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(Xw,t,e);else{const a=s?new Qw(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Na;const Ca=t=>Na=t,gp=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function Ki(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var cr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(cr||(cr={}));const wl=typeof window<"u",La=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&wl,yp=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function eS(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function rf(t,e,n){const r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){bp(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function vp(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Sl(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const xl=typeof navigator=="object"?navigator:{userAgent:""},_p=(()=>/Macintosh/.test(xl.userAgent)&&/AppleWebKit/.test(xl.userAgent)&&!/Safari/.test(xl.userAgent))(),bp=wl?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!_p?tS:"msSaveOrOpenBlob"in xl?nS:rS:()=>{};function tS(t,e="download",n){const r=document.createElement("a");r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?vp(r.href)?rf(t,e,n):(r.target="_blank",Sl(r)):Sl(r)):(r.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Sl(r)},0))}function nS(t,e="download",n){if(typeof t=="string")if(vp(t))rf(t,e,n);else{const r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Sl(r)})}else navigator.msSaveOrOpenBlob(eS(t,n),e)}function rS(t,e,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return rf(t,e,n);const i=t.type==="application/octet-stream",s=/constructor/i.test(String(yp.HTMLElement))||"safari"in yp,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s||_p)&&typeof FileReader<"u"){const o=new FileReader;o.onloadend=function(){let l=o.result;if(typeof l!="string")throw r=null,new Error("Wrong reader.result type");l=a?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=l:location.assign(l),r=null},o.readAsDataURL(t)}else{const o=URL.createObjectURL(t);r?r.location.assign(o):location.href=o,r=null,setTimeout(function(){URL.revokeObjectURL(o)},4e4)}}function Ot(t,e){const n="\u{1F34D} "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,e):e==="error"?console.error(n):e==="warn"?console.warn(n):console.log(n)}function sf(t){return"_a"in t&&"install"in t}function Ep(){if(!("clipboard"in navigator))return Ot("Your browser doesn't support the Clipboard API","error"),!0}function wp(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(Ot('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function iS(t){if(!Ep())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),Ot("Global state copied to clipboard.")}catch(e){if(wp(e))return;Ot("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function sS(t){if(!Ep())try{t.state.value=JSON.parse(await navigator.clipboard.readText()),Ot("Global state pasted from clipboard.")}catch(e){if(wp(e))return;Ot("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function aS(t){try{bp(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){Ot("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let Pr;function oS(){Pr||(Pr=document.createElement("input"),Pr.type="file",Pr.accept=".json");function t(){return new Promise((e,n)=>{Pr.onchange=async()=>{const r=Pr.files;if(!r)return e(null);const i=r.item(0);return e(i?{text:await i.text(),file:i}:null)},Pr.oncancel=()=>e(null),Pr.onerror=n,Pr.click()})}return t}async function lS(t){try{const n=await(await oS())();if(!n)return;const{text:r,file:i}=n;t.state.value=JSON.parse(r),Ot(`Global state imported from "${i.name}".`)}catch(e){Ot("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}function qn(t){return{_custom:{display:t}}}const Sp="\u{1F34D} Pinia (root)",af="_root";function uS(t){return sf(t)?{id:af,label:Sp}:{id:t.$id,label:t.$id}}function cS(t){if(sf(t)){const n=Array.from(t._s.keys()),r=t._s;return{state:n.map(s=>({editable:!0,key:s,value:t.state.value[s]})),getters:n.filter(s=>r.get(s)._getters).map(s=>{const a=r.get(s);return{editable:!1,key:s,value:a._getters.reduce((o,l)=>(o[l]=a[l],o),{})}})}}const e={state:Object.keys(t.$state).map(n=>({editable:!0,key:n,value:t.$state[n]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(n=>({editable:!1,key:n,value:t[n]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(n=>({editable:!0,key:n,value:t[n]}))),e}function fS(t){return t?Array.isArray(t)?t.reduce((e,n)=>(e.keys.push(n.key),e.operations.push(n.type),e.oldValue[n.key]=n.oldValue,e.newValue[n.key]=n.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:qn(t.type),key:qn(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function hS(t){switch(t){case cr.direct:return"mutation";case cr.patchFunction:return"$patch";case cr.patchObject:return"$patch";default:return"unknown"}}let Ns=!0;const Ml=[],Zi="pinia:mutations",$t="pinia",{assign:dS}=Object,Ol=t=>"\u{1F34D} "+t;function mS(t,e){pp({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Ml,app:t},n=>{typeof n.now!="function"&&Ot("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:Zi,label:"Pinia \u{1F34D}",color:15064968}),n.addInspector({id:$t,label:"Pinia \u{1F34D}",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{iS(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await sS(e),n.sendInspectorTree($t),n.sendInspectorState($t)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{aS(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await lS(e),n.sendInspectorTree($t),n.sendInspectorState($t)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:r=>{const i=e._s.get(r);i?i._isOptionsAPI?(i.$reset(),Ot(`Store "${r}" reset.`)):Ot(`Cannot reset "${r}" store because it's a setup store.`,"warn"):Ot(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((r,i)=>{const s=r.componentInstance&&r.componentInstance.proxy;if(s&&s._pStores){const a=r.componentInstance.proxy._pStores;Object.values(a).forEach(o=>{r.instanceData.state.push({type:Ol(o.$id),key:"state",editable:!0,value:o._isOptionsAPI?{_custom:{value:ve(o.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>o.$reset()}]}}:Object.keys(o.$state).reduce((l,u)=>(l[u]=o.$state[u],l),{})}),o._getters&&o._getters.length&&r.instanceData.state.push({type:Ol(o.$id),key:"getters",editable:!1,value:o._getters.reduce((l,u)=>{try{l[u]=o[u]}catch(f){l[u]=f}return l},{})})})}}),n.on.getInspectorTree(r=>{if(r.app===t&&r.inspectorId===$t){let i=[e];i=i.concat(Array.from(e._s.values())),r.rootNodes=(r.filter?i.filter(s=>"$id"in s?s.$id.toLowerCase().includes(r.filter.toLowerCase()):Sp.toLowerCase().includes(r.filter.toLowerCase())):i).map(uS)}}),n.on.getInspectorState(r=>{if(r.app===t&&r.inspectorId===$t){const i=r.nodeId===af?e:e._s.get(r.nodeId);if(!i)return;i&&(r.state=cS(i))}}),n.on.editInspectorState((r,i)=>{if(r.app===t&&r.inspectorId===$t){const s=r.nodeId===af?e:e._s.get(r.nodeId);if(!s)return Ot(`store "${r.nodeId}" not found`,"error");const{path:a}=r;sf(s)?a.unshift("state"):(a.length!==1||!s._customProperties.has(a[0])||a[0]in s.$state)&&a.unshift("$state"),Ns=!1,r.set(s,a,r.state.value),Ns=!0}}),n.on.editComponentState(r=>{if(r.type.startsWith("\u{1F34D}")){const i=r.type.replace(/^\s*/,""),s=e._s.get(i);if(!s)return Ot(`store "${i}" not found`,"error");const{path:a}=r;if(a[0]!=="state")return Ot(`Invalid path for store "${i}":
${a}
Only state can be modified.`);a[0]="$state",Ns=!1,r.set(s,a,r.state.value),Ns=!0}})})}function pS(t,e){Ml.includes(Ol(e.$id))||Ml.push(Ol(e.$id)),pp({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Ml,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const r=typeof n.now=="function"?n.now.bind(n):Date.now;e.$onAction(({after:a,onError:o,name:l,args:u})=>{const f=xp++;n.addTimelineEvent({layerId:Zi,event:{time:r(),title:"\u{1F6EB} "+l,subtitle:"start",data:{store:qn(e.$id),action:qn(l),args:u},groupId:f}}),a(c=>{Ji=void 0,n.addTimelineEvent({layerId:Zi,event:{time:r(),title:"\u{1F6EC} "+l,subtitle:"end",data:{store:qn(e.$id),action:qn(l),args:u,result:c},groupId:f}})}),o(c=>{Ji=void 0,n.addTimelineEvent({layerId:Zi,event:{time:r(),logType:"error",title:"\u{1F4A5} "+l,subtitle:"end",data:{store:qn(e.$id),action:qn(l),args:u,error:c},groupId:f}})})},!0),e._customProperties.forEach(a=>{Qe(()=>b(e[a]),(o,l)=>{n.notifyComponentUpdate(),n.sendInspectorState($t),Ns&&n.addTimelineEvent({layerId:Zi,event:{time:r(),title:"Change",subtitle:a,data:{newValue:o,oldValue:l},groupId:Ji}})},{deep:!0})}),e.$subscribe(({events:a,type:o},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState($t),!Ns)return;const u={time:r(),title:hS(o),data:dS({store:qn(e.$id)},fS(a)),groupId:Ji};Ji=void 0,o===cr.patchFunction?u.subtitle="\u2935\uFE0F":o===cr.patchObject?u.subtitle="\u{1F9E9}":a&&!Array.isArray(a)&&(u.subtitle=a.type),a&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:a}}),n.addTimelineEvent({layerId:Zi,event:u})},{detached:!0,flush:"sync"});const i=e._hotUpdate;e._hotUpdate=Fn(a=>{i(a),n.addTimelineEvent({layerId:Zi,event:{time:r(),title:"\u{1F525} "+e.$id,subtitle:"HMR update",data:{store:qn(e.$id),info:qn("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree($t),n.sendInspectorState($t)});const{$dispose:s}=e;e.$dispose=()=>{s(),n.notifyComponentUpdate(),n.sendInspectorTree($t),n.sendInspectorState($t),n.getSettings().logStoreChanges&&Ot(`Disposed "${e.$id}" store \u{1F5D1}`)},n.notifyComponentUpdate(),n.sendInspectorTree($t),n.sendInspectorState($t),n.getSettings().logStoreChanges&&Ot(`"${e.$id}" store installed \u{1F195}`)})}let xp=0,Ji;function Mp(t,e){const n=e.reduce((r,i)=>(r[i]=ve(t)[i],r),{});for(const r in n)t[r]=function(){const i=xp,s=new Proxy(t,{get(...a){return Ji=i,Reflect.get(...a)},set(...a){return Ji=i,Reflect.set(...a)}});return n[r].apply(s,arguments)}}function gS({app:t,store:e,options:n}){if(!e.$id.startsWith("__hot:")){if(n.state&&(e._isOptionsAPI=!0),typeof n.state=="function"){Mp(e,Object.keys(n.actions));const r=e._hotUpdate;ve(e)._hotUpdate=function(i){r.apply(this,arguments),Mp(e,Object.keys(i._hmrPayload.actions))}}pS(t,e)}}function Op(){const t=od(!0),e=t.run(()=>Se({}));let n=[],r=[];const i=Fn({install(s){Ca(i),i._a=s,s.provide(gp,i),s.config.globalProperties.$pinia=i,La&&mS(s,i),r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!fp?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return La&&typeof Proxy<"u"&&i.use(gS),i}function Tp(t,e){for(const n in e){const r=e[n];if(!(n in t))continue;const i=t[n];Ki(i)&&Ki(r)&&!qe(r)&&!$n(r)?t[n]=Tp(i,r):t[n]=r}return t}const Np=()=>{};function Cp(t,e,n,r=Np){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&ld()&&bb(i),i}function Cs(t,...e){t.slice().forEach(n=>{n(...e)})}function of(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Ki(i)&&Ki(r)&&t.hasOwnProperty(n)&&!qe(r)&&!$n(r)?t[n]=of(i,r):t[n]=r}return t}const yS=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function vS(t){return!Ki(t)||!t.hasOwnProperty(yS)}const{assign:Nn}=Object;function Lp(t){return!!(qe(t)&&t.effect)}function Pp(t,e,n,r){const{state:i,actions:s,getters:a}=e,o=n.state.value[t];let l;function u(){!o&&(process.env.NODE_ENV==="production"||!r)&&(n.state.value[t]=i?i():{});const f=process.env.NODE_ENV!=="production"&&r?kd(Se(i?i():{}).value):kd(n.state.value[t]);return Nn(f,s,Object.keys(a||{}).reduce((c,h)=>(process.env.NODE_ENV!=="production"&&h in f&&console.warn(`[\u{1F34D}]: A getter cannot have the same name as another state property. Rename one of them. Found with "${h}" in store "${t}".`),c[h]=Fn(me(()=>{Ca(n);const d=n._s.get(t);return a[h].call(d,d)})),c),{}))}return l=lf(t,u,e,n,r,!0),l}function lf(t,e,n={},r,i,s){let a;const o=Nn({actions:{}},n);if(process.env.NODE_ENV!=="production"&&!r._e.active)throw new Error("Pinia destroyed");const l={deep:!0};process.env.NODE_ENV!=="production"&&!fp&&(l.onTrigger=T=>{u?d=T:u==!1&&!k._hotUpdating&&(Array.isArray(d)?d.push(T):console.error("\u{1F34D} debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let u,f,c=Fn([]),h=Fn([]),d;const m=r.state.value[t];!s&&!m&&(process.env.NODE_ENV==="production"||!i)&&(r.state.value[t]={});const p=Se({});let g;function v(T){let N;u=f=!1,process.env.NODE_ENV!=="production"&&(d=[]),typeof T=="function"?(T(r.state.value[t]),N={type:cr.patchFunction,storeId:t,events:d}):(of(r.state.value[t],T),N={type:cr.patchObject,payload:T,storeId:t,events:d});const B=g=Symbol();Zo().then(()=>{g===B&&(u=!0)}),f=!0,Cs(c,N,r.state.value[t])}const y=s?function(){const{state:N}=n,B=N?N():{};this.$patch(R=>{Nn(R,B)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`\u{1F34D}: Store "${t}" is built using the setup syntax and does not implement $reset().`)}:Np;function E(){a.stop(),c=[],h=[],r._s.delete(t)}function w(T,N){return function(){Ca(r);const B=Array.from(arguments),R=[],ie=[];function O(Q){R.push(Q)}function j(Q){ie.push(Q)}Cs(h,{args:B,name:T,store:k,after:O,onError:j});let Z;try{Z=N.apply(this&&this.$id===t?this:k,B)}catch(Q){throw Cs(ie,Q),Q}return Z instanceof Promise?Z.then(Q=>(Cs(R,Q),Q)).catch(Q=>(Cs(ie,Q),Promise.reject(Q))):(Cs(R,Z),Z)}}const x=Fn({actions:{},getters:{},state:[],hotState:p}),P={_p:r,$id:t,$onAction:Cp.bind(null,h),$patch:v,$reset:y,$subscribe(T,N={}){const B=Cp(c,T,N.detached,()=>R()),R=a.run(()=>Qe(()=>r.state.value[t],ie=>{(N.flush==="sync"?f:u)&&T({storeId:t,type:cr.direct,events:d},ie)},Nn({},l,N)));return B},$dispose:E},k=qo(process.env.NODE_ENV!=="production"||La?Nn({_hmrPayload:x,_customProperties:Fn(new Set)},P):P);r._s.set(t,k);const C=r._e.run(()=>(a=od(),a.run(()=>e())));for(const T in C){const N=C[T];if(qe(N)&&!Lp(N)||$n(N))process.env.NODE_ENV!=="production"&&i?El(p.value,T,ha(C,T)):s||(m&&vS(N)&&(qe(N)?N.value=m[T]:of(N,m[T])),r.state.value[t][T]=N),process.env.NODE_ENV!=="production"&&x.state.push(T);else if(typeof N=="function"){const B=process.env.NODE_ENV!=="production"&&i?N:w(T,N);C[T]=B,process.env.NODE_ENV!=="production"&&(x.actions[T]=N),o.actions[T]=N}else process.env.NODE_ENV!=="production"&&Lp(N)&&(x.getters[T]=s?n.getters[T]:N,wl&&(C._getters||(C._getters=Fn([]))).push(T))}if(Nn(k,C),Nn(ve(k),C),Object.defineProperty(k,"$state",{get:()=>process.env.NODE_ENV!=="production"&&i?p.value:r.state.value[t],set:T=>{if(process.env.NODE_ENV!=="production"&&i)throw new Error("cannot set hotState");v(N=>{Nn(N,T)})}}),process.env.NODE_ENV!=="production"&&(k._hotUpdate=Fn(T=>{k._hotUpdating=!0,T._hmrPayload.state.forEach(N=>{if(N in k.$state){const B=T.$state[N],R=k.$state[N];typeof B=="object"&&Ki(B)&&Ki(R)?Tp(B,R):T.$state[N]=R}El(k,N,ha(T.$state,N))}),Object.keys(k.$state).forEach(N=>{N in T.$state||tf(k,N)}),u=!1,f=!1,r.state.value[t]=ha(T._hmrPayload,"hotState"),f=!0,Zo().then(()=>{u=!0});for(const N in T._hmrPayload.actions){const B=T[N];El(k,N,w(N,B))}for(const N in T._hmrPayload.getters){const B=T._hmrPayload.getters[N],R=s?me(()=>(Ca(r),B.call(k,k))):B;El(k,N,R)}Object.keys(k._hmrPayload.getters).forEach(N=>{N in T._hmrPayload.getters||tf(k,N)}),Object.keys(k._hmrPayload.actions).forEach(N=>{N in T._hmrPayload.actions||tf(k,N)}),k._hmrPayload=T._hmrPayload,k._getters=T._getters,k._hotUpdating=!1})),La){const T={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(N=>{Object.defineProperty(k,N,Nn({value:k[N]},T))})}return r._p.forEach(T=>{if(La){const N=a.run(()=>T({store:k,app:r._a,pinia:r,options:o}));Object.keys(N||{}).forEach(B=>k._customProperties.add(B)),Nn(k,N)}else Nn(k,a.run(()=>T({store:k,app:r._a,pinia:r,options:o})))}),process.env.NODE_ENV!=="production"&&k.$state&&typeof k.$state=="object"&&typeof k.$state.constructor=="function"&&!k.$state.constructor.toString().includes("[native code]")&&console.warn(`[\u{1F34D}]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${k.$id}".`),m&&s&&n.hydrate&&n.hydrate(k.$state,m),u=!0,f=!0,k}function Qi(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function a(o,l){const u=hl();if(o=(process.env.NODE_ENV==="test"&&Na&&Na._testing?null:o)||u&&Ss(gp,null),o&&Ca(o),process.env.NODE_ENV!=="production"&&!Na)throw new Error(`[\u{1F34D}]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);o=Na,o._s.has(r)||(s?lf(r,e,i,o):Pp(r,i,o),process.env.NODE_ENV!=="production"&&(a._pinia=o));const f=o._s.get(r);if(process.env.NODE_ENV!=="production"&&l){const c="__hot:"+r,h=s?lf(c,e,i,o,!0):Pp(c,Nn({},i),o,!0);l._hotUpdate(h),delete o.state.value[c],o._s.delete(c)}if(process.env.NODE_ENV!=="production"&&wl&&u&&u.proxy&&!l){const c=u.proxy,h="_pStores"in c?c._pStores:c._pStores={};h[r]=f}return f}return a.$id=r,a}function Fe(t){{t=ve(t);const e={};for(const n in t){const r=t[n];(qe(r)||$n(r))&&(e[n]=ha(t,n))}return e}}function _S(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var es=1,ts=2,Ls=3,bS=4,uf=5,Ap=6378137,ES=6356752314e-3,kp=.0066943799901413165,Pa=484813681109536e-20,q=Math.PI/2,wS=.16666666666666666,SS=.04722222222222222,xS=.022156084656084655,te=1e-10,At=.017453292519943295,fr=57.29577951308232,We=Math.PI/4,Aa=Math.PI*2,pt=3.14159265359,sn={};sn.greenwich=0,sn.lisbon=-9.131906111111,sn.paris=2.337229166667,sn.bogota=-74.080916666667,sn.madrid=-3.687938888889,sn.rome=12.452333333333,sn.bern=7.439583333333,sn.jakarta=106.807719444444,sn.ferro=-17.666666666667,sn.brussels=4.367975,sn.stockholm=18.058277777778,sn.athens=23.7163375,sn.oslo=10.722916666667;const MS={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var Dp=/[\s_\-\/\(\)]/g;function ui(t,e){if(t[e])return t[e];for(var n=Object.keys(t),r=e.toLowerCase().replace(Dp,""),i=-1,s,a;++i<n.length;)if(s=n[i],a=s.toLowerCase().replace(Dp,""),a===r)return t[s]}function cf(t){var e={},n=t.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var u=l.split("=");return u.push(!0),o[u[0].toLowerCase()]=u[1],o},{}),r,i,s,a={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*At},lat_1:function(o){e.lat1=o*At},lat_2:function(o){e.lat2=o*At},lat_ts:function(o){e.lat_ts=o*At},lon_0:function(o){e.long0=o*At},lon_1:function(o){e.long1=o*At},lon_2:function(o){e.long2=o*At},alpha:function(o){e.alpha=parseFloat(o)*At},gamma:function(o){e.rectified_grid_angle=parseFloat(o)},lonc:function(o){e.longc=o*At},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var l=ui(MS,o);l&&(e.to_meter=l.to_meter)},from_greenwich:function(o){e.from_greenwich=o*At},pm:function(o){var l=ui(sn,o);e.from_greenwich=(l||parseFloat(o))*At},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0}};for(r in n)i=n[r],r in a?(s=a[r],typeof s=="function"?s(i):e[s]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var ka=1,Ip=2,Rp=3,Tl=4,$p=5,ff=-1,OS=/\s/,TS=/[A-Za-z]/,NS=/[A-Za-z84_]/,Nl=/[,\]]/,Fp=/[\d\.E\-\+]/;function Ar(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=ka}Ar.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==Tl)for(;OS.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case ka:return this.neutral(t);case Ip:return this.keyword(t);case Tl:return this.quoted(t);case $p:return this.afterquote(t);case Rp:return this.number(t);case ff:return}},Ar.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=Tl;return}if(Nl.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)},Ar.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=ka;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=ka,this.currentObject=this.stack.pop(),this.currentObject||(this.state=ff);return}},Ar.prototype.number=function(t){if(Fp.test(t)){this.word+=t;return}if(Nl.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)},Ar.prototype.quoted=function(t){if(t==='"'){this.state=$p;return}this.word+=t},Ar.prototype.keyword=function(t){if(NS.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=ka;return}if(Nl.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)},Ar.prototype.neutral=function(t){if(TS.test(t)){this.word=t,this.state=Ip;return}if(t==='"'){this.word="",this.state=Tl;return}if(Fp.test(t)){this.word=t,this.state=Rp;return}if(Nl.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)},Ar.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===ff)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function CS(t){var e=new Ar(t);return e.output()}function Vp(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(s,a){return Ps(a,s),s},r);e&&(t[e]=i)}function Ps(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},Ps(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Ps(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Ps(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],Vp(e,n,t);return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return Ps(t,e[n]);return Vp(e,n,t)}}var LS=.017453292519943295;function PS(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],e.length===3&&(t[n]=e[2](t[n])))}function kr(t){return t*LS}function AS(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function a(u){var f=t.to_meter||1;return u*f}var o=function(u){return PS(t,u)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",kr],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",kr],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",kr],["lat0","latitude_of_origin",kr],["lat0","standard_parallel_1",kr],["lat1","standard_parallel_1",kr],["lat2","standard_parallel_2",kr],["azimuth","Azimuth"],["alpha","azimuth",kr],["srsCode","name"]];l.forEach(o),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")&&(t.lat0=kr(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function jp(t){var e=CS(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return Ps(e,i),AS(i),i}function Kt(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Kt[t]=cf(arguments[1]):Kt[t]=jp(arguments[1]):Kt[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){Array.isArray(r)?Kt.apply(e,r):Kt(r)});if(typeof t=="string"){if(t in Kt)return Kt[t]}else"EPSG"in t?Kt["EPSG:"+t.EPSG]=t:"ESRI"in t?Kt["ESRI:"+t.ESRI]=t:"IAU2000"in t?Kt["IAU2000:"+t.IAU2000]=t:console.log(t);return}}_S(Kt);function kS(t){return typeof t=="string"}function DS(t){return t in Kt}var IS=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function RS(t){return IS.some(function(e){return t.indexOf(e)>-1})}var $S=["3857","900913","3785","102113"];function FS(t){var e=ui(t,"authority");if(!!e){var n=ui(e,"epsg");return n&&$S.indexOf(n)>-1}}function VS(t){var e=ui(t,"extension");if(!!e)return ui(e,"proj4")}function jS(t){return t[0]==="+"}function GS(t){if(kS(t)){if(DS(t))return Kt[t];if(RS(t)){var e=jp(t);if(FS(e))return Kt["EPSG:3857"];var n=VS(e);return n?cf(n):e}if(jS(t))return cf(t)}else return t}function Gp(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)n=e[r],n!==void 0&&(t[r]=n);return t}function hr(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function Da(t){return t<0?-1:1}function ae(t){return Math.abs(t)<=pt?t:t-Da(t)*Aa}function Wn(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(q-e))/r}function Ia(t,e){for(var n=.5*t,r,i,s=q-2*Math.atan(e),a=0;a<=15;a++)if(r=t*Math.sin(s),i=q-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function US(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=hr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function BS(t){var e=t.x,n=t.y;if(n*fr>90&&n*fr<-90&&e*fr>180&&e*fr<-180)return null;var r,i;if(Math.abs(Math.abs(n)-q)<=te)return null;if(this.sphere)r=this.x0+this.a*this.k0*ae(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(We+.5*n));else{var s=Math.sin(n),a=Wn(this.e,n,s);r=this.x0+this.a*this.k0*ae(e-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return t.x=r,t.y=i,t}function qS(t){var e=t.x-this.x0,n=t.y-this.y0,r,i;if(this.sphere)i=q-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(i=Ia(this.e,s),i===-9999)return null}return r=ae(this.long0+e/(this.a*this.k0)),t.x=r,t.y=i,t}var WS=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const HS={init:US,forward:BS,inverse:qS,names:WS};function zS(){}function Up(t){return t}var YS=["longlat","identity"],XS=[HS,{init:zS,forward:Up,inverse:Up,names:YS}],Cl={},Ll=[];function Bp(t,e){var n=Ll.length;return t.names?(Ll[n]=t,t.names.forEach(function(r){Cl[r.toLowerCase()]=n}),this):(console.log(e),!0)}function KS(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Cl[e]<"u"&&Ll[Cl[e]])return Ll[Cl[e]]}function ZS(){XS.forEach(Bp)}const JS={start:ZS,add:Bp,get:KS};var we={};we.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},we.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},we.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},we.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},we.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},we.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},we.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},we.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},we.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},we.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},we.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},we.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},we.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},we.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},we.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},we.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},we.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},we.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},we.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},we.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},we.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},we.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},we.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},we.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},we.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},we.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},we.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},we.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},we.hough={a:6378270,rf:297,ellipseName:"Hough"},we.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},we.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},we.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},we.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},we.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},we.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},we.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},we.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},we.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},we.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},we.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},we.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var QS=we.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};we.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function ex(t,e,n,r){var i=t*t,s=e*e,a=(i-s)/i,o=0;r?(t*=1-a*(wS+a*(SS+a*xS)),i=t*t,a=0):o=Math.sqrt(a);var l=(i-s)/s;return{es:a,e:o,ep2:l}}function tx(t,e,n,r,i){if(!t){var s=ui(we,r);s||(s=QS),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<te)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}var Tt={};Tt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Tt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Tt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Tt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Tt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Tt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Tt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Tt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Tt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Tt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Tt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Tt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Tt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Tt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Tt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Tt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Tt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function nx(t,e,n,r,i,s,a){var o={};return t===void 0||t==="none"?o.datum_type=uf:o.datum_type=bS,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=es),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=ts,o.datum_params[3]*=Pa,o.datum_params[4]*=Pa,o.datum_params[5]*=Pa,o.datum_params[6]=o.datum_params[6]/1e6+1)),a&&(o.datum_type=Ls,o.grids=a),o.a=n,o.b=r,o.es=i,o.ep2=s,o}var qp={};function rx(t,e){var n=new DataView(e),r=ax(n),i=ox(n,r);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var s=lx(n,i,r),a={header:i,subgrids:s};return qp[t]=a,a}function ix(t){if(t===void 0)return null;var e=t.split(",");return e.map(sx)}function sx(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:qp[t]||null,isNull:!1}}function As(t){return t/3600*Math.PI/180}function ax(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function ox(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:hf(t,56,56+8).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function hf(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function lx(t,e,n){for(var r=176,i=[],s=0;s<e.nSubgrids;s++){var a=cx(t,r,n),o=fx(t,r,a,n),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);i.push({ll:[As(a.lowerLongitude),As(a.lowerLatitude)],del:[As(a.longitudeInterval),As(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:ux(o)})}return i}function ux(t){return t.map(function(e){return[As(e.longitudeShift),As(e.latitudeShift)]})}function cx(t,e,n){return{name:hf(t,e+8,e+16).trim(),parent:hf(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function fx(t,e,n,r){for(var i=e+176,s=16,a=[],o=0;o<n.gridNodeCount;o++){var l={latitudeShift:t.getFloat32(i+o*s,r),longitudeShift:t.getFloat32(i+o*s+4,r),latitudeAccuracy:t.getFloat32(i+o*s+8,r),longitudeAccuracy:t.getFloat32(i+o*s+12,r)};a.push(l)}return a}function dr(t,e){if(!(this instanceof dr))return new dr(t);e=e||function(u){if(u)throw u};var n=GS(t);if(typeof n!="object"){e(t);return}var r=dr.projections.get(n.projName);if(!r){e(t);return}if(n.datumCode&&n.datumCode!=="none"){var i=ui(Tt,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=tx(n.a,n.b,n.rf,n.ellps,n.sphere),a=ex(s.a,s.b,s.rf,n.R_A),o=ix(n.nadgrids),l=n.datum||nx(n.datumCode,n.datum_params,s.a,s.b,a.es,a.ep2,o);Gp(this,n),Gp(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),e(null,this)}dr.projections=JS,dr.projections.start();function hx(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===es?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===ts?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function Wp(t,e,n){var r=t.x,i=t.y,s=t.z?t.z:0,a,o,l,u;if(i<-q&&i>-1.001*q)i=-q;else if(i>q&&i<1.001*q)i=q;else{if(i<-q)return{x:-1/0,y:-1/0,z:t.z};if(i>q)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),o=Math.sin(i),u=Math.cos(i),l=o*o,a=n/Math.sqrt(1-e*l),{x:(a+s)*u*Math.cos(r),y:(a+s)*u*Math.sin(r),z:(a*(1-e)+s)*o}}function Hp(t,e,n,r){var i=1e-12,s=i*i,a=30,o,l,u,f,c,h,d,m,p,g,v,y,E,w=t.x,x=t.y,P=t.z?t.z:0,k,C,T;if(o=Math.sqrt(w*w+x*x),l=Math.sqrt(w*w+x*x+P*P),o/n<i){if(k=0,l/n<i)return C=q,T=-r,{x:t.x,y:t.y,z:t.z}}else k=Math.atan2(x,w);u=P/l,f=o/l,c=1/Math.sqrt(1-e*(2-e)*f*f),m=f*(1-e)*c,p=u*c,E=0;do E++,d=n/Math.sqrt(1-e*p*p),T=o*m+P*p-d*(1-e*p*p),h=e*d/(d+T),c=1/Math.sqrt(1-h*(2-h)*f*f),g=f*(1-h)*c,v=u*c,y=v*m-g*p,m=g,p=v;while(y*y>s&&E<a);return C=Math.atan(v/Math.abs(g)),{x:k,y:C,z:T}}function dx(t,e,n){if(e===es)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===ts){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+o*t.z)+r,y:u*(l*t.x+t.y-a*t.z)+i,z:u*(-o*t.x+a*t.y+t.z)+s}}}function mx(t,e,n){if(e===es)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===ts){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6],f=(t.x-r)/u,c=(t.y-i)/u,h=(t.z-s)/u;return{x:f+l*c-o*h,y:-l*f+c+a*h,z:o*f-a*c+h}}}function Pl(t){return t===es||t===ts}function px(t,e,n){if(hx(t,e)||t.datum_type===uf||e.datum_type===uf)return n;var r=t.a,i=t.es;if(t.datum_type===Ls){var s=zp(t,!1,n);if(s!==0)return;r=Ap,i=kp}var a=e.a,o=e.b,l=e.es;if(e.datum_type===Ls&&(a=Ap,o=ES,l=kp),i===l&&r===a&&!Pl(t.datum_type)&&!Pl(e.datum_type))return n;if(n=Wp(n,i,r),Pl(t.datum_type)&&(n=dx(n,t.datum_type,t.datum_params)),Pl(e.datum_type)&&(n=mx(n,e.datum_type,e.datum_params)),n=Hp(n,l,a,o),e.datum_type===Ls){var u=zp(e,!0,n);if(u!==0)return}return n}function zp(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},s=[],a=0;a<t.grids.length;a++){var o=t.grids[a];if(s.push(o.name),o.isNull){i=r;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}var l=o.grid.subgrids[0],u=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,f=l.ll[0]-u,c=l.ll[1]-u,h=l.ll[0]+(l.lim[0]-1)*l.del[0]+u,d=l.ll[1]+(l.lim[1]-1)*l.del[1]+u;if(!(c>r.y||f>r.x||d<r.y||h<r.x)&&(i=gx(r,e,l),!isNaN(i.x)))break}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*fr+" "+r.y*fr+" tried: '"+s+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function gx(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=ae(i.x-Math.PI)+Math.PI;var s=Yp(i,n);if(e){if(isNaN(s.x))return r;s.x=i.x-s.x,s.y=i.y-s.y;var a=9,o=1e-12,l,u;do{if(u=Yp(s,n),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(u.x+s.x),y:i.y-(u.y+s.y)},s.x+=l.x,s.y+=l.y}while(a--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=ae(s.x+n.ll[0]),r.y=s.y+n.ll[1]}else isNaN(s.x)||(r.x=t.x+s.x,r.y=t.y+s.y);return r}function Yp(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},s={x:Number.NaN,y:Number.NaN},a;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return s;a=r.y*e.lim[0]+r.x;var o={x:e.cvs[a][0],y:e.cvs[a][1]};a++;var l={x:e.cvs[a][0],y:e.cvs[a][1]};a+=e.lim[0];var u={x:e.cvs[a][0],y:e.cvs[a][1]};a--;var f={x:e.cvs[a][0],y:e.cvs[a][1]},c=i.x*i.y,h=i.x*(1-i.y),d=(1-i.x)*(1-i.y),m=(1-i.x)*i.y;return s.x=d*o.x+h*l.x+m*f.x+c*u.x,s.y=d*o.y+h*l.y+m*f.y+c*u.y,s}function Xp(t,e,n){var r=n.x,i=n.y,s=n.z||0,a,o,l,u={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(a=r,"ew".indexOf(t.axis[l])!==-1?o="x":o="y"):l===1?(a=i,"ns".indexOf(t.axis[l])!==-1?o="y":o="x"):(a=s,o="z"),t.axis[l]){case"e":u[o]=a;break;case"w":u[o]=-a;break;case"n":u[o]=a;break;case"s":u[o]=-a;break;case"u":n[o]!==void 0&&(u.z=a);break;case"d":n[o]!==void 0&&(u.z=-a);break;default:return null}return u}function Kp(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function yx(t){Zp(t.x),Zp(t.y)}function Zp(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function vx(t,e){return(t.datum.datum_type===es||t.datum.datum_type===ts||t.datum.datum_type===Ls)&&e.datumCode!=="WGS84"||(e.datum.datum_type===es||e.datum.datum_type===ts||e.datum.datum_type===Ls)&&t.datumCode!=="WGS84"}function Al(t,e,n,r){var i;Array.isArray(n)?n=Kp(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(yx(n),t.datum&&e.datum&&vx(t,e)&&(i=new dr("WGS84"),n=Al(t,i,n,r),t=i),r&&t.axis!=="enu"&&(n=Xp(t,!1,n)),t.projName==="longlat")n={x:n.x*At,y:n.y*At,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=px(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*fr,y:n.y*fr,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&e.axis!=="enu"?Xp(e,!0,n):(s||delete n.z,n)}var Jp=dr("WGS84");function df(t,e,n,r){var i,s,a;return Array.isArray(n)?(i=Al(t,e,n,r)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(s=Al(t,e,n,r),a=Object.keys(n),a.length===2||a.forEach(function(o){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;s[o]=n[o]}),s)}function Qp(t){return t instanceof dr?t:t.oProj?t.oProj:dr(t)}function Ft(t,e,n){t=Qp(t);var r=!1,i;return typeof e>"u"?(e=t,t=Jp,r=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=Jp,r=!0),e=Qp(e),n?df(t,e,n):(i={forward:function(s,a){return df(t,e,s,a)},inverse:function(s,a){return df(e,t,s,a)}},r&&(i.oProj=e),i)}var eg=6,tg="AJSAJS",ng="AFAFAF",ks=65,an=73,Cn=79,Ra=86,$a=90;const _x={forward:rg,inverse:bx,toPoint:ig};function rg(t,e){return e=e||5,Sx(Ex({lat:t[1],lon:t[0]}),e)}function bx(t){var e=pf(og(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function ig(t){var e=pf(og(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function mf(t){return t*(Math.PI/180)}function sg(t){return 180*(t/Math.PI)}function Ex(t){var e=t.lat,n=t.lon,r=6378137,i=.00669438,s=.9996,a,o,l,u,f,c,h,d=mf(e),m=mf(n),p,g;g=Math.floor((n+180)/6)+1,n===180&&(g=60),e>=56&&e<64&&n>=3&&n<12&&(g=32),e>=72&&e<84&&(n>=0&&n<9?g=31:n>=9&&n<21?g=33:n>=21&&n<33?g=35:n>=33&&n<42&&(g=37)),a=(g-1)*6-180+3,p=mf(a),o=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(d)*Math.sin(d)),u=Math.tan(d)*Math.tan(d),f=o*Math.cos(d)*Math.cos(d),c=Math.cos(d)*(m-p),h=r*((1-i/4-3*i*i/64-5*i*i*i/256)*d-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*d)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*d)-35*i*i*i/3072*Math.sin(6*d));var v=s*l*(c+(1-u+f)*c*c*c/6+(5-18*u+u*u+72*f-58*o)*c*c*c*c*c/120)+5e5,y=s*(h+l*Math.tan(d)*(c*c/2+(5-u+9*f+4*f*f)*c*c*c*c/24+(61-58*u+u*u+600*f-330*o)*c*c*c*c*c*c/720));return e<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(v),zoneNumber:g,zoneLetter:wx(e)}}function pf(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var s=.9996,a=6378137,o=.00669438,l,u=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),f,c,h,d,m,p,g,v,y,E=n-5e5,w=e;r<"N"&&(w-=1e7),g=(i-1)*6-180+3,l=o/(1-o),p=w/s,v=p/(a*(1-o/4-3*o*o/64-5*o*o*o/256)),y=v+(3*u/2-27*u*u*u/32)*Math.sin(2*v)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*v)+151*u*u*u/96*Math.sin(6*v),f=a/Math.sqrt(1-o*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),h=l*Math.cos(y)*Math.cos(y),d=a*(1-o)/Math.pow(1-o*Math.sin(y)*Math.sin(y),1.5),m=E/(f*s);var x=y-f*Math.tan(y)/d*(m*m/2-(5+3*c+10*h-4*h*h-9*l)*m*m*m*m/24+(61+90*c+298*h+45*c*c-252*l-3*h*h)*m*m*m*m*m*m/720);x=sg(x);var P=(m-(1+2*c+h)*m*m*m/6+(5-2*h+28*c-3*h*h+8*l+24*c*c)*m*m*m*m*m/120)/Math.cos(y);P=g+sg(P);var k;if(t.accuracy){var C=pf({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});k={top:C.lat,right:C.lon,bottom:x,left:P}}else k={lat:x,lon:P};return k}function wx(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Sx(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+xx(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function xx(t,e,n){var r=ag(n),i=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return Mx(i,s,r)}function ag(t){var e=t%eg;return e===0&&(e=eg),e}function Mx(t,e,n){var r=n-1,i=tg.charCodeAt(r),s=ng.charCodeAt(r),a=i+t-1,o=s+e,l=!1;a>$a&&(a=a-$a+ks-1,l=!0),(a===an||i<an&&a>an||(a>an||i<an)&&l)&&a++,(a===Cn||i<Cn&&a>Cn||(a>Cn||i<Cn)&&l)&&(a++,a===an&&a++),a>$a&&(a=a-$a+ks-1),o>Ra?(o=o-Ra+ks-1,l=!0):l=!1,(o===an||s<an&&o>an||(o>an||s<an)&&l)&&o++,(o===Cn||s<Cn&&o>Cn||(o>Cn||s<Cn)&&l)&&(o++,o===an&&o++),o>Ra&&(o=o-Ra+ks-1);var u=String.fromCharCode(a)+String.fromCharCode(o);return u}function og(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,r="",i,s=0;!/[A-Z]/.test(i=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=i,s++}var a=parseInt(r,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(s++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+t;n=t.substring(s,s+=2);for(var l=ag(a),u=Ox(n.charAt(0),l),f=Tx(n.charAt(1),l);f<Nx(o);)f+=2e6;var c=e-s;if(c%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var h=c/2,d=0,m=0,p,g,v,y,E;return h>0&&(p=1e5/Math.pow(10,h),g=t.substring(s,s+h),d=parseFloat(g)*p,v=t.substring(s+h),m=parseFloat(v)*p),y=d+u,E=m+f,{easting:y,northing:E,zoneLetter:o,zoneNumber:a,accuracy:p}}function Ox(t,e){for(var n=tg.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===an&&n++,n===Cn&&n++,n>$a){if(i)throw"Bad character: "+t;n=ks,i=!0}r+=1e5}return r}function Tx(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=ng.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===an&&n++,n===Cn&&n++,n>Ra){if(i)throw"Bad character: "+t;n=ks,i=!0}r+=1e5}return r}function Nx(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Ds(t,e,n){if(!(this instanceof Ds))return new Ds(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ds.fromMGRS=function(t){return new Ds(ig(t))},Ds.prototype.toMGRS=function(t){return rg([this.x,this.y],t)};var Cx=1,Lx=.25,lg=.046875,ug=.01953125,cg=.01068115234375,Px=.75,Ax=.46875,kx=.013020833333333334,Dx=.007120768229166667,Ix=.3645833333333333,Rx=.005696614583333333,$x=.3076171875;function fg(t){var e=[];e[0]=Cx-t*(Lx+t*(lg+t*(ug+t*cg))),e[1]=t*(Px-t*(lg+t*(ug+t*cg)));var n=t*t;return e[2]=n*(Ax-t*(kx+t*Dx)),n*=t,e[3]=n*(Ix-t*Rx),e[4]=n*t*$x,e}function kl(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var Fx=20;function hg(t,e,n){for(var r=1/(1-e),i=t,s=Fx;s;--s){var a=Math.sin(i),o=1-e*a*a;if(o=(kl(i,a,Math.cos(i),n)-t)*(o*Math.sqrt(o))*r,i-=o,Math.abs(o)<te)return i}return i}function Vx(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=fg(this.es),this.ml0=kl(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function jx(t){var e=t.x,n=t.y,r=ae(e-this.long0),i,s,a,o=Math.sin(n),l=Math.cos(n);if(this.es){var f=l*r,c=Math.pow(f,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),m=Math.abs(l)>te?Math.tan(n):0,p=Math.pow(m,2),g=Math.pow(p,2);i=1-this.es*Math.pow(o,2),f=f/Math.sqrt(i);var v=kl(n,o,l,this.en);s=this.a*(this.k0*f*(1+c/6*(1-p+h+c/20*(5-18*p+g+14*h-58*p*h+c/42*(61+179*g-g*p-479*p)))))+this.x0,a=this.a*(this.k0*(v-this.ml0+o*r*f/2*(1+c/12*(5-p+9*h+4*d+c/30*(61+g-58*p+270*h-330*p*h+c/56*(1385+543*g-g*p-3111*p))))))+this.y0}else{var u=l*Math.sin(r);if(Math.abs(Math.abs(u)-1)<te)return 93;if(s=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,a=l*Math.cos(r)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(a),u>=1){if(u-1>te)return 93;a=0}else a=Math.acos(a);n<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return t.x=s,t.y=a,t}function Gx(t){var e,n,r,i,s=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=hg(e,this.es,this.en),Math.abs(n)<q){var c=Math.sin(n),h=Math.cos(n),d=Math.abs(h)>te?Math.tan(n):0,m=this.ep2*Math.pow(h,2),p=Math.pow(m,2),g=Math.pow(d,2),v=Math.pow(g,2);e=1-this.es*Math.pow(c,2);var y=s*Math.sqrt(e)/this.k0,E=Math.pow(y,2);e=e*d,r=n-e*E/(1-this.es)*.5*(1-E/12*(5+3*g-9*m*g+m-4*p-E/30*(61+90*g-252*m*g+45*v+46*m-E/56*(1385+3633*g+4095*v+1574*v*g)))),i=ae(this.long0+y*(1-E/6*(1+2*g+m-E/20*(5+28*g+24*v+8*m*g+6*m-E/42*(61+662*g+1320*v+720*v*g))))/h)}else r=q*Da(a),i=0;else{var o=Math.exp(s/this.k0),l=.5*(o-1/o),u=this.lat0+a/this.k0,f=Math.cos(u);e=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),r=Math.asin(e),a<0&&(r=-r),l===0&&f===0?i=0:i=ae(Math.atan2(l,f)+this.long0)}return t.x=i,t.y=r,t}var Ux=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Dl={init:Vx,forward:jx,inverse:Gx,names:Ux};function dg(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function Hn(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function Bx(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function qx(t){var e=Math.abs(t);return e=Bx(e*(1+e/(Hn(1,e)+1))),t<0?-e:e}function gf(t,e){for(var n=2*Math.cos(2*e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return e+a*Math.sin(2*e)}function Wx(t,e){for(var n=2*Math.cos(e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return Math.sin(e)*a}function Hx(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function mg(t,e,n){for(var r=Math.sin(e),i=Math.cos(e),s=dg(n),a=Hx(n),o=2*i*a,l=-2*r*s,u=t.length-1,f=t[u],c=0,h=0,d=0,m,p;--u>=0;)m=h,p=c,h=f,c=d,f=-m+o*h-l*c+t[u],d=-p+l*h+o*c;return o=r*a,l=i*s,[o*f-l*d,o*d+l*f]}function zx(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Dl.init.apply(this),this.forward=Dl.forward,this.inverse=Dl.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=gf(this.cbg,this.lat0);this.Zb=-this.Qn*(r+Wx(this.gtu,2*r))}function Yx(t){var e=ae(t.x-this.long0),n=t.y;n=gf(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(e),a=Math.cos(e);n=Math.atan2(r,a*i),e=Math.atan2(s*i,Hn(r,i*a)),e=qx(Math.tan(e));var o=mg(this.gtu,2*n,2*e);n=n+o[0],e=e+o[1];var l,u;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,u=1/0),t.x=l,t.y=u,t}function Xx(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var s=mg(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(dg(e));var a=Math.sin(n),o=Math.cos(n),l=Math.sin(e),u=Math.cos(e);n=Math.atan2(a*u,Hn(l,u*o)),e=Math.atan2(l,u*o),r=ae(e+this.long0),i=gf(this.cgb,n)}else r=1/0,i=1/0;return t.x=r,t.y=i,t}var Kx=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"];const Il={init:zx,forward:Yx,inverse:Xx,names:Kx};function Zx(t,e){if(t===void 0){if(t=Math.floor((ae(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var Jx="etmerc";function Qx(){var t=Zx(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*At,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Il.init.apply(this),this.forward=Il.forward,this.inverse=Il.inverse}var eM=["Universal Transverse Mercator System","utm"];const tM={init:Qx,names:eM,dependsOn:Jx};function yf(t,e){return Math.pow((1-t)/(1+t),e)}var nM=20;function rM(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+We)/(Math.pow(Math.tan(.5*this.lat0+We),this.C)*yf(this.e*t,this.ratexp))}function iM(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+We),this.C)*yf(this.e*Math.sin(n),this.ratexp))-q,t.x=this.C*e,t}function sM(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+We)/this.K,1/this.C),s=nM;s>0&&(r=2*Math.atan(i*yf(this.e*Math.sin(t.y),-.5*this.e))-q,!(Math.abs(r-t.y)<e));--s)t.y=r;return s?(t.x=n,t.y=r,t):null}var aM=["gauss"];const vf={init:rM,forward:iM,inverse:sM,names:aM};function oM(){vf.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function lM(t){var e,n,r,i;return t.x=ae(t.x-this.long0),vf.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function uM(t){var e,n,r,i,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(s,this.R2);e=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),r=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,vf.inverse.apply(this,[t]),t.x=ae(t.x+this.long0),t}var cM=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const fM={init:oM,forward:lM,inverse:uM,names:cM};function hM(t,e,n){return e*=n,Math.tan(.5*(q+t))*Math.pow((1-e)/(1+e),.5*n)}function dM(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=te&&(this.k0=.5*(1+Da(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=te&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=te&&(this.k0=.5*this.cons*hr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Wn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=hr(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-q,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function mM(t){var e=t.x,n=t.y,r=Math.sin(n),i=Math.cos(n),s,a,o,l,u,f,c=ae(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=te&&Math.abs(n+this.lat0)<=te?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(c)),t.x=this.a*s*i*Math.sin(c)+this.x0,t.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(c))+this.y0,t):(a=2*Math.atan(this.ssfn_(n,r,this.e))-q,l=Math.cos(a),o=Math.sin(a),Math.abs(this.coslat0)<=te?(u=Wn(this.e,n*this.con,this.con*r),f=2*this.a*this.k0*u/this.cons,t.x=this.x0+f*Math.sin(e-this.long0),t.y=this.y0-this.con*f*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<te?(s=2*this.a*this.k0/(1+l*Math.cos(c)),t.y=s*o):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(c))),t.y=s*(this.cosX0*o-this.sinX0*l*Math.cos(c))+this.y0),t.x=s*l*Math.sin(c)+this.x0,t))}function pM(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=te?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/a),Math.abs(this.coslat0)<te?this.lat0>0?e=ae(this.long0+Math.atan2(t.x,-1*t.y)):e=ae(this.long0+Math.atan2(t.x,t.y)):e=ae(this.long0+Math.atan2(t.x*Math.sin(o),a*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=te){if(a<=te)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*Ia(this.e,r),e=this.con*ae(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=te?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/a),e=ae(this.long0+Math.atan2(t.x*Math.sin(i),a*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*Ia(this.e,Math.tan(.5*(q+s)));return t.x=e,t.y=n,t}var gM=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];const yM={init:dM,forward:mM,inverse:pM,names:gM,ssfn_:hM};function vM(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),a=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*l+this.alpha*a/2*u}function _M(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*a+this.x0,t}function bM(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+a/this.alpha,l=0,u=s,f=-1e3,c=0;Math.abs(u-f)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),f=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=o,t.y=u,t}var EM=["somerc"];const wM={init:vM,forward:_M,inverse:bM,names:EM};var Is=1e-7;function SM(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function xM(){var t,e,n,r,i,s,a,o,l,u,f=0,c,h=0,d=0,m=0,p=0,g=0,v=0;this.no_off=SM(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var E=!1;if("rectified_grid_angle"in this&&(E=!0),y&&(v=this.alpha),E&&(f=this.rectified_grid_angle*At),y||E)h=this.longc;else if(d=this.long1,p=this.lat1,m=this.long2,g=this.lat2,Math.abs(p-g)<=Is||(t=Math.abs(p))<=Is||Math.abs(t-q)<=Is||Math.abs(Math.abs(this.lat0)-q)<=Is||Math.abs(Math.abs(g)-q)<=Is)throw new Error;var w=1-this.es;e=Math.sqrt(w),Math.abs(this.lat0)>te?(o=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*o*o,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/w),this.A=this.B*this.k0*e/t,r=this.B*e/(n*Math.sqrt(t)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(Wn(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),y||E?(y?(c=Math.asin(Math.sin(v)/r),E||(f=v)):(c=f,v=Math.asin(r*Math.sin(c))),this.lam0=h-Math.asin(.5*(i-1/i)*Math.tan(c))/this.B):(s=Math.pow(Wn(this.e,p,Math.sin(p)),this.B),a=Math.pow(Wn(this.e,g,Math.sin(g)),this.B),i=this.E/s,l=(a-s)/(a+s),u=this.E*this.E,u=(u-a*s)/(u+a*s),t=d-m,t<-Math.pi?m-=Aa:t>Math.pi&&(m+=Aa),this.lam0=ae(.5*(d+m)-Math.atan(u*Math.tan(.5*this.B*(d-m))/l)/this.B),c=Math.atan(2*Math.sin(this.B*ae(d-this.lam0))/(i-1/i)),f=v=Math.asin(r*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(We-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(We+i))}function MM(t){var e={},n,r,i,s,a,o,l,u;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-q)>te){if(a=this.E/Math.pow(Wn(this.e,t.y,Math.sin(t.y)),this.B),o=1/a,n=.5*(a-o),r=.5*(a+o),s=Math.sin(this.B*t.x),i=(n*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(i)-1)<te)throw new Error;u=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*t.x),Math.abs(o)<Is?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,o)}else u=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=u):(l-=this.u_0,e.x=u*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function OM(t){var e,n,r,i,s,a,o,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),s=.5*(r+1/r),a=Math.sin(this.BrA*e),o=(a*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(o)-1)<te)l.x=0,l.y=o<0?-q:q;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=Ia(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var TM=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const NM={init:xM,forward:MM,inverse:OM,names:TM};function CM(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<te)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=hr(this.e,e,n),i=Wn(this.e,this.lat1,e),s=Math.sin(this.lat2),a=Math.cos(this.lat2),o=hr(this.e,s,a),l=Wn(this.e,this.lat2,s),u=Wn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>te?this.ns=Math.log(r/o)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function LM(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=te&&(n=Da(n)*(q-2*te));var r=Math.abs(Math.abs(n)-q),i,s;if(r>te)i=Wn(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;s=0}var a=this.ns*ae(e-this.long0);return t.x=this.k0*(s*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(a))+this.y0,t}function PM(t){var e,n,r,i,s,a=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),n=1):(e=-Math.sqrt(a*a+o*o),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*a,n*o)),e!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=Ia(this.e,r),i===-9999)return null}else i=-q;return s=ae(l/this.ns+this.long0),t.x=s,t.y=i,t}var AM=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const kM={init:CM,forward:LM,inverse:PM,names:AM};function DM(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function IM(t){var e,n,r,i,s,a,o,l=t.x,u=t.y,f=ae(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-f*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*s,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=o*Math.cos(a)/1,t.x=o*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function RM(t){var e,n,r,i,s,a,o,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,o=e,l=0;var f=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(l=1),o=t.y,f+=1;while(l===0&&f<15);return f>=15?null:t}var $M=["Krovak","krovak"];const FM={init:DM,forward:IM,inverse:RM,names:$M};function Zt(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function Fa(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Va(t){return .375*t*(1+.25*t*(1+.46875*t))}function ja(t){return .05859375*t*t*(1+.75*t)}function Ga(t){return t*t*t*(35/3072)}function Rs(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function $s(t){return Math.abs(t)<q?t:t-Da(t)*Math.PI}function Rl(t,e,n,r,i){var s,a;s=t/e;for(var o=0;o<15;o++)if(a=(t-(e*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=a,Math.abs(a)<=1e-10)return s;return NaN}function VM(){this.sphere||(this.e0=Fa(this.es),this.e1=Va(this.es),this.e2=ja(this.es),this.e3=Ga(this.es),this.ml0=this.a*Zt(this.e0,this.e1,this.e2,this.e3,this.lat0))}function jM(t){var e,n,r=t.x,i=t.y;if(r=ae(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),a=Math.cos(i),o=Rs(this.a,this.e,s),l=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),f=u*u,c=this.es*a*a/(1-this.es),h=this.a*Zt(this.e0,this.e1,this.e2,this.e3,i);e=o*u*(1-f*l*(1/6-(8-l+8*c)*f/120)),n=h-this.ml0+o*s/a*f*(.5+(5-l+6*c)*f/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function GM(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(s))}else{var a=this.ml0/this.a+n,o=Rl(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-q)<=te)return t.x=this.long0,t.y=q,n<0&&(t.y*=-1),t;var l=Rs(this.a,this.e,Math.sin(o)),u=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(o),2),c=e*this.a/l,h=c*c;r=o-l*Math.tan(o)/u*c*c*(.5-(1+3*f)*c*c/24),i=c*(1-h*(f/3+(1+3*f)*f*h/15))/Math.cos(o)}return t.x=ae(i+this.long0),t.y=$s(r),t}var UM=["Cassini","Cassini_Soldner","cass"];const BM={init:VM,forward:jM,inverse:GM,names:UM};function ci(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var qM=1,WM=2,HM=3,zM=4;function YM(){var t=Math.abs(this.lat0);if(Math.abs(t-q)<te?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<te?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=ci(this.e,1),this.mmf=.5/(1-this.es),this.apa=rO(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=ci(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function XM(t){var e,n,r,i,s,a,o,l,u,f,c=t.x,h=t.y;if(c=ae(c-this.long0),this.sphere){if(s=Math.sin(h),f=Math.cos(h),r=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+f*r:1+this.sinph0*s+this.cosph0*f*r,n<=te)return null;n=Math.sqrt(2/n),e=n*f*Math.sin(c),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.lat0)<te)return null;n=We-h*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(c),n*=r}}else{switch(o=0,l=0,u=0,r=Math.cos(c),i=Math.sin(c),s=Math.sin(h),a=ci(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=a/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*l*r;break;case this.EQUIT:u=1+l*r;break;case this.N_POLE:u=q+h,a=this.qp-a;break;case this.S_POLE:u=h-q,a=this.qp+a;break}if(Math.abs(u)<te)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?n=this.ymf*u*(this.cosb1*o-this.sinb1*l*r):n=(u=Math.sqrt(2/(1+l*r)))*o*this.ymf,e=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?u:-u)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function KM(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i,s,a,o,l,u;if(this.sphere){var f=0,c,h=0;if(c=Math.sqrt(e*e+n*n),i=c*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sin(i),f=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(c)<=te?0:Math.asin(n*h/c),e*=h,n=f*c;break;case this.OBLIQ:i=Math.abs(c)<=te?this.lat0:Math.asin(f*this.sinph0+n*h*this.cosph0/c),e*=h*this.cosph0,n=(f-Math.sin(i)*this.sinph0)*c;break;case this.N_POLE:n=-n,i=q-i;break;case this.S_POLE:i-=q;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<te)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*l/this.rq),s=Math.cos(a),e*=a=Math.sin(a),this.mode===this.OBLIQ?(u=s*this.sinb1+n*a*this.cosb1/l,o=this.qp*u,n=l*this.cosb1*s-n*this.sinb1*a):(u=n*a/l,o=this.qp*u,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),o=e*e+n*n,!o)return t.x=this.long0,t.y=this.lat0,t;u=1-o/this.qp,this.mode===this.S_POLE&&(u=-u)}r=Math.atan2(e,n),i=iO(Math.asin(u),this.apa)}return t.x=ae(this.long0+r),t.y=i,t}var ZM=.3333333333333333,JM=.17222222222222222,QM=.10257936507936508,eO=.06388888888888888,tO=.0664021164021164,nO=.016415012942191543;function rO(t){var e,n=[];return n[0]=t*ZM,e=t*t,n[0]+=e*JM,n[1]=e*eO,e*=t,n[0]+=e*QM,n[1]+=e*tO,n[2]=e*nO,n}function iO(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var sO=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const aO={init:YM,forward:XM,inverse:KM,names:sO,S_POLE:qM,N_POLE:WM,EQUIT:HM,OBLIQ:zM};function fi(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function oO(){Math.abs(this.lat1+this.lat2)<te||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=hr(this.e3,this.sin_po,this.cos_po),this.qs1=ci(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=hr(this.e3,this.sin_po,this.cos_po),this.qs2=ci(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ci(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>te?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function lO(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=ci(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*ae(e-this.long0),a=i*Math.sin(s)+this.x0,o=this.rh-i*Math.cos(s)+this.y0;return t.x=a,t.y=o,t}function uO(t){var e,n,r,i,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),s=ae(i/this.ns0+this.long0),t.x=s,t.y=a,t}function cO(t,e){var n,r,i,s,a,o=fi(.5*e);if(t<te)return o;for(var l=t*t,u=1;u<=25;u++)if(n=Math.sin(o),r=Math.cos(o),i=t*n,s=1-i*i,a=.5*s*s/r*(e/(1-l)-n/s+.5/t*Math.log((1-i)/(1+i))),o=o+a,Math.abs(a)<=1e-7)return o;return null}var fO=["Albers_Conic_Equal_Area","Albers","aea"];const hO={init:oO,forward:lO,inverse:uO,names:fO,phi1z:cO};function dO(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function mO(t){var e,n,r,i,s,a,o,l,u=t.x,f=t.y;return r=ae(u-this.long0),e=Math.sin(f),n=Math.cos(f),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,a>0||Math.abs(a)<=te?(o=this.x0+this.a*s*n*Math.sin(r)/a,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)/a):(o=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function pO(t){var e,n,r,i,s,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),a=fi(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),s=ae(this.long0+s)):(a=this.phic0,s=0),t.x=s,t.y=a,t}var gO=["gnom"];const yO={init:dO,forward:mO,inverse:pO,names:gO};function vO(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*q:q;for(var r=Math.asin(.5*e),i,s,a,o,l=0;l<30;l++)if(s=Math.sin(r),a=Math.cos(r),o=t*s,i=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-s/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function _O(){this.sphere||(this.k0=hr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function bO(t){var e=t.x,n=t.y,r,i,s=ae(e-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var a=ci(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*a*.5/this.k0}return t.x=r,t.y=i,t}function EO(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=ae(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=vO(this.e,2*t.y*this.k0/this.a),e=ae(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var wO=["cea"];const SO={init:_O,forward:bO,inverse:EO,names:wO};function xO(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function MO(t){var e=t.x,n=t.y,r=ae(e-this.long0),i=$s(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function OO(t){var e=t.x,n=t.y;return t.x=ae(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=$s(this.lat0+(n-this.y0)/this.a),t}var TO=["Equirectangular","Equidistant_Cylindrical","eqc"];const NO={init:xO,forward:MO,inverse:OO,names:TO};var pg=20;function CO(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Fa(this.es),this.e1=Va(this.es),this.e2=ja(this.es),this.e3=Ga(this.es),this.ml0=this.a*Zt(this.e0,this.e1,this.e2,this.e3,this.lat0)}function LO(t){var e=t.x,n=t.y,r,i,s,a=ae(e-this.long0);if(s=a*Math.sin(n),this.sphere)Math.abs(n)<=te?(r=this.a*a,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*($s(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=te)r=this.a*a,i=-1*this.ml0;else{var o=Rs(this.a,this.e,Math.sin(n))/Math.tan(n);r=o*Math.sin(s),i=this.a*Zt(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(s))}return t.x=r+this.x0,t.y=i+this.y0,t}function PO(t){var e,n,r,i,s,a,o,l,u;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=te)e=ae(r/this.a+this.long0),n=0;else{a=this.lat0+i/this.a,o=r*r/this.a/this.a+a*a,l=a;var f;for(s=pg;s;--s)if(f=Math.tan(l),u=-1*(a*(l*f+1)-l-.5*(l*l+o)*f)/((l-a)/f-1),l+=u,Math.abs(u)<=te){n=l;break}e=ae(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=te)n=0,e=ae(this.long0+r/this.a);else{a=(this.ml0+i)/this.a,o=r*r/this.a/this.a+a*a,l=a;var c,h,d,m,p;for(s=pg;s;--s)if(p=this.e*Math.sin(l),c=Math.sqrt(1-p*p)*Math.tan(l),h=this.a*Zt(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),m=h/this.a,u=(a*(c*m+1)-m-.5*c*(m*m+o))/(this.es*Math.sin(2*l)*(m*m+o-2*a*m)/(4*c)+(a-m)*(c*d-2/Math.sin(2*l))-d),l-=u,Math.abs(u)<=te){n=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=ae(this.long0+Math.asin(r*c/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var AO=["Polyconic","poly"];const kO={init:CO,forward:LO,inverse:PO,names:AO};function DO(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function IO(t){var e,n=t.x,r=t.y,i=r-this.lat0,s=n-this.long0,a=i/Pa*1e-5,o=s,l=1,u=0;for(e=1;e<=10;e++)l=l*a,u=u+this.A[e]*l;var f=u,c=o,h=1,d=0,m,p,g=0,v=0;for(e=1;e<=6;e++)m=h*f-d*c,p=d*f+h*c,h=m,d=p,g=g+this.B_re[e]*h-this.B_im[e]*d,v=v+this.B_im[e]*h+this.B_re[e]*d;return t.x=v*this.a+this.x0,t.y=g*this.a+this.y0,t}function RO(t){var e,n=t.x,r=t.y,i=n-this.x0,s=r-this.y0,a=s/this.a,o=i/this.a,l=1,u=0,f,c,h=0,d=0;for(e=1;e<=6;e++)f=l*a-u*o,c=u*a+l*o,l=f,u=c,h=h+this.C_re[e]*l-this.C_im[e]*u,d=d+this.C_im[e]*l+this.C_re[e]*u;for(var m=0;m<this.iterations;m++){var p=h,g=d,v,y,E=a,w=o;for(e=2;e<=6;e++)v=p*h-g*d,y=g*h+p*d,p=v,g=y,E=E+(e-1)*(this.B_re[e]*p-this.B_im[e]*g),w=w+(e-1)*(this.B_im[e]*p+this.B_re[e]*g);p=1,g=0;var x=this.B_re[1],P=this.B_im[1];for(e=2;e<=6;e++)v=p*h-g*d,y=g*h+p*d,p=v,g=y,x=x+e*(this.B_re[e]*p-this.B_im[e]*g),P=P+e*(this.B_im[e]*p+this.B_re[e]*g);var k=x*x+P*P;h=(E*x+w*P)/k,d=(w*x-E*P)/k}var C=h,T=d,N=1,B=0;for(e=1;e<=9;e++)N=N*C,B=B+this.D[e]*N;var R=this.lat0+B*Pa*1e5,ie=this.long0+T;return t.x=ie,t.y=R,t}var $O=["New_Zealand_Map_Grid","nzmg"];const FO={init:DO,forward:IO,inverse:RO,names:$O};function VO(){}function jO(t){var e=t.x,n=t.y,r=ae(e-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=s,t}function GO(t){t.x-=this.x0,t.y-=this.y0;var e=ae(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var UO=["Miller_Cylindrical","mill"];const BO={init:VO,forward:jO,inverse:GO,names:UO};var qO=20;function WO(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=fg(this.es)}function HO(t){var e,n,r=t.x,i=t.y;if(r=ae(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),a=qO;a;--a){var o=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<te)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*kl(i,l,u,this.en),e=this.a*r*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function zO(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=fi((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=fi(Math.sin(e)/this.n)),r=ae(r+this.long0),e=$s(e)):(e=hg(t.y/this.a,this.es,this.en),i=Math.abs(e),i<q?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=ae(n)):i-te<q&&(r=this.long0)),t.x=r,t.y=e,t}var YO=["Sinusoidal","sinu"];const XO={init:WO,forward:HO,inverse:zO,names:YO};function KO(){}function ZO(t){for(var e=t.x,n=t.y,r=ae(e-this.long0),i=n,s=Math.PI*Math.sin(n);;){var a=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=a,Math.abs(a)<te)break}i/=2,Math.PI/2-Math.abs(n)<te&&(r=0);var o=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=l,t}function JO(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=ae(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var QO=["Mollweide","moll"];const eT={init:KO,forward:ZO,inverse:JO,names:QO};function tT(){Math.abs(this.lat1+this.lat2)<te||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Fa(this.es),this.e1=Va(this.es),this.e2=ja(this.es),this.e3=Ga(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=hr(this.e,this.sinphi,this.cosphi),this.ml1=Zt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<te?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=hr(this.e,this.sinphi,this.cosphi),this.ml2=Zt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Zt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function nT(t){var e=t.x,n=t.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=Zt(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*ae(e-this.long0),a=this.x0+r*Math.sin(s),o=this.y0+this.rh-r*Math.cos(s);return t.x=a,t.y=o,t}function rT(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=ae(this.long0+s/this.ns),r=$s(this.g-n/this.a),t.x=i,t.y=r,t;var a=this.g-n/this.a;return r=Rl(a,this.e0,this.e1,this.e2,this.e3),i=ae(this.long0+s/this.ns),t.x=i,t.y=r,t}var iT=["Equidistant_Conic","eqdc"];const sT={init:tT,forward:nT,inverse:rT,names:iT};function aT(){this.R=this.a}function oT(t){var e=t.x,n=t.y,r=ae(e-this.long0),i,s;Math.abs(n)<=te&&(i=this.x0+this.R*r,s=this.y0);var a=fi(2*Math.abs(n/Math.PI));(Math.abs(r)<=te||Math.abs(Math.abs(n)-q)<=te)&&(i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*a):s=this.y0+Math.PI*this.R*-Math.tan(.5*a));var o=.5*Math.abs(Math.PI/r-r/Math.PI),l=o*o,u=Math.sin(a),f=Math.cos(a),c=f/(u+f-1),h=c*c,d=c*(2/u-1),m=d*d,p=Math.PI*this.R*(o*(c-m)+Math.sqrt(l*(c-m)*(c-m)-(m+l)*(h-m)))/(m+l);r<0&&(p=-p),i=this.x0+p;var g=l+c;return p=Math.PI*this.R*(d*g-o*Math.sqrt((m+l)*(l+1)-g*g))/(m+l),n>=0?s=this.y0+p:s=this.y0-p,t.x=i,t.y=s,t}function lT(t){var e,n,r,i,s,a,o,l,u,f,c,h,d;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,r=t.x/c,i=t.y/c,s=r*r+i*i,a=-Math.abs(i)*(1+s),o=a-2*i*i+r*r,l=-2*a+1+2*i*i+s*s,d=i*i/l+(2*o*o*o/l/l/l-9*a*o/l/l)/27,u=(a-o*o/3/l)/l,f=2*Math.sqrt(-u/3),c=3*d/u/f,Math.abs(c)>1&&(c>=0?c=1:c=-1),h=Math.acos(c)/3,t.y>=0?n=(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI:n=-(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI,Math.abs(r)<te?e=this.long0:e=ae(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),t.x=e,t.y=n,t}var uT=["Van_der_Grinten_I","VanDerGrinten","vandg"];const cT={init:aT,forward:oT,inverse:lT,names:uT};function fT(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function hT(t){var e=t.x,n=t.y,r=Math.sin(t.y),i=Math.cos(t.y),s=ae(e-this.long0),a,o,l,u,f,c,h,d,m,p,g,v,y,E,w,x,P,k,C,T,N,B,R;return this.sphere?Math.abs(this.sin_p12-1)<=te?(t.x=this.x0+this.a*(q-n)*Math.sin(s),t.y=this.y0-this.a*(q-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=te?(t.x=this.x0+this.a*(q+n)*Math.sin(s),t.y=this.y0+this.a*(q+n)*Math.cos(s),t):(k=this.sin_p12*r+this.cos_p12*i*Math.cos(s),x=Math.acos(k),P=x?x/Math.sin(x):1,t.x=this.x0+this.a*P*i*Math.sin(s),t.y=this.y0+this.a*P*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),t):(a=Fa(this.es),o=Va(this.es),l=ja(this.es),u=Ga(this.es),Math.abs(this.sin_p12-1)<=te?(f=this.a*Zt(a,o,l,u,q),c=this.a*Zt(a,o,l,u,n),t.x=this.x0+(f-c)*Math.sin(s),t.y=this.y0-(f-c)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=te?(f=this.a*Zt(a,o,l,u,q),c=this.a*Zt(a,o,l,u,n),t.x=this.x0+(f+c)*Math.sin(s),t.y=this.y0+(f+c)*Math.cos(s),t):(h=r/i,d=Rs(this.a,this.e,this.sin_p12),m=Rs(this.a,this.e,r),p=Math.atan((1-this.es)*h+this.es*d*this.sin_p12/(m*i)),g=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(p)-this.sin_p12*Math.cos(s)),g===0?C=Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):Math.abs(Math.abs(g)-Math.PI)<=te?C=-Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):C=Math.asin(Math.sin(s)*Math.cos(p)/Math.sin(g)),v=this.e*this.sin_p12/Math.sqrt(1-this.es),y=this.e*this.cos_p12*Math.cos(g)/Math.sqrt(1-this.es),E=v*y,w=y*y,T=C*C,N=T*C,B=N*C,R=B*C,x=d*C*(1-T*w*(1-w)/6+N/8*E*(1-2*w)+B/120*(w*(4-7*w)-3*v*v*(1-7*w))-R/48*E),t.x=this.x0+x*Math.sin(g),t.y=this.y0+x*Math.cos(g),t))}function dT(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a,o,l,u,f,c,h,d,m,p,g,v,y,E,w,x,P,k,C;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*q*this.a?void 0:(n=e/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=te?a=this.lat0:(a=fi(i*this.sin_p12+t.y*r*this.cos_p12/e),o=Math.abs(this.lat0)-q,Math.abs(o)<=te?this.lat0>=0?s=ae(this.long0+Math.atan2(t.x,-t.y)):s=ae(this.long0-Math.atan2(-t.x,t.y)):s=ae(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=s,t.y=a,t)):(l=Fa(this.es),u=Va(this.es),f=ja(this.es),c=Ga(this.es),Math.abs(this.sin_p12-1)<=te?(h=this.a*Zt(l,u,f,c,q),e=Math.sqrt(t.x*t.x+t.y*t.y),d=h-e,a=Rl(d/this.a,l,u,f,c),s=ae(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=a,t):Math.abs(this.sin_p12+1)<=te?(h=this.a*Zt(l,u,f,c,q),e=Math.sqrt(t.x*t.x+t.y*t.y),d=e-h,a=Rl(d/this.a,l,u,f,c),s=ae(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),m=Rs(this.a,this.e,this.sin_p12),v=Math.cos(g),y=this.e*this.cos_p12*v,E=-y*y/(1-this.es),w=3*this.es*(1-E)*this.sin_p12*this.cos_p12*v/(1-this.es),x=e/m,P=x-E*(1+E)*Math.pow(x,3)/6-w*(1+3*E)*Math.pow(x,4)/24,k=1-E*P*P/2-x*P*P*P/6,p=Math.asin(this.sin_p12*Math.cos(P)+this.cos_p12*Math.sin(P)*v),s=ae(this.long0+Math.asin(Math.sin(g)*Math.sin(P)/Math.cos(p))),C=Math.sin(p),a=Math.atan2((C-this.es*k*this.sin_p12)*Math.tan(p),C*(1-this.es)),t.x=s,t.y=a,t))}var mT=["Azimuthal_Equidistant","aeqd"];const pT={init:fT,forward:hT,inverse:dT,names:mT};function gT(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function yT(t){var e,n,r,i,s,a,o,l,u=t.x,f=t.y;return r=ae(u-this.long0),e=Math.sin(f),n=Math.cos(f),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,(a>0||Math.abs(a)<=te)&&(o=this.a*s*n*Math.sin(r),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function vT(t){var e,n,r,i,s,a,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=fi(e/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=te?(o=this.lat0,t.x=a,t.y=o,t):(o=fi(i*this.sin_p14+t.y*r*this.cos_p14/e),s=Math.abs(this.lat0)-q,Math.abs(s)<=te?(this.lat0>=0?a=ae(this.long0+Math.atan2(t.x,-t.y)):a=ae(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=o,t):(a=ae(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=a,t.y=o,t))}var _T=["ortho"];const bT={init:gT,forward:yT,inverse:vT,names:_T};var lt={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},He={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function ET(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=q-We/2?this.face=lt.TOP:this.lat0<=-(q-We/2)?this.face=lt.BOTTOM:Math.abs(this.long0)<=We?this.face=lt.FRONT:Math.abs(this.long0)<=q+We?this.face=this.long0>0?lt.RIGHT:lt.LEFT:this.face=lt.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function wT(t){var e={x:0,y:0},n,r,i,s,a,o,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,r=t.x,this.face===lt.TOP)s=q-n,r>=We&&r<=q+We?(l.value=He.AREA_0,i=r-q):r>q+We||r<=-(q+We)?(l.value=He.AREA_1,i=r>0?r-pt:r+pt):r>-(q+We)&&r<=-We?(l.value=He.AREA_2,i=r+q):(l.value=He.AREA_3,i=r);else if(this.face===lt.BOTTOM)s=q+n,r>=We&&r<=q+We?(l.value=He.AREA_0,i=-r+q):r<We&&r>=-We?(l.value=He.AREA_1,i=-r):r<-We&&r>=-(q+We)?(l.value=He.AREA_2,i=-r-q):(l.value=He.AREA_3,i=r>0?-r+pt:-r-pt);else{var u,f,c,h,d,m,p;this.face===lt.RIGHT?r=Fs(r,+q):this.face===lt.BACK?r=Fs(r,+pt):this.face===lt.LEFT&&(r=Fs(r,-q)),h=Math.sin(n),d=Math.cos(n),m=Math.sin(r),p=Math.cos(r),u=d*p,f=d*m,c=h,this.face===lt.FRONT?(s=Math.acos(u),i=$l(s,c,f,l)):this.face===lt.RIGHT?(s=Math.acos(f),i=$l(s,c,-u,l)):this.face===lt.BACK?(s=Math.acos(-u),i=$l(s,c,-f,l)):this.face===lt.LEFT?(s=Math.acos(-f),i=$l(s,c,u,l)):(s=i=0,l.value=He.AREA_0)}return o=Math.atan(12/pt*(i+Math.acos(Math.sin(i)*Math.cos(We))-q)),a=Math.sqrt((1-Math.cos(s))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===He.AREA_1?o+=q:l.value===He.AREA_2?o+=pt:l.value===He.AREA_3&&(o+=1.5*pt),e.x=a*Math.cos(o),e.y=a*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function ST(t){var e={lam:0,phi:0},n,r,i,s,a,o,l,u,f,c={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?c.value=He.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(c.value=He.AREA_1,n-=q):t.x<0&&-t.x>=Math.abs(t.y)?(c.value=He.AREA_2,n=n<0?n+pt:n-pt):(c.value=He.AREA_3,n+=q),f=pt/12*Math.tan(n),a=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),o=Math.atan(a),i=Math.cos(n),s=Math.tan(r),l=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===lt.TOP)u=Math.acos(l),e.phi=q-u,c.value===He.AREA_0?e.lam=o+q:c.value===He.AREA_1?e.lam=o<0?o+pt:o-pt:c.value===He.AREA_2?e.lam=o-q:e.lam=o;else if(this.face===lt.BOTTOM)u=Math.acos(l),e.phi=u-q,c.value===He.AREA_0?e.lam=-o+q:c.value===He.AREA_1?e.lam=-o:c.value===He.AREA_2?e.lam=-o-q:e.lam=o<0?-o-pt:-o+pt;else{var h,d,m;h=l,f=h*h,f>=1?m=0:m=Math.sqrt(1-f)*Math.sin(o),f+=m*m,f>=1?d=0:d=Math.sqrt(1-f),c.value===He.AREA_1?(f=d,d=-m,m=f):c.value===He.AREA_2?(d=-d,m=-m):c.value===He.AREA_3&&(f=d,d=m,m=-f),this.face===lt.RIGHT?(f=h,h=-d,d=f):this.face===lt.BACK?(h=-h,d=-d):this.face===lt.LEFT&&(f=h,h=d,d=-f),e.phi=Math.acos(-m)-q,e.lam=Math.atan2(d,h),this.face===lt.RIGHT?e.lam=Fs(e.lam,-q):this.face===lt.BACK?e.lam=Fs(e.lam,-pt):this.face===lt.LEFT&&(e.lam=Fs(e.lam,+q))}if(this.es!==0){var p,g,v;p=e.phi<0?1:0,g=Math.tan(e.phi),v=this.b/Math.sqrt(g*g+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-v*v)/(this.one_minus_f*v)),p&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function $l(t,e,n,r){var i;return t<te?(r.value=He.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=We?r.value=He.AREA_0:i>We&&i<=q+We?(r.value=He.AREA_1,i-=q):i>q+We||i<=-(q+We)?(r.value=He.AREA_2,i=i>=0?i-pt:i+pt):(r.value=He.AREA_3,i+=q)),i}function Fs(t,e){var n=t+e;return n<-pt?n+=Aa:n>+pt&&(n-=Aa),n}var xT=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const MT={init:ET,forward:wT,inverse:ST,names:xT};var _f=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ua=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],gg=.8487,yg=1.3523,vg=fr/5,OT=1/vg,Vs=18,Fl=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},TT=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function NT(t,e,n,r){for(var i=e;r;--r){var s=t(i);if(i-=s,Math.abs(s)<n)break}return i}function CT(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function LT(t){var e=ae(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*vg);r<0?r=0:r>=Vs&&(r=Vs-1),n=fr*(n-OT*r);var i={x:Fl(_f[r],n)*e,y:Fl(Ua[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*gg+this.x0,i.y=i.y*this.a*yg+this.y0,i}function PT(t){var e={x:(t.x-this.x0)/(this.a*gg),y:Math.abs(t.y-this.y0)/(this.a*yg)};if(e.y>=1)e.x/=_f[Vs][0],e.y=t.y<0?-q:q;else{var n=Math.floor(e.y*Vs);for(n<0?n=0:n>=Vs&&(n=Vs-1);;)if(Ua[n][0]>e.y)--n;else if(Ua[n+1][0]<=e.y)++n;else break;var r=Ua[n],i=5*(e.y-r[0])/(Ua[n+1][0]-r[0]);i=NT(function(s){return(Fl(r,s)-e.y)/TT(r,s)},i,te,100),e.x/=Fl(_f[n],i),e.y=(5*n+i)*At,t.y<0&&(e.y=-e.y)}return e.x=ae(e.x+this.long0),e}var AT=["Robinson","robin"];const kT={init:CT,forward:LT,inverse:PT,names:AT};function DT(){this.name="geocent"}function IT(t){var e=Wp(t,this.es,this.a);return e}function RT(t){var e=Hp(t,this.es,this.a,this.b);return e}var $T=["Geocentric","geocentric","geocent","Geocent"];const FT={init:DT,forward:IT,inverse:RT,names:$T};var Vt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Ba={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function VT(){if(Object.keys(Ba).forEach(function(n){if(typeof this[n]>"u")this[n]=Ba[n].def;else{if(Ba[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);Ba[n].num&&(this[n]=parseFloat(this[n]))}Ba[n].degrees&&(this[n]=this[n]*At)}.bind(this)),Math.abs(Math.abs(this.lat0)-q)<te?this.mode=this.lat0<0?Vt.S_POLE:Vt.N_POLE:Math.abs(this.lat0)<te?this.mode=Vt.EQUIT:(this.mode=Vt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function jT(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i,s;switch(this.mode){case Vt.OBLIQ:s=this.sinph0*e+this.cosph0*n*r;break;case Vt.EQUIT:s=n*r;break;case Vt.S_POLE:s=-e;break;case Vt.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),i=s*n*Math.sin(t.x),this.mode){case Vt.OBLIQ:s*=this.cosph0*e-this.sinph0*n*r;break;case Vt.EQUIT:s*=e;break;case Vt.N_POLE:s*=-(n*r);break;case Vt.S_POLE:s*=n*r;break}var a,o;return a=s*this.cg+i*this.sg,o=1/(a*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*o,s=a*o,t.x=i*this.a,t.y=s*this.a,t}function GT(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,r,i;i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var s=Hn(t.x,t.y);if(Math.abs(s)<te)e.x=0,e.y=t.y;else{var a,o;switch(o=1-s*s*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/s+s/this.pn1),a=Math.sqrt(1-o*o),this.mode){case Vt.OBLIQ:e.y=Math.asin(a*this.sinph0+t.y*o*this.cosph0/s),t.y=(a-this.sinph0*Math.sin(e.y))*s,t.x*=o*this.cosph0;break;case Vt.EQUIT:e.y=Math.asin(t.y*o/s),t.y=a*s,t.x*=o;break;case Vt.N_POLE:e.y=Math.asin(a),t.y=-t.y;break;case Vt.S_POLE:e.y=-Math.asin(a);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var UT=["Tilted_Perspective","tpers"];const BT={init:VT,forward:jT,inverse:GT,names:UT};function qT(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function WT(t){var e=t.x,n=t.y,r,i,s,a;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var o=this.radius_p/Hn(this.radius_p*Math.cos(n),Math.sin(n));if(i=o*Math.cos(e)*Math.cos(n),s=o*Math.sin(e)*Math.cos(n),a=o*Math.sin(n),(this.radius_g-i)*i-s*s-a*a*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/Hn(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/Hn(s,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(e)*r,s=Math.sin(e)*r,a=Math.sin(n),r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/Hn(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/Hn(s,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function HT(t){var e=-1,n=0,r=0,i,s,a,o;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Hn(1,r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Hn(1,n));var l=r/this.radius_p;if(i=n*n+l*l+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var zT=["Geostationary Satellite View","Geostationary_Satellite","geos"];const YT={init:qT,forward:WT,inverse:HT,names:zT};function XT(t){t.Proj.projections.add(Dl),t.Proj.projections.add(Il),t.Proj.projections.add(tM),t.Proj.projections.add(fM),t.Proj.projections.add(yM),t.Proj.projections.add(wM),t.Proj.projections.add(NM),t.Proj.projections.add(kM),t.Proj.projections.add(FM),t.Proj.projections.add(BM),t.Proj.projections.add(aO),t.Proj.projections.add(hO),t.Proj.projections.add(yO),t.Proj.projections.add(SO),t.Proj.projections.add(NO),t.Proj.projections.add(kO),t.Proj.projections.add(FO),t.Proj.projections.add(BO),t.Proj.projections.add(XO),t.Proj.projections.add(eT),t.Proj.projections.add(sT),t.Proj.projections.add(cT),t.Proj.projections.add(pT),t.Proj.projections.add(bT),t.Proj.projections.add(MT),t.Proj.projections.add(kT),t.Proj.projections.add(FT),t.Proj.projections.add(BT),t.Proj.projections.add(YT)}Ft.defaultDatum="WGS84",Ft.Proj=dr,Ft.WGS84=new Ft.Proj("WGS84"),Ft.Point=Ds,Ft.toPoint=Kp,Ft.defs=Kt,Ft.nadgrid=rx,Ft.transform=Al,Ft.mgrs=_x,Ft.version="__VERSION__",XT(Ft);function KT(){var t,e,n;Ft.defs("EPSG:32632","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs"),Ft.defs("EPSG:32631","+proj=utm +zone=31 +datum=WGS84 +units=m +no_defs"),Ft.defs("EPSG:2169","+proj=tmerc +lat_0=49.83333333333334 +lon_0=6.166666666666667 +k=1 +x_0=80000 +y_0=100000 +ellps=intl +towgs84=-189.681,18.3463,-42.7695,-0.33746,-3.09264,2.53861,0.4598 +units=m +no_defs"),Li.register(Ft),(t=yt.get("EPSG:32632"))==null||t.setExtent([166021.44,0,833978.55,932900518e-2]),(e=yt.get("EPSG:32631"))==null||e.setExtent([166021.44,0,833978.55,932900518e-2]),(n=yt.get("EPSG:2169"))==null||n.setExtent([48225.17,56225.6,105842.04,139616.4])}function _g(t,e,n){const r=de(t);class i extends bf{constructor(a){super(r,a,e,n)}}return ct(i,"def",r),i}const ZT=typeof HTMLElement<"u"?HTMLElement:class{};class bf extends ZT{constructor(n,r={},i={},s){super();ct(this,"_instance",null);ct(this,"_connected",!1);ct(this,"_resolved",!1);ct(this,"_numberProps",null);ct(this,"_styles");ct(this,"_slots");this._def=n,this._props=r,this._config=i,this._config=nt({shadowRoot:!0},this._config),this._config.shadowRoot?this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def)):s&&s(this._createVNode(),this._root)}get _root(){return this._config.shadowRoot?this.shadowRoot:this}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Zo(()=>{this._connected||(np(null,this._root),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const n=(i,s=!1)=>{const{props:a,styles:o}=i;let l;if(a&&!he(a))for(const u in a){const f=a[u];(f===Number||f&&f.type===Number)&&(u in this._props&&(this._props[u]=ic(this._props[u])),(l||(l=Object.create(null)))[dn(u)]=!0)}this._numberProps=l,s&&this._resolveProps(i),this._applyStyles(o),this._update()},r=this._def.__asyncLoader;r?r().then(i=>n(i,!0)):n(this._def)}_resolveProps(n){const{props:r}=n,i=he(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(dn))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(a){this._setProp(s,a)}})}_setAttr(n){let r=this.getAttribute(n);const i=dn(n);this._numberProps&&this._numberProps[i]&&(r=ic(r)),this._setProp(i,r,!1)}_getProp(n){return this._props[n]}_setProp(n,r,i=!0,s=!0){r!==this._props[n]&&(this._props[n]=r,s&&this._instance&&this._update(),i&&(r===!0?this.setAttribute(nn(n),""):typeof r=="string"||typeof r=="number"?this.setAttribute(nn(n),r+""):r||this.removeAttribute(nn(n))))}_update(){np(this._createVNode(),this._root)}_createVNode(){const n=ne(this._def,nt({},this._props));return this._instance||(n.ce=r=>{this._instance=r,r.isCE=!0;const i=(a,o)=>{this.dispatchEvent(new CustomEvent(a,{detail:o}))};r.emit=(a,...o)=>{i(a,o),nn(a)!==a&&i(nn(a),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof bf){r.parent=s._instance,r.provides=s._instance.provides;break}}),n}_applyStyles(n){n&&n.forEach(r=>{const i=document.createElement("style");i.textContent=r,this._root.appendChild(i)})}}const eR="";var qa=(t=>(t.INFO="alert-info",t.WARNING="alert-warning",t.ERROR="alert-danger",t))(qa||{});const JT=qa.INFO,QT=7e3,e2=4e3,Vl=Qi("alert-notifications",()=>{const t=Se([]);function e(r,i=JT,s){const a={message:r,type:i,duration:s!=null?s:i===qa.WARNING?e2:QT};t.value.push(a)}function n(r){t.value.splice(r,1)}return{notifications:t,addNotification:e,removeNotification:n}},{}),t2=de({__name:"notification-item",props:{notification:{type:null,required:!0}},emits:["close"],setup(t){const e=t,n=et(!0);function r(i,s){setTimeout(()=>{n.value=!1},e.notification.duration),s()}return(i,s)=>{const a=Mc("dompurify-html");return A(),$e(pl,{name:"fade-out",appear:"","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0",onEnter:r,onAfterLeave:s[0]||(s[0]=o=>i.$emit("close"))},{default:ni(()=>[b(n)?il((A(),F("div",{key:0,class:Le(["lux-alert",`lux-${e.notification.type}`]),role:"alert"},null,2)),[[a,e.notification.message]]):$("v-if",!0)]),_:1})}}}),ge=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},n2=ge(t2,[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/alert-notifications/notification-item.vue"]]),r2={key:0,class:"lux-notifications fixed w-[500px] top-10 left-1/2 ml-[-250px] z-50"},bg=ge(de({__name:"alert-notifications",setup(t){const e=Vl(),{notifications:n}=Fe(e);function r(i){e.removeNotification(i)}return(i,s)=>(A(),$e(Nm,{to:"body"},[b(n).length?(A(),F("div",r2,[(A(!0),F(Re,null,On(b(n),(a,o)=>(A(),$e(n2,{key:o,notification:a,onClose:()=>r(o)},null,8,["notification","onClose"]))),128))])):$("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/alert-notifications/alert-notifications.vue"]]),i2={class:"lux-dropdown"},s2={class:"h-full"},a2=["aria-expanded"],o2=L("span",{class:"lux-caret"},null,-1),l2={class:"lux-dropdown-wrapper"},u2=["aria-label","data-value"],Ef=ge(de({__name:"dropdown-list",props:{placeholder:{type:String,required:!0},options:{type:Array,required:!0,default:()=>[{label:"Default label",value:"Default value"}]},modelValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=et(!1),i=et();function s(u){r.value=u===void 0?!r.value:u}function a(u){u.stopImmediatePropagation(),s()}function o(u){i.value=u.target.dataset.value,e("change",i.value)}function l(){s(!1)}return gn(()=>document.addEventListener("click",l)),ri(()=>document.removeEventListener("click",l)),(u,f)=>{var c,h;return A(),F("div",i2,[L("div",s2,[L("button",{type:"button",class:Le(["lux-btn lux-dropdown-btn",b(r)?"expanded":""]),"aria-expanded":b(r),"aria-haspopup":"true",onClick:a},[L("span",null,ue((h=n.placeholder)!=null?h:(c=n.options[0])==null?void 0:c.label),1),o2],10,a2)]),L("div",l2,[L("ul",{class:Le(["lux-dropdown-list",b(r)?"":"hidden"]),tabindex:"-1"},[(A(!0),F(Re,null,On(n.options,d=>(A(),F("li",{key:d.value,class:Le(t.modelValue===d.value?"selected":"")},[L("button",{class:"lux-dropdown-list-item","aria-label":d.ariaLabel,"data-value":d.value,onClick:o},ue(d.label),9,u2)],2))),128))],2)])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/dropdown-list.vue"]]),Wa="EPSG:3857",Eg="EPSG:4326",c2="EPSG:2169";let wf;const wg=et();function mr(){function t(){return wf}function e(){return wg.value=wf=new H_.default({view:new z_.default({zoom:10,center:[682439,6379152],multiWorld:!0}),controls:[],keyboardEventTarget:document}),wf}function n(f,c){return f.id===c.id}function r(f,c){return f===c}function i(f,c){var h;return(h=f.layers)==null?void 0:h.some(d=>n(d,c))}function s(f,c){var d;const h=(d=f==null?void 0:f.layers)==null?void 0:d.find(m=>n(m,c));return!r(h,c)}function a(f,c){return!(c===null||!("layers"in f)||!("layers"in c)||typeof c.layers>"u"||typeof f.layers>"u"||f.layers===c.layers)}function o(f,c){return!("layers"in f)||typeof f.layers>"u"?[]:c===null||!("layers"in c)?f.layers.map((h,d)=>({layer:h,position:d})):f.layers===c.layers?[]:f.layers.reduce((h,d,m)=>i(c,d)?h:[...h,{layer:d,position:m}],[])}function l(f,c){return a(f,c)?c.layers.reduce((h,d)=>i(f,d)?h:[...h,d],[]):[]}function u(f,c){return a(f,c)?f.layers.reduce((h,d)=>s(c,d)?[...h,d]:h,[]):[]}return{olMap:wg,getOlMap:t,createMap:e,equalsLayer:n,hasLayer:i,layerHasChanged:s,contextHasChanged:a,getAddedLayers:o,getRemovedLayers:l,getMutatedLayers:u}}const Ha=new Map;function zn(t){return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(t)}function pr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f2(t,e){if(zn(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sg(t){var e=f2(t,"string");return zn(e)==="symbol"?e:String(e)}function xg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sg(r.key),r)}}function gr(t,e,n){return e&&xg(t.prototype,e),n&&xg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sf(t,e){return Sf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sf(t,e)}function jl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sf(t,e)}function za(t,e){if(e&&(zn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(t)}function yr(t){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yr(t)}function di(t,e,n){return e=Sg(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h2(t){if(Array.isArray(t))return t}function d2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m2(t,e){if(!!t){if(typeof t=="string")return Mg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mg(t,e)}}function p2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g2(t){return h2(t)||d2(t)||m2(t)||p2()}function Og(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Og(Object(n),!0).forEach(function(r){di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Og(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var y2={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},v2=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pr(this,t),this.init(e,n)}return gr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||y2,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,Tg(Tg({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),vr=new v2,mi=function(){function t(){pr(this,t),this.observers={}}return gr(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(!!this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var a=[].concat(this.observers[n]);a.forEach(function(l){l.apply(void 0,i)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(l){l.apply(l,[n].concat(i))})}}}]),t}();function Ya(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function Ng(t){return t==null?"":""+t}function _2(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function xf(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var a=r(s.shift());!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function Cg(t,e,n){var r=xf(t,e,Object),i=r.obj,s=r.k;i[s]=n}function b2(t,e,n,r){var i=xf(t,e,Object),s=i.obj,a=i.k;s[a]=s[a]||[],r&&(s[a]=s[a].concat(n)),r||s[a].push(n)}function Gl(t,e){var n=xf(t,e),r=n.obj,i=n.k;if(!!r)return r[i]}function Lg(t,e,n){var r=Gl(t,n);return r!==void 0?r:Gl(e,n)}function Pg(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):Pg(t[r],e[r],n):t[r]=e[r]);return t}function js(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var E2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function w2(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return E2[e]}):t}var Ul=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,S2=[" ",",","?","!",";"];function x2(t,e,n){e=e||"",n=n||"";var r=S2.filter(function(o){return e.indexOf(o)<0&&n.indexOf(o)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(o){return o==="?"?"\\?":o}).join("|"),")")),s=!i.test(t);if(!s){var a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s}function Ag(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ag(Object(n),!0).forEach(function(r){di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ag(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M2(t){var e=O2();return function(){var r=yr(t),i;if(e){var s=yr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return za(this,i)}}function O2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var a=2,o=r.slice(s,s+a).join(n),l=i[o];l===void 0&&r.length>s+a;)a++,o=r.slice(s,s+a).join(n),l=i[o];if(l===void 0)return;if(l===null)return null;if(e.endsWith(o)){if(typeof l=="string")return l;if(o&&typeof l[o]=="string")return l[o]}var u=r.slice(s+a).join(n);return u?kg(l,u,n):void 0}i=i[r[s]]}return i}}var T2=function(t){jl(n,t);var e=M2(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return pr(this,n),i=e.call(this),Ul&&mi.call(hi(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return gr(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[i,s];a&&typeof a!="string"&&(f=f.concat(a)),a&&typeof a=="string"&&(f=f.concat(l?a.split(l):a)),i.indexOf(".")>-1&&(f=i.split("."));var c=Gl(this.data,f);return c||!u||typeof a!="string"?c:kg(this.data&&this.data[i]&&this.data[i][s],a,l)}},{key:"addResource",value:function(i,s,a,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=this.options.keySeparator;u===void 0&&(u=".");var f=[i,s];a&&(f=f.concat(u?a.split(u):a)),i.indexOf(".")>-1&&(f=i.split("."),o=s,s=f[1]),this.addNamespaces(s),Cg(this.data,f,o),l.silent||this.emit("added",i,s,a,o)}},{key:"addResources",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in a)(typeof a[l]=="string"||Object.prototype.toString.apply(a[l])==="[object Array]")&&this.addResource(i,s,l,a[l],{silent:!0});o.silent||this.emit("added",i,s,a)}},{key:"addResourceBundle",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[i,s];i.indexOf(".")>-1&&(f=i.split("."),o=a,a=s,s=f[1]),this.addNamespaces(s);var c=Gl(this.data,f)||{};o?Pg(c,a,l):c=Bl(Bl({},c),a),Cg(this.data,f,c),u.silent||this.emit("added",i,s,a)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Bl(Bl({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),a=s&&Object.keys(s)||[];return!!a.find(function(o){return s[o]&&Object.keys(s[o]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(mi),Dg={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var a=this;return e.forEach(function(o){a.processors[o]&&(n=a.processors[o].process(n,r,i,s))}),n}};function Ig(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ig(Object(n),!0).forEach(function(r){di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ig(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N2(t){var e=C2();return function(){var r=yr(t),i;if(e){var s=yr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return za(this,i)}}function C2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Rg={},$g=function(t){jl(n,t);var e=N2(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pr(this,n),i=e.call(this),Ul&&mi.call(hi(i)),_2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,hi(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=vr.create("translator"),i}return gr(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var a=this.resolve(i,s);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(i,s){var a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS||[],u=a&&i.indexOf(a)>-1,f=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!x2(i,a,o);if(u&&!f){var c=i.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:i,namespaces:l};var h=i.split(a);(a!==o||a===o&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),i=h.join(o)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,a){var o=this;if(zn(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=this.extractFromKey(i[i.length-1],s),c=f.key,h=f.namespaces,d=h[h.length-1],m=s.lng||this.language,p=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(p){var g=s.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(d).concat(g).concat(c),usedKey:c,exactUsedKey:c,usedLng:m,usedNS:d}:"".concat(d).concat(g).concat(c)}return l?{res:c,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:d}:c}var v=this.resolve(i,s),y=v&&v.res,E=v&&v.usedKey||c,w=v&&v.exactUsedKey||c,x=Object.prototype.toString.apply(y),P=["[object Number]","[object Function]","[object RegExp]"],k=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,T=typeof y!="string"&&typeof y!="boolean"&&typeof y!="number";if(C&&y&&T&&P.indexOf(x)<0&&!(typeof k=="string"&&x==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,y,Jt(Jt({},s),{},{ns:h})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return l?(v.res=N,v):N}if(u){var B=x==="[object Array]",R=B?[]:{},ie=B?w:E;for(var O in y)if(Object.prototype.hasOwnProperty.call(y,O)){var j="".concat(ie).concat(u).concat(O);R[O]=this.translate(j,Jt(Jt({},s),{joinArrays:!1,ns:h})),R[O]===j&&(R[O]=y[O])}y=R}}else if(C&&typeof k=="string"&&x==="[object Array]")y=y.join(k),y&&(y=this.extendTranslation(y,i,s,a));else{var Z=!1,Q=!1,oe=s.count!==void 0&&typeof s.count!="string",Ee=n.hasDefaultValue(s),ln=oe?this.pluralResolver.getSuffix(m,s.count,s):"",at=s["defaultValue".concat(ln)]||s.defaultValue;!this.isValidLookup(y)&&Ee&&(Z=!0,y=at),this.isValidLookup(y)||(Q=!0,y=c);var Ie=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,wn=Ie&&Q?void 0:y,Je=Ee&&at!==y&&this.options.updateMissing;if(Q||Z||Je){if(this.logger.log(Je?"updateKey":"missingKey",m,d,c,Je?at:y),u){var ps=this.resolve(c,Jt(Jt({},s),{},{keySeparator:!1}));ps&&ps.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Xe=[],Et=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Et&&Et[0])for(var Rn=0;Rn<Et.length;Rn++)Xe.push(Et[Rn]);else this.options.saveMissingTo==="all"?Xe=this.languageUtils.toResolveHierarchy(s.lng||this.language):Xe.push(s.lng||this.language);var Ci=function(Sn,Mr,_){var S=Ee&&_!==y?_:wn;o.options.missingKeyHandler?o.options.missingKeyHandler(Sn,d,Mr,S,Je,s):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(Sn,d,Mr,S,Je,s),o.emit("missingKey",Sn,d,Mr,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&oe?Xe.forEach(function(un){o.pluralResolver.getSuffixes(un,s).forEach(function(Sn){Ci([un],c+Sn,s["defaultValue".concat(Sn)]||at)})}):Ci(Xe,c,at))}y=this.extendTranslation(y,i,s,v,a),Q&&y===c&&this.options.appendNamespaceToMissingKey&&(y="".concat(d,":").concat(c)),(Q||Z)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(c):c,Z?y:void 0):y=this.options.parseMissingKeyHandler(y))}return l?(v.res=y,v):y}},{key:"extendTranslation",value:function(i,s,a,o,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Jt(Jt({},this.options.interpolation.defaultVariables),a),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(Jt(Jt({},a),{interpolation:Jt(Jt({},this.options.interpolation),a.interpolation)}));var f=typeof i=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(f){var h=i.match(this.interpolator.nestingRegexp);c=h&&h.length}var d=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(d=Jt(Jt({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,a.lng||this.language,a),f){var m=i.match(this.interpolator.nestingRegexp),p=m&&m.length;c<p&&(a.nest=!1)}a.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var y=arguments.length,E=new Array(y),w=0;w<y;w++)E[w]=arguments[w];return l&&l[0]===E[0]&&!a.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(E[0]," in key: ").concat(s[0])),null):u.translate.apply(u,E.concat([s]))},a)),a.interpolation&&this.interpolator.reset()}var g=a.postProcess||this.options.postProcess,v=typeof g=="string"?[g]:g;return i!=null&&v&&v.length&&a.applyPostProcessor!==!1&&(i=Dg.handle(v,i,s,this.options&&this.options.postProcessPassResolved?Jt({i18nResolved:o},a):a,this)),i}},{key:"resolve",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,l,u,f,c;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!s.isValidLookup(o)){var d=s.extractFromKey(h,a),m=d.key;l=m;var p=d.namespaces;s.options.fallbackNS&&(p=p.concat(s.options.fallbackNS));var g=a.count!==void 0&&typeof a.count!="string",v=g&&!a.ordinal&&a.count===0&&s.pluralResolver.shouldUseIntlApi(),y=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",E=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);p.forEach(function(w){s.isValidLookup(o)||(c=w,!Rg["".concat(E[0],"-").concat(w)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(c)&&(Rg["".concat(E[0],"-").concat(w)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(E.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(function(x){if(!s.isValidLookup(o)){f=x;var P=[m];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(P,m,x,w,a);else{var k;g&&(k=s.pluralResolver.getSuffix(x,a.count,a));var C="".concat(s.options.pluralSeparator,"zero");if(g&&(P.push(m+k),v&&P.push(m+C)),y){var T="".concat(m).concat(s.options.contextSeparator).concat(a.context);P.push(T),g&&(P.push(T+k),v&&P.push(T+C))}}for(var N;N=P.pop();)s.isValidLookup(o)||(u=N,o=s.getResource(x,w,N,a))}}))})}}),{res:o,usedKey:l,exactUsedKey:u,usedLng:f,usedNS:c}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,a,o):this.resourceStore.getResource(i,s,a,o)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&s===a.substring(0,s.length)&&i[a]!==void 0)return!0;return!1}}]),n}(mi);function Mf(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Fg=function(){function t(e){pr(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vr.create("languageUtils")}return gr(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Mf(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Mf(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=Mf(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var a=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(a))&&(i=a)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var a=r.getLanguagePartFromCode(s);if(r.isSupportedCode(a))return i=a;i=r.options.supportedLngs.find(function(o){if(o.indexOf(a)===0)return o})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),a=[],o=function(u){!u||(i.isSupportedCode(u)?a.push(u):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(n))):typeof n=="string"&&o(this.formatLanguageCode(n)),s.forEach(function(l){a.indexOf(l)<0&&o(i.formatLanguageCode(l))}),a}}]),t}(),L2=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],P2={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},A2=["v1","v2","v3"],Vg={zero:0,one:1,two:2,few:3,many:4,other:5};function k2(){var t={};return L2.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:P2[e.fc]}})}),t}var D2=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pr(this,t),this.languageUtils=e,this.options=n,this.logger=vr.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=k2()}return gr(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(a,o){return Vg[a]-Vg[o]}).map(function(a){return"".concat(r.options.prepend).concat(a)}):s.numbers.map(function(a){return r.getSuffix(n,a,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),a=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var o=function(){return i.options.prepend&&a.toString()?i.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?o():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!A2.includes(this.options.compatibilityJSON)}}]),t}();function jg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jg(Object(n),!0).forEach(function(r){di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var I2=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pr(this,t),this.logger=vr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return gr(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:w2,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?js(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?js(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?js(r.nestingPrefix):r.nestingPrefixEscaped||js("$t("),this.nestingSuffix=r.nestingSuffix?js(r.nestingSuffix):r.nestingSuffixEscaped||js(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var a=this,o,l,u,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(g){return g.replace(/\$/g,"$$$$")}var h=function(v){if(v.indexOf(a.formatSeparator)<0){var y=Lg(r,f,v);return a.alwaysFormat?a.format(y,void 0,i,Yn(Yn(Yn({},s),r),{},{interpolationkey:v})):y}var E=v.split(a.formatSeparator),w=E.shift().trim(),x=E.join(a.formatSeparator).trim();return a.format(Lg(r,f,w),x,i,Yn(Yn(Yn({},s),r),{},{interpolationkey:w}))};this.resetRegExp();var d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,p=[{regex:this.regexpUnescape,safeValue:function(v){return c(v)}},{regex:this.regexp,safeValue:function(v){return a.escapeValue?c(a.escape(v)):c(v)}}];return p.forEach(function(g){for(u=0;o=g.regex.exec(n);){var v=o[1].trim();if(l=h(v),l===void 0)if(typeof d=="function"){var y=d(n,o,s);l=typeof y=="string"?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))l="";else if(m){l=o[0];continue}else a.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(n)),l="";else typeof l!="string"&&!a.useRawValueToEscape&&(l=Ng(l));var E=g.safeValue(l);if(n=n.replace(o[0],E),m?(g.regex.lastIndex+=l.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,u++,u>=a.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,l;function u(d,m){var p=this.nestingOptionsSeparator;if(d.indexOf(p)<0)return d;var g=d.split(new RegExp("".concat(p,"[ ]*{"))),v="{".concat(g[1]);d=g[0],v=this.interpolate(v,l);var y=v.match(/'/g),E=v.match(/"/g);(y&&y.length%2===0&&!E||E.length%2!==0)&&(v=v.replace(/'/g,'"'));try{l=JSON.parse(v),m&&(l=Yn(Yn({},m),l))}catch(w){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),w),"".concat(d).concat(p).concat(v)}return delete l.defaultValue,d}for(;a=this.nestingRegexp.exec(n);){var f=[];l=Yn({},s),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var c=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var h=a[1].split(this.formatSeparator).map(function(d){return d.trim()});a[1]=h.shift(),f=h,c=!0}if(o=r(u.call(this,a[1].trim(),l),l),o&&a[0]===n&&typeof o!="string")return o;typeof o!="string"&&(o=Ng(o)),o||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(n)),o=""),c&&(o=f.reduce(function(d,m){return i.format(d,m,s.lng,Yn(Yn({},s),{},{interpolationkey:a[1].trim()}))},o.trim())),n=n.replace(a[0],o),this.regexp.lastIndex=0}return n}}]),t}();function Gg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gg(Object(n),!0).forEach(function(r){di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R2(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(a){if(!!a){var o=a.split(":"),l=g2(o),u=l[0],f=l.slice(1),c=f.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=c),c==="false"&&(n[u.trim()]=!1),c==="true"&&(n[u.trim()]=!0),isNaN(c)||(n[u.trim()]=parseInt(c,10))}})}}return{formatName:e,formatOptions:n}}function Gs(t){var e={};return function(r,i,s){var a=i+JSON.stringify(s),o=e[a];return o||(o=t(i,s),e[a]=o),o(r)}}var $2=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pr(this,t),this.logger=vr.create("formatter"),this.options=e,this.formats={number:Gs(function(n,r){var i=new Intl.NumberFormat(n,Dr({},r));return function(s){return i.format(s)}}),currency:Gs(function(n,r){var i=new Intl.NumberFormat(n,Dr(Dr({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:Gs(function(n,r){var i=new Intl.DateTimeFormat(n,Dr({},r));return function(s){return i.format(s)}}),relativetime:Gs(function(n,r){var i=new Intl.RelativeTimeFormat(n,Dr({},r));return function(s){return i.format(s,r.range||"day")}}),list:Gs(function(n,r){var i=new Intl.ListFormat(n,Dr({},r));return function(s){return i.format(s)}})},this.init(e)}return gr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=Gs(r)}},{key:"format",value:function(n,r,i){var s=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=r.split(this.formatSeparator),l=o.reduce(function(u,f){var c=R2(f),h=c.formatName,d=c.formatOptions;if(s.formats[h]){var m=u;try{var p=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},g=p.locale||p.lng||a.locale||a.lng||i;m=s.formats[h](u,g,Dr(Dr(Dr({},d),a),p))}catch(v){s.logger.warn(v)}return m}else s.logger.warn("there was no format function for ".concat(h));return u},n);return l}}]),t}();function Ug(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ug(Object(n),!0).forEach(function(r){di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ug(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F2(t){var e=V2();return function(){var r=yr(t),i;if(e){var s=yr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return za(this,i)}}function V2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j2(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var G2=function(t){jl(n,t);var e=F2(n);function n(r,i,s){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return pr(this,n),a=e.call(this),Ul&&mi.call(hi(a)),a.backend=r,a.store=i,a.services=s,a.languageUtils=s.languageUtils,a.options=o,a.logger=vr.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(s,o.backend,o),a}return gr(n,[{key:"queueLoad",value:function(i,s,a,o){var l=this,u={},f={},c={},h={};return i.forEach(function(d){var m=!0;s.forEach(function(p){var g="".concat(d,"|").concat(p);!a.reload&&l.store.hasResourceBundle(d,p)?l.state[g]=2:l.state[g]<0||(l.state[g]===1?f[g]===void 0&&(f[g]=!0):(l.state[g]=1,m=!1,f[g]===void 0&&(f[g]=!0),u[g]===void 0&&(u[g]=!0),h[p]===void 0&&(h[p]=!0)))}),m||(c[d]=!0)}),(Object.keys(u).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(u),pending:Object.keys(f),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,s,a){var o=i.split("|"),l=o[0],u=o[1];s&&this.emit("failedLoading",l,u,s),a&&this.store.addResourceBundle(l,u,a),this.state[i]=s?-1:2;var f={};this.queue.forEach(function(c){b2(c.loaded,[l],u),j2(c,i),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(function(h){f[h]||(f[h]={});var d=c.loaded[h];d.length&&d.forEach(function(m){f[h][m]===void 0&&(f[h][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(i,s,a){var o=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:a,tried:l,wait:u,callback:f});return}this.readingCalls++;var c=function(p,g){if(o.readingCalls--,o.waitingReads.length>0){var v=o.waitingReads.shift();o.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(p&&g&&l<o.maxRetries){setTimeout(function(){o.read.call(o,i,s,a,l+1,u*2,f)},u);return}f(p,g)},h=this.backend[a].bind(this.backend);if(h.length===2){try{var d=h(i,s);d&&typeof d.then=="function"?d.then(function(m){return c(null,m)}).catch(c):c(null,d)}catch(m){c(m)}return}return h(i,s,c)}},{key:"prepareLoading",value:function(i,s){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,o,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(f){a.loadOne(f)})}},{key:"load",value:function(i,s,a){this.prepareLoading(i,s,{},a)}},{key:"reload",value:function(i,s,a){this.prepareLoading(i,s,{reload:!0},a)}},{key:"loadOne",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=i.split("|"),l=o[0],u=o[1];this.read(l,u,"read",void 0,void 0,function(f,c){f&&s.logger.warn("".concat(a,"loading namespace ").concat(u," for language ").concat(l," failed"),f),!f&&c&&s.logger.log("".concat(a,"loaded namespace ").concat(u," for language ").concat(l),c),s.loaded(i,f,c)})}},{key:"saveMissing",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var c=Bg(Bg({},u),{},{isUpdate:l}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var d;h.length===5?d=h(i,s,a,o,c):d=h(i,s,a,o),d&&typeof d.then=="function"?d.then(function(m){return f(null,m)}).catch(f):f(null,d)}catch(m){f(m)}else h(i,s,a,o,f,c)}!i||!i[0]||this.store.addResource(i[0],s,a,o)}}}]),n}(mi);function qg(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(zn(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),zn(e[2])==="object"||zn(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Wg(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Hg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hg(Object(n),!0).forEach(function(r){di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U2(t){var e=B2();return function(){var r=yr(t),i;if(e){var s=yr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return za(this,i)}}function B2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ql(){}function q2(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var Wl=function(t){jl(n,t);var e=U2(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(pr(this,n),r=e.call(this),Ul&&mi.call(hi(r)),r.options=Wg(i),r.services={},r.logger=vr,r.modules={external:[]},q2(hi(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),za(r,hi(r));setTimeout(function(){r.init(i,s)},0)}return r}return gr(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var o=qg();this.options=_r(_r(_r({},o),this.options),Wg(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=_r(_r({},o.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function l(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?vr.init(l(this.modules.logger),this.options):vr.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=$2);var f=new Fg(this.options);this.store=new T2(this.options.resources,this.options);var c=this.services;c.logger=vr,c.resourceStore=this.store,c.languageUtils=f,c.pluralResolver=new D2(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(c.formatter=l(u),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new I2(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new G2(l(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(v){for(var y=arguments.length,E=new Array(y>1?y-1:0),w=1;w<y;w++)E[w-1]=arguments[w];i.emit.apply(i,[v].concat(E))}),this.modules.languageDetector&&(c.languageDetector=l(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=l(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new $g(this.services,this.options),this.translator.on("*",function(v){for(var y=arguments.length,E=new Array(y>1?y-1:0),w=1;w<y;w++)E[w-1]=arguments[w];i.emit.apply(i,[v].concat(E))}),this.modules.external.forEach(function(v){v.init&&v.init(i)})}if(this.format=this.options.interpolation.format,a||(a=ql),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(v){i[v]=function(){var y;return(y=i.store)[v].apply(y,arguments)}});var m=["addResource","addResources","addResourceBundle","removeResourceBundle"];m.forEach(function(v){i[v]=function(){var y;return(y=i.store)[v].apply(y,arguments),i}});var p=Ya(),g=function(){var y=function(w,x){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),p.resolve(x),a(w,x)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return y(null,i.t.bind(i));i.changeLanguage(i.options.lng,y)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),p}},{key:"loadResources",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ql,o=a,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(o=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return o();var u=[],f=function(d){if(!!d){var m=s.services.languageUtils.toResolveHierarchy(d);m.forEach(function(p){u.indexOf(p)<0&&u.push(p)})}};if(l)f(l);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(h){return f(h)})}this.options.preload&&this.options.preload.forEach(function(h){return f(h)}),this.services.backendConnector.load(u,this.options.ns,function(h){!h&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),o(h)})}else o(null)}},{key:"reloadResources",value:function(i,s,a){var o=Ya();return i||(i=this.languages),s||(s=this.options.ns),a||(a=ql),this.services.backendConnector.reload(i,s,function(l){o.resolve(),a(l)}),o}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&Dg.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(i,s){var a=this;this.isLanguageChangingTo=i;var o=Ya();this.emit("languageChanging",i);var l=function(h){a.language=h,a.languages=a.services.languageUtils.toResolveHierarchy(h),a.resolvedLanguage=void 0,a.setResolvedLanguage(h)},u=function(h,d){d?(l(d),a.translator.changeLanguage(d),a.isLanguageChangingTo=void 0,a.emit("languageChanged",d),a.logger.log("languageChanged",d)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),s&&s(h,function(){return a.t.apply(a,arguments)})},f=function(h){!i&&!h&&a.services.languageDetector&&(h=[]);var d=typeof h=="string"?h:a.services.languageUtils.getBestMatchFromCodes(h);d&&(a.language||l(d),a.translator.language||a.translator.changeLanguage(d),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(d)),a.loadResources(d,function(m){u(m,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),o}},{key:"getFixedT",value:function(i,s,a){var o=this,l=function u(f,c){var h;if(zn(c)!=="object"){for(var d=arguments.length,m=new Array(d>2?d-2:0),p=2;p<d;p++)m[p-2]=arguments[p];h=o.options.overloadTranslationOptionHandler([f,c].concat(m))}else h=_r({},c);h.lng=h.lng||u.lng,h.lngs=h.lngs||u.lngs,h.ns=h.ns||u.ns,h.keyPrefix=h.keyPrefix||a||u.keyPrefix;var g=o.options.keySeparator||".",v;return h.keyPrefix&&Array.isArray(f)?v=f.map(function(y){return"".concat(h.keyPrefix).concat(g).concat(y)}):v=h.keyPrefix?"".concat(h.keyPrefix).concat(g).concat(f):f,o.t(v,h)};return typeof i=="string"?l.lng=i:l.lngs=i,l.ns=s,l.keyPrefix=a,l}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var f=function(d,m){var p=s.services.backendConnector.state["".concat(d,"|").concat(m)];return p===-1||p===2};if(a.precheck){var c=a.precheck(this,f);if(c!==void 0)return c}return!!(this.hasResourceBundle(o,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(o,i)&&(!l||f(u,i)))}},{key:"loadNamespaces",value:function(i,s){var a=this,o=Ya();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){a.options.ns.indexOf(l)<0&&a.options.ns.push(l)}),this.loadResources(function(l){o.resolve(),s&&s(l)}),o):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var a=Ya();typeof i=="string"&&(i=[i]);var o=this.options.preload||[],l=i.filter(function(u){return o.indexOf(u)<0});return l.length?(this.options.preload=o.concat(l),this.loadResources(function(u){a.resolve(),s&&s(u)}),a):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new Fg(qg());return s.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ql,o=_r(_r(_r({},this.options),s),{isClone:!0}),l=new n(o);(s.debug!==void 0||s.prefix!==void 0)&&(l.logger=l.logger.clone(s));var u=["store","services","language"];return u.forEach(function(f){l[f]=i[f]}),l.services=_r({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new $g(l.services,l.options),l.translator.on("*",function(f){for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];l.emit.apply(l,[f].concat(h))}),l.init(o,a),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(mi);di(Wl,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Wl(t,e)});var it=Wl.createInstance();it.createInstance=Wl.createInstance,it.createInstance,it.dir,it.init,it.loadResources,it.reloadResources,it.use,it.changeLanguage,it.getFixedT,it.t,it.exists,it.setDefaultNamespace,it.hasLoadedNamespace,it.loadNamespaces,it.loadLanguages;const W2="/";var zg=(t=>(t.PNG="image/png",t.JPG="image/jpeg",t))(zg||{}),Ir=(t=>(t.VALUE="value",t.RANGE="range",t))(Ir||{}),Hl=(t=>(t.DATEPICKER="datepicker",t.SLIDER="slider",t))(Hl||{});function Yg(t,{i18next:e,rerenderOn:n=["languageChanged","loaded","added","removed"]}){const r=e.t.bind(e),i=Se(new Date),s=()=>i.value=new Date,a=()=>i.value;n.forEach(f=>{var c;switch(f){case"added":case"removed":(c=e.store)==null||c.on(f,s);break;default:e.on(f,s);break}}),t.component("i18next",H2),t.mixin({beforeCreate(){var f,c;const h=this.$options;if(!h.__i18n&&!h.i18nOptions){this.__translate=void 0;return}const d=this.$options.name,m=(Math.random()*10**8|0).toString(),p=[d,m].filter(x=>!!x).join("-");this.__bundles=[];const g=x=>{Object.entries(x).forEach(([P,k])=>{e.addResourceBundle(P,p,k,!0,!1),this.__bundles.push([P,p])})};(f=h.__i18n)==null||f.forEach(x=>{g(JSON.parse(x))});let{lng:v,ns:y,keyPrefix:E}=u(h,g);(c=this.__bundles)!=null&&c.length&&(y=[p].concat(y!=null?y:[]));const w=o(v,y);this.__translate=(x,P)=>!E||l(x)?w(x,P):w(E+"."+x,P)},unmounted(){var f;(f=this.__bundles)==null||f.forEach(([c,h])=>e.removeResourceBundle(c,h))}}),t.config.globalProperties.$t=function(f,c){var h;return a(),e.isInitialized?((h=this==null?void 0:this.__translate)!=null?h:r)(f,c):f},t.config.globalProperties.$i18next=new Proxy(e,{get(f,c){return a(),Reflect.get(f,c)}});function o(f,c){return f?e.getFixedT(f,c):c?e.getFixedT(null,c):r}function l(f){const c=e.options.nsSeparator;return typeof c=="string"&&f.includes(c)}function u(f,c){let h,d,m;if(f.i18nOptions){let p,g;({lng:h,namespaces:g=e.options.defaultNS,keyPrefix:m,messages:p}=f.i18nOptions),p&&c(p),d=typeof g=="string"?[g]:g,d&&e.loadNamespaces(d)}return{lng:h,ns:d,keyPrefix:m}}}function Ze(){const t=hl();if(!t)throw new Error("i18next-vue: No Vue instance in context. Make sure to register the i18next-vue plugin using app.use(...).");const e=t.appContext.config.globalProperties;return{i18next:e.$i18next,t:e.$t.bind(t.proxy)}}var Xg=new RegExp("{\\s*([a-z0-9\\-]+)\\s*}","gi"),H2=de({props:{translation:{type:String,required:!0}},setup(t,{slots:e}){return()=>{const n=t.translation,r=[];let i,s=0;for(;(i=Xg.exec(n))!==null;){r.push(n.substring(s,i.index));const a=e[i[1]];a?r.push(...a()):r.push(i[0]),s=Xg.lastIndex}return r.push(n.substring(s)),r}}});class ns extends Error{}class z2 extends ns{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Y2 extends ns{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class X2 extends ns{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Xa extends ns{}class Kg extends ns{constructor(e){super(`Invalid unit ${e}`)}}class Ln extends ns{}class pi extends ns{constructor(){super("Zone is an abstract class")}}const ee="numeric",Xn="short",yn="long",zl={year:ee,month:ee,day:ee},Zg={year:ee,month:Xn,day:ee},K2={year:ee,month:Xn,day:ee,weekday:Xn},Jg={year:ee,month:yn,day:ee},Qg={year:ee,month:yn,day:ee,weekday:yn},ey={hour:ee,minute:ee},ty={hour:ee,minute:ee,second:ee},ny={hour:ee,minute:ee,second:ee,timeZoneName:Xn},ry={hour:ee,minute:ee,second:ee,timeZoneName:yn},iy={hour:ee,minute:ee,hourCycle:"h23"},sy={hour:ee,minute:ee,second:ee,hourCycle:"h23"},ay={hour:ee,minute:ee,second:ee,hourCycle:"h23",timeZoneName:Xn},oy={hour:ee,minute:ee,second:ee,hourCycle:"h23",timeZoneName:yn},ly={year:ee,month:ee,day:ee,hour:ee,minute:ee},uy={year:ee,month:ee,day:ee,hour:ee,minute:ee,second:ee},cy={year:ee,month:Xn,day:ee,hour:ee,minute:ee},fy={year:ee,month:Xn,day:ee,hour:ee,minute:ee,second:ee},Z2={year:ee,month:Xn,day:ee,weekday:Xn,hour:ee,minute:ee},hy={year:ee,month:yn,day:ee,hour:ee,minute:ee,timeZoneName:Xn},dy={year:ee,month:yn,day:ee,hour:ee,minute:ee,second:ee,timeZoneName:Xn},my={year:ee,month:yn,day:ee,weekday:yn,hour:ee,minute:ee,timeZoneName:yn},py={year:ee,month:yn,day:ee,weekday:yn,hour:ee,minute:ee,second:ee,timeZoneName:yn};class Ka{get type(){throw new pi}get name(){throw new pi}get ianaName(){return this.name}get isUniversal(){throw new pi}offsetName(e,n){throw new pi}formatOffset(e,n){throw new pi}offset(e){throw new pi}equals(e){throw new pi}get isValid(){throw new pi}}let Of=null;class Yl extends Ka{static get instance(){return Of===null&&(Of=new Yl),Of}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Oy(e,n,r)}formatOffset(e,n){return eo(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Xl={};function J2(t){return Xl[t]||(Xl[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Xl[t]}const Q2={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function eN(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,a,o,l,u,f]=r;return[a,i,s,o,l,u,f]}function tN(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:a}=n[i],o=Q2[s];s==="era"?r[o]=a:Ae(o)||(r[o]=parseInt(a,10))}return r}let Kl={};class Rr extends Ka{static create(e){return Kl[e]||(Kl[e]=new Rr(e)),Kl[e]}static resetCache(){Kl={},Xl={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Rr.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Oy(e,n,r,this.name)}formatOffset(e,n){return eo(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=J2(this.name);let[i,s,a,o,l,u,f]=r.formatToParts?tN(r,n):eN(r,n);o==="BC"&&(i=-Math.abs(i)+1);const h=eu({year:i,month:s,day:a,hour:l===24?0:l,minute:u,second:f,millisecond:0});let d=+n;const m=d%1e3;return d-=m>=0?m:1e3+m,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let gy={};function nN(t,e={}){const n=JSON.stringify([t,e]);let r=gy[n];return r||(r=new Intl.ListFormat(t,e),gy[n]=r),r}let Tf={};function Nf(t,e={}){const n=JSON.stringify([t,e]);let r=Tf[n];return r||(r=new Intl.DateTimeFormat(t,e),Tf[n]=r),r}let Cf={};function rN(t,e={}){const n=JSON.stringify([t,e]);let r=Cf[n];return r||(r=new Intl.NumberFormat(t,e),Cf[n]=r),r}let Lf={};function iN(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=Lf[i];return s||(s=new Intl.RelativeTimeFormat(t,e),Lf[i]=s),s}let Za=null;function sN(){return Za||(Za=new Intl.DateTimeFormat().resolvedOptions().locale,Za)}function aN(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=Nf(t).resolvedOptions(),i=t}catch{const l=t.substring(0,n);r=Nf(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:a}=r;return[i,s,a]}}function oN(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function lN(t){const e=[];for(let n=1;n<=12;n++){const r=xe.utc(2009,n,1);e.push(t(r))}return e}function uN(t){const e=[];for(let n=1;n<=7;n++){const r=xe.utc(2016,11,13+n);e.push(t(r))}return e}function Zl(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function cN(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class fN{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...a}=r;if(!n||Object.keys(a).length>0){const o={useGrouping:!1,...r};r.padTo>0&&(o.minimumIntegerDigits=r.padTo),this.inf=rN(e,o)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):kf(e,3);return _t(n,this.padTo)}}}class hN{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&Rr.create(o).valid?(i=o,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=Nf(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class dN{constructor(e,n,r){this.opts={style:"long",...r},!n&&xy()&&(this.rtf=iN(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):PN(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}class tt{static fromOpts(e){return tt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,r,i=!1){const s=e||vt.defaultLocale,a=s||(i?"en-US":sN()),o=n||vt.defaultNumberingSystem,l=r||vt.defaultOutputCalendar;return new tt(a,o,l,s)}static resetCache(){Za=null,Tf={},Cf={},Lf={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r}={}){return tt.create(e,n,r)}constructor(e,n,r,i){const[s,a,o]=aN(e);this.locale=s,this.numberingSystem=n||a||null,this.outputCalendar=r||o||null,this.intl=oN(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=cN(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:tt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return Zl(this,e,Cy,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=lN(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return Zl(this,e,Ay,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=uN(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Zl(this,void 0,()=>ky,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[xe.utc(2016,11,13,9),xe.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Zl(this,e,Dy,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[xe.utc(-40,1,1),xe.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new fN(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new hN(e,this.intl,n)}relFormatter(e={}){return new dN(this.intl,this.isEnglish(),e)}listFormatter(e={}){return nN(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Pf=null;class Qt extends Ka{static get utcInstance(){return Pf===null&&(Pf=new Qt(0)),Pf}static instance(e){return e===0?Qt.utcInstance:new Qt(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Qt(nu(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${eo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${eo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return eo(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class mN extends Ka{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function gi(t,e){if(Ae(t)||t===null)return e;if(t instanceof Ka)return t;if(pN(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Yl.instance:n==="utc"||n==="gmt"?Qt.utcInstance:Qt.parseSpecifier(n)||Rr.create(t)}else return rs(t)?Qt.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new mN(t)}let yy=()=>Date.now(),vy="system",_y=null,by=null,Ey=null,wy=60,Sy;class vt{static get now(){return yy}static set now(e){yy=e}static set defaultZone(e){vy=e}static get defaultZone(){return gi(vy,Yl.instance)}static get defaultLocale(){return _y}static set defaultLocale(e){_y=e}static get defaultNumberingSystem(){return by}static set defaultNumberingSystem(e){by=e}static get defaultOutputCalendar(){return Ey}static set defaultOutputCalendar(e){Ey=e}static get twoDigitCutoffYear(){return wy}static set twoDigitCutoffYear(e){wy=e%100}static get throwOnInvalid(){return Sy}static set throwOnInvalid(e){Sy=e}static resetCaches(){tt.resetCache(),Rr.resetCache()}}function Ae(t){return typeof t>"u"}function rs(t){return typeof t=="number"}function Jl(t){return typeof t=="number"&&t%1===0}function pN(t){return typeof t=="string"}function gN(t){return Object.prototype.toString.call(t)==="[object Date]"}function xy(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function yN(t){return Array.isArray(t)?t:[t]}function My(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function vN(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Us(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $r(t,e,n){return Jl(t)&&t>=e&&t<=n}function _N(t,e){return t-e*Math.floor(t/e)}function _t(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function yi(t){if(!(Ae(t)||t===null||t===""))return parseInt(t,10)}function is(t){if(!(Ae(t)||t===null||t===""))return parseFloat(t)}function Af(t){if(!(Ae(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function bN(t){return t>0?Math.floor(t):Math.ceil(t)}function kf(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Ja(t){return t%4===0&&(t%100!==0||t%400===0)}function Qa(t){return Ja(t)?366:365}function Ql(t,e){const n=_N(e-1,12)+1,r=t+(e-n)/12;return n===2?Ja(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function eu(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function tu(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||r===3?53:52}function Df(t){return t>99?t:t>vt.twoDigitCutoffYear?1900+t:2e3+t}function Oy(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const a={timeZoneName:e,...s},o=new Intl.DateTimeFormat(n,a).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function nu(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function Ty(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Ln(`Invalid unit value ${t}`);return e}function ru(t,e){const n={};for(const r in t)if(Us(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=Ty(i)}return n}function eo(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${_t(n,2)}:${_t(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${_t(n,2)}${_t(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function iu(t){return vN(t,["hour","minute","second","millisecond"])}const EN=["January","February","March","April","May","June","July","August","September","October","November","December"],Ny=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wN=["J","F","M","A","M","J","J","A","S","O","N","D"];function Cy(t){switch(t){case"narrow":return[...wN];case"short":return[...Ny];case"long":return[...EN];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Ly=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Py=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],SN=["M","T","W","T","F","S","S"];function Ay(t){switch(t){case"narrow":return[...SN];case"short":return[...Py];case"long":return[...Ly];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ky=["AM","PM"],xN=["Before Christ","Anno Domini"],MN=["BC","AD"],ON=["B","A"];function Dy(t){switch(t){case"narrow":return[...ON];case"short":return[...MN];case"long":return[...xN];default:return null}}function TN(t){return ky[t.hour<12?0:1]}function NN(t,e){return Ay(e)[t.weekday-1]}function CN(t,e){return Cy(e)[t.month-1]}function LN(t,e){return Dy(e)[t.year<0?0:1]}function PN(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const c=t==="days";switch(e){case 1:return c?"tomorrow":`next ${i[t][0]}`;case-1:return c?"yesterday":`last ${i[t][0]}`;case 0:return c?"today":`this ${i[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,u=i[t],f=r?l?u[1]:u[2]||u[1]:l?i[t][0]:t;return a?`${o} ${f} ago`:`in ${o} ${f}`}function Iy(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const AN={D:zl,DD:Zg,DDD:Jg,DDDD:Qg,t:ey,tt:ty,ttt:ny,tttt:ry,T:iy,TT:sy,TTT:ay,TTTT:oy,f:ly,ff:cy,fff:hy,ffff:my,F:uy,FF:fy,FFF:dy,FFFF:py};class jt{static create(e,n={}){return new jt(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||o===n?r+=o:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=o,n=o)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return AN[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return _t(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(d,m)=>this.loc.extract(e,d,m),a=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>r?TN(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,m)=>r?CN(e,d):s(m?{month:d}:{month:d,day:"numeric"},"month"),u=(d,m)=>r?NN(e,d):s(m?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),f=d=>{const m=jt.macroTokenToFormatOpts(d);return m?this.formatWithSystemDefault(e,m):d},c=d=>r?LN(e,d):s({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(d)}};return Iy(jt.parseFormat(n),h)}formatDurationFromString(e,n){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>u=>{const f=r(u);return f?this.num(l.get(f),u.length):u},s=jt.parseFormat(n),a=s.reduce((l,{literal:u,val:f})=>u?l:l.concat(f),[]),o=e.shiftTo(...a.map(r).filter(l=>l));return Iy(s,i(o))}}class Kn{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Ry=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Bs(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function qs(...t){return e=>t.reduce(([n,r,i],s)=>{const[a,o,l]=s(e,i);return[{...n,...a},o||r,l]},[{},null,1]).slice(0,2)}function Ws(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function $y(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=yi(e[n+i]);return[r,null,n+i]}}const Fy=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,kN=`(?:${Fy.source}?(?:\\[(${Ry.source})\\])?)?`,If=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Vy=RegExp(`${If.source}${kN}`),Rf=RegExp(`(?:T${Vy.source})?`),DN=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,IN=/(\d{4})-?W(\d\d)(?:-?(\d))?/,RN=/(\d{4})-?(\d{3})/,$N=$y("weekYear","weekNumber","weekDay"),FN=$y("year","ordinal"),VN=/(\d{4})-(\d\d)-(\d\d)/,jy=RegExp(`${If.source} ?(?:${Fy.source}|(${Ry.source}))?`),jN=RegExp(`(?: ${jy.source})?`);function Hs(t,e,n){const r=t[e];return Ae(r)?n:yi(r)}function GN(t,e){return[{year:Hs(t,e),month:Hs(t,e+1,1),day:Hs(t,e+2,1)},null,e+3]}function zs(t,e){return[{hours:Hs(t,e,0),minutes:Hs(t,e+1,0),seconds:Hs(t,e+2,0),milliseconds:Af(t[e+3])},null,e+4]}function to(t,e){const n=!t[e]&&!t[e+1],r=nu(t[e+1],t[e+2]),i=n?null:Qt.instance(r);return[{},i,e+3]}function no(t,e){const n=t[e]?Rr.create(t[e]):null;return[{},n,e+1]}const UN=RegExp(`^T?${If.source}$`),BN=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function qN(t){const[e,n,r,i,s,a,o,l,u]=t,f=e[0]==="-",c=l&&l[0]==="-",h=(d,m=!1)=>d!==void 0&&(m||d&&f)?-d:d;return[{years:h(is(n)),months:h(is(r)),weeks:h(is(i)),days:h(is(s)),hours:h(is(a)),minutes:h(is(o)),seconds:h(is(l),l==="-0"),milliseconds:h(Af(u),c)}]}const WN={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function $f(t,e,n,r,i,s,a){const o={year:e.length===2?Df(yi(e)):yi(e),month:Ny.indexOf(n)+1,day:yi(r),hour:yi(i),minute:yi(s)};return a&&(o.second=yi(a)),t&&(o.weekday=t.length>3?Ly.indexOf(t)+1:Py.indexOf(t)+1),o}const HN=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function zN(t){const[,e,n,r,i,s,a,o,l,u,f,c]=t,h=$f(e,i,r,n,s,a,o);let d;return l?d=WN[l]:u?d=0:d=nu(f,c),[h,new Qt(d)]}function YN(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const XN=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,KN=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ZN=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Gy(t){const[,e,n,r,i,s,a,o]=t;return[$f(e,i,r,n,s,a,o),Qt.utcInstance]}function JN(t){const[,e,n,r,i,s,a,o]=t;return[$f(e,o,n,r,i,s,a),Qt.utcInstance]}const QN=Bs(DN,Rf),eC=Bs(IN,Rf),tC=Bs(RN,Rf),nC=Bs(Vy),Uy=qs(GN,zs,to,no),rC=qs($N,zs,to,no),iC=qs(FN,zs,to,no),sC=qs(zs,to,no);function aC(t){return Ws(t,[QN,Uy],[eC,rC],[tC,iC],[nC,sC])}function oC(t){return Ws(YN(t),[HN,zN])}function lC(t){return Ws(t,[XN,Gy],[KN,Gy],[ZN,JN])}function uC(t){return Ws(t,[BN,qN])}const cC=qs(zs);function fC(t){return Ws(t,[UN,cC])}const hC=Bs(VN,jN),dC=Bs(jy),mC=qs(zs,to,no);function pC(t){return Ws(t,[hC,Uy],[dC,mC])}const By="Invalid Duration",qy={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},gC={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...qy},Pn=146097/400,Ys=146097/4800,yC={years:{quarters:4,months:12,weeks:Pn/7,days:Pn,hours:Pn*24,minutes:Pn*24*60,seconds:Pn*24*60*60,milliseconds:Pn*24*60*60*1e3},quarters:{months:3,weeks:Pn/28,days:Pn/4,hours:Pn*24/4,minutes:Pn*24*60/4,seconds:Pn*24*60*60/4,milliseconds:Pn*24*60*60*1e3/4},months:{weeks:Ys/7,days:Ys,hours:Ys*24,minutes:Ys*24*60,seconds:Ys*24*60*60,milliseconds:Ys*24*60*60*1e3},...qy},ss=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Wy=ss.slice(0).reverse();function vi(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new ke(r)}function Hy(t){return Math.trunc(t*1e3)/1e3}function zy(t,e,n,r,i){const s=t[i][n],a=e[n]/s,o=bN(a);r[i]=Hy(r[i]+o),e[n]=Hy(e[n]-o*s)}function vC(t,e){Wy.reduce((n,r)=>Ae(e[r])?n:(n&&zy(t,e,n,e,r),r),null)}function _C(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class ke{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?yC:gC;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||tt.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return ke.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new Ln(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new ke({values:ru(e,ke.normalizeUnit),loc:tt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(rs(e))return ke.fromMillis(e);if(ke.isDuration(e))return e;if(typeof e=="object")return ke.fromObject(e);throw new Ln(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=uC(e);return r?ke.fromObject(r,n):ke.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=fC(e);return r?ke.fromObject(r,n):ke.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new Ln("need to specify a reason the Duration is invalid");const r=e instanceof Kn?e:new Kn(e,n);if(vt.throwOnInvalid)throw new X2(r);return new ke({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Kg(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?jt.create(this.loc,r).formatDurationFromString(this,e):By}toHuman(e={}){if(!this.isValid)return By;const n=ss.map(r=>{const i=this.values[r];return Ae(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=kf(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},xe.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){var n;if(!this.isValid)return NaN;let e=(n=this.values.milliseconds)!=null?n:0;for(let r of Wy.slice(1))this.values[r]&&(e+=this.values[r]*this.matrix[r].milliseconds);return e}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=ke.fromDurationLike(e),r={};for(const i of ss)(Us(n.values,i)||Us(this.values,i))&&(r[i]=n.get(i)+this.get(i));return vi(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=ke.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=Ty(e(this.values[r],r));return vi(this,{values:n},!0)}get(e){return this[ke.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...ru(e,ke.normalizeUnit)};return vi(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return vi(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return this.valueOf()>=0?(vC(this.matrix,e),vi(this,{values:e},!0)):this.negate().normalize().negate()}rescale(){if(!this.isValid)return this;const e=_C(this.normalize().shiftToAll().toObject());return vi(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>ke.normalizeUnit(a));const n={},r={},i=this.toObject();let s;for(const a of ss)if(e.indexOf(a)>=0){s=a;let o=0;for(const u in r)o+=this.matrix[u][a]*r[u],r[u]=0;rs(i[a])&&(o+=i[a]);const l=Math.trunc(o);n[a]=l,r[a]=(o*1e3-l*1e3)/1e3;for(const u in i)ss.indexOf(u)>ss.indexOf(a)&&zy(this.matrix,i,u,n,a)}else rs(i[a])&&(r[a]=i[a]);for(const a in r)r[a]!==0&&(n[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return vi(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return vi(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of ss)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Xs="Invalid Interval";function bC(t,e){return!t||!t.isValid?ht.invalid("missing or invalid start"):!e||!e.isValid?ht.invalid("missing or invalid end"):e<t?ht.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ht{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new Ln("need to specify a reason the Interval is invalid");const r=e instanceof Kn?e:new Kn(e,n);if(vt.throwOnInvalid)throw new Y2(r);return new ht({invalid:r})}static fromDateTimes(e,n){const r=io(e),i=io(n),s=bC(r,i);return s==null?new ht({start:r,end:i}):s}static after(e,n){const r=ke.fromDurationLike(n),i=io(e);return ht.fromDateTimes(i,i.plus(r))}static before(e,n){const r=ke.fromDurationLike(n),i=io(e);return ht.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,a;try{s=xe.fromISO(r,n),a=s.isValid}catch{a=!1}let o,l;try{o=xe.fromISO(i,n),l=o.isValid}catch{l=!1}if(a&&l)return ht.fromDateTimes(s,o);if(a){const u=ke.fromISO(i,n);if(u.isValid)return ht.after(s,u)}else if(l){const u=ke.fromISO(r,n);if(u.isValid)return ht.before(o,u)}}return ht.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?ht.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(io).filter(a=>this.contains(a)).sort(),r=[];let{s:i}=this,s=0;for(;i<this.e;){const a=n[s]||this.e,o=+a>+this.e?this.e:a;r.push(ht.fromDateTimes(i,o)),i=o,s+=1}return r}splitBy(e){const n=ke.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const a=[];for(;r<this.e;){const o=this.start.plus(n.mapUnits(l=>l*i));s=+o>+this.e?this.e:o,a.push(ht.fromDateTimes(r,s)),r=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:ht.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return ht.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,u)=>l.time-u.time);for(const l of o)r+=l.type==="s"?1:-1,r===1?n=l.time:(n&&+n!=+l.time&&i.push(ht.fromDateTimes(n,l.time)),n=null);return ht.merge(i)}difference(...e){return ht.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Xs}toLocaleString(e=zl,n={}){return this.isValid?jt.create(this.s.loc.clone(n),e).formatInterval(this):Xs}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Xs}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Xs}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Xs}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Xs}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):ke.invalid(this.invalidReason)}mapEndpoints(e){return ht.fromDateTimes(e(this.s),e(this.e))}}class su{static hasDST(e=vt.defaultZone){const n=xe.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Rr.isValidZone(e)}static normalizeZone(e){return gi(e,vt.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||tt.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||tt.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||tt.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||tt.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return tt.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return tt.create(n,null,"gregory").eras(e)}static features(){return{relative:xy()}}}function Yy(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(ke.fromMillis(r).as("days"))}function EC(t,e,n){const r=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const f=Yy(l,u);return(f-f%7)/7}],["days",Yy]],i={},s=t;let a,o;for(const[l,u]of r)n.indexOf(l)>=0&&(a=l,i[l]=u(t,e),o=s.plus(i),o>e?(i[l]--,t=s.plus(i),t>e&&(o=t,i[l]--,t=s.plus(i))):t=o);return[t,i,o,a]}function wC(t,e,n,r){let[i,s,a,o]=EC(t,e,n);const l=e-i,u=n.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(a<e&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+l/(a-i)));const f=ke.fromObject(s,r);return u.length>0?ke.fromMillis(l,r).shiftTo(...u).plus(f):f}const Ff={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Xy={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},SC=Ff.hanidec.replace(/[\[|\]]/g,"").split("");function xC(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(Ff.hanidec)!==-1)e+=SC.indexOf(t[n]);else for(const i in Xy){const[s,a]=Xy[i];r>=s&&r<=a&&(e+=r-s)}}return parseInt(e,10)}else return e}function Zn({numberingSystem:t},e=""){return new RegExp(`${Ff[t||"latn"]}${e}`)}const MC="missing Intl.DateTimeFormat.formatToParts support";function Ve(t,e=n=>n){return{regex:t,deser:([n])=>e(xC(n))}}const Ky=`[ ${String.fromCharCode(160)}]`,Zy=new RegExp(Ky,"g");function OC(t){return t.replace(/\./g,"\\.?").replace(Zy,Ky)}function Jy(t){return t.replace(/\./g,"").replace(Zy," ").toLowerCase()}function Jn(t,e){return t===null?null:{regex:RegExp(t.map(OC).join("|")),deser:([n])=>t.findIndex(r=>Jy(n)===Jy(r))+e}}function Qy(t,e){return{regex:t,deser:([,n,r])=>nu(n,r),groups:e}}function au(t){return{regex:t,deser:([e])=>e}}function TC(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function NC(t,e){const n=Zn(e),r=Zn(e,"{2}"),i=Zn(e,"{3}"),s=Zn(e,"{4}"),a=Zn(e,"{6}"),o=Zn(e,"{1,2}"),l=Zn(e,"{1,3}"),u=Zn(e,"{1,6}"),f=Zn(e,"{1,9}"),c=Zn(e,"{2,4}"),h=Zn(e,"{4,6}"),d=g=>({regex:RegExp(TC(g.val)),deser:([v])=>v,literal:!0}),p=(g=>{if(t.literal)return d(g);switch(g.val){case"G":return Jn(e.eras("short"),0);case"GG":return Jn(e.eras("long"),0);case"y":return Ve(u);case"yy":return Ve(c,Df);case"yyyy":return Ve(s);case"yyyyy":return Ve(h);case"yyyyyy":return Ve(a);case"M":return Ve(o);case"MM":return Ve(r);case"MMM":return Jn(e.months("short",!0),1);case"MMMM":return Jn(e.months("long",!0),1);case"L":return Ve(o);case"LL":return Ve(r);case"LLL":return Jn(e.months("short",!1),1);case"LLLL":return Jn(e.months("long",!1),1);case"d":return Ve(o);case"dd":return Ve(r);case"o":return Ve(l);case"ooo":return Ve(i);case"HH":return Ve(r);case"H":return Ve(o);case"hh":return Ve(r);case"h":return Ve(o);case"mm":return Ve(r);case"m":return Ve(o);case"q":return Ve(o);case"qq":return Ve(r);case"s":return Ve(o);case"ss":return Ve(r);case"S":return Ve(l);case"SSS":return Ve(i);case"u":return au(f);case"uu":return au(o);case"uuu":return Ve(n);case"a":return Jn(e.meridiems(),0);case"kkkk":return Ve(s);case"kk":return Ve(c,Df);case"W":return Ve(o);case"WW":return Ve(r);case"E":case"c":return Ve(n);case"EEE":return Jn(e.weekdays("short",!1),1);case"EEEE":return Jn(e.weekdays("long",!1),1);case"ccc":return Jn(e.weekdays("short",!0),1);case"cccc":return Jn(e.weekdays("long",!0),1);case"Z":case"ZZ":return Qy(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return Qy(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return au(/[a-z_+-/]{1,256}?/i);case" ":return au(/[^\S\n\r]/);default:return d(g)}})(t)||{invalidReason:MC};return p.token=t,p}const CC={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function LC(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=n.hour12?"hour12":"hour24");let o=CC[a];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function PC(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function AC(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const a in n)if(Us(n,a)){const o=n[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function kC(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return Ae(t.z)||(n=Rr.create(t.z)),Ae(t.Z)||(n||(n=new Qt(t.Z)),r=t.Z),Ae(t.q)||(t.M=(t.q-1)*3+1),Ae(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Ae(t.u)||(t.S=Af(t.u)),[Object.keys(t).reduce((s,a)=>{const o=e(a);return o&&(s[o]=t[a]),s},{}),n,r]}let Vf=null;function DC(){return Vf||(Vf=xe.fromMillis(1555555555555)),Vf}function IC(t,e){if(t.literal)return t;const n=jt.macroTokenToFormatOpts(t.val),r=nv(n,e);return r==null||r.includes(void 0)?t:r}function ev(t,e){return Array.prototype.concat(...t.map(n=>IC(n,e)))}function tv(t,e,n){const r=ev(jt.parseFormat(n),t),i=r.map(a=>NC(a,t)),s=i.find(a=>a.invalidReason);if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};{const[a,o]=PC(i),l=RegExp(a,"i"),[u,f]=AC(e,l,o),[c,h,d]=f?kC(f):[null,null,void 0];if(Us(f,"a")&&Us(f,"H"))throw new Xa("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:l,rawMatches:u,matches:f,result:c,zone:h,specificOffset:d}}}function RC(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:a}=tv(t,e,n);return[r,i,s,a]}function nv(t,e){if(!t)return null;const r=jt.create(e,t).dtFormatter(DC()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(a=>LC(a,t,s))}const rv=[0,31,59,90,120,151,181,212,243,273,304,334],iv=[0,31,60,91,121,152,182,213,244,274,305,335];function An(t,e){return new Kn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function sv(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function av(t,e,n){return n+(Ja(t)?iv:rv)[e-1]}function ov(t,e){const n=Ja(t)?iv:rv,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function jf(t){const{year:e,month:n,day:r}=t,i=av(e,n,r),s=sv(e,n,r);let a=Math.floor((i-s+10)/7),o;return a<1?(o=e-1,a=tu(o)):a>tu(e)?(o=e+1,a=1):o=e,{weekYear:o,weekNumber:a,weekday:s,...iu(t)}}function lv(t){const{weekYear:e,weekNumber:n,weekday:r}=t,i=sv(e,1,4),s=Qa(e);let a=n*7+r-i-3,o;a<1?(o=e-1,a+=Qa(o)):a>s?(o=e+1,a-=Qa(e)):o=e;const{month:l,day:u}=ov(o,a);return{year:o,month:l,day:u,...iu(t)}}function Gf(t){const{year:e,month:n,day:r}=t,i=av(e,n,r);return{year:e,ordinal:i,...iu(t)}}function uv(t){const{year:e,ordinal:n}=t,{month:r,day:i}=ov(e,n);return{year:e,month:r,day:i,...iu(t)}}function $C(t){const e=Jl(t.weekYear),n=$r(t.weekNumber,1,tu(t.weekYear)),r=$r(t.weekday,1,7);return e?n?r?!1:An("weekday",t.weekday):An("week",t.week):An("weekYear",t.weekYear)}function FC(t){const e=Jl(t.year),n=$r(t.ordinal,1,Qa(t.year));return e?n?!1:An("ordinal",t.ordinal):An("year",t.year)}function cv(t){const e=Jl(t.year),n=$r(t.month,1,12),r=$r(t.day,1,Ql(t.year,t.month));return e?n?r?!1:An("day",t.day):An("month",t.month):An("year",t.year)}function fv(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=$r(e,0,23)||e===24&&n===0&&r===0&&i===0,a=$r(n,0,59),o=$r(r,0,59),l=$r(i,0,999);return s?a?o?l?!1:An("millisecond",i):An("second",r):An("minute",n):An("hour",e)}const Uf="Invalid DateTime",hv=864e13;function ou(t){return new Kn("unsupported zone",`the zone "${t.name}" is not supported`)}function Bf(t){return t.weekData===null&&(t.weekData=jf(t.c)),t.weekData}function as(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new xe({...n,...e,old:n})}function dv(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function lu(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function uu(t,e,n){return dv(eu(t),e,n)}function mv(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,Ql(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=ke.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=eu(s);let[l,u]=dv(o,n,t.zone);return a!==0&&(l+=a,u=t.zone.offset(l)),{ts:l,o:u}}function ro(t,e,n,r,i,s){const{setZone:a,zone:o}=n;if(t&&Object.keys(t).length!==0||e){const l=e||o,u=xe.fromObject(t,{...n,zone:l,specificOffset:s});return a?u:u.setZone(o)}else return xe.invalid(new Kn("unparsable",`the input "${i}" can't be parsed as ${r}`))}function cu(t,e,n=!0){return t.isValid?jt.create(tt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function qf(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=_t(t.c.year,n?6:4),e?(r+="-",r+=_t(t.c.month),r+="-",r+=_t(t.c.day)):(r+=_t(t.c.month),r+=_t(t.c.day)),r}function pv(t,e,n,r,i,s){let a=_t(t.c.hour);return e?(a+=":",a+=_t(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=":")):a+=_t(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=_t(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=_t(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=_t(Math.trunc(-t.o/60)),a+=":",a+=_t(Math.trunc(-t.o%60))):(a+="+",a+=_t(Math.trunc(t.o/60)),a+=":",a+=_t(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}const gv={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},VC={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},jC={ordinal:1,hour:0,minute:0,second:0,millisecond:0},yv=["year","month","day","hour","minute","second","millisecond"],GC=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],UC=["year","ordinal","hour","minute","second","millisecond"];function vv(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Kg(t);return e}function _v(t,e){const n=gi(e.zone,vt.defaultZone),r=tt.fromObject(e),i=vt.now();let s,a;if(Ae(t.year))s=i;else{for(const u of yv)Ae(t[u])&&(t[u]=gv[u]);const o=cv(t)||fv(t);if(o)return xe.invalid(o);const l=n.offset(i);[s,a]=uu(t,l,n)}return new xe({ts:s,zone:n,loc:r,o:a})}function bv(t,e,n){const r=Ae(n.round)?!0:n.round,i=(a,o)=>(a=kf(a,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,o)),s=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return i(s(n.unit),n.unit);for(const a of n.units){const o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(t>e?-0:0,n.units[n.units.length-1])}function Ev(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class xe{constructor(e){const n=e.zone||vt.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Kn("invalid input"):null)||(n.isValid?null:ou(n));this.ts=Ae(e.ts)?vt.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const o=n.offset(this.ts);i=lu(this.ts,o),r=Number.isNaN(i.year)?new Kn("invalid input"):null,i=r?null:i,s=r?null:o}this._zone=n,this.loc=e.loc||tt.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new xe({})}static local(){const[e,n]=Ev(arguments),[r,i,s,a,o,l,u]=n;return _v({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static utc(){const[e,n]=Ev(arguments),[r,i,s,a,o,l,u]=n;return e.zone=Qt.utcInstance,_v({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static fromJSDate(e,n={}){const r=gN(e)?e.valueOf():NaN;if(Number.isNaN(r))return xe.invalid("invalid input");const i=gi(n.zone,vt.defaultZone);return i.isValid?new xe({ts:r,zone:i,loc:tt.fromObject(n)}):xe.invalid(ou(i))}static fromMillis(e,n={}){if(rs(e))return e<-hv||e>hv?xe.invalid("Timestamp out of range"):new xe({ts:e,zone:gi(n.zone,vt.defaultZone),loc:tt.fromObject(n)});throw new Ln(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(rs(e))return new xe({ts:e*1e3,zone:gi(n.zone,vt.defaultZone),loc:tt.fromObject(n)});throw new Ln("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=gi(n.zone,vt.defaultZone);if(!r.isValid)return xe.invalid(ou(r));const i=vt.now(),s=Ae(n.specificOffset)?r.offset(i):n.specificOffset,a=ru(e,vv),o=!Ae(a.ordinal),l=!Ae(a.year),u=!Ae(a.month)||!Ae(a.day),f=l||u,c=a.weekYear||a.weekNumber,h=tt.fromObject(n);if((f||o)&&c)throw new Xa("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&o)throw new Xa("Can't mix ordinal dates with month/day");const d=c||a.weekday&&!f;let m,p,g=lu(i,s);d?(m=GC,p=VC,g=jf(g)):o?(m=UC,p=jC,g=Gf(g)):(m=yv,p=gv);let v=!1;for(const C of m){const T=a[C];Ae(T)?v?a[C]=p[C]:a[C]=g[C]:v=!0}const y=d?$C(a):o?FC(a):cv(a),E=y||fv(a);if(E)return xe.invalid(E);const w=d?lv(a):o?uv(a):a,[x,P]=uu(w,s,r),k=new xe({ts:x,zone:r,o:P,loc:h});return a.weekday&&f&&e.weekday!==k.weekday?xe.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${k.toISO()}`):k}static fromISO(e,n={}){const[r,i]=aC(e);return ro(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=oC(e);return ro(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=lC(e);return ro(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(Ae(e)||Ae(n))throw new Ln("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,a=tt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,l,u,f]=RC(a,e,n);return f?xe.invalid(f):ro(o,l,r,`format ${n}`,e,u)}static fromString(e,n,r={}){return xe.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=pC(e);return ro(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new Ln("need to specify a reason the DateTime is invalid");const r=e instanceof Kn?e:new Kn(e,n);if(vt.throwOnInvalid)throw new z2(r);return new xe({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=nv(e,tt.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return ev(jt.parseFormat(e),tt.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Bf(this).weekYear:NaN}get weekNumber(){return this.isValid?Bf(this).weekNumber:NaN}get weekday(){return this.isValid?Bf(this).weekday:NaN}get ordinal(){return this.isValid?Gf(this.c).ordinal:NaN}get monthShort(){return this.isValid?su.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?su.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?su.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?su.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=eu(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),a=this.zone.offset(r-i*n),o=this.zone.offset(r-s*n);if(a===o)return[this];const l=r-a*n,u=r-o*n,f=lu(l,a),c=lu(u,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[as(this,{ts:l}),as(this,{ts:u})]:[this]}get isInLeapYear(){return Ja(this.year)}get daysInMonth(){return Ql(this.year,this.month)}get daysInYear(){return this.isValid?Qa(this.year):NaN}get weeksInWeekYear(){return this.isValid?tu(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=jt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Qt.instance(e),n)}toLocal(){return this.setZone(vt.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=gi(e,vt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),a=this.toObject();[i]=uu(a,s,e)}return as(this,{ts:i,zone:e})}else return xe.invalid(ou(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return as(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=ru(e,vv),r=!Ae(n.weekYear)||!Ae(n.weekNumber)||!Ae(n.weekday),i=!Ae(n.ordinal),s=!Ae(n.year),a=!Ae(n.month)||!Ae(n.day),o=s||a,l=n.weekYear||n.weekNumber;if((o||i)&&l)throw new Xa("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&i)throw new Xa("Can't mix ordinal dates with month/day");let u;r?u=lv({...jf(this.c),...n}):Ae(n.ordinal)?(u={...this.toObject(),...n},Ae(n.day)&&(u.day=Math.min(Ql(u.year,u.month),u.day))):u=uv({...Gf(this.c),...n});const[f,c]=uu(u,this.o,this.zone);return as(this,{ts:f,o:c})}plus(e){if(!this.isValid)return this;const n=ke.fromDurationLike(e);return as(this,mv(this,n))}minus(e){if(!this.isValid)return this;const n=ke.fromDurationLike(e).negate();return as(this,mv(this,n))}startOf(e){if(!this.isValid)return this;const n={},r=ke.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?jt.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Uf}toLocaleString(e=zl,n={}){return this.isValid?jt.create(this.loc.clone(n),e).formatDateTime(this):Uf}toLocaleParts(e={}){return this.isValid?jt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=qf(this,a);return o+="T",o+=pv(this,a,n,r,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?qf(this,e==="extended"):null}toISOWeekDate(){return cu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+pv(this,a==="extended",n,e,r,s):null}toRFC2822(){return cu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return cu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?qf(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),cu(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Uf}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return ke.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=yN(n).map(ke.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,u=wC(o,l,s,i);return a?u.negate():u}diffNow(e="milliseconds",n={}){return this.diff(xe.now(),e,n)}until(e){return this.isValid?ht.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n)<=r&&r<=i.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||xe.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),bv(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?bv(e.base||xe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(xe.isDateTime))throw new Ln("min requires all arguments be DateTimes");return My(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(xe.isDateTime))throw new Ln("max requires all arguments be DateTimes");return My(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,a=tt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return tv(a,e,n)}static fromStringExplain(e,n,r={}){return xe.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return zl}static get DATE_MED(){return Zg}static get DATE_MED_WITH_WEEKDAY(){return K2}static get DATE_FULL(){return Jg}static get DATE_HUGE(){return Qg}static get TIME_SIMPLE(){return ey}static get TIME_WITH_SECONDS(){return ty}static get TIME_WITH_SHORT_OFFSET(){return ny}static get TIME_WITH_LONG_OFFSET(){return ry}static get TIME_24_SIMPLE(){return iy}static get TIME_24_WITH_SECONDS(){return sy}static get TIME_24_WITH_SHORT_OFFSET(){return ay}static get TIME_24_WITH_LONG_OFFSET(){return oy}static get DATETIME_SHORT(){return ly}static get DATETIME_SHORT_WITH_SECONDS(){return uy}static get DATETIME_MED(){return cy}static get DATETIME_MED_WITH_SECONDS(){return fy}static get DATETIME_MED_WITH_WEEKDAY(){return Z2}static get DATETIME_FULL(){return hy}static get DATETIME_FULL_WITH_SECONDS(){return dy}static get DATETIME_HUGE(){return my}static get DATETIME_HUGE_WITH_SECONDS(){return py}}function io(t){if(xe.isDateTime(t))return t;if(t&&t.valueOf&&rs(t.valueOf()))return xe.fromJSDate(t);if(t&&typeof t=="object")return xe.fromObject(t);throw new Ln(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const wv=[0,1,0,0];function Sv(t,e="second",n,r){const{t:i}=Ze(),s=new Date(t).toISOString(),a={year:i("yyyy"),month:i("M/yyyy"),day:i("M/d/yyyy"),second:i("M/d/yyyy HH:mm:ss")},l=(n?{year:"yyyy",month:"yyyy-MM",day:"yyyy-MM-dd",second:void 0}:a)[e];return l?xe.fromISO(s).toFormat(`${r?"UTC:":""}${l}`):s.replace(/\.\d{3}/,"")}function Wf(t){return new Date(t).toISOString().split(".")[0]+"Z"}function Hf(t){return xe.fromISO(t).toFormat("yyyy-MM-dd")}function BC(t,e){return t<=e.minValue?e.minValue:t>=e.maxValue?e.maxValue:e.timeValueList?qC(t,e):WC(t,e)}function qC(t,e){var l;const n=(l=e.timeValueList)!=null?l:[];let r,i=0,s=n.length-1;for(;s-i>1;)r=Math.floor((i+s)/2),n[r]>=t?s=r:i=r;const a=Math.abs(n[i]-t),o=Math.abs(n[s]-t);return n[a<o?i:s]}function WC(t,e){var l;const n=(l=e.timeInterval)!=null?l:wv,r=new Date(t).getTime(),i=new Date(e.minValue),s=e.maxValue;let a=e.minValue,o=Math.abs(r-a);for(let u=1;;u++){const f=new Date(i.getTime());if(f.setFullYear(i.getFullYear()+u*n[0]),f.setMonth(i.getMonth()+u*n[1],i.getDate()+u*n[2]),f.setSeconds(i.getSeconds()+u*n[3]),f.getTime()>s)break;const c=Math.abs(r-f.getTime());if(c<=o)a=f.getTime(),o=c;else break}return a}const dt=Qi("map",()=>{const t=kn(),e=Se({}),n=et([]),r=et([]),i=Se(!1),s=Se(!1),a=Se(void 0);function o(y){a.value=y}function l(...y){n.value=[...new Set([...n.value,...y])]}function u(...y){r.value=[...new Set([...r.value,...y])]}function f(...y){n.value=n.value.filter(E=>y.indexOf(E.id)===-1),r.value=r.value.filter(E=>y.indexOf(E.id)===-1)}function c(){n.value=[]}function h(y){var E;return!!((E=n.value)!=null&&E.find(w=>w.id===y))}function d(y,E=!1){var x;const w=E?r:n;w.value=[...((x=w.value)==null?void 0:x.sort((P,k)=>y.indexOf(P.id)-y.indexOf(k.id)))||[]]}function m(y,E){n.value=n.value.map(w=>w.id===y?{...w,opacity:E,previousOpacity:w.opacity}:w)}function p(y,E,w){n.value=n.value.map(x=>{if(x.id===y){const P={...x,currentTimeMinValue:E?Wf(E):void 0,currentTimeMaxValue:w?Wf(w):void 0};return P.type==="WMTS"&&(P.name=t.getLayerCurrentLabel(P)),P}return x})}function g(y){i.value=y}function v(y){s.value=y}return{map:e,layers:n,layers3d:r,is3dActive:i,is3dMesh:s,bgLayer:a,addLayers:l,add3dLayers:u,removeLayers:f,removeAllLayers:c,reorderLayers:d,setLayerOpacity:m,setLayerTime:p,setBgLayer:o,setIs3dActive:g,setIs3dMesh:v,hasLayer:h}}),HC="root_3d",zC=-222,Gt=Qi("config",()=>{const t=et(),e=Se("main"),n=me(()=>{var l;return(l=t.value)==null?void 0:l.themes}),r=me(()=>{var l;return(l=n.value)==null?void 0:l.find(u=>u.name===e.value)}),i=me(()=>{var l;return((l=t.value)==null?void 0:l.background_layers)||[]}),s=me(()=>{var u;const l=(u=n.value)==null?void 0:u.filter(f=>{var c;return((c=f.metadata)==null?void 0:c.ol3d_type)!==void 0});if(!!l)return{name:HC,id:zC,children:l.flatMap(f=>f!=null&&f.children?f.children:f),metadata:{}}});function a(l){t.value=l}function o(l){e.value=l}return{config:t,themes:n,themeName:e,theme:r,bgLayers:i,layerTrees_3d:s,setTheme:o,setThemes:a}},{});function _i(){function t(o,l){return n(o,void 0,l)}function e(o,l){return n(void 0,o,l)}function n(o,l,u){const{themes:f}=Gt();if(u=u||(f==null?void 0:f.find(c=>n(o,l,c))),o&&(u==null?void 0:u.id)===o||l&&(u==null?void 0:u.name)===l)return u;if(u!=null&&u.children)for(const c of u.children){const h=n(o,l,c);if(h)return h}}function r(o){const{layerTrees_3d:l}=Gt();return n(o,void 0,l)}function i(o){const{bgLayers:l}=Gt();return l.find(u=>u.id===o)}function s(o){const{bgLayers:l}=Gt();return l.find(u=>u.name===o)}function a(o){const{setTheme:l}=Gt();l(o)}return{findById:t,findByName:e,find3dLayerById:r,findBgLayerById:i,findBgLayerByName:s,setTheme:a}}const xv=_i();function kn(){function t(l,u){try{const f=JSON.parse(l).concat(JSON.parse(u));return new Set(f).size<f.length}catch{return!1}}function e(l){var u,f;return l.opacity=l.previousOpacity=(f=(u=l.metadata)==null?void 0:u.start_opacity)!=null?f:1,n(l),l}function n(l){var f,c,h,d,m,p,g;l.currentTimeMinValue||(l.currentTimeMinValue=(h=(f=l.time)==null?void 0:f.minDefValue)!=null?h:(c=l.time)==null?void 0:c.minValue);const u=((d=l.time)==null?void 0:d.mode)===Ir.RANGE;!l.currentTimeMaxValue&&u&&(l.currentTimeMaxValue=(g=(m=l.time)==null?void 0:m.maxDefValue)!=null?g:(p=l.time)==null?void 0:p.maxValue)}function r(l){var c,h,d;const u=i(l);let f=l.name;return u&&(f=(d=(h=(c=l.metadata)==null?void 0:c.time_layers)==null?void 0:h[u])!=null?d:f),f}function i(l){return[l.currentTimeMinValue,...l.currentTimeMaxValue?[l.currentTimeMaxValue]:[]].join(W2)}function s(l){var h,d;const u=Vl();if(!((h=l.metadata)!=null&&h.exclusion))return;const f=dt(),c=f.layers.filter(m=>{var p,g;return t((p=l==null?void 0:l.metadata)==null?void 0:p.exclusion,(g=m==null?void 0:m.metadata)==null?void 0:g.exclusion)});c.length>0&&(f.removeLayers(...c.map(m=>m.id)),u.addNotification(it.t("The layer <b>{{layersToRemove}}</b> has been removed because it cannot be displayed while the layer <b>{{layer}}</b> is displayed",{count:c.length,layersToRemove:c.map(m=>it.t(m.name,{ns:"client"})).join(", "),layer:it.t(l.name,{ns:"client"}),ns:"client"}),qa.WARNING)),l.id!==((d=f.bgLayer)==null?void 0:d.id)&&a(l)}function a(l){var c,h,d;const u=dt(),f=Vl();t((c=l.metadata)==null?void 0:c.exclusion,(d=(h=u.bgLayer)==null?void 0:h.metadata)==null?void 0:d.exclusion)&&(u.setBgLayer(null),f.addNotification(it.t("Background has been deactivated because the layer {{layer}} cannot be displayed on top of it.",{layer:it.t(l.name,{ns:"client"}),ns:"client"}),qa.WARNING))}function o(l,u=!0,f){var p;const c=Gt(),h=dt(),d=f?c.layerTrees_3d:c.theme,m=xv.findById(l,d);if(m){const g=((p=m.metadata)==null?void 0:p.linked_layers)||[];u===!1?h.removeLayers(m.id,...g):(s(m),(f?h.add3dLayers:h.addLayers)(e(m),...g.map(y=>e(xv.findById(parseInt(y,10))))))}}return{initLayer:e,getLayerCurrentLabel:r,getLayerCurrentTime:i,handleExclusionLayers:s,toggleLayer:o}}class YC{styleSerialToStyle(e){return e?JSON.parse(decodeURIComponent(e))||[]:[]}styleLocalStorageToStyle(e){return e?JSON.parse(e).medium||[]:[]}styleToSerial(e){return e&&e.length>0?JSON.stringify(e):""}styleToLocalStorage(e){return e&&e.length>0?JSON.stringify({medium:e}):""}}const fu=new YC;function Mv(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(r)},e)}}function Ks(t){return(t==null?void 0:t.trim())&&!isNaN(Number(t))?Number(t):void 0}function XC(t,e){return(t==null?void 0:t.split(e).map(n=>n!==null&&!isNaN(Number(n))?parseFloat(n):void 0))||[]}function KC(t,e){return(t==null?void 0:t.split(e).map(zf))||[]}function zf(t){return(t==null?void 0:t.trim())==="true"?!0:(t==null?void 0:t.trim())==="false"?!1:void 0}function Ov(){return window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches}function br(t){return typeof window<"u"&&window.navigator&&t.test(navigator.userAgent)}const ZC=br(/firefox/i);br(/safari/i)&&!br(/chrome/i)&&br(/android/i),br(/iP(ad|od|hone)/i),br(/chrome/i)&&br(/android/i),br(/chrome/i),br(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),br(/Edge/i);const so="ipv6",ao="applogin",oo="localforage",Zs="debug",hu="fid",bi="lang",du="layersOpen",mu="address",Yf="version",JC="map_id",Tv="layers",Nv="bgLayer",Cv="opacities",lo="theme",Lv="time",Pv="zoom",QC="SRS",Av="X",kv="Y",pu="serial",Dv=["basemap_2015_global","topogr_global","topo_bw_jpeg"],Xf="lc",Kf="sliderRatio",Iv="bgOpacity",eL="layers_indices",Rv="layers_opacity",$v="layers_visibility";var kt=(t=>(t[t.localStorage=0]="localStorage",t[t.permalink=1]="permalink",t[t.permalinkAsPath=2]="permalinkAsPath",t[t.permalinkAndLocalStorage=3]="permalinkAndLocalStorage",t))(kt||{});class Fv{}class gu extends Fv{static processRules(e){return gu.ruleUseLocalStorage(e)?kt.localStorage:kt.permalink}static processRulesForKey(e,n){if(e===lo&&{}.VITE_DEPLOY_GHPAGES!=="true")return kt.permalinkAsPath;if(Dv.includes(e))return kt.localStorage;if(e===pu)return kt.permalink;if(e===du)return kt.localStorage}static ruleUseLocalStorage(e){return[tL,nL,rL].reduce((n,r)=>n||r(e),!1)}}const tL=t=>Object.keys(t).length===0,nL=t=>Object.keys(t).length===1&&(t.hasOwnProperty(so)||t.hasOwnProperty(ao)||t.hasOwnProperty(oo)),rL=t=>Object.keys(t).length===3&&t.hasOwnProperty(so)&&t.hasOwnProperty(ao)&&t.hasOwnProperty(oo);class yu extends Fv{static processRules(){return kt.permalinkAndLocalStorage}static processRulesForKey(e,n){if(yu.ruleUsePermalink(e))return kt.permalink;if(e===du||Dv.includes(e))return kt.localStorage;if(e===pu)return kt.permalink;if(e===lo)return kt.permalinkAsPath}static ruleUsePermalink(e){return[iL,sL,aL].reduce((n,r)=>n||r(e),!1)}}const iL=t=>t===Xf||t===Kf,sL=t=>t===Yf,aL=t=>t===lo&&{}.VITE_DEPLOY_GHPAGES==="true";class Vv{constructor(){ct(this,"snappedUrl");this.snappedUrl=new URL(window.location.toString())}get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}getSnappedUrl(){return this.snappedUrl}getSnappedParamsAsObj(){return this.getSnappedParams().reduce((e,n)=>{const[r,i]=n.split("=");return{...e,[r]:i}},{})}getSnappedParams(){return this.getSnappedUrl().search.replace("?","").split("&").filter(e=>e.split("=")[1])}setItem(e,n){const r=new URLSearchParams(new URL(window.location.toString()).search);r.set(encodeURIComponent(e),encodeURIComponent(n));try{window.history.replaceState(null,"","?"+r.toString())}catch{}}getItem(e){const n=this.getSnappedUrl().searchParams.get(e);return n!==null?decodeURIComponent(n):n}removeItem(e){const n=new URLSearchParams(new URL(window.location.toString()).search);n.delete(e);try{window.history.replaceState(null,"","?"+n.toString())}catch{}}encodeQueryParam(e,n){return`${encodeURIComponent(e)}=${encodeURIComponent(n)}`}}const Zf=new Vv;class oL extends Vv{getItem(e){const n=this.getSnappedUrl().pathname.split("/"),r=n.findIndex(i=>i===e);return n[r+1]}setItem(e,n){const r=new URL(window.location.toString()).search,i=`/${e}/${n}${r}`;try{window.history.replaceState(null,"",i)}catch{}}}const lL=new oL;class uL{get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}removeItem(e){const n=this.getWriteStorages(e);n==null||n.map(r=>r.removeItem(e))}setItem(e,n){this.setValue(e,n)}getItem(e){return this.getValue(e)}get paramKeys(){return Zf.getSnappedParamsAsObj()}getValue(e){var i;const n=(i=this.correspondingStorages(gu.processRules(this.paramKeys)))==null?void 0:i.pop(),r=this.storageForKey(e,gu,n);return r?r.getItem(e):null}setValue(e,n){const r=this.getWriteStorages(e);r==null||r.map(i=>i.setItem(e,n))}getWriteStorages(e){const n=this.correspondingStorages(yu.processRules()),r=this.storageForKey(e,yu);return r?[r]:n}storageForKey(e,n,r){var s;const i=(s=this.correspondingStorages(n.processRulesForKey(e,this.paramKeys)))==null?void 0:s.pop();return i!=null?i:r}correspondingStorages(e){if(e===kt.permalinkAndLocalStorage)return[Zf,localStorage];if(e===kt.localStorage)return[localStorage];if(e===kt.permalink)return[Zf];if(e===kt.permalinkAsPath)return[lL]}}const vu=new uL;function cL(t){return fL(t)||hL(t)||dL(t)||mL(t)}const fL=t=>Object.keys(t).length===0,hL=t=>{const e=Object.keys(t);return Object.keys(t).length===1&&[so,ao,oo,hu,bi,mu,Zs].some(n=>e.indexOf(n)!==-1)},dL=t=>{const e=Object.keys(t),n=i=>e.indexOf(i)!==-1,r=[[ao,oo],[Zs,hu],[bi,hu],[Zs,bi],[Zs,mu],[bi,mu]];return Object.keys(t).length===2&&r.reduce((i,s)=>i||s.every(n),!1)},mL=t=>{const e=Object.keys(t),n=a=>e.indexOf(a)!==-1,r=[so,ao,oo].every(n),i=[Zs,hu,bi].every(n),s=[Zs,mu,bi].every(n);return Object.keys(t).length===3&&(r||i||s)};class pL{constructor(){ct(this,"intialVersion");const e=vu.paramKeys,n=this.getValue(Yf,Ks);this.intialVersion=n?Math.max(2,Math.min(n,3)):cL(e)?3:2,this.setValue(Yf,3)}getInitialVersion(){return this.intialVersion}mapToEntity(e,n){return n?n(e):e}mapToStorage(e,n){return n?n(e):String(e)}getValue(e,n){return this.mapToEntity(vu.getValue(e),n)}setValue(e,n,r){vu.setValue(e,this.mapToStorage(n,r))}removeItem(e){vu.removeItem(e)}}const Te=new pL,gL=["line","fill","symbol","fill-extrusion","background","hillshade"],Qn=()=>({bg_layers:[{icon_id:"route",vector_id:"roadmap",simple_style_class:"road",medium_style_class:"road",expert_style_class:"maputnik",id:556,is_default:!0},{icon_id:"topo",vector_id:"topomap",medium_style_class:"topo",expert_style_class:"maputnik",id:529},{icon_id:"topo_bw",vector_id:"topomap_gray",medium_style_class:"topo",expert_style_class:"maputnik",id:502},{icon_id:"ortho",id:530},{icon_id:"hybrid",id:501},{icon_id:"blank",id:0}],bg_layer_theme_defaults:{tourisme:502},simple_styles:{road:[{unlocalized_label:"Light grey",hillshade:!1,colors:["#ffffff","#ffffff","#d6e0d7","#e1e1e1","#cccccc","#f2f2f2"],selected:!1},{unlocalized_label:"Dark grey",hillshade:!1,colors:["#808080","#808080","#494b4a","#505052","#232426","#454545"],selected:!1},{unlocalized_label:"Dark sand",hillshade:!1,colors:["#9e9375","#9e9375","#6b6249","#403928","#b8aa84","#1a1814"],selected:!1},{unlocalized_label:"Kids",hillshade:!1,colors:["#f9c50d","#ffffff","#839836","#d6d3ce","#2a5ba8","#eeeeee"],selected:!1},{unlocalized_label:"Light mauve",hillshade:!1,colors:["#f3edf5","#f3edf5","#9d7da8","#caa9d1","#613b5c","#e5d3e6"],selected:!1},{unlocalized_label:"Light Blue",hillshade:!1,colors:["#dceaf5","#dceaf5","#5598cf","#81b7e3","#3b576e","#b6cde0"],selected:!1}]},medium_default_styles:{road:[{label:"Roads primary",color:"#f7f7f7",lines:["lu_road_trunk_primary","lu_bridge_major","lu_tunnel_major","lu_road_major_motorway"],visible:!0},{label:"Roads secondary",color:"#f7f7f7",lines:["lu_road_minor","lu_road_secondary_tertiary","lu_bridge_minor","lu_road_path","lu_bridge_path","lu_bridge_railway case","lu_bridge_path case"],visible:!0},{label:"Vegetation",color:"#B8D293",opacity:"1",fills:["lu_landcover_wood","lu_landcover_grass","lu_landuse_stadium","lu_landuse_cemetery"],visible:!0},{label:"Buildings",color:"#D6AA85",opacity:"1",fillExtrusions:["lu_building-3d_public","lu_building-3d"],fills:["lu_building","lu_building_public"],lines:["lu_bridge_railway","lu_railway","lu_tunnel_railway"],visible:!0},{label:"Water",color:"#94c1e1",lines:["lu_waterway","lu_waterway_tunnel","lu_waterway_intermittent"],fills:["lu_water"],visible:!0},{label:"Background",color:"#e7e7e7",backgrounds:["background"],visible:!0},{label:"Hillshade",hillshades:["hillshade"],visible:!0}],topo:[{label:"Primary Names",symbols:["lu_place-label_other","lu_place-label_city","lu_place-label_canton","lu_country-label-other","lu_country-label","place_label_other","place_label_city","country_label-other","country_label"],visible:!0},{label:"Secondary Names",symbols:["lu_place-label_isolated","lu_place-label_locality_forest","lu_place-label_locality_lieudit"],visible:!0},{label:"Transport",lines:["lu_tunnel_track-casing","lu_tunnel_major_motorway-casing","lu_tunnel_railway_transit","lu_tunnel_railway","lu_tunnel_railway-hatching","lu_tunnel_path","lu_tunnel_track","lu_tunnel_minor","lu_tunnel_major_motorway","lu_tunnel_secondary_tertiary","lu_tunnel_trunk_primary","lu_road_track-casing","lu_road_minor-casing","lu_road_major_motorway-casing","lu_road_secondary_tertiary-casing","lu_road_trunk_primary-casing","lu_road_pier","lu_road_path","lu_road_track","lu_road_minor","lu_road_major_motorway","lu_road_secondary_tertiary","lu_road_trunk_primary","lu_tram","lu_tram-hatching","lu_railway_transit","lu_railway","lu_railway-hatching","lu_bridge_railway-casing","lu_bridge_track-casing","lu_bridge_path-casing","lu_bridge_minor-casing","lu_bridge_major_motorway-casing","lu_bridge_secondary_tertiary-casing","lu_bridge_trunk_primary-casing","lu_bridge_railway","lu_bridge_path","lu_bridge_track","lu_bridge_minor","lu_bridge_major_motorway","lu_bridge_secondary_tertiary","lu_bridge_trunk_primary","tunnel_track-casing","tunnel_major_motorway-casing","tunnel_railway_transit","tunnel_railway_transit-hatching","tunnel_railway","tunnel_railway-hatching","tunnel_path","tunnel_track","tunnel_minor","tunnel_major_motorway","tunnel_secondary_tertiary","tunnel_trunk_primary","road_track-casing","road_minor-casing","road_major_motorway-casing","road_secondary_tertiary-casing","road_trunk_primary-casing","road_pier","road_path","road_track","road_minor","road_major_motorway","road_secondary_tertiary","road_trunk_primary","railway-transit","railway-transit-hatching","railway","railway-hatching","bridge_railway-casing","bridge_path-casing","bridge_track_casing","bridge_minor-casing","bridge_major_motorway-casing","bridge_secondary_tertiary-casing","bridge_trunk_primary-casing","bridge_railway","bridge_path","bridge_track","bridge_minor","bridge_major_motorway","bridge_secondary_tertiary","bridge_trunk_primary"],symbols:["lu_road_major-label","lu_motorway-shield","lu_road-shield"],visible:!0},{label:"Vegetation",fills:["lu_landuse_stadium","lu_landuse_cemetery","lu_landuse_gras","lu_landuse_park","lu_landuse_park-outline","lu_landuse_vineyard","lu_landuse_orchard","lu_landuse_wood","landcover_grass","landcover_wood"],visible:!0},{label:"Electricity",fills:["lu_power_station","lu_power_pylone"],lines:["lu_power_line","lu_power_station-outline"],symbols:["lu_power_station-label","lu_eolienne"],visible:!0},{label:"Contours and Height Points",lines:["lu_contour-100","lu_contour-50","lu_contour-20","lu_contour-10","lu_contour"],symbols:["lu_contour-label-100","lu_contour-label-20","lu_apex-label"],visible:!0},{label:"Hillshade",hillshades:["lu_hillshade"],visible:!0}]},http_bg_server:"wmts{1-2}",https_bg_server:"wmts{3-4}",bg_wmts_server_path:"mapproxy_4_v3/wmts/{Layer}",bg_wmts_tile_template:"{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}",bg_layer_projection:"EPSG:3857",olcs_extent:[5.31,49.38,6.64,50.21],olcs_extent_projection:"EPSG:3857",bg_layer_resolutions:[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],bg_matrix_ids:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"]});function os(){function t(p){const g=new URLSearchParams(document.location.search),v=g.get("embeddedserver"),y=g.get("embeddedserverprotocol")||"http";return(v?`${y}://${v}`:"https://vectortiles.geoportail.lu")+`/styles/${p}/style.json`}function e(p){return`https://vectortiles.geoportail.lu/styles/${p}/{z}/{x}/{y}.png`}function n(p){return/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi.test(p)}const r=er();function i(p,g){if(p==null)return;const v=new Map;r.bgVectorSources.forEach((y,E)=>{if(E===p.id){const w={...y,xyz_custom:g};v.set(E,w)}else v.set(E,y)}),r.setBgVectorSources(v)}function s(p,g,v=!1){const y="",E=t(g),w=e(g),x={label:p,defaultMapBoxStyle:E,defaultMapBoxStyleXYZ:w,xyz:w,xyz_custom:y,style:E},P=new URLSearchParams(window.location.search).get("serial"),k=new URLSearchParams(window.location.search).get("serialLayer");if(P)n(P)&&console.log(k);else if(!v)return Promise.resolve(x);return Promise.resolve(x)}function a(p){const g=Qn().medium_default_styles.road;if(p){p.colors.forEach((y,E)=>{g[E].color=y});const v=g.findIndex(y=>y.label==="Hillshade");g[v].visible=p.hillshade}return g}function o(p,g,v){if(!p||!g.get(p.id))return;const y=JSON.parse(JSON.stringify(g.get(p.id)));if(!!y&&!(!y||!y.layers))return v&&v.forEach(E=>{y==null||y.layers.forEach((w,x)=>{for(const P of gL)if((E[`${P}s`]||[]).includes(w.id)){const C=Object.assign({},y.layers[x].paint);E.color&&(C[`${P}-color`]=E.color,C[`${P}-opacity`]=1,y.layers[x].paint=C),y.layers[x].layout=Object.assign({},y.layers[x].layout,{visibility:E.visible?"visible":"none"})}})}),y}function l(p,g){if(p===null)return Promise.resolve();{const v=`${g.get("delete")}?id=${p}`;return fetch(v).catch(()=>"")}}function u(p,g,v){return l(g,v).then(()=>{const y=new FormData,E=JSON.stringify(p),w=new Blob([E],{type:"application/json"});y.append("style",w,"style.json");const x={method:"POST",body:y};return fetch(v.get("upload")||"",x).then(P=>P.json()).then(P=>P.id).catch(P=>console.warn(P))})}function f(p,g){if(!g)return;const v=p.maplibreMap;!v||(v.loaded()?v.setStyle(g):new Promise(y=>v.once("data",y)).then(()=>v.setStyle(g)))}function c(p){const g=Qn().bg_layers.find(v=>v.id==(p==null?void 0:p.id));return g==null?void 0:g.vector_id}function h(p){const g=Qn().bg_layers.find(v=>v.id==(p==null?void 0:p.id));return(g==null?void 0:g.vector_id)!==void 0}function d(p){const g=Qn().bg_layers.find(v=>v.id==(p==null?void 0:p.id));return{isEditable:(g==null?void 0:g.vector_id)!==void 0,hasSimpleStyle:(g==null?void 0:g.simple_style_class)!==void 0,hasAdvancedStyle:(g==null?void 0:g.medium_style_class)!==void 0,hasExpertStyle:(g==null?void 0:g.expert_style_class)!==void 0}}function m(p,g){return g.map(v=>Object.assign(v,{selected:v.colors.every((y,E)=>{var w;return((w=p[E])==null?void 0:w.color)===y})}))}return{getDefaultMapBoxStyleUrl:t,getDefaultMapBoxStyleXYZ:e,setConfigForLayer:s,getRoadStyleFromSimpleStyle:a,applyDefaultStyle:o,applyConsolidatedStyle:f,getVectorId:c,setCustomStyleSerial:i,unregisterStyle:l,registerStyle:u,checkSelection:m,isLayerStyleEditable:h,getStyleCapabilitiesFromLayer:d}}const er=Qi("style",()=>{const t=os(),e=et(),n=et(new Map),r=et(new Map),i=et(!1),s=et(null),a=et(),o=et(new Map([["get","/getvtstyle"],["upload","/uploadvtstyle"],["delete","/deletevtstyle"]])),l=[];Qn().bg_layers.forEach(v=>{if(v.vector_id){const y=t.setConfigForLayer(v.icon_id,v.vector_id);l.push(y.then(E=>({id:v.id,config:E})))}}),Promise.all(l).then(v=>{const y=new Map;v.forEach(E=>y.set(E.id,E.config)),n.value=y});function u(v,y){o.value.set(v,y)}function f(v){n.value=v}function c(v){const y=new Map;r.value.forEach((E,w)=>{w!==v&&y.set(w,E)}),r.value=y}function h(v,y){const E=new Map;r.value.forEach((w,x)=>E.set(x,w)),E.set(v,y),r.value=E}function d(v){e.value=t.getRoadStyleFromSimpleStyle(v),p()}function m(v){e.value=v,p()}function p(){i.value=!1}function g(){i.value=!0}return{bgStyle:e,bgVectorSources:n,bgVectorBaseStyles:r,isExpertStyleActive:i,appliedStyle:a,removeBaseStyle:c,setBaseStyle:h,setBgVectorSources:f,setRegisterUrl:u,setSimpleStyle:d,setStyle:m,disableExpertStyle:p,enableExpertStyle:g,styleSerial:s,registerUrls:o}},{});class yL{constructor(){ct(this,"styleWatcher")}bootstrapStyle(){const e=er();let n,r=!1;n=pn(()=>{e.bgVectorSources&&(this.restoreStyle(!1),r&&this.persistStyle(),r=!0,n&&n())})}persistStyle(){const e=er(),{bgStyle:n}=Fe(e);this.styleWatcher||(this.styleWatcher=Qe(n,(r,i)=>{if(i!==r){const s=dt();s.bgLayer&&(Te.setValue(s.bgLayer.name,r||[],fu.styleToLocalStorage),Te.setValue(pu,r||[],fu.styleToSerial))}},{immediate:!0}))}restoreStyle(e){const n=er();n.setStyle(null);const i=dt().bgLayer;if(i){let s=[];e||(s=Te.getValue(pu,fu.styleSerialToStyle)),s.length===0&&(s=Te.getValue(i.name,fu.styleLocalStorageToStyle)),s&&s.length>0&&n.setStyle(s)}}}const Jf=new yL,vL="https://map.geoportail.lu/ogcproxywms",_L="https://map.geoportail.lu/httpsproxy";class bL{constructor(){ct(this,"_wmsProxyUrl",vL);ct(this,"_remoteProxyUrl",_L)}get wmsProxyUrl(){return this._wmsProxyUrl===void 0&&console.warn("Warning: proxyWmsUrl is not set."),this._wmsProxyUrl}get remoteProxyUrl(){return this._remoteProxyUrl===void 0&&console.warn("Warning: remoteProxy is not set."),this._remoteProxyUrl}getProxyfiedUrl(e){return e.indexOf("httpsproxy")>0?e:this.remoteProxyUrl+"?url="+encodeURIComponent(e)}init_v3(e,n){e&&(this._wmsProxyUrl=e),n&&(this._remoteProxyUrl=n)}}const ls=new bL;function jv(){return yt.transformExtent([5.31,49.38,6.64,50.21],Eg,Wa)}function Gv(t){var e;return!!((e=t==null?void 0:t.metadata)!=null&&e.hasRetina)&&Ov()}function EL(t,e="https"){const n=t.imageType.split("/")[1],r=Te.getValue(so,zf)?"app.geoportail.lu":"geoportail.lu";return`${e==="https"?"//wmts{3-4}.":"//wmts{1-2}."}${r}/mapproxy_4_v3/wmts/{Layer}${Gv(t)?"_hd":""}/{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}.${n}`}class wL{createOlLayer(e){const{name:n,layers:r,imageType:i,url:s,id:a}=e,o=new Hh.default({url:s||ls.wmsProxyUrl,hidpi:Ov(),serverType:"mapserver",params:{FORMAT:i,LAYERS:r},...s!=null||ls.remoteProxyUrl?{crossOrigin:"anonymous"}:{}});return new Y_.default({properties:{"olcs.extent":jv(),label:n,id:a},source:o})}setLayerTime(e,n){const r=e.getParams();r.TIME=n,e.updateParams(r)}}const Uv=new wL,SL=[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],xL=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"];class ML{createOlLayer(e){const{name:n,imageType:r,id:i}=e,s=Gv(e),a=yt.get(Wa),o=a.getExtent(),l=new zh.default({url:EL(e),tilePixelRatio:s?2:1,layer:n,matrixSet:`GLOBAL_WEBMERCATOR_4_V3${s?"_HD":""}`,format:r,requestEncoding:"REST",projection:a,tileGrid:new K_.default({origin:C_.getTopLeft(o),extent:o,resolutions:SL,matrixIds:xL}),style:"default",crossOrigin:"anonymous"});return new X_.default({source:l,properties:{"olcs.extent":jv(),label:n,id:i}})}setLayerTime(e,n,r){const i=e.get("metadata").time_layers[r],s=n.getUrls();if(s){const a=this.transformUrls(s,i);n.setUrls(a),e.set("label",i),e.set("layer_name",i)}}transformUrls(e,n){return e.map(r=>r.replace(/[/][^/]*[/]{TileMatrixSet}/,`/${n}/{TileMatrixSet}`))}}const Bv=new ML;class Qf extends Z_.default{constructor(e){const n=Object.assign({},e);delete n.accessToken,delete n.style,delete n.container,delete n.xyz,super(n),this.set("xyz",e.maplibreOptions.xyz),this.set("xyz_custom",e.maplibreOptions.xyz_custom),this.xyz_=e.xyz,e.accessToken&&(Yh.default.accessToken=e.accessToken),this.map_=new Yh.default.Map({container:e.maplibreOptions.container,style:e.maplibreOptions.style,attributionControl:!1,interactive:!1}),this.maplibreMap=this.map_}getMapBoxMap(){return this.map_}getMapLibreMap(){return this.map_}render(e){const n=this.map_.getCanvas(),r=e.viewState;n.style.position="absolute";const i=this.getVisible();n.style.display=i?"block":"none";const s=this.getOpacity().toString();s!==n.style.opacity&&(n.style.opacity=s);const a=r.rotation;return a&&this.map_.rotateTo(P_.toDegrees(-a),{animate:!1}),this.map_.jumpTo({center:A_.toLonLat(r.center),zoom:r.zoom-1,animate:!1}),this.map_._frame&&(this.map_._frame.cancel(),this.map_._frame=null),this.map_._render(),n}setLayerVisibility(e,n){this.map_.setLayoutProperty(e,"visibility",n?"visible":"none")}getStyle(){return this.map_.getStyle()}getXYZ(){return this.get("xyz")}}class OL{createOlLayer(e,n){const r=mr(),{id:i,metadata:s,name:a}=e,o=n.get(i);if(!o)return;const l={container:r.getOlMap().getTarget(),...o},u=new Qf({maplibreOptions:l,label:a,id:i,queryable_id:i,metadata:s}),f=er();return u!=null&&u.getMapLibreMap().loaded()?f.setBaseStyle(i,u==null?void 0:u.getMapLibreMap().getStyle()):new Promise(c=>u==null?void 0:u.getMapLibreMap().once("data",c)).then(()=>f.setBaseStyle(i,u==null?void 0:u.getMapLibreMap().getStyle())),u}}const TL=new OL;class NL{createOlLayer(e,n){let r;if(n&&(r=TL.createOlLayer(e,n)),!r)switch(e.type){case"WMS":r=Uv.createOlLayer(e);break;case"WMTS":case"BG WMTS":r=Bv.createOlLayer(e);break;default:throw new Error(`Unrecognized layer type: ${e.type}`)}return r.set("id",e.id),r.set("label",e.name),r.set("layer_name",e.name),r.set("metadata",e.metadata),r.set("queryable_id",e.id),r.set("current_time",kn().getLayerCurrentTime(e)),r.set("time",e.time),r.setOpacity(e.opacity),r}}const qv=new NL;class CL{setLayerTime(e,n){const r=e.getSource();r instanceof Hh.default&&Uv.setLayerTime(r,n),r instanceof zh.default&&Bv.setLayerTime(e,r,n)}}const LL=new CL,_u=-200;function eh(){function t(d,m){if(!m)return;const p=u(m);d.addLayer(p)}function e(d,m){return d.getLayers().getArray().find(p=>p.get("id")===m)}function n(d,m){const p=e(d,m);p&&d.removeLayer(p)}function r(d,m){const p=d.getLayers().getArray();m.forEach((g,v)=>{const y=p.find(E=>E.get("id")===g.id);y==null||y.setZIndex(v+1)})}function i(d,m,p){const g=d.getLayers().getArray().find(v=>v.get("id")===m);g&&g.setOpacity(p)}function s(d,m){const p=kn(),g=e(d,m.id),v=p.getLayerCurrentTime(m);v&&g&&LL.setLayerTime(g,v)}function a(d){Ha.delete(d)}function o(d){return Ha.has(d.id)}function l(d,m){Ha.set(d,m)}function u(d){const m=d.id,p=Ha.get(m);if(p)return p;{const g=qv.createOlLayer(d);return l(m,g),g}}function f(d){return d&&Ha.get(d.id)||null}function c(d,m){const g=d.getLayers().getArray().find(v=>v.getZIndex()===_u);g&&m(g)}function h(d,m,p){var w;const g=d.getLayers(),v=g.getArray().findIndex(x=>x.getZIndex()===_u),y=(w=g.getArray()[v])==null?void 0:w.get("id");let E;m&&(o(m)?E=f(m):(E=qv.createOlLayer(m,p),l(m.id,E))),v>=0?E?(E.setZIndex(_u),g.setAt(v,E)):g.removeAt(v):E&&(E.setZIndex(_u),d.addLayer(E)),y&&y!==(m==null?void 0:m.id)&&Jf.restoreStyle(!0)}return{addLayer:t,findLayer:e,removeLayer:n,removeFromCache:a,reorderLayers:r,setLayerOpacity:i,setLayerTime:s,getLayerFromCache:f,setBgLayer:h,applyOnBgLayer:c}}class PL{constructor(e){ct(this,"previousLayers");ct(this,"previousVectorSources");const n=dt(),r=er(),i=mr(),s=os(),a=eh(),{appliedStyle:o}=Fe(r);Qe(()=>n.layers,l=>{const u={layers:this.previousLayers},f={layers:l},c=i.getRemovedLayers(f,u),h=i.getAddedLayers(f,u),d=i.getMutatedLayers(f,u);c.forEach(m=>a.removeLayer(e,m.id)),h.forEach(m=>{a.addLayer(e,m.layer),a.setLayerTime(e,m.layer)}),d.forEach(m=>{a.setLayerOpacity(e,m.id,m.opacity),a.setLayerTime(e,m)}),f.layers&&a.reorderLayers(e,f.layers),this.previousLayers=l}),Qe(()=>n.bgLayer,l=>l!==void 0&&a.setBgLayer(e,l,r.bgVectorSources)),pn(()=>{r.isExpertStyleActive||(o.value=s.applyDefaultStyle(n.bgLayer,r.bgVectorBaseStyles,r.bgStyle))}),Qe(o,l=>{r.bgStyle===null&&!r.isExpertStyleActive?s.unregisterStyle(r.styleSerial,r.registerUrls).then(r.styleSerial=null):s.registerStyle(l,r.styleSerial,r.registerUrls).then(u=>{var c;r.styleSerial=u;const f=(c=n==null?void 0:n.bgLayer)==null?void 0:c.id;(n==null?void 0:n.bgLayer)&&f!==void 0&&u!==void 0&&(a.applyOnBgLayer(e,h=>{h.set("xyz_custom",s.getDefaultMapBoxStyleXYZ(u))}),a.setBgLayer(e,n==null?void 0:n.bgLayer,r.bgVectorSources))}),a.applyOnBgLayer(e,u=>s.applyConsolidatedStyle(u,l))}),Qe(()=>r.bgVectorSources,l=>{var u;for(const f of l.keys())(!this.previousVectorSources||this.previousVectorSources.get(f)!==l.get(f))&&(a.removeFromCache(f),f===((u=n==null?void 0:n.bgLayer)==null?void 0:u.id)&&a.setBgLayer(e,n==null?void 0:n.bgLayer,l));this.previousVectorSources=l})}}const AL={0:8,1:9,2:9,3:10,4:11,5:12,6:13,7:14,8:16,9:17,10:18,11:19,12:20,13:21};class kL{bootstrap(){this.restore(),this.persist()}persistZoom(){const e=mr().getOlMap().getView(),n=()=>{const r=e.getZoom();Te.setValue(Pv,r?Math.ceil(r):null)};n(),Xh.listen(e,"change:resolution",Mv(n,300))}persistXY(){const e=mr().getOlMap().getView(),n=()=>{const r=e.getCenter();Te.setValue(Av,r?Math.round(r[0]):null),Te.setValue(kv,r?Math.round(r[1]):null)};n(),Xh.listen(e,J_.default.PROPERTYCHANGE,Mv(n,300))}persist(){this.persistXY(),this.persistZoom()}restore(){const e=mr().getOlMap().getView(),n=Te.getValue(Pv,Ks),r=Te.getInitialVersion(),i=Te.getValue(Av,Ks),s=Te.getValue(kv,Ks),a=Te.getValue(QC),o=yt.getTransform(c2,Wa);let l,u;n!==void 0?u=r===3?Number(n):AL[n]:u=8,i!=null&&s!=null?r===3&&a!=null?l=yt.transform([i,s],a,Wa):l=r===3?[i,s]:o([s,i],void 0,2):l=yt.transform([6,49.7],Eg,Wa),e.setCenter(l),e.setZoom(u)}}const DL=new kL,IL={key:0,class:"absolute bottom-0 z-10 text-[0.8em] px-[4px] text-[#6b818f] bg-[#ffffffb3]"},RL=ge(de({__name:"attribution-control",setup(t){const e=dt(),n=Se("");return pn(()=>{var r,i;n.value=((i=(r=e.bgLayer)==null?void 0:r.metadata)==null?void 0:i.attribution)||""}),(r,i)=>{const s=Mc("dompurify-html");return n.value?il((A(),F("div",IL,null,512)),[[s,n.value]]):$("v-if",!0)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/attribution-control.vue"]]);function uo(t,e){const n=new t(e),r=mr(),i=Ss("olMap");return gn(()=>{i.addControl(n),i.changed()}),ri(()=>{const s=r.getOlMap();s.removeControl(n),s.changed()}),{control:n}}const $L=["title"],FL=ge(de({__name:"location-control",props:{className:{type:String,required:!1,default:"location-button"},label:{type:String,required:!1,default:"\uE800"},tipLabel:{type:String,required:!1,default:"Location"}},setup(t){const e=t,{t:n}=Ze(),r=Se(null);function i(){}return gn(()=>uo(Kh.default,{...e,target:r})),(s,a)=>(A(),F("div",{ref_key:"controlElement",ref:r,class:Le(`tracker-off ${e.className} ${b(To.CLASS_UNSELECTABLE)} ${b(To.CLASS_CONTROL)}`)},[L("button",{title:b(n)(e.tipLabel),onClick:i},ue(e.label),9,$L)],2))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/location-control.vue"]]),VL=["title"],jL=ge(de({__name:"map-3d",props:{className:{type:String,required:!1,default:"map-3d-button"},label:{type:String,required:!1,default:"\uE057"},tipLabel:{type:String,required:!1,default:"3d"}},setup(t){const e=t,n=dt(),{t:r}=Ze(),i=Se(null);gn(()=>uo(Kh.default,{...e,target:i}));const s=()=>{n.setIs3dActive(!n.is3dActive)};return(a,o)=>(A(),F("div",{ref_key:"controlElement",ref:i,class:Le(`${e.className} ${b(To.CLASS_UNSELECTABLE)} ${b(To.CLASS_CONTROL)} ${b(n).is3dActive?"active":""}`)},[L("button",{title:b(r)(e.tipLabel),onClick:s},ue(e.label),9,VL)],2))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/map-3d.vue"]]),GL=ge(de({__name:"fullscreen-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01C"},labelActive:{type:String,required:!1,default:"\uE02C"}},setup(t){const e=t;return uo(Q_.default,e),(n,r)=>$("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/fullscreen-control.vue"]]),UL=ge(de({__name:"zoom-control",props:{className:{type:String,required:!1},zoomInLabel:{type:String,required:!1,default:"\uE032"},zoomOutLabel:{type:String,required:!1,default:"\uE033"}},setup(t){const e=t;return uo(eb.default,e),(n,r)=>$("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/zoom-control.vue"]]);class BL extends tb.default{constructor(n){super(n);ct(this,"ol3dm")}handleZoomToExtent(){this.ol3dm&&this.ol3dm.luxCameraExtentInRadians&&this.ol3dm.is3dEnabled()||super.handleZoomToExtent()}}const qL=ge(de({__name:"zoom-to-extent-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01B"},tipLabel:{type:String,required:!1},extent:{type:null,required:!0}},setup(t){return uo(BL,t),(n,r)=>$("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/zoom-to-extent-control.vue"]]),Wv=ge(de({__name:"map-container",props:{v4_standalone:{type:Boolean,required:!1,default:!1}},setup(t){const e=mr(),n=Se(null),r=e.createMap(),i=[425152.9429259216,632446599999133e-8,914349.9239510496,6507914867875754e-9];return gn(()=>{n.value&&(new PL(r),DL.bootstrap(),r.setTarget(n.value),window.olMap=r)}),Jd("olMap",r),(s,a)=>(A(),F("div",{id:"map-container",ref_key:"mapContainer",ref:n,class:"h-full w-full bg-white relative"},[ne(UL),ne(qL,{extent:i}),ne(GL),ne(RL),t.v4_standalone?(A(),$e(jL,{key:0})):$("v-if",!0),ne(FL)],512))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map/map-container.vue"]]),WL="fr",HL=!0,zL=!1,YL=!1,gt=Qi("app",()=>{const t=Se(WL),e=Se(HL),n=Se(zL),r=Se(YL),i=Se(),s=Se(),a=Se(!1);function o(p){t.value=p}function l(p){e.value=p,p||(r.value=!1,n.value=!1)}function u(p){n.value=p,p&&(r.value=!1)}function f(p){r.value=p}function c(p){s.value=p}function h(p){i.value=p}function d(){a.value=!0}function m(){a.value=!1}return{lang:t,layersOpen:e,myLayersTabOpen:n,themeGridOpen:r,mapId:i,styleEditorOpen:a,remoteLayersOpen:s,setLang:o,setLayersOpen:l,setMyLayersTabOpen:u,setThemeGridOpen:f,setRemoteLayersOpen:c,setMapId:h,openStyleEditorPanel:d,closeStyleEditorPanel:m}},{}),bu={name:"blank",id:0};function th(){const t=gt(),{mapId:e}=Fe(t),n=_i(),r=dt(),i=kn(),s=me(()=>{var c;if(!e.value){const h=(c=Gt().theme)==null?void 0:c.name;if(h)return Qn().bg_layer_theme_defaults[h]||l()}return l()});function a(c){const h=n.findBgLayerById(c);o(h||null)}function o(c){if(c){if(c.type==="WMTS"||c.type==="BG WMTS")c.type="BG WMTS";else if(c.type==="BG MVT")console.log(`passed through MVT layer ${c.name}`);else throw new Error(`Only WMTS and MVT BG layers are currently implemented (not ${c.type} for ${c.name})`);i.handleExclusionLayers(c),r.setBgLayer(i.initLayer(c))}else r.setBgLayer(null)}function l(){var c;return((c=f().find(h=>h.is_default))==null?void 0:c.id)||bu.id}function u(){return bu.id}function f(){return Qn().bg_layers}return{setBgLayer:a,setMapBackground:o,getBgLayersFromConfig:f,getNullId:u,getDefaultSelectedId:l,defaultSelectedBgId:s}}const XL=["title"],Hv=ge(de({__name:"background-selector-item",props:{bgTitle:{type:String,default:""},bgName:{type:String,default:""}},setup(t){const e=t,{t:n}=Ze(),r=me(()=>{const s=n(e.bgTitle),a=e.bgTitle.length>0,o=`${n("Background layer:")} ${n(e.bgName)}`;return`${s}${a?" - ":""}${o}`}),i=me(()=>`h-full w-full rounded-sm lux-bg-sel-icon
        lux-bg-sel-${e.bgName}
        bg-${e.bgName}_sm
        md:bg-${e.bgName}
        hd:bg-${e.bgName}_sm_hi
        hd_md:bg-${e.bgName}_hi`);return(s,a)=>(A(),F("button",{title:b(r),class:Le(b(i))},null,10,XL))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/background-selector/background-selector-item.vue"]]),KL={key:0,class:"flex flex-row-reverse"},zv=ge(de({__name:"background-selector",props:{isOpen:{type:Boolean,default:!1}},setup(t){const e=t,{t:n}=Ze(),r=th(),i=dt(),s=Gt(),{bgLayer:a,is3dMesh:o}=Fe(i),l=Se(e.isOpen),u=Se([]),f=me(()=>{var m,p;return(p=(m=a.value)==null?void 0:m.id)!=null?p:r.getNullId()}),c=me(()=>{var m,p;return(p=(m=u.value)==null?void 0:m.find(g=>g.id===f.value))==null?void 0:p.name});Qe(()=>s.bgLayers,m=>{u.value=Qn().bg_layers.map(p=>Object.assign({id:p.id},m.find(g=>p.id===g.id),{name:p.icon_id}))},{immediate:!0}),Qe(()=>i.bgLayer,(m,p)=>{const g=i.layers;p===void 0&&m===null&&(g==null?void 0:g.length)===0&&(r.setBgLayer(r.defaultSelectedBgId.value),m===null&&Vl().addNotification(n("Aucune couche n'\xE9tant d\xE9finie pour cette carte, une couche de fond a automatiquement \xE9t\xE9 ajout\xE9e.",{ns:"client"})))});function h(m){r.setBgLayer(m.id),l.value=!1}function d(){l.value=!l.value}return(m,p)=>b(o)?$("v-if",!0):(A(),F("div",KL,[L("div",{class:Le(["lux-bg-sel border border-black",l.value===!0?"hidden":"block"])},[ne(Hv,{"aria-expanded":l.value,"bg-title":"Select BG layer","bg-name":b(c),onClick:d},null,8,["aria-expanded","bg-name"])],2),L("div",{class:Le(l.value===!0?"flex flex-col md:flex-row":"hidden")},[(A(!0),F(Re,null,On(u.value,g=>(A(),F("div",{key:g.id,class:Le(["lux-bg-sel hover:bg-cyan-600",g.id===b(f)?"border-red-500 border-2":"border-black border"])},[ne(Hv,{"bg-name":g.name,onClick:v=>h(g)},null,8,["bg-name","onClick"])],2))),128))],2)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/background-selector/background-selector.vue"]]),ZL=L("div",{class:"fixed inset-0 bg-gray-900 opacity-40 z-[1050]"},null,-1),JL={class:"bg-white shadow-modal rounded-lg overflow-hidden w-[700px]"},QL={class:"relative flex flex-row justify-center p-4 border-b-[1px]"},eP={class:"text-xl"},tP=[L("span",{"aria-hidden":"true"},"\xD7",-1)],nP={key:0,class:"p-[15px] border-t-[1px]"},rP={class:"flex flex-row justify-end"},Yv=ge(de({__name:"modal-dialog",props:{footer:{type:Boolean,default:!0},maxHeight:{type:Boolean,default:!1},title:String},emits:["close"],setup(t){const{t:e}=Ze(),n=Se();gn(()=>{n.value.focus()});const r=et(!0);function i(){r.value=!1}return(s,a)=>(A(),$e(Nm,{to:"body"},[$(" backdrop "),ZL,$(" modal "),ne(pl,{appear:"","enter-active-class":"duration-200 ease-out","enter-from-class":"transform opacity-0 -translate-y-60","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-60",onAfterLeave:a[3]||(a[3]=o=>s.$emit("close"))},{default:ni(()=>[b(r)?(A(),F("div",{key:0,role:"dialog",ref_key:"modal",ref:n,tabindex:"0",onKeydown:a[2]||(a[2]=ur(lr(o=>i(),["stop"]),["esc"])),class:"fixed inset-x-0 inset-y-8 flex items-start justify-center z-[1100] outline-none"},[L("div",JL,[$(" header (title)"),L("div",QL,[L("h4",eP,ue(t.title),1),L("button",{type:"button",class:"absolute right-2 top-1 text-slate-400 text-[24px]","data-dismiss":"modal","aria-label":"Close",onClick:a[0]||(a[0]=o=>i())},tP)]),$(" content slot "),L("div",{class:Le(["p-[15px] overflow-y-auto",t.maxHeight?"max-h-96":"max-h-full"])},[um(s.$slots,"content")],2),$(" footer (optional)"),t.footer?(A(),F("div",nP,[L("div",rP,[L("button",{type:"button",class:"lux-btn","data-dismiss":"modal",onClick:a[1]||(a[1]=o=>i())},ue(b(e)("Close",{ns:"client"})),1)])])):$("v-if",!0)])],544)):$("v-if",!0)]),_:3})]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/modal-dialog.vue"]]),nh=Qi("metadata",()=>{const t=Se();function e(r){t.value=r}function n(){t.value=void 0}return{metadataId:t,setMetadataId:e,clearMetadataId:n}},{}),iP=["aria-expanded"],sP={class:"leading-6"},Eu=ge(de({__name:"expandable-panel",props:{expanded:{type:Boolean,required:!0},title:{type:String,required:!0}},emits:["togglePanel"],setup(t){return(e,n)=>(A(),F(Re,null,[L("button",{onClick:n[0]||(n[0]=r=>e.$emit("togglePanel")),class:"group w-full text-left flex px-2 py-1.5 uppercase bg-tertiary","aria-expanded":t.expanded},[L("div",{class:Le(["grow",t.expanded?"text-white":"text-secondary"])},ue(t.title),3),L("div",sP,[L("div",{class:Le(["fa fa-sharp fa-solid group-hover:text-white text-primary",t.expanded?"fa-caret-up":"fa-caret-down"])},null,2)])],8,iP),L("div",{class:Le(t.expanded?"":"hidden")},[um(e.$slots,"default")],2)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/expandable-panel.vue"]]),aP={class:"mb-px",key:"node.id"},oP=["data-cy"],lP=["aria-expanded","data-cy"],uP={class:"grow"},cP={class:"leading-6"},fP={key:1,class:"flex text-tertiary pr-2"},hP=["data-cy"],dP={class:"ml-1 hover:underline"},rh=ge(de({__name:"layer-tree-node",props:{node:{type:null,required:!0}},emits:["toggleLayer","toggleParent"],setup(t,{emit:e}){const n=t,{t:r}=Ze(),{setMetadataId:i}=nh(),s=!!n.node.children,a=n.node.depth===0,o=n.node.depth>=10,l=me(()=>r(n.node.name,{ns:"client"}));function u(c){e("toggleLayer",c)}function f(c){e("toggleParent",c)}return(c,h)=>{const d=q1("layer-tree-node",!0);return s?(A(),F("div",aP,[$("    First level parents"),t.node.depth===1?(A(),F("div",{key:0,"data-cy":`parentLayerLabel-${t.node.id}`},[ne(Eu,{title:b(l),expanded:t.node.expanded,onTogglePanel:h[0]||(h[0]=m=>f(t.node))},null,8,["title","expanded"])],8,oP)):t.node.depth>1&&!o?(A(),F(Re,{key:1},[$("    Other parents (with custom panel style)"),L("button",{class:Le(["w-full text-left flex px-2 py-1.5 pl-2",t.node.expanded?"text-tertiary":"bg-white text-primary"]),"aria-expanded":t.node.expanded,onClick:h[1]||(h[1]=m=>f(t.node)),"data-cy":`parentLayerLabel-${t.node.id}`},[L("div",uP,ue(b(l)),1),L("div",cP,[L("div",{class:Le(["fa-sharp fa-solid",t.node.expanded?"fa-minus":"fa-plus"])},null,2)])],10,lP)],2112)):$("v-if",!0),$("    Children"),o?$("v-if",!0):(A(),F("div",{key:2,class:Le(["bg-secondary",[{"pl-2":t.node.depth>1},{"lux-collapse":!a},{expanded:!a&&t.node.expanded}]])},[(A(!0),F(Re,null,On(t.node.children,m=>(A(),$e(d,{key:m.id,node:m,onToggleParent:h[2]||(h[2]=p=>f(p)),onToggleLayer:h[3]||(h[3]=p=>u(p))},null,8,["node"]))),128))],2))])):(A(),F("div",fP,[L("button",{class:"self-start before:text-[.85rem] before:transform before:translate-y-[.1rem] before:inline-block before:content-['\\f129'] fa-solid fa-fw fa-fh fa-info",onClick:h[4]||(h[4]=m=>b(i)(t.node.id))}),L("button",{class:Le(["w-full text-left",{"font-bold":t.node.checked}]),onClick:h[5]||(h[5]=m=>u(t.node)),"data-cy":`layerLabel-${t.node.id}`},[L("i",{class:Le(["fa-solid",t.node.checked?"fa-check-square":"fa-square"])},null,2),L("span",dP,ue(b(l)),1)],10,hP)]))}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-tree/layer-tree-node.vue"]]);class mP{toggleNode(e,n,r){var i;return(n==null?void 0:n.id)===e?{...n,[r]:!n[r]}:{...n,children:(i=n.children)==null?void 0:i.map(s=>this.toggleNode(e,s,r))}}updateLayers(e,n){const{id:r}=e;if(e.children)return{...e,children:e.children.map(i=>this.updateLayers(i,n))};{const i=!!(n!=null&&n.find(s=>s.id===r));return{...e,checked:i}}}}const Js=new mP;var Dn=(t=>(t.WMS="WMS",t.WMTS="WMTS",t))(Dn||{});function pP(t,e){var n,r;return t.children&&!e.children||((n=e.children)==null?void 0:n.length)===0?1:e.children&&!t.children||((r=t.children)==null?void 0:r.length)===0?-1:0}function Xv(t,e,n=0){const{name:r="",type:i=Dn.WMS,children:s}=t,a=`${i}||${e}||${r}`.split("-").join("%2D"),o=dt();return{id:a,name:r,depth:n,children:s==null?void 0:s.sort(pP).map(l=>Xv(l,e,n+1)),checked:o.hasLayer(a),expanded:!1}}function gP(t){const e=decodeURIComponent(t),[n,r,i]=e.split("||");return Kv({id:e,url:ls.getProxyfiedUrl(r),remoteLayer:{name:i,type:n}})}function Kv({id:t,url:e,remoteLayer:n}){const{name:r="",type:i=Dn.WMS}=n;return{id:t,name:r,layers:r,url:e,type:i,imageType:zg.PNG}}class ih{constructor(e,n=0,r=!1){this.message=e,this.httpStatus=n,this.isCrossOriginRelated=r}}let yP=0;function vP(){return yP++}function _P(t,e,n){return new Promise((r,i)=>{const s=vP(),a={requestId:s,taskName:t,params:n};e===null?window.dispatchEvent(new CustomEvent("ogc-client.request",{detail:a})):e.postMessage(a);const o=({detail:l,data:u})=>{const f=l||u;f.requestId===s&&(e===null?window.removeEventListener("message",o):e.removeEventListener("message",o),"error"in f?i(f.error):r(f.response))};e===null?window.addEventListener("ogc-client.response",o):e.addEventListener("message",o)})}function sh(t,e,n){const r=typeof WorkerGlobalScope<"u",i=async({detail:s,data:a})=>{const o=s||a;if(o.taskName===t){let l,u;try{l=await n(o.params)}catch(c){u=c}const f={taskName:t,requestId:o.requestId,...l&&{response:l},...u&&{error:u}};r?e.postMessage(f):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:f}))}};r?e.addEventListener("message",i):e.addEventListener("ogc-client.request",i)}let ah;function bP(){return ah||(ah=new Worker(URL.createObjectURL(new Blob([`function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(t,e,r){var n=h;return function(o,i){if(n===v)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=v;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?d:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",d="completed",y={};function m(){}function g(){}function b(){}var S={};S[a]=function(){return this};var E=Object.getPrototypeOf,w=E&&E(E(C([])));w&&w!==r&&o.call(w,a)&&(S=w);var O=b.prototype=m.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(i,a,c,u){var s=l(t[i],t,a);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"===n(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(h).then((function(t){f.value=t,c(f)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}}function k(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function C(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:G}}function G(){return{value:e,done:!0}}return g.prototype=O.constructor=b,b.constructor=g,g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},x(P.prototype),P.prototype[c]=function(){return this},t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(O),s(O,u,"Generator"),O[a]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(o);var i=o.exports;function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(t,e,n){var o="undefined"!=typeof WorkerGlobalScope,a=function(){var a=r(i.mark((function r(a){var u,s,f,l,h,p;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=a.detail,s=a.data,(f=u||s).taskName!==t){r.next=14;break}return r.prev=3,r.next=6,n(f.params);case 6:l=r.sent,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),h=r.t0;case 12:p=c(c({taskName:t,requestId:f.requestId},l&&{response:l}),h&&{error:h}),o?e.postMessage(p):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:p}));case 14:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(t){return a.apply(this,arguments)}}();o?e.addEventListener("message",a):e.addEventListener("ogc-client.request",a)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function v(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t,e,r){return m=y()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&h(o,r.prototype),o},m.apply(null,arguments)}function g(t){var e="function"==typeof Map?new Map:void 0;return g=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return m(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)},g(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),t}var E=function(){function t(e){l(this,t),this.chars=f(e),this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;var r=this.chars,n=this.charCount,o=this.charsToBytes;if(n===e.length)for(var i=0;i<n;++i)o[i]=i;else{for(var a=0,c=0;c<n;++c)o[c]=a,a+=r[c].length;this.multiByteMode=!0}}return S(t,[{key:"isEnd",get:function(){return this.charIndex>=this.charCount}},{key:"_charLength",value:function(t){var e=t.length;return e<2||!this.multiByteMode?e:t.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,"_").length}},{key:"advance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.charIndex=Math.min(this.charCount,this.charIndex+t)}},{key:"consume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.peek(t);return this.advance(t),e}},{key:"consumeMatch",value:function(t){if(!t.sticky)throw new Error('\`regex\` must have a sticky flag ("y")');t.lastIndex=this.charsToBytes[this.charIndex];var e=t.exec(this.string);if(null===e)return"";var r=e[0];return this.advance(this._charLength(r)),r}},{key:"consumeMatchFn",value:function(t){for(var e=this.charIndex;!this.isEnd&&t(this.peek());)this.advance();return this.charIndex>e?this.string.slice(this.charsToBytes[e],this.charsToBytes[this.charIndex]):""}},{key:"consumeString",value:function(t){if(this.consumeStringFast(t))return t;if(!this.multiByteMode)return"";var e=t.length,r=this._charLength(t);return r!==e&&t===this.peek(r)?(this.advance(r),t):""}},{key:"consumeStringFast",value:function(t){if(this.peek()===t[0]){var e=t.length;if(1===e)return this.advance(),t;if(this.peek(e)===t)return this.advance(e),t}return""}},{key:"consumeUntilMatch",value:function(t){if(!t.global)throw new Error('\`regex\` must have a global flag ("g")');var e=this.charsToBytes[this.charIndex];t.lastIndex=e;var r=t.exec(this.string);if(null===r||r.index===e)return"";var n=this.string.slice(e,r.index);return this.advance(this._charLength(n)),n}},{key:"consumeUntilString",value:function(t){var e=this.charIndex,r=this.charsToBytes,n=this.string,o=r[e],i=n.indexOf(t,o);if(i<=0)return"";var a=n.slice(o,i);return this.advance(this._charLength(a)),a}},{key:"peek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.charIndex>=this.charCount)return"";if(1===t)return this.chars[this.charIndex];var e=this.charsToBytes,r=this.charIndex;return this.string.slice(e[r],e[r+t])}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.charIndex=t>=0?Math.min(this.charCount,t):Math.max(0,this.charIndex+t)}}]),t}(),w=E,O={},x=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function P(t){if(k(t))return!0;var e=T(t);return 45===e||46===e||e>=48&&e<=57||183===e||e>=768&&e<=879||e>=8255&&e<=8256}function k(t){var e=T(t);return 58===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function R(t){var e=T(t);return 9===e||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}function T(t){return t.codePointAt(0)||-1}O.predefinedEntities=x,O.isNameChar=P,O.isNameStartChar=k,O.isNotXmlChar=function(t){return!R(t)},O.isReferenceChar=function(t){return"#"===t||P(t)},O.isWhitespace=function(t){var e=T(t);return 32===e||9===e||10===e||13===e},O.isXmlChar=R;var j=function(){function t(){l(this,t),this.parent=null}return S(t,[{key:"document",get:function(){return this.parent?this.parent.document:null}},{key:"isRootNode",get:function(){return!!this.parent&&this.parent===this.document}},{key:"preserveWhitespace",get:function(){return Boolean(this.parent&&this.parent.preserveWhitespace)}},{key:"type",get:function(){return""}},{key:"toJSON",value:function(){var t={type:this.type};return this.isRootNode&&(t.isRootNode=!0),this.preserveWhitespace&&(t.preserveWhitespace=!0),t}}]),t}();j.TYPE_CDATA="cdata",j.TYPE_COMMENT="comment",j.TYPE_DOCUMENT="document",j.TYPE_ELEMENT="element",j.TYPE_PROCESSING_INSTRUCTION="pi",j.TYPE_TEXT="text";var C=j;function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var N=C,A=function(t){p(r,N);var e=G(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).text=n,t}return S(r,[{key:"type",get:function(){return N.TYPE_TEXT}},{key:"toJSON",value:function(){return Object.assign(N.prototype.toJSON.call(this),{text:this.text})}}]),r}(),F=A;function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var L=C,M=F,B=function(t){p(r,M);var e=I(r);function r(){return l(this,r),e.apply(this,arguments)}return S(r,[{key:"type",get:function(){return L.TYPE_CDATA}}]),r}(),_=B;function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var D=C,W=function(t){p(r,D);var e=U(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).content=n,t}return S(r,[{key:"type",get:function(){return D.TYPE_COMMENT}},{key:"toJSON",value:function(){return Object.assign(D.prototype.toJSON.call(this),{content:this.content})}}]),r}(),X=W;function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var q=C,J=function(t){p(r,q);var e=Y(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return l(this,r),(n=e.call(this)).name=t,n.attributes=o,n.children=i,n}return S(r,[{key:"isEmpty",get:function(){return 0===this.children.length}},{key:"preserveWhitespace",get:function(){for(var t=this;t instanceof r;){if("xml:space"in t.attributes)return"preserve"===t.attributes["xml:space"];t=t.parent}return!1}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return q.TYPE_ELEMENT}},{key:"toJSON",value:function(){return Object.assign(q.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),V=J;function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var K=V,z=C,H=function(t){p(r,z);var e=$(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(this,r),(t=e.call(this)).children=n,t}return S(r,[{key:"document",get:function(){return this}},{key:"root",get:function(){return this.children.find((function(t){return t instanceof K}))||null}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return z.TYPE_DOCUMENT}},{key:"toJSON",value:function(){return Object.assign(z.prototype.toJSON.call(this),{children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),Q=H;function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var tt=C,et=function(t){p(r,tt);var e=Z(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(this,r),(n=e.call(this)).name=t,n.content=o,n}return S(r,[{key:"type",get:function(){return tt.TYPE_PROCESSING_INSTRUCTION}},{key:"toJSON",value:function(){return Object.assign(tt.prototype.toJSON.call(this),{name:this.name,content:this.content})}}]),r}(),rt=et;function nt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=w,at=O,ct=_,ut=X,st=Q,ft=V,lt=rt,ht=F,pt=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(l(this,t),this.document=new st,this.currentNode=this.document,this.options=r,this.scanner=new it(vt(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}return S(t,[{key:"addNode",value:function(t){t.parent=this.currentNode,this.currentNode.children.push(t)}},{key:"addText",value:function(t){var e=this.currentNode.children;if(e.length>0){var r=e[e.length-1];if(r instanceof ht)return void(r.text+=t)}this.addNode(new ht(t))}},{key:"consumeAttributeValue",value:function(){var t,e=this.scanner,r=e.peek();if('"'!==r&&"'"!==r)return!1;e.advance();var n=!1,o="",i='"'===r?new RegExp('[^"&<]+',"y"):new RegExp("[^'&<]+","y");t:for(;!e.isEnd;){switch((t=e.consumeMatch(i))&&(this.validateChars(t),o+=t.replace(/[\\t\\r\\n]/g," ")),e.peek()){case r:n=!0;break t;case"&":o+=this.consumeReference();continue;case"<":this.error("Unescaped \`<\` is not allowed in an attribute value");break;case"":this.error("Unclosed attribute")}}return n||this.error("Unclosed attribute"),e.advance(),o}},{key:"consumeCdataSection",value:function(){var t=this.scanner;if(!t.consumeStringFast("<![CDATA["))return!1;var e=t.consumeUntilString("]]>");return this.validateChars(e),t.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new ct(e)):this.addText(e),!0}},{key:"consumeCharData",value:function(){var t=this.scanner,e=t.consumeUntilMatch(/<|&|]]>/g);return!!e&&(this.validateChars(e),"]"===t.peek()&&"]]>"===t.peek(3)&&this.error("Element content may not contain the CDATA section close delimiter \`]]>\`"),this.addText(e),!0)}},{key:"consumeComment",value:function(){var t=this.scanner;if(!t.consumeStringFast("\\x3c!--"))return!1;var e=t.consumeUntilString("--");return this.validateChars(e),t.consumeStringFast("--\\x3e")||("--"===t.peek(2)?this.error("The string \`--\` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new ut(e.trim())),!0}},{key:"consumeContentReference",value:function(){var t=this.consumeReference();return!!t&&(this.addText(t),!0)}},{key:"consumeDoctypeDeclaration",value:function(){var t=this.scanner;return!(!t.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace())&&(t.consumeMatch(new RegExp("[^[>]+","y")),t.consumeMatch(new RegExp("\\\\[[\\\\s\\\\S]+?\\\\][\\\\x20\\\\t\\\\r\\\\n]*>","y"))||t.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}},{key:"consumeElement",value:function(){var t=this.scanner,e=t.charIndex;if("<"!==t.peek())return!1;t.advance();var r=this.consumeName();if(!r)return t.reset(e),!1;for(var n=Object.create(null);this.consumeWhitespace();){var o=this.consumeName();if(o){var i=this.consumeEqual()&&this.consumeAttributeValue();!1===i&&this.error("Attribute value expected"),o in n&&this.error("Duplicate attribute: ".concat(o)),"xml:space"===o&&"default"!==i&&"preserve"!==i&&this.error('Value of the \`xml:space\` attribute must be "default" or "preserve"'),n[o]=i}}if(this.options.sortAttributes){for(var a=Object.keys(n).sort(),c=Object.create(null),u=0;u<a.length;++u){var s=a[u];c[s]=n[s]}n=c}var f=Boolean(t.consumeStringFast("/>")),l=new ft(r,n);if(l.parent=this.currentNode,!f){for(t.consumeStringFast(">")||this.error("Unclosed start tag for element \`".concat(r,"\`")),this.currentNode=l,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();var h,p=t.charIndex;t.consumeStringFast("</")&&(h=this.consumeName())&&h===r||(t.reset(p),this.error("Missing end tag for element ".concat(r))),this.consumeWhitespace(),t.consumeStringFast(">")||this.error("Unclosed end tag for element ".concat(r)),this.currentNode=l.parent}return this.addNode(l),!0}},{key:"consumeEqual",value:function(){return this.consumeWhitespace(),!!this.scanner.consumeStringFast("=")&&(this.consumeWhitespace(),!0)}},{key:"consumeMisc",value:function(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}},{key:"consumeName",value:function(){return at.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(at.isNameChar):""}},{key:"consumeProcessingInstruction",value:function(){var t=this.scanner,e=t.charIndex;if(!t.consumeStringFast("<?"))return!1;var r=this.consumeName();if(r?"xml"===r.toLowerCase()&&(t.reset(e),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(t.consumeStringFast("?>"))return this.addNode(new lt(r)),!0;this.error("Whitespace is required after a processing instruction name")}var n=t.consumeUntilString("?>");return this.validateChars(n),t.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new lt(r,n)),!0}},{key:"consumeProlog",value:function(){var t=this.scanner,e=t.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return e<t.charIndex}},{key:"consumeReference",value:function(){var t=this.scanner;if("&"!==t.peek())return!1;t.advance();var e,r=t.consumeMatchFn(at.isReferenceChar);if(";"!==t.consume()&&this.error("Unterminated reference (a reference must end with \`;\`)"),"#"===r[0]){var o="x"===r[1]?parseInt(r.slice(2),16):parseInt(r.slice(1),10);isNaN(o)&&this.error("Invalid character reference"),e=String.fromCodePoint(o),at.isXmlChar(e)||this.error("Character reference resolves to an invalid character")}else if(void 0===(e=at.predefinedEntities[r])){var i=this.options,a=i.ignoreUndefinedEntities,c=i.resolveUndefinedEntity,u="&".concat(r,";");if(c){var s=c(u);if(null!=s){var f=n(s);if("string"!==f)throw new TypeError("\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ".concat(f));return s}}if(a)return u;t.reset(-u.length),this.error("Named entity isn't defined: ".concat(u))}return e}},{key:"consumeSystemLiteral",value:function(){var t=this.scanner,e=t.consumeStringFast('"')||t.consumeStringFast("'");if(!e)return!1;var r=t.consumeUntilString(e);return this.validateChars(r),t.consumeStringFast(e)||this.error("Missing end quote"),r}},{key:"consumeWhitespace",value:function(){return Boolean(this.scanner.consumeMatchFn(at.isWhitespace))}},{key:"consumeXmlDeclaration",value:function(){var t=this.scanner;if(!t.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");var e=Boolean(t.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(!1===e?this.error("XML version is missing or invalid"):/^1\\.[0-9]+$/.test(e)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(t.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();var r=Boolean(t.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();r&&("yes"!==r&&"no"!==r&&this.error('Only "yes" and "no" are permitted as values of \`standalone\`'),this.consumeWhitespace())}return t.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}},{key:"error",value:function(t){for(var e=this.scanner,r=e.charIndex,n=e.string,o=1,i="",a=1,c=0;c<r;++c){var u=n[c];"\\n"===u?(o=1,i="",a+=1):(o+=1,i+=u)}var s=n.indexOf("\\n",r),f=0;(i+=-1===s?n.slice(r):n.slice(r,s)).length>50&&(o<40?i=i.slice(0,50):(f=o-20,i=i.slice(f,o+30)));var l=new Error("".concat(t," (line ").concat(a,", column ").concat(o,")\\n")+"  ".concat(i,"\\n")+" ".repeat(o-f+1)+"^\\n");throw Object.assign(l,{column:o,excerpt:i,line:a,pos:r}),l}},{key:"validateChars",value:function(t){var e,r=0,n=nt(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;at.isNotXmlChar(o)&&(this.scanner.reset(-(f(t).length-r)),this.error("Invalid character")),r+=1}}catch(t){n.e(t)}finally{n.f()}}}]),t}();function vt(t){return"\\ufeff"===t[0]&&(t=t.slice(1)),t.replace(/\\r\\n?/g,"\\n")}var dt=pt,yt=_,mt=X,gt=Q,bt=V,St=C,Et=rt,wt=F;function Ot(t,e){return new dt(t,e).document}Ot.XmlCdata=yt,Ot.XmlComment=mt,Ot.XmlDocument=gt,Ot.XmlElement=bt,Ot.XmlNode=St,Ot.XmlProcessingInstruction=Et,Ot.XmlText=wt;var xt=Ot;function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var kt=function(t){p(r,g(Error));var e=Pt(r);function r(t){return l(this,r),e.call(this,t)}return r}();function Rt(t){return t.children[0]}function Tt(t){var e=t.indexOf(":");return e>-1?t.substr(e+1):t}function jt(t){return t.name||""}function Ct(t,e,r){var n=Tt(e);return t&&Array.isArray(t.children)?t.children.reduce((function t(e,o){return Tt(jt(o))===n&&e.push(o),r&&Array.isArray(o.children)?[].concat(f(e),f(o.children.reduce(t,[]))):e}),[]):[]}function Gt(t,e,r){return Ct(t,e,r)[0]||null}function Nt(t){return t&&Array.isArray(t.children)?f(t.children.filter((function(t){return"XmlElement"===t.constructor.name}))):[]}function At(t){var e=t&&Array.isArray(t.children)?t.children.find((function(t){return"text"===t.type})):null;return e?e.text:""}function Ft(t,e){return t&&t.attributes[e]||""}var It=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(this,t),this.message=e,this.httpStatus=r,this.isCrossOriginRelated=n};function Lt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bt=["utf-8","utf-16","iso-8859-1"];function _t(t,e){var r,n=e?function(t){var e=/charset=([^;]+)/.exec(t);return e?e[1]:null}(e):null,o=Lt(n?[n].concat(Bt):Bt);try{for(o.s();!(r=o.n()).done;){var i=r.value;try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch(t){}}}catch(t){o.e(t)}finally{o.f()}return console.warn("XML document encoding could not be determined, falling back to ".concat("utf-8",".")),new TextDecoder("utf-8").decode(t)}function Ut(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wt=new Map;function Xt(t){return function(t){if(Wt.has(t))return Wt.get(t);var e=fetch(t);return e.finally((function(){return Wt.delete(t)})),Wt.set(t,e),e}(t).catch((function(){return fetch(t,{method:"HEAD",mode:"no-cors"}).catch((function(t){throw new It("Fetching the document failed either due to network errors or unreachable host, error is: ".concat(t.message),0,!1)})).then((function(){throw new It("The document could not be fetched due to CORS limitations",0,!0)}))})).then(function(){var t=r(i.mark((function t(e){var r,n,o;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=5;break}return t.next=3,e.text();case 3:throw r=t.sent,new It("Received an error with code ".concat(e.status,": ").concat(r),e.status,!1);case 5:return t.next=7,e.arrayBuffer();case 7:return n=t.sent,o=e.headers.get("Content-Type"),t.abrupt("return",_t(n,o));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return function(t){var e=null;try{e=xt(t)}catch(t){throw new kt(t.message)}return e}(t)}))}function Yt(t,e){var r=t.match(/(https?%3A%2F%2F[^/]+)$/);if(r){var n=r[1],o=Yt(decodeURIComponent(n),e);return t.replace(n,encodeURIComponent(o))}var i,a=new URL(t),c=Object.keys(e),u=c.map((function(t){return t.toLowerCase()})),s=[],f=Ut(a.searchParams.keys());try{for(f.s();!(i=f.n()).done;){var l=i.value;u.indexOf(l.toLowerCase())>-1&&s.push(l)}}catch(t){f.e(t)}finally{f.f()}return s.map((function(t){return a.searchParams.delete(t)})),c.forEach((function(t){return a.searchParams.set(t,!0===e[t]?"":e[t])})),a.toString()}var qt=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function Jt(t){return qt.indexOf(Vt(t))>-1}function Vt(t){if(/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())){var e=/([0-9]+)$/.exec(t)[1];return"EPSG:".concat(e)}return t}function $t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?$t(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(t){return Rt(t).attributes.version}function Ht(t){var e=zt(t);return Ct(Gt(Rt(t),"Capability"),"Layer").map((function(t){return Qt(t,e)}))}function Qt(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a="1.3.0"===r?"CRS":"SRS",c=Ct(e,a).map(At),u=c.length>0?c:n,s=Ct(e,"Style").map(Zt),f=s.length>0?s:o;function l(t){return(Jt(Ft(t,a))&&"1.3.0"===r?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map((function(e){return Ft(t,e)}))}var h=Gt(e,"Attribution"),p=null!==h?te(h):i,v=Ct(e,"Layer").map((function(t){return Qt(t,r,u,f,p)}));return Kt({name:At(Gt(e,"Name")),title:At(Gt(e,"Title")),abstract:At(Gt(e,"Abstract")),availableCrs:u,styles:f,attribution:p,boundingBoxes:Ct(e,"BoundingBox").reduce((function(e,r){return Kt(Kt({},e),{},t({},Ft(r,a),l(r)))}),{})},v.length&&{children:v})}function Zt(t){var e=Ft(Gt(Gt(t,"LegendURL"),"OnlineResource"),"xlink:href");return Kt({name:At(Gt(t,"Name")),title:At(Gt(t,"Title"))},e&&{legendUrl:e})}function te(t){var e=Ft(Gt(Gt(t,"LogoURL"),"OnlineResource"),"xlink:href"),r=Ft(Gt(t,"OnlineResource"),"xlink:href"),n=At(Gt(t,"Title"));return Kt(Kt(Kt({},n&&{title:n}),r&&{url:r}),e&&{logoUrl:e})}function ee(t){return Rt(t).attributes.version}function re(t){var e;if(ee(t).startsWith("1.0")){var r=Gt(Gt(Gt(Rt(t),"Capability"),"Request"),"GetFeature");e=Nt(Gt(r,"ResultFormat")).map(jt)}else{var n=Ct(Gt(Rt(t),"OperationsMetadata"),"Operation").find((function(t){return"GetFeature"===Ft(t,"name")})),o=Ct(n,"Parameter").find((function(t){return"outputFormat"===Ft(t,"name")}));e=Ct(o,"Value",!0).map(At)}return e}function ne(t){var e=ee(t),r=re(t);return Ct(Gt(Rt(t),"FeatureTypeList"),"FeatureType").map((function(t){return function(t,e,r){var n=e.startsWith("2.")?"CRS":"SRS",o=e.startsWith("1.0")?"SRS":"Default".concat(n);function i(){var e=Gt(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map((function(t){return Ft(e,t)})).map(parseFloat)}function a(){var e=Gt(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map((function(t){return Gt(e,t)})).map((function(t){return At(t).split(" ")})).reduce((function(t,e){return[].concat(f(t),f(e))})).map(parseFloat)}var c=e.startsWith("1.0")?[]:Ct(t,"Other".concat(n)).map(At).map(Vt),u=e.startsWith("1.0")?[]:Ct(Gt(t,"OutputFormats"),"Format").map(At);return{name:At(Gt(t,"Name")),title:At(Gt(t,"Title")),abstract:At(Gt(t,"Abstract")),defaultCrs:Vt(At(Gt(t,o))),otherCrs:c,outputFormats:u.length>0?u:r,latLonBoundingBox:e.startsWith("1.0")?i():a()}}(t,e,r)}))}function oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?oe(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,r,n){var o,i=Rt(e);if(n.startsWith("2.0"))o=Ct(i,"member").map((function(t){return Nt(t)[0]}));else{var a=Gt(i,"featureMembers");o=a?Nt(a):Ct(i,"featureMember").map((function(t){return Nt(t)[0]}))}var c="1.0.0"===n?"fid":"gml:id";function u(e){return Nt(e).filter((function(t){return Tt(jt(t))in r.properties})).reduce((function(e,n){var o=Tt(jt(n));return ie(ie({},e),{},t({},o,function(t,e){switch(r.properties[t]){case"integer":return parseInt(e);case"float":return parseFloat(e);case"boolean":return"true"===e;default:return e}}(o,At(n))))}),{})}return o.map((function(t){return{id:Ft(t,c),properties:u(t)}}))}function ce(e,r,n,o,i,a,c,u,s,f){var l="2.0.0"===r?"COUNT":"MAXFEATURES",h=t({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:r},"2.0.0"===r?"TYPENAMES":"TYPENAME",n);if(void 0!==o&&(h.OUTPUTFORMAT=o),void 0!==a&&(h.PROPERTYNAME=a.join(",")),c?(h.RESULTTYPE="hits",h[l]="1"):void 0!==i&&(h[l]=i.toString(10)),u&&(h.SRSNAME=u),s){var p=s.join(",");h.BBOX=f?"".concat(p,",").concat(f):p}return Yt(e,h)}u("parseWmsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,r=Gt(Rt(e),"Service"),n=Ct(Gt(r,"KeywordList"),"Keyword").map(At).filter((function(t,e,r){return r.indexOf(t)===e})),{title:At(Gt(r,"Title")),name:At(Gt(r,"Name")),abstract:At(Gt(r,"Abstract")),fees:At(Gt(r,"Fees")),constraints:At(Gt(r,"AccessConstraints")),keywords:n}),layers:Ht(t),version:zt(t)};var e,r,n}))})),u("parseWfsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,n=ee(e),o=n.startsWith("1.0")?"Service":"ServiceIdentification",i=n.startsWith("1.0")?"Name":"ServiceType",a=Gt(Rt(e),o),r=n.startsWith("1.0")?At(Gt(a,"Keywords")).split(",").map((function(t){return t.trim()})):Ct(Gt(a,"Keywords"),"Keyword").map(At),{title:At(Gt(a,"Title")),name:At(Gt(a,i)),abstract:At(Gt(a,"Abstract")),fees:At(Gt(a,"Fees")),constraints:At(Gt(a,"AccessConstraints")),keywords:r,outputFormats:re(e)}),featureTypes:ne(t),version:ee(t)};var e,r,n,o,i,a}))})),u("queryWfsFeatureTypeDetails",self,(function(t){var e=t.url,r=t.serviceVersion,n=t.featureTypeFull;return Xt(ce(e,r,n.name,void 0,void 0,Object.keys(n.properties))).then((function(t){return{props:(e=ae(t,n,r),e.reduce((function(t,e){var r=function(r){var n=e.properties[r];r in t||(t[r]={uniqueValues:[]});var o=t[r].uniqueValues.find((function(t){return t.value===n}));o?o.count++:t[r].uniqueValues.push({value:n,count:1})};for(var n in e.properties)r(n);return t}),{}))};var e}))}));
`],{type:"application/javascript"})),{type:"module"})),ah}function EP(t){return _P("parseWmsCapabilities",bP(),{url:t})}var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const Ei="";class wP{constructor(e){this.chars=[...e],this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;let{chars:n,charCount:r,charsToBytes:i}=this;if(r===e.length)for(let s=0;s<r;++s)i[s]=s;else{for(let s=0,a=0;a<r;++a)i[a]=s,s+=n[a].length;this.multiByteMode=!0}}get isEnd(){return this.charIndex>=this.charCount}_charLength(e){let{length:n}=e;return n<2||!this.multiByteMode?n:e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}advance(e=1){this.charIndex=Math.min(this.charCount,this.charIndex+e)}consume(e=1){let n=this.peek(e);return this.advance(e),n}consumeMatch(e){if(!e.sticky)throw new Error('`regex` must have a sticky flag ("y")');e.lastIndex=this.charsToBytes[this.charIndex];let n=e.exec(this.string);if(n===null)return Ei;let r=n[0];return this.advance(this._charLength(r)),r}consumeMatchFn(e){let n=this.charIndex;for(;!this.isEnd&&e(this.peek());)this.advance();return this.charIndex>n?this.string.slice(this.charsToBytes[n],this.charsToBytes[this.charIndex]):Ei}consumeString(e){if(this.consumeStringFast(e))return e;if(!this.multiByteMode)return Ei;let{length:n}=e,r=this._charLength(e);return r!==n&&e===this.peek(r)?(this.advance(r),e):Ei}consumeStringFast(e){if(this.peek()===e[0]){let{length:n}=e;if(n===1)return this.advance(),e;if(this.peek(n)===e)return this.advance(n),e}return Ei}consumeUntilMatch(e){if(!e.global)throw new Error('`regex` must have a global flag ("g")');let n=this.charsToBytes[this.charIndex];e.lastIndex=n;let r=e.exec(this.string);if(r===null||r.index===n)return Ei;let i=this.string.slice(n,r.index);return this.advance(this._charLength(i)),i}consumeUntilString(e){let{charIndex:n,charsToBytes:r,string:i}=this,s=r[n],a=i.indexOf(e,s);if(a<=0)return Ei;let o=i.slice(s,a);return this.advance(this._charLength(o)),o}peek(e=1){if(this.charIndex>=this.charCount)return Ei;if(e===1)return this.chars[this.charIndex];let{charsToBytes:n,charIndex:r}=this;return this.string.slice(n[r],n[r+e])}reset(e=0){this.charIndex=e>=0?Math.min(this.charCount,e):Math.max(0,this.charIndex+e)}}var SP=wP,wi={};const xP=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));wi.predefinedEntities=xP;function Zv(t){if(Jv(t))return!0;let e=wu(t);return e===45||e===46||e>=48&&e<=57||e===183||e>=768&&e<=879||e>=8255&&e<=8256}wi.isNameChar=Zv;function Jv(t){let e=wu(t);return e===58||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}wi.isNameStartChar=Jv;function MP(t){return!Qv(t)}wi.isNotXmlChar=MP;function OP(t){return t==="#"||Zv(t)}wi.isReferenceChar=OP;function TP(t){let e=wu(t);return e===32||e===9||e===10||e===13}wi.isWhitespace=TP;function Qv(t){let e=wu(t);return e===9||e===10||e===13||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}wi.isXmlChar=Qv;function wu(t){return t.codePointAt(0)||-1}class us{constructor(){this.parent=null}get document(){return this.parent?this.parent.document:null}get isRootNode(){return this.parent?this.parent===this.document:!1}get preserveWhitespace(){return Boolean(this.parent&&this.parent.preserveWhitespace)}get type(){return""}toJSON(){let e={type:this.type};return this.isRootNode&&(e.isRootNode=!0),this.preserveWhitespace&&(e.preserveWhitespace=!0),e}}us.TYPE_CDATA="cdata",us.TYPE_COMMENT="comment",us.TYPE_DOCUMENT="document",us.TYPE_ELEMENT="element",us.TYPE_PROCESSING_INSTRUCTION="pi",us.TYPE_TEXT="text";var cs=us;const oh=cs;class NP extends oh{constructor(e=""){super(),this.text=e}get type(){return oh.TYPE_TEXT}toJSON(){return Object.assign(oh.prototype.toJSON.call(this),{text:this.text})}}var lh=NP;const CP=cs,LP=lh;class PP extends LP{get type(){return CP.TYPE_CDATA}}var e0=PP;const uh=cs;class AP extends uh{constructor(e=""){super(),this.content=e}get type(){return uh.TYPE_COMMENT}toJSON(){return Object.assign(uh.prototype.toJSON.call(this),{content:this.content})}}var t0=AP;const ch=cs;class fh extends ch{constructor(e,n=Object.create(null),r=[]){super(),this.name=e,this.attributes=n,this.children=r}get isEmpty(){return this.children.length===0}get preserveWhitespace(){let e=this;for(;e instanceof fh;){if("xml:space"in e.attributes)return e.attributes["xml:space"]==="preserve";e=e.parent}return!1}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return ch.TYPE_ELEMENT}toJSON(){return Object.assign(ch.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(e=>e.toJSON())})}}var hh=fh;const kP=hh,dh=cs;class DP extends dh{constructor(e=[]){super(),this.children=e}get document(){return this}get root(){return this.children.find(e=>e instanceof kP)||null}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return dh.TYPE_DOCUMENT}toJSON(){return Object.assign(dh.prototype.toJSON.call(this),{children:this.children.map(e=>e.toJSON())})}}var n0=DP;const mh=cs;class IP extends mh{constructor(e,n=""){super(),this.name=e,this.content=n}get type(){return mh.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(mh.prototype.toJSON.call(this),{name:this.name,content:this.content})}}var r0=IP;const RP=SP,fs=wi,$P=e0,FP=t0,VP=n0,jP=hh,i0=r0,s0=lh,ph="";class GP{constructor(e,n={}){for(this.document=new VP,this.currentNode=this.document,this.options=n,this.scanner=new RP(BP(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}addNode(e){e.parent=this.currentNode,this.currentNode.children.push(e)}addText(e){let{children:n}=this.currentNode;if(n.length>0){let r=n[n.length-1];if(r instanceof s0){r.text+=e;return}}this.addNode(new s0(e))}consumeAttributeValue(){let{scanner:e}=this,n=e.peek();if(n!=='"'&&n!=="'")return!1;e.advance();let r,i=!1,s=ph,a=n==='"'?/[^"&<]+/y:/[^'&<]+/y;e:for(;!e.isEnd;)switch(r=e.consumeMatch(a),r&&(this.validateChars(r),s+=r.replace(/[\t\r\n]/g," ")),e.peek()){case n:i=!0;break e;case"&":s+=this.consumeReference();continue;case"<":this.error("Unescaped `<` is not allowed in an attribute value");break;case ph:this.error("Unclosed attribute");break}return i||this.error("Unclosed attribute"),e.advance(),s}consumeCdataSection(){let{scanner:e}=this;if(!e.consumeStringFast("<![CDATA["))return!1;let n=e.consumeUntilString("]]>");return this.validateChars(n),e.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new $P(n)):this.addText(n),!0}consumeCharData(){let{scanner:e}=this,n=e.consumeUntilMatch(/<|&|]]>/g);return n?(this.validateChars(n),e.peek()==="]"&&e.peek(3)==="]]>"&&this.error("Element content may not contain the CDATA section close delimiter `]]>`"),this.addText(n),!0):!1}consumeComment(){let{scanner:e}=this;if(!e.consumeStringFast("<!--"))return!1;let n=e.consumeUntilString("--");return this.validateChars(n),e.consumeStringFast("-->")||(e.peek(2)==="--"?this.error("The string `--` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new FP(n.trim())),!0}consumeContentReference(){let e=this.consumeReference();return e?(this.addText(e),!0):!1}consumeDoctypeDeclaration(){let{scanner:e}=this;return!e.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace()?!1:(e.consumeMatch(/[^[>]+/y),e.consumeMatch(/\[[\s\S]+?\][\x20\t\r\n]*>/y)||e.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}consumeElement(){let{scanner:e}=this,n=e.charIndex;if(e.peek()!=="<")return!1;e.advance();let r=this.consumeName();if(!r)return e.reset(n),!1;let i=Object.create(null);for(;this.consumeWhitespace();){let o=this.consumeName();if(!o)continue;let l=this.consumeEqual()&&this.consumeAttributeValue();l===!1&&this.error("Attribute value expected"),o in i&&this.error(`Duplicate attribute: ${o}`),o==="xml:space"&&l!=="default"&&l!=="preserve"&&this.error('Value of the `xml:space` attribute must be "default" or "preserve"'),i[o]=l}if(this.options.sortAttributes){let o=Object.keys(i).sort(),l=Object.create(null);for(let u=0;u<o.length;++u){let f=o[u];l[f]=i[f]}i=l}let s=Boolean(e.consumeStringFast("/>")),a=new jP(r,i);if(a.parent=this.currentNode,!s){for(e.consumeStringFast(">")||this.error(`Unclosed start tag for element \`${r}\``),this.currentNode=a,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();let o=e.charIndex,l;(!e.consumeStringFast("</")||!(l=this.consumeName())||l!==r)&&(e.reset(o),this.error(`Missing end tag for element ${r}`)),this.consumeWhitespace(),e.consumeStringFast(">")||this.error(`Unclosed end tag for element ${r}`),this.currentNode=a.parent}return this.addNode(a),!0}consumeEqual(){return this.consumeWhitespace(),this.scanner.consumeStringFast("=")?(this.consumeWhitespace(),!0):!1}consumeMisc(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}consumeName(){return fs.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(fs.isNameChar):ph}consumeProcessingInstruction(){let{scanner:e}=this,n=e.charIndex;if(!e.consumeStringFast("<?"))return!1;let r=this.consumeName();if(r?r.toLowerCase()==="xml"&&(e.reset(n),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(e.consumeStringFast("?>"))return this.addNode(new i0(r)),!0;this.error("Whitespace is required after a processing instruction name")}let i=e.consumeUntilString("?>");return this.validateChars(i),e.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new i0(r,i)),!0}consumeProlog(){let{scanner:e}=this,n=e.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return n<e.charIndex}consumeReference(){let{scanner:e}=this;if(e.peek()!=="&")return!1;e.advance();let n=e.consumeMatchFn(fs.isReferenceChar);e.consume()!==";"&&this.error("Unterminated reference (a reference must end with `;`)");let r;if(n[0]==="#"){let i=n[1]==="x"?parseInt(n.slice(2),16):parseInt(n.slice(1),10);isNaN(i)&&this.error("Invalid character reference"),r=String.fromCodePoint(i),fs.isXmlChar(r)||this.error("Character reference resolves to an invalid character")}else if(r=fs.predefinedEntities[n],r===void 0){let{ignoreUndefinedEntities:i,resolveUndefinedEntity:s}=this.options,a=`&${n};`;if(s){let o=s(a);if(o!=null){let l=typeof o;if(l!=="string")throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${l}`);return o}}if(i)return a;e.reset(-a.length),this.error(`Named entity isn't defined: ${a}`)}return r}consumeSystemLiteral(){let{scanner:e}=this,n=e.consumeStringFast('"')||e.consumeStringFast("'");if(!n)return!1;let r=e.consumeUntilString(n);return this.validateChars(r),e.consumeStringFast(n)||this.error("Missing end quote"),r}consumeWhitespace(){return Boolean(this.scanner.consumeMatchFn(fs.isWhitespace))}consumeXmlDeclaration(){let{scanner:e}=this;if(!e.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");let n=Boolean(e.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(n===!1?this.error("XML version is missing or invalid"):/^1\.[0-9]+$/.test(n)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(e.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();let i=Boolean(e.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();i&&(i!=="yes"&&i!=="no"&&this.error('Only "yes" and "no" are permitted as values of `standalone`'),this.consumeWhitespace())}return e.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}error(e){let{charIndex:n,string:r}=this.scanner,i=1,s="",a=1;for(let f=0;f<n;++f){let c=r[f];c===`
`?(i=1,s="",a+=1):(i+=1,s+=c)}let o=r.indexOf(`
`,n);s+=o===-1?r.slice(n):r.slice(n,o);let l=0;s.length>50&&(i<40?s=s.slice(0,50):(l=i-20,s=s.slice(l,i+30)));let u=new Error(`${e} (line ${a}, column ${i})
  ${s}
`+" ".repeat(i-l+1)+`^
`);throw Object.assign(u,{column:i,excerpt:s,line:a,pos:n}),u}validateChars(e){let n=0;for(let r of e)fs.isNotXmlChar(r)&&(this.scanner.reset(-([...e].length-n)),this.error("Invalid character")),n+=1}}var UP=GP;function BP(t){return t[0]==="\uFEFF"&&(t=t.slice(1)),t.replace(/\r\n?/g,`
`)}const qP=UP,WP=e0,HP=t0,zP=n0,YP=hh,XP=cs,KP=r0,ZP=lh;function Si(t,e){return new qP(t,e).document}Si.XmlCdata=WP,Si.XmlComment=HP,Si.XmlDocument=zP,Si.XmlElement=YP,Si.XmlNode=XP,Si.XmlProcessingInstruction=KP,Si.XmlText=ZP;var JP=Si;class QP extends Error{constructor(e){super(e)}}function eA(t){let e=null;try{e=JP(t)}catch(n){throw new QP(n.message)}return e}function Vr(t){return t.children[0]}function Su(t){const e=t.indexOf(":");return e>-1?t.substr(e+1):t}function xu(t){return t.name||""}function Ut(t,e,n){const r=Su(e);function i(s,a){return Su(xu(a))===r&&s.push(a),n&&Array.isArray(a.children)?[...s,...a.children.reduce(i,[])]:s}return t&&Array.isArray(t.children)?t.children.reduce(i,[]):[]}function Me(t,e,n){return Ut(t,e,n)[0]||null}function co(t){return t&&Array.isArray(t.children)?[...t.children.filter(e=>e.constructor.name==="XmlElement")]:[]}function Ye(t){const e=t&&Array.isArray(t.children)?t.children.find(n=>n.type==="text"):null;return e?e.text:""}function Er(t,e){return t&&t.attributes[e]||""}const a0=["utf-8","utf-16","iso-8859-1"],o0="utf-8";function tA(t){const e=/charset=([^;]+)/.exec(t);return e?e[1]:null}function nA(t,e){const n=e?tA(e):null,r=n?[n,...a0]:a0;for(const i of r)try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch{}return console.warn(`XML document encoding could not be determined, falling back to ${o0}.`),new TextDecoder(o0).decode(t)}const Mu=new Map;function rA(t){if(Mu.has(t))return Mu.get(t);const e=fetch(t);return e.finally(()=>Mu.delete(t)),Mu.set(t,e),e}function gh(t){return rA(t).catch(()=>fetch(t,{method:"HEAD",mode:"no-cors"}).catch(e=>{throw new ih(`Fetching the document failed either due to network errors or unreachable host, error is: ${e.message}`,0,!1)}).then(()=>{throw new ih("The document could not be fetched due to CORS limitations",0,!0)})).then(async e=>{if(!e.ok){const i=await e.text();throw new ih(`Received an error with code ${e.status}: ${i}`,e.status,!1)}const n=await e.arrayBuffer(),r=e.headers.get("Content-Type");return nA(n,r)}).then(e=>eA(e))}function yh(t,e){const n=t.match(/(https?%3A%2F%2F[^/]+)$/);if(n){const o=n[1],l=yh(decodeURIComponent(o),e);return t.replace(o,encodeURIComponent(l))}const r=new URL(t),i=Object.keys(e),s=i.map(o=>o.toLowerCase()),a=[];for(const o of r.searchParams.keys())s.indexOf(o.toLowerCase())>-1&&a.push(o);return a.map(o=>r.searchParams.delete(o)),i.forEach(o=>r.searchParams.set(o,e[o]===!0?"":e[o])),r.toString()}let iA=1e3*60*60;function sA(){return iA}const xi="caches"in self?caches.open("ogc-client"):null;async function aA(t,...e){if(!xi)return;const n="https://cache/"+e.join("/");await(await xi).put(n,new Response(JSON.stringify(t),{headers:{"x-expiry":(Date.now()+sA()).toString(10)}}))}async function oA(...t){if(!xi)return!1;const e="https://cache/"+t.join("/");return(await xi).match(e).then(r=>!!r&&parseInt(r.headers.get("x-expiry"))>Date.now())}async function lA(...t){if(!xi)return null;const e="https://cache/"+t.join("/"),r=await(await xi).match(e);return r?r.clone().json():null}const Ou=new Map;async function uA(t,...e){if(await cA(),await oA(...e))return lA(...e);const n=e.join("#");if(Ou.has(n))return Ou.get(n);const r=t();r instanceof Promise&&(r.then(()=>Ou.delete(n)),Ou.set(n,r));const i=await r;return await aA(i,...e),i}async function cA(){if(!xi)return;const t=await xi,e=await t.keys();for(let n of e){const r=await t.match(n);parseInt(r.headers.get("x-expiry"))<=Date.now()&&await t.delete(n)}}function fA(t,e,n,r,i,s,a,o,l,u){const f=e==="2.0.0"?"TYPENAMES":"TYPENAME",c=e==="2.0.0"?"COUNT":"MAXFEATURES",h={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:e,[f]:n};if(r!==void 0&&(h.OUTPUTFORMAT=r),s!==void 0&&(h.PROPERTYNAME=s.join(",")),a?(h.RESULTTYPE="hits",h[c]="1"):i!==void 0&&(h[c]=i.toString(10)),o&&(h.SRSNAME=o),l){const d=l.join(",");h.BBOX=u?`${d},${u}`:d}return yh(t,h)}class hA{constructor(e){const n=yh(e,{SERVICE:"WMS",REQUEST:"GetCapabilities"});this._capabilitiesPromise=uA(()=>EP(n),"WMS","CAPABILITIES",n).then(({info:r,layers:i,version:s})=>{this._info=r,this._layers=i,this._version=s}),this._info=null,this._layers=null,this._version=null}isReady(){return this._capabilitiesPromise.then(()=>this)}getServiceInfo(){return this._info}getLayers(){function e(n){return{title:n.title,name:n.name,abstract:n.abstract,..."children"in n&&{children:n.children.map(e)}}}return this._layers.map(e)}getLayerByName(e){let n=null;function r(i){if(n===null){if(i.name===e){n=i;return}"children"in i&&i.children.map(r)}}return this._layers.map(r),n}getVersion(){return this._version}}const dA=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function mA(t){return dA.indexOf(vh(t))>-1}function vh(t){return/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())?`EPSG:${/([0-9]+)$/.exec(t)[1]}`:t}function l0(t){return Vr(t).attributes.version}function pA(t){const e=l0(t),n=Me(Vr(t),"Capability");return Ut(n,"Layer").map(r=>u0(r,e))}function gA(t){const e=Me(Vr(t),"Service"),n=Ut(Me(e,"KeywordList"),"Keyword").map(Ye).filter((r,i,s)=>s.indexOf(r)===i);return{title:Ye(Me(e,"Title")),name:Ye(Me(e,"Name")),abstract:Ye(Me(e,"Abstract")),fees:Ye(Me(e,"Fees")),constraints:Ye(Me(e,"AccessConstraints")),keywords:n}}function u0(t,e,n=[],r=[],i=null){const s=e==="1.3.0"?"CRS":"SRS",a=Ut(t,s).map(Ye),o=a.length>0?a:n,l=Ut(t,"Style").map(yA),u=l.length>0?l:r;function f(m){const p=Er(m,s);return(mA(p)&&e==="1.3.0"?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(v=>Er(m,v))}const c=Me(t,"Attribution"),h=c!==null?vA(c):i,d=Ut(t,"Layer").map(m=>u0(m,e,o,u,h));return{name:Ye(Me(t,"Name")),title:Ye(Me(t,"Title")),abstract:Ye(Me(t,"Abstract")),availableCrs:o,styles:u,attribution:h,boundingBoxes:Ut(t,"BoundingBox").reduce((m,p)=>({...m,[Er(p,s)]:f(p)}),{}),...d.length&&{children:d}}}function yA(t){const e=Er(Me(Me(t,"LegendURL"),"OnlineResource"),"xlink:href");return{name:Ye(Me(t,"Name")),title:Ye(Me(t,"Title")),...e&&{legendUrl:e}}}function vA(t){const e=Er(Me(Me(t,"LogoURL"),"OnlineResource"),"xlink:href"),n=Er(Me(t,"OnlineResource"),"xlink:href"),r=Ye(Me(t,"Title"));return{...r&&{title:r},...n&&{url:n},...e&&{logoUrl:e}}}function Tu(t){return Vr(t).attributes.version}function c0(t){const e=Tu(t);let n;if(e.startsWith("1.0")){const r=Me(Me(Me(Vr(t),"Capability"),"Request"),"GetFeature");n=co(Me(r,"ResultFormat")).map(xu)}else{const r=Me(Vr(t),"OperationsMetadata"),i=Ut(r,"Operation").find(a=>Er(a,"name")==="GetFeature"),s=Ut(i,"Parameter").find(a=>Er(a,"name")==="outputFormat");n=Ut(s,"Value",!0).map(Ye)}return n}function _A(t){const e=Tu(t),n=e.startsWith("1.0")?"Service":"ServiceIdentification",r=e.startsWith("1.0")?"Name":"ServiceType",i=Me(Vr(t),n);let s;return e.startsWith("1.0")?s=Ye(Me(i,"Keywords")).split(",").map(a=>a.trim()):s=Ut(Me(i,"Keywords"),"Keyword").map(Ye),{title:Ye(Me(i,"Title")),name:Ye(Me(i,r)),abstract:Ye(Me(i,"Abstract")),fees:Ye(Me(i,"Fees")),constraints:Ye(Me(i,"AccessConstraints")),keywords:s,outputFormats:c0(t)}}function bA(t){const e=Tu(t),n=c0(t),r=Me(Vr(t),"FeatureTypeList");return Ut(r,"FeatureType").map(i=>EA(i,e,n))}function EA(t,e,n){const r=e.startsWith("2.")?"CRS":"SRS",i=e.startsWith("1.0")?"SRS":`Default${r}`;function s(){const u=Me(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(f=>Er(u,f)).map(parseFloat)}function a(){const u=Me(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(f=>Me(u,f)).map(f=>Ye(f).split(" ")).reduce((f,c)=>[...f,...c]).map(parseFloat)}const o=e.startsWith("1.0")?[]:Ut(t,`Other${r}`).map(Ye).map(vh),l=e.startsWith("1.0")?[]:Ut(Me(t,"OutputFormats"),"Format").map(Ye);return{name:Ye(Me(t,"Name")),title:Ye(Me(t,"Title")),abstract:Ye(Me(t,"Abstract")),defaultCrs:vh(Ye(Me(t,i))),otherCrs:o,outputFormats:l.length>0?l:n,latLonBoundingBox:e.startsWith("1.0")?s():a()}}function wA(t,e,n){const r=Vr(t);let i;if(n.startsWith("2.0"))i=Ut(r,"member").map(u=>co(u)[0]);else{const u=Me(r,"featureMembers");i=u?co(u):Ut(r,"featureMember").map(f=>co(f)[0])}const s=n==="1.0.0"?"fid":"gml:id";function a(u){return u in e.properties}function o(u,f){switch(e.properties[u]){case"integer":return parseInt(f);case"float":return parseFloat(f);case"boolean":return f==="true";default:return f}}function l(u){return co(u).filter(f=>a(Su(xu(f)))).reduce((f,c)=>{const h=Su(xu(c));return{...f,[h]:o(h,Ye(c))}},{})}return i.map(u=>({id:Er(u,s),properties:l(u)}))}function SA(t){return t.reduce((e,n)=>{for(const r in n.properties){const i=n.properties[r];r in e||(e[r]={uniqueValues:[]});const s=e[r].uniqueValues.find(a=>a.value===i);s?s.count++:e[r].uniqueValues.push({value:i,count:1})}return e},{})}sh("parseWmsCapabilities",self,({url:t})=>gh(t).then(e=>({info:gA(e),layers:pA(e),version:l0(e)}))),sh("parseWfsCapabilities",self,({url:t})=>gh(t).then(e=>({info:_A(e),featureTypes:bA(e),version:Tu(e)}))),sh("queryWfsFeatureTypeDetails",self,({url:t,serviceVersion:e,featureTypeFull:n})=>{const r=fA(t,e,n.name,void 0,void 0,Object.keys(n.properties));return gh(r).then(i=>({props:SA(wA(i,n,e))}))});const xA=()=>[{url:"http://wmts1.geoportail.lu/opendata/service",label:"Open Data Webservices WMS"},{url:"http://ows.terrestris.de/osm-gray/service",label:"OpenStreetMap by Terrestris (Grey)"},{url:"http://ows.terrestris.de/osm/service",label:"OpenStreetMap by Terrestris (Color)"}];class MA{constructor(e){ct(this,"capabilitiesPromise");ct(this,"serviceInfo");ct(this,"layers");const n=new nb.default;let r="&";e.indexOf("?")===-1&&(r="?"),e.indexOf("Capabilities")===-1&&(e=e+r+"SERVICE=WMTS&REQUEST=GetCapabilities"),this.capabilitiesPromise=fetch(e).then(i=>i.text()).then(i=>{var a;const s=n.read(i);this.serviceInfo=this.mapServiceInfo(s.ServiceIdentification),this.layers=this.mapToRemoteLayers((a=s.Contents)==null?void 0:a.Layer)})}mapToRemoteLayers(e){return[{type:Dn.WMTS,children:e.map(n=>({type:Dn.WMTS,abstract:n.Abstract,format:n.Format,name:n.Identifier,title:n.Title,tileMatrixSetLink:n.TileMatrixSetLink,wgs84BoundingBox:n.WGS84BoundingBox}))}]}mapServiceInfo(e){return{type:Dn.WMTS,title:e.Title,abstract:e.Abstract,fees:e.Fees,constraints:e.AccessConstraints,serviceTypeVersion:e.ServiceTypeVersion}}isReady(){return this.capabilitiesPromise.then(()=>this)}getLayerByName(e){return this.layers[0].children.filter(n=>n.name===e)[0]}getLayers(){return this.layers}getServiceInfo(){return this.serviceInfo}}class OA{async getRemoteEndpoint(e){let n;return await this.getWmsEndpoint(e).isReady().catch(async()=>{n=await this.getWmtsEndpoint(e).isReady()})||n}getWmsEndpoint(e){return new hA(ls.getProxyfiedUrl(e))}getWmtsEndpoint(e){return new MA(ls.getProxyfiedUrl(e))}async fetchRemoteWmsEndpoint(){return new Promise(e=>e(xA()))}isRemoteLayer(e){return typeof e=="string"&&(e.indexOf(Dn.WMS)===0||e.indexOf(Dn.WMTS)===0)}}const fo=new OA,TA={class:"relative text-center"},NA=["placeholder","value"],CA={key:0,class:"text-center"},LA={class:"lux-label"},PA={key:1,class:"text-center"},AA={class:"lux-label"},kA={key:2,class:"text-center"},DA=L("div",{class:"fa fa-refresh fa-spin"},null,-1),IA={key:3,class:"overflow-auto max-h-[calc(400px-36px)]"},f0=ge(de({__name:"remote-layers",setup(t){const{t:e}=Ze(),n=dt(),r=kn(),i=et([]),s=et(),{remoteLayersOpen:a}=Fe(gt()),{setRemoteLayersOpen:o}=gt();let l=!1,u,f,c;pn(h);function h(){s.value=s.value?Js.updateLayers(s.value,n.layers):void 0}fo.fetchRemoteWmsEndpoint().then(w=>{i.value=w.map(({url:x,label:P})=>({label:P,value:x}))});async function d(w){l=!0,c=await fo.getRemoteEndpoint(w).catch(()=>alert(e("Impossible de contacter ce WMS",{ns:"client"}))),f=w,l=!1}async function m(){const w=c,x=w==null?void 0:w.getLayers();if(x&&x[0]){const P=Xv(x[0],f);s.value=Js.updateLayers(P,n.layers)}}async function p(w){f=u=w,await d(f),m()}function g(w){u=w.target.value}async function v(){await d(u),m()}function y(w){s.value=Js.toggleNode(w.id,s.value,"expanded")}function E(w){const{id:x,name:P}=w,k=c;if(w.checked===!0)n.removeLayers(x);else{const C=k==null?void 0:k.getLayerByName(P);if(C){const T=r.initLayer(Kv({id:x,url:ls.getProxyfiedUrl(f),remoteLayer:C}));n.addLayers(T)}}}return(w,x)=>b(a)?(A(),$e(Yv,{key:0,title:b(e)("Add external data",{ns:"client"}),onClose:x[0]||(x[0]=P=>b(o)(!1))},{content:ni(()=>{var P,k;return[L("div",TA,[ne(Ef,{class:"lux-remote-services-dropdown",options:b(i),placeholder:b(e)("Predefined wms",{ns:"client"}),onChange:p},null,8,["options","placeholder"]),L("input",{class:"lux-input w-[300px]",type:"url",placeholder:b(e)("Choose or write a WMS url",{ns:"client"}),value:b(f)||"",onChange:g},null,40,NA),L("button",{type:"button",class:"lux-btn",onClick:v},ue(b(e)("Get the layers",{ns:"client"})),1)]),!b(l)&&b(c)?(A(),F("div",CA,[L("span",LA,ue(b(e)("Description du service :",{ns:"client"})),1),fl(" "+ue((P=b(c).getServiceInfo())==null?void 0:P.abstract),1)])):$("v-if",!0),!b(l)&&b(c)?(A(),F("div",PA,[L("span",AA,ue(b(e)("Access constraints :",{ns:"client"})),1),fl(" "+ue((k=b(c).getServiceInfo())==null?void 0:k.constraints),1)])):$("v-if",!0),b(l)?(A(),F("div",kA,[DA,L("span",null,ue(b(e)("Chargement des informations",{ns:"client"})),1)])):$("v-if",!0),b(l)?$("v-if",!0):(A(),F("div",IA,[b(s)?(A(),$e(rh,{key:0,class:"block p-[10px] mb-[11px]",node:b(s),onToggleParent:y,onToggleLayer:E},null,8,["node"])):$("v-if",!0)]))]}),_:1},8,["title"])):$("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/remote-layers/remote-layers.vue"]]);function RA(t,e="fr-FR"){const n=new Date(t);return new Intl.DateTimeFormat(e).format(n)}const $A={class:"font-bold"},FA={class:"col-span-2"},ho=ge(de({__name:"layer-metadata-item",props:{label:{type:String,required:!0},value:{type:String,required:!0}},setup(t){const e=t;return(n,r)=>(A(),F(Re,null,[L("span",$A,ue(e.label),1),L("span",FA,ue(e.value),1)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-metadata/layer-metadata-item.vue"]]);function VA(t){return{fr:"fre",en:"eng",de:"ger",lb:"ltz"}[t.toLowerCase()]}function jA(t){return new DOMParser().parseFromString(t,"text/html").body}function GA(t){const e=[];function n(r){const i=r.split("|");i[3]==="WWW:LINK-1.0-http--link"&&e.indexOf(i[2])===-1&&e.push(i[2])}return Array.isArray(t)?t.forEach(n,t):n(t),e}function UA(t){const n=(Array.isArray(t)?t:[t]).filter(r=>r.split("|")[1]==="metadata");return{organisaton:n[0].split("|")[2],name:n[0].split("|")[5],unknown:n[0].split("|")[6],address:n[0].split("|")[7],email:n[0].split("|")[4]}}class h0{}class BA extends h0{async getMetadata(e,n,r){console.assert(e===Dn.WMS);const i=fo.getWmsEndpoint(n);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(r);return{title:a.title,description:a.abstract,keywords:s.keywords,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const qA=new BA;class WA extends h0{async getMetadata(e,n,r){console.assert(e===Dn.WMTS);const i=fo.getWmtsEndpoint(n);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(r);return{title:a.title,description:a.abstract,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const HA=new WA;class zA{async getMetadata(e,n,r){if(e===Dn.WMS)return qA.getMetadata(e,n,r);if(e===Dn.WMTS)return HA.getMetadata(e,n,r);throw new Error(`Unsupported service type: ${e}`)}}const YA=new zA;class XA{constructor(){ct(this,"geonetworkBaseUrl","https://geocatalogue.geoportail.lu/geonetwork/srv");ct(this,"legendBaseUrl","https://map.geoportail.lu/legends/get_html");ct(this,"localMetadataBaseUrl","https://map.geoportail.lu/getMetadata")}async getLayerMetadata(e,n){const r=_i(),i=r.findBgLayerById(+e)||r.findById(+e)||r.find3dLayerById(+e);if(i){const s=i.metadata,a=s==null?void 0:s.metadata_id,o=a&&await this.getLocalMetadata(this.localMetadataBaseUrl,a,n),l=i.name,u=(s==null?void 0:s.legend_name)||"",f=i==null?void 0:i.id,c=u&&await this.getLegendHtml(this.legendBaseUrl,u,f,n);return{...o,title:l,hasLegend:!!c,...c&&{legendHtml:c}}}else{const[s,a,o]=String(e).split("%2D").join("-").split("||");return YA.getMetadata(s,a,o)}}getLocalMetadata(e,n,r){return fetch(`${e}?lang=${r}&uid=${n}`).then(async i=>{const s=(await i.json()).metadata;return{name:s.title,serviceDescription:s.serviceDescription,description:s.abstract,legalConstraints:s.legalConstraints,link:GA(s.link),revisionDate:s.revisionDate,keyword:s.keyword,responsibleParty:s.responsibleParty?UA(s.responsibleParty):void 0,metadataLink:`${this.geonetworkBaseUrl}/${VA(r)}/catalog.search#/metadata/${n}`,isError:!1}}).catch(()=>({isError:!0}))}getLegendHtml(e,n,r,i){const s={lang:i,...n&&{name:n},...r&&{id:r.toString()}};if(s.name&&s.lang){window.devicePixelRatio>1&&(s.dpi=(window.devicePixelRatio*96).toString());const a=`${e}?${new URLSearchParams(s).toString()}`;return fetch(a).then(async o=>{if(o.status>=400&&o.status<600)throw new Error("Server responded with error code");const l=await o.text();return l?jA(l):void 0}).catch(()=>{})}}}const d0=new XA,KA={class:"grid gap-2 grid-cols-3 pt-3 text-[13px] font-arial break-words"},ZA={key:2,class:"col-span-3 grid gap-2 grid-cols-3"},JA={class:"font-bold"},QA={class:"col-span-2"},ek=["title"],tk=["title"],nk={key:4,class:"col-span-3"},rk={class:"font-bold"},ik={class:"col-span-2"},sk=["href"],ak={key:7,class:"col-span-3 grid gap-2 grid-cols-3"},ok={class:"font-bold"},lk={class:"col-span-2"},uk={key:0},ck={key:1},fk={key:2},hk={key:3},dk={key:4},mk=["href"],pk={key:8,class:"grid gap-2 grid-cols-3 col-span-3"},gk={class:"font-bold"},yk={class:"col-span-2"},vk=["href"],_k={key:9,class:"col-span-3"},bk={key:10},Ek={class:"text-xl"},wk={key:11,class:"col-span-3"},m0=ge(de({__name:"layer-metadata",setup(t){const e=nh(),{metadataId:n}=Fe(e),{t:r,i18next:i}=Ze(),s=Se(),a=Se(!0),o=220;Qe(n,async h=>{var d,m;s.value=h?await d0.getLayerMetadata(h,i.language):void 0,a.value=(((m=(d=s.value)==null?void 0:d.description)==null?void 0:m.length)||0)<o}),gn(()=>{i.on("languageChanged",async()=>{n.value&&(s.value=await d0.getLayerMetadata(n.value,i.language))})});const l=me(()=>{var h,d,m;return a.value?(h=s.value)==null?void 0:h.description:(m=(d=s.value)==null?void 0:d.description)==null?void 0:m.slice(0,o)});function u(){a.value=!0}function f(){a.value=!1}function c(){e.clearMetadataId()}return(h,d)=>{const m=Mc("dompurify-html");return s.value?(A(),$e(Yv,{key:0,footer:!1,"max-height":!0,title:b(r)(`${s.value.title}`,{ns:"client"}),onClose:c},{content:ni(()=>{var p,g,v,y,E,w,x,P,k,C,T,N,B,R,ie;return[L("div",KA,[s.value.name?(A(),$e(ho,{key:0,label:b(r)("Name"),value:s.value.name},null,8,["label","value"])):$("v-if",!0),s.value.serviceDescription?(A(),$e(ho,{key:1,label:b(r)("Description du Service"),value:s.value.serviceDescription},null,8,["label","value"])):$("v-if",!0),s.value.description?(A(),F("div",ZA,[L("span",JA,ue(b(r)("Description")),1),L("span",QA,[il(L("span",null,null,512),[[m,b(l)]]),a.value?$("v-if",!0):(A(),F("button",{key:0,title:b(r)("Display full description",{ns:"client"}),onClick:u,class:"text-secondary hover:underline"}," ... ",8,ek)),a.value&&(((p=b(l))==null?void 0:p.length)||0)>o?(A(),F("button",{key:1,title:b(r)("Hide full description",{ns:"client"}),onClick:f,class:"text-secondary hover:underline"}," - ",8,tk)):$("v-if",!0)])])):$("v-if",!0),s.value.legalConstraints?(A(),$e(ho,{key:3,label:b(r)("Contrainte d'utilisation"),value:s.value.legalConstraints},null,8,["label","value"])):$("v-if",!0),((g=s.value.link)==null?void 0:g.length)!==0?(A(),F("div",nk,[(A(!0),F(Re,null,On(s.value.link,O=>(A(),F("div",{class:"grid gap-2 grid-cols-3",key:O},[L("span",rk,ue(b(r)("Url vers la resource")),1),L("span",ik,[L("a",{class:"text-secondary hover:underline",target:"_blank",href:O},ue(O),9,sk)])]))),128))])):$("v-if",!0),s.value.revisionDate?(A(),$e(ho,{key:5,label:b(r)("Revision date"),value:b(RA)(s.value.revisionDate,b(i).language)},null,8,["label","value"])):$("v-if",!0),s.value.keyword?(A(),$e(ho,{key:6,label:b(r)("Keywords"),value:(v=s.value.keyword)==null?void 0:v.join(",")},null,8,["label","value"])):$("v-if",!0),s.value.responsibleParty?(A(),F("div",ak,[L("div",ok,ue(b(r)("Contact")),1),L("div",lk,[(y=s.value.responsibleParty)!=null&&y.organisaton?(A(),F("p",uk,ue((E=s.value.responsibleParty)==null?void 0:E.organisaton),1)):$("v-if",!0),(w=s.value.responsibleParty)!=null&&w.name?(A(),F("p",ck,ue((x=s.value.responsibleParty)==null?void 0:x.name),1)):$("v-if",!0),(P=s.value.responsibleParty)!=null&&P.unknown?(A(),F("p",fk,ue((k=s.value.responsibleParty)==null?void 0:k.unknown),1)):$("v-if",!0),(C=s.value.responsibleParty)!=null&&C.address?(A(),F("p",hk,ue((T=s.value.responsibleParty)==null?void 0:T.address),1)):$("v-if",!0),(N=s.value.responsibleParty)!=null&&N.email?(A(),F("p",dk,[L("a",{class:"text-secondary hover:underline",href:"mailto:"+((B=s.value.responsibleParty)==null?void 0:B.email)},ue((R=s.value.responsibleParty)==null?void 0:R.email),9,mk)])):$("v-if",!0)])])):$("v-if",!0),s.value.metadataLink?(A(),F("div",pk,[L("span",gk,ue(b(r)("Link to the metadata")),1),L("span",yk,[L("a",{class:"text-secondary hover:underline",target:"_blank",href:s.value.metadataLink},ue(b(r)("link")),9,vk)])])):$("v-if",!0),s.value.isError?(A(),F("div",_k,ue(b(r)("The metadata is right now not available")),1)):$("v-if",!0),s.value.legendHtml?(A(),F("div",bk,[L("h4",Ek,ue(b(r)("Legend")),1),il(L("span",null,null,512),[[m,(ie=s.value.legendHtml)==null?void 0:ie.innerHTML]])])):$("v-if",!0),s.value.hasLegend?$("v-if",!0):(A(),F("div",wk,ue(b(r)("The legend is not available for this layer")),1))])]}),_:1},8,["title"])):$("v-if",!0)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-metadata/layer-metadata.vue"]]),Sk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAAAoCAMAAABq645qAAACPVBMVEUAAABaW13////tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy5DjxTaAAAAvXRSTlMAAAABAgMEBQYHCAkKCwwNDg8QERESFBUWFxkaGx0eHyAhIiInKSosMTIzNTY5Ojs8PUFCQ0RERkpMTk9QU1RVVldaXmFjZWZmamtwcXJzdXd3eHl7fX+AgYKDhIaHiIiKi4yOj5CTlJWWl5iZmZqcnZ+goaKjpKanqKqqq6ywsbK0tbW4u7u8vb6/wMHExcbHysvMzM7P0NDS1NXa29zd3t/g4eTl5ujp6uvs7e7u8PLz9PX29/j5+vv8/f5cALqzAAAEcklEQVRo3u3Z+ZPUVBAH8O63LsLKijoIgotHFI+HgiKNeGC8MCqgUUFAJYjgAQ6HKMgGEQQiqChIPFh1iciiwPIEhvv49t/mD5lBORa2tHbLTO2rmqnUTCrJZ3r65ZuEjDHGGLrMWGcKMah7mh/7NP8PzXBqbqgfzdtPb7i/fjQPvq8r5jUVXNNIY4moYeL6+XNfn9Ov6LUZ2/Z7Pxo3YaZWTp/uLPw/reXYbqLRPz/38g+qJ/oTEV396IzmgmquXHZoIRHd/sTs31T1DqIBcyqHZjQWtTbf6nQiokHLVVWn7ju4euXGjsX9LtTAGgPAGGMzOPZSOGFYtmAXsO8skFkgZovQgi2QcZKyIGAAjJQtIgAB/5vRTc2IvbqSqOWNJQdUVdfe+/zitmsu2jeQ/GWMC43HacRhxhAWcJRyEgmYBSVYgROwgJkzeGVEDGEGotqnPaih1Xp63KSvVFVVtz0wt23AvMVda5AZY2FM7OWO/N2DwBMgESBiQZyABUgYSYQkYSBjhAh7QXN3Zfey7YdyzXh6aQpdu2fIpWsD30CykKOU4XPgmBPEnNcmC1jgIT9uCx9ZkOW1kQi9oBm6aMvO3KIVomUPES19/KIaoNo34uA8cUgtB4DzmQXCFoCFhbXgMtgC8DNGKMj7xnIKtj2toeGf55X5c9+ZRpo1lWjyq5c/33Avj+5obpz25miiwd+p6q4/2jfvIrqtrYlemF5MzZObTuhHCw6cUd2y/91ftj5DRJOn0JKniqm56jPtUNXDx44u6NywvaPzPqL+G5v3jCimhhqaX/vyi6VTxtzyYkVV9dSsRvrmnVXUI5oo7GkNEV2RH/igaRVV1Y8fOdE+tEc0tlzqBU1tND+7U1W18t51F8/QAFJrkUccL4VjABFb+MwoMyznszWzBZxfDT2SIbZgm0/TzBbIpLqcr8GwScJxfF4UiliAgGEZ1gKx8VK4bmuafmpdrqr6cFdXBJBSORPkp9A0ZI8hAi4jYQY8CEN8MDML2K/FBBdwKU80kOp3eSBirq7BkJJLstK5UShw+eYhDBGUYNPQeN3WTND2rd+r6oquNUZQ00A49gCEJQg8RhJD8j0DQX6IEBZYMLMAAANZrpHa8lkNBwjOi0Ion90KRIDIQEzsdVfzlurhT1X11F2XqE3qwfNQMiYLGYIYNgAQMcTltXHV3z9w1dAD/8LapH/XJt9eycWudG4U8lGrjYeSIAtMFlaD1SU1NxAR0cA9qrpqr6ruaOmybxLPREBojLEOzoMNkAXsO4YNYRnIpNo3WS30+EByXt+kttY3AEdAyGmZ4/TcKORCDgDhEAg5D0wO7vK1mbmwhajxA9XWkXTTh8dVj6wZX9gr6ZFL9eTm1nbVhUREdOs2Vb25sJqmRTuOq+r+rwfmgGEHVYcU+H7a8KNrdP6kYTXBJ6qPFVjT2DxwzD/msbWqE+vnrvqvevSeutGMUm0dXC+ahk3asb5unt+8cvLIqOvr52nU7Dv7nq31afo0/0mzrhiavwAx1n2SsZnMdgAAAABJRU5ErkJggg==";class xk{bootstrap(){this.restore();let e;e=pn(()=>{this.persist(),e&&e()})}persist(){const e=gt(),{lang:n}=Fe(e);Qe(n,(r,i)=>{i!==r&&(Te.setValue(bi,r),document.documentElement.setAttribute("lang",r))},{immediate:!0})}restore(){const e=Te.getValue(bi);if(e){const{setLang:n}=gt(),{i18next:r}=Ze();r.changeLanguage(e),n(e)}}}const Mk=new xk,Ok=ge(de({__name:"language-selector",setup(t){const{i18next:e,t:n}=Ze(),{setLang:r}=gt(),{lang:i}=Fe(gt()),s=me(()=>["en","de","fr","lb"].map(l=>({label:n(l),value:l,ariaLabel:n("Changer de langue : {{lang}}",{lang:l})}))),a=n("Changer de langue");Mk.bootstrap();function o(l){e.changeLanguage(l),r(l)}return(l,u)=>(A(),F("div",null,[ne(Ef,{class:"lux-navbar-dropdown lux-dropdown-inline text-white h-full",options:b(s),placeholder:b(a),modelValue:b(i),"onUpdate:modelValue":u[0]||(u[0]=f=>qe(i)?i.value=f:null),onChange:o},null,8,["options","placeholder","modelValue"])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/nav-bars/language-selector.vue"]]);class Tk{setCurrentThemeColors(e){const n=document.querySelector(":root");["primary","secondary","tertiary"].forEach(i=>{const s=getComputedStyle(n).getPropertyValue(`--${e}-${i}`);n.style.setProperty(`--color-${i}`,s)})}}const p0=new Tk,Nk={class:"w-full h-14 flex bg-white shadow-header z-10 shrink-0"},Ck=L("div",{class:"flex-2 p-[5px]"},[L("img",{src:Sk})],-1),Lk=L("div",{class:"grow text-center"},"search",-1),Pk={class:"h-full flex"},Ak={class:"hidden lg:inline-block"},kk={class:"border-l-[1px] border-stone-300 h-full"},g0=ge(de({__name:"header-bar",setup(t){const{t:e}=Ze(),n=gt(),{layersOpen:r,myLayersTabOpen:i,themeGridOpen:s}=Fe(n),{setLayersOpen:a,setMyLayersTabOpen:o,setThemeGridOpen:l}=n,u=Gt(),{theme:f}=Fe(u);Qe(f,h=>{h&&p0.setCurrentThemeColors(h.name)},{immediate:!0});function c(){r.value?r.value&&(s.value?a(!1):(i.value&&o(!1),l(!0))):(a(!0),i.value&&o(!1),l(!0))}return(h,d)=>{var m,p;return A(),F("header",Nk,[Ck,Lk,L("div",null,[L("ul",Pk,[L("li",null,[L("button",{class:Le(["flex items-center before:font-icons before:text-3xl before:w-16 text-primary uppercase h-full mr-3",`before:content-${(m=b(f))==null?void 0:m.name}`]),onClick:c},[L("span",Ak,ue(b(e)(`${(p=b(f))==null?void 0:p.name}`)),1)],2)]),L("li",kk,[ne(Ok,{class:"flex-none h-full"})])])])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/header/header-bar.vue"]]),Dk={class:"block text-[13px] sm:text-base uppercase"},jr=ge(de({__name:"button-icon",props:{label:{type:String,required:!0},icon:{type:String,required:!0},active:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(A(),F("button",{class:Le(["h-[42px] w-full sm:h-full sm:w-16 hover:text-white hover:bg-primary",e.active?"bg-primary text-white":""])},[L("span",{class:Le(["block text-[1.7rem] sm:text-[2rem] -mt-1.5 -mb-3 after:font-icons",e.active?"lux-close-cross":`after:content-${e.icon}`])},null,2),L("span",Dk,ue(e.label),1)],2))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/footer/button-icon.vue"]]),Ik=["href"],Mi=ge(de({__name:"button-link",props:{label:{type:String,required:!0},link:{type:String,required:!0}},setup(t){const e=t;return(n,r)=>(A(),F("a",{class:"h-full flex flex-col justify-center px-[7px] uppercase hover:text-white hover:bg-primary",href:`${e.link}`,target:"_blank"},ue(n.$props.label),9,Ik))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/footer/button-link.vue"]]),Rk={class:"flex flex-col w-12 justify-between bg-white z-5 shrink-0 sm:flex-row sm:w-full sm:h-14 sm:shadow-footer"},$k={class:"flex flex-col w-full sm:w-80 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},Fk={class:"flex flex-col w-12 sm:w-64 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},Vk={class:"w-[466px] hidden sm:flex flex-row justify-end text-gray-500 whitespace-nowrap"},y0=ge(de({__name:"footer-bar",setup(t){const{t:e,i18next:n}=Ze(),{setLayersOpen:r}=gt(),{layersOpen:i}=Fe(gt());return(s,a)=>(A(),F("footer",Rk,[$(" left buttons "),L("ul",$k,[L("li",null,[ne(jr,{label:b(e)("Layers",{ns:"client"}),icon:"layers",active:b(i),onClick:a[0]||(a[0]=()=>b(r)(!b(i)))},null,8,["label","active"])]),$(`TODOs in each button when implemented
        - remove class="text-gray-300"
        - add click handler that calls setLayersOpen(true) and opens tool (also via app store)
      `),L("li",null,[ne(jr,{class:"text-gray-300",label:b(e)("My Maps",{ns:"client"}),icon:"mymaps"},null,8,["label"])]),L("li",null,[ne(jr,{class:"text-gray-300",label:b(e)("Infos",{ns:"client"}),icon:"infos"},null,8,["label"])]),L("li",null,[ne(jr,{class:"text-gray-300",label:b(e)("Legends",{ns:"client"}),icon:"legends"},null,8,["label"])]),L("li",null,[ne(jr,{class:"text-gray-300",label:b(e)("Routing",{ns:"client"}),icon:"routing"},null,8,["label"])])]),$(" center buttons "),L("div",Fk,[ne(jr,{class:"text-gray-300",label:b(e)("Dessin",{ns:"client"}),icon:"draw"},null,8,["label"]),ne(jr,{class:"text-gray-300 hidden sm:block",label:b(e)("Mesurer",{ns:"client"}),icon:"measure"},null,8,["label"]),ne(jr,{class:"text-gray-300 hidden sm:block",label:b(e)("Imprimer",{ns:"client"}),icon:"print"},null,8,["label"]),ne(jr,{class:"text-gray-300",label:b(e)("Partager",{ns:"client"}),icon:"share"},null,8,["label"])]),$(" right buttons "),L("div",Vk,[ne(Mi,{class:"hidden lg:flex text-gray-500",label:b(e)("What's new",{ns:"client"}),link:`https://geoportail.lu/${b(n).language}/questions/whats-new/`},null,8,["label","link"]),$("TODO get geonetworkBaseUrl from config"),ne(Mi,{class:"hidden lg:flex text-gray-500",label:b(e)("Geocatalogue",{ns:"client"}),link:""},null,8,["label"]),$("TODO handle feedback links (for different portals?)"),ne(Mi,{class:"hidden lg:flex text-gray-500",label:b(e)("Feedback",{ns:"client"}),link:""},null,8,["label"]),ne(Mi,{class:"hidden lg:flex text-gray-500",label:b(e)("A Propos",{ns:"client"}),link:`https://www.geoportail.lu/${b(n).language}/propos/`},null,8,["label","link"]),ne(Mi,{class:"hidden lg:flex text-gray-500",label:b(e)("Aide",{ns:"client"}),link:`https://www.geoportail.lu/${b(n).language}/documentation/`},null,8,["label","link"]),ne(Mi,{class:"hidden lg:flex text-gray-500",label:b(e)("Contact",{ns:"client"}),link:`https://www.geoportail.lu/${b(n).language}/propos/contactez-nous/`},null,8,["label","link"]),ne(Mi,{class:"text-gray-500",label:b(e)("Legalites",{ns:"client"}),link:`https://www.geoportail.lu/${b(n).language}/propos/mentions-legales/`},null,8,["label","link"]),ne(Mi,{class:"text-gray-500",label:b(e)("ACT",{ns:"client"}),link:"http://www.act.public.lu/"},null,8,["label","link"])])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/footer/footer-bar.vue"]]),jk={class:"flex flex-row flex-wrap pl-2.5"},Gk=["onClick"],Uk={class:"text-2xl absolute top-5"},Bk=ge(de({__name:"theme-grid",props:{themes:{type:Array,required:!0}},setup(t){const e=t,{t:n}=Ze();return(r,i)=>(A(),F("div",jk,[(A(!0),F(Re,null,On(e.themes,s=>(A(),F("button",{class:Le(["relative shrink-0 h-[150px] w-1/2 px-2.5 text-start text-gray-100/40 uppercase hover:bg-[#ccc]",`bg-${s.name}-primary hover:text-${s.name}-primary`]),key:s.id,onClick:a=>r.$emit("setTheme",s.name)},[L("div",Uk,ue(b(n)(`${s.name}`)),1),L("div",{class:Le(["text-6xl absolute bottom-1 after:font-icons",`after:content-${s.name}`])},null,2)],10,Gk))),128))]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/theme-selector/theme-grid.vue"]]),qk=["aria-expanded"],Wk={class:"py-0.5"},Hk={class:"px-1 py-0.5 shrink-0 flex flex-row text-[12px] bg-secondary text-white"},zk={class:"py-[3px]"},Yk={class:"flex flex-row flex-wrap ml-1 w-12"},Xk=ge(de({__name:"theme-selector-button",props:{themes:{type:Array,required:!0},currentTheme:{type:null,required:!1},isOpen:{type:Boolean,required:!1}},setup(t){const e=t,{t:n}=Ze(),r=me(()=>{var i;return((i=e.themes)==null?void 0:i.slice(0,8))||[]});return(i,s)=>{var a;return A(),F("button",{class:"w-full flex flex-row justify-between bg-tertiary text-white px-2 py-1.5 uppercase cursor-pointer hover:bg-white hover:text-primary","aria-expanded":e.isOpen},[L("span",Wk,ue(b(n)("Theme"))+": "+ue(b(n)(`${(a=e.currentTheme)==null?void 0:a.name}`)),1),L("span",Hk,[L("span",zk,ue(b(n)("Changer")),1),L("span",Yk,[(A(!0),F(Re,null,On(b(r),o=>(A(),F("div",{class:Le(`h-2.5 w-2.5 m-px bg-${o.name}-primary`),key:o.id},null,2))),128))])])],8,qk)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/theme-selector/theme-selector-button.vue"]]),Kk={key:0,class:"absolute inset-x-0 top-14 bottom-0 mt-1 bg-primary overflow-y-auto overflow-x-hidden"},Zk=ge(de({__name:"theme-selector",setup(t){const e=gt(),{setThemeGridOpen:n}=e,{themeGridOpen:r}=Fe(e),i=Gt(),s=_i(),{theme:a,themes:o}=Fe(i),l=me(()=>{var c;return((c=o.value)==null?void 0:c.filter(h=>{var d;return((d=h.metadata)==null?void 0:d.display_in_switcher)===!0}))||[]});function u(){n(!r.value)}function f(c){s.setTheme(c),u()}return(c,h)=>(A(),F(Re,null,[ne(Xk,{onClick:u,themes:b(l),currentTheme:b(a),isOpen:b(r)},null,8,["themes","currentTheme","isOpen"]),b(r)?(A(),F("div",Kk,[ne(Bk,{onSetTheme:f,themes:b(l)},null,8,["themes"])])):$("v-if",!0)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/theme-selector/theme-selector.vue"]]);function _h(t,e=0){const{name:n,id:r,children:i,metadata:s}=t;return{name:n,id:r,depth:e,children:i==null?void 0:i.map(a=>_h(a,e+1)),checked:!1,expanded:(s==null?void 0:s.is_expanded)||!1}}const Jk={key:0,class:"mb-7"},Qk=ge(de({__name:"catalog-tree",setup(t){const e=dt(),n=Gt(),r=kn(),i=et(),s=et(),a=me(()=>!e.is3dActive||e.is3dActive&&!e.is3dMesh),{layerTrees_3d:o}=Fe(n);pn(l);function l(){var c;if(n.theme&&e.layers){const h=i.value&&i.value.id===((c=n.theme)==null?void 0:c.id)?i.value:_h(n.theme);i.value=Js.updateLayers(h,e.layers)}}pn(()=>{if(o.value){const c=s.value?s.value:_h(o.value);s.value=Js.updateLayers(c,e.layers3d)}});function u(c,h){const d=h?s:i;d.value=Js.toggleNode(c.id,d.value,"expanded")}function f(c,h){r.toggleLayer(+c.id,!c.checked,h)}return(c,h)=>(A(),F("div",null,[$(" 3D layers catalog, only displayed when 3D is active "),b(s)&&b(e).is3dActive?(A(),F("div",Jk,[(A(),$e(rh,{node:b(s),key:b(s).id,onToggleParent:h[0]||(h[0]=d=>u(d,!0)),onToggleLayer:h[1]||(h[1]=d=>f(d,!0))},null,8,["node"]))])):$("v-if",!0),$(" Main catalog, displays by default and 3D terrain active "),b(i)&&b(a)?(A(),$e(rh,{node:b(i),key:b(i).id,onToggleParent:h[2]||(h[2]=d=>u(d,!1)),onToggleLayer:h[3]||(h[3]=d=>f(d,!1))},null,8,["node"])):$("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/catalog/catalog-tree.vue"]]),eD=ge(de({__name:"catalog-tab",setup(t){const{themeGridOpen:e}=Fe(gt());return(n,r)=>(A(),F(Re,null,[ne(Zk),b(e)===!1?(A(),$e(Qk,{key:0,class:"pt-5 absolute inset-x-2.5 bg-primary overflow-y-auto overflow-x-hidden"})):$("v-if",!0)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/catalog/catalog-tab.vue"]]);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function v0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v0(Object(n),!0).forEach(function(r){tD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nu=function(e){return typeof e}:Nu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function tD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gr(){return Gr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gr.apply(this,arguments)}function nD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rD(t,e){if(t==null)return{};var n=nD(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}var iD="1.15.0";function Ur(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Br=Ur(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),mo=Ur(/Edge/i),_0=Ur(/firefox/i),po=Ur(/safari/i)&&!Ur(/chrome/i)&&!Ur(/android/i),b0=Ur(/iP(ad|od|hone)/i),E0=Ur(/chrome/i)&&Ur(/android/i),w0={capture:!1,passive:!1};function je(t,e,n){t.addEventListener(e,n,!Br&&w0)}function De(t,e,n){t.removeEventListener(e,n,!Br&&w0)}function Cu(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function sD(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Sr(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Cu(t,e):Cu(t,e))||r&&t===n)return t;if(t===n)break}while(t=sD(t))}return null}var S0=/\s+/g;function vn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(S0," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(S0," ")}}function _e(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Qs(t,e){var n="";if(typeof t=="string")n=t;else do{var r=_e(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function x0(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function xr(){var t=document.scrollingElement;return t||document.documentElement}function St(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,a,o,l,u,f,c;if(t!==window&&t.parentNode&&t!==xr()?(s=t.getBoundingClientRect(),a=s.top,o=s.left,l=s.bottom,u=s.right,f=s.height,c=s.width):(a=0,o=0,l=window.innerHeight,u=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Br))do if(i&&i.getBoundingClientRect&&(_e(i,"transform")!=="none"||n&&_e(i,"position")!=="static")){var h=i.getBoundingClientRect();a-=h.top+parseInt(_e(i,"border-top-width")),o-=h.left+parseInt(_e(i,"border-left-width")),l=a+s.height,u=o+s.width;break}while(i=i.parentNode);if(r&&t!==window){var d=Qs(i||t),m=d&&d.a,p=d&&d.d;d&&(a/=p,o/=m,c/=m,f/=p,l=a+f,u=o+c)}return{top:a,left:o,bottom:l,right:u,width:c,height:f}}}function M0(t,e,n){for(var r=Oi(t,!0),i=St(t)[e];r;){var s=St(r)[n],a=void 0;if(n==="top"||n==="left"?a=i>=s:a=i<=s,!a)return r;if(r===xr())break;r=Oi(r,!1)}return!1}function ea(t,e,n,r){for(var i=0,s=0,a=t.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==ye.ghost&&(r||a[s]!==ye.dragged)&&Sr(a[s],n.draggable,t,!1)){if(i===e)return a[s];i++}s++}return null}function bh(t,e){for(var n=t.lastElementChild;n&&(n===ye.ghost||_e(n,"display")==="none"||e&&!Cu(n,e));)n=n.previousElementSibling;return n||null}function In(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ye.clone&&(!e||Cu(t,e))&&n++;return n}function O0(t){var e=0,n=0,r=xr();if(t)do{var i=Qs(t),s=i.a,a=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function aD(t,e){for(var n in t)if(!!t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Oi(t,e){if(!t||!t.getBoundingClientRect)return xr();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=_e(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return xr();if(r||e)return n;r=!0}}while(n=n.parentNode);return xr()}function oD(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Eh(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var go;function T0(t,e){return function(){if(!go){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),go=setTimeout(function(){go=void 0},e)}}}function lD(){clearTimeout(go),go=void 0}function N0(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function C0(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var _n="Sortable"+new Date().getTime();function uD(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(_e(i,"display")==="none"||i===ye.ghost)){t.push({target:i,rect:St(i)});var s=wr({},t[t.length-1].rect);if(i.thisAnimationDuration){var a=Qs(i,!0);a&&(s.top-=a.f,s.left-=a.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(aD(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,a=0;t.forEach(function(o){var l=0,u=o.target,f=u.fromRect,c=St(u),h=u.prevFromRect,d=u.prevToRect,m=o.rect,p=Qs(u,!0);p&&(c.top-=p.f,c.left-=p.e),u.toRect=c,u.thisAnimationDuration&&Eh(h,c)&&!Eh(f,c)&&(m.top-c.top)/(m.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(l=fD(m,h,d,i.options)),Eh(c,f)||(u.prevFromRect=f,u.prevToRect=c,l||(l=i.options.animation),i.animate(u,m,c,l)),l&&(s=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,a){if(a){_e(r,"transition",""),_e(r,"transform","");var o=Qs(this.el),l=o&&o.a,u=o&&o.d,f=(i.left-s.left)/(l||1),c=(i.top-s.top)/(u||1);r.animatingX=!!f,r.animatingY=!!c,_e(r,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=cD(r),_e(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),_e(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){_e(r,"transition",""),_e(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function cD(t){return t.offsetWidth}function fD(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var ta=[],wh={initializeByDefault:!0},yo={mount:function(e){for(var n in wh)wh.hasOwnProperty(n)&&!(n in e)&&(e[n]=wh[n]);ta.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ta.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";ta.forEach(function(a){!n[a.pluginName]||(n[a.pluginName][s]&&n[a.pluginName][s](wr({sortable:n},r)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](wr({sortable:n},r)))})},initializePlugins:function(e,n,r,i){ta.forEach(function(o){var l=o.pluginName;if(!(!e.options[l]&&!o.initializeByDefault)){var u=new o(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Gr(r,u.defaults)}});for(var s in e.options)if(!!e.options.hasOwnProperty(s)){var a=this.modifyOption(e,s,e.options[s]);typeof a<"u"&&(e.options[s]=a)}},getEventProperties:function(e,n){var r={};return ta.forEach(function(i){typeof i.eventProperties=="function"&&Gr(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return ta.forEach(function(s){!e[s.pluginName]||s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function hD(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,a=t.toEl,o=t.fromEl,l=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,c=t.newDraggableIndex,h=t.originalEvent,d=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[_n],!!e){var p,g=e.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Br&&!mo?p=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent(r,!0,!0)),p.to=a||n,p.from=o||n,p.item=i||n,p.clone=s,p.oldIndex=l,p.newIndex=u,p.oldDraggableIndex=f,p.newDraggableIndex=c,p.originalEvent=h,p.pullMode=d?d.lastPutMode:void 0;var y=wr(wr({},m),yo.getEventProperties(r,e));for(var E in y)p[E]=y[E];n&&n.dispatchEvent(p),g[v]&&g[v].call(e,p)}}var dD=["evt"],on=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=rD(r,dD);yo.pluginEvent.bind(ye)(e,n,wr({dragEl:X,parentEl:mt,ghostEl:Oe,rootEl:st,nextEl:hs,lastDownEl:Lu,cloneEl:ut,cloneHidden:Ti,dragStarted:_o,putSortable:Dt,activeSortable:ye.active,originalEvent:i,oldIndex:na,oldDraggableIndex:vo,newIndex:bn,newDraggableIndex:Ni,hideGhostForTarget:R0,unhideGhostForTarget:$0,cloneNowHidden:function(){Ti=!0},cloneNowShown:function(){Ti=!1},dispatchSortableEvent:function(o){en({sortable:n,name:o,originalEvent:i})}},s))};function en(t){hD(wr({putSortable:Dt,cloneEl:ut,targetEl:X,rootEl:st,oldIndex:na,oldDraggableIndex:vo,newIndex:bn,newDraggableIndex:Ni},t))}var X,mt,Oe,st,hs,Lu,ut,Ti,na,bn,vo,Ni,Pu,Dt,ra=!1,Au=!1,ku=[],ds,tr,Sh,xh,L0,P0,_o,ia,bo,Eo=!1,Du=!1,Iu,Bt,Mh=[],Oh=!1,Ru=[],$u=typeof document<"u",Fu=b0,A0=mo||Br?"cssFloat":"float",mD=$u&&!E0&&!b0&&"draggable"in document.createElement("div"),k0=function(){if(!!$u){if(Br)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),D0=function(e,n){var r=_e(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=ea(e,0,n),a=ea(e,1,n),o=s&&_e(s),l=a&&_e(a),u=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+St(s).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+St(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&o.float&&o.float!=="none"){var c=o.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===c)?"vertical":"horizontal"}return s&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||u>=i&&r[A0]==="none"||a&&r[A0]==="none"&&u+f>i)?"vertical":"horizontal"},pD=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,a=r?e.width:e.height,o=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===o||s===l||i+a/2===o+u/2},gD=function(e,n){var r;return ku.some(function(i){var s=i[_n].options.emptyInsertThreshold;if(!(!s||bh(i))){var a=St(i),o=e>=a.left-s&&e<=a.right+s,l=n>=a.top-s&&n<=a.bottom+s;if(o&&l)return r=i}}),r},I0=function(e){function n(s,a){return function(o,l,u,f){var c=o.options.group.name&&l.options.group.name&&o.options.group.name===l.options.group.name;if(s==null&&(a||c))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return n(s(o,l,u,f),a)(o,l,u,f);var h=(a?o:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||Nu(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},R0=function(){!k0&&Oe&&_e(Oe,"display","none")},$0=function(){!k0&&Oe&&_e(Oe,"display","")};$u&&!E0&&document.addEventListener("click",function(t){if(Au)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Au=!1,!1},!0);var ms=function(e){if(X){e=e.touches?e.touches[0]:e;var n=gD(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[_n]._onDragOver(r)}}},yD=function(e){X&&X.parentNode[_n]._isOutsideThisEl(e.target)};function ye(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Gr({},e),t[_n]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return D0(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,o){a.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ye.supportPointer!==!1&&"PointerEvent"in window&&!po,emptyInsertThreshold:5};yo.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);I0(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:mD,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?je(t,"pointerdown",this._onTapStart):(je(t,"mousedown",this._onTapStart),je(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(je(t,"dragover",this),je(t,"dragenter",this)),ku.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Gr(this,uD())}ye.prototype={constructor:ye,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ia=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,X):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(o||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=i.filter;if(MD(r),!X&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&po&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Sr(l,i.draggable,r,!1),!(l&&l.animated)&&Lu!==l)){if(na=In(l),vo=In(l,i.draggable),typeof f=="function"){if(f.call(this,e,l,this)){en({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),on("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=Sr(u,c.trim(),r,!1),c)return en({sortable:n,rootEl:c,name:"filter",targetEl:l,fromEl:r,toEl:r}),on("filter",n,{evt:e}),!0}),f)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!Sr(u,i.handle,r,!1)||this._prepareDragStart(e,o,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,a=i.options,o=s.ownerDocument,l;if(r&&!X&&r.parentNode===s){var u=St(r);if(st=s,X=r,mt=X.parentNode,hs=X.nextSibling,Lu=r,Pu=a.group,ye.dragged=X,ds={target:X,clientX:(n||e).clientX,clientY:(n||e).clientY},L0=ds.clientX-u.left,P0=ds.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,X.style["will-change"]="all",l=function(){if(on("delayEnded",i,{evt:e}),ye.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!_0&&i.nativeDraggable&&(X.draggable=!0),i._triggerDragStart(e,n),en({sortable:i,name:"choose",originalEvent:e}),vn(X,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){x0(X,f.trim(),Th)}),je(o,"dragover",ms),je(o,"mousemove",ms),je(o,"touchmove",ms),je(o,"mouseup",i._onDrop),je(o,"touchend",i._onDrop),je(o,"touchcancel",i._onDrop),_0&&this.nativeDraggable&&(this.options.touchStartThreshold=4,X.draggable=!0),on("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(mo||Br))){if(ye.eventCanceled){this._onDrop();return}je(o,"mouseup",i._disableDelayedDrag),je(o,"touchend",i._disableDelayedDrag),je(o,"touchcancel",i._disableDelayedDrag),je(o,"mousemove",i._delayedDragTouchMoveHandler),je(o,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&je(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){X&&Th(X),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;De(e,"mouseup",this._disableDelayedDrag),De(e,"touchend",this._disableDelayedDrag),De(e,"touchcancel",this._disableDelayedDrag),De(e,"mousemove",this._delayedDragTouchMoveHandler),De(e,"touchmove",this._delayedDragTouchMoveHandler),De(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?je(document,"pointermove",this._onTouchMove):n?je(document,"touchmove",this._onTouchMove):je(document,"mousemove",this._onTouchMove):(je(X,"dragend",this),je(st,"dragstart",this._onDragStart));try{document.selection?ju(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ra=!1,st&&X){on("dragStarted",this,{evt:n}),this.nativeDraggable&&je(document,"dragover",yD);var r=this.options;!e&&vn(X,r.dragClass,!1),vn(X,r.ghostClass,!0),ye.active=this,e&&this._appendGhost(),en({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(tr){this._lastX=tr.clientX,this._lastY=tr.clientY,R0();for(var e=document.elementFromPoint(tr.clientX,tr.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(tr.clientX,tr.clientY),e!==n);)n=e;if(X.parentNode[_n]._isOutsideThisEl(e),n)do{if(n[_n]){var r=void 0;if(r=n[_n]._onDragOver({clientX:tr.clientX,clientY:tr.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);$0()}},_onTouchMove:function(e){if(ds){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,a=Oe&&Qs(Oe,!0),o=Oe&&a&&a.a,l=Oe&&a&&a.d,u=Fu&&Bt&&O0(Bt),f=(s.clientX-ds.clientX+i.x)/(o||1)+(u?u[0]-Mh[0]:0)/(o||1),c=(s.clientY-ds.clientY+i.y)/(l||1)+(u?u[1]-Mh[1]:0)/(l||1);if(!ye.active&&!ra){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Oe){a?(a.e+=f-(Sh||0),a.f+=c-(xh||0)):a={a:1,b:0,c:0,d:1,e:f,f:c};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");_e(Oe,"webkitTransform",h),_e(Oe,"mozTransform",h),_e(Oe,"msTransform",h),_e(Oe,"transform",h),Sh=f,xh=c,tr=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Oe){var e=this.options.fallbackOnBody?document.body:st,n=St(X,!0,Fu,!0,e),r=this.options;if(Fu){for(Bt=e;_e(Bt,"position")==="static"&&_e(Bt,"transform")==="none"&&Bt!==document;)Bt=Bt.parentNode;Bt!==document.body&&Bt!==document.documentElement?(Bt===document&&(Bt=xr()),n.top+=Bt.scrollTop,n.left+=Bt.scrollLeft):Bt=xr(),Mh=O0(Bt)}Oe=X.cloneNode(!0),vn(Oe,r.ghostClass,!1),vn(Oe,r.fallbackClass,!0),vn(Oe,r.dragClass,!0),_e(Oe,"transition",""),_e(Oe,"transform",""),_e(Oe,"box-sizing","border-box"),_e(Oe,"margin",0),_e(Oe,"top",n.top),_e(Oe,"left",n.left),_e(Oe,"width",n.width),_e(Oe,"height",n.height),_e(Oe,"opacity","0.8"),_e(Oe,"position",Fu?"absolute":"fixed"),_e(Oe,"zIndex","100000"),_e(Oe,"pointerEvents","none"),ye.ghost=Oe,e.appendChild(Oe),_e(Oe,"transform-origin",L0/parseInt(Oe.style.width)*100+"% "+P0/parseInt(Oe.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(on("dragStart",this,{evt:e}),ye.eventCanceled){this._onDrop();return}on("setupClone",this),ye.eventCanceled||(ut=C0(X),ut.removeAttribute("id"),ut.draggable=!1,ut.style["will-change"]="",this._hideClone(),vn(ut,this.options.chosenClass,!1),ye.clone=ut),r.cloneId=ju(function(){on("clone",r),!ye.eventCanceled&&(r.options.removeCloneOnHide||st.insertBefore(ut,X),r._hideClone(),en({sortable:r,name:"clone"}))}),!n&&vn(X,s.dragClass,!0),n?(Au=!0,r._loopId=setInterval(r._emulateDragOver,50)):(De(document,"mouseup",r._onDrop),De(document,"touchend",r._onDrop),De(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,X)),je(document,"drop",r),_e(X,"transform","translateZ(0)")),ra=!0,r._dragStartId=ju(r._dragStarted.bind(r,n,e)),je(document,"selectstart",r),_o=!0,po&&_e(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,a,o=this.options,l=o.group,u=ye.active,f=Pu===l,c=o.sort,h=Dt||u,d,m=this,p=!1;if(Oh)return;function g(oe,Ee){on(oe,m,wr({evt:e,isOwner:f,axis:d?"vertical":"horizontal",revert:a,dragRect:i,targetRect:s,canSort:c,fromSortable:h,target:r,completed:y,onMove:function(at,Ie){return Vu(st,n,X,i,at,St(at),e,Ie)},changed:E},Ee))}function v(){g("dragOverAnimationCapture"),m.captureAnimationState(),m!==h&&h.captureAnimationState()}function y(oe){return g("dragOverCompleted",{insertion:oe}),oe&&(f?u._hideClone():u._showClone(m),m!==h&&(vn(X,Dt?Dt.options.ghostClass:u.options.ghostClass,!1),vn(X,o.ghostClass,!0)),Dt!==m&&m!==ye.active?Dt=m:m===ye.active&&Dt&&(Dt=null),h===m&&(m._ignoreWhileAnimating=r),m.animateAll(function(){g("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===X&&!X.animated||r===n&&!r.animated)&&(ia=null),!o.dragoverBubble&&!e.rootEl&&r!==document&&(X.parentNode[_n]._isOutsideThisEl(e.target),!oe&&ms(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function E(){bn=In(X),Ni=In(X,o.draggable),en({sortable:m,name:"change",toEl:n,newIndex:bn,newDraggableIndex:Ni,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Sr(r,o.draggable,n,!0),g("dragOver"),ye.eventCanceled)return p;if(X.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return y(!1);if(Au=!1,u&&!o.disabled&&(f?c||(a=mt!==st):Dt===this||(this.lastPutMode=Pu.checkPull(this,u,X,e))&&l.checkPut(this,u,X,e))){if(d=this._getDirection(e,r)==="vertical",i=St(X),g("dragOverValid"),ye.eventCanceled)return p;if(a)return mt=st,v(),this._hideClone(),g("revert"),ye.eventCanceled||(hs?st.insertBefore(X,hs):st.appendChild(X)),y(!0);var w=bh(n,o.draggable);if(!w||ED(e,d,this)&&!w.animated){if(w===X)return y(!1);if(w&&n===e.target&&(r=w),r&&(s=St(r)),Vu(st,n,X,i,r,s,e,!!r)!==!1)return v(),w&&w.nextSibling?n.insertBefore(X,w.nextSibling):n.appendChild(X),mt=n,E(),y(!0)}else if(w&&bD(e,d,this)){var x=ea(n,0,o,!0);if(x===X)return y(!1);if(r=x,s=St(r),Vu(st,n,X,i,r,s,e,!1)!==!1)return v(),n.insertBefore(X,x),mt=n,E(),y(!0)}else if(r.parentNode===n){s=St(r);var P=0,k,C=X.parentNode!==n,T=!pD(X.animated&&X.toRect||i,r.animated&&r.toRect||s,d),N=d?"top":"left",B=M0(r,"top","top")||M0(X,"top","top"),R=B?B.scrollTop:void 0;ia!==r&&(k=s[N],Eo=!1,Du=!T&&o.invertSwap||C),P=wD(e,r,s,d,T?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,Du,ia===r);var ie;if(P!==0){var O=In(X);do O-=P,ie=mt.children[O];while(ie&&(_e(ie,"display")==="none"||ie===Oe))}if(P===0||ie===r)return y(!1);ia=r,bo=P;var j=r.nextElementSibling,Z=!1;Z=P===1;var Q=Vu(st,n,X,i,r,s,e,Z);if(Q!==!1)return(Q===1||Q===-1)&&(Z=Q===1),Oh=!0,setTimeout(_D,30),v(),Z&&!j?n.appendChild(X):r.parentNode.insertBefore(X,Z?j:r),B&&N0(B,0,R-B.scrollTop),mt=X.parentNode,k!==void 0&&!Du&&(Iu=Math.abs(k-St(r)[N])),E(),y(!0)}if(n.contains(X))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){De(document,"mousemove",this._onTouchMove),De(document,"touchmove",this._onTouchMove),De(document,"pointermove",this._onTouchMove),De(document,"dragover",ms),De(document,"mousemove",ms),De(document,"touchmove",ms)},_offUpEvents:function(){var e=this.el.ownerDocument;De(e,"mouseup",this._onDrop),De(e,"touchend",this._onDrop),De(e,"pointerup",this._onDrop),De(e,"touchcancel",this._onDrop),De(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(bn=In(X),Ni=In(X,r.draggable),on("drop",this,{evt:e}),mt=X&&X.parentNode,bn=In(X),Ni=In(X,r.draggable),ye.eventCanceled){this._nulling();return}ra=!1,Du=!1,Eo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Nh(this.cloneId),Nh(this._dragStartId),this.nativeDraggable&&(De(document,"drop",this),De(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),po&&_e(document.body,"user-select",""),_e(X,"transform",""),e&&(_o&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Oe&&Oe.parentNode&&Oe.parentNode.removeChild(Oe),(st===mt||Dt&&Dt.lastPutMode!=="clone")&&ut&&ut.parentNode&&ut.parentNode.removeChild(ut),X&&(this.nativeDraggable&&De(X,"dragend",this),Th(X),X.style["will-change"]="",_o&&!ra&&vn(X,Dt?Dt.options.ghostClass:this.options.ghostClass,!1),vn(X,this.options.chosenClass,!1),en({sortable:this,name:"unchoose",toEl:mt,newIndex:null,newDraggableIndex:null,originalEvent:e}),st!==mt?(bn>=0&&(en({rootEl:mt,name:"add",toEl:mt,fromEl:st,originalEvent:e}),en({sortable:this,name:"remove",toEl:mt,originalEvent:e}),en({rootEl:mt,name:"sort",toEl:mt,fromEl:st,originalEvent:e}),en({sortable:this,name:"sort",toEl:mt,originalEvent:e})),Dt&&Dt.save()):bn!==na&&bn>=0&&(en({sortable:this,name:"update",toEl:mt,originalEvent:e}),en({sortable:this,name:"sort",toEl:mt,originalEvent:e})),ye.active&&((bn==null||bn===-1)&&(bn=na,Ni=vo),en({sortable:this,name:"end",toEl:mt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){on("nulling",this),st=X=mt=Oe=hs=ut=Lu=Ti=ds=tr=_o=bn=Ni=na=vo=ia=bo=Dt=Pu=ye.dragged=ye.ghost=ye.clone=ye.active=null,Ru.forEach(function(e){e.checked=!0}),Ru.length=Sh=xh=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":X&&(this._onDragOver(e),vD(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,a=this.options;i<s;i++)n=r[i],Sr(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||xD(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,a){var o=i.children[a];Sr(o,this.options.draggable,i,!1)&&(r[s]=o)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Sr(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=yo.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&I0(r)},destroy:function(){on("destroy",this);var e=this.el;e[_n]=null,De(e,"mousedown",this._onTapStart),De(e,"touchstart",this._onTapStart),De(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(De(e,"dragover",this),De(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ku.splice(ku.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ti){if(on("hideClone",this),ye.eventCanceled)return;_e(ut,"display","none"),this.options.removeCloneOnHide&&ut.parentNode&&ut.parentNode.removeChild(ut),Ti=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ti){if(on("showClone",this),ye.eventCanceled)return;X.parentNode==st&&!this.options.group.revertClone?st.insertBefore(ut,X):hs?st.insertBefore(ut,hs):st.appendChild(ut),this.options.group.revertClone&&this.animate(X,ut),_e(ut,"display",""),Ti=!1}}};function vD(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Vu(t,e,n,r,i,s,a,o){var l,u=t[_n],f=u.options.onMove,c;return window.CustomEvent&&!Br&&!mo?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||St(e),l.willInsertAfter=o,l.originalEvent=a,t.dispatchEvent(l),f&&(c=f.call(u,l,a)),c}function Th(t){t.draggable=!1}function _D(){Oh=!1}function bD(t,e,n){var r=St(ea(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function ED(t,e,n){var r=St(bh(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function wD(t,e,n,r,i,s,a,o){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,f=r?n.top:n.left,c=r?n.bottom:n.right,h=!1;if(!a){if(o&&Iu<u*i){if(!Eo&&(bo===1?l>f+u*s/2:l<c-u*s/2)&&(Eo=!0),Eo)h=!0;else if(bo===1?l<f+Iu:l>c-Iu)return-bo}else if(l>f+u*(1-i)/2&&l<c-u*(1-i)/2)return SD(e)}return h=h||a,h&&(l<f+u*s/2||l>c-u*s/2)?l>f+u/2?1:-1:0}function SD(t){return In(X)<In(t)?1:-1}function xD(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function MD(t){Ru.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Ru.push(r)}}function ju(t){return setTimeout(t,0)}function Nh(t){return clearTimeout(t)}$u&&je(document,"touchmove",function(t){(ye.active||ra)&&t.cancelable&&t.preventDefault()}),ye.utils={on:je,off:De,css:_e,find:x0,is:function(e,n){return!!Sr(e,n,e,!1)},extend:oD,throttle:T0,closest:Sr,toggleClass:vn,clone:C0,index:In,nextTick:ju,cancelNextTick:Nh,detectDirection:D0,getChild:ea},ye.get=function(t){return t[_n]},ye.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(ye.utils=wr(wr({},ye.utils),r.utils)),yo.mount(r)})},ye.create=function(t,e){return new ye(t,e)},ye.version=iD;var bt=[],wo,Ch,Lh=!1,Ph,Ah,Gu,So;function OD(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?je(document,"dragover",this._handleAutoScroll):this.options.supportPointer?je(document,"pointermove",this._handleFallbackAutoScroll):r.touches?je(document,"touchmove",this._handleFallbackAutoScroll):je(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?De(document,"dragover",this._handleAutoScroll):(De(document,"pointermove",this._handleFallbackAutoScroll),De(document,"touchmove",this._handleFallbackAutoScroll),De(document,"mousemove",this._handleFallbackAutoScroll)),F0(),Uu(),lD()},nulling:function(){Gu=Ch=wo=Lh=So=Ph=Ah=null,bt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,o=document.elementFromPoint(s,a);if(Gu=n,r||this.options.forceAutoScrollFallback||mo||Br||po){kh(n,this.options,o,r);var l=Oi(o,!0);Lh&&(!So||s!==Ph||a!==Ah)&&(So&&F0(),So=setInterval(function(){var u=Oi(document.elementFromPoint(s,a),!0);u!==l&&(l=u,Uu()),kh(n,i.options,u,r)},10),Ph=s,Ah=a)}else{if(!this.options.bubbleScroll||Oi(o,!0)===xr()){Uu();return}kh(n,this.options,Oi(o,!1),!1)}}},Gr(t,{pluginName:"scroll",initializeByDefault:!0})}function Uu(){bt.forEach(function(t){clearInterval(t.pid)}),bt=[]}function F0(){clearInterval(So)}var kh=T0(function(t,e,n,r){if(!!e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,o=e.scrollSpeed,l=xr(),u=!1,f;Ch!==n&&(Ch=n,Uu(),wo=e.scroll,f=e.scrollFn,wo===!0&&(wo=Oi(n,!0)));var c=0,h=wo;do{var d=h,m=St(d),p=m.top,g=m.bottom,v=m.left,y=m.right,E=m.width,w=m.height,x=void 0,P=void 0,k=d.scrollWidth,C=d.scrollHeight,T=_e(d),N=d.scrollLeft,B=d.scrollTop;d===l?(x=E<k&&(T.overflowX==="auto"||T.overflowX==="scroll"||T.overflowX==="visible"),P=w<C&&(T.overflowY==="auto"||T.overflowY==="scroll"||T.overflowY==="visible")):(x=E<k&&(T.overflowX==="auto"||T.overflowX==="scroll"),P=w<C&&(T.overflowY==="auto"||T.overflowY==="scroll"));var R=x&&(Math.abs(y-i)<=a&&N+E<k)-(Math.abs(v-i)<=a&&!!N),ie=P&&(Math.abs(g-s)<=a&&B+w<C)-(Math.abs(p-s)<=a&&!!B);if(!bt[c])for(var O=0;O<=c;O++)bt[O]||(bt[O]={});(bt[c].vx!=R||bt[c].vy!=ie||bt[c].el!==d)&&(bt[c].el=d,bt[c].vx=R,bt[c].vy=ie,clearInterval(bt[c].pid),(R!=0||ie!=0)&&(u=!0,bt[c].pid=setInterval(function(){r&&this.layer===0&&ye.active._onTouchMove(Gu);var j=bt[this.layer].vy?bt[this.layer].vy*o:0,Z=bt[this.layer].vx?bt[this.layer].vx*o:0;typeof f=="function"&&f.call(ye.dragged.parentNode[_n],Z,j,t,Gu,bt[this.layer].el)!=="continue"||N0(bt[this.layer].el,Z,j)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&h!==l&&(h=Oi(h,!1)));Lh=u}},30),V0=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(!!n){var u=r||s;o();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(f.clientX,f.clientY);l(),u&&!u.el.contains(c)&&(a("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Dh(){}Dh.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=ea(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:V0},Gr(Dh,{pluginName:"revertOnSpill"});function Ih(){}Ih.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:V0},Gr(Ih,{pluginName:"removeOnSpill"}),ye.mount(new OD),ye.mount(Ih,Dh);const j0=.5,TD=!1,Bu=Qi("slider",()=>{const t=dt(),e=Se(j0),n=Se(TD),r=me(()=>[...t.layers].reverse()[0]);function i(a){let o=a;a<.1?o=.1:a>.9&&(o=.9),e.value=o}function s(a){n.value=a!=null?a:!n.value}return{sliderActive:n,sliderRatio:e,sliderTopLayer:r,setRatio:i,toggleSlider:s}},{});function G0(t,e){const{t:n}=Ze();function r(){e==null||e.emit("clickInfo",t)}return{t:n,onClickInfo:r}}const ND={class:"lux-layer-manager-item mt-2.5"},CD=["title"],LD={class:"flex-1 text-left cursor-default"},PD=["aria-label","title"],AD=ge(de({__name:"layer-item-background",props:{showEditButton:{type:Boolean,required:!0},layer:{type:null,required:!0}},emits:["clickEdit","clickInfo"],setup(t,{emit:e}){const n=t,{t:r,onClickInfo:i}=G0(n.layer,{emit:e}),s=me(()=>r('Display informations for "{{layerName}}"',{ns:"client",layerName:a()}));function a(){return r(n.layer.name,{ns:"client"})}return(o,l)=>(A(),F("div",ND,[L("button",{class:"fa fa-info w-3",title:b(s),onClick:l[0]||(l[0]=(...u)=>b(i)&&b(i)(...u))},null,8,CD),L("span",LD,ue(a()),1),t.showEditButton?(A(),F("button",{key:0,class:"fa fa-pencil","aria-label":b(r)("Open editor panel",{ns:"client"}),title:b(r)("Open editor panel",{ns:"client"}),onClick:l[1]||(l[1]=u=>o.$emit("clickEdit"))},null,8,PD)):$("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-item/layer-item-background.vue"]]),kD=["id"],DD=["aria-checked","title"],ID=["id","value","aria-label"],RD=["aria-checked","aria-label"],$D=ge(de({__name:"layer-item-sub",props:{layer:{type:null,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["changeOpacity","clickToggleLayerComparator"],setup(t,{emit:e}){var h,d,m,p;const n=t,{t:r}=Ze(),i=kn(),s=me(()=>r(i.getLayerCurrentLabel(n.layer),{ns:"client"})),a=et(((d=(h=n.layer)==null?void 0:h.opacity)!=null?d:1)*100),o=et(((p=(m=n.layer)==null?void 0:m.previousOpacity)!=null?p:a.value)*100);function l(){a.value===0?a.value=o.value:(o.value=a.value,a.value=0),c()}function u(g){g.target&&(a.value=parseInt(g.target.value),c())}function f(){e("clickToggleLayerComparator",n.layer)}function c(){e("changeOpacity",n.layer,a.value)}return(g,v)=>(A(),F("div",{class:Le(["lux-layer-manager-item-content",t.isOpen?"h-6":"h-0"]),id:`layer-manager-item-content-${t.layer.id}`},[L("button",{class:Le(["w-5 fa-solid",b(a)===0?"fa-eye-slash":"fa-eye"]),role:"switch","aria-checked":b(a)===0,title:b(r)("Toggle layer opacity for {{layerName}}",{layerName:b(s)}),onClick:l},null,10,DD),L("input",{id:`${t.layer.id}-steps-range`,type:"range",min:"0",max:"100",value:b(a),step:"25",onChange:u,class:"m-2.5 w-16 h-[5px] rounded-lg appearance-none cursor-pointer","aria-label":b(r)("Change opacity for {{ layerName }}",{layerName:b(s)})},null,40,ID),t.displayLayerComparatorOpen?(A(),F("button",{key:0,role:"switch",class:Le(["fa ml-auto text-sm cursor-pointer",t.isLayerComparatorOpen?"fa-adjust":"fa-circle"]),"aria-checked":t.isLayerComparatorOpen,"aria-label":b(r)("Toggle layer comparator for {{ layerName }}",{layerName:b(s)}),onClick:f},null,10,RD)):$("v-if",!0)],10,kD))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-item/layer-item-sub.vue"]]),FD=["min","max","value"],Rh=ge(de({__name:"layer-time-datepicker",props:{minDateAllowed:{type:String,required:!1,default:""},maxDateAllowed:{type:String,required:!1,default:""},dateValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=me(()=>Hf(n.minDateAllowed)),i=me(()=>Hf(n.maxDateAllowed));function s(a){e("change",a.target.value)}return(a,o)=>(A(),F("input",{class:"lux-time-datepicker",type:"date",min:b(r),max:b(i),value:t.dateValue?b(Hf)(t.dateValue):"",onChange:s},null,40,FD))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-datepicker.vue"]]),VD={class:"lux-time-slider w-full"},jD=["for"],GD=ge(de({__name:"layer-time-datepicker-value",props:{layer:{type:null,required:!0}},emits:["changeTime"],setup(t){const e=t,{t:n}=Ze(),r=et(e.layer.currentTimeMinValue);return(i,s)=>{var a,o;return A(),F("div",VD,[L("div",null,[L("label",{for:`${t.layer.id}-time-slider-start`,class:"lux-time-slider-label"},ue(b(n)("Date:")),9,jD),ne(Rh,{id:`${t.layer.id}-time-slider-start`,"date-value":b(r),"min-date-allowed":(a=e.layer.time)==null?void 0:a.minValue,"max-date-allowed":(o=e.layer.time)==null?void 0:o.maxValue,onChange:s[0]||(s[0]=l=>i.$emit("changeTime",l))},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-datepicker-value.vue"]]),UD={class:"lux-time-slider w-full"},BD=["for"],qD=["for"],WD=ge(de({__name:"layer-time-datepicker-range",props:{layer:{type:null,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const n=t,{t:r}=Ze(),i=et(n.layer.currentTimeMinValue),s=et(n.layer.currentTimeMaxValue);function a(l){e("changeTime",l,n.layer.currentTimeMaxValue)}function o(l){e("changeTime",n.layer.currentTimeMinValue,l)}return(l,u)=>{var f,c,h,d;return A(),F("div",UD,[$(" Date START datepicker input "),L("div",null,[L("label",{for:`${t.layer.id}-time-slider-start`,class:"lux-time-slider-label"},ue(b(r)("From:")),9,BD),ne(Rh,{id:`${t.layer.id}-time-slider-start`,"date-value":b(i),"min-date-allowed":(f=n.layer.time)==null?void 0:f.minValue,"max-date-allowed":(c=n.layer.time)==null?void 0:c.maxValue,onChange:a},null,8,["id","date-value","min-date-allowed","max-date-allowed"])]),$(" Date END datepicker input "),L("div",null,[L("label",{for:`${t.layer.id}-time-slider-end`,class:"lux-time-slider-label"},ue(b(r)("To:")),9,qD),ne(Rh,{id:`${t.layer.id}-time-slider-end`,"date-value":b(s),"min-date-allowed":(h=n.layer.time)==null?void 0:h.minValue,"max-date-allowed":(d=n.layer.time)==null?void 0:d.maxValue,onChange:o},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-datepicker-range.vue"]]),HD=["onKeydown","aria-label","title"],U0=ge(de({__name:"slider-range-thumb",props:{ariaLabel:{type:String,required:!1},maxLimit:{type:Number,required:!1,default:100},minLimit:{type:Number,required:!1,default:0},selectedValue:{type:Number,required:!0}},emits:["change"],setup(t,{emit:e}){const n=t,r=Se(!1),i=Se(),s=Se(),a=me(()=>{var y;return((y=i.value)==null?void 0:y.offsetWidth)||0}),o=me(()=>{var y;return((y=s.value)==null?void 0:y.offsetWidth)||40}),l=Se(n.selectedValue),u=me(()=>a.value*l.value/100-o.value/2),f=me(()=>({left:`${u.value}px`}));ri(()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",g)}),Qe(()=>n.selectedValue,y=>{l.value=y});function c(y){l.value=Math.max(Math.min(y,100),0),e("change",l.value,r.value)}function h(){c(l.value-1)}function d(){c(l.value+1)}function m(){r.value=!0,document.addEventListener("mousemove",p),document.addEventListener("mouseup",g)}function p(y){!r.value||c(v(y))}function g(y){r.value=!1,c(v(y)),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",g)}function v(y){var w,x;const E=(w=i.value)!=null&&w.offsetWidth?(y.clientX-o.value*2)*100/((x=i.value)==null?void 0:x.offsetWidth):0;return Math.round(Math.max(Math.min(E,n.maxLimit),n.minLimit))}return(y,E)=>(A(),F("div",{class:"w-full",role:"slider",ref_key:"elRefTrack",ref:i},[L("button",{class:Le(["lux-slidebar-thumb",r.value?"dragging":""]),ref_key:"elRefThumb",ref:s,style:Xr(b(f)),onKeydown:[ur(lr(d,["stop"]),["space"]),ur(lr(d,["stop"]),["right"]),ur(lr(h,["stop"]),["left"]),ur(lr(h,["stop"]),["delete"])],onMousedown:m,onMousemove:p,onMouseup:g,"aria-label":t.ariaLabel,title:t.ariaLabel},null,46,HD)],512))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/slider-range/slider-range-thumb.vue"]]),zD=ge(de({__name:"slider-range-active-track",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=Se(),i=Se(),s=me(()=>r.value?Math.round(r.value.offsetWidth*n.selectedMinValue/100):0),a=me(()=>{var f,c;let u=0;return n.selectedMaxValue!==void 0&&((f=r.value)==null?void 0:f.offsetWidth)&&(u=((c=r.value)==null?void 0:c.offsetWidth)*n.selectedMaxValue/100-s.value),Math.round(u)}),o=me(()=>({left:`${s.value}px`,width:`${a.value}px`}));function l(u){if(r.value){const f=r.value.getBoundingClientRect().x,c=(u.clientX-f)*100/r.value.offsetWidth;e("change",c)}}return(u,f)=>(A(),F("div",{ref_key:"elRefFullTrack",ref:r,class:"lux-slidebar-track"},[t.selectedMaxValue!==void 0?(A(),F("div",{key:0,ref_key:"elRefSelectionTrack",ref:i,class:"lux-slidebar-track-selection",style:Xr(b(o)),onClick:l},null,4)):$("v-if",!0),L("div",{class:"lux-slidebar-track-full",onClick:l})],512))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/slider-range/slider-range-active-track.vue"]]),YD={class:"lux-slidebar-fake"},B0=ge(de({__name:"slider-range",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1},ariaLabelMin:{type:String,required:!1},ariaLabelMax:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=Se(n.selectedMinValue),i=Se(n.selectedMaxValue);function s(l,u){e("change",l,n.selectedMaxValue,u)}function a(l,u){e("change",n.selectedMinValue,l,u)}function o(l){i.value===void 0?r.value=l:l>=i.value?i.value=l:l<=n.selectedMinValue?r.value=l:Math.abs(i.value-l)<Math.abs(r.value-l)?i.value=l:r.value=l,e("change",r.value,i.value,!1)}return(l,u)=>(A(),F("div",YD,[$(" Draggable Max thumb button "),i.value!==void 0?(A(),$e(U0,{key:0,ariaLabel:t.ariaLabelMax,minLimit:t.selectedMinValue,selectedValue:i.value,onChange:a},null,8,["ariaLabel","minLimit","selectedValue"])):$("v-if",!0),$(" Draggable Min thumb button "),$(" put Min value after Max value, this is just for z-index grabbing "),ne(U0,{ariaLabel:t.ariaLabelMin,maxLimit:t.selectedMaxValue,selectedValue:r.value,onChange:s},null,8,["ariaLabel","maxLimit","selectedValue"]),$(" Selection highlight "),ne(zD,{selectedMinValue:t.selectedMinValue,selectedMaxValue:t.selectedMaxValue,onChange:o},null,8,["selectedMinValue","selectedMaxValue"])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/slider-range/slider-range.vue"]]),XD={class:"lux-time-slider w-full"},KD={key:0,class:"lux-time-slider-value mr-1.5"},ZD={key:1,class:"lux-time-slider-range mr-1.5"},JD={class:"lux-time-displayed-dates"},QD={key:0,class:"lux-time-start-date grow"},eI={key:1,class:"lux-time-slider-end-date grow text-right"},tI=ge(de({__name:"layer-time-slider",props:{layer:{type:null,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const n=t,{t:r}=Ze(),i=me(p),s=me(()=>{var E,w;return(E=n.layer.time)!=null&&E.minValue?new Date((w=n.layer.time)==null?void 0:w.minValue).getTime():0}),a=me(()=>{var E,w;return(E=n.layer.time)!=null&&E.maxValue?new Date((w=n.layer.time)==null?void 0:w.maxValue).getTime():0}),o=me(()=>a.value-s.value),l=Se(n.layer.currentTimeMaxValue),u=Se(n.layer.currentTimeMinValue),f=me(()=>u.value?new Date(u.value).getTime():void 0),c=me(()=>l.value?new Date(l.value).getTime():void 0),h=me(()=>m(f.value)),d=me(()=>m(c.value));function m(E){return E?(E-s.value)/o.value*100:0}function p(){var N,B;const E=n.layer.time,w=[];if(!E)return;if(E.values)return E.values.map(R=>new Date(R).getTime());const x=new Date(E.minValue),P=new Date((N=E.maxValue)!=null?N:Date.now()),k=1024,C=new Date(x.getTime()),T=(B=E.interval)!=null?B:wv;if(C.setFullYear(x.getFullYear()+k*T[0]),C.setMonth(x.getMonth()+k*T[1],x.getDate()+k*T[2]),C.setSeconds(x.getSeconds()+k*T[3]),C>P)for(let R=0;;R++){const ie=new Date(x.getTime());if(ie.setFullYear(x.getFullYear()+R*T[0]),ie.setMonth(x.getMonth()+R*T[1],x.getDate()+R*T[2]),ie.setSeconds(x.getSeconds()+R*T[3]),ie<=P)w.push(ie.getTime());else break}return w}function g(E){var P;const w=E/100*(a.value-s.value)+s.value,x=BC(w,{minValue:s.value,maxValue:a.value,timeValueList:i.value,timeInterval:(P=n.layer.time)==null?void 0:P.interval});return Wf(x)}function v(E,w){const x=g(E);if(u.value=x,w){const P=g(w);l.value=P}}function y(E,w,x){v(E,w),x||e("changeTime",u.value,l.value)}return(E,w)=>{var x,P,k,C,T,N,B;return A(),F("div",XD,[$(" Slider LayerTimeMode.VALUE "),((x=t.layer.time)==null?void 0:x.mode)===b(Ir).VALUE?(A(),F("div",KD,[ne(B0,{ariaLabelMin:`${b(r)("Modifier la date de d\xE9but",{ns:"client"})}`,selectedMinValue:b(h),onChange:y},null,8,["ariaLabelMin","selectedMinValue"])])):$("v-if",!0),$(" Slider LayerTimeMode.RANGE "),((P=t.layer.time)==null?void 0:P.mode)===b(Ir).RANGE?(A(),F("div",ZD,[ne(B0,{ariaLabelMin:`${b(r)("Modifier la date de d\xE9but",{ns:"client"})}`,ariaLabelMax:`${b(r)("Modifier la date de fin",{ns:"client"})}`,selectedMinValue:b(h),selectedMaxValue:b(d),onChange:y},null,8,["ariaLabelMin","ariaLabelMax","selectedMinValue","selectedMaxValue"])])):$("v-if",!0),$(" Display localized time values "),L("div",JD,[$(" Display localized time values Min value "),((k=t.layer.time)==null?void 0:k.mode)===b(Ir).RANGE||((C=t.layer.time)==null?void 0:C.mode)===b(Ir).VALUE?(A(),F("div",QD,[L("span",null,ue(u.value?b(Sv)(u.value,(T=t.layer.time)==null?void 0:T.resolution):"-"),1)])):$("v-if",!0),$(" Display localized time values Max value "),((N=t.layer.time)==null?void 0:N.mode)===b(Ir).RANGE?(A(),F("div",eI,[L("span",null,ue(l.value?b(Sv)(l.value,(B=t.layer.time)==null?void 0:B.resolution):"-"),1)])):$("v-if",!0)])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-slider.vue"]]),nI=ge(de({__name:"layer-time",props:{layer:{type:null,required:!0}},emits:["changeTime"],setup(t,{emit:e}){function n(r,i){e("changeTime",r,i)}return(r,i)=>{var s,a,o,l,u;return A(),F(Re,null,[$(" Layer time: slider widget "),((s=t.layer.time)==null?void 0:s.widget)===b(Hl).SLIDER?(A(),$e(tI,{key:0,layer:t.layer,onChangeTime:n},null,8,["layer"])):$("v-if",!0),$(" Layer time: datepicker VALUE (one date) widget "),((a=t.layer.time)==null?void 0:a.widget)===b(Hl).DATEPICKER&&((o=t.layer.time)==null?void 0:o.mode)===b(Ir).VALUE?(A(),$e(GD,{key:1,layer:t.layer,onChangeTime:n},null,8,["layer"])):$("v-if",!0),$(' Layer time: datepicker RANGE ("from:" date - "to:" date) widget '),((l=t.layer.time)==null?void 0:l.widget)===b(Hl).DATEPICKER&&((u=t.layer.time)==null?void 0:u.mode)===b(Ir).RANGE?(A(),$e(WD,{key:2,layer:t.layer,onChangeTime:n},null,8,["layer"])):$("v-if",!0)],64)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time.vue"]]),rI={class:"lux-layer-manager-item relative"},iI={class:"w-full flex flex-nowrap items-start gap-x-2"},sI=["title"],aI=["aria-label","title"],oI=["aria-expanded","aria-controls","data-cy"],lI={class:"grow"},uI=["title","aria-label"],q0=ge(de({__name:"layer-item",props:{is3d:{type:Boolean,required:!0},layer:{type:null,required:!0},dragHandleClassName:{type:String,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["clickInfo","clickToggle","clickToggleLayerComparator","clickRemove","changeOpacity","changeTime"],setup(t,{emit:e}){const n=t,{t:r,onClickInfo:i}=G0(n.layer,{emit:e}),s=kn(),a=me(()=>r(s.getLayerCurrentLabel(n.layer),{ns:"client"})),o=me(()=>r('Sort "{{layerName}}" in the list',{ns:"client",layerName:a.value})),l=me(()=>r('Display informations for "{{layerName}}"',{ns:"client",layerName:a.value})),u=me(()=>r('Remove layer "{{layerName}}"',{ns:"client",layerName:a.value}));function f(c,h){e("changeTime",c,h)}return(c,h)=>(A(),F("div",rI,[L("div",iI,[L("button",{class:Le(["fa-solid fa-bars cursor-move mt-1",t.dragHandleClassName]),title:b(o)},null,10,sI),L("button",{class:"fa-solid fa-info mt-1","aria-label":b(l),title:b(l),onClick:h[0]||(h[0]=(...d)=>b(i)&&b(i)(...d))},null,8,aI),L("button",{"aria-expanded":t.isOpen,"aria-controls":`layer-manager-item-content-${t.layer.id}`,"data-cy":`myLayerItemLabel-${t.layer.id}`,class:Le([t.is3d?"cursor-default":"","grow text-left break-words w-[70%] flex items-center"]),onClick:h[1]||(h[1]=d=>c.$emit("clickToggle",t.layer))},[L("span",lI,ue(b(a)),1),t.is3d?$("v-if",!0):(A(),F("span",{key:0,class:Le(["w-3.5 fa-solid",t.isOpen?"fa-xmark":"fa-ellipsis"]),"aria-hidden":"true"},null,2))],10,oI),L("button",{class:"mt-1 fa-regular fa-trash-can",title:b(u),"aria-label":b(u),onClick:h[2]||(h[2]=d=>c.$emit("clickRemove",t.layer))},null,8,uI)]),$(" Layer item sub content (opacity and toggle comparator) "),t.is3d?$("v-if",!0):(A(),$e($D,{key:0,layer:t.layer,isOpen:t.isOpen,isLayerComparatorOpen:t.isLayerComparatorOpen,displayLayerComparatorOpen:t.displayLayerComparatorOpen,onClickToggleLayerComparator:h[3]||(h[3]=d=>c.$emit("clickToggleLayerComparator",d)),onChangeOpacity:h[4]||(h[4]=(d,m)=>c.$emit("changeOpacity",d,m))},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen"])),$(" Layer time: slider OR datepicker widgets "),t.layer.time?(A(),$e(nI,{key:1,layer:t.layer,onChangeTime:f},null,8,["layer"])):$("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-item/layer-item.vue"]]),cI={key:0,class:"mb-4 sortable-layers-3d"},fI=["id"],hI={class:"sortable-layers"},dI=["id"],mI={class:"flex flex-row justify-center space-x-1 my-2"},pI=ge(de({__name:"layer-manager",emits:["displayCatalog"],setup(t,{emit:e}){const{t:n}=Ze(),{setMetadataId:r}=nh(),i=dt(),s=gt(),a=os(),o=Bu(),{bgLayer:l}=Fe(i),{sliderActive:u}=Fe(o),f=me(()=>[...i.layers].reverse()),c=me(()=>[...i.layers3d].reverse()),h=et(),d="drag-handle",m=me(()=>a.isLayerStyleEditable(l.value)),{setRemoteLayersOpen:p}=gt();gn(()=>{const C={dragClass:"lux-sortable-drag",ghostClass:"lux-sortable-ghost",sort:!0,handle:`.${d}`,forceFallback:ZC},T=document.querySelector(".sortable-layers"),N=document.querySelector(".sortable-layers-3d");T&&ye.create(T,{...C,onSort:g}),N&&ye.create(N,{...C,onSort:v})});function g(C,T){const N=[...C.to.children].map(B=>Number(B.id)).reverse();i.reorderLayers(N,T)}function v(C){g(C,!0)}function y(C,T){i.setLayerOpacity(C.id,T/100)}function E(C,T,N){i.setLayerTime(C.id,T,N)}function w(C){i.removeLayers(C.id)}function x(C){h.value=h.value!==C.id?C.id:void 0}function P(){s.openStyleEditorPanel()}function k(){o.toggleSlider()}return(C,T)=>(A(),F("div",null,[b(c).length>0?(A(),F("ul",cI,[(A(!0),F(Re,null,On(b(c),(N,B)=>(A(),F("li",{key:N.id,id:N.id},[ne(q0,{is3d:!0,dragHandleClassName:d,layer:N,isOpen:b(h)===N.id,isLayerComparatorOpen:b(u),displayLayerComparatorOpen:B===0,onClickRemove:w,onClickToggle:x,onClickToggleLayerComparator:k,onClickInfo:R=>b(r)(N.id),onChangeOpacity:y,onChangeTime:(R,ie)=>E(N,R,ie)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,fI))),128))])):$("v-if",!0),L("ul",hI,[(A(!0),F(Re,null,On(b(f),(N,B)=>(A(),F("li",{key:N.id,id:N.id},[ne(q0,{is3d:!1,dragHandleClassName:d,layer:N,isOpen:b(h)===N.id,isLayerComparatorOpen:b(u),displayLayerComparatorOpen:B===0,onClickRemove:w,onClickToggle:x,onClickToggleLayerComparator:k,onClickInfo:R=>b(r)(N.id),onChangeOpacity:y,onChangeTime:(R,ie)=>E(N,R,ie)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,dI))),128))]),ne(AD,{layer:b(l)||b(bu),showEditButton:b(m),onClickInfo:T[0]||(T[0]=()=>b(l)&&b(r)(b(l).id)),onClickEdit:P},null,8,["layer","showEditButton"]),L("div",mI,[L("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:T[1]||(T[1]=N=>e("displayCatalog"))},ue(b(n)("+ Add layers",{ns:"client"})),1),L("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:T[2]||(T[2]=N=>b(p)(!0))},ue(b(n)("+ Add external Wms",{ns:"client"})),1)])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-manager.vue"]]),gI={class:"flex flex-col h-full pt-1.5"},yI={class:"h-16 shrink-0 flex justify-between lux-panel-title"},vI=["aria-label"],_I={class:"flex flex-row gap-2 h-10 text-2xl"},bI=["aria-expanded"],EI={key:0},wI=["aria-expanded"],SI={class:"relative grow p-2.5 bg-primary overflow-auto"},W0=ge(de({__name:"layer-panel",setup(t){const{t:e}=Ze(),n=gt(),{setLayersOpen:r}=n,{myLayersTabOpen:i}=Fe(n),{layers:s}=Fe(dt());function a(){n.setMyLayersTabOpen(!0)}function o(){n.setMyLayersTabOpen(!1)}return(l,u)=>(A(),F("div",gI,[$(" Panel title and close button "),L("div",yI,[L("h1",null,ue(b(e)("layers",{ns:"client"})),1),L("span",null,[L("button",{onClick:u[0]||(u[0]=()=>b(r)(!1)),"aria-label":b(e)("Close",{ns:"client"}),class:"fa-sharp fa-solid fa-close"},null,8,vI)])]),$(" My Layers and Catalog tab labels "),L("div",_I,[L("button",{onClick:a,class:Le(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",b(i)?"bg-primary":"bg-tertiary"]),"aria-expanded":b(i)},[fl(ue(b(e)("my_layers",{ns:"client"}))+" ",1),b(s).length?(A(),F("span",EI,"("+ue(b(s).length)+")",1)):$("v-if",!0)],10,bI),L("button",{onClick:o,class:Le(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",b(i)?"bg-tertiary":"bg-primary"]),"aria-expanded":!b(i)},ue(b(e)("Catalog",{ns:"client"})),11,wI)]),$(" Panel content (MyLayers and Catalog) "),L("div",SI,[b(i)?(A(),$e(pI,{key:0,onDisplayCatalog:o})):$("v-if",!0),b(i)?$("v-if",!0):(A(),$e(eD,{key:1}))])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-panel/layer-panel.vue"]]);class xI{bootstrap(){let e;e=pn(()=>{this.restore(),this.persist(),e&&e()})}persist(){const e=Bu();Qe([()=>e.sliderActive,()=>e.sliderRatio],([n,r],[i])=>{n!==i&&Te.setValue(Xf,n),Te.setValue(Kf,r)})}restore(){const e=Te.getValue(Xf,zf),n=Te.getValue(Kf,Ks),{toggleSlider:r,setRatio:i}=Bu();typeof e<"u"&&e!==null&&(r(e),typeof n!==void 0&&n!==null&&i(n!=null?n:j0))}}const MI=new xI,OI=["onKeydown"],TI=L("span",{class:"lux-slider-line"},null,-1),NI=L("span",{class:"lux-slider-arrows"},[L("span"),L("span")],-1),CI={key:0,class:"lux-slider-layer-label"},LI=L("i",{class:"fa fa-arrow-left mr-2"},null,-1),PI=ge(de({__name:"splitter-element",props:{sliderActive:{type:Boolean,required:!0},sliderRatio:{type:Number,required:!0},sliderTopLayer:{type:null,required:!0},sliderOffset:{type:Number,required:!0},containerOffset:{type:Number,required:!0}},emits:["moveSplitBar","escSplitBar"],setup(t,{expose:e,emit:n}){const r=t,i=30,{t:s}=Ze(),a=Se(null),o=me(()=>({left:`${r.sliderOffset}px`}));let l=!1;e({sliderElement:a});function u(g){n("moveSplitBar",g+a.value.offsetWidth/2)}function f(){l=!0,document.addEventListener("mousemove",c),document.addEventListener("mouseup",h)}function c(g){!l||u(g.clientX)}function h(){l=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}function d(){const g=r.containerOffset+a.value.offsetLeft;u(g+i)}function m(){const g=r.containerOffset+a.value.offsetLeft;u(g-i)}function p(){n("escSplitBar")}return gn(()=>{var g;(g=a.value)==null||g.focus({focusVisible:!0})}),ri(()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}),(g,v)=>(A(),F("button",{ref_key:"sliderElement",ref:a,onMousedown:f,onMousemove:c,onMouseup:h,onKeydown:[ur(lr(d,["stop"]),["space"]),ur(lr(d,["stop"]),["right"]),ur(lr(m,["stop"]),["left"]),ur(lr(m,["stop"]),["delete"]),ur(lr(p,["stop"]),["esc"])],class:"left-[20px] absolute h-full w-[32px] block",style:Xr(b(o)),role:"seperator","aria-controls":"map-container"},[TI,NI,t.sliderTopLayer?(A(),F("span",CI,[LI,L("span",null,ue(b(s)(t.sliderTopLayer.name)),1)])):$("v-if",!0)],44,OI))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/slider/splitter-element.vue"]]),H0=ge(de({__name:"slider-comparator",setup(t){const e=Bu(),n=eh(),r=mr().olMap,i=Se(null),{sliderActive:s,sliderRatio:a,sliderTopLayer:o}=Fe(e),l=me(()=>{var y,E;return((E=(y=i.value)==null?void 0:y.sliderElement)==null?void 0:E.offsetWidth)||0}),u=function(){var E,w,x;let y=(x=(w=(E=r.value)==null?void 0:E.getViewport())==null?void 0:w.parentElement)==null?void 0:x.offsetLeft;return(y===void 0||y===0)&&(y=d==null?void 0:d.offsetLeft),y!==void 0?y:0},f=me(()=>{var y,E;return r.value&&i.value?a.value*r.value.getSize()[0]-((E=(y=i.value)==null?void 0:y.sliderElement)==null?void 0:E.offsetWidth)/2:0});let c,h,d;MI.bootstrap(),Qe([o,s],([y,E],[w])=>{var x;y&&E?(y!==w&&p(),m()):p(),(x=r.value)==null||x.render()}),Qe(f,()=>{var y;(y=r.value)==null||y.render()});function m(){const y=n.getLayerFromCache(o.value);!y||(c=y.on(Zh.default.PRERENDER,function(E){var B;const w=E.context,x=(B=r.value)==null?void 0:B.getSize(),P=f.value+l.value/2,k=No.getRenderPixel(E,[0,0]),C=No.getRenderPixel(E,[P,0]),T=No.getRenderPixel(E,[0,x[1]]),N=No.getRenderPixel(E,[P,x[0]]);w.save(),w.beginPath(),w.moveTo(k[0],k[1]),w.lineTo(T[0],T[1]),w.lineTo(N[0],N[1]),w.lineTo(C[0],C[1]),w.closePath(),w.clip()}),h=y.on(Zh.default.POSTRENDER,function(E){E.context.restore()}))}function p(){G_.unByKey([c,h])}function g(y){var x;const E=(x=r.value)==null?void 0:x.getSize(),w=(y-u())/E[0];e.setRatio(w)}function v(){e.toggleSlider()}return gn(()=>{var y,E;d=(E=(y=r.value)==null?void 0:y.getTargetElement())==null?void 0:E.closest(".map-wrapper")}),ri(()=>{p()}),(y,E)=>b(o)&&b(s)?(A(),$e(PI,{key:0,ref_key:"splitterElement",ref:i,sliderActive:b(s),sliderRatio:b(a),sliderTopLayer:b(o),sliderOffset:b(f),containerOffset:u(),onMoveSplitBar:g,onEscSplitBar:v},null,8,["sliderActive","sliderRatio","sliderTopLayer","sliderOffset","containerOffset"])):$("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/slider/slider-comparator.vue"]]),qu="-",$h=",",z0="--";class AI{constructor(){ct(this,"layersOpacitiesToNumbersV2",e=>this.layersOpacitiesToNumbers(e,$h))}layerTimesToStrings(e){return e?e.split(z0):[]}layerIdsToLayers(e){const n=_i(),r=kn();return(e?e.split(qu):[]).map(s=>{const a=fo.isRemoteLayer(s)?gP(s):n.findById(parseInt(s,10));return a?r.initLayer(a):void 0})}layerNamesToLayersV2(e){const n=_i(),r=kn();return(e?e.split($h):[]).map(s=>{const a=n.findByName(s);return a?r.initLayer(a):void 0})}layersOpacitiesToNumbers(e,n=qu){return XC(e,n)}layersVisibilitiesToBooleansV2(e){return KC(e,$h)}layersToLayerIds(e){return(e==null?void 0:e.map(n=>n.id).join(qu))||""}layersToLayerOpacities(e){return(e==null?void 0:e.map(n=>{var r;return(r=n.opacity)!=null?r:1}).join(qu))||""}layersToLayerTimes(e){return(e==null?void 0:e.map(n=>{var r;return(r=kn().getLayerCurrentTime(n))!=null?r:""}).join(z0))||""}bgLayerNameToBgLayer(e){const n=_i();return e?n.findBgLayerByName(e):null}bgLayerToBgLayerName(e){return(e==null?void 0:e.name)||bu.name}}const En=new AI,kI="basemap_2015_global",DI="orthogr_2013_global",II={webbasemap:"basemap_2015_global","pixelmaps-color":"topogr_global","pixelmaps-gray":"topo_bw_jpeg",streets:"streets_jpeg",voidlayer:"blank"};class RI{bootstrap(){const e=Gt();let n;n=pn(()=>{e.bgLayers.length>0&&(this.restore(),this.persist(),n&&n())})}persist(){const e=dt(),{bgLayer:n}=Fe(e);Qe(n,(r,i)=>{i!==r&&Te.setValue(Nv,r,En.bgLayerToBgLayerName)},{immediate:!0})}restore(){const{setMapBackground:e}=th(),n=this.getBgLayerFromStorage();e(n)}getBgLayerFromStorage(){const e=Te.getInitialVersion(),n=Te.getValue(Nv);return n?e===2?this.getBgLayerFromStorageV2(n):En.bgLayerNameToBgLayer(n):En.bgLayerNameToBgLayer(kI)}getBgLayerFromStorageV2(e){const n=Te.getValue(Iv,Ks);let r="";return e?r=II[e]:n===0&&(r=DI),En.bgLayerNameToBgLayer(r)}}const Y0=new RI;class $I{bootstrap(){const e=Gt();let n;n=pn(()=>{e.themes&&(this.restore(),this.persist(),n&&n())})}persist(){const e=dt(),{layers:n}=Fe(e);Qe(n,(r,i)=>{i!==r&&(Te.setValue(Tv,r,En.layersToLayerIds),Te.setValue(Cv,r,En.layersToLayerOpacities),Te.setValue(Lv,r,En.layersToLayerTimes))},{immediate:!0})}restore(){const e=Te.getInitialVersion(),n=dt(),r=Te.getValue(Tv,e===2?En.layerNamesToLayersV2:En.layerIdsToLayers);this.restoreLayersOpacities(r,e),this.restoreLayersTimes(r),e===2&&(Te.removeItem(Iv),Te.removeItem(eL),Te.removeItem(Rv),Te.removeItem($v)),n.addLayers(...(r==null?void 0:r.filter(i=>i))||[])}restoreLayersOpacities(e,n){const r=n===2?this.getOpacitiesFromStorageV2():this.getOpacitiesFromStorage();r.length&&(e==null||e.forEach((i,s)=>{var a;return i&&(i.opacity=(a=r[s])!=null?a:1)}))}restoreLayersTimes(e){const n=Te.getValue(Lv,En.layerTimesToStrings);n.length&&(e==null||e.forEach((r,i)=>r&&n[i]&&this.restoreLayerTime(r,n[i])))}restoreLayerTime(e,n){const r=n.split("/");e.currentTimeMinValue=r[0],e.currentTimeMaxValue=r[1]}getOpacitiesFromStorage(){return Te.getValue(Cv,En.layersOpacitiesToNumbers)}getOpacitiesFromStorageV2(){const e=Te.getValue(Rv,En.layersOpacitiesToNumbersV2),n=Te.getValue($v,En.layersVisibilitiesToBooleansV2);return e.map((r,i)=>n[i]?r:0)}}const X0=new $I;class FI{themeToThemeName(e){return(e==null?void 0:e.name)||""}}const VI=new FI;class jI{bootstrap(){this.restore();let e;e=pn(()=>{this.persist(),e&&e()})}persist(){const e=Gt();Qe(()=>e.theme,(n,r)=>{r!==n&&n&&Te.setValue(lo,n,VI.themeToThemeName)},{immediate:!0})}restore(){const e=Te.getValue(lo);if(e){const{setTheme:n}=Gt();n(e)}}}const K0=new jI;class GI{bootstrapLayersOpen(){this.restoreLayersOpen();let e;e=pn(()=>{this.persistLayersOpen(),e&&e()})}persistLayersOpen(){const e=gt(),{layersOpen:n}=Fe(e);Qe(n,(r,i)=>{i!==r&&Te.setValue(du,r)},{immediate:!0})}restoreLayersOpen(){const e=Te.getValue(du)!=="false",{setLayersOpen:n}=gt();n(e)}}const Z0=new GI;class UI{bootstrap(){this.restore();let e;e=pn(()=>{this.persist(),e&&e()})}persist(){}restore(){const e=Te.getValue(JC);gt().setMapId(e)}}const J0=new UI,BI=ge(de({__name:"simple-style-item",props:{styleName:{type:String,required:!0},colors:{type:Array,required:!0}},setup(t){const e=t;return(n,r)=>(A(!0),F(Re,null,On(e.colors,(i,s)=>(A(),F("span",{key:`${t.styleName}-${s}`,class:"grow m-px",style:Xr(`background-color: ${i}`)}," \xA0 ",4))),128))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/simple-style-item.vue"]]),qI={class:"text-white border-2 p-[10px] m-[10px]"},WI={class:"text-center mb-3"},HI=["title"],zI={class:"text-white"},YI=["title","onClick"],XI={class:"flex"},KI=ge(de({__name:"simple-style-selector",setup(t){const{t:e}=Ze(),n=er(),r=os(),{bgStyle:i}=Fe(n),s=Qn().simple_styles.road,a=Se(s);Qe(i,l=>a.value=r.checkSelection(l||[],s),{immediate:!0});function o(l){n.setSimpleStyle(l)}return(l,u)=>(A(),F("div",qI,[$(" TODO: create clean container for simple and advanced style editors "),L("h5",WI,ue(b(e)("Select a style",{ns:"client"})),1),(A(!0),F(Re,null,On(a.value,f=>(A(),F("div",{key:f.unlocalized_label,title:b(e)(f.unlocalized_label,{ns:"client"}),class:Le(`${f.selected?"border-dotted":"border-hidden"} border-2 p-px`)},[L("span",zI,ue(b(e)(f.unlocalized_label,{ns:"client"}))+" : ",1),L("button",{title:b(e)("Select style: {{styleName}}",{styleName:b(e)(f.unlocalized_label)}),onClick:c=>o(f),class:"w-full"},[L("span",XI,[ne(BI,{colors:f.colors,"style-name":f.unlocalized_label},null,8,["colors","style-name"])])],8,YI)],10,HI))),128))]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/simple-style-selector.vue"]]);function ZI(t){const e=JI(t);return!e||!e.medium_style_class?[]:Qn().medium_default_styles[e.medium_style_class]}function JI(t){return Qn().bg_layers.find(e=>e.id==(t==null?void 0:t.id))}const QI={class:"flex w-full items-center"},e3={for:"colorId",class:"w-40 m-0 font-medium"},t3={class:"grow"},n3=["value"],r3=["checked","aria-label"],i3=ge(de({__name:"medium-style-item",props:{style:{type:null,required:!0},colorEditable:{type:Boolean,required:!0}},emits:["changeStyle"],setup(t,{emit:e}){const n=t,{t:r}=Ze();function i(a){if(a.target){const o={...n.style,color:a.target.value};e("changeStyle",o)}}function s(a){if(a){const o={...n.style,visible:a.target.checked};e("changeStyle",o)}}return(a,o)=>(A(),F("div",QI,[L("label",e3,ue(b(r)(t.style.label)),1),L("div",t3,[t.colorEditable&&n.style.color?(A(),F("input",{key:0,id:"colorId",type:"color",class:"w-11 h-5 py-[1px] px-[2px]",value:n.style.color,onInput:i},null,40,n3)):$("v-if",!0)]),L("input",{type:"checkbox",class:"flex-none mr-3",checked:n.style.visible,onChange:s,"aria-label":b(r)("Show or hide {{ thematicName }}",{thematicName:n.style.label})},null,40,r3)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/medium-style-item.vue"]]),s3={class:"text-white border-2 p-[10px] m-[10px]"},a3={class:"text-center mb-3"},o3=ge(de({__name:"medium-style-selector",props:{layer:{type:null,required:!0}},setup(t){const e=t,n=["basemap_2015_global"],r=er(),{bgStyle:i}=Fe(r),{t:s}=Ze(),a=me(()=>n.includes(e.layer.name)),o=me(()=>i.value||ZI(e.layer));function l(u,f){i.value=o.value.map((c,h)=>h===u?f:c),r.disableExpertStyle()}return(u,f)=>(A(),F("div",s3,[L("h5",a3,ue(b(a)?b(s)("Select a colour for every theme"):b(s)("Activate categories")),1),(A(!0),F(Re,null,On(b(o),(c,h)=>(A(),$e(i3,{key:c.label,style:Xr(c),onChangeStyle:d=>l(h,d),colorEditable:b(a)},null,8,["style","onChangeStyle","colorEditable"]))),128))]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/medium-style-selector.vue"]]);var Q0={exports:{}};(function(t,e){(function(n,r){r()})(Fr,function(){function n(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,f,c){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,f,c)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Fr=="object"&&Fr.global===Fr?Fr:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,f,c){var h=a.URL||a.webkitURL,d=document.createElement("a");f=f||u.name||"download",d.download=f,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?s(d):i(d.href)?r(u,f,c):s(d,d.target="_blank")):(d.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,c){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,c),f);else if(i(u))r(u,f,c);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){s(h)})}}:function(u,f,c,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return r(u,f,c);var d=u.type==="application/octet-stream",m=/constructor/i.test(a.HTMLElement)||a.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&m||o)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var E=g.result;E=p?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=E:location=E,h=null},g.readAsDataURL(u)}else{var v=a.URL||a.webkitURL,y=v.createObjectURL(u);h?h.location=y:location.href=y,h=null,setTimeout(function(){v.revokeObjectURL(y)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(Q0);const l3={class:"text-white border-2 p-[10px] m-[10px] flex flex-col"},u3={class:"text-center mb-3"},c3={class:"flex flex-row justify-center"},f3={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium text-white"},h3={class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] text-sm"},d3={class:"'block z-[5] w-full h-full cursor-pointer after:absolute after:pt-[15px] after:px-[15px] after:w-full after:text-center after:content-upload",for:"uploadMvtStyle"},m3={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium"},p3=["href"],g3=ge(de({__name:"expert-style-selector",setup(t){const e=dt(),n=er(),r=os(),{appliedStyle:i}=Fe(n),{t:s}=Ze();function a(){const u=i.value,f=JSON.stringify(u),c=new Blob([f],{type:"text/plain;charset=utf-8"}),h="styles.json";Q0.exports.saveAs(c,h)}function o(u){const f=u.target.files;if((f==null?void 0:f.length)!==1)return;const c=f[0];new File([],"./text.txt").text().then(d=>console.log(d)),c.type==="application/json"&&(c.text().then(d=>{n.enableExpertStyle(),i.value=JSON.parse(d)}),u.target.value="")}function l(){return n.styleSerial===null?r.getDefaultMapBoxStyleUrl(r.getVectorId(e.bgLayer)):`${n.registerUrls.get("get")}?id=${n.styleSerial}`}return(u,f)=>(A(),F("div",l3,[L("h5",u3,ue(b(s)("Lancer \xE9diteur externe ou importer json")),1),L("div",c3,[L("a",{href:"#",class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] z-5 text-sm after:absolute after:left-[20px] after:top-[10px] after:z-4 after:w-[3.6em] after:text-center after:content-download",onClick:f[0]||(f[0]=c=>a())},[L("span",f3,ue(b(s)("Download style")),1)]),L("div",h3,[L("label",d3,[L("span",m3,ue(b(s)("Upload style")),1)]),L("input",{class:"invisible",type:"file",name:"uploadMvtStyle",id:"uploadMvtStyle",onChange:o},null,32)])]),L("a",{href:`https://maputnik.github.io/editor/?style=${l()}`,target:"_blank",class:"lux-btn text-center"},ue(b(s)("Open Maputnik editor")),9,p3)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/expert-style-selector.vue"]]),y3={key:0},v3={key:0,class:"mb-px"},_3={key:1,class:"mb-px"},b3={key:2,class:"mb-px"},e_=ge(de({__name:"style-selector",setup(t){const{t:e}=Ze(),n=dt(),r=gt(),i=er(),{bgStyle:s,isExpertStyleActive:a}=Fe(i),{bgLayer:o}=Fe(n),l=os(),u=me(()=>l.getStyleCapabilitiesFromLayer(o.value));Qe(o,h=>{l.isLayerStyleEditable(h)||r.closeStyleEditorPanel()});let f=Se(void 0);function c(){i.setStyle(null)}return(h,d)=>b(u).isEditable?(A(),F("div",y3,[b(u).hasSimpleStyle?(A(),F("div",v3,[ne(Eu,{title:b(e)("Simple"),expanded:b(f)==="simpleStyle",onTogglePanel:d[0]||(d[0]=()=>qe(f)?f.value=b(f)==="simpleStyle"?void 0:"simpleStyle":f=b(f)==="simpleStyle"?void 0:"simpleStyle")},{default:ni(()=>[ne(KI)]),_:1},8,["title","expanded"])])):$("v-if",!0),b(u).hasAdvancedStyle?(A(),F("div",_3,[ne(Eu,{title:b(e)("Medium"),expanded:b(f)==="mediumStyle",onTogglePanel:d[1]||(d[1]=()=>qe(f)?f.value=b(f)==="mediumStyle"?void 0:"mediumStyle":f=b(f)==="mediumStyle"?void 0:"mediumStyle")},{default:ni(()=>[b(o)?(A(),$e(o3,{key:0,layer:b(o)},null,8,["layer"])):$("v-if",!0)]),_:1},8,["title","expanded"])])):$("v-if",!0),b(u).hasExpertStyle?(A(),F("div",b3,[ne(Eu,{title:b(e)("Expert (style.json)"),expanded:b(f)==="advancedStyle",onTogglePanel:d[2]||(d[2]=()=>qe(f)?f.value=b(f)==="advancedStyle"?void 0:"advancedStyle":f=b(f)==="advancedStyle"?void 0:"advancedStyle")},{default:ni(()=>[b(o)?(A(),$e(g3,{key:0,layer:b(o)},null,8,["layer"])):$("v-if",!0)]),_:1},8,["title","expanded"])])):$("v-if",!0),b(s)||b(a)?(A(),F("button",{key:3,onClick:c,class:"lux-btn my-2"},ue(b(e)("Reset style",{ns:"client"})),1)):$("v-if",!0)])):$("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/style-selector.vue"]]);function Fh(t){return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}var t_=[],E3=t_.forEach,w3=t_.slice;function Vh(t){return E3.call(w3.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}function n_(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Fh(XMLHttpRequest))==="object"}function S3(t){return!!t&&typeof t.then=="function"}function x3(t){return S3(t)?t:Promise.resolve(t)}function M3(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wu={exports:{}},Hu={exports:{}},r_;function O3(){return r_||(r_=1,function(t,e){var n=typeof self<"u"?self:Fr,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(a){var o={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(O){return O&&DataView.prototype.isPrototypeOf(O)}if(o.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(O){return O&&u.indexOf(Object.prototype.toString.call(O))>-1};function c(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(O))throw new TypeError("Invalid character in header field name");return O.toLowerCase()}function h(O){return typeof O!="string"&&(O=String(O)),O}function d(O){var j={next:function(){var Z=O.shift();return{done:Z===void 0,value:Z}}};return o.iterable&&(j[Symbol.iterator]=function(){return j}),j}function m(O){this.map={},O instanceof m?O.forEach(function(j,Z){this.append(Z,j)},this):Array.isArray(O)?O.forEach(function(j){this.append(j[0],j[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(j){this.append(j,O[j])},this)}m.prototype.append=function(O,j){O=c(O),j=h(j);var Z=this.map[O];this.map[O]=Z?Z+", "+j:j},m.prototype.delete=function(O){delete this.map[c(O)]},m.prototype.get=function(O){return O=c(O),this.has(O)?this.map[O]:null},m.prototype.has=function(O){return this.map.hasOwnProperty(c(O))},m.prototype.set=function(O,j){this.map[c(O)]=h(j)},m.prototype.forEach=function(O,j){for(var Z in this.map)this.map.hasOwnProperty(Z)&&O.call(j,this.map[Z],Z,this)},m.prototype.keys=function(){var O=[];return this.forEach(function(j,Z){O.push(Z)}),d(O)},m.prototype.values=function(){var O=[];return this.forEach(function(j){O.push(j)}),d(O)},m.prototype.entries=function(){var O=[];return this.forEach(function(j,Z){O.push([Z,j])}),d(O)},o.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function p(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function g(O){return new Promise(function(j,Z){O.onload=function(){j(O.result)},O.onerror=function(){Z(O.error)}})}function v(O){var j=new FileReader,Z=g(j);return j.readAsArrayBuffer(O),Z}function y(O){var j=new FileReader,Z=g(j);return j.readAsText(O),Z}function E(O){for(var j=new Uint8Array(O),Z=new Array(j.length),Q=0;Q<j.length;Q++)Z[Q]=String.fromCharCode(j[Q]);return Z.join("")}function w(O){if(O.slice)return O.slice(0);var j=new Uint8Array(O.byteLength);return j.set(new Uint8Array(O)),j.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(O){this._bodyInit=O,O?typeof O=="string"?this._bodyText=O:o.blob&&Blob.prototype.isPrototypeOf(O)?this._bodyBlob=O:o.formData&&FormData.prototype.isPrototypeOf(O)?this._bodyFormData=O:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(O)?this._bodyText=O.toString():o.arrayBuffer&&o.blob&&l(O)?(this._bodyArrayBuffer=w(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(O)||f(O))?this._bodyArrayBuffer=w(O):this._bodyText=O=Object.prototype.toString.call(O):this._bodyText="",this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var O=p(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var O=p(this);if(O)return O;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(O){var j=O.toUpperCase();return P.indexOf(j)>-1?j:O}function C(O,j){j=j||{};var Z=j.body;if(O instanceof C){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,j.headers||(this.headers=new m(O.headers)),this.method=O.method,this.mode=O.mode,this.signal=O.signal,!Z&&O._bodyInit!=null&&(Z=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new m(j.headers)),this.method=k(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Z)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function T(O){var j=new FormData;return O.trim().split("&").forEach(function(Z){if(Z){var Q=Z.split("="),oe=Q.shift().replace(/\+/g," "),Ee=Q.join("=").replace(/\+/g," ");j.append(decodeURIComponent(oe),decodeURIComponent(Ee))}}),j}function N(O){var j=new m,Z=O.replace(/\r?\n[\t ]+/g," ");return Z.split(/\r?\n/).forEach(function(Q){var oe=Q.split(":"),Ee=oe.shift().trim();if(Ee){var ln=oe.join(":").trim();j.append(Ee,ln)}}),j}x.call(C.prototype);function B(O,j){j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in j?j.statusText:"OK",this.headers=new m(j.headers),this.url=j.url||"",this._initBody(O)}x.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},B.error=function(){var O=new B(null,{status:0,statusText:""});return O.type="error",O};var R=[301,302,303,307,308];B.redirect=function(O,j){if(R.indexOf(j)===-1)throw new RangeError("Invalid status code");return new B(null,{status:j,headers:{location:O}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(j,Z){this.message=j,this.name=Z;var Q=Error(j);this.stack=Q.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function ie(O,j){return new Promise(function(Z,Q){var oe=new C(O,j);if(oe.signal&&oe.signal.aborted)return Q(new a.DOMException("Aborted","AbortError"));var Ee=new XMLHttpRequest;function ln(){Ee.abort()}Ee.onload=function(){var at={status:Ee.status,statusText:Ee.statusText,headers:N(Ee.getAllResponseHeaders()||"")};at.url="responseURL"in Ee?Ee.responseURL:at.headers.get("X-Request-URL");var Ie="response"in Ee?Ee.response:Ee.responseText;Z(new B(Ie,at))},Ee.onerror=function(){Q(new TypeError("Network request failed"))},Ee.ontimeout=function(){Q(new TypeError("Network request failed"))},Ee.onabort=function(){Q(new a.DOMException("Aborted","AbortError"))},Ee.open(oe.method,oe.url,!0),oe.credentials==="include"?Ee.withCredentials=!0:oe.credentials==="omit"&&(Ee.withCredentials=!1),"responseType"in Ee&&o.blob&&(Ee.responseType="blob"),oe.headers.forEach(function(at,Ie){Ee.setRequestHeader(Ie,at)}),oe.signal&&(oe.signal.addEventListener("abort",ln),Ee.onreadystatechange=function(){Ee.readyState===4&&oe.signal.removeEventListener("abort",ln)}),Ee.send(typeof oe._bodyInit>"u"?null:oe._bodyInit)})}return ie.polyfill=!0,s.fetch||(s.fetch=ie,s.Headers=m,s.Request=C,s.Response=B),a.Headers=m,a.Request=C,a.Response=B,a.fetch=ie,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Hu,Hu.exports)),Hu.exports}(function(t,e){var n;if(typeof fetch=="function"&&(typeof Fr<"u"&&Fr.fetch?n=Fr.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof M3<"u"&&(typeof window>"u"||typeof window.document>"u")){var r=n||O3();r.default&&(r=r.default),e.default=r,t.exports=e.default}})(Wu,Wu.exports);const i_=Wu.exports,s_=W_({__proto__:null,default:i_},[Wu.exports]);function zu(t){return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}var qr;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?qr=global.fetch:typeof window<"u"&&window.fetch?qr=window.fetch:qr=fetch);var xo;n_()&&(typeof global<"u"&&global.XMLHttpRequest?xo=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(xo=window.XMLHttpRequest));var Yu;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Yu=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Yu=window.ActiveXObject)),!qr&&s_&&!xo&&!Yu&&(qr=i_||s_),typeof qr!="function"&&(qr=void 0);var jh=function(e,n){if(n&&zu(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},a_=function(e,n,r){qr(e,n).then(function(i){if(!i.ok)return r(i.statusText||"Error",{status:i.status});i.text().then(function(s){r(null,{status:i.status,data:s})}).catch(r)}).catch(r)},o_=!1,T3=function(e,n,r,i){e.queryStringParams&&(n=jh(n,e.queryStringParams));var s=Vh({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);r&&(s["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,o=Vh({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:s},o_?{}:a);try{a_(n,o,i)}catch(l){if(!a||Object.keys(a).length===0||!l.message||l.message.indexOf("not implemented")<0)return i(l);try{Object.keys(a).forEach(function(u){delete o[u]}),a_(n,o,i),o_=!0}catch(u){i(u)}}},N3=function(e,n,r,i){r&&zu(r)==="object"&&(r=jh("",r).slice(1)),e.queryStringParams&&(n=jh(n,e.queryStringParams));try{var s;xo?s=new xo:s=new Yu("MSXML2.XMLHTTP.3.0"),s.open(r?"POST":"GET",n,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var o in a)s.setRequestHeader(o,a[o]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(l){console&&console.log(l)}},C3=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},qr&&n.indexOf("file:")!==0)return T3(e,n,r,i);if(n_()||typeof ActiveXObject=="function")return N3(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function Mo(t){return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(t)}function L3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u_(r.key),r)}}function P3(t,e,n){return e&&l_(t.prototype,e),n&&l_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A3(t,e,n){return e=u_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u_(t){var e=k3(t,"string");return Mo(e)==="symbol"?e:String(e)}function k3(t,e){if(Mo(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D3=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return A3({},r,i||"")},request:C3,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Gh=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};L3(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return P3(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=Vh(i,this.options||{},D3()),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,a){var o=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=x3(l),l.then(function(u){if(!u)return a(null,{});var f=o.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});o.loadUrl(f,a,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var a=this;this.options.request(this.options,n,void 0,function(o,l){if(l&&(l.status>=500&&l.status<600||!l.status))return r("failed loading "+n+"; status code: "+l.status,!0);if(l&&l.status>=400&&l.status<500)return r("failed loading "+n+"; status code: "+l.status,!1);if(!l&&o&&o.message&&o.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+o.message,!0);if(o)return r(o,!1);var u,f;try{typeof l.data=="string"?u=a.options.parse(l.data,i,s):u=l.data}catch{f="failed parsing "+n+" to json"}if(f)return r(f,!1);r(null,u)})}},{key:"create",value:function(n,r,i,s,a){var o=this;if(!!this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,s),u=0,f=[],c=[];n.forEach(function(h){var d=o.options.addPath;typeof o.options.addPath=="function"&&(d=o.options.addPath(h,r));var m=o.services.interpolator.interpolate(d,{lng:h,ns:r});o.options.request(o.options,m,l,function(p,g){u+=1,f.push(p),c.push(g),u===n.length&&typeof a=="function"&&a(f,c)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,a=r.logger,o=i.language;if(!(o&&o.toLowerCase()==="cimode")){var l=[],u=function(c){var h=s.toResolveHierarchy(c);h.forEach(function(d){l.indexOf(d)<0&&l.push(d)})};u(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return u(f)}),l.forEach(function(f){n.allOptions.ns.forEach(function(c){i.read(f,c,"read",null,null,function(h,d){h&&a.warn("loading namespace ".concat(c," for language ").concat(f," failed"),h),!h&&d&&a.log("loaded namespace ".concat(c," for language ").concat(f),d),i.loaded("".concat(f,"|").concat(c),h,d)})})})}}}]),t}();Gh.type="backend";function c_(t,e,n){n(t,e)&&t instanceof rb.default&&t.getLayers().forEach(i=>{c_(i,[...e,t],n)})}const I3={class:"h-screen flex flex-col overflow-hidden"},R3={class:"flex grow"},$3={key:0,class:"w-full sm:w-80 bg-secondary z-10"},F3={key:1,class:"w-80 bg-primary"},V3={class:"map-wrapper grow bg-blue-100 relative"},j3={class:"absolute right-1 top-16"},f_=ge(de({__name:"App",setup(t){const e=gt();J0.bootstrap(),X0.bootstrap(),K0.bootstrap(),Z0.bootstrapLayersOpen(),Jf.bootstrapStyle(),Y0.bootstrap();const{layersOpen:n,styleEditorOpen:r}=Fe(e);Qe(n,()=>setTimeout(()=>{i()},50)),gn(()=>window.addEventListener("resize",i)),ri(()=>window.removeEventListener("resize",i));function i(){const s=mr().getOlMap();s.updateSize(),c_(s.getLayerGroup(),[],a=>(a instanceof Qf&&a.getMapLibreMap().resize(),!0))}return(s,a)=>(A(),F("div",I3,[ne(g0),L("main",R3,[$(" Layer panel "),b(n)?(A(),F("div",$3,[ne(W0)])):$("v-if",!0),$(" Style editor "),b(r)?(A(),F("div",F3,[ne(e_)])):$("v-if",!0),$(" Map container and slider comparator "),L("div",V3,[ne(Wv,{v4_standalone:!0}),ne(H0,{class:"absolute top-0"}),ne(f0),ne(m0)]),$(" Background selector "),L("div",j3,[ne(zv)])]),ne(y0,{class:"fixed bottom-5 sm:static z-20"}),ne(bg)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/App.vue"]]);KT(),it.use(Gh),it.init({lng:"fr",debug:!1,defaultNS:"client",supportedLngs:["de","en","fr","lb"],ns:["client","legends","server","tooltips"],fallbackLng:"fr",backend:{loadPath:"/static-ngeo/web-components/assets/locales/{{ns}}.{{lng}}.json"},nsSeparator:"|"});const Xu=fw(f_);Xu.use(Op()),Xu.use(Yg,{i18next:it}),Xu.use(dp);const G3=(t={},e=null)=>_g({setup:()=>{const n=hl();Object.assign(n.appContext,e._context),Object.assign(n.provides,e._context.provides)},render:()=>jm(t)},{shadowRoot:!1});J.AlertNotifications=bg,J.App=f_,J.BackgroundSelector=zv,J.DropdownList=Ef,J.FooterBar=y0,J.HeaderBar=g0,J.I18NextVue=Yg,J.LayerMetadata=m0,J.LayerPanel=W0,J.MapContainer=Wv,J.MapLibreLayer=Qf,J.RemoteLayers=f0,J.SliderComparator=H0,J.StyleSelector=e_,J.VueDOMPurifyHTML=dp,J.app=Xu,J.backend=Gh,J.createElementInstance=G3,J.createPinia=Op,J.defineCustomElement=_g,J.i18next=it,J.proxyUrlHelper=ls,J.statePersistorBgLayerService=Y0,J.statePersistorLayersOpenService=Z0,J.statePersistorLayersService=X0,J.statePersistorMyMapService=J0,J.statePersistorStyleService=Jf,J.statePersistorThemeService=K0,J.storeToRefs=Fe,J.themeSelectorService=p0,J.useAppStore=gt,J.useBackgroundLayer=th,J.useLayers=kn,J.useMap=mr,J.useMapStore=dt,J.useMvtStyles=os,J.useOpenLayers=eh,J.useStyleStore=er,J.useThemeStore=Gt,J.useThemes=_i,J.watch=Qe,Object.defineProperties(J,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
