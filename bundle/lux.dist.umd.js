(function(K,mt){typeof exports=="object"&&typeof module<"u"?mt(exports,require("ol/proj"),require("ol/proj/proj4"),require("ol/Map"),require("ol/View"),require("ol/layer/Image"),require("ol/source/ImageWMS"),require("ol/layer/Tile"),require("ol/source/WMTS"),require("ol/tilegrid/WMTS"),require("ol/extent"),require("ol/layer/Layer"),require("ol/math"),require("mapbox-gl"),require("ol/source/TileWMS"),require("ol/tilegrid/TileGrid"),require("ol/events"),require("ol/ObjectEventType"),require("ol/css"),require("ol/control/Control"),require("ol/control/FullScreen"),require("ol/control/Zoom"),require("ol/control/ZoomToExtent"),require("ol/format/WMTSCapabilities.js"),require("ol/events.js"),require("ol/interaction/Draw"),require("ol/layer/Vector"),require("ol/source/Vector"),require("ol/render"),require("ol/Observable"),require("ol/render/EventType"),require("ol/layer/Group.js")):typeof define=="function"&&define.amd?define(["exports","ol/proj","ol/proj/proj4","ol/Map","ol/View","ol/layer/Image","ol/source/ImageWMS","ol/layer/Tile","ol/source/WMTS","ol/tilegrid/WMTS","ol/extent","ol/layer/Layer","ol/math","mapbox-gl","ol/source/TileWMS","ol/tilegrid/TileGrid","ol/events","ol/ObjectEventType","ol/css","ol/control/Control","ol/control/FullScreen","ol/control/Zoom","ol/control/ZoomToExtent","ol/format/WMTSCapabilities.js","ol/events.js","ol/interaction/Draw","ol/layer/Vector","ol/source/Vector","ol/render","ol/Observable","ol/render/EventType","ol/layer/Group.js"],mt):(K=typeof globalThis<"u"?globalThis:K||self,mt(K["luxembourg-geoportail"]={},K.proj,K.proj4$1,K.OlMap,K.OlView,K.ImageLayer,K.ImageWMS,K.TileLayer,K.WmtsSource,K.WmtsTileGrid,K.extent,K.Layer,K.math,K.mapboxgl,K.TileWMS,K.TileGrid,K.olEvents,K.ObjectEventType$1,K.css$1,K.Control,K.FullScreen,K.Zoom,K.OlControlZoomToExtent,K.WMTSCapabilities,K.events_js,K.Draw,K.VectorLayer,K.VectorSource,K.render$1,K.Observable$2,K.EventType$1,K.olLayerGroup))})(this,function(K,mt,Ui,Hb,zb,Yb,Xb,Kb,Zb,Jb,Qb,e1,t1,n1,r1,i1,s1,a1,Yo,o1,l1,u1,c1,f1,h1,d1,p1,m1,Xo,g1,y1,v1){"use strict";var F6=Object.defineProperty;var V6=(K,mt,Ui)=>mt in K?F6(K,mt,{enumerable:!0,configurable:!0,writable:!0,value:Ui}):K[mt]=Ui;var nt=(K,mt,Ui)=>(V6(K,typeof mt!="symbol"?mt+"":mt,Ui),Ui);const ft=t=>t&&typeof t=="object"&&"default"in t?t:{default:t};function _1(t){if(t&&t.__esModule)return t;const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}function b1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const E1=ft(Hb),S1=ft(zb),w1=ft(Yb),Cd=ft(Xb),Ad=ft(Kb),Sc=ft(Zb),Pd=ft(Jb),O1=ft(e1),Dd=ft(n1),x1=ft(r1),M1=ft(i1),Id=_1(s1),T1=ft(a1),kd=ft(o1),N1=ft(l1),L1=ft(u1),C1=ft(c1),A1=ft(f1),P1=ft(d1),D1=ft(p1),I1=ft(m1),Rd=ft(y1),k1=ft(v1);/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ar(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Qe=process.env.NODE_ENV!=="production"?Object.freeze({}):{},As=process.env.NODE_ENV!=="production"?Object.freeze([]):[],gt=()=>{},R1=()=>!1,Ea=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ko=t=>t.startsWith("onUpdate:"),tt=Object.assign,wc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},$1=Object.prototype.hasOwnProperty,Ie=(t,e)=>$1.call(t,e),ue=Array.isArray,Bi=t=>Zo(t)==="[object Map]",$d=t=>Zo(t)==="[object Set]",ge=t=>typeof t=="function",it=t=>typeof t=="string",ri=t=>typeof t=="symbol",Ge=t=>t!==null&&typeof t=="object",Oc=t=>(Ge(t)||ge(t))&&ge(t.then)&&ge(t.catch),Fd=Object.prototype.toString,Zo=t=>Fd.call(t),xc=t=>Zo(t).slice(8,-1),Vd=t=>Zo(t)==="[object Object]",Mc=t=>it(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Sa=Ar(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),F1=Ar("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Jo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},V1=/-(\w)/g,pn=Jo(t=>t.replace(V1,(e,n)=>n?n.toUpperCase():"")),j1=/\B([A-Z])/g,sn=Jo(t=>t.replace(j1,"-$1").toLowerCase()),Wi=Jo(t=>t.charAt(0).toUpperCase()+t.slice(1)),qi=Jo(t=>t?`on${Wi(t)}`:""),ii=(t,e)=>!Object.is(t,e),wa=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Qo=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},G1=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Tc=t=>{const e=it(t)?Number(t):NaN;return isNaN(e)?t:e};let jd;const el=()=>jd||(jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function si(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=it(r)?q1(r):si(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(it(t)||Ge(t))return t}const U1=/;(?![^(]*\))/g,B1=/:([^]+)/,W1=/\/\*[^]*?\*\//g;function q1(t){const e={};return t.replace(W1,"").split(U1).forEach(n=>{if(n){const r=n.split(B1);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Pe(t){let e="";if(it(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const r=Pe(t[n]);r&&(e+=r+" ")}else if(Ge(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const H1="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",z1="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Y1="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",X1=Ar(H1),K1=Ar(z1),Z1=Ar(Y1),J1=Ar("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Gd(t){return!!t||t===""}const Ud=t=>!!(t&&t.__v_isRef===!0),oe=t=>it(t)?t:t==null?"":ue(t)||Ge(t)&&(t.toString===Fd||!ge(t.toString))?Ud(t)?oe(t.value):JSON.stringify(t,Bd,2):String(t),Bd=(t,e)=>Ud(e)?Bd(t,e.value):Bi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Nc(r,s)+" =>"]=i,n),{})}:$d(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Nc(n))}:ri(e)?Nc(e):Ge(e)&&!ue(e)&&!Vd(e)?String(e):e,Nc=(t,e="")=>{var n;return ri(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nr(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let mn;class Wd{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=mn,!e&&mn&&(this.index=(mn.scopes||(mn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=mn;try{return mn=this,e()}finally{mn=n}}else process.env.NODE_ENV!=="production"&&nr("cannot run an inactive effect scope.")}on(){mn=this}off(){mn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function qd(t){return new Wd(t)}function Q1(t,e=mn){e&&e.active&&e.effects.push(t)}function Hd(){return mn}function eE(t){mn?mn.cleanups.push(t):process.env.NODE_ENV!=="production"&&nr("onScopeDispose() is called when there is no active effect scope to be associated with.")}let Hi;class Lc{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Q1(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Pr();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(tE(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Dr()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ai,n=Hi;try{return ai=!0,Hi=this,this._runnings++,zd(this),this.fn()}finally{Yd(this),this._runnings--,Hi=n,ai=e}}stop(){this.active&&(zd(this),Yd(this),this.onStop&&this.onStop(),this.active=!1)}}function tE(t){return t.value}function zd(t){t._trackId++,t._depsLength=0}function Yd(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Xd(t.deps[e],t);t.deps.length=t._depsLength}}function Xd(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let ai=!0,Cc=0;const Kd=[];function Pr(){Kd.push(ai),ai=!1}function Dr(){const t=Kd.pop();ai=t===void 0?!0:t}function Ac(){Cc++}function Pc(){for(Cc--;!Cc&&Dc.length;)Dc.shift()()}function Zd(t,e,n){var r;if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&Xd(i,t),t.deps[t._depsLength++]=e):t._depsLength++,process.env.NODE_ENV!=="production"&&((r=t.onTrack)==null||r.call(t,tt({effect:t},n)))}}const Dc=[];function Jd(t,e,n){var r;Ac();for(const i of t.keys()){let s;i._dirtyLevel<e&&(s!=null?s:s=t.get(i)===i._trackId)&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s!=null?s:s=t.get(i)===i._trackId)&&(process.env.NODE_ENV!=="production"&&((r=i.onTrigger)==null||r.call(i,tt({effect:i},n))),i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Dc.push(i.scheduler)))}Pc()}const Qd=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},tl=new WeakMap,zi=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),Ic=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");function Pt(t,e,n){if(ai&&Hi){let r=tl.get(t);r||tl.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Qd(()=>r.delete(n))),Zd(Hi,i,process.env.NODE_ENV!=="production"?{target:t,type:e,key:n}:void 0)}}function rr(t,e,n,r,i,s){const a=tl.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&ue(t)){const l=Number(r);a.forEach((u,f)=>{(f==="length"||!ri(f)&&f>=l)&&o.push(u)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":ue(t)?Mc(n)&&o.push(a.get("length")):(o.push(a.get(zi)),Bi(t)&&o.push(a.get(Ic)));break;case"delete":ue(t)||(o.push(a.get(zi)),Bi(t)&&o.push(a.get(Ic)));break;case"set":Bi(t)&&o.push(a.get(zi));break}Ac();for(const l of o)l&&Jd(l,4,process.env.NODE_ENV!=="production"?{target:t,type:e,key:n,newValue:r,oldValue:i,oldTarget:s}:void 0);Pc()}function nE(t,e){const n=tl.get(t);return n&&n.get(e)}const rE=Ar("__proto__,__v_isRef,__isVue"),ep=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ri)),tp=iE();function iE(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ee(this);for(let s=0,a=this.length;s<a;s++)Pt(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Ee)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Pr(),Ac();const r=Ee(this)[e].apply(this,n);return Pc(),Dr(),r}}),t}function sE(t){ri(t)||(t=String(t));const e=Ee(this);return Pt(e,"has",t),e.hasOwnProperty(t)}class np{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?dp:hp:s?fp:cp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=ue(e);if(!i){if(a&&Ie(tp,n))return Reflect.get(tp,n,r);if(n==="hasOwnProperty")return sE}const o=Reflect.get(e,n,r);return(ri(n)?ep.has(n):rE(n))||(i||Pt(e,"get",n),s)?o:Xe(o)?a&&Mc(n)?o:o.value:Ge(o)?i?pp(o):ul(o):o}}class rp extends np{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Yi(s);if(!Xi(r)&&!Yi(r)&&(s=Ee(s),r=Ee(r)),!ue(e)&&Xe(s)&&!Xe(r))return l?!1:(s.value=r,!0)}const a=ue(e)&&Mc(n)?Number(n)<e.length:Ie(e,n),o=Reflect.set(e,n,r,i);return e===Ee(i)&&(a?ii(r,s)&&rr(e,"set",n,r,s):rr(e,"add",n,r)),o}deleteProperty(e,n){const r=Ie(e,n),i=e[n],s=Reflect.deleteProperty(e,n);return s&&r&&rr(e,"delete",n,void 0,i),s}has(e,n){const r=Reflect.has(e,n);return(!ri(n)||!ep.has(n))&&Pt(e,"has",n),r}ownKeys(e){return Pt(e,"iterate",ue(e)?"length":zi),Reflect.ownKeys(e)}}class ip extends np{constructor(e=!1){super(!0,e)}set(e,n){return process.env.NODE_ENV!=="production"&&nr(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0}deleteProperty(e,n){return process.env.NODE_ENV!=="production"&&nr(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}}const aE=new rp,oE=new ip,lE=new rp(!0),uE=new ip(!0),kc=t=>t,nl=t=>Reflect.getPrototypeOf(t);function rl(t,e,n=!1,r=!1){t=t.__v_raw;const i=Ee(t),s=Ee(e);n||(ii(e,s)&&Pt(i,"get",e),Pt(i,"get",s));const{has:a}=nl(i),o=r?kc:n?Rc:Oa;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function il(t,e=!1){const n=this.__v_raw,r=Ee(n),i=Ee(t);return e||(ii(t,i)&&Pt(r,"has",t),Pt(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function sl(t,e=!1){return t=t.__v_raw,!e&&Pt(Ee(t),"iterate",zi),Reflect.get(t,"size",t)}function sp(t){t=Ee(t);const e=Ee(this);return nl(e).has.call(e,t)||(e.add(t),rr(e,"add",t,t)),this}function ap(t,e){e=Ee(e);const n=Ee(this),{has:r,get:i}=nl(n);let s=r.call(n,t);s?process.env.NODE_ENV!=="production"&&up(n,r,t):(t=Ee(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?ii(e,a)&&rr(n,"set",t,e,a):rr(n,"add",t,e),this}function op(t){const e=Ee(this),{has:n,get:r}=nl(e);let i=n.call(e,t);i?process.env.NODE_ENV!=="production"&&up(e,n,t):(t=Ee(t),i=n.call(e,t));const s=r?r.call(e,t):void 0,a=e.delete(t);return i&&rr(e,"delete",t,void 0,s),a}function lp(){const t=Ee(this),e=t.size!==0,n=process.env.NODE_ENV!=="production"?Bi(t)?new Map(t):new Set(t):void 0,r=t.clear();return e&&rr(t,"clear",void 0,void 0,n),r}function al(t,e){return function(r,i){const s=this,a=s.__v_raw,o=Ee(a),l=e?kc:t?Rc:Oa;return!t&&Pt(o,"iterate",zi),a.forEach((u,f)=>r.call(i,l(u),l(f),s))}}function ol(t,e,n){return function(...r){const i=this.__v_raw,s=Ee(i),a=Bi(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),f=n?kc:e?Rc:Oa;return!e&&Pt(s,"iterate",l?Ic:zi),{next(){const{value:c,done:h}=u.next();return h?{value:c,done:h}:{value:o?[f(c[0]),f(c[1])]:f(c),done:h}},[Symbol.iterator](){return this}}}}function oi(t){return function(...e){if(process.env.NODE_ENV!=="production"){const n=e[0]?`on key "${e[0]}" `:"";nr(`${Wi(t)} operation ${n}failed: target is readonly.`,Ee(this))}return t==="delete"?!1:t==="clear"?void 0:this}}function cE(){const t={get(s){return rl(this,s)},get size(){return sl(this)},has:il,add:sp,set:ap,delete:op,clear:lp,forEach:al(!1,!1)},e={get(s){return rl(this,s,!1,!0)},get size(){return sl(this)},has:il,add:sp,set:ap,delete:op,clear:lp,forEach:al(!1,!0)},n={get(s){return rl(this,s,!0)},get size(){return sl(this,!0)},has(s){return il.call(this,s,!0)},add:oi("add"),set:oi("set"),delete:oi("delete"),clear:oi("clear"),forEach:al(!0,!1)},r={get(s){return rl(this,s,!0,!0)},get size(){return sl(this,!0)},has(s){return il.call(this,s,!0)},add:oi("add"),set:oi("set"),delete:oi("delete"),clear:oi("clear"),forEach:al(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=ol(s,!1,!1),n[s]=ol(s,!0,!1),e[s]=ol(s,!1,!0),r[s]=ol(s,!0,!0)}),[t,n,e,r]}const[fE,hE,dE,pE]=cE();function ll(t,e){const n=e?t?pE:dE:t?hE:fE;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ie(n,i)&&i in r?n:r,i,s)}const mE={get:ll(!1,!1)},gE={get:ll(!1,!0)},yE={get:ll(!0,!1)},vE={get:ll(!0,!0)};function up(t,e,n){const r=Ee(n);if(r!==n&&e.call(t,r)){const i=xc(t);nr(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const cp=new WeakMap,fp=new WeakMap,hp=new WeakMap,dp=new WeakMap;function _E(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bE(t){return t.__v_skip||!Object.isExtensible(t)?0:_E(xc(t))}function ul(t){return Yi(t)?t:cl(t,!1,aE,mE,cp)}function EE(t){return cl(t,!1,lE,gE,fp)}function pp(t){return cl(t,!0,oE,yE,hp)}function ir(t){return cl(t,!0,uE,vE,dp)}function cl(t,e,n,r,i){if(!Ge(t))return process.env.NODE_ENV!=="production"&&nr(`value cannot be made ${e?"readonly":"reactive"}: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=bE(t);if(a===0)return t;const o=new Proxy(t,a===2?r:n);return i.set(t,o),o}function sr(t){return Yi(t)?sr(t.__v_raw):!!(t&&t.__v_isReactive)}function Yi(t){return!!(t&&t.__v_isReadonly)}function Xi(t){return!!(t&&t.__v_isShallow)}function fl(t){return t?!!t.__v_raw:!1}function Ee(t){const e=t&&t.__v_raw;return e?Ee(e):t}function li(t){return Object.isExtensible(t)&&Qo(t,"__v_skip",!0),t}const Oa=t=>Ge(t)?ul(t):t,Rc=t=>Ge(t)?pp(t):t,SE="Computed is still dirty after getter evaluation, likely because a computed is mutating its own dependency in its getter. State mutations in computed getters should be avoided.  Check the docs for more details: https://vuejs.org/guide/essentials/computed.html#getters-should-be-side-effect-free";class mp{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Lc(()=>e(this._value),()=>hl(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Ee(this);return(!e._cacheable||e.effect.dirty)&&ii(e._value,e._value=e.effect.run())&&hl(e,4),gp(e),e.effect._dirtyLevel>=2&&(process.env.NODE_ENV!=="production"&&this._warnRecursive&&nr(SE,`

getter: `,this.getter),hl(e,2)),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function wE(t,e,n=!1){let r,i;const s=ge(t);s?(r=t,i=process.env.NODE_ENV!=="production"?()=>{nr("Write operation failed: computed value is readonly")}:gt):(r=t.get,i=t.set);const a=new mp(r,i,s||!i,n);return process.env.NODE_ENV!=="production"&&e&&!n&&(a.effect.onTrack=e.onTrack,a.effect.onTrigger=e.onTrigger),a}function gp(t){var e;ai&&Hi&&(t=Ee(t),Zd(Hi,(e=t.dep)!=null?e:t.dep=Qd(()=>t.dep=void 0,t instanceof mp?t:void 0),process.env.NODE_ENV!=="production"?{target:t,type:"get",key:"value"}:void 0))}function hl(t,e=4,n,r){t=Ee(t);const i=t.dep;i&&Jd(i,e,process.env.NODE_ENV!=="production"?{target:t,type:"set",key:"value",newValue:n,oldValue:r}:void 0)}function Xe(t){return!!(t&&t.__v_isRef===!0)}function ve(t){return yp(t,!1)}function st(t){return yp(t,!0)}function yp(t,e){return Xe(t)?t:new OE(t,e)}class OE{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ee(e),this._value=n?e:Oa(e)}get value(){return gp(this),this._value}set value(e){const n=this.__v_isShallow||Xi(e)||Yi(e);if(e=n?e:Ee(e),ii(e,this._rawValue)){const r=this._rawValue;this._rawValue=e,this._value=n?e:Oa(e),hl(this,4,e,r)}}}function S(t){return Xe(t)?t.value:t}const xE={get:(t,e,n)=>S(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Xe(i)&&!Xe(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function vp(t){return sr(t)?t:new Proxy(t,xE)}function $c(t){process.env.NODE_ENV!=="production"&&!fl(t)&&nr("toRefs() expects a reactive object but received a plain one.");const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=_p(t,n);return e}class ME{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return nE(Ee(this._object),this._key)}}class TE{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function dl(t,e,n){return Xe(t)?t:ge(t)?new TE(t):Ge(t)&&arguments.length>1?_p(t,e,n):ve(t)}function _p(t,e,n){const r=t[e];return Xe(r)?r:new ME(t,e,n)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ki=[];function pl(t){Ki.push(t)}function ml(){Ki.pop()}function q(t,...e){Pr();const n=Ki.length?Ki[Ki.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=NE();if(r)Ir(r,n,11,[t+e.map(s=>{var a,o;return(o=(a=s.toString)==null?void 0:a.call(s))!=null?o:JSON.stringify(s)}).join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${Il(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${t}`,...e];i.length&&s.push(`
`,...LE(i)),console.warn(...s)}Dr()}function NE(){let t=Ki[Ki.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function LE(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...CE(n))}),e}function CE({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${Il(t.component,t.type,r)}`,s=">"+n;return t.props?[i,...AE(t.props),s]:[i+s]}function AE(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...bp(r,t[r]))}),n.length>3&&e.push(" ..."),e}function bp(t,e,n){return it(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:Xe(e)?(e=bp(t,Ee(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):ge(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ee(e),n?e:[`${t}=`,e])}function PE(t,e){process.env.NODE_ENV!=="production"&&t!==void 0&&(typeof t!="number"?q(`${e} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&q(`${e} is NaN - the duration expression might be incorrect.`))}const Fc={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Ir(t,e,n,r){try{return r?t(...r):t()}catch(i){xa(i,e,n)}}function On(t,e,n,r){if(ge(t)){const i=Ir(t,e,n,r);return i&&Oc(i)&&i.catch(s=>{xa(s,e,n)}),i}if(ue(t)){const i=[];for(let s=0;s<t.length;s++)i.push(On(t[s],e,n,r));return i}else process.env.NODE_ENV!=="production"&&q(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof t}`)}function xa(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=process.env.NODE_ENV!=="production"?Fc[n]:`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Pr(),Ir(l,null,10,[t,a,o]),Dr();return}}DE(t,n,i,r)}function DE(t,e,n,r=!0){if(process.env.NODE_ENV!=="production"){const i=Fc[e];if(n&&pl(n),q(`Unhandled error${i?` during execution of ${i}`:""}`),n&&ml(),r)throw t;console.error(t)}else console.error(t)}let Ma=!1,Vc=!1;const jt=[];let ar=0;const Ps=[];let ui=null,Zi=0;const Ep=Promise.resolve();let jc=null;const IE=100;function gl(t){const e=jc||Ep;return t?e.then(this?t.bind(this):t):e}function kE(t){let e=ar+1,n=jt.length;for(;e<n;){const r=e+n>>>1,i=jt[r],s=Ta(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function yl(t){(!jt.length||!jt.includes(t,Ma&&t.allowRecurse?ar+1:ar))&&(t.id==null?jt.push(t):jt.splice(kE(t.id),0,t),Sp())}function Sp(){!Ma&&!Vc&&(Vc=!0,jc=Ep.then(Mp))}function RE(t){const e=jt.indexOf(t);e>ar&&jt.splice(e,1)}function wp(t){ue(t)?Ps.push(...t):(!ui||!ui.includes(t,t.allowRecurse?Zi+1:Zi))&&Ps.push(t),Sp()}function Op(t,e,n=Ma?ar+1:0){for(process.env.NODE_ENV!=="production"&&(e=e||new Map);n<jt.length;n++){const r=jt[n];if(r&&r.pre){if(t&&r.id!==t.uid||process.env.NODE_ENV!=="production"&&Gc(e,r))continue;jt.splice(n,1),n--,r()}}}function xp(t){if(Ps.length){const e=[...new Set(Ps)].sort((n,r)=>Ta(n)-Ta(r));if(Ps.length=0,ui){ui.push(...e);return}for(ui=e,process.env.NODE_ENV!=="production"&&(t=t||new Map),Zi=0;Zi<ui.length;Zi++){const n=ui[Zi];process.env.NODE_ENV!=="production"&&Gc(t,n)||n.active!==!1&&n()}ui=null,Zi=0}}const Ta=t=>t.id==null?1/0:t.id,$E=(t,e)=>{const n=Ta(t)-Ta(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Mp(t){Vc=!1,Ma=!0,process.env.NODE_ENV!=="production"&&(t=t||new Map),jt.sort($E);const e=process.env.NODE_ENV!=="production"?n=>Gc(t,n):gt;try{for(ar=0;ar<jt.length;ar++){const n=jt[ar];if(n&&n.active!==!1){if(process.env.NODE_ENV!=="production"&&e(n))continue;Ir(n,null,14)}}}finally{ar=0,jt.length=0,xp(t),Ma=!1,jc=null,(jt.length||Ps.length)&&Mp(t)}}function Gc(t,e){if(!t.has(e))t.set(e,1);else{const n=t.get(e);if(n>IE){const r=e.ownerInstance,i=r&&yf(r.type);return xa(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else t.set(e,n+1)}}let ci=!1;const Ji=new Set;process.env.NODE_ENV!=="production"&&(el().__VUE_HMR_RUNTIME__={createRecord:Uc(Tp),rerender:Uc(jE),reload:Uc(GE)});const Qi=new Map;function FE(t){const e=t.type.__hmrId;let n=Qi.get(e);n||(Tp(e,t.type),n=Qi.get(e)),n.instances.add(t)}function VE(t){Qi.get(t.type.__hmrId).instances.delete(t)}function Tp(t,e){return Qi.has(t)?!1:(Qi.set(t,{initialDef:Na(e),instances:new Set}),!0)}function Na(t){return Dm(t)?t.__vccOpts:t}function jE(t,e){const n=Qi.get(t);!n||(n.initialDef.render=e,[...n.instances].forEach(r=>{e&&(r.render=e,Na(r.type).render=e),r.renderCache=[],ci=!0,r.effect.dirty=!0,r.update(),ci=!1}))}function GE(t,e){const n=Qi.get(t);if(!n)return;e=Na(e),Np(n.initialDef,e);const r=[...n.instances];for(const i of r){const s=Na(i.type);Ji.has(s)||(s!==n.initialDef&&Np(s,e),Ji.add(s)),i.appContext.propsCache.delete(i.type),i.appContext.emitsCache.delete(i.type),i.appContext.optionsCache.delete(i.type),i.ceReload?(Ji.add(s),i.ceReload(e.styles),Ji.delete(s)):i.parent?(i.parent.effect.dirty=!0,yl(()=>{i.parent.update(),Ji.delete(s)})):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}wp(()=>{for(const i of r)Ji.delete(Na(i.type))})}function Np(t,e){tt(t,e);for(const n in t)n!=="__file"&&!(n in e)&&delete t[n]}function Uc(t){return(e,n)=>{try{return t(e,n)}catch(r){console.error(r),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Un,La=[],Bc=!1;function Ca(t,...e){Un?Un.emit(t,...e):Bc||La.push({event:t,args:e})}function Wc(t,e){var n,r;Un=t,Un?(Un.enabled=!0,La.forEach(({event:i,args:s})=>Un.emit(i,...s)),La=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Wc(s,e)}),setTimeout(()=>{Un||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Bc=!0,La=[])},3e3)):(Bc=!0,La=[])}function UE(t,e){Ca("app:init",t,e,{Fragment:Ue,Text:Ra,Comment:wt,Static:Ll})}function BE(t){Ca("app:unmount",t)}const WE=qc("component:added"),Lp=qc("component:updated"),qE=qc("component:removed"),HE=t=>{Un&&typeof Un.cleanupBuffer=="function"&&!Un.cleanupBuffer(t)&&qE(t)};/*! #__NO_SIDE_EFFECTS__ */function qc(t){return e=>{Ca(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const zE=Cp("perf:start"),YE=Cp("perf:end");function Cp(t){return(e,n,r)=>{Ca(t,e.appContext.app,e.uid,e,n,r)}}function XE(t,e,n){Ca("component:emit",t.appContext.app,t,e,n)}function KE(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Qe;if(process.env.NODE_ENV!=="production"){const{emitsOptions:f,propsOptions:[c]}=t;if(f)if(!(e in f))(!c||!(qi(e)in c))&&q(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${qi(e)}" prop.`);else{const h=f[e];ge(h)&&(h(...n)||q(`Invalid event arguments: event validation failed for event "${e}".`))}}let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:c,trim:h}=r[f]||Qe;h&&(i=n.map(d=>it(d)?d.trim():d)),c&&(i=n.map(G1))}if(process.env.NODE_ENV!=="production"&&XE(t,e,i),process.env.NODE_ENV!=="production"){const f=e.toLowerCase();f!==e&&r[qi(f)]&&q(`Event "${f}" is emitted in component ${Il(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${sn(e)}" instead of "${e}".`)}let o,l=r[o=qi(e)]||r[o=qi(pn(e))];!l&&s&&(l=r[o=qi(sn(e))]),l&&On(l,t,6,i);const u=r[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,On(u,t,6,i)}}function Ap(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!ge(t)){const l=u=>{const f=Ap(u,e,!0);f&&(o=!0,tt(a,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(Ge(t)&&r.set(t,null),null):(ue(s)?s.forEach(l=>a[l]=null):tt(a,s),Ge(t)&&r.set(t,a),a)}function vl(t,e){return!t||!Ea(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ie(t,e[0].toLowerCase()+e.slice(1))||Ie(t,sn(e))||Ie(t,e))}let yt=null,Pp=null;function _l(t){const e=yt;return yt=t,Pp=t&&t.type.__scopeId||null,e}function fi(t,e=yt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&wm(-1);const s=_l(e);let a;try{a=t(...i)}finally{_l(s),r._d&&wm(1)}return process.env.NODE_ENV!=="production"&&Lp(e),a};return r._n=!0,r._c=!0,r._d=!0,r}let Hc=!1;function bl(){Hc=!0}function zc(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:f,props:c,data:h,setupState:d,ctx:p,inheritAttrs:m}=t,g=_l(t);let y,v;process.env.NODE_ENV!=="production"&&(Hc=!1);try{if(n.shapeFlag&4){const x=i||r,T=process.env.NODE_ENV!=="production"&&d.__isScriptSetup?new Proxy(x,{get(M,G,I){return q(`Property '${String(G)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(M,G,I)}}):x;y=Wn(u.call(T,x,f,process.env.NODE_ENV!=="production"?ir(c):c,d,h,p)),v=o}else{const x=e;process.env.NODE_ENV!=="production"&&o===c&&bl(),y=Wn(x.length>1?x(process.env.NODE_ENV!=="production"?ir(c):c,process.env.NODE_ENV!=="production"?{get attrs(){return bl(),ir(o)},slots:a,emit:l}:{attrs:o,slots:a,emit:l}):x(process.env.NODE_ENV!=="production"?ir(c):c,null)),v=e.props?o:ZE(o)}}catch(x){$a.length=0,xa(x,t,1),y=te(wt)}let E=y,b;if(process.env.NODE_ENV!=="production"&&y.patchFlag>0&&y.patchFlag&2048&&([E,b]=Dp(y)),v&&m!==!1){const x=Object.keys(v),{shapeFlag:T}=E;if(x.length){if(T&7)s&&x.some(Ko)&&(v=JE(v,s)),E=or(E,v,!1,!0);else if(process.env.NODE_ENV!=="production"&&!Hc&&E.type!==wt){const M=Object.keys(o),G=[],I=[];for(let C=0,D=M.length;C<D;C++){const A=M[C];Ea(A)?Ko(A)||G.push(A[2].toLowerCase()+A.slice(3)):I.push(A)}I.length&&q(`Extraneous non-props attributes (${I.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),G.length&&q(`Extraneous non-emits event listeners (${G.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(process.env.NODE_ENV!=="production"&&!Ip(E)&&q("Runtime directive used on component with non-element root node. The directives will not function as intended."),E=or(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(process.env.NODE_ENV!=="production"&&!Ip(E)&&q("Component inside <Transition> renders non-element root node that cannot be animated."),E.transition=n.transition),process.env.NODE_ENV!=="production"&&b?b(E):y=E,_l(g),y}const Dp=t=>{const e=t.children,n=t.dynamicChildren,r=Yc(e,!1);if(r){if(process.env.NODE_ENV!=="production"&&r.patchFlag>0&&r.patchFlag&2048)return Dp(r)}else return[t,void 0];const i=e.indexOf(r),s=n?n.indexOf(r):-1,a=o=>{e[i]=o,n&&(s>-1?n[s]=o:o.patchFlag>0&&(t.dynamicChildren=[...n,o]))};return[Wn(r),a]};function Yc(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(ks(i)){if(i.type!==wt||i.children==="v-if"){if(n)return;if(n=i,process.env.NODE_ENV!=="production"&&e&&n.patchFlag>0&&n.patchFlag&2048)return Yc(n.children)}}else return}return n}const ZE=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ea(n))&&((e||(e={}))[n]=t[n]);return e},JE=(t,e)=>{const n={};for(const r in t)(!Ko(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n},Ip=t=>t.shapeFlag&7||t.type===wt;function QE(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(process.env.NODE_ENV!=="production"&&(i||o)&&ci||e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?kp(r,a,u):!!a;if(l&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const h=f[c];if(a[h]!==r[h]&&!vl(u,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?kp(r,a,u):!0:!!a;return!1}function kp(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!vl(n,s))return!0}return!1}function eS({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Xc="components",tS="directives";function nS(t,e){return Rp(Xc,t,!0,e)||t}const rS=Symbol.for("v-ndc");function Kc(t){return Rp(tS,t)}function Rp(t,e,n=!0,r=!1){const i=yt||Ot;if(i){const s=i.type;if(t===Xc){const o=yf(s,!1);if(o&&(o===e||o===pn(e)||o===Wi(pn(e))))return s}const a=$p(i[t]||s[t],e)||$p(i.appContext[t],e);if(!a&&r)return s;if(process.env.NODE_ENV!=="production"&&n&&!a){const o=t===Xc?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";q(`Failed to resolve ${t.slice(0,-1)}: ${e}${o}`)}return a}else process.env.NODE_ENV!=="production"&&q(`resolve${Wi(t.slice(0,-1))} can only be used in render() or setup().`)}function $p(t,e){return t&&(t[e]||t[pn(e)]||t[Wi(pn(e))])}const iS=t=>t.__isSuspense;function sS(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):wp(t)}function El(t,e,n=Ot,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{Pr();const o=Ga(n),l=On(e,n,t,a);return o(),Dr(),l});return r?i.unshift(s):i.push(s),s}else if(process.env.NODE_ENV!=="production"){const i=qi(Fc[t].replace(/ hook$/,""));q(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const kr=t=>(e,n=Ot)=>{(!Pl||t==="sp")&&El(t,(...r)=>e(...r),n)},aS=kr("bm"),gn=kr("m"),oS=kr("bu"),lS=kr("u"),Fp=kr("bum"),hi=kr("um"),uS=kr("sp"),cS=kr("rtg"),fS=kr("rtc");function hS(t,e=Ot){El("ec",t,e)}function Vp(t){F1(t)&&q("Do not use built-in directive ids as custom directive id: "+t)}function Sl(t,e){if(yt===null)return process.env.NODE_ENV!=="production"&&q("withDirectives can only be used inside render functions."),t;const n=Dl(yt),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,o,l=Qe]=e[i];s&&(ge(s)&&(s={mounted:s,updated:s}),s.deep&&pi(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function es(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(Pr(),On(l,n,8,[t.el,o,t,e]),Dr())}}function xn(t,e,n,r){let i;const s=n&&n[r];if(ue(t)||it(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){process.env.NODE_ENV!=="production"&&!Number.isInteger(t)&&q(`The v-for range expect an integer value but got ${t}.`),i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Ge(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];i[o]=e(t[u],u,o,s&&s[o])}}else i=[];return n&&(n[r]=i),i}/*! #__NO_SIDE_EFFECTS__ */function pe(t,e){return ge(t)?(()=>tt({name:t.name},e,{setup:t}))():t}const Aa=t=>!!t.type.__asyncLoader;function jp(t,e,n={},r,i){if(yt.isCE||yt.parent&&Aa(yt.parent)&&yt.parent.isCE)return e!=="default"&&(n.name=e),te("slot",n,r&&r());let s=t[e];process.env.NODE_ENV!=="production"&&s&&s.length>1&&(q("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),s=()=>[]),s&&s._c&&(s._d=!1),P();const a=s&&Gp(s(n)),o=je(Ue,{key:n.key||a&&a.key||`_${e}`},a||(r?r():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function Gp(t){return t.some(e=>ks(e)?!(e.type===wt||e.type===Ue&&!Gp(e.children)):!0)?t:null}const Zc=t=>t?Lm(t)?Dl(t):Zc(t.parent):null,ts=tt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>process.env.NODE_ENV!=="production"?ir(t.props):t.props,$attrs:t=>process.env.NODE_ENV!=="production"?ir(t.attrs):t.attrs,$slots:t=>process.env.NODE_ENV!=="production"?ir(t.slots):t.slots,$refs:t=>process.env.NODE_ENV!=="production"?ir(t.refs):t.refs,$parent:t=>Zc(t.parent),$root:t=>Zc(t.root),$emit:t=>t.emit,$options:t=>tf(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,yl(t.update)}),$nextTick:t=>t.n||(t.n=gl.bind(t.proxy)),$watch:t=>BS.bind(t)}),Jc=t=>t==="_"||t==="$",Qc=(t,e)=>t!==Qe&&!t.__isScriptSetup&&Ie(t,e),Up={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;if(process.env.NODE_ENV!=="production"&&e==="__isVue")return!0;let u;if(e[0]!=="$"){const d=a[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Qc(r,e))return a[e]=1,r[e];if(i!==Qe&&Ie(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&Ie(u,e))return a[e]=3,s[e];if(n!==Qe&&Ie(n,e))return a[e]=4,n[e];ef&&(a[e]=0)}}const f=ts[e];let c,h;if(f)return e==="$attrs"?(Pt(t.attrs,"get",""),process.env.NODE_ENV!=="production"&&bl()):process.env.NODE_ENV!=="production"&&e==="$slots"&&Pt(t,"get",e),f(t);if((c=o.__cssModules)&&(c=c[e]))return c;if(n!==Qe&&Ie(n,e))return a[e]=4,n[e];if(h=l.config.globalProperties,Ie(h,e))return h[e];process.env.NODE_ENV!=="production"&&yt&&(!it(e)||e.indexOf("__v")!==0)&&(i!==Qe&&Jc(e[0])&&Ie(i,e)?q(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===yt&&q(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Qc(i,e)?(i[e]=n,!0):process.env.NODE_ENV!=="production"&&i.__isScriptSetup&&Ie(i,e)?(q(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):r!==Qe&&Ie(r,e)?(r[e]=n,!0):Ie(t.props,e)?(process.env.NODE_ENV!=="production"&&q(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(process.env.NODE_ENV!=="production"&&q(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&e in t.appContext.config.globalProperties?Object.defineProperty(s,e,{enumerable:!0,configurable:!0,value:n}):s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==Qe&&Ie(t,a)||Qc(e,a)||(o=s[0])&&Ie(o,a)||Ie(r,a)||Ie(ts,a)||Ie(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ie(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};process.env.NODE_ENV!=="production"&&(Up.ownKeys=t=>(q("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t)));function dS(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(ts).forEach(n=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:()=>ts[n](t),set:gt})}),e}function pS(t){const{ctx:e,propsOptions:[n]}=t;n&&Object.keys(n).forEach(r=>{Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>t.props[r],set:gt})})}function mS(t){const{ctx:e,setupState:n}=t;Object.keys(Ee(n)).forEach(r=>{if(!n.__isScriptSetup){if(Jc(r[0])){q(`setup() return property ${JSON.stringify(r)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n[r],set:gt})}})}function Bp(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function gS(){const t=Object.create(null);return(e,n)=>{t[n]?q(`${e} property "${n}" is already defined in ${t[n]}.`):t[n]=e}}let ef=!0;function yS(t){const e=tf(t),n=t.proxy,r=t.ctx;ef=!1,e.beforeCreate&&Wp(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:f,beforeMount:c,mounted:h,beforeUpdate:d,updated:p,activated:m,deactivated:g,beforeDestroy:y,beforeUnmount:v,destroyed:E,unmounted:b,render:x,renderTracked:T,renderTriggered:M,errorCaptured:G,serverPrefetch:I,expose:C,inheritAttrs:D,components:A,directives:Q,filters:he}=e,N=process.env.NODE_ENV!=="production"?gS():null;if(process.env.NODE_ENV!=="production"){const[z]=t.propsOptions;if(z)for(const Z in z)N("Props",Z)}if(u&&vS(u,r,N),a)for(const z in a){const Z=a[z];ge(Z)?(process.env.NODE_ENV!=="production"?Object.defineProperty(r,z,{value:Z.bind(n),configurable:!0,enumerable:!0,writable:!0}):r[z]=Z.bind(n),process.env.NODE_ENV!=="production"&&N("Methods",z)):process.env.NODE_ENV!=="production"&&q(`Method "${z}" has type "${typeof Z}" in the component definition. Did you reference the function correctly?`)}if(i){process.env.NODE_ENV!=="production"&&!ge(i)&&q("The data option must be a function. Plain object usage is no longer supported.");const z=i.call(n,n);if(process.env.NODE_ENV!=="production"&&Oc(z)&&q("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Ge(z))process.env.NODE_ENV!=="production"&&q("data() should return an object.");else if(t.data=ul(z),process.env.NODE_ENV!=="production")for(const Z in z)N("Data",Z),Jc(Z[0])||Object.defineProperty(r,Z,{configurable:!0,enumerable:!0,get:()=>z[Z],set:gt})}if(ef=!0,s)for(const z in s){const Z=s[z],Ae=ge(Z)?Z.bind(n,n):ge(Z.get)?Z.get.bind(n,n):gt;process.env.NODE_ENV!=="production"&&Ae===gt&&q(`Computed property "${z}" has no getter.`);const De=!ge(Z)&&ge(Z.set)?Z.set.bind(n):process.env.NODE_ENV!=="production"?()=>{q(`Write operation failed: computed property "${z}" is readonly.`)}:gt,Et=fe({get:Ae,set:De});Object.defineProperty(r,z,{enumerable:!0,configurable:!0,get:()=>Et.value,set:Xt=>Et.value=Xt}),process.env.NODE_ENV!=="production"&&N("Computed",z)}if(o)for(const z in o)qp(o[z],r,n,z);if(l){const z=ge(l)?l.call(n):l;Reflect.ownKeys(z).forEach(Z=>{Xp(Z,z[Z])})}f&&Wp(f,t,"c");function R(z,Z){ue(Z)?Z.forEach(Ae=>z(Ae.bind(n))):Z&&z(Z.bind(n))}if(R(aS,c),R(gn,h),R(oS,d),R(lS,p),R(WS,m),R(qS,g),R(hS,G),R(fS,T),R(cS,M),R(Fp,v),R(hi,b),R(uS,I),ue(C))if(C.length){const z=t.exposed||(t.exposed={});C.forEach(Z=>{Object.defineProperty(z,Z,{get:()=>n[Z],set:Ae=>n[Z]=Ae})})}else t.exposed||(t.exposed={});x&&t.render===gt&&(t.render=x),D!=null&&(t.inheritAttrs=D),A&&(t.components=A),Q&&(t.directives=Q)}function vS(t,e,n=gt){ue(t)&&(t=nf(t));for(const r in t){const i=t[r];let s;Ge(i)?"default"in i?s=Is(i.from||r,i.default,!0):s=Is(i.from||r):s=Is(i),Xe(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s,process.env.NODE_ENV!=="production"&&n("Inject",r)}}function Wp(t,e,n){On(ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function qp(t,e,n,r){const i=r.includes(".")?hm(n,r):()=>n[r];if(it(t)){const s=e[t];ge(s)?He(i,s):process.env.NODE_ENV!=="production"&&q(`Invalid watch handler specified by key "${t}"`,s)}else if(ge(t))He(i,t.bind(n));else if(Ge(t))if(ue(t))t.forEach(s=>qp(s,e,n,r));else{const s=ge(t.handler)?t.handler.bind(n):e[t.handler];ge(s)?He(i,s,t):process.env.NODE_ENV!=="production"&&q(`Invalid watch handler specified by key "${t.handler}"`,s)}else process.env.NODE_ENV!=="production"&&q(`Invalid watch option: "${r}"`,t)}function tf(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>wl(l,u,a,!0)),wl(l,e,a)),Ge(e)&&s.set(e,l),l}function wl(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&wl(t,s,n,!0),i&&i.forEach(a=>wl(t,a,n,!0));for(const a in e)if(r&&a==="expose")process.env.NODE_ENV!=="production"&&q('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const o=_S[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const _S={data:Hp,props:zp,emits:zp,methods:Pa,computed:Pa,beforeCreate:Zt,created:Zt,beforeMount:Zt,mounted:Zt,beforeUpdate:Zt,updated:Zt,beforeDestroy:Zt,beforeUnmount:Zt,destroyed:Zt,unmounted:Zt,activated:Zt,deactivated:Zt,errorCaptured:Zt,serverPrefetch:Zt,components:Pa,directives:Pa,watch:ES,provide:Hp,inject:bS};function Hp(t,e){return e?t?function(){return tt(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function bS(t,e){return Pa(nf(t),nf(e))}function nf(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Zt(t,e){return t?[...new Set([].concat(t,e))]:e}function Pa(t,e){return t?tt(Object.create(null),t,e):e}function zp(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:tt(Object.create(null),Bp(t),Bp(e!=null?e:{})):e}function ES(t,e){if(!t)return e;if(!e)return t;const n=tt(Object.create(null),t);for(const r in e)n[r]=Zt(t[r],e[r]);return n}function Yp(){return{app:null,config:{isNativeTag:R1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let SS=0;function wS(t,e){return function(r,i=null){ge(r)||(r=tt({},r)),i!=null&&!Ge(i)&&(process.env.NODE_ENV!=="production"&&q("root props passed to app.mount() must be an object."),i=null);const s=Yp(),a=new WeakSet;let o=!1;const l=s.app={_uid:SS++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:km,get config(){return s.config},set config(u){process.env.NODE_ENV!=="production"&&q("app.config cannot be replaced. Modify individual options instead.")},use(u,...f){return a.has(u)?process.env.NODE_ENV!=="production"&&q("Plugin has already been applied to target app."):u&&ge(u.install)?(a.add(u),u.install(l,...f)):ge(u)?(a.add(u),u(l,...f)):process.env.NODE_ENV!=="production"&&q('A plugin must either be a function or an object with an "install" function.'),l},mixin(u){return s.mixins.includes(u)?process.env.NODE_ENV!=="production"&&q("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):s.mixins.push(u),l},component(u,f){return process.env.NODE_ENV!=="production"&&mf(u,s.config),f?(process.env.NODE_ENV!=="production"&&s.components[u]&&q(`Component "${u}" has already been registered in target app.`),s.components[u]=f,l):s.components[u]},directive(u,f){return process.env.NODE_ENV!=="production"&&Vp(u),f?(process.env.NODE_ENV!=="production"&&s.directives[u]&&q(`Directive "${u}" has already been registered in target app.`),s.directives[u]=f,l):s.directives[u]},mount(u,f,c){if(o)process.env.NODE_ENV!=="production"&&q("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{process.env.NODE_ENV!=="production"&&u.__vue_app__&&q("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=te(r,i);return h.appContext=s,c===!0?c="svg":c===!1&&(c=void 0),process.env.NODE_ENV!=="production"&&(s.reload=()=>{t(or(h),u,c)}),f&&e?e(h,u):t(h,u,c),o=!0,l._container=u,u.__vue_app__=l,process.env.NODE_ENV!=="production"&&(l._instance=h.component,UE(l,km)),Dl(h.component)}},unmount(){o?(t(null,l._container),process.env.NODE_ENV!=="production"&&(l._instance=null,BE(l)),delete l._container.__vue_app__):process.env.NODE_ENV!=="production"&&q("Cannot unmount an app that is not mounted.")},provide(u,f){return process.env.NODE_ENV!=="production"&&u in s.provides&&q(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),s.provides[u]=f,l},runWithContext(u){const f=Ds;Ds=l;try{return u()}finally{Ds=f}}};return l}}let Ds=null;function Xp(t,e){if(!Ot)process.env.NODE_ENV!=="production"&&q("provide() can only be used inside setup().");else{let n=Ot.provides;const r=Ot.parent&&Ot.parent.provides;r===n&&(n=Ot.provides=Object.create(r)),n[t]=e}}function Is(t,e,n=!1){const r=Ot||yt;if(r||Ds){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ds._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ge(e)?e.call(r&&r.proxy):e;process.env.NODE_ENV!=="production"&&q(`injection "${String(t)}" not found.`)}else process.env.NODE_ENV!=="production"&&q("inject() can only be used inside setup() or functional components.")}function OS(){return!!(Ot||yt||Ds)}const Kp={},Zp=()=>Object.create(Kp),Jp=t=>Object.getPrototypeOf(t)===Kp;function xS(t,e,n,r=!1){const i={},s=Zp();t.propsDefaults=Object.create(null),Qp(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);process.env.NODE_ENV!=="production"&&im(e||{},i,t),n?t.props=r?i:EE(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function MS(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function TS(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=Ee(i),[l]=t.propsOptions;let u=!1;if(!(process.env.NODE_ENV!=="production"&&MS(t))&&(r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let h=f[c];if(vl(t.emitsOptions,h))continue;const d=e[h];if(l)if(Ie(s,h))d!==s[h]&&(s[h]=d,u=!0);else{const p=pn(h);i[p]=rf(l,o,p,d,t,!1)}else d!==s[h]&&(s[h]=d,u=!0)}}}else{Qp(t,e,i,s)&&(u=!0);let f;for(const c in o)(!e||!Ie(e,c)&&((f=sn(c))===c||!Ie(e,f)))&&(l?n&&(n[c]!==void 0||n[f]!==void 0)&&(i[c]=rf(l,o,c,void 0,t,!0)):delete i[c]);if(s!==o)for(const c in s)(!e||!Ie(e,c)&&!0)&&(delete s[c],u=!0)}u&&rr(t.attrs,"set",""),process.env.NODE_ENV!=="production"&&im(e||{},i,t)}function Qp(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Sa(l))continue;const u=e[l];let f;i&&Ie(i,f=pn(l))?!s||!s.includes(f)?n[f]=u:(o||(o={}))[f]=u:vl(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(s){const l=Ee(n),u=o||Qe;for(let f=0;f<s.length;f++){const c=s[f];n[c]=rf(i,l,c,u[c],t,!Ie(u,c))}}return a}function rf(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=Ie(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ge(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const f=Ga(i);r=u[n]=l.call(null,e),f()}}else r=l}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===sn(n))&&(r=!0))}return r}function em(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!ge(t)){const f=c=>{l=!0;const[h,d]=em(c,e,!0);tt(a,h),d&&o.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!l)return Ge(t)&&r.set(t,As),As;if(ue(s))for(let f=0;f<s.length;f++){process.env.NODE_ENV!=="production"&&!it(s[f])&&q("props must be strings when using array syntax.",s[f]);const c=pn(s[f]);tm(c)&&(a[c]=Qe)}else if(s){process.env.NODE_ENV!=="production"&&!Ge(s)&&q("invalid props options",s);for(const f in s){const c=pn(f);if(tm(c)){const h=s[f],d=a[c]=ue(h)||ge(h)?{type:h}:tt({},h);if(d){const p=rm(Boolean,d.type),m=rm(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||Ie(d,"default"))&&o.push(c)}}}}const u=[a,o];return Ge(t)&&r.set(t,u),u}function tm(t){return t[0]!=="$"&&!Sa(t)?!0:(process.env.NODE_ENV!=="production"&&q(`Invalid prop name: "${t}" is a reserved property.`),!1)}function sf(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function nm(t,e){return sf(t)===sf(e)}function rm(t,e){return ue(e)?e.findIndex(n=>nm(n,t)):ge(e)&&nm(e,t)?0:-1}function im(t,e,n){const r=Ee(e),i=n.propsOptions[0];for(const s in i){let a=i[s];a!=null&&NS(s,r[s],a,process.env.NODE_ENV!=="production"?ir(r):r,!Ie(t,s)&&!Ie(t,sn(s)))}}function NS(t,e,n,r,i){const{type:s,required:a,validator:o,skipCheck:l}=n;if(a&&i){q('Missing required prop: "'+t+'"');return}if(!(e==null&&!a)){if(s!=null&&s!==!0&&!l){let u=!1;const f=ue(s)?s:[s],c=[];for(let h=0;h<f.length&&!u;h++){const{valid:d,expectedType:p}=CS(e,f[h]);c.push(p||""),u=d}if(!u){q(AS(t,e,c));return}}o&&!o(e,r)&&q('Invalid prop: custom validator check failed for prop "'+t+'".')}}const LS=Ar("String,Number,Boolean,Function,Symbol,BigInt");function CS(t,e){let n;const r=sf(e);if(LS(r)){const i=typeof t;n=i===r.toLowerCase(),!n&&i==="object"&&(n=t instanceof e)}else r==="Object"?n=Ge(t):r==="Array"?n=ue(t):r==="null"?n=t===null:n=t instanceof e;return{valid:n,expectedType:r}}function AS(t,e,n){if(n.length===0)return`Prop type [] for prop "${t}" won't match anything. Did you mean to use type Array instead?`;let r=`Invalid prop: type check failed for prop "${t}". Expected ${n.map(Wi).join(" | ")}`;const i=n[0],s=xc(e),a=sm(e,i),o=sm(e,s);return n.length===1&&am(i)&&!PS(i,s)&&(r+=` with value ${a}`),r+=`, got ${s} `,am(s)&&(r+=`with value ${o}.`),r}function sm(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function am(t){return["string","number","boolean"].some(n=>t.toLowerCase()===n)}function PS(...t){return t.some(e=>e.toLowerCase()==="boolean")}const om=t=>t[0]==="_"||t==="$stable",af=t=>ue(t)?t.map(Wn):[Wn(t)],DS=(t,e,n)=>{if(e._n)return e;const r=fi((...i)=>(process.env.NODE_ENV!=="production"&&Ot&&(!n||n.root===Ot.root)&&q(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),af(e(...i))),n);return r._c=!1,r},lm=(t,e,n)=>{const r=t._ctx;for(const i in t){if(om(i))continue;const s=t[i];if(ge(s))e[i]=DS(i,s,r);else if(s!=null){process.env.NODE_ENV!=="production"&&q(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const a=af(s);e[i]=()=>a}}},um=(t,e)=>{process.env.NODE_ENV!=="production"&&!ka(t.vnode)&&q("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=af(e);t.slots.default=()=>n},IS=(t,e)=>{const n=t.slots=Zp();if(t.vnode.shapeFlag&32){const r=e._;r?(tt(n,e),Qo(n,"_",r,!0)):lm(e,n)}else e&&um(t,e)},kS=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=Qe;if(r.shapeFlag&32){const o=e._;o?process.env.NODE_ENV!=="production"&&ci?(tt(i,e),rr(t,"set","$slots")):n&&o===1?s=!1:(tt(i,e),!n&&o===1&&delete i._):(s=!e.$stable,lm(e,i)),a=e}else e&&(um(t,e),a={default:1});if(s)for(const o in i)!om(o)&&a[o]==null&&delete i[o]};function of(t,e,n,r,i=!1){if(ue(t)){t.forEach((h,d)=>of(h,e&&(ue(e)?e[d]:e),n,r,i));return}if(Aa(r)&&!i)return;const s=r.shapeFlag&4?Dl(r.component):r.el,a=i?null:s,{i:o,r:l}=t;if(process.env.NODE_ENV!=="production"&&!o){q("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=e&&e.r,f=o.refs===Qe?o.refs={}:o.refs,c=o.setupState;if(u!=null&&u!==l&&(it(u)?(f[u]=null,Ie(c,u)&&(c[u]=null)):Xe(u)&&(u.value=null)),ge(l))Ir(l,o,12,[a,f]);else{const h=it(l),d=Xe(l);if(h||d){const p=()=>{if(t.f){const m=h?Ie(c,l)?c[l]:f[l]:l.value;i?ue(m)&&wc(m,s):ue(m)?m.includes(s)||m.push(s):h?(f[l]=[s],Ie(c,l)&&(c[l]=f[l])):(l.value=[s],t.k&&(f[t.k]=l.value))}else h?(f[l]=a,Ie(c,l)&&(c[l]=a)):d?(l.value=a,t.k&&(f[t.k]=a)):process.env.NODE_ENV!=="production"&&q("Invalid template ref type:",l,`(${typeof l})`)};a?(p.id=-1,an(p,n)):p()}else process.env.NODE_ENV!=="production"&&q("Invalid template ref type:",l,`(${typeof l})`)}}let Da,di;function Rr(t,e){t.appContext.config.performance&&Ol()&&di.mark(`vue-${e}-${t.uid}`),process.env.NODE_ENV!=="production"&&zE(t,e,Ol()?di.now():Date.now())}function $r(t,e){if(t.appContext.config.performance&&Ol()){const n=`vue-${e}-${t.uid}`,r=n+":end";di.mark(r),di.measure(`<${Il(t,t.type)}> ${e}`,n,r),di.clearMarks(n),di.clearMarks(r)}process.env.NODE_ENV!=="production"&&YE(t,e,Ol()?di.now():Date.now())}function Ol(){return Da!==void 0||(typeof window<"u"&&window.performance?(Da=!0,di=window.performance):Da=!1),Da}function RS(){const t=[];if(typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(process.env.NODE_ENV!=="production"&&t.push("__VUE_PROD_HYDRATION_MISMATCH_DETAILS__"),el().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1),process.env.NODE_ENV!=="production"&&t.length){const e=t.length>1;console.warn(`Feature flag${e?"s":""} ${t.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const an=sS;function $S(t){return FS(t)}function FS(t,e){RS();const n=el();n.__VUE__=!0,process.env.NODE_ENV!=="production"&&Wc(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:f,parentNode:c,nextSibling:h,setScopeId:d=gt,insertStaticContent:p}=t,m=(_,w,k,V=null,j=null,W=null,J=void 0,B=null,X=process.env.NODE_ENV!=="production"&&ci?!1:!!w.dynamicChildren)=>{if(_===w)return;_&&!is(_,w)&&(V=fn(_),Ne(_,j,W,!0),_=null),w.patchFlag===-2&&(X=!1,w.dynamicChildren=null);const{type:U,ref:se,shapeFlag:ce}=w;switch(U){case Ra:g(_,w,k,V);break;case wt:y(_,w,k,V);break;case Ll:_==null?v(w,k,V,J):process.env.NODE_ENV!=="production"&&E(_,w,k,J);break;case Ue:Q(_,w,k,V,j,W,J,B,X);break;default:ce&1?T(_,w,k,V,j,W,J,B,X):ce&6?he(_,w,k,V,j,W,J,B,X):ce&64||ce&128?U.process(_,w,k,V,j,W,J,B,X,Ft):process.env.NODE_ENV!=="production"&&q("Invalid VNode type:",U,`(${typeof U})`)}se!=null&&j&&of(se,_&&_.ref,W,w||_,!w)},g=(_,w,k,V)=>{if(_==null)r(w.el=o(w.children),k,V);else{const j=w.el=_.el;w.children!==_.children&&u(j,w.children)}},y=(_,w,k,V)=>{_==null?r(w.el=l(w.children||""),k,V):w.el=_.el},v=(_,w,k,V)=>{[_.el,_.anchor]=p(_.children,w,k,V,_.el,_.anchor)},E=(_,w,k,V)=>{if(w.children!==_.children){const j=h(_.anchor);x(_),[w.el,w.anchor]=p(w.children,k,j,V)}else w.el=_.el,w.anchor=_.anchor},b=({el:_,anchor:w},k,V)=>{let j;for(;_&&_!==w;)j=h(_),r(_,k,V),_=j;r(w,k,V)},x=({el:_,anchor:w})=>{let k;for(;_&&_!==w;)k=h(_),i(_),_=k;i(w)},T=(_,w,k,V,j,W,J,B,X)=>{w.type==="svg"?J="svg":w.type==="math"&&(J="mathml"),_==null?M(w,k,V,j,W,J,B,X):C(_,w,j,W,J,B,X)},M=(_,w,k,V,j,W,J,B)=>{let X,U;const{props:se,shapeFlag:ce,transition:le,dirs:ye}=_;if(X=_.el=a(_.type,W,se&&se.is,se),ce&8?f(X,_.children):ce&16&&I(_.children,X,null,V,j,lf(_,W),J,B),ye&&es(_,null,V,"created"),G(X,_,_.scopeId,J,V),se){for(const Je in se)Je!=="value"&&!Sa(Je)&&s(X,Je,null,se[Je],W,_.children,V,j,Re);"value"in se&&s(X,"value",null,se.value,W),(U=se.onVnodeBeforeMount)&&lr(U,V,_)}process.env.NODE_ENV!=="production"&&(Qo(X,"__vnode",_,!0),Qo(X,"__vueParentComponent",V,!0)),ye&&es(_,null,V,"beforeMount");const xe=VS(j,le);xe&&le.beforeEnter(X),r(X,w,k),((U=se&&se.onVnodeMounted)||xe||ye)&&an(()=>{U&&lr(U,V,_),xe&&le.enter(X),ye&&es(_,null,V,"mounted")},j)},G=(_,w,k,V,j)=>{if(k&&d(_,k),V)for(let W=0;W<V.length;W++)d(_,V[W]);if(j){let W=j.subTree;if(process.env.NODE_ENV!=="production"&&W.patchFlag>0&&W.patchFlag&2048&&(W=Yc(W.children)||W),w===W){const J=j.vnode;G(_,J,J.scopeId,J.slotScopeIds,j.parent)}}},I=(_,w,k,V,j,W,J,B,X=0)=>{for(let U=X;U<_.length;U++){const se=_[U]=B?gi(_[U]):Wn(_[U]);m(null,se,w,k,V,j,W,J,B)}},C=(_,w,k,V,j,W,J)=>{const B=w.el=_.el;process.env.NODE_ENV!=="production"&&(B.__vnode=w);let{patchFlag:X,dynamicChildren:U,dirs:se}=w;X|=_.patchFlag&16;const ce=_.props||Qe,le=w.props||Qe;let ye;if(k&&ns(k,!1),(ye=le.onVnodeBeforeUpdate)&&lr(ye,k,w,_),se&&es(w,_,k,"beforeUpdate"),k&&ns(k,!0),process.env.NODE_ENV!=="production"&&ci&&(X=0,J=!1,U=null),U?(D(_.dynamicChildren,U,B,k,V,lf(w,j),W),process.env.NODE_ENV!=="production"&&Ia(_,w)):J||Ae(_,w,B,null,k,V,lf(w,j),W,!1),X>0){if(X&16)A(B,w,ce,le,k,V,j);else if(X&2&&ce.class!==le.class&&s(B,"class",null,le.class,j),X&4&&s(B,"style",ce.style,le.style,j),X&8){const xe=w.dynamicProps;for(let Je=0;Je<xe.length;Je++){const Ve=xe[Je],St=ce[Ve],rn=le[Ve];(rn!==St||Ve==="value")&&s(B,Ve,St,rn,j,_.children,k,V,Re)}}X&1&&_.children!==w.children&&f(B,w.children)}else!J&&U==null&&A(B,w,ce,le,k,V,j);((ye=le.onVnodeUpdated)||se)&&an(()=>{ye&&lr(ye,k,w,_),se&&es(w,_,k,"updated")},V)},D=(_,w,k,V,j,W,J)=>{for(let B=0;B<w.length;B++){const X=_[B],U=w[B],se=X.el&&(X.type===Ue||!is(X,U)||X.shapeFlag&70)?c(X.el):k;m(X,U,se,null,V,j,W,J,!0)}},A=(_,w,k,V,j,W,J)=>{if(k!==V){if(k!==Qe)for(const B in k)!Sa(B)&&!(B in V)&&s(_,B,k[B],null,J,w.children,j,W,Re);for(const B in V){if(Sa(B))continue;const X=V[B],U=k[B];X!==U&&B!=="value"&&s(_,B,U,X,J,w.children,j,W,Re)}"value"in V&&s(_,"value",k.value,V.value,J)}},Q=(_,w,k,V,j,W,J,B,X)=>{const U=w.el=_?_.el:o(""),se=w.anchor=_?_.anchor:o("");let{patchFlag:ce,dynamicChildren:le,slotScopeIds:ye}=w;process.env.NODE_ENV!=="production"&&(ci||ce&2048)&&(ce=0,X=!1,le=null),ye&&(B=B?B.concat(ye):ye),_==null?(r(U,k,V),r(se,k,V),I(w.children||[],k,se,j,W,J,B,X)):ce>0&&ce&64&&le&&_.dynamicChildren?(D(_.dynamicChildren,le,k,j,W,J,B),process.env.NODE_ENV!=="production"?Ia(_,w):(w.key!=null||j&&w===j.subTree)&&Ia(_,w,!0)):Ae(_,w,k,se,j,W,J,B,X)},he=(_,w,k,V,j,W,J,B,X)=>{w.slotScopeIds=B,_==null?w.shapeFlag&512?j.ctx.activate(w,k,V,J,X):N(w,k,V,j,W,J,X):R(_,w,X)},N=(_,w,k,V,j,W,J)=>{const B=_.component=iw(_,V,j);if(process.env.NODE_ENV!=="production"&&B.type.__hmrId&&FE(B),process.env.NODE_ENV!=="production"&&(pl(_),Rr(B,"mount")),ka(_)&&(B.ctx.renderer=Ft),process.env.NODE_ENV!=="production"&&Rr(B,"init"),aw(B),process.env.NODE_ENV!=="production"&&$r(B,"init"),B.asyncDep){if(j&&j.registerDep(B,z,J),!_.el){const X=B.subTree=te(wt);y(null,X,w,k)}}else z(B,_,w,k,j,W,J);process.env.NODE_ENV!=="production"&&(ml(),$r(B,"mount"))},R=(_,w,k)=>{const V=w.component=_.component;if(QE(_,w,k))if(V.asyncDep&&!V.asyncResolved){process.env.NODE_ENV!=="production"&&pl(w),Z(V,w,k),process.env.NODE_ENV!=="production"&&ml();return}else V.next=w,RE(V.update),V.effect.dirty=!0,V.update();else w.el=_.el,V.vnode=w},z=(_,w,k,V,j,W,J)=>{const B=()=>{if(_.isMounted){let{next:se,bu:ce,u:le,parent:ye,vnode:xe}=_;{const ti=cm(_);if(ti){se&&(se.el=xe.el,Z(_,se,J)),ti.asyncDep.then(()=>{_.isUnmounted||B()});return}}let Je=se,Ve;process.env.NODE_ENV!=="production"&&pl(se||_.vnode),ns(_,!1),se?(se.el=xe.el,Z(_,se,J)):se=xe,ce&&wa(ce),(Ve=se.props&&se.props.onVnodeBeforeUpdate)&&lr(Ve,ye,se,xe),ns(_,!0),process.env.NODE_ENV!=="production"&&Rr(_,"render");const St=zc(_);process.env.NODE_ENV!=="production"&&$r(_,"render");const rn=_.subTree;_.subTree=St,process.env.NODE_ENV!=="production"&&Rr(_,"patch"),m(rn,St,c(rn.el),fn(rn),_,j,W),process.env.NODE_ENV!=="production"&&$r(_,"patch"),se.el=St.el,Je===null&&eS(_,St.el),le&&an(le,j),(Ve=se.props&&se.props.onVnodeUpdated)&&an(()=>lr(Ve,ye,se,xe),j),process.env.NODE_ENV!=="production"&&Lp(_),process.env.NODE_ENV!=="production"&&ml()}else{let se;const{el:ce,props:le}=w,{bm:ye,m:xe,parent:Je}=_,Ve=Aa(w);if(ns(_,!1),ye&&wa(ye),!Ve&&(se=le&&le.onVnodeBeforeMount)&&lr(se,Je,w),ns(_,!0),ce&&ei){const St=()=>{process.env.NODE_ENV!=="production"&&Rr(_,"render"),_.subTree=zc(_),process.env.NODE_ENV!=="production"&&$r(_,"render"),process.env.NODE_ENV!=="production"&&Rr(_,"hydrate"),ei(ce,_.subTree,_,j,null),process.env.NODE_ENV!=="production"&&$r(_,"hydrate")};Ve?w.type.__asyncLoader().then(()=>!_.isUnmounted&&St()):St()}else{process.env.NODE_ENV!=="production"&&Rr(_,"render");const St=_.subTree=zc(_);process.env.NODE_ENV!=="production"&&$r(_,"render"),process.env.NODE_ENV!=="production"&&Rr(_,"patch"),m(null,St,k,V,_,j,W),process.env.NODE_ENV!=="production"&&$r(_,"patch"),w.el=St.el}if(xe&&an(xe,j),!Ve&&(se=le&&le.onVnodeMounted)){const St=w;an(()=>lr(se,Je,St),j)}(w.shapeFlag&256||Je&&Aa(Je.vnode)&&Je.vnode.shapeFlag&256)&&_.a&&an(_.a,j),_.isMounted=!0,process.env.NODE_ENV!=="production"&&WE(_),w=k=V=null}},X=_.effect=new Lc(B,gt,()=>yl(U),_.scope),U=_.update=()=>{X.dirty&&X.run()};U.id=_.uid,ns(_,!0),process.env.NODE_ENV!=="production"&&(X.onTrack=_.rtc?se=>wa(_.rtc,se):void 0,X.onTrigger=_.rtg?se=>wa(_.rtg,se):void 0,U.ownerInstance=_),U()},Z=(_,w,k)=>{w.component=_;const V=_.vnode.props;_.vnode=w,_.next=null,TS(_,w.props,V,k),kS(_,w.children,k),Pr(),Op(_),Dr()},Ae=(_,w,k,V,j,W,J,B,X=!1)=>{const U=_&&_.children,se=_?_.shapeFlag:0,ce=w.children,{patchFlag:le,shapeFlag:ye}=w;if(le>0){if(le&128){Et(U,ce,k,V,j,W,J,B,X);return}else if(le&256){De(U,ce,k,V,j,W,J,B,X);return}}ye&8?(se&16&&Re(U,j,W),ce!==U&&f(k,ce)):se&16?ye&16?Et(U,ce,k,V,j,W,J,B,X):Re(U,j,W,!0):(se&8&&f(k,""),ye&16&&I(ce,k,V,j,W,J,B,X))},De=(_,w,k,V,j,W,J,B,X)=>{_=_||As,w=w||As;const U=_.length,se=w.length,ce=Math.min(U,se);let le;for(le=0;le<ce;le++){const ye=w[le]=X?gi(w[le]):Wn(w[le]);m(_[le],ye,k,null,j,W,J,B,X)}U>se?Re(_,j,W,!0,!1,ce):I(w,k,V,j,W,J,B,X,ce)},Et=(_,w,k,V,j,W,J,B,X)=>{let U=0;const se=w.length;let ce=_.length-1,le=se-1;for(;U<=ce&&U<=le;){const ye=_[U],xe=w[U]=X?gi(w[U]):Wn(w[U]);if(is(ye,xe))m(ye,xe,k,null,j,W,J,B,X);else break;U++}for(;U<=ce&&U<=le;){const ye=_[ce],xe=w[le]=X?gi(w[le]):Wn(w[le]);if(is(ye,xe))m(ye,xe,k,null,j,W,J,B,X);else break;ce--,le--}if(U>ce){if(U<=le){const ye=le+1,xe=ye<se?w[ye].el:V;for(;U<=le;)m(null,w[U]=X?gi(w[U]):Wn(w[U]),k,xe,j,W,J,B,X),U++}}else if(U>le)for(;U<=ce;)Ne(_[U],j,W,!0),U++;else{const ye=U,xe=U,Je=new Map;for(U=xe;U<=le;U++){const pt=w[U]=X?gi(w[U]):Wn(w[U]);pt.key!=null&&(process.env.NODE_ENV!=="production"&&Je.has(pt.key)&&q("Duplicate keys found during update:",JSON.stringify(pt.key),"Make sure keys are unique."),Je.set(pt.key,U))}let Ve,St=0;const rn=le-xe+1;let ti=!1,Ns=0;const Cr=new Array(rn);for(U=0;U<rn;U++)Cr[U]=0;for(U=ye;U<=ce;U++){const pt=_[U];if(St>=rn){Ne(pt,j,W,!0);continue}let hn;if(pt.key!=null)hn=Je.get(pt.key);else for(Ve=xe;Ve<=le;Ve++)if(Cr[Ve-xe]===0&&is(pt,w[Ve])){hn=Ve;break}hn===void 0?Ne(pt,j,W,!0):(Cr[hn-xe]=U+1,hn>=Ns?Ns=hn:ti=!0,m(pt,w[hn],k,null,j,W,J,B,X),St++)}const jn=ti?jS(Cr):As;for(Ve=jn.length-1,U=rn-1;U>=0;U--){const pt=xe+U,hn=w[pt],_a=pt+1<se?w[pt+1].el:V;Cr[U]===0?m(null,hn,k,_a,j,W,J,B,X):ti&&(Ve<0||U!==jn[Ve]?Xt(hn,k,_a,2):Ve--)}}},Xt=(_,w,k,V,j=null)=>{const{el:W,type:J,transition:B,children:X,shapeFlag:U}=_;if(U&6){Xt(_.component.subTree,w,k,V);return}if(U&128){_.suspense.move(w,k,V);return}if(U&64){J.move(_,w,k,Ft);return}if(J===Ue){r(W,w,k);for(let ce=0;ce<X.length;ce++)Xt(X[ce],w,k,V);r(_.anchor,w,k);return}if(J===Ll){b(_,w,k);return}if(V!==2&&U&1&&B)if(V===0)B.beforeEnter(W),r(W,w,k),an(()=>B.enter(W),j);else{const{leave:ce,delayLeave:le,afterLeave:ye}=B,xe=()=>r(W,w,k),Je=()=>{ce(W,()=>{xe(),ye&&ye()})};le?le(W,xe,Je):Je()}else r(W,w,k)},Ne=(_,w,k,V=!1,j=!1)=>{const{type:W,props:J,ref:B,children:X,dynamicChildren:U,shapeFlag:se,patchFlag:ce,dirs:le,memoIndex:ye}=_;if(ce===-2&&(j=!1),B!=null&&of(B,null,k,_,!0),ye!=null&&(w.renderCache[ye]=void 0),se&256){w.ctx.deactivate(_);return}const xe=se&1&&le,Je=!Aa(_);let Ve;if(Je&&(Ve=J&&J.onVnodeBeforeUnmount)&&lr(Ve,w,_),se&6)Tr(_.component,k,V);else{if(se&128){_.suspense.unmount(k,V);return}xe&&es(_,null,w,"beforeUnmount"),se&64?_.type.remove(_,w,k,Ft,V):U&&(W!==Ue||ce>0&&ce&64)?Re(U,w,k,!1,!0):(W===Ue&&ce&384||!j&&se&16)&&Re(X,w,k),V&&$t(_)}(Je&&(Ve=J&&J.onVnodeUnmounted)||xe)&&an(()=>{Ve&&lr(Ve,w,_),xe&&es(_,null,w,"unmounted")},k)},$t=_=>{const{type:w,el:k,anchor:V,transition:j}=_;if(w===Ue){process.env.NODE_ENV!=="production"&&_.patchFlag>0&&_.patchFlag&2048&&j&&!j.persisted?_.children.forEach(J=>{J.type===wt?i(J.el):$t(J)}):ct(k,V);return}if(w===Ll){x(_);return}const W=()=>{i(k),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(_.shapeFlag&1&&j&&!j.persisted){const{leave:J,delayLeave:B}=j,X=()=>J(k,W);B?B(_.el,W,X):X()}else W()},ct=(_,w)=>{let k;for(;_!==w;)k=h(_),i(_),_=k;i(w)},Tr=(_,w,k)=>{process.env.NODE_ENV!=="production"&&_.type.__hmrId&&VE(_);const{bum:V,scope:j,update:W,subTree:J,um:B,m:X,a:U}=_;fm(X),fm(U),V&&wa(V),j.stop(),W&&(W.active=!1,Ne(J,_,w,k)),B&&an(B,w),an(()=>{_.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve()),process.env.NODE_ENV!=="production"&&HE(_)},Re=(_,w,k,V=!1,j=!1,W=0)=>{for(let J=W;J<_.length;J++)Ne(_[J],w,k,V,j)},fn=_=>_.shapeFlag&6?fn(_.component.subTree):_.shapeFlag&128?_.suspense.next():h(_.anchor||_.el);let Nr=!1;const Qr=(_,w,k)=>{_==null?w._vnode&&Ne(w._vnode,null,null,!0):m(w._vnode||null,_,w,null,null,null,k),Nr||(Nr=!0,Op(),xp(),Nr=!1),w._vnode=_},Ft={p:m,um:Ne,m:Xt,r:$t,mt:N,mc:I,pc:Ae,pbc:D,n:fn,o:t};let Lr,ei;return e&&([Lr,ei]=e(Ft)),{render:Qr,hydrate:Lr,createApp:wS(Qr,Lr)}}function lf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ns({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function VS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ia(t,e,n=!1){const r=t.children,i=e.children;if(ue(r)&&ue(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=gi(i[s]),o.el=a.el),!n&&o.patchFlag!==-2&&Ia(a,o)),o.type===Ra&&(o.el=a.el),process.env.NODE_ENV!=="production"&&o.type===wt&&!o.el&&(o.el=a.el)}}function jS(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<u?s=o+1:a=o;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}function cm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:cm(e)}function fm(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const GS=Symbol.for("v-scx"),US=()=>{{const t=Is(GS);return t||process.env.NODE_ENV!=="production"&&q("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function yn(t,e){return uf(t,null,e)}const xl={};function He(t,e,n){return process.env.NODE_ENV!=="production"&&!ge(e)&&q("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),uf(t,e,n)}function uf(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:a,onTrigger:o}=Qe){if(e&&s){const M=e;e=(...G)=>{M(...G),T()}}process.env.NODE_ENV!=="production"&&r!==void 0&&typeof r=="number"&&q('watch() "deep" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.'),process.env.NODE_ENV!=="production"&&!e&&(n!==void 0&&q('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&q('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&q('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const l=M=>{q("Invalid watch source: ",M,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=Ot,f=M=>r===!0?M:pi(M,r===!1?1:void 0);let c,h=!1,d=!1;if(Xe(t)?(c=()=>t.value,h=Xi(t)):sr(t)?(c=()=>f(t),h=!0):ue(t)?(d=!0,h=t.some(M=>sr(M)||Xi(M)),c=()=>t.map(M=>{if(Xe(M))return M.value;if(sr(M))return f(M);if(ge(M))return Ir(M,u,2);process.env.NODE_ENV!=="production"&&l(M)})):ge(t)?e?c=()=>Ir(t,u,2):c=()=>(p&&p(),On(t,u,3,[m])):(c=gt,process.env.NODE_ENV!=="production"&&l(t)),e&&r){const M=c;c=()=>pi(M())}let p,m=M=>{p=b.onStop=()=>{Ir(M,u,4),p=b.onStop=void 0}},g;if(Pl)if(m=gt,e?n&&On(e,u,3,[c(),d?[]:void 0,m]):c(),i==="sync"){const M=US();g=M.__watcherHandles||(M.__watcherHandles=[])}else return gt;let y=d?new Array(t.length).fill(xl):xl;const v=()=>{if(!(!b.active||!b.dirty))if(e){const M=b.run();(r||h||(d?M.some((G,I)=>ii(G,y[I])):ii(M,y)))&&(p&&p(),On(e,u,3,[M,y===xl?void 0:d&&y[0]===xl?[]:y,m]),y=M)}else b.run()};v.allowRecurse=!!e;let E;i==="sync"?E=v:i==="post"?E=()=>an(v,u&&u.suspense):(v.pre=!0,u&&(v.id=u.uid),E=()=>yl(v));const b=new Lc(c,gt,E),x=Hd(),T=()=>{b.stop(),x&&wc(x.effects,b)};return process.env.NODE_ENV!=="production"&&(b.onTrack=a,b.onTrigger=o),e?n?v():y=b.run():i==="post"?an(b.run.bind(b),u&&u.suspense):b.run(),g&&g.push(T),T}function BS(t,e,n){const r=this.proxy,i=it(t)?t.includes(".")?hm(r,t):()=>r[t]:t.bind(r,r);let s;ge(e)?s=e:(s=e.handler,n=e);const a=Ga(this),o=uf(i,s.bind(r),n);return a(),o}function hm(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function pi(t,e=1/0,n){if(e<=0||!Ge(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Xe(t))pi(t.value,e,n);else if(ue(t))for(let r=0;r<t.length;r++)pi(t[r],e,n);else if($d(t)||Bi(t))t.forEach(r=>{pi(r,e,n)});else if(Vd(t)){for(const r in t)pi(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&pi(t[r],e,n)}return t}const ka=t=>t.type.__isKeepAlive;function WS(t,e){dm(t,"a",e)}function qS(t,e){dm(t,"da",e)}function dm(t,e,n=Ot){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(El(e,r,n),n){let i=n.parent;for(;i&&i.parent;)ka(i.parent.vnode)&&HS(r,e,n,i),i=i.parent}}function HS(t,e,n,r){const i=El(e,t,r,!0);hi(()=>{wc(r[e],i)},n)}const mi=Symbol("_leaveCb"),Ml=Symbol("_enterCb");function zS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gn(()=>{t.isMounted=!0}),Fp(()=>{t.isUnmounting=!0}),t}const Mn=[Function,Array],pm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mn,onEnter:Mn,onAfterEnter:Mn,onEnterCancelled:Mn,onBeforeLeave:Mn,onLeave:Mn,onAfterLeave:Mn,onLeaveCancelled:Mn,onBeforeAppear:Mn,onAppear:Mn,onAfterAppear:Mn,onAppearCancelled:Mn},mm=t=>{const e=t.subTree;return e.component?mm(e.component):e},YS={name:"BaseTransition",props:pm,setup(t,{slots:e}){const n=ja(),r=zS();return()=>{const i=e.default&&vm(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){let h=!1;for(const d of i)if(d.type!==wt){if(process.env.NODE_ENV!=="production"&&h){q("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}if(s=d,h=!0,process.env.NODE_ENV==="production")break}}const a=Ee(t),{mode:o}=a;if(process.env.NODE_ENV!=="production"&&o&&o!=="in-out"&&o!=="out-in"&&o!=="default"&&q(`invalid <transition> mode: ${o}`),r.isLeaving)return ff(s);const l=ym(s);if(!l)return ff(s);let u=cf(l,a,r,n,h=>u=h);Tl(l,u);const f=n.subTree,c=f&&ym(f);if(c&&c.type!==wt&&!is(l,c)&&mm(n).type!==wt){const h=cf(c,a,r,n);if(Tl(c,h),o==="out-in"&&l.type!==wt)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},ff(s);o==="in-out"&&l.type!==wt&&(h.delayLeave=(d,p,m)=>{const g=gm(r,c);g[String(c.key)]=c,d[mi]=()=>{p(),d[mi]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return s}}};function gm(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function cf(t,e,n,r,i){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:f,onEnterCancelled:c,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:g,onAppear:y,onAfterAppear:v,onAppearCancelled:E}=e,b=String(t.key),x=gm(n,t),T=(I,C)=>{I&&On(I,r,9,C)},M=(I,C)=>{const D=C[1];T(I,C),ue(I)?I.every(A=>A.length<=1)&&D():I.length<=1&&D()},G={mode:a,persisted:o,beforeEnter(I){let C=l;if(!n.isMounted)if(s)C=g||l;else return;I[mi]&&I[mi](!0);const D=x[b];D&&is(t,D)&&D.el[mi]&&D.el[mi](),T(C,[I])},enter(I){let C=u,D=f,A=c;if(!n.isMounted)if(s)C=y||u,D=v||f,A=E||c;else return;let Q=!1;const he=I[Ml]=N=>{Q||(Q=!0,N?T(A,[I]):T(D,[I]),G.delayedLeave&&G.delayedLeave(),I[Ml]=void 0)};C?M(C,[I,he]):he()},leave(I,C){const D=String(t.key);if(I[Ml]&&I[Ml](!0),n.isUnmounting)return C();T(h,[I]);let A=!1;const Q=I[mi]=he=>{A||(A=!0,C(),he?T(m,[I]):T(p,[I]),I[mi]=void 0,x[D]===t&&delete x[D])};x[D]=t,d?M(d,[I,Q]):Q()},clone(I){const C=cf(I,e,n,r,i);return i&&i(C),C}};return G}function ff(t){if(ka(t))return t=or(t),t.children=null,t}function ym(t){if(!ka(t))return t;if(process.env.NODE_ENV!=="production"&&t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ge(n.default))return n.default()}}function Tl(t,e){t.shapeFlag&6&&t.component?Tl(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function vm(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Ue?(a.patchFlag&128&&i++,r=r.concat(vm(a.children,e,o))):(e||a.type!==wt)&&r.push(o!=null?or(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}const XS=t=>t.__isTeleport,rs=t=>t&&(t.disabled||t.disabled===""),_m=t=>typeof SVGElement<"u"&&t instanceof SVGElement,bm=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,hf=(t,e)=>{const n=t&&t.to;if(it(n))if(e){const r=e(n);return process.env.NODE_ENV!=="production"&&!r&&!rs(t)&&q(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),r}else return process.env.NODE_ENV!=="production"&&q("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return process.env.NODE_ENV!=="production"&&!n&&!rs(t)&&q(`Invalid Teleport target: ${n}`),n},KS={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,u){const{mc:f,pc:c,pbc:h,o:{insert:d,querySelector:p,createText:m,createComment:g}}=u,y=rs(e.props);let{shapeFlag:v,children:E,dynamicChildren:b}=e;if(process.env.NODE_ENV!=="production"&&ci&&(l=!1,b=null),t==null){const x=e.el=process.env.NODE_ENV!=="production"?g("teleport start"):m(""),T=e.anchor=process.env.NODE_ENV!=="production"?g("teleport end"):m("");d(x,n,r),d(T,n,r);const M=e.target=hf(e.props,p),G=e.targetAnchor=m("");M?(d(G,M),a==="svg"||_m(M)?a="svg":(a==="mathml"||bm(M))&&(a="mathml")):process.env.NODE_ENV!=="production"&&!y&&q("Invalid Teleport target on mount:",M,`(${typeof M})`);const I=(C,D)=>{v&16&&f(E,C,D,i,s,a,o,l)};y?I(n,T):M&&I(M,G)}else{e.el=t.el;const x=e.anchor=t.anchor,T=e.target=t.target,M=e.targetAnchor=t.targetAnchor,G=rs(t.props),I=G?n:T,C=G?x:M;if(a==="svg"||_m(T)?a="svg":(a==="mathml"||bm(T))&&(a="mathml"),b?(h(t.dynamicChildren,b,I,i,s,a,o),Ia(t,e,!0)):l||c(t,e,I,C,i,s,a,o,!1),y)G?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Nl(e,n,x,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const D=e.target=hf(e.props,p);D?Nl(e,D,null,u,0):process.env.NODE_ENV!=="production"&&q("Invalid Teleport target on update:",T,`(${typeof T})`)}else G&&Nl(e,T,M,u,1)}Sm(e)},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:o,anchor:l,targetAnchor:u,target:f,props:c}=t;if(f&&i(u),s&&i(l),a&16){const h=s||!rs(c);for(let d=0;d<o.length;d++){const p=o[d];r(p,e,n,h,!!p.dynamicChildren)}}},move:Nl,hydrate:ZS};function Nl(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:f}=t,c=s===2;if(c&&r(a,e,n),(!c||rs(f))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);c&&r(o,e,n)}function ZS(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const f=e.target=hf(e.props,l);if(f){const c=f._lpa||f.firstChild;if(e.shapeFlag&16)if(rs(e.props))e.anchor=u(a(t),e,o(t),n,r,i,s),e.targetAnchor=c;else{e.anchor=a(t);let h=c;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(c,e,f,n,r,i,s)}Sm(e)}return e.anchor&&a(e.anchor)}const Em=KS;function Sm(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ue=Symbol.for("v-fgt"),Ra=Symbol.for("v-txt"),wt=Symbol.for("v-cmt"),Ll=Symbol.for("v-stc"),$a=[];let Bn=null;function P(t=!1){$a.push(Bn=t?null:[])}function JS(){$a.pop(),Bn=$a[$a.length-1]||null}let Fa=1;function wm(t){Fa+=t}function Om(t){return t.dynamicChildren=Fa>0?Bn||As:null,JS(),Fa>0&&Bn&&Bn.push(t),t}function F(t,e,n,r,i,s){return Om(L(t,e,n,r,i,s,!0))}function je(t,e,n,r,i){return Om(te(t,e,n,r,i,!0))}function ks(t){return t?t.__v_isVNode===!0:!1}function is(t,e){return process.env.NODE_ENV!=="production"&&e.shapeFlag&6&&Ji.has(e.type)?(t.shapeFlag&=-257,e.shapeFlag&=-513,!1):t.type===e.type&&t.key===e.key}const QS=(...t)=>Mm(...t),xm=({key:t})=>t!=null?t:null,Cl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?it(t)||Xe(t)||ge(t)?{i:yt,r:t,k:e,f:!!n}:t:null);function L(t,e=null,n=null,r=0,i=null,s=t===Ue?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xm(e),ref:e&&Cl(e),scopeId:Pp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:yt};return o?(df(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=it(n)?8:16),process.env.NODE_ENV!=="production"&&l.key!==l.key&&q("VNode created with invalid key (NaN). VNode type:",l.type),Fa>0&&!a&&Bn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Bn.push(l),l}const te=process.env.NODE_ENV!=="production"?QS:Mm;function Mm(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===rS)&&(process.env.NODE_ENV!=="production"&&!t&&q(`Invalid vnode type when creating vnode: ${t}.`),t=wt),ks(t)){const o=or(t,e,!0);return n&&df(o,n),Fa>0&&!s&&Bn&&(o.shapeFlag&6?Bn[Bn.indexOf(t)]=o:Bn.push(o)),o.patchFlag=-2,o}if(Dm(t)&&(t=t.__vccOpts),e){e=ew(e);let{class:o,style:l}=e;o&&!it(o)&&(e.class=Pe(o)),Ge(l)&&(fl(l)&&!ue(l)&&(l=tt({},l)),e.style=si(l))}const a=it(t)?1:iS(t)?128:XS(t)?64:Ge(t)?4:ge(t)?2:0;return process.env.NODE_ENV!=="production"&&a&4&&fl(t)&&(t=Ee(t),q("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),L(t,e,n,r,i,a,s,!0)}function ew(t){return t?fl(t)||Jp(t)?tt({},t):t:null}function or(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:a,children:o,transition:l}=t,u=e?tw(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&xm(u),ref:e&&e.ref?n&&s?ue(s)?s.concat(Cl(e)):[s,Cl(e)]:Cl(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:process.env.NODE_ENV!=="production"&&a===-1&&ue(o)?o.map(Tm):o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ue?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&or(t.ssContent),ssFallback:t.ssFallback&&or(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Tl(f,l.clone(f)),f}function Tm(t){const e=or(t);return ue(t.children)&&(e.children=t.children.map(Tm)),e}function Va(t=" ",e=0){return te(Ra,null,t,e)}function $(t="",e=!1){return e?(P(),je(wt,null,t)):te(wt,null,t)}function Wn(t){return t==null||typeof t=="boolean"?te(wt):ue(t)?te(Ue,null,t.slice()):typeof t=="object"?gi(t):te(Ra,null,String(t))}function gi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:or(t)}function df(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),df(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Jp(e)?e._ctx=yt:i===3&&yt&&(yt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:yt},n=32):(e=String(e),r&64?(n=16,e=[Va(e)]):n=8);t.children=e,t.shapeFlag|=n}function tw(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Pe([e.class,r.class]));else if(i==="style")e.style=si([e.style,r.style]);else if(Ea(i)){const s=e[i],a=r[i];a&&s!==a&&!(ue(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function lr(t,e,n,r=null){On(t,e,7,[n,r])}const nw=Yp();let rw=0;function iw(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||nw,s={uid:rw++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Wd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:em(r,i),emitsOptions:Ap(r,i),emit:null,emitted:null,propsDefaults:Qe,inheritAttrs:r.inheritAttrs,ctx:Qe,data:Qe,props:Qe,attrs:Qe,slots:Qe,refs:Qe,setupState:Qe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return process.env.NODE_ENV!=="production"?s.ctx=dS(s):s.ctx={_:s},s.root=e?e.root:s,s.emit=KE.bind(null,s),t.ce&&t.ce(s),s}let Ot=null;const ja=()=>Ot||yt;let Al,pf;{const t=el(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};Al=e("__VUE_INSTANCE_SETTERS__",n=>Ot=n),pf=e("__VUE_SSR_SETTERS__",n=>Pl=n)}const Ga=t=>{const e=Ot;return Al(t),t.scope.on(),()=>{t.scope.off(),Al(e)}},Nm=()=>{Ot&&Ot.scope.off(),Al(null)},sw=Ar("slot,component");function mf(t,{isNativeTag:e}){(sw(t)||e(t))&&q("Do not use built-in or reserved HTML elements as component id: "+t)}function Lm(t){return t.vnode.shapeFlag&4}let Pl=!1;function aw(t,e=!1){e&&pf(e);const{props:n,children:r}=t.vnode,i=Lm(t);xS(t,n,i,e),IS(t,r);const s=i?ow(t,e):void 0;return e&&pf(!1),s}function ow(t,e){var n;const r=t.type;if(process.env.NODE_ENV!=="production"){if(r.name&&mf(r.name,t.appContext.config),r.components){const s=Object.keys(r.components);for(let a=0;a<s.length;a++)mf(s[a],t.appContext.config)}if(r.directives){const s=Object.keys(r.directives);for(let a=0;a<s.length;a++)Vp(s[a])}r.compilerOptions&&lw()&&q('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Up),process.env.NODE_ENV!=="production"&&pS(t);const{setup:i}=r;if(i){const s=t.setupContext=i.length>1?cw(t):null,a=Ga(t);Pr();const o=Ir(i,t,0,[process.env.NODE_ENV!=="production"?ir(t.props):t.props,s]);if(Dr(),a(),Oc(o)){if(o.then(Nm,Nm),e)return o.then(l=>{Cm(t,l,e)}).catch(l=>{xa(l,t,0)});if(t.asyncDep=o,process.env.NODE_ENV!=="production"&&!t.suspense){const l=(n=r.name)!=null?n:"Anonymous";q(`Component <${l}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else Cm(t,o,e)}else Am(t,e)}function Cm(t,e,n){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ge(e)?(process.env.NODE_ENV!=="production"&&ks(e)&&q("setup() should not return VNodes directly - return a render function instead."),process.env.NODE_ENV!=="production"&&(t.devtoolsRawSetupState=e),t.setupState=vp(e),process.env.NODE_ENV!=="production"&&mS(t)):process.env.NODE_ENV!=="production"&&e!==void 0&&q(`setup() should return an object. Received: ${e===null?"null":typeof e}`),Am(t,n)}let gf;const lw=()=>!gf;function Am(t,e,n){const r=t.type;if(!t.render){if(!e&&gf&&!r.render){const i=r.template||tf(t).template;if(i){process.env.NODE_ENV!=="production"&&Rr(t,"compile");const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,u=tt(tt({isCustomElement:s,delimiters:o},a),l);r.render=gf(i,u),process.env.NODE_ENV!=="production"&&$r(t,"compile")}}t.render=r.render||gt}{const i=Ga(t);Pr();try{yS(t)}finally{Dr(),i()}}process.env.NODE_ENV!=="production"&&!r.render&&t.render===gt&&!e&&(r.template?q('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):q("Component is missing template or render function: ",r))}const Pm=process.env.NODE_ENV!=="production"?{get(t,e){return bl(),Pt(t,"get",""),t[e]},set(){return q("setupContext.attrs is readonly."),!1},deleteProperty(){return q("setupContext.attrs is readonly."),!1}}:{get(t,e){return Pt(t,"get",""),t[e]}};function uw(t){return t.slotsProxy||(t.slotsProxy=new Proxy(t.slots,{get(e,n){return Pt(t,"get","$slots"),e[n]}}))}function cw(t){const e=n=>{if(process.env.NODE_ENV!=="production"&&(t.exposed&&q("expose() should be called only once per setup()."),n!=null)){let r=typeof n;r==="object"&&(ue(n)?r="array":Xe(n)&&(r="ref")),r!=="object"&&q(`expose() should be passed a plain object, received ${r}.`)}t.exposed=n||{}};if(process.env.NODE_ENV!=="production"){let n;return Object.freeze({get attrs(){return n||(n=new Proxy(t.attrs,Pm))},get slots(){return uw(t)},get emit(){return(r,...i)=>t.emit(r,...i)},expose:e})}else return{attrs:new Proxy(t.attrs,Pm),slots:t.slots,emit:t.emit,expose:e}}function Dl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(vp(li(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ts)return ts[n](t)},has(e,n){return n in e||n in ts}})):t.proxy}const fw=/(?:^|[-_])(\w)/g,hw=t=>t.replace(fw,e=>e.toUpperCase()).replace(/[-_]/g,"");function yf(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function Il(t,e,n=!1){let r=yf(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=s=>{for(const a in s)if(s[a]===e)return a};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?hw(r):n?"App":"Anonymous"}function Dm(t){return ge(t)&&"__vccOpts"in t}const fe=(t,e)=>{const n=wE(t,e,Pl);if(process.env.NODE_ENV!=="production"){const r=ja();r&&r.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function Im(t,e,n){const r=arguments.length;return r===2?Ge(e)&&!ue(e)?ks(e)?te(t,null,[e]):te(t,e):te(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ks(n)&&(n=[n]),te(t,e,n))}function dw(){if(process.env.NODE_ENV==="production"||typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#1677ff"},n={style:"color:#f5222d"},r={style:"color:#eb2f96"},i={header(c){return Ge(c)?c.__isVue?["div",t,"VueInstance"]:Xe(c)?["div",{},["span",t,f(c)],"<",o(c.value),">"]:sr(c)?["div",{},["span",t,Xi(c)?"ShallowReactive":"Reactive"],"<",o(c),`>${Yi(c)?" (readonly)":""}`]:Yi(c)?["div",{},["span",t,Xi(c)?"ShallowReadonly":"Readonly"],"<",o(c),">"]:null:null},hasBody(c){return c&&c.__isVue},body(c){if(c&&c.__isVue)return["div",{},...s(c.$)]}};function s(c){const h=[];c.type.props&&c.props&&h.push(a("props",Ee(c.props))),c.setupState!==Qe&&h.push(a("setup",c.setupState)),c.data!==Qe&&h.push(a("data",Ee(c.data)));const d=l(c,"computed");d&&h.push(a("computed",d));const p=l(c,"inject");return p&&h.push(a("injected",p)),h.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:c}]]),h}function a(c,h){return h=tt({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},c],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(d=>["div",{},["span",r,d+": "],o(h[d],!1)])]]:["span",{}]}function o(c,h=!0){return typeof c=="number"?["span",e,c]:typeof c=="string"?["span",n,JSON.stringify(c)]:typeof c=="boolean"?["span",r,c]:Ge(c)?["object",{object:h?Ee(c):c}]:["span",n,String(c)]}function l(c,h){const d=c.type;if(ge(d))return;const p={};for(const m in c.ctx)u(d,m,h)&&(p[m]=c.ctx[m]);return p}function u(c,h,d){const p=c[d];if(ue(p)&&p.includes(h)||Ge(p)&&h in p||c.extends&&u(c.extends,h,d)||c.mixins&&c.mixins.some(m=>u(m,h,d)))return!0}function f(c){return Xi(c)?"ShallowRef":c.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}const km="3.4.31",yi=process.env.NODE_ENV!=="production"?q:gt;process.env.NODE_ENV,process.env.NODE_ENV;/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const pw="http://www.w3.org/2000/svg",mw="http://www.w3.org/1998/Math/MathML",Fr=typeof document<"u"?document:null,Rm=Fr&&Fr.createElement("template"),gw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Fr.createElementNS(pw,t):e==="mathml"?Fr.createElementNS(mw,t):n?Fr.createElement(t,{is:n}):Fr.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Fr.createTextNode(t),createComment:t=>Fr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Rm.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const o=Rm.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},vi="transition",Ua="animation",Ba=Symbol("_vtc"),kl=(t,{slots:e})=>Im(YS,yw(t),e);kl.displayName="Transition";const $m={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};kl.props=tt({},pm,$m);const ss=(t,e=[])=>{ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},Fm=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function yw(t){const e={};for(const A in t)A in $m||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:f=o,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=vw(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:E,onLeave:b,onLeaveCancelled:x,onBeforeAppear:T=y,onAppear:M=v,onAppearCancelled:G=E}=e,I=(A,Q,he)=>{as(A,Q?f:o),as(A,Q?u:a),he&&he()},C=(A,Q)=>{A._isLeaving=!1,as(A,c),as(A,d),as(A,h),Q&&Q()},D=A=>(Q,he)=>{const N=A?M:v,R=()=>I(Q,A,he);ss(N,[Q,R]),Vm(()=>{as(Q,A?l:s),_i(Q,A?f:o),Fm(N)||jm(Q,r,m,R)})};return tt(e,{onBeforeEnter(A){ss(y,[A]),_i(A,s),_i(A,a)},onBeforeAppear(A){ss(T,[A]),_i(A,l),_i(A,u)},onEnter:D(!1),onAppear:D(!0),onLeave(A,Q){A._isLeaving=!0;const he=()=>C(A,Q);_i(A,c),_i(A,h),Ew(),Vm(()=>{!A._isLeaving||(as(A,c),_i(A,d),Fm(b)||jm(A,r,g,he))}),ss(b,[A,he])},onEnterCancelled(A){I(A,!1),ss(E,[A])},onAppearCancelled(A){I(A,!0),ss(G,[A])},onLeaveCancelled(A){C(A),ss(x,[A])}})}function vw(t){if(t==null)return null;if(Ge(t))return[vf(t.enter),vf(t.leave)];{const e=vf(t);return[e,e]}}function vf(t){const e=Tc(t);return process.env.NODE_ENV!=="production"&&PE(e,"<transition> explicit duration"),e}function _i(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ba]||(t[Ba]=new Set)).add(e)}function as(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ba];n&&(n.delete(e),n.size||(t[Ba]=void 0))}function Vm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let _w=0;function jm(t,e,n,r){const i=t._endId=++_w,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=bw(t,e);if(!a)return r();const u=a+"end";let f=0;const c=()=>{t.removeEventListener(u,h),s()},h=d=>{d.target===t&&++f>=l&&c()};setTimeout(()=>{f<l&&c()},o+1),t.addEventListener(u,h)}function bw(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${vi}Delay`),s=r(`${vi}Duration`),a=Gm(i,s),o=r(`${Ua}Delay`),l=r(`${Ua}Duration`),u=Gm(o,l);let f=null,c=0,h=0;e===vi?a>0&&(f=vi,c=a,h=s.length):e===Ua?u>0&&(f=Ua,c=u,h=l.length):(c=Math.max(a,u),f=c>0?a>u?vi:Ua:null,h=f?f===vi?s.length:l.length:0);const d=f===vi&&/\b(transform|all)(,|$)/.test(r(`${vi}Property`).toString());return{type:f,timeout:c,propCount:h,hasTransform:d}}function Gm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Um(n)+Um(t[r])))}function Um(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Ew(){return document.body.offsetHeight}function Sw(t,e,n){const r=t[Ba];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Bm=Symbol("_vod"),ww=Symbol("_vsh");process.env.NODE_ENV;const Ow=Symbol(process.env.NODE_ENV!=="production"?"CSS_VAR_TEXT":""),xw=/(^|;)\s*display\s*:/;function Mw(t,e,n){const r=t.style,i=it(n);let s=!1;if(n&&!i){if(e)if(it(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&Rl(r,o,"")}else for(const a in e)n[a]==null&&Rl(r,a,"");for(const a in n)a==="display"&&(s=!0),Rl(r,a,n[a])}else if(i){if(e!==n){const a=r[Ow];a&&(n+=";"+a),r.cssText=n,s=xw.test(n)}}else e&&t.removeAttribute("style");Bm in t&&(t[Bm]=s?r.display:"",t[ww]&&(r.display="none"))}const Tw=/[^\\];\s*$/,Wm=/\s*!important$/;function Rl(t,e,n){if(ue(n))n.forEach(r=>Rl(t,e,r));else if(n==null&&(n=""),process.env.NODE_ENV!=="production"&&Tw.test(n)&&yi(`Unexpected semicolon at the end of '${e}' style value: '${n}'`),e.startsWith("--"))t.setProperty(e,n);else{const r=Nw(t,e);Wm.test(n)?t.setProperty(sn(r),n.replace(Wm,""),"important"):t[r]=n}}const qm=["Webkit","Moz","ms"],_f={};function Nw(t,e){const n=_f[e];if(n)return n;let r=pn(e);if(r!=="filter"&&r in t)return _f[e]=r;r=Wi(r);for(let i=0;i<qm.length;i++){const s=qm[i]+r;if(s in t)return _f[e]=s}return e}const Hm="http://www.w3.org/1999/xlink";function zm(t,e,n,r,i,s=J1(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Hm,e.slice(6,e.length)):t.setAttributeNS(Hm,e,n):n==null||s&&!Gd(n)?t.removeAttribute(e):t.setAttribute(e,s?"":ri(n)?String(n):n)}function Lw(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n==null?"":n;return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?t.getAttribute("value")||"":t.value,f=n==null?"":String(n);(u!==f||!("_value"in t))&&(t.value=f),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Gd(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch(u){process.env.NODE_ENV!=="production"&&!l&&yi(`Failed setting prop "${e}" on <${o.toLowerCase()}>: value ${n} is invalid.`,u)}l&&t.removeAttribute(e)}function Cw(t,e,n,r){t.addEventListener(e,n,r)}function Aw(t,e,n,r){t.removeEventListener(e,n,r)}const Ym=Symbol("_vei");function Pw(t,e,n,r,i=null){const s=t[Ym]||(t[Ym]={}),a=s[e];if(r&&a)a.value=process.env.NODE_ENV!=="production"?Km(r,e):r;else{const[o,l]=Dw(e);if(r){const u=s[e]=Rw(process.env.NODE_ENV!=="production"?Km(r,e):r,i);Cw(t,o,u,l)}else a&&(Aw(t,o,a,l),s[e]=void 0)}}const Xm=/(?:Once|Passive|Capture)$/;function Dw(t){let e;if(Xm.test(t)){e={};let r;for(;r=t.match(Xm);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):sn(t.slice(2)),e]}let bf=0;const Iw=Promise.resolve(),kw=()=>bf||(Iw.then(()=>bf=0),bf=Date.now());function Rw(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;On($w(r,n.value),e,5,[r])};return n.value=t,n.attached=kw(),n}function Km(t,e){return ge(t)||ue(t)?t:(yi(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof t}.`),gt)}function $w(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Zm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Fw=(t,e,n,r,i,s,a,o,l)=>{const u=i==="svg";e==="class"?Sw(t,r,u):e==="style"?Mw(t,n,r):Ea(e)?Ko(e)||Pw(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Vw(t,e,r,u))?(Lw(t,e,r,s,a,o,l),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&zm(t,e,r,u,a,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),zm(t,e,r,u))};function Vw(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Zm(e)&&ge(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Zm(e)&&it(n)?!1:e in t}const jw=["ctrl","shift","alt","meta"],Gw={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>jw.some(n=>t[`${n}Key`]&&!e.includes(n))},ur=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<e.length;a++){const o=Gw[e[a]];if(o&&o(i,e))return}return t(i,...s)})},Uw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},cr=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=sn(i.key);if(e.some(a=>a===s||Uw[a]===s))return t(i)})},Bw=tt({patchProp:Fw},gw);let Jm;function Qm(){return Jm||(Jm=$S(Bw))}const eg=(...t)=>{Qm().render(...t)},Ww=(...t)=>{const e=Qm().createApp(...t);process.env.NODE_ENV!=="production"&&(Hw(e),zw(e));const{mount:n}=e;return e.mount=r=>{const i=Yw(r);if(!i)return;const s=e._component;!ge(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,qw(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function qw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Hw(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>X1(e)||K1(e)||Z1(e),writable:!1})}function zw(t){{const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){yi("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=t.config.compilerOptions,r='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(t.config,"compilerOptions",{get(){return yi(r),n},set(){yi(r)}})}}function Yw(t){if(it(t)){const e=document.querySelector(t);return process.env.NODE_ENV!=="production"&&!e&&yi(`Failed to mount app: mount target selector "${t}" returned null.`),e}return process.env.NODE_ENV!=="production"&&window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&yi('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}/**
* vue v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xw(){dw()}process.env.NODE_ENV!=="production"&&Xw();/*! @license DOMPurify 2.5.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.6/LICENSE */function bi(t){return bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(t)}function Ef(t,e){return Ef=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ef(t,e)}function Kw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $l(t,e,n){return Kw()?$l=Reflect.construct:$l=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&Ef(u,a.prototype),u},$l.apply(null,arguments)}function qn(t){return Zw(t)||Jw(t)||Qw(t)||eO()}function Zw(t){if(Array.isArray(t))return Sf(t)}function Jw(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qw(t,e){if(!!t){if(typeof t=="string")return Sf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sf(t,e)}}function Sf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tO=Object.hasOwnProperty,tg=Object.setPrototypeOf,nO=Object.isFrozen,rO=Object.getPrototypeOf,iO=Object.getOwnPropertyDescriptor,Jt=Object.freeze,Tn=Object.seal,sO=Object.create,ng=typeof Reflect<"u"&&Reflect,Fl=ng.apply,wf=ng.construct;Fl||(Fl=function(e,n,r){return e.apply(n,r)}),Jt||(Jt=function(e){return e}),Tn||(Tn=function(e){return e}),wf||(wf=function(e,n){return $l(e,qn(n))});var aO=Nn(Array.prototype.forEach),rg=Nn(Array.prototype.pop),Wa=Nn(Array.prototype.push),Vl=Nn(String.prototype.toLowerCase),Of=Nn(String.prototype.toString),ig=Nn(String.prototype.match),Hn=Nn(String.prototype.replace),oO=Nn(String.prototype.indexOf),lO=Nn(String.prototype.trim),Dt=Nn(RegExp.prototype.test),xf=uO(TypeError);function Nn(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Fl(t,e,r)}}function uO(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return wf(t,n)}}function Ce(t,e,n){var r;n=(r=n)!==null&&r!==void 0?r:Vl,tg&&tg(t,null);for(var i=e.length;i--;){var s=e[i];if(typeof s=="string"){var a=n(s);a!==s&&(nO(e)||(e[i]=a),s=a)}t[s]=!0}return t}function os(t){var e=sO(null),n;for(n in t)Fl(tO,t,[n])===!0&&(e[n]=t[n]);return e}function jl(t,e){for(;t!==null;){var n=iO(t,e);if(n){if(n.get)return Nn(n.get);if(typeof n.value=="function")return Nn(n.value)}t=rO(t)}function r(i){return console.warn("fallback value for",i),null}return r}var sg=Jt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Mf=Jt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Tf=Jt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),cO=Jt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Nf=Jt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fO=Jt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ag=Jt(["#text"]),og=Jt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Lf=Jt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),lg=Jt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Gl=Jt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hO=Tn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),dO=Tn(/<%[\w\W]*|[\w\W]*%>/gm),pO=Tn(/\${[\w\W]*}/gm),mO=Tn(/^data-[\-\w.\u00B7-\uFFFF]/),gO=Tn(/^aria-[\-\w]+$/),yO=Tn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vO=Tn(/^(?:\w+script|data):/i),_O=Tn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bO=Tn(/^html$/i),EO=Tn(/^[a-z][.\w]*(-[.\w]+)+$/i),SO=function(){return typeof window>"u"?null:window},wO=function(e,n){if(bi(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML:function(o){return o},createScriptURL:function(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function ug(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:SO(),e=function(O){return ug(O)};if(e.version="2.5.6",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,o=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,f=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,c=t.HTMLFormElement,h=t.DOMParser,d=t.trustedTypes,p=o.prototype,m=jl(p,"cloneNode"),g=jl(p,"nextSibling"),y=jl(p,"childNodes"),v=jl(p,"parentNode");if(typeof s=="function"){var E=r.createElement("template");E.content&&E.content.ownerDocument&&(r=E.content.ownerDocument)}var b=wO(d,n),x=b?b.createHTML(""):"",T=r,M=T.implementation,G=T.createNodeIterator,I=T.createDocumentFragment,C=T.getElementsByTagName,D=n.importNode,A={};try{A=os(r).documentMode?r.documentMode:{}}catch{}var Q={};e.isSupported=typeof v=="function"&&M&&M.createHTMLDocument!==void 0&&A!==9;var he=hO,N=dO,R=pO,z=mO,Z=gO,Ae=vO,De=_O,Et=EO,Xt=yO,Ne=null,$t=Ce({},[].concat(qn(sg),qn(Mf),qn(Tf),qn(Nf),qn(ag))),ct=null,Tr=Ce({},[].concat(qn(og),qn(Lf),qn(lg),qn(Gl))),Re=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),fn=null,Nr=null,Qr=!0,Ft=!0,Lr=!1,ei=!0,_=!1,w=!0,k=!1,V=!1,j=!1,W=!1,J=!1,B=!1,X=!0,U=!1,se="user-content-",ce=!0,le=!1,ye={},xe=null,Je=Ce({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,St=Ce({},["audio","video","img","source","image","track"]),rn=null,ti=Ce({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ns="http://www.w3.org/1998/Math/MathML",Cr="http://www.w3.org/2000/svg",jn="http://www.w3.org/1999/xhtml",pt=jn,hn=!1,_a=null,A6=Ce({},[Ns,Cr,jn],Of),Ls,P6=["application/xhtml+xml","text/html"],D6="text/html",At,ba=null,I6=r.createElement("form"),kb=function(O){return O instanceof RegExp||O instanceof Function},Td=function(O){ba&&ba===O||((!O||bi(O)!=="object")&&(O={}),O=os(O),Ls=P6.indexOf(O.PARSER_MEDIA_TYPE)===-1?Ls=D6:Ls=O.PARSER_MEDIA_TYPE,At=Ls==="application/xhtml+xml"?Of:Vl,Ne="ALLOWED_TAGS"in O?Ce({},O.ALLOWED_TAGS,At):$t,ct="ALLOWED_ATTR"in O?Ce({},O.ALLOWED_ATTR,At):Tr,_a="ALLOWED_NAMESPACES"in O?Ce({},O.ALLOWED_NAMESPACES,Of):A6,rn="ADD_URI_SAFE_ATTR"in O?Ce(os(ti),O.ADD_URI_SAFE_ATTR,At):ti,Ve="ADD_DATA_URI_TAGS"in O?Ce(os(St),O.ADD_DATA_URI_TAGS,At):St,xe="FORBID_CONTENTS"in O?Ce({},O.FORBID_CONTENTS,At):Je,fn="FORBID_TAGS"in O?Ce({},O.FORBID_TAGS,At):{},Nr="FORBID_ATTR"in O?Ce({},O.FORBID_ATTR,At):{},ye="USE_PROFILES"in O?O.USE_PROFILES:!1,Qr=O.ALLOW_ARIA_ATTR!==!1,Ft=O.ALLOW_DATA_ATTR!==!1,Lr=O.ALLOW_UNKNOWN_PROTOCOLS||!1,ei=O.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_=O.SAFE_FOR_TEMPLATES||!1,w=O.SAFE_FOR_XML!==!1,k=O.WHOLE_DOCUMENT||!1,W=O.RETURN_DOM||!1,J=O.RETURN_DOM_FRAGMENT||!1,B=O.RETURN_TRUSTED_TYPE||!1,j=O.FORCE_BODY||!1,X=O.SANITIZE_DOM!==!1,U=O.SANITIZE_NAMED_PROPS||!1,ce=O.KEEP_CONTENT!==!1,le=O.IN_PLACE||!1,Xt=O.ALLOWED_URI_REGEXP||Xt,pt=O.NAMESPACE||jn,Re=O.CUSTOM_ELEMENT_HANDLING||{},O.CUSTOM_ELEMENT_HANDLING&&kb(O.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Re.tagNameCheck=O.CUSTOM_ELEMENT_HANDLING.tagNameCheck),O.CUSTOM_ELEMENT_HANDLING&&kb(O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Re.attributeNameCheck=O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),O.CUSTOM_ELEMENT_HANDLING&&typeof O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Re.allowCustomizedBuiltInElements=O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_&&(Ft=!1),J&&(W=!0),ye&&(Ne=Ce({},qn(ag)),ct=[],ye.html===!0&&(Ce(Ne,sg),Ce(ct,og)),ye.svg===!0&&(Ce(Ne,Mf),Ce(ct,Lf),Ce(ct,Gl)),ye.svgFilters===!0&&(Ce(Ne,Tf),Ce(ct,Lf),Ce(ct,Gl)),ye.mathMl===!0&&(Ce(Ne,Nf),Ce(ct,lg),Ce(ct,Gl))),O.ADD_TAGS&&(Ne===$t&&(Ne=os(Ne)),Ce(Ne,O.ADD_TAGS,At)),O.ADD_ATTR&&(ct===Tr&&(ct=os(ct)),Ce(ct,O.ADD_ATTR,At)),O.ADD_URI_SAFE_ATTR&&Ce(rn,O.ADD_URI_SAFE_ATTR,At),O.FORBID_CONTENTS&&(xe===Je&&(xe=os(xe)),Ce(xe,O.FORBID_CONTENTS,At)),ce&&(Ne["#text"]=!0),k&&Ce(Ne,["html","head","body"]),Ne.table&&(Ce(Ne,["tbody"]),delete fn.tbody),Jt&&Jt(O),ba=O)},Rb=Ce({},["mi","mo","mn","ms","mtext"]),$b=Ce({},["foreignobject","annotation-xml"]),k6=Ce({},["title","style","font","a","script"]),bc=Ce({},Mf);Ce(bc,Tf),Ce(bc,cO);var Nd=Ce({},Nf);Ce(Nd,fO);var R6=function(O){var Y=v(O);(!Y||!Y.tagName)&&(Y={namespaceURI:pt,tagName:"template"});var ie=Vl(O.tagName),qe=Vl(Y.tagName);return _a[O.namespaceURI]?O.namespaceURI===Cr?Y.namespaceURI===jn?ie==="svg":Y.namespaceURI===Ns?ie==="svg"&&(qe==="annotation-xml"||Rb[qe]):Boolean(bc[ie]):O.namespaceURI===Ns?Y.namespaceURI===jn?ie==="math":Y.namespaceURI===Cr?ie==="math"&&$b[qe]:Boolean(Nd[ie]):O.namespaceURI===jn?Y.namespaceURI===Cr&&!$b[qe]||Y.namespaceURI===Ns&&!Rb[qe]?!1:!Nd[ie]&&(k6[ie]||!bc[ie]):!!(Ls==="application/xhtml+xml"&&_a[O.namespaceURI]):!1},Gn=function(O){Wa(e.removed,{element:O});try{O.parentNode.removeChild(O)}catch{try{O.outerHTML=x}catch{O.remove()}}},Ec=function(O,Y){try{Wa(e.removed,{attribute:Y.getAttributeNode(O),from:Y})}catch{Wa(e.removed,{attribute:null,from:Y})}if(Y.removeAttribute(O),O==="is"&&!ct[O])if(W||J)try{Gn(Y)}catch{}else try{Y.setAttribute(O,"")}catch{}},Fb=function(O){var Y,ie;if(j)O="<remove></remove>"+O;else{var qe=ig(O,/^[\r\n\t ]+/);ie=qe&&qe[0]}Ls==="application/xhtml+xml"&&pt===jn&&(O='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+O+"</body></html>");var dn=b?b.createHTML(O):O;if(pt===jn)try{Y=new h().parseFromString(dn,Ls)}catch{}if(!Y||!Y.documentElement){Y=M.createDocument(pt,"template",null);try{Y.documentElement.innerHTML=hn?x:dn}catch{}}var Kt=Y.body||Y.documentElement;return O&&ie&&Kt.insertBefore(r.createTextNode(ie),Kt.childNodes[0]||null),pt===jn?C.call(Y,k?"html":"body")[0]:k?Y.documentElement:Kt},Vb=function(O){return G.call(O.ownerDocument||O,O,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},jb=function(O){return O instanceof c&&(typeof O.nodeName!="string"||typeof O.textContent!="string"||typeof O.removeChild!="function"||!(O.attributes instanceof f)||typeof O.removeAttribute!="function"||typeof O.setAttribute!="function"||typeof O.namespaceURI!="string"||typeof O.insertBefore!="function"||typeof O.hasChildNodes!="function")},zo=function(O){return bi(a)==="object"?O instanceof a:O&&bi(O)==="object"&&typeof O.nodeType=="number"&&typeof O.nodeName=="string"},ni=function(O,Y,ie){!Q[O]||aO(Q[O],function(qe){qe.call(e,Y,ie,ba)})},Gb=function(O){var Y;if(ni("beforeSanitizeElements",O,null),jb(O)||Dt(/[\u0080-\uFFFF]/,O.nodeName))return Gn(O),!0;var ie=At(O.nodeName);if(ni("uponSanitizeElement",O,{tagName:ie,allowedTags:Ne}),O.hasChildNodes()&&!zo(O.firstElementChild)&&(!zo(O.content)||!zo(O.content.firstElementChild))&&Dt(/<[/\w]/g,O.innerHTML)&&Dt(/<[/\w]/g,O.textContent)||ie==="select"&&Dt(/<template/i,O.innerHTML)||O.nodeType===7||w&&O.nodeType===8&&Dt(/<[/\w]/g,O.data))return Gn(O),!0;if(!Ne[ie]||fn[ie]){if(!fn[ie]&&Bb(ie)&&(Re.tagNameCheck instanceof RegExp&&Dt(Re.tagNameCheck,ie)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(ie)))return!1;if(ce&&!xe[ie]){var qe=v(O)||O.parentNode,dn=y(O)||O.childNodes;if(dn&&qe)for(var Kt=dn.length,Vt=Kt-1;Vt>=0;--Vt){var Cs=m(dn[Vt],!0);Cs.__removalCount=(O.__removalCount||0)+1,qe.insertBefore(Cs,g(O))}}return Gn(O),!0}return O instanceof o&&!R6(O)||(ie==="noscript"||ie==="noembed"||ie==="noframes")&&Dt(/<\/no(script|embed|frames)/i,O.innerHTML)?(Gn(O),!0):(_&&O.nodeType===3&&(Y=O.textContent,Y=Hn(Y,he," "),Y=Hn(Y,N," "),Y=Hn(Y,R," "),O.textContent!==Y&&(Wa(e.removed,{element:O.cloneNode()}),O.textContent=Y)),ni("afterSanitizeElements",O,null),!1)},Ub=function(O,Y,ie){if(X&&(Y==="id"||Y==="name")&&(ie in r||ie in I6))return!1;if(!(Ft&&!Nr[Y]&&Dt(z,Y))){if(!(Qr&&Dt(Z,Y))){if(!ct[Y]||Nr[Y]){if(!(Bb(O)&&(Re.tagNameCheck instanceof RegExp&&Dt(Re.tagNameCheck,O)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(O))&&(Re.attributeNameCheck instanceof RegExp&&Dt(Re.attributeNameCheck,Y)||Re.attributeNameCheck instanceof Function&&Re.attributeNameCheck(Y))||Y==="is"&&Re.allowCustomizedBuiltInElements&&(Re.tagNameCheck instanceof RegExp&&Dt(Re.tagNameCheck,ie)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(ie))))return!1}else if(!rn[Y]){if(!Dt(Xt,Hn(ie,De,""))){if(!((Y==="src"||Y==="xlink:href"||Y==="href")&&O!=="script"&&oO(ie,"data:")===0&&Ve[O])){if(!(Lr&&!Dt(Ae,Hn(ie,De,"")))){if(ie)return!1}}}}}}return!0},Bb=function(O){return O!=="annotation-xml"&&ig(O,Et)},Wb=function(O){var Y,ie,qe,dn;ni("beforeSanitizeAttributes",O,null);var Kt=O.attributes;if(!!Kt){var Vt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ct};for(dn=Kt.length;dn--;){Y=Kt[dn];var Cs=Y,Lt=Cs.name,Ld=Cs.namespaceURI;if(ie=Lt==="value"?Y.value:lO(Y.value),qe=At(Lt),Vt.attrName=qe,Vt.attrValue=ie,Vt.keepAttr=!0,Vt.forceKeepAttr=void 0,ni("uponSanitizeAttribute",O,Vt),ie=Vt.attrValue,w&&Dt(/((--!?|])>)|<\/(style|title)/i,ie)){Ec(Lt,O);continue}if(!Vt.forceKeepAttr&&(Ec(Lt,O),!!Vt.keepAttr)){if(!ei&&Dt(/\/>/i,ie)){Ec(Lt,O);continue}_&&(ie=Hn(ie,he," "),ie=Hn(ie,N," "),ie=Hn(ie,R," "));var qb=At(O.nodeName);if(!!Ub(qb,qe,ie)){if(U&&(qe==="id"||qe==="name")&&(Ec(Lt,O),ie=se+ie),b&&bi(d)==="object"&&typeof d.getAttributeType=="function"&&!Ld)switch(d.getAttributeType(qb,qe)){case"TrustedHTML":{ie=b.createHTML(ie);break}case"TrustedScriptURL":{ie=b.createScriptURL(ie);break}}try{Ld?O.setAttributeNS(Ld,Lt,ie):O.setAttribute(Lt,ie),jb(O)?Gn(O):rg(e.removed)}catch{}}}}ni("afterSanitizeAttributes",O,null)}},$6=function de(O){var Y,ie=Vb(O);for(ni("beforeSanitizeShadowDOM",O,null);Y=ie.nextNode();)ni("uponSanitizeShadowNode",Y,null),!Gb(Y)&&(Y.content instanceof i&&de(Y.content),Wb(Y));ni("afterSanitizeShadowDOM",O,null)};return e.sanitize=function(de){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y,ie,qe,dn,Kt;if(hn=!de,hn&&(de="<!-->"),typeof de!="string"&&!zo(de))if(typeof de.toString=="function"){if(de=de.toString(),typeof de!="string")throw xf("dirty is not a string, aborting")}else throw xf("toString is not a function");if(!e.isSupported){if(bi(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof de=="string")return t.toStaticHTML(de);if(zo(de))return t.toStaticHTML(de.outerHTML)}return de}if(V||Td(O),e.removed=[],typeof de=="string"&&(le=!1),le){if(de.nodeName){var Vt=At(de.nodeName);if(!Ne[Vt]||fn[Vt])throw xf("root node is forbidden and cannot be sanitized in-place")}}else if(de instanceof a)Y=Fb("<!---->"),ie=Y.ownerDocument.importNode(de,!0),ie.nodeType===1&&ie.nodeName==="BODY"||ie.nodeName==="HTML"?Y=ie:Y.appendChild(ie);else{if(!W&&!_&&!k&&de.indexOf("<")===-1)return b&&B?b.createHTML(de):de;if(Y=Fb(de),!Y)return W?null:B?x:""}Y&&j&&Gn(Y.firstChild);for(var Cs=Vb(le?de:Y);qe=Cs.nextNode();)qe.nodeType===3&&qe===dn||Gb(qe)||(qe.content instanceof i&&$6(qe.content),Wb(qe),dn=qe);if(dn=null,le)return de;if(W){if(J)for(Kt=I.call(Y.ownerDocument);Y.firstChild;)Kt.appendChild(Y.firstChild);else Kt=Y;return(ct.shadowroot||ct.shadowrootmod)&&(Kt=D.call(n,Kt,!0)),Kt}var Lt=k?Y.outerHTML:Y.innerHTML;return k&&Ne["!doctype"]&&Y.ownerDocument&&Y.ownerDocument.doctype&&Y.ownerDocument.doctype.name&&Dt(bO,Y.ownerDocument.doctype.name)&&(Lt="<!DOCTYPE "+Y.ownerDocument.doctype.name+`>
`+Lt),_&&(Lt=Hn(Lt,he," "),Lt=Hn(Lt,N," "),Lt=Hn(Lt,R," ")),b&&B?b.createHTML(Lt):Lt},e.setConfig=function(de){Td(de),V=!0},e.clearConfig=function(){ba=null,V=!1},e.isValidAttribute=function(de,O,Y){ba||Td({});var ie=At(de),qe=At(O);return Ub(ie,qe,Y)},e.addHook=function(de,O){typeof O=="function"&&(Q[de]=Q[de]||[],Wa(Q[de],O))},e.removeHook=function(de){if(Q[de])return rg(Q[de])},e.removeHooks=function(de){Q[de]&&(Q[de]=[])},e.removeAllHooks=function(){Q={}},e}var OO=ug();function xO(t,e){var i;const n=(i=t.hooks)!=null?i:{};let r;for(r in n){const s=n[r];s!==void 0&&e.addHook(r,s)}}function cg(){return OO()}function MO(t={},e=cg){const n=e();xO(t,n);const r=function(i,s){var c,h;const a=s.value;if(s.oldValue===a)return;const o=`${a}`,l=s.arg,u=t.namedConfigurations,f=(c=t.default)!=null?c:{};if(u&&l!==void 0){i.innerHTML=n.sanitize(o,(h=u[l])!=null?h:f);return}i.innerHTML=n.sanitize(o,f)};return{mounted:r,updated:r}}const fg={install(t,e={},n=cg){t.directive("dompurify-html",MO(e,n))}};var Cf=!1;function Ul(t,e,n){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,n),n):(t[e]=n,n)}function Af(t,e){if(Array.isArray(t)){t.splice(e,1);return}delete t[e]}function TO(){return hg().__VUE_DEVTOOLS_GLOBAL_HOOK__}function hg(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const NO=typeof Proxy=="function",LO="devtools-plugin:setup",CO="plugin:settings:set";let Rs,Pf;function AO(){var t;return Rs!==void 0||(typeof window<"u"&&window.performance?(Rs=!0,Pf=window.performance):typeof globalThis<"u"&&((t=globalThis.perf_hooks)===null||t===void 0?void 0:t.performance)?(Rs=!0,Pf=globalThis.perf_hooks.performance):Rs=!1),Rs}function PO(){return AO()?Pf.now():Date.now()}class DO{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const o=e.settings[a];r[a]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return PO()}},n&&n.on(CO,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:o,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function dg(t,e){const n=t,r=hg(),i=TO(),s=NO&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(LO,t,e);else{const a=s?new DO(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let qa;const Ha=t=>qa=t,pg=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function ls(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var fr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(fr||(fr={}));const Bl=typeof window<"u",za=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&Bl,mg=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function IO(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function Df(t,e,n){const r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){vg(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function gg(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Wl(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const ql=typeof navigator=="object"?navigator:{userAgent:""},yg=(()=>/Macintosh/.test(ql.userAgent)&&/AppleWebKit/.test(ql.userAgent)&&!/Safari/.test(ql.userAgent))(),vg=Bl?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!yg?kO:"msSaveOrOpenBlob"in ql?RO:$O:()=>{};function kO(t,e="download",n){const r=document.createElement("a");r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?gg(r.href)?Df(t,e,n):(r.target="_blank",Wl(r)):Wl(r)):(r.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Wl(r)},0))}function RO(t,e="download",n){if(typeof t=="string")if(gg(t))Df(t,e,n);else{const r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Wl(r)})}else navigator.msSaveOrOpenBlob(IO(t,n),e)}function $O(t,e,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Df(t,e,n);const i=t.type==="application/octet-stream",s=/constructor/i.test(String(mg.HTMLElement))||"safari"in mg,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s||yg)&&typeof FileReader<"u"){const o=new FileReader;o.onloadend=function(){let l=o.result;if(typeof l!="string")throw r=null,new Error("Wrong reader.result type");l=a?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=l:location.assign(l),r=null},o.readAsDataURL(t)}else{const o=URL.createObjectURL(t);r?r.location.assign(o):location.href=o,r=null,setTimeout(function(){URL.revokeObjectURL(o)},4e4)}}function Ct(t,e){const n="\u{1F34D} "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,e):e==="error"?console.error(n):e==="warn"?console.warn(n):console.log(n)}function If(t){return"_a"in t&&"install"in t}function _g(){if(!("clipboard"in navigator))return Ct("Your browser doesn't support the Clipboard API","error"),!0}function bg(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(Ct('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function FO(t){if(!_g())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),Ct("Global state copied to clipboard.")}catch(e){if(bg(e))return;Ct("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function VO(t){if(!_g())try{Eg(t,JSON.parse(await navigator.clipboard.readText())),Ct("Global state pasted from clipboard.")}catch(e){if(bg(e))return;Ct("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function jO(t){try{vg(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){Ct("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let Vr;function GO(){Vr||(Vr=document.createElement("input"),Vr.type="file",Vr.accept=".json");function t(){return new Promise((e,n)=>{Vr.onchange=async()=>{const r=Vr.files;if(!r)return e(null);const i=r.item(0);return e(i?{text:await i.text(),file:i}:null)},Vr.oncancel=()=>e(null),Vr.onerror=n,Vr.click()})}return t}async function UO(t){try{const n=await GO()();if(!n)return;const{text:r,file:i}=n;Eg(t,JSON.parse(r)),Ct(`Global state imported from "${i.name}".`)}catch(e){Ct("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function Eg(t,e){for(const n in e){const r=t.state.value[n];r?Object.assign(r,e[n]):t.state.value[n]=e[n]}}function zn(t){return{_custom:{display:t}}}const Sg="\u{1F34D} Pinia (root)",kf="_root";function BO(t){return If(t)?{id:kf,label:Sg}:{id:t.$id,label:t.$id}}function WO(t){if(If(t)){const n=Array.from(t._s.keys()),r=t._s;return{state:n.map(s=>({editable:!0,key:s,value:t.state.value[s]})),getters:n.filter(s=>r.get(s)._getters).map(s=>{const a=r.get(s);return{editable:!1,key:s,value:a._getters.reduce((o,l)=>(o[l]=a[l],o),{})}})}}const e={state:Object.keys(t.$state).map(n=>({editable:!0,key:n,value:t.$state[n]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(n=>({editable:!1,key:n,value:t[n]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(n=>({editable:!0,key:n,value:t[n]}))),e}function qO(t){return t?Array.isArray(t)?t.reduce((e,n)=>(e.keys.push(n.key),e.operations.push(n.type),e.oldValue[n.key]=n.oldValue,e.newValue[n.key]=n.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:zn(t.type),key:zn(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function HO(t){switch(t){case fr.direct:return"mutation";case fr.patchFunction:return"$patch";case fr.patchObject:return"$patch";default:return"unknown"}}let $s=!0;const Hl=[],us="pinia:mutations",Gt="pinia",{assign:zO}=Object,zl=t=>"\u{1F34D} "+t;function YO(t,e){dg({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Hl,app:t},n=>{typeof n.now!="function"&&Ct("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:us,label:"Pinia \u{1F34D}",color:15064968}),n.addInspector({id:Gt,label:"Pinia \u{1F34D}",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{FO(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await VO(e),n.sendInspectorTree(Gt),n.sendInspectorState(Gt)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{jO(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await UO(e),n.sendInspectorTree(Gt),n.sendInspectorState(Gt)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:r=>{const i=e._s.get(r);i?typeof i.$reset!="function"?Ct(`Cannot reset "${r}" store because it doesn't have a "$reset" method implemented.`,"warn"):(i.$reset(),Ct(`Store "${r}" reset.`)):Ct(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((r,i)=>{const s=r.componentInstance&&r.componentInstance.proxy;if(s&&s._pStores){const a=r.componentInstance.proxy._pStores;Object.values(a).forEach(o=>{r.instanceData.state.push({type:zl(o.$id),key:"state",editable:!0,value:o._isOptionsAPI?{_custom:{value:Ee(o.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>o.$reset()}]}}:Object.keys(o.$state).reduce((l,u)=>(l[u]=o.$state[u],l),{})}),o._getters&&o._getters.length&&r.instanceData.state.push({type:zl(o.$id),key:"getters",editable:!1,value:o._getters.reduce((l,u)=>{try{l[u]=o[u]}catch(f){l[u]=f}return l},{})})})}}),n.on.getInspectorTree(r=>{if(r.app===t&&r.inspectorId===Gt){let i=[e];i=i.concat(Array.from(e._s.values())),r.rootNodes=(r.filter?i.filter(s=>"$id"in s?s.$id.toLowerCase().includes(r.filter.toLowerCase()):Sg.toLowerCase().includes(r.filter.toLowerCase())):i).map(BO)}}),n.on.getInspectorState(r=>{if(r.app===t&&r.inspectorId===Gt){const i=r.nodeId===kf?e:e._s.get(r.nodeId);if(!i)return;i&&(r.state=WO(i))}}),n.on.editInspectorState((r,i)=>{if(r.app===t&&r.inspectorId===Gt){const s=r.nodeId===kf?e:e._s.get(r.nodeId);if(!s)return Ct(`store "${r.nodeId}" not found`,"error");const{path:a}=r;If(s)?a.unshift("state"):(a.length!==1||!s._customProperties.has(a[0])||a[0]in s.$state)&&a.unshift("$state"),$s=!1,r.set(s,a,r.state.value),$s=!0}}),n.on.editComponentState(r=>{if(r.type.startsWith("\u{1F34D}")){const i=r.type.replace(/^\s*/,""),s=e._s.get(i);if(!s)return Ct(`store "${i}" not found`,"error");const{path:a}=r;if(a[0]!=="state")return Ct(`Invalid path for store "${i}":
${a}
Only state can be modified.`);a[0]="$state",$s=!1,r.set(s,a,r.state.value),$s=!0}})})}function XO(t,e){Hl.includes(zl(e.$id))||Hl.push(zl(e.$id)),dg({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Hl,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const r=typeof n.now=="function"?n.now.bind(n):Date.now;e.$onAction(({after:a,onError:o,name:l,args:u})=>{const f=wg++;n.addTimelineEvent({layerId:us,event:{time:r(),title:"\u{1F6EB} "+l,subtitle:"start",data:{store:zn(e.$id),action:zn(l),args:u},groupId:f}}),a(c=>{Ei=void 0,n.addTimelineEvent({layerId:us,event:{time:r(),title:"\u{1F6EC} "+l,subtitle:"end",data:{store:zn(e.$id),action:zn(l),args:u,result:c},groupId:f}})}),o(c=>{Ei=void 0,n.addTimelineEvent({layerId:us,event:{time:r(),logType:"error",title:"\u{1F4A5} "+l,subtitle:"end",data:{store:zn(e.$id),action:zn(l),args:u,error:c},groupId:f}})})},!0),e._customProperties.forEach(a=>{He(()=>S(e[a]),(o,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(Gt),$s&&n.addTimelineEvent({layerId:us,event:{time:r(),title:"Change",subtitle:a,data:{newValue:o,oldValue:l},groupId:Ei}})},{deep:!0})}),e.$subscribe(({events:a,type:o},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(Gt),!$s)return;const u={time:r(),title:HO(o),data:zO({store:zn(e.$id)},qO(a)),groupId:Ei};o===fr.patchFunction?u.subtitle="\u2935\uFE0F":o===fr.patchObject?u.subtitle="\u{1F9E9}":a&&!Array.isArray(a)&&(u.subtitle=a.type),a&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:a}}),n.addTimelineEvent({layerId:us,event:u})},{detached:!0,flush:"sync"});const i=e._hotUpdate;e._hotUpdate=li(a=>{i(a),n.addTimelineEvent({layerId:us,event:{time:r(),title:"\u{1F525} "+e.$id,subtitle:"HMR update",data:{store:zn(e.$id),info:zn("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(Gt),n.sendInspectorState(Gt)});const{$dispose:s}=e;e.$dispose=()=>{s(),n.notifyComponentUpdate(),n.sendInspectorTree(Gt),n.sendInspectorState(Gt),n.getSettings().logStoreChanges&&Ct(`Disposed "${e.$id}" store \u{1F5D1}`)},n.notifyComponentUpdate(),n.sendInspectorTree(Gt),n.sendInspectorState(Gt),n.getSettings().logStoreChanges&&Ct(`"${e.$id}" store installed \u{1F195}`)})}let wg=0,Ei;function Og(t,e,n){const r=e.reduce((i,s)=>(i[s]=Ee(t)[s],i),{});for(const i in r)t[i]=function(){const s=wg,a=n?new Proxy(t,{get(...l){return Ei=s,Reflect.get(...l)},set(...l){return Ei=s,Reflect.set(...l)}}):t;Ei=s;const o=r[i].apply(a,arguments);return Ei=void 0,o}}function KO({app:t,store:e,options:n}){if(e.$id.startsWith("__hot:"))return;e._isOptionsAPI=!!n.state,Og(e,Object.keys(n.actions),e._isOptionsAPI);const r=e._hotUpdate;Ee(e)._hotUpdate=function(i){r.apply(this,arguments),Og(e,Object.keys(i._hmrPayload.actions),!!e._isOptionsAPI)},XO(t,e)}function xg(){const t=qd(!0),e=t.run(()=>ve({}));let n=[],r=[];const i=li({install(s){Ha(i),i._a=s,s.provide(pg,i),s.config.globalProperties.$pinia=i,za&&YO(s,i),r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!Cf?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return za&&typeof Proxy<"u"&&i.use(KO),i}function Mg(t,e){for(const n in e){const r=e[n];if(!(n in t))continue;const i=t[n];ls(i)&&ls(r)&&!Xe(r)&&!sr(r)?t[n]=Mg(i,r):t[n]=r}return t}const Tg=()=>{};function Ng(t,e,n,r=Tg){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Hd()&&eE(i),i}function Fs(t,...e){t.slice().forEach(n=>{n(...e)})}const ZO=t=>t();function Rf(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];ls(i)&&ls(r)&&t.hasOwnProperty(n)&&!Xe(r)&&!sr(r)?t[n]=Rf(i,r):t[n]=r}return t}const JO=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function QO(t){return!ls(t)||!t.hasOwnProperty(JO)}const{assign:Ln}=Object;function Lg(t){return!!(Xe(t)&&t.effect)}function Cg(t,e,n,r){const{state:i,actions:s,getters:a}=e,o=n.state.value[t];let l;function u(){!o&&(process.env.NODE_ENV==="production"||!r)&&(n.state.value[t]=i?i():{});const f=process.env.NODE_ENV!=="production"&&r?$c(ve(i?i():{}).value):$c(n.state.value[t]);return Ln(f,s,Object.keys(a||{}).reduce((c,h)=>(process.env.NODE_ENV!=="production"&&h in f&&console.warn(`[\u{1F34D}]: A getter cannot have the same name as another state property. Rename one of them. Found with "${h}" in store "${t}".`),c[h]=li(fe(()=>{Ha(n);const d=n._s.get(t);return a[h].call(d,d)})),c),{}))}return l=$f(t,u,e,n,r,!0),l}function $f(t,e,n={},r,i,s){let a;const o=Ln({actions:{}},n);if(process.env.NODE_ENV!=="production"&&!r._e.active)throw new Error("Pinia destroyed");const l={deep:!0};process.env.NODE_ENV!=="production"&&!Cf&&(l.onTrigger=C=>{u?d=C:u==!1&&!M._hotUpdating&&(Array.isArray(d)?d.push(C):console.error("\u{1F34D} debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let u,f,c=[],h=[],d;const p=r.state.value[t];!s&&!p&&(process.env.NODE_ENV==="production"||!i)&&(r.state.value[t]={});const m=ve({});let g;function y(C){let D;u=f=!1,process.env.NODE_ENV!=="production"&&(d=[]),typeof C=="function"?(C(r.state.value[t]),D={type:fr.patchFunction,storeId:t,events:d}):(Rf(r.state.value[t],C),D={type:fr.patchObject,payload:C,storeId:t,events:d});const A=g=Symbol();gl().then(()=>{g===A&&(u=!0)}),f=!0,Fs(c,D,r.state.value[t])}const v=s?function(){const{state:D}=n,A=D?D():{};this.$patch(Q=>{Ln(Q,A)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`\u{1F34D}: Store "${t}" is built using the setup syntax and does not implement $reset().`)}:Tg;function E(){a.stop(),c=[],h=[],r._s.delete(t)}function b(C,D){return function(){Ha(r);const A=Array.from(arguments),Q=[],he=[];function N(Z){Q.push(Z)}function R(Z){he.push(Z)}Fs(h,{args:A,name:C,store:M,after:N,onError:R});let z;try{z=D.apply(this&&this.$id===t?this:M,A)}catch(Z){throw Fs(he,Z),Z}return z instanceof Promise?z.then(Z=>(Fs(Q,Z),Z)).catch(Z=>(Fs(he,Z),Promise.reject(Z))):(Fs(Q,z),z)}}const x=li({actions:{},getters:{},state:[],hotState:m}),T={_p:r,$id:t,$onAction:Ng.bind(null,h),$patch:y,$reset:v,$subscribe(C,D={}){const A=Ng(c,C,D.detached,()=>Q()),Q=a.run(()=>He(()=>r.state.value[t],he=>{(D.flush==="sync"?f:u)&&C({storeId:t,type:fr.direct,events:d},he)},Ln({},l,D)));return A},$dispose:E},M=ul(process.env.NODE_ENV!=="production"||za?Ln({_hmrPayload:x,_customProperties:li(new Set)},T):T);r._s.set(t,M);const I=(r._a&&r._a.runWithContext||ZO)(()=>r._e.run(()=>(a=qd()).run(e)));for(const C in I){const D=I[C];if(Xe(D)&&!Lg(D)||sr(D))process.env.NODE_ENV!=="production"&&i?Ul(m.value,C,dl(I,C)):s||(p&&QO(D)&&(Xe(D)?D.value=p[C]:Rf(D,p[C])),r.state.value[t][C]=D),process.env.NODE_ENV!=="production"&&x.state.push(C);else if(typeof D=="function"){const A=process.env.NODE_ENV!=="production"&&i?D:b(C,D);I[C]=A,process.env.NODE_ENV!=="production"&&(x.actions[C]=D),o.actions[C]=D}else process.env.NODE_ENV!=="production"&&Lg(D)&&(x.getters[C]=s?n.getters[C]:D,Bl&&(I._getters||(I._getters=li([]))).push(C))}if(Ln(M,I),Ln(Ee(M),I),Object.defineProperty(M,"$state",{get:()=>process.env.NODE_ENV!=="production"&&i?m.value:r.state.value[t],set:C=>{if(process.env.NODE_ENV!=="production"&&i)throw new Error("cannot set hotState");y(D=>{Ln(D,C)})}}),process.env.NODE_ENV!=="production"&&(M._hotUpdate=li(C=>{M._hotUpdating=!0,C._hmrPayload.state.forEach(D=>{if(D in M.$state){const A=C.$state[D],Q=M.$state[D];typeof A=="object"&&ls(A)&&ls(Q)?Mg(A,Q):C.$state[D]=Q}Ul(M,D,dl(C.$state,D))}),Object.keys(M.$state).forEach(D=>{D in C.$state||Af(M,D)}),u=!1,f=!1,r.state.value[t]=dl(C._hmrPayload,"hotState"),f=!0,gl().then(()=>{u=!0});for(const D in C._hmrPayload.actions){const A=C[D];Ul(M,D,b(D,A))}for(const D in C._hmrPayload.getters){const A=C._hmrPayload.getters[D],Q=s?fe(()=>(Ha(r),A.call(M,M))):A;Ul(M,D,Q)}Object.keys(M._hmrPayload.getters).forEach(D=>{D in C._hmrPayload.getters||Af(M,D)}),Object.keys(M._hmrPayload.actions).forEach(D=>{D in C._hmrPayload.actions||Af(M,D)}),M._hmrPayload=C._hmrPayload,M._getters=C._getters,M._hotUpdating=!1})),za){const C={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(D=>{Object.defineProperty(M,D,Ln({value:M[D]},C))})}return r._p.forEach(C=>{if(za){const D=a.run(()=>C({store:M,app:r._a,pinia:r,options:o}));Object.keys(D||{}).forEach(A=>M._customProperties.add(A)),Ln(M,D)}else Ln(M,a.run(()=>C({store:M,app:r._a,pinia:r,options:o})))}),process.env.NODE_ENV!=="production"&&M.$state&&typeof M.$state=="object"&&typeof M.$state.constructor=="function"&&!M.$state.constructor.toString().includes("[native code]")&&console.warn(`[\u{1F34D}]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${M.$id}".`),p&&s&&n.hydrate&&n.hydrate(M.$state,p),u=!0,f=!0,M}function Si(t,e,n){let r,i;const s=typeof e=="function";if(typeof t=="string")r=t,i=s?n:e;else if(i=t,r=t.id,process.env.NODE_ENV!=="production"&&typeof r!="string")throw new Error('[\u{1F34D}]: "defineStore()" must be passed a store id as its first argument.');function a(o,l){const u=OS();if(o=(process.env.NODE_ENV==="test"&&qa&&qa._testing?null:o)||(u?Is(pg,null):null),o&&Ha(o),process.env.NODE_ENV!=="production"&&!qa)throw new Error(`[\u{1F34D}]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);o=qa,o._s.has(r)||(s?$f(r,e,i,o):Cg(r,i,o),process.env.NODE_ENV!=="production"&&(a._pinia=o));const f=o._s.get(r);if(process.env.NODE_ENV!=="production"&&l){const c="__hot:"+r,h=s?$f(c,e,i,o,!0):Cg(c,Ln({},i),o,!0);l._hotUpdate(h),delete o.state.value[c],o._s.delete(c)}if(process.env.NODE_ENV!=="production"&&Bl){const c=ja();if(c&&c.proxy&&!l){const h=c.proxy,d="_pStores"in h?h._pStores:h._pStores={};d[r]=f}}return f}return a.$id=r,a}function ke(t){if(Cf)return $c(t);{t=Ee(t);const e={};for(const n in t){const r=t[n];(Xe(r)||sr(r))&&(e[n]=dl(t,n))}return e}}function ex(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var cs=1,fs=2,Vs=3,tx=4,Ff=5,Ag=6378137,nx=6356752314e-3,Pg=.0066943799901413165,Ya=484813681109536e-20,H=Math.PI/2,rx=.16666666666666666,ix=.04722222222222222,sx=.022156084656084655,ne=1e-10,It=.017453292519943295,hr=57.29577951308232,ze=Math.PI/4,Xa=Math.PI*2,vt=3.14159265359,on={};on.greenwich=0,on.lisbon=-9.131906111111,on.paris=2.337229166667,on.bogota=-74.080916666667,on.madrid=-3.687938888889,on.rome=12.452333333333,on.bern=7.439583333333,on.jakarta=106.807719444444,on.ferro=-17.666666666667,on.brussels=4.367975,on.stockholm=18.058277777778,on.athens=23.7163375,on.oslo=10.722916666667;const ax={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var Dg=/[\s_\-\/\(\)]/g;function wi(t,e){if(t[e])return t[e];for(var n=Object.keys(t),r=e.toLowerCase().replace(Dg,""),i=-1,s,a;++i<n.length;)if(s=n[i],a=s.toLowerCase().replace(Dg,""),a===r)return t[s]}function Vf(t){var e={},n=t.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var u=l.split("=");return u.push(!0),o[u[0].toLowerCase()]=u[1],o},{}),r,i,s,a={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*It},lat_1:function(o){e.lat1=o*It},lat_2:function(o){e.lat2=o*It},lat_ts:function(o){e.lat_ts=o*It},lon_0:function(o){e.long0=o*It},lon_1:function(o){e.long1=o*It},lon_2:function(o){e.long2=o*It},alpha:function(o){e.alpha=parseFloat(o)*It},gamma:function(o){e.rectified_grid_angle=parseFloat(o)},lonc:function(o){e.longc=o*It},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r:function(o){e.a=e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var l=wi(ax,o);l&&(e.to_meter=l.to_meter)},from_greenwich:function(o){e.from_greenwich=o*It},pm:function(o){var l=wi(on,o);e.from_greenwich=(l||parseFloat(o))*It},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0}};for(r in n)i=n[r],r in a?(s=a[r],typeof s=="function"?s(i):e[s]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var Ka=1,Ig=2,kg=3,Yl=4,Rg=5,jf=-1,ox=/\s/,lx=/[A-Za-z]/,ux=/[A-Za-z84_]/,Xl=/[,\]]/,$g=/[\d\.E\-\+]/;function jr(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Ka}jr.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==Yl)for(;ox.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Ka:return this.neutral(t);case Ig:return this.keyword(t);case Yl:return this.quoted(t);case Rg:return this.afterquote(t);case kg:return this.number(t);case jf:return}},jr.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=Yl;return}if(Xl.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)},jr.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Ka;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Ka,this.currentObject=this.stack.pop(),this.currentObject||(this.state=jf);return}},jr.prototype.number=function(t){if($g.test(t)){this.word+=t;return}if(Xl.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)},jr.prototype.quoted=function(t){if(t==='"'){this.state=Rg;return}this.word+=t},jr.prototype.keyword=function(t){if(ux.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Ka;return}if(Xl.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)},jr.prototype.neutral=function(t){if(lx.test(t)){this.word=t,this.state=Ig;return}if(t==='"'){this.word="",this.state=Yl;return}if($g.test(t)){this.word=t,this.state=kg;return}if(Xl.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)},jr.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===jf)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function cx(t){var e=new jr(t);return e.output()}function Fg(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(s,a){return js(a,s),s},r);e&&(t[e]=i)}function js(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},js(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&js(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&js(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],Fg(e,n,t);return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return js(t,e[n]);return Fg(e,n,t)}}var fx=.017453292519943295;function hx(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],e.length===3&&(t[n]=e[2](t[n])))}function dr(t){return t*fx}function dx(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function a(u){var f=t.to_meter||1;return u*f}var o=function(u){return hx(t,u)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",dr],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",dr],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",dr],["lat0","latitude_of_origin",dr],["lat0","standard_parallel_1",dr],["lat1","standard_parallel_1",dr],["lat2","standard_parallel_2",dr],["azimuth","Azimuth"],["alpha","azimuth",dr],["srsCode","name"]];l.forEach(o),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=dr(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=dr(t.lat0>0?90:-90))}function Vg(t){var e=cx(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return js(e,i),dx(i),i}function Qt(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Qt[t]=Vf(arguments[1]):Qt[t]=Vg(arguments[1]):Qt[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){Array.isArray(r)?Qt.apply(e,r):Qt(r)});if(typeof t=="string"){if(t in Qt)return Qt[t]}else"EPSG"in t?Qt["EPSG:"+t.EPSG]=t:"ESRI"in t?Qt["ESRI:"+t.ESRI]=t:"IAU2000"in t?Qt["IAU2000:"+t.IAU2000]=t:console.log(t);return}}ex(Qt);function px(t){return typeof t=="string"}function mx(t){return t in Qt}var gx=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function yx(t){return gx.some(function(e){return t.indexOf(e)>-1})}var vx=["3857","900913","3785","102113"];function _x(t){var e=wi(t,"authority");if(!!e){var n=wi(e,"epsg");return n&&vx.indexOf(n)>-1}}function bx(t){var e=wi(t,"extension");if(!!e)return wi(e,"proj4")}function Ex(t){return t[0]==="+"}function Sx(t){if(px(t)){if(mx(t))return Qt[t];if(yx(t)){var e=Vg(t);if(_x(e))return Qt["EPSG:3857"];var n=bx(e);return n?Vf(n):e}if(Ex(t))return Vf(t)}else return t}function jg(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)n=e[r],n!==void 0&&(t[r]=n);return t}function pr(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function Za(t){return t<0?-1:1}function ae(t){return Math.abs(t)<=vt?t:t-Za(t)*Xa}function Yn(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(H-e))/r}function Ja(t,e){for(var n=.5*t,r,i,s=H-2*Math.atan(e),a=0;a<=15;a++)if(r=t*Math.sin(s),i=H-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function wx(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=pr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Ox(t){var e=t.x,n=t.y;if(n*hr>90&&n*hr<-90&&e*hr>180&&e*hr<-180)return null;var r,i;if(Math.abs(Math.abs(n)-H)<=ne)return null;if(this.sphere)r=this.x0+this.a*this.k0*ae(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(ze+.5*n));else{var s=Math.sin(n),a=Yn(this.e,n,s);r=this.x0+this.a*this.k0*ae(e-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return t.x=r,t.y=i,t}function xx(t){var e=t.x-this.x0,n=t.y-this.y0,r,i;if(this.sphere)i=H-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(i=Ja(this.e,s),i===-9999)return null}return r=ae(this.long0+e/(this.a*this.k0)),t.x=r,t.y=i,t}var Mx=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const Tx={init:wx,forward:Ox,inverse:xx,names:Mx};function Nx(){}function Gg(t){return t}var Lx=["longlat","identity"],Cx=[Tx,{init:Nx,forward:Gg,inverse:Gg,names:Lx}],Kl={},Zl=[];function Ug(t,e){var n=Zl.length;return t.names?(Zl[n]=t,t.names.forEach(function(r){Kl[r.toLowerCase()]=n}),this):(console.log(e),!0)}function Ax(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Kl[e]<"u"&&Zl[Kl[e]])return Zl[Kl[e]]}function Px(){Cx.forEach(Ug)}const Dx={start:Px,add:Ug,get:Ax};var Se={};Se.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},Se.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},Se.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},Se.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},Se.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},Se.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},Se.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},Se.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},Se.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},Se.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},Se.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},Se.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},Se.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},Se.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},Se.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},Se.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},Se.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},Se.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},Se.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},Se.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},Se.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},Se.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},Se.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},Se.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},Se.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},Se.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},Se.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},Se.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},Se.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},Se.hough={a:6378270,rf:297,ellipseName:"Hough"},Se.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},Se.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},Se.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},Se.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},Se.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},Se.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},Se.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},Se.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},Se.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},Se.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},Se.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},Se.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var Ix=Se.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Se.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function kx(t,e,n,r){var i=t*t,s=e*e,a=(i-s)/i,o=0;r?(t*=1-a*(rx+a*(ix+a*sx)),i=t*t,a=0):o=Math.sqrt(a);var l=(i-s)/s;return{es:a,e:o,ep2:l}}function Rx(t,e,n,r,i){if(!t){var s=wi(Se,r);s||(s=Ix),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<ne)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}var Nt={};Nt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Nt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Nt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Nt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Nt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Nt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Nt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Nt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Nt.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},Nt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Nt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Nt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Nt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Nt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Nt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Nt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Nt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Nt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function $x(t,e,n,r,i,s,a){var o={};return t===void 0||t==="none"?o.datum_type=Ff:o.datum_type=tx,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=cs),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=fs,o.datum_params[3]*=Ya,o.datum_params[4]*=Ya,o.datum_params[5]*=Ya,o.datum_params[6]=o.datum_params[6]/1e6+1)),a&&(o.datum_type=Vs,o.grids=a),o.a=n,o.b=r,o.es=i,o.ep2=s,o}var Bg={};function Fx(t,e){var n=new DataView(e),r=Gx(n),i=Ux(n,r),s=Bx(n,i,r),a={header:i,subgrids:s};return Bg[t]=a,a}function Vx(t){if(t===void 0)return null;var e=t.split(",");return e.map(jx)}function jx(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Bg[t]||null,isNull:!1}}function Gs(t){return t/3600*Math.PI/180}function Gx(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Ux(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Gf(t,56,56+8).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function Gf(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function Bx(t,e,n){for(var r=176,i=[],s=0;s<e.nSubgrids;s++){var a=qx(t,r,n),o=Hx(t,r,a,n),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);i.push({ll:[Gs(a.lowerLongitude),Gs(a.lowerLatitude)],del:[Gs(a.longitudeInterval),Gs(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:Wx(o)}),r+=176+a.gridNodeCount*16}return i}function Wx(t){return t.map(function(e){return[Gs(e.longitudeShift),Gs(e.latitudeShift)]})}function qx(t,e,n){return{name:Gf(t,e+8,e+16).trim(),parent:Gf(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function Hx(t,e,n,r){for(var i=e+176,s=16,a=[],o=0;o<n.gridNodeCount;o++){var l={latitudeShift:t.getFloat32(i+o*s,r),longitudeShift:t.getFloat32(i+o*s+4,r),latitudeAccuracy:t.getFloat32(i+o*s+8,r),longitudeAccuracy:t.getFloat32(i+o*s+12,r)};a.push(l)}return a}function mr(t,e){if(!(this instanceof mr))return new mr(t);e=e||function(u){if(u)throw u};var n=Sx(t);if(typeof n!="object"){e(t);return}var r=mr.projections.get(n.projName);if(!r){e(t);return}if(n.datumCode&&n.datumCode!=="none"){var i=wi(Nt,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=Rx(n.a,n.b,n.rf,n.ellps,n.sphere),a=kx(s.a,s.b,s.rf,n.R_A),o=Vx(n.nadgrids),l=n.datum||$x(n.datumCode,n.datum_params,s.a,s.b,a.es,a.ep2,o);jg(this,n),jg(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),e(null,this)}mr.projections=Dx,mr.projections.start();function zx(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===cs?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===fs?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function Wg(t,e,n){var r=t.x,i=t.y,s=t.z?t.z:0,a,o,l,u;if(i<-H&&i>-1.001*H)i=-H;else if(i>H&&i<1.001*H)i=H;else{if(i<-H)return{x:-1/0,y:-1/0,z:t.z};if(i>H)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),o=Math.sin(i),u=Math.cos(i),l=o*o,a=n/Math.sqrt(1-e*l),{x:(a+s)*u*Math.cos(r),y:(a+s)*u*Math.sin(r),z:(a*(1-e)+s)*o}}function qg(t,e,n,r){var i=1e-12,s=i*i,a=30,o,l,u,f,c,h,d,p,m,g,y,v,E,b=t.x,x=t.y,T=t.z?t.z:0,M,G,I;if(o=Math.sqrt(b*b+x*x),l=Math.sqrt(b*b+x*x+T*T),o/n<i){if(M=0,l/n<i)return G=H,I=-r,{x:t.x,y:t.y,z:t.z}}else M=Math.atan2(x,b);u=T/l,f=o/l,c=1/Math.sqrt(1-e*(2-e)*f*f),p=f*(1-e)*c,m=u*c,E=0;do E++,d=n/Math.sqrt(1-e*m*m),I=o*p+T*m-d*(1-e*m*m),h=e*d/(d+I),c=1/Math.sqrt(1-h*(2-h)*f*f),g=f*(1-h)*c,y=u*c,v=y*p-g*m,p=g,m=y;while(v*v>s&&E<a);return G=Math.atan(y/Math.abs(g)),{x:M,y:G,z:I}}function Yx(t,e,n){if(e===cs)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===fs){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+o*t.z)+r,y:u*(l*t.x+t.y-a*t.z)+i,z:u*(-o*t.x+a*t.y+t.z)+s}}}function Xx(t,e,n){if(e===cs)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===fs){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6],f=(t.x-r)/u,c=(t.y-i)/u,h=(t.z-s)/u;return{x:f+l*c-o*h,y:-l*f+c+a*h,z:o*f-a*c+h}}}function Jl(t){return t===cs||t===fs}function Kx(t,e,n){if(zx(t,e)||t.datum_type===Ff||e.datum_type===Ff)return n;var r=t.a,i=t.es;if(t.datum_type===Vs){var s=Hg(t,!1,n);if(s!==0)return;r=Ag,i=Pg}var a=e.a,o=e.b,l=e.es;if(e.datum_type===Vs&&(a=Ag,o=nx,l=Pg),i===l&&r===a&&!Jl(t.datum_type)&&!Jl(e.datum_type))return n;if(n=Wg(n,i,r),Jl(t.datum_type)&&(n=Yx(n,t.datum_type,t.datum_params)),Jl(e.datum_type)&&(n=Xx(n,e.datum_type,e.datum_params)),n=qg(n,l,a,o),e.datum_type===Vs){var u=Hg(e,!0,n);if(u!==0)return}return n}function Hg(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},s=[];e:for(var a=0;a<t.grids.length;a++){var o=t.grids[a];if(s.push(o.name),o.isNull){i=r;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var l=o.grid.subgrids,u=0,f=l.length;u<f;u++){var c=l[u],h=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,d=c.ll[0]-h,p=c.ll[1]-h,m=c.ll[0]+(c.lim[0]-1)*c.del[0]+h,g=c.ll[1]+(c.lim[1]-1)*c.del[1]+h;if(!(p>r.y||d>r.x||g<r.y||m<r.x)&&(i=Zx(r,e,c),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*hr+" "+r.y*hr+" tried: '"+s+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function Zx(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=ae(i.x-Math.PI)+Math.PI;var s=zg(i,n);if(e){if(isNaN(s.x))return r;s.x=i.x-s.x,s.y=i.y-s.y;var a=9,o=1e-12,l,u;do{if(u=zg(s,n),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(u.x+s.x),y:i.y-(u.y+s.y)},s.x+=l.x,s.y+=l.y}while(a--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=ae(s.x+n.ll[0]),r.y=s.y+n.ll[1]}else isNaN(s.x)||(r.x=t.x+s.x,r.y=t.y+s.y);return r}function zg(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},s={x:Number.NaN,y:Number.NaN},a;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return s;a=r.y*e.lim[0]+r.x;var o={x:e.cvs[a][0],y:e.cvs[a][1]};a++;var l={x:e.cvs[a][0],y:e.cvs[a][1]};a+=e.lim[0];var u={x:e.cvs[a][0],y:e.cvs[a][1]};a--;var f={x:e.cvs[a][0],y:e.cvs[a][1]},c=i.x*i.y,h=i.x*(1-i.y),d=(1-i.x)*(1-i.y),p=(1-i.x)*i.y;return s.x=d*o.x+h*l.x+p*f.x+c*u.x,s.y=d*o.y+h*l.y+p*f.y+c*u.y,s}function Yg(t,e,n){var r=n.x,i=n.y,s=n.z||0,a,o,l,u={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(a=r,"ew".indexOf(t.axis[l])!==-1?o="x":o="y"):l===1?(a=i,"ns".indexOf(t.axis[l])!==-1?o="y":o="x"):(a=s,o="z"),t.axis[l]){case"e":u[o]=a;break;case"w":u[o]=-a;break;case"n":u[o]=a;break;case"s":u[o]=-a;break;case"u":n[o]!==void 0&&(u.z=a);break;case"d":n[o]!==void 0&&(u.z=-a);break;default:return null}return u}function Xg(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function Jx(t){Kg(t.x),Kg(t.y)}function Kg(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Qx(t,e){return(t.datum.datum_type===cs||t.datum.datum_type===fs||t.datum.datum_type===Vs)&&e.datumCode!=="WGS84"||(e.datum.datum_type===cs||e.datum.datum_type===fs||e.datum.datum_type===Vs)&&t.datumCode!=="WGS84"}function Ql(t,e,n,r){var i;Array.isArray(n)?n=Xg(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(Jx(n),t.datum&&e.datum&&Qx(t,e)&&(i=new mr("WGS84"),n=Ql(t,i,n,r),t=i),r&&t.axis!=="enu"&&(n=Yg(t,!1,n)),t.projName==="longlat")n={x:n.x*It,y:n.y*It,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=Kx(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*hr,y:n.y*hr,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&e.axis!=="enu"?Yg(e,!0,n):(n&&!s&&delete n.z,n)}var Zg=mr("WGS84");function Uf(t,e,n,r){var i,s,a;return Array.isArray(n)?(i=Ql(t,e,n,r)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(s=Ql(t,e,n,r),a=Object.keys(n),a.length===2||a.forEach(function(o){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;s[o]=n[o]}),s)}function Jg(t){return t instanceof mr?t:t.oProj?t.oProj:mr(t)}function Ut(t,e,n){t=Jg(t);var r=!1,i;return typeof e>"u"?(e=t,t=Zg,r=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=Zg,r=!0),e=Jg(e),n?Uf(t,e,n):(i={forward:function(s,a){return Uf(t,e,s,a)},inverse:function(s,a){return Uf(e,t,s,a)}},r&&(i.oProj=e),i)}var Qg=6,ey="AJSAJS",ty="AFAFAF",Us=65,ln=73,Cn=79,Qa=86,eo=90;const eM={forward:ny,inverse:tM,toPoint:ry};function ny(t,e){return e=e||5,iM(nM({lat:t[1],lon:t[0]}),e)}function tM(t){var e=Wf(ay(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function ry(t){var e=Wf(ay(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Bf(t){return t*(Math.PI/180)}function iy(t){return 180*(t/Math.PI)}function nM(t){var e=t.lat,n=t.lon,r=6378137,i=.00669438,s=.9996,a,o,l,u,f,c,h,d=Bf(e),p=Bf(n),m,g;g=Math.floor((n+180)/6)+1,n===180&&(g=60),e>=56&&e<64&&n>=3&&n<12&&(g=32),e>=72&&e<84&&(n>=0&&n<9?g=31:n>=9&&n<21?g=33:n>=21&&n<33?g=35:n>=33&&n<42&&(g=37)),a=(g-1)*6-180+3,m=Bf(a),o=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(d)*Math.sin(d)),u=Math.tan(d)*Math.tan(d),f=o*Math.cos(d)*Math.cos(d),c=Math.cos(d)*(p-m),h=r*((1-i/4-3*i*i/64-5*i*i*i/256)*d-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*d)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*d)-35*i*i*i/3072*Math.sin(6*d));var y=s*l*(c+(1-u+f)*c*c*c/6+(5-18*u+u*u+72*f-58*o)*c*c*c*c*c/120)+5e5,v=s*(h+l*Math.tan(d)*(c*c/2+(5-u+9*f+4*f*f)*c*c*c*c/24+(61-58*u+u*u+600*f-330*o)*c*c*c*c*c*c/720));return e<0&&(v+=1e7),{northing:Math.round(v),easting:Math.round(y),zoneNumber:g,zoneLetter:rM(e)}}function Wf(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var s=.9996,a=6378137,o=.00669438,l,u=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),f,c,h,d,p,m,g,y,v,E=n-5e5,b=e;r<"N"&&(b-=1e7),g=(i-1)*6-180+3,l=o/(1-o),m=b/s,y=m/(a*(1-o/4-3*o*o/64-5*o*o*o/256)),v=y+(3*u/2-27*u*u*u/32)*Math.sin(2*y)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*y)+151*u*u*u/96*Math.sin(6*y),f=a/Math.sqrt(1-o*Math.sin(v)*Math.sin(v)),c=Math.tan(v)*Math.tan(v),h=l*Math.cos(v)*Math.cos(v),d=a*(1-o)/Math.pow(1-o*Math.sin(v)*Math.sin(v),1.5),p=E/(f*s);var x=v-f*Math.tan(v)/d*(p*p/2-(5+3*c+10*h-4*h*h-9*l)*p*p*p*p/24+(61+90*c+298*h+45*c*c-252*l-3*h*h)*p*p*p*p*p*p/720);x=iy(x);var T=(p-(1+2*c+h)*p*p*p/6+(5-2*h+28*c-3*h*h+8*l+24*c*c)*p*p*p*p*p/120)/Math.cos(v);T=g+iy(T);var M;if(t.accuracy){var G=Wf({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});M={top:G.lat,right:G.lon,bottom:x,left:T}}else M={lat:x,lon:T};return M}function rM(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function iM(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+sM(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function sM(t,e,n){var r=sy(n),i=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return aM(i,s,r)}function sy(t){var e=t%Qg;return e===0&&(e=Qg),e}function aM(t,e,n){var r=n-1,i=ey.charCodeAt(r),s=ty.charCodeAt(r),a=i+t-1,o=s+e,l=!1;a>eo&&(a=a-eo+Us-1,l=!0),(a===ln||i<ln&&a>ln||(a>ln||i<ln)&&l)&&a++,(a===Cn||i<Cn&&a>Cn||(a>Cn||i<Cn)&&l)&&(a++,a===ln&&a++),a>eo&&(a=a-eo+Us-1),o>Qa?(o=o-Qa+Us-1,l=!0):l=!1,(o===ln||s<ln&&o>ln||(o>ln||s<ln)&&l)&&o++,(o===Cn||s<Cn&&o>Cn||(o>Cn||s<Cn)&&l)&&(o++,o===ln&&o++),o>Qa&&(o=o-Qa+Us-1);var u=String.fromCharCode(a)+String.fromCharCode(o);return u}function ay(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,r="",i,s=0;!/[A-Z]/.test(i=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=i,s++}var a=parseInt(r,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(s++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+t;n=t.substring(s,s+=2);for(var l=sy(a),u=oM(n.charAt(0),l),f=lM(n.charAt(1),l);f<uM(o);)f+=2e6;var c=e-s;if(c%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var h=c/2,d=0,p=0,m,g,y,v,E;return h>0&&(m=1e5/Math.pow(10,h),g=t.substring(s,s+h),d=parseFloat(g)*m,y=t.substring(s+h),p=parseFloat(y)*m),v=d+u,E=p+f,{easting:v,northing:E,zoneLetter:o,zoneNumber:a,accuracy:m}}function oM(t,e){for(var n=ey.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===ln&&n++,n===Cn&&n++,n>eo){if(i)throw"Bad character: "+t;n=Us,i=!0}r+=1e5}return r}function lM(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=ty.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===ln&&n++,n===Cn&&n++,n>Qa){if(i)throw"Bad character: "+t;n=Us,i=!0}r+=1e5}return r}function uM(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Bs(t,e,n){if(!(this instanceof Bs))return new Bs(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Bs.fromMGRS=function(t){return new Bs(ry(t))},Bs.prototype.toMGRS=function(t){return ny([this.x,this.y],t)};var cM=1,fM=.25,oy=.046875,ly=.01953125,uy=.01068115234375,hM=.75,dM=.46875,pM=.013020833333333334,mM=.007120768229166667,gM=.3645833333333333,yM=.005696614583333333,vM=.3076171875;function cy(t){var e=[];e[0]=cM-t*(fM+t*(oy+t*(ly+t*uy))),e[1]=t*(hM-t*(oy+t*(ly+t*uy)));var n=t*t;return e[2]=n*(dM-t*(pM+t*mM)),n*=t,e[3]=n*(gM-t*yM),e[4]=n*t*vM,e}function eu(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var _M=20;function fy(t,e,n){for(var r=1/(1-e),i=t,s=_M;s;--s){var a=Math.sin(i),o=1-e*a*a;if(o=(eu(i,a,Math.cos(i),n)-t)*(o*Math.sqrt(o))*r,i-=o,Math.abs(o)<ne)return i}return i}function bM(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=cy(this.es),this.ml0=eu(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function EM(t){var e=t.x,n=t.y,r=ae(e-this.long0),i,s,a,o=Math.sin(n),l=Math.cos(n);if(this.es){var f=l*r,c=Math.pow(f,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),p=Math.abs(l)>ne?Math.tan(n):0,m=Math.pow(p,2),g=Math.pow(m,2);i=1-this.es*Math.pow(o,2),f=f/Math.sqrt(i);var y=eu(n,o,l,this.en);s=this.a*(this.k0*f*(1+c/6*(1-m+h+c/20*(5-18*m+g+14*h-58*m*h+c/42*(61+179*g-g*m-479*m)))))+this.x0,a=this.a*(this.k0*(y-this.ml0+o*r*f/2*(1+c/12*(5-m+9*h+4*d+c/30*(61+g-58*m+270*h-330*m*h+c/56*(1385+543*g-g*m-3111*m))))))+this.y0}else{var u=l*Math.sin(r);if(Math.abs(Math.abs(u)-1)<ne)return 93;if(s=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,a=l*Math.cos(r)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(a),u>=1){if(u-1>ne)return 93;a=0}else a=Math.acos(a);n<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return t.x=s,t.y=a,t}function SM(t){var e,n,r,i,s=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=fy(e,this.es,this.en),Math.abs(n)<H){var c=Math.sin(n),h=Math.cos(n),d=Math.abs(h)>ne?Math.tan(n):0,p=this.ep2*Math.pow(h,2),m=Math.pow(p,2),g=Math.pow(d,2),y=Math.pow(g,2);e=1-this.es*Math.pow(c,2);var v=s*Math.sqrt(e)/this.k0,E=Math.pow(v,2);e=e*d,r=n-e*E/(1-this.es)*.5*(1-E/12*(5+3*g-9*p*g+p-4*m-E/30*(61+90*g-252*p*g+45*y+46*p-E/56*(1385+3633*g+4095*y+1574*y*g)))),i=ae(this.long0+v*(1-E/6*(1+2*g+p-E/20*(5+28*g+24*y+8*p*g+6*p-E/42*(61+662*g+1320*y+720*y*g))))/h)}else r=H*Za(a),i=0;else{var o=Math.exp(s/this.k0),l=.5*(o-1/o),u=this.lat0+a/this.k0,f=Math.cos(u);e=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),r=Math.asin(e),a<0&&(r=-r),l===0&&f===0?i=0:i=ae(Math.atan2(l,f)+this.long0)}return t.x=i,t.y=r,t}var wM=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const tu={init:bM,forward:EM,inverse:SM,names:wM};function hy(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function An(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function OM(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function xM(t){var e=Math.abs(t);return e=OM(e*(1+e/(An(1,e)+1))),t<0?-e:e}function qf(t,e){for(var n=2*Math.cos(2*e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return e+a*Math.sin(2*e)}function MM(t,e){for(var n=2*Math.cos(e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return Math.sin(e)*a}function TM(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function dy(t,e,n){for(var r=Math.sin(e),i=Math.cos(e),s=hy(n),a=TM(n),o=2*i*a,l=-2*r*s,u=t.length-1,f=t[u],c=0,h=0,d=0,p,m;--u>=0;)p=h,m=c,h=f,c=d,f=-p+o*h-l*c+t[u],d=-m+l*h+o*c;return o=r*a,l=i*s,[o*f-l*d,o*d+l*f]}function NM(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(tu.init.apply(this),this.forward=tu.forward,this.inverse=tu.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=qf(this.cbg,this.lat0);this.Zb=-this.Qn*(r+MM(this.gtu,2*r))}function LM(t){var e=ae(t.x-this.long0),n=t.y;n=qf(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(e),a=Math.cos(e);n=Math.atan2(r,a*i),e=Math.atan2(s*i,An(r,i*a)),e=xM(Math.tan(e));var o=dy(this.gtu,2*n,2*e);n=n+o[0],e=e+o[1];var l,u;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,u=1/0),t.x=l,t.y=u,t}function CM(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var s=dy(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(hy(e));var a=Math.sin(n),o=Math.cos(n),l=Math.sin(e),u=Math.cos(e);n=Math.atan2(a*u,An(l,u*o)),e=Math.atan2(l,u*o),r=ae(e+this.long0),i=qf(this.cgb,n)}else r=1/0,i=1/0;return t.x=r,t.y=i,t}var AM=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const nu={init:NM,forward:LM,inverse:CM,names:AM};function PM(t,e){if(t===void 0){if(t=Math.floor((ae(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var DM="etmerc";function IM(){var t=PM(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*It,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,nu.init.apply(this),this.forward=nu.forward,this.inverse=nu.inverse}var kM=["Universal Transverse Mercator System","utm"];const RM={init:IM,names:kM,dependsOn:DM};function Hf(t,e){return Math.pow((1-t)/(1+t),e)}var $M=20;function FM(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+ze)/(Math.pow(Math.tan(.5*this.lat0+ze),this.C)*Hf(this.e*t,this.ratexp))}function VM(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+ze),this.C)*Hf(this.e*Math.sin(n),this.ratexp))-H,t.x=this.C*e,t}function jM(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+ze)/this.K,1/this.C),s=$M;s>0&&(r=2*Math.atan(i*Hf(this.e*Math.sin(t.y),-.5*this.e))-H,!(Math.abs(r-t.y)<e));--s)t.y=r;return s?(t.x=n,t.y=r,t):null}var GM=["gauss"];const zf={init:FM,forward:VM,inverse:jM,names:GM};function UM(){zf.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function BM(t){var e,n,r,i;return t.x=ae(t.x-this.long0),zf.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function WM(t){var e,n,r,i,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=An(t.x,t.y)){var a=2*Math.atan2(s,this.R2);e=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),r=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,zf.inverse.apply(this,[t]),t.x=ae(t.x+this.long0),t}var qM=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const HM={init:UM,forward:BM,inverse:WM,names:qM};function zM(t,e,n){return e*=n,Math.tan(.5*(H+t))*Math.pow((1-e)/(1+e),.5*n)}function YM(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ne&&(this.k0=.5*(1+Za(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=ne&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ne&&Math.abs(Math.cos(this.lat_ts))>ne&&(this.k0=.5*this.cons*pr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Yn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=pr(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-H,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function XM(t){var e=t.x,n=t.y,r=Math.sin(n),i=Math.cos(n),s,a,o,l,u,f,c=ae(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=ne&&Math.abs(n+this.lat0)<=ne?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(c)),t.x=this.a*s*i*Math.sin(c)+this.x0,t.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(c))+this.y0,t):(a=2*Math.atan(this.ssfn_(n,r,this.e))-H,l=Math.cos(a),o=Math.sin(a),Math.abs(this.coslat0)<=ne?(u=Yn(this.e,n*this.con,this.con*r),f=2*this.a*this.k0*u/this.cons,t.x=this.x0+f*Math.sin(e-this.long0),t.y=this.y0-this.con*f*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<ne?(s=2*this.a*this.k0/(1+l*Math.cos(c)),t.y=s*o):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(c))),t.y=s*(this.cosX0*o-this.sinX0*l*Math.cos(c))+this.y0),t.x=s*l*Math.sin(c)+this.x0,t))}function KM(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=ne?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/a),Math.abs(this.coslat0)<ne?this.lat0>0?e=ae(this.long0+Math.atan2(t.x,-1*t.y)):e=ae(this.long0+Math.atan2(t.x,t.y)):e=ae(this.long0+Math.atan2(t.x*Math.sin(o),a*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=ne){if(a<=ne)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*Ja(this.e,r),e=this.con*ae(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=ne?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/a),e=ae(this.long0+Math.atan2(t.x*Math.sin(i),a*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*Ja(this.e,Math.tan(.5*(H+s)));return t.x=e,t.y=n,t}var ZM=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const JM={init:YM,forward:XM,inverse:KM,names:ZM,ssfn_:zM};function QM(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),a=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*l+this.alpha*a/2*u}function eT(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*a+this.x0,t}function tT(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+a/this.alpha,l=0,u=s,f=-1e3,c=0;Math.abs(u-f)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),f=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=o,t.y=u,t}var nT=["somerc"];const rT={init:QM,forward:eT,inverse:tT,names:nT};var Ws=1e-7;function iT(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function sT(){var t,e,n,r,i,s,a,o,l,u,f=0,c,h=0,d=0,p=0,m=0,g=0,y=0;this.no_off=iT(this),this.no_rot="no_rot"in this;var v=!1;"alpha"in this&&(v=!0);var E=!1;if("rectified_grid_angle"in this&&(E=!0),v&&(y=this.alpha),E&&(f=this.rectified_grid_angle*It),v||E)h=this.longc;else if(d=this.long1,m=this.lat1,p=this.long2,g=this.lat2,Math.abs(m-g)<=Ws||(t=Math.abs(m))<=Ws||Math.abs(t-H)<=Ws||Math.abs(Math.abs(this.lat0)-H)<=Ws||Math.abs(Math.abs(g)-H)<=Ws)throw new Error;var b=1-this.es;e=Math.sqrt(b),Math.abs(this.lat0)>ne?(o=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*o*o,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/b),this.A=this.B*this.k0*e/t,r=this.B*e/(n*Math.sqrt(t)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(Yn(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),v||E?(v?(c=Math.asin(Math.sin(y)/r),E||(f=y)):(c=f,y=Math.asin(r*Math.sin(c))),this.lam0=h-Math.asin(.5*(i-1/i)*Math.tan(c))/this.B):(s=Math.pow(Yn(this.e,m,Math.sin(m)),this.B),a=Math.pow(Yn(this.e,g,Math.sin(g)),this.B),i=this.E/s,l=(a-s)/(a+s),u=this.E*this.E,u=(u-a*s)/(u+a*s),t=d-p,t<-Math.pi?p-=Xa:t>Math.pi&&(p+=Xa),this.lam0=ae(.5*(d+p)-Math.atan(u*Math.tan(.5*this.B*(d-p))/l)/this.B),c=Math.atan(2*Math.sin(this.B*ae(d-this.lam0))/(i-1/i)),f=y=Math.asin(r*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(y))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(ze-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(ze+i))}function aT(t){var e={},n,r,i,s,a,o,l,u;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-H)>ne){if(a=this.E/Math.pow(Yn(this.e,t.y,Math.sin(t.y)),this.B),o=1/a,n=.5*(a-o),r=.5*(a+o),s=Math.sin(this.B*t.x),i=(n*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(i)-1)<ne)throw new Error;u=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*t.x),Math.abs(o)<Ws?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,o)}else u=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=u):(l-=this.u_0,e.x=u*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function oT(t){var e,n,r,i,s,a,o,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),s=.5*(r+1/r),a=Math.sin(this.BrA*e),o=(a*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(o)-1)<ne)l.x=0,l.y=o<0?-H:H;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=Ja(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var lT=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const uT={init:sT,forward:aT,inverse:oT,names:lT};function cT(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<ne)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=pr(this.e,e,n),i=Yn(this.e,this.lat1,e),s=Math.sin(this.lat2),a=Math.cos(this.lat2),o=pr(this.e,s,a),l=Yn(this.e,this.lat2,s),u=Yn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>ne?this.ns=Math.log(r/o)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function fT(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=ne&&(n=Za(n)*(H-2*ne));var r=Math.abs(Math.abs(n)-H),i,s;if(r>ne)i=Yn(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;s=0}var a=this.ns*ae(e-this.long0);return t.x=this.k0*(s*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(a))+this.y0,t}function hT(t){var e,n,r,i,s,a=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),n=1):(e=-Math.sqrt(a*a+o*o),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*a,n*o)),e!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=Ja(this.e,r),i===-9999)return null}else i=-H;return s=ae(l/this.ns+this.long0),t.x=s,t.y=i,t}var dT=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const pT={init:cT,forward:fT,inverse:hT,names:dT};function mT(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function gT(t){var e,n,r,i,s,a,o,l=t.x,u=t.y,f=ae(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-f*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*s,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=o*Math.cos(a)/1,t.x=o*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function yT(t){var e,n,r,i,s,a,o,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,o=e,l=0;var f=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(l=1),o=t.y,f+=1;while(l===0&&f<15);return f>=15?null:t}var vT=["Krovak","krovak"];const _T={init:mT,forward:gT,inverse:yT,names:vT};function en(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function to(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function no(t){return .375*t*(1+.25*t*(1+.46875*t))}function ro(t){return .05859375*t*t*(1+.75*t)}function io(t){return t*t*t*(35/3072)}function qs(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function Hs(t){return Math.abs(t)<H?t:t-Za(t)*Math.PI}function ru(t,e,n,r,i){var s,a;s=t/e;for(var o=0;o<15;o++)if(a=(t-(e*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=a,Math.abs(a)<=1e-10)return s;return NaN}function bT(){this.sphere||(this.e0=to(this.es),this.e1=no(this.es),this.e2=ro(this.es),this.e3=io(this.es),this.ml0=this.a*en(this.e0,this.e1,this.e2,this.e3,this.lat0))}function ET(t){var e,n,r=t.x,i=t.y;if(r=ae(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),a=Math.cos(i),o=qs(this.a,this.e,s),l=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),f=u*u,c=this.es*a*a/(1-this.es),h=this.a*en(this.e0,this.e1,this.e2,this.e3,i);e=o*u*(1-f*l*(1/6-(8-l+8*c)*f/120)),n=h-this.ml0+o*s/a*f*(.5+(5-l+6*c)*f/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function ST(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(s))}else{var a=this.ml0/this.a+n,o=ru(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-H)<=ne)return t.x=this.long0,t.y=H,n<0&&(t.y*=-1),t;var l=qs(this.a,this.e,Math.sin(o)),u=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(o),2),c=e*this.a/l,h=c*c;r=o-l*Math.tan(o)/u*c*c*(.5-(1+3*f)*c*c/24),i=c*(1-h*(f/3+(1+3*f)*f*h/15))/Math.cos(o)}return t.x=ae(i+this.long0),t.y=Hs(r),t}var wT=["Cassini","Cassini_Soldner","cass"];const OT={init:bT,forward:ET,inverse:ST,names:wT};function Oi(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var xT=1,MT=2,TT=3,NT=4;function LT(){var t=Math.abs(this.lat0);if(Math.abs(t-H)<ne?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<ne?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Oi(this.e,1),this.mmf=.5/(1-this.es),this.apa=FT(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Oi(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function CT(t){var e,n,r,i,s,a,o,l,u,f,c=t.x,h=t.y;if(c=ae(c-this.long0),this.sphere){if(s=Math.sin(h),f=Math.cos(h),r=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+f*r:1+this.sinph0*s+this.cosph0*f*r,n<=ne)return null;n=Math.sqrt(2/n),e=n*f*Math.sin(c),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.lat0)<ne)return null;n=ze-h*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(c),n*=r}}else{switch(o=0,l=0,u=0,r=Math.cos(c),i=Math.sin(c),s=Math.sin(h),a=Oi(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=a/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*l*r;break;case this.EQUIT:u=1+l*r;break;case this.N_POLE:u=H+h,a=this.qp-a;break;case this.S_POLE:u=h-H,a=this.qp+a;break}if(Math.abs(u)<ne)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?n=this.ymf*u*(this.cosb1*o-this.sinb1*l*r):n=(u=Math.sqrt(2/(1+l*r)))*o*this.ymf,e=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?u:-u)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function AT(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i,s,a,o,l,u;if(this.sphere){var f=0,c,h=0;if(c=Math.sqrt(e*e+n*n),i=c*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sin(i),f=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(c)<=ne?0:Math.asin(n*h/c),e*=h,n=f*c;break;case this.OBLIQ:i=Math.abs(c)<=ne?this.lat0:Math.asin(f*this.sinph0+n*h*this.cosph0/c),e*=h*this.cosph0,n=(f-Math.sin(i)*this.sinph0)*c;break;case this.N_POLE:n=-n,i=H-i;break;case this.S_POLE:i-=H;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<ne)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*l/this.rq),s=Math.cos(a),e*=a=Math.sin(a),this.mode===this.OBLIQ?(u=s*this.sinb1+n*a*this.cosb1/l,o=this.qp*u,n=l*this.cosb1*s-n*this.sinb1*a):(u=n*a/l,o=this.qp*u,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),o=e*e+n*n,!o)return t.x=this.long0,t.y=this.lat0,t;u=1-o/this.qp,this.mode===this.S_POLE&&(u=-u)}r=Math.atan2(e,n),i=VT(Math.asin(u),this.apa)}return t.x=ae(this.long0+r),t.y=i,t}var PT=.3333333333333333,DT=.17222222222222222,IT=.10257936507936508,kT=.06388888888888888,RT=.0664021164021164,$T=.016415012942191543;function FT(t){var e,n=[];return n[0]=t*PT,e=t*t,n[0]+=e*DT,n[1]=e*kT,e*=t,n[0]+=e*IT,n[1]+=e*RT,n[2]=e*$T,n}function VT(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var jT=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const GT={init:LT,forward:CT,inverse:AT,names:jT,S_POLE:xT,N_POLE:MT,EQUIT:TT,OBLIQ:NT};function xi(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function UT(){Math.abs(this.lat1+this.lat2)<ne||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=pr(this.e3,this.sin_po,this.cos_po),this.qs1=Oi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=pr(this.e3,this.sin_po,this.cos_po),this.qs2=Oi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Oi(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>ne?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function BT(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Oi(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*ae(e-this.long0),a=i*Math.sin(s)+this.x0,o=this.rh-i*Math.cos(s)+this.y0;return t.x=a,t.y=o,t}function WT(t){var e,n,r,i,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),s=ae(i/this.ns0+this.long0),t.x=s,t.y=a,t}function qT(t,e){var n,r,i,s,a,o=xi(.5*e);if(t<ne)return o;for(var l=t*t,u=1;u<=25;u++)if(n=Math.sin(o),r=Math.cos(o),i=t*n,s=1-i*i,a=.5*s*s/r*(e/(1-l)-n/s+.5/t*Math.log((1-i)/(1+i))),o=o+a,Math.abs(a)<=1e-7)return o;return null}var HT=["Albers_Conic_Equal_Area","Albers","aea"];const zT={init:UT,forward:BT,inverse:WT,names:HT,phi1z:qT};function YT(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function XT(t){var e,n,r,i,s,a,o,l,u=t.x,f=t.y;return r=ae(u-this.long0),e=Math.sin(f),n=Math.cos(f),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,a>0||Math.abs(a)<=ne?(o=this.x0+this.a*s*n*Math.sin(r)/a,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)/a):(o=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function KT(t){var e,n,r,i,s,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),a=xi(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),s=ae(this.long0+s)):(a=this.phic0,s=0),t.x=s,t.y=a,t}var ZT=["gnom"];const JT={init:YT,forward:XT,inverse:KT,names:ZT};function QT(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*H:H;for(var r=Math.asin(.5*e),i,s,a,o,l=0;l<30;l++)if(s=Math.sin(r),a=Math.cos(r),o=t*s,i=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-s/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function eN(){this.sphere||(this.k0=pr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function tN(t){var e=t.x,n=t.y,r,i,s=ae(e-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var a=Oi(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*a*.5/this.k0}return t.x=r,t.y=i,t}function nN(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=ae(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=QT(this.e,2*t.y*this.k0/this.a),e=ae(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var rN=["cea"];const iN={init:eN,forward:tN,inverse:nN,names:rN};function sN(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function aN(t){var e=t.x,n=t.y,r=ae(e-this.long0),i=Hs(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function oN(t){var e=t.x,n=t.y;return t.x=ae(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Hs(this.lat0+(n-this.y0)/this.a),t}var lN=["Equirectangular","Equidistant_Cylindrical","eqc"];const uN={init:sN,forward:aN,inverse:oN,names:lN};var py=20;function cN(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=to(this.es),this.e1=no(this.es),this.e2=ro(this.es),this.e3=io(this.es),this.ml0=this.a*en(this.e0,this.e1,this.e2,this.e3,this.lat0)}function fN(t){var e=t.x,n=t.y,r,i,s,a=ae(e-this.long0);if(s=a*Math.sin(n),this.sphere)Math.abs(n)<=ne?(r=this.a*a,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*(Hs(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=ne)r=this.a*a,i=-1*this.ml0;else{var o=qs(this.a,this.e,Math.sin(n))/Math.tan(n);r=o*Math.sin(s),i=this.a*en(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(s))}return t.x=r+this.x0,t.y=i+this.y0,t}function hN(t){var e,n,r,i,s,a,o,l,u;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=ne)e=ae(r/this.a+this.long0),n=0;else{a=this.lat0+i/this.a,o=r*r/this.a/this.a+a*a,l=a;var f;for(s=py;s;--s)if(f=Math.tan(l),u=-1*(a*(l*f+1)-l-.5*(l*l+o)*f)/((l-a)/f-1),l+=u,Math.abs(u)<=ne){n=l;break}e=ae(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=ne)n=0,e=ae(this.long0+r/this.a);else{a=(this.ml0+i)/this.a,o=r*r/this.a/this.a+a*a,l=a;var c,h,d,p,m;for(s=py;s;--s)if(m=this.e*Math.sin(l),c=Math.sqrt(1-m*m)*Math.tan(l),h=this.a*en(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),p=h/this.a,u=(a*(c*p+1)-p-.5*c*(p*p+o))/(this.es*Math.sin(2*l)*(p*p+o-2*a*p)/(4*c)+(a-p)*(c*d-2/Math.sin(2*l))-d),l-=u,Math.abs(u)<=ne){n=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=ae(this.long0+Math.asin(r*c/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var dN=["Polyconic","poly"];const pN={init:cN,forward:fN,inverse:hN,names:dN};function mN(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function gN(t){var e,n=t.x,r=t.y,i=r-this.lat0,s=n-this.long0,a=i/Ya*1e-5,o=s,l=1,u=0;for(e=1;e<=10;e++)l=l*a,u=u+this.A[e]*l;var f=u,c=o,h=1,d=0,p,m,g=0,y=0;for(e=1;e<=6;e++)p=h*f-d*c,m=d*f+h*c,h=p,d=m,g=g+this.B_re[e]*h-this.B_im[e]*d,y=y+this.B_im[e]*h+this.B_re[e]*d;return t.x=y*this.a+this.x0,t.y=g*this.a+this.y0,t}function yN(t){var e,n=t.x,r=t.y,i=n-this.x0,s=r-this.y0,a=s/this.a,o=i/this.a,l=1,u=0,f,c,h=0,d=0;for(e=1;e<=6;e++)f=l*a-u*o,c=u*a+l*o,l=f,u=c,h=h+this.C_re[e]*l-this.C_im[e]*u,d=d+this.C_im[e]*l+this.C_re[e]*u;for(var p=0;p<this.iterations;p++){var m=h,g=d,y,v,E=a,b=o;for(e=2;e<=6;e++)y=m*h-g*d,v=g*h+m*d,m=y,g=v,E=E+(e-1)*(this.B_re[e]*m-this.B_im[e]*g),b=b+(e-1)*(this.B_im[e]*m+this.B_re[e]*g);m=1,g=0;var x=this.B_re[1],T=this.B_im[1];for(e=2;e<=6;e++)y=m*h-g*d,v=g*h+m*d,m=y,g=v,x=x+e*(this.B_re[e]*m-this.B_im[e]*g),T=T+e*(this.B_im[e]*m+this.B_re[e]*g);var M=x*x+T*T;h=(E*x+b*T)/M,d=(b*x-E*T)/M}var G=h,I=d,C=1,D=0;for(e=1;e<=9;e++)C=C*G,D=D+this.D[e]*C;var A=this.lat0+D*Ya*1e5,Q=this.long0+I;return t.x=Q,t.y=A,t}var vN=["New_Zealand_Map_Grid","nzmg"];const _N={init:mN,forward:gN,inverse:yN,names:vN};function bN(){}function EN(t){var e=t.x,n=t.y,r=ae(e-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=s,t}function SN(t){t.x-=this.x0,t.y-=this.y0;var e=ae(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var wN=["Miller_Cylindrical","mill"];const ON={init:bN,forward:EN,inverse:SN,names:wN};var xN=20;function MN(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=cy(this.es)}function TN(t){var e,n,r=t.x,i=t.y;if(r=ae(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),a=xN;a;--a){var o=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<ne)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*eu(i,l,u,this.en),e=this.a*r*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function NN(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=xi((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=xi(Math.sin(e)/this.n)),r=ae(r+this.long0),e=Hs(e)):(e=fy(t.y/this.a,this.es,this.en),i=Math.abs(e),i<H?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=ae(n)):i-ne<H&&(r=this.long0)),t.x=r,t.y=e,t}var LN=["Sinusoidal","sinu"];const CN={init:MN,forward:TN,inverse:NN,names:LN};function AN(){}function PN(t){for(var e=t.x,n=t.y,r=ae(e-this.long0),i=n,s=Math.PI*Math.sin(n);;){var a=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=a,Math.abs(a)<ne)break}i/=2,Math.PI/2-Math.abs(n)<ne&&(r=0);var o=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=l,t}function DN(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=ae(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var IN=["Mollweide","moll"];const kN={init:AN,forward:PN,inverse:DN,names:IN};function RN(){Math.abs(this.lat1+this.lat2)<ne||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=to(this.es),this.e1=no(this.es),this.e2=ro(this.es),this.e3=io(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=pr(this.e,this.sinphi,this.cosphi),this.ml1=en(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<ne?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=pr(this.e,this.sinphi,this.cosphi),this.ml2=en(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=en(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function $N(t){var e=t.x,n=t.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=en(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*ae(e-this.long0),a=this.x0+r*Math.sin(s),o=this.y0+this.rh-r*Math.cos(s);return t.x=a,t.y=o,t}function FN(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=ae(this.long0+s/this.ns),r=Hs(this.g-n/this.a),t.x=i,t.y=r,t;var a=this.g-n/this.a;return r=ru(a,this.e0,this.e1,this.e2,this.e3),i=ae(this.long0+s/this.ns),t.x=i,t.y=r,t}var VN=["Equidistant_Conic","eqdc"];const jN={init:RN,forward:$N,inverse:FN,names:VN};function GN(){this.R=this.a}function UN(t){var e=t.x,n=t.y,r=ae(e-this.long0),i,s;Math.abs(n)<=ne&&(i=this.x0+this.R*r,s=this.y0);var a=xi(2*Math.abs(n/Math.PI));(Math.abs(r)<=ne||Math.abs(Math.abs(n)-H)<=ne)&&(i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*a):s=this.y0+Math.PI*this.R*-Math.tan(.5*a));var o=.5*Math.abs(Math.PI/r-r/Math.PI),l=o*o,u=Math.sin(a),f=Math.cos(a),c=f/(u+f-1),h=c*c,d=c*(2/u-1),p=d*d,m=Math.PI*this.R*(o*(c-p)+Math.sqrt(l*(c-p)*(c-p)-(p+l)*(h-p)))/(p+l);r<0&&(m=-m),i=this.x0+m;var g=l+c;return m=Math.PI*this.R*(d*g-o*Math.sqrt((p+l)*(l+1)-g*g))/(p+l),n>=0?s=this.y0+m:s=this.y0-m,t.x=i,t.y=s,t}function BN(t){var e,n,r,i,s,a,o,l,u,f,c,h,d;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,r=t.x/c,i=t.y/c,s=r*r+i*i,a=-Math.abs(i)*(1+s),o=a-2*i*i+r*r,l=-2*a+1+2*i*i+s*s,d=i*i/l+(2*o*o*o/l/l/l-9*a*o/l/l)/27,u=(a-o*o/3/l)/l,f=2*Math.sqrt(-u/3),c=3*d/u/f,Math.abs(c)>1&&(c>=0?c=1:c=-1),h=Math.acos(c)/3,t.y>=0?n=(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI:n=-(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI,Math.abs(r)<ne?e=this.long0:e=ae(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),t.x=e,t.y=n,t}var WN=["Van_der_Grinten_I","VanDerGrinten","vandg"];const qN={init:GN,forward:UN,inverse:BN,names:WN};function HN(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function zN(t){var e=t.x,n=t.y,r=Math.sin(t.y),i=Math.cos(t.y),s=ae(e-this.long0),a,o,l,u,f,c,h,d,p,m,g,y,v,E,b,x,T,M,G,I,C,D,A;return this.sphere?Math.abs(this.sin_p12-1)<=ne?(t.x=this.x0+this.a*(H-n)*Math.sin(s),t.y=this.y0-this.a*(H-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ne?(t.x=this.x0+this.a*(H+n)*Math.sin(s),t.y=this.y0+this.a*(H+n)*Math.cos(s),t):(M=this.sin_p12*r+this.cos_p12*i*Math.cos(s),x=Math.acos(M),T=x?x/Math.sin(x):1,t.x=this.x0+this.a*T*i*Math.sin(s),t.y=this.y0+this.a*T*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),t):(a=to(this.es),o=no(this.es),l=ro(this.es),u=io(this.es),Math.abs(this.sin_p12-1)<=ne?(f=this.a*en(a,o,l,u,H),c=this.a*en(a,o,l,u,n),t.x=this.x0+(f-c)*Math.sin(s),t.y=this.y0-(f-c)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ne?(f=this.a*en(a,o,l,u,H),c=this.a*en(a,o,l,u,n),t.x=this.x0+(f+c)*Math.sin(s),t.y=this.y0+(f+c)*Math.cos(s),t):(h=r/i,d=qs(this.a,this.e,this.sin_p12),p=qs(this.a,this.e,r),m=Math.atan((1-this.es)*h+this.es*d*this.sin_p12/(p*i)),g=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(m)-this.sin_p12*Math.cos(s)),g===0?G=Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.abs(Math.abs(g)-Math.PI)<=ne?G=-Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):G=Math.asin(Math.sin(s)*Math.cos(m)/Math.sin(g)),y=this.e*this.sin_p12/Math.sqrt(1-this.es),v=this.e*this.cos_p12*Math.cos(g)/Math.sqrt(1-this.es),E=y*v,b=v*v,I=G*G,C=I*G,D=C*G,A=D*G,x=d*G*(1-I*b*(1-b)/6+C/8*E*(1-2*b)+D/120*(b*(4-7*b)-3*y*y*(1-7*b))-A/48*E),t.x=this.x0+x*Math.sin(g),t.y=this.y0+x*Math.cos(g),t))}function YN(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a,o,l,u,f,c,h,d,p,m,g,y,v,E,b,x,T,M,G;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*H*this.a?void 0:(n=e/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=ne?a=this.lat0:(a=xi(i*this.sin_p12+t.y*r*this.cos_p12/e),o=Math.abs(this.lat0)-H,Math.abs(o)<=ne?this.lat0>=0?s=ae(this.long0+Math.atan2(t.x,-t.y)):s=ae(this.long0-Math.atan2(-t.x,t.y)):s=ae(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=s,t.y=a,t)):(l=to(this.es),u=no(this.es),f=ro(this.es),c=io(this.es),Math.abs(this.sin_p12-1)<=ne?(h=this.a*en(l,u,f,c,H),e=Math.sqrt(t.x*t.x+t.y*t.y),d=h-e,a=ru(d/this.a,l,u,f,c),s=ae(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=a,t):Math.abs(this.sin_p12+1)<=ne?(h=this.a*en(l,u,f,c,H),e=Math.sqrt(t.x*t.x+t.y*t.y),d=e-h,a=ru(d/this.a,l,u,f,c),s=ae(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),p=qs(this.a,this.e,this.sin_p12),y=Math.cos(g),v=this.e*this.cos_p12*y,E=-v*v/(1-this.es),b=3*this.es*(1-E)*this.sin_p12*this.cos_p12*y/(1-this.es),x=e/p,T=x-E*(1+E)*Math.pow(x,3)/6-b*(1+3*E)*Math.pow(x,4)/24,M=1-E*T*T/2-x*T*T*T/6,m=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*y),s=ae(this.long0+Math.asin(Math.sin(g)*Math.sin(T)/Math.cos(m))),G=Math.sin(m),a=Math.atan2((G-this.es*M*this.sin_p12)*Math.tan(m),G*(1-this.es)),t.x=s,t.y=a,t))}var XN=["Azimuthal_Equidistant","aeqd"];const KN={init:HN,forward:zN,inverse:YN,names:XN};function ZN(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function JN(t){var e,n,r,i,s,a,o,l,u=t.x,f=t.y;return r=ae(u-this.long0),e=Math.sin(f),n=Math.cos(f),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,(a>0||Math.abs(a)<=ne)&&(o=this.a*s*n*Math.sin(r),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function QN(t){var e,n,r,i,s,a,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=xi(e/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=ne?(o=this.lat0,t.x=a,t.y=o,t):(o=xi(i*this.sin_p14+t.y*r*this.cos_p14/e),s=Math.abs(this.lat0)-H,Math.abs(s)<=ne?(this.lat0>=0?a=ae(this.long0+Math.atan2(t.x,-t.y)):a=ae(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=o,t):(a=ae(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=a,t.y=o,t))}var e2=["ortho"];const t2={init:ZN,forward:JN,inverse:QN,names:e2};var lt={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ye={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function n2(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=H-ze/2?this.face=lt.TOP:this.lat0<=-(H-ze/2)?this.face=lt.BOTTOM:Math.abs(this.long0)<=ze?this.face=lt.FRONT:Math.abs(this.long0)<=H+ze?this.face=this.long0>0?lt.RIGHT:lt.LEFT:this.face=lt.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function r2(t){var e={x:0,y:0},n,r,i,s,a,o,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,r=t.x,this.face===lt.TOP)s=H-n,r>=ze&&r<=H+ze?(l.value=Ye.AREA_0,i=r-H):r>H+ze||r<=-(H+ze)?(l.value=Ye.AREA_1,i=r>0?r-vt:r+vt):r>-(H+ze)&&r<=-ze?(l.value=Ye.AREA_2,i=r+H):(l.value=Ye.AREA_3,i=r);else if(this.face===lt.BOTTOM)s=H+n,r>=ze&&r<=H+ze?(l.value=Ye.AREA_0,i=-r+H):r<ze&&r>=-ze?(l.value=Ye.AREA_1,i=-r):r<-ze&&r>=-(H+ze)?(l.value=Ye.AREA_2,i=-r-H):(l.value=Ye.AREA_3,i=r>0?-r+vt:-r-vt);else{var u,f,c,h,d,p,m;this.face===lt.RIGHT?r=zs(r,+H):this.face===lt.BACK?r=zs(r,+vt):this.face===lt.LEFT&&(r=zs(r,-H)),h=Math.sin(n),d=Math.cos(n),p=Math.sin(r),m=Math.cos(r),u=d*m,f=d*p,c=h,this.face===lt.FRONT?(s=Math.acos(u),i=iu(s,c,f,l)):this.face===lt.RIGHT?(s=Math.acos(f),i=iu(s,c,-u,l)):this.face===lt.BACK?(s=Math.acos(-u),i=iu(s,c,-f,l)):this.face===lt.LEFT?(s=Math.acos(-f),i=iu(s,c,u,l)):(s=i=0,l.value=Ye.AREA_0)}return o=Math.atan(12/vt*(i+Math.acos(Math.sin(i)*Math.cos(ze))-H)),a=Math.sqrt((1-Math.cos(s))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===Ye.AREA_1?o+=H:l.value===Ye.AREA_2?o+=vt:l.value===Ye.AREA_3&&(o+=1.5*vt),e.x=a*Math.cos(o),e.y=a*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function i2(t){var e={lam:0,phi:0},n,r,i,s,a,o,l,u,f,c={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?c.value=Ye.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(c.value=Ye.AREA_1,n-=H):t.x<0&&-t.x>=Math.abs(t.y)?(c.value=Ye.AREA_2,n=n<0?n+vt:n-vt):(c.value=Ye.AREA_3,n+=H),f=vt/12*Math.tan(n),a=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),o=Math.atan(a),i=Math.cos(n),s=Math.tan(r),l=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===lt.TOP)u=Math.acos(l),e.phi=H-u,c.value===Ye.AREA_0?e.lam=o+H:c.value===Ye.AREA_1?e.lam=o<0?o+vt:o-vt:c.value===Ye.AREA_2?e.lam=o-H:e.lam=o;else if(this.face===lt.BOTTOM)u=Math.acos(l),e.phi=u-H,c.value===Ye.AREA_0?e.lam=-o+H:c.value===Ye.AREA_1?e.lam=-o:c.value===Ye.AREA_2?e.lam=-o-H:e.lam=o<0?-o-vt:-o+vt;else{var h,d,p;h=l,f=h*h,f>=1?p=0:p=Math.sqrt(1-f)*Math.sin(o),f+=p*p,f>=1?d=0:d=Math.sqrt(1-f),c.value===Ye.AREA_1?(f=d,d=-p,p=f):c.value===Ye.AREA_2?(d=-d,p=-p):c.value===Ye.AREA_3&&(f=d,d=p,p=-f),this.face===lt.RIGHT?(f=h,h=-d,d=f):this.face===lt.BACK?(h=-h,d=-d):this.face===lt.LEFT&&(f=h,h=d,d=-f),e.phi=Math.acos(-p)-H,e.lam=Math.atan2(d,h),this.face===lt.RIGHT?e.lam=zs(e.lam,-H):this.face===lt.BACK?e.lam=zs(e.lam,-vt):this.face===lt.LEFT&&(e.lam=zs(e.lam,+H))}if(this.es!==0){var m,g,y;m=e.phi<0?1:0,g=Math.tan(e.phi),y=this.b/Math.sqrt(g*g+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-y*y)/(this.one_minus_f*y)),m&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function iu(t,e,n,r){var i;return t<ne?(r.value=Ye.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=ze?r.value=Ye.AREA_0:i>ze&&i<=H+ze?(r.value=Ye.AREA_1,i-=H):i>H+ze||i<=-(H+ze)?(r.value=Ye.AREA_2,i=i>=0?i-vt:i+vt):(r.value=Ye.AREA_3,i+=H)),i}function zs(t,e){var n=t+e;return n<-vt?n+=Xa:n>+vt&&(n-=Xa),n}var s2=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const a2={init:n2,forward:r2,inverse:i2,names:s2};var Yf=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],so=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],my=.8487,gy=1.3523,yy=hr/5,o2=1/yy,Ys=18,su=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},l2=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function u2(t,e,n,r){for(var i=e;r;--r){var s=t(i);if(i-=s,Math.abs(s)<n)break}return i}function c2(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function f2(t){var e=ae(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*yy);r<0?r=0:r>=Ys&&(r=Ys-1),n=hr*(n-o2*r);var i={x:su(Yf[r],n)*e,y:su(so[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*my+this.x0,i.y=i.y*this.a*gy+this.y0,i}function h2(t){var e={x:(t.x-this.x0)/(this.a*my),y:Math.abs(t.y-this.y0)/(this.a*gy)};if(e.y>=1)e.x/=Yf[Ys][0],e.y=t.y<0?-H:H;else{var n=Math.floor(e.y*Ys);for(n<0?n=0:n>=Ys&&(n=Ys-1);;)if(so[n][0]>e.y)--n;else if(so[n+1][0]<=e.y)++n;else break;var r=so[n],i=5*(e.y-r[0])/(so[n+1][0]-r[0]);i=u2(function(s){return(su(r,s)-e.y)/l2(r,s)},i,ne,100),e.x/=su(Yf[n],i),e.y=(5*n+i)*It,t.y<0&&(e.y=-e.y)}return e.x=ae(e.x+this.long0),e}var d2=["Robinson","robin"];const p2={init:c2,forward:f2,inverse:h2,names:d2};function m2(){this.name="geocent"}function g2(t){var e=Wg(t,this.es,this.a);return e}function y2(t){var e=qg(t,this.es,this.a,this.b);return e}var v2=["Geocentric","geocentric","geocent","Geocent"];const _2={init:m2,forward:g2,inverse:y2,names:v2};var Bt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},ao={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function b2(){if(Object.keys(ao).forEach(function(n){if(typeof this[n]>"u")this[n]=ao[n].def;else{if(ao[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);ao[n].num&&(this[n]=parseFloat(this[n]))}ao[n].degrees&&(this[n]=this[n]*It)}.bind(this)),Math.abs(Math.abs(this.lat0)-H)<ne?this.mode=this.lat0<0?Bt.S_POLE:Bt.N_POLE:Math.abs(this.lat0)<ne?this.mode=Bt.EQUIT:(this.mode=Bt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function E2(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i,s;switch(this.mode){case Bt.OBLIQ:s=this.sinph0*e+this.cosph0*n*r;break;case Bt.EQUIT:s=n*r;break;case Bt.S_POLE:s=-e;break;case Bt.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),i=s*n*Math.sin(t.x),this.mode){case Bt.OBLIQ:s*=this.cosph0*e-this.sinph0*n*r;break;case Bt.EQUIT:s*=e;break;case Bt.N_POLE:s*=-(n*r);break;case Bt.S_POLE:s*=n*r;break}var a,o;return a=s*this.cg+i*this.sg,o=1/(a*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*o,s=a*o,t.x=i*this.a,t.y=s*this.a,t}function S2(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,r,i;i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var s=An(t.x,t.y);if(Math.abs(s)<ne)e.x=0,e.y=t.y;else{var a,o;switch(o=1-s*s*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/s+s/this.pn1),a=Math.sqrt(1-o*o),this.mode){case Bt.OBLIQ:e.y=Math.asin(a*this.sinph0+t.y*o*this.cosph0/s),t.y=(a-this.sinph0*Math.sin(e.y))*s,t.x*=o*this.cosph0;break;case Bt.EQUIT:e.y=Math.asin(t.y*o/s),t.y=a*s,t.x*=o;break;case Bt.N_POLE:e.y=Math.asin(a),t.y=-t.y;break;case Bt.S_POLE:e.y=-Math.asin(a);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var w2=["Tilted_Perspective","tpers"];const O2={init:b2,forward:E2,inverse:S2,names:w2};function x2(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function M2(t){var e=t.x,n=t.y,r,i,s,a;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var o=this.radius_p/An(this.radius_p*Math.cos(n),Math.sin(n));if(i=o*Math.cos(e)*Math.cos(n),s=o*Math.sin(e)*Math.cos(n),a=o*Math.sin(n),(this.radius_g-i)*i-s*s-a*a*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/An(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/An(s,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(e)*r,s=Math.sin(e)*r,a=Math.sin(n),r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/An(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/An(s,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function T2(t){var e=-1,n=0,r=0,i,s,a,o;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*An(1,r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*An(1,n));var l=r/this.radius_p;if(i=n*n+l*l+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var N2=["Geostationary Satellite View","Geostationary_Satellite","geos"];const L2={init:x2,forward:M2,inverse:T2,names:N2};var oo=1.340264,lo=-.081106,uo=893e-6,co=.003796,au=Math.sqrt(3)/2;function C2(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function A2(t){var e=ae(t.x-this.long0),n=t.y,r=Math.asin(au*Math.sin(n)),i=r*r,s=i*i*i;return t.x=e*Math.cos(r)/(au*(oo+3*lo*i+s*(7*uo+9*co*i))),t.y=r*(oo+lo*i+s*(uo+co*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function P2(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,r=t.y,i,s,a,o,l,u;for(u=0;u<n&&(i=r*r,s=i*i*i,a=r*(oo+lo*i+s*(uo+co*i))-t.y,o=oo+3*lo*i+s*(7*uo+9*co*i),r-=l=a/o,!(Math.abs(l)<e));++u);return i=r*r,s=i*i*i,t.x=au*t.x*(oo+3*lo*i+s*(7*uo+9*co*i))/Math.cos(r),t.y=Math.asin(Math.sin(r)/au),t.x=ae(t.x+this.long0),t}var D2=["eqearth","Equal Earth","Equal_Earth"];const I2={init:C2,forward:A2,inverse:P2,names:D2};function k2(t){t.Proj.projections.add(tu),t.Proj.projections.add(nu),t.Proj.projections.add(RM),t.Proj.projections.add(HM),t.Proj.projections.add(JM),t.Proj.projections.add(rT),t.Proj.projections.add(uT),t.Proj.projections.add(pT),t.Proj.projections.add(_T),t.Proj.projections.add(OT),t.Proj.projections.add(GT),t.Proj.projections.add(zT),t.Proj.projections.add(JT),t.Proj.projections.add(iN),t.Proj.projections.add(uN),t.Proj.projections.add(pN),t.Proj.projections.add(_N),t.Proj.projections.add(ON),t.Proj.projections.add(CN),t.Proj.projections.add(kN),t.Proj.projections.add(jN),t.Proj.projections.add(qN),t.Proj.projections.add(KN),t.Proj.projections.add(t2),t.Proj.projections.add(a2),t.Proj.projections.add(p2),t.Proj.projections.add(_2),t.Proj.projections.add(O2),t.Proj.projections.add(L2),t.Proj.projections.add(I2)}Ut.defaultDatum="WGS84",Ut.Proj=mr,Ut.WGS84=new Ut.Proj("WGS84"),Ut.Point=Bs,Ut.toPoint=Xg,Ut.defs=Qt,Ut.nadgrid=Fx,Ut.transform=Ql,Ut.mgrs=eM,Ut.version="__VERSION__",k2(Ut);function R2(){var t,e,n;Ut.defs("EPSG:32632","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs"),Ut.defs("EPSG:32631","+proj=utm +zone=31 +datum=WGS84 +units=m +no_defs"),Ut.defs("EPSG:2169","+proj=tmerc +lat_0=49.83333333333334 +lon_0=6.166666666666667 +k=1 +x_0=80000 +y_0=100000 +ellps=intl +towgs84=-189.681,18.3463,-42.7695,-0.33746,-3.09264,2.53861,0.4598 +units=m +no_defs"),Ui.register(Ut),(t=mt.get("EPSG:32632"))==null||t.setExtent([166021.44,0,833978.55,932900518e-2]),(e=mt.get("EPSG:32631"))==null||e.setExtent([166021.44,0,833978.55,932900518e-2]),(n=mt.get("EPSG:2169"))==null||n.setExtent([48225.17,56225.6,105842.04,139616.4])}function vy(t,e,n){const r=pe(t);class i extends Xf{constructor(a){super(r,a,e,n)}}return nt(i,"def",r),i}const $2=typeof HTMLElement<"u"?HTMLElement:class{};class Xf extends $2{constructor(n,r={},i={},s){super();nt(this,"_instance",null);nt(this,"_connected",!1);nt(this,"_resolved",!1);nt(this,"_numberProps",null);nt(this,"_styles");nt(this,"_slots");this._def=n,this._props=r,this._config=i,this._config=tt({shadowRoot:!0},this._config),this._config.shadowRoot?this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def)):s&&s(this._createVNode(),this._root)}get _root(){return this._config.shadowRoot?this.shadowRoot:this}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,gl(()=>{this._connected||(eg(null,this._root),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const n=(i,s=!1)=>{const{props:a,styles:o}=i;let l;if(a&&!ue(a))for(const u in a){const f=a[u];(f===Number||f&&f.type===Number)&&(u in this._props&&(this._props[u]=Tc(this._props[u])),(l||(l=Object.create(null)))[pn(u)]=!0)}this._numberProps=l,s&&this._resolveProps(i),this._applyStyles(o),this._update()},r=this._def.__asyncLoader;r?r().then(i=>n(i,!0)):n(this._def)}_resolveProps(n){const{props:r}=n,i=ue(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(pn))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(a){this._setProp(s,a)}})}_setAttr(n){let r=this.getAttribute(n);const i=pn(n);this._numberProps&&this._numberProps[i]&&(r=Tc(r)),this._setProp(i,r,!1)}_getProp(n){return this._props[n]}_setProp(n,r,i=!0,s=!0){r!==this._props[n]&&(this._props[n]=r,s&&this._instance&&this._update(),i&&(r===!0?this.setAttribute(sn(n),""):typeof r=="string"||typeof r=="number"?this.setAttribute(sn(n),r+""):r||this.removeAttribute(sn(n))))}_update(){eg(this._createVNode(),this._root)}_createVNode(){const n=te(this._def,tt({},this._props));return this._instance||(n.ce=r=>{this._instance=r,r.isCE=!0;const i=(a,o)=>{this.dispatchEvent(new CustomEvent(a,{detail:o}))};r.emit=(a,...o)=>{i(a,o),sn(a)!==a&&i(sn(a),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof Xf){r.parent=s._instance,r.provides=s._instance.provides;break}}),n}_applyStyles(n){n&&n.forEach(r=>{const i=document.createElement("style");i.textContent=r,this._root.appendChild(i)})}}const B6="";var fo=(t=>(t.INFO="alert-info",t.WARNING="alert-warning",t.ERROR="alert-danger",t))(fo||{});const F2=fo.INFO,V2=7e3,j2=4e3,ou=Si("alert-notifications",()=>{const t=ve([]);function e(r,i=F2,s){const a={message:r,type:i,duration:s!=null?s:i===fo.WARNING?j2:V2};t.value.push(a)}function n(r){t.value.splice(r,1)}return{notifications:t,addNotification:e,removeNotification:n}},{}),G2=pe({__name:"notification-item",props:{notification:{type:Object,required:!0}},emits:["close"],setup(t){const e=t,n=st(!0);function r(i,s){setTimeout(()=>{n.value=!1},e.notification.duration),s()}return(i,s)=>{const a=Kc("dompurify-html");return P(),je(kl,{name:"fade-out",appear:"","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0",onEnter:r,onAfterLeave:s[0]||(s[0]=o=>i.$emit("close"))},{default:fi(()=>[n.value?Sl((P(),F("div",{key:0,class:Pe(["lux-alert",`lux-${e.notification.type}`]),role:"alert"},null,2)),[[a,e.notification.message]]):$("v-if",!0)]),_:1})}}}),me=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},U2=me(G2,[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/alert-notifications/notification-item.vue"]]),B2={key:0,class:"lux-notifications fixed w-[500px] top-10 left-1/2 ml-[-250px] z-50"},_y=me(pe({__name:"alert-notifications",setup(t){const e=ou(),{notifications:n}=ke(e);function r(i){e.removeNotification(i)}return(i,s)=>(P(),je(Em,{to:"body"},[S(n).length?(P(),F("div",B2,[(P(!0),F(Ue,null,xn(S(n),(a,o)=>(P(),je(U2,{key:o,notification:a,onClose:()=>r(o)},null,8,["notification","onClose"]))),128))])):$("v-if",!0)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/alert-notifications/alert-notifications.vue"]]),W2={class:"lux-dropdown"},q2={class:"h-full"},H2=["aria-expanded"],z2=L("span",{class:"lux-caret"},null,-1),Y2={class:"lux-dropdown-wrapper"},X2=["aria-label","data-value"],Kf=me(pe({__name:"dropdown-list",props:{placeholder:{type:String,required:!0},options:{type:Array,required:!0,default:()=>[{label:"Default label",value:"Default value"}]},modelValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=st(!1),s=st();function a(f){i.value=f===void 0?!i.value:f}function o(f){f.stopImmediatePropagation(),a()}function l(f){s.value=f.target.dataset.value,r("change",s.value)}function u(){a(!1)}return gn(()=>document.addEventListener("click",u)),hi(()=>document.removeEventListener("click",u)),(f,c)=>{var h,d;return P(),F("div",W2,[L("div",q2,[L("button",{type:"button",class:Pe(["lux-btn lux-dropdown-btn",i.value?"expanded":""]),"aria-expanded":i.value,"aria-haspopup":"true",onClick:o},[L("span",null,oe((d=n.placeholder)!=null?d:(h=n.options[0])==null?void 0:h.label),1),z2],10,H2)]),L("div",Y2,[L("ul",{class:Pe(["lux-dropdown-list",i.value?"":"hidden"]),tabindex:"-1"},[(P(!0),F(Ue,null,xn(n.options,p=>(P(),F("li",{key:p.value,class:Pe(f.modelValue===p.value?"selected":"")},[L("button",{class:"lux-dropdown-list-item","aria-label":p.ariaLabel,"data-value":p.value,onClick:l},oe(p.label),9,X2)],2))),128))],2)])])}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/dropdown-list.vue"]]);var Zf=(t=>(t.ON_LAYER_TYPE="ON_LAYER_TYPE",t))(Zf||{});const ho="EPSG:3857",by="EPSG:4326",K2="EPSG:2169";let Jf;const Ey=st();function Pn(){function t(){return Jf}function e(){return Ey.value=Jf=new E1.default({view:new S1.default({zoom:10,center:[682439,6379152],multiWorld:!0}),controls:[],keyboardEventTarget:document}),Jf}function n(c,h){return c.id===h.id}function r(c,h){return c===h}function i(c,h){var d;return(d=c.layers)==null?void 0:d.some(p=>n(p,h))}function s(c,h){var p;const d=(p=c==null?void 0:c.layers)==null?void 0:p.find(m=>n(m,h));return!r(d,h)}function a(c,h){return!(h===null||!("layers"in c)||!("layers"in h)||typeof h.layers>"u"||typeof c.layers>"u"||c.layers===h.layers)}function o(c,h){return!("layers"in c)||typeof c.layers>"u"?[]:h===null||!("layers"in h)?c.layers.map((d,p)=>({layer:d,position:p})):c.layers===h.layers?[]:c.layers.reduce((d,p,m)=>i(h,p)?d:[...d,{layer:p,position:m}],[])}function l(c,h){return a(c,h)?h.layers.reduce((d,p)=>i(c,p)?d:[...d,p],[]):[]}function u(c,h){return a(c,h)?c.layers.reduce((d,p)=>s(h,p)?[...d,p]:d,[]):[]}function f(c,h,d){var g,y;const p=(g=h.layers)==null?void 0:g.find(v=>v.id===c),m=(y=d==null?void 0:d.layers)==null?void 0:y.find(v=>v.id===c);return(p==null?void 0:p.type)!==(m==null?void 0:m.type)?Zf.ON_LAYER_TYPE:null}return{olMap:Ey,getOlMap:t,createMap:e,equalsLayer:n,hasLayer:i,layerHasChanged:s,contextHasChanged:a,getAddedLayers:o,getRemovedLayers:l,getMutatedLayers:u,getMutationType:f}}const Xs=new Map;function Sy(){Xs.clear()}function Dn(t){return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(t)}function gr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z2(t,e){if(Dn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wy(t){var e=Z2(t,"string");return Dn(e)=="symbol"?e:e+""}function Oy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wy(r.key),r)}}function yr(t,e,n){return e&&Oy(t.prototype,e),n&&Oy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qf(t,e){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Qf(t,e)}function lu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qf(t,e)}function po(t,e){if(e&&(Dn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mi(t)}function vr(t){return vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vr(t)}function Ti(t,e,n){return(e=wy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J2(t){if(Array.isArray(t))return t}function Q2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function eL(t,e){if(t){if(typeof t=="string")return xy(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xy(t,e):void 0}}function tL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nL(t){return J2(t)||Q2(t)||eL(t)||tL()}function My(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?My(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var rL={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},iL=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};gr(this,t),this.init(e,n)}return yr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||rL,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,Ty(Ty({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),_r=new iL,Ni=function(){function t(){gr(this,t),this.observers={}}return yr(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(!!this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var a=[].concat(this.observers[n]);a.forEach(function(l){l.apply(void 0,i)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(l){l.apply(l,[n].concat(i))})}}}]),t}();function mo(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function Ny(t){return t==null?"":""+t}function sL(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function eh(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var a=r(s.shift());!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function Ly(t,e,n){var r=eh(t,e,Object),i=r.obj,s=r.k;i[s]=n}function aL(t,e,n,r){var i=eh(t,e,Object),s=i.obj,a=i.k;s[a]=s[a]||[],r&&(s[a]=s[a].concat(n)),r||s[a].push(n)}function uu(t,e){var n=eh(t,e),r=n.obj,i=n.k;if(!!r)return r[i]}function oL(t,e,n){var r=uu(t,n);return r!==void 0?r:uu(e,n)}function Cy(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):Cy(t[r],e[r],n):t[r]=e[r]);return t}function Ks(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var lL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function uL(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return lL[e]}):t}var cu=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,cL=[" ",",","?","!",";"];function fL(t,e,n){e=e||"",n=n||"";var r=cL.filter(function(o){return e.indexOf(o)<0&&n.indexOf(o)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(o){return o==="?"?"\\?":o}).join("|"),")")),s=!i.test(t);if(!s){var a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s}function fu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var a=2,o=r.slice(s,s+a).join(n),l=i[o];l===void 0&&r.length>s+a;)a++,o=r.slice(s,s+a).join(n),l=i[o];if(l===void 0)return;if(l===null)return null;if(e.endsWith(o)){if(typeof l=="string")return l;if(o&&typeof l[o]=="string")return l[o]}var u=r.slice(s+a).join(n);return u?fu(l,u,n):void 0}i=i[r[s]]}return i}}function Ay(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ay(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ay(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hL(t){var e=dL();return function(){var r=vr(t),i;if(e){var s=vr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return po(this,i)}}function dL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var pL=function(t){lu(n,t);var e=hL(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return gr(this,n),i=e.call(this),cu&&Ni.call(Mi(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return yr(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[i,s];a&&typeof a!="string"&&(f=f.concat(a)),a&&typeof a=="string"&&(f=f.concat(l?a.split(l):a)),i.indexOf(".")>-1&&(f=i.split("."));var c=uu(this.data,f);return c||!u||typeof a!="string"?c:fu(this.data&&this.data[i]&&this.data[i][s],a,l)}},{key:"addResource",value:function(i,s,a,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,f=[i,s];a&&(f=f.concat(u?a.split(u):a)),i.indexOf(".")>-1&&(f=i.split("."),o=s,s=f[1]),this.addNamespaces(s),Ly(this.data,f,o),l.silent||this.emit("added",i,s,a,o)}},{key:"addResources",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in a)(typeof a[l]=="string"||Object.prototype.toString.apply(a[l])==="[object Array]")&&this.addResource(i,s,l,a[l],{silent:!0});o.silent||this.emit("added",i,s,a)}},{key:"addResourceBundle",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[i,s];i.indexOf(".")>-1&&(f=i.split("."),o=a,a=s,s=f[1]),this.addNamespaces(s);var c=uu(this.data,f)||{};o?Cy(c,a,l):c=hu(hu({},c),a),Ly(this.data,f,c),u.silent||this.emit("added",i,s,a)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?hu(hu({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),a=s&&Object.keys(s)||[];return!!a.find(function(o){return s[o]&&Object.keys(s[o]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Ni),Py={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var a=this;return e.forEach(function(o){a.processors[o]&&(n=a.processors[o].process(n,r,i,s))}),n}};function Dy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dy(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mL(t){var e=gL();return function(){var r=vr(t),i;if(e){var s=vr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return po(this,i)}}function gL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Iy={},ky=function(t){lu(n,t);var e=mL(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return gr(this,n),i=e.call(this),cu&&Ni.call(Mi(i)),sL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Mi(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=_r.create("translator"),i}return yr(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var a=this.resolve(i,s);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(i,s){var a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS||[],u=a&&i.indexOf(a)>-1,f=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!fL(i,a,o);if(u&&!f){var c=i.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:i,namespaces:l};var h=i.split(a);(a!==o||a===o&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),i=h.join(o)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,a){var o=this;if(Dn(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),Dn(s)==="object"&&(s=Wt({},s)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=this.extractFromKey(i[i.length-1],s),c=f.key,h=f.namespaces,d=h[h.length-1],p=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(m){var g=s.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(d).concat(g).concat(c),usedKey:c,exactUsedKey:c,usedLng:p,usedNS:d}:"".concat(d).concat(g).concat(c)}return l?{res:c,usedKey:c,exactUsedKey:c,usedLng:p,usedNS:d}:c}var y=this.resolve(i,s),v=y&&y.res,E=y&&y.usedKey||c,b=y&&y.exactUsedKey||c,x=Object.prototype.toString.apply(v),T=["[object Number]","[object Function]","[object RegExp]"],M=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,G=!this.i18nFormat||this.i18nFormat.handleAsObject,I=typeof v!="string"&&typeof v!="boolean"&&typeof v!="number";if(G&&v&&I&&T.indexOf(x)<0&&!(typeof M=="string"&&x==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,v,Wt(Wt({},s),{},{ns:h})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return l?(y.res=C,y):C}if(u){var D=x==="[object Array]",A=D?[]:{},Q=D?b:E;for(var he in v)if(Object.prototype.hasOwnProperty.call(v,he)){var N="".concat(Q).concat(u).concat(he);A[he]=this.translate(N,Wt(Wt({},s),{joinArrays:!1,ns:h})),A[he]===N&&(A[he]=v[he])}v=A}}else if(G&&typeof M=="string"&&x==="[object Array]")v=v.join(M),v&&(v=this.extendTranslation(v,i,s,a));else{var R=!1,z=!1,Z=s.count!==void 0&&typeof s.count!="string",Ae=n.hasDefaultValue(s),De=Z?this.pluralResolver.getSuffix(p,s.count,s):"",Et=s["defaultValue".concat(De)]||s.defaultValue;!this.isValidLookup(v)&&Ae&&(R=!0,v=Et),this.isValidLookup(v)||(z=!0,v=c);var Xt=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Ne=Xt&&z?void 0:v,$t=Ae&&Et!==v&&this.options.updateMissing;if(z||R||$t){if(this.logger.log($t?"updateKey":"missingKey",p,d,c,$t?Et:v),u){var ct=this.resolve(c,Wt(Wt({},s),{},{keySeparator:!1}));ct&&ct.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Tr=[],Re=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Re&&Re[0])for(var fn=0;fn<Re.length;fn++)Tr.push(Re[fn]);else this.options.saveMissingTo==="all"?Tr=this.languageUtils.toResolveHierarchy(s.lng||this.language):Tr.push(s.lng||this.language);var Nr=function(Ft,Lr,ei){var _=Ae&&ei!==v?ei:Ne;o.options.missingKeyHandler?o.options.missingKeyHandler(Ft,d,Lr,_,$t,s):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(Ft,d,Lr,_,$t,s),o.emit("missingKey",Ft,d,Lr,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Z?Tr.forEach(function(Qr){o.pluralResolver.getSuffixes(Qr,s).forEach(function(Ft){Nr([Qr],c+Ft,s["defaultValue".concat(Ft)]||Et)})}):Nr(Tr,c,Et))}v=this.extendTranslation(v,i,s,y,a),z&&v===c&&this.options.appendNamespaceToMissingKey&&(v="".concat(d,":").concat(c)),(z||R)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(c):c,R?v:void 0):v=this.options.parseMissingKeyHandler(v))}return l?(y.res=v,y):v}},{key:"extendTranslation",value:function(i,s,a,o,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Wt(Wt({},this.options.interpolation.defaultVariables),a),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(Wt(Wt({},a),{interpolation:Wt(Wt({},this.options.interpolation),a.interpolation)}));var f=typeof i=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(f){var h=i.match(this.interpolator.nestingRegexp);c=h&&h.length}var d=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(d=Wt(Wt({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,a.lng||this.language,a),f){var p=i.match(this.interpolator.nestingRegexp),m=p&&p.length;c<m&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(a.lng=o.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var v=arguments.length,E=new Array(v),b=0;b<v;b++)E[b]=arguments[b];return l&&l[0]===E[0]&&!a.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(E[0]," in key: ").concat(s[0])),null):u.translate.apply(u,E.concat([s]))},a)),a.interpolation&&this.interpolator.reset()}var g=a.postProcess||this.options.postProcess,y=typeof g=="string"?[g]:g;return i!=null&&y&&y.length&&a.applyPostProcessor!==!1&&(i=Py.handle(y,i,s,this.options&&this.options.postProcessPassResolved?Wt({i18nResolved:o},a):a,this)),i}},{key:"resolve",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,l,u,f,c;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!s.isValidLookup(o)){var d=s.extractFromKey(h,a),p=d.key;l=p;var m=d.namespaces;s.options.fallbackNS&&(m=m.concat(s.options.fallbackNS));var g=a.count!==void 0&&typeof a.count!="string",y=g&&!a.ordinal&&a.count===0&&s.pluralResolver.shouldUseIntlApi(),v=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",E=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);m.forEach(function(b){s.isValidLookup(o)||(c=b,!Iy["".concat(E[0],"-").concat(b)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(c)&&(Iy["".concat(E[0],"-").concat(b)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(E.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(function(x){if(!s.isValidLookup(o)){f=x;var T=[p];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(T,p,x,b,a);else{var M;g&&(M=s.pluralResolver.getSuffix(x,a.count,a));var G="".concat(s.options.pluralSeparator,"zero");if(g&&(T.push(p+M),y&&T.push(p+G)),v){var I="".concat(p).concat(s.options.contextSeparator).concat(a.context);T.push(I),g&&(T.push(I+M),y&&T.push(I+G))}}for(var C;C=T.pop();)s.isValidLookup(o)||(u=C,o=s.getResource(x,b,C,a))}}))})}}),{res:o,usedKey:l,exactUsedKey:u,usedLng:f,usedNS:c}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,a,o):this.resourceStore.getResource(i,s,a,o)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&s===a.substring(0,s.length)&&i[a]!==void 0)return!0;return!1}}]),n}(Ni);function th(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Ry=function(){function t(e){gr(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_r.create("languageUtils")}return yr(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=th(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=th(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=th(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var a=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(a))&&(i=a)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var a=r.getLanguagePartFromCode(s);if(r.isSupportedCode(a))return i=a;i=r.options.supportedLngs.find(function(o){if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&o.indexOf(a)===0)return o})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),a=[],o=function(u){!u||(i.isSupportedCode(u)?a.push(u):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(n))):typeof n=="string"&&o(this.formatLanguageCode(n)),s.forEach(function(l){a.indexOf(l)<0&&o(i.formatLanguageCode(l))}),a}}]),t}(),yL=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],vL={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},_L=["v1","v2","v3"],$y={zero:0,one:1,two:2,few:3,many:4,other:5};function bL(){var t={};return yL.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:vL[e.fc]}})}),t}var EL=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};gr(this,t),this.languageUtils=e,this.options=n,this.logger=_r.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=bL()}return yr(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(a,o){return $y[a]-$y[o]}).map(function(a){return"".concat(r.options.prepend).concat(a)}):s.numbers.map(function(a){return r.getSuffix(n,a,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),a=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var o=function(){return i.options.prepend&&a.toString()?i.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?o():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!_L.includes(this.options.compatibilityJSON)}}]),t}();function Fy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fy(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vy(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=oL(t,e,n);return!s&&i&&typeof n=="string"&&(s=fu(t,n,r),s===void 0&&(s=fu(e,n,r))),s}var SL=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};gr(this,t),this.logger=_r.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return yr(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:uL,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Ks(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Ks(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Ks(r.nestingPrefix):r.nestingPrefixEscaped||Ks("$t("),this.nestingSuffix=r.nestingSuffix?Ks(r.nestingSuffix):r.nestingSuffixEscaped||Ks(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var a=this,o,l,u,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(g){return g.replace(/\$/g,"$$$$")}var h=function(y){if(y.indexOf(a.formatSeparator)<0){var v=Vy(r,f,y,a.options.keySeparator,a.options.ignoreJSONStructure);return a.alwaysFormat?a.format(v,void 0,i,Xn(Xn(Xn({},s),r),{},{interpolationkey:y})):v}var E=y.split(a.formatSeparator),b=E.shift().trim(),x=E.join(a.formatSeparator).trim();return a.format(Vy(r,f,b,a.options.keySeparator,a.options.ignoreJSONStructure),x,i,Xn(Xn(Xn({},s),r),{},{interpolationkey:b}))};this.resetRegExp();var d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,p=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(y){return c(y)}},{regex:this.regexp,safeValue:function(y){return a.escapeValue?c(a.escape(y)):c(y)}}];return m.forEach(function(g){for(u=0;o=g.regex.exec(n);){var y=o[1].trim();if(l=h(y),l===void 0)if(typeof d=="function"){var v=d(n,o,s);l=typeof v=="string"?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))l="";else if(p){l=o[0];continue}else a.logger.warn("missed to pass in variable ".concat(y," for interpolating ").concat(n)),l="";else typeof l!="string"&&!a.useRawValueToEscape&&(l=Ny(l));var E=g.safeValue(l);if(n=n.replace(o[0],E),p?(g.regex.lastIndex+=l.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,u++,u>=a.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,l;function u(d,p){var m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;var g=d.split(new RegExp("".concat(m,"[ ]*{"))),y="{".concat(g[1]);d=g[0],y=this.interpolate(y,l);var v=y.match(/'/g),E=y.match(/"/g);(v&&v.length%2===0&&!E||E.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),p&&(l=Xn(Xn({},p),l))}catch(b){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),b),"".concat(d).concat(m).concat(y)}return delete l.defaultValue,d}for(;a=this.nestingRegexp.exec(n);){var f=[];l=Xn({},s),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var c=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var h=a[1].split(this.formatSeparator).map(function(d){return d.trim()});a[1]=h.shift(),f=h,c=!0}if(o=r(u.call(this,a[1].trim(),l),l),o&&a[0]===n&&typeof o!="string")return o;typeof o!="string"&&(o=Ny(o)),o||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(n)),o=""),c&&(o=f.reduce(function(d,p){return i.format(d,p,s.lng,Xn(Xn({},s),{},{interpolationkey:a[1].trim()}))},o.trim())),n=n.replace(a[0],o),this.regexp.lastIndex=0}return n}}]),t}();function jy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jy(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wL(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(a){if(!!a){var o=a.split(":"),l=nL(o),u=l[0],f=l.slice(1),c=f.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=c),c==="false"&&(n[u.trim()]=!1),c==="true"&&(n[u.trim()]=!0),isNaN(c)||(n[u.trim()]=parseInt(c,10))}})}}return{formatName:e,formatOptions:n}}function Zs(t){var e={};return function(r,i,s){var a=i+JSON.stringify(s),o=e[a];return o||(o=t(i,s),e[a]=o),o(r)}}var OL=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};gr(this,t),this.logger=_r.create("formatter"),this.options=e,this.formats={number:Zs(function(n,r){var i=new Intl.NumberFormat(n,Gr({},r));return function(s){return i.format(s)}}),currency:Zs(function(n,r){var i=new Intl.NumberFormat(n,Gr(Gr({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:Zs(function(n,r){var i=new Intl.DateTimeFormat(n,Gr({},r));return function(s){return i.format(s)}}),relativetime:Zs(function(n,r){var i=new Intl.RelativeTimeFormat(n,Gr({},r));return function(s){return i.format(s,r.range||"day")}}),list:Zs(function(n,r){var i=new Intl.ListFormat(n,Gr({},r));return function(s){return i.format(s)}})},this.init(e)}return yr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=Zs(r)}},{key:"format",value:function(n,r,i){var s=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=r.split(this.formatSeparator),l=o.reduce(function(u,f){var c=wL(f),h=c.formatName,d=c.formatOptions;if(s.formats[h]){var p=u;try{var m=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},g=m.locale||m.lng||a.locale||a.lng||i;p=s.formats[h](u,g,Gr(Gr(Gr({},d),a),m))}catch(y){s.logger.warn(y)}return p}else s.logger.warn("there was no format function for ".concat(h));return u},n);return l}}]),t}();function Gy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gy(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xL(t){var e=ML();return function(){var r=vr(t),i;if(e){var s=vr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return po(this,i)}}function ML(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function TL(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var NL=function(t){lu(n,t);var e=xL(n);function n(r,i,s){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return gr(this,n),a=e.call(this),cu&&Ni.call(Mi(a)),a.backend=r,a.store=i,a.services=s,a.languageUtils=s.languageUtils,a.options=o,a.logger=_r.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(s,o.backend,o),a}return yr(n,[{key:"queueLoad",value:function(i,s,a,o){var l=this,u={},f={},c={},h={};return i.forEach(function(d){var p=!0;s.forEach(function(m){var g="".concat(d,"|").concat(m);!a.reload&&l.store.hasResourceBundle(d,m)?l.state[g]=2:l.state[g]<0||(l.state[g]===1?f[g]===void 0&&(f[g]=!0):(l.state[g]=1,p=!1,f[g]===void 0&&(f[g]=!0),u[g]===void 0&&(u[g]=!0),h[m]===void 0&&(h[m]=!0)))}),p||(c[d]=!0)}),(Object.keys(u).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(u),pending:Object.keys(f),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,s,a){var o=i.split("|"),l=o[0],u=o[1];s&&this.emit("failedLoading",l,u,s),a&&this.store.addResourceBundle(l,u,a),this.state[i]=s?-1:2;var f={};this.queue.forEach(function(c){aL(c.loaded,[l],u),TL(c,i),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(function(h){f[h]||(f[h]={});var d=c.loaded[h];d.length&&d.forEach(function(p){f[h][p]===void 0&&(f[h][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(i,s,a){var o=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:a,tried:l,wait:u,callback:f});return}this.readingCalls++;var c=function(m,g){if(o.readingCalls--,o.waitingReads.length>0){var y=o.waitingReads.shift();o.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(m&&g&&l<o.maxRetries){setTimeout(function(){o.read.call(o,i,s,a,l+1,u*2,f)},u);return}f(m,g)},h=this.backend[a].bind(this.backend);if(h.length===2){try{var d=h(i,s);d&&typeof d.then=="function"?d.then(function(p){return c(null,p)}).catch(c):c(null,d)}catch(p){c(p)}return}return h(i,s,c)}},{key:"prepareLoading",value:function(i,s){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,o,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(f){a.loadOne(f)})}},{key:"load",value:function(i,s,a){this.prepareLoading(i,s,{},a)}},{key:"reload",value:function(i,s,a){this.prepareLoading(i,s,{reload:!0},a)}},{key:"loadOne",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=i.split("|"),l=o[0],u=o[1];this.read(l,u,"read",void 0,void 0,function(f,c){f&&s.logger.warn("".concat(a,"loading namespace ").concat(u," for language ").concat(l," failed"),f),!f&&c&&s.logger.log("".concat(a,"loaded namespace ").concat(u," for language ").concat(l),c),s.loaded(i,f,c)})}},{key:"saveMissing",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var c=Uy(Uy({},u),{},{isUpdate:l}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var d;h.length===5?d=h(i,s,a,o,c):d=h(i,s,a,o),d&&typeof d.then=="function"?d.then(function(p){return f(null,p)}).catch(f):f(null,d)}catch(p){f(p)}else h(i,s,a,o,f,c)}!i||!i[0]||this.store.addResource(i[0],s,a,o)}}}]),n}(Ni);function By(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(Dn(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),Dn(e[2])==="object"||Dn(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Wy(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function qy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qy(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LL(t){var e=CL();return function(){var r=vr(t),i;if(e){var s=vr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return po(this,i)}}function CL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function du(){}function AL(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var pu=function(t){lu(n,t);var e=LL(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(gr(this,n),r=e.call(this),cu&&Ni.call(Mi(r)),r.options=Wy(i),r.services={},r.logger=_r,r.modules={external:[]},AL(Mi(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),po(r,Mi(r));setTimeout(function(){r.init(i,s)},0)}return r}return yr(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var o=By();this.options=br(br(br({},o),this.options),Wy(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=br(br({},o.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function l(y){return y?typeof y=="function"?new y:y:null}if(!this.options.isClone){this.modules.logger?_r.init(l(this.modules.logger),this.options):_r.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=OL);var f=new Ry(this.options);this.store=new pL(this.options.resources,this.options);var c=this.services;c.logger=_r,c.resourceStore=this.store,c.languageUtils=f,c.pluralResolver=new EL(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(c.formatter=l(u),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new SL(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new NL(l(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(y){for(var v=arguments.length,E=new Array(v>1?v-1:0),b=1;b<v;b++)E[b-1]=arguments[b];i.emit.apply(i,[y].concat(E))}),this.modules.languageDetector&&(c.languageDetector=l(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=l(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new ky(this.services,this.options),this.translator.on("*",function(y){for(var v=arguments.length,E=new Array(v>1?v-1:0),b=1;b<v;b++)E[b-1]=arguments[b];i.emit.apply(i,[y].concat(E))}),this.modules.external.forEach(function(y){y.init&&y.init(i)})}if(this.format=this.options.interpolation.format,a||(a=du),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(y){i[y]=function(){var v;return(v=i.store)[y].apply(v,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(y){i[y]=function(){var v;return(v=i.store)[y].apply(v,arguments),i}});var m=mo(),g=function(){var v=function(b,x){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),m.resolve(x),a(b,x)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return v(null,i.t.bind(i));i.changeLanguage(i.options.lng,v)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),m}},{key:"loadResources",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:du,o=a,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(o=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return o();var u=[],f=function(d){if(!!d){var p=s.services.languageUtils.toResolveHierarchy(d);p.forEach(function(m){u.indexOf(m)<0&&u.push(m)})}};if(l)f(l);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(h){return f(h)})}this.options.preload&&this.options.preload.forEach(function(h){return f(h)}),this.services.backendConnector.load(u,this.options.ns,function(h){!h&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),o(h)})}else o(null)}},{key:"reloadResources",value:function(i,s,a){var o=mo();return i||(i=this.languages),s||(s=this.options.ns),a||(a=du),this.services.backendConnector.reload(i,s,function(l){o.resolve(),a(l)}),o}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&Py.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(i,s){var a=this;this.isLanguageChangingTo=i;var o=mo();this.emit("languageChanging",i);var l=function(h){a.language=h,a.languages=a.services.languageUtils.toResolveHierarchy(h),a.resolvedLanguage=void 0,a.setResolvedLanguage(h)},u=function(h,d){d?(l(d),a.translator.changeLanguage(d),a.isLanguageChangingTo=void 0,a.emit("languageChanged",d),a.logger.log("languageChanged",d)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),s&&s(h,function(){return a.t.apply(a,arguments)})},f=function(h){!i&&!h&&a.services.languageDetector&&(h=[]);var d=typeof h=="string"?h:a.services.languageUtils.getBestMatchFromCodes(h);d&&(a.language||l(d),a.translator.language||a.translator.changeLanguage(d),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(d)),a.loadResources(d,function(p){u(p,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),o}},{key:"getFixedT",value:function(i,s,a){var o=this,l=function u(f,c){var h;if(Dn(c)!=="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),m=2;m<d;m++)p[m-2]=arguments[m];h=o.options.overloadTranslationOptionHandler([f,c].concat(p))}else h=br({},c);h.lng=h.lng||u.lng,h.lngs=h.lngs||u.lngs,h.ns=h.ns||u.ns,h.keyPrefix=h.keyPrefix||a||u.keyPrefix;var g=o.options.keySeparator||".",y;return h.keyPrefix&&Array.isArray(f)?y=f.map(function(v){return"".concat(h.keyPrefix).concat(g).concat(v)}):y=h.keyPrefix?"".concat(h.keyPrefix).concat(g).concat(f):f,o.t(y,h)};return typeof i=="string"?l.lng=i:l.lngs=i,l.ns=s,l.keyPrefix=a,l}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=a.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var f=function(d,p){var m=s.services.backendConnector.state["".concat(d,"|").concat(p)];return m===-1||m===2};if(a.precheck){var c=a.precheck(this,f);if(c!==void 0)return c}return!!(this.hasResourceBundle(o,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(o,i)&&(!l||f(u,i)))}},{key:"loadNamespaces",value:function(i,s){var a=this,o=mo();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){a.options.ns.indexOf(l)<0&&a.options.ns.push(l)}),this.loadResources(function(l){o.resolve(),s&&s(l)}),o):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var a=mo();typeof i=="string"&&(i=[i]);var o=this.options.preload||[],l=i.filter(function(u){return o.indexOf(u)<0});return l.length?(this.options.preload=o.concat(l),this.loadResources(function(u){a.resolve(),s&&s(u)}),a):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new Ry(By());return s.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:du,o=br(br(br({},this.options),s),{isClone:!0}),l=new n(o);(s.debug!==void 0||s.prefix!==void 0)&&(l.logger=l.logger.clone(s));var u=["store","services","language"];return u.forEach(function(f){l[f]=i[f]}),l.services=br({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new ky(l.services,l.options),l.translator.on("*",function(f){for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];l.emit.apply(l,[f].concat(h))}),l.init(o,a),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Ni);Ti(pu,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new pu(t,e)});var at=pu.createInstance();at.createInstance=pu.createInstance,at.createInstance,at.dir,at.init,at.loadResources,at.reloadResources,at.use,at.changeLanguage,at.getFixedT,at.t,at.exists,at.setDefaultNamespace,at.hasLoadedNamespace,at.loadNamespaces,at.loadLanguages;const PL="/";var Hy=(t=>(t.PNG="image/png",t.JPG="image/jpeg",t))(Hy||{}),Ur=(t=>(t.VALUE="value",t.RANGE="range",t))(Ur||{}),mu=(t=>(t.DATEPICKER="datepicker",t.SLIDER="slider",t))(mu||{}),nh;function zy(t,{i18next:e,rerenderOn:n=["languageChanged","loaded","added","removed"],slotStart:r="{",slotEnd:i="}"}){const s=e.t.bind(e),a=ve(new Date),o=()=>a.value=new Date,l=()=>a.value;n.forEach(h=>{var d;switch(h){case"added":case"removed":(d=e.store)==null||d.on(h,o);break;default:e.on(h,o);break}}),t.component("i18next",kL),t.mixin({beforeCreate(){var h,d;const p=this.$options;if(!p.__i18n&&!p.i18nOptions){this.__translate=void 0;return}const m=this.$options.name,g=(Math.random()*10**8|0).toString(),y=[m,g].filter(M=>!!M).join("-");this.__bundles=[];const v=M=>{Object.entries(M).forEach(([G,I])=>{e.addResourceBundle(G,y,I,!0,!1),this.__bundles.push([G,y])})};(h=p.__i18n)==null||h.forEach(M=>{v(JSON.parse(M))});let{lng:E,ns:b,keyPrefix:x}=c(p,v);(d=this.__bundles)!=null&&d.length&&(b=[y].concat(b!=null?b:[]));const T=u(E,b);this.__translate=(M,G)=>!x||f(M)?T(M,G):T(x+"."+M,G)},unmounted(){var h;(h=this.__bundles)==null||h.forEach(([d,p])=>e.removeResourceBundle(d,p))}}),t.config.globalProperties.$t=function(h,d){var p;return l(),e.isInitialized?((p=this==null?void 0:this.__translate)!=null?p:s)(h,d):h},t.config.globalProperties.$i18next=new Proxy(e,{get(h,d){return l(),Reflect.get(h,d)}}),nh=IL(r,i);function u(h,d){return h?e.getFixedT(h,d):d?e.getFixedT(null,d):s}function f(h){const d=e.options.nsSeparator;return typeof d=="string"&&h.includes(d)}function c(h,d){let p,m,g;if(h.i18nOptions){let y,v;({lng:p,namespaces:v=e.options.defaultNS,keyPrefix:g,messages:y}=h.i18nOptions),y&&d(y),m=typeof v=="string"?[v]:v,m&&e.loadNamespaces(m)}return{lng:p,ns:m,keyPrefix:g}}}function Ke(){const t=DL(),e=t.appContext.config.globalProperties;return{i18next:e.$i18next,t:e.$t.bind(t.proxy)}}function DL(){const t=ja();if(!t)throw new Error("i18next-vue: No Vue instance in context. Make sure to register the i18next-vue plugin using app.use(...).");return t}function IL(t,e){const n=`${t}\\s*([a-z0-9\\-]+)\\s*${e}`;return new RegExp(n,"gi")}var kL=pe({props:{translation:{type:String,required:!0}},setup(t,{slots:e}){return()=>{const n=t.translation,r=[];let i,s=0;for(;(i=nh.exec(n))!==null;){r.push(n.substring(s,i.index));const a=e[i[1]];a?r.push(...a()):r.push(i[0]),s=nh.lastIndex}return r.push(n.substring(s)),r}}});class hs extends Error{}class RL extends hs{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class $L extends hs{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class FL extends hs{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Js extends hs{}class Yy extends hs{constructor(e){super(`Invalid unit ${e}`)}}class un extends hs{}class Li extends hs{constructor(){super("Zone is an abstract class")}}const re="numeric",Kn="short",vn="long",gu={year:re,month:re,day:re},Xy={year:re,month:Kn,day:re},VL={year:re,month:Kn,day:re,weekday:Kn},Ky={year:re,month:vn,day:re},Zy={year:re,month:vn,day:re,weekday:vn},Jy={hour:re,minute:re},Qy={hour:re,minute:re,second:re},ev={hour:re,minute:re,second:re,timeZoneName:Kn},tv={hour:re,minute:re,second:re,timeZoneName:vn},nv={hour:re,minute:re,hourCycle:"h23"},rv={hour:re,minute:re,second:re,hourCycle:"h23"},iv={hour:re,minute:re,second:re,hourCycle:"h23",timeZoneName:Kn},sv={hour:re,minute:re,second:re,hourCycle:"h23",timeZoneName:vn},av={year:re,month:re,day:re,hour:re,minute:re},ov={year:re,month:re,day:re,hour:re,minute:re,second:re},lv={year:re,month:Kn,day:re,hour:re,minute:re},uv={year:re,month:Kn,day:re,hour:re,minute:re,second:re},jL={year:re,month:Kn,day:re,weekday:Kn,hour:re,minute:re},cv={year:re,month:vn,day:re,hour:re,minute:re,timeZoneName:Kn},fv={year:re,month:vn,day:re,hour:re,minute:re,second:re,timeZoneName:Kn},hv={year:re,month:vn,day:re,weekday:vn,hour:re,minute:re,timeZoneName:vn},dv={year:re,month:vn,day:re,weekday:vn,hour:re,minute:re,second:re,timeZoneName:vn};class go{get type(){throw new Li}get name(){throw new Li}get ianaName(){return this.name}get isUniversal(){throw new Li}offsetName(e,n){throw new Li}formatOffset(e,n){throw new Li}offset(e){throw new Li}equals(e){throw new Li}get isValid(){throw new Li}}let rh=null;class yu extends go{static get instance(){return rh===null&&(rh=new yu),rh}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return $v(e,n,r)}formatOffset(e,n){return bo(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let vu={};function GL(t){return vu[t]||(vu[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),vu[t]}const UL={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function BL(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,a,o,l,u,f]=r;return[a,i,s,o,l,u,f]}function WL(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:a}=n[i],o=UL[s];s==="era"?r[o]=a:we(o)||(r[o]=parseInt(a,10))}return r}let _u={};class Br extends go{static create(e){return _u[e]||(_u[e]=new Br(e)),_u[e]}static resetCache(){_u={},vu={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Br.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return $v(e,n,r,this.name)}formatOffset(e,n){return bo(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=GL(this.name);let[i,s,a,o,l,u,f]=r.formatToParts?WL(r,n):BL(r,n);o==="BC"&&(i=-Math.abs(i)+1);const h=Ou({year:i,month:s,day:a,hour:l===24?0:l,minute:u,second:f,millisecond:0});let d=+n;const p=d%1e3;return d-=p>=0?p:1e3+p,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let pv={};function qL(t,e={}){const n=JSON.stringify([t,e]);let r=pv[n];return r||(r=new Intl.ListFormat(t,e),pv[n]=r),r}let ih={};function sh(t,e={}){const n=JSON.stringify([t,e]);let r=ih[n];return r||(r=new Intl.DateTimeFormat(t,e),ih[n]=r),r}let ah={};function HL(t,e={}){const n=JSON.stringify([t,e]);let r=ah[n];return r||(r=new Intl.NumberFormat(t,e),ah[n]=r),r}let oh={};function zL(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=oh[i];return s||(s=new Intl.RelativeTimeFormat(t,e),oh[i]=s),s}let yo=null;function YL(){return yo||(yo=new Intl.DateTimeFormat().resolvedOptions().locale,yo)}let mv={};function XL(t){let e=mv[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,mv[t]=e}return e}function KL(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=sh(t).resolvedOptions(),i=t}catch{const l=t.substring(0,n);r=sh(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:a}=r;return[i,s,a]}}function ZL(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function JL(t){const e=[];for(let n=1;n<=12;n++){const r=Me.utc(2009,n,1);e.push(t(r))}return e}function QL(t){const e=[];for(let n=1;n<=7;n++){const r=Me.utc(2016,11,13+n);e.push(t(r))}return e}function bu(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function eC(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class tC{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...a}=r;if(!n||Object.keys(a).length>0){const o={useGrouping:!1,...r};r.padTo>0&&(o.minimumIntegerDigits=r.padTo),this.inf=HL(e,o)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):ph(e,3);return xt(n,this.padTo)}}}class nC{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&Br.create(o).valid?(i=o,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=sh(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class rC{constructor(e,n,r){this.opts={style:"long",...r},!n&&Dv()&&(this.rtf=zL(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):wC(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const iC={firstDay:1,minimalDays:4,weekend:[6,7]};class et{static fromOpts(e){return et.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const a=e||_t.defaultLocale,o=a||(s?"en-US":YL()),l=n||_t.defaultNumberingSystem,u=r||_t.defaultOutputCalendar,f=hh(i)||_t.defaultWeekSettings;return new et(o,l,u,f,a)}static resetCache(){yo=null,ih={},ah={},oh={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return et.create(e,n,r,i)}constructor(e,n,r,i,s){const[a,o,l]=KL(e);this.locale=a,this.numberingSystem=n||o||null,this.outputCalendar=r||l||null,this.weekSettings=i,this.intl=ZL(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=eC(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:et.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,hh(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return bu(this,e,jv,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=JL(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return bu(this,e,Bv,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=QL(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return bu(this,void 0,()=>Wv,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Me.utc(2016,11,13,9),Me.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return bu(this,e,qv,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Me.utc(-40,1,1),Me.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new tC(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new nC(e,this.intl,n)}relFormatter(e={}){return new rC(this.intl,this.isEnglish(),e)}listFormatter(e={}){return qL(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Iv()?XL(this.locale):iC}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let lh=null;class tn extends go{static get utcInstance(){return lh===null&&(lh=new tn(0)),lh}static instance(e){return e===0?tn.utcInstance:new tn(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new tn(xu(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${bo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${bo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return bo(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class sC extends go{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ci(t,e){if(we(t)||t===null)return e;if(t instanceof go)return t;if(lC(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?yu.instance:n==="utc"||n==="gmt"?tn.utcInstance:tn.parseSpecifier(n)||Br.create(t)}else return ds(t)?tn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new sC(t)}let gv=()=>Date.now(),yv="system",vv=null,_v=null,bv=null,Ev=60,Sv,wv=null;class _t{static get now(){return gv}static set now(e){gv=e}static set defaultZone(e){yv=e}static get defaultZone(){return Ci(yv,yu.instance)}static get defaultLocale(){return vv}static set defaultLocale(e){vv=e}static get defaultNumberingSystem(){return _v}static set defaultNumberingSystem(e){_v=e}static get defaultOutputCalendar(){return bv}static set defaultOutputCalendar(e){bv=e}static get defaultWeekSettings(){return wv}static set defaultWeekSettings(e){wv=hh(e)}static get twoDigitCutoffYear(){return Ev}static set twoDigitCutoffYear(e){Ev=e%100}static get throwOnInvalid(){return Sv}static set throwOnInvalid(e){Sv=e}static resetCaches(){et.resetCache(),Br.resetCache()}}class Zn{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Ov=[0,31,59,90,120,151,181,212,243,273,304,334],xv=[0,31,60,91,121,152,182,213,244,274,305,335];function In(t,e){return new Zn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function uh(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function Mv(t,e,n){return n+(vo(t)?xv:Ov)[e-1]}function Tv(t,e){const n=vo(t)?xv:Ov,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function ch(t,e){return(t-e+7)%7+1}function Eu(t,e=4,n=1){const{year:r,month:i,day:s}=t,a=Mv(r,i,s),o=ch(uh(r,i,s),n);let l=Math.floor((a-o+14-e)/7),u;return l<1?(u=r-1,l=_o(u,e,n)):l>_o(r,e,n)?(u=r+1,l=1):u=r,{weekYear:u,weekNumber:l,weekday:o,...Tu(t)}}function Nv(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,a=ch(uh(r,1,e),n),o=ea(r);let l=i*7+s-a-7+e,u;l<1?(u=r-1,l+=ea(u)):l>o?(u=r+1,l-=ea(r)):u=r;const{month:f,day:c}=Tv(u,l);return{year:u,month:f,day:c,...Tu(t)}}function fh(t){const{year:e,month:n,day:r}=t,i=Mv(e,n,r);return{year:e,ordinal:i,...Tu(t)}}function Lv(t){const{year:e,ordinal:n}=t,{month:r,day:i}=Tv(e,n);return{year:e,month:r,day:i,...Tu(t)}}function Cv(t,e){if(!we(t.localWeekday)||!we(t.localWeekNumber)||!we(t.localWeekYear)){if(!we(t.weekday)||!we(t.weekNumber)||!we(t.weekYear))throw new Js("Cannot mix locale-based week fields with ISO-based week fields");return we(t.localWeekday)||(t.weekday=t.localWeekday),we(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),we(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function aC(t,e=4,n=1){const r=Su(t.weekYear),i=kn(t.weekNumber,1,_o(t.weekYear,e,n)),s=kn(t.weekday,1,7);return r?i?s?!1:In("weekday",t.weekday):In("week",t.weekNumber):In("weekYear",t.weekYear)}function oC(t){const e=Su(t.year),n=kn(t.ordinal,1,ea(t.year));return e?n?!1:In("ordinal",t.ordinal):In("year",t.year)}function Av(t){const e=Su(t.year),n=kn(t.month,1,12),r=kn(t.day,1,wu(t.year,t.month));return e?n?r?!1:In("day",t.day):In("month",t.month):In("year",t.year)}function Pv(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=kn(e,0,23)||e===24&&n===0&&r===0&&i===0,a=kn(n,0,59),o=kn(r,0,59),l=kn(i,0,999);return s?a?o?l?!1:In("millisecond",i):In("second",r):In("minute",n):In("hour",e)}function we(t){return typeof t>"u"}function ds(t){return typeof t=="number"}function Su(t){return typeof t=="number"&&t%1===0}function lC(t){return typeof t=="string"}function uC(t){return Object.prototype.toString.call(t)==="[object Date]"}function Dv(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Iv(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function cC(t){return Array.isArray(t)?t:[t]}function kv(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function fC(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Qs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hh(t){if(t==null)return null;if(typeof t!="object")throw new un("Week settings must be an object");if(!kn(t.firstDay,1,7)||!kn(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!kn(e,1,7)))throw new un("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function kn(t,e,n){return Su(t)&&t>=e&&t<=n}function hC(t,e){return t-e*Math.floor(t/e)}function xt(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Ai(t){if(!(we(t)||t===null||t===""))return parseInt(t,10)}function ps(t){if(!(we(t)||t===null||t===""))return parseFloat(t)}function dh(t){if(!(we(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function ph(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function vo(t){return t%4===0&&(t%100!==0||t%400===0)}function ea(t){return vo(t)?366:365}function wu(t,e){const n=hC(e-1,12)+1,r=t+(e-n)/12;return n===2?vo(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Ou(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Rv(t,e,n){return-ch(uh(t,1,e),n)+e-1}function _o(t,e=4,n=1){const r=Rv(t,e,n),i=Rv(t+1,e,n);return(ea(t)-r+i)/7}function mh(t){return t>99?t:t>_t.twoDigitCutoffYear?1900+t:2e3+t}function $v(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const a={timeZoneName:e,...s},o=new Intl.DateTimeFormat(n,a).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function xu(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function Fv(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new un(`Invalid unit value ${t}`);return e}function Mu(t,e){const n={};for(const r in t)if(Qs(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=Fv(i)}return n}function bo(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${xt(n,2)}:${xt(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${xt(n,2)}${xt(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Tu(t){return fC(t,["hour","minute","second","millisecond"])}const dC=["January","February","March","April","May","June","July","August","September","October","November","December"],Vv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pC=["J","F","M","A","M","J","J","A","S","O","N","D"];function jv(t){switch(t){case"narrow":return[...pC];case"short":return[...Vv];case"long":return[...dC];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Gv=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Uv=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],mC=["M","T","W","T","F","S","S"];function Bv(t){switch(t){case"narrow":return[...mC];case"short":return[...Uv];case"long":return[...Gv];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Wv=["AM","PM"],gC=["Before Christ","Anno Domini"],yC=["BC","AD"],vC=["B","A"];function qv(t){switch(t){case"narrow":return[...vC];case"short":return[...yC];case"long":return[...gC];default:return null}}function _C(t){return Wv[t.hour<12?0:1]}function bC(t,e){return Bv(e)[t.weekday-1]}function EC(t,e){return jv(e)[t.month-1]}function SC(t,e){return qv(e)[t.year<0?0:1]}function wC(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const c=t==="days";switch(e){case 1:return c?"tomorrow":`next ${i[t][0]}`;case-1:return c?"yesterday":`last ${i[t][0]}`;case 0:return c?"today":`this ${i[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,u=i[t],f=r?l?u[1]:u[2]||u[1]:l?i[t][0]:t;return a?`${o} ${f} ago`:`in ${o} ${f}`}function Hv(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const OC={D:gu,DD:Xy,DDD:Ky,DDDD:Zy,t:Jy,tt:Qy,ttt:ev,tttt:tv,T:nv,TT:rv,TTT:iv,TTTT:sv,f:av,ff:lv,fff:cv,ffff:hv,F:ov,FF:uv,FFF:fv,FFFF:dv};class qt{static create(e,n={}){return new qt(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||o===n?r+=o:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=o,n=o)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return OC[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return xt(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(d,p)=>this.loc.extract(e,d,p),a=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>r?_C(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,p)=>r?EC(e,d):s(p?{month:d}:{month:d,day:"numeric"},"month"),u=(d,p)=>r?bC(e,d):s(p?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),f=d=>{const p=qt.macroTokenToFormatOpts(d);return p?this.formatWithSystemDefault(e,p):d},c=d=>r?SC(e,d):s({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(d)}};return Hv(qt.parseFormat(n),h)}formatDurationFromString(e,n){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>u=>{const f=r(u);return f?this.num(l.get(f),u.length):u},s=qt.parseFormat(n),a=s.reduce((l,{literal:u,val:f})=>u?l:l.concat(f),[]),o=e.shiftTo(...a.map(r).filter(l=>l));return Hv(s,i(o))}}const zv=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ta(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function na(...t){return e=>t.reduce(([n,r,i],s)=>{const[a,o,l]=s(e,i);return[{...n,...a},o||r,l]},[{},null,1]).slice(0,2)}function ra(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function Yv(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Ai(e[n+i]);return[r,null,n+i]}}const Xv=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,xC=`(?:${Xv.source}?(?:\\[(${zv.source})\\])?)?`,gh=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Kv=RegExp(`${gh.source}${xC}`),yh=RegExp(`(?:T${Kv.source})?`),MC=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,TC=/(\d{4})-?W(\d\d)(?:-?(\d))?/,NC=/(\d{4})-?(\d{3})/,LC=Yv("weekYear","weekNumber","weekDay"),CC=Yv("year","ordinal"),AC=/(\d{4})-(\d\d)-(\d\d)/,Zv=RegExp(`${gh.source} ?(?:${Xv.source}|(${zv.source}))?`),PC=RegExp(`(?: ${Zv.source})?`);function ia(t,e,n){const r=t[e];return we(r)?n:Ai(r)}function DC(t,e){return[{year:ia(t,e),month:ia(t,e+1,1),day:ia(t,e+2,1)},null,e+3]}function sa(t,e){return[{hours:ia(t,e,0),minutes:ia(t,e+1,0),seconds:ia(t,e+2,0),milliseconds:dh(t[e+3])},null,e+4]}function Eo(t,e){const n=!t[e]&&!t[e+1],r=xu(t[e+1],t[e+2]),i=n?null:tn.instance(r);return[{},i,e+3]}function So(t,e){const n=t[e]?Br.create(t[e]):null;return[{},n,e+1]}const IC=RegExp(`^T?${gh.source}$`),kC=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function RC(t){const[e,n,r,i,s,a,o,l,u]=t,f=e[0]==="-",c=l&&l[0]==="-",h=(d,p=!1)=>d!==void 0&&(p||d&&f)?-d:d;return[{years:h(ps(n)),months:h(ps(r)),weeks:h(ps(i)),days:h(ps(s)),hours:h(ps(a)),minutes:h(ps(o)),seconds:h(ps(l),l==="-0"),milliseconds:h(dh(u),c)}]}const $C={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vh(t,e,n,r,i,s,a){const o={year:e.length===2?mh(Ai(e)):Ai(e),month:Vv.indexOf(n)+1,day:Ai(r),hour:Ai(i),minute:Ai(s)};return a&&(o.second=Ai(a)),t&&(o.weekday=t.length>3?Gv.indexOf(t)+1:Uv.indexOf(t)+1),o}const FC=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function VC(t){const[,e,n,r,i,s,a,o,l,u,f,c]=t,h=vh(e,i,r,n,s,a,o);let d;return l?d=$C[l]:u?d=0:d=xu(f,c),[h,new tn(d)]}function jC(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const GC=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,UC=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,BC=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Jv(t){const[,e,n,r,i,s,a,o]=t;return[vh(e,i,r,n,s,a,o),tn.utcInstance]}function WC(t){const[,e,n,r,i,s,a,o]=t;return[vh(e,o,n,r,i,s,a),tn.utcInstance]}const qC=ta(MC,yh),HC=ta(TC,yh),zC=ta(NC,yh),YC=ta(Kv),Qv=na(DC,sa,Eo,So),XC=na(LC,sa,Eo,So),KC=na(CC,sa,Eo,So),ZC=na(sa,Eo,So);function JC(t){return ra(t,[qC,Qv],[HC,XC],[zC,KC],[YC,ZC])}function QC(t){return ra(jC(t),[FC,VC])}function eA(t){return ra(t,[GC,Jv],[UC,Jv],[BC,WC])}function tA(t){return ra(t,[kC,RC])}const nA=na(sa);function rA(t){return ra(t,[IC,nA])}const iA=ta(AC,PC),sA=ta(Zv),aA=na(sa,Eo,So);function oA(t){return ra(t,[iA,Qv],[sA,aA])}const e0="Invalid Duration",t0={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},lA={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...t0},Rn=146097/400,aa=146097/4800,uA={years:{quarters:4,months:12,weeks:Rn/7,days:Rn,hours:Rn*24,minutes:Rn*24*60,seconds:Rn*24*60*60,milliseconds:Rn*24*60*60*1e3},quarters:{months:3,weeks:Rn/28,days:Rn/4,hours:Rn*24/4,minutes:Rn*24*60/4,seconds:Rn*24*60*60/4,milliseconds:Rn*24*60*60*1e3/4},months:{weeks:aa/7,days:aa,hours:aa*24,minutes:aa*24*60,seconds:aa*24*60*60,milliseconds:aa*24*60*60*1e3},...t0},ms=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],cA=ms.slice(0).reverse();function Pi(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new $e(r)}function n0(t,e){var r;let n=(r=e.milliseconds)!=null?r:0;for(const i of cA.slice(1))e[i]&&(n+=e[i]*t[i].milliseconds);return n}function r0(t,e){const n=n0(t,e)<0?-1:1;ms.reduceRight((r,i)=>{if(we(e[i]))return r;if(r){const s=e[r]*n,a=t[i][r],o=Math.floor(s/a);e[i]+=o*n,e[r]-=o*a*n}return i},null),ms.reduce((r,i)=>{if(we(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function fA(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class $e{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?uA:lA;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||et.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return $e.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new un(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new $e({values:Mu(e,$e.normalizeUnit),loc:et.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(ds(e))return $e.fromMillis(e);if($e.isDuration(e))return e;if(typeof e=="object")return $e.fromObject(e);throw new un(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=tA(e);return r?$e.fromObject(r,n):$e.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=rA(e);return r?$e.fromObject(r,n):$e.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new un("need to specify a reason the Duration is invalid");const r=e instanceof Zn?e:new Zn(e,n);if(_t.throwOnInvalid)throw new FL(r);return new $e({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Yy(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?qt.create(this.loc,r).formatDurationFromString(this,e):e0}toHuman(e={}){if(!this.isValid)return e0;const n=ms.map(r=>{const i=this.values[r];return we(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ph(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Me.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?n0(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=$e.fromDurationLike(e),r={};for(const i of ms)(Qs(n.values,i)||Qs(this.values,i))&&(r[i]=n.get(i)+this.get(i));return Pi(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=$e.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=Fv(e(this.values[r],r));return Pi(this,{values:n},!0)}get(e){return this[$e.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Mu(e,$e.normalizeUnit)};return Pi(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return Pi(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return r0(this.matrix,e),Pi(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=fA(this.normalize().shiftToAll().toObject());return Pi(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>$e.normalizeUnit(a));const n={},r={},i=this.toObject();let s;for(const a of ms)if(e.indexOf(a)>=0){s=a;let o=0;for(const u in r)o+=this.matrix[u][a]*r[u],r[u]=0;ds(i[a])&&(o+=i[a]);const l=Math.trunc(o);n[a]=l,r[a]=(o*1e3-l*1e3)/1e3}else ds(i[a])&&(r[a]=i[a]);for(const a in r)r[a]!==0&&(n[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return r0(this.matrix,n),Pi(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Pi(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of ms)if(!n(this.values[r],e.values[r]))return!1;return!0}}const oa="Invalid Interval";function hA(t,e){return!t||!t.isValid?ht.invalid("missing or invalid start"):!e||!e.isValid?ht.invalid("missing or invalid end"):e<t?ht.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ht{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new un("need to specify a reason the Interval is invalid");const r=e instanceof Zn?e:new Zn(e,n);if(_t.throwOnInvalid)throw new $L(r);return new ht({invalid:r})}static fromDateTimes(e,n){const r=Oo(e),i=Oo(n),s=hA(r,i);return s==null?new ht({start:r,end:i}):s}static after(e,n){const r=$e.fromDurationLike(n),i=Oo(e);return ht.fromDateTimes(i,i.plus(r))}static before(e,n){const r=$e.fromDurationLike(n),i=Oo(e);return ht.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,a;try{s=Me.fromISO(r,n),a=s.isValid}catch{a=!1}let o,l;try{o=Me.fromISO(i,n),l=o.isValid}catch{l=!1}if(a&&l)return ht.fromDateTimes(s,o);if(a){const u=$e.fromISO(i,n);if(u.isValid)return ht.after(s,u)}else if(l){const u=$e.fromISO(r,n);if(u.isValid)return ht.before(o,u)}}return ht.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n!=null&&n.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?ht.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Oo).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const a=n[s]||this.e,o=+a>+this.e?this.e:a;r.push(ht.fromDateTimes(i,o)),i=o,s+=1}return r}splitBy(e){const n=$e.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const a=[];for(;r<this.e;){const o=this.start.plus(n.mapUnits(l=>l*i));s=+o>+this.e?this.e:o,a.push(ht.fromDateTimes(r,s)),r=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:ht.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return ht.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,u)=>l.time-u.time);for(const l of o)r+=l.type==="s"?1:-1,r===1?n=l.time:(n&&+n!=+l.time&&i.push(ht.fromDateTimes(n,l.time)),n=null);return ht.merge(i)}difference(...e){return ht.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:oa}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=gu,n={}){return this.isValid?qt.create(this.s.loc.clone(n),e).formatInterval(this):oa}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:oa}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:oa}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:oa}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:oa}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):$e.invalid(this.invalidReason)}mapEndpoints(e){return ht.fromDateTimes(e(this.s),e(this.e))}}class Nu{static hasDST(e=_t.defaultZone){const n=Me.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Br.isValidZone(e)}static normalizeZone(e){return Ci(e,_t.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||et.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||et.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||et.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||et.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||et.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||et.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||et.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return et.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return et.create(n,null,"gregory").eras(e)}static features(){return{relative:Dv(),localeWeek:Iv()}}}function i0(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor($e.fromMillis(r).as("days"))}function dA(t,e,n){const r=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const f=i0(l,u);return(f-f%7)/7}],["days",i0]],i={},s=t;let a,o;for(const[l,u]of r)n.indexOf(l)>=0&&(a=l,i[l]=u(t,e),o=s.plus(i),o>e?(i[l]--,t=s.plus(i),t>e&&(o=t,i[l]--,t=s.plus(i))):t=o);return[t,i,o,a]}function pA(t,e,n,r){let[i,s,a,o]=dA(t,e,n);const l=e-i,u=n.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(a<e&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+l/(a-i)));const f=$e.fromObject(s,r);return u.length>0?$e.fromMillis(l,r).shiftTo(...u).plus(f):f}const _h={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},s0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},mA=_h.hanidec.replace(/[\[|\]]/g,"").split("");function gA(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(_h.hanidec)!==-1)e+=mA.indexOf(t[n]);else for(const i in s0){const[s,a]=s0[i];r>=s&&r<=a&&(e+=r-s)}}return parseInt(e,10)}else return e}function Jn({numberingSystem:t},e=""){return new RegExp(`${_h[t||"latn"]}${e}`)}const yA="missing Intl.DateTimeFormat.formatToParts support";function Be(t,e=n=>n){return{regex:t,deser:([n])=>e(gA(n))}}const a0=`[ ${String.fromCharCode(160)}]`,o0=new RegExp(a0,"g");function vA(t){return t.replace(/\./g,"\\.?").replace(o0,a0)}function l0(t){return t.replace(/\./g,"").replace(o0," ").toLowerCase()}function Qn(t,e){return t===null?null:{regex:RegExp(t.map(vA).join("|")),deser:([n])=>t.findIndex(r=>l0(n)===l0(r))+e}}function u0(t,e){return{regex:t,deser:([,n,r])=>xu(n,r),groups:e}}function Lu(t){return{regex:t,deser:([e])=>e}}function _A(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function bA(t,e){const n=Jn(e),r=Jn(e,"{2}"),i=Jn(e,"{3}"),s=Jn(e,"{4}"),a=Jn(e,"{6}"),o=Jn(e,"{1,2}"),l=Jn(e,"{1,3}"),u=Jn(e,"{1,6}"),f=Jn(e,"{1,9}"),c=Jn(e,"{2,4}"),h=Jn(e,"{4,6}"),d=g=>({regex:RegExp(_A(g.val)),deser:([y])=>y,literal:!0}),m=(g=>{if(t.literal)return d(g);switch(g.val){case"G":return Qn(e.eras("short"),0);case"GG":return Qn(e.eras("long"),0);case"y":return Be(u);case"yy":return Be(c,mh);case"yyyy":return Be(s);case"yyyyy":return Be(h);case"yyyyyy":return Be(a);case"M":return Be(o);case"MM":return Be(r);case"MMM":return Qn(e.months("short",!0),1);case"MMMM":return Qn(e.months("long",!0),1);case"L":return Be(o);case"LL":return Be(r);case"LLL":return Qn(e.months("short",!1),1);case"LLLL":return Qn(e.months("long",!1),1);case"d":return Be(o);case"dd":return Be(r);case"o":return Be(l);case"ooo":return Be(i);case"HH":return Be(r);case"H":return Be(o);case"hh":return Be(r);case"h":return Be(o);case"mm":return Be(r);case"m":return Be(o);case"q":return Be(o);case"qq":return Be(r);case"s":return Be(o);case"ss":return Be(r);case"S":return Be(l);case"SSS":return Be(i);case"u":return Lu(f);case"uu":return Lu(o);case"uuu":return Be(n);case"a":return Qn(e.meridiems(),0);case"kkkk":return Be(s);case"kk":return Be(c,mh);case"W":return Be(o);case"WW":return Be(r);case"E":case"c":return Be(n);case"EEE":return Qn(e.weekdays("short",!1),1);case"EEEE":return Qn(e.weekdays("long",!1),1);case"ccc":return Qn(e.weekdays("short",!0),1);case"cccc":return Qn(e.weekdays("long",!0),1);case"Z":case"ZZ":return u0(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return u0(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return Lu(/[a-z_+-/]{1,256}?/i);case" ":return Lu(/[^\S\n\r]/);default:return d(g)}})(t)||{invalidReason:yA};return m.token=t,m}const EA={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function SA(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=n.hour12?"hour12":"hour24");let o=EA[a];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function wA(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function OA(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const a in n)if(Qs(n,a)){const o=n[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function xA(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return we(t.z)||(n=Br.create(t.z)),we(t.Z)||(n||(n=new tn(t.Z)),r=t.Z),we(t.q)||(t.M=(t.q-1)*3+1),we(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),we(t.u)||(t.S=dh(t.u)),[Object.keys(t).reduce((s,a)=>{const o=e(a);return o&&(s[o]=t[a]),s},{}),n,r]}let bh=null;function MA(){return bh||(bh=Me.fromMillis(1555555555555)),bh}function TA(t,e){if(t.literal)return t;const n=qt.macroTokenToFormatOpts(t.val),r=h0(n,e);return r==null||r.includes(void 0)?t:r}function c0(t,e){return Array.prototype.concat(...t.map(n=>TA(n,e)))}function f0(t,e,n){const r=c0(qt.parseFormat(n),t),i=r.map(a=>bA(a,t)),s=i.find(a=>a.invalidReason);if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};{const[a,o]=wA(i),l=RegExp(a,"i"),[u,f]=OA(e,l,o),[c,h,d]=f?xA(f):[null,null,void 0];if(Qs(f,"a")&&Qs(f,"H"))throw new Js("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:l,rawMatches:u,matches:f,result:c,zone:h,specificOffset:d}}}function NA(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:a}=f0(t,e,n);return[r,i,s,a]}function h0(t,e){if(!t)return null;const r=qt.create(e,t).dtFormatter(MA()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(a=>SA(a,t,s))}const Eh="Invalid DateTime",d0=864e13;function Cu(t){return new Zn("unsupported zone",`the zone "${t.name}" is not supported`)}function Sh(t){return t.weekData===null&&(t.weekData=Eu(t.c)),t.weekData}function wh(t){return t.localWeekData===null&&(t.localWeekData=Eu(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function gs(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Me({...n,...e,old:n})}function p0(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Au(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Pu(t,e,n){return p0(Ou(t),e,n)}function m0(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,wu(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=$e.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Ou(s);let[l,u]=p0(o,n,t.zone);return a!==0&&(l+=a,u=t.zone.offset(l)),{ts:l,o:u}}function wo(t,e,n,r,i,s){const{setZone:a,zone:o}=n;if(t&&Object.keys(t).length!==0||e){const l=e||o,u=Me.fromObject(t,{...n,zone:l,specificOffset:s});return a?u:u.setZone(o)}else return Me.invalid(new Zn("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Du(t,e,n=!0){return t.isValid?qt.create(et.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Oh(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=xt(t.c.year,n?6:4),e?(r+="-",r+=xt(t.c.month),r+="-",r+=xt(t.c.day)):(r+=xt(t.c.month),r+=xt(t.c.day)),r}function g0(t,e,n,r,i,s){let a=xt(t.c.hour);return e?(a+=":",a+=xt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=":")):a+=xt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=xt(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=xt(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=xt(Math.trunc(-t.o/60)),a+=":",a+=xt(Math.trunc(-t.o%60))):(a+="+",a+=xt(Math.trunc(t.o/60)),a+=":",a+=xt(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}const y0={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},LA={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},CA={ordinal:1,hour:0,minute:0,second:0,millisecond:0},v0=["year","month","day","hour","minute","second","millisecond"],AA=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],PA=["year","ordinal","hour","minute","second","millisecond"];function DA(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Yy(t);return e}function _0(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return DA(t)}}function b0(t,e){const n=Ci(e.zone,_t.defaultZone),r=et.fromObject(e),i=_t.now();let s,a;if(we(t.year))s=i;else{for(const u of v0)we(t[u])&&(t[u]=y0[u]);const o=Av(t)||Pv(t);if(o)return Me.invalid(o);const l=n.offset(i);[s,a]=Pu(t,l,n)}return new Me({ts:s,zone:n,loc:r,o:a})}function E0(t,e,n){const r=we(n.round)?!0:n.round,i=(a,o)=>(a=ph(a,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,o)),s=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return i(s(n.unit),n.unit);for(const a of n.units){const o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(t>e?-0:0,n.units[n.units.length-1])}function S0(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class Me{constructor(e){const n=e.zone||_t.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Zn("invalid input"):null)||(n.isValid?null:Cu(n));this.ts=we(e.ts)?_t.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const o=n.offset(this.ts);i=Au(this.ts,o),r=Number.isNaN(i.year)?new Zn("invalid input"):null,i=r?null:i,s=r?null:o}this._zone=n,this.loc=e.loc||et.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new Me({})}static local(){const[e,n]=S0(arguments),[r,i,s,a,o,l,u]=n;return b0({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static utc(){const[e,n]=S0(arguments),[r,i,s,a,o,l,u]=n;return e.zone=tn.utcInstance,b0({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static fromJSDate(e,n={}){const r=uC(e)?e.valueOf():NaN;if(Number.isNaN(r))return Me.invalid("invalid input");const i=Ci(n.zone,_t.defaultZone);return i.isValid?new Me({ts:r,zone:i,loc:et.fromObject(n)}):Me.invalid(Cu(i))}static fromMillis(e,n={}){if(ds(e))return e<-d0||e>d0?Me.invalid("Timestamp out of range"):new Me({ts:e,zone:Ci(n.zone,_t.defaultZone),loc:et.fromObject(n)});throw new un(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(ds(e))return new Me({ts:e*1e3,zone:Ci(n.zone,_t.defaultZone),loc:et.fromObject(n)});throw new un("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Ci(n.zone,_t.defaultZone);if(!r.isValid)return Me.invalid(Cu(r));const i=et.fromObject(n),s=Mu(e,_0),{minDaysInFirstWeek:a,startOfWeek:o}=Cv(s,i),l=_t.now(),u=we(n.specificOffset)?r.offset(l):n.specificOffset,f=!we(s.ordinal),c=!we(s.year),h=!we(s.month)||!we(s.day),d=c||h,p=s.weekYear||s.weekNumber;if((d||f)&&p)throw new Js("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new Js("Can't mix ordinal dates with month/day");const m=p||s.weekday&&!d;let g,y,v=Au(l,u);m?(g=AA,y=LA,v=Eu(v,a,o)):f?(g=PA,y=CA,v=fh(v)):(g=v0,y=y0);let E=!1;for(const C of g){const D=s[C];we(D)?E?s[C]=y[C]:s[C]=v[C]:E=!0}const b=m?aC(s,a,o):f?oC(s):Av(s),x=b||Pv(s);if(x)return Me.invalid(x);const T=m?Nv(s,a,o):f?Lv(s):s,[M,G]=Pu(T,u,r),I=new Me({ts:M,zone:r,o:G,loc:i});return s.weekday&&d&&e.weekday!==I.weekday?Me.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${I.toISO()}`):I}static fromISO(e,n={}){const[r,i]=JC(e);return wo(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=QC(e);return wo(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=eA(e);return wo(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(we(e)||we(n))throw new un("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,a=et.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,l,u,f]=NA(a,e,n);return f?Me.invalid(f):wo(o,l,r,`format ${n}`,e,u)}static fromString(e,n,r={}){return Me.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=oA(e);return wo(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new un("need to specify a reason the DateTime is invalid");const r=e instanceof Zn?e:new Zn(e,n);if(_t.throwOnInvalid)throw new RL(r);return new Me({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=h0(e,et.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return c0(qt.parseFormat(e),et.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Sh(this).weekYear:NaN}get weekNumber(){return this.isValid?Sh(this).weekNumber:NaN}get weekday(){return this.isValid?Sh(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?wh(this).weekday:NaN}get localWeekNumber(){return this.isValid?wh(this).weekNumber:NaN}get localWeekYear(){return this.isValid?wh(this).weekYear:NaN}get ordinal(){return this.isValid?fh(this.c).ordinal:NaN}get monthShort(){return this.isValid?Nu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Nu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Nu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Nu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=Ou(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),a=this.zone.offset(r-i*n),o=this.zone.offset(r-s*n);if(a===o)return[this];const l=r-a*n,u=r-o*n,f=Au(l,a),c=Au(u,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[gs(this,{ts:l}),gs(this,{ts:u})]:[this]}get isInLeapYear(){return vo(this.year)}get daysInMonth(){return wu(this.year,this.month)}get daysInYear(){return this.isValid?ea(this.year):NaN}get weeksInWeekYear(){return this.isValid?_o(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?_o(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=qt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(tn.instance(e),n)}toLocal(){return this.setZone(_t.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Ci(e,_t.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),a=this.toObject();[i]=Pu(a,s,e)}return gs(this,{ts:i,zone:e})}else return Me.invalid(Cu(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return gs(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Mu(e,_0),{minDaysInFirstWeek:r,startOfWeek:i}=Cv(n,this.loc),s=!we(n.weekYear)||!we(n.weekNumber)||!we(n.weekday),a=!we(n.ordinal),o=!we(n.year),l=!we(n.month)||!we(n.day),u=o||l,f=n.weekYear||n.weekNumber;if((u||a)&&f)throw new Js("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new Js("Can't mix ordinal dates with month/day");let c;s?c=Nv({...Eu(this.c,r,i),...n},r,i):we(n.ordinal)?(c={...this.toObject(),...n},we(n.day)&&(c.day=Math.min(wu(c.year,c.month),c.day))):c=Lv({...fh(this.c),...n});const[h,d]=Pu(c,this.o,this.zone);return gs(this,{ts:h,o:d})}plus(e){if(!this.isValid)return this;const n=$e.fromDurationLike(e);return gs(this,m0(this,n))}minus(e){if(!this.isValid)return this;const n=$e.fromDurationLike(e).negate();return gs(this,m0(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=$e.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?qt.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Eh}toLocaleString(e=gu,n={}){return this.isValid?qt.create(this.loc.clone(n),e).formatDateTime(this):Eh}toLocaleParts(e={}){return this.isValid?qt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=Oh(this,a);return o+="T",o+=g0(this,a,n,r,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?Oh(this,e==="extended"):null}toISOWeekDate(){return Du(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+g0(this,a==="extended",n,e,r,s):null}toRFC2822(){return Du(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Du(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Oh(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Du(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Eh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return $e.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=cC(n).map($e.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,u=pA(o,l,s,i);return a?u.negate():u}diffNow(e="milliseconds",n={}){return this.diff(Me.now(),e,n)}until(e){return this.isValid?ht.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Me.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),E0(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?E0(e.base||Me.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Me.isDateTime))throw new un("min requires all arguments be DateTimes");return kv(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Me.isDateTime))throw new un("max requires all arguments be DateTimes");return kv(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,a=et.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return f0(a,e,n)}static fromStringExplain(e,n,r={}){return Me.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return gu}static get DATE_MED(){return Xy}static get DATE_MED_WITH_WEEKDAY(){return VL}static get DATE_FULL(){return Ky}static get DATE_HUGE(){return Zy}static get TIME_SIMPLE(){return Jy}static get TIME_WITH_SECONDS(){return Qy}static get TIME_WITH_SHORT_OFFSET(){return ev}static get TIME_WITH_LONG_OFFSET(){return tv}static get TIME_24_SIMPLE(){return nv}static get TIME_24_WITH_SECONDS(){return rv}static get TIME_24_WITH_SHORT_OFFSET(){return iv}static get TIME_24_WITH_LONG_OFFSET(){return sv}static get DATETIME_SHORT(){return av}static get DATETIME_SHORT_WITH_SECONDS(){return ov}static get DATETIME_MED(){return lv}static get DATETIME_MED_WITH_SECONDS(){return uv}static get DATETIME_MED_WITH_WEEKDAY(){return jL}static get DATETIME_FULL(){return cv}static get DATETIME_FULL_WITH_SECONDS(){return fv}static get DATETIME_HUGE(){return hv}static get DATETIME_HUGE_WITH_SECONDS(){return dv}}function Oo(t){if(Me.isDateTime(t))return t;if(t&&t.valueOf&&ds(t.valueOf()))return Me.fromJSDate(t);if(t&&typeof t=="object")return Me.fromObject(t);throw new un(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const w0=[0,1,0,0];function O0(t,e="second",n,r){const{t:i}=Ke(),s=new Date(t).toISOString(),a={year:i("yyyy"),month:i("M/yyyy"),day:i("M/d/yyyy"),second:i("M/d/yyyy HH:mm:ss")},l=(n?{year:"yyyy",month:"yyyy-MM",day:"yyyy-MM-dd",second:void 0}:a)[e];return l?Me.fromISO(s).toFormat(`${r?"UTC:":""}${l}`):s.replace(/\.\d{3}/,"")}function xh(t){return new Date(t).toISOString().split(".")[0]+"Z"}function Mh(t){return Me.fromISO(t).toFormat("yyyy-MM-dd")}function IA(t,e){return t<=e.minValue?e.minValue:t>=e.maxValue?e.maxValue:e.timeValueList?kA(t,e):RA(t,e)}function kA(t,e){var l;const n=(l=e.timeValueList)!=null?l:[];let r,i=0,s=n.length-1;for(;s-i>1;)r=Math.floor((i+s)/2),n[r]>=t?s=r:i=r;const a=Math.abs(n[i]-t),o=Math.abs(n[s]-t);return n[a<o?i:s]}function RA(t,e){var l;const n=(l=e.timeInterval)!=null?l:w0,r=new Date(t).getTime(),i=new Date(e.minValue),s=e.maxValue;let a=e.minValue,o=Math.abs(r-a);for(let u=1;;u++){const f=new Date(i.getTime());if(f.setFullYear(i.getFullYear()+u*n[0]),f.setMonth(i.getMonth()+u*n[1],i.getDate()+u*n[2]),f.setSeconds(i.getSeconds()+u*n[3]),f.getTime()>s)break;const c=Math.abs(r-f.getTime());if(c<=o)a=f.getTime(),o=c;else break}return a}const rt=Si("map",()=>{const t=_n(),e=ve({}),n=st([]),r=st([]),i=ve(!1),s=ve(!1),a=ve(void 0),o=ve(void 0),l=ve(void 0);function u(b){a.value=b}function f(...b){n.value=[...new Set([...n.value,...b])]}function c(...b){r.value=[...new Set([...r.value,...b])]}function h(...b){n.value=n.value.filter(x=>b.indexOf(x.id)===-1),r.value=r.value.filter(x=>b.indexOf(x.id)===-1)}function d(){n.value=[]}function p(b){var x;return!!((x=n.value)!=null&&x.find(T=>T.id===b))}function m(b,x=!1){var M;const T=x?r:n;T.value=[...((M=T.value)==null?void 0:M.sort((G,I)=>b.indexOf(G.id)-b.indexOf(I.id)))||[]]}function g(b,x){n.value=n.value.map(T=>T.id===b?{...T,opacity:x,previousOpacity:T.opacity}:T)}function y(b,x,T){n.value=n.value.map(M=>{if(M.id===b){const G={...M,currentTimeMinValue:x?xh(x):void 0,currentTimeMaxValue:T?xh(T):void 0};return G.type==="WMTS"&&(G.name=t.getLayerCurrentLabel(G)),G}return M})}function v(b){i.value=b}function E(b){s.value=b}return{map:e,layers:n,layers3d:r,is3dActive:i,is3dMesh:s,bgLayer:a,minZoom:o,maxZoom:l,addLayers:f,add3dLayers:c,removeLayers:h,removeAllLayers:d,reorderLayers:m,setLayerOpacity:g,setLayerTime:y,setBgLayer:u,setIs3dActive:v,setIs3dMesh:E,hasLayer:p}}),x0="main",$A="root_3d",FA=-222,Ht=Si("config",()=>{const t=st(),e=ve(x0),n=fe(()=>{var u;return(u=t.value)==null?void 0:u.themes}),r=fe(()=>{var u;return(u=n.value)==null?void 0:u.find(f=>f.name===e.value)}),i=fe(()=>{var u;return((u=t.value)==null?void 0:u.background_layers)||[]}),s=fe(()=>{var f;const u=(f=n.value)==null?void 0:f.filter(c=>{var h;return((h=c.metadata)==null?void 0:h.ol3d_type)!==void 0});if(!!u)return{name:$A,id:FA,children:u.flatMap(c=>c!=null&&c.children?c.children:c),metadata:{}}});function a(u){t.value=u,r.value===void 0&&l()}function o(u){e.value=u}function l(){e.value=x0}return{config:t,themes:n,themeName:e,theme:r,bgLayers:i,layerTrees_3d:s,setTheme:o,setThemes:a}},{});function Wr(){function t(o,l){return n(o,void 0,l)}function e(o,l){return n(void 0,o,l)}function n(o,l,u){const{themes:f}=Ht();if(u=u||(f==null?void 0:f.find(c=>n(o,l,c))),o&&(u==null?void 0:u.id)===o||l&&(u==null?void 0:u.name)===l)return u;if(u!=null&&u.children)for(const c of u.children){const h=n(o,l,c);if(h)return h}}function r(o){const{layerTrees_3d:l}=Ht();return n(o,void 0,l)}function i(o){const{bgLayers:l}=Ht();return l.find(u=>u.id===o)}function s(o){const{bgLayers:l}=Ht();return l.find(u=>u.name===o)}function a(o){const{setTheme:l}=Ht();l(o)}return{findById:t,findByName:e,find3dLayerById:r,findBgLayerById:i,findBgLayerByName:s,setTheme:a}}const M0=Wr();function _n(){function t(l,u){try{const f=JSON.parse(l).concat(JSON.parse(u));return new Set(f).size<f.length}catch{return!1}}function e(l){var u,f;return l.opacity=l.previousOpacity=(f=(u=l.metadata)==null?void 0:u.start_opacity)!=null?f:1,n(l),l}function n(l){var f,c,h,d,p,m,g;l.currentTimeMinValue||(l.currentTimeMinValue=(h=(f=l.time)==null?void 0:f.minDefValue)!=null?h:(c=l.time)==null?void 0:c.minValue);const u=((d=l.time)==null?void 0:d.mode)===Ur.RANGE;!l.currentTimeMaxValue&&u&&(l.currentTimeMaxValue=(g=(p=l.time)==null?void 0:p.maxDefValue)!=null?g:(m=l.time)==null?void 0:m.maxValue)}function r(l){var c,h,d;const u=i(l);let f=l.name;return u&&(f=(d=(h=(c=l.metadata)==null?void 0:c.time_layers)==null?void 0:h[u])!=null?d:f),f}function i(l){return[l.currentTimeMinValue,...l.currentTimeMaxValue?[l.currentTimeMaxValue]:[]].join(PL)}function s(l){var h,d;const u=ou();if(!((h=l.metadata)!=null&&h.exclusion))return;const f=rt(),c=f.layers.filter(p=>{var m,g;return t((m=l==null?void 0:l.metadata)==null?void 0:m.exclusion,(g=p==null?void 0:p.metadata)==null?void 0:g.exclusion)});c.length>0&&(f.removeLayers(...c.map(p=>p.id)),u.addNotification(at.t("The layer <b>{{layersToRemove}}</b> has been removed because it cannot be displayed while the layer <b>{{layer}}</b> is displayed",{count:c.length,layersToRemove:c.map(p=>at.t(p.name,{ns:"client"})).join(", "),layer:at.t(l.name,{ns:"client"}),ns:"client"}),fo.WARNING)),l.id!==((d=f.bgLayer)==null?void 0:d.id)&&a(l)}function a(l){var c,h,d;const u=rt(),f=ou();t((c=l.metadata)==null?void 0:c.exclusion,(d=(h=u.bgLayer)==null?void 0:h.metadata)==null?void 0:d.exclusion)&&(u.setBgLayer(null),f.addNotification(at.t("Background has been deactivated because the layer {{layer}} cannot be displayed on top of it.",{layer:at.t(l.name,{ns:"client"}),ns:"client"}),fo.WARNING))}function o(l,u=!0,f){var m;const c=Ht(),h=rt(),d=f?c.layerTrees_3d:c.theme,p=M0.findById(l,d);if(p){const g=((m=p.metadata)==null?void 0:m.linked_layers)||[];u===!1?h.removeLayers(p.id,...g):(s(p),(f?h.add3dLayers:h.addLayers)(e(p),...g.map(v=>e(M0.findById(parseInt(v,10))))))}}return{initLayer:e,getLayerCurrentLabel:r,getLayerCurrentTime:i,handleExclusionLayers:s,toggleLayer:o}}class VA{styleSerialToStyle(e){return e?JSON.parse(decodeURIComponent(e))||[]:[]}styleLocalStorageToStyle(e){return e?JSON.parse(e).medium||[]:[]}styleToSerial(e){return e&&e.length>0?JSON.stringify(e):""}styleToLocalStorage(e){return e&&e.length>0?JSON.stringify({medium:e}):""}}const Iu=new VA;function T0(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(r)},e)}}function la(t){return(t==null?void 0:t.trim())&&!isNaN(Number(t))?Number(t):void 0}function jA(t,e){return(t==null?void 0:t.split(e).map(n=>n!==null&&!isNaN(Number(n))?parseFloat(n):void 0))||[]}function GA(t,e){return(t==null?void 0:t.split(e).map(Th))||[]}function Th(t){return(t==null?void 0:t.trim())==="true"?!0:(t==null?void 0:t.trim())==="false"?!1:void 0}function N0(){return window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches}function Er(t){return typeof window<"u"&&window.navigator&&t.test(navigator.userAgent)}function UA(t){const e=new RegExp("[^/]*//[^/]+/(.*)"),n=t.match(e);return n?n[1]:null}const BA=Er(/firefox/i);Er(/safari/i)&&!Er(/chrome/i)&&Er(/android/i),Er(/iP(ad|od|hone)/i),Er(/chrome/i)&&Er(/android/i),Er(/chrome/i),Er(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Er(/Edge/i);const xo="ipv6",ku="address",Mo="applogin",To="localforage",ua="debug",WA="embeddedserver",qA="embeddedserverprotocol",Ru="fid",Di="lang",$u="layersOpen",Nh="version",HA="map_id",L0="layers",C0="bgLayer",A0="opacities",No="theme",P0="time",D0="zoom",zA="SRS",I0="X",k0="Y",Lo="serial",YA="serialLayer",R0=["basemap_2015_global","topogr_global","topo_bw_jpeg"],Lh="lc",Ch="sliderRatio",$0="bgOpacity",XA="layers_indices",F0="layers_opacity",V0="layers_visibility";var kt=(t=>(t[t.localStorage=0]="localStorage",t[t.permalink=1]="permalink",t[t.permalinkAsPath=2]="permalinkAsPath",t[t.permalinkAndLocalStorage=3]="permalinkAndLocalStorage",t))(kt||{});class j0{}class Fu extends j0{static processRules(e){return Fu.ruleUseLocalStorage(e)?kt.localStorage:kt.permalink}static processRulesForKey(e,n){if(e===No&&{}.VITE_DEPLOY_GHPAGES!=="true")return kt.permalinkAsPath;if(R0.includes(e))return kt.localStorage;if(e===Lo)return kt.permalink;if(e===$u)return kt.localStorage}static ruleUseLocalStorage(e){return[KA,ZA,JA].reduce((n,r)=>n||r(e),!1)}}const KA=t=>Object.keys(t).length===0,ZA=t=>Object.keys(t).length===1&&(t.hasOwnProperty(xo)||t.hasOwnProperty(Mo)||t.hasOwnProperty(To)),JA=t=>Object.keys(t).length===3&&t.hasOwnProperty(xo)&&t.hasOwnProperty(Mo)&&t.hasOwnProperty(To);class Vu extends j0{static processRules(){return kt.permalinkAndLocalStorage}static processRulesForKey(e,n){if(Vu.ruleUsePermalink(e))return kt.permalink;if(e===$u||R0.includes(e))return kt.localStorage;if(e===Lo)return kt.permalink;if(e===No)return kt.permalinkAsPath}static ruleUsePermalink(e){return[QA,eP,tP].reduce((n,r)=>n||r(e),!1)}}const QA=t=>t===Lh||t===Ch,eP=t=>t===Nh,tP=t=>t===No&&{}.VITE_DEPLOY_GHPAGES==="true";class G0{constructor(){nt(this,"snappedUrl");this.snappedUrl=new URL(window.location.toString())}get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}getSnappedUrl(){return this.snappedUrl}getSnappedParamsAsObj(){return this.getSnappedParams().reduce((e,n)=>{const[r,i]=n.split("=");return{...e,[r]:i}},{})}getSnappedParams(){return this.getSnappedUrl().search.replace("?","").split("&").filter(e=>e.split("=")[1])}setItem(e,n){const r=new URLSearchParams(new URL(window.location.toString()).search);r.set(encodeURIComponent(e),encodeURIComponent(n));try{window.history.replaceState(null,"","?"+r.toString())}catch{}}getItem(e){const n=this.getSnappedUrl().searchParams.get(e);return n!==null?decodeURIComponent(n):n}removeItem(e){const n=new URLSearchParams(new URL(window.location.toString()).search);n.delete(e);try{window.history.replaceState(null,"","?"+n.toString())}catch{}}encodeQueryParam(e,n){return`${encodeURIComponent(e)}=${encodeURIComponent(n)}`}}const ys=new G0;class nP extends G0{getItem(e){const n=this.getSnappedUrl().pathname.split("/"),r=n.findIndex(i=>i===e);return n[r+1]}setItem(e,n){const r=new URL(window.location.toString()).search,i=`/${e}/${n}${r}`;try{window.history.replaceState(null,"",i)}catch{}}}const rP=new nP;class iP{get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}removeItem(e){const n=this.getWriteStorages(e);n==null||n.map(r=>r.removeItem(e))}setItem(e,n){this.setValue(e,n)}getItem(e){return this.getValue(e)}get paramKeys(){return ys.getSnappedParamsAsObj()}getValue(e){var i;const n=(i=this.correspondingStorages(Fu.processRules(this.paramKeys)))==null?void 0:i.pop(),r=this.storageForKey(e,Fu,n);return r?r.getItem(e):null}setValue(e,n){const r=this.getWriteStorages(e);r==null||r.map(i=>i.setItem(e,n))}getWriteStorages(e){const n=this.correspondingStorages(Vu.processRules()),r=this.storageForKey(e,Vu);return r?[r]:n}storageForKey(e,n,r){var s;const i=(s=this.correspondingStorages(n.processRulesForKey(e,this.paramKeys)))==null?void 0:s.pop();return i!=null?i:r}correspondingStorages(e){if(e===kt.permalinkAndLocalStorage)return[ys,localStorage];if(e===kt.localStorage)return[localStorage];if(e===kt.permalink)return[ys];if(e===kt.permalinkAsPath)return[rP]}}const ju=new iP;function sP(t){return aP(t)||oP(t)||lP(t)||uP(t)}const aP=t=>Object.keys(t).length===0,oP=t=>{const e=Object.keys(t);return Object.keys(t).length===1&&[xo,Mo,To,Ru,Di,ku,ua].some(n=>e.indexOf(n)!==-1)},lP=t=>{const e=Object.keys(t),n=i=>e.indexOf(i)!==-1,r=[[Mo,To],[ua,Ru],[Di,Ru],[ua,Di],[ua,ku],[Di,ku]];return Object.keys(t).length===2&&r.reduce((i,s)=>i||s.every(n),!1)},uP=t=>{const e=Object.keys(t),n=a=>e.indexOf(a)!==-1,r=[xo,Mo,To].every(n),i=[ua,Ru,Di].every(n),s=[ua,ku,Di].every(n);return Object.keys(t).length===3&&(r||i||s)};class cP{constructor(){nt(this,"intialVersion");const e=ju.paramKeys,n=this.getValue(Nh,la);this.intialVersion=n?Math.max(2,Math.min(n,3)):sP(e)?3:2,this.setValue(Nh,3)}getInitialVersion(){return this.intialVersion}mapToEntity(e,n){return n?n(e):e}mapToStorage(e,n){return n?n(e):String(e)}getValue(e,n){return this.mapToEntity(ju.getValue(e),n)}setValue(e,n,r){ju.setValue(e,this.mapToStorage(n,r))}removeItem(e){ju.removeItem(e)}}const Le=new cP,fP=["line","fill","symbol","fill-extrusion","background","hillshade"],hP="https://vectortiles.geoportail.lu",dP="/getpermalinkstyle",pP="/uploadpermalinkstyle",mP="/deletepermalinkstyle";class gP{constructor(){nt(this,"_vectortilesUrl",hP);nt(this,"_mvtStylesGetUrl",dP);nt(this,"_mvtStylesUploadUrl",pP);nt(this,"_mvtStylesDeleteUrl",mP)}get vectortilesUrl(){return this._vectortilesUrl===void 0&&console.warn("Warning: vectortilesUrl is not set."),this._vectortilesUrl}get mvtStylesGetUrl(){return this._mvtStylesGetUrl===void 0&&console.warn("Warning: mvtStylesGetUrl is not set."),this._mvtStylesGetUrl}get mvtStylesUploadUrl(){return this._mvtStylesUploadUrl===void 0&&console.warn("Warning: mvtStylesUploadUrl is not set."),this._mvtStylesUploadUrl}get mvtStylesDeleteUrl(){return this._mvtStylesDeleteUrl===void 0&&console.warn("Warning: mvtStylesDeleteUrl is not set."),this._mvtStylesDeleteUrl}setRegisterUrl_v3(e){e.get&&(this._mvtStylesGetUrl=e.get),e.upload&&(this._mvtStylesUploadUrl=e.upload),e.delete&&(this._mvtStylesDeleteUrl=e.delete),e.vectortiles&&(this._vectortilesUrl=e.vectortiles)}}const ca=new gP,qr=()=>({bg_layers:[{icon_id:"route",vector_id:"roadmap",simple_style_class:"road",medium_style_class:"road",expert_style_class:"maputnik",id:556,is_default:!0},{icon_id:"topo",vector_id:"topomap",medium_style_class:"topo",expert_style_class:"maputnik",id:529},{icon_id:"topo_bw",vector_id:"topomap_gray",medium_style_class:"topo",expert_style_class:"maputnik",id:502},{icon_id:"ortho",id:530},{icon_id:"hybrid",id:501},{icon_id:"blank",id:0}],bg_layer_theme_defaults:{tourisme:502},simple_styles:{road:[{unlocalized_label:"Light grey",hillshade:!1,colors:["#ffffff","#ffffff","#d6e0d7","#e1e1e1","#cccccc","#f2f2f2"],selected:!1},{unlocalized_label:"Dark grey",hillshade:!1,colors:["#808080","#808080","#494b4a","#505052","#232426","#454545"],selected:!1},{unlocalized_label:"Dark sand",hillshade:!1,colors:["#9e9375","#9e9375","#6b6249","#403928","#b8aa84","#1a1814"],selected:!1},{unlocalized_label:"Kids",hillshade:!1,colors:["#f9c50d","#ffffff","#839836","#d6d3ce","#2a5ba8","#eeeeee"],selected:!1},{unlocalized_label:"Light mauve",hillshade:!1,colors:["#f3edf5","#f3edf5","#9d7da8","#caa9d1","#613b5c","#e5d3e6"],selected:!1},{unlocalized_label:"Light Blue",hillshade:!1,colors:["#dceaf5","#dceaf5","#5598cf","#81b7e3","#3b576e","#b6cde0"],selected:!1}]},medium_default_styles:{road:[{label:"Roads primary",color:"#f7f7f7",lines:["lu_road_trunk_primary","lu_bridge_major","lu_tunnel_major","lu_road_major_motorway"],visible:!0},{label:"Roads secondary",color:"#f7f7f7",lines:["lu_road_minor","lu_road_secondary_tertiary","lu_bridge_minor","lu_road_path","lu_bridge_path","lu_bridge_railway case","lu_bridge_path case"],visible:!0},{label:"Vegetation",color:"#B8D293",opacity:"1",fills:["lu_landcover_wood","lu_landcover_grass","lu_landuse_stadium","lu_landuse_cemetery"],visible:!0},{label:"Buildings",color:"#D6AA85",opacity:"1",fillExtrusions:["lu_building-3d_public","lu_building-3d"],fills:["lu_building","lu_building_public"],lines:["lu_bridge_railway","lu_railway","lu_tunnel_railway"],visible:!0},{label:"Water",color:"#94c1e1",lines:["lu_waterway","lu_waterway_tunnel","lu_waterway_intermittent"],fills:["lu_water"],visible:!0},{label:"Background",color:"#e7e7e7",backgrounds:["background"],visible:!0},{label:"Hillshade",hillshades:["hillshade"],visible:!0}],topo:[{label:"Primary Names",symbols:["lu_place-label_other","lu_place-label_city","lu_place-label_canton","lu_country-label-other","lu_country-label","place_label_other","place_label_city","country_label-other","country_label"],visible:!0},{label:"Secondary Names",symbols:["lu_place-label_isolated","lu_place-label_locality_forest","lu_place-label_locality_lieudit"],visible:!0},{label:"Transport",lines:["lu_tunnel_track-casing","lu_tunnel_major_motorway-casing","lu_tunnel_railway_transit","lu_tunnel_railway","lu_tunnel_railway-hatching","lu_tunnel_path","lu_tunnel_track","lu_tunnel_minor","lu_tunnel_major_motorway","lu_tunnel_secondary_tertiary","lu_tunnel_trunk_primary","lu_road_track-casing","lu_road_minor-casing","lu_road_major_motorway-casing","lu_road_secondary_tertiary-casing","lu_road_trunk_primary-casing","lu_road_pier","lu_road_path","lu_road_track","lu_road_minor","lu_road_major_motorway","lu_road_secondary_tertiary","lu_road_trunk_primary","lu_tram","lu_tram-hatching","lu_railway_transit","lu_railway","lu_railway-hatching","lu_bridge_railway-casing","lu_bridge_track-casing","lu_bridge_path-casing","lu_bridge_minor-casing","lu_bridge_major_motorway-casing","lu_bridge_secondary_tertiary-casing","lu_bridge_trunk_primary-casing","lu_bridge_railway","lu_bridge_path","lu_bridge_track","lu_bridge_minor","lu_bridge_major_motorway","lu_bridge_secondary_tertiary","lu_bridge_trunk_primary","tunnel_track-casing","tunnel_major_motorway-casing","tunnel_railway_transit","tunnel_railway_transit-hatching","tunnel_railway","tunnel_railway-hatching","tunnel_path","tunnel_track","tunnel_minor","tunnel_major_motorway","tunnel_secondary_tertiary","tunnel_trunk_primary","road_track-casing","road_minor-casing","road_major_motorway-casing","road_secondary_tertiary-casing","road_trunk_primary-casing","road_pier","road_path","road_track","road_minor","road_major_motorway","road_secondary_tertiary","road_trunk_primary","railway-transit","railway-transit-hatching","railway","railway-hatching","bridge_railway-casing","bridge_path-casing","bridge_track_casing","bridge_minor-casing","bridge_major_motorway-casing","bridge_secondary_tertiary-casing","bridge_trunk_primary-casing","bridge_railway","bridge_path","bridge_track","bridge_minor","bridge_major_motorway","bridge_secondary_tertiary","bridge_trunk_primary"],symbols:["lu_road_major-label","lu_motorway-shield","lu_road-shield"],visible:!0},{label:"Vegetation",fills:["lu_landuse_stadium","lu_landuse_cemetery","lu_landuse_gras","lu_landuse_park","lu_landuse_park-outline","lu_landuse_vineyard","lu_landuse_orchard","lu_landuse_wood","landcover_grass","landcover_wood"],visible:!0},{label:"Electricity",fills:["lu_power_station","lu_power_pylone"],lines:["lu_power_line","lu_power_station-outline"],symbols:["lu_power_station-label","lu_eolienne"],visible:!0},{label:"Contours and Height Points",lines:["lu_contour-100","lu_contour-50","lu_contour-20","lu_contour-10","lu_contour"],symbols:["lu_contour-label-100","lu_contour-label-20","lu_apex-label"],visible:!0},{label:"Hillshade",hillshades:["lu_hillshade"],visible:!0}]},http_bg_server:"wmts{1-2}",https_bg_server:"wmts{3-4}",bg_wmts_server_path:"mapproxy_4_v3/wmts/{Layer}",bg_wmts_tile_template:"{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}",bg_layer_projection:"EPSG:3857",olcs_extent:[5.31,49.38,6.64,50.21],olcs_extent_projection:"EPSG:3857",bg_layer_resolutions:[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],bg_matrix_ids:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"]});function Hr(){function t(g){const y=ys.getItem(WA),v=ys.getItem(qA)||"http";return(y?`${v}://${y}`:ca.vectortilesUrl)+`/styles/${g}/style.json`}function e(g){return`${ca.vectortilesUrl}/styles/${g}/{z}/{x}/{y}.png`}function n(g){return/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi.test(g)}function r(g,y){const v=$n();if(g==null)return;const E=new Map;v.bgVectorSources.forEach((b,x)=>{if(x===g.id){const T={...b,xyz_custom:y};E.set(x,T)}else E.set(x,b)}),v.setBgVectorSources(E)}function i(g,y,v=!1){const E="",b=t(y),x=e(y),T={label:g,defaultMapBoxStyle:b,defaultMapBoxStyleXYZ:x,xyz:x,xyz_custom:E,style:b},M=ys.getItem(Lo),G=ys.getItem(YA);if(M)n(M)&&console.log(G);else if(!v)return Promise.resolve(T);return Promise.resolve(T)}function s(g){const y=qr().medium_default_styles.road;if(g){g.colors.forEach((E,b)=>{y[b].color=E});const v=y.findIndex(E=>E.label==="Hillshade");y[v].visible=g.hillshade}return y}function a(g,y,v){if(!g||!y.get(g.id))return;const E=JSON.parse(JSON.stringify(y.get(g.id)));if(!!E&&!(!E||!E.layers))return v&&v.forEach(b=>{E==null||E.layers.forEach((x,T)=>{for(const M of fP)if((b[`${M}s`]||[]).includes(x.id)){const I=Object.assign({},E.layers[T].paint);b.color&&(I[`${M}-color`]=b.color,I[`${M}-opacity`]=1,E.layers[T].paint=I),E.layers[T].layout=Object.assign({},E.layers[T].layout,{visibility:b.visible?"visible":"none"})}})}),E}function o(g){return g?fetch(`${ca.mvtStylesDeleteUrl}?id=${g}`).catch(console.warn):Promise.resolve()}async function l(g,y){await o(y);const v=new FormData,E=JSON.stringify(g),b=new Blob([E],{type:"application/json"});v.append("style",b,"style.json");const x={method:"POST",body:v};return fetch(ca.mvtStylesUploadUrl,x).then(T=>T.json()).then(T=>T.id).catch(console.warn)}function u(g,y){if(!y)return;const v=g.maplibreMap;!v||(v.loaded()?v.setStyle(y):new Promise(E=>v.once("data",E)).then(()=>v.setStyle(y)))}function f(g){return qr().bg_layers.find(y=>y.id==(g==null?void 0:g.id))}function c(g){const y=f(g);return y==null?void 0:y.vector_id}function h(g){const y=f(g);return(y==null?void 0:y.vector_id)!==void 0}function d(g){const y=f(g);return{isEditable:(y==null?void 0:y.vector_id)!==void 0,hasSimpleStyle:(y==null?void 0:y.simple_style_class)!==void 0,hasAdvancedStyle:(y==null?void 0:y.medium_style_class)!==void 0,hasExpertStyle:(y==null?void 0:y.expert_style_class)!==void 0}}function p(g,y){return y.map(v=>Object.assign(v,{selected:v.colors.every((E,b)=>{var x;return((x=g[b])==null?void 0:x.color)===E})}))}function m(){const g=[],y=$n();qr().bg_layers.forEach(v=>{if(v.vector_id){const E=i(v.icon_id,v.vector_id);g.push(E.then(b=>({id:v.id,config:b})))}}),Promise.all(g).then(v=>{const E=new Map;v.forEach(b=>E.set(b.id,b.config)),y.setBgVectorSources(E)})}return{getDefaultMapBoxStyleUrl:t,getDefaultMapBoxStyleXYZ:e,setConfigForLayer:i,getRoadStyleFromSimpleStyle:s,applyDefaultStyle:a,applyConsolidatedStyle:u,getVectorId:c,setCustomStyleSerial:r,unregisterStyle:o,registerStyle:l,checkSelection:p,isLayerStyleEditable:h,getStyleCapabilitiesFromLayer:d,initBackgroundsConfigs:m}}const $n=Si("style",()=>{const t=Hr(),e=st(),n=st(new Map),r=st(new Map),i=st(!1),s=st(null),a=st();function o(p){n.value=p}function l(p){const m=new Map;r.value.forEach((g,y)=>{y!==p&&m.set(y,g)}),r.value=m}function u(p,m){const g=new Map;r.value.forEach((y,v)=>g.set(v,y)),g.set(p,m),r.value=g}function f(p){e.value=t.getRoadStyleFromSimpleStyle(p),h()}function c(p){e.value=p,h()}function h(){i.value=!1}function d(){i.value=!0}return{bgStyle:e,bgVectorSources:n,bgVectorBaseStyles:r,isExpertStyleActive:i,appliedStyle:a,removeBaseStyle:l,setBaseStyle:u,setBgVectorSources:o,setSimpleStyle:f,setStyle:c,disableExpertStyle:h,enableExpertStyle:d,styleSerial:s}},{});class yP{constructor(){nt(this,"styleWatcher")}bootstrapStyle(){const e=$n();let n,r=!1;n=yn(()=>{e.bgVectorSources&&(this.restoreStyle(!1),r&&this.persistStyle(),r=!0,n&&n())})}persistStyle(){const e=$n(),{bgStyle:n}=ke(e);this.styleWatcher||(this.styleWatcher=He(n,(r,i)=>{if(i!==r){const s=rt();s.bgLayer&&(Le.setValue(s.bgLayer.name,r||[],Iu.styleToLocalStorage),Le.setValue(Lo,r||[],Iu.styleToSerial))}},{immediate:!0}))}restoreStyle(e){const n=$n();n.setStyle(null);const i=rt().bgLayer;if(i){let s=[];e||(s=Le.getValue(Lo,Iu.styleSerialToStyle)),s.length===0&&(s=Le.getValue(i.name,Iu.styleLocalStorageToStyle)),s&&s.length>0&&n.setStyle(s)}}}const Ah=new yP;var vs=(t=>(t.LAYER_OFFLINE_TILE="tile",t.LAYER_OFFLINE_VECTOR="vector",t.LAYER_OFFLINE_BG_VECTOR="bg_vector",t.LAYER_OFFLINE_BG_WMTS="off_bg_wmts",t))(vs||{}),Sr=(t=>(t.WMS="WMS",t.WFS="WFS",t.WMTS="WMTS",t.BG_WMTS="BG WMTS",t.BG_MVT="BG MVT",t["3D"]="3D",t.TILE_WMS="tileWMS",t))(Sr||{});const vP="id",U0="label",B0="layer_name",W0="metadata",_P="queryable_id",bP="current_time",EP="time",SP="defaultMapBoxStyle",wP="https://map.geoportail.lu/ogcproxywms",OP="https://map.geoportail.lu/httpsproxy";class xP{constructor(){nt(this,"_wmsProxyUrl",wP);nt(this,"_remoteProxyUrl",OP)}get wmsProxyUrl(){return this._wmsProxyUrl===void 0&&console.warn("Warning: proxyWmsUrl is not set."),this._wmsProxyUrl}get remoteProxyUrl(){return this._remoteProxyUrl===void 0&&console.warn("Warning: remoteProxy is not set."),this._remoteProxyUrl}getProxyfiedUrl(e){return e.indexOf("httpsproxy")>0?e:this.remoteProxyUrl+"?url="+encodeURIComponent(e)}init_v3(e,n){e&&(this._wmsProxyUrl=e),n&&(this._remoteProxyUrl=n)}}const _s=new xP;function q0(){return mt.transformExtent([5.31,49.38,6.64,50.21],by,ho)}function H0(t){var e;return!!((e=t==null?void 0:t.metadata)!=null&&e.hasRetina)&&N0()}function MP(t,e="https"){const n=t.imageType.split("/")[1],r=Le.getValue(xo,Th)?"app.geoportail.lu":"geoportail.lu";return`${e==="https"?"//wmts{3-4}.":"//wmts{1-2}."}${r}/mapproxy_4_v3/wmts/{Layer}${H0(t)?"_hd":""}/{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}.${n}`}class TP{createOlLayer(e){const{name:n,layers:r,imageType:i,url:s,id:a}=e,o=new Cd.default({url:s||_s.wmsProxyUrl,hidpi:N0(),serverType:"mapserver",params:{FORMAT:i,LAYERS:r},...s!=null||_s.remoteProxyUrl?{crossOrigin:"anonymous"}:{}});return new w1.default({properties:{"olcs.extent":q0(),label:n,id:a},source:o})}setLayerTime(e,n){const r=e.getParams();r.TIME=n,e.updateParams(r)}}const z0=new TP,NP=[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],LP=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"];class CP{createOlLayer(e){const{name:n,imageType:r,id:i}=e,s=H0(e),a=mt.get(ho),o=a.getExtent(),l=new Sc.default({url:MP(e),tilePixelRatio:s?2:1,layer:n,matrixSet:`GLOBAL_WEBMERCATOR_4_V3${s?"_HD":""}`,format:r,requestEncoding:"REST",projection:a,tileGrid:new Pd.default({origin:Qb.getTopLeft(o),extent:o,resolutions:NP,matrixIds:LP}),style:"default",crossOrigin:"anonymous"});return new Ad.default({source:l,properties:{"olcs.extent":q0(),label:n,id:i}})}setLayerTime(e,n,r){const i=e.get(W0).time_layers[r],s=n.getUrls();if(s){const a=this.transformUrls(s,i);n.setUrls(a),e.set(U0,i),e.set(B0,i)}}transformUrls(e,n){return e.map(r=>r.replace(/[/][^/]*[/]{TileMatrixSet}/,`/${n}/{TileMatrixSet}`))}}const Y0=new CP;class Ph extends O1.default{constructor(e){const n=Object.assign({},e);delete n.accessToken,delete n.style,delete n.container,delete n.xyz,super(n),this.set("xyz",e.maplibreOptions.xyz),this.set("xyz_custom",e.maplibreOptions.xyz_custom),this.xyz_=e.xyz,e.accessToken&&(Dd.default.accessToken=e.accessToken),this.map_=new Dd.default.Map({container:e.maplibreOptions.container,style:e.maplibreOptions.style,attributionControl:!1,interactive:!1}),this.maplibreMap=this.map_}getMapBoxMap(){return this.map_}getMapLibreMap(){return this.map_}render(e){const n=this.map_.getCanvas(),r=e.viewState;n.style.position="absolute";const i=this.getVisible();n.style.display=i?"block":"none";const s=this.getOpacity().toString();s!==n.style.opacity&&(n.style.opacity=s);const a=r.rotation;return a&&this.map_.rotateTo(t1.toDegrees(-a),{animate:!1}),this.map_.jumpTo({center:mt.toLonLat(r.center),zoom:r.zoom-1,animate:!1}),this.map_._frame&&(this.map_._frame.cancel(),this.map_._frame=null),this.map_._render(),n}setLayerVisibility(e,n){this.map_.setLayoutProperty(e,"visibility",n?"visible":"none")}getStyle(){return this.map_.getStyle()}getXYZ(){return this.get("xyz")}}class AP{createOlLayer(e,n){const r=Pn(),{id:i,metadata:s,name:a}=e,o=n.get(i);if(!o)return;const l={container:r.getOlMap().getTarget(),...o},u=new Ph({maplibreOptions:l,label:a,id:i,queryable_id:i,metadata:s}),f=$n(),c=Hr();return u.getMapLibreMap().loaded()?f.setBaseStyle(i,u.getMapLibreMap().getStyle()):new Promise(h=>u.getMapLibreMap().once("data",h)).then(()=>f.setBaseStyle(i,u.getMapLibreMap().getStyle())),u.set(SP,c.getDefaultMapBoxStyleUrl(c.getVectorId(e))),u}}const PP=new AP,DP="fr",IP=!0,kP=!1,RP=!1,bt=Si("app",()=>{const t=ve(DP),e=ve(IP),n=ve(kP),r=ve(RP),i=ve(),s=ve(),a=ve(!1),o=ve(!1),l=ve(!1);function u(v){t.value=v}function f(v){e.value=v,v||(r.value=!1,n.value=!1)}function c(v){n.value=v,v&&(r.value=!1)}function h(v){r.value=v}function d(v){s.value=v}function p(v){i.value=v}function m(){a.value=!0}function g(){a.value=!1}function y(v){o.value=v}return{lang:t,layersOpen:e,myLayersTabOpen:n,themeGridOpen:r,mapId:i,styleEditorOpen:a,remoteLayersOpen:s,drawToolbarOpen:o,setLang:u,setLayersOpen:f,setMyLayersTabOpen:c,setThemeGridOpen:h,setRemoteLayersOpen:d,setMapId:p,openStyleEditorPanel:m,closeStyleEditorPanel:g,setDrawToolbarOpen:y,isOffLine:l}},{});function X0(){const{initLayer:t}=_n(),{addLayers:e,setBgLayer:n}=rt(),{findBgLayerByName:r}=Wr();function i(a){if(a.layerType===vs.LAYER_OFFLINE_BG_VECTOR)return r(a.key);{const o=JSON.parse(a.layerSerialization),{id:l,label:u,opacity:f}=o;let c=a.layerType;return c===Sr.BG_WMTS&&(c=vs.LAYER_OFFLINE_BG_WMTS),{id:l,name:u,options:o,type:c,metadata:{start_opacity:f}}}}function s(a){if([vs.LAYER_OFFLINE_TILE,vs.LAYER_OFFLINE_BG_VECTOR].includes(a.layerType))try{const l=t(i(a));a.backgroundLayer?n(l):e(l)}catch{throw new Error("Invalid offline layer specification.")}}return{createOfflineLayer:s,offlineLayerToLayer:i}}let K0;function bs(){const t=rt(),e=X0(),{isOffLine:n}=ke(bt()),{minZoom:r,maxZoom:i}=ke(t),{removeAllLayers:s,setBgLayer:a}=t;function o(p){K0=p}function l(){return n.value}function u(p){n.value=p}function f(p){c(),h(p),d(p)}function c(){Sy(),s(),a(null)}function h(p){const{zooms:m}=p;r.value=m[0],i.value=m[m.length-1]}function d(p){[...p.layers].reverse().forEach(m=>e.createOfflineLayer(m))}return{localforage_v3:K0,isOffLine:n,initLocalforage_v3:o,getIsOffline:l,setIsOffline:u,doRestore:f}}class Z0{createOlLayer(e){const n=this.deserializeTileLayer(e.options);return new Ad.default(n)}createTileLoadFunction(){const e=bs().localforage_v3;return(r,i)=>{const s=UA(i);e.getItem(s).then(a=>{r.getImage().src=a||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="}).catch(()=>r.setState(3))}}}class $P extends Z0{deserializeTileLayer(e){const n=JSON.parse(e.source);if(n.tileLoadFunction=this.createTileLoadFunction(),n.gutter=parseInt("96",10),n.tileGrid){const r=new M1.default(JSON.parse(n.tileGrid));n.tileGrid=r}return e.source=new x1.default(n),e}serializeTileLayer(e){throw console.log("OlLayerTileWmsOfflineHelper::serializeTileLayer() options=",e),new Error("Method not implemented.")}}const FP=new $P;class VP extends Z0{deserializeTileLayer(e){const n=JSON.parse(e.source);if(n.tileLoadFunction=this.createTileLoadFunction(),n.tileGrid){const r=new Pd.default(JSON.parse(n.tileGrid));n.tileGrid=r}return e.source=new Sc.default(n),e}serializeTileLayer(e){throw console.log("OlLayerWmtsOfflineHelper::serializeTileLayer() options=",e),new Error("Method not implemented.")}}const jP=new VP;class GP{createOlLayer(e){let n;switch(this.getOfflineLayerSourceType(e)){case Sr.WMTS:n=jP.createOlLayer(e);break;case Sr.TILE_WMS:n=FP.createOlLayer(e);break;default:throw new Error(`Unrecognized offline layer type: ${e.type}`)}return n}getOfflineLayerSourceType(e){return e.options.sourceType}}const UP=new GP;class BP{createOlLayer(e,n){let r;if(n&&(r=PP.createOlLayer(e,n)),!r)switch(e.type){case Sr.WMS:r=z0.createOlLayer(e);break;case Sr.WMTS:case Sr.BG_WMTS:r=Y0.createOlLayer(e);break;case vs.LAYER_OFFLINE_TILE:case vs.LAYER_OFFLINE_BG_VECTOR:r=UP.createOlLayer(e);break;default:throw new Error(`Unrecognized layer type: ${e.type}`)}return r.set(vP,e.id),r.set(U0,e.name),r.set(B0,e.name),r.set(W0,e.metadata),r.set(_P,e.id),r.set(bP,_n().getLayerCurrentTime(e)),r.set(EP,e.time),r.setOpacity(e.opacity),r}}const J0=new BP;class WP{setLayerTime(e,n){const r=e.getSource();r instanceof Cd.default&&z0.setLayerTime(r,n),r instanceof Sc.default&&Y0.setLayerTime(e,r,n)}}const qP=new WP,Gu=-200;function Dh(){function t(d,p){if(!p)return;const m=u(p);d.addLayer(m)}function e(d,p){return d.getLayers().getArray().find(m=>m.get("id")===p)}function n(d,p){const m=e(d,p);m&&d.removeLayer(m)}function r(d,p){const m=d.getLayers().getArray();p.forEach((g,y)=>{const v=m.find(E=>E.get("id")===g.id);v==null||v.setZIndex(y+1)})}function i(d,p,m){const g=d.getLayers().getArray().find(y=>y.get("id")===p);g&&g.setOpacity(m)}function s(d,p){const m=_n(),g=e(d,p.id),y=m.getLayerCurrentTime(p);y&&g&&qP.setLayerTime(g,y)}function a(d){Xs.delete(d)}function o(d){return Xs.has(d.id)}function l(d,p){Xs.set(d,p)}function u(d){const p=d.id,m=Xs.get(p);if(m)return m;{const g=J0.createOlLayer(d);return l(p,g),g}}function f(d){return d&&Xs.get(d.id)||null}function c(d,p){const g=d.getLayers().getArray().find(y=>y.getZIndex()===Gu);g&&p(g)}function h(d,p,m){var b;const g=d.getLayers(),y=g.getArray().findIndex(x=>x.getZIndex()===Gu),v=(b=g.getArray()[y])==null?void 0:b.get("id");let E;p&&(o(p)?E=f(p):(E=J0.createOlLayer(p,m),l(p.id,E))),y>=0?E?(E.setZIndex(Gu),g.setAt(y,E)):g.removeAt(y):E&&(E.setZIndex(Gu),d.addLayer(E)),v&&v!==(p==null?void 0:p.id)&&Ah.restoreStyle(!0)}return{addLayer:t,findLayer:e,removeLayer:n,removeFromCache:a,reorderLayers:r,setLayerOpacity:i,setLayerTime:s,getLayerFromCache:f,setBgLayer:h,applyOnBgLayer:c}}class HP{constructor(e){nt(this,"timeoutID");const n=rt(),r=$n(),i=Pn(),s=Hr(),a=Dh(),{getIsOffline:o}=bs(),{appliedStyle:l}=ke(r);He(()=>n.layers,(u,f)=>{const c={layers:f},h={layers:u},d=i.getRemovedLayers(h,c),p=i.getAddedLayers(h,c),m=i.getMutatedLayers(h,c);d.forEach(g=>a.removeLayer(e,g.id)),p.forEach(g=>{a.addLayer(e,g.layer),a.setLayerTime(e,g.layer)}),m.forEach(g=>{i.getMutationType(g.id,h,c)===Zf.ON_LAYER_TYPE?(a.removeLayer(e,g.id),a.addLayer(e,g)):a.setLayerOpacity(e,g.id,g.opacity),a.setLayerTime(e,g)}),h.layers&&a.reorderLayers(e,h.layers)}),He(()=>n.bgLayer,u=>u!==void 0&&a.setBgLayer(e,u,r.bgVectorSources)),yn(()=>{r.isExpertStyleActive||(l.value=s.applyDefaultStyle(n.bgLayer,r.bgVectorBaseStyles,r.bgStyle))}),He(l,u=>{o()||(r.bgStyle===null&&!r.isExpertStyleActive?s.unregisterStyle(r.styleSerial).then(r.styleSerial=null):(clearTimeout(this.timeoutID),this.timeoutID=setTimeout(()=>{s.registerStyle(u,r.styleSerial).then(f=>{var h;r.styleSerial=f;const c=(h=n==null?void 0:n.bgLayer)==null?void 0:h.id;(n==null?void 0:n.bgLayer)&&c!==void 0&&f!==void 0&&a.setBgLayer(e,n==null?void 0:n.bgLayer,r.bgVectorSources)})},2e3))),a.applyOnBgLayer(e,f=>s.applyConsolidatedStyle(f,u))}),He(()=>r.bgVectorSources,(u,f)=>{var c;for(const h of u.keys())(!f||f.get(h)!==u.get(h))&&(a.removeFromCache(h),h===((c=n==null?void 0:n.bgLayer)==null?void 0:c.id)&&a.setBgLayer(e,n==null?void 0:n.bgLayer,u))})}}class zP{constructor(e){const n=e.getView(),r=rt();He(()=>r.minZoom,i=>i!==void 0&&n.setMinZoom(i)),He(()=>r.maxZoom,i=>i!==void 0&&n.setMaxZoom(i))}}const YP={0:8,1:9,2:9,3:10,4:11,5:12,6:13,7:14,8:16,9:17,10:18,11:19,12:20,13:21};class XP{bootstrap(){this.restore(),this.persist()}persistZoom(){const e=Pn().getOlMap().getView(),n=()=>{const r=e.getZoom();Le.setValue(D0,r?Math.ceil(r):null)};n(),Id.listen(e,"change:resolution",T0(n,300))}persistXY(){const e=Pn().getOlMap().getView(),n=()=>{const r=e.getCenter();Le.setValue(I0,r?Math.round(r[0]):null),Le.setValue(k0,r?Math.round(r[1]):null)};n(),Id.listen(e,T1.default.PROPERTYCHANGE,T0(n,300))}persist(){this.persistXY(),this.persistZoom()}restore(){const e=Pn().getOlMap().getView(),n=Le.getValue(D0,la),r=Le.getInitialVersion(),i=Le.getValue(I0,la),s=Le.getValue(k0,la),a=Le.getValue(zA),o=mt.getTransform(K2,ho);let l,u;n!==void 0?u=r===3?Number(n):YP[n]:u="9",i!=null&&s!=null?r===3&&a!=null?l=mt.transform([i,s],a,ho):l=r===3?[i,s]:o([s,i],void 0,2):l=mt.transform([6,49.7],by,ho),e.setCenter(l),e.setZoom(u)}}const KP=new XP,ZP={key:0,class:"absolute bottom-0 z-10 text-[0.8em] px-[4px] text-[#6b818f] bg-[#ffffffb3]"},JP=me(pe({__name:"attribution-control",setup(t){const e=rt(),n=ve("");return yn(()=>{var r,i;n.value=((i=(r=e.bgLayer)==null?void 0:r.metadata)==null?void 0:i.attribution)||""}),(r,i)=>{const s=Kc("dompurify-html");return n.value?Sl((P(),F("div",ZP,null,512)),[[s,n.value]]):$("v-if",!0)}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/attribution-control.vue"]]);function Co(t,e){const n=new t(e),r=Pn(),i=Is("olMap");return gn(()=>{i.addControl(n),i.changed()}),hi(()=>{const s=r.getOlMap();s.removeControl(n),s.changed()}),{control:n}}const QP=["title"],eD=me(pe({__name:"location-control",props:{className:{type:String,required:!1,default:"location-button"},label:{type:String,required:!1,default:"\uE800"},tipLabel:{type:String,required:!1,default:"Location"}},setup(t){const{t:e}=Ke(),n=t,r=ve(null);function i(){}return gn(()=>Co(kd.default,{...n,target:r})),(s,a)=>(P(),F("div",{ref_key:"controlElement",ref:r,class:Pe(`tracker-off ${n.className} ${S(Yo.CLASS_UNSELECTABLE)} ${S(Yo.CLASS_CONTROL)}`)},[L("button",{title:S(e)(n.tipLabel),onClick:i},oe(n.label),9,QP)],2))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/location-control.vue"]]),tD=["title"],nD=me(pe({__name:"map-3d",props:{className:{type:String,required:!1,default:"map-3d-button"},label:{type:String,required:!1,default:"\uE057"},tipLabel:{type:String,required:!1,default:"3d"}},setup(t){const e=rt(),{t:n}=Ke(),r=t,i=ve(null);gn(()=>Co(kd.default,{...r,target:i}));const s=()=>{e.setIs3dActive(!e.is3dActive)};return(a,o)=>(P(),F("div",{ref_key:"controlElement",ref:i,class:Pe(`${r.className} ${S(Yo.CLASS_UNSELECTABLE)} ${S(Yo.CLASS_CONTROL)} ${S(e).is3dActive?"active":""}`)},[L("button",{title:S(n)(r.tipLabel),onClick:s},oe(r.label),9,tD)],2))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/map-3d.vue"]]),rD=me(pe({__name:"fullscreen-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01C"},labelActive:{type:String,required:!1,default:"\uE02C"}},setup(t){const e=t;return Co(N1.default,e),(n,r)=>$("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/fullscreen-control.vue"]]),iD=me(pe({__name:"zoom-control",props:{className:{type:String,required:!1},zoomInLabel:{type:String,required:!1,default:"\uE032"},zoomOutLabel:{type:String,required:!1,default:"\uE033"}},setup(t){const e=t;return Co(L1.default,e),(n,r)=>$("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/zoom-control.vue"]]);class sD extends C1.default{constructor(n){super(n);nt(this,"ol3dm")}handleZoomToExtent(){this.ol3dm&&this.ol3dm.luxCameraExtentInRadians&&this.ol3dm.is3dEnabled()||super.handleZoomToExtent()}}const aD=me(pe({__name:"zoom-to-extent-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01B"},tipLabel:{type:String,required:!1},extent:{type:Array,required:!0}},setup(t){return Co(sD,t),(n,r)=>$("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map-controls/zoom-to-extent-control.vue"]]),Q0=me(pe({__name:"map-container",props:{v4_standalone:{type:Boolean,required:!1,default:!1}},setup(t){const e=Pn(),n=ve(null),r=e.createMap(),i=[425152.9429259216,632446599999133e-8,914349.9239510496,6507914867875754e-9];return gn(()=>{n.value&&(new HP(r),new zP(r),KP.bootstrap(),r.setTarget(n.value),window.olMap=r)}),Xp("olMap",r),(s,a)=>(P(),F("div",{id:"map-container",ref_key:"mapContainer",ref:n,class:"h-full w-full bg-white relative"},[te(iD),te(aD,{extent:i}),te(rD),te(JP),s.v4_standalone?(P(),je(nD,{key:0})):$("v-if",!0),te(eD)],512))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/map/map-container.vue"]]),Uu={name:"blank",id:0};function Ih(){const t=bt(),{mapId:e}=ke(t),n=Wr(),r=rt(),i=_n(),s=fe(()=>{var c;if(!e.value){const h=(c=Ht().theme)==null?void 0:c.name;if(h)return qr().bg_layer_theme_defaults[h]||l()}return l()});function a(c){const h=n.findBgLayerById(c);o(h||null)}function o(c){if(c){if(c.type===Sr.WMTS||c.type===Sr.BG_WMTS)c.type="BG WMTS";else if(c.type===Sr.BG_MVT)console.log(`passed through MVT layer ${c.name}`);else throw new Error(`Only WMTS and MVT BG layers are currently implemented (not ${c.type} for ${c.name})`);i.handleExclusionLayers(c),r.setBgLayer(i.initLayer(c))}else r.setBgLayer(null)}function l(){var c;return((c=f().find(h=>h.is_default))==null?void 0:c.id)||Uu.id}function u(){return Uu.id}function f(){return qr().bg_layers}return{setBgLayer:a,setMapBackground:o,getBgLayersFromConfig:f,getNullId:u,getDefaultSelectedId:l,defaultSelectedBgId:s}}const oD=["title"],e_=me(pe({__name:"background-selector-item",props:{bgTitle:{type:String,default:""},bgName:{type:String,default:""}},setup(t){const{t:e}=Ke(),n=t,r=fe(()=>{const s=e(n.bgTitle),a=n.bgTitle.length>0,o=`${e("Background layer:")} ${e(n.bgName)}`;return`${s}${a?" - ":""}${o}`}),i=fe(()=>`h-full w-full rounded-sm lux-bg-sel-icon
        lux-bg-sel-${n.bgName}
        bg-${n.bgName}_sm
        md:bg-${n.bgName}
        hd:bg-${n.bgName}_sm_hi
        hd_md:bg-${n.bgName}_hi`);return(s,a)=>(P(),F("button",{title:r.value,class:Pe(i.value)},null,10,oD))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/background-selector/background-selector-item.vue"]]),lD={key:0,class:"flex flex-row-reverse"},t_=me(pe({__name:"background-selector",props:{isOpen:{type:Boolean,default:!1}},setup(t){const{t:e}=Ke(),n=Ih(),r=rt(),i=Ht(),{bgLayer:s,is3dMesh:a}=ke(r),l=ve(t.isOpen),u=ve([]),f=fe(()=>{var p,m;return(m=(p=s.value)==null?void 0:p.id)!=null?m:n.getNullId()}),c=fe(()=>{var p,m;return(m=(p=u.value)==null?void 0:p.find(g=>g.id===f.value))==null?void 0:m.name});He(()=>i.bgLayers,p=>{u.value=qr().bg_layers.map(m=>Object.assign({id:m.id},p.find(g=>m.id===g.id),{name:m.icon_id}))},{immediate:!0}),He(()=>r.bgLayer,(p,m)=>{const g=r.layers;m===void 0&&p===null&&(g==null?void 0:g.length)===0&&(n.setBgLayer(n.defaultSelectedBgId.value),p===null&&ou().addNotification(e("Aucune couche n'\xE9tant d\xE9finie pour cette carte, une couche de fond a automatiquement \xE9t\xE9 ajout\xE9e.",{ns:"client"})))});function h(p){n.setBgLayer(p.id),l.value=!1}function d(){l.value=!l.value}return(p,m)=>S(a)?$("v-if",!0):(P(),F("div",lD,[L("div",{class:Pe(["lux-bg-sel border border-black",l.value===!0?"hidden":"block"])},[te(e_,{"aria-expanded":l.value,"bg-title":"Select BG layer","bg-name":c.value,onClick:d},null,8,["aria-expanded","bg-name"])],2),L("div",{class:Pe(l.value===!0?"flex flex-col md:flex-row":"hidden")},[(P(!0),F(Ue,null,xn(u.value,g=>(P(),F("div",{key:g.id,class:Pe(["lux-bg-sel hover:bg-cyan-600",g.id===f.value?"border-red-500 border-2":"border-black border"])},[te(e_,{"bg-name":g.name,onClick:y=>h(g)},null,8,["bg-name","onClick"])],2))),128))],2)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/background-selector/background-selector.vue"]]),uD=L("div",{class:"fixed inset-0 bg-gray-900 opacity-40 z-[1050]"},null,-1),cD={class:"bg-white shadow-modal rounded-lg overflow-hidden w-[700px]"},fD={class:"relative flex flex-row justify-center p-4 border-b-[1px]"},hD={class:"text-xl"},dD=[L("span",{"aria-hidden":"true"},"\xD7",-1)],pD={key:0,class:"p-[15px] border-t-[1px]"},mD={class:"flex flex-row justify-end"},n_=me(pe({__name:"modal-dialog",props:{footer:{type:Boolean,default:!0},maxHeight:{type:Boolean,default:!1},title:String},emits:["close"],setup(t){const{t:e}=Ke(),n=ve();gn(()=>{n.value.focus()});const r=st(!0);function i(){r.value=!1}return(s,a)=>(P(),je(Em,{to:"body"},[$(" backdrop "),uD,$(" modal "),te(kl,{appear:"","enter-active-class":"duration-200 ease-out","enter-from-class":"transform opacity-0 -translate-y-60","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-60",onAfterLeave:a[3]||(a[3]=o=>s.$emit("close"))},{default:fi(()=>[r.value?(P(),F("div",{key:0,role:"dialog",ref_key:"modal",ref:n,tabindex:"0",onKeydown:a[2]||(a[2]=cr(ur(o=>i(),["stop"]),["esc"])),class:"fixed inset-x-0 inset-y-8 flex items-start justify-center z-[1100] outline-none"},[L("div",cD,[$(" header (title)"),L("div",fD,[L("h4",hD,oe(t.title),1),L("button",{type:"button",class:"absolute right-2 top-1 text-slate-400 text-[24px]","data-dismiss":"modal","aria-label":"Close",onClick:a[0]||(a[0]=o=>i())},[...dD])]),$(" content slot "),L("div",{class:Pe(["p-[15px] overflow-y-auto",t.maxHeight?"max-h-96":"max-h-full"])},[jp(s.$slots,"content")],2),$(" footer (optional)"),t.footer?(P(),F("div",pD,[L("div",mD,[L("button",{type:"button",class:"lux-btn","data-dismiss":"modal",onClick:a[1]||(a[1]=o=>i())},oe(S(e)("Close",{ns:"client"})),1)])])):$("v-if",!0)])],544)):$("v-if",!0)]),_:3})]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/modal-dialog.vue"]]),kh=Si("metadata",()=>{const t=ve();function e(r){t.value=r}function n(){t.value=void 0}return{metadataId:t,setMetadataId:e,clearMetadataId:n}},{}),gD=["aria-expanded"],yD={class:"leading-6"},Bu=me(pe({__name:"expandable-panel",props:{expanded:{type:Boolean,required:!0},title:{type:String,required:!0}},emits:["togglePanel"],setup(t){return(e,n)=>(P(),F(Ue,null,[L("button",{onClick:n[0]||(n[0]=r=>e.$emit("togglePanel")),class:"group w-full text-left flex px-2 py-1.5 uppercase bg-tertiary","aria-expanded":e.expanded},[L("div",{class:Pe(["grow",e.expanded?"text-white":"text-secondary"])},oe(e.title),3),L("div",yD,[L("div",{class:Pe(["fa fa-sharp fa-solid group-hover:text-white text-primary",e.expanded?"fa-caret-up":"fa-caret-down"])},null,2)])],8,gD),L("div",{class:Pe(e.expanded?"":"hidden")},[jp(e.$slots,"default")],2)],64))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/expandable-panel.vue"]]),vD={class:"mb-px",key:"node.id"},_D=["data-cy"],bD=["aria-expanded","data-cy"],ED={class:"grow"},SD={class:"leading-6"},wD={key:1,class:"flex text-tertiary pr-2"},OD=["data-cy"],xD={class:"ml-1 hover:underline"},Rh=me(pe({__name:"layer-tree-node",props:{node:{type:Object,required:!0}},emits:["toggleLayer","toggleParent"],setup(t,{emit:e}){const n=t,r=e,{t:i}=Ke(),{setMetadataId:s}=kh(),a=!!n.node.children,o=n.node.depth===0,l=n.node.depth>=10,u=fe(()=>i(n.node.name,{ns:"client"}));function f(h){r("toggleLayer",h)}function c(h){r("toggleParent",h)}return(h,d)=>{const p=nS("layer-tree-node",!0);return a?(P(),F("div",vD,[$("    First level parents"),h.node.depth===1?(P(),F("div",{key:0,"data-cy":`parentLayerLabel-${h.node.id}`},[te(Bu,{title:u.value,expanded:h.node.expanded,onTogglePanel:d[0]||(d[0]=m=>c(h.node))},null,8,["title","expanded"])],8,_D)):h.node.depth>1&&!l?(P(),F(Ue,{key:1},[$("    Other parents (with custom panel style)"),L("button",{class:Pe(["w-full text-left flex px-2 py-1.5 pl-2",h.node.expanded?"text-tertiary":"bg-white text-primary"]),"aria-expanded":h.node.expanded,onClick:d[1]||(d[1]=m=>c(h.node)),"data-cy":`parentLayerLabel-${h.node.id}`},[L("div",ED,oe(u.value),1),L("div",SD,[L("div",{class:Pe(["fa-sharp fa-solid",h.node.expanded?"fa-minus":"fa-plus"])},null,2)])],10,bD)],2112)):$("v-if",!0),$("    Children"),l?$("v-if",!0):(P(),F("div",{key:2,class:Pe(["bg-secondary",[{"pl-2":h.node.depth>1},{"lux-collapse":!o},{expanded:!o&&h.node.expanded}]])},[(P(!0),F(Ue,null,xn(h.node.children,m=>(P(),je(p,{key:m.id,node:m,onToggleParent:d[2]||(d[2]=g=>c(g)),onToggleLayer:d[3]||(d[3]=g=>f(g))},null,8,["node"]))),128))],2))])):(P(),F("div",wD,[L("button",{class:"self-start before:text-[.85rem] before:transform before:translate-y-[.1rem] before:inline-block before:content-['\\f129'] fa-solid fa-fw fa-fh fa-info",onClick:d[4]||(d[4]=m=>S(s)(h.node.id))}),L("button",{class:Pe(["w-full text-left",{"font-bold":h.node.checked}]),onClick:d[5]||(d[5]=m=>f(h.node)),"data-cy":`layerLabel-${h.node.id}`},[L("i",{class:Pe(["fa-solid",h.node.checked?"fa-check-square":"fa-square"])},null,2),L("span",xD,oe(u.value),1)],10,OD)]))}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-tree/layer-tree-node.vue"]]);class MD{toggleNode(e,n,r){var i;return(n==null?void 0:n.id)===e?{...n,[r]:!n[r]}:{...n,children:(i=n.children)==null?void 0:i.map(s=>this.toggleNode(e,s,r))}}updateLayers(e,n){const{id:r}=e;if(e.children)return{...e,children:e.children.map(i=>this.updateLayers(i,n))};{const i=!!(n!=null&&n.find(s=>s.id===r));return{...e,checked:i}}}}const fa=new MD;var Fn=(t=>(t.WMS="WMS",t.WMTS="WMTS",t))(Fn||{});function TD(t,e){var n,r;return t.children&&!e.children||((n=e.children)==null?void 0:n.length)===0?1:e.children&&!t.children||((r=t.children)==null?void 0:r.length)===0?-1:0}function r_(t,e,n=0){const{name:r="",type:i=Fn.WMS,children:s}=t,a=`${i}||${e}||${r}`.split("-").join("%2D"),o=rt();return{id:a,name:r,depth:n,children:s==null?void 0:s.sort(TD).map(l=>r_(l,e,n+1)),checked:o.hasLayer(a),expanded:!1}}function ND(t){const e=decodeURIComponent(t),[n,r,i]=e.split("||");return i_({id:e,url:_s.getProxyfiedUrl(r),remoteLayer:{name:i,type:n}})}function i_({id:t,url:e,remoteLayer:n}){const{name:r="",type:i=Fn.WMS}=n;return{id:t,name:r,layers:r,url:e,type:i,imageType:Hy.PNG}}class $h{constructor(e,n=0,r=!1){this.message=e,this.httpStatus=n,this.isCrossOriginRelated=r}}let LD=0;function CD(){return LD++}function AD(t,e,n){return new Promise((r,i)=>{const s=CD(),a={requestId:s,taskName:t,params:n};e===null?window.dispatchEvent(new CustomEvent("ogc-client.request",{detail:a})):e.postMessage(a);const o=({detail:l,data:u})=>{const f=l||u;f.requestId===s&&(e===null?window.removeEventListener("message",o):e.removeEventListener("message",o),"error"in f?i(f.error):r(f.response))};e===null?window.addEventListener("ogc-client.response",o):e.addEventListener("message",o)})}function Fh(t,e,n){const r=typeof WorkerGlobalScope<"u",i=async({detail:s,data:a})=>{const o=s||a;if(o.taskName===t){let l,u;try{l=await n(o.params)}catch(c){u=c}const f={taskName:t,requestId:o.requestId,...l&&{response:l},...u&&{error:u}};r?e.postMessage(f):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:f}))}};r?e.addEventListener("message",i):e.addEventListener("ogc-client.request",i)}let Vh;function PD(){return Vh||(Vh=new Worker(URL.createObjectURL(new Blob([`function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(t,e,r){var n=h;return function(o,i){if(n===v)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=v;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?d:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",d="completed",y={};function m(){}function g(){}function b(){}var S={};S[a]=function(){return this};var E=Object.getPrototypeOf,w=E&&E(E(C([])));w&&w!==r&&o.call(w,a)&&(S=w);var O=b.prototype=m.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(i,a,c,u){var s=l(t[i],t,a);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"===n(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(h).then((function(t){f.value=t,c(f)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}}function k(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function C(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:G}}function G(){return{value:e,done:!0}}return g.prototype=O.constructor=b,b.constructor=g,g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},x(P.prototype),P.prototype[c]=function(){return this},t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(O),s(O,u,"Generator"),O[a]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(o);var i=o.exports;function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(t,e,n){var o="undefined"!=typeof WorkerGlobalScope,a=function(){var a=r(i.mark((function r(a){var u,s,f,l,h,p;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=a.detail,s=a.data,(f=u||s).taskName!==t){r.next=14;break}return r.prev=3,r.next=6,n(f.params);case 6:l=r.sent,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),h=r.t0;case 12:p=c(c({taskName:t,requestId:f.requestId},l&&{response:l}),h&&{error:h}),o?e.postMessage(p):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:p}));case 14:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(t){return a.apply(this,arguments)}}();o?e.addEventListener("message",a):e.addEventListener("ogc-client.request",a)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function v(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t,e,r){return m=y()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&h(o,r.prototype),o},m.apply(null,arguments)}function g(t){var e="function"==typeof Map?new Map:void 0;return g=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return m(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)},g(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),t}var E=function(){function t(e){l(this,t),this.chars=f(e),this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;var r=this.chars,n=this.charCount,o=this.charsToBytes;if(n===e.length)for(var i=0;i<n;++i)o[i]=i;else{for(var a=0,c=0;c<n;++c)o[c]=a,a+=r[c].length;this.multiByteMode=!0}}return S(t,[{key:"isEnd",get:function(){return this.charIndex>=this.charCount}},{key:"_charLength",value:function(t){var e=t.length;return e<2||!this.multiByteMode?e:t.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,"_").length}},{key:"advance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.charIndex=Math.min(this.charCount,this.charIndex+t)}},{key:"consume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.peek(t);return this.advance(t),e}},{key:"consumeMatch",value:function(t){if(!t.sticky)throw new Error('\`regex\` must have a sticky flag ("y")');t.lastIndex=this.charsToBytes[this.charIndex];var e=t.exec(this.string);if(null===e)return"";var r=e[0];return this.advance(this._charLength(r)),r}},{key:"consumeMatchFn",value:function(t){for(var e=this.charIndex;!this.isEnd&&t(this.peek());)this.advance();return this.charIndex>e?this.string.slice(this.charsToBytes[e],this.charsToBytes[this.charIndex]):""}},{key:"consumeString",value:function(t){if(this.consumeStringFast(t))return t;if(!this.multiByteMode)return"";var e=t.length,r=this._charLength(t);return r!==e&&t===this.peek(r)?(this.advance(r),t):""}},{key:"consumeStringFast",value:function(t){if(this.peek()===t[0]){var e=t.length;if(1===e)return this.advance(),t;if(this.peek(e)===t)return this.advance(e),t}return""}},{key:"consumeUntilMatch",value:function(t){if(!t.global)throw new Error('\`regex\` must have a global flag ("g")');var e=this.charsToBytes[this.charIndex];t.lastIndex=e;var r=t.exec(this.string);if(null===r||r.index===e)return"";var n=this.string.slice(e,r.index);return this.advance(this._charLength(n)),n}},{key:"consumeUntilString",value:function(t){var e=this.charIndex,r=this.charsToBytes,n=this.string,o=r[e],i=n.indexOf(t,o);if(i<=0)return"";var a=n.slice(o,i);return this.advance(this._charLength(a)),a}},{key:"peek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.charIndex>=this.charCount)return"";if(1===t)return this.chars[this.charIndex];var e=this.charsToBytes,r=this.charIndex;return this.string.slice(e[r],e[r+t])}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.charIndex=t>=0?Math.min(this.charCount,t):Math.max(0,this.charIndex+t)}}]),t}(),w=E,O={},x=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function P(t){if(k(t))return!0;var e=T(t);return 45===e||46===e||e>=48&&e<=57||183===e||e>=768&&e<=879||e>=8255&&e<=8256}function k(t){var e=T(t);return 58===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function R(t){var e=T(t);return 9===e||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}function T(t){return t.codePointAt(0)||-1}O.predefinedEntities=x,O.isNameChar=P,O.isNameStartChar=k,O.isNotXmlChar=function(t){return!R(t)},O.isReferenceChar=function(t){return"#"===t||P(t)},O.isWhitespace=function(t){var e=T(t);return 32===e||9===e||10===e||13===e},O.isXmlChar=R;var j=function(){function t(){l(this,t),this.parent=null}return S(t,[{key:"document",get:function(){return this.parent?this.parent.document:null}},{key:"isRootNode",get:function(){return!!this.parent&&this.parent===this.document}},{key:"preserveWhitespace",get:function(){return Boolean(this.parent&&this.parent.preserveWhitespace)}},{key:"type",get:function(){return""}},{key:"toJSON",value:function(){var t={type:this.type};return this.isRootNode&&(t.isRootNode=!0),this.preserveWhitespace&&(t.preserveWhitespace=!0),t}}]),t}();j.TYPE_CDATA="cdata",j.TYPE_COMMENT="comment",j.TYPE_DOCUMENT="document",j.TYPE_ELEMENT="element",j.TYPE_PROCESSING_INSTRUCTION="pi",j.TYPE_TEXT="text";var C=j;function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var N=C,A=function(t){p(r,N);var e=G(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).text=n,t}return S(r,[{key:"type",get:function(){return N.TYPE_TEXT}},{key:"toJSON",value:function(){return Object.assign(N.prototype.toJSON.call(this),{text:this.text})}}]),r}(),F=A;function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var L=C,M=F,B=function(t){p(r,M);var e=I(r);function r(){return l(this,r),e.apply(this,arguments)}return S(r,[{key:"type",get:function(){return L.TYPE_CDATA}}]),r}(),_=B;function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var D=C,W=function(t){p(r,D);var e=U(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).content=n,t}return S(r,[{key:"type",get:function(){return D.TYPE_COMMENT}},{key:"toJSON",value:function(){return Object.assign(D.prototype.toJSON.call(this),{content:this.content})}}]),r}(),X=W;function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var q=C,J=function(t){p(r,q);var e=Y(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return l(this,r),(n=e.call(this)).name=t,n.attributes=o,n.children=i,n}return S(r,[{key:"isEmpty",get:function(){return 0===this.children.length}},{key:"preserveWhitespace",get:function(){for(var t=this;t instanceof r;){if("xml:space"in t.attributes)return"preserve"===t.attributes["xml:space"];t=t.parent}return!1}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return q.TYPE_ELEMENT}},{key:"toJSON",value:function(){return Object.assign(q.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),V=J;function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var K=V,z=C,H=function(t){p(r,z);var e=$(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(this,r),(t=e.call(this)).children=n,t}return S(r,[{key:"document",get:function(){return this}},{key:"root",get:function(){return this.children.find((function(t){return t instanceof K}))||null}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return z.TYPE_DOCUMENT}},{key:"toJSON",value:function(){return Object.assign(z.prototype.toJSON.call(this),{children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),Q=H;function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var tt=C,et=function(t){p(r,tt);var e=Z(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(this,r),(n=e.call(this)).name=t,n.content=o,n}return S(r,[{key:"type",get:function(){return tt.TYPE_PROCESSING_INSTRUCTION}},{key:"toJSON",value:function(){return Object.assign(tt.prototype.toJSON.call(this),{name:this.name,content:this.content})}}]),r}(),rt=et;function nt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=w,at=O,ct=_,ut=X,st=Q,ft=V,lt=rt,ht=F,pt=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(l(this,t),this.document=new st,this.currentNode=this.document,this.options=r,this.scanner=new it(vt(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}return S(t,[{key:"addNode",value:function(t){t.parent=this.currentNode,this.currentNode.children.push(t)}},{key:"addText",value:function(t){var e=this.currentNode.children;if(e.length>0){var r=e[e.length-1];if(r instanceof ht)return void(r.text+=t)}this.addNode(new ht(t))}},{key:"consumeAttributeValue",value:function(){var t,e=this.scanner,r=e.peek();if('"'!==r&&"'"!==r)return!1;e.advance();var n=!1,o="",i='"'===r?new RegExp('[^"&<]+',"y"):new RegExp("[^'&<]+","y");t:for(;!e.isEnd;){switch((t=e.consumeMatch(i))&&(this.validateChars(t),o+=t.replace(/[\\t\\r\\n]/g," ")),e.peek()){case r:n=!0;break t;case"&":o+=this.consumeReference();continue;case"<":this.error("Unescaped \`<\` is not allowed in an attribute value");break;case"":this.error("Unclosed attribute")}}return n||this.error("Unclosed attribute"),e.advance(),o}},{key:"consumeCdataSection",value:function(){var t=this.scanner;if(!t.consumeStringFast("<![CDATA["))return!1;var e=t.consumeUntilString("]]>");return this.validateChars(e),t.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new ct(e)):this.addText(e),!0}},{key:"consumeCharData",value:function(){var t=this.scanner,e=t.consumeUntilMatch(/<|&|]]>/g);return!!e&&(this.validateChars(e),"]"===t.peek()&&"]]>"===t.peek(3)&&this.error("Element content may not contain the CDATA section close delimiter \`]]>\`"),this.addText(e),!0)}},{key:"consumeComment",value:function(){var t=this.scanner;if(!t.consumeStringFast("\\x3c!--"))return!1;var e=t.consumeUntilString("--");return this.validateChars(e),t.consumeStringFast("--\\x3e")||("--"===t.peek(2)?this.error("The string \`--\` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new ut(e.trim())),!0}},{key:"consumeContentReference",value:function(){var t=this.consumeReference();return!!t&&(this.addText(t),!0)}},{key:"consumeDoctypeDeclaration",value:function(){var t=this.scanner;return!(!t.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace())&&(t.consumeMatch(new RegExp("[^[>]+","y")),t.consumeMatch(new RegExp("\\\\[[\\\\s\\\\S]+?\\\\][\\\\x20\\\\t\\\\r\\\\n]*>","y"))||t.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}},{key:"consumeElement",value:function(){var t=this.scanner,e=t.charIndex;if("<"!==t.peek())return!1;t.advance();var r=this.consumeName();if(!r)return t.reset(e),!1;for(var n=Object.create(null);this.consumeWhitespace();){var o=this.consumeName();if(o){var i=this.consumeEqual()&&this.consumeAttributeValue();!1===i&&this.error("Attribute value expected"),o in n&&this.error("Duplicate attribute: ".concat(o)),"xml:space"===o&&"default"!==i&&"preserve"!==i&&this.error('Value of the \`xml:space\` attribute must be "default" or "preserve"'),n[o]=i}}if(this.options.sortAttributes){for(var a=Object.keys(n).sort(),c=Object.create(null),u=0;u<a.length;++u){var s=a[u];c[s]=n[s]}n=c}var f=Boolean(t.consumeStringFast("/>")),l=new ft(r,n);if(l.parent=this.currentNode,!f){for(t.consumeStringFast(">")||this.error("Unclosed start tag for element \`".concat(r,"\`")),this.currentNode=l,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();var h,p=t.charIndex;t.consumeStringFast("</")&&(h=this.consumeName())&&h===r||(t.reset(p),this.error("Missing end tag for element ".concat(r))),this.consumeWhitespace(),t.consumeStringFast(">")||this.error("Unclosed end tag for element ".concat(r)),this.currentNode=l.parent}return this.addNode(l),!0}},{key:"consumeEqual",value:function(){return this.consumeWhitespace(),!!this.scanner.consumeStringFast("=")&&(this.consumeWhitespace(),!0)}},{key:"consumeMisc",value:function(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}},{key:"consumeName",value:function(){return at.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(at.isNameChar):""}},{key:"consumeProcessingInstruction",value:function(){var t=this.scanner,e=t.charIndex;if(!t.consumeStringFast("<?"))return!1;var r=this.consumeName();if(r?"xml"===r.toLowerCase()&&(t.reset(e),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(t.consumeStringFast("?>"))return this.addNode(new lt(r)),!0;this.error("Whitespace is required after a processing instruction name")}var n=t.consumeUntilString("?>");return this.validateChars(n),t.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new lt(r,n)),!0}},{key:"consumeProlog",value:function(){var t=this.scanner,e=t.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return e<t.charIndex}},{key:"consumeReference",value:function(){var t=this.scanner;if("&"!==t.peek())return!1;t.advance();var e,r=t.consumeMatchFn(at.isReferenceChar);if(";"!==t.consume()&&this.error("Unterminated reference (a reference must end with \`;\`)"),"#"===r[0]){var o="x"===r[1]?parseInt(r.slice(2),16):parseInt(r.slice(1),10);isNaN(o)&&this.error("Invalid character reference"),e=String.fromCodePoint(o),at.isXmlChar(e)||this.error("Character reference resolves to an invalid character")}else if(void 0===(e=at.predefinedEntities[r])){var i=this.options,a=i.ignoreUndefinedEntities,c=i.resolveUndefinedEntity,u="&".concat(r,";");if(c){var s=c(u);if(null!=s){var f=n(s);if("string"!==f)throw new TypeError("\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ".concat(f));return s}}if(a)return u;t.reset(-u.length),this.error("Named entity isn't defined: ".concat(u))}return e}},{key:"consumeSystemLiteral",value:function(){var t=this.scanner,e=t.consumeStringFast('"')||t.consumeStringFast("'");if(!e)return!1;var r=t.consumeUntilString(e);return this.validateChars(r),t.consumeStringFast(e)||this.error("Missing end quote"),r}},{key:"consumeWhitespace",value:function(){return Boolean(this.scanner.consumeMatchFn(at.isWhitespace))}},{key:"consumeXmlDeclaration",value:function(){var t=this.scanner;if(!t.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");var e=Boolean(t.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(!1===e?this.error("XML version is missing or invalid"):/^1\\.[0-9]+$/.test(e)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(t.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();var r=Boolean(t.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();r&&("yes"!==r&&"no"!==r&&this.error('Only "yes" and "no" are permitted as values of \`standalone\`'),this.consumeWhitespace())}return t.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}},{key:"error",value:function(t){for(var e=this.scanner,r=e.charIndex,n=e.string,o=1,i="",a=1,c=0;c<r;++c){var u=n[c];"\\n"===u?(o=1,i="",a+=1):(o+=1,i+=u)}var s=n.indexOf("\\n",r),f=0;(i+=-1===s?n.slice(r):n.slice(r,s)).length>50&&(o<40?i=i.slice(0,50):(f=o-20,i=i.slice(f,o+30)));var l=new Error("".concat(t," (line ").concat(a,", column ").concat(o,")\\n")+"  ".concat(i,"\\n")+" ".repeat(o-f+1)+"^\\n");throw Object.assign(l,{column:o,excerpt:i,line:a,pos:r}),l}},{key:"validateChars",value:function(t){var e,r=0,n=nt(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;at.isNotXmlChar(o)&&(this.scanner.reset(-(f(t).length-r)),this.error("Invalid character")),r+=1}}catch(t){n.e(t)}finally{n.f()}}}]),t}();function vt(t){return"\\ufeff"===t[0]&&(t=t.slice(1)),t.replace(/\\r\\n?/g,"\\n")}var dt=pt,yt=_,mt=X,gt=Q,bt=V,St=C,Et=rt,wt=F;function Ot(t,e){return new dt(t,e).document}Ot.XmlCdata=yt,Ot.XmlComment=mt,Ot.XmlDocument=gt,Ot.XmlElement=bt,Ot.XmlNode=St,Ot.XmlProcessingInstruction=Et,Ot.XmlText=wt;var xt=Ot;function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var kt=function(t){p(r,g(Error));var e=Pt(r);function r(t){return l(this,r),e.call(this,t)}return r}();function Rt(t){return t.children[0]}function Tt(t){var e=t.indexOf(":");return e>-1?t.substr(e+1):t}function jt(t){return t.name||""}function Ct(t,e,r){var n=Tt(e);return t&&Array.isArray(t.children)?t.children.reduce((function t(e,o){return Tt(jt(o))===n&&e.push(o),r&&Array.isArray(o.children)?[].concat(f(e),f(o.children.reduce(t,[]))):e}),[]):[]}function Gt(t,e,r){return Ct(t,e,r)[0]||null}function Nt(t){return t&&Array.isArray(t.children)?f(t.children.filter((function(t){return"XmlElement"===t.constructor.name}))):[]}function At(t){var e=t&&Array.isArray(t.children)?t.children.find((function(t){return"text"===t.type})):null;return e?e.text:""}function Ft(t,e){return t&&t.attributes[e]||""}var It=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(this,t),this.message=e,this.httpStatus=r,this.isCrossOriginRelated=n};function Lt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bt=["utf-8","utf-16","iso-8859-1"];function _t(t,e){var r,n=e?function(t){var e=/charset=([^;]+)/.exec(t);return e?e[1]:null}(e):null,o=Lt(n?[n].concat(Bt):Bt);try{for(o.s();!(r=o.n()).done;){var i=r.value;try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch(t){}}}catch(t){o.e(t)}finally{o.f()}return console.warn("XML document encoding could not be determined, falling back to ".concat("utf-8",".")),new TextDecoder("utf-8").decode(t)}function Ut(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wt=new Map;function Xt(t){return function(t){if(Wt.has(t))return Wt.get(t);var e=fetch(t);return e.finally((function(){return Wt.delete(t)})),Wt.set(t,e),e}(t).catch((function(){return fetch(t,{method:"HEAD",mode:"no-cors"}).catch((function(t){throw new It("Fetching the document failed either due to network errors or unreachable host, error is: ".concat(t.message),0,!1)})).then((function(){throw new It("The document could not be fetched due to CORS limitations",0,!0)}))})).then(function(){var t=r(i.mark((function t(e){var r,n,o;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=5;break}return t.next=3,e.text();case 3:throw r=t.sent,new It("Received an error with code ".concat(e.status,": ").concat(r),e.status,!1);case 5:return t.next=7,e.arrayBuffer();case 7:return n=t.sent,o=e.headers.get("Content-Type"),t.abrupt("return",_t(n,o));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return function(t){var e=null;try{e=xt(t)}catch(t){throw new kt(t.message)}return e}(t)}))}function Yt(t,e){var r=t.match(/(https?%3A%2F%2F[^/]+)$/);if(r){var n=r[1],o=Yt(decodeURIComponent(n),e);return t.replace(n,encodeURIComponent(o))}var i,a=new URL(t),c=Object.keys(e),u=c.map((function(t){return t.toLowerCase()})),s=[],f=Ut(a.searchParams.keys());try{for(f.s();!(i=f.n()).done;){var l=i.value;u.indexOf(l.toLowerCase())>-1&&s.push(l)}}catch(t){f.e(t)}finally{f.f()}return s.map((function(t){return a.searchParams.delete(t)})),c.forEach((function(t){return a.searchParams.set(t,!0===e[t]?"":e[t])})),a.toString()}var qt=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function Jt(t){return qt.indexOf(Vt(t))>-1}function Vt(t){if(/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())){var e=/([0-9]+)$/.exec(t)[1];return"EPSG:".concat(e)}return t}function $t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?$t(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(t){return Rt(t).attributes.version}function Ht(t){var e=zt(t);return Ct(Gt(Rt(t),"Capability"),"Layer").map((function(t){return Qt(t,e)}))}function Qt(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a="1.3.0"===r?"CRS":"SRS",c=Ct(e,a).map(At),u=c.length>0?c:n,s=Ct(e,"Style").map(Zt),f=s.length>0?s:o;function l(t){return(Jt(Ft(t,a))&&"1.3.0"===r?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map((function(e){return Ft(t,e)}))}var h=Gt(e,"Attribution"),p=null!==h?te(h):i,v=Ct(e,"Layer").map((function(t){return Qt(t,r,u,f,p)}));return Kt({name:At(Gt(e,"Name")),title:At(Gt(e,"Title")),abstract:At(Gt(e,"Abstract")),availableCrs:u,styles:f,attribution:p,boundingBoxes:Ct(e,"BoundingBox").reduce((function(e,r){return Kt(Kt({},e),{},t({},Ft(r,a),l(r)))}),{})},v.length&&{children:v})}function Zt(t){var e=Ft(Gt(Gt(t,"LegendURL"),"OnlineResource"),"xlink:href");return Kt({name:At(Gt(t,"Name")),title:At(Gt(t,"Title"))},e&&{legendUrl:e})}function te(t){var e=Ft(Gt(Gt(t,"LogoURL"),"OnlineResource"),"xlink:href"),r=Ft(Gt(t,"OnlineResource"),"xlink:href"),n=At(Gt(t,"Title"));return Kt(Kt(Kt({},n&&{title:n}),r&&{url:r}),e&&{logoUrl:e})}function ee(t){return Rt(t).attributes.version}function re(t){var e;if(ee(t).startsWith("1.0")){var r=Gt(Gt(Gt(Rt(t),"Capability"),"Request"),"GetFeature");e=Nt(Gt(r,"ResultFormat")).map(jt)}else{var n=Ct(Gt(Rt(t),"OperationsMetadata"),"Operation").find((function(t){return"GetFeature"===Ft(t,"name")})),o=Ct(n,"Parameter").find((function(t){return"outputFormat"===Ft(t,"name")}));e=Ct(o,"Value",!0).map(At)}return e}function ne(t){var e=ee(t),r=re(t);return Ct(Gt(Rt(t),"FeatureTypeList"),"FeatureType").map((function(t){return function(t,e,r){var n=e.startsWith("2.")?"CRS":"SRS",o=e.startsWith("1.0")?"SRS":"Default".concat(n);function i(){var e=Gt(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map((function(t){return Ft(e,t)})).map(parseFloat)}function a(){var e=Gt(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map((function(t){return Gt(e,t)})).map((function(t){return At(t).split(" ")})).reduce((function(t,e){return[].concat(f(t),f(e))})).map(parseFloat)}var c=e.startsWith("1.0")?[]:Ct(t,"Other".concat(n)).map(At).map(Vt),u=e.startsWith("1.0")?[]:Ct(Gt(t,"OutputFormats"),"Format").map(At);return{name:At(Gt(t,"Name")),title:At(Gt(t,"Title")),abstract:At(Gt(t,"Abstract")),defaultCrs:Vt(At(Gt(t,o))),otherCrs:c,outputFormats:u.length>0?u:r,latLonBoundingBox:e.startsWith("1.0")?i():a()}}(t,e,r)}))}function oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?oe(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,r,n){var o,i=Rt(e);if(n.startsWith("2.0"))o=Ct(i,"member").map((function(t){return Nt(t)[0]}));else{var a=Gt(i,"featureMembers");o=a?Nt(a):Ct(i,"featureMember").map((function(t){return Nt(t)[0]}))}var c="1.0.0"===n?"fid":"gml:id";function u(e){return Nt(e).filter((function(t){return Tt(jt(t))in r.properties})).reduce((function(e,n){var o=Tt(jt(n));return ie(ie({},e),{},t({},o,function(t,e){switch(r.properties[t]){case"integer":return parseInt(e);case"float":return parseFloat(e);case"boolean":return"true"===e;default:return e}}(o,At(n))))}),{})}return o.map((function(t){return{id:Ft(t,c),properties:u(t)}}))}function ce(e,r,n,o,i,a,c,u,s,f){var l="2.0.0"===r?"COUNT":"MAXFEATURES",h=t({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:r},"2.0.0"===r?"TYPENAMES":"TYPENAME",n);if(void 0!==o&&(h.OUTPUTFORMAT=o),void 0!==a&&(h.PROPERTYNAME=a.join(",")),c?(h.RESULTTYPE="hits",h[l]="1"):void 0!==i&&(h[l]=i.toString(10)),u&&(h.SRSNAME=u),s){var p=s.join(",");h.BBOX=f?"".concat(p,",").concat(f):p}return Yt(e,h)}u("parseWmsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,r=Gt(Rt(e),"Service"),n=Ct(Gt(r,"KeywordList"),"Keyword").map(At).filter((function(t,e,r){return r.indexOf(t)===e})),{title:At(Gt(r,"Title")),name:At(Gt(r,"Name")),abstract:At(Gt(r,"Abstract")),fees:At(Gt(r,"Fees")),constraints:At(Gt(r,"AccessConstraints")),keywords:n}),layers:Ht(t),version:zt(t)};var e,r,n}))})),u("parseWfsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,n=ee(e),o=n.startsWith("1.0")?"Service":"ServiceIdentification",i=n.startsWith("1.0")?"Name":"ServiceType",a=Gt(Rt(e),o),r=n.startsWith("1.0")?At(Gt(a,"Keywords")).split(",").map((function(t){return t.trim()})):Ct(Gt(a,"Keywords"),"Keyword").map(At),{title:At(Gt(a,"Title")),name:At(Gt(a,i)),abstract:At(Gt(a,"Abstract")),fees:At(Gt(a,"Fees")),constraints:At(Gt(a,"AccessConstraints")),keywords:r,outputFormats:re(e)}),featureTypes:ne(t),version:ee(t)};var e,r,n,o,i,a}))})),u("queryWfsFeatureTypeDetails",self,(function(t){var e=t.url,r=t.serviceVersion,n=t.featureTypeFull;return Xt(ce(e,r,n.name,void 0,void 0,Object.keys(n.properties))).then((function(t){return{props:(e=ae(t,n,r),e.reduce((function(t,e){var r=function(r){var n=e.properties[r];r in t||(t[r]={uniqueValues:[]});var o=t[r].uniqueValues.find((function(t){return t.value===n}));o?o.count++:t[r].uniqueValues.push({value:n,count:1})};for(var n in e.properties)r(n);return t}),{}))};var e}))}));
`],{type:"application/javascript"})),{type:"module"})),Vh}function DD(t){return AD("parseWmsCapabilities",PD(),{url:t})}var wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const Ii="";class ID{constructor(e){this.chars=[...e],this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;let{chars:n,charCount:r,charsToBytes:i}=this;if(r===e.length)for(let s=0;s<r;++s)i[s]=s;else{for(let s=0,a=0;a<r;++a)i[a]=s,s+=n[a].length;this.multiByteMode=!0}}get isEnd(){return this.charIndex>=this.charCount}_charLength(e){let{length:n}=e;return n<2||!this.multiByteMode?n:e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}advance(e=1){this.charIndex=Math.min(this.charCount,this.charIndex+e)}consume(e=1){let n=this.peek(e);return this.advance(e),n}consumeMatch(e){if(!e.sticky)throw new Error('`regex` must have a sticky flag ("y")');e.lastIndex=this.charsToBytes[this.charIndex];let n=e.exec(this.string);if(n===null)return Ii;let r=n[0];return this.advance(this._charLength(r)),r}consumeMatchFn(e){let n=this.charIndex;for(;!this.isEnd&&e(this.peek());)this.advance();return this.charIndex>n?this.string.slice(this.charsToBytes[n],this.charsToBytes[this.charIndex]):Ii}consumeString(e){if(this.consumeStringFast(e))return e;if(!this.multiByteMode)return Ii;let{length:n}=e,r=this._charLength(e);return r!==n&&e===this.peek(r)?(this.advance(r),e):Ii}consumeStringFast(e){if(this.peek()===e[0]){let{length:n}=e;if(n===1)return this.advance(),e;if(this.peek(n)===e)return this.advance(n),e}return Ii}consumeUntilMatch(e){if(!e.global)throw new Error('`regex` must have a global flag ("g")');let n=this.charsToBytes[this.charIndex];e.lastIndex=n;let r=e.exec(this.string);if(r===null||r.index===n)return Ii;let i=this.string.slice(n,r.index);return this.advance(this._charLength(i)),i}consumeUntilString(e){let{charIndex:n,charsToBytes:r,string:i}=this,s=r[n],a=i.indexOf(e,s);if(a<=0)return Ii;let o=i.slice(s,a);return this.advance(this._charLength(o)),o}peek(e=1){if(this.charIndex>=this.charCount)return Ii;if(e===1)return this.chars[this.charIndex];let{charsToBytes:n,charIndex:r}=this;return this.string.slice(n[r],n[r+e])}reset(e=0){this.charIndex=e>=0?Math.min(this.charCount,e):Math.max(0,this.charIndex+e)}}var kD=ID,ki={};const RD=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));ki.predefinedEntities=RD;function s_(t){if(a_(t))return!0;let e=Wu(t);return e===45||e===46||e>=48&&e<=57||e===183||e>=768&&e<=879||e>=8255&&e<=8256}ki.isNameChar=s_;function a_(t){let e=Wu(t);return e===58||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}ki.isNameStartChar=a_;function $D(t){return!o_(t)}ki.isNotXmlChar=$D;function FD(t){return t==="#"||s_(t)}ki.isReferenceChar=FD;function VD(t){let e=Wu(t);return e===32||e===9||e===10||e===13}ki.isWhitespace=VD;function o_(t){let e=Wu(t);return e===9||e===10||e===13||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}ki.isXmlChar=o_;function Wu(t){return t.codePointAt(0)||-1}class Es{constructor(){this.parent=null}get document(){return this.parent?this.parent.document:null}get isRootNode(){return this.parent?this.parent===this.document:!1}get preserveWhitespace(){return Boolean(this.parent&&this.parent.preserveWhitespace)}get type(){return""}toJSON(){let e={type:this.type};return this.isRootNode&&(e.isRootNode=!0),this.preserveWhitespace&&(e.preserveWhitespace=!0),e}}Es.TYPE_CDATA="cdata",Es.TYPE_COMMENT="comment",Es.TYPE_DOCUMENT="document",Es.TYPE_ELEMENT="element",Es.TYPE_PROCESSING_INSTRUCTION="pi",Es.TYPE_TEXT="text";var Ss=Es;const jh=Ss;class jD extends jh{constructor(e=""){super(),this.text=e}get type(){return jh.TYPE_TEXT}toJSON(){return Object.assign(jh.prototype.toJSON.call(this),{text:this.text})}}var Gh=jD;const GD=Ss,UD=Gh;class BD extends UD{get type(){return GD.TYPE_CDATA}}var l_=BD;const Uh=Ss;class WD extends Uh{constructor(e=""){super(),this.content=e}get type(){return Uh.TYPE_COMMENT}toJSON(){return Object.assign(Uh.prototype.toJSON.call(this),{content:this.content})}}var u_=WD;const Bh=Ss;class Wh extends Bh{constructor(e,n=Object.create(null),r=[]){super(),this.name=e,this.attributes=n,this.children=r}get isEmpty(){return this.children.length===0}get preserveWhitespace(){let e=this;for(;e instanceof Wh;){if("xml:space"in e.attributes)return e.attributes["xml:space"]==="preserve";e=e.parent}return!1}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return Bh.TYPE_ELEMENT}toJSON(){return Object.assign(Bh.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(e=>e.toJSON())})}}var qh=Wh;const qD=qh,Hh=Ss;class HD extends Hh{constructor(e=[]){super(),this.children=e}get document(){return this}get root(){return this.children.find(e=>e instanceof qD)||null}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return Hh.TYPE_DOCUMENT}toJSON(){return Object.assign(Hh.prototype.toJSON.call(this),{children:this.children.map(e=>e.toJSON())})}}var c_=HD;const zh=Ss;class zD extends zh{constructor(e,n=""){super(),this.name=e,this.content=n}get type(){return zh.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(zh.prototype.toJSON.call(this),{name:this.name,content:this.content})}}var f_=zD;const YD=kD,ws=ki,XD=l_,KD=u_,ZD=c_,JD=qh,h_=f_,d_=Gh,Yh="";class QD{constructor(e,n={}){for(this.document=new ZD,this.currentNode=this.document,this.options=n,this.scanner=new YD(tI(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}addNode(e){e.parent=this.currentNode,this.currentNode.children.push(e)}addText(e){let{children:n}=this.currentNode;if(n.length>0){let r=n[n.length-1];if(r instanceof d_){r.text+=e;return}}this.addNode(new d_(e))}consumeAttributeValue(){let{scanner:e}=this,n=e.peek();if(n!=='"'&&n!=="'")return!1;e.advance();let r,i=!1,s=Yh,a=n==='"'?/[^"&<]+/y:/[^'&<]+/y;e:for(;!e.isEnd;)switch(r=e.consumeMatch(a),r&&(this.validateChars(r),s+=r.replace(/[\t\r\n]/g," ")),e.peek()){case n:i=!0;break e;case"&":s+=this.consumeReference();continue;case"<":this.error("Unescaped `<` is not allowed in an attribute value");break;case Yh:this.error("Unclosed attribute");break}return i||this.error("Unclosed attribute"),e.advance(),s}consumeCdataSection(){let{scanner:e}=this;if(!e.consumeStringFast("<![CDATA["))return!1;let n=e.consumeUntilString("]]>");return this.validateChars(n),e.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new XD(n)):this.addText(n),!0}consumeCharData(){let{scanner:e}=this,n=e.consumeUntilMatch(/<|&|]]>/g);return n?(this.validateChars(n),e.peek()==="]"&&e.peek(3)==="]]>"&&this.error("Element content may not contain the CDATA section close delimiter `]]>`"),this.addText(n),!0):!1}consumeComment(){let{scanner:e}=this;if(!e.consumeStringFast("<!--"))return!1;let n=e.consumeUntilString("--");return this.validateChars(n),e.consumeStringFast("-->")||(e.peek(2)==="--"?this.error("The string `--` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new KD(n.trim())),!0}consumeContentReference(){let e=this.consumeReference();return e?(this.addText(e),!0):!1}consumeDoctypeDeclaration(){let{scanner:e}=this;return!e.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace()?!1:(e.consumeMatch(/[^[>]+/y),e.consumeMatch(/\[[\s\S]+?\][\x20\t\r\n]*>/y)||e.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}consumeElement(){let{scanner:e}=this,n=e.charIndex;if(e.peek()!=="<")return!1;e.advance();let r=this.consumeName();if(!r)return e.reset(n),!1;let i=Object.create(null);for(;this.consumeWhitespace();){let o=this.consumeName();if(!o)continue;let l=this.consumeEqual()&&this.consumeAttributeValue();l===!1&&this.error("Attribute value expected"),o in i&&this.error(`Duplicate attribute: ${o}`),o==="xml:space"&&l!=="default"&&l!=="preserve"&&this.error('Value of the `xml:space` attribute must be "default" or "preserve"'),i[o]=l}if(this.options.sortAttributes){let o=Object.keys(i).sort(),l=Object.create(null);for(let u=0;u<o.length;++u){let f=o[u];l[f]=i[f]}i=l}let s=Boolean(e.consumeStringFast("/>")),a=new JD(r,i);if(a.parent=this.currentNode,!s){for(e.consumeStringFast(">")||this.error(`Unclosed start tag for element \`${r}\``),this.currentNode=a,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();let o=e.charIndex,l;(!e.consumeStringFast("</")||!(l=this.consumeName())||l!==r)&&(e.reset(o),this.error(`Missing end tag for element ${r}`)),this.consumeWhitespace(),e.consumeStringFast(">")||this.error(`Unclosed end tag for element ${r}`),this.currentNode=a.parent}return this.addNode(a),!0}consumeEqual(){return this.consumeWhitespace(),this.scanner.consumeStringFast("=")?(this.consumeWhitespace(),!0):!1}consumeMisc(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}consumeName(){return ws.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(ws.isNameChar):Yh}consumeProcessingInstruction(){let{scanner:e}=this,n=e.charIndex;if(!e.consumeStringFast("<?"))return!1;let r=this.consumeName();if(r?r.toLowerCase()==="xml"&&(e.reset(n),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(e.consumeStringFast("?>"))return this.addNode(new h_(r)),!0;this.error("Whitespace is required after a processing instruction name")}let i=e.consumeUntilString("?>");return this.validateChars(i),e.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new h_(r,i)),!0}consumeProlog(){let{scanner:e}=this,n=e.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return n<e.charIndex}consumeReference(){let{scanner:e}=this;if(e.peek()!=="&")return!1;e.advance();let n=e.consumeMatchFn(ws.isReferenceChar);e.consume()!==";"&&this.error("Unterminated reference (a reference must end with `;`)");let r;if(n[0]==="#"){let i=n[1]==="x"?parseInt(n.slice(2),16):parseInt(n.slice(1),10);isNaN(i)&&this.error("Invalid character reference"),r=String.fromCodePoint(i),ws.isXmlChar(r)||this.error("Character reference resolves to an invalid character")}else if(r=ws.predefinedEntities[n],r===void 0){let{ignoreUndefinedEntities:i,resolveUndefinedEntity:s}=this.options,a=`&${n};`;if(s){let o=s(a);if(o!=null){let l=typeof o;if(l!=="string")throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${l}`);return o}}if(i)return a;e.reset(-a.length),this.error(`Named entity isn't defined: ${a}`)}return r}consumeSystemLiteral(){let{scanner:e}=this,n=e.consumeStringFast('"')||e.consumeStringFast("'");if(!n)return!1;let r=e.consumeUntilString(n);return this.validateChars(r),e.consumeStringFast(n)||this.error("Missing end quote"),r}consumeWhitespace(){return Boolean(this.scanner.consumeMatchFn(ws.isWhitespace))}consumeXmlDeclaration(){let{scanner:e}=this;if(!e.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");let n=Boolean(e.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(n===!1?this.error("XML version is missing or invalid"):/^1\.[0-9]+$/.test(n)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(e.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();let i=Boolean(e.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();i&&(i!=="yes"&&i!=="no"&&this.error('Only "yes" and "no" are permitted as values of `standalone`'),this.consumeWhitespace())}return e.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}error(e){let{charIndex:n,string:r}=this.scanner,i=1,s="",a=1;for(let f=0;f<n;++f){let c=r[f];c===`
`?(i=1,s="",a+=1):(i+=1,s+=c)}let o=r.indexOf(`
`,n);s+=o===-1?r.slice(n):r.slice(n,o);let l=0;s.length>50&&(i<40?s=s.slice(0,50):(l=i-20,s=s.slice(l,i+30)));let u=new Error(`${e} (line ${a}, column ${i})
  ${s}
`+" ".repeat(i-l+1)+`^
`);throw Object.assign(u,{column:i,excerpt:s,line:a,pos:n}),u}validateChars(e){let n=0;for(let r of e)ws.isNotXmlChar(r)&&(this.scanner.reset(-([...e].length-n)),this.error("Invalid character")),n+=1}}var eI=QD;function tI(t){return t[0]==="\uFEFF"&&(t=t.slice(1)),t.replace(/\r\n?/g,`
`)}const nI=eI,rI=l_,iI=u_,sI=c_,aI=qh,oI=Ss,lI=f_,uI=Gh;function Ri(t,e){return new nI(t,e).document}Ri.XmlCdata=rI,Ri.XmlComment=iI,Ri.XmlDocument=sI,Ri.XmlElement=aI,Ri.XmlNode=oI,Ri.XmlProcessingInstruction=lI,Ri.XmlText=uI;var cI=Ri;class fI extends Error{constructor(e){super(e)}}function hI(t){let e=null;try{e=cI(t)}catch(n){throw new fI(n.message)}return e}function zr(t){return t.children[0]}function qu(t){const e=t.indexOf(":");return e>-1?t.substr(e+1):t}function Hu(t){return t.name||""}function zt(t,e,n){const r=qu(e);function i(s,a){return qu(Hu(a))===r&&s.push(a),n&&Array.isArray(a.children)?[...s,...a.children.reduce(i,[])]:s}return t&&Array.isArray(t.children)?t.children.reduce(i,[]):[]}function Te(t,e,n){return zt(t,e,n)[0]||null}function Ao(t){return t&&Array.isArray(t.children)?[...t.children.filter(e=>e.constructor.name==="XmlElement")]:[]}function Ze(t){const e=t&&Array.isArray(t.children)?t.children.find(n=>n.type==="text"):null;return e?e.text:""}function Or(t,e){return t&&t.attributes[e]||""}const p_=["utf-8","utf-16","iso-8859-1"],m_="utf-8";function dI(t){const e=/charset=([^;]+)/.exec(t);return e?e[1]:null}function pI(t,e){const n=e?dI(e):null,r=n?[n,...p_]:p_;for(const i of r)try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch{}return console.warn(`XML document encoding could not be determined, falling back to ${m_}.`),new TextDecoder(m_).decode(t)}const zu=new Map;function mI(t){if(zu.has(t))return zu.get(t);const e=fetch(t);return e.finally(()=>zu.delete(t)),zu.set(t,e),e}function Xh(t){return mI(t).catch(()=>fetch(t,{method:"HEAD",mode:"no-cors"}).catch(e=>{throw new $h(`Fetching the document failed either due to network errors or unreachable host, error is: ${e.message}`,0,!1)}).then(()=>{throw new $h("The document could not be fetched due to CORS limitations",0,!0)})).then(async e=>{if(!e.ok){const i=await e.text();throw new $h(`Received an error with code ${e.status}: ${i}`,e.status,!1)}const n=await e.arrayBuffer(),r=e.headers.get("Content-Type");return pI(n,r)}).then(e=>hI(e))}function Kh(t,e){const n=t.match(/(https?%3A%2F%2F[^/]+)$/);if(n){const o=n[1],l=Kh(decodeURIComponent(o),e);return t.replace(o,encodeURIComponent(l))}const r=new URL(t),i=Object.keys(e),s=i.map(o=>o.toLowerCase()),a=[];for(const o of r.searchParams.keys())s.indexOf(o.toLowerCase())>-1&&a.push(o);return a.map(o=>r.searchParams.delete(o)),i.forEach(o=>r.searchParams.set(o,e[o]===!0?"":e[o])),r.toString()}let gI=1e3*60*60;function yI(){return gI}const $i="caches"in self?caches.open("ogc-client"):null;async function vI(t,...e){if(!$i)return;const n="https://cache/"+e.join("/");await(await $i).put(n,new Response(JSON.stringify(t),{headers:{"x-expiry":(Date.now()+yI()).toString(10)}}))}async function _I(...t){if(!$i)return!1;const e="https://cache/"+t.join("/");return(await $i).match(e).then(r=>!!r&&parseInt(r.headers.get("x-expiry"))>Date.now())}async function bI(...t){if(!$i)return null;const e="https://cache/"+t.join("/"),r=await(await $i).match(e);return r?r.clone().json():null}const Yu=new Map;async function EI(t,...e){if(await SI(),await _I(...e))return bI(...e);const n=e.join("#");if(Yu.has(n))return Yu.get(n);const r=t();r instanceof Promise&&(r.then(()=>Yu.delete(n)),Yu.set(n,r));const i=await r;return await vI(i,...e),i}async function SI(){if(!$i)return;const t=await $i,e=await t.keys();for(let n of e){const r=await t.match(n);parseInt(r.headers.get("x-expiry"))<=Date.now()&&await t.delete(n)}}function wI(t,e,n,r,i,s,a,o,l,u){const f=e==="2.0.0"?"TYPENAMES":"TYPENAME",c=e==="2.0.0"?"COUNT":"MAXFEATURES",h={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:e,[f]:n};if(r!==void 0&&(h.OUTPUTFORMAT=r),s!==void 0&&(h.PROPERTYNAME=s.join(",")),a?(h.RESULTTYPE="hits",h[c]="1"):i!==void 0&&(h[c]=i.toString(10)),o&&(h.SRSNAME=o),l){const d=l.join(",");h.BBOX=u?`${d},${u}`:d}return Kh(t,h)}class OI{constructor(e){const n=Kh(e,{SERVICE:"WMS",REQUEST:"GetCapabilities"});this._capabilitiesPromise=EI(()=>DD(n),"WMS","CAPABILITIES",n).then(({info:r,layers:i,version:s})=>{this._info=r,this._layers=i,this._version=s}),this._info=null,this._layers=null,this._version=null}isReady(){return this._capabilitiesPromise.then(()=>this)}getServiceInfo(){return this._info}getLayers(){function e(n){return{title:n.title,name:n.name,abstract:n.abstract,..."children"in n&&{children:n.children.map(e)}}}return this._layers.map(e)}getLayerByName(e){let n=null;function r(i){if(n===null){if(i.name===e){n=i;return}"children"in i&&i.children.map(r)}}return this._layers.map(r),n}getVersion(){return this._version}}const xI=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function MI(t){return xI.indexOf(Zh(t))>-1}function Zh(t){return/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())?`EPSG:${/([0-9]+)$/.exec(t)[1]}`:t}function g_(t){return zr(t).attributes.version}function TI(t){const e=g_(t),n=Te(zr(t),"Capability");return zt(n,"Layer").map(r=>y_(r,e))}function NI(t){const e=Te(zr(t),"Service"),n=zt(Te(e,"KeywordList"),"Keyword").map(Ze).filter((r,i,s)=>s.indexOf(r)===i);return{title:Ze(Te(e,"Title")),name:Ze(Te(e,"Name")),abstract:Ze(Te(e,"Abstract")),fees:Ze(Te(e,"Fees")),constraints:Ze(Te(e,"AccessConstraints")),keywords:n}}function y_(t,e,n=[],r=[],i=null){const s=e==="1.3.0"?"CRS":"SRS",a=zt(t,s).map(Ze),o=a.length>0?a:n,l=zt(t,"Style").map(LI),u=l.length>0?l:r;function f(p){const m=Or(p,s);return(MI(m)&&e==="1.3.0"?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(y=>Or(p,y))}const c=Te(t,"Attribution"),h=c!==null?CI(c):i,d=zt(t,"Layer").map(p=>y_(p,e,o,u,h));return{name:Ze(Te(t,"Name")),title:Ze(Te(t,"Title")),abstract:Ze(Te(t,"Abstract")),availableCrs:o,styles:u,attribution:h,boundingBoxes:zt(t,"BoundingBox").reduce((p,m)=>({...p,[Or(m,s)]:f(m)}),{}),...d.length&&{children:d}}}function LI(t){const e=Or(Te(Te(t,"LegendURL"),"OnlineResource"),"xlink:href");return{name:Ze(Te(t,"Name")),title:Ze(Te(t,"Title")),...e&&{legendUrl:e}}}function CI(t){const e=Or(Te(Te(t,"LogoURL"),"OnlineResource"),"xlink:href"),n=Or(Te(t,"OnlineResource"),"xlink:href"),r=Ze(Te(t,"Title"));return{...r&&{title:r},...n&&{url:n},...e&&{logoUrl:e}}}function Xu(t){return zr(t).attributes.version}function v_(t){const e=Xu(t);let n;if(e.startsWith("1.0")){const r=Te(Te(Te(zr(t),"Capability"),"Request"),"GetFeature");n=Ao(Te(r,"ResultFormat")).map(Hu)}else{const r=Te(zr(t),"OperationsMetadata"),i=zt(r,"Operation").find(a=>Or(a,"name")==="GetFeature"),s=zt(i,"Parameter").find(a=>Or(a,"name")==="outputFormat");n=zt(s,"Value",!0).map(Ze)}return n}function AI(t){const e=Xu(t),n=e.startsWith("1.0")?"Service":"ServiceIdentification",r=e.startsWith("1.0")?"Name":"ServiceType",i=Te(zr(t),n);let s;return e.startsWith("1.0")?s=Ze(Te(i,"Keywords")).split(",").map(a=>a.trim()):s=zt(Te(i,"Keywords"),"Keyword").map(Ze),{title:Ze(Te(i,"Title")),name:Ze(Te(i,r)),abstract:Ze(Te(i,"Abstract")),fees:Ze(Te(i,"Fees")),constraints:Ze(Te(i,"AccessConstraints")),keywords:s,outputFormats:v_(t)}}function PI(t){const e=Xu(t),n=v_(t),r=Te(zr(t),"FeatureTypeList");return zt(r,"FeatureType").map(i=>DI(i,e,n))}function DI(t,e,n){const r=e.startsWith("2.")?"CRS":"SRS",i=e.startsWith("1.0")?"SRS":`Default${r}`;function s(){const u=Te(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(f=>Or(u,f)).map(parseFloat)}function a(){const u=Te(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(f=>Te(u,f)).map(f=>Ze(f).split(" ")).reduce((f,c)=>[...f,...c]).map(parseFloat)}const o=e.startsWith("1.0")?[]:zt(t,`Other${r}`).map(Ze).map(Zh),l=e.startsWith("1.0")?[]:zt(Te(t,"OutputFormats"),"Format").map(Ze);return{name:Ze(Te(t,"Name")),title:Ze(Te(t,"Title")),abstract:Ze(Te(t,"Abstract")),defaultCrs:Zh(Ze(Te(t,i))),otherCrs:o,outputFormats:l.length>0?l:n,latLonBoundingBox:e.startsWith("1.0")?s():a()}}function II(t,e,n){const r=zr(t);let i;if(n.startsWith("2.0"))i=zt(r,"member").map(u=>Ao(u)[0]);else{const u=Te(r,"featureMembers");i=u?Ao(u):zt(r,"featureMember").map(f=>Ao(f)[0])}const s=n==="1.0.0"?"fid":"gml:id";function a(u){return u in e.properties}function o(u,f){switch(e.properties[u]){case"integer":return parseInt(f);case"float":return parseFloat(f);case"boolean":return f==="true";default:return f}}function l(u){return Ao(u).filter(f=>a(qu(Hu(f)))).reduce((f,c)=>{const h=qu(Hu(c));return{...f,[h]:o(h,Ze(c))}},{})}return i.map(u=>({id:Or(u,s),properties:l(u)}))}function kI(t){return t.reduce((e,n)=>{for(const r in n.properties){const i=n.properties[r];r in e||(e[r]={uniqueValues:[]});const s=e[r].uniqueValues.find(a=>a.value===i);s?s.count++:e[r].uniqueValues.push({value:i,count:1})}return e},{})}Fh("parseWmsCapabilities",self,({url:t})=>Xh(t).then(e=>({info:NI(e),layers:TI(e),version:g_(e)}))),Fh("parseWfsCapabilities",self,({url:t})=>Xh(t).then(e=>({info:AI(e),featureTypes:PI(e),version:Xu(e)}))),Fh("queryWfsFeatureTypeDetails",self,({url:t,serviceVersion:e,featureTypeFull:n})=>{const r=wI(t,e,n.name,void 0,void 0,Object.keys(n.properties));return Xh(r).then(i=>({props:kI(II(i,n,e))}))});const RI=()=>[{url:"http://wmts1.geoportail.lu/opendata/service",label:"Open Data Webservices WMS"},{url:"http://ows.terrestris.de/osm-gray/service",label:"OpenStreetMap by Terrestris (Grey)"},{url:"http://ows.terrestris.de/osm/service",label:"OpenStreetMap by Terrestris (Color)"}];class $I{constructor(e){nt(this,"capabilitiesPromise");nt(this,"serviceInfo");nt(this,"layers");const n=new A1.default;let r="&";e.indexOf("?")===-1&&(r="?"),e.indexOf("Capabilities")===-1&&(e=e+r+"SERVICE=WMTS&REQUEST=GetCapabilities"),this.capabilitiesPromise=fetch(e).then(i=>i.text()).then(i=>{var a;const s=n.read(i);this.serviceInfo=this.mapServiceInfo(s.ServiceIdentification),this.layers=this.mapToRemoteLayers((a=s.Contents)==null?void 0:a.Layer)})}mapToRemoteLayers(e){return[{type:Fn.WMTS,children:e.map(n=>({type:Fn.WMTS,abstract:n.Abstract,format:n.Format,name:n.Identifier,title:n.Title,tileMatrixSetLink:n.TileMatrixSetLink,wgs84BoundingBox:n.WGS84BoundingBox}))}]}mapServiceInfo(e){return{type:Fn.WMTS,title:e.Title,abstract:e.Abstract,fees:e.Fees,constraints:e.AccessConstraints,serviceTypeVersion:e.ServiceTypeVersion}}isReady(){return this.capabilitiesPromise.then(()=>this)}getLayerByName(e){return this.layers[0].children.filter(n=>n.name===e)[0]}getLayers(){return this.layers}getServiceInfo(){return this.serviceInfo}}class FI{async getRemoteEndpoint(e){let n;return await this.getWmsEndpoint(e).isReady().catch(async()=>{n=await this.getWmtsEndpoint(e).isReady()})||n}getWmsEndpoint(e){return new OI(_s.getProxyfiedUrl(e))}getWmtsEndpoint(e){return new $I(_s.getProxyfiedUrl(e))}async fetchRemoteWmsEndpoint(){return new Promise(e=>e(RI()))}isRemoteLayer(e){return typeof e=="string"&&(e.indexOf(Fn.WMS)===0||e.indexOf(Fn.WMTS)===0)}}const Po=new FI,VI={class:"relative text-center"},jI=["placeholder","value"],GI={key:0,class:"text-center"},UI={class:"lux-label"},BI={key:1,class:"text-center"},WI={class:"lux-label"},qI={key:2,class:"text-center"},HI=L("div",{class:"fa fa-refresh fa-spin"},null,-1),zI={key:3,class:"overflow-auto max-h-[calc(400px-36px)]"},__=me(pe({__name:"remote-layers",setup(t){const{t:e}=Ke(),n=rt(),r=_n(),i=st([]),s=st(),{remoteLayersOpen:a}=ke(bt()),{setRemoteLayersOpen:o}=bt();let l=!1,u,f,c;yn(h);function h(){s.value=s.value?fa.updateLayers(s.value,n.layers):void 0}Po.fetchRemoteWmsEndpoint().then(b=>{i.value=b.map(({url:x,label:T})=>({label:T,value:x}))});async function d(b){l=!0,c=await Po.getRemoteEndpoint(b).catch(()=>alert(e("Impossible de contacter ce WMS",{ns:"client"}))),f=b,l=!1}async function p(){const b=c,x=b==null?void 0:b.getLayers();if(x&&x[0]){const T=r_(x[0],f);s.value=fa.updateLayers(T,n.layers)}}async function m(b){f=u=b,await d(f),p()}function g(b){u=b.target.value}async function y(){await d(u),p()}function v(b){s.value=fa.toggleNode(b.id,s.value,"expanded")}function E(b){const{id:x,name:T}=b,M=c;if(b.checked===!0)n.removeLayers(x);else{const G=M==null?void 0:M.getLayerByName(T);if(G){const I=r.initLayer(i_({id:x,url:_s.getProxyfiedUrl(f),remoteLayer:G}));n.addLayers(I)}}}return(b,x)=>S(a)?(P(),je(n_,{key:0,title:S(e)("Add external data",{ns:"client"}),onClose:x[0]||(x[0]=T=>S(o)(!1))},{content:fi(()=>{var T,M;return[L("div",VI,[te(Kf,{class:"lux-remote-services-dropdown",options:i.value,placeholder:S(e)("Predefined wms",{ns:"client"}),onChange:m},null,8,["options","placeholder"]),L("input",{class:"lux-input w-[300px]",type:"url",placeholder:S(e)("Choose or write a WMS url",{ns:"client"}),value:S(f)||"",onChange:g},null,40,jI),L("button",{type:"button",class:"lux-btn",onClick:y},oe(S(e)("Get the layers",{ns:"client"})),1)]),!S(l)&&S(c)?(P(),F("div",GI,[L("span",UI,oe(S(e)("Description du service :",{ns:"client"})),1),Va(" "+oe((T=S(c).getServiceInfo())==null?void 0:T.abstract),1)])):$("v-if",!0),!S(l)&&S(c)?(P(),F("div",BI,[L("span",WI,oe(S(e)("Access constraints :",{ns:"client"})),1),Va(" "+oe((M=S(c).getServiceInfo())==null?void 0:M.constraints),1)])):$("v-if",!0),S(l)?(P(),F("div",qI,[HI,L("span",null,oe(S(e)("Chargement des informations",{ns:"client"})),1)])):$("v-if",!0),S(l)?$("v-if",!0):(P(),F("div",zI,[s.value?(P(),je(Rh,{key:0,class:"block p-[10px] mb-[11px]",node:s.value,onToggleParent:v,onToggleLayer:E},null,8,["node"])):$("v-if",!0)]))]}),_:1},8,["title"])):$("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/remote-layers/remote-layers.vue"]]);function YI(t,e="fr-FR"){const n=new Date(t);return new Intl.DateTimeFormat(e).format(n)}const XI={class:"font-bold"},KI={class:"col-span-2"},Do=me(pe({__name:"layer-metadata-item",props:{label:{type:String,required:!0},value:{type:String,required:!0}},setup(t){const e=t;return(n,r)=>(P(),F(Ue,null,[L("span",XI,oe(e.label),1),L("span",KI,oe(e.value),1)],64))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-metadata/layer-metadata-item.vue"]]);function ZI(t){return{fr:"fre",en:"eng",de:"ger",lb:"ltz"}[t.toLowerCase()]}function JI(t){return new DOMParser().parseFromString(t,"text/html").body}function QI(t){const e=[];function n(r){const i=r.split("|");i[3]==="WWW:LINK-1.0-http--link"&&e.indexOf(i[2])===-1&&e.push(i[2])}return Array.isArray(t)?t.forEach(n,t):n(t),e}function ek(t){const n=(Array.isArray(t)?t:[t]).filter(r=>r.split("|")[1]==="metadata");return{organisaton:n[0].split("|")[2],name:n[0].split("|")[5],unknown:n[0].split("|")[6],address:n[0].split("|")[7],email:n[0].split("|")[4]}}class b_{}class tk extends b_{async getMetadata(e,n,r){console.assert(e===Fn.WMS);const i=Po.getWmsEndpoint(n);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(r);return{title:a.title,description:a.abstract,keywords:s.keywords,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const nk=new tk;class rk extends b_{async getMetadata(e,n,r){console.assert(e===Fn.WMTS);const i=Po.getWmtsEndpoint(n);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(r);return{title:a.title,description:a.abstract,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const ik=new rk;class sk{async getMetadata(e,n,r){if(e===Fn.WMS)return nk.getMetadata(e,n,r);if(e===Fn.WMTS)return ik.getMetadata(e,n,r);throw new Error(`Unsupported service type: ${e}`)}}const ak=new sk;class ok{constructor(){nt(this,"geonetworkBaseUrl","https://geocatalogue.geoportail.lu/geonetwork/srv");nt(this,"legendBaseUrl","https://map.geoportail.lu/legends/get_html");nt(this,"localMetadataBaseUrl","https://map.geoportail.lu/getMetadata")}async getLayerMetadata(e,n){const r=Wr(),i=r.findBgLayerById(+e)||r.findById(+e)||r.find3dLayerById(+e);if(i){const s=i.metadata,a=s==null?void 0:s.metadata_id,o=a&&await this.getLocalMetadata(this.localMetadataBaseUrl,a,n),l=i.name,u=(s==null?void 0:s.legend_name)||"",f=i==null?void 0:i.id,c=u&&await this.getLegendHtml(this.legendBaseUrl,u,f,n);return{...o,title:l,hasLegend:!!c,...c&&{legendHtml:c}}}else{const[s,a,o]=String(e).split("%2D").join("-").split("||");return ak.getMetadata(s,a,o)}}getLocalMetadata(e,n,r){return fetch(`${e}?lang=${r}&uid=${n}`).then(async i=>{const s=(await i.json()).metadata;return{name:s.title,serviceDescription:s.serviceDescription,description:s.abstract,legalConstraints:s.legalConstraints,link:QI(s.link),revisionDate:s.revisionDate,keyword:s.keyword,responsibleParty:s.responsibleParty?ek(s.responsibleParty):void 0,metadataLink:`${this.geonetworkBaseUrl}/${ZI(r)}/catalog.search#/metadata/${n}`,isError:!1}}).catch(()=>({isError:!0}))}getLegendHtml(e,n,r,i){const s={lang:i,...n&&{name:n},...r&&{id:r.toString()}};if(s.name&&s.lang){window.devicePixelRatio>1&&(s.dpi=(window.devicePixelRatio*96).toString());const a=`${e}?${new URLSearchParams(s).toString()}`;return fetch(a).then(async o=>{if(o.status>=400&&o.status<600)throw new Error("Server responded with error code");const l=await o.text();return l?JI(l):void 0}).catch(()=>{})}}}const E_=new ok,lk={class:"grid gap-2 grid-cols-3 pt-3 text-[13px] font-arial break-words"},uk={key:2,class:"col-span-3 grid gap-2 grid-cols-3"},ck={class:"font-bold"},fk={class:"col-span-2"},hk=["title"],dk=["title"],pk={key:4,class:"col-span-3"},mk={class:"font-bold"},gk={class:"col-span-2"},yk=["href"],vk={key:7,class:"col-span-3 grid gap-2 grid-cols-3"},_k={class:"font-bold"},bk={class:"col-span-2"},Ek={key:0},Sk={key:1},wk={key:2},Ok={key:3},xk={key:4},Mk=["href"],Tk={key:8,class:"grid gap-2 grid-cols-3 col-span-3"},Nk={class:"font-bold"},Lk={class:"col-span-2"},Ck=["href"],Ak={key:9,class:"col-span-3"},Pk={key:10},Dk={class:"text-xl"},Ik={key:11,class:"col-span-3"},Jh=220,S_=me(pe({__name:"layer-metadata",setup(t){const e=kh(),{metadataId:n}=ke(e),{t:r,i18next:i}=Ke(),s=ve(),a=ve(!0);He(n,async c=>{var h,d;s.value=c?await E_.getLayerMetadata(c,i.language):void 0,a.value=(((d=(h=s.value)==null?void 0:h.description)==null?void 0:d.length)||0)<Jh}),gn(()=>{i.on("languageChanged",async()=>{n.value&&(s.value=await E_.getLayerMetadata(n.value,i.language))})});const o=fe(()=>{var c,h,d;return a.value?(c=s.value)==null?void 0:c.description:(d=(h=s.value)==null?void 0:h.description)==null?void 0:d.slice(0,Jh)});function l(){a.value=!0}function u(){a.value=!1}function f(){e.clearMetadataId()}return(c,h)=>{const d=Kc("dompurify-html");return s.value?(P(),je(n_,{key:0,footer:!1,"max-height":!0,title:S(r)(`${s.value.title}`,{ns:"client"}),onClose:f},{content:fi(()=>{var p,m,g,y,v,E,b,x,T,M,G,I,C,D,A;return[L("div",lk,[s.value.name?(P(),je(Do,{key:0,label:S(r)("Name"),value:s.value.name},null,8,["label","value"])):$("v-if",!0),s.value.serviceDescription?(P(),je(Do,{key:1,label:S(r)("Description du Service"),value:s.value.serviceDescription},null,8,["label","value"])):$("v-if",!0),s.value.description?(P(),F("div",uk,[L("span",ck,oe(S(r)("Description")),1),L("span",fk,[Sl(L("span",null,null,512),[[d,o.value]]),a.value?$("v-if",!0):(P(),F("button",{key:0,title:S(r)("Display full description",{ns:"client"}),onClick:l,class:"text-secondary hover:underline"}," ... ",8,hk)),a.value&&(((p=o.value)==null?void 0:p.length)||0)>Jh?(P(),F("button",{key:1,title:S(r)("Hide full description",{ns:"client"}),onClick:u,class:"text-secondary hover:underline"}," - ",8,dk)):$("v-if",!0)])])):$("v-if",!0),s.value.legalConstraints?(P(),je(Do,{key:3,label:S(r)("Contrainte d'utilisation"),value:s.value.legalConstraints},null,8,["label","value"])):$("v-if",!0),((m=s.value.link)==null?void 0:m.length)!==0?(P(),F("div",pk,[(P(!0),F(Ue,null,xn(s.value.link,Q=>(P(),F("div",{class:"grid gap-2 grid-cols-3",key:Q},[L("span",mk,oe(S(r)("Url vers la resource")),1),L("span",gk,[L("a",{class:"text-secondary hover:underline",target:"_blank",href:Q},oe(Q),9,yk)])]))),128))])):$("v-if",!0),s.value.revisionDate?(P(),je(Do,{key:5,label:S(r)("Revision date"),value:S(YI)(s.value.revisionDate,S(i).language)},null,8,["label","value"])):$("v-if",!0),s.value.keyword?(P(),je(Do,{key:6,label:S(r)("Keywords"),value:(g=s.value.keyword)==null?void 0:g.join(",")},null,8,["label","value"])):$("v-if",!0),s.value.responsibleParty?(P(),F("div",vk,[L("div",_k,oe(S(r)("Contact")),1),L("div",bk,[(y=s.value.responsibleParty)!=null&&y.organisaton?(P(),F("p",Ek,oe((v=s.value.responsibleParty)==null?void 0:v.organisaton),1)):$("v-if",!0),(E=s.value.responsibleParty)!=null&&E.name?(P(),F("p",Sk,oe((b=s.value.responsibleParty)==null?void 0:b.name),1)):$("v-if",!0),(x=s.value.responsibleParty)!=null&&x.unknown?(P(),F("p",wk,oe((T=s.value.responsibleParty)==null?void 0:T.unknown),1)):$("v-if",!0),(M=s.value.responsibleParty)!=null&&M.address?(P(),F("p",Ok,oe((G=s.value.responsibleParty)==null?void 0:G.address),1)):$("v-if",!0),(I=s.value.responsibleParty)!=null&&I.email?(P(),F("p",xk,[L("a",{class:"text-secondary hover:underline",href:"mailto:"+((C=s.value.responsibleParty)==null?void 0:C.email)},oe((D=s.value.responsibleParty)==null?void 0:D.email),9,Mk)])):$("v-if",!0)])])):$("v-if",!0),s.value.metadataLink?(P(),F("div",Tk,[L("span",Nk,oe(S(r)("Link to the metadata")),1),L("span",Lk,[L("a",{class:"text-secondary hover:underline",target:"_blank",href:s.value.metadataLink},oe(S(r)("link")),9,Ck)])])):$("v-if",!0),s.value.isError?(P(),F("div",Ak,oe(S(r)("The metadata is right now not available")),1)):$("v-if",!0),s.value.legendHtml?(P(),F("div",Pk,[L("h4",Dk,oe(S(r)("Legend")),1),Sl(L("span",null,null,512),[[d,(A=s.value.legendHtml)==null?void 0:A.innerHTML]])])):$("v-if",!0),s.value.hasLegend?$("v-if",!0):(P(),F("div",Ik,oe(S(r)("The legend is not available for this layer")),1))])]}),_:1},8,["title"])):$("v-if",!0)}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-metadata/layer-metadata.vue"]]),kk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAAAoCAMAAABq645qAAACPVBMVEUAAABaW13////tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy5DjxTaAAAAvXRSTlMAAAABAgMEBQYHCAkKCwwNDg8QERESFBUWFxkaGx0eHyAhIiInKSosMTIzNTY5Ojs8PUFCQ0RERkpMTk9QU1RVVldaXmFjZWZmamtwcXJzdXd3eHl7fX+AgYKDhIaHiIiKi4yOj5CTlJWWl5iZmZqcnZ+goaKjpKanqKqqq6ywsbK0tbW4u7u8vb6/wMHExcbHysvMzM7P0NDS1NXa29zd3t/g4eTl5ujp6uvs7e7u8PLz9PX29/j5+vv8/f5cALqzAAAEcklEQVRo3u3Z+ZPUVBAH8O63LsLKijoIgotHFI+HgiKNeGC8MCqgUUFAJYjgAQ6HKMgGEQQiqChIPFh1iciiwPIEhvv49t/mD5lBORa2tHbLTO2rmqnUTCrJZ3r65ZuEjDHGGLrMWGcKMah7mh/7NP8PzXBqbqgfzdtPb7i/fjQPvq8r5jUVXNNIY4moYeL6+XNfn9Ov6LUZ2/Z7Pxo3YaZWTp/uLPw/reXYbqLRPz/38g+qJ/oTEV396IzmgmquXHZoIRHd/sTs31T1DqIBcyqHZjQWtTbf6nQiokHLVVWn7ju4euXGjsX9LtTAGgPAGGMzOPZSOGFYtmAXsO8skFkgZovQgi2QcZKyIGAAjJQtIgAB/5vRTc2IvbqSqOWNJQdUVdfe+/zitmsu2jeQ/GWMC43HacRhxhAWcJRyEgmYBSVYgROwgJkzeGVEDGEGotqnPaih1Xp63KSvVFVVtz0wt23AvMVda5AZY2FM7OWO/N2DwBMgESBiQZyABUgYSYQkYSBjhAh7QXN3Zfey7YdyzXh6aQpdu2fIpWsD30CykKOU4XPgmBPEnNcmC1jgIT9uCx9ZkOW1kQi9oBm6aMvO3KIVomUPES19/KIaoNo34uA8cUgtB4DzmQXCFoCFhbXgMtgC8DNGKMj7xnIKtj2toeGf55X5c9+ZRpo1lWjyq5c/33Avj+5obpz25miiwd+p6q4/2jfvIrqtrYlemF5MzZObTuhHCw6cUd2y/91ftj5DRJOn0JKniqm56jPtUNXDx44u6NywvaPzPqL+G5v3jCimhhqaX/vyi6VTxtzyYkVV9dSsRvrmnVXUI5oo7GkNEV2RH/igaRVV1Y8fOdE+tEc0tlzqBU1tND+7U1W18t51F8/QAFJrkUccL4VjABFb+MwoMyznszWzBZxfDT2SIbZgm0/TzBbIpLqcr8GwScJxfF4UiliAgGEZ1gKx8VK4bmuafmpdrqr6cFdXBJBSORPkp9A0ZI8hAi4jYQY8CEN8MDML2K/FBBdwKU80kOp3eSBirq7BkJJLstK5UShw+eYhDBGUYNPQeN3WTND2rd+r6oquNUZQ00A49gCEJQg8RhJD8j0DQX6IEBZYMLMAAANZrpHa8lkNBwjOi0Ion90KRIDIQEzsdVfzlurhT1X11F2XqE3qwfNQMiYLGYIYNgAQMcTltXHV3z9w1dAD/8LapH/XJt9eycWudG4U8lGrjYeSIAtMFlaD1SU1NxAR0cA9qrpqr6ruaOmybxLPREBojLEOzoMNkAXsO4YNYRnIpNo3WS30+EByXt+kttY3AEdAyGmZ4/TcKORCDgDhEAg5D0wO7vK1mbmwhajxA9XWkXTTh8dVj6wZX9gr6ZFL9eTm1nbVhUREdOs2Vb25sJqmRTuOq+r+rwfmgGEHVYcU+H7a8KNrdP6kYTXBJ6qPFVjT2DxwzD/msbWqE+vnrvqvevSeutGMUm0dXC+ahk3asb5unt+8cvLIqOvr52nU7Dv7nq31afo0/0mzrhiavwAx1n2SsZnMdgAAAABJRU5ErkJggg==";class Rk{bootstrap(){this.restore();let e;e=yn(()=>{this.persist(),e&&e()})}persist(){const e=bt(),{lang:n}=ke(e);He(n,(r,i)=>{i!==r&&(Le.setValue(Di,r),document.documentElement.setAttribute("lang",r))},{immediate:!0})}restore(){const e=Le.getValue(Di);if(e){const{setLang:n}=bt(),{i18next:r}=Ke();r.changeLanguage(e),n(e)}}}const $k=new Rk,Fk=me(pe({__name:"language-selector",setup(t){const{i18next:e,t:n}=Ke(),{setLang:r}=bt(),{lang:i}=ke(bt()),s=fe(()=>["en","de","fr","lb"].map(l=>({label:n(l),value:l,ariaLabel:n("Changer de langue : {{lang}}",{lang:l})}))),a=n("Changer de langue");$k.bootstrap();function o(l){e.changeLanguage(l),r(l)}return(l,u)=>(P(),F("div",null,[te(Kf,{class:"lux-navbar-dropdown lux-dropdown-inline text-white h-full",options:s.value,placeholder:S(a),modelValue:S(i),"onUpdate:modelValue":u[0]||(u[0]=f=>Xe(i)?i.value=f:null),onChange:o},null,8,["options","placeholder","modelValue"])]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/nav-bars/language-selector.vue"]]);class Vk{setCurrentThemeColors(e){const n=document.querySelector(":root");["primary","secondary","tertiary"].forEach(i=>{const s=getComputedStyle(n).getPropertyValue(`--${e}-${i}`);n.style.setProperty(`--color-${i}`,s)})}}const w_=new Vk,jk={class:"w-full h-14 flex bg-white shadow-header z-10 shrink-0"},Gk=L("div",{class:"flex-2 p-[5px]"},[L("img",{src:kk})],-1),Uk=L("div",{class:"grow text-center"},"search",-1),Bk={class:"h-full flex"},Wk={class:"hidden lg:inline-block"},qk={class:"border-l-[1px] border-stone-300 h-full"},O_=me(pe({__name:"header-bar",setup(t){const{t:e}=Ke(),n=bt(),{layersOpen:r,myLayersTabOpen:i,themeGridOpen:s}=ke(n),{setLayersOpen:a,setMyLayersTabOpen:o,setThemeGridOpen:l}=n,u=Ht(),{theme:f}=ke(u);He(f,h=>{h&&w_.setCurrentThemeColors(h.name)},{immediate:!0});function c(){r.value?r.value&&(s.value?a(!1):(i.value&&o(!1),l(!0))):(a(!0),i.value&&o(!1),l(!0))}return(h,d)=>{var p,m;return P(),F("header",jk,[Gk,Uk,L("div",null,[L("ul",Bk,[L("li",null,[L("button",{class:Pe(["flex items-center before:font-icons before:text-3xl before:w-16 text-primary uppercase h-full mr-3",`before:content-${(p=S(f))==null?void 0:p.name}`]),onClick:c},[L("span",Wk,oe(S(e)(`${(m=S(f))==null?void 0:m.name}`)),1)],2)]),L("li",qk,[te(Fk,{class:"flex-none h-full"})])])])])}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/header/header-bar.vue"]]),Hk={class:"block text-[13px] sm:text-base uppercase"},Yr=me(pe({__name:"button-icon",props:{label:{type:String,required:!0},icon:{type:String,required:!0},active:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(P(),F("button",{class:Pe(["h-[42px] w-full sm:h-full sm:w-16 hover:text-white hover:bg-primary",e.active?"bg-primary text-white":""])},[L("span",{class:Pe(["block text-[1.7rem] sm:text-[2rem] -mt-1.5 -mb-3 after:font-icons",e.active?"lux-close-cross":`after:content-${e.icon}`])},null,2),L("span",Hk,oe(e.label),1)],2))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/footer/button-icon.vue"]]),zk=["href"],Fi=me(pe({__name:"button-link",props:{label:{type:String,required:!0},link:{type:String,required:!0}},setup(t){const e=t;return(n,r)=>(P(),F("a",{class:"h-full flex flex-col justify-center px-[7px] uppercase hover:text-white hover:bg-primary",href:`${e.link}`,target:"_blank"},oe(n.$props.label),9,zk))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/footer/button-link.vue"]]),Yk={class:"block"},Io=me(pe({__name:"button-text",props:{label:{type:String,required:!0},active:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(P(),F("button",{class:Pe(["h-16 w-16 text-white hover:bg-primary",e.active?"bg-primary":"bg-tertiary"])},[L("span",Yk,oe(e.label),1)],2))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/footer/button-text.vue"]]),Qh=Si("draw",()=>{const t=ve(void 0);function e(n){t.value===n?t.value=void 0:t.value=n}return{drawStateActive:t,toggleActiveState:e}});var Xk=0;function Kk(t){return t.ol_uid||(t.ol_uid=String(++Xk))}var ed="6.15.0",Zk=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jk=function(t){Zk(e,t);function e(n){var r=this,i=ed==="latest"?ed:"v"+ed.split("-")[0],s="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+n+" for details.";return r=t.call(this,s)||this,r.code=n,r.name="AssertionError",r.message=s,r}return e}(Error);const Qk=Jk;var eR=function(){function t(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();const td=eR,tR={PROPERTYCHANGE:"propertychange"};var nR=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();const rR=nR;function x_(){}var M_=typeof Object.assign=="function"?Object.assign:function(t,e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var s=arguments[r];if(s!=null)for(var a in s)s.hasOwnProperty(a)&&(n[a]=s[a])}return n};function T_(t){for(var e in t)delete t[e]}function iR(t){var e;for(e in t)return!1;return!e}var sR=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aR=function(t){sR(e,t);function e(n){var r=t.call(this)||this;return r.eventTarget_=n,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return e.prototype.addEventListener=function(n,r){if(!(!n||!r)){var i=this.listeners_||(this.listeners_={}),s=i[n]||(i[n]=[]);s.indexOf(r)===-1&&s.push(r)}},e.prototype.dispatchEvent=function(n){var r=typeof n=="string",i=r?n:n.type,s=this.listeners_&&this.listeners_[i];if(!!s){var a=r?new td(n):n;a.target||(a.target=this.eventTarget_||this);var o=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,l[i]=0),++o[i];for(var u,f=0,c=s.length;f<c;++f)if("handleEvent"in s[f]?u=s[f].handleEvent(a):u=s[f].call(this,a),u===!1||a.propagationStopped){u=!1;break}if(--o[i]===0){var h=l[i];for(delete l[i];h--;)this.removeEventListener(i,x_);delete o[i]}return u}},e.prototype.disposeInternal=function(){this.listeners_&&T_(this.listeners_)},e.prototype.getListeners=function(n){return this.listeners_&&this.listeners_[n]||void 0},e.prototype.hasListener=function(n){return this.listeners_?n?n in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(n,r){var i=this.listeners_&&this.listeners_[n];if(i){var s=i.indexOf(r);s!==-1&&(this.pendingRemovals_&&n in this.pendingRemovals_?(i[s]=x_,++this.pendingRemovals_[n]):(i.splice(s,1),i.length===0&&delete this.listeners_[n]))}},e}(rR);const oR=aR,lR={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function nd(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var s=n;n=function(){t.removeEventListener(e,n),s.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function N_(t,e,n,r){return nd(t,e,n,r,!0)}function L_(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),T_(t))}var uR=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ku=function(t){uR(e,t);function e(){var n=t.call(this)||this;return n.on=n.onInternal,n.once=n.onceInternal,n.un=n.unInternal,n.revision_=0,n}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(lR.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(n,r){if(Array.isArray(n)){for(var i=n.length,s=new Array(i),a=0;a<i;++a)s[a]=nd(this,n[a],r);return s}else return nd(this,n,r)},e.prototype.onceInternal=function(n,r){var i;if(Array.isArray(n)){var s=n.length;i=new Array(s);for(var a=0;a<s;++a)i[a]=N_(this,n[a],r)}else i=N_(this,n,r);return r.ol_key=i,i},e.prototype.unInternal=function(n,r){var i=r.ol_key;if(i)cR(i);else if(Array.isArray(n))for(var s=0,a=n.length;s<a;++s)this.removeEventListener(n[s],r);else this.removeEventListener(n,r)},e}(oR);Ku.prototype.on,Ku.prototype.once,Ku.prototype.un;function cR(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)L_(t[e]);else L_(t)}const fR=Ku;var C_=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),A_=function(t){C_(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.key=r,s.oldValue=i,s}return e}(td),hR=function(t){C_(e,t);function e(n){var r=t.call(this)||this;return r.on,r.once,r.un,Kk(r),r.values_=null,n!==void 0&&r.setProperties(n),r}return e.prototype.get=function(n){var r;return this.values_&&this.values_.hasOwnProperty(n)&&(r=this.values_[n]),r},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&M_({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(n,r){var i;i="change:".concat(n),this.hasListener(i)&&this.dispatchEvent(new A_(i,n,r)),i=tR.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new A_(i,n,r))},e.prototype.addChangeListener=function(n,r){this.addEventListener("change:".concat(n),r)},e.prototype.removeChangeListener=function(n,r){this.removeEventListener("change:".concat(n),r)},e.prototype.set=function(n,r,i){var s=this.values_||(this.values_={});if(i)s[n]=r;else{var a=s[n];s[n]=r,a!==r&&this.notify(n,a)}},e.prototype.setProperties=function(n,r){for(var i in n)this.set(i,n[i],r)},e.prototype.applyProperties=function(n){!n.values_||M_(this.values_||(this.values_={}),n.values_)},e.prototype.unset=function(n,r){if(this.values_&&n in this.values_){var i=this.values_[n];delete this.values_[n],iR(this.values_)&&(this.values_=null),r||this.notify(n,i)}},e}(fR);const dR=hR,Zu={ADD:"add",REMOVE:"remove"};var P_=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),D_={LENGTH:"length"},Ju=function(t){P_(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.element=r,s.index=i,s}return e}(td),pR=function(t){P_(e,t);function e(n,r){var i=t.call(this)||this;i.on,i.once,i.un;var s=r||{};if(i.unique_=!!s.unique,i.array_=n||[],i.unique_)for(var a=0,o=i.array_.length;a<o;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(n){for(var r=0,i=n.length;r<i;++r)this.push(n[r]);return this},e.prototype.forEach=function(n){for(var r=this.array_,i=0,s=r.length;i<s;++i)n(r[i],i,r)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(n){return this.array_[n]},e.prototype.getLength=function(){return this.get(D_.LENGTH)},e.prototype.insertAt=function(n,r){this.unique_&&this.assertUnique_(r),this.array_.splice(n,0,r),this.updateLength_(),this.dispatchEvent(new Ju(Zu.ADD,r,n))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(n){this.unique_&&this.assertUnique_(n);var r=this.getLength();return this.insertAt(r,n),this.getLength()},e.prototype.remove=function(n){for(var r=this.array_,i=0,s=r.length;i<s;++i)if(r[i]===n)return this.removeAt(i)},e.prototype.removeAt=function(n){var r=this.array_[n];return this.array_.splice(n,1),this.updateLength_(),this.dispatchEvent(new Ju(Zu.REMOVE,r,n)),r},e.prototype.setAt=function(n,r){var i=this.getLength();if(n<i){this.unique_&&this.assertUnique_(r,n);var s=this.array_[n];this.array_[n]=r,this.dispatchEvent(new Ju(Zu.REMOVE,s,n)),this.dispatchEvent(new Ju(Zu.ADD,r,n))}else{for(var a=i;a<n;++a)this.insertAt(a,void 0);this.insertAt(n,r)}},e.prototype.updateLength_=function(){this.set(D_.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(n,r){for(var i=0,s=this.array_.length;i<s;++i)if(this.array_[i]===n&&i!==r)throw new Qk(58)},e}(dR);const mR=pR,gR=1e3;function yR(){const t=Pn().getOlMap(),e=new mR,n=new D1.default({source:new I1.default({features:e}),zIndex:gR});t.addLayer(n);function r(i){e.push(i)}return{addFeature:r}}function ko(t){const e=new P1.default(t);e.setActive(!1),Pn().getOlMap().addInteraction(e),h1.listen(e,"drawend",s=>{i(s)});const{addFeature:r}=yR();function i(s){r(s.feature)}return{drawInteraction:e}}function vR(){const{drawStateActive:t}=ke(Qh()),e={drawPoint:ko({type:"Point"}).drawInteraction,drawLabel:ko({type:"Point"}).drawInteraction,drawLine:ko({type:"LineString"}).drawInteraction,drawCircle:ko({type:"Circle"}).drawInteraction,drawPolygon:ko({type:"Polygon"}).drawInteraction};return He(t,()=>{Object.keys(e).forEach(n=>{`${[n]}`==`${t.value}`?e[n].setActive(!0):e[n].setActive(!1)})}),{}}const _R={class:"absolute bottom-full top-auto z-20 flex flex-row justify-start divide-y-0 divide-x divide-gray-400 divide-solid box-content border-y-0 border-x border-gray-400"},bR={key:0,class:"absolute bottom-full top-auto z-10 pl-[130px] pb-16 w-[326px]"},ER={class:"flex flex-row justify-center text-white bg-tertiary hover:bg-primary py-2 box-content border-y border-x border-gray-400"},SR=L("input",{type:"checkbox"},null,-1),I_=me(pe({__name:"toolbar-draw",setup(t){const{t:e}=Ke(),{toggleActiveState:n}=Qh(),{drawStateActive:r}=ke(Qh());return vR(),(i,s)=>(P(),F("div",null,[L("ul",_R,[L("li",null,[te(Io,{label:S(e)("Draw Point",{ns:"client"}),active:S(r)==="drawPoint",onClick:s[0]||(s[0]=()=>S(n)("drawPoint"))},null,8,["label","active"])]),L("li",null,[te(Io,{label:S(e)("Label",{ns:"client"}),active:S(r)==="drawLabel",onClick:s[1]||(s[1]=()=>S(n)("drawLabel"))},null,8,["label","active"])]),L("li",null,[te(Io,{label:S(e)("Line",{ns:"client"}),active:S(r)==="drawLine",onClick:s[2]||(s[2]=()=>S(n)("drawLine"))},null,8,["label","active"])]),L("li",null,[te(Io,{label:S(e)("Polygon",{ns:"client"}),active:S(r)==="drawPolygon",onClick:s[3]||(s[3]=()=>S(n)("drawPolygon"))},null,8,["label","active"])]),L("li",null,[te(Io,{label:S(e)("Circle",{ns:"client"}),active:S(r)==="drawCircle",onClick:s[4]||(s[4]=()=>S(n)("drawCircle"))},null,8,["label","active"])])]),S(r)==="drawLine"?(P(),F("ul",bR,[L("li",ER,[L("label",null,[SR,Va(" "+oe(S(e)("Suivre la route",{ns:"client"})),1)])])])):$("v-if",!0)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/footer/toolbar-draw.vue"]]),wR={class:"flex flex-col w-12 justify-between bg-white z-5 shrink-0 sm:flex-row sm:w-full sm:h-14 sm:shadow-footer"},OR={class:"flex flex-col w-full sm:w-80 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},xR={class:"relative flex flex-col w-12 sm:w-64 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},MR={class:"w-[466px] hidden sm:flex flex-row justify-end text-gray-500 whitespace-nowrap"},k_=me(pe({__name:"footer-bar",setup(t){const{t:e,i18next:n}=Ke(),{setLayersOpen:r,setDrawToolbarOpen:i}=bt(),{layersOpen:s,drawToolbarOpen:a}=ke(bt());return(o,l)=>(P(),F("footer",wR,[$(" left buttons "),L("ul",OR,[L("li",null,[te(Yr,{label:S(e)("Layers",{ns:"client"}),icon:"layers",active:S(s),onClick:l[0]||(l[0]=()=>S(r)(!S(s)))},null,8,["label","active"])]),$(`TODOs in each button when implemented
        - remove class="text-gray-300"
        - add click handler that calls setLayersOpen(true) and opens tool (also via app store)
      `),L("li",null,[te(Yr,{class:"text-gray-300",label:S(e)("My Maps",{ns:"client"}),icon:"mymaps"},null,8,["label"])]),L("li",null,[te(Yr,{class:"text-gray-300",label:S(e)("Infos",{ns:"client"}),icon:"infos"},null,8,["label"])]),L("li",null,[te(Yr,{class:"text-gray-300",label:S(e)("Legends",{ns:"client"}),icon:"legends"},null,8,["label"])]),L("li",null,[te(Yr,{class:"text-gray-300",label:S(e)("Routing",{ns:"client"}),icon:"routing"},null,8,["label"])])]),$(" center buttons "),L("div",xR,[S(a)?(P(),je(I_,{key:0})):$("v-if",!0),te(Yr,{label:S(e)("Dessin",{ns:"client"}),icon:"draw",active:S(a),onClick:l[1]||(l[1]=()=>S(i)(!S(a)))},null,8,["label","active"]),te(Yr,{class:"text-gray-300 hidden sm:block",label:S(e)("Mesurer",{ns:"client"}),icon:"measure"},null,8,["label"]),te(Yr,{class:"text-gray-300 hidden sm:block",label:S(e)("Imprimer",{ns:"client"}),icon:"print"},null,8,["label"]),te(Yr,{class:"text-gray-300",label:S(e)("Partager",{ns:"client"}),icon:"share"},null,8,["label"])]),$(" right buttons "),L("div",MR,[te(Fi,{class:"hidden lg:flex text-gray-500",label:S(e)("What's new",{ns:"client"}),link:`https://geoportail.lu/${S(n).language}/questions/whats-new/`},null,8,["label","link"]),$("TODO get geonetworkBaseUrl from config"),te(Fi,{class:"hidden lg:flex text-gray-500",label:S(e)("Geocatalogue",{ns:"client"}),link:""},null,8,["label"]),$("TODO handle feedback links (for different portals?)"),te(Fi,{class:"hidden lg:flex text-gray-500",label:S(e)("Feedback",{ns:"client"}),link:""},null,8,["label"]),te(Fi,{class:"hidden lg:flex text-gray-500",label:S(e)("A Propos",{ns:"client"}),link:`https://www.geoportail.lu/${S(n).language}/propos/`},null,8,["label","link"]),te(Fi,{class:"hidden lg:flex text-gray-500",label:S(e)("Aide",{ns:"client"}),link:`https://www.geoportail.lu/${S(n).language}/documentation/`},null,8,["label","link"]),te(Fi,{class:"hidden lg:flex text-gray-500",label:S(e)("Contact",{ns:"client"}),link:`https://www.geoportail.lu/${S(n).language}/propos/contactez-nous/`},null,8,["label","link"]),te(Fi,{class:"text-gray-500",label:S(e)("Legalites",{ns:"client"}),link:`https://www.geoportail.lu/${S(n).language}/propos/mentions-legales/`},null,8,["label","link"]),te(Fi,{class:"text-gray-500",label:S(e)("ACT",{ns:"client"}),link:"http://www.act.public.lu/"},null,8,["label"])])]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/footer/footer-bar.vue"]]),TR={class:"flex flex-row flex-wrap pl-2.5"},NR=["onClick"],LR={class:"text-2xl absolute top-5"},CR=me(pe({__name:"theme-grid",props:{themes:{type:Array,required:!0}},setup(t){const{t:e}=Ke(),n=t;return(r,i)=>(P(),F("div",TR,[(P(!0),F(Ue,null,xn(n.themes,s=>(P(),F("button",{class:Pe(["relative shrink-0 h-[150px] w-1/2 px-2.5 text-start text-gray-100/40 uppercase hover:bg-[#ccc]",`bg-${s.name}-primary hover:text-${s.name}-primary`]),key:s.id,onClick:a=>r.$emit("setTheme",s.name)},[L("div",LR,oe(S(e)(`${s.name}`)),1),L("div",{class:Pe(["text-6xl absolute bottom-1 after:font-icons",`after:content-${s.name}`])},null,2)],10,NR))),128))]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/theme-selector/theme-grid.vue"]]),AR=["aria-expanded"],PR={class:"py-0.5"},DR={class:"px-1 py-0.5 shrink-0 flex flex-row text-[12px] bg-secondary text-white"},IR={class:"py-[3px]"},kR={class:"flex flex-row flex-wrap ml-1 w-12"},RR=me(pe({__name:"theme-selector-button",props:{themes:{type:Array,required:!0},currentTheme:{type:Object,required:!1},isOpen:{type:Boolean,required:!1}},setup(t){const{t:e}=Ke(),n=t,r=fe(()=>{var i;return((i=n.themes)==null?void 0:i.slice(0,8))||[]});return(i,s)=>{var a;return P(),F("button",{class:"w-full flex flex-row justify-between bg-tertiary text-white px-2 py-1.5 uppercase cursor-pointer hover:bg-white hover:text-primary","aria-expanded":n.isOpen},[L("span",PR,oe(S(e)("Theme"))+": "+oe(S(e)(`${(a=n.currentTheme)==null?void 0:a.name}`)),1),L("span",DR,[L("span",IR,oe(S(e)("Changer")),1),L("span",kR,[(P(!0),F(Ue,null,xn(r.value,o=>(P(),F("div",{class:Pe(`h-2.5 w-2.5 m-px bg-${o.name}-primary`),key:o.id},null,2))),128))])])],8,AR)}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/theme-selector/theme-selector-button.vue"]]),$R={key:0,class:"absolute inset-x-0 top-14 bottom-0 mt-1 bg-primary overflow-y-auto overflow-x-hidden"},FR=me(pe({__name:"theme-selector",setup(t){const e=bt(),{setThemeGridOpen:n}=e,{themeGridOpen:r}=ke(e),i=Ht(),s=Wr(),{theme:a,themes:o}=ke(i),l=fe(()=>{var c;return((c=o.value)==null?void 0:c.filter(h=>{var d;return((d=h.metadata)==null?void 0:d.display_in_switcher)===!0}))||[]});function u(){n(!r.value)}function f(c){s.setTheme(c),u()}return(c,h)=>(P(),F(Ue,null,[te(RR,{onClick:u,themes:l.value,currentTheme:S(a),isOpen:S(r)},null,8,["themes","currentTheme","isOpen"]),S(r)?(P(),F("div",$R,[te(CR,{onSetTheme:f,themes:l.value},null,8,["themes"])])):$("v-if",!0)],64))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/theme-selector/theme-selector.vue"]]);function rd(t,e=0){const{name:n,id:r,children:i,metadata:s}=t;return{name:n,id:r,depth:e,children:i==null?void 0:i.map(a=>rd(a,e+1)),checked:!1,expanded:(s==null?void 0:s.is_expanded)||!1}}const VR={key:0,class:"mb-7"},jR=me(pe({__name:"catalog-tree",setup(t){const e=rt(),n=Ht(),r=_n(),i=st(),s=st(),a=fe(()=>!e.is3dActive||e.is3dActive&&!e.is3dMesh),{layerTrees_3d:o}=ke(n);yn(l);function l(){var c;if(n.theme&&e.layers){const h=i.value&&i.value.id===((c=n.theme)==null?void 0:c.id)?i.value:rd(n.theme);i.value=fa.updateLayers(h,e.layers)}}yn(()=>{if(o.value){const c=s.value?s.value:rd(o.value);s.value=fa.updateLayers(c,e.layers3d)}});function u(c,h){const d=h?s:i;d.value=fa.toggleNode(c.id,d.value,"expanded")}function f(c,h){r.toggleLayer(+c.id,!c.checked,h)}return(c,h)=>(P(),F("div",null,[$(" 3D layers catalog, only displayed when 3D is active "),s.value&&S(e).is3dActive?(P(),F("div",VR,[(P(),je(Rh,{node:s.value,key:s.value.id,onToggleParent:h[0]||(h[0]=d=>u(d,!0)),onToggleLayer:h[1]||(h[1]=d=>f(d,!0))},null,8,["node"]))])):$("v-if",!0),$(" Main catalog, displays by default and 3D terrain active "),i.value&&a.value?(P(),je(Rh,{node:i.value,key:i.value.id,onToggleParent:h[2]||(h[2]=d=>u(d,!1)),onToggleLayer:h[3]||(h[3]=d=>f(d,!1))},null,8,["node"])):$("v-if",!0)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/catalog/catalog-tree.vue"]]),GR=me(pe({__name:"catalog-tab",setup(t){const{themeGridOpen:e}=ke(bt());return(n,r)=>(P(),F(Ue,null,[te(FR),S(e)===!1?(P(),je(jR,{key:0,class:"pt-5 absolute inset-x-2.5 bg-primary overflow-y-auto overflow-x-hidden"})):$("v-if",!0)],64))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/catalog/catalog-tab.vue"]]);/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(Object(n),!0).forEach(function(r){UR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(e){return typeof e}:Qu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function UR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xr(){return Xr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xr.apply(this,arguments)}function BR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WR(t,e){if(t==null)return{};var n=BR(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}var qR="1.15.2";function Kr(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Zr=Kr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ro=Kr(/Edge/i),$_=Kr(/firefox/i),$o=Kr(/safari/i)&&!Kr(/chrome/i)&&!Kr(/android/i),F_=Kr(/iP(ad|od|hone)/i),V_=Kr(/chrome/i)&&Kr(/android/i),j_={capture:!1,passive:!1};function We(t,e,n){t.addEventListener(e,n,!Zr&&j_)}function Fe(t,e,n){t.removeEventListener(e,n,!Zr&&j_)}function ec(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function HR(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function er(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&ec(t,e):ec(t,e))||r&&t===n)return t;if(t===n)break}while(t=HR(t))}return null}var G_=/\s+/g;function bn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(G_," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(G_," ")}}function be(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function ha(t,e){var n="";if(typeof t=="string")n=t;else do{var r=be(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function U_(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Mr(){var t=document.scrollingElement;return t||document.documentElement}function Mt(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,a,o,l,u,f,c;if(t!==window&&t.parentNode&&t!==Mr()?(s=t.getBoundingClientRect(),a=s.top,o=s.left,l=s.bottom,u=s.right,f=s.height,c=s.width):(a=0,o=0,l=window.innerHeight,u=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Zr))do if(i&&i.getBoundingClientRect&&(be(i,"transform")!=="none"||n&&be(i,"position")!=="static")){var h=i.getBoundingClientRect();a-=h.top+parseInt(be(i,"border-top-width")),o-=h.left+parseInt(be(i,"border-left-width")),l=a+s.height,u=o+s.width;break}while(i=i.parentNode);if(r&&t!==window){var d=ha(i||t),p=d&&d.a,m=d&&d.d;d&&(a/=m,o/=p,c/=p,f/=m,l=a+f,u=o+c)}return{top:a,left:o,bottom:l,right:u,width:c,height:f}}}function B_(t,e,n){for(var r=Vi(t,!0),i=Mt(t)[e];r;){var s=Mt(r)[n],a=void 0;if(n==="top"||n==="left"?a=i>=s:a=i<=s,!a)return r;if(r===Mr())break;r=Vi(r,!1)}return!1}function da(t,e,n,r){for(var i=0,s=0,a=t.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==_e.ghost&&(r||a[s]!==_e.dragged)&&er(a[s],n.draggable,t,!1)){if(i===e)return a[s];i++}s++}return null}function id(t,e){for(var n=t.lastElementChild;n&&(n===_e.ghost||be(n,"display")==="none"||e&&!ec(n,e));)n=n.previousElementSibling;return n||null}function Vn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==_e.clone&&(!e||ec(t,e))&&n++;return n}function W_(t){var e=0,n=0,r=Mr();if(t)do{var i=ha(t),s=i.a,a=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function zR(t,e){for(var n in t)if(!!t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Vi(t,e){if(!t||!t.getBoundingClientRect)return Mr();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=be(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Mr();if(r||e)return n;r=!0}}while(n=n.parentNode);return Mr()}function YR(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function sd(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Fo;function q_(t,e){return function(){if(!Fo){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Fo=setTimeout(function(){Fo=void 0},e)}}}function XR(){clearTimeout(Fo),Fo=void 0}function H_(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function z_(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Y_(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var s,a,o,l;if(!(!er(i,e.draggable,t,!1)||i.animated||i===n)){var u=Mt(i);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,u.left),r.top=Math.min((a=r.top)!==null&&a!==void 0?a:1/0,u.top),r.right=Math.max((o=r.right)!==null&&o!==void 0?o:-1/0,u.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var En="Sortable"+new Date().getTime();function KR(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(be(i,"display")==="none"||i===_e.ghost)){t.push({target:i,rect:Mt(i)});var s=xr({},t[t.length-1].rect);if(i.thisAnimationDuration){var a=ha(i,!0);a&&(s.top-=a.f,s.left-=a.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(zR(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,a=0;t.forEach(function(o){var l=0,u=o.target,f=u.fromRect,c=Mt(u),h=u.prevFromRect,d=u.prevToRect,p=o.rect,m=ha(u,!0);m&&(c.top-=m.f,c.left-=m.e),u.toRect=c,u.thisAnimationDuration&&sd(h,c)&&!sd(f,c)&&(p.top-c.top)/(p.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(l=JR(p,h,d,i.options)),sd(c,f)||(u.prevFromRect=f,u.prevToRect=c,l||(l=i.options.animation),i.animate(u,p,c,l)),l&&(s=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,a){if(a){be(r,"transition",""),be(r,"transform","");var o=ha(this.el),l=o&&o.a,u=o&&o.d,f=(i.left-s.left)/(l||1),c=(i.top-s.top)/(u||1);r.animatingX=!!f,r.animatingY=!!c,be(r,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=ZR(r),be(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),be(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){be(r,"transition",""),be(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function ZR(t){return t.offsetWidth}function JR(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var pa=[],ad={initializeByDefault:!0},Vo={mount:function(e){for(var n in ad)ad.hasOwnProperty(n)&&!(n in e)&&(e[n]=ad[n]);pa.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),pa.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";pa.forEach(function(a){!n[a.pluginName]||(n[a.pluginName][s]&&n[a.pluginName][s](xr({sortable:n},r)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](xr({sortable:n},r)))})},initializePlugins:function(e,n,r,i){pa.forEach(function(o){var l=o.pluginName;if(!(!e.options[l]&&!o.initializeByDefault)){var u=new o(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Xr(r,u.defaults)}});for(var s in e.options)if(!!e.options.hasOwnProperty(s)){var a=this.modifyOption(e,s,e.options[s]);typeof a<"u"&&(e.options[s]=a)}},getEventProperties:function(e,n){var r={};return pa.forEach(function(i){typeof i.eventProperties=="function"&&Xr(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return pa.forEach(function(s){!e[s.pluginName]||s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function QR(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,a=t.toEl,o=t.fromEl,l=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,c=t.newDraggableIndex,h=t.originalEvent,d=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[En],!!e){var m,g=e.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Zr&&!Ro?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=a||n,m.from=o||n,m.item=i||n,m.clone=s,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=f,m.newDraggableIndex=c,m.originalEvent=h,m.pullMode=d?d.lastPutMode:void 0;var v=xr(xr({},p),Vo.getEventProperties(r,e));for(var E in v)m[E]=v[E];n&&n.dispatchEvent(m),g[y]&&g[y].call(e,m)}}var e3=["evt"],cn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=WR(r,e3);Vo.pluginEvent.bind(_e)(e,n,xr({dragEl:ee,parentEl:dt,ghostEl:Oe,rootEl:ot,nextEl:Os,lastDownEl:tc,cloneEl:ut,cloneHidden:ji,dragStarted:Go,putSortable:Rt,activeSortable:_e.active,originalEvent:i,oldIndex:ma,oldDraggableIndex:jo,newIndex:Sn,newDraggableIndex:Gi,hideGhostForTarget:tb,unhideGhostForTarget:nb,cloneNowHidden:function(){ji=!0},cloneNowShown:function(){ji=!1},dispatchSortableEvent:function(o){nn({sortable:n,name:o,originalEvent:i})}},s))};function nn(t){QR(xr({putSortable:Rt,cloneEl:ut,targetEl:ee,rootEl:ot,oldIndex:ma,oldDraggableIndex:jo,newIndex:Sn,newDraggableIndex:Gi},t))}var ee,dt,Oe,ot,Os,tc,ut,ji,ma,Sn,jo,Gi,nc,Rt,ga=!1,rc=!1,ic=[],xs,tr,od,ld,X_,K_,Go,ya,Uo,Bo=!1,sc=!1,ac,Yt,ud=[],cd=!1,oc=[],lc=typeof document<"u",uc=F_,Z_=Ro||Zr?"cssFloat":"float",t3=lc&&!V_&&!F_&&"draggable"in document.createElement("div"),J_=function(){if(!!lc){if(Zr)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Q_=function(e,n){var r=be(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=da(e,0,n),a=da(e,1,n),o=s&&be(s),l=a&&be(a),u=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+Mt(s).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Mt(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&o.float&&o.float!=="none"){var c=o.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===c)?"vertical":"horizontal"}return s&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||u>=i&&r[Z_]==="none"||a&&r[Z_]==="none"&&u+f>i)?"vertical":"horizontal"},n3=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,a=r?e.width:e.height,o=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===o||s===l||i+a/2===o+u/2},r3=function(e,n){var r;return ic.some(function(i){var s=i[En].options.emptyInsertThreshold;if(!(!s||id(i))){var a=Mt(i),o=e>=a.left-s&&e<=a.right+s,l=n>=a.top-s&&n<=a.bottom+s;if(o&&l)return r=i}}),r},eb=function(e){function n(s,a){return function(o,l,u,f){var c=o.options.group.name&&l.options.group.name&&o.options.group.name===l.options.group.name;if(s==null&&(a||c))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return n(s(o,l,u,f),a)(o,l,u,f);var h=(a?o:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||Qu(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},tb=function(){!J_&&Oe&&be(Oe,"display","none")},nb=function(){!J_&&Oe&&be(Oe,"display","")};lc&&!V_&&document.addEventListener("click",function(t){if(rc)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),rc=!1,!1},!0);var Ms=function(e){if(ee){e=e.touches?e.touches[0]:e;var n=r3(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[En]._onDragOver(r)}}},i3=function(e){ee&&ee.parentNode[En]._isOutsideThisEl(e.target)};function _e(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Xr({},e),t[En]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Q_(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,o){a.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:_e.supportPointer!==!1&&"PointerEvent"in window&&!$o,emptyInsertThreshold:5};Vo.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);eb(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:t3,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?We(t,"pointerdown",this._onTapStart):(We(t,"mousedown",this._onTapStart),We(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(We(t,"dragover",this),We(t,"dragenter",this)),ic.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Xr(this,KR())}_e.prototype={constructor:_e,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ya=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,ee):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(o||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=i.filter;if(h3(r),!ee&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&$o&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=er(l,i.draggable,r,!1),!(l&&l.animated)&&tc!==l)){if(ma=Vn(l),jo=Vn(l,i.draggable),typeof f=="function"){if(f.call(this,e,l,this)){nn({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),cn("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=er(u,c.trim(),r,!1),c)return nn({sortable:n,rootEl:c,name:"filter",targetEl:l,fromEl:r,toEl:r}),cn("filter",n,{evt:e}),!0}),f)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!er(u,i.handle,r,!1)||this._prepareDragStart(e,o,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,a=i.options,o=s.ownerDocument,l;if(r&&!ee&&r.parentNode===s){var u=Mt(r);if(ot=s,ee=r,dt=ee.parentNode,Os=ee.nextSibling,tc=r,nc=a.group,_e.dragged=ee,xs={target:ee,clientX:(n||e).clientX,clientY:(n||e).clientY},X_=xs.clientX-u.left,K_=xs.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,ee.style["will-change"]="all",l=function(){if(cn("delayEnded",i,{evt:e}),_e.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!$_&&i.nativeDraggable&&(ee.draggable=!0),i._triggerDragStart(e,n),nn({sortable:i,name:"choose",originalEvent:e}),bn(ee,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){U_(ee,f.trim(),fd)}),We(o,"dragover",Ms),We(o,"mousemove",Ms),We(o,"touchmove",Ms),We(o,"mouseup",i._onDrop),We(o,"touchend",i._onDrop),We(o,"touchcancel",i._onDrop),$_&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ee.draggable=!0),cn("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ro||Zr))){if(_e.eventCanceled){this._onDrop();return}We(o,"mouseup",i._disableDelayedDrag),We(o,"touchend",i._disableDelayedDrag),We(o,"touchcancel",i._disableDelayedDrag),We(o,"mousemove",i._delayedDragTouchMoveHandler),We(o,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&We(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ee&&fd(ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Fe(e,"mouseup",this._disableDelayedDrag),Fe(e,"touchend",this._disableDelayedDrag),Fe(e,"touchcancel",this._disableDelayedDrag),Fe(e,"mousemove",this._delayedDragTouchMoveHandler),Fe(e,"touchmove",this._delayedDragTouchMoveHandler),Fe(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?We(document,"pointermove",this._onTouchMove):n?We(document,"touchmove",this._onTouchMove):We(document,"mousemove",this._onTouchMove):(We(ee,"dragend",this),We(ot,"dragstart",this._onDragStart));try{document.selection?fc(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ga=!1,ot&&ee){cn("dragStarted",this,{evt:n}),this.nativeDraggable&&We(document,"dragover",i3);var r=this.options;!e&&bn(ee,r.dragClass,!1),bn(ee,r.ghostClass,!0),_e.active=this,e&&this._appendGhost(),nn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(tr){this._lastX=tr.clientX,this._lastY=tr.clientY,tb();for(var e=document.elementFromPoint(tr.clientX,tr.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(tr.clientX,tr.clientY),e!==n);)n=e;if(ee.parentNode[En]._isOutsideThisEl(e),n)do{if(n[En]){var r=void 0;if(r=n[En]._onDragOver({clientX:tr.clientX,clientY:tr.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);nb()}},_onTouchMove:function(e){if(xs){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,a=Oe&&ha(Oe,!0),o=Oe&&a&&a.a,l=Oe&&a&&a.d,u=uc&&Yt&&W_(Yt),f=(s.clientX-xs.clientX+i.x)/(o||1)+(u?u[0]-ud[0]:0)/(o||1),c=(s.clientY-xs.clientY+i.y)/(l||1)+(u?u[1]-ud[1]:0)/(l||1);if(!_e.active&&!ga){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Oe){a?(a.e+=f-(od||0),a.f+=c-(ld||0)):a={a:1,b:0,c:0,d:1,e:f,f:c};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");be(Oe,"webkitTransform",h),be(Oe,"mozTransform",h),be(Oe,"msTransform",h),be(Oe,"transform",h),od=f,ld=c,tr=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Oe){var e=this.options.fallbackOnBody?document.body:ot,n=Mt(ee,!0,uc,!0,e),r=this.options;if(uc){for(Yt=e;be(Yt,"position")==="static"&&be(Yt,"transform")==="none"&&Yt!==document;)Yt=Yt.parentNode;Yt!==document.body&&Yt!==document.documentElement?(Yt===document&&(Yt=Mr()),n.top+=Yt.scrollTop,n.left+=Yt.scrollLeft):Yt=Mr(),ud=W_(Yt)}Oe=ee.cloneNode(!0),bn(Oe,r.ghostClass,!1),bn(Oe,r.fallbackClass,!0),bn(Oe,r.dragClass,!0),be(Oe,"transition",""),be(Oe,"transform",""),be(Oe,"box-sizing","border-box"),be(Oe,"margin",0),be(Oe,"top",n.top),be(Oe,"left",n.left),be(Oe,"width",n.width),be(Oe,"height",n.height),be(Oe,"opacity","0.8"),be(Oe,"position",uc?"absolute":"fixed"),be(Oe,"zIndex","100000"),be(Oe,"pointerEvents","none"),_e.ghost=Oe,e.appendChild(Oe),be(Oe,"transform-origin",X_/parseInt(Oe.style.width)*100+"% "+K_/parseInt(Oe.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(cn("dragStart",this,{evt:e}),_e.eventCanceled){this._onDrop();return}cn("setupClone",this),_e.eventCanceled||(ut=z_(ee),ut.removeAttribute("id"),ut.draggable=!1,ut.style["will-change"]="",this._hideClone(),bn(ut,this.options.chosenClass,!1),_e.clone=ut),r.cloneId=fc(function(){cn("clone",r),!_e.eventCanceled&&(r.options.removeCloneOnHide||ot.insertBefore(ut,ee),r._hideClone(),nn({sortable:r,name:"clone"}))}),!n&&bn(ee,s.dragClass,!0),n?(rc=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Fe(document,"mouseup",r._onDrop),Fe(document,"touchend",r._onDrop),Fe(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,ee)),We(document,"drop",r),be(ee,"transform","translateZ(0)")),ga=!0,r._dragStartId=fc(r._dragStarted.bind(r,n,e)),We(document,"selectstart",r),Go=!0,$o&&be(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,a,o=this.options,l=o.group,u=_e.active,f=nc===l,c=o.sort,h=Rt||u,d,p=this,m=!1;if(cd)return;function g(Z,Ae){cn(Z,p,xr({evt:e,isOwner:f,axis:d?"vertical":"horizontal",revert:a,dragRect:i,targetRect:s,canSort:c,fromSortable:h,target:r,completed:v,onMove:function(Et,Xt){return cc(ot,n,ee,i,Et,Mt(Et),e,Xt)},changed:E},Ae))}function y(){g("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function v(Z){return g("dragOverCompleted",{insertion:Z}),Z&&(f?u._hideClone():u._showClone(p),p!==h&&(bn(ee,Rt?Rt.options.ghostClass:u.options.ghostClass,!1),bn(ee,o.ghostClass,!0)),Rt!==p&&p!==_e.active?Rt=p:p===_e.active&&Rt&&(Rt=null),h===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){g("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===ee&&!ee.animated||r===n&&!r.animated)&&(ya=null),!o.dragoverBubble&&!e.rootEl&&r!==document&&(ee.parentNode[En]._isOutsideThisEl(e.target),!Z&&Ms(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function E(){Sn=Vn(ee),Gi=Vn(ee,o.draggable),nn({sortable:p,name:"change",toEl:n,newIndex:Sn,newDraggableIndex:Gi,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=er(r,o.draggable,n,!0),g("dragOver"),_e.eventCanceled)return m;if(ee.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return v(!1);if(rc=!1,u&&!o.disabled&&(f?c||(a=dt!==ot):Rt===this||(this.lastPutMode=nc.checkPull(this,u,ee,e))&&l.checkPut(this,u,ee,e))){if(d=this._getDirection(e,r)==="vertical",i=Mt(ee),g("dragOverValid"),_e.eventCanceled)return m;if(a)return dt=ot,y(),this._hideClone(),g("revert"),_e.eventCanceled||(Os?ot.insertBefore(ee,Os):ot.appendChild(ee)),v(!0);var b=id(n,o.draggable);if(!b||l3(e,d,this)&&!b.animated){if(b===ee)return v(!1);if(b&&n===e.target&&(r=b),r&&(s=Mt(r)),cc(ot,n,ee,i,r,s,e,!!r)!==!1)return y(),b&&b.nextSibling?n.insertBefore(ee,b.nextSibling):n.appendChild(ee),dt=n,E(),v(!0)}else if(b&&o3(e,d,this)){var x=da(n,0,o,!0);if(x===ee)return v(!1);if(r=x,s=Mt(r),cc(ot,n,ee,i,r,s,e,!1)!==!1)return y(),n.insertBefore(ee,x),dt=n,E(),v(!0)}else if(r.parentNode===n){s=Mt(r);var T=0,M,G=ee.parentNode!==n,I=!n3(ee.animated&&ee.toRect||i,r.animated&&r.toRect||s,d),C=d?"top":"left",D=B_(r,"top","top")||B_(ee,"top","top"),A=D?D.scrollTop:void 0;ya!==r&&(M=s[C],Bo=!1,sc=!I&&o.invertSwap||G),T=u3(e,r,s,d,I?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,sc,ya===r);var Q;if(T!==0){var he=Vn(ee);do he-=T,Q=dt.children[he];while(Q&&(be(Q,"display")==="none"||Q===Oe))}if(T===0||Q===r)return v(!1);ya=r,Uo=T;var N=r.nextElementSibling,R=!1;R=T===1;var z=cc(ot,n,ee,i,r,s,e,R);if(z!==!1)return(z===1||z===-1)&&(R=z===1),cd=!0,setTimeout(a3,30),y(),R&&!N?n.appendChild(ee):r.parentNode.insertBefore(ee,R?N:r),D&&H_(D,0,A-D.scrollTop),dt=ee.parentNode,M!==void 0&&!sc&&(ac=Math.abs(M-Mt(r)[C])),E(),v(!0)}if(n.contains(ee))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Fe(document,"mousemove",this._onTouchMove),Fe(document,"touchmove",this._onTouchMove),Fe(document,"pointermove",this._onTouchMove),Fe(document,"dragover",Ms),Fe(document,"mousemove",Ms),Fe(document,"touchmove",Ms)},_offUpEvents:function(){var e=this.el.ownerDocument;Fe(e,"mouseup",this._onDrop),Fe(e,"touchend",this._onDrop),Fe(e,"pointerup",this._onDrop),Fe(e,"touchcancel",this._onDrop),Fe(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(Sn=Vn(ee),Gi=Vn(ee,r.draggable),cn("drop",this,{evt:e}),dt=ee&&ee.parentNode,Sn=Vn(ee),Gi=Vn(ee,r.draggable),_e.eventCanceled){this._nulling();return}ga=!1,sc=!1,Bo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),hd(this.cloneId),hd(this._dragStartId),this.nativeDraggable&&(Fe(document,"drop",this),Fe(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),$o&&be(document.body,"user-select",""),be(ee,"transform",""),e&&(Go&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Oe&&Oe.parentNode&&Oe.parentNode.removeChild(Oe),(ot===dt||Rt&&Rt.lastPutMode!=="clone")&&ut&&ut.parentNode&&ut.parentNode.removeChild(ut),ee&&(this.nativeDraggable&&Fe(ee,"dragend",this),fd(ee),ee.style["will-change"]="",Go&&!ga&&bn(ee,Rt?Rt.options.ghostClass:this.options.ghostClass,!1),bn(ee,this.options.chosenClass,!1),nn({sortable:this,name:"unchoose",toEl:dt,newIndex:null,newDraggableIndex:null,originalEvent:e}),ot!==dt?(Sn>=0&&(nn({rootEl:dt,name:"add",toEl:dt,fromEl:ot,originalEvent:e}),nn({sortable:this,name:"remove",toEl:dt,originalEvent:e}),nn({rootEl:dt,name:"sort",toEl:dt,fromEl:ot,originalEvent:e}),nn({sortable:this,name:"sort",toEl:dt,originalEvent:e})),Rt&&Rt.save()):Sn!==ma&&Sn>=0&&(nn({sortable:this,name:"update",toEl:dt,originalEvent:e}),nn({sortable:this,name:"sort",toEl:dt,originalEvent:e})),_e.active&&((Sn==null||Sn===-1)&&(Sn=ma,Gi=jo),nn({sortable:this,name:"end",toEl:dt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){cn("nulling",this),ot=ee=dt=Oe=Os=ut=tc=ji=xs=tr=Go=Sn=Gi=ma=jo=ya=Uo=Rt=nc=_e.dragged=_e.ghost=_e.clone=_e.active=null,oc.forEach(function(e){e.checked=!0}),oc.length=od=ld=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ee&&(this._onDragOver(e),s3(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,a=this.options;i<s;i++)n=r[i],er(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||f3(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,a){var o=i.children[a];er(o,this.options.draggable,i,!1)&&(r[s]=o)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return er(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=Vo.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&eb(r)},destroy:function(){cn("destroy",this);var e=this.el;e[En]=null,Fe(e,"mousedown",this._onTapStart),Fe(e,"touchstart",this._onTapStart),Fe(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Fe(e,"dragover",this),Fe(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ic.splice(ic.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ji){if(cn("hideClone",this),_e.eventCanceled)return;be(ut,"display","none"),this.options.removeCloneOnHide&&ut.parentNode&&ut.parentNode.removeChild(ut),ji=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ji){if(cn("showClone",this),_e.eventCanceled)return;ee.parentNode==ot&&!this.options.group.revertClone?ot.insertBefore(ut,ee):Os?ot.insertBefore(ut,Os):ot.appendChild(ut),this.options.group.revertClone&&this.animate(ee,ut),be(ut,"display",""),ji=!1}}};function s3(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function cc(t,e,n,r,i,s,a,o){var l,u=t[En],f=u.options.onMove,c;return window.CustomEvent&&!Zr&&!Ro?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||Mt(e),l.willInsertAfter=o,l.originalEvent=a,t.dispatchEvent(l),f&&(c=f.call(u,l,a)),c}function fd(t){t.draggable=!1}function a3(){cd=!1}function o3(t,e,n){var r=Mt(da(n.el,0,n.options,!0)),i=Y_(n.el,n.options,Oe),s=10;return e?t.clientX<i.left-s||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-s||t.clientY<r.bottom&&t.clientX<r.left}function l3(t,e,n){var r=Mt(id(n.el,n.options.draggable)),i=Y_(n.el,n.options,Oe),s=10;return e?t.clientX>i.right+s||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+s||t.clientX>r.right&&t.clientY>r.top}function u3(t,e,n,r,i,s,a,o){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,f=r?n.top:n.left,c=r?n.bottom:n.right,h=!1;if(!a){if(o&&ac<u*i){if(!Bo&&(Uo===1?l>f+u*s/2:l<c-u*s/2)&&(Bo=!0),Bo)h=!0;else if(Uo===1?l<f+ac:l>c-ac)return-Uo}else if(l>f+u*(1-i)/2&&l<c-u*(1-i)/2)return c3(e)}return h=h||a,h&&(l<f+u*s/2||l>c-u*s/2)?l>f+u/2?1:-1:0}function c3(t){return Vn(ee)<Vn(t)?1:-1}function f3(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function h3(t){oc.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&oc.push(r)}}function fc(t){return setTimeout(t,0)}function hd(t){return clearTimeout(t)}lc&&We(document,"touchmove",function(t){(_e.active||ga)&&t.cancelable&&t.preventDefault()}),_e.utils={on:We,off:Fe,css:be,find:U_,is:function(e,n){return!!er(e,n,e,!1)},extend:YR,throttle:q_,closest:er,toggleClass:bn,clone:z_,index:Vn,nextTick:fc,cancelNextTick:hd,detectDirection:Q_,getChild:da},_e.get=function(t){return t[En]},_e.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(_e.utils=xr(xr({},_e.utils),r.utils)),Vo.mount(r)})},_e.create=function(t,e){return new _e(t,e)},_e.version=qR;var Tt=[],Wo,dd,pd=!1,md,gd,hc,qo;function d3(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?We(document,"dragover",this._handleAutoScroll):this.options.supportPointer?We(document,"pointermove",this._handleFallbackAutoScroll):r.touches?We(document,"touchmove",this._handleFallbackAutoScroll):We(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Fe(document,"dragover",this._handleAutoScroll):(Fe(document,"pointermove",this._handleFallbackAutoScroll),Fe(document,"touchmove",this._handleFallbackAutoScroll),Fe(document,"mousemove",this._handleFallbackAutoScroll)),rb(),dc(),XR()},nulling:function(){hc=dd=Wo=pd=qo=md=gd=null,Tt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,o=document.elementFromPoint(s,a);if(hc=n,r||this.options.forceAutoScrollFallback||Ro||Zr||$o){yd(n,this.options,o,r);var l=Vi(o,!0);pd&&(!qo||s!==md||a!==gd)&&(qo&&rb(),qo=setInterval(function(){var u=Vi(document.elementFromPoint(s,a),!0);u!==l&&(l=u,dc()),yd(n,i.options,u,r)},10),md=s,gd=a)}else{if(!this.options.bubbleScroll||Vi(o,!0)===Mr()){dc();return}yd(n,this.options,Vi(o,!1),!1)}}},Xr(t,{pluginName:"scroll",initializeByDefault:!0})}function dc(){Tt.forEach(function(t){clearInterval(t.pid)}),Tt=[]}function rb(){clearInterval(qo)}var yd=q_(function(t,e,n,r){if(!!e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,o=e.scrollSpeed,l=Mr(),u=!1,f;dd!==n&&(dd=n,dc(),Wo=e.scroll,f=e.scrollFn,Wo===!0&&(Wo=Vi(n,!0)));var c=0,h=Wo;do{var d=h,p=Mt(d),m=p.top,g=p.bottom,y=p.left,v=p.right,E=p.width,b=p.height,x=void 0,T=void 0,M=d.scrollWidth,G=d.scrollHeight,I=be(d),C=d.scrollLeft,D=d.scrollTop;d===l?(x=E<M&&(I.overflowX==="auto"||I.overflowX==="scroll"||I.overflowX==="visible"),T=b<G&&(I.overflowY==="auto"||I.overflowY==="scroll"||I.overflowY==="visible")):(x=E<M&&(I.overflowX==="auto"||I.overflowX==="scroll"),T=b<G&&(I.overflowY==="auto"||I.overflowY==="scroll"));var A=x&&(Math.abs(v-i)<=a&&C+E<M)-(Math.abs(y-i)<=a&&!!C),Q=T&&(Math.abs(g-s)<=a&&D+b<G)-(Math.abs(m-s)<=a&&!!D);if(!Tt[c])for(var he=0;he<=c;he++)Tt[he]||(Tt[he]={});(Tt[c].vx!=A||Tt[c].vy!=Q||Tt[c].el!==d)&&(Tt[c].el=d,Tt[c].vx=A,Tt[c].vy=Q,clearInterval(Tt[c].pid),(A!=0||Q!=0)&&(u=!0,Tt[c].pid=setInterval(function(){r&&this.layer===0&&_e.active._onTouchMove(hc);var N=Tt[this.layer].vy?Tt[this.layer].vy*o:0,R=Tt[this.layer].vx?Tt[this.layer].vx*o:0;typeof f=="function"&&f.call(_e.dragged.parentNode[En],R,N,t,hc,Tt[this.layer].el)!=="continue"||H_(Tt[this.layer].el,R,N)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&h!==l&&(h=Vi(h,!1)));pd=u}},30),ib=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(!!n){var u=r||s;o();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(f.clientX,f.clientY);l(),u&&!u.el.contains(c)&&(a("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function vd(){}vd.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=da(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:ib},Xr(vd,{pluginName:"revertOnSpill"});function _d(){}_d.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:ib},Xr(_d,{pluginName:"removeOnSpill"}),_e.mount(new d3),_e.mount(_d,vd);const sb=.5,p3=!1,pc=Si("slider",()=>{const t=rt(),e=ve(sb),n=ve(p3),r=fe(()=>[...t.layers].reverse()[0]);function i(a){let o=a;a<.1?o=.1:a>.9&&(o=.9),e.value=o}function s(a){n.value=a!=null?a:!n.value}return{sliderActive:n,sliderRatio:e,sliderTopLayer:r,setRatio:i,toggleSlider:s}},{});function ab(t,e){const{t:n}=Ke();function r(){e==null||e.emit("clickInfo",t)}return{t:n,onClickInfo:r}}const m3={class:"lux-layer-manager-item mt-2.5"},g3=["title"],y3={class:"flex-1 text-left cursor-default"},v3=["aria-label","title"],_3=me(pe({__name:"layer-item-background",props:{showEditButton:{type:Boolean,required:!0},layer:{type:Object,required:!0}},emits:["clickEdit","clickInfo"],setup(t,{emit:e}){const n=t,r=e,{t:i,onClickInfo:s}=ab(n.layer,{emit:r}),a=fe(()=>i('Display informations for "{{layerName}}"',{ns:"client",layerName:l()})),o=fe(()=>!bs().isOffLine.value);function l(){return i(n.layer.name,{ns:"client"})}return(u,f)=>(P(),F("div",m3,[o.value?(P(),F("button",{key:0,class:"fa fa-info w-3",title:a.value,onClick:f[0]||(f[0]=(...c)=>S(s)&&S(s)(...c))},null,8,g3)):$("v-if",!0),L("span",y3,oe(l()),1),u.showEditButton?(P(),F("button",{key:1,class:"fa fa-pencil","aria-label":S(i)("Open editor panel",{ns:"client"}),title:S(i)("Open editor panel",{ns:"client"}),onClick:f[1]||(f[1]=c=>u.$emit("clickEdit"))},null,8,v3)):$("v-if",!0)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-item/layer-item-background.vue"]]),b3=["id"],E3=["aria-checked","title"],S3=["id","value","aria-label"],w3=["aria-checked","aria-label"],O3=me(pe({__name:"layer-item-sub",props:{layer:{type:Object,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["changeOpacity","clickToggleLayerComparator"],setup(t,{emit:e}){var d,p,m,g;const n=t,r=e,{t:i}=Ke(),s=_n(),a=fe(()=>i(s.getLayerCurrentLabel(n.layer),{ns:"client"})),o=st(((p=(d=n.layer)==null?void 0:d.opacity)!=null?p:1)*100),l=st(((g=(m=n.layer)==null?void 0:m.previousOpacity)!=null?g:o.value)*100);function u(){o.value===0?o.value=l.value:(l.value=o.value,o.value=0),h()}function f(y){y.target&&(o.value=parseInt(y.target.value),h())}function c(){r("clickToggleLayerComparator",n.layer)}function h(){r("changeOpacity",n.layer,o.value)}return(y,v)=>(P(),F("div",{class:Pe(["lux-layer-manager-item-content",y.isOpen?"h-6":"h-0"]),id:`layer-manager-item-content-${y.layer.id}`},[L("button",{class:Pe(["w-5 fa-solid",o.value===0?"fa-eye-slash":"fa-eye"]),role:"switch","aria-checked":o.value===0,title:S(i)("Toggle layer opacity for {{layerName}}",{layerName:a.value}),onClick:u},null,10,E3),L("input",{id:`${y.layer.id}-steps-range`,type:"range",min:"0",max:"100",value:o.value,step:"25",onChange:f,class:"m-2.5 w-16 h-[5px] rounded-lg appearance-none cursor-pointer","aria-label":S(i)("Change opacity for {{ layerName }}",{layerName:a.value})},null,40,S3),y.displayLayerComparatorOpen?(P(),F("button",{key:0,role:"switch",class:Pe(["fa ml-auto text-sm cursor-pointer",y.isLayerComparatorOpen?"fa-adjust":"fa-circle"]),"aria-checked":y.isLayerComparatorOpen,"aria-label":S(i)("Toggle layer comparator for {{ layerName }}",{layerName:a.value}),onClick:c},null,10,w3)):$("v-if",!0)],10,b3))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-item/layer-item-sub.vue"]]),x3=["min","max","value"],bd=me(pe({__name:"layer-time-datepicker",props:{minDateAllowed:{type:String,required:!1,default:""},maxDateAllowed:{type:String,required:!1,default:""},dateValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=fe(()=>Mh(n.minDateAllowed)),s=fe(()=>Mh(n.maxDateAllowed));function a(o){r("change",o.target.value)}return(o,l)=>(P(),F("input",{class:"lux-time-datepicker",type:"date",min:i.value,max:s.value,value:o.dateValue?S(Mh)(o.dateValue):"",onChange:a},null,40,x3))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-datepicker.vue"]]),M3={class:"lux-time-slider w-full"},T3=["for"],N3=me(pe({__name:"layer-time-datepicker-value",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t){const{t:e}=Ke(),n=t,r=st(n.layer.currentTimeMinValue);return(i,s)=>{var a,o;return P(),F("div",M3,[L("div",null,[L("label",{for:`${i.layer.id}-time-slider-start`,class:"lux-time-slider-label"},oe(S(e)("Date:")),9,T3),te(bd,{id:`${i.layer.id}-time-slider-start`,"date-value":r.value,"min-date-allowed":(a=n.layer.time)==null?void 0:a.minValue,"max-date-allowed":(o=n.layer.time)==null?void 0:o.maxValue,onChange:s[0]||(s[0]=l=>i.$emit("changeTime",l))},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-datepicker-value.vue"]]),L3={class:"lux-time-slider w-full"},C3=["for"],A3=["for"],P3=me(pe({__name:"layer-time-datepicker-range",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const{t:n}=Ke(),r=t,i=e,s=st(r.layer.currentTimeMinValue),a=st(r.layer.currentTimeMaxValue);function o(u){i("changeTime",u,r.layer.currentTimeMaxValue)}function l(u){i("changeTime",r.layer.currentTimeMinValue,u)}return(u,f)=>{var c,h,d,p;return P(),F("div",L3,[$(" Date START datepicker input "),L("div",null,[L("label",{for:`${u.layer.id}-time-slider-start`,class:"lux-time-slider-label"},oe(S(n)("From:")),9,C3),te(bd,{id:`${u.layer.id}-time-slider-start`,"date-value":s.value,"min-date-allowed":(c=r.layer.time)==null?void 0:c.minValue,"max-date-allowed":(h=r.layer.time)==null?void 0:h.maxValue,onChange:o},null,8,["id","date-value","min-date-allowed","max-date-allowed"])]),$(" Date END datepicker input "),L("div",null,[L("label",{for:`${u.layer.id}-time-slider-end`,class:"lux-time-slider-label"},oe(S(n)("To:")),9,A3),te(bd,{id:`${u.layer.id}-time-slider-end`,"date-value":a.value,"min-date-allowed":(d=r.layer.time)==null?void 0:d.minValue,"max-date-allowed":(p=r.layer.time)==null?void 0:p.maxValue,onChange:l},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-datepicker-range.vue"]]),D3=["onKeydown","aria-label","title"],ob=me(pe({__name:"slider-range-thumb",props:{ariaLabel:{type:String,required:!1},maxLimit:{type:Number,required:!1,default:100},minLimit:{type:Number,required:!1,default:0},selectedValue:{type:Number,required:!0}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=ve(!1),s=ve(),a=ve(),o=fe(()=>{var E;return((E=s.value)==null?void 0:E.offsetWidth)||0}),l=fe(()=>{var E;return((E=a.value)==null?void 0:E.offsetWidth)||40}),u=ve(n.selectedValue),f=fe(()=>o.value*u.value/100-l.value/2),c=fe(()=>({left:`${f.value}px`}));hi(()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y)}),He(()=>n.selectedValue,E=>{u.value=E});function h(E){u.value=Math.max(Math.min(E,100),0),r("change",u.value,i.value)}function d(){h(u.value-1)}function p(){h(u.value+1)}function m(){i.value=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",y)}function g(E){!i.value||h(v(E))}function y(E){i.value=!1,h(v(E)),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y)}function v(E){var x,T;const b=(x=s.value)!=null&&x.offsetWidth?(E.clientX-l.value*2)*100/((T=s.value)==null?void 0:T.offsetWidth):0;return Math.round(Math.max(Math.min(b,n.maxLimit),n.minLimit))}return(E,b)=>(P(),F("div",{class:"w-full",role:"slider",ref_key:"elRefTrack",ref:s},[L("button",{class:Pe(["lux-slidebar-thumb",i.value?"dragging":""]),ref_key:"elRefThumb",ref:a,style:si(c.value),onKeydown:[cr(ur(p,["stop"]),["space"]),cr(ur(p,["stop"]),["right"]),cr(ur(d,["stop"]),["left"]),cr(ur(d,["stop"]),["delete"])],onMousedown:m,onMousemove:g,onMouseup:y,"aria-label":E.ariaLabel,title:E.ariaLabel},null,46,D3)],512))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/slider-range/slider-range-thumb.vue"]]),I3=me(pe({__name:"slider-range-active-track",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=ve(),s=ve(),a=fe(()=>i.value?Math.round(i.value.offsetWidth*n.selectedMinValue/100):0),o=fe(()=>{var c,h;let f=0;return n.selectedMaxValue!==void 0&&((c=i.value)==null?void 0:c.offsetWidth)&&(f=((h=i.value)==null?void 0:h.offsetWidth)*n.selectedMaxValue/100-a.value),Math.round(f)}),l=fe(()=>({left:`${a.value}px`,width:`${o.value}px`}));function u(f){if(i.value){const c=i.value.getBoundingClientRect().x,h=(f.clientX-c)*100/i.value.offsetWidth;r("change",h)}}return(f,c)=>(P(),F("div",{ref_key:"elRefFullTrack",ref:i,class:"lux-slidebar-track"},[f.selectedMaxValue!==void 0?(P(),F("div",{key:0,ref_key:"elRefSelectionTrack",ref:s,class:"lux-slidebar-track-selection",style:si(l.value),onClick:u},null,4)):$("v-if",!0),L("div",{class:"lux-slidebar-track-full",onClick:u})],512))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/slider-range/slider-range-active-track.vue"]]),k3={class:"lux-slidebar-fake"},lb=me(pe({__name:"slider-range",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1},ariaLabelMin:{type:String,required:!1},ariaLabelMax:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=ve(n.selectedMinValue),s=ve(n.selectedMaxValue);function a(u,f){r("change",u,n.selectedMaxValue,f)}function o(u,f){r("change",n.selectedMinValue,u,f)}function l(u){s.value===void 0?i.value=u:u>=s.value?s.value=u:u<=n.selectedMinValue?i.value=u:Math.abs(s.value-u)<Math.abs(i.value-u)?s.value=u:i.value=u,r("change",i.value,s.value,!1)}return(u,f)=>(P(),F("div",k3,[$(" Draggable Max thumb button "),s.value!==void 0?(P(),je(ob,{key:0,ariaLabel:u.ariaLabelMax,minLimit:u.selectedMinValue,selectedValue:s.value,onChange:o},null,8,["ariaLabel","minLimit","selectedValue"])):$("v-if",!0),$(" Draggable Min thumb button "),$(" put Min value after Max value, this is just for z-index grabbing "),te(ob,{ariaLabel:u.ariaLabelMin,maxLimit:u.selectedMaxValue,selectedValue:i.value,onChange:a},null,8,["ariaLabel","maxLimit","selectedValue"]),$(" Selection highlight "),te(I3,{selectedMinValue:u.selectedMinValue,selectedMaxValue:u.selectedMaxValue,onChange:l},null,8,["selectedMinValue","selectedMaxValue"])]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/common/slider-range/slider-range.vue"]]),R3={class:"lux-time-slider w-full"},$3={key:0,class:"lux-time-slider-value mr-1.5"},F3={key:1,class:"lux-time-slider-range mr-1.5"},V3={class:"lux-time-displayed-dates"},j3={key:0,class:"lux-time-start-date grow"},G3={key:1,class:"lux-time-slider-end-date grow text-right"},U3=me(pe({__name:"layer-time-slider",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const{t:n}=Ke(),r=t,i=e,s=fe(g),a=fe(()=>{var b,x;return(b=r.layer.time)!=null&&b.minValue?new Date((x=r.layer.time)==null?void 0:x.minValue).getTime():0}),o=fe(()=>{var b,x;return(b=r.layer.time)!=null&&b.maxValue?new Date((x=r.layer.time)==null?void 0:x.maxValue).getTime():0}),l=fe(()=>o.value-a.value),u=ve(r.layer.currentTimeMaxValue),f=ve(r.layer.currentTimeMinValue),c=fe(()=>f.value?new Date(f.value).getTime():void 0),h=fe(()=>u.value?new Date(u.value).getTime():void 0),d=fe(()=>m(c.value)),p=fe(()=>m(h.value));function m(b){return b?(b-a.value)/l.value*100:0}function g(){var D,A;const b=r.layer.time,x=[];if(!b)return;if(b.values)return b.values.map(Q=>new Date(Q).getTime());const T=new Date(b.minValue),M=new Date((D=b.maxValue)!=null?D:Date.now()),G=1024,I=new Date(T.getTime()),C=(A=b.interval)!=null?A:w0;if(I.setFullYear(T.getFullYear()+G*C[0]),I.setMonth(T.getMonth()+G*C[1],T.getDate()+G*C[2]),I.setSeconds(T.getSeconds()+G*C[3]),I>M)for(let Q=0;;Q++){const he=new Date(T.getTime());if(he.setFullYear(T.getFullYear()+Q*C[0]),he.setMonth(T.getMonth()+Q*C[1],T.getDate()+Q*C[2]),he.setSeconds(T.getSeconds()+Q*C[3]),he<=M)x.push(he.getTime());else break}return x}function y(b){var M;const x=b/100*(o.value-a.value)+a.value,T=IA(x,{minValue:a.value,maxValue:o.value,timeValueList:s.value,timeInterval:(M=r.layer.time)==null?void 0:M.interval});return xh(T)}function v(b,x){const T=y(b);if(f.value=T,x){const M=y(x);u.value=M}}function E(b,x,T){v(b,x),T||i("changeTime",f.value,u.value)}return(b,x)=>{var T,M,G,I,C,D,A;return P(),F("div",R3,[$(" Slider LayerTimeMode.VALUE "),((T=b.layer.time)==null?void 0:T.mode)===S(Ur).VALUE?(P(),F("div",$3,[te(lb,{ariaLabelMin:`${S(n)("Modifier la date de d\xE9but",{ns:"client"})}`,selectedMinValue:d.value,onChange:E},null,8,["ariaLabelMin","selectedMinValue"])])):$("v-if",!0),$(" Slider LayerTimeMode.RANGE "),((M=b.layer.time)==null?void 0:M.mode)===S(Ur).RANGE?(P(),F("div",F3,[te(lb,{ariaLabelMin:`${S(n)("Modifier la date de d\xE9but",{ns:"client"})}`,ariaLabelMax:`${S(n)("Modifier la date de fin",{ns:"client"})}`,selectedMinValue:d.value,selectedMaxValue:p.value,onChange:E},null,8,["ariaLabelMin","ariaLabelMax","selectedMinValue","selectedMaxValue"])])):$("v-if",!0),$(" Display localized time values "),L("div",V3,[$(" Display localized time values Min value "),((G=b.layer.time)==null?void 0:G.mode)===S(Ur).RANGE||((I=b.layer.time)==null?void 0:I.mode)===S(Ur).VALUE?(P(),F("div",j3,[L("span",null,oe(f.value?S(O0)(f.value,(C=b.layer.time)==null?void 0:C.resolution):"-"),1)])):$("v-if",!0),$(" Display localized time values Max value "),((D=b.layer.time)==null?void 0:D.mode)===S(Ur).RANGE?(P(),F("div",G3,[L("span",null,oe(u.value?S(O0)(u.value,(A=b.layer.time)==null?void 0:A.resolution):"-"),1)])):$("v-if",!0)])])}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-slider.vue"]]),B3=me(pe({__name:"layer-time",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const n=e;function r(i,s){n("changeTime",i,s)}return(i,s)=>{var a,o,l,u,f;return P(),F(Ue,null,[$(" Layer time: slider widget "),((a=i.layer.time)==null?void 0:a.widget)===S(mu).SLIDER?(P(),je(U3,{key:0,layer:i.layer,onChangeTime:r},null,8,["layer"])):$("v-if",!0),$(" Layer time: datepicker VALUE (one date) widget "),((o=i.layer.time)==null?void 0:o.widget)===S(mu).DATEPICKER&&((l=i.layer.time)==null?void 0:l.mode)===S(Ur).VALUE?(P(),je(N3,{key:1,layer:i.layer,onChangeTime:r},null,8,["layer"])):$("v-if",!0),$(' Layer time: datepicker RANGE ("from:" date - "to:" date) widget '),((u=i.layer.time)==null?void 0:u.widget)===S(mu).DATEPICKER&&((f=i.layer.time)==null?void 0:f.mode)===S(Ur).RANGE?(P(),je(P3,{key:2,layer:i.layer,onChangeTime:r},null,8,["layer"])):$("v-if",!0)],64)}}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time.vue"]]),W3={class:"lux-layer-manager-item relative"},q3={class:"w-full flex flex-nowrap items-start gap-x-2"},H3=["title"],z3=["aria-label","title"],Y3=["aria-expanded","aria-controls","data-cy"],X3={class:"grow"},K3=["title","aria-label"],ub=me(pe({__name:"layer-item",props:{is3d:{type:Boolean,required:!0},layer:{type:Object,required:!0},dragHandleClassName:{type:String,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["clickInfo","clickToggle","clickToggleLayerComparator","clickRemove","changeOpacity","changeTime"],setup(t,{emit:e}){const n=t,r=e,{t:i,onClickInfo:s}=ab(n.layer,{emit:r}),a=_n(),o=fe(()=>i(a.getLayerCurrentLabel(n.layer),{ns:"client"})),l=fe(()=>!bs().isOffLine.value),u=fe(()=>i('Sort "{{layerName}}" in the list',{ns:"client",layerName:o.value})),f=fe(()=>i('Display informations for "{{layerName}}"',{ns:"client",layerName:o.value})),c=fe(()=>i('Remove layer "{{layerName}}"',{ns:"client",layerName:o.value}));function h(d,p){r("changeTime",d,p)}return(d,p)=>(P(),F("div",W3,[L("div",q3,[L("button",{class:Pe(["fa-solid fa-bars cursor-move mt-1",d.dragHandleClassName]),title:u.value},null,10,H3),l.value?(P(),F("button",{key:0,class:"fa-solid fa-info mt-1","aria-label":f.value,title:f.value,onClick:p[0]||(p[0]=(...m)=>S(s)&&S(s)(...m))},null,8,z3)):$("v-if",!0),L("button",{"aria-expanded":d.isOpen,"aria-controls":`layer-manager-item-content-${d.layer.id}`,"data-cy":`myLayerItemLabel-${d.layer.id}`,class:Pe([d.is3d?"cursor-default":"","grow text-left break-words w-[70%] flex items-center"]),onClick:p[1]||(p[1]=m=>d.$emit("clickToggle",d.layer))},[L("span",X3,oe(o.value),1),d.is3d?$("v-if",!0):(P(),F("span",{key:0,class:Pe(["w-3.5 fa-solid",d.isOpen?"fa-xmark":"fa-ellipsis"]),"aria-hidden":"true"},null,2))],10,Y3),L("button",{class:"mt-1 fa-regular fa-trash-can",title:c.value,"aria-label":c.value,onClick:p[2]||(p[2]=m=>d.$emit("clickRemove",d.layer))},null,8,K3)]),$(" Layer item sub content (opacity and toggle comparator) "),d.is3d?$("v-if",!0):(P(),je(O3,{key:0,layer:d.layer,isOpen:d.isOpen,isLayerComparatorOpen:d.isLayerComparatorOpen,displayLayerComparatorOpen:d.displayLayerComparatorOpen,onClickToggleLayerComparator:p[3]||(p[3]=m=>d.$emit("clickToggleLayerComparator",m)),onChangeOpacity:p[4]||(p[4]=(m,g)=>d.$emit("changeOpacity",m,g))},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen"])),$(" Layer time: slider OR datepicker widgets "),d.layer.time?(P(),je(B3,{key:1,layer:d.layer,onChangeTime:h},null,8,["layer"])):$("v-if",!0)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-item/layer-item.vue"]]),Z3={key:0,class:"text-black"},J3={key:1,class:"mb-4 sortable-layers-3d"},Q3=["id"],e4={class:"sortable-layers"},t4=["id"],n4={key:2,class:"flex flex-row justify-center space-x-1 my-2"},r4=L("div",{class:"lux-preload"},[L("i",{class:"fa-regular fa-trash-can"})],-1),Ed="drag-handle",i4=me(pe({__name:"layer-manager",emits:["displayCatalog"],setup(t,{emit:e}){const{t:n}=Ke(),{setMetadataId:r}=kh(),i=rt(),s=bt(),a=Hr(),o=pc(),{bgLayer:l}=ke(i),{sliderActive:u}=ke(o),{isOffLine:f}=ke(s),{setRemoteLayersOpen:c}=s,h=fe(()=>[...i.layers].reverse()),d=fe(()=>[...i.layers3d].reverse()),p=st(),m=fe(()=>a.isLayerStyleEditable(l.value)),g=fe(()=>!f.value),y=e;gn(()=>{const C={dragClass:"lux-sortable-drag",ghostClass:"lux-sortable-ghost",sort:!0,handle:`.${Ed}`,forceFallback:BA},D=document.querySelector(".sortable-layers"),A=document.querySelector(".sortable-layers-3d");D&&_e.create(D,{...C,onSort:v}),A&&_e.create(A,{...C,onSort:E})});function v(C,D){const A=[...C.to.children].map(Q=>Number(Q.id)).reverse();i.reorderLayers(A,D)}function E(C){v(C,!0)}function b(C,D){i.setLayerOpacity(C.id,D/100)}function x(C,D,A){i.setLayerTime(C.id,D,A)}function T(C){i.removeLayers(C.id)}function M(C){p.value=p.value!==C.id?C.id:void 0}function G(){s.openStyleEditorPanel()}function I(){o.toggleSlider()}return(C,D)=>(P(),F("div",null,[S(f)&&h.value.length===0?(P(),F("div",Z3,oe(S(n)("No layer selected",{ns:"client"})),1)):$("v-if",!0),d.value.length>0?(P(),F("ul",J3,[(P(!0),F(Ue,null,xn(d.value,(A,Q)=>(P(),F("li",{key:A.id,id:A.id},[te(ub,{is3d:!0,dragHandleClassName:Ed,layer:A,isOpen:p.value===A.id,isLayerComparatorOpen:S(u),displayLayerComparatorOpen:Q===0,onClickRemove:T,onClickToggle:M,onClickToggleLayerComparator:I,onClickInfo:he=>S(r)(A.id),onChangeOpacity:b,onChangeTime:(he,N)=>x(A,he,N)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,Q3))),128))])):$("v-if",!0),L("ul",e4,[(P(!0),F(Ue,null,xn(h.value,(A,Q)=>(P(),F("li",{key:A.id,id:A.id},[te(ub,{is3d:!1,dragHandleClassName:Ed,layer:A,isOpen:p.value===A.id,isLayerComparatorOpen:S(u),displayLayerComparatorOpen:Q===0,onClickRemove:T,onClickToggle:M,onClickToggleLayerComparator:I,onClickInfo:he=>S(r)(A.id),onChangeOpacity:b,onChangeTime:(he,N)=>x(A,he,N)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,t4))),128))]),te(_3,{layer:S(l)||S(Uu),showEditButton:m.value,onClickInfo:D[0]||(D[0]=()=>S(l)&&S(r)(S(l).id)),onClickEdit:G},null,8,["layer","showEditButton"]),g.value?(P(),F("div",n4,[L("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:D[1]||(D[1]=A=>y("displayCatalog"))},oe(S(n)("+ Add layers",{ns:"client"})),1),L("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:D[2]||(D[2]=A=>S(c)(!0))},oe(S(n)("+ Add external Wms",{ns:"client"})),1)])):$("v-if",!0),$(" Preload webfont "),r4]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-manager/layer-manager.vue"]]),s4={class:"flex flex-col h-full pt-1.5"},a4={class:"h-16 shrink-0 flex justify-between lux-panel-title"},o4=["aria-label"],l4={class:"flex flex-row gap-2 h-10 text-2xl"},u4=["aria-expanded"],c4={key:0},f4=["aria-expanded"],h4={class:"relative grow p-2.5 bg-primary overflow-auto"},cb=me(pe({__name:"layer-panel",setup(t){const{t:e}=Ke(),n=bt(),{setLayersOpen:r}=n,{myLayersTabOpen:i}=ke(n),{layers:s}=ke(rt()),a=fe(()=>!bs().isOffLine.value),o=fe(()=>i.value||bs().isOffLine.value);function l(){n.setMyLayersTabOpen(!0)}function u(){n.setMyLayersTabOpen(!1)}return(f,c)=>(P(),F("div",s4,[$(" Panel title and close button "),L("div",a4,[L("h1",null,oe(S(e)("layers",{ns:"client"})),1),L("span",null,[L("button",{onClick:c[0]||(c[0]=()=>S(r)(!1)),"aria-label":S(e)("Close",{ns:"client"}),class:"fa-sharp fa-solid fa-close"},null,8,o4)])]),$(" My Layers and Catalog tab labels "),L("div",l4,[L("button",{onClick:l,class:Pe(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",o.value?"bg-primary":"bg-tertiary"]),"aria-expanded":o.value},[Va(oe(S(e)("my_layers",{ns:"client"}))+" ",1),S(s).length?(P(),F("span",c4,"("+oe(S(s).length)+")",1)):$("v-if",!0)],10,u4),a.value?(P(),F("button",{key:0,onClick:u,class:Pe(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",o.value?"bg-tertiary":"bg-primary"]),"aria-expanded":!o.value},oe(S(e)("Catalog",{ns:"client"})),11,f4)):$("v-if",!0)]),$(" Panel content (MyLayers and Catalog) "),L("div",h4,[o.value?(P(),je(i4,{key:0,onDisplayCatalog:u})):$("v-if",!0),o.value?$("v-if",!0):(P(),je(GR,{key:1}))])]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/layer-panel/layer-panel.vue"]]);class d4{bootstrap(){let e;e=yn(()=>{this.restore(),this.persist(),e&&e()})}persist(){const e=pc();He([()=>e.sliderActive,()=>e.sliderRatio],([n,r],[i])=>{n!==i&&Le.setValue(Lh,n),Le.setValue(Ch,r)})}restore(){const e=Le.getValue(Lh,Th),n=Le.getValue(Ch,la),{toggleSlider:r,setRatio:i}=pc();typeof e<"u"&&e!==null&&(r(e),typeof n!==void 0&&n!==null&&i(n!=null?n:sb))}}const p4=new d4,m4=["onKeydown"],g4=L("span",{class:"lux-slider-line"},null,-1),y4=L("span",{class:"lux-slider-arrows"},[L("span"),L("span")],-1),v4={key:0,class:"lux-slider-layer-label"},_4=L("i",{class:"fa fa-arrow-left mr-2"},null,-1),fb=30,b4=me(pe({__name:"splitter-element",props:{sliderActive:{type:Boolean,required:!0},sliderRatio:{type:Number,required:!0},sliderTopLayer:{type:Object,required:!0},sliderOffset:{type:Number,required:!0},containerOffset:{type:Number,required:!0}},emits:["moveSplitBar","escSplitBar"],setup(t,{expose:e,emit:n}){const r=t,i=n,{t:s}=Ke(),a=ve(null),o=fe(()=>({left:`${r.sliderOffset}px`}));let l=!1;e({sliderElement:a});function u(g){i("moveSplitBar",g+a.value.offsetWidth/2)}function f(){l=!0,document.addEventListener("mousemove",c),document.addEventListener("mouseup",h)}function c(g){!l||u(g.clientX)}function h(){l=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}function d(){const g=r.containerOffset+a.value.offsetLeft;u(g+fb)}function p(){const g=r.containerOffset+a.value.offsetLeft;u(g-fb)}function m(){i("escSplitBar")}return gn(()=>{var g;(g=a.value)==null||g.focus({focusVisible:!0})}),hi(()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}),(g,y)=>(P(),F("button",{ref_key:"sliderElement",ref:a,onMousedown:f,onMousemove:c,onMouseup:h,onKeydown:[cr(ur(d,["stop"]),["space"]),cr(ur(d,["stop"]),["right"]),cr(ur(p,["stop"]),["left"]),cr(ur(p,["stop"]),["delete"]),cr(ur(m,["stop"]),["esc"])],class:"left-[20px] absolute h-full w-[32px] block",style:si(o.value),role:"seperator","aria-controls":"map-container"},[g4,y4,g.sliderTopLayer?(P(),F("span",v4,[_4,L("span",null,oe(S(s)(g.sliderTopLayer.name)),1)])):$("v-if",!0)],44,m4))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/slider/splitter-element.vue"]]),hb=me(pe({__name:"slider-comparator",setup(t){const e=pc(),n=Dh(),r=Pn().olMap,i=ve(null),{sliderActive:s,sliderRatio:a,sliderTopLayer:o}=ke(e),l=fe(()=>{var v,E;return((E=(v=i.value)==null?void 0:v.sliderElement)==null?void 0:E.offsetWidth)||0}),u=function(){var E,b,x;let v=(x=(b=(E=r.value)==null?void 0:E.getViewport())==null?void 0:b.parentElement)==null?void 0:x.offsetLeft;return(v===void 0||v===0)&&(v=d==null?void 0:d.offsetLeft),v!==void 0?v:0},f=fe(()=>{var v,E;return r.value&&i.value?a.value*r.value.getSize()[0]-((E=(v=i.value)==null?void 0:v.sliderElement)==null?void 0:E.offsetWidth)/2:0});let c,h,d;p4.bootstrap(),He([o,s],([v,E],[b])=>{var x;v&&E?(v!==b&&m(),p()):m(),(x=r.value)==null||x.render()}),He(f,()=>{var v;(v=r.value)==null||v.render()});function p(){const v=n.getLayerFromCache(o.value);!v||(c=v.on(Rd.default.PRERENDER,function(E){var D;const b=E.context,x=(D=r.value)==null?void 0:D.getSize(),T=f.value+l.value/2,M=Xo.getRenderPixel(E,[0,0]),G=Xo.getRenderPixel(E,[T,0]),I=Xo.getRenderPixel(E,[0,x[1]]),C=Xo.getRenderPixel(E,[T,x[1]]);b.save(),b.beginPath(),b.moveTo(M[0],M[1]),b.lineTo(I[0],I[1]),b.lineTo(C[0],C[1]),b.lineTo(G[0],G[1]),b.closePath(),b.clip()}),h=v.on(Rd.default.POSTRENDER,function(E){E.context.restore()}))}function m(){g1.unByKey([c,h])}function g(v){var x;const E=(x=r.value)==null?void 0:x.getSize(),b=(v-u())/E[0];e.setRatio(b)}function y(){e.toggleSlider()}return gn(()=>{var v,E;d=(E=(v=r.value)==null?void 0:v.getTargetElement())==null?void 0:E.closest(".map-wrapper")}),hi(()=>{m()}),(v,E)=>S(o)&&S(s)?(P(),je(b4,{key:0,ref_key:"splitterElement",ref:i,sliderActive:S(s),sliderRatio:S(a),sliderTopLayer:S(o),sliderOffset:f.value,containerOffset:u(),onMoveSplitBar:g,onEscSplitBar:y},null,8,["sliderActive","sliderRatio","sliderTopLayer","sliderOffset","containerOffset"])):$("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/slider/slider-comparator.vue"]]),mc="-",Sd=",",db="--";class E4{constructor(){nt(this,"layersOpacitiesToNumbersV2",e=>this.layersOpacitiesToNumbers(e,Sd))}layerTimesToStrings(e){return e?e.split(db):[]}layerIdsToLayers(e){const n=Wr(),r=_n();return(e?e.split(mc):[]).map(s=>{const a=Po.isRemoteLayer(s)?ND(s):n.findById(parseInt(s,10));return a?r.initLayer(a):void 0})}layerNamesToLayersV2(e){const n=Wr(),r=_n();return(e?e.split(Sd):[]).map(s=>{const a=n.findByName(s);return a?r.initLayer(a):void 0})}layersOpacitiesToNumbers(e,n=mc){return jA(e,n)}layersVisibilitiesToBooleansV2(e){return GA(e,Sd)}layersToLayerIds(e){return(e==null?void 0:e.map(n=>n.id).join(mc))||""}layersToLayerOpacities(e){return(e==null?void 0:e.map(n=>{var r;return(r=n.opacity)!=null?r:1}).join(mc))||""}layersToLayerTimes(e){return(e==null?void 0:e.map(n=>{var r;return(r=_n().getLayerCurrentTime(n))!=null?r:""}).join(db))||""}bgLayerNameToBgLayer(e){const n=Wr();return e?n.findBgLayerByName(e):null}bgLayerToBgLayerName(e){return(e==null?void 0:e.name)||Uu.name}}const wn=new E4,S4="basemap_2015_global",w4="orthogr_2013_global",O4={webbasemap:"basemap_2015_global","pixelmaps-color":"topogr_global","pixelmaps-gray":"topo_bw_jpeg",streets:"streets_jpeg",voidlayer:"blank"};class x4{bootstrap(){const e=Ht();let n;n=yn(()=>{e.bgLayers.length>0&&(this.restore(),this.persist(),n&&n())})}persist(){const e=rt(),{bgLayer:n}=ke(e);He(n,(r,i)=>{i!==r&&Le.setValue(C0,r,wn.bgLayerToBgLayerName)},{immediate:!0})}restore(){const{setMapBackground:e}=Ih(),n=this.getBgLayerFromStorage();e(n)}getBgLayerFromStorage(){const e=Le.getInitialVersion(),n=Le.getValue(C0);return n?e===2?this.getBgLayerFromStorageV2(n):wn.bgLayerNameToBgLayer(n):wn.bgLayerNameToBgLayer(S4)}getBgLayerFromStorageV2(e){const n=Le.getValue($0,la);let r="";return e?r=O4[e]:n===0&&(r=w4),wn.bgLayerNameToBgLayer(r)}}const pb=new x4;class M4{bootstrap(){const e=Ht();let n;n=yn(()=>{e.themes&&(this.restore(),this.persist(),n&&n())})}persist(){const e=rt(),{layers:n}=ke(e);He(n,(r,i)=>{i!==r&&(Le.setValue(L0,r,wn.layersToLayerIds),Le.setValue(A0,r,wn.layersToLayerOpacities),Le.setValue(P0,r,wn.layersToLayerTimes))},{immediate:!0})}restore(){const e=Le.getInitialVersion(),n=rt(),r=Le.getValue(L0,e===2?wn.layerNamesToLayersV2:wn.layerIdsToLayers);this.restoreLayersOpacities(r,e),this.restoreLayersTimes(r),e===2&&(Le.removeItem($0),Le.removeItem(XA),Le.removeItem(F0),Le.removeItem(V0)),n.addLayers(...(r==null?void 0:r.filter(i=>i))||[])}restoreLayersOpacities(e,n){const r=n===2?this.getOpacitiesFromStorageV2():this.getOpacitiesFromStorage();r.length&&(e==null||e.forEach((i,s)=>{var a;return i&&(i.opacity=(a=r[s])!=null?a:1)}))}restoreLayersTimes(e){const n=Le.getValue(P0,wn.layerTimesToStrings);n.length&&(e==null||e.forEach((r,i)=>r&&n[i]&&this.restoreLayerTime(r,n[i])))}restoreLayerTime(e,n){const r=n.split("/");e.currentTimeMinValue=r[0],e.currentTimeMaxValue=r[1]}getOpacitiesFromStorage(){return Le.getValue(A0,wn.layersOpacitiesToNumbers)}getOpacitiesFromStorageV2(){const e=Le.getValue(F0,wn.layersOpacitiesToNumbersV2),n=Le.getValue(V0,wn.layersVisibilitiesToBooleansV2);return e.map((r,i)=>n[i]?r:0)}}const mb=new M4;class T4{themeToThemeName(e){return(e==null?void 0:e.name)||""}}const N4=new T4;class L4{bootstrap(){this.restore();let e;e=yn(()=>{this.persist(),e&&e()})}persist(){const e=Ht();He(()=>e.theme,(n,r)=>{r!==n&&n&&Le.setValue(No,n,N4.themeToThemeName)},{immediate:!0})}restore(){const e=Le.getValue(No);if(e){const{setTheme:n}=Ht();n(e)}}}const gb=new L4;class C4{bootstrapLayersOpen(){this.restoreLayersOpen();let e;e=yn(()=>{this.persistLayersOpen(),e&&e()})}persistLayersOpen(){const e=bt(),{layersOpen:n}=ke(e);He(n,(r,i)=>{i!==r&&Le.setValue($u,r)},{immediate:!0})}restoreLayersOpen(){const e=Le.getValue($u)!=="false",{setLayersOpen:n}=bt();n(e)}}const yb=new C4;class A4{bootstrap(){this.restore();let e;e=yn(()=>{this.persist(),e&&e()})}persist(){}restore(){const e=Le.getValue(HA);bt().setMapId(e)}}const vb=new A4,P4=me(pe({__name:"simple-style-item",props:{styleName:{type:String,required:!0},colors:{type:Array,required:!0}},setup(t){const e=t;return(n,r)=>(P(!0),F(Ue,null,xn(e.colors,(i,s)=>(P(),F("span",{key:`${n.styleName}-${s}`,class:"grow m-px",style:si(`background-color: ${i}`)}," \xA0 ",4))),128))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/simple-style-item.vue"]]),D4={class:"text-white border-2 p-[10px] m-[10px]"},I4={class:"text-center mb-3"},k4=["title"],R4={class:"text-white"},$4=["title","onClick"],F4={class:"flex"},V4=me(pe({__name:"simple-style-selector",setup(t){const{t:e}=Ke(),n=$n(),r=Hr(),{bgStyle:i}=ke(n),s=qr().simple_styles.road,a=ve(s);He(i,l=>a.value=r.checkSelection(l||[],s),{immediate:!0});function o(l){n.setSimpleStyle(l)}return(l,u)=>(P(),F("div",D4,[$(" TODO: create clean container for simple and advanced style editors "),L("h5",I4,oe(S(e)("Select a style",{ns:"client"})),1),(P(!0),F(Ue,null,xn(a.value,f=>(P(),F("div",{key:f.unlocalized_label,title:S(e)(f.unlocalized_label,{ns:"client"}),class:Pe(`${f.selected?"border-dotted":"border-hidden"} border-2 p-px`)},[L("span",R4,oe(S(e)(f.unlocalized_label,{ns:"client"}))+" : ",1),L("button",{title:S(e)("Select style: {{styleName}}",{styleName:S(e)(f.unlocalized_label)}),onClick:c=>o(f),class:"w-full"},[L("span",F4,[te(P4,{colors:f.colors,"style-name":f.unlocalized_label},null,8,["colors","style-name"])])],8,$4)],10,k4))),128))]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/simple-style-selector.vue"]]);function j4(t){const e=G4(t);return!e||!e.medium_style_class?[]:qr().medium_default_styles[e.medium_style_class]}function G4(t){return qr().bg_layers.find(e=>e.id==(t==null?void 0:t.id))}const U4={class:"flex w-full items-center"},B4={for:"colorId",class:"w-40 m-0 font-medium"},W4={class:"grow"},q4=["value"],H4=["checked","aria-label"],z4=me(pe({__name:"medium-style-item",props:{style:{type:Object,required:!0},colorEditable:{type:Boolean,required:!0}},emits:["changeStyle"],setup(t,{emit:e}){const{t:n}=Ke(),r=t,i=e;function s(o){if(o.target){const l={...r.style,color:o.target.value};i("changeStyle",l)}}function a(o){if(o){const l={...r.style,visible:o.target.checked};i("changeStyle",l)}}return(o,l)=>(P(),F("div",U4,[L("label",B4,oe(S(n)(o.style.label)),1),L("div",W4,[o.colorEditable&&r.style.color?(P(),F("input",{key:0,id:"colorId",type:"color",class:"w-11 h-5 py-[1px] px-[2px]",value:r.style.color,onInput:s},null,40,q4)):$("v-if",!0)]),L("input",{type:"checkbox",class:"flex-none mr-3",checked:r.style.visible,onChange:a,"aria-label":S(n)("Show or hide {{ thematicName }}",{thematicName:r.style.label})},null,40,H4)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/medium-style-item.vue"]]),Y4={class:"text-white border-2 p-[10px] m-[10px]"},X4={class:"text-center mb-3"},K4=me(pe({__name:"medium-style-selector",props:{layer:{type:Object,required:!0}},setup(t){const e=["basemap_2015_global"],n=$n(),{bgStyle:r}=ke(n),{t:i}=Ke(),s=t,a=fe(()=>e.includes(s.layer.name)),o=fe(()=>r.value||j4(s.layer));function l(u,f){r.value=o.value.map((c,h)=>h===u?f:c),n.disableExpertStyle()}return(u,f)=>(P(),F("div",Y4,[L("h5",X4,oe(a.value?S(i)("Select a colour for every theme"):S(i)("Activate categories")),1),(P(!0),F(Ue,null,xn(o.value,(c,h)=>(P(),je(z4,{key:c.label,style:si(c),onChangeStyle:d=>l(h,d),colorEditable:a.value},null,8,["style","onChangeStyle","colorEditable"]))),128))]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/medium-style-selector.vue"]]);var _b={exports:{}};(function(t,e){(function(n,r){r()})(wr,function(){function n(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,f,c){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,f,c)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof wr=="object"&&wr.global===wr?wr:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,f,c){var h=a.URL||a.webkitURL,d=document.createElement("a");f=f||u.name||"download",d.download=f,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?s(d):i(d.href)?r(u,f,c):s(d,d.target="_blank")):(d.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,c){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,c),f);else if(i(u))r(u,f,c);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){s(h)})}}:function(u,f,c,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return r(u,f,c);var d=u.type==="application/octet-stream",p=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||d&&p||o)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var E=g.result;E=m?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=E:location=E,h=null},g.readAsDataURL(u)}else{var y=a.URL||a.webkitURL,v=y.createObjectURL(u);h?h.location=v:location.href=v,h=null,setTimeout(function(){y.revokeObjectURL(v)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(_b);const Z4={class:"text-white border-2 p-[10px] m-[10px] flex flex-col"},J4={class:"text-center mb-3"},Q4={class:"flex flex-row justify-center"},e6={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium text-white"},t6={class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] text-sm"},n6={class:"'block z-[5] w-full h-full cursor-pointer after:absolute after:pt-[15px] after:px-[15px] after:w-full after:text-center after:content-upload",for:"uploadMvtStyle"},r6={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium"},i6=["href"],s6=me(pe({__name:"expert-style-selector",setup(t){const e=rt(),n=$n(),r=Hr(),{appliedStyle:i}=ke(n),{t:s}=Ke();function a(){const u=i.value,f=JSON.stringify(u),c=new Blob([f],{type:"text/plain;charset=utf-8"}),h="styles.json";_b.exports.saveAs(c,h)}function o(u){const f=u.target.files;if((f==null?void 0:f.length)!==1)return;const c=f[0];new File([],"./text.txt").text().then(d=>console.log(d)),c.type==="application/json"&&(c.text().then(d=>{n.enableExpertStyle(),i.value=JSON.parse(d)}),u.target.value="")}function l(){return n.styleSerial===null?r.getDefaultMapBoxStyleUrl(r.getVectorId(e.bgLayer)):`${ca.mvtStylesGetUrl}?id=${n.styleSerial}`}return(u,f)=>(P(),F("div",Z4,[L("h5",J4,oe(S(s)("Lancer \xE9diteur externe ou importer json")),1),L("div",Q4,[L("a",{href:"#",class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] z-5 text-sm after:absolute after:left-[20px] after:top-[10px] after:z-4 after:w-[3.6em] after:text-center after:content-download",onClick:f[0]||(f[0]=c=>a())},[L("span",e6,oe(S(s)("Download style")),1)]),L("div",t6,[L("label",n6,[L("span",r6,oe(S(s)("Upload style")),1)]),L("input",{class:"invisible",type:"file",name:"uploadMvtStyle",id:"uploadMvtStyle",onChange:o},null,32)])]),L("a",{href:`https://maputnik.github.io/editor/?style=${l()}`,target:"_blank",class:"lux-btn text-center"},oe(S(s)("Open Maputnik editor")),9,i6)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/expert-style-selector.vue"]]),a6={key:0},o6={key:0,class:"mb-px"},l6={key:1,class:"mb-px"},u6={key:2,class:"mb-px"},bb=me(pe({__name:"style-selector",setup(t){const{t:e}=Ke(),n=rt(),r=bt(),i=$n(),{bgStyle:s,isExpertStyleActive:a}=ke(i),{bgLayer:o}=ke(n),l=Hr(),u=fe(()=>l.getStyleCapabilitiesFromLayer(o.value));He(o,h=>{l.isLayerStyleEditable(h)||r.closeStyleEditorPanel()});let f=ve(void 0);function c(){i.setStyle(null)}return(h,d)=>u.value.isEditable?(P(),F("div",a6,[u.value.hasSimpleStyle?(P(),F("div",o6,[te(Bu,{title:S(e)("Simple"),expanded:S(f)==="simpleStyle",onTogglePanel:d[0]||(d[0]=()=>Xe(f)?f.value=S(f)==="simpleStyle"?void 0:"simpleStyle":f=S(f)==="simpleStyle"?void 0:"simpleStyle")},{default:fi(()=>[te(V4)]),_:1},8,["title","expanded"])])):$("v-if",!0),u.value.hasAdvancedStyle?(P(),F("div",l6,[te(Bu,{title:S(e)("Medium"),expanded:S(f)==="mediumStyle",onTogglePanel:d[1]||(d[1]=()=>Xe(f)?f.value=S(f)==="mediumStyle"?void 0:"mediumStyle":f=S(f)==="mediumStyle"?void 0:"mediumStyle")},{default:fi(()=>[S(o)?(P(),je(K4,{key:0,layer:S(o)},null,8,["layer"])):$("v-if",!0)]),_:1},8,["title","expanded"])])):$("v-if",!0),u.value.hasExpertStyle?(P(),F("div",u6,[te(Bu,{title:S(e)("Expert (style.json)"),expanded:S(f)==="advancedStyle",onTogglePanel:d[2]||(d[2]=()=>Xe(f)?f.value=S(f)==="advancedStyle"?void 0:"advancedStyle":f=S(f)==="advancedStyle"?void 0:"advancedStyle")},{default:fi(()=>[S(o)?(P(),je(s6,{key:0,layer:S(o)},null,8,["layer"])):$("v-if",!0)]),_:1},8,["title","expanded"])])):$("v-if",!0),S(s)||S(a)?(P(),F("button",{key:3,onClick:c,class:"lux-btn my-2"},oe(S(e)("Reset style",{ns:"client"})),1)):$("v-if",!0)])):$("v-if",!0)}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/components/style-selector/style-selector.vue"]]);function wd(t){return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function Eb(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":wd(XMLHttpRequest))==="object"}function c6(t){return!!t&&typeof t.then=="function"}function f6(t){return c6(t)?t:Promise.resolve(t)}function h6(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gc={exports:{}},yc={exports:{}},Sb;function d6(){return Sb||(Sb=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof wr<"u"&&wr,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(a){var o=typeof s<"u"&&s||typeof self<"u"&&self||typeof o<"u"&&o,l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(N){return N&&DataView.prototype.isPrototypeOf(N)}if(l.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(N){return N&&f.indexOf(Object.prototype.toString.call(N))>-1};function h(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function d(N){return typeof N!="string"&&(N=String(N)),N}function p(N){var R={next:function(){var z=N.shift();return{done:z===void 0,value:z}}};return l.iterable&&(R[Symbol.iterator]=function(){return R}),R}function m(N){this.map={},N instanceof m?N.forEach(function(R,z){this.append(z,R)},this):Array.isArray(N)?N.forEach(function(R){this.append(R[0],R[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(R){this.append(R,N[R])},this)}m.prototype.append=function(N,R){N=h(N),R=d(R);var z=this.map[N];this.map[N]=z?z+", "+R:R},m.prototype.delete=function(N){delete this.map[h(N)]},m.prototype.get=function(N){return N=h(N),this.has(N)?this.map[N]:null},m.prototype.has=function(N){return this.map.hasOwnProperty(h(N))},m.prototype.set=function(N,R){this.map[h(N)]=d(R)},m.prototype.forEach=function(N,R){for(var z in this.map)this.map.hasOwnProperty(z)&&N.call(R,this.map[z],z,this)},m.prototype.keys=function(){var N=[];return this.forEach(function(R,z){N.push(z)}),p(N)},m.prototype.values=function(){var N=[];return this.forEach(function(R){N.push(R)}),p(N)},m.prototype.entries=function(){var N=[];return this.forEach(function(R,z){N.push([z,R])}),p(N)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function g(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function y(N){return new Promise(function(R,z){N.onload=function(){R(N.result)},N.onerror=function(){z(N.error)}})}function v(N){var R=new FileReader,z=y(R);return R.readAsArrayBuffer(N),z}function E(N){var R=new FileReader,z=y(R);return R.readAsText(N),z}function b(N){for(var R=new Uint8Array(N),z=new Array(R.length),Z=0;Z<R.length;Z++)z[Z]=String.fromCharCode(R[Z]);return z.join("")}function x(N){if(N.slice)return N.slice(0);var R=new Uint8Array(N.byteLength);return R.set(new Uint8Array(N)),R.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(N){this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:l.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:l.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():l.arrayBuffer&&l.blob&&u(N)?(this._bodyArrayBuffer=x(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||c(N))?this._bodyArrayBuffer=x(N):this._bodyText=N=Object.prototype.toString.call(N):this._bodyText="",this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var N=g(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var N=g(this);return N||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var N=g(this);if(N)return N;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function G(N){var R=N.toUpperCase();return M.indexOf(R)>-1?R:N}function I(N,R){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');R=R||{};var z=R.body;if(N instanceof I){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,R.headers||(this.headers=new m(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!z&&N._bodyInit!=null&&(z=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=R.credentials||this.credentials||"same-origin",(R.headers||!this.headers)&&(this.headers=new m(R.headers)),this.method=G(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.signal=R.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(z),(this.method==="GET"||this.method==="HEAD")&&(R.cache==="no-store"||R.cache==="no-cache")){var Z=/([?&])_=[^&]*/;if(Z.test(this.url))this.url=this.url.replace(Z,"$1_="+new Date().getTime());else{var Ae=/\?/;this.url+=(Ae.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function C(N){var R=new FormData;return N.trim().split("&").forEach(function(z){if(z){var Z=z.split("="),Ae=Z.shift().replace(/\+/g," "),De=Z.join("=").replace(/\+/g," ");R.append(decodeURIComponent(Ae),decodeURIComponent(De))}}),R}function D(N){var R=new m,z=N.replace(/\r?\n[\t ]+/g," ");return z.split("\r").map(function(Z){return Z.indexOf(`
`)===0?Z.substr(1,Z.length):Z}).forEach(function(Z){var Ae=Z.split(":"),De=Ae.shift().trim();if(De){var Et=Ae.join(":").trim();R.append(De,Et)}}),R}T.call(I.prototype);function A(N,R){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');R||(R={}),this.type="default",this.status=R.status===void 0?200:R.status,this.ok=this.status>=200&&this.status<300,this.statusText=R.statusText===void 0?"":""+R.statusText,this.headers=new m(R.headers),this.url=R.url||"",this._initBody(N)}T.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},A.error=function(){var N=new A(null,{status:0,statusText:""});return N.type="error",N};var Q=[301,302,303,307,308];A.redirect=function(N,R){if(Q.indexOf(R)===-1)throw new RangeError("Invalid status code");return new A(null,{status:R,headers:{location:N}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(R,z){this.message=R,this.name=z;var Z=Error(R);this.stack=Z.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function he(N,R){return new Promise(function(z,Z){var Ae=new I(N,R);if(Ae.signal&&Ae.signal.aborted)return Z(new a.DOMException("Aborted","AbortError"));var De=new XMLHttpRequest;function Et(){De.abort()}De.onload=function(){var Ne={status:De.status,statusText:De.statusText,headers:D(De.getAllResponseHeaders()||"")};Ne.url="responseURL"in De?De.responseURL:Ne.headers.get("X-Request-URL");var $t="response"in De?De.response:De.responseText;setTimeout(function(){z(new A($t,Ne))},0)},De.onerror=function(){setTimeout(function(){Z(new TypeError("Network request failed"))},0)},De.ontimeout=function(){setTimeout(function(){Z(new TypeError("Network request failed"))},0)},De.onabort=function(){setTimeout(function(){Z(new a.DOMException("Aborted","AbortError"))},0)};function Xt(Ne){try{return Ne===""&&o.location.href?o.location.href:Ne}catch{return Ne}}De.open(Ae.method,Xt(Ae.url),!0),Ae.credentials==="include"?De.withCredentials=!0:Ae.credentials==="omit"&&(De.withCredentials=!1),"responseType"in De&&(l.blob?De.responseType="blob":l.arrayBuffer&&Ae.headers.get("Content-Type")&&Ae.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(De.responseType="arraybuffer")),R&&typeof R.headers=="object"&&!(R.headers instanceof m)?Object.getOwnPropertyNames(R.headers).forEach(function(Ne){De.setRequestHeader(Ne,d(R.headers[Ne]))}):Ae.headers.forEach(function(Ne,$t){De.setRequestHeader($t,Ne)}),Ae.signal&&(Ae.signal.addEventListener("abort",Et),De.onreadystatechange=function(){De.readyState===4&&Ae.signal.removeEventListener("abort",Et)}),De.send(typeof Ae._bodyInit>"u"?null:Ae._bodyInit)})}return he.polyfill=!0,o.fetch||(o.fetch=he,o.Headers=m,o.Request=I,o.Response=A),a.Headers=m,a.Request=I,a.Response=A,a.fetch=he,a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(yc,yc.exports)),yc.exports}(function(t,e){var n;if(typeof fetch=="function"&&(typeof wr<"u"&&wr.fetch?n=wr.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof h6<"u"&&typeof window>"u"){var r=n||d6();r.default&&(r=r.default),e.default=r,t.exports=e.default}})(gc,gc.exports);const wb=gc.exports,Ob=b1({__proto__:null,default:wb},[gc.exports]);function xb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xb(Object(n),!0).forEach(function(r){p6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p6(t,e,n){return e=m6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m6(t){var e=g6(t,"string");return Ts(e)=="symbol"?e:e+""}function g6(t,e){if(Ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ts(t){return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}var Jr;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Jr=global.fetch:typeof window<"u"&&window.fetch?Jr=window.fetch:Jr=fetch);var Ho;Eb()&&(typeof global<"u"&&global.XMLHttpRequest?Ho=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Ho=window.XMLHttpRequest));var vc;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?vc=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(vc=window.ActiveXObject)),!Jr&&Ob&&!Ho&&!vc&&(Jr=wb||Ob),typeof Jr!="function"&&(Jr=void 0);var Od=function(e,n){if(n&&Ts(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},Tb=function(e,n,r,i){var s=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(u){r(null,{status:l.status,data:u})}).catch(r)};if(i){var a=i(e,n);if(a instanceof Promise){a.then(s).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(s).catch(r):Jr(e,n).then(s).catch(r)},Nb=!1,y6=function(e,n,r,i){e.queryStringParams&&(n=Od(n,e.queryStringParams));var s=Mb({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(s["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,o=Mb({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:s},Nb?{}:a),l=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{Tb(n,o,i,l)}catch(u){if(!a||Object.keys(a).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(a).forEach(function(f){delete o[f]}),Tb(n,o,i,l),Nb=!0}catch(f){i(f)}}},v6=function(e,n,r,i){r&&Ts(r)==="object"&&(r=Od("",r).slice(1)),e.queryStringParams&&(n=Od(n,e.queryStringParams));try{var s;Ho?s=new Ho:s=new vc("MSXML2.XMLHTTP.3.0"),s.open(r?"POST":"GET",n,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var o in a)s.setRequestHeader(o,a[o]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(l){console&&console.log(l)}},_6=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Jr&&n.indexOf("file:")!==0)return y6(e,n,r,i);if(Eb()||typeof ActiveXObject=="function")return v6(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function va(t){return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(t)}function Lb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(n),!0).forEach(function(r){Ab(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pb(r.key),r)}}function E6(t,e,n){return e&&Cb(t.prototype,e),n&&Cb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ab(t,e,n){return e=Pb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pb(t){var e=S6(t,"string");return va(e)=="symbol"?e:e+""}function S6(t,e){if(va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w6=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return Ab({},r,i||"")},parseLoadPayload:function(n,r){},request:_6,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Md=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};b6(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return E6(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=xd(xd(xd({},w6()),this.options||{}),i),this.allOptions=s,this.services&&this.options.reloadInterval){var a=setInterval(function(){return r.reload()},this.options.reloadInterval);va(a)==="object"&&typeof a.unref=="function"&&a.unref()}}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,a){var o=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=f6(l),l.then(function(u){if(!u)return a(null,{});var f=o.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});o.loadUrl(f,a,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var a=this,o=typeof i=="string"?[i]:i,l=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(o,l);this.options.request(this.options,n,u,function(f,c){if(c&&(c.status>=500&&c.status<600||!c.status))return r("failed loading "+n+"; status code: "+c.status,!0);if(c&&c.status>=400&&c.status<500)return r("failed loading "+n+"; status code: "+c.status,!1);if(!c&&f&&f.message&&f.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+f.message,!0);if(f)return r(f,!1);var h,d;try{typeof c.data=="string"?h=a.options.parse(c.data,i,s):h=c.data}catch{d="failed parsing "+n+" to json"}if(d)return r(d,!1);r(null,h)})}},{key:"create",value:function(n,r,i,s,a){var o=this;if(!!this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,s),u=0,f=[],c=[];n.forEach(function(h){var d=o.options.addPath;typeof o.options.addPath=="function"&&(d=o.options.addPath(h,r));var p=o.services.interpolator.interpolate(d,{lng:h,ns:r});o.options.request(o.options,p,l,function(m,g){u+=1,f.push(m),c.push(g),u===n.length&&typeof a=="function"&&a(f,c)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,a=r.logger,o=i.language;if(!(o&&o.toLowerCase()==="cimode")){var l=[],u=function(c){var h=s.toResolveHierarchy(c);h.forEach(function(d){l.indexOf(d)<0&&l.push(d)})};u(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return u(f)}),l.forEach(function(f){n.allOptions.ns.forEach(function(c){i.read(f,c,"read",null,null,function(h,d){h&&a.warn("loading namespace ".concat(c," for language ").concat(f," failed"),h),!h&&d&&a.log("loaded namespace ".concat(c," for language ").concat(f),d),i.loaded("".concat(f,"|").concat(c),h,d)})})})}}}])}();Md.type="backend";function Db(t,e,n){n(t,e)&&t instanceof k1.default&&t.getLayers().forEach(i=>{Db(i,[...e,t],n)})}const O6={class:"h-screen flex flex-col overflow-hidden"},x6={class:"flex grow"},M6={key:0,class:"w-full sm:w-80 bg-secondary z-10"},T6={key:1,class:"w-80 bg-primary"},N6={class:"map-wrapper grow bg-blue-100 relative"},L6={class:"absolute right-1 top-16"},Ib=me(pe({__name:"App",setup(t){const e=bt(),n=Hr();vb.bootstrap(),mb.bootstrap(),gb.bootstrap(),yb.bootstrapLayersOpen(),Ah.bootstrapStyle(),pb.bootstrap(),n.initBackgroundsConfigs();const{layersOpen:r,styleEditorOpen:i}=ke(e);He(r,()=>setTimeout(()=>{s()},50)),gn(()=>window.addEventListener("resize",s)),hi(()=>window.removeEventListener("resize",s));function s(){const a=Pn().getOlMap();a.updateSize(),Db(a.getLayerGroup(),[],o=>(o instanceof Ph&&o.getMapLibreMap().resize(),!0))}return(a,o)=>(P(),F("div",O6,[te(O_),L("main",x6,[$(" Layer panel "),S(r)?(P(),F("div",M6,[te(cb)])):$("v-if",!0),$(" Style editor "),S(i)?(P(),F("div",T6,[te(bb)])):$("v-if",!0),$(" Map container and slider comparator "),L("div",N6,[te(Q0,{v4_standalone:!0}),te(hb,{class:"absolute top-0"}),te(__),te(S_)]),$(" Background selector "),L("div",L6,[te(t_)])]),te(k_,{class:"fixed bottom-5 sm:static z-20"}),te(_y)]))}}),[["__file","/home/abernachot/Dev/Lux/luxembourg-geoportail/src/App.vue"]]);R2(),at.use(Md),at.init({lng:"fr",debug:!1,defaultNS:"client",supportedLngs:["de","en","fr","lb"],ns:["client","legends","server","tooltips"],fallbackLng:"fr",backend:{loadPath:"/static-ngeo/web-components/assets/locales/{{ns}}.{{lng}}.json"},nsSeparator:"|"});const _c=Ww(Ib);_c.use(xg()),_c.use(zy,{i18next:at}),_c.use(fg);const C6=(t={},e=null)=>vy({setup:()=>{const n=ja();Object.assign(n.appContext,e._context),Object.assign(n.provides,e._context.provides)},render:()=>Im(t)},{shadowRoot:!1});K.AlertNotifications=_y,K.App=Ib,K.BackgroundSelector=t_,K.DropdownList=Kf,K.FooterBar=k_,K.HeaderBar=O_,K.I18NextVue=zy,K.LayerMetadata=S_,K.LayerPanel=cb,K.MapContainer=Q0,K.MapLibreLayer=Ph,K.RemoteLayers=__,K.SliderComparator=hb,K.StyleSelector=bb,K.ToolbarDraw=I_,K.VueDOMPurifyHTML=fg,K.app=_c,K.backend=Md,K.clearLayersCache=Sy,K.createElementInstance=C6,K.createPinia=xg,K.defineCustomElement=vy,K.i18next=at,K.proxyUrlHelper=_s,K.statePersistorBgLayerService=pb,K.statePersistorLayersOpenService=yb,K.statePersistorLayersService=mb,K.statePersistorMyMapService=vb,K.statePersistorStyleService=Ah,K.statePersistorThemeService=gb,K.storeToRefs=ke,K.styleUrlHelper=ca,K.themeSelectorService=w_,K.useAppStore=bt,K.useBackgroundLayer=Ih,K.useLayers=_n,K.useMap=Pn,K.useMapStore=rt,K.useMvtStyles=Hr,K.useOffline=bs,K.useOfflineLayers=X0,K.useOpenLayers=Dh,K.useStyleStore=$n,K.useThemeStore=Ht,K.useThemes=Wr,K.watch=He,Object.defineProperties(K,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
