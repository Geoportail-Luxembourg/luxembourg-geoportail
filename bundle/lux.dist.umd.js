(function(ee,Et){typeof exports=="object"&&typeof module<"u"?Et(exports,require("ol/proj"),require("ol/proj/proj4"),require("ol/Map"),require("ol/View"),require("ol/layer/Image"),require("ol/source/ImageWMS"),require("ol/layer/Tile"),require("ol/source/WMTS"),require("ol/tilegrid/WMTS"),require("ol/extent"),require("ol/layer/Layer"),require("ol/math"),require("ol/proj.js"),require("mapbox-gl"),require("ol/events"),require("ol/ObjectEventType"),require("ol/css"),require("ol/control/Control"),require("ol/control/FullScreen"),require("ol/control/Zoom"),require("ol/control/ZoomToExtent"),require("ol/format/WMTSCapabilities.js"),require("ol/render"),require("ol/Observable"),require("ol/render/EventType"),require("ol/layer/Group.js")):typeof define=="function"&&define.amd?define(["exports","ol/proj","ol/proj/proj4","ol/Map","ol/View","ol/layer/Image","ol/source/ImageWMS","ol/layer/Tile","ol/source/WMTS","ol/tilegrid/WMTS","ol/extent","ol/layer/Layer","ol/math","ol/proj.js","mapbox-gl","ol/events","ol/ObjectEventType","ol/css","ol/control/Control","ol/control/FullScreen","ol/control/Zoom","ol/control/ZoomToExtent","ol/format/WMTSCapabilities.js","ol/render","ol/Observable","ol/render/EventType","ol/layer/Group.js"],Et):(ee=typeof globalThis<"u"?globalThis:ee||self,Et(ee["luxembourg-geoportail"]={},ee.proj,ee.proj4$1,ee.OlMap,ee.OlView,ee.ImageLayer,ee.ImageWMS,ee.TileLayer,ee.WmtsSource,ee.WmtsTileGrid,ee.extent,ee.Layer,ee.math,ee.proj_js,ee.mapboxgl,ee.olEvents,ee.ObjectEventType,ee.css$1,ee.Control,ee.FullScreen,ee.Zoom,ee.OlControlZoomToExtent,ee.WMTSCapabilities,ee.render$1,ee.Observable,ee.EventType,ee.olLayerGroup))})(this,function(ee,Et,Fi,ob,lb,ub,cb,fb,hb,db,mb,pb,gb,yb,vb,_b,bb,Fo,Eb,Sb,wb,xb,Ob,Vo,Mb,Tb,Nb){"use strict";var XR=Object.defineProperty;var KR=(ee,Et,Fi)=>Et in ee?XR(ee,Et,{enumerable:!0,configurable:!0,writable:!0,value:Fi}):ee[Et]=Fi;var ut=(ee,Et,Fi)=>(KR(ee,typeof Et!="symbol"?Et+"":Et,Fi),Fi);const Pt=t=>t&&typeof t=="object"&&"default"in t?t:{default:t};function Cb(t){if(t&&t.__esModule)return t;const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}function Lb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const Pb=Pt(ob),kb=Pt(lb),Ab=Pt(ub),md=Pt(cb),Db=Pt(fb),pd=Pt(hb),Ib=Pt(db),Rb=Pt(pb),gd=Pt(vb),yd=Cb(_b),$b=Pt(bb),vd=Pt(Eb),Fb=Pt(Sb),Vb=Pt(wb),jb=Pt(xb),Gb=Pt(Ob),_d=Pt(Tb),Ub=Pt(Nb);/**
* @vue/shared v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Lr(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Ke=process.env.NODE_ENV!=="production"?Object.freeze({}):{},xs=process.env.NODE_ENV!=="production"?Object.freeze([]):[],pt=()=>{},Bb=()=>!1,da=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),jo=t=>t.startsWith("onUpdate:"),Qe=Object.assign,uc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Wb=Object.prototype.hasOwnProperty,De=(t,e)=>Wb.call(t,e),ue=Array.isArray,Vi=t=>Go(t)==="[object Map]",bd=t=>Go(t)==="[object Set]",pe=t=>typeof t=="function",rt=t=>typeof t=="string",ji=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",cc=t=>(Ve(t)||pe(t))&&pe(t.then)&&pe(t.catch),Ed=Object.prototype.toString,Go=t=>Ed.call(t),fc=t=>Go(t).slice(8,-1),Sd=t=>Go(t)==="[object Object]",hc=t=>rt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ma=Lr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qb=Lr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Uo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Hb=/-(\w)/g,mn=Uo(t=>t.replace(Hb,(e,n)=>n?n.toUpperCase():"")),zb=/\B([A-Z])/g,sn=Uo(t=>t.replace(zb,"-$1").toLowerCase()),Gi=Uo(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ui=Uo(t=>t?`on${Gi(t)}`:""),ei=(t,e)=>!Object.is(t,e),pa=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},wd=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Yb=t=>{const e=parseFloat(t);return isNaN(e)?t:e},dc=t=>{const e=rt(t)?Number(t):NaN;return isNaN(e)?t:e};let xd;const Bo=()=>xd||(xd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ti(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=rt(r)?Jb(r):ti(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(rt(t)||Ve(t))return t}const Xb=/;(?![^(]*\))/g,Kb=/:([^]+)/,Zb=/\/\*[^]*?\*\//g;function Jb(t){const e={};return t.replace(Zb,"").split(Xb).forEach(n=>{if(n){const r=n.split(Kb);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ae(t){let e="";if(rt(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const r=Ae(t[n]);r&&(e+=r+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Qb="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",e1="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",t1="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",n1=Lr(Qb),r1=Lr(e1),i1=Lr(t1),s1=Lr("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Od(t){return!!t||t===""}const oe=t=>rt(t)?t:t==null?"":ue(t)||Ve(t)&&(t.toString===Ed||!pe(t.toString))?JSON.stringify(t,Md,2):String(t),Md=(t,e)=>e&&e.__v_isRef?Md(t,e.value):Vi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[mc(r,s)+" =>"]=i,n),{})}:bd(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>mc(n))}:ji(e)?mc(e):Ve(e)&&!ue(e)&&!Sd(e)?String(e):e,mc=(t,e="")=>{var n;return ji(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nr(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let pn;class Td{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=pn,!e&&pn&&(this.index=(pn.scopes||(pn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=pn;try{return pn=this,e()}finally{pn=n}}else process.env.NODE_ENV!=="production"&&nr("cannot run an inactive effect scope.")}on(){pn=this}off(){pn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Nd(t){return new Td(t)}function a1(t,e=pn){e&&e.active&&e.effects.push(t)}function Cd(){return pn}function o1(t){pn?pn.cleanups.push(t):process.env.NODE_ENV!=="production"&&nr("onScopeDispose() is called when there is no active effect scope to be associated with.")}let Bi;class pc{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,a1(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Pr();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(l1(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),kr()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ni,n=Bi;try{return ni=!0,Bi=this,this._runnings++,Ld(this),this.fn()}finally{Pd(this),this._runnings--,Bi=n,ni=e}}stop(){var e;this.active&&(Ld(this),Pd(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function l1(t){return t.value}function Ld(t){t._trackId++,t._depsLength=0}function Pd(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)kd(t.deps[e],t);t.deps.length=t._depsLength}}function kd(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let ni=!0,gc=0;const Ad=[];function Pr(){Ad.push(ni),ni=!1}function kr(){const t=Ad.pop();ni=t===void 0?!0:t}function yc(){gc++}function vc(){for(gc--;!gc&&_c.length;)_c.shift()()}function Dd(t,e,n){var r;if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&kd(i,t),t.deps[t._depsLength++]=e):t._depsLength++,process.env.NODE_ENV!=="production"&&((r=t.onTrack)==null||r.call(t,Qe({effect:t},n)))}}const _c=[];function Id(t,e,n){var r;yc();for(const i of t.keys()){let s;i._dirtyLevel<e&&(s!=null?s:s=t.get(i)===i._trackId)&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s!=null?s:s=t.get(i)===i._trackId)&&(process.env.NODE_ENV!=="production"&&((r=i.onTrigger)==null||r.call(i,Qe({effect:i},n))),i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&_c.push(i.scheduler)))}vc()}const Rd=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Wo=new WeakMap,Wi=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),bc=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");function kt(t,e,n){if(ni&&Bi){let r=Wo.get(t);r||Wo.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Rd(()=>r.delete(n))),Dd(Bi,i,process.env.NODE_ENV!=="production"?{target:t,type:e,key:n}:void 0)}}function rr(t,e,n,r,i,s){const a=Wo.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&ue(t)){const l=Number(r);a.forEach((u,f)=>{(f==="length"||!ji(f)&&f>=l)&&o.push(u)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":ue(t)?hc(n)&&o.push(a.get("length")):(o.push(a.get(Wi)),Vi(t)&&o.push(a.get(bc)));break;case"delete":ue(t)||(o.push(a.get(Wi)),Vi(t)&&o.push(a.get(bc)));break;case"set":Vi(t)&&o.push(a.get(Wi));break}yc();for(const l of o)l&&Id(l,4,process.env.NODE_ENV!=="production"?{target:t,type:e,key:n,newValue:r,oldValue:i,oldTarget:s}:void 0);vc()}function u1(t,e){var n;return(n=Wo.get(t))==null?void 0:n.get(e)}const c1=Lr("__proto__,__v_isRef,__isVue"),$d=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ji)),Fd=f1();function f1(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=_e(this);for(let s=0,a=this.length;s<a;s++)kt(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(_e)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Pr(),yc();const r=_e(this)[e].apply(this,n);return vc(),kr(),r}}),t}function h1(t){ji(t)||(t=String(t));const e=_e(this);return kt(e,"has",t),e.hasOwnProperty(t)}class Vd{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Kd:Xd:s?Yd:zd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=ue(e);if(!i){if(a&&De(Fd,n))return Reflect.get(Fd,n,r);if(n==="hasOwnProperty")return h1}const o=Reflect.get(e,n,r);return(ji(n)?$d.has(n):c1(n))||(i||kt(e,"get",n),s)?o:Ye(o)?a&&hc(n)?o:o.value:Ve(o)?i?Zd(o):Jo(o):o}}class jd extends Vd{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=qi(s);if(!Hi(r)&&!qi(r)&&(s=_e(s),r=_e(r)),!ue(e)&&Ye(s)&&!Ye(r))return l?!1:(s.value=r,!0)}const a=ue(e)&&hc(n)?Number(n)<e.length:De(e,n),o=Reflect.set(e,n,r,i);return e===_e(i)&&(a?ei(r,s)&&rr(e,"set",n,r,s):rr(e,"add",n,r)),o}deleteProperty(e,n){const r=De(e,n),i=e[n],s=Reflect.deleteProperty(e,n);return s&&r&&rr(e,"delete",n,void 0,i),s}has(e,n){const r=Reflect.has(e,n);return(!ji(n)||!$d.has(n))&&kt(e,"has",n),r}ownKeys(e){return kt(e,"iterate",ue(e)?"length":Wi),Reflect.ownKeys(e)}}class Gd extends Vd{constructor(e=!1){super(!0,e)}set(e,n){return process.env.NODE_ENV!=="production"&&nr(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0}deleteProperty(e,n){return process.env.NODE_ENV!=="production"&&nr(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}}const d1=new jd,m1=new Gd,p1=new jd(!0),g1=new Gd(!0),Ec=t=>t,qo=t=>Reflect.getPrototypeOf(t);function Ho(t,e,n=!1,r=!1){t=t.__v_raw;const i=_e(t),s=_e(e);n||(ei(e,s)&&kt(i,"get",e),kt(i,"get",s));const{has:a}=qo(i),o=r?Ec:n?Sc:ga;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function zo(t,e=!1){const n=this.__v_raw,r=_e(n),i=_e(t);return e||(ei(t,i)&&kt(r,"has",t),kt(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Yo(t,e=!1){return t=t.__v_raw,!e&&kt(_e(t),"iterate",Wi),Reflect.get(t,"size",t)}function Ud(t){t=_e(t);const e=_e(this);return qo(e).has.call(e,t)||(e.add(t),rr(e,"add",t,t)),this}function Bd(t,e){e=_e(e);const n=_e(this),{has:r,get:i}=qo(n);let s=r.call(n,t);s?process.env.NODE_ENV!=="production"&&Hd(n,r,t):(t=_e(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?ei(e,a)&&rr(n,"set",t,e,a):rr(n,"add",t,e),this}function Wd(t){const e=_e(this),{has:n,get:r}=qo(e);let i=n.call(e,t);i?process.env.NODE_ENV!=="production"&&Hd(e,n,t):(t=_e(t),i=n.call(e,t));const s=r?r.call(e,t):void 0,a=e.delete(t);return i&&rr(e,"delete",t,void 0,s),a}function qd(){const t=_e(this),e=t.size!==0,n=process.env.NODE_ENV!=="production"?Vi(t)?new Map(t):new Set(t):void 0,r=t.clear();return e&&rr(t,"clear",void 0,void 0,n),r}function Xo(t,e){return function(r,i){const s=this,a=s.__v_raw,o=_e(a),l=e?Ec:t?Sc:ga;return!t&&kt(o,"iterate",Wi),a.forEach((u,f)=>r.call(i,l(u),l(f),s))}}function Ko(t,e,n){return function(...r){const i=this.__v_raw,s=_e(i),a=Vi(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),f=n?Ec:e?Sc:ga;return!e&&kt(s,"iterate",l?bc:Wi),{next(){const{value:c,done:h}=u.next();return h?{value:c,done:h}:{value:o?[f(c[0]),f(c[1])]:f(c),done:h}},[Symbol.iterator](){return this}}}}function ri(t){return function(...e){if(process.env.NODE_ENV!=="production"){const n=e[0]?`on key "${e[0]}" `:"";nr(`${Gi(t)} operation ${n}failed: target is readonly.`,_e(this))}return t==="delete"?!1:t==="clear"?void 0:this}}function y1(){const t={get(s){return Ho(this,s)},get size(){return Yo(this)},has:zo,add:Ud,set:Bd,delete:Wd,clear:qd,forEach:Xo(!1,!1)},e={get(s){return Ho(this,s,!1,!0)},get size(){return Yo(this)},has:zo,add:Ud,set:Bd,delete:Wd,clear:qd,forEach:Xo(!1,!0)},n={get(s){return Ho(this,s,!0)},get size(){return Yo(this,!0)},has(s){return zo.call(this,s,!0)},add:ri("add"),set:ri("set"),delete:ri("delete"),clear:ri("clear"),forEach:Xo(!0,!1)},r={get(s){return Ho(this,s,!0,!0)},get size(){return Yo(this,!0)},has(s){return zo.call(this,s,!0)},add:ri("add"),set:ri("set"),delete:ri("delete"),clear:ri("clear"),forEach:Xo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Ko(s,!1,!1),n[s]=Ko(s,!0,!1),e[s]=Ko(s,!1,!0),r[s]=Ko(s,!0,!0)}),[t,n,e,r]}const[v1,_1,b1,E1]=y1();function Zo(t,e){const n=e?t?E1:b1:t?_1:v1;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(De(n,i)&&i in r?n:r,i,s)}const S1={get:Zo(!1,!1)},w1={get:Zo(!1,!0)},x1={get:Zo(!0,!1)},O1={get:Zo(!0,!0)};function Hd(t,e,n){const r=_e(n);if(r!==n&&e.call(t,r)){const i=fc(t);nr(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const zd=new WeakMap,Yd=new WeakMap,Xd=new WeakMap,Kd=new WeakMap;function M1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function T1(t){return t.__v_skip||!Object.isExtensible(t)?0:M1(fc(t))}function Jo(t){return qi(t)?t:Qo(t,!1,d1,S1,zd)}function N1(t){return Qo(t,!1,p1,w1,Yd)}function Zd(t){return Qo(t,!0,m1,x1,Xd)}function Ar(t){return Qo(t,!0,g1,O1,Kd)}function Qo(t,e,n,r,i){if(!Ve(t))return process.env.NODE_ENV!=="production"&&nr(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=T1(t);if(a===0)return t;const o=new Proxy(t,a===2?r:n);return i.set(t,o),o}function ir(t){return qi(t)?ir(t.__v_raw):!!(t&&t.__v_isReactive)}function qi(t){return!!(t&&t.__v_isReadonly)}function Hi(t){return!!(t&&t.__v_isShallow)}function el(t){return t?!!t.__v_raw:!1}function _e(t){const e=t&&t.__v_raw;return e?_e(e):t}function ii(t){return Object.isExtensible(t)&&wd(t,"__v_skip",!0),t}const ga=t=>Ve(t)?Jo(t):t,Sc=t=>Ve(t)?Zd(t):t,C1="Computed is still dirty after getter evaluation, likely because a computed is mutating its own dependency in its getter. State mutations in computed getters should be avoided.  Check the docs for more details: https://vuejs.org/guide/essentials/computed.html#getters-should-be-side-effect-free";class Jd{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new pc(()=>e(this._value),()=>tl(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=_e(this);return(!e._cacheable||e.effect.dirty)&&ei(e._value,e._value=e.effect.run())&&tl(e,4),Qd(e),e.effect._dirtyLevel>=2&&(process.env.NODE_ENV!=="production"&&this._warnRecursive&&nr(C1,`

getter: `,this.getter),tl(e,2)),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function L1(t,e,n=!1){let r,i;const s=pe(t);s?(r=t,i=process.env.NODE_ENV!=="production"?()=>{nr("Write operation failed: computed value is readonly")}:pt):(r=t.get,i=t.set);const a=new Jd(r,i,s||!i,n);return process.env.NODE_ENV!=="production"&&e&&!n&&(a.effect.onTrack=e.onTrack,a.effect.onTrigger=e.onTrigger),a}function Qd(t){var e;ni&&Bi&&(t=_e(t),Dd(Bi,(e=t.dep)!=null?e:t.dep=Rd(()=>t.dep=void 0,t instanceof Jd?t:void 0),process.env.NODE_ENV!=="production"?{target:t,type:"get",key:"value"}:void 0))}function tl(t,e=4,n){t=_e(t);const r=t.dep;r&&Id(r,e,process.env.NODE_ENV!=="production"?{target:t,type:"set",key:"value",newValue:n}:void 0)}function Ye(t){return!!(t&&t.__v_isRef===!0)}function Se(t){return em(t,!1)}function nt(t){return em(t,!0)}function em(t,e){return Ye(t)?t:new P1(t,e)}class P1{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:_e(e),this._value=n?e:ga(e)}get value(){return Qd(this),this._value}set value(e){const n=this.__v_isShallow||Hi(e)||qi(e);e=n?e:_e(e),ei(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ga(e),tl(this,4,e))}}function x(t){return Ye(t)?t.value:t}const k1={get:(t,e,n)=>x(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ye(i)&&!Ye(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function tm(t){return ir(t)?t:new Proxy(t,k1)}function wc(t){process.env.NODE_ENV!=="production"&&!el(t)&&nr("toRefs() expects a reactive object but received a plain one.");const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=nm(t,n);return e}class A1{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return u1(_e(this._object),this._key)}}class D1{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function nl(t,e,n){return Ye(t)?t:pe(t)?new D1(t):Ve(t)&&arguments.length>1?nm(t,e,n):Se(t)}function nm(t,e,n){const r=t[e];return Ye(r)?r:new A1(t,e,n)}/**
* @vue/runtime-core v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const zi=[];function rl(t){zi.push(t)}function il(){zi.pop()}function q(t,...e){Pr();const n=zi.length?zi[zi.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=I1();if(r)Dr(r,n,11,[t+e.map(s=>{var a,o;return(o=(a=s.toString)==null?void 0:a.call(s))!=null?o:JSON.stringify(s)}).join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${wl(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${t}`,...e];i.length&&s.push(`
`,...R1(i)),console.warn(...s)}kr()}function I1(){let t=zi[zi.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function R1(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...$1(n))}),e}function $1({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${wl(t.component,t.type,r)}`,s=">"+n;return t.props?[i,...F1(t.props),s]:[i+s]}function F1(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...rm(r,t[r]))}),n.length>3&&e.push(" ..."),e}function rm(t,e,n){return rt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:Ye(e)?(e=rm(t,_e(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):pe(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=_e(e),n?e:[`${t}=`,e])}function V1(t,e){process.env.NODE_ENV!=="production"&&t!==void 0&&(typeof t!="number"?q(`${e} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&q(`${e} is NaN - the duration expression might be incorrect.`))}const xc={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Dr(t,e,n,r){try{return r?t(...r):t()}catch(i){ya(i,e,n)}}function wn(t,e,n,r){if(pe(t)){const i=Dr(t,e,n,r);return i&&cc(i)&&i.catch(s=>{ya(s,e,n)}),i}if(ue(t)){const i=[];for(let s=0;s<t.length;s++)i.push(wn(t[s],e,n,r));return i}else process.env.NODE_ENV!=="production"&&q(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof t}`)}function ya(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=process.env.NODE_ENV!=="production"?xc[n]:`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Pr(),Dr(l,null,10,[t,a,o]),kr();return}}j1(t,n,i,r)}function j1(t,e,n,r=!0){if(process.env.NODE_ENV!=="production"){const i=xc[e];if(n&&rl(n),q(`Unhandled error${i?` during execution of ${i}`:""}`),n&&il(),r)throw t;console.error(t)}else console.error(t)}let va=!1,Oc=!1;const Vt=[];let sr=0;const Os=[];let Ir=null,si=0;const im=Promise.resolve();let Mc=null;const G1=100;function sl(t){const e=Mc||im;return t?e.then(this?t.bind(this):t):e}function U1(t){let e=sr+1,n=Vt.length;for(;e<n;){const r=e+n>>>1,i=Vt[r],s=_a(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function al(t){(!Vt.length||!Vt.includes(t,va&&t.allowRecurse?sr+1:sr))&&(t.id==null?Vt.push(t):Vt.splice(U1(t.id),0,t),sm())}function sm(){!va&&!Oc&&(Oc=!0,Mc=im.then(um))}function B1(t){const e=Vt.indexOf(t);e>sr&&Vt.splice(e,1)}function am(t){ue(t)?Os.push(...t):(!Ir||!Ir.includes(t,t.allowRecurse?si+1:si))&&Os.push(t),sm()}function om(t,e,n=va?sr+1:0){for(process.env.NODE_ENV!=="production"&&(e=e||new Map);n<Vt.length;n++){const r=Vt[n];if(r&&r.pre){if(t&&r.id!==t.uid||process.env.NODE_ENV!=="production"&&Tc(e,r))continue;Vt.splice(n,1),n--,r()}}}function lm(t){if(Os.length){const e=[...new Set(Os)].sort((n,r)=>_a(n)-_a(r));if(Os.length=0,Ir){Ir.push(...e);return}for(Ir=e,process.env.NODE_ENV!=="production"&&(t=t||new Map),si=0;si<Ir.length;si++)process.env.NODE_ENV!=="production"&&Tc(t,Ir[si])||Ir[si]();Ir=null,si=0}}const _a=t=>t.id==null?1/0:t.id,W1=(t,e)=>{const n=_a(t)-_a(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function um(t){Oc=!1,va=!0,process.env.NODE_ENV!=="production"&&(t=t||new Map),Vt.sort(W1);const e=process.env.NODE_ENV!=="production"?n=>Tc(t,n):pt;try{for(sr=0;sr<Vt.length;sr++){const n=Vt[sr];if(n&&n.active!==!1){if(process.env.NODE_ENV!=="production"&&e(n))continue;Dr(n,null,14)}}}finally{sr=0,Vt.length=0,lm(t),va=!1,Mc=null,(Vt.length||Os.length)&&um(t)}}function Tc(t,e){if(!t.has(e))t.set(e,1);else{const n=t.get(e);if(n>G1){const r=e.ownerInstance,i=r&&rf(r.type);return ya(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else t.set(e,n+1)}}let ai=!1;const Ms=new Set;process.env.NODE_ENV!=="production"&&(Bo().__VUE_HMR_RUNTIME__={createRecord:Nc(cm),rerender:Nc(z1),reload:Nc(Y1)});const Yi=new Map;function q1(t){const e=t.type.__hmrId;let n=Yi.get(e);n||(cm(e,t.type),n=Yi.get(e)),n.instances.add(t)}function H1(t){Yi.get(t.type.__hmrId).instances.delete(t)}function cm(t,e){return Yi.has(t)?!1:(Yi.set(t,{initialDef:ba(e),instances:new Set}),!0)}function ba(t){return mp(t)?t.__vccOpts:t}function z1(t,e){const n=Yi.get(t);!n||(n.initialDef.render=e,[...n.instances].forEach(r=>{e&&(r.render=e,ba(r.type).render=e),r.renderCache=[],ai=!0,r.effect.dirty=!0,r.update(),ai=!1}))}function Y1(t,e){const n=Yi.get(t);if(!n)return;e=ba(e),fm(n.initialDef,e);const r=[...n.instances];for(const i of r){const s=ba(i.type);Ms.has(s)||(s!==n.initialDef&&fm(s,e),Ms.add(s)),i.appContext.propsCache.delete(i.type),i.appContext.emitsCache.delete(i.type),i.appContext.optionsCache.delete(i.type),i.ceReload?(Ms.add(s),i.ceReload(e.styles),Ms.delete(s)):i.parent?(i.parent.effect.dirty=!0,al(i.parent.update)):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}am(()=>{for(const i of r)Ms.delete(ba(i.type))})}function fm(t,e){Qe(t,e);for(const n in t)n!=="__file"&&!(n in e)&&delete t[n]}function Nc(t){return(e,n)=>{try{return t(e,n)}catch(r){console.error(r),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Vn,Ea=[],Cc=!1;function Sa(t,...e){Vn?Vn.emit(t,...e):Cc||Ea.push({event:t,args:e})}function Lc(t,e){var n,r;Vn=t,Vn?(Vn.enabled=!0,Ea.forEach(({event:i,args:s})=>Vn.emit(i,...s)),Ea=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Lc(s,e)}),setTimeout(()=>{Vn||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Cc=!0,Ea=[])},3e3)):(Cc=!0,Ea=[])}function X1(t,e){Sa("app:init",t,e,{Fragment:je,Text:Na,Comment:Tt,Static:yl})}function K1(t){Sa("app:unmount",t)}const Z1=Pc("component:added"),hm=Pc("component:updated"),J1=Pc("component:removed"),Q1=t=>{Vn&&typeof Vn.cleanupBuffer=="function"&&!Vn.cleanupBuffer(t)&&J1(t)};/*! #__NO_SIDE_EFFECTS__ */function Pc(t){return e=>{Sa(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const eE=dm("perf:start"),tE=dm("perf:end");function dm(t){return(e,n,r)=>{Sa(t,e.appContext.app,e.uid,e,n,r)}}function nE(t,e,n){Sa("component:emit",t.appContext.app,t,e,n)}function rE(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ke;if(process.env.NODE_ENV!=="production"){const{emitsOptions:f,propsOptions:[c]}=t;if(f)if(!(e in f))(!c||!(Ui(e)in c))&&q(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${Ui(e)}" prop.`);else{const h=f[e];pe(h)&&(h(...n)||q(`Invalid event arguments: event validation failed for event "${e}".`))}}let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:c,trim:h}=r[f]||Ke;h&&(i=n.map(d=>rt(d)?d.trim():d)),c&&(i=n.map(Yb))}if(process.env.NODE_ENV!=="production"&&nE(t,e,i),process.env.NODE_ENV!=="production"){const f=e.toLowerCase();f!==e&&r[Ui(f)]&&q(`Event "${f}" is emitted in component ${wl(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${sn(e)}" instead of "${e}".`)}let o,l=r[o=Ui(e)]||r[o=Ui(mn(e))];!l&&s&&(l=r[o=Ui(sn(e))]),l&&wn(l,t,6,i);const u=r[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,wn(u,t,6,i)}}function mm(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!pe(t)){const l=u=>{const f=mm(u,e,!0);f&&(o=!0,Qe(a,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(Ve(t)&&r.set(t,null),null):(ue(s)?s.forEach(l=>a[l]=null):Qe(a,s),Ve(t)&&r.set(t,a),a)}function ol(t,e){return!t||!da(e)?!1:(e=e.slice(2).replace(/Once$/,""),De(t,e[0].toLowerCase()+e.slice(1))||De(t,sn(e))||De(t,e))}let ct=null,pm=null;function ll(t){const e=ct;return ct=t,pm=t&&t.type.__scopeId||null,e}function oi(t,e=ct,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&ip(-1);const s=ll(e);let a;try{a=t(...i)}finally{ll(s),r._d&&ip(1)}return process.env.NODE_ENV!=="production"&&hm(e),a};return r._n=!0,r._c=!0,r._d=!0,r}let kc=!1;function ul(){kc=!0}function Ac(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:f,props:c,data:h,setupState:d,ctx:m,inheritAttrs:p}=t,g=ll(t);let y,v;process.env.NODE_ENV!=="production"&&(kc=!1);try{if(n.shapeFlag&4){const O=i||r,N=process.env.NODE_ENV!=="production"&&d.__isScriptSetup?new Proxy(O,{get(M,P,I){return q(`Property '${String(P)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(M,P,I)}}):O;y=Gn(u.call(N,O,f,process.env.NODE_ENV!=="production"?Ar(c):c,d,h,m)),v=o}else{const O=e;process.env.NODE_ENV!=="production"&&o===c&&ul(),y=Gn(O.length>1?O(process.env.NODE_ENV!=="production"?Ar(c):c,process.env.NODE_ENV!=="production"?{get attrs(){return ul(),o},slots:a,emit:l}:{attrs:o,slots:a,emit:l}):O(process.env.NODE_ENV!=="production"?Ar(c):c,null)),v=e.props?o:iE(o)}}catch(O){Ca.length=0,ya(O,t,1),y=se(Tt)}let b=y,E;if(process.env.NODE_ENV!=="production"&&y.patchFlag>0&&y.patchFlag&2048&&([b,E]=gm(y)),v&&p!==!1){const O=Object.keys(v),{shapeFlag:N}=b;if(O.length){if(N&7)s&&O.some(jo)&&(v=sE(v,s)),b=ar(b,v);else if(process.env.NODE_ENV!=="production"&&!kc&&b.type!==Tt){const M=Object.keys(o),P=[],I=[];for(let C=0,R=M.length;C<R;C++){const D=M[C];da(D)?jo(D)||P.push(D[2].toLowerCase()+D.slice(3)):I.push(D)}I.length&&q(`Extraneous non-props attributes (${I.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),P.length&&q(`Extraneous non-emits event listeners (${P.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(process.env.NODE_ENV!=="production"&&!ym(b)&&q("Runtime directive used on component with non-element root node. The directives will not function as intended."),b=ar(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(process.env.NODE_ENV!=="production"&&!ym(b)&&q("Component inside <Transition> renders non-element root node that cannot be animated."),b.transition=n.transition),process.env.NODE_ENV!=="production"&&E?E(b):y=b,ll(g),y}const gm=t=>{const e=t.children,n=t.dynamicChildren,r=Dc(e,!1);if(r){if(process.env.NODE_ENV!=="production"&&r.patchFlag>0&&r.patchFlag&2048)return gm(r)}else return[t,void 0];const i=e.indexOf(r),s=n?n.indexOf(r):-1,a=o=>{e[i]=o,n&&(s>-1?n[s]=o:o.patchFlag>0&&(t.dynamicChildren=[...n,o]))};return[Gn(r),a]};function Dc(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(Ls(i)){if(i.type!==Tt||i.children==="v-if"){if(n)return;if(n=i,process.env.NODE_ENV!=="production"&&e&&n.patchFlag>0&&n.patchFlag&2048)return Dc(n.children)}}else return}return n}const iE=t=>{let e;for(const n in t)(n==="class"||n==="style"||da(n))&&((e||(e={}))[n]=t[n]);return e},sE=(t,e)=>{const n={};for(const r in t)(!jo(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n},ym=t=>t.shapeFlag&7||t.type===Tt;function aE(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(process.env.NODE_ENV!=="production"&&(i||o)&&ai||e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?vm(r,a,u):!!a;if(l&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const h=f[c];if(a[h]!==r[h]&&!ol(u,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?vm(r,a,u):!0:!!a;return!1}function vm(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!ol(n,s))return!0}return!1}function oE({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ic="components",lE="directives";function uE(t,e){return _m(Ic,t,!0,e)||t}const cE=Symbol.for("v-ndc");function Rc(t){return _m(lE,t)}function _m(t,e,n=!0,r=!1){const i=ct||St;if(i){const s=i.type;if(t===Ic){const o=rf(s,!1);if(o&&(o===e||o===mn(e)||o===Gi(mn(e))))return s}const a=bm(i[t]||s[t],e)||bm(i.appContext[t],e);if(!a&&r)return s;if(process.env.NODE_ENV!=="production"&&n&&!a){const o=t===Ic?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";q(`Failed to resolve ${t.slice(0,-1)}: ${e}${o}`)}return a}else process.env.NODE_ENV!=="production"&&q(`resolve${Gi(t.slice(0,-1))} can only be used in render() or setup().`)}function bm(t,e){return t&&(t[e]||t[mn(e)]||t[Gi(mn(e))])}const fE=t=>t.__isSuspense;function hE(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):am(t)}const dE=Symbol.for("v-scx"),mE=()=>{{const t=Ns(dE);return t||process.env.NODE_ENV!=="production"&&q("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function gn(t,e){return $c(t,null,e)}const cl={};function et(t,e,n){return process.env.NODE_ENV!=="production"&&!pe(e)&&q("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),$c(t,e,n)}function $c(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:a,onTrigger:o}=Ke){if(e&&s){const M=e;e=(...P)=>{M(...P),N()}}process.env.NODE_ENV!=="production"&&r!==void 0&&typeof r=="number"&&q('watch() "deep" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.'),process.env.NODE_ENV!=="production"&&!e&&(n!==void 0&&q('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&q('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&q('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const l=M=>{q("Invalid watch source: ",M,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=St,f=M=>r===!0?M:Xi(M,r===!1?1:void 0);let c,h=!1,d=!1;if(Ye(t)?(c=()=>t.value,h=Hi(t)):ir(t)?(c=()=>f(t),h=!0):ue(t)?(d=!0,h=t.some(M=>ir(M)||Hi(M)),c=()=>t.map(M=>{if(Ye(M))return M.value;if(ir(M))return f(M);if(pe(M))return Dr(M,u,2);process.env.NODE_ENV!=="production"&&l(M)})):pe(t)?e?c=()=>Dr(t,u,2):c=()=>(m&&m(),wn(t,u,3,[p])):(c=pt,process.env.NODE_ENV!=="production"&&l(t)),e&&r){const M=c;c=()=>Xi(M())}let m,p=M=>{m=E.onStop=()=>{Dr(M,u,4),m=E.onStop=void 0}},g;if(El)if(p=pt,e?n&&wn(e,u,3,[c(),d?[]:void 0,p]):c(),i==="sync"){const M=mE();g=M.__watcherHandles||(M.__watcherHandles=[])}else return pt;let y=d?new Array(t.length).fill(cl):cl;const v=()=>{if(!(!E.active||!E.dirty))if(e){const M=E.run();(r||h||(d?M.some((P,I)=>ei(P,y[I])):ei(M,y)))&&(m&&m(),wn(e,u,3,[M,y===cl?void 0:d&&y[0]===cl?[]:y,p]),y=M)}else E.run()};v.allowRecurse=!!e;let b;i==="sync"?b=v:i==="post"?b=()=>an(v,u&&u.suspense):(v.pre=!0,u&&(v.id=u.uid),b=()=>al(v));const E=new pc(c,pt,b),O=Cd(),N=()=>{E.stop(),O&&uc(O.effects,E)};return process.env.NODE_ENV!=="production"&&(E.onTrack=a,E.onTrigger=o),e?n?v():y=E.run():i==="post"?an(E.run.bind(E),u&&u.suspense):E.run(),g&&g.push(N),N}function pE(t,e,n){const r=this.proxy,i=rt(t)?t.includes(".")?Em(r,t):()=>r[t]:t.bind(r,r);let s;pe(e)?s=e:(s=e.handler,n=e);const a=ka(this),o=$c(i,s.bind(r),n);return a(),o}function Em(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Xi(t,e,n=0,r){if(!Ve(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),Ye(t))Xi(t.value,e,n,r);else if(ue(t))for(let i=0;i<t.length;i++)Xi(t[i],e,n,r);else if(bd(t)||Vi(t))t.forEach(i=>{Xi(i,e,n,r)});else if(Sd(t))for(const i in t)Xi(t[i],e,n,r);return t}function Sm(t){qb(t)&&q("Do not use built-in directive ids as custom directive id: "+t)}function fl(t,e){if(ct===null)return process.env.NODE_ENV!=="production"&&q("withDirectives can only be used inside render functions."),t;const n=Sl(ct)||ct.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,o,l=Ke]=e[i];s&&(pe(s)&&(s={mounted:s,updated:s}),s.deep&&Xi(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function Ki(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(Pr(),wn(l,n,8,[t.el,o,t,e]),kr())}}const li=Symbol("_leaveCb"),hl=Symbol("_enterCb");function gE(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yn(()=>{t.isMounted=!0}),Nm(()=>{t.isUnmounting=!0}),t}const xn=[Function,Array],wm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xn,onEnter:xn,onAfterEnter:xn,onEnterCancelled:xn,onBeforeLeave:xn,onLeave:xn,onAfterLeave:xn,onLeaveCancelled:xn,onBeforeAppear:xn,onAppear:xn,onAfterAppear:xn,onAppearCancelled:xn},yE={name:"BaseTransition",props:wm,setup(t,{slots:e}){const n=Pa(),r=gE();return()=>{const i=e.default&&Mm(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){let h=!1;for(const d of i)if(d.type!==Tt){if(process.env.NODE_ENV!=="production"&&h){q("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}if(s=d,h=!0,process.env.NODE_ENV==="production")break}}const a=_e(t),{mode:o}=a;if(process.env.NODE_ENV!=="production"&&o&&o!=="in-out"&&o!=="out-in"&&o!=="default"&&q(`invalid <transition> mode: ${o}`),r.isLeaving)return Vc(s);const l=Om(s);if(!l)return Vc(s);const u=Fc(l,a,r,n);jc(l,u);const f=n.subTree,c=f&&Om(f);if(c&&c.type!==Tt&&!Qi(l,c)){const h=Fc(c,a,r,n);if(jc(c,h),o==="out-in")return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Vc(s);o==="in-out"&&l.type!==Tt&&(h.delayLeave=(d,m,p)=>{const g=xm(r,c);g[String(c.key)]=c,d[li]=()=>{m(),d[li]=void 0,delete u.delayedLeave},u.delayedLeave=p})}return s}}};function xm(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Fc(t,e,n,r){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:c,onLeave:h,onAfterLeave:d,onLeaveCancelled:m,onBeforeAppear:p,onAppear:g,onAfterAppear:y,onAppearCancelled:v}=e,b=String(t.key),E=xm(n,t),O=(P,I)=>{P&&wn(P,r,9,I)},N=(P,I)=>{const C=I[1];O(P,I),ue(P)?P.every(R=>R.length<=1)&&C():P.length<=1&&C()},M={mode:s,persisted:a,beforeEnter(P){let I=o;if(!n.isMounted)if(i)I=p||o;else return;P[li]&&P[li](!0);const C=E[b];C&&Qi(t,C)&&C.el[li]&&C.el[li](),O(I,[P])},enter(P){let I=l,C=u,R=f;if(!n.isMounted)if(i)I=g||l,C=y||u,R=v||f;else return;let D=!1;const Q=P[hl]=be=>{D||(D=!0,be?O(R,[P]):O(C,[P]),M.delayedLeave&&M.delayedLeave(),P[hl]=void 0)};I?N(I,[P,Q]):Q()},leave(P,I){const C=String(t.key);if(P[hl]&&P[hl](!0),n.isUnmounting)return I();O(c,[P]);let R=!1;const D=P[li]=Q=>{R||(R=!0,I(),Q?O(m,[P]):O(d,[P]),P[li]=void 0,E[C]===t&&delete E[C])};E[C]=t,h?N(h,[P,D]):D()},clone(P){return Fc(P,e,n,r)}};return M}function Vc(t){if(xa(t))return t=ar(t),t.children=null,t}function Om(t){if(!xa(t))return t;if(process.env.NODE_ENV!=="production"&&t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&pe(n.default))return n.default()}}function jc(t,e){t.shapeFlag&6&&t.component?jc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Mm(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===je?(a.patchFlag&128&&i++,r=r.concat(Mm(a.children,e,o))):(e||a.type!==Tt)&&r.push(o!=null?ar(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function he(t,e){return pe(t)?(()=>Qe({name:t.name},e,{setup:t}))():t}const wa=t=>!!t.type.__asyncLoader,xa=t=>t.type.__isKeepAlive;function vE(t,e){Tm(t,"a",e)}function _E(t,e){Tm(t,"da",e)}function Tm(t,e,n=St){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(dl(e,r,n),n){let i=n.parent;for(;i&&i.parent;)xa(i.parent.vnode)&&bE(r,e,n,i),i=i.parent}}function bE(t,e,n,r){const i=dl(e,t,r,!0);ui(()=>{uc(r[e],i)},n)}function dl(t,e,n=St,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Pr();const o=ka(n),l=wn(e,n,t,a);return o(),kr(),l});return r?i.unshift(s):i.push(s),s}else if(process.env.NODE_ENV!=="production"){const i=Ui(xc[t].replace(/ hook$/,""));q(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Rr=t=>(e,n=St)=>(!El||t==="sp")&&dl(t,(...r)=>e(...r),n),EE=Rr("bm"),yn=Rr("m"),SE=Rr("bu"),wE=Rr("u"),Nm=Rr("bum"),ui=Rr("um"),xE=Rr("sp"),OE=Rr("rtg"),ME=Rr("rtc");function TE(t,e=St){dl("ec",t,e)}function On(t,e,n,r){let i;const s=n&&n[r];if(ue(t)||rt(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){process.env.NODE_ENV!=="production"&&!Number.isInteger(t)&&q(`The v-for range expect an integer value but got ${t}.`),i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Ve(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];i[o]=e(t[u],u,o,s&&s[o])}}else i=[];return n&&(n[r]=i),i}function Cm(t,e,n={},r,i){if(ct.isCE||ct.parent&&wa(ct.parent)&&ct.parent.isCE)return e!=="default"&&(n.name=e),se("slot",n,r&&r());let s=t[e];process.env.NODE_ENV!=="production"&&s&&s.length>1&&(q("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),s=()=>[]),s&&s._c&&(s._d=!1),k();const a=s&&Lm(s(n)),o=Ge(je,{key:n.key||a&&a.key||`_${e}`},a||(r?r():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function Lm(t){return t.some(e=>Ls(e)?!(e.type===Tt||e.type===je&&!Lm(e.children)):!0)?t:null}const Gc=t=>t?cp(t)?Sl(t)||t.proxy:Gc(t.parent):null,Zi=Qe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>process.env.NODE_ENV!=="production"?Ar(t.props):t.props,$attrs:t=>process.env.NODE_ENV!=="production"?Ar(t.attrs):t.attrs,$slots:t=>process.env.NODE_ENV!=="production"?Ar(t.slots):t.slots,$refs:t=>process.env.NODE_ENV!=="production"?Ar(t.refs):t.refs,$parent:t=>Gc(t.parent),$root:t=>Gc(t.root),$emit:t=>t.emit,$options:t=>qc(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,al(t.update)}),$nextTick:t=>t.n||(t.n=sl.bind(t.proxy)),$watch:t=>pE.bind(t)}),Uc=t=>t==="_"||t==="$",Bc=(t,e)=>t!==Ke&&!t.__isScriptSetup&&De(t,e),Pm={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;if(process.env.NODE_ENV!=="production"&&e==="__isVue")return!0;let u;if(e[0]!=="$"){const d=a[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Bc(r,e))return a[e]=1,r[e];if(i!==Ke&&De(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&De(u,e))return a[e]=3,s[e];if(n!==Ke&&De(n,e))return a[e]=4,n[e];Wc&&(a[e]=0)}}const f=Zi[e];let c,h;if(f)return e==="$attrs"?(kt(t.attrs,"get",""),process.env.NODE_ENV!=="production"&&ul()):process.env.NODE_ENV!=="production"&&e==="$slots"&&kt(t,"get",e),f(t);if((c=o.__cssModules)&&(c=c[e]))return c;if(n!==Ke&&De(n,e))return a[e]=4,n[e];if(h=l.config.globalProperties,De(h,e))return h[e];process.env.NODE_ENV!=="production"&&ct&&(!rt(e)||e.indexOf("__v")!==0)&&(i!==Ke&&Uc(e[0])&&De(i,e)?q(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===ct&&q(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Bc(i,e)?(i[e]=n,!0):process.env.NODE_ENV!=="production"&&i.__isScriptSetup&&De(i,e)?(q(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):r!==Ke&&De(r,e)?(r[e]=n,!0):De(t.props,e)?(process.env.NODE_ENV!=="production"&&q(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(process.env.NODE_ENV!=="production"&&q(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&e in t.appContext.config.globalProperties?Object.defineProperty(s,e,{enumerable:!0,configurable:!0,value:n}):s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==Ke&&De(t,a)||Bc(e,a)||(o=s[0])&&De(o,a)||De(r,a)||De(Zi,a)||De(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:De(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};process.env.NODE_ENV!=="production"&&(Pm.ownKeys=t=>(q("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t)));function NE(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(Zi).forEach(n=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:()=>Zi[n](t),set:pt})}),e}function CE(t){const{ctx:e,propsOptions:[n]}=t;n&&Object.keys(n).forEach(r=>{Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>t.props[r],set:pt})})}function LE(t){const{ctx:e,setupState:n}=t;Object.keys(_e(n)).forEach(r=>{if(!n.__isScriptSetup){if(Uc(r[0])){q(`setup() return property ${JSON.stringify(r)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n[r],set:pt})}})}function km(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function PE(){const t=Object.create(null);return(e,n)=>{t[n]?q(`${e} property "${n}" is already defined in ${t[n]}.`):t[n]=e}}let Wc=!0;function kE(t){const e=qc(t),n=t.proxy,r=t.ctx;Wc=!1,e.beforeCreate&&Am(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:f,beforeMount:c,mounted:h,beforeUpdate:d,updated:m,activated:p,deactivated:g,beforeDestroy:y,beforeUnmount:v,destroyed:b,unmounted:E,render:O,renderTracked:N,renderTriggered:M,errorCaptured:P,serverPrefetch:I,expose:C,inheritAttrs:R,components:D,directives:Q,filters:be}=e,T=process.env.NODE_ENV!=="production"?PE():null;if(process.env.NODE_ENV!=="production"){const[z]=t.propsOptions;if(z)for(const K in z)T("Props",K)}if(u&&AE(u,r,T),a)for(const z in a){const K=a[z];pe(K)?(process.env.NODE_ENV!=="production"?Object.defineProperty(r,z,{value:K.bind(n),configurable:!0,enumerable:!0,writable:!0}):r[z]=K.bind(n),process.env.NODE_ENV!=="production"&&T("Methods",z)):process.env.NODE_ENV!=="production"&&q(`Method "${z}" has type "${typeof K}" in the component definition. Did you reference the function correctly?`)}if(i){process.env.NODE_ENV!=="production"&&!pe(i)&&q("The data option must be a function. Plain object usage is no longer supported.");const z=i.call(n,n);if(process.env.NODE_ENV!=="production"&&cc(z)&&q("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Ve(z))process.env.NODE_ENV!=="production"&&q("data() should return an object.");else if(t.data=Jo(z),process.env.NODE_ENV!=="production")for(const K in z)T("Data",K),Uc(K[0])||Object.defineProperty(r,K,{configurable:!0,enumerable:!0,get:()=>z[K],set:pt})}if(Wc=!0,s)for(const z in s){const K=s[z],Pe=pe(K)?K.bind(n,n):pe(K.get)?K.get.bind(n,n):pt;process.env.NODE_ENV!=="production"&&Pe===pt&&q(`Computed property "${z}" has no getter.`);const ke=!pe(K)&&pe(K.set)?K.set.bind(n):process.env.NODE_ENV!=="production"?()=>{q(`Write operation failed: computed property "${z}" is readonly.`)}:pt,_t=de({get:Pe,set:ke});Object.defineProperty(r,z,{enumerable:!0,configurable:!0,get:()=>_t.value,set:Xt=>_t.value=Xt}),process.env.NODE_ENV!=="production"&&T("Computed",z)}if(o)for(const z in o)Dm(o[z],r,n,z);if(l){const z=pe(l)?l.call(n):l;Reflect.ownKeys(z).forEach(K=>{Fm(K,z[K])})}f&&Am(f,t,"c");function $(z,K){ue(K)?K.forEach(Pe=>z(Pe.bind(n))):K&&z(K.bind(n))}if($(EE,c),$(yn,h),$(SE,d),$(wE,m),$(vE,p),$(_E,g),$(TE,P),$(ME,N),$(OE,M),$(Nm,v),$(ui,E),$(xE,I),ue(C))if(C.length){const z=t.exposed||(t.exposed={});C.forEach(K=>{Object.defineProperty(z,K,{get:()=>n[K],set:Pe=>n[K]=Pe})})}else t.exposed||(t.exposed={});O&&t.render===pt&&(t.render=O),R!=null&&(t.inheritAttrs=R),D&&(t.components=D),Q&&(t.directives=Q)}function AE(t,e,n=pt){ue(t)&&(t=Hc(t));for(const r in t){const i=t[r];let s;Ve(i)?"default"in i?s=Ns(i.from||r,i.default,!0):s=Ns(i.from||r):s=Ns(i),Ye(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s,process.env.NODE_ENV!=="production"&&n("Inject",r)}}function Am(t,e,n){wn(ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Dm(t,e,n,r){const i=r.includes(".")?Em(n,r):()=>n[r];if(rt(t)){const s=e[t];pe(s)?et(i,s):process.env.NODE_ENV!=="production"&&q(`Invalid watch handler specified by key "${t}"`,s)}else if(pe(t))et(i,t.bind(n));else if(Ve(t))if(ue(t))t.forEach(s=>Dm(s,e,n,r));else{const s=pe(t.handler)?t.handler.bind(n):e[t.handler];pe(s)?et(i,s,t):process.env.NODE_ENV!=="production"&&q(`Invalid watch handler specified by key "${t.handler}"`,s)}else process.env.NODE_ENV!=="production"&&q(`Invalid watch option: "${r}"`,t)}function qc(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>ml(l,u,a,!0)),ml(l,e,a)),Ve(e)&&s.set(e,l),l}function ml(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&ml(t,s,n,!0),i&&i.forEach(a=>ml(t,a,n,!0));for(const a in e)if(r&&a==="expose")process.env.NODE_ENV!=="production"&&q('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const o=DE[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const DE={data:Im,props:Rm,emits:Rm,methods:Oa,computed:Oa,beforeCreate:Zt,created:Zt,beforeMount:Zt,mounted:Zt,beforeUpdate:Zt,updated:Zt,beforeDestroy:Zt,beforeUnmount:Zt,destroyed:Zt,unmounted:Zt,activated:Zt,deactivated:Zt,errorCaptured:Zt,serverPrefetch:Zt,components:Oa,directives:Oa,watch:RE,provide:Im,inject:IE};function Im(t,e){return e?t?function(){return Qe(pe(t)?t.call(this,this):t,pe(e)?e.call(this,this):e)}:e:t}function IE(t,e){return Oa(Hc(t),Hc(e))}function Hc(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Zt(t,e){return t?[...new Set([].concat(t,e))]:e}function Oa(t,e){return t?Qe(Object.create(null),t,e):e}function Rm(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:Qe(Object.create(null),km(t),km(e!=null?e:{})):e}function RE(t,e){if(!t)return e;if(!e)return t;const n=Qe(Object.create(null),t);for(const r in e)n[r]=Zt(t[r],e[r]);return n}function $m(){return{app:null,config:{isNativeTag:Bb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $E=0;function FE(t,e){return function(r,i=null){pe(r)||(r=Qe({},r)),i!=null&&!Ve(i)&&(process.env.NODE_ENV!=="production"&&q("root props passed to app.mount() must be an object."),i=null);const s=$m(),a=new WeakSet;let o=!1;const l=s.app={_uid:$E++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:gp,get config(){return s.config},set config(u){process.env.NODE_ENV!=="production"&&q("app.config cannot be replaced. Modify individual options instead.")},use(u,...f){return a.has(u)?process.env.NODE_ENV!=="production"&&q("Plugin has already been applied to target app."):u&&pe(u.install)?(a.add(u),u.install(l,...f)):pe(u)?(a.add(u),u(l,...f)):process.env.NODE_ENV!=="production"&&q('A plugin must either be a function or an object with an "install" function.'),l},mixin(u){return s.mixins.includes(u)?process.env.NODE_ENV!=="production"&&q("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):s.mixins.push(u),l},component(u,f){return process.env.NODE_ENV!=="production"&&tf(u,s.config),f?(process.env.NODE_ENV!=="production"&&s.components[u]&&q(`Component "${u}" has already been registered in target app.`),s.components[u]=f,l):s.components[u]},directive(u,f){return process.env.NODE_ENV!=="production"&&Sm(u),f?(process.env.NODE_ENV!=="production"&&s.directives[u]&&q(`Directive "${u}" has already been registered in target app.`),s.directives[u]=f,l):s.directives[u]},mount(u,f,c){if(o)process.env.NODE_ENV!=="production"&&q("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{process.env.NODE_ENV!=="production"&&u.__vue_app__&&q("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=se(r,i);return h.appContext=s,c===!0?c="svg":c===!1&&(c=void 0),process.env.NODE_ENV!=="production"&&(s.reload=()=>{t(ar(h),u,c)}),f&&e?e(h,u):t(h,u,c),o=!0,l._container=u,u.__vue_app__=l,process.env.NODE_ENV!=="production"&&(l._instance=h.component,X1(l,gp)),Sl(h.component)||h.component.proxy}},unmount(){o?(t(null,l._container),process.env.NODE_ENV!=="production"&&(l._instance=null,K1(l)),delete l._container.__vue_app__):process.env.NODE_ENV!=="production"&&q("Cannot unmount an app that is not mounted.")},provide(u,f){return process.env.NODE_ENV!=="production"&&u in s.provides&&q(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),s.provides[u]=f,l},runWithContext(u){const f=Ts;Ts=l;try{return u()}finally{Ts=f}}};return l}}let Ts=null;function Fm(t,e){if(!St)process.env.NODE_ENV!=="production"&&q("provide() can only be used inside setup().");else{let n=St.provides;const r=St.parent&&St.parent.provides;r===n&&(n=St.provides=Object.create(r)),n[t]=e}}function Ns(t,e,n=!1){const r=St||ct;if(r||Ts){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ts._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&pe(e)?e.call(r&&r.proxy):e;process.env.NODE_ENV!=="production"&&q(`injection "${String(t)}" not found.`)}else process.env.NODE_ENV!=="production"&&q("inject() can only be used inside setup() or functional components.")}function VE(){return!!(St||ct||Ts)}const Vm={},jm=()=>Object.create(Vm),Gm=t=>Object.getPrototypeOf(t)===Vm;function jE(t,e,n,r=!1){const i={},s=jm();t.propsDefaults=Object.create(null),Um(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);process.env.NODE_ENV!=="production"&&zm(e||{},i,t),n?t.props=r?i:N1(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function GE(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function UE(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=_e(i),[l]=t.propsOptions;let u=!1;if(!(process.env.NODE_ENV!=="production"&&GE(t))&&(r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let h=f[c];if(ol(t.emitsOptions,h))continue;const d=e[h];if(l)if(De(s,h))d!==s[h]&&(s[h]=d,u=!0);else{const m=mn(h);i[m]=zc(l,o,m,d,t,!1)}else d!==s[h]&&(s[h]=d,u=!0)}}}else{Um(t,e,i,s)&&(u=!0);let f;for(const c in o)(!e||!De(e,c)&&((f=sn(c))===c||!De(e,f)))&&(l?n&&(n[c]!==void 0||n[f]!==void 0)&&(i[c]=zc(l,o,c,void 0,t,!0)):delete i[c]);if(s!==o)for(const c in s)(!e||!De(e,c)&&!0)&&(delete s[c],u=!0)}u&&rr(t.attrs,"set",""),process.env.NODE_ENV!=="production"&&zm(e||{},i,t)}function Um(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(ma(l))continue;const u=e[l];let f;i&&De(i,f=mn(l))?!s||!s.includes(f)?n[f]=u:(o||(o={}))[f]=u:ol(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(s){const l=_e(n),u=o||Ke;for(let f=0;f<s.length;f++){const c=s[f];n[c]=zc(i,l,c,u[c],t,!De(u,c))}}return a}function zc(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=De(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&pe(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const f=ka(i);r=u[n]=l.call(null,e),f()}}else r=l}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===sn(n))&&(r=!0))}return r}function Bm(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!pe(t)){const f=c=>{l=!0;const[h,d]=Bm(c,e,!0);Qe(a,h),d&&o.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!l)return Ve(t)&&r.set(t,xs),xs;if(ue(s))for(let f=0;f<s.length;f++){process.env.NODE_ENV!=="production"&&!rt(s[f])&&q("props must be strings when using array syntax.",s[f]);const c=mn(s[f]);Wm(c)&&(a[c]=Ke)}else if(s){process.env.NODE_ENV!=="production"&&!Ve(s)&&q("invalid props options",s);for(const f in s){const c=mn(f);if(Wm(c)){const h=s[f],d=a[c]=ue(h)||pe(h)?{type:h}:Qe({},h);if(d){const m=Hm(Boolean,d.type),p=Hm(String,d.type);d[0]=m>-1,d[1]=p<0||m<p,(m>-1||De(d,"default"))&&o.push(c)}}}}const u=[a,o];return Ve(t)&&r.set(t,u),u}function Wm(t){return t[0]!=="$"&&!ma(t)?!0:(process.env.NODE_ENV!=="production"&&q(`Invalid prop name: "${t}" is a reserved property.`),!1)}function Yc(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function qm(t,e){return Yc(t)===Yc(e)}function Hm(t,e){return ue(e)?e.findIndex(n=>qm(n,t)):pe(e)&&qm(e,t)?0:-1}function zm(t,e,n){const r=_e(e),i=n.propsOptions[0];for(const s in i){let a=i[s];a!=null&&BE(s,r[s],a,process.env.NODE_ENV!=="production"?Ar(r):r,!De(t,s)&&!De(t,sn(s)))}}function BE(t,e,n,r,i){const{type:s,required:a,validator:o,skipCheck:l}=n;if(a&&i){q('Missing required prop: "'+t+'"');return}if(!(e==null&&!a)){if(s!=null&&s!==!0&&!l){let u=!1;const f=ue(s)?s:[s],c=[];for(let h=0;h<f.length&&!u;h++){const{valid:d,expectedType:m}=qE(e,f[h]);c.push(m||""),u=d}if(!u){q(HE(t,e,c));return}}o&&!o(e,r)&&q('Invalid prop: custom validator check failed for prop "'+t+'".')}}const WE=Lr("String,Number,Boolean,Function,Symbol,BigInt");function qE(t,e){let n;const r=Yc(e);if(WE(r)){const i=typeof t;n=i===r.toLowerCase(),!n&&i==="object"&&(n=t instanceof e)}else r==="Object"?n=Ve(t):r==="Array"?n=ue(t):r==="null"?n=t===null:n=t instanceof e;return{valid:n,expectedType:r}}function HE(t,e,n){if(n.length===0)return`Prop type [] for prop "${t}" won't match anything. Did you mean to use type Array instead?`;let r=`Invalid prop: type check failed for prop "${t}". Expected ${n.map(Gi).join(" | ")}`;const i=n[0],s=fc(e),a=Ym(e,i),o=Ym(e,s);return n.length===1&&Xm(i)&&!zE(i,s)&&(r+=` with value ${a}`),r+=`, got ${s} `,Xm(s)&&(r+=`with value ${o}.`),r}function Ym(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function Xm(t){return["string","number","boolean"].some(n=>t.toLowerCase()===n)}function zE(...t){return t.some(e=>e.toLowerCase()==="boolean")}const Km=t=>t[0]==="_"||t==="$stable",Xc=t=>ue(t)?t.map(Gn):[Gn(t)],YE=(t,e,n)=>{if(e._n)return e;const r=oi((...i)=>(process.env.NODE_ENV!=="production"&&St&&(!n||n.root===St.root)&&q(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Xc(e(...i))),n);return r._c=!1,r},Zm=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Km(i))continue;const s=t[i];if(pe(s))e[i]=YE(i,s,r);else if(s!=null){process.env.NODE_ENV!=="production"&&q(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const a=Xc(s);e[i]=()=>a}}},Jm=(t,e)=>{process.env.NODE_ENV!=="production"&&!xa(t.vnode)&&q("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=Xc(e);t.slots.default=()=>n},XE=(t,e)=>{const n=t.slots=jm();if(t.vnode.shapeFlag&32){const r=e._;r?(Qe(n,e),wd(n,"_",r)):Zm(e,n)}else e&&Jm(t,e)},KE=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=Ke;if(r.shapeFlag&32){const o=e._;o?process.env.NODE_ENV!=="production"&&ai?(Qe(i,e),rr(t,"set","$slots")):n&&o===1?s=!1:(Qe(i,e),!n&&o===1&&delete i._):(s=!e.$stable,Zm(e,i)),a=e}else e&&(Jm(t,e),a={default:1});if(s)for(const o in i)!Km(o)&&a[o]==null&&delete i[o]};function Kc(t,e,n,r,i=!1){if(ue(t)){t.forEach((h,d)=>Kc(h,e&&(ue(e)?e[d]:e),n,r,i));return}if(wa(r)&&!i)return;const s=r.shapeFlag&4?Sl(r.component)||r.component.proxy:r.el,a=i?null:s,{i:o,r:l}=t;if(process.env.NODE_ENV!=="production"&&!o){q("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=e&&e.r,f=o.refs===Ke?o.refs={}:o.refs,c=o.setupState;if(u!=null&&u!==l&&(rt(u)?(f[u]=null,De(c,u)&&(c[u]=null)):Ye(u)&&(u.value=null)),pe(l))Dr(l,o,12,[a,f]);else{const h=rt(l),d=Ye(l);if(h||d){const m=()=>{if(t.f){const p=h?De(c,l)?c[l]:f[l]:l.value;i?ue(p)&&uc(p,s):ue(p)?p.includes(s)||p.push(s):h?(f[l]=[s],De(c,l)&&(c[l]=f[l])):(l.value=[s],t.k&&(f[t.k]=l.value))}else h?(f[l]=a,De(c,l)&&(c[l]=a)):d?(l.value=a,t.k&&(f[t.k]=a)):process.env.NODE_ENV!=="production"&&q("Invalid template ref type:",l,`(${typeof l})`)};a?(m.id=-1,an(m,n)):m()}else process.env.NODE_ENV!=="production"&&q("Invalid template ref type:",l,`(${typeof l})`)}}let Ma,ci;function $r(t,e){t.appContext.config.performance&&pl()&&ci.mark(`vue-${e}-${t.uid}`),process.env.NODE_ENV!=="production"&&eE(t,e,pl()?ci.now():Date.now())}function Fr(t,e){if(t.appContext.config.performance&&pl()){const n=`vue-${e}-${t.uid}`,r=n+":end";ci.mark(r),ci.measure(`<${wl(t,t.type)}> ${e}`,n,r),ci.clearMarks(n),ci.clearMarks(r)}process.env.NODE_ENV!=="production"&&tE(t,e,pl()?ci.now():Date.now())}function pl(){return Ma!==void 0||(typeof window<"u"&&window.performance?(Ma=!0,ci=window.performance):Ma=!1),Ma}function ZE(){const t=[];if(typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(process.env.NODE_ENV!=="production"&&t.push("__VUE_PROD_HYDRATION_MISMATCH_DETAILS__"),Bo().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1),process.env.NODE_ENV!=="production"&&t.length){const e=t.length>1;console.warn(`Feature flag${e?"s":""} ${t.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const an=hE;function JE(t){return QE(t)}function QE(t,e){ZE();const n=Bo();n.__VUE__=!0,process.env.NODE_ENV!=="production"&&Lc(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:f,parentNode:c,nextSibling:h,setScopeId:d=pt,insertStaticContent:m}=t,p=(_,S,A,V=null,j=null,W=null,Z=void 0,B=null,X=process.env.NODE_ENV!=="production"&&ai?!1:!!S.dynamicChildren)=>{if(_===S)return;_&&!Qi(_,S)&&(V=fn(_),Ne(_,j,W,!0),_=null),S.patchFlag===-2&&(X=!1,S.dynamicChildren=null);const{type:U,ref:re,shapeFlag:ce}=S;switch(U){case Na:g(_,S,A,V);break;case Tt:y(_,S,A,V);break;case yl:_==null?v(S,A,V,Z):process.env.NODE_ENV!=="production"&&b(_,S,A,Z);break;case je:Q(_,S,A,V,j,W,Z,B,X);break;default:ce&1?N(_,S,A,V,j,W,Z,B,X):ce&6?be(_,S,A,V,j,W,Z,B,X):ce&64||ce&128?U.process(_,S,A,V,j,W,Z,B,X,$t):process.env.NODE_ENV!=="production"&&q("Invalid VNode type:",U,`(${typeof U})`)}re!=null&&j&&Kc(re,_&&_.ref,W,S||_,!S)},g=(_,S,A,V)=>{if(_==null)r(S.el=o(S.children),A,V);else{const j=S.el=_.el;S.children!==_.children&&u(j,S.children)}},y=(_,S,A,V)=>{_==null?r(S.el=l(S.children||""),A,V):S.el=_.el},v=(_,S,A,V)=>{[_.el,_.anchor]=m(_.children,S,A,V,_.el,_.anchor)},b=(_,S,A,V)=>{if(S.children!==_.children){const j=h(_.anchor);O(_),[S.el,S.anchor]=m(S.children,A,j,V)}else S.el=_.el,S.anchor=_.anchor},E=({el:_,anchor:S},A,V)=>{let j;for(;_&&_!==S;)j=h(_),r(_,A,V),_=j;r(S,A,V)},O=({el:_,anchor:S})=>{let A;for(;_&&_!==S;)A=h(_),i(_),_=A;i(S)},N=(_,S,A,V,j,W,Z,B,X)=>{S.type==="svg"?Z="svg":S.type==="math"&&(Z="mathml"),_==null?M(S,A,V,j,W,Z,B,X):C(_,S,j,W,Z,B,X)},M=(_,S,A,V,j,W,Z,B)=>{let X,U;const{props:re,shapeFlag:ce,transition:le,dirs:me}=_;if(X=_.el=a(_.type,W,re&&re.is,re),ce&8?f(X,_.children):ce&16&&I(_.children,X,null,V,j,Zc(_,W),Z,B),me&&Ki(_,null,V,"created"),P(X,_,_.scopeId,Z,V),re){for(const Fe in re)Fe!=="value"&&!ma(Fe)&&s(X,Fe,null,re[Fe],W,_.children,V,j,Ie);"value"in re&&s(X,"value",null,re.value,W),(U=re.onVnodeBeforeMount)&&or(U,V,_)}process.env.NODE_ENV!=="production"&&(Object.defineProperty(X,"__vnode",{value:_,enumerable:!1}),Object.defineProperty(X,"__vueParentComponent",{value:V,enumerable:!1})),me&&Ki(_,null,V,"beforeMount");const Te=eS(j,le);Te&&le.beforeEnter(X),r(X,S,A),((U=re&&re.onVnodeMounted)||Te||me)&&an(()=>{U&&or(U,V,_),Te&&le.enter(X),me&&Ki(_,null,V,"mounted")},j)},P=(_,S,A,V,j)=>{if(A&&d(_,A),V)for(let W=0;W<V.length;W++)d(_,V[W]);if(j){let W=j.subTree;if(process.env.NODE_ENV!=="production"&&W.patchFlag>0&&W.patchFlag&2048&&(W=Dc(W.children)||W),S===W){const Z=j.vnode;P(_,Z,Z.scopeId,Z.slotScopeIds,j.parent)}}},I=(_,S,A,V,j,W,Z,B,X=0)=>{for(let U=X;U<_.length;U++){const re=_[U]=B?fi(_[U]):Gn(_[U]);p(null,re,S,A,V,j,W,Z,B)}},C=(_,S,A,V,j,W,Z)=>{const B=S.el=_.el;let{patchFlag:X,dynamicChildren:U,dirs:re}=S;X|=_.patchFlag&16;const ce=_.props||Ke,le=S.props||Ke;let me;if(A&&Ji(A,!1),(me=le.onVnodeBeforeUpdate)&&or(me,A,S,_),re&&Ki(S,_,A,"beforeUpdate"),A&&Ji(A,!0),process.env.NODE_ENV!=="production"&&ai&&(X=0,Z=!1,U=null),U?(R(_.dynamicChildren,U,B,A,V,Zc(S,j),W),process.env.NODE_ENV!=="production"&&Ta(_,S)):Z||Pe(_,S,B,null,A,V,Zc(S,j),W,!1),X>0){if(X&16)D(B,S,ce,le,A,V,j);else if(X&2&&ce.class!==le.class&&s(B,"class",null,le.class,j),X&4&&s(B,"style",ce.style,le.style,j),X&8){const Te=S.dynamicProps;for(let Fe=0;Fe<Te.length;Fe++){const tt=Te[Fe],bt=ce[tt],rn=le[tt];(rn!==bt||tt==="value")&&s(B,tt,bt,rn,j,_.children,A,V,Ie)}}X&1&&_.children!==S.children&&f(B,S.children)}else!Z&&U==null&&D(B,S,ce,le,A,V,j);((me=le.onVnodeUpdated)||re)&&an(()=>{me&&or(me,A,S,_),re&&Ki(S,_,A,"updated")},V)},R=(_,S,A,V,j,W,Z)=>{for(let B=0;B<S.length;B++){const X=_[B],U=S[B],re=X.el&&(X.type===je||!Qi(X,U)||X.shapeFlag&70)?c(X.el):A;p(X,U,re,null,V,j,W,Z,!0)}},D=(_,S,A,V,j,W,Z)=>{if(A!==V){if(A!==Ke)for(const B in A)!ma(B)&&!(B in V)&&s(_,B,A[B],null,Z,S.children,j,W,Ie);for(const B in V){if(ma(B))continue;const X=V[B],U=A[B];X!==U&&B!=="value"&&s(_,B,U,X,Z,S.children,j,W,Ie)}"value"in V&&s(_,"value",A.value,V.value,Z)}},Q=(_,S,A,V,j,W,Z,B,X)=>{const U=S.el=_?_.el:o(""),re=S.anchor=_?_.anchor:o("");let{patchFlag:ce,dynamicChildren:le,slotScopeIds:me}=S;process.env.NODE_ENV!=="production"&&(ai||ce&2048)&&(ce=0,X=!1,le=null),me&&(B=B?B.concat(me):me),_==null?(r(U,A,V),r(re,A,V),I(S.children||[],A,re,j,W,Z,B,X)):ce>0&&ce&64&&le&&_.dynamicChildren?(R(_.dynamicChildren,le,A,j,W,Z,B),process.env.NODE_ENV!=="production"?Ta(_,S):(S.key!=null||j&&S===j.subTree)&&Ta(_,S,!0)):Pe(_,S,A,re,j,W,Z,B,X)},be=(_,S,A,V,j,W,Z,B,X)=>{S.slotScopeIds=B,_==null?S.shapeFlag&512?j.ctx.activate(S,A,V,Z,X):T(S,A,V,j,W,Z,X):$(_,S,X)},T=(_,S,A,V,j,W,Z)=>{const B=_.component=fS(_,V,j);if(process.env.NODE_ENV!=="production"&&B.type.__hmrId&&q1(B),process.env.NODE_ENV!=="production"&&(rl(_),$r(B,"mount")),xa(_)&&(B.ctx.renderer=$t),process.env.NODE_ENV!=="production"&&$r(B,"init"),dS(B),process.env.NODE_ENV!=="production"&&Fr(B,"init"),B.asyncDep){if(j&&j.registerDep(B,z),!_.el){const X=B.subTree=se(Tt);y(null,X,S,A)}}else z(B,_,S,A,j,W,Z);process.env.NODE_ENV!=="production"&&(il(),Fr(B,"mount"))},$=(_,S,A)=>{const V=S.component=_.component;if(aE(_,S,A))if(V.asyncDep&&!V.asyncResolved){process.env.NODE_ENV!=="production"&&rl(S),K(V,S,A),process.env.NODE_ENV!=="production"&&il();return}else V.next=S,B1(V.update),V.effect.dirty=!0,V.update();else S.el=_.el,V.vnode=S},z=(_,S,A,V,j,W,Z)=>{const B=()=>{if(_.isMounted){let{next:re,bu:ce,u:le,parent:me,vnode:Te}=_;{const Jr=Qm(_);if(Jr){re&&(re.el=Te.el,K(_,re,Z)),Jr.asyncDep.then(()=>{_.isUnmounted||B()});return}}let Fe=re,tt;process.env.NODE_ENV!=="production"&&rl(re||_.vnode),Ji(_,!1),re?(re.el=Te.el,K(_,re,Z)):re=Te,ce&&pa(ce),(tt=re.props&&re.props.onVnodeBeforeUpdate)&&or(tt,me,re,Te),Ji(_,!0),process.env.NODE_ENV!=="production"&&$r(_,"render");const bt=Ac(_);process.env.NODE_ENV!=="production"&&Fr(_,"render");const rn=_.subTree;_.subTree=bt,process.env.NODE_ENV!=="production"&&$r(_,"patch"),p(rn,bt,c(rn.el),fn(rn),_,j,W),process.env.NODE_ENV!=="production"&&Fr(_,"patch"),re.el=bt.el,Fe===null&&oE(_,bt.el),le&&an(le,j),(tt=re.props&&re.props.onVnodeUpdated)&&an(()=>or(tt,me,re,Te),j),process.env.NODE_ENV!=="production"&&hm(_),process.env.NODE_ENV!=="production"&&il()}else{let re;const{el:ce,props:le}=S,{bm:me,m:Te,parent:Fe}=_,tt=wa(S);if(Ji(_,!1),me&&pa(me),!tt&&(re=le&&le.onVnodeBeforeMount)&&or(re,Fe,S),Ji(_,!0),ce&&Zr){const bt=()=>{process.env.NODE_ENV!=="production"&&$r(_,"render"),_.subTree=Ac(_),process.env.NODE_ENV!=="production"&&Fr(_,"render"),process.env.NODE_ENV!=="production"&&$r(_,"hydrate"),Zr(ce,_.subTree,_,j,null),process.env.NODE_ENV!=="production"&&Fr(_,"hydrate")};tt?S.type.__asyncLoader().then(()=>!_.isUnmounted&&bt()):bt()}else{process.env.NODE_ENV!=="production"&&$r(_,"render");const bt=_.subTree=Ac(_);process.env.NODE_ENV!=="production"&&Fr(_,"render"),process.env.NODE_ENV!=="production"&&$r(_,"patch"),p(null,bt,A,V,_,j,W),process.env.NODE_ENV!=="production"&&Fr(_,"patch"),S.el=bt.el}if(Te&&an(Te,j),!tt&&(re=le&&le.onVnodeMounted)){const bt=S;an(()=>or(re,Fe,bt),j)}(S.shapeFlag&256||Fe&&wa(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&_.a&&an(_.a,j),_.isMounted=!0,process.env.NODE_ENV!=="production"&&Z1(_),S=A=V=null}},X=_.effect=new pc(B,pt,()=>al(U),_.scope),U=_.update=()=>{X.dirty&&X.run()};U.id=_.uid,Ji(_,!0),process.env.NODE_ENV!=="production"&&(X.onTrack=_.rtc?re=>pa(_.rtc,re):void 0,X.onTrigger=_.rtg?re=>pa(_.rtg,re):void 0,U.ownerInstance=_),U()},K=(_,S,A)=>{S.component=_;const V=_.vnode.props;_.vnode=S,_.next=null,UE(_,S.props,V,A),KE(_,S.children,A),Pr(),om(_),kr()},Pe=(_,S,A,V,j,W,Z,B,X=!1)=>{const U=_&&_.children,re=_?_.shapeFlag:0,ce=S.children,{patchFlag:le,shapeFlag:me}=S;if(le>0){if(le&128){_t(U,ce,A,V,j,W,Z,B,X);return}else if(le&256){ke(U,ce,A,V,j,W,Z,B,X);return}}me&8?(re&16&&Ie(U,j,W),ce!==U&&f(A,ce)):re&16?me&16?_t(U,ce,A,V,j,W,Z,B,X):Ie(U,j,W,!0):(re&8&&f(A,""),me&16&&I(ce,A,V,j,W,Z,B,X))},ke=(_,S,A,V,j,W,Z,B,X)=>{_=_||xs,S=S||xs;const U=_.length,re=S.length,ce=Math.min(U,re);let le;for(le=0;le<ce;le++){const me=S[le]=X?fi(S[le]):Gn(S[le]);p(_[le],me,A,null,j,W,Z,B,X)}U>re?Ie(_,j,W,!0,!1,ce):I(S,A,V,j,W,Z,B,X,ce)},_t=(_,S,A,V,j,W,Z,B,X)=>{let U=0;const re=S.length;let ce=_.length-1,le=re-1;for(;U<=ce&&U<=le;){const me=_[U],Te=S[U]=X?fi(S[U]):Gn(S[U]);if(Qi(me,Te))p(me,Te,A,null,j,W,Z,B,X);else break;U++}for(;U<=ce&&U<=le;){const me=_[ce],Te=S[le]=X?fi(S[le]):Gn(S[le]);if(Qi(me,Te))p(me,Te,A,null,j,W,Z,B,X);else break;ce--,le--}if(U>ce){if(U<=le){const me=le+1,Te=me<re?S[me].el:V;for(;U<=le;)p(null,S[U]=X?fi(S[U]):Gn(S[U]),A,Te,j,W,Z,B,X),U++}}else if(U>le)for(;U<=ce;)Ne(_[U],j,W,!0),U++;else{const me=U,Te=U,Fe=new Map;for(U=Te;U<=le;U++){const mt=S[U]=X?fi(S[U]):Gn(S[U]);mt.key!=null&&(process.env.NODE_ENV!=="production"&&Fe.has(mt.key)&&q("Duplicate keys found during update:",JSON.stringify(mt.key),"Make sure keys are unique."),Fe.set(mt.key,U))}let tt,bt=0;const rn=le-Te+1;let Jr=!1,Ss=0;const Cr=new Array(rn);for(U=0;U<rn;U++)Cr[U]=0;for(U=me;U<=ce;U++){const mt=_[U];if(bt>=rn){Ne(mt,j,W,!0);continue}let hn;if(mt.key!=null)hn=Fe.get(mt.key);else for(tt=Te;tt<=le;tt++)if(Cr[tt-Te]===0&&Qi(mt,S[tt])){hn=tt;break}hn===void 0?Ne(mt,j,W,!0):(Cr[hn-Te]=U+1,hn>=Ss?Ss=hn:Jr=!0,p(mt,S[hn],A,null,j,W,Z,B,X),bt++)}const Fn=Jr?tS(Cr):xs;for(tt=Fn.length-1,U=rn-1;U>=0;U--){const mt=Te+U,hn=S[mt],fa=mt+1<re?S[mt+1].el:V;Cr[U]===0?p(null,hn,A,fa,j,W,Z,B,X):Jr&&(tt<0||U!==Fn[tt]?Xt(hn,A,fa,2):tt--)}}},Xt=(_,S,A,V,j=null)=>{const{el:W,type:Z,transition:B,children:X,shapeFlag:U}=_;if(U&6){Xt(_.component.subTree,S,A,V);return}if(U&128){_.suspense.move(S,A,V);return}if(U&64){Z.move(_,S,A,$t);return}if(Z===je){r(W,S,A);for(let ce=0;ce<X.length;ce++)Xt(X[ce],S,A,V);r(_.anchor,S,A);return}if(Z===yl){E(_,S,A);return}if(V!==2&&U&1&&B)if(V===0)B.beforeEnter(W),r(W,S,A),an(()=>B.enter(W),j);else{const{leave:ce,delayLeave:le,afterLeave:me}=B,Te=()=>r(W,S,A),Fe=()=>{ce(W,()=>{Te(),me&&me()})};le?le(W,Te,Fe):Fe()}else r(W,S,A)},Ne=(_,S,A,V=!1,j=!1)=>{const{type:W,props:Z,ref:B,children:X,dynamicChildren:U,shapeFlag:re,patchFlag:ce,dirs:le}=_;if(B!=null&&Kc(B,null,A,_,!0),re&256){S.ctx.deactivate(_);return}const me=re&1&&le,Te=!wa(_);let Fe;if(Te&&(Fe=Z&&Z.onVnodeBeforeUnmount)&&or(Fe,S,_),re&6)Mr(_.component,A,V);else{if(re&128){_.suspense.unmount(A,V);return}me&&Ki(_,null,S,"beforeUnmount"),re&64?_.type.remove(_,S,A,j,$t,V):U&&(W!==je||ce>0&&ce&64)?Ie(U,S,A,!1,!0):(W===je&&ce&384||!j&&re&16)&&Ie(X,S,A),V&&Rt(_)}(Te&&(Fe=Z&&Z.onVnodeUnmounted)||me)&&an(()=>{Fe&&or(Fe,S,_),me&&Ki(_,null,S,"unmounted")},A)},Rt=_=>{const{type:S,el:A,anchor:V,transition:j}=_;if(S===je){process.env.NODE_ENV!=="production"&&_.patchFlag>0&&_.patchFlag&2048&&j&&!j.persisted?_.children.forEach(Z=>{Z.type===Tt?i(Z.el):Rt(Z)}):lt(A,V);return}if(S===yl){O(_);return}const W=()=>{i(A),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(_.shapeFlag&1&&j&&!j.persisted){const{leave:Z,delayLeave:B}=j,X=()=>Z(A,W);B?B(_.el,W,X):X()}else W()},lt=(_,S)=>{let A;for(;_!==S;)A=h(_),i(_),_=A;i(S)},Mr=(_,S,A)=>{process.env.NODE_ENV!=="production"&&_.type.__hmrId&&H1(_);const{bum:V,scope:j,update:W,subTree:Z,um:B}=_;V&&pa(V),j.stop(),W&&(W.active=!1,Ne(Z,_,S,A)),B&&an(B,S),an(()=>{_.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve()),process.env.NODE_ENV!=="production"&&Q1(_)},Ie=(_,S,A,V=!1,j=!1,W=0)=>{for(let Z=W;Z<_.length;Z++)Ne(_[Z],S,A,V,j)},fn=_=>_.shapeFlag&6?fn(_.component.subTree):_.shapeFlag&128?_.suspense.next():h(_.anchor||_.el);let Tr=!1;const Kr=(_,S,A)=>{_==null?S._vnode&&Ne(S._vnode,null,null,!0):p(S._vnode||null,_,S,null,null,null,A),Tr||(Tr=!0,om(),lm(),Tr=!1),S._vnode=_},$t={p,um:Ne,m:Xt,r:Rt,mt:T,mc:I,pc:Pe,pbc:R,n:fn,o:t};let Nr,Zr;return e&&([Nr,Zr]=e($t)),{render:Kr,hydrate:Nr,createApp:FE(Kr,Nr)}}function Zc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ji({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function eS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ta(t,e,n=!1){const r=t.children,i=e.children;if(ue(r)&&ue(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=fi(i[s]),o.el=a.el),n||Ta(a,o)),o.type===Na&&(o.el=a.el),process.env.NODE_ENV!=="production"&&o.type===Tt&&!o.el&&(o.el=a.el)}}function tS(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<u?s=o+1:a=o;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}function Qm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Qm(e)}const nS=t=>t.__isTeleport,Cs=t=>t&&(t.disabled||t.disabled===""),ep=t=>typeof SVGElement<"u"&&t instanceof SVGElement,tp=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Jc=(t,e)=>{const n=t&&t.to;if(rt(n))if(e){const r=e(n);return r||process.env.NODE_ENV!=="production"&&q(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),r}else return process.env.NODE_ENV!=="production"&&q("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return process.env.NODE_ENV!=="production"&&!n&&!Cs(t)&&q(`Invalid Teleport target: ${n}`),n},rS={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,u){const{mc:f,pc:c,pbc:h,o:{insert:d,querySelector:m,createText:p,createComment:g}}=u,y=Cs(e.props);let{shapeFlag:v,children:b,dynamicChildren:E}=e;if(process.env.NODE_ENV!=="production"&&ai&&(l=!1,E=null),t==null){const O=e.el=process.env.NODE_ENV!=="production"?g("teleport start"):p(""),N=e.anchor=process.env.NODE_ENV!=="production"?g("teleport end"):p("");d(O,n,r),d(N,n,r);const M=e.target=Jc(e.props,m),P=e.targetAnchor=p("");M?(d(P,M),a==="svg"||ep(M)?a="svg":(a==="mathml"||tp(M))&&(a="mathml")):process.env.NODE_ENV!=="production"&&!y&&q("Invalid Teleport target on mount:",M,`(${typeof M})`);const I=(C,R)=>{v&16&&f(b,C,R,i,s,a,o,l)};y?I(n,N):M&&I(M,P)}else{e.el=t.el;const O=e.anchor=t.anchor,N=e.target=t.target,M=e.targetAnchor=t.targetAnchor,P=Cs(t.props),I=P?n:N,C=P?O:M;if(a==="svg"||ep(N)?a="svg":(a==="mathml"||tp(N))&&(a="mathml"),E?(h(t.dynamicChildren,E,I,i,s,a,o),Ta(t,e,!0)):l||c(t,e,I,C,i,s,a,o,!1),y)P?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):gl(e,n,O,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=Jc(e.props,m);R?gl(e,R,null,u,0):process.env.NODE_ENV!=="production"&&q("Invalid Teleport target on update:",N,`(${typeof N})`)}else P&&gl(e,N,M,u,1)}rp(e)},remove(t,e,n,r,{um:i,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:u,targetAnchor:f,target:c,props:h}=t;if(c&&s(f),a&&s(u),o&16){const d=a||!Cs(h);for(let m=0;m<l.length;m++){const p=l[m];i(p,e,n,d,!!p.dynamicChildren)}}},move:gl,hydrate:iS};function gl(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:f}=t,c=s===2;if(c&&r(a,e,n),(!c||Cs(f))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);c&&r(o,e,n)}function iS(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const f=e.target=Jc(e.props,l);if(f){const c=f._lpa||f.firstChild;if(e.shapeFlag&16)if(Cs(e.props))e.anchor=u(a(t),e,o(t),n,r,i,s),e.targetAnchor=c;else{e.anchor=a(t);let h=c;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(c,e,f,n,r,i,s)}rp(e)}return e.anchor&&a(e.anchor)}const np=rS;function rp(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const je=Symbol.for("v-fgt"),Na=Symbol.for("v-txt"),Tt=Symbol.for("v-cmt"),yl=Symbol.for("v-stc"),Ca=[];let jn=null;function k(t=!1){Ca.push(jn=t?null:[])}function sS(){Ca.pop(),jn=Ca[Ca.length-1]||null}let La=1;function ip(t){La+=t}function sp(t){return t.dynamicChildren=La>0?jn||xs:null,sS(),La>0&&jn&&jn.push(t),t}function G(t,e,n,r,i,s){return sp(L(t,e,n,r,i,s,!0))}function Ge(t,e,n,r,i){return sp(se(t,e,n,r,i,!0))}function Ls(t){return t?t.__v_isVNode===!0:!1}function Qi(t,e){return process.env.NODE_ENV!=="production"&&e.shapeFlag&6&&Ms.has(e.type)?(t.shapeFlag&=-257,e.shapeFlag&=-513,!1):t.type===e.type&&t.key===e.key}const aS=(...t)=>op(...t),ap=({key:t})=>t!=null?t:null,vl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?rt(t)||Ye(t)||pe(t)?{i:ct,r:t,k:e,f:!!n}:t:null);function L(t,e=null,n=null,r=0,i=null,s=t===je?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ap(e),ref:e&&vl(e),scopeId:pm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ct};return o?(Qc(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=rt(n)?8:16),process.env.NODE_ENV!=="production"&&l.key!==l.key&&q("VNode created with invalid key (NaN). VNode type:",l.type),La>0&&!a&&jn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&jn.push(l),l}const se=process.env.NODE_ENV!=="production"?aS:op;function op(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===cE)&&(process.env.NODE_ENV!=="production"&&!t&&q(`Invalid vnode type when creating vnode: ${t}.`),t=Tt),Ls(t)){const o=ar(t,e,!0);return n&&Qc(o,n),La>0&&!s&&jn&&(o.shapeFlag&6?jn[jn.indexOf(t)]=o:jn.push(o)),o.patchFlag|=-2,o}if(mp(t)&&(t=t.__vccOpts),e){e=oS(e);let{class:o,style:l}=e;o&&!rt(o)&&(e.class=Ae(o)),Ve(l)&&(el(l)&&!ue(l)&&(l=Qe({},l)),e.style=ti(l))}const a=rt(t)?1:fE(t)?128:nS(t)?64:Ve(t)?4:pe(t)?2:0;return process.env.NODE_ENV!=="production"&&a&4&&el(t)&&(t=_e(t),q("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),L(t,e,n,r,i,a,s,!0)}function oS(t){return t?el(t)||Gm(t)?Qe({},t):t:null}function ar(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,o=e?lS(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&ap(o),ref:e&&e.ref?n&&i?ue(i)?i.concat(vl(e)):[i,vl(e)]:vl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:process.env.NODE_ENV!=="production"&&s===-1&&ue(a)?a.map(lp):a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==je?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ar(t.ssContent),ssFallback:t.ssFallback&&ar(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function lp(t){const e=ar(t);return ue(t.children)&&(e.children=t.children.map(lp)),e}function _l(t=" ",e=0){return se(Na,null,t,e)}function F(t="",e=!1){return e?(k(),Ge(Tt,null,t)):se(Tt,null,t)}function Gn(t){return t==null||typeof t=="boolean"?se(Tt):ue(t)?se(je,null,t.slice()):typeof t=="object"?fi(t):se(Na,null,String(t))}function fi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ar(t)}function Qc(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Qc(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Gm(e)?e._ctx=ct:i===3&&ct&&(ct.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pe(e)?(e={default:e,_ctx:ct},n=32):(e=String(e),r&64?(n=16,e=[_l(e)]):n=8);t.children=e,t.shapeFlag|=n}function lS(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ae([e.class,r.class]));else if(i==="style")e.style=ti([e.style,r.style]);else if(da(i)){const s=e[i],a=r[i];a&&s!==a&&!(ue(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function or(t,e,n,r=null){wn(t,e,7,[n,r])}const uS=$m();let cS=0;function fS(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||uS,s={uid:cS++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Td(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bm(r,i),emitsOptions:mm(r,i),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:r.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return process.env.NODE_ENV!=="production"?s.ctx=NE(s):s.ctx={_:s},s.root=e?e.root:s,s.emit=rE.bind(null,s),t.ce&&t.ce(s),s}let St=null;const Pa=()=>St||ct;let bl,ef;{const t=Bo(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};bl=e("__VUE_INSTANCE_SETTERS__",n=>St=n),ef=e("__VUE_SSR_SETTERS__",n=>El=n)}const ka=t=>{const e=St;return bl(t),t.scope.on(),()=>{t.scope.off(),bl(e)}},up=()=>{St&&St.scope.off(),bl(null)},hS=Lr("slot,component");function tf(t,{isNativeTag:e}){(hS(t)||e(t))&&q("Do not use built-in or reserved HTML elements as component id: "+t)}function cp(t){return t.vnode.shapeFlag&4}let El=!1;function dS(t,e=!1){e&&ef(e);const{props:n,children:r}=t.vnode,i=cp(t);jE(t,n,i,e),XE(t,r);const s=i?mS(t,e):void 0;return e&&ef(!1),s}function mS(t,e){var n;const r=t.type;if(process.env.NODE_ENV!=="production"){if(r.name&&tf(r.name,t.appContext.config),r.components){const s=Object.keys(r.components);for(let a=0;a<s.length;a++)tf(s[a],t.appContext.config)}if(r.directives){const s=Object.keys(r.directives);for(let a=0;a<s.length;a++)Sm(s[a])}r.compilerOptions&&pS()&&q('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Pm),process.env.NODE_ENV!=="production"&&CE(t);const{setup:i}=r;if(i){const s=t.setupContext=i.length>1?yS(t):null,a=ka(t);Pr();const o=Dr(i,t,0,[process.env.NODE_ENV!=="production"?Ar(t.props):t.props,s]);if(kr(),a(),cc(o)){if(o.then(up,up),e)return o.then(l=>{fp(t,l,e)}).catch(l=>{ya(l,t,0)});if(t.asyncDep=o,process.env.NODE_ENV!=="production"&&!t.suspense){const l=(n=r.name)!=null?n:"Anonymous";q(`Component <${l}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else fp(t,o,e)}else hp(t,e)}function fp(t,e,n){pe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)?(process.env.NODE_ENV!=="production"&&Ls(e)&&q("setup() should not return VNodes directly - return a render function instead."),process.env.NODE_ENV!=="production"&&(t.devtoolsRawSetupState=e),t.setupState=tm(e),process.env.NODE_ENV!=="production"&&LE(t)):process.env.NODE_ENV!=="production"&&e!==void 0&&q(`setup() should return an object. Received: ${e===null?"null":typeof e}`),hp(t,n)}let nf;const pS=()=>!nf;function hp(t,e,n){const r=t.type;if(!t.render){if(!e&&nf&&!r.render){const i=r.template||qc(t).template;if(i){process.env.NODE_ENV!=="production"&&$r(t,"compile");const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,u=Qe(Qe({isCustomElement:s,delimiters:o},a),l);r.render=nf(i,u),process.env.NODE_ENV!=="production"&&Fr(t,"compile")}}t.render=r.render||pt}{const i=ka(t);Pr();try{kE(t)}finally{kr(),i()}}process.env.NODE_ENV!=="production"&&!r.render&&t.render===pt&&!e&&(r.template?q('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):q("Component is missing template or render function."))}const dp=process.env.NODE_ENV!=="production"?{get(t,e){return ul(),kt(t,"get",""),t[e]},set(){return q("setupContext.attrs is readonly."),!1},deleteProperty(){return q("setupContext.attrs is readonly."),!1}}:{get(t,e){return kt(t,"get",""),t[e]}};function gS(t){return t.slotsProxy||(t.slotsProxy=new Proxy(t.slots,{get(e,n){return kt(t,"get","$slots"),e[n]}}))}function yS(t){const e=n=>{if(process.env.NODE_ENV!=="production"&&(t.exposed&&q("expose() should be called only once per setup()."),n!=null)){let r=typeof n;r==="object"&&(ue(n)?r="array":Ye(n)&&(r="ref")),r!=="object"&&q(`expose() should be passed a plain object, received ${r}.`)}t.exposed=n||{}};if(process.env.NODE_ENV!=="production"){let n;return Object.freeze({get attrs(){return n||(n=new Proxy(t.attrs,dp))},get slots(){return gS(t)},get emit(){return(r,...i)=>t.emit(r,...i)},expose:e})}else return{attrs:new Proxy(t.attrs,dp),slots:t.slots,emit:t.emit,expose:e}}function Sl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(tm(ii(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Zi)return Zi[n](t)},has(e,n){return n in e||n in Zi}}))}const vS=/(?:^|[-_])(\w)/g,_S=t=>t.replace(vS,e=>e.toUpperCase()).replace(/[-_]/g,"");function rf(t,e=!0){return pe(t)?t.displayName||t.name:t.name||e&&t.__name}function wl(t,e,n=!1){let r=rf(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=s=>{for(const a in s)if(s[a]===e)return a};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?_S(r):n?"App":"Anonymous"}function mp(t){return pe(t)&&"__vccOpts"in t}const de=(t,e)=>{const n=L1(t,e,El);if(process.env.NODE_ENV!=="production"){const r=Pa();r&&r.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function pp(t,e,n){const r=arguments.length;return r===2?Ve(e)&&!ue(e)?Ls(e)?se(t,null,[e]):se(t,e):se(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ls(n)&&(n=[n]),se(t,e,n))}function bS(){if(process.env.NODE_ENV==="production"||typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#1677ff"},n={style:"color:#f5222d"},r={style:"color:#eb2f96"},i={header(c){return Ve(c)?c.__isVue?["div",t,"VueInstance"]:Ye(c)?["div",{},["span",t,f(c)],"<",o(c.value),">"]:ir(c)?["div",{},["span",t,Hi(c)?"ShallowReactive":"Reactive"],"<",o(c),`>${qi(c)?" (readonly)":""}`]:qi(c)?["div",{},["span",t,Hi(c)?"ShallowReadonly":"Readonly"],"<",o(c),">"]:null:null},hasBody(c){return c&&c.__isVue},body(c){if(c&&c.__isVue)return["div",{},...s(c.$)]}};function s(c){const h=[];c.type.props&&c.props&&h.push(a("props",_e(c.props))),c.setupState!==Ke&&h.push(a("setup",c.setupState)),c.data!==Ke&&h.push(a("data",_e(c.data)));const d=l(c,"computed");d&&h.push(a("computed",d));const m=l(c,"inject");return m&&h.push(a("injected",m)),h.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:c}]]),h}function a(c,h){return h=Qe({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},c],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(d=>["div",{},["span",r,d+": "],o(h[d],!1)])]]:["span",{}]}function o(c,h=!0){return typeof c=="number"?["span",e,c]:typeof c=="string"?["span",n,JSON.stringify(c)]:typeof c=="boolean"?["span",r,c]:Ve(c)?["object",{object:h?_e(c):c}]:["span",n,String(c)]}function l(c,h){const d=c.type;if(pe(d))return;const m={};for(const p in c.ctx)u(d,p,h)&&(m[p]=c.ctx[p]);return m}function u(c,h,d){const m=c[d];if(ue(m)&&m.includes(h)||Ve(m)&&h in m||c.extends&&u(c.extends,h,d)||c.mixins&&c.mixins.some(p=>u(p,h,d)))return!0}function f(c){return Hi(c)?"ShallowRef":c.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}const gp="3.4.25",hi=process.env.NODE_ENV!=="production"?q:pt;process.env.NODE_ENV,process.env.NODE_ENV;/**
* @vue/runtime-dom v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ES="http://www.w3.org/2000/svg",SS="http://www.w3.org/1998/Math/MathML",di=typeof document<"u"?document:null,yp=di&&di.createElement("template"),wS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?di.createElementNS(ES,t):e==="mathml"?di.createElementNS(SS,t):di.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>di.createTextNode(t),createComment:t=>di.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>di.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{yp.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const o=yp.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},mi="transition",Aa="animation",Da=Symbol("_vtc"),xl=(t,{slots:e})=>pp(yE,xS(t),e);xl.displayName="Transition";const vp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};xl.props=Qe({},wm,vp);const es=(t,e=[])=>{ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},_p=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function xS(t){const e={};for(const D in t)D in vp||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:f=o,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,m=OS(i),p=m&&m[0],g=m&&m[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:b,onLeave:E,onLeaveCancelled:O,onBeforeAppear:N=y,onAppear:M=v,onAppearCancelled:P=b}=e,I=(D,Q,be)=>{ts(D,Q?f:o),ts(D,Q?u:a),be&&be()},C=(D,Q)=>{D._isLeaving=!1,ts(D,c),ts(D,d),ts(D,h),Q&&Q()},R=D=>(Q,be)=>{const T=D?M:v,$=()=>I(Q,D,be);es(T,[Q,$]),bp(()=>{ts(Q,D?l:s),pi(Q,D?f:o),_p(T)||Ep(Q,r,p,$)})};return Qe(e,{onBeforeEnter(D){es(y,[D]),pi(D,s),pi(D,a)},onBeforeAppear(D){es(N,[D]),pi(D,l),pi(D,u)},onEnter:R(!1),onAppear:R(!0),onLeave(D,Q){D._isLeaving=!0;const be=()=>C(D,Q);pi(D,c),pi(D,h),NS(),bp(()=>{!D._isLeaving||(ts(D,c),pi(D,d),_p(E)||Ep(D,r,g,be))}),es(E,[D,be])},onEnterCancelled(D){I(D,!1),es(b,[D])},onAppearCancelled(D){I(D,!0),es(P,[D])},onLeaveCancelled(D){C(D),es(O,[D])}})}function OS(t){if(t==null)return null;if(Ve(t))return[sf(t.enter),sf(t.leave)];{const e=sf(t);return[e,e]}}function sf(t){const e=dc(t);return process.env.NODE_ENV!=="production"&&V1(e,"<transition> explicit duration"),e}function pi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Da]||(t[Da]=new Set)).add(e)}function ts(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Da];n&&(n.delete(e),n.size||(t[Da]=void 0))}function bp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let MS=0;function Ep(t,e,n,r){const i=t._endId=++MS,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=TS(t,e);if(!a)return r();const u=a+"end";let f=0;const c=()=>{t.removeEventListener(u,h),s()},h=d=>{d.target===t&&++f>=l&&c()};setTimeout(()=>{f<l&&c()},o+1),t.addEventListener(u,h)}function TS(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r(`${mi}Delay`),s=r(`${mi}Duration`),a=Sp(i,s),o=r(`${Aa}Delay`),l=r(`${Aa}Duration`),u=Sp(o,l);let f=null,c=0,h=0;e===mi?a>0&&(f=mi,c=a,h=s.length):e===Aa?u>0&&(f=Aa,c=u,h=l.length):(c=Math.max(a,u),f=c>0?a>u?mi:Aa:null,h=f?f===mi?s.length:l.length:0);const d=f===mi&&/\b(transform|all)(,|$)/.test(r(`${mi}Property`).toString());return{type:f,timeout:c,propCount:h,hasTransform:d}}function Sp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>wp(n)+wp(t[r])))}function wp(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function NS(){return document.body.offsetHeight}function CS(t,e,n){const r=t[Da];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const xp=Symbol("_vod"),LS=Symbol("_vsh");process.env.NODE_ENV;const PS=Symbol(process.env.NODE_ENV!=="production"?"CSS_VAR_TEXT":""),kS=/(^|;)\s*display\s*:/;function AS(t,e,n){const r=t.style,i=rt(n);let s=!1;if(n&&!i){if(e)if(rt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&Ol(r,o,"")}else for(const a in e)n[a]==null&&Ol(r,a,"");for(const a in n)a==="display"&&(s=!0),Ol(r,a,n[a])}else if(i){if(e!==n){const a=r[PS];a&&(n+=";"+a),r.cssText=n,s=kS.test(n)}}else e&&t.removeAttribute("style");xp in t&&(t[xp]=s?r.display:"",t[LS]&&(r.display="none"))}const DS=/[^\\];\s*$/,Op=/\s*!important$/;function Ol(t,e,n){if(ue(n))n.forEach(r=>Ol(t,e,r));else if(n==null&&(n=""),process.env.NODE_ENV!=="production"&&DS.test(n)&&hi(`Unexpected semicolon at the end of '${e}' style value: '${n}'`),e.startsWith("--"))t.setProperty(e,n);else{const r=IS(t,e);Op.test(n)?t.setProperty(sn(r),n.replace(Op,""),"important"):t[r]=n}}const Mp=["Webkit","Moz","ms"],af={};function IS(t,e){const n=af[e];if(n)return n;let r=mn(e);if(r!=="filter"&&r in t)return af[e]=r;r=Gi(r);for(let i=0;i<Mp.length;i++){const s=Mp[i]+r;if(s in t)return af[e]=s}return e}const Tp="http://www.w3.org/1999/xlink";function RS(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Tp,e.slice(6,e.length)):t.setAttributeNS(Tp,e,n);else{const s=s1(e);n==null||s&&!Od(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function $S(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n==null?"":n;return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?t.getAttribute("value")||"":t.value,f=n==null?"":n;(u!==f||!("_value"in t))&&(t.value=f),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Od(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch(u){process.env.NODE_ENV!=="production"&&!l&&hi(`Failed setting prop "${e}" on <${o.toLowerCase()}>: value ${n} is invalid.`,u)}l&&t.removeAttribute(e)}function FS(t,e,n,r){t.addEventListener(e,n,r)}function VS(t,e,n,r){t.removeEventListener(e,n,r)}const Np=Symbol("_vei");function jS(t,e,n,r,i=null){const s=t[Np]||(t[Np]={}),a=s[e];if(r&&a)a.value=process.env.NODE_ENV!=="production"?Lp(r,e):r;else{const[o,l]=GS(e);if(r){const u=s[e]=WS(process.env.NODE_ENV!=="production"?Lp(r,e):r,i);FS(t,o,u,l)}else a&&(VS(t,o,a,l),s[e]=void 0)}}const Cp=/(?:Once|Passive|Capture)$/;function GS(t){let e;if(Cp.test(t)){e={};let r;for(;r=t.match(Cp);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):sn(t.slice(2)),e]}let of=0;const US=Promise.resolve(),BS=()=>of||(US.then(()=>of=0),of=Date.now());function WS(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;wn(qS(r,n.value),e,5,[r])};return n.value=t,n.attached=BS(),n}function Lp(t,e){return pe(t)||ue(t)?t:(hi(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof t}.`),pt)}function qS(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Pp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,HS=(t,e,n,r,i,s,a,o,l)=>{const u=i==="svg";e==="class"?CS(t,r,u):e==="style"?AS(t,n,r):da(e)?jo(e)||jS(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):zS(t,e,r,u))?$S(t,e,r,s,a,o,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),RS(t,e,r,u))};function zS(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Pp(e)&&pe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Pp(e)&&rt(n)?!1:e in t}const YS=["ctrl","shift","alt","meta"],XS={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>YS.some(n=>t[`${n}Key`]&&!e.includes(n))},lr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<e.length;a++){const o=XS[e[a]];if(o&&o(i,e))return}return t(i,...s)})},KS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ur=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=sn(i.key);if(e.some(a=>a===s||KS[a]===s))return t(i)})},ZS=Qe({patchProp:HS},wS);let kp;function Ap(){return kp||(kp=JE(ZS))}const Dp=(...t)=>{Ap().render(...t)},JS=(...t)=>{const e=Ap().createApp(...t);process.env.NODE_ENV!=="production"&&(ew(e),tw(e));const{mount:n}=e;return e.mount=r=>{const i=nw(r);if(!i)return;const s=e._component;!pe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,QS(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function QS(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ew(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>n1(e)||r1(e)||i1(e),writable:!1})}function tw(t){{const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){hi("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=t.config.compilerOptions,r='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(t.config,"compilerOptions",{get(){return hi(r),n},set(){hi(r)}})}}function nw(t){if(rt(t)){const e=document.querySelector(t);return process.env.NODE_ENV!=="production"&&!e&&hi(`Failed to mount app: mount target selector "${t}" returned null.`),e}return process.env.NODE_ENV!=="production"&&window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&hi('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}/**
* vue v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rw(){bS()}process.env.NODE_ENV!=="production"&&rw();/*! @license DOMPurify 2.5.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.0/LICENSE */function gi(t){return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(t)}function lf(t,e){return lf=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lf(t,e)}function iw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ml(t,e,n){return iw()?Ml=Reflect.construct:Ml=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&lf(u,a.prototype),u},Ml.apply(null,arguments)}function Un(t){return sw(t)||aw(t)||ow(t)||lw()}function sw(t){if(Array.isArray(t))return uf(t)}function aw(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ow(t,e){if(!!t){if(typeof t=="string")return uf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uf(t,e)}}function uf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var uw=Object.hasOwnProperty,Ip=Object.setPrototypeOf,cw=Object.isFrozen,fw=Object.getPrototypeOf,hw=Object.getOwnPropertyDescriptor,Jt=Object.freeze,Mn=Object.seal,dw=Object.create,Rp=typeof Reflect<"u"&&Reflect,Tl=Rp.apply,cf=Rp.construct;Tl||(Tl=function(e,n,r){return e.apply(n,r)}),Jt||(Jt=function(e){return e}),Mn||(Mn=function(e){return e}),cf||(cf=function(e,n){return Ml(e,Un(n))});var mw=Tn(Array.prototype.forEach),$p=Tn(Array.prototype.pop),Ia=Tn(Array.prototype.push),Nl=Tn(String.prototype.toLowerCase),ff=Tn(String.prototype.toString),Fp=Tn(String.prototype.match),Bn=Tn(String.prototype.replace),pw=Tn(String.prototype.indexOf),gw=Tn(String.prototype.trim),jt=Tn(RegExp.prototype.test),hf=yw(TypeError);function Tn(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Tl(t,e,r)}}function yw(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return cf(t,n)}}function Le(t,e,n){var r;n=(r=n)!==null&&r!==void 0?r:Nl,Ip&&Ip(t,null);for(var i=e.length;i--;){var s=e[i];if(typeof s=="string"){var a=n(s);a!==s&&(cw(e)||(e[i]=a),s=a)}t[s]=!0}return t}function ns(t){var e=dw(null),n;for(n in t)Tl(uw,t,[n])===!0&&(e[n]=t[n]);return e}function Cl(t,e){for(;t!==null;){var n=hw(t,e);if(n){if(n.get)return Tn(n.get);if(typeof n.value=="function")return Tn(n.value)}t=fw(t)}function r(i){return console.warn("fallback value for",i),null}return r}var Vp=Jt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),df=Jt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),mf=Jt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),vw=Jt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pf=Jt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),_w=Jt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),jp=Jt(["#text"]),Gp=Jt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),gf=Jt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Up=Jt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ll=Jt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bw=Mn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ew=Mn(/<%[\w\W]*|[\w\W]*%>/gm),Sw=Mn(/\${[\w\W]*}/gm),ww=Mn(/^data-[\-\w.\u00B7-\uFFFF]/),xw=Mn(/^aria-[\-\w]+$/),Ow=Mn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Mw=Mn(/^(?:\w+script|data):/i),Tw=Mn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Nw=Mn(/^html$/i),Cw=Mn(/^[a-z][.\w]*(-[.\w]+)+$/i),Lw=function(){return typeof window>"u"?null:window},Pw=function(e,n){if(gi(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML:function(o){return o},createScriptURL:function(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function Bp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lw(),e=function(w){return Bp(w)};if(e.version="2.5.0",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,o=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,f=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,c=t.HTMLFormElement,h=t.DOMParser,d=t.trustedTypes,m=o.prototype,p=Cl(m,"cloneNode"),g=Cl(m,"nextSibling"),y=Cl(m,"childNodes"),v=Cl(m,"parentNode");if(typeof s=="function"){var b=r.createElement("template");b.content&&b.content.ownerDocument&&(r=b.content.ownerDocument)}var E=Pw(d,n),O=E?E.createHTML(""):"",N=r,M=N.implementation,P=N.createNodeIterator,I=N.createDocumentFragment,C=N.getElementsByTagName,R=n.importNode,D={};try{D=ns(r).documentMode?r.documentMode:{}}catch{}var Q={};e.isSupported=typeof v=="function"&&M&&M.createHTMLDocument!==void 0&&D!==9;var be=bw,T=Ew,$=Sw,z=ww,K=xw,Pe=Mw,ke=Tw,_t=Cw,Xt=Ow,Ne=null,Rt=Le({},[].concat(Un(Vp),Un(df),Un(mf),Un(pf),Un(jp))),lt=null,Mr=Le({},[].concat(Un(Gp),Un(gf),Un(Up),Un(Ll))),Ie=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),fn=null,Tr=null,Kr=!0,$t=!0,Nr=!1,Zr=!0,_=!1,S=!0,A=!1,V=!1,j=!1,W=!1,Z=!1,B=!1,X=!0,U=!1,re="user-content-",ce=!0,le=!1,me={},Te=null,Fe=Le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),tt=null,bt=Le({},["audio","video","img","source","image","track"]),rn=null,Jr=Le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ss="http://www.w3.org/1998/Math/MathML",Cr="http://www.w3.org/2000/svg",Fn="http://www.w3.org/1999/xhtml",mt=Fn,hn=!1,fa=null,GR=Le({},[Ss,Cr,Fn],ff),ws,UR=["application/xhtml+xml","text/html"],BR="text/html",Ct,ha=null,WR=r.createElement("form"),Z_=function(w){return w instanceof RegExp||w instanceof Function},cd=function(w){ha&&ha===w||((!w||gi(w)!=="object")&&(w={}),w=ns(w),ws=UR.indexOf(w.PARSER_MEDIA_TYPE)===-1?ws=BR:ws=w.PARSER_MEDIA_TYPE,Ct=ws==="application/xhtml+xml"?ff:Nl,Ne="ALLOWED_TAGS"in w?Le({},w.ALLOWED_TAGS,Ct):Rt,lt="ALLOWED_ATTR"in w?Le({},w.ALLOWED_ATTR,Ct):Mr,fa="ALLOWED_NAMESPACES"in w?Le({},w.ALLOWED_NAMESPACES,ff):GR,rn="ADD_URI_SAFE_ATTR"in w?Le(ns(Jr),w.ADD_URI_SAFE_ATTR,Ct):Jr,tt="ADD_DATA_URI_TAGS"in w?Le(ns(bt),w.ADD_DATA_URI_TAGS,Ct):bt,Te="FORBID_CONTENTS"in w?Le({},w.FORBID_CONTENTS,Ct):Fe,fn="FORBID_TAGS"in w?Le({},w.FORBID_TAGS,Ct):{},Tr="FORBID_ATTR"in w?Le({},w.FORBID_ATTR,Ct):{},me="USE_PROFILES"in w?w.USE_PROFILES:!1,Kr=w.ALLOW_ARIA_ATTR!==!1,$t=w.ALLOW_DATA_ATTR!==!1,Nr=w.ALLOW_UNKNOWN_PROTOCOLS||!1,Zr=w.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_=w.SAFE_FOR_TEMPLATES||!1,S=w.SAFE_FOR_XML!==!1,A=w.WHOLE_DOCUMENT||!1,W=w.RETURN_DOM||!1,Z=w.RETURN_DOM_FRAGMENT||!1,B=w.RETURN_TRUSTED_TYPE||!1,j=w.FORCE_BODY||!1,X=w.SANITIZE_DOM!==!1,U=w.SANITIZE_NAMED_PROPS||!1,ce=w.KEEP_CONTENT!==!1,le=w.IN_PLACE||!1,Xt=w.ALLOWED_URI_REGEXP||Xt,mt=w.NAMESPACE||Fn,Ie=w.CUSTOM_ELEMENT_HANDLING||{},w.CUSTOM_ELEMENT_HANDLING&&Z_(w.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ie.tagNameCheck=w.CUSTOM_ELEMENT_HANDLING.tagNameCheck),w.CUSTOM_ELEMENT_HANDLING&&Z_(w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ie.attributeNameCheck=w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),w.CUSTOM_ELEMENT_HANDLING&&typeof w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ie.allowCustomizedBuiltInElements=w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_&&($t=!1),Z&&(W=!0),me&&(Ne=Le({},Un(jp)),lt=[],me.html===!0&&(Le(Ne,Vp),Le(lt,Gp)),me.svg===!0&&(Le(Ne,df),Le(lt,gf),Le(lt,Ll)),me.svgFilters===!0&&(Le(Ne,mf),Le(lt,gf),Le(lt,Ll)),me.mathMl===!0&&(Le(Ne,pf),Le(lt,Up),Le(lt,Ll))),w.ADD_TAGS&&(Ne===Rt&&(Ne=ns(Ne)),Le(Ne,w.ADD_TAGS,Ct)),w.ADD_ATTR&&(lt===Mr&&(lt=ns(lt)),Le(lt,w.ADD_ATTR,Ct)),w.ADD_URI_SAFE_ATTR&&Le(rn,w.ADD_URI_SAFE_ATTR,Ct),w.FORBID_CONTENTS&&(Te===Fe&&(Te=ns(Te)),Le(Te,w.FORBID_CONTENTS,Ct)),ce&&(Ne["#text"]=!0),A&&Le(Ne,["html","head","body"]),Ne.table&&(Le(Ne,["tbody"]),delete fn.tbody),Jt&&Jt(w),ha=w)},J_=Le({},["mi","mo","mn","ms","mtext"]),Q_=Le({},["foreignobject","desc","title","annotation-xml"]),qR=Le({},["title","style","font","a","script"]),oc=Le({},df);Le(oc,mf),Le(oc,vw);var fd=Le({},pf);Le(fd,_w);var HR=function(w){var Y=v(w);(!Y||!Y.tagName)&&(Y={namespaceURI:mt,tagName:"template"});var ie=Nl(w.tagName),qe=Nl(Y.tagName);return fa[w.namespaceURI]?w.namespaceURI===Cr?Y.namespaceURI===Fn?ie==="svg":Y.namespaceURI===Ss?ie==="svg"&&(qe==="annotation-xml"||J_[qe]):Boolean(oc[ie]):w.namespaceURI===Ss?Y.namespaceURI===Fn?ie==="math":Y.namespaceURI===Cr?ie==="math"&&Q_[qe]:Boolean(fd[ie]):w.namespaceURI===Fn?Y.namespaceURI===Cr&&!Q_[qe]||Y.namespaceURI===Ss&&!J_[qe]?!1:!fd[ie]&&(qR[ie]||!oc[ie]):!!(ws==="application/xhtml+xml"&&fa[w.namespaceURI]):!1},tr=function(w){Ia(e.removed,{element:w});try{w.parentNode.removeChild(w)}catch{try{w.outerHTML=O}catch{w.remove()}}},hd=function(w,Y){try{Ia(e.removed,{attribute:Y.getAttributeNode(w),from:Y})}catch{Ia(e.removed,{attribute:null,from:Y})}if(Y.removeAttribute(w),w==="is"&&!lt[w])if(W||Z)try{tr(Y)}catch{}else try{Y.setAttribute(w,"")}catch{}},eb=function(w){var Y,ie;if(j)w="<remove></remove>"+w;else{var qe=Fp(w,/^[\r\n\t ]+/);ie=qe&&qe[0]}ws==="application/xhtml+xml"&&mt===Fn&&(w='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w+"</body></html>");var dn=E?E.createHTML(w):w;if(mt===Fn)try{Y=new h().parseFromString(dn,ws)}catch{}if(!Y||!Y.documentElement){Y=M.createDocument(mt,"template",null);try{Y.documentElement.innerHTML=hn?O:dn}catch{}}var Kt=Y.body||Y.documentElement;return w&&ie&&Kt.insertBefore(r.createTextNode(ie),Kt.childNodes[0]||null),mt===Fn?C.call(Y,A?"html":"body")[0]:A?Y.documentElement:Kt},tb=function(w){return P.call(w.ownerDocument||w,w,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},zR=function(w){return w instanceof c&&(typeof w.nodeName!="string"||typeof w.textContent!="string"||typeof w.removeChild!="function"||!(w.attributes instanceof f)||typeof w.removeAttribute!="function"||typeof w.setAttribute!="function"||typeof w.namespaceURI!="string"||typeof w.insertBefore!="function"||typeof w.hasChildNodes!="function")},$o=function(w){return gi(a)==="object"?w instanceof a:w&&gi(w)==="object"&&typeof w.nodeType=="number"&&typeof w.nodeName=="string"},Qr=function(w,Y,ie){!Q[w]||mw(Q[w],function(qe){qe.call(e,Y,ie,ha)})},nb=function(w){var Y;if(Qr("beforeSanitizeElements",w,null),zR(w)||jt(/[\u0080-\uFFFF]/,w.nodeName))return tr(w),!0;var ie=Ct(w.nodeName);if(Qr("uponSanitizeElement",w,{tagName:ie,allowedTags:Ne}),w.hasChildNodes()&&!$o(w.firstElementChild)&&(!$o(w.content)||!$o(w.content.firstElementChild))&&jt(/<[/\w]/g,w.innerHTML)&&jt(/<[/\w]/g,w.textContent)||ie==="select"&&jt(/<template/i,w.innerHTML)||w.nodeType===7||S&&w.nodeType===8&&jt(/<[/\w]/g,w.data))return tr(w),!0;if(!Ne[ie]||fn[ie]){if(!fn[ie]&&ib(ie)&&(Ie.tagNameCheck instanceof RegExp&&jt(Ie.tagNameCheck,ie)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(ie)))return!1;if(ce&&!Te[ie]){var qe=v(w)||w.parentNode,dn=y(w)||w.childNodes;if(dn&&qe)for(var Kt=dn.length,Ft=Kt-1;Ft>=0;--Ft)qe.insertBefore(p(dn[Ft],!0),g(w))}return tr(w),!0}return w instanceof o&&!HR(w)||(ie==="noscript"||ie==="noembed"||ie==="noframes")&&jt(/<\/no(script|embed|frames)/i,w.innerHTML)?(tr(w),!0):(_&&w.nodeType===3&&(Y=w.textContent,Y=Bn(Y,be," "),Y=Bn(Y,T," "),Y=Bn(Y,$," "),w.textContent!==Y&&(Ia(e.removed,{element:w.cloneNode()}),w.textContent=Y)),Qr("afterSanitizeElements",w,null),!1)},rb=function(w,Y,ie){if(X&&(Y==="id"||Y==="name")&&(ie in r||ie in WR))return!1;if(!($t&&!Tr[Y]&&jt(z,Y))){if(!(Kr&&jt(K,Y))){if(!lt[Y]||Tr[Y]){if(!(ib(w)&&(Ie.tagNameCheck instanceof RegExp&&jt(Ie.tagNameCheck,w)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(w))&&(Ie.attributeNameCheck instanceof RegExp&&jt(Ie.attributeNameCheck,Y)||Ie.attributeNameCheck instanceof Function&&Ie.attributeNameCheck(Y))||Y==="is"&&Ie.allowCustomizedBuiltInElements&&(Ie.tagNameCheck instanceof RegExp&&jt(Ie.tagNameCheck,ie)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(ie))))return!1}else if(!rn[Y]){if(!jt(Xt,Bn(ie,ke,""))){if(!((Y==="src"||Y==="xlink:href"||Y==="href")&&w!=="script"&&pw(ie,"data:")===0&&tt[w])){if(!(Nr&&!jt(Pe,Bn(ie,ke,"")))){if(ie)return!1}}}}}}return!0},ib=function(w){return w!=="annotation-xml"&&Fp(w,_t)},sb=function(w){var Y,ie,qe,dn;Qr("beforeSanitizeAttributes",w,null);var Kt=w.attributes;if(!!Kt){var Ft={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:lt};for(dn=Kt.length;dn--;){Y=Kt[dn];var lc=Y,Lt=lc.name,dd=lc.namespaceURI;if(ie=Lt==="value"?Y.value:gw(Y.value),qe=Ct(Lt),Ft.attrName=qe,Ft.attrValue=ie,Ft.keepAttr=!0,Ft.forceKeepAttr=void 0,Qr("uponSanitizeAttribute",w,Ft),ie=Ft.attrValue,!Ft.forceKeepAttr&&(hd(Lt,w),!!Ft.keepAttr)){if(!Zr&&jt(/\/>/i,ie)){hd(Lt,w);continue}_&&(ie=Bn(ie,be," "),ie=Bn(ie,T," "),ie=Bn(ie,$," "));var ab=Ct(w.nodeName);if(!!rb(ab,qe,ie)){if(U&&(qe==="id"||qe==="name")&&(hd(Lt,w),ie=re+ie),E&&gi(d)==="object"&&typeof d.getAttributeType=="function"&&!dd)switch(d.getAttributeType(ab,qe)){case"TrustedHTML":{ie=E.createHTML(ie);break}case"TrustedScriptURL":{ie=E.createScriptURL(ie);break}}try{dd?w.setAttributeNS(dd,Lt,ie):w.setAttribute(Lt,ie),$p(e.removed)}catch{}}}}Qr("afterSanitizeAttributes",w,null)}},YR=function fe(w){var Y,ie=tb(w);for(Qr("beforeSanitizeShadowDOM",w,null);Y=ie.nextNode();)Qr("uponSanitizeShadowNode",Y,null),!nb(Y)&&(Y.content instanceof i&&fe(Y.content),sb(Y));Qr("afterSanitizeShadowDOM",w,null)};return e.sanitize=function(fe){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y,ie,qe,dn,Kt;if(hn=!fe,hn&&(fe="<!-->"),typeof fe!="string"&&!$o(fe))if(typeof fe.toString=="function"){if(fe=fe.toString(),typeof fe!="string")throw hf("dirty is not a string, aborting")}else throw hf("toString is not a function");if(!e.isSupported){if(gi(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof fe=="string")return t.toStaticHTML(fe);if($o(fe))return t.toStaticHTML(fe.outerHTML)}return fe}if(V||cd(w),e.removed=[],typeof fe=="string"&&(le=!1),le){if(fe.nodeName){var Ft=Ct(fe.nodeName);if(!Ne[Ft]||fn[Ft])throw hf("root node is forbidden and cannot be sanitized in-place")}}else if(fe instanceof a)Y=eb("<!---->"),ie=Y.ownerDocument.importNode(fe,!0),ie.nodeType===1&&ie.nodeName==="BODY"||ie.nodeName==="HTML"?Y=ie:Y.appendChild(ie);else{if(!W&&!_&&!A&&fe.indexOf("<")===-1)return E&&B?E.createHTML(fe):fe;if(Y=eb(fe),!Y)return W?null:B?O:""}Y&&j&&tr(Y.firstChild);for(var lc=tb(le?fe:Y);qe=lc.nextNode();)qe.nodeType===3&&qe===dn||nb(qe)||(qe.content instanceof i&&YR(qe.content),sb(qe),dn=qe);if(dn=null,le)return fe;if(W){if(Z)for(Kt=I.call(Y.ownerDocument);Y.firstChild;)Kt.appendChild(Y.firstChild);else Kt=Y;return(lt.shadowroot||lt.shadowrootmod)&&(Kt=R.call(n,Kt,!0)),Kt}var Lt=A?Y.outerHTML:Y.innerHTML;return A&&Ne["!doctype"]&&Y.ownerDocument&&Y.ownerDocument.doctype&&Y.ownerDocument.doctype.name&&jt(Nw,Y.ownerDocument.doctype.name)&&(Lt="<!DOCTYPE "+Y.ownerDocument.doctype.name+`>
`+Lt),_&&(Lt=Bn(Lt,be," "),Lt=Bn(Lt,T," "),Lt=Bn(Lt,$," ")),E&&B?E.createHTML(Lt):Lt},e.setConfig=function(fe){cd(fe),V=!0},e.clearConfig=function(){ha=null,V=!1},e.isValidAttribute=function(fe,w,Y){ha||cd({});var ie=Ct(fe),qe=Ct(w);return rb(ie,qe,Y)},e.addHook=function(fe,w){typeof w=="function"&&(Q[fe]=Q[fe]||[],Ia(Q[fe],w))},e.removeHook=function(fe){if(Q[fe])return $p(Q[fe])},e.removeHooks=function(fe){Q[fe]&&(Q[fe]=[])},e.removeAllHooks=function(){Q={}},e}var kw=Bp();function Aw(t,e){var i;const n=(i=t.hooks)!=null?i:{};let r;for(r in n){const s=n[r];s!==void 0&&e.addHook(r,s)}}function Wp(){return kw()}function Dw(t={},e=Wp){const n=e();Aw(t,n);const r=function(i,s){var c,h;const a=s.value;if(s.oldValue===a)return;const o=`${a}`,l=s.arg,u=t.namedConfigurations,f=(c=t.default)!=null?c:{};if(u&&l!==void 0){i.innerHTML=n.sanitize(o,(h=u[l])!=null?h:f);return}i.innerHTML=n.sanitize(o,f)};return{mounted:r,updated:r}}const qp={install(t,e={},n=Wp){t.directive("dompurify-html",Dw(e,n))}};var yf=!1;function Pl(t,e,n){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,n),n):(t[e]=n,n)}function vf(t,e){if(Array.isArray(t)){t.splice(e,1);return}delete t[e]}function Iw(){return Hp().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Hp(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Rw=typeof Proxy=="function",$w="devtools-plugin:setup",Fw="plugin:settings:set";let Ps,_f;function Vw(){var t;return Ps!==void 0||(typeof window<"u"&&window.performance?(Ps=!0,_f=window.performance):typeof globalThis<"u"&&((t=globalThis.perf_hooks)===null||t===void 0?void 0:t.performance)?(Ps=!0,_f=globalThis.perf_hooks.performance):Ps=!1),Ps}function jw(){return Vw()?_f.now():Date.now()}class Gw{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const o=e.settings[a];r[a]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return jw()}},n&&n.on(Fw,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:o,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function zp(t,e){const n=t,r=Hp(),i=Iw(),s=Rw&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit($w,t,e);else{const a=s?new Gw(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Ra;const $a=t=>Ra=t,Yp=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function rs(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var cr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(cr||(cr={}));const kl=typeof window<"u",Fa=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&kl,Xp=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function Uw(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function bf(t,e,n){const r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Jp(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function Kp(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Al(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const Dl=typeof navigator=="object"?navigator:{userAgent:""},Zp=(()=>/Macintosh/.test(Dl.userAgent)&&/AppleWebKit/.test(Dl.userAgent)&&!/Safari/.test(Dl.userAgent))(),Jp=kl?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Zp?Bw:"msSaveOrOpenBlob"in Dl?Ww:qw:()=>{};function Bw(t,e="download",n){const r=document.createElement("a");r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?Kp(r.href)?bf(t,e,n):(r.target="_blank",Al(r)):Al(r)):(r.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Al(r)},0))}function Ww(t,e="download",n){if(typeof t=="string")if(Kp(t))bf(t,e,n);else{const r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Al(r)})}else navigator.msSaveOrOpenBlob(Uw(t,n),e)}function qw(t,e,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return bf(t,e,n);const i=t.type==="application/octet-stream",s=/constructor/i.test(String(Xp.HTMLElement))||"safari"in Xp,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s||Zp)&&typeof FileReader<"u"){const o=new FileReader;o.onloadend=function(){let l=o.result;if(typeof l!="string")throw r=null,new Error("Wrong reader.result type");l=a?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=l:location.assign(l),r=null},o.readAsDataURL(t)}else{const o=URL.createObjectURL(t);r?r.location.assign(o):location.href=o,r=null,setTimeout(function(){URL.revokeObjectURL(o)},4e4)}}function Nt(t,e){const n="\u{1F34D} "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,e):e==="error"?console.error(n):e==="warn"?console.warn(n):console.log(n)}function Ef(t){return"_a"in t&&"install"in t}function Qp(){if(!("clipboard"in navigator))return Nt("Your browser doesn't support the Clipboard API","error"),!0}function eg(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(Nt('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function Hw(t){if(!Qp())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),Nt("Global state copied to clipboard.")}catch(e){if(eg(e))return;Nt("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function zw(t){if(!Qp())try{tg(t,JSON.parse(await navigator.clipboard.readText())),Nt("Global state pasted from clipboard.")}catch(e){if(eg(e))return;Nt("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function Yw(t){try{Jp(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){Nt("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let Vr;function Xw(){Vr||(Vr=document.createElement("input"),Vr.type="file",Vr.accept=".json");function t(){return new Promise((e,n)=>{Vr.onchange=async()=>{const r=Vr.files;if(!r)return e(null);const i=r.item(0);return e(i?{text:await i.text(),file:i}:null)},Vr.oncancel=()=>e(null),Vr.onerror=n,Vr.click()})}return t}async function Kw(t){try{const n=await Xw()();if(!n)return;const{text:r,file:i}=n;tg(t,JSON.parse(r)),Nt(`Global state imported from "${i.name}".`)}catch(e){Nt("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function tg(t,e){for(const n in e){const r=t.state.value[n];r?Object.assign(r,e[n]):t.state.value[n]=e[n]}}function Wn(t){return{_custom:{display:t}}}const ng="\u{1F34D} Pinia (root)",Sf="_root";function Zw(t){return Ef(t)?{id:Sf,label:ng}:{id:t.$id,label:t.$id}}function Jw(t){if(Ef(t)){const n=Array.from(t._s.keys()),r=t._s;return{state:n.map(s=>({editable:!0,key:s,value:t.state.value[s]})),getters:n.filter(s=>r.get(s)._getters).map(s=>{const a=r.get(s);return{editable:!1,key:s,value:a._getters.reduce((o,l)=>(o[l]=a[l],o),{})}})}}const e={state:Object.keys(t.$state).map(n=>({editable:!0,key:n,value:t.$state[n]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(n=>({editable:!1,key:n,value:t[n]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(n=>({editable:!0,key:n,value:t[n]}))),e}function Qw(t){return t?Array.isArray(t)?t.reduce((e,n)=>(e.keys.push(n.key),e.operations.push(n.type),e.oldValue[n.key]=n.oldValue,e.newValue[n.key]=n.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Wn(t.type),key:Wn(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function ex(t){switch(t){case cr.direct:return"mutation";case cr.patchFunction:return"$patch";case cr.patchObject:return"$patch";default:return"unknown"}}let ks=!0;const Il=[],is="pinia:mutations",Gt="pinia",{assign:tx}=Object,Rl=t=>"\u{1F34D} "+t;function nx(t,e){zp({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Il,app:t},n=>{typeof n.now!="function"&&Nt("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:is,label:"Pinia \u{1F34D}",color:15064968}),n.addInspector({id:Gt,label:"Pinia \u{1F34D}",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{Hw(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await zw(e),n.sendInspectorTree(Gt),n.sendInspectorState(Gt)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{Yw(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await Kw(e),n.sendInspectorTree(Gt),n.sendInspectorState(Gt)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:r=>{const i=e._s.get(r);i?typeof i.$reset!="function"?Nt(`Cannot reset "${r}" store because it doesn't have a "$reset" method implemented.`,"warn"):(i.$reset(),Nt(`Store "${r}" reset.`)):Nt(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((r,i)=>{const s=r.componentInstance&&r.componentInstance.proxy;if(s&&s._pStores){const a=r.componentInstance.proxy._pStores;Object.values(a).forEach(o=>{r.instanceData.state.push({type:Rl(o.$id),key:"state",editable:!0,value:o._isOptionsAPI?{_custom:{value:_e(o.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>o.$reset()}]}}:Object.keys(o.$state).reduce((l,u)=>(l[u]=o.$state[u],l),{})}),o._getters&&o._getters.length&&r.instanceData.state.push({type:Rl(o.$id),key:"getters",editable:!1,value:o._getters.reduce((l,u)=>{try{l[u]=o[u]}catch(f){l[u]=f}return l},{})})})}}),n.on.getInspectorTree(r=>{if(r.app===t&&r.inspectorId===Gt){let i=[e];i=i.concat(Array.from(e._s.values())),r.rootNodes=(r.filter?i.filter(s=>"$id"in s?s.$id.toLowerCase().includes(r.filter.toLowerCase()):ng.toLowerCase().includes(r.filter.toLowerCase())):i).map(Zw)}}),n.on.getInspectorState(r=>{if(r.app===t&&r.inspectorId===Gt){const i=r.nodeId===Sf?e:e._s.get(r.nodeId);if(!i)return;i&&(r.state=Jw(i))}}),n.on.editInspectorState((r,i)=>{if(r.app===t&&r.inspectorId===Gt){const s=r.nodeId===Sf?e:e._s.get(r.nodeId);if(!s)return Nt(`store "${r.nodeId}" not found`,"error");const{path:a}=r;Ef(s)?a.unshift("state"):(a.length!==1||!s._customProperties.has(a[0])||a[0]in s.$state)&&a.unshift("$state"),ks=!1,r.set(s,a,r.state.value),ks=!0}}),n.on.editComponentState(r=>{if(r.type.startsWith("\u{1F34D}")){const i=r.type.replace(/^\s*/,""),s=e._s.get(i);if(!s)return Nt(`store "${i}" not found`,"error");const{path:a}=r;if(a[0]!=="state")return Nt(`Invalid path for store "${i}":
${a}
Only state can be modified.`);a[0]="$state",ks=!1,r.set(s,a,r.state.value),ks=!0}})})}function rx(t,e){Il.includes(Rl(e.$id))||Il.push(Rl(e.$id)),zp({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Il,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const r=typeof n.now=="function"?n.now.bind(n):Date.now;e.$onAction(({after:a,onError:o,name:l,args:u})=>{const f=rg++;n.addTimelineEvent({layerId:is,event:{time:r(),title:"\u{1F6EB} "+l,subtitle:"start",data:{store:Wn(e.$id),action:Wn(l),args:u},groupId:f}}),a(c=>{yi=void 0,n.addTimelineEvent({layerId:is,event:{time:r(),title:"\u{1F6EC} "+l,subtitle:"end",data:{store:Wn(e.$id),action:Wn(l),args:u,result:c},groupId:f}})}),o(c=>{yi=void 0,n.addTimelineEvent({layerId:is,event:{time:r(),logType:"error",title:"\u{1F4A5} "+l,subtitle:"end",data:{store:Wn(e.$id),action:Wn(l),args:u,error:c},groupId:f}})})},!0),e._customProperties.forEach(a=>{et(()=>x(e[a]),(o,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(Gt),ks&&n.addTimelineEvent({layerId:is,event:{time:r(),title:"Change",subtitle:a,data:{newValue:o,oldValue:l},groupId:yi}})},{deep:!0})}),e.$subscribe(({events:a,type:o},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(Gt),!ks)return;const u={time:r(),title:ex(o),data:tx({store:Wn(e.$id)},Qw(a)),groupId:yi};o===cr.patchFunction?u.subtitle="\u2935\uFE0F":o===cr.patchObject?u.subtitle="\u{1F9E9}":a&&!Array.isArray(a)&&(u.subtitle=a.type),a&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:a}}),n.addTimelineEvent({layerId:is,event:u})},{detached:!0,flush:"sync"});const i=e._hotUpdate;e._hotUpdate=ii(a=>{i(a),n.addTimelineEvent({layerId:is,event:{time:r(),title:"\u{1F525} "+e.$id,subtitle:"HMR update",data:{store:Wn(e.$id),info:Wn("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(Gt),n.sendInspectorState(Gt)});const{$dispose:s}=e;e.$dispose=()=>{s(),n.notifyComponentUpdate(),n.sendInspectorTree(Gt),n.sendInspectorState(Gt),n.getSettings().logStoreChanges&&Nt(`Disposed "${e.$id}" store \u{1F5D1}`)},n.notifyComponentUpdate(),n.sendInspectorTree(Gt),n.sendInspectorState(Gt),n.getSettings().logStoreChanges&&Nt(`"${e.$id}" store installed \u{1F195}`)})}let rg=0,yi;function ig(t,e,n){const r=e.reduce((i,s)=>(i[s]=_e(t)[s],i),{});for(const i in r)t[i]=function(){const s=rg,a=n?new Proxy(t,{get(...l){return yi=s,Reflect.get(...l)},set(...l){return yi=s,Reflect.set(...l)}}):t;yi=s;const o=r[i].apply(a,arguments);return yi=void 0,o}}function ix({app:t,store:e,options:n}){if(e.$id.startsWith("__hot:"))return;e._isOptionsAPI=!!n.state,ig(e,Object.keys(n.actions),e._isOptionsAPI);const r=e._hotUpdate;_e(e)._hotUpdate=function(i){r.apply(this,arguments),ig(e,Object.keys(i._hmrPayload.actions),!!e._isOptionsAPI)},rx(t,e)}function sg(){const t=Nd(!0),e=t.run(()=>Se({}));let n=[],r=[];const i=ii({install(s){$a(i),i._a=s,s.provide(Yp,i),s.config.globalProperties.$pinia=i,Fa&&nx(s,i),r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!yf?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return Fa&&typeof Proxy<"u"&&i.use(ix),i}function ag(t,e){for(const n in e){const r=e[n];if(!(n in t))continue;const i=t[n];rs(i)&&rs(r)&&!Ye(r)&&!ir(r)?t[n]=ag(i,r):t[n]=r}return t}const og=()=>{};function lg(t,e,n,r=og){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Cd()&&o1(i),i}function As(t,...e){t.slice().forEach(n=>{n(...e)})}const sx=t=>t();function wf(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];rs(i)&&rs(r)&&t.hasOwnProperty(n)&&!Ye(r)&&!ir(r)?t[n]=wf(i,r):t[n]=r}return t}const ax=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function ox(t){return!rs(t)||!t.hasOwnProperty(ax)}const{assign:Nn}=Object;function ug(t){return!!(Ye(t)&&t.effect)}function cg(t,e,n,r){const{state:i,actions:s,getters:a}=e,o=n.state.value[t];let l;function u(){!o&&(process.env.NODE_ENV==="production"||!r)&&(n.state.value[t]=i?i():{});const f=process.env.NODE_ENV!=="production"&&r?wc(Se(i?i():{}).value):wc(n.state.value[t]);return Nn(f,s,Object.keys(a||{}).reduce((c,h)=>(process.env.NODE_ENV!=="production"&&h in f&&console.warn(`[\u{1F34D}]: A getter cannot have the same name as another state property. Rename one of them. Found with "${h}" in store "${t}".`),c[h]=ii(de(()=>{$a(n);const d=n._s.get(t);return a[h].call(d,d)})),c),{}))}return l=xf(t,u,e,n,r,!0),l}function xf(t,e,n={},r,i,s){let a;const o=Nn({actions:{}},n);if(process.env.NODE_ENV!=="production"&&!r._e.active)throw new Error("Pinia destroyed");const l={deep:!0};process.env.NODE_ENV!=="production"&&!yf&&(l.onTrigger=C=>{u?d=C:u==!1&&!M._hotUpdating&&(Array.isArray(d)?d.push(C):console.error("\u{1F34D} debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let u,f,c=[],h=[],d;const m=r.state.value[t];!s&&!m&&(process.env.NODE_ENV==="production"||!i)&&(r.state.value[t]={});const p=Se({});let g;function y(C){let R;u=f=!1,process.env.NODE_ENV!=="production"&&(d=[]),typeof C=="function"?(C(r.state.value[t]),R={type:cr.patchFunction,storeId:t,events:d}):(wf(r.state.value[t],C),R={type:cr.patchObject,payload:C,storeId:t,events:d});const D=g=Symbol();sl().then(()=>{g===D&&(u=!0)}),f=!0,As(c,R,r.state.value[t])}const v=s?function(){const{state:R}=n,D=R?R():{};this.$patch(Q=>{Nn(Q,D)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`\u{1F34D}: Store "${t}" is built using the setup syntax and does not implement $reset().`)}:og;function b(){a.stop(),c=[],h=[],r._s.delete(t)}function E(C,R){return function(){$a(r);const D=Array.from(arguments),Q=[],be=[];function T(K){Q.push(K)}function $(K){be.push(K)}As(h,{args:D,name:C,store:M,after:T,onError:$});let z;try{z=R.apply(this&&this.$id===t?this:M,D)}catch(K){throw As(be,K),K}return z instanceof Promise?z.then(K=>(As(Q,K),K)).catch(K=>(As(be,K),Promise.reject(K))):(As(Q,z),z)}}const O=ii({actions:{},getters:{},state:[],hotState:p}),N={_p:r,$id:t,$onAction:lg.bind(null,h),$patch:y,$reset:v,$subscribe(C,R={}){const D=lg(c,C,R.detached,()=>Q()),Q=a.run(()=>et(()=>r.state.value[t],be=>{(R.flush==="sync"?f:u)&&C({storeId:t,type:cr.direct,events:d},be)},Nn({},l,R)));return D},$dispose:b},M=Jo(process.env.NODE_ENV!=="production"||Fa?Nn({_hmrPayload:O,_customProperties:ii(new Set)},N):N);r._s.set(t,M);const I=(r._a&&r._a.runWithContext||sx)(()=>r._e.run(()=>(a=Nd()).run(e)));for(const C in I){const R=I[C];if(Ye(R)&&!ug(R)||ir(R))process.env.NODE_ENV!=="production"&&i?Pl(p.value,C,nl(I,C)):s||(m&&ox(R)&&(Ye(R)?R.value=m[C]:wf(R,m[C])),r.state.value[t][C]=R),process.env.NODE_ENV!=="production"&&O.state.push(C);else if(typeof R=="function"){const D=process.env.NODE_ENV!=="production"&&i?R:E(C,R);I[C]=D,process.env.NODE_ENV!=="production"&&(O.actions[C]=R),o.actions[C]=R}else process.env.NODE_ENV!=="production"&&ug(R)&&(O.getters[C]=s?n.getters[C]:R,kl&&(I._getters||(I._getters=ii([]))).push(C))}if(Nn(M,I),Nn(_e(M),I),Object.defineProperty(M,"$state",{get:()=>process.env.NODE_ENV!=="production"&&i?p.value:r.state.value[t],set:C=>{if(process.env.NODE_ENV!=="production"&&i)throw new Error("cannot set hotState");y(R=>{Nn(R,C)})}}),process.env.NODE_ENV!=="production"&&(M._hotUpdate=ii(C=>{M._hotUpdating=!0,C._hmrPayload.state.forEach(R=>{if(R in M.$state){const D=C.$state[R],Q=M.$state[R];typeof D=="object"&&rs(D)&&rs(Q)?ag(D,Q):C.$state[R]=Q}Pl(M,R,nl(C.$state,R))}),Object.keys(M.$state).forEach(R=>{R in C.$state||vf(M,R)}),u=!1,f=!1,r.state.value[t]=nl(C._hmrPayload,"hotState"),f=!0,sl().then(()=>{u=!0});for(const R in C._hmrPayload.actions){const D=C[R];Pl(M,R,E(R,D))}for(const R in C._hmrPayload.getters){const D=C._hmrPayload.getters[R],Q=s?de(()=>($a(r),D.call(M,M))):D;Pl(M,R,Q)}Object.keys(M._hmrPayload.getters).forEach(R=>{R in C._hmrPayload.getters||vf(M,R)}),Object.keys(M._hmrPayload.actions).forEach(R=>{R in C._hmrPayload.actions||vf(M,R)}),M._hmrPayload=C._hmrPayload,M._getters=C._getters,M._hotUpdating=!1})),Fa){const C={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(R=>{Object.defineProperty(M,R,Nn({value:M[R]},C))})}return r._p.forEach(C=>{if(Fa){const R=a.run(()=>C({store:M,app:r._a,pinia:r,options:o}));Object.keys(R||{}).forEach(D=>M._customProperties.add(D)),Nn(M,R)}else Nn(M,a.run(()=>C({store:M,app:r._a,pinia:r,options:o})))}),process.env.NODE_ENV!=="production"&&M.$state&&typeof M.$state=="object"&&typeof M.$state.constructor=="function"&&!M.$state.constructor.toString().includes("[native code]")&&console.warn(`[\u{1F34D}]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${M.$id}".`),m&&s&&n.hydrate&&n.hydrate(M.$state,m),u=!0,f=!0,M}function ss(t,e,n){let r,i;const s=typeof e=="function";if(typeof t=="string")r=t,i=s?n:e;else if(i=t,r=t.id,process.env.NODE_ENV!=="production"&&typeof r!="string")throw new Error('[\u{1F34D}]: "defineStore()" must be passed a store id as its first argument.');function a(o,l){const u=VE();if(o=(process.env.NODE_ENV==="test"&&Ra&&Ra._testing?null:o)||(u?Ns(Yp,null):null),o&&$a(o),process.env.NODE_ENV!=="production"&&!Ra)throw new Error(`[\u{1F34D}]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);o=Ra,o._s.has(r)||(s?xf(r,e,i,o):cg(r,i,o),process.env.NODE_ENV!=="production"&&(a._pinia=o));const f=o._s.get(r);if(process.env.NODE_ENV!=="production"&&l){const c="__hot:"+r,h=s?xf(c,e,i,o,!0):cg(c,Nn({},i),o,!0);l._hotUpdate(h),delete o.state.value[c],o._s.delete(c)}if(process.env.NODE_ENV!=="production"&&kl){const c=Pa();if(c&&c.proxy&&!l){const h=c.proxy,d="_pStores"in h?h._pStores:h._pStores={};d[r]=f}}return f}return a.$id=r,a}function Ue(t){if(yf)return wc(t);{t=_e(t);const e={};for(const n in t){const r=t[n];(Ye(r)||ir(r))&&(e[n]=nl(t,n))}return e}}function lx(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var as=1,os=2,Ds=3,ux=4,Of=5,fg=6378137,cx=6356752314e-3,hg=.0066943799901413165,Va=484813681109536e-20,H=Math.PI/2,fx=.16666666666666666,hx=.04722222222222222,dx=.022156084656084655,te=1e-10,At=.017453292519943295,fr=57.29577951308232,He=Math.PI/4,ja=Math.PI*2,gt=3.14159265359,on={};on.greenwich=0,on.lisbon=-9.131906111111,on.paris=2.337229166667,on.bogota=-74.080916666667,on.madrid=-3.687938888889,on.rome=12.452333333333,on.bern=7.439583333333,on.jakarta=106.807719444444,on.ferro=-17.666666666667,on.brussels=4.367975,on.stockholm=18.058277777778,on.athens=23.7163375,on.oslo=10.722916666667;const mx={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var dg=/[\s_\-\/\(\)]/g;function vi(t,e){if(t[e])return t[e];for(var n=Object.keys(t),r=e.toLowerCase().replace(dg,""),i=-1,s,a;++i<n.length;)if(s=n[i],a=s.toLowerCase().replace(dg,""),a===r)return t[s]}function Mf(t){var e={},n=t.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var u=l.split("=");return u.push(!0),o[u[0].toLowerCase()]=u[1],o},{}),r,i,s,a={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*At},lat_1:function(o){e.lat1=o*At},lat_2:function(o){e.lat2=o*At},lat_ts:function(o){e.lat_ts=o*At},lon_0:function(o){e.long0=o*At},lon_1:function(o){e.long1=o*At},lon_2:function(o){e.long2=o*At},alpha:function(o){e.alpha=parseFloat(o)*At},gamma:function(o){e.rectified_grid_angle=parseFloat(o)},lonc:function(o){e.longc=o*At},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r:function(o){e.a=e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var l=vi(mx,o);l&&(e.to_meter=l.to_meter)},from_greenwich:function(o){e.from_greenwich=o*At},pm:function(o){var l=vi(on,o);e.from_greenwich=(l||parseFloat(o))*At},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0}};for(r in n)i=n[r],r in a?(s=a[r],typeof s=="function"?s(i):e[s]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var Ga=1,mg=2,pg=3,$l=4,gg=5,Tf=-1,px=/\s/,gx=/[A-Za-z]/,yx=/[A-Za-z84_]/,Fl=/[,\]]/,yg=/[\d\.E\-\+]/;function jr(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Ga}jr.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==$l)for(;px.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Ga:return this.neutral(t);case mg:return this.keyword(t);case $l:return this.quoted(t);case gg:return this.afterquote(t);case pg:return this.number(t);case Tf:return}},jr.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=$l;return}if(Fl.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)},jr.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Ga;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Ga,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Tf);return}},jr.prototype.number=function(t){if(yg.test(t)){this.word+=t;return}if(Fl.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)},jr.prototype.quoted=function(t){if(t==='"'){this.state=gg;return}this.word+=t},jr.prototype.keyword=function(t){if(yx.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Ga;return}if(Fl.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)},jr.prototype.neutral=function(t){if(gx.test(t)){this.word=t,this.state=mg;return}if(t==='"'){this.word="",this.state=$l;return}if(yg.test(t)){this.word=t,this.state=pg;return}if(Fl.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)},jr.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Tf)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function vx(t){var e=new jr(t);return e.output()}function vg(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(s,a){return Is(a,s),s},r);e&&(t[e]=i)}function Is(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},Is(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Is(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Is(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],vg(e,n,t);return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return Is(t,e[n]);return vg(e,n,t)}}var _x=.017453292519943295;function bx(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],e.length===3&&(t[n]=e[2](t[n])))}function hr(t){return t*_x}function Ex(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function a(u){var f=t.to_meter||1;return u*f}var o=function(u){return bx(t,u)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",hr],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",hr],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",hr],["lat0","latitude_of_origin",hr],["lat0","standard_parallel_1",hr],["lat1","standard_parallel_1",hr],["lat2","standard_parallel_2",hr],["azimuth","Azimuth"],["alpha","azimuth",hr],["srsCode","name"]];l.forEach(o),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=hr(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=hr(t.lat0>0?90:-90))}function _g(t){var e=vx(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return Is(e,i),Ex(i),i}function Qt(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Qt[t]=Mf(arguments[1]):Qt[t]=_g(arguments[1]):Qt[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){Array.isArray(r)?Qt.apply(e,r):Qt(r)});if(typeof t=="string"){if(t in Qt)return Qt[t]}else"EPSG"in t?Qt["EPSG:"+t.EPSG]=t:"ESRI"in t?Qt["ESRI:"+t.ESRI]=t:"IAU2000"in t?Qt["IAU2000:"+t.IAU2000]=t:console.log(t);return}}lx(Qt);function Sx(t){return typeof t=="string"}function wx(t){return t in Qt}var xx=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Ox(t){return xx.some(function(e){return t.indexOf(e)>-1})}var Mx=["3857","900913","3785","102113"];function Tx(t){var e=vi(t,"authority");if(!!e){var n=vi(e,"epsg");return n&&Mx.indexOf(n)>-1}}function Nx(t){var e=vi(t,"extension");if(!!e)return vi(e,"proj4")}function Cx(t){return t[0]==="+"}function Lx(t){if(Sx(t)){if(wx(t))return Qt[t];if(Ox(t)){var e=_g(t);if(Tx(e))return Qt["EPSG:3857"];var n=Nx(e);return n?Mf(n):e}if(Cx(t))return Mf(t)}else return t}function bg(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)n=e[r],n!==void 0&&(t[r]=n);return t}function dr(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function Ua(t){return t<0?-1:1}function ae(t){return Math.abs(t)<=gt?t:t-Ua(t)*ja}function qn(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(H-e))/r}function Ba(t,e){for(var n=.5*t,r,i,s=H-2*Math.atan(e),a=0;a<=15;a++)if(r=t*Math.sin(s),i=H-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function Px(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=dr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function kx(t){var e=t.x,n=t.y;if(n*fr>90&&n*fr<-90&&e*fr>180&&e*fr<-180)return null;var r,i;if(Math.abs(Math.abs(n)-H)<=te)return null;if(this.sphere)r=this.x0+this.a*this.k0*ae(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(He+.5*n));else{var s=Math.sin(n),a=qn(this.e,n,s);r=this.x0+this.a*this.k0*ae(e-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return t.x=r,t.y=i,t}function Ax(t){var e=t.x-this.x0,n=t.y-this.y0,r,i;if(this.sphere)i=H-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(i=Ba(this.e,s),i===-9999)return null}return r=ae(this.long0+e/(this.a*this.k0)),t.x=r,t.y=i,t}var Dx=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const Ix={init:Px,forward:kx,inverse:Ax,names:Dx};function Rx(){}function Eg(t){return t}var $x=["longlat","identity"],Fx=[Ix,{init:Rx,forward:Eg,inverse:Eg,names:$x}],Vl={},jl=[];function Sg(t,e){var n=jl.length;return t.names?(jl[n]=t,t.names.forEach(function(r){Vl[r.toLowerCase()]=n}),this):(console.log(e),!0)}function Vx(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Vl[e]<"u"&&jl[Vl[e]])return jl[Vl[e]]}function jx(){Fx.forEach(Sg)}const Gx={start:jx,add:Sg,get:Vx};var Ee={};Ee.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},Ee.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},Ee.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},Ee.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},Ee.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},Ee.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},Ee.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},Ee.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},Ee.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},Ee.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},Ee.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},Ee.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},Ee.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},Ee.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},Ee.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},Ee.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},Ee.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},Ee.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},Ee.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},Ee.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},Ee.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},Ee.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},Ee.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},Ee.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},Ee.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},Ee.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},Ee.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},Ee.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},Ee.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},Ee.hough={a:6378270,rf:297,ellipseName:"Hough"},Ee.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},Ee.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},Ee.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},Ee.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},Ee.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},Ee.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},Ee.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},Ee.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},Ee.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},Ee.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},Ee.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},Ee.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var Ux=Ee.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ee.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function Bx(t,e,n,r){var i=t*t,s=e*e,a=(i-s)/i,o=0;r?(t*=1-a*(fx+a*(hx+a*dx)),i=t*t,a=0):o=Math.sqrt(a);var l=(i-s)/s;return{es:a,e:o,ep2:l}}function Wx(t,e,n,r,i){if(!t){var s=vi(Ee,r);s||(s=Ux),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<te)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}var Mt={};Mt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Mt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Mt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Mt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Mt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Mt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Mt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Mt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Mt.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},Mt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Mt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Mt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Mt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Mt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Mt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Mt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Mt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Mt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function qx(t,e,n,r,i,s,a){var o={};return t===void 0||t==="none"?o.datum_type=Of:o.datum_type=ux,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=as),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=os,o.datum_params[3]*=Va,o.datum_params[4]*=Va,o.datum_params[5]*=Va,o.datum_params[6]=o.datum_params[6]/1e6+1)),a&&(o.datum_type=Ds,o.grids=a),o.a=n,o.b=r,o.es=i,o.ep2=s,o}var wg={};function Hx(t,e){var n=new DataView(e),r=Xx(n),i=Kx(n,r),s=Zx(n,i,r),a={header:i,subgrids:s};return wg[t]=a,a}function zx(t){if(t===void 0)return null;var e=t.split(",");return e.map(Yx)}function Yx(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:wg[t]||null,isNull:!1}}function Rs(t){return t/3600*Math.PI/180}function Xx(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Kx(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Nf(t,56,56+8).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function Nf(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function Zx(t,e,n){for(var r=176,i=[],s=0;s<e.nSubgrids;s++){var a=Qx(t,r,n),o=eO(t,r,a,n),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);i.push({ll:[Rs(a.lowerLongitude),Rs(a.lowerLatitude)],del:[Rs(a.longitudeInterval),Rs(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:Jx(o)}),r+=176+a.gridNodeCount*16}return i}function Jx(t){return t.map(function(e){return[Rs(e.longitudeShift),Rs(e.latitudeShift)]})}function Qx(t,e,n){return{name:Nf(t,e+8,e+16).trim(),parent:Nf(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function eO(t,e,n,r){for(var i=e+176,s=16,a=[],o=0;o<n.gridNodeCount;o++){var l={latitudeShift:t.getFloat32(i+o*s,r),longitudeShift:t.getFloat32(i+o*s+4,r),latitudeAccuracy:t.getFloat32(i+o*s+8,r),longitudeAccuracy:t.getFloat32(i+o*s+12,r)};a.push(l)}return a}function mr(t,e){if(!(this instanceof mr))return new mr(t);e=e||function(u){if(u)throw u};var n=Lx(t);if(typeof n!="object"){e(t);return}var r=mr.projections.get(n.projName);if(!r){e(t);return}if(n.datumCode&&n.datumCode!=="none"){var i=vi(Mt,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=Wx(n.a,n.b,n.rf,n.ellps,n.sphere),a=Bx(s.a,s.b,s.rf,n.R_A),o=zx(n.nadgrids),l=n.datum||qx(n.datumCode,n.datum_params,s.a,s.b,a.es,a.ep2,o);bg(this,n),bg(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),e(null,this)}mr.projections=Gx,mr.projections.start();function tO(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===as?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===os?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function xg(t,e,n){var r=t.x,i=t.y,s=t.z?t.z:0,a,o,l,u;if(i<-H&&i>-1.001*H)i=-H;else if(i>H&&i<1.001*H)i=H;else{if(i<-H)return{x:-1/0,y:-1/0,z:t.z};if(i>H)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),o=Math.sin(i),u=Math.cos(i),l=o*o,a=n/Math.sqrt(1-e*l),{x:(a+s)*u*Math.cos(r),y:(a+s)*u*Math.sin(r),z:(a*(1-e)+s)*o}}function Og(t,e,n,r){var i=1e-12,s=i*i,a=30,o,l,u,f,c,h,d,m,p,g,y,v,b,E=t.x,O=t.y,N=t.z?t.z:0,M,P,I;if(o=Math.sqrt(E*E+O*O),l=Math.sqrt(E*E+O*O+N*N),o/n<i){if(M=0,l/n<i)return P=H,I=-r,{x:t.x,y:t.y,z:t.z}}else M=Math.atan2(O,E);u=N/l,f=o/l,c=1/Math.sqrt(1-e*(2-e)*f*f),m=f*(1-e)*c,p=u*c,b=0;do b++,d=n/Math.sqrt(1-e*p*p),I=o*m+N*p-d*(1-e*p*p),h=e*d/(d+I),c=1/Math.sqrt(1-h*(2-h)*f*f),g=f*(1-h)*c,y=u*c,v=y*m-g*p,m=g,p=y;while(v*v>s&&b<a);return P=Math.atan(y/Math.abs(g)),{x:M,y:P,z:I}}function nO(t,e,n){if(e===as)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===os){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+o*t.z)+r,y:u*(l*t.x+t.y-a*t.z)+i,z:u*(-o*t.x+a*t.y+t.z)+s}}}function rO(t,e,n){if(e===as)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===os){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6],f=(t.x-r)/u,c=(t.y-i)/u,h=(t.z-s)/u;return{x:f+l*c-o*h,y:-l*f+c+a*h,z:o*f-a*c+h}}}function Gl(t){return t===as||t===os}function iO(t,e,n){if(tO(t,e)||t.datum_type===Of||e.datum_type===Of)return n;var r=t.a,i=t.es;if(t.datum_type===Ds){var s=Mg(t,!1,n);if(s!==0)return;r=fg,i=hg}var a=e.a,o=e.b,l=e.es;if(e.datum_type===Ds&&(a=fg,o=cx,l=hg),i===l&&r===a&&!Gl(t.datum_type)&&!Gl(e.datum_type))return n;if(n=xg(n,i,r),Gl(t.datum_type)&&(n=nO(n,t.datum_type,t.datum_params)),Gl(e.datum_type)&&(n=rO(n,e.datum_type,e.datum_params)),n=Og(n,l,a,o),e.datum_type===Ds){var u=Mg(e,!0,n);if(u!==0)return}return n}function Mg(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},s=[];e:for(var a=0;a<t.grids.length;a++){var o=t.grids[a];if(s.push(o.name),o.isNull){i=r;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var l=o.grid.subgrids,u=0,f=l.length;u<f;u++){var c=l[u],h=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,d=c.ll[0]-h,m=c.ll[1]-h,p=c.ll[0]+(c.lim[0]-1)*c.del[0]+h,g=c.ll[1]+(c.lim[1]-1)*c.del[1]+h;if(!(m>r.y||d>r.x||g<r.y||p<r.x)&&(i=sO(r,e,c),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*fr+" "+r.y*fr+" tried: '"+s+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function sO(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=ae(i.x-Math.PI)+Math.PI;var s=Tg(i,n);if(e){if(isNaN(s.x))return r;s.x=i.x-s.x,s.y=i.y-s.y;var a=9,o=1e-12,l,u;do{if(u=Tg(s,n),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(u.x+s.x),y:i.y-(u.y+s.y)},s.x+=l.x,s.y+=l.y}while(a--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=ae(s.x+n.ll[0]),r.y=s.y+n.ll[1]}else isNaN(s.x)||(r.x=t.x+s.x,r.y=t.y+s.y);return r}function Tg(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},s={x:Number.NaN,y:Number.NaN},a;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return s;a=r.y*e.lim[0]+r.x;var o={x:e.cvs[a][0],y:e.cvs[a][1]};a++;var l={x:e.cvs[a][0],y:e.cvs[a][1]};a+=e.lim[0];var u={x:e.cvs[a][0],y:e.cvs[a][1]};a--;var f={x:e.cvs[a][0],y:e.cvs[a][1]},c=i.x*i.y,h=i.x*(1-i.y),d=(1-i.x)*(1-i.y),m=(1-i.x)*i.y;return s.x=d*o.x+h*l.x+m*f.x+c*u.x,s.y=d*o.y+h*l.y+m*f.y+c*u.y,s}function Ng(t,e,n){var r=n.x,i=n.y,s=n.z||0,a,o,l,u={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(a=r,"ew".indexOf(t.axis[l])!==-1?o="x":o="y"):l===1?(a=i,"ns".indexOf(t.axis[l])!==-1?o="y":o="x"):(a=s,o="z"),t.axis[l]){case"e":u[o]=a;break;case"w":u[o]=-a;break;case"n":u[o]=a;break;case"s":u[o]=-a;break;case"u":n[o]!==void 0&&(u.z=a);break;case"d":n[o]!==void 0&&(u.z=-a);break;default:return null}return u}function Cg(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function aO(t){Lg(t.x),Lg(t.y)}function Lg(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function oO(t,e){return(t.datum.datum_type===as||t.datum.datum_type===os||t.datum.datum_type===Ds)&&e.datumCode!=="WGS84"||(e.datum.datum_type===as||e.datum.datum_type===os||e.datum.datum_type===Ds)&&t.datumCode!=="WGS84"}function Ul(t,e,n,r){var i;Array.isArray(n)?n=Cg(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(aO(n),t.datum&&e.datum&&oO(t,e)&&(i=new mr("WGS84"),n=Ul(t,i,n,r),t=i),r&&t.axis!=="enu"&&(n=Ng(t,!1,n)),t.projName==="longlat")n={x:n.x*At,y:n.y*At,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=iO(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*fr,y:n.y*fr,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&e.axis!=="enu"?Ng(e,!0,n):(n&&!s&&delete n.z,n)}var Pg=mr("WGS84");function Cf(t,e,n,r){var i,s,a;return Array.isArray(n)?(i=Ul(t,e,n,r)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(s=Ul(t,e,n,r),a=Object.keys(n),a.length===2||a.forEach(function(o){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;s[o]=n[o]}),s)}function kg(t){return t instanceof mr?t:t.oProj?t.oProj:mr(t)}function Ut(t,e,n){t=kg(t);var r=!1,i;return typeof e>"u"?(e=t,t=Pg,r=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=Pg,r=!0),e=kg(e),n?Cf(t,e,n):(i={forward:function(s,a){return Cf(t,e,s,a)},inverse:function(s,a){return Cf(e,t,s,a)}},r&&(i.oProj=e),i)}var Ag=6,Dg="AJSAJS",Ig="AFAFAF",$s=65,ln=73,Cn=79,Wa=86,qa=90;const lO={forward:Rg,inverse:uO,toPoint:$g};function Rg(t,e){return e=e||5,hO(cO({lat:t[1],lon:t[0]}),e)}function uO(t){var e=Pf(jg(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function $g(t){var e=Pf(jg(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Lf(t){return t*(Math.PI/180)}function Fg(t){return 180*(t/Math.PI)}function cO(t){var e=t.lat,n=t.lon,r=6378137,i=.00669438,s=.9996,a,o,l,u,f,c,h,d=Lf(e),m=Lf(n),p,g;g=Math.floor((n+180)/6)+1,n===180&&(g=60),e>=56&&e<64&&n>=3&&n<12&&(g=32),e>=72&&e<84&&(n>=0&&n<9?g=31:n>=9&&n<21?g=33:n>=21&&n<33?g=35:n>=33&&n<42&&(g=37)),a=(g-1)*6-180+3,p=Lf(a),o=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(d)*Math.sin(d)),u=Math.tan(d)*Math.tan(d),f=o*Math.cos(d)*Math.cos(d),c=Math.cos(d)*(m-p),h=r*((1-i/4-3*i*i/64-5*i*i*i/256)*d-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*d)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*d)-35*i*i*i/3072*Math.sin(6*d));var y=s*l*(c+(1-u+f)*c*c*c/6+(5-18*u+u*u+72*f-58*o)*c*c*c*c*c/120)+5e5,v=s*(h+l*Math.tan(d)*(c*c/2+(5-u+9*f+4*f*f)*c*c*c*c/24+(61-58*u+u*u+600*f-330*o)*c*c*c*c*c*c/720));return e<0&&(v+=1e7),{northing:Math.round(v),easting:Math.round(y),zoneNumber:g,zoneLetter:fO(e)}}function Pf(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var s=.9996,a=6378137,o=.00669438,l,u=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),f,c,h,d,m,p,g,y,v,b=n-5e5,E=e;r<"N"&&(E-=1e7),g=(i-1)*6-180+3,l=o/(1-o),p=E/s,y=p/(a*(1-o/4-3*o*o/64-5*o*o*o/256)),v=y+(3*u/2-27*u*u*u/32)*Math.sin(2*y)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*y)+151*u*u*u/96*Math.sin(6*y),f=a/Math.sqrt(1-o*Math.sin(v)*Math.sin(v)),c=Math.tan(v)*Math.tan(v),h=l*Math.cos(v)*Math.cos(v),d=a*(1-o)/Math.pow(1-o*Math.sin(v)*Math.sin(v),1.5),m=b/(f*s);var O=v-f*Math.tan(v)/d*(m*m/2-(5+3*c+10*h-4*h*h-9*l)*m*m*m*m/24+(61+90*c+298*h+45*c*c-252*l-3*h*h)*m*m*m*m*m*m/720);O=Fg(O);var N=(m-(1+2*c+h)*m*m*m/6+(5-2*h+28*c-3*h*h+8*l+24*c*c)*m*m*m*m*m/120)/Math.cos(v);N=g+Fg(N);var M;if(t.accuracy){var P=Pf({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});M={top:P.lat,right:P.lon,bottom:O,left:N}}else M={lat:O,lon:N};return M}function fO(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function hO(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+dO(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function dO(t,e,n){var r=Vg(n),i=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return mO(i,s,r)}function Vg(t){var e=t%Ag;return e===0&&(e=Ag),e}function mO(t,e,n){var r=n-1,i=Dg.charCodeAt(r),s=Ig.charCodeAt(r),a=i+t-1,o=s+e,l=!1;a>qa&&(a=a-qa+$s-1,l=!0),(a===ln||i<ln&&a>ln||(a>ln||i<ln)&&l)&&a++,(a===Cn||i<Cn&&a>Cn||(a>Cn||i<Cn)&&l)&&(a++,a===ln&&a++),a>qa&&(a=a-qa+$s-1),o>Wa?(o=o-Wa+$s-1,l=!0):l=!1,(o===ln||s<ln&&o>ln||(o>ln||s<ln)&&l)&&o++,(o===Cn||s<Cn&&o>Cn||(o>Cn||s<Cn)&&l)&&(o++,o===ln&&o++),o>Wa&&(o=o-Wa+$s-1);var u=String.fromCharCode(a)+String.fromCharCode(o);return u}function jg(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,r="",i,s=0;!/[A-Z]/.test(i=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=i,s++}var a=parseInt(r,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(s++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+t;n=t.substring(s,s+=2);for(var l=Vg(a),u=pO(n.charAt(0),l),f=gO(n.charAt(1),l);f<yO(o);)f+=2e6;var c=e-s;if(c%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var h=c/2,d=0,m=0,p,g,y,v,b;return h>0&&(p=1e5/Math.pow(10,h),g=t.substring(s,s+h),d=parseFloat(g)*p,y=t.substring(s+h),m=parseFloat(y)*p),v=d+u,b=m+f,{easting:v,northing:b,zoneLetter:o,zoneNumber:a,accuracy:p}}function pO(t,e){for(var n=Dg.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===ln&&n++,n===Cn&&n++,n>qa){if(i)throw"Bad character: "+t;n=$s,i=!0}r+=1e5}return r}function gO(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=Ig.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===ln&&n++,n===Cn&&n++,n>Wa){if(i)throw"Bad character: "+t;n=$s,i=!0}r+=1e5}return r}function yO(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Fs(t,e,n){if(!(this instanceof Fs))return new Fs(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Fs.fromMGRS=function(t){return new Fs($g(t))},Fs.prototype.toMGRS=function(t){return Rg([this.x,this.y],t)};var vO=1,_O=.25,Gg=.046875,Ug=.01953125,Bg=.01068115234375,bO=.75,EO=.46875,SO=.013020833333333334,wO=.007120768229166667,xO=.3645833333333333,OO=.005696614583333333,MO=.3076171875;function Wg(t){var e=[];e[0]=vO-t*(_O+t*(Gg+t*(Ug+t*Bg))),e[1]=t*(bO-t*(Gg+t*(Ug+t*Bg)));var n=t*t;return e[2]=n*(EO-t*(SO+t*wO)),n*=t,e[3]=n*(xO-t*OO),e[4]=n*t*MO,e}function Bl(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var TO=20;function qg(t,e,n){for(var r=1/(1-e),i=t,s=TO;s;--s){var a=Math.sin(i),o=1-e*a*a;if(o=(Bl(i,a,Math.cos(i),n)-t)*(o*Math.sqrt(o))*r,i-=o,Math.abs(o)<te)return i}return i}function NO(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Wg(this.es),this.ml0=Bl(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function CO(t){var e=t.x,n=t.y,r=ae(e-this.long0),i,s,a,o=Math.sin(n),l=Math.cos(n);if(this.es){var f=l*r,c=Math.pow(f,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),m=Math.abs(l)>te?Math.tan(n):0,p=Math.pow(m,2),g=Math.pow(p,2);i=1-this.es*Math.pow(o,2),f=f/Math.sqrt(i);var y=Bl(n,o,l,this.en);s=this.a*(this.k0*f*(1+c/6*(1-p+h+c/20*(5-18*p+g+14*h-58*p*h+c/42*(61+179*g-g*p-479*p)))))+this.x0,a=this.a*(this.k0*(y-this.ml0+o*r*f/2*(1+c/12*(5-p+9*h+4*d+c/30*(61+g-58*p+270*h-330*p*h+c/56*(1385+543*g-g*p-3111*p))))))+this.y0}else{var u=l*Math.sin(r);if(Math.abs(Math.abs(u)-1)<te)return 93;if(s=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,a=l*Math.cos(r)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(a),u>=1){if(u-1>te)return 93;a=0}else a=Math.acos(a);n<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return t.x=s,t.y=a,t}function LO(t){var e,n,r,i,s=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=qg(e,this.es,this.en),Math.abs(n)<H){var c=Math.sin(n),h=Math.cos(n),d=Math.abs(h)>te?Math.tan(n):0,m=this.ep2*Math.pow(h,2),p=Math.pow(m,2),g=Math.pow(d,2),y=Math.pow(g,2);e=1-this.es*Math.pow(c,2);var v=s*Math.sqrt(e)/this.k0,b=Math.pow(v,2);e=e*d,r=n-e*b/(1-this.es)*.5*(1-b/12*(5+3*g-9*m*g+m-4*p-b/30*(61+90*g-252*m*g+45*y+46*m-b/56*(1385+3633*g+4095*y+1574*y*g)))),i=ae(this.long0+v*(1-b/6*(1+2*g+m-b/20*(5+28*g+24*y+8*m*g+6*m-b/42*(61+662*g+1320*y+720*y*g))))/h)}else r=H*Ua(a),i=0;else{var o=Math.exp(s/this.k0),l=.5*(o-1/o),u=this.lat0+a/this.k0,f=Math.cos(u);e=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),r=Math.asin(e),a<0&&(r=-r),l===0&&f===0?i=0:i=ae(Math.atan2(l,f)+this.long0)}return t.x=i,t.y=r,t}var PO=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Wl={init:NO,forward:CO,inverse:LO,names:PO};function Hg(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function Ln(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function kO(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function AO(t){var e=Math.abs(t);return e=kO(e*(1+e/(Ln(1,e)+1))),t<0?-e:e}function kf(t,e){for(var n=2*Math.cos(2*e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return e+a*Math.sin(2*e)}function DO(t,e){for(var n=2*Math.cos(e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return Math.sin(e)*a}function IO(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function zg(t,e,n){for(var r=Math.sin(e),i=Math.cos(e),s=Hg(n),a=IO(n),o=2*i*a,l=-2*r*s,u=t.length-1,f=t[u],c=0,h=0,d=0,m,p;--u>=0;)m=h,p=c,h=f,c=d,f=-m+o*h-l*c+t[u],d=-p+l*h+o*c;return o=r*a,l=i*s,[o*f-l*d,o*d+l*f]}function RO(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Wl.init.apply(this),this.forward=Wl.forward,this.inverse=Wl.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=kf(this.cbg,this.lat0);this.Zb=-this.Qn*(r+DO(this.gtu,2*r))}function $O(t){var e=ae(t.x-this.long0),n=t.y;n=kf(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(e),a=Math.cos(e);n=Math.atan2(r,a*i),e=Math.atan2(s*i,Ln(r,i*a)),e=AO(Math.tan(e));var o=zg(this.gtu,2*n,2*e);n=n+o[0],e=e+o[1];var l,u;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,u=1/0),t.x=l,t.y=u,t}function FO(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var s=zg(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(Hg(e));var a=Math.sin(n),o=Math.cos(n),l=Math.sin(e),u=Math.cos(e);n=Math.atan2(a*u,Ln(l,u*o)),e=Math.atan2(l,u*o),r=ae(e+this.long0),i=kf(this.cgb,n)}else r=1/0,i=1/0;return t.x=r,t.y=i,t}var VO=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const ql={init:RO,forward:$O,inverse:FO,names:VO};function jO(t,e){if(t===void 0){if(t=Math.floor((ae(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var GO="etmerc";function UO(){var t=jO(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*At,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ql.init.apply(this),this.forward=ql.forward,this.inverse=ql.inverse}var BO=["Universal Transverse Mercator System","utm"];const WO={init:UO,names:BO,dependsOn:GO};function Af(t,e){return Math.pow((1-t)/(1+t),e)}var qO=20;function HO(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+He)/(Math.pow(Math.tan(.5*this.lat0+He),this.C)*Af(this.e*t,this.ratexp))}function zO(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+He),this.C)*Af(this.e*Math.sin(n),this.ratexp))-H,t.x=this.C*e,t}function YO(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+He)/this.K,1/this.C),s=qO;s>0&&(r=2*Math.atan(i*Af(this.e*Math.sin(t.y),-.5*this.e))-H,!(Math.abs(r-t.y)<e));--s)t.y=r;return s?(t.x=n,t.y=r,t):null}var XO=["gauss"];const Df={init:HO,forward:zO,inverse:YO,names:XO};function KO(){Df.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function ZO(t){var e,n,r,i;return t.x=ae(t.x-this.long0),Df.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function JO(t){var e,n,r,i,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Ln(t.x,t.y)){var a=2*Math.atan2(s,this.R2);e=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),r=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,Df.inverse.apply(this,[t]),t.x=ae(t.x+this.long0),t}var QO=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const eM={init:KO,forward:ZO,inverse:JO,names:QO};function tM(t,e,n){return e*=n,Math.tan(.5*(H+t))*Math.pow((1-e)/(1+e),.5*n)}function nM(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=te&&(this.k0=.5*(1+Ua(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=te&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=te&&Math.abs(Math.cos(this.lat_ts))>te&&(this.k0=.5*this.cons*dr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/qn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=dr(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-H,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function rM(t){var e=t.x,n=t.y,r=Math.sin(n),i=Math.cos(n),s,a,o,l,u,f,c=ae(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=te&&Math.abs(n+this.lat0)<=te?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(c)),t.x=this.a*s*i*Math.sin(c)+this.x0,t.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(c))+this.y0,t):(a=2*Math.atan(this.ssfn_(n,r,this.e))-H,l=Math.cos(a),o=Math.sin(a),Math.abs(this.coslat0)<=te?(u=qn(this.e,n*this.con,this.con*r),f=2*this.a*this.k0*u/this.cons,t.x=this.x0+f*Math.sin(e-this.long0),t.y=this.y0-this.con*f*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<te?(s=2*this.a*this.k0/(1+l*Math.cos(c)),t.y=s*o):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(c))),t.y=s*(this.cosX0*o-this.sinX0*l*Math.cos(c))+this.y0),t.x=s*l*Math.sin(c)+this.x0,t))}function iM(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=te?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/a),Math.abs(this.coslat0)<te?this.lat0>0?e=ae(this.long0+Math.atan2(t.x,-1*t.y)):e=ae(this.long0+Math.atan2(t.x,t.y)):e=ae(this.long0+Math.atan2(t.x*Math.sin(o),a*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=te){if(a<=te)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*Ba(this.e,r),e=this.con*ae(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=te?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/a),e=ae(this.long0+Math.atan2(t.x*Math.sin(i),a*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*Ba(this.e,Math.tan(.5*(H+s)));return t.x=e,t.y=n,t}var sM=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const aM={init:nM,forward:rM,inverse:iM,names:sM,ssfn_:tM};function oM(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),a=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*l+this.alpha*a/2*u}function lM(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*a+this.x0,t}function uM(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+a/this.alpha,l=0,u=s,f=-1e3,c=0;Math.abs(u-f)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),f=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=o,t.y=u,t}var cM=["somerc"];const fM={init:oM,forward:lM,inverse:uM,names:cM};var Vs=1e-7;function hM(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function dM(){var t,e,n,r,i,s,a,o,l,u,f=0,c,h=0,d=0,m=0,p=0,g=0,y=0;this.no_off=hM(this),this.no_rot="no_rot"in this;var v=!1;"alpha"in this&&(v=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),v&&(y=this.alpha),b&&(f=this.rectified_grid_angle*At),v||b)h=this.longc;else if(d=this.long1,p=this.lat1,m=this.long2,g=this.lat2,Math.abs(p-g)<=Vs||(t=Math.abs(p))<=Vs||Math.abs(t-H)<=Vs||Math.abs(Math.abs(this.lat0)-H)<=Vs||Math.abs(Math.abs(g)-H)<=Vs)throw new Error;var E=1-this.es;e=Math.sqrt(E),Math.abs(this.lat0)>te?(o=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*o*o,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/E),this.A=this.B*this.k0*e/t,r=this.B*e/(n*Math.sqrt(t)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(qn(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),v||b?(v?(c=Math.asin(Math.sin(y)/r),b||(f=y)):(c=f,y=Math.asin(r*Math.sin(c))),this.lam0=h-Math.asin(.5*(i-1/i)*Math.tan(c))/this.B):(s=Math.pow(qn(this.e,p,Math.sin(p)),this.B),a=Math.pow(qn(this.e,g,Math.sin(g)),this.B),i=this.E/s,l=(a-s)/(a+s),u=this.E*this.E,u=(u-a*s)/(u+a*s),t=d-m,t<-Math.pi?m-=ja:t>Math.pi&&(m+=ja),this.lam0=ae(.5*(d+m)-Math.atan(u*Math.tan(.5*this.B*(d-m))/l)/this.B),c=Math.atan(2*Math.sin(this.B*ae(d-this.lam0))/(i-1/i)),f=y=Math.asin(r*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(y))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(He-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(He+i))}function mM(t){var e={},n,r,i,s,a,o,l,u;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-H)>te){if(a=this.E/Math.pow(qn(this.e,t.y,Math.sin(t.y)),this.B),o=1/a,n=.5*(a-o),r=.5*(a+o),s=Math.sin(this.B*t.x),i=(n*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(i)-1)<te)throw new Error;u=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*t.x),Math.abs(o)<Vs?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,o)}else u=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=u):(l-=this.u_0,e.x=u*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function pM(t){var e,n,r,i,s,a,o,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),s=.5*(r+1/r),a=Math.sin(this.BrA*e),o=(a*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(o)-1)<te)l.x=0,l.y=o<0?-H:H;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=Ba(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var gM=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const yM={init:dM,forward:mM,inverse:pM,names:gM};function vM(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<te)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=dr(this.e,e,n),i=qn(this.e,this.lat1,e),s=Math.sin(this.lat2),a=Math.cos(this.lat2),o=dr(this.e,s,a),l=qn(this.e,this.lat2,s),u=qn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>te?this.ns=Math.log(r/o)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function _M(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=te&&(n=Ua(n)*(H-2*te));var r=Math.abs(Math.abs(n)-H),i,s;if(r>te)i=qn(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;s=0}var a=this.ns*ae(e-this.long0);return t.x=this.k0*(s*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(a))+this.y0,t}function bM(t){var e,n,r,i,s,a=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),n=1):(e=-Math.sqrt(a*a+o*o),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*a,n*o)),e!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=Ba(this.e,r),i===-9999)return null}else i=-H;return s=ae(l/this.ns+this.long0),t.x=s,t.y=i,t}var EM=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const SM={init:vM,forward:_M,inverse:bM,names:EM};function wM(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function xM(t){var e,n,r,i,s,a,o,l=t.x,u=t.y,f=ae(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-f*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*s,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=o*Math.cos(a)/1,t.x=o*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function OM(t){var e,n,r,i,s,a,o,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,o=e,l=0;var f=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(l=1),o=t.y,f+=1;while(l===0&&f<15);return f>=15?null:t}var MM=["Krovak","krovak"];const TM={init:wM,forward:xM,inverse:OM,names:MM};function en(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function Ha(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function za(t){return .375*t*(1+.25*t*(1+.46875*t))}function Ya(t){return .05859375*t*t*(1+.75*t)}function Xa(t){return t*t*t*(35/3072)}function js(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function Gs(t){return Math.abs(t)<H?t:t-Ua(t)*Math.PI}function Hl(t,e,n,r,i){var s,a;s=t/e;for(var o=0;o<15;o++)if(a=(t-(e*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=a,Math.abs(a)<=1e-10)return s;return NaN}function NM(){this.sphere||(this.e0=Ha(this.es),this.e1=za(this.es),this.e2=Ya(this.es),this.e3=Xa(this.es),this.ml0=this.a*en(this.e0,this.e1,this.e2,this.e3,this.lat0))}function CM(t){var e,n,r=t.x,i=t.y;if(r=ae(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),a=Math.cos(i),o=js(this.a,this.e,s),l=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),f=u*u,c=this.es*a*a/(1-this.es),h=this.a*en(this.e0,this.e1,this.e2,this.e3,i);e=o*u*(1-f*l*(1/6-(8-l+8*c)*f/120)),n=h-this.ml0+o*s/a*f*(.5+(5-l+6*c)*f/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function LM(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(s))}else{var a=this.ml0/this.a+n,o=Hl(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-H)<=te)return t.x=this.long0,t.y=H,n<0&&(t.y*=-1),t;var l=js(this.a,this.e,Math.sin(o)),u=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(o),2),c=e*this.a/l,h=c*c;r=o-l*Math.tan(o)/u*c*c*(.5-(1+3*f)*c*c/24),i=c*(1-h*(f/3+(1+3*f)*f*h/15))/Math.cos(o)}return t.x=ae(i+this.long0),t.y=Gs(r),t}var PM=["Cassini","Cassini_Soldner","cass"];const kM={init:NM,forward:CM,inverse:LM,names:PM};function _i(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var AM=1,DM=2,IM=3,RM=4;function $M(){var t=Math.abs(this.lat0);if(Math.abs(t-H)<te?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<te?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=_i(this.e,1),this.mmf=.5/(1-this.es),this.apa=HM(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=_i(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function FM(t){var e,n,r,i,s,a,o,l,u,f,c=t.x,h=t.y;if(c=ae(c-this.long0),this.sphere){if(s=Math.sin(h),f=Math.cos(h),r=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+f*r:1+this.sinph0*s+this.cosph0*f*r,n<=te)return null;n=Math.sqrt(2/n),e=n*f*Math.sin(c),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.lat0)<te)return null;n=He-h*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(c),n*=r}}else{switch(o=0,l=0,u=0,r=Math.cos(c),i=Math.sin(c),s=Math.sin(h),a=_i(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=a/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*l*r;break;case this.EQUIT:u=1+l*r;break;case this.N_POLE:u=H+h,a=this.qp-a;break;case this.S_POLE:u=h-H,a=this.qp+a;break}if(Math.abs(u)<te)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?n=this.ymf*u*(this.cosb1*o-this.sinb1*l*r):n=(u=Math.sqrt(2/(1+l*r)))*o*this.ymf,e=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?u:-u)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function VM(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i,s,a,o,l,u;if(this.sphere){var f=0,c,h=0;if(c=Math.sqrt(e*e+n*n),i=c*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sin(i),f=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(c)<=te?0:Math.asin(n*h/c),e*=h,n=f*c;break;case this.OBLIQ:i=Math.abs(c)<=te?this.lat0:Math.asin(f*this.sinph0+n*h*this.cosph0/c),e*=h*this.cosph0,n=(f-Math.sin(i)*this.sinph0)*c;break;case this.N_POLE:n=-n,i=H-i;break;case this.S_POLE:i-=H;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<te)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*l/this.rq),s=Math.cos(a),e*=a=Math.sin(a),this.mode===this.OBLIQ?(u=s*this.sinb1+n*a*this.cosb1/l,o=this.qp*u,n=l*this.cosb1*s-n*this.sinb1*a):(u=n*a/l,o=this.qp*u,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),o=e*e+n*n,!o)return t.x=this.long0,t.y=this.lat0,t;u=1-o/this.qp,this.mode===this.S_POLE&&(u=-u)}r=Math.atan2(e,n),i=zM(Math.asin(u),this.apa)}return t.x=ae(this.long0+r),t.y=i,t}var jM=.3333333333333333,GM=.17222222222222222,UM=.10257936507936508,BM=.06388888888888888,WM=.0664021164021164,qM=.016415012942191543;function HM(t){var e,n=[];return n[0]=t*jM,e=t*t,n[0]+=e*GM,n[1]=e*BM,e*=t,n[0]+=e*UM,n[1]+=e*WM,n[2]=e*qM,n}function zM(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var YM=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const XM={init:$M,forward:FM,inverse:VM,names:YM,S_POLE:AM,N_POLE:DM,EQUIT:IM,OBLIQ:RM};function bi(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function KM(){Math.abs(this.lat1+this.lat2)<te||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=dr(this.e3,this.sin_po,this.cos_po),this.qs1=_i(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=dr(this.e3,this.sin_po,this.cos_po),this.qs2=_i(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=_i(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>te?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function ZM(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=_i(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*ae(e-this.long0),a=i*Math.sin(s)+this.x0,o=this.rh-i*Math.cos(s)+this.y0;return t.x=a,t.y=o,t}function JM(t){var e,n,r,i,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),s=ae(i/this.ns0+this.long0),t.x=s,t.y=a,t}function QM(t,e){var n,r,i,s,a,o=bi(.5*e);if(t<te)return o;for(var l=t*t,u=1;u<=25;u++)if(n=Math.sin(o),r=Math.cos(o),i=t*n,s=1-i*i,a=.5*s*s/r*(e/(1-l)-n/s+.5/t*Math.log((1-i)/(1+i))),o=o+a,Math.abs(a)<=1e-7)return o;return null}var eT=["Albers_Conic_Equal_Area","Albers","aea"];const tT={init:KM,forward:ZM,inverse:JM,names:eT,phi1z:QM};function nT(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function rT(t){var e,n,r,i,s,a,o,l,u=t.x,f=t.y;return r=ae(u-this.long0),e=Math.sin(f),n=Math.cos(f),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,a>0||Math.abs(a)<=te?(o=this.x0+this.a*s*n*Math.sin(r)/a,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)/a):(o=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function iT(t){var e,n,r,i,s,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),a=bi(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),s=ae(this.long0+s)):(a=this.phic0,s=0),t.x=s,t.y=a,t}var sT=["gnom"];const aT={init:nT,forward:rT,inverse:iT,names:sT};function oT(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*H:H;for(var r=Math.asin(.5*e),i,s,a,o,l=0;l<30;l++)if(s=Math.sin(r),a=Math.cos(r),o=t*s,i=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-s/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function lT(){this.sphere||(this.k0=dr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function uT(t){var e=t.x,n=t.y,r,i,s=ae(e-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var a=_i(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*a*.5/this.k0}return t.x=r,t.y=i,t}function cT(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=ae(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=oT(this.e,2*t.y*this.k0/this.a),e=ae(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var fT=["cea"];const hT={init:lT,forward:uT,inverse:cT,names:fT};function dT(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function mT(t){var e=t.x,n=t.y,r=ae(e-this.long0),i=Gs(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function pT(t){var e=t.x,n=t.y;return t.x=ae(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Gs(this.lat0+(n-this.y0)/this.a),t}var gT=["Equirectangular","Equidistant_Cylindrical","eqc"];const yT={init:dT,forward:mT,inverse:pT,names:gT};var Yg=20;function vT(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ha(this.es),this.e1=za(this.es),this.e2=Ya(this.es),this.e3=Xa(this.es),this.ml0=this.a*en(this.e0,this.e1,this.e2,this.e3,this.lat0)}function _T(t){var e=t.x,n=t.y,r,i,s,a=ae(e-this.long0);if(s=a*Math.sin(n),this.sphere)Math.abs(n)<=te?(r=this.a*a,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*(Gs(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=te)r=this.a*a,i=-1*this.ml0;else{var o=js(this.a,this.e,Math.sin(n))/Math.tan(n);r=o*Math.sin(s),i=this.a*en(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(s))}return t.x=r+this.x0,t.y=i+this.y0,t}function bT(t){var e,n,r,i,s,a,o,l,u;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=te)e=ae(r/this.a+this.long0),n=0;else{a=this.lat0+i/this.a,o=r*r/this.a/this.a+a*a,l=a;var f;for(s=Yg;s;--s)if(f=Math.tan(l),u=-1*(a*(l*f+1)-l-.5*(l*l+o)*f)/((l-a)/f-1),l+=u,Math.abs(u)<=te){n=l;break}e=ae(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=te)n=0,e=ae(this.long0+r/this.a);else{a=(this.ml0+i)/this.a,o=r*r/this.a/this.a+a*a,l=a;var c,h,d,m,p;for(s=Yg;s;--s)if(p=this.e*Math.sin(l),c=Math.sqrt(1-p*p)*Math.tan(l),h=this.a*en(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),m=h/this.a,u=(a*(c*m+1)-m-.5*c*(m*m+o))/(this.es*Math.sin(2*l)*(m*m+o-2*a*m)/(4*c)+(a-m)*(c*d-2/Math.sin(2*l))-d),l-=u,Math.abs(u)<=te){n=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=ae(this.long0+Math.asin(r*c/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var ET=["Polyconic","poly"];const ST={init:vT,forward:_T,inverse:bT,names:ET};function wT(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function xT(t){var e,n=t.x,r=t.y,i=r-this.lat0,s=n-this.long0,a=i/Va*1e-5,o=s,l=1,u=0;for(e=1;e<=10;e++)l=l*a,u=u+this.A[e]*l;var f=u,c=o,h=1,d=0,m,p,g=0,y=0;for(e=1;e<=6;e++)m=h*f-d*c,p=d*f+h*c,h=m,d=p,g=g+this.B_re[e]*h-this.B_im[e]*d,y=y+this.B_im[e]*h+this.B_re[e]*d;return t.x=y*this.a+this.x0,t.y=g*this.a+this.y0,t}function OT(t){var e,n=t.x,r=t.y,i=n-this.x0,s=r-this.y0,a=s/this.a,o=i/this.a,l=1,u=0,f,c,h=0,d=0;for(e=1;e<=6;e++)f=l*a-u*o,c=u*a+l*o,l=f,u=c,h=h+this.C_re[e]*l-this.C_im[e]*u,d=d+this.C_im[e]*l+this.C_re[e]*u;for(var m=0;m<this.iterations;m++){var p=h,g=d,y,v,b=a,E=o;for(e=2;e<=6;e++)y=p*h-g*d,v=g*h+p*d,p=y,g=v,b=b+(e-1)*(this.B_re[e]*p-this.B_im[e]*g),E=E+(e-1)*(this.B_im[e]*p+this.B_re[e]*g);p=1,g=0;var O=this.B_re[1],N=this.B_im[1];for(e=2;e<=6;e++)y=p*h-g*d,v=g*h+p*d,p=y,g=v,O=O+e*(this.B_re[e]*p-this.B_im[e]*g),N=N+e*(this.B_im[e]*p+this.B_re[e]*g);var M=O*O+N*N;h=(b*O+E*N)/M,d=(E*O-b*N)/M}var P=h,I=d,C=1,R=0;for(e=1;e<=9;e++)C=C*P,R=R+this.D[e]*C;var D=this.lat0+R*Va*1e5,Q=this.long0+I;return t.x=Q,t.y=D,t}var MT=["New_Zealand_Map_Grid","nzmg"];const TT={init:wT,forward:xT,inverse:OT,names:MT};function NT(){}function CT(t){var e=t.x,n=t.y,r=ae(e-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=s,t}function LT(t){t.x-=this.x0,t.y-=this.y0;var e=ae(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var PT=["Miller_Cylindrical","mill"];const kT={init:NT,forward:CT,inverse:LT,names:PT};var AT=20;function DT(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Wg(this.es)}function IT(t){var e,n,r=t.x,i=t.y;if(r=ae(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),a=AT;a;--a){var o=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<te)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*Bl(i,l,u,this.en),e=this.a*r*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function RT(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=bi((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=bi(Math.sin(e)/this.n)),r=ae(r+this.long0),e=Gs(e)):(e=qg(t.y/this.a,this.es,this.en),i=Math.abs(e),i<H?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=ae(n)):i-te<H&&(r=this.long0)),t.x=r,t.y=e,t}var $T=["Sinusoidal","sinu"];const FT={init:DT,forward:IT,inverse:RT,names:$T};function VT(){}function jT(t){for(var e=t.x,n=t.y,r=ae(e-this.long0),i=n,s=Math.PI*Math.sin(n);;){var a=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=a,Math.abs(a)<te)break}i/=2,Math.PI/2-Math.abs(n)<te&&(r=0);var o=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=l,t}function GT(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=ae(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var UT=["Mollweide","moll"];const BT={init:VT,forward:jT,inverse:GT,names:UT};function WT(){Math.abs(this.lat1+this.lat2)<te||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ha(this.es),this.e1=za(this.es),this.e2=Ya(this.es),this.e3=Xa(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=dr(this.e,this.sinphi,this.cosphi),this.ml1=en(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<te?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=dr(this.e,this.sinphi,this.cosphi),this.ml2=en(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=en(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function qT(t){var e=t.x,n=t.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=en(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*ae(e-this.long0),a=this.x0+r*Math.sin(s),o=this.y0+this.rh-r*Math.cos(s);return t.x=a,t.y=o,t}function HT(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=ae(this.long0+s/this.ns),r=Gs(this.g-n/this.a),t.x=i,t.y=r,t;var a=this.g-n/this.a;return r=Hl(a,this.e0,this.e1,this.e2,this.e3),i=ae(this.long0+s/this.ns),t.x=i,t.y=r,t}var zT=["Equidistant_Conic","eqdc"];const YT={init:WT,forward:qT,inverse:HT,names:zT};function XT(){this.R=this.a}function KT(t){var e=t.x,n=t.y,r=ae(e-this.long0),i,s;Math.abs(n)<=te&&(i=this.x0+this.R*r,s=this.y0);var a=bi(2*Math.abs(n/Math.PI));(Math.abs(r)<=te||Math.abs(Math.abs(n)-H)<=te)&&(i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*a):s=this.y0+Math.PI*this.R*-Math.tan(.5*a));var o=.5*Math.abs(Math.PI/r-r/Math.PI),l=o*o,u=Math.sin(a),f=Math.cos(a),c=f/(u+f-1),h=c*c,d=c*(2/u-1),m=d*d,p=Math.PI*this.R*(o*(c-m)+Math.sqrt(l*(c-m)*(c-m)-(m+l)*(h-m)))/(m+l);r<0&&(p=-p),i=this.x0+p;var g=l+c;return p=Math.PI*this.R*(d*g-o*Math.sqrt((m+l)*(l+1)-g*g))/(m+l),n>=0?s=this.y0+p:s=this.y0-p,t.x=i,t.y=s,t}function ZT(t){var e,n,r,i,s,a,o,l,u,f,c,h,d;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,r=t.x/c,i=t.y/c,s=r*r+i*i,a=-Math.abs(i)*(1+s),o=a-2*i*i+r*r,l=-2*a+1+2*i*i+s*s,d=i*i/l+(2*o*o*o/l/l/l-9*a*o/l/l)/27,u=(a-o*o/3/l)/l,f=2*Math.sqrt(-u/3),c=3*d/u/f,Math.abs(c)>1&&(c>=0?c=1:c=-1),h=Math.acos(c)/3,t.y>=0?n=(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI:n=-(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI,Math.abs(r)<te?e=this.long0:e=ae(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),t.x=e,t.y=n,t}var JT=["Van_der_Grinten_I","VanDerGrinten","vandg"];const QT={init:XT,forward:KT,inverse:ZT,names:JT};function eN(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function tN(t){var e=t.x,n=t.y,r=Math.sin(t.y),i=Math.cos(t.y),s=ae(e-this.long0),a,o,l,u,f,c,h,d,m,p,g,y,v,b,E,O,N,M,P,I,C,R,D;return this.sphere?Math.abs(this.sin_p12-1)<=te?(t.x=this.x0+this.a*(H-n)*Math.sin(s),t.y=this.y0-this.a*(H-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=te?(t.x=this.x0+this.a*(H+n)*Math.sin(s),t.y=this.y0+this.a*(H+n)*Math.cos(s),t):(M=this.sin_p12*r+this.cos_p12*i*Math.cos(s),O=Math.acos(M),N=O?O/Math.sin(O):1,t.x=this.x0+this.a*N*i*Math.sin(s),t.y=this.y0+this.a*N*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),t):(a=Ha(this.es),o=za(this.es),l=Ya(this.es),u=Xa(this.es),Math.abs(this.sin_p12-1)<=te?(f=this.a*en(a,o,l,u,H),c=this.a*en(a,o,l,u,n),t.x=this.x0+(f-c)*Math.sin(s),t.y=this.y0-(f-c)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=te?(f=this.a*en(a,o,l,u,H),c=this.a*en(a,o,l,u,n),t.x=this.x0+(f+c)*Math.sin(s),t.y=this.y0+(f+c)*Math.cos(s),t):(h=r/i,d=js(this.a,this.e,this.sin_p12),m=js(this.a,this.e,r),p=Math.atan((1-this.es)*h+this.es*d*this.sin_p12/(m*i)),g=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(p)-this.sin_p12*Math.cos(s)),g===0?P=Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):Math.abs(Math.abs(g)-Math.PI)<=te?P=-Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):P=Math.asin(Math.sin(s)*Math.cos(p)/Math.sin(g)),y=this.e*this.sin_p12/Math.sqrt(1-this.es),v=this.e*this.cos_p12*Math.cos(g)/Math.sqrt(1-this.es),b=y*v,E=v*v,I=P*P,C=I*P,R=C*P,D=R*P,O=d*P*(1-I*E*(1-E)/6+C/8*b*(1-2*E)+R/120*(E*(4-7*E)-3*y*y*(1-7*E))-D/48*b),t.x=this.x0+O*Math.sin(g),t.y=this.y0+O*Math.cos(g),t))}function nN(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a,o,l,u,f,c,h,d,m,p,g,y,v,b,E,O,N,M,P;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*H*this.a?void 0:(n=e/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=te?a=this.lat0:(a=bi(i*this.sin_p12+t.y*r*this.cos_p12/e),o=Math.abs(this.lat0)-H,Math.abs(o)<=te?this.lat0>=0?s=ae(this.long0+Math.atan2(t.x,-t.y)):s=ae(this.long0-Math.atan2(-t.x,t.y)):s=ae(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=s,t.y=a,t)):(l=Ha(this.es),u=za(this.es),f=Ya(this.es),c=Xa(this.es),Math.abs(this.sin_p12-1)<=te?(h=this.a*en(l,u,f,c,H),e=Math.sqrt(t.x*t.x+t.y*t.y),d=h-e,a=Hl(d/this.a,l,u,f,c),s=ae(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=a,t):Math.abs(this.sin_p12+1)<=te?(h=this.a*en(l,u,f,c,H),e=Math.sqrt(t.x*t.x+t.y*t.y),d=e-h,a=Hl(d/this.a,l,u,f,c),s=ae(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),m=js(this.a,this.e,this.sin_p12),y=Math.cos(g),v=this.e*this.cos_p12*y,b=-v*v/(1-this.es),E=3*this.es*(1-b)*this.sin_p12*this.cos_p12*y/(1-this.es),O=e/m,N=O-b*(1+b)*Math.pow(O,3)/6-E*(1+3*b)*Math.pow(O,4)/24,M=1-b*N*N/2-O*N*N*N/6,p=Math.asin(this.sin_p12*Math.cos(N)+this.cos_p12*Math.sin(N)*y),s=ae(this.long0+Math.asin(Math.sin(g)*Math.sin(N)/Math.cos(p))),P=Math.sin(p),a=Math.atan2((P-this.es*M*this.sin_p12)*Math.tan(p),P*(1-this.es)),t.x=s,t.y=a,t))}var rN=["Azimuthal_Equidistant","aeqd"];const iN={init:eN,forward:tN,inverse:nN,names:rN};function sN(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function aN(t){var e,n,r,i,s,a,o,l,u=t.x,f=t.y;return r=ae(u-this.long0),e=Math.sin(f),n=Math.cos(f),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,(a>0||Math.abs(a)<=te)&&(o=this.a*s*n*Math.sin(r),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function oN(t){var e,n,r,i,s,a,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=bi(e/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=te?(o=this.lat0,t.x=a,t.y=o,t):(o=bi(i*this.sin_p14+t.y*r*this.cos_p14/e),s=Math.abs(this.lat0)-H,Math.abs(s)<=te?(this.lat0>=0?a=ae(this.long0+Math.atan2(t.x,-t.y)):a=ae(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=o,t):(a=ae(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=a,t.y=o,t))}var lN=["ortho"];const uN={init:sN,forward:aN,inverse:oN,names:lN};var at={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},ze={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function cN(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=H-He/2?this.face=at.TOP:this.lat0<=-(H-He/2)?this.face=at.BOTTOM:Math.abs(this.long0)<=He?this.face=at.FRONT:Math.abs(this.long0)<=H+He?this.face=this.long0>0?at.RIGHT:at.LEFT:this.face=at.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function fN(t){var e={x:0,y:0},n,r,i,s,a,o,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,r=t.x,this.face===at.TOP)s=H-n,r>=He&&r<=H+He?(l.value=ze.AREA_0,i=r-H):r>H+He||r<=-(H+He)?(l.value=ze.AREA_1,i=r>0?r-gt:r+gt):r>-(H+He)&&r<=-He?(l.value=ze.AREA_2,i=r+H):(l.value=ze.AREA_3,i=r);else if(this.face===at.BOTTOM)s=H+n,r>=He&&r<=H+He?(l.value=ze.AREA_0,i=-r+H):r<He&&r>=-He?(l.value=ze.AREA_1,i=-r):r<-He&&r>=-(H+He)?(l.value=ze.AREA_2,i=-r-H):(l.value=ze.AREA_3,i=r>0?-r+gt:-r-gt);else{var u,f,c,h,d,m,p;this.face===at.RIGHT?r=Us(r,+H):this.face===at.BACK?r=Us(r,+gt):this.face===at.LEFT&&(r=Us(r,-H)),h=Math.sin(n),d=Math.cos(n),m=Math.sin(r),p=Math.cos(r),u=d*p,f=d*m,c=h,this.face===at.FRONT?(s=Math.acos(u),i=zl(s,c,f,l)):this.face===at.RIGHT?(s=Math.acos(f),i=zl(s,c,-u,l)):this.face===at.BACK?(s=Math.acos(-u),i=zl(s,c,-f,l)):this.face===at.LEFT?(s=Math.acos(-f),i=zl(s,c,u,l)):(s=i=0,l.value=ze.AREA_0)}return o=Math.atan(12/gt*(i+Math.acos(Math.sin(i)*Math.cos(He))-H)),a=Math.sqrt((1-Math.cos(s))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===ze.AREA_1?o+=H:l.value===ze.AREA_2?o+=gt:l.value===ze.AREA_3&&(o+=1.5*gt),e.x=a*Math.cos(o),e.y=a*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function hN(t){var e={lam:0,phi:0},n,r,i,s,a,o,l,u,f,c={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?c.value=ze.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(c.value=ze.AREA_1,n-=H):t.x<0&&-t.x>=Math.abs(t.y)?(c.value=ze.AREA_2,n=n<0?n+gt:n-gt):(c.value=ze.AREA_3,n+=H),f=gt/12*Math.tan(n),a=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),o=Math.atan(a),i=Math.cos(n),s=Math.tan(r),l=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===at.TOP)u=Math.acos(l),e.phi=H-u,c.value===ze.AREA_0?e.lam=o+H:c.value===ze.AREA_1?e.lam=o<0?o+gt:o-gt:c.value===ze.AREA_2?e.lam=o-H:e.lam=o;else if(this.face===at.BOTTOM)u=Math.acos(l),e.phi=u-H,c.value===ze.AREA_0?e.lam=-o+H:c.value===ze.AREA_1?e.lam=-o:c.value===ze.AREA_2?e.lam=-o-H:e.lam=o<0?-o-gt:-o+gt;else{var h,d,m;h=l,f=h*h,f>=1?m=0:m=Math.sqrt(1-f)*Math.sin(o),f+=m*m,f>=1?d=0:d=Math.sqrt(1-f),c.value===ze.AREA_1?(f=d,d=-m,m=f):c.value===ze.AREA_2?(d=-d,m=-m):c.value===ze.AREA_3&&(f=d,d=m,m=-f),this.face===at.RIGHT?(f=h,h=-d,d=f):this.face===at.BACK?(h=-h,d=-d):this.face===at.LEFT&&(f=h,h=d,d=-f),e.phi=Math.acos(-m)-H,e.lam=Math.atan2(d,h),this.face===at.RIGHT?e.lam=Us(e.lam,-H):this.face===at.BACK?e.lam=Us(e.lam,-gt):this.face===at.LEFT&&(e.lam=Us(e.lam,+H))}if(this.es!==0){var p,g,y;p=e.phi<0?1:0,g=Math.tan(e.phi),y=this.b/Math.sqrt(g*g+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-y*y)/(this.one_minus_f*y)),p&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function zl(t,e,n,r){var i;return t<te?(r.value=ze.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=He?r.value=ze.AREA_0:i>He&&i<=H+He?(r.value=ze.AREA_1,i-=H):i>H+He||i<=-(H+He)?(r.value=ze.AREA_2,i=i>=0?i-gt:i+gt):(r.value=ze.AREA_3,i+=H)),i}function Us(t,e){var n=t+e;return n<-gt?n+=ja:n>+gt&&(n-=ja),n}var dN=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const mN={init:cN,forward:fN,inverse:hN,names:dN};var If=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ka=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Xg=.8487,Kg=1.3523,Zg=fr/5,pN=1/Zg,Bs=18,Yl=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},gN=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function yN(t,e,n,r){for(var i=e;r;--r){var s=t(i);if(i-=s,Math.abs(s)<n)break}return i}function vN(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function _N(t){var e=ae(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*Zg);r<0?r=0:r>=Bs&&(r=Bs-1),n=fr*(n-pN*r);var i={x:Yl(If[r],n)*e,y:Yl(Ka[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*Xg+this.x0,i.y=i.y*this.a*Kg+this.y0,i}function bN(t){var e={x:(t.x-this.x0)/(this.a*Xg),y:Math.abs(t.y-this.y0)/(this.a*Kg)};if(e.y>=1)e.x/=If[Bs][0],e.y=t.y<0?-H:H;else{var n=Math.floor(e.y*Bs);for(n<0?n=0:n>=Bs&&(n=Bs-1);;)if(Ka[n][0]>e.y)--n;else if(Ka[n+1][0]<=e.y)++n;else break;var r=Ka[n],i=5*(e.y-r[0])/(Ka[n+1][0]-r[0]);i=yN(function(s){return(Yl(r,s)-e.y)/gN(r,s)},i,te,100),e.x/=Yl(If[n],i),e.y=(5*n+i)*At,t.y<0&&(e.y=-e.y)}return e.x=ae(e.x+this.long0),e}var EN=["Robinson","robin"];const SN={init:vN,forward:_N,inverse:bN,names:EN};function wN(){this.name="geocent"}function xN(t){var e=xg(t,this.es,this.a);return e}function ON(t){var e=Og(t,this.es,this.a,this.b);return e}var MN=["Geocentric","geocentric","geocent","Geocent"];const TN={init:wN,forward:xN,inverse:ON,names:MN};var Bt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Za={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function NN(){if(Object.keys(Za).forEach(function(n){if(typeof this[n]>"u")this[n]=Za[n].def;else{if(Za[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);Za[n].num&&(this[n]=parseFloat(this[n]))}Za[n].degrees&&(this[n]=this[n]*At)}.bind(this)),Math.abs(Math.abs(this.lat0)-H)<te?this.mode=this.lat0<0?Bt.S_POLE:Bt.N_POLE:Math.abs(this.lat0)<te?this.mode=Bt.EQUIT:(this.mode=Bt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function CN(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i,s;switch(this.mode){case Bt.OBLIQ:s=this.sinph0*e+this.cosph0*n*r;break;case Bt.EQUIT:s=n*r;break;case Bt.S_POLE:s=-e;break;case Bt.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),i=s*n*Math.sin(t.x),this.mode){case Bt.OBLIQ:s*=this.cosph0*e-this.sinph0*n*r;break;case Bt.EQUIT:s*=e;break;case Bt.N_POLE:s*=-(n*r);break;case Bt.S_POLE:s*=n*r;break}var a,o;return a=s*this.cg+i*this.sg,o=1/(a*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*o,s=a*o,t.x=i*this.a,t.y=s*this.a,t}function LN(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,r,i;i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var s=Ln(t.x,t.y);if(Math.abs(s)<te)e.x=0,e.y=t.y;else{var a,o;switch(o=1-s*s*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/s+s/this.pn1),a=Math.sqrt(1-o*o),this.mode){case Bt.OBLIQ:e.y=Math.asin(a*this.sinph0+t.y*o*this.cosph0/s),t.y=(a-this.sinph0*Math.sin(e.y))*s,t.x*=o*this.cosph0;break;case Bt.EQUIT:e.y=Math.asin(t.y*o/s),t.y=a*s,t.x*=o;break;case Bt.N_POLE:e.y=Math.asin(a),t.y=-t.y;break;case Bt.S_POLE:e.y=-Math.asin(a);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var PN=["Tilted_Perspective","tpers"];const kN={init:NN,forward:CN,inverse:LN,names:PN};function AN(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function DN(t){var e=t.x,n=t.y,r,i,s,a;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var o=this.radius_p/Ln(this.radius_p*Math.cos(n),Math.sin(n));if(i=o*Math.cos(e)*Math.cos(n),s=o*Math.sin(e)*Math.cos(n),a=o*Math.sin(n),(this.radius_g-i)*i-s*s-a*a*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/Ln(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/Ln(s,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(e)*r,s=Math.sin(e)*r,a=Math.sin(n),r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/Ln(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/Ln(s,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function IN(t){var e=-1,n=0,r=0,i,s,a,o;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Ln(1,r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Ln(1,n));var l=r/this.radius_p;if(i=n*n+l*l+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var RN=["Geostationary Satellite View","Geostationary_Satellite","geos"];const $N={init:AN,forward:DN,inverse:IN,names:RN};var Ja=1.340264,Qa=-.081106,eo=893e-6,to=.003796,Xl=Math.sqrt(3)/2;function FN(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function VN(t){var e=ae(t.x-this.long0),n=t.y,r=Math.asin(Xl*Math.sin(n)),i=r*r,s=i*i*i;return t.x=e*Math.cos(r)/(Xl*(Ja+3*Qa*i+s*(7*eo+9*to*i))),t.y=r*(Ja+Qa*i+s*(eo+to*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function jN(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,r=t.y,i,s,a,o,l,u;for(u=0;u<n&&(i=r*r,s=i*i*i,a=r*(Ja+Qa*i+s*(eo+to*i))-t.y,o=Ja+3*Qa*i+s*(7*eo+9*to*i),r-=l=a/o,!(Math.abs(l)<e));++u);return i=r*r,s=i*i*i,t.x=Xl*t.x*(Ja+3*Qa*i+s*(7*eo+9*to*i))/Math.cos(r),t.y=Math.asin(Math.sin(r)/Xl),t.x=ae(t.x+this.long0),t}var GN=["eqearth","Equal Earth","Equal_Earth"];const UN={init:FN,forward:VN,inverse:jN,names:GN};function BN(t){t.Proj.projections.add(Wl),t.Proj.projections.add(ql),t.Proj.projections.add(WO),t.Proj.projections.add(eM),t.Proj.projections.add(aM),t.Proj.projections.add(fM),t.Proj.projections.add(yM),t.Proj.projections.add(SM),t.Proj.projections.add(TM),t.Proj.projections.add(kM),t.Proj.projections.add(XM),t.Proj.projections.add(tT),t.Proj.projections.add(aT),t.Proj.projections.add(hT),t.Proj.projections.add(yT),t.Proj.projections.add(ST),t.Proj.projections.add(TT),t.Proj.projections.add(kT),t.Proj.projections.add(FT),t.Proj.projections.add(BT),t.Proj.projections.add(YT),t.Proj.projections.add(QT),t.Proj.projections.add(iN),t.Proj.projections.add(uN),t.Proj.projections.add(mN),t.Proj.projections.add(SN),t.Proj.projections.add(TN),t.Proj.projections.add(kN),t.Proj.projections.add($N),t.Proj.projections.add(UN)}Ut.defaultDatum="WGS84",Ut.Proj=mr,Ut.WGS84=new Ut.Proj("WGS84"),Ut.Point=Fs,Ut.toPoint=Cg,Ut.defs=Qt,Ut.nadgrid=Hx,Ut.transform=Ul,Ut.mgrs=lO,Ut.version="__VERSION__",BN(Ut);function WN(){var t,e,n;Ut.defs("EPSG:32632","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs"),Ut.defs("EPSG:32631","+proj=utm +zone=31 +datum=WGS84 +units=m +no_defs"),Ut.defs("EPSG:2169","+proj=tmerc +lat_0=49.83333333333334 +lon_0=6.166666666666667 +k=1 +x_0=80000 +y_0=100000 +ellps=intl +towgs84=-189.681,18.3463,-42.7695,-0.33746,-3.09264,2.53861,0.4598 +units=m +no_defs"),Fi.register(Ut),(t=Et.get("EPSG:32632"))==null||t.setExtent([166021.44,0,833978.55,932900518e-2]),(e=Et.get("EPSG:32631"))==null||e.setExtent([166021.44,0,833978.55,932900518e-2]),(n=Et.get("EPSG:2169"))==null||n.setExtent([48225.17,56225.6,105842.04,139616.4])}function Jg(t,e,n){const r=he(t);class i extends Rf{constructor(a){super(r,a,e,n)}}return ut(i,"def",r),i}const qN=typeof HTMLElement<"u"?HTMLElement:class{};class Rf extends qN{constructor(n,r={},i={},s){super();ut(this,"_instance",null);ut(this,"_connected",!1);ut(this,"_resolved",!1);ut(this,"_numberProps",null);ut(this,"_styles");ut(this,"_slots");this._def=n,this._props=r,this._config=i,this._config=Qe({shadowRoot:!0},this._config),this._config.shadowRoot?this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def)):s&&s(this._createVNode(),this._root)}get _root(){return this._config.shadowRoot?this.shadowRoot:this}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,sl(()=>{this._connected||(Dp(null,this._root),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const n=(i,s=!1)=>{const{props:a,styles:o}=i;let l;if(a&&!ue(a))for(const u in a){const f=a[u];(f===Number||f&&f.type===Number)&&(u in this._props&&(this._props[u]=dc(this._props[u])),(l||(l=Object.create(null)))[mn(u)]=!0)}this._numberProps=l,s&&this._resolveProps(i),this._applyStyles(o),this._update()},r=this._def.__asyncLoader;r?r().then(i=>n(i,!0)):n(this._def)}_resolveProps(n){const{props:r}=n,i=ue(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(mn))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(a){this._setProp(s,a)}})}_setAttr(n){let r=this.getAttribute(n);const i=mn(n);this._numberProps&&this._numberProps[i]&&(r=dc(r)),this._setProp(i,r,!1)}_getProp(n){return this._props[n]}_setProp(n,r,i=!0,s=!0){r!==this._props[n]&&(this._props[n]=r,s&&this._instance&&this._update(),i&&(r===!0?this.setAttribute(sn(n),""):typeof r=="string"||typeof r=="number"?this.setAttribute(sn(n),r+""):r||this.removeAttribute(sn(n))))}_update(){Dp(this._createVNode(),this._root)}_createVNode(){const n=se(this._def,Qe({},this._props));return this._instance||(n.ce=r=>{this._instance=r,r.isCE=!0;const i=(a,o)=>{this.dispatchEvent(new CustomEvent(a,{detail:o}))};r.emit=(a,...o)=>{i(a,o),sn(a)!==a&&i(sn(a),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof Rf){r.parent=s._instance,r.provides=s._instance.provides;break}}),n}_applyStyles(n){n&&n.forEach(r=>{const i=document.createElement("style");i.textContent=r,this._root.appendChild(i)})}}const e4="";var no=(t=>(t.INFO="alert-info",t.WARNING="alert-warning",t.ERROR="alert-danger",t))(no||{});const HN=no.INFO,zN=7e3,YN=4e3,Kl=ss("alert-notifications",()=>{const t=Se([]);function e(r,i=HN,s){const a={message:r,type:i,duration:s!=null?s:i===no.WARNING?YN:zN};t.value.push(a)}function n(r){t.value.splice(r,1)}return{notifications:t,addNotification:e,removeNotification:n}},{}),XN=he({__name:"notification-item",props:{notification:{type:Object,required:!0}},emits:["close"],setup(t){const e=t,n=nt(!0);function r(i,s){setTimeout(()=>{n.value=!1},e.notification.duration),s()}return(i,s)=>{const a=Rc("dompurify-html");return k(),Ge(xl,{name:"fade-out",appear:"","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0",onEnter:r,onAfterLeave:s[0]||(s[0]=o=>i.$emit("close"))},{default:oi(()=>[n.value?fl((k(),G("div",{key:0,class:Ae(["lux-alert",`lux-${e.notification.type}`]),role:"alert"},null,2)),[[a,e.notification.message]]):F("v-if",!0)]),_:1})}}}),ge=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},KN=ge(XN,[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/alert-notifications/notification-item.vue"]]),ZN={key:0,class:"lux-notifications fixed w-[500px] top-10 left-1/2 ml-[-250px] z-50"},Qg=ge(he({__name:"alert-notifications",setup(t){const e=Kl(),{notifications:n}=Ue(e);function r(i){e.removeNotification(i)}return(i,s)=>(k(),Ge(np,{to:"body"},[x(n).length?(k(),G("div",ZN,[(k(!0),G(je,null,On(x(n),(a,o)=>(k(),Ge(KN,{key:o,notification:a,onClose:()=>r(o)},null,8,["notification","onClose"]))),128))])):F("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/alert-notifications/alert-notifications.vue"]]),JN={class:"lux-dropdown"},QN={class:"h-full"},e2=["aria-expanded"],t2=L("span",{class:"lux-caret"},null,-1),n2={class:"lux-dropdown-wrapper"},r2=["aria-label","data-value"],$f=ge(he({__name:"dropdown-list",props:{placeholder:{type:String,required:!0},options:{type:Array,required:!0,default:()=>[{label:"Default label",value:"Default value"}]},modelValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=nt(!1),s=nt();function a(f){i.value=f===void 0?!i.value:f}function o(f){f.stopImmediatePropagation(),a()}function l(f){s.value=f.target.dataset.value,r("change",s.value)}function u(){a(!1)}return yn(()=>document.addEventListener("click",u)),ui(()=>document.removeEventListener("click",u)),(f,c)=>{var h,d;return k(),G("div",JN,[L("div",QN,[L("button",{type:"button",class:Ae(["lux-btn lux-dropdown-btn",i.value?"expanded":""]),"aria-expanded":i.value,"aria-haspopup":"true",onClick:o},[L("span",null,oe((d=n.placeholder)!=null?d:(h=n.options[0])==null?void 0:h.label),1),t2],10,e2)]),L("div",n2,[L("ul",{class:Ae(["lux-dropdown-list",i.value?"":"hidden"]),tabindex:"-1"},[(k(!0),G(je,null,On(n.options,m=>(k(),G("li",{key:m.value,class:Ae(f.modelValue===m.value?"selected":"")},[L("button",{class:"lux-dropdown-list-item","aria-label":m.ariaLabel,"data-value":m.value,onClick:l},oe(m.label),9,r2)],2))),128))],2)])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/dropdown-list.vue"]]),ro="EPSG:3857",ey="EPSG:4326",i2="EPSG:2169";let Ff;const ty=nt();function pr(){function t(){return Ff}function e(){return ty.value=Ff=new Pb.default({view:new kb.default({zoom:10,center:[682439,6379152],multiWorld:!0}),controls:[],keyboardEventTarget:document}),Ff}function n(f,c){return f.id===c.id}function r(f,c){return f===c}function i(f,c){var h;return(h=f.layers)==null?void 0:h.some(d=>n(d,c))}function s(f,c){var d;const h=(d=f==null?void 0:f.layers)==null?void 0:d.find(m=>n(m,c));return!r(h,c)}function a(f,c){return!(c===null||!("layers"in f)||!("layers"in c)||typeof c.layers>"u"||typeof f.layers>"u"||f.layers===c.layers)}function o(f,c){return!("layers"in f)||typeof f.layers>"u"?[]:c===null||!("layers"in c)?f.layers.map((h,d)=>({layer:h,position:d})):f.layers===c.layers?[]:f.layers.reduce((h,d,m)=>i(c,d)?h:[...h,{layer:d,position:m}],[])}function l(f,c){return a(f,c)?c.layers.reduce((h,d)=>i(f,d)?h:[...h,d],[]):[]}function u(f,c){return a(f,c)?f.layers.reduce((h,d)=>s(c,d)?[...h,d]:h,[]):[]}return{olMap:ty,getOlMap:t,createMap:e,equalsLayer:n,hasLayer:i,layerHasChanged:s,contextHasChanged:a,getAddedLayers:o,getRemovedLayers:l,getMutatedLayers:u}}const io=new Map;function Pn(t){return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(t)}function gr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s2(t,e){if(Pn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ny(t){var e=s2(t,"string");return Pn(e)=="symbol"?e:e+""}function ry(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ny(r.key),r)}}function yr(t,e,n){return e&&ry(t.prototype,e),n&&ry(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vf(t,e){return Vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vf(t,e)}function Zl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vf(t,e)}function so(t,e){if(e&&(Pn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ei(t)}function vr(t){return vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vr(t)}function Si(t,e,n){return e=ny(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a2(t){if(Array.isArray(t))return t}function o2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l2(t,e){if(!!t){if(typeof t=="string")return iy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iy(t,e)}}function u2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c2(t){return a2(t)||o2(t)||l2(t)||u2()}function sy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sy(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var f2={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},h2=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};gr(this,t),this.init(e,n)}return yr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||f2,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,ay(ay({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),_r=new h2,wi=function(){function t(){gr(this,t),this.observers={}}return yr(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(!!this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var a=[].concat(this.observers[n]);a.forEach(function(l){l.apply(void 0,i)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(l){l.apply(l,[n].concat(i))})}}}]),t}();function ao(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function oy(t){return t==null?"":""+t}function d2(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function jf(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var a=r(s.shift());!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function ly(t,e,n){var r=jf(t,e,Object),i=r.obj,s=r.k;i[s]=n}function m2(t,e,n,r){var i=jf(t,e,Object),s=i.obj,a=i.k;s[a]=s[a]||[],r&&(s[a]=s[a].concat(n)),r||s[a].push(n)}function Jl(t,e){var n=jf(t,e),r=n.obj,i=n.k;if(!!r)return r[i]}function p2(t,e,n){var r=Jl(t,n);return r!==void 0?r:Jl(e,n)}function uy(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):uy(t[r],e[r],n):t[r]=e[r]);return t}function Ws(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var g2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function y2(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return g2[e]}):t}var Ql=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,v2=[" ",",","?","!",";"];function _2(t,e,n){e=e||"",n=n||"";var r=v2.filter(function(o){return e.indexOf(o)<0&&n.indexOf(o)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(o){return o==="?"?"\\?":o}).join("|"),")")),s=!i.test(t);if(!s){var a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s}function eu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var a=2,o=r.slice(s,s+a).join(n),l=i[o];l===void 0&&r.length>s+a;)a++,o=r.slice(s,s+a).join(n),l=i[o];if(l===void 0)return;if(l===null)return null;if(e.endsWith(o)){if(typeof l=="string")return l;if(o&&typeof l[o]=="string")return l[o]}var u=r.slice(s+a).join(n);return u?eu(l,u,n):void 0}i=i[r[s]]}return i}}function cy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cy(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b2(t){var e=E2();return function(){var r=vr(t),i;if(e){var s=vr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return so(this,i)}}function E2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var S2=function(t){Zl(n,t);var e=b2(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return gr(this,n),i=e.call(this),Ql&&wi.call(Ei(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return yr(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[i,s];a&&typeof a!="string"&&(f=f.concat(a)),a&&typeof a=="string"&&(f=f.concat(l?a.split(l):a)),i.indexOf(".")>-1&&(f=i.split("."));var c=Jl(this.data,f);return c||!u||typeof a!="string"?c:eu(this.data&&this.data[i]&&this.data[i][s],a,l)}},{key:"addResource",value:function(i,s,a,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,f=[i,s];a&&(f=f.concat(u?a.split(u):a)),i.indexOf(".")>-1&&(f=i.split("."),o=s,s=f[1]),this.addNamespaces(s),ly(this.data,f,o),l.silent||this.emit("added",i,s,a,o)}},{key:"addResources",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in a)(typeof a[l]=="string"||Object.prototype.toString.apply(a[l])==="[object Array]")&&this.addResource(i,s,l,a[l],{silent:!0});o.silent||this.emit("added",i,s,a)}},{key:"addResourceBundle",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[i,s];i.indexOf(".")>-1&&(f=i.split("."),o=a,a=s,s=f[1]),this.addNamespaces(s);var c=Jl(this.data,f)||{};o?uy(c,a,l):c=tu(tu({},c),a),ly(this.data,f,c),u.silent||this.emit("added",i,s,a)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?tu(tu({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),a=s&&Object.keys(s)||[];return!!a.find(function(o){return s[o]&&Object.keys(s[o]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(wi),fy={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var a=this;return e.forEach(function(o){a.processors[o]&&(n=a.processors[o].process(n,r,i,s))}),n}};function hy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hy(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w2(t){var e=x2();return function(){var r=vr(t),i;if(e){var s=vr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return so(this,i)}}function x2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var dy={},my=function(t){Zl(n,t);var e=w2(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return gr(this,n),i=e.call(this),Ql&&wi.call(Ei(i)),d2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Ei(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=_r.create("translator"),i}return yr(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var a=this.resolve(i,s);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(i,s){var a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS||[],u=a&&i.indexOf(a)>-1,f=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!_2(i,a,o);if(u&&!f){var c=i.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:i,namespaces:l};var h=i.split(a);(a!==o||a===o&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),i=h.join(o)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,a){var o=this;if(Pn(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),Pn(s)==="object"&&(s=Wt({},s)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=this.extractFromKey(i[i.length-1],s),c=f.key,h=f.namespaces,d=h[h.length-1],m=s.lng||this.language,p=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(p){var g=s.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(d).concat(g).concat(c),usedKey:c,exactUsedKey:c,usedLng:m,usedNS:d}:"".concat(d).concat(g).concat(c)}return l?{res:c,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:d}:c}var y=this.resolve(i,s),v=y&&y.res,b=y&&y.usedKey||c,E=y&&y.exactUsedKey||c,O=Object.prototype.toString.apply(v),N=["[object Number]","[object Function]","[object RegExp]"],M=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject,I=typeof v!="string"&&typeof v!="boolean"&&typeof v!="number";if(P&&v&&I&&N.indexOf(O)<0&&!(typeof M=="string"&&O==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,v,Wt(Wt({},s),{},{ns:h})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return l?(y.res=C,y):C}if(u){var R=O==="[object Array]",D=R?[]:{},Q=R?E:b;for(var be in v)if(Object.prototype.hasOwnProperty.call(v,be)){var T="".concat(Q).concat(u).concat(be);D[be]=this.translate(T,Wt(Wt({},s),{joinArrays:!1,ns:h})),D[be]===T&&(D[be]=v[be])}v=D}}else if(P&&typeof M=="string"&&O==="[object Array]")v=v.join(M),v&&(v=this.extendTranslation(v,i,s,a));else{var $=!1,z=!1,K=s.count!==void 0&&typeof s.count!="string",Pe=n.hasDefaultValue(s),ke=K?this.pluralResolver.getSuffix(m,s.count,s):"",_t=s["defaultValue".concat(ke)]||s.defaultValue;!this.isValidLookup(v)&&Pe&&($=!0,v=_t),this.isValidLookup(v)||(z=!0,v=c);var Xt=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Ne=Xt&&z?void 0:v,Rt=Pe&&_t!==v&&this.options.updateMissing;if(z||$||Rt){if(this.logger.log(Rt?"updateKey":"missingKey",m,d,c,Rt?_t:v),u){var lt=this.resolve(c,Wt(Wt({},s),{},{keySeparator:!1}));lt&&lt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Mr=[],Ie=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ie&&Ie[0])for(var fn=0;fn<Ie.length;fn++)Mr.push(Ie[fn]);else this.options.saveMissingTo==="all"?Mr=this.languageUtils.toResolveHierarchy(s.lng||this.language):Mr.push(s.lng||this.language);var Tr=function($t,Nr,Zr){var _=Pe&&Zr!==v?Zr:Ne;o.options.missingKeyHandler?o.options.missingKeyHandler($t,d,Nr,_,Rt,s):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing($t,d,Nr,_,Rt,s),o.emit("missingKey",$t,d,Nr,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?Mr.forEach(function(Kr){o.pluralResolver.getSuffixes(Kr,s).forEach(function($t){Tr([Kr],c+$t,s["defaultValue".concat($t)]||_t)})}):Tr(Mr,c,_t))}v=this.extendTranslation(v,i,s,y,a),z&&v===c&&this.options.appendNamespaceToMissingKey&&(v="".concat(d,":").concat(c)),(z||$)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(c):c,$?v:void 0):v=this.options.parseMissingKeyHandler(v))}return l?(y.res=v,y):v}},{key:"extendTranslation",value:function(i,s,a,o,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Wt(Wt({},this.options.interpolation.defaultVariables),a),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(Wt(Wt({},a),{interpolation:Wt(Wt({},this.options.interpolation),a.interpolation)}));var f=typeof i=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(f){var h=i.match(this.interpolator.nestingRegexp);c=h&&h.length}var d=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(d=Wt(Wt({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,a.lng||this.language,a),f){var m=i.match(this.interpolator.nestingRegexp),p=m&&m.length;c<p&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(a.lng=o.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var v=arguments.length,b=new Array(v),E=0;E<v;E++)b[E]=arguments[E];return l&&l[0]===b[0]&&!a.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(b[0]," in key: ").concat(s[0])),null):u.translate.apply(u,b.concat([s]))},a)),a.interpolation&&this.interpolator.reset()}var g=a.postProcess||this.options.postProcess,y=typeof g=="string"?[g]:g;return i!=null&&y&&y.length&&a.applyPostProcessor!==!1&&(i=fy.handle(y,i,s,this.options&&this.options.postProcessPassResolved?Wt({i18nResolved:o},a):a,this)),i}},{key:"resolve",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,l,u,f,c;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!s.isValidLookup(o)){var d=s.extractFromKey(h,a),m=d.key;l=m;var p=d.namespaces;s.options.fallbackNS&&(p=p.concat(s.options.fallbackNS));var g=a.count!==void 0&&typeof a.count!="string",y=g&&!a.ordinal&&a.count===0&&s.pluralResolver.shouldUseIntlApi(),v=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",b=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);p.forEach(function(E){s.isValidLookup(o)||(c=E,!dy["".concat(b[0],"-").concat(E)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(c)&&(dy["".concat(b[0],"-").concat(E)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(b.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(function(O){if(!s.isValidLookup(o)){f=O;var N=[m];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(N,m,O,E,a);else{var M;g&&(M=s.pluralResolver.getSuffix(O,a.count,a));var P="".concat(s.options.pluralSeparator,"zero");if(g&&(N.push(m+M),y&&N.push(m+P)),v){var I="".concat(m).concat(s.options.contextSeparator).concat(a.context);N.push(I),g&&(N.push(I+M),y&&N.push(I+P))}}for(var C;C=N.pop();)s.isValidLookup(o)||(u=C,o=s.getResource(O,E,C,a))}}))})}}),{res:o,usedKey:l,exactUsedKey:u,usedLng:f,usedNS:c}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,a,o):this.resourceStore.getResource(i,s,a,o)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&s===a.substring(0,s.length)&&i[a]!==void 0)return!0;return!1}}]),n}(wi);function Gf(t){return t.charAt(0).toUpperCase()+t.slice(1)}var py=function(){function t(e){gr(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_r.create("languageUtils")}return yr(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Gf(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Gf(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=Gf(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var a=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(a))&&(i=a)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var a=r.getLanguagePartFromCode(s);if(r.isSupportedCode(a))return i=a;i=r.options.supportedLngs.find(function(o){if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&o.indexOf(a)===0)return o})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),a=[],o=function(u){!u||(i.isSupportedCode(u)?a.push(u):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(n))):typeof n=="string"&&o(this.formatLanguageCode(n)),s.forEach(function(l){a.indexOf(l)<0&&o(i.formatLanguageCode(l))}),a}}]),t}(),O2=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],M2={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},T2=["v1","v2","v3"],gy={zero:0,one:1,two:2,few:3,many:4,other:5};function N2(){var t={};return O2.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:M2[e.fc]}})}),t}var C2=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};gr(this,t),this.languageUtils=e,this.options=n,this.logger=_r.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=N2()}return yr(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(a,o){return gy[a]-gy[o]}).map(function(a){return"".concat(r.options.prepend).concat(a)}):s.numbers.map(function(a){return r.getSuffix(n,a,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),a=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var o=function(){return i.options.prepend&&a.toString()?i.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?o():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!T2.includes(this.options.compatibilityJSON)}}]),t}();function yy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yy(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vy(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=p2(t,e,n);return!s&&i&&typeof n=="string"&&(s=eu(t,n,r),s===void 0&&(s=eu(e,n,r))),s}var L2=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};gr(this,t),this.logger=_r.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return yr(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:y2,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Ws(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Ws(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Ws(r.nestingPrefix):r.nestingPrefixEscaped||Ws("$t("),this.nestingSuffix=r.nestingSuffix?Ws(r.nestingSuffix):r.nestingSuffixEscaped||Ws(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var a=this,o,l,u,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(g){return g.replace(/\$/g,"$$$$")}var h=function(y){if(y.indexOf(a.formatSeparator)<0){var v=vy(r,f,y,a.options.keySeparator,a.options.ignoreJSONStructure);return a.alwaysFormat?a.format(v,void 0,i,Hn(Hn(Hn({},s),r),{},{interpolationkey:y})):v}var b=y.split(a.formatSeparator),E=b.shift().trim(),O=b.join(a.formatSeparator).trim();return a.format(vy(r,f,E,a.options.keySeparator,a.options.ignoreJSONStructure),O,i,Hn(Hn(Hn({},s),r),{},{interpolationkey:E}))};this.resetRegExp();var d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,p=[{regex:this.regexpUnescape,safeValue:function(y){return c(y)}},{regex:this.regexp,safeValue:function(y){return a.escapeValue?c(a.escape(y)):c(y)}}];return p.forEach(function(g){for(u=0;o=g.regex.exec(n);){var y=o[1].trim();if(l=h(y),l===void 0)if(typeof d=="function"){var v=d(n,o,s);l=typeof v=="string"?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))l="";else if(m){l=o[0];continue}else a.logger.warn("missed to pass in variable ".concat(y," for interpolating ").concat(n)),l="";else typeof l!="string"&&!a.useRawValueToEscape&&(l=oy(l));var b=g.safeValue(l);if(n=n.replace(o[0],b),m?(g.regex.lastIndex+=l.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,u++,u>=a.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,l;function u(d,m){var p=this.nestingOptionsSeparator;if(d.indexOf(p)<0)return d;var g=d.split(new RegExp("".concat(p,"[ ]*{"))),y="{".concat(g[1]);d=g[0],y=this.interpolate(y,l);var v=y.match(/'/g),b=y.match(/"/g);(v&&v.length%2===0&&!b||b.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),m&&(l=Hn(Hn({},m),l))}catch(E){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),E),"".concat(d).concat(p).concat(y)}return delete l.defaultValue,d}for(;a=this.nestingRegexp.exec(n);){var f=[];l=Hn({},s),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var c=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var h=a[1].split(this.formatSeparator).map(function(d){return d.trim()});a[1]=h.shift(),f=h,c=!0}if(o=r(u.call(this,a[1].trim(),l),l),o&&a[0]===n&&typeof o!="string")return o;typeof o!="string"&&(o=oy(o)),o||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(n)),o=""),c&&(o=f.reduce(function(d,m){return i.format(d,m,s.lng,Hn(Hn({},s),{},{interpolationkey:a[1].trim()}))},o.trim())),n=n.replace(a[0],o),this.regexp.lastIndex=0}return n}}]),t}();function _y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_y(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P2(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(a){if(!!a){var o=a.split(":"),l=c2(o),u=l[0],f=l.slice(1),c=f.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=c),c==="false"&&(n[u.trim()]=!1),c==="true"&&(n[u.trim()]=!0),isNaN(c)||(n[u.trim()]=parseInt(c,10))}})}}return{formatName:e,formatOptions:n}}function qs(t){var e={};return function(r,i,s){var a=i+JSON.stringify(s),o=e[a];return o||(o=t(i,s),e[a]=o),o(r)}}var k2=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};gr(this,t),this.logger=_r.create("formatter"),this.options=e,this.formats={number:qs(function(n,r){var i=new Intl.NumberFormat(n,Gr({},r));return function(s){return i.format(s)}}),currency:qs(function(n,r){var i=new Intl.NumberFormat(n,Gr(Gr({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:qs(function(n,r){var i=new Intl.DateTimeFormat(n,Gr({},r));return function(s){return i.format(s)}}),relativetime:qs(function(n,r){var i=new Intl.RelativeTimeFormat(n,Gr({},r));return function(s){return i.format(s,r.range||"day")}}),list:qs(function(n,r){var i=new Intl.ListFormat(n,Gr({},r));return function(s){return i.format(s)}})},this.init(e)}return yr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=qs(r)}},{key:"format",value:function(n,r,i){var s=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=r.split(this.formatSeparator),l=o.reduce(function(u,f){var c=P2(f),h=c.formatName,d=c.formatOptions;if(s.formats[h]){var m=u;try{var p=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},g=p.locale||p.lng||a.locale||a.lng||i;m=s.formats[h](u,g,Gr(Gr(Gr({},d),a),p))}catch(y){s.logger.warn(y)}return m}else s.logger.warn("there was no format function for ".concat(h));return u},n);return l}}]),t}();function by(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?by(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A2(t){var e=D2();return function(){var r=vr(t),i;if(e){var s=vr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return so(this,i)}}function D2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I2(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var R2=function(t){Zl(n,t);var e=A2(n);function n(r,i,s){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return gr(this,n),a=e.call(this),Ql&&wi.call(Ei(a)),a.backend=r,a.store=i,a.services=s,a.languageUtils=s.languageUtils,a.options=o,a.logger=_r.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(s,o.backend,o),a}return yr(n,[{key:"queueLoad",value:function(i,s,a,o){var l=this,u={},f={},c={},h={};return i.forEach(function(d){var m=!0;s.forEach(function(p){var g="".concat(d,"|").concat(p);!a.reload&&l.store.hasResourceBundle(d,p)?l.state[g]=2:l.state[g]<0||(l.state[g]===1?f[g]===void 0&&(f[g]=!0):(l.state[g]=1,m=!1,f[g]===void 0&&(f[g]=!0),u[g]===void 0&&(u[g]=!0),h[p]===void 0&&(h[p]=!0)))}),m||(c[d]=!0)}),(Object.keys(u).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(u),pending:Object.keys(f),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,s,a){var o=i.split("|"),l=o[0],u=o[1];s&&this.emit("failedLoading",l,u,s),a&&this.store.addResourceBundle(l,u,a),this.state[i]=s?-1:2;var f={};this.queue.forEach(function(c){m2(c.loaded,[l],u),I2(c,i),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(function(h){f[h]||(f[h]={});var d=c.loaded[h];d.length&&d.forEach(function(m){f[h][m]===void 0&&(f[h][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(i,s,a){var o=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:a,tried:l,wait:u,callback:f});return}this.readingCalls++;var c=function(p,g){if(o.readingCalls--,o.waitingReads.length>0){var y=o.waitingReads.shift();o.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(p&&g&&l<o.maxRetries){setTimeout(function(){o.read.call(o,i,s,a,l+1,u*2,f)},u);return}f(p,g)},h=this.backend[a].bind(this.backend);if(h.length===2){try{var d=h(i,s);d&&typeof d.then=="function"?d.then(function(m){return c(null,m)}).catch(c):c(null,d)}catch(m){c(m)}return}return h(i,s,c)}},{key:"prepareLoading",value:function(i,s){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,o,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(f){a.loadOne(f)})}},{key:"load",value:function(i,s,a){this.prepareLoading(i,s,{},a)}},{key:"reload",value:function(i,s,a){this.prepareLoading(i,s,{reload:!0},a)}},{key:"loadOne",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=i.split("|"),l=o[0],u=o[1];this.read(l,u,"read",void 0,void 0,function(f,c){f&&s.logger.warn("".concat(a,"loading namespace ").concat(u," for language ").concat(l," failed"),f),!f&&c&&s.logger.log("".concat(a,"loaded namespace ").concat(u," for language ").concat(l),c),s.loaded(i,f,c)})}},{key:"saveMissing",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var c=Ey(Ey({},u),{},{isUpdate:l}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var d;h.length===5?d=h(i,s,a,o,c):d=h(i,s,a,o),d&&typeof d.then=="function"?d.then(function(m){return f(null,m)}).catch(f):f(null,d)}catch(m){f(m)}else h(i,s,a,o,f,c)}!i||!i[0]||this.store.addResource(i[0],s,a,o)}}}]),n}(wi);function Sy(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(Pn(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),Pn(e[2])==="object"||Pn(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function wy(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function xy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xy(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $2(t){var e=F2();return function(){var r=vr(t),i;if(e){var s=vr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return so(this,i)}}function F2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nu(){}function V2(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var ru=function(t){Zl(n,t);var e=$2(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(gr(this,n),r=e.call(this),Ql&&wi.call(Ei(r)),r.options=wy(i),r.services={},r.logger=_r,r.modules={external:[]},V2(Ei(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),so(r,Ei(r));setTimeout(function(){r.init(i,s)},0)}return r}return yr(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var o=Sy();this.options=br(br(br({},o),this.options),wy(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=br(br({},o.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function l(y){return y?typeof y=="function"?new y:y:null}if(!this.options.isClone){this.modules.logger?_r.init(l(this.modules.logger),this.options):_r.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=k2);var f=new py(this.options);this.store=new S2(this.options.resources,this.options);var c=this.services;c.logger=_r,c.resourceStore=this.store,c.languageUtils=f,c.pluralResolver=new C2(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(c.formatter=l(u),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new L2(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new R2(l(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(y){for(var v=arguments.length,b=new Array(v>1?v-1:0),E=1;E<v;E++)b[E-1]=arguments[E];i.emit.apply(i,[y].concat(b))}),this.modules.languageDetector&&(c.languageDetector=l(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=l(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new my(this.services,this.options),this.translator.on("*",function(y){for(var v=arguments.length,b=new Array(v>1?v-1:0),E=1;E<v;E++)b[E-1]=arguments[E];i.emit.apply(i,[y].concat(b))}),this.modules.external.forEach(function(y){y.init&&y.init(i)})}if(this.format=this.options.interpolation.format,a||(a=nu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(y){i[y]=function(){var v;return(v=i.store)[y].apply(v,arguments)}});var m=["addResource","addResources","addResourceBundle","removeResourceBundle"];m.forEach(function(y){i[y]=function(){var v;return(v=i.store)[y].apply(v,arguments),i}});var p=ao(),g=function(){var v=function(E,O){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),p.resolve(O),a(E,O)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return v(null,i.t.bind(i));i.changeLanguage(i.options.lng,v)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),p}},{key:"loadResources",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nu,o=a,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(o=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return o();var u=[],f=function(d){if(!!d){var m=s.services.languageUtils.toResolveHierarchy(d);m.forEach(function(p){u.indexOf(p)<0&&u.push(p)})}};if(l)f(l);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(h){return f(h)})}this.options.preload&&this.options.preload.forEach(function(h){return f(h)}),this.services.backendConnector.load(u,this.options.ns,function(h){!h&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),o(h)})}else o(null)}},{key:"reloadResources",value:function(i,s,a){var o=ao();return i||(i=this.languages),s||(s=this.options.ns),a||(a=nu),this.services.backendConnector.reload(i,s,function(l){o.resolve(),a(l)}),o}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&fy.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(i,s){var a=this;this.isLanguageChangingTo=i;var o=ao();this.emit("languageChanging",i);var l=function(h){a.language=h,a.languages=a.services.languageUtils.toResolveHierarchy(h),a.resolvedLanguage=void 0,a.setResolvedLanguage(h)},u=function(h,d){d?(l(d),a.translator.changeLanguage(d),a.isLanguageChangingTo=void 0,a.emit("languageChanged",d),a.logger.log("languageChanged",d)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),s&&s(h,function(){return a.t.apply(a,arguments)})},f=function(h){!i&&!h&&a.services.languageDetector&&(h=[]);var d=typeof h=="string"?h:a.services.languageUtils.getBestMatchFromCodes(h);d&&(a.language||l(d),a.translator.language||a.translator.changeLanguage(d),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(d)),a.loadResources(d,function(m){u(m,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),o}},{key:"getFixedT",value:function(i,s,a){var o=this,l=function u(f,c){var h;if(Pn(c)!=="object"){for(var d=arguments.length,m=new Array(d>2?d-2:0),p=2;p<d;p++)m[p-2]=arguments[p];h=o.options.overloadTranslationOptionHandler([f,c].concat(m))}else h=br({},c);h.lng=h.lng||u.lng,h.lngs=h.lngs||u.lngs,h.ns=h.ns||u.ns,h.keyPrefix=h.keyPrefix||a||u.keyPrefix;var g=o.options.keySeparator||".",y;return h.keyPrefix&&Array.isArray(f)?y=f.map(function(v){return"".concat(h.keyPrefix).concat(g).concat(v)}):y=h.keyPrefix?"".concat(h.keyPrefix).concat(g).concat(f):f,o.t(y,h)};return typeof i=="string"?l.lng=i:l.lngs=i,l.ns=s,l.keyPrefix=a,l}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=a.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var f=function(d,m){var p=s.services.backendConnector.state["".concat(d,"|").concat(m)];return p===-1||p===2};if(a.precheck){var c=a.precheck(this,f);if(c!==void 0)return c}return!!(this.hasResourceBundle(o,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(o,i)&&(!l||f(u,i)))}},{key:"loadNamespaces",value:function(i,s){var a=this,o=ao();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){a.options.ns.indexOf(l)<0&&a.options.ns.push(l)}),this.loadResources(function(l){o.resolve(),s&&s(l)}),o):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var a=ao();typeof i=="string"&&(i=[i]);var o=this.options.preload||[],l=i.filter(function(u){return o.indexOf(u)<0});return l.length?(this.options.preload=o.concat(l),this.loadResources(function(u){a.resolve(),s&&s(u)}),a):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new py(Sy());return s.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nu,o=br(br(br({},this.options),s),{isClone:!0}),l=new n(o);(s.debug!==void 0||s.prefix!==void 0)&&(l.logger=l.logger.clone(s));var u=["store","services","language"];return u.forEach(function(f){l[f]=i[f]}),l.services=br({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new my(l.services,l.options),l.translator.on("*",function(f){for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];l.emit.apply(l,[f].concat(h))}),l.init(o,a),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(wi);Si(ru,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new ru(t,e)});var it=ru.createInstance();it.createInstance=ru.createInstance,it.createInstance,it.dir,it.init,it.loadResources,it.reloadResources,it.use,it.changeLanguage,it.getFixedT,it.t,it.exists,it.setDefaultNamespace,it.hasLoadedNamespace,it.loadNamespaces,it.loadLanguages;const j2="/";var Oy=(t=>(t.PNG="image/png",t.JPG="image/jpeg",t))(Oy||{}),Ur=(t=>(t.VALUE="value",t.RANGE="range",t))(Ur||{}),iu=(t=>(t.DATEPICKER="datepicker",t.SLIDER="slider",t))(iu||{}),Uf;function My(t,{i18next:e,rerenderOn:n=["languageChanged","loaded","added","removed"],slotStart:r="{",slotEnd:i="}"}){const s=e.t.bind(e),a=Se(new Date),o=()=>a.value=new Date,l=()=>a.value;n.forEach(h=>{var d;switch(h){case"added":case"removed":(d=e.store)==null||d.on(h,o);break;default:e.on(h,o);break}}),t.component("i18next",B2),t.mixin({beforeCreate(){var h,d;const m=this.$options;if(!m.__i18n&&!m.i18nOptions){this.__translate=void 0;return}const p=this.$options.name,g=(Math.random()*10**8|0).toString(),y=[p,g].filter(M=>!!M).join("-");this.__bundles=[];const v=M=>{Object.entries(M).forEach(([P,I])=>{e.addResourceBundle(P,y,I,!0,!1),this.__bundles.push([P,y])})};(h=m.__i18n)==null||h.forEach(M=>{v(JSON.parse(M))});let{lng:b,ns:E,keyPrefix:O}=c(m,v);(d=this.__bundles)!=null&&d.length&&(E=[y].concat(E!=null?E:[]));const N=u(b,E);this.__translate=(M,P)=>!O||f(M)?N(M,P):N(O+"."+M,P)},unmounted(){var h;(h=this.__bundles)==null||h.forEach(([d,m])=>e.removeResourceBundle(d,m))}}),t.config.globalProperties.$t=function(h,d){var m;return l(),e.isInitialized?((m=this==null?void 0:this.__translate)!=null?m:s)(h,d):h},t.config.globalProperties.$i18next=new Proxy(e,{get(h,d){return l(),Reflect.get(h,d)}}),Uf=U2(r,i);function u(h,d){return h?e.getFixedT(h,d):d?e.getFixedT(null,d):s}function f(h){const d=e.options.nsSeparator;return typeof d=="string"&&h.includes(d)}function c(h,d){let m,p,g;if(h.i18nOptions){let y,v;({lng:m,namespaces:v=e.options.defaultNS,keyPrefix:g,messages:y}=h.i18nOptions),y&&d(y),p=typeof v=="string"?[v]:v,p&&e.loadNamespaces(p)}return{lng:m,ns:p,keyPrefix:g}}}function Ze(){const t=G2(),e=t.appContext.config.globalProperties;return{i18next:e.$i18next,t:e.$t.bind(t.proxy)}}function G2(){const t=Pa();if(!t)throw new Error("i18next-vue: No Vue instance in context. Make sure to register the i18next-vue plugin using app.use(...).");return t}function U2(t,e){const n=`${t}\\s*([a-z0-9\\-]+)\\s*${e}`;return new RegExp(n,"gi")}var B2=he({props:{translation:{type:String,required:!0}},setup(t,{slots:e}){return()=>{const n=t.translation,r=[];let i,s=0;for(;(i=Uf.exec(n))!==null;){r.push(n.substring(s,i.index));const a=e[i[1]];a?r.push(...a()):r.push(i[0]),s=Uf.lastIndex}return r.push(n.substring(s)),r}}});class ls extends Error{}class W2 extends ls{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class q2 extends ls{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class H2 extends ls{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Hs extends ls{}class Ty extends ls{constructor(e){super(`Invalid unit ${e}`)}}class un extends ls{}class xi extends ls{constructor(){super("Zone is an abstract class")}}const ne="numeric",zn="short",vn="long",su={year:ne,month:ne,day:ne},Ny={year:ne,month:zn,day:ne},z2={year:ne,month:zn,day:ne,weekday:zn},Cy={year:ne,month:vn,day:ne},Ly={year:ne,month:vn,day:ne,weekday:vn},Py={hour:ne,minute:ne},ky={hour:ne,minute:ne,second:ne},Ay={hour:ne,minute:ne,second:ne,timeZoneName:zn},Dy={hour:ne,minute:ne,second:ne,timeZoneName:vn},Iy={hour:ne,minute:ne,hourCycle:"h23"},Ry={hour:ne,minute:ne,second:ne,hourCycle:"h23"},$y={hour:ne,minute:ne,second:ne,hourCycle:"h23",timeZoneName:zn},Fy={hour:ne,minute:ne,second:ne,hourCycle:"h23",timeZoneName:vn},Vy={year:ne,month:ne,day:ne,hour:ne,minute:ne},jy={year:ne,month:ne,day:ne,hour:ne,minute:ne,second:ne},Gy={year:ne,month:zn,day:ne,hour:ne,minute:ne},Uy={year:ne,month:zn,day:ne,hour:ne,minute:ne,second:ne},Y2={year:ne,month:zn,day:ne,weekday:zn,hour:ne,minute:ne},By={year:ne,month:vn,day:ne,hour:ne,minute:ne,timeZoneName:zn},Wy={year:ne,month:vn,day:ne,hour:ne,minute:ne,second:ne,timeZoneName:zn},qy={year:ne,month:vn,day:ne,weekday:vn,hour:ne,minute:ne,timeZoneName:vn},Hy={year:ne,month:vn,day:ne,weekday:vn,hour:ne,minute:ne,second:ne,timeZoneName:vn};class oo{get type(){throw new xi}get name(){throw new xi}get ianaName(){return this.name}get isUniversal(){throw new xi}offsetName(e,n){throw new xi}formatOffset(e,n){throw new xi}offset(e){throw new xi}equals(e){throw new xi}get isValid(){throw new xi}}let Bf=null;class au extends oo{static get instance(){return Bf===null&&(Bf=new au),Bf}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return gv(e,n,r)}formatOffset(e,n){return fo(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let ou={};function X2(t){return ou[t]||(ou[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ou[t]}const K2={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Z2(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,a,o,l,u,f]=r;return[a,i,s,o,l,u,f]}function J2(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:a}=n[i],o=K2[s];s==="era"?r[o]=a:we(o)||(r[o]=parseInt(a,10))}return r}let lu={};class Br extends oo{static create(e){return lu[e]||(lu[e]=new Br(e)),lu[e]}static resetCache(){lu={},ou={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Br.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return gv(e,n,r,this.name)}formatOffset(e,n){return fo(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=X2(this.name);let[i,s,a,o,l,u,f]=r.formatToParts?J2(r,n):Z2(r,n);o==="BC"&&(i=-Math.abs(i)+1);const h=du({year:i,month:s,day:a,hour:l===24?0:l,minute:u,second:f,millisecond:0});let d=+n;const m=d%1e3;return d-=m>=0?m:1e3+m,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let zy={};function Q2(t,e={}){const n=JSON.stringify([t,e]);let r=zy[n];return r||(r=new Intl.ListFormat(t,e),zy[n]=r),r}let Wf={};function qf(t,e={}){const n=JSON.stringify([t,e]);let r=Wf[n];return r||(r=new Intl.DateTimeFormat(t,e),Wf[n]=r),r}let Hf={};function eC(t,e={}){const n=JSON.stringify([t,e]);let r=Hf[n];return r||(r=new Intl.NumberFormat(t,e),Hf[n]=r),r}let zf={};function tC(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=zf[i];return s||(s=new Intl.RelativeTimeFormat(t,e),zf[i]=s),s}let lo=null;function nC(){return lo||(lo=new Intl.DateTimeFormat().resolvedOptions().locale,lo)}let Yy={};function rC(t){let e=Yy[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,Yy[t]=e}return e}function iC(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=qf(t).resolvedOptions(),i=t}catch{const l=t.substring(0,n);r=qf(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:a}=r;return[i,s,a]}}function sC(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function aC(t){const e=[];for(let n=1;n<=12;n++){const r=Oe.utc(2009,n,1);e.push(t(r))}return e}function oC(t){const e=[];for(let n=1;n<=7;n++){const r=Oe.utc(2016,11,13+n);e.push(t(r))}return e}function uu(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function lC(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class uC{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...a}=r;if(!n||Object.keys(a).length>0){const o={useGrouping:!1,...r};r.padTo>0&&(o.minimumIntegerDigits=r.padTo),this.inf=eC(e,o)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):eh(e,3);return wt(n,this.padTo)}}}class cC{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&Br.create(o).valid?(i=o,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=qf(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class fC{constructor(e,n,r){this.opts={style:"long",...r},!n&&hv()&&(this.rtf=tC(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):PC(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const hC={firstDay:1,minimalDays:4,weekend:[6,7]};class Je{static fromOpts(e){return Je.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const a=e||yt.defaultLocale,o=a||(s?"en-US":nC()),l=n||yt.defaultNumberingSystem,u=r||yt.defaultOutputCalendar,f=Jf(i)||yt.defaultWeekSettings;return new Je(o,l,u,f,a)}static resetCache(){lo=null,Wf={},Hf={},zf={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Je.create(e,n,r,i)}constructor(e,n,r,i,s){const[a,o,l]=iC(e);this.locale=a,this.numberingSystem=n||o||null,this.outputCalendar=r||l||null,this.weekSettings=i,this.intl=sC(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=lC(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Je.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Jf(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return uu(this,e,_v,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=aC(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return uu(this,e,Sv,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=oC(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return uu(this,void 0,()=>wv,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Oe.utc(2016,11,13,9),Oe.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return uu(this,e,xv,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Oe.utc(-40,1,1),Oe.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new uC(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new cC(e,this.intl,n)}relFormatter(e={}){return new fC(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Q2(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:dv()?rC(this.locale):hC}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Yf=null;class tn extends oo{static get utcInstance(){return Yf===null&&(Yf=new tn(0)),Yf}static instance(e){return e===0?tn.utcInstance:new tn(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new tn(mu(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${fo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${fo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return fo(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class dC extends oo{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Oi(t,e){if(we(t)||t===null)return e;if(t instanceof oo)return t;if(gC(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?au.instance:n==="utc"||n==="gmt"?tn.utcInstance:tn.parseSpecifier(n)||Br.create(t)}else return us(t)?tn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new dC(t)}let Xy=()=>Date.now(),Ky="system",Zy=null,Jy=null,Qy=null,ev=60,tv,nv=null;class yt{static get now(){return Xy}static set now(e){Xy=e}static set defaultZone(e){Ky=e}static get defaultZone(){return Oi(Ky,au.instance)}static get defaultLocale(){return Zy}static set defaultLocale(e){Zy=e}static get defaultNumberingSystem(){return Jy}static set defaultNumberingSystem(e){Jy=e}static get defaultOutputCalendar(){return Qy}static set defaultOutputCalendar(e){Qy=e}static get defaultWeekSettings(){return nv}static set defaultWeekSettings(e){nv=Jf(e)}static get twoDigitCutoffYear(){return ev}static set twoDigitCutoffYear(e){ev=e%100}static get throwOnInvalid(){return tv}static set throwOnInvalid(e){tv=e}static resetCaches(){Je.resetCache(),Br.resetCache()}}class Yn{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const rv=[0,31,59,90,120,151,181,212,243,273,304,334],iv=[0,31,60,91,121,152,182,213,244,274,305,335];function kn(t,e){return new Yn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Xf(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function sv(t,e,n){return n+(uo(t)?iv:rv)[e-1]}function av(t,e){const n=uo(t)?iv:rv,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function Kf(t,e){return(t-e+7)%7+1}function cu(t,e=4,n=1){const{year:r,month:i,day:s}=t,a=sv(r,i,s),o=Kf(Xf(r,i,s),n);let l=Math.floor((a-o+14-e)/7),u;return l<1?(u=r-1,l=co(u,e,n)):l>co(r,e,n)?(u=r+1,l=1):u=r,{weekYear:u,weekNumber:l,weekday:o,...gu(t)}}function ov(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,a=Kf(Xf(r,1,e),n),o=Ys(r);let l=i*7+s-a-7+e,u;l<1?(u=r-1,l+=Ys(u)):l>o?(u=r+1,l-=Ys(r)):u=r;const{month:f,day:c}=av(u,l);return{year:u,month:f,day:c,...gu(t)}}function Zf(t){const{year:e,month:n,day:r}=t,i=sv(e,n,r);return{year:e,ordinal:i,...gu(t)}}function lv(t){const{year:e,ordinal:n}=t,{month:r,day:i}=av(e,n);return{year:e,month:r,day:i,...gu(t)}}function uv(t,e){if(!we(t.localWeekday)||!we(t.localWeekNumber)||!we(t.localWeekYear)){if(!we(t.weekday)||!we(t.weekNumber)||!we(t.weekYear))throw new Hs("Cannot mix locale-based week fields with ISO-based week fields");return we(t.localWeekday)||(t.weekday=t.localWeekday),we(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),we(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function mC(t,e=4,n=1){const r=fu(t.weekYear),i=An(t.weekNumber,1,co(t.weekYear,e,n)),s=An(t.weekday,1,7);return r?i?s?!1:kn("weekday",t.weekday):kn("week",t.weekNumber):kn("weekYear",t.weekYear)}function pC(t){const e=fu(t.year),n=An(t.ordinal,1,Ys(t.year));return e?n?!1:kn("ordinal",t.ordinal):kn("year",t.year)}function cv(t){const e=fu(t.year),n=An(t.month,1,12),r=An(t.day,1,hu(t.year,t.month));return e?n?r?!1:kn("day",t.day):kn("month",t.month):kn("year",t.year)}function fv(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=An(e,0,23)||e===24&&n===0&&r===0&&i===0,a=An(n,0,59),o=An(r,0,59),l=An(i,0,999);return s?a?o?l?!1:kn("millisecond",i):kn("second",r):kn("minute",n):kn("hour",e)}function we(t){return typeof t>"u"}function us(t){return typeof t=="number"}function fu(t){return typeof t=="number"&&t%1===0}function gC(t){return typeof t=="string"}function yC(t){return Object.prototype.toString.call(t)==="[object Date]"}function hv(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function dv(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function vC(t){return Array.isArray(t)?t:[t]}function mv(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function _C(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function zs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jf(t){if(t==null)return null;if(typeof t!="object")throw new un("Week settings must be an object");if(!An(t.firstDay,1,7)||!An(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!An(e,1,7)))throw new un("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function An(t,e,n){return fu(t)&&t>=e&&t<=n}function bC(t,e){return t-e*Math.floor(t/e)}function wt(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Mi(t){if(!(we(t)||t===null||t===""))return parseInt(t,10)}function cs(t){if(!(we(t)||t===null||t===""))return parseFloat(t)}function Qf(t){if(!(we(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function eh(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function uo(t){return t%4===0&&(t%100!==0||t%400===0)}function Ys(t){return uo(t)?366:365}function hu(t,e){const n=bC(e-1,12)+1,r=t+(e-n)/12;return n===2?uo(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function du(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function pv(t,e,n){return-Kf(Xf(t,1,e),n)+e-1}function co(t,e=4,n=1){const r=pv(t,e,n),i=pv(t+1,e,n);return(Ys(t)-r+i)/7}function th(t){return t>99?t:t>yt.twoDigitCutoffYear?1900+t:2e3+t}function gv(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const a={timeZoneName:e,...s},o=new Intl.DateTimeFormat(n,a).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function mu(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function yv(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new un(`Invalid unit value ${t}`);return e}function pu(t,e){const n={};for(const r in t)if(zs(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=yv(i)}return n}function fo(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${wt(n,2)}:${wt(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${wt(n,2)}${wt(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function gu(t){return _C(t,["hour","minute","second","millisecond"])}const EC=["January","February","March","April","May","June","July","August","September","October","November","December"],vv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],SC=["J","F","M","A","M","J","J","A","S","O","N","D"];function _v(t){switch(t){case"narrow":return[...SC];case"short":return[...vv];case"long":return[...EC];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const bv=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ev=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],wC=["M","T","W","T","F","S","S"];function Sv(t){switch(t){case"narrow":return[...wC];case"short":return[...Ev];case"long":return[...bv];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const wv=["AM","PM"],xC=["Before Christ","Anno Domini"],OC=["BC","AD"],MC=["B","A"];function xv(t){switch(t){case"narrow":return[...MC];case"short":return[...OC];case"long":return[...xC];default:return null}}function TC(t){return wv[t.hour<12?0:1]}function NC(t,e){return Sv(e)[t.weekday-1]}function CC(t,e){return _v(e)[t.month-1]}function LC(t,e){return xv(e)[t.year<0?0:1]}function PC(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const c=t==="days";switch(e){case 1:return c?"tomorrow":`next ${i[t][0]}`;case-1:return c?"yesterday":`last ${i[t][0]}`;case 0:return c?"today":`this ${i[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,u=i[t],f=r?l?u[1]:u[2]||u[1]:l?i[t][0]:t;return a?`${o} ${f} ago`:`in ${o} ${f}`}function Ov(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const kC={D:su,DD:Ny,DDD:Cy,DDDD:Ly,t:Py,tt:ky,ttt:Ay,tttt:Dy,T:Iy,TT:Ry,TTT:$y,TTTT:Fy,f:Vy,ff:Gy,fff:By,ffff:qy,F:jy,FF:Uy,FFF:Wy,FFFF:Hy};class qt{static create(e,n={}){return new qt(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||o===n?r+=o:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=o,n=o)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return kC[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return wt(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(d,m)=>this.loc.extract(e,d,m),a=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>r?TC(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,m)=>r?CC(e,d):s(m?{month:d}:{month:d,day:"numeric"},"month"),u=(d,m)=>r?NC(e,d):s(m?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),f=d=>{const m=qt.macroTokenToFormatOpts(d);return m?this.formatWithSystemDefault(e,m):d},c=d=>r?LC(e,d):s({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(d)}};return Ov(qt.parseFormat(n),h)}formatDurationFromString(e,n){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>u=>{const f=r(u);return f?this.num(l.get(f),u.length):u},s=qt.parseFormat(n),a=s.reduce((l,{literal:u,val:f})=>u?l:l.concat(f),[]),o=e.shiftTo(...a.map(r).filter(l=>l));return Ov(s,i(o))}}const Mv=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Xs(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Ks(...t){return e=>t.reduce(([n,r,i],s)=>{const[a,o,l]=s(e,i);return[{...n,...a},o||r,l]},[{},null,1]).slice(0,2)}function Zs(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function Tv(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Mi(e[n+i]);return[r,null,n+i]}}const Nv=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,AC=`(?:${Nv.source}?(?:\\[(${Mv.source})\\])?)?`,nh=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Cv=RegExp(`${nh.source}${AC}`),rh=RegExp(`(?:T${Cv.source})?`),DC=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,IC=/(\d{4})-?W(\d\d)(?:-?(\d))?/,RC=/(\d{4})-?(\d{3})/,$C=Tv("weekYear","weekNumber","weekDay"),FC=Tv("year","ordinal"),VC=/(\d{4})-(\d\d)-(\d\d)/,Lv=RegExp(`${nh.source} ?(?:${Nv.source}|(${Mv.source}))?`),jC=RegExp(`(?: ${Lv.source})?`);function Js(t,e,n){const r=t[e];return we(r)?n:Mi(r)}function GC(t,e){return[{year:Js(t,e),month:Js(t,e+1,1),day:Js(t,e+2,1)},null,e+3]}function Qs(t,e){return[{hours:Js(t,e,0),minutes:Js(t,e+1,0),seconds:Js(t,e+2,0),milliseconds:Qf(t[e+3])},null,e+4]}function ho(t,e){const n=!t[e]&&!t[e+1],r=mu(t[e+1],t[e+2]),i=n?null:tn.instance(r);return[{},i,e+3]}function mo(t,e){const n=t[e]?Br.create(t[e]):null;return[{},n,e+1]}const UC=RegExp(`^T?${nh.source}$`),BC=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function WC(t){const[e,n,r,i,s,a,o,l,u]=t,f=e[0]==="-",c=l&&l[0]==="-",h=(d,m=!1)=>d!==void 0&&(m||d&&f)?-d:d;return[{years:h(cs(n)),months:h(cs(r)),weeks:h(cs(i)),days:h(cs(s)),hours:h(cs(a)),minutes:h(cs(o)),seconds:h(cs(l),l==="-0"),milliseconds:h(Qf(u),c)}]}const qC={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ih(t,e,n,r,i,s,a){const o={year:e.length===2?th(Mi(e)):Mi(e),month:vv.indexOf(n)+1,day:Mi(r),hour:Mi(i),minute:Mi(s)};return a&&(o.second=Mi(a)),t&&(o.weekday=t.length>3?bv.indexOf(t)+1:Ev.indexOf(t)+1),o}const HC=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function zC(t){const[,e,n,r,i,s,a,o,l,u,f,c]=t,h=ih(e,i,r,n,s,a,o);let d;return l?d=qC[l]:u?d=0:d=mu(f,c),[h,new tn(d)]}function YC(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const XC=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,KC=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ZC=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Pv(t){const[,e,n,r,i,s,a,o]=t;return[ih(e,i,r,n,s,a,o),tn.utcInstance]}function JC(t){const[,e,n,r,i,s,a,o]=t;return[ih(e,o,n,r,i,s,a),tn.utcInstance]}const QC=Xs(DC,rh),eL=Xs(IC,rh),tL=Xs(RC,rh),nL=Xs(Cv),kv=Ks(GC,Qs,ho,mo),rL=Ks($C,Qs,ho,mo),iL=Ks(FC,Qs,ho,mo),sL=Ks(Qs,ho,mo);function aL(t){return Zs(t,[QC,kv],[eL,rL],[tL,iL],[nL,sL])}function oL(t){return Zs(YC(t),[HC,zC])}function lL(t){return Zs(t,[XC,Pv],[KC,Pv],[ZC,JC])}function uL(t){return Zs(t,[BC,WC])}const cL=Ks(Qs);function fL(t){return Zs(t,[UC,cL])}const hL=Xs(VC,jC),dL=Xs(Lv),mL=Ks(Qs,ho,mo);function pL(t){return Zs(t,[hL,kv],[dL,mL])}const Av="Invalid Duration",Dv={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},gL={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Dv},Dn=146097/400,ea=146097/4800,yL={years:{quarters:4,months:12,weeks:Dn/7,days:Dn,hours:Dn*24,minutes:Dn*24*60,seconds:Dn*24*60*60,milliseconds:Dn*24*60*60*1e3},quarters:{months:3,weeks:Dn/28,days:Dn/4,hours:Dn*24/4,minutes:Dn*24*60/4,seconds:Dn*24*60*60/4,milliseconds:Dn*24*60*60*1e3/4},months:{weeks:ea/7,days:ea,hours:ea*24,minutes:ea*24*60,seconds:ea*24*60*60,milliseconds:ea*24*60*60*1e3},...Dv},fs=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],vL=fs.slice(0).reverse();function Ti(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Re(r)}function Iv(t,e){var r;let n=(r=e.milliseconds)!=null?r:0;for(const i of vL.slice(1))e[i]&&(n+=e[i]*t[i].milliseconds);return n}function Rv(t,e){const n=Iv(t,e)<0?-1:1;fs.reduceRight((r,i)=>{if(we(e[i]))return r;if(r){const s=e[r]*n,a=t[i][r],o=Math.floor(s/a);e[i]+=o*n,e[r]-=o*a*n}return i},null),fs.reduce((r,i)=>{if(we(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function _L(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class Re{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?yL:gL;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Je.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return Re.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new un(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Re({values:pu(e,Re.normalizeUnit),loc:Je.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(us(e))return Re.fromMillis(e);if(Re.isDuration(e))return e;if(typeof e=="object")return Re.fromObject(e);throw new un(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=uL(e);return r?Re.fromObject(r,n):Re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=fL(e);return r?Re.fromObject(r,n):Re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new un("need to specify a reason the Duration is invalid");const r=e instanceof Yn?e:new Yn(e,n);if(yt.throwOnInvalid)throw new H2(r);return new Re({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Ty(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?qt.create(this.loc,r).formatDurationFromString(this,e):Av}toHuman(e={}){if(!this.isValid)return Av;const n=fs.map(r=>{const i=this.values[r];return we(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=eh(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Oe.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Iv(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=Re.fromDurationLike(e),r={};for(const i of fs)(zs(n.values,i)||zs(this.values,i))&&(r[i]=n.get(i)+this.get(i));return Ti(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=Re.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=yv(e(this.values[r],r));return Ti(this,{values:n},!0)}get(e){return this[Re.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...pu(e,Re.normalizeUnit)};return Ti(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return Ti(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Rv(this.matrix,e),Ti(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=_L(this.normalize().shiftToAll().toObject());return Ti(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>Re.normalizeUnit(a));const n={},r={},i=this.toObject();let s;for(const a of fs)if(e.indexOf(a)>=0){s=a;let o=0;for(const u in r)o+=this.matrix[u][a]*r[u],r[u]=0;us(i[a])&&(o+=i[a]);const l=Math.trunc(o);n[a]=l,r[a]=(o*1e3-l*1e3)/1e3}else us(i[a])&&(r[a]=i[a]);for(const a in r)r[a]!==0&&(n[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return Rv(this.matrix,n),Ti(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Ti(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of fs)if(!n(this.values[r],e.values[r]))return!1;return!0}}const ta="Invalid Interval";function bL(t,e){return!t||!t.isValid?ft.invalid("missing or invalid start"):!e||!e.isValid?ft.invalid("missing or invalid end"):e<t?ft.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ft{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new un("need to specify a reason the Interval is invalid");const r=e instanceof Yn?e:new Yn(e,n);if(yt.throwOnInvalid)throw new q2(r);return new ft({invalid:r})}static fromDateTimes(e,n){const r=go(e),i=go(n),s=bL(r,i);return s==null?new ft({start:r,end:i}):s}static after(e,n){const r=Re.fromDurationLike(n),i=go(e);return ft.fromDateTimes(i,i.plus(r))}static before(e,n){const r=Re.fromDurationLike(n),i=go(e);return ft.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,a;try{s=Oe.fromISO(r,n),a=s.isValid}catch{a=!1}let o,l;try{o=Oe.fromISO(i,n),l=o.isValid}catch{l=!1}if(a&&l)return ft.fromDateTimes(s,o);if(a){const u=Re.fromISO(i,n);if(u.isValid)return ft.after(s,u)}else if(l){const u=Re.fromISO(r,n);if(u.isValid)return ft.before(o,u)}}return ft.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n!=null&&n.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?ft.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(go).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const a=n[s]||this.e,o=+a>+this.e?this.e:a;r.push(ft.fromDateTimes(i,o)),i=o,s+=1}return r}splitBy(e){const n=Re.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const a=[];for(;r<this.e;){const o=this.start.plus(n.mapUnits(l=>l*i));s=+o>+this.e?this.e:o,a.push(ft.fromDateTimes(r,s)),r=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:ft.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return ft.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,u)=>l.time-u.time);for(const l of o)r+=l.type==="s"?1:-1,r===1?n=l.time:(n&&+n!=+l.time&&i.push(ft.fromDateTimes(n,l.time)),n=null);return ft.merge(i)}difference(...e){return ft.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:ta}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=su,n={}){return this.isValid?qt.create(this.s.loc.clone(n),e).formatInterval(this):ta}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:ta}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ta}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:ta}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:ta}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):Re.invalid(this.invalidReason)}mapEndpoints(e){return ft.fromDateTimes(e(this.s),e(this.e))}}class yu{static hasDST(e=yt.defaultZone){const n=Oe.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Br.isValidZone(e)}static normalizeZone(e){return Oi(e,yt.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Je.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Je.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Je.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Je.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Je.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Je.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Je.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Je.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Je.create(n,null,"gregory").eras(e)}static features(){return{relative:hv(),localeWeek:dv()}}}function $v(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(Re.fromMillis(r).as("days"))}function EL(t,e,n){const r=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const f=$v(l,u);return(f-f%7)/7}],["days",$v]],i={},s=t;let a,o;for(const[l,u]of r)n.indexOf(l)>=0&&(a=l,i[l]=u(t,e),o=s.plus(i),o>e?(i[l]--,t=s.plus(i),t>e&&(o=t,i[l]--,t=s.plus(i))):t=o);return[t,i,o,a]}function SL(t,e,n,r){let[i,s,a,o]=EL(t,e,n);const l=e-i,u=n.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(a<e&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+l/(a-i)));const f=Re.fromObject(s,r);return u.length>0?Re.fromMillis(l,r).shiftTo(...u).plus(f):f}const sh={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Fv={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},wL=sh.hanidec.replace(/[\[|\]]/g,"").split("");function xL(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(sh.hanidec)!==-1)e+=wL.indexOf(t[n]);else for(const i in Fv){const[s,a]=Fv[i];r>=s&&r<=a&&(e+=r-s)}}return parseInt(e,10)}else return e}function Xn({numberingSystem:t},e=""){return new RegExp(`${sh[t||"latn"]}${e}`)}const OL="missing Intl.DateTimeFormat.formatToParts support";function Be(t,e=n=>n){return{regex:t,deser:([n])=>e(xL(n))}}const Vv=`[ ${String.fromCharCode(160)}]`,jv=new RegExp(Vv,"g");function ML(t){return t.replace(/\./g,"\\.?").replace(jv,Vv)}function Gv(t){return t.replace(/\./g,"").replace(jv," ").toLowerCase()}function Kn(t,e){return t===null?null:{regex:RegExp(t.map(ML).join("|")),deser:([n])=>t.findIndex(r=>Gv(n)===Gv(r))+e}}function Uv(t,e){return{regex:t,deser:([,n,r])=>mu(n,r),groups:e}}function vu(t){return{regex:t,deser:([e])=>e}}function TL(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function NL(t,e){const n=Xn(e),r=Xn(e,"{2}"),i=Xn(e,"{3}"),s=Xn(e,"{4}"),a=Xn(e,"{6}"),o=Xn(e,"{1,2}"),l=Xn(e,"{1,3}"),u=Xn(e,"{1,6}"),f=Xn(e,"{1,9}"),c=Xn(e,"{2,4}"),h=Xn(e,"{4,6}"),d=g=>({regex:RegExp(TL(g.val)),deser:([y])=>y,literal:!0}),p=(g=>{if(t.literal)return d(g);switch(g.val){case"G":return Kn(e.eras("short"),0);case"GG":return Kn(e.eras("long"),0);case"y":return Be(u);case"yy":return Be(c,th);case"yyyy":return Be(s);case"yyyyy":return Be(h);case"yyyyyy":return Be(a);case"M":return Be(o);case"MM":return Be(r);case"MMM":return Kn(e.months("short",!0),1);case"MMMM":return Kn(e.months("long",!0),1);case"L":return Be(o);case"LL":return Be(r);case"LLL":return Kn(e.months("short",!1),1);case"LLLL":return Kn(e.months("long",!1),1);case"d":return Be(o);case"dd":return Be(r);case"o":return Be(l);case"ooo":return Be(i);case"HH":return Be(r);case"H":return Be(o);case"hh":return Be(r);case"h":return Be(o);case"mm":return Be(r);case"m":return Be(o);case"q":return Be(o);case"qq":return Be(r);case"s":return Be(o);case"ss":return Be(r);case"S":return Be(l);case"SSS":return Be(i);case"u":return vu(f);case"uu":return vu(o);case"uuu":return Be(n);case"a":return Kn(e.meridiems(),0);case"kkkk":return Be(s);case"kk":return Be(c,th);case"W":return Be(o);case"WW":return Be(r);case"E":case"c":return Be(n);case"EEE":return Kn(e.weekdays("short",!1),1);case"EEEE":return Kn(e.weekdays("long",!1),1);case"ccc":return Kn(e.weekdays("short",!0),1);case"cccc":return Kn(e.weekdays("long",!0),1);case"Z":case"ZZ":return Uv(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return Uv(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return vu(/[a-z_+-/]{1,256}?/i);case" ":return vu(/[^\S\n\r]/);default:return d(g)}})(t)||{invalidReason:OL};return p.token=t,p}const CL={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function LL(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=n.hour12?"hour12":"hour24");let o=CL[a];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function PL(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function kL(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const a in n)if(zs(n,a)){const o=n[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function AL(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return we(t.z)||(n=Br.create(t.z)),we(t.Z)||(n||(n=new tn(t.Z)),r=t.Z),we(t.q)||(t.M=(t.q-1)*3+1),we(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),we(t.u)||(t.S=Qf(t.u)),[Object.keys(t).reduce((s,a)=>{const o=e(a);return o&&(s[o]=t[a]),s},{}),n,r]}let ah=null;function DL(){return ah||(ah=Oe.fromMillis(1555555555555)),ah}function IL(t,e){if(t.literal)return t;const n=qt.macroTokenToFormatOpts(t.val),r=qv(n,e);return r==null||r.includes(void 0)?t:r}function Bv(t,e){return Array.prototype.concat(...t.map(n=>IL(n,e)))}function Wv(t,e,n){const r=Bv(qt.parseFormat(n),t),i=r.map(a=>NL(a,t)),s=i.find(a=>a.invalidReason);if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};{const[a,o]=PL(i),l=RegExp(a,"i"),[u,f]=kL(e,l,o),[c,h,d]=f?AL(f):[null,null,void 0];if(zs(f,"a")&&zs(f,"H"))throw new Hs("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:l,rawMatches:u,matches:f,result:c,zone:h,specificOffset:d}}}function RL(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:a}=Wv(t,e,n);return[r,i,s,a]}function qv(t,e){if(!t)return null;const r=qt.create(e,t).dtFormatter(DL()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(a=>LL(a,t,s))}const oh="Invalid DateTime",Hv=864e13;function _u(t){return new Yn("unsupported zone",`the zone "${t.name}" is not supported`)}function lh(t){return t.weekData===null&&(t.weekData=cu(t.c)),t.weekData}function uh(t){return t.localWeekData===null&&(t.localWeekData=cu(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function hs(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Oe({...n,...e,old:n})}function zv(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function bu(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Eu(t,e,n){return zv(du(t),e,n)}function Yv(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,hu(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=Re.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=du(s);let[l,u]=zv(o,n,t.zone);return a!==0&&(l+=a,u=t.zone.offset(l)),{ts:l,o:u}}function po(t,e,n,r,i,s){const{setZone:a,zone:o}=n;if(t&&Object.keys(t).length!==0||e){const l=e||o,u=Oe.fromObject(t,{...n,zone:l,specificOffset:s});return a?u:u.setZone(o)}else return Oe.invalid(new Yn("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Su(t,e,n=!0){return t.isValid?qt.create(Je.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function ch(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=wt(t.c.year,n?6:4),e?(r+="-",r+=wt(t.c.month),r+="-",r+=wt(t.c.day)):(r+=wt(t.c.month),r+=wt(t.c.day)),r}function Xv(t,e,n,r,i,s){let a=wt(t.c.hour);return e?(a+=":",a+=wt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=":")):a+=wt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=wt(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=wt(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=wt(Math.trunc(-t.o/60)),a+=":",a+=wt(Math.trunc(-t.o%60))):(a+="+",a+=wt(Math.trunc(t.o/60)),a+=":",a+=wt(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}const Kv={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},$L={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},FL={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Zv=["year","month","day","hour","minute","second","millisecond"],VL=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],jL=["year","ordinal","hour","minute","second","millisecond"];function GL(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Ty(t);return e}function Jv(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return GL(t)}}function Qv(t,e){const n=Oi(e.zone,yt.defaultZone),r=Je.fromObject(e),i=yt.now();let s,a;if(we(t.year))s=i;else{for(const u of Zv)we(t[u])&&(t[u]=Kv[u]);const o=cv(t)||fv(t);if(o)return Oe.invalid(o);const l=n.offset(i);[s,a]=Eu(t,l,n)}return new Oe({ts:s,zone:n,loc:r,o:a})}function e0(t,e,n){const r=we(n.round)?!0:n.round,i=(a,o)=>(a=eh(a,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,o)),s=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return i(s(n.unit),n.unit);for(const a of n.units){const o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(t>e?-0:0,n.units[n.units.length-1])}function t0(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class Oe{constructor(e){const n=e.zone||yt.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Yn("invalid input"):null)||(n.isValid?null:_u(n));this.ts=we(e.ts)?yt.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const o=n.offset(this.ts);i=bu(this.ts,o),r=Number.isNaN(i.year)?new Yn("invalid input"):null,i=r?null:i,s=r?null:o}this._zone=n,this.loc=e.loc||Je.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new Oe({})}static local(){const[e,n]=t0(arguments),[r,i,s,a,o,l,u]=n;return Qv({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static utc(){const[e,n]=t0(arguments),[r,i,s,a,o,l,u]=n;return e.zone=tn.utcInstance,Qv({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static fromJSDate(e,n={}){const r=yC(e)?e.valueOf():NaN;if(Number.isNaN(r))return Oe.invalid("invalid input");const i=Oi(n.zone,yt.defaultZone);return i.isValid?new Oe({ts:r,zone:i,loc:Je.fromObject(n)}):Oe.invalid(_u(i))}static fromMillis(e,n={}){if(us(e))return e<-Hv||e>Hv?Oe.invalid("Timestamp out of range"):new Oe({ts:e,zone:Oi(n.zone,yt.defaultZone),loc:Je.fromObject(n)});throw new un(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(us(e))return new Oe({ts:e*1e3,zone:Oi(n.zone,yt.defaultZone),loc:Je.fromObject(n)});throw new un("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Oi(n.zone,yt.defaultZone);if(!r.isValid)return Oe.invalid(_u(r));const i=Je.fromObject(n),s=pu(e,Jv),{minDaysInFirstWeek:a,startOfWeek:o}=uv(s,i),l=yt.now(),u=we(n.specificOffset)?r.offset(l):n.specificOffset,f=!we(s.ordinal),c=!we(s.year),h=!we(s.month)||!we(s.day),d=c||h,m=s.weekYear||s.weekNumber;if((d||f)&&m)throw new Hs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new Hs("Can't mix ordinal dates with month/day");const p=m||s.weekday&&!d;let g,y,v=bu(l,u);p?(g=VL,y=$L,v=cu(v,a,o)):f?(g=jL,y=FL,v=Zf(v)):(g=Zv,y=Kv);let b=!1;for(const C of g){const R=s[C];we(R)?b?s[C]=y[C]:s[C]=v[C]:b=!0}const E=p?mC(s,a,o):f?pC(s):cv(s),O=E||fv(s);if(O)return Oe.invalid(O);const N=p?ov(s,a,o):f?lv(s):s,[M,P]=Eu(N,u,r),I=new Oe({ts:M,zone:r,o:P,loc:i});return s.weekday&&d&&e.weekday!==I.weekday?Oe.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${I.toISO()}`):I}static fromISO(e,n={}){const[r,i]=aL(e);return po(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=oL(e);return po(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=lL(e);return po(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(we(e)||we(n))throw new un("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,a=Je.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,l,u,f]=RL(a,e,n);return f?Oe.invalid(f):po(o,l,r,`format ${n}`,e,u)}static fromString(e,n,r={}){return Oe.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=pL(e);return po(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new un("need to specify a reason the DateTime is invalid");const r=e instanceof Yn?e:new Yn(e,n);if(yt.throwOnInvalid)throw new W2(r);return new Oe({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=qv(e,Je.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return Bv(qt.parseFormat(e),Je.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?lh(this).weekYear:NaN}get weekNumber(){return this.isValid?lh(this).weekNumber:NaN}get weekday(){return this.isValid?lh(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?uh(this).weekday:NaN}get localWeekNumber(){return this.isValid?uh(this).weekNumber:NaN}get localWeekYear(){return this.isValid?uh(this).weekYear:NaN}get ordinal(){return this.isValid?Zf(this.c).ordinal:NaN}get monthShort(){return this.isValid?yu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?yu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?yu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?yu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=du(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),a=this.zone.offset(r-i*n),o=this.zone.offset(r-s*n);if(a===o)return[this];const l=r-a*n,u=r-o*n,f=bu(l,a),c=bu(u,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[hs(this,{ts:l}),hs(this,{ts:u})]:[this]}get isInLeapYear(){return uo(this.year)}get daysInMonth(){return hu(this.year,this.month)}get daysInYear(){return this.isValid?Ys(this.year):NaN}get weeksInWeekYear(){return this.isValid?co(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?co(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=qt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(tn.instance(e),n)}toLocal(){return this.setZone(yt.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Oi(e,yt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),a=this.toObject();[i]=Eu(a,s,e)}return hs(this,{ts:i,zone:e})}else return Oe.invalid(_u(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return hs(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=pu(e,Jv),{minDaysInFirstWeek:r,startOfWeek:i}=uv(n,this.loc),s=!we(n.weekYear)||!we(n.weekNumber)||!we(n.weekday),a=!we(n.ordinal),o=!we(n.year),l=!we(n.month)||!we(n.day),u=o||l,f=n.weekYear||n.weekNumber;if((u||a)&&f)throw new Hs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new Hs("Can't mix ordinal dates with month/day");let c;s?c=ov({...cu(this.c,r,i),...n},r,i):we(n.ordinal)?(c={...this.toObject(),...n},we(n.day)&&(c.day=Math.min(hu(c.year,c.month),c.day))):c=lv({...Zf(this.c),...n});const[h,d]=Eu(c,this.o,this.zone);return hs(this,{ts:h,o:d})}plus(e){if(!this.isValid)return this;const n=Re.fromDurationLike(e);return hs(this,Yv(this,n))}minus(e){if(!this.isValid)return this;const n=Re.fromDurationLike(e).negate();return hs(this,Yv(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=Re.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?qt.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):oh}toLocaleString(e=su,n={}){return this.isValid?qt.create(this.loc.clone(n),e).formatDateTime(this):oh}toLocaleParts(e={}){return this.isValid?qt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=ch(this,a);return o+="T",o+=Xv(this,a,n,r,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?ch(this,e==="extended"):null}toISOWeekDate(){return Su(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+Xv(this,a==="extended",n,e,r,s):null}toRFC2822(){return Su(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Su(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ch(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Su(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():oh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return Re.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=vC(n).map(Re.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,u=SL(o,l,s,i);return a?u.negate():u}diffNow(e="milliseconds",n={}){return this.diff(Oe.now(),e,n)}until(e){return this.isValid?ft.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Oe.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),e0(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?e0(e.base||Oe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Oe.isDateTime))throw new un("min requires all arguments be DateTimes");return mv(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Oe.isDateTime))throw new un("max requires all arguments be DateTimes");return mv(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,a=Je.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return Wv(a,e,n)}static fromStringExplain(e,n,r={}){return Oe.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return su}static get DATE_MED(){return Ny}static get DATE_MED_WITH_WEEKDAY(){return z2}static get DATE_FULL(){return Cy}static get DATE_HUGE(){return Ly}static get TIME_SIMPLE(){return Py}static get TIME_WITH_SECONDS(){return ky}static get TIME_WITH_SHORT_OFFSET(){return Ay}static get TIME_WITH_LONG_OFFSET(){return Dy}static get TIME_24_SIMPLE(){return Iy}static get TIME_24_WITH_SECONDS(){return Ry}static get TIME_24_WITH_SHORT_OFFSET(){return $y}static get TIME_24_WITH_LONG_OFFSET(){return Fy}static get DATETIME_SHORT(){return Vy}static get DATETIME_SHORT_WITH_SECONDS(){return jy}static get DATETIME_MED(){return Gy}static get DATETIME_MED_WITH_SECONDS(){return Uy}static get DATETIME_MED_WITH_WEEKDAY(){return Y2}static get DATETIME_FULL(){return By}static get DATETIME_FULL_WITH_SECONDS(){return Wy}static get DATETIME_HUGE(){return qy}static get DATETIME_HUGE_WITH_SECONDS(){return Hy}}function go(t){if(Oe.isDateTime(t))return t;if(t&&t.valueOf&&us(t.valueOf()))return Oe.fromJSDate(t);if(t&&typeof t=="object")return Oe.fromObject(t);throw new un(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const n0=[0,1,0,0];function r0(t,e="second",n,r){const{t:i}=Ze(),s=new Date(t).toISOString(),a={year:i("yyyy"),month:i("M/yyyy"),day:i("M/d/yyyy"),second:i("M/d/yyyy HH:mm:ss")},l=(n?{year:"yyyy",month:"yyyy-MM",day:"yyyy-MM-dd",second:void 0}:a)[e];return l?Oe.fromISO(s).toFormat(`${r?"UTC:":""}${l}`):s.replace(/\.\d{3}/,"")}function fh(t){return new Date(t).toISOString().split(".")[0]+"Z"}function hh(t){return Oe.fromISO(t).toFormat("yyyy-MM-dd")}function UL(t,e){return t<=e.minValue?e.minValue:t>=e.maxValue?e.maxValue:e.timeValueList?BL(t,e):WL(t,e)}function BL(t,e){var l;const n=(l=e.timeValueList)!=null?l:[];let r,i=0,s=n.length-1;for(;s-i>1;)r=Math.floor((i+s)/2),n[r]>=t?s=r:i=r;const a=Math.abs(n[i]-t),o=Math.abs(n[s]-t);return n[a<o?i:s]}function WL(t,e){var l;const n=(l=e.timeInterval)!=null?l:n0,r=new Date(t).getTime(),i=new Date(e.minValue),s=e.maxValue;let a=e.minValue,o=Math.abs(r-a);for(let u=1;;u++){const f=new Date(i.getTime());if(f.setFullYear(i.getFullYear()+u*n[0]),f.setMonth(i.getMonth()+u*n[1],i.getDate()+u*n[2]),f.setSeconds(i.getSeconds()+u*n[3]),f.getTime()>s)break;const c=Math.abs(r-f.getTime());if(c<=o)a=f.getTime(),o=c;else break}return a}const ht=ss("map",()=>{const t=In(),e=Se({}),n=nt([]),r=nt([]),i=Se(!1),s=Se(!1),a=Se(void 0);function o(v){a.value=v}function l(...v){n.value=[...new Set([...n.value,...v])]}function u(...v){r.value=[...new Set([...r.value,...v])]}function f(...v){n.value=n.value.filter(b=>v.indexOf(b.id)===-1),r.value=r.value.filter(b=>v.indexOf(b.id)===-1)}function c(){n.value=[]}function h(v){var b;return!!((b=n.value)!=null&&b.find(E=>E.id===v))}function d(v,b=!1){var O;const E=b?r:n;E.value=[...((O=E.value)==null?void 0:O.sort((N,M)=>v.indexOf(N.id)-v.indexOf(M.id)))||[]]}function m(v,b){n.value=n.value.map(E=>E.id===v?{...E,opacity:b,previousOpacity:E.opacity}:E)}function p(v,b,E){n.value=n.value.map(O=>{if(O.id===v){const N={...O,currentTimeMinValue:b?fh(b):void 0,currentTimeMaxValue:E?fh(E):void 0};return N.type==="WMTS"&&(N.name=t.getLayerCurrentLabel(N)),N}return O})}function g(v){i.value=v}function y(v){s.value=v}return{map:e,layers:n,layers3d:r,is3dActive:i,is3dMesh:s,bgLayer:a,addLayers:l,add3dLayers:u,removeLayers:f,removeAllLayers:c,reorderLayers:d,setLayerOpacity:m,setLayerTime:p,setBgLayer:o,setIs3dActive:g,setIs3dMesh:y,hasLayer:h}}),qL="root_3d",HL=-222,Ht=ss("config",()=>{const t=nt(),e=Se("main"),n=de(()=>{var l;return(l=t.value)==null?void 0:l.themes}),r=de(()=>{var l;return(l=n.value)==null?void 0:l.find(u=>u.name===e.value)}),i=de(()=>{var l;return((l=t.value)==null?void 0:l.background_layers)||[]}),s=de(()=>{var u;const l=(u=n.value)==null?void 0:u.filter(f=>{var c;return((c=f.metadata)==null?void 0:c.ol3d_type)!==void 0});if(!!l)return{name:qL,id:HL,children:l.flatMap(f=>f!=null&&f.children?f.children:f),metadata:{}}});function a(l){t.value=l}function o(l){e.value=l}return{config:t,themes:n,themeName:e,theme:r,bgLayers:i,layerTrees_3d:s,setTheme:o,setThemes:a}},{});function Ni(){function t(o,l){return n(o,void 0,l)}function e(o,l){return n(void 0,o,l)}function n(o,l,u){const{themes:f}=Ht();if(u=u||(f==null?void 0:f.find(c=>n(o,l,c))),o&&(u==null?void 0:u.id)===o||l&&(u==null?void 0:u.name)===l)return u;if(u!=null&&u.children)for(const c of u.children){const h=n(o,l,c);if(h)return h}}function r(o){const{layerTrees_3d:l}=Ht();return n(o,void 0,l)}function i(o){const{bgLayers:l}=Ht();return l.find(u=>u.id===o)}function s(o){const{bgLayers:l}=Ht();return l.find(u=>u.name===o)}function a(o){const{setTheme:l}=Ht();l(o)}return{findById:t,findByName:e,find3dLayerById:r,findBgLayerById:i,findBgLayerByName:s,setTheme:a}}const i0=Ni();function In(){function t(l,u){try{const f=JSON.parse(l).concat(JSON.parse(u));return new Set(f).size<f.length}catch{return!1}}function e(l){var u,f;return l.opacity=l.previousOpacity=(f=(u=l.metadata)==null?void 0:u.start_opacity)!=null?f:1,n(l),l}function n(l){var f,c,h,d,m,p,g;l.currentTimeMinValue||(l.currentTimeMinValue=(h=(f=l.time)==null?void 0:f.minDefValue)!=null?h:(c=l.time)==null?void 0:c.minValue);const u=((d=l.time)==null?void 0:d.mode)===Ur.RANGE;!l.currentTimeMaxValue&&u&&(l.currentTimeMaxValue=(g=(m=l.time)==null?void 0:m.maxDefValue)!=null?g:(p=l.time)==null?void 0:p.maxValue)}function r(l){var c,h,d;const u=i(l);let f=l.name;return u&&(f=(d=(h=(c=l.metadata)==null?void 0:c.time_layers)==null?void 0:h[u])!=null?d:f),f}function i(l){return[l.currentTimeMinValue,...l.currentTimeMaxValue?[l.currentTimeMaxValue]:[]].join(j2)}function s(l){var h,d;const u=Kl();if(!((h=l.metadata)!=null&&h.exclusion))return;const f=ht(),c=f.layers.filter(m=>{var p,g;return t((p=l==null?void 0:l.metadata)==null?void 0:p.exclusion,(g=m==null?void 0:m.metadata)==null?void 0:g.exclusion)});c.length>0&&(f.removeLayers(...c.map(m=>m.id)),u.addNotification(it.t("The layer <b>{{layersToRemove}}</b> has been removed because it cannot be displayed while the layer <b>{{layer}}</b> is displayed",{count:c.length,layersToRemove:c.map(m=>it.t(m.name,{ns:"client"})).join(", "),layer:it.t(l.name,{ns:"client"}),ns:"client"}),no.WARNING)),l.id!==((d=f.bgLayer)==null?void 0:d.id)&&a(l)}function a(l){var c,h,d;const u=ht(),f=Kl();t((c=l.metadata)==null?void 0:c.exclusion,(d=(h=u.bgLayer)==null?void 0:h.metadata)==null?void 0:d.exclusion)&&(u.setBgLayer(null),f.addNotification(it.t("Background has been deactivated because the layer {{layer}} cannot be displayed on top of it.",{layer:it.t(l.name,{ns:"client"}),ns:"client"}),no.WARNING))}function o(l,u=!0,f){var p;const c=Ht(),h=ht(),d=f?c.layerTrees_3d:c.theme,m=i0.findById(l,d);if(m){const g=((p=m.metadata)==null?void 0:p.linked_layers)||[];u===!1?h.removeLayers(m.id,...g):(s(m),(f?h.add3dLayers:h.addLayers)(e(m),...g.map(v=>e(i0.findById(parseInt(v,10))))))}}return{initLayer:e,getLayerCurrentLabel:r,getLayerCurrentTime:i,handleExclusionLayers:s,toggleLayer:o}}class zL{styleSerialToStyle(e){return e?JSON.parse(decodeURIComponent(e))||[]:[]}styleLocalStorageToStyle(e){return e?JSON.parse(e).medium||[]:[]}styleToSerial(e){return e&&e.length>0?JSON.stringify(e):""}styleToLocalStorage(e){return e&&e.length>0?JSON.stringify({medium:e}):""}}const wu=new zL;function s0(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(r)},e)}}function na(t){return(t==null?void 0:t.trim())&&!isNaN(Number(t))?Number(t):void 0}function YL(t,e){return(t==null?void 0:t.split(e).map(n=>n!==null&&!isNaN(Number(n))?parseFloat(n):void 0))||[]}function XL(t,e){return(t==null?void 0:t.split(e).map(dh))||[]}function dh(t){return(t==null?void 0:t.trim())==="true"?!0:(t==null?void 0:t.trim())==="false"?!1:void 0}function a0(){return window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches}function Er(t){return typeof window<"u"&&window.navigator&&t.test(navigator.userAgent)}const KL=Er(/firefox/i);Er(/safari/i)&&!Er(/chrome/i)&&Er(/android/i),Er(/iP(ad|od|hone)/i),Er(/chrome/i)&&Er(/android/i),Er(/chrome/i),Er(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Er(/Edge/i);const yo="ipv6",vo="applogin",_o="localforage",ra="debug",xu="fid",Ci="lang",Ou="layersOpen",Mu="address",mh="version",ZL="map_id",o0="layers",l0="bgLayer",u0="opacities",bo="theme",c0="time",f0="zoom",JL="SRS",h0="X",d0="Y",Tu="serial",m0=["basemap_2015_global","topogr_global","topo_bw_jpeg"],ph="lc",gh="sliderRatio",p0="bgOpacity",QL="layers_indices",g0="layers_opacity",y0="layers_visibility";var Dt=(t=>(t[t.localStorage=0]="localStorage",t[t.permalink=1]="permalink",t[t.permalinkAsPath=2]="permalinkAsPath",t[t.permalinkAndLocalStorage=3]="permalinkAndLocalStorage",t))(Dt||{});class v0{}class Nu extends v0{static processRules(e){return Nu.ruleUseLocalStorage(e)?Dt.localStorage:Dt.permalink}static processRulesForKey(e,n){if(e===bo&&{}.VITE_DEPLOY_GHPAGES!=="true")return Dt.permalinkAsPath;if(m0.includes(e))return Dt.localStorage;if(e===Tu)return Dt.permalink;if(e===Ou)return Dt.localStorage}static ruleUseLocalStorage(e){return[eP,tP,nP].reduce((n,r)=>n||r(e),!1)}}const eP=t=>Object.keys(t).length===0,tP=t=>Object.keys(t).length===1&&(t.hasOwnProperty(yo)||t.hasOwnProperty(vo)||t.hasOwnProperty(_o)),nP=t=>Object.keys(t).length===3&&t.hasOwnProperty(yo)&&t.hasOwnProperty(vo)&&t.hasOwnProperty(_o);class Cu extends v0{static processRules(){return Dt.permalinkAndLocalStorage}static processRulesForKey(e,n){if(Cu.ruleUsePermalink(e))return Dt.permalink;if(e===Ou||m0.includes(e))return Dt.localStorage;if(e===Tu)return Dt.permalink;if(e===bo)return Dt.permalinkAsPath}static ruleUsePermalink(e){return[rP,iP,sP].reduce((n,r)=>n||r(e),!1)}}const rP=t=>t===ph||t===gh,iP=t=>t===mh,sP=t=>t===bo&&{}.VITE_DEPLOY_GHPAGES==="true";class _0{constructor(){ut(this,"snappedUrl");this.snappedUrl=new URL(window.location.toString())}get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}getSnappedUrl(){return this.snappedUrl}getSnappedParamsAsObj(){return this.getSnappedParams().reduce((e,n)=>{const[r,i]=n.split("=");return{...e,[r]:i}},{})}getSnappedParams(){return this.getSnappedUrl().search.replace("?","").split("&").filter(e=>e.split("=")[1])}setItem(e,n){const r=new URLSearchParams(new URL(window.location.toString()).search);r.set(encodeURIComponent(e),encodeURIComponent(n));try{window.history.replaceState(null,"","?"+r.toString())}catch{}}getItem(e){const n=this.getSnappedUrl().searchParams.get(e);return n!==null?decodeURIComponent(n):n}removeItem(e){const n=new URLSearchParams(new URL(window.location.toString()).search);n.delete(e);try{window.history.replaceState(null,"","?"+n.toString())}catch{}}encodeQueryParam(e,n){return`${encodeURIComponent(e)}=${encodeURIComponent(n)}`}}const yh=new _0;class aP extends _0{getItem(e){const n=this.getSnappedUrl().pathname.split("/"),r=n.findIndex(i=>i===e);return n[r+1]}setItem(e,n){const r=new URL(window.location.toString()).search,i=`/${e}/${n}${r}`;try{window.history.replaceState(null,"",i)}catch{}}}const oP=new aP;class lP{get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}removeItem(e){const n=this.getWriteStorages(e);n==null||n.map(r=>r.removeItem(e))}setItem(e,n){this.setValue(e,n)}getItem(e){return this.getValue(e)}get paramKeys(){return yh.getSnappedParamsAsObj()}getValue(e){var i;const n=(i=this.correspondingStorages(Nu.processRules(this.paramKeys)))==null?void 0:i.pop(),r=this.storageForKey(e,Nu,n);return r?r.getItem(e):null}setValue(e,n){const r=this.getWriteStorages(e);r==null||r.map(i=>i.setItem(e,n))}getWriteStorages(e){const n=this.correspondingStorages(Cu.processRules()),r=this.storageForKey(e,Cu);return r?[r]:n}storageForKey(e,n,r){var s;const i=(s=this.correspondingStorages(n.processRulesForKey(e,this.paramKeys)))==null?void 0:s.pop();return i!=null?i:r}correspondingStorages(e){if(e===Dt.permalinkAndLocalStorage)return[yh,localStorage];if(e===Dt.localStorage)return[localStorage];if(e===Dt.permalink)return[yh];if(e===Dt.permalinkAsPath)return[oP]}}const Lu=new lP;function uP(t){return cP(t)||fP(t)||hP(t)||dP(t)}const cP=t=>Object.keys(t).length===0,fP=t=>{const e=Object.keys(t);return Object.keys(t).length===1&&[yo,vo,_o,xu,Ci,Mu,ra].some(n=>e.indexOf(n)!==-1)},hP=t=>{const e=Object.keys(t),n=i=>e.indexOf(i)!==-1,r=[[vo,_o],[ra,xu],[Ci,xu],[ra,Ci],[ra,Mu],[Ci,Mu]];return Object.keys(t).length===2&&r.reduce((i,s)=>i||s.every(n),!1)},dP=t=>{const e=Object.keys(t),n=a=>e.indexOf(a)!==-1,r=[yo,vo,_o].every(n),i=[ra,xu,Ci].every(n),s=[ra,Mu,Ci].every(n);return Object.keys(t).length===3&&(r||i||s)};class mP{constructor(){ut(this,"intialVersion");const e=Lu.paramKeys,n=this.getValue(mh,na);this.intialVersion=n?Math.max(2,Math.min(n,3)):uP(e)?3:2,this.setValue(mh,3)}getInitialVersion(){return this.intialVersion}mapToEntity(e,n){return n?n(e):e}mapToStorage(e,n){return n?n(e):String(e)}getValue(e,n){return this.mapToEntity(Lu.getValue(e),n)}setValue(e,n,r){Lu.setValue(e,this.mapToStorage(n,r))}removeItem(e){Lu.removeItem(e)}}const Ce=new mP,pP=["line","fill","symbol","fill-extrusion","background","hillshade"],Zn=()=>({bg_layers:[{icon_id:"route",vector_id:"roadmap",simple_style_class:"road",medium_style_class:"road",expert_style_class:"maputnik",id:556,is_default:!0},{icon_id:"topo",vector_id:"topomap",medium_style_class:"topo",expert_style_class:"maputnik",id:529},{icon_id:"topo_bw",vector_id:"topomap_gray",medium_style_class:"topo",expert_style_class:"maputnik",id:502},{icon_id:"ortho",id:530},{icon_id:"hybrid",id:501},{icon_id:"blank",id:0}],bg_layer_theme_defaults:{tourisme:502},simple_styles:{road:[{unlocalized_label:"Light grey",hillshade:!1,colors:["#ffffff","#ffffff","#d6e0d7","#e1e1e1","#cccccc","#f2f2f2"],selected:!1},{unlocalized_label:"Dark grey",hillshade:!1,colors:["#808080","#808080","#494b4a","#505052","#232426","#454545"],selected:!1},{unlocalized_label:"Dark sand",hillshade:!1,colors:["#9e9375","#9e9375","#6b6249","#403928","#b8aa84","#1a1814"],selected:!1},{unlocalized_label:"Kids",hillshade:!1,colors:["#f9c50d","#ffffff","#839836","#d6d3ce","#2a5ba8","#eeeeee"],selected:!1},{unlocalized_label:"Light mauve",hillshade:!1,colors:["#f3edf5","#f3edf5","#9d7da8","#caa9d1","#613b5c","#e5d3e6"],selected:!1},{unlocalized_label:"Light Blue",hillshade:!1,colors:["#dceaf5","#dceaf5","#5598cf","#81b7e3","#3b576e","#b6cde0"],selected:!1}]},medium_default_styles:{road:[{label:"Roads primary",color:"#f7f7f7",lines:["lu_road_trunk_primary","lu_bridge_major","lu_tunnel_major","lu_road_major_motorway"],visible:!0},{label:"Roads secondary",color:"#f7f7f7",lines:["lu_road_minor","lu_road_secondary_tertiary","lu_bridge_minor","lu_road_path","lu_bridge_path","lu_bridge_railway case","lu_bridge_path case"],visible:!0},{label:"Vegetation",color:"#B8D293",opacity:"1",fills:["lu_landcover_wood","lu_landcover_grass","lu_landuse_stadium","lu_landuse_cemetery"],visible:!0},{label:"Buildings",color:"#D6AA85",opacity:"1",fillExtrusions:["lu_building-3d_public","lu_building-3d"],fills:["lu_building","lu_building_public"],lines:["lu_bridge_railway","lu_railway","lu_tunnel_railway"],visible:!0},{label:"Water",color:"#94c1e1",lines:["lu_waterway","lu_waterway_tunnel","lu_waterway_intermittent"],fills:["lu_water"],visible:!0},{label:"Background",color:"#e7e7e7",backgrounds:["background"],visible:!0},{label:"Hillshade",hillshades:["hillshade"],visible:!0}],topo:[{label:"Primary Names",symbols:["lu_place-label_other","lu_place-label_city","lu_place-label_canton","lu_country-label-other","lu_country-label","place_label_other","place_label_city","country_label-other","country_label"],visible:!0},{label:"Secondary Names",symbols:["lu_place-label_isolated","lu_place-label_locality_forest","lu_place-label_locality_lieudit"],visible:!0},{label:"Transport",lines:["lu_tunnel_track-casing","lu_tunnel_major_motorway-casing","lu_tunnel_railway_transit","lu_tunnel_railway","lu_tunnel_railway-hatching","lu_tunnel_path","lu_tunnel_track","lu_tunnel_minor","lu_tunnel_major_motorway","lu_tunnel_secondary_tertiary","lu_tunnel_trunk_primary","lu_road_track-casing","lu_road_minor-casing","lu_road_major_motorway-casing","lu_road_secondary_tertiary-casing","lu_road_trunk_primary-casing","lu_road_pier","lu_road_path","lu_road_track","lu_road_minor","lu_road_major_motorway","lu_road_secondary_tertiary","lu_road_trunk_primary","lu_tram","lu_tram-hatching","lu_railway_transit","lu_railway","lu_railway-hatching","lu_bridge_railway-casing","lu_bridge_track-casing","lu_bridge_path-casing","lu_bridge_minor-casing","lu_bridge_major_motorway-casing","lu_bridge_secondary_tertiary-casing","lu_bridge_trunk_primary-casing","lu_bridge_railway","lu_bridge_path","lu_bridge_track","lu_bridge_minor","lu_bridge_major_motorway","lu_bridge_secondary_tertiary","lu_bridge_trunk_primary","tunnel_track-casing","tunnel_major_motorway-casing","tunnel_railway_transit","tunnel_railway_transit-hatching","tunnel_railway","tunnel_railway-hatching","tunnel_path","tunnel_track","tunnel_minor","tunnel_major_motorway","tunnel_secondary_tertiary","tunnel_trunk_primary","road_track-casing","road_minor-casing","road_major_motorway-casing","road_secondary_tertiary-casing","road_trunk_primary-casing","road_pier","road_path","road_track","road_minor","road_major_motorway","road_secondary_tertiary","road_trunk_primary","railway-transit","railway-transit-hatching","railway","railway-hatching","bridge_railway-casing","bridge_path-casing","bridge_track_casing","bridge_minor-casing","bridge_major_motorway-casing","bridge_secondary_tertiary-casing","bridge_trunk_primary-casing","bridge_railway","bridge_path","bridge_track","bridge_minor","bridge_major_motorway","bridge_secondary_tertiary","bridge_trunk_primary"],symbols:["lu_road_major-label","lu_motorway-shield","lu_road-shield"],visible:!0},{label:"Vegetation",fills:["lu_landuse_stadium","lu_landuse_cemetery","lu_landuse_gras","lu_landuse_park","lu_landuse_park-outline","lu_landuse_vineyard","lu_landuse_orchard","lu_landuse_wood","landcover_grass","landcover_wood"],visible:!0},{label:"Electricity",fills:["lu_power_station","lu_power_pylone"],lines:["lu_power_line","lu_power_station-outline"],symbols:["lu_power_station-label","lu_eolienne"],visible:!0},{label:"Contours and Height Points",lines:["lu_contour-100","lu_contour-50","lu_contour-20","lu_contour-10","lu_contour"],symbols:["lu_contour-label-100","lu_contour-label-20","lu_apex-label"],visible:!0},{label:"Hillshade",hillshades:["lu_hillshade"],visible:!0}]},http_bg_server:"wmts{1-2}",https_bg_server:"wmts{3-4}",bg_wmts_server_path:"mapproxy_4_v3/wmts/{Layer}",bg_wmts_tile_template:"{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}",bg_layer_projection:"EPSG:3857",olcs_extent:[5.31,49.38,6.64,50.21],olcs_extent_projection:"EPSG:3857",bg_layer_resolutions:[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],bg_matrix_ids:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"]});function ds(){function t(p){const g=new URLSearchParams(document.location.search),y=g.get("embeddedserver"),v=g.get("embeddedserverprotocol")||"http";return(y?`${v}://${y}`:"https://vectortiles.geoportail.lu")+`/styles/${p}/style.json`}function e(p){return`https://vectortiles.geoportail.lu/styles/${p}/{z}/{x}/{y}.png`}function n(p){return/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi.test(p)}const r=Jn();function i(p,g){if(p==null)return;const y=new Map;r.bgVectorSources.forEach((v,b)=>{if(b===p.id){const E={...v,xyz_custom:g};y.set(b,E)}else y.set(b,v)}),r.setBgVectorSources(y)}function s(p,g,y=!1){const v="",b=t(g),E=e(g),O={label:p,defaultMapBoxStyle:b,defaultMapBoxStyleXYZ:E,xyz:E,xyz_custom:v,style:b},N=new URLSearchParams(window.location.search).get("serial"),M=new URLSearchParams(window.location.search).get("serialLayer");if(N)n(N)&&console.log(M);else if(!y)return Promise.resolve(O);return Promise.resolve(O)}function a(p){const g=Zn().medium_default_styles.road;if(p){p.colors.forEach((v,b)=>{g[b].color=v});const y=g.findIndex(v=>v.label==="Hillshade");g[y].visible=p.hillshade}return g}function o(p,g,y){if(!p||!g.get(p.id))return;const v=JSON.parse(JSON.stringify(g.get(p.id)));if(!!v&&!(!v||!v.layers))return y&&y.forEach(b=>{v==null||v.layers.forEach((E,O)=>{for(const N of pP)if((b[`${N}s`]||[]).includes(E.id)){const P=Object.assign({},v.layers[O].paint);b.color&&(P[`${N}-color`]=b.color,P[`${N}-opacity`]=1,v.layers[O].paint=P),v.layers[O].layout=Object.assign({},v.layers[O].layout,{visibility:b.visible?"visible":"none"})}})}),v}function l(p,g){if(p===null)return Promise.resolve();{const y=`${g.get("delete")}?id=${p}`;return fetch(y).catch(()=>"")}}function u(p,g,y){return l(g,y).then(()=>{const v=new FormData,b=JSON.stringify(p),E=new Blob([b],{type:"application/json"});v.append("style",E,"style.json");const O={method:"POST",body:v};return fetch(y.get("upload")||"",O).then(N=>N.json()).then(N=>N.id).catch(N=>console.warn(N))})}function f(p,g){if(!g)return;const y=p.maplibreMap;!y||(y.loaded()?y.setStyle(g):new Promise(v=>y.once("data",v)).then(()=>y.setStyle(g)))}function c(p){const g=Zn().bg_layers.find(y=>y.id==(p==null?void 0:p.id));return g==null?void 0:g.vector_id}function h(p){const g=Zn().bg_layers.find(y=>y.id==(p==null?void 0:p.id));return(g==null?void 0:g.vector_id)!==void 0}function d(p){const g=Zn().bg_layers.find(y=>y.id==(p==null?void 0:p.id));return{isEditable:(g==null?void 0:g.vector_id)!==void 0,hasSimpleStyle:(g==null?void 0:g.simple_style_class)!==void 0,hasAdvancedStyle:(g==null?void 0:g.medium_style_class)!==void 0,hasExpertStyle:(g==null?void 0:g.expert_style_class)!==void 0}}function m(p,g){return g.map(y=>Object.assign(y,{selected:y.colors.every((v,b)=>{var E;return((E=p[b])==null?void 0:E.color)===v})}))}return{getDefaultMapBoxStyleUrl:t,getDefaultMapBoxStyleXYZ:e,setConfigForLayer:s,getRoadStyleFromSimpleStyle:a,applyDefaultStyle:o,applyConsolidatedStyle:f,getVectorId:c,setCustomStyleSerial:i,unregisterStyle:l,registerStyle:u,checkSelection:m,isLayerStyleEditable:h,getStyleCapabilitiesFromLayer:d}}const Jn=ss("style",()=>{const t=ds(),e=nt(),n=nt(new Map),r=nt(new Map),i=nt(!1),s=nt(null),a=nt(),o=nt(new Map([["get","/getvtstyle"],["upload","/uploadvtstyle"],["delete","/deletevtstyle"]])),l=[];Zn().bg_layers.forEach(y=>{if(y.vector_id){const v=t.setConfigForLayer(y.icon_id,y.vector_id);l.push(v.then(b=>({id:y.id,config:b})))}}),Promise.all(l).then(y=>{const v=new Map;y.forEach(b=>v.set(b.id,b.config)),n.value=v});function u(y,v){o.value.set(y,v)}function f(y){n.value=y}function c(y){const v=new Map;r.value.forEach((b,E)=>{E!==y&&v.set(E,b)}),r.value=v}function h(y,v){const b=new Map;r.value.forEach((E,O)=>b.set(O,E)),b.set(y,v),r.value=b}function d(y){e.value=t.getRoadStyleFromSimpleStyle(y),p()}function m(y){e.value=y,p()}function p(){i.value=!1}function g(){i.value=!0}return{bgStyle:e,bgVectorSources:n,bgVectorBaseStyles:r,isExpertStyleActive:i,appliedStyle:a,removeBaseStyle:c,setBaseStyle:h,setBgVectorSources:f,setRegisterUrl:u,setSimpleStyle:d,setStyle:m,disableExpertStyle:p,enableExpertStyle:g,styleSerial:s,registerUrls:o}},{});class gP{constructor(){ut(this,"styleWatcher")}bootstrapStyle(){const e=Jn();let n,r=!1;n=gn(()=>{e.bgVectorSources&&(this.restoreStyle(!1),r&&this.persistStyle(),r=!0,n&&n())})}persistStyle(){const e=Jn(),{bgStyle:n}=Ue(e);this.styleWatcher||(this.styleWatcher=et(n,(r,i)=>{if(i!==r){const s=ht();s.bgLayer&&(Ce.setValue(s.bgLayer.name,r||[],wu.styleToLocalStorage),Ce.setValue(Tu,r||[],wu.styleToSerial))}},{immediate:!0}))}restoreStyle(e){const n=Jn();n.setStyle(null);const i=ht().bgLayer;if(i){let s=[];e||(s=Ce.getValue(Tu,wu.styleSerialToStyle)),s.length===0&&(s=Ce.getValue(i.name,wu.styleLocalStorageToStyle)),s&&s.length>0&&n.setStyle(s)}}}const vh=new gP,yP="https://map.geoportail.lu/ogcproxywms",vP="https://map.geoportail.lu/httpsproxy";class _P{constructor(){ut(this,"_wmsProxyUrl",yP);ut(this,"_remoteProxyUrl",vP)}get wmsProxyUrl(){return this._wmsProxyUrl===void 0&&console.warn("Warning: proxyWmsUrl is not set."),this._wmsProxyUrl}get remoteProxyUrl(){return this._remoteProxyUrl===void 0&&console.warn("Warning: remoteProxy is not set."),this._remoteProxyUrl}getProxyfiedUrl(e){return e.indexOf("httpsproxy")>0?e:this.remoteProxyUrl+"?url="+encodeURIComponent(e)}init_v3(e,n){e&&(this._wmsProxyUrl=e),n&&(this._remoteProxyUrl=n)}}const ms=new _P;function b0(){return Et.transformExtent([5.31,49.38,6.64,50.21],ey,ro)}function E0(t){var e;return!!((e=t==null?void 0:t.metadata)!=null&&e.hasRetina)&&a0()}function bP(t,e="https"){const n=t.imageType.split("/")[1],r=Ce.getValue(yo,dh)?"app.geoportail.lu":"geoportail.lu";return`${e==="https"?"//wmts{3-4}.":"//wmts{1-2}."}${r}/mapproxy_4_v3/wmts/{Layer}${E0(t)?"_hd":""}/{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}.${n}`}class EP{createOlLayer(e){const{name:n,layers:r,imageType:i,url:s,id:a}=e,o=new md.default({url:s||ms.wmsProxyUrl,hidpi:a0(),serverType:"mapserver",params:{FORMAT:i,LAYERS:r},...s!=null||ms.remoteProxyUrl?{crossOrigin:"anonymous"}:{}});return new Ab.default({properties:{"olcs.extent":b0(),label:n,id:a},source:o})}setLayerTime(e,n){const r=e.getParams();r.TIME=n,e.updateParams(r)}}const S0=new EP,SP=[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],wP=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"];class xP{createOlLayer(e){const{name:n,imageType:r,id:i}=e,s=E0(e),a=Et.get(ro),o=a.getExtent(),l=new pd.default({url:bP(e),tilePixelRatio:s?2:1,layer:n,matrixSet:`GLOBAL_WEBMERCATOR_4_V3${s?"_HD":""}`,format:r,requestEncoding:"REST",projection:a,tileGrid:new Ib.default({origin:mb.getTopLeft(o),extent:o,resolutions:SP,matrixIds:wP}),style:"default",crossOrigin:"anonymous"});return new Db.default({source:l,properties:{"olcs.extent":b0(),label:n,id:i}})}setLayerTime(e,n,r){const i=e.get("metadata").time_layers[r],s=n.getUrls();if(s){const a=this.transformUrls(s,i);n.setUrls(a),e.set("label",i),e.set("layer_name",i)}}transformUrls(e,n){return e.map(r=>r.replace(/[/][^/]*[/]{TileMatrixSet}/,`/${n}/{TileMatrixSet}`))}}const w0=new xP;class _h extends Rb.default{constructor(e){const n=Object.assign({},e);delete n.accessToken,delete n.style,delete n.container,delete n.xyz,super(n),this.set("xyz",e.maplibreOptions.xyz),this.set("xyz_custom",e.maplibreOptions.xyz_custom),this.xyz_=e.xyz,e.accessToken&&(gd.default.accessToken=e.accessToken),this.map_=new gd.default.Map({container:e.maplibreOptions.container,style:e.maplibreOptions.style,attributionControl:!1,interactive:!1}),this.maplibreMap=this.map_}getMapBoxMap(){return this.map_}getMapLibreMap(){return this.map_}render(e){const n=this.map_.getCanvas(),r=e.viewState;n.style.position="absolute";const i=this.getVisible();n.style.display=i?"block":"none";const s=this.getOpacity().toString();s!==n.style.opacity&&(n.style.opacity=s);const a=r.rotation;return a&&this.map_.rotateTo(gb.toDegrees(-a),{animate:!1}),this.map_.jumpTo({center:yb.toLonLat(r.center),zoom:r.zoom-1,animate:!1}),this.map_._frame&&(this.map_._frame.cancel(),this.map_._frame=null),this.map_._render(),n}setLayerVisibility(e,n){this.map_.setLayoutProperty(e,"visibility",n?"visible":"none")}getStyle(){return this.map_.getStyle()}getXYZ(){return this.get("xyz")}}class OP{createOlLayer(e,n){const r=pr(),{id:i,metadata:s,name:a}=e,o=n.get(i);if(!o)return;const l={container:r.getOlMap().getTarget(),...o},u=new _h({maplibreOptions:l,label:a,id:i,queryable_id:i,metadata:s}),f=Jn();return u!=null&&u.getMapLibreMap().loaded()?f.setBaseStyle(i,u==null?void 0:u.getMapLibreMap().getStyle()):new Promise(c=>u==null?void 0:u.getMapLibreMap().once("data",c)).then(()=>f.setBaseStyle(i,u==null?void 0:u.getMapLibreMap().getStyle())),u}}const MP=new OP;class TP{createOlLayer(e,n){let r;if(n&&(r=MP.createOlLayer(e,n)),!r)switch(e.type){case"WMS":r=S0.createOlLayer(e);break;case"WMTS":case"BG WMTS":r=w0.createOlLayer(e);break;default:throw new Error(`Unrecognized layer type: ${e.type}`)}return r.set("id",e.id),r.set("label",e.name),r.set("layer_name",e.name),r.set("metadata",e.metadata),r.set("queryable_id",e.id),r.set("current_time",In().getLayerCurrentTime(e)),r.set("time",e.time),r.setOpacity(e.opacity),r}}const x0=new TP;class NP{setLayerTime(e,n){const r=e.getSource();r instanceof md.default&&S0.setLayerTime(r,n),r instanceof pd.default&&w0.setLayerTime(e,r,n)}}const CP=new NP,Pu=-200;function bh(){function t(d,m){if(!m)return;const p=u(m);d.addLayer(p)}function e(d,m){return d.getLayers().getArray().find(p=>p.get("id")===m)}function n(d,m){const p=e(d,m);p&&d.removeLayer(p)}function r(d,m){const p=d.getLayers().getArray();m.forEach((g,y)=>{const v=p.find(b=>b.get("id")===g.id);v==null||v.setZIndex(y+1)})}function i(d,m,p){const g=d.getLayers().getArray().find(y=>y.get("id")===m);g&&g.setOpacity(p)}function s(d,m){const p=In(),g=e(d,m.id),y=p.getLayerCurrentTime(m);y&&g&&CP.setLayerTime(g,y)}function a(d){io.delete(d)}function o(d){return io.has(d.id)}function l(d,m){io.set(d,m)}function u(d){const m=d.id,p=io.get(m);if(p)return p;{const g=x0.createOlLayer(d);return l(m,g),g}}function f(d){return d&&io.get(d.id)||null}function c(d,m){const g=d.getLayers().getArray().find(y=>y.getZIndex()===Pu);g&&m(g)}function h(d,m,p){var E;const g=d.getLayers(),y=g.getArray().findIndex(O=>O.getZIndex()===Pu),v=(E=g.getArray()[y])==null?void 0:E.get("id");let b;m&&(o(m)?b=f(m):(b=x0.createOlLayer(m,p),l(m.id,b))),y>=0?b?(b.setZIndex(Pu),g.setAt(y,b)):g.removeAt(y):b&&(b.setZIndex(Pu),d.addLayer(b)),v&&v!==(m==null?void 0:m.id)&&vh.restoreStyle(!0)}return{addLayer:t,findLayer:e,removeLayer:n,removeFromCache:a,reorderLayers:r,setLayerOpacity:i,setLayerTime:s,getLayerFromCache:f,setBgLayer:h,applyOnBgLayer:c}}class LP{constructor(e){ut(this,"previousLayers");ut(this,"previousVectorSources");const n=ht(),r=Jn(),i=pr(),s=ds(),a=bh(),{appliedStyle:o}=Ue(r);et(()=>n.layers,l=>{const u={layers:this.previousLayers},f={layers:l},c=i.getRemovedLayers(f,u),h=i.getAddedLayers(f,u),d=i.getMutatedLayers(f,u);c.forEach(m=>a.removeLayer(e,m.id)),h.forEach(m=>{a.addLayer(e,m.layer),a.setLayerTime(e,m.layer)}),d.forEach(m=>{a.setLayerOpacity(e,m.id,m.opacity),a.setLayerTime(e,m)}),f.layers&&a.reorderLayers(e,f.layers),this.previousLayers=l}),et(()=>n.bgLayer,l=>l!==void 0&&a.setBgLayer(e,l,r.bgVectorSources)),gn(()=>{r.isExpertStyleActive||(o.value=s.applyDefaultStyle(n.bgLayer,r.bgVectorBaseStyles,r.bgStyle))}),et(o,l=>{r.bgStyle===null&&!r.isExpertStyleActive?s.unregisterStyle(r.styleSerial,r.registerUrls).then(r.styleSerial=null):s.registerStyle(l,r.styleSerial,r.registerUrls).then(u=>{var c;r.styleSerial=u;const f=(c=n==null?void 0:n.bgLayer)==null?void 0:c.id;(n==null?void 0:n.bgLayer)&&f!==void 0&&u!==void 0&&(a.applyOnBgLayer(e,h=>{h.set("xyz_custom",s.getDefaultMapBoxStyleXYZ(u))}),a.setBgLayer(e,n==null?void 0:n.bgLayer,r.bgVectorSources))}),a.applyOnBgLayer(e,u=>s.applyConsolidatedStyle(u,l))}),et(()=>r.bgVectorSources,l=>{var u;for(const f of l.keys())(!this.previousVectorSources||this.previousVectorSources.get(f)!==l.get(f))&&(a.removeFromCache(f),f===((u=n==null?void 0:n.bgLayer)==null?void 0:u.id)&&a.setBgLayer(e,n==null?void 0:n.bgLayer,l));this.previousVectorSources=l})}}const PP={0:8,1:9,2:9,3:10,4:11,5:12,6:13,7:14,8:16,9:17,10:18,11:19,12:20,13:21};class kP{bootstrap(){this.restore(),this.persist()}persistZoom(){const e=pr().getOlMap().getView(),n=()=>{const r=e.getZoom();Ce.setValue(f0,r?Math.ceil(r):null)};n(),yd.listen(e,"change:resolution",s0(n,300))}persistXY(){const e=pr().getOlMap().getView(),n=()=>{const r=e.getCenter();Ce.setValue(h0,r?Math.round(r[0]):null),Ce.setValue(d0,r?Math.round(r[1]):null)};n(),yd.listen(e,$b.default.PROPERTYCHANGE,s0(n,300))}persist(){this.persistXY(),this.persistZoom()}restore(){const e=pr().getOlMap().getView(),n=Ce.getValue(f0,na),r=Ce.getInitialVersion(),i=Ce.getValue(h0,na),s=Ce.getValue(d0,na),a=Ce.getValue(JL),o=Et.getTransform(i2,ro);let l,u;n!==void 0?u=r===3?Number(n):PP[n]:u=8,i!=null&&s!=null?r===3&&a!=null?l=Et.transform([i,s],a,ro):l=r===3?[i,s]:o([s,i],void 0,2):l=Et.transform([6,49.7],ey,ro),e.setCenter(l),e.setZoom(u)}}const AP=new kP,DP={key:0,class:"absolute bottom-0 z-10 text-[0.8em] px-[4px] text-[#6b818f] bg-[#ffffffb3]"},IP=ge(he({__name:"attribution-control",setup(t){const e=ht(),n=Se("");return gn(()=>{var r,i;n.value=((i=(r=e.bgLayer)==null?void 0:r.metadata)==null?void 0:i.attribution)||""}),(r,i)=>{const s=Rc("dompurify-html");return n.value?fl((k(),G("div",DP,null,512)),[[s,n.value]]):F("v-if",!0)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/attribution-control.vue"]]);function Eo(t,e){const n=new t(e),r=pr(),i=Ns("olMap");return yn(()=>{i.addControl(n),i.changed()}),ui(()=>{const s=r.getOlMap();s.removeControl(n),s.changed()}),{control:n}}const RP=["title"],$P=ge(he({__name:"location-control",props:{className:{type:String,required:!1,default:"location-button"},label:{type:String,required:!1,default:"\uE800"},tipLabel:{type:String,required:!1,default:"Location"}},setup(t){const{t:e}=Ze(),n=t,r=Se(null);function i(){}return yn(()=>Eo(vd.default,{...n,target:r})),(s,a)=>(k(),G("div",{ref_key:"controlElement",ref:r,class:Ae(`tracker-off ${n.className} ${x(Fo.CLASS_UNSELECTABLE)} ${x(Fo.CLASS_CONTROL)}`)},[L("button",{title:x(e)(n.tipLabel),onClick:i},oe(n.label),9,RP)],2))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/location-control.vue"]]),FP=["title"],VP=ge(he({__name:"map-3d",props:{className:{type:String,required:!1,default:"map-3d-button"},label:{type:String,required:!1,default:"\uE057"},tipLabel:{type:String,required:!1,default:"3d"}},setup(t){const e=ht(),{t:n}=Ze(),r=t,i=Se(null);yn(()=>Eo(vd.default,{...r,target:i}));const s=()=>{e.setIs3dActive(!e.is3dActive)};return(a,o)=>(k(),G("div",{ref_key:"controlElement",ref:i,class:Ae(`${r.className} ${x(Fo.CLASS_UNSELECTABLE)} ${x(Fo.CLASS_CONTROL)} ${x(e).is3dActive?"active":""}`)},[L("button",{title:x(n)(r.tipLabel),onClick:s},oe(r.label),9,FP)],2))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/map-3d.vue"]]),jP=ge(he({__name:"fullscreen-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01C"},labelActive:{type:String,required:!1,default:"\uE02C"}},setup(t){const e=t;return Eo(Fb.default,e),(n,r)=>F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/fullscreen-control.vue"]]),GP=ge(he({__name:"zoom-control",props:{className:{type:String,required:!1},zoomInLabel:{type:String,required:!1,default:"\uE032"},zoomOutLabel:{type:String,required:!1,default:"\uE033"}},setup(t){const e=t;return Eo(Vb.default,e),(n,r)=>F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/zoom-control.vue"]]);class UP extends jb.default{constructor(n){super(n);ut(this,"ol3dm")}handleZoomToExtent(){this.ol3dm&&this.ol3dm.luxCameraExtentInRadians&&this.ol3dm.is3dEnabled()||super.handleZoomToExtent()}}const BP=ge(he({__name:"zoom-to-extent-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01B"},tipLabel:{type:String,required:!1},extent:{type:Array,required:!0}},setup(t){return Eo(UP,t),(n,r)=>F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/zoom-to-extent-control.vue"]]),O0=ge(he({__name:"map-container",props:{v4_standalone:{type:Boolean,required:!1,default:!1}},setup(t){const e=pr(),n=Se(null),r=e.createMap(),i=[425152.9429259216,632446599999133e-8,914349.9239510496,6507914867875754e-9];return yn(()=>{n.value&&(new LP(r),AP.bootstrap(),r.setTarget(n.value),window.olMap=r)}),Fm("olMap",r),(s,a)=>(k(),G("div",{id:"map-container",ref_key:"mapContainer",ref:n,class:"h-full w-full bg-white relative"},[se(GP),se(BP,{extent:i}),se(jP),se(IP),s.v4_standalone?(k(),Ge(VP,{key:0})):F("v-if",!0),se($P)],512))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map/map-container.vue"]]),WP="fr",qP=!0,HP=!1,zP=!1,vt=ss("app",()=>{const t=Se(WP),e=Se(qP),n=Se(HP),r=Se(zP),i=Se(),s=Se(),a=Se(!1);function o(p){t.value=p}function l(p){e.value=p,p||(r.value=!1,n.value=!1)}function u(p){n.value=p,p&&(r.value=!1)}function f(p){r.value=p}function c(p){s.value=p}function h(p){i.value=p}function d(){a.value=!0}function m(){a.value=!1}return{lang:t,layersOpen:e,myLayersTabOpen:n,themeGridOpen:r,mapId:i,styleEditorOpen:a,remoteLayersOpen:s,setLang:o,setLayersOpen:l,setMyLayersTabOpen:u,setThemeGridOpen:f,setRemoteLayersOpen:c,setMapId:h,openStyleEditorPanel:d,closeStyleEditorPanel:m}},{}),ku={name:"blank",id:0};function Eh(){const t=vt(),{mapId:e}=Ue(t),n=Ni(),r=ht(),i=In(),s=de(()=>{var c;if(!e.value){const h=(c=Ht().theme)==null?void 0:c.name;if(h)return Zn().bg_layer_theme_defaults[h]||l()}return l()});function a(c){const h=n.findBgLayerById(c);o(h||null)}function o(c){if(c){if(c.type==="WMTS"||c.type==="BG WMTS")c.type="BG WMTS";else if(c.type==="BG MVT")console.log(`passed through MVT layer ${c.name}`);else throw new Error(`Only WMTS and MVT BG layers are currently implemented (not ${c.type} for ${c.name})`);i.handleExclusionLayers(c),r.setBgLayer(i.initLayer(c))}else r.setBgLayer(null)}function l(){var c;return((c=f().find(h=>h.is_default))==null?void 0:c.id)||ku.id}function u(){return ku.id}function f(){return Zn().bg_layers}return{setBgLayer:a,setMapBackground:o,getBgLayersFromConfig:f,getNullId:u,getDefaultSelectedId:l,defaultSelectedBgId:s}}const YP=["title"],M0=ge(he({__name:"background-selector-item",props:{bgTitle:{type:String,default:""},bgName:{type:String,default:""}},setup(t){const{t:e}=Ze(),n=t,r=de(()=>{const s=e(n.bgTitle),a=n.bgTitle.length>0,o=`${e("Background layer:")} ${e(n.bgName)}`;return`${s}${a?" - ":""}${o}`}),i=de(()=>`h-full w-full rounded-sm lux-bg-sel-icon
        lux-bg-sel-${n.bgName}
        bg-${n.bgName}_sm
        md:bg-${n.bgName}
        hd:bg-${n.bgName}_sm_hi
        hd_md:bg-${n.bgName}_hi`);return(s,a)=>(k(),G("button",{title:r.value,class:Ae(i.value)},null,10,YP))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/background-selector/background-selector-item.vue"]]),XP={key:0,class:"flex flex-row-reverse"},T0=ge(he({__name:"background-selector",props:{isOpen:{type:Boolean,default:!1}},setup(t){const{t:e}=Ze(),n=Eh(),r=ht(),i=Ht(),{bgLayer:s,is3dMesh:a}=Ue(r),l=Se(t.isOpen),u=Se([]),f=de(()=>{var m,p;return(p=(m=s.value)==null?void 0:m.id)!=null?p:n.getNullId()}),c=de(()=>{var m,p;return(p=(m=u.value)==null?void 0:m.find(g=>g.id===f.value))==null?void 0:p.name});et(()=>i.bgLayers,m=>{u.value=Zn().bg_layers.map(p=>Object.assign({id:p.id},m.find(g=>p.id===g.id),{name:p.icon_id}))},{immediate:!0}),et(()=>r.bgLayer,(m,p)=>{const g=r.layers;p===void 0&&m===null&&(g==null?void 0:g.length)===0&&(n.setBgLayer(n.defaultSelectedBgId.value),m===null&&Kl().addNotification(e("Aucune couche n'\xE9tant d\xE9finie pour cette carte, une couche de fond a automatiquement \xE9t\xE9 ajout\xE9e.",{ns:"client"})))});function h(m){n.setBgLayer(m.id),l.value=!1}function d(){l.value=!l.value}return(m,p)=>x(a)?F("v-if",!0):(k(),G("div",XP,[L("div",{class:Ae(["lux-bg-sel border border-black",l.value===!0?"hidden":"block"])},[se(M0,{"aria-expanded":l.value,"bg-title":"Select BG layer","bg-name":c.value,onClick:d},null,8,["aria-expanded","bg-name"])],2),L("div",{class:Ae(l.value===!0?"flex flex-col md:flex-row":"hidden")},[(k(!0),G(je,null,On(u.value,g=>(k(),G("div",{key:g.id,class:Ae(["lux-bg-sel hover:bg-cyan-600",g.id===f.value?"border-red-500 border-2":"border-black border"])},[se(M0,{"bg-name":g.name,onClick:y=>h(g)},null,8,["bg-name","onClick"])],2))),128))],2)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/background-selector/background-selector.vue"]]),KP=L("div",{class:"fixed inset-0 bg-gray-900 opacity-40 z-[1050]"},null,-1),ZP={class:"bg-white shadow-modal rounded-lg overflow-hidden w-[700px]"},JP={class:"relative flex flex-row justify-center p-4 border-b-[1px]"},QP={class:"text-xl"},ek=[L("span",{"aria-hidden":"true"},"\xD7",-1)],tk={key:0,class:"p-[15px] border-t-[1px]"},nk={class:"flex flex-row justify-end"},N0=ge(he({__name:"modal-dialog",props:{footer:{type:Boolean,default:!0},maxHeight:{type:Boolean,default:!1},title:String},emits:["close"],setup(t){const{t:e}=Ze(),n=Se();yn(()=>{n.value.focus()});const r=nt(!0);function i(){r.value=!1}return(s,a)=>(k(),Ge(np,{to:"body"},[F(" backdrop "),KP,F(" modal "),se(xl,{appear:"","enter-active-class":"duration-200 ease-out","enter-from-class":"transform opacity-0 -translate-y-60","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-60",onAfterLeave:a[3]||(a[3]=o=>s.$emit("close"))},{default:oi(()=>[r.value?(k(),G("div",{key:0,role:"dialog",ref_key:"modal",ref:n,tabindex:"0",onKeydown:a[2]||(a[2]=ur(lr(o=>i(),["stop"]),["esc"])),class:"fixed inset-x-0 inset-y-8 flex items-start justify-center z-[1100] outline-none"},[L("div",ZP,[F(" header (title)"),L("div",JP,[L("h4",QP,oe(t.title),1),L("button",{type:"button",class:"absolute right-2 top-1 text-slate-400 text-[24px]","data-dismiss":"modal","aria-label":"Close",onClick:a[0]||(a[0]=o=>i())},[...ek])]),F(" content slot "),L("div",{class:Ae(["p-[15px] overflow-y-auto",t.maxHeight?"max-h-96":"max-h-full"])},[Cm(s.$slots,"content")],2),F(" footer (optional)"),t.footer?(k(),G("div",tk,[L("div",nk,[L("button",{type:"button",class:"lux-btn","data-dismiss":"modal",onClick:a[1]||(a[1]=o=>i())},oe(x(e)("Close",{ns:"client"})),1)])])):F("v-if",!0)])],544)):F("v-if",!0)]),_:3})]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/modal-dialog.vue"]]),Sh=ss("metadata",()=>{const t=Se();function e(r){t.value=r}function n(){t.value=void 0}return{metadataId:t,setMetadataId:e,clearMetadataId:n}},{}),rk=["aria-expanded"],ik={class:"leading-6"},Au=ge(he({__name:"expandable-panel",props:{expanded:{type:Boolean,required:!0},title:{type:String,required:!0}},emits:["togglePanel"],setup(t){return(e,n)=>(k(),G(je,null,[L("button",{onClick:n[0]||(n[0]=r=>e.$emit("togglePanel")),class:"group w-full text-left flex px-2 py-1.5 uppercase bg-tertiary","aria-expanded":e.expanded},[L("div",{class:Ae(["grow",e.expanded?"text-white":"text-secondary"])},oe(e.title),3),L("div",ik,[L("div",{class:Ae(["fa fa-sharp fa-solid group-hover:text-white text-primary",e.expanded?"fa-caret-up":"fa-caret-down"])},null,2)])],8,rk),L("div",{class:Ae(e.expanded?"":"hidden")},[Cm(e.$slots,"default")],2)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/expandable-panel.vue"]]),sk={class:"mb-px",key:"node.id"},ak=["data-cy"],ok=["aria-expanded","data-cy"],lk={class:"grow"},uk={class:"leading-6"},ck={key:1,class:"flex text-tertiary pr-2"},fk=["data-cy"],hk={class:"ml-1 hover:underline"},wh=ge(he({__name:"layer-tree-node",props:{node:{type:Object,required:!0}},emits:["toggleLayer","toggleParent"],setup(t,{emit:e}){const n=t,r=e,{t:i}=Ze(),{setMetadataId:s}=Sh(),a=!!n.node.children,o=n.node.depth===0,l=n.node.depth>=10,u=de(()=>i(n.node.name,{ns:"client"}));function f(h){r("toggleLayer",h)}function c(h){r("toggleParent",h)}return(h,d)=>{const m=uE("layer-tree-node",!0);return a?(k(),G("div",sk,[F("    First level parents"),h.node.depth===1?(k(),G("div",{key:0,"data-cy":`parentLayerLabel-${h.node.id}`},[se(Au,{title:u.value,expanded:h.node.expanded,onTogglePanel:d[0]||(d[0]=p=>c(h.node))},null,8,["title","expanded"])],8,ak)):h.node.depth>1&&!l?(k(),G(je,{key:1},[F("    Other parents (with custom panel style)"),L("button",{class:Ae(["w-full text-left flex px-2 py-1.5 pl-2",h.node.expanded?"text-tertiary":"bg-white text-primary"]),"aria-expanded":h.node.expanded,onClick:d[1]||(d[1]=p=>c(h.node)),"data-cy":`parentLayerLabel-${h.node.id}`},[L("div",lk,oe(u.value),1),L("div",uk,[L("div",{class:Ae(["fa-sharp fa-solid",h.node.expanded?"fa-minus":"fa-plus"])},null,2)])],10,ok)],2112)):F("v-if",!0),F("    Children"),l?F("v-if",!0):(k(),G("div",{key:2,class:Ae(["bg-secondary",[{"pl-2":h.node.depth>1},{"lux-collapse":!o},{expanded:!o&&h.node.expanded}]])},[(k(!0),G(je,null,On(h.node.children,p=>(k(),Ge(m,{key:p.id,node:p,onToggleParent:d[2]||(d[2]=g=>c(g)),onToggleLayer:d[3]||(d[3]=g=>f(g))},null,8,["node"]))),128))],2))])):(k(),G("div",ck,[L("button",{class:"self-start before:text-[.85rem] before:transform before:translate-y-[.1rem] before:inline-block before:content-['\\f129'] fa-solid fa-fw fa-fh fa-info",onClick:d[4]||(d[4]=p=>x(s)(h.node.id))}),L("button",{class:Ae(["w-full text-left",{"font-bold":h.node.checked}]),onClick:d[5]||(d[5]=p=>f(h.node)),"data-cy":`layerLabel-${h.node.id}`},[L("i",{class:Ae(["fa-solid",h.node.checked?"fa-check-square":"fa-square"])},null,2),L("span",hk,oe(u.value),1)],10,fk)]))}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-tree/layer-tree-node.vue"]]);class dk{toggleNode(e,n,r){var i;return(n==null?void 0:n.id)===e?{...n,[r]:!n[r]}:{...n,children:(i=n.children)==null?void 0:i.map(s=>this.toggleNode(e,s,r))}}updateLayers(e,n){const{id:r}=e;if(e.children)return{...e,children:e.children.map(i=>this.updateLayers(i,n))};{const i=!!(n!=null&&n.find(s=>s.id===r));return{...e,checked:i}}}}const ia=new dk;var Rn=(t=>(t.WMS="WMS",t.WMTS="WMTS",t))(Rn||{});function mk(t,e){var n,r;return t.children&&!e.children||((n=e.children)==null?void 0:n.length)===0?1:e.children&&!t.children||((r=t.children)==null?void 0:r.length)===0?-1:0}function C0(t,e,n=0){const{name:r="",type:i=Rn.WMS,children:s}=t,a=`${i}||${e}||${r}`.split("-").join("%2D"),o=ht();return{id:a,name:r,depth:n,children:s==null?void 0:s.sort(mk).map(l=>C0(l,e,n+1)),checked:o.hasLayer(a),expanded:!1}}function pk(t){const e=decodeURIComponent(t),[n,r,i]=e.split("||");return L0({id:e,url:ms.getProxyfiedUrl(r),remoteLayer:{name:i,type:n}})}function L0({id:t,url:e,remoteLayer:n}){const{name:r="",type:i=Rn.WMS}=n;return{id:t,name:r,layers:r,url:e,type:i,imageType:Oy.PNG}}class xh{constructor(e,n=0,r=!1){this.message=e,this.httpStatus=n,this.isCrossOriginRelated=r}}let gk=0;function yk(){return gk++}function vk(t,e,n){return new Promise((r,i)=>{const s=yk(),a={requestId:s,taskName:t,params:n};e===null?window.dispatchEvent(new CustomEvent("ogc-client.request",{detail:a})):e.postMessage(a);const o=({detail:l,data:u})=>{const f=l||u;f.requestId===s&&(e===null?window.removeEventListener("message",o):e.removeEventListener("message",o),"error"in f?i(f.error):r(f.response))};e===null?window.addEventListener("ogc-client.response",o):e.addEventListener("message",o)})}function Oh(t,e,n){const r=typeof WorkerGlobalScope<"u",i=async({detail:s,data:a})=>{const o=s||a;if(o.taskName===t){let l,u;try{l=await n(o.params)}catch(c){u=c}const f={taskName:t,requestId:o.requestId,...l&&{response:l},...u&&{error:u}};r?e.postMessage(f):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:f}))}};r?e.addEventListener("message",i):e.addEventListener("ogc-client.request",i)}let Mh;function _k(){return Mh||(Mh=new Worker(URL.createObjectURL(new Blob([`function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(t,e,r){var n=h;return function(o,i){if(n===v)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=v;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?d:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",d="completed",y={};function m(){}function g(){}function b(){}var S={};S[a]=function(){return this};var E=Object.getPrototypeOf,w=E&&E(E(C([])));w&&w!==r&&o.call(w,a)&&(S=w);var O=b.prototype=m.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(i,a,c,u){var s=l(t[i],t,a);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"===n(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(h).then((function(t){f.value=t,c(f)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}}function k(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function C(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:G}}function G(){return{value:e,done:!0}}return g.prototype=O.constructor=b,b.constructor=g,g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},x(P.prototype),P.prototype[c]=function(){return this},t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(O),s(O,u,"Generator"),O[a]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(o);var i=o.exports;function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(t,e,n){var o="undefined"!=typeof WorkerGlobalScope,a=function(){var a=r(i.mark((function r(a){var u,s,f,l,h,p;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=a.detail,s=a.data,(f=u||s).taskName!==t){r.next=14;break}return r.prev=3,r.next=6,n(f.params);case 6:l=r.sent,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),h=r.t0;case 12:p=c(c({taskName:t,requestId:f.requestId},l&&{response:l}),h&&{error:h}),o?e.postMessage(p):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:p}));case 14:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(t){return a.apply(this,arguments)}}();o?e.addEventListener("message",a):e.addEventListener("ogc-client.request",a)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function v(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t,e,r){return m=y()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&h(o,r.prototype),o},m.apply(null,arguments)}function g(t){var e="function"==typeof Map?new Map:void 0;return g=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return m(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)},g(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),t}var E=function(){function t(e){l(this,t),this.chars=f(e),this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;var r=this.chars,n=this.charCount,o=this.charsToBytes;if(n===e.length)for(var i=0;i<n;++i)o[i]=i;else{for(var a=0,c=0;c<n;++c)o[c]=a,a+=r[c].length;this.multiByteMode=!0}}return S(t,[{key:"isEnd",get:function(){return this.charIndex>=this.charCount}},{key:"_charLength",value:function(t){var e=t.length;return e<2||!this.multiByteMode?e:t.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,"_").length}},{key:"advance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.charIndex=Math.min(this.charCount,this.charIndex+t)}},{key:"consume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.peek(t);return this.advance(t),e}},{key:"consumeMatch",value:function(t){if(!t.sticky)throw new Error('\`regex\` must have a sticky flag ("y")');t.lastIndex=this.charsToBytes[this.charIndex];var e=t.exec(this.string);if(null===e)return"";var r=e[0];return this.advance(this._charLength(r)),r}},{key:"consumeMatchFn",value:function(t){for(var e=this.charIndex;!this.isEnd&&t(this.peek());)this.advance();return this.charIndex>e?this.string.slice(this.charsToBytes[e],this.charsToBytes[this.charIndex]):""}},{key:"consumeString",value:function(t){if(this.consumeStringFast(t))return t;if(!this.multiByteMode)return"";var e=t.length,r=this._charLength(t);return r!==e&&t===this.peek(r)?(this.advance(r),t):""}},{key:"consumeStringFast",value:function(t){if(this.peek()===t[0]){var e=t.length;if(1===e)return this.advance(),t;if(this.peek(e)===t)return this.advance(e),t}return""}},{key:"consumeUntilMatch",value:function(t){if(!t.global)throw new Error('\`regex\` must have a global flag ("g")');var e=this.charsToBytes[this.charIndex];t.lastIndex=e;var r=t.exec(this.string);if(null===r||r.index===e)return"";var n=this.string.slice(e,r.index);return this.advance(this._charLength(n)),n}},{key:"consumeUntilString",value:function(t){var e=this.charIndex,r=this.charsToBytes,n=this.string,o=r[e],i=n.indexOf(t,o);if(i<=0)return"";var a=n.slice(o,i);return this.advance(this._charLength(a)),a}},{key:"peek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.charIndex>=this.charCount)return"";if(1===t)return this.chars[this.charIndex];var e=this.charsToBytes,r=this.charIndex;return this.string.slice(e[r],e[r+t])}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.charIndex=t>=0?Math.min(this.charCount,t):Math.max(0,this.charIndex+t)}}]),t}(),w=E,O={},x=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function P(t){if(k(t))return!0;var e=T(t);return 45===e||46===e||e>=48&&e<=57||183===e||e>=768&&e<=879||e>=8255&&e<=8256}function k(t){var e=T(t);return 58===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function R(t){var e=T(t);return 9===e||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}function T(t){return t.codePointAt(0)||-1}O.predefinedEntities=x,O.isNameChar=P,O.isNameStartChar=k,O.isNotXmlChar=function(t){return!R(t)},O.isReferenceChar=function(t){return"#"===t||P(t)},O.isWhitespace=function(t){var e=T(t);return 32===e||9===e||10===e||13===e},O.isXmlChar=R;var j=function(){function t(){l(this,t),this.parent=null}return S(t,[{key:"document",get:function(){return this.parent?this.parent.document:null}},{key:"isRootNode",get:function(){return!!this.parent&&this.parent===this.document}},{key:"preserveWhitespace",get:function(){return Boolean(this.parent&&this.parent.preserveWhitespace)}},{key:"type",get:function(){return""}},{key:"toJSON",value:function(){var t={type:this.type};return this.isRootNode&&(t.isRootNode=!0),this.preserveWhitespace&&(t.preserveWhitespace=!0),t}}]),t}();j.TYPE_CDATA="cdata",j.TYPE_COMMENT="comment",j.TYPE_DOCUMENT="document",j.TYPE_ELEMENT="element",j.TYPE_PROCESSING_INSTRUCTION="pi",j.TYPE_TEXT="text";var C=j;function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var N=C,A=function(t){p(r,N);var e=G(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).text=n,t}return S(r,[{key:"type",get:function(){return N.TYPE_TEXT}},{key:"toJSON",value:function(){return Object.assign(N.prototype.toJSON.call(this),{text:this.text})}}]),r}(),F=A;function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var L=C,M=F,B=function(t){p(r,M);var e=I(r);function r(){return l(this,r),e.apply(this,arguments)}return S(r,[{key:"type",get:function(){return L.TYPE_CDATA}}]),r}(),_=B;function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var D=C,W=function(t){p(r,D);var e=U(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).content=n,t}return S(r,[{key:"type",get:function(){return D.TYPE_COMMENT}},{key:"toJSON",value:function(){return Object.assign(D.prototype.toJSON.call(this),{content:this.content})}}]),r}(),X=W;function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var q=C,J=function(t){p(r,q);var e=Y(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return l(this,r),(n=e.call(this)).name=t,n.attributes=o,n.children=i,n}return S(r,[{key:"isEmpty",get:function(){return 0===this.children.length}},{key:"preserveWhitespace",get:function(){for(var t=this;t instanceof r;){if("xml:space"in t.attributes)return"preserve"===t.attributes["xml:space"];t=t.parent}return!1}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return q.TYPE_ELEMENT}},{key:"toJSON",value:function(){return Object.assign(q.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),V=J;function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var K=V,z=C,H=function(t){p(r,z);var e=$(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(this,r),(t=e.call(this)).children=n,t}return S(r,[{key:"document",get:function(){return this}},{key:"root",get:function(){return this.children.find((function(t){return t instanceof K}))||null}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return z.TYPE_DOCUMENT}},{key:"toJSON",value:function(){return Object.assign(z.prototype.toJSON.call(this),{children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),Q=H;function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var tt=C,et=function(t){p(r,tt);var e=Z(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(this,r),(n=e.call(this)).name=t,n.content=o,n}return S(r,[{key:"type",get:function(){return tt.TYPE_PROCESSING_INSTRUCTION}},{key:"toJSON",value:function(){return Object.assign(tt.prototype.toJSON.call(this),{name:this.name,content:this.content})}}]),r}(),rt=et;function nt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=w,at=O,ct=_,ut=X,st=Q,ft=V,lt=rt,ht=F,pt=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(l(this,t),this.document=new st,this.currentNode=this.document,this.options=r,this.scanner=new it(vt(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}return S(t,[{key:"addNode",value:function(t){t.parent=this.currentNode,this.currentNode.children.push(t)}},{key:"addText",value:function(t){var e=this.currentNode.children;if(e.length>0){var r=e[e.length-1];if(r instanceof ht)return void(r.text+=t)}this.addNode(new ht(t))}},{key:"consumeAttributeValue",value:function(){var t,e=this.scanner,r=e.peek();if('"'!==r&&"'"!==r)return!1;e.advance();var n=!1,o="",i='"'===r?new RegExp('[^"&<]+',"y"):new RegExp("[^'&<]+","y");t:for(;!e.isEnd;){switch((t=e.consumeMatch(i))&&(this.validateChars(t),o+=t.replace(/[\\t\\r\\n]/g," ")),e.peek()){case r:n=!0;break t;case"&":o+=this.consumeReference();continue;case"<":this.error("Unescaped \`<\` is not allowed in an attribute value");break;case"":this.error("Unclosed attribute")}}return n||this.error("Unclosed attribute"),e.advance(),o}},{key:"consumeCdataSection",value:function(){var t=this.scanner;if(!t.consumeStringFast("<![CDATA["))return!1;var e=t.consumeUntilString("]]>");return this.validateChars(e),t.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new ct(e)):this.addText(e),!0}},{key:"consumeCharData",value:function(){var t=this.scanner,e=t.consumeUntilMatch(/<|&|]]>/g);return!!e&&(this.validateChars(e),"]"===t.peek()&&"]]>"===t.peek(3)&&this.error("Element content may not contain the CDATA section close delimiter \`]]>\`"),this.addText(e),!0)}},{key:"consumeComment",value:function(){var t=this.scanner;if(!t.consumeStringFast("\\x3c!--"))return!1;var e=t.consumeUntilString("--");return this.validateChars(e),t.consumeStringFast("--\\x3e")||("--"===t.peek(2)?this.error("The string \`--\` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new ut(e.trim())),!0}},{key:"consumeContentReference",value:function(){var t=this.consumeReference();return!!t&&(this.addText(t),!0)}},{key:"consumeDoctypeDeclaration",value:function(){var t=this.scanner;return!(!t.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace())&&(t.consumeMatch(new RegExp("[^[>]+","y")),t.consumeMatch(new RegExp("\\\\[[\\\\s\\\\S]+?\\\\][\\\\x20\\\\t\\\\r\\\\n]*>","y"))||t.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}},{key:"consumeElement",value:function(){var t=this.scanner,e=t.charIndex;if("<"!==t.peek())return!1;t.advance();var r=this.consumeName();if(!r)return t.reset(e),!1;for(var n=Object.create(null);this.consumeWhitespace();){var o=this.consumeName();if(o){var i=this.consumeEqual()&&this.consumeAttributeValue();!1===i&&this.error("Attribute value expected"),o in n&&this.error("Duplicate attribute: ".concat(o)),"xml:space"===o&&"default"!==i&&"preserve"!==i&&this.error('Value of the \`xml:space\` attribute must be "default" or "preserve"'),n[o]=i}}if(this.options.sortAttributes){for(var a=Object.keys(n).sort(),c=Object.create(null),u=0;u<a.length;++u){var s=a[u];c[s]=n[s]}n=c}var f=Boolean(t.consumeStringFast("/>")),l=new ft(r,n);if(l.parent=this.currentNode,!f){for(t.consumeStringFast(">")||this.error("Unclosed start tag for element \`".concat(r,"\`")),this.currentNode=l,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();var h,p=t.charIndex;t.consumeStringFast("</")&&(h=this.consumeName())&&h===r||(t.reset(p),this.error("Missing end tag for element ".concat(r))),this.consumeWhitespace(),t.consumeStringFast(">")||this.error("Unclosed end tag for element ".concat(r)),this.currentNode=l.parent}return this.addNode(l),!0}},{key:"consumeEqual",value:function(){return this.consumeWhitespace(),!!this.scanner.consumeStringFast("=")&&(this.consumeWhitespace(),!0)}},{key:"consumeMisc",value:function(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}},{key:"consumeName",value:function(){return at.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(at.isNameChar):""}},{key:"consumeProcessingInstruction",value:function(){var t=this.scanner,e=t.charIndex;if(!t.consumeStringFast("<?"))return!1;var r=this.consumeName();if(r?"xml"===r.toLowerCase()&&(t.reset(e),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(t.consumeStringFast("?>"))return this.addNode(new lt(r)),!0;this.error("Whitespace is required after a processing instruction name")}var n=t.consumeUntilString("?>");return this.validateChars(n),t.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new lt(r,n)),!0}},{key:"consumeProlog",value:function(){var t=this.scanner,e=t.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return e<t.charIndex}},{key:"consumeReference",value:function(){var t=this.scanner;if("&"!==t.peek())return!1;t.advance();var e,r=t.consumeMatchFn(at.isReferenceChar);if(";"!==t.consume()&&this.error("Unterminated reference (a reference must end with \`;\`)"),"#"===r[0]){var o="x"===r[1]?parseInt(r.slice(2),16):parseInt(r.slice(1),10);isNaN(o)&&this.error("Invalid character reference"),e=String.fromCodePoint(o),at.isXmlChar(e)||this.error("Character reference resolves to an invalid character")}else if(void 0===(e=at.predefinedEntities[r])){var i=this.options,a=i.ignoreUndefinedEntities,c=i.resolveUndefinedEntity,u="&".concat(r,";");if(c){var s=c(u);if(null!=s){var f=n(s);if("string"!==f)throw new TypeError("\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ".concat(f));return s}}if(a)return u;t.reset(-u.length),this.error("Named entity isn't defined: ".concat(u))}return e}},{key:"consumeSystemLiteral",value:function(){var t=this.scanner,e=t.consumeStringFast('"')||t.consumeStringFast("'");if(!e)return!1;var r=t.consumeUntilString(e);return this.validateChars(r),t.consumeStringFast(e)||this.error("Missing end quote"),r}},{key:"consumeWhitespace",value:function(){return Boolean(this.scanner.consumeMatchFn(at.isWhitespace))}},{key:"consumeXmlDeclaration",value:function(){var t=this.scanner;if(!t.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");var e=Boolean(t.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(!1===e?this.error("XML version is missing or invalid"):/^1\\.[0-9]+$/.test(e)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(t.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();var r=Boolean(t.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();r&&("yes"!==r&&"no"!==r&&this.error('Only "yes" and "no" are permitted as values of \`standalone\`'),this.consumeWhitespace())}return t.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}},{key:"error",value:function(t){for(var e=this.scanner,r=e.charIndex,n=e.string,o=1,i="",a=1,c=0;c<r;++c){var u=n[c];"\\n"===u?(o=1,i="",a+=1):(o+=1,i+=u)}var s=n.indexOf("\\n",r),f=0;(i+=-1===s?n.slice(r):n.slice(r,s)).length>50&&(o<40?i=i.slice(0,50):(f=o-20,i=i.slice(f,o+30)));var l=new Error("".concat(t," (line ").concat(a,", column ").concat(o,")\\n")+"  ".concat(i,"\\n")+" ".repeat(o-f+1)+"^\\n");throw Object.assign(l,{column:o,excerpt:i,line:a,pos:r}),l}},{key:"validateChars",value:function(t){var e,r=0,n=nt(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;at.isNotXmlChar(o)&&(this.scanner.reset(-(f(t).length-r)),this.error("Invalid character")),r+=1}}catch(t){n.e(t)}finally{n.f()}}}]),t}();function vt(t){return"\\ufeff"===t[0]&&(t=t.slice(1)),t.replace(/\\r\\n?/g,"\\n")}var dt=pt,yt=_,mt=X,gt=Q,bt=V,St=C,Et=rt,wt=F;function Ot(t,e){return new dt(t,e).document}Ot.XmlCdata=yt,Ot.XmlComment=mt,Ot.XmlDocument=gt,Ot.XmlElement=bt,Ot.XmlNode=St,Ot.XmlProcessingInstruction=Et,Ot.XmlText=wt;var xt=Ot;function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var kt=function(t){p(r,g(Error));var e=Pt(r);function r(t){return l(this,r),e.call(this,t)}return r}();function Rt(t){return t.children[0]}function Tt(t){var e=t.indexOf(":");return e>-1?t.substr(e+1):t}function jt(t){return t.name||""}function Ct(t,e,r){var n=Tt(e);return t&&Array.isArray(t.children)?t.children.reduce((function t(e,o){return Tt(jt(o))===n&&e.push(o),r&&Array.isArray(o.children)?[].concat(f(e),f(o.children.reduce(t,[]))):e}),[]):[]}function Gt(t,e,r){return Ct(t,e,r)[0]||null}function Nt(t){return t&&Array.isArray(t.children)?f(t.children.filter((function(t){return"XmlElement"===t.constructor.name}))):[]}function At(t){var e=t&&Array.isArray(t.children)?t.children.find((function(t){return"text"===t.type})):null;return e?e.text:""}function Ft(t,e){return t&&t.attributes[e]||""}var It=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(this,t),this.message=e,this.httpStatus=r,this.isCrossOriginRelated=n};function Lt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bt=["utf-8","utf-16","iso-8859-1"];function _t(t,e){var r,n=e?function(t){var e=/charset=([^;]+)/.exec(t);return e?e[1]:null}(e):null,o=Lt(n?[n].concat(Bt):Bt);try{for(o.s();!(r=o.n()).done;){var i=r.value;try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch(t){}}}catch(t){o.e(t)}finally{o.f()}return console.warn("XML document encoding could not be determined, falling back to ".concat("utf-8",".")),new TextDecoder("utf-8").decode(t)}function Ut(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wt=new Map;function Xt(t){return function(t){if(Wt.has(t))return Wt.get(t);var e=fetch(t);return e.finally((function(){return Wt.delete(t)})),Wt.set(t,e),e}(t).catch((function(){return fetch(t,{method:"HEAD",mode:"no-cors"}).catch((function(t){throw new It("Fetching the document failed either due to network errors or unreachable host, error is: ".concat(t.message),0,!1)})).then((function(){throw new It("The document could not be fetched due to CORS limitations",0,!0)}))})).then(function(){var t=r(i.mark((function t(e){var r,n,o;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=5;break}return t.next=3,e.text();case 3:throw r=t.sent,new It("Received an error with code ".concat(e.status,": ").concat(r),e.status,!1);case 5:return t.next=7,e.arrayBuffer();case 7:return n=t.sent,o=e.headers.get("Content-Type"),t.abrupt("return",_t(n,o));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return function(t){var e=null;try{e=xt(t)}catch(t){throw new kt(t.message)}return e}(t)}))}function Yt(t,e){var r=t.match(/(https?%3A%2F%2F[^/]+)$/);if(r){var n=r[1],o=Yt(decodeURIComponent(n),e);return t.replace(n,encodeURIComponent(o))}var i,a=new URL(t),c=Object.keys(e),u=c.map((function(t){return t.toLowerCase()})),s=[],f=Ut(a.searchParams.keys());try{for(f.s();!(i=f.n()).done;){var l=i.value;u.indexOf(l.toLowerCase())>-1&&s.push(l)}}catch(t){f.e(t)}finally{f.f()}return s.map((function(t){return a.searchParams.delete(t)})),c.forEach((function(t){return a.searchParams.set(t,!0===e[t]?"":e[t])})),a.toString()}var qt=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function Jt(t){return qt.indexOf(Vt(t))>-1}function Vt(t){if(/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())){var e=/([0-9]+)$/.exec(t)[1];return"EPSG:".concat(e)}return t}function $t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?$t(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(t){return Rt(t).attributes.version}function Ht(t){var e=zt(t);return Ct(Gt(Rt(t),"Capability"),"Layer").map((function(t){return Qt(t,e)}))}function Qt(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a="1.3.0"===r?"CRS":"SRS",c=Ct(e,a).map(At),u=c.length>0?c:n,s=Ct(e,"Style").map(Zt),f=s.length>0?s:o;function l(t){return(Jt(Ft(t,a))&&"1.3.0"===r?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map((function(e){return Ft(t,e)}))}var h=Gt(e,"Attribution"),p=null!==h?te(h):i,v=Ct(e,"Layer").map((function(t){return Qt(t,r,u,f,p)}));return Kt({name:At(Gt(e,"Name")),title:At(Gt(e,"Title")),abstract:At(Gt(e,"Abstract")),availableCrs:u,styles:f,attribution:p,boundingBoxes:Ct(e,"BoundingBox").reduce((function(e,r){return Kt(Kt({},e),{},t({},Ft(r,a),l(r)))}),{})},v.length&&{children:v})}function Zt(t){var e=Ft(Gt(Gt(t,"LegendURL"),"OnlineResource"),"xlink:href");return Kt({name:At(Gt(t,"Name")),title:At(Gt(t,"Title"))},e&&{legendUrl:e})}function te(t){var e=Ft(Gt(Gt(t,"LogoURL"),"OnlineResource"),"xlink:href"),r=Ft(Gt(t,"OnlineResource"),"xlink:href"),n=At(Gt(t,"Title"));return Kt(Kt(Kt({},n&&{title:n}),r&&{url:r}),e&&{logoUrl:e})}function ee(t){return Rt(t).attributes.version}function re(t){var e;if(ee(t).startsWith("1.0")){var r=Gt(Gt(Gt(Rt(t),"Capability"),"Request"),"GetFeature");e=Nt(Gt(r,"ResultFormat")).map(jt)}else{var n=Ct(Gt(Rt(t),"OperationsMetadata"),"Operation").find((function(t){return"GetFeature"===Ft(t,"name")})),o=Ct(n,"Parameter").find((function(t){return"outputFormat"===Ft(t,"name")}));e=Ct(o,"Value",!0).map(At)}return e}function ne(t){var e=ee(t),r=re(t);return Ct(Gt(Rt(t),"FeatureTypeList"),"FeatureType").map((function(t){return function(t,e,r){var n=e.startsWith("2.")?"CRS":"SRS",o=e.startsWith("1.0")?"SRS":"Default".concat(n);function i(){var e=Gt(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map((function(t){return Ft(e,t)})).map(parseFloat)}function a(){var e=Gt(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map((function(t){return Gt(e,t)})).map((function(t){return At(t).split(" ")})).reduce((function(t,e){return[].concat(f(t),f(e))})).map(parseFloat)}var c=e.startsWith("1.0")?[]:Ct(t,"Other".concat(n)).map(At).map(Vt),u=e.startsWith("1.0")?[]:Ct(Gt(t,"OutputFormats"),"Format").map(At);return{name:At(Gt(t,"Name")),title:At(Gt(t,"Title")),abstract:At(Gt(t,"Abstract")),defaultCrs:Vt(At(Gt(t,o))),otherCrs:c,outputFormats:u.length>0?u:r,latLonBoundingBox:e.startsWith("1.0")?i():a()}}(t,e,r)}))}function oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?oe(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,r,n){var o,i=Rt(e);if(n.startsWith("2.0"))o=Ct(i,"member").map((function(t){return Nt(t)[0]}));else{var a=Gt(i,"featureMembers");o=a?Nt(a):Ct(i,"featureMember").map((function(t){return Nt(t)[0]}))}var c="1.0.0"===n?"fid":"gml:id";function u(e){return Nt(e).filter((function(t){return Tt(jt(t))in r.properties})).reduce((function(e,n){var o=Tt(jt(n));return ie(ie({},e),{},t({},o,function(t,e){switch(r.properties[t]){case"integer":return parseInt(e);case"float":return parseFloat(e);case"boolean":return"true"===e;default:return e}}(o,At(n))))}),{})}return o.map((function(t){return{id:Ft(t,c),properties:u(t)}}))}function ce(e,r,n,o,i,a,c,u,s,f){var l="2.0.0"===r?"COUNT":"MAXFEATURES",h=t({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:r},"2.0.0"===r?"TYPENAMES":"TYPENAME",n);if(void 0!==o&&(h.OUTPUTFORMAT=o),void 0!==a&&(h.PROPERTYNAME=a.join(",")),c?(h.RESULTTYPE="hits",h[l]="1"):void 0!==i&&(h[l]=i.toString(10)),u&&(h.SRSNAME=u),s){var p=s.join(",");h.BBOX=f?"".concat(p,",").concat(f):p}return Yt(e,h)}u("parseWmsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,r=Gt(Rt(e),"Service"),n=Ct(Gt(r,"KeywordList"),"Keyword").map(At).filter((function(t,e,r){return r.indexOf(t)===e})),{title:At(Gt(r,"Title")),name:At(Gt(r,"Name")),abstract:At(Gt(r,"Abstract")),fees:At(Gt(r,"Fees")),constraints:At(Gt(r,"AccessConstraints")),keywords:n}),layers:Ht(t),version:zt(t)};var e,r,n}))})),u("parseWfsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,n=ee(e),o=n.startsWith("1.0")?"Service":"ServiceIdentification",i=n.startsWith("1.0")?"Name":"ServiceType",a=Gt(Rt(e),o),r=n.startsWith("1.0")?At(Gt(a,"Keywords")).split(",").map((function(t){return t.trim()})):Ct(Gt(a,"Keywords"),"Keyword").map(At),{title:At(Gt(a,"Title")),name:At(Gt(a,i)),abstract:At(Gt(a,"Abstract")),fees:At(Gt(a,"Fees")),constraints:At(Gt(a,"AccessConstraints")),keywords:r,outputFormats:re(e)}),featureTypes:ne(t),version:ee(t)};var e,r,n,o,i,a}))})),u("queryWfsFeatureTypeDetails",self,(function(t){var e=t.url,r=t.serviceVersion,n=t.featureTypeFull;return Xt(ce(e,r,n.name,void 0,void 0,Object.keys(n.properties))).then((function(t){return{props:(e=ae(t,n,r),e.reduce((function(t,e){var r=function(r){var n=e.properties[r];r in t||(t[r]={uniqueValues:[]});var o=t[r].uniqueValues.find((function(t){return t.value===n}));o?o.count++:t[r].uniqueValues.push({value:n,count:1})};for(var n in e.properties)r(n);return t}),{}))};var e}))}));
`],{type:"application/javascript"})),{type:"module"})),Mh}function bk(t){return vk("parseWmsCapabilities",_k(),{url:t})}var Sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const Li="";class Ek{constructor(e){this.chars=[...e],this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;let{chars:n,charCount:r,charsToBytes:i}=this;if(r===e.length)for(let s=0;s<r;++s)i[s]=s;else{for(let s=0,a=0;a<r;++a)i[a]=s,s+=n[a].length;this.multiByteMode=!0}}get isEnd(){return this.charIndex>=this.charCount}_charLength(e){let{length:n}=e;return n<2||!this.multiByteMode?n:e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}advance(e=1){this.charIndex=Math.min(this.charCount,this.charIndex+e)}consume(e=1){let n=this.peek(e);return this.advance(e),n}consumeMatch(e){if(!e.sticky)throw new Error('`regex` must have a sticky flag ("y")');e.lastIndex=this.charsToBytes[this.charIndex];let n=e.exec(this.string);if(n===null)return Li;let r=n[0];return this.advance(this._charLength(r)),r}consumeMatchFn(e){let n=this.charIndex;for(;!this.isEnd&&e(this.peek());)this.advance();return this.charIndex>n?this.string.slice(this.charsToBytes[n],this.charsToBytes[this.charIndex]):Li}consumeString(e){if(this.consumeStringFast(e))return e;if(!this.multiByteMode)return Li;let{length:n}=e,r=this._charLength(e);return r!==n&&e===this.peek(r)?(this.advance(r),e):Li}consumeStringFast(e){if(this.peek()===e[0]){let{length:n}=e;if(n===1)return this.advance(),e;if(this.peek(n)===e)return this.advance(n),e}return Li}consumeUntilMatch(e){if(!e.global)throw new Error('`regex` must have a global flag ("g")');let n=this.charsToBytes[this.charIndex];e.lastIndex=n;let r=e.exec(this.string);if(r===null||r.index===n)return Li;let i=this.string.slice(n,r.index);return this.advance(this._charLength(i)),i}consumeUntilString(e){let{charIndex:n,charsToBytes:r,string:i}=this,s=r[n],a=i.indexOf(e,s);if(a<=0)return Li;let o=i.slice(s,a);return this.advance(this._charLength(o)),o}peek(e=1){if(this.charIndex>=this.charCount)return Li;if(e===1)return this.chars[this.charIndex];let{charsToBytes:n,charIndex:r}=this;return this.string.slice(n[r],n[r+e])}reset(e=0){this.charIndex=e>=0?Math.min(this.charCount,e):Math.max(0,this.charIndex+e)}}var Sk=Ek,Pi={};const wk=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));Pi.predefinedEntities=wk;function P0(t){if(k0(t))return!0;let e=Du(t);return e===45||e===46||e>=48&&e<=57||e===183||e>=768&&e<=879||e>=8255&&e<=8256}Pi.isNameChar=P0;function k0(t){let e=Du(t);return e===58||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}Pi.isNameStartChar=k0;function xk(t){return!A0(t)}Pi.isNotXmlChar=xk;function Ok(t){return t==="#"||P0(t)}Pi.isReferenceChar=Ok;function Mk(t){let e=Du(t);return e===32||e===9||e===10||e===13}Pi.isWhitespace=Mk;function A0(t){let e=Du(t);return e===9||e===10||e===13||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}Pi.isXmlChar=A0;function Du(t){return t.codePointAt(0)||-1}class ps{constructor(){this.parent=null}get document(){return this.parent?this.parent.document:null}get isRootNode(){return this.parent?this.parent===this.document:!1}get preserveWhitespace(){return Boolean(this.parent&&this.parent.preserveWhitespace)}get type(){return""}toJSON(){let e={type:this.type};return this.isRootNode&&(e.isRootNode=!0),this.preserveWhitespace&&(e.preserveWhitespace=!0),e}}ps.TYPE_CDATA="cdata",ps.TYPE_COMMENT="comment",ps.TYPE_DOCUMENT="document",ps.TYPE_ELEMENT="element",ps.TYPE_PROCESSING_INSTRUCTION="pi",ps.TYPE_TEXT="text";var gs=ps;const Th=gs;class Tk extends Th{constructor(e=""){super(),this.text=e}get type(){return Th.TYPE_TEXT}toJSON(){return Object.assign(Th.prototype.toJSON.call(this),{text:this.text})}}var Nh=Tk;const Nk=gs,Ck=Nh;class Lk extends Ck{get type(){return Nk.TYPE_CDATA}}var D0=Lk;const Ch=gs;class Pk extends Ch{constructor(e=""){super(),this.content=e}get type(){return Ch.TYPE_COMMENT}toJSON(){return Object.assign(Ch.prototype.toJSON.call(this),{content:this.content})}}var I0=Pk;const Lh=gs;class Ph extends Lh{constructor(e,n=Object.create(null),r=[]){super(),this.name=e,this.attributes=n,this.children=r}get isEmpty(){return this.children.length===0}get preserveWhitespace(){let e=this;for(;e instanceof Ph;){if("xml:space"in e.attributes)return e.attributes["xml:space"]==="preserve";e=e.parent}return!1}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return Lh.TYPE_ELEMENT}toJSON(){return Object.assign(Lh.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(e=>e.toJSON())})}}var kh=Ph;const kk=kh,Ah=gs;class Ak extends Ah{constructor(e=[]){super(),this.children=e}get document(){return this}get root(){return this.children.find(e=>e instanceof kk)||null}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return Ah.TYPE_DOCUMENT}toJSON(){return Object.assign(Ah.prototype.toJSON.call(this),{children:this.children.map(e=>e.toJSON())})}}var R0=Ak;const Dh=gs;class Dk extends Dh{constructor(e,n=""){super(),this.name=e,this.content=n}get type(){return Dh.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(Dh.prototype.toJSON.call(this),{name:this.name,content:this.content})}}var $0=Dk;const Ik=Sk,ys=Pi,Rk=D0,$k=I0,Fk=R0,Vk=kh,F0=$0,V0=Nh,Ih="";class jk{constructor(e,n={}){for(this.document=new Fk,this.currentNode=this.document,this.options=n,this.scanner=new Ik(Uk(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}addNode(e){e.parent=this.currentNode,this.currentNode.children.push(e)}addText(e){let{children:n}=this.currentNode;if(n.length>0){let r=n[n.length-1];if(r instanceof V0){r.text+=e;return}}this.addNode(new V0(e))}consumeAttributeValue(){let{scanner:e}=this,n=e.peek();if(n!=='"'&&n!=="'")return!1;e.advance();let r,i=!1,s=Ih,a=n==='"'?/[^"&<]+/y:/[^'&<]+/y;e:for(;!e.isEnd;)switch(r=e.consumeMatch(a),r&&(this.validateChars(r),s+=r.replace(/[\t\r\n]/g," ")),e.peek()){case n:i=!0;break e;case"&":s+=this.consumeReference();continue;case"<":this.error("Unescaped `<` is not allowed in an attribute value");break;case Ih:this.error("Unclosed attribute");break}return i||this.error("Unclosed attribute"),e.advance(),s}consumeCdataSection(){let{scanner:e}=this;if(!e.consumeStringFast("<![CDATA["))return!1;let n=e.consumeUntilString("]]>");return this.validateChars(n),e.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new Rk(n)):this.addText(n),!0}consumeCharData(){let{scanner:e}=this,n=e.consumeUntilMatch(/<|&|]]>/g);return n?(this.validateChars(n),e.peek()==="]"&&e.peek(3)==="]]>"&&this.error("Element content may not contain the CDATA section close delimiter `]]>`"),this.addText(n),!0):!1}consumeComment(){let{scanner:e}=this;if(!e.consumeStringFast("<!--"))return!1;let n=e.consumeUntilString("--");return this.validateChars(n),e.consumeStringFast("-->")||(e.peek(2)==="--"?this.error("The string `--` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new $k(n.trim())),!0}consumeContentReference(){let e=this.consumeReference();return e?(this.addText(e),!0):!1}consumeDoctypeDeclaration(){let{scanner:e}=this;return!e.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace()?!1:(e.consumeMatch(/[^[>]+/y),e.consumeMatch(/\[[\s\S]+?\][\x20\t\r\n]*>/y)||e.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}consumeElement(){let{scanner:e}=this,n=e.charIndex;if(e.peek()!=="<")return!1;e.advance();let r=this.consumeName();if(!r)return e.reset(n),!1;let i=Object.create(null);for(;this.consumeWhitespace();){let o=this.consumeName();if(!o)continue;let l=this.consumeEqual()&&this.consumeAttributeValue();l===!1&&this.error("Attribute value expected"),o in i&&this.error(`Duplicate attribute: ${o}`),o==="xml:space"&&l!=="default"&&l!=="preserve"&&this.error('Value of the `xml:space` attribute must be "default" or "preserve"'),i[o]=l}if(this.options.sortAttributes){let o=Object.keys(i).sort(),l=Object.create(null);for(let u=0;u<o.length;++u){let f=o[u];l[f]=i[f]}i=l}let s=Boolean(e.consumeStringFast("/>")),a=new Vk(r,i);if(a.parent=this.currentNode,!s){for(e.consumeStringFast(">")||this.error(`Unclosed start tag for element \`${r}\``),this.currentNode=a,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();let o=e.charIndex,l;(!e.consumeStringFast("</")||!(l=this.consumeName())||l!==r)&&(e.reset(o),this.error(`Missing end tag for element ${r}`)),this.consumeWhitespace(),e.consumeStringFast(">")||this.error(`Unclosed end tag for element ${r}`),this.currentNode=a.parent}return this.addNode(a),!0}consumeEqual(){return this.consumeWhitespace(),this.scanner.consumeStringFast("=")?(this.consumeWhitespace(),!0):!1}consumeMisc(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}consumeName(){return ys.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(ys.isNameChar):Ih}consumeProcessingInstruction(){let{scanner:e}=this,n=e.charIndex;if(!e.consumeStringFast("<?"))return!1;let r=this.consumeName();if(r?r.toLowerCase()==="xml"&&(e.reset(n),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(e.consumeStringFast("?>"))return this.addNode(new F0(r)),!0;this.error("Whitespace is required after a processing instruction name")}let i=e.consumeUntilString("?>");return this.validateChars(i),e.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new F0(r,i)),!0}consumeProlog(){let{scanner:e}=this,n=e.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return n<e.charIndex}consumeReference(){let{scanner:e}=this;if(e.peek()!=="&")return!1;e.advance();let n=e.consumeMatchFn(ys.isReferenceChar);e.consume()!==";"&&this.error("Unterminated reference (a reference must end with `;`)");let r;if(n[0]==="#"){let i=n[1]==="x"?parseInt(n.slice(2),16):parseInt(n.slice(1),10);isNaN(i)&&this.error("Invalid character reference"),r=String.fromCodePoint(i),ys.isXmlChar(r)||this.error("Character reference resolves to an invalid character")}else if(r=ys.predefinedEntities[n],r===void 0){let{ignoreUndefinedEntities:i,resolveUndefinedEntity:s}=this.options,a=`&${n};`;if(s){let o=s(a);if(o!=null){let l=typeof o;if(l!=="string")throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${l}`);return o}}if(i)return a;e.reset(-a.length),this.error(`Named entity isn't defined: ${a}`)}return r}consumeSystemLiteral(){let{scanner:e}=this,n=e.consumeStringFast('"')||e.consumeStringFast("'");if(!n)return!1;let r=e.consumeUntilString(n);return this.validateChars(r),e.consumeStringFast(n)||this.error("Missing end quote"),r}consumeWhitespace(){return Boolean(this.scanner.consumeMatchFn(ys.isWhitespace))}consumeXmlDeclaration(){let{scanner:e}=this;if(!e.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");let n=Boolean(e.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(n===!1?this.error("XML version is missing or invalid"):/^1\.[0-9]+$/.test(n)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(e.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();let i=Boolean(e.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();i&&(i!=="yes"&&i!=="no"&&this.error('Only "yes" and "no" are permitted as values of `standalone`'),this.consumeWhitespace())}return e.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}error(e){let{charIndex:n,string:r}=this.scanner,i=1,s="",a=1;for(let f=0;f<n;++f){let c=r[f];c===`
`?(i=1,s="",a+=1):(i+=1,s+=c)}let o=r.indexOf(`
`,n);s+=o===-1?r.slice(n):r.slice(n,o);let l=0;s.length>50&&(i<40?s=s.slice(0,50):(l=i-20,s=s.slice(l,i+30)));let u=new Error(`${e} (line ${a}, column ${i})
  ${s}
`+" ".repeat(i-l+1)+`^
`);throw Object.assign(u,{column:i,excerpt:s,line:a,pos:n}),u}validateChars(e){let n=0;for(let r of e)ys.isNotXmlChar(r)&&(this.scanner.reset(-([...e].length-n)),this.error("Invalid character")),n+=1}}var Gk=jk;function Uk(t){return t[0]==="\uFEFF"&&(t=t.slice(1)),t.replace(/\r\n?/g,`
`)}const Bk=Gk,Wk=D0,qk=I0,Hk=R0,zk=kh,Yk=gs,Xk=$0,Kk=Nh;function ki(t,e){return new Bk(t,e).document}ki.XmlCdata=Wk,ki.XmlComment=qk,ki.XmlDocument=Hk,ki.XmlElement=zk,ki.XmlNode=Yk,ki.XmlProcessingInstruction=Xk,ki.XmlText=Kk;var Zk=ki;class Jk extends Error{constructor(e){super(e)}}function Qk(t){let e=null;try{e=Zk(t)}catch(n){throw new Jk(n.message)}return e}function Wr(t){return t.children[0]}function Iu(t){const e=t.indexOf(":");return e>-1?t.substr(e+1):t}function Ru(t){return t.name||""}function zt(t,e,n){const r=Iu(e);function i(s,a){return Iu(Ru(a))===r&&s.push(a),n&&Array.isArray(a.children)?[...s,...a.children.reduce(i,[])]:s}return t&&Array.isArray(t.children)?t.children.reduce(i,[]):[]}function Me(t,e,n){return zt(t,e,n)[0]||null}function So(t){return t&&Array.isArray(t.children)?[...t.children.filter(e=>e.constructor.name==="XmlElement")]:[]}function Xe(t){const e=t&&Array.isArray(t.children)?t.children.find(n=>n.type==="text"):null;return e?e.text:""}function wr(t,e){return t&&t.attributes[e]||""}const j0=["utf-8","utf-16","iso-8859-1"],G0="utf-8";function eA(t){const e=/charset=([^;]+)/.exec(t);return e?e[1]:null}function tA(t,e){const n=e?eA(e):null,r=n?[n,...j0]:j0;for(const i of r)try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch{}return console.warn(`XML document encoding could not be determined, falling back to ${G0}.`),new TextDecoder(G0).decode(t)}const $u=new Map;function nA(t){if($u.has(t))return $u.get(t);const e=fetch(t);return e.finally(()=>$u.delete(t)),$u.set(t,e),e}function Rh(t){return nA(t).catch(()=>fetch(t,{method:"HEAD",mode:"no-cors"}).catch(e=>{throw new xh(`Fetching the document failed either due to network errors or unreachable host, error is: ${e.message}`,0,!1)}).then(()=>{throw new xh("The document could not be fetched due to CORS limitations",0,!0)})).then(async e=>{if(!e.ok){const i=await e.text();throw new xh(`Received an error with code ${e.status}: ${i}`,e.status,!1)}const n=await e.arrayBuffer(),r=e.headers.get("Content-Type");return tA(n,r)}).then(e=>Qk(e))}function $h(t,e){const n=t.match(/(https?%3A%2F%2F[^/]+)$/);if(n){const o=n[1],l=$h(decodeURIComponent(o),e);return t.replace(o,encodeURIComponent(l))}const r=new URL(t),i=Object.keys(e),s=i.map(o=>o.toLowerCase()),a=[];for(const o of r.searchParams.keys())s.indexOf(o.toLowerCase())>-1&&a.push(o);return a.map(o=>r.searchParams.delete(o)),i.forEach(o=>r.searchParams.set(o,e[o]===!0?"":e[o])),r.toString()}let rA=1e3*60*60;function iA(){return rA}const Ai="caches"in self?caches.open("ogc-client"):null;async function sA(t,...e){if(!Ai)return;const n="https://cache/"+e.join("/");await(await Ai).put(n,new Response(JSON.stringify(t),{headers:{"x-expiry":(Date.now()+iA()).toString(10)}}))}async function aA(...t){if(!Ai)return!1;const e="https://cache/"+t.join("/");return(await Ai).match(e).then(r=>!!r&&parseInt(r.headers.get("x-expiry"))>Date.now())}async function oA(...t){if(!Ai)return null;const e="https://cache/"+t.join("/"),r=await(await Ai).match(e);return r?r.clone().json():null}const Fu=new Map;async function lA(t,...e){if(await uA(),await aA(...e))return oA(...e);const n=e.join("#");if(Fu.has(n))return Fu.get(n);const r=t();r instanceof Promise&&(r.then(()=>Fu.delete(n)),Fu.set(n,r));const i=await r;return await sA(i,...e),i}async function uA(){if(!Ai)return;const t=await Ai,e=await t.keys();for(let n of e){const r=await t.match(n);parseInt(r.headers.get("x-expiry"))<=Date.now()&&await t.delete(n)}}function cA(t,e,n,r,i,s,a,o,l,u){const f=e==="2.0.0"?"TYPENAMES":"TYPENAME",c=e==="2.0.0"?"COUNT":"MAXFEATURES",h={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:e,[f]:n};if(r!==void 0&&(h.OUTPUTFORMAT=r),s!==void 0&&(h.PROPERTYNAME=s.join(",")),a?(h.RESULTTYPE="hits",h[c]="1"):i!==void 0&&(h[c]=i.toString(10)),o&&(h.SRSNAME=o),l){const d=l.join(",");h.BBOX=u?`${d},${u}`:d}return $h(t,h)}class fA{constructor(e){const n=$h(e,{SERVICE:"WMS",REQUEST:"GetCapabilities"});this._capabilitiesPromise=lA(()=>bk(n),"WMS","CAPABILITIES",n).then(({info:r,layers:i,version:s})=>{this._info=r,this._layers=i,this._version=s}),this._info=null,this._layers=null,this._version=null}isReady(){return this._capabilitiesPromise.then(()=>this)}getServiceInfo(){return this._info}getLayers(){function e(n){return{title:n.title,name:n.name,abstract:n.abstract,..."children"in n&&{children:n.children.map(e)}}}return this._layers.map(e)}getLayerByName(e){let n=null;function r(i){if(n===null){if(i.name===e){n=i;return}"children"in i&&i.children.map(r)}}return this._layers.map(r),n}getVersion(){return this._version}}const hA=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function dA(t){return hA.indexOf(Fh(t))>-1}function Fh(t){return/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())?`EPSG:${/([0-9]+)$/.exec(t)[1]}`:t}function U0(t){return Wr(t).attributes.version}function mA(t){const e=U0(t),n=Me(Wr(t),"Capability");return zt(n,"Layer").map(r=>B0(r,e))}function pA(t){const e=Me(Wr(t),"Service"),n=zt(Me(e,"KeywordList"),"Keyword").map(Xe).filter((r,i,s)=>s.indexOf(r)===i);return{title:Xe(Me(e,"Title")),name:Xe(Me(e,"Name")),abstract:Xe(Me(e,"Abstract")),fees:Xe(Me(e,"Fees")),constraints:Xe(Me(e,"AccessConstraints")),keywords:n}}function B0(t,e,n=[],r=[],i=null){const s=e==="1.3.0"?"CRS":"SRS",a=zt(t,s).map(Xe),o=a.length>0?a:n,l=zt(t,"Style").map(gA),u=l.length>0?l:r;function f(m){const p=wr(m,s);return(dA(p)&&e==="1.3.0"?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(y=>wr(m,y))}const c=Me(t,"Attribution"),h=c!==null?yA(c):i,d=zt(t,"Layer").map(m=>B0(m,e,o,u,h));return{name:Xe(Me(t,"Name")),title:Xe(Me(t,"Title")),abstract:Xe(Me(t,"Abstract")),availableCrs:o,styles:u,attribution:h,boundingBoxes:zt(t,"BoundingBox").reduce((m,p)=>({...m,[wr(p,s)]:f(p)}),{}),...d.length&&{children:d}}}function gA(t){const e=wr(Me(Me(t,"LegendURL"),"OnlineResource"),"xlink:href");return{name:Xe(Me(t,"Name")),title:Xe(Me(t,"Title")),...e&&{legendUrl:e}}}function yA(t){const e=wr(Me(Me(t,"LogoURL"),"OnlineResource"),"xlink:href"),n=wr(Me(t,"OnlineResource"),"xlink:href"),r=Xe(Me(t,"Title"));return{...r&&{title:r},...n&&{url:n},...e&&{logoUrl:e}}}function Vu(t){return Wr(t).attributes.version}function W0(t){const e=Vu(t);let n;if(e.startsWith("1.0")){const r=Me(Me(Me(Wr(t),"Capability"),"Request"),"GetFeature");n=So(Me(r,"ResultFormat")).map(Ru)}else{const r=Me(Wr(t),"OperationsMetadata"),i=zt(r,"Operation").find(a=>wr(a,"name")==="GetFeature"),s=zt(i,"Parameter").find(a=>wr(a,"name")==="outputFormat");n=zt(s,"Value",!0).map(Xe)}return n}function vA(t){const e=Vu(t),n=e.startsWith("1.0")?"Service":"ServiceIdentification",r=e.startsWith("1.0")?"Name":"ServiceType",i=Me(Wr(t),n);let s;return e.startsWith("1.0")?s=Xe(Me(i,"Keywords")).split(",").map(a=>a.trim()):s=zt(Me(i,"Keywords"),"Keyword").map(Xe),{title:Xe(Me(i,"Title")),name:Xe(Me(i,r)),abstract:Xe(Me(i,"Abstract")),fees:Xe(Me(i,"Fees")),constraints:Xe(Me(i,"AccessConstraints")),keywords:s,outputFormats:W0(t)}}function _A(t){const e=Vu(t),n=W0(t),r=Me(Wr(t),"FeatureTypeList");return zt(r,"FeatureType").map(i=>bA(i,e,n))}function bA(t,e,n){const r=e.startsWith("2.")?"CRS":"SRS",i=e.startsWith("1.0")?"SRS":`Default${r}`;function s(){const u=Me(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(f=>wr(u,f)).map(parseFloat)}function a(){const u=Me(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(f=>Me(u,f)).map(f=>Xe(f).split(" ")).reduce((f,c)=>[...f,...c]).map(parseFloat)}const o=e.startsWith("1.0")?[]:zt(t,`Other${r}`).map(Xe).map(Fh),l=e.startsWith("1.0")?[]:zt(Me(t,"OutputFormats"),"Format").map(Xe);return{name:Xe(Me(t,"Name")),title:Xe(Me(t,"Title")),abstract:Xe(Me(t,"Abstract")),defaultCrs:Fh(Xe(Me(t,i))),otherCrs:o,outputFormats:l.length>0?l:n,latLonBoundingBox:e.startsWith("1.0")?s():a()}}function EA(t,e,n){const r=Wr(t);let i;if(n.startsWith("2.0"))i=zt(r,"member").map(u=>So(u)[0]);else{const u=Me(r,"featureMembers");i=u?So(u):zt(r,"featureMember").map(f=>So(f)[0])}const s=n==="1.0.0"?"fid":"gml:id";function a(u){return u in e.properties}function o(u,f){switch(e.properties[u]){case"integer":return parseInt(f);case"float":return parseFloat(f);case"boolean":return f==="true";default:return f}}function l(u){return So(u).filter(f=>a(Iu(Ru(f)))).reduce((f,c)=>{const h=Iu(Ru(c));return{...f,[h]:o(h,Xe(c))}},{})}return i.map(u=>({id:wr(u,s),properties:l(u)}))}function SA(t){return t.reduce((e,n)=>{for(const r in n.properties){const i=n.properties[r];r in e||(e[r]={uniqueValues:[]});const s=e[r].uniqueValues.find(a=>a.value===i);s?s.count++:e[r].uniqueValues.push({value:i,count:1})}return e},{})}Oh("parseWmsCapabilities",self,({url:t})=>Rh(t).then(e=>({info:pA(e),layers:mA(e),version:U0(e)}))),Oh("parseWfsCapabilities",self,({url:t})=>Rh(t).then(e=>({info:vA(e),featureTypes:_A(e),version:Vu(e)}))),Oh("queryWfsFeatureTypeDetails",self,({url:t,serviceVersion:e,featureTypeFull:n})=>{const r=cA(t,e,n.name,void 0,void 0,Object.keys(n.properties));return Rh(r).then(i=>({props:SA(EA(i,n,e))}))});const wA=()=>[{url:"http://wmts1.geoportail.lu/opendata/service",label:"Open Data Webservices WMS"},{url:"http://ows.terrestris.de/osm-gray/service",label:"OpenStreetMap by Terrestris (Grey)"},{url:"http://ows.terrestris.de/osm/service",label:"OpenStreetMap by Terrestris (Color)"}];class xA{constructor(e){ut(this,"capabilitiesPromise");ut(this,"serviceInfo");ut(this,"layers");const n=new Gb.default;let r="&";e.indexOf("?")===-1&&(r="?"),e.indexOf("Capabilities")===-1&&(e=e+r+"SERVICE=WMTS&REQUEST=GetCapabilities"),this.capabilitiesPromise=fetch(e).then(i=>i.text()).then(i=>{var a;const s=n.read(i);this.serviceInfo=this.mapServiceInfo(s.ServiceIdentification),this.layers=this.mapToRemoteLayers((a=s.Contents)==null?void 0:a.Layer)})}mapToRemoteLayers(e){return[{type:Rn.WMTS,children:e.map(n=>({type:Rn.WMTS,abstract:n.Abstract,format:n.Format,name:n.Identifier,title:n.Title,tileMatrixSetLink:n.TileMatrixSetLink,wgs84BoundingBox:n.WGS84BoundingBox}))}]}mapServiceInfo(e){return{type:Rn.WMTS,title:e.Title,abstract:e.Abstract,fees:e.Fees,constraints:e.AccessConstraints,serviceTypeVersion:e.ServiceTypeVersion}}isReady(){return this.capabilitiesPromise.then(()=>this)}getLayerByName(e){return this.layers[0].children.filter(n=>n.name===e)[0]}getLayers(){return this.layers}getServiceInfo(){return this.serviceInfo}}class OA{async getRemoteEndpoint(e){let n;return await this.getWmsEndpoint(e).isReady().catch(async()=>{n=await this.getWmtsEndpoint(e).isReady()})||n}getWmsEndpoint(e){return new fA(ms.getProxyfiedUrl(e))}getWmtsEndpoint(e){return new xA(ms.getProxyfiedUrl(e))}async fetchRemoteWmsEndpoint(){return new Promise(e=>e(wA()))}isRemoteLayer(e){return typeof e=="string"&&(e.indexOf(Rn.WMS)===0||e.indexOf(Rn.WMTS)===0)}}const wo=new OA,MA={class:"relative text-center"},TA=["placeholder","value"],NA={key:0,class:"text-center"},CA={class:"lux-label"},LA={key:1,class:"text-center"},PA={class:"lux-label"},kA={key:2,class:"text-center"},AA=L("div",{class:"fa fa-refresh fa-spin"},null,-1),DA={key:3,class:"overflow-auto max-h-[calc(400px-36px)]"},q0=ge(he({__name:"remote-layers",setup(t){const{t:e}=Ze(),n=ht(),r=In(),i=nt([]),s=nt(),{remoteLayersOpen:a}=Ue(vt()),{setRemoteLayersOpen:o}=vt();let l=!1,u,f,c;gn(h);function h(){s.value=s.value?ia.updateLayers(s.value,n.layers):void 0}wo.fetchRemoteWmsEndpoint().then(E=>{i.value=E.map(({url:O,label:N})=>({label:N,value:O}))});async function d(E){l=!0,c=await wo.getRemoteEndpoint(E).catch(()=>alert(e("Impossible de contacter ce WMS",{ns:"client"}))),f=E,l=!1}async function m(){const E=c,O=E==null?void 0:E.getLayers();if(O&&O[0]){const N=C0(O[0],f);s.value=ia.updateLayers(N,n.layers)}}async function p(E){f=u=E,await d(f),m()}function g(E){u=E.target.value}async function y(){await d(u),m()}function v(E){s.value=ia.toggleNode(E.id,s.value,"expanded")}function b(E){const{id:O,name:N}=E,M=c;if(E.checked===!0)n.removeLayers(O);else{const P=M==null?void 0:M.getLayerByName(N);if(P){const I=r.initLayer(L0({id:O,url:ms.getProxyfiedUrl(f),remoteLayer:P}));n.addLayers(I)}}}return(E,O)=>x(a)?(k(),Ge(N0,{key:0,title:x(e)("Add external data",{ns:"client"}),onClose:O[0]||(O[0]=N=>x(o)(!1))},{content:oi(()=>{var N,M;return[L("div",MA,[se($f,{class:"lux-remote-services-dropdown",options:i.value,placeholder:x(e)("Predefined wms",{ns:"client"}),onChange:p},null,8,["options","placeholder"]),L("input",{class:"lux-input w-[300px]",type:"url",placeholder:x(e)("Choose or write a WMS url",{ns:"client"}),value:x(f)||"",onChange:g},null,40,TA),L("button",{type:"button",class:"lux-btn",onClick:y},oe(x(e)("Get the layers",{ns:"client"})),1)]),!x(l)&&x(c)?(k(),G("div",NA,[L("span",CA,oe(x(e)("Description du service :",{ns:"client"})),1),_l(" "+oe((N=x(c).getServiceInfo())==null?void 0:N.abstract),1)])):F("v-if",!0),!x(l)&&x(c)?(k(),G("div",LA,[L("span",PA,oe(x(e)("Access constraints :",{ns:"client"})),1),_l(" "+oe((M=x(c).getServiceInfo())==null?void 0:M.constraints),1)])):F("v-if",!0),x(l)?(k(),G("div",kA,[AA,L("span",null,oe(x(e)("Chargement des informations",{ns:"client"})),1)])):F("v-if",!0),x(l)?F("v-if",!0):(k(),G("div",DA,[s.value?(k(),Ge(wh,{key:0,class:"block p-[10px] mb-[11px]",node:s.value,onToggleParent:v,onToggleLayer:b},null,8,["node"])):F("v-if",!0)]))]}),_:1},8,["title"])):F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/remote-layers/remote-layers.vue"]]);function IA(t,e="fr-FR"){const n=new Date(t);return new Intl.DateTimeFormat(e).format(n)}const RA={class:"font-bold"},$A={class:"col-span-2"},xo=ge(he({__name:"layer-metadata-item",props:{label:{type:String,required:!0},value:{type:String,required:!0}},setup(t){const e=t;return(n,r)=>(k(),G(je,null,[L("span",RA,oe(e.label),1),L("span",$A,oe(e.value),1)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-metadata/layer-metadata-item.vue"]]);function FA(t){return{fr:"fre",en:"eng",de:"ger",lb:"ltz"}[t.toLowerCase()]}function VA(t){return new DOMParser().parseFromString(t,"text/html").body}function jA(t){const e=[];function n(r){const i=r.split("|");i[3]==="WWW:LINK-1.0-http--link"&&e.indexOf(i[2])===-1&&e.push(i[2])}return Array.isArray(t)?t.forEach(n,t):n(t),e}function GA(t){const n=(Array.isArray(t)?t:[t]).filter(r=>r.split("|")[1]==="metadata");return{organisaton:n[0].split("|")[2],name:n[0].split("|")[5],unknown:n[0].split("|")[6],address:n[0].split("|")[7],email:n[0].split("|")[4]}}class H0{}class UA extends H0{async getMetadata(e,n,r){console.assert(e===Rn.WMS);const i=wo.getWmsEndpoint(n);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(r);return{title:a.title,description:a.abstract,keywords:s.keywords,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const BA=new UA;class WA extends H0{async getMetadata(e,n,r){console.assert(e===Rn.WMTS);const i=wo.getWmtsEndpoint(n);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(r);return{title:a.title,description:a.abstract,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const qA=new WA;class HA{async getMetadata(e,n,r){if(e===Rn.WMS)return BA.getMetadata(e,n,r);if(e===Rn.WMTS)return qA.getMetadata(e,n,r);throw new Error(`Unsupported service type: ${e}`)}}const zA=new HA;class YA{constructor(){ut(this,"geonetworkBaseUrl","https://geocatalogue.geoportail.lu/geonetwork/srv");ut(this,"legendBaseUrl","https://map.geoportail.lu/legends/get_html");ut(this,"localMetadataBaseUrl","https://map.geoportail.lu/getMetadata")}async getLayerMetadata(e,n){const r=Ni(),i=r.findBgLayerById(+e)||r.findById(+e)||r.find3dLayerById(+e);if(i){const s=i.metadata,a=s==null?void 0:s.metadata_id,o=a&&await this.getLocalMetadata(this.localMetadataBaseUrl,a,n),l=i.name,u=(s==null?void 0:s.legend_name)||"",f=i==null?void 0:i.id,c=u&&await this.getLegendHtml(this.legendBaseUrl,u,f,n);return{...o,title:l,hasLegend:!!c,...c&&{legendHtml:c}}}else{const[s,a,o]=String(e).split("%2D").join("-").split("||");return zA.getMetadata(s,a,o)}}getLocalMetadata(e,n,r){return fetch(`${e}?lang=${r}&uid=${n}`).then(async i=>{const s=(await i.json()).metadata;return{name:s.title,serviceDescription:s.serviceDescription,description:s.abstract,legalConstraints:s.legalConstraints,link:jA(s.link),revisionDate:s.revisionDate,keyword:s.keyword,responsibleParty:s.responsibleParty?GA(s.responsibleParty):void 0,metadataLink:`${this.geonetworkBaseUrl}/${FA(r)}/catalog.search#/metadata/${n}`,isError:!1}}).catch(()=>({isError:!0}))}getLegendHtml(e,n,r,i){const s={lang:i,...n&&{name:n},...r&&{id:r.toString()}};if(s.name&&s.lang){window.devicePixelRatio>1&&(s.dpi=(window.devicePixelRatio*96).toString());const a=`${e}?${new URLSearchParams(s).toString()}`;return fetch(a).then(async o=>{if(o.status>=400&&o.status<600)throw new Error("Server responded with error code");const l=await o.text();return l?VA(l):void 0}).catch(()=>{})}}}const z0=new YA,XA={class:"grid gap-2 grid-cols-3 pt-3 text-[13px] font-arial break-words"},KA={key:2,class:"col-span-3 grid gap-2 grid-cols-3"},ZA={class:"font-bold"},JA={class:"col-span-2"},QA=["title"],eD=["title"],tD={key:4,class:"col-span-3"},nD={class:"font-bold"},rD={class:"col-span-2"},iD=["href"],sD={key:7,class:"col-span-3 grid gap-2 grid-cols-3"},aD={class:"font-bold"},oD={class:"col-span-2"},lD={key:0},uD={key:1},cD={key:2},fD={key:3},hD={key:4},dD=["href"],mD={key:8,class:"grid gap-2 grid-cols-3 col-span-3"},pD={class:"font-bold"},gD={class:"col-span-2"},yD=["href"],vD={key:9,class:"col-span-3"},_D={key:10},bD={class:"text-xl"},ED={key:11,class:"col-span-3"},Vh=220,Y0=ge(he({__name:"layer-metadata",setup(t){const e=Sh(),{metadataId:n}=Ue(e),{t:r,i18next:i}=Ze(),s=Se(),a=Se(!0);et(n,async c=>{var h,d;s.value=c?await z0.getLayerMetadata(c,i.language):void 0,a.value=(((d=(h=s.value)==null?void 0:h.description)==null?void 0:d.length)||0)<Vh}),yn(()=>{i.on("languageChanged",async()=>{n.value&&(s.value=await z0.getLayerMetadata(n.value,i.language))})});const o=de(()=>{var c,h,d;return a.value?(c=s.value)==null?void 0:c.description:(d=(h=s.value)==null?void 0:h.description)==null?void 0:d.slice(0,Vh)});function l(){a.value=!0}function u(){a.value=!1}function f(){e.clearMetadataId()}return(c,h)=>{const d=Rc("dompurify-html");return s.value?(k(),Ge(N0,{key:0,footer:!1,"max-height":!0,title:x(r)(`${s.value.title}`,{ns:"client"}),onClose:f},{content:oi(()=>{var m,p,g,y,v,b,E,O,N,M,P,I,C,R,D;return[L("div",XA,[s.value.name?(k(),Ge(xo,{key:0,label:x(r)("Name"),value:s.value.name},null,8,["label","value"])):F("v-if",!0),s.value.serviceDescription?(k(),Ge(xo,{key:1,label:x(r)("Description du Service"),value:s.value.serviceDescription},null,8,["label","value"])):F("v-if",!0),s.value.description?(k(),G("div",KA,[L("span",ZA,oe(x(r)("Description")),1),L("span",JA,[fl(L("span",null,null,512),[[d,o.value]]),a.value?F("v-if",!0):(k(),G("button",{key:0,title:x(r)("Display full description",{ns:"client"}),onClick:l,class:"text-secondary hover:underline"}," ... ",8,QA)),a.value&&(((m=o.value)==null?void 0:m.length)||0)>Vh?(k(),G("button",{key:1,title:x(r)("Hide full description",{ns:"client"}),onClick:u,class:"text-secondary hover:underline"}," - ",8,eD)):F("v-if",!0)])])):F("v-if",!0),s.value.legalConstraints?(k(),Ge(xo,{key:3,label:x(r)("Contrainte d'utilisation"),value:s.value.legalConstraints},null,8,["label","value"])):F("v-if",!0),((p=s.value.link)==null?void 0:p.length)!==0?(k(),G("div",tD,[(k(!0),G(je,null,On(s.value.link,Q=>(k(),G("div",{class:"grid gap-2 grid-cols-3",key:Q},[L("span",nD,oe(x(r)("Url vers la resource")),1),L("span",rD,[L("a",{class:"text-secondary hover:underline",target:"_blank",href:Q},oe(Q),9,iD)])]))),128))])):F("v-if",!0),s.value.revisionDate?(k(),Ge(xo,{key:5,label:x(r)("Revision date"),value:x(IA)(s.value.revisionDate,x(i).language)},null,8,["label","value"])):F("v-if",!0),s.value.keyword?(k(),Ge(xo,{key:6,label:x(r)("Keywords"),value:(g=s.value.keyword)==null?void 0:g.join(",")},null,8,["label","value"])):F("v-if",!0),s.value.responsibleParty?(k(),G("div",sD,[L("div",aD,oe(x(r)("Contact")),1),L("div",oD,[(y=s.value.responsibleParty)!=null&&y.organisaton?(k(),G("p",lD,oe((v=s.value.responsibleParty)==null?void 0:v.organisaton),1)):F("v-if",!0),(b=s.value.responsibleParty)!=null&&b.name?(k(),G("p",uD,oe((E=s.value.responsibleParty)==null?void 0:E.name),1)):F("v-if",!0),(O=s.value.responsibleParty)!=null&&O.unknown?(k(),G("p",cD,oe((N=s.value.responsibleParty)==null?void 0:N.unknown),1)):F("v-if",!0),(M=s.value.responsibleParty)!=null&&M.address?(k(),G("p",fD,oe((P=s.value.responsibleParty)==null?void 0:P.address),1)):F("v-if",!0),(I=s.value.responsibleParty)!=null&&I.email?(k(),G("p",hD,[L("a",{class:"text-secondary hover:underline",href:"mailto:"+((C=s.value.responsibleParty)==null?void 0:C.email)},oe((R=s.value.responsibleParty)==null?void 0:R.email),9,dD)])):F("v-if",!0)])])):F("v-if",!0),s.value.metadataLink?(k(),G("div",mD,[L("span",pD,oe(x(r)("Link to the metadata")),1),L("span",gD,[L("a",{class:"text-secondary hover:underline",target:"_blank",href:s.value.metadataLink},oe(x(r)("link")),9,yD)])])):F("v-if",!0),s.value.isError?(k(),G("div",vD,oe(x(r)("The metadata is right now not available")),1)):F("v-if",!0),s.value.legendHtml?(k(),G("div",_D,[L("h4",bD,oe(x(r)("Legend")),1),fl(L("span",null,null,512),[[d,(D=s.value.legendHtml)==null?void 0:D.innerHTML]])])):F("v-if",!0),s.value.hasLegend?F("v-if",!0):(k(),G("div",ED,oe(x(r)("The legend is not available for this layer")),1))])]}),_:1},8,["title"])):F("v-if",!0)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-metadata/layer-metadata.vue"]]),SD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAAAoCAMAAABq645qAAACPVBMVEUAAABaW13////tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy5DjxTaAAAAvXRSTlMAAAABAgMEBQYHCAkKCwwNDg8QERESFBUWFxkaGx0eHyAhIiInKSosMTIzNTY5Ojs8PUFCQ0RERkpMTk9QU1RVVldaXmFjZWZmamtwcXJzdXd3eHl7fX+AgYKDhIaHiIiKi4yOj5CTlJWWl5iZmZqcnZ+goaKjpKanqKqqq6ywsbK0tbW4u7u8vb6/wMHExcbHysvMzM7P0NDS1NXa29zd3t/g4eTl5ujp6uvs7e7u8PLz9PX29/j5+vv8/f5cALqzAAAEcklEQVRo3u3Z+ZPUVBAH8O63LsLKijoIgotHFI+HgiKNeGC8MCqgUUFAJYjgAQ6HKMgGEQQiqChIPFh1iciiwPIEhvv49t/mD5lBORa2tHbLTO2rmqnUTCrJZ3r65ZuEjDHGGLrMWGcKMah7mh/7NP8PzXBqbqgfzdtPb7i/fjQPvq8r5jUVXNNIY4moYeL6+XNfn9Ov6LUZ2/Z7Pxo3YaZWTp/uLPw/reXYbqLRPz/38g+qJ/oTEV396IzmgmquXHZoIRHd/sTs31T1DqIBcyqHZjQWtTbf6nQiokHLVVWn7ju4euXGjsX9LtTAGgPAGGMzOPZSOGFYtmAXsO8skFkgZovQgi2QcZKyIGAAjJQtIgAB/5vRTc2IvbqSqOWNJQdUVdfe+/zitmsu2jeQ/GWMC43HacRhxhAWcJRyEgmYBSVYgROwgJkzeGVEDGEGotqnPaih1Xp63KSvVFVVtz0wt23AvMVda5AZY2FM7OWO/N2DwBMgESBiQZyABUgYSYQkYSBjhAh7QXN3Zfey7YdyzXh6aQpdu2fIpWsD30CykKOU4XPgmBPEnNcmC1jgIT9uCx9ZkOW1kQi9oBm6aMvO3KIVomUPES19/KIaoNo34uA8cUgtB4DzmQXCFoCFhbXgMtgC8DNGKMj7xnIKtj2toeGf55X5c9+ZRpo1lWjyq5c/33Avj+5obpz25miiwd+p6q4/2jfvIrqtrYlemF5MzZObTuhHCw6cUd2y/91ftj5DRJOn0JKniqm56jPtUNXDx44u6NywvaPzPqL+G5v3jCimhhqaX/vyi6VTxtzyYkVV9dSsRvrmnVXUI5oo7GkNEV2RH/igaRVV1Y8fOdE+tEc0tlzqBU1tND+7U1W18t51F8/QAFJrkUccL4VjABFb+MwoMyznszWzBZxfDT2SIbZgm0/TzBbIpLqcr8GwScJxfF4UiliAgGEZ1gKx8VK4bmuafmpdrqr6cFdXBJBSORPkp9A0ZI8hAi4jYQY8CEN8MDML2K/FBBdwKU80kOp3eSBirq7BkJJLstK5UShw+eYhDBGUYNPQeN3WTND2rd+r6oquNUZQ00A49gCEJQg8RhJD8j0DQX6IEBZYMLMAAANZrpHa8lkNBwjOi0Ion90KRIDIQEzsdVfzlurhT1X11F2XqE3qwfNQMiYLGYIYNgAQMcTltXHV3z9w1dAD/8LapH/XJt9eycWudG4U8lGrjYeSIAtMFlaD1SU1NxAR0cA9qrpqr6ruaOmybxLPREBojLEOzoMNkAXsO4YNYRnIpNo3WS30+EByXt+kttY3AEdAyGmZ4/TcKORCDgDhEAg5D0wO7vK1mbmwhajxA9XWkXTTh8dVj6wZX9gr6ZFL9eTm1nbVhUREdOs2Vb25sJqmRTuOq+r+rwfmgGEHVYcU+H7a8KNrdP6kYTXBJ6qPFVjT2DxwzD/msbWqE+vnrvqvevSeutGMUm0dXC+ahk3asb5unt+8cvLIqOvr52nU7Dv7nq31afo0/0mzrhiavwAx1n2SsZnMdgAAAABJRU5ErkJggg==";class wD{bootstrap(){this.restore();let e;e=gn(()=>{this.persist(),e&&e()})}persist(){const e=vt(),{lang:n}=Ue(e);et(n,(r,i)=>{i!==r&&(Ce.setValue(Ci,r),document.documentElement.setAttribute("lang",r))},{immediate:!0})}restore(){const e=Ce.getValue(Ci);if(e){const{setLang:n}=vt(),{i18next:r}=Ze();r.changeLanguage(e),n(e)}}}const xD=new wD,OD=ge(he({__name:"language-selector",setup(t){const{i18next:e,t:n}=Ze(),{setLang:r}=vt(),{lang:i}=Ue(vt()),s=de(()=>["en","de","fr","lb"].map(l=>({label:n(l),value:l,ariaLabel:n("Changer de langue : {{lang}}",{lang:l})}))),a=n("Changer de langue");xD.bootstrap();function o(l){e.changeLanguage(l),r(l)}return(l,u)=>(k(),G("div",null,[se($f,{class:"lux-navbar-dropdown lux-dropdown-inline text-white h-full",options:s.value,placeholder:x(a),modelValue:x(i),"onUpdate:modelValue":u[0]||(u[0]=f=>Ye(i)?i.value=f:null),onChange:o},null,8,["options","placeholder","modelValue"])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/nav-bars/language-selector.vue"]]);class MD{setCurrentThemeColors(e){const n=document.querySelector(":root");["primary","secondary","tertiary"].forEach(i=>{const s=getComputedStyle(n).getPropertyValue(`--${e}-${i}`);n.style.setProperty(`--color-${i}`,s)})}}const X0=new MD,TD={class:"w-full h-14 flex bg-white shadow-header z-10 shrink-0"},ND=L("div",{class:"flex-2 p-[5px]"},[L("img",{src:SD})],-1),CD=L("div",{class:"grow text-center"},"search",-1),LD={class:"h-full flex"},PD={class:"hidden lg:inline-block"},kD={class:"border-l-[1px] border-stone-300 h-full"},K0=ge(he({__name:"header-bar",setup(t){const{t:e}=Ze(),n=vt(),{layersOpen:r,myLayersTabOpen:i,themeGridOpen:s}=Ue(n),{setLayersOpen:a,setMyLayersTabOpen:o,setThemeGridOpen:l}=n,u=Ht(),{theme:f}=Ue(u);et(f,h=>{h&&X0.setCurrentThemeColors(h.name)},{immediate:!0});function c(){r.value?r.value&&(s.value?a(!1):(i.value&&o(!1),l(!0))):(a(!0),i.value&&o(!1),l(!0))}return(h,d)=>{var m,p;return k(),G("header",TD,[ND,CD,L("div",null,[L("ul",LD,[L("li",null,[L("button",{class:Ae(["flex items-center before:font-icons before:text-3xl before:w-16 text-primary uppercase h-full mr-3",`before:content-${(m=x(f))==null?void 0:m.name}`]),onClick:c},[L("span",PD,oe(x(e)(`${(p=x(f))==null?void 0:p.name}`)),1)],2)]),L("li",kD,[se(OD,{class:"flex-none h-full"})])])])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/header/header-bar.vue"]]),AD={class:"block text-[13px] sm:text-base uppercase"},qr=ge(he({__name:"button-icon",props:{label:{type:String,required:!0},icon:{type:String,required:!0},active:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(k(),G("button",{class:Ae(["h-[42px] w-full sm:h-full sm:w-16 hover:text-white hover:bg-primary",e.active?"bg-primary text-white":""])},[L("span",{class:Ae(["block text-[1.7rem] sm:text-[2rem] -mt-1.5 -mb-3 after:font-icons",e.active?"lux-close-cross":`after:content-${e.icon}`])},null,2),L("span",AD,oe(e.label),1)],2))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/footer/button-icon.vue"]]),DD=["href"],Di=ge(he({__name:"button-link",props:{label:{type:String,required:!0},link:{type:String,required:!0}},setup(t){const e=t;return(n,r)=>(k(),G("a",{class:"h-full flex flex-col justify-center px-[7px] uppercase hover:text-white hover:bg-primary",href:`${e.link}`,target:"_blank"},oe(n.$props.label),9,DD))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/footer/button-link.vue"]]),ID={class:"flex flex-col w-12 justify-between bg-white z-5 shrink-0 sm:flex-row sm:w-full sm:h-14 sm:shadow-footer"},RD={class:"flex flex-col w-full sm:w-80 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},$D={class:"flex flex-col w-12 sm:w-64 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},FD={class:"w-[466px] hidden sm:flex flex-row justify-end text-gray-500 whitespace-nowrap"},Z0=ge(he({__name:"footer-bar",setup(t){const{t:e,i18next:n}=Ze(),{setLayersOpen:r}=vt(),{layersOpen:i}=Ue(vt());return(s,a)=>(k(),G("footer",ID,[F(" left buttons "),L("ul",RD,[L("li",null,[se(qr,{label:x(e)("Layers",{ns:"client"}),icon:"layers",active:x(i),onClick:a[0]||(a[0]=()=>x(r)(!x(i)))},null,8,["label","active"])]),F(`TODOs in each button when implemented
        - remove class="text-gray-300"
        - add click handler that calls setLayersOpen(true) and opens tool (also via app store)
      `),L("li",null,[se(qr,{class:"text-gray-300",label:x(e)("My Maps",{ns:"client"}),icon:"mymaps"},null,8,["label"])]),L("li",null,[se(qr,{class:"text-gray-300",label:x(e)("Infos",{ns:"client"}),icon:"infos"},null,8,["label"])]),L("li",null,[se(qr,{class:"text-gray-300",label:x(e)("Legends",{ns:"client"}),icon:"legends"},null,8,["label"])]),L("li",null,[se(qr,{class:"text-gray-300",label:x(e)("Routing",{ns:"client"}),icon:"routing"},null,8,["label"])])]),F(" center buttons "),L("div",$D,[se(qr,{class:"text-gray-300",label:x(e)("Dessin",{ns:"client"}),icon:"draw"},null,8,["label"]),se(qr,{class:"text-gray-300 hidden sm:block",label:x(e)("Mesurer",{ns:"client"}),icon:"measure"},null,8,["label"]),se(qr,{class:"text-gray-300 hidden sm:block",label:x(e)("Imprimer",{ns:"client"}),icon:"print"},null,8,["label"]),se(qr,{class:"text-gray-300",label:x(e)("Partager",{ns:"client"}),icon:"share"},null,8,["label"])]),F(" right buttons "),L("div",FD,[se(Di,{class:"hidden lg:flex text-gray-500",label:x(e)("What's new",{ns:"client"}),link:`https://geoportail.lu/${x(n).language}/questions/whats-new/`},null,8,["label","link"]),F("TODO get geonetworkBaseUrl from config"),se(Di,{class:"hidden lg:flex text-gray-500",label:x(e)("Geocatalogue",{ns:"client"}),link:""},null,8,["label"]),F("TODO handle feedback links (for different portals?)"),se(Di,{class:"hidden lg:flex text-gray-500",label:x(e)("Feedback",{ns:"client"}),link:""},null,8,["label"]),se(Di,{class:"hidden lg:flex text-gray-500",label:x(e)("A Propos",{ns:"client"}),link:`https://www.geoportail.lu/${x(n).language}/propos/`},null,8,["label","link"]),se(Di,{class:"hidden lg:flex text-gray-500",label:x(e)("Aide",{ns:"client"}),link:`https://www.geoportail.lu/${x(n).language}/documentation/`},null,8,["label","link"]),se(Di,{class:"hidden lg:flex text-gray-500",label:x(e)("Contact",{ns:"client"}),link:`https://www.geoportail.lu/${x(n).language}/propos/contactez-nous/`},null,8,["label","link"]),se(Di,{class:"text-gray-500",label:x(e)("Legalites",{ns:"client"}),link:`https://www.geoportail.lu/${x(n).language}/propos/mentions-legales/`},null,8,["label","link"]),se(Di,{class:"text-gray-500",label:x(e)("ACT",{ns:"client"}),link:"http://www.act.public.lu/"},null,8,["label","link"])])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/footer/footer-bar.vue"]]),VD={class:"flex flex-row flex-wrap pl-2.5"},jD=["onClick"],GD={class:"text-2xl absolute top-5"},UD=ge(he({__name:"theme-grid",props:{themes:{type:Array,required:!0}},setup(t){const{t:e}=Ze(),n=t;return(r,i)=>(k(),G("div",VD,[(k(!0),G(je,null,On(n.themes,s=>(k(),G("button",{class:Ae(["relative shrink-0 h-[150px] w-1/2 px-2.5 text-start text-gray-100/40 uppercase hover:bg-[#ccc]",`bg-${s.name}-primary hover:text-${s.name}-primary`]),key:s.id,onClick:a=>r.$emit("setTheme",s.name)},[L("div",GD,oe(x(e)(`${s.name}`)),1),L("div",{class:Ae(["text-6xl absolute bottom-1 after:font-icons",`after:content-${s.name}`])},null,2)],10,jD))),128))]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/theme-selector/theme-grid.vue"]]),BD=["aria-expanded"],WD={class:"py-0.5"},qD={class:"px-1 py-0.5 shrink-0 flex flex-row text-[12px] bg-secondary text-white"},HD={class:"py-[3px]"},zD={class:"flex flex-row flex-wrap ml-1 w-12"},YD=ge(he({__name:"theme-selector-button",props:{themes:{type:Array,required:!0},currentTheme:{type:Object,required:!1},isOpen:{type:Boolean,required:!1}},setup(t){const{t:e}=Ze(),n=t,r=de(()=>{var i;return((i=n.themes)==null?void 0:i.slice(0,8))||[]});return(i,s)=>{var a;return k(),G("button",{class:"w-full flex flex-row justify-between bg-tertiary text-white px-2 py-1.5 uppercase cursor-pointer hover:bg-white hover:text-primary","aria-expanded":n.isOpen},[L("span",WD,oe(x(e)("Theme"))+": "+oe(x(e)(`${(a=n.currentTheme)==null?void 0:a.name}`)),1),L("span",qD,[L("span",HD,oe(x(e)("Changer")),1),L("span",zD,[(k(!0),G(je,null,On(r.value,o=>(k(),G("div",{class:Ae(`h-2.5 w-2.5 m-px bg-${o.name}-primary`),key:o.id},null,2))),128))])])],8,BD)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/theme-selector/theme-selector-button.vue"]]),XD={key:0,class:"absolute inset-x-0 top-14 bottom-0 mt-1 bg-primary overflow-y-auto overflow-x-hidden"},KD=ge(he({__name:"theme-selector",setup(t){const e=vt(),{setThemeGridOpen:n}=e,{themeGridOpen:r}=Ue(e),i=Ht(),s=Ni(),{theme:a,themes:o}=Ue(i),l=de(()=>{var c;return((c=o.value)==null?void 0:c.filter(h=>{var d;return((d=h.metadata)==null?void 0:d.display_in_switcher)===!0}))||[]});function u(){n(!r.value)}function f(c){s.setTheme(c),u()}return(c,h)=>(k(),G(je,null,[se(YD,{onClick:u,themes:l.value,currentTheme:x(a),isOpen:x(r)},null,8,["themes","currentTheme","isOpen"]),x(r)?(k(),G("div",XD,[se(UD,{onSetTheme:f,themes:l.value},null,8,["themes"])])):F("v-if",!0)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/theme-selector/theme-selector.vue"]]);function jh(t,e=0){const{name:n,id:r,children:i,metadata:s}=t;return{name:n,id:r,depth:e,children:i==null?void 0:i.map(a=>jh(a,e+1)),checked:!1,expanded:(s==null?void 0:s.is_expanded)||!1}}const ZD={key:0,class:"mb-7"},JD=ge(he({__name:"catalog-tree",setup(t){const e=ht(),n=Ht(),r=In(),i=nt(),s=nt(),a=de(()=>!e.is3dActive||e.is3dActive&&!e.is3dMesh),{layerTrees_3d:o}=Ue(n);gn(l);function l(){var c;if(n.theme&&e.layers){const h=i.value&&i.value.id===((c=n.theme)==null?void 0:c.id)?i.value:jh(n.theme);i.value=ia.updateLayers(h,e.layers)}}gn(()=>{if(o.value){const c=s.value?s.value:jh(o.value);s.value=ia.updateLayers(c,e.layers3d)}});function u(c,h){const d=h?s:i;d.value=ia.toggleNode(c.id,d.value,"expanded")}function f(c,h){r.toggleLayer(+c.id,!c.checked,h)}return(c,h)=>(k(),G("div",null,[F(" 3D layers catalog, only displayed when 3D is active "),s.value&&x(e).is3dActive?(k(),G("div",ZD,[(k(),Ge(wh,{node:s.value,key:s.value.id,onToggleParent:h[0]||(h[0]=d=>u(d,!0)),onToggleLayer:h[1]||(h[1]=d=>f(d,!0))},null,8,["node"]))])):F("v-if",!0),F(" Main catalog, displays by default and 3D terrain active "),i.value&&a.value?(k(),Ge(wh,{node:i.value,key:i.value.id,onToggleParent:h[2]||(h[2]=d=>u(d,!1)),onToggleLayer:h[3]||(h[3]=d=>f(d,!1))},null,8,["node"])):F("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/catalog/catalog-tree.vue"]]),QD=ge(he({__name:"catalog-tab",setup(t){const{themeGridOpen:e}=Ue(vt());return(n,r)=>(k(),G(je,null,[se(KD),x(e)===!1?(k(),Ge(JD,{key:0,class:"pt-5 absolute inset-x-2.5 bg-primary overflow-y-auto overflow-x-hidden"})):F("v-if",!0)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/catalog/catalog-tab.vue"]]);/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function J0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J0(Object(n),!0).forEach(function(r){eI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ju(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ju=function(e){return typeof e}:ju=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function eI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hr(){return Hr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hr.apply(this,arguments)}function tI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nI(t,e){if(t==null)return{};var n=tI(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}var rI="1.15.2";function zr(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Yr=zr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Oo=zr(/Edge/i),Q0=zr(/firefox/i),Mo=zr(/safari/i)&&!zr(/chrome/i)&&!zr(/android/i),e_=zr(/iP(ad|od|hone)/i),t_=zr(/chrome/i)&&zr(/android/i),n_={capture:!1,passive:!1};function We(t,e,n){t.addEventListener(e,n,!Yr&&n_)}function $e(t,e,n){t.removeEventListener(e,n,!Yr&&n_)}function Gu(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function iI(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Qn(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Gu(t,e):Gu(t,e))||r&&t===n)return t;if(t===n)break}while(t=iI(t))}return null}var r_=/\s+/g;function _n(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(r_," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(r_," ")}}function ve(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function sa(t,e){var n="";if(typeof t=="string")n=t;else do{var r=ve(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function i_(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Or(){var t=document.scrollingElement;return t||document.documentElement}function xt(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,a,o,l,u,f,c;if(t!==window&&t.parentNode&&t!==Or()?(s=t.getBoundingClientRect(),a=s.top,o=s.left,l=s.bottom,u=s.right,f=s.height,c=s.width):(a=0,o=0,l=window.innerHeight,u=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Yr))do if(i&&i.getBoundingClientRect&&(ve(i,"transform")!=="none"||n&&ve(i,"position")!=="static")){var h=i.getBoundingClientRect();a-=h.top+parseInt(ve(i,"border-top-width")),o-=h.left+parseInt(ve(i,"border-left-width")),l=a+s.height,u=o+s.width;break}while(i=i.parentNode);if(r&&t!==window){var d=sa(i||t),m=d&&d.a,p=d&&d.d;d&&(a/=p,o/=m,c/=m,f/=p,l=a+f,u=o+c)}return{top:a,left:o,bottom:l,right:u,width:c,height:f}}}function s_(t,e,n){for(var r=Ii(t,!0),i=xt(t)[e];r;){var s=xt(r)[n],a=void 0;if(n==="top"||n==="left"?a=i>=s:a=i<=s,!a)return r;if(r===Or())break;r=Ii(r,!1)}return!1}function aa(t,e,n,r){for(var i=0,s=0,a=t.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==ye.ghost&&(r||a[s]!==ye.dragged)&&Qn(a[s],n.draggable,t,!1)){if(i===e)return a[s];i++}s++}return null}function Gh(t,e){for(var n=t.lastElementChild;n&&(n===ye.ghost||ve(n,"display")==="none"||e&&!Gu(n,e));)n=n.previousElementSibling;return n||null}function $n(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ye.clone&&(!e||Gu(t,e))&&n++;return n}function a_(t){var e=0,n=0,r=Or();if(t)do{var i=sa(t),s=i.a,a=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function sI(t,e){for(var n in t)if(!!t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Ii(t,e){if(!t||!t.getBoundingClientRect)return Or();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=ve(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Or();if(r||e)return n;r=!0}}while(n=n.parentNode);return Or()}function aI(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Uh(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var To;function o_(t,e){return function(){if(!To){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),To=setTimeout(function(){To=void 0},e)}}}function oI(){clearTimeout(To),To=void 0}function l_(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function u_(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function c_(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var s,a,o,l;if(!(!Qn(i,e.draggable,t,!1)||i.animated||i===n)){var u=xt(i);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,u.left),r.top=Math.min((a=r.top)!==null&&a!==void 0?a:1/0,u.top),r.right=Math.max((o=r.right)!==null&&o!==void 0?o:-1/0,u.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var bn="Sortable"+new Date().getTime();function lI(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(ve(i,"display")==="none"||i===ye.ghost)){t.push({target:i,rect:xt(i)});var s=xr({},t[t.length-1].rect);if(i.thisAnimationDuration){var a=sa(i,!0);a&&(s.top-=a.f,s.left-=a.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(sI(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,a=0;t.forEach(function(o){var l=0,u=o.target,f=u.fromRect,c=xt(u),h=u.prevFromRect,d=u.prevToRect,m=o.rect,p=sa(u,!0);p&&(c.top-=p.f,c.left-=p.e),u.toRect=c,u.thisAnimationDuration&&Uh(h,c)&&!Uh(f,c)&&(m.top-c.top)/(m.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(l=cI(m,h,d,i.options)),Uh(c,f)||(u.prevFromRect=f,u.prevToRect=c,l||(l=i.options.animation),i.animate(u,m,c,l)),l&&(s=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,a){if(a){ve(r,"transition",""),ve(r,"transform","");var o=sa(this.el),l=o&&o.a,u=o&&o.d,f=(i.left-s.left)/(l||1),c=(i.top-s.top)/(u||1);r.animatingX=!!f,r.animatingY=!!c,ve(r,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=uI(r),ve(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),ve(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){ve(r,"transition",""),ve(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function uI(t){return t.offsetWidth}function cI(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var oa=[],Bh={initializeByDefault:!0},No={mount:function(e){for(var n in Bh)Bh.hasOwnProperty(n)&&!(n in e)&&(e[n]=Bh[n]);oa.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),oa.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";oa.forEach(function(a){!n[a.pluginName]||(n[a.pluginName][s]&&n[a.pluginName][s](xr({sortable:n},r)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](xr({sortable:n},r)))})},initializePlugins:function(e,n,r,i){oa.forEach(function(o){var l=o.pluginName;if(!(!e.options[l]&&!o.initializeByDefault)){var u=new o(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Hr(r,u.defaults)}});for(var s in e.options)if(!!e.options.hasOwnProperty(s)){var a=this.modifyOption(e,s,e.options[s]);typeof a<"u"&&(e.options[s]=a)}},getEventProperties:function(e,n){var r={};return oa.forEach(function(i){typeof i.eventProperties=="function"&&Hr(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return oa.forEach(function(s){!e[s.pluginName]||s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function fI(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,a=t.toEl,o=t.fromEl,l=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,c=t.newDraggableIndex,h=t.originalEvent,d=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[bn],!!e){var p,g=e.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Yr&&!Oo?p=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent(r,!0,!0)),p.to=a||n,p.from=o||n,p.item=i||n,p.clone=s,p.oldIndex=l,p.newIndex=u,p.oldDraggableIndex=f,p.newDraggableIndex=c,p.originalEvent=h,p.pullMode=d?d.lastPutMode:void 0;var v=xr(xr({},m),No.getEventProperties(r,e));for(var b in v)p[b]=v[b];n&&n.dispatchEvent(p),g[y]&&g[y].call(e,p)}}var hI=["evt"],cn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=nI(r,hI);No.pluginEvent.bind(ye)(e,n,xr({dragEl:J,parentEl:dt,ghostEl:xe,rootEl:st,nextEl:vs,lastDownEl:Uu,cloneEl:ot,cloneHidden:Ri,dragStarted:Lo,putSortable:It,activeSortable:ye.active,originalEvent:i,oldIndex:la,oldDraggableIndex:Co,newIndex:En,newDraggableIndex:$i,hideGhostForTarget:y_,unhideGhostForTarget:v_,cloneNowHidden:function(){Ri=!0},cloneNowShown:function(){Ri=!1},dispatchSortableEvent:function(o){nn({sortable:n,name:o,originalEvent:i})}},s))};function nn(t){fI(xr({putSortable:It,cloneEl:ot,targetEl:J,rootEl:st,oldIndex:la,oldDraggableIndex:Co,newIndex:En,newDraggableIndex:$i},t))}var J,dt,xe,st,vs,Uu,ot,Ri,la,En,Co,$i,Bu,It,ua=!1,Wu=!1,qu=[],_s,er,Wh,qh,f_,h_,Lo,ca,Po,ko=!1,Hu=!1,zu,Yt,Hh=[],zh=!1,Yu=[],Xu=typeof document<"u",Ku=e_,d_=Oo||Yr?"cssFloat":"float",dI=Xu&&!t_&&!e_&&"draggable"in document.createElement("div"),m_=function(){if(!!Xu){if(Yr)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),p_=function(e,n){var r=ve(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=aa(e,0,n),a=aa(e,1,n),o=s&&ve(s),l=a&&ve(a),u=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+xt(s).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+xt(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&o.float&&o.float!=="none"){var c=o.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===c)?"vertical":"horizontal"}return s&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||u>=i&&r[d_]==="none"||a&&r[d_]==="none"&&u+f>i)?"vertical":"horizontal"},mI=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,a=r?e.width:e.height,o=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===o||s===l||i+a/2===o+u/2},pI=function(e,n){var r;return qu.some(function(i){var s=i[bn].options.emptyInsertThreshold;if(!(!s||Gh(i))){var a=xt(i),o=e>=a.left-s&&e<=a.right+s,l=n>=a.top-s&&n<=a.bottom+s;if(o&&l)return r=i}}),r},g_=function(e){function n(s,a){return function(o,l,u,f){var c=o.options.group.name&&l.options.group.name&&o.options.group.name===l.options.group.name;if(s==null&&(a||c))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return n(s(o,l,u,f),a)(o,l,u,f);var h=(a?o:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||ju(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},y_=function(){!m_&&xe&&ve(xe,"display","none")},v_=function(){!m_&&xe&&ve(xe,"display","")};Xu&&!t_&&document.addEventListener("click",function(t){if(Wu)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Wu=!1,!1},!0);var bs=function(e){if(J){e=e.touches?e.touches[0]:e;var n=pI(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[bn]._onDragOver(r)}}},gI=function(e){J&&J.parentNode[bn]._isOutsideThisEl(e.target)};function ye(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Hr({},e),t[bn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return p_(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,o){a.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ye.supportPointer!==!1&&"PointerEvent"in window&&!Mo,emptyInsertThreshold:5};No.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);g_(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:dI,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?We(t,"pointerdown",this._onTapStart):(We(t,"mousedown",this._onTapStart),We(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(We(t,"dragover",this),We(t,"dragenter",this)),qu.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Hr(this,lI())}ye.prototype={constructor:ye,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ca=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,J):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(o||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=i.filter;if(xI(r),!J&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Mo&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Qn(l,i.draggable,r,!1),!(l&&l.animated)&&Uu!==l)){if(la=$n(l),Co=$n(l,i.draggable),typeof f=="function"){if(f.call(this,e,l,this)){nn({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),cn("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=Qn(u,c.trim(),r,!1),c)return nn({sortable:n,rootEl:c,name:"filter",targetEl:l,fromEl:r,toEl:r}),cn("filter",n,{evt:e}),!0}),f)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!Qn(u,i.handle,r,!1)||this._prepareDragStart(e,o,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,a=i.options,o=s.ownerDocument,l;if(r&&!J&&r.parentNode===s){var u=xt(r);if(st=s,J=r,dt=J.parentNode,vs=J.nextSibling,Uu=r,Bu=a.group,ye.dragged=J,_s={target:J,clientX:(n||e).clientX,clientY:(n||e).clientY},f_=_s.clientX-u.left,h_=_s.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,J.style["will-change"]="all",l=function(){if(cn("delayEnded",i,{evt:e}),ye.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Q0&&i.nativeDraggable&&(J.draggable=!0),i._triggerDragStart(e,n),nn({sortable:i,name:"choose",originalEvent:e}),_n(J,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){i_(J,f.trim(),Yh)}),We(o,"dragover",bs),We(o,"mousemove",bs),We(o,"touchmove",bs),We(o,"mouseup",i._onDrop),We(o,"touchend",i._onDrop),We(o,"touchcancel",i._onDrop),Q0&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),cn("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Oo||Yr))){if(ye.eventCanceled){this._onDrop();return}We(o,"mouseup",i._disableDelayedDrag),We(o,"touchend",i._disableDelayedDrag),We(o,"touchcancel",i._disableDelayedDrag),We(o,"mousemove",i._delayedDragTouchMoveHandler),We(o,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&We(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&Yh(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;$e(e,"mouseup",this._disableDelayedDrag),$e(e,"touchend",this._disableDelayedDrag),$e(e,"touchcancel",this._disableDelayedDrag),$e(e,"mousemove",this._delayedDragTouchMoveHandler),$e(e,"touchmove",this._delayedDragTouchMoveHandler),$e(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?We(document,"pointermove",this._onTouchMove):n?We(document,"touchmove",this._onTouchMove):We(document,"mousemove",this._onTouchMove):(We(J,"dragend",this),We(st,"dragstart",this._onDragStart));try{document.selection?Ju(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ua=!1,st&&J){cn("dragStarted",this,{evt:n}),this.nativeDraggable&&We(document,"dragover",gI);var r=this.options;!e&&_n(J,r.dragClass,!1),_n(J,r.ghostClass,!0),ye.active=this,e&&this._appendGhost(),nn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(er){this._lastX=er.clientX,this._lastY=er.clientY,y_();for(var e=document.elementFromPoint(er.clientX,er.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(er.clientX,er.clientY),e!==n);)n=e;if(J.parentNode[bn]._isOutsideThisEl(e),n)do{if(n[bn]){var r=void 0;if(r=n[bn]._onDragOver({clientX:er.clientX,clientY:er.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);v_()}},_onTouchMove:function(e){if(_s){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,a=xe&&sa(xe,!0),o=xe&&a&&a.a,l=xe&&a&&a.d,u=Ku&&Yt&&a_(Yt),f=(s.clientX-_s.clientX+i.x)/(o||1)+(u?u[0]-Hh[0]:0)/(o||1),c=(s.clientY-_s.clientY+i.y)/(l||1)+(u?u[1]-Hh[1]:0)/(l||1);if(!ye.active&&!ua){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(xe){a?(a.e+=f-(Wh||0),a.f+=c-(qh||0)):a={a:1,b:0,c:0,d:1,e:f,f:c};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");ve(xe,"webkitTransform",h),ve(xe,"mozTransform",h),ve(xe,"msTransform",h),ve(xe,"transform",h),Wh=f,qh=c,er=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!xe){var e=this.options.fallbackOnBody?document.body:st,n=xt(J,!0,Ku,!0,e),r=this.options;if(Ku){for(Yt=e;ve(Yt,"position")==="static"&&ve(Yt,"transform")==="none"&&Yt!==document;)Yt=Yt.parentNode;Yt!==document.body&&Yt!==document.documentElement?(Yt===document&&(Yt=Or()),n.top+=Yt.scrollTop,n.left+=Yt.scrollLeft):Yt=Or(),Hh=a_(Yt)}xe=J.cloneNode(!0),_n(xe,r.ghostClass,!1),_n(xe,r.fallbackClass,!0),_n(xe,r.dragClass,!0),ve(xe,"transition",""),ve(xe,"transform",""),ve(xe,"box-sizing","border-box"),ve(xe,"margin",0),ve(xe,"top",n.top),ve(xe,"left",n.left),ve(xe,"width",n.width),ve(xe,"height",n.height),ve(xe,"opacity","0.8"),ve(xe,"position",Ku?"absolute":"fixed"),ve(xe,"zIndex","100000"),ve(xe,"pointerEvents","none"),ye.ghost=xe,e.appendChild(xe),ve(xe,"transform-origin",f_/parseInt(xe.style.width)*100+"% "+h_/parseInt(xe.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(cn("dragStart",this,{evt:e}),ye.eventCanceled){this._onDrop();return}cn("setupClone",this),ye.eventCanceled||(ot=u_(J),ot.removeAttribute("id"),ot.draggable=!1,ot.style["will-change"]="",this._hideClone(),_n(ot,this.options.chosenClass,!1),ye.clone=ot),r.cloneId=Ju(function(){cn("clone",r),!ye.eventCanceled&&(r.options.removeCloneOnHide||st.insertBefore(ot,J),r._hideClone(),nn({sortable:r,name:"clone"}))}),!n&&_n(J,s.dragClass,!0),n?(Wu=!0,r._loopId=setInterval(r._emulateDragOver,50)):($e(document,"mouseup",r._onDrop),$e(document,"touchend",r._onDrop),$e(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,J)),We(document,"drop",r),ve(J,"transform","translateZ(0)")),ua=!0,r._dragStartId=Ju(r._dragStarted.bind(r,n,e)),We(document,"selectstart",r),Lo=!0,Mo&&ve(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,a,o=this.options,l=o.group,u=ye.active,f=Bu===l,c=o.sort,h=It||u,d,m=this,p=!1;if(zh)return;function g(K,Pe){cn(K,m,xr({evt:e,isOwner:f,axis:d?"vertical":"horizontal",revert:a,dragRect:i,targetRect:s,canSort:c,fromSortable:h,target:r,completed:v,onMove:function(_t,Xt){return Zu(st,n,J,i,_t,xt(_t),e,Xt)},changed:b},Pe))}function y(){g("dragOverAnimationCapture"),m.captureAnimationState(),m!==h&&h.captureAnimationState()}function v(K){return g("dragOverCompleted",{insertion:K}),K&&(f?u._hideClone():u._showClone(m),m!==h&&(_n(J,It?It.options.ghostClass:u.options.ghostClass,!1),_n(J,o.ghostClass,!0)),It!==m&&m!==ye.active?It=m:m===ye.active&&It&&(It=null),h===m&&(m._ignoreWhileAnimating=r),m.animateAll(function(){g("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===J&&!J.animated||r===n&&!r.animated)&&(ca=null),!o.dragoverBubble&&!e.rootEl&&r!==document&&(J.parentNode[bn]._isOutsideThisEl(e.target),!K&&bs(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function b(){En=$n(J),$i=$n(J,o.draggable),nn({sortable:m,name:"change",toEl:n,newIndex:En,newDraggableIndex:$i,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Qn(r,o.draggable,n,!0),g("dragOver"),ye.eventCanceled)return p;if(J.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return v(!1);if(Wu=!1,u&&!o.disabled&&(f?c||(a=dt!==st):It===this||(this.lastPutMode=Bu.checkPull(this,u,J,e))&&l.checkPut(this,u,J,e))){if(d=this._getDirection(e,r)==="vertical",i=xt(J),g("dragOverValid"),ye.eventCanceled)return p;if(a)return dt=st,y(),this._hideClone(),g("revert"),ye.eventCanceled||(vs?st.insertBefore(J,vs):st.appendChild(J)),v(!0);var E=Gh(n,o.draggable);if(!E||bI(e,d,this)&&!E.animated){if(E===J)return v(!1);if(E&&n===e.target&&(r=E),r&&(s=xt(r)),Zu(st,n,J,i,r,s,e,!!r)!==!1)return y(),E&&E.nextSibling?n.insertBefore(J,E.nextSibling):n.appendChild(J),dt=n,b(),v(!0)}else if(E&&_I(e,d,this)){var O=aa(n,0,o,!0);if(O===J)return v(!1);if(r=O,s=xt(r),Zu(st,n,J,i,r,s,e,!1)!==!1)return y(),n.insertBefore(J,O),dt=n,b(),v(!0)}else if(r.parentNode===n){s=xt(r);var N=0,M,P=J.parentNode!==n,I=!mI(J.animated&&J.toRect||i,r.animated&&r.toRect||s,d),C=d?"top":"left",R=s_(r,"top","top")||s_(J,"top","top"),D=R?R.scrollTop:void 0;ca!==r&&(M=s[C],ko=!1,Hu=!I&&o.invertSwap||P),N=EI(e,r,s,d,I?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,Hu,ca===r);var Q;if(N!==0){var be=$n(J);do be-=N,Q=dt.children[be];while(Q&&(ve(Q,"display")==="none"||Q===xe))}if(N===0||Q===r)return v(!1);ca=r,Po=N;var T=r.nextElementSibling,$=!1;$=N===1;var z=Zu(st,n,J,i,r,s,e,$);if(z!==!1)return(z===1||z===-1)&&($=z===1),zh=!0,setTimeout(vI,30),y(),$&&!T?n.appendChild(J):r.parentNode.insertBefore(J,$?T:r),R&&l_(R,0,D-R.scrollTop),dt=J.parentNode,M!==void 0&&!Hu&&(zu=Math.abs(M-xt(r)[C])),b(),v(!0)}if(n.contains(J))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){$e(document,"mousemove",this._onTouchMove),$e(document,"touchmove",this._onTouchMove),$e(document,"pointermove",this._onTouchMove),$e(document,"dragover",bs),$e(document,"mousemove",bs),$e(document,"touchmove",bs)},_offUpEvents:function(){var e=this.el.ownerDocument;$e(e,"mouseup",this._onDrop),$e(e,"touchend",this._onDrop),$e(e,"pointerup",this._onDrop),$e(e,"touchcancel",this._onDrop),$e(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(En=$n(J),$i=$n(J,r.draggable),cn("drop",this,{evt:e}),dt=J&&J.parentNode,En=$n(J),$i=$n(J,r.draggable),ye.eventCanceled){this._nulling();return}ua=!1,Hu=!1,ko=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Xh(this.cloneId),Xh(this._dragStartId),this.nativeDraggable&&($e(document,"drop",this),$e(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Mo&&ve(document.body,"user-select",""),ve(J,"transform",""),e&&(Lo&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),xe&&xe.parentNode&&xe.parentNode.removeChild(xe),(st===dt||It&&It.lastPutMode!=="clone")&&ot&&ot.parentNode&&ot.parentNode.removeChild(ot),J&&(this.nativeDraggable&&$e(J,"dragend",this),Yh(J),J.style["will-change"]="",Lo&&!ua&&_n(J,It?It.options.ghostClass:this.options.ghostClass,!1),_n(J,this.options.chosenClass,!1),nn({sortable:this,name:"unchoose",toEl:dt,newIndex:null,newDraggableIndex:null,originalEvent:e}),st!==dt?(En>=0&&(nn({rootEl:dt,name:"add",toEl:dt,fromEl:st,originalEvent:e}),nn({sortable:this,name:"remove",toEl:dt,originalEvent:e}),nn({rootEl:dt,name:"sort",toEl:dt,fromEl:st,originalEvent:e}),nn({sortable:this,name:"sort",toEl:dt,originalEvent:e})),It&&It.save()):En!==la&&En>=0&&(nn({sortable:this,name:"update",toEl:dt,originalEvent:e}),nn({sortable:this,name:"sort",toEl:dt,originalEvent:e})),ye.active&&((En==null||En===-1)&&(En=la,$i=Co),nn({sortable:this,name:"end",toEl:dt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){cn("nulling",this),st=J=dt=xe=vs=ot=Uu=Ri=_s=er=Lo=En=$i=la=Co=ca=Po=It=Bu=ye.dragged=ye.ghost=ye.clone=ye.active=null,Yu.forEach(function(e){e.checked=!0}),Yu.length=Wh=qh=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":J&&(this._onDragOver(e),yI(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,a=this.options;i<s;i++)n=r[i],Qn(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||wI(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,a){var o=i.children[a];Qn(o,this.options.draggable,i,!1)&&(r[s]=o)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Qn(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=No.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&g_(r)},destroy:function(){cn("destroy",this);var e=this.el;e[bn]=null,$e(e,"mousedown",this._onTapStart),$e(e,"touchstart",this._onTapStart),$e(e,"pointerdown",this._onTapStart),this.nativeDraggable&&($e(e,"dragover",this),$e(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),qu.splice(qu.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ri){if(cn("hideClone",this),ye.eventCanceled)return;ve(ot,"display","none"),this.options.removeCloneOnHide&&ot.parentNode&&ot.parentNode.removeChild(ot),Ri=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ri){if(cn("showClone",this),ye.eventCanceled)return;J.parentNode==st&&!this.options.group.revertClone?st.insertBefore(ot,J):vs?st.insertBefore(ot,vs):st.appendChild(ot),this.options.group.revertClone&&this.animate(J,ot),ve(ot,"display",""),Ri=!1}}};function yI(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Zu(t,e,n,r,i,s,a,o){var l,u=t[bn],f=u.options.onMove,c;return window.CustomEvent&&!Yr&&!Oo?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||xt(e),l.willInsertAfter=o,l.originalEvent=a,t.dispatchEvent(l),f&&(c=f.call(u,l,a)),c}function Yh(t){t.draggable=!1}function vI(){zh=!1}function _I(t,e,n){var r=xt(aa(n.el,0,n.options,!0)),i=c_(n.el,n.options,xe),s=10;return e?t.clientX<i.left-s||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-s||t.clientY<r.bottom&&t.clientX<r.left}function bI(t,e,n){var r=xt(Gh(n.el,n.options.draggable)),i=c_(n.el,n.options,xe),s=10;return e?t.clientX>i.right+s||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+s||t.clientX>r.right&&t.clientY>r.top}function EI(t,e,n,r,i,s,a,o){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,f=r?n.top:n.left,c=r?n.bottom:n.right,h=!1;if(!a){if(o&&zu<u*i){if(!ko&&(Po===1?l>f+u*s/2:l<c-u*s/2)&&(ko=!0),ko)h=!0;else if(Po===1?l<f+zu:l>c-zu)return-Po}else if(l>f+u*(1-i)/2&&l<c-u*(1-i)/2)return SI(e)}return h=h||a,h&&(l<f+u*s/2||l>c-u*s/2)?l>f+u/2?1:-1:0}function SI(t){return $n(J)<$n(t)?1:-1}function wI(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function xI(t){Yu.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Yu.push(r)}}function Ju(t){return setTimeout(t,0)}function Xh(t){return clearTimeout(t)}Xu&&We(document,"touchmove",function(t){(ye.active||ua)&&t.cancelable&&t.preventDefault()}),ye.utils={on:We,off:$e,css:ve,find:i_,is:function(e,n){return!!Qn(e,n,e,!1)},extend:aI,throttle:o_,closest:Qn,toggleClass:_n,clone:u_,index:$n,nextTick:Ju,cancelNextTick:Xh,detectDirection:p_,getChild:aa},ye.get=function(t){return t[bn]},ye.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(ye.utils=xr(xr({},ye.utils),r.utils)),No.mount(r)})},ye.create=function(t,e){return new ye(t,e)},ye.version=rI;var Ot=[],Ao,Kh,Zh=!1,Jh,Qh,Qu,Do;function OI(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?We(document,"dragover",this._handleAutoScroll):this.options.supportPointer?We(document,"pointermove",this._handleFallbackAutoScroll):r.touches?We(document,"touchmove",this._handleFallbackAutoScroll):We(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?$e(document,"dragover",this._handleAutoScroll):($e(document,"pointermove",this._handleFallbackAutoScroll),$e(document,"touchmove",this._handleFallbackAutoScroll),$e(document,"mousemove",this._handleFallbackAutoScroll)),__(),ec(),oI()},nulling:function(){Qu=Kh=Ao=Zh=Do=Jh=Qh=null,Ot.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,o=document.elementFromPoint(s,a);if(Qu=n,r||this.options.forceAutoScrollFallback||Oo||Yr||Mo){ed(n,this.options,o,r);var l=Ii(o,!0);Zh&&(!Do||s!==Jh||a!==Qh)&&(Do&&__(),Do=setInterval(function(){var u=Ii(document.elementFromPoint(s,a),!0);u!==l&&(l=u,ec()),ed(n,i.options,u,r)},10),Jh=s,Qh=a)}else{if(!this.options.bubbleScroll||Ii(o,!0)===Or()){ec();return}ed(n,this.options,Ii(o,!1),!1)}}},Hr(t,{pluginName:"scroll",initializeByDefault:!0})}function ec(){Ot.forEach(function(t){clearInterval(t.pid)}),Ot=[]}function __(){clearInterval(Do)}var ed=o_(function(t,e,n,r){if(!!e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,o=e.scrollSpeed,l=Or(),u=!1,f;Kh!==n&&(Kh=n,ec(),Ao=e.scroll,f=e.scrollFn,Ao===!0&&(Ao=Ii(n,!0)));var c=0,h=Ao;do{var d=h,m=xt(d),p=m.top,g=m.bottom,y=m.left,v=m.right,b=m.width,E=m.height,O=void 0,N=void 0,M=d.scrollWidth,P=d.scrollHeight,I=ve(d),C=d.scrollLeft,R=d.scrollTop;d===l?(O=b<M&&(I.overflowX==="auto"||I.overflowX==="scroll"||I.overflowX==="visible"),N=E<P&&(I.overflowY==="auto"||I.overflowY==="scroll"||I.overflowY==="visible")):(O=b<M&&(I.overflowX==="auto"||I.overflowX==="scroll"),N=E<P&&(I.overflowY==="auto"||I.overflowY==="scroll"));var D=O&&(Math.abs(v-i)<=a&&C+b<M)-(Math.abs(y-i)<=a&&!!C),Q=N&&(Math.abs(g-s)<=a&&R+E<P)-(Math.abs(p-s)<=a&&!!R);if(!Ot[c])for(var be=0;be<=c;be++)Ot[be]||(Ot[be]={});(Ot[c].vx!=D||Ot[c].vy!=Q||Ot[c].el!==d)&&(Ot[c].el=d,Ot[c].vx=D,Ot[c].vy=Q,clearInterval(Ot[c].pid),(D!=0||Q!=0)&&(u=!0,Ot[c].pid=setInterval(function(){r&&this.layer===0&&ye.active._onTouchMove(Qu);var T=Ot[this.layer].vy?Ot[this.layer].vy*o:0,$=Ot[this.layer].vx?Ot[this.layer].vx*o:0;typeof f=="function"&&f.call(ye.dragged.parentNode[bn],$,T,t,Qu,Ot[this.layer].el)!=="continue"||l_(Ot[this.layer].el,$,T)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&h!==l&&(h=Ii(h,!1)));Zh=u}},30),b_=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(!!n){var u=r||s;o();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(f.clientX,f.clientY);l(),u&&!u.el.contains(c)&&(a("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function td(){}td.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=aa(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:b_},Hr(td,{pluginName:"revertOnSpill"});function nd(){}nd.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:b_},Hr(nd,{pluginName:"removeOnSpill"}),ye.mount(new OI),ye.mount(nd,td);const E_=.5,MI=!1,tc=ss("slider",()=>{const t=ht(),e=Se(E_),n=Se(MI),r=de(()=>[...t.layers].reverse()[0]);function i(a){let o=a;a<.1?o=.1:a>.9&&(o=.9),e.value=o}function s(a){n.value=a!=null?a:!n.value}return{sliderActive:n,sliderRatio:e,sliderTopLayer:r,setRatio:i,toggleSlider:s}},{});function S_(t,e){const{t:n}=Ze();function r(){e==null||e.emit("clickInfo",t)}return{t:n,onClickInfo:r}}const TI={class:"lux-layer-manager-item mt-2.5"},NI=["title"],CI={class:"flex-1 text-left cursor-default"},LI=["aria-label","title"],PI=ge(he({__name:"layer-item-background",props:{showEditButton:{type:Boolean,required:!0},layer:{type:Object,required:!0}},emits:["clickEdit","clickInfo"],setup(t,{emit:e}){const n=t,r=e,{t:i,onClickInfo:s}=S_(n.layer,{emit:r}),a=de(()=>i('Display informations for "{{layerName}}"',{ns:"client",layerName:o()}));function o(){return i(n.layer.name,{ns:"client"})}return(l,u)=>(k(),G("div",TI,[L("button",{class:"fa fa-info w-3",title:a.value,onClick:u[0]||(u[0]=(...f)=>x(s)&&x(s)(...f))},null,8,NI),L("span",CI,oe(o()),1),l.showEditButton?(k(),G("button",{key:0,class:"fa fa-pencil","aria-label":x(i)("Open editor panel",{ns:"client"}),title:x(i)("Open editor panel",{ns:"client"}),onClick:u[1]||(u[1]=f=>l.$emit("clickEdit"))},null,8,LI)):F("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-item/layer-item-background.vue"]]),kI=["id"],AI=["aria-checked","title"],DI=["id","value","aria-label"],II=["aria-checked","aria-label"],RI=ge(he({__name:"layer-item-sub",props:{layer:{type:Object,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["changeOpacity","clickToggleLayerComparator"],setup(t,{emit:e}){var d,m,p,g;const n=t,r=e,{t:i}=Ze(),s=In(),a=de(()=>i(s.getLayerCurrentLabel(n.layer),{ns:"client"})),o=nt(((m=(d=n.layer)==null?void 0:d.opacity)!=null?m:1)*100),l=nt(((g=(p=n.layer)==null?void 0:p.previousOpacity)!=null?g:o.value)*100);function u(){o.value===0?o.value=l.value:(l.value=o.value,o.value=0),h()}function f(y){y.target&&(o.value=parseInt(y.target.value),h())}function c(){r("clickToggleLayerComparator",n.layer)}function h(){r("changeOpacity",n.layer,o.value)}return(y,v)=>(k(),G("div",{class:Ae(["lux-layer-manager-item-content",y.isOpen?"h-6":"h-0"]),id:`layer-manager-item-content-${y.layer.id}`},[L("button",{class:Ae(["w-5 fa-solid",o.value===0?"fa-eye-slash":"fa-eye"]),role:"switch","aria-checked":o.value===0,title:x(i)("Toggle layer opacity for {{layerName}}",{layerName:a.value}),onClick:u},null,10,AI),L("input",{id:`${y.layer.id}-steps-range`,type:"range",min:"0",max:"100",value:o.value,step:"25",onChange:f,class:"m-2.5 w-16 h-[5px] rounded-lg appearance-none cursor-pointer","aria-label":x(i)("Change opacity for {{ layerName }}",{layerName:a.value})},null,40,DI),y.displayLayerComparatorOpen?(k(),G("button",{key:0,role:"switch",class:Ae(["fa ml-auto text-sm cursor-pointer",y.isLayerComparatorOpen?"fa-adjust":"fa-circle"]),"aria-checked":y.isLayerComparatorOpen,"aria-label":x(i)("Toggle layer comparator for {{ layerName }}",{layerName:a.value}),onClick:c},null,10,II)):F("v-if",!0)],10,kI))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-item/layer-item-sub.vue"]]),$I=["min","max","value"],rd=ge(he({__name:"layer-time-datepicker",props:{minDateAllowed:{type:String,required:!1,default:""},maxDateAllowed:{type:String,required:!1,default:""},dateValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=de(()=>hh(n.minDateAllowed)),s=de(()=>hh(n.maxDateAllowed));function a(o){r("change",o.target.value)}return(o,l)=>(k(),G("input",{class:"lux-time-datepicker",type:"date",min:i.value,max:s.value,value:o.dateValue?x(hh)(o.dateValue):"",onChange:a},null,40,$I))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-datepicker.vue"]]),FI={class:"lux-time-slider w-full"},VI=["for"],jI=ge(he({__name:"layer-time-datepicker-value",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t){const{t:e}=Ze(),n=t,r=nt(n.layer.currentTimeMinValue);return(i,s)=>{var a,o;return k(),G("div",FI,[L("div",null,[L("label",{for:`${i.layer.id}-time-slider-start`,class:"lux-time-slider-label"},oe(x(e)("Date:")),9,VI),se(rd,{id:`${i.layer.id}-time-slider-start`,"date-value":r.value,"min-date-allowed":(a=n.layer.time)==null?void 0:a.minValue,"max-date-allowed":(o=n.layer.time)==null?void 0:o.maxValue,onChange:s[0]||(s[0]=l=>i.$emit("changeTime",l))},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-datepicker-value.vue"]]),GI={class:"lux-time-slider w-full"},UI=["for"],BI=["for"],WI=ge(he({__name:"layer-time-datepicker-range",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const{t:n}=Ze(),r=t,i=e,s=nt(r.layer.currentTimeMinValue),a=nt(r.layer.currentTimeMaxValue);function o(u){i("changeTime",u,r.layer.currentTimeMaxValue)}function l(u){i("changeTime",r.layer.currentTimeMinValue,u)}return(u,f)=>{var c,h,d,m;return k(),G("div",GI,[F(" Date START datepicker input "),L("div",null,[L("label",{for:`${u.layer.id}-time-slider-start`,class:"lux-time-slider-label"},oe(x(n)("From:")),9,UI),se(rd,{id:`${u.layer.id}-time-slider-start`,"date-value":s.value,"min-date-allowed":(c=r.layer.time)==null?void 0:c.minValue,"max-date-allowed":(h=r.layer.time)==null?void 0:h.maxValue,onChange:o},null,8,["id","date-value","min-date-allowed","max-date-allowed"])]),F(" Date END datepicker input "),L("div",null,[L("label",{for:`${u.layer.id}-time-slider-end`,class:"lux-time-slider-label"},oe(x(n)("To:")),9,BI),se(rd,{id:`${u.layer.id}-time-slider-end`,"date-value":a.value,"min-date-allowed":(d=r.layer.time)==null?void 0:d.minValue,"max-date-allowed":(m=r.layer.time)==null?void 0:m.maxValue,onChange:l},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-datepicker-range.vue"]]),qI=["onKeydown","aria-label","title"],w_=ge(he({__name:"slider-range-thumb",props:{ariaLabel:{type:String,required:!1},maxLimit:{type:Number,required:!1,default:100},minLimit:{type:Number,required:!1,default:0},selectedValue:{type:Number,required:!0}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=Se(!1),s=Se(),a=Se(),o=de(()=>{var b;return((b=s.value)==null?void 0:b.offsetWidth)||0}),l=de(()=>{var b;return((b=a.value)==null?void 0:b.offsetWidth)||40}),u=Se(n.selectedValue),f=de(()=>o.value*u.value/100-l.value/2),c=de(()=>({left:`${f.value}px`}));ui(()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y)}),et(()=>n.selectedValue,b=>{u.value=b});function h(b){u.value=Math.max(Math.min(b,100),0),r("change",u.value,i.value)}function d(){h(u.value-1)}function m(){h(u.value+1)}function p(){i.value=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",y)}function g(b){!i.value||h(v(b))}function y(b){i.value=!1,h(v(b)),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y)}function v(b){var O,N;const E=(O=s.value)!=null&&O.offsetWidth?(b.clientX-l.value*2)*100/((N=s.value)==null?void 0:N.offsetWidth):0;return Math.round(Math.max(Math.min(E,n.maxLimit),n.minLimit))}return(b,E)=>(k(),G("div",{class:"w-full",role:"slider",ref_key:"elRefTrack",ref:s},[L("button",{class:Ae(["lux-slidebar-thumb",i.value?"dragging":""]),ref_key:"elRefThumb",ref:a,style:ti(c.value),onKeydown:[ur(lr(m,["stop"]),["space"]),ur(lr(m,["stop"]),["right"]),ur(lr(d,["stop"]),["left"]),ur(lr(d,["stop"]),["delete"])],onMousedown:p,onMousemove:g,onMouseup:y,"aria-label":b.ariaLabel,title:b.ariaLabel},null,46,qI)],512))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/slider-range/slider-range-thumb.vue"]]),HI=ge(he({__name:"slider-range-active-track",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=Se(),s=Se(),a=de(()=>i.value?Math.round(i.value.offsetWidth*n.selectedMinValue/100):0),o=de(()=>{var c,h;let f=0;return n.selectedMaxValue!==void 0&&((c=i.value)==null?void 0:c.offsetWidth)&&(f=((h=i.value)==null?void 0:h.offsetWidth)*n.selectedMaxValue/100-a.value),Math.round(f)}),l=de(()=>({left:`${a.value}px`,width:`${o.value}px`}));function u(f){if(i.value){const c=i.value.getBoundingClientRect().x,h=(f.clientX-c)*100/i.value.offsetWidth;r("change",h)}}return(f,c)=>(k(),G("div",{ref_key:"elRefFullTrack",ref:i,class:"lux-slidebar-track"},[f.selectedMaxValue!==void 0?(k(),G("div",{key:0,ref_key:"elRefSelectionTrack",ref:s,class:"lux-slidebar-track-selection",style:ti(l.value),onClick:u},null,4)):F("v-if",!0),L("div",{class:"lux-slidebar-track-full",onClick:u})],512))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/slider-range/slider-range-active-track.vue"]]),zI={class:"lux-slidebar-fake"},x_=ge(he({__name:"slider-range",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1},ariaLabelMin:{type:String,required:!1},ariaLabelMax:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=Se(n.selectedMinValue),s=Se(n.selectedMaxValue);function a(u,f){r("change",u,n.selectedMaxValue,f)}function o(u,f){r("change",n.selectedMinValue,u,f)}function l(u){s.value===void 0?i.value=u:u>=s.value?s.value=u:u<=n.selectedMinValue?i.value=u:Math.abs(s.value-u)<Math.abs(i.value-u)?s.value=u:i.value=u,r("change",i.value,s.value,!1)}return(u,f)=>(k(),G("div",zI,[F(" Draggable Max thumb button "),s.value!==void 0?(k(),Ge(w_,{key:0,ariaLabel:u.ariaLabelMax,minLimit:u.selectedMinValue,selectedValue:s.value,onChange:o},null,8,["ariaLabel","minLimit","selectedValue"])):F("v-if",!0),F(" Draggable Min thumb button "),F(" put Min value after Max value, this is just for z-index grabbing "),se(w_,{ariaLabel:u.ariaLabelMin,maxLimit:u.selectedMaxValue,selectedValue:i.value,onChange:a},null,8,["ariaLabel","maxLimit","selectedValue"]),F(" Selection highlight "),se(HI,{selectedMinValue:u.selectedMinValue,selectedMaxValue:u.selectedMaxValue,onChange:l},null,8,["selectedMinValue","selectedMaxValue"])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/slider-range/slider-range.vue"]]),YI={class:"lux-time-slider w-full"},XI={key:0,class:"lux-time-slider-value mr-1.5"},KI={key:1,class:"lux-time-slider-range mr-1.5"},ZI={class:"lux-time-displayed-dates"},JI={key:0,class:"lux-time-start-date grow"},QI={key:1,class:"lux-time-slider-end-date grow text-right"},e3=ge(he({__name:"layer-time-slider",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const{t:n}=Ze(),r=t,i=e,s=de(g),a=de(()=>{var E,O;return(E=r.layer.time)!=null&&E.minValue?new Date((O=r.layer.time)==null?void 0:O.minValue).getTime():0}),o=de(()=>{var E,O;return(E=r.layer.time)!=null&&E.maxValue?new Date((O=r.layer.time)==null?void 0:O.maxValue).getTime():0}),l=de(()=>o.value-a.value),u=Se(r.layer.currentTimeMaxValue),f=Se(r.layer.currentTimeMinValue),c=de(()=>f.value?new Date(f.value).getTime():void 0),h=de(()=>u.value?new Date(u.value).getTime():void 0),d=de(()=>p(c.value)),m=de(()=>p(h.value));function p(E){return E?(E-a.value)/l.value*100:0}function g(){var R,D;const E=r.layer.time,O=[];if(!E)return;if(E.values)return E.values.map(Q=>new Date(Q).getTime());const N=new Date(E.minValue),M=new Date((R=E.maxValue)!=null?R:Date.now()),P=1024,I=new Date(N.getTime()),C=(D=E.interval)!=null?D:n0;if(I.setFullYear(N.getFullYear()+P*C[0]),I.setMonth(N.getMonth()+P*C[1],N.getDate()+P*C[2]),I.setSeconds(N.getSeconds()+P*C[3]),I>M)for(let Q=0;;Q++){const be=new Date(N.getTime());if(be.setFullYear(N.getFullYear()+Q*C[0]),be.setMonth(N.getMonth()+Q*C[1],N.getDate()+Q*C[2]),be.setSeconds(N.getSeconds()+Q*C[3]),be<=M)O.push(be.getTime());else break}return O}function y(E){var M;const O=E/100*(o.value-a.value)+a.value,N=UL(O,{minValue:a.value,maxValue:o.value,timeValueList:s.value,timeInterval:(M=r.layer.time)==null?void 0:M.interval});return fh(N)}function v(E,O){const N=y(E);if(f.value=N,O){const M=y(O);u.value=M}}function b(E,O,N){v(E,O),N||i("changeTime",f.value,u.value)}return(E,O)=>{var N,M,P,I,C,R,D;return k(),G("div",YI,[F(" Slider LayerTimeMode.VALUE "),((N=E.layer.time)==null?void 0:N.mode)===x(Ur).VALUE?(k(),G("div",XI,[se(x_,{ariaLabelMin:`${x(n)("Modifier la date de d\xE9but",{ns:"client"})}`,selectedMinValue:d.value,onChange:b},null,8,["ariaLabelMin","selectedMinValue"])])):F("v-if",!0),F(" Slider LayerTimeMode.RANGE "),((M=E.layer.time)==null?void 0:M.mode)===x(Ur).RANGE?(k(),G("div",KI,[se(x_,{ariaLabelMin:`${x(n)("Modifier la date de d\xE9but",{ns:"client"})}`,ariaLabelMax:`${x(n)("Modifier la date de fin",{ns:"client"})}`,selectedMinValue:d.value,selectedMaxValue:m.value,onChange:b},null,8,["ariaLabelMin","ariaLabelMax","selectedMinValue","selectedMaxValue"])])):F("v-if",!0),F(" Display localized time values "),L("div",ZI,[F(" Display localized time values Min value "),((P=E.layer.time)==null?void 0:P.mode)===x(Ur).RANGE||((I=E.layer.time)==null?void 0:I.mode)===x(Ur).VALUE?(k(),G("div",JI,[L("span",null,oe(f.value?x(r0)(f.value,(C=E.layer.time)==null?void 0:C.resolution):"-"),1)])):F("v-if",!0),F(" Display localized time values Max value "),((R=E.layer.time)==null?void 0:R.mode)===x(Ur).RANGE?(k(),G("div",QI,[L("span",null,oe(u.value?x(r0)(u.value,(D=E.layer.time)==null?void 0:D.resolution):"-"),1)])):F("v-if",!0)])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-slider.vue"]]),t3=ge(he({__name:"layer-time",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const n=e;function r(i,s){n("changeTime",i,s)}return(i,s)=>{var a,o,l,u,f;return k(),G(je,null,[F(" Layer time: slider widget "),((a=i.layer.time)==null?void 0:a.widget)===x(iu).SLIDER?(k(),Ge(e3,{key:0,layer:i.layer,onChangeTime:r},null,8,["layer"])):F("v-if",!0),F(" Layer time: datepicker VALUE (one date) widget "),((o=i.layer.time)==null?void 0:o.widget)===x(iu).DATEPICKER&&((l=i.layer.time)==null?void 0:l.mode)===x(Ur).VALUE?(k(),Ge(jI,{key:1,layer:i.layer,onChangeTime:r},null,8,["layer"])):F("v-if",!0),F(' Layer time: datepicker RANGE ("from:" date - "to:" date) widget '),((u=i.layer.time)==null?void 0:u.widget)===x(iu).DATEPICKER&&((f=i.layer.time)==null?void 0:f.mode)===x(Ur).RANGE?(k(),Ge(WI,{key:2,layer:i.layer,onChangeTime:r},null,8,["layer"])):F("v-if",!0)],64)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time.vue"]]),n3={class:"lux-layer-manager-item relative"},r3={class:"w-full flex flex-nowrap items-start gap-x-2"},i3=["title"],s3=["aria-label","title"],a3=["aria-expanded","aria-controls","data-cy"],o3={class:"grow"},l3=["title","aria-label"],O_=ge(he({__name:"layer-item",props:{is3d:{type:Boolean,required:!0},layer:{type:Object,required:!0},dragHandleClassName:{type:String,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["clickInfo","clickToggle","clickToggleLayerComparator","clickRemove","changeOpacity","changeTime"],setup(t,{emit:e}){const n=t,r=e,{t:i,onClickInfo:s}=S_(n.layer,{emit:r}),a=In(),o=de(()=>i(a.getLayerCurrentLabel(n.layer),{ns:"client"})),l=de(()=>i('Sort "{{layerName}}" in the list',{ns:"client",layerName:o.value})),u=de(()=>i('Display informations for "{{layerName}}"',{ns:"client",layerName:o.value})),f=de(()=>i('Remove layer "{{layerName}}"',{ns:"client",layerName:o.value}));function c(h,d){r("changeTime",h,d)}return(h,d)=>(k(),G("div",n3,[L("div",r3,[L("button",{class:Ae(["fa-solid fa-bars cursor-move mt-1",h.dragHandleClassName]),title:l.value},null,10,i3),L("button",{class:"fa-solid fa-info mt-1","aria-label":u.value,title:u.value,onClick:d[0]||(d[0]=(...m)=>x(s)&&x(s)(...m))},null,8,s3),L("button",{"aria-expanded":h.isOpen,"aria-controls":`layer-manager-item-content-${h.layer.id}`,"data-cy":`myLayerItemLabel-${h.layer.id}`,class:Ae([h.is3d?"cursor-default":"","grow text-left break-words w-[70%] flex items-center"]),onClick:d[1]||(d[1]=m=>h.$emit("clickToggle",h.layer))},[L("span",o3,oe(o.value),1),h.is3d?F("v-if",!0):(k(),G("span",{key:0,class:Ae(["w-3.5 fa-solid",h.isOpen?"fa-xmark":"fa-ellipsis"]),"aria-hidden":"true"},null,2))],10,a3),L("button",{class:"mt-1 fa-regular fa-trash-can",title:f.value,"aria-label":f.value,onClick:d[2]||(d[2]=m=>h.$emit("clickRemove",h.layer))},null,8,l3)]),F(" Layer item sub content (opacity and toggle comparator) "),h.is3d?F("v-if",!0):(k(),Ge(RI,{key:0,layer:h.layer,isOpen:h.isOpen,isLayerComparatorOpen:h.isLayerComparatorOpen,displayLayerComparatorOpen:h.displayLayerComparatorOpen,onClickToggleLayerComparator:d[3]||(d[3]=m=>h.$emit("clickToggleLayerComparator",m)),onChangeOpacity:d[4]||(d[4]=(m,p)=>h.$emit("changeOpacity",m,p))},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen"])),F(" Layer time: slider OR datepicker widgets "),h.layer.time?(k(),Ge(t3,{key:1,layer:h.layer,onChangeTime:c},null,8,["layer"])):F("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-item/layer-item.vue"]]),u3={key:0,class:"mb-4 sortable-layers-3d"},c3=["id"],f3={class:"sortable-layers"},h3=["id"],d3={class:"flex flex-row justify-center space-x-1 my-2"},id="drag-handle",m3=ge(he({__name:"layer-manager",emits:["displayCatalog"],setup(t,{emit:e}){const{t:n}=Ze(),{setMetadataId:r}=Sh(),i=ht(),s=vt(),a=ds(),o=tc(),{bgLayer:l}=Ue(i),{sliderActive:u}=Ue(o),f=de(()=>[...i.layers].reverse()),c=de(()=>[...i.layers3d].reverse()),h=nt(),d=de(()=>a.isLayerStyleEditable(l.value)),m=e,{setRemoteLayersOpen:p}=vt();yn(()=>{const P={dragClass:"lux-sortable-drag",ghostClass:"lux-sortable-ghost",sort:!0,handle:`.${id}`,forceFallback:KL},I=document.querySelector(".sortable-layers"),C=document.querySelector(".sortable-layers-3d");I&&ye.create(I,{...P,onSort:g}),C&&ye.create(C,{...P,onSort:y})});function g(P,I){const C=[...P.to.children].map(R=>Number(R.id)).reverse();i.reorderLayers(C,I)}function y(P){g(P,!0)}function v(P,I){i.setLayerOpacity(P.id,I/100)}function b(P,I,C){i.setLayerTime(P.id,I,C)}function E(P){i.removeLayers(P.id)}function O(P){h.value=h.value!==P.id?P.id:void 0}function N(){s.openStyleEditorPanel()}function M(){o.toggleSlider()}return(P,I)=>(k(),G("div",null,[c.value.length>0?(k(),G("ul",u3,[(k(!0),G(je,null,On(c.value,(C,R)=>(k(),G("li",{key:C.id,id:C.id},[se(O_,{is3d:!0,dragHandleClassName:id,layer:C,isOpen:h.value===C.id,isLayerComparatorOpen:x(u),displayLayerComparatorOpen:R===0,onClickRemove:E,onClickToggle:O,onClickToggleLayerComparator:M,onClickInfo:D=>x(r)(C.id),onChangeOpacity:v,onChangeTime:(D,Q)=>b(C,D,Q)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,c3))),128))])):F("v-if",!0),L("ul",f3,[(k(!0),G(je,null,On(f.value,(C,R)=>(k(),G("li",{key:C.id,id:C.id},[se(O_,{is3d:!1,dragHandleClassName:id,layer:C,isOpen:h.value===C.id,isLayerComparatorOpen:x(u),displayLayerComparatorOpen:R===0,onClickRemove:E,onClickToggle:O,onClickToggleLayerComparator:M,onClickInfo:D=>x(r)(C.id),onChangeOpacity:v,onChangeTime:(D,Q)=>b(C,D,Q)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,h3))),128))]),se(PI,{layer:x(l)||x(ku),showEditButton:d.value,onClickInfo:I[0]||(I[0]=()=>x(l)&&x(r)(x(l).id)),onClickEdit:N},null,8,["layer","showEditButton"]),L("div",d3,[L("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:I[1]||(I[1]=C=>m("displayCatalog"))},oe(x(n)("+ Add layers",{ns:"client"})),1),L("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:I[2]||(I[2]=C=>x(p)(!0))},oe(x(n)("+ Add external Wms",{ns:"client"})),1)])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-manager.vue"]]),p3={class:"flex flex-col h-full pt-1.5"},g3={class:"h-16 shrink-0 flex justify-between lux-panel-title"},y3=["aria-label"],v3={class:"flex flex-row gap-2 h-10 text-2xl"},_3=["aria-expanded"],b3={key:0},E3=["aria-expanded"],S3={class:"relative grow p-2.5 bg-primary overflow-auto"},M_=ge(he({__name:"layer-panel",setup(t){const{t:e}=Ze(),n=vt(),{setLayersOpen:r}=n,{myLayersTabOpen:i}=Ue(n),{layers:s}=Ue(ht());function a(){n.setMyLayersTabOpen(!0)}function o(){n.setMyLayersTabOpen(!1)}return(l,u)=>(k(),G("div",p3,[F(" Panel title and close button "),L("div",g3,[L("h1",null,oe(x(e)("layers",{ns:"client"})),1),L("span",null,[L("button",{onClick:u[0]||(u[0]=()=>x(r)(!1)),"aria-label":x(e)("Close",{ns:"client"}),class:"fa-sharp fa-solid fa-close"},null,8,y3)])]),F(" My Layers and Catalog tab labels "),L("div",v3,[L("button",{onClick:a,class:Ae(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",x(i)?"bg-primary":"bg-tertiary"]),"aria-expanded":x(i)},[_l(oe(x(e)("my_layers",{ns:"client"}))+" ",1),x(s).length?(k(),G("span",b3,"("+oe(x(s).length)+")",1)):F("v-if",!0)],10,_3),L("button",{onClick:o,class:Ae(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",x(i)?"bg-tertiary":"bg-primary"]),"aria-expanded":!x(i)},oe(x(e)("Catalog",{ns:"client"})),11,E3)]),F(" Panel content (MyLayers and Catalog) "),L("div",S3,[x(i)?(k(),Ge(m3,{key:0,onDisplayCatalog:o})):F("v-if",!0),x(i)?F("v-if",!0):(k(),Ge(QD,{key:1}))])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-panel/layer-panel.vue"]]);class w3{bootstrap(){let e;e=gn(()=>{this.restore(),this.persist(),e&&e()})}persist(){const e=tc();et([()=>e.sliderActive,()=>e.sliderRatio],([n,r],[i])=>{n!==i&&Ce.setValue(ph,n),Ce.setValue(gh,r)})}restore(){const e=Ce.getValue(ph,dh),n=Ce.getValue(gh,na),{toggleSlider:r,setRatio:i}=tc();typeof e<"u"&&e!==null&&(r(e),typeof n!==void 0&&n!==null&&i(n!=null?n:E_))}}const x3=new w3,O3=["onKeydown"],M3=L("span",{class:"lux-slider-line"},null,-1),T3=L("span",{class:"lux-slider-arrows"},[L("span"),L("span")],-1),N3={key:0,class:"lux-slider-layer-label"},C3=L("i",{class:"fa fa-arrow-left mr-2"},null,-1),T_=30,L3=ge(he({__name:"splitter-element",props:{sliderActive:{type:Boolean,required:!0},sliderRatio:{type:Number,required:!0},sliderTopLayer:{type:Object,required:!0},sliderOffset:{type:Number,required:!0},containerOffset:{type:Number,required:!0}},emits:["moveSplitBar","escSplitBar"],setup(t,{expose:e,emit:n}){const r=t,i=n,{t:s}=Ze(),a=Se(null),o=de(()=>({left:`${r.sliderOffset}px`}));let l=!1;e({sliderElement:a});function u(g){i("moveSplitBar",g+a.value.offsetWidth/2)}function f(){l=!0,document.addEventListener("mousemove",c),document.addEventListener("mouseup",h)}function c(g){!l||u(g.clientX)}function h(){l=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}function d(){const g=r.containerOffset+a.value.offsetLeft;u(g+T_)}function m(){const g=r.containerOffset+a.value.offsetLeft;u(g-T_)}function p(){i("escSplitBar")}return yn(()=>{var g;(g=a.value)==null||g.focus({focusVisible:!0})}),ui(()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}),(g,y)=>(k(),G("button",{ref_key:"sliderElement",ref:a,onMousedown:f,onMousemove:c,onMouseup:h,onKeydown:[ur(lr(d,["stop"]),["space"]),ur(lr(d,["stop"]),["right"]),ur(lr(m,["stop"]),["left"]),ur(lr(m,["stop"]),["delete"]),ur(lr(p,["stop"]),["esc"])],class:"left-[20px] absolute h-full w-[32px] block",style:ti(o.value),role:"seperator","aria-controls":"map-container"},[M3,T3,g.sliderTopLayer?(k(),G("span",N3,[C3,L("span",null,oe(x(s)(g.sliderTopLayer.name)),1)])):F("v-if",!0)],44,O3))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/slider/splitter-element.vue"]]),N_=ge(he({__name:"slider-comparator",setup(t){const e=tc(),n=bh(),r=pr().olMap,i=Se(null),{sliderActive:s,sliderRatio:a,sliderTopLayer:o}=Ue(e),l=de(()=>{var v,b;return((b=(v=i.value)==null?void 0:v.sliderElement)==null?void 0:b.offsetWidth)||0}),u=function(){var b,E,O;let v=(O=(E=(b=r.value)==null?void 0:b.getViewport())==null?void 0:E.parentElement)==null?void 0:O.offsetLeft;return(v===void 0||v===0)&&(v=d==null?void 0:d.offsetLeft),v!==void 0?v:0},f=de(()=>{var v,b;return r.value&&i.value?a.value*r.value.getSize()[0]-((b=(v=i.value)==null?void 0:v.sliderElement)==null?void 0:b.offsetWidth)/2:0});let c,h,d;x3.bootstrap(),et([o,s],([v,b],[E])=>{var O;v&&b?(v!==E&&p(),m()):p(),(O=r.value)==null||O.render()}),et(f,()=>{var v;(v=r.value)==null||v.render()});function m(){const v=n.getLayerFromCache(o.value);!v||(c=v.on(_d.default.PRERENDER,function(b){var R;const E=b.context,O=(R=r.value)==null?void 0:R.getSize(),N=f.value+l.value/2,M=Vo.getRenderPixel(b,[0,0]),P=Vo.getRenderPixel(b,[N,0]),I=Vo.getRenderPixel(b,[0,O[1]]),C=Vo.getRenderPixel(b,[N,O[0]]);E.save(),E.beginPath(),E.moveTo(M[0],M[1]),E.lineTo(I[0],I[1]),E.lineTo(C[0],C[1]),E.lineTo(P[0],P[1]),E.closePath(),E.clip()}),h=v.on(_d.default.POSTRENDER,function(b){b.context.restore()}))}function p(){Mb.unByKey([c,h])}function g(v){var O;const b=(O=r.value)==null?void 0:O.getSize(),E=(v-u())/b[0];e.setRatio(E)}function y(){e.toggleSlider()}return yn(()=>{var v,b;d=(b=(v=r.value)==null?void 0:v.getTargetElement())==null?void 0:b.closest(".map-wrapper")}),ui(()=>{p()}),(v,b)=>x(o)&&x(s)?(k(),Ge(L3,{key:0,ref_key:"splitterElement",ref:i,sliderActive:x(s),sliderRatio:x(a),sliderTopLayer:x(o),sliderOffset:f.value,containerOffset:u(),onMoveSplitBar:g,onEscSplitBar:y},null,8,["sliderActive","sliderRatio","sliderTopLayer","sliderOffset","containerOffset"])):F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/slider/slider-comparator.vue"]]),nc="-",sd=",",C_="--";class P3{constructor(){ut(this,"layersOpacitiesToNumbersV2",e=>this.layersOpacitiesToNumbers(e,sd))}layerTimesToStrings(e){return e?e.split(C_):[]}layerIdsToLayers(e){const n=Ni(),r=In();return(e?e.split(nc):[]).map(s=>{const a=wo.isRemoteLayer(s)?pk(s):n.findById(parseInt(s,10));return a?r.initLayer(a):void 0})}layerNamesToLayersV2(e){const n=Ni(),r=In();return(e?e.split(sd):[]).map(s=>{const a=n.findByName(s);return a?r.initLayer(a):void 0})}layersOpacitiesToNumbers(e,n=nc){return YL(e,n)}layersVisibilitiesToBooleansV2(e){return XL(e,sd)}layersToLayerIds(e){return(e==null?void 0:e.map(n=>n.id).join(nc))||""}layersToLayerOpacities(e){return(e==null?void 0:e.map(n=>{var r;return(r=n.opacity)!=null?r:1}).join(nc))||""}layersToLayerTimes(e){return(e==null?void 0:e.map(n=>{var r;return(r=In().getLayerCurrentTime(n))!=null?r:""}).join(C_))||""}bgLayerNameToBgLayer(e){const n=Ni();return e?n.findBgLayerByName(e):null}bgLayerToBgLayerName(e){return(e==null?void 0:e.name)||ku.name}}const Sn=new P3,k3="basemap_2015_global",A3="orthogr_2013_global",D3={webbasemap:"basemap_2015_global","pixelmaps-color":"topogr_global","pixelmaps-gray":"topo_bw_jpeg",streets:"streets_jpeg",voidlayer:"blank"};class I3{bootstrap(){const e=Ht();let n;n=gn(()=>{e.bgLayers.length>0&&(this.restore(),this.persist(),n&&n())})}persist(){const e=ht(),{bgLayer:n}=Ue(e);et(n,(r,i)=>{i!==r&&Ce.setValue(l0,r,Sn.bgLayerToBgLayerName)},{immediate:!0})}restore(){const{setMapBackground:e}=Eh(),n=this.getBgLayerFromStorage();e(n)}getBgLayerFromStorage(){const e=Ce.getInitialVersion(),n=Ce.getValue(l0);return n?e===2?this.getBgLayerFromStorageV2(n):Sn.bgLayerNameToBgLayer(n):Sn.bgLayerNameToBgLayer(k3)}getBgLayerFromStorageV2(e){const n=Ce.getValue(p0,na);let r="";return e?r=D3[e]:n===0&&(r=A3),Sn.bgLayerNameToBgLayer(r)}}const L_=new I3;class R3{bootstrap(){const e=Ht();let n;n=gn(()=>{e.themes&&(this.restore(),this.persist(),n&&n())})}persist(){const e=ht(),{layers:n}=Ue(e);et(n,(r,i)=>{i!==r&&(Ce.setValue(o0,r,Sn.layersToLayerIds),Ce.setValue(u0,r,Sn.layersToLayerOpacities),Ce.setValue(c0,r,Sn.layersToLayerTimes))},{immediate:!0})}restore(){const e=Ce.getInitialVersion(),n=ht(),r=Ce.getValue(o0,e===2?Sn.layerNamesToLayersV2:Sn.layerIdsToLayers);this.restoreLayersOpacities(r,e),this.restoreLayersTimes(r),e===2&&(Ce.removeItem(p0),Ce.removeItem(QL),Ce.removeItem(g0),Ce.removeItem(y0)),n.addLayers(...(r==null?void 0:r.filter(i=>i))||[])}restoreLayersOpacities(e,n){const r=n===2?this.getOpacitiesFromStorageV2():this.getOpacitiesFromStorage();r.length&&(e==null||e.forEach((i,s)=>{var a;return i&&(i.opacity=(a=r[s])!=null?a:1)}))}restoreLayersTimes(e){const n=Ce.getValue(c0,Sn.layerTimesToStrings);n.length&&(e==null||e.forEach((r,i)=>r&&n[i]&&this.restoreLayerTime(r,n[i])))}restoreLayerTime(e,n){const r=n.split("/");e.currentTimeMinValue=r[0],e.currentTimeMaxValue=r[1]}getOpacitiesFromStorage(){return Ce.getValue(u0,Sn.layersOpacitiesToNumbers)}getOpacitiesFromStorageV2(){const e=Ce.getValue(g0,Sn.layersOpacitiesToNumbersV2),n=Ce.getValue(y0,Sn.layersVisibilitiesToBooleansV2);return e.map((r,i)=>n[i]?r:0)}}const P_=new R3;class $3{themeToThemeName(e){return(e==null?void 0:e.name)||""}}const F3=new $3;class V3{bootstrap(){this.restore();let e;e=gn(()=>{this.persist(),e&&e()})}persist(){const e=Ht();et(()=>e.theme,(n,r)=>{r!==n&&n&&Ce.setValue(bo,n,F3.themeToThemeName)},{immediate:!0})}restore(){const e=Ce.getValue(bo);if(e){const{setTheme:n}=Ht();n(e)}}}const k_=new V3;class j3{bootstrapLayersOpen(){this.restoreLayersOpen();let e;e=gn(()=>{this.persistLayersOpen(),e&&e()})}persistLayersOpen(){const e=vt(),{layersOpen:n}=Ue(e);et(n,(r,i)=>{i!==r&&Ce.setValue(Ou,r)},{immediate:!0})}restoreLayersOpen(){const e=Ce.getValue(Ou)!=="false",{setLayersOpen:n}=vt();n(e)}}const A_=new j3;class G3{bootstrap(){this.restore();let e;e=gn(()=>{this.persist(),e&&e()})}persist(){}restore(){const e=Ce.getValue(ZL);vt().setMapId(e)}}const D_=new G3,U3=ge(he({__name:"simple-style-item",props:{styleName:{type:String,required:!0},colors:{type:Array,required:!0}},setup(t){const e=t;return(n,r)=>(k(!0),G(je,null,On(e.colors,(i,s)=>(k(),G("span",{key:`${n.styleName}-${s}`,class:"grow m-px",style:ti(`background-color: ${i}`)}," \xA0 ",4))),128))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/simple-style-item.vue"]]),B3={class:"text-white border-2 p-[10px] m-[10px]"},W3={class:"text-center mb-3"},q3=["title"],H3={class:"text-white"},z3=["title","onClick"],Y3={class:"flex"},X3=ge(he({__name:"simple-style-selector",setup(t){const{t:e}=Ze(),n=Jn(),r=ds(),{bgStyle:i}=Ue(n),s=Zn().simple_styles.road,a=Se(s);et(i,l=>a.value=r.checkSelection(l||[],s),{immediate:!0});function o(l){n.setSimpleStyle(l)}return(l,u)=>(k(),G("div",B3,[F(" TODO: create clean container for simple and advanced style editors "),L("h5",W3,oe(x(e)("Select a style",{ns:"client"})),1),(k(!0),G(je,null,On(a.value,f=>(k(),G("div",{key:f.unlocalized_label,title:x(e)(f.unlocalized_label,{ns:"client"}),class:Ae(`${f.selected?"border-dotted":"border-hidden"} border-2 p-px`)},[L("span",H3,oe(x(e)(f.unlocalized_label,{ns:"client"}))+" : ",1),L("button",{title:x(e)("Select style: {{styleName}}",{styleName:x(e)(f.unlocalized_label)}),onClick:c=>o(f),class:"w-full"},[L("span",Y3,[se(U3,{colors:f.colors,"style-name":f.unlocalized_label},null,8,["colors","style-name"])])],8,z3)],10,q3))),128))]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/simple-style-selector.vue"]]);function K3(t){const e=Z3(t);return!e||!e.medium_style_class?[]:Zn().medium_default_styles[e.medium_style_class]}function Z3(t){return Zn().bg_layers.find(e=>e.id==(t==null?void 0:t.id))}const J3={class:"flex w-full items-center"},Q3={for:"colorId",class:"w-40 m-0 font-medium"},eR={class:"grow"},tR=["value"],nR=["checked","aria-label"],rR=ge(he({__name:"medium-style-item",props:{style:{type:Object,required:!0},colorEditable:{type:Boolean,required:!0}},emits:["changeStyle"],setup(t,{emit:e}){const{t:n}=Ze(),r=t,i=e;function s(o){if(o.target){const l={...r.style,color:o.target.value};i("changeStyle",l)}}function a(o){if(o){const l={...r.style,visible:o.target.checked};i("changeStyle",l)}}return(o,l)=>(k(),G("div",J3,[L("label",Q3,oe(x(n)(o.style.label)),1),L("div",eR,[o.colorEditable&&r.style.color?(k(),G("input",{key:0,id:"colorId",type:"color",class:"w-11 h-5 py-[1px] px-[2px]",value:r.style.color,onInput:s},null,40,tR)):F("v-if",!0)]),L("input",{type:"checkbox",class:"flex-none mr-3",checked:r.style.visible,onChange:a,"aria-label":x(n)("Show or hide {{ thematicName }}",{thematicName:r.style.label})},null,40,nR)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/medium-style-item.vue"]]),iR={class:"text-white border-2 p-[10px] m-[10px]"},sR={class:"text-center mb-3"},aR=ge(he({__name:"medium-style-selector",props:{layer:{type:Object,required:!0}},setup(t){const e=["basemap_2015_global"],n=Jn(),{bgStyle:r}=Ue(n),{t:i}=Ze(),s=t,a=de(()=>e.includes(s.layer.name)),o=de(()=>r.value||K3(s.layer));function l(u,f){r.value=o.value.map((c,h)=>h===u?f:c),n.disableExpertStyle()}return(u,f)=>(k(),G("div",iR,[L("h5",sR,oe(a.value?x(i)("Select a colour for every theme"):x(i)("Activate categories")),1),(k(!0),G(je,null,On(o.value,(c,h)=>(k(),Ge(rR,{key:c.label,style:ti(c),onChangeStyle:d=>l(h,d),colorEditable:a.value},null,8,["style","onChangeStyle","colorEditable"]))),128))]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/medium-style-selector.vue"]]);var I_={exports:{}};(function(t,e){(function(n,r){r()})(Sr,function(){function n(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,f,c){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,f,c)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Sr=="object"&&Sr.global===Sr?Sr:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,f,c){var h=a.URL||a.webkitURL,d=document.createElement("a");f=f||u.name||"download",d.download=f,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?s(d):i(d.href)?r(u,f,c):s(d,d.target="_blank")):(d.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,c){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,c),f);else if(i(u))r(u,f,c);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){s(h)})}}:function(u,f,c,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return r(u,f,c);var d=u.type==="application/octet-stream",m=/constructor/i.test(a.HTMLElement)||a.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&m||o)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var b=g.result;b=p?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=b:location=b,h=null},g.readAsDataURL(u)}else{var y=a.URL||a.webkitURL,v=y.createObjectURL(u);h?h.location=v:location.href=v,h=null,setTimeout(function(){y.revokeObjectURL(v)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(I_);const oR={class:"text-white border-2 p-[10px] m-[10px] flex flex-col"},lR={class:"text-center mb-3"},uR={class:"flex flex-row justify-center"},cR={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium text-white"},fR={class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] text-sm"},hR={class:"'block z-[5] w-full h-full cursor-pointer after:absolute after:pt-[15px] after:px-[15px] after:w-full after:text-center after:content-upload",for:"uploadMvtStyle"},dR={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium"},mR=["href"],pR=ge(he({__name:"expert-style-selector",setup(t){const e=ht(),n=Jn(),r=ds(),{appliedStyle:i}=Ue(n),{t:s}=Ze();function a(){const u=i.value,f=JSON.stringify(u),c=new Blob([f],{type:"text/plain;charset=utf-8"}),h="styles.json";I_.exports.saveAs(c,h)}function o(u){const f=u.target.files;if((f==null?void 0:f.length)!==1)return;const c=f[0];new File([],"./text.txt").text().then(d=>console.log(d)),c.type==="application/json"&&(c.text().then(d=>{n.enableExpertStyle(),i.value=JSON.parse(d)}),u.target.value="")}function l(){return n.styleSerial===null?r.getDefaultMapBoxStyleUrl(r.getVectorId(e.bgLayer)):`${n.registerUrls.get("get")}?id=${n.styleSerial}`}return(u,f)=>(k(),G("div",oR,[L("h5",lR,oe(x(s)("Lancer \xE9diteur externe ou importer json")),1),L("div",uR,[L("a",{href:"#",class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] z-5 text-sm after:absolute after:left-[20px] after:top-[10px] after:z-4 after:w-[3.6em] after:text-center after:content-download",onClick:f[0]||(f[0]=c=>a())},[L("span",cR,oe(x(s)("Download style")),1)]),L("div",fR,[L("label",hR,[L("span",dR,oe(x(s)("Upload style")),1)]),L("input",{class:"invisible",type:"file",name:"uploadMvtStyle",id:"uploadMvtStyle",onChange:o},null,32)])]),L("a",{href:`https://maputnik.github.io/editor/?style=${l()}`,target:"_blank",class:"lux-btn text-center"},oe(x(s)("Open Maputnik editor")),9,mR)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/expert-style-selector.vue"]]),gR={key:0},yR={key:0,class:"mb-px"},vR={key:1,class:"mb-px"},_R={key:2,class:"mb-px"},R_=ge(he({__name:"style-selector",setup(t){const{t:e}=Ze(),n=ht(),r=vt(),i=Jn(),{bgStyle:s,isExpertStyleActive:a}=Ue(i),{bgLayer:o}=Ue(n),l=ds(),u=de(()=>l.getStyleCapabilitiesFromLayer(o.value));et(o,h=>{l.isLayerStyleEditable(h)||r.closeStyleEditorPanel()});let f=Se(void 0);function c(){i.setStyle(null)}return(h,d)=>u.value.isEditable?(k(),G("div",gR,[u.value.hasSimpleStyle?(k(),G("div",yR,[se(Au,{title:x(e)("Simple"),expanded:x(f)==="simpleStyle",onTogglePanel:d[0]||(d[0]=()=>Ye(f)?f.value=x(f)==="simpleStyle"?void 0:"simpleStyle":f=x(f)==="simpleStyle"?void 0:"simpleStyle")},{default:oi(()=>[se(X3)]),_:1},8,["title","expanded"])])):F("v-if",!0),u.value.hasAdvancedStyle?(k(),G("div",vR,[se(Au,{title:x(e)("Medium"),expanded:x(f)==="mediumStyle",onTogglePanel:d[1]||(d[1]=()=>Ye(f)?f.value=x(f)==="mediumStyle"?void 0:"mediumStyle":f=x(f)==="mediumStyle"?void 0:"mediumStyle")},{default:oi(()=>[x(o)?(k(),Ge(aR,{key:0,layer:x(o)},null,8,["layer"])):F("v-if",!0)]),_:1},8,["title","expanded"])])):F("v-if",!0),u.value.hasExpertStyle?(k(),G("div",_R,[se(Au,{title:x(e)("Expert (style.json)"),expanded:x(f)==="advancedStyle",onTogglePanel:d[2]||(d[2]=()=>Ye(f)?f.value=x(f)==="advancedStyle"?void 0:"advancedStyle":f=x(f)==="advancedStyle"?void 0:"advancedStyle")},{default:oi(()=>[x(o)?(k(),Ge(pR,{key:0,layer:x(o)},null,8,["layer"])):F("v-if",!0)]),_:1},8,["title","expanded"])])):F("v-if",!0),x(s)||x(a)?(k(),G("button",{key:3,onClick:c,class:"lux-btn my-2"},oe(x(e)("Reset style",{ns:"client"})),1)):F("v-if",!0)])):F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/style-selector.vue"]]);function ad(t){return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function $_(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":ad(XMLHttpRequest))==="object"}function bR(t){return!!t&&typeof t.then=="function"}function ER(t){return bR(t)?t:Promise.resolve(t)}function SR(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rc={exports:{}},ic={exports:{}},F_;function wR(){return F_||(F_=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Sr<"u"&&Sr,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(a){var o=typeof s<"u"&&s||typeof self<"u"&&self||typeof o<"u"&&o,l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(T){return T&&DataView.prototype.isPrototypeOf(T)}if(l.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(T){return T&&f.indexOf(Object.prototype.toString.call(T))>-1};function h(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(T)||T==="")throw new TypeError('Invalid character in header field name: "'+T+'"');return T.toLowerCase()}function d(T){return typeof T!="string"&&(T=String(T)),T}function m(T){var $={next:function(){var z=T.shift();return{done:z===void 0,value:z}}};return l.iterable&&($[Symbol.iterator]=function(){return $}),$}function p(T){this.map={},T instanceof p?T.forEach(function($,z){this.append(z,$)},this):Array.isArray(T)?T.forEach(function($){this.append($[0],$[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function($){this.append($,T[$])},this)}p.prototype.append=function(T,$){T=h(T),$=d($);var z=this.map[T];this.map[T]=z?z+", "+$:$},p.prototype.delete=function(T){delete this.map[h(T)]},p.prototype.get=function(T){return T=h(T),this.has(T)?this.map[T]:null},p.prototype.has=function(T){return this.map.hasOwnProperty(h(T))},p.prototype.set=function(T,$){this.map[h(T)]=d($)},p.prototype.forEach=function(T,$){for(var z in this.map)this.map.hasOwnProperty(z)&&T.call($,this.map[z],z,this)},p.prototype.keys=function(){var T=[];return this.forEach(function($,z){T.push(z)}),m(T)},p.prototype.values=function(){var T=[];return this.forEach(function($){T.push($)}),m(T)},p.prototype.entries=function(){var T=[];return this.forEach(function($,z){T.push([z,$])}),m(T)},l.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function g(T){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}function y(T){return new Promise(function($,z){T.onload=function(){$(T.result)},T.onerror=function(){z(T.error)}})}function v(T){var $=new FileReader,z=y($);return $.readAsArrayBuffer(T),z}function b(T){var $=new FileReader,z=y($);return $.readAsText(T),z}function E(T){for(var $=new Uint8Array(T),z=new Array($.length),K=0;K<$.length;K++)z[K]=String.fromCharCode($[K]);return z.join("")}function O(T){if(T.slice)return T.slice(0);var $=new Uint8Array(T.byteLength);return $.set(new Uint8Array(T)),$.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(T){this.bodyUsed=this.bodyUsed,this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:l.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:l.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():l.arrayBuffer&&l.blob&&u(T)?(this._bodyArrayBuffer=O(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||c(T))?this._bodyArrayBuffer=O(T):this._bodyText=T=Object.prototype.toString.call(T):this._bodyText="",this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var T=g(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var T=g(this);return T||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var T=g(this);if(T)return T;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function P(T){var $=T.toUpperCase();return M.indexOf($)>-1?$:T}function I(T,$){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$=$||{};var z=$.body;if(T instanceof I){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,$.headers||(this.headers=new p(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!z&&T._bodyInit!=null&&(z=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new p($.headers)),this.method=P($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(z),(this.method==="GET"||this.method==="HEAD")&&($.cache==="no-store"||$.cache==="no-cache")){var K=/([?&])_=[^&]*/;if(K.test(this.url))this.url=this.url.replace(K,"$1_="+new Date().getTime());else{var Pe=/\?/;this.url+=(Pe.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function C(T){var $=new FormData;return T.trim().split("&").forEach(function(z){if(z){var K=z.split("="),Pe=K.shift().replace(/\+/g," "),ke=K.join("=").replace(/\+/g," ");$.append(decodeURIComponent(Pe),decodeURIComponent(ke))}}),$}function R(T){var $=new p,z=T.replace(/\r?\n[\t ]+/g," ");return z.split("\r").map(function(K){return K.indexOf(`
`)===0?K.substr(1,K.length):K}).forEach(function(K){var Pe=K.split(":"),ke=Pe.shift().trim();if(ke){var _t=Pe.join(":").trim();$.append(ke,_t)}}),$}N.call(I.prototype);function D(T,$){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new p($.headers),this.url=$.url||"",this._initBody(T)}N.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},D.error=function(){var T=new D(null,{status:0,statusText:""});return T.type="error",T};var Q=[301,302,303,307,308];D.redirect=function(T,$){if(Q.indexOf($)===-1)throw new RangeError("Invalid status code");return new D(null,{status:$,headers:{location:T}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function($,z){this.message=$,this.name=z;var K=Error($);this.stack=K.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function be(T,$){return new Promise(function(z,K){var Pe=new I(T,$);if(Pe.signal&&Pe.signal.aborted)return K(new a.DOMException("Aborted","AbortError"));var ke=new XMLHttpRequest;function _t(){ke.abort()}ke.onload=function(){var Ne={status:ke.status,statusText:ke.statusText,headers:R(ke.getAllResponseHeaders()||"")};Ne.url="responseURL"in ke?ke.responseURL:Ne.headers.get("X-Request-URL");var Rt="response"in ke?ke.response:ke.responseText;setTimeout(function(){z(new D(Rt,Ne))},0)},ke.onerror=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},ke.ontimeout=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},ke.onabort=function(){setTimeout(function(){K(new a.DOMException("Aborted","AbortError"))},0)};function Xt(Ne){try{return Ne===""&&o.location.href?o.location.href:Ne}catch{return Ne}}ke.open(Pe.method,Xt(Pe.url),!0),Pe.credentials==="include"?ke.withCredentials=!0:Pe.credentials==="omit"&&(ke.withCredentials=!1),"responseType"in ke&&(l.blob?ke.responseType="blob":l.arrayBuffer&&Pe.headers.get("Content-Type")&&Pe.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(ke.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof p)?Object.getOwnPropertyNames($.headers).forEach(function(Ne){ke.setRequestHeader(Ne,d($.headers[Ne]))}):Pe.headers.forEach(function(Ne,Rt){ke.setRequestHeader(Rt,Ne)}),Pe.signal&&(Pe.signal.addEventListener("abort",_t),ke.onreadystatechange=function(){ke.readyState===4&&Pe.signal.removeEventListener("abort",_t)}),ke.send(typeof Pe._bodyInit>"u"?null:Pe._bodyInit)})}return be.polyfill=!0,o.fetch||(o.fetch=be,o.Headers=p,o.Request=I,o.Response=D),a.Headers=p,a.Request=I,a.Response=D,a.fetch=be,a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(ic,ic.exports)),ic.exports}(function(t,e){var n;if(typeof fetch=="function"&&(typeof Sr<"u"&&Sr.fetch?n=Sr.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof SR<"u"&&typeof window>"u"){var r=n||wR();r.default&&(r=r.default),e.default=r,t.exports=e.default}})(rc,rc.exports);const V_=rc.exports,j_=Lb({__proto__:null,default:V_},[rc.exports]);function G_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(n),!0).forEach(function(r){xR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xR(t,e,n){return e=OR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OR(t){var e=MR(t,"string");return Es(e)=="symbol"?e:String(e)}function MR(t,e){if(Es(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Es(t){return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}var Xr;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Xr=global.fetch:typeof window<"u"&&window.fetch?Xr=window.fetch:Xr=fetch);var Io;$_()&&(typeof global<"u"&&global.XMLHttpRequest?Io=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Io=window.XMLHttpRequest));var sc;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?sc=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(sc=window.ActiveXObject)),!Xr&&j_&&!Io&&!sc&&(Xr=V_||j_),typeof Xr!="function"&&(Xr=void 0);var od=function(e,n){if(n&&Es(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},B_=function(e,n,r,i){var s=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(u){r(null,{status:l.status,data:u})}).catch(r)};if(i){var a=i(e,n);if(a instanceof Promise){a.then(s).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(s).catch(r):Xr(e,n).then(s).catch(r)},W_=!1,TR=function(e,n,r,i){e.queryStringParams&&(n=od(n,e.queryStringParams));var s=U_({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(s["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,o=U_({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:s},W_?{}:a),l=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{B_(n,o,i,l)}catch(u){if(!a||Object.keys(a).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(a).forEach(function(f){delete o[f]}),B_(n,o,i,l),W_=!0}catch(f){i(f)}}},NR=function(e,n,r,i){r&&Es(r)==="object"&&(r=od("",r).slice(1)),e.queryStringParams&&(n=od(n,e.queryStringParams));try{var s;Io?s=new Io:s=new sc("MSXML2.XMLHTTP.3.0"),s.open(r?"POST":"GET",n,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var o in a)s.setRequestHeader(o,a[o]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(l){console&&console.log(l)}},CR=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Xr&&n.indexOf("file:")!==0)return TR(e,n,r,i);if($_()||typeof ActiveXObject=="function")return NR(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function Ro(t){return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(n),!0).forEach(function(r){z_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y_(r.key),r)}}function PR(t,e,n){return e&&H_(t.prototype,e),n&&H_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function z_(t,e,n){return e=Y_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y_(t){var e=kR(t,"string");return Ro(e)=="symbol"?e:String(e)}function kR(t,e){if(Ro(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ro(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AR=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return z_({},r,i||"")},parseLoadPayload:function(n,r){},request:CR,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},ud=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};LR(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return PR(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=ld(ld(ld({},AR()),this.options||{}),i),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,a){var o=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=ER(l),l.then(function(u){if(!u)return a(null,{});var f=o.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});o.loadUrl(f,a,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var a=this,o=typeof i=="string"?[i]:i,l=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(o,l);this.options.request(this.options,n,u,function(f,c){if(c&&(c.status>=500&&c.status<600||!c.status))return r("failed loading "+n+"; status code: "+c.status,!0);if(c&&c.status>=400&&c.status<500)return r("failed loading "+n+"; status code: "+c.status,!1);if(!c&&f&&f.message&&f.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+f.message,!0);if(f)return r(f,!1);var h,d;try{typeof c.data=="string"?h=a.options.parse(c.data,i,s):h=c.data}catch{d="failed parsing "+n+" to json"}if(d)return r(d,!1);r(null,h)})}},{key:"create",value:function(n,r,i,s,a){var o=this;if(!!this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,s),u=0,f=[],c=[];n.forEach(function(h){var d=o.options.addPath;typeof o.options.addPath=="function"&&(d=o.options.addPath(h,r));var m=o.services.interpolator.interpolate(d,{lng:h,ns:r});o.options.request(o.options,m,l,function(p,g){u+=1,f.push(p),c.push(g),u===n.length&&typeof a=="function"&&a(f,c)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,a=r.logger,o=i.language;if(!(o&&o.toLowerCase()==="cimode")){var l=[],u=function(c){var h=s.toResolveHierarchy(c);h.forEach(function(d){l.indexOf(d)<0&&l.push(d)})};u(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return u(f)}),l.forEach(function(f){n.allOptions.ns.forEach(function(c){i.read(f,c,"read",null,null,function(h,d){h&&a.warn("loading namespace ".concat(c," for language ").concat(f," failed"),h),!h&&d&&a.log("loaded namespace ".concat(c," for language ").concat(f),d),i.loaded("".concat(f,"|").concat(c),h,d)})})})}}}]),t}();ud.type="backend";function X_(t,e,n){n(t,e)&&t instanceof Ub.default&&t.getLayers().forEach(i=>{X_(i,[...e,t],n)})}const DR={class:"h-screen flex flex-col overflow-hidden"},IR={class:"flex grow"},RR={key:0,class:"w-full sm:w-80 bg-secondary z-10"},$R={key:1,class:"w-80 bg-primary"},FR={class:"map-wrapper grow bg-blue-100 relative"},VR={class:"absolute right-1 top-16"},K_=ge(he({__name:"App",setup(t){const e=vt();D_.bootstrap(),P_.bootstrap(),k_.bootstrap(),A_.bootstrapLayersOpen(),vh.bootstrapStyle(),L_.bootstrap();const{layersOpen:n,styleEditorOpen:r}=Ue(e);et(n,()=>setTimeout(()=>{i()},50)),yn(()=>window.addEventListener("resize",i)),ui(()=>window.removeEventListener("resize",i));function i(){const s=pr().getOlMap();s.updateSize(),X_(s.getLayerGroup(),[],a=>(a instanceof _h&&a.getMapLibreMap().resize(),!0))}return(s,a)=>(k(),G("div",DR,[se(K0),L("main",IR,[F(" Layer panel "),x(n)?(k(),G("div",RR,[se(M_)])):F("v-if",!0),F(" Style editor "),x(r)?(k(),G("div",$R,[se(R_)])):F("v-if",!0),F(" Map container and slider comparator "),L("div",FR,[se(O0,{v4_standalone:!0}),se(N_,{class:"absolute top-0"}),se(q0),se(Y0)]),F(" Background selector "),L("div",VR,[se(T0)])]),se(Z0,{class:"fixed bottom-5 sm:static z-20"}),se(Qg)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/App.vue"]]);WN(),it.use(ud),it.init({lng:"fr",debug:!1,defaultNS:"client",supportedLngs:["de","en","fr","lb"],ns:["client","legends","server","tooltips"],fallbackLng:"fr",backend:{loadPath:"/static-ngeo/web-components/assets/locales/{{ns}}.{{lng}}.json"},nsSeparator:"|"});const ac=JS(K_);ac.use(sg()),ac.use(My,{i18next:it}),ac.use(qp);const jR=(t={},e=null)=>Jg({setup:()=>{const n=Pa();Object.assign(n.appContext,e._context),Object.assign(n.provides,e._context.provides)},render:()=>pp(t)},{shadowRoot:!1});ee.AlertNotifications=Qg,ee.App=K_,ee.BackgroundSelector=T0,ee.DropdownList=$f,ee.FooterBar=Z0,ee.HeaderBar=K0,ee.I18NextVue=My,ee.LayerMetadata=Y0,ee.LayerPanel=M_,ee.MapContainer=O0,ee.MapLibreLayer=_h,ee.RemoteLayers=q0,ee.SliderComparator=N_,ee.StyleSelector=R_,ee.VueDOMPurifyHTML=qp,ee.app=ac,ee.backend=ud,ee.createElementInstance=jR,ee.createPinia=sg,ee.defineCustomElement=Jg,ee.i18next=it,ee.proxyUrlHelper=ms,ee.statePersistorBgLayerService=L_,ee.statePersistorLayersOpenService=A_,ee.statePersistorLayersService=P_,ee.statePersistorMyMapService=D_,ee.statePersistorStyleService=vh,ee.statePersistorThemeService=k_,ee.storeToRefs=Ue,ee.themeSelectorService=X0,ee.useAppStore=vt,ee.useBackgroundLayer=Eh,ee.useLayers=In,ee.useMap=pr,ee.useMapStore=ht,ee.useMvtStyles=ds,ee.useOpenLayers=bh,ee.useStyleStore=Jn,ee.useThemeStore=Ht,ee.useThemes=Ni,ee.watch=et,Object.defineProperties(ee,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
