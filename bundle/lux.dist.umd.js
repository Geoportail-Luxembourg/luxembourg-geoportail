(function(ee,St){typeof exports=="object"&&typeof module<"u"?St(exports,require("ol/proj"),require("ol/proj/proj4"),require("ol/Map"),require("ol/View"),require("ol/layer/Image"),require("ol/source/ImageWMS"),require("ol/layer/Tile"),require("ol/source/WMTS"),require("ol/tilegrid/WMTS"),require("ol/extent"),require("ol/layer/Layer"),require("ol/math"),require("ol/proj.js"),require("mapbox-gl"),require("ol/events"),require("ol/ObjectEventType"),require("ol/css"),require("ol/control/Control"),require("ol/control/FullScreen"),require("ol/control/Zoom"),require("ol/control/ZoomToExtent"),require("ol/format/WMTSCapabilities.js"),require("ol/render"),require("ol/Observable"),require("ol/render/EventType"),require("ol/layer/Group.js")):typeof define=="function"&&define.amd?define(["exports","ol/proj","ol/proj/proj4","ol/Map","ol/View","ol/layer/Image","ol/source/ImageWMS","ol/layer/Tile","ol/source/WMTS","ol/tilegrid/WMTS","ol/extent","ol/layer/Layer","ol/math","ol/proj.js","mapbox-gl","ol/events","ol/ObjectEventType","ol/css","ol/control/Control","ol/control/FullScreen","ol/control/Zoom","ol/control/ZoomToExtent","ol/format/WMTSCapabilities.js","ol/render","ol/Observable","ol/render/EventType","ol/layer/Group.js"],St):(ee=typeof globalThis<"u"?globalThis:ee||self,St(ee["luxembourg-geoportail"]={},ee.proj,ee.proj4$1,ee.OlMap,ee.OlView,ee.ImageLayer,ee.ImageWMS,ee.TileLayer,ee.WmtsSource,ee.WmtsTileGrid,ee.extent,ee.Layer,ee.math,ee.proj_js,ee.mapboxgl,ee.olEvents,ee.ObjectEventType,ee.css$1,ee.Control,ee.FullScreen,ee.Zoom,ee.OlControlZoomToExtent,ee.WMTSCapabilities,ee.render$1,ee.Observable,ee.EventType,ee.olLayerGroup))})(this,function(ee,St,zi,cE,fE,hE,dE,pE,mE,gE,yE,vE,_E,bE,SE,EE,wE,il,OE,xE,ME,TE,NE,sl,CE,PE,LE){"use strict";var I7=Object.defineProperty;var k7=(ee,St,zi)=>St in ee?I7(ee,St,{enumerable:!0,configurable:!0,writable:!0,value:zi}):ee[St]=zi;var ut=(ee,St,zi)=>(k7(ee,typeof St!="symbol"?St+"":St,zi),zi);const Lt=t=>t&&typeof t=="object"&&"default"in t?t:{default:t};function AE(t){if(t&&t.__esModule)return t;const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:()=>t[r]})}}return e.default=t,Object.freeze(e)}function IE(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const kE=Lt(cE),DE=Lt(fE),RE=Lt(hE),Up=Lt(dE),$E=Lt(pE),Bp=Lt(mE),FE=Lt(gE),jE=Lt(vE),Wp=Lt(SE),qp=AE(EE),VE=Lt(wE),Hp=Lt(OE),GE=Lt(xE),UE=Lt(ME),BE=Lt(TE),WE=Lt(NE),zp=Lt(PE),qE=Lt(LE);/**
* @vue/shared v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Rn(t,e){const r=new Set(t.split(","));return e?n=>r.has(n.toLowerCase()):n=>r.has(n)}const Xe=process.env.NODE_ENV!=="production"?Object.freeze({}):{},ks=process.env.NODE_ENV!=="production"?Object.freeze([]):[],mt=()=>{},HE=()=>!1,Ta=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),al=t=>t.startsWith("onUpdate:"),Qe=Object.assign,Wc=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},zE=Object.prototype.hasOwnProperty,ke=(t,e)=>zE.call(t,e),ue=Array.isArray,Yi=t=>ol(t)==="[object Map]",Yp=t=>ol(t)==="[object Set]",me=t=>typeof t=="function",nt=t=>typeof t=="string",Ki=t=>typeof t=="symbol",je=t=>t!==null&&typeof t=="object",qc=t=>(je(t)||me(t))&&me(t.then)&&me(t.catch),Kp=Object.prototype.toString,ol=t=>Kp.call(t),Hc=t=>ol(t).slice(8,-1),Xp=t=>ol(t)==="[object Object]",zc=t=>nt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Na=Rn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),YE=Rn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),ll=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},KE=/-(\w)/g,gr=ll(t=>t.replace(KE,(e,r)=>r?r.toUpperCase():"")),XE=/\B([A-Z])/g,ir=ll(t=>t.replace(XE,"-$1").toLowerCase()),Xi=ll(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zi=ll(t=>t?`on${Xi(t)}`:""),oi=(t,e)=>!Object.is(t,e),Ca=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Zp=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},ZE=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Yc=t=>{const e=nt(t)?Number(t):NaN;return isNaN(e)?t:e};let Jp;const ul=()=>Jp||(Jp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function li(t){if(ue(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=nt(n)?tw(n):li(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(nt(t)||je(t))return t}const JE=/;(?![^(]*\))/g,QE=/:([^]+)/,ew=/\/\*[^]*?\*\//g;function tw(t){const e={};return t.replace(ew,"").split(JE).forEach(r=>{if(r){const n=r.split(QE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ie(t){let e="";if(nt(t))e=t;else if(ue(t))for(let r=0;r<t.length;r++){const n=Ie(t[r]);n&&(e+=n+" ")}else if(je(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const rw="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",nw="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",iw="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",sw=Rn(rw),aw=Rn(nw),ow=Rn(iw),lw=Rn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Qp(t){return!!t||t===""}const oe=t=>nt(t)?t:t==null?"":ue(t)||je(t)&&(t.toString===Kp||!me(t.toString))?JSON.stringify(t,em,2):String(t),em=(t,e)=>e&&e.__v_isRef?em(t,e.value):Yi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],s)=>(r[Kc(n,s)+" =>"]=i,r),{})}:Yp(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Kc(r))}:Ki(e)?Kc(e):je(e)&&!ue(e)&&!Xp(e)?String(e):e,Kc=(t,e="")=>{var r;return Ki(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ln(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let yr;class tm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=yr,!e&&yr&&(this.index=(yr.scopes||(yr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=yr;try{return yr=this,e()}finally{yr=r}}else process.env.NODE_ENV!=="production"&&ln("cannot run an inactive effect scope.")}on(){yr=this}off(){yr=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function rm(t){return new tm(t)}function uw(t,e=yr){e&&e.active&&e.effects.push(t)}function nm(){return yr}function cw(t){yr?yr.cleanups.push(t):process.env.NODE_ENV!=="production"&&ln("onScopeDispose() is called when there is no active effect scope to be associated with.")}let Ji;class Xc{constructor(e,r,n,i){this.fn=e,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,uw(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,$n();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(fw(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Fn()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ui,r=Ji;try{return ui=!0,Ji=this,this._runnings++,im(this),this.fn()}finally{sm(this),this._runnings--,Ji=r,ui=e}}stop(){var e;this.active&&(im(this),sm(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function fw(t){return t.value}function im(t){t._trackId++,t._depsLength=0}function sm(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)am(t.deps[e],t);t.deps.length=t._depsLength}}function am(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}let ui=!0,Zc=0;const om=[];function $n(){om.push(ui),ui=!1}function Fn(){const t=om.pop();ui=t===void 0?!0:t}function Jc(){Zc++}function Qc(){for(Zc--;!Zc&&ef.length;)ef.shift()()}function lm(t,e,r){var n;if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&am(i,t),t.deps[t._depsLength++]=e):t._depsLength++,process.env.NODE_ENV!=="production"&&((n=t.onTrack)==null||n.call(t,Qe({effect:t},r)))}}const ef=[];function um(t,e,r){var n;Jc();for(const i of t.keys()){let s;i._dirtyLevel<e&&(s!=null?s:s=t.get(i)===i._trackId)&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s!=null?s:s=t.get(i)===i._trackId)&&(process.env.NODE_ENV!=="production"&&((n=i.onTrigger)==null||n.call(i,Qe({effect:i},r))),i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&ef.push(i.scheduler)))}Qc()}const cm=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},cl=new WeakMap,Qi=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),tf=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");function At(t,e,r){if(ui&&Ji){let n=cl.get(t);n||cl.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=cm(()=>n.delete(r))),lm(Ji,i,process.env.NODE_ENV!=="production"?{target:t,type:e,key:r}:void 0)}}function un(t,e,r,n,i,s){const a=cl.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(r==="length"&&ue(t)){const l=Number(n);a.forEach((u,f)=>{(f==="length"||!Ki(f)&&f>=l)&&o.push(u)})}else switch(r!==void 0&&o.push(a.get(r)),e){case"add":ue(t)?zc(r)&&o.push(a.get("length")):(o.push(a.get(Qi)),Yi(t)&&o.push(a.get(tf)));break;case"delete":ue(t)||(o.push(a.get(Qi)),Yi(t)&&o.push(a.get(tf)));break;case"set":Yi(t)&&o.push(a.get(Qi));break}Jc();for(const l of o)l&&um(l,4,process.env.NODE_ENV!=="production"?{target:t,type:e,key:r,newValue:n,oldValue:i,oldTarget:s}:void 0);Qc()}function hw(t,e){var r;return(r=cl.get(t))==null?void 0:r.get(e)}const dw=Rn("__proto__,__v_isRef,__isVue"),fm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ki)),hm=pw();function pw(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=_e(this);for(let s=0,a=this.length;s<a;s++)At(n,"get",s+"");const i=n[e](...r);return i===-1||i===!1?n[e](...r.map(_e)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){$n(),Jc();const n=_e(this)[e].apply(this,r);return Qc(),Fn(),n}}),t}function mw(t){Ki(t)||(t=String(t));const e=_e(this);return At(e,"has",t),e.hasOwnProperty(t)}class dm{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?Om:wm:s?Em:Sm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=ue(e);if(!i){if(a&&ke(hm,r))return Reflect.get(hm,r,n);if(r==="hasOwnProperty")return mw}const o=Reflect.get(e,r,n);return(Ki(r)?fm.has(r):dw(r))||(i||At(e,"get",r),s)?o:Ye(o)?a&&zc(r)?o:o.value:je(o)?i?xm(o):vl(o):o}}class pm extends dm{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._isShallow){const l=es(s);if(!ts(n)&&!es(n)&&(s=_e(s),n=_e(n)),!ue(e)&&Ye(s)&&!Ye(n))return l?!1:(s.value=n,!0)}const a=ue(e)&&zc(r)?Number(r)<e.length:ke(e,r),o=Reflect.set(e,r,n,i);return e===_e(i)&&(a?oi(n,s)&&un(e,"set",r,n,s):un(e,"add",r,n)),o}deleteProperty(e,r){const n=ke(e,r),i=e[r],s=Reflect.deleteProperty(e,r);return s&&n&&un(e,"delete",r,void 0,i),s}has(e,r){const n=Reflect.has(e,r);return(!Ki(r)||!fm.has(r))&&At(e,"has",r),n}ownKeys(e){return At(e,"iterate",ue(e)?"length":Qi),Reflect.ownKeys(e)}}class mm extends dm{constructor(e=!1){super(!0,e)}set(e,r){return process.env.NODE_ENV!=="production"&&ln(`Set operation on key "${String(r)}" failed: target is readonly.`,e),!0}deleteProperty(e,r){return process.env.NODE_ENV!=="production"&&ln(`Delete operation on key "${String(r)}" failed: target is readonly.`,e),!0}}const gw=new pm,yw=new mm,vw=new pm(!0),_w=new mm(!0),rf=t=>t,fl=t=>Reflect.getPrototypeOf(t);function hl(t,e,r=!1,n=!1){t=t.__v_raw;const i=_e(t),s=_e(e);r||(oi(e,s)&&At(i,"get",e),At(i,"get",s));const{has:a}=fl(i),o=n?rf:r?nf:Pa;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function dl(t,e=!1){const r=this.__v_raw,n=_e(r),i=_e(t);return e||(oi(t,i)&&At(n,"has",t),At(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function pl(t,e=!1){return t=t.__v_raw,!e&&At(_e(t),"iterate",Qi),Reflect.get(t,"size",t)}function gm(t){t=_e(t);const e=_e(this);return fl(e).has.call(e,t)||(e.add(t),un(e,"add",t,t)),this}function ym(t,e){e=_e(e);const r=_e(this),{has:n,get:i}=fl(r);let s=n.call(r,t);s?process.env.NODE_ENV!=="production"&&bm(r,n,t):(t=_e(t),s=n.call(r,t));const a=i.call(r,t);return r.set(t,e),s?oi(e,a)&&un(r,"set",t,e,a):un(r,"add",t,e),this}function vm(t){const e=_e(this),{has:r,get:n}=fl(e);let i=r.call(e,t);i?process.env.NODE_ENV!=="production"&&bm(e,r,t):(t=_e(t),i=r.call(e,t));const s=n?n.call(e,t):void 0,a=e.delete(t);return i&&un(e,"delete",t,void 0,s),a}function _m(){const t=_e(this),e=t.size!==0,r=process.env.NODE_ENV!=="production"?Yi(t)?new Map(t):new Set(t):void 0,n=t.clear();return e&&un(t,"clear",void 0,void 0,r),n}function ml(t,e){return function(n,i){const s=this,a=s.__v_raw,o=_e(a),l=e?rf:t?nf:Pa;return!t&&At(o,"iterate",Qi),a.forEach((u,f)=>n.call(i,l(u),l(f),s))}}function gl(t,e,r){return function(...n){const i=this.__v_raw,s=_e(i),a=Yi(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...n),f=r?rf:e?nf:Pa;return!e&&At(s,"iterate",l?tf:Qi),{next(){const{value:c,done:h}=u.next();return h?{value:c,done:h}:{value:o?[f(c[0]),f(c[1])]:f(c),done:h}},[Symbol.iterator](){return this}}}}function ci(t){return function(...e){if(process.env.NODE_ENV!=="production"){const r=e[0]?`on key "${e[0]}" `:"";ln(`${Xi(t)} operation ${r}failed: target is readonly.`,_e(this))}return t==="delete"?!1:t==="clear"?void 0:this}}function bw(){const t={get(s){return hl(this,s)},get size(){return pl(this)},has:dl,add:gm,set:ym,delete:vm,clear:_m,forEach:ml(!1,!1)},e={get(s){return hl(this,s,!1,!0)},get size(){return pl(this)},has:dl,add:gm,set:ym,delete:vm,clear:_m,forEach:ml(!1,!0)},r={get(s){return hl(this,s,!0)},get size(){return pl(this,!0)},has(s){return dl.call(this,s,!0)},add:ci("add"),set:ci("set"),delete:ci("delete"),clear:ci("clear"),forEach:ml(!0,!1)},n={get(s){return hl(this,s,!0,!0)},get size(){return pl(this,!0)},has(s){return dl.call(this,s,!0)},add:ci("add"),set:ci("set"),delete:ci("delete"),clear:ci("clear"),forEach:ml(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=gl(s,!1,!1),r[s]=gl(s,!0,!1),e[s]=gl(s,!1,!0),n[s]=gl(s,!0,!0)}),[t,r,e,n]}const[Sw,Ew,ww,Ow]=bw();function yl(t,e){const r=e?t?Ow:ww:t?Ew:Sw;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(ke(r,i)&&i in n?r:n,i,s)}const xw={get:yl(!1,!1)},Mw={get:yl(!1,!0)},Tw={get:yl(!0,!1)},Nw={get:yl(!0,!0)};function bm(t,e,r){const n=_e(r);if(n!==r&&e.call(t,n)){const i=Hc(t);ln(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Sm=new WeakMap,Em=new WeakMap,wm=new WeakMap,Om=new WeakMap;function Cw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pw(t){return t.__v_skip||!Object.isExtensible(t)?0:Cw(Hc(t))}function vl(t){return es(t)?t:_l(t,!1,gw,xw,Sm)}function Lw(t){return _l(t,!1,vw,Mw,Em)}function xm(t){return _l(t,!0,yw,Tw,wm)}function jn(t){return _l(t,!0,_w,Nw,Om)}function _l(t,e,r,n,i){if(!je(t))return process.env.NODE_ENV!=="production"&&ln(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=Pw(t);if(a===0)return t;const o=new Proxy(t,a===2?n:r);return i.set(t,o),o}function cn(t){return es(t)?cn(t.__v_raw):!!(t&&t.__v_isReactive)}function es(t){return!!(t&&t.__v_isReadonly)}function ts(t){return!!(t&&t.__v_isShallow)}function bl(t){return t?!!t.__v_raw:!1}function _e(t){const e=t&&t.__v_raw;return e?_e(e):t}function fi(t){return Object.isExtensible(t)&&Zp(t,"__v_skip",!0),t}const Pa=t=>je(t)?vl(t):t,nf=t=>je(t)?xm(t):t,Aw="Computed is still dirty after getter evaluation, likely because a computed is mutating its own dependency in its getter. State mutations in computed getters should be avoided.  Check the docs for more details: https://vuejs.org/guide/essentials/computed.html#getters-should-be-side-effect-free";class Mm{constructor(e,r,n,i){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Xc(()=>e(this._value),()=>Sl(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=_e(this);return(!e._cacheable||e.effect.dirty)&&oi(e._value,e._value=e.effect.run())&&Sl(e,4),Tm(e),e.effect._dirtyLevel>=2&&(process.env.NODE_ENV!=="production"&&this._warnRecursive&&ln(Aw,`

getter: `,this.getter),Sl(e,2)),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Iw(t,e,r=!1){let n,i;const s=me(t);s?(n=t,i=process.env.NODE_ENV!=="production"?()=>{ln("Write operation failed: computed value is readonly")}:mt):(n=t.get,i=t.set);const a=new Mm(n,i,s||!i,r);return process.env.NODE_ENV!=="production"&&e&&!r&&(a.effect.onTrack=e.onTrack,a.effect.onTrigger=e.onTrigger),a}function Tm(t){var e;ui&&Ji&&(t=_e(t),lm(Ji,(e=t.dep)!=null?e:t.dep=cm(()=>t.dep=void 0,t instanceof Mm?t:void 0),process.env.NODE_ENV!=="production"?{target:t,type:"get",key:"value"}:void 0))}function Sl(t,e=4,r){t=_e(t);const n=t.dep;n&&um(n,e,process.env.NODE_ENV!=="production"?{target:t,type:"set",key:"value",newValue:r}:void 0)}function Ye(t){return!!(t&&t.__v_isRef===!0)}function Ee(t){return Nm(t,!1)}function rt(t){return Nm(t,!0)}function Nm(t,e){return Ye(t)?t:new kw(t,e)}class kw{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:_e(e),this._value=r?e:Pa(e)}get value(){return Tm(this),this._value}set value(e){const r=this.__v_isShallow||ts(e)||es(e);e=r?e:_e(e),oi(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Pa(e),Sl(this,4,e))}}function O(t){return Ye(t)?t.value:t}const Dw={get:(t,e,r)=>O(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Ye(i)&&!Ye(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function Cm(t){return cn(t)?t:new Proxy(t,Dw)}function sf(t){process.env.NODE_ENV!=="production"&&!bl(t)&&ln("toRefs() expects a reactive object but received a plain one.");const e=ue(t)?new Array(t.length):{};for(const r in t)e[r]=Pm(t,r);return e}class Rw{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return hw(_e(this._object),this._key)}}class $w{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function El(t,e,r){return Ye(t)?t:me(t)?new $w(t):je(t)&&arguments.length>1?Pm(t,e,r):Ee(t)}function Pm(t,e,r){const n=t[e];return Ye(n)?n:new Rw(t,e,r)}/**
* @vue/runtime-core v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const rs=[];function wl(t){rs.push(t)}function Ol(){rs.pop()}function q(t,...e){$n();const r=rs.length?rs[rs.length-1].component:null,n=r&&r.appContext.config.warnHandler,i=Fw();if(n)Vn(n,r,11,[t+e.map(s=>{var a,o;return(o=(a=s.toString)==null?void 0:a.call(s))!=null?o:JSON.stringify(s)}).join(""),r&&r.proxy,i.map(({vnode:s})=>`at <${Bl(r,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${t}`,...e];i.length&&s.push(`
`,...jw(i)),console.warn(...s)}Fn()}function Fw(){let t=rs[rs.length-1];if(!t)return[];const e=[];for(;t;){const r=e[0];r&&r.vnode===t?r.recurseCount++:e.push({vnode:t,recurseCount:0});const n=t.component&&t.component.parent;t=n&&n.vnode}return e}function jw(t){const e=[];return t.forEach((r,n)=>{e.push(...n===0?[]:[`
`],...Vw(r))}),e}function Vw({vnode:t,recurseCount:e}){const r=e>0?`... (${e} recursive calls)`:"",n=t.component?t.component.parent==null:!1,i=` at <${Bl(t.component,t.type,n)}`,s=">"+r;return t.props?[i,...Gw(t.props),s]:[i+s]}function Gw(t){const e=[],r=Object.keys(t);return r.slice(0,3).forEach(n=>{e.push(...Lm(n,t[n]))}),r.length>3&&e.push(" ..."),e}function Lm(t,e,r){return nt(e)?(e=JSON.stringify(e),r?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?r?e:[`${t}=${e}`]:Ye(e)?(e=Lm(t,_e(e.value),!0),r?e:[`${t}=Ref<`,e,">"]):me(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=_e(e),r?e:[`${t}=`,e])}function Uw(t,e){process.env.NODE_ENV!=="production"&&t!==void 0&&(typeof t!="number"?q(`${e} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&q(`${e} is NaN - the duration expression might be incorrect.`))}const af={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Vn(t,e,r,n){try{return n?t(...n):t()}catch(i){La(i,e,r)}}function xr(t,e,r,n){if(me(t)){const i=Vn(t,e,r,n);return i&&qc(i)&&i.catch(s=>{La(s,e,r)}),i}if(ue(t)){const i=[];for(let s=0;s<t.length;s++)i.push(xr(t[s],e,r,n));return i}else process.env.NODE_ENV!=="production"&&q(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof t}`)}function La(t,e,r,n=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=process.env.NODE_ENV!=="production"?af[r]:`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){$n(),Vn(l,null,10,[t,a,o]),Fn();return}}Bw(t,r,i,n)}function Bw(t,e,r,n=!0){if(process.env.NODE_ENV!=="production"){const i=af[e];if(r&&wl(r),q(`Unhandled error${i?` during execution of ${i}`:""}`),r&&Ol(),n)throw t;console.error(t)}else console.error(t)}let Aa=!1,of=!1;const jt=[];let fn=0;const Ds=[];let Gn=null,hi=0;const Am=Promise.resolve();let lf=null;const Ww=100;function xl(t){const e=lf||Am;return t?e.then(this?t.bind(this):t):e}function qw(t){let e=fn+1,r=jt.length;for(;e<r;){const n=e+r>>>1,i=jt[n],s=Ia(i);s<t||s===t&&i.pre?e=n+1:r=n}return e}function Ml(t){(!jt.length||!jt.includes(t,Aa&&t.allowRecurse?fn+1:fn))&&(t.id==null?jt.push(t):jt.splice(qw(t.id),0,t),Im())}function Im(){!Aa&&!of&&(of=!0,lf=Am.then($m))}function Hw(t){const e=jt.indexOf(t);e>fn&&jt.splice(e,1)}function km(t){ue(t)?Ds.push(...t):(!Gn||!Gn.includes(t,t.allowRecurse?hi+1:hi))&&Ds.push(t),Im()}function Dm(t,e,r=Aa?fn+1:0){for(process.env.NODE_ENV!=="production"&&(e=e||new Map);r<jt.length;r++){const n=jt[r];if(n&&n.pre){if(t&&n.id!==t.uid||process.env.NODE_ENV!=="production"&&uf(e,n))continue;jt.splice(r,1),r--,n()}}}function Rm(t){if(Ds.length){const e=[...new Set(Ds)].sort((r,n)=>Ia(r)-Ia(n));if(Ds.length=0,Gn){Gn.push(...e);return}for(Gn=e,process.env.NODE_ENV!=="production"&&(t=t||new Map),hi=0;hi<Gn.length;hi++)process.env.NODE_ENV!=="production"&&uf(t,Gn[hi])||Gn[hi]();Gn=null,hi=0}}const Ia=t=>t.id==null?1/0:t.id,zw=(t,e)=>{const r=Ia(t)-Ia(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function $m(t){of=!1,Aa=!0,process.env.NODE_ENV!=="production"&&(t=t||new Map),jt.sort(zw);const e=process.env.NODE_ENV!=="production"?r=>uf(t,r):mt;try{for(fn=0;fn<jt.length;fn++){const r=jt[fn];if(r&&r.active!==!1){if(process.env.NODE_ENV!=="production"&&e(r))continue;Vn(r,null,14)}}}finally{fn=0,jt.length=0,Rm(t),Aa=!1,lf=null,(jt.length||Ds.length)&&$m(t)}}function uf(t,e){if(!t.has(e))t.set(e,1);else{const r=t.get(e);if(r>Ww){const n=e.ownerInstance,i=n&&jf(n.type);return La(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else t.set(e,r+1)}}let di=!1;const Rs=new Set;process.env.NODE_ENV!=="production"&&(ul().__VUE_HMR_RUNTIME__={createRecord:cf(Fm),rerender:cf(Xw),reload:cf(Zw)});const ns=new Map;function Yw(t){const e=t.type.__hmrId;let r=ns.get(e);r||(Fm(e,t.type),r=ns.get(e)),r.instances.add(t)}function Kw(t){ns.get(t.type.__hmrId).instances.delete(t)}function Fm(t,e){return ns.has(t)?!1:(ns.set(t,{initialDef:ka(e),instances:new Set}),!0)}function ka(t){return Ug(t)?t.__vccOpts:t}function Xw(t,e){const r=ns.get(t);!r||(r.initialDef.render=e,[...r.instances].forEach(n=>{e&&(n.render=e,ka(n.type).render=e),n.renderCache=[],di=!0,n.effect.dirty=!0,n.update(),di=!1}))}function Zw(t,e){const r=ns.get(t);if(!r)return;e=ka(e),jm(r.initialDef,e);const n=[...r.instances];for(const i of n){const s=ka(i.type);Rs.has(s)||(s!==r.initialDef&&jm(s,e),Rs.add(s)),i.appContext.propsCache.delete(i.type),i.appContext.emitsCache.delete(i.type),i.appContext.optionsCache.delete(i.type),i.ceReload?(Rs.add(s),i.ceReload(e.styles),Rs.delete(s)):i.parent?(i.parent.effect.dirty=!0,Ml(i.parent.update)):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}km(()=>{for(const i of n)Rs.delete(ka(i.type))})}function jm(t,e){Qe(t,e);for(const r in t)r!=="__file"&&!(r in e)&&delete t[r]}function cf(t){return(e,r)=>{try{return t(e,r)}catch(n){console.error(n),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Ur,Da=[],ff=!1;function Ra(t,...e){Ur?Ur.emit(t,...e):ff||Da.push({event:t,args:e})}function hf(t,e){var r,n;Ur=t,Ur?(Ur.enabled=!0,Da.forEach(({event:i,args:s})=>Ur.emit(i,...s)),Da=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{hf(s,e)}),setTimeout(()=>{Ur||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ff=!0,Da=[])},3e3)):(ff=!0,Da=[])}function Jw(t,e){Ra("app:init",t,e,{Fragment:Ve,Text:Ua,Comment:Tt,Static:$l})}function Qw(t){Ra("app:unmount",t)}const eO=df("component:added"),Vm=df("component:updated"),tO=df("component:removed"),rO=t=>{Ur&&typeof Ur.cleanupBuffer=="function"&&!Ur.cleanupBuffer(t)&&tO(t)};/*! #__NO_SIDE_EFFECTS__ */function df(t){return e=>{Ra(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const nO=Gm("perf:start"),iO=Gm("perf:end");function Gm(t){return(e,r,n)=>{Ra(t,e.appContext.app,e.uid,e,r,n)}}function sO(t,e,r){Ra("component:emit",t.appContext.app,t,e,r)}function aO(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Xe;if(process.env.NODE_ENV!=="production"){const{emitsOptions:f,propsOptions:[c]}=t;if(f)if(!(e in f))(!c||!(Zi(e)in c))&&q(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${Zi(e)}" prop.`);else{const h=f[e];me(h)&&(h(...r)||q(`Invalid event arguments: event validation failed for event "${e}".`))}}let i=r;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in n){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:c,trim:h}=n[f]||Xe;h&&(i=r.map(d=>nt(d)?d.trim():d)),c&&(i=r.map(ZE))}if(process.env.NODE_ENV!=="production"&&sO(t,e,i),process.env.NODE_ENV!=="production"){const f=e.toLowerCase();f!==e&&n[Zi(f)]&&q(`Event "${f}" is emitted in component ${Bl(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${ir(e)}" instead of "${e}".`)}let o,l=n[o=Zi(e)]||n[o=Zi(gr(e))];!l&&s&&(l=n[o=Zi(ir(e))]),l&&xr(l,t,6,i);const u=n[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,xr(u,t,6,i)}}function Um(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!me(t)){const l=u=>{const f=Um(u,e,!0);f&&(o=!0,Qe(a,f))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(je(t)&&n.set(t,null),null):(ue(s)?s.forEach(l=>a[l]=null):Qe(a,s),je(t)&&n.set(t,a),a)}function Tl(t,e){return!t||!Ta(e)?!1:(e=e.slice(2).replace(/Once$/,""),ke(t,e[0].toLowerCase()+e.slice(1))||ke(t,ir(e))||ke(t,e))}let ct=null,Bm=null;function Nl(t){const e=ct;return ct=t,Bm=t&&t.type.__scopeId||null,e}function pi(t,e=ct,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&Ag(-1);const s=Nl(e);let a;try{a=t(...i)}finally{Nl(s),n._d&&Ag(1)}return process.env.NODE_ENV!=="production"&&Vm(e),a};return n._n=!0,n._c=!0,n._d=!0,n}let pf=!1;function Cl(){pf=!0}function mf(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:f,props:c,data:h,setupState:d,ctx:p,inheritAttrs:m}=t,g=Nl(t);let v,y;process.env.NODE_ENV!=="production"&&(pf=!1);try{if(r.shapeFlag&4){const x=i||n,N=process.env.NODE_ENV!=="production"&&d.__isScriptSetup?new Proxy(x,{get(M,L,D){return q(`Property '${String(L)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(M,L,D)}}):x;v=Wr(u.call(N,x,f,process.env.NODE_ENV!=="production"?jn(c):c,d,h,p)),y=o}else{const x=e;process.env.NODE_ENV!=="production"&&o===c&&Cl(),v=Wr(x.length>1?x(process.env.NODE_ENV!=="production"?jn(c):c,process.env.NODE_ENV!=="production"?{get attrs(){return Cl(),o},slots:a,emit:l}:{attrs:o,slots:a,emit:l}):x(process.env.NODE_ENV!=="production"?jn(c):c,null)),y=e.props?o:oO(o)}}catch(x){Ba.length=0,La(x,t,1),v=se(Tt)}let b=v,S;if(process.env.NODE_ENV!=="production"&&v.patchFlag>0&&v.patchFlag&2048&&([b,S]=Wm(v)),y&&m!==!1){const x=Object.keys(y),{shapeFlag:N}=b;if(x.length){if(N&7)s&&x.some(al)&&(y=lO(y,s)),b=hn(b,y);else if(process.env.NODE_ENV!=="production"&&!pf&&b.type!==Tt){const M=Object.keys(o),L=[],D=[];for(let C=0,R=M.length;C<R;C++){const k=M[C];Ta(k)?al(k)||L.push(k[2].toLowerCase()+k.slice(3)):D.push(k)}D.length&&q(`Extraneous non-props attributes (${D.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),L.length&&q(`Extraneous non-emits event listeners (${L.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return r.dirs&&(process.env.NODE_ENV!=="production"&&!qm(b)&&q("Runtime directive used on component with non-element root node. The directives will not function as intended."),b=hn(b),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&(process.env.NODE_ENV!=="production"&&!qm(b)&&q("Component inside <Transition> renders non-element root node that cannot be animated."),b.transition=r.transition),process.env.NODE_ENV!=="production"&&S?S(b):v=b,Nl(g),v}const Wm=t=>{const e=t.children,r=t.dynamicChildren,n=gf(e,!1);if(n){if(process.env.NODE_ENV!=="production"&&n.patchFlag>0&&n.patchFlag&2048)return Wm(n)}else return[t,void 0];const i=e.indexOf(n),s=r?r.indexOf(n):-1,a=o=>{e[i]=o,r&&(s>-1?r[s]=o:o.patchFlag>0&&(t.dynamicChildren=[...r,o]))};return[Wr(n),a]};function gf(t,e=!0){let r;for(let n=0;n<t.length;n++){const i=t[n];if(Vs(i)){if(i.type!==Tt||i.children==="v-if"){if(r)return;if(r=i,process.env.NODE_ENV!=="production"&&e&&r.patchFlag>0&&r.patchFlag&2048)return gf(r.children)}}else return}return r}const oO=t=>{let e;for(const r in t)(r==="class"||r==="style"||Ta(r))&&((e||(e={}))[r]=t[r]);return e},lO=(t,e)=>{const r={};for(const n in t)(!al(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r},qm=t=>t.shapeFlag&7||t.type===Tt;function uO(t,e,r){const{props:n,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(process.env.NODE_ENV!=="production"&&(i||o)&&di||e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Hm(n,a,u):!!a;if(l&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const h=f[c];if(a[h]!==n[h]&&!Tl(u,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Hm(n,a,u):!0:!!a;return!1}function Hm(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!Tl(r,s))return!0}return!1}function cO({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const yf="components",fO="directives";function hO(t,e){return zm(yf,t,!0,e)||t}const dO=Symbol.for("v-ndc");function vf(t){return zm(fO,t)}function zm(t,e,r=!0,n=!1){const i=ct||Et;if(i){const s=i.type;if(t===yf){const o=jf(s,!1);if(o&&(o===e||o===gr(e)||o===Xi(gr(e))))return s}const a=Ym(i[t]||s[t],e)||Ym(i.appContext[t],e);if(!a&&n)return s;if(process.env.NODE_ENV!=="production"&&r&&!a){const o=t===yf?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";q(`Failed to resolve ${t.slice(0,-1)}: ${e}${o}`)}return a}else process.env.NODE_ENV!=="production"&&q(`resolve${Xi(t.slice(0,-1))} can only be used in render() or setup().`)}function Ym(t,e){return t&&(t[e]||t[gr(e)]||t[Xi(gr(e))])}const pO=t=>t.__isSuspense;function mO(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):km(t)}const gO=Symbol.for("v-scx"),yO=()=>{{const t=Fs(gO);return t||process.env.NODE_ENV!=="production"&&q("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function vr(t,e){return _f(t,null,e)}const Pl={};function et(t,e,r){return process.env.NODE_ENV!=="production"&&!me(e)&&q("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),_f(t,e,r)}function _f(t,e,{immediate:r,deep:n,flush:i,once:s,onTrack:a,onTrigger:o}=Xe){if(e&&s){const M=e;e=(...L)=>{M(...L),N()}}process.env.NODE_ENV!=="production"&&n!==void 0&&typeof n=="number"&&q('watch() "deep" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.'),process.env.NODE_ENV!=="production"&&!e&&(r!==void 0&&q('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),n!==void 0&&q('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&q('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const l=M=>{q("Invalid watch source: ",M,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=Et,f=M=>n===!0?M:is(M,n===!1?1:void 0);let c,h=!1,d=!1;if(Ye(t)?(c=()=>t.value,h=ts(t)):cn(t)?(c=()=>f(t),h=!0):ue(t)?(d=!0,h=t.some(M=>cn(M)||ts(M)),c=()=>t.map(M=>{if(Ye(M))return M.value;if(cn(M))return f(M);if(me(M))return Vn(M,u,2);process.env.NODE_ENV!=="production"&&l(M)})):me(t)?e?c=()=>Vn(t,u,2):c=()=>(p&&p(),xr(t,u,3,[m])):(c=mt,process.env.NODE_ENV!=="production"&&l(t)),e&&n){const M=c;c=()=>is(M())}let p,m=M=>{p=S.onStop=()=>{Vn(M,u,4),p=S.onStop=void 0}},g;if(Gl)if(m=mt,e?r&&xr(e,u,3,[c(),d?[]:void 0,m]):c(),i==="sync"){const M=yO();g=M.__watcherHandles||(M.__watcherHandles=[])}else return mt;let v=d?new Array(t.length).fill(Pl):Pl;const y=()=>{if(!(!S.active||!S.dirty))if(e){const M=S.run();(n||h||(d?M.some((L,D)=>oi(L,v[D])):oi(M,v)))&&(p&&p(),xr(e,u,3,[M,v===Pl?void 0:d&&v[0]===Pl?[]:v,m]),v=M)}else S.run()};y.allowRecurse=!!e;let b;i==="sync"?b=y:i==="post"?b=()=>sr(y,u&&u.suspense):(y.pre=!0,u&&(y.id=u.uid),b=()=>Ml(y));const S=new Xc(c,mt,b),x=nm(),N=()=>{S.stop(),x&&Wc(x.effects,S)};return process.env.NODE_ENV!=="production"&&(S.onTrack=a,S.onTrigger=o),e?r?y():v=S.run():i==="post"?sr(S.run.bind(S),u&&u.suspense):S.run(),g&&g.push(N),N}function vO(t,e,r){const n=this.proxy,i=nt(t)?t.includes(".")?Km(n,t):()=>n[t]:t.bind(n,n);let s;me(e)?s=e:(s=e.handler,r=e);const a=Ha(this),o=_f(i,s.bind(n),r);return a(),o}function Km(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function is(t,e,r=0,n){if(!je(t)||t.__v_skip)return t;if(e&&e>0){if(r>=e)return t;r++}if(n=n||new Set,n.has(t))return t;if(n.add(t),Ye(t))is(t.value,e,r,n);else if(ue(t))for(let i=0;i<t.length;i++)is(t[i],e,r,n);else if(Yp(t)||Yi(t))t.forEach(i=>{is(i,e,r,n)});else if(Xp(t))for(const i in t)is(t[i],e,r,n);return t}function Xm(t){YE(t)&&q("Do not use built-in directive ids as custom directive id: "+t)}function Ll(t,e){if(ct===null)return process.env.NODE_ENV!=="production"&&q("withDirectives can only be used inside render functions."),t;const r=Ul(ct)||ct.proxy,n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,o,l=Xe]=e[i];s&&(me(s)&&(s={mounted:s,updated:s}),s.deep&&is(a),n.push({dir:s,instance:r,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function ss(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[n];l&&($n(),xr(l,r,8,[t.el,o,t,e]),Fn())}}const mi=Symbol("_leaveCb"),Al=Symbol("_enterCb");function _O(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _r(()=>{t.isMounted=!0}),rg(()=>{t.isUnmounting=!0}),t}const Mr=[Function,Array],Zm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mr,onEnter:Mr,onAfterEnter:Mr,onEnterCancelled:Mr,onBeforeLeave:Mr,onLeave:Mr,onAfterLeave:Mr,onLeaveCancelled:Mr,onBeforeAppear:Mr,onAppear:Mr,onAfterAppear:Mr,onAppearCancelled:Mr},bO={name:"BaseTransition",props:Zm,setup(t,{slots:e}){const r=qa(),n=_O();return()=>{const i=e.default&&eg(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){let h=!1;for(const d of i)if(d.type!==Tt){if(process.env.NODE_ENV!=="production"&&h){q("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}if(s=d,h=!0,process.env.NODE_ENV==="production")break}}const a=_e(t),{mode:o}=a;if(process.env.NODE_ENV!=="production"&&o&&o!=="in-out"&&o!=="out-in"&&o!=="default"&&q(`invalid <transition> mode: ${o}`),n.isLeaving)return Sf(s);const l=Qm(s);if(!l)return Sf(s);const u=bf(l,a,n,r);Ef(l,u);const f=r.subTree,c=f&&Qm(f);if(c&&c.type!==Tt&&!ls(l,c)){const h=bf(c,a,n,r);if(Ef(c,h),o==="out-in")return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},Sf(s);o==="in-out"&&l.type!==Tt&&(h.delayLeave=(d,p,m)=>{const g=Jm(n,c);g[String(c.key)]=c,d[mi]=()=>{p(),d[mi]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return s}}};function Jm(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function bf(t,e,r,n){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:c,onLeave:h,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:v,onAppearCancelled:y}=e,b=String(t.key),S=Jm(r,t),x=(L,D)=>{L&&xr(L,n,9,D)},N=(L,D)=>{const C=D[1];x(L,D),ue(L)?L.every(R=>R.length<=1)&&C():L.length<=1&&C()},M={mode:s,persisted:a,beforeEnter(L){let D=o;if(!r.isMounted)if(i)D=m||o;else return;L[mi]&&L[mi](!0);const C=S[b];C&&ls(t,C)&&C.el[mi]&&C.el[mi](),x(D,[L])},enter(L){let D=l,C=u,R=f;if(!r.isMounted)if(i)D=g||l,C=v||u,R=y||f;else return;let k=!1;const Q=L[Al]=be=>{k||(k=!0,be?x(R,[L]):x(C,[L]),M.delayedLeave&&M.delayedLeave(),L[Al]=void 0)};D?N(D,[L,Q]):Q()},leave(L,D){const C=String(t.key);if(L[Al]&&L[Al](!0),r.isUnmounting)return D();x(c,[L]);let R=!1;const k=L[mi]=Q=>{R||(R=!0,D(),Q?x(p,[L]):x(d,[L]),L[mi]=void 0,S[C]===t&&delete S[C])};S[C]=t,h?N(h,[L,k]):k()},clone(L){return bf(L,e,r,n)}};return M}function Sf(t){if(Fa(t))return t=hn(t),t.children=null,t}function Qm(t){if(!Fa(t))return t;if(process.env.NODE_ENV!=="production"&&t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&me(r.default))return r.default()}}function Ef(t,e){t.shapeFlag&6&&t.component?Ef(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function eg(t,e=!1,r){let n=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:s);a.type===Ve?(a.patchFlag&128&&i++,n=n.concat(eg(a.children,e,o))):(e||a.type!==Tt)&&n.push(o!=null?hn(a,{key:o}):a)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function he(t,e){return me(t)?(()=>Qe({name:t.name},e,{setup:t}))():t}const $a=t=>!!t.type.__asyncLoader,Fa=t=>t.type.__isKeepAlive;function SO(t,e){tg(t,"a",e)}function EO(t,e){tg(t,"da",e)}function tg(t,e,r=Et){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Il(e,n,r),r){let i=r.parent;for(;i&&i.parent;)Fa(i.parent.vnode)&&wO(n,e,r,i),i=i.parent}}function wO(t,e,r,n){const i=Il(e,t,n,!0);gi(()=>{Wc(n[e],i)},r)}function Il(t,e,r=Et,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(r.isUnmounted)return;$n();const o=Ha(r),l=xr(e,r,t,a);return o(),Fn(),l});return n?i.unshift(s):i.push(s),s}else if(process.env.NODE_ENV!=="production"){const i=Zi(af[t].replace(/ hook$/,""));q(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Un=t=>(e,r=Et)=>(!Gl||t==="sp")&&Il(t,(...n)=>e(...n),r),OO=Un("bm"),_r=Un("m"),xO=Un("bu"),MO=Un("u"),rg=Un("bum"),gi=Un("um"),TO=Un("sp"),NO=Un("rtg"),CO=Un("rtc");function PO(t,e=Et){Il("ec",t,e)}function Tr(t,e,r,n){let i;const s=r&&r[n];if(ue(t)||nt(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){process.env.NODE_ENV!=="production"&&!Number.isInteger(t)&&q(`The v-for range expect an integer value but got ${t}.`),i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(je(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];i[o]=e(t[u],u,o,s&&s[o])}}else i=[];return r&&(r[n]=i),i}function ng(t,e,r={},n,i){if(ct.isCE||ct.parent&&$a(ct.parent)&&ct.parent.isCE)return e!=="default"&&(r.name=e),se("slot",r,n&&n());let s=t[e];process.env.NODE_ENV!=="production"&&s&&s.length>1&&(q("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),s=()=>[]),s&&s._c&&(s._d=!1),A();const a=s&&ig(s(r)),o=Ge(Ve,{key:r.key||a&&a.key||`_${e}`},a||(n?n():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function ig(t){return t.some(e=>Vs(e)?!(e.type===Tt||e.type===Ve&&!ig(e.children)):!0)?t:null}const wf=t=>t?Fg(t)?Ul(t)||t.proxy:wf(t.parent):null,as=Qe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>process.env.NODE_ENV!=="production"?jn(t.props):t.props,$attrs:t=>process.env.NODE_ENV!=="production"?jn(t.attrs):t.attrs,$slots:t=>process.env.NODE_ENV!=="production"?jn(t.slots):t.slots,$refs:t=>process.env.NODE_ENV!=="production"?jn(t.refs):t.refs,$parent:t=>wf(t.parent),$root:t=>wf(t.root),$emit:t=>t.emit,$options:t=>Tf(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Ml(t.update)}),$nextTick:t=>t.n||(t.n=xl.bind(t.proxy)),$watch:t=>vO.bind(t)}),Of=t=>t==="_"||t==="$",xf=(t,e)=>t!==Xe&&!t.__isScriptSetup&&ke(t,e),sg={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:a,type:o,appContext:l}=t;if(process.env.NODE_ENV!=="production"&&e==="__isVue")return!0;let u;if(e[0]!=="$"){const d=a[e];if(d!==void 0)switch(d){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(xf(n,e))return a[e]=1,n[e];if(i!==Xe&&ke(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&ke(u,e))return a[e]=3,s[e];if(r!==Xe&&ke(r,e))return a[e]=4,r[e];Mf&&(a[e]=0)}}const f=as[e];let c,h;if(f)return e==="$attrs"?(At(t.attrs,"get",""),process.env.NODE_ENV!=="production"&&Cl()):process.env.NODE_ENV!=="production"&&e==="$slots"&&At(t,"get",e),f(t);if((c=o.__cssModules)&&(c=c[e]))return c;if(r!==Xe&&ke(r,e))return a[e]=4,r[e];if(h=l.config.globalProperties,ke(h,e))return h[e];process.env.NODE_ENV!=="production"&&ct&&(!nt(e)||e.indexOf("__v")!==0)&&(i!==Xe&&Of(e[0])&&ke(i,e)?q(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===ct&&q(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return xf(i,e)?(i[e]=r,!0):process.env.NODE_ENV!=="production"&&i.__isScriptSetup&&ke(i,e)?(q(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):n!==Xe&&ke(n,e)?(n[e]=r,!0):ke(t.props,e)?(process.env.NODE_ENV!=="production"&&q(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(process.env.NODE_ENV!=="production"&&q(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&e in t.appContext.config.globalProperties?Object.defineProperty(s,e,{enumerable:!0,configurable:!0,value:r}):s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s}},a){let o;return!!r[a]||t!==Xe&&ke(t,a)||xf(e,a)||(o=s[0])&&ke(o,a)||ke(n,a)||ke(as,a)||ke(i.config.globalProperties,a)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:ke(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};process.env.NODE_ENV!=="production"&&(sg.ownKeys=t=>(q("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t)));function LO(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(as).forEach(r=>{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,get:()=>as[r](t),set:mt})}),e}function AO(t){const{ctx:e,propsOptions:[r]}=t;r&&Object.keys(r).forEach(n=>{Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>t.props[n],set:mt})})}function IO(t){const{ctx:e,setupState:r}=t;Object.keys(_e(r)).forEach(n=>{if(!r.__isScriptSetup){if(Of(n[0])){q(`setup() return property ${JSON.stringify(n)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r[n],set:mt})}})}function ag(t){return ue(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function kO(){const t=Object.create(null);return(e,r)=>{t[r]?q(`${e} property "${r}" is already defined in ${t[r]}.`):t[r]=e}}let Mf=!0;function DO(t){const e=Tf(t),r=t.proxy,n=t.ctx;Mf=!1,e.beforeCreate&&og(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:f,beforeMount:c,mounted:h,beforeUpdate:d,updated:p,activated:m,deactivated:g,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:S,render:x,renderTracked:N,renderTriggered:M,errorCaptured:L,serverPrefetch:D,expose:C,inheritAttrs:R,components:k,directives:Q,filters:be}=e,T=process.env.NODE_ENV!=="production"?kO():null;if(process.env.NODE_ENV!=="production"){const[z]=t.propsOptions;if(z)for(const X in z)T("Props",X)}if(u&&RO(u,n,T),a)for(const z in a){const X=a[z];me(X)?(process.env.NODE_ENV!=="production"?Object.defineProperty(n,z,{value:X.bind(r),configurable:!0,enumerable:!0,writable:!0}):n[z]=X.bind(r),process.env.NODE_ENV!=="production"&&T("Methods",z)):process.env.NODE_ENV!=="production"&&q(`Method "${z}" has type "${typeof X}" in the component definition. Did you reference the function correctly?`)}if(i){process.env.NODE_ENV!=="production"&&!me(i)&&q("The data option must be a function. Plain object usage is no longer supported.");const z=i.call(r,r);if(process.env.NODE_ENV!=="production"&&qc(z)&&q("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!je(z))process.env.NODE_ENV!=="production"&&q("data() should return an object.");else if(t.data=vl(z),process.env.NODE_ENV!=="production")for(const X in z)T("Data",X),Of(X[0])||Object.defineProperty(n,X,{configurable:!0,enumerable:!0,get:()=>z[X],set:mt})}if(Mf=!0,s)for(const z in s){const X=s[z],Le=me(X)?X.bind(r,r):me(X.get)?X.get.bind(r,r):mt;process.env.NODE_ENV!=="production"&&Le===mt&&q(`Computed property "${z}" has no getter.`);const Ae=!me(X)&&me(X.set)?X.set.bind(r):process.env.NODE_ENV!=="production"?()=>{q(`Write operation failed: computed property "${z}" is readonly.`)}:mt,_t=de({get:Le,set:Ae});Object.defineProperty(n,z,{enumerable:!0,configurable:!0,get:()=>_t.value,set:Kt=>_t.value=Kt}),process.env.NODE_ENV!=="production"&&T("Computed",z)}if(o)for(const z in o)lg(o[z],n,r,z);if(l){const z=me(l)?l.call(r):l;Reflect.ownKeys(z).forEach(X=>{hg(X,z[X])})}f&&og(f,t,"c");function $(z,X){ue(X)?X.forEach(Le=>z(Le.bind(r))):X&&z(X.bind(r))}if($(OO,c),$(_r,h),$(xO,d),$(MO,p),$(SO,m),$(EO,g),$(PO,L),$(CO,N),$(NO,M),$(rg,y),$(gi,S),$(TO,D),ue(C))if(C.length){const z=t.exposed||(t.exposed={});C.forEach(X=>{Object.defineProperty(z,X,{get:()=>r[X],set:Le=>r[X]=Le})})}else t.exposed||(t.exposed={});x&&t.render===mt&&(t.render=x),R!=null&&(t.inheritAttrs=R),k&&(t.components=k),Q&&(t.directives=Q)}function RO(t,e,r=mt){ue(t)&&(t=Nf(t));for(const n in t){const i=t[n];let s;je(i)?"default"in i?s=Fs(i.from||n,i.default,!0):s=Fs(i.from||n):s=Fs(i),Ye(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[n]=s,process.env.NODE_ENV!=="production"&&r("Inject",n)}}function og(t,e,r){xr(ue(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function lg(t,e,r,n){const i=n.includes(".")?Km(r,n):()=>r[n];if(nt(t)){const s=e[t];me(s)?et(i,s):process.env.NODE_ENV!=="production"&&q(`Invalid watch handler specified by key "${t}"`,s)}else if(me(t))et(i,t.bind(r));else if(je(t))if(ue(t))t.forEach(s=>lg(s,e,r,n));else{const s=me(t.handler)?t.handler.bind(r):e[t.handler];me(s)?et(i,s,t):process.env.NODE_ENV!=="production"&&q(`Invalid watch handler specified by key "${t.handler}"`,s)}else process.env.NODE_ENV!=="production"&&q(`Invalid watch option: "${n}"`,t)}function Tf(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(u=>kl(l,u,a,!0)),kl(l,e,a)),je(e)&&s.set(e,l),l}function kl(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&kl(t,s,r,!0),i&&i.forEach(a=>kl(t,a,r,!0));for(const a in e)if(n&&a==="expose")process.env.NODE_ENV!=="production"&&q('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const o=$O[a]||r&&r[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const $O={data:ug,props:cg,emits:cg,methods:ja,computed:ja,beforeCreate:Zt,created:Zt,beforeMount:Zt,mounted:Zt,beforeUpdate:Zt,updated:Zt,beforeDestroy:Zt,beforeUnmount:Zt,destroyed:Zt,unmounted:Zt,activated:Zt,deactivated:Zt,errorCaptured:Zt,serverPrefetch:Zt,components:ja,directives:ja,watch:jO,provide:ug,inject:FO};function ug(t,e){return e?t?function(){return Qe(me(t)?t.call(this,this):t,me(e)?e.call(this,this):e)}:e:t}function FO(t,e){return ja(Nf(t),Nf(e))}function Nf(t){if(ue(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Zt(t,e){return t?[...new Set([].concat(t,e))]:e}function ja(t,e){return t?Qe(Object.create(null),t,e):e}function cg(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:Qe(Object.create(null),ag(t),ag(e!=null?e:{})):e}function jO(t,e){if(!t)return e;if(!e)return t;const r=Qe(Object.create(null),t);for(const n in e)r[n]=Zt(t[n],e[n]);return r}function fg(){return{app:null,config:{isNativeTag:HE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let VO=0;function GO(t,e){return function(n,i=null){me(n)||(n=Qe({},n)),i!=null&&!je(i)&&(process.env.NODE_ENV!=="production"&&q("root props passed to app.mount() must be an object."),i=null);const s=fg(),a=new WeakSet;let o=!1;const l=s.app={_uid:VO++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:Wg,get config(){return s.config},set config(u){process.env.NODE_ENV!=="production"&&q("app.config cannot be replaced. Modify individual options instead.")},use(u,...f){return a.has(u)?process.env.NODE_ENV!=="production"&&q("Plugin has already been applied to target app."):u&&me(u.install)?(a.add(u),u.install(l,...f)):me(u)?(a.add(u),u(l,...f)):process.env.NODE_ENV!=="production"&&q('A plugin must either be a function or an object with an "install" function.'),l},mixin(u){return s.mixins.includes(u)?process.env.NODE_ENV!=="production"&&q("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):s.mixins.push(u),l},component(u,f){return process.env.NODE_ENV!=="production"&&$f(u,s.config),f?(process.env.NODE_ENV!=="production"&&s.components[u]&&q(`Component "${u}" has already been registered in target app.`),s.components[u]=f,l):s.components[u]},directive(u,f){return process.env.NODE_ENV!=="production"&&Xm(u),f?(process.env.NODE_ENV!=="production"&&s.directives[u]&&q(`Directive "${u}" has already been registered in target app.`),s.directives[u]=f,l):s.directives[u]},mount(u,f,c){if(o)process.env.NODE_ENV!=="production"&&q("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{process.env.NODE_ENV!=="production"&&u.__vue_app__&&q("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=se(n,i);return h.appContext=s,c===!0?c="svg":c===!1&&(c=void 0),process.env.NODE_ENV!=="production"&&(s.reload=()=>{t(hn(h),u,c)}),f&&e?e(h,u):t(h,u,c),o=!0,l._container=u,u.__vue_app__=l,process.env.NODE_ENV!=="production"&&(l._instance=h.component,Jw(l,Wg)),Ul(h.component)||h.component.proxy}},unmount(){o?(t(null,l._container),process.env.NODE_ENV!=="production"&&(l._instance=null,Qw(l)),delete l._container.__vue_app__):process.env.NODE_ENV!=="production"&&q("Cannot unmount an app that is not mounted.")},provide(u,f){return process.env.NODE_ENV!=="production"&&u in s.provides&&q(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),s.provides[u]=f,l},runWithContext(u){const f=$s;$s=l;try{return u()}finally{$s=f}}};return l}}let $s=null;function hg(t,e){if(!Et)process.env.NODE_ENV!=="production"&&q("provide() can only be used inside setup().");else{let r=Et.provides;const n=Et.parent&&Et.parent.provides;n===r&&(r=Et.provides=Object.create(n)),r[t]=e}}function Fs(t,e,r=!1){const n=Et||ct;if(n||$s){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:$s._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return r&&me(e)?e.call(n&&n.proxy):e;process.env.NODE_ENV!=="production"&&q(`injection "${String(t)}" not found.`)}else process.env.NODE_ENV!=="production"&&q("inject() can only be used inside setup() or functional components.")}function UO(){return!!(Et||ct||$s)}const dg={},pg=()=>Object.create(dg),mg=t=>Object.getPrototypeOf(t)===dg;function BO(t,e,r,n=!1){const i={},s=pg();t.propsDefaults=Object.create(null),gg(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);process.env.NODE_ENV!=="production"&&Sg(e||{},i,t),r?t.props=n?i:Lw(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function WO(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function qO(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=_e(i),[l]=t.propsOptions;let u=!1;if(!(process.env.NODE_ENV!=="production"&&WO(t))&&(n||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let h=f[c];if(Tl(t.emitsOptions,h))continue;const d=e[h];if(l)if(ke(s,h))d!==s[h]&&(s[h]=d,u=!0);else{const p=gr(h);i[p]=Cf(l,o,p,d,t,!1)}else d!==s[h]&&(s[h]=d,u=!0)}}}else{gg(t,e,i,s)&&(u=!0);let f;for(const c in o)(!e||!ke(e,c)&&((f=ir(c))===c||!ke(e,f)))&&(l?r&&(r[c]!==void 0||r[f]!==void 0)&&(i[c]=Cf(l,o,c,void 0,t,!0)):delete i[c]);if(s!==o)for(const c in s)(!e||!ke(e,c)&&!0)&&(delete s[c],u=!0)}u&&un(t.attrs,"set",""),process.env.NODE_ENV!=="production"&&Sg(e||{},i,t)}function gg(t,e,r,n){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Na(l))continue;const u=e[l];let f;i&&ke(i,f=gr(l))?!s||!s.includes(f)?r[f]=u:(o||(o={}))[f]=u:Tl(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(s){const l=_e(r),u=o||Xe;for(let f=0;f<s.length;f++){const c=s[f];r[c]=Cf(i,l,c,u[c],t,!ke(u,c))}}return a}function Cf(t,e,r,n,i,s){const a=t[r];if(a!=null){const o=ke(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&me(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const f=Ha(i);n=u[r]=l.call(null,e),f()}}else n=l}a[0]&&(s&&!o?n=!1:a[1]&&(n===""||n===ir(r))&&(n=!0))}return n}function yg(t,e,r=!1){const n=e.propsCache,i=n.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!me(t)){const f=c=>{l=!0;const[h,d]=yg(c,e,!0);Qe(a,h),d&&o.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!l)return je(t)&&n.set(t,ks),ks;if(ue(s))for(let f=0;f<s.length;f++){process.env.NODE_ENV!=="production"&&!nt(s[f])&&q("props must be strings when using array syntax.",s[f]);const c=gr(s[f]);vg(c)&&(a[c]=Xe)}else if(s){process.env.NODE_ENV!=="production"&&!je(s)&&q("invalid props options",s);for(const f in s){const c=gr(f);if(vg(c)){const h=s[f],d=a[c]=ue(h)||me(h)?{type:h}:Qe({},h);if(d){const p=bg(Boolean,d.type),m=bg(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||ke(d,"default"))&&o.push(c)}}}}const u=[a,o];return je(t)&&n.set(t,u),u}function vg(t){return t[0]!=="$"&&!Na(t)?!0:(process.env.NODE_ENV!=="production"&&q(`Invalid prop name: "${t}" is a reserved property.`),!1)}function Pf(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function _g(t,e){return Pf(t)===Pf(e)}function bg(t,e){return ue(e)?e.findIndex(r=>_g(r,t)):me(e)&&_g(e,t)?0:-1}function Sg(t,e,r){const n=_e(e),i=r.propsOptions[0];for(const s in i){let a=i[s];a!=null&&HO(s,n[s],a,process.env.NODE_ENV!=="production"?jn(n):n,!ke(t,s)&&!ke(t,ir(s)))}}function HO(t,e,r,n,i){const{type:s,required:a,validator:o,skipCheck:l}=r;if(a&&i){q('Missing required prop: "'+t+'"');return}if(!(e==null&&!a)){if(s!=null&&s!==!0&&!l){let u=!1;const f=ue(s)?s:[s],c=[];for(let h=0;h<f.length&&!u;h++){const{valid:d,expectedType:p}=YO(e,f[h]);c.push(p||""),u=d}if(!u){q(KO(t,e,c));return}}o&&!o(e,n)&&q('Invalid prop: custom validator check failed for prop "'+t+'".')}}const zO=Rn("String,Number,Boolean,Function,Symbol,BigInt");function YO(t,e){let r;const n=Pf(e);if(zO(n)){const i=typeof t;r=i===n.toLowerCase(),!r&&i==="object"&&(r=t instanceof e)}else n==="Object"?r=je(t):n==="Array"?r=ue(t):n==="null"?r=t===null:r=t instanceof e;return{valid:r,expectedType:n}}function KO(t,e,r){if(r.length===0)return`Prop type [] for prop "${t}" won't match anything. Did you mean to use type Array instead?`;let n=`Invalid prop: type check failed for prop "${t}". Expected ${r.map(Xi).join(" | ")}`;const i=r[0],s=Hc(e),a=Eg(e,i),o=Eg(e,s);return r.length===1&&wg(i)&&!XO(i,s)&&(n+=` with value ${a}`),n+=`, got ${s} `,wg(s)&&(n+=`with value ${o}.`),n}function Eg(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function wg(t){return["string","number","boolean"].some(r=>t.toLowerCase()===r)}function XO(...t){return t.some(e=>e.toLowerCase()==="boolean")}const Og=t=>t[0]==="_"||t==="$stable",Lf=t=>ue(t)?t.map(Wr):[Wr(t)],ZO=(t,e,r)=>{if(e._n)return e;const n=pi((...i)=>(process.env.NODE_ENV!=="production"&&Et&&(!r||r.root===Et.root)&&q(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Lf(e(...i))),r);return n._c=!1,n},xg=(t,e,r)=>{const n=t._ctx;for(const i in t){if(Og(i))continue;const s=t[i];if(me(s))e[i]=ZO(i,s,n);else if(s!=null){process.env.NODE_ENV!=="production"&&q(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const a=Lf(s);e[i]=()=>a}}},Mg=(t,e)=>{process.env.NODE_ENV!=="production"&&!Fa(t.vnode)&&q("Non-function value encountered for default slot. Prefer function slots for better performance.");const r=Lf(e);t.slots.default=()=>r},JO=(t,e)=>{const r=t.slots=pg();if(t.vnode.shapeFlag&32){const n=e._;n?(Qe(r,e),Zp(r,"_",n)):xg(e,r)}else e&&Mg(t,e)},QO=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,a=Xe;if(n.shapeFlag&32){const o=e._;o?process.env.NODE_ENV!=="production"&&di?(Qe(i,e),un(t,"set","$slots")):r&&o===1?s=!1:(Qe(i,e),!r&&o===1&&delete i._):(s=!e.$stable,xg(e,i)),a=e}else e&&(Mg(t,e),a={default:1});if(s)for(const o in i)!Og(o)&&a[o]==null&&delete i[o]};function Af(t,e,r,n,i=!1){if(ue(t)){t.forEach((h,d)=>Af(h,e&&(ue(e)?e[d]:e),r,n,i));return}if($a(n)&&!i)return;const s=n.shapeFlag&4?Ul(n.component)||n.component.proxy:n.el,a=i?null:s,{i:o,r:l}=t;if(process.env.NODE_ENV!=="production"&&!o){q("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=e&&e.r,f=o.refs===Xe?o.refs={}:o.refs,c=o.setupState;if(u!=null&&u!==l&&(nt(u)?(f[u]=null,ke(c,u)&&(c[u]=null)):Ye(u)&&(u.value=null)),me(l))Vn(l,o,12,[a,f]);else{const h=nt(l),d=Ye(l);if(h||d){const p=()=>{if(t.f){const m=h?ke(c,l)?c[l]:f[l]:l.value;i?ue(m)&&Wc(m,s):ue(m)?m.includes(s)||m.push(s):h?(f[l]=[s],ke(c,l)&&(c[l]=f[l])):(l.value=[s],t.k&&(f[t.k]=l.value))}else h?(f[l]=a,ke(c,l)&&(c[l]=a)):d?(l.value=a,t.k&&(f[t.k]=a)):process.env.NODE_ENV!=="production"&&q("Invalid template ref type:",l,`(${typeof l})`)};a?(p.id=-1,sr(p,r)):p()}else process.env.NODE_ENV!=="production"&&q("Invalid template ref type:",l,`(${typeof l})`)}}let Va,yi;function Bn(t,e){t.appContext.config.performance&&Dl()&&yi.mark(`vue-${e}-${t.uid}`),process.env.NODE_ENV!=="production"&&nO(t,e,Dl()?yi.now():Date.now())}function Wn(t,e){if(t.appContext.config.performance&&Dl()){const r=`vue-${e}-${t.uid}`,n=r+":end";yi.mark(n),yi.measure(`<${Bl(t,t.type)}> ${e}`,r,n),yi.clearMarks(r),yi.clearMarks(n)}process.env.NODE_ENV!=="production"&&iO(t,e,Dl()?yi.now():Date.now())}function Dl(){return Va!==void 0||(typeof window<"u"&&window.performance?(Va=!0,yi=window.performance):Va=!1),Va}function ex(){const t=[];if(typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(process.env.NODE_ENV!=="production"&&t.push("__VUE_PROD_HYDRATION_MISMATCH_DETAILS__"),ul().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1),process.env.NODE_ENV!=="production"&&t.length){const e=t.length>1;console.warn(`Feature flag${e?"s":""} ${t.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const sr=mO;function tx(t){return rx(t)}function rx(t,e){ex();const r=ul();r.__VUE__=!0,process.env.NODE_ENV!=="production"&&hf(r.__VUE_DEVTOOLS_GLOBAL_HOOK__,r);const{insert:n,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:f,parentNode:c,nextSibling:h,setScopeId:d=mt,insertStaticContent:p}=t,m=(_,E,I,j=null,V=null,W=null,Z=void 0,B=null,K=process.env.NODE_ENV!=="production"&&di?!1:!!E.dynamicChildren)=>{if(_===E)return;_&&!ls(_,E)&&(j=dr(_),Ne(_,V,W,!0),_=null),E.patchFlag===-2&&(K=!1,E.dynamicChildren=null);const{type:U,ref:ne,shapeFlag:ce}=E;switch(U){case Ua:g(_,E,I,j);break;case Tt:v(_,E,I,j);break;case $l:_==null?y(E,I,j,Z):process.env.NODE_ENV!=="production"&&b(_,E,I,Z);break;case Ve:Q(_,E,I,j,V,W,Z,B,K);break;default:ce&1?N(_,E,I,j,V,W,Z,B,K):ce&6?be(_,E,I,j,V,W,Z,B,K):ce&64||ce&128?U.process(_,E,I,j,V,W,Z,B,K,$t):process.env.NODE_ENV!=="production"&&q("Invalid VNode type:",U,`(${typeof U})`)}ne!=null&&V&&Af(ne,_&&_.ref,W,E||_,!E)},g=(_,E,I,j)=>{if(_==null)n(E.el=o(E.children),I,j);else{const V=E.el=_.el;E.children!==_.children&&u(V,E.children)}},v=(_,E,I,j)=>{_==null?n(E.el=l(E.children||""),I,j):E.el=_.el},y=(_,E,I,j)=>{[_.el,_.anchor]=p(_.children,E,I,j,_.el,_.anchor)},b=(_,E,I,j)=>{if(E.children!==_.children){const V=h(_.anchor);x(_),[E.el,E.anchor]=p(E.children,I,V,j)}else E.el=_.el,E.anchor=_.anchor},S=({el:_,anchor:E},I,j)=>{let V;for(;_&&_!==E;)V=h(_),n(_,I,j),_=V;n(E,I,j)},x=({el:_,anchor:E})=>{let I;for(;_&&_!==E;)I=h(_),i(_),_=I;i(E)},N=(_,E,I,j,V,W,Z,B,K)=>{E.type==="svg"?Z="svg":E.type==="math"&&(Z="mathml"),_==null?M(E,I,j,V,W,Z,B,K):C(_,E,V,W,Z,B,K)},M=(_,E,I,j,V,W,Z,B)=>{let K,U;const{props:ne,shapeFlag:ce,transition:le,dirs:pe}=_;if(K=_.el=a(_.type,W,ne&&ne.is,ne),ce&8?f(K,_.children):ce&16&&D(_.children,K,null,j,V,If(_,W),Z,B),pe&&ss(_,null,j,"created"),L(K,_,_.scopeId,Z,j),ne){for(const Fe in ne)Fe!=="value"&&!Na(Fe)&&s(K,Fe,null,ne[Fe],W,_.children,j,V,De);"value"in ne&&s(K,"value",null,ne.value,W),(U=ne.onVnodeBeforeMount)&&dn(U,j,_)}process.env.NODE_ENV!=="production"&&(Object.defineProperty(K,"__vnode",{value:_,enumerable:!1}),Object.defineProperty(K,"__vueParentComponent",{value:j,enumerable:!1})),pe&&ss(_,null,j,"beforeMount");const Te=nx(V,le);Te&&le.beforeEnter(K),n(K,E,I),((U=ne&&ne.onVnodeMounted)||Te||pe)&&sr(()=>{U&&dn(U,j,_),Te&&le.enter(K),pe&&ss(_,null,j,"mounted")},V)},L=(_,E,I,j,V)=>{if(I&&d(_,I),j)for(let W=0;W<j.length;W++)d(_,j[W]);if(V){let W=V.subTree;if(process.env.NODE_ENV!=="production"&&W.patchFlag>0&&W.patchFlag&2048&&(W=gf(W.children)||W),E===W){const Z=V.vnode;L(_,Z,Z.scopeId,Z.slotScopeIds,V.parent)}}},D=(_,E,I,j,V,W,Z,B,K=0)=>{for(let U=K;U<_.length;U++){const ne=_[U]=B?vi(_[U]):Wr(_[U]);m(null,ne,E,I,j,V,W,Z,B)}},C=(_,E,I,j,V,W,Z)=>{const B=E.el=_.el;let{patchFlag:K,dynamicChildren:U,dirs:ne}=E;K|=_.patchFlag&16;const ce=_.props||Xe,le=E.props||Xe;let pe;if(I&&os(I,!1),(pe=le.onVnodeBeforeUpdate)&&dn(pe,I,E,_),ne&&ss(E,_,I,"beforeUpdate"),I&&os(I,!0),process.env.NODE_ENV!=="production"&&di&&(K=0,Z=!1,U=null),U?(R(_.dynamicChildren,U,B,I,j,If(E,V),W),process.env.NODE_ENV!=="production"&&Ga(_,E)):Z||Le(_,E,B,null,I,j,If(E,V),W,!1),K>0){if(K&16)k(B,E,ce,le,I,j,V);else if(K&2&&ce.class!==le.class&&s(B,"class",null,le.class,V),K&4&&s(B,"style",ce.style,le.style,V),K&8){const Te=E.dynamicProps;for(let Fe=0;Fe<Te.length;Fe++){const tt=Te[Fe],bt=ce[tt],nr=le[tt];(nr!==bt||tt==="value")&&s(B,tt,bt,nr,V,_.children,I,j,De)}}K&1&&_.children!==E.children&&f(B,E.children)}else!Z&&U==null&&k(B,E,ce,le,I,j,V);((pe=le.onVnodeUpdated)||ne)&&sr(()=>{pe&&dn(pe,I,E,_),ne&&ss(E,_,I,"updated")},j)},R=(_,E,I,j,V,W,Z)=>{for(let B=0;B<E.length;B++){const K=_[B],U=E[B],ne=K.el&&(K.type===Ve||!ls(K,U)||K.shapeFlag&70)?c(K.el):I;m(K,U,ne,null,j,V,W,Z,!0)}},k=(_,E,I,j,V,W,Z)=>{if(I!==j){if(I!==Xe)for(const B in I)!Na(B)&&!(B in j)&&s(_,B,I[B],null,Z,E.children,V,W,De);for(const B in j){if(Na(B))continue;const K=j[B],U=I[B];K!==U&&B!=="value"&&s(_,B,U,K,Z,E.children,V,W,De)}"value"in j&&s(_,"value",I.value,j.value,Z)}},Q=(_,E,I,j,V,W,Z,B,K)=>{const U=E.el=_?_.el:o(""),ne=E.anchor=_?_.anchor:o("");let{patchFlag:ce,dynamicChildren:le,slotScopeIds:pe}=E;process.env.NODE_ENV!=="production"&&(di||ce&2048)&&(ce=0,K=!1,le=null),pe&&(B=B?B.concat(pe):pe),_==null?(n(U,I,j),n(ne,I,j),D(E.children||[],I,ne,V,W,Z,B,K)):ce>0&&ce&64&&le&&_.dynamicChildren?(R(_.dynamicChildren,le,I,V,W,Z,B),process.env.NODE_ENV!=="production"?Ga(_,E):(E.key!=null||V&&E===V.subTree)&&Ga(_,E,!0)):Le(_,E,I,ne,V,W,Z,B,K)},be=(_,E,I,j,V,W,Z,B,K)=>{E.slotScopeIds=B,_==null?E.shapeFlag&512?V.ctx.activate(E,I,j,Z,K):T(E,I,j,V,W,Z,K):$(_,E,K)},T=(_,E,I,j,V,W,Z)=>{const B=_.component=px(_,j,V);if(process.env.NODE_ENV!=="production"&&B.type.__hmrId&&Yw(B),process.env.NODE_ENV!=="production"&&(wl(_),Bn(B,"mount")),Fa(_)&&(B.ctx.renderer=$t),process.env.NODE_ENV!=="production"&&Bn(B,"init"),gx(B),process.env.NODE_ENV!=="production"&&Wn(B,"init"),B.asyncDep){if(V&&V.registerDep(B,z),!_.el){const K=B.subTree=se(Tt);v(null,K,E,I)}}else z(B,_,E,I,V,W,Z);process.env.NODE_ENV!=="production"&&(Ol(),Wn(B,"mount"))},$=(_,E,I)=>{const j=E.component=_.component;if(uO(_,E,I))if(j.asyncDep&&!j.asyncResolved){process.env.NODE_ENV!=="production"&&wl(E),X(j,E,I),process.env.NODE_ENV!=="production"&&Ol();return}else j.next=E,Hw(j.update),j.effect.dirty=!0,j.update();else E.el=_.el,j.vnode=E},z=(_,E,I,j,V,W,Z)=>{const B=()=>{if(_.isMounted){let{next:ne,bu:ce,u:le,parent:pe,vnode:Te}=_;{const si=Tg(_);if(si){ne&&(ne.el=Te.el,X(_,ne,Z)),si.asyncDep.then(()=>{_.isUnmounted||B()});return}}let Fe=ne,tt;process.env.NODE_ENV!=="production"&&wl(ne||_.vnode),os(_,!1),ne?(ne.el=Te.el,X(_,ne,Z)):ne=Te,ce&&Ca(ce),(tt=ne.props&&ne.props.onVnodeBeforeUpdate)&&dn(tt,pe,ne,Te),os(_,!0),process.env.NODE_ENV!=="production"&&Bn(_,"render");const bt=mf(_);process.env.NODE_ENV!=="production"&&Wn(_,"render");const nr=_.subTree;_.subTree=bt,process.env.NODE_ENV!=="production"&&Bn(_,"patch"),m(nr,bt,c(nr.el),dr(nr),_,V,W),process.env.NODE_ENV!=="production"&&Wn(_,"patch"),ne.el=bt.el,Fe===null&&cO(_,bt.el),le&&sr(le,V),(tt=ne.props&&ne.props.onVnodeUpdated)&&sr(()=>dn(tt,pe,ne,Te),V),process.env.NODE_ENV!=="production"&&Vm(_),process.env.NODE_ENV!=="production"&&Ol()}else{let ne;const{el:ce,props:le}=E,{bm:pe,m:Te,parent:Fe}=_,tt=$a(E);if(os(_,!1),pe&&Ca(pe),!tt&&(ne=le&&le.onVnodeBeforeMount)&&dn(ne,Fe,E),os(_,!0),ce&&ii){const bt=()=>{process.env.NODE_ENV!=="production"&&Bn(_,"render"),_.subTree=mf(_),process.env.NODE_ENV!=="production"&&Wn(_,"render"),process.env.NODE_ENV!=="production"&&Bn(_,"hydrate"),ii(ce,_.subTree,_,V,null),process.env.NODE_ENV!=="production"&&Wn(_,"hydrate")};tt?E.type.__asyncLoader().then(()=>!_.isUnmounted&&bt()):bt()}else{process.env.NODE_ENV!=="production"&&Bn(_,"render");const bt=_.subTree=mf(_);process.env.NODE_ENV!=="production"&&Wn(_,"render"),process.env.NODE_ENV!=="production"&&Bn(_,"patch"),m(null,bt,I,j,_,V,W),process.env.NODE_ENV!=="production"&&Wn(_,"patch"),E.el=bt.el}if(Te&&sr(Te,V),!tt&&(ne=le&&le.onVnodeMounted)){const bt=E;sr(()=>dn(ne,Fe,bt),V)}(E.shapeFlag&256||Fe&&$a(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&_.a&&sr(_.a,V),_.isMounted=!0,process.env.NODE_ENV!=="production"&&eO(_),E=I=j=null}},K=_.effect=new Xc(B,mt,()=>Ml(U),_.scope),U=_.update=()=>{K.dirty&&K.run()};U.id=_.uid,os(_,!0),process.env.NODE_ENV!=="production"&&(K.onTrack=_.rtc?ne=>Ca(_.rtc,ne):void 0,K.onTrigger=_.rtg?ne=>Ca(_.rtg,ne):void 0,U.ownerInstance=_),U()},X=(_,E,I)=>{E.component=_;const j=_.vnode.props;_.vnode=E,_.next=null,qO(_,E.props,j,I),QO(_,E.children,I),$n(),Dm(_),Fn()},Le=(_,E,I,j,V,W,Z,B,K=!1)=>{const U=_&&_.children,ne=_?_.shapeFlag:0,ce=E.children,{patchFlag:le,shapeFlag:pe}=E;if(le>0){if(le&128){_t(U,ce,I,j,V,W,Z,B,K);return}else if(le&256){Ae(U,ce,I,j,V,W,Z,B,K);return}}pe&8?(ne&16&&De(U,V,W),ce!==U&&f(I,ce)):ne&16?pe&16?_t(U,ce,I,j,V,W,Z,B,K):De(U,V,W,!0):(ne&8&&f(I,""),pe&16&&D(ce,I,j,V,W,Z,B,K))},Ae=(_,E,I,j,V,W,Z,B,K)=>{_=_||ks,E=E||ks;const U=_.length,ne=E.length,ce=Math.min(U,ne);let le;for(le=0;le<ce;le++){const pe=E[le]=K?vi(E[le]):Wr(E[le]);m(_[le],pe,I,null,V,W,Z,B,K)}U>ne?De(_,V,W,!0,!1,ce):D(E,I,j,V,W,Z,B,K,ce)},_t=(_,E,I,j,V,W,Z,B,K)=>{let U=0;const ne=E.length;let ce=_.length-1,le=ne-1;for(;U<=ce&&U<=le;){const pe=_[U],Te=E[U]=K?vi(E[U]):Wr(E[U]);if(ls(pe,Te))m(pe,Te,I,null,V,W,Z,B,K);else break;U++}for(;U<=ce&&U<=le;){const pe=_[ce],Te=E[le]=K?vi(E[le]):Wr(E[le]);if(ls(pe,Te))m(pe,Te,I,null,V,W,Z,B,K);else break;ce--,le--}if(U>ce){if(U<=le){const pe=le+1,Te=pe<ne?E[pe].el:j;for(;U<=le;)m(null,E[U]=K?vi(E[U]):Wr(E[U]),I,Te,V,W,Z,B,K),U++}}else if(U>le)for(;U<=ce;)Ne(_[U],V,W,!0),U++;else{const pe=U,Te=U,Fe=new Map;for(U=Te;U<=le;U++){const pt=E[U]=K?vi(E[U]):Wr(E[U]);pt.key!=null&&(process.env.NODE_ENV!=="production"&&Fe.has(pt.key)&&q("Duplicate keys found during update:",JSON.stringify(pt.key),"Make sure keys are unique."),Fe.set(pt.key,U))}let tt,bt=0;const nr=le-Te+1;let si=!1,As=0;const Dn=new Array(nr);for(U=0;U<nr;U++)Dn[U]=0;for(U=pe;U<=ce;U++){const pt=_[U];if(bt>=nr){Ne(pt,V,W,!0);continue}let pr;if(pt.key!=null)pr=Fe.get(pt.key);else for(tt=Te;tt<=le;tt++)if(Dn[tt-Te]===0&&ls(pt,E[tt])){pr=tt;break}pr===void 0?Ne(pt,V,W,!0):(Dn[pr-Te]=U+1,pr>=As?As=pr:si=!0,m(pt,E[pr],I,null,V,W,Z,B,K),bt++)}const Gr=si?ix(Dn):ks;for(tt=Gr.length-1,U=nr-1;U>=0;U--){const pt=Te+U,pr=E[pt],xa=pt+1<ne?E[pt+1].el:j;Dn[U]===0?m(null,pr,I,xa,V,W,Z,B,K):si&&(tt<0||U!==Gr[tt]?Kt(pr,I,xa,2):tt--)}}},Kt=(_,E,I,j,V=null)=>{const{el:W,type:Z,transition:B,children:K,shapeFlag:U}=_;if(U&6){Kt(_.component.subTree,E,I,j);return}if(U&128){_.suspense.move(E,I,j);return}if(U&64){Z.move(_,E,I,$t);return}if(Z===Ve){n(W,E,I);for(let ce=0;ce<K.length;ce++)Kt(K[ce],E,I,j);n(_.anchor,E,I);return}if(Z===$l){S(_,E,I);return}if(j!==2&&U&1&&B)if(j===0)B.beforeEnter(W),n(W,E,I),sr(()=>B.enter(W),V);else{const{leave:ce,delayLeave:le,afterLeave:pe}=B,Te=()=>n(W,E,I),Fe=()=>{ce(W,()=>{Te(),pe&&pe()})};le?le(W,Te,Fe):Fe()}else n(W,E,I)},Ne=(_,E,I,j=!1,V=!1)=>{const{type:W,props:Z,ref:B,children:K,dynamicChildren:U,shapeFlag:ne,patchFlag:ce,dirs:le}=_;if(B!=null&&Af(B,null,I,_,!0),ne&256){E.ctx.deactivate(_);return}const pe=ne&1&&le,Te=!$a(_);let Fe;if(Te&&(Fe=Z&&Z.onVnodeBeforeUnmount)&&dn(Fe,E,_),ne&6)An(_.component,I,j);else{if(ne&128){_.suspense.unmount(I,j);return}pe&&ss(_,null,E,"beforeUnmount"),ne&64?_.type.remove(_,E,I,V,$t,j):U&&(W!==Ve||ce>0&&ce&64)?De(U,E,I,!1,!0):(W===Ve&&ce&384||!V&&ne&16)&&De(K,E,I),j&&Rt(_)}(Te&&(Fe=Z&&Z.onVnodeUnmounted)||pe)&&sr(()=>{Fe&&dn(Fe,E,_),pe&&ss(_,null,E,"unmounted")},I)},Rt=_=>{const{type:E,el:I,anchor:j,transition:V}=_;if(E===Ve){process.env.NODE_ENV!=="production"&&_.patchFlag>0&&_.patchFlag&2048&&V&&!V.persisted?_.children.forEach(Z=>{Z.type===Tt?i(Z.el):Rt(Z)}):lt(I,j);return}if(E===$l){x(_);return}const W=()=>{i(I),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(_.shapeFlag&1&&V&&!V.persisted){const{leave:Z,delayLeave:B}=V,K=()=>Z(I,W);B?B(_.el,W,K):K()}else W()},lt=(_,E)=>{let I;for(;_!==E;)I=h(_),i(_),_=I;i(E)},An=(_,E,I)=>{process.env.NODE_ENV!=="production"&&_.type.__hmrId&&Kw(_);const{bum:j,scope:V,update:W,subTree:Z,um:B}=_;j&&Ca(j),V.stop(),W&&(W.active=!1,Ne(Z,_,E,I)),B&&sr(B,E),sr(()=>{_.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve()),process.env.NODE_ENV!=="production"&&rO(_)},De=(_,E,I,j=!1,V=!1,W=0)=>{for(let Z=W;Z<_.length;Z++)Ne(_[Z],E,I,j,V)},dr=_=>_.shapeFlag&6?dr(_.component.subTree):_.shapeFlag&128?_.suspense.next():h(_.anchor||_.el);let In=!1;const ni=(_,E,I)=>{_==null?E._vnode&&Ne(E._vnode,null,null,!0):m(E._vnode||null,_,E,null,null,null,I),In||(In=!0,Dm(),Rm(),In=!1),E._vnode=_},$t={p:m,um:Ne,m:Kt,r:Rt,mt:T,mc:D,pc:Le,pbc:R,n:dr,o:t};let kn,ii;return e&&([kn,ii]=e($t)),{render:ni,hydrate:kn,createApp:GO(ni,kn)}}function If({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function os({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function nx(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ga(t,e,r=!1){const n=t.children,i=e.children;if(ue(n)&&ue(i))for(let s=0;s<n.length;s++){const a=n[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=vi(i[s]),o.el=a.el),r||Ga(a,o)),o.type===Ua&&(o.el=a.el),process.env.NODE_ENV!=="production"&&o.type===Tt&&!o.el&&(o.el=a.el)}}function ix(t){const e=t.slice(),r=[0];let n,i,s,a,o;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=r[r.length-1],t[i]<u){e[n]=i,r.push(n);continue}for(s=0,a=r.length-1;s<a;)o=s+a>>1,t[r[o]]<u?s=o+1:a=o;u<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=e[a];return r}function Tg(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Tg(e)}const sx=t=>t.__isTeleport,js=t=>t&&(t.disabled||t.disabled===""),Ng=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Cg=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,kf=(t,e)=>{const r=t&&t.to;if(nt(r))if(e){const n=e(r);return n||process.env.NODE_ENV!=="production"&&q(`Failed to locate Teleport target with selector "${r}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),n}else return process.env.NODE_ENV!=="production"&&q("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return process.env.NODE_ENV!=="production"&&!r&&!js(t)&&q(`Invalid Teleport target: ${r}`),r},ax={name:"Teleport",__isTeleport:!0,process(t,e,r,n,i,s,a,o,l,u){const{mc:f,pc:c,pbc:h,o:{insert:d,querySelector:p,createText:m,createComment:g}}=u,v=js(e.props);let{shapeFlag:y,children:b,dynamicChildren:S}=e;if(process.env.NODE_ENV!=="production"&&di&&(l=!1,S=null),t==null){const x=e.el=process.env.NODE_ENV!=="production"?g("teleport start"):m(""),N=e.anchor=process.env.NODE_ENV!=="production"?g("teleport end"):m("");d(x,r,n),d(N,r,n);const M=e.target=kf(e.props,p),L=e.targetAnchor=m("");M?(d(L,M),a==="svg"||Ng(M)?a="svg":(a==="mathml"||Cg(M))&&(a="mathml")):process.env.NODE_ENV!=="production"&&!v&&q("Invalid Teleport target on mount:",M,`(${typeof M})`);const D=(C,R)=>{y&16&&f(b,C,R,i,s,a,o,l)};v?D(r,N):M&&D(M,L)}else{e.el=t.el;const x=e.anchor=t.anchor,N=e.target=t.target,M=e.targetAnchor=t.targetAnchor,L=js(t.props),D=L?r:N,C=L?x:M;if(a==="svg"||Ng(N)?a="svg":(a==="mathml"||Cg(N))&&(a="mathml"),S?(h(t.dynamicChildren,S,D,i,s,a,o),Ga(t,e,!0)):l||c(t,e,D,C,i,s,a,o,!1),v)L?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Rl(e,r,x,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=kf(e.props,p);R?Rl(e,R,null,u,0):process.env.NODE_ENV!=="production"&&q("Invalid Teleport target on update:",N,`(${typeof N})`)}else L&&Rl(e,N,M,u,1)}Lg(e)},remove(t,e,r,n,{um:i,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:u,targetAnchor:f,target:c,props:h}=t;if(c&&s(f),a&&s(u),o&16){const d=a||!js(h);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,r,d,!!m.dynamicChildren)}}},move:Rl,hydrate:ox};function Rl(t,e,r,{o:{insert:n},m:i},s=2){s===0&&n(t.targetAnchor,e,r);const{el:a,anchor:o,shapeFlag:l,children:u,props:f}=t,c=s===2;if(c&&n(a,e,r),(!c||js(f))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,r,2);c&&n(o,e,r)}function ox(t,e,r,n,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const f=e.target=kf(e.props,l);if(f){const c=f._lpa||f.firstChild;if(e.shapeFlag&16)if(js(e.props))e.anchor=u(a(t),e,o(t),r,n,i,s),e.targetAnchor=c;else{e.anchor=a(t);let h=c;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(c,e,f,r,n,i,s)}Lg(e)}return e.anchor&&a(e.anchor)}const Pg=ax;function Lg(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Ve=Symbol.for("v-fgt"),Ua=Symbol.for("v-txt"),Tt=Symbol.for("v-cmt"),$l=Symbol.for("v-stc"),Ba=[];let Br=null;function A(t=!1){Ba.push(Br=t?null:[])}function lx(){Ba.pop(),Br=Ba[Ba.length-1]||null}let Wa=1;function Ag(t){Wa+=t}function Ig(t){return t.dynamicChildren=Wa>0?Br||ks:null,lx(),Wa>0&&Br&&Br.push(t),t}function G(t,e,r,n,i,s){return Ig(P(t,e,r,n,i,s,!0))}function Ge(t,e,r,n,i){return Ig(se(t,e,r,n,i,!0))}function Vs(t){return t?t.__v_isVNode===!0:!1}function ls(t,e){return process.env.NODE_ENV!=="production"&&e.shapeFlag&6&&Rs.has(e.type)?(t.shapeFlag&=-257,e.shapeFlag&=-513,!1):t.type===e.type&&t.key===e.key}const ux=(...t)=>Dg(...t),kg=({key:t})=>t!=null?t:null,Fl=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?nt(t)||Ye(t)||me(t)?{i:ct,r:t,k:e,f:!!r}:t:null);function P(t,e=null,r=null,n=0,i=null,s=t===Ve?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kg(e),ref:e&&Fl(e),scopeId:Bm,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ct};return o?(Df(l,r),s&128&&t.normalize(l)):r&&(l.shapeFlag|=nt(r)?8:16),process.env.NODE_ENV!=="production"&&l.key!==l.key&&q("VNode created with invalid key (NaN). VNode type:",l.type),Wa>0&&!a&&Br&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Br.push(l),l}const se=process.env.NODE_ENV!=="production"?ux:Dg;function Dg(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===dO)&&(process.env.NODE_ENV!=="production"&&!t&&q(`Invalid vnode type when creating vnode: ${t}.`),t=Tt),Vs(t)){const o=hn(t,e,!0);return r&&Df(o,r),Wa>0&&!s&&Br&&(o.shapeFlag&6?Br[Br.indexOf(t)]=o:Br.push(o)),o.patchFlag|=-2,o}if(Ug(t)&&(t=t.__vccOpts),e){e=cx(e);let{class:o,style:l}=e;o&&!nt(o)&&(e.class=Ie(o)),je(l)&&(bl(l)&&!ue(l)&&(l=Qe({},l)),e.style=li(l))}const a=nt(t)?1:pO(t)?128:sx(t)?64:je(t)?4:me(t)?2:0;return process.env.NODE_ENV!=="production"&&a&4&&bl(t)&&(t=_e(t),q("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),P(t,e,r,n,i,a,s,!0)}function cx(t){return t?bl(t)||mg(t)?Qe({},t):t:null}function hn(t,e,r=!1){const{props:n,ref:i,patchFlag:s,children:a}=t,o=e?fx(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&kg(o),ref:e&&e.ref?r&&i?ue(i)?i.concat(Fl(e)):[i,Fl(e)]:Fl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:process.env.NODE_ENV!=="production"&&s===-1&&ue(a)?a.map(Rg):a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ve?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hn(t.ssContent),ssFallback:t.ssFallback&&hn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Rg(t){const e=hn(t);return ue(t.children)&&(e.children=t.children.map(Rg)),e}function jl(t=" ",e=0){return se(Ua,null,t,e)}function F(t="",e=!1){return e?(A(),Ge(Tt,null,t)):se(Tt,null,t)}function Wr(t){return t==null||typeof t=="boolean"?se(Tt):ue(t)?se(Ve,null,t.slice()):typeof t=="object"?vi(t):se(Ua,null,String(t))}function vi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:hn(t)}function Df(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ue(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),Df(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!mg(e)?e._ctx=ct:i===3&&ct&&(ct.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else me(e)?(e={default:e,_ctx:ct},r=32):(e=String(e),n&64?(r=16,e=[jl(e)]):r=8);t.children=e,t.shapeFlag|=r}function fx(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Ie([e.class,n.class]));else if(i==="style")e.style=li([e.style,n.style]);else if(Ta(i)){const s=e[i],a=n[i];a&&s!==a&&!(ue(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=n[i])}return e}function dn(t,e,r,n=null){xr(t,e,7,[r,n])}const hx=fg();let dx=0;function px(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||hx,s={uid:dx++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new tm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yg(n,i),emitsOptions:Um(n,i),emit:null,emitted:null,propsDefaults:Xe,inheritAttrs:n.inheritAttrs,ctx:Xe,data:Xe,props:Xe,attrs:Xe,slots:Xe,refs:Xe,setupState:Xe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return process.env.NODE_ENV!=="production"?s.ctx=LO(s):s.ctx={_:s},s.root=e?e.root:s,s.emit=aO.bind(null,s),t.ce&&t.ce(s),s}let Et=null;const qa=()=>Et||ct;let Vl,Rf;{const t=ul(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};Vl=e("__VUE_INSTANCE_SETTERS__",r=>Et=r),Rf=e("__VUE_SSR_SETTERS__",r=>Gl=r)}const Ha=t=>{const e=Et;return Vl(t),t.scope.on(),()=>{t.scope.off(),Vl(e)}},$g=()=>{Et&&Et.scope.off(),Vl(null)},mx=Rn("slot,component");function $f(t,{isNativeTag:e}){(mx(t)||e(t))&&q("Do not use built-in or reserved HTML elements as component id: "+t)}function Fg(t){return t.vnode.shapeFlag&4}let Gl=!1;function gx(t,e=!1){e&&Rf(e);const{props:r,children:n}=t.vnode,i=Fg(t);BO(t,r,i,e),JO(t,n);const s=i?yx(t,e):void 0;return e&&Rf(!1),s}function yx(t,e){var r;const n=t.type;if(process.env.NODE_ENV!=="production"){if(n.name&&$f(n.name,t.appContext.config),n.components){const s=Object.keys(n.components);for(let a=0;a<s.length;a++)$f(s[a],t.appContext.config)}if(n.directives){const s=Object.keys(n.directives);for(let a=0;a<s.length;a++)Xm(s[a])}n.compilerOptions&&vx()&&q('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sg),process.env.NODE_ENV!=="production"&&AO(t);const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?bx(t):null,a=Ha(t);$n();const o=Vn(i,t,0,[process.env.NODE_ENV!=="production"?jn(t.props):t.props,s]);if(Fn(),a(),qc(o)){if(o.then($g,$g),e)return o.then(l=>{jg(t,l,e)}).catch(l=>{La(l,t,0)});if(t.asyncDep=o,process.env.NODE_ENV!=="production"&&!t.suspense){const l=(r=n.name)!=null?r:"Anonymous";q(`Component <${l}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else jg(t,o,e)}else Vg(t,e)}function jg(t,e,r){me(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:je(e)?(process.env.NODE_ENV!=="production"&&Vs(e)&&q("setup() should not return VNodes directly - return a render function instead."),process.env.NODE_ENV!=="production"&&(t.devtoolsRawSetupState=e),t.setupState=Cm(e),process.env.NODE_ENV!=="production"&&IO(t)):process.env.NODE_ENV!=="production"&&e!==void 0&&q(`setup() should return an object. Received: ${e===null?"null":typeof e}`),Vg(t,r)}let Ff;const vx=()=>!Ff;function Vg(t,e,r){const n=t.type;if(!t.render){if(!e&&Ff&&!n.render){const i=n.template||Tf(t).template;if(i){process.env.NODE_ENV!=="production"&&Bn(t,"compile");const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=n,u=Qe(Qe({isCustomElement:s,delimiters:o},a),l);n.render=Ff(i,u),process.env.NODE_ENV!=="production"&&Wn(t,"compile")}}t.render=n.render||mt}{const i=Ha(t);$n();try{DO(t)}finally{Fn(),i()}}process.env.NODE_ENV!=="production"&&!n.render&&t.render===mt&&!e&&(n.template?q('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):q("Component is missing template or render function."))}const Gg=process.env.NODE_ENV!=="production"?{get(t,e){return Cl(),At(t,"get",""),t[e]},set(){return q("setupContext.attrs is readonly."),!1},deleteProperty(){return q("setupContext.attrs is readonly."),!1}}:{get(t,e){return At(t,"get",""),t[e]}};function _x(t){return t.slotsProxy||(t.slotsProxy=new Proxy(t.slots,{get(e,r){return At(t,"get","$slots"),e[r]}}))}function bx(t){const e=r=>{if(process.env.NODE_ENV!=="production"&&(t.exposed&&q("expose() should be called only once per setup()."),r!=null)){let n=typeof r;n==="object"&&(ue(r)?n="array":Ye(r)&&(n="ref")),n!=="object"&&q(`expose() should be passed a plain object, received ${n}.`)}t.exposed=r||{}};if(process.env.NODE_ENV!=="production"){let r;return Object.freeze({get attrs(){return r||(r=new Proxy(t.attrs,Gg))},get slots(){return _x(t)},get emit(){return(n,...i)=>t.emit(n,...i)},expose:e})}else return{attrs:new Proxy(t.attrs,Gg),slots:t.slots,emit:t.emit,expose:e}}function Ul(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Cm(fi(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in as)return as[r](t)},has(e,r){return r in e||r in as}}))}const Sx=/(?:^|[-_])(\w)/g,Ex=t=>t.replace(Sx,e=>e.toUpperCase()).replace(/[-_]/g,"");function jf(t,e=!0){return me(t)?t.displayName||t.name:t.name||e&&t.__name}function Bl(t,e,r=!1){let n=jf(e);if(!n&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(n=i[1])}if(!n&&t&&t.parent){const i=s=>{for(const a in s)if(s[a]===e)return a};n=i(t.components||t.parent.type.components)||i(t.appContext.components)}return n?Ex(n):r?"App":"Anonymous"}function Ug(t){return me(t)&&"__vccOpts"in t}const de=(t,e)=>{const r=Iw(t,e,Gl);if(process.env.NODE_ENV!=="production"){const n=qa();n&&n.appContext.config.warnRecursiveComputed&&(r._warnRecursive=!0)}return r};function Bg(t,e,r){const n=arguments.length;return n===2?je(e)&&!ue(e)?Vs(e)?se(t,null,[e]):se(t,e):se(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Vs(r)&&(r=[r]),se(t,e,r))}function wx(){if(process.env.NODE_ENV==="production"||typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#1677ff"},r={style:"color:#f5222d"},n={style:"color:#eb2f96"},i={header(c){return je(c)?c.__isVue?["div",t,"VueInstance"]:Ye(c)?["div",{},["span",t,f(c)],"<",o(c.value),">"]:cn(c)?["div",{},["span",t,ts(c)?"ShallowReactive":"Reactive"],"<",o(c),`>${es(c)?" (readonly)":""}`]:es(c)?["div",{},["span",t,ts(c)?"ShallowReadonly":"Readonly"],"<",o(c),">"]:null:null},hasBody(c){return c&&c.__isVue},body(c){if(c&&c.__isVue)return["div",{},...s(c.$)]}};function s(c){const h=[];c.type.props&&c.props&&h.push(a("props",_e(c.props))),c.setupState!==Xe&&h.push(a("setup",c.setupState)),c.data!==Xe&&h.push(a("data",_e(c.data)));const d=l(c,"computed");d&&h.push(a("computed",d));const p=l(c,"inject");return p&&h.push(a("injected",p)),h.push(["div",{},["span",{style:n.style+";opacity:0.66"},"$ (internal): "],["object",{object:c}]]),h}function a(c,h){return h=Qe({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},c],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(d=>["div",{},["span",n,d+": "],o(h[d],!1)])]]:["span",{}]}function o(c,h=!0){return typeof c=="number"?["span",e,c]:typeof c=="string"?["span",r,JSON.stringify(c)]:typeof c=="boolean"?["span",n,c]:je(c)?["object",{object:h?_e(c):c}]:["span",r,String(c)]}function l(c,h){const d=c.type;if(me(d))return;const p={};for(const m in c.ctx)u(d,m,h)&&(p[m]=c.ctx[m]);return p}function u(c,h,d){const p=c[d];if(ue(p)&&p.includes(h)||je(p)&&h in p||c.extends&&u(c.extends,h,d)||c.mixins&&c.mixins.some(m=>u(m,h,d)))return!0}function f(c){return ts(c)?"ShallowRef":c.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}const Wg="3.4.25",_i=process.env.NODE_ENV!=="production"?q:mt;process.env.NODE_ENV,process.env.NODE_ENV;/**
* @vue/runtime-dom v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ox="http://www.w3.org/2000/svg",xx="http://www.w3.org/1998/Math/MathML",bi=typeof document<"u"?document:null,qg=bi&&bi.createElement("template"),Mx={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?bi.createElementNS(Ox,t):e==="mathml"?bi.createElementNS(xx,t):bi.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>bi.createTextNode(t),createComment:t=>bi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const a=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{qg.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const o=qg.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[a?a.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Si="transition",za="animation",Ya=Symbol("_vtc"),Wl=(t,{slots:e})=>Bg(bO,Tx(t),e);Wl.displayName="Transition";const Hg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Wl.props=Qe({},Zm,Hg);const us=(t,e=[])=>{ue(t)?t.forEach(r=>r(...e)):t&&t(...e)},zg=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function Tx(t){const e={};for(const k in t)k in Hg||(e[k]=t[k]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:f=o,leaveFromClass:c=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=t,p=Nx(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:S,onLeaveCancelled:x,onBeforeAppear:N=v,onAppear:M=y,onAppearCancelled:L=b}=e,D=(k,Q,be)=>{cs(k,Q?f:o),cs(k,Q?u:a),be&&be()},C=(k,Q)=>{k._isLeaving=!1,cs(k,c),cs(k,d),cs(k,h),Q&&Q()},R=k=>(Q,be)=>{const T=k?M:y,$=()=>D(Q,k,be);us(T,[Q,$]),Yg(()=>{cs(Q,k?l:s),Ei(Q,k?f:o),zg(T)||Kg(Q,n,m,$)})};return Qe(e,{onBeforeEnter(k){us(v,[k]),Ei(k,s),Ei(k,a)},onBeforeAppear(k){us(N,[k]),Ei(k,l),Ei(k,u)},onEnter:R(!1),onAppear:R(!0),onLeave(k,Q){k._isLeaving=!0;const be=()=>C(k,Q);Ei(k,c),Ei(k,h),Lx(),Yg(()=>{!k._isLeaving||(cs(k,c),Ei(k,d),zg(S)||Kg(k,n,g,be))}),us(S,[k,be])},onEnterCancelled(k){D(k,!1),us(b,[k])},onAppearCancelled(k){D(k,!0),us(L,[k])},onLeaveCancelled(k){C(k),us(x,[k])}})}function Nx(t){if(t==null)return null;if(je(t))return[Vf(t.enter),Vf(t.leave)];{const e=Vf(t);return[e,e]}}function Vf(t){const e=Yc(t);return process.env.NODE_ENV!=="production"&&Uw(e,"<transition> explicit duration"),e}function Ei(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Ya]||(t[Ya]=new Set)).add(e)}function cs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Ya];r&&(r.delete(e),r.size||(t[Ya]=void 0))}function Yg(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Cx=0;function Kg(t,e,r,n){const i=t._endId=++Cx,s=()=>{i===t._endId&&n()};if(r)return setTimeout(s,r);const{type:a,timeout:o,propCount:l}=Px(t,e);if(!a)return n();const u=a+"end";let f=0;const c=()=>{t.removeEventListener(u,h),s()},h=d=>{d.target===t&&++f>=l&&c()};setTimeout(()=>{f<l&&c()},o+1),t.addEventListener(u,h)}function Px(t,e){const r=window.getComputedStyle(t),n=p=>(r[p]||"").split(", "),i=n(`${Si}Delay`),s=n(`${Si}Duration`),a=Xg(i,s),o=n(`${za}Delay`),l=n(`${za}Duration`),u=Xg(o,l);let f=null,c=0,h=0;e===Si?a>0&&(f=Si,c=a,h=s.length):e===za?u>0&&(f=za,c=u,h=l.length):(c=Math.max(a,u),f=c>0?a>u?Si:za:null,h=f?f===Si?s.length:l.length:0);const d=f===Si&&/\b(transform|all)(,|$)/.test(n(`${Si}Property`).toString());return{type:f,timeout:c,propCount:h,hasTransform:d}}function Xg(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>Zg(r)+Zg(t[n])))}function Zg(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Lx(){return document.body.offsetHeight}function Ax(t,e,r){const n=t[Ya];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Jg=Symbol("_vod"),Ix=Symbol("_vsh");process.env.NODE_ENV;const kx=Symbol(process.env.NODE_ENV!=="production"?"CSS_VAR_TEXT":""),Dx=/(^|;)\s*display\s*:/;function Rx(t,e,r){const n=t.style,i=nt(r);let s=!1;if(r&&!i){if(e)if(nt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();r[o]==null&&ql(n,o,"")}else for(const a in e)r[a]==null&&ql(n,a,"");for(const a in r)a==="display"&&(s=!0),ql(n,a,r[a])}else if(i){if(e!==r){const a=n[kx];a&&(r+=";"+a),n.cssText=r,s=Dx.test(r)}}else e&&t.removeAttribute("style");Jg in t&&(t[Jg]=s?n.display:"",t[Ix]&&(n.display="none"))}const $x=/[^\\];\s*$/,Qg=/\s*!important$/;function ql(t,e,r){if(ue(r))r.forEach(n=>ql(t,e,n));else if(r==null&&(r=""),process.env.NODE_ENV!=="production"&&$x.test(r)&&_i(`Unexpected semicolon at the end of '${e}' style value: '${r}'`),e.startsWith("--"))t.setProperty(e,r);else{const n=Fx(t,e);Qg.test(r)?t.setProperty(ir(n),r.replace(Qg,""),"important"):t[n]=r}}const ey=["Webkit","Moz","ms"],Gf={};function Fx(t,e){const r=Gf[e];if(r)return r;let n=gr(e);if(n!=="filter"&&n in t)return Gf[e]=n;n=Xi(n);for(let i=0;i<ey.length;i++){const s=ey[i]+n;if(s in t)return Gf[e]=s}return e}const ty="http://www.w3.org/1999/xlink";function jx(t,e,r,n,i){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(ty,e.slice(6,e.length)):t.setAttributeNS(ty,e,r);else{const s=lw(e);r==null||s&&!Qp(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function Vx(t,e,r,n,i,s,a){if(e==="innerHTML"||e==="textContent"){n&&a(n,i,s),t[e]=r==null?"":r;return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?t.getAttribute("value")||"":t.value,f=r==null?"":r;(u!==f||!("_value"in t))&&(t.value=f),r==null&&t.removeAttribute(e),t._value=r;return}let l=!1;if(r===""||r==null){const u=typeof t[e];u==="boolean"?r=Qp(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{t[e]=r}catch(u){process.env.NODE_ENV!=="production"&&!l&&_i(`Failed setting prop "${e}" on <${o.toLowerCase()}>: value ${r} is invalid.`,u)}l&&t.removeAttribute(e)}function Gx(t,e,r,n){t.addEventListener(e,r,n)}function Ux(t,e,r,n){t.removeEventListener(e,r,n)}const ry=Symbol("_vei");function Bx(t,e,r,n,i=null){const s=t[ry]||(t[ry]={}),a=s[e];if(n&&a)a.value=process.env.NODE_ENV!=="production"?iy(n,e):n;else{const[o,l]=Wx(e);if(n){const u=s[e]=zx(process.env.NODE_ENV!=="production"?iy(n,e):n,i);Gx(t,o,u,l)}else a&&(Ux(t,o,a,l),s[e]=void 0)}}const ny=/(?:Once|Passive|Capture)$/;function Wx(t){let e;if(ny.test(t)){e={};let n;for(;n=t.match(ny);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ir(t.slice(2)),e]}let Uf=0;const qx=Promise.resolve(),Hx=()=>Uf||(qx.then(()=>Uf=0),Uf=Date.now());function zx(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;xr(Yx(n,r.value),e,5,[n])};return r.value=t,r.attached=Hx(),r}function iy(t,e){return me(t)||ue(t)?t:(_i(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof t}.`),mt)}function Yx(t,e){if(ue(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const sy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Kx=(t,e,r,n,i,s,a,o,l)=>{const u=i==="svg";e==="class"?Ax(t,n,u):e==="style"?Rx(t,r,n):Ta(e)?al(e)||Bx(t,e,r,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Xx(t,e,n,u))?Vx(t,e,n,s,a,o,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),jx(t,e,n,u))};function Xx(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&sy(e)&&me(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return sy(e)&&nt(r)?!1:e in t}const Zx=["ctrl","shift","alt","meta"],Jx={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Zx.some(r=>t[`${r}Key`]&&!e.includes(r))},pn=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(i,...s)=>{for(let a=0;a<e.length;a++){const o=Jx[e[a]];if(o&&o(i,e))return}return t(i,...s)})},Qx={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},mn=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const s=ir(i.key);if(e.some(a=>a===s||Qx[a]===s))return t(i)})},eM=Qe({patchProp:Kx},Mx);let ay;function oy(){return ay||(ay=tx(eM))}const ly=(...t)=>{oy().render(...t)},tM=(...t)=>{const e=oy().createApp(...t);process.env.NODE_ENV!=="production"&&(nM(e),iM(e));const{mount:r}=e;return e.mount=n=>{const i=sM(n);if(!i)return;const s=e._component;!me(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,rM(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function rM(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function nM(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>sw(e)||aw(e)||ow(e),writable:!1})}function iM(t){{const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){_i("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const r=t.config.compilerOptions,n='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(t.config,"compilerOptions",{get(){return _i(n),r},set(){_i(n)}})}}function sM(t){if(nt(t)){const e=document.querySelector(t);return process.env.NODE_ENV!=="production"&&!e&&_i(`Failed to mount app: mount target selector "${t}" returned null.`),e}return process.env.NODE_ENV!=="production"&&window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&_i('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}/**
* vue v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function aM(){wx()}process.env.NODE_ENV!=="production"&&aM();/*! @license DOMPurify 2.5.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.0/LICENSE */function wi(t){return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(t)}function Bf(t,e){return Bf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Bf(t,e)}function oM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hl(t,e,r){return oM()?Hl=Reflect.construct:Hl=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&Bf(u,a.prototype),u},Hl.apply(null,arguments)}function qr(t){return lM(t)||uM(t)||cM(t)||fM()}function lM(t){if(Array.isArray(t))return Wf(t)}function uM(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cM(t,e){if(!!t){if(typeof t=="string")return Wf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wf(t,e)}}function Wf(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hM=Object.hasOwnProperty,uy=Object.setPrototypeOf,dM=Object.isFrozen,pM=Object.getPrototypeOf,mM=Object.getOwnPropertyDescriptor,Jt=Object.freeze,Nr=Object.seal,gM=Object.create,cy=typeof Reflect<"u"&&Reflect,zl=cy.apply,qf=cy.construct;zl||(zl=function(e,r,n){return e.apply(r,n)}),Jt||(Jt=function(e){return e}),Nr||(Nr=function(e){return e}),qf||(qf=function(e,r){return Hl(e,qr(r))});var yM=Cr(Array.prototype.forEach),fy=Cr(Array.prototype.pop),Ka=Cr(Array.prototype.push),Yl=Cr(String.prototype.toLowerCase),Hf=Cr(String.prototype.toString),hy=Cr(String.prototype.match),Hr=Cr(String.prototype.replace),vM=Cr(String.prototype.indexOf),_M=Cr(String.prototype.trim),Vt=Cr(RegExp.prototype.test),zf=bM(TypeError);function Cr(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return zl(t,e,n)}}function bM(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return qf(t,r)}}function Pe(t,e,r){var n;r=(n=r)!==null&&n!==void 0?n:Yl,uy&&uy(t,null);for(var i=e.length;i--;){var s=e[i];if(typeof s=="string"){var a=r(s);a!==s&&(dM(e)||(e[i]=a),s=a)}t[s]=!0}return t}function fs(t){var e=gM(null),r;for(r in t)zl(hM,t,[r])===!0&&(e[r]=t[r]);return e}function Kl(t,e){for(;t!==null;){var r=mM(t,e);if(r){if(r.get)return Cr(r.get);if(typeof r.value=="function")return Cr(r.value)}t=pM(t)}function n(i){return console.warn("fallback value for",i),null}return n}var dy=Jt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yf=Jt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kf=Jt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),SM=Jt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Xf=Jt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),EM=Jt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),py=Jt(["#text"]),my=Jt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Zf=Jt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gy=Jt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xl=Jt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wM=Nr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),OM=Nr(/<%[\w\W]*|[\w\W]*%>/gm),xM=Nr(/\${[\w\W]*}/gm),MM=Nr(/^data-[\-\w.\u00B7-\uFFFF]/),TM=Nr(/^aria-[\-\w]+$/),NM=Nr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),CM=Nr(/^(?:\w+script|data):/i),PM=Nr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),LM=Nr(/^html$/i),AM=Nr(/^[a-z][.\w]*(-[.\w]+)+$/i),IM=function(){return typeof window>"u"?null:window},kM=function(e,r){if(wi(e)!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML:function(o){return o},createScriptURL:function(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function yy(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:IM(),e=function(w){return yy(w)};if(e.version="2.5.0",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,n=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,o=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,f=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,c=t.HTMLFormElement,h=t.DOMParser,d=t.trustedTypes,p=o.prototype,m=Kl(p,"cloneNode"),g=Kl(p,"nextSibling"),v=Kl(p,"childNodes"),y=Kl(p,"parentNode");if(typeof s=="function"){var b=n.createElement("template");b.content&&b.content.ownerDocument&&(n=b.content.ownerDocument)}var S=kM(d,r),x=S?S.createHTML(""):"",N=n,M=N.implementation,L=N.createNodeIterator,D=N.createDocumentFragment,C=N.getElementsByTagName,R=r.importNode,k={};try{k=fs(n).documentMode?n.documentMode:{}}catch{}var Q={};e.isSupported=typeof y=="function"&&M&&M.createHTMLDocument!==void 0&&k!==9;var be=wM,T=OM,$=xM,z=MM,X=TM,Le=CM,Ae=PM,_t=AM,Kt=NM,Ne=null,Rt=Pe({},[].concat(qr(dy),qr(Yf),qr(Kf),qr(Xf),qr(py))),lt=null,An=Pe({},[].concat(qr(my),qr(Zf),qr(gy),qr(Xl))),De=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),dr=null,In=null,ni=!0,$t=!0,kn=!1,ii=!0,_=!1,E=!0,I=!1,j=!1,V=!1,W=!1,Z=!1,B=!1,K=!0,U=!1,ne="user-content-",ce=!0,le=!1,pe={},Te=null,Fe=Pe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),tt=null,bt=Pe({},["audio","video","img","source","image","track"]),nr=null,si=Pe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),As="http://www.w3.org/1998/Math/MathML",Dn="http://www.w3.org/2000/svg",Gr="http://www.w3.org/1999/xhtml",pt=Gr,pr=!1,xa=null,x7=Pe({},[As,Dn,Gr],Hf),Is,M7=["application/xhtml+xml","text/html"],T7="text/html",Ct,Ma=null,N7=n.createElement("form"),eE=function(w){return w instanceof RegExp||w instanceof Function},Fp=function(w){Ma&&Ma===w||((!w||wi(w)!=="object")&&(w={}),w=fs(w),Is=M7.indexOf(w.PARSER_MEDIA_TYPE)===-1?Is=T7:Is=w.PARSER_MEDIA_TYPE,Ct=Is==="application/xhtml+xml"?Hf:Yl,Ne="ALLOWED_TAGS"in w?Pe({},w.ALLOWED_TAGS,Ct):Rt,lt="ALLOWED_ATTR"in w?Pe({},w.ALLOWED_ATTR,Ct):An,xa="ALLOWED_NAMESPACES"in w?Pe({},w.ALLOWED_NAMESPACES,Hf):x7,nr="ADD_URI_SAFE_ATTR"in w?Pe(fs(si),w.ADD_URI_SAFE_ATTR,Ct):si,tt="ADD_DATA_URI_TAGS"in w?Pe(fs(bt),w.ADD_DATA_URI_TAGS,Ct):bt,Te="FORBID_CONTENTS"in w?Pe({},w.FORBID_CONTENTS,Ct):Fe,dr="FORBID_TAGS"in w?Pe({},w.FORBID_TAGS,Ct):{},In="FORBID_ATTR"in w?Pe({},w.FORBID_ATTR,Ct):{},pe="USE_PROFILES"in w?w.USE_PROFILES:!1,ni=w.ALLOW_ARIA_ATTR!==!1,$t=w.ALLOW_DATA_ATTR!==!1,kn=w.ALLOW_UNKNOWN_PROTOCOLS||!1,ii=w.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_=w.SAFE_FOR_TEMPLATES||!1,E=w.SAFE_FOR_XML!==!1,I=w.WHOLE_DOCUMENT||!1,W=w.RETURN_DOM||!1,Z=w.RETURN_DOM_FRAGMENT||!1,B=w.RETURN_TRUSTED_TYPE||!1,V=w.FORCE_BODY||!1,K=w.SANITIZE_DOM!==!1,U=w.SANITIZE_NAMED_PROPS||!1,ce=w.KEEP_CONTENT!==!1,le=w.IN_PLACE||!1,Kt=w.ALLOWED_URI_REGEXP||Kt,pt=w.NAMESPACE||Gr,De=w.CUSTOM_ELEMENT_HANDLING||{},w.CUSTOM_ELEMENT_HANDLING&&eE(w.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(De.tagNameCheck=w.CUSTOM_ELEMENT_HANDLING.tagNameCheck),w.CUSTOM_ELEMENT_HANDLING&&eE(w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(De.attributeNameCheck=w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),w.CUSTOM_ELEMENT_HANDLING&&typeof w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(De.allowCustomizedBuiltInElements=w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_&&($t=!1),Z&&(W=!0),pe&&(Ne=Pe({},qr(py)),lt=[],pe.html===!0&&(Pe(Ne,dy),Pe(lt,my)),pe.svg===!0&&(Pe(Ne,Yf),Pe(lt,Zf),Pe(lt,Xl)),pe.svgFilters===!0&&(Pe(Ne,Kf),Pe(lt,Zf),Pe(lt,Xl)),pe.mathMl===!0&&(Pe(Ne,Xf),Pe(lt,gy),Pe(lt,Xl))),w.ADD_TAGS&&(Ne===Rt&&(Ne=fs(Ne)),Pe(Ne,w.ADD_TAGS,Ct)),w.ADD_ATTR&&(lt===An&&(lt=fs(lt)),Pe(lt,w.ADD_ATTR,Ct)),w.ADD_URI_SAFE_ATTR&&Pe(nr,w.ADD_URI_SAFE_ATTR,Ct),w.FORBID_CONTENTS&&(Te===Fe&&(Te=fs(Te)),Pe(Te,w.FORBID_CONTENTS,Ct)),ce&&(Ne["#text"]=!0),I&&Pe(Ne,["html","head","body"]),Ne.table&&(Pe(Ne,["tbody"]),delete dr.tbody),Jt&&Jt(w),Ma=w)},tE=Pe({},["mi","mo","mn","ms","mtext"]),rE=Pe({},["foreignobject","desc","title","annotation-xml"]),C7=Pe({},["title","style","font","a","script"]),Uc=Pe({},Yf);Pe(Uc,Kf),Pe(Uc,SM);var jp=Pe({},Xf);Pe(jp,EM);var P7=function(w){var Y=y(w);(!Y||!Y.tagName)&&(Y={namespaceURI:pt,tagName:"template"});var ie=Yl(w.tagName),qe=Yl(Y.tagName);return xa[w.namespaceURI]?w.namespaceURI===Dn?Y.namespaceURI===Gr?ie==="svg":Y.namespaceURI===As?ie==="svg"&&(qe==="annotation-xml"||tE[qe]):Boolean(Uc[ie]):w.namespaceURI===As?Y.namespaceURI===Gr?ie==="math":Y.namespaceURI===Dn?ie==="math"&&rE[qe]:Boolean(jp[ie]):w.namespaceURI===Gr?Y.namespaceURI===Dn&&!rE[qe]||Y.namespaceURI===As&&!tE[qe]?!1:!jp[ie]&&(C7[ie]||!Uc[ie]):!!(Is==="application/xhtml+xml"&&xa[w.namespaceURI]):!1},on=function(w){Ka(e.removed,{element:w});try{w.parentNode.removeChild(w)}catch{try{w.outerHTML=x}catch{w.remove()}}},Vp=function(w,Y){try{Ka(e.removed,{attribute:Y.getAttributeNode(w),from:Y})}catch{Ka(e.removed,{attribute:null,from:Y})}if(Y.removeAttribute(w),w==="is"&&!lt[w])if(W||Z)try{on(Y)}catch{}else try{Y.setAttribute(w,"")}catch{}},nE=function(w){var Y,ie;if(V)w="<remove></remove>"+w;else{var qe=hy(w,/^[\r\n\t ]+/);ie=qe&&qe[0]}Is==="application/xhtml+xml"&&pt===Gr&&(w='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w+"</body></html>");var mr=S?S.createHTML(w):w;if(pt===Gr)try{Y=new h().parseFromString(mr,Is)}catch{}if(!Y||!Y.documentElement){Y=M.createDocument(pt,"template",null);try{Y.documentElement.innerHTML=pr?x:mr}catch{}}var Xt=Y.body||Y.documentElement;return w&&ie&&Xt.insertBefore(n.createTextNode(ie),Xt.childNodes[0]||null),pt===Gr?C.call(Y,I?"html":"body")[0]:I?Y.documentElement:Xt},iE=function(w){return L.call(w.ownerDocument||w,w,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},L7=function(w){return w instanceof c&&(typeof w.nodeName!="string"||typeof w.textContent!="string"||typeof w.removeChild!="function"||!(w.attributes instanceof f)||typeof w.removeAttribute!="function"||typeof w.setAttribute!="function"||typeof w.namespaceURI!="string"||typeof w.insertBefore!="function"||typeof w.hasChildNodes!="function")},nl=function(w){return wi(a)==="object"?w instanceof a:w&&wi(w)==="object"&&typeof w.nodeType=="number"&&typeof w.nodeName=="string"},ai=function(w,Y,ie){!Q[w]||yM(Q[w],function(qe){qe.call(e,Y,ie,Ma)})},sE=function(w){var Y;if(ai("beforeSanitizeElements",w,null),L7(w)||Vt(/[\u0080-\uFFFF]/,w.nodeName))return on(w),!0;var ie=Ct(w.nodeName);if(ai("uponSanitizeElement",w,{tagName:ie,allowedTags:Ne}),w.hasChildNodes()&&!nl(w.firstElementChild)&&(!nl(w.content)||!nl(w.content.firstElementChild))&&Vt(/<[/\w]/g,w.innerHTML)&&Vt(/<[/\w]/g,w.textContent)||ie==="select"&&Vt(/<template/i,w.innerHTML)||w.nodeType===7||E&&w.nodeType===8&&Vt(/<[/\w]/g,w.data))return on(w),!0;if(!Ne[ie]||dr[ie]){if(!dr[ie]&&oE(ie)&&(De.tagNameCheck instanceof RegExp&&Vt(De.tagNameCheck,ie)||De.tagNameCheck instanceof Function&&De.tagNameCheck(ie)))return!1;if(ce&&!Te[ie]){var qe=y(w)||w.parentNode,mr=v(w)||w.childNodes;if(mr&&qe)for(var Xt=mr.length,Ft=Xt-1;Ft>=0;--Ft)qe.insertBefore(m(mr[Ft],!0),g(w))}return on(w),!0}return w instanceof o&&!P7(w)||(ie==="noscript"||ie==="noembed"||ie==="noframes")&&Vt(/<\/no(script|embed|frames)/i,w.innerHTML)?(on(w),!0):(_&&w.nodeType===3&&(Y=w.textContent,Y=Hr(Y,be," "),Y=Hr(Y,T," "),Y=Hr(Y,$," "),w.textContent!==Y&&(Ka(e.removed,{element:w.cloneNode()}),w.textContent=Y)),ai("afterSanitizeElements",w,null),!1)},aE=function(w,Y,ie){if(K&&(Y==="id"||Y==="name")&&(ie in n||ie in N7))return!1;if(!($t&&!In[Y]&&Vt(z,Y))){if(!(ni&&Vt(X,Y))){if(!lt[Y]||In[Y]){if(!(oE(w)&&(De.tagNameCheck instanceof RegExp&&Vt(De.tagNameCheck,w)||De.tagNameCheck instanceof Function&&De.tagNameCheck(w))&&(De.attributeNameCheck instanceof RegExp&&Vt(De.attributeNameCheck,Y)||De.attributeNameCheck instanceof Function&&De.attributeNameCheck(Y))||Y==="is"&&De.allowCustomizedBuiltInElements&&(De.tagNameCheck instanceof RegExp&&Vt(De.tagNameCheck,ie)||De.tagNameCheck instanceof Function&&De.tagNameCheck(ie))))return!1}else if(!nr[Y]){if(!Vt(Kt,Hr(ie,Ae,""))){if(!((Y==="src"||Y==="xlink:href"||Y==="href")&&w!=="script"&&vM(ie,"data:")===0&&tt[w])){if(!(kn&&!Vt(Le,Hr(ie,Ae,"")))){if(ie)return!1}}}}}}return!0},oE=function(w){return w!=="annotation-xml"&&hy(w,_t)},lE=function(w){var Y,ie,qe,mr;ai("beforeSanitizeAttributes",w,null);var Xt=w.attributes;if(!!Xt){var Ft={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:lt};for(mr=Xt.length;mr--;){Y=Xt[mr];var Bc=Y,Pt=Bc.name,Gp=Bc.namespaceURI;if(ie=Pt==="value"?Y.value:_M(Y.value),qe=Ct(Pt),Ft.attrName=qe,Ft.attrValue=ie,Ft.keepAttr=!0,Ft.forceKeepAttr=void 0,ai("uponSanitizeAttribute",w,Ft),ie=Ft.attrValue,!Ft.forceKeepAttr&&(Vp(Pt,w),!!Ft.keepAttr)){if(!ii&&Vt(/\/>/i,ie)){Vp(Pt,w);continue}_&&(ie=Hr(ie,be," "),ie=Hr(ie,T," "),ie=Hr(ie,$," "));var uE=Ct(w.nodeName);if(!!aE(uE,qe,ie)){if(U&&(qe==="id"||qe==="name")&&(Vp(Pt,w),ie=ne+ie),S&&wi(d)==="object"&&typeof d.getAttributeType=="function"&&!Gp)switch(d.getAttributeType(uE,qe)){case"TrustedHTML":{ie=S.createHTML(ie);break}case"TrustedScriptURL":{ie=S.createScriptURL(ie);break}}try{Gp?w.setAttributeNS(Gp,Pt,ie):w.setAttribute(Pt,ie),fy(e.removed)}catch{}}}}ai("afterSanitizeAttributes",w,null)}},A7=function fe(w){var Y,ie=iE(w);for(ai("beforeSanitizeShadowDOM",w,null);Y=ie.nextNode();)ai("uponSanitizeShadowNode",Y,null),!sE(Y)&&(Y.content instanceof i&&fe(Y.content),lE(Y));ai("afterSanitizeShadowDOM",w,null)};return e.sanitize=function(fe){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y,ie,qe,mr,Xt;if(pr=!fe,pr&&(fe="<!-->"),typeof fe!="string"&&!nl(fe))if(typeof fe.toString=="function"){if(fe=fe.toString(),typeof fe!="string")throw zf("dirty is not a string, aborting")}else throw zf("toString is not a function");if(!e.isSupported){if(wi(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof fe=="string")return t.toStaticHTML(fe);if(nl(fe))return t.toStaticHTML(fe.outerHTML)}return fe}if(j||Fp(w),e.removed=[],typeof fe=="string"&&(le=!1),le){if(fe.nodeName){var Ft=Ct(fe.nodeName);if(!Ne[Ft]||dr[Ft])throw zf("root node is forbidden and cannot be sanitized in-place")}}else if(fe instanceof a)Y=nE("<!---->"),ie=Y.ownerDocument.importNode(fe,!0),ie.nodeType===1&&ie.nodeName==="BODY"||ie.nodeName==="HTML"?Y=ie:Y.appendChild(ie);else{if(!W&&!_&&!I&&fe.indexOf("<")===-1)return S&&B?S.createHTML(fe):fe;if(Y=nE(fe),!Y)return W?null:B?x:""}Y&&V&&on(Y.firstChild);for(var Bc=iE(le?fe:Y);qe=Bc.nextNode();)qe.nodeType===3&&qe===mr||sE(qe)||(qe.content instanceof i&&A7(qe.content),lE(qe),mr=qe);if(mr=null,le)return fe;if(W){if(Z)for(Xt=D.call(Y.ownerDocument);Y.firstChild;)Xt.appendChild(Y.firstChild);else Xt=Y;return(lt.shadowroot||lt.shadowrootmod)&&(Xt=R.call(r,Xt,!0)),Xt}var Pt=I?Y.outerHTML:Y.innerHTML;return I&&Ne["!doctype"]&&Y.ownerDocument&&Y.ownerDocument.doctype&&Y.ownerDocument.doctype.name&&Vt(LM,Y.ownerDocument.doctype.name)&&(Pt="<!DOCTYPE "+Y.ownerDocument.doctype.name+`>
`+Pt),_&&(Pt=Hr(Pt,be," "),Pt=Hr(Pt,T," "),Pt=Hr(Pt,$," ")),S&&B?S.createHTML(Pt):Pt},e.setConfig=function(fe){Fp(fe),j=!0},e.clearConfig=function(){Ma=null,j=!1},e.isValidAttribute=function(fe,w,Y){Ma||Fp({});var ie=Ct(fe),qe=Ct(w);return aE(ie,qe,Y)},e.addHook=function(fe,w){typeof w=="function"&&(Q[fe]=Q[fe]||[],Ka(Q[fe],w))},e.removeHook=function(fe){if(Q[fe])return fy(Q[fe])},e.removeHooks=function(fe){Q[fe]&&(Q[fe]=[])},e.removeAllHooks=function(){Q={}},e}var DM=yy();function RM(t,e){var i;const r=(i=t.hooks)!=null?i:{};let n;for(n in r){const s=r[n];s!==void 0&&e.addHook(n,s)}}function vy(){return DM()}function $M(t={},e=vy){const r=e();RM(t,r);const n=function(i,s){var c,h;const a=s.value;if(s.oldValue===a)return;const o=`${a}`,l=s.arg,u=t.namedConfigurations,f=(c=t.default)!=null?c:{};if(u&&l!==void 0){i.innerHTML=r.sanitize(o,(h=u[l])!=null?h:f);return}i.innerHTML=r.sanitize(o,f)};return{mounted:n,updated:n}}const _y={install(t,e={},r=vy){t.directive("dompurify-html",$M(e,r))}};var Jf=!1;function Zl(t,e,r){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,r),r):(t[e]=r,r)}function Qf(t,e){if(Array.isArray(t)){t.splice(e,1);return}delete t[e]}function FM(){return by().__VUE_DEVTOOLS_GLOBAL_HOOK__}function by(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const jM=typeof Proxy=="function",VM="devtools-plugin:setup",GM="plugin:settings:set";let Gs,eh;function UM(){var t;return Gs!==void 0||(typeof window<"u"&&window.performance?(Gs=!0,eh=window.performance):typeof globalThis<"u"&&((t=globalThis.perf_hooks)===null||t===void 0?void 0:t.performance)?(Gs=!0,eh=globalThis.perf_hooks.performance):Gs=!1),Gs}function BM(){return UM()?eh.now():Date.now()}class WM{constructor(e,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=r;const n={};if(e.settings)for(const a in e.settings){const o=e.settings[a];n[a]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},n);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return BM()}},r&&r.on(GM,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:o,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function Sy(t,e){const r=t,n=by(),i=FM(),s=jM&&r.enableEarlyProxy;if(i&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(VM,t,e);else{const a=s?new WM(r,i):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Xa;const Za=t=>Xa=t,Ey=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function hs(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var gn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(gn||(gn={}));const Jl=typeof window<"u",Ja=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&Jl,wy=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function qM(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function th(t,e,r){const n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){My(n.response,e,r)},n.onerror=function(){console.error("could not download file")},n.send()}function Oy(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ql(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}const eu=typeof navigator=="object"?navigator:{userAgent:""},xy=(()=>/Macintosh/.test(eu.userAgent)&&/AppleWebKit/.test(eu.userAgent)&&!/Safari/.test(eu.userAgent))(),My=Jl?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!xy?HM:"msSaveOrOpenBlob"in eu?zM:YM:()=>{};function HM(t,e="download",r){const n=document.createElement("a");n.download=e,n.rel="noopener",typeof t=="string"?(n.href=t,n.origin!==location.origin?Oy(n.href)?th(t,e,r):(n.target="_blank",Ql(n)):Ql(n)):(n.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(n.href)},4e4),setTimeout(function(){Ql(n)},0))}function zM(t,e="download",r){if(typeof t=="string")if(Oy(t))th(t,e,r);else{const n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Ql(n)})}else navigator.msSaveOrOpenBlob(qM(t,r),e)}function YM(t,e,r,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return th(t,e,r);const i=t.type==="application/octet-stream",s=/constructor/i.test(String(wy.HTMLElement))||"safari"in wy,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s||xy)&&typeof FileReader<"u"){const o=new FileReader;o.onloadend=function(){let l=o.result;if(typeof l!="string")throw n=null,new Error("Wrong reader.result type");l=a?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=l:location.assign(l),n=null},o.readAsDataURL(t)}else{const o=URL.createObjectURL(t);n?n.location.assign(o):location.href=o,n=null,setTimeout(function(){URL.revokeObjectURL(o)},4e4)}}function Nt(t,e){const r="\u{1F34D} "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(r,e):e==="error"?console.error(r):e==="warn"?console.warn(r):console.log(r)}function rh(t){return"_a"in t&&"install"in t}function Ty(){if(!("clipboard"in navigator))return Nt("Your browser doesn't support the Clipboard API","error"),!0}function Ny(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(Nt('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function KM(t){if(!Ty())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),Nt("Global state copied to clipboard.")}catch(e){if(Ny(e))return;Nt("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function XM(t){if(!Ty())try{Cy(t,JSON.parse(await navigator.clipboard.readText())),Nt("Global state pasted from clipboard.")}catch(e){if(Ny(e))return;Nt("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function ZM(t){try{My(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){Nt("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let qn;function JM(){qn||(qn=document.createElement("input"),qn.type="file",qn.accept=".json");function t(){return new Promise((e,r)=>{qn.onchange=async()=>{const n=qn.files;if(!n)return e(null);const i=n.item(0);return e(i?{text:await i.text(),file:i}:null)},qn.oncancel=()=>e(null),qn.onerror=r,qn.click()})}return t}async function QM(t){try{const r=await JM()();if(!r)return;const{text:n,file:i}=r;Cy(t,JSON.parse(n)),Nt(`Global state imported from "${i.name}".`)}catch(e){Nt("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function Cy(t,e){for(const r in e){const n=t.state.value[r];n?Object.assign(n,e[r]):t.state.value[r]=e[r]}}function zr(t){return{_custom:{display:t}}}const Py="\u{1F34D} Pinia (root)",nh="_root";function eT(t){return rh(t)?{id:nh,label:Py}:{id:t.$id,label:t.$id}}function tT(t){if(rh(t)){const r=Array.from(t._s.keys()),n=t._s;return{state:r.map(s=>({editable:!0,key:s,value:t.state.value[s]})),getters:r.filter(s=>n.get(s)._getters).map(s=>{const a=n.get(s);return{editable:!1,key:s,value:a._getters.reduce((o,l)=>(o[l]=a[l],o),{})}})}}const e={state:Object.keys(t.$state).map(r=>({editable:!0,key:r,value:t.$state[r]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(r=>({editable:!1,key:r,value:t[r]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(r=>({editable:!0,key:r,value:t[r]}))),e}function rT(t){return t?Array.isArray(t)?t.reduce((e,r)=>(e.keys.push(r.key),e.operations.push(r.type),e.oldValue[r.key]=r.oldValue,e.newValue[r.key]=r.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:zr(t.type),key:zr(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function nT(t){switch(t){case gn.direct:return"mutation";case gn.patchFunction:return"$patch";case gn.patchObject:return"$patch";default:return"unknown"}}let Us=!0;const tu=[],ds="pinia:mutations",Gt="pinia",{assign:iT}=Object,ru=t=>"\u{1F34D} "+t;function sT(t,e){Sy({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:tu,app:t},r=>{typeof r.now!="function"&&Nt("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.addTimelineLayer({id:ds,label:"Pinia \u{1F34D}",color:15064968}),r.addInspector({id:Gt,label:"Pinia \u{1F34D}",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{KM(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await XM(e),r.sendInspectorTree(Gt),r.sendInspectorState(Gt)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{ZM(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await QM(e),r.sendInspectorTree(Gt),r.sendInspectorState(Gt)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:n=>{const i=e._s.get(n);i?typeof i.$reset!="function"?Nt(`Cannot reset "${n}" store because it doesn't have a "$reset" method implemented.`,"warn"):(i.$reset(),Nt(`Store "${n}" reset.`)):Nt(`Cannot reset "${n}" store because it wasn't found.`,"warn")}}]}),r.on.inspectComponent((n,i)=>{const s=n.componentInstance&&n.componentInstance.proxy;if(s&&s._pStores){const a=n.componentInstance.proxy._pStores;Object.values(a).forEach(o=>{n.instanceData.state.push({type:ru(o.$id),key:"state",editable:!0,value:o._isOptionsAPI?{_custom:{value:_e(o.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>o.$reset()}]}}:Object.keys(o.$state).reduce((l,u)=>(l[u]=o.$state[u],l),{})}),o._getters&&o._getters.length&&n.instanceData.state.push({type:ru(o.$id),key:"getters",editable:!1,value:o._getters.reduce((l,u)=>{try{l[u]=o[u]}catch(f){l[u]=f}return l},{})})})}}),r.on.getInspectorTree(n=>{if(n.app===t&&n.inspectorId===Gt){let i=[e];i=i.concat(Array.from(e._s.values())),n.rootNodes=(n.filter?i.filter(s=>"$id"in s?s.$id.toLowerCase().includes(n.filter.toLowerCase()):Py.toLowerCase().includes(n.filter.toLowerCase())):i).map(eT)}}),r.on.getInspectorState(n=>{if(n.app===t&&n.inspectorId===Gt){const i=n.nodeId===nh?e:e._s.get(n.nodeId);if(!i)return;i&&(n.state=tT(i))}}),r.on.editInspectorState((n,i)=>{if(n.app===t&&n.inspectorId===Gt){const s=n.nodeId===nh?e:e._s.get(n.nodeId);if(!s)return Nt(`store "${n.nodeId}" not found`,"error");const{path:a}=n;rh(s)?a.unshift("state"):(a.length!==1||!s._customProperties.has(a[0])||a[0]in s.$state)&&a.unshift("$state"),Us=!1,n.set(s,a,n.state.value),Us=!0}}),r.on.editComponentState(n=>{if(n.type.startsWith("\u{1F34D}")){const i=n.type.replace(/^🍍\s*/,""),s=e._s.get(i);if(!s)return Nt(`store "${i}" not found`,"error");const{path:a}=n;if(a[0]!=="state")return Nt(`Invalid path for store "${i}":
${a}
Only state can be modified.`);a[0]="$state",Us=!1,n.set(s,a,n.state.value),Us=!0}})})}function aT(t,e){tu.includes(ru(e.$id))||tu.push(ru(e.$id)),Sy({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:tu,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},r=>{const n=typeof r.now=="function"?r.now.bind(r):Date.now;e.$onAction(({after:a,onError:o,name:l,args:u})=>{const f=Ly++;r.addTimelineEvent({layerId:ds,event:{time:n(),title:"\u{1F6EB} "+l,subtitle:"start",data:{store:zr(e.$id),action:zr(l),args:u},groupId:f}}),a(c=>{Oi=void 0,r.addTimelineEvent({layerId:ds,event:{time:n(),title:"\u{1F6EC} "+l,subtitle:"end",data:{store:zr(e.$id),action:zr(l),args:u,result:c},groupId:f}})}),o(c=>{Oi=void 0,r.addTimelineEvent({layerId:ds,event:{time:n(),logType:"error",title:"\u{1F4A5} "+l,subtitle:"end",data:{store:zr(e.$id),action:zr(l),args:u,error:c},groupId:f}})})},!0),e._customProperties.forEach(a=>{et(()=>O(e[a]),(o,l)=>{r.notifyComponentUpdate(),r.sendInspectorState(Gt),Us&&r.addTimelineEvent({layerId:ds,event:{time:n(),title:"Change",subtitle:a,data:{newValue:o,oldValue:l},groupId:Oi}})},{deep:!0})}),e.$subscribe(({events:a,type:o},l)=>{if(r.notifyComponentUpdate(),r.sendInspectorState(Gt),!Us)return;const u={time:n(),title:nT(o),data:iT({store:zr(e.$id)},rT(a)),groupId:Oi};o===gn.patchFunction?u.subtitle="\u2935\uFE0F":o===gn.patchObject?u.subtitle="\u{1F9E9}":a&&!Array.isArray(a)&&(u.subtitle=a.type),a&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:a}}),r.addTimelineEvent({layerId:ds,event:u})},{detached:!0,flush:"sync"});const i=e._hotUpdate;e._hotUpdate=fi(a=>{i(a),r.addTimelineEvent({layerId:ds,event:{time:n(),title:"\u{1F525} "+e.$id,subtitle:"HMR update",data:{store:zr(e.$id),info:zr("HMR update")}}}),r.notifyComponentUpdate(),r.sendInspectorTree(Gt),r.sendInspectorState(Gt)});const{$dispose:s}=e;e.$dispose=()=>{s(),r.notifyComponentUpdate(),r.sendInspectorTree(Gt),r.sendInspectorState(Gt),r.getSettings().logStoreChanges&&Nt(`Disposed "${e.$id}" store \u{1F5D1}`)},r.notifyComponentUpdate(),r.sendInspectorTree(Gt),r.sendInspectorState(Gt),r.getSettings().logStoreChanges&&Nt(`"${e.$id}" store installed \u{1F195}`)})}let Ly=0,Oi;function Ay(t,e,r){const n=e.reduce((i,s)=>(i[s]=_e(t)[s],i),{});for(const i in n)t[i]=function(){const s=Ly,a=r?new Proxy(t,{get(...l){return Oi=s,Reflect.get(...l)},set(...l){return Oi=s,Reflect.set(...l)}}):t;Oi=s;const o=n[i].apply(a,arguments);return Oi=void 0,o}}function oT({app:t,store:e,options:r}){if(e.$id.startsWith("__hot:"))return;e._isOptionsAPI=!!r.state,Ay(e,Object.keys(r.actions),e._isOptionsAPI);const n=e._hotUpdate;_e(e)._hotUpdate=function(i){n.apply(this,arguments),Ay(e,Object.keys(i._hmrPayload.actions),!!e._isOptionsAPI)},aT(t,e)}function Iy(){const t=rm(!0),e=t.run(()=>Ee({}));let r=[],n=[];const i=fi({install(s){Za(i),i._a=s,s.provide(Ey,i),s.config.globalProperties.$pinia=i,Ja&&sT(s,i),n.forEach(a=>r.push(a)),n=[]},use(s){return!this._a&&!Jf?n.push(s):r.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return Ja&&typeof Proxy<"u"&&i.use(oT),i}function ky(t,e){for(const r in e){const n=e[r];if(!(r in t))continue;const i=t[r];hs(i)&&hs(n)&&!Ye(n)&&!cn(n)?t[r]=ky(i,n):t[r]=n}return t}const Dy=()=>{};function Ry(t,e,r,n=Dy){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&nm()&&cw(i),i}function Bs(t,...e){t.slice().forEach(r=>{r(...e)})}const lT=t=>t();function ih(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,n)=>t.set(n,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],i=t[r];hs(i)&&hs(n)&&t.hasOwnProperty(r)&&!Ye(n)&&!cn(n)?t[r]=ih(i,n):t[r]=n}return t}const uT=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function cT(t){return!hs(t)||!t.hasOwnProperty(uT)}const{assign:Pr}=Object;function $y(t){return!!(Ye(t)&&t.effect)}function Fy(t,e,r,n){const{state:i,actions:s,getters:a}=e,o=r.state.value[t];let l;function u(){!o&&(process.env.NODE_ENV==="production"||!n)&&(r.state.value[t]=i?i():{});const f=process.env.NODE_ENV!=="production"&&n?sf(Ee(i?i():{}).value):sf(r.state.value[t]);return Pr(f,s,Object.keys(a||{}).reduce((c,h)=>(process.env.NODE_ENV!=="production"&&h in f&&console.warn(`[\u{1F34D}]: A getter cannot have the same name as another state property. Rename one of them. Found with "${h}" in store "${t}".`),c[h]=fi(de(()=>{Za(r);const d=r._s.get(t);return a[h].call(d,d)})),c),{}))}return l=sh(t,u,e,r,n,!0),l}function sh(t,e,r={},n,i,s){let a;const o=Pr({actions:{}},r);if(process.env.NODE_ENV!=="production"&&!n._e.active)throw new Error("Pinia destroyed");const l={deep:!0};process.env.NODE_ENV!=="production"&&!Jf&&(l.onTrigger=C=>{u?d=C:u==!1&&!M._hotUpdating&&(Array.isArray(d)?d.push(C):console.error("\u{1F34D} debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let u,f,c=[],h=[],d;const p=n.state.value[t];!s&&!p&&(process.env.NODE_ENV==="production"||!i)&&(n.state.value[t]={});const m=Ee({});let g;function v(C){let R;u=f=!1,process.env.NODE_ENV!=="production"&&(d=[]),typeof C=="function"?(C(n.state.value[t]),R={type:gn.patchFunction,storeId:t,events:d}):(ih(n.state.value[t],C),R={type:gn.patchObject,payload:C,storeId:t,events:d});const k=g=Symbol();xl().then(()=>{g===k&&(u=!0)}),f=!0,Bs(c,R,n.state.value[t])}const y=s?function(){const{state:R}=r,k=R?R():{};this.$patch(Q=>{Pr(Q,k)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`\u{1F34D}: Store "${t}" is built using the setup syntax and does not implement $reset().`)}:Dy;function b(){a.stop(),c=[],h=[],n._s.delete(t)}function S(C,R){return function(){Za(n);const k=Array.from(arguments),Q=[],be=[];function T(X){Q.push(X)}function $(X){be.push(X)}Bs(h,{args:k,name:C,store:M,after:T,onError:$});let z;try{z=R.apply(this&&this.$id===t?this:M,k)}catch(X){throw Bs(be,X),X}return z instanceof Promise?z.then(X=>(Bs(Q,X),X)).catch(X=>(Bs(be,X),Promise.reject(X))):(Bs(Q,z),z)}}const x=fi({actions:{},getters:{},state:[],hotState:m}),N={_p:n,$id:t,$onAction:Ry.bind(null,h),$patch:v,$reset:y,$subscribe(C,R={}){const k=Ry(c,C,R.detached,()=>Q()),Q=a.run(()=>et(()=>n.state.value[t],be=>{(R.flush==="sync"?f:u)&&C({storeId:t,type:gn.direct,events:d},be)},Pr({},l,R)));return k},$dispose:b},M=vl(process.env.NODE_ENV!=="production"||Ja?Pr({_hmrPayload:x,_customProperties:fi(new Set)},N):N);n._s.set(t,M);const D=(n._a&&n._a.runWithContext||lT)(()=>n._e.run(()=>(a=rm()).run(e)));for(const C in D){const R=D[C];if(Ye(R)&&!$y(R)||cn(R))process.env.NODE_ENV!=="production"&&i?Zl(m.value,C,El(D,C)):s||(p&&cT(R)&&(Ye(R)?R.value=p[C]:ih(R,p[C])),n.state.value[t][C]=R),process.env.NODE_ENV!=="production"&&x.state.push(C);else if(typeof R=="function"){const k=process.env.NODE_ENV!=="production"&&i?R:S(C,R);D[C]=k,process.env.NODE_ENV!=="production"&&(x.actions[C]=R),o.actions[C]=R}else process.env.NODE_ENV!=="production"&&$y(R)&&(x.getters[C]=s?r.getters[C]:R,Jl&&(D._getters||(D._getters=fi([]))).push(C))}if(Pr(M,D),Pr(_e(M),D),Object.defineProperty(M,"$state",{get:()=>process.env.NODE_ENV!=="production"&&i?m.value:n.state.value[t],set:C=>{if(process.env.NODE_ENV!=="production"&&i)throw new Error("cannot set hotState");v(R=>{Pr(R,C)})}}),process.env.NODE_ENV!=="production"&&(M._hotUpdate=fi(C=>{M._hotUpdating=!0,C._hmrPayload.state.forEach(R=>{if(R in M.$state){const k=C.$state[R],Q=M.$state[R];typeof k=="object"&&hs(k)&&hs(Q)?ky(k,Q):C.$state[R]=Q}Zl(M,R,El(C.$state,R))}),Object.keys(M.$state).forEach(R=>{R in C.$state||Qf(M,R)}),u=!1,f=!1,n.state.value[t]=El(C._hmrPayload,"hotState"),f=!0,xl().then(()=>{u=!0});for(const R in C._hmrPayload.actions){const k=C[R];Zl(M,R,S(R,k))}for(const R in C._hmrPayload.getters){const k=C._hmrPayload.getters[R],Q=s?de(()=>(Za(n),k.call(M,M))):k;Zl(M,R,Q)}Object.keys(M._hmrPayload.getters).forEach(R=>{R in C._hmrPayload.getters||Qf(M,R)}),Object.keys(M._hmrPayload.actions).forEach(R=>{R in C._hmrPayload.actions||Qf(M,R)}),M._hmrPayload=C._hmrPayload,M._getters=C._getters,M._hotUpdating=!1})),Ja){const C={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(R=>{Object.defineProperty(M,R,Pr({value:M[R]},C))})}return n._p.forEach(C=>{if(Ja){const R=a.run(()=>C({store:M,app:n._a,pinia:n,options:o}));Object.keys(R||{}).forEach(k=>M._customProperties.add(k)),Pr(M,R)}else Pr(M,a.run(()=>C({store:M,app:n._a,pinia:n,options:o})))}),process.env.NODE_ENV!=="production"&&M.$state&&typeof M.$state=="object"&&typeof M.$state.constructor=="function"&&!M.$state.constructor.toString().includes("[native code]")&&console.warn(`[\u{1F34D}]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${M.$id}".`),p&&s&&r.hydrate&&r.hydrate(M.$state,p),u=!0,f=!0,M}function ps(t,e,r){let n,i;const s=typeof e=="function";if(typeof t=="string")n=t,i=s?r:e;else if(i=t,n=t.id,process.env.NODE_ENV!=="production"&&typeof n!="string")throw new Error('[\u{1F34D}]: "defineStore()" must be passed a store id as its first argument.');function a(o,l){const u=UO();if(o=(process.env.NODE_ENV==="test"&&Xa&&Xa._testing?null:o)||(u?Fs(Ey,null):null),o&&Za(o),process.env.NODE_ENV!=="production"&&!Xa)throw new Error(`[\u{1F34D}]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);o=Xa,o._s.has(n)||(s?sh(n,e,i,o):Fy(n,i,o),process.env.NODE_ENV!=="production"&&(a._pinia=o));const f=o._s.get(n);if(process.env.NODE_ENV!=="production"&&l){const c="__hot:"+n,h=s?sh(c,e,i,o,!0):Fy(c,Pr({},i),o,!0);l._hotUpdate(h),delete o.state.value[c],o._s.delete(c)}if(process.env.NODE_ENV!=="production"&&Jl){const c=qa();if(c&&c.proxy&&!l){const h=c.proxy,d="_pStores"in h?h._pStores:h._pStores={};d[n]=f}}return f}return a.$id=n,a}function Ue(t){if(Jf)return sf(t);{t=_e(t);const e={};for(const r in t){const n=t[r];(Ye(n)||cn(n))&&(e[r]=El(t,r))}return e}}function fT(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var ms=1,gs=2,Ws=3,hT=4,ah=5,jy=6378137,dT=6356752314e-3,Vy=.0066943799901413165,Qa=484813681109536e-20,H=Math.PI/2,pT=.16666666666666666,mT=.04722222222222222,gT=.022156084656084655,te=1e-10,It=.017453292519943295,yn=57.29577951308232,He=Math.PI/4,eo=Math.PI*2,gt=3.14159265359,ar={};ar.greenwich=0,ar.lisbon=-9.131906111111,ar.paris=2.337229166667,ar.bogota=-74.080916666667,ar.madrid=-3.687938888889,ar.rome=12.452333333333,ar.bern=7.439583333333,ar.jakarta=106.807719444444,ar.ferro=-17.666666666667,ar.brussels=4.367975,ar.stockholm=18.058277777778,ar.athens=23.7163375,ar.oslo=10.722916666667;const yT={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var Gy=/[\s_\-\/\(\)]/g;function xi(t,e){if(t[e])return t[e];for(var r=Object.keys(t),n=e.toLowerCase().replace(Gy,""),i=-1,s,a;++i<r.length;)if(s=r[i],a=s.toLowerCase().replace(Gy,""),a===n)return t[s]}function oh(t){var e={},r=t.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var u=l.split("=");return u.push(!0),o[u[0].toLowerCase()]=u[1],o},{}),n,i,s,a={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*It},lat_1:function(o){e.lat1=o*It},lat_2:function(o){e.lat2=o*It},lat_ts:function(o){e.lat_ts=o*It},lon_0:function(o){e.long0=o*It},lon_1:function(o){e.long1=o*It},lon_2:function(o){e.long2=o*It},alpha:function(o){e.alpha=parseFloat(o)*It},gamma:function(o){e.rectified_grid_angle=parseFloat(o)},lonc:function(o){e.longc=o*It},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r:function(o){e.a=e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var l=xi(yT,o);l&&(e.to_meter=l.to_meter)},from_greenwich:function(o){e.from_greenwich=o*It},pm:function(o){var l=xi(ar,o);e.from_greenwich=(l||parseFloat(o))*It},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0}};for(n in r)i=r[n],n in a?(s=a[n],typeof s=="function"?s(i):e[s]=i):e[n]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var to=1,Uy=2,By=3,nu=4,Wy=5,lh=-1,vT=/\s/,_T=/[A-Za-z]/,bT=/[A-Za-z84_]/,iu=/[,\]]/,qy=/[\d\.E\-\+]/;function Hn(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=to}Hn.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==nu)for(;vT.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case to:return this.neutral(t);case Uy:return this.keyword(t);case nu:return this.quoted(t);case Wy:return this.afterquote(t);case By:return this.number(t);case lh:return}},Hn.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=nu;return}if(iu.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)},Hn.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=to;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=to,this.currentObject=this.stack.pop(),this.currentObject||(this.state=lh);return}},Hn.prototype.number=function(t){if(qy.test(t)){this.word+=t;return}if(iu.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)},Hn.prototype.quoted=function(t){if(t==='"'){this.state=Wy;return}this.word+=t},Hn.prototype.keyword=function(t){if(bT.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=to;return}if(iu.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)},Hn.prototype.neutral=function(t){if(_T.test(t)){this.word=t,this.state=Uy;return}if(t==='"'){this.word="",this.state=nu;return}if(qy.test(t)){this.word=t,this.state=By;return}if(iu.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)},Hn.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===lh)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function ST(t){var e=new Hn(t);return e.output()}function Hy(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var n=e?{}:t,i=r.reduce(function(s,a){return qs(a,s),s},n);e&&(t[e]=i)}function qs(t,e){if(!Array.isArray(t)){e[t]=!0;return}var r=t.shift();if(r==="PARAMETER"&&(r=t.shift()),t.length===1){if(Array.isArray(t[0])){e[r]={},qs(t[0],e[r]);return}e[r]=t[0];return}if(!t.length){e[r]=!0;return}if(r==="TOWGS84"){e[r]=t;return}if(r==="AXIS"){r in e||(e[r]=[]),e[r].push(t);return}Array.isArray(r)||(e[r]={});var n;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[r]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&qs(t[2],e[r]);return;case"SPHEROID":case"ELLIPSOID":e[r]={name:t[0],a:t[1],rf:t[2]},t.length===4&&qs(t[3],e[r]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],Hy(e,r,t);return;default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return qs(t,e[r]);return Hy(e,r,t)}}var ET=.017453292519943295;function wT(t,e){var r=e[0],n=e[1];!(r in t)&&n in t&&(t[r]=t[n],e.length===3&&(t[r]=e[2](t[r])))}function vn(t){return t*ET}function OT(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",r=0,n=t.AXIS.length;r<n;++r){var i=[t.AXIS[r][0].toLowerCase(),t.AXIS[r][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function a(u){var f=t.to_meter||1;return u*f}var o=function(u){return wT(t,u)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",vn],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",vn],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",vn],["lat0","latitude_of_origin",vn],["lat0","standard_parallel_1",vn],["lat1","standard_parallel_1",vn],["lat2","standard_parallel_2",vn],["azimuth","Azimuth"],["alpha","azimuth",vn],["srsCode","name"]];l.forEach(o),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=vn(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=vn(t.lat0>0?90:-90))}function zy(t){var e=ST(t),r=e.shift(),n=e.shift();e.unshift(["name",n]),e.unshift(["type",r]);var i={};return qs(e,i),OT(i),i}function Qt(t){var e=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?Qt[t]=oh(arguments[1]):Qt[t]=zy(arguments[1]):Qt[t]=r}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(n){Array.isArray(n)?Qt.apply(e,n):Qt(n)});if(typeof t=="string"){if(t in Qt)return Qt[t]}else"EPSG"in t?Qt["EPSG:"+t.EPSG]=t:"ESRI"in t?Qt["ESRI:"+t.ESRI]=t:"IAU2000"in t?Qt["IAU2000:"+t.IAU2000]=t:console.log(t);return}}fT(Qt);function xT(t){return typeof t=="string"}function MT(t){return t in Qt}var TT=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function NT(t){return TT.some(function(e){return t.indexOf(e)>-1})}var CT=["3857","900913","3785","102113"];function PT(t){var e=xi(t,"authority");if(!!e){var r=xi(e,"epsg");return r&&CT.indexOf(r)>-1}}function LT(t){var e=xi(t,"extension");if(!!e)return xi(e,"proj4")}function AT(t){return t[0]==="+"}function IT(t){if(xT(t)){if(MT(t))return Qt[t];if(NT(t)){var e=zy(t);if(PT(e))return Qt["EPSG:3857"];var r=LT(e);return r?oh(r):e}if(AT(t))return oh(t)}else return t}function Yy(t,e){t=t||{};var r,n;if(!e)return t;for(n in e)r=e[n],r!==void 0&&(t[n]=r);return t}function _n(t,e,r){var n=t*e;return r/Math.sqrt(1-n*n)}function ro(t){return t<0?-1:1}function ae(t){return Math.abs(t)<=gt?t:t-ro(t)*eo}function Yr(t,e,r){var n=t*r,i=.5*t;return n=Math.pow((1-n)/(1+n),i),Math.tan(.5*(H-e))/n}function no(t,e){for(var r=.5*t,n,i,s=H-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(s),i=H-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function kT(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=_n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function DT(t){var e=t.x,r=t.y;if(r*yn>90&&r*yn<-90&&e*yn>180&&e*yn<-180)return null;var n,i;if(Math.abs(Math.abs(r)-H)<=te)return null;if(this.sphere)n=this.x0+this.a*this.k0*ae(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(He+.5*r));else{var s=Math.sin(r),a=Yr(this.e,r,s);n=this.x0+this.a*this.k0*ae(e-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return t.x=n,t.y=i,t}function RT(t){var e=t.x-this.x0,r=t.y-this.y0,n,i;if(this.sphere)i=H-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var s=Math.exp(-r/(this.a*this.k0));if(i=no(this.e,s),i===-9999)return null}return n=ae(this.long0+e/(this.a*this.k0)),t.x=n,t.y=i,t}var $T=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const FT={init:kT,forward:DT,inverse:RT,names:$T};function jT(){}function Ky(t){return t}var VT=["longlat","identity"],GT=[FT,{init:jT,forward:Ky,inverse:Ky,names:VT}],su={},au=[];function Xy(t,e){var r=au.length;return t.names?(au[r]=t,t.names.forEach(function(n){su[n.toLowerCase()]=r}),this):(console.log(e),!0)}function UT(t){if(!t)return!1;var e=t.toLowerCase();if(typeof su[e]<"u"&&au[su[e]])return au[su[e]]}function BT(){GT.forEach(Xy)}const WT={start:BT,add:Xy,get:UT};var Se={};Se.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},Se.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},Se.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},Se.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},Se.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},Se.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},Se.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},Se.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},Se.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},Se.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},Se.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},Se.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},Se.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},Se.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},Se.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},Se.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},Se.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},Se.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},Se.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},Se.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},Se.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},Se.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},Se.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},Se.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},Se.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},Se.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},Se.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},Se.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},Se.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},Se.hough={a:6378270,rf:297,ellipseName:"Hough"},Se.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},Se.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},Se.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},Se.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},Se.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},Se.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},Se.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},Se.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},Se.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},Se.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},Se.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},Se.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var qT=Se.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Se.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function HT(t,e,r,n){var i=t*t,s=e*e,a=(i-s)/i,o=0;n?(t*=1-a*(pT+a*(mT+a*gT)),i=t*t,a=0):o=Math.sqrt(a);var l=(i-s)/s;return{es:a,e:o,ep2:l}}function zT(t,e,r,n,i){if(!t){var s=xi(Se,n);s||(s=qT),t=s.a,e=s.b,r=s.rf}return r&&!e&&(e=(1-1/r)*t),(r===0||Math.abs(t-e)<te)&&(i=!0,e=t),{a:t,b:e,rf:r,sphere:i}}var Mt={};Mt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Mt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Mt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Mt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Mt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Mt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Mt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Mt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Mt.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},Mt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Mt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Mt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Mt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Mt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Mt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Mt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Mt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Mt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function YT(t,e,r,n,i,s,a){var o={};return t===void 0||t==="none"?o.datum_type=ah:o.datum_type=hT,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=ms),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=gs,o.datum_params[3]*=Qa,o.datum_params[4]*=Qa,o.datum_params[5]*=Qa,o.datum_params[6]=o.datum_params[6]/1e6+1)),a&&(o.datum_type=Ws,o.grids=a),o.a=r,o.b=n,o.es=i,o.ep2=s,o}var Zy={};function KT(t,e){var r=new DataView(e),n=JT(r),i=QT(r,n),s=eN(r,i,n),a={header:i,subgrids:s};return Zy[t]=a,a}function XT(t){if(t===void 0)return null;var e=t.split(",");return e.map(ZT)}function ZT(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Zy[t]||null,isNull:!1}}function Hs(t){return t/3600*Math.PI/180}function JT(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function QT(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:uh(t,56,56+8).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function uh(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function eN(t,e,r){for(var n=176,i=[],s=0;s<e.nSubgrids;s++){var a=rN(t,n,r),o=nN(t,n,a,r),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);i.push({ll:[Hs(a.lowerLongitude),Hs(a.lowerLatitude)],del:[Hs(a.longitudeInterval),Hs(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:tN(o)}),n+=176+a.gridNodeCount*16}return i}function tN(t){return t.map(function(e){return[Hs(e.longitudeShift),Hs(e.latitudeShift)]})}function rN(t,e,r){return{name:uh(t,e+8,e+16).trim(),parent:uh(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function nN(t,e,r,n){for(var i=e+176,s=16,a=[],o=0;o<r.gridNodeCount;o++){var l={latitudeShift:t.getFloat32(i+o*s,n),longitudeShift:t.getFloat32(i+o*s+4,n),latitudeAccuracy:t.getFloat32(i+o*s+8,n),longitudeAccuracy:t.getFloat32(i+o*s+12,n)};a.push(l)}return a}function bn(t,e){if(!(this instanceof bn))return new bn(t);e=e||function(u){if(u)throw u};var r=IT(t);if(typeof r!="object"){e(t);return}var n=bn.projections.get(r.projName);if(!n){e(t);return}if(r.datumCode&&r.datumCode!=="none"){var i=xi(Mt,r.datumCode);i&&(r.datum_params=r.datum_params||(i.towgs84?i.towgs84.split(","):null),r.ellps=i.ellipse,r.datumName=i.datumName?i.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var s=zT(r.a,r.b,r.rf,r.ellps,r.sphere),a=HT(s.a,s.b,s.rf,r.R_A),o=XT(r.nadgrids),l=r.datum||YT(r.datumCode,r.datum_params,s.a,s.b,a.es,a.ep2,o);Yy(this,r),Yy(this,n),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),e(null,this)}bn.projections=WT,bn.projections.start();function iN(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===ms?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===gs?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function Jy(t,e,r){var n=t.x,i=t.y,s=t.z?t.z:0,a,o,l,u;if(i<-H&&i>-1.001*H)i=-H;else if(i>H&&i<1.001*H)i=H;else{if(i<-H)return{x:-1/0,y:-1/0,z:t.z};if(i>H)return{x:1/0,y:1/0,z:t.z}}return n>Math.PI&&(n-=2*Math.PI),o=Math.sin(i),u=Math.cos(i),l=o*o,a=r/Math.sqrt(1-e*l),{x:(a+s)*u*Math.cos(n),y:(a+s)*u*Math.sin(n),z:(a*(1-e)+s)*o}}function Qy(t,e,r,n){var i=1e-12,s=i*i,a=30,o,l,u,f,c,h,d,p,m,g,v,y,b,S=t.x,x=t.y,N=t.z?t.z:0,M,L,D;if(o=Math.sqrt(S*S+x*x),l=Math.sqrt(S*S+x*x+N*N),o/r<i){if(M=0,l/r<i)return L=H,D=-n,{x:t.x,y:t.y,z:t.z}}else M=Math.atan2(x,S);u=N/l,f=o/l,c=1/Math.sqrt(1-e*(2-e)*f*f),p=f*(1-e)*c,m=u*c,b=0;do b++,d=r/Math.sqrt(1-e*m*m),D=o*p+N*m-d*(1-e*m*m),h=e*d/(d+D),c=1/Math.sqrt(1-h*(2-h)*f*f),g=f*(1-h)*c,v=u*c,y=v*p-g*m,p=g,m=v;while(y*y>s&&b<a);return L=Math.atan(v/Math.abs(g)),{x:M,y:L,z:D}}function sN(t,e,r){if(e===ms)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===gs){var n=r[0],i=r[1],s=r[2],a=r[3],o=r[4],l=r[5],u=r[6];return{x:u*(t.x-l*t.y+o*t.z)+n,y:u*(l*t.x+t.y-a*t.z)+i,z:u*(-o*t.x+a*t.y+t.z)+s}}}function aN(t,e,r){if(e===ms)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===gs){var n=r[0],i=r[1],s=r[2],a=r[3],o=r[4],l=r[5],u=r[6],f=(t.x-n)/u,c=(t.y-i)/u,h=(t.z-s)/u;return{x:f+l*c-o*h,y:-l*f+c+a*h,z:o*f-a*c+h}}}function ou(t){return t===ms||t===gs}function oN(t,e,r){if(iN(t,e)||t.datum_type===ah||e.datum_type===ah)return r;var n=t.a,i=t.es;if(t.datum_type===Ws){var s=ev(t,!1,r);if(s!==0)return;n=jy,i=Vy}var a=e.a,o=e.b,l=e.es;if(e.datum_type===Ws&&(a=jy,o=dT,l=Vy),i===l&&n===a&&!ou(t.datum_type)&&!ou(e.datum_type))return r;if(r=Jy(r,i,n),ou(t.datum_type)&&(r=sN(r,t.datum_type,t.datum_params)),ou(e.datum_type)&&(r=aN(r,e.datum_type,e.datum_params)),r=Qy(r,l,a,o),e.datum_type===Ws){var u=ev(e,!0,r);if(u!==0)return}return r}function ev(t,e,r){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var n={x:-r.x,y:r.y},i={x:Number.NaN,y:Number.NaN},s=[];e:for(var a=0;a<t.grids.length;a++){var o=t.grids[a];if(s.push(o.name),o.isNull){i=n;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var l=o.grid.subgrids,u=0,f=l.length;u<f;u++){var c=l[u],h=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,d=c.ll[0]-h,p=c.ll[1]-h,m=c.ll[0]+(c.lim[0]-1)*c.del[0]+h,g=c.ll[1]+(c.lim[1]-1)*c.del[1]+h;if(!(p>n.y||d>n.x||g<n.y||m<n.x)&&(i=lN(n,e,c),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*yn+" "+n.y*yn+" tried: '"+s+"'"),-1):(r.x=-i.x,r.y=i.y,0)}function lN(t,e,r){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var i={x:t.x,y:t.y};i.x-=r.ll[0],i.y-=r.ll[1],i.x=ae(i.x-Math.PI)+Math.PI;var s=tv(i,r);if(e){if(isNaN(s.x))return n;s.x=i.x-s.x,s.y=i.y-s.y;var a=9,o=1e-12,l,u;do{if(u=tv(s,r),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(u.x+s.x),y:i.y-(u.y+s.y)},s.x+=l.x,s.y+=l.y}while(a--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=ae(s.x+r.ll[0]),n.y=s.y+r.ll[1]}else isNaN(s.x)||(n.x=t.x+s.x,n.y=t.y+s.y);return n}function tv(t,e){var r={x:t.x/e.del[0],y:t.y/e.del[1]},n={x:Math.floor(r.x),y:Math.floor(r.y)},i={x:r.x-1*n.x,y:r.y-1*n.y},s={x:Number.NaN,y:Number.NaN},a;if(n.x<0||n.x>=e.lim[0]||n.y<0||n.y>=e.lim[1])return s;a=n.y*e.lim[0]+n.x;var o={x:e.cvs[a][0],y:e.cvs[a][1]};a++;var l={x:e.cvs[a][0],y:e.cvs[a][1]};a+=e.lim[0];var u={x:e.cvs[a][0],y:e.cvs[a][1]};a--;var f={x:e.cvs[a][0],y:e.cvs[a][1]},c=i.x*i.y,h=i.x*(1-i.y),d=(1-i.x)*(1-i.y),p=(1-i.x)*i.y;return s.x=d*o.x+h*l.x+p*f.x+c*u.x,s.y=d*o.y+h*l.y+p*f.y+c*u.y,s}function rv(t,e,r){var n=r.x,i=r.y,s=r.z||0,a,o,l,u={};for(l=0;l<3;l++)if(!(e&&l===2&&r.z===void 0))switch(l===0?(a=n,"ew".indexOf(t.axis[l])!==-1?o="x":o="y"):l===1?(a=i,"ns".indexOf(t.axis[l])!==-1?o="y":o="x"):(a=s,o="z"),t.axis[l]){case"e":u[o]=a;break;case"w":u[o]=-a;break;case"n":u[o]=a;break;case"s":u[o]=-a;break;case"u":r[o]!==void 0&&(u.z=a);break;case"d":r[o]!==void 0&&(u.z=-a);break;default:return null}return u}function nv(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function uN(t){iv(t.x),iv(t.y)}function iv(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function cN(t,e){return(t.datum.datum_type===ms||t.datum.datum_type===gs||t.datum.datum_type===Ws)&&e.datumCode!=="WGS84"||(e.datum.datum_type===ms||e.datum.datum_type===gs||e.datum.datum_type===Ws)&&t.datumCode!=="WGS84"}function lu(t,e,r,n){var i;Array.isArray(r)?r=nv(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var s=r.z!==void 0;if(uN(r),t.datum&&e.datum&&cN(t,e)&&(i=new bn("WGS84"),r=lu(t,i,r,n),t=i),n&&t.axis!=="enu"&&(r=rv(t,!1,r)),t.projName==="longlat")r={x:r.x*It,y:r.y*It,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),r=t.inverse(r),!r)return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=oN(t.datum,e.datum,r),!!r)return e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),e.projName==="longlat"?r={x:r.x*yn,y:r.y*yn,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),n&&e.axis!=="enu"?rv(e,!0,r):(r&&!s&&delete r.z,r)}var sv=bn("WGS84");function ch(t,e,r,n){var i,s,a;return Array.isArray(r)?(i=lu(t,e,r,n)||{x:NaN,y:NaN},r.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(r.splice(3)):[i.x,i.y,r[2]].concat(r.splice(3)):[i.x,i.y].concat(r.splice(2)):[i.x,i.y]):(s=lu(t,e,r,n),a=Object.keys(r),a.length===2||a.forEach(function(o){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;s[o]=r[o]}),s)}function av(t){return t instanceof bn?t:t.oProj?t.oProj:bn(t)}function Ut(t,e,r){t=av(t);var n=!1,i;return typeof e>"u"?(e=t,t=sv,n=!0):(typeof e.x<"u"||Array.isArray(e))&&(r=e,e=t,t=sv,n=!0),e=av(e),r?ch(t,e,r):(i={forward:function(s,a){return ch(t,e,s,a)},inverse:function(s,a){return ch(e,t,s,a)}},n&&(i.oProj=e),i)}var ov=6,lv="AJSAJS",uv="AFAFAF",zs=65,or=73,Lr=79,io=86,so=90;const fN={forward:cv,inverse:hN,toPoint:fv};function cv(t,e){return e=e||5,mN(dN({lat:t[1],lon:t[0]}),e)}function hN(t){var e=hh(pv(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function fv(t){var e=hh(pv(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function fh(t){return t*(Math.PI/180)}function hv(t){return 180*(t/Math.PI)}function dN(t){var e=t.lat,r=t.lon,n=6378137,i=.00669438,s=.9996,a,o,l,u,f,c,h,d=fh(e),p=fh(r),m,g;g=Math.floor((r+180)/6)+1,r===180&&(g=60),e>=56&&e<64&&r>=3&&r<12&&(g=32),e>=72&&e<84&&(r>=0&&r<9?g=31:r>=9&&r<21?g=33:r>=21&&r<33?g=35:r>=33&&r<42&&(g=37)),a=(g-1)*6-180+3,m=fh(a),o=i/(1-i),l=n/Math.sqrt(1-i*Math.sin(d)*Math.sin(d)),u=Math.tan(d)*Math.tan(d),f=o*Math.cos(d)*Math.cos(d),c=Math.cos(d)*(p-m),h=n*((1-i/4-3*i*i/64-5*i*i*i/256)*d-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*d)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*d)-35*i*i*i/3072*Math.sin(6*d));var v=s*l*(c+(1-u+f)*c*c*c/6+(5-18*u+u*u+72*f-58*o)*c*c*c*c*c/120)+5e5,y=s*(h+l*Math.tan(d)*(c*c/2+(5-u+9*f+4*f*f)*c*c*c*c/24+(61-58*u+u*u+600*f-330*o)*c*c*c*c*c*c/720));return e<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(v),zoneNumber:g,zoneLetter:pN(e)}}function hh(t){var e=t.northing,r=t.easting,n=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var s=.9996,a=6378137,o=.00669438,l,u=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),f,c,h,d,p,m,g,v,y,b=r-5e5,S=e;n<"N"&&(S-=1e7),g=(i-1)*6-180+3,l=o/(1-o),m=S/s,v=m/(a*(1-o/4-3*o*o/64-5*o*o*o/256)),y=v+(3*u/2-27*u*u*u/32)*Math.sin(2*v)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*v)+151*u*u*u/96*Math.sin(6*v),f=a/Math.sqrt(1-o*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),h=l*Math.cos(y)*Math.cos(y),d=a*(1-o)/Math.pow(1-o*Math.sin(y)*Math.sin(y),1.5),p=b/(f*s);var x=y-f*Math.tan(y)/d*(p*p/2-(5+3*c+10*h-4*h*h-9*l)*p*p*p*p/24+(61+90*c+298*h+45*c*c-252*l-3*h*h)*p*p*p*p*p*p/720);x=hv(x);var N=(p-(1+2*c+h)*p*p*p/6+(5-2*h+28*c-3*h*h+8*l+24*c*c)*p*p*p*p*p/120)/Math.cos(y);N=g+hv(N);var M;if(t.accuracy){var L=hh({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});M={top:L.lat,right:L.lon,bottom:x,left:N}}else M={lat:x,lon:N};return M}function pN(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function mN(t,e){var r="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+gN(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+n.substr(n.length-5,e)}function gN(t,e,r){var n=dv(r),i=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return yN(i,s,n)}function dv(t){var e=t%ov;return e===0&&(e=ov),e}function yN(t,e,r){var n=r-1,i=lv.charCodeAt(n),s=uv.charCodeAt(n),a=i+t-1,o=s+e,l=!1;a>so&&(a=a-so+zs-1,l=!0),(a===or||i<or&&a>or||(a>or||i<or)&&l)&&a++,(a===Lr||i<Lr&&a>Lr||(a>Lr||i<Lr)&&l)&&(a++,a===or&&a++),a>so&&(a=a-so+zs-1),o>io?(o=o-io+zs-1,l=!0):l=!1,(o===or||s<or&&o>or||(o>or||s<or)&&l)&&o++,(o===Lr||s<Lr&&o>Lr||(o>Lr||s<Lr)&&l)&&(o++,o===or&&o++),o>io&&(o=o-io+zs-1);var u=String.fromCharCode(a)+String.fromCharCode(o);return u}function pv(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,r=null,n="",i,s=0;!/[A-Z]/.test(i=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;n+=i,s++}var a=parseInt(n,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(s++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+t;r=t.substring(s,s+=2);for(var l=dv(a),u=vN(r.charAt(0),l),f=_N(r.charAt(1),l);f<bN(o);)f+=2e6;var c=e-s;if(c%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var h=c/2,d=0,p=0,m,g,v,y,b;return h>0&&(m=1e5/Math.pow(10,h),g=t.substring(s,s+h),d=parseFloat(g)*m,v=t.substring(s+h),p=parseFloat(v)*m),y=d+u,b=p+f,{easting:y,northing:b,zoneLetter:o,zoneNumber:a,accuracy:m}}function vN(t,e){for(var r=lv.charCodeAt(e-1),n=1e5,i=!1;r!==t.charCodeAt(0);){if(r++,r===or&&r++,r===Lr&&r++,r>so){if(i)throw"Bad character: "+t;r=zs,i=!0}n+=1e5}return n}function _N(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=uv.charCodeAt(e-1),n=0,i=!1;r!==t.charCodeAt(0);){if(r++,r===or&&r++,r===Lr&&r++,r>io){if(i)throw"Bad character: "+t;r=zs,i=!0}n+=1e5}return n}function bN(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Ys(t,e,r){if(!(this instanceof Ys))return new Ys(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ys.fromMGRS=function(t){return new Ys(fv(t))},Ys.prototype.toMGRS=function(t){return cv([this.x,this.y],t)};var SN=1,EN=.25,mv=.046875,gv=.01953125,yv=.01068115234375,wN=.75,ON=.46875,xN=.013020833333333334,MN=.007120768229166667,TN=.3645833333333333,NN=.005696614583333333,CN=.3076171875;function vv(t){var e=[];e[0]=SN-t*(EN+t*(mv+t*(gv+t*yv))),e[1]=t*(wN-t*(mv+t*(gv+t*yv)));var r=t*t;return e[2]=r*(ON-t*(xN+t*MN)),r*=t,e[3]=r*(TN-t*NN),e[4]=r*t*CN,e}function uu(t,e,r,n){return r*=e,e*=e,n[0]*t-r*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var PN=20;function _v(t,e,r){for(var n=1/(1-e),i=t,s=PN;s;--s){var a=Math.sin(i),o=1-e*a*a;if(o=(uu(i,a,Math.cos(i),r)-t)*(o*Math.sqrt(o))*n,i-=o,Math.abs(o)<te)return i}return i}function LN(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=vv(this.es),this.ml0=uu(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function AN(t){var e=t.x,r=t.y,n=ae(e-this.long0),i,s,a,o=Math.sin(r),l=Math.cos(r);if(this.es){var f=l*n,c=Math.pow(f,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),p=Math.abs(l)>te?Math.tan(r):0,m=Math.pow(p,2),g=Math.pow(m,2);i=1-this.es*Math.pow(o,2),f=f/Math.sqrt(i);var v=uu(r,o,l,this.en);s=this.a*(this.k0*f*(1+c/6*(1-m+h+c/20*(5-18*m+g+14*h-58*m*h+c/42*(61+179*g-g*m-479*m)))))+this.x0,a=this.a*(this.k0*(v-this.ml0+o*n*f/2*(1+c/12*(5-m+9*h+4*d+c/30*(61+g-58*m+270*h-330*m*h+c/56*(1385+543*g-g*m-3111*m))))))+this.y0}else{var u=l*Math.sin(n);if(Math.abs(Math.abs(u)-1)<te)return 93;if(s=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,a=l*Math.cos(n)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(a),u>=1){if(u-1>te)return 93;a=0}else a=Math.acos(a);r<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return t.x=s,t.y=a,t}function IN(t){var e,r,n,i,s=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,r=_v(e,this.es,this.en),Math.abs(r)<H){var c=Math.sin(r),h=Math.cos(r),d=Math.abs(h)>te?Math.tan(r):0,p=this.ep2*Math.pow(h,2),m=Math.pow(p,2),g=Math.pow(d,2),v=Math.pow(g,2);e=1-this.es*Math.pow(c,2);var y=s*Math.sqrt(e)/this.k0,b=Math.pow(y,2);e=e*d,n=r-e*b/(1-this.es)*.5*(1-b/12*(5+3*g-9*p*g+p-4*m-b/30*(61+90*g-252*p*g+45*v+46*p-b/56*(1385+3633*g+4095*v+1574*v*g)))),i=ae(this.long0+y*(1-b/6*(1+2*g+p-b/20*(5+28*g+24*v+8*p*g+6*p-b/42*(61+662*g+1320*v+720*v*g))))/h)}else n=H*ro(a),i=0;else{var o=Math.exp(s/this.k0),l=.5*(o-1/o),u=this.lat0+a/this.k0,f=Math.cos(u);e=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),n=Math.asin(e),a<0&&(n=-n),l===0&&f===0?i=0:i=ae(Math.atan2(l,f)+this.long0)}return t.x=i,t.y=n,t}var kN=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const cu={init:LN,forward:AN,inverse:IN,names:kN};function bv(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function Ar(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),n=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(n,2))}function DN(t){var e=1+t,r=e-1;return r===0?t:t*Math.log(e)/r}function RN(t){var e=Math.abs(t);return e=DN(e*(1+e/(Ar(1,e)+1))),t<0?-e:e}function dh(t,e){for(var r=2*Math.cos(2*e),n=t.length-1,i=t[n],s=0,a;--n>=0;)a=-s+r*i+t[n],s=i,i=a;return e+a*Math.sin(2*e)}function $N(t,e){for(var r=2*Math.cos(e),n=t.length-1,i=t[n],s=0,a;--n>=0;)a=-s+r*i+t[n],s=i,i=a;return Math.sin(e)*a}function FN(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function Sv(t,e,r){for(var n=Math.sin(e),i=Math.cos(e),s=bv(r),a=FN(r),o=2*i*a,l=-2*n*s,u=t.length-1,f=t[u],c=0,h=0,d=0,p,m;--u>=0;)p=h,m=c,h=f,c=d,f=-p+o*h-l*c+t[u],d=-m+l*h+o*c;return o=n*a,l=i*s,[o*f-l*d,o*d+l*f]}function jN(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(cu.init.apply(this),this.forward=cu.forward,this.inverse=cu.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),r=r*e,this.cgb[1]=r*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r=r*e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),r=r*e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(-12/5+e*(-24832/14175))),r=r*e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r=r*e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),r=r*e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r=r*e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r=r*e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r=r*e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var n=dh(this.cbg,this.lat0);this.Zb=-this.Qn*(n+$N(this.gtu,2*n))}function VN(t){var e=ae(t.x-this.long0),r=t.y;r=dh(this.cbg,r);var n=Math.sin(r),i=Math.cos(r),s=Math.sin(e),a=Math.cos(e);r=Math.atan2(n,a*i),e=Math.atan2(s*i,Ar(n,i*a)),e=RN(Math.tan(e));var o=Sv(this.gtu,2*r,2*e);r=r+o[0],e=e+o[1];var l,u;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*r+this.Zb)+this.y0):(l=1/0,u=1/0),t.x=l,t.y=u,t}function GN(t){var e=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,e=e/this.Qn;var n,i;if(Math.abs(e)<=2.623395162778){var s=Sv(this.utg,2*r,2*e);r=r+s[0],e=e+s[1],e=Math.atan(bv(e));var a=Math.sin(r),o=Math.cos(r),l=Math.sin(e),u=Math.cos(e);r=Math.atan2(a*u,Ar(l,u*o)),e=Math.atan2(l,u*o),n=ae(e+this.long0),i=dh(this.cgb,r)}else n=1/0,i=1/0;return t.x=n,t.y=i,t}var UN=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const fu={init:jN,forward:VN,inverse:GN,names:UN};function BN(t,e){if(t===void 0){if(t=Math.floor((ae(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var WN="etmerc";function qN(){var t=BN(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*It,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,fu.init.apply(this),this.forward=fu.forward,this.inverse=fu.inverse}var HN=["Universal Transverse Mercator System","utm"];const zN={init:qN,names:HN,dependsOn:WN};function ph(t,e){return Math.pow((1-t)/(1+t),e)}var YN=20;function KN(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+He)/(Math.pow(Math.tan(.5*this.lat0+He),this.C)*ph(this.e*t,this.ratexp))}function XN(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+He),this.C)*ph(this.e*Math.sin(r),this.ratexp))-H,t.x=this.C*e,t}function ZN(t){for(var e=1e-14,r=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+He)/this.K,1/this.C),s=YN;s>0&&(n=2*Math.atan(i*ph(this.e*Math.sin(t.y),-.5*this.e))-H,!(Math.abs(n-t.y)<e));--s)t.y=n;return s?(t.x=r,t.y=n,t):null}var JN=["gauss"];const mh={init:KN,forward:XN,inverse:ZN,names:JN};function QN(){mh.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function e2(t){var e,r,n,i;return t.x=ae(t.x-this.long0),mh.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*n),t.x=i*r*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*r*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function t2(t){var e,r,n,i,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Ar(t.x,t.y)){var a=2*Math.atan2(s,this.R2);e=Math.sin(a),r=Math.cos(a),i=Math.asin(r*this.sinc0+t.y*e*this.cosc0/s),n=Math.atan2(t.x*e,s*this.cosc0*r-t.y*this.sinc0*e)}else i=this.phic0,n=0;return t.x=n,t.y=i,mh.inverse.apply(this,[t]),t.x=ae(t.x+this.long0),t}var r2=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const n2={init:QN,forward:e2,inverse:t2,names:r2};function i2(t,e,r){return e*=r,Math.tan(.5*(H+t))*Math.pow((1-e)/(1+e),.5*r)}function s2(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=te&&(this.k0=.5*(1+ro(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=te&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=te&&Math.abs(Math.cos(this.lat_ts))>te&&(this.k0=.5*this.cons*_n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Yr(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=_n(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-H,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function a2(t){var e=t.x,r=t.y,n=Math.sin(r),i=Math.cos(r),s,a,o,l,u,f,c=ae(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=te&&Math.abs(r+this.lat0)<=te?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*n+this.coslat0*i*Math.cos(c)),t.x=this.a*s*i*Math.sin(c)+this.x0,t.y=this.a*s*(this.coslat0*n-this.sinlat0*i*Math.cos(c))+this.y0,t):(a=2*Math.atan(this.ssfn_(r,n,this.e))-H,l=Math.cos(a),o=Math.sin(a),Math.abs(this.coslat0)<=te?(u=Yr(this.e,r*this.con,this.con*n),f=2*this.a*this.k0*u/this.cons,t.x=this.x0+f*Math.sin(e-this.long0),t.y=this.y0-this.con*f*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<te?(s=2*this.a*this.k0/(1+l*Math.cos(c)),t.y=s*o):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(c))),t.y=s*(this.cosX0*o-this.sinX0*l*Math.cos(c))+this.y0),t.x=s*l*Math.sin(c)+this.x0,t))}function o2(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,s,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,r=this.lat0,a<=te?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/a),Math.abs(this.coslat0)<te?this.lat0>0?e=ae(this.long0+Math.atan2(t.x,-1*t.y)):e=ae(this.long0+Math.atan2(t.x,t.y)):e=ae(this.long0+Math.atan2(t.x*Math.sin(o),a*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=r,t)}else if(Math.abs(this.coslat0)<=te){if(a<=te)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,n=a*this.cons/(2*this.a*this.k0),r=this.con*no(this.e,n),e=this.con*ae(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=te?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/a),e=ae(this.long0+Math.atan2(t.x*Math.sin(i),a*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),r=-1*no(this.e,Math.tan(.5*(H+s)));return t.x=e,t.y=r,t}var l2=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const u2={init:s2,forward:a2,inverse:o2,names:l2,ssfn_:i2};function c2(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=this.rf,i=1/n,s=2*i-Math.pow(i,2),a=this.e=Math.sqrt(s);this.R=this.k0*r*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*l+this.alpha*a/2*u}function f2(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*a+this.x0,t}function h2(t){for(var e=t.x-this.x0,r=t.y-this.y0,n=e/this.R,i=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+a/this.alpha,l=0,u=s,f=-1e3,c=0;Math.abs(u-f)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),f=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=o,t.y=u,t}var d2=["somerc"];const p2={init:c2,forward:f2,inverse:h2,names:d2};var Ks=1e-7;function m2(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(r)!==-1}function g2(){var t,e,r,n,i,s,a,o,l,u,f=0,c,h=0,d=0,p=0,m=0,g=0,v=0;this.no_off=m2(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),y&&(v=this.alpha),b&&(f=this.rectified_grid_angle*It),y||b)h=this.longc;else if(d=this.long1,m=this.lat1,p=this.long2,g=this.lat2,Math.abs(m-g)<=Ks||(t=Math.abs(m))<=Ks||Math.abs(t-H)<=Ks||Math.abs(Math.abs(this.lat0)-H)<=Ks||Math.abs(Math.abs(g)-H)<=Ks)throw new Error;var S=1-this.es;e=Math.sqrt(S),Math.abs(this.lat0)>te?(o=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*o*o,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/S),this.A=this.B*this.k0*e/t,n=this.B*e/(r*Math.sqrt(t)),i=n*n-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=n,this.E*=Math.pow(Yr(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=i=1),y||b?(y?(c=Math.asin(Math.sin(v)/n),b||(f=v)):(c=f,v=Math.asin(n*Math.sin(c))),this.lam0=h-Math.asin(.5*(i-1/i)*Math.tan(c))/this.B):(s=Math.pow(Yr(this.e,m,Math.sin(m)),this.B),a=Math.pow(Yr(this.e,g,Math.sin(g)),this.B),i=this.E/s,l=(a-s)/(a+s),u=this.E*this.E,u=(u-a*s)/(u+a*s),t=d-p,t<-Math.pi?p-=eo:t>Math.pi&&(p+=eo),this.lam0=ae(.5*(d+p)-Math.atan(u*Math.tan(.5*this.B*(d-p))/l)/this.B),c=Math.atan(2*Math.sin(this.B*ae(d-this.lam0))/(i-1/i)),f=v=Math.asin(n*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(He-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(He+i))}function y2(t){var e={},r,n,i,s,a,o,l,u;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-H)>te){if(a=this.E/Math.pow(Yr(this.e,t.y,Math.sin(t.y)),this.B),o=1/a,r=.5*(a-o),n=.5*(a+o),s=Math.sin(this.B*t.x),i=(r*this.singam-s*this.cosgam)/n,Math.abs(Math.abs(i)-1)<te)throw new Error;u=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*t.x),Math.abs(o)<Ks?l=this.A*t.x:l=this.ArB*Math.atan2(r*this.cosgam+s*this.singam,o)}else u=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=u):(l-=this.u_0,e.x=u*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function v2(t){var e,r,n,i,s,a,o,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*r),i=.5*(n-1/n),s=.5*(n+1/n),a=Math.sin(this.BrA*e),o=(a*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(o)-1)<te)l.x=0,l.y=o<0?-H:H;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=no(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var _2=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const b2={init:g2,forward:y2,inverse:v2,names:_2};function S2(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<te)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),n=_n(this.e,e,r),i=Yr(this.e,this.lat1,e),s=Math.sin(this.lat2),a=Math.cos(this.lat2),o=_n(this.e,s,a),l=Yr(this.e,this.lat2,s),u=Yr(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>te?this.ns=Math.log(n/o)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function E2(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=te&&(r=ro(r)*(H-2*te));var n=Math.abs(Math.abs(r)-H),i,s;if(n>te)i=Yr(this.e,r,Math.sin(r)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(n=r*this.ns,n<=0)return null;s=0}var a=this.ns*ae(e-this.long0);return t.x=this.k0*(s*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(a))+this.y0,t}function w2(t){var e,r,n,i,s,a=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),r=1):(e=-Math.sqrt(a*a+o*o),r=-1);var l=0;if(e!==0&&(l=Math.atan2(r*a,r*o)),e!==0||this.ns>0){if(r=1/this.ns,n=Math.pow(e/(this.a*this.f0),r),i=no(this.e,n),i===-9999)return null}else i=-H;return s=ae(l/this.ns+this.long0),t.x=s,t.y=i,t}var O2=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const x2={init:S2,forward:E2,inverse:w2,names:O2};function M2(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function T2(t){var e,r,n,i,s,a,o,l=t.x,u=t.y,f=ae(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),n=-f*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),s=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(i)),a=this.n*s,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=o*Math.cos(a)/1,t.x=o*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function N2(t){var e,r,n,i,s,a,o,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),i=s/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(e)),t.x=this.long0-r/this.alfa,o=e,l=0;var f=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(l=1),o=t.y,f+=1;while(l===0&&f<15);return f>=15?null:t}var C2=["Krovak","krovak"];const P2={init:M2,forward:T2,inverse:N2,names:C2};function er(t,e,r,n,i){return t*i-e*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)}function ao(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function oo(t){return .375*t*(1+.25*t*(1+.46875*t))}function lo(t){return .05859375*t*t*(1+.75*t)}function uo(t){return t*t*t*(35/3072)}function Xs(t,e,r){var n=e*r;return t/Math.sqrt(1-n*n)}function Zs(t){return Math.abs(t)<H?t:t-ro(t)*Math.PI}function hu(t,e,r,n,i){var s,a;s=t/e;for(var o=0;o<15;o++)if(a=(t-(e*s-r*Math.sin(2*s)+n*Math.sin(4*s)-i*Math.sin(6*s)))/(e-2*r*Math.cos(2*s)+4*n*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=a,Math.abs(a)<=1e-10)return s;return NaN}function L2(){this.sphere||(this.e0=ao(this.es),this.e1=oo(this.es),this.e2=lo(this.es),this.e3=uo(this.es),this.ml0=this.a*er(this.e0,this.e1,this.e2,this.e3,this.lat0))}function A2(t){var e,r,n=t.x,i=t.y;if(n=ae(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var s=Math.sin(i),a=Math.cos(i),o=Xs(this.a,this.e,s),l=Math.tan(i)*Math.tan(i),u=n*Math.cos(i),f=u*u,c=this.es*a*a/(1-this.es),h=this.a*er(this.e0,this.e1,this.e2,this.e3,i);e=o*u*(1-f*l*(1/6-(8-l+8*c)*f/120)),r=h-this.ml0+o*s/a*f*(.5+(5-l+6*c)*f/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function I2(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i;if(this.sphere){var s=r+this.lat0;n=Math.asin(Math.sin(s)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(s))}else{var a=this.ml0/this.a+r,o=hu(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-H)<=te)return t.x=this.long0,t.y=H,r<0&&(t.y*=-1),t;var l=Xs(this.a,this.e,Math.sin(o)),u=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(o),2),c=e*this.a/l,h=c*c;n=o-l*Math.tan(o)/u*c*c*(.5-(1+3*f)*c*c/24),i=c*(1-h*(f/3+(1+3*f)*f*h/15))/Math.cos(o)}return t.x=ae(i+this.long0),t.y=Zs(n),t}var k2=["Cassini","Cassini_Soldner","cass"];const D2={init:L2,forward:A2,inverse:I2,names:k2};function Mi(t,e){var r;return t>1e-7?(r=t*e,(1-t*t)*(e/(1-r*r)-.5/t*Math.log((1-r)/(1+r)))):2*e}var R2=1,$2=2,F2=3,j2=4;function V2(){var t=Math.abs(this.lat0);if(Math.abs(t-H)<te?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<te?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Mi(this.e,1),this.mmf=.5/(1-this.es),this.apa=K2(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Mi(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function G2(t){var e,r,n,i,s,a,o,l,u,f,c=t.x,h=t.y;if(c=ae(c-this.long0),this.sphere){if(s=Math.sin(h),f=Math.cos(h),n=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+f*n:1+this.sinph0*s+this.cosph0*f*n,r<=te)return null;r=Math.sqrt(2/r),e=r*f*Math.sin(c),r*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*f*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(h+this.lat0)<te)return null;r=He-h*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),e=r*Math.sin(c),r*=n}}else{switch(o=0,l=0,u=0,n=Math.cos(c),i=Math.sin(c),s=Math.sin(h),a=Mi(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=a/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*l*n;break;case this.EQUIT:u=1+l*n;break;case this.N_POLE:u=H+h,a=this.qp-a;break;case this.S_POLE:u=h-H,a=this.qp+a;break}if(Math.abs(u)<te)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?r=this.ymf*u*(this.cosb1*o-this.sinb1*l*n):r=(u=Math.sqrt(2/(1+l*n)))*o*this.ymf,e=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*i,r=n*(this.mode===this.S_POLE?u:-u)):e=r=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function U2(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i,s,a,o,l,u;if(this.sphere){var f=0,c,h=0;if(c=Math.sqrt(e*e+r*r),i=c*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sin(i),f=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(c)<=te?0:Math.asin(r*h/c),e*=h,r=f*c;break;case this.OBLIQ:i=Math.abs(c)<=te?this.lat0:Math.asin(f*this.sinph0+r*h*this.cosph0/c),e*=h*this.cosph0,r=(f-Math.sin(i)*this.sinph0)*c;break;case this.N_POLE:r=-r,i=H-i;break;case this.S_POLE:i-=H;break}n=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,r)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,r*=this.dd,l=Math.sqrt(e*e+r*r),l<te)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*l/this.rq),s=Math.cos(a),e*=a=Math.sin(a),this.mode===this.OBLIQ?(u=s*this.sinb1+r*a*this.cosb1/l,o=this.qp*u,r=l*this.cosb1*s-r*this.sinb1*a):(u=r*a/l,o=this.qp*u,r=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),o=e*e+r*r,!o)return t.x=this.long0,t.y=this.lat0,t;u=1-o/this.qp,this.mode===this.S_POLE&&(u=-u)}n=Math.atan2(e,r),i=X2(Math.asin(u),this.apa)}return t.x=ae(this.long0+n),t.y=i,t}var B2=.3333333333333333,W2=.17222222222222222,q2=.10257936507936508,H2=.06388888888888888,z2=.0664021164021164,Y2=.016415012942191543;function K2(t){var e,r=[];return r[0]=t*B2,e=t*t,r[0]+=e*W2,r[1]=e*H2,e*=t,r[0]+=e*q2,r[1]+=e*z2,r[2]=e*Y2,r}function X2(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}var Z2=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const J2={init:V2,forward:G2,inverse:U2,names:Z2,S_POLE:R2,N_POLE:$2,EQUIT:F2,OBLIQ:j2};function Ti(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Q2(){Math.abs(this.lat1+this.lat2)<te||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=_n(this.e3,this.sin_po,this.cos_po),this.qs1=Mi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=_n(this.e3,this.sin_po,this.cos_po),this.qs2=Mi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Mi(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>te?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function eC(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=Mi(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,s=this.ns0*ae(e-this.long0),a=i*Math.sin(s)+this.x0,o=this.rh-i*Math.cos(s)+this.y0;return t.x=a,t.y=o,t}function tC(t){var e,r,n,i,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,e!==0&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,r)),s=ae(i/this.ns0+this.long0),t.x=s,t.y=a,t}function rC(t,e){var r,n,i,s,a,o=Ti(.5*e);if(t<te)return o;for(var l=t*t,u=1;u<=25;u++)if(r=Math.sin(o),n=Math.cos(o),i=t*r,s=1-i*i,a=.5*s*s/n*(e/(1-l)-r/s+.5/t*Math.log((1-i)/(1+i))),o=o+a,Math.abs(a)<=1e-7)return o;return null}var nC=["Albers_Conic_Equal_Area","Albers","aea"];const iC={init:Q2,forward:eC,inverse:tC,names:nC,phi1z:rC};function sC(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function aC(t){var e,r,n,i,s,a,o,l,u=t.x,f=t.y;return n=ae(u-this.long0),e=Math.sin(f),r=Math.cos(f),i=Math.cos(n),a=this.sin_p14*e+this.cos_p14*r*i,s=1,a>0||Math.abs(a)<=te?(o=this.x0+this.a*s*r*Math.sin(n)/a,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*r*i)/a):(o=this.x0+this.infinity_dist*r*Math.sin(n),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*i)),t.x=o,t.y=l,t}function oC(t){var e,r,n,i,s,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),r=Math.sin(i),n=Math.cos(i),a=Ti(n*this.sin_p14+t.y*r*this.cos_p14/e),s=Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r),s=ae(this.long0+s)):(a=this.phic0,s=0),t.x=s,t.y=a,t}var lC=["gnom"];const uC={init:sC,forward:aC,inverse:oC,names:lC};function cC(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*H:H;for(var n=Math.asin(.5*e),i,s,a,o,l=0;l<30;l++)if(s=Math.sin(n),a=Math.cos(n),o=t*s,i=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-s/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),n+=i,Math.abs(i)<=1e-10)return n;return NaN}function fC(){this.sphere||(this.k0=_n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function hC(t){var e=t.x,r=t.y,n,i,s=ae(e-this.long0);if(this.sphere)n=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var a=Mi(this.e,Math.sin(r));n=this.x0+this.a*this.k0*s,i=this.y0+this.a*a*.5/this.k0}return t.x=n,t.y=i,t}function dC(t){t.x-=this.x0,t.y-=this.y0;var e,r;return this.sphere?(e=ae(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=cC(this.e,2*t.y*this.k0/this.a),e=ae(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t}var pC=["cea"];const mC={init:fC,forward:hC,inverse:dC,names:pC};function gC(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function yC(t){var e=t.x,r=t.y,n=ae(e-this.long0),i=Zs(r-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t}function vC(t){var e=t.x,r=t.y;return t.x=ae(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Zs(this.lat0+(r-this.y0)/this.a),t}var _C=["Equirectangular","Equidistant_Cylindrical","eqc"];const bC={init:gC,forward:yC,inverse:vC,names:_C};var Ev=20;function SC(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ao(this.es),this.e1=oo(this.es),this.e2=lo(this.es),this.e3=uo(this.es),this.ml0=this.a*er(this.e0,this.e1,this.e2,this.e3,this.lat0)}function EC(t){var e=t.x,r=t.y,n,i,s,a=ae(e-this.long0);if(s=a*Math.sin(r),this.sphere)Math.abs(r)<=te?(n=this.a*a,i=-1*this.a*this.lat0):(n=this.a*Math.sin(s)/Math.tan(r),i=this.a*(Zs(r-this.lat0)+(1-Math.cos(s))/Math.tan(r)));else if(Math.abs(r)<=te)n=this.a*a,i=-1*this.ml0;else{var o=Xs(this.a,this.e,Math.sin(r))/Math.tan(r);n=o*Math.sin(s),i=this.a*er(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+o*(1-Math.cos(s))}return t.x=n+this.x0,t.y=i+this.y0,t}function wC(t){var e,r,n,i,s,a,o,l,u;if(n=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=te)e=ae(n/this.a+this.long0),r=0;else{a=this.lat0+i/this.a,o=n*n/this.a/this.a+a*a,l=a;var f;for(s=Ev;s;--s)if(f=Math.tan(l),u=-1*(a*(l*f+1)-l-.5*(l*l+o)*f)/((l-a)/f-1),l+=u,Math.abs(u)<=te){r=l;break}e=ae(this.long0+Math.asin(n*Math.tan(l)/this.a)/Math.sin(r))}else if(Math.abs(i+this.ml0)<=te)r=0,e=ae(this.long0+n/this.a);else{a=(this.ml0+i)/this.a,o=n*n/this.a/this.a+a*a,l=a;var c,h,d,p,m;for(s=Ev;s;--s)if(m=this.e*Math.sin(l),c=Math.sqrt(1-m*m)*Math.tan(l),h=this.a*er(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),p=h/this.a,u=(a*(c*p+1)-p-.5*c*(p*p+o))/(this.es*Math.sin(2*l)*(p*p+o-2*a*p)/(4*c)+(a-p)*(c*d-2/Math.sin(2*l))-d),l-=u,Math.abs(u)<=te){r=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=ae(this.long0+Math.asin(n*c/this.a)/Math.sin(r))}return t.x=e,t.y=r,t}var OC=["Polyconic","poly"];const xC={init:SC,forward:EC,inverse:wC,names:OC};function MC(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function TC(t){var e,r=t.x,n=t.y,i=n-this.lat0,s=r-this.long0,a=i/Qa*1e-5,o=s,l=1,u=0;for(e=1;e<=10;e++)l=l*a,u=u+this.A[e]*l;var f=u,c=o,h=1,d=0,p,m,g=0,v=0;for(e=1;e<=6;e++)p=h*f-d*c,m=d*f+h*c,h=p,d=m,g=g+this.B_re[e]*h-this.B_im[e]*d,v=v+this.B_im[e]*h+this.B_re[e]*d;return t.x=v*this.a+this.x0,t.y=g*this.a+this.y0,t}function NC(t){var e,r=t.x,n=t.y,i=r-this.x0,s=n-this.y0,a=s/this.a,o=i/this.a,l=1,u=0,f,c,h=0,d=0;for(e=1;e<=6;e++)f=l*a-u*o,c=u*a+l*o,l=f,u=c,h=h+this.C_re[e]*l-this.C_im[e]*u,d=d+this.C_im[e]*l+this.C_re[e]*u;for(var p=0;p<this.iterations;p++){var m=h,g=d,v,y,b=a,S=o;for(e=2;e<=6;e++)v=m*h-g*d,y=g*h+m*d,m=v,g=y,b=b+(e-1)*(this.B_re[e]*m-this.B_im[e]*g),S=S+(e-1)*(this.B_im[e]*m+this.B_re[e]*g);m=1,g=0;var x=this.B_re[1],N=this.B_im[1];for(e=2;e<=6;e++)v=m*h-g*d,y=g*h+m*d,m=v,g=y,x=x+e*(this.B_re[e]*m-this.B_im[e]*g),N=N+e*(this.B_im[e]*m+this.B_re[e]*g);var M=x*x+N*N;h=(b*x+S*N)/M,d=(S*x-b*N)/M}var L=h,D=d,C=1,R=0;for(e=1;e<=9;e++)C=C*L,R=R+this.D[e]*C;var k=this.lat0+R*Qa*1e5,Q=this.long0+D;return t.x=Q,t.y=k,t}var CC=["New_Zealand_Map_Grid","nzmg"];const PC={init:MC,forward:TC,inverse:NC,names:CC};function LC(){}function AC(t){var e=t.x,r=t.y,n=ae(e-this.long0),i=this.x0+this.a*n,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=i,t.y=s,t}function IC(t){t.x-=this.x0,t.y-=this.y0;var e=ae(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var kC=["Miller_Cylindrical","mill"];const DC={init:LC,forward:AC,inverse:IC,names:kC};var RC=20;function $C(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=vv(this.es)}function FC(t){var e,r,n=t.x,i=t.y;if(n=ae(n-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),a=RC;a;--a){var o=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<te)break}e=this.a*this.C_x*n*(this.m+Math.cos(i)),r=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);r=this.a*uu(i,l,u,this.en),e=this.a*n*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=r,t}function jC(t){var e,r,n,i;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n=n/(this.C_x*(this.m+Math.cos(e))),this.m?e=Ti((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Ti(Math.sin(e)/this.n)),n=ae(n+this.long0),e=Zs(e)):(e=_v(t.y/this.a,this.es,this.en),i=Math.abs(e),i<H?(i=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),n=ae(r)):i-te<H&&(n=this.long0)),t.x=n,t.y=e,t}var VC=["Sinusoidal","sinu"];const GC={init:$C,forward:FC,inverse:jC,names:VC};function UC(){}function BC(t){for(var e=t.x,r=t.y,n=ae(e-this.long0),i=r,s=Math.PI*Math.sin(r);;){var a=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=a,Math.abs(a)<te)break}i/=2,Math.PI/2-Math.abs(r)<te&&(n=0);var o=.900316316158*this.a*n*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=l,t}function WC(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var n=ae(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var i=Math.asin(r);return t.x=n,t.y=i,t}var qC=["Mollweide","moll"];const HC={init:UC,forward:BC,inverse:WC,names:qC};function zC(){Math.abs(this.lat1+this.lat2)<te||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ao(this.es),this.e1=oo(this.es),this.e2=lo(this.es),this.e3=uo(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=_n(this.e,this.sinphi,this.cosphi),this.ml1=er(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<te?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=_n(this.e,this.sinphi,this.cosphi),this.ml2=er(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=er(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function YC(t){var e=t.x,r=t.y,n;if(this.sphere)n=this.a*(this.g-r);else{var i=er(this.e0,this.e1,this.e2,this.e3,r);n=this.a*(this.g-i)}var s=this.ns*ae(e-this.long0),a=this.x0+n*Math.sin(s),o=this.y0+this.rh-n*Math.cos(s);return t.x=a,t.y=o,t}function KC(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,r,n,i;this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(r!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=ae(this.long0+s/this.ns),n=Zs(this.g-r/this.a),t.x=i,t.y=n,t;var a=this.g-r/this.a;return n=hu(a,this.e0,this.e1,this.e2,this.e3),i=ae(this.long0+s/this.ns),t.x=i,t.y=n,t}var XC=["Equidistant_Conic","eqdc"];const ZC={init:zC,forward:YC,inverse:KC,names:XC};function JC(){this.R=this.a}function QC(t){var e=t.x,r=t.y,n=ae(e-this.long0),i,s;Math.abs(r)<=te&&(i=this.x0+this.R*n,s=this.y0);var a=Ti(2*Math.abs(r/Math.PI));(Math.abs(n)<=te||Math.abs(Math.abs(r)-H)<=te)&&(i=this.x0,r>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*a):s=this.y0+Math.PI*this.R*-Math.tan(.5*a));var o=.5*Math.abs(Math.PI/n-n/Math.PI),l=o*o,u=Math.sin(a),f=Math.cos(a),c=f/(u+f-1),h=c*c,d=c*(2/u-1),p=d*d,m=Math.PI*this.R*(o*(c-p)+Math.sqrt(l*(c-p)*(c-p)-(p+l)*(h-p)))/(p+l);n<0&&(m=-m),i=this.x0+m;var g=l+c;return m=Math.PI*this.R*(d*g-o*Math.sqrt((p+l)*(l+1)-g*g))/(p+l),r>=0?s=this.y0+m:s=this.y0-m,t.x=i,t.y=s,t}function eP(t){var e,r,n,i,s,a,o,l,u,f,c,h,d;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,n=t.x/c,i=t.y/c,s=n*n+i*i,a=-Math.abs(i)*(1+s),o=a-2*i*i+n*n,l=-2*a+1+2*i*i+s*s,d=i*i/l+(2*o*o*o/l/l/l-9*a*o/l/l)/27,u=(a-o*o/3/l)/l,f=2*Math.sqrt(-u/3),c=3*d/u/f,Math.abs(c)>1&&(c>=0?c=1:c=-1),h=Math.acos(c)/3,t.y>=0?r=(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI:r=-(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI,Math.abs(n)<te?e=this.long0:e=ae(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(n*n-i*i)+s*s))/2/n),t.x=e,t.y=r,t}var tP=["Van_der_Grinten_I","VanDerGrinten","vandg"];const rP={init:JC,forward:QC,inverse:eP,names:tP};function nP(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function iP(t){var e=t.x,r=t.y,n=Math.sin(t.y),i=Math.cos(t.y),s=ae(e-this.long0),a,o,l,u,f,c,h,d,p,m,g,v,y,b,S,x,N,M,L,D,C,R,k;return this.sphere?Math.abs(this.sin_p12-1)<=te?(t.x=this.x0+this.a*(H-r)*Math.sin(s),t.y=this.y0-this.a*(H-r)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=te?(t.x=this.x0+this.a*(H+r)*Math.sin(s),t.y=this.y0+this.a*(H+r)*Math.cos(s),t):(M=this.sin_p12*n+this.cos_p12*i*Math.cos(s),x=Math.acos(M),N=x?x/Math.sin(x):1,t.x=this.x0+this.a*N*i*Math.sin(s),t.y=this.y0+this.a*N*(this.cos_p12*n-this.sin_p12*i*Math.cos(s)),t):(a=ao(this.es),o=oo(this.es),l=lo(this.es),u=uo(this.es),Math.abs(this.sin_p12-1)<=te?(f=this.a*er(a,o,l,u,H),c=this.a*er(a,o,l,u,r),t.x=this.x0+(f-c)*Math.sin(s),t.y=this.y0-(f-c)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=te?(f=this.a*er(a,o,l,u,H),c=this.a*er(a,o,l,u,r),t.x=this.x0+(f+c)*Math.sin(s),t.y=this.y0+(f+c)*Math.cos(s),t):(h=n/i,d=Xs(this.a,this.e,this.sin_p12),p=Xs(this.a,this.e,n),m=Math.atan((1-this.es)*h+this.es*d*this.sin_p12/(p*i)),g=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(m)-this.sin_p12*Math.cos(s)),g===0?L=Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.abs(Math.abs(g)-Math.PI)<=te?L=-Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):L=Math.asin(Math.sin(s)*Math.cos(m)/Math.sin(g)),v=this.e*this.sin_p12/Math.sqrt(1-this.es),y=this.e*this.cos_p12*Math.cos(g)/Math.sqrt(1-this.es),b=v*y,S=y*y,D=L*L,C=D*L,R=C*L,k=R*L,x=d*L*(1-D*S*(1-S)/6+C/8*b*(1-2*S)+R/120*(S*(4-7*S)-3*v*v*(1-7*S))-k/48*b),t.x=this.x0+x*Math.sin(g),t.y=this.y0+x*Math.cos(g),t))}function sP(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,s,a,o,l,u,f,c,h,d,p,m,g,v,y,b,S,x,N,M,L;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*H*this.a?void 0:(r=e/this.a,n=Math.sin(r),i=Math.cos(r),s=this.long0,Math.abs(e)<=te?a=this.lat0:(a=Ti(i*this.sin_p12+t.y*n*this.cos_p12/e),o=Math.abs(this.lat0)-H,Math.abs(o)<=te?this.lat0>=0?s=ae(this.long0+Math.atan2(t.x,-t.y)):s=ae(this.long0-Math.atan2(-t.x,t.y)):s=ae(this.long0+Math.atan2(t.x*n,e*this.cos_p12*i-t.y*this.sin_p12*n))),t.x=s,t.y=a,t)):(l=ao(this.es),u=oo(this.es),f=lo(this.es),c=uo(this.es),Math.abs(this.sin_p12-1)<=te?(h=this.a*er(l,u,f,c,H),e=Math.sqrt(t.x*t.x+t.y*t.y),d=h-e,a=hu(d/this.a,l,u,f,c),s=ae(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=a,t):Math.abs(this.sin_p12+1)<=te?(h=this.a*er(l,u,f,c,H),e=Math.sqrt(t.x*t.x+t.y*t.y),d=e-h,a=hu(d/this.a,l,u,f,c),s=ae(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),p=Xs(this.a,this.e,this.sin_p12),v=Math.cos(g),y=this.e*this.cos_p12*v,b=-y*y/(1-this.es),S=3*this.es*(1-b)*this.sin_p12*this.cos_p12*v/(1-this.es),x=e/p,N=x-b*(1+b)*Math.pow(x,3)/6-S*(1+3*b)*Math.pow(x,4)/24,M=1-b*N*N/2-x*N*N*N/6,m=Math.asin(this.sin_p12*Math.cos(N)+this.cos_p12*Math.sin(N)*v),s=ae(this.long0+Math.asin(Math.sin(g)*Math.sin(N)/Math.cos(m))),L=Math.sin(m),a=Math.atan2((L-this.es*M*this.sin_p12)*Math.tan(m),L*(1-this.es)),t.x=s,t.y=a,t))}var aP=["Azimuthal_Equidistant","aeqd"];const oP={init:nP,forward:iP,inverse:sP,names:aP};function lP(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function uP(t){var e,r,n,i,s,a,o,l,u=t.x,f=t.y;return n=ae(u-this.long0),e=Math.sin(f),r=Math.cos(f),i=Math.cos(n),a=this.sin_p14*e+this.cos_p14*r*i,s=1,(a>0||Math.abs(a)<=te)&&(o=this.a*s*r*Math.sin(n),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*r*i)),t.x=o,t.y=l,t}function cP(t){var e,r,n,i,s,a,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=Ti(e/this.a),n=Math.sin(r),i=Math.cos(r),a=this.long0,Math.abs(e)<=te?(o=this.lat0,t.x=a,t.y=o,t):(o=Ti(i*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.abs(this.lat0)-H,Math.abs(s)<=te?(this.lat0>=0?a=ae(this.long0+Math.atan2(t.x,-t.y)):a=ae(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=o,t):(a=ae(this.long0+Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n)),t.x=a,t.y=o,t))}var fP=["ortho"];const hP={init:lP,forward:uP,inverse:cP,names:fP};var at={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},ze={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function dP(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=H-He/2?this.face=at.TOP:this.lat0<=-(H-He/2)?this.face=at.BOTTOM:Math.abs(this.long0)<=He?this.face=at.FRONT:Math.abs(this.long0)<=H+He?this.face=this.long0>0?at.RIGHT:at.LEFT:this.face=at.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function pP(t){var e={x:0,y:0},r,n,i,s,a,o,l={value:0};if(t.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):r=t.y,n=t.x,this.face===at.TOP)s=H-r,n>=He&&n<=H+He?(l.value=ze.AREA_0,i=n-H):n>H+He||n<=-(H+He)?(l.value=ze.AREA_1,i=n>0?n-gt:n+gt):n>-(H+He)&&n<=-He?(l.value=ze.AREA_2,i=n+H):(l.value=ze.AREA_3,i=n);else if(this.face===at.BOTTOM)s=H+r,n>=He&&n<=H+He?(l.value=ze.AREA_0,i=-n+H):n<He&&n>=-He?(l.value=ze.AREA_1,i=-n):n<-He&&n>=-(H+He)?(l.value=ze.AREA_2,i=-n-H):(l.value=ze.AREA_3,i=n>0?-n+gt:-n-gt);else{var u,f,c,h,d,p,m;this.face===at.RIGHT?n=Js(n,+H):this.face===at.BACK?n=Js(n,+gt):this.face===at.LEFT&&(n=Js(n,-H)),h=Math.sin(r),d=Math.cos(r),p=Math.sin(n),m=Math.cos(n),u=d*m,f=d*p,c=h,this.face===at.FRONT?(s=Math.acos(u),i=du(s,c,f,l)):this.face===at.RIGHT?(s=Math.acos(f),i=du(s,c,-u,l)):this.face===at.BACK?(s=Math.acos(-u),i=du(s,c,-f,l)):this.face===at.LEFT?(s=Math.acos(-f),i=du(s,c,u,l)):(s=i=0,l.value=ze.AREA_0)}return o=Math.atan(12/gt*(i+Math.acos(Math.sin(i)*Math.cos(He))-H)),a=Math.sqrt((1-Math.cos(s))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===ze.AREA_1?o+=H:l.value===ze.AREA_2?o+=gt:l.value===ze.AREA_3&&(o+=1.5*gt),e.x=a*Math.cos(o),e.y=a*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function mP(t){var e={lam:0,phi:0},r,n,i,s,a,o,l,u,f,c={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),r=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?c.value=ze.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(c.value=ze.AREA_1,r-=H):t.x<0&&-t.x>=Math.abs(t.y)?(c.value=ze.AREA_2,r=r<0?r+gt:r-gt):(c.value=ze.AREA_3,r+=H),f=gt/12*Math.tan(r),a=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),o=Math.atan(a),i=Math.cos(r),s=Math.tan(n),l=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===at.TOP)u=Math.acos(l),e.phi=H-u,c.value===ze.AREA_0?e.lam=o+H:c.value===ze.AREA_1?e.lam=o<0?o+gt:o-gt:c.value===ze.AREA_2?e.lam=o-H:e.lam=o;else if(this.face===at.BOTTOM)u=Math.acos(l),e.phi=u-H,c.value===ze.AREA_0?e.lam=-o+H:c.value===ze.AREA_1?e.lam=-o:c.value===ze.AREA_2?e.lam=-o-H:e.lam=o<0?-o-gt:-o+gt;else{var h,d,p;h=l,f=h*h,f>=1?p=0:p=Math.sqrt(1-f)*Math.sin(o),f+=p*p,f>=1?d=0:d=Math.sqrt(1-f),c.value===ze.AREA_1?(f=d,d=-p,p=f):c.value===ze.AREA_2?(d=-d,p=-p):c.value===ze.AREA_3&&(f=d,d=p,p=-f),this.face===at.RIGHT?(f=h,h=-d,d=f):this.face===at.BACK?(h=-h,d=-d):this.face===at.LEFT&&(f=h,h=d,d=-f),e.phi=Math.acos(-p)-H,e.lam=Math.atan2(d,h),this.face===at.RIGHT?e.lam=Js(e.lam,-H):this.face===at.BACK?e.lam=Js(e.lam,-gt):this.face===at.LEFT&&(e.lam=Js(e.lam,+H))}if(this.es!==0){var m,g,v;m=e.phi<0?1:0,g=Math.tan(e.phi),v=this.b/Math.sqrt(g*g+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-v*v)/(this.one_minus_f*v)),m&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function du(t,e,r,n){var i;return t<te?(n.value=ze.AREA_0,i=0):(i=Math.atan2(e,r),Math.abs(i)<=He?n.value=ze.AREA_0:i>He&&i<=H+He?(n.value=ze.AREA_1,i-=H):i>H+He||i<=-(H+He)?(n.value=ze.AREA_2,i=i>=0?i-gt:i+gt):(n.value=ze.AREA_3,i+=H)),i}function Js(t,e){var r=t+e;return r<-gt?r+=eo:r>+gt&&(r-=eo),r}var gP=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const yP={init:dP,forward:pP,inverse:mP,names:gP};var gh=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],co=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],wv=.8487,Ov=1.3523,xv=yn/5,vP=1/xv,Qs=18,pu=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},_P=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function bP(t,e,r,n){for(var i=e;n;--n){var s=t(i);if(i-=s,Math.abs(s)<r)break}return i}function SP(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function EP(t){var e=ae(t.x-this.long0),r=Math.abs(t.y),n=Math.floor(r*xv);n<0?n=0:n>=Qs&&(n=Qs-1),r=yn*(r-vP*n);var i={x:pu(gh[n],r)*e,y:pu(co[n],r)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*wv+this.x0,i.y=i.y*this.a*Ov+this.y0,i}function wP(t){var e={x:(t.x-this.x0)/(this.a*wv),y:Math.abs(t.y-this.y0)/(this.a*Ov)};if(e.y>=1)e.x/=gh[Qs][0],e.y=t.y<0?-H:H;else{var r=Math.floor(e.y*Qs);for(r<0?r=0:r>=Qs&&(r=Qs-1);;)if(co[r][0]>e.y)--r;else if(co[r+1][0]<=e.y)++r;else break;var n=co[r],i=5*(e.y-n[0])/(co[r+1][0]-n[0]);i=bP(function(s){return(pu(n,s)-e.y)/_P(n,s)},i,te,100),e.x/=pu(gh[r],i),e.y=(5*r+i)*It,t.y<0&&(e.y=-e.y)}return e.x=ae(e.x+this.long0),e}var OP=["Robinson","robin"];const xP={init:SP,forward:EP,inverse:wP,names:OP};function MP(){this.name="geocent"}function TP(t){var e=Jy(t,this.es,this.a);return e}function NP(t){var e=Qy(t,this.es,this.a,this.b);return e}var CP=["Geocentric","geocentric","geocent","Geocent"];const PP={init:MP,forward:TP,inverse:NP,names:CP};var Bt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},fo={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function LP(){if(Object.keys(fo).forEach(function(r){if(typeof this[r]>"u")this[r]=fo[r].def;else{if(fo[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);fo[r].num&&(this[r]=parseFloat(this[r]))}fo[r].degrees&&(this[r]=this[r]*It)}.bind(this)),Math.abs(Math.abs(this.lat0)-H)<te?this.mode=this.lat0<0?Bt.S_POLE:Bt.N_POLE:Math.abs(this.lat0)<te?this.mode=Bt.EQUIT:(this.mode=Bt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function AP(t){t.x-=this.long0;var e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i,s;switch(this.mode){case Bt.OBLIQ:s=this.sinph0*e+this.cosph0*r*n;break;case Bt.EQUIT:s=r*n;break;case Bt.S_POLE:s=-e;break;case Bt.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),i=s*r*Math.sin(t.x),this.mode){case Bt.OBLIQ:s*=this.cosph0*e-this.sinph0*r*n;break;case Bt.EQUIT:s*=e;break;case Bt.N_POLE:s*=-(r*n);break;case Bt.S_POLE:s*=r*n;break}var a,o;return a=s*this.cg+i*this.sg,o=1/(a*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*o,s=a*o,t.x=i*this.a,t.y=s*this.a,t}function IP(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},r,n,i;i=1/(this.pn1-t.y*this.sw),r=this.pn1*t.x*i,n=this.pn1*t.y*this.cw*i,t.x=r*this.cg+n*this.sg,t.y=n*this.cg-r*this.sg;var s=Ar(t.x,t.y);if(Math.abs(s)<te)e.x=0,e.y=t.y;else{var a,o;switch(o=1-s*s*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/s+s/this.pn1),a=Math.sqrt(1-o*o),this.mode){case Bt.OBLIQ:e.y=Math.asin(a*this.sinph0+t.y*o*this.cosph0/s),t.y=(a-this.sinph0*Math.sin(e.y))*s,t.x*=o*this.cosph0;break;case Bt.EQUIT:e.y=Math.asin(t.y*o/s),t.y=a*s,t.x*=o;break;case Bt.N_POLE:e.y=Math.asin(a),t.y=-t.y;break;case Bt.S_POLE:e.y=-Math.asin(a);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var kP=["Tilted_Perspective","tpers"];const DP={init:LP,forward:AP,inverse:IP,names:kP};function RP(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function $P(t){var e=t.x,r=t.y,n,i,s,a;if(e=e-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var o=this.radius_p/Ar(this.radius_p*Math.cos(r),Math.sin(r));if(i=o*Math.cos(e)*Math.cos(r),s=o*Math.sin(e)*Math.cos(r),a=o*Math.sin(r),(this.radius_g-i)*i-s*s-a*a*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/Ar(a,n)),t.y=this.radius_g_1*Math.atan(a/n)):(t.x=this.radius_g_1*Math.atan(s/n),t.y=this.radius_g_1*Math.atan(a/Ar(s,n)))}else this.shape==="sphere"&&(n=Math.cos(r),i=Math.cos(e)*n,s=Math.sin(e)*n,a=Math.sin(r),n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/Ar(a,n)),t.y=this.radius_g_1*Math.atan(a/n)):(t.x=this.radius_g_1*Math.atan(s/n),t.y=this.radius_g_1*Math.atan(a/Ar(s,n))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function FP(t){var e=-1,r=0,n=0,i,s,a,o;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Ar(1,n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Ar(1,r));var l=n/this.radius_p;if(i=r*r+l*l+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,r*=o,n*=o,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+n*n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),i=r*r+n*n+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,r*=o,n*=o,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var jP=["Geostationary Satellite View","Geostationary_Satellite","geos"];const VP={init:RP,forward:$P,inverse:FP,names:jP};var ho=1.340264,po=-.081106,mo=893e-6,go=.003796,mu=Math.sqrt(3)/2;function GP(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function UP(t){var e=ae(t.x-this.long0),r=t.y,n=Math.asin(mu*Math.sin(r)),i=n*n,s=i*i*i;return t.x=e*Math.cos(n)/(mu*(ho+3*po*i+s*(7*mo+9*go*i))),t.y=n*(ho+po*i+s*(mo+go*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function BP(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,r=12,n=t.y,i,s,a,o,l,u;for(u=0;u<r&&(i=n*n,s=i*i*i,a=n*(ho+po*i+s*(mo+go*i))-t.y,o=ho+3*po*i+s*(7*mo+9*go*i),n-=l=a/o,!(Math.abs(l)<e));++u);return i=n*n,s=i*i*i,t.x=mu*t.x*(ho+3*po*i+s*(7*mo+9*go*i))/Math.cos(n),t.y=Math.asin(Math.sin(n)/mu),t.x=ae(t.x+this.long0),t}var WP=["eqearth","Equal Earth","Equal_Earth"];const qP={init:GP,forward:UP,inverse:BP,names:WP};function HP(t){t.Proj.projections.add(cu),t.Proj.projections.add(fu),t.Proj.projections.add(zN),t.Proj.projections.add(n2),t.Proj.projections.add(u2),t.Proj.projections.add(p2),t.Proj.projections.add(b2),t.Proj.projections.add(x2),t.Proj.projections.add(P2),t.Proj.projections.add(D2),t.Proj.projections.add(J2),t.Proj.projections.add(iC),t.Proj.projections.add(uC),t.Proj.projections.add(mC),t.Proj.projections.add(bC),t.Proj.projections.add(xC),t.Proj.projections.add(PC),t.Proj.projections.add(DC),t.Proj.projections.add(GC),t.Proj.projections.add(HC),t.Proj.projections.add(ZC),t.Proj.projections.add(rP),t.Proj.projections.add(oP),t.Proj.projections.add(hP),t.Proj.projections.add(yP),t.Proj.projections.add(xP),t.Proj.projections.add(PP),t.Proj.projections.add(DP),t.Proj.projections.add(VP),t.Proj.projections.add(qP)}Ut.defaultDatum="WGS84",Ut.Proj=bn,Ut.WGS84=new Ut.Proj("WGS84"),Ut.Point=Ys,Ut.toPoint=nv,Ut.defs=Qt,Ut.nadgrid=KT,Ut.transform=lu,Ut.mgrs=fN,Ut.version="__VERSION__",HP(Ut);function zP(){var t,e,r;Ut.defs("EPSG:32632","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs"),Ut.defs("EPSG:32631","+proj=utm +zone=31 +datum=WGS84 +units=m +no_defs"),Ut.defs("EPSG:2169","+proj=tmerc +lat_0=49.83333333333334 +lon_0=6.166666666666667 +k=1 +x_0=80000 +y_0=100000 +ellps=intl +towgs84=-189.681,18.3463,-42.7695,-0.33746,-3.09264,2.53861,0.4598 +units=m +no_defs"),zi.register(Ut),(t=St.get("EPSG:32632"))==null||t.setExtent([166021.44,0,833978.55,932900518e-2]),(e=St.get("EPSG:32631"))==null||e.setExtent([166021.44,0,833978.55,932900518e-2]),(r=St.get("EPSG:2169"))==null||r.setExtent([48225.17,56225.6,105842.04,139616.4])}function Mv(t,e,r){const n=he(t);class i extends yh{constructor(a){super(n,a,e,r)}}return ut(i,"def",n),i}const YP=typeof HTMLElement<"u"?HTMLElement:class{};class yh extends YP{constructor(r,n={},i={},s){super();ut(this,"_instance",null);ut(this,"_connected",!1);ut(this,"_resolved",!1);ut(this,"_numberProps",null);ut(this,"_styles");ut(this,"_slots");this._def=r,this._props=n,this._config=i,this._config=Qe({shadowRoot:!0},this._config),this._config.shadowRoot?this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def)):s&&s(this._createVNode(),this._root)}get _root(){return this._config.shadowRoot?this.shadowRoot:this}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,xl(()=>{this._connected||(ly(null,this._root),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const r=(i,s=!1)=>{const{props:a,styles:o}=i;let l;if(a&&!ue(a))for(const u in a){const f=a[u];(f===Number||f&&f.type===Number)&&(u in this._props&&(this._props[u]=Yc(this._props[u])),(l||(l=Object.create(null)))[gr(u)]=!0)}this._numberProps=l,s&&this._resolveProps(i),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(i=>r(i,!0)):r(this._def)}_resolveProps(r){const{props:n}=r,i=ue(n)?n:Object.keys(n||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(gr))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(a){this._setProp(s,a)}})}_setAttr(r){let n=this.getAttribute(r);const i=gr(r);this._numberProps&&this._numberProps[i]&&(n=Yc(n)),this._setProp(i,n,!1)}_getProp(r){return this._props[r]}_setProp(r,n,i=!0,s=!0){n!==this._props[r]&&(this._props[r]=n,s&&this._instance&&this._update(),i&&(n===!0?this.setAttribute(ir(r),""):typeof n=="string"||typeof n=="number"?this.setAttribute(ir(r),n+""):n||this.removeAttribute(ir(r))))}_update(){ly(this._createVNode(),this._root)}_createVNode(){const r=se(this._def,Qe({},this._props));return this._instance||(r.ce=n=>{this._instance=n,n.isCE=!0;const i=(a,o)=>{this.dispatchEvent(new CustomEvent(a,{detail:o}))};n.emit=(a,...o)=>{i(a,o),ir(a)!==a&&i(ir(a),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof yh){n.parent=s._instance,n.provides=s._instance.provides;break}}),r}_applyStyles(r){r&&r.forEach(n=>{const i=document.createElement("style");i.textContent=n,this._root.appendChild(i)})}}const F7="";var yo=(t=>(t.INFO="alert-info",t.WARNING="alert-warning",t.ERROR="alert-danger",t))(yo||{});const KP=yo.INFO,XP=7e3,ZP=4e3,gu=ps("alert-notifications",()=>{const t=Ee([]);function e(n,i=KP,s){const a={message:n,type:i,duration:s!=null?s:i===yo.WARNING?ZP:XP};t.value.push(a)}function r(n){t.value.splice(n,1)}return{notifications:t,addNotification:e,removeNotification:r}},{}),JP=he({__name:"notification-item",props:{notification:{type:Object,required:!0}},emits:["close"],setup(t){const e=t,r=rt(!0);function n(i,s){setTimeout(()=>{r.value=!1},e.notification.duration),s()}return(i,s)=>{const a=vf("dompurify-html");return A(),Ge(Wl,{name:"fade-out",appear:"","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0",onEnter:n,onAfterLeave:s[0]||(s[0]=o=>i.$emit("close"))},{default:pi(()=>[r.value?Ll((A(),G("div",{key:0,class:Ie(["lux-alert",`lux-${e.notification.type}`]),role:"alert"},null,2)),[[a,e.notification.message]]):F("v-if",!0)]),_:1})}}}),ge=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},QP=ge(JP,[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/alert-notifications/notification-item.vue"]]),eL={key:0,class:"lux-notifications fixed w-[500px] top-10 left-1/2 ml-[-250px] z-50"},Tv=ge(he({__name:"alert-notifications",setup(t){const e=gu(),{notifications:r}=Ue(e);function n(i){e.removeNotification(i)}return(i,s)=>(A(),Ge(Pg,{to:"body"},[O(r).length?(A(),G("div",eL,[(A(!0),G(Ve,null,Tr(O(r),(a,o)=>(A(),Ge(QP,{key:o,notification:a,onClose:()=>n(o)},null,8,["notification","onClose"]))),128))])):F("v-if",!0)]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/alert-notifications/alert-notifications.vue"]]),tL={class:"lux-dropdown"},rL={class:"h-full"},nL=["aria-expanded"],iL=P("span",{class:"lux-caret"},null,-1),sL={class:"lux-dropdown-wrapper"},aL=["aria-label","data-value"],vh=ge(he({__name:"dropdown-list",props:{placeholder:{type:String,required:!0},options:{type:Array,required:!0,default:()=>[{label:"Default label",value:"Default value"}]},modelValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const r=t,n=e,i=rt(!1),s=rt();function a(f){i.value=f===void 0?!i.value:f}function o(f){f.stopImmediatePropagation(),a()}function l(f){s.value=f.target.dataset.value,n("change",s.value)}function u(){a(!1)}return _r(()=>document.addEventListener("click",u)),gi(()=>document.removeEventListener("click",u)),(f,c)=>{var h,d;return A(),G("div",tL,[P("div",rL,[P("button",{type:"button",class:Ie(["lux-btn lux-dropdown-btn",i.value?"expanded":""]),"aria-expanded":i.value,"aria-haspopup":"true",onClick:o},[P("span",null,oe((d=r.placeholder)!=null?d:(h=r.options[0])==null?void 0:h.label),1),iL],10,nL)]),P("div",sL,[P("ul",{class:Ie(["lux-dropdown-list",i.value?"":"hidden"]),tabindex:"-1"},[(A(!0),G(Ve,null,Tr(r.options,p=>(A(),G("li",{key:p.value,class:Ie(f.modelValue===p.value?"selected":"")},[P("button",{class:"lux-dropdown-list-item","aria-label":p.ariaLabel,"data-value":p.value,onClick:l},oe(p.label),9,aL)],2))),128))],2)])])}}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/common/dropdown-list.vue"]]),vo="EPSG:3857",Nv="EPSG:4326",oL="EPSG:2169";let _h;const Cv=rt();function Sn(){function t(){return _h}function e(){return Cv.value=_h=new kE.default({view:new DE.default({zoom:10,center:[682439,6379152],multiWorld:!0}),controls:[],keyboardEventTarget:document}),_h}function r(f,c){return f.id===c.id}function n(f,c){return f===c}function i(f,c){var h;return(h=f.layers)==null?void 0:h.some(d=>r(d,c))}function s(f,c){var d;const h=(d=f==null?void 0:f.layers)==null?void 0:d.find(p=>r(p,c));return!n(h,c)}function a(f,c){return!(c===null||!("layers"in f)||!("layers"in c)||typeof c.layers>"u"||typeof f.layers>"u"||f.layers===c.layers)}function o(f,c){return!("layers"in f)||typeof f.layers>"u"?[]:c===null||!("layers"in c)?f.layers.map((h,d)=>({layer:h,position:d})):f.layers===c.layers?[]:f.layers.reduce((h,d,p)=>i(c,d)?h:[...h,{layer:d,position:p}],[])}function l(f,c){return a(f,c)?c.layers.reduce((h,d)=>i(f,d)?h:[...h,d],[]):[]}function u(f,c){return a(f,c)?f.layers.reduce((h,d)=>s(c,d)?[...h,d]:h,[]):[]}return{olMap:Cv,getOlMap:t,createMap:e,equalsLayer:r,hasLayer:i,layerHasChanged:s,contextHasChanged:a,getAddedLayers:o,getRemovedLayers:l,getMutatedLayers:u}}const _o=new Map;function Ir(t){return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(t)}function En(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lL(t,e){if(Ir(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ir(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pv(t){var e=lL(t,"string");return Ir(e)=="symbol"?e:e+""}function Lv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pv(n.key),n)}}function wn(t,e,r){return e&&Lv(t.prototype,e),r&&Lv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ni(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bh(t,e){return bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bh(t,e)}function yu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bh(t,e)}function bo(t,e){if(e&&(Ir(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ni(t)}function On(t){return On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},On(t)}function Ci(t,e,r){return e=Pv(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uL(t){if(Array.isArray(t))return t}function cL(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Av(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fL(t,e){if(!!t){if(typeof t=="string")return Av(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Av(t,e)}}function hL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dL(t){return uL(t)||cL(t)||fL(t)||hL()}function Iv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Iv(Object(r),!0).forEach(function(n){Ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Iv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pL={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},mL=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};En(this,t),this.init(e,r)}return wn(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||pL,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,s){return s&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,kv(kv({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),xn=new mL,Pi=function(){function t(){En(this,t),this.observers={}}return wn(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(n)}),this}},{key:"off",value:function(r,n){if(!!this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];if(this.observers[r]){var a=[].concat(this.observers[r]);a.forEach(function(l){l.apply(void 0,i)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(l){l.apply(l,[r].concat(i))})}}}]),t}();function So(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function Dv(t){return t==null?"":""+t}function gL(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function Sh(t,e,r){function n(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var a=n(s.shift());!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return i()?{}:{obj:t,k:n(s.shift())}}function Rv(t,e,r){var n=Sh(t,e,Object),i=n.obj,s=n.k;i[s]=r}function yL(t,e,r,n){var i=Sh(t,e,Object),s=i.obj,a=i.k;s[a]=s[a]||[],n&&(s[a]=s[a].concat(r)),n||s[a].push(r)}function vu(t,e){var r=Sh(t,e),n=r.obj,i=r.k;if(!!n)return n[i]}function vL(t,e,r){var n=vu(t,r);return n!==void 0?n:vu(e,r)}function $v(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):$v(t[n],e[n],r):t[n]=e[n]);return t}function ea(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function bL(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return _L[e]}):t}var _u=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,SL=[" ",",","?","!",";"];function EL(t,e,r){e=e||"",r=r||"";var n=SL.filter(function(o){return e.indexOf(o)<0&&r.indexOf(o)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(o){return o==="?"?"\\?":o}).join("|"),")")),s=!i.test(t);if(!s){var a=t.indexOf(r);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s}function bu(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[e])return t[e];for(var n=e.split(r),i=t,s=0;s<n.length;++s){if(!i||typeof i[n[s]]=="string"&&s+1<n.length)return;if(i[n[s]]===void 0){for(var a=2,o=n.slice(s,s+a).join(r),l=i[o];l===void 0&&n.length>s+a;)a++,o=n.slice(s,s+a).join(r),l=i[o];if(l===void 0)return;if(l===null)return null;if(e.endsWith(o)){if(typeof l=="string")return l;if(o&&typeof l[o]=="string")return l[o]}var u=n.slice(s+a).join(r);return u?bu(l,u,r):void 0}i=i[n[s]]}return i}}function Fv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Su(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fv(Object(r),!0).forEach(function(n){Ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wL(t){var e=OL();return function(){var n=On(t),i;if(e){var s=On(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return bo(this,i)}}function OL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var xL=function(t){yu(r,t);var e=wL(r);function r(n){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return En(this,r),i=e.call(this),_u&&Pi.call(Ni(i)),i.data=n||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return wn(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[i,s];a&&typeof a!="string"&&(f=f.concat(a)),a&&typeof a=="string"&&(f=f.concat(l?a.split(l):a)),i.indexOf(".")>-1&&(f=i.split("."));var c=vu(this.data,f);return c||!u||typeof a!="string"?c:bu(this.data&&this.data[i]&&this.data[i][s],a,l)}},{key:"addResource",value:function(i,s,a,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,f=[i,s];a&&(f=f.concat(u?a.split(u):a)),i.indexOf(".")>-1&&(f=i.split("."),o=s,s=f[1]),this.addNamespaces(s),Rv(this.data,f,o),l.silent||this.emit("added",i,s,a,o)}},{key:"addResources",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in a)(typeof a[l]=="string"||Object.prototype.toString.apply(a[l])==="[object Array]")&&this.addResource(i,s,l,a[l],{silent:!0});o.silent||this.emit("added",i,s,a)}},{key:"addResourceBundle",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[i,s];i.indexOf(".")>-1&&(f=i.split("."),o=a,a=s,s=f[1]),this.addNamespaces(s);var c=vu(this.data,f)||{};o?$v(c,a,l):c=Su(Su({},c),a),Rv(this.data,f,c),u.silent||this.emit("added",i,s,a)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Su(Su({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),a=s&&Object.keys(s)||[];return!!a.find(function(o){return s[o]&&Object.keys(s[o]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Pi),jv={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,s){var a=this;return e.forEach(function(o){a.processors[o]&&(r=a.processors[o].process(r,n,i,s))}),r}};function Vv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vv(Object(r),!0).forEach(function(n){Ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ML(t){var e=TL();return function(){var n=On(t),i;if(e){var s=On(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return bo(this,i)}}function TL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Gv={},Uv=function(t){yu(r,t);var e=ML(r);function r(n){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return En(this,r),i=e.call(this),_u&&Pi.call(Ni(i)),gL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,Ni(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=xn.create("translator"),i}return wn(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var a=this.resolve(i,s);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(i,s){var a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS||[],u=a&&i.indexOf(a)>-1,f=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!EL(i,a,o);if(u&&!f){var c=i.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:i,namespaces:l};var h=i.split(a);(a!==o||a===o&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),i=h.join(o)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,a){var o=this;if(Ir(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),Ir(s)==="object"&&(s=Wt({},s)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=this.extractFromKey(i[i.length-1],s),c=f.key,h=f.namespaces,d=h[h.length-1],p=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(m){var g=s.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(d).concat(g).concat(c),usedKey:c,exactUsedKey:c,usedLng:p,usedNS:d}:"".concat(d).concat(g).concat(c)}return l?{res:c,usedKey:c,exactUsedKey:c,usedLng:p,usedNS:d}:c}var v=this.resolve(i,s),y=v&&v.res,b=v&&v.usedKey||c,S=v&&v.exactUsedKey||c,x=Object.prototype.toString.apply(y),N=["[object Number]","[object Function]","[object RegExp]"],M=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,L=!this.i18nFormat||this.i18nFormat.handleAsObject,D=typeof y!="string"&&typeof y!="boolean"&&typeof y!="number";if(L&&y&&D&&N.indexOf(x)<0&&!(typeof M=="string"&&x==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,y,Wt(Wt({},s),{},{ns:h})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return l?(v.res=C,v):C}if(u){var R=x==="[object Array]",k=R?[]:{},Q=R?S:b;for(var be in y)if(Object.prototype.hasOwnProperty.call(y,be)){var T="".concat(Q).concat(u).concat(be);k[be]=this.translate(T,Wt(Wt({},s),{joinArrays:!1,ns:h})),k[be]===T&&(k[be]=y[be])}y=k}}else if(L&&typeof M=="string"&&x==="[object Array]")y=y.join(M),y&&(y=this.extendTranslation(y,i,s,a));else{var $=!1,z=!1,X=s.count!==void 0&&typeof s.count!="string",Le=r.hasDefaultValue(s),Ae=X?this.pluralResolver.getSuffix(p,s.count,s):"",_t=s["defaultValue".concat(Ae)]||s.defaultValue;!this.isValidLookup(y)&&Le&&($=!0,y=_t),this.isValidLookup(y)||(z=!0,y=c);var Kt=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Ne=Kt&&z?void 0:y,Rt=Le&&_t!==y&&this.options.updateMissing;if(z||$||Rt){if(this.logger.log(Rt?"updateKey":"missingKey",p,d,c,Rt?_t:y),u){var lt=this.resolve(c,Wt(Wt({},s),{},{keySeparator:!1}));lt&&lt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var An=[],De=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&De&&De[0])for(var dr=0;dr<De.length;dr++)An.push(De[dr]);else this.options.saveMissingTo==="all"?An=this.languageUtils.toResolveHierarchy(s.lng||this.language):An.push(s.lng||this.language);var In=function($t,kn,ii){var _=Le&&ii!==y?ii:Ne;o.options.missingKeyHandler?o.options.missingKeyHandler($t,d,kn,_,Rt,s):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing($t,d,kn,_,Rt,s),o.emit("missingKey",$t,d,kn,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&X?An.forEach(function(ni){o.pluralResolver.getSuffixes(ni,s).forEach(function($t){In([ni],c+$t,s["defaultValue".concat($t)]||_t)})}):In(An,c,_t))}y=this.extendTranslation(y,i,s,v,a),z&&y===c&&this.options.appendNamespaceToMissingKey&&(y="".concat(d,":").concat(c)),(z||$)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(c):c,$?y:void 0):y=this.options.parseMissingKeyHandler(y))}return l?(v.res=y,v):y}},{key:"extendTranslation",value:function(i,s,a,o,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Wt(Wt({},this.options.interpolation.defaultVariables),a),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(Wt(Wt({},a),{interpolation:Wt(Wt({},this.options.interpolation),a.interpolation)}));var f=typeof i=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(f){var h=i.match(this.interpolator.nestingRegexp);c=h&&h.length}var d=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(d=Wt(Wt({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,a.lng||this.language,a),f){var p=i.match(this.interpolator.nestingRegexp),m=p&&p.length;c<m&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(a.lng=o.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var y=arguments.length,b=new Array(y),S=0;S<y;S++)b[S]=arguments[S];return l&&l[0]===b[0]&&!a.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(b[0]," in key: ").concat(s[0])),null):u.translate.apply(u,b.concat([s]))},a)),a.interpolation&&this.interpolator.reset()}var g=a.postProcess||this.options.postProcess,v=typeof g=="string"?[g]:g;return i!=null&&v&&v.length&&a.applyPostProcessor!==!1&&(i=jv.handle(v,i,s,this.options&&this.options.postProcessPassResolved?Wt({i18nResolved:o},a):a,this)),i}},{key:"resolve",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,l,u,f,c;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!s.isValidLookup(o)){var d=s.extractFromKey(h,a),p=d.key;l=p;var m=d.namespaces;s.options.fallbackNS&&(m=m.concat(s.options.fallbackNS));var g=a.count!==void 0&&typeof a.count!="string",v=g&&!a.ordinal&&a.count===0&&s.pluralResolver.shouldUseIntlApi(),y=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",b=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);m.forEach(function(S){s.isValidLookup(o)||(c=S,!Gv["".concat(b[0],"-").concat(S)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(c)&&(Gv["".concat(b[0],"-").concat(S)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(b.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(function(x){if(!s.isValidLookup(o)){f=x;var N=[p];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(N,p,x,S,a);else{var M;g&&(M=s.pluralResolver.getSuffix(x,a.count,a));var L="".concat(s.options.pluralSeparator,"zero");if(g&&(N.push(p+M),v&&N.push(p+L)),y){var D="".concat(p).concat(s.options.contextSeparator).concat(a.context);N.push(D),g&&(N.push(D+M),v&&N.push(D+L))}}for(var C;C=N.pop();)s.isValidLookup(o)||(u=C,o=s.getResource(x,S,C,a))}}))})}}),{res:o,usedKey:l,exactUsedKey:u,usedLng:f,usedNS:c}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,a,o):this.resourceStore.getResource(i,s,a,o)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&s===a.substring(0,s.length)&&i[a]!==void 0)return!0;return!1}}]),r}(Pi);function Eh(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Bv=function(){function t(e){En(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xn.create("languageUtils")}return wn(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Eh(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Eh(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=Eh(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(s){if(!i){var a=n.formatLanguageCode(s);(!n.options.supportedLngs||n.isSupportedCode(a))&&(i=a)}}),!i&&this.options.supportedLngs&&r.forEach(function(s){if(!i){var a=n.getLanguagePartFromCode(s);if(n.isSupportedCode(a))return i=a;i=n.options.supportedLngs.find(function(o){if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&o.indexOf(a)===0)return o})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,s=this.getFallbackCodes(n||this.options.fallbackLng||[],r),a=[],o=function(u){!u||(i.isSupportedCode(u)?a.push(u):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(r))):typeof r=="string"&&o(this.formatLanguageCode(r)),s.forEach(function(l){a.indexOf(l)<0&&o(i.formatLanguageCode(l))}),a}}]),t}(),NL=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],CL={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},PL=["v1","v2","v3"],Wv={zero:0,one:1,two:2,few:3,many:4,other:5};function LL(){var t={};return NL.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:CL[e.fc]}})}),t}var AL=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};En(this,t),this.languageUtils=e,this.options=r,this.logger=xn.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=LL()}return wn(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(s){return"".concat(n).concat(s)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(r,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(a,o){return Wv[a]-Wv[o]}).map(function(a){return"".concat(n.options.prepend).concat(a)}):s.numbers.map(function(a){return n.getSuffix(r,a,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(r,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(n)):this.getSuffixRetroCompatible(s,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,s=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),a=r.numbers[s];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var o=function(){return i.options.prepend&&a.toString()?i.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?o():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!PL.includes(this.options.compatibilityJSON)}}]),t}();function qv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qv(Object(r),!0).forEach(function(n){Ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hv(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=vL(t,e,r);return!s&&i&&typeof r=="string"&&(s=bu(t,r,n),s===void 0&&(s=bu(e,r,n))),s}var IL=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};En(this,t),this.logger=xn.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return wn(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:bL,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?ea(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?ea(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?ea(n.nestingPrefix):n.nestingPrefixEscaped||ea("$t("),this.nestingSuffix=n.nestingSuffix?ea(n.nestingSuffix):n.nestingSuffixEscaped||ea(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,s){var a=this,o,l,u,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(g){return g.replace(/\$/g,"$$$$")}var h=function(v){if(v.indexOf(a.formatSeparator)<0){var y=Hv(n,f,v,a.options.keySeparator,a.options.ignoreJSONStructure);return a.alwaysFormat?a.format(y,void 0,i,Kr(Kr(Kr({},s),n),{},{interpolationkey:v})):y}var b=v.split(a.formatSeparator),S=b.shift().trim(),x=b.join(a.formatSeparator).trim();return a.format(Hv(n,f,S,a.options.keySeparator,a.options.ignoreJSONStructure),x,i,Kr(Kr(Kr({},s),n),{},{interpolationkey:S}))};this.resetRegExp();var d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,p=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(v){return c(v)}},{regex:this.regexp,safeValue:function(v){return a.escapeValue?c(a.escape(v)):c(v)}}];return m.forEach(function(g){for(u=0;o=g.regex.exec(r);){var v=o[1].trim();if(l=h(v),l===void 0)if(typeof d=="function"){var y=d(r,o,s);l=typeof y=="string"?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))l="";else if(p){l=o[0];continue}else a.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(r)),l="";else typeof l!="string"&&!a.useRawValueToEscape&&(l=Dv(l));var b=g.safeValue(l);if(r=r.replace(o[0],b),p?(g.regex.lastIndex+=l.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,u++,u>=a.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,l;function u(d,p){var m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;var g=d.split(new RegExp("".concat(m,"[ ]*{"))),v="{".concat(g[1]);d=g[0],v=this.interpolate(v,l);var y=v.match(/'/g),b=v.match(/"/g);(y&&y.length%2===0&&!b||b.length%2!==0)&&(v=v.replace(/'/g,'"'));try{l=JSON.parse(v),p&&(l=Kr(Kr({},p),l))}catch(S){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),S),"".concat(d).concat(m).concat(v)}return delete l.defaultValue,d}for(;a=this.nestingRegexp.exec(r);){var f=[];l=Kr({},s),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var c=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var h=a[1].split(this.formatSeparator).map(function(d){return d.trim()});a[1]=h.shift(),f=h,c=!0}if(o=n(u.call(this,a[1].trim(),l),l),o&&a[0]===r&&typeof o!="string")return o;typeof o!="string"&&(o=Dv(o)),o||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(r)),o=""),c&&(o=f.reduce(function(d,p){return i.format(d,p,s.lng,Kr(Kr({},s),{},{interpolationkey:a[1].trim()}))},o.trim())),r=r.replace(a[0],o),this.regexp.lastIndex=0}return r}}]),t}();function zv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zv(Object(r),!0).forEach(function(n){Ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kL(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var s=i.split(";");s.forEach(function(a){if(!!a){var o=a.split(":"),l=dL(o),u=l[0],f=l.slice(1),c=f.join(":").trim().replace(/^'+|'+$/g,"");r[u.trim()]||(r[u.trim()]=c),c==="false"&&(r[u.trim()]=!1),c==="true"&&(r[u.trim()]=!0),isNaN(c)||(r[u.trim()]=parseInt(c,10))}})}}return{formatName:e,formatOptions:r}}function ta(t){var e={};return function(n,i,s){var a=i+JSON.stringify(s),o=e[a];return o||(o=t(i,s),e[a]=o),o(n)}}var DL=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};En(this,t),this.logger=xn.create("formatter"),this.options=e,this.formats={number:ta(function(r,n){var i=new Intl.NumberFormat(r,zn({},n));return function(s){return i.format(s)}}),currency:ta(function(r,n){var i=new Intl.NumberFormat(r,zn(zn({},n),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:ta(function(r,n){var i=new Intl.DateTimeFormat(r,zn({},n));return function(s){return i.format(s)}}),relativetime:ta(function(r,n){var i=new Intl.RelativeTimeFormat(r,zn({},n));return function(s){return i.format(s,n.range||"day")}}),list:ta(function(r,n){var i=new Intl.ListFormat(r,zn({},n));return function(s){return i.format(s)}})},this.init(e)}return wn(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=ta(n)}},{key:"format",value:function(r,n,i){var s=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=n.split(this.formatSeparator),l=o.reduce(function(u,f){var c=kL(f),h=c.formatName,d=c.formatOptions;if(s.formats[h]){var p=u;try{var m=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},g=m.locale||m.lng||a.locale||a.lng||i;p=s.formats[h](u,g,zn(zn(zn({},d),a),m))}catch(v){s.logger.warn(v)}return p}else s.logger.warn("there was no format function for ".concat(h));return u},r);return l}}]),t}();function Yv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yv(Object(r),!0).forEach(function(n){Ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RL(t){var e=$L();return function(){var n=On(t),i;if(e){var s=On(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return bo(this,i)}}function $L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function FL(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var jL=function(t){yu(r,t);var e=RL(r);function r(n,i,s){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return En(this,r),a=e.call(this),_u&&Pi.call(Ni(a)),a.backend=n,a.store=i,a.services=s,a.languageUtils=s.languageUtils,a.options=o,a.logger=xn.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(s,o.backend,o),a}return wn(r,[{key:"queueLoad",value:function(i,s,a,o){var l=this,u={},f={},c={},h={};return i.forEach(function(d){var p=!0;s.forEach(function(m){var g="".concat(d,"|").concat(m);!a.reload&&l.store.hasResourceBundle(d,m)?l.state[g]=2:l.state[g]<0||(l.state[g]===1?f[g]===void 0&&(f[g]=!0):(l.state[g]=1,p=!1,f[g]===void 0&&(f[g]=!0),u[g]===void 0&&(u[g]=!0),h[m]===void 0&&(h[m]=!0)))}),p||(c[d]=!0)}),(Object.keys(u).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(u),pending:Object.keys(f),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,s,a){var o=i.split("|"),l=o[0],u=o[1];s&&this.emit("failedLoading",l,u,s),a&&this.store.addResourceBundle(l,u,a),this.state[i]=s?-1:2;var f={};this.queue.forEach(function(c){yL(c.loaded,[l],u),FL(c,i),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(function(h){f[h]||(f[h]={});var d=c.loaded[h];d.length&&d.forEach(function(p){f[h][p]===void 0&&(f[h][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(i,s,a){var o=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:a,tried:l,wait:u,callback:f});return}this.readingCalls++;var c=function(m,g){if(o.readingCalls--,o.waitingReads.length>0){var v=o.waitingReads.shift();o.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&g&&l<o.maxRetries){setTimeout(function(){o.read.call(o,i,s,a,l+1,u*2,f)},u);return}f(m,g)},h=this.backend[a].bind(this.backend);if(h.length===2){try{var d=h(i,s);d&&typeof d.then=="function"?d.then(function(p){return c(null,p)}).catch(c):c(null,d)}catch(p){c(p)}return}return h(i,s,c)}},{key:"prepareLoading",value:function(i,s){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,o,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(f){a.loadOne(f)})}},{key:"load",value:function(i,s,a){this.prepareLoading(i,s,{},a)}},{key:"reload",value:function(i,s,a){this.prepareLoading(i,s,{reload:!0},a)}},{key:"loadOne",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=i.split("|"),l=o[0],u=o[1];this.read(l,u,"read",void 0,void 0,function(f,c){f&&s.logger.warn("".concat(a,"loading namespace ").concat(u," for language ").concat(l," failed"),f),!f&&c&&s.logger.log("".concat(a,"loaded namespace ").concat(u," for language ").concat(l),c),s.loaded(i,f,c)})}},{key:"saveMissing",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var c=Kv(Kv({},u),{},{isUpdate:l}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var d;h.length===5?d=h(i,s,a,o,c):d=h(i,s,a,o),d&&typeof d.then=="function"?d.then(function(p){return f(null,p)}).catch(f):f(null,d)}catch(p){f(p)}else h(i,s,a,o,f,c)}!i||!i[0]||this.store.addResource(i[0],s,a,o)}}}]),r}(Pi);function Xv(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(Ir(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),Ir(e[2])==="object"||Ir(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Zv(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Jv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jv(Object(r),!0).forEach(function(n){Ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VL(t){var e=GL();return function(){var n=On(t),i;if(e){var s=On(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return bo(this,i)}}function GL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Eu(){}function UL(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var wu=function(t){yu(r,t);var e=VL(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(En(this,r),n=e.call(this),_u&&Pi.call(Ni(n)),n.options=Zv(i),n.services={},n.logger=xn,n.modules={external:[]},UL(Ni(n)),s&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,s),bo(n,Ni(n));setTimeout(function(){n.init(i,s)},0)}return n}return wn(r,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var o=Xv();this.options=Mn(Mn(Mn({},o),this.options),Zv(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Mn(Mn({},o.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function l(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?xn.init(l(this.modules.logger),this.options):xn.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=DL);var f=new Bv(this.options);this.store=new xL(this.options.resources,this.options);var c=this.services;c.logger=xn,c.resourceStore=this.store,c.languageUtils=f,c.pluralResolver=new AL(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(c.formatter=l(u),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new IL(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new jL(l(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(v){for(var y=arguments.length,b=new Array(y>1?y-1:0),S=1;S<y;S++)b[S-1]=arguments[S];i.emit.apply(i,[v].concat(b))}),this.modules.languageDetector&&(c.languageDetector=l(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=l(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new Uv(this.services,this.options),this.translator.on("*",function(v){for(var y=arguments.length,b=new Array(y>1?y-1:0),S=1;S<y;S++)b[S-1]=arguments[S];i.emit.apply(i,[v].concat(b))}),this.modules.external.forEach(function(v){v.init&&v.init(i)})}if(this.format=this.options.interpolation.format,a||(a=Eu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(v){i[v]=function(){var y;return(y=i.store)[v].apply(y,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(v){i[v]=function(){var y;return(y=i.store)[v].apply(y,arguments),i}});var m=So(),g=function(){var y=function(S,x){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),m.resolve(x),a(S,x)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return y(null,i.t.bind(i));i.changeLanguage(i.options.lng,y)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),m}},{key:"loadResources",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Eu,o=a,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(o=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return o();var u=[],f=function(d){if(!!d){var p=s.services.languageUtils.toResolveHierarchy(d);p.forEach(function(m){u.indexOf(m)<0&&u.push(m)})}};if(l)f(l);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(h){return f(h)})}this.options.preload&&this.options.preload.forEach(function(h){return f(h)}),this.services.backendConnector.load(u,this.options.ns,function(h){!h&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),o(h)})}else o(null)}},{key:"reloadResources",value:function(i,s,a){var o=So();return i||(i=this.languages),s||(s=this.options.ns),a||(a=Eu),this.services.backendConnector.reload(i,s,function(l){o.resolve(),a(l)}),o}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&jv.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(i,s){var a=this;this.isLanguageChangingTo=i;var o=So();this.emit("languageChanging",i);var l=function(h){a.language=h,a.languages=a.services.languageUtils.toResolveHierarchy(h),a.resolvedLanguage=void 0,a.setResolvedLanguage(h)},u=function(h,d){d?(l(d),a.translator.changeLanguage(d),a.isLanguageChangingTo=void 0,a.emit("languageChanged",d),a.logger.log("languageChanged",d)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),s&&s(h,function(){return a.t.apply(a,arguments)})},f=function(h){!i&&!h&&a.services.languageDetector&&(h=[]);var d=typeof h=="string"?h:a.services.languageUtils.getBestMatchFromCodes(h);d&&(a.language||l(d),a.translator.language||a.translator.changeLanguage(d),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(d)),a.loadResources(d,function(p){u(p,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),o}},{key:"getFixedT",value:function(i,s,a){var o=this,l=function u(f,c){var h;if(Ir(c)!=="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),m=2;m<d;m++)p[m-2]=arguments[m];h=o.options.overloadTranslationOptionHandler([f,c].concat(p))}else h=Mn({},c);h.lng=h.lng||u.lng,h.lngs=h.lngs||u.lngs,h.ns=h.ns||u.ns,h.keyPrefix=h.keyPrefix||a||u.keyPrefix;var g=o.options.keySeparator||".",v;return h.keyPrefix&&Array.isArray(f)?v=f.map(function(y){return"".concat(h.keyPrefix).concat(g).concat(y)}):v=h.keyPrefix?"".concat(h.keyPrefix).concat(g).concat(f):f,o.t(v,h)};return typeof i=="string"?l.lng=i:l.lngs=i,l.ns=s,l.keyPrefix=a,l}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=a.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var f=function(d,p){var m=s.services.backendConnector.state["".concat(d,"|").concat(p)];return m===-1||m===2};if(a.precheck){var c=a.precheck(this,f);if(c!==void 0)return c}return!!(this.hasResourceBundle(o,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(o,i)&&(!l||f(u,i)))}},{key:"loadNamespaces",value:function(i,s){var a=this,o=So();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){a.options.ns.indexOf(l)<0&&a.options.ns.push(l)}),this.loadResources(function(l){o.resolve(),s&&s(l)}),o):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var a=So();typeof i=="string"&&(i=[i]);var o=this.options.preload||[],l=i.filter(function(u){return o.indexOf(u)<0});return l.length?(this.options.preload=o.concat(l),this.loadResources(function(u){a.resolve(),s&&s(u)}),a):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new Bv(Xv());return s.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Eu,o=Mn(Mn(Mn({},this.options),s),{isClone:!0}),l=new r(o);(s.debug!==void 0||s.prefix!==void 0)&&(l.logger=l.logger.clone(s));var u=["store","services","language"];return u.forEach(function(f){l[f]=i[f]}),l.services=Mn({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new Uv(l.services,l.options),l.translator.on("*",function(f){for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];l.emit.apply(l,[f].concat(h))}),l.init(o,a),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Pi);Ci(wu,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new wu(t,e)});var it=wu.createInstance();it.createInstance=wu.createInstance,it.createInstance,it.dir,it.init,it.loadResources,it.reloadResources,it.use,it.changeLanguage,it.getFixedT,it.t,it.exists,it.setDefaultNamespace,it.hasLoadedNamespace,it.loadNamespaces,it.loadLanguages;const BL="/";var Qv=(t=>(t.PNG="image/png",t.JPG="image/jpeg",t))(Qv||{}),Yn=(t=>(t.VALUE="value",t.RANGE="range",t))(Yn||{}),Ou=(t=>(t.DATEPICKER="datepicker",t.SLIDER="slider",t))(Ou||{}),wh;function e0(t,{i18next:e,rerenderOn:r=["languageChanged","loaded","added","removed"],slotStart:n="{",slotEnd:i="}"}){const s=e.t.bind(e),a=Ee(new Date),o=()=>a.value=new Date,l=()=>a.value;r.forEach(h=>{var d;switch(h){case"added":case"removed":(d=e.store)==null||d.on(h,o);break;default:e.on(h,o);break}}),t.component("i18next",HL),t.mixin({beforeCreate(){var h,d;const p=this.$options;if(!p.__i18n&&!p.i18nOptions){this.__translate=void 0;return}const m=this.$options.name,g=(Math.random()*10**8|0).toString(),v=[m,g].filter(M=>!!M).join("-");this.__bundles=[];const y=M=>{Object.entries(M).forEach(([L,D])=>{e.addResourceBundle(L,v,D,!0,!1),this.__bundles.push([L,v])})};(h=p.__i18n)==null||h.forEach(M=>{y(JSON.parse(M))});let{lng:b,ns:S,keyPrefix:x}=c(p,y);(d=this.__bundles)!=null&&d.length&&(S=[v].concat(S!=null?S:[]));const N=u(b,S);this.__translate=(M,L)=>!x||f(M)?N(M,L):N(x+"."+M,L)},unmounted(){var h;(h=this.__bundles)==null||h.forEach(([d,p])=>e.removeResourceBundle(d,p))}}),t.config.globalProperties.$t=function(h,d){var p;return l(),e.isInitialized?((p=this==null?void 0:this.__translate)!=null?p:s)(h,d):h},t.config.globalProperties.$i18next=new Proxy(e,{get(h,d){return l(),Reflect.get(h,d)}}),wh=qL(n,i);function u(h,d){return h?e.getFixedT(h,d):d?e.getFixedT(null,d):s}function f(h){const d=e.options.nsSeparator;return typeof d=="string"&&h.includes(d)}function c(h,d){let p,m,g;if(h.i18nOptions){let v,y;({lng:p,namespaces:y=e.options.defaultNS,keyPrefix:g,messages:v}=h.i18nOptions),v&&d(v),m=typeof y=="string"?[y]:y,m&&e.loadNamespaces(m)}return{lng:p,ns:m,keyPrefix:g}}}function Ze(){const t=WL(),e=t.appContext.config.globalProperties;return{i18next:e.$i18next,t:e.$t.bind(t.proxy)}}function WL(){const t=qa();if(!t)throw new Error("i18next-vue: No Vue instance in context. Make sure to register the i18next-vue plugin using app.use(...).");return t}function qL(t,e){const r=`${t}\\s*([a-z0-9\\-]+)\\s*${e}`;return new RegExp(r,"gi")}var HL=he({props:{translation:{type:String,required:!0}},setup(t,{slots:e}){return()=>{const r=t.translation,n=[];let i,s=0;for(;(i=wh.exec(r))!==null;){n.push(r.substring(s,i.index));const a=e[i[1]];a?n.push(...a()):n.push(i[0]),s=wh.lastIndex}return n.push(r.substring(s)),n}}});class ys extends Error{}class zL extends ys{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class YL extends ys{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class KL extends ys{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class ra extends ys{}class t0 extends ys{constructor(e){super(`Invalid unit ${e}`)}}class lr extends ys{}class Li extends ys{constructor(){super("Zone is an abstract class")}}const re="numeric",Xr="short",br="long",xu={year:re,month:re,day:re},r0={year:re,month:Xr,day:re},XL={year:re,month:Xr,day:re,weekday:Xr},n0={year:re,month:br,day:re},i0={year:re,month:br,day:re,weekday:br},s0={hour:re,minute:re},a0={hour:re,minute:re,second:re},o0={hour:re,minute:re,second:re,timeZoneName:Xr},l0={hour:re,minute:re,second:re,timeZoneName:br},u0={hour:re,minute:re,hourCycle:"h23"},c0={hour:re,minute:re,second:re,hourCycle:"h23"},f0={hour:re,minute:re,second:re,hourCycle:"h23",timeZoneName:Xr},h0={hour:re,minute:re,second:re,hourCycle:"h23",timeZoneName:br},d0={year:re,month:re,day:re,hour:re,minute:re},p0={year:re,month:re,day:re,hour:re,minute:re,second:re},m0={year:re,month:Xr,day:re,hour:re,minute:re},g0={year:re,month:Xr,day:re,hour:re,minute:re,second:re},ZL={year:re,month:Xr,day:re,weekday:Xr,hour:re,minute:re},y0={year:re,month:br,day:re,hour:re,minute:re,timeZoneName:Xr},v0={year:re,month:br,day:re,hour:re,minute:re,second:re,timeZoneName:Xr},_0={year:re,month:br,day:re,weekday:br,hour:re,minute:re,timeZoneName:br},b0={year:re,month:br,day:re,weekday:br,hour:re,minute:re,second:re,timeZoneName:br};class Eo{get type(){throw new Li}get name(){throw new Li}get ianaName(){return this.name}get isUniversal(){throw new Li}offsetName(e,r){throw new Li}formatOffset(e,r){throw new Li}offset(e){throw new Li}equals(e){throw new Li}get isValid(){throw new Li}}let Oh=null;class Mu extends Eo{static get instance(){return Oh===null&&(Oh=new Mu),Oh}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return W0(e,r,n)}formatOffset(e,r){return Mo(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Tu={};function JL(t){return Tu[t]||(Tu[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Tu[t]}const QL={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function eA(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,a,o,l,u,f]=n;return[a,i,s,o,l,u,f]}function tA(t,e){const r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){const{type:s,value:a}=r[i],o=QL[s];s==="era"?n[o]=a:we(o)||(n[o]=parseInt(a,10))}return n}let Nu={};class Kn extends Eo{static create(e){return Nu[e]||(Nu[e]=new Kn(e)),Nu[e]}static resetCache(){Nu={},Tu={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Kn.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return W0(e,r,n,this.name)}formatOffset(e,r){return Mo(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const n=JL(this.name);let[i,s,a,o,l,u,f]=n.formatToParts?tA(n,r):eA(n,r);o==="BC"&&(i=-Math.abs(i)+1);const h=Iu({year:i,month:s,day:a,hour:l===24?0:l,minute:u,second:f,millisecond:0});let d=+r;const p=d%1e3;return d-=p>=0?p:1e3+p,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let S0={};function rA(t,e={}){const r=JSON.stringify([t,e]);let n=S0[r];return n||(n=new Intl.ListFormat(t,e),S0[r]=n),n}let xh={};function Mh(t,e={}){const r=JSON.stringify([t,e]);let n=xh[r];return n||(n=new Intl.DateTimeFormat(t,e),xh[r]=n),n}let Th={};function nA(t,e={}){const r=JSON.stringify([t,e]);let n=Th[r];return n||(n=new Intl.NumberFormat(t,e),Th[r]=n),n}let Nh={};function iA(t,e={}){const{base:r,...n}=e,i=JSON.stringify([t,n]);let s=Nh[i];return s||(s=new Intl.RelativeTimeFormat(t,e),Nh[i]=s),s}let wo=null;function sA(){return wo||(wo=new Intl.DateTimeFormat().resolvedOptions().locale,wo)}let E0={};function aA(t){let e=E0[t];if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,E0[t]=e}return e}function oA(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,i;try{n=Mh(t).resolvedOptions(),i=t}catch{const l=t.substring(0,r);n=Mh(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:a}=n;return[i,s,a]}}function lA(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function uA(t){const e=[];for(let r=1;r<=12;r++){const n=xe.utc(2009,r,1);e.push(t(n))}return e}function cA(t){const e=[];for(let r=1;r<=7;r++){const n=xe.utc(2016,11,13+r);e.push(t(n))}return e}function Cu(t,e,r,n){const i=t.listingMode();return i==="error"?null:i==="en"?r(e):n(e)}function fA(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class hA{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...a}=n;if(!r||Object.keys(a).length>0){const o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=nA(e,o)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):Dh(e,3);return wt(r,this.padTo)}}}class dA{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&Kn.create(o).valid?(i=o,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=Mh(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class pA{constructor(e,r,n){this.opts={style:"long",...n},!r&&V0()&&(this.rtf=iA(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):kA(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const mA={firstDay:1,minimalDays:4,weekend:[6,7]};class Je{static fromOpts(e){return Je.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,i,s=!1){const a=e||yt.defaultLocale,o=a||(s?"en-US":sA()),l=r||yt.defaultNumberingSystem,u=n||yt.defaultOutputCalendar,f=Ih(i)||yt.defaultWeekSettings;return new Je(o,l,u,f,a)}static resetCache(){wo=null,xh={},Th={},Nh={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return Je.create(e,r,n,i)}constructor(e,r,n,i,s){const[a,o,l]=oA(e);this.locale=a,this.numberingSystem=r||o||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=lA(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=fA(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Je.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Ih(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return Cu(this,e,z0,()=>{const n=r?{month:e,day:"numeric"}:{month:e},i=r?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=uA(s=>this.extract(s,n,"month"))),this.monthsCache[i][e]})}weekdays(e,r=!1){return Cu(this,e,X0,()=>{const n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=r?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=cA(s=>this.extract(s,n,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Cu(this,void 0,()=>Z0,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[xe.utc(2016,11,13,9),xe.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Cu(this,e,J0,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[xe.utc(-40,1,1),xe.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){const i=this.dtFormatter(e,r),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===n);return a?a.value:null}numberFormatter(e={}){return new hA(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new dA(e,this.intl,r)}relFormatter(e={}){return new pA(this.intl,this.isEnglish(),e)}listFormatter(e={}){return rA(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:G0()?aA(this.locale):mA}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Ch=null;class tr extends Eo{static get utcInstance(){return Ch===null&&(Ch=new tr(0)),Ch}static instance(e){return e===0?tr.utcInstance:new tr(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new tr(ku(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Mo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Mo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Mo(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class gA extends Eo{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ai(t,e){if(we(t)||t===null)return e;if(t instanceof Eo)return t;if(_A(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?Mu.instance:r==="utc"||r==="gmt"?tr.utcInstance:tr.parseSpecifier(r)||Kn.create(t)}else return vs(t)?tr.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new gA(t)}let w0=()=>Date.now(),O0="system",x0=null,M0=null,T0=null,N0=60,C0,P0=null;class yt{static get now(){return w0}static set now(e){w0=e}static set defaultZone(e){O0=e}static get defaultZone(){return Ai(O0,Mu.instance)}static get defaultLocale(){return x0}static set defaultLocale(e){x0=e}static get defaultNumberingSystem(){return M0}static set defaultNumberingSystem(e){M0=e}static get defaultOutputCalendar(){return T0}static set defaultOutputCalendar(e){T0=e}static get defaultWeekSettings(){return P0}static set defaultWeekSettings(e){P0=Ih(e)}static get twoDigitCutoffYear(){return N0}static set twoDigitCutoffYear(e){N0=e%100}static get throwOnInvalid(){return C0}static set throwOnInvalid(e){C0=e}static resetCaches(){Je.resetCache(),Kn.resetCache()}}class Zr{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const L0=[0,31,59,90,120,151,181,212,243,273,304,334],A0=[0,31,60,91,121,152,182,213,244,274,305,335];function kr(t,e){return new Zr("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Ph(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function I0(t,e,r){return r+(Oo(t)?A0:L0)[e-1]}function k0(t,e){const r=Oo(t)?A0:L0,n=r.findIndex(s=>s<e),i=e-r[n];return{month:n+1,day:i}}function Lh(t,e){return(t-e+7)%7+1}function Pu(t,e=4,r=1){const{year:n,month:i,day:s}=t,a=I0(n,i,s),o=Lh(Ph(n,i,s),r);let l=Math.floor((a-o+14-e)/7),u;return l<1?(u=n-1,l=xo(u,e,r)):l>xo(n,e,r)?(u=n+1,l=1):u=n,{weekYear:u,weekNumber:l,weekday:o,...Ru(t)}}function D0(t,e=4,r=1){const{weekYear:n,weekNumber:i,weekday:s}=t,a=Lh(Ph(n,1,e),r),o=ia(n);let l=i*7+s-a-7+e,u;l<1?(u=n-1,l+=ia(u)):l>o?(u=n+1,l-=ia(n)):u=n;const{month:f,day:c}=k0(u,l);return{year:u,month:f,day:c,...Ru(t)}}function Ah(t){const{year:e,month:r,day:n}=t,i=I0(e,r,n);return{year:e,ordinal:i,...Ru(t)}}function R0(t){const{year:e,ordinal:r}=t,{month:n,day:i}=k0(e,r);return{year:e,month:n,day:i,...Ru(t)}}function $0(t,e){if(!we(t.localWeekday)||!we(t.localWeekNumber)||!we(t.localWeekYear)){if(!we(t.weekday)||!we(t.weekNumber)||!we(t.weekYear))throw new ra("Cannot mix locale-based week fields with ISO-based week fields");return we(t.localWeekday)||(t.weekday=t.localWeekday),we(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),we(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function yA(t,e=4,r=1){const n=Lu(t.weekYear),i=Dr(t.weekNumber,1,xo(t.weekYear,e,r)),s=Dr(t.weekday,1,7);return n?i?s?!1:kr("weekday",t.weekday):kr("week",t.weekNumber):kr("weekYear",t.weekYear)}function vA(t){const e=Lu(t.year),r=Dr(t.ordinal,1,ia(t.year));return e?r?!1:kr("ordinal",t.ordinal):kr("year",t.year)}function F0(t){const e=Lu(t.year),r=Dr(t.month,1,12),n=Dr(t.day,1,Au(t.year,t.month));return e?r?n?!1:kr("day",t.day):kr("month",t.month):kr("year",t.year)}function j0(t){const{hour:e,minute:r,second:n,millisecond:i}=t,s=Dr(e,0,23)||e===24&&r===0&&n===0&&i===0,a=Dr(r,0,59),o=Dr(n,0,59),l=Dr(i,0,999);return s?a?o?l?!1:kr("millisecond",i):kr("second",n):kr("minute",r):kr("hour",e)}function we(t){return typeof t>"u"}function vs(t){return typeof t=="number"}function Lu(t){return typeof t=="number"&&t%1===0}function _A(t){return typeof t=="string"}function bA(t){return Object.prototype.toString.call(t)==="[object Date]"}function V0(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function G0(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function SA(t){return Array.isArray(t)?t:[t]}function U0(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{const s=[e(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function EA(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function na(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ih(t){if(t==null)return null;if(typeof t!="object")throw new lr("Week settings must be an object");if(!Dr(t.firstDay,1,7)||!Dr(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Dr(e,1,7)))throw new lr("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Dr(t,e,r){return Lu(t)&&t>=e&&t<=r}function wA(t,e){return t-e*Math.floor(t/e)}function wt(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function Ii(t){if(!(we(t)||t===null||t===""))return parseInt(t,10)}function _s(t){if(!(we(t)||t===null||t===""))return parseFloat(t)}function kh(t){if(!(we(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Dh(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function Oo(t){return t%4===0&&(t%100!==0||t%400===0)}function ia(t){return Oo(t)?366:365}function Au(t,e){const r=wA(e-1,12)+1,n=t+(e-r)/12;return r===2?Oo(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Iu(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function B0(t,e,r){return-Lh(Ph(t,1,e),r)+e-1}function xo(t,e=4,r=1){const n=B0(t,e,r),i=B0(t+1,e,r);return(ia(t)-n+i)/7}function Rh(t){return t>99?t:t>yt.twoDigitCutoffYear?1900+t:2e3+t}function W0(t,e,r,n=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const a={timeZoneName:e,...s},o=new Intl.DateTimeFormat(r,a).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function ku(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function q0(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new lr(`Invalid unit value ${t}`);return e}function Du(t,e){const r={};for(const n in t)if(na(t,n)){const i=t[n];if(i==null)continue;r[e(n)]=q0(i)}return r}function Mo(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${wt(r,2)}:${wt(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${wt(r,2)}${wt(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Ru(t){return EA(t,["hour","minute","second","millisecond"])}const OA=["January","February","March","April","May","June","July","August","September","October","November","December"],H0=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xA=["J","F","M","A","M","J","J","A","S","O","N","D"];function z0(t){switch(t){case"narrow":return[...xA];case"short":return[...H0];case"long":return[...OA];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Y0=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],K0=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],MA=["M","T","W","T","F","S","S"];function X0(t){switch(t){case"narrow":return[...MA];case"short":return[...K0];case"long":return[...Y0];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Z0=["AM","PM"],TA=["Before Christ","Anno Domini"],NA=["BC","AD"],CA=["B","A"];function J0(t){switch(t){case"narrow":return[...CA];case"short":return[...NA];case"long":return[...TA];default:return null}}function PA(t){return Z0[t.hour<12?0:1]}function LA(t,e){return X0(e)[t.weekday-1]}function AA(t,e){return z0(e)[t.month-1]}function IA(t,e){return J0(e)[t.year<0?0:1]}function kA(t,e,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&s){const c=t==="days";switch(e){case 1:return c?"tomorrow":`next ${i[t][0]}`;case-1:return c?"yesterday":`last ${i[t][0]}`;case 0:return c?"today":`this ${i[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,u=i[t],f=n?l?u[1]:u[2]||u[1]:l?i[t][0]:t;return a?`${o} ${f} ago`:`in ${o} ${f}`}function Q0(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const DA={D:xu,DD:r0,DDD:n0,DDDD:i0,t:s0,tt:a0,ttt:o0,tttt:l0,T:u0,TT:c0,TTT:f0,TTTT:h0,f:d0,ff:m0,fff:y0,ffff:_0,F:p0,FF:g0,FFF:v0,FFFF:b0};class qt{static create(e,r={}){return new qt(e,r)}static parseFormat(e){let r=null,n="",i=!1;const s=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||o===r?n+=o:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=o,r=o)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(e){return DA[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return wt(e,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(d,p)=>this.loc.extract(e,d,p),a=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>n?PA(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,p)=>n?AA(e,d):s(p?{month:d}:{month:d,day:"numeric"},"month"),u=(d,p)=>n?LA(e,d):s(p?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),f=d=>{const p=qt.macroTokenToFormatOpts(d);return p?this.formatWithSystemDefault(e,p):d},c=d=>n?IA(e,d):s({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(d)}};return Q0(qt.parseFormat(r),h)}formatDurationFromString(e,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>u=>{const f=n(u);return f?this.num(l.get(f),u.length):u},s=qt.parseFormat(r),a=s.reduce((l,{literal:u,val:f})=>u?l:l.concat(f),[]),o=e.shiftTo(...a.map(n).filter(l=>l));return Q0(s,i(o))}}const e_=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function sa(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function aa(...t){return e=>t.reduce(([r,n,i],s)=>{const[a,o,l]=s(e,i);return[{...r,...a},o||n,l]},[{},null,1]).slice(0,2)}function oa(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const i=r.exec(t);if(i)return n(i)}return[null,null]}function t_(...t){return(e,r)=>{const n={};let i;for(i=0;i<t.length;i++)n[t[i]]=Ii(e[r+i]);return[n,null,r+i]}}const r_=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,RA=`(?:${r_.source}?(?:\\[(${e_.source})\\])?)?`,$h=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,n_=RegExp(`${$h.source}${RA}`),Fh=RegExp(`(?:T${n_.source})?`),$A=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,FA=/(\d{4})-?W(\d\d)(?:-?(\d))?/,jA=/(\d{4})-?(\d{3})/,VA=t_("weekYear","weekNumber","weekDay"),GA=t_("year","ordinal"),UA=/(\d{4})-(\d\d)-(\d\d)/,i_=RegExp(`${$h.source} ?(?:${r_.source}|(${e_.source}))?`),BA=RegExp(`(?: ${i_.source})?`);function la(t,e,r){const n=t[e];return we(n)?r:Ii(n)}function WA(t,e){return[{year:la(t,e),month:la(t,e+1,1),day:la(t,e+2,1)},null,e+3]}function ua(t,e){return[{hours:la(t,e,0),minutes:la(t,e+1,0),seconds:la(t,e+2,0),milliseconds:kh(t[e+3])},null,e+4]}function To(t,e){const r=!t[e]&&!t[e+1],n=ku(t[e+1],t[e+2]),i=r?null:tr.instance(n);return[{},i,e+3]}function No(t,e){const r=t[e]?Kn.create(t[e]):null;return[{},r,e+1]}const qA=RegExp(`^T?${$h.source}$`),HA=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function zA(t){const[e,r,n,i,s,a,o,l,u]=t,f=e[0]==="-",c=l&&l[0]==="-",h=(d,p=!1)=>d!==void 0&&(p||d&&f)?-d:d;return[{years:h(_s(r)),months:h(_s(n)),weeks:h(_s(i)),days:h(_s(s)),hours:h(_s(a)),minutes:h(_s(o)),seconds:h(_s(l),l==="-0"),milliseconds:h(kh(u),c)}]}const YA={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function jh(t,e,r,n,i,s,a){const o={year:e.length===2?Rh(Ii(e)):Ii(e),month:H0.indexOf(r)+1,day:Ii(n),hour:Ii(i),minute:Ii(s)};return a&&(o.second=Ii(a)),t&&(o.weekday=t.length>3?Y0.indexOf(t)+1:K0.indexOf(t)+1),o}const KA=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function XA(t){const[,e,r,n,i,s,a,o,l,u,f,c]=t,h=jh(e,i,n,r,s,a,o);let d;return l?d=YA[l]:u?d=0:d=ku(f,c),[h,new tr(d)]}function ZA(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const JA=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,QA=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,eI=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function s_(t){const[,e,r,n,i,s,a,o]=t;return[jh(e,i,n,r,s,a,o),tr.utcInstance]}function tI(t){const[,e,r,n,i,s,a,o]=t;return[jh(e,o,r,n,i,s,a),tr.utcInstance]}const rI=sa($A,Fh),nI=sa(FA,Fh),iI=sa(jA,Fh),sI=sa(n_),a_=aa(WA,ua,To,No),aI=aa(VA,ua,To,No),oI=aa(GA,ua,To,No),lI=aa(ua,To,No);function uI(t){return oa(t,[rI,a_],[nI,aI],[iI,oI],[sI,lI])}function cI(t){return oa(ZA(t),[KA,XA])}function fI(t){return oa(t,[JA,s_],[QA,s_],[eI,tI])}function hI(t){return oa(t,[HA,zA])}const dI=aa(ua);function pI(t){return oa(t,[qA,dI])}const mI=sa(UA,BA),gI=sa(i_),yI=aa(ua,To,No);function vI(t){return oa(t,[mI,a_],[gI,yI])}const o_="Invalid Duration",l_={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},_I={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...l_},Rr=146097/400,ca=146097/4800,bI={years:{quarters:4,months:12,weeks:Rr/7,days:Rr,hours:Rr*24,minutes:Rr*24*60,seconds:Rr*24*60*60,milliseconds:Rr*24*60*60*1e3},quarters:{months:3,weeks:Rr/28,days:Rr/4,hours:Rr*24/4,minutes:Rr*24*60/4,seconds:Rr*24*60*60/4,milliseconds:Rr*24*60*60*1e3/4},months:{weeks:ca/7,days:ca,hours:ca*24,minutes:ca*24*60,seconds:ca*24*60*60,milliseconds:ca*24*60*60*1e3},...l_},bs=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],SI=bs.slice(0).reverse();function ki(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Re(n)}function u_(t,e){var n;let r=(n=e.milliseconds)!=null?n:0;for(const i of SI.slice(1))e[i]&&(r+=e[i]*t[i].milliseconds);return r}function c_(t,e){const r=u_(t,e)<0?-1:1;bs.reduceRight((n,i)=>{if(we(e[i]))return n;if(n){const s=e[n]*r,a=t[i][n],o=Math.floor(s/a);e[i]+=o*r,e[n]-=o*a*r}return i},null),bs.reduce((n,i)=>{if(we(e[i]))return n;if(n){const s=e[n]%1;e[n]-=s,e[i]+=s*t[n][i]}return i},null)}function EI(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class Re{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?bI:_I;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Je.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return Re.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new lr(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Re({values:Du(e,Re.normalizeUnit),loc:Je.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(vs(e))return Re.fromMillis(e);if(Re.isDuration(e))return e;if(typeof e=="object")return Re.fromObject(e);throw new lr(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=hI(e);return n?Re.fromObject(n,r):Re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=pI(e);return n?Re.fromObject(n,r):Re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new lr("need to specify a reason the Duration is invalid");const n=e instanceof Zr?e:new Zr(e,r);if(yt.throwOnInvalid)throw new KL(n);return new Re({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new t0(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?qt.create(this.loc,n).formatDurationFromString(this,e):o_}toHuman(e={}){if(!this.isValid)return o_;const r=bs.map(n=>{const i=this.values[n];return we(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Dh(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},xe.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?u_(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=Re.fromDurationLike(e),n={};for(const i of bs)(na(r.values,i)||na(this.values,i))&&(n[i]=r.get(i)+this.get(i));return ki(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=Re.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=q0(e(this.values[n],n));return ki(this,{values:r},!0)}get(e){return this[Re.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...Du(e,Re.normalizeUnit)};return ki(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:i,conversionAccuracy:n};return ki(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return c_(this.matrix,e),ki(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=EI(this.normalize().shiftToAll().toObject());return ki(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>Re.normalizeUnit(a));const r={},n={},i=this.toObject();let s;for(const a of bs)if(e.indexOf(a)>=0){s=a;let o=0;for(const u in n)o+=this.matrix[u][a]*n[u],n[u]=0;vs(i[a])&&(o+=i[a]);const l=Math.trunc(o);r[a]=l,n[a]=(o*1e3-l*1e3)/1e3}else vs(i[a])&&(n[a]=i[a]);for(const a in n)n[a]!==0&&(r[s]+=a===s?n[a]:n[a]/this.matrix[s][a]);return c_(this.matrix,r),ki(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ki(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of bs)if(!r(this.values[n],e.values[n]))return!1;return!0}}const fa="Invalid Interval";function wI(t,e){return!t||!t.isValid?ft.invalid("missing or invalid start"):!e||!e.isValid?ft.invalid("missing or invalid end"):e<t?ft.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ft{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new lr("need to specify a reason the Interval is invalid");const n=e instanceof Zr?e:new Zr(e,r);if(yt.throwOnInvalid)throw new YL(n);return new ft({invalid:n})}static fromDateTimes(e,r){const n=Po(e),i=Po(r),s=wI(n,i);return s==null?new ft({start:n,end:i}):s}static after(e,r){const n=Re.fromDurationLike(r),i=Po(e);return ft.fromDateTimes(i,i.plus(n))}static before(e,r){const n=Re.fromDurationLike(r),i=Po(e);return ft.fromDateTimes(i.minus(n),i)}static fromISO(e,r){const[n,i]=(e||"").split("/",2);if(n&&i){let s,a;try{s=xe.fromISO(n,r),a=s.isValid}catch{a=!1}let o,l;try{o=xe.fromISO(i,r),l=o.isValid}catch{l=!1}if(a&&l)return ft.fromDateTimes(s,o);if(a){const u=Re.fromISO(i,r);if(u.isValid)return ft.after(s,u)}else if(l){const u=Re.fromISO(n,r);if(u.isValid)return ft.before(o,u)}}return ft.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(e,r);let i;return r!=null&&r.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(e,r),Math.floor(i.diff(n,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?ft.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(Po).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),n=[];let{s:i}=this,s=0;for(;i<this.e;){const a=r[s]||this.e,o=+a>+this.e?this.e:a;n.push(ft.fromDateTimes(i,o)),i=o,s+=1}return n}splitBy(e){const r=Re.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const a=[];for(;n<this.e;){const o=this.start.plus(r.mapUnits(l=>l*i));s=+o>+this.e?this.e:o,a.push(ft.fromDateTimes(n,s)),n=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:ft.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return ft.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,u)=>l.time-u.time);for(const l of o)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(ft.fromDateTimes(r,l.time)),r=null);return ft.merge(i)}difference(...e){return ft.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:fa}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=xu,r={}){return this.isValid?qt.create(this.s.loc.clone(r),e).formatInterval(this):fa}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:fa}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:fa}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:fa}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:fa}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):Re.invalid(this.invalidReason)}mapEndpoints(e){return ft.fromDateTimes(e(this.s),e(this.e))}}class $u{static hasDST(e=yt.defaultZone){const r=xe.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Kn.isValidZone(e)}static normalizeZone(e){return Ai(e,yt.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Je.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Je.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Je.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Je.create(r,n,s)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Je.create(r,n,s)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Je.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Je.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Je.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Je.create(r,null,"gregory").eras(e)}static features(){return{relative:V0(),localeWeek:G0()}}}function f_(t,e){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(Re.fromMillis(n).as("days"))}function OI(t,e,r){const n=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const f=f_(l,u);return(f-f%7)/7}],["days",f_]],i={},s=t;let a,o;for(const[l,u]of n)r.indexOf(l)>=0&&(a=l,i[l]=u(t,e),o=s.plus(i),o>e?(i[l]--,t=s.plus(i),t>e&&(o=t,i[l]--,t=s.plus(i))):t=o);return[t,i,o,a]}function xI(t,e,r,n){let[i,s,a,o]=OI(t,e,r);const l=e-i,u=r.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(a<e&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+l/(a-i)));const f=Re.fromObject(s,n);return u.length>0?Re.fromMillis(l,n).shiftTo(...u).plus(f):f}const Vh={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},h_={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},MI=Vh.hanidec.replace(/[\[|\]]/g,"").split("");function TI(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(Vh.hanidec)!==-1)e+=MI.indexOf(t[r]);else for(const i in h_){const[s,a]=h_[i];n>=s&&n<=a&&(e+=n-s)}}return parseInt(e,10)}else return e}function Jr({numberingSystem:t},e=""){return new RegExp(`${Vh[t||"latn"]}${e}`)}const NI="missing Intl.DateTimeFormat.formatToParts support";function Be(t,e=r=>r){return{regex:t,deser:([r])=>e(TI(r))}}const d_=`[ ${String.fromCharCode(160)}]`,p_=new RegExp(d_,"g");function CI(t){return t.replace(/\./g,"\\.?").replace(p_,d_)}function m_(t){return t.replace(/\./g,"").replace(p_," ").toLowerCase()}function Qr(t,e){return t===null?null:{regex:RegExp(t.map(CI).join("|")),deser:([r])=>t.findIndex(n=>m_(r)===m_(n))+e}}function g_(t,e){return{regex:t,deser:([,r,n])=>ku(r,n),groups:e}}function Fu(t){return{regex:t,deser:([e])=>e}}function PI(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function LI(t,e){const r=Jr(e),n=Jr(e,"{2}"),i=Jr(e,"{3}"),s=Jr(e,"{4}"),a=Jr(e,"{6}"),o=Jr(e,"{1,2}"),l=Jr(e,"{1,3}"),u=Jr(e,"{1,6}"),f=Jr(e,"{1,9}"),c=Jr(e,"{2,4}"),h=Jr(e,"{4,6}"),d=g=>({regex:RegExp(PI(g.val)),deser:([v])=>v,literal:!0}),m=(g=>{if(t.literal)return d(g);switch(g.val){case"G":return Qr(e.eras("short"),0);case"GG":return Qr(e.eras("long"),0);case"y":return Be(u);case"yy":return Be(c,Rh);case"yyyy":return Be(s);case"yyyyy":return Be(h);case"yyyyyy":return Be(a);case"M":return Be(o);case"MM":return Be(n);case"MMM":return Qr(e.months("short",!0),1);case"MMMM":return Qr(e.months("long",!0),1);case"L":return Be(o);case"LL":return Be(n);case"LLL":return Qr(e.months("short",!1),1);case"LLLL":return Qr(e.months("long",!1),1);case"d":return Be(o);case"dd":return Be(n);case"o":return Be(l);case"ooo":return Be(i);case"HH":return Be(n);case"H":return Be(o);case"hh":return Be(n);case"h":return Be(o);case"mm":return Be(n);case"m":return Be(o);case"q":return Be(o);case"qq":return Be(n);case"s":return Be(o);case"ss":return Be(n);case"S":return Be(l);case"SSS":return Be(i);case"u":return Fu(f);case"uu":return Fu(o);case"uuu":return Be(r);case"a":return Qr(e.meridiems(),0);case"kkkk":return Be(s);case"kk":return Be(c,Rh);case"W":return Be(o);case"WW":return Be(n);case"E":case"c":return Be(r);case"EEE":return Qr(e.weekdays("short",!1),1);case"EEEE":return Qr(e.weekdays("long",!1),1);case"ccc":return Qr(e.weekdays("short",!0),1);case"cccc":return Qr(e.weekdays("long",!0),1);case"Z":case"ZZ":return g_(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return g_(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return Fu(/[a-z_+-/]{1,256}?/i);case" ":return Fu(/[^\S\n\r]/);default:return d(g)}})(t)||{invalidReason:NI};return m.token=t,m}const AI={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function II(t,e,r){const{type:n,value:i}=t;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[n];let a=n;n==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=r.hour12?"hour12":"hour24");let o=AI[a];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function kI(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function DI(t,e,r){const n=t.match(e);if(n){const i={};let s=1;for(const a in r)if(na(r,a)){const o=r[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(n.slice(s,s+l))),s+=l}return[n,i]}else return[n,{}]}function RI(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return we(t.z)||(r=Kn.create(t.z)),we(t.Z)||(r||(r=new tr(t.Z)),n=t.Z),we(t.q)||(t.M=(t.q-1)*3+1),we(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),we(t.u)||(t.S=kh(t.u)),[Object.keys(t).reduce((s,a)=>{const o=e(a);return o&&(s[o]=t[a]),s},{}),r,n]}let Gh=null;function $I(){return Gh||(Gh=xe.fromMillis(1555555555555)),Gh}function FI(t,e){if(t.literal)return t;const r=qt.macroTokenToFormatOpts(t.val),n=__(r,e);return n==null||n.includes(void 0)?t:n}function y_(t,e){return Array.prototype.concat(...t.map(r=>FI(r,e)))}function v_(t,e,r){const n=y_(qt.parseFormat(r),t),i=n.map(a=>LI(a,t)),s=i.find(a=>a.invalidReason);if(s)return{input:e,tokens:n,invalidReason:s.invalidReason};{const[a,o]=kI(i),l=RegExp(a,"i"),[u,f]=DI(e,l,o),[c,h,d]=f?RI(f):[null,null,void 0];if(na(f,"a")&&na(f,"H"))throw new ra("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:u,matches:f,result:c,zone:h,specificOffset:d}}}function jI(t,e,r){const{result:n,zone:i,specificOffset:s,invalidReason:a}=v_(t,e,r);return[n,i,s,a]}function __(t,e){if(!t)return null;const n=qt.create(e,t).dtFormatter($I()),i=n.formatToParts(),s=n.resolvedOptions();return i.map(a=>II(a,t,s))}const Uh="Invalid DateTime",b_=864e13;function ju(t){return new Zr("unsupported zone",`the zone "${t.name}" is not supported`)}function Bh(t){return t.weekData===null&&(t.weekData=Pu(t.c)),t.weekData}function Wh(t){return t.localWeekData===null&&(t.localWeekData=Pu(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Ss(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new xe({...r,...e,old:r})}function S_(t,e,r){let n=t-e*60*1e3;const i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;const s=r.offset(n);return i===s?[n,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Vu(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Gu(t,e,r){return S_(Iu(t),e,r)}function E_(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:n,month:i,day:Math.min(t.c.day,Au(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=Re.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Iu(s);let[l,u]=S_(o,r,t.zone);return a!==0&&(l+=a,u=t.zone.offset(l)),{ts:l,o:u}}function Co(t,e,r,n,i,s){const{setZone:a,zone:o}=r;if(t&&Object.keys(t).length!==0||e){const l=e||o,u=xe.fromObject(t,{...r,zone:l,specificOffset:s});return a?u:u.setZone(o)}else return xe.invalid(new Zr("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Uu(t,e,r=!0){return t.isValid?qt.create(Je.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function qh(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=wt(t.c.year,r?6:4),e?(n+="-",n+=wt(t.c.month),n+="-",n+=wt(t.c.day)):(n+=wt(t.c.month),n+=wt(t.c.day)),n}function w_(t,e,r,n,i,s){let a=wt(t.c.hour);return e?(a+=":",a+=wt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(a+=":")):a+=wt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(a+=wt(t.c.second),(t.c.millisecond!==0||!n)&&(a+=".",a+=wt(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=wt(Math.trunc(-t.o/60)),a+=":",a+=wt(Math.trunc(-t.o%60))):(a+="+",a+=wt(Math.trunc(t.o/60)),a+=":",a+=wt(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}const O_={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},VI={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},GI={ordinal:1,hour:0,minute:0,second:0,millisecond:0},x_=["year","month","day","hour","minute","second","millisecond"],UI=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],BI=["year","ordinal","hour","minute","second","millisecond"];function WI(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new t0(t);return e}function M_(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return WI(t)}}function T_(t,e){const r=Ai(e.zone,yt.defaultZone),n=Je.fromObject(e),i=yt.now();let s,a;if(we(t.year))s=i;else{for(const u of x_)we(t[u])&&(t[u]=O_[u]);const o=F0(t)||j0(t);if(o)return xe.invalid(o);const l=r.offset(i);[s,a]=Gu(t,l,r)}return new xe({ts:s,zone:r,loc:n,o:a})}function N_(t,e,r){const n=we(r.round)?!0:r.round,i=(a,o)=>(a=Dh(a,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(a,o)),s=a=>r.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(r.unit)return i(s(r.unit),r.unit);for(const a of r.units){const o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(t>e?-0:0,r.units[r.units.length-1])}function C_(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}class xe{constructor(e){const r=e.zone||yt.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Zr("invalid input"):null)||(r.isValid?null:ju(r));this.ts=we(e.ts)?yt.now():e.ts;let i=null,s=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,s]=[e.old.c,e.old.o];else{const o=r.offset(this.ts);i=Vu(this.ts,o),n=Number.isNaN(i.year)?new Zr("invalid input"):null,i=n?null:i,s=n?null:o}this._zone=r,this.loc=e.loc||Je.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new xe({})}static local(){const[e,r]=C_(arguments),[n,i,s,a,o,l,u]=r;return T_({year:n,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static utc(){const[e,r]=C_(arguments),[n,i,s,a,o,l,u]=r;return e.zone=tr.utcInstance,T_({year:n,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static fromJSDate(e,r={}){const n=bA(e)?e.valueOf():NaN;if(Number.isNaN(n))return xe.invalid("invalid input");const i=Ai(r.zone,yt.defaultZone);return i.isValid?new xe({ts:n,zone:i,loc:Je.fromObject(r)}):xe.invalid(ju(i))}static fromMillis(e,r={}){if(vs(e))return e<-b_||e>b_?xe.invalid("Timestamp out of range"):new xe({ts:e,zone:Ai(r.zone,yt.defaultZone),loc:Je.fromObject(r)});throw new lr(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(vs(e))return new xe({ts:e*1e3,zone:Ai(r.zone,yt.defaultZone),loc:Je.fromObject(r)});throw new lr("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=Ai(r.zone,yt.defaultZone);if(!n.isValid)return xe.invalid(ju(n));const i=Je.fromObject(r),s=Du(e,M_),{minDaysInFirstWeek:a,startOfWeek:o}=$0(s,i),l=yt.now(),u=we(r.specificOffset)?n.offset(l):r.specificOffset,f=!we(s.ordinal),c=!we(s.year),h=!we(s.month)||!we(s.day),d=c||h,p=s.weekYear||s.weekNumber;if((d||f)&&p)throw new ra("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new ra("Can't mix ordinal dates with month/day");const m=p||s.weekday&&!d;let g,v,y=Vu(l,u);m?(g=UI,v=VI,y=Pu(y,a,o)):f?(g=BI,v=GI,y=Ah(y)):(g=x_,v=O_);let b=!1;for(const C of g){const R=s[C];we(R)?b?s[C]=v[C]:s[C]=y[C]:b=!0}const S=m?yA(s,a,o):f?vA(s):F0(s),x=S||j0(s);if(x)return xe.invalid(x);const N=m?D0(s,a,o):f?R0(s):s,[M,L]=Gu(N,u,n),D=new xe({ts:M,zone:n,o:L,loc:i});return s.weekday&&d&&e.weekday!==D.weekday?xe.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${D.toISO()}`):D}static fromISO(e,r={}){const[n,i]=uI(e);return Co(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,i]=cI(e);return Co(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,i]=fI(e);return Co(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(we(e)||we(r))throw new lr("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,a=Je.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,l,u,f]=jI(a,e,r);return f?xe.invalid(f):Co(o,l,n,`format ${r}`,e,u)}static fromString(e,r,n={}){return xe.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,i]=vI(e);return Co(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new lr("need to specify a reason the DateTime is invalid");const n=e instanceof Zr?e:new Zr(e,r);if(yt.throwOnInvalid)throw new zL(n);return new xe({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=__(e,Je.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,r={}){return y_(qt.parseFormat(e),Je.fromObject(r)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Bh(this).weekYear:NaN}get weekNumber(){return this.isValid?Bh(this).weekNumber:NaN}get weekday(){return this.isValid?Bh(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Wh(this).weekday:NaN}get localWeekNumber(){return this.isValid?Wh(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Wh(this).weekYear:NaN}get ordinal(){return this.isValid?Ah(this.c).ordinal:NaN}get monthShort(){return this.isValid?$u.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?$u.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?$u.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?$u.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,n=Iu(this.c),i=this.zone.offset(n-e),s=this.zone.offset(n+e),a=this.zone.offset(n-i*r),o=this.zone.offset(n-s*r);if(a===o)return[this];const l=n-a*r,u=n-o*r,f=Vu(l,a),c=Vu(u,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[Ss(this,{ts:l}),Ss(this,{ts:u})]:[this]}get isInLeapYear(){return Oo(this.year)}get daysInMonth(){return Au(this.year,this.month)}get daysInYear(){return this.isValid?ia(this.year):NaN}get weeksInWeekYear(){return this.isValid?xo(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?xo(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:i}=qt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(tr.instance(e),r)}toLocal(){return this.setZone(yt.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=Ai(e,yt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){const s=e.offset(this.ts),a=this.toObject();[i]=Gu(a,s,e)}return Ss(this,{ts:i,zone:e})}else return xe.invalid(ju(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return Ss(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=Du(e,M_),{minDaysInFirstWeek:n,startOfWeek:i}=$0(r,this.loc),s=!we(r.weekYear)||!we(r.weekNumber)||!we(r.weekday),a=!we(r.ordinal),o=!we(r.year),l=!we(r.month)||!we(r.day),u=o||l,f=r.weekYear||r.weekNumber;if((u||a)&&f)throw new ra("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new ra("Can't mix ordinal dates with month/day");let c;s?c=D0({...Pu(this.c,n,i),...r},n,i):we(r.ordinal)?(c={...this.toObject(),...r},we(r.day)&&(c.day=Math.min(Au(c.year,c.month),c.day))):c=R0({...Ah(this.c),...r});const[h,d]=Gu(c,this.o,this.zone);return Ss(this,{ts:h,o:d})}plus(e){if(!this.isValid)return this;const r=Re.fromDurationLike(e);return Ss(this,E_(this,r))}minus(e){if(!this.isValid)return this;const r=Re.fromDurationLike(e).negate();return Ss(this,E_(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=Re.normalizeUnit(e);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(n.weekNumber=this.weekNumber-1),n.weekday=s}else n.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);n.month=(s-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?qt.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):Uh}toLocaleString(e=xu,r={}){return this.isValid?qt.create(this.loc.clone(r),e).formatDateTime(this):Uh}toLocaleParts(e={}){return this.isValid?qt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=qh(this,a);return o+="T",o+=w_(this,a,r,n,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?qh(this,e==="extended"):null}toISOWeekDate(){return Uu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+w_(this,a==="extended",r,e,n,s):null}toRFC2822(){return Uu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Uu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?qh(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),Uu(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Uh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return Re.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=SA(r).map(Re.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,u=xI(o,l,s,i);return a?u.negate():u}diffNow(e="milliseconds",r={}){return this.diff(xe.now(),e,r)}until(e){return this.isValid?ft.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(r,n)<=i&&i<=s.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||xe.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),N_(r,this.plus(n),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?N_(e.base||xe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(xe.isDateTime))throw new lr("min requires all arguments be DateTimes");return U0(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(xe.isDateTime))throw new lr("max requires all arguments be DateTimes");return U0(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:i=null,numberingSystem:s=null}=n,a=Je.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return v_(a,e,r)}static fromStringExplain(e,r,n={}){return xe.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return xu}static get DATE_MED(){return r0}static get DATE_MED_WITH_WEEKDAY(){return XL}static get DATE_FULL(){return n0}static get DATE_HUGE(){return i0}static get TIME_SIMPLE(){return s0}static get TIME_WITH_SECONDS(){return a0}static get TIME_WITH_SHORT_OFFSET(){return o0}static get TIME_WITH_LONG_OFFSET(){return l0}static get TIME_24_SIMPLE(){return u0}static get TIME_24_WITH_SECONDS(){return c0}static get TIME_24_WITH_SHORT_OFFSET(){return f0}static get TIME_24_WITH_LONG_OFFSET(){return h0}static get DATETIME_SHORT(){return d0}static get DATETIME_SHORT_WITH_SECONDS(){return p0}static get DATETIME_MED(){return m0}static get DATETIME_MED_WITH_SECONDS(){return g0}static get DATETIME_MED_WITH_WEEKDAY(){return ZL}static get DATETIME_FULL(){return y0}static get DATETIME_FULL_WITH_SECONDS(){return v0}static get DATETIME_HUGE(){return _0}static get DATETIME_HUGE_WITH_SECONDS(){return b0}}function Po(t){if(xe.isDateTime(t))return t;if(t&&t.valueOf&&vs(t.valueOf()))return xe.fromJSDate(t);if(t&&typeof t=="object")return xe.fromObject(t);throw new lr(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const P_=[0,1,0,0];function L_(t,e="second",r,n){const{t:i}=Ze(),s=new Date(t).toISOString(),a={year:i("yyyy"),month:i("M/yyyy"),day:i("M/d/yyyy"),second:i("M/d/yyyy HH:mm:ss")},l=(r?{year:"yyyy",month:"yyyy-MM",day:"yyyy-MM-dd",second:void 0}:a)[e];return l?xe.fromISO(s).toFormat(`${n?"UTC:":""}${l}`):s.replace(/\.\d{3}/,"")}function Hh(t){return new Date(t).toISOString().split(".")[0]+"Z"}function zh(t){return xe.fromISO(t).toFormat("yyyy-MM-dd")}function qI(t,e){return t<=e.minValue?e.minValue:t>=e.maxValue?e.maxValue:e.timeValueList?HI(t,e):zI(t,e)}function HI(t,e){var l;const r=(l=e.timeValueList)!=null?l:[];let n,i=0,s=r.length-1;for(;s-i>1;)n=Math.floor((i+s)/2),r[n]>=t?s=n:i=n;const a=Math.abs(r[i]-t),o=Math.abs(r[s]-t);return r[a<o?i:s]}function zI(t,e){var l;const r=(l=e.timeInterval)!=null?l:P_,n=new Date(t).getTime(),i=new Date(e.minValue),s=e.maxValue;let a=e.minValue,o=Math.abs(n-a);for(let u=1;;u++){const f=new Date(i.getTime());if(f.setFullYear(i.getFullYear()+u*r[0]),f.setMonth(i.getMonth()+u*r[1],i.getDate()+u*r[2]),f.setSeconds(i.getSeconds()+u*r[3]),f.getTime()>s)break;const c=Math.abs(n-f.getTime());if(c<=o)a=f.getTime(),o=c;else break}return a}const ht=ps("map",()=>{const t=$r(),e=Ee({}),r=rt([]),n=rt([]),i=Ee(!1),s=Ee(!1),a=Ee(void 0);function o(y){a.value=y}function l(...y){r.value=[...new Set([...r.value,...y])]}function u(...y){n.value=[...new Set([...n.value,...y])]}function f(...y){r.value=r.value.filter(b=>y.indexOf(b.id)===-1),n.value=n.value.filter(b=>y.indexOf(b.id)===-1)}function c(){r.value=[]}function h(y){var b;return!!((b=r.value)!=null&&b.find(S=>S.id===y))}function d(y,b=!1){var x;const S=b?n:r;S.value=[...((x=S.value)==null?void 0:x.sort((N,M)=>y.indexOf(N.id)-y.indexOf(M.id)))||[]]}function p(y,b){r.value=r.value.map(S=>S.id===y?{...S,opacity:b,previousOpacity:S.opacity}:S)}function m(y,b,S){r.value=r.value.map(x=>{if(x.id===y){const N={...x,currentTimeMinValue:b?Hh(b):void 0,currentTimeMaxValue:S?Hh(S):void 0};return N.type==="WMTS"&&(N.name=t.getLayerCurrentLabel(N)),N}return x})}function g(y){i.value=y}function v(y){s.value=y}return{map:e,layers:r,layers3d:n,is3dActive:i,is3dMesh:s,bgLayer:a,addLayers:l,add3dLayers:u,removeLayers:f,removeAllLayers:c,reorderLayers:d,setLayerOpacity:p,setLayerTime:m,setBgLayer:o,setIs3dActive:g,setIs3dMesh:v,hasLayer:h}}),YI="root_3d",KI=-222,Ht=ps("config",()=>{const t=rt(),e=Ee("main"),r=de(()=>{var l;return(l=t.value)==null?void 0:l.themes}),n=de(()=>{var l;return(l=r.value)==null?void 0:l.find(u=>u.name===e.value)}),i=de(()=>{var l;return((l=t.value)==null?void 0:l.background_layers)||[]}),s=de(()=>{var u;const l=(u=r.value)==null?void 0:u.filter(f=>{var c;return((c=f.metadata)==null?void 0:c.ol3d_type)!==void 0});if(!!l)return{name:YI,id:KI,children:l.flatMap(f=>f!=null&&f.children?f.children:f),metadata:{}}});function a(l){t.value=l}function o(l){e.value=l}return{config:t,themes:r,themeName:e,theme:n,bgLayers:i,layerTrees_3d:s,setTheme:o,setThemes:a}},{});function Di(){function t(o,l){return r(o,void 0,l)}function e(o,l){return r(void 0,o,l)}function r(o,l,u){const{theme:f}=Ht();if(u=u||f,o&&(u==null?void 0:u.id)===o||l&&(u==null?void 0:u.name)===l)return u;if(u!=null&&u.children)for(const c of u.children){const h=r(o,l,c);if(h)return h}}function n(o){const{layerTrees_3d:l}=Ht();return r(o,void 0,l)}function i(o){const{bgLayers:l}=Ht();return l.find(u=>u.id===o)}function s(o){const{bgLayers:l}=Ht();return l.find(u=>u.name===o)}function a(o){const{setTheme:l}=Ht();l(o)}return{findById:t,findByName:e,find3dLayerById:n,findBgLayerById:i,findBgLayerByName:s,setTheme:a}}const A_=Di();function $r(){function t(l,u){try{const f=JSON.parse(l).concat(JSON.parse(u));return new Set(f).size<f.length}catch{return!1}}function e(l){var u,f;return l.opacity=l.previousOpacity=(f=(u=l.metadata)==null?void 0:u.start_opacity)!=null?f:1,r(l),l}function r(l){var f,c,h,d,p,m,g;l.currentTimeMinValue||(l.currentTimeMinValue=(h=(f=l.time)==null?void 0:f.minDefValue)!=null?h:(c=l.time)==null?void 0:c.minValue);const u=((d=l.time)==null?void 0:d.mode)===Yn.RANGE;!l.currentTimeMaxValue&&u&&(l.currentTimeMaxValue=(g=(p=l.time)==null?void 0:p.maxDefValue)!=null?g:(m=l.time)==null?void 0:m.maxValue)}function n(l){var c,h,d;const u=i(l);let f=l.name;return u&&(f=(d=(h=(c=l.metadata)==null?void 0:c.time_layers)==null?void 0:h[u])!=null?d:f),f}function i(l){return[l.currentTimeMinValue,...l.currentTimeMaxValue?[l.currentTimeMaxValue]:[]].join(BL)}function s(l){var h,d;const u=gu();if(!((h=l.metadata)!=null&&h.exclusion))return;const f=ht(),c=f.layers.filter(p=>{var m,g;return t((m=l==null?void 0:l.metadata)==null?void 0:m.exclusion,(g=p==null?void 0:p.metadata)==null?void 0:g.exclusion)});c.length>0&&(f.removeLayers(...c.map(p=>p.id)),u.addNotification(it.t("The layer <b>{{layersToRemove}}</b> has been removed because it cannot be displayed while the layer <b>{{layer}}</b> is displayed",{count:c.length,layersToRemove:c.map(p=>it.t(p.name,{ns:"client"})).join(", "),layer:it.t(l.name,{ns:"client"}),ns:"client"}),yo.WARNING)),l.id!==((d=f.bgLayer)==null?void 0:d.id)&&a(l)}function a(l){var c,h,d;const u=ht(),f=gu();t((c=l.metadata)==null?void 0:c.exclusion,(d=(h=u.bgLayer)==null?void 0:h.metadata)==null?void 0:d.exclusion)&&(u.setBgLayer(null),f.addNotification(it.t("Background has been deactivated because the layer {{layer}} cannot be displayed on top of it.",{layer:it.t(l.name,{ns:"client"}),ns:"client"}),yo.WARNING))}function o(l,u=!0,f){var m;const c=Ht(),h=ht(),d=f?c.layerTrees_3d:c.theme,p=A_.findById(l,d);if(p){const g=((m=p.metadata)==null?void 0:m.linked_layers)||[];u===!1?h.removeLayers(p.id,...g):(s(p),(f?h.add3dLayers:h.addLayers)(e(p),...g.map(y=>e(A_.findById(parseInt(y,10))))))}}return{initLayer:e,getLayerCurrentLabel:n,getLayerCurrentTime:i,handleExclusionLayers:s,toggleLayer:o}}class XI{styleSerialToStyle(e){return e?JSON.parse(decodeURIComponent(e))||[]:[]}styleLocalStorageToStyle(e){return e?JSON.parse(e).medium||[]:[]}styleToSerial(e){return e&&e.length>0?JSON.stringify(e):""}styleToLocalStorage(e){return e&&e.length>0?JSON.stringify({medium:e}):""}}const Bu=new XI;function I_(t,e){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>{t.apply(n)},e)}}function ha(t){return(t==null?void 0:t.trim())&&!isNaN(Number(t))?Number(t):void 0}function ZI(t,e){return(t==null?void 0:t.split(e).map(r=>r!==null&&!isNaN(Number(r))?parseFloat(r):void 0))||[]}function JI(t,e){return(t==null?void 0:t.split(e).map(Yh))||[]}function Yh(t){return(t==null?void 0:t.trim())==="true"?!0:(t==null?void 0:t.trim())==="false"?!1:void 0}function k_(){return window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches}function Tn(t){return typeof window<"u"&&window.navigator&&t.test(navigator.userAgent)}const QI=Tn(/firefox/i);Tn(/safari/i)&&!Tn(/chrome/i)&&Tn(/android/i),Tn(/iP(ad|od|hone)/i),Tn(/chrome/i)&&Tn(/android/i),Tn(/chrome/i),Tn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Tn(/Edge/i);const Lo="ipv6",Ao="applogin",Io="localforage",da="debug",Wu="fid",Ri="lang",qu="layersOpen",Hu="address",Kh="version",ek="map_id",D_="layers",R_="bgLayer",$_="opacities",ko="theme",F_="time",j_="zoom",tk="SRS",V_="X",G_="Y",zu="serial",U_=["basemap_2015_global","topogr_global","topo_bw_jpeg"],Xh="lc",Zh="sliderRatio",B_="bgOpacity",rk="layers_indices",W_="layers_opacity",q_="layers_visibility";var kt=(t=>(t[t.localStorage=0]="localStorage",t[t.permalink=1]="permalink",t[t.permalinkAsPath=2]="permalinkAsPath",t[t.permalinkAndLocalStorage=3]="permalinkAndLocalStorage",t))(kt||{});class H_{}class Yu extends H_{static processRules(e){return Yu.ruleUseLocalStorage(e)?kt.localStorage:kt.permalink}static processRulesForKey(e,r){if(e===ko&&{}.VITE_DEPLOY_GHPAGES!=="true")return kt.permalinkAsPath;if(U_.includes(e))return kt.localStorage;if(e===zu)return kt.permalink;if(e===qu)return kt.localStorage}static ruleUseLocalStorage(e){return[nk,ik,sk].reduce((r,n)=>r||n(e),!1)}}const nk=t=>Object.keys(t).length===0,ik=t=>Object.keys(t).length===1&&(t.hasOwnProperty(Lo)||t.hasOwnProperty(Ao)||t.hasOwnProperty(Io)),sk=t=>Object.keys(t).length===3&&t.hasOwnProperty(Lo)&&t.hasOwnProperty(Ao)&&t.hasOwnProperty(Io);class Ku extends H_{static processRules(){return kt.permalinkAndLocalStorage}static processRulesForKey(e,r){if(Ku.ruleUsePermalink(e))return kt.permalink;if(e===qu||U_.includes(e))return kt.localStorage;if(e===zu)return kt.permalink;if(e===ko)return kt.permalinkAsPath}static ruleUsePermalink(e){return[ak,ok,lk].reduce((r,n)=>r||n(e),!1)}}const ak=t=>t===Xh||t===Zh,ok=t=>t===Kh,lk=t=>t===ko&&{}.VITE_DEPLOY_GHPAGES==="true";class z_{constructor(){ut(this,"snappedUrl");this.snappedUrl=new URL(window.location.toString())}get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}getSnappedUrl(){return this.snappedUrl}getSnappedParamsAsObj(){return this.getSnappedParams().reduce((e,r)=>{const[n,i]=r.split("=");return{...e,[n]:i}},{})}getSnappedParams(){return this.getSnappedUrl().search.replace("?","").split("&").filter(e=>e.split("=")[1])}setItem(e,r){const n=new URLSearchParams(new URL(window.location.toString()).search);n.set(encodeURIComponent(e),encodeURIComponent(r));try{window.history.replaceState(null,"","?"+n.toString())}catch{}}getItem(e){const r=this.getSnappedUrl().searchParams.get(e);return r!==null?decodeURIComponent(r):r}removeItem(e){const r=new URLSearchParams(new URL(window.location.toString()).search);r.delete(e);try{window.history.replaceState(null,"","?"+r.toString())}catch{}}encodeQueryParam(e,r){return`${encodeURIComponent(e)}=${encodeURIComponent(r)}`}}const Jh=new z_;class uk extends z_{getItem(e){const r=this.getSnappedUrl().pathname.split("/"),n=r.findIndex(i=>i===e);return r[n+1]}setItem(e,r){const n=new URL(window.location.toString()).search,i=`/${e}/${r}${n}`;try{window.history.replaceState(null,"",i)}catch{}}}const ck=new uk;class fk{get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}removeItem(e){const r=this.getWriteStorages(e);r==null||r.map(n=>n.removeItem(e))}setItem(e,r){this.setValue(e,r)}getItem(e){return this.getValue(e)}get paramKeys(){return Jh.getSnappedParamsAsObj()}getValue(e){var i;const r=(i=this.correspondingStorages(Yu.processRules(this.paramKeys)))==null?void 0:i.pop(),n=this.storageForKey(e,Yu,r);return n?n.getItem(e):null}setValue(e,r){const n=this.getWriteStorages(e);n==null||n.map(i=>i.setItem(e,r))}getWriteStorages(e){const r=this.correspondingStorages(Ku.processRules()),n=this.storageForKey(e,Ku);return n?[n]:r}storageForKey(e,r,n){var s;const i=(s=this.correspondingStorages(r.processRulesForKey(e,this.paramKeys)))==null?void 0:s.pop();return i!=null?i:n}correspondingStorages(e){if(e===kt.permalinkAndLocalStorage)return[Jh,localStorage];if(e===kt.localStorage)return[localStorage];if(e===kt.permalink)return[Jh];if(e===kt.permalinkAsPath)return[ck]}}const Xu=new fk;function hk(t){return dk(t)||pk(t)||mk(t)||gk(t)}const dk=t=>Object.keys(t).length===0,pk=t=>{const e=Object.keys(t);return Object.keys(t).length===1&&[Lo,Ao,Io,Wu,Ri,Hu,da].some(r=>e.indexOf(r)!==-1)},mk=t=>{const e=Object.keys(t),r=i=>e.indexOf(i)!==-1,n=[[Ao,Io],[da,Wu],[Ri,Wu],[da,Ri],[da,Hu],[Ri,Hu]];return Object.keys(t).length===2&&n.reduce((i,s)=>i||s.every(r),!1)},gk=t=>{const e=Object.keys(t),r=a=>e.indexOf(a)!==-1,n=[Lo,Ao,Io].every(r),i=[da,Wu,Ri].every(r),s=[da,Hu,Ri].every(r);return Object.keys(t).length===3&&(n||i||s)};class yk{constructor(){ut(this,"intialVersion");const e=Xu.paramKeys,r=this.getValue(Kh,ha);this.intialVersion=r?Math.max(2,Math.min(r,3)):hk(e)?3:2,this.setValue(Kh,3)}getInitialVersion(){return this.intialVersion}mapToEntity(e,r){return r?r(e):e}mapToStorage(e,r){return r?r(e):String(e)}getValue(e,r){return this.mapToEntity(Xu.getValue(e),r)}setValue(e,r,n){Xu.setValue(e,this.mapToStorage(r,n))}removeItem(e){Xu.removeItem(e)}}const Ce=new yk,vk=["line","fill","symbol","fill-extrusion","background","hillshade"],en=()=>({bg_layers:[{icon_id:"route",vector_id:"roadmap",simple_style_class:"road",medium_style_class:"road",expert_style_class:"maputnik",id:556,is_default:!0},{icon_id:"topo",vector_id:"topomap",medium_style_class:"topo",expert_style_class:"maputnik",id:529},{icon_id:"topo_bw",vector_id:"topomap_gray",medium_style_class:"topo",expert_style_class:"maputnik",id:502},{icon_id:"ortho",id:530},{icon_id:"hybrid",id:501},{icon_id:"blank",id:0}],bg_layer_theme_defaults:{tourisme:502},simple_styles:{road:[{unlocalized_label:"Light grey",hillshade:!1,colors:["#ffffff","#ffffff","#d6e0d7","#e1e1e1","#cccccc","#f2f2f2"],selected:!1},{unlocalized_label:"Dark grey",hillshade:!1,colors:["#808080","#808080","#494b4a","#505052","#232426","#454545"],selected:!1},{unlocalized_label:"Dark sand",hillshade:!1,colors:["#9e9375","#9e9375","#6b6249","#403928","#b8aa84","#1a1814"],selected:!1},{unlocalized_label:"Kids",hillshade:!1,colors:["#f9c50d","#ffffff","#839836","#d6d3ce","#2a5ba8","#eeeeee"],selected:!1},{unlocalized_label:"Light mauve",hillshade:!1,colors:["#f3edf5","#f3edf5","#9d7da8","#caa9d1","#613b5c","#e5d3e6"],selected:!1},{unlocalized_label:"Light Blue",hillshade:!1,colors:["#dceaf5","#dceaf5","#5598cf","#81b7e3","#3b576e","#b6cde0"],selected:!1}]},medium_default_styles:{road:[{label:"Roads primary",color:"#f7f7f7",lines:["lu_road_trunk_primary","lu_bridge_major","lu_tunnel_major","lu_road_major_motorway"],visible:!0},{label:"Roads secondary",color:"#f7f7f7",lines:["lu_road_minor","lu_road_secondary_tertiary","lu_bridge_minor","lu_road_path","lu_bridge_path","lu_bridge_railway case","lu_bridge_path case"],visible:!0},{label:"Vegetation",color:"#B8D293",opacity:"1",fills:["lu_landcover_wood","lu_landcover_grass","lu_landuse_stadium","lu_landuse_cemetery"],visible:!0},{label:"Buildings",color:"#D6AA85",opacity:"1",fillExtrusions:["lu_building-3d_public","lu_building-3d"],fills:["lu_building","lu_building_public"],lines:["lu_bridge_railway","lu_railway","lu_tunnel_railway"],visible:!0},{label:"Water",color:"#94c1e1",lines:["lu_waterway","lu_waterway_tunnel","lu_waterway_intermittent"],fills:["lu_water"],visible:!0},{label:"Background",color:"#e7e7e7",backgrounds:["background"],visible:!0},{label:"Hillshade",hillshades:["hillshade"],visible:!0}],topo:[{label:"Primary Names",symbols:["lu_place-label_other","lu_place-label_city","lu_place-label_canton","lu_country-label-other","lu_country-label","place_label_other","place_label_city","country_label-other","country_label"],visible:!0},{label:"Secondary Names",symbols:["lu_place-label_isolated","lu_place-label_locality_forest","lu_place-label_locality_lieudit"],visible:!0},{label:"Transport",lines:["lu_tunnel_track-casing","lu_tunnel_major_motorway-casing","lu_tunnel_railway_transit","lu_tunnel_railway","lu_tunnel_railway-hatching","lu_tunnel_path","lu_tunnel_track","lu_tunnel_minor","lu_tunnel_major_motorway","lu_tunnel_secondary_tertiary","lu_tunnel_trunk_primary","lu_road_track-casing","lu_road_minor-casing","lu_road_major_motorway-casing","lu_road_secondary_tertiary-casing","lu_road_trunk_primary-casing","lu_road_pier","lu_road_path","lu_road_track","lu_road_minor","lu_road_major_motorway","lu_road_secondary_tertiary","lu_road_trunk_primary","lu_tram","lu_tram-hatching","lu_railway_transit","lu_railway","lu_railway-hatching","lu_bridge_railway-casing","lu_bridge_track-casing","lu_bridge_path-casing","lu_bridge_minor-casing","lu_bridge_major_motorway-casing","lu_bridge_secondary_tertiary-casing","lu_bridge_trunk_primary-casing","lu_bridge_railway","lu_bridge_path","lu_bridge_track","lu_bridge_minor","lu_bridge_major_motorway","lu_bridge_secondary_tertiary","lu_bridge_trunk_primary","tunnel_track-casing","tunnel_major_motorway-casing","tunnel_railway_transit","tunnel_railway_transit-hatching","tunnel_railway","tunnel_railway-hatching","tunnel_path","tunnel_track","tunnel_minor","tunnel_major_motorway","tunnel_secondary_tertiary","tunnel_trunk_primary","road_track-casing","road_minor-casing","road_major_motorway-casing","road_secondary_tertiary-casing","road_trunk_primary-casing","road_pier","road_path","road_track","road_minor","road_major_motorway","road_secondary_tertiary","road_trunk_primary","railway-transit","railway-transit-hatching","railway","railway-hatching","bridge_railway-casing","bridge_path-casing","bridge_track_casing","bridge_minor-casing","bridge_major_motorway-casing","bridge_secondary_tertiary-casing","bridge_trunk_primary-casing","bridge_railway","bridge_path","bridge_track","bridge_minor","bridge_major_motorway","bridge_secondary_tertiary","bridge_trunk_primary"],symbols:["lu_road_major-label","lu_motorway-shield","lu_road-shield"],visible:!0},{label:"Vegetation",fills:["lu_landuse_stadium","lu_landuse_cemetery","lu_landuse_gras","lu_landuse_park","lu_landuse_park-outline","lu_landuse_vineyard","lu_landuse_orchard","lu_landuse_wood","landcover_grass","landcover_wood"],visible:!0},{label:"Electricity",fills:["lu_power_station","lu_power_pylone"],lines:["lu_power_line","lu_power_station-outline"],symbols:["lu_power_station-label","lu_eolienne"],visible:!0},{label:"Contours and Height Points",lines:["lu_contour-100","lu_contour-50","lu_contour-20","lu_contour-10","lu_contour"],symbols:["lu_contour-label-100","lu_contour-label-20","lu_apex-label"],visible:!0},{label:"Hillshade",hillshades:["lu_hillshade"],visible:!0}]},http_bg_server:"wmts{1-2}",https_bg_server:"wmts{3-4}",bg_wmts_server_path:"mapproxy_4_v3/wmts/{Layer}",bg_wmts_tile_template:"{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}",bg_layer_projection:"EPSG:3857",olcs_extent:[5.31,49.38,6.64,50.21],olcs_extent_projection:"EPSG:3857",bg_layer_resolutions:[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],bg_matrix_ids:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"]});function Es(){function t(m){const g=new URLSearchParams(document.location.search),v=g.get("embeddedserver"),y=g.get("embeddedserverprotocol")||"http";return(v?`${y}://${v}`:"https://vectortiles.geoportail.lu")+`/styles/${m}/style.json`}function e(m){return`https://vectortiles.geoportail.lu/styles/${m}/{z}/{x}/{y}.png`}function r(m){return/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi.test(m)}const n=tn();function i(m,g){if(m==null)return;const v=new Map;n.bgVectorSources.forEach((y,b)=>{if(b===m.id){const S={...y,xyz_custom:g};v.set(b,S)}else v.set(b,y)}),n.setBgVectorSources(v)}function s(m,g,v=!1){const y="",b=t(g),S=e(g),x={label:m,defaultMapBoxStyle:b,defaultMapBoxStyleXYZ:S,xyz:S,xyz_custom:y,style:b},N=new URLSearchParams(window.location.search).get("serial"),M=new URLSearchParams(window.location.search).get("serialLayer");if(N)r(N)&&console.log(M);else if(!v)return Promise.resolve(x);return Promise.resolve(x)}function a(m){const g=en().medium_default_styles.road;if(m){m.colors.forEach((y,b)=>{g[b].color=y});const v=g.findIndex(y=>y.label==="Hillshade");g[v].visible=m.hillshade}return g}function o(m,g,v){if(!m||!g.get(m.id))return;const y=JSON.parse(JSON.stringify(g.get(m.id)));if(!!y&&!(!y||!y.layers))return v&&v.forEach(b=>{y==null||y.layers.forEach((S,x)=>{for(const N of vk)if((b[`${N}s`]||[]).includes(S.id)){const L=Object.assign({},y.layers[x].paint);b.color&&(L[`${N}-color`]=b.color,L[`${N}-opacity`]=1,y.layers[x].paint=L),y.layers[x].layout=Object.assign({},y.layers[x].layout,{visibility:b.visible?"visible":"none"})}})}),y}function l(m,g){if(m===null)return Promise.resolve();{const v=`${g.get("delete")}?id=${m}`;return fetch(v).catch(()=>"")}}function u(m,g,v){return l(g,v).then(()=>{const y=new FormData,b=JSON.stringify(m),S=new Blob([b],{type:"application/json"});y.append("style",S,"style.json");const x={method:"POST",body:y};return fetch(v.get("upload")||"",x).then(N=>N.json()).then(N=>N.id).catch(N=>console.warn(N))})}function f(m,g){if(!g)return;const v=m.maplibreMap;!v||(v.loaded()?v.setStyle(g):new Promise(y=>v.once("data",y)).then(()=>v.setStyle(g)))}function c(m){const g=en().bg_layers.find(v=>v.id==(m==null?void 0:m.id));return g==null?void 0:g.vector_id}function h(m){const g=en().bg_layers.find(v=>v.id==(m==null?void 0:m.id));return(g==null?void 0:g.vector_id)!==void 0}function d(m){const g=en().bg_layers.find(v=>v.id==(m==null?void 0:m.id));return{isEditable:(g==null?void 0:g.vector_id)!==void 0,hasSimpleStyle:(g==null?void 0:g.simple_style_class)!==void 0,hasAdvancedStyle:(g==null?void 0:g.medium_style_class)!==void 0,hasExpertStyle:(g==null?void 0:g.expert_style_class)!==void 0}}function p(m,g){return g.map(v=>Object.assign(v,{selected:v.colors.every((y,b)=>{var S;return((S=m[b])==null?void 0:S.color)===y})}))}return{getDefaultMapBoxStyleUrl:t,getDefaultMapBoxStyleXYZ:e,setConfigForLayer:s,getRoadStyleFromSimpleStyle:a,applyDefaultStyle:o,applyConsolidatedStyle:f,getVectorId:c,setCustomStyleSerial:i,unregisterStyle:l,registerStyle:u,checkSelection:p,isLayerStyleEditable:h,getStyleCapabilitiesFromLayer:d}}const tn=ps("style",()=>{const t=Es(),e=rt(),r=rt(new Map),n=rt(new Map),i=rt(!1),s=rt(null),a=rt(),o=rt(new Map([["get","/getvtstyle"],["upload","/uploadvtstyle"],["delete","/deletevtstyle"]])),l=[];en().bg_layers.forEach(v=>{if(v.vector_id){const y=t.setConfigForLayer(v.icon_id,v.vector_id);l.push(y.then(b=>({id:v.id,config:b})))}}),Promise.all(l).then(v=>{const y=new Map;v.forEach(b=>y.set(b.id,b.config)),r.value=y});function u(v,y){o.value.set(v,y)}function f(v){r.value=v}function c(v){const y=new Map;n.value.forEach((b,S)=>{S!==v&&y.set(S,b)}),n.value=y}function h(v,y){const b=new Map;n.value.forEach((S,x)=>b.set(x,S)),b.set(v,y),n.value=b}function d(v){e.value=t.getRoadStyleFromSimpleStyle(v),m()}function p(v){e.value=v,m()}function m(){i.value=!1}function g(){i.value=!0}return{bgStyle:e,bgVectorSources:r,bgVectorBaseStyles:n,isExpertStyleActive:i,appliedStyle:a,removeBaseStyle:c,setBaseStyle:h,setBgVectorSources:f,setRegisterUrl:u,setSimpleStyle:d,setStyle:p,disableExpertStyle:m,enableExpertStyle:g,styleSerial:s,registerUrls:o}},{});class _k{constructor(){ut(this,"styleWatcher")}bootstrapStyle(){const e=tn();let r,n=!1;r=vr(()=>{e.bgVectorSources&&(this.restoreStyle(!1),n&&this.persistStyle(),n=!0,r&&r())})}persistStyle(){const e=tn(),{bgStyle:r}=Ue(e);this.styleWatcher||(this.styleWatcher=et(r,(n,i)=>{if(i!==n){const s=ht();s.bgLayer&&(Ce.setValue(s.bgLayer.name,n||[],Bu.styleToLocalStorage),Ce.setValue(zu,n||[],Bu.styleToSerial))}},{immediate:!0}))}restoreStyle(e){const r=tn();r.setStyle(null);const i=ht().bgLayer;if(i){let s=[];e||(s=Ce.getValue(zu,Bu.styleSerialToStyle)),s.length===0&&(s=Ce.getValue(i.name,Bu.styleLocalStorageToStyle)),s&&s.length>0&&r.setStyle(s)}}}const Qh=new _k,bk="https://map.geoportail.lu/ogcproxywms",Sk="https://map.geoportail.lu/httpsproxy";class Ek{constructor(){ut(this,"_wmsProxyUrl",bk);ut(this,"_remoteProxyUrl",Sk)}get wmsProxyUrl(){return this._wmsProxyUrl===void 0&&console.warn("Warning: proxyWmsUrl is not set."),this._wmsProxyUrl}get remoteProxyUrl(){return this._remoteProxyUrl===void 0&&console.warn("Warning: remoteProxy is not set."),this._remoteProxyUrl}getProxyfiedUrl(e){return e.indexOf("httpsproxy")>0?e:this.remoteProxyUrl+"?url="+encodeURIComponent(e)}init_v3(e,r){e&&(this._wmsProxyUrl=e),r&&(this._remoteProxyUrl=r)}}const ws=new Ek;function Y_(){return St.transformExtent([5.31,49.38,6.64,50.21],Nv,vo)}function K_(t){var e;return!!((e=t==null?void 0:t.metadata)!=null&&e.hasRetina)&&k_()}function wk(t,e="https"){const r=t.imageType.split("/")[1],n=Ce.getValue(Lo,Yh)?"app.geoportail.lu":"geoportail.lu";return`${e==="https"?"//wmts{3-4}.":"//wmts{1-2}."}${n}/mapproxy_4_v3/wmts/{Layer}${K_(t)?"_hd":""}/{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}.${r}`}class Ok{createOlLayer(e){const{name:r,layers:n,imageType:i,url:s,id:a}=e,o=new Up.default({url:s||ws.wmsProxyUrl,hidpi:k_(),serverType:"mapserver",params:{FORMAT:i,LAYERS:n},...s!=null||ws.remoteProxyUrl?{crossOrigin:"anonymous"}:{}});return new RE.default({properties:{"olcs.extent":Y_(),label:r,id:a},source:o})}setLayerTime(e,r){const n=e.getParams();n.TIME=r,e.updateParams(n)}}const X_=new Ok,xk=[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],Mk=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"];class Tk{createOlLayer(e){const{name:r,imageType:n,id:i}=e,s=K_(e),a=St.get(vo),o=a.getExtent(),l=new Bp.default({url:wk(e),tilePixelRatio:s?2:1,layer:r,matrixSet:`GLOBAL_WEBMERCATOR_4_V3${s?"_HD":""}`,format:n,requestEncoding:"REST",projection:a,tileGrid:new FE.default({origin:yE.getTopLeft(o),extent:o,resolutions:xk,matrixIds:Mk}),style:"default",crossOrigin:"anonymous"});return new $E.default({source:l,properties:{"olcs.extent":Y_(),label:r,id:i}})}setLayerTime(e,r,n){const i=e.get("metadata").time_layers[n],s=r.getUrls();if(s){const a=this.transformUrls(s,i);r.setUrls(a),e.set("label",i),e.set("layer_name",i)}}transformUrls(e,r){return e.map(n=>n.replace(/[/][^/]*[/]{TileMatrixSet}/,`/${r}/{TileMatrixSet}`))}}const Z_=new Tk;function Nk(t,e,r){return e=Zu(e),Dk(t,J_()?Reflect.construct(e,r||[],Zu(t).constructor):e.apply(t,r))}function J_(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J_=function(){return!!t})()}function Ck(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pk(t){var e=Ck(t,"string");return typeof e=="symbol"?e:e+""}function Lk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pk(n.key),n)}}function Ak(t,e,r){return e&&Q_(t.prototype,e),r&&Q_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ik(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ed(t,e)}function Zu(t){return Zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zu(t)}function ed(t,e){return ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ed(t,e)}function kk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dk(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kk(t)}function Rk(t){return $k(t)||Fk(t)||jk(t)||Vk()}function $k(t){if(Array.isArray(t))return td(t)}function Fk(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jk(t,e){if(!!t){if(typeof t=="string")return td(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return td(t,e)}}function td(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr=function(t){try{return!!t()}catch{return!0}},Gk=cr,rd=!Gk(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),eb=rd,tb=Function.prototype,nd=tb.call,Uk=eb&&tb.bind.bind(nd,nd),fr=eb?Uk:function(t){return function(){return nd.apply(t,arguments)}},id=typeof document=="object"&&document.all,Fr=typeof id>"u"&&id!==void 0?function(t){return typeof t=="function"||t===id}:function(t){return typeof t=="function"},Do={},Bk=cr,Xn=!Bk(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Ro=function(t){return t&&t.Math===Math&&t},rn=Ro(typeof globalThis=="object"&&globalThis)||Ro(typeof window=="object"&&window)||Ro(typeof self=="object"&&self)||Ro(typeof ur=="object"&&ur)||Ro(typeof ur=="object"&&ur)||function(){return this}()||Function("return this")(),Wk=Fr,Os=function(t){return typeof t=="object"?t!==null:Wk(t)},qk=rn,rb=Os,sd=qk.document,Hk=rb(sd)&&rb(sd.createElement),nb=function(t){return Hk?sd.createElement(t):{}},zk=Xn,Yk=cr,Kk=nb,ib=!zk&&!Yk(function(){return Object.defineProperty(Kk("div"),"a",{get:function(){return 7}}).a!==7}),Xk=Xn,Zk=cr,Jk=Xk&&Zk(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Qk=Os,eD=String,tD=TypeError,Ju=function(t){if(Qk(t))return t;throw new tD(eD(t)+" is not an object")},rD=rd,Qu=Function.prototype.call,$o=rD?Qu.bind(Qu):function(){return Qu.apply(Qu,arguments)},ad=rn,nD=Fr,iD=function(t){return nD(t)?t:void 0},od=function(t,e){return arguments.length<2?iD(ad[t]):ad[t]&&ad[t][e]},sD=fr,sb=sD({}.isPrototypeOf),aD=typeof navigator<"u"&&String(navigator.userAgent)||"",ab=rn,ld=aD,ob=ab.process,lb=ab.Deno,ub=ob&&ob.versions||lb&&lb.version,cb=ub&&ub.v8,nn,ec;cb&&(nn=cb.split("."),ec=nn[0]>0&&nn[0]<4?1:+(nn[0]+nn[1])),!ec&&ld&&(nn=ld.match(/Edge\/(\d+)/),(!nn||nn[1]>=74)&&(nn=ld.match(/Chrome\/(\d+)/),nn&&(ec=+nn[1])));var ud=ec,fb=ud,oD=cr,lD=rn,uD=lD.String,hb=!!Object.getOwnPropertySymbols&&!oD(function(){var t=Symbol("symbol detection");return!uD(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&fb&&fb<41}),cD=hb,db=cD&&!Symbol.sham&&typeof Symbol.iterator=="symbol",fD=od,hD=Fr,dD=sb,pD=db,mD=Object,pb=pD?function(t){return typeof t=="symbol"}:function(t){var e=fD("Symbol");return hD(e)&&dD(e.prototype,mD(t))},gD=String,yD=function(t){try{return gD(t)}catch{return"Object"}},vD=Fr,_D=yD,bD=TypeError,mb=function(t){if(vD(t))return t;throw new bD(_D(t)+" is not a function")},gb=function(t){return t==null},SD=mb,ED=gb,wD=function(t,e){var r=t[e];return ED(r)?void 0:SD(r)},cd=$o,fd=Fr,hd=Os,OD=TypeError,xD=function(t,e){var r,n;if(e==="string"&&fd(r=t.toString)&&!hd(n=cd(r,t))||fd(r=t.valueOf)&&!hd(n=cd(r,t))||e!=="string"&&fd(r=t.toString)&&!hd(n=cd(r,t)))return n;throw new OD("Can't convert object to primitive value")},tc={exports:{}},yb=rn,MD=Object.defineProperty,dd=function(t,e){try{MD(yb,t,{value:e,configurable:!0,writable:!0})}catch{yb[t]=e}return e},TD=rn,ND=dd,vb="__core-js_shared__",_b=tc.exports=TD[vb]||ND(vb,{});(_b.versions||(_b.versions=[])).push({version:"3.37.1",mode:"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var bb=tc.exports,Sb=function(t,e){return bb[t]||(bb[t]=e||{})},CD=gb,PD=TypeError,Eb=function(t){if(CD(t))throw new PD("Can't call method on "+t);return t},LD=Eb,AD=Object,rc=function(t){return AD(LD(t))},ID=fr,kD=rc,DD=ID({}.hasOwnProperty),$i=Object.hasOwn||function(e,r){return DD(kD(e),r)},RD=fr,$D=0,FD=Math.random(),jD=RD(1 .toString),wb=function(t){return"Symbol("+(t===void 0?"":t)+")_"+jD(++$D+FD,36)},VD=rn,GD=Sb,Ob=$i,UD=wb,BD=hb,WD=db,pa=VD.Symbol,pd=GD("wks"),qD=WD?pa.for||pa:pa&&pa.withoutSetter||UD,ma=function(t){return Ob(pd,t)||(pd[t]=BD&&Ob(pa,t)?pa[t]:qD("Symbol."+t)),pd[t]},HD=$o,xb=Os,Mb=pb,zD=wD,YD=xD,KD=ma,XD=TypeError,ZD=KD("toPrimitive"),JD=function(t,e){if(!xb(t)||Mb(t))return t;var r=zD(t,ZD),n;if(r){if(e===void 0&&(e="default"),n=HD(r,t,e),!xb(n)||Mb(n))return n;throw new XD("Can't convert object to primitive value")}return e===void 0&&(e="number"),YD(t,e)},QD=JD,e3=pb,Tb=function(t){var e=QD(t,"string");return e3(e)?e:e+""},t3=Xn,r3=ib,n3=Jk,nc=Ju,Nb=Tb,i3=TypeError,md=Object.defineProperty,s3=Object.getOwnPropertyDescriptor,gd="enumerable",yd="configurable",vd="writable";Do.f=t3?n3?function(e,r,n){if(nc(e),r=Nb(r),nc(n),typeof e=="function"&&r==="prototype"&&"value"in n&&vd in n&&!n[vd]){var i=s3(e,r);i&&i[vd]&&(e[r]=n.value,n={configurable:yd in n?n[yd]:i[yd],enumerable:gd in n?n[gd]:i[gd],writable:!1})}return md(e,r,n)}:md:function(e,r,n){if(nc(e),r=Nb(r),nc(n),r3)try{return md(e,r,n)}catch{}if("get"in n||"set"in n)throw new i3("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var Cb={exports:{}},_d=Xn,a3=$i,Pb=Function.prototype,o3=_d&&Object.getOwnPropertyDescriptor,bd=a3(Pb,"name"),l3=bd&&function(){}.name==="something",u3=bd&&(!_d||_d&&o3(Pb,"name").configurable),Lb={EXISTS:bd,PROPER:l3,CONFIGURABLE:u3},c3=fr,f3=Fr,Sd=tc.exports,h3=c3(Function.toString);f3(Sd.inspectSource)||(Sd.inspectSource=function(t){return h3(t)});var Ab=Sd.inspectSource,d3=rn,p3=Fr,Ib=d3.WeakMap,m3=p3(Ib)&&/native code/.test(String(Ib)),Ed=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},g3=Xn,y3=Do,v3=Ed,wd=g3?function(t,e,r){return y3.f(t,e,v3(1,r))}:function(t,e,r){return t[e]=r,t},_3=Sb,b3=wb,kb=_3("keys"),S3=function(t){return kb[t]||(kb[t]=b3(t))},Db={},E3=m3,Rb=rn,w3=Os,O3=wd,Od=$i,xd=tc.exports,x3=S3,M3=Db,$b="Object already initialized",Md=Rb.TypeError,T3=Rb.WeakMap,ic,Fo,sc,N3=function(t){return sc(t)?Fo(t):ic(t,{})},C3=function(t){return function(e){var r;if(!w3(e)||(r=Fo(e)).type!==t)throw new Md("Incompatible receiver, "+t+" required");return r}};if(E3||xd.state){var Nn=xd.state||(xd.state=new T3);Nn.get=Nn.get,Nn.has=Nn.has,Nn.set=Nn.set,ic=function(t,e){if(Nn.has(t))throw new Md($b);return e.facade=t,Nn.set(t,e),e},Fo=function(t){return Nn.get(t)||{}},sc=function(t){return Nn.has(t)}}else{var ga=x3("state");M3[ga]=!0,ic=function(t,e){if(Od(t,ga))throw new Md($b);return e.facade=t,O3(t,ga,e),e},Fo=function(t){return Od(t,ga)?t[ga]:{}},sc=function(t){return Od(t,ga)}}var P3={set:ic,get:Fo,has:sc,enforce:N3,getterFor:C3},Td=fr,L3=cr,A3=Fr,ac=$i,Nd=Xn,I3=Lb.CONFIGURABLE,k3=Ab,Fb=P3,D3=Fb.enforce,R3=Fb.get,jb=String,oc=Object.defineProperty,$3=Td("".slice),F3=Td("".replace),j3=Td([].join),V3=Nd&&!L3(function(){return oc(function(){},"length",{value:8}).length!==8}),G3=String(String).split("String"),U3=Cb.exports=function(t,e,r){$3(jb(e),0,7)==="Symbol("&&(e="["+F3(jb(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!ac(t,"name")||I3&&t.name!==e)&&(Nd?oc(t,"name",{value:e,configurable:!0}):t.name=e),V3&&r&&ac(r,"arity")&&t.length!==r.arity&&oc(t,"length",{value:r.arity});try{r&&ac(r,"constructor")&&r.constructor?Nd&&oc(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=D3(t);return ac(n,"source")||(n.source=j3(G3,typeof e=="string"?e:"")),t};Function.prototype.toString=U3(function(){return A3(this)&&R3(this).source||k3(this)},"toString");var B3=Fr,W3=Do,q3=Cb.exports,H3=dd,lc=function(t,e,r,n){n||(n={});var i=n.enumerable,s=n.name!==void 0?n.name:e;if(B3(r)&&q3(r,s,n),n.global)i?t[e]=r:H3(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=r:W3.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},Vb=fr,z3=lc,Cd=Date.prototype,Gb="Invalid Date",Ub="toString",Y3=Vb(Cd[Ub]),K3=Vb(Cd.getTime);String(new Date(NaN))!==Gb&&z3(Cd,Ub,function(){var e=K3(this);return e===e?Y3(this):Gb});var Pd={},Ld={},Bb={}.propertyIsEnumerable,Wb=Object.getOwnPropertyDescriptor,X3=Wb&&!Bb.call({1:2},1);Ld.f=X3?function(e){var r=Wb(this,e);return!!r&&r.enumerable}:Bb;var qb=fr,Z3=qb({}.toString),J3=qb("".slice),uc=function(t){return J3(Z3(t),8,-1)},Q3=fr,eR=cr,tR=uc,Ad=Object,rR=Q3("".split),Id=eR(function(){return!Ad("z").propertyIsEnumerable(0)})?function(t){return tR(t)==="String"?rR(t,""):Ad(t)}:Ad,nR=Id,iR=Eb,kd=function(t){return nR(iR(t))},sR=Xn,aR=$o,oR=Ld,lR=Ed,uR=kd,cR=Tb,fR=$i,hR=ib,Hb=Object.getOwnPropertyDescriptor;Pd.f=sR?Hb:function(e,r){if(e=uR(e),r=cR(r),hR)try{return Hb(e,r)}catch{}if(fR(e,r))return lR(!aR(oR.f,e,r),e[r])};var zb={},dR=Math.ceil,pR=Math.floor,mR=Math.trunc||function(e){var r=+e;return(r>0?pR:dR)(r)},gR=mR,Yb=function(t){var e=+t;return e!==e||e===0?0:gR(e)},yR=Yb,vR=Math.max,_R=Math.min,bR=function(t,e){var r=yR(t);return r<0?vR(r+e,0):_R(r,e)},SR=Yb,ER=Math.min,wR=function(t){var e=SR(t);return e>0?ER(e,9007199254740991):0},OR=wR,Dd=function(t){return OR(t.length)},xR=kd,MR=bR,TR=Dd,Kb=function(t){return function(e,r,n){var i=xR(e),s=TR(i);if(s===0)return!t&&-1;var a=MR(n,s),o;if(t&&r!==r){for(;s>a;)if(o=i[a++],o!==o)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===r)return t||a||0;return!t&&-1}},NR={includes:Kb(!0),indexOf:Kb(!1)},CR=fr,Rd=$i,PR=kd,LR=NR.indexOf,AR=Db,Xb=CR([].push),Zb=function(t,e){var r=PR(t),n=0,i=[],s;for(s in r)!Rd(AR,s)&&Rd(r,s)&&Xb(i,s);for(;e.length>n;)Rd(r,s=e[n++])&&(~LR(i,s)||Xb(i,s));return i},Jb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],IR=Zb,kR=Jb,DR=kR.concat("length","prototype");zb.f=Object.getOwnPropertyNames||function(e){return IR(e,DR)};var $d={};$d.f=Object.getOwnPropertySymbols;var RR=od,$R=fr,FR=zb,jR=$d,VR=Ju,GR=$R([].concat),UR=RR("Reflect","ownKeys")||function(e){var r=FR.f(VR(e)),n=jR.f;return n?GR(r,n(e)):r},Qb=$i,BR=UR,WR=Pd,qR=Do,HR=function(t,e,r){for(var n=BR(e),i=qR.f,s=WR.f,a=0;a<n.length;a++){var o=n[a];!Qb(t,o)&&!(r&&Qb(r,o))&&i(t,o,s(e,o))}},zR=cr,YR=Fr,KR=/#|\.prototype\./,jo=function(t,e){var r=ZR[XR(t)];return r===QR?!0:r===JR?!1:YR(e)?zR(e):!!e},XR=jo.normalize=function(t){return String(t).replace(KR,".").toLowerCase()},ZR=jo.data={},JR=jo.NATIVE="N",QR=jo.POLYFILL="P",e$=jo,cc=rn,t$=Pd.f,r$=wd,n$=lc,i$=dd,s$=HR,a$=e$,Fd=function(t,e){var r=t.target,n=t.global,i=t.stat,s,a,o,l,u,f;if(n?a=cc:i?a=cc[r]||i$(r,{}):a=cc[r]&&cc[r].prototype,a)for(o in e){if(u=e[o],t.dontCallGetSet?(f=t$(a,o),l=f&&f.value):l=a[o],s=a$(n?o:r+(i?".":"#")+o,t.forced),!s&&l!==void 0){if(typeof u==typeof l)continue;s$(u,l)}(t.sham||l&&l.sham)&&r$(u,"sham",!0),n$(a,o,u,t)}},o$=Zb,l$=Jb,u$=Object.keys||function(e){return o$(e,l$)},e1=Xn,c$=fr,f$=$o,h$=cr,jd=u$,d$=$d,p$=Ld,m$=rc,g$=Id,ya=Object.assign,t1=Object.defineProperty,y$=c$([].concat),v$=!ya||h$(function(){if(e1&&ya({b:1},ya(t1({},"a",{enumerable:!0,get:function(){t1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(i){e[i]=i}),ya({},t)[r]!==7||jd(ya({},e)).join("")!==n})?function(e,r){for(var n=m$(e),i=arguments.length,s=1,a=d$.f,o=p$.f;i>s;)for(var l=g$(arguments[s++]),u=a?y$(jd(l),a(l)):jd(l),f=u.length,c=0,h;f>c;)h=u[c++],(!e1||f$(o,l,h))&&(n[h]=l[h]);return n}:ya,_$=Fd,r1=v$;_$({target:"Object",stat:!0,arity:2,forced:Object.assign!==r1},{assign:r1});var b$=ma,S$=b$("toStringTag"),n1={};n1[S$]="z";var Vd=String(n1)==="[object z]",E$=Vd,w$=Fr,fc=uc,O$=ma,x$=O$("toStringTag"),M$=Object,T$=fc(function(){return arguments}())==="Arguments",N$=function(t,e){try{return t[e]}catch{}},Gd=E$?fc:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=N$(e=M$(t),x$))=="string"?r:T$?fc(e):(n=fc(e))==="Object"&&w$(e.callee)?"Arguments":n},C$=Vd,P$=Gd,L$=C$?{}.toString:function(){return"[object "+P$(this)+"]"},A$=Vd,I$=lc,k$=L$;A$||I$(Object.prototype,"toString",k$,{unsafe:!0});var D$=Gd,R$=String,$$=function(t){if(D$(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return R$(t)},F$=Ju,j$=function(){var t=F$(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},V$=$o,G$=$i,U$=sb,B$=j$,i1=RegExp.prototype,W$=function(t){var e=t.flags;return e===void 0&&!("flags"in i1)&&!G$(t,"flags")&&U$(i1,t)?V$(B$,t):e},q$=Lb.PROPER,H$=lc,z$=Ju,s1=$$,Y$=cr,K$=W$,Ud="toString",a1=RegExp.prototype,o1=a1[Ud],X$=Y$(function(){return o1.call({source:"a",flags:"b"})!=="/a/b"}),Z$=q$&&o1.name!==Ud;(X$||Z$)&&H$(a1,Ud,function(){var e=z$(this),r=s1(e.source),n=s1(K$(e));return"/"+r+"/"+n},{unsafe:!0});var Bd=function(t){function e(r){var n;Lk(this,e);var i=Object.assign({},r);return delete i.accessToken,delete i.style,delete i.container,delete i.xyz,n=Nk(this,e,[i]),n.set("xyz",r.maplibreOptions.xyz),n.set("xyz_custom",r.maplibreOptions.xyz_custom),n.xyz_=r.xyz,r.accessToken&&(Wp.default.accessToken=r.accessToken),n.map_=new Wp.default.Map({container:r.maplibreOptions.container,style:r.maplibreOptions.style,attributionControl:!1,interactive:!1}),n.maplibreMap=n.map_,n}return Ik(e,t),Ak(e,[{key:"getMapBoxMap",value:function(){return this.map_}},{key:"getMapLibreMap",value:function(){return this.map_}},{key:"render",value:function(n){var i=this.map_.getCanvas(),s=n.viewState;i.style.position="absolute";var a=this.getVisible();i.style.display=a?"block":"none";var o=this.getOpacity().toString();o!==i.style.opacity&&(i.style.opacity=o);var l=s.rotation;return l&&this.map_.rotateTo(_E.toDegrees(-l),{animate:!1}),this.map_.jumpTo({center:bE.toLonLat(s.center),zoom:s.zoom-1,animate:!1}),this.map_._frame&&(this.map_._frame.cancel(),this.map_._frame=null),this.map_._render(),i}},{key:"setLayerVisibility",value:function(n,i){this.map_.setLayoutProperty(n,"visibility",i?"visible":"none")}},{key:"getStyle",value:function(){return this.map_.getStyle()}},{key:"getXYZ",value:function(){return this.get("xyz")}}])}(jE.default);class J${createOlLayer(e,r){const n=Sn(),{id:i,metadata:s,name:a}=e,o=r.get(i);if(!o)return;const l={container:n.getOlMap().getTarget(),...o},u=new Bd({maplibreOptions:l,label:a,id:i,queryable_id:i,metadata:s}),f=tn();return u!=null&&u.getMapLibreMap().loaded()?f.setBaseStyle(i,u==null?void 0:u.getMapLibreMap().getStyle()):new Promise(c=>u==null?void 0:u.getMapLibreMap().once("data",c)).then(()=>f.setBaseStyle(i,u==null?void 0:u.getMapLibreMap().getStyle())),u}}const Q$=new J$;class e4{createOlLayer(e,r){let n;if(r&&(n=Q$.createOlLayer(e,r)),!n)switch(e.type){case"WMS":n=X_.createOlLayer(e);break;case"WMTS":case"BG WMTS":n=Z_.createOlLayer(e);break;default:throw new Error(`Unrecognized layer type: ${e.type}`)}return n.set("id",e.id),n.set("label",e.name),n.set("layer_name",e.name),n.set("metadata",e.metadata),n.set("queryable_id",e.id),n.set("current_time",$r().getLayerCurrentTime(e)),n.set("time",e.time),n.setOpacity(e.opacity),n}}const l1=new e4;class t4{setLayerTime(e,r){const n=e.getSource();n instanceof Up.default&&X_.setLayerTime(n,r),n instanceof Bp.default&&Z_.setLayerTime(e,n,r)}}const r4=new t4,hc=-200;function Wd(){function t(d,p){if(!p)return;const m=u(p);d.addLayer(m)}function e(d,p){return d.getLayers().getArray().find(m=>m.get("id")===p)}function r(d,p){const m=e(d,p);m&&d.removeLayer(m)}function n(d,p){const m=d.getLayers().getArray();p.forEach((g,v)=>{const y=m.find(b=>b.get("id")===g.id);y==null||y.setZIndex(v+1)})}function i(d,p,m){const g=d.getLayers().getArray().find(v=>v.get("id")===p);g&&g.setOpacity(m)}function s(d,p){const m=$r(),g=e(d,p.id),v=m.getLayerCurrentTime(p);v&&g&&r4.setLayerTime(g,v)}function a(d){_o.delete(d)}function o(d){return _o.has(d.id)}function l(d,p){_o.set(d,p)}function u(d){const p=d.id,m=_o.get(p);if(m)return m;{const g=l1.createOlLayer(d);return l(p,g),g}}function f(d){return d&&_o.get(d.id)||null}function c(d,p){const g=d.getLayers().getArray().find(v=>v.getZIndex()===hc);g&&p(g)}function h(d,p,m){var S;const g=d.getLayers(),v=g.getArray().findIndex(x=>x.getZIndex()===hc),y=(S=g.getArray()[v])==null?void 0:S.get("id");let b;p&&(o(p)?b=f(p):(b=l1.createOlLayer(p,m),l(p.id,b))),v>=0?b?(b.setZIndex(hc),g.setAt(v,b)):g.removeAt(v):b&&(b.setZIndex(hc),d.addLayer(b)),y&&y!==(p==null?void 0:p.id)&&Qh.restoreStyle(!0)}return{addLayer:t,findLayer:e,removeLayer:r,removeFromCache:a,reorderLayers:n,setLayerOpacity:i,setLayerTime:s,getLayerFromCache:f,setBgLayer:h,applyOnBgLayer:c}}class n4{constructor(e){ut(this,"previousLayers");ut(this,"previousVectorSources");const r=ht(),n=tn(),i=Sn(),s=Es(),a=Wd(),{appliedStyle:o}=Ue(n);et(()=>r.layers,l=>{const u={layers:this.previousLayers},f={layers:l},c=i.getRemovedLayers(f,u),h=i.getAddedLayers(f,u),d=i.getMutatedLayers(f,u);c.forEach(p=>a.removeLayer(e,p.id)),h.forEach(p=>{a.addLayer(e,p.layer),a.setLayerTime(e,p.layer)}),d.forEach(p=>{a.setLayerOpacity(e,p.id,p.opacity),a.setLayerTime(e,p)}),f.layers&&a.reorderLayers(e,f.layers),this.previousLayers=l}),et(()=>r.bgLayer,l=>l!==void 0&&a.setBgLayer(e,l,n.bgVectorSources)),vr(()=>{n.isExpertStyleActive||(o.value=s.applyDefaultStyle(r.bgLayer,n.bgVectorBaseStyles,n.bgStyle))}),et(o,l=>{n.bgStyle===null&&!n.isExpertStyleActive?s.unregisterStyle(n.styleSerial,n.registerUrls).then(n.styleSerial=null):s.registerStyle(l,n.styleSerial,n.registerUrls).then(u=>{var c;n.styleSerial=u;const f=(c=r==null?void 0:r.bgLayer)==null?void 0:c.id;(r==null?void 0:r.bgLayer)&&f!==void 0&&u!==void 0&&(a.applyOnBgLayer(e,h=>{h.set("xyz_custom",s.getDefaultMapBoxStyleXYZ(u))}),a.setBgLayer(e,r==null?void 0:r.bgLayer,n.bgVectorSources))}),a.applyOnBgLayer(e,u=>s.applyConsolidatedStyle(u,l))}),et(()=>n.bgVectorSources,l=>{var u;for(const f of l.keys())(!this.previousVectorSources||this.previousVectorSources.get(f)!==l.get(f))&&(a.removeFromCache(f),f===((u=r==null?void 0:r.bgLayer)==null?void 0:u.id)&&a.setBgLayer(e,r==null?void 0:r.bgLayer,l));this.previousVectorSources=l})}}const i4={0:8,1:9,2:9,3:10,4:11,5:12,6:13,7:14,8:16,9:17,10:18,11:19,12:20,13:21};class s4{bootstrap(){this.restore(),this.persist()}persistZoom(){const e=Sn().getOlMap().getView(),r=()=>{const n=e.getZoom();Ce.setValue(j_,n?Math.ceil(n):null)};r(),qp.listen(e,"change:resolution",I_(r,300))}persistXY(){const e=Sn().getOlMap().getView(),r=()=>{const n=e.getCenter();Ce.setValue(V_,n?Math.round(n[0]):null),Ce.setValue(G_,n?Math.round(n[1]):null)};r(),qp.listen(e,VE.default.PROPERTYCHANGE,I_(r,300))}persist(){this.persistXY(),this.persistZoom()}restore(){const e=Sn().getOlMap().getView(),r=Ce.getValue(j_,ha),n=Ce.getInitialVersion(),i=Ce.getValue(V_,ha),s=Ce.getValue(G_,ha),a=Ce.getValue(tk),o=St.getTransform(oL,vo);let l,u;r!==void 0?u=n===3?Number(r):i4[r]:u=8,i!=null&&s!=null?n===3&&a!=null?l=St.transform([i,s],a,vo):l=n===3?[i,s]:o([s,i],void 0,2):l=St.transform([6,49.7],Nv,vo),e.setCenter(l),e.setZoom(u)}}const a4=new s4,o4={key:0,class:"absolute bottom-0 z-10 text-[0.8em] px-[4px] text-[#6b818f] bg-[#ffffffb3]"},l4=ge(he({__name:"attribution-control",setup(t){const e=ht(),r=Ee("");return vr(()=>{var n,i;r.value=((i=(n=e.bgLayer)==null?void 0:n.metadata)==null?void 0:i.attribution)||""}),(n,i)=>{const s=vf("dompurify-html");return r.value?Ll((A(),G("div",o4,null,512)),[[s,r.value]]):F("v-if",!0)}}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/map-controls/attribution-control.vue"]]);function Vo(t,e){const r=new t(e),n=Sn(),i=Fs("olMap");return _r(()=>{i.addControl(r),i.changed()}),gi(()=>{const s=n.getOlMap();s.removeControl(r),s.changed()}),{control:r}}const u4=["title"],c4=ge(he({__name:"location-control",props:{className:{type:String,required:!1,default:"location-button"},label:{type:String,required:!1,default:"\uE800"},tipLabel:{type:String,required:!1,default:"Location"}},setup(t){const{t:e}=Ze(),r=t,n=Ee(null);function i(){}return _r(()=>Vo(Hp.default,{...r,target:n})),(s,a)=>(A(),G("div",{ref_key:"controlElement",ref:n,class:Ie(`tracker-off ${r.className} ${O(il.CLASS_UNSELECTABLE)} ${O(il.CLASS_CONTROL)}`)},[P("button",{title:O(e)(r.tipLabel),onClick:i},oe(r.label),9,u4)],2))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/map-controls/location-control.vue"]]),f4=["title"],h4=ge(he({__name:"map-3d",props:{className:{type:String,required:!1,default:"map-3d-button"},label:{type:String,required:!1,default:"\uE057"},tipLabel:{type:String,required:!1,default:"3d"}},setup(t){const e=ht(),{t:r}=Ze(),n=t,i=Ee(null);_r(()=>Vo(Hp.default,{...n,target:i}));const s=()=>{e.setIs3dActive(!e.is3dActive)};return(a,o)=>(A(),G("div",{ref_key:"controlElement",ref:i,class:Ie(`${n.className} ${O(il.CLASS_UNSELECTABLE)} ${O(il.CLASS_CONTROL)} ${O(e).is3dActive?"active":""}`)},[P("button",{title:O(r)(n.tipLabel),onClick:s},oe(n.label),9,f4)],2))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/map-controls/map-3d.vue"]]),d4=ge(he({__name:"fullscreen-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01C"},labelActive:{type:String,required:!1,default:"\uE02C"}},setup(t){const e=t;return Vo(GE.default,e),(r,n)=>F("v-if",!0)}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/map-controls/fullscreen-control.vue"]]),p4=ge(he({__name:"zoom-control",props:{className:{type:String,required:!1},zoomInLabel:{type:String,required:!1,default:"\uE032"},zoomOutLabel:{type:String,required:!1,default:"\uE033"}},setup(t){const e=t;return Vo(UE.default,e),(r,n)=>F("v-if",!0)}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/map-controls/zoom-control.vue"]]);class m4 extends BE.default{constructor(r){super(r);ut(this,"ol3dm")}handleZoomToExtent(){this.ol3dm&&this.ol3dm.luxCameraExtentInRadians&&this.ol3dm.is3dEnabled()||super.handleZoomToExtent()}}const g4=ge(he({__name:"zoom-to-extent-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01B"},tipLabel:{type:String,required:!1},extent:{type:Array,required:!0}},setup(t){return Vo(m4,t),(r,n)=>F("v-if",!0)}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/map-controls/zoom-to-extent-control.vue"]]),u1=ge(he({__name:"map-container",props:{v4_standalone:{type:Boolean,required:!1,default:!1}},setup(t){const e=Sn(),r=Ee(null),n=e.createMap(),i=[425152.9429259216,632446599999133e-8,914349.9239510496,6507914867875754e-9];return _r(()=>{r.value&&(new n4(n),a4.bootstrap(),n.setTarget(r.value),window.olMap=n)}),hg("olMap",n),(s,a)=>(A(),G("div",{id:"map-container",ref_key:"mapContainer",ref:r,class:"h-full w-full bg-white relative"},[se(p4),se(g4,{extent:i}),se(d4),se(l4),s.v4_standalone?(A(),Ge(h4,{key:0})):F("v-if",!0),se(c4)],512))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/map/map-container.vue"]]),y4="fr",v4=!0,_4=!1,b4=!1,vt=ps("app",()=>{const t=Ee(y4),e=Ee(v4),r=Ee(_4),n=Ee(b4),i=Ee(),s=Ee(),a=Ee(!1);function o(m){t.value=m}function l(m){e.value=m,m||(n.value=!1,r.value=!1)}function u(m){r.value=m,m&&(n.value=!1)}function f(m){n.value=m}function c(m){s.value=m}function h(m){i.value=m}function d(){a.value=!0}function p(){a.value=!1}return{lang:t,layersOpen:e,myLayersTabOpen:r,themeGridOpen:n,mapId:i,styleEditorOpen:a,remoteLayersOpen:s,setLang:o,setLayersOpen:l,setMyLayersTabOpen:u,setThemeGridOpen:f,setRemoteLayersOpen:c,setMapId:h,openStyleEditorPanel:d,closeStyleEditorPanel:p}},{}),dc={name:"blank",id:0};function qd(){const t=vt(),{mapId:e}=Ue(t),r=Di(),n=ht(),i=$r(),s=de(()=>{var c;if(!e.value){const h=(c=Ht().theme)==null?void 0:c.name;if(h)return en().bg_layer_theme_defaults[h]||l()}return l()});function a(c){const h=r.findBgLayerById(c);o(h||null)}function o(c){if(c){if(c.type==="WMTS"||c.type==="BG WMTS")c.type="BG WMTS";else if(c.type==="BG MVT")console.log(`passed through MVT layer ${c.name}`);else throw new Error(`Only WMTS and MVT BG layers are currently implemented (not ${c.type} for ${c.name})`);i.handleExclusionLayers(c),n.setBgLayer(i.initLayer(c))}else n.setBgLayer(null)}function l(){var c;return((c=f().find(h=>h.is_default))==null?void 0:c.id)||dc.id}function u(){return dc.id}function f(){return en().bg_layers}return{setBgLayer:a,setMapBackground:o,getBgLayersFromConfig:f,getNullId:u,getDefaultSelectedId:l,defaultSelectedBgId:s}}const S4=["title"],c1=ge(he({__name:"background-selector-item",props:{bgTitle:{type:String,default:""},bgName:{type:String,default:""}},setup(t){const{t:e}=Ze(),r=t,n=de(()=>{const s=e(r.bgTitle),a=r.bgTitle.length>0,o=`${e("Background layer:")} ${e(r.bgName)}`;return`${s}${a?" - ":""}${o}`}),i=de(()=>`h-full w-full rounded-sm lux-bg-sel-icon
        lux-bg-sel-${r.bgName}
        bg-${r.bgName}_sm
        md:bg-${r.bgName}
        hd:bg-${r.bgName}_sm_hi
        hd_md:bg-${r.bgName}_hi`);return(s,a)=>(A(),G("button",{title:n.value,class:Ie(i.value)},null,10,S4))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/background-selector/background-selector-item.vue"]]),E4={key:0,class:"flex flex-row-reverse"},f1=ge(he({__name:"background-selector",props:{isOpen:{type:Boolean,default:!1}},setup(t){const{t:e}=Ze(),r=qd(),n=ht(),i=Ht(),{bgLayer:s,is3dMesh:a}=Ue(n),l=Ee(t.isOpen),u=Ee([]),f=de(()=>{var p,m;return(m=(p=s.value)==null?void 0:p.id)!=null?m:r.getNullId()}),c=de(()=>{var p,m;return(m=(p=u.value)==null?void 0:p.find(g=>g.id===f.value))==null?void 0:m.name});et(()=>i.bgLayers,p=>{u.value=en().bg_layers.map(m=>Object.assign({id:m.id},p.find(g=>m.id===g.id),{name:m.icon_id}))},{immediate:!0}),et(()=>n.bgLayer,(p,m)=>{const g=n.layers;m===void 0&&p===null&&(g==null?void 0:g.length)===0&&(r.setBgLayer(r.defaultSelectedBgId.value),p===null&&gu().addNotification(e("Aucune couche n'\xE9tant d\xE9finie pour cette carte, une couche de fond a automatiquement \xE9t\xE9 ajout\xE9e.",{ns:"client"})))});function h(p){r.setBgLayer(p.id),l.value=!1}function d(){l.value=!l.value}return(p,m)=>O(a)?F("v-if",!0):(A(),G("div",E4,[P("div",{class:Ie(["lux-bg-sel border border-black",l.value===!0?"hidden":"block"])},[se(c1,{"aria-expanded":l.value,"bg-title":"Select BG layer","bg-name":c.value,onClick:d},null,8,["aria-expanded","bg-name"])],2),P("div",{class:Ie(l.value===!0?"flex flex-col md:flex-row":"hidden")},[(A(!0),G(Ve,null,Tr(u.value,g=>(A(),G("div",{key:g.id,class:Ie(["lux-bg-sel hover:bg-cyan-600",g.id===f.value?"border-red-500 border-2":"border-black border"])},[se(c1,{"bg-name":g.name,onClick:v=>h(g)},null,8,["bg-name","onClick"])],2))),128))],2)]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/background-selector/background-selector.vue"]]),w4=P("div",{class:"fixed inset-0 bg-gray-900 opacity-40 z-[1050]"},null,-1),O4={class:"bg-white shadow-modal rounded-lg overflow-hidden w-[700px]"},x4={class:"relative flex flex-row justify-center p-4 border-b-[1px]"},M4={class:"text-xl"},T4=[P("span",{"aria-hidden":"true"},"\xD7",-1)],N4={key:0,class:"p-[15px] border-t-[1px]"},C4={class:"flex flex-row justify-end"},h1=ge(he({__name:"modal-dialog",props:{footer:{type:Boolean,default:!0},maxHeight:{type:Boolean,default:!1},title:String},emits:["close"],setup(t){const{t:e}=Ze(),r=Ee();_r(()=>{r.value.focus()});const n=rt(!0);function i(){n.value=!1}return(s,a)=>(A(),Ge(Pg,{to:"body"},[F(" backdrop "),w4,F(" modal "),se(Wl,{appear:"","enter-active-class":"duration-200 ease-out","enter-from-class":"transform opacity-0 -translate-y-60","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-60",onAfterLeave:a[3]||(a[3]=o=>s.$emit("close"))},{default:pi(()=>[n.value?(A(),G("div",{key:0,role:"dialog",ref_key:"modal",ref:r,tabindex:"0",onKeydown:a[2]||(a[2]=mn(pn(o=>i(),["stop"]),["esc"])),class:"fixed inset-x-0 inset-y-8 flex items-start justify-center z-[1100] outline-none"},[P("div",O4,[F(" header (title)"),P("div",x4,[P("h4",M4,oe(t.title),1),P("button",{type:"button",class:"absolute right-2 top-1 text-slate-400 text-[24px]","data-dismiss":"modal","aria-label":"Close",onClick:a[0]||(a[0]=o=>i())},[...T4])]),F(" content slot "),P("div",{class:Ie(["p-[15px] overflow-y-auto",t.maxHeight?"max-h-96":"max-h-full"])},[ng(s.$slots,"content")],2),F(" footer (optional)"),t.footer?(A(),G("div",N4,[P("div",C4,[P("button",{type:"button",class:"lux-btn","data-dismiss":"modal",onClick:a[1]||(a[1]=o=>i())},oe(O(e)("Close",{ns:"client"})),1)])])):F("v-if",!0)])],544)):F("v-if",!0)]),_:3})]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/common/modal-dialog.vue"]]),Hd=ps("metadata",()=>{const t=Ee();function e(n){t.value=n}function r(){t.value=void 0}return{metadataId:t,setMetadataId:e,clearMetadataId:r}},{}),P4=["aria-expanded"],L4={class:"leading-6"},pc=ge(he({__name:"expandable-panel",props:{expanded:{type:Boolean,required:!0},title:{type:String,required:!0}},emits:["togglePanel"],setup(t){return(e,r)=>(A(),G(Ve,null,[P("button",{onClick:r[0]||(r[0]=n=>e.$emit("togglePanel")),class:"group w-full text-left flex px-2 py-1.5 uppercase bg-tertiary","aria-expanded":e.expanded},[P("div",{class:Ie(["grow",e.expanded?"text-white":"text-secondary"])},oe(e.title),3),P("div",L4,[P("div",{class:Ie(["fa fa-sharp fa-solid group-hover:text-white text-primary",e.expanded?"fa-caret-up":"fa-caret-down"])},null,2)])],8,P4),P("div",{class:Ie(e.expanded?"":"hidden")},[ng(e.$slots,"default")],2)],64))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/common/expandable-panel.vue"]]),A4={class:"mb-px",key:"node.id"},I4=["data-cy"],k4=["aria-expanded","data-cy"],D4={class:"grow"},R4={class:"leading-6"},$4={key:1,class:"flex text-tertiary pr-2"},F4=["data-cy"],j4={class:"ml-1 hover:underline"},zd=ge(he({__name:"layer-tree-node",props:{node:{type:Object,required:!0}},emits:["toggleLayer","toggleParent"],setup(t,{emit:e}){const r=t,n=e,{t:i}=Ze(),{setMetadataId:s}=Hd(),a=!!r.node.children,o=r.node.depth===0,l=r.node.depth>=10,u=de(()=>i(r.node.name,{ns:"client"}));function f(h){n("toggleLayer",h)}function c(h){n("toggleParent",h)}return(h,d)=>{const p=hO("layer-tree-node",!0);return a?(A(),G("div",A4,[F("    First level parents"),h.node.depth===1?(A(),G("div",{key:0,"data-cy":`parentLayerLabel-${h.node.id}`},[se(pc,{title:u.value,expanded:h.node.expanded,onTogglePanel:d[0]||(d[0]=m=>c(h.node))},null,8,["title","expanded"])],8,I4)):h.node.depth>1&&!l?(A(),G(Ve,{key:1},[F("    Other parents (with custom panel style)"),P("button",{class:Ie(["w-full text-left flex px-2 py-1.5 pl-2",h.node.expanded?"text-tertiary":"bg-white text-primary"]),"aria-expanded":h.node.expanded,onClick:d[1]||(d[1]=m=>c(h.node)),"data-cy":`parentLayerLabel-${h.node.id}`},[P("div",D4,oe(u.value),1),P("div",R4,[P("div",{class:Ie(["fa-sharp fa-solid",h.node.expanded?"fa-minus":"fa-plus"])},null,2)])],10,k4)],2112)):F("v-if",!0),F("    Children"),l?F("v-if",!0):(A(),G("div",{key:2,class:Ie(["bg-secondary",[{"pl-2":h.node.depth>1},{"lux-collapse":!o},{expanded:!o&&h.node.expanded}]])},[(A(!0),G(Ve,null,Tr(h.node.children,m=>(A(),Ge(p,{key:m.id,node:m,onToggleParent:d[2]||(d[2]=g=>c(g)),onToggleLayer:d[3]||(d[3]=g=>f(g))},null,8,["node"]))),128))],2))])):(A(),G("div",$4,[P("button",{class:"self-start before:text-[.85rem] before:transform before:translate-y-[.1rem] before:inline-block before:content-['\\f129'] fa-solid fa-fw fa-fh fa-info",onClick:d[4]||(d[4]=m=>O(s)(h.node.id))}),P("button",{class:Ie(["w-full text-left",{"font-bold":h.node.checked}]),onClick:d[5]||(d[5]=m=>f(h.node)),"data-cy":`layerLabel-${h.node.id}`},[P("i",{class:Ie(["fa-solid",h.node.checked?"fa-check-square":"fa-square"])},null,2),P("span",j4,oe(u.value),1)],10,F4)]))}}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-tree/layer-tree-node.vue"]]);class V4{toggleNode(e,r,n){var i;return(r==null?void 0:r.id)===e?{...r,[n]:!r[n]}:{...r,children:(i=r.children)==null?void 0:i.map(s=>this.toggleNode(e,s,n))}}updateLayers(e,r){const{id:n}=e;if(e.children)return{...e,children:e.children.map(i=>this.updateLayers(i,r))};{const i=!!(r!=null&&r.find(s=>s.id===n));return{...e,checked:i}}}}const va=new V4;var jr=(t=>(t.WMS="WMS",t.WMTS="WMTS",t))(jr||{});function G4(t,e){var r,n;return t.children&&!e.children||((r=e.children)==null?void 0:r.length)===0?1:e.children&&!t.children||((n=t.children)==null?void 0:n.length)===0?-1:0}function d1(t,e,r=0){const{name:n="",type:i=jr.WMS,children:s}=t,a=`${i}||${e}||${n}`.split("-").join("%2D"),o=ht();return{id:a,name:n,depth:r,children:s==null?void 0:s.sort(G4).map(l=>d1(l,e,r+1)),checked:o.hasLayer(a),expanded:!1}}function U4(t){const e=decodeURIComponent(t),[r,n,i]=e.split("||");return p1({id:e,url:ws.getProxyfiedUrl(n),remoteLayer:{name:i,type:r}})}function p1({id:t,url:e,remoteLayer:r}){const{name:n="",type:i=jr.WMS}=r;return{id:t,name:n,layers:n,url:e,type:i,imageType:Qv.PNG}}class Yd{constructor(e,r=0,n=!1){this.message=e,this.httpStatus=r,this.isCrossOriginRelated=n}}let B4=0;function W4(){return B4++}function q4(t,e,r){return new Promise((n,i)=>{const s=W4(),a={requestId:s,taskName:t,params:r};e===null?window.dispatchEvent(new CustomEvent("ogc-client.request",{detail:a})):e.postMessage(a);const o=({detail:l,data:u})=>{const f=l||u;f.requestId===s&&(e===null?window.removeEventListener("message",o):e.removeEventListener("message",o),"error"in f?i(f.error):n(f.response))};e===null?window.addEventListener("ogc-client.response",o):e.addEventListener("message",o)})}function Kd(t,e,r){const n=typeof WorkerGlobalScope<"u",i=async({detail:s,data:a})=>{const o=s||a;if(o.taskName===t){let l,u;try{l=await r(o.params)}catch(c){u=c}const f={taskName:t,requestId:o.requestId,...l&&{response:l},...u&&{error:u}};n?e.postMessage(f):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:f}))}};n?e.addEventListener("message",i):e.addEventListener("ogc-client.request",i)}let Xd;function H4(){return Xd||(Xd=new Worker(URL.createObjectURL(new Blob([`function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(t,e,r){var n=h;return function(o,i){if(n===v)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=v;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?d:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",d="completed",y={};function m(){}function g(){}function b(){}var S={};S[a]=function(){return this};var E=Object.getPrototypeOf,w=E&&E(E(C([])));w&&w!==r&&o.call(w,a)&&(S=w);var O=b.prototype=m.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(i,a,c,u){var s=l(t[i],t,a);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"===n(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(h).then((function(t){f.value=t,c(f)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}}function k(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function C(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:G}}function G(){return{value:e,done:!0}}return g.prototype=O.constructor=b,b.constructor=g,g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},x(P.prototype),P.prototype[c]=function(){return this},t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(O),s(O,u,"Generator"),O[a]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(o);var i=o.exports;function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(t,e,n){var o="undefined"!=typeof WorkerGlobalScope,a=function(){var a=r(i.mark((function r(a){var u,s,f,l,h,p;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=a.detail,s=a.data,(f=u||s).taskName!==t){r.next=14;break}return r.prev=3,r.next=6,n(f.params);case 6:l=r.sent,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),h=r.t0;case 12:p=c(c({taskName:t,requestId:f.requestId},l&&{response:l}),h&&{error:h}),o?e.postMessage(p):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:p}));case 14:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(t){return a.apply(this,arguments)}}();o?e.addEventListener("message",a):e.addEventListener("ogc-client.request",a)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function v(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t,e,r){return m=y()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&h(o,r.prototype),o},m.apply(null,arguments)}function g(t){var e="function"==typeof Map?new Map:void 0;return g=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return m(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)},g(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),t}var E=function(){function t(e){l(this,t),this.chars=f(e),this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;var r=this.chars,n=this.charCount,o=this.charsToBytes;if(n===e.length)for(var i=0;i<n;++i)o[i]=i;else{for(var a=0,c=0;c<n;++c)o[c]=a,a+=r[c].length;this.multiByteMode=!0}}return S(t,[{key:"isEnd",get:function(){return this.charIndex>=this.charCount}},{key:"_charLength",value:function(t){var e=t.length;return e<2||!this.multiByteMode?e:t.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,"_").length}},{key:"advance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.charIndex=Math.min(this.charCount,this.charIndex+t)}},{key:"consume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.peek(t);return this.advance(t),e}},{key:"consumeMatch",value:function(t){if(!t.sticky)throw new Error('\`regex\` must have a sticky flag ("y")');t.lastIndex=this.charsToBytes[this.charIndex];var e=t.exec(this.string);if(null===e)return"";var r=e[0];return this.advance(this._charLength(r)),r}},{key:"consumeMatchFn",value:function(t){for(var e=this.charIndex;!this.isEnd&&t(this.peek());)this.advance();return this.charIndex>e?this.string.slice(this.charsToBytes[e],this.charsToBytes[this.charIndex]):""}},{key:"consumeString",value:function(t){if(this.consumeStringFast(t))return t;if(!this.multiByteMode)return"";var e=t.length,r=this._charLength(t);return r!==e&&t===this.peek(r)?(this.advance(r),t):""}},{key:"consumeStringFast",value:function(t){if(this.peek()===t[0]){var e=t.length;if(1===e)return this.advance(),t;if(this.peek(e)===t)return this.advance(e),t}return""}},{key:"consumeUntilMatch",value:function(t){if(!t.global)throw new Error('\`regex\` must have a global flag ("g")');var e=this.charsToBytes[this.charIndex];t.lastIndex=e;var r=t.exec(this.string);if(null===r||r.index===e)return"";var n=this.string.slice(e,r.index);return this.advance(this._charLength(n)),n}},{key:"consumeUntilString",value:function(t){var e=this.charIndex,r=this.charsToBytes,n=this.string,o=r[e],i=n.indexOf(t,o);if(i<=0)return"";var a=n.slice(o,i);return this.advance(this._charLength(a)),a}},{key:"peek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.charIndex>=this.charCount)return"";if(1===t)return this.chars[this.charIndex];var e=this.charsToBytes,r=this.charIndex;return this.string.slice(e[r],e[r+t])}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.charIndex=t>=0?Math.min(this.charCount,t):Math.max(0,this.charIndex+t)}}]),t}(),w=E,O={},x=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function P(t){if(k(t))return!0;var e=T(t);return 45===e||46===e||e>=48&&e<=57||183===e||e>=768&&e<=879||e>=8255&&e<=8256}function k(t){var e=T(t);return 58===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function R(t){var e=T(t);return 9===e||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}function T(t){return t.codePointAt(0)||-1}O.predefinedEntities=x,O.isNameChar=P,O.isNameStartChar=k,O.isNotXmlChar=function(t){return!R(t)},O.isReferenceChar=function(t){return"#"===t||P(t)},O.isWhitespace=function(t){var e=T(t);return 32===e||9===e||10===e||13===e},O.isXmlChar=R;var j=function(){function t(){l(this,t),this.parent=null}return S(t,[{key:"document",get:function(){return this.parent?this.parent.document:null}},{key:"isRootNode",get:function(){return!!this.parent&&this.parent===this.document}},{key:"preserveWhitespace",get:function(){return Boolean(this.parent&&this.parent.preserveWhitespace)}},{key:"type",get:function(){return""}},{key:"toJSON",value:function(){var t={type:this.type};return this.isRootNode&&(t.isRootNode=!0),this.preserveWhitespace&&(t.preserveWhitespace=!0),t}}]),t}();j.TYPE_CDATA="cdata",j.TYPE_COMMENT="comment",j.TYPE_DOCUMENT="document",j.TYPE_ELEMENT="element",j.TYPE_PROCESSING_INSTRUCTION="pi",j.TYPE_TEXT="text";var C=j;function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var N=C,A=function(t){p(r,N);var e=G(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).text=n,t}return S(r,[{key:"type",get:function(){return N.TYPE_TEXT}},{key:"toJSON",value:function(){return Object.assign(N.prototype.toJSON.call(this),{text:this.text})}}]),r}(),F=A;function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var L=C,M=F,B=function(t){p(r,M);var e=I(r);function r(){return l(this,r),e.apply(this,arguments)}return S(r,[{key:"type",get:function(){return L.TYPE_CDATA}}]),r}(),_=B;function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var D=C,W=function(t){p(r,D);var e=U(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).content=n,t}return S(r,[{key:"type",get:function(){return D.TYPE_COMMENT}},{key:"toJSON",value:function(){return Object.assign(D.prototype.toJSON.call(this),{content:this.content})}}]),r}(),X=W;function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var q=C,J=function(t){p(r,q);var e=Y(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return l(this,r),(n=e.call(this)).name=t,n.attributes=o,n.children=i,n}return S(r,[{key:"isEmpty",get:function(){return 0===this.children.length}},{key:"preserveWhitespace",get:function(){for(var t=this;t instanceof r;){if("xml:space"in t.attributes)return"preserve"===t.attributes["xml:space"];t=t.parent}return!1}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return q.TYPE_ELEMENT}},{key:"toJSON",value:function(){return Object.assign(q.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),V=J;function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var K=V,z=C,H=function(t){p(r,z);var e=$(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(this,r),(t=e.call(this)).children=n,t}return S(r,[{key:"document",get:function(){return this}},{key:"root",get:function(){return this.children.find((function(t){return t instanceof K}))||null}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return z.TYPE_DOCUMENT}},{key:"toJSON",value:function(){return Object.assign(z.prototype.toJSON.call(this),{children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),Q=H;function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var tt=C,et=function(t){p(r,tt);var e=Z(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(this,r),(n=e.call(this)).name=t,n.content=o,n}return S(r,[{key:"type",get:function(){return tt.TYPE_PROCESSING_INSTRUCTION}},{key:"toJSON",value:function(){return Object.assign(tt.prototype.toJSON.call(this),{name:this.name,content:this.content})}}]),r}(),rt=et;function nt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=w,at=O,ct=_,ut=X,st=Q,ft=V,lt=rt,ht=F,pt=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(l(this,t),this.document=new st,this.currentNode=this.document,this.options=r,this.scanner=new it(vt(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}return S(t,[{key:"addNode",value:function(t){t.parent=this.currentNode,this.currentNode.children.push(t)}},{key:"addText",value:function(t){var e=this.currentNode.children;if(e.length>0){var r=e[e.length-1];if(r instanceof ht)return void(r.text+=t)}this.addNode(new ht(t))}},{key:"consumeAttributeValue",value:function(){var t,e=this.scanner,r=e.peek();if('"'!==r&&"'"!==r)return!1;e.advance();var n=!1,o="",i='"'===r?new RegExp('[^"&<]+',"y"):new RegExp("[^'&<]+","y");t:for(;!e.isEnd;){switch((t=e.consumeMatch(i))&&(this.validateChars(t),o+=t.replace(/[\\t\\r\\n]/g," ")),e.peek()){case r:n=!0;break t;case"&":o+=this.consumeReference();continue;case"<":this.error("Unescaped \`<\` is not allowed in an attribute value");break;case"":this.error("Unclosed attribute")}}return n||this.error("Unclosed attribute"),e.advance(),o}},{key:"consumeCdataSection",value:function(){var t=this.scanner;if(!t.consumeStringFast("<![CDATA["))return!1;var e=t.consumeUntilString("]]>");return this.validateChars(e),t.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new ct(e)):this.addText(e),!0}},{key:"consumeCharData",value:function(){var t=this.scanner,e=t.consumeUntilMatch(/<|&|]]>/g);return!!e&&(this.validateChars(e),"]"===t.peek()&&"]]>"===t.peek(3)&&this.error("Element content may not contain the CDATA section close delimiter \`]]>\`"),this.addText(e),!0)}},{key:"consumeComment",value:function(){var t=this.scanner;if(!t.consumeStringFast("\\x3c!--"))return!1;var e=t.consumeUntilString("--");return this.validateChars(e),t.consumeStringFast("--\\x3e")||("--"===t.peek(2)?this.error("The string \`--\` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new ut(e.trim())),!0}},{key:"consumeContentReference",value:function(){var t=this.consumeReference();return!!t&&(this.addText(t),!0)}},{key:"consumeDoctypeDeclaration",value:function(){var t=this.scanner;return!(!t.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace())&&(t.consumeMatch(new RegExp("[^[>]+","y")),t.consumeMatch(new RegExp("\\\\[[\\\\s\\\\S]+?\\\\][\\\\x20\\\\t\\\\r\\\\n]*>","y"))||t.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}},{key:"consumeElement",value:function(){var t=this.scanner,e=t.charIndex;if("<"!==t.peek())return!1;t.advance();var r=this.consumeName();if(!r)return t.reset(e),!1;for(var n=Object.create(null);this.consumeWhitespace();){var o=this.consumeName();if(o){var i=this.consumeEqual()&&this.consumeAttributeValue();!1===i&&this.error("Attribute value expected"),o in n&&this.error("Duplicate attribute: ".concat(o)),"xml:space"===o&&"default"!==i&&"preserve"!==i&&this.error('Value of the \`xml:space\` attribute must be "default" or "preserve"'),n[o]=i}}if(this.options.sortAttributes){for(var a=Object.keys(n).sort(),c=Object.create(null),u=0;u<a.length;++u){var s=a[u];c[s]=n[s]}n=c}var f=Boolean(t.consumeStringFast("/>")),l=new ft(r,n);if(l.parent=this.currentNode,!f){for(t.consumeStringFast(">")||this.error("Unclosed start tag for element \`".concat(r,"\`")),this.currentNode=l,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();var h,p=t.charIndex;t.consumeStringFast("</")&&(h=this.consumeName())&&h===r||(t.reset(p),this.error("Missing end tag for element ".concat(r))),this.consumeWhitespace(),t.consumeStringFast(">")||this.error("Unclosed end tag for element ".concat(r)),this.currentNode=l.parent}return this.addNode(l),!0}},{key:"consumeEqual",value:function(){return this.consumeWhitespace(),!!this.scanner.consumeStringFast("=")&&(this.consumeWhitespace(),!0)}},{key:"consumeMisc",value:function(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}},{key:"consumeName",value:function(){return at.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(at.isNameChar):""}},{key:"consumeProcessingInstruction",value:function(){var t=this.scanner,e=t.charIndex;if(!t.consumeStringFast("<?"))return!1;var r=this.consumeName();if(r?"xml"===r.toLowerCase()&&(t.reset(e),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(t.consumeStringFast("?>"))return this.addNode(new lt(r)),!0;this.error("Whitespace is required after a processing instruction name")}var n=t.consumeUntilString("?>");return this.validateChars(n),t.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new lt(r,n)),!0}},{key:"consumeProlog",value:function(){var t=this.scanner,e=t.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return e<t.charIndex}},{key:"consumeReference",value:function(){var t=this.scanner;if("&"!==t.peek())return!1;t.advance();var e,r=t.consumeMatchFn(at.isReferenceChar);if(";"!==t.consume()&&this.error("Unterminated reference (a reference must end with \`;\`)"),"#"===r[0]){var o="x"===r[1]?parseInt(r.slice(2),16):parseInt(r.slice(1),10);isNaN(o)&&this.error("Invalid character reference"),e=String.fromCodePoint(o),at.isXmlChar(e)||this.error("Character reference resolves to an invalid character")}else if(void 0===(e=at.predefinedEntities[r])){var i=this.options,a=i.ignoreUndefinedEntities,c=i.resolveUndefinedEntity,u="&".concat(r,";");if(c){var s=c(u);if(null!=s){var f=n(s);if("string"!==f)throw new TypeError("\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ".concat(f));return s}}if(a)return u;t.reset(-u.length),this.error("Named entity isn't defined: ".concat(u))}return e}},{key:"consumeSystemLiteral",value:function(){var t=this.scanner,e=t.consumeStringFast('"')||t.consumeStringFast("'");if(!e)return!1;var r=t.consumeUntilString(e);return this.validateChars(r),t.consumeStringFast(e)||this.error("Missing end quote"),r}},{key:"consumeWhitespace",value:function(){return Boolean(this.scanner.consumeMatchFn(at.isWhitespace))}},{key:"consumeXmlDeclaration",value:function(){var t=this.scanner;if(!t.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");var e=Boolean(t.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(!1===e?this.error("XML version is missing or invalid"):/^1\\.[0-9]+$/.test(e)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(t.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();var r=Boolean(t.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();r&&("yes"!==r&&"no"!==r&&this.error('Only "yes" and "no" are permitted as values of \`standalone\`'),this.consumeWhitespace())}return t.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}},{key:"error",value:function(t){for(var e=this.scanner,r=e.charIndex,n=e.string,o=1,i="",a=1,c=0;c<r;++c){var u=n[c];"\\n"===u?(o=1,i="",a+=1):(o+=1,i+=u)}var s=n.indexOf("\\n",r),f=0;(i+=-1===s?n.slice(r):n.slice(r,s)).length>50&&(o<40?i=i.slice(0,50):(f=o-20,i=i.slice(f,o+30)));var l=new Error("".concat(t," (line ").concat(a,", column ").concat(o,")\\n")+"  ".concat(i,"\\n")+" ".repeat(o-f+1)+"^\\n");throw Object.assign(l,{column:o,excerpt:i,line:a,pos:r}),l}},{key:"validateChars",value:function(t){var e,r=0,n=nt(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;at.isNotXmlChar(o)&&(this.scanner.reset(-(f(t).length-r)),this.error("Invalid character")),r+=1}}catch(t){n.e(t)}finally{n.f()}}}]),t}();function vt(t){return"\\ufeff"===t[0]&&(t=t.slice(1)),t.replace(/\\r\\n?/g,"\\n")}var dt=pt,yt=_,mt=X,gt=Q,bt=V,St=C,Et=rt,wt=F;function Ot(t,e){return new dt(t,e).document}Ot.XmlCdata=yt,Ot.XmlComment=mt,Ot.XmlDocument=gt,Ot.XmlElement=bt,Ot.XmlNode=St,Ot.XmlProcessingInstruction=Et,Ot.XmlText=wt;var xt=Ot;function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var kt=function(t){p(r,g(Error));var e=Pt(r);function r(t){return l(this,r),e.call(this,t)}return r}();function Rt(t){return t.children[0]}function Tt(t){var e=t.indexOf(":");return e>-1?t.substr(e+1):t}function jt(t){return t.name||""}function Ct(t,e,r){var n=Tt(e);return t&&Array.isArray(t.children)?t.children.reduce((function t(e,o){return Tt(jt(o))===n&&e.push(o),r&&Array.isArray(o.children)?[].concat(f(e),f(o.children.reduce(t,[]))):e}),[]):[]}function Gt(t,e,r){return Ct(t,e,r)[0]||null}function Nt(t){return t&&Array.isArray(t.children)?f(t.children.filter((function(t){return"XmlElement"===t.constructor.name}))):[]}function At(t){var e=t&&Array.isArray(t.children)?t.children.find((function(t){return"text"===t.type})):null;return e?e.text:""}function Ft(t,e){return t&&t.attributes[e]||""}var It=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(this,t),this.message=e,this.httpStatus=r,this.isCrossOriginRelated=n};function Lt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bt=["utf-8","utf-16","iso-8859-1"];function _t(t,e){var r,n=e?function(t){var e=/charset=([^;]+)/.exec(t);return e?e[1]:null}(e):null,o=Lt(n?[n].concat(Bt):Bt);try{for(o.s();!(r=o.n()).done;){var i=r.value;try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch(t){}}}catch(t){o.e(t)}finally{o.f()}return console.warn("XML document encoding could not be determined, falling back to ".concat("utf-8",".")),new TextDecoder("utf-8").decode(t)}function Ut(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wt=new Map;function Xt(t){return function(t){if(Wt.has(t))return Wt.get(t);var e=fetch(t);return e.finally((function(){return Wt.delete(t)})),Wt.set(t,e),e}(t).catch((function(){return fetch(t,{method:"HEAD",mode:"no-cors"}).catch((function(t){throw new It("Fetching the document failed either due to network errors or unreachable host, error is: ".concat(t.message),0,!1)})).then((function(){throw new It("The document could not be fetched due to CORS limitations",0,!0)}))})).then(function(){var t=r(i.mark((function t(e){var r,n,o;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=5;break}return t.next=3,e.text();case 3:throw r=t.sent,new It("Received an error with code ".concat(e.status,": ").concat(r),e.status,!1);case 5:return t.next=7,e.arrayBuffer();case 7:return n=t.sent,o=e.headers.get("Content-Type"),t.abrupt("return",_t(n,o));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return function(t){var e=null;try{e=xt(t)}catch(t){throw new kt(t.message)}return e}(t)}))}function Yt(t,e){var r=t.match(/(https?%3A%2F%2F[^/]+)$/);if(r){var n=r[1],o=Yt(decodeURIComponent(n),e);return t.replace(n,encodeURIComponent(o))}var i,a=new URL(t),c=Object.keys(e),u=c.map((function(t){return t.toLowerCase()})),s=[],f=Ut(a.searchParams.keys());try{for(f.s();!(i=f.n()).done;){var l=i.value;u.indexOf(l.toLowerCase())>-1&&s.push(l)}}catch(t){f.e(t)}finally{f.f()}return s.map((function(t){return a.searchParams.delete(t)})),c.forEach((function(t){return a.searchParams.set(t,!0===e[t]?"":e[t])})),a.toString()}var qt=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function Jt(t){return qt.indexOf(Vt(t))>-1}function Vt(t){if(/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())){var e=/([0-9]+)$/.exec(t)[1];return"EPSG:".concat(e)}return t}function $t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?$t(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(t){return Rt(t).attributes.version}function Ht(t){var e=zt(t);return Ct(Gt(Rt(t),"Capability"),"Layer").map((function(t){return Qt(t,e)}))}function Qt(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a="1.3.0"===r?"CRS":"SRS",c=Ct(e,a).map(At),u=c.length>0?c:n,s=Ct(e,"Style").map(Zt),f=s.length>0?s:o;function l(t){return(Jt(Ft(t,a))&&"1.3.0"===r?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map((function(e){return Ft(t,e)}))}var h=Gt(e,"Attribution"),p=null!==h?te(h):i,v=Ct(e,"Layer").map((function(t){return Qt(t,r,u,f,p)}));return Kt({name:At(Gt(e,"Name")),title:At(Gt(e,"Title")),abstract:At(Gt(e,"Abstract")),availableCrs:u,styles:f,attribution:p,boundingBoxes:Ct(e,"BoundingBox").reduce((function(e,r){return Kt(Kt({},e),{},t({},Ft(r,a),l(r)))}),{})},v.length&&{children:v})}function Zt(t){var e=Ft(Gt(Gt(t,"LegendURL"),"OnlineResource"),"xlink:href");return Kt({name:At(Gt(t,"Name")),title:At(Gt(t,"Title"))},e&&{legendUrl:e})}function te(t){var e=Ft(Gt(Gt(t,"LogoURL"),"OnlineResource"),"xlink:href"),r=Ft(Gt(t,"OnlineResource"),"xlink:href"),n=At(Gt(t,"Title"));return Kt(Kt(Kt({},n&&{title:n}),r&&{url:r}),e&&{logoUrl:e})}function ee(t){return Rt(t).attributes.version}function re(t){var e;if(ee(t).startsWith("1.0")){var r=Gt(Gt(Gt(Rt(t),"Capability"),"Request"),"GetFeature");e=Nt(Gt(r,"ResultFormat")).map(jt)}else{var n=Ct(Gt(Rt(t),"OperationsMetadata"),"Operation").find((function(t){return"GetFeature"===Ft(t,"name")})),o=Ct(n,"Parameter").find((function(t){return"outputFormat"===Ft(t,"name")}));e=Ct(o,"Value",!0).map(At)}return e}function ne(t){var e=ee(t),r=re(t);return Ct(Gt(Rt(t),"FeatureTypeList"),"FeatureType").map((function(t){return function(t,e,r){var n=e.startsWith("2.")?"CRS":"SRS",o=e.startsWith("1.0")?"SRS":"Default".concat(n);function i(){var e=Gt(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map((function(t){return Ft(e,t)})).map(parseFloat)}function a(){var e=Gt(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map((function(t){return Gt(e,t)})).map((function(t){return At(t).split(" ")})).reduce((function(t,e){return[].concat(f(t),f(e))})).map(parseFloat)}var c=e.startsWith("1.0")?[]:Ct(t,"Other".concat(n)).map(At).map(Vt),u=e.startsWith("1.0")?[]:Ct(Gt(t,"OutputFormats"),"Format").map(At);return{name:At(Gt(t,"Name")),title:At(Gt(t,"Title")),abstract:At(Gt(t,"Abstract")),defaultCrs:Vt(At(Gt(t,o))),otherCrs:c,outputFormats:u.length>0?u:r,latLonBoundingBox:e.startsWith("1.0")?i():a()}}(t,e,r)}))}function oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?oe(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,r,n){var o,i=Rt(e);if(n.startsWith("2.0"))o=Ct(i,"member").map((function(t){return Nt(t)[0]}));else{var a=Gt(i,"featureMembers");o=a?Nt(a):Ct(i,"featureMember").map((function(t){return Nt(t)[0]}))}var c="1.0.0"===n?"fid":"gml:id";function u(e){return Nt(e).filter((function(t){return Tt(jt(t))in r.properties})).reduce((function(e,n){var o=Tt(jt(n));return ie(ie({},e),{},t({},o,function(t,e){switch(r.properties[t]){case"integer":return parseInt(e);case"float":return parseFloat(e);case"boolean":return"true"===e;default:return e}}(o,At(n))))}),{})}return o.map((function(t){return{id:Ft(t,c),properties:u(t)}}))}function ce(e,r,n,o,i,a,c,u,s,f){var l="2.0.0"===r?"COUNT":"MAXFEATURES",h=t({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:r},"2.0.0"===r?"TYPENAMES":"TYPENAME",n);if(void 0!==o&&(h.OUTPUTFORMAT=o),void 0!==a&&(h.PROPERTYNAME=a.join(",")),c?(h.RESULTTYPE="hits",h[l]="1"):void 0!==i&&(h[l]=i.toString(10)),u&&(h.SRSNAME=u),s){var p=s.join(",");h.BBOX=f?"".concat(p,",").concat(f):p}return Yt(e,h)}u("parseWmsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,r=Gt(Rt(e),"Service"),n=Ct(Gt(r,"KeywordList"),"Keyword").map(At).filter((function(t,e,r){return r.indexOf(t)===e})),{title:At(Gt(r,"Title")),name:At(Gt(r,"Name")),abstract:At(Gt(r,"Abstract")),fees:At(Gt(r,"Fees")),constraints:At(Gt(r,"AccessConstraints")),keywords:n}),layers:Ht(t),version:zt(t)};var e,r,n}))})),u("parseWfsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,n=ee(e),o=n.startsWith("1.0")?"Service":"ServiceIdentification",i=n.startsWith("1.0")?"Name":"ServiceType",a=Gt(Rt(e),o),r=n.startsWith("1.0")?At(Gt(a,"Keywords")).split(",").map((function(t){return t.trim()})):Ct(Gt(a,"Keywords"),"Keyword").map(At),{title:At(Gt(a,"Title")),name:At(Gt(a,i)),abstract:At(Gt(a,"Abstract")),fees:At(Gt(a,"Fees")),constraints:At(Gt(a,"AccessConstraints")),keywords:r,outputFormats:re(e)}),featureTypes:ne(t),version:ee(t)};var e,r,n,o,i,a}))})),u("queryWfsFeatureTypeDetails",self,(function(t){var e=t.url,r=t.serviceVersion,n=t.featureTypeFull;return Xt(ce(e,r,n.name,void 0,void 0,Object.keys(n.properties))).then((function(t){return{props:(e=ae(t,n,r),e.reduce((function(t,e){var r=function(r){var n=e.properties[r];r in t||(t[r]={uniqueValues:[]});var o=t[r].uniqueValues.find((function(t){return t.value===n}));o?o.count++:t[r].uniqueValues.push({value:n,count:1})};for(var n in e.properties)r(n);return t}),{}))};var e}))}));
`],{type:"application/javascript"})),{type:"module"})),Xd}function z4(t){return q4("parseWmsCapabilities",H4(),{url:t})}const Fi="";class Y4{constructor(e){this.chars=[...e],this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;let{chars:r,charCount:n,charsToBytes:i}=this;if(n===e.length)for(let s=0;s<n;++s)i[s]=s;else{for(let s=0,a=0;a<n;++a)i[a]=s,s+=r[a].length;this.multiByteMode=!0}}get isEnd(){return this.charIndex>=this.charCount}_charLength(e){let{length:r}=e;return r<2||!this.multiByteMode?r:e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}advance(e=1){this.charIndex=Math.min(this.charCount,this.charIndex+e)}consume(e=1){let r=this.peek(e);return this.advance(e),r}consumeMatch(e){if(!e.sticky)throw new Error('`regex` must have a sticky flag ("y")');e.lastIndex=this.charsToBytes[this.charIndex];let r=e.exec(this.string);if(r===null)return Fi;let n=r[0];return this.advance(this._charLength(n)),n}consumeMatchFn(e){let r=this.charIndex;for(;!this.isEnd&&e(this.peek());)this.advance();return this.charIndex>r?this.string.slice(this.charsToBytes[r],this.charsToBytes[this.charIndex]):Fi}consumeString(e){if(this.consumeStringFast(e))return e;if(!this.multiByteMode)return Fi;let{length:r}=e,n=this._charLength(e);return n!==r&&e===this.peek(n)?(this.advance(n),e):Fi}consumeStringFast(e){if(this.peek()===e[0]){let{length:r}=e;if(r===1)return this.advance(),e;if(this.peek(r)===e)return this.advance(r),e}return Fi}consumeUntilMatch(e){if(!e.global)throw new Error('`regex` must have a global flag ("g")');let r=this.charsToBytes[this.charIndex];e.lastIndex=r;let n=e.exec(this.string);if(n===null||n.index===r)return Fi;let i=this.string.slice(r,n.index);return this.advance(this._charLength(i)),i}consumeUntilString(e){let{charIndex:r,charsToBytes:n,string:i}=this,s=n[r],a=i.indexOf(e,s);if(a<=0)return Fi;let o=i.slice(s,a);return this.advance(this._charLength(o)),o}peek(e=1){if(this.charIndex>=this.charCount)return Fi;if(e===1)return this.chars[this.charIndex];let{charsToBytes:r,charIndex:n}=this;return this.string.slice(r[n],r[n+e])}reset(e=0){this.charIndex=e>=0?Math.min(this.charCount,e):Math.max(0,this.charIndex+e)}}var K4=Y4,ji={};const X4=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));ji.predefinedEntities=X4;function m1(t){if(g1(t))return!0;let e=mc(t);return e===45||e===46||e>=48&&e<=57||e===183||e>=768&&e<=879||e>=8255&&e<=8256}ji.isNameChar=m1;function g1(t){let e=mc(t);return e===58||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}ji.isNameStartChar=g1;function Z4(t){return!y1(t)}ji.isNotXmlChar=Z4;function J4(t){return t==="#"||m1(t)}ji.isReferenceChar=J4;function Q4(t){let e=mc(t);return e===32||e===9||e===10||e===13}ji.isWhitespace=Q4;function y1(t){let e=mc(t);return e===9||e===10||e===13||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}ji.isXmlChar=y1;function mc(t){return t.codePointAt(0)||-1}class xs{constructor(){this.parent=null}get document(){return this.parent?this.parent.document:null}get isRootNode(){return this.parent?this.parent===this.document:!1}get preserveWhitespace(){return Boolean(this.parent&&this.parent.preserveWhitespace)}get type(){return""}toJSON(){let e={type:this.type};return this.isRootNode&&(e.isRootNode=!0),this.preserveWhitespace&&(e.preserveWhitespace=!0),e}}xs.TYPE_CDATA="cdata",xs.TYPE_COMMENT="comment",xs.TYPE_DOCUMENT="document",xs.TYPE_ELEMENT="element",xs.TYPE_PROCESSING_INSTRUCTION="pi",xs.TYPE_TEXT="text";var Ms=xs;const Zd=Ms;class e6 extends Zd{constructor(e=""){super(),this.text=e}get type(){return Zd.TYPE_TEXT}toJSON(){return Object.assign(Zd.prototype.toJSON.call(this),{text:this.text})}}var Jd=e6;const t6=Ms,r6=Jd;class n6 extends r6{get type(){return t6.TYPE_CDATA}}var v1=n6;const Qd=Ms;class i6 extends Qd{constructor(e=""){super(),this.content=e}get type(){return Qd.TYPE_COMMENT}toJSON(){return Object.assign(Qd.prototype.toJSON.call(this),{content:this.content})}}var _1=i6;const ep=Ms;class tp extends ep{constructor(e,r=Object.create(null),n=[]){super(),this.name=e,this.attributes=r,this.children=n}get isEmpty(){return this.children.length===0}get preserveWhitespace(){let e=this;for(;e instanceof tp;){if("xml:space"in e.attributes)return e.attributes["xml:space"]==="preserve";e=e.parent}return!1}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return ep.TYPE_ELEMENT}toJSON(){return Object.assign(ep.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(e=>e.toJSON())})}}var rp=tp;const s6=rp,np=Ms;class a6 extends np{constructor(e=[]){super(),this.children=e}get document(){return this}get root(){return this.children.find(e=>e instanceof s6)||null}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return np.TYPE_DOCUMENT}toJSON(){return Object.assign(np.prototype.toJSON.call(this),{children:this.children.map(e=>e.toJSON())})}}var b1=a6;const ip=Ms;class o6 extends ip{constructor(e,r=""){super(),this.name=e,this.content=r}get type(){return ip.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(ip.prototype.toJSON.call(this),{name:this.name,content:this.content})}}var S1=o6;const l6=K4,Ts=ji,u6=v1,c6=_1,f6=b1,h6=rp,E1=S1,w1=Jd,sp="";class d6{constructor(e,r={}){for(this.document=new f6,this.currentNode=this.document,this.options=r,this.scanner=new l6(m6(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}addNode(e){e.parent=this.currentNode,this.currentNode.children.push(e)}addText(e){let{children:r}=this.currentNode;if(r.length>0){let n=r[r.length-1];if(n instanceof w1){n.text+=e;return}}this.addNode(new w1(e))}consumeAttributeValue(){let{scanner:e}=this,r=e.peek();if(r!=='"'&&r!=="'")return!1;e.advance();let n,i=!1,s=sp,a=r==='"'?/[^"&<]+/y:/[^'&<]+/y;e:for(;!e.isEnd;)switch(n=e.consumeMatch(a),n&&(this.validateChars(n),s+=n.replace(/[\t\r\n]/g," ")),e.peek()){case r:i=!0;break e;case"&":s+=this.consumeReference();continue;case"<":this.error("Unescaped `<` is not allowed in an attribute value");break;case sp:this.error("Unclosed attribute");break}return i||this.error("Unclosed attribute"),e.advance(),s}consumeCdataSection(){let{scanner:e}=this;if(!e.consumeStringFast("<![CDATA["))return!1;let r=e.consumeUntilString("]]>");return this.validateChars(r),e.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new u6(r)):this.addText(r),!0}consumeCharData(){let{scanner:e}=this,r=e.consumeUntilMatch(/<|&|]]>/g);return r?(this.validateChars(r),e.peek()==="]"&&e.peek(3)==="]]>"&&this.error("Element content may not contain the CDATA section close delimiter `]]>`"),this.addText(r),!0):!1}consumeComment(){let{scanner:e}=this;if(!e.consumeStringFast("<!--"))return!1;let r=e.consumeUntilString("--");return this.validateChars(r),e.consumeStringFast("-->")||(e.peek(2)==="--"?this.error("The string `--` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new c6(r.trim())),!0}consumeContentReference(){let e=this.consumeReference();return e?(this.addText(e),!0):!1}consumeDoctypeDeclaration(){let{scanner:e}=this;return!e.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace()?!1:(e.consumeMatch(/[^[>]+/y),e.consumeMatch(/\[[\s\S]+?\][\x20\t\r\n]*>/y)||e.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}consumeElement(){let{scanner:e}=this,r=e.charIndex;if(e.peek()!=="<")return!1;e.advance();let n=this.consumeName();if(!n)return e.reset(r),!1;let i=Object.create(null);for(;this.consumeWhitespace();){let o=this.consumeName();if(!o)continue;let l=this.consumeEqual()&&this.consumeAttributeValue();l===!1&&this.error("Attribute value expected"),o in i&&this.error(`Duplicate attribute: ${o}`),o==="xml:space"&&l!=="default"&&l!=="preserve"&&this.error('Value of the `xml:space` attribute must be "default" or "preserve"'),i[o]=l}if(this.options.sortAttributes){let o=Object.keys(i).sort(),l=Object.create(null);for(let u=0;u<o.length;++u){let f=o[u];l[f]=i[f]}i=l}let s=Boolean(e.consumeStringFast("/>")),a=new h6(n,i);if(a.parent=this.currentNode,!s){for(e.consumeStringFast(">")||this.error(`Unclosed start tag for element \`${n}\``),this.currentNode=a,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();let o=e.charIndex,l;(!e.consumeStringFast("</")||!(l=this.consumeName())||l!==n)&&(e.reset(o),this.error(`Missing end tag for element ${n}`)),this.consumeWhitespace(),e.consumeStringFast(">")||this.error(`Unclosed end tag for element ${n}`),this.currentNode=a.parent}return this.addNode(a),!0}consumeEqual(){return this.consumeWhitespace(),this.scanner.consumeStringFast("=")?(this.consumeWhitespace(),!0):!1}consumeMisc(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}consumeName(){return Ts.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(Ts.isNameChar):sp}consumeProcessingInstruction(){let{scanner:e}=this,r=e.charIndex;if(!e.consumeStringFast("<?"))return!1;let n=this.consumeName();if(n?n.toLowerCase()==="xml"&&(e.reset(r),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(e.consumeStringFast("?>"))return this.addNode(new E1(n)),!0;this.error("Whitespace is required after a processing instruction name")}let i=e.consumeUntilString("?>");return this.validateChars(i),e.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new E1(n,i)),!0}consumeProlog(){let{scanner:e}=this,r=e.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return r<e.charIndex}consumeReference(){let{scanner:e}=this;if(e.peek()!=="&")return!1;e.advance();let r=e.consumeMatchFn(Ts.isReferenceChar);e.consume()!==";"&&this.error("Unterminated reference (a reference must end with `;`)");let n;if(r[0]==="#"){let i=r[1]==="x"?parseInt(r.slice(2),16):parseInt(r.slice(1),10);isNaN(i)&&this.error("Invalid character reference"),n=String.fromCodePoint(i),Ts.isXmlChar(n)||this.error("Character reference resolves to an invalid character")}else if(n=Ts.predefinedEntities[r],n===void 0){let{ignoreUndefinedEntities:i,resolveUndefinedEntity:s}=this.options,a=`&${r};`;if(s){let o=s(a);if(o!=null){let l=typeof o;if(l!=="string")throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${l}`);return o}}if(i)return a;e.reset(-a.length),this.error(`Named entity isn't defined: ${a}`)}return n}consumeSystemLiteral(){let{scanner:e}=this,r=e.consumeStringFast('"')||e.consumeStringFast("'");if(!r)return!1;let n=e.consumeUntilString(r);return this.validateChars(n),e.consumeStringFast(r)||this.error("Missing end quote"),n}consumeWhitespace(){return Boolean(this.scanner.consumeMatchFn(Ts.isWhitespace))}consumeXmlDeclaration(){let{scanner:e}=this;if(!e.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");let r=Boolean(e.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(r===!1?this.error("XML version is missing or invalid"):/^1\.[0-9]+$/.test(r)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(e.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();let i=Boolean(e.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();i&&(i!=="yes"&&i!=="no"&&this.error('Only "yes" and "no" are permitted as values of `standalone`'),this.consumeWhitespace())}return e.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}error(e){let{charIndex:r,string:n}=this.scanner,i=1,s="",a=1;for(let f=0;f<r;++f){let c=n[f];c===`
`?(i=1,s="",a+=1):(i+=1,s+=c)}let o=n.indexOf(`
`,r);s+=o===-1?n.slice(r):n.slice(r,o);let l=0;s.length>50&&(i<40?s=s.slice(0,50):(l=i-20,s=s.slice(l,i+30)));let u=new Error(`${e} (line ${a}, column ${i})
  ${s}
`+" ".repeat(i-l+1)+`^
`);throw Object.assign(u,{column:i,excerpt:s,line:a,pos:r}),u}validateChars(e){let r=0;for(let n of e)Ts.isNotXmlChar(n)&&(this.scanner.reset(-([...e].length-r)),this.error("Invalid character")),r+=1}}var p6=d6;function m6(t){return t[0]==="\uFEFF"&&(t=t.slice(1)),t.replace(/\r\n?/g,`
`)}const g6=p6,y6=v1,v6=_1,_6=b1,b6=rp,S6=Ms,E6=S1,w6=Jd;function Vi(t,e){return new g6(t,e).document}Vi.XmlCdata=y6,Vi.XmlComment=v6,Vi.XmlDocument=_6,Vi.XmlElement=b6,Vi.XmlNode=S6,Vi.XmlProcessingInstruction=E6,Vi.XmlText=w6;var O6=Vi;class x6 extends Error{constructor(e){super(e)}}function M6(t){let e=null;try{e=O6(t)}catch(r){throw new x6(r.message)}return e}function Zn(t){return t.children[0]}function gc(t){const e=t.indexOf(":");return e>-1?t.substr(e+1):t}function yc(t){return t.name||""}function zt(t,e,r){const n=gc(e);function i(s,a){return gc(yc(a))===n&&s.push(a),r&&Array.isArray(a.children)?[...s,...a.children.reduce(i,[])]:s}return t&&Array.isArray(t.children)?t.children.reduce(i,[]):[]}function Me(t,e,r){return zt(t,e,r)[0]||null}function Go(t){return t&&Array.isArray(t.children)?[...t.children.filter(e=>e.constructor.name==="XmlElement")]:[]}function Ke(t){const e=t&&Array.isArray(t.children)?t.children.find(r=>r.type==="text"):null;return e?e.text:""}function Cn(t,e){return t&&t.attributes[e]||""}const O1=["utf-8","utf-16","iso-8859-1"],x1="utf-8";function T6(t){const e=/charset=([^;]+)/.exec(t);return e?e[1]:null}function N6(t,e){const r=e?T6(e):null,n=r?[r,...O1]:O1;for(const i of n)try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch{}return console.warn(`XML document encoding could not be determined, falling back to ${x1}.`),new TextDecoder(x1).decode(t)}const vc=new Map;function C6(t){if(vc.has(t))return vc.get(t);const e=fetch(t);return e.finally(()=>vc.delete(t)),vc.set(t,e),e}function ap(t){return C6(t).catch(()=>fetch(t,{method:"HEAD",mode:"no-cors"}).catch(e=>{throw new Yd(`Fetching the document failed either due to network errors or unreachable host, error is: ${e.message}`,0,!1)}).then(()=>{throw new Yd("The document could not be fetched due to CORS limitations",0,!0)})).then(async e=>{if(!e.ok){const i=await e.text();throw new Yd(`Received an error with code ${e.status}: ${i}`,e.status,!1)}const r=await e.arrayBuffer(),n=e.headers.get("Content-Type");return N6(r,n)}).then(e=>M6(e))}function op(t,e){const r=t.match(/(https?%3A%2F%2F[^/]+)$/);if(r){const o=r[1],l=op(decodeURIComponent(o),e);return t.replace(o,encodeURIComponent(l))}const n=new URL(t),i=Object.keys(e),s=i.map(o=>o.toLowerCase()),a=[];for(const o of n.searchParams.keys())s.indexOf(o.toLowerCase())>-1&&a.push(o);return a.map(o=>n.searchParams.delete(o)),i.forEach(o=>n.searchParams.set(o,e[o]===!0?"":e[o])),n.toString()}let P6=1e3*60*60;function L6(){return P6}const Gi="caches"in self?caches.open("ogc-client"):null;async function A6(t,...e){if(!Gi)return;const r="https://cache/"+e.join("/");await(await Gi).put(r,new Response(JSON.stringify(t),{headers:{"x-expiry":(Date.now()+L6()).toString(10)}}))}async function I6(...t){if(!Gi)return!1;const e="https://cache/"+t.join("/");return(await Gi).match(e).then(n=>!!n&&parseInt(n.headers.get("x-expiry"))>Date.now())}async function k6(...t){if(!Gi)return null;const e="https://cache/"+t.join("/"),n=await(await Gi).match(e);return n?n.clone().json():null}const _c=new Map;async function D6(t,...e){if(await R6(),await I6(...e))return k6(...e);const r=e.join("#");if(_c.has(r))return _c.get(r);const n=t();n instanceof Promise&&(n.then(()=>_c.delete(r)),_c.set(r,n));const i=await n;return await A6(i,...e),i}async function R6(){if(!Gi)return;const t=await Gi,e=await t.keys();for(let r of e){const n=await t.match(r);parseInt(n.headers.get("x-expiry"))<=Date.now()&&await t.delete(r)}}function $6(t,e,r,n,i,s,a,o,l,u){const f=e==="2.0.0"?"TYPENAMES":"TYPENAME",c=e==="2.0.0"?"COUNT":"MAXFEATURES",h={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:e,[f]:r};if(n!==void 0&&(h.OUTPUTFORMAT=n),s!==void 0&&(h.PROPERTYNAME=s.join(",")),a?(h.RESULTTYPE="hits",h[c]="1"):i!==void 0&&(h[c]=i.toString(10)),o&&(h.SRSNAME=o),l){const d=l.join(",");h.BBOX=u?`${d},${u}`:d}return op(t,h)}class F6{constructor(e){const r=op(e,{SERVICE:"WMS",REQUEST:"GetCapabilities"});this._capabilitiesPromise=D6(()=>z4(r),"WMS","CAPABILITIES",r).then(({info:n,layers:i,version:s})=>{this._info=n,this._layers=i,this._version=s}),this._info=null,this._layers=null,this._version=null}isReady(){return this._capabilitiesPromise.then(()=>this)}getServiceInfo(){return this._info}getLayers(){function e(r){return{title:r.title,name:r.name,abstract:r.abstract,..."children"in r&&{children:r.children.map(e)}}}return this._layers.map(e)}getLayerByName(e){let r=null;function n(i){if(r===null){if(i.name===e){r=i;return}"children"in i&&i.children.map(n)}}return this._layers.map(n),r}getVersion(){return this._version}}const j6=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function V6(t){return j6.indexOf(lp(t))>-1}function lp(t){return/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())?`EPSG:${/([0-9]+)$/.exec(t)[1]}`:t}function M1(t){return Zn(t).attributes.version}function G6(t){const e=M1(t),r=Me(Zn(t),"Capability");return zt(r,"Layer").map(n=>T1(n,e))}function U6(t){const e=Me(Zn(t),"Service"),r=zt(Me(e,"KeywordList"),"Keyword").map(Ke).filter((n,i,s)=>s.indexOf(n)===i);return{title:Ke(Me(e,"Title")),name:Ke(Me(e,"Name")),abstract:Ke(Me(e,"Abstract")),fees:Ke(Me(e,"Fees")),constraints:Ke(Me(e,"AccessConstraints")),keywords:r}}function T1(t,e,r=[],n=[],i=null){const s=e==="1.3.0"?"CRS":"SRS",a=zt(t,s).map(Ke),o=a.length>0?a:r,l=zt(t,"Style").map(B6),u=l.length>0?l:n;function f(p){const m=Cn(p,s);return(V6(m)&&e==="1.3.0"?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(v=>Cn(p,v))}const c=Me(t,"Attribution"),h=c!==null?W6(c):i,d=zt(t,"Layer").map(p=>T1(p,e,o,u,h));return{name:Ke(Me(t,"Name")),title:Ke(Me(t,"Title")),abstract:Ke(Me(t,"Abstract")),availableCrs:o,styles:u,attribution:h,boundingBoxes:zt(t,"BoundingBox").reduce((p,m)=>({...p,[Cn(m,s)]:f(m)}),{}),...d.length&&{children:d}}}function B6(t){const e=Cn(Me(Me(t,"LegendURL"),"OnlineResource"),"xlink:href");return{name:Ke(Me(t,"Name")),title:Ke(Me(t,"Title")),...e&&{legendUrl:e}}}function W6(t){const e=Cn(Me(Me(t,"LogoURL"),"OnlineResource"),"xlink:href"),r=Cn(Me(t,"OnlineResource"),"xlink:href"),n=Ke(Me(t,"Title"));return{...n&&{title:n},...r&&{url:r},...e&&{logoUrl:e}}}function bc(t){return Zn(t).attributes.version}function N1(t){const e=bc(t);let r;if(e.startsWith("1.0")){const n=Me(Me(Me(Zn(t),"Capability"),"Request"),"GetFeature");r=Go(Me(n,"ResultFormat")).map(yc)}else{const n=Me(Zn(t),"OperationsMetadata"),i=zt(n,"Operation").find(a=>Cn(a,"name")==="GetFeature"),s=zt(i,"Parameter").find(a=>Cn(a,"name")==="outputFormat");r=zt(s,"Value",!0).map(Ke)}return r}function q6(t){const e=bc(t),r=e.startsWith("1.0")?"Service":"ServiceIdentification",n=e.startsWith("1.0")?"Name":"ServiceType",i=Me(Zn(t),r);let s;return e.startsWith("1.0")?s=Ke(Me(i,"Keywords")).split(",").map(a=>a.trim()):s=zt(Me(i,"Keywords"),"Keyword").map(Ke),{title:Ke(Me(i,"Title")),name:Ke(Me(i,n)),abstract:Ke(Me(i,"Abstract")),fees:Ke(Me(i,"Fees")),constraints:Ke(Me(i,"AccessConstraints")),keywords:s,outputFormats:N1(t)}}function H6(t){const e=bc(t),r=N1(t),n=Me(Zn(t),"FeatureTypeList");return zt(n,"FeatureType").map(i=>z6(i,e,r))}function z6(t,e,r){const n=e.startsWith("2.")?"CRS":"SRS",i=e.startsWith("1.0")?"SRS":`Default${n}`;function s(){const u=Me(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(f=>Cn(u,f)).map(parseFloat)}function a(){const u=Me(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(f=>Me(u,f)).map(f=>Ke(f).split(" ")).reduce((f,c)=>[...f,...c]).map(parseFloat)}const o=e.startsWith("1.0")?[]:zt(t,`Other${n}`).map(Ke).map(lp),l=e.startsWith("1.0")?[]:zt(Me(t,"OutputFormats"),"Format").map(Ke);return{name:Ke(Me(t,"Name")),title:Ke(Me(t,"Title")),abstract:Ke(Me(t,"Abstract")),defaultCrs:lp(Ke(Me(t,i))),otherCrs:o,outputFormats:l.length>0?l:r,latLonBoundingBox:e.startsWith("1.0")?s():a()}}function Y6(t,e,r){const n=Zn(t);let i;if(r.startsWith("2.0"))i=zt(n,"member").map(u=>Go(u)[0]);else{const u=Me(n,"featureMembers");i=u?Go(u):zt(n,"featureMember").map(f=>Go(f)[0])}const s=r==="1.0.0"?"fid":"gml:id";function a(u){return u in e.properties}function o(u,f){switch(e.properties[u]){case"integer":return parseInt(f);case"float":return parseFloat(f);case"boolean":return f==="true";default:return f}}function l(u){return Go(u).filter(f=>a(gc(yc(f)))).reduce((f,c)=>{const h=gc(yc(c));return{...f,[h]:o(h,Ke(c))}},{})}return i.map(u=>({id:Cn(u,s),properties:l(u)}))}function K6(t){return t.reduce((e,r)=>{for(const n in r.properties){const i=r.properties[n];n in e||(e[n]={uniqueValues:[]});const s=e[n].uniqueValues.find(a=>a.value===i);s?s.count++:e[n].uniqueValues.push({value:i,count:1})}return e},{})}Kd("parseWmsCapabilities",self,({url:t})=>ap(t).then(e=>({info:U6(e),layers:G6(e),version:M1(e)}))),Kd("parseWfsCapabilities",self,({url:t})=>ap(t).then(e=>({info:q6(e),featureTypes:H6(e),version:bc(e)}))),Kd("queryWfsFeatureTypeDetails",self,({url:t,serviceVersion:e,featureTypeFull:r})=>{const n=$6(t,e,r.name,void 0,void 0,Object.keys(r.properties));return ap(n).then(i=>({props:K6(Y6(i,r,e))}))});const X6=()=>[{url:"http://wmts1.geoportail.lu/opendata/service",label:"Open Data Webservices WMS"},{url:"http://ows.terrestris.de/osm-gray/service",label:"OpenStreetMap by Terrestris (Grey)"},{url:"http://ows.terrestris.de/osm/service",label:"OpenStreetMap by Terrestris (Color)"}];class Z6{constructor(e){ut(this,"capabilitiesPromise");ut(this,"serviceInfo");ut(this,"layers");const r=new WE.default;let n="&";e.indexOf("?")===-1&&(n="?"),e.indexOf("Capabilities")===-1&&(e=e+n+"SERVICE=WMTS&REQUEST=GetCapabilities"),this.capabilitiesPromise=fetch(e).then(i=>i.text()).then(i=>{var a;const s=r.read(i);this.serviceInfo=this.mapServiceInfo(s.ServiceIdentification),this.layers=this.mapToRemoteLayers((a=s.Contents)==null?void 0:a.Layer)})}mapToRemoteLayers(e){return[{type:jr.WMTS,children:e.map(r=>({type:jr.WMTS,abstract:r.Abstract,format:r.Format,name:r.Identifier,title:r.Title,tileMatrixSetLink:r.TileMatrixSetLink,wgs84BoundingBox:r.WGS84BoundingBox}))}]}mapServiceInfo(e){return{type:jr.WMTS,title:e.Title,abstract:e.Abstract,fees:e.Fees,constraints:e.AccessConstraints,serviceTypeVersion:e.ServiceTypeVersion}}isReady(){return this.capabilitiesPromise.then(()=>this)}getLayerByName(e){return this.layers[0].children.filter(r=>r.name===e)[0]}getLayers(){return this.layers}getServiceInfo(){return this.serviceInfo}}class J6{async getRemoteEndpoint(e){let r;return await this.getWmsEndpoint(e).isReady().catch(async()=>{r=await this.getWmtsEndpoint(e).isReady()})||r}getWmsEndpoint(e){return new F6(ws.getProxyfiedUrl(e))}getWmtsEndpoint(e){return new Z6(ws.getProxyfiedUrl(e))}async fetchRemoteWmsEndpoint(){return new Promise(e=>e(X6()))}isRemoteLayer(e){return typeof e=="string"&&(e.indexOf(jr.WMS)===0||e.indexOf(jr.WMTS)===0)}}const Uo=new J6,Q6={class:"relative text-center"},eF=["placeholder","value"],tF={key:0,class:"text-center"},rF={class:"lux-label"},nF={key:1,class:"text-center"},iF={class:"lux-label"},sF={key:2,class:"text-center"},aF=P("div",{class:"fa fa-refresh fa-spin"},null,-1),oF={key:3,class:"overflow-auto max-h-[calc(400px-36px)]"},C1=ge(he({__name:"remote-layers",setup(t){const{t:e}=Ze(),r=ht(),n=$r(),i=rt([]),s=rt(),{remoteLayersOpen:a}=Ue(vt()),{setRemoteLayersOpen:o}=vt();let l=!1,u,f,c;vr(h);function h(){s.value=s.value?va.updateLayers(s.value,r.layers):void 0}Uo.fetchRemoteWmsEndpoint().then(S=>{i.value=S.map(({url:x,label:N})=>({label:N,value:x}))});async function d(S){l=!0,c=await Uo.getRemoteEndpoint(S).catch(()=>alert(e("Impossible de contacter ce WMS",{ns:"client"}))),f=S,l=!1}async function p(){const S=c,x=S==null?void 0:S.getLayers();if(x&&x[0]){const N=d1(x[0],f);s.value=va.updateLayers(N,r.layers)}}async function m(S){f=u=S,await d(f),p()}function g(S){u=S.target.value}async function v(){await d(u),p()}function y(S){s.value=va.toggleNode(S.id,s.value,"expanded")}function b(S){const{id:x,name:N}=S,M=c;if(S.checked===!0)r.removeLayers(x);else{const L=M==null?void 0:M.getLayerByName(N);if(L){const D=n.initLayer(p1({id:x,url:ws.getProxyfiedUrl(f),remoteLayer:L}));r.addLayers(D)}}}return(S,x)=>O(a)?(A(),Ge(h1,{key:0,title:O(e)("Add external data",{ns:"client"}),onClose:x[0]||(x[0]=N=>O(o)(!1))},{content:pi(()=>{var N,M;return[P("div",Q6,[se(vh,{class:"lux-remote-services-dropdown",options:i.value,placeholder:O(e)("Predefined wms",{ns:"client"}),onChange:m},null,8,["options","placeholder"]),P("input",{class:"lux-input w-[300px]",type:"url",placeholder:O(e)("Choose or write a WMS url",{ns:"client"}),value:O(f)||"",onChange:g},null,40,eF),P("button",{type:"button",class:"lux-btn",onClick:v},oe(O(e)("Get the layers",{ns:"client"})),1)]),!O(l)&&O(c)?(A(),G("div",tF,[P("span",rF,oe(O(e)("Description du service :",{ns:"client"})),1),jl(" "+oe((N=O(c).getServiceInfo())==null?void 0:N.abstract),1)])):F("v-if",!0),!O(l)&&O(c)?(A(),G("div",nF,[P("span",iF,oe(O(e)("Access constraints :",{ns:"client"})),1),jl(" "+oe((M=O(c).getServiceInfo())==null?void 0:M.constraints),1)])):F("v-if",!0),O(l)?(A(),G("div",sF,[aF,P("span",null,oe(O(e)("Chargement des informations",{ns:"client"})),1)])):F("v-if",!0),O(l)?F("v-if",!0):(A(),G("div",oF,[s.value?(A(),Ge(zd,{key:0,class:"block p-[10px] mb-[11px]",node:s.value,onToggleParent:y,onToggleLayer:b},null,8,["node"])):F("v-if",!0)]))]}),_:1},8,["title"])):F("v-if",!0)}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/remote-layers/remote-layers.vue"]]);function lF(t,e="fr-FR"){const r=new Date(t);return new Intl.DateTimeFormat(e).format(r)}const uF={class:"font-bold"},cF={class:"col-span-2"},Bo=ge(he({__name:"layer-metadata-item",props:{label:{type:String,required:!0},value:{type:String,required:!0}},setup(t){const e=t;return(r,n)=>(A(),G(Ve,null,[P("span",uF,oe(e.label),1),P("span",cF,oe(e.value),1)],64))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-metadata/layer-metadata-item.vue"]]);function fF(t){return{fr:"fre",en:"eng",de:"ger",lb:"ltz"}[t.toLowerCase()]}function hF(t){return new DOMParser().parseFromString(t,"text/html").body}function dF(t){const e=[];function r(n){const i=n.split("|");i[3]==="WWW:LINK-1.0-http--link"&&e.indexOf(i[2])===-1&&e.push(i[2])}return Array.isArray(t)?t.forEach(r,t):r(t),e}function pF(t){const r=(Array.isArray(t)?t:[t]).filter(n=>n.split("|")[1]==="metadata");return{organisaton:r[0].split("|")[2],name:r[0].split("|")[5],unknown:r[0].split("|")[6],address:r[0].split("|")[7],email:r[0].split("|")[4]}}class P1{}class mF extends P1{async getMetadata(e,r,n){console.assert(e===jr.WMS);const i=Uo.getWmsEndpoint(r);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(n);return{title:a.title,description:a.abstract,keywords:s.keywords,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const gF=new mF;class yF extends P1{async getMetadata(e,r,n){console.assert(e===jr.WMTS);const i=Uo.getWmtsEndpoint(r);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(n);return{title:a.title,description:a.abstract,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const vF=new yF;class _F{async getMetadata(e,r,n){if(e===jr.WMS)return gF.getMetadata(e,r,n);if(e===jr.WMTS)return vF.getMetadata(e,r,n);throw new Error(`Unsupported service type: ${e}`)}}const bF=new _F;class SF{constructor(){ut(this,"geonetworkBaseUrl","https://geocatalogue.geoportail.lu/geonetwork/srv");ut(this,"legendBaseUrl","https://map.geoportail.lu/legends/get_html");ut(this,"localMetadataBaseUrl","https://map.geoportail.lu/getMetadata")}async getLayerMetadata(e,r){const n=Di(),i=n.findBgLayerById(+e)||n.findById(+e)||n.find3dLayerById(+e);if(i){const s=i.metadata,a=s==null?void 0:s.metadata_id,o=a&&await this.getLocalMetadata(this.localMetadataBaseUrl,a,r),l=i.name,u=(s==null?void 0:s.legend_name)||"",f=i==null?void 0:i.id,c=u&&await this.getLegendHtml(this.legendBaseUrl,u,f,r);return{...o,title:l,hasLegend:!!c,...c&&{legendHtml:c}}}else{const[s,a,o]=String(e).split("%2D").join("-").split("||");return bF.getMetadata(s,a,o)}}getLocalMetadata(e,r,n){return fetch(`${e}?lang=${n}&uid=${r}`).then(async i=>{const s=(await i.json()).metadata;return{name:s.title,serviceDescription:s.serviceDescription,description:s.abstract,legalConstraints:s.legalConstraints,link:dF(s.link),revisionDate:s.revisionDate,keyword:s.keyword,responsibleParty:s.responsibleParty?pF(s.responsibleParty):void 0,metadataLink:`${this.geonetworkBaseUrl}/${fF(n)}/catalog.search#/metadata/${r}`,isError:!1}}).catch(()=>({isError:!0}))}getLegendHtml(e,r,n,i){const s={lang:i,...r&&{name:r},...n&&{id:n.toString()}};if(s.name&&s.lang){window.devicePixelRatio>1&&(s.dpi=(window.devicePixelRatio*96).toString());const a=`${e}?${new URLSearchParams(s).toString()}`;return fetch(a).then(async o=>{if(o.status>=400&&o.status<600)throw new Error("Server responded with error code");const l=await o.text();return l?hF(l):void 0}).catch(()=>{})}}}const L1=new SF,EF={class:"grid gap-2 grid-cols-3 pt-3 text-[13px] font-arial break-words"},wF={key:2,class:"col-span-3 grid gap-2 grid-cols-3"},OF={class:"font-bold"},xF={class:"col-span-2"},MF=["title"],TF=["title"],NF={key:4,class:"col-span-3"},CF={class:"font-bold"},PF={class:"col-span-2"},LF=["href"],AF={key:7,class:"col-span-3 grid gap-2 grid-cols-3"},IF={class:"font-bold"},kF={class:"col-span-2"},DF={key:0},RF={key:1},$F={key:2},FF={key:3},jF={key:4},VF=["href"],GF={key:8,class:"grid gap-2 grid-cols-3 col-span-3"},UF={class:"font-bold"},BF={class:"col-span-2"},WF=["href"],qF={key:9,class:"col-span-3"},HF={key:10},zF={class:"text-xl"},YF={key:11,class:"col-span-3"},up=220,A1=ge(he({__name:"layer-metadata",setup(t){const e=Hd(),{metadataId:r}=Ue(e),{t:n,i18next:i}=Ze(),s=Ee(),a=Ee(!0);et(r,async c=>{var h,d;s.value=c?await L1.getLayerMetadata(c,i.language):void 0,a.value=(((d=(h=s.value)==null?void 0:h.description)==null?void 0:d.length)||0)<up}),_r(()=>{i.on("languageChanged",async()=>{r.value&&(s.value=await L1.getLayerMetadata(r.value,i.language))})});const o=de(()=>{var c,h,d;return a.value?(c=s.value)==null?void 0:c.description:(d=(h=s.value)==null?void 0:h.description)==null?void 0:d.slice(0,up)});function l(){a.value=!0}function u(){a.value=!1}function f(){e.clearMetadataId()}return(c,h)=>{const d=vf("dompurify-html");return s.value?(A(),Ge(h1,{key:0,footer:!1,"max-height":!0,title:O(n)(`${s.value.title}`,{ns:"client"}),onClose:f},{content:pi(()=>{var p,m,g,v,y,b,S,x,N,M,L,D,C,R,k;return[P("div",EF,[s.value.name?(A(),Ge(Bo,{key:0,label:O(n)("Name"),value:s.value.name},null,8,["label","value"])):F("v-if",!0),s.value.serviceDescription?(A(),Ge(Bo,{key:1,label:O(n)("Description du Service"),value:s.value.serviceDescription},null,8,["label","value"])):F("v-if",!0),s.value.description?(A(),G("div",wF,[P("span",OF,oe(O(n)("Description")),1),P("span",xF,[Ll(P("span",null,null,512),[[d,o.value]]),a.value?F("v-if",!0):(A(),G("button",{key:0,title:O(n)("Display full description",{ns:"client"}),onClick:l,class:"text-secondary hover:underline"}," ... ",8,MF)),a.value&&(((p=o.value)==null?void 0:p.length)||0)>up?(A(),G("button",{key:1,title:O(n)("Hide full description",{ns:"client"}),onClick:u,class:"text-secondary hover:underline"}," - ",8,TF)):F("v-if",!0)])])):F("v-if",!0),s.value.legalConstraints?(A(),Ge(Bo,{key:3,label:O(n)("Contrainte d'utilisation"),value:s.value.legalConstraints},null,8,["label","value"])):F("v-if",!0),((m=s.value.link)==null?void 0:m.length)!==0?(A(),G("div",NF,[(A(!0),G(Ve,null,Tr(s.value.link,Q=>(A(),G("div",{class:"grid gap-2 grid-cols-3",key:Q},[P("span",CF,oe(O(n)("Url vers la resource")),1),P("span",PF,[P("a",{class:"text-secondary hover:underline",target:"_blank",href:Q},oe(Q),9,LF)])]))),128))])):F("v-if",!0),s.value.revisionDate?(A(),Ge(Bo,{key:5,label:O(n)("Revision date"),value:O(lF)(s.value.revisionDate,O(i).language)},null,8,["label","value"])):F("v-if",!0),s.value.keyword?(A(),Ge(Bo,{key:6,label:O(n)("Keywords"),value:(g=s.value.keyword)==null?void 0:g.join(",")},null,8,["label","value"])):F("v-if",!0),s.value.responsibleParty?(A(),G("div",AF,[P("div",IF,oe(O(n)("Contact")),1),P("div",kF,[(v=s.value.responsibleParty)!=null&&v.organisaton?(A(),G("p",DF,oe((y=s.value.responsibleParty)==null?void 0:y.organisaton),1)):F("v-if",!0),(b=s.value.responsibleParty)!=null&&b.name?(A(),G("p",RF,oe((S=s.value.responsibleParty)==null?void 0:S.name),1)):F("v-if",!0),(x=s.value.responsibleParty)!=null&&x.unknown?(A(),G("p",$F,oe((N=s.value.responsibleParty)==null?void 0:N.unknown),1)):F("v-if",!0),(M=s.value.responsibleParty)!=null&&M.address?(A(),G("p",FF,oe((L=s.value.responsibleParty)==null?void 0:L.address),1)):F("v-if",!0),(D=s.value.responsibleParty)!=null&&D.email?(A(),G("p",jF,[P("a",{class:"text-secondary hover:underline",href:"mailto:"+((C=s.value.responsibleParty)==null?void 0:C.email)},oe((R=s.value.responsibleParty)==null?void 0:R.email),9,VF)])):F("v-if",!0)])])):F("v-if",!0),s.value.metadataLink?(A(),G("div",GF,[P("span",UF,oe(O(n)("Link to the metadata")),1),P("span",BF,[P("a",{class:"text-secondary hover:underline",target:"_blank",href:s.value.metadataLink},oe(O(n)("link")),9,WF)])])):F("v-if",!0),s.value.isError?(A(),G("div",qF,oe(O(n)("The metadata is right now not available")),1)):F("v-if",!0),s.value.legendHtml?(A(),G("div",HF,[P("h4",zF,oe(O(n)("Legend")),1),Ll(P("span",null,null,512),[[d,(k=s.value.legendHtml)==null?void 0:k.innerHTML]])])):F("v-if",!0),s.value.hasLegend?F("v-if",!0):(A(),G("div",YF,oe(O(n)("The legend is not available for this layer")),1))])]}),_:1},8,["title"])):F("v-if",!0)}}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-metadata/layer-metadata.vue"]]),KF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAAAoCAMAAABq645qAAACPVBMVEUAAABaW13////tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy5DjxTaAAAAvXRSTlMAAAABAgMEBQYHCAkKCwwNDg8QERESFBUWFxkaGx0eHyAhIiInKSosMTIzNTY5Ojs8PUFCQ0RERkpMTk9QU1RVVldaXmFjZWZmamtwcXJzdXd3eHl7fX+AgYKDhIaHiIiKi4yOj5CTlJWWl5iZmZqcnZ+goaKjpKanqKqqq6ywsbK0tbW4u7u8vb6/wMHExcbHysvMzM7P0NDS1NXa29zd3t/g4eTl5ujp6uvs7e7u8PLz9PX29/j5+vv8/f5cALqzAAAEcklEQVRo3u3Z+ZPUVBAH8O63LsLKijoIgotHFI+HgiKNeGC8MCqgUUFAJYjgAQ6HKMgGEQQiqChIPFh1iciiwPIEhvv49t/mD5lBORa2tHbLTO2rmqnUTCrJZ3r65ZuEjDHGGLrMWGcKMah7mh/7NP8PzXBqbqgfzdtPb7i/fjQPvq8r5jUVXNNIY4moYeL6+XNfn9Ov6LUZ2/Z7Pxo3YaZWTp/uLPw/reXYbqLRPz/38g+qJ/oTEV396IzmgmquXHZoIRHd/sTs31T1DqIBcyqHZjQWtTbf6nQiokHLVVWn7ju4euXGjsX9LtTAGgPAGGMzOPZSOGFYtmAXsO8skFkgZovQgi2QcZKyIGAAjJQtIgAB/5vRTc2IvbqSqOWNJQdUVdfe+/zitmsu2jeQ/GWMC43HacRhxhAWcJRyEgmYBSVYgROwgJkzeGVEDGEGotqnPaih1Xp63KSvVFVVtz0wt23AvMVda5AZY2FM7OWO/N2DwBMgESBiQZyABUgYSYQkYSBjhAh7QXN3Zfey7YdyzXh6aQpdu2fIpWsD30CykKOU4XPgmBPEnNcmC1jgIT9uCx9ZkOW1kQi9oBm6aMvO3KIVomUPES19/KIaoNo34uA8cUgtB4DzmQXCFoCFhbXgMtgC8DNGKMj7xnIKtj2toeGf55X5c9+ZRpo1lWjyq5c/33Avj+5obpz25miiwd+p6q4/2jfvIrqtrYlemF5MzZObTuhHCw6cUd2y/91ftj5DRJOn0JKniqm56jPtUNXDx44u6NywvaPzPqL+G5v3jCimhhqaX/vyi6VTxtzyYkVV9dSsRvrmnVXUI5oo7GkNEV2RH/igaRVV1Y8fOdE+tEc0tlzqBU1tND+7U1W18t51F8/QAFJrkUccL4VjABFb+MwoMyznszWzBZxfDT2SIbZgm0/TzBbIpLqcr8GwScJxfF4UiliAgGEZ1gKx8VK4bmuafmpdrqr6cFdXBJBSORPkp9A0ZI8hAi4jYQY8CEN8MDML2K/FBBdwKU80kOp3eSBirq7BkJJLstK5UShw+eYhDBGUYNPQeN3WTND2rd+r6oquNUZQ00A49gCEJQg8RhJD8j0DQX6IEBZYMLMAAANZrpHa8lkNBwjOi0Ion90KRIDIQEzsdVfzlurhT1X11F2XqE3qwfNQMiYLGYIYNgAQMcTltXHV3z9w1dAD/8LapH/XJt9eycWudG4U8lGrjYeSIAtMFlaD1SU1NxAR0cA9qrpqr6ruaOmybxLPREBojLEOzoMNkAXsO4YNYRnIpNo3WS30+EByXt+kttY3AEdAyGmZ4/TcKORCDgDhEAg5D0wO7vK1mbmwhajxA9XWkXTTh8dVj6wZX9gr6ZFL9eTm1nbVhUREdOs2Vb25sJqmRTuOq+r+rwfmgGEHVYcU+H7a8KNrdP6kYTXBJ6qPFVjT2DxwzD/msbWqE+vnrvqvevSeutGMUm0dXC+ahk3asb5unt+8cvLIqOvr52nU7Dv7nq31afo0/0mzrhiavwAx1n2SsZnMdgAAAABJRU5ErkJggg==";class XF{bootstrap(){this.restore();let e;e=vr(()=>{this.persist(),e&&e()})}persist(){const e=vt(),{lang:r}=Ue(e);et(r,(n,i)=>{i!==n&&(Ce.setValue(Ri,n),document.documentElement.setAttribute("lang",n))},{immediate:!0})}restore(){const e=Ce.getValue(Ri);if(e){const{setLang:r}=vt(),{i18next:n}=Ze();n.changeLanguage(e),r(e)}}}const ZF=new XF,JF=ge(he({__name:"language-selector",setup(t){const{i18next:e,t:r}=Ze(),{setLang:n}=vt(),{lang:i}=Ue(vt()),s=de(()=>["en","de","fr","lb"].map(l=>({label:r(l),value:l,ariaLabel:r("Changer de langue : {{lang}}",{lang:l})}))),a=r("Changer de langue");ZF.bootstrap();function o(l){e.changeLanguage(l),n(l)}return(l,u)=>(A(),G("div",null,[se(vh,{class:"lux-navbar-dropdown lux-dropdown-inline text-white h-full",options:s.value,placeholder:O(a),modelValue:O(i),"onUpdate:modelValue":u[0]||(u[0]=f=>Ye(i)?i.value=f:null),onChange:o},null,8,["options","placeholder","modelValue"])]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/nav-bars/language-selector.vue"]]);class QF{setCurrentThemeColors(e){const r=document.querySelector(":root");["primary","secondary","tertiary"].forEach(i=>{const s=getComputedStyle(r).getPropertyValue(`--${e}-${i}`);r.style.setProperty(`--color-${i}`,s)})}}const I1=new QF,e5={class:"w-full h-14 flex bg-white shadow-header z-10 shrink-0"},t5=P("div",{class:"flex-2 p-[5px]"},[P("img",{src:KF})],-1),r5=P("div",{class:"grow text-center"},"search",-1),n5={class:"h-full flex"},i5={class:"hidden lg:inline-block"},s5={class:"border-l-[1px] border-stone-300 h-full"},k1=ge(he({__name:"header-bar",setup(t){const{t:e}=Ze(),r=vt(),{layersOpen:n,myLayersTabOpen:i,themeGridOpen:s}=Ue(r),{setLayersOpen:a,setMyLayersTabOpen:o,setThemeGridOpen:l}=r,u=Ht(),{theme:f}=Ue(u);et(f,h=>{h&&I1.setCurrentThemeColors(h.name)},{immediate:!0});function c(){n.value?n.value&&(s.value?a(!1):(i.value&&o(!1),l(!0))):(a(!0),i.value&&o(!1),l(!0))}return(h,d)=>{var p,m;return A(),G("header",e5,[t5,r5,P("div",null,[P("ul",n5,[P("li",null,[P("button",{class:Ie(["flex items-center before:font-icons before:text-3xl before:w-16 text-primary uppercase h-full mr-3",`before:content-${(p=O(f))==null?void 0:p.name}`]),onClick:c},[P("span",i5,oe(O(e)(`${(m=O(f))==null?void 0:m.name}`)),1)],2)]),P("li",s5,[se(JF,{class:"flex-none h-full"})])])])])}}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/header/header-bar.vue"]]),a5={class:"block text-[13px] sm:text-base uppercase"},Jn=ge(he({__name:"button-icon",props:{label:{type:String,required:!0},icon:{type:String,required:!0},active:{type:Boolean,required:!1}},setup(t){const e=t;return(r,n)=>(A(),G("button",{class:Ie(["h-[42px] w-full sm:h-full sm:w-16 hover:text-white hover:bg-primary",e.active?"bg-primary text-white":""])},[P("span",{class:Ie(["block text-[1.7rem] sm:text-[2rem] -mt-1.5 -mb-3 after:font-icons",e.active?"lux-close-cross":`after:content-${e.icon}`])},null,2),P("span",a5,oe(e.label),1)],2))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/footer/button-icon.vue"]]),o5=["href"],Ui=ge(he({__name:"button-link",props:{label:{type:String,required:!0},link:{type:String,required:!0}},setup(t){const e=t;return(r,n)=>(A(),G("a",{class:"h-full flex flex-col justify-center px-[7px] uppercase hover:text-white hover:bg-primary",href:`${e.link}`,target:"_blank"},oe(r.$props.label),9,o5))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/footer/button-link.vue"]]),l5={class:"flex flex-col w-12 justify-between bg-white z-5 shrink-0 sm:flex-row sm:w-full sm:h-14 sm:shadow-footer"},u5={class:"flex flex-col w-full sm:w-80 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},c5={class:"flex flex-col w-12 sm:w-64 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},f5={class:"w-[466px] hidden sm:flex flex-row justify-end text-gray-500 whitespace-nowrap"},D1=ge(he({__name:"footer-bar",setup(t){const{t:e,i18next:r}=Ze(),{setLayersOpen:n}=vt(),{layersOpen:i}=Ue(vt());return(s,a)=>(A(),G("footer",l5,[F(" left buttons "),P("ul",u5,[P("li",null,[se(Jn,{label:O(e)("Layers",{ns:"client"}),icon:"layers",active:O(i),onClick:a[0]||(a[0]=()=>O(n)(!O(i)))},null,8,["label","active"])]),F(`TODOs in each button when implemented
        - remove class="text-gray-300"
        - add click handler that calls setLayersOpen(true) and opens tool (also via app store)
      `),P("li",null,[se(Jn,{class:"text-gray-300",label:O(e)("My Maps",{ns:"client"}),icon:"mymaps"},null,8,["label"])]),P("li",null,[se(Jn,{class:"text-gray-300",label:O(e)("Infos",{ns:"client"}),icon:"infos"},null,8,["label"])]),P("li",null,[se(Jn,{class:"text-gray-300",label:O(e)("Legends",{ns:"client"}),icon:"legends"},null,8,["label"])]),P("li",null,[se(Jn,{class:"text-gray-300",label:O(e)("Routing",{ns:"client"}),icon:"routing"},null,8,["label"])])]),F(" center buttons "),P("div",c5,[se(Jn,{class:"text-gray-300",label:O(e)("Dessin",{ns:"client"}),icon:"draw"},null,8,["label"]),se(Jn,{class:"text-gray-300 hidden sm:block",label:O(e)("Mesurer",{ns:"client"}),icon:"measure"},null,8,["label"]),se(Jn,{class:"text-gray-300 hidden sm:block",label:O(e)("Imprimer",{ns:"client"}),icon:"print"},null,8,["label"]),se(Jn,{class:"text-gray-300",label:O(e)("Partager",{ns:"client"}),icon:"share"},null,8,["label"])]),F(" right buttons "),P("div",f5,[se(Ui,{class:"hidden lg:flex text-gray-500",label:O(e)("What's new",{ns:"client"}),link:`https://geoportail.lu/${O(r).language}/questions/whats-new/`},null,8,["label","link"]),F("TODO get geonetworkBaseUrl from config"),se(Ui,{class:"hidden lg:flex text-gray-500",label:O(e)("Geocatalogue",{ns:"client"}),link:""},null,8,["label"]),F("TODO handle feedback links (for different portals?)"),se(Ui,{class:"hidden lg:flex text-gray-500",label:O(e)("Feedback",{ns:"client"}),link:""},null,8,["label"]),se(Ui,{class:"hidden lg:flex text-gray-500",label:O(e)("A Propos",{ns:"client"}),link:`https://www.geoportail.lu/${O(r).language}/propos/`},null,8,["label","link"]),se(Ui,{class:"hidden lg:flex text-gray-500",label:O(e)("Aide",{ns:"client"}),link:`https://www.geoportail.lu/${O(r).language}/documentation/`},null,8,["label","link"]),se(Ui,{class:"hidden lg:flex text-gray-500",label:O(e)("Contact",{ns:"client"}),link:`https://www.geoportail.lu/${O(r).language}/propos/contactez-nous/`},null,8,["label","link"]),se(Ui,{class:"text-gray-500",label:O(e)("Legalites",{ns:"client"}),link:`https://www.geoportail.lu/${O(r).language}/propos/mentions-legales/`},null,8,["label","link"]),se(Ui,{class:"text-gray-500",label:O(e)("ACT",{ns:"client"}),link:"http://www.act.public.lu/"},null,8,["label","link"])])]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/footer/footer-bar.vue"]]),h5={class:"flex flex-row flex-wrap pl-2.5"},d5=["onClick"],p5={class:"text-2xl absolute top-5"},m5=ge(he({__name:"theme-grid",props:{themes:{type:Array,required:!0}},setup(t){const{t:e}=Ze(),r=t;return(n,i)=>(A(),G("div",h5,[(A(!0),G(Ve,null,Tr(r.themes,s=>(A(),G("button",{class:Ie(["relative shrink-0 h-[150px] w-1/2 px-2.5 text-start text-gray-100/40 uppercase hover:bg-[#ccc]",`bg-${s.name}-primary hover:text-${s.name}-primary`]),key:s.id,onClick:a=>n.$emit("setTheme",s.name)},[P("div",p5,oe(O(e)(`${s.name}`)),1),P("div",{class:Ie(["text-6xl absolute bottom-1 after:font-icons",`after:content-${s.name}`])},null,2)],10,d5))),128))]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/theme-selector/theme-grid.vue"]]),g5=["aria-expanded"],y5={class:"py-0.5"},v5={class:"px-1 py-0.5 shrink-0 flex flex-row text-[12px] bg-secondary text-white"},_5={class:"py-[3px]"},b5={class:"flex flex-row flex-wrap ml-1 w-12"},S5=ge(he({__name:"theme-selector-button",props:{themes:{type:Array,required:!0},currentTheme:{type:Object,required:!1},isOpen:{type:Boolean,required:!1}},setup(t){const{t:e}=Ze(),r=t,n=de(()=>{var i;return((i=r.themes)==null?void 0:i.slice(0,8))||[]});return(i,s)=>{var a;return A(),G("button",{class:"w-full flex flex-row justify-between bg-tertiary text-white px-2 py-1.5 uppercase cursor-pointer hover:bg-white hover:text-primary","aria-expanded":r.isOpen},[P("span",y5,oe(O(e)("Theme"))+": "+oe(O(e)(`${(a=r.currentTheme)==null?void 0:a.name}`)),1),P("span",v5,[P("span",_5,oe(O(e)("Changer")),1),P("span",b5,[(A(!0),G(Ve,null,Tr(n.value,o=>(A(),G("div",{class:Ie(`h-2.5 w-2.5 m-px bg-${o.name}-primary`),key:o.id},null,2))),128))])])],8,g5)}}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/theme-selector/theme-selector-button.vue"]]),E5={key:0,class:"absolute inset-x-0 top-14 bottom-0 mt-1 bg-primary overflow-y-auto overflow-x-hidden"},w5=ge(he({__name:"theme-selector",setup(t){const e=vt(),{setThemeGridOpen:r}=e,{themeGridOpen:n}=Ue(e),i=Ht(),s=Di(),{theme:a,themes:o}=Ue(i),l=de(()=>{var c;return((c=o.value)==null?void 0:c.filter(h=>{var d;return((d=h.metadata)==null?void 0:d.display_in_switcher)===!0}))||[]});function u(){r(!n.value)}function f(c){s.setTheme(c),u()}return(c,h)=>(A(),G(Ve,null,[se(S5,{onClick:u,themes:l.value,currentTheme:O(a),isOpen:O(n)},null,8,["themes","currentTheme","isOpen"]),O(n)?(A(),G("div",E5,[se(m5,{onSetTheme:f,themes:l.value},null,8,["themes"])])):F("v-if",!0)],64))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/theme-selector/theme-selector.vue"]]);function cp(t,e=0){const{name:r,id:n,children:i,metadata:s}=t;return{name:r,id:n,depth:e,children:i==null?void 0:i.map(a=>cp(a,e+1)),checked:!1,expanded:(s==null?void 0:s.is_expanded)||!1}}const O5={key:0,class:"mb-7"},x5=ge(he({__name:"catalog-tree",setup(t){const e=ht(),r=Ht(),n=$r(),i=rt(),s=rt(),a=de(()=>!e.is3dActive||e.is3dActive&&!e.is3dMesh),{layerTrees_3d:o}=Ue(r);vr(l);function l(){var c;if(r.theme&&e.layers){const h=i.value&&i.value.id===((c=r.theme)==null?void 0:c.id)?i.value:cp(r.theme);i.value=va.updateLayers(h,e.layers)}}vr(()=>{if(o.value){const c=s.value?s.value:cp(o.value);s.value=va.updateLayers(c,e.layers3d)}});function u(c,h){const d=h?s:i;d.value=va.toggleNode(c.id,d.value,"expanded")}function f(c,h){n.toggleLayer(+c.id,!c.checked,h)}return(c,h)=>(A(),G("div",null,[F(" 3D layers catalog, only displayed when 3D is active "),s.value&&O(e).is3dActive?(A(),G("div",O5,[(A(),Ge(zd,{node:s.value,key:s.value.id,onToggleParent:h[0]||(h[0]=d=>u(d,!0)),onToggleLayer:h[1]||(h[1]=d=>f(d,!0))},null,8,["node"]))])):F("v-if",!0),F(" Main catalog, displays by default and 3D terrain active "),i.value&&a.value?(A(),Ge(zd,{node:i.value,key:i.value.id,onToggleParent:h[2]||(h[2]=d=>u(d,!1)),onToggleLayer:h[3]||(h[3]=d=>f(d,!1))},null,8,["node"])):F("v-if",!0)]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/catalog/catalog-tree.vue"]]),M5=ge(he({__name:"catalog-tab",setup(t){const{themeGridOpen:e}=Ue(vt());return(r,n)=>(A(),G(Ve,null,[se(w5),O(e)===!1?(A(),Ge(x5,{key:0,class:"pt-5 absolute inset-x-2.5 bg-primary overflow-y-auto overflow-x-hidden"})):F("v-if",!0)],64))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/catalog/catalog-tab.vue"]]);/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function R1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(r),!0).forEach(function(n){T5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sc=function(e){return typeof e}:Sc=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function T5(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qn(){return Qn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qn.apply(this,arguments)}function N5(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function C5(t,e){if(t==null)return{};var r=N5(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}var P5="1.15.2";function ei(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ti=ei(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Wo=ei(/Edge/i),$1=ei(/firefox/i),qo=ei(/safari/i)&&!ei(/chrome/i)&&!ei(/android/i),F1=ei(/iP(ad|od|hone)/i),j1=ei(/chrome/i)&&ei(/android/i),V1={capture:!1,passive:!1};function We(t,e,r){t.addEventListener(e,r,!ti&&V1)}function $e(t,e,r){t.removeEventListener(e,r,!ti&&V1)}function Ec(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function L5(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function sn(t,e,r,n){if(t){r=r||document;do{if(e!=null&&(e[0]===">"?t.parentNode===r&&Ec(t,e):Ec(t,e))||n&&t===r)return t;if(t===r)break}while(t=L5(t))}return null}var G1=/\s+/g;function Sr(t,e,r){if(t&&e)if(t.classList)t.classList[r?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(G1," ").replace(" "+e+" "," ");t.className=(n+(r?" "+e:"")).replace(G1," ")}}function ve(t,e,r){var n=t&&t.style;if(n){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(r=t.currentStyle),e===void 0?r:r[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=r+(typeof r=="string"?"":"px")}}function _a(t,e){var r="";if(typeof t=="string")r=t;else do{var n=ve(t,"transform");n&&n!=="none"&&(r=n+" "+r)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function U1(t,e,r){if(t){var n=t.getElementsByTagName(e),i=0,s=n.length;if(r)for(;i<s;i++)r(n[i],i);return n}return[]}function Ln(){var t=document.scrollingElement;return t||document.documentElement}function Ot(t,e,r,n,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,a,o,l,u,f,c;if(t!==window&&t.parentNode&&t!==Ln()?(s=t.getBoundingClientRect(),a=s.top,o=s.left,l=s.bottom,u=s.right,f=s.height,c=s.width):(a=0,o=0,l=window.innerHeight,u=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||r)&&t!==window&&(i=i||t.parentNode,!ti))do if(i&&i.getBoundingClientRect&&(ve(i,"transform")!=="none"||r&&ve(i,"position")!=="static")){var h=i.getBoundingClientRect();a-=h.top+parseInt(ve(i,"border-top-width")),o-=h.left+parseInt(ve(i,"border-left-width")),l=a+s.height,u=o+s.width;break}while(i=i.parentNode);if(n&&t!==window){var d=_a(i||t),p=d&&d.a,m=d&&d.d;d&&(a/=m,o/=p,c/=p,f/=m,l=a+f,u=o+c)}return{top:a,left:o,bottom:l,right:u,width:c,height:f}}}function B1(t,e,r){for(var n=Bi(t,!0),i=Ot(t)[e];n;){var s=Ot(n)[r],a=void 0;if(r==="top"||r==="left"?a=i>=s:a=i<=s,!a)return n;if(n===Ln())break;n=Bi(n,!1)}return!1}function ba(t,e,r,n){for(var i=0,s=0,a=t.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==ye.ghost&&(n||a[s]!==ye.dragged)&&sn(a[s],r.draggable,t,!1)){if(i===e)return a[s];i++}s++}return null}function fp(t,e){for(var r=t.lastElementChild;r&&(r===ye.ghost||ve(r,"display")==="none"||e&&!Ec(r,e));)r=r.previousElementSibling;return r||null}function Vr(t,e){var r=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ye.clone&&(!e||Ec(t,e))&&r++;return r}function W1(t){var e=0,r=0,n=Ln();if(t)do{var i=_a(t),s=i.a,a=i.d;e+=t.scrollLeft*s,r+=t.scrollTop*a}while(t!==n&&(t=t.parentNode));return[e,r]}function A5(t,e){for(var r in t)if(!!t.hasOwnProperty(r)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[r][n])return Number(r)}return-1}function Bi(t,e){if(!t||!t.getBoundingClientRect)return Ln();var r=t,n=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=ve(r);if(r.clientWidth<r.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return Ln();if(n||e)return r;n=!0}}while(r=r.parentNode);return Ln()}function I5(t,e){if(t&&e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function hp(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Ho;function q1(t,e){return function(){if(!Ho){var r=arguments,n=this;r.length===1?t.call(n,r[0]):t.apply(n,r),Ho=setTimeout(function(){Ho=void 0},e)}}}function k5(){clearTimeout(Ho),Ho=void 0}function H1(t,e,r){t.scrollLeft+=e,t.scrollTop+=r}function z1(t){var e=window.Polymer,r=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):r?r(t).clone(!0)[0]:t.cloneNode(!0)}function Y1(t,e,r){var n={};return Array.from(t.children).forEach(function(i){var s,a,o,l;if(!(!sn(i,e.draggable,t,!1)||i.animated||i===r)){var u=Ot(i);n.left=Math.min((s=n.left)!==null&&s!==void 0?s:1/0,u.left),n.top=Math.min((a=n.top)!==null&&a!==void 0?a:1/0,u.top),n.right=Math.max((o=n.right)!==null&&o!==void 0?o:-1/0,u.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Er="Sortable"+new Date().getTime();function D5(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(ve(i,"display")==="none"||i===ye.ghost)){t.push({target:i,rect:Ot(i)});var s=Pn({},t[t.length-1].rect);if(i.thisAnimationDuration){var a=_a(i,!0);a&&(s.top-=a.f,s.left-=a.e)}i.fromRect=s}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(A5(t,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var s=!1,a=0;t.forEach(function(o){var l=0,u=o.target,f=u.fromRect,c=Ot(u),h=u.prevFromRect,d=u.prevToRect,p=o.rect,m=_a(u,!0);m&&(c.top-=m.f,c.left-=m.e),u.toRect=c,u.thisAnimationDuration&&hp(h,c)&&!hp(f,c)&&(p.top-c.top)/(p.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(l=$5(p,h,d,i.options)),hp(c,f)||(u.prevFromRect=f,u.prevToRect=c,l||(l=i.options.animation),i.animate(u,p,c,l)),l&&(s=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),t=[]},animate:function(n,i,s,a){if(a){ve(n,"transition",""),ve(n,"transform","");var o=_a(this.el),l=o&&o.a,u=o&&o.d,f=(i.left-s.left)/(l||1),c=(i.top-s.top)/(u||1);n.animatingX=!!f,n.animatingY=!!c,ve(n,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=R5(n),ve(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),ve(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){ve(n,"transition",""),ve(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function R5(t){return t.offsetWidth}function $5(t,e,r,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))*n.animation}var Sa=[],dp={initializeByDefault:!0},zo={mount:function(e){for(var r in dp)dp.hasOwnProperty(r)&&!(r in e)&&(e[r]=dp[r]);Sa.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Sa.push(e)},pluginEvent:function(e,r,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var s=e+"Global";Sa.forEach(function(a){!r[a.pluginName]||(r[a.pluginName][s]&&r[a.pluginName][s](Pn({sortable:r},n)),r.options[a.pluginName]&&r[a.pluginName][e]&&r[a.pluginName][e](Pn({sortable:r},n)))})},initializePlugins:function(e,r,n,i){Sa.forEach(function(o){var l=o.pluginName;if(!(!e.options[l]&&!o.initializeByDefault)){var u=new o(e,r,e.options);u.sortable=e,u.options=e.options,e[l]=u,Qn(n,u.defaults)}});for(var s in e.options)if(!!e.options.hasOwnProperty(s)){var a=this.modifyOption(e,s,e.options[s]);typeof a<"u"&&(e.options[s]=a)}},getEventProperties:function(e,r){var n={};return Sa.forEach(function(i){typeof i.eventProperties=="function"&&Qn(n,i.eventProperties.call(r[i.pluginName],e))}),n},modifyOption:function(e,r,n){var i;return Sa.forEach(function(s){!e[s.pluginName]||s.optionListeners&&typeof s.optionListeners[r]=="function"&&(i=s.optionListeners[r].call(e[s.pluginName],n))}),i}};function F5(t){var e=t.sortable,r=t.rootEl,n=t.name,i=t.targetEl,s=t.cloneEl,a=t.toEl,o=t.fromEl,l=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,c=t.newDraggableIndex,h=t.originalEvent,d=t.putSortable,p=t.extraEventProperties;if(e=e||r&&r[Er],!!e){var m,g=e.options,v="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!ti&&!Wo?m=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(n,!0,!0)),m.to=a||r,m.from=o||r,m.item=i||r,m.clone=s,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=f,m.newDraggableIndex=c,m.originalEvent=h,m.pullMode=d?d.lastPutMode:void 0;var y=Pn(Pn({},p),zo.getEventProperties(n,e));for(var b in y)m[b]=y[b];r&&r.dispatchEvent(m),g[v]&&g[v].call(e,m)}}var j5=["evt"],hr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,s=C5(n,j5);zo.pluginEvent.bind(ye)(e,r,Pn({dragEl:J,parentEl:dt,ghostEl:Oe,rootEl:st,nextEl:Ns,lastDownEl:wc,cloneEl:ot,cloneHidden:Wi,dragStarted:Ko,putSortable:Dt,activeSortable:ye.active,originalEvent:i,oldIndex:Ea,oldDraggableIndex:Yo,newIndex:wr,newDraggableIndex:qi,hideGhostForTarget:tS,unhideGhostForTarget:rS,cloneNowHidden:function(){Wi=!0},cloneNowShown:function(){Wi=!1},dispatchSortableEvent:function(o){rr({sortable:r,name:o,originalEvent:i})}},s))};function rr(t){F5(Pn({putSortable:Dt,cloneEl:ot,targetEl:J,rootEl:st,oldIndex:Ea,oldDraggableIndex:Yo,newIndex:wr,newDraggableIndex:qi},t))}var J,dt,Oe,st,Ns,wc,ot,Wi,Ea,wr,Yo,qi,Oc,Dt,wa=!1,xc=!1,Mc=[],Cs,an,pp,mp,K1,X1,Ko,Oa,Xo,Zo=!1,Tc=!1,Nc,Yt,gp=[],yp=!1,Cc=[],Pc=typeof document<"u",Lc=F1,Z1=Wo||ti?"cssFloat":"float",V5=Pc&&!j1&&!F1&&"draggable"in document.createElement("div"),J1=function(){if(!!Pc){if(ti)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Q1=function(e,r){var n=ve(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),s=ba(e,0,r),a=ba(e,1,r),o=s&&ve(s),l=a&&ve(a),u=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+Ot(s).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ot(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&o.float&&o.float!=="none"){var c=o.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===c)?"vertical":"horizontal"}return s&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||u>=i&&n[Z1]==="none"||a&&n[Z1]==="none"&&u+f>i)?"vertical":"horizontal"},G5=function(e,r,n){var i=n?e.left:e.top,s=n?e.right:e.bottom,a=n?e.width:e.height,o=n?r.left:r.top,l=n?r.right:r.bottom,u=n?r.width:r.height;return i===o||s===l||i+a/2===o+u/2},U5=function(e,r){var n;return Mc.some(function(i){var s=i[Er].options.emptyInsertThreshold;if(!(!s||fp(i))){var a=Ot(i),o=e>=a.left-s&&e<=a.right+s,l=r>=a.top-s&&r<=a.bottom+s;if(o&&l)return n=i}}),n},eS=function(e){function r(s,a){return function(o,l,u,f){var c=o.options.group.name&&l.options.group.name&&o.options.group.name===l.options.group.name;if(s==null&&(a||c))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return r(s(o,l,u,f),a)(o,l,u,f);var h=(a?o:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var n={},i=e.group;(!i||Sc(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=r(i.pull,!0),n.checkPut=r(i.put),n.revertClone=i.revertClone,e.group=n},tS=function(){!J1&&Oe&&ve(Oe,"display","none")},rS=function(){!J1&&Oe&&ve(Oe,"display","")};Pc&&!j1&&document.addEventListener("click",function(t){if(xc)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),xc=!1,!1},!0);var Ps=function(e){if(J){e=e.touches?e.touches[0]:e;var r=U5(e.clientX,e.clientY);if(r){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=r,n.preventDefault=void 0,n.stopPropagation=void 0,r[Er]._onDragOver(n)}}},B5=function(e){J&&J.parentNode[Er]._isOutsideThisEl(e.target)};function ye(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Qn({},e),t[Er]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Q1(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,o){a.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ye.supportPointer!==!1&&"PointerEvent"in window&&!qo,emptyInsertThreshold:5};zo.initializePlugins(this,t,r);for(var n in r)!(n in e)&&(e[n]=r[n]);eS(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:V5,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?We(t,"pointerdown",this._onTapStart):(We(t,"mousedown",this._onTapStart),We(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(We(t,"dragover",this),We(t,"dragenter",this)),Mc.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Qn(this,D5())}ye.prototype={constructor:ye,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Oa=null)},_getDirection:function(e,r){return typeof this.options.direction=="function"?this.options.direction.call(this,e,r,J):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var r=this,n=this.el,i=this.options,s=i.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(o||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=i.filter;if(Z5(n),!J&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&qo&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=sn(l,i.draggable,n,!1),!(l&&l.animated)&&wc!==l)){if(Ea=Vr(l),Yo=Vr(l,i.draggable),typeof f=="function"){if(f.call(this,e,l,this)){rr({sortable:r,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),hr("filter",r,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=sn(u,c.trim(),n,!1),c)return rr({sortable:r,rootEl:c,name:"filter",targetEl:l,fromEl:n,toEl:n}),hr("filter",r,{evt:e}),!0}),f)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!sn(u,i.handle,n,!1)||this._prepareDragStart(e,o,l)}}},_prepareDragStart:function(e,r,n){var i=this,s=i.el,a=i.options,o=s.ownerDocument,l;if(n&&!J&&n.parentNode===s){var u=Ot(n);if(st=s,J=n,dt=J.parentNode,Ns=J.nextSibling,wc=n,Oc=a.group,ye.dragged=J,Cs={target:J,clientX:(r||e).clientX,clientY:(r||e).clientY},K1=Cs.clientX-u.left,X1=Cs.clientY-u.top,this._lastX=(r||e).clientX,this._lastY=(r||e).clientY,J.style["will-change"]="all",l=function(){if(hr("delayEnded",i,{evt:e}),ye.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!$1&&i.nativeDraggable&&(J.draggable=!0),i._triggerDragStart(e,r),rr({sortable:i,name:"choose",originalEvent:e}),Sr(J,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){U1(J,f.trim(),vp)}),We(o,"dragover",Ps),We(o,"mousemove",Ps),We(o,"touchmove",Ps),We(o,"mouseup",i._onDrop),We(o,"touchend",i._onDrop),We(o,"touchcancel",i._onDrop),$1&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),hr("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(Wo||ti))){if(ye.eventCanceled){this._onDrop();return}We(o,"mouseup",i._disableDelayedDrag),We(o,"touchend",i._disableDelayedDrag),We(o,"touchcancel",i._disableDelayedDrag),We(o,"mousemove",i._delayedDragTouchMoveHandler),We(o,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&We(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var r=e.touches?e.touches[0]:e;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&vp(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;$e(e,"mouseup",this._disableDelayedDrag),$e(e,"touchend",this._disableDelayedDrag),$e(e,"touchcancel",this._disableDelayedDrag),$e(e,"mousemove",this._delayedDragTouchMoveHandler),$e(e,"touchmove",this._delayedDragTouchMoveHandler),$e(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,r){r=r||e.pointerType=="touch"&&e,!this.nativeDraggable||r?this.options.supportPointer?We(document,"pointermove",this._onTouchMove):r?We(document,"touchmove",this._onTouchMove):We(document,"mousemove",this._onTouchMove):(We(J,"dragend",this),We(st,"dragstart",this._onDragStart));try{document.selection?Ic(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,r){if(wa=!1,st&&J){hr("dragStarted",this,{evt:r}),this.nativeDraggable&&We(document,"dragover",B5);var n=this.options;!e&&Sr(J,n.dragClass,!1),Sr(J,n.ghostClass,!0),ye.active=this,e&&this._appendGhost(),rr({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(an){this._lastX=an.clientX,this._lastY=an.clientY,tS();for(var e=document.elementFromPoint(an.clientX,an.clientY),r=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(an.clientX,an.clientY),e!==r);)r=e;if(J.parentNode[Er]._isOutsideThisEl(e),r)do{if(r[Er]){var n=void 0;if(n=r[Er]._onDragOver({clientX:an.clientX,clientY:an.clientY,target:e,rootEl:r}),n&&!this.options.dragoverBubble)break}e=r}while(r=r.parentNode);rS()}},_onTouchMove:function(e){if(Cs){var r=this.options,n=r.fallbackTolerance,i=r.fallbackOffset,s=e.touches?e.touches[0]:e,a=Oe&&_a(Oe,!0),o=Oe&&a&&a.a,l=Oe&&a&&a.d,u=Lc&&Yt&&W1(Yt),f=(s.clientX-Cs.clientX+i.x)/(o||1)+(u?u[0]-gp[0]:0)/(o||1),c=(s.clientY-Cs.clientY+i.y)/(l||1)+(u?u[1]-gp[1]:0)/(l||1);if(!ye.active&&!wa){if(n&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Oe){a?(a.e+=f-(pp||0),a.f+=c-(mp||0)):a={a:1,b:0,c:0,d:1,e:f,f:c};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");ve(Oe,"webkitTransform",h),ve(Oe,"mozTransform",h),ve(Oe,"msTransform",h),ve(Oe,"transform",h),pp=f,mp=c,an=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Oe){var e=this.options.fallbackOnBody?document.body:st,r=Ot(J,!0,Lc,!0,e),n=this.options;if(Lc){for(Yt=e;ve(Yt,"position")==="static"&&ve(Yt,"transform")==="none"&&Yt!==document;)Yt=Yt.parentNode;Yt!==document.body&&Yt!==document.documentElement?(Yt===document&&(Yt=Ln()),r.top+=Yt.scrollTop,r.left+=Yt.scrollLeft):Yt=Ln(),gp=W1(Yt)}Oe=J.cloneNode(!0),Sr(Oe,n.ghostClass,!1),Sr(Oe,n.fallbackClass,!0),Sr(Oe,n.dragClass,!0),ve(Oe,"transition",""),ve(Oe,"transform",""),ve(Oe,"box-sizing","border-box"),ve(Oe,"margin",0),ve(Oe,"top",r.top),ve(Oe,"left",r.left),ve(Oe,"width",r.width),ve(Oe,"height",r.height),ve(Oe,"opacity","0.8"),ve(Oe,"position",Lc?"absolute":"fixed"),ve(Oe,"zIndex","100000"),ve(Oe,"pointerEvents","none"),ye.ghost=Oe,e.appendChild(Oe),ve(Oe,"transform-origin",K1/parseInt(Oe.style.width)*100+"% "+X1/parseInt(Oe.style.height)*100+"%")}},_onDragStart:function(e,r){var n=this,i=e.dataTransfer,s=n.options;if(hr("dragStart",this,{evt:e}),ye.eventCanceled){this._onDrop();return}hr("setupClone",this),ye.eventCanceled||(ot=z1(J),ot.removeAttribute("id"),ot.draggable=!1,ot.style["will-change"]="",this._hideClone(),Sr(ot,this.options.chosenClass,!1),ye.clone=ot),n.cloneId=Ic(function(){hr("clone",n),!ye.eventCanceled&&(n.options.removeCloneOnHide||st.insertBefore(ot,J),n._hideClone(),rr({sortable:n,name:"clone"}))}),!r&&Sr(J,s.dragClass,!0),r?(xc=!0,n._loopId=setInterval(n._emulateDragOver,50)):($e(document,"mouseup",n._onDrop),$e(document,"touchend",n._onDrop),$e(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(n,i,J)),We(document,"drop",n),ve(J,"transform","translateZ(0)")),wa=!0,n._dragStartId=Ic(n._dragStarted.bind(n,r,e)),We(document,"selectstart",n),Ko=!0,qo&&ve(document.body,"user-select","none")},_onDragOver:function(e){var r=this.el,n=e.target,i,s,a,o=this.options,l=o.group,u=ye.active,f=Oc===l,c=o.sort,h=Dt||u,d,p=this,m=!1;if(yp)return;function g(X,Le){hr(X,p,Pn({evt:e,isOwner:f,axis:d?"vertical":"horizontal",revert:a,dragRect:i,targetRect:s,canSort:c,fromSortable:h,target:n,completed:y,onMove:function(_t,Kt){return Ac(st,r,J,i,_t,Ot(_t),e,Kt)},changed:b},Le))}function v(){g("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function y(X){return g("dragOverCompleted",{insertion:X}),X&&(f?u._hideClone():u._showClone(p),p!==h&&(Sr(J,Dt?Dt.options.ghostClass:u.options.ghostClass,!1),Sr(J,o.ghostClass,!0)),Dt!==p&&p!==ye.active?Dt=p:p===ye.active&&Dt&&(Dt=null),h===p&&(p._ignoreWhileAnimating=n),p.animateAll(function(){g("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(n===J&&!J.animated||n===r&&!n.animated)&&(Oa=null),!o.dragoverBubble&&!e.rootEl&&n!==document&&(J.parentNode[Er]._isOutsideThisEl(e.target),!X&&Ps(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function b(){wr=Vr(J),qi=Vr(J,o.draggable),rr({sortable:p,name:"change",toEl:r,newIndex:wr,newDraggableIndex:qi,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=sn(n,o.draggable,r,!0),g("dragOver"),ye.eventCanceled)return m;if(J.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||p._ignoreWhileAnimating===n)return y(!1);if(xc=!1,u&&!o.disabled&&(f?c||(a=dt!==st):Dt===this||(this.lastPutMode=Oc.checkPull(this,u,J,e))&&l.checkPut(this,u,J,e))){if(d=this._getDirection(e,n)==="vertical",i=Ot(J),g("dragOverValid"),ye.eventCanceled)return m;if(a)return dt=st,v(),this._hideClone(),g("revert"),ye.eventCanceled||(Ns?st.insertBefore(J,Ns):st.appendChild(J)),y(!0);var S=fp(r,o.draggable);if(!S||z5(e,d,this)&&!S.animated){if(S===J)return y(!1);if(S&&r===e.target&&(n=S),n&&(s=Ot(n)),Ac(st,r,J,i,n,s,e,!!n)!==!1)return v(),S&&S.nextSibling?r.insertBefore(J,S.nextSibling):r.appendChild(J),dt=r,b(),y(!0)}else if(S&&H5(e,d,this)){var x=ba(r,0,o,!0);if(x===J)return y(!1);if(n=x,s=Ot(n),Ac(st,r,J,i,n,s,e,!1)!==!1)return v(),r.insertBefore(J,x),dt=r,b(),y(!0)}else if(n.parentNode===r){s=Ot(n);var N=0,M,L=J.parentNode!==r,D=!G5(J.animated&&J.toRect||i,n.animated&&n.toRect||s,d),C=d?"top":"left",R=B1(n,"top","top")||B1(J,"top","top"),k=R?R.scrollTop:void 0;Oa!==n&&(M=s[C],Zo=!1,Tc=!D&&o.invertSwap||L),N=Y5(e,n,s,d,D?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,Tc,Oa===n);var Q;if(N!==0){var be=Vr(J);do be-=N,Q=dt.children[be];while(Q&&(ve(Q,"display")==="none"||Q===Oe))}if(N===0||Q===n)return y(!1);Oa=n,Xo=N;var T=n.nextElementSibling,$=!1;$=N===1;var z=Ac(st,r,J,i,n,s,e,$);if(z!==!1)return(z===1||z===-1)&&($=z===1),yp=!0,setTimeout(q5,30),v(),$&&!T?r.appendChild(J):n.parentNode.insertBefore(J,$?T:n),R&&H1(R,0,k-R.scrollTop),dt=J.parentNode,M!==void 0&&!Tc&&(Nc=Math.abs(M-Ot(n)[C])),b(),y(!0)}if(r.contains(J))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){$e(document,"mousemove",this._onTouchMove),$e(document,"touchmove",this._onTouchMove),$e(document,"pointermove",this._onTouchMove),$e(document,"dragover",Ps),$e(document,"mousemove",Ps),$e(document,"touchmove",Ps)},_offUpEvents:function(){var e=this.el.ownerDocument;$e(e,"mouseup",this._onDrop),$e(e,"touchend",this._onDrop),$e(e,"pointerup",this._onDrop),$e(e,"touchcancel",this._onDrop),$e(document,"selectstart",this)},_onDrop:function(e){var r=this.el,n=this.options;if(wr=Vr(J),qi=Vr(J,n.draggable),hr("drop",this,{evt:e}),dt=J&&J.parentNode,wr=Vr(J),qi=Vr(J,n.draggable),ye.eventCanceled){this._nulling();return}wa=!1,Tc=!1,Zo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_p(this.cloneId),_p(this._dragStartId),this.nativeDraggable&&($e(document,"drop",this),$e(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),qo&&ve(document.body,"user-select",""),ve(J,"transform",""),e&&(Ko&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Oe&&Oe.parentNode&&Oe.parentNode.removeChild(Oe),(st===dt||Dt&&Dt.lastPutMode!=="clone")&&ot&&ot.parentNode&&ot.parentNode.removeChild(ot),J&&(this.nativeDraggable&&$e(J,"dragend",this),vp(J),J.style["will-change"]="",Ko&&!wa&&Sr(J,Dt?Dt.options.ghostClass:this.options.ghostClass,!1),Sr(J,this.options.chosenClass,!1),rr({sortable:this,name:"unchoose",toEl:dt,newIndex:null,newDraggableIndex:null,originalEvent:e}),st!==dt?(wr>=0&&(rr({rootEl:dt,name:"add",toEl:dt,fromEl:st,originalEvent:e}),rr({sortable:this,name:"remove",toEl:dt,originalEvent:e}),rr({rootEl:dt,name:"sort",toEl:dt,fromEl:st,originalEvent:e}),rr({sortable:this,name:"sort",toEl:dt,originalEvent:e})),Dt&&Dt.save()):wr!==Ea&&wr>=0&&(rr({sortable:this,name:"update",toEl:dt,originalEvent:e}),rr({sortable:this,name:"sort",toEl:dt,originalEvent:e})),ye.active&&((wr==null||wr===-1)&&(wr=Ea,qi=Yo),rr({sortable:this,name:"end",toEl:dt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){hr("nulling",this),st=J=dt=Oe=Ns=ot=wc=Wi=Cs=an=Ko=wr=qi=Ea=Yo=Oa=Xo=Dt=Oc=ye.dragged=ye.ghost=ye.clone=ye.active=null,Cc.forEach(function(e){e.checked=!0}),Cc.length=pp=mp=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":J&&(this._onDragOver(e),W5(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],r,n=this.el.children,i=0,s=n.length,a=this.options;i<s;i++)r=n[i],sn(r,a.draggable,this.el,!1)&&e.push(r.getAttribute(a.dataIdAttr)||X5(r));return e},sort:function(e,r){var n={},i=this.el;this.toArray().forEach(function(s,a){var o=i.children[a];sn(o,this.options.draggable,i,!1)&&(n[s]=o)},this),r&&this.captureAnimationState(),e.forEach(function(s){n[s]&&(i.removeChild(n[s]),i.appendChild(n[s]))}),r&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,r){return sn(e,r||this.options.draggable,this.el,!1)},option:function(e,r){var n=this.options;if(r===void 0)return n[e];var i=zo.modifyOption(this,e,r);typeof i<"u"?n[e]=i:n[e]=r,e==="group"&&eS(n)},destroy:function(){hr("destroy",this);var e=this.el;e[Er]=null,$e(e,"mousedown",this._onTapStart),$e(e,"touchstart",this._onTapStart),$e(e,"pointerdown",this._onTapStart),this.nativeDraggable&&($e(e,"dragover",this),$e(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Mc.splice(Mc.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Wi){if(hr("hideClone",this),ye.eventCanceled)return;ve(ot,"display","none"),this.options.removeCloneOnHide&&ot.parentNode&&ot.parentNode.removeChild(ot),Wi=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Wi){if(hr("showClone",this),ye.eventCanceled)return;J.parentNode==st&&!this.options.group.revertClone?st.insertBefore(ot,J):Ns?st.insertBefore(ot,Ns):st.appendChild(ot),this.options.group.revertClone&&this.animate(J,ot),ve(ot,"display",""),Wi=!1}}};function W5(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ac(t,e,r,n,i,s,a,o){var l,u=t[Er],f=u.options.onMove,c;return window.CustomEvent&&!ti&&!Wo?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=r,l.draggedRect=n,l.related=i||e,l.relatedRect=s||Ot(e),l.willInsertAfter=o,l.originalEvent=a,t.dispatchEvent(l),f&&(c=f.call(u,l,a)),c}function vp(t){t.draggable=!1}function q5(){yp=!1}function H5(t,e,r){var n=Ot(ba(r.el,0,r.options,!0)),i=Y1(r.el,r.options,Oe),s=10;return e?t.clientX<i.left-s||t.clientY<n.top&&t.clientX<n.right:t.clientY<i.top-s||t.clientY<n.bottom&&t.clientX<n.left}function z5(t,e,r){var n=Ot(fp(r.el,r.options.draggable)),i=Y1(r.el,r.options,Oe),s=10;return e?t.clientX>i.right+s||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>i.bottom+s||t.clientX>n.right&&t.clientY>n.top}function Y5(t,e,r,n,i,s,a,o){var l=n?t.clientY:t.clientX,u=n?r.height:r.width,f=n?r.top:r.left,c=n?r.bottom:r.right,h=!1;if(!a){if(o&&Nc<u*i){if(!Zo&&(Xo===1?l>f+u*s/2:l<c-u*s/2)&&(Zo=!0),Zo)h=!0;else if(Xo===1?l<f+Nc:l>c-Nc)return-Xo}else if(l>f+u*(1-i)/2&&l<c-u*(1-i)/2)return K5(e)}return h=h||a,h&&(l<f+u*s/2||l>c-u*s/2)?l>f+u/2?1:-1:0}function K5(t){return Vr(J)<Vr(t)?1:-1}function X5(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,r=e.length,n=0;r--;)n+=e.charCodeAt(r);return n.toString(36)}function Z5(t){Cc.length=0;for(var e=t.getElementsByTagName("input"),r=e.length;r--;){var n=e[r];n.checked&&Cc.push(n)}}function Ic(t){return setTimeout(t,0)}function _p(t){return clearTimeout(t)}Pc&&We(document,"touchmove",function(t){(ye.active||wa)&&t.cancelable&&t.preventDefault()}),ye.utils={on:We,off:$e,css:ve,find:U1,is:function(e,r){return!!sn(e,r,e,!1)},extend:I5,throttle:q1,closest:sn,toggleClass:Sr,clone:z1,index:Vr,nextTick:Ic,cancelNextTick:_p,detectDirection:Q1,getChild:ba},ye.get=function(t){return t[Er]},ye.mount=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(ye.utils=Pn(Pn({},ye.utils),n.utils)),zo.mount(n)})},ye.create=function(t,e){return new ye(t,e)},ye.version=P5;var xt=[],Jo,bp,Sp=!1,Ep,wp,kc,Qo;function J5(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(r){var n=r.originalEvent;this.sortable.nativeDraggable?We(document,"dragover",this._handleAutoScroll):this.options.supportPointer?We(document,"pointermove",this._handleFallbackAutoScroll):n.touches?We(document,"touchmove",this._handleFallbackAutoScroll):We(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var n=r.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?$e(document,"dragover",this._handleAutoScroll):($e(document,"pointermove",this._handleFallbackAutoScroll),$e(document,"touchmove",this._handleFallbackAutoScroll),$e(document,"mousemove",this._handleFallbackAutoScroll)),nS(),Dc(),k5()},nulling:function(){kc=bp=Jo=Sp=Qo=Ep=wp=null,xt.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,n){var i=this,s=(r.touches?r.touches[0]:r).clientX,a=(r.touches?r.touches[0]:r).clientY,o=document.elementFromPoint(s,a);if(kc=r,n||this.options.forceAutoScrollFallback||Wo||ti||qo){Op(r,this.options,o,n);var l=Bi(o,!0);Sp&&(!Qo||s!==Ep||a!==wp)&&(Qo&&nS(),Qo=setInterval(function(){var u=Bi(document.elementFromPoint(s,a),!0);u!==l&&(l=u,Dc()),Op(r,i.options,u,n)},10),Ep=s,wp=a)}else{if(!this.options.bubbleScroll||Bi(o,!0)===Ln()){Dc();return}Op(r,this.options,Bi(o,!1),!1)}}},Qn(t,{pluginName:"scroll",initializeByDefault:!0})}function Dc(){xt.forEach(function(t){clearInterval(t.pid)}),xt=[]}function nS(){clearInterval(Qo)}var Op=q1(function(t,e,r,n){if(!!e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,o=e.scrollSpeed,l=Ln(),u=!1,f;bp!==r&&(bp=r,Dc(),Jo=e.scroll,f=e.scrollFn,Jo===!0&&(Jo=Bi(r,!0)));var c=0,h=Jo;do{var d=h,p=Ot(d),m=p.top,g=p.bottom,v=p.left,y=p.right,b=p.width,S=p.height,x=void 0,N=void 0,M=d.scrollWidth,L=d.scrollHeight,D=ve(d),C=d.scrollLeft,R=d.scrollTop;d===l?(x=b<M&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),N=S<L&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(x=b<M&&(D.overflowX==="auto"||D.overflowX==="scroll"),N=S<L&&(D.overflowY==="auto"||D.overflowY==="scroll"));var k=x&&(Math.abs(y-i)<=a&&C+b<M)-(Math.abs(v-i)<=a&&!!C),Q=N&&(Math.abs(g-s)<=a&&R+S<L)-(Math.abs(m-s)<=a&&!!R);if(!xt[c])for(var be=0;be<=c;be++)xt[be]||(xt[be]={});(xt[c].vx!=k||xt[c].vy!=Q||xt[c].el!==d)&&(xt[c].el=d,xt[c].vx=k,xt[c].vy=Q,clearInterval(xt[c].pid),(k!=0||Q!=0)&&(u=!0,xt[c].pid=setInterval(function(){n&&this.layer===0&&ye.active._onTouchMove(kc);var T=xt[this.layer].vy?xt[this.layer].vy*o:0,$=xt[this.layer].vx?xt[this.layer].vx*o:0;typeof f=="function"&&f.call(ye.dragged.parentNode[Er],$,T,t,kc,xt[this.layer].el)!=="continue"||H1(xt[this.layer].el,$,T)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&h!==l&&(h=Bi(h,!1)));Sp=u}},30),iS=function(e){var r=e.originalEvent,n=e.putSortable,i=e.dragEl,s=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(!!r){var u=n||s;o();var f=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,c=document.elementFromPoint(f.clientX,f.clientY);l(),u&&!u.el.contains(c)&&(a("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function xp(){}xp.prototype={startIndex:null,dragStart:function(e){var r=e.oldDraggableIndex;this.startIndex=r},onSpill:function(e){var r=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=ba(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(r,i):this.sortable.el.appendChild(r),this.sortable.animateAll(),n&&n.animateAll()},drop:iS},Qn(xp,{pluginName:"revertOnSpill"});function Mp(){}Mp.prototype={onSpill:function(e){var r=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),i.animateAll()},drop:iS},Qn(Mp,{pluginName:"removeOnSpill"}),ye.mount(new J5),ye.mount(Mp,xp);const sS=.5,Q5=!1,Rc=ps("slider",()=>{const t=ht(),e=Ee(sS),r=Ee(Q5),n=de(()=>[...t.layers].reverse()[0]);function i(a){let o=a;a<.1?o=.1:a>.9&&(o=.9),e.value=o}function s(a){r.value=a!=null?a:!r.value}return{sliderActive:r,sliderRatio:e,sliderTopLayer:n,setRatio:i,toggleSlider:s}},{});function aS(t,e){const{t:r}=Ze();function n(){e==null||e.emit("clickInfo",t)}return{t:r,onClickInfo:n}}const e8={class:"lux-layer-manager-item mt-2.5"},t8=["title"],r8={class:"flex-1 text-left cursor-default"},n8=["aria-label","title"],i8=ge(he({__name:"layer-item-background",props:{showEditButton:{type:Boolean,required:!0},layer:{type:Object,required:!0}},emits:["clickEdit","clickInfo"],setup(t,{emit:e}){const r=t,n=e,{t:i,onClickInfo:s}=aS(r.layer,{emit:n}),a=de(()=>i('Display informations for "{{layerName}}"',{ns:"client",layerName:o()}));function o(){return i(r.layer.name,{ns:"client"})}return(l,u)=>(A(),G("div",e8,[P("button",{class:"fa fa-info w-3",title:a.value,onClick:u[0]||(u[0]=(...f)=>O(s)&&O(s)(...f))},null,8,t8),P("span",r8,oe(o()),1),l.showEditButton?(A(),G("button",{key:0,class:"fa fa-pencil","aria-label":O(i)("Open editor panel",{ns:"client"}),title:O(i)("Open editor panel",{ns:"client"}),onClick:u[1]||(u[1]=f=>l.$emit("clickEdit"))},null,8,n8)):F("v-if",!0)]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-manager/layer-item/layer-item-background.vue"]]),s8=["id"],a8=["aria-checked","title"],o8=["id","value","aria-label"],l8=["aria-checked","aria-label"],u8=ge(he({__name:"layer-item-sub",props:{layer:{type:Object,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["changeOpacity","clickToggleLayerComparator"],setup(t,{emit:e}){var d,p,m,g;const r=t,n=e,{t:i}=Ze(),s=$r(),a=de(()=>i(s.getLayerCurrentLabel(r.layer),{ns:"client"})),o=rt(((p=(d=r.layer)==null?void 0:d.opacity)!=null?p:1)*100),l=rt(((g=(m=r.layer)==null?void 0:m.previousOpacity)!=null?g:o.value)*100);function u(){o.value===0?o.value=l.value:(l.value=o.value,o.value=0),h()}function f(v){v.target&&(o.value=parseInt(v.target.value),h())}function c(){n("clickToggleLayerComparator",r.layer)}function h(){n("changeOpacity",r.layer,o.value)}return(v,y)=>(A(),G("div",{class:Ie(["lux-layer-manager-item-content",v.isOpen?"h-6":"h-0"]),id:`layer-manager-item-content-${v.layer.id}`},[P("button",{class:Ie(["w-5 fa-solid",o.value===0?"fa-eye-slash":"fa-eye"]),role:"switch","aria-checked":o.value===0,title:O(i)("Toggle layer opacity for {{layerName}}",{layerName:a.value}),onClick:u},null,10,a8),P("input",{id:`${v.layer.id}-steps-range`,type:"range",min:"0",max:"100",value:o.value,step:"25",onChange:f,class:"m-2.5 w-16 h-[5px] rounded-lg appearance-none cursor-pointer","aria-label":O(i)("Change opacity for {{ layerName }}",{layerName:a.value})},null,40,o8),v.displayLayerComparatorOpen?(A(),G("button",{key:0,role:"switch",class:Ie(["fa ml-auto text-sm cursor-pointer",v.isLayerComparatorOpen?"fa-adjust":"fa-circle"]),"aria-checked":v.isLayerComparatorOpen,"aria-label":O(i)("Toggle layer comparator for {{ layerName }}",{layerName:a.value}),onClick:c},null,10,l8)):F("v-if",!0)],10,s8))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-manager/layer-item/layer-item-sub.vue"]]),c8=["min","max","value"],Tp=ge(he({__name:"layer-time-datepicker",props:{minDateAllowed:{type:String,required:!1,default:""},maxDateAllowed:{type:String,required:!1,default:""},dateValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const r=t,n=e,i=de(()=>zh(r.minDateAllowed)),s=de(()=>zh(r.maxDateAllowed));function a(o){n("change",o.target.value)}return(o,l)=>(A(),G("input",{class:"lux-time-datepicker",type:"date",min:i.value,max:s.value,value:o.dateValue?O(zh)(o.dateValue):"",onChange:a},null,40,c8))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-datepicker.vue"]]),f8={class:"lux-time-slider w-full"},h8=["for"],d8=ge(he({__name:"layer-time-datepicker-value",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t){const{t:e}=Ze(),r=t,n=rt(r.layer.currentTimeMinValue);return(i,s)=>{var a,o;return A(),G("div",f8,[P("div",null,[P("label",{for:`${i.layer.id}-time-slider-start`,class:"lux-time-slider-label"},oe(O(e)("Date:")),9,h8),se(Tp,{id:`${i.layer.id}-time-slider-start`,"date-value":n.value,"min-date-allowed":(a=r.layer.time)==null?void 0:a.minValue,"max-date-allowed":(o=r.layer.time)==null?void 0:o.maxValue,onChange:s[0]||(s[0]=l=>i.$emit("changeTime",l))},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-datepicker-value.vue"]]),p8={class:"lux-time-slider w-full"},m8=["for"],g8=["for"],y8=ge(he({__name:"layer-time-datepicker-range",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const{t:r}=Ze(),n=t,i=e,s=rt(n.layer.currentTimeMinValue),a=rt(n.layer.currentTimeMaxValue);function o(u){i("changeTime",u,n.layer.currentTimeMaxValue)}function l(u){i("changeTime",n.layer.currentTimeMinValue,u)}return(u,f)=>{var c,h,d,p;return A(),G("div",p8,[F(" Date START datepicker input "),P("div",null,[P("label",{for:`${u.layer.id}-time-slider-start`,class:"lux-time-slider-label"},oe(O(r)("From:")),9,m8),se(Tp,{id:`${u.layer.id}-time-slider-start`,"date-value":s.value,"min-date-allowed":(c=n.layer.time)==null?void 0:c.minValue,"max-date-allowed":(h=n.layer.time)==null?void 0:h.maxValue,onChange:o},null,8,["id","date-value","min-date-allowed","max-date-allowed"])]),F(" Date END datepicker input "),P("div",null,[P("label",{for:`${u.layer.id}-time-slider-end`,class:"lux-time-slider-label"},oe(O(r)("To:")),9,g8),se(Tp,{id:`${u.layer.id}-time-slider-end`,"date-value":a.value,"min-date-allowed":(d=n.layer.time)==null?void 0:d.minValue,"max-date-allowed":(p=n.layer.time)==null?void 0:p.maxValue,onChange:l},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-datepicker-range.vue"]]),v8=["onKeydown","aria-label","title"],oS=ge(he({__name:"slider-range-thumb",props:{ariaLabel:{type:String,required:!1},maxLimit:{type:Number,required:!1,default:100},minLimit:{type:Number,required:!1,default:0},selectedValue:{type:Number,required:!0}},emits:["change"],setup(t,{emit:e}){const r=t,n=e,i=Ee(!1),s=Ee(),a=Ee(),o=de(()=>{var b;return((b=s.value)==null?void 0:b.offsetWidth)||0}),l=de(()=>{var b;return((b=a.value)==null?void 0:b.offsetWidth)||40}),u=Ee(r.selectedValue),f=de(()=>o.value*u.value/100-l.value/2),c=de(()=>({left:`${f.value}px`}));gi(()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",v)}),et(()=>r.selectedValue,b=>{u.value=b});function h(b){u.value=Math.max(Math.min(b,100),0),n("change",u.value,i.value)}function d(){h(u.value-1)}function p(){h(u.value+1)}function m(){i.value=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",v)}function g(b){!i.value||h(y(b))}function v(b){i.value=!1,h(y(b)),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",v)}function y(b){var x,N;const S=(x=s.value)!=null&&x.offsetWidth?(b.clientX-l.value*2)*100/((N=s.value)==null?void 0:N.offsetWidth):0;return Math.round(Math.max(Math.min(S,r.maxLimit),r.minLimit))}return(b,S)=>(A(),G("div",{class:"w-full",role:"slider",ref_key:"elRefTrack",ref:s},[P("button",{class:Ie(["lux-slidebar-thumb",i.value?"dragging":""]),ref_key:"elRefThumb",ref:a,style:li(c.value),onKeydown:[mn(pn(p,["stop"]),["space"]),mn(pn(p,["stop"]),["right"]),mn(pn(d,["stop"]),["left"]),mn(pn(d,["stop"]),["delete"])],onMousedown:m,onMousemove:g,onMouseup:v,"aria-label":b.ariaLabel,title:b.ariaLabel},null,46,v8)],512))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/common/slider-range/slider-range-thumb.vue"]]),_8=ge(he({__name:"slider-range-active-track",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1}},emits:["change"],setup(t,{emit:e}){const r=t,n=e,i=Ee(),s=Ee(),a=de(()=>i.value?Math.round(i.value.offsetWidth*r.selectedMinValue/100):0),o=de(()=>{var c,h;let f=0;return r.selectedMaxValue!==void 0&&((c=i.value)==null?void 0:c.offsetWidth)&&(f=((h=i.value)==null?void 0:h.offsetWidth)*r.selectedMaxValue/100-a.value),Math.round(f)}),l=de(()=>({left:`${a.value}px`,width:`${o.value}px`}));function u(f){if(i.value){const c=i.value.getBoundingClientRect().x,h=(f.clientX-c)*100/i.value.offsetWidth;n("change",h)}}return(f,c)=>(A(),G("div",{ref_key:"elRefFullTrack",ref:i,class:"lux-slidebar-track"},[f.selectedMaxValue!==void 0?(A(),G("div",{key:0,ref_key:"elRefSelectionTrack",ref:s,class:"lux-slidebar-track-selection",style:li(l.value),onClick:u},null,4)):F("v-if",!0),P("div",{class:"lux-slidebar-track-full",onClick:u})],512))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/common/slider-range/slider-range-active-track.vue"]]),b8={class:"lux-slidebar-fake"},lS=ge(he({__name:"slider-range",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1},ariaLabelMin:{type:String,required:!1},ariaLabelMax:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const r=t,n=e,i=Ee(r.selectedMinValue),s=Ee(r.selectedMaxValue);function a(u,f){n("change",u,r.selectedMaxValue,f)}function o(u,f){n("change",r.selectedMinValue,u,f)}function l(u){s.value===void 0?i.value=u:u>=s.value?s.value=u:u<=r.selectedMinValue?i.value=u:Math.abs(s.value-u)<Math.abs(i.value-u)?s.value=u:i.value=u,n("change",i.value,s.value,!1)}return(u,f)=>(A(),G("div",b8,[F(" Draggable Max thumb button "),s.value!==void 0?(A(),Ge(oS,{key:0,ariaLabel:u.ariaLabelMax,minLimit:u.selectedMinValue,selectedValue:s.value,onChange:o},null,8,["ariaLabel","minLimit","selectedValue"])):F("v-if",!0),F(" Draggable Min thumb button "),F(" put Min value after Max value, this is just for z-index grabbing "),se(oS,{ariaLabel:u.ariaLabelMin,maxLimit:u.selectedMaxValue,selectedValue:i.value,onChange:a},null,8,["ariaLabel","maxLimit","selectedValue"]),F(" Selection highlight "),se(_8,{selectedMinValue:u.selectedMinValue,selectedMaxValue:u.selectedMaxValue,onChange:l},null,8,["selectedMinValue","selectedMaxValue"])]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/common/slider-range/slider-range.vue"]]),S8={class:"lux-time-slider w-full"},E8={key:0,class:"lux-time-slider-value mr-1.5"},w8={key:1,class:"lux-time-slider-range mr-1.5"},O8={class:"lux-time-displayed-dates"},x8={key:0,class:"lux-time-start-date grow"},M8={key:1,class:"lux-time-slider-end-date grow text-right"},T8=ge(he({__name:"layer-time-slider",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const{t:r}=Ze(),n=t,i=e,s=de(g),a=de(()=>{var S,x;return(S=n.layer.time)!=null&&S.minValue?new Date((x=n.layer.time)==null?void 0:x.minValue).getTime():0}),o=de(()=>{var S,x;return(S=n.layer.time)!=null&&S.maxValue?new Date((x=n.layer.time)==null?void 0:x.maxValue).getTime():0}),l=de(()=>o.value-a.value),u=Ee(n.layer.currentTimeMaxValue),f=Ee(n.layer.currentTimeMinValue),c=de(()=>f.value?new Date(f.value).getTime():void 0),h=de(()=>u.value?new Date(u.value).getTime():void 0),d=de(()=>m(c.value)),p=de(()=>m(h.value));function m(S){return S?(S-a.value)/l.value*100:0}function g(){var R,k;const S=n.layer.time,x=[];if(!S)return;if(S.values)return S.values.map(Q=>new Date(Q).getTime());const N=new Date(S.minValue),M=new Date((R=S.maxValue)!=null?R:Date.now()),L=1024,D=new Date(N.getTime()),C=(k=S.interval)!=null?k:P_;if(D.setFullYear(N.getFullYear()+L*C[0]),D.setMonth(N.getMonth()+L*C[1],N.getDate()+L*C[2]),D.setSeconds(N.getSeconds()+L*C[3]),D>M)for(let Q=0;;Q++){const be=new Date(N.getTime());if(be.setFullYear(N.getFullYear()+Q*C[0]),be.setMonth(N.getMonth()+Q*C[1],N.getDate()+Q*C[2]),be.setSeconds(N.getSeconds()+Q*C[3]),be<=M)x.push(be.getTime());else break}return x}function v(S){var M;const x=S/100*(o.value-a.value)+a.value,N=qI(x,{minValue:a.value,maxValue:o.value,timeValueList:s.value,timeInterval:(M=n.layer.time)==null?void 0:M.interval});return Hh(N)}function y(S,x){const N=v(S);if(f.value=N,x){const M=v(x);u.value=M}}function b(S,x,N){y(S,x),N||i("changeTime",f.value,u.value)}return(S,x)=>{var N,M,L,D,C,R,k;return A(),G("div",S8,[F(" Slider LayerTimeMode.VALUE "),((N=S.layer.time)==null?void 0:N.mode)===O(Yn).VALUE?(A(),G("div",E8,[se(lS,{ariaLabelMin:`${O(r)("Modifier la date de d\xE9but",{ns:"client"})}`,selectedMinValue:d.value,onChange:b},null,8,["ariaLabelMin","selectedMinValue"])])):F("v-if",!0),F(" Slider LayerTimeMode.RANGE "),((M=S.layer.time)==null?void 0:M.mode)===O(Yn).RANGE?(A(),G("div",w8,[se(lS,{ariaLabelMin:`${O(r)("Modifier la date de d\xE9but",{ns:"client"})}`,ariaLabelMax:`${O(r)("Modifier la date de fin",{ns:"client"})}`,selectedMinValue:d.value,selectedMaxValue:p.value,onChange:b},null,8,["ariaLabelMin","ariaLabelMax","selectedMinValue","selectedMaxValue"])])):F("v-if",!0),F(" Display localized time values "),P("div",O8,[F(" Display localized time values Min value "),((L=S.layer.time)==null?void 0:L.mode)===O(Yn).RANGE||((D=S.layer.time)==null?void 0:D.mode)===O(Yn).VALUE?(A(),G("div",x8,[P("span",null,oe(f.value?O(L_)(f.value,(C=S.layer.time)==null?void 0:C.resolution):"-"),1)])):F("v-if",!0),F(" Display localized time values Max value "),((R=S.layer.time)==null?void 0:R.mode)===O(Yn).RANGE?(A(),G("div",M8,[P("span",null,oe(u.value?O(L_)(u.value,(k=S.layer.time)==null?void 0:k.resolution):"-"),1)])):F("v-if",!0)])])}}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time-slider.vue"]]),N8=ge(he({__name:"layer-time",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const r=e;function n(i,s){r("changeTime",i,s)}return(i,s)=>{var a,o,l,u,f;return A(),G(Ve,null,[F(" Layer time: slider widget "),((a=i.layer.time)==null?void 0:a.widget)===O(Ou).SLIDER?(A(),Ge(T8,{key:0,layer:i.layer,onChangeTime:n},null,8,["layer"])):F("v-if",!0),F(" Layer time: datepicker VALUE (one date) widget "),((o=i.layer.time)==null?void 0:o.widget)===O(Ou).DATEPICKER&&((l=i.layer.time)==null?void 0:l.mode)===O(Yn).VALUE?(A(),Ge(d8,{key:1,layer:i.layer,onChangeTime:n},null,8,["layer"])):F("v-if",!0),F(' Layer time: datepicker RANGE ("from:" date - "to:" date) widget '),((u=i.layer.time)==null?void 0:u.widget)===O(Ou).DATEPICKER&&((f=i.layer.time)==null?void 0:f.mode)===O(Yn).RANGE?(A(),Ge(y8,{key:2,layer:i.layer,onChangeTime:n},null,8,["layer"])):F("v-if",!0)],64)}}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-manager/layer-time/layer-time.vue"]]),C8={class:"lux-layer-manager-item relative"},P8={class:"w-full flex flex-nowrap items-start gap-x-2"},L8=["title"],A8=["aria-label","title"],I8=["aria-expanded","aria-controls","data-cy"],k8={class:"grow"},D8=["title","aria-label"],uS=ge(he({__name:"layer-item",props:{is3d:{type:Boolean,required:!0},layer:{type:Object,required:!0},dragHandleClassName:{type:String,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["clickInfo","clickToggle","clickToggleLayerComparator","clickRemove","changeOpacity","changeTime"],setup(t,{emit:e}){const r=t,n=e,{t:i,onClickInfo:s}=aS(r.layer,{emit:n}),a=$r(),o=de(()=>i(a.getLayerCurrentLabel(r.layer),{ns:"client"})),l=de(()=>i('Sort "{{layerName}}" in the list',{ns:"client",layerName:o.value})),u=de(()=>i('Display informations for "{{layerName}}"',{ns:"client",layerName:o.value})),f=de(()=>i('Remove layer "{{layerName}}"',{ns:"client",layerName:o.value}));function c(h,d){n("changeTime",h,d)}return(h,d)=>(A(),G("div",C8,[P("div",P8,[P("button",{class:Ie(["fa-solid fa-bars cursor-move mt-1",h.dragHandleClassName]),title:l.value},null,10,L8),P("button",{class:"fa-solid fa-info mt-1","aria-label":u.value,title:u.value,onClick:d[0]||(d[0]=(...p)=>O(s)&&O(s)(...p))},null,8,A8),P("button",{"aria-expanded":h.isOpen,"aria-controls":`layer-manager-item-content-${h.layer.id}`,"data-cy":`myLayerItemLabel-${h.layer.id}`,class:Ie([h.is3d?"cursor-default":"","grow text-left break-words w-[70%] flex items-center"]),onClick:d[1]||(d[1]=p=>h.$emit("clickToggle",h.layer))},[P("span",k8,oe(o.value),1),h.is3d?F("v-if",!0):(A(),G("span",{key:0,class:Ie(["w-3.5 fa-solid",h.isOpen?"fa-xmark":"fa-ellipsis"]),"aria-hidden":"true"},null,2))],10,I8),P("button",{class:"mt-1 fa-regular fa-trash-can",title:f.value,"aria-label":f.value,onClick:d[2]||(d[2]=p=>h.$emit("clickRemove",h.layer))},null,8,D8)]),F(" Layer item sub content (opacity and toggle comparator) "),h.is3d?F("v-if",!0):(A(),Ge(u8,{key:0,layer:h.layer,isOpen:h.isOpen,isLayerComparatorOpen:h.isLayerComparatorOpen,displayLayerComparatorOpen:h.displayLayerComparatorOpen,onClickToggleLayerComparator:d[3]||(d[3]=p=>h.$emit("clickToggleLayerComparator",p)),onChangeOpacity:d[4]||(d[4]=(p,m)=>h.$emit("changeOpacity",p,m))},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen"])),F(" Layer time: slider OR datepicker widgets "),h.layer.time?(A(),Ge(N8,{key:1,layer:h.layer,onChangeTime:c},null,8,["layer"])):F("v-if",!0)]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-manager/layer-item/layer-item.vue"]]),R8={key:0,class:"mb-4 sortable-layers-3d"},$8=["id"],F8={class:"sortable-layers"},j8=["id"],V8={class:"flex flex-row justify-center space-x-1 my-2"},Np="drag-handle",G8=ge(he({__name:"layer-manager",emits:["displayCatalog"],setup(t,{emit:e}){const{t:r}=Ze(),{setMetadataId:n}=Hd(),i=ht(),s=vt(),a=Es(),o=Rc(),{bgLayer:l}=Ue(i),{sliderActive:u}=Ue(o),f=de(()=>[...i.layers].reverse()),c=de(()=>[...i.layers3d].reverse()),h=rt(),d=de(()=>a.isLayerStyleEditable(l.value)),p=e,{setRemoteLayersOpen:m}=vt();_r(()=>{const L={dragClass:"lux-sortable-drag",ghostClass:"lux-sortable-ghost",sort:!0,handle:`.${Np}`,forceFallback:QI},D=document.querySelector(".sortable-layers"),C=document.querySelector(".sortable-layers-3d");D&&ye.create(D,{...L,onSort:g}),C&&ye.create(C,{...L,onSort:v})});function g(L,D){const C=[...L.to.children].map(R=>Number(R.id)).reverse();i.reorderLayers(C,D)}function v(L){g(L,!0)}function y(L,D){i.setLayerOpacity(L.id,D/100)}function b(L,D,C){i.setLayerTime(L.id,D,C)}function S(L){i.removeLayers(L.id)}function x(L){h.value=h.value!==L.id?L.id:void 0}function N(){s.openStyleEditorPanel()}function M(){o.toggleSlider()}return(L,D)=>(A(),G("div",null,[c.value.length>0?(A(),G("ul",R8,[(A(!0),G(Ve,null,Tr(c.value,(C,R)=>(A(),G("li",{key:C.id,id:C.id},[se(uS,{is3d:!0,dragHandleClassName:Np,layer:C,isOpen:h.value===C.id,isLayerComparatorOpen:O(u),displayLayerComparatorOpen:R===0,onClickRemove:S,onClickToggle:x,onClickToggleLayerComparator:M,onClickInfo:k=>O(n)(C.id),onChangeOpacity:y,onChangeTime:(k,Q)=>b(C,k,Q)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,$8))),128))])):F("v-if",!0),P("ul",F8,[(A(!0),G(Ve,null,Tr(f.value,(C,R)=>(A(),G("li",{key:C.id,id:C.id},[se(uS,{is3d:!1,dragHandleClassName:Np,layer:C,isOpen:h.value===C.id,isLayerComparatorOpen:O(u),displayLayerComparatorOpen:R===0,onClickRemove:S,onClickToggle:x,onClickToggleLayerComparator:M,onClickInfo:k=>O(n)(C.id),onChangeOpacity:y,onChangeTime:(k,Q)=>b(C,k,Q)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,j8))),128))]),se(i8,{layer:O(l)||O(dc),showEditButton:d.value,onClickInfo:D[0]||(D[0]=()=>O(l)&&O(n)(O(l).id)),onClickEdit:N},null,8,["layer","showEditButton"]),P("div",V8,[P("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:D[1]||(D[1]=C=>p("displayCatalog"))},oe(O(r)("+ Add layers",{ns:"client"})),1),P("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:D[2]||(D[2]=C=>O(m)(!0))},oe(O(r)("+ Add external Wms",{ns:"client"})),1)])]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-manager/layer-manager.vue"]]),U8={class:"flex flex-col h-full pt-1.5"},B8={class:"h-16 shrink-0 flex justify-between lux-panel-title"},W8=["aria-label"],q8={class:"flex flex-row gap-2 h-10 text-2xl"},H8=["aria-expanded"],z8={key:0},Y8=["aria-expanded"],K8={class:"relative grow p-2.5 bg-primary overflow-auto"},cS=ge(he({__name:"layer-panel",setup(t){const{t:e}=Ze(),r=vt(),{setLayersOpen:n}=r,{myLayersTabOpen:i}=Ue(r),{layers:s}=Ue(ht());function a(){r.setMyLayersTabOpen(!0)}function o(){r.setMyLayersTabOpen(!1)}return(l,u)=>(A(),G("div",U8,[F(" Panel title and close button "),P("div",B8,[P("h1",null,oe(O(e)("layers",{ns:"client"})),1),P("span",null,[P("button",{onClick:u[0]||(u[0]=()=>O(n)(!1)),"aria-label":O(e)("Close",{ns:"client"}),class:"fa-sharp fa-solid fa-close"},null,8,W8)])]),F(" My Layers and Catalog tab labels "),P("div",q8,[P("button",{onClick:a,class:Ie(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",O(i)?"bg-primary":"bg-tertiary"]),"aria-expanded":O(i)},[jl(oe(O(e)("my_layers",{ns:"client"}))+" ",1),O(s).length?(A(),G("span",z8,"("+oe(O(s).length)+")",1)):F("v-if",!0)],10,H8),P("button",{onClick:o,class:Ie(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",O(i)?"bg-tertiary":"bg-primary"]),"aria-expanded":!O(i)},oe(O(e)("Catalog",{ns:"client"})),11,Y8)]),F(" Panel content (MyLayers and Catalog) "),P("div",K8,[O(i)?(A(),Ge(G8,{key:0,onDisplayCatalog:o})):F("v-if",!0),O(i)?F("v-if",!0):(A(),Ge(M5,{key:1}))])]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/layer-panel/layer-panel.vue"]]);class X8{bootstrap(){let e;e=vr(()=>{this.restore(),this.persist(),e&&e()})}persist(){const e=Rc();et([()=>e.sliderActive,()=>e.sliderRatio],([r,n],[i])=>{r!==i&&Ce.setValue(Xh,r),Ce.setValue(Zh,n)})}restore(){const e=Ce.getValue(Xh,Yh),r=Ce.getValue(Zh,ha),{toggleSlider:n,setRatio:i}=Rc();typeof e<"u"&&e!==null&&(n(e),typeof r!==void 0&&r!==null&&i(r!=null?r:sS))}}const Z8=new X8,J8=["onKeydown"],Q8=P("span",{class:"lux-slider-line"},null,-1),ej=P("span",{class:"lux-slider-arrows"},[P("span"),P("span")],-1),tj={key:0,class:"lux-slider-layer-label"},rj=P("i",{class:"fa fa-arrow-left mr-2"},null,-1),fS=30,nj=ge(he({__name:"splitter-element",props:{sliderActive:{type:Boolean,required:!0},sliderRatio:{type:Number,required:!0},sliderTopLayer:{type:Object,required:!0},sliderOffset:{type:Number,required:!0},containerOffset:{type:Number,required:!0}},emits:["moveSplitBar","escSplitBar"],setup(t,{expose:e,emit:r}){const n=t,i=r,{t:s}=Ze(),a=Ee(null),o=de(()=>({left:`${n.sliderOffset}px`}));let l=!1;e({sliderElement:a});function u(g){i("moveSplitBar",g+a.value.offsetWidth/2)}function f(){l=!0,document.addEventListener("mousemove",c),document.addEventListener("mouseup",h)}function c(g){!l||u(g.clientX)}function h(){l=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}function d(){const g=n.containerOffset+a.value.offsetLeft;u(g+fS)}function p(){const g=n.containerOffset+a.value.offsetLeft;u(g-fS)}function m(){i("escSplitBar")}return _r(()=>{var g;(g=a.value)==null||g.focus({focusVisible:!0})}),gi(()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}),(g,v)=>(A(),G("button",{ref_key:"sliderElement",ref:a,onMousedown:f,onMousemove:c,onMouseup:h,onKeydown:[mn(pn(d,["stop"]),["space"]),mn(pn(d,["stop"]),["right"]),mn(pn(p,["stop"]),["left"]),mn(pn(p,["stop"]),["delete"]),mn(pn(m,["stop"]),["esc"])],class:"left-[20px] absolute h-full w-[32px] block",style:li(o.value),role:"seperator","aria-controls":"map-container"},[Q8,ej,g.sliderTopLayer?(A(),G("span",tj,[rj,P("span",null,oe(O(s)(g.sliderTopLayer.name)),1)])):F("v-if",!0)],44,J8))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/slider/splitter-element.vue"]]),hS=ge(he({__name:"slider-comparator",setup(t){const e=Rc(),r=Wd(),n=Sn().olMap,i=Ee(null),{sliderActive:s,sliderRatio:a,sliderTopLayer:o}=Ue(e),l=de(()=>{var y,b;return((b=(y=i.value)==null?void 0:y.sliderElement)==null?void 0:b.offsetWidth)||0}),u=function(){var b,S,x;let y=(x=(S=(b=n.value)==null?void 0:b.getViewport())==null?void 0:S.parentElement)==null?void 0:x.offsetLeft;return(y===void 0||y===0)&&(y=d==null?void 0:d.offsetLeft),y!==void 0?y:0},f=de(()=>{var y,b;return n.value&&i.value?a.value*n.value.getSize()[0]-((b=(y=i.value)==null?void 0:y.sliderElement)==null?void 0:b.offsetWidth)/2:0});let c,h,d;Z8.bootstrap(),et([o,s],([y,b],[S])=>{var x;y&&b?(y!==S&&m(),p()):m(),(x=n.value)==null||x.render()}),et(f,()=>{var y;(y=n.value)==null||y.render()});function p(){const y=r.getLayerFromCache(o.value);!y||(c=y.on(zp.default.PRERENDER,function(b){var R;const S=b.context,x=(R=n.value)==null?void 0:R.getSize(),N=f.value+l.value/2,M=sl.getRenderPixel(b,[0,0]),L=sl.getRenderPixel(b,[N,0]),D=sl.getRenderPixel(b,[0,x[1]]),C=sl.getRenderPixel(b,[N,x[0]]);S.save(),S.beginPath(),S.moveTo(M[0],M[1]),S.lineTo(D[0],D[1]),S.lineTo(C[0],C[1]),S.lineTo(L[0],L[1]),S.closePath(),S.clip()}),h=y.on(zp.default.POSTRENDER,function(b){b.context.restore()}))}function m(){CE.unByKey([c,h])}function g(y){var x;const b=(x=n.value)==null?void 0:x.getSize(),S=(y-u())/b[0];e.setRatio(S)}function v(){e.toggleSlider()}return _r(()=>{var y,b;d=(b=(y=n.value)==null?void 0:y.getTargetElement())==null?void 0:b.closest(".map-wrapper")}),gi(()=>{m()}),(y,b)=>O(o)&&O(s)?(A(),Ge(nj,{key:0,ref_key:"splitterElement",ref:i,sliderActive:O(s),sliderRatio:O(a),sliderTopLayer:O(o),sliderOffset:f.value,containerOffset:u(),onMoveSplitBar:g,onEscSplitBar:v},null,8,["sliderActive","sliderRatio","sliderTopLayer","sliderOffset","containerOffset"])):F("v-if",!0)}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/slider/slider-comparator.vue"]]),$c="-",Cp=",",dS="--";class ij{constructor(){ut(this,"layersOpacitiesToNumbersV2",e=>this.layersOpacitiesToNumbers(e,Cp))}layerTimesToStrings(e){return e?e.split(dS):[]}layerIdsToLayers(e){const r=Di(),n=$r();return(e?e.split($c):[]).map(s=>{const a=Uo.isRemoteLayer(s)?U4(s):r.findById(parseInt(s,10));return a?n.initLayer(a):void 0})}layerNamesToLayersV2(e){const r=Di(),n=$r();return(e?e.split(Cp):[]).map(s=>{const a=r.findByName(s);return a?n.initLayer(a):void 0})}layersOpacitiesToNumbers(e,r=$c){return ZI(e,r)}layersVisibilitiesToBooleansV2(e){return JI(e,Cp)}layersToLayerIds(e){return(e==null?void 0:e.map(r=>r.id).join($c))||""}layersToLayerOpacities(e){return(e==null?void 0:e.map(r=>{var n;return(n=r.opacity)!=null?n:1}).join($c))||""}layersToLayerTimes(e){return(e==null?void 0:e.map(r=>{var n;return(n=$r().getLayerCurrentTime(r))!=null?n:""}).join(dS))||""}bgLayerNameToBgLayer(e){const r=Di();return e?r.findBgLayerByName(e):null}bgLayerToBgLayerName(e){return(e==null?void 0:e.name)||dc.name}}const Or=new ij,sj="basemap_2015_global",aj="orthogr_2013_global",oj={webbasemap:"basemap_2015_global","pixelmaps-color":"topogr_global","pixelmaps-gray":"topo_bw_jpeg",streets:"streets_jpeg",voidlayer:"blank"};class lj{bootstrap(){const e=Ht();let r;r=vr(()=>{e.bgLayers.length>0&&(this.restore(),this.persist(),r&&r())})}persist(){const e=ht(),{bgLayer:r}=Ue(e);et(r,(n,i)=>{i!==n&&Ce.setValue(R_,n,Or.bgLayerToBgLayerName)},{immediate:!0})}restore(){const{setMapBackground:e}=qd(),r=this.getBgLayerFromStorage();e(r)}getBgLayerFromStorage(){const e=Ce.getInitialVersion(),r=Ce.getValue(R_);return r?e===2?this.getBgLayerFromStorageV2(r):Or.bgLayerNameToBgLayer(r):Or.bgLayerNameToBgLayer(sj)}getBgLayerFromStorageV2(e){const r=Ce.getValue(B_,ha);let n="";return e?n=oj[e]:r===0&&(n=aj),Or.bgLayerNameToBgLayer(n)}}const pS=new lj;class uj{bootstrap(){const e=Ht();let r;r=vr(()=>{e.themes&&(this.restore(),this.persist(),r&&r())})}persist(){const e=ht(),{layers:r}=Ue(e);et(r,(n,i)=>{i!==n&&(Ce.setValue(D_,n,Or.layersToLayerIds),Ce.setValue($_,n,Or.layersToLayerOpacities),Ce.setValue(F_,n,Or.layersToLayerTimes))},{immediate:!0})}restore(){const e=Ce.getInitialVersion(),r=ht(),n=Ce.getValue(D_,e===2?Or.layerNamesToLayersV2:Or.layerIdsToLayers);this.restoreLayersOpacities(n,e),this.restoreLayersTimes(n),e===2&&(Ce.removeItem(B_),Ce.removeItem(rk),Ce.removeItem(W_),Ce.removeItem(q_)),r.addLayers(...(n==null?void 0:n.filter(i=>i))||[])}restoreLayersOpacities(e,r){const n=r===2?this.getOpacitiesFromStorageV2():this.getOpacitiesFromStorage();n.length&&(e==null||e.forEach((i,s)=>{var a;return i&&(i.opacity=(a=n[s])!=null?a:1)}))}restoreLayersTimes(e){const r=Ce.getValue(F_,Or.layerTimesToStrings);r.length&&(e==null||e.forEach((n,i)=>n&&r[i]&&this.restoreLayerTime(n,r[i])))}restoreLayerTime(e,r){const n=r.split("/");e.currentTimeMinValue=n[0],e.currentTimeMaxValue=n[1]}getOpacitiesFromStorage(){return Ce.getValue($_,Or.layersOpacitiesToNumbers)}getOpacitiesFromStorageV2(){const e=Ce.getValue(W_,Or.layersOpacitiesToNumbersV2),r=Ce.getValue(q_,Or.layersVisibilitiesToBooleansV2);return e.map((n,i)=>r[i]?n:0)}}const mS=new uj;class cj{themeToThemeName(e){return(e==null?void 0:e.name)||""}}const fj=new cj;class hj{bootstrap(){this.restore();let e;e=vr(()=>{this.persist(),e&&e()})}persist(){const e=Ht();et(()=>e.theme,(r,n)=>{n!==r&&r&&Ce.setValue(ko,r,fj.themeToThemeName)},{immediate:!0})}restore(){const e=Ce.getValue(ko);if(e){const{setTheme:r}=Ht();r(e)}}}const gS=new hj;class dj{bootstrapLayersOpen(){this.restoreLayersOpen();let e;e=vr(()=>{this.persistLayersOpen(),e&&e()})}persistLayersOpen(){const e=vt(),{layersOpen:r}=Ue(e);et(r,(n,i)=>{i!==n&&Ce.setValue(qu,n)},{immediate:!0})}restoreLayersOpen(){const e=Ce.getValue(qu)!=="false",{setLayersOpen:r}=vt();r(e)}}const yS=new dj;class pj{bootstrap(){this.restore();let e;e=vr(()=>{this.persist(),e&&e()})}persist(){}restore(){const e=Ce.getValue(ek);vt().setMapId(e)}}const vS=new pj,mj=ge(he({__name:"simple-style-item",props:{styleName:{type:String,required:!0},colors:{type:Array,required:!0}},setup(t){const e=t;return(r,n)=>(A(!0),G(Ve,null,Tr(e.colors,(i,s)=>(A(),G("span",{key:`${r.styleName}-${s}`,class:"grow m-px",style:li(`background-color: ${i}`)}," \xA0 ",4))),128))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/style-selector/simple-style-item.vue"]]),gj={class:"text-white border-2 p-[10px] m-[10px]"},yj={class:"text-center mb-3"},vj=["title"],_j={class:"text-white"},bj=["title","onClick"],Sj={class:"flex"},Ej=ge(he({__name:"simple-style-selector",setup(t){const{t:e}=Ze(),r=tn(),n=Es(),{bgStyle:i}=Ue(r),s=en().simple_styles.road,a=Ee(s);et(i,l=>a.value=n.checkSelection(l||[],s),{immediate:!0});function o(l){r.setSimpleStyle(l)}return(l,u)=>(A(),G("div",gj,[F(" TODO: create clean container for simple and advanced style editors "),P("h5",yj,oe(O(e)("Select a style",{ns:"client"})),1),(A(!0),G(Ve,null,Tr(a.value,f=>(A(),G("div",{key:f.unlocalized_label,title:O(e)(f.unlocalized_label,{ns:"client"}),class:Ie(`${f.selected?"border-dotted":"border-hidden"} border-2 p-px`)},[P("span",_j,oe(O(e)(f.unlocalized_label,{ns:"client"}))+" : ",1),P("button",{title:O(e)("Select style: {{styleName}}",{styleName:O(e)(f.unlocalized_label)}),onClick:c=>o(f),class:"w-full"},[P("span",Sj,[se(mj,{colors:f.colors,"style-name":f.unlocalized_label},null,8,["colors","style-name"])])],8,bj)],10,vj))),128))]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/style-selector/simple-style-selector.vue"]]);function wj(t){const e=Oj(t);return!e||!e.medium_style_class?[]:en().medium_default_styles[e.medium_style_class]}function Oj(t){return en().bg_layers.find(e=>e.id==(t==null?void 0:t.id))}const xj={class:"flex w-full items-center"},Mj={for:"colorId",class:"w-40 m-0 font-medium"},Tj={class:"grow"},Nj=["value"],Cj=["checked","aria-label"],Pj=ge(he({__name:"medium-style-item",props:{style:{type:Object,required:!0},colorEditable:{type:Boolean,required:!0}},emits:["changeStyle"],setup(t,{emit:e}){const{t:r}=Ze(),n=t,i=e;function s(o){if(o.target){const l={...n.style,color:o.target.value};i("changeStyle",l)}}function a(o){if(o){const l={...n.style,visible:o.target.checked};i("changeStyle",l)}}return(o,l)=>(A(),G("div",xj,[P("label",Mj,oe(O(r)(o.style.label)),1),P("div",Tj,[o.colorEditable&&n.style.color?(A(),G("input",{key:0,id:"colorId",type:"color",class:"w-11 h-5 py-[1px] px-[2px]",value:n.style.color,onInput:s},null,40,Nj)):F("v-if",!0)]),P("input",{type:"checkbox",class:"flex-none mr-3",checked:n.style.visible,onChange:a,"aria-label":O(r)("Show or hide {{ thematicName }}",{thematicName:n.style.label})},null,40,Cj)]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/style-selector/medium-style-item.vue"]]),Lj={class:"text-white border-2 p-[10px] m-[10px]"},Aj={class:"text-center mb-3"},Ij=ge(he({__name:"medium-style-selector",props:{layer:{type:Object,required:!0}},setup(t){const e=["basemap_2015_global"],r=tn(),{bgStyle:n}=Ue(r),{t:i}=Ze(),s=t,a=de(()=>e.includes(s.layer.name)),o=de(()=>n.value||wj(s.layer));function l(u,f){n.value=o.value.map((c,h)=>h===u?f:c),r.disableExpertStyle()}return(u,f)=>(A(),G("div",Lj,[P("h5",Aj,oe(a.value?O(i)("Select a colour for every theme"):O(i)("Activate categories")),1),(A(!0),G(Ve,null,Tr(o.value,(c,h)=>(A(),Ge(Pj,{key:c.label,style:li(c),onChangeStyle:d=>l(h,d),colorEditable:a.value},null,8,["style","onChangeStyle","colorEditable"]))),128))]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/style-selector/medium-style-selector.vue"]]);var _S={exports:{}};(function(t,e){(function(r,n){n()})(ur,function(){function r(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,f,c){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,f,c)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ur=="object"&&ur.global===ur?ur:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,f,c){var h=a.URL||a.webkitURL,d=document.createElement("a");f=f||u.name||"download",d.download=f,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?s(d):i(d.href)?n(u,f,c):s(d,d.target="_blank")):(d.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,c){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,c),f);else if(i(u))n(u,f,c);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){s(h)})}}:function(u,f,c,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return n(u,f,c);var d=u.type==="application/octet-stream",p=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||d&&p||o)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var b=g.result;b=m?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=b:location=b,h=null},g.readAsDataURL(u)}else{var v=a.URL||a.webkitURL,y=v.createObjectURL(u);h?h.location=y:location.href=y,h=null,setTimeout(function(){v.revokeObjectURL(y)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(_S);const kj={class:"text-white border-2 p-[10px] m-[10px] flex flex-col"},Dj={class:"text-center mb-3"},Rj={class:"flex flex-row justify-center"},$j={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium text-white"},Fj={class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] text-sm"},jj={class:"'block z-[5] w-full h-full cursor-pointer after:absolute after:pt-[15px] after:px-[15px] after:w-full after:text-center after:content-upload",for:"uploadMvtStyle"},Vj={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium"},Gj=["href"],Uj=ge(he({__name:"expert-style-selector",setup(t){const e=ht(),r=tn(),n=Es(),{appliedStyle:i}=Ue(r),{t:s}=Ze();function a(){const u=i.value,f=JSON.stringify(u),c=new Blob([f],{type:"text/plain;charset=utf-8"}),h="styles.json";_S.exports.saveAs(c,h)}function o(u){const f=u.target.files;if((f==null?void 0:f.length)!==1)return;const c=f[0];new File([],"./text.txt").text().then(d=>console.log(d)),c.type==="application/json"&&(c.text().then(d=>{r.enableExpertStyle(),i.value=JSON.parse(d)}),u.target.value="")}function l(){return r.styleSerial===null?n.getDefaultMapBoxStyleUrl(n.getVectorId(e.bgLayer)):`${r.registerUrls.get("get")}?id=${r.styleSerial}`}return(u,f)=>(A(),G("div",kj,[P("h5",Dj,oe(O(s)("Lancer \xE9diteur externe ou importer json")),1),P("div",Rj,[P("a",{href:"#",class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] z-5 text-sm after:absolute after:left-[20px] after:top-[10px] after:z-4 after:w-[3.6em] after:text-center after:content-download",onClick:f[0]||(f[0]=c=>a())},[P("span",$j,oe(O(s)("Download style")),1)]),P("div",Fj,[P("label",jj,[P("span",Vj,oe(O(s)("Upload style")),1)]),P("input",{class:"invisible",type:"file",name:"uploadMvtStyle",id:"uploadMvtStyle",onChange:o},null,32)])]),P("a",{href:`https://maputnik.github.io/editor/?style=${l()}`,target:"_blank",class:"lux-btn text-center"},oe(O(s)("Open Maputnik editor")),9,Gj)]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/style-selector/expert-style-selector.vue"]]),Bj={key:0},Wj={key:0,class:"mb-px"},qj={key:1,class:"mb-px"},Hj={key:2,class:"mb-px"},bS=ge(he({__name:"style-selector",setup(t){const{t:e}=Ze(),r=ht(),n=vt(),i=tn(),{bgStyle:s,isExpertStyleActive:a}=Ue(i),{bgLayer:o}=Ue(r),l=Es(),u=de(()=>l.getStyleCapabilitiesFromLayer(o.value));et(o,h=>{l.isLayerStyleEditable(h)||n.closeStyleEditorPanel()});let f=Ee(void 0);function c(){i.setStyle(null)}return(h,d)=>u.value.isEditable?(A(),G("div",Bj,[u.value.hasSimpleStyle?(A(),G("div",Wj,[se(pc,{title:O(e)("Simple"),expanded:O(f)==="simpleStyle",onTogglePanel:d[0]||(d[0]=()=>Ye(f)?f.value=O(f)==="simpleStyle"?void 0:"simpleStyle":f=O(f)==="simpleStyle"?void 0:"simpleStyle")},{default:pi(()=>[se(Ej)]),_:1},8,["title","expanded"])])):F("v-if",!0),u.value.hasAdvancedStyle?(A(),G("div",qj,[se(pc,{title:O(e)("Medium"),expanded:O(f)==="mediumStyle",onTogglePanel:d[1]||(d[1]=()=>Ye(f)?f.value=O(f)==="mediumStyle"?void 0:"mediumStyle":f=O(f)==="mediumStyle"?void 0:"mediumStyle")},{default:pi(()=>[O(o)?(A(),Ge(Ij,{key:0,layer:O(o)},null,8,["layer"])):F("v-if",!0)]),_:1},8,["title","expanded"])])):F("v-if",!0),u.value.hasExpertStyle?(A(),G("div",Hj,[se(pc,{title:O(e)("Expert (style.json)"),expanded:O(f)==="advancedStyle",onTogglePanel:d[2]||(d[2]=()=>Ye(f)?f.value=O(f)==="advancedStyle"?void 0:"advancedStyle":f=O(f)==="advancedStyle"?void 0:"advancedStyle")},{default:pi(()=>[O(o)?(A(),Ge(Uj,{key:0,layer:O(o)},null,8,["layer"])):F("v-if",!0)]),_:1},8,["title","expanded"])])):F("v-if",!0),O(s)||O(a)?(A(),G("button",{key:3,onClick:c,class:"lux-btn my-2"},oe(O(e)("Reset style",{ns:"client"})),1)):F("v-if",!0)])):F("v-if",!0)}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/components/style-selector/style-selector.vue"]]);function Pp(t){return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function SS(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Pp(XMLHttpRequest))==="object"}function zj(t){return!!t&&typeof t.then=="function"}function Yj(t){return zj(t)?t:Promise.resolve(t)}function Kj(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Fc={exports:{}},jc={exports:{}},ES;function Xj(){return ES||(ES=1,function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ur<"u"&&ur,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(a){var o=typeof s<"u"&&s||typeof self<"u"&&self||typeof o<"u"&&o,l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(T){return T&&DataView.prototype.isPrototypeOf(T)}if(l.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(T){return T&&f.indexOf(Object.prototype.toString.call(T))>-1};function h(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(T)||T==="")throw new TypeError('Invalid character in header field name: "'+T+'"');return T.toLowerCase()}function d(T){return typeof T!="string"&&(T=String(T)),T}function p(T){var $={next:function(){var z=T.shift();return{done:z===void 0,value:z}}};return l.iterable&&($[Symbol.iterator]=function(){return $}),$}function m(T){this.map={},T instanceof m?T.forEach(function($,z){this.append(z,$)},this):Array.isArray(T)?T.forEach(function($){this.append($[0],$[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function($){this.append($,T[$])},this)}m.prototype.append=function(T,$){T=h(T),$=d($);var z=this.map[T];this.map[T]=z?z+", "+$:$},m.prototype.delete=function(T){delete this.map[h(T)]},m.prototype.get=function(T){return T=h(T),this.has(T)?this.map[T]:null},m.prototype.has=function(T){return this.map.hasOwnProperty(h(T))},m.prototype.set=function(T,$){this.map[h(T)]=d($)},m.prototype.forEach=function(T,$){for(var z in this.map)this.map.hasOwnProperty(z)&&T.call($,this.map[z],z,this)},m.prototype.keys=function(){var T=[];return this.forEach(function($,z){T.push(z)}),p(T)},m.prototype.values=function(){var T=[];return this.forEach(function($){T.push($)}),p(T)},m.prototype.entries=function(){var T=[];return this.forEach(function($,z){T.push([z,$])}),p(T)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function g(T){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}function v(T){return new Promise(function($,z){T.onload=function(){$(T.result)},T.onerror=function(){z(T.error)}})}function y(T){var $=new FileReader,z=v($);return $.readAsArrayBuffer(T),z}function b(T){var $=new FileReader,z=v($);return $.readAsText(T),z}function S(T){for(var $=new Uint8Array(T),z=new Array($.length),X=0;X<$.length;X++)z[X]=String.fromCharCode($[X]);return z.join("")}function x(T){if(T.slice)return T.slice(0);var $=new Uint8Array(T.byteLength);return $.set(new Uint8Array(T)),$.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(T){this.bodyUsed=this.bodyUsed,this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:l.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:l.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():l.arrayBuffer&&l.blob&&u(T)?(this._bodyArrayBuffer=x(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||c(T))?this._bodyArrayBuffer=x(T):this._bodyText=T=Object.prototype.toString.call(T):this._bodyText="",this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var T=g(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var T=g(this);return T||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(y)}),this.text=function(){var T=g(this);if(T)return T;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L(T){var $=T.toUpperCase();return M.indexOf($)>-1?$:T}function D(T,$){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$=$||{};var z=$.body;if(T instanceof D){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,$.headers||(this.headers=new m(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!z&&T._bodyInit!=null&&(z=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new m($.headers)),this.method=L($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(z),(this.method==="GET"||this.method==="HEAD")&&($.cache==="no-store"||$.cache==="no-cache")){var X=/([?&])_=[^&]*/;if(X.test(this.url))this.url=this.url.replace(X,"$1_="+new Date().getTime());else{var Le=/\?/;this.url+=(Le.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function C(T){var $=new FormData;return T.trim().split("&").forEach(function(z){if(z){var X=z.split("="),Le=X.shift().replace(/\+/g," "),Ae=X.join("=").replace(/\+/g," ");$.append(decodeURIComponent(Le),decodeURIComponent(Ae))}}),$}function R(T){var $=new m,z=T.replace(/\r?\n[\t ]+/g," ");return z.split("\r").map(function(X){return X.indexOf(`
`)===0?X.substr(1,X.length):X}).forEach(function(X){var Le=X.split(":"),Ae=Le.shift().trim();if(Ae){var _t=Le.join(":").trim();$.append(Ae,_t)}}),$}N.call(D.prototype);function k(T,$){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new m($.headers),this.url=$.url||"",this._initBody(T)}N.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},k.error=function(){var T=new k(null,{status:0,statusText:""});return T.type="error",T};var Q=[301,302,303,307,308];k.redirect=function(T,$){if(Q.indexOf($)===-1)throw new RangeError("Invalid status code");return new k(null,{status:$,headers:{location:T}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function($,z){this.message=$,this.name=z;var X=Error($);this.stack=X.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function be(T,$){return new Promise(function(z,X){var Le=new D(T,$);if(Le.signal&&Le.signal.aborted)return X(new a.DOMException("Aborted","AbortError"));var Ae=new XMLHttpRequest;function _t(){Ae.abort()}Ae.onload=function(){var Ne={status:Ae.status,statusText:Ae.statusText,headers:R(Ae.getAllResponseHeaders()||"")};Ne.url="responseURL"in Ae?Ae.responseURL:Ne.headers.get("X-Request-URL");var Rt="response"in Ae?Ae.response:Ae.responseText;setTimeout(function(){z(new k(Rt,Ne))},0)},Ae.onerror=function(){setTimeout(function(){X(new TypeError("Network request failed"))},0)},Ae.ontimeout=function(){setTimeout(function(){X(new TypeError("Network request failed"))},0)},Ae.onabort=function(){setTimeout(function(){X(new a.DOMException("Aborted","AbortError"))},0)};function Kt(Ne){try{return Ne===""&&o.location.href?o.location.href:Ne}catch{return Ne}}Ae.open(Le.method,Kt(Le.url),!0),Le.credentials==="include"?Ae.withCredentials=!0:Le.credentials==="omit"&&(Ae.withCredentials=!1),"responseType"in Ae&&(l.blob?Ae.responseType="blob":l.arrayBuffer&&Le.headers.get("Content-Type")&&Le.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Ae.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof m)?Object.getOwnPropertyNames($.headers).forEach(function(Ne){Ae.setRequestHeader(Ne,d($.headers[Ne]))}):Le.headers.forEach(function(Ne,Rt){Ae.setRequestHeader(Rt,Ne)}),Le.signal&&(Le.signal.addEventListener("abort",_t),Ae.onreadystatechange=function(){Ae.readyState===4&&Le.signal.removeEventListener("abort",_t)}),Ae.send(typeof Le._bodyInit>"u"?null:Le._bodyInit)})}return be.polyfill=!0,o.fetch||(o.fetch=be,o.Headers=m,o.Request=D,o.Response=k),a.Headers=m,a.Request=D,a.Response=k,a.fetch=be,a})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(jc,jc.exports)),jc.exports}(function(t,e){var r;if(typeof fetch=="function"&&(typeof ur<"u"&&ur.fetch?r=ur.fetch:typeof window<"u"&&window.fetch?r=window.fetch:r=fetch),typeof Kj<"u"&&typeof window>"u"){var n=r||Xj();n.default&&(n=n.default),e.default=n,t.exports=e.default}})(Fc,Fc.exports);const wS=Fc.exports,OS=IE({__proto__:null,default:wS},[Fc.exports]);function xS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(r),!0).forEach(function(n){Zj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zj(t,e,r){return e=Jj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jj(t){var e=Qj(t,"string");return Ls(e)=="symbol"?e:String(e)}function Qj(t,e){if(Ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ls(t){return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}var ri;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?ri=global.fetch:typeof window<"u"&&window.fetch?ri=window.fetch:ri=fetch);var el;SS()&&(typeof global<"u"&&global.XMLHttpRequest?el=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(el=window.XMLHttpRequest));var Vc;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Vc=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Vc=window.ActiveXObject)),!ri&&OS&&!el&&!Vc&&(ri=wS||OS),typeof ri!="function"&&(ri=void 0);var Lp=function(e,r){if(r&&Ls(r)==="object"){var n="";for(var i in r)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(r[i]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},TS=function(e,r,n,i){var s=function(l){if(!l.ok)return n(l.statusText||"Error",{status:l.status});l.text().then(function(u){n(null,{status:l.status,data:u})}).catch(n)};if(i){var a=i(e,r);if(a instanceof Promise){a.then(s).catch(n);return}}typeof fetch=="function"?fetch(e,r).then(s).catch(n):ri(e,r).then(s).catch(n)},NS=!1,eV=function(e,r,n,i){e.queryStringParams&&(r=Lp(r,e.queryStringParams));var s=MS({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(s["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,o=MS({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:s},NS?{}:a),l=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{TS(r,o,i,l)}catch(u){if(!a||Object.keys(a).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(a).forEach(function(f){delete o[f]}),TS(r,o,i,l),NS=!0}catch(f){i(f)}}},tV=function(e,r,n,i){n&&Ls(n)==="object"&&(n=Lp("",n).slice(1)),e.queryStringParams&&(r=Lp(r,e.queryStringParams));try{var s;el?s=new el:s=new Vc("MSXML2.XMLHTTP.3.0"),s.open(n?"POST":"GET",r,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,n&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var o in a)s.setRequestHeader(o,a[o]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(n)}catch(l){console&&console.log(l)}},rV=function(e,r,n,i){if(typeof n=="function"&&(i=n,n=void 0),i=i||function(){},ri&&r.indexOf("file:")!==0)return eV(e,r,n,i);if(SS()||typeof ActiveXObject=="function")return tV(e,r,n,i);i(new Error("No fetch and no xhr implementation found!"))};function tl(t){return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function CS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ap(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(r),!0).forEach(function(n){LS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AS(n.key),n)}}function iV(t,e,r){return e&&PS(t.prototype,e),r&&PS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LS(t,e,r){return e=AS(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AS(t){var e=sV(t,"string");return tl(e)=="symbol"?e:String(e)}function sV(t,e){if(tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aV=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,n,i){return LS({},n,i||"")},parseLoadPayload:function(r,n){},request:rV,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Ip=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};nV(this,t),this.services=e,this.options=r,this.allOptions=n,this.type="backend",this.init(e,r,n)}return iV(t,[{key:"init",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=Ap(Ap(Ap({},aV()),this.options||{}),i),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return n.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(r,n,i){this._readAny(r,r,n,n,i)}},{key:"read",value:function(r,n,i){this._readAny([r],r,[n],n,i)}},{key:"_readAny",value:function(r,n,i,s,a){var o=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(r,i)),l=Yj(l),l.then(function(u){if(!u)return a(null,{});var f=o.services.interpolator.interpolate(u,{lng:r.join("+"),ns:i.join("+")});o.loadUrl(f,a,n,s)})}},{key:"loadUrl",value:function(r,n,i,s){var a=this,o=typeof i=="string"?[i]:i,l=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(o,l);this.options.request(this.options,r,u,function(f,c){if(c&&(c.status>=500&&c.status<600||!c.status))return n("failed loading "+r+"; status code: "+c.status,!0);if(c&&c.status>=400&&c.status<500)return n("failed loading "+r+"; status code: "+c.status,!1);if(!c&&f&&f.message&&f.message.indexOf("Failed to fetch")>-1)return n("failed loading "+r+": "+f.message,!0);if(f)return n(f,!1);var h,d;try{typeof c.data=="string"?h=a.options.parse(c.data,i,s):h=c.data}catch{d="failed parsing "+r+" to json"}if(d)return n(d,!1);n(null,h)})}},{key:"create",value:function(r,n,i,s,a){var o=this;if(!!this.options.addPath){typeof r=="string"&&(r=[r]);var l=this.options.parsePayload(n,i,s),u=0,f=[],c=[];r.forEach(function(h){var d=o.options.addPath;typeof o.options.addPath=="function"&&(d=o.options.addPath(h,n));var p=o.services.interpolator.interpolate(d,{lng:h,ns:n});o.options.request(o.options,p,l,function(m,g){u+=1,f.push(m),c.push(g),u===r.length&&typeof a=="function"&&a(f,c)})})}}},{key:"reload",value:function(){var r=this,n=this.services,i=n.backendConnector,s=n.languageUtils,a=n.logger,o=i.language;if(!(o&&o.toLowerCase()==="cimode")){var l=[],u=function(c){var h=s.toResolveHierarchy(c);h.forEach(function(d){l.indexOf(d)<0&&l.push(d)})};u(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return u(f)}),l.forEach(function(f){r.allOptions.ns.forEach(function(c){i.read(f,c,"read",null,null,function(h,d){h&&a.warn("loading namespace ".concat(c," for language ").concat(f," failed"),h),!h&&d&&a.log("loaded namespace ".concat(c," for language ").concat(f),d),i.loaded("".concat(f,"|").concat(c),h,d)})})})}}}]),t}();Ip.type="backend";var oV=uc,IS=Array.isArray||function(e){return oV(e)==="Array"},lV=TypeError,uV=9007199254740991,cV=function(t){if(t>uV)throw lV("Maximum allowed index exceeded");return t},fV=Xn,hV=Do,dV=Ed,pV=function(t,e,r){fV?hV.f(t,e,dV(0,r)):t[e]=r},mV=fr,gV=cr,kS=Fr,yV=Gd,vV=od,_V=Ab,DS=function(){},RS=vV("Reflect","construct"),kp=/^\s*(?:class|function)\b/,bV=mV(kp.exec),SV=!kp.test(DS),rl=function(e){if(!kS(e))return!1;try{return RS(DS,[],e),!0}catch{return!1}},$S=function(e){if(!kS(e))return!1;switch(yV(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return SV||!!bV(kp,_V(e))}catch{return!0}};$S.sham=!0;var EV=!RS||gV(function(){var t;return rl(rl.call)||!rl(Object)||!rl(function(){t=!0})||t})?$S:rl,FS=IS,wV=EV,OV=Os,xV=ma,MV=xV("species"),jS=Array,TV=function(t){var e;return FS(t)&&(e=t.constructor,wV(e)&&(e===jS||FS(e.prototype))?e=void 0:OV(e)&&(e=e[MV],e===null&&(e=void 0))),e===void 0?jS:e},NV=TV,VS=function(t,e){return new(NV(t))(e===0?0:e)},CV=cr,PV=ma,LV=ud,AV=PV("species"),IV=function(t){return LV>=51||!CV(function(){var e=[],r=e.constructor={};return r[AV]=function(){return{foo:1}},e[t](Boolean).foo!==1})},kV=Fd,DV=cr,RV=IS,$V=Os,FV=rc,jV=Dd,GS=cV,US=pV,VV=VS,GV=IV,UV=ma,BV=ud,BS=UV("isConcatSpreadable"),WV=BV>=51||!DV(function(){var t=[];return t[BS]=!1,t.concat()[0]!==t}),qV=function(t){if(!$V(t))return!1;var e=t[BS];return e!==void 0?!!e:RV(t)},HV=!WV||!GV("concat");kV({target:"Array",proto:!0,arity:1,forced:HV},{concat:function(e){var r=FV(this),n=VV(r,0),i=0,s,a,o,l,u;for(s=-1,o=arguments.length;s<o;s++)if(u=s===-1?r:arguments[s],qV(u))for(l=jV(u),GS(i+l),a=0;a<l;a++,i++)a in u&&US(n,i,u[a]);else GS(i+1),US(n,i++,u);return n.length=i,n}});var zV=uc,YV=fr,KV=function(t){if(zV(t)==="Function")return YV(t)},WS=KV,XV=mb,ZV=rd,JV=WS(WS.bind),QV=function(t,e){return XV(t),e===void 0?t:ZV?JV(t,e):function(){return t.apply(e,arguments)}},e7=QV,t7=fr,r7=Id,n7=rc,i7=Dd,s7=VS,qS=t7([].push),Hi=function(t){var e=t===1,r=t===2,n=t===3,i=t===4,s=t===6,a=t===7,o=t===5||s;return function(l,u,f,c){for(var h=n7(l),d=r7(h),p=i7(d),m=e7(u,f),g=0,v=c||s7,y=e?v(l,p):r||a?v(l,0):void 0,b,S;p>g;g++)if((o||g in d)&&(b=d[g],S=m(b,g,h),t))if(e)y[g]=S;else if(S)switch(t){case 3:return!0;case 5:return b;case 6:return g;case 2:qS(y,b)}else switch(t){case 4:return!1;case 7:qS(y,b)}return s?-1:n||i?i:y}},a7={forEach:Hi(0),map:Hi(1),filter:Hi(2),some:Hi(3),every:Hi(4),find:Hi(5),findIndex:Hi(6),filterReject:Hi(7)},o7=cr,l7=function(t,e){var r=[][t];return!!r&&o7(function(){r.call(null,e||function(){return 1},1)})},u7=a7.forEach,c7=l7,f7=c7("forEach"),HS=f7?[].forEach:function(e){return u7(this,e,arguments.length>1?arguments[1]:void 0)},h7=Fd,zS=HS;h7({target:"Array",proto:!0,forced:[].forEach!==zS},{forEach:zS});var d7={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},p7=nb,Dp=p7("span").classList,YS=Dp&&Dp.constructor&&Dp.constructor.prototype,m7=YS===Object.prototype?void 0:YS,KS=rn,XS=d7,g7=m7,Rp=HS,y7=wd,ZS=function(t){if(t&&t.forEach!==Rp)try{y7(t,"forEach",Rp)}catch{t.forEach=Rp}};for(var $p in XS)XS[$p]&&ZS(KS[$p]&&KS[$p].prototype);ZS(g7);function JS(t,e,r){var n=r(t,e);n&&t instanceof qE.default&&t.getLayers().forEach(function(i){JS(i,[].concat(Rk(e),[t]),r)})}const v7={class:"h-screen flex flex-col overflow-hidden"},_7={class:"flex grow"},b7={key:0,class:"w-full sm:w-80 bg-secondary z-10"},S7={key:1,class:"w-80 bg-primary"},E7={class:"map-wrapper grow bg-blue-100 relative"},w7={class:"absolute right-1 top-16"},QS=ge(he({__name:"App",setup(t){const e=vt();vS.bootstrap(),mS.bootstrap(),gS.bootstrap(),yS.bootstrapLayersOpen(),Qh.bootstrapStyle(),pS.bootstrap();const{layersOpen:r,styleEditorOpen:n}=Ue(e);et(r,()=>setTimeout(()=>{i()},50)),_r(()=>window.addEventListener("resize",i)),gi(()=>window.removeEventListener("resize",i));function i(){const s=Sn().getOlMap();s.updateSize(),JS(s.getLayerGroup(),[],a=>(a instanceof Bd&&a.getMapLibreMap().resize(),!0))}return(s,a)=>(A(),G("div",v7,[se(k1),P("main",_7,[F(" Layer panel "),O(r)?(A(),G("div",b7,[se(cS)])):F("v-if",!0),F(" Style editor "),O(n)?(A(),G("div",S7,[se(bS)])):F("v-if",!0),F(" Map container and slider comparator "),P("div",E7,[se(u1,{v4_standalone:!0}),se(hS,{class:"absolute top-0"}),se(C1),se(A1)]),F(" Background selector "),P("div",w7,[se(f1)])]),se(D1,{class:"fixed bottom-5 sm:static z-20"}),se(Tv)]))}}),[["__file","/home/tkohr/Projets/luxembourg/git/luxembourg-geoportail/src/App.vue"]]);zP(),it.use(Ip),it.init({lng:"fr",debug:!1,defaultNS:"client",supportedLngs:["de","en","fr","lb"],ns:["client","legends","server","tooltips"],fallbackLng:"fr",backend:{loadPath:"/static-ngeo/web-components/assets/locales/{{ns}}.{{lng}}.json"},nsSeparator:"|"});const Gc=tM(QS);Gc.use(Iy()),Gc.use(e0,{i18next:it}),Gc.use(_y);const O7=(t={},e=null)=>Mv({setup:()=>{const r=qa();Object.assign(r.appContext,e._context),Object.assign(r.provides,e._context.provides)},render:()=>Bg(t)},{shadowRoot:!1});ee.AlertNotifications=Tv,ee.App=QS,ee.BackgroundSelector=f1,ee.DropdownList=vh,ee.FooterBar=D1,ee.HeaderBar=k1,ee.I18NextVue=e0,ee.LayerMetadata=A1,ee.LayerPanel=cS,ee.MapContainer=u1,ee.MapLibreLayer=Bd,ee.RemoteLayers=C1,ee.SliderComparator=hS,ee.StyleSelector=bS,ee.VueDOMPurifyHTML=_y,ee.app=Gc,ee.backend=Ip,ee.createElementInstance=O7,ee.createPinia=Iy,ee.defineCustomElement=Mv,ee.i18next=it,ee.proxyUrlHelper=ws,ee.statePersistorBgLayerService=pS,ee.statePersistorLayersOpenService=yS,ee.statePersistorLayersService=mS,ee.statePersistorMyMapService=vS,ee.statePersistorStyleService=Qh,ee.statePersistorThemeService=gS,ee.storeToRefs=Ue,ee.themeSelectorService=I1,ee.useAppStore=vt,ee.useBackgroundLayer=qd,ee.useLayers=$r,ee.useMap=Sn,ee.useMapStore=ht,ee.useMvtStyles=Es,ee.useOpenLayers=Wd,ee.useStyleStore=tn,ee.useThemeStore=Ht,ee.useThemes=Di,ee.watch=et,Object.defineProperties(ee,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
