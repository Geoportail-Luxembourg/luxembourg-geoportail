(function(Q,Et){typeof exports=="object"&&typeof module<"u"?Et(exports,require("ol/proj"),require("ol/proj/proj4"),require("ol/Map"),require("ol/View"),require("ol/layer/Image"),require("ol/source/ImageWMS"),require("ol/layer/Tile"),require("ol/source/WMTS"),require("ol/tilegrid/WMTS"),require("ol/extent"),require("ol/layer/Layer"),require("ol/math"),require("ol/proj.js"),require("mapbox-gl"),require("ol/events"),require("ol/ObjectEventType"),require("ol/css"),require("ol/control/Control"),require("ol/control/FullScreen"),require("ol/control/Zoom"),require("ol/control/ZoomToExtent"),require("ol/format/WMTSCapabilities.js"),require("ol/render"),require("ol/Observable"),require("ol/render/EventType"),require("ol/layer/Group.js")):typeof define=="function"&&define.amd?define(["exports","ol/proj","ol/proj/proj4","ol/Map","ol/View","ol/layer/Image","ol/source/ImageWMS","ol/layer/Tile","ol/source/WMTS","ol/tilegrid/WMTS","ol/extent","ol/layer/Layer","ol/math","ol/proj.js","mapbox-gl","ol/events","ol/ObjectEventType","ol/css","ol/control/Control","ol/control/FullScreen","ol/control/Zoom","ol/control/ZoomToExtent","ol/format/WMTSCapabilities.js","ol/render","ol/Observable","ol/render/EventType","ol/layer/Group.js"],Et):(Q=typeof globalThis<"u"?globalThis:Q||self,Et(Q["luxembourg-geoportail"]={},Q.proj,Q.proj4$1,Q.OlMap,Q.OlView,Q.ImageLayer,Q.ImageWMS,Q.TileLayer,Q.WmtsSource,Q.WmtsTileGrid,Q.extent,Q.Layer,Q.math,Q.proj_js,Q.mapboxgl,Q.olEvents,Q.ObjectEventType,Q.css$1,Q.Control,Q.FullScreen,Q.Zoom,Q.OlControlZoomToExtent,Q.WMTSCapabilities,Q.render$1,Q.Observable,Q.EventType,Q.olLayerGroup))})(this,function(Q,Et,Vi,hb,db,mb,pb,gb,yb,vb,_b,bb,Eb,Sb,wb,xb,Ob,Wo,Mb,Tb,Nb,Cb,Lb,qo,Pb,Ab,kb){"use strict";var E4=Object.defineProperty;var S4=(Q,Et,Vi)=>Et in Q?E4(Q,Et,{enumerable:!0,configurable:!0,writable:!0,value:Vi}):Q[Et]=Vi;var Qe=(Q,Et,Vi)=>(S4(Q,typeof Et!="symbol"?Et+"":Et,Vi),Vi);const Pt=t=>t&&typeof t=="object"&&"default"in t?t:{default:t};function Db(t){if(t&&t.__esModule)return t;const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}function Ib(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const Rb=Pt(hb),$b=Pt(db),Fb=Pt(mb),yd=Pt(pb),Vb=Pt(gb),vd=Pt(yb),jb=Pt(vb),Gb=Pt(bb),_d=Pt(wb),bd=Db(xb),Ub=Pt(Ob),Ed=Pt(Mb),Bb=Pt(Tb),Wb=Pt(Nb),qb=Pt(Cb),Hb=Pt(Lb),Sd=Pt(Ab),zb=Pt(kb);/**
* @vue/shared v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Cr(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Ze=process.env.NODE_ENV!=="production"?Object.freeze({}):{},Ms=process.env.NODE_ENV!=="production"?Object.freeze([]):[],pt=()=>{},Yb=()=>!1,ga=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ho=t=>t.startsWith("onUpdate:"),et=Object.assign,dc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Xb=Object.prototype.hasOwnProperty,De=(t,e)=>Xb.call(t,e),ue=Array.isArray,ji=t=>zo(t)==="[object Map]",wd=t=>zo(t)==="[object Set]",ge=t=>typeof t=="function",rt=t=>typeof t=="string",Gi=t=>typeof t=="symbol",je=t=>t!==null&&typeof t=="object",mc=t=>(je(t)||ge(t))&&ge(t.then)&&ge(t.catch),xd=Object.prototype.toString,zo=t=>xd.call(t),pc=t=>zo(t).slice(8,-1),Od=t=>zo(t)==="[object Object]",gc=t=>rt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ya=Cr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kb=Cr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Yo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Zb=/-(\w)/g,mn=Yo(t=>t.replace(Zb,(e,n)=>n?n.toUpperCase():"")),Jb=/\B([A-Z])/g,sn=Yo(t=>t.replace(Jb,"-$1").toLowerCase()),Ui=Yo(t=>t.charAt(0).toUpperCase()+t.slice(1)),Bi=Yo(t=>t?`on${Ui(t)}`:""),ti=(t,e)=>!Object.is(t,e),va=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Md=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Qb=t=>{const e=parseFloat(t);return isNaN(e)?t:e},yc=t=>{const e=rt(t)?Number(t):NaN;return isNaN(e)?t:e};let Td;const Xo=()=>Td||(Td=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ni(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=rt(r)?r1(r):ni(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(rt(t)||je(t))return t}const e1=/;(?![^(]*\))/g,t1=/:([^]+)/,n1=/\/\*[^]*?\*\//g;function r1(t){const e={};return t.replace(n1,"").split(e1).forEach(n=>{if(n){const r=n.split(t1);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ae(t){let e="";if(rt(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const r=Ae(t[n]);r&&(e+=r+" ")}else if(je(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const i1="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",s1="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",a1="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",o1=Cr(i1),l1=Cr(s1),u1=Cr(a1),c1=Cr("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Nd(t){return!!t||t===""}const oe=t=>rt(t)?t:t==null?"":ue(t)||je(t)&&(t.toString===xd||!ge(t.toString))?JSON.stringify(t,Cd,2):String(t),Cd=(t,e)=>e&&e.__v_isRef?Cd(t,e.value):ji(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[vc(r,s)+" =>"]=i,n),{})}:wd(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>vc(n))}:Gi(e)?vc(e):je(e)&&!ue(e)&&!Od(e)?String(e):e,vc=(t,e="")=>{var n;return Gi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function tr(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let pn;class Ld{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=pn,!e&&pn&&(this.index=(pn.scopes||(pn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=pn;try{return pn=this,e()}finally{pn=n}}else process.env.NODE_ENV!=="production"&&tr("cannot run an inactive effect scope.")}on(){pn=this}off(){pn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Pd(t){return new Ld(t)}function f1(t,e=pn){e&&e.active&&e.effects.push(t)}function Ad(){return pn}function h1(t){pn?pn.cleanups.push(t):process.env.NODE_ENV!=="production"&&tr("onScopeDispose() is called when there is no active effect scope to be associated with.")}let Wi;class _c{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,f1(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Lr();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(d1(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Pr()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ri,n=Wi;try{return ri=!0,Wi=this,this._runnings++,kd(this),this.fn()}finally{Dd(this),this._runnings--,Wi=n,ri=e}}stop(){var e;this.active&&(kd(this),Dd(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function d1(t){return t.value}function kd(t){t._trackId++,t._depsLength=0}function Dd(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Id(t.deps[e],t);t.deps.length=t._depsLength}}function Id(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let ri=!0,bc=0;const Rd=[];function Lr(){Rd.push(ri),ri=!1}function Pr(){const t=Rd.pop();ri=t===void 0?!0:t}function Ec(){bc++}function Sc(){for(bc--;!bc&&wc.length;)wc.shift()()}function $d(t,e,n){var r;if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&Id(i,t),t.deps[t._depsLength++]=e):t._depsLength++,process.env.NODE_ENV!=="production"&&((r=t.onTrack)==null||r.call(t,et({effect:t},n)))}}const wc=[];function Fd(t,e,n){var r;Ec();for(const i of t.keys()){let s;i._dirtyLevel<e&&(s!=null?s:s=t.get(i)===i._trackId)&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s!=null?s:s=t.get(i)===i._trackId)&&(process.env.NODE_ENV!=="production"&&((r=i.onTrigger)==null||r.call(i,et({effect:i},n))),i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&wc.push(i.scheduler)))}Sc()}const Vd=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Ko=new WeakMap,qi=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),xc=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");function At(t,e,n){if(ri&&Wi){let r=Ko.get(t);r||Ko.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Vd(()=>r.delete(n))),$d(Wi,i,process.env.NODE_ENV!=="production"?{target:t,type:e,key:n}:void 0)}}function nr(t,e,n,r,i,s){const a=Ko.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&ue(t)){const l=Number(r);a.forEach((u,f)=>{(f==="length"||!Gi(f)&&f>=l)&&o.push(u)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":ue(t)?gc(n)&&o.push(a.get("length")):(o.push(a.get(qi)),ji(t)&&o.push(a.get(xc)));break;case"delete":ue(t)||(o.push(a.get(qi)),ji(t)&&o.push(a.get(xc)));break;case"set":ji(t)&&o.push(a.get(qi));break}Ec();for(const l of o)l&&Fd(l,4,process.env.NODE_ENV!=="production"?{target:t,type:e,key:n,newValue:r,oldValue:i,oldTarget:s}:void 0);Sc()}function m1(t,e){var n;return(n=Ko.get(t))==null?void 0:n.get(e)}const p1=Cr("__proto__,__v_isRef,__isVue"),jd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gi)),Gd=g1();function g1(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=_e(this);for(let s=0,a=this.length;s<a;s++)At(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(_e)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Lr(),Ec();const r=_e(this)[e].apply(this,n);return Sc(),Pr(),r}}),t}function y1(t){Gi(t)||(t=String(t));const e=_e(this);return At(e,"has",t),e.hasOwnProperty(t)}class Ud{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Qd:Jd:s?Zd:Kd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=ue(e);if(!i){if(a&&De(Gd,n))return Reflect.get(Gd,n,r);if(n==="hasOwnProperty")return y1}const o=Reflect.get(e,n,r);return(Gi(n)?jd.has(n):p1(n))||(i||At(e,"get",n),s)?o:Ye(o)?a&&gc(n)?o:o.value:je(o)?i?em(o):il(o):o}}class Bd extends Ud{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Hi(s);if(!zi(r)&&!Hi(r)&&(s=_e(s),r=_e(r)),!ue(e)&&Ye(s)&&!Ye(r))return l?!1:(s.value=r,!0)}const a=ue(e)&&gc(n)?Number(n)<e.length:De(e,n),o=Reflect.set(e,n,r,i);return e===_e(i)&&(a?ti(r,s)&&nr(e,"set",n,r,s):nr(e,"add",n,r)),o}deleteProperty(e,n){const r=De(e,n),i=e[n],s=Reflect.deleteProperty(e,n);return s&&r&&nr(e,"delete",n,void 0,i),s}has(e,n){const r=Reflect.has(e,n);return(!Gi(n)||!jd.has(n))&&At(e,"has",n),r}ownKeys(e){return At(e,"iterate",ue(e)?"length":qi),Reflect.ownKeys(e)}}class Wd extends Ud{constructor(e=!1){super(!0,e)}set(e,n){return process.env.NODE_ENV!=="production"&&tr(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0}deleteProperty(e,n){return process.env.NODE_ENV!=="production"&&tr(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}}const v1=new Bd,_1=new Wd,b1=new Bd(!0),E1=new Wd(!0),Oc=t=>t,Zo=t=>Reflect.getPrototypeOf(t);function Jo(t,e,n=!1,r=!1){t=t.__v_raw;const i=_e(t),s=_e(e);n||(ti(e,s)&&At(i,"get",e),At(i,"get",s));const{has:a}=Zo(i),o=r?Oc:n?Mc:_a;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function Qo(t,e=!1){const n=this.__v_raw,r=_e(n),i=_e(t);return e||(ti(t,i)&&At(r,"has",t),At(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function el(t,e=!1){return t=t.__v_raw,!e&&At(_e(t),"iterate",qi),Reflect.get(t,"size",t)}function qd(t){t=_e(t);const e=_e(this);return Zo(e).has.call(e,t)||(e.add(t),nr(e,"add",t,t)),this}function Hd(t,e){e=_e(e);const n=_e(this),{has:r,get:i}=Zo(n);let s=r.call(n,t);s?process.env.NODE_ENV!=="production"&&Xd(n,r,t):(t=_e(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?ti(e,a)&&nr(n,"set",t,e,a):nr(n,"add",t,e),this}function zd(t){const e=_e(this),{has:n,get:r}=Zo(e);let i=n.call(e,t);i?process.env.NODE_ENV!=="production"&&Xd(e,n,t):(t=_e(t),i=n.call(e,t));const s=r?r.call(e,t):void 0,a=e.delete(t);return i&&nr(e,"delete",t,void 0,s),a}function Yd(){const t=_e(this),e=t.size!==0,n=process.env.NODE_ENV!=="production"?ji(t)?new Map(t):new Set(t):void 0,r=t.clear();return e&&nr(t,"clear",void 0,void 0,n),r}function tl(t,e){return function(r,i){const s=this,a=s.__v_raw,o=_e(a),l=e?Oc:t?Mc:_a;return!t&&At(o,"iterate",qi),a.forEach((u,f)=>r.call(i,l(u),l(f),s))}}function nl(t,e,n){return function(...r){const i=this.__v_raw,s=_e(i),a=ji(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),f=n?Oc:e?Mc:_a;return!e&&At(s,"iterate",l?xc:qi),{next(){const{value:c,done:h}=u.next();return h?{value:c,done:h}:{value:o?[f(c[0]),f(c[1])]:f(c),done:h}},[Symbol.iterator](){return this}}}}function ii(t){return function(...e){if(process.env.NODE_ENV!=="production"){const n=e[0]?`on key "${e[0]}" `:"";tr(`${Ui(t)} operation ${n}failed: target is readonly.`,_e(this))}return t==="delete"?!1:t==="clear"?void 0:this}}function S1(){const t={get(s){return Jo(this,s)},get size(){return el(this)},has:Qo,add:qd,set:Hd,delete:zd,clear:Yd,forEach:tl(!1,!1)},e={get(s){return Jo(this,s,!1,!0)},get size(){return el(this)},has:Qo,add:qd,set:Hd,delete:zd,clear:Yd,forEach:tl(!1,!0)},n={get(s){return Jo(this,s,!0)},get size(){return el(this,!0)},has(s){return Qo.call(this,s,!0)},add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear"),forEach:tl(!0,!1)},r={get(s){return Jo(this,s,!0,!0)},get size(){return el(this,!0)},has(s){return Qo.call(this,s,!0)},add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear"),forEach:tl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=nl(s,!1,!1),n[s]=nl(s,!0,!1),e[s]=nl(s,!1,!0),r[s]=nl(s,!0,!0)}),[t,n,e,r]}const[w1,x1,O1,M1]=S1();function rl(t,e){const n=e?t?M1:O1:t?x1:w1;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(De(n,i)&&i in r?n:r,i,s)}const T1={get:rl(!1,!1)},N1={get:rl(!1,!0)},C1={get:rl(!0,!1)},L1={get:rl(!0,!0)};function Xd(t,e,n){const r=_e(n);if(r!==n&&e.call(t,r)){const i=pc(t);tr(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Kd=new WeakMap,Zd=new WeakMap,Jd=new WeakMap,Qd=new WeakMap;function P1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function A1(t){return t.__v_skip||!Object.isExtensible(t)?0:P1(pc(t))}function il(t){return Hi(t)?t:sl(t,!1,v1,T1,Kd)}function k1(t){return sl(t,!1,b1,N1,Zd)}function em(t){return sl(t,!0,_1,C1,Jd)}function Ar(t){return sl(t,!0,E1,L1,Qd)}function sl(t,e,n,r,i){if(!je(t))return process.env.NODE_ENV!=="production"&&tr(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=A1(t);if(a===0)return t;const o=new Proxy(t,a===2?r:n);return i.set(t,o),o}function rr(t){return Hi(t)?rr(t.__v_raw):!!(t&&t.__v_isReactive)}function Hi(t){return!!(t&&t.__v_isReadonly)}function zi(t){return!!(t&&t.__v_isShallow)}function al(t){return t?!!t.__v_raw:!1}function _e(t){const e=t&&t.__v_raw;return e?_e(e):t}function si(t){return Object.isExtensible(t)&&Md(t,"__v_skip",!0),t}const _a=t=>je(t)?il(t):t,Mc=t=>je(t)?em(t):t,D1="Computed is still dirty after getter evaluation, likely because a computed is mutating its own dependency in its getter. State mutations in computed getters should be avoided.  Check the docs for more details: https://vuejs.org/guide/essentials/computed.html#getters-should-be-side-effect-free";class tm{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new _c(()=>e(this._value),()=>ol(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=_e(this);return(!e._cacheable||e.effect.dirty)&&ti(e._value,e._value=e.effect.run())&&ol(e,4),nm(e),e.effect._dirtyLevel>=2&&(process.env.NODE_ENV!=="production"&&this._warnRecursive&&tr(D1,`

getter: `,this.getter),ol(e,2)),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function I1(t,e,n=!1){let r,i;const s=ge(t);s?(r=t,i=process.env.NODE_ENV!=="production"?()=>{tr("Write operation failed: computed value is readonly")}:pt):(r=t.get,i=t.set);const a=new tm(r,i,s||!i,n);return process.env.NODE_ENV!=="production"&&e&&!n&&(a.effect.onTrack=e.onTrack,a.effect.onTrigger=e.onTrigger),a}function nm(t){var e;ri&&Wi&&(t=_e(t),$d(Wi,(e=t.dep)!=null?e:t.dep=Vd(()=>t.dep=void 0,t instanceof tm?t:void 0),process.env.NODE_ENV!=="production"?{target:t,type:"get",key:"value"}:void 0))}function ol(t,e=4,n){t=_e(t);const r=t.dep;r&&Fd(r,e,process.env.NODE_ENV!=="production"?{target:t,type:"set",key:"value",newValue:n}:void 0)}function Ye(t){return!!(t&&t.__v_isRef===!0)}function Ee(t){return rm(t,!1)}function it(t){return rm(t,!0)}function rm(t,e){return Ye(t)?t:new R1(t,e)}class R1{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:_e(e),this._value=n?e:_a(e)}get value(){return nm(this),this._value}set value(e){const n=this.__v_isShallow||zi(e)||Hi(e);e=n?e:_e(e),ti(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:_a(e),ol(this,4,e))}}function w(t){return Ye(t)?t.value:t}const $1={get:(t,e,n)=>w(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ye(i)&&!Ye(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function im(t){return rr(t)?t:new Proxy(t,$1)}function Tc(t){process.env.NODE_ENV!=="production"&&!al(t)&&tr("toRefs() expects a reactive object but received a plain one.");const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=sm(t,n);return e}class F1{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return m1(_e(this._object),this._key)}}class V1{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ll(t,e,n){return Ye(t)?t:ge(t)?new V1(t):je(t)&&arguments.length>1?sm(t,e,n):Ee(t)}function sm(t,e,n){const r=t[e];return Ye(r)?r:new F1(t,e,n)}/**
* @vue/runtime-core v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Yi=[];function ul(t){Yi.push(t)}function cl(){Yi.pop()}function q(t,...e){Lr();const n=Yi.length?Yi[Yi.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=j1();if(r)kr(r,n,11,[t+e.map(s=>{var a,o;return(o=(a=s.toString)==null?void 0:a.call(s))!=null?o:JSON.stringify(s)}).join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${Nl(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${t}`,...e];i.length&&s.push(`
`,...G1(i)),console.warn(...s)}Pr()}function j1(){let t=Yi[Yi.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function G1(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...U1(n))}),e}function U1({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${Nl(t.component,t.type,r)}`,s=">"+n;return t.props?[i,...B1(t.props),s]:[i+s]}function B1(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...am(r,t[r]))}),n.length>3&&e.push(" ..."),e}function am(t,e,n){return rt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:Ye(e)?(e=am(t,_e(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):ge(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=_e(e),n?e:[`${t}=`,e])}function W1(t,e){process.env.NODE_ENV!=="production"&&t!==void 0&&(typeof t!="number"?q(`${e} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&q(`${e} is NaN - the duration expression might be incorrect.`))}const Nc={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function kr(t,e,n,r){try{return r?t(...r):t()}catch(i){ba(i,e,n)}}function wn(t,e,n,r){if(ge(t)){const i=kr(t,e,n,r);return i&&mc(i)&&i.catch(s=>{ba(s,e,n)}),i}if(ue(t)){const i=[];for(let s=0;s<t.length;s++)i.push(wn(t[s],e,n,r));return i}else process.env.NODE_ENV!=="production"&&q(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof t}`)}function ba(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=process.env.NODE_ENV!=="production"?Nc[n]:`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Lr(),kr(l,null,10,[t,a,o]),Pr();return}}q1(t,n,i,r)}function q1(t,e,n,r=!0){if(process.env.NODE_ENV!=="production"){const i=Nc[e];if(n&&ul(n),q(`Unhandled error${i?` during execution of ${i}`:""}`),n&&cl(),r)throw t;console.error(t)}else console.error(t)}let Ea=!1,Cc=!1;const Vt=[];let ir=0;const Ts=[];let Dr=null,ai=0;const om=Promise.resolve();let Lc=null;const H1=100;function fl(t){const e=Lc||om;return t?e.then(this?t.bind(this):t):e}function z1(t){let e=ir+1,n=Vt.length;for(;e<n;){const r=e+n>>>1,i=Vt[r],s=Sa(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function hl(t){(!Vt.length||!Vt.includes(t,Ea&&t.allowRecurse?ir+1:ir))&&(t.id==null?Vt.push(t):Vt.splice(z1(t.id),0,t),lm())}function lm(){!Ea&&!Cc&&(Cc=!0,Lc=om.then(hm))}function Y1(t){const e=Vt.indexOf(t);e>ir&&Vt.splice(e,1)}function um(t){ue(t)?Ts.push(...t):(!Dr||!Dr.includes(t,t.allowRecurse?ai+1:ai))&&Ts.push(t),lm()}function cm(t,e,n=Ea?ir+1:0){for(process.env.NODE_ENV!=="production"&&(e=e||new Map);n<Vt.length;n++){const r=Vt[n];if(r&&r.pre){if(t&&r.id!==t.uid||process.env.NODE_ENV!=="production"&&Pc(e,r))continue;Vt.splice(n,1),n--,r()}}}function fm(t){if(Ts.length){const e=[...new Set(Ts)].sort((n,r)=>Sa(n)-Sa(r));if(Ts.length=0,Dr){Dr.push(...e);return}for(Dr=e,process.env.NODE_ENV!=="production"&&(t=t||new Map),ai=0;ai<Dr.length;ai++)process.env.NODE_ENV!=="production"&&Pc(t,Dr[ai])||Dr[ai]();Dr=null,ai=0}}const Sa=t=>t.id==null?1/0:t.id,X1=(t,e)=>{const n=Sa(t)-Sa(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function hm(t){Cc=!1,Ea=!0,process.env.NODE_ENV!=="production"&&(t=t||new Map),Vt.sort(X1);const e=process.env.NODE_ENV!=="production"?n=>Pc(t,n):pt;try{for(ir=0;ir<Vt.length;ir++){const n=Vt[ir];if(n&&n.active!==!1){if(process.env.NODE_ENV!=="production"&&e(n))continue;kr(n,null,14)}}}finally{ir=0,Vt.length=0,fm(t),Ea=!1,Lc=null,(Vt.length||Ts.length)&&hm(t)}}function Pc(t,e){if(!t.has(e))t.set(e,1);else{const n=t.get(e);if(n>H1){const r=e.ownerInstance,i=r&&lf(r.type);return ba(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else t.set(e,n+1)}}let oi=!1;const Ns=new Set;process.env.NODE_ENV!=="production"&&(Xo().__VUE_HMR_RUNTIME__={createRecord:Ac(dm),rerender:Ac(J1),reload:Ac(Q1)});const Xi=new Map;function K1(t){const e=t.type.__hmrId;let n=Xi.get(e);n||(dm(e,t.type),n=Xi.get(e)),n.instances.add(t)}function Z1(t){Xi.get(t.type.__hmrId).instances.delete(t)}function dm(t,e){return Xi.has(t)?!1:(Xi.set(t,{initialDef:wa(e),instances:new Set}),!0)}function wa(t){return yp(t)?t.__vccOpts:t}function J1(t,e){const n=Xi.get(t);!n||(n.initialDef.render=e,[...n.instances].forEach(r=>{e&&(r.render=e,wa(r.type).render=e),r.renderCache=[],oi=!0,r.effect.dirty=!0,r.update(),oi=!1}))}function Q1(t,e){const n=Xi.get(t);if(!n)return;e=wa(e),mm(n.initialDef,e);const r=[...n.instances];for(const i of r){const s=wa(i.type);Ns.has(s)||(s!==n.initialDef&&mm(s,e),Ns.add(s)),i.appContext.propsCache.delete(i.type),i.appContext.emitsCache.delete(i.type),i.appContext.optionsCache.delete(i.type),i.ceReload?(Ns.add(s),i.ceReload(e.styles),Ns.delete(s)):i.parent?(i.parent.effect.dirty=!0,hl(i.parent.update)):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}um(()=>{for(const i of r)Ns.delete(wa(i.type))})}function mm(t,e){et(t,e);for(const n in t)n!=="__file"&&!(n in e)&&delete t[n]}function Ac(t){return(e,n)=>{try{return t(e,n)}catch(r){console.error(r),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let jn,xa=[],kc=!1;function Oa(t,...e){jn?jn.emit(t,...e):kc||xa.push({event:t,args:e})}function Dc(t,e){var n,r;jn=t,jn?(jn.enabled=!0,xa.forEach(({event:i,args:s})=>jn.emit(i,...s)),xa=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Dc(s,e)}),setTimeout(()=>{jn||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,kc=!0,xa=[])},3e3)):(kc=!0,xa=[])}function eE(t,e){Oa("app:init",t,e,{Fragment:Ge,Text:Pa,Comment:Tt,Static:wl})}function tE(t){Oa("app:unmount",t)}const nE=Ic("component:added"),pm=Ic("component:updated"),rE=Ic("component:removed"),iE=t=>{jn&&typeof jn.cleanupBuffer=="function"&&!jn.cleanupBuffer(t)&&rE(t)};/*! #__NO_SIDE_EFFECTS__ */function Ic(t){return e=>{Oa(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const sE=gm("perf:start"),aE=gm("perf:end");function gm(t){return(e,n,r)=>{Oa(t,e.appContext.app,e.uid,e,n,r)}}function oE(t,e,n){Oa("component:emit",t.appContext.app,t,e,n)}function lE(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ze;if(process.env.NODE_ENV!=="production"){const{emitsOptions:f,propsOptions:[c]}=t;if(f)if(!(e in f))(!c||!(Bi(e)in c))&&q(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${Bi(e)}" prop.`);else{const h=f[e];ge(h)&&(h(...n)||q(`Invalid event arguments: event validation failed for event "${e}".`))}}let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:c,trim:h}=r[f]||Ze;h&&(i=n.map(d=>rt(d)?d.trim():d)),c&&(i=n.map(Qb))}if(process.env.NODE_ENV!=="production"&&oE(t,e,i),process.env.NODE_ENV!=="production"){const f=e.toLowerCase();f!==e&&r[Bi(f)]&&q(`Event "${f}" is emitted in component ${Nl(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${sn(e)}" instead of "${e}".`)}let o,l=r[o=Bi(e)]||r[o=Bi(mn(e))];!l&&s&&(l=r[o=Bi(sn(e))]),l&&wn(l,t,6,i);const u=r[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,wn(u,t,6,i)}}function ym(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!ge(t)){const l=u=>{const f=ym(u,e,!0);f&&(o=!0,et(a,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(je(t)&&r.set(t,null),null):(ue(s)?s.forEach(l=>a[l]=null):et(a,s),je(t)&&r.set(t,a),a)}function dl(t,e){return!t||!ga(e)?!1:(e=e.slice(2).replace(/Once$/,""),De(t,e[0].toLowerCase()+e.slice(1))||De(t,sn(e))||De(t,e))}let ct=null,vm=null;function ml(t){const e=ct;return ct=t,vm=t&&t.type.__scopeId||null,e}function li(t,e=ct,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&op(-1);const s=ml(e);let a;try{a=t(...i)}finally{ml(s),r._d&&op(1)}return process.env.NODE_ENV!=="production"&&pm(e),a};return r._n=!0,r._c=!0,r._d=!0,r}let Rc=!1;function pl(){Rc=!0}function $c(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:f,props:c,data:h,setupState:d,ctx:m,inheritAttrs:p}=t,g=ml(t);let y,v;process.env.NODE_ENV!=="production"&&(Rc=!1);try{if(n.shapeFlag&4){const O=i||r,N=process.env.NODE_ENV!=="production"&&d.__isScriptSetup?new Proxy(O,{get(M,A,k){return q(`Property '${String(A)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(M,A,k)}}):O;y=Un(u.call(N,O,f,process.env.NODE_ENV!=="production"?Ar(c):c,d,h,m)),v=o}else{const O=e;process.env.NODE_ENV!=="production"&&o===c&&pl(),y=Un(O.length>1?O(process.env.NODE_ENV!=="production"?Ar(c):c,process.env.NODE_ENV!=="production"?{get attrs(){return pl(),o},slots:a,emit:l}:{attrs:o,slots:a,emit:l}):O(process.env.NODE_ENV!=="production"?Ar(c):c,null)),v=e.props?o:uE(o)}}catch(O){Aa.length=0,ba(O,t,1),y=te(Tt)}let b=y,E;if(process.env.NODE_ENV!=="production"&&y.patchFlag>0&&y.patchFlag&2048&&([b,E]=_m(y)),v&&p!==!1){const O=Object.keys(v),{shapeFlag:N}=b;if(O.length){if(N&7)s&&O.some(Ho)&&(v=cE(v,s)),b=sr(b,v);else if(process.env.NODE_ENV!=="production"&&!Rc&&b.type!==Tt){const M=Object.keys(o),A=[],k=[];for(let C=0,R=M.length;C<R;C++){const I=M[C];ga(I)?Ho(I)||A.push(I[2].toLowerCase()+I.slice(3)):k.push(I)}k.length&&q(`Extraneous non-props attributes (${k.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),A.length&&q(`Extraneous non-emits event listeners (${A.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(process.env.NODE_ENV!=="production"&&!bm(b)&&q("Runtime directive used on component with non-element root node. The directives will not function as intended."),b=sr(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(process.env.NODE_ENV!=="production"&&!bm(b)&&q("Component inside <Transition> renders non-element root node that cannot be animated."),b.transition=n.transition),process.env.NODE_ENV!=="production"&&E?E(b):y=b,ml(g),y}const _m=t=>{const e=t.children,n=t.dynamicChildren,r=Fc(e,!1);if(r){if(process.env.NODE_ENV!=="production"&&r.patchFlag>0&&r.patchFlag&2048)return _m(r)}else return[t,void 0];const i=e.indexOf(r),s=n?n.indexOf(r):-1,a=o=>{e[i]=o,n&&(s>-1?n[s]=o:o.patchFlag>0&&(t.dynamicChildren=[...n,o]))};return[Un(r),a]};function Fc(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(As(i)){if(i.type!==Tt||i.children==="v-if"){if(n)return;if(n=i,process.env.NODE_ENV!=="production"&&e&&n.patchFlag>0&&n.patchFlag&2048)return Fc(n.children)}}else return}return n}const uE=t=>{let e;for(const n in t)(n==="class"||n==="style"||ga(n))&&((e||(e={}))[n]=t[n]);return e},cE=(t,e)=>{const n={};for(const r in t)(!Ho(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n},bm=t=>t.shapeFlag&7||t.type===Tt;function fE(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(process.env.NODE_ENV!=="production"&&(i||o)&&oi||e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Em(r,a,u):!!a;if(l&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const h=f[c];if(a[h]!==r[h]&&!dl(u,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?Em(r,a,u):!0:!!a;return!1}function Em(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!dl(n,s))return!0}return!1}function hE({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Vc="components",dE="directives";function mE(t,e){return Sm(Vc,t,!0,e)||t}const pE=Symbol.for("v-ndc");function jc(t){return Sm(dE,t)}function Sm(t,e,n=!0,r=!1){const i=ct||St;if(i){const s=i.type;if(t===Vc){const o=lf(s,!1);if(o&&(o===e||o===mn(e)||o===Ui(mn(e))))return s}const a=wm(i[t]||s[t],e)||wm(i.appContext[t],e);if(!a&&r)return s;if(process.env.NODE_ENV!=="production"&&n&&!a){const o=t===Vc?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";q(`Failed to resolve ${t.slice(0,-1)}: ${e}${o}`)}return a}else process.env.NODE_ENV!=="production"&&q(`resolve${Ui(t.slice(0,-1))} can only be used in render() or setup().`)}function wm(t,e){return t&&(t[e]||t[mn(e)]||t[Ui(mn(e))])}const gE=t=>t.__isSuspense;function yE(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):um(t)}const vE=Symbol.for("v-scx"),_E=()=>{{const t=Ls(vE);return t||process.env.NODE_ENV!=="production"&&q("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function gn(t,e){return Gc(t,null,e)}const gl={};function tt(t,e,n){return process.env.NODE_ENV!=="production"&&!ge(e)&&q("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Gc(t,e,n)}function Gc(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:a,onTrigger:o}=Ze){if(e&&s){const M=e;e=(...A)=>{M(...A),N()}}process.env.NODE_ENV!=="production"&&r!==void 0&&typeof r=="number"&&q('watch() "deep" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.'),process.env.NODE_ENV!=="production"&&!e&&(n!==void 0&&q('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&q('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&q('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const l=M=>{q("Invalid watch source: ",M,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=St,f=M=>r===!0?M:Ki(M,r===!1?1:void 0);let c,h=!1,d=!1;if(Ye(t)?(c=()=>t.value,h=zi(t)):rr(t)?(c=()=>f(t),h=!0):ue(t)?(d=!0,h=t.some(M=>rr(M)||zi(M)),c=()=>t.map(M=>{if(Ye(M))return M.value;if(rr(M))return f(M);if(ge(M))return kr(M,u,2);process.env.NODE_ENV!=="production"&&l(M)})):ge(t)?e?c=()=>kr(t,u,2):c=()=>(m&&m(),wn(t,u,3,[p])):(c=pt,process.env.NODE_ENV!=="production"&&l(t)),e&&r){const M=c;c=()=>Ki(M())}let m,p=M=>{m=E.onStop=()=>{kr(M,u,4),m=E.onStop=void 0}},g;if(Ml)if(p=pt,e?n&&wn(e,u,3,[c(),d?[]:void 0,p]):c(),i==="sync"){const M=_E();g=M.__watcherHandles||(M.__watcherHandles=[])}else return pt;let y=d?new Array(t.length).fill(gl):gl;const v=()=>{if(!(!E.active||!E.dirty))if(e){const M=E.run();(r||h||(d?M.some((A,k)=>ti(A,y[k])):ti(M,y)))&&(m&&m(),wn(e,u,3,[M,y===gl?void 0:d&&y[0]===gl?[]:y,p]),y=M)}else E.run()};v.allowRecurse=!!e;let b;i==="sync"?b=v:i==="post"?b=()=>an(v,u&&u.suspense):(v.pre=!0,u&&(v.id=u.uid),b=()=>hl(v));const E=new _c(c,pt,b),O=Ad(),N=()=>{E.stop(),O&&dc(O.effects,E)};return process.env.NODE_ENV!=="production"&&(E.onTrack=a,E.onTrigger=o),e?n?v():y=E.run():i==="post"?an(E.run.bind(E),u&&u.suspense):E.run(),g&&g.push(N),N}function bE(t,e,n){const r=this.proxy,i=rt(t)?t.includes(".")?xm(r,t):()=>r[t]:t.bind(r,r);let s;ge(e)?s=e:(s=e.handler,n=e);const a=Ra(this),o=Gc(i,s.bind(r),n);return a(),o}function xm(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ki(t,e,n=0,r){if(!je(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),Ye(t))Ki(t.value,e,n,r);else if(ue(t))for(let i=0;i<t.length;i++)Ki(t[i],e,n,r);else if(wd(t)||ji(t))t.forEach(i=>{Ki(i,e,n,r)});else if(Od(t))for(const i in t)Ki(t[i],e,n,r);return t}function Om(t){Kb(t)&&q("Do not use built-in directive ids as custom directive id: "+t)}function yl(t,e){if(ct===null)return process.env.NODE_ENV!=="production"&&q("withDirectives can only be used inside render functions."),t;const n=Tl(ct)||ct.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,o,l=Ze]=e[i];s&&(ge(s)&&(s={mounted:s,updated:s}),s.deep&&Ki(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function Zi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(Lr(),wn(l,n,8,[t.el,o,t,e]),Pr())}}const ui=Symbol("_leaveCb"),vl=Symbol("_enterCb");function EE(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yn(()=>{t.isMounted=!0}),Pm(()=>{t.isUnmounting=!0}),t}const xn=[Function,Array],Mm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xn,onEnter:xn,onAfterEnter:xn,onEnterCancelled:xn,onBeforeLeave:xn,onLeave:xn,onAfterLeave:xn,onLeaveCancelled:xn,onBeforeAppear:xn,onAppear:xn,onAfterAppear:xn,onAppearCancelled:xn},SE={name:"BaseTransition",props:Mm,setup(t,{slots:e}){const n=Ia(),r=EE();return()=>{const i=e.default&&Cm(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){let h=!1;for(const d of i)if(d.type!==Tt){if(process.env.NODE_ENV!=="production"&&h){q("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}if(s=d,h=!0,process.env.NODE_ENV==="production")break}}const a=_e(t),{mode:o}=a;if(process.env.NODE_ENV!=="production"&&o&&o!=="in-out"&&o!=="out-in"&&o!=="default"&&q(`invalid <transition> mode: ${o}`),r.isLeaving)return Bc(s);const l=Nm(s);if(!l)return Bc(s);const u=Uc(l,a,r,n);Wc(l,u);const f=n.subTree,c=f&&Nm(f);if(c&&c.type!==Tt&&!es(l,c)){const h=Uc(c,a,r,n);if(Wc(c,h),o==="out-in")return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Bc(s);o==="in-out"&&l.type!==Tt&&(h.delayLeave=(d,m,p)=>{const g=Tm(r,c);g[String(c.key)]=c,d[ui]=()=>{m(),d[ui]=void 0,delete u.delayedLeave},u.delayedLeave=p})}return s}}};function Tm(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Uc(t,e,n,r){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:c,onLeave:h,onAfterLeave:d,onLeaveCancelled:m,onBeforeAppear:p,onAppear:g,onAfterAppear:y,onAppearCancelled:v}=e,b=String(t.key),E=Tm(n,t),O=(A,k)=>{A&&wn(A,r,9,k)},N=(A,k)=>{const C=k[1];O(A,k),ue(A)?A.every(R=>R.length<=1)&&C():A.length<=1&&C()},M={mode:s,persisted:a,beforeEnter(A){let k=o;if(!n.isMounted)if(i)k=p||o;else return;A[ui]&&A[ui](!0);const C=E[b];C&&es(t,C)&&C.el[ui]&&C.el[ui](),O(k,[A])},enter(A){let k=l,C=u,R=f;if(!n.isMounted)if(i)k=g||l,C=y||u,R=v||f;else return;let I=!1;const ee=A[vl]=be=>{I||(I=!0,be?O(R,[A]):O(C,[A]),M.delayedLeave&&M.delayedLeave(),A[vl]=void 0)};k?N(k,[A,ee]):ee()},leave(A,k){const C=String(t.key);if(A[vl]&&A[vl](!0),n.isUnmounting)return k();O(c,[A]);let R=!1;const I=A[ui]=ee=>{R||(R=!0,k(),ee?O(m,[A]):O(d,[A]),A[ui]=void 0,E[C]===t&&delete E[C])};E[C]=t,h?N(h,[A,I]):I()},clone(A){return Uc(A,e,n,r)}};return M}function Bc(t){if(Ta(t))return t=sr(t),t.children=null,t}function Nm(t){if(!Ta(t))return t;if(process.env.NODE_ENV!=="production"&&t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ge(n.default))return n.default()}}function Wc(t,e){t.shapeFlag&6&&t.component?Wc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Cm(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Ge?(a.patchFlag&128&&i++,r=r.concat(Cm(a.children,e,o))):(e||a.type!==Tt)&&r.push(o!=null?sr(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function he(t,e){return ge(t)?(()=>et({name:t.name},e,{setup:t}))():t}const Ma=t=>!!t.type.__asyncLoader,Ta=t=>t.type.__isKeepAlive;function wE(t,e){Lm(t,"a",e)}function xE(t,e){Lm(t,"da",e)}function Lm(t,e,n=St){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(_l(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Ta(i.parent.vnode)&&OE(r,e,n,i),i=i.parent}}function OE(t,e,n,r){const i=_l(e,t,r,!0);ci(()=>{dc(r[e],i)},n)}function _l(t,e,n=St,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Lr();const o=Ra(n),l=wn(e,n,t,a);return o(),Pr(),l});return r?i.unshift(s):i.push(s),s}else if(process.env.NODE_ENV!=="production"){const i=Bi(Nc[t].replace(/ hook$/,""));q(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Ir=t=>(e,n=St)=>(!Ml||t==="sp")&&_l(t,(...r)=>e(...r),n),ME=Ir("bm"),yn=Ir("m"),TE=Ir("bu"),NE=Ir("u"),Pm=Ir("bum"),ci=Ir("um"),CE=Ir("sp"),LE=Ir("rtg"),PE=Ir("rtc");function AE(t,e=St){_l("ec",t,e)}function On(t,e,n,r){let i;const s=n&&n[r];if(ue(t)||rt(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){process.env.NODE_ENV!=="production"&&!Number.isInteger(t)&&q(`The v-for range expect an integer value but got ${t}.`),i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(je(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];i[o]=e(t[u],u,o,s&&s[o])}}else i=[];return n&&(n[r]=i),i}function Am(t,e,n={},r,i){if(ct.isCE||ct.parent&&Ma(ct.parent)&&ct.parent.isCE)return e!=="default"&&(n.name=e),te("slot",n,r&&r());let s=t[e];process.env.NODE_ENV!=="production"&&s&&s.length>1&&(q("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),s=()=>[]),s&&s._c&&(s._d=!1),P();const a=s&&km(s(n)),o=Fe(Ge,{key:n.key||a&&a.key||`_${e}`},a||(r?r():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function km(t){return t.some(e=>As(e)?!(e.type===Tt||e.type===Ge&&!km(e.children)):!0)?t:null}const qc=t=>t?dp(t)?Tl(t)||t.proxy:qc(t.parent):null,Ji=et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>process.env.NODE_ENV!=="production"?Ar(t.props):t.props,$attrs:t=>process.env.NODE_ENV!=="production"?Ar(t.attrs):t.attrs,$slots:t=>process.env.NODE_ENV!=="production"?Ar(t.slots):t.slots,$refs:t=>process.env.NODE_ENV!=="production"?Ar(t.refs):t.refs,$parent:t=>qc(t.parent),$root:t=>qc(t.root),$emit:t=>t.emit,$options:t=>Xc(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,hl(t.update)}),$nextTick:t=>t.n||(t.n=fl.bind(t.proxy)),$watch:t=>bE.bind(t)}),Hc=t=>t==="_"||t==="$",zc=(t,e)=>t!==Ze&&!t.__isScriptSetup&&De(t,e),Dm={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;if(process.env.NODE_ENV!=="production"&&e==="__isVue")return!0;let u;if(e[0]!=="$"){const d=a[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(zc(r,e))return a[e]=1,r[e];if(i!==Ze&&De(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&De(u,e))return a[e]=3,s[e];if(n!==Ze&&De(n,e))return a[e]=4,n[e];Yc&&(a[e]=0)}}const f=Ji[e];let c,h;if(f)return e==="$attrs"?(At(t.attrs,"get",""),process.env.NODE_ENV!=="production"&&pl()):process.env.NODE_ENV!=="production"&&e==="$slots"&&At(t,"get",e),f(t);if((c=o.__cssModules)&&(c=c[e]))return c;if(n!==Ze&&De(n,e))return a[e]=4,n[e];if(h=l.config.globalProperties,De(h,e))return h[e];process.env.NODE_ENV!=="production"&&ct&&(!rt(e)||e.indexOf("__v")!==0)&&(i!==Ze&&Hc(e[0])&&De(i,e)?q(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===ct&&q(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return zc(i,e)?(i[e]=n,!0):process.env.NODE_ENV!=="production"&&i.__isScriptSetup&&De(i,e)?(q(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):r!==Ze&&De(r,e)?(r[e]=n,!0):De(t.props,e)?(process.env.NODE_ENV!=="production"&&q(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(process.env.NODE_ENV!=="production"&&q(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&e in t.appContext.config.globalProperties?Object.defineProperty(s,e,{enumerable:!0,configurable:!0,value:n}):s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==Ze&&De(t,a)||zc(e,a)||(o=s[0])&&De(o,a)||De(r,a)||De(Ji,a)||De(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:De(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};process.env.NODE_ENV!=="production"&&(Dm.ownKeys=t=>(q("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t)));function kE(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(Ji).forEach(n=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:()=>Ji[n](t),set:pt})}),e}function DE(t){const{ctx:e,propsOptions:[n]}=t;n&&Object.keys(n).forEach(r=>{Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>t.props[r],set:pt})})}function IE(t){const{ctx:e,setupState:n}=t;Object.keys(_e(n)).forEach(r=>{if(!n.__isScriptSetup){if(Hc(r[0])){q(`setup() return property ${JSON.stringify(r)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n[r],set:pt})}})}function Im(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function RE(){const t=Object.create(null);return(e,n)=>{t[n]?q(`${e} property "${n}" is already defined in ${t[n]}.`):t[n]=e}}let Yc=!0;function $E(t){const e=Xc(t),n=t.proxy,r=t.ctx;Yc=!1,e.beforeCreate&&Rm(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:f,beforeMount:c,mounted:h,beforeUpdate:d,updated:m,activated:p,deactivated:g,beforeDestroy:y,beforeUnmount:v,destroyed:b,unmounted:E,render:O,renderTracked:N,renderTriggered:M,errorCaptured:A,serverPrefetch:k,expose:C,inheritAttrs:R,components:I,directives:ee,filters:be}=e,T=process.env.NODE_ENV!=="production"?RE():null;if(process.env.NODE_ENV!=="production"){const[z]=t.propsOptions;if(z)for(const K in z)T("Props",K)}if(u&&FE(u,r,T),a)for(const z in a){const K=a[z];ge(K)?(process.env.NODE_ENV!=="production"?Object.defineProperty(r,z,{value:K.bind(n),configurable:!0,enumerable:!0,writable:!0}):r[z]=K.bind(n),process.env.NODE_ENV!=="production"&&T("Methods",z)):process.env.NODE_ENV!=="production"&&q(`Method "${z}" has type "${typeof K}" in the component definition. Did you reference the function correctly?`)}if(i){process.env.NODE_ENV!=="production"&&!ge(i)&&q("The data option must be a function. Plain object usage is no longer supported.");const z=i.call(n,n);if(process.env.NODE_ENV!=="production"&&mc(z)&&q("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!je(z))process.env.NODE_ENV!=="production"&&q("data() should return an object.");else if(t.data=il(z),process.env.NODE_ENV!=="production")for(const K in z)T("Data",K),Hc(K[0])||Object.defineProperty(r,K,{configurable:!0,enumerable:!0,get:()=>z[K],set:pt})}if(Yc=!0,s)for(const z in s){const K=s[z],Pe=ge(K)?K.bind(n,n):ge(K.get)?K.get.bind(n,n):pt;process.env.NODE_ENV!=="production"&&Pe===pt&&q(`Computed property "${z}" has no getter.`);const ke=!ge(K)&&ge(K.set)?K.set.bind(n):process.env.NODE_ENV!=="production"?()=>{q(`Write operation failed: computed property "${z}" is readonly.`)}:pt,_t=me({get:Pe,set:ke});Object.defineProperty(r,z,{enumerable:!0,configurable:!0,get:()=>_t.value,set:Xt=>_t.value=Xt}),process.env.NODE_ENV!=="production"&&T("Computed",z)}if(o)for(const z in o)$m(o[z],r,n,z);if(l){const z=ge(l)?l.call(n):l;Reflect.ownKeys(z).forEach(K=>{Gm(K,z[K])})}f&&Rm(f,t,"c");function $(z,K){ue(K)?K.forEach(Pe=>z(Pe.bind(n))):K&&z(K.bind(n))}if($(ME,c),$(yn,h),$(TE,d),$(NE,m),$(wE,p),$(xE,g),$(AE,A),$(PE,N),$(LE,M),$(Pm,v),$(ci,E),$(CE,k),ue(C))if(C.length){const z=t.exposed||(t.exposed={});C.forEach(K=>{Object.defineProperty(z,K,{get:()=>n[K],set:Pe=>n[K]=Pe})})}else t.exposed||(t.exposed={});O&&t.render===pt&&(t.render=O),R!=null&&(t.inheritAttrs=R),I&&(t.components=I),ee&&(t.directives=ee)}function FE(t,e,n=pt){ue(t)&&(t=Kc(t));for(const r in t){const i=t[r];let s;je(i)?"default"in i?s=Ls(i.from||r,i.default,!0):s=Ls(i.from||r):s=Ls(i),Ye(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s,process.env.NODE_ENV!=="production"&&n("Inject",r)}}function Rm(t,e,n){wn(ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function $m(t,e,n,r){const i=r.includes(".")?xm(n,r):()=>n[r];if(rt(t)){const s=e[t];ge(s)?tt(i,s):process.env.NODE_ENV!=="production"&&q(`Invalid watch handler specified by key "${t}"`,s)}else if(ge(t))tt(i,t.bind(n));else if(je(t))if(ue(t))t.forEach(s=>$m(s,e,n,r));else{const s=ge(t.handler)?t.handler.bind(n):e[t.handler];ge(s)?tt(i,s,t):process.env.NODE_ENV!=="production"&&q(`Invalid watch handler specified by key "${t.handler}"`,s)}else process.env.NODE_ENV!=="production"&&q(`Invalid watch option: "${r}"`,t)}function Xc(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>bl(l,u,a,!0)),bl(l,e,a)),je(e)&&s.set(e,l),l}function bl(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&bl(t,s,n,!0),i&&i.forEach(a=>bl(t,a,n,!0));for(const a in e)if(r&&a==="expose")process.env.NODE_ENV!=="production"&&q('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const o=VE[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const VE={data:Fm,props:Vm,emits:Vm,methods:Na,computed:Na,beforeCreate:Zt,created:Zt,beforeMount:Zt,mounted:Zt,beforeUpdate:Zt,updated:Zt,beforeDestroy:Zt,beforeUnmount:Zt,destroyed:Zt,unmounted:Zt,activated:Zt,deactivated:Zt,errorCaptured:Zt,serverPrefetch:Zt,components:Na,directives:Na,watch:GE,provide:Fm,inject:jE};function Fm(t,e){return e?t?function(){return et(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function jE(t,e){return Na(Kc(t),Kc(e))}function Kc(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Zt(t,e){return t?[...new Set([].concat(t,e))]:e}function Na(t,e){return t?et(Object.create(null),t,e):e}function Vm(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:et(Object.create(null),Im(t),Im(e!=null?e:{})):e}function GE(t,e){if(!t)return e;if(!e)return t;const n=et(Object.create(null),t);for(const r in e)n[r]=Zt(t[r],e[r]);return n}function jm(){return{app:null,config:{isNativeTag:Yb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let UE=0;function BE(t,e){return function(r,i=null){ge(r)||(r=et({},r)),i!=null&&!je(i)&&(process.env.NODE_ENV!=="production"&&q("root props passed to app.mount() must be an object."),i=null);const s=jm(),a=new WeakSet;let o=!1;const l=s.app={_uid:UE++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:_p,get config(){return s.config},set config(u){process.env.NODE_ENV!=="production"&&q("app.config cannot be replaced. Modify individual options instead.")},use(u,...f){return a.has(u)?process.env.NODE_ENV!=="production"&&q("Plugin has already been applied to target app."):u&&ge(u.install)?(a.add(u),u.install(l,...f)):ge(u)?(a.add(u),u(l,...f)):process.env.NODE_ENV!=="production"&&q('A plugin must either be a function or an object with an "install" function.'),l},mixin(u){return s.mixins.includes(u)?process.env.NODE_ENV!=="production"&&q("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):s.mixins.push(u),l},component(u,f){return process.env.NODE_ENV!=="production"&&af(u,s.config),f?(process.env.NODE_ENV!=="production"&&s.components[u]&&q(`Component "${u}" has already been registered in target app.`),s.components[u]=f,l):s.components[u]},directive(u,f){return process.env.NODE_ENV!=="production"&&Om(u),f?(process.env.NODE_ENV!=="production"&&s.directives[u]&&q(`Directive "${u}" has already been registered in target app.`),s.directives[u]=f,l):s.directives[u]},mount(u,f,c){if(o)process.env.NODE_ENV!=="production"&&q("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{process.env.NODE_ENV!=="production"&&u.__vue_app__&&q("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=te(r,i);return h.appContext=s,c===!0?c="svg":c===!1&&(c=void 0),process.env.NODE_ENV!=="production"&&(s.reload=()=>{t(sr(h),u,c)}),f&&e?e(h,u):t(h,u,c),o=!0,l._container=u,u.__vue_app__=l,process.env.NODE_ENV!=="production"&&(l._instance=h.component,eE(l,_p)),Tl(h.component)||h.component.proxy}},unmount(){o?(t(null,l._container),process.env.NODE_ENV!=="production"&&(l._instance=null,tE(l)),delete l._container.__vue_app__):process.env.NODE_ENV!=="production"&&q("Cannot unmount an app that is not mounted.")},provide(u,f){return process.env.NODE_ENV!=="production"&&u in s.provides&&q(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),s.provides[u]=f,l},runWithContext(u){const f=Cs;Cs=l;try{return u()}finally{Cs=f}}};return l}}let Cs=null;function Gm(t,e){if(!St)process.env.NODE_ENV!=="production"&&q("provide() can only be used inside setup().");else{let n=St.provides;const r=St.parent&&St.parent.provides;r===n&&(n=St.provides=Object.create(r)),n[t]=e}}function Ls(t,e,n=!1){const r=St||ct;if(r||Cs){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Cs._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ge(e)?e.call(r&&r.proxy):e;process.env.NODE_ENV!=="production"&&q(`injection "${String(t)}" not found.`)}else process.env.NODE_ENV!=="production"&&q("inject() can only be used inside setup() or functional components.")}function WE(){return!!(St||ct||Cs)}const Um={},Bm=()=>Object.create(Um),Wm=t=>Object.getPrototypeOf(t)===Um;function qE(t,e,n,r=!1){const i={},s=Bm();t.propsDefaults=Object.create(null),qm(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);process.env.NODE_ENV!=="production"&&Km(e||{},i,t),n?t.props=r?i:k1(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function HE(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function zE(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=_e(i),[l]=t.propsOptions;let u=!1;if(!(process.env.NODE_ENV!=="production"&&HE(t))&&(r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let h=f[c];if(dl(t.emitsOptions,h))continue;const d=e[h];if(l)if(De(s,h))d!==s[h]&&(s[h]=d,u=!0);else{const m=mn(h);i[m]=Zc(l,o,m,d,t,!1)}else d!==s[h]&&(s[h]=d,u=!0)}}}else{qm(t,e,i,s)&&(u=!0);let f;for(const c in o)(!e||!De(e,c)&&((f=sn(c))===c||!De(e,f)))&&(l?n&&(n[c]!==void 0||n[f]!==void 0)&&(i[c]=Zc(l,o,c,void 0,t,!0)):delete i[c]);if(s!==o)for(const c in s)(!e||!De(e,c)&&!0)&&(delete s[c],u=!0)}u&&nr(t.attrs,"set",""),process.env.NODE_ENV!=="production"&&Km(e||{},i,t)}function qm(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(ya(l))continue;const u=e[l];let f;i&&De(i,f=mn(l))?!s||!s.includes(f)?n[f]=u:(o||(o={}))[f]=u:dl(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(s){const l=_e(n),u=o||Ze;for(let f=0;f<s.length;f++){const c=s[f];n[c]=Zc(i,l,c,u[c],t,!De(u,c))}}return a}function Zc(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=De(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ge(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const f=Ra(i);r=u[n]=l.call(null,e),f()}}else r=l}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===sn(n))&&(r=!0))}return r}function Hm(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!ge(t)){const f=c=>{l=!0;const[h,d]=Hm(c,e,!0);et(a,h),d&&o.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!l)return je(t)&&r.set(t,Ms),Ms;if(ue(s))for(let f=0;f<s.length;f++){process.env.NODE_ENV!=="production"&&!rt(s[f])&&q("props must be strings when using array syntax.",s[f]);const c=mn(s[f]);zm(c)&&(a[c]=Ze)}else if(s){process.env.NODE_ENV!=="production"&&!je(s)&&q("invalid props options",s);for(const f in s){const c=mn(f);if(zm(c)){const h=s[f],d=a[c]=ue(h)||ge(h)?{type:h}:et({},h);if(d){const m=Xm(Boolean,d.type),p=Xm(String,d.type);d[0]=m>-1,d[1]=p<0||m<p,(m>-1||De(d,"default"))&&o.push(c)}}}}const u=[a,o];return je(t)&&r.set(t,u),u}function zm(t){return t[0]!=="$"&&!ya(t)?!0:(process.env.NODE_ENV!=="production"&&q(`Invalid prop name: "${t}" is a reserved property.`),!1)}function Jc(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Ym(t,e){return Jc(t)===Jc(e)}function Xm(t,e){return ue(e)?e.findIndex(n=>Ym(n,t)):ge(e)&&Ym(e,t)?0:-1}function Km(t,e,n){const r=_e(e),i=n.propsOptions[0];for(const s in i){let a=i[s];a!=null&&YE(s,r[s],a,process.env.NODE_ENV!=="production"?Ar(r):r,!De(t,s)&&!De(t,sn(s)))}}function YE(t,e,n,r,i){const{type:s,required:a,validator:o,skipCheck:l}=n;if(a&&i){q('Missing required prop: "'+t+'"');return}if(!(e==null&&!a)){if(s!=null&&s!==!0&&!l){let u=!1;const f=ue(s)?s:[s],c=[];for(let h=0;h<f.length&&!u;h++){const{valid:d,expectedType:m}=KE(e,f[h]);c.push(m||""),u=d}if(!u){q(ZE(t,e,c));return}}o&&!o(e,r)&&q('Invalid prop: custom validator check failed for prop "'+t+'".')}}const XE=Cr("String,Number,Boolean,Function,Symbol,BigInt");function KE(t,e){let n;const r=Jc(e);if(XE(r)){const i=typeof t;n=i===r.toLowerCase(),!n&&i==="object"&&(n=t instanceof e)}else r==="Object"?n=je(t):r==="Array"?n=ue(t):r==="null"?n=t===null:n=t instanceof e;return{valid:n,expectedType:r}}function ZE(t,e,n){if(n.length===0)return`Prop type [] for prop "${t}" won't match anything. Did you mean to use type Array instead?`;let r=`Invalid prop: type check failed for prop "${t}". Expected ${n.map(Ui).join(" | ")}`;const i=n[0],s=pc(e),a=Zm(e,i),o=Zm(e,s);return n.length===1&&Jm(i)&&!JE(i,s)&&(r+=` with value ${a}`),r+=`, got ${s} `,Jm(s)&&(r+=`with value ${o}.`),r}function Zm(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function Jm(t){return["string","number","boolean"].some(n=>t.toLowerCase()===n)}function JE(...t){return t.some(e=>e.toLowerCase()==="boolean")}const Qm=t=>t[0]==="_"||t==="$stable",Qc=t=>ue(t)?t.map(Un):[Un(t)],QE=(t,e,n)=>{if(e._n)return e;const r=li((...i)=>(process.env.NODE_ENV!=="production"&&St&&(!n||n.root===St.root)&&q(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Qc(e(...i))),n);return r._c=!1,r},ep=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Qm(i))continue;const s=t[i];if(ge(s))e[i]=QE(i,s,r);else if(s!=null){process.env.NODE_ENV!=="production"&&q(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const a=Qc(s);e[i]=()=>a}}},tp=(t,e)=>{process.env.NODE_ENV!=="production"&&!Ta(t.vnode)&&q("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=Qc(e);t.slots.default=()=>n},eS=(t,e)=>{const n=t.slots=Bm();if(t.vnode.shapeFlag&32){const r=e._;r?(et(n,e),Md(n,"_",r)):ep(e,n)}else e&&tp(t,e)},tS=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=Ze;if(r.shapeFlag&32){const o=e._;o?process.env.NODE_ENV!=="production"&&oi?(et(i,e),nr(t,"set","$slots")):n&&o===1?s=!1:(et(i,e),!n&&o===1&&delete i._):(s=!e.$stable,ep(e,i)),a=e}else e&&(tp(t,e),a={default:1});if(s)for(const o in i)!Qm(o)&&a[o]==null&&delete i[o]};function ef(t,e,n,r,i=!1){if(ue(t)){t.forEach((h,d)=>ef(h,e&&(ue(e)?e[d]:e),n,r,i));return}if(Ma(r)&&!i)return;const s=r.shapeFlag&4?Tl(r.component)||r.component.proxy:r.el,a=i?null:s,{i:o,r:l}=t;if(process.env.NODE_ENV!=="production"&&!o){q("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=e&&e.r,f=o.refs===Ze?o.refs={}:o.refs,c=o.setupState;if(u!=null&&u!==l&&(rt(u)?(f[u]=null,De(c,u)&&(c[u]=null)):Ye(u)&&(u.value=null)),ge(l))kr(l,o,12,[a,f]);else{const h=rt(l),d=Ye(l);if(h||d){const m=()=>{if(t.f){const p=h?De(c,l)?c[l]:f[l]:l.value;i?ue(p)&&dc(p,s):ue(p)?p.includes(s)||p.push(s):h?(f[l]=[s],De(c,l)&&(c[l]=f[l])):(l.value=[s],t.k&&(f[t.k]=l.value))}else h?(f[l]=a,De(c,l)&&(c[l]=a)):d?(l.value=a,t.k&&(f[t.k]=a)):process.env.NODE_ENV!=="production"&&q("Invalid template ref type:",l,`(${typeof l})`)};a?(m.id=-1,an(m,n)):m()}else process.env.NODE_ENV!=="production"&&q("Invalid template ref type:",l,`(${typeof l})`)}}let Ca,fi;function Rr(t,e){t.appContext.config.performance&&El()&&fi.mark(`vue-${e}-${t.uid}`),process.env.NODE_ENV!=="production"&&sE(t,e,El()?fi.now():Date.now())}function $r(t,e){if(t.appContext.config.performance&&El()){const n=`vue-${e}-${t.uid}`,r=n+":end";fi.mark(r),fi.measure(`<${Nl(t,t.type)}> ${e}`,n,r),fi.clearMarks(n),fi.clearMarks(r)}process.env.NODE_ENV!=="production"&&aE(t,e,El()?fi.now():Date.now())}function El(){return Ca!==void 0||(typeof window<"u"&&window.performance?(Ca=!0,fi=window.performance):Ca=!1),Ca}function nS(){const t=[];if(typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(process.env.NODE_ENV!=="production"&&t.push("__VUE_PROD_HYDRATION_MISMATCH_DETAILS__"),Xo().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1),process.env.NODE_ENV!=="production"&&t.length){const e=t.length>1;console.warn(`Feature flag${e?"s":""} ${t.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const an=yE;function rS(t){return iS(t)}function iS(t,e){nS();const n=Xo();n.__VUE__=!0,process.env.NODE_ENV!=="production"&&Dc(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:f,parentNode:c,nextSibling:h,setScopeId:d=pt,insertStaticContent:m}=t,p=(_,S,D,j=null,G=null,W=null,Z=void 0,B=null,X=process.env.NODE_ENV!=="production"&&oi?!1:!!S.dynamicChildren)=>{if(_===S)return;_&&!es(_,S)&&(j=fn(_),Ne(_,G,W,!0),_=null),S.patchFlag===-2&&(X=!1,S.dynamicChildren=null);const{type:U,ref:ie,shapeFlag:ce}=S;switch(U){case Pa:g(_,S,D,j);break;case Tt:y(_,S,D,j);break;case wl:_==null?v(S,D,j,Z):process.env.NODE_ENV!=="production"&&b(_,S,D,Z);break;case Ge:ee(_,S,D,j,G,W,Z,B,X);break;default:ce&1?N(_,S,D,j,G,W,Z,B,X):ce&6?be(_,S,D,j,G,W,Z,B,X):ce&64||ce&128?U.process(_,S,D,j,G,W,Z,B,X,$t):process.env.NODE_ENV!=="production"&&q("Invalid VNode type:",U,`(${typeof U})`)}ie!=null&&G&&ef(ie,_&&_.ref,W,S||_,!S)},g=(_,S,D,j)=>{if(_==null)r(S.el=o(S.children),D,j);else{const G=S.el=_.el;S.children!==_.children&&u(G,S.children)}},y=(_,S,D,j)=>{_==null?r(S.el=l(S.children||""),D,j):S.el=_.el},v=(_,S,D,j)=>{[_.el,_.anchor]=m(_.children,S,D,j,_.el,_.anchor)},b=(_,S,D,j)=>{if(S.children!==_.children){const G=h(_.anchor);O(_),[S.el,S.anchor]=m(S.children,D,G,j)}else S.el=_.el,S.anchor=_.anchor},E=({el:_,anchor:S},D,j)=>{let G;for(;_&&_!==S;)G=h(_),r(_,D,j),_=G;r(S,D,j)},O=({el:_,anchor:S})=>{let D;for(;_&&_!==S;)D=h(_),i(_),_=D;i(S)},N=(_,S,D,j,G,W,Z,B,X)=>{S.type==="svg"?Z="svg":S.type==="math"&&(Z="mathml"),_==null?M(S,D,j,G,W,Z,B,X):C(_,S,G,W,Z,B,X)},M=(_,S,D,j,G,W,Z,B)=>{let X,U;const{props:ie,shapeFlag:ce,transition:le,dirs:pe}=_;if(X=_.el=a(_.type,W,ie&&ie.is,ie),ce&8?f(X,_.children):ce&16&&k(_.children,X,null,j,G,tf(_,W),Z,B),pe&&Zi(_,null,j,"created"),A(X,_,_.scopeId,Z,j),ie){for(const Ve in ie)Ve!=="value"&&!ya(Ve)&&s(X,Ve,null,ie[Ve],W,_.children,j,G,Ie);"value"in ie&&s(X,"value",null,ie.value,W),(U=ie.onVnodeBeforeMount)&&ar(U,j,_)}process.env.NODE_ENV!=="production"&&(Object.defineProperty(X,"__vnode",{value:_,enumerable:!1}),Object.defineProperty(X,"__vueParentComponent",{value:j,enumerable:!1})),pe&&Zi(_,null,j,"beforeMount");const Te=sS(G,le);Te&&le.beforeEnter(X),r(X,S,D),((U=ie&&ie.onVnodeMounted)||Te||pe)&&an(()=>{U&&ar(U,j,_),Te&&le.enter(X),pe&&Zi(_,null,j,"mounted")},G)},A=(_,S,D,j,G)=>{if(D&&d(_,D),j)for(let W=0;W<j.length;W++)d(_,j[W]);if(G){let W=G.subTree;if(process.env.NODE_ENV!=="production"&&W.patchFlag>0&&W.patchFlag&2048&&(W=Fc(W.children)||W),S===W){const Z=G.vnode;A(_,Z,Z.scopeId,Z.slotScopeIds,G.parent)}}},k=(_,S,D,j,G,W,Z,B,X=0)=>{for(let U=X;U<_.length;U++){const ie=_[U]=B?hi(_[U]):Un(_[U]);p(null,ie,S,D,j,G,W,Z,B)}},C=(_,S,D,j,G,W,Z)=>{const B=S.el=_.el;let{patchFlag:X,dynamicChildren:U,dirs:ie}=S;X|=_.patchFlag&16;const ce=_.props||Ze,le=S.props||Ze;let pe;if(D&&Qi(D,!1),(pe=le.onVnodeBeforeUpdate)&&ar(pe,D,S,_),ie&&Zi(S,_,D,"beforeUpdate"),D&&Qi(D,!0),process.env.NODE_ENV!=="production"&&oi&&(X=0,Z=!1,U=null),U?(R(_.dynamicChildren,U,B,D,j,tf(S,G),W),process.env.NODE_ENV!=="production"&&La(_,S)):Z||Pe(_,S,B,null,D,j,tf(S,G),W,!1),X>0){if(X&16)I(B,S,ce,le,D,j,G);else if(X&2&&ce.class!==le.class&&s(B,"class",null,le.class,G),X&4&&s(B,"style",ce.style,le.style,G),X&8){const Te=S.dynamicProps;for(let Ve=0;Ve<Te.length;Ve++){const nt=Te[Ve],bt=ce[nt],rn=le[nt];(rn!==bt||nt==="value")&&s(B,nt,bt,rn,G,_.children,D,j,Ie)}}X&1&&_.children!==S.children&&f(B,S.children)}else!Z&&U==null&&I(B,S,ce,le,D,j,G);((pe=le.onVnodeUpdated)||ie)&&an(()=>{pe&&ar(pe,D,S,_),ie&&Zi(S,_,D,"updated")},j)},R=(_,S,D,j,G,W,Z)=>{for(let B=0;B<S.length;B++){const X=_[B],U=S[B],ie=X.el&&(X.type===Ge||!es(X,U)||X.shapeFlag&70)?c(X.el):D;p(X,U,ie,null,j,G,W,Z,!0)}},I=(_,S,D,j,G,W,Z)=>{if(D!==j){if(D!==Ze)for(const B in D)!ya(B)&&!(B in j)&&s(_,B,D[B],null,Z,S.children,G,W,Ie);for(const B in j){if(ya(B))continue;const X=j[B],U=D[B];X!==U&&B!=="value"&&s(_,B,U,X,Z,S.children,G,W,Ie)}"value"in j&&s(_,"value",D.value,j.value,Z)}},ee=(_,S,D,j,G,W,Z,B,X)=>{const U=S.el=_?_.el:o(""),ie=S.anchor=_?_.anchor:o("");let{patchFlag:ce,dynamicChildren:le,slotScopeIds:pe}=S;process.env.NODE_ENV!=="production"&&(oi||ce&2048)&&(ce=0,X=!1,le=null),pe&&(B=B?B.concat(pe):pe),_==null?(r(U,D,j),r(ie,D,j),k(S.children||[],D,ie,G,W,Z,B,X)):ce>0&&ce&64&&le&&_.dynamicChildren?(R(_.dynamicChildren,le,D,G,W,Z,B),process.env.NODE_ENV!=="production"?La(_,S):(S.key!=null||G&&S===G.subTree)&&La(_,S,!0)):Pe(_,S,D,ie,G,W,Z,B,X)},be=(_,S,D,j,G,W,Z,B,X)=>{S.slotScopeIds=B,_==null?S.shapeFlag&512?G.ctx.activate(S,D,j,Z,X):T(S,D,j,G,W,Z,X):$(_,S,X)},T=(_,S,D,j,G,W,Z)=>{const B=_.component=gS(_,j,G);if(process.env.NODE_ENV!=="production"&&B.type.__hmrId&&K1(B),process.env.NODE_ENV!=="production"&&(ul(_),Rr(B,"mount")),Ta(_)&&(B.ctx.renderer=$t),process.env.NODE_ENV!=="production"&&Rr(B,"init"),vS(B),process.env.NODE_ENV!=="production"&&$r(B,"init"),B.asyncDep){if(G&&G.registerDep(B,z),!_.el){const X=B.subTree=te(Tt);y(null,X,S,D)}}else z(B,_,S,D,G,W,Z);process.env.NODE_ENV!=="production"&&(cl(),$r(B,"mount"))},$=(_,S,D)=>{const j=S.component=_.component;if(fE(_,S,D))if(j.asyncDep&&!j.asyncResolved){process.env.NODE_ENV!=="production"&&ul(S),K(j,S,D),process.env.NODE_ENV!=="production"&&cl();return}else j.next=S,Y1(j.update),j.effect.dirty=!0,j.update();else S.el=_.el,j.vnode=S},z=(_,S,D,j,G,W,Z)=>{const B=()=>{if(_.isMounted){let{next:ie,bu:ce,u:le,parent:pe,vnode:Te}=_;{const Qr=np(_);if(Qr){ie&&(ie.el=Te.el,K(_,ie,Z)),Qr.asyncDep.then(()=>{_.isUnmounted||B()});return}}let Ve=ie,nt;process.env.NODE_ENV!=="production"&&ul(ie||_.vnode),Qi(_,!1),ie?(ie.el=Te.el,K(_,ie,Z)):ie=Te,ce&&va(ce),(nt=ie.props&&ie.props.onVnodeBeforeUpdate)&&ar(nt,pe,ie,Te),Qi(_,!0),process.env.NODE_ENV!=="production"&&Rr(_,"render");const bt=$c(_);process.env.NODE_ENV!=="production"&&$r(_,"render");const rn=_.subTree;_.subTree=bt,process.env.NODE_ENV!=="production"&&Rr(_,"patch"),p(rn,bt,c(rn.el),fn(rn),_,G,W),process.env.NODE_ENV!=="production"&&$r(_,"patch"),ie.el=bt.el,Ve===null&&hE(_,bt.el),le&&an(le,G),(nt=ie.props&&ie.props.onVnodeUpdated)&&an(()=>ar(nt,pe,ie,Te),G),process.env.NODE_ENV!=="production"&&pm(_),process.env.NODE_ENV!=="production"&&cl()}else{let ie;const{el:ce,props:le}=S,{bm:pe,m:Te,parent:Ve}=_,nt=Ma(S);if(Qi(_,!1),pe&&va(pe),!nt&&(ie=le&&le.onVnodeBeforeMount)&&ar(ie,Ve,S),Qi(_,!0),ce&&Jr){const bt=()=>{process.env.NODE_ENV!=="production"&&Rr(_,"render"),_.subTree=$c(_),process.env.NODE_ENV!=="production"&&$r(_,"render"),process.env.NODE_ENV!=="production"&&Rr(_,"hydrate"),Jr(ce,_.subTree,_,G,null),process.env.NODE_ENV!=="production"&&$r(_,"hydrate")};nt?S.type.__asyncLoader().then(()=>!_.isUnmounted&&bt()):bt()}else{process.env.NODE_ENV!=="production"&&Rr(_,"render");const bt=_.subTree=$c(_);process.env.NODE_ENV!=="production"&&$r(_,"render"),process.env.NODE_ENV!=="production"&&Rr(_,"patch"),p(null,bt,D,j,_,G,W),process.env.NODE_ENV!=="production"&&$r(_,"patch"),S.el=bt.el}if(Te&&an(Te,G),!nt&&(ie=le&&le.onVnodeMounted)){const bt=S;an(()=>ar(ie,Ve,bt),G)}(S.shapeFlag&256||Ve&&Ma(Ve.vnode)&&Ve.vnode.shapeFlag&256)&&_.a&&an(_.a,G),_.isMounted=!0,process.env.NODE_ENV!=="production"&&nE(_),S=D=j=null}},X=_.effect=new _c(B,pt,()=>hl(U),_.scope),U=_.update=()=>{X.dirty&&X.run()};U.id=_.uid,Qi(_,!0),process.env.NODE_ENV!=="production"&&(X.onTrack=_.rtc?ie=>va(_.rtc,ie):void 0,X.onTrigger=_.rtg?ie=>va(_.rtg,ie):void 0,U.ownerInstance=_),U()},K=(_,S,D)=>{S.component=_;const j=_.vnode.props;_.vnode=S,_.next=null,zE(_,S.props,j,D),tS(_,S.children,D),Lr(),cm(_),Pr()},Pe=(_,S,D,j,G,W,Z,B,X=!1)=>{const U=_&&_.children,ie=_?_.shapeFlag:0,ce=S.children,{patchFlag:le,shapeFlag:pe}=S;if(le>0){if(le&128){_t(U,ce,D,j,G,W,Z,B,X);return}else if(le&256){ke(U,ce,D,j,G,W,Z,B,X);return}}pe&8?(ie&16&&Ie(U,G,W),ce!==U&&f(D,ce)):ie&16?pe&16?_t(U,ce,D,j,G,W,Z,B,X):Ie(U,G,W,!0):(ie&8&&f(D,""),pe&16&&k(ce,D,j,G,W,Z,B,X))},ke=(_,S,D,j,G,W,Z,B,X)=>{_=_||Ms,S=S||Ms;const U=_.length,ie=S.length,ce=Math.min(U,ie);let le;for(le=0;le<ce;le++){const pe=S[le]=X?hi(S[le]):Un(S[le]);p(_[le],pe,D,null,G,W,Z,B,X)}U>ie?Ie(_,G,W,!0,!1,ce):k(S,D,j,G,W,Z,B,X,ce)},_t=(_,S,D,j,G,W,Z,B,X)=>{let U=0;const ie=S.length;let ce=_.length-1,le=ie-1;for(;U<=ce&&U<=le;){const pe=_[U],Te=S[U]=X?hi(S[U]):Un(S[U]);if(es(pe,Te))p(pe,Te,D,null,G,W,Z,B,X);else break;U++}for(;U<=ce&&U<=le;){const pe=_[ce],Te=S[le]=X?hi(S[le]):Un(S[le]);if(es(pe,Te))p(pe,Te,D,null,G,W,Z,B,X);else break;ce--,le--}if(U>ce){if(U<=le){const pe=le+1,Te=pe<ie?S[pe].el:j;for(;U<=le;)p(null,S[U]=X?hi(S[U]):Un(S[U]),D,Te,G,W,Z,B,X),U++}}else if(U>le)for(;U<=ce;)Ne(_[U],G,W,!0),U++;else{const pe=U,Te=U,Ve=new Map;for(U=Te;U<=le;U++){const mt=S[U]=X?hi(S[U]):Un(S[U]);mt.key!=null&&(process.env.NODE_ENV!=="production"&&Ve.has(mt.key)&&q("Duplicate keys found during update:",JSON.stringify(mt.key),"Make sure keys are unique."),Ve.set(mt.key,U))}let nt,bt=0;const rn=le-Te+1;let Qr=!1,xs=0;const Nr=new Array(rn);for(U=0;U<rn;U++)Nr[U]=0;for(U=pe;U<=ce;U++){const mt=_[U];if(bt>=rn){Ne(mt,G,W,!0);continue}let hn;if(mt.key!=null)hn=Ve.get(mt.key);else for(nt=Te;nt<=le;nt++)if(Nr[nt-Te]===0&&es(mt,S[nt])){hn=nt;break}hn===void 0?Ne(mt,G,W,!0):(Nr[hn-Te]=U+1,hn>=xs?xs=hn:Qr=!0,p(mt,S[hn],D,null,G,W,Z,B,X),bt++)}const Vn=Qr?aS(Nr):Ms;for(nt=Vn.length-1,U=rn-1;U>=0;U--){const mt=Te+U,hn=S[mt],ma=mt+1<ie?S[mt+1].el:j;Nr[U]===0?p(null,hn,D,ma,G,W,Z,B,X):Qr&&(nt<0||U!==Vn[nt]?Xt(hn,D,ma,2):nt--)}}},Xt=(_,S,D,j,G=null)=>{const{el:W,type:Z,transition:B,children:X,shapeFlag:U}=_;if(U&6){Xt(_.component.subTree,S,D,j);return}if(U&128){_.suspense.move(S,D,j);return}if(U&64){Z.move(_,S,D,$t);return}if(Z===Ge){r(W,S,D);for(let ce=0;ce<X.length;ce++)Xt(X[ce],S,D,j);r(_.anchor,S,D);return}if(Z===wl){E(_,S,D);return}if(j!==2&&U&1&&B)if(j===0)B.beforeEnter(W),r(W,S,D),an(()=>B.enter(W),G);else{const{leave:ce,delayLeave:le,afterLeave:pe}=B,Te=()=>r(W,S,D),Ve=()=>{ce(W,()=>{Te(),pe&&pe()})};le?le(W,Te,Ve):Ve()}else r(W,S,D)},Ne=(_,S,D,j=!1,G=!1)=>{const{type:W,props:Z,ref:B,children:X,dynamicChildren:U,shapeFlag:ie,patchFlag:ce,dirs:le}=_;if(B!=null&&ef(B,null,D,_,!0),ie&256){S.ctx.deactivate(_);return}const pe=ie&1&&le,Te=!Ma(_);let Ve;if(Te&&(Ve=Z&&Z.onVnodeBeforeUnmount)&&ar(Ve,S,_),ie&6)Or(_.component,D,j);else{if(ie&128){_.suspense.unmount(D,j);return}pe&&Zi(_,null,S,"beforeUnmount"),ie&64?_.type.remove(_,S,D,G,$t,j):U&&(W!==Ge||ce>0&&ce&64)?Ie(U,S,D,!1,!0):(W===Ge&&ce&384||!G&&ie&16)&&Ie(X,S,D),j&&Rt(_)}(Te&&(Ve=Z&&Z.onVnodeUnmounted)||pe)&&an(()=>{Ve&&ar(Ve,S,_),pe&&Zi(_,null,S,"unmounted")},D)},Rt=_=>{const{type:S,el:D,anchor:j,transition:G}=_;if(S===Ge){process.env.NODE_ENV!=="production"&&_.patchFlag>0&&_.patchFlag&2048&&G&&!G.persisted?_.children.forEach(Z=>{Z.type===Tt?i(Z.el):Rt(Z)}):ut(D,j);return}if(S===wl){O(_);return}const W=()=>{i(D),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(_.shapeFlag&1&&G&&!G.persisted){const{leave:Z,delayLeave:B}=G,X=()=>Z(D,W);B?B(_.el,W,X):X()}else W()},ut=(_,S)=>{let D;for(;_!==S;)D=h(_),i(_),_=D;i(S)},Or=(_,S,D)=>{process.env.NODE_ENV!=="production"&&_.type.__hmrId&&Z1(_);const{bum:j,scope:G,update:W,subTree:Z,um:B}=_;j&&va(j),G.stop(),W&&(W.active=!1,Ne(Z,_,S,D)),B&&an(B,S),an(()=>{_.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve()),process.env.NODE_ENV!=="production"&&iE(_)},Ie=(_,S,D,j=!1,G=!1,W=0)=>{for(let Z=W;Z<_.length;Z++)Ne(_[Z],S,D,j,G)},fn=_=>_.shapeFlag&6?fn(_.component.subTree):_.shapeFlag&128?_.suspense.next():h(_.anchor||_.el);let Mr=!1;const Zr=(_,S,D)=>{_==null?S._vnode&&Ne(S._vnode,null,null,!0):p(S._vnode||null,_,S,null,null,null,D),Mr||(Mr=!0,cm(),fm(),Mr=!1),S._vnode=_},$t={p,um:Ne,m:Xt,r:Rt,mt:T,mc:k,pc:Pe,pbc:R,n:fn,o:t};let Tr,Jr;return e&&([Tr,Jr]=e($t)),{render:Zr,hydrate:Tr,createApp:BE(Zr,Tr)}}function tf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Qi({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function sS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function La(t,e,n=!1){const r=t.children,i=e.children;if(ue(r)&&ue(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=hi(i[s]),o.el=a.el),n||La(a,o)),o.type===Pa&&(o.el=a.el),process.env.NODE_ENV!=="production"&&o.type===Tt&&!o.el&&(o.el=a.el)}}function aS(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<u?s=o+1:a=o;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}function np(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:np(e)}const oS=t=>t.__isTeleport,Ps=t=>t&&(t.disabled||t.disabled===""),rp=t=>typeof SVGElement<"u"&&t instanceof SVGElement,ip=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,nf=(t,e)=>{const n=t&&t.to;if(rt(n))if(e){const r=e(n);return r||process.env.NODE_ENV!=="production"&&q(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),r}else return process.env.NODE_ENV!=="production"&&q("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return process.env.NODE_ENV!=="production"&&!n&&!Ps(t)&&q(`Invalid Teleport target: ${n}`),n},lS={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,u){const{mc:f,pc:c,pbc:h,o:{insert:d,querySelector:m,createText:p,createComment:g}}=u,y=Ps(e.props);let{shapeFlag:v,children:b,dynamicChildren:E}=e;if(process.env.NODE_ENV!=="production"&&oi&&(l=!1,E=null),t==null){const O=e.el=process.env.NODE_ENV!=="production"?g("teleport start"):p(""),N=e.anchor=process.env.NODE_ENV!=="production"?g("teleport end"):p("");d(O,n,r),d(N,n,r);const M=e.target=nf(e.props,m),A=e.targetAnchor=p("");M?(d(A,M),a==="svg"||rp(M)?a="svg":(a==="mathml"||ip(M))&&(a="mathml")):process.env.NODE_ENV!=="production"&&!y&&q("Invalid Teleport target on mount:",M,`(${typeof M})`);const k=(C,R)=>{v&16&&f(b,C,R,i,s,a,o,l)};y?k(n,N):M&&k(M,A)}else{e.el=t.el;const O=e.anchor=t.anchor,N=e.target=t.target,M=e.targetAnchor=t.targetAnchor,A=Ps(t.props),k=A?n:N,C=A?O:M;if(a==="svg"||rp(N)?a="svg":(a==="mathml"||ip(N))&&(a="mathml"),E?(h(t.dynamicChildren,E,k,i,s,a,o),La(t,e,!0)):l||c(t,e,k,C,i,s,a,o,!1),y)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Sl(e,n,O,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=nf(e.props,m);R?Sl(e,R,null,u,0):process.env.NODE_ENV!=="production"&&q("Invalid Teleport target on update:",N,`(${typeof N})`)}else A&&Sl(e,N,M,u,1)}ap(e)},remove(t,e,n,r,{um:i,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:u,targetAnchor:f,target:c,props:h}=t;if(c&&s(f),a&&s(u),o&16){const d=a||!Ps(h);for(let m=0;m<l.length;m++){const p=l[m];i(p,e,n,d,!!p.dynamicChildren)}}},move:Sl,hydrate:uS};function Sl(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:f}=t,c=s===2;if(c&&r(a,e,n),(!c||Ps(f))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);c&&r(o,e,n)}function uS(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const f=e.target=nf(e.props,l);if(f){const c=f._lpa||f.firstChild;if(e.shapeFlag&16)if(Ps(e.props))e.anchor=u(a(t),e,o(t),n,r,i,s),e.targetAnchor=c;else{e.anchor=a(t);let h=c;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(c,e,f,n,r,i,s)}ap(e)}return e.anchor&&a(e.anchor)}const sp=lS;function ap(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ge=Symbol.for("v-fgt"),Pa=Symbol.for("v-txt"),Tt=Symbol.for("v-cmt"),wl=Symbol.for("v-stc"),Aa=[];let Gn=null;function P(t=!1){Aa.push(Gn=t?null:[])}function cS(){Aa.pop(),Gn=Aa[Aa.length-1]||null}let ka=1;function op(t){ka+=t}function lp(t){return t.dynamicChildren=ka>0?Gn||Ms:null,cS(),ka>0&&Gn&&Gn.push(t),t}function V(t,e,n,r,i,s){return lp(L(t,e,n,r,i,s,!0))}function Fe(t,e,n,r,i){return lp(te(t,e,n,r,i,!0))}function As(t){return t?t.__v_isVNode===!0:!1}function es(t,e){return process.env.NODE_ENV!=="production"&&e.shapeFlag&6&&Ns.has(e.type)?(t.shapeFlag&=-257,e.shapeFlag&=-513,!1):t.type===e.type&&t.key===e.key}const fS=(...t)=>cp(...t),up=({key:t})=>t!=null?t:null,xl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?rt(t)||Ye(t)||ge(t)?{i:ct,r:t,k:e,f:!!n}:t:null);function L(t,e=null,n=null,r=0,i=null,s=t===Ge?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&up(e),ref:e&&xl(e),scopeId:vm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ct};return o?(rf(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=rt(n)?8:16),process.env.NODE_ENV!=="production"&&l.key!==l.key&&q("VNode created with invalid key (NaN). VNode type:",l.type),ka>0&&!a&&Gn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Gn.push(l),l}const te=process.env.NODE_ENV!=="production"?fS:cp;function cp(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===pE)&&(process.env.NODE_ENV!=="production"&&!t&&q(`Invalid vnode type when creating vnode: ${t}.`),t=Tt),As(t)){const o=sr(t,e,!0);return n&&rf(o,n),ka>0&&!s&&Gn&&(o.shapeFlag&6?Gn[Gn.indexOf(t)]=o:Gn.push(o)),o.patchFlag|=-2,o}if(yp(t)&&(t=t.__vccOpts),e){e=hS(e);let{class:o,style:l}=e;o&&!rt(o)&&(e.class=Ae(o)),je(l)&&(al(l)&&!ue(l)&&(l=et({},l)),e.style=ni(l))}const a=rt(t)?1:gE(t)?128:oS(t)?64:je(t)?4:ge(t)?2:0;return process.env.NODE_ENV!=="production"&&a&4&&al(t)&&(t=_e(t),q("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),L(t,e,n,r,i,a,s,!0)}function hS(t){return t?al(t)||Wm(t)?et({},t):t:null}function sr(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,o=e?dS(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&up(o),ref:e&&e.ref?n&&i?ue(i)?i.concat(xl(e)):[i,xl(e)]:xl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:process.env.NODE_ENV!=="production"&&s===-1&&ue(a)?a.map(fp):a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ge?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&sr(t.ssContent),ssFallback:t.ssFallback&&sr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function fp(t){const e=sr(t);return ue(t.children)&&(e.children=t.children.map(fp)),e}function Da(t=" ",e=0){return te(Pa,null,t,e)}function F(t="",e=!1){return e?(P(),Fe(Tt,null,t)):te(Tt,null,t)}function Un(t){return t==null||typeof t=="boolean"?te(Tt):ue(t)?te(Ge,null,t.slice()):typeof t=="object"?hi(t):te(Pa,null,String(t))}function hi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:sr(t)}function rf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),rf(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Wm(e)?e._ctx=ct:i===3&&ct&&(ct.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:ct},n=32):(e=String(e),r&64?(n=16,e=[Da(e)]):n=8);t.children=e,t.shapeFlag|=n}function dS(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ae([e.class,r.class]));else if(i==="style")e.style=ni([e.style,r.style]);else if(ga(i)){const s=e[i],a=r[i];a&&s!==a&&!(ue(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function ar(t,e,n,r=null){wn(t,e,7,[n,r])}const mS=jm();let pS=0;function gS(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||mS,s={uid:pS++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ld(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hm(r,i),emitsOptions:ym(r,i),emit:null,emitted:null,propsDefaults:Ze,inheritAttrs:r.inheritAttrs,ctx:Ze,data:Ze,props:Ze,attrs:Ze,slots:Ze,refs:Ze,setupState:Ze,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return process.env.NODE_ENV!=="production"?s.ctx=kE(s):s.ctx={_:s},s.root=e?e.root:s,s.emit=lE.bind(null,s),t.ce&&t.ce(s),s}let St=null;const Ia=()=>St||ct;let Ol,sf;{const t=Xo(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};Ol=e("__VUE_INSTANCE_SETTERS__",n=>St=n),sf=e("__VUE_SSR_SETTERS__",n=>Ml=n)}const Ra=t=>{const e=St;return Ol(t),t.scope.on(),()=>{t.scope.off(),Ol(e)}},hp=()=>{St&&St.scope.off(),Ol(null)},yS=Cr("slot,component");function af(t,{isNativeTag:e}){(yS(t)||e(t))&&q("Do not use built-in or reserved HTML elements as component id: "+t)}function dp(t){return t.vnode.shapeFlag&4}let Ml=!1;function vS(t,e=!1){e&&sf(e);const{props:n,children:r}=t.vnode,i=dp(t);qE(t,n,i,e),eS(t,r);const s=i?_S(t,e):void 0;return e&&sf(!1),s}function _S(t,e){var n;const r=t.type;if(process.env.NODE_ENV!=="production"){if(r.name&&af(r.name,t.appContext.config),r.components){const s=Object.keys(r.components);for(let a=0;a<s.length;a++)af(s[a],t.appContext.config)}if(r.directives){const s=Object.keys(r.directives);for(let a=0;a<s.length;a++)Om(s[a])}r.compilerOptions&&bS()&&q('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Dm),process.env.NODE_ENV!=="production"&&DE(t);const{setup:i}=r;if(i){const s=t.setupContext=i.length>1?SS(t):null,a=Ra(t);Lr();const o=kr(i,t,0,[process.env.NODE_ENV!=="production"?Ar(t.props):t.props,s]);if(Pr(),a(),mc(o)){if(o.then(hp,hp),e)return o.then(l=>{mp(t,l,e)}).catch(l=>{ba(l,t,0)});if(t.asyncDep=o,process.env.NODE_ENV!=="production"&&!t.suspense){const l=(n=r.name)!=null?n:"Anonymous";q(`Component <${l}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else mp(t,o,e)}else pp(t,e)}function mp(t,e,n){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:je(e)?(process.env.NODE_ENV!=="production"&&As(e)&&q("setup() should not return VNodes directly - return a render function instead."),process.env.NODE_ENV!=="production"&&(t.devtoolsRawSetupState=e),t.setupState=im(e),process.env.NODE_ENV!=="production"&&IE(t)):process.env.NODE_ENV!=="production"&&e!==void 0&&q(`setup() should return an object. Received: ${e===null?"null":typeof e}`),pp(t,n)}let of;const bS=()=>!of;function pp(t,e,n){const r=t.type;if(!t.render){if(!e&&of&&!r.render){const i=r.template||Xc(t).template;if(i){process.env.NODE_ENV!=="production"&&Rr(t,"compile");const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,u=et(et({isCustomElement:s,delimiters:o},a),l);r.render=of(i,u),process.env.NODE_ENV!=="production"&&$r(t,"compile")}}t.render=r.render||pt}{const i=Ra(t);Lr();try{$E(t)}finally{Pr(),i()}}process.env.NODE_ENV!=="production"&&!r.render&&t.render===pt&&!e&&(r.template?q('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):q("Component is missing template or render function."))}const gp=process.env.NODE_ENV!=="production"?{get(t,e){return pl(),At(t,"get",""),t[e]},set(){return q("setupContext.attrs is readonly."),!1},deleteProperty(){return q("setupContext.attrs is readonly."),!1}}:{get(t,e){return At(t,"get",""),t[e]}};function ES(t){return t.slotsProxy||(t.slotsProxy=new Proxy(t.slots,{get(e,n){return At(t,"get","$slots"),e[n]}}))}function SS(t){const e=n=>{if(process.env.NODE_ENV!=="production"&&(t.exposed&&q("expose() should be called only once per setup()."),n!=null)){let r=typeof n;r==="object"&&(ue(n)?r="array":Ye(n)&&(r="ref")),r!=="object"&&q(`expose() should be passed a plain object, received ${r}.`)}t.exposed=n||{}};if(process.env.NODE_ENV!=="production"){let n;return Object.freeze({get attrs(){return n||(n=new Proxy(t.attrs,gp))},get slots(){return ES(t)},get emit(){return(r,...i)=>t.emit(r,...i)},expose:e})}else return{attrs:new Proxy(t.attrs,gp),slots:t.slots,emit:t.emit,expose:e}}function Tl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(im(si(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ji)return Ji[n](t)},has(e,n){return n in e||n in Ji}}))}const wS=/(?:^|[-_])(\w)/g,xS=t=>t.replace(wS,e=>e.toUpperCase()).replace(/[-_]/g,"");function lf(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function Nl(t,e,n=!1){let r=lf(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=s=>{for(const a in s)if(s[a]===e)return a};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?xS(r):n?"App":"Anonymous"}function yp(t){return ge(t)&&"__vccOpts"in t}const me=(t,e)=>{const n=I1(t,e,Ml);if(process.env.NODE_ENV!=="production"){const r=Ia();r&&r.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function vp(t,e,n){const r=arguments.length;return r===2?je(e)&&!ue(e)?As(e)?te(t,null,[e]):te(t,e):te(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&As(n)&&(n=[n]),te(t,e,n))}function OS(){if(process.env.NODE_ENV==="production"||typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#1677ff"},n={style:"color:#f5222d"},r={style:"color:#eb2f96"},i={header(c){return je(c)?c.__isVue?["div",t,"VueInstance"]:Ye(c)?["div",{},["span",t,f(c)],"<",o(c.value),">"]:rr(c)?["div",{},["span",t,zi(c)?"ShallowReactive":"Reactive"],"<",o(c),`>${Hi(c)?" (readonly)":""}`]:Hi(c)?["div",{},["span",t,zi(c)?"ShallowReadonly":"Readonly"],"<",o(c),">"]:null:null},hasBody(c){return c&&c.__isVue},body(c){if(c&&c.__isVue)return["div",{},...s(c.$)]}};function s(c){const h=[];c.type.props&&c.props&&h.push(a("props",_e(c.props))),c.setupState!==Ze&&h.push(a("setup",c.setupState)),c.data!==Ze&&h.push(a("data",_e(c.data)));const d=l(c,"computed");d&&h.push(a("computed",d));const m=l(c,"inject");return m&&h.push(a("injected",m)),h.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:c}]]),h}function a(c,h){return h=et({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},c],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(d=>["div",{},["span",r,d+": "],o(h[d],!1)])]]:["span",{}]}function o(c,h=!0){return typeof c=="number"?["span",e,c]:typeof c=="string"?["span",n,JSON.stringify(c)]:typeof c=="boolean"?["span",r,c]:je(c)?["object",{object:h?_e(c):c}]:["span",n,String(c)]}function l(c,h){const d=c.type;if(ge(d))return;const m={};for(const p in c.ctx)u(d,p,h)&&(m[p]=c.ctx[p]);return m}function u(c,h,d){const m=c[d];if(ue(m)&&m.includes(h)||je(m)&&h in m||c.extends&&u(c.extends,h,d)||c.mixins&&c.mixins.some(p=>u(p,h,d)))return!0}function f(c){return zi(c)?"ShallowRef":c.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}const _p="3.4.25",di=process.env.NODE_ENV!=="production"?q:pt;process.env.NODE_ENV,process.env.NODE_ENV;/**
* @vue/runtime-dom v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const MS="http://www.w3.org/2000/svg",TS="http://www.w3.org/1998/Math/MathML",mi=typeof document<"u"?document:null,bp=mi&&mi.createElement("template"),NS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?mi.createElementNS(MS,t):e==="mathml"?mi.createElementNS(TS,t):mi.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>mi.createTextNode(t),createComment:t=>mi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>mi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{bp.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const o=bp.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},pi="transition",$a="animation",Fa=Symbol("_vtc"),Cl=(t,{slots:e})=>vp(SE,CS(t),e);Cl.displayName="Transition";const Ep={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Cl.props=et({},Mm,Ep);const ts=(t,e=[])=>{ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},Sp=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function CS(t){const e={};for(const I in t)I in Ep||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:f=o,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,m=LS(i),p=m&&m[0],g=m&&m[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:b,onLeave:E,onLeaveCancelled:O,onBeforeAppear:N=y,onAppear:M=v,onAppearCancelled:A=b}=e,k=(I,ee,be)=>{ns(I,ee?f:o),ns(I,ee?u:a),be&&be()},C=(I,ee)=>{I._isLeaving=!1,ns(I,c),ns(I,d),ns(I,h),ee&&ee()},R=I=>(ee,be)=>{const T=I?M:v,$=()=>k(ee,I,be);ts(T,[ee,$]),wp(()=>{ns(ee,I?l:s),gi(ee,I?f:o),Sp(T)||xp(ee,r,p,$)})};return et(e,{onBeforeEnter(I){ts(y,[I]),gi(I,s),gi(I,a)},onBeforeAppear(I){ts(N,[I]),gi(I,l),gi(I,u)},onEnter:R(!1),onAppear:R(!0),onLeave(I,ee){I._isLeaving=!0;const be=()=>C(I,ee);gi(I,c),gi(I,h),kS(),wp(()=>{!I._isLeaving||(ns(I,c),gi(I,d),Sp(E)||xp(I,r,g,be))}),ts(E,[I,be])},onEnterCancelled(I){k(I,!1),ts(b,[I])},onAppearCancelled(I){k(I,!0),ts(A,[I])},onLeaveCancelled(I){C(I),ts(O,[I])}})}function LS(t){if(t==null)return null;if(je(t))return[uf(t.enter),uf(t.leave)];{const e=uf(t);return[e,e]}}function uf(t){const e=yc(t);return process.env.NODE_ENV!=="production"&&W1(e,"<transition> explicit duration"),e}function gi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Fa]||(t[Fa]=new Set)).add(e)}function ns(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Fa];n&&(n.delete(e),n.size||(t[Fa]=void 0))}function wp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let PS=0;function xp(t,e,n,r){const i=t._endId=++PS,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=AS(t,e);if(!a)return r();const u=a+"end";let f=0;const c=()=>{t.removeEventListener(u,h),s()},h=d=>{d.target===t&&++f>=l&&c()};setTimeout(()=>{f<l&&c()},o+1),t.addEventListener(u,h)}function AS(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r(`${pi}Delay`),s=r(`${pi}Duration`),a=Op(i,s),o=r(`${$a}Delay`),l=r(`${$a}Duration`),u=Op(o,l);let f=null,c=0,h=0;e===pi?a>0&&(f=pi,c=a,h=s.length):e===$a?u>0&&(f=$a,c=u,h=l.length):(c=Math.max(a,u),f=c>0?a>u?pi:$a:null,h=f?f===pi?s.length:l.length:0);const d=f===pi&&/\b(transform|all)(,|$)/.test(r(`${pi}Property`).toString());return{type:f,timeout:c,propCount:h,hasTransform:d}}function Op(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Mp(n)+Mp(t[r])))}function Mp(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function kS(){return document.body.offsetHeight}function DS(t,e,n){const r=t[Fa];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Tp=Symbol("_vod"),IS=Symbol("_vsh");process.env.NODE_ENV;const RS=Symbol(process.env.NODE_ENV!=="production"?"CSS_VAR_TEXT":""),$S=/(^|;)\s*display\s*:/;function FS(t,e,n){const r=t.style,i=rt(n);let s=!1;if(n&&!i){if(e)if(rt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&Ll(r,o,"")}else for(const a in e)n[a]==null&&Ll(r,a,"");for(const a in n)a==="display"&&(s=!0),Ll(r,a,n[a])}else if(i){if(e!==n){const a=r[RS];a&&(n+=";"+a),r.cssText=n,s=$S.test(n)}}else e&&t.removeAttribute("style");Tp in t&&(t[Tp]=s?r.display:"",t[IS]&&(r.display="none"))}const VS=/[^\\];\s*$/,Np=/\s*!important$/;function Ll(t,e,n){if(ue(n))n.forEach(r=>Ll(t,e,r));else if(n==null&&(n=""),process.env.NODE_ENV!=="production"&&VS.test(n)&&di(`Unexpected semicolon at the end of '${e}' style value: '${n}'`),e.startsWith("--"))t.setProperty(e,n);else{const r=jS(t,e);Np.test(n)?t.setProperty(sn(r),n.replace(Np,""),"important"):t[r]=n}}const Cp=["Webkit","Moz","ms"],cf={};function jS(t,e){const n=cf[e];if(n)return n;let r=mn(e);if(r!=="filter"&&r in t)return cf[e]=r;r=Ui(r);for(let i=0;i<Cp.length;i++){const s=Cp[i]+r;if(s in t)return cf[e]=s}return e}const Lp="http://www.w3.org/1999/xlink";function GS(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Lp,e.slice(6,e.length)):t.setAttributeNS(Lp,e,n);else{const s=c1(e);n==null||s&&!Nd(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function US(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n==null?"":n;return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?t.getAttribute("value")||"":t.value,f=n==null?"":n;(u!==f||!("_value"in t))&&(t.value=f),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Nd(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch(u){process.env.NODE_ENV!=="production"&&!l&&di(`Failed setting prop "${e}" on <${o.toLowerCase()}>: value ${n} is invalid.`,u)}l&&t.removeAttribute(e)}function BS(t,e,n,r){t.addEventListener(e,n,r)}function WS(t,e,n,r){t.removeEventListener(e,n,r)}const Pp=Symbol("_vei");function qS(t,e,n,r,i=null){const s=t[Pp]||(t[Pp]={}),a=s[e];if(r&&a)a.value=process.env.NODE_ENV!=="production"?kp(r,e):r;else{const[o,l]=HS(e);if(r){const u=s[e]=XS(process.env.NODE_ENV!=="production"?kp(r,e):r,i);BS(t,o,u,l)}else a&&(WS(t,o,a,l),s[e]=void 0)}}const Ap=/(?:Once|Passive|Capture)$/;function HS(t){let e;if(Ap.test(t)){e={};let r;for(;r=t.match(Ap);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):sn(t.slice(2)),e]}let ff=0;const zS=Promise.resolve(),YS=()=>ff||(zS.then(()=>ff=0),ff=Date.now());function XS(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;wn(KS(r,n.value),e,5,[r])};return n.value=t,n.attached=YS(),n}function kp(t,e){return ge(t)||ue(t)?t:(di(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof t}.`),pt)}function KS(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Dp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ZS=(t,e,n,r,i,s,a,o,l)=>{const u=i==="svg";e==="class"?DS(t,r,u):e==="style"?FS(t,n,r):ga(e)?Ho(e)||qS(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):JS(t,e,r,u))?US(t,e,r,s,a,o,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),GS(t,e,r,u))};function JS(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Dp(e)&&ge(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Dp(e)&&rt(n)?!1:e in t}const QS=["ctrl","shift","alt","meta"],ew={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>QS.some(n=>t[`${n}Key`]&&!e.includes(n))},or=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<e.length;a++){const o=ew[e[a]];if(o&&o(i,e))return}return t(i,...s)})},tw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},lr=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=sn(i.key);if(e.some(a=>a===s||tw[a]===s))return t(i)})},nw=et({patchProp:ZS},NS);let Ip;function Rp(){return Ip||(Ip=rS(nw))}const $p=(...t)=>{Rp().render(...t)},rw=(...t)=>{const e=Rp().createApp(...t);process.env.NODE_ENV!=="production"&&(sw(e),aw(e));const{mount:n}=e;return e.mount=r=>{const i=ow(r);if(!i)return;const s=e._component;!ge(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,iw(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function iw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function sw(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>o1(e)||l1(e)||u1(e),writable:!1})}function aw(t){{const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){di("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=t.config.compilerOptions,r='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(t.config,"compilerOptions",{get(){return di(r),n},set(){di(r)}})}}function ow(t){if(rt(t)){const e=document.querySelector(t);return process.env.NODE_ENV!=="production"&&!e&&di(`Failed to mount app: mount target selector "${t}" returned null.`),e}return process.env.NODE_ENV!=="production"&&window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&di('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}/**
* vue v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function lw(){OS()}process.env.NODE_ENV!=="production"&&lw();/*! @license DOMPurify 2.5.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.0/LICENSE */function yi(t){return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yi(t)}function hf(t,e){return hf=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},hf(t,e)}function uw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pl(t,e,n){return uw()?Pl=Reflect.construct:Pl=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&hf(u,a.prototype),u},Pl.apply(null,arguments)}function Bn(t){return cw(t)||fw(t)||hw(t)||dw()}function cw(t){if(Array.isArray(t))return df(t)}function fw(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hw(t,e){if(!!t){if(typeof t=="string")return df(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return df(t,e)}}function df(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mw=Object.hasOwnProperty,Fp=Object.setPrototypeOf,pw=Object.isFrozen,gw=Object.getPrototypeOf,yw=Object.getOwnPropertyDescriptor,Jt=Object.freeze,Mn=Object.seal,vw=Object.create,Vp=typeof Reflect<"u"&&Reflect,Al=Vp.apply,mf=Vp.construct;Al||(Al=function(e,n,r){return e.apply(n,r)}),Jt||(Jt=function(e){return e}),Mn||(Mn=function(e){return e}),mf||(mf=function(e,n){return Pl(e,Bn(n))});var _w=Tn(Array.prototype.forEach),jp=Tn(Array.prototype.pop),Va=Tn(Array.prototype.push),kl=Tn(String.prototype.toLowerCase),pf=Tn(String.prototype.toString),Gp=Tn(String.prototype.match),Wn=Tn(String.prototype.replace),bw=Tn(String.prototype.indexOf),Ew=Tn(String.prototype.trim),jt=Tn(RegExp.prototype.test),gf=Sw(TypeError);function Tn(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Al(t,e,r)}}function Sw(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return mf(t,n)}}function Le(t,e,n){var r;n=(r=n)!==null&&r!==void 0?r:kl,Fp&&Fp(t,null);for(var i=e.length;i--;){var s=e[i];if(typeof s=="string"){var a=n(s);a!==s&&(pw(e)||(e[i]=a),s=a)}t[s]=!0}return t}function rs(t){var e=vw(null),n;for(n in t)Al(mw,t,[n])===!0&&(e[n]=t[n]);return e}function Dl(t,e){for(;t!==null;){var n=yw(t,e);if(n){if(n.get)return Tn(n.get);if(typeof n.value=="function")return Tn(n.value)}t=gw(t)}function r(i){return console.warn("fallback value for",i),null}return r}var Up=Jt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),yf=Jt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),vf=Jt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ww=Jt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_f=Jt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),xw=Jt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Bp=Jt(["#text"]),Wp=Jt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),bf=Jt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qp=Jt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Il=Jt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ow=Mn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Mw=Mn(/<%[\w\W]*|[\w\W]*%>/gm),Tw=Mn(/\${[\w\W]*}/gm),Nw=Mn(/^data-[\-\w.\u00B7-\uFFFF]/),Cw=Mn(/^aria-[\-\w]+$/),Lw=Mn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pw=Mn(/^(?:\w+script|data):/i),Aw=Mn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kw=Mn(/^html$/i),Dw=Mn(/^[a-z][.\w]*(-[.\w]+)+$/i),Iw=function(){return typeof window>"u"?null:window},Rw=function(e,n){if(yi(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML:function(o){return o},createScriptURL:function(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function Hp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Iw(),e=function(x){return Hp(x)};if(e.version="2.5.0",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,o=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,f=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,c=t.HTMLFormElement,h=t.DOMParser,d=t.trustedTypes,m=o.prototype,p=Dl(m,"cloneNode"),g=Dl(m,"nextSibling"),y=Dl(m,"childNodes"),v=Dl(m,"parentNode");if(typeof s=="function"){var b=r.createElement("template");b.content&&b.content.ownerDocument&&(r=b.content.ownerDocument)}var E=Rw(d,n),O=E?E.createHTML(""):"",N=r,M=N.implementation,A=N.createNodeIterator,k=N.createDocumentFragment,C=N.getElementsByTagName,R=n.importNode,I={};try{I=rs(r).documentMode?r.documentMode:{}}catch{}var ee={};e.isSupported=typeof v=="function"&&M&&M.createHTMLDocument!==void 0&&I!==9;var be=Ow,T=Mw,$=Tw,z=Nw,K=Cw,Pe=Pw,ke=Aw,_t=Dw,Xt=Lw,Ne=null,Rt=Le({},[].concat(Bn(Up),Bn(yf),Bn(vf),Bn(_f),Bn(Bp))),ut=null,Or=Le({},[].concat(Bn(Wp),Bn(bf),Bn(qp),Bn(Il))),Ie=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),fn=null,Mr=null,Zr=!0,$t=!0,Tr=!1,Jr=!0,_=!1,S=!0,D=!1,j=!1,G=!1,W=!1,Z=!1,B=!1,X=!0,U=!1,ie="user-content-",ce=!0,le=!1,pe={},Te=null,Ve=Le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),nt=null,bt=Le({},["audio","video","img","source","image","track"]),rn=null,Qr=Le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),xs="http://www.w3.org/1998/Math/MathML",Nr="http://www.w3.org/2000/svg",Vn="http://www.w3.org/1999/xhtml",mt=Vn,hn=!1,ma=null,d4=Le({},[xs,Nr,Vn],pf),Os,m4=["application/xhtml+xml","text/html"],p4="text/html",Ct,pa=null,g4=r.createElement("form"),nb=function(x){return x instanceof RegExp||x instanceof Function},dd=function(x){pa&&pa===x||((!x||yi(x)!=="object")&&(x={}),x=rs(x),Os=m4.indexOf(x.PARSER_MEDIA_TYPE)===-1?Os=p4:Os=x.PARSER_MEDIA_TYPE,Ct=Os==="application/xhtml+xml"?pf:kl,Ne="ALLOWED_TAGS"in x?Le({},x.ALLOWED_TAGS,Ct):Rt,ut="ALLOWED_ATTR"in x?Le({},x.ALLOWED_ATTR,Ct):Or,ma="ALLOWED_NAMESPACES"in x?Le({},x.ALLOWED_NAMESPACES,pf):d4,rn="ADD_URI_SAFE_ATTR"in x?Le(rs(Qr),x.ADD_URI_SAFE_ATTR,Ct):Qr,nt="ADD_DATA_URI_TAGS"in x?Le(rs(bt),x.ADD_DATA_URI_TAGS,Ct):bt,Te="FORBID_CONTENTS"in x?Le({},x.FORBID_CONTENTS,Ct):Ve,fn="FORBID_TAGS"in x?Le({},x.FORBID_TAGS,Ct):{},Mr="FORBID_ATTR"in x?Le({},x.FORBID_ATTR,Ct):{},pe="USE_PROFILES"in x?x.USE_PROFILES:!1,Zr=x.ALLOW_ARIA_ATTR!==!1,$t=x.ALLOW_DATA_ATTR!==!1,Tr=x.ALLOW_UNKNOWN_PROTOCOLS||!1,Jr=x.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_=x.SAFE_FOR_TEMPLATES||!1,S=x.SAFE_FOR_XML!==!1,D=x.WHOLE_DOCUMENT||!1,W=x.RETURN_DOM||!1,Z=x.RETURN_DOM_FRAGMENT||!1,B=x.RETURN_TRUSTED_TYPE||!1,G=x.FORCE_BODY||!1,X=x.SANITIZE_DOM!==!1,U=x.SANITIZE_NAMED_PROPS||!1,ce=x.KEEP_CONTENT!==!1,le=x.IN_PLACE||!1,Xt=x.ALLOWED_URI_REGEXP||Xt,mt=x.NAMESPACE||Vn,Ie=x.CUSTOM_ELEMENT_HANDLING||{},x.CUSTOM_ELEMENT_HANDLING&&nb(x.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ie.tagNameCheck=x.CUSTOM_ELEMENT_HANDLING.tagNameCheck),x.CUSTOM_ELEMENT_HANDLING&&nb(x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ie.attributeNameCheck=x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),x.CUSTOM_ELEMENT_HANDLING&&typeof x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ie.allowCustomizedBuiltInElements=x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_&&($t=!1),Z&&(W=!0),pe&&(Ne=Le({},Bn(Bp)),ut=[],pe.html===!0&&(Le(Ne,Up),Le(ut,Wp)),pe.svg===!0&&(Le(Ne,yf),Le(ut,bf),Le(ut,Il)),pe.svgFilters===!0&&(Le(Ne,vf),Le(ut,bf),Le(ut,Il)),pe.mathMl===!0&&(Le(Ne,_f),Le(ut,qp),Le(ut,Il))),x.ADD_TAGS&&(Ne===Rt&&(Ne=rs(Ne)),Le(Ne,x.ADD_TAGS,Ct)),x.ADD_ATTR&&(ut===Or&&(ut=rs(ut)),Le(ut,x.ADD_ATTR,Ct)),x.ADD_URI_SAFE_ATTR&&Le(rn,x.ADD_URI_SAFE_ATTR,Ct),x.FORBID_CONTENTS&&(Te===Ve&&(Te=rs(Te)),Le(Te,x.FORBID_CONTENTS,Ct)),ce&&(Ne["#text"]=!0),D&&Le(Ne,["html","head","body"]),Ne.table&&(Le(Ne,["tbody"]),delete fn.tbody),Jt&&Jt(x),pa=x)},rb=Le({},["mi","mo","mn","ms","mtext"]),ib=Le({},["foreignobject","desc","title","annotation-xml"]),y4=Le({},["title","style","font","a","script"]),fc=Le({},yf);Le(fc,vf),Le(fc,ww);var md=Le({},_f);Le(md,xw);var v4=function(x){var Y=v(x);(!Y||!Y.tagName)&&(Y={namespaceURI:mt,tagName:"template"});var se=kl(x.tagName),qe=kl(Y.tagName);return ma[x.namespaceURI]?x.namespaceURI===Nr?Y.namespaceURI===Vn?se==="svg":Y.namespaceURI===xs?se==="svg"&&(qe==="annotation-xml"||rb[qe]):Boolean(fc[se]):x.namespaceURI===xs?Y.namespaceURI===Vn?se==="math":Y.namespaceURI===Nr?se==="math"&&ib[qe]:Boolean(md[se]):x.namespaceURI===Vn?Y.namespaceURI===Nr&&!ib[qe]||Y.namespaceURI===xs&&!rb[qe]?!1:!md[se]&&(y4[se]||!fc[se]):!!(Os==="application/xhtml+xml"&&ma[x.namespaceURI]):!1},er=function(x){Va(e.removed,{element:x});try{x.parentNode.removeChild(x)}catch{try{x.outerHTML=O}catch{x.remove()}}},pd=function(x,Y){try{Va(e.removed,{attribute:Y.getAttributeNode(x),from:Y})}catch{Va(e.removed,{attribute:null,from:Y})}if(Y.removeAttribute(x),x==="is"&&!ut[x])if(W||Z)try{er(Y)}catch{}else try{Y.setAttribute(x,"")}catch{}},sb=function(x){var Y,se;if(G)x="<remove></remove>"+x;else{var qe=Gp(x,/^[\r\n\t ]+/);se=qe&&qe[0]}Os==="application/xhtml+xml"&&mt===Vn&&(x='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+x+"</body></html>");var dn=E?E.createHTML(x):x;if(mt===Vn)try{Y=new h().parseFromString(dn,Os)}catch{}if(!Y||!Y.documentElement){Y=M.createDocument(mt,"template",null);try{Y.documentElement.innerHTML=hn?O:dn}catch{}}var Kt=Y.body||Y.documentElement;return x&&se&&Kt.insertBefore(r.createTextNode(se),Kt.childNodes[0]||null),mt===Vn?C.call(Y,D?"html":"body")[0]:D?Y.documentElement:Kt},ab=function(x){return A.call(x.ownerDocument||x,x,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},_4=function(x){return x instanceof c&&(typeof x.nodeName!="string"||typeof x.textContent!="string"||typeof x.removeChild!="function"||!(x.attributes instanceof f)||typeof x.removeAttribute!="function"||typeof x.setAttribute!="function"||typeof x.namespaceURI!="string"||typeof x.insertBefore!="function"||typeof x.hasChildNodes!="function")},Bo=function(x){return yi(a)==="object"?x instanceof a:x&&yi(x)==="object"&&typeof x.nodeType=="number"&&typeof x.nodeName=="string"},ei=function(x,Y,se){!ee[x]||_w(ee[x],function(qe){qe.call(e,Y,se,pa)})},ob=function(x){var Y;if(ei("beforeSanitizeElements",x,null),_4(x)||jt(/[\u0080-\uFFFF]/,x.nodeName))return er(x),!0;var se=Ct(x.nodeName);if(ei("uponSanitizeElement",x,{tagName:se,allowedTags:Ne}),x.hasChildNodes()&&!Bo(x.firstElementChild)&&(!Bo(x.content)||!Bo(x.content.firstElementChild))&&jt(/<[/\w]/g,x.innerHTML)&&jt(/<[/\w]/g,x.textContent)||se==="select"&&jt(/<template/i,x.innerHTML)||x.nodeType===7||S&&x.nodeType===8&&jt(/<[/\w]/g,x.data))return er(x),!0;if(!Ne[se]||fn[se]){if(!fn[se]&&ub(se)&&(Ie.tagNameCheck instanceof RegExp&&jt(Ie.tagNameCheck,se)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(se)))return!1;if(ce&&!Te[se]){var qe=v(x)||x.parentNode,dn=y(x)||x.childNodes;if(dn&&qe)for(var Kt=dn.length,Ft=Kt-1;Ft>=0;--Ft)qe.insertBefore(p(dn[Ft],!0),g(x))}return er(x),!0}return x instanceof o&&!v4(x)||(se==="noscript"||se==="noembed"||se==="noframes")&&jt(/<\/no(script|embed|frames)/i,x.innerHTML)?(er(x),!0):(_&&x.nodeType===3&&(Y=x.textContent,Y=Wn(Y,be," "),Y=Wn(Y,T," "),Y=Wn(Y,$," "),x.textContent!==Y&&(Va(e.removed,{element:x.cloneNode()}),x.textContent=Y)),ei("afterSanitizeElements",x,null),!1)},lb=function(x,Y,se){if(X&&(Y==="id"||Y==="name")&&(se in r||se in g4))return!1;if(!($t&&!Mr[Y]&&jt(z,Y))){if(!(Zr&&jt(K,Y))){if(!ut[Y]||Mr[Y]){if(!(ub(x)&&(Ie.tagNameCheck instanceof RegExp&&jt(Ie.tagNameCheck,x)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(x))&&(Ie.attributeNameCheck instanceof RegExp&&jt(Ie.attributeNameCheck,Y)||Ie.attributeNameCheck instanceof Function&&Ie.attributeNameCheck(Y))||Y==="is"&&Ie.allowCustomizedBuiltInElements&&(Ie.tagNameCheck instanceof RegExp&&jt(Ie.tagNameCheck,se)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(se))))return!1}else if(!rn[Y]){if(!jt(Xt,Wn(se,ke,""))){if(!((Y==="src"||Y==="xlink:href"||Y==="href")&&x!=="script"&&bw(se,"data:")===0&&nt[x])){if(!(Tr&&!jt(Pe,Wn(se,ke,"")))){if(se)return!1}}}}}}return!0},ub=function(x){return x!=="annotation-xml"&&Gp(x,_t)},cb=function(x){var Y,se,qe,dn;ei("beforeSanitizeAttributes",x,null);var Kt=x.attributes;if(!!Kt){var Ft={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ut};for(dn=Kt.length;dn--;){Y=Kt[dn];var hc=Y,Lt=hc.name,gd=hc.namespaceURI;if(se=Lt==="value"?Y.value:Ew(Y.value),qe=Ct(Lt),Ft.attrName=qe,Ft.attrValue=se,Ft.keepAttr=!0,Ft.forceKeepAttr=void 0,ei("uponSanitizeAttribute",x,Ft),se=Ft.attrValue,!Ft.forceKeepAttr&&(pd(Lt,x),!!Ft.keepAttr)){if(!Jr&&jt(/\/>/i,se)){pd(Lt,x);continue}_&&(se=Wn(se,be," "),se=Wn(se,T," "),se=Wn(se,$," "));var fb=Ct(x.nodeName);if(!!lb(fb,qe,se)){if(U&&(qe==="id"||qe==="name")&&(pd(Lt,x),se=ie+se),E&&yi(d)==="object"&&typeof d.getAttributeType=="function"&&!gd)switch(d.getAttributeType(fb,qe)){case"TrustedHTML":{se=E.createHTML(se);break}case"TrustedScriptURL":{se=E.createScriptURL(se);break}}try{gd?x.setAttributeNS(gd,Lt,se):x.setAttribute(Lt,se),jp(e.removed)}catch{}}}}ei("afterSanitizeAttributes",x,null)}},b4=function fe(x){var Y,se=ab(x);for(ei("beforeSanitizeShadowDOM",x,null);Y=se.nextNode();)ei("uponSanitizeShadowNode",Y,null),!ob(Y)&&(Y.content instanceof i&&fe(Y.content),cb(Y));ei("afterSanitizeShadowDOM",x,null)};return e.sanitize=function(fe){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y,se,qe,dn,Kt;if(hn=!fe,hn&&(fe="<!-->"),typeof fe!="string"&&!Bo(fe))if(typeof fe.toString=="function"){if(fe=fe.toString(),typeof fe!="string")throw gf("dirty is not a string, aborting")}else throw gf("toString is not a function");if(!e.isSupported){if(yi(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof fe=="string")return t.toStaticHTML(fe);if(Bo(fe))return t.toStaticHTML(fe.outerHTML)}return fe}if(j||dd(x),e.removed=[],typeof fe=="string"&&(le=!1),le){if(fe.nodeName){var Ft=Ct(fe.nodeName);if(!Ne[Ft]||fn[Ft])throw gf("root node is forbidden and cannot be sanitized in-place")}}else if(fe instanceof a)Y=sb("<!---->"),se=Y.ownerDocument.importNode(fe,!0),se.nodeType===1&&se.nodeName==="BODY"||se.nodeName==="HTML"?Y=se:Y.appendChild(se);else{if(!W&&!_&&!D&&fe.indexOf("<")===-1)return E&&B?E.createHTML(fe):fe;if(Y=sb(fe),!Y)return W?null:B?O:""}Y&&G&&er(Y.firstChild);for(var hc=ab(le?fe:Y);qe=hc.nextNode();)qe.nodeType===3&&qe===dn||ob(qe)||(qe.content instanceof i&&b4(qe.content),cb(qe),dn=qe);if(dn=null,le)return fe;if(W){if(Z)for(Kt=k.call(Y.ownerDocument);Y.firstChild;)Kt.appendChild(Y.firstChild);else Kt=Y;return(ut.shadowroot||ut.shadowrootmod)&&(Kt=R.call(n,Kt,!0)),Kt}var Lt=D?Y.outerHTML:Y.innerHTML;return D&&Ne["!doctype"]&&Y.ownerDocument&&Y.ownerDocument.doctype&&Y.ownerDocument.doctype.name&&jt(kw,Y.ownerDocument.doctype.name)&&(Lt="<!DOCTYPE "+Y.ownerDocument.doctype.name+`>
`+Lt),_&&(Lt=Wn(Lt,be," "),Lt=Wn(Lt,T," "),Lt=Wn(Lt,$," ")),E&&B?E.createHTML(Lt):Lt},e.setConfig=function(fe){dd(fe),j=!0},e.clearConfig=function(){pa=null,j=!1},e.isValidAttribute=function(fe,x,Y){pa||dd({});var se=Ct(fe),qe=Ct(x);return lb(se,qe,Y)},e.addHook=function(fe,x){typeof x=="function"&&(ee[fe]=ee[fe]||[],Va(ee[fe],x))},e.removeHook=function(fe){if(ee[fe])return jp(ee[fe])},e.removeHooks=function(fe){ee[fe]&&(ee[fe]=[])},e.removeAllHooks=function(){ee={}},e}var $w=Hp();function Fw(t,e){var i;const n=(i=t.hooks)!=null?i:{};let r;for(r in n){const s=n[r];s!==void 0&&e.addHook(r,s)}}function zp(){return $w()}function Vw(t={},e=zp){const n=e();Fw(t,n);const r=function(i,s){var c,h;const a=s.value;if(s.oldValue===a)return;const o=`${a}`,l=s.arg,u=t.namedConfigurations,f=(c=t.default)!=null?c:{};if(u&&l!==void 0){i.innerHTML=n.sanitize(o,(h=u[l])!=null?h:f);return}i.innerHTML=n.sanitize(o,f)};return{mounted:r,updated:r}}const Yp={install(t,e={},n=zp){t.directive("dompurify-html",Vw(e,n))}};var Ef=!1;function Rl(t,e,n){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,n),n):(t[e]=n,n)}function Sf(t,e){if(Array.isArray(t)){t.splice(e,1);return}delete t[e]}function jw(){return Xp().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Xp(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Gw=typeof Proxy=="function",Uw="devtools-plugin:setup",Bw="plugin:settings:set";let ks,wf;function Ww(){var t;return ks!==void 0||(typeof window<"u"&&window.performance?(ks=!0,wf=window.performance):typeof globalThis<"u"&&((t=globalThis.perf_hooks)===null||t===void 0?void 0:t.performance)?(ks=!0,wf=globalThis.perf_hooks.performance):ks=!1),ks}function qw(){return Ww()?wf.now():Date.now()}class Hw{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const o=e.settings[a];r[a]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return qw()}},n&&n.on(Bw,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:o,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Kp(t,e){const n=t,r=Xp(),i=jw(),s=Gw&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(Uw,t,e);else{const a=s?new Hw(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ja;const Ga=t=>ja=t,Zp=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function is(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ur;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ur||(ur={}));const $l=typeof window<"u",Ua=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&$l,Jp=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function zw(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function xf(t,e,n){const r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){tg(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function Qp(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Fl(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const Vl=typeof navigator=="object"?navigator:{userAgent:""},eg=(()=>/Macintosh/.test(Vl.userAgent)&&/AppleWebKit/.test(Vl.userAgent)&&!/Safari/.test(Vl.userAgent))(),tg=$l?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!eg?Yw:"msSaveOrOpenBlob"in Vl?Xw:Kw:()=>{};function Yw(t,e="download",n){const r=document.createElement("a");r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?Qp(r.href)?xf(t,e,n):(r.target="_blank",Fl(r)):Fl(r)):(r.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Fl(r)},0))}function Xw(t,e="download",n){if(typeof t=="string")if(Qp(t))xf(t,e,n);else{const r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Fl(r)})}else navigator.msSaveOrOpenBlob(zw(t,n),e)}function Kw(t,e,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return xf(t,e,n);const i=t.type==="application/octet-stream",s=/constructor/i.test(String(Jp.HTMLElement))||"safari"in Jp,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s||eg)&&typeof FileReader<"u"){const o=new FileReader;o.onloadend=function(){let l=o.result;if(typeof l!="string")throw r=null,new Error("Wrong reader.result type");l=a?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=l:location.assign(l),r=null},o.readAsDataURL(t)}else{const o=URL.createObjectURL(t);r?r.location.assign(o):location.href=o,r=null,setTimeout(function(){URL.revokeObjectURL(o)},4e4)}}function Nt(t,e){const n="\u{1F34D} "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,e):e==="error"?console.error(n):e==="warn"?console.warn(n):console.log(n)}function Of(t){return"_a"in t&&"install"in t}function ng(){if(!("clipboard"in navigator))return Nt("Your browser doesn't support the Clipboard API","error"),!0}function rg(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(Nt('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function Zw(t){if(!ng())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),Nt("Global state copied to clipboard.")}catch(e){if(rg(e))return;Nt("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function Jw(t){if(!ng())try{ig(t,JSON.parse(await navigator.clipboard.readText())),Nt("Global state pasted from clipboard.")}catch(e){if(rg(e))return;Nt("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function Qw(t){try{tg(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){Nt("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let Fr;function ex(){Fr||(Fr=document.createElement("input"),Fr.type="file",Fr.accept=".json");function t(){return new Promise((e,n)=>{Fr.onchange=async()=>{const r=Fr.files;if(!r)return e(null);const i=r.item(0);return e(i?{text:await i.text(),file:i}:null)},Fr.oncancel=()=>e(null),Fr.onerror=n,Fr.click()})}return t}async function tx(t){try{const n=await ex()();if(!n)return;const{text:r,file:i}=n;ig(t,JSON.parse(r)),Nt(`Global state imported from "${i.name}".`)}catch(e){Nt("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function ig(t,e){for(const n in e){const r=t.state.value[n];r?Object.assign(r,e[n]):t.state.value[n]=e[n]}}function qn(t){return{_custom:{display:t}}}const sg="\u{1F34D} Pinia (root)",Mf="_root";function nx(t){return Of(t)?{id:Mf,label:sg}:{id:t.$id,label:t.$id}}function rx(t){if(Of(t)){const n=Array.from(t._s.keys()),r=t._s;return{state:n.map(s=>({editable:!0,key:s,value:t.state.value[s]})),getters:n.filter(s=>r.get(s)._getters).map(s=>{const a=r.get(s);return{editable:!1,key:s,value:a._getters.reduce((o,l)=>(o[l]=a[l],o),{})}})}}const e={state:Object.keys(t.$state).map(n=>({editable:!0,key:n,value:t.$state[n]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(n=>({editable:!1,key:n,value:t[n]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(n=>({editable:!0,key:n,value:t[n]}))),e}function ix(t){return t?Array.isArray(t)?t.reduce((e,n)=>(e.keys.push(n.key),e.operations.push(n.type),e.oldValue[n.key]=n.oldValue,e.newValue[n.key]=n.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:qn(t.type),key:qn(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function sx(t){switch(t){case ur.direct:return"mutation";case ur.patchFunction:return"$patch";case ur.patchObject:return"$patch";default:return"unknown"}}let Ds=!0;const jl=[],ss="pinia:mutations",Gt="pinia",{assign:ax}=Object,Gl=t=>"\u{1F34D} "+t;function ox(t,e){Kp({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:jl,app:t},n=>{typeof n.now!="function"&&Nt("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:ss,label:"Pinia \u{1F34D}",color:15064968}),n.addInspector({id:Gt,label:"Pinia \u{1F34D}",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{Zw(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await Jw(e),n.sendInspectorTree(Gt),n.sendInspectorState(Gt)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{Qw(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await tx(e),n.sendInspectorTree(Gt),n.sendInspectorState(Gt)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:r=>{const i=e._s.get(r);i?typeof i.$reset!="function"?Nt(`Cannot reset "${r}" store because it doesn't have a "$reset" method implemented.`,"warn"):(i.$reset(),Nt(`Store "${r}" reset.`)):Nt(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((r,i)=>{const s=r.componentInstance&&r.componentInstance.proxy;if(s&&s._pStores){const a=r.componentInstance.proxy._pStores;Object.values(a).forEach(o=>{r.instanceData.state.push({type:Gl(o.$id),key:"state",editable:!0,value:o._isOptionsAPI?{_custom:{value:_e(o.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>o.$reset()}]}}:Object.keys(o.$state).reduce((l,u)=>(l[u]=o.$state[u],l),{})}),o._getters&&o._getters.length&&r.instanceData.state.push({type:Gl(o.$id),key:"getters",editable:!1,value:o._getters.reduce((l,u)=>{try{l[u]=o[u]}catch(f){l[u]=f}return l},{})})})}}),n.on.getInspectorTree(r=>{if(r.app===t&&r.inspectorId===Gt){let i=[e];i=i.concat(Array.from(e._s.values())),r.rootNodes=(r.filter?i.filter(s=>"$id"in s?s.$id.toLowerCase().includes(r.filter.toLowerCase()):sg.toLowerCase().includes(r.filter.toLowerCase())):i).map(nx)}}),n.on.getInspectorState(r=>{if(r.app===t&&r.inspectorId===Gt){const i=r.nodeId===Mf?e:e._s.get(r.nodeId);if(!i)return;i&&(r.state=rx(i))}}),n.on.editInspectorState((r,i)=>{if(r.app===t&&r.inspectorId===Gt){const s=r.nodeId===Mf?e:e._s.get(r.nodeId);if(!s)return Nt(`store "${r.nodeId}" not found`,"error");const{path:a}=r;Of(s)?a.unshift("state"):(a.length!==1||!s._customProperties.has(a[0])||a[0]in s.$state)&&a.unshift("$state"),Ds=!1,r.set(s,a,r.state.value),Ds=!0}}),n.on.editComponentState(r=>{if(r.type.startsWith("\u{1F34D}")){const i=r.type.replace(/^🍍\s*/,""),s=e._s.get(i);if(!s)return Nt(`store "${i}" not found`,"error");const{path:a}=r;if(a[0]!=="state")return Nt(`Invalid path for store "${i}":
${a}
Only state can be modified.`);a[0]="$state",Ds=!1,r.set(s,a,r.state.value),Ds=!0}})})}function lx(t,e){jl.includes(Gl(e.$id))||jl.push(Gl(e.$id)),Kp({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:jl,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const r=typeof n.now=="function"?n.now.bind(n):Date.now;e.$onAction(({after:a,onError:o,name:l,args:u})=>{const f=ag++;n.addTimelineEvent({layerId:ss,event:{time:r(),title:"\u{1F6EB} "+l,subtitle:"start",data:{store:qn(e.$id),action:qn(l),args:u},groupId:f}}),a(c=>{vi=void 0,n.addTimelineEvent({layerId:ss,event:{time:r(),title:"\u{1F6EC} "+l,subtitle:"end",data:{store:qn(e.$id),action:qn(l),args:u,result:c},groupId:f}})}),o(c=>{vi=void 0,n.addTimelineEvent({layerId:ss,event:{time:r(),logType:"error",title:"\u{1F4A5} "+l,subtitle:"end",data:{store:qn(e.$id),action:qn(l),args:u,error:c},groupId:f}})})},!0),e._customProperties.forEach(a=>{tt(()=>w(e[a]),(o,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(Gt),Ds&&n.addTimelineEvent({layerId:ss,event:{time:r(),title:"Change",subtitle:a,data:{newValue:o,oldValue:l},groupId:vi}})},{deep:!0})}),e.$subscribe(({events:a,type:o},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(Gt),!Ds)return;const u={time:r(),title:sx(o),data:ax({store:qn(e.$id)},ix(a)),groupId:vi};o===ur.patchFunction?u.subtitle="\u2935\uFE0F":o===ur.patchObject?u.subtitle="\u{1F9E9}":a&&!Array.isArray(a)&&(u.subtitle=a.type),a&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:a}}),n.addTimelineEvent({layerId:ss,event:u})},{detached:!0,flush:"sync"});const i=e._hotUpdate;e._hotUpdate=si(a=>{i(a),n.addTimelineEvent({layerId:ss,event:{time:r(),title:"\u{1F525} "+e.$id,subtitle:"HMR update",data:{store:qn(e.$id),info:qn("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(Gt),n.sendInspectorState(Gt)});const{$dispose:s}=e;e.$dispose=()=>{s(),n.notifyComponentUpdate(),n.sendInspectorTree(Gt),n.sendInspectorState(Gt),n.getSettings().logStoreChanges&&Nt(`Disposed "${e.$id}" store \u{1F5D1}`)},n.notifyComponentUpdate(),n.sendInspectorTree(Gt),n.sendInspectorState(Gt),n.getSettings().logStoreChanges&&Nt(`"${e.$id}" store installed \u{1F195}`)})}let ag=0,vi;function og(t,e,n){const r=e.reduce((i,s)=>(i[s]=_e(t)[s],i),{});for(const i in r)t[i]=function(){const s=ag,a=n?new Proxy(t,{get(...l){return vi=s,Reflect.get(...l)},set(...l){return vi=s,Reflect.set(...l)}}):t;vi=s;const o=r[i].apply(a,arguments);return vi=void 0,o}}function ux({app:t,store:e,options:n}){if(e.$id.startsWith("__hot:"))return;e._isOptionsAPI=!!n.state,og(e,Object.keys(n.actions),e._isOptionsAPI);const r=e._hotUpdate;_e(e)._hotUpdate=function(i){r.apply(this,arguments),og(e,Object.keys(i._hmrPayload.actions),!!e._isOptionsAPI)},lx(t,e)}function lg(){const t=Pd(!0),e=t.run(()=>Ee({}));let n=[],r=[];const i=si({install(s){Ga(i),i._a=s,s.provide(Zp,i),s.config.globalProperties.$pinia=i,Ua&&ox(s,i),r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!Ef?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return Ua&&typeof Proxy<"u"&&i.use(ux),i}function ug(t,e){for(const n in e){const r=e[n];if(!(n in t))continue;const i=t[n];is(i)&&is(r)&&!Ye(r)&&!rr(r)?t[n]=ug(i,r):t[n]=r}return t}const cg=()=>{};function fg(t,e,n,r=cg){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Ad()&&h1(i),i}function Is(t,...e){t.slice().forEach(n=>{n(...e)})}const cx=t=>t();function Tf(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];is(i)&&is(r)&&t.hasOwnProperty(n)&&!Ye(r)&&!rr(r)?t[n]=Tf(i,r):t[n]=r}return t}const fx=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function hx(t){return!is(t)||!t.hasOwnProperty(fx)}const{assign:Nn}=Object;function hg(t){return!!(Ye(t)&&t.effect)}function dg(t,e,n,r){const{state:i,actions:s,getters:a}=e,o=n.state.value[t];let l;function u(){!o&&(process.env.NODE_ENV==="production"||!r)&&(n.state.value[t]=i?i():{});const f=process.env.NODE_ENV!=="production"&&r?Tc(Ee(i?i():{}).value):Tc(n.state.value[t]);return Nn(f,s,Object.keys(a||{}).reduce((c,h)=>(process.env.NODE_ENV!=="production"&&h in f&&console.warn(`[\u{1F34D}]: A getter cannot have the same name as another state property. Rename one of them. Found with "${h}" in store "${t}".`),c[h]=si(me(()=>{Ga(n);const d=n._s.get(t);return a[h].call(d,d)})),c),{}))}return l=Nf(t,u,e,n,r,!0),l}function Nf(t,e,n={},r,i,s){let a;const o=Nn({actions:{}},n);if(process.env.NODE_ENV!=="production"&&!r._e.active)throw new Error("Pinia destroyed");const l={deep:!0};process.env.NODE_ENV!=="production"&&!Ef&&(l.onTrigger=C=>{u?d=C:u==!1&&!M._hotUpdating&&(Array.isArray(d)?d.push(C):console.error("\u{1F34D} debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let u,f,c=[],h=[],d;const m=r.state.value[t];!s&&!m&&(process.env.NODE_ENV==="production"||!i)&&(r.state.value[t]={});const p=Ee({});let g;function y(C){let R;u=f=!1,process.env.NODE_ENV!=="production"&&(d=[]),typeof C=="function"?(C(r.state.value[t]),R={type:ur.patchFunction,storeId:t,events:d}):(Tf(r.state.value[t],C),R={type:ur.patchObject,payload:C,storeId:t,events:d});const I=g=Symbol();fl().then(()=>{g===I&&(u=!0)}),f=!0,Is(c,R,r.state.value[t])}const v=s?function(){const{state:R}=n,I=R?R():{};this.$patch(ee=>{Nn(ee,I)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`\u{1F34D}: Store "${t}" is built using the setup syntax and does not implement $reset().`)}:cg;function b(){a.stop(),c=[],h=[],r._s.delete(t)}function E(C,R){return function(){Ga(r);const I=Array.from(arguments),ee=[],be=[];function T(K){ee.push(K)}function $(K){be.push(K)}Is(h,{args:I,name:C,store:M,after:T,onError:$});let z;try{z=R.apply(this&&this.$id===t?this:M,I)}catch(K){throw Is(be,K),K}return z instanceof Promise?z.then(K=>(Is(ee,K),K)).catch(K=>(Is(be,K),Promise.reject(K))):(Is(ee,z),z)}}const O=si({actions:{},getters:{},state:[],hotState:p}),N={_p:r,$id:t,$onAction:fg.bind(null,h),$patch:y,$reset:v,$subscribe(C,R={}){const I=fg(c,C,R.detached,()=>ee()),ee=a.run(()=>tt(()=>r.state.value[t],be=>{(R.flush==="sync"?f:u)&&C({storeId:t,type:ur.direct,events:d},be)},Nn({},l,R)));return I},$dispose:b},M=il(process.env.NODE_ENV!=="production"||Ua?Nn({_hmrPayload:O,_customProperties:si(new Set)},N):N);r._s.set(t,M);const k=(r._a&&r._a.runWithContext||cx)(()=>r._e.run(()=>(a=Pd()).run(e)));for(const C in k){const R=k[C];if(Ye(R)&&!hg(R)||rr(R))process.env.NODE_ENV!=="production"&&i?Rl(p.value,C,ll(k,C)):s||(m&&hx(R)&&(Ye(R)?R.value=m[C]:Tf(R,m[C])),r.state.value[t][C]=R),process.env.NODE_ENV!=="production"&&O.state.push(C);else if(typeof R=="function"){const I=process.env.NODE_ENV!=="production"&&i?R:E(C,R);k[C]=I,process.env.NODE_ENV!=="production"&&(O.actions[C]=R),o.actions[C]=R}else process.env.NODE_ENV!=="production"&&hg(R)&&(O.getters[C]=s?n.getters[C]:R,$l&&(k._getters||(k._getters=si([]))).push(C))}if(Nn(M,k),Nn(_e(M),k),Object.defineProperty(M,"$state",{get:()=>process.env.NODE_ENV!=="production"&&i?p.value:r.state.value[t],set:C=>{if(process.env.NODE_ENV!=="production"&&i)throw new Error("cannot set hotState");y(R=>{Nn(R,C)})}}),process.env.NODE_ENV!=="production"&&(M._hotUpdate=si(C=>{M._hotUpdating=!0,C._hmrPayload.state.forEach(R=>{if(R in M.$state){const I=C.$state[R],ee=M.$state[R];typeof I=="object"&&is(I)&&is(ee)?ug(I,ee):C.$state[R]=ee}Rl(M,R,ll(C.$state,R))}),Object.keys(M.$state).forEach(R=>{R in C.$state||Sf(M,R)}),u=!1,f=!1,r.state.value[t]=ll(C._hmrPayload,"hotState"),f=!0,fl().then(()=>{u=!0});for(const R in C._hmrPayload.actions){const I=C[R];Rl(M,R,E(R,I))}for(const R in C._hmrPayload.getters){const I=C._hmrPayload.getters[R],ee=s?me(()=>(Ga(r),I.call(M,M))):I;Rl(M,R,ee)}Object.keys(M._hmrPayload.getters).forEach(R=>{R in C._hmrPayload.getters||Sf(M,R)}),Object.keys(M._hmrPayload.actions).forEach(R=>{R in C._hmrPayload.actions||Sf(M,R)}),M._hmrPayload=C._hmrPayload,M._getters=C._getters,M._hotUpdating=!1})),Ua){const C={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(R=>{Object.defineProperty(M,R,Nn({value:M[R]},C))})}return r._p.forEach(C=>{if(Ua){const R=a.run(()=>C({store:M,app:r._a,pinia:r,options:o}));Object.keys(R||{}).forEach(I=>M._customProperties.add(I)),Nn(M,R)}else Nn(M,a.run(()=>C({store:M,app:r._a,pinia:r,options:o})))}),process.env.NODE_ENV!=="production"&&M.$state&&typeof M.$state=="object"&&typeof M.$state.constructor=="function"&&!M.$state.constructor.toString().includes("[native code]")&&console.warn(`[\u{1F34D}]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${M.$id}".`),m&&s&&n.hydrate&&n.hydrate(M.$state,m),u=!0,f=!0,M}function as(t,e,n){let r,i;const s=typeof e=="function";if(typeof t=="string")r=t,i=s?n:e;else if(i=t,r=t.id,process.env.NODE_ENV!=="production"&&typeof r!="string")throw new Error('[\u{1F34D}]: "defineStore()" must be passed a store id as its first argument.');function a(o,l){const u=WE();if(o=(process.env.NODE_ENV==="test"&&ja&&ja._testing?null:o)||(u?Ls(Zp,null):null),o&&Ga(o),process.env.NODE_ENV!=="production"&&!ja)throw new Error(`[\u{1F34D}]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);o=ja,o._s.has(r)||(s?Nf(r,e,i,o):dg(r,i,o),process.env.NODE_ENV!=="production"&&(a._pinia=o));const f=o._s.get(r);if(process.env.NODE_ENV!=="production"&&l){const c="__hot:"+r,h=s?Nf(c,e,i,o,!0):dg(c,Nn({},i),o,!0);l._hotUpdate(h),delete o.state.value[c],o._s.delete(c)}if(process.env.NODE_ENV!=="production"&&$l){const c=Ia();if(c&&c.proxy&&!l){const h=c.proxy,d="_pStores"in h?h._pStores:h._pStores={};d[r]=f}}return f}return a.$id=r,a}function Ue(t){if(Ef)return Tc(t);{t=_e(t);const e={};for(const n in t){const r=t[n];(Ye(r)||rr(r))&&(e[n]=ll(t,n))}return e}}function dx(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var os=1,ls=2,Rs=3,mx=4,Cf=5,mg=6378137,px=6356752314e-3,pg=.0066943799901413165,Ba=484813681109536e-20,H=Math.PI/2,gx=.16666666666666666,yx=.04722222222222222,vx=.022156084656084655,ne=1e-10,kt=.017453292519943295,cr=57.29577951308232,He=Math.PI/4,Wa=Math.PI*2,gt=3.14159265359,on={};on.greenwich=0,on.lisbon=-9.131906111111,on.paris=2.337229166667,on.bogota=-74.080916666667,on.madrid=-3.687938888889,on.rome=12.452333333333,on.bern=7.439583333333,on.jakarta=106.807719444444,on.ferro=-17.666666666667,on.brussels=4.367975,on.stockholm=18.058277777778,on.athens=23.7163375,on.oslo=10.722916666667;const _x={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var gg=/[\s_\-\/\(\)]/g;function _i(t,e){if(t[e])return t[e];for(var n=Object.keys(t),r=e.toLowerCase().replace(gg,""),i=-1,s,a;++i<n.length;)if(s=n[i],a=s.toLowerCase().replace(gg,""),a===r)return t[s]}function Lf(t){var e={},n=t.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var u=l.split("=");return u.push(!0),o[u[0].toLowerCase()]=u[1],o},{}),r,i,s,a={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*kt},lat_1:function(o){e.lat1=o*kt},lat_2:function(o){e.lat2=o*kt},lat_ts:function(o){e.lat_ts=o*kt},lon_0:function(o){e.long0=o*kt},lon_1:function(o){e.long1=o*kt},lon_2:function(o){e.long2=o*kt},alpha:function(o){e.alpha=parseFloat(o)*kt},gamma:function(o){e.rectified_grid_angle=parseFloat(o)},lonc:function(o){e.longc=o*kt},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r:function(o){e.a=e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var l=_i(_x,o);l&&(e.to_meter=l.to_meter)},from_greenwich:function(o){e.from_greenwich=o*kt},pm:function(o){var l=_i(on,o);e.from_greenwich=(l||parseFloat(o))*kt},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0}};for(r in n)i=n[r],r in a?(s=a[r],typeof s=="function"?s(i):e[s]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var qa=1,yg=2,vg=3,Ul=4,_g=5,Pf=-1,bx=/\s/,Ex=/[A-Za-z]/,Sx=/[A-Za-z84_]/,Bl=/[,\]]/,bg=/[\d\.E\-\+]/;function Vr(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=qa}Vr.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==Ul)for(;bx.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case qa:return this.neutral(t);case yg:return this.keyword(t);case Ul:return this.quoted(t);case _g:return this.afterquote(t);case vg:return this.number(t);case Pf:return}},Vr.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=Ul;return}if(Bl.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)},Vr.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=qa;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=qa,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Pf);return}},Vr.prototype.number=function(t){if(bg.test(t)){this.word+=t;return}if(Bl.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)},Vr.prototype.quoted=function(t){if(t==='"'){this.state=_g;return}this.word+=t},Vr.prototype.keyword=function(t){if(Sx.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=qa;return}if(Bl.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)},Vr.prototype.neutral=function(t){if(Ex.test(t)){this.word=t,this.state=yg;return}if(t==='"'){this.word="",this.state=Ul;return}if(bg.test(t)){this.word=t,this.state=vg;return}if(Bl.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)},Vr.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Pf)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function wx(t){var e=new Vr(t);return e.output()}function Eg(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(s,a){return $s(a,s),s},r);e&&(t[e]=i)}function $s(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},$s(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&$s(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&$s(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],Eg(e,n,t);return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return $s(t,e[n]);return Eg(e,n,t)}}var xx=.017453292519943295;function Ox(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],e.length===3&&(t[n]=e[2](t[n])))}function fr(t){return t*xx}function Mx(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function a(u){var f=t.to_meter||1;return u*f}var o=function(u){return Ox(t,u)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",fr],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",fr],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",fr],["lat0","latitude_of_origin",fr],["lat0","standard_parallel_1",fr],["lat1","standard_parallel_1",fr],["lat2","standard_parallel_2",fr],["azimuth","Azimuth"],["alpha","azimuth",fr],["srsCode","name"]];l.forEach(o),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=fr(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=fr(t.lat0>0?90:-90))}function Sg(t){var e=wx(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return $s(e,i),Mx(i),i}function Qt(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Qt[t]=Lf(arguments[1]):Qt[t]=Sg(arguments[1]):Qt[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){Array.isArray(r)?Qt.apply(e,r):Qt(r)});if(typeof t=="string"){if(t in Qt)return Qt[t]}else"EPSG"in t?Qt["EPSG:"+t.EPSG]=t:"ESRI"in t?Qt["ESRI:"+t.ESRI]=t:"IAU2000"in t?Qt["IAU2000:"+t.IAU2000]=t:console.log(t);return}}dx(Qt);function Tx(t){return typeof t=="string"}function Nx(t){return t in Qt}var Cx=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Lx(t){return Cx.some(function(e){return t.indexOf(e)>-1})}var Px=["3857","900913","3785","102113"];function Ax(t){var e=_i(t,"authority");if(!!e){var n=_i(e,"epsg");return n&&Px.indexOf(n)>-1}}function kx(t){var e=_i(t,"extension");if(!!e)return _i(e,"proj4")}function Dx(t){return t[0]==="+"}function Ix(t){if(Tx(t)){if(Nx(t))return Qt[t];if(Lx(t)){var e=Sg(t);if(Ax(e))return Qt["EPSG:3857"];var n=kx(e);return n?Lf(n):e}if(Dx(t))return Lf(t)}else return t}function wg(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)n=e[r],n!==void 0&&(t[r]=n);return t}function hr(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function Ha(t){return t<0?-1:1}function ae(t){return Math.abs(t)<=gt?t:t-Ha(t)*Wa}function Hn(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(H-e))/r}function za(t,e){for(var n=.5*t,r,i,s=H-2*Math.atan(e),a=0;a<=15;a++)if(r=t*Math.sin(s),i=H-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function Rx(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=hr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function $x(t){var e=t.x,n=t.y;if(n*cr>90&&n*cr<-90&&e*cr>180&&e*cr<-180)return null;var r,i;if(Math.abs(Math.abs(n)-H)<=ne)return null;if(this.sphere)r=this.x0+this.a*this.k0*ae(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(He+.5*n));else{var s=Math.sin(n),a=Hn(this.e,n,s);r=this.x0+this.a*this.k0*ae(e-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return t.x=r,t.y=i,t}function Fx(t){var e=t.x-this.x0,n=t.y-this.y0,r,i;if(this.sphere)i=H-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(i=za(this.e,s),i===-9999)return null}return r=ae(this.long0+e/(this.a*this.k0)),t.x=r,t.y=i,t}var Vx=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const jx={init:Rx,forward:$x,inverse:Fx,names:Vx};function Gx(){}function xg(t){return t}var Ux=["longlat","identity"],Bx=[jx,{init:Gx,forward:xg,inverse:xg,names:Ux}],Wl={},ql=[];function Og(t,e){var n=ql.length;return t.names?(ql[n]=t,t.names.forEach(function(r){Wl[r.toLowerCase()]=n}),this):(console.log(e),!0)}function Wx(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Wl[e]<"u"&&ql[Wl[e]])return ql[Wl[e]]}function qx(){Bx.forEach(Og)}const Hx={start:qx,add:Og,get:Wx};var Se={};Se.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},Se.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},Se.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},Se.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},Se.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},Se.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},Se.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},Se.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},Se.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},Se.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},Se.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},Se.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},Se.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},Se.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},Se.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},Se.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},Se.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},Se.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},Se.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},Se.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},Se.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},Se.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},Se.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},Se.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},Se.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},Se.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},Se.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},Se.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},Se.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},Se.hough={a:6378270,rf:297,ellipseName:"Hough"},Se.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},Se.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},Se.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},Se.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},Se.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},Se.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},Se.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},Se.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},Se.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},Se.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},Se.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},Se.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var zx=Se.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Se.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function Yx(t,e,n,r){var i=t*t,s=e*e,a=(i-s)/i,o=0;r?(t*=1-a*(gx+a*(yx+a*vx)),i=t*t,a=0):o=Math.sqrt(a);var l=(i-s)/s;return{es:a,e:o,ep2:l}}function Xx(t,e,n,r,i){if(!t){var s=_i(Se,r);s||(s=zx),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<ne)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}var Mt={};Mt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Mt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Mt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Mt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Mt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Mt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Mt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Mt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Mt.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},Mt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Mt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Mt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Mt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Mt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Mt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Mt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Mt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Mt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function Kx(t,e,n,r,i,s,a){var o={};return t===void 0||t==="none"?o.datum_type=Cf:o.datum_type=mx,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=os),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=ls,o.datum_params[3]*=Ba,o.datum_params[4]*=Ba,o.datum_params[5]*=Ba,o.datum_params[6]=o.datum_params[6]/1e6+1)),a&&(o.datum_type=Rs,o.grids=a),o.a=n,o.b=r,o.es=i,o.ep2=s,o}var Mg={};function Zx(t,e){var n=new DataView(e),r=eO(n),i=tO(n,r),s=nO(n,i,r),a={header:i,subgrids:s};return Mg[t]=a,a}function Jx(t){if(t===void 0)return null;var e=t.split(",");return e.map(Qx)}function Qx(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Mg[t]||null,isNull:!1}}function Fs(t){return t/3600*Math.PI/180}function eO(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function tO(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Af(t,56,56+8).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function Af(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function nO(t,e,n){for(var r=176,i=[],s=0;s<e.nSubgrids;s++){var a=iO(t,r,n),o=sO(t,r,a,n),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);i.push({ll:[Fs(a.lowerLongitude),Fs(a.lowerLatitude)],del:[Fs(a.longitudeInterval),Fs(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:rO(o)}),r+=176+a.gridNodeCount*16}return i}function rO(t){return t.map(function(e){return[Fs(e.longitudeShift),Fs(e.latitudeShift)]})}function iO(t,e,n){return{name:Af(t,e+8,e+16).trim(),parent:Af(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function sO(t,e,n,r){for(var i=e+176,s=16,a=[],o=0;o<n.gridNodeCount;o++){var l={latitudeShift:t.getFloat32(i+o*s,r),longitudeShift:t.getFloat32(i+o*s+4,r),latitudeAccuracy:t.getFloat32(i+o*s+8,r),longitudeAccuracy:t.getFloat32(i+o*s+12,r)};a.push(l)}return a}function dr(t,e){if(!(this instanceof dr))return new dr(t);e=e||function(u){if(u)throw u};var n=Ix(t);if(typeof n!="object"){e(t);return}var r=dr.projections.get(n.projName);if(!r){e(t);return}if(n.datumCode&&n.datumCode!=="none"){var i=_i(Mt,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=Xx(n.a,n.b,n.rf,n.ellps,n.sphere),a=Yx(s.a,s.b,s.rf,n.R_A),o=Jx(n.nadgrids),l=n.datum||Kx(n.datumCode,n.datum_params,s.a,s.b,a.es,a.ep2,o);wg(this,n),wg(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),e(null,this)}dr.projections=Hx,dr.projections.start();function aO(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===os?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===ls?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function Tg(t,e,n){var r=t.x,i=t.y,s=t.z?t.z:0,a,o,l,u;if(i<-H&&i>-1.001*H)i=-H;else if(i>H&&i<1.001*H)i=H;else{if(i<-H)return{x:-1/0,y:-1/0,z:t.z};if(i>H)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),o=Math.sin(i),u=Math.cos(i),l=o*o,a=n/Math.sqrt(1-e*l),{x:(a+s)*u*Math.cos(r),y:(a+s)*u*Math.sin(r),z:(a*(1-e)+s)*o}}function Ng(t,e,n,r){var i=1e-12,s=i*i,a=30,o,l,u,f,c,h,d,m,p,g,y,v,b,E=t.x,O=t.y,N=t.z?t.z:0,M,A,k;if(o=Math.sqrt(E*E+O*O),l=Math.sqrt(E*E+O*O+N*N),o/n<i){if(M=0,l/n<i)return A=H,k=-r,{x:t.x,y:t.y,z:t.z}}else M=Math.atan2(O,E);u=N/l,f=o/l,c=1/Math.sqrt(1-e*(2-e)*f*f),m=f*(1-e)*c,p=u*c,b=0;do b++,d=n/Math.sqrt(1-e*p*p),k=o*m+N*p-d*(1-e*p*p),h=e*d/(d+k),c=1/Math.sqrt(1-h*(2-h)*f*f),g=f*(1-h)*c,y=u*c,v=y*m-g*p,m=g,p=y;while(v*v>s&&b<a);return A=Math.atan(y/Math.abs(g)),{x:M,y:A,z:k}}function oO(t,e,n){if(e===os)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===ls){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+o*t.z)+r,y:u*(l*t.x+t.y-a*t.z)+i,z:u*(-o*t.x+a*t.y+t.z)+s}}}function lO(t,e,n){if(e===os)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===ls){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6],f=(t.x-r)/u,c=(t.y-i)/u,h=(t.z-s)/u;return{x:f+l*c-o*h,y:-l*f+c+a*h,z:o*f-a*c+h}}}function Hl(t){return t===os||t===ls}function uO(t,e,n){if(aO(t,e)||t.datum_type===Cf||e.datum_type===Cf)return n;var r=t.a,i=t.es;if(t.datum_type===Rs){var s=Cg(t,!1,n);if(s!==0)return;r=mg,i=pg}var a=e.a,o=e.b,l=e.es;if(e.datum_type===Rs&&(a=mg,o=px,l=pg),i===l&&r===a&&!Hl(t.datum_type)&&!Hl(e.datum_type))return n;if(n=Tg(n,i,r),Hl(t.datum_type)&&(n=oO(n,t.datum_type,t.datum_params)),Hl(e.datum_type)&&(n=lO(n,e.datum_type,e.datum_params)),n=Ng(n,l,a,o),e.datum_type===Rs){var u=Cg(e,!0,n);if(u!==0)return}return n}function Cg(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},s=[];e:for(var a=0;a<t.grids.length;a++){var o=t.grids[a];if(s.push(o.name),o.isNull){i=r;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var l=o.grid.subgrids,u=0,f=l.length;u<f;u++){var c=l[u],h=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,d=c.ll[0]-h,m=c.ll[1]-h,p=c.ll[0]+(c.lim[0]-1)*c.del[0]+h,g=c.ll[1]+(c.lim[1]-1)*c.del[1]+h;if(!(m>r.y||d>r.x||g<r.y||p<r.x)&&(i=cO(r,e,c),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*cr+" "+r.y*cr+" tried: '"+s+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function cO(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=ae(i.x-Math.PI)+Math.PI;var s=Lg(i,n);if(e){if(isNaN(s.x))return r;s.x=i.x-s.x,s.y=i.y-s.y;var a=9,o=1e-12,l,u;do{if(u=Lg(s,n),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(u.x+s.x),y:i.y-(u.y+s.y)},s.x+=l.x,s.y+=l.y}while(a--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=ae(s.x+n.ll[0]),r.y=s.y+n.ll[1]}else isNaN(s.x)||(r.x=t.x+s.x,r.y=t.y+s.y);return r}function Lg(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},s={x:Number.NaN,y:Number.NaN},a;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return s;a=r.y*e.lim[0]+r.x;var o={x:e.cvs[a][0],y:e.cvs[a][1]};a++;var l={x:e.cvs[a][0],y:e.cvs[a][1]};a+=e.lim[0];var u={x:e.cvs[a][0],y:e.cvs[a][1]};a--;var f={x:e.cvs[a][0],y:e.cvs[a][1]},c=i.x*i.y,h=i.x*(1-i.y),d=(1-i.x)*(1-i.y),m=(1-i.x)*i.y;return s.x=d*o.x+h*l.x+m*f.x+c*u.x,s.y=d*o.y+h*l.y+m*f.y+c*u.y,s}function Pg(t,e,n){var r=n.x,i=n.y,s=n.z||0,a,o,l,u={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(a=r,"ew".indexOf(t.axis[l])!==-1?o="x":o="y"):l===1?(a=i,"ns".indexOf(t.axis[l])!==-1?o="y":o="x"):(a=s,o="z"),t.axis[l]){case"e":u[o]=a;break;case"w":u[o]=-a;break;case"n":u[o]=a;break;case"s":u[o]=-a;break;case"u":n[o]!==void 0&&(u.z=a);break;case"d":n[o]!==void 0&&(u.z=-a);break;default:return null}return u}function Ag(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function fO(t){kg(t.x),kg(t.y)}function kg(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function hO(t,e){return(t.datum.datum_type===os||t.datum.datum_type===ls||t.datum.datum_type===Rs)&&e.datumCode!=="WGS84"||(e.datum.datum_type===os||e.datum.datum_type===ls||e.datum.datum_type===Rs)&&t.datumCode!=="WGS84"}function zl(t,e,n,r){var i;Array.isArray(n)?n=Ag(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(fO(n),t.datum&&e.datum&&hO(t,e)&&(i=new dr("WGS84"),n=zl(t,i,n,r),t=i),r&&t.axis!=="enu"&&(n=Pg(t,!1,n)),t.projName==="longlat")n={x:n.x*kt,y:n.y*kt,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=uO(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*cr,y:n.y*cr,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&e.axis!=="enu"?Pg(e,!0,n):(n&&!s&&delete n.z,n)}var Dg=dr("WGS84");function kf(t,e,n,r){var i,s,a;return Array.isArray(n)?(i=zl(t,e,n,r)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(s=zl(t,e,n,r),a=Object.keys(n),a.length===2||a.forEach(function(o){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;s[o]=n[o]}),s)}function Ig(t){return t instanceof dr?t:t.oProj?t.oProj:dr(t)}function Ut(t,e,n){t=Ig(t);var r=!1,i;return typeof e>"u"?(e=t,t=Dg,r=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=Dg,r=!0),e=Ig(e),n?kf(t,e,n):(i={forward:function(s,a){return kf(t,e,s,a)},inverse:function(s,a){return kf(e,t,s,a)}},r&&(i.oProj=e),i)}var Rg=6,$g="AJSAJS",Fg="AFAFAF",Vs=65,ln=73,Cn=79,Ya=86,Xa=90;const dO={forward:Vg,inverse:mO,toPoint:jg};function Vg(t,e){return e=e||5,yO(pO({lat:t[1],lon:t[0]}),e)}function mO(t){var e=If(Bg(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function jg(t){var e=If(Bg(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Df(t){return t*(Math.PI/180)}function Gg(t){return 180*(t/Math.PI)}function pO(t){var e=t.lat,n=t.lon,r=6378137,i=.00669438,s=.9996,a,o,l,u,f,c,h,d=Df(e),m=Df(n),p,g;g=Math.floor((n+180)/6)+1,n===180&&(g=60),e>=56&&e<64&&n>=3&&n<12&&(g=32),e>=72&&e<84&&(n>=0&&n<9?g=31:n>=9&&n<21?g=33:n>=21&&n<33?g=35:n>=33&&n<42&&(g=37)),a=(g-1)*6-180+3,p=Df(a),o=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(d)*Math.sin(d)),u=Math.tan(d)*Math.tan(d),f=o*Math.cos(d)*Math.cos(d),c=Math.cos(d)*(m-p),h=r*((1-i/4-3*i*i/64-5*i*i*i/256)*d-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*d)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*d)-35*i*i*i/3072*Math.sin(6*d));var y=s*l*(c+(1-u+f)*c*c*c/6+(5-18*u+u*u+72*f-58*o)*c*c*c*c*c/120)+5e5,v=s*(h+l*Math.tan(d)*(c*c/2+(5-u+9*f+4*f*f)*c*c*c*c/24+(61-58*u+u*u+600*f-330*o)*c*c*c*c*c*c/720));return e<0&&(v+=1e7),{northing:Math.round(v),easting:Math.round(y),zoneNumber:g,zoneLetter:gO(e)}}function If(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var s=.9996,a=6378137,o=.00669438,l,u=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),f,c,h,d,m,p,g,y,v,b=n-5e5,E=e;r<"N"&&(E-=1e7),g=(i-1)*6-180+3,l=o/(1-o),p=E/s,y=p/(a*(1-o/4-3*o*o/64-5*o*o*o/256)),v=y+(3*u/2-27*u*u*u/32)*Math.sin(2*y)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*y)+151*u*u*u/96*Math.sin(6*y),f=a/Math.sqrt(1-o*Math.sin(v)*Math.sin(v)),c=Math.tan(v)*Math.tan(v),h=l*Math.cos(v)*Math.cos(v),d=a*(1-o)/Math.pow(1-o*Math.sin(v)*Math.sin(v),1.5),m=b/(f*s);var O=v-f*Math.tan(v)/d*(m*m/2-(5+3*c+10*h-4*h*h-9*l)*m*m*m*m/24+(61+90*c+298*h+45*c*c-252*l-3*h*h)*m*m*m*m*m*m/720);O=Gg(O);var N=(m-(1+2*c+h)*m*m*m/6+(5-2*h+28*c-3*h*h+8*l+24*c*c)*m*m*m*m*m/120)/Math.cos(v);N=g+Gg(N);var M;if(t.accuracy){var A=If({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});M={top:A.lat,right:A.lon,bottom:O,left:N}}else M={lat:O,lon:N};return M}function gO(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function yO(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+vO(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function vO(t,e,n){var r=Ug(n),i=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return _O(i,s,r)}function Ug(t){var e=t%Rg;return e===0&&(e=Rg),e}function _O(t,e,n){var r=n-1,i=$g.charCodeAt(r),s=Fg.charCodeAt(r),a=i+t-1,o=s+e,l=!1;a>Xa&&(a=a-Xa+Vs-1,l=!0),(a===ln||i<ln&&a>ln||(a>ln||i<ln)&&l)&&a++,(a===Cn||i<Cn&&a>Cn||(a>Cn||i<Cn)&&l)&&(a++,a===ln&&a++),a>Xa&&(a=a-Xa+Vs-1),o>Ya?(o=o-Ya+Vs-1,l=!0):l=!1,(o===ln||s<ln&&o>ln||(o>ln||s<ln)&&l)&&o++,(o===Cn||s<Cn&&o>Cn||(o>Cn||s<Cn)&&l)&&(o++,o===ln&&o++),o>Ya&&(o=o-Ya+Vs-1);var u=String.fromCharCode(a)+String.fromCharCode(o);return u}function Bg(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,r="",i,s=0;!/[A-Z]/.test(i=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=i,s++}var a=parseInt(r,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(s++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+t;n=t.substring(s,s+=2);for(var l=Ug(a),u=bO(n.charAt(0),l),f=EO(n.charAt(1),l);f<SO(o);)f+=2e6;var c=e-s;if(c%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var h=c/2,d=0,m=0,p,g,y,v,b;return h>0&&(p=1e5/Math.pow(10,h),g=t.substring(s,s+h),d=parseFloat(g)*p,y=t.substring(s+h),m=parseFloat(y)*p),v=d+u,b=m+f,{easting:v,northing:b,zoneLetter:o,zoneNumber:a,accuracy:p}}function bO(t,e){for(var n=$g.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===ln&&n++,n===Cn&&n++,n>Xa){if(i)throw"Bad character: "+t;n=Vs,i=!0}r+=1e5}return r}function EO(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=Fg.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===ln&&n++,n===Cn&&n++,n>Ya){if(i)throw"Bad character: "+t;n=Vs,i=!0}r+=1e5}return r}function SO(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function js(t,e,n){if(!(this instanceof js))return new js(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}js.fromMGRS=function(t){return new js(jg(t))},js.prototype.toMGRS=function(t){return Vg([this.x,this.y],t)};var wO=1,xO=.25,Wg=.046875,qg=.01953125,Hg=.01068115234375,OO=.75,MO=.46875,TO=.013020833333333334,NO=.007120768229166667,CO=.3645833333333333,LO=.005696614583333333,PO=.3076171875;function zg(t){var e=[];e[0]=wO-t*(xO+t*(Wg+t*(qg+t*Hg))),e[1]=t*(OO-t*(Wg+t*(qg+t*Hg)));var n=t*t;return e[2]=n*(MO-t*(TO+t*NO)),n*=t,e[3]=n*(CO-t*LO),e[4]=n*t*PO,e}function Yl(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var AO=20;function Yg(t,e,n){for(var r=1/(1-e),i=t,s=AO;s;--s){var a=Math.sin(i),o=1-e*a*a;if(o=(Yl(i,a,Math.cos(i),n)-t)*(o*Math.sqrt(o))*r,i-=o,Math.abs(o)<ne)return i}return i}function kO(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=zg(this.es),this.ml0=Yl(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function DO(t){var e=t.x,n=t.y,r=ae(e-this.long0),i,s,a,o=Math.sin(n),l=Math.cos(n);if(this.es){var f=l*r,c=Math.pow(f,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),m=Math.abs(l)>ne?Math.tan(n):0,p=Math.pow(m,2),g=Math.pow(p,2);i=1-this.es*Math.pow(o,2),f=f/Math.sqrt(i);var y=Yl(n,o,l,this.en);s=this.a*(this.k0*f*(1+c/6*(1-p+h+c/20*(5-18*p+g+14*h-58*p*h+c/42*(61+179*g-g*p-479*p)))))+this.x0,a=this.a*(this.k0*(y-this.ml0+o*r*f/2*(1+c/12*(5-p+9*h+4*d+c/30*(61+g-58*p+270*h-330*p*h+c/56*(1385+543*g-g*p-3111*p))))))+this.y0}else{var u=l*Math.sin(r);if(Math.abs(Math.abs(u)-1)<ne)return 93;if(s=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,a=l*Math.cos(r)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(a),u>=1){if(u-1>ne)return 93;a=0}else a=Math.acos(a);n<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return t.x=s,t.y=a,t}function IO(t){var e,n,r,i,s=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=Yg(e,this.es,this.en),Math.abs(n)<H){var c=Math.sin(n),h=Math.cos(n),d=Math.abs(h)>ne?Math.tan(n):0,m=this.ep2*Math.pow(h,2),p=Math.pow(m,2),g=Math.pow(d,2),y=Math.pow(g,2);e=1-this.es*Math.pow(c,2);var v=s*Math.sqrt(e)/this.k0,b=Math.pow(v,2);e=e*d,r=n-e*b/(1-this.es)*.5*(1-b/12*(5+3*g-9*m*g+m-4*p-b/30*(61+90*g-252*m*g+45*y+46*m-b/56*(1385+3633*g+4095*y+1574*y*g)))),i=ae(this.long0+v*(1-b/6*(1+2*g+m-b/20*(5+28*g+24*y+8*m*g+6*m-b/42*(61+662*g+1320*y+720*y*g))))/h)}else r=H*Ha(a),i=0;else{var o=Math.exp(s/this.k0),l=.5*(o-1/o),u=this.lat0+a/this.k0,f=Math.cos(u);e=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),r=Math.asin(e),a<0&&(r=-r),l===0&&f===0?i=0:i=ae(Math.atan2(l,f)+this.long0)}return t.x=i,t.y=r,t}var RO=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Xl={init:kO,forward:DO,inverse:IO,names:RO};function Xg(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function Ln(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function $O(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function FO(t){var e=Math.abs(t);return e=$O(e*(1+e/(Ln(1,e)+1))),t<0?-e:e}function Rf(t,e){for(var n=2*Math.cos(2*e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return e+a*Math.sin(2*e)}function VO(t,e){for(var n=2*Math.cos(e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return Math.sin(e)*a}function jO(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function Kg(t,e,n){for(var r=Math.sin(e),i=Math.cos(e),s=Xg(n),a=jO(n),o=2*i*a,l=-2*r*s,u=t.length-1,f=t[u],c=0,h=0,d=0,m,p;--u>=0;)m=h,p=c,h=f,c=d,f=-m+o*h-l*c+t[u],d=-p+l*h+o*c;return o=r*a,l=i*s,[o*f-l*d,o*d+l*f]}function GO(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Xl.init.apply(this),this.forward=Xl.forward,this.inverse=Xl.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=Rf(this.cbg,this.lat0);this.Zb=-this.Qn*(r+VO(this.gtu,2*r))}function UO(t){var e=ae(t.x-this.long0),n=t.y;n=Rf(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(e),a=Math.cos(e);n=Math.atan2(r,a*i),e=Math.atan2(s*i,Ln(r,i*a)),e=FO(Math.tan(e));var o=Kg(this.gtu,2*n,2*e);n=n+o[0],e=e+o[1];var l,u;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,u=1/0),t.x=l,t.y=u,t}function BO(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var s=Kg(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(Xg(e));var a=Math.sin(n),o=Math.cos(n),l=Math.sin(e),u=Math.cos(e);n=Math.atan2(a*u,Ln(l,u*o)),e=Math.atan2(l,u*o),r=ae(e+this.long0),i=Rf(this.cgb,n)}else r=1/0,i=1/0;return t.x=r,t.y=i,t}var WO=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Kl={init:GO,forward:UO,inverse:BO,names:WO};function qO(t,e){if(t===void 0){if(t=Math.floor((ae(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var HO="etmerc";function zO(){var t=qO(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*kt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Kl.init.apply(this),this.forward=Kl.forward,this.inverse=Kl.inverse}var YO=["Universal Transverse Mercator System","utm"];const XO={init:zO,names:YO,dependsOn:HO};function $f(t,e){return Math.pow((1-t)/(1+t),e)}var KO=20;function ZO(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+He)/(Math.pow(Math.tan(.5*this.lat0+He),this.C)*$f(this.e*t,this.ratexp))}function JO(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+He),this.C)*$f(this.e*Math.sin(n),this.ratexp))-H,t.x=this.C*e,t}function QO(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+He)/this.K,1/this.C),s=KO;s>0&&(r=2*Math.atan(i*$f(this.e*Math.sin(t.y),-.5*this.e))-H,!(Math.abs(r-t.y)<e));--s)t.y=r;return s?(t.x=n,t.y=r,t):null}var eM=["gauss"];const Ff={init:ZO,forward:JO,inverse:QO,names:eM};function tM(){Ff.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function nM(t){var e,n,r,i;return t.x=ae(t.x-this.long0),Ff.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function rM(t){var e,n,r,i,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Ln(t.x,t.y)){var a=2*Math.atan2(s,this.R2);e=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),r=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,Ff.inverse.apply(this,[t]),t.x=ae(t.x+this.long0),t}var iM=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const sM={init:tM,forward:nM,inverse:rM,names:iM};function aM(t,e,n){return e*=n,Math.tan(.5*(H+t))*Math.pow((1-e)/(1+e),.5*n)}function oM(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ne&&(this.k0=.5*(1+Ha(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=ne&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ne&&Math.abs(Math.cos(this.lat_ts))>ne&&(this.k0=.5*this.cons*hr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Hn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=hr(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-H,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function lM(t){var e=t.x,n=t.y,r=Math.sin(n),i=Math.cos(n),s,a,o,l,u,f,c=ae(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=ne&&Math.abs(n+this.lat0)<=ne?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(c)),t.x=this.a*s*i*Math.sin(c)+this.x0,t.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(c))+this.y0,t):(a=2*Math.atan(this.ssfn_(n,r,this.e))-H,l=Math.cos(a),o=Math.sin(a),Math.abs(this.coslat0)<=ne?(u=Hn(this.e,n*this.con,this.con*r),f=2*this.a*this.k0*u/this.cons,t.x=this.x0+f*Math.sin(e-this.long0),t.y=this.y0-this.con*f*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<ne?(s=2*this.a*this.k0/(1+l*Math.cos(c)),t.y=s*o):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(c))),t.y=s*(this.cosX0*o-this.sinX0*l*Math.cos(c))+this.y0),t.x=s*l*Math.sin(c)+this.x0,t))}function uM(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=ne?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/a),Math.abs(this.coslat0)<ne?this.lat0>0?e=ae(this.long0+Math.atan2(t.x,-1*t.y)):e=ae(this.long0+Math.atan2(t.x,t.y)):e=ae(this.long0+Math.atan2(t.x*Math.sin(o),a*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=ne){if(a<=ne)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*za(this.e,r),e=this.con*ae(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=ne?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/a),e=ae(this.long0+Math.atan2(t.x*Math.sin(i),a*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*za(this.e,Math.tan(.5*(H+s)));return t.x=e,t.y=n,t}var cM=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const fM={init:oM,forward:lM,inverse:uM,names:cM,ssfn_:aM};function hM(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),a=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*l+this.alpha*a/2*u}function dM(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*a+this.x0,t}function mM(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+a/this.alpha,l=0,u=s,f=-1e3,c=0;Math.abs(u-f)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),f=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=o,t.y=u,t}var pM=["somerc"];const gM={init:hM,forward:dM,inverse:mM,names:pM};var Gs=1e-7;function yM(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function vM(){var t,e,n,r,i,s,a,o,l,u,f=0,c,h=0,d=0,m=0,p=0,g=0,y=0;this.no_off=yM(this),this.no_rot="no_rot"in this;var v=!1;"alpha"in this&&(v=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),v&&(y=this.alpha),b&&(f=this.rectified_grid_angle*kt),v||b)h=this.longc;else if(d=this.long1,p=this.lat1,m=this.long2,g=this.lat2,Math.abs(p-g)<=Gs||(t=Math.abs(p))<=Gs||Math.abs(t-H)<=Gs||Math.abs(Math.abs(this.lat0)-H)<=Gs||Math.abs(Math.abs(g)-H)<=Gs)throw new Error;var E=1-this.es;e=Math.sqrt(E),Math.abs(this.lat0)>ne?(o=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*o*o,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/E),this.A=this.B*this.k0*e/t,r=this.B*e/(n*Math.sqrt(t)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(Hn(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),v||b?(v?(c=Math.asin(Math.sin(y)/r),b||(f=y)):(c=f,y=Math.asin(r*Math.sin(c))),this.lam0=h-Math.asin(.5*(i-1/i)*Math.tan(c))/this.B):(s=Math.pow(Hn(this.e,p,Math.sin(p)),this.B),a=Math.pow(Hn(this.e,g,Math.sin(g)),this.B),i=this.E/s,l=(a-s)/(a+s),u=this.E*this.E,u=(u-a*s)/(u+a*s),t=d-m,t<-Math.pi?m-=Wa:t>Math.pi&&(m+=Wa),this.lam0=ae(.5*(d+m)-Math.atan(u*Math.tan(.5*this.B*(d-m))/l)/this.B),c=Math.atan(2*Math.sin(this.B*ae(d-this.lam0))/(i-1/i)),f=y=Math.asin(r*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(y))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(He-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(He+i))}function _M(t){var e={},n,r,i,s,a,o,l,u;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-H)>ne){if(a=this.E/Math.pow(Hn(this.e,t.y,Math.sin(t.y)),this.B),o=1/a,n=.5*(a-o),r=.5*(a+o),s=Math.sin(this.B*t.x),i=(n*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(i)-1)<ne)throw new Error;u=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*t.x),Math.abs(o)<Gs?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,o)}else u=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=u):(l-=this.u_0,e.x=u*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function bM(t){var e,n,r,i,s,a,o,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),s=.5*(r+1/r),a=Math.sin(this.BrA*e),o=(a*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(o)-1)<ne)l.x=0,l.y=o<0?-H:H;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=za(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var EM=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const SM={init:vM,forward:_M,inverse:bM,names:EM};function wM(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<ne)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=hr(this.e,e,n),i=Hn(this.e,this.lat1,e),s=Math.sin(this.lat2),a=Math.cos(this.lat2),o=hr(this.e,s,a),l=Hn(this.e,this.lat2,s),u=Hn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>ne?this.ns=Math.log(r/o)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function xM(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=ne&&(n=Ha(n)*(H-2*ne));var r=Math.abs(Math.abs(n)-H),i,s;if(r>ne)i=Hn(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;s=0}var a=this.ns*ae(e-this.long0);return t.x=this.k0*(s*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(a))+this.y0,t}function OM(t){var e,n,r,i,s,a=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),n=1):(e=-Math.sqrt(a*a+o*o),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*a,n*o)),e!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=za(this.e,r),i===-9999)return null}else i=-H;return s=ae(l/this.ns+this.long0),t.x=s,t.y=i,t}var MM=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const TM={init:wM,forward:xM,inverse:OM,names:MM};function NM(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function CM(t){var e,n,r,i,s,a,o,l=t.x,u=t.y,f=ae(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-f*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*s,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=o*Math.cos(a)/1,t.x=o*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function LM(t){var e,n,r,i,s,a,o,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,o=e,l=0;var f=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(l=1),o=t.y,f+=1;while(l===0&&f<15);return f>=15?null:t}var PM=["Krovak","krovak"];const AM={init:NM,forward:CM,inverse:LM,names:PM};function en(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function Ka(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Za(t){return .375*t*(1+.25*t*(1+.46875*t))}function Ja(t){return .05859375*t*t*(1+.75*t)}function Qa(t){return t*t*t*(35/3072)}function Us(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function Bs(t){return Math.abs(t)<H?t:t-Ha(t)*Math.PI}function Zl(t,e,n,r,i){var s,a;s=t/e;for(var o=0;o<15;o++)if(a=(t-(e*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=a,Math.abs(a)<=1e-10)return s;return NaN}function kM(){this.sphere||(this.e0=Ka(this.es),this.e1=Za(this.es),this.e2=Ja(this.es),this.e3=Qa(this.es),this.ml0=this.a*en(this.e0,this.e1,this.e2,this.e3,this.lat0))}function DM(t){var e,n,r=t.x,i=t.y;if(r=ae(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),a=Math.cos(i),o=Us(this.a,this.e,s),l=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),f=u*u,c=this.es*a*a/(1-this.es),h=this.a*en(this.e0,this.e1,this.e2,this.e3,i);e=o*u*(1-f*l*(1/6-(8-l+8*c)*f/120)),n=h-this.ml0+o*s/a*f*(.5+(5-l+6*c)*f/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function IM(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(s))}else{var a=this.ml0/this.a+n,o=Zl(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-H)<=ne)return t.x=this.long0,t.y=H,n<0&&(t.y*=-1),t;var l=Us(this.a,this.e,Math.sin(o)),u=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(o),2),c=e*this.a/l,h=c*c;r=o-l*Math.tan(o)/u*c*c*(.5-(1+3*f)*c*c/24),i=c*(1-h*(f/3+(1+3*f)*f*h/15))/Math.cos(o)}return t.x=ae(i+this.long0),t.y=Bs(r),t}var RM=["Cassini","Cassini_Soldner","cass"];const $M={init:kM,forward:DM,inverse:IM,names:RM};function bi(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var FM=1,VM=2,jM=3,GM=4;function UM(){var t=Math.abs(this.lat0);if(Math.abs(t-H)<ne?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<ne?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=bi(this.e,1),this.mmf=.5/(1-this.es),this.apa=ZM(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=bi(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function BM(t){var e,n,r,i,s,a,o,l,u,f,c=t.x,h=t.y;if(c=ae(c-this.long0),this.sphere){if(s=Math.sin(h),f=Math.cos(h),r=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+f*r:1+this.sinph0*s+this.cosph0*f*r,n<=ne)return null;n=Math.sqrt(2/n),e=n*f*Math.sin(c),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.lat0)<ne)return null;n=He-h*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(c),n*=r}}else{switch(o=0,l=0,u=0,r=Math.cos(c),i=Math.sin(c),s=Math.sin(h),a=bi(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=a/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*l*r;break;case this.EQUIT:u=1+l*r;break;case this.N_POLE:u=H+h,a=this.qp-a;break;case this.S_POLE:u=h-H,a=this.qp+a;break}if(Math.abs(u)<ne)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?n=this.ymf*u*(this.cosb1*o-this.sinb1*l*r):n=(u=Math.sqrt(2/(1+l*r)))*o*this.ymf,e=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?u:-u)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function WM(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i,s,a,o,l,u;if(this.sphere){var f=0,c,h=0;if(c=Math.sqrt(e*e+n*n),i=c*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sin(i),f=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(c)<=ne?0:Math.asin(n*h/c),e*=h,n=f*c;break;case this.OBLIQ:i=Math.abs(c)<=ne?this.lat0:Math.asin(f*this.sinph0+n*h*this.cosph0/c),e*=h*this.cosph0,n=(f-Math.sin(i)*this.sinph0)*c;break;case this.N_POLE:n=-n,i=H-i;break;case this.S_POLE:i-=H;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<ne)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*l/this.rq),s=Math.cos(a),e*=a=Math.sin(a),this.mode===this.OBLIQ?(u=s*this.sinb1+n*a*this.cosb1/l,o=this.qp*u,n=l*this.cosb1*s-n*this.sinb1*a):(u=n*a/l,o=this.qp*u,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),o=e*e+n*n,!o)return t.x=this.long0,t.y=this.lat0,t;u=1-o/this.qp,this.mode===this.S_POLE&&(u=-u)}r=Math.atan2(e,n),i=JM(Math.asin(u),this.apa)}return t.x=ae(this.long0+r),t.y=i,t}var qM=.3333333333333333,HM=.17222222222222222,zM=.10257936507936508,YM=.06388888888888888,XM=.0664021164021164,KM=.016415012942191543;function ZM(t){var e,n=[];return n[0]=t*qM,e=t*t,n[0]+=e*HM,n[1]=e*YM,e*=t,n[0]+=e*zM,n[1]+=e*XM,n[2]=e*KM,n}function JM(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var QM=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const eT={init:UM,forward:BM,inverse:WM,names:QM,S_POLE:FM,N_POLE:VM,EQUIT:jM,OBLIQ:GM};function Ei(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function tT(){Math.abs(this.lat1+this.lat2)<ne||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=hr(this.e3,this.sin_po,this.cos_po),this.qs1=bi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=hr(this.e3,this.sin_po,this.cos_po),this.qs2=bi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=bi(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>ne?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function nT(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=bi(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*ae(e-this.long0),a=i*Math.sin(s)+this.x0,o=this.rh-i*Math.cos(s)+this.y0;return t.x=a,t.y=o,t}function rT(t){var e,n,r,i,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),s=ae(i/this.ns0+this.long0),t.x=s,t.y=a,t}function iT(t,e){var n,r,i,s,a,o=Ei(.5*e);if(t<ne)return o;for(var l=t*t,u=1;u<=25;u++)if(n=Math.sin(o),r=Math.cos(o),i=t*n,s=1-i*i,a=.5*s*s/r*(e/(1-l)-n/s+.5/t*Math.log((1-i)/(1+i))),o=o+a,Math.abs(a)<=1e-7)return o;return null}var sT=["Albers_Conic_Equal_Area","Albers","aea"];const aT={init:tT,forward:nT,inverse:rT,names:sT,phi1z:iT};function oT(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function lT(t){var e,n,r,i,s,a,o,l,u=t.x,f=t.y;return r=ae(u-this.long0),e=Math.sin(f),n=Math.cos(f),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,a>0||Math.abs(a)<=ne?(o=this.x0+this.a*s*n*Math.sin(r)/a,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)/a):(o=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function uT(t){var e,n,r,i,s,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),a=Ei(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),s=ae(this.long0+s)):(a=this.phic0,s=0),t.x=s,t.y=a,t}var cT=["gnom"];const fT={init:oT,forward:lT,inverse:uT,names:cT};function hT(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*H:H;for(var r=Math.asin(.5*e),i,s,a,o,l=0;l<30;l++)if(s=Math.sin(r),a=Math.cos(r),o=t*s,i=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-s/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function dT(){this.sphere||(this.k0=hr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function mT(t){var e=t.x,n=t.y,r,i,s=ae(e-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var a=bi(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*a*.5/this.k0}return t.x=r,t.y=i,t}function pT(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=ae(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=hT(this.e,2*t.y*this.k0/this.a),e=ae(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var gT=["cea"];const yT={init:dT,forward:mT,inverse:pT,names:gT};function vT(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function _T(t){var e=t.x,n=t.y,r=ae(e-this.long0),i=Bs(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function bT(t){var e=t.x,n=t.y;return t.x=ae(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Bs(this.lat0+(n-this.y0)/this.a),t}var ET=["Equirectangular","Equidistant_Cylindrical","eqc"];const ST={init:vT,forward:_T,inverse:bT,names:ET};var Zg=20;function wT(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ka(this.es),this.e1=Za(this.es),this.e2=Ja(this.es),this.e3=Qa(this.es),this.ml0=this.a*en(this.e0,this.e1,this.e2,this.e3,this.lat0)}function xT(t){var e=t.x,n=t.y,r,i,s,a=ae(e-this.long0);if(s=a*Math.sin(n),this.sphere)Math.abs(n)<=ne?(r=this.a*a,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*(Bs(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=ne)r=this.a*a,i=-1*this.ml0;else{var o=Us(this.a,this.e,Math.sin(n))/Math.tan(n);r=o*Math.sin(s),i=this.a*en(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(s))}return t.x=r+this.x0,t.y=i+this.y0,t}function OT(t){var e,n,r,i,s,a,o,l,u;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=ne)e=ae(r/this.a+this.long0),n=0;else{a=this.lat0+i/this.a,o=r*r/this.a/this.a+a*a,l=a;var f;for(s=Zg;s;--s)if(f=Math.tan(l),u=-1*(a*(l*f+1)-l-.5*(l*l+o)*f)/((l-a)/f-1),l+=u,Math.abs(u)<=ne){n=l;break}e=ae(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=ne)n=0,e=ae(this.long0+r/this.a);else{a=(this.ml0+i)/this.a,o=r*r/this.a/this.a+a*a,l=a;var c,h,d,m,p;for(s=Zg;s;--s)if(p=this.e*Math.sin(l),c=Math.sqrt(1-p*p)*Math.tan(l),h=this.a*en(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),m=h/this.a,u=(a*(c*m+1)-m-.5*c*(m*m+o))/(this.es*Math.sin(2*l)*(m*m+o-2*a*m)/(4*c)+(a-m)*(c*d-2/Math.sin(2*l))-d),l-=u,Math.abs(u)<=ne){n=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=ae(this.long0+Math.asin(r*c/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var MT=["Polyconic","poly"];const TT={init:wT,forward:xT,inverse:OT,names:MT};function NT(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function CT(t){var e,n=t.x,r=t.y,i=r-this.lat0,s=n-this.long0,a=i/Ba*1e-5,o=s,l=1,u=0;for(e=1;e<=10;e++)l=l*a,u=u+this.A[e]*l;var f=u,c=o,h=1,d=0,m,p,g=0,y=0;for(e=1;e<=6;e++)m=h*f-d*c,p=d*f+h*c,h=m,d=p,g=g+this.B_re[e]*h-this.B_im[e]*d,y=y+this.B_im[e]*h+this.B_re[e]*d;return t.x=y*this.a+this.x0,t.y=g*this.a+this.y0,t}function LT(t){var e,n=t.x,r=t.y,i=n-this.x0,s=r-this.y0,a=s/this.a,o=i/this.a,l=1,u=0,f,c,h=0,d=0;for(e=1;e<=6;e++)f=l*a-u*o,c=u*a+l*o,l=f,u=c,h=h+this.C_re[e]*l-this.C_im[e]*u,d=d+this.C_im[e]*l+this.C_re[e]*u;for(var m=0;m<this.iterations;m++){var p=h,g=d,y,v,b=a,E=o;for(e=2;e<=6;e++)y=p*h-g*d,v=g*h+p*d,p=y,g=v,b=b+(e-1)*(this.B_re[e]*p-this.B_im[e]*g),E=E+(e-1)*(this.B_im[e]*p+this.B_re[e]*g);p=1,g=0;var O=this.B_re[1],N=this.B_im[1];for(e=2;e<=6;e++)y=p*h-g*d,v=g*h+p*d,p=y,g=v,O=O+e*(this.B_re[e]*p-this.B_im[e]*g),N=N+e*(this.B_im[e]*p+this.B_re[e]*g);var M=O*O+N*N;h=(b*O+E*N)/M,d=(E*O-b*N)/M}var A=h,k=d,C=1,R=0;for(e=1;e<=9;e++)C=C*A,R=R+this.D[e]*C;var I=this.lat0+R*Ba*1e5,ee=this.long0+k;return t.x=ee,t.y=I,t}var PT=["New_Zealand_Map_Grid","nzmg"];const AT={init:NT,forward:CT,inverse:LT,names:PT};function kT(){}function DT(t){var e=t.x,n=t.y,r=ae(e-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=s,t}function IT(t){t.x-=this.x0,t.y-=this.y0;var e=ae(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var RT=["Miller_Cylindrical","mill"];const $T={init:kT,forward:DT,inverse:IT,names:RT};var FT=20;function VT(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=zg(this.es)}function jT(t){var e,n,r=t.x,i=t.y;if(r=ae(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),a=FT;a;--a){var o=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<ne)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*Yl(i,l,u,this.en),e=this.a*r*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function GT(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=Ei((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Ei(Math.sin(e)/this.n)),r=ae(r+this.long0),e=Bs(e)):(e=Yg(t.y/this.a,this.es,this.en),i=Math.abs(e),i<H?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=ae(n)):i-ne<H&&(r=this.long0)),t.x=r,t.y=e,t}var UT=["Sinusoidal","sinu"];const BT={init:VT,forward:jT,inverse:GT,names:UT};function WT(){}function qT(t){for(var e=t.x,n=t.y,r=ae(e-this.long0),i=n,s=Math.PI*Math.sin(n);;){var a=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=a,Math.abs(a)<ne)break}i/=2,Math.PI/2-Math.abs(n)<ne&&(r=0);var o=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=l,t}function HT(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=ae(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var zT=["Mollweide","moll"];const YT={init:WT,forward:qT,inverse:HT,names:zT};function XT(){Math.abs(this.lat1+this.lat2)<ne||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ka(this.es),this.e1=Za(this.es),this.e2=Ja(this.es),this.e3=Qa(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=hr(this.e,this.sinphi,this.cosphi),this.ml1=en(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<ne?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=hr(this.e,this.sinphi,this.cosphi),this.ml2=en(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=en(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function KT(t){var e=t.x,n=t.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=en(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*ae(e-this.long0),a=this.x0+r*Math.sin(s),o=this.y0+this.rh-r*Math.cos(s);return t.x=a,t.y=o,t}function ZT(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=ae(this.long0+s/this.ns),r=Bs(this.g-n/this.a),t.x=i,t.y=r,t;var a=this.g-n/this.a;return r=Zl(a,this.e0,this.e1,this.e2,this.e3),i=ae(this.long0+s/this.ns),t.x=i,t.y=r,t}var JT=["Equidistant_Conic","eqdc"];const QT={init:XT,forward:KT,inverse:ZT,names:JT};function eN(){this.R=this.a}function tN(t){var e=t.x,n=t.y,r=ae(e-this.long0),i,s;Math.abs(n)<=ne&&(i=this.x0+this.R*r,s=this.y0);var a=Ei(2*Math.abs(n/Math.PI));(Math.abs(r)<=ne||Math.abs(Math.abs(n)-H)<=ne)&&(i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*a):s=this.y0+Math.PI*this.R*-Math.tan(.5*a));var o=.5*Math.abs(Math.PI/r-r/Math.PI),l=o*o,u=Math.sin(a),f=Math.cos(a),c=f/(u+f-1),h=c*c,d=c*(2/u-1),m=d*d,p=Math.PI*this.R*(o*(c-m)+Math.sqrt(l*(c-m)*(c-m)-(m+l)*(h-m)))/(m+l);r<0&&(p=-p),i=this.x0+p;var g=l+c;return p=Math.PI*this.R*(d*g-o*Math.sqrt((m+l)*(l+1)-g*g))/(m+l),n>=0?s=this.y0+p:s=this.y0-p,t.x=i,t.y=s,t}function nN(t){var e,n,r,i,s,a,o,l,u,f,c,h,d;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,r=t.x/c,i=t.y/c,s=r*r+i*i,a=-Math.abs(i)*(1+s),o=a-2*i*i+r*r,l=-2*a+1+2*i*i+s*s,d=i*i/l+(2*o*o*o/l/l/l-9*a*o/l/l)/27,u=(a-o*o/3/l)/l,f=2*Math.sqrt(-u/3),c=3*d/u/f,Math.abs(c)>1&&(c>=0?c=1:c=-1),h=Math.acos(c)/3,t.y>=0?n=(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI:n=-(-f*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI,Math.abs(r)<ne?e=this.long0:e=ae(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),t.x=e,t.y=n,t}var rN=["Van_der_Grinten_I","VanDerGrinten","vandg"];const iN={init:eN,forward:tN,inverse:nN,names:rN};function sN(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function aN(t){var e=t.x,n=t.y,r=Math.sin(t.y),i=Math.cos(t.y),s=ae(e-this.long0),a,o,l,u,f,c,h,d,m,p,g,y,v,b,E,O,N,M,A,k,C,R,I;return this.sphere?Math.abs(this.sin_p12-1)<=ne?(t.x=this.x0+this.a*(H-n)*Math.sin(s),t.y=this.y0-this.a*(H-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ne?(t.x=this.x0+this.a*(H+n)*Math.sin(s),t.y=this.y0+this.a*(H+n)*Math.cos(s),t):(M=this.sin_p12*r+this.cos_p12*i*Math.cos(s),O=Math.acos(M),N=O?O/Math.sin(O):1,t.x=this.x0+this.a*N*i*Math.sin(s),t.y=this.y0+this.a*N*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),t):(a=Ka(this.es),o=Za(this.es),l=Ja(this.es),u=Qa(this.es),Math.abs(this.sin_p12-1)<=ne?(f=this.a*en(a,o,l,u,H),c=this.a*en(a,o,l,u,n),t.x=this.x0+(f-c)*Math.sin(s),t.y=this.y0-(f-c)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ne?(f=this.a*en(a,o,l,u,H),c=this.a*en(a,o,l,u,n),t.x=this.x0+(f+c)*Math.sin(s),t.y=this.y0+(f+c)*Math.cos(s),t):(h=r/i,d=Us(this.a,this.e,this.sin_p12),m=Us(this.a,this.e,r),p=Math.atan((1-this.es)*h+this.es*d*this.sin_p12/(m*i)),g=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(p)-this.sin_p12*Math.cos(s)),g===0?A=Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):Math.abs(Math.abs(g)-Math.PI)<=ne?A=-Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):A=Math.asin(Math.sin(s)*Math.cos(p)/Math.sin(g)),y=this.e*this.sin_p12/Math.sqrt(1-this.es),v=this.e*this.cos_p12*Math.cos(g)/Math.sqrt(1-this.es),b=y*v,E=v*v,k=A*A,C=k*A,R=C*A,I=R*A,O=d*A*(1-k*E*(1-E)/6+C/8*b*(1-2*E)+R/120*(E*(4-7*E)-3*y*y*(1-7*E))-I/48*b),t.x=this.x0+O*Math.sin(g),t.y=this.y0+O*Math.cos(g),t))}function oN(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a,o,l,u,f,c,h,d,m,p,g,y,v,b,E,O,N,M,A;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*H*this.a?void 0:(n=e/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=ne?a=this.lat0:(a=Ei(i*this.sin_p12+t.y*r*this.cos_p12/e),o=Math.abs(this.lat0)-H,Math.abs(o)<=ne?this.lat0>=0?s=ae(this.long0+Math.atan2(t.x,-t.y)):s=ae(this.long0-Math.atan2(-t.x,t.y)):s=ae(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=s,t.y=a,t)):(l=Ka(this.es),u=Za(this.es),f=Ja(this.es),c=Qa(this.es),Math.abs(this.sin_p12-1)<=ne?(h=this.a*en(l,u,f,c,H),e=Math.sqrt(t.x*t.x+t.y*t.y),d=h-e,a=Zl(d/this.a,l,u,f,c),s=ae(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=a,t):Math.abs(this.sin_p12+1)<=ne?(h=this.a*en(l,u,f,c,H),e=Math.sqrt(t.x*t.x+t.y*t.y),d=e-h,a=Zl(d/this.a,l,u,f,c),s=ae(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),m=Us(this.a,this.e,this.sin_p12),y=Math.cos(g),v=this.e*this.cos_p12*y,b=-v*v/(1-this.es),E=3*this.es*(1-b)*this.sin_p12*this.cos_p12*y/(1-this.es),O=e/m,N=O-b*(1+b)*Math.pow(O,3)/6-E*(1+3*b)*Math.pow(O,4)/24,M=1-b*N*N/2-O*N*N*N/6,p=Math.asin(this.sin_p12*Math.cos(N)+this.cos_p12*Math.sin(N)*y),s=ae(this.long0+Math.asin(Math.sin(g)*Math.sin(N)/Math.cos(p))),A=Math.sin(p),a=Math.atan2((A-this.es*M*this.sin_p12)*Math.tan(p),A*(1-this.es)),t.x=s,t.y=a,t))}var lN=["Azimuthal_Equidistant","aeqd"];const uN={init:sN,forward:aN,inverse:oN,names:lN};function cN(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function fN(t){var e,n,r,i,s,a,o,l,u=t.x,f=t.y;return r=ae(u-this.long0),e=Math.sin(f),n=Math.cos(f),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,(a>0||Math.abs(a)<=ne)&&(o=this.a*s*n*Math.sin(r),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function hN(t){var e,n,r,i,s,a,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Ei(e/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=ne?(o=this.lat0,t.x=a,t.y=o,t):(o=Ei(i*this.sin_p14+t.y*r*this.cos_p14/e),s=Math.abs(this.lat0)-H,Math.abs(s)<=ne?(this.lat0>=0?a=ae(this.long0+Math.atan2(t.x,-t.y)):a=ae(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=o,t):(a=ae(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=a,t.y=o,t))}var dN=["ortho"];const mN={init:cN,forward:fN,inverse:hN,names:dN};var ot={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},ze={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function pN(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=H-He/2?this.face=ot.TOP:this.lat0<=-(H-He/2)?this.face=ot.BOTTOM:Math.abs(this.long0)<=He?this.face=ot.FRONT:Math.abs(this.long0)<=H+He?this.face=this.long0>0?ot.RIGHT:ot.LEFT:this.face=ot.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function gN(t){var e={x:0,y:0},n,r,i,s,a,o,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,r=t.x,this.face===ot.TOP)s=H-n,r>=He&&r<=H+He?(l.value=ze.AREA_0,i=r-H):r>H+He||r<=-(H+He)?(l.value=ze.AREA_1,i=r>0?r-gt:r+gt):r>-(H+He)&&r<=-He?(l.value=ze.AREA_2,i=r+H):(l.value=ze.AREA_3,i=r);else if(this.face===ot.BOTTOM)s=H+n,r>=He&&r<=H+He?(l.value=ze.AREA_0,i=-r+H):r<He&&r>=-He?(l.value=ze.AREA_1,i=-r):r<-He&&r>=-(H+He)?(l.value=ze.AREA_2,i=-r-H):(l.value=ze.AREA_3,i=r>0?-r+gt:-r-gt);else{var u,f,c,h,d,m,p;this.face===ot.RIGHT?r=Ws(r,+H):this.face===ot.BACK?r=Ws(r,+gt):this.face===ot.LEFT&&(r=Ws(r,-H)),h=Math.sin(n),d=Math.cos(n),m=Math.sin(r),p=Math.cos(r),u=d*p,f=d*m,c=h,this.face===ot.FRONT?(s=Math.acos(u),i=Jl(s,c,f,l)):this.face===ot.RIGHT?(s=Math.acos(f),i=Jl(s,c,-u,l)):this.face===ot.BACK?(s=Math.acos(-u),i=Jl(s,c,-f,l)):this.face===ot.LEFT?(s=Math.acos(-f),i=Jl(s,c,u,l)):(s=i=0,l.value=ze.AREA_0)}return o=Math.atan(12/gt*(i+Math.acos(Math.sin(i)*Math.cos(He))-H)),a=Math.sqrt((1-Math.cos(s))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===ze.AREA_1?o+=H:l.value===ze.AREA_2?o+=gt:l.value===ze.AREA_3&&(o+=1.5*gt),e.x=a*Math.cos(o),e.y=a*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function yN(t){var e={lam:0,phi:0},n,r,i,s,a,o,l,u,f,c={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?c.value=ze.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(c.value=ze.AREA_1,n-=H):t.x<0&&-t.x>=Math.abs(t.y)?(c.value=ze.AREA_2,n=n<0?n+gt:n-gt):(c.value=ze.AREA_3,n+=H),f=gt/12*Math.tan(n),a=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),o=Math.atan(a),i=Math.cos(n),s=Math.tan(r),l=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===ot.TOP)u=Math.acos(l),e.phi=H-u,c.value===ze.AREA_0?e.lam=o+H:c.value===ze.AREA_1?e.lam=o<0?o+gt:o-gt:c.value===ze.AREA_2?e.lam=o-H:e.lam=o;else if(this.face===ot.BOTTOM)u=Math.acos(l),e.phi=u-H,c.value===ze.AREA_0?e.lam=-o+H:c.value===ze.AREA_1?e.lam=-o:c.value===ze.AREA_2?e.lam=-o-H:e.lam=o<0?-o-gt:-o+gt;else{var h,d,m;h=l,f=h*h,f>=1?m=0:m=Math.sqrt(1-f)*Math.sin(o),f+=m*m,f>=1?d=0:d=Math.sqrt(1-f),c.value===ze.AREA_1?(f=d,d=-m,m=f):c.value===ze.AREA_2?(d=-d,m=-m):c.value===ze.AREA_3&&(f=d,d=m,m=-f),this.face===ot.RIGHT?(f=h,h=-d,d=f):this.face===ot.BACK?(h=-h,d=-d):this.face===ot.LEFT&&(f=h,h=d,d=-f),e.phi=Math.acos(-m)-H,e.lam=Math.atan2(d,h),this.face===ot.RIGHT?e.lam=Ws(e.lam,-H):this.face===ot.BACK?e.lam=Ws(e.lam,-gt):this.face===ot.LEFT&&(e.lam=Ws(e.lam,+H))}if(this.es!==0){var p,g,y;p=e.phi<0?1:0,g=Math.tan(e.phi),y=this.b/Math.sqrt(g*g+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-y*y)/(this.one_minus_f*y)),p&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function Jl(t,e,n,r){var i;return t<ne?(r.value=ze.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=He?r.value=ze.AREA_0:i>He&&i<=H+He?(r.value=ze.AREA_1,i-=H):i>H+He||i<=-(H+He)?(r.value=ze.AREA_2,i=i>=0?i-gt:i+gt):(r.value=ze.AREA_3,i+=H)),i}function Ws(t,e){var n=t+e;return n<-gt?n+=Wa:n>+gt&&(n-=Wa),n}var vN=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const _N={init:pN,forward:gN,inverse:yN,names:vN};var Vf=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],eo=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Jg=.8487,Qg=1.3523,ey=cr/5,bN=1/ey,qs=18,Ql=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},EN=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function SN(t,e,n,r){for(var i=e;r;--r){var s=t(i);if(i-=s,Math.abs(s)<n)break}return i}function wN(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function xN(t){var e=ae(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*ey);r<0?r=0:r>=qs&&(r=qs-1),n=cr*(n-bN*r);var i={x:Ql(Vf[r],n)*e,y:Ql(eo[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*Jg+this.x0,i.y=i.y*this.a*Qg+this.y0,i}function ON(t){var e={x:(t.x-this.x0)/(this.a*Jg),y:Math.abs(t.y-this.y0)/(this.a*Qg)};if(e.y>=1)e.x/=Vf[qs][0],e.y=t.y<0?-H:H;else{var n=Math.floor(e.y*qs);for(n<0?n=0:n>=qs&&(n=qs-1);;)if(eo[n][0]>e.y)--n;else if(eo[n+1][0]<=e.y)++n;else break;var r=eo[n],i=5*(e.y-r[0])/(eo[n+1][0]-r[0]);i=SN(function(s){return(Ql(r,s)-e.y)/EN(r,s)},i,ne,100),e.x/=Ql(Vf[n],i),e.y=(5*n+i)*kt,t.y<0&&(e.y=-e.y)}return e.x=ae(e.x+this.long0),e}var MN=["Robinson","robin"];const TN={init:wN,forward:xN,inverse:ON,names:MN};function NN(){this.name="geocent"}function CN(t){var e=Tg(t,this.es,this.a);return e}function LN(t){var e=Ng(t,this.es,this.a,this.b);return e}var PN=["Geocentric","geocentric","geocent","Geocent"];const AN={init:NN,forward:CN,inverse:LN,names:PN};var Bt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},to={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function kN(){if(Object.keys(to).forEach(function(n){if(typeof this[n]>"u")this[n]=to[n].def;else{if(to[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);to[n].num&&(this[n]=parseFloat(this[n]))}to[n].degrees&&(this[n]=this[n]*kt)}.bind(this)),Math.abs(Math.abs(this.lat0)-H)<ne?this.mode=this.lat0<0?Bt.S_POLE:Bt.N_POLE:Math.abs(this.lat0)<ne?this.mode=Bt.EQUIT:(this.mode=Bt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function DN(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i,s;switch(this.mode){case Bt.OBLIQ:s=this.sinph0*e+this.cosph0*n*r;break;case Bt.EQUIT:s=n*r;break;case Bt.S_POLE:s=-e;break;case Bt.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),i=s*n*Math.sin(t.x),this.mode){case Bt.OBLIQ:s*=this.cosph0*e-this.sinph0*n*r;break;case Bt.EQUIT:s*=e;break;case Bt.N_POLE:s*=-(n*r);break;case Bt.S_POLE:s*=n*r;break}var a,o;return a=s*this.cg+i*this.sg,o=1/(a*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*o,s=a*o,t.x=i*this.a,t.y=s*this.a,t}function IN(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,r,i;i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var s=Ln(t.x,t.y);if(Math.abs(s)<ne)e.x=0,e.y=t.y;else{var a,o;switch(o=1-s*s*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/s+s/this.pn1),a=Math.sqrt(1-o*o),this.mode){case Bt.OBLIQ:e.y=Math.asin(a*this.sinph0+t.y*o*this.cosph0/s),t.y=(a-this.sinph0*Math.sin(e.y))*s,t.x*=o*this.cosph0;break;case Bt.EQUIT:e.y=Math.asin(t.y*o/s),t.y=a*s,t.x*=o;break;case Bt.N_POLE:e.y=Math.asin(a),t.y=-t.y;break;case Bt.S_POLE:e.y=-Math.asin(a);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var RN=["Tilted_Perspective","tpers"];const $N={init:kN,forward:DN,inverse:IN,names:RN};function FN(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function VN(t){var e=t.x,n=t.y,r,i,s,a;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var o=this.radius_p/Ln(this.radius_p*Math.cos(n),Math.sin(n));if(i=o*Math.cos(e)*Math.cos(n),s=o*Math.sin(e)*Math.cos(n),a=o*Math.sin(n),(this.radius_g-i)*i-s*s-a*a*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/Ln(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/Ln(s,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(e)*r,s=Math.sin(e)*r,a=Math.sin(n),r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/Ln(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/Ln(s,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function jN(t){var e=-1,n=0,r=0,i,s,a,o;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Ln(1,r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Ln(1,n));var l=r/this.radius_p;if(i=n*n+l*l+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var GN=["Geostationary Satellite View","Geostationary_Satellite","geos"];const UN={init:FN,forward:VN,inverse:jN,names:GN};var no=1.340264,ro=-.081106,io=893e-6,so=.003796,eu=Math.sqrt(3)/2;function BN(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function WN(t){var e=ae(t.x-this.long0),n=t.y,r=Math.asin(eu*Math.sin(n)),i=r*r,s=i*i*i;return t.x=e*Math.cos(r)/(eu*(no+3*ro*i+s*(7*io+9*so*i))),t.y=r*(no+ro*i+s*(io+so*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function qN(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,r=t.y,i,s,a,o,l,u;for(u=0;u<n&&(i=r*r,s=i*i*i,a=r*(no+ro*i+s*(io+so*i))-t.y,o=no+3*ro*i+s*(7*io+9*so*i),r-=l=a/o,!(Math.abs(l)<e));++u);return i=r*r,s=i*i*i,t.x=eu*t.x*(no+3*ro*i+s*(7*io+9*so*i))/Math.cos(r),t.y=Math.asin(Math.sin(r)/eu),t.x=ae(t.x+this.long0),t}var HN=["eqearth","Equal Earth","Equal_Earth"];const zN={init:BN,forward:WN,inverse:qN,names:HN};function YN(t){t.Proj.projections.add(Xl),t.Proj.projections.add(Kl),t.Proj.projections.add(XO),t.Proj.projections.add(sM),t.Proj.projections.add(fM),t.Proj.projections.add(gM),t.Proj.projections.add(SM),t.Proj.projections.add(TM),t.Proj.projections.add(AM),t.Proj.projections.add($M),t.Proj.projections.add(eT),t.Proj.projections.add(aT),t.Proj.projections.add(fT),t.Proj.projections.add(yT),t.Proj.projections.add(ST),t.Proj.projections.add(TT),t.Proj.projections.add(AT),t.Proj.projections.add($T),t.Proj.projections.add(BT),t.Proj.projections.add(YT),t.Proj.projections.add(QT),t.Proj.projections.add(iN),t.Proj.projections.add(uN),t.Proj.projections.add(mN),t.Proj.projections.add(_N),t.Proj.projections.add(TN),t.Proj.projections.add(AN),t.Proj.projections.add($N),t.Proj.projections.add(UN),t.Proj.projections.add(zN)}Ut.defaultDatum="WGS84",Ut.Proj=dr,Ut.WGS84=new Ut.Proj("WGS84"),Ut.Point=js,Ut.toPoint=Ag,Ut.defs=Qt,Ut.nadgrid=Zx,Ut.transform=zl,Ut.mgrs=dO,Ut.version="__VERSION__",YN(Ut);function XN(){var t,e,n;Ut.defs("EPSG:32632","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs"),Ut.defs("EPSG:32631","+proj=utm +zone=31 +datum=WGS84 +units=m +no_defs"),Ut.defs("EPSG:2169","+proj=tmerc +lat_0=49.83333333333334 +lon_0=6.166666666666667 +k=1 +x_0=80000 +y_0=100000 +ellps=intl +towgs84=-189.681,18.3463,-42.7695,-0.33746,-3.09264,2.53861,0.4598 +units=m +no_defs"),Vi.register(Ut),(t=Et.get("EPSG:32632"))==null||t.setExtent([166021.44,0,833978.55,932900518e-2]),(e=Et.get("EPSG:32631"))==null||e.setExtent([166021.44,0,833978.55,932900518e-2]),(n=Et.get("EPSG:2169"))==null||n.setExtent([48225.17,56225.6,105842.04,139616.4])}function ty(t,e,n){const r=he(t);class i extends jf{constructor(a){super(r,a,e,n)}}return Qe(i,"def",r),i}const KN=typeof HTMLElement<"u"?HTMLElement:class{};class jf extends KN{constructor(n,r={},i={},s){super();Qe(this,"_instance",null);Qe(this,"_connected",!1);Qe(this,"_resolved",!1);Qe(this,"_numberProps",null);Qe(this,"_styles");Qe(this,"_slots");this._def=n,this._props=r,this._config=i,this._config=et({shadowRoot:!0},this._config),this._config.shadowRoot?this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def)):s&&s(this._createVNode(),this._root)}get _root(){return this._config.shadowRoot?this.shadowRoot:this}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,fl(()=>{this._connected||($p(null,this._root),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const n=(i,s=!1)=>{const{props:a,styles:o}=i;let l;if(a&&!ue(a))for(const u in a){const f=a[u];(f===Number||f&&f.type===Number)&&(u in this._props&&(this._props[u]=yc(this._props[u])),(l||(l=Object.create(null)))[mn(u)]=!0)}this._numberProps=l,s&&this._resolveProps(i),this._applyStyles(o),this._update()},r=this._def.__asyncLoader;r?r().then(i=>n(i,!0)):n(this._def)}_resolveProps(n){const{props:r}=n,i=ue(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(mn))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(a){this._setProp(s,a)}})}_setAttr(n){let r=this.getAttribute(n);const i=mn(n);this._numberProps&&this._numberProps[i]&&(r=yc(r)),this._setProp(i,r,!1)}_getProp(n){return this._props[n]}_setProp(n,r,i=!0,s=!0){r!==this._props[n]&&(this._props[n]=r,s&&this._instance&&this._update(),i&&(r===!0?this.setAttribute(sn(n),""):typeof r=="string"||typeof r=="number"?this.setAttribute(sn(n),r+""):r||this.removeAttribute(sn(n))))}_update(){$p(this._createVNode(),this._root)}_createVNode(){const n=te(this._def,et({},this._props));return this._instance||(n.ce=r=>{this._instance=r,r.isCE=!0;const i=(a,o)=>{this.dispatchEvent(new CustomEvent(a,{detail:o}))};r.emit=(a,...o)=>{i(a,o),sn(a)!==a&&i(sn(a),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof jf){r.parent=s._instance,r.provides=s._instance.provides;break}}),n}_applyStyles(n){n&&n.forEach(r=>{const i=document.createElement("style");i.textContent=r,this._root.appendChild(i)})}}const M4="";var ao=(t=>(t.INFO="alert-info",t.WARNING="alert-warning",t.ERROR="alert-danger",t))(ao||{});const ZN=ao.INFO,JN=7e3,QN=4e3,tu=as("alert-notifications",()=>{const t=Ee([]);function e(r,i=ZN,s){const a={message:r,type:i,duration:s!=null?s:i===ao.WARNING?QN:JN};t.value.push(a)}function n(r){t.value.splice(r,1)}return{notifications:t,addNotification:e,removeNotification:n}},{}),e2=he({__name:"notification-item",props:{notification:{type:Object,required:!0}},emits:["close"],setup(t){const e=t,n=it(!0);function r(i,s){setTimeout(()=>{n.value=!1},e.notification.duration),s()}return(i,s)=>{const a=jc("dompurify-html");return P(),Fe(Cl,{name:"fade-out",appear:"","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0",onEnter:r,onAfterLeave:s[0]||(s[0]=o=>i.$emit("close"))},{default:li(()=>[n.value?yl((P(),V("div",{key:0,class:Ae(["lux-alert",`lux-${e.notification.type}`]),role:"alert"},null,2)),[[a,e.notification.message]]):F("v-if",!0)]),_:1})}}}),de=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},t2=de(e2,[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/alert-notifications/notification-item.vue"]]),n2={key:0,class:"lux-notifications fixed w-[500px] top-10 left-1/2 ml-[-250px] z-50"},ny=de(he({__name:"alert-notifications",setup(t){const e=tu(),{notifications:n}=Ue(e);function r(i){e.removeNotification(i)}return(i,s)=>(P(),Fe(sp,{to:"body"},[w(n).length?(P(),V("div",n2,[(P(!0),V(Ge,null,On(w(n),(a,o)=>(P(),Fe(t2,{key:o,notification:a,onClose:()=>r(o)},null,8,["notification","onClose"]))),128))])):F("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/alert-notifications/alert-notifications.vue"]]),r2={class:"lux-dropdown"},i2={class:"h-full"},s2=["aria-expanded"],a2=L("span",{class:"lux-caret"},null,-1),o2={class:"lux-dropdown-wrapper"},l2=["aria-label","data-value"],Gf=de(he({__name:"dropdown-list",props:{placeholder:{type:String,required:!0},options:{type:Array,required:!0,default:()=>[{label:"Default label",value:"Default value"}]},modelValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=it(!1),s=it();function a(f){i.value=f===void 0?!i.value:f}function o(f){f.stopImmediatePropagation(),a()}function l(f){s.value=f.target.dataset.value,r("change",s.value)}function u(){a(!1)}return yn(()=>document.addEventListener("click",u)),ci(()=>document.removeEventListener("click",u)),(f,c)=>{var h,d;return P(),V("div",r2,[L("div",i2,[L("button",{type:"button",class:Ae(["lux-btn lux-dropdown-btn",i.value?"expanded":""]),"aria-expanded":i.value,"aria-haspopup":"true",onClick:o},[L("span",null,oe((d=n.placeholder)!=null?d:(h=n.options[0])==null?void 0:h.label),1),a2],10,s2)]),L("div",o2,[L("ul",{class:Ae(["lux-dropdown-list",i.value?"":"hidden"]),tabindex:"-1"},[(P(!0),V(Ge,null,On(n.options,m=>(P(),V("li",{key:m.value,class:Ae(f.modelValue===m.value?"selected":"")},[L("button",{class:"lux-dropdown-list-item","aria-label":m.ariaLabel,"data-value":m.value,onClick:l},oe(m.label),9,l2)],2))),128))],2)])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/dropdown-list.vue"]]),oo="EPSG:3857",ry="EPSG:4326",u2="EPSG:2169";let Uf;const iy=it();function mr(){function t(){return Uf}function e(){return iy.value=Uf=new Rb.default({view:new $b.default({zoom:10,center:[682439,6379152],multiWorld:!0}),controls:[],keyboardEventTarget:document}),Uf}function n(f,c){return f.id===c.id}function r(f,c){return f===c}function i(f,c){var h;return(h=f.layers)==null?void 0:h.some(d=>n(d,c))}function s(f,c){var d;const h=(d=f==null?void 0:f.layers)==null?void 0:d.find(m=>n(m,c));return!r(h,c)}function a(f,c){return!(c===null||!("layers"in f)||!("layers"in c)||typeof c.layers>"u"||typeof f.layers>"u"||f.layers===c.layers)}function o(f,c){return!("layers"in f)||typeof f.layers>"u"?[]:c===null||!("layers"in c)?f.layers.map((h,d)=>({layer:h,position:d})):f.layers===c.layers?[]:f.layers.reduce((h,d,m)=>i(c,d)?h:[...h,{layer:d,position:m}],[])}function l(f,c){return a(f,c)?c.layers.reduce((h,d)=>i(f,d)?h:[...h,d],[]):[]}function u(f,c){return a(f,c)?f.layers.reduce((h,d)=>s(c,d)?[...h,d]:h,[]):[]}return{olMap:iy,getOlMap:t,createMap:e,equalsLayer:n,hasLayer:i,layerHasChanged:s,contextHasChanged:a,getAddedLayers:o,getRemovedLayers:l,getMutatedLayers:u}}const lo=new Map;function Pn(t){return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(t)}function pr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c2(t,e){if(Pn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sy(t){var e=c2(t,"string");return Pn(e)=="symbol"?e:e+""}function ay(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sy(r.key),r)}}function gr(t,e,n){return e&&ay(t.prototype,e),n&&ay(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Si(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bf(t,e){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bf(t,e)}function nu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bf(t,e)}function uo(t,e){if(e&&(Pn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Si(t)}function yr(t){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yr(t)}function wi(t,e,n){return e=sy(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f2(t){if(Array.isArray(t))return t}function h2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d2(t,e){if(!!t){if(typeof t=="string")return oy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oy(t,e)}}function m2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p2(t){return f2(t)||h2(t)||d2(t)||m2()}function ly(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ly(Object(n),!0).forEach(function(r){wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var g2={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},y2=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pr(this,t),this.init(e,n)}return gr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||g2,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,uy(uy({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),vr=new y2,xi=function(){function t(){pr(this,t),this.observers={}}return gr(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(!!this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var a=[].concat(this.observers[n]);a.forEach(function(l){l.apply(void 0,i)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(l){l.apply(l,[n].concat(i))})}}}]),t}();function co(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function cy(t){return t==null?"":""+t}function v2(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function Wf(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var a=r(s.shift());!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function fy(t,e,n){var r=Wf(t,e,Object),i=r.obj,s=r.k;i[s]=n}function _2(t,e,n,r){var i=Wf(t,e,Object),s=i.obj,a=i.k;s[a]=s[a]||[],r&&(s[a]=s[a].concat(n)),r||s[a].push(n)}function ru(t,e){var n=Wf(t,e),r=n.obj,i=n.k;if(!!r)return r[i]}function b2(t,e,n){var r=ru(t,n);return r!==void 0?r:ru(e,n)}function hy(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):hy(t[r],e[r],n):t[r]=e[r]);return t}function Hs(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var E2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function S2(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return E2[e]}):t}var iu=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,w2=[" ",",","?","!",";"];function x2(t,e,n){e=e||"",n=n||"";var r=w2.filter(function(o){return e.indexOf(o)<0&&n.indexOf(o)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(o){return o==="?"?"\\?":o}).join("|"),")")),s=!i.test(t);if(!s){var a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s}function su(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var a=2,o=r.slice(s,s+a).join(n),l=i[o];l===void 0&&r.length>s+a;)a++,o=r.slice(s,s+a).join(n),l=i[o];if(l===void 0)return;if(l===null)return null;if(e.endsWith(o)){if(typeof l=="string")return l;if(o&&typeof l[o]=="string")return l[o]}var u=r.slice(s+a).join(n);return u?su(l,u,n):void 0}i=i[r[s]]}return i}}function dy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dy(Object(n),!0).forEach(function(r){wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O2(t){var e=M2();return function(){var r=yr(t),i;if(e){var s=yr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return uo(this,i)}}function M2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var T2=function(t){nu(n,t);var e=O2(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return pr(this,n),i=e.call(this),iu&&xi.call(Si(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return gr(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[i,s];a&&typeof a!="string"&&(f=f.concat(a)),a&&typeof a=="string"&&(f=f.concat(l?a.split(l):a)),i.indexOf(".")>-1&&(f=i.split("."));var c=ru(this.data,f);return c||!u||typeof a!="string"?c:su(this.data&&this.data[i]&&this.data[i][s],a,l)}},{key:"addResource",value:function(i,s,a,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,f=[i,s];a&&(f=f.concat(u?a.split(u):a)),i.indexOf(".")>-1&&(f=i.split("."),o=s,s=f[1]),this.addNamespaces(s),fy(this.data,f,o),l.silent||this.emit("added",i,s,a,o)}},{key:"addResources",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in a)(typeof a[l]=="string"||Object.prototype.toString.apply(a[l])==="[object Array]")&&this.addResource(i,s,l,a[l],{silent:!0});o.silent||this.emit("added",i,s,a)}},{key:"addResourceBundle",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[i,s];i.indexOf(".")>-1&&(f=i.split("."),o=a,a=s,s=f[1]),this.addNamespaces(s);var c=ru(this.data,f)||{};o?hy(c,a,l):c=au(au({},c),a),fy(this.data,f,c),u.silent||this.emit("added",i,s,a)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?au(au({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),a=s&&Object.keys(s)||[];return!!a.find(function(o){return s[o]&&Object.keys(s[o]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(xi),my={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var a=this;return e.forEach(function(o){a.processors[o]&&(n=a.processors[o].process(n,r,i,s))}),n}};function py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?py(Object(n),!0).forEach(function(r){wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N2(t){var e=C2();return function(){var r=yr(t),i;if(e){var s=yr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return uo(this,i)}}function C2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var gy={},yy=function(t){nu(n,t);var e=N2(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pr(this,n),i=e.call(this),iu&&xi.call(Si(i)),v2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Si(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=vr.create("translator"),i}return gr(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var a=this.resolve(i,s);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(i,s){var a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS||[],u=a&&i.indexOf(a)>-1,f=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!x2(i,a,o);if(u&&!f){var c=i.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:i,namespaces:l};var h=i.split(a);(a!==o||a===o&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),i=h.join(o)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,a){var o=this;if(Pn(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),Pn(s)==="object"&&(s=Wt({},s)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=this.extractFromKey(i[i.length-1],s),c=f.key,h=f.namespaces,d=h[h.length-1],m=s.lng||this.language,p=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(p){var g=s.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(d).concat(g).concat(c),usedKey:c,exactUsedKey:c,usedLng:m,usedNS:d}:"".concat(d).concat(g).concat(c)}return l?{res:c,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:d}:c}var y=this.resolve(i,s),v=y&&y.res,b=y&&y.usedKey||c,E=y&&y.exactUsedKey||c,O=Object.prototype.toString.apply(v),N=["[object Number]","[object Function]","[object RegExp]"],M=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,k=typeof v!="string"&&typeof v!="boolean"&&typeof v!="number";if(A&&v&&k&&N.indexOf(O)<0&&!(typeof M=="string"&&O==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,v,Wt(Wt({},s),{},{ns:h})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return l?(y.res=C,y):C}if(u){var R=O==="[object Array]",I=R?[]:{},ee=R?E:b;for(var be in v)if(Object.prototype.hasOwnProperty.call(v,be)){var T="".concat(ee).concat(u).concat(be);I[be]=this.translate(T,Wt(Wt({},s),{joinArrays:!1,ns:h})),I[be]===T&&(I[be]=v[be])}v=I}}else if(A&&typeof M=="string"&&O==="[object Array]")v=v.join(M),v&&(v=this.extendTranslation(v,i,s,a));else{var $=!1,z=!1,K=s.count!==void 0&&typeof s.count!="string",Pe=n.hasDefaultValue(s),ke=K?this.pluralResolver.getSuffix(m,s.count,s):"",_t=s["defaultValue".concat(ke)]||s.defaultValue;!this.isValidLookup(v)&&Pe&&($=!0,v=_t),this.isValidLookup(v)||(z=!0,v=c);var Xt=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Ne=Xt&&z?void 0:v,Rt=Pe&&_t!==v&&this.options.updateMissing;if(z||$||Rt){if(this.logger.log(Rt?"updateKey":"missingKey",m,d,c,Rt?_t:v),u){var ut=this.resolve(c,Wt(Wt({},s),{},{keySeparator:!1}));ut&&ut.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Or=[],Ie=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ie&&Ie[0])for(var fn=0;fn<Ie.length;fn++)Or.push(Ie[fn]);else this.options.saveMissingTo==="all"?Or=this.languageUtils.toResolveHierarchy(s.lng||this.language):Or.push(s.lng||this.language);var Mr=function($t,Tr,Jr){var _=Pe&&Jr!==v?Jr:Ne;o.options.missingKeyHandler?o.options.missingKeyHandler($t,d,Tr,_,Rt,s):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing($t,d,Tr,_,Rt,s),o.emit("missingKey",$t,d,Tr,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?Or.forEach(function(Zr){o.pluralResolver.getSuffixes(Zr,s).forEach(function($t){Mr([Zr],c+$t,s["defaultValue".concat($t)]||_t)})}):Mr(Or,c,_t))}v=this.extendTranslation(v,i,s,y,a),z&&v===c&&this.options.appendNamespaceToMissingKey&&(v="".concat(d,":").concat(c)),(z||$)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(c):c,$?v:void 0):v=this.options.parseMissingKeyHandler(v))}return l?(y.res=v,y):v}},{key:"extendTranslation",value:function(i,s,a,o,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Wt(Wt({},this.options.interpolation.defaultVariables),a),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(Wt(Wt({},a),{interpolation:Wt(Wt({},this.options.interpolation),a.interpolation)}));var f=typeof i=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(f){var h=i.match(this.interpolator.nestingRegexp);c=h&&h.length}var d=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(d=Wt(Wt({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,a.lng||this.language,a),f){var m=i.match(this.interpolator.nestingRegexp),p=m&&m.length;c<p&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(a.lng=o.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var v=arguments.length,b=new Array(v),E=0;E<v;E++)b[E]=arguments[E];return l&&l[0]===b[0]&&!a.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(b[0]," in key: ").concat(s[0])),null):u.translate.apply(u,b.concat([s]))},a)),a.interpolation&&this.interpolator.reset()}var g=a.postProcess||this.options.postProcess,y=typeof g=="string"?[g]:g;return i!=null&&y&&y.length&&a.applyPostProcessor!==!1&&(i=my.handle(y,i,s,this.options&&this.options.postProcessPassResolved?Wt({i18nResolved:o},a):a,this)),i}},{key:"resolve",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,l,u,f,c;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!s.isValidLookup(o)){var d=s.extractFromKey(h,a),m=d.key;l=m;var p=d.namespaces;s.options.fallbackNS&&(p=p.concat(s.options.fallbackNS));var g=a.count!==void 0&&typeof a.count!="string",y=g&&!a.ordinal&&a.count===0&&s.pluralResolver.shouldUseIntlApi(),v=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",b=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);p.forEach(function(E){s.isValidLookup(o)||(c=E,!gy["".concat(b[0],"-").concat(E)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(c)&&(gy["".concat(b[0],"-").concat(E)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(b.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(function(O){if(!s.isValidLookup(o)){f=O;var N=[m];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(N,m,O,E,a);else{var M;g&&(M=s.pluralResolver.getSuffix(O,a.count,a));var A="".concat(s.options.pluralSeparator,"zero");if(g&&(N.push(m+M),y&&N.push(m+A)),v){var k="".concat(m).concat(s.options.contextSeparator).concat(a.context);N.push(k),g&&(N.push(k+M),y&&N.push(k+A))}}for(var C;C=N.pop();)s.isValidLookup(o)||(u=C,o=s.getResource(O,E,C,a))}}))})}}),{res:o,usedKey:l,exactUsedKey:u,usedLng:f,usedNS:c}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,a,o):this.resourceStore.getResource(i,s,a,o)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&s===a.substring(0,s.length)&&i[a]!==void 0)return!0;return!1}}]),n}(xi);function qf(t){return t.charAt(0).toUpperCase()+t.slice(1)}var vy=function(){function t(e){pr(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vr.create("languageUtils")}return gr(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=qf(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=qf(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=qf(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var a=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(a))&&(i=a)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var a=r.getLanguagePartFromCode(s);if(r.isSupportedCode(a))return i=a;i=r.options.supportedLngs.find(function(o){if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&o.indexOf(a)===0)return o})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),a=[],o=function(u){!u||(i.isSupportedCode(u)?a.push(u):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(n))):typeof n=="string"&&o(this.formatLanguageCode(n)),s.forEach(function(l){a.indexOf(l)<0&&o(i.formatLanguageCode(l))}),a}}]),t}(),L2=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],P2={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},A2=["v1","v2","v3"],_y={zero:0,one:1,two:2,few:3,many:4,other:5};function k2(){var t={};return L2.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:P2[e.fc]}})}),t}var D2=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pr(this,t),this.languageUtils=e,this.options=n,this.logger=vr.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=k2()}return gr(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(a,o){return _y[a]-_y[o]}).map(function(a){return"".concat(r.options.prepend).concat(a)}):s.numbers.map(function(a){return r.getSuffix(n,a,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),a=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var o=function(){return i.options.prepend&&a.toString()?i.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?o():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!A2.includes(this.options.compatibilityJSON)}}]),t}();function by(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?by(Object(n),!0).forEach(function(r){wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ey(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=b2(t,e,n);return!s&&i&&typeof n=="string"&&(s=su(t,n,r),s===void 0&&(s=su(e,n,r))),s}var I2=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pr(this,t),this.logger=vr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return gr(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:S2,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Hs(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Hs(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Hs(r.nestingPrefix):r.nestingPrefixEscaped||Hs("$t("),this.nestingSuffix=r.nestingSuffix?Hs(r.nestingSuffix):r.nestingSuffixEscaped||Hs(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var a=this,o,l,u,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(g){return g.replace(/\$/g,"$$$$")}var h=function(y){if(y.indexOf(a.formatSeparator)<0){var v=Ey(r,f,y,a.options.keySeparator,a.options.ignoreJSONStructure);return a.alwaysFormat?a.format(v,void 0,i,zn(zn(zn({},s),r),{},{interpolationkey:y})):v}var b=y.split(a.formatSeparator),E=b.shift().trim(),O=b.join(a.formatSeparator).trim();return a.format(Ey(r,f,E,a.options.keySeparator,a.options.ignoreJSONStructure),O,i,zn(zn(zn({},s),r),{},{interpolationkey:E}))};this.resetRegExp();var d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,p=[{regex:this.regexpUnescape,safeValue:function(y){return c(y)}},{regex:this.regexp,safeValue:function(y){return a.escapeValue?c(a.escape(y)):c(y)}}];return p.forEach(function(g){for(u=0;o=g.regex.exec(n);){var y=o[1].trim();if(l=h(y),l===void 0)if(typeof d=="function"){var v=d(n,o,s);l=typeof v=="string"?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))l="";else if(m){l=o[0];continue}else a.logger.warn("missed to pass in variable ".concat(y," for interpolating ").concat(n)),l="";else typeof l!="string"&&!a.useRawValueToEscape&&(l=cy(l));var b=g.safeValue(l);if(n=n.replace(o[0],b),m?(g.regex.lastIndex+=l.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,u++,u>=a.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,l;function u(d,m){var p=this.nestingOptionsSeparator;if(d.indexOf(p)<0)return d;var g=d.split(new RegExp("".concat(p,"[ ]*{"))),y="{".concat(g[1]);d=g[0],y=this.interpolate(y,l);var v=y.match(/'/g),b=y.match(/"/g);(v&&v.length%2===0&&!b||b.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),m&&(l=zn(zn({},m),l))}catch(E){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),E),"".concat(d).concat(p).concat(y)}return delete l.defaultValue,d}for(;a=this.nestingRegexp.exec(n);){var f=[];l=zn({},s),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var c=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var h=a[1].split(this.formatSeparator).map(function(d){return d.trim()});a[1]=h.shift(),f=h,c=!0}if(o=r(u.call(this,a[1].trim(),l),l),o&&a[0]===n&&typeof o!="string")return o;typeof o!="string"&&(o=cy(o)),o||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(n)),o=""),c&&(o=f.reduce(function(d,m){return i.format(d,m,s.lng,zn(zn({},s),{},{interpolationkey:a[1].trim()}))},o.trim())),n=n.replace(a[0],o),this.regexp.lastIndex=0}return n}}]),t}();function Sy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sy(Object(n),!0).forEach(function(r){wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R2(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(a){if(!!a){var o=a.split(":"),l=p2(o),u=l[0],f=l.slice(1),c=f.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=c),c==="false"&&(n[u.trim()]=!1),c==="true"&&(n[u.trim()]=!0),isNaN(c)||(n[u.trim()]=parseInt(c,10))}})}}return{formatName:e,formatOptions:n}}function zs(t){var e={};return function(r,i,s){var a=i+JSON.stringify(s),o=e[a];return o||(o=t(i,s),e[a]=o),o(r)}}var $2=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pr(this,t),this.logger=vr.create("formatter"),this.options=e,this.formats={number:zs(function(n,r){var i=new Intl.NumberFormat(n,jr({},r));return function(s){return i.format(s)}}),currency:zs(function(n,r){var i=new Intl.NumberFormat(n,jr(jr({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:zs(function(n,r){var i=new Intl.DateTimeFormat(n,jr({},r));return function(s){return i.format(s)}}),relativetime:zs(function(n,r){var i=new Intl.RelativeTimeFormat(n,jr({},r));return function(s){return i.format(s,r.range||"day")}}),list:zs(function(n,r){var i=new Intl.ListFormat(n,jr({},r));return function(s){return i.format(s)}})},this.init(e)}return gr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=zs(r)}},{key:"format",value:function(n,r,i){var s=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=r.split(this.formatSeparator),l=o.reduce(function(u,f){var c=R2(f),h=c.formatName,d=c.formatOptions;if(s.formats[h]){var m=u;try{var p=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},g=p.locale||p.lng||a.locale||a.lng||i;m=s.formats[h](u,g,jr(jr(jr({},d),a),p))}catch(y){s.logger.warn(y)}return m}else s.logger.warn("there was no format function for ".concat(h));return u},n);return l}}]),t}();function wy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wy(Object(n),!0).forEach(function(r){wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F2(t){var e=V2();return function(){var r=yr(t),i;if(e){var s=yr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return uo(this,i)}}function V2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j2(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var G2=function(t){nu(n,t);var e=F2(n);function n(r,i,s){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return pr(this,n),a=e.call(this),iu&&xi.call(Si(a)),a.backend=r,a.store=i,a.services=s,a.languageUtils=s.languageUtils,a.options=o,a.logger=vr.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(s,o.backend,o),a}return gr(n,[{key:"queueLoad",value:function(i,s,a,o){var l=this,u={},f={},c={},h={};return i.forEach(function(d){var m=!0;s.forEach(function(p){var g="".concat(d,"|").concat(p);!a.reload&&l.store.hasResourceBundle(d,p)?l.state[g]=2:l.state[g]<0||(l.state[g]===1?f[g]===void 0&&(f[g]=!0):(l.state[g]=1,m=!1,f[g]===void 0&&(f[g]=!0),u[g]===void 0&&(u[g]=!0),h[p]===void 0&&(h[p]=!0)))}),m||(c[d]=!0)}),(Object.keys(u).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(u),pending:Object.keys(f),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,s,a){var o=i.split("|"),l=o[0],u=o[1];s&&this.emit("failedLoading",l,u,s),a&&this.store.addResourceBundle(l,u,a),this.state[i]=s?-1:2;var f={};this.queue.forEach(function(c){_2(c.loaded,[l],u),j2(c,i),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(function(h){f[h]||(f[h]={});var d=c.loaded[h];d.length&&d.forEach(function(m){f[h][m]===void 0&&(f[h][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(i,s,a){var o=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:a,tried:l,wait:u,callback:f});return}this.readingCalls++;var c=function(p,g){if(o.readingCalls--,o.waitingReads.length>0){var y=o.waitingReads.shift();o.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(p&&g&&l<o.maxRetries){setTimeout(function(){o.read.call(o,i,s,a,l+1,u*2,f)},u);return}f(p,g)},h=this.backend[a].bind(this.backend);if(h.length===2){try{var d=h(i,s);d&&typeof d.then=="function"?d.then(function(m){return c(null,m)}).catch(c):c(null,d)}catch(m){c(m)}return}return h(i,s,c)}},{key:"prepareLoading",value:function(i,s){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,o,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(f){a.loadOne(f)})}},{key:"load",value:function(i,s,a){this.prepareLoading(i,s,{},a)}},{key:"reload",value:function(i,s,a){this.prepareLoading(i,s,{reload:!0},a)}},{key:"loadOne",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=i.split("|"),l=o[0],u=o[1];this.read(l,u,"read",void 0,void 0,function(f,c){f&&s.logger.warn("".concat(a,"loading namespace ").concat(u," for language ").concat(l," failed"),f),!f&&c&&s.logger.log("".concat(a,"loaded namespace ").concat(u," for language ").concat(l),c),s.loaded(i,f,c)})}},{key:"saveMissing",value:function(i,s,a,o,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var c=xy(xy({},u),{},{isUpdate:l}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var d;h.length===5?d=h(i,s,a,o,c):d=h(i,s,a,o),d&&typeof d.then=="function"?d.then(function(m){return f(null,m)}).catch(f):f(null,d)}catch(m){f(m)}else h(i,s,a,o,f,c)}!i||!i[0]||this.store.addResource(i[0],s,a,o)}}}]),n}(xi);function Oy(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(Pn(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),Pn(e[2])==="object"||Pn(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function My(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Ty(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ty(Object(n),!0).forEach(function(r){wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ty(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U2(t){var e=B2();return function(){var r=yr(t),i;if(e){var s=yr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return uo(this,i)}}function B2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ou(){}function W2(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var lu=function(t){nu(n,t);var e=U2(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(pr(this,n),r=e.call(this),iu&&xi.call(Si(r)),r.options=My(i),r.services={},r.logger=vr,r.modules={external:[]},W2(Si(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),uo(r,Si(r));setTimeout(function(){r.init(i,s)},0)}return r}return gr(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var o=Oy();this.options=_r(_r(_r({},o),this.options),My(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=_r(_r({},o.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function l(y){return y?typeof y=="function"?new y:y:null}if(!this.options.isClone){this.modules.logger?vr.init(l(this.modules.logger),this.options):vr.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=$2);var f=new vy(this.options);this.store=new T2(this.options.resources,this.options);var c=this.services;c.logger=vr,c.resourceStore=this.store,c.languageUtils=f,c.pluralResolver=new D2(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(c.formatter=l(u),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new I2(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new G2(l(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(y){for(var v=arguments.length,b=new Array(v>1?v-1:0),E=1;E<v;E++)b[E-1]=arguments[E];i.emit.apply(i,[y].concat(b))}),this.modules.languageDetector&&(c.languageDetector=l(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=l(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new yy(this.services,this.options),this.translator.on("*",function(y){for(var v=arguments.length,b=new Array(v>1?v-1:0),E=1;E<v;E++)b[E-1]=arguments[E];i.emit.apply(i,[y].concat(b))}),this.modules.external.forEach(function(y){y.init&&y.init(i)})}if(this.format=this.options.interpolation.format,a||(a=ou),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(y){i[y]=function(){var v;return(v=i.store)[y].apply(v,arguments)}});var m=["addResource","addResources","addResourceBundle","removeResourceBundle"];m.forEach(function(y){i[y]=function(){var v;return(v=i.store)[y].apply(v,arguments),i}});var p=co(),g=function(){var v=function(E,O){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),p.resolve(O),a(E,O)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return v(null,i.t.bind(i));i.changeLanguage(i.options.lng,v)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),p}},{key:"loadResources",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ou,o=a,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(o=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return o();var u=[],f=function(d){if(!!d){var m=s.services.languageUtils.toResolveHierarchy(d);m.forEach(function(p){u.indexOf(p)<0&&u.push(p)})}};if(l)f(l);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(h){return f(h)})}this.options.preload&&this.options.preload.forEach(function(h){return f(h)}),this.services.backendConnector.load(u,this.options.ns,function(h){!h&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),o(h)})}else o(null)}},{key:"reloadResources",value:function(i,s,a){var o=co();return i||(i=this.languages),s||(s=this.options.ns),a||(a=ou),this.services.backendConnector.reload(i,s,function(l){o.resolve(),a(l)}),o}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&my.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(i,s){var a=this;this.isLanguageChangingTo=i;var o=co();this.emit("languageChanging",i);var l=function(h){a.language=h,a.languages=a.services.languageUtils.toResolveHierarchy(h),a.resolvedLanguage=void 0,a.setResolvedLanguage(h)},u=function(h,d){d?(l(d),a.translator.changeLanguage(d),a.isLanguageChangingTo=void 0,a.emit("languageChanged",d),a.logger.log("languageChanged",d)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),s&&s(h,function(){return a.t.apply(a,arguments)})},f=function(h){!i&&!h&&a.services.languageDetector&&(h=[]);var d=typeof h=="string"?h:a.services.languageUtils.getBestMatchFromCodes(h);d&&(a.language||l(d),a.translator.language||a.translator.changeLanguage(d),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(d)),a.loadResources(d,function(m){u(m,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),o}},{key:"getFixedT",value:function(i,s,a){var o=this,l=function u(f,c){var h;if(Pn(c)!=="object"){for(var d=arguments.length,m=new Array(d>2?d-2:0),p=2;p<d;p++)m[p-2]=arguments[p];h=o.options.overloadTranslationOptionHandler([f,c].concat(m))}else h=_r({},c);h.lng=h.lng||u.lng,h.lngs=h.lngs||u.lngs,h.ns=h.ns||u.ns,h.keyPrefix=h.keyPrefix||a||u.keyPrefix;var g=o.options.keySeparator||".",y;return h.keyPrefix&&Array.isArray(f)?y=f.map(function(v){return"".concat(h.keyPrefix).concat(g).concat(v)}):y=h.keyPrefix?"".concat(h.keyPrefix).concat(g).concat(f):f,o.t(y,h)};return typeof i=="string"?l.lng=i:l.lngs=i,l.ns=s,l.keyPrefix=a,l}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=a.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var f=function(d,m){var p=s.services.backendConnector.state["".concat(d,"|").concat(m)];return p===-1||p===2};if(a.precheck){var c=a.precheck(this,f);if(c!==void 0)return c}return!!(this.hasResourceBundle(o,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(o,i)&&(!l||f(u,i)))}},{key:"loadNamespaces",value:function(i,s){var a=this,o=co();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){a.options.ns.indexOf(l)<0&&a.options.ns.push(l)}),this.loadResources(function(l){o.resolve(),s&&s(l)}),o):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var a=co();typeof i=="string"&&(i=[i]);var o=this.options.preload||[],l=i.filter(function(u){return o.indexOf(u)<0});return l.length?(this.options.preload=o.concat(l),this.loadResources(function(u){a.resolve(),s&&s(u)}),a):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new vy(Oy());return s.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ou,o=_r(_r(_r({},this.options),s),{isClone:!0}),l=new n(o);(s.debug!==void 0||s.prefix!==void 0)&&(l.logger=l.logger.clone(s));var u=["store","services","language"];return u.forEach(function(f){l[f]=i[f]}),l.services=_r({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new yy(l.services,l.options),l.translator.on("*",function(f){for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];l.emit.apply(l,[f].concat(h))}),l.init(o,a),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(xi);wi(lu,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new lu(t,e)});var st=lu.createInstance();st.createInstance=lu.createInstance,st.createInstance,st.dir,st.init,st.loadResources,st.reloadResources,st.use,st.changeLanguage,st.getFixedT,st.t,st.exists,st.setDefaultNamespace,st.hasLoadedNamespace,st.loadNamespaces,st.loadLanguages;const q2="/";var Ny=(t=>(t.PNG="image/png",t.JPG="image/jpeg",t))(Ny||{}),Gr=(t=>(t.VALUE="value",t.RANGE="range",t))(Gr||{}),uu=(t=>(t.DATEPICKER="datepicker",t.SLIDER="slider",t))(uu||{}),Hf;function Cy(t,{i18next:e,rerenderOn:n=["languageChanged","loaded","added","removed"],slotStart:r="{",slotEnd:i="}"}){const s=e.t.bind(e),a=Ee(new Date),o=()=>a.value=new Date,l=()=>a.value;n.forEach(h=>{var d;switch(h){case"added":case"removed":(d=e.store)==null||d.on(h,o);break;default:e.on(h,o);break}}),t.component("i18next",Y2),t.mixin({beforeCreate(){var h,d;const m=this.$options;if(!m.__i18n&&!m.i18nOptions){this.__translate=void 0;return}const p=this.$options.name,g=(Math.random()*10**8|0).toString(),y=[p,g].filter(M=>!!M).join("-");this.__bundles=[];const v=M=>{Object.entries(M).forEach(([A,k])=>{e.addResourceBundle(A,y,k,!0,!1),this.__bundles.push([A,y])})};(h=m.__i18n)==null||h.forEach(M=>{v(JSON.parse(M))});let{lng:b,ns:E,keyPrefix:O}=c(m,v);(d=this.__bundles)!=null&&d.length&&(E=[y].concat(E!=null?E:[]));const N=u(b,E);this.__translate=(M,A)=>!O||f(M)?N(M,A):N(O+"."+M,A)},unmounted(){var h;(h=this.__bundles)==null||h.forEach(([d,m])=>e.removeResourceBundle(d,m))}}),t.config.globalProperties.$t=function(h,d){var m;return l(),e.isInitialized?((m=this==null?void 0:this.__translate)!=null?m:s)(h,d):h},t.config.globalProperties.$i18next=new Proxy(e,{get(h,d){return l(),Reflect.get(h,d)}}),Hf=z2(r,i);function u(h,d){return h?e.getFixedT(h,d):d?e.getFixedT(null,d):s}function f(h){const d=e.options.nsSeparator;return typeof d=="string"&&h.includes(d)}function c(h,d){let m,p,g;if(h.i18nOptions){let y,v;({lng:m,namespaces:v=e.options.defaultNS,keyPrefix:g,messages:y}=h.i18nOptions),y&&d(y),p=typeof v=="string"?[v]:v,p&&e.loadNamespaces(p)}return{lng:m,ns:p,keyPrefix:g}}}function Xe(){const t=H2(),e=t.appContext.config.globalProperties;return{i18next:e.$i18next,t:e.$t.bind(t.proxy)}}function H2(){const t=Ia();if(!t)throw new Error("i18next-vue: No Vue instance in context. Make sure to register the i18next-vue plugin using app.use(...).");return t}function z2(t,e){const n=`${t}\\s*([a-z0-9\\-]+)\\s*${e}`;return new RegExp(n,"gi")}var Y2=he({props:{translation:{type:String,required:!0}},setup(t,{slots:e}){return()=>{const n=t.translation,r=[];let i,s=0;for(;(i=Hf.exec(n))!==null;){r.push(n.substring(s,i.index));const a=e[i[1]];a?r.push(...a()):r.push(i[0]),s=Hf.lastIndex}return r.push(n.substring(s)),r}}});class us extends Error{}class X2 extends us{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class K2 extends us{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Z2 extends us{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Ys extends us{}class Ly extends us{constructor(e){super(`Invalid unit ${e}`)}}class un extends us{}class Oi extends us{constructor(){super("Zone is an abstract class")}}const re="numeric",Yn="short",vn="long",cu={year:re,month:re,day:re},Py={year:re,month:Yn,day:re},J2={year:re,month:Yn,day:re,weekday:Yn},Ay={year:re,month:vn,day:re},ky={year:re,month:vn,day:re,weekday:vn},Dy={hour:re,minute:re},Iy={hour:re,minute:re,second:re},Ry={hour:re,minute:re,second:re,timeZoneName:Yn},$y={hour:re,minute:re,second:re,timeZoneName:vn},Fy={hour:re,minute:re,hourCycle:"h23"},Vy={hour:re,minute:re,second:re,hourCycle:"h23"},jy={hour:re,minute:re,second:re,hourCycle:"h23",timeZoneName:Yn},Gy={hour:re,minute:re,second:re,hourCycle:"h23",timeZoneName:vn},Uy={year:re,month:re,day:re,hour:re,minute:re},By={year:re,month:re,day:re,hour:re,minute:re,second:re},Wy={year:re,month:Yn,day:re,hour:re,minute:re},qy={year:re,month:Yn,day:re,hour:re,minute:re,second:re},Q2={year:re,month:Yn,day:re,weekday:Yn,hour:re,minute:re},Hy={year:re,month:vn,day:re,hour:re,minute:re,timeZoneName:Yn},zy={year:re,month:vn,day:re,hour:re,minute:re,second:re,timeZoneName:Yn},Yy={year:re,month:vn,day:re,weekday:vn,hour:re,minute:re,timeZoneName:vn},Xy={year:re,month:vn,day:re,weekday:vn,hour:re,minute:re,second:re,timeZoneName:vn};class fo{get type(){throw new Oi}get name(){throw new Oi}get ianaName(){return this.name}get isUniversal(){throw new Oi}offsetName(e,n){throw new Oi}formatOffset(e,n){throw new Oi}offset(e){throw new Oi}equals(e){throw new Oi}get isValid(){throw new Oi}}let zf=null;class fu extends fo{static get instance(){return zf===null&&(zf=new fu),zf}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return _v(e,n,r)}formatOffset(e,n){return go(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let hu={};function eC(t){return hu[t]||(hu[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),hu[t]}const tC={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function nC(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,a,o,l,u,f]=r;return[a,i,s,o,l,u,f]}function rC(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:a}=n[i],o=tC[s];s==="era"?r[o]=a:we(o)||(r[o]=parseInt(a,10))}return r}let du={};class Ur extends fo{static create(e){return du[e]||(du[e]=new Ur(e)),du[e]}static resetCache(){du={},hu={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ur.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return _v(e,n,r,this.name)}formatOffset(e,n){return go(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=eC(this.name);let[i,s,a,o,l,u,f]=r.formatToParts?rC(r,n):nC(r,n);o==="BC"&&(i=-Math.abs(i)+1);const h=vu({year:i,month:s,day:a,hour:l===24?0:l,minute:u,second:f,millisecond:0});let d=+n;const m=d%1e3;return d-=m>=0?m:1e3+m,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Ky={};function iC(t,e={}){const n=JSON.stringify([t,e]);let r=Ky[n];return r||(r=new Intl.ListFormat(t,e),Ky[n]=r),r}let Yf={};function Xf(t,e={}){const n=JSON.stringify([t,e]);let r=Yf[n];return r||(r=new Intl.DateTimeFormat(t,e),Yf[n]=r),r}let Kf={};function sC(t,e={}){const n=JSON.stringify([t,e]);let r=Kf[n];return r||(r=new Intl.NumberFormat(t,e),Kf[n]=r),r}let Zf={};function aC(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=Zf[i];return s||(s=new Intl.RelativeTimeFormat(t,e),Zf[i]=s),s}let ho=null;function oC(){return ho||(ho=new Intl.DateTimeFormat().resolvedOptions().locale,ho)}let Zy={};function lC(t){let e=Zy[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,Zy[t]=e}return e}function uC(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=Xf(t).resolvedOptions(),i=t}catch{const l=t.substring(0,n);r=Xf(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:a}=r;return[i,s,a]}}function cC(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function fC(t){const e=[];for(let n=1;n<=12;n++){const r=Oe.utc(2009,n,1);e.push(t(r))}return e}function hC(t){const e=[];for(let n=1;n<=7;n++){const r=Oe.utc(2016,11,13+n);e.push(t(r))}return e}function mu(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function dC(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class mC{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...a}=r;if(!n||Object.keys(a).length>0){const o={useGrouping:!1,...r};r.padTo>0&&(o.minimumIntegerDigits=r.padTo),this.inf=sC(e,o)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):ih(e,3);return wt(n,this.padTo)}}}class pC{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&Ur.create(o).valid?(i=o,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=Xf(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class gC{constructor(e,n,r){this.opts={style:"long",...r},!n&&pv()&&(this.rtf=aC(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):RC(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const yC={firstDay:1,minimalDays:4,weekend:[6,7]};class Je{static fromOpts(e){return Je.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const a=e||yt.defaultLocale,o=a||(s?"en-US":oC()),l=n||yt.defaultNumberingSystem,u=r||yt.defaultOutputCalendar,f=nh(i)||yt.defaultWeekSettings;return new Je(o,l,u,f,a)}static resetCache(){ho=null,Yf={},Kf={},Zf={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Je.create(e,n,r,i)}constructor(e,n,r,i,s){const[a,o,l]=uC(e);this.locale=a,this.numberingSystem=n||o||null,this.outputCalendar=r||l||null,this.weekSettings=i,this.intl=cC(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=dC(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Je.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,nh(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return mu(this,e,Sv,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=fC(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return mu(this,e,Ov,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=hC(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return mu(this,void 0,()=>Mv,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Oe.utc(2016,11,13,9),Oe.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return mu(this,e,Tv,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Oe.utc(-40,1,1),Oe.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new mC(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new pC(e,this.intl,n)}relFormatter(e={}){return new gC(this.intl,this.isEnglish(),e)}listFormatter(e={}){return iC(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:gv()?lC(this.locale):yC}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Jf=null;class tn extends fo{static get utcInstance(){return Jf===null&&(Jf=new tn(0)),Jf}static instance(e){return e===0?tn.utcInstance:new tn(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new tn(_u(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${go(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${go(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return go(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class vC extends fo{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Mi(t,e){if(we(t)||t===null)return e;if(t instanceof fo)return t;if(EC(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?fu.instance:n==="utc"||n==="gmt"?tn.utcInstance:tn.parseSpecifier(n)||Ur.create(t)}else return cs(t)?tn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new vC(t)}let Jy=()=>Date.now(),Qy="system",ev=null,tv=null,nv=null,rv=60,iv,sv=null;class yt{static get now(){return Jy}static set now(e){Jy=e}static set defaultZone(e){Qy=e}static get defaultZone(){return Mi(Qy,fu.instance)}static get defaultLocale(){return ev}static set defaultLocale(e){ev=e}static get defaultNumberingSystem(){return tv}static set defaultNumberingSystem(e){tv=e}static get defaultOutputCalendar(){return nv}static set defaultOutputCalendar(e){nv=e}static get defaultWeekSettings(){return sv}static set defaultWeekSettings(e){sv=nh(e)}static get twoDigitCutoffYear(){return rv}static set twoDigitCutoffYear(e){rv=e%100}static get throwOnInvalid(){return iv}static set throwOnInvalid(e){iv=e}static resetCaches(){Je.resetCache(),Ur.resetCache()}}class Xn{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const av=[0,31,59,90,120,151,181,212,243,273,304,334],ov=[0,31,60,91,121,152,182,213,244,274,305,335];function An(t,e){return new Xn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Qf(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function lv(t,e,n){return n+(mo(t)?ov:av)[e-1]}function uv(t,e){const n=mo(t)?ov:av,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function eh(t,e){return(t-e+7)%7+1}function pu(t,e=4,n=1){const{year:r,month:i,day:s}=t,a=lv(r,i,s),o=eh(Qf(r,i,s),n);let l=Math.floor((a-o+14-e)/7),u;return l<1?(u=r-1,l=po(u,e,n)):l>po(r,e,n)?(u=r+1,l=1):u=r,{weekYear:u,weekNumber:l,weekday:o,...Eu(t)}}function cv(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,a=eh(Qf(r,1,e),n),o=Ks(r);let l=i*7+s-a-7+e,u;l<1?(u=r-1,l+=Ks(u)):l>o?(u=r+1,l-=Ks(r)):u=r;const{month:f,day:c}=uv(u,l);return{year:u,month:f,day:c,...Eu(t)}}function th(t){const{year:e,month:n,day:r}=t,i=lv(e,n,r);return{year:e,ordinal:i,...Eu(t)}}function fv(t){const{year:e,ordinal:n}=t,{month:r,day:i}=uv(e,n);return{year:e,month:r,day:i,...Eu(t)}}function hv(t,e){if(!we(t.localWeekday)||!we(t.localWeekNumber)||!we(t.localWeekYear)){if(!we(t.weekday)||!we(t.weekNumber)||!we(t.weekYear))throw new Ys("Cannot mix locale-based week fields with ISO-based week fields");return we(t.localWeekday)||(t.weekday=t.localWeekday),we(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),we(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function _C(t,e=4,n=1){const r=gu(t.weekYear),i=kn(t.weekNumber,1,po(t.weekYear,e,n)),s=kn(t.weekday,1,7);return r?i?s?!1:An("weekday",t.weekday):An("week",t.weekNumber):An("weekYear",t.weekYear)}function bC(t){const e=gu(t.year),n=kn(t.ordinal,1,Ks(t.year));return e?n?!1:An("ordinal",t.ordinal):An("year",t.year)}function dv(t){const e=gu(t.year),n=kn(t.month,1,12),r=kn(t.day,1,yu(t.year,t.month));return e?n?r?!1:An("day",t.day):An("month",t.month):An("year",t.year)}function mv(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=kn(e,0,23)||e===24&&n===0&&r===0&&i===0,a=kn(n,0,59),o=kn(r,0,59),l=kn(i,0,999);return s?a?o?l?!1:An("millisecond",i):An("second",r):An("minute",n):An("hour",e)}function we(t){return typeof t>"u"}function cs(t){return typeof t=="number"}function gu(t){return typeof t=="number"&&t%1===0}function EC(t){return typeof t=="string"}function SC(t){return Object.prototype.toString.call(t)==="[object Date]"}function pv(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function gv(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function wC(t){return Array.isArray(t)?t:[t]}function yv(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function xC(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Xs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nh(t){if(t==null)return null;if(typeof t!="object")throw new un("Week settings must be an object");if(!kn(t.firstDay,1,7)||!kn(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!kn(e,1,7)))throw new un("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function kn(t,e,n){return gu(t)&&t>=e&&t<=n}function OC(t,e){return t-e*Math.floor(t/e)}function wt(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Ti(t){if(!(we(t)||t===null||t===""))return parseInt(t,10)}function fs(t){if(!(we(t)||t===null||t===""))return parseFloat(t)}function rh(t){if(!(we(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function ih(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function mo(t){return t%4===0&&(t%100!==0||t%400===0)}function Ks(t){return mo(t)?366:365}function yu(t,e){const n=OC(e-1,12)+1,r=t+(e-n)/12;return n===2?mo(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function vu(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function vv(t,e,n){return-eh(Qf(t,1,e),n)+e-1}function po(t,e=4,n=1){const r=vv(t,e,n),i=vv(t+1,e,n);return(Ks(t)-r+i)/7}function sh(t){return t>99?t:t>yt.twoDigitCutoffYear?1900+t:2e3+t}function _v(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const a={timeZoneName:e,...s},o=new Intl.DateTimeFormat(n,a).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function _u(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function bv(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new un(`Invalid unit value ${t}`);return e}function bu(t,e){const n={};for(const r in t)if(Xs(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=bv(i)}return n}function go(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${wt(n,2)}:${wt(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${wt(n,2)}${wt(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Eu(t){return xC(t,["hour","minute","second","millisecond"])}const MC=["January","February","March","April","May","June","July","August","September","October","November","December"],Ev=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],TC=["J","F","M","A","M","J","J","A","S","O","N","D"];function Sv(t){switch(t){case"narrow":return[...TC];case"short":return[...Ev];case"long":return[...MC];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const wv=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],xv=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],NC=["M","T","W","T","F","S","S"];function Ov(t){switch(t){case"narrow":return[...NC];case"short":return[...xv];case"long":return[...wv];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Mv=["AM","PM"],CC=["Before Christ","Anno Domini"],LC=["BC","AD"],PC=["B","A"];function Tv(t){switch(t){case"narrow":return[...PC];case"short":return[...LC];case"long":return[...CC];default:return null}}function AC(t){return Mv[t.hour<12?0:1]}function kC(t,e){return Ov(e)[t.weekday-1]}function DC(t,e){return Sv(e)[t.month-1]}function IC(t,e){return Tv(e)[t.year<0?0:1]}function RC(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const c=t==="days";switch(e){case 1:return c?"tomorrow":`next ${i[t][0]}`;case-1:return c?"yesterday":`last ${i[t][0]}`;case 0:return c?"today":`this ${i[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,u=i[t],f=r?l?u[1]:u[2]||u[1]:l?i[t][0]:t;return a?`${o} ${f} ago`:`in ${o} ${f}`}function Nv(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const $C={D:cu,DD:Py,DDD:Ay,DDDD:ky,t:Dy,tt:Iy,ttt:Ry,tttt:$y,T:Fy,TT:Vy,TTT:jy,TTTT:Gy,f:Uy,ff:Wy,fff:Hy,ffff:Yy,F:By,FF:qy,FFF:zy,FFFF:Xy};class qt{static create(e,n={}){return new qt(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||o===n?r+=o:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=o,n=o)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return $C[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return wt(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(d,m)=>this.loc.extract(e,d,m),a=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>r?AC(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,m)=>r?DC(e,d):s(m?{month:d}:{month:d,day:"numeric"},"month"),u=(d,m)=>r?kC(e,d):s(m?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),f=d=>{const m=qt.macroTokenToFormatOpts(d);return m?this.formatWithSystemDefault(e,m):d},c=d=>r?IC(e,d):s({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(d)}};return Nv(qt.parseFormat(n),h)}formatDurationFromString(e,n){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>u=>{const f=r(u);return f?this.num(l.get(f),u.length):u},s=qt.parseFormat(n),a=s.reduce((l,{literal:u,val:f})=>u?l:l.concat(f),[]),o=e.shiftTo(...a.map(r).filter(l=>l));return Nv(s,i(o))}}const Cv=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Zs(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Js(...t){return e=>t.reduce(([n,r,i],s)=>{const[a,o,l]=s(e,i);return[{...n,...a},o||r,l]},[{},null,1]).slice(0,2)}function Qs(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function Lv(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Ti(e[n+i]);return[r,null,n+i]}}const Pv=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,FC=`(?:${Pv.source}?(?:\\[(${Cv.source})\\])?)?`,ah=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Av=RegExp(`${ah.source}${FC}`),oh=RegExp(`(?:T${Av.source})?`),VC=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,jC=/(\d{4})-?W(\d\d)(?:-?(\d))?/,GC=/(\d{4})-?(\d{3})/,UC=Lv("weekYear","weekNumber","weekDay"),BC=Lv("year","ordinal"),WC=/(\d{4})-(\d\d)-(\d\d)/,kv=RegExp(`${ah.source} ?(?:${Pv.source}|(${Cv.source}))?`),qC=RegExp(`(?: ${kv.source})?`);function ea(t,e,n){const r=t[e];return we(r)?n:Ti(r)}function HC(t,e){return[{year:ea(t,e),month:ea(t,e+1,1),day:ea(t,e+2,1)},null,e+3]}function ta(t,e){return[{hours:ea(t,e,0),minutes:ea(t,e+1,0),seconds:ea(t,e+2,0),milliseconds:rh(t[e+3])},null,e+4]}function yo(t,e){const n=!t[e]&&!t[e+1],r=_u(t[e+1],t[e+2]),i=n?null:tn.instance(r);return[{},i,e+3]}function vo(t,e){const n=t[e]?Ur.create(t[e]):null;return[{},n,e+1]}const zC=RegExp(`^T?${ah.source}$`),YC=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function XC(t){const[e,n,r,i,s,a,o,l,u]=t,f=e[0]==="-",c=l&&l[0]==="-",h=(d,m=!1)=>d!==void 0&&(m||d&&f)?-d:d;return[{years:h(fs(n)),months:h(fs(r)),weeks:h(fs(i)),days:h(fs(s)),hours:h(fs(a)),minutes:h(fs(o)),seconds:h(fs(l),l==="-0"),milliseconds:h(rh(u),c)}]}const KC={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function lh(t,e,n,r,i,s,a){const o={year:e.length===2?sh(Ti(e)):Ti(e),month:Ev.indexOf(n)+1,day:Ti(r),hour:Ti(i),minute:Ti(s)};return a&&(o.second=Ti(a)),t&&(o.weekday=t.length>3?wv.indexOf(t)+1:xv.indexOf(t)+1),o}const ZC=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function JC(t){const[,e,n,r,i,s,a,o,l,u,f,c]=t,h=lh(e,i,r,n,s,a,o);let d;return l?d=KC[l]:u?d=0:d=_u(f,c),[h,new tn(d)]}function QC(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const eL=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,tL=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,nL=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Dv(t){const[,e,n,r,i,s,a,o]=t;return[lh(e,i,r,n,s,a,o),tn.utcInstance]}function rL(t){const[,e,n,r,i,s,a,o]=t;return[lh(e,o,n,r,i,s,a),tn.utcInstance]}const iL=Zs(VC,oh),sL=Zs(jC,oh),aL=Zs(GC,oh),oL=Zs(Av),Iv=Js(HC,ta,yo,vo),lL=Js(UC,ta,yo,vo),uL=Js(BC,ta,yo,vo),cL=Js(ta,yo,vo);function fL(t){return Qs(t,[iL,Iv],[sL,lL],[aL,uL],[oL,cL])}function hL(t){return Qs(QC(t),[ZC,JC])}function dL(t){return Qs(t,[eL,Dv],[tL,Dv],[nL,rL])}function mL(t){return Qs(t,[YC,XC])}const pL=Js(ta);function gL(t){return Qs(t,[zC,pL])}const yL=Zs(WC,qC),vL=Zs(kv),_L=Js(ta,yo,vo);function bL(t){return Qs(t,[yL,Iv],[vL,_L])}const Rv="Invalid Duration",$v={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},EL={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...$v},Dn=146097/400,na=146097/4800,SL={years:{quarters:4,months:12,weeks:Dn/7,days:Dn,hours:Dn*24,minutes:Dn*24*60,seconds:Dn*24*60*60,milliseconds:Dn*24*60*60*1e3},quarters:{months:3,weeks:Dn/28,days:Dn/4,hours:Dn*24/4,minutes:Dn*24*60/4,seconds:Dn*24*60*60/4,milliseconds:Dn*24*60*60*1e3/4},months:{weeks:na/7,days:na,hours:na*24,minutes:na*24*60,seconds:na*24*60*60,milliseconds:na*24*60*60*1e3},...$v},hs=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],wL=hs.slice(0).reverse();function Ni(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Re(r)}function Fv(t,e){var r;let n=(r=e.milliseconds)!=null?r:0;for(const i of wL.slice(1))e[i]&&(n+=e[i]*t[i].milliseconds);return n}function Vv(t,e){const n=Fv(t,e)<0?-1:1;hs.reduceRight((r,i)=>{if(we(e[i]))return r;if(r){const s=e[r]*n,a=t[i][r],o=Math.floor(s/a);e[i]+=o*n,e[r]-=o*a*n}return i},null),hs.reduce((r,i)=>{if(we(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function xL(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class Re{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?SL:EL;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Je.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return Re.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new un(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Re({values:bu(e,Re.normalizeUnit),loc:Je.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(cs(e))return Re.fromMillis(e);if(Re.isDuration(e))return e;if(typeof e=="object")return Re.fromObject(e);throw new un(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=mL(e);return r?Re.fromObject(r,n):Re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=gL(e);return r?Re.fromObject(r,n):Re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new un("need to specify a reason the Duration is invalid");const r=e instanceof Xn?e:new Xn(e,n);if(yt.throwOnInvalid)throw new Z2(r);return new Re({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Ly(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?qt.create(this.loc,r).formatDurationFromString(this,e):Rv}toHuman(e={}){if(!this.isValid)return Rv;const n=hs.map(r=>{const i=this.values[r];return we(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ih(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Oe.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Fv(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=Re.fromDurationLike(e),r={};for(const i of hs)(Xs(n.values,i)||Xs(this.values,i))&&(r[i]=n.get(i)+this.get(i));return Ni(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=Re.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=bv(e(this.values[r],r));return Ni(this,{values:n},!0)}get(e){return this[Re.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...bu(e,Re.normalizeUnit)};return Ni(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return Ni(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Vv(this.matrix,e),Ni(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=xL(this.normalize().shiftToAll().toObject());return Ni(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>Re.normalizeUnit(a));const n={},r={},i=this.toObject();let s;for(const a of hs)if(e.indexOf(a)>=0){s=a;let o=0;for(const u in r)o+=this.matrix[u][a]*r[u],r[u]=0;cs(i[a])&&(o+=i[a]);const l=Math.trunc(o);n[a]=l,r[a]=(o*1e3-l*1e3)/1e3}else cs(i[a])&&(r[a]=i[a]);for(const a in r)r[a]!==0&&(n[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return Vv(this.matrix,n),Ni(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Ni(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of hs)if(!n(this.values[r],e.values[r]))return!1;return!0}}const ra="Invalid Interval";function OL(t,e){return!t||!t.isValid?ft.invalid("missing or invalid start"):!e||!e.isValid?ft.invalid("missing or invalid end"):e<t?ft.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ft{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new un("need to specify a reason the Interval is invalid");const r=e instanceof Xn?e:new Xn(e,n);if(yt.throwOnInvalid)throw new K2(r);return new ft({invalid:r})}static fromDateTimes(e,n){const r=bo(e),i=bo(n),s=OL(r,i);return s==null?new ft({start:r,end:i}):s}static after(e,n){const r=Re.fromDurationLike(n),i=bo(e);return ft.fromDateTimes(i,i.plus(r))}static before(e,n){const r=Re.fromDurationLike(n),i=bo(e);return ft.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,a;try{s=Oe.fromISO(r,n),a=s.isValid}catch{a=!1}let o,l;try{o=Oe.fromISO(i,n),l=o.isValid}catch{l=!1}if(a&&l)return ft.fromDateTimes(s,o);if(a){const u=Re.fromISO(i,n);if(u.isValid)return ft.after(s,u)}else if(l){const u=Re.fromISO(r,n);if(u.isValid)return ft.before(o,u)}}return ft.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n!=null&&n.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?ft.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(bo).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const a=n[s]||this.e,o=+a>+this.e?this.e:a;r.push(ft.fromDateTimes(i,o)),i=o,s+=1}return r}splitBy(e){const n=Re.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const a=[];for(;r<this.e;){const o=this.start.plus(n.mapUnits(l=>l*i));s=+o>+this.e?this.e:o,a.push(ft.fromDateTimes(r,s)),r=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:ft.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return ft.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,u)=>l.time-u.time);for(const l of o)r+=l.type==="s"?1:-1,r===1?n=l.time:(n&&+n!=+l.time&&i.push(ft.fromDateTimes(n,l.time)),n=null);return ft.merge(i)}difference(...e){return ft.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:ra}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=cu,n={}){return this.isValid?qt.create(this.s.loc.clone(n),e).formatInterval(this):ra}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:ra}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ra}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:ra}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:ra}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):Re.invalid(this.invalidReason)}mapEndpoints(e){return ft.fromDateTimes(e(this.s),e(this.e))}}class Su{static hasDST(e=yt.defaultZone){const n=Oe.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Ur.isValidZone(e)}static normalizeZone(e){return Mi(e,yt.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Je.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Je.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Je.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Je.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Je.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Je.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Je.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Je.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Je.create(n,null,"gregory").eras(e)}static features(){return{relative:pv(),localeWeek:gv()}}}function jv(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(Re.fromMillis(r).as("days"))}function ML(t,e,n){const r=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const f=jv(l,u);return(f-f%7)/7}],["days",jv]],i={},s=t;let a,o;for(const[l,u]of r)n.indexOf(l)>=0&&(a=l,i[l]=u(t,e),o=s.plus(i),o>e?(i[l]--,t=s.plus(i),t>e&&(o=t,i[l]--,t=s.plus(i))):t=o);return[t,i,o,a]}function TL(t,e,n,r){let[i,s,a,o]=ML(t,e,n);const l=e-i,u=n.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(a<e&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+l/(a-i)));const f=Re.fromObject(s,r);return u.length>0?Re.fromMillis(l,r).shiftTo(...u).plus(f):f}const uh={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Gv={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},NL=uh.hanidec.replace(/[\[|\]]/g,"").split("");function CL(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(uh.hanidec)!==-1)e+=NL.indexOf(t[n]);else for(const i in Gv){const[s,a]=Gv[i];r>=s&&r<=a&&(e+=r-s)}}return parseInt(e,10)}else return e}function Kn({numberingSystem:t},e=""){return new RegExp(`${uh[t||"latn"]}${e}`)}const LL="missing Intl.DateTimeFormat.formatToParts support";function Be(t,e=n=>n){return{regex:t,deser:([n])=>e(CL(n))}}const Uv=`[ ${String.fromCharCode(160)}]`,Bv=new RegExp(Uv,"g");function PL(t){return t.replace(/\./g,"\\.?").replace(Bv,Uv)}function Wv(t){return t.replace(/\./g,"").replace(Bv," ").toLowerCase()}function Zn(t,e){return t===null?null:{regex:RegExp(t.map(PL).join("|")),deser:([n])=>t.findIndex(r=>Wv(n)===Wv(r))+e}}function qv(t,e){return{regex:t,deser:([,n,r])=>_u(n,r),groups:e}}function wu(t){return{regex:t,deser:([e])=>e}}function AL(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function kL(t,e){const n=Kn(e),r=Kn(e,"{2}"),i=Kn(e,"{3}"),s=Kn(e,"{4}"),a=Kn(e,"{6}"),o=Kn(e,"{1,2}"),l=Kn(e,"{1,3}"),u=Kn(e,"{1,6}"),f=Kn(e,"{1,9}"),c=Kn(e,"{2,4}"),h=Kn(e,"{4,6}"),d=g=>({regex:RegExp(AL(g.val)),deser:([y])=>y,literal:!0}),p=(g=>{if(t.literal)return d(g);switch(g.val){case"G":return Zn(e.eras("short"),0);case"GG":return Zn(e.eras("long"),0);case"y":return Be(u);case"yy":return Be(c,sh);case"yyyy":return Be(s);case"yyyyy":return Be(h);case"yyyyyy":return Be(a);case"M":return Be(o);case"MM":return Be(r);case"MMM":return Zn(e.months("short",!0),1);case"MMMM":return Zn(e.months("long",!0),1);case"L":return Be(o);case"LL":return Be(r);case"LLL":return Zn(e.months("short",!1),1);case"LLLL":return Zn(e.months("long",!1),1);case"d":return Be(o);case"dd":return Be(r);case"o":return Be(l);case"ooo":return Be(i);case"HH":return Be(r);case"H":return Be(o);case"hh":return Be(r);case"h":return Be(o);case"mm":return Be(r);case"m":return Be(o);case"q":return Be(o);case"qq":return Be(r);case"s":return Be(o);case"ss":return Be(r);case"S":return Be(l);case"SSS":return Be(i);case"u":return wu(f);case"uu":return wu(o);case"uuu":return Be(n);case"a":return Zn(e.meridiems(),0);case"kkkk":return Be(s);case"kk":return Be(c,sh);case"W":return Be(o);case"WW":return Be(r);case"E":case"c":return Be(n);case"EEE":return Zn(e.weekdays("short",!1),1);case"EEEE":return Zn(e.weekdays("long",!1),1);case"ccc":return Zn(e.weekdays("short",!0),1);case"cccc":return Zn(e.weekdays("long",!0),1);case"Z":case"ZZ":return qv(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return qv(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return wu(/[a-z_+-/]{1,256}?/i);case" ":return wu(/[^\S\n\r]/);default:return d(g)}})(t)||{invalidReason:LL};return p.token=t,p}const DL={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function IL(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=n.hour12?"hour12":"hour24");let o=DL[a];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function RL(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function $L(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const a in n)if(Xs(n,a)){const o=n[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function FL(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return we(t.z)||(n=Ur.create(t.z)),we(t.Z)||(n||(n=new tn(t.Z)),r=t.Z),we(t.q)||(t.M=(t.q-1)*3+1),we(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),we(t.u)||(t.S=rh(t.u)),[Object.keys(t).reduce((s,a)=>{const o=e(a);return o&&(s[o]=t[a]),s},{}),n,r]}let ch=null;function VL(){return ch||(ch=Oe.fromMillis(1555555555555)),ch}function jL(t,e){if(t.literal)return t;const n=qt.macroTokenToFormatOpts(t.val),r=Yv(n,e);return r==null||r.includes(void 0)?t:r}function Hv(t,e){return Array.prototype.concat(...t.map(n=>jL(n,e)))}function zv(t,e,n){const r=Hv(qt.parseFormat(n),t),i=r.map(a=>kL(a,t)),s=i.find(a=>a.invalidReason);if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};{const[a,o]=RL(i),l=RegExp(a,"i"),[u,f]=$L(e,l,o),[c,h,d]=f?FL(f):[null,null,void 0];if(Xs(f,"a")&&Xs(f,"H"))throw new Ys("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:l,rawMatches:u,matches:f,result:c,zone:h,specificOffset:d}}}function GL(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:a}=zv(t,e,n);return[r,i,s,a]}function Yv(t,e){if(!t)return null;const r=qt.create(e,t).dtFormatter(VL()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(a=>IL(a,t,s))}const fh="Invalid DateTime",Xv=864e13;function xu(t){return new Xn("unsupported zone",`the zone "${t.name}" is not supported`)}function hh(t){return t.weekData===null&&(t.weekData=pu(t.c)),t.weekData}function dh(t){return t.localWeekData===null&&(t.localWeekData=pu(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function ds(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Oe({...n,...e,old:n})}function Kv(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Ou(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Mu(t,e,n){return Kv(vu(t),e,n)}function Zv(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,yu(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=Re.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=vu(s);let[l,u]=Kv(o,n,t.zone);return a!==0&&(l+=a,u=t.zone.offset(l)),{ts:l,o:u}}function _o(t,e,n,r,i,s){const{setZone:a,zone:o}=n;if(t&&Object.keys(t).length!==0||e){const l=e||o,u=Oe.fromObject(t,{...n,zone:l,specificOffset:s});return a?u:u.setZone(o)}else return Oe.invalid(new Xn("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Tu(t,e,n=!0){return t.isValid?qt.create(Je.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function mh(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=wt(t.c.year,n?6:4),e?(r+="-",r+=wt(t.c.month),r+="-",r+=wt(t.c.day)):(r+=wt(t.c.month),r+=wt(t.c.day)),r}function Jv(t,e,n,r,i,s){let a=wt(t.c.hour);return e?(a+=":",a+=wt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=":")):a+=wt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=wt(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=wt(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=wt(Math.trunc(-t.o/60)),a+=":",a+=wt(Math.trunc(-t.o%60))):(a+="+",a+=wt(Math.trunc(t.o/60)),a+=":",a+=wt(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}const Qv={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},UL={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},BL={ordinal:1,hour:0,minute:0,second:0,millisecond:0},e0=["year","month","day","hour","minute","second","millisecond"],WL=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],qL=["year","ordinal","hour","minute","second","millisecond"];function HL(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Ly(t);return e}function t0(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return HL(t)}}function n0(t,e){const n=Mi(e.zone,yt.defaultZone),r=Je.fromObject(e),i=yt.now();let s,a;if(we(t.year))s=i;else{for(const u of e0)we(t[u])&&(t[u]=Qv[u]);const o=dv(t)||mv(t);if(o)return Oe.invalid(o);const l=n.offset(i);[s,a]=Mu(t,l,n)}return new Oe({ts:s,zone:n,loc:r,o:a})}function r0(t,e,n){const r=we(n.round)?!0:n.round,i=(a,o)=>(a=ih(a,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,o)),s=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return i(s(n.unit),n.unit);for(const a of n.units){const o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(t>e?-0:0,n.units[n.units.length-1])}function i0(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class Oe{constructor(e){const n=e.zone||yt.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Xn("invalid input"):null)||(n.isValid?null:xu(n));this.ts=we(e.ts)?yt.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const o=n.offset(this.ts);i=Ou(this.ts,o),r=Number.isNaN(i.year)?new Xn("invalid input"):null,i=r?null:i,s=r?null:o}this._zone=n,this.loc=e.loc||Je.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new Oe({})}static local(){const[e,n]=i0(arguments),[r,i,s,a,o,l,u]=n;return n0({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static utc(){const[e,n]=i0(arguments),[r,i,s,a,o,l,u]=n;return e.zone=tn.utcInstance,n0({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static fromJSDate(e,n={}){const r=SC(e)?e.valueOf():NaN;if(Number.isNaN(r))return Oe.invalid("invalid input");const i=Mi(n.zone,yt.defaultZone);return i.isValid?new Oe({ts:r,zone:i,loc:Je.fromObject(n)}):Oe.invalid(xu(i))}static fromMillis(e,n={}){if(cs(e))return e<-Xv||e>Xv?Oe.invalid("Timestamp out of range"):new Oe({ts:e,zone:Mi(n.zone,yt.defaultZone),loc:Je.fromObject(n)});throw new un(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(cs(e))return new Oe({ts:e*1e3,zone:Mi(n.zone,yt.defaultZone),loc:Je.fromObject(n)});throw new un("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Mi(n.zone,yt.defaultZone);if(!r.isValid)return Oe.invalid(xu(r));const i=Je.fromObject(n),s=bu(e,t0),{minDaysInFirstWeek:a,startOfWeek:o}=hv(s,i),l=yt.now(),u=we(n.specificOffset)?r.offset(l):n.specificOffset,f=!we(s.ordinal),c=!we(s.year),h=!we(s.month)||!we(s.day),d=c||h,m=s.weekYear||s.weekNumber;if((d||f)&&m)throw new Ys("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new Ys("Can't mix ordinal dates with month/day");const p=m||s.weekday&&!d;let g,y,v=Ou(l,u);p?(g=WL,y=UL,v=pu(v,a,o)):f?(g=qL,y=BL,v=th(v)):(g=e0,y=Qv);let b=!1;for(const C of g){const R=s[C];we(R)?b?s[C]=y[C]:s[C]=v[C]:b=!0}const E=p?_C(s,a,o):f?bC(s):dv(s),O=E||mv(s);if(O)return Oe.invalid(O);const N=p?cv(s,a,o):f?fv(s):s,[M,A]=Mu(N,u,r),k=new Oe({ts:M,zone:r,o:A,loc:i});return s.weekday&&d&&e.weekday!==k.weekday?Oe.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${k.toISO()}`):k}static fromISO(e,n={}){const[r,i]=fL(e);return _o(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=hL(e);return _o(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=dL(e);return _o(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(we(e)||we(n))throw new un("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,a=Je.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,l,u,f]=GL(a,e,n);return f?Oe.invalid(f):_o(o,l,r,`format ${n}`,e,u)}static fromString(e,n,r={}){return Oe.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=bL(e);return _o(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new un("need to specify a reason the DateTime is invalid");const r=e instanceof Xn?e:new Xn(e,n);if(yt.throwOnInvalid)throw new X2(r);return new Oe({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=Yv(e,Je.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return Hv(qt.parseFormat(e),Je.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?hh(this).weekYear:NaN}get weekNumber(){return this.isValid?hh(this).weekNumber:NaN}get weekday(){return this.isValid?hh(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?dh(this).weekday:NaN}get localWeekNumber(){return this.isValid?dh(this).weekNumber:NaN}get localWeekYear(){return this.isValid?dh(this).weekYear:NaN}get ordinal(){return this.isValid?th(this.c).ordinal:NaN}get monthShort(){return this.isValid?Su.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Su.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Su.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Su.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=vu(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),a=this.zone.offset(r-i*n),o=this.zone.offset(r-s*n);if(a===o)return[this];const l=r-a*n,u=r-o*n,f=Ou(l,a),c=Ou(u,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[ds(this,{ts:l}),ds(this,{ts:u})]:[this]}get isInLeapYear(){return mo(this.year)}get daysInMonth(){return yu(this.year,this.month)}get daysInYear(){return this.isValid?Ks(this.year):NaN}get weeksInWeekYear(){return this.isValid?po(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?po(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=qt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(tn.instance(e),n)}toLocal(){return this.setZone(yt.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Mi(e,yt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),a=this.toObject();[i]=Mu(a,s,e)}return ds(this,{ts:i,zone:e})}else return Oe.invalid(xu(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return ds(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=bu(e,t0),{minDaysInFirstWeek:r,startOfWeek:i}=hv(n,this.loc),s=!we(n.weekYear)||!we(n.weekNumber)||!we(n.weekday),a=!we(n.ordinal),o=!we(n.year),l=!we(n.month)||!we(n.day),u=o||l,f=n.weekYear||n.weekNumber;if((u||a)&&f)throw new Ys("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new Ys("Can't mix ordinal dates with month/day");let c;s?c=cv({...pu(this.c,r,i),...n},r,i):we(n.ordinal)?(c={...this.toObject(),...n},we(n.day)&&(c.day=Math.min(yu(c.year,c.month),c.day))):c=fv({...th(this.c),...n});const[h,d]=Mu(c,this.o,this.zone);return ds(this,{ts:h,o:d})}plus(e){if(!this.isValid)return this;const n=Re.fromDurationLike(e);return ds(this,Zv(this,n))}minus(e){if(!this.isValid)return this;const n=Re.fromDurationLike(e).negate();return ds(this,Zv(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=Re.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?qt.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):fh}toLocaleString(e=cu,n={}){return this.isValid?qt.create(this.loc.clone(n),e).formatDateTime(this):fh}toLocaleParts(e={}){return this.isValid?qt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=mh(this,a);return o+="T",o+=Jv(this,a,n,r,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?mh(this,e==="extended"):null}toISOWeekDate(){return Tu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+Jv(this,a==="extended",n,e,r,s):null}toRFC2822(){return Tu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Tu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?mh(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Tu(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():fh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return Re.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=wC(n).map(Re.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,u=TL(o,l,s,i);return a?u.negate():u}diffNow(e="milliseconds",n={}){return this.diff(Oe.now(),e,n)}until(e){return this.isValid?ft.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Oe.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),r0(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?r0(e.base||Oe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Oe.isDateTime))throw new un("min requires all arguments be DateTimes");return yv(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Oe.isDateTime))throw new un("max requires all arguments be DateTimes");return yv(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,a=Je.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return zv(a,e,n)}static fromStringExplain(e,n,r={}){return Oe.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return cu}static get DATE_MED(){return Py}static get DATE_MED_WITH_WEEKDAY(){return J2}static get DATE_FULL(){return Ay}static get DATE_HUGE(){return ky}static get TIME_SIMPLE(){return Dy}static get TIME_WITH_SECONDS(){return Iy}static get TIME_WITH_SHORT_OFFSET(){return Ry}static get TIME_WITH_LONG_OFFSET(){return $y}static get TIME_24_SIMPLE(){return Fy}static get TIME_24_WITH_SECONDS(){return Vy}static get TIME_24_WITH_SHORT_OFFSET(){return jy}static get TIME_24_WITH_LONG_OFFSET(){return Gy}static get DATETIME_SHORT(){return Uy}static get DATETIME_SHORT_WITH_SECONDS(){return By}static get DATETIME_MED(){return Wy}static get DATETIME_MED_WITH_SECONDS(){return qy}static get DATETIME_MED_WITH_WEEKDAY(){return Q2}static get DATETIME_FULL(){return Hy}static get DATETIME_FULL_WITH_SECONDS(){return zy}static get DATETIME_HUGE(){return Yy}static get DATETIME_HUGE_WITH_SECONDS(){return Xy}}function bo(t){if(Oe.isDateTime(t))return t;if(t&&t.valueOf&&cs(t.valueOf()))return Oe.fromJSDate(t);if(t&&typeof t=="object")return Oe.fromObject(t);throw new un(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const s0=[0,1,0,0];function a0(t,e="second",n,r){const{t:i}=Xe(),s=new Date(t).toISOString(),a={year:i("yyyy"),month:i("M/yyyy"),day:i("M/d/yyyy"),second:i("M/d/yyyy HH:mm:ss")},l=(n?{year:"yyyy",month:"yyyy-MM",day:"yyyy-MM-dd",second:void 0}:a)[e];return l?Oe.fromISO(s).toFormat(`${r?"UTC:":""}${l}`):s.replace(/\.\d{3}/,"")}function ph(t){return new Date(t).toISOString().split(".")[0]+"Z"}function gh(t){return Oe.fromISO(t).toFormat("yyyy-MM-dd")}function zL(t,e){return t<=e.minValue?e.minValue:t>=e.maxValue?e.maxValue:e.timeValueList?YL(t,e):XL(t,e)}function YL(t,e){var l;const n=(l=e.timeValueList)!=null?l:[];let r,i=0,s=n.length-1;for(;s-i>1;)r=Math.floor((i+s)/2),n[r]>=t?s=r:i=r;const a=Math.abs(n[i]-t),o=Math.abs(n[s]-t);return n[a<o?i:s]}function XL(t,e){var l;const n=(l=e.timeInterval)!=null?l:s0,r=new Date(t).getTime(),i=new Date(e.minValue),s=e.maxValue;let a=e.minValue,o=Math.abs(r-a);for(let u=1;;u++){const f=new Date(i.getTime());if(f.setFullYear(i.getFullYear()+u*n[0]),f.setMonth(i.getMonth()+u*n[1],i.getDate()+u*n[2]),f.setSeconds(i.getSeconds()+u*n[3]),f.getTime()>s)break;const c=Math.abs(r-f.getTime());if(c<=o)a=f.getTime(),o=c;else break}return a}const ht=as("map",()=>{const t=In(),e=Ee({}),n=it([]),r=it([]),i=Ee(!1),s=Ee(!1),a=Ee(void 0);function o(v){a.value=v}function l(...v){n.value=[...new Set([...n.value,...v])]}function u(...v){r.value=[...new Set([...r.value,...v])]}function f(...v){n.value=n.value.filter(b=>v.indexOf(b.id)===-1),r.value=r.value.filter(b=>v.indexOf(b.id)===-1)}function c(){n.value=[]}function h(v){var b;return!!((b=n.value)!=null&&b.find(E=>E.id===v))}function d(v,b=!1){var O;const E=b?r:n;E.value=[...((O=E.value)==null?void 0:O.sort((N,M)=>v.indexOf(N.id)-v.indexOf(M.id)))||[]]}function m(v,b){n.value=n.value.map(E=>E.id===v?{...E,opacity:b,previousOpacity:E.opacity}:E)}function p(v,b,E){n.value=n.value.map(O=>{if(O.id===v){const N={...O,currentTimeMinValue:b?ph(b):void 0,currentTimeMaxValue:E?ph(E):void 0};return N.type==="WMTS"&&(N.name=t.getLayerCurrentLabel(N)),N}return O})}function g(v){i.value=v}function y(v){s.value=v}return{map:e,layers:n,layers3d:r,is3dActive:i,is3dMesh:s,bgLayer:a,addLayers:l,add3dLayers:u,removeLayers:f,removeAllLayers:c,reorderLayers:d,setLayerOpacity:m,setLayerTime:p,setBgLayer:o,setIs3dActive:g,setIs3dMesh:y,hasLayer:h}}),o0="main",KL="root_3d",ZL=-222,Ht=as("config",()=>{const t=it(),e=Ee(o0),n=me(()=>{var u;return(u=t.value)==null?void 0:u.themes}),r=me(()=>{var u;return(u=n.value)==null?void 0:u.find(f=>f.name===e.value)}),i=me(()=>{var u;return((u=t.value)==null?void 0:u.background_layers)||[]}),s=me(()=>{var f;const u=(f=n.value)==null?void 0:f.filter(c=>{var h;return((h=c.metadata)==null?void 0:h.ol3d_type)!==void 0});if(!!u)return{name:KL,id:ZL,children:u.flatMap(c=>c!=null&&c.children?c.children:c),metadata:{}}});function a(u){t.value=u,r.value===void 0&&l()}function o(u){e.value=u}function l(){e.value=o0}return{config:t,themes:n,themeName:e,theme:r,bgLayers:i,layerTrees_3d:s,setTheme:o,setThemes:a}},{});function Ci(){function t(o,l){return n(o,void 0,l)}function e(o,l){return n(void 0,o,l)}function n(o,l,u){const{themes:f}=Ht();if(u=u||(f==null?void 0:f.find(c=>n(o,l,c))),o&&(u==null?void 0:u.id)===o||l&&(u==null?void 0:u.name)===l)return u;if(u!=null&&u.children)for(const c of u.children){const h=n(o,l,c);if(h)return h}}function r(o){const{layerTrees_3d:l}=Ht();return n(o,void 0,l)}function i(o){const{bgLayers:l}=Ht();return l.find(u=>u.id===o)}function s(o){const{bgLayers:l}=Ht();return l.find(u=>u.name===o)}function a(o){const{setTheme:l}=Ht();l(o)}return{findById:t,findByName:e,find3dLayerById:r,findBgLayerById:i,findBgLayerByName:s,setTheme:a}}const l0=Ci();function In(){function t(l,u){try{const f=JSON.parse(l).concat(JSON.parse(u));return new Set(f).size<f.length}catch{return!1}}function e(l){var u,f;return l.opacity=l.previousOpacity=(f=(u=l.metadata)==null?void 0:u.start_opacity)!=null?f:1,n(l),l}function n(l){var f,c,h,d,m,p,g;l.currentTimeMinValue||(l.currentTimeMinValue=(h=(f=l.time)==null?void 0:f.minDefValue)!=null?h:(c=l.time)==null?void 0:c.minValue);const u=((d=l.time)==null?void 0:d.mode)===Gr.RANGE;!l.currentTimeMaxValue&&u&&(l.currentTimeMaxValue=(g=(m=l.time)==null?void 0:m.maxDefValue)!=null?g:(p=l.time)==null?void 0:p.maxValue)}function r(l){var c,h,d;const u=i(l);let f=l.name;return u&&(f=(d=(h=(c=l.metadata)==null?void 0:c.time_layers)==null?void 0:h[u])!=null?d:f),f}function i(l){return[l.currentTimeMinValue,...l.currentTimeMaxValue?[l.currentTimeMaxValue]:[]].join(q2)}function s(l){var h,d;const u=tu();if(!((h=l.metadata)!=null&&h.exclusion))return;const f=ht(),c=f.layers.filter(m=>{var p,g;return t((p=l==null?void 0:l.metadata)==null?void 0:p.exclusion,(g=m==null?void 0:m.metadata)==null?void 0:g.exclusion)});c.length>0&&(f.removeLayers(...c.map(m=>m.id)),u.addNotification(st.t("The layer <b>{{layersToRemove}}</b> has been removed because it cannot be displayed while the layer <b>{{layer}}</b> is displayed",{count:c.length,layersToRemove:c.map(m=>st.t(m.name,{ns:"client"})).join(", "),layer:st.t(l.name,{ns:"client"}),ns:"client"}),ao.WARNING)),l.id!==((d=f.bgLayer)==null?void 0:d.id)&&a(l)}function a(l){var c,h,d;const u=ht(),f=tu();t((c=l.metadata)==null?void 0:c.exclusion,(d=(h=u.bgLayer)==null?void 0:h.metadata)==null?void 0:d.exclusion)&&(u.setBgLayer(null),f.addNotification(st.t("Background has been deactivated because the layer {{layer}} cannot be displayed on top of it.",{layer:st.t(l.name,{ns:"client"}),ns:"client"}),ao.WARNING))}function o(l,u=!0,f){var p;const c=Ht(),h=ht(),d=f?c.layerTrees_3d:c.theme,m=l0.findById(l,d);if(m){const g=((p=m.metadata)==null?void 0:p.linked_layers)||[];u===!1?h.removeLayers(m.id,...g):(s(m),(f?h.add3dLayers:h.addLayers)(e(m),...g.map(v=>e(l0.findById(parseInt(v,10))))))}}return{initLayer:e,getLayerCurrentLabel:r,getLayerCurrentTime:i,handleExclusionLayers:s,toggleLayer:o}}class JL{styleSerialToStyle(e){return e?JSON.parse(decodeURIComponent(e))||[]:[]}styleLocalStorageToStyle(e){return e?JSON.parse(e).medium||[]:[]}styleToSerial(e){return e&&e.length>0?JSON.stringify(e):""}styleToLocalStorage(e){return e&&e.length>0?JSON.stringify({medium:e}):""}}const Nu=new JL;function u0(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(r)},e)}}function ia(t){return(t==null?void 0:t.trim())&&!isNaN(Number(t))?Number(t):void 0}function QL(t,e){return(t==null?void 0:t.split(e).map(n=>n!==null&&!isNaN(Number(n))?parseFloat(n):void 0))||[]}function eP(t,e){return(t==null?void 0:t.split(e).map(yh))||[]}function yh(t){return(t==null?void 0:t.trim())==="true"?!0:(t==null?void 0:t.trim())==="false"?!1:void 0}function c0(){return window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches}function br(t){return typeof window<"u"&&window.navigator&&t.test(navigator.userAgent)}const tP=br(/firefox/i);br(/safari/i)&&!br(/chrome/i)&&br(/android/i),br(/iP(ad|od|hone)/i),br(/chrome/i)&&br(/android/i),br(/chrome/i),br(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),br(/Edge/i);const Eo="ipv6",Cu="address",So="applogin",wo="localforage",sa="debug",nP="embeddedserver",rP="embeddedserverprotocol",Lu="fid",Li="lang",Pu="layersOpen",vh="version",iP="map_id",f0="layers",h0="bgLayer",d0="opacities",xo="theme",m0="time",p0="zoom",sP="SRS",g0="X",y0="Y",Oo="serial",aP="serialLayer",v0=["basemap_2015_global","topogr_global","topo_bw_jpeg"],_h="lc",bh="sliderRatio",_0="bgOpacity",oP="layers_indices",b0="layers_opacity",E0="layers_visibility";var Dt=(t=>(t[t.localStorage=0]="localStorage",t[t.permalink=1]="permalink",t[t.permalinkAsPath=2]="permalinkAsPath",t[t.permalinkAndLocalStorage=3]="permalinkAndLocalStorage",t))(Dt||{});class S0{}class Au extends S0{static processRules(e){return Au.ruleUseLocalStorage(e)?Dt.localStorage:Dt.permalink}static processRulesForKey(e,n){if(e===xo&&{}.VITE_DEPLOY_GHPAGES!=="true")return Dt.permalinkAsPath;if(v0.includes(e))return Dt.localStorage;if(e===Oo)return Dt.permalink;if(e===Pu)return Dt.localStorage}static ruleUseLocalStorage(e){return[lP,uP,cP].reduce((n,r)=>n||r(e),!1)}}const lP=t=>Object.keys(t).length===0,uP=t=>Object.keys(t).length===1&&(t.hasOwnProperty(Eo)||t.hasOwnProperty(So)||t.hasOwnProperty(wo)),cP=t=>Object.keys(t).length===3&&t.hasOwnProperty(Eo)&&t.hasOwnProperty(So)&&t.hasOwnProperty(wo);class ku extends S0{static processRules(){return Dt.permalinkAndLocalStorage}static processRulesForKey(e,n){if(ku.ruleUsePermalink(e))return Dt.permalink;if(e===Pu||v0.includes(e))return Dt.localStorage;if(e===Oo)return Dt.permalink;if(e===xo)return Dt.permalinkAsPath}static ruleUsePermalink(e){return[fP,hP,dP].reduce((n,r)=>n||r(e),!1)}}const fP=t=>t===_h||t===bh,hP=t=>t===vh,dP=t=>t===xo&&{}.VITE_DEPLOY_GHPAGES==="true";class w0{constructor(){Qe(this,"snappedUrl");this.snappedUrl=new URL(window.location.toString())}get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}getSnappedUrl(){return this.snappedUrl}getSnappedParamsAsObj(){return this.getSnappedParams().reduce((e,n)=>{const[r,i]=n.split("=");return{...e,[r]:i}},{})}getSnappedParams(){return this.getSnappedUrl().search.replace("?","").split("&").filter(e=>e.split("=")[1])}setItem(e,n){const r=new URLSearchParams(new URL(window.location.toString()).search);r.set(encodeURIComponent(e),encodeURIComponent(n));try{window.history.replaceState(null,"","?"+r.toString())}catch{}}getItem(e){const n=this.getSnappedUrl().searchParams.get(e);return n!==null?decodeURIComponent(n):n}removeItem(e){const n=new URLSearchParams(new URL(window.location.toString()).search);n.delete(e);try{window.history.replaceState(null,"","?"+n.toString())}catch{}}encodeQueryParam(e,n){return`${encodeURIComponent(e)}=${encodeURIComponent(n)}`}}const ms=new w0;class mP extends w0{getItem(e){const n=this.getSnappedUrl().pathname.split("/"),r=n.findIndex(i=>i===e);return n[r+1]}setItem(e,n){const r=new URL(window.location.toString()).search,i=`/${e}/${n}${r}`;try{window.history.replaceState(null,"",i)}catch{}}}const pP=new mP;class gP{get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}removeItem(e){const n=this.getWriteStorages(e);n==null||n.map(r=>r.removeItem(e))}setItem(e,n){this.setValue(e,n)}getItem(e){return this.getValue(e)}get paramKeys(){return ms.getSnappedParamsAsObj()}getValue(e){var i;const n=(i=this.correspondingStorages(Au.processRules(this.paramKeys)))==null?void 0:i.pop(),r=this.storageForKey(e,Au,n);return r?r.getItem(e):null}setValue(e,n){const r=this.getWriteStorages(e);r==null||r.map(i=>i.setItem(e,n))}getWriteStorages(e){const n=this.correspondingStorages(ku.processRules()),r=this.storageForKey(e,ku);return r?[r]:n}storageForKey(e,n,r){var s;const i=(s=this.correspondingStorages(n.processRulesForKey(e,this.paramKeys)))==null?void 0:s.pop();return i!=null?i:r}correspondingStorages(e){if(e===Dt.permalinkAndLocalStorage)return[ms,localStorage];if(e===Dt.localStorage)return[localStorage];if(e===Dt.permalink)return[ms];if(e===Dt.permalinkAsPath)return[pP]}}const Du=new gP;function yP(t){return vP(t)||_P(t)||bP(t)||EP(t)}const vP=t=>Object.keys(t).length===0,_P=t=>{const e=Object.keys(t);return Object.keys(t).length===1&&[Eo,So,wo,Lu,Li,Cu,sa].some(n=>e.indexOf(n)!==-1)},bP=t=>{const e=Object.keys(t),n=i=>e.indexOf(i)!==-1,r=[[So,wo],[sa,Lu],[Li,Lu],[sa,Li],[sa,Cu],[Li,Cu]];return Object.keys(t).length===2&&r.reduce((i,s)=>i||s.every(n),!1)},EP=t=>{const e=Object.keys(t),n=a=>e.indexOf(a)!==-1,r=[Eo,So,wo].every(n),i=[sa,Lu,Li].every(n),s=[sa,Cu,Li].every(n);return Object.keys(t).length===3&&(r||i||s)};class SP{constructor(){Qe(this,"intialVersion");const e=Du.paramKeys,n=this.getValue(vh,ia);this.intialVersion=n?Math.max(2,Math.min(n,3)):yP(e)?3:2,this.setValue(vh,3)}getInitialVersion(){return this.intialVersion}mapToEntity(e,n){return n?n(e):e}mapToStorage(e,n){return n?n(e):String(e)}getValue(e,n){return this.mapToEntity(Du.getValue(e),n)}setValue(e,n,r){Du.setValue(e,this.mapToStorage(n,r))}removeItem(e){Du.removeItem(e)}}const Ce=new SP,wP=["line","fill","symbol","fill-extrusion","background","hillshade"],xP="https://vectortiles.geoportail.lu",OP="/getpermalinkstyle",MP="/uploadpermalinkstyle",TP="/deletepermalinkstyle";class NP{constructor(){Qe(this,"_vectortilesUrl",xP);Qe(this,"_mvtStylesGetUrl",OP);Qe(this,"_mvtStylesUploadUrl",MP);Qe(this,"_mvtStylesDeleteUrl",TP)}get vectortilesUrl(){return this._vectortilesUrl===void 0&&console.warn("Warning: vectortilesUrl is not set."),this._vectortilesUrl}get mvtStylesGetUrl(){return this._mvtStylesGetUrl===void 0&&console.warn("Warning: mvtStylesGetUrl is not set."),this._mvtStylesGetUrl}get mvtStylesUploadUrl(){return this._mvtStylesUploadUrl===void 0&&console.warn("Warning: mvtStylesUploadUrl is not set."),this._mvtStylesUploadUrl}get mvtStylesDeleteUrl(){return this._mvtStylesDeleteUrl===void 0&&console.warn("Warning: mvtStylesDeleteUrl is not set."),this._mvtStylesDeleteUrl}setRegisterUrl_v3(e){e.get&&(this._mvtStylesGetUrl=e.get),e.upload&&(this._mvtStylesUploadUrl=e.upload),e.delete&&(this._mvtStylesDeleteUrl=e.delete),e.vectortiles&&(this._vectortilesUrl=e.vectortiles)}}const aa=new NP,Br=()=>({bg_layers:[{icon_id:"route",vector_id:"roadmap",simple_style_class:"road",medium_style_class:"road",expert_style_class:"maputnik",id:556,is_default:!0},{icon_id:"topo",vector_id:"topomap",medium_style_class:"topo",expert_style_class:"maputnik",id:529},{icon_id:"topo_bw",vector_id:"topomap_gray",medium_style_class:"topo",expert_style_class:"maputnik",id:502},{icon_id:"ortho",id:530},{icon_id:"hybrid",id:501},{icon_id:"blank",id:0}],bg_layer_theme_defaults:{tourisme:502},simple_styles:{road:[{unlocalized_label:"Light grey",hillshade:!1,colors:["#ffffff","#ffffff","#d6e0d7","#e1e1e1","#cccccc","#f2f2f2"],selected:!1},{unlocalized_label:"Dark grey",hillshade:!1,colors:["#808080","#808080","#494b4a","#505052","#232426","#454545"],selected:!1},{unlocalized_label:"Dark sand",hillshade:!1,colors:["#9e9375","#9e9375","#6b6249","#403928","#b8aa84","#1a1814"],selected:!1},{unlocalized_label:"Kids",hillshade:!1,colors:["#f9c50d","#ffffff","#839836","#d6d3ce","#2a5ba8","#eeeeee"],selected:!1},{unlocalized_label:"Light mauve",hillshade:!1,colors:["#f3edf5","#f3edf5","#9d7da8","#caa9d1","#613b5c","#e5d3e6"],selected:!1},{unlocalized_label:"Light Blue",hillshade:!1,colors:["#dceaf5","#dceaf5","#5598cf","#81b7e3","#3b576e","#b6cde0"],selected:!1}]},medium_default_styles:{road:[{label:"Roads primary",color:"#f7f7f7",lines:["lu_road_trunk_primary","lu_bridge_major","lu_tunnel_major","lu_road_major_motorway"],visible:!0},{label:"Roads secondary",color:"#f7f7f7",lines:["lu_road_minor","lu_road_secondary_tertiary","lu_bridge_minor","lu_road_path","lu_bridge_path","lu_bridge_railway case","lu_bridge_path case"],visible:!0},{label:"Vegetation",color:"#B8D293",opacity:"1",fills:["lu_landcover_wood","lu_landcover_grass","lu_landuse_stadium","lu_landuse_cemetery"],visible:!0},{label:"Buildings",color:"#D6AA85",opacity:"1",fillExtrusions:["lu_building-3d_public","lu_building-3d"],fills:["lu_building","lu_building_public"],lines:["lu_bridge_railway","lu_railway","lu_tunnel_railway"],visible:!0},{label:"Water",color:"#94c1e1",lines:["lu_waterway","lu_waterway_tunnel","lu_waterway_intermittent"],fills:["lu_water"],visible:!0},{label:"Background",color:"#e7e7e7",backgrounds:["background"],visible:!0},{label:"Hillshade",hillshades:["hillshade"],visible:!0}],topo:[{label:"Primary Names",symbols:["lu_place-label_other","lu_place-label_city","lu_place-label_canton","lu_country-label-other","lu_country-label","place_label_other","place_label_city","country_label-other","country_label"],visible:!0},{label:"Secondary Names",symbols:["lu_place-label_isolated","lu_place-label_locality_forest","lu_place-label_locality_lieudit"],visible:!0},{label:"Transport",lines:["lu_tunnel_track-casing","lu_tunnel_major_motorway-casing","lu_tunnel_railway_transit","lu_tunnel_railway","lu_tunnel_railway-hatching","lu_tunnel_path","lu_tunnel_track","lu_tunnel_minor","lu_tunnel_major_motorway","lu_tunnel_secondary_tertiary","lu_tunnel_trunk_primary","lu_road_track-casing","lu_road_minor-casing","lu_road_major_motorway-casing","lu_road_secondary_tertiary-casing","lu_road_trunk_primary-casing","lu_road_pier","lu_road_path","lu_road_track","lu_road_minor","lu_road_major_motorway","lu_road_secondary_tertiary","lu_road_trunk_primary","lu_tram","lu_tram-hatching","lu_railway_transit","lu_railway","lu_railway-hatching","lu_bridge_railway-casing","lu_bridge_track-casing","lu_bridge_path-casing","lu_bridge_minor-casing","lu_bridge_major_motorway-casing","lu_bridge_secondary_tertiary-casing","lu_bridge_trunk_primary-casing","lu_bridge_railway","lu_bridge_path","lu_bridge_track","lu_bridge_minor","lu_bridge_major_motorway","lu_bridge_secondary_tertiary","lu_bridge_trunk_primary","tunnel_track-casing","tunnel_major_motorway-casing","tunnel_railway_transit","tunnel_railway_transit-hatching","tunnel_railway","tunnel_railway-hatching","tunnel_path","tunnel_track","tunnel_minor","tunnel_major_motorway","tunnel_secondary_tertiary","tunnel_trunk_primary","road_track-casing","road_minor-casing","road_major_motorway-casing","road_secondary_tertiary-casing","road_trunk_primary-casing","road_pier","road_path","road_track","road_minor","road_major_motorway","road_secondary_tertiary","road_trunk_primary","railway-transit","railway-transit-hatching","railway","railway-hatching","bridge_railway-casing","bridge_path-casing","bridge_track_casing","bridge_minor-casing","bridge_major_motorway-casing","bridge_secondary_tertiary-casing","bridge_trunk_primary-casing","bridge_railway","bridge_path","bridge_track","bridge_minor","bridge_major_motorway","bridge_secondary_tertiary","bridge_trunk_primary"],symbols:["lu_road_major-label","lu_motorway-shield","lu_road-shield"],visible:!0},{label:"Vegetation",fills:["lu_landuse_stadium","lu_landuse_cemetery","lu_landuse_gras","lu_landuse_park","lu_landuse_park-outline","lu_landuse_vineyard","lu_landuse_orchard","lu_landuse_wood","landcover_grass","landcover_wood"],visible:!0},{label:"Electricity",fills:["lu_power_station","lu_power_pylone"],lines:["lu_power_line","lu_power_station-outline"],symbols:["lu_power_station-label","lu_eolienne"],visible:!0},{label:"Contours and Height Points",lines:["lu_contour-100","lu_contour-50","lu_contour-20","lu_contour-10","lu_contour"],symbols:["lu_contour-label-100","lu_contour-label-20","lu_apex-label"],visible:!0},{label:"Hillshade",hillshades:["lu_hillshade"],visible:!0}]},http_bg_server:"wmts{1-2}",https_bg_server:"wmts{3-4}",bg_wmts_server_path:"mapproxy_4_v3/wmts/{Layer}",bg_wmts_tile_template:"{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}",bg_layer_projection:"EPSG:3857",olcs_extent:[5.31,49.38,6.64,50.21],olcs_extent_projection:"EPSG:3857",bg_layer_resolutions:[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],bg_matrix_ids:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"]});function Wr(){function t(g){const y=ms.getItem(nP),v=ms.getItem(rP)||"http";return(y?`${v}://${y}`:aa.vectortilesUrl)+`/styles/${g}/style.json`}function e(g){return`${aa.vectortilesUrl}/styles/${g}/{z}/{x}/{y}.png`}function n(g){return/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi.test(g)}function r(g,y){const v=Rn();if(g==null)return;const b=new Map;v.bgVectorSources.forEach((E,O)=>{if(O===g.id){const N={...E,xyz_custom:y};b.set(O,N)}else b.set(O,E)}),v.setBgVectorSources(b)}function i(g,y,v=!1){const b="",E=t(y),O=e(y),N={label:g,defaultMapBoxStyle:E,defaultMapBoxStyleXYZ:O,xyz:O,xyz_custom:b,style:E},M=ms.getItem(Oo),A=ms.getItem(aP);if(M)n(M)&&console.log(A);else if(!v)return Promise.resolve(N);return Promise.resolve(N)}function s(g){const y=Br().medium_default_styles.road;if(g){g.colors.forEach((b,E)=>{y[E].color=b});const v=y.findIndex(b=>b.label==="Hillshade");y[v].visible=g.hillshade}return y}function a(g,y,v){if(!g||!y.get(g.id))return;const b=JSON.parse(JSON.stringify(y.get(g.id)));if(!!b&&!(!b||!b.layers))return v&&v.forEach(E=>{b==null||b.layers.forEach((O,N)=>{for(const M of wP)if((E[`${M}s`]||[]).includes(O.id)){const k=Object.assign({},b.layers[N].paint);E.color&&(k[`${M}-color`]=E.color,k[`${M}-opacity`]=1,b.layers[N].paint=k),b.layers[N].layout=Object.assign({},b.layers[N].layout,{visibility:E.visible?"visible":"none"})}})}),b}function o(g){if(g===null)return Promise.resolve();{const y=`${aa.mvtStylesDeleteUrl}?id=${g}`;return fetch(y).catch(()=>"")}}function l(g,y){return o(y).then(()=>{const v=new FormData,b=JSON.stringify(g),E=new Blob([b],{type:"application/json"});v.append("style",E,"style.json");const O={method:"POST",body:v};return fetch(aa.mvtStylesUploadUrl,O).then(N=>N.json()).then(N=>N.id).catch(N=>console.warn(N))})}function u(g,y){if(!y)return;const v=g.maplibreMap;!v||(v.loaded()?v.setStyle(y):new Promise(b=>v.once("data",b)).then(()=>v.setStyle(y)))}function f(g){return Br().bg_layers.find(y=>y.id==(g==null?void 0:g.id))}function c(g){const y=f(g);return y==null?void 0:y.vector_id}function h(g){const y=f(g);return(y==null?void 0:y.vector_id)!==void 0}function d(g){const y=f(g);return{isEditable:(y==null?void 0:y.vector_id)!==void 0,hasSimpleStyle:(y==null?void 0:y.simple_style_class)!==void 0,hasAdvancedStyle:(y==null?void 0:y.medium_style_class)!==void 0,hasExpertStyle:(y==null?void 0:y.expert_style_class)!==void 0}}function m(g,y){return y.map(v=>Object.assign(v,{selected:v.colors.every((b,E)=>{var O;return((O=g[E])==null?void 0:O.color)===b})}))}function p(){const g=[],y=Rn();Br().bg_layers.forEach(v=>{if(v.vector_id){const b=i(v.icon_id,v.vector_id);g.push(b.then(E=>({id:v.id,config:E})))}}),Promise.all(g).then(v=>{const b=new Map;v.forEach(E=>b.set(E.id,E.config)),y.setBgVectorSources(b)})}return{getDefaultMapBoxStyleUrl:t,getDefaultMapBoxStyleXYZ:e,setConfigForLayer:i,getRoadStyleFromSimpleStyle:s,applyDefaultStyle:a,applyConsolidatedStyle:u,getVectorId:c,setCustomStyleSerial:r,unregisterStyle:o,registerStyle:l,checkSelection:m,isLayerStyleEditable:h,getStyleCapabilitiesFromLayer:d,initBackgroundsConfigs:p}}const Rn=as("style",()=>{const t=Wr(),e=it(),n=it(new Map),r=it(new Map),i=it(!1),s=it(null),a=it();function o(m){n.value=m}function l(m){const p=new Map;r.value.forEach((g,y)=>{y!==m&&p.set(y,g)}),r.value=p}function u(m,p){const g=new Map;r.value.forEach((y,v)=>g.set(v,y)),g.set(m,p),r.value=g}function f(m){e.value=t.getRoadStyleFromSimpleStyle(m),h()}function c(m){e.value=m,h()}function h(){i.value=!1}function d(){i.value=!0}return{bgStyle:e,bgVectorSources:n,bgVectorBaseStyles:r,isExpertStyleActive:i,appliedStyle:a,removeBaseStyle:l,setBaseStyle:u,setBgVectorSources:o,setSimpleStyle:f,setStyle:c,disableExpertStyle:h,enableExpertStyle:d,styleSerial:s}},{});class CP{constructor(){Qe(this,"styleWatcher")}bootstrapStyle(){const e=Rn();let n,r=!1;n=gn(()=>{e.bgVectorSources&&(this.restoreStyle(!1),r&&this.persistStyle(),r=!0,n&&n())})}persistStyle(){const e=Rn(),{bgStyle:n}=Ue(e);this.styleWatcher||(this.styleWatcher=tt(n,(r,i)=>{if(i!==r){const s=ht();s.bgLayer&&(Ce.setValue(s.bgLayer.name,r||[],Nu.styleToLocalStorage),Ce.setValue(Oo,r||[],Nu.styleToSerial))}},{immediate:!0}))}restoreStyle(e){const n=Rn();n.setStyle(null);const i=ht().bgLayer;if(i){let s=[];e||(s=Ce.getValue(Oo,Nu.styleSerialToStyle)),s.length===0&&(s=Ce.getValue(i.name,Nu.styleLocalStorageToStyle)),s&&s.length>0&&n.setStyle(s)}}}const Eh=new CP,LP="id",PP="label",AP="layer_name",kP="metadata",DP="queryable_id",IP="current_time",RP="time",$P="defaultMapBoxStyle",FP="https://map.geoportail.lu/ogcproxywms",VP="https://map.geoportail.lu/httpsproxy";class jP{constructor(){Qe(this,"_wmsProxyUrl",FP);Qe(this,"_remoteProxyUrl",VP)}get wmsProxyUrl(){return this._wmsProxyUrl===void 0&&console.warn("Warning: proxyWmsUrl is not set."),this._wmsProxyUrl}get remoteProxyUrl(){return this._remoteProxyUrl===void 0&&console.warn("Warning: remoteProxy is not set."),this._remoteProxyUrl}getProxyfiedUrl(e){return e.indexOf("httpsproxy")>0?e:this.remoteProxyUrl+"?url="+encodeURIComponent(e)}init_v3(e,n){e&&(this._wmsProxyUrl=e),n&&(this._remoteProxyUrl=n)}}const ps=new jP;function x0(){return Et.transformExtent([5.31,49.38,6.64,50.21],ry,oo)}function O0(t){var e;return!!((e=t==null?void 0:t.metadata)!=null&&e.hasRetina)&&c0()}function GP(t,e="https"){const n=t.imageType.split("/")[1],r=Ce.getValue(Eo,yh)?"app.geoportail.lu":"geoportail.lu";return`${e==="https"?"//wmts{3-4}.":"//wmts{1-2}."}${r}/mapproxy_4_v3/wmts/{Layer}${O0(t)?"_hd":""}/{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}.${n}`}class UP{createOlLayer(e){const{name:n,layers:r,imageType:i,url:s,id:a}=e,o=new yd.default({url:s||ps.wmsProxyUrl,hidpi:c0(),serverType:"mapserver",params:{FORMAT:i,LAYERS:r},...s!=null||ps.remoteProxyUrl?{crossOrigin:"anonymous"}:{}});return new Fb.default({properties:{"olcs.extent":x0(),label:n,id:a},source:o})}setLayerTime(e,n){const r=e.getParams();r.TIME=n,e.updateParams(r)}}const M0=new UP,BP=[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],WP=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"];class qP{createOlLayer(e){const{name:n,imageType:r,id:i}=e,s=O0(e),a=Et.get(oo),o=a.getExtent(),l=new vd.default({url:GP(e),tilePixelRatio:s?2:1,layer:n,matrixSet:`GLOBAL_WEBMERCATOR_4_V3${s?"_HD":""}`,format:r,requestEncoding:"REST",projection:a,tileGrid:new jb.default({origin:_b.getTopLeft(o),extent:o,resolutions:BP,matrixIds:WP}),style:"default",crossOrigin:"anonymous"});return new Vb.default({source:l,properties:{"olcs.extent":x0(),label:n,id:i}})}setLayerTime(e,n,r){const i=e.get("metadata").time_layers[r],s=n.getUrls();if(s){const a=this.transformUrls(s,i);n.setUrls(a),e.set("label",i),e.set("layer_name",i)}}transformUrls(e,n){return e.map(r=>r.replace(/[/][^/]*[/]{TileMatrixSet}/,`/${n}/{TileMatrixSet}`))}}const T0=new qP;class Sh extends Gb.default{constructor(e){const n=Object.assign({},e);delete n.accessToken,delete n.style,delete n.container,delete n.xyz,super(n),this.set("xyz",e.maplibreOptions.xyz),this.set("xyz_custom",e.maplibreOptions.xyz_custom),this.xyz_=e.xyz,e.accessToken&&(_d.default.accessToken=e.accessToken),this.map_=new _d.default.Map({container:e.maplibreOptions.container,style:e.maplibreOptions.style,attributionControl:!1,interactive:!1}),this.maplibreMap=this.map_}getMapBoxMap(){return this.map_}getMapLibreMap(){return this.map_}render(e){const n=this.map_.getCanvas(),r=e.viewState;n.style.position="absolute";const i=this.getVisible();n.style.display=i?"block":"none";const s=this.getOpacity().toString();s!==n.style.opacity&&(n.style.opacity=s);const a=r.rotation;return a&&this.map_.rotateTo(Eb.toDegrees(-a),{animate:!1}),this.map_.jumpTo({center:Sb.toLonLat(r.center),zoom:r.zoom-1,animate:!1}),this.map_._frame&&(this.map_._frame.cancel(),this.map_._frame=null),this.map_._render(),n}setLayerVisibility(e,n){this.map_.setLayoutProperty(e,"visibility",n?"visible":"none")}getStyle(){return this.map_.getStyle()}getXYZ(){return this.get("xyz")}}class HP{createOlLayer(e,n){const r=mr(),{id:i,metadata:s,name:a}=e,o=n.get(i);if(!o)return;const l={container:r.getOlMap().getTarget(),...o},u=new Sh({maplibreOptions:l,label:a,id:i,queryable_id:i,metadata:s}),f=Rn(),c=Wr();return u.getMapLibreMap().loaded()?f.setBaseStyle(i,u.getMapLibreMap().getStyle()):new Promise(h=>u.getMapLibreMap().once("data",h)).then(()=>f.setBaseStyle(i,u.getMapLibreMap().getStyle())),u.set($P,c.getDefaultMapBoxStyleUrl(c.getVectorId(e))),u}}const zP=new HP;var gs=(t=>(t.WMS="WMS",t.WFS="WFS",t.WMTS="WMTS",t.BG_WMTS="BG WMTS",t.BG_MVT="BG MVT",t["3D"]="3D",t))(gs||{});class YP{createOlLayer(e,n){let r;if(n&&(r=zP.createOlLayer(e,n)),!r)switch(e.type){case gs.WMS:r=M0.createOlLayer(e);break;case gs.WMTS:case gs.BG_WMTS:r=T0.createOlLayer(e);break;default:throw new Error(`Unrecognized layer type: ${e.type}`)}return r.set(LP,e.id),r.set(PP,e.name),r.set(AP,e.name),r.set(kP,e.metadata),r.set(DP,e.id),r.set(IP,In().getLayerCurrentTime(e)),r.set(RP,e.time),r.setOpacity(e.opacity),r}}const N0=new YP;class XP{setLayerTime(e,n){const r=e.getSource();r instanceof yd.default&&M0.setLayerTime(r,n),r instanceof vd.default&&T0.setLayerTime(e,r,n)}}const KP=new XP,Iu=-200;function wh(){function t(d,m){if(!m)return;const p=u(m);d.addLayer(p)}function e(d,m){return d.getLayers().getArray().find(p=>p.get("id")===m)}function n(d,m){const p=e(d,m);p&&d.removeLayer(p)}function r(d,m){const p=d.getLayers().getArray();m.forEach((g,y)=>{const v=p.find(b=>b.get("id")===g.id);v==null||v.setZIndex(y+1)})}function i(d,m,p){const g=d.getLayers().getArray().find(y=>y.get("id")===m);g&&g.setOpacity(p)}function s(d,m){const p=In(),g=e(d,m.id),y=p.getLayerCurrentTime(m);y&&g&&KP.setLayerTime(g,y)}function a(d){lo.delete(d)}function o(d){return lo.has(d.id)}function l(d,m){lo.set(d,m)}function u(d){const m=d.id,p=lo.get(m);if(p)return p;{const g=N0.createOlLayer(d);return l(m,g),g}}function f(d){return d&&lo.get(d.id)||null}function c(d,m){const g=d.getLayers().getArray().find(y=>y.getZIndex()===Iu);g&&m(g)}function h(d,m,p){var E;const g=d.getLayers(),y=g.getArray().findIndex(O=>O.getZIndex()===Iu),v=(E=g.getArray()[y])==null?void 0:E.get("id");let b;m&&(o(m)?b=f(m):(b=N0.createOlLayer(m,p),l(m.id,b))),y>=0?b?(b.setZIndex(Iu),g.setAt(y,b)):g.removeAt(y):b&&(b.setZIndex(Iu),d.addLayer(b)),v&&v!==(m==null?void 0:m.id)&&Eh.restoreStyle(!0)}return{addLayer:t,findLayer:e,removeLayer:n,removeFromCache:a,reorderLayers:r,setLayerOpacity:i,setLayerTime:s,getLayerFromCache:f,setBgLayer:h,applyOnBgLayer:c}}class ZP{constructor(e){Qe(this,"previousLayers");Qe(this,"previousVectorSources");Qe(this,"timeoutID");const n=ht(),r=Rn(),i=mr(),s=Wr(),a=wh(),{appliedStyle:o}=Ue(r);tt(()=>n.layers,l=>{const u={layers:this.previousLayers},f={layers:l},c=i.getRemovedLayers(f,u),h=i.getAddedLayers(f,u),d=i.getMutatedLayers(f,u);c.forEach(m=>a.removeLayer(e,m.id)),h.forEach(m=>{a.addLayer(e,m.layer),a.setLayerTime(e,m.layer)}),d.forEach(m=>{a.setLayerOpacity(e,m.id,m.opacity),a.setLayerTime(e,m)}),f.layers&&a.reorderLayers(e,f.layers),this.previousLayers=l}),tt(()=>n.bgLayer,l=>l!==void 0&&a.setBgLayer(e,l,r.bgVectorSources)),gn(()=>{r.isExpertStyleActive||(o.value=s.applyDefaultStyle(n.bgLayer,r.bgVectorBaseStyles,r.bgStyle))}),tt(o,l=>{r.bgStyle===null&&!r.isExpertStyleActive?s.unregisterStyle(r.styleSerial).then(r.styleSerial=null):(clearTimeout(this.timeoutID),this.timeoutID=setTimeout(()=>{s.registerStyle(l,r.styleSerial).then(u=>{var c;r.styleSerial=u;const f=(c=n==null?void 0:n.bgLayer)==null?void 0:c.id;(n==null?void 0:n.bgLayer)&&f!==void 0&&u!==void 0&&a.setBgLayer(e,n==null?void 0:n.bgLayer,r.bgVectorSources)})},2e3)),a.applyOnBgLayer(e,u=>s.applyConsolidatedStyle(u,l))}),tt(()=>r.bgVectorSources,l=>{var u;for(const f of l.keys())(!this.previousVectorSources||this.previousVectorSources.get(f)!==l.get(f))&&(a.removeFromCache(f),f===((u=n==null?void 0:n.bgLayer)==null?void 0:u.id)&&a.setBgLayer(e,n==null?void 0:n.bgLayer,l));this.previousVectorSources=l})}}const JP={0:8,1:9,2:9,3:10,4:11,5:12,6:13,7:14,8:16,9:17,10:18,11:19,12:20,13:21};class QP{bootstrap(){this.restore(),this.persist()}persistZoom(){const e=mr().getOlMap().getView(),n=()=>{const r=e.getZoom();Ce.setValue(p0,r?Math.ceil(r):null)};n(),bd.listen(e,"change:resolution",u0(n,300))}persistXY(){const e=mr().getOlMap().getView(),n=()=>{const r=e.getCenter();Ce.setValue(g0,r?Math.round(r[0]):null),Ce.setValue(y0,r?Math.round(r[1]):null)};n(),bd.listen(e,Ub.default.PROPERTYCHANGE,u0(n,300))}persist(){this.persistXY(),this.persistZoom()}restore(){const e=mr().getOlMap().getView(),n=Ce.getValue(p0,ia),r=Ce.getInitialVersion(),i=Ce.getValue(g0,ia),s=Ce.getValue(y0,ia),a=Ce.getValue(sP),o=Et.getTransform(u2,oo);let l,u;n!==void 0?u=r===3?Number(n):JP[n]:u=8,i!=null&&s!=null?r===3&&a!=null?l=Et.transform([i,s],a,oo):l=r===3?[i,s]:o([s,i],void 0,2):l=Et.transform([6,49.7],ry,oo),e.setCenter(l),e.setZoom(u)}}const eA=new QP,tA={key:0,class:"absolute bottom-0 z-10 text-[0.8em] px-[4px] text-[#6b818f] bg-[#ffffffb3]"},nA=de(he({__name:"attribution-control",setup(t){const e=ht(),n=Ee("");return gn(()=>{var r,i;n.value=((i=(r=e.bgLayer)==null?void 0:r.metadata)==null?void 0:i.attribution)||""}),(r,i)=>{const s=jc("dompurify-html");return n.value?yl((P(),V("div",tA,null,512)),[[s,n.value]]):F("v-if",!0)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/attribution-control.vue"]]);function Mo(t,e){const n=new t(e),r=mr(),i=Ls("olMap");return yn(()=>{i.addControl(n),i.changed()}),ci(()=>{const s=r.getOlMap();s.removeControl(n),s.changed()}),{control:n}}const rA=["title"],iA=de(he({__name:"location-control",props:{className:{type:String,required:!1,default:"location-button"},label:{type:String,required:!1,default:"\uE800"},tipLabel:{type:String,required:!1,default:"Location"}},setup(t){const{t:e}=Xe(),n=t,r=Ee(null);function i(){}return yn(()=>Mo(Ed.default,{...n,target:r})),(s,a)=>(P(),V("div",{ref_key:"controlElement",ref:r,class:Ae(`tracker-off ${n.className} ${w(Wo.CLASS_UNSELECTABLE)} ${w(Wo.CLASS_CONTROL)}`)},[L("button",{title:w(e)(n.tipLabel),onClick:i},oe(n.label),9,rA)],2))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/location-control.vue"]]),sA=["title"],aA=de(he({__name:"map-3d",props:{className:{type:String,required:!1,default:"map-3d-button"},label:{type:String,required:!1,default:"\uE057"},tipLabel:{type:String,required:!1,default:"3d"}},setup(t){const e=ht(),{t:n}=Xe(),r=t,i=Ee(null);yn(()=>Mo(Ed.default,{...r,target:i}));const s=()=>{e.setIs3dActive(!e.is3dActive)};return(a,o)=>(P(),V("div",{ref_key:"controlElement",ref:i,class:Ae(`${r.className} ${w(Wo.CLASS_UNSELECTABLE)} ${w(Wo.CLASS_CONTROL)} ${w(e).is3dActive?"active":""}`)},[L("button",{title:w(n)(r.tipLabel),onClick:s},oe(r.label),9,sA)],2))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/map-3d.vue"]]),oA=de(he({__name:"fullscreen-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01C"},labelActive:{type:String,required:!1,default:"\uE02C"}},setup(t){const e=t;return Mo(Bb.default,e),(n,r)=>F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/fullscreen-control.vue"]]),lA=de(he({__name:"zoom-control",props:{className:{type:String,required:!1},zoomInLabel:{type:String,required:!1,default:"\uE032"},zoomOutLabel:{type:String,required:!1,default:"\uE033"}},setup(t){const e=t;return Mo(Wb.default,e),(n,r)=>F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/zoom-control.vue"]]);class uA extends qb.default{constructor(n){super(n);Qe(this,"ol3dm")}handleZoomToExtent(){this.ol3dm&&this.ol3dm.luxCameraExtentInRadians&&this.ol3dm.is3dEnabled()||super.handleZoomToExtent()}}const cA=de(he({__name:"zoom-to-extent-control",props:{className:{type:String,required:!1},label:{type:String,required:!1,default:"\uE01B"},tipLabel:{type:String,required:!1},extent:{type:Array,required:!0}},setup(t){return Mo(uA,t),(n,r)=>F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map-controls/zoom-to-extent-control.vue"]]),C0=de(he({__name:"map-container",props:{v4_standalone:{type:Boolean,required:!1,default:!1}},setup(t){const e=mr(),n=Ee(null),r=e.createMap(),i=[425152.9429259216,632446599999133e-8,914349.9239510496,6507914867875754e-9];return yn(()=>{n.value&&(new ZP(r),eA.bootstrap(),r.setTarget(n.value),window.olMap=r)}),Gm("olMap",r),(s,a)=>(P(),V("div",{id:"map-container",ref_key:"mapContainer",ref:n,class:"h-full w-full bg-white relative"},[te(lA),te(cA,{extent:i}),te(oA),te(nA),s.v4_standalone?(P(),Fe(aA,{key:0})):F("v-if",!0),te(iA)],512))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/map/map-container.vue"]]),fA="fr",hA=!0,dA=!1,mA=!1,vt=as("app",()=>{const t=Ee(fA),e=Ee(hA),n=Ee(dA),r=Ee(mA),i=Ee(),s=Ee(),a=Ee(!1),o=Ee(!1);function l(y){t.value=y}function u(y){e.value=y,y||(r.value=!1,n.value=!1)}function f(y){n.value=y,y&&(r.value=!1)}function c(y){r.value=y}function h(y){s.value=y}function d(y){i.value=y}function m(){a.value=!0}function p(){a.value=!1}function g(y){o.value=y}return{lang:t,layersOpen:e,myLayersTabOpen:n,themeGridOpen:r,mapId:i,styleEditorOpen:a,remoteLayersOpen:s,drawToolbarOpen:o,setLang:l,setLayersOpen:u,setMyLayersTabOpen:f,setThemeGridOpen:c,setRemoteLayersOpen:h,setMapId:d,openStyleEditorPanel:m,closeStyleEditorPanel:p,setDrawToolbarOpen:g}},{}),Ru={name:"blank",id:0};function xh(){const t=vt(),{mapId:e}=Ue(t),n=Ci(),r=ht(),i=In(),s=me(()=>{var c;if(!e.value){const h=(c=Ht().theme)==null?void 0:c.name;if(h)return Br().bg_layer_theme_defaults[h]||l()}return l()});function a(c){const h=n.findBgLayerById(c);o(h||null)}function o(c){if(c){if(c.type===gs.WMTS||c.type===gs.BG_WMTS)c.type="BG WMTS";else if(c.type===gs.BG_MVT)console.log(`passed through MVT layer ${c.name}`);else throw new Error(`Only WMTS and MVT BG layers are currently implemented (not ${c.type} for ${c.name})`);i.handleExclusionLayers(c),r.setBgLayer(i.initLayer(c))}else r.setBgLayer(null)}function l(){var c;return((c=f().find(h=>h.is_default))==null?void 0:c.id)||Ru.id}function u(){return Ru.id}function f(){return Br().bg_layers}return{setBgLayer:a,setMapBackground:o,getBgLayersFromConfig:f,getNullId:u,getDefaultSelectedId:l,defaultSelectedBgId:s}}const pA=["title"],L0=de(he({__name:"background-selector-item",props:{bgTitle:{type:String,default:""},bgName:{type:String,default:""}},setup(t){const{t:e}=Xe(),n=t,r=me(()=>{const s=e(n.bgTitle),a=n.bgTitle.length>0,o=`${e("Background layer:")} ${e(n.bgName)}`;return`${s}${a?" - ":""}${o}`}),i=me(()=>`h-full w-full rounded-sm lux-bg-sel-icon
        lux-bg-sel-${n.bgName}
        bg-${n.bgName}_sm
        md:bg-${n.bgName}
        hd:bg-${n.bgName}_sm_hi
        hd_md:bg-${n.bgName}_hi`);return(s,a)=>(P(),V("button",{title:r.value,class:Ae(i.value)},null,10,pA))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/background-selector/background-selector-item.vue"]]),gA={key:0,class:"flex flex-row-reverse"},P0=de(he({__name:"background-selector",props:{isOpen:{type:Boolean,default:!1}},setup(t){const{t:e}=Xe(),n=xh(),r=ht(),i=Ht(),{bgLayer:s,is3dMesh:a}=Ue(r),l=Ee(t.isOpen),u=Ee([]),f=me(()=>{var m,p;return(p=(m=s.value)==null?void 0:m.id)!=null?p:n.getNullId()}),c=me(()=>{var m,p;return(p=(m=u.value)==null?void 0:m.find(g=>g.id===f.value))==null?void 0:p.name});tt(()=>i.bgLayers,m=>{u.value=Br().bg_layers.map(p=>Object.assign({id:p.id},m.find(g=>p.id===g.id),{name:p.icon_id}))},{immediate:!0}),tt(()=>r.bgLayer,(m,p)=>{const g=r.layers;p===void 0&&m===null&&(g==null?void 0:g.length)===0&&(n.setBgLayer(n.defaultSelectedBgId.value),m===null&&tu().addNotification(e("Aucune couche n'\xE9tant d\xE9finie pour cette carte, une couche de fond a automatiquement \xE9t\xE9 ajout\xE9e.",{ns:"client"})))});function h(m){n.setBgLayer(m.id),l.value=!1}function d(){l.value=!l.value}return(m,p)=>w(a)?F("v-if",!0):(P(),V("div",gA,[L("div",{class:Ae(["lux-bg-sel border border-black",l.value===!0?"hidden":"block"])},[te(L0,{"aria-expanded":l.value,"bg-title":"Select BG layer","bg-name":c.value,onClick:d},null,8,["aria-expanded","bg-name"])],2),L("div",{class:Ae(l.value===!0?"flex flex-col md:flex-row":"hidden")},[(P(!0),V(Ge,null,On(u.value,g=>(P(),V("div",{key:g.id,class:Ae(["lux-bg-sel hover:bg-cyan-600",g.id===f.value?"border-red-500 border-2":"border-black border"])},[te(L0,{"bg-name":g.name,onClick:y=>h(g)},null,8,["bg-name","onClick"])],2))),128))],2)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/background-selector/background-selector.vue"]]),yA=L("div",{class:"fixed inset-0 bg-gray-900 opacity-40 z-[1050]"},null,-1),vA={class:"bg-white shadow-modal rounded-lg overflow-hidden w-[700px]"},_A={class:"relative flex flex-row justify-center p-4 border-b-[1px]"},bA={class:"text-xl"},EA=[L("span",{"aria-hidden":"true"},"\xD7",-1)],SA={key:0,class:"p-[15px] border-t-[1px]"},wA={class:"flex flex-row justify-end"},A0=de(he({__name:"modal-dialog",props:{footer:{type:Boolean,default:!0},maxHeight:{type:Boolean,default:!1},title:String},emits:["close"],setup(t){const{t:e}=Xe(),n=Ee();yn(()=>{n.value.focus()});const r=it(!0);function i(){r.value=!1}return(s,a)=>(P(),Fe(sp,{to:"body"},[F(" backdrop "),yA,F(" modal "),te(Cl,{appear:"","enter-active-class":"duration-200 ease-out","enter-from-class":"transform opacity-0 -translate-y-60","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-60",onAfterLeave:a[3]||(a[3]=o=>s.$emit("close"))},{default:li(()=>[r.value?(P(),V("div",{key:0,role:"dialog",ref_key:"modal",ref:n,tabindex:"0",onKeydown:a[2]||(a[2]=lr(or(o=>i(),["stop"]),["esc"])),class:"fixed inset-x-0 inset-y-8 flex items-start justify-center z-[1100] outline-none"},[L("div",vA,[F(" header (title)"),L("div",_A,[L("h4",bA,oe(t.title),1),L("button",{type:"button",class:"absolute right-2 top-1 text-slate-400 text-[24px]","data-dismiss":"modal","aria-label":"Close",onClick:a[0]||(a[0]=o=>i())},[...EA])]),F(" content slot "),L("div",{class:Ae(["p-[15px] overflow-y-auto",t.maxHeight?"max-h-96":"max-h-full"])},[Am(s.$slots,"content")],2),F(" footer (optional)"),t.footer?(P(),V("div",SA,[L("div",wA,[L("button",{type:"button",class:"lux-btn","data-dismiss":"modal",onClick:a[1]||(a[1]=o=>i())},oe(w(e)("Close",{ns:"client"})),1)])])):F("v-if",!0)])],544)):F("v-if",!0)]),_:3})]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/modal-dialog.vue"]]),Oh=as("metadata",()=>{const t=Ee();function e(r){t.value=r}function n(){t.value=void 0}return{metadataId:t,setMetadataId:e,clearMetadataId:n}},{}),xA=["aria-expanded"],OA={class:"leading-6"},$u=de(he({__name:"expandable-panel",props:{expanded:{type:Boolean,required:!0},title:{type:String,required:!0}},emits:["togglePanel"],setup(t){return(e,n)=>(P(),V(Ge,null,[L("button",{onClick:n[0]||(n[0]=r=>e.$emit("togglePanel")),class:"group w-full text-left flex px-2 py-1.5 uppercase bg-tertiary","aria-expanded":e.expanded},[L("div",{class:Ae(["grow",e.expanded?"text-white":"text-secondary"])},oe(e.title),3),L("div",OA,[L("div",{class:Ae(["fa fa-sharp fa-solid group-hover:text-white text-primary",e.expanded?"fa-caret-up":"fa-caret-down"])},null,2)])],8,xA),L("div",{class:Ae(e.expanded?"":"hidden")},[Am(e.$slots,"default")],2)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/expandable-panel.vue"]]),MA={class:"mb-px",key:"node.id"},TA=["data-cy"],NA=["aria-expanded","data-cy"],CA={class:"grow"},LA={class:"leading-6"},PA={key:1,class:"flex text-tertiary pr-2"},AA=["data-cy"],kA={class:"ml-1 hover:underline"},Mh=de(he({__name:"layer-tree-node",props:{node:{type:Object,required:!0}},emits:["toggleLayer","toggleParent"],setup(t,{emit:e}){const n=t,r=e,{t:i}=Xe(),{setMetadataId:s}=Oh(),a=!!n.node.children,o=n.node.depth===0,l=n.node.depth>=10,u=me(()=>i(n.node.name,{ns:"client"}));function f(h){r("toggleLayer",h)}function c(h){r("toggleParent",h)}return(h,d)=>{const m=mE("layer-tree-node",!0);return a?(P(),V("div",MA,[F("    First level parents"),h.node.depth===1?(P(),V("div",{key:0,"data-cy":`parentLayerLabel-${h.node.id}`},[te($u,{title:u.value,expanded:h.node.expanded,onTogglePanel:d[0]||(d[0]=p=>c(h.node))},null,8,["title","expanded"])],8,TA)):h.node.depth>1&&!l?(P(),V(Ge,{key:1},[F("    Other parents (with custom panel style)"),L("button",{class:Ae(["w-full text-left flex px-2 py-1.5 pl-2",h.node.expanded?"text-tertiary":"bg-white text-primary"]),"aria-expanded":h.node.expanded,onClick:d[1]||(d[1]=p=>c(h.node)),"data-cy":`parentLayerLabel-${h.node.id}`},[L("div",CA,oe(u.value),1),L("div",LA,[L("div",{class:Ae(["fa-sharp fa-solid",h.node.expanded?"fa-minus":"fa-plus"])},null,2)])],10,NA)],2112)):F("v-if",!0),F("    Children"),l?F("v-if",!0):(P(),V("div",{key:2,class:Ae(["bg-secondary",[{"pl-2":h.node.depth>1},{"lux-collapse":!o},{expanded:!o&&h.node.expanded}]])},[(P(!0),V(Ge,null,On(h.node.children,p=>(P(),Fe(m,{key:p.id,node:p,onToggleParent:d[2]||(d[2]=g=>c(g)),onToggleLayer:d[3]||(d[3]=g=>f(g))},null,8,["node"]))),128))],2))])):(P(),V("div",PA,[L("button",{class:"self-start before:text-[.85rem] before:transform before:translate-y-[.1rem] before:inline-block before:content-['\\f129'] fa-solid fa-fw fa-fh fa-info",onClick:d[4]||(d[4]=p=>w(s)(h.node.id))}),L("button",{class:Ae(["w-full text-left",{"font-bold":h.node.checked}]),onClick:d[5]||(d[5]=p=>f(h.node)),"data-cy":`layerLabel-${h.node.id}`},[L("i",{class:Ae(["fa-solid",h.node.checked?"fa-check-square":"fa-square"])},null,2),L("span",kA,oe(u.value),1)],10,AA)]))}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-tree/layer-tree-node.vue"]]);class DA{toggleNode(e,n,r){var i;return(n==null?void 0:n.id)===e?{...n,[r]:!n[r]}:{...n,children:(i=n.children)==null?void 0:i.map(s=>this.toggleNode(e,s,r))}}updateLayers(e,n){const{id:r}=e;if(e.children)return{...e,children:e.children.map(i=>this.updateLayers(i,n))};{const i=!!(n!=null&&n.find(s=>s.id===r));return{...e,checked:i}}}}const oa=new DA;var $n=(t=>(t.WMS="WMS",t.WMTS="WMTS",t))($n||{});function IA(t,e){var n,r;return t.children&&!e.children||((n=e.children)==null?void 0:n.length)===0?1:e.children&&!t.children||((r=t.children)==null?void 0:r.length)===0?-1:0}function k0(t,e,n=0){const{name:r="",type:i=$n.WMS,children:s}=t,a=`${i}||${e}||${r}`.split("-").join("%2D"),o=ht();return{id:a,name:r,depth:n,children:s==null?void 0:s.sort(IA).map(l=>k0(l,e,n+1)),checked:o.hasLayer(a),expanded:!1}}function RA(t){const e=decodeURIComponent(t),[n,r,i]=e.split("||");return D0({id:e,url:ps.getProxyfiedUrl(r),remoteLayer:{name:i,type:n}})}function D0({id:t,url:e,remoteLayer:n}){const{name:r="",type:i=$n.WMS}=n;return{id:t,name:r,layers:r,url:e,type:i,imageType:Ny.PNG}}class Th{constructor(e,n=0,r=!1){this.message=e,this.httpStatus=n,this.isCrossOriginRelated=r}}let $A=0;function FA(){return $A++}function VA(t,e,n){return new Promise((r,i)=>{const s=FA(),a={requestId:s,taskName:t,params:n};e===null?window.dispatchEvent(new CustomEvent("ogc-client.request",{detail:a})):e.postMessage(a);const o=({detail:l,data:u})=>{const f=l||u;f.requestId===s&&(e===null?window.removeEventListener("message",o):e.removeEventListener("message",o),"error"in f?i(f.error):r(f.response))};e===null?window.addEventListener("ogc-client.response",o):e.addEventListener("message",o)})}function Nh(t,e,n){const r=typeof WorkerGlobalScope<"u",i=async({detail:s,data:a})=>{const o=s||a;if(o.taskName===t){let l,u;try{l=await n(o.params)}catch(c){u=c}const f={taskName:t,requestId:o.requestId,...l&&{response:l},...u&&{error:u}};r?e.postMessage(f):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:f}))}};r?e.addEventListener("message",i):e.addEventListener("ogc-client.request",i)}let Ch;function jA(){return Ch||(Ch=new Worker(URL.createObjectURL(new Blob([`function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(t,e,r){var n=h;return function(o,i){if(n===v)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=v;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?d:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",d="completed",y={};function m(){}function g(){}function b(){}var S={};S[a]=function(){return this};var E=Object.getPrototypeOf,w=E&&E(E(C([])));w&&w!==r&&o.call(w,a)&&(S=w);var O=b.prototype=m.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(i,a,c,u){var s=l(t[i],t,a);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"===n(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(h).then((function(t){f.value=t,c(f)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}}function k(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function C(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:G}}function G(){return{value:e,done:!0}}return g.prototype=O.constructor=b,b.constructor=g,g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},x(P.prototype),P.prototype[c]=function(){return this},t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(O),s(O,u,"Generator"),O[a]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(o);var i=o.exports;function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(t,e,n){var o="undefined"!=typeof WorkerGlobalScope,a=function(){var a=r(i.mark((function r(a){var u,s,f,l,h,p;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=a.detail,s=a.data,(f=u||s).taskName!==t){r.next=14;break}return r.prev=3,r.next=6,n(f.params);case 6:l=r.sent,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),h=r.t0;case 12:p=c(c({taskName:t,requestId:f.requestId},l&&{response:l}),h&&{error:h}),o?e.postMessage(p):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:p}));case 14:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(t){return a.apply(this,arguments)}}();o?e.addEventListener("message",a):e.addEventListener("ogc-client.request",a)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function v(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t,e,r){return m=y()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&h(o,r.prototype),o},m.apply(null,arguments)}function g(t){var e="function"==typeof Map?new Map:void 0;return g=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return m(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)},g(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),t}var E=function(){function t(e){l(this,t),this.chars=f(e),this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;var r=this.chars,n=this.charCount,o=this.charsToBytes;if(n===e.length)for(var i=0;i<n;++i)o[i]=i;else{for(var a=0,c=0;c<n;++c)o[c]=a,a+=r[c].length;this.multiByteMode=!0}}return S(t,[{key:"isEnd",get:function(){return this.charIndex>=this.charCount}},{key:"_charLength",value:function(t){var e=t.length;return e<2||!this.multiByteMode?e:t.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,"_").length}},{key:"advance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.charIndex=Math.min(this.charCount,this.charIndex+t)}},{key:"consume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.peek(t);return this.advance(t),e}},{key:"consumeMatch",value:function(t){if(!t.sticky)throw new Error('\`regex\` must have a sticky flag ("y")');t.lastIndex=this.charsToBytes[this.charIndex];var e=t.exec(this.string);if(null===e)return"";var r=e[0];return this.advance(this._charLength(r)),r}},{key:"consumeMatchFn",value:function(t){for(var e=this.charIndex;!this.isEnd&&t(this.peek());)this.advance();return this.charIndex>e?this.string.slice(this.charsToBytes[e],this.charsToBytes[this.charIndex]):""}},{key:"consumeString",value:function(t){if(this.consumeStringFast(t))return t;if(!this.multiByteMode)return"";var e=t.length,r=this._charLength(t);return r!==e&&t===this.peek(r)?(this.advance(r),t):""}},{key:"consumeStringFast",value:function(t){if(this.peek()===t[0]){var e=t.length;if(1===e)return this.advance(),t;if(this.peek(e)===t)return this.advance(e),t}return""}},{key:"consumeUntilMatch",value:function(t){if(!t.global)throw new Error('\`regex\` must have a global flag ("g")');var e=this.charsToBytes[this.charIndex];t.lastIndex=e;var r=t.exec(this.string);if(null===r||r.index===e)return"";var n=this.string.slice(e,r.index);return this.advance(this._charLength(n)),n}},{key:"consumeUntilString",value:function(t){var e=this.charIndex,r=this.charsToBytes,n=this.string,o=r[e],i=n.indexOf(t,o);if(i<=0)return"";var a=n.slice(o,i);return this.advance(this._charLength(a)),a}},{key:"peek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.charIndex>=this.charCount)return"";if(1===t)return this.chars[this.charIndex];var e=this.charsToBytes,r=this.charIndex;return this.string.slice(e[r],e[r+t])}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.charIndex=t>=0?Math.min(this.charCount,t):Math.max(0,this.charIndex+t)}}]),t}(),w=E,O={},x=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function P(t){if(k(t))return!0;var e=T(t);return 45===e||46===e||e>=48&&e<=57||183===e||e>=768&&e<=879||e>=8255&&e<=8256}function k(t){var e=T(t);return 58===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function R(t){var e=T(t);return 9===e||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}function T(t){return t.codePointAt(0)||-1}O.predefinedEntities=x,O.isNameChar=P,O.isNameStartChar=k,O.isNotXmlChar=function(t){return!R(t)},O.isReferenceChar=function(t){return"#"===t||P(t)},O.isWhitespace=function(t){var e=T(t);return 32===e||9===e||10===e||13===e},O.isXmlChar=R;var j=function(){function t(){l(this,t),this.parent=null}return S(t,[{key:"document",get:function(){return this.parent?this.parent.document:null}},{key:"isRootNode",get:function(){return!!this.parent&&this.parent===this.document}},{key:"preserveWhitespace",get:function(){return Boolean(this.parent&&this.parent.preserveWhitespace)}},{key:"type",get:function(){return""}},{key:"toJSON",value:function(){var t={type:this.type};return this.isRootNode&&(t.isRootNode=!0),this.preserveWhitespace&&(t.preserveWhitespace=!0),t}}]),t}();j.TYPE_CDATA="cdata",j.TYPE_COMMENT="comment",j.TYPE_DOCUMENT="document",j.TYPE_ELEMENT="element",j.TYPE_PROCESSING_INSTRUCTION="pi",j.TYPE_TEXT="text";var C=j;function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var N=C,A=function(t){p(r,N);var e=G(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).text=n,t}return S(r,[{key:"type",get:function(){return N.TYPE_TEXT}},{key:"toJSON",value:function(){return Object.assign(N.prototype.toJSON.call(this),{text:this.text})}}]),r}(),F=A;function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var L=C,M=F,B=function(t){p(r,M);var e=I(r);function r(){return l(this,r),e.apply(this,arguments)}return S(r,[{key:"type",get:function(){return L.TYPE_CDATA}}]),r}(),_=B;function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var D=C,W=function(t){p(r,D);var e=U(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).content=n,t}return S(r,[{key:"type",get:function(){return D.TYPE_COMMENT}},{key:"toJSON",value:function(){return Object.assign(D.prototype.toJSON.call(this),{content:this.content})}}]),r}(),X=W;function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var q=C,J=function(t){p(r,q);var e=Y(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return l(this,r),(n=e.call(this)).name=t,n.attributes=o,n.children=i,n}return S(r,[{key:"isEmpty",get:function(){return 0===this.children.length}},{key:"preserveWhitespace",get:function(){for(var t=this;t instanceof r;){if("xml:space"in t.attributes)return"preserve"===t.attributes["xml:space"];t=t.parent}return!1}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return q.TYPE_ELEMENT}},{key:"toJSON",value:function(){return Object.assign(q.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),V=J;function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var K=V,z=C,H=function(t){p(r,z);var e=$(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(this,r),(t=e.call(this)).children=n,t}return S(r,[{key:"document",get:function(){return this}},{key:"root",get:function(){return this.children.find((function(t){return t instanceof K}))||null}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return z.TYPE_DOCUMENT}},{key:"toJSON",value:function(){return Object.assign(z.prototype.toJSON.call(this),{children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),Q=H;function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var tt=C,et=function(t){p(r,tt);var e=Z(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(this,r),(n=e.call(this)).name=t,n.content=o,n}return S(r,[{key:"type",get:function(){return tt.TYPE_PROCESSING_INSTRUCTION}},{key:"toJSON",value:function(){return Object.assign(tt.prototype.toJSON.call(this),{name:this.name,content:this.content})}}]),r}(),rt=et;function nt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=w,at=O,ct=_,ut=X,st=Q,ft=V,lt=rt,ht=F,pt=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(l(this,t),this.document=new st,this.currentNode=this.document,this.options=r,this.scanner=new it(vt(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}return S(t,[{key:"addNode",value:function(t){t.parent=this.currentNode,this.currentNode.children.push(t)}},{key:"addText",value:function(t){var e=this.currentNode.children;if(e.length>0){var r=e[e.length-1];if(r instanceof ht)return void(r.text+=t)}this.addNode(new ht(t))}},{key:"consumeAttributeValue",value:function(){var t,e=this.scanner,r=e.peek();if('"'!==r&&"'"!==r)return!1;e.advance();var n=!1,o="",i='"'===r?new RegExp('[^"&<]+',"y"):new RegExp("[^'&<]+","y");t:for(;!e.isEnd;){switch((t=e.consumeMatch(i))&&(this.validateChars(t),o+=t.replace(/[\\t\\r\\n]/g," ")),e.peek()){case r:n=!0;break t;case"&":o+=this.consumeReference();continue;case"<":this.error("Unescaped \`<\` is not allowed in an attribute value");break;case"":this.error("Unclosed attribute")}}return n||this.error("Unclosed attribute"),e.advance(),o}},{key:"consumeCdataSection",value:function(){var t=this.scanner;if(!t.consumeStringFast("<![CDATA["))return!1;var e=t.consumeUntilString("]]>");return this.validateChars(e),t.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new ct(e)):this.addText(e),!0}},{key:"consumeCharData",value:function(){var t=this.scanner,e=t.consumeUntilMatch(/<|&|]]>/g);return!!e&&(this.validateChars(e),"]"===t.peek()&&"]]>"===t.peek(3)&&this.error("Element content may not contain the CDATA section close delimiter \`]]>\`"),this.addText(e),!0)}},{key:"consumeComment",value:function(){var t=this.scanner;if(!t.consumeStringFast("\\x3c!--"))return!1;var e=t.consumeUntilString("--");return this.validateChars(e),t.consumeStringFast("--\\x3e")||("--"===t.peek(2)?this.error("The string \`--\` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new ut(e.trim())),!0}},{key:"consumeContentReference",value:function(){var t=this.consumeReference();return!!t&&(this.addText(t),!0)}},{key:"consumeDoctypeDeclaration",value:function(){var t=this.scanner;return!(!t.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace())&&(t.consumeMatch(new RegExp("[^[>]+","y")),t.consumeMatch(new RegExp("\\\\[[\\\\s\\\\S]+?\\\\][\\\\x20\\\\t\\\\r\\\\n]*>","y"))||t.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}},{key:"consumeElement",value:function(){var t=this.scanner,e=t.charIndex;if("<"!==t.peek())return!1;t.advance();var r=this.consumeName();if(!r)return t.reset(e),!1;for(var n=Object.create(null);this.consumeWhitespace();){var o=this.consumeName();if(o){var i=this.consumeEqual()&&this.consumeAttributeValue();!1===i&&this.error("Attribute value expected"),o in n&&this.error("Duplicate attribute: ".concat(o)),"xml:space"===o&&"default"!==i&&"preserve"!==i&&this.error('Value of the \`xml:space\` attribute must be "default" or "preserve"'),n[o]=i}}if(this.options.sortAttributes){for(var a=Object.keys(n).sort(),c=Object.create(null),u=0;u<a.length;++u){var s=a[u];c[s]=n[s]}n=c}var f=Boolean(t.consumeStringFast("/>")),l=new ft(r,n);if(l.parent=this.currentNode,!f){for(t.consumeStringFast(">")||this.error("Unclosed start tag for element \`".concat(r,"\`")),this.currentNode=l,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();var h,p=t.charIndex;t.consumeStringFast("</")&&(h=this.consumeName())&&h===r||(t.reset(p),this.error("Missing end tag for element ".concat(r))),this.consumeWhitespace(),t.consumeStringFast(">")||this.error("Unclosed end tag for element ".concat(r)),this.currentNode=l.parent}return this.addNode(l),!0}},{key:"consumeEqual",value:function(){return this.consumeWhitespace(),!!this.scanner.consumeStringFast("=")&&(this.consumeWhitespace(),!0)}},{key:"consumeMisc",value:function(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}},{key:"consumeName",value:function(){return at.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(at.isNameChar):""}},{key:"consumeProcessingInstruction",value:function(){var t=this.scanner,e=t.charIndex;if(!t.consumeStringFast("<?"))return!1;var r=this.consumeName();if(r?"xml"===r.toLowerCase()&&(t.reset(e),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(t.consumeStringFast("?>"))return this.addNode(new lt(r)),!0;this.error("Whitespace is required after a processing instruction name")}var n=t.consumeUntilString("?>");return this.validateChars(n),t.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new lt(r,n)),!0}},{key:"consumeProlog",value:function(){var t=this.scanner,e=t.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return e<t.charIndex}},{key:"consumeReference",value:function(){var t=this.scanner;if("&"!==t.peek())return!1;t.advance();var e,r=t.consumeMatchFn(at.isReferenceChar);if(";"!==t.consume()&&this.error("Unterminated reference (a reference must end with \`;\`)"),"#"===r[0]){var o="x"===r[1]?parseInt(r.slice(2),16):parseInt(r.slice(1),10);isNaN(o)&&this.error("Invalid character reference"),e=String.fromCodePoint(o),at.isXmlChar(e)||this.error("Character reference resolves to an invalid character")}else if(void 0===(e=at.predefinedEntities[r])){var i=this.options,a=i.ignoreUndefinedEntities,c=i.resolveUndefinedEntity,u="&".concat(r,";");if(c){var s=c(u);if(null!=s){var f=n(s);if("string"!==f)throw new TypeError("\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ".concat(f));return s}}if(a)return u;t.reset(-u.length),this.error("Named entity isn't defined: ".concat(u))}return e}},{key:"consumeSystemLiteral",value:function(){var t=this.scanner,e=t.consumeStringFast('"')||t.consumeStringFast("'");if(!e)return!1;var r=t.consumeUntilString(e);return this.validateChars(r),t.consumeStringFast(e)||this.error("Missing end quote"),r}},{key:"consumeWhitespace",value:function(){return Boolean(this.scanner.consumeMatchFn(at.isWhitespace))}},{key:"consumeXmlDeclaration",value:function(){var t=this.scanner;if(!t.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");var e=Boolean(t.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(!1===e?this.error("XML version is missing or invalid"):/^1\\.[0-9]+$/.test(e)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(t.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();var r=Boolean(t.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();r&&("yes"!==r&&"no"!==r&&this.error('Only "yes" and "no" are permitted as values of \`standalone\`'),this.consumeWhitespace())}return t.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}},{key:"error",value:function(t){for(var e=this.scanner,r=e.charIndex,n=e.string,o=1,i="",a=1,c=0;c<r;++c){var u=n[c];"\\n"===u?(o=1,i="",a+=1):(o+=1,i+=u)}var s=n.indexOf("\\n",r),f=0;(i+=-1===s?n.slice(r):n.slice(r,s)).length>50&&(o<40?i=i.slice(0,50):(f=o-20,i=i.slice(f,o+30)));var l=new Error("".concat(t," (line ").concat(a,", column ").concat(o,")\\n")+"  ".concat(i,"\\n")+" ".repeat(o-f+1)+"^\\n");throw Object.assign(l,{column:o,excerpt:i,line:a,pos:r}),l}},{key:"validateChars",value:function(t){var e,r=0,n=nt(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;at.isNotXmlChar(o)&&(this.scanner.reset(-(f(t).length-r)),this.error("Invalid character")),r+=1}}catch(t){n.e(t)}finally{n.f()}}}]),t}();function vt(t){return"\\ufeff"===t[0]&&(t=t.slice(1)),t.replace(/\\r\\n?/g,"\\n")}var dt=pt,yt=_,mt=X,gt=Q,bt=V,St=C,Et=rt,wt=F;function Ot(t,e){return new dt(t,e).document}Ot.XmlCdata=yt,Ot.XmlComment=mt,Ot.XmlDocument=gt,Ot.XmlElement=bt,Ot.XmlNode=St,Ot.XmlProcessingInstruction=Et,Ot.XmlText=wt;var xt=Ot;function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var kt=function(t){p(r,g(Error));var e=Pt(r);function r(t){return l(this,r),e.call(this,t)}return r}();function Rt(t){return t.children[0]}function Tt(t){var e=t.indexOf(":");return e>-1?t.substr(e+1):t}function jt(t){return t.name||""}function Ct(t,e,r){var n=Tt(e);return t&&Array.isArray(t.children)?t.children.reduce((function t(e,o){return Tt(jt(o))===n&&e.push(o),r&&Array.isArray(o.children)?[].concat(f(e),f(o.children.reduce(t,[]))):e}),[]):[]}function Gt(t,e,r){return Ct(t,e,r)[0]||null}function Nt(t){return t&&Array.isArray(t.children)?f(t.children.filter((function(t){return"XmlElement"===t.constructor.name}))):[]}function At(t){var e=t&&Array.isArray(t.children)?t.children.find((function(t){return"text"===t.type})):null;return e?e.text:""}function Ft(t,e){return t&&t.attributes[e]||""}var It=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(this,t),this.message=e,this.httpStatus=r,this.isCrossOriginRelated=n};function Lt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bt=["utf-8","utf-16","iso-8859-1"];function _t(t,e){var r,n=e?function(t){var e=/charset=([^;]+)/.exec(t);return e?e[1]:null}(e):null,o=Lt(n?[n].concat(Bt):Bt);try{for(o.s();!(r=o.n()).done;){var i=r.value;try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch(t){}}}catch(t){o.e(t)}finally{o.f()}return console.warn("XML document encoding could not be determined, falling back to ".concat("utf-8",".")),new TextDecoder("utf-8").decode(t)}function Ut(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wt=new Map;function Xt(t){return function(t){if(Wt.has(t))return Wt.get(t);var e=fetch(t);return e.finally((function(){return Wt.delete(t)})),Wt.set(t,e),e}(t).catch((function(){return fetch(t,{method:"HEAD",mode:"no-cors"}).catch((function(t){throw new It("Fetching the document failed either due to network errors or unreachable host, error is: ".concat(t.message),0,!1)})).then((function(){throw new It("The document could not be fetched due to CORS limitations",0,!0)}))})).then(function(){var t=r(i.mark((function t(e){var r,n,o;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=5;break}return t.next=3,e.text();case 3:throw r=t.sent,new It("Received an error with code ".concat(e.status,": ").concat(r),e.status,!1);case 5:return t.next=7,e.arrayBuffer();case 7:return n=t.sent,o=e.headers.get("Content-Type"),t.abrupt("return",_t(n,o));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return function(t){var e=null;try{e=xt(t)}catch(t){throw new kt(t.message)}return e}(t)}))}function Yt(t,e){var r=t.match(/(https?%3A%2F%2F[^/]+)$/);if(r){var n=r[1],o=Yt(decodeURIComponent(n),e);return t.replace(n,encodeURIComponent(o))}var i,a=new URL(t),c=Object.keys(e),u=c.map((function(t){return t.toLowerCase()})),s=[],f=Ut(a.searchParams.keys());try{for(f.s();!(i=f.n()).done;){var l=i.value;u.indexOf(l.toLowerCase())>-1&&s.push(l)}}catch(t){f.e(t)}finally{f.f()}return s.map((function(t){return a.searchParams.delete(t)})),c.forEach((function(t){return a.searchParams.set(t,!0===e[t]?"":e[t])})),a.toString()}var qt=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function Jt(t){return qt.indexOf(Vt(t))>-1}function Vt(t){if(/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())){var e=/([0-9]+)$/.exec(t)[1];return"EPSG:".concat(e)}return t}function $t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?$t(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(t){return Rt(t).attributes.version}function Ht(t){var e=zt(t);return Ct(Gt(Rt(t),"Capability"),"Layer").map((function(t){return Qt(t,e)}))}function Qt(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a="1.3.0"===r?"CRS":"SRS",c=Ct(e,a).map(At),u=c.length>0?c:n,s=Ct(e,"Style").map(Zt),f=s.length>0?s:o;function l(t){return(Jt(Ft(t,a))&&"1.3.0"===r?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map((function(e){return Ft(t,e)}))}var h=Gt(e,"Attribution"),p=null!==h?te(h):i,v=Ct(e,"Layer").map((function(t){return Qt(t,r,u,f,p)}));return Kt({name:At(Gt(e,"Name")),title:At(Gt(e,"Title")),abstract:At(Gt(e,"Abstract")),availableCrs:u,styles:f,attribution:p,boundingBoxes:Ct(e,"BoundingBox").reduce((function(e,r){return Kt(Kt({},e),{},t({},Ft(r,a),l(r)))}),{})},v.length&&{children:v})}function Zt(t){var e=Ft(Gt(Gt(t,"LegendURL"),"OnlineResource"),"xlink:href");return Kt({name:At(Gt(t,"Name")),title:At(Gt(t,"Title"))},e&&{legendUrl:e})}function te(t){var e=Ft(Gt(Gt(t,"LogoURL"),"OnlineResource"),"xlink:href"),r=Ft(Gt(t,"OnlineResource"),"xlink:href"),n=At(Gt(t,"Title"));return Kt(Kt(Kt({},n&&{title:n}),r&&{url:r}),e&&{logoUrl:e})}function ee(t){return Rt(t).attributes.version}function re(t){var e;if(ee(t).startsWith("1.0")){var r=Gt(Gt(Gt(Rt(t),"Capability"),"Request"),"GetFeature");e=Nt(Gt(r,"ResultFormat")).map(jt)}else{var n=Ct(Gt(Rt(t),"OperationsMetadata"),"Operation").find((function(t){return"GetFeature"===Ft(t,"name")})),o=Ct(n,"Parameter").find((function(t){return"outputFormat"===Ft(t,"name")}));e=Ct(o,"Value",!0).map(At)}return e}function ne(t){var e=ee(t),r=re(t);return Ct(Gt(Rt(t),"FeatureTypeList"),"FeatureType").map((function(t){return function(t,e,r){var n=e.startsWith("2.")?"CRS":"SRS",o=e.startsWith("1.0")?"SRS":"Default".concat(n);function i(){var e=Gt(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map((function(t){return Ft(e,t)})).map(parseFloat)}function a(){var e=Gt(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map((function(t){return Gt(e,t)})).map((function(t){return At(t).split(" ")})).reduce((function(t,e){return[].concat(f(t),f(e))})).map(parseFloat)}var c=e.startsWith("1.0")?[]:Ct(t,"Other".concat(n)).map(At).map(Vt),u=e.startsWith("1.0")?[]:Ct(Gt(t,"OutputFormats"),"Format").map(At);return{name:At(Gt(t,"Name")),title:At(Gt(t,"Title")),abstract:At(Gt(t,"Abstract")),defaultCrs:Vt(At(Gt(t,o))),otherCrs:c,outputFormats:u.length>0?u:r,latLonBoundingBox:e.startsWith("1.0")?i():a()}}(t,e,r)}))}function oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?oe(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,r,n){var o,i=Rt(e);if(n.startsWith("2.0"))o=Ct(i,"member").map((function(t){return Nt(t)[0]}));else{var a=Gt(i,"featureMembers");o=a?Nt(a):Ct(i,"featureMember").map((function(t){return Nt(t)[0]}))}var c="1.0.0"===n?"fid":"gml:id";function u(e){return Nt(e).filter((function(t){return Tt(jt(t))in r.properties})).reduce((function(e,n){var o=Tt(jt(n));return ie(ie({},e),{},t({},o,function(t,e){switch(r.properties[t]){case"integer":return parseInt(e);case"float":return parseFloat(e);case"boolean":return"true"===e;default:return e}}(o,At(n))))}),{})}return o.map((function(t){return{id:Ft(t,c),properties:u(t)}}))}function ce(e,r,n,o,i,a,c,u,s,f){var l="2.0.0"===r?"COUNT":"MAXFEATURES",h=t({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:r},"2.0.0"===r?"TYPENAMES":"TYPENAME",n);if(void 0!==o&&(h.OUTPUTFORMAT=o),void 0!==a&&(h.PROPERTYNAME=a.join(",")),c?(h.RESULTTYPE="hits",h[l]="1"):void 0!==i&&(h[l]=i.toString(10)),u&&(h.SRSNAME=u),s){var p=s.join(",");h.BBOX=f?"".concat(p,",").concat(f):p}return Yt(e,h)}u("parseWmsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,r=Gt(Rt(e),"Service"),n=Ct(Gt(r,"KeywordList"),"Keyword").map(At).filter((function(t,e,r){return r.indexOf(t)===e})),{title:At(Gt(r,"Title")),name:At(Gt(r,"Name")),abstract:At(Gt(r,"Abstract")),fees:At(Gt(r,"Fees")),constraints:At(Gt(r,"AccessConstraints")),keywords:n}),layers:Ht(t),version:zt(t)};var e,r,n}))})),u("parseWfsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,n=ee(e),o=n.startsWith("1.0")?"Service":"ServiceIdentification",i=n.startsWith("1.0")?"Name":"ServiceType",a=Gt(Rt(e),o),r=n.startsWith("1.0")?At(Gt(a,"Keywords")).split(",").map((function(t){return t.trim()})):Ct(Gt(a,"Keywords"),"Keyword").map(At),{title:At(Gt(a,"Title")),name:At(Gt(a,i)),abstract:At(Gt(a,"Abstract")),fees:At(Gt(a,"Fees")),constraints:At(Gt(a,"AccessConstraints")),keywords:r,outputFormats:re(e)}),featureTypes:ne(t),version:ee(t)};var e,r,n,o,i,a}))})),u("queryWfsFeatureTypeDetails",self,(function(t){var e=t.url,r=t.serviceVersion,n=t.featureTypeFull;return Xt(ce(e,r,n.name,void 0,void 0,Object.keys(n.properties))).then((function(t){return{props:(e=ae(t,n,r),e.reduce((function(t,e){var r=function(r){var n=e.properties[r];r in t||(t[r]={uniqueValues:[]});var o=t[r].uniqueValues.find((function(t){return t.value===n}));o?o.count++:t[r].uniqueValues.push({value:n,count:1})};for(var n in e.properties)r(n);return t}),{}))};var e}))}));
`],{type:"application/javascript"})),{type:"module"})),Ch}function GA(t){return VA("parseWmsCapabilities",jA(),{url:t})}var Er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const Pi="";class UA{constructor(e){this.chars=[...e],this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;let{chars:n,charCount:r,charsToBytes:i}=this;if(r===e.length)for(let s=0;s<r;++s)i[s]=s;else{for(let s=0,a=0;a<r;++a)i[a]=s,s+=n[a].length;this.multiByteMode=!0}}get isEnd(){return this.charIndex>=this.charCount}_charLength(e){let{length:n}=e;return n<2||!this.multiByteMode?n:e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}advance(e=1){this.charIndex=Math.min(this.charCount,this.charIndex+e)}consume(e=1){let n=this.peek(e);return this.advance(e),n}consumeMatch(e){if(!e.sticky)throw new Error('`regex` must have a sticky flag ("y")');e.lastIndex=this.charsToBytes[this.charIndex];let n=e.exec(this.string);if(n===null)return Pi;let r=n[0];return this.advance(this._charLength(r)),r}consumeMatchFn(e){let n=this.charIndex;for(;!this.isEnd&&e(this.peek());)this.advance();return this.charIndex>n?this.string.slice(this.charsToBytes[n],this.charsToBytes[this.charIndex]):Pi}consumeString(e){if(this.consumeStringFast(e))return e;if(!this.multiByteMode)return Pi;let{length:n}=e,r=this._charLength(e);return r!==n&&e===this.peek(r)?(this.advance(r),e):Pi}consumeStringFast(e){if(this.peek()===e[0]){let{length:n}=e;if(n===1)return this.advance(),e;if(this.peek(n)===e)return this.advance(n),e}return Pi}consumeUntilMatch(e){if(!e.global)throw new Error('`regex` must have a global flag ("g")');let n=this.charsToBytes[this.charIndex];e.lastIndex=n;let r=e.exec(this.string);if(r===null||r.index===n)return Pi;let i=this.string.slice(n,r.index);return this.advance(this._charLength(i)),i}consumeUntilString(e){let{charIndex:n,charsToBytes:r,string:i}=this,s=r[n],a=i.indexOf(e,s);if(a<=0)return Pi;let o=i.slice(s,a);return this.advance(this._charLength(o)),o}peek(e=1){if(this.charIndex>=this.charCount)return Pi;if(e===1)return this.chars[this.charIndex];let{charsToBytes:n,charIndex:r}=this;return this.string.slice(n[r],n[r+e])}reset(e=0){this.charIndex=e>=0?Math.min(this.charCount,e):Math.max(0,this.charIndex+e)}}var BA=UA,Ai={};const WA=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));Ai.predefinedEntities=WA;function I0(t){if(R0(t))return!0;let e=Fu(t);return e===45||e===46||e>=48&&e<=57||e===183||e>=768&&e<=879||e>=8255&&e<=8256}Ai.isNameChar=I0;function R0(t){let e=Fu(t);return e===58||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}Ai.isNameStartChar=R0;function qA(t){return!$0(t)}Ai.isNotXmlChar=qA;function HA(t){return t==="#"||I0(t)}Ai.isReferenceChar=HA;function zA(t){let e=Fu(t);return e===32||e===9||e===10||e===13}Ai.isWhitespace=zA;function $0(t){let e=Fu(t);return e===9||e===10||e===13||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}Ai.isXmlChar=$0;function Fu(t){return t.codePointAt(0)||-1}class ys{constructor(){this.parent=null}get document(){return this.parent?this.parent.document:null}get isRootNode(){return this.parent?this.parent===this.document:!1}get preserveWhitespace(){return Boolean(this.parent&&this.parent.preserveWhitespace)}get type(){return""}toJSON(){let e={type:this.type};return this.isRootNode&&(e.isRootNode=!0),this.preserveWhitespace&&(e.preserveWhitespace=!0),e}}ys.TYPE_CDATA="cdata",ys.TYPE_COMMENT="comment",ys.TYPE_DOCUMENT="document",ys.TYPE_ELEMENT="element",ys.TYPE_PROCESSING_INSTRUCTION="pi",ys.TYPE_TEXT="text";var vs=ys;const Lh=vs;class YA extends Lh{constructor(e=""){super(),this.text=e}get type(){return Lh.TYPE_TEXT}toJSON(){return Object.assign(Lh.prototype.toJSON.call(this),{text:this.text})}}var Ph=YA;const XA=vs,KA=Ph;class ZA extends KA{get type(){return XA.TYPE_CDATA}}var F0=ZA;const Ah=vs;class JA extends Ah{constructor(e=""){super(),this.content=e}get type(){return Ah.TYPE_COMMENT}toJSON(){return Object.assign(Ah.prototype.toJSON.call(this),{content:this.content})}}var V0=JA;const kh=vs;class Dh extends kh{constructor(e,n=Object.create(null),r=[]){super(),this.name=e,this.attributes=n,this.children=r}get isEmpty(){return this.children.length===0}get preserveWhitespace(){let e=this;for(;e instanceof Dh;){if("xml:space"in e.attributes)return e.attributes["xml:space"]==="preserve";e=e.parent}return!1}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return kh.TYPE_ELEMENT}toJSON(){return Object.assign(kh.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(e=>e.toJSON())})}}var Ih=Dh;const QA=Ih,Rh=vs;class ek extends Rh{constructor(e=[]){super(),this.children=e}get document(){return this}get root(){return this.children.find(e=>e instanceof QA)||null}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return Rh.TYPE_DOCUMENT}toJSON(){return Object.assign(Rh.prototype.toJSON.call(this),{children:this.children.map(e=>e.toJSON())})}}var j0=ek;const $h=vs;class tk extends $h{constructor(e,n=""){super(),this.name=e,this.content=n}get type(){return $h.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign($h.prototype.toJSON.call(this),{name:this.name,content:this.content})}}var G0=tk;const nk=BA,_s=Ai,rk=F0,ik=V0,sk=j0,ak=Ih,U0=G0,B0=Ph,Fh="";class ok{constructor(e,n={}){for(this.document=new sk,this.currentNode=this.document,this.options=n,this.scanner=new nk(uk(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}addNode(e){e.parent=this.currentNode,this.currentNode.children.push(e)}addText(e){let{children:n}=this.currentNode;if(n.length>0){let r=n[n.length-1];if(r instanceof B0){r.text+=e;return}}this.addNode(new B0(e))}consumeAttributeValue(){let{scanner:e}=this,n=e.peek();if(n!=='"'&&n!=="'")return!1;e.advance();let r,i=!1,s=Fh,a=n==='"'?/[^"&<]+/y:/[^'&<]+/y;e:for(;!e.isEnd;)switch(r=e.consumeMatch(a),r&&(this.validateChars(r),s+=r.replace(/[\t\r\n]/g," ")),e.peek()){case n:i=!0;break e;case"&":s+=this.consumeReference();continue;case"<":this.error("Unescaped `<` is not allowed in an attribute value");break;case Fh:this.error("Unclosed attribute");break}return i||this.error("Unclosed attribute"),e.advance(),s}consumeCdataSection(){let{scanner:e}=this;if(!e.consumeStringFast("<![CDATA["))return!1;let n=e.consumeUntilString("]]>");return this.validateChars(n),e.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new rk(n)):this.addText(n),!0}consumeCharData(){let{scanner:e}=this,n=e.consumeUntilMatch(/<|&|]]>/g);return n?(this.validateChars(n),e.peek()==="]"&&e.peek(3)==="]]>"&&this.error("Element content may not contain the CDATA section close delimiter `]]>`"),this.addText(n),!0):!1}consumeComment(){let{scanner:e}=this;if(!e.consumeStringFast("<!--"))return!1;let n=e.consumeUntilString("--");return this.validateChars(n),e.consumeStringFast("-->")||(e.peek(2)==="--"?this.error("The string `--` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new ik(n.trim())),!0}consumeContentReference(){let e=this.consumeReference();return e?(this.addText(e),!0):!1}consumeDoctypeDeclaration(){let{scanner:e}=this;return!e.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace()?!1:(e.consumeMatch(/[^[>]+/y),e.consumeMatch(/\[[\s\S]+?\][\x20\t\r\n]*>/y)||e.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}consumeElement(){let{scanner:e}=this,n=e.charIndex;if(e.peek()!=="<")return!1;e.advance();let r=this.consumeName();if(!r)return e.reset(n),!1;let i=Object.create(null);for(;this.consumeWhitespace();){let o=this.consumeName();if(!o)continue;let l=this.consumeEqual()&&this.consumeAttributeValue();l===!1&&this.error("Attribute value expected"),o in i&&this.error(`Duplicate attribute: ${o}`),o==="xml:space"&&l!=="default"&&l!=="preserve"&&this.error('Value of the `xml:space` attribute must be "default" or "preserve"'),i[o]=l}if(this.options.sortAttributes){let o=Object.keys(i).sort(),l=Object.create(null);for(let u=0;u<o.length;++u){let f=o[u];l[f]=i[f]}i=l}let s=Boolean(e.consumeStringFast("/>")),a=new ak(r,i);if(a.parent=this.currentNode,!s){for(e.consumeStringFast(">")||this.error(`Unclosed start tag for element \`${r}\``),this.currentNode=a,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();let o=e.charIndex,l;(!e.consumeStringFast("</")||!(l=this.consumeName())||l!==r)&&(e.reset(o),this.error(`Missing end tag for element ${r}`)),this.consumeWhitespace(),e.consumeStringFast(">")||this.error(`Unclosed end tag for element ${r}`),this.currentNode=a.parent}return this.addNode(a),!0}consumeEqual(){return this.consumeWhitespace(),this.scanner.consumeStringFast("=")?(this.consumeWhitespace(),!0):!1}consumeMisc(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}consumeName(){return _s.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(_s.isNameChar):Fh}consumeProcessingInstruction(){let{scanner:e}=this,n=e.charIndex;if(!e.consumeStringFast("<?"))return!1;let r=this.consumeName();if(r?r.toLowerCase()==="xml"&&(e.reset(n),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(e.consumeStringFast("?>"))return this.addNode(new U0(r)),!0;this.error("Whitespace is required after a processing instruction name")}let i=e.consumeUntilString("?>");return this.validateChars(i),e.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new U0(r,i)),!0}consumeProlog(){let{scanner:e}=this,n=e.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return n<e.charIndex}consumeReference(){let{scanner:e}=this;if(e.peek()!=="&")return!1;e.advance();let n=e.consumeMatchFn(_s.isReferenceChar);e.consume()!==";"&&this.error("Unterminated reference (a reference must end with `;`)");let r;if(n[0]==="#"){let i=n[1]==="x"?parseInt(n.slice(2),16):parseInt(n.slice(1),10);isNaN(i)&&this.error("Invalid character reference"),r=String.fromCodePoint(i),_s.isXmlChar(r)||this.error("Character reference resolves to an invalid character")}else if(r=_s.predefinedEntities[n],r===void 0){let{ignoreUndefinedEntities:i,resolveUndefinedEntity:s}=this.options,a=`&${n};`;if(s){let o=s(a);if(o!=null){let l=typeof o;if(l!=="string")throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${l}`);return o}}if(i)return a;e.reset(-a.length),this.error(`Named entity isn't defined: ${a}`)}return r}consumeSystemLiteral(){let{scanner:e}=this,n=e.consumeStringFast('"')||e.consumeStringFast("'");if(!n)return!1;let r=e.consumeUntilString(n);return this.validateChars(r),e.consumeStringFast(n)||this.error("Missing end quote"),r}consumeWhitespace(){return Boolean(this.scanner.consumeMatchFn(_s.isWhitespace))}consumeXmlDeclaration(){let{scanner:e}=this;if(!e.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");let n=Boolean(e.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(n===!1?this.error("XML version is missing or invalid"):/^1\.[0-9]+$/.test(n)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(e.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();let i=Boolean(e.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();i&&(i!=="yes"&&i!=="no"&&this.error('Only "yes" and "no" are permitted as values of `standalone`'),this.consumeWhitespace())}return e.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}error(e){let{charIndex:n,string:r}=this.scanner,i=1,s="",a=1;for(let f=0;f<n;++f){let c=r[f];c===`
`?(i=1,s="",a+=1):(i+=1,s+=c)}let o=r.indexOf(`
`,n);s+=o===-1?r.slice(n):r.slice(n,o);let l=0;s.length>50&&(i<40?s=s.slice(0,50):(l=i-20,s=s.slice(l,i+30)));let u=new Error(`${e} (line ${a}, column ${i})
  ${s}
`+" ".repeat(i-l+1)+`^
`);throw Object.assign(u,{column:i,excerpt:s,line:a,pos:n}),u}validateChars(e){let n=0;for(let r of e)_s.isNotXmlChar(r)&&(this.scanner.reset(-([...e].length-n)),this.error("Invalid character")),n+=1}}var lk=ok;function uk(t){return t[0]==="\uFEFF"&&(t=t.slice(1)),t.replace(/\r\n?/g,`
`)}const ck=lk,fk=F0,hk=V0,dk=j0,mk=Ih,pk=vs,gk=G0,yk=Ph;function ki(t,e){return new ck(t,e).document}ki.XmlCdata=fk,ki.XmlComment=hk,ki.XmlDocument=dk,ki.XmlElement=mk,ki.XmlNode=pk,ki.XmlProcessingInstruction=gk,ki.XmlText=yk;var vk=ki;class _k extends Error{constructor(e){super(e)}}function bk(t){let e=null;try{e=vk(t)}catch(n){throw new _k(n.message)}return e}function qr(t){return t.children[0]}function Vu(t){const e=t.indexOf(":");return e>-1?t.substr(e+1):t}function ju(t){return t.name||""}function zt(t,e,n){const r=Vu(e);function i(s,a){return Vu(ju(a))===r&&s.push(a),n&&Array.isArray(a.children)?[...s,...a.children.reduce(i,[])]:s}return t&&Array.isArray(t.children)?t.children.reduce(i,[]):[]}function Me(t,e,n){return zt(t,e,n)[0]||null}function To(t){return t&&Array.isArray(t.children)?[...t.children.filter(e=>e.constructor.name==="XmlElement")]:[]}function Ke(t){const e=t&&Array.isArray(t.children)?t.children.find(n=>n.type==="text"):null;return e?e.text:""}function Sr(t,e){return t&&t.attributes[e]||""}const W0=["utf-8","utf-16","iso-8859-1"],q0="utf-8";function Ek(t){const e=/charset=([^;]+)/.exec(t);return e?e[1]:null}function Sk(t,e){const n=e?Ek(e):null,r=n?[n,...W0]:W0;for(const i of r)try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch{}return console.warn(`XML document encoding could not be determined, falling back to ${q0}.`),new TextDecoder(q0).decode(t)}const Gu=new Map;function wk(t){if(Gu.has(t))return Gu.get(t);const e=fetch(t);return e.finally(()=>Gu.delete(t)),Gu.set(t,e),e}function Vh(t){return wk(t).catch(()=>fetch(t,{method:"HEAD",mode:"no-cors"}).catch(e=>{throw new Th(`Fetching the document failed either due to network errors or unreachable host, error is: ${e.message}`,0,!1)}).then(()=>{throw new Th("The document could not be fetched due to CORS limitations",0,!0)})).then(async e=>{if(!e.ok){const i=await e.text();throw new Th(`Received an error with code ${e.status}: ${i}`,e.status,!1)}const n=await e.arrayBuffer(),r=e.headers.get("Content-Type");return Sk(n,r)}).then(e=>bk(e))}function jh(t,e){const n=t.match(/(https?%3A%2F%2F[^/]+)$/);if(n){const o=n[1],l=jh(decodeURIComponent(o),e);return t.replace(o,encodeURIComponent(l))}const r=new URL(t),i=Object.keys(e),s=i.map(o=>o.toLowerCase()),a=[];for(const o of r.searchParams.keys())s.indexOf(o.toLowerCase())>-1&&a.push(o);return a.map(o=>r.searchParams.delete(o)),i.forEach(o=>r.searchParams.set(o,e[o]===!0?"":e[o])),r.toString()}let xk=1e3*60*60;function Ok(){return xk}const Di="caches"in self?caches.open("ogc-client"):null;async function Mk(t,...e){if(!Di)return;const n="https://cache/"+e.join("/");await(await Di).put(n,new Response(JSON.stringify(t),{headers:{"x-expiry":(Date.now()+Ok()).toString(10)}}))}async function Tk(...t){if(!Di)return!1;const e="https://cache/"+t.join("/");return(await Di).match(e).then(r=>!!r&&parseInt(r.headers.get("x-expiry"))>Date.now())}async function Nk(...t){if(!Di)return null;const e="https://cache/"+t.join("/"),r=await(await Di).match(e);return r?r.clone().json():null}const Uu=new Map;async function Ck(t,...e){if(await Lk(),await Tk(...e))return Nk(...e);const n=e.join("#");if(Uu.has(n))return Uu.get(n);const r=t();r instanceof Promise&&(r.then(()=>Uu.delete(n)),Uu.set(n,r));const i=await r;return await Mk(i,...e),i}async function Lk(){if(!Di)return;const t=await Di,e=await t.keys();for(let n of e){const r=await t.match(n);parseInt(r.headers.get("x-expiry"))<=Date.now()&&await t.delete(n)}}function Pk(t,e,n,r,i,s,a,o,l,u){const f=e==="2.0.0"?"TYPENAMES":"TYPENAME",c=e==="2.0.0"?"COUNT":"MAXFEATURES",h={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:e,[f]:n};if(r!==void 0&&(h.OUTPUTFORMAT=r),s!==void 0&&(h.PROPERTYNAME=s.join(",")),a?(h.RESULTTYPE="hits",h[c]="1"):i!==void 0&&(h[c]=i.toString(10)),o&&(h.SRSNAME=o),l){const d=l.join(",");h.BBOX=u?`${d},${u}`:d}return jh(t,h)}class Ak{constructor(e){const n=jh(e,{SERVICE:"WMS",REQUEST:"GetCapabilities"});this._capabilitiesPromise=Ck(()=>GA(n),"WMS","CAPABILITIES",n).then(({info:r,layers:i,version:s})=>{this._info=r,this._layers=i,this._version=s}),this._info=null,this._layers=null,this._version=null}isReady(){return this._capabilitiesPromise.then(()=>this)}getServiceInfo(){return this._info}getLayers(){function e(n){return{title:n.title,name:n.name,abstract:n.abstract,..."children"in n&&{children:n.children.map(e)}}}return this._layers.map(e)}getLayerByName(e){let n=null;function r(i){if(n===null){if(i.name===e){n=i;return}"children"in i&&i.children.map(r)}}return this._layers.map(r),n}getVersion(){return this._version}}const kk=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function Dk(t){return kk.indexOf(Gh(t))>-1}function Gh(t){return/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())?`EPSG:${/([0-9]+)$/.exec(t)[1]}`:t}function H0(t){return qr(t).attributes.version}function Ik(t){const e=H0(t),n=Me(qr(t),"Capability");return zt(n,"Layer").map(r=>z0(r,e))}function Rk(t){const e=Me(qr(t),"Service"),n=zt(Me(e,"KeywordList"),"Keyword").map(Ke).filter((r,i,s)=>s.indexOf(r)===i);return{title:Ke(Me(e,"Title")),name:Ke(Me(e,"Name")),abstract:Ke(Me(e,"Abstract")),fees:Ke(Me(e,"Fees")),constraints:Ke(Me(e,"AccessConstraints")),keywords:n}}function z0(t,e,n=[],r=[],i=null){const s=e==="1.3.0"?"CRS":"SRS",a=zt(t,s).map(Ke),o=a.length>0?a:n,l=zt(t,"Style").map($k),u=l.length>0?l:r;function f(m){const p=Sr(m,s);return(Dk(p)&&e==="1.3.0"?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(y=>Sr(m,y))}const c=Me(t,"Attribution"),h=c!==null?Fk(c):i,d=zt(t,"Layer").map(m=>z0(m,e,o,u,h));return{name:Ke(Me(t,"Name")),title:Ke(Me(t,"Title")),abstract:Ke(Me(t,"Abstract")),availableCrs:o,styles:u,attribution:h,boundingBoxes:zt(t,"BoundingBox").reduce((m,p)=>({...m,[Sr(p,s)]:f(p)}),{}),...d.length&&{children:d}}}function $k(t){const e=Sr(Me(Me(t,"LegendURL"),"OnlineResource"),"xlink:href");return{name:Ke(Me(t,"Name")),title:Ke(Me(t,"Title")),...e&&{legendUrl:e}}}function Fk(t){const e=Sr(Me(Me(t,"LogoURL"),"OnlineResource"),"xlink:href"),n=Sr(Me(t,"OnlineResource"),"xlink:href"),r=Ke(Me(t,"Title"));return{...r&&{title:r},...n&&{url:n},...e&&{logoUrl:e}}}function Bu(t){return qr(t).attributes.version}function Y0(t){const e=Bu(t);let n;if(e.startsWith("1.0")){const r=Me(Me(Me(qr(t),"Capability"),"Request"),"GetFeature");n=To(Me(r,"ResultFormat")).map(ju)}else{const r=Me(qr(t),"OperationsMetadata"),i=zt(r,"Operation").find(a=>Sr(a,"name")==="GetFeature"),s=zt(i,"Parameter").find(a=>Sr(a,"name")==="outputFormat");n=zt(s,"Value",!0).map(Ke)}return n}function Vk(t){const e=Bu(t),n=e.startsWith("1.0")?"Service":"ServiceIdentification",r=e.startsWith("1.0")?"Name":"ServiceType",i=Me(qr(t),n);let s;return e.startsWith("1.0")?s=Ke(Me(i,"Keywords")).split(",").map(a=>a.trim()):s=zt(Me(i,"Keywords"),"Keyword").map(Ke),{title:Ke(Me(i,"Title")),name:Ke(Me(i,r)),abstract:Ke(Me(i,"Abstract")),fees:Ke(Me(i,"Fees")),constraints:Ke(Me(i,"AccessConstraints")),keywords:s,outputFormats:Y0(t)}}function jk(t){const e=Bu(t),n=Y0(t),r=Me(qr(t),"FeatureTypeList");return zt(r,"FeatureType").map(i=>Gk(i,e,n))}function Gk(t,e,n){const r=e.startsWith("2.")?"CRS":"SRS",i=e.startsWith("1.0")?"SRS":`Default${r}`;function s(){const u=Me(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(f=>Sr(u,f)).map(parseFloat)}function a(){const u=Me(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(f=>Me(u,f)).map(f=>Ke(f).split(" ")).reduce((f,c)=>[...f,...c]).map(parseFloat)}const o=e.startsWith("1.0")?[]:zt(t,`Other${r}`).map(Ke).map(Gh),l=e.startsWith("1.0")?[]:zt(Me(t,"OutputFormats"),"Format").map(Ke);return{name:Ke(Me(t,"Name")),title:Ke(Me(t,"Title")),abstract:Ke(Me(t,"Abstract")),defaultCrs:Gh(Ke(Me(t,i))),otherCrs:o,outputFormats:l.length>0?l:n,latLonBoundingBox:e.startsWith("1.0")?s():a()}}function Uk(t,e,n){const r=qr(t);let i;if(n.startsWith("2.0"))i=zt(r,"member").map(u=>To(u)[0]);else{const u=Me(r,"featureMembers");i=u?To(u):zt(r,"featureMember").map(f=>To(f)[0])}const s=n==="1.0.0"?"fid":"gml:id";function a(u){return u in e.properties}function o(u,f){switch(e.properties[u]){case"integer":return parseInt(f);case"float":return parseFloat(f);case"boolean":return f==="true";default:return f}}function l(u){return To(u).filter(f=>a(Vu(ju(f)))).reduce((f,c)=>{const h=Vu(ju(c));return{...f,[h]:o(h,Ke(c))}},{})}return i.map(u=>({id:Sr(u,s),properties:l(u)}))}function Bk(t){return t.reduce((e,n)=>{for(const r in n.properties){const i=n.properties[r];r in e||(e[r]={uniqueValues:[]});const s=e[r].uniqueValues.find(a=>a.value===i);s?s.count++:e[r].uniqueValues.push({value:i,count:1})}return e},{})}Nh("parseWmsCapabilities",self,({url:t})=>Vh(t).then(e=>({info:Rk(e),layers:Ik(e),version:H0(e)}))),Nh("parseWfsCapabilities",self,({url:t})=>Vh(t).then(e=>({info:Vk(e),featureTypes:jk(e),version:Bu(e)}))),Nh("queryWfsFeatureTypeDetails",self,({url:t,serviceVersion:e,featureTypeFull:n})=>{const r=Pk(t,e,n.name,void 0,void 0,Object.keys(n.properties));return Vh(r).then(i=>({props:Bk(Uk(i,n,e))}))});const Wk=()=>[{url:"http://wmts1.geoportail.lu/opendata/service",label:"Open Data Webservices WMS"},{url:"http://ows.terrestris.de/osm-gray/service",label:"OpenStreetMap by Terrestris (Grey)"},{url:"http://ows.terrestris.de/osm/service",label:"OpenStreetMap by Terrestris (Color)"}];class qk{constructor(e){Qe(this,"capabilitiesPromise");Qe(this,"serviceInfo");Qe(this,"layers");const n=new Hb.default;let r="&";e.indexOf("?")===-1&&(r="?"),e.indexOf("Capabilities")===-1&&(e=e+r+"SERVICE=WMTS&REQUEST=GetCapabilities"),this.capabilitiesPromise=fetch(e).then(i=>i.text()).then(i=>{var a;const s=n.read(i);this.serviceInfo=this.mapServiceInfo(s.ServiceIdentification),this.layers=this.mapToRemoteLayers((a=s.Contents)==null?void 0:a.Layer)})}mapToRemoteLayers(e){return[{type:$n.WMTS,children:e.map(n=>({type:$n.WMTS,abstract:n.Abstract,format:n.Format,name:n.Identifier,title:n.Title,tileMatrixSetLink:n.TileMatrixSetLink,wgs84BoundingBox:n.WGS84BoundingBox}))}]}mapServiceInfo(e){return{type:$n.WMTS,title:e.Title,abstract:e.Abstract,fees:e.Fees,constraints:e.AccessConstraints,serviceTypeVersion:e.ServiceTypeVersion}}isReady(){return this.capabilitiesPromise.then(()=>this)}getLayerByName(e){return this.layers[0].children.filter(n=>n.name===e)[0]}getLayers(){return this.layers}getServiceInfo(){return this.serviceInfo}}class Hk{async getRemoteEndpoint(e){let n;return await this.getWmsEndpoint(e).isReady().catch(async()=>{n=await this.getWmtsEndpoint(e).isReady()})||n}getWmsEndpoint(e){return new Ak(ps.getProxyfiedUrl(e))}getWmtsEndpoint(e){return new qk(ps.getProxyfiedUrl(e))}async fetchRemoteWmsEndpoint(){return new Promise(e=>e(Wk()))}isRemoteLayer(e){return typeof e=="string"&&(e.indexOf($n.WMS)===0||e.indexOf($n.WMTS)===0)}}const No=new Hk,zk={class:"relative text-center"},Yk=["placeholder","value"],Xk={key:0,class:"text-center"},Kk={class:"lux-label"},Zk={key:1,class:"text-center"},Jk={class:"lux-label"},Qk={key:2,class:"text-center"},eD=L("div",{class:"fa fa-refresh fa-spin"},null,-1),tD={key:3,class:"overflow-auto max-h-[calc(400px-36px)]"},X0=de(he({__name:"remote-layers",setup(t){const{t:e}=Xe(),n=ht(),r=In(),i=it([]),s=it(),{remoteLayersOpen:a}=Ue(vt()),{setRemoteLayersOpen:o}=vt();let l=!1,u,f,c;gn(h);function h(){s.value=s.value?oa.updateLayers(s.value,n.layers):void 0}No.fetchRemoteWmsEndpoint().then(E=>{i.value=E.map(({url:O,label:N})=>({label:N,value:O}))});async function d(E){l=!0,c=await No.getRemoteEndpoint(E).catch(()=>alert(e("Impossible de contacter ce WMS",{ns:"client"}))),f=E,l=!1}async function m(){const E=c,O=E==null?void 0:E.getLayers();if(O&&O[0]){const N=k0(O[0],f);s.value=oa.updateLayers(N,n.layers)}}async function p(E){f=u=E,await d(f),m()}function g(E){u=E.target.value}async function y(){await d(u),m()}function v(E){s.value=oa.toggleNode(E.id,s.value,"expanded")}function b(E){const{id:O,name:N}=E,M=c;if(E.checked===!0)n.removeLayers(O);else{const A=M==null?void 0:M.getLayerByName(N);if(A){const k=r.initLayer(D0({id:O,url:ps.getProxyfiedUrl(f),remoteLayer:A}));n.addLayers(k)}}}return(E,O)=>w(a)?(P(),Fe(A0,{key:0,title:w(e)("Add external data",{ns:"client"}),onClose:O[0]||(O[0]=N=>w(o)(!1))},{content:li(()=>{var N,M;return[L("div",zk,[te(Gf,{class:"lux-remote-services-dropdown",options:i.value,placeholder:w(e)("Predefined wms",{ns:"client"}),onChange:p},null,8,["options","placeholder"]),L("input",{class:"lux-input w-[300px]",type:"url",placeholder:w(e)("Choose or write a WMS url",{ns:"client"}),value:w(f)||"",onChange:g},null,40,Yk),L("button",{type:"button",class:"lux-btn",onClick:y},oe(w(e)("Get the layers",{ns:"client"})),1)]),!w(l)&&w(c)?(P(),V("div",Xk,[L("span",Kk,oe(w(e)("Description du service :",{ns:"client"})),1),Da(" "+oe((N=w(c).getServiceInfo())==null?void 0:N.abstract),1)])):F("v-if",!0),!w(l)&&w(c)?(P(),V("div",Zk,[L("span",Jk,oe(w(e)("Access constraints :",{ns:"client"})),1),Da(" "+oe((M=w(c).getServiceInfo())==null?void 0:M.constraints),1)])):F("v-if",!0),w(l)?(P(),V("div",Qk,[eD,L("span",null,oe(w(e)("Chargement des informations",{ns:"client"})),1)])):F("v-if",!0),w(l)?F("v-if",!0):(P(),V("div",tD,[s.value?(P(),Fe(Mh,{key:0,class:"block p-[10px] mb-[11px]",node:s.value,onToggleParent:v,onToggleLayer:b},null,8,["node"])):F("v-if",!0)]))]}),_:1},8,["title"])):F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/remote-layers/remote-layers.vue"]]);function nD(t,e="fr-FR"){const n=new Date(t);return new Intl.DateTimeFormat(e).format(n)}const rD={class:"font-bold"},iD={class:"col-span-2"},Co=de(he({__name:"layer-metadata-item",props:{label:{type:String,required:!0},value:{type:String,required:!0}},setup(t){const e=t;return(n,r)=>(P(),V(Ge,null,[L("span",rD,oe(e.label),1),L("span",iD,oe(e.value),1)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-metadata/layer-metadata-item.vue"]]);function sD(t){return{fr:"fre",en:"eng",de:"ger",lb:"ltz"}[t.toLowerCase()]}function aD(t){return new DOMParser().parseFromString(t,"text/html").body}function oD(t){const e=[];function n(r){const i=r.split("|");i[3]==="WWW:LINK-1.0-http--link"&&e.indexOf(i[2])===-1&&e.push(i[2])}return Array.isArray(t)?t.forEach(n,t):n(t),e}function lD(t){const n=(Array.isArray(t)?t:[t]).filter(r=>r.split("|")[1]==="metadata");return{organisaton:n[0].split("|")[2],name:n[0].split("|")[5],unknown:n[0].split("|")[6],address:n[0].split("|")[7],email:n[0].split("|")[4]}}class K0{}class uD extends K0{async getMetadata(e,n,r){console.assert(e===$n.WMS);const i=No.getWmsEndpoint(n);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(r);return{title:a.title,description:a.abstract,keywords:s.keywords,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const cD=new uD;class fD extends K0{async getMetadata(e,n,r){console.assert(e===$n.WMTS);const i=No.getWmtsEndpoint(n);await i.isReady();const s=i==null?void 0:i.getServiceInfo(),a=i==null?void 0:i.getLayerByName(r);return{title:a.title,description:a.abstract,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const hD=new fD;class dD{async getMetadata(e,n,r){if(e===$n.WMS)return cD.getMetadata(e,n,r);if(e===$n.WMTS)return hD.getMetadata(e,n,r);throw new Error(`Unsupported service type: ${e}`)}}const mD=new dD;class pD{constructor(){Qe(this,"geonetworkBaseUrl","https://geocatalogue.geoportail.lu/geonetwork/srv");Qe(this,"legendBaseUrl","https://map.geoportail.lu/legends/get_html");Qe(this,"localMetadataBaseUrl","https://map.geoportail.lu/getMetadata")}async getLayerMetadata(e,n){const r=Ci(),i=r.findBgLayerById(+e)||r.findById(+e)||r.find3dLayerById(+e);if(i){const s=i.metadata,a=s==null?void 0:s.metadata_id,o=a&&await this.getLocalMetadata(this.localMetadataBaseUrl,a,n),l=i.name,u=(s==null?void 0:s.legend_name)||"",f=i==null?void 0:i.id,c=u&&await this.getLegendHtml(this.legendBaseUrl,u,f,n);return{...o,title:l,hasLegend:!!c,...c&&{legendHtml:c}}}else{const[s,a,o]=String(e).split("%2D").join("-").split("||");return mD.getMetadata(s,a,o)}}getLocalMetadata(e,n,r){return fetch(`${e}?lang=${r}&uid=${n}`).then(async i=>{const s=(await i.json()).metadata;return{name:s.title,serviceDescription:s.serviceDescription,description:s.abstract,legalConstraints:s.legalConstraints,link:oD(s.link),revisionDate:s.revisionDate,keyword:s.keyword,responsibleParty:s.responsibleParty?lD(s.responsibleParty):void 0,metadataLink:`${this.geonetworkBaseUrl}/${sD(r)}/catalog.search#/metadata/${n}`,isError:!1}}).catch(()=>({isError:!0}))}getLegendHtml(e,n,r,i){const s={lang:i,...n&&{name:n},...r&&{id:r.toString()}};if(s.name&&s.lang){window.devicePixelRatio>1&&(s.dpi=(window.devicePixelRatio*96).toString());const a=`${e}?${new URLSearchParams(s).toString()}`;return fetch(a).then(async o=>{if(o.status>=400&&o.status<600)throw new Error("Server responded with error code");const l=await o.text();return l?aD(l):void 0}).catch(()=>{})}}}const Z0=new pD,gD={class:"grid gap-2 grid-cols-3 pt-3 text-[13px] font-arial break-words"},yD={key:2,class:"col-span-3 grid gap-2 grid-cols-3"},vD={class:"font-bold"},_D={class:"col-span-2"},bD=["title"],ED=["title"],SD={key:4,class:"col-span-3"},wD={class:"font-bold"},xD={class:"col-span-2"},OD=["href"],MD={key:7,class:"col-span-3 grid gap-2 grid-cols-3"},TD={class:"font-bold"},ND={class:"col-span-2"},CD={key:0},LD={key:1},PD={key:2},AD={key:3},kD={key:4},DD=["href"],ID={key:8,class:"grid gap-2 grid-cols-3 col-span-3"},RD={class:"font-bold"},$D={class:"col-span-2"},FD=["href"],VD={key:9,class:"col-span-3"},jD={key:10},GD={class:"text-xl"},UD={key:11,class:"col-span-3"},Uh=220,J0=de(he({__name:"layer-metadata",setup(t){const e=Oh(),{metadataId:n}=Ue(e),{t:r,i18next:i}=Xe(),s=Ee(),a=Ee(!0);tt(n,async c=>{var h,d;s.value=c?await Z0.getLayerMetadata(c,i.language):void 0,a.value=(((d=(h=s.value)==null?void 0:h.description)==null?void 0:d.length)||0)<Uh}),yn(()=>{i.on("languageChanged",async()=>{n.value&&(s.value=await Z0.getLayerMetadata(n.value,i.language))})});const o=me(()=>{var c,h,d;return a.value?(c=s.value)==null?void 0:c.description:(d=(h=s.value)==null?void 0:h.description)==null?void 0:d.slice(0,Uh)});function l(){a.value=!0}function u(){a.value=!1}function f(){e.clearMetadataId()}return(c,h)=>{const d=jc("dompurify-html");return s.value?(P(),Fe(A0,{key:0,footer:!1,"max-height":!0,title:w(r)(`${s.value.title}`,{ns:"client"}),onClose:f},{content:li(()=>{var m,p,g,y,v,b,E,O,N,M,A,k,C,R,I;return[L("div",gD,[s.value.name?(P(),Fe(Co,{key:0,label:w(r)("Name"),value:s.value.name},null,8,["label","value"])):F("v-if",!0),s.value.serviceDescription?(P(),Fe(Co,{key:1,label:w(r)("Description du Service"),value:s.value.serviceDescription},null,8,["label","value"])):F("v-if",!0),s.value.description?(P(),V("div",yD,[L("span",vD,oe(w(r)("Description")),1),L("span",_D,[yl(L("span",null,null,512),[[d,o.value]]),a.value?F("v-if",!0):(P(),V("button",{key:0,title:w(r)("Display full description",{ns:"client"}),onClick:l,class:"text-secondary hover:underline"}," ... ",8,bD)),a.value&&(((m=o.value)==null?void 0:m.length)||0)>Uh?(P(),V("button",{key:1,title:w(r)("Hide full description",{ns:"client"}),onClick:u,class:"text-secondary hover:underline"}," - ",8,ED)):F("v-if",!0)])])):F("v-if",!0),s.value.legalConstraints?(P(),Fe(Co,{key:3,label:w(r)("Contrainte d'utilisation"),value:s.value.legalConstraints},null,8,["label","value"])):F("v-if",!0),((p=s.value.link)==null?void 0:p.length)!==0?(P(),V("div",SD,[(P(!0),V(Ge,null,On(s.value.link,ee=>(P(),V("div",{class:"grid gap-2 grid-cols-3",key:ee},[L("span",wD,oe(w(r)("Url vers la resource")),1),L("span",xD,[L("a",{class:"text-secondary hover:underline",target:"_blank",href:ee},oe(ee),9,OD)])]))),128))])):F("v-if",!0),s.value.revisionDate?(P(),Fe(Co,{key:5,label:w(r)("Revision date"),value:w(nD)(s.value.revisionDate,w(i).language)},null,8,["label","value"])):F("v-if",!0),s.value.keyword?(P(),Fe(Co,{key:6,label:w(r)("Keywords"),value:(g=s.value.keyword)==null?void 0:g.join(",")},null,8,["label","value"])):F("v-if",!0),s.value.responsibleParty?(P(),V("div",MD,[L("div",TD,oe(w(r)("Contact")),1),L("div",ND,[(y=s.value.responsibleParty)!=null&&y.organisaton?(P(),V("p",CD,oe((v=s.value.responsibleParty)==null?void 0:v.organisaton),1)):F("v-if",!0),(b=s.value.responsibleParty)!=null&&b.name?(P(),V("p",LD,oe((E=s.value.responsibleParty)==null?void 0:E.name),1)):F("v-if",!0),(O=s.value.responsibleParty)!=null&&O.unknown?(P(),V("p",PD,oe((N=s.value.responsibleParty)==null?void 0:N.unknown),1)):F("v-if",!0),(M=s.value.responsibleParty)!=null&&M.address?(P(),V("p",AD,oe((A=s.value.responsibleParty)==null?void 0:A.address),1)):F("v-if",!0),(k=s.value.responsibleParty)!=null&&k.email?(P(),V("p",kD,[L("a",{class:"text-secondary hover:underline",href:"mailto:"+((C=s.value.responsibleParty)==null?void 0:C.email)},oe((R=s.value.responsibleParty)==null?void 0:R.email),9,DD)])):F("v-if",!0)])])):F("v-if",!0),s.value.metadataLink?(P(),V("div",ID,[L("span",RD,oe(w(r)("Link to the metadata")),1),L("span",$D,[L("a",{class:"text-secondary hover:underline",target:"_blank",href:s.value.metadataLink},oe(w(r)("link")),9,FD)])])):F("v-if",!0),s.value.isError?(P(),V("div",VD,oe(w(r)("The metadata is right now not available")),1)):F("v-if",!0),s.value.legendHtml?(P(),V("div",jD,[L("h4",GD,oe(w(r)("Legend")),1),yl(L("span",null,null,512),[[d,(I=s.value.legendHtml)==null?void 0:I.innerHTML]])])):F("v-if",!0),s.value.hasLegend?F("v-if",!0):(P(),V("div",UD,oe(w(r)("The legend is not available for this layer")),1))])]}),_:1},8,["title"])):F("v-if",!0)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-metadata/layer-metadata.vue"]]),BD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAAAoCAMAAABq645qAAACPVBMVEUAAABaW13////tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy5DjxTaAAAAvXRSTlMAAAABAgMEBQYHCAkKCwwNDg8QERESFBUWFxkaGx0eHyAhIiInKSosMTIzNTY5Ojs8PUFCQ0RERkpMTk9QU1RVVldaXmFjZWZmamtwcXJzdXd3eHl7fX+AgYKDhIaHiIiKi4yOj5CTlJWWl5iZmZqcnZ+goaKjpKanqKqqq6ywsbK0tbW4u7u8vb6/wMHExcbHysvMzM7P0NDS1NXa29zd3t/g4eTl5ujp6uvs7e7u8PLz9PX29/j5+vv8/f5cALqzAAAEcklEQVRo3u3Z+ZPUVBAH8O63LsLKijoIgotHFI+HgiKNeGC8MCqgUUFAJYjgAQ6HKMgGEQQiqChIPFh1iciiwPIEhvv49t/mD5lBORa2tHbLTO2rmqnUTCrJZ3r65ZuEjDHGGLrMWGcKMah7mh/7NP8PzXBqbqgfzdtPb7i/fjQPvq8r5jUVXNNIY4moYeL6+XNfn9Ov6LUZ2/Z7Pxo3YaZWTp/uLPw/reXYbqLRPz/38g+qJ/oTEV396IzmgmquXHZoIRHd/sTs31T1DqIBcyqHZjQWtTbf6nQiokHLVVWn7ju4euXGjsX9LtTAGgPAGGMzOPZSOGFYtmAXsO8skFkgZovQgi2QcZKyIGAAjJQtIgAB/5vRTc2IvbqSqOWNJQdUVdfe+/zitmsu2jeQ/GWMC43HacRhxhAWcJRyEgmYBSVYgROwgJkzeGVEDGEGotqnPaih1Xp63KSvVFVVtz0wt23AvMVda5AZY2FM7OWO/N2DwBMgESBiQZyABUgYSYQkYSBjhAh7QXN3Zfey7YdyzXh6aQpdu2fIpWsD30CykKOU4XPgmBPEnNcmC1jgIT9uCx9ZkOW1kQi9oBm6aMvO3KIVomUPES19/KIaoNo34uA8cUgtB4DzmQXCFoCFhbXgMtgC8DNGKMj7xnIKtj2toeGf55X5c9+ZRpo1lWjyq5c/33Avj+5obpz25miiwd+p6q4/2jfvIrqtrYlemF5MzZObTuhHCw6cUd2y/91ftj5DRJOn0JKniqm56jPtUNXDx44u6NywvaPzPqL+G5v3jCimhhqaX/vyi6VTxtzyYkVV9dSsRvrmnVXUI5oo7GkNEV2RH/igaRVV1Y8fOdE+tEc0tlzqBU1tND+7U1W18t51F8/QAFJrkUccL4VjABFb+MwoMyznszWzBZxfDT2SIbZgm0/TzBbIpLqcr8GwScJxfF4UiliAgGEZ1gKx8VK4bmuafmpdrqr6cFdXBJBSORPkp9A0ZI8hAi4jYQY8CEN8MDML2K/FBBdwKU80kOp3eSBirq7BkJJLstK5UShw+eYhDBGUYNPQeN3WTND2rd+r6oquNUZQ00A49gCEJQg8RhJD8j0DQX6IEBZYMLMAAANZrpHa8lkNBwjOi0Ion90KRIDIQEzsdVfzlurhT1X11F2XqE3qwfNQMiYLGYIYNgAQMcTltXHV3z9w1dAD/8LapH/XJt9eycWudG4U8lGrjYeSIAtMFlaD1SU1NxAR0cA9qrpqr6ruaOmybxLPREBojLEOzoMNkAXsO4YNYRnIpNo3WS30+EByXt+kttY3AEdAyGmZ4/TcKORCDgDhEAg5D0wO7vK1mbmwhajxA9XWkXTTh8dVj6wZX9gr6ZFL9eTm1nbVhUREdOs2Vb25sJqmRTuOq+r+rwfmgGEHVYcU+H7a8KNrdP6kYTXBJ6qPFVjT2DxwzD/msbWqE+vnrvqvevSeutGMUm0dXC+ahk3asb5unt+8cvLIqOvr52nU7Dv7nq31afo0/0mzrhiavwAx1n2SsZnMdgAAAABJRU5ErkJggg==";class WD{bootstrap(){this.restore();let e;e=gn(()=>{this.persist(),e&&e()})}persist(){const e=vt(),{lang:n}=Ue(e);tt(n,(r,i)=>{i!==r&&(Ce.setValue(Li,r),document.documentElement.setAttribute("lang",r))},{immediate:!0})}restore(){const e=Ce.getValue(Li);if(e){const{setLang:n}=vt(),{i18next:r}=Xe();r.changeLanguage(e),n(e)}}}const qD=new WD,HD=de(he({__name:"language-selector",setup(t){const{i18next:e,t:n}=Xe(),{setLang:r}=vt(),{lang:i}=Ue(vt()),s=me(()=>["en","de","fr","lb"].map(l=>({label:n(l),value:l,ariaLabel:n("Changer de langue : {{lang}}",{lang:l})}))),a=n("Changer de langue");qD.bootstrap();function o(l){e.changeLanguage(l),r(l)}return(l,u)=>(P(),V("div",null,[te(Gf,{class:"lux-navbar-dropdown lux-dropdown-inline text-white h-full",options:s.value,placeholder:w(a),modelValue:w(i),"onUpdate:modelValue":u[0]||(u[0]=f=>Ye(i)?i.value=f:null),onChange:o},null,8,["options","placeholder","modelValue"])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/nav-bars/language-selector.vue"]]);class zD{setCurrentThemeColors(e){const n=document.querySelector(":root");["primary","secondary","tertiary"].forEach(i=>{const s=getComputedStyle(n).getPropertyValue(`--${e}-${i}`);n.style.setProperty(`--color-${i}`,s)})}}const Q0=new zD,YD={class:"w-full h-14 flex bg-white shadow-header z-10 shrink-0"},XD=L("div",{class:"flex-2 p-[5px]"},[L("img",{src:BD})],-1),KD=L("div",{class:"grow text-center"},"search",-1),ZD={class:"h-full flex"},JD={class:"hidden lg:inline-block"},QD={class:"border-l-[1px] border-stone-300 h-full"},e_=de(he({__name:"header-bar",setup(t){const{t:e}=Xe(),n=vt(),{layersOpen:r,myLayersTabOpen:i,themeGridOpen:s}=Ue(n),{setLayersOpen:a,setMyLayersTabOpen:o,setThemeGridOpen:l}=n,u=Ht(),{theme:f}=Ue(u);tt(f,h=>{h&&Q0.setCurrentThemeColors(h.name)},{immediate:!0});function c(){r.value?r.value&&(s.value?a(!1):(i.value&&o(!1),l(!0))):(a(!0),i.value&&o(!1),l(!0))}return(h,d)=>{var m,p;return P(),V("header",YD,[XD,KD,L("div",null,[L("ul",ZD,[L("li",null,[L("button",{class:Ae(["flex items-center before:font-icons before:text-3xl before:w-16 text-primary uppercase h-full mr-3",`before:content-${(m=w(f))==null?void 0:m.name}`]),onClick:c},[L("span",JD,oe(w(e)(`${(p=w(f))==null?void 0:p.name}`)),1)],2)]),L("li",QD,[te(HD,{class:"flex-none h-full"})])])])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/header/header-bar.vue"]]),eI={class:"block text-[13px] sm:text-base uppercase"},Hr=de(he({__name:"button-icon",props:{label:{type:String,required:!0},icon:{type:String,required:!0},active:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(P(),V("button",{class:Ae(["h-[42px] w-full sm:h-full sm:w-16 hover:text-white hover:bg-primary",e.active?"bg-primary text-white":""])},[L("span",{class:Ae(["block text-[1.7rem] sm:text-[2rem] -mt-1.5 -mb-3 after:font-icons",e.active?"lux-close-cross":`after:content-${e.icon}`])},null,2),L("span",eI,oe(e.label),1)],2))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/footer/button-icon.vue"]]),tI=["href"],Ii=de(he({__name:"button-link",props:{label:{type:String,required:!0},link:{type:String,required:!0}},setup(t){const e=t;return(n,r)=>(P(),V("a",{class:"h-full flex flex-col justify-center px-[7px] uppercase hover:text-white hover:bg-primary",href:`${e.link}`,target:"_blank"},oe(n.$props.label),9,tI))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/footer/button-link.vue"]]),nI={class:"block"},Lo=de(he({__name:"button-text",props:{label:{type:String,required:!0},active:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(P(),V("button",{class:Ae(["h-16 w-16 text-white bg-tertiary hover:bg-primary",e.active?"bg-primary":"bg-tertiary"])},[L("span",nI,oe(e.label),1)],2))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/footer/button-text.vue"]]),rI={class:"absolute bottom-full top-auto z-20 flex flex-row justify-start divide-y-0 divide-x divide-gray-400 divide-solid box-content border-y-0 border-x border-gray-400"},iI={key:0,class:"absolute bottom-full top-auto z-10 pl-[130px] pb-16 w-[326px]"},sI={class:"flex flex-row justify-center text-white bg-tertiary hover:bg-primary py-2 box-content border-y border-x border-gray-400"},aI=L("input",{type:"checkbox"},null,-1),t_=de(he({__name:"toolbar-draw",setup(t){const{t:e}=Xe(),n=Ee(!1);return(r,i)=>(P(),V("div",null,[L("ul",rI,[L("li",null,[te(Lo,{label:w(e)("Draw Point",{ns:"client"})},null,8,["label"])]),L("li",null,[te(Lo,{label:w(e)("Label",{ns:"client"})},null,8,["label"])]),L("li",null,[te(Lo,{label:w(e)("Line",{ns:"client"}),onClick:i[0]||(i[0]=()=>n.value=!n.value)},null,8,["label"])]),L("li",null,[te(Lo,{label:w(e)("Polygon",{ns:"client"})},null,8,["label"])]),L("li",null,[te(Lo,{label:w(e)("Circle",{ns:"client"})},null,8,["label"])])]),n.value?(P(),V("ul",iI,[L("li",sI,[L("label",null,[aI,Da(" "+oe(w(e)("Suivre la route",{ns:"client"})),1)])])])):F("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/footer/toolbar-draw.vue"]]),oI={class:"flex flex-col w-12 justify-between bg-white z-5 shrink-0 sm:flex-row sm:w-full sm:h-14 sm:shadow-footer"},lI={class:"flex flex-col w-full sm:w-80 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},uI={class:"relative flex flex-col w-12 sm:w-64 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},cI={class:"w-[466px] hidden sm:flex flex-row justify-end text-gray-500 whitespace-nowrap"},n_=de(he({__name:"footer-bar",setup(t){const{t:e,i18next:n}=Xe(),{setLayersOpen:r,setDrawToolbarOpen:i}=vt(),{layersOpen:s,drawToolbarOpen:a}=Ue(vt());return(o,l)=>(P(),V("footer",oI,[F(" left buttons "),L("ul",lI,[L("li",null,[te(Hr,{label:w(e)("Layers",{ns:"client"}),icon:"layers",active:w(s),onClick:l[0]||(l[0]=()=>w(r)(!w(s)))},null,8,["label","active"])]),F(`TODOs in each button when implemented
        - remove class="text-gray-300"
        - add click handler that calls setLayersOpen(true) and opens tool (also via app store)
      `),L("li",null,[te(Hr,{class:"text-gray-300",label:w(e)("My Maps",{ns:"client"}),icon:"mymaps"},null,8,["label"])]),L("li",null,[te(Hr,{class:"text-gray-300",label:w(e)("Infos",{ns:"client"}),icon:"infos"},null,8,["label"])]),L("li",null,[te(Hr,{class:"text-gray-300",label:w(e)("Legends",{ns:"client"}),icon:"legends"},null,8,["label"])]),L("li",null,[te(Hr,{class:"text-gray-300",label:w(e)("Routing",{ns:"client"}),icon:"routing"},null,8,["label"])])]),F(" center buttons "),L("div",uI,[w(a)?(P(),Fe(t_,{key:0})):F("v-if",!0),te(Hr,{label:w(e)("Dessin",{ns:"client"}),icon:"draw",onClick:l[1]||(l[1]=()=>w(i)(!w(a)))},null,8,["label"]),te(Hr,{class:"text-gray-300 hidden sm:block",label:w(e)("Mesurer",{ns:"client"}),icon:"measure"},null,8,["label"]),te(Hr,{class:"text-gray-300 hidden sm:block",label:w(e)("Imprimer",{ns:"client"}),icon:"print"},null,8,["label"]),te(Hr,{class:"text-gray-300",label:w(e)("Partager",{ns:"client"}),icon:"share"},null,8,["label"])]),F(" right buttons "),L("div",cI,[te(Ii,{class:"hidden lg:flex text-gray-500",label:w(e)("What's new",{ns:"client"}),link:`https://geoportail.lu/${w(n).language}/questions/whats-new/`},null,8,["label","link"]),F("TODO get geonetworkBaseUrl from config"),te(Ii,{class:"hidden lg:flex text-gray-500",label:w(e)("Geocatalogue",{ns:"client"}),link:""},null,8,["label"]),F("TODO handle feedback links (for different portals?)"),te(Ii,{class:"hidden lg:flex text-gray-500",label:w(e)("Feedback",{ns:"client"}),link:""},null,8,["label"]),te(Ii,{class:"hidden lg:flex text-gray-500",label:w(e)("A Propos",{ns:"client"}),link:`https://www.geoportail.lu/${w(n).language}/propos/`},null,8,["label","link"]),te(Ii,{class:"hidden lg:flex text-gray-500",label:w(e)("Aide",{ns:"client"}),link:`https://www.geoportail.lu/${w(n).language}/documentation/`},null,8,["label","link"]),te(Ii,{class:"hidden lg:flex text-gray-500",label:w(e)("Contact",{ns:"client"}),link:`https://www.geoportail.lu/${w(n).language}/propos/contactez-nous/`},null,8,["label","link"]),te(Ii,{class:"text-gray-500",label:w(e)("Legalites",{ns:"client"}),link:`https://www.geoportail.lu/${w(n).language}/propos/mentions-legales/`},null,8,["label","link"]),te(Ii,{class:"text-gray-500",label:w(e)("ACT",{ns:"client"}),link:"http://www.act.public.lu/"},null,8,["label","link"])])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/footer/footer-bar.vue"]]),fI={class:"flex flex-row flex-wrap pl-2.5"},hI=["onClick"],dI={class:"text-2xl absolute top-5"},mI=de(he({__name:"theme-grid",props:{themes:{type:Array,required:!0}},setup(t){const{t:e}=Xe(),n=t;return(r,i)=>(P(),V("div",fI,[(P(!0),V(Ge,null,On(n.themes,s=>(P(),V("button",{class:Ae(["relative shrink-0 h-[150px] w-1/2 px-2.5 text-start text-gray-100/40 uppercase hover:bg-[#ccc]",`bg-${s.name}-primary hover:text-${s.name}-primary`]),key:s.id,onClick:a=>r.$emit("setTheme",s.name)},[L("div",dI,oe(w(e)(`${s.name}`)),1),L("div",{class:Ae(["text-6xl absolute bottom-1 after:font-icons",`after:content-${s.name}`])},null,2)],10,hI))),128))]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/theme-selector/theme-grid.vue"]]),pI=["aria-expanded"],gI={class:"py-0.5"},yI={class:"px-1 py-0.5 shrink-0 flex flex-row text-[12px] bg-secondary text-white"},vI={class:"py-[3px]"},_I={class:"flex flex-row flex-wrap ml-1 w-12"},bI=de(he({__name:"theme-selector-button",props:{themes:{type:Array,required:!0},currentTheme:{type:Object,required:!1},isOpen:{type:Boolean,required:!1}},setup(t){const{t:e}=Xe(),n=t,r=me(()=>{var i;return((i=n.themes)==null?void 0:i.slice(0,8))||[]});return(i,s)=>{var a;return P(),V("button",{class:"w-full flex flex-row justify-between bg-tertiary text-white px-2 py-1.5 uppercase cursor-pointer hover:bg-white hover:text-primary","aria-expanded":n.isOpen},[L("span",gI,oe(w(e)("Theme"))+": "+oe(w(e)(`${(a=n.currentTheme)==null?void 0:a.name}`)),1),L("span",yI,[L("span",vI,oe(w(e)("Changer")),1),L("span",_I,[(P(!0),V(Ge,null,On(r.value,o=>(P(),V("div",{class:Ae(`h-2.5 w-2.5 m-px bg-${o.name}-primary`),key:o.id},null,2))),128))])])],8,pI)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/theme-selector/theme-selector-button.vue"]]),EI={key:0,class:"absolute inset-x-0 top-14 bottom-0 mt-1 bg-primary overflow-y-auto overflow-x-hidden"},SI=de(he({__name:"theme-selector",setup(t){const e=vt(),{setThemeGridOpen:n}=e,{themeGridOpen:r}=Ue(e),i=Ht(),s=Ci(),{theme:a,themes:o}=Ue(i),l=me(()=>{var c;return((c=o.value)==null?void 0:c.filter(h=>{var d;return((d=h.metadata)==null?void 0:d.display_in_switcher)===!0}))||[]});function u(){n(!r.value)}function f(c){s.setTheme(c),u()}return(c,h)=>(P(),V(Ge,null,[te(bI,{onClick:u,themes:l.value,currentTheme:w(a),isOpen:w(r)},null,8,["themes","currentTheme","isOpen"]),w(r)?(P(),V("div",EI,[te(mI,{onSetTheme:f,themes:l.value},null,8,["themes"])])):F("v-if",!0)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/theme-selector/theme-selector.vue"]]);function Bh(t,e=0){const{name:n,id:r,children:i,metadata:s}=t;return{name:n,id:r,depth:e,children:i==null?void 0:i.map(a=>Bh(a,e+1)),checked:!1,expanded:(s==null?void 0:s.is_expanded)||!1}}const wI={key:0,class:"mb-7"},xI=de(he({__name:"catalog-tree",setup(t){const e=ht(),n=Ht(),r=In(),i=it(),s=it(),a=me(()=>!e.is3dActive||e.is3dActive&&!e.is3dMesh),{layerTrees_3d:o}=Ue(n);gn(l);function l(){var c;if(n.theme&&e.layers){const h=i.value&&i.value.id===((c=n.theme)==null?void 0:c.id)?i.value:Bh(n.theme);i.value=oa.updateLayers(h,e.layers)}}gn(()=>{if(o.value){const c=s.value?s.value:Bh(o.value);s.value=oa.updateLayers(c,e.layers3d)}});function u(c,h){const d=h?s:i;d.value=oa.toggleNode(c.id,d.value,"expanded")}function f(c,h){r.toggleLayer(+c.id,!c.checked,h)}return(c,h)=>(P(),V("div",null,[F(" 3D layers catalog, only displayed when 3D is active "),s.value&&w(e).is3dActive?(P(),V("div",wI,[(P(),Fe(Mh,{node:s.value,key:s.value.id,onToggleParent:h[0]||(h[0]=d=>u(d,!0)),onToggleLayer:h[1]||(h[1]=d=>f(d,!0))},null,8,["node"]))])):F("v-if",!0),F(" Main catalog, displays by default and 3D terrain active "),i.value&&a.value?(P(),Fe(Mh,{node:i.value,key:i.value.id,onToggleParent:h[2]||(h[2]=d=>u(d,!1)),onToggleLayer:h[3]||(h[3]=d=>f(d,!1))},null,8,["node"])):F("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/catalog/catalog-tree.vue"]]),OI=de(he({__name:"catalog-tab",setup(t){const{themeGridOpen:e}=Ue(vt());return(n,r)=>(P(),V(Ge,null,[te(SI),w(e)===!1?(P(),Fe(xI,{key:0,class:"pt-5 absolute inset-x-2.5 bg-primary overflow-y-auto overflow-x-hidden"})):F("v-if",!0)],64))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/catalog/catalog-tab.vue"]]);/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function r_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(n),!0).forEach(function(r){MI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(e){return typeof e}:Wu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function MI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zr(){return zr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zr.apply(this,arguments)}function TI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NI(t,e){if(t==null)return{};var n=TI(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}var CI="1.15.2";function Yr(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Xr=Yr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Po=Yr(/Edge/i),i_=Yr(/firefox/i),Ao=Yr(/safari/i)&&!Yr(/chrome/i)&&!Yr(/android/i),s_=Yr(/iP(ad|od|hone)/i),a_=Yr(/chrome/i)&&Yr(/android/i),o_={capture:!1,passive:!1};function We(t,e,n){t.addEventListener(e,n,!Xr&&o_)}function $e(t,e,n){t.removeEventListener(e,n,!Xr&&o_)}function qu(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function LI(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Jn(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&qu(t,e):qu(t,e))||r&&t===n)return t;if(t===n)break}while(t=LI(t))}return null}var l_=/\s+/g;function _n(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(l_," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(l_," ")}}function ve(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function la(t,e){var n="";if(typeof t=="string")n=t;else do{var r=ve(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function u_(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function xr(){var t=document.scrollingElement;return t||document.documentElement}function xt(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,a,o,l,u,f,c;if(t!==window&&t.parentNode&&t!==xr()?(s=t.getBoundingClientRect(),a=s.top,o=s.left,l=s.bottom,u=s.right,f=s.height,c=s.width):(a=0,o=0,l=window.innerHeight,u=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Xr))do if(i&&i.getBoundingClientRect&&(ve(i,"transform")!=="none"||n&&ve(i,"position")!=="static")){var h=i.getBoundingClientRect();a-=h.top+parseInt(ve(i,"border-top-width")),o-=h.left+parseInt(ve(i,"border-left-width")),l=a+s.height,u=o+s.width;break}while(i=i.parentNode);if(r&&t!==window){var d=la(i||t),m=d&&d.a,p=d&&d.d;d&&(a/=p,o/=m,c/=m,f/=p,l=a+f,u=o+c)}return{top:a,left:o,bottom:l,right:u,width:c,height:f}}}function c_(t,e,n){for(var r=Ri(t,!0),i=xt(t)[e];r;){var s=xt(r)[n],a=void 0;if(n==="top"||n==="left"?a=i>=s:a=i<=s,!a)return r;if(r===xr())break;r=Ri(r,!1)}return!1}function ua(t,e,n,r){for(var i=0,s=0,a=t.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==ye.ghost&&(r||a[s]!==ye.dragged)&&Jn(a[s],n.draggable,t,!1)){if(i===e)return a[s];i++}s++}return null}function Wh(t,e){for(var n=t.lastElementChild;n&&(n===ye.ghost||ve(n,"display")==="none"||e&&!qu(n,e));)n=n.previousElementSibling;return n||null}function Fn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ye.clone&&(!e||qu(t,e))&&n++;return n}function f_(t){var e=0,n=0,r=xr();if(t)do{var i=la(t),s=i.a,a=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function PI(t,e){for(var n in t)if(!!t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Ri(t,e){if(!t||!t.getBoundingClientRect)return xr();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=ve(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return xr();if(r||e)return n;r=!0}}while(n=n.parentNode);return xr()}function AI(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function qh(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var ko;function h_(t,e){return function(){if(!ko){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),ko=setTimeout(function(){ko=void 0},e)}}}function kI(){clearTimeout(ko),ko=void 0}function d_(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function m_(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function p_(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var s,a,o,l;if(!(!Jn(i,e.draggable,t,!1)||i.animated||i===n)){var u=xt(i);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,u.left),r.top=Math.min((a=r.top)!==null&&a!==void 0?a:1/0,u.top),r.right=Math.max((o=r.right)!==null&&o!==void 0?o:-1/0,u.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var bn="Sortable"+new Date().getTime();function DI(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(ve(i,"display")==="none"||i===ye.ghost)){t.push({target:i,rect:xt(i)});var s=wr({},t[t.length-1].rect);if(i.thisAnimationDuration){var a=la(i,!0);a&&(s.top-=a.f,s.left-=a.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(PI(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,a=0;t.forEach(function(o){var l=0,u=o.target,f=u.fromRect,c=xt(u),h=u.prevFromRect,d=u.prevToRect,m=o.rect,p=la(u,!0);p&&(c.top-=p.f,c.left-=p.e),u.toRect=c,u.thisAnimationDuration&&qh(h,c)&&!qh(f,c)&&(m.top-c.top)/(m.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(l=RI(m,h,d,i.options)),qh(c,f)||(u.prevFromRect=f,u.prevToRect=c,l||(l=i.options.animation),i.animate(u,m,c,l)),l&&(s=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,a){if(a){ve(r,"transition",""),ve(r,"transform","");var o=la(this.el),l=o&&o.a,u=o&&o.d,f=(i.left-s.left)/(l||1),c=(i.top-s.top)/(u||1);r.animatingX=!!f,r.animatingY=!!c,ve(r,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=II(r),ve(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),ve(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){ve(r,"transition",""),ve(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function II(t){return t.offsetWidth}function RI(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var ca=[],Hh={initializeByDefault:!0},Do={mount:function(e){for(var n in Hh)Hh.hasOwnProperty(n)&&!(n in e)&&(e[n]=Hh[n]);ca.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ca.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";ca.forEach(function(a){!n[a.pluginName]||(n[a.pluginName][s]&&n[a.pluginName][s](wr({sortable:n},r)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](wr({sortable:n},r)))})},initializePlugins:function(e,n,r,i){ca.forEach(function(o){var l=o.pluginName;if(!(!e.options[l]&&!o.initializeByDefault)){var u=new o(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,zr(r,u.defaults)}});for(var s in e.options)if(!!e.options.hasOwnProperty(s)){var a=this.modifyOption(e,s,e.options[s]);typeof a<"u"&&(e.options[s]=a)}},getEventProperties:function(e,n){var r={};return ca.forEach(function(i){typeof i.eventProperties=="function"&&zr(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return ca.forEach(function(s){!e[s.pluginName]||s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function $I(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,a=t.toEl,o=t.fromEl,l=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,c=t.newDraggableIndex,h=t.originalEvent,d=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[bn],!!e){var p,g=e.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Xr&&!Po?p=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent(r,!0,!0)),p.to=a||n,p.from=o||n,p.item=i||n,p.clone=s,p.oldIndex=l,p.newIndex=u,p.oldDraggableIndex=f,p.newDraggableIndex=c,p.originalEvent=h,p.pullMode=d?d.lastPutMode:void 0;var v=wr(wr({},m),Do.getEventProperties(r,e));for(var b in v)p[b]=v[b];n&&n.dispatchEvent(p),g[y]&&g[y].call(e,p)}}var FI=["evt"],cn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=NI(r,FI);Do.pluginEvent.bind(ye)(e,n,wr({dragEl:J,parentEl:dt,ghostEl:xe,rootEl:at,nextEl:bs,lastDownEl:Hu,cloneEl:lt,cloneHidden:$i,dragStarted:Ro,putSortable:It,activeSortable:ye.active,originalEvent:i,oldIndex:fa,oldDraggableIndex:Io,newIndex:En,newDraggableIndex:Fi,hideGhostForTarget:S_,unhideGhostForTarget:w_,cloneNowHidden:function(){$i=!0},cloneNowShown:function(){$i=!1},dispatchSortableEvent:function(o){nn({sortable:n,name:o,originalEvent:i})}},s))};function nn(t){$I(wr({putSortable:It,cloneEl:lt,targetEl:J,rootEl:at,oldIndex:fa,oldDraggableIndex:Io,newIndex:En,newDraggableIndex:Fi},t))}var J,dt,xe,at,bs,Hu,lt,$i,fa,En,Io,Fi,zu,It,ha=!1,Yu=!1,Xu=[],Es,Qn,zh,Yh,g_,y_,Ro,da,$o,Fo=!1,Ku=!1,Zu,Yt,Xh=[],Kh=!1,Ju=[],Qu=typeof document<"u",ec=s_,v_=Po||Xr?"cssFloat":"float",VI=Qu&&!a_&&!s_&&"draggable"in document.createElement("div"),__=function(){if(!!Qu){if(Xr)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),b_=function(e,n){var r=ve(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=ua(e,0,n),a=ua(e,1,n),o=s&&ve(s),l=a&&ve(a),u=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+xt(s).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+xt(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&o.float&&o.float!=="none"){var c=o.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===c)?"vertical":"horizontal"}return s&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||u>=i&&r[v_]==="none"||a&&r[v_]==="none"&&u+f>i)?"vertical":"horizontal"},jI=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,a=r?e.width:e.height,o=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===o||s===l||i+a/2===o+u/2},GI=function(e,n){var r;return Xu.some(function(i){var s=i[bn].options.emptyInsertThreshold;if(!(!s||Wh(i))){var a=xt(i),o=e>=a.left-s&&e<=a.right+s,l=n>=a.top-s&&n<=a.bottom+s;if(o&&l)return r=i}}),r},E_=function(e){function n(s,a){return function(o,l,u,f){var c=o.options.group.name&&l.options.group.name&&o.options.group.name===l.options.group.name;if(s==null&&(a||c))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return n(s(o,l,u,f),a)(o,l,u,f);var h=(a?o:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||Wu(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},S_=function(){!__&&xe&&ve(xe,"display","none")},w_=function(){!__&&xe&&ve(xe,"display","")};Qu&&!a_&&document.addEventListener("click",function(t){if(Yu)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Yu=!1,!1},!0);var Ss=function(e){if(J){e=e.touches?e.touches[0]:e;var n=GI(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[bn]._onDragOver(r)}}},UI=function(e){J&&J.parentNode[bn]._isOutsideThisEl(e.target)};function ye(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=zr({},e),t[bn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return b_(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,o){a.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ye.supportPointer!==!1&&"PointerEvent"in window&&!Ao,emptyInsertThreshold:5};Do.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);E_(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:VI,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?We(t,"pointerdown",this._onTapStart):(We(t,"mousedown",this._onTapStart),We(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(We(t,"dragover",this),We(t,"dragenter",this)),Xu.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),zr(this,DI())}ye.prototype={constructor:ye,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(da=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,J):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(o||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=i.filter;if(KI(r),!J&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Ao&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Jn(l,i.draggable,r,!1),!(l&&l.animated)&&Hu!==l)){if(fa=Fn(l),Io=Fn(l,i.draggable),typeof f=="function"){if(f.call(this,e,l,this)){nn({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),cn("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=Jn(u,c.trim(),r,!1),c)return nn({sortable:n,rootEl:c,name:"filter",targetEl:l,fromEl:r,toEl:r}),cn("filter",n,{evt:e}),!0}),f)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!Jn(u,i.handle,r,!1)||this._prepareDragStart(e,o,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,a=i.options,o=s.ownerDocument,l;if(r&&!J&&r.parentNode===s){var u=xt(r);if(at=s,J=r,dt=J.parentNode,bs=J.nextSibling,Hu=r,zu=a.group,ye.dragged=J,Es={target:J,clientX:(n||e).clientX,clientY:(n||e).clientY},g_=Es.clientX-u.left,y_=Es.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,J.style["will-change"]="all",l=function(){if(cn("delayEnded",i,{evt:e}),ye.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!i_&&i.nativeDraggable&&(J.draggable=!0),i._triggerDragStart(e,n),nn({sortable:i,name:"choose",originalEvent:e}),_n(J,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){u_(J,f.trim(),Zh)}),We(o,"dragover",Ss),We(o,"mousemove",Ss),We(o,"touchmove",Ss),We(o,"mouseup",i._onDrop),We(o,"touchend",i._onDrop),We(o,"touchcancel",i._onDrop),i_&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),cn("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Po||Xr))){if(ye.eventCanceled){this._onDrop();return}We(o,"mouseup",i._disableDelayedDrag),We(o,"touchend",i._disableDelayedDrag),We(o,"touchcancel",i._disableDelayedDrag),We(o,"mousemove",i._delayedDragTouchMoveHandler),We(o,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&We(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&Zh(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;$e(e,"mouseup",this._disableDelayedDrag),$e(e,"touchend",this._disableDelayedDrag),$e(e,"touchcancel",this._disableDelayedDrag),$e(e,"mousemove",this._delayedDragTouchMoveHandler),$e(e,"touchmove",this._delayedDragTouchMoveHandler),$e(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?We(document,"pointermove",this._onTouchMove):n?We(document,"touchmove",this._onTouchMove):We(document,"mousemove",this._onTouchMove):(We(J,"dragend",this),We(at,"dragstart",this._onDragStart));try{document.selection?nc(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ha=!1,at&&J){cn("dragStarted",this,{evt:n}),this.nativeDraggable&&We(document,"dragover",UI);var r=this.options;!e&&_n(J,r.dragClass,!1),_n(J,r.ghostClass,!0),ye.active=this,e&&this._appendGhost(),nn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Qn){this._lastX=Qn.clientX,this._lastY=Qn.clientY,S_();for(var e=document.elementFromPoint(Qn.clientX,Qn.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Qn.clientX,Qn.clientY),e!==n);)n=e;if(J.parentNode[bn]._isOutsideThisEl(e),n)do{if(n[bn]){var r=void 0;if(r=n[bn]._onDragOver({clientX:Qn.clientX,clientY:Qn.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);w_()}},_onTouchMove:function(e){if(Es){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,a=xe&&la(xe,!0),o=xe&&a&&a.a,l=xe&&a&&a.d,u=ec&&Yt&&f_(Yt),f=(s.clientX-Es.clientX+i.x)/(o||1)+(u?u[0]-Xh[0]:0)/(o||1),c=(s.clientY-Es.clientY+i.y)/(l||1)+(u?u[1]-Xh[1]:0)/(l||1);if(!ye.active&&!ha){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(xe){a?(a.e+=f-(zh||0),a.f+=c-(Yh||0)):a={a:1,b:0,c:0,d:1,e:f,f:c};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");ve(xe,"webkitTransform",h),ve(xe,"mozTransform",h),ve(xe,"msTransform",h),ve(xe,"transform",h),zh=f,Yh=c,Qn=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!xe){var e=this.options.fallbackOnBody?document.body:at,n=xt(J,!0,ec,!0,e),r=this.options;if(ec){for(Yt=e;ve(Yt,"position")==="static"&&ve(Yt,"transform")==="none"&&Yt!==document;)Yt=Yt.parentNode;Yt!==document.body&&Yt!==document.documentElement?(Yt===document&&(Yt=xr()),n.top+=Yt.scrollTop,n.left+=Yt.scrollLeft):Yt=xr(),Xh=f_(Yt)}xe=J.cloneNode(!0),_n(xe,r.ghostClass,!1),_n(xe,r.fallbackClass,!0),_n(xe,r.dragClass,!0),ve(xe,"transition",""),ve(xe,"transform",""),ve(xe,"box-sizing","border-box"),ve(xe,"margin",0),ve(xe,"top",n.top),ve(xe,"left",n.left),ve(xe,"width",n.width),ve(xe,"height",n.height),ve(xe,"opacity","0.8"),ve(xe,"position",ec?"absolute":"fixed"),ve(xe,"zIndex","100000"),ve(xe,"pointerEvents","none"),ye.ghost=xe,e.appendChild(xe),ve(xe,"transform-origin",g_/parseInt(xe.style.width)*100+"% "+y_/parseInt(xe.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(cn("dragStart",this,{evt:e}),ye.eventCanceled){this._onDrop();return}cn("setupClone",this),ye.eventCanceled||(lt=m_(J),lt.removeAttribute("id"),lt.draggable=!1,lt.style["will-change"]="",this._hideClone(),_n(lt,this.options.chosenClass,!1),ye.clone=lt),r.cloneId=nc(function(){cn("clone",r),!ye.eventCanceled&&(r.options.removeCloneOnHide||at.insertBefore(lt,J),r._hideClone(),nn({sortable:r,name:"clone"}))}),!n&&_n(J,s.dragClass,!0),n?(Yu=!0,r._loopId=setInterval(r._emulateDragOver,50)):($e(document,"mouseup",r._onDrop),$e(document,"touchend",r._onDrop),$e(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,J)),We(document,"drop",r),ve(J,"transform","translateZ(0)")),ha=!0,r._dragStartId=nc(r._dragStarted.bind(r,n,e)),We(document,"selectstart",r),Ro=!0,Ao&&ve(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,a,o=this.options,l=o.group,u=ye.active,f=zu===l,c=o.sort,h=It||u,d,m=this,p=!1;if(Kh)return;function g(K,Pe){cn(K,m,wr({evt:e,isOwner:f,axis:d?"vertical":"horizontal",revert:a,dragRect:i,targetRect:s,canSort:c,fromSortable:h,target:r,completed:v,onMove:function(_t,Xt){return tc(at,n,J,i,_t,xt(_t),e,Xt)},changed:b},Pe))}function y(){g("dragOverAnimationCapture"),m.captureAnimationState(),m!==h&&h.captureAnimationState()}function v(K){return g("dragOverCompleted",{insertion:K}),K&&(f?u._hideClone():u._showClone(m),m!==h&&(_n(J,It?It.options.ghostClass:u.options.ghostClass,!1),_n(J,o.ghostClass,!0)),It!==m&&m!==ye.active?It=m:m===ye.active&&It&&(It=null),h===m&&(m._ignoreWhileAnimating=r),m.animateAll(function(){g("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===J&&!J.animated||r===n&&!r.animated)&&(da=null),!o.dragoverBubble&&!e.rootEl&&r!==document&&(J.parentNode[bn]._isOutsideThisEl(e.target),!K&&Ss(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function b(){En=Fn(J),Fi=Fn(J,o.draggable),nn({sortable:m,name:"change",toEl:n,newIndex:En,newDraggableIndex:Fi,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Jn(r,o.draggable,n,!0),g("dragOver"),ye.eventCanceled)return p;if(J.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return v(!1);if(Yu=!1,u&&!o.disabled&&(f?c||(a=dt!==at):It===this||(this.lastPutMode=zu.checkPull(this,u,J,e))&&l.checkPut(this,u,J,e))){if(d=this._getDirection(e,r)==="vertical",i=xt(J),g("dragOverValid"),ye.eventCanceled)return p;if(a)return dt=at,y(),this._hideClone(),g("revert"),ye.eventCanceled||(bs?at.insertBefore(J,bs):at.appendChild(J)),v(!0);var E=Wh(n,o.draggable);if(!E||HI(e,d,this)&&!E.animated){if(E===J)return v(!1);if(E&&n===e.target&&(r=E),r&&(s=xt(r)),tc(at,n,J,i,r,s,e,!!r)!==!1)return y(),E&&E.nextSibling?n.insertBefore(J,E.nextSibling):n.appendChild(J),dt=n,b(),v(!0)}else if(E&&qI(e,d,this)){var O=ua(n,0,o,!0);if(O===J)return v(!1);if(r=O,s=xt(r),tc(at,n,J,i,r,s,e,!1)!==!1)return y(),n.insertBefore(J,O),dt=n,b(),v(!0)}else if(r.parentNode===n){s=xt(r);var N=0,M,A=J.parentNode!==n,k=!jI(J.animated&&J.toRect||i,r.animated&&r.toRect||s,d),C=d?"top":"left",R=c_(r,"top","top")||c_(J,"top","top"),I=R?R.scrollTop:void 0;da!==r&&(M=s[C],Fo=!1,Ku=!k&&o.invertSwap||A),N=zI(e,r,s,d,k?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,Ku,da===r);var ee;if(N!==0){var be=Fn(J);do be-=N,ee=dt.children[be];while(ee&&(ve(ee,"display")==="none"||ee===xe))}if(N===0||ee===r)return v(!1);da=r,$o=N;var T=r.nextElementSibling,$=!1;$=N===1;var z=tc(at,n,J,i,r,s,e,$);if(z!==!1)return(z===1||z===-1)&&($=z===1),Kh=!0,setTimeout(WI,30),y(),$&&!T?n.appendChild(J):r.parentNode.insertBefore(J,$?T:r),R&&d_(R,0,I-R.scrollTop),dt=J.parentNode,M!==void 0&&!Ku&&(Zu=Math.abs(M-xt(r)[C])),b(),v(!0)}if(n.contains(J))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){$e(document,"mousemove",this._onTouchMove),$e(document,"touchmove",this._onTouchMove),$e(document,"pointermove",this._onTouchMove),$e(document,"dragover",Ss),$e(document,"mousemove",Ss),$e(document,"touchmove",Ss)},_offUpEvents:function(){var e=this.el.ownerDocument;$e(e,"mouseup",this._onDrop),$e(e,"touchend",this._onDrop),$e(e,"pointerup",this._onDrop),$e(e,"touchcancel",this._onDrop),$e(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(En=Fn(J),Fi=Fn(J,r.draggable),cn("drop",this,{evt:e}),dt=J&&J.parentNode,En=Fn(J),Fi=Fn(J,r.draggable),ye.eventCanceled){this._nulling();return}ha=!1,Ku=!1,Fo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Jh(this.cloneId),Jh(this._dragStartId),this.nativeDraggable&&($e(document,"drop",this),$e(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ao&&ve(document.body,"user-select",""),ve(J,"transform",""),e&&(Ro&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),xe&&xe.parentNode&&xe.parentNode.removeChild(xe),(at===dt||It&&It.lastPutMode!=="clone")&&lt&&lt.parentNode&&lt.parentNode.removeChild(lt),J&&(this.nativeDraggable&&$e(J,"dragend",this),Zh(J),J.style["will-change"]="",Ro&&!ha&&_n(J,It?It.options.ghostClass:this.options.ghostClass,!1),_n(J,this.options.chosenClass,!1),nn({sortable:this,name:"unchoose",toEl:dt,newIndex:null,newDraggableIndex:null,originalEvent:e}),at!==dt?(En>=0&&(nn({rootEl:dt,name:"add",toEl:dt,fromEl:at,originalEvent:e}),nn({sortable:this,name:"remove",toEl:dt,originalEvent:e}),nn({rootEl:dt,name:"sort",toEl:dt,fromEl:at,originalEvent:e}),nn({sortable:this,name:"sort",toEl:dt,originalEvent:e})),It&&It.save()):En!==fa&&En>=0&&(nn({sortable:this,name:"update",toEl:dt,originalEvent:e}),nn({sortable:this,name:"sort",toEl:dt,originalEvent:e})),ye.active&&((En==null||En===-1)&&(En=fa,Fi=Io),nn({sortable:this,name:"end",toEl:dt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){cn("nulling",this),at=J=dt=xe=bs=lt=Hu=$i=Es=Qn=Ro=En=Fi=fa=Io=da=$o=It=zu=ye.dragged=ye.ghost=ye.clone=ye.active=null,Ju.forEach(function(e){e.checked=!0}),Ju.length=zh=Yh=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":J&&(this._onDragOver(e),BI(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,a=this.options;i<s;i++)n=r[i],Jn(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||XI(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,a){var o=i.children[a];Jn(o,this.options.draggable,i,!1)&&(r[s]=o)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Jn(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=Do.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&E_(r)},destroy:function(){cn("destroy",this);var e=this.el;e[bn]=null,$e(e,"mousedown",this._onTapStart),$e(e,"touchstart",this._onTapStart),$e(e,"pointerdown",this._onTapStart),this.nativeDraggable&&($e(e,"dragover",this),$e(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Xu.splice(Xu.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!$i){if(cn("hideClone",this),ye.eventCanceled)return;ve(lt,"display","none"),this.options.removeCloneOnHide&&lt.parentNode&&lt.parentNode.removeChild(lt),$i=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if($i){if(cn("showClone",this),ye.eventCanceled)return;J.parentNode==at&&!this.options.group.revertClone?at.insertBefore(lt,J):bs?at.insertBefore(lt,bs):at.appendChild(lt),this.options.group.revertClone&&this.animate(J,lt),ve(lt,"display",""),$i=!1}}};function BI(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function tc(t,e,n,r,i,s,a,o){var l,u=t[bn],f=u.options.onMove,c;return window.CustomEvent&&!Xr&&!Po?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||xt(e),l.willInsertAfter=o,l.originalEvent=a,t.dispatchEvent(l),f&&(c=f.call(u,l,a)),c}function Zh(t){t.draggable=!1}function WI(){Kh=!1}function qI(t,e,n){var r=xt(ua(n.el,0,n.options,!0)),i=p_(n.el,n.options,xe),s=10;return e?t.clientX<i.left-s||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-s||t.clientY<r.bottom&&t.clientX<r.left}function HI(t,e,n){var r=xt(Wh(n.el,n.options.draggable)),i=p_(n.el,n.options,xe),s=10;return e?t.clientX>i.right+s||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+s||t.clientX>r.right&&t.clientY>r.top}function zI(t,e,n,r,i,s,a,o){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,f=r?n.top:n.left,c=r?n.bottom:n.right,h=!1;if(!a){if(o&&Zu<u*i){if(!Fo&&($o===1?l>f+u*s/2:l<c-u*s/2)&&(Fo=!0),Fo)h=!0;else if($o===1?l<f+Zu:l>c-Zu)return-$o}else if(l>f+u*(1-i)/2&&l<c-u*(1-i)/2)return YI(e)}return h=h||a,h&&(l<f+u*s/2||l>c-u*s/2)?l>f+u/2?1:-1:0}function YI(t){return Fn(J)<Fn(t)?1:-1}function XI(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function KI(t){Ju.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Ju.push(r)}}function nc(t){return setTimeout(t,0)}function Jh(t){return clearTimeout(t)}Qu&&We(document,"touchmove",function(t){(ye.active||ha)&&t.cancelable&&t.preventDefault()}),ye.utils={on:We,off:$e,css:ve,find:u_,is:function(e,n){return!!Jn(e,n,e,!1)},extend:AI,throttle:h_,closest:Jn,toggleClass:_n,clone:m_,index:Fn,nextTick:nc,cancelNextTick:Jh,detectDirection:b_,getChild:ua},ye.get=function(t){return t[bn]},ye.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(ye.utils=wr(wr({},ye.utils),r.utils)),Do.mount(r)})},ye.create=function(t,e){return new ye(t,e)},ye.version=CI;var Ot=[],Vo,Qh,ed=!1,td,nd,rc,jo;function ZI(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?We(document,"dragover",this._handleAutoScroll):this.options.supportPointer?We(document,"pointermove",this._handleFallbackAutoScroll):r.touches?We(document,"touchmove",this._handleFallbackAutoScroll):We(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?$e(document,"dragover",this._handleAutoScroll):($e(document,"pointermove",this._handleFallbackAutoScroll),$e(document,"touchmove",this._handleFallbackAutoScroll),$e(document,"mousemove",this._handleFallbackAutoScroll)),x_(),ic(),kI()},nulling:function(){rc=Qh=Vo=ed=jo=td=nd=null,Ot.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,o=document.elementFromPoint(s,a);if(rc=n,r||this.options.forceAutoScrollFallback||Po||Xr||Ao){rd(n,this.options,o,r);var l=Ri(o,!0);ed&&(!jo||s!==td||a!==nd)&&(jo&&x_(),jo=setInterval(function(){var u=Ri(document.elementFromPoint(s,a),!0);u!==l&&(l=u,ic()),rd(n,i.options,u,r)},10),td=s,nd=a)}else{if(!this.options.bubbleScroll||Ri(o,!0)===xr()){ic();return}rd(n,this.options,Ri(o,!1),!1)}}},zr(t,{pluginName:"scroll",initializeByDefault:!0})}function ic(){Ot.forEach(function(t){clearInterval(t.pid)}),Ot=[]}function x_(){clearInterval(jo)}var rd=h_(function(t,e,n,r){if(!!e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,o=e.scrollSpeed,l=xr(),u=!1,f;Qh!==n&&(Qh=n,ic(),Vo=e.scroll,f=e.scrollFn,Vo===!0&&(Vo=Ri(n,!0)));var c=0,h=Vo;do{var d=h,m=xt(d),p=m.top,g=m.bottom,y=m.left,v=m.right,b=m.width,E=m.height,O=void 0,N=void 0,M=d.scrollWidth,A=d.scrollHeight,k=ve(d),C=d.scrollLeft,R=d.scrollTop;d===l?(O=b<M&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),N=E<A&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(O=b<M&&(k.overflowX==="auto"||k.overflowX==="scroll"),N=E<A&&(k.overflowY==="auto"||k.overflowY==="scroll"));var I=O&&(Math.abs(v-i)<=a&&C+b<M)-(Math.abs(y-i)<=a&&!!C),ee=N&&(Math.abs(g-s)<=a&&R+E<A)-(Math.abs(p-s)<=a&&!!R);if(!Ot[c])for(var be=0;be<=c;be++)Ot[be]||(Ot[be]={});(Ot[c].vx!=I||Ot[c].vy!=ee||Ot[c].el!==d)&&(Ot[c].el=d,Ot[c].vx=I,Ot[c].vy=ee,clearInterval(Ot[c].pid),(I!=0||ee!=0)&&(u=!0,Ot[c].pid=setInterval(function(){r&&this.layer===0&&ye.active._onTouchMove(rc);var T=Ot[this.layer].vy?Ot[this.layer].vy*o:0,$=Ot[this.layer].vx?Ot[this.layer].vx*o:0;typeof f=="function"&&f.call(ye.dragged.parentNode[bn],$,T,t,rc,Ot[this.layer].el)!=="continue"||d_(Ot[this.layer].el,$,T)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&h!==l&&(h=Ri(h,!1)));ed=u}},30),O_=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(!!n){var u=r||s;o();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(f.clientX,f.clientY);l(),u&&!u.el.contains(c)&&(a("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function id(){}id.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=ua(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:O_},zr(id,{pluginName:"revertOnSpill"});function sd(){}sd.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:O_},zr(sd,{pluginName:"removeOnSpill"}),ye.mount(new ZI),ye.mount(sd,id);const M_=.5,JI=!1,sc=as("slider",()=>{const t=ht(),e=Ee(M_),n=Ee(JI),r=me(()=>[...t.layers].reverse()[0]);function i(a){let o=a;a<.1?o=.1:a>.9&&(o=.9),e.value=o}function s(a){n.value=a!=null?a:!n.value}return{sliderActive:n,sliderRatio:e,sliderTopLayer:r,setRatio:i,toggleSlider:s}},{});function T_(t,e){const{t:n}=Xe();function r(){e==null||e.emit("clickInfo",t)}return{t:n,onClickInfo:r}}const QI={class:"lux-layer-manager-item mt-2.5"},e3=["title"],t3={class:"flex-1 text-left cursor-default"},n3=["aria-label","title"],r3=de(he({__name:"layer-item-background",props:{showEditButton:{type:Boolean,required:!0},layer:{type:Object,required:!0}},emits:["clickEdit","clickInfo"],setup(t,{emit:e}){const n=t,r=e,{t:i,onClickInfo:s}=T_(n.layer,{emit:r}),a=me(()=>i('Display informations for "{{layerName}}"',{ns:"client",layerName:o()}));function o(){return i(n.layer.name,{ns:"client"})}return(l,u)=>(P(),V("div",QI,[L("button",{class:"fa fa-info w-3",title:a.value,onClick:u[0]||(u[0]=(...f)=>w(s)&&w(s)(...f))},null,8,e3),L("span",t3,oe(o()),1),l.showEditButton?(P(),V("button",{key:0,class:"fa fa-pencil","aria-label":w(i)("Open editor panel",{ns:"client"}),title:w(i)("Open editor panel",{ns:"client"}),onClick:u[1]||(u[1]=f=>l.$emit("clickEdit"))},null,8,n3)):F("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-item/layer-item-background.vue"]]),i3=["id"],s3=["aria-checked","title"],a3=["id","value","aria-label"],o3=["aria-checked","aria-label"],l3=de(he({__name:"layer-item-sub",props:{layer:{type:Object,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["changeOpacity","clickToggleLayerComparator"],setup(t,{emit:e}){var d,m,p,g;const n=t,r=e,{t:i}=Xe(),s=In(),a=me(()=>i(s.getLayerCurrentLabel(n.layer),{ns:"client"})),o=it(((m=(d=n.layer)==null?void 0:d.opacity)!=null?m:1)*100),l=it(((g=(p=n.layer)==null?void 0:p.previousOpacity)!=null?g:o.value)*100);function u(){o.value===0?o.value=l.value:(l.value=o.value,o.value=0),h()}function f(y){y.target&&(o.value=parseInt(y.target.value),h())}function c(){r("clickToggleLayerComparator",n.layer)}function h(){r("changeOpacity",n.layer,o.value)}return(y,v)=>(P(),V("div",{class:Ae(["lux-layer-manager-item-content",y.isOpen?"h-6":"h-0"]),id:`layer-manager-item-content-${y.layer.id}`},[L("button",{class:Ae(["w-5 fa-solid",o.value===0?"fa-eye-slash":"fa-eye"]),role:"switch","aria-checked":o.value===0,title:w(i)("Toggle layer opacity for {{layerName}}",{layerName:a.value}),onClick:u},null,10,s3),L("input",{id:`${y.layer.id}-steps-range`,type:"range",min:"0",max:"100",value:o.value,step:"25",onChange:f,class:"m-2.5 w-16 h-[5px] rounded-lg appearance-none cursor-pointer","aria-label":w(i)("Change opacity for {{ layerName }}",{layerName:a.value})},null,40,a3),y.displayLayerComparatorOpen?(P(),V("button",{key:0,role:"switch",class:Ae(["fa ml-auto text-sm cursor-pointer",y.isLayerComparatorOpen?"fa-adjust":"fa-circle"]),"aria-checked":y.isLayerComparatorOpen,"aria-label":w(i)("Toggle layer comparator for {{ layerName }}",{layerName:a.value}),onClick:c},null,10,o3)):F("v-if",!0)],10,i3))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-item/layer-item-sub.vue"]]),u3=["min","max","value"],ad=de(he({__name:"layer-time-datepicker",props:{minDateAllowed:{type:String,required:!1,default:""},maxDateAllowed:{type:String,required:!1,default:""},dateValue:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=me(()=>gh(n.minDateAllowed)),s=me(()=>gh(n.maxDateAllowed));function a(o){r("change",o.target.value)}return(o,l)=>(P(),V("input",{class:"lux-time-datepicker",type:"date",min:i.value,max:s.value,value:o.dateValue?w(gh)(o.dateValue):"",onChange:a},null,40,u3))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-datepicker.vue"]]),c3={class:"lux-time-slider w-full"},f3=["for"],h3=de(he({__name:"layer-time-datepicker-value",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t){const{t:e}=Xe(),n=t,r=it(n.layer.currentTimeMinValue);return(i,s)=>{var a,o;return P(),V("div",c3,[L("div",null,[L("label",{for:`${i.layer.id}-time-slider-start`,class:"lux-time-slider-label"},oe(w(e)("Date:")),9,f3),te(ad,{id:`${i.layer.id}-time-slider-start`,"date-value":r.value,"min-date-allowed":(a=n.layer.time)==null?void 0:a.minValue,"max-date-allowed":(o=n.layer.time)==null?void 0:o.maxValue,onChange:s[0]||(s[0]=l=>i.$emit("changeTime",l))},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-datepicker-value.vue"]]),d3={class:"lux-time-slider w-full"},m3=["for"],p3=["for"],g3=de(he({__name:"layer-time-datepicker-range",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const{t:n}=Xe(),r=t,i=e,s=it(r.layer.currentTimeMinValue),a=it(r.layer.currentTimeMaxValue);function o(u){i("changeTime",u,r.layer.currentTimeMaxValue)}function l(u){i("changeTime",r.layer.currentTimeMinValue,u)}return(u,f)=>{var c,h,d,m;return P(),V("div",d3,[F(" Date START datepicker input "),L("div",null,[L("label",{for:`${u.layer.id}-time-slider-start`,class:"lux-time-slider-label"},oe(w(n)("From:")),9,m3),te(ad,{id:`${u.layer.id}-time-slider-start`,"date-value":s.value,"min-date-allowed":(c=r.layer.time)==null?void 0:c.minValue,"max-date-allowed":(h=r.layer.time)==null?void 0:h.maxValue,onChange:o},null,8,["id","date-value","min-date-allowed","max-date-allowed"])]),F(" Date END datepicker input "),L("div",null,[L("label",{for:`${u.layer.id}-time-slider-end`,class:"lux-time-slider-label"},oe(w(n)("To:")),9,p3),te(ad,{id:`${u.layer.id}-time-slider-end`,"date-value":a.value,"min-date-allowed":(d=r.layer.time)==null?void 0:d.minValue,"max-date-allowed":(m=r.layer.time)==null?void 0:m.maxValue,onChange:l},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-datepicker-range.vue"]]),y3=["onKeydown","aria-label","title"],N_=de(he({__name:"slider-range-thumb",props:{ariaLabel:{type:String,required:!1},maxLimit:{type:Number,required:!1,default:100},minLimit:{type:Number,required:!1,default:0},selectedValue:{type:Number,required:!0}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=Ee(!1),s=Ee(),a=Ee(),o=me(()=>{var b;return((b=s.value)==null?void 0:b.offsetWidth)||0}),l=me(()=>{var b;return((b=a.value)==null?void 0:b.offsetWidth)||40}),u=Ee(n.selectedValue),f=me(()=>o.value*u.value/100-l.value/2),c=me(()=>({left:`${f.value}px`}));ci(()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y)}),tt(()=>n.selectedValue,b=>{u.value=b});function h(b){u.value=Math.max(Math.min(b,100),0),r("change",u.value,i.value)}function d(){h(u.value-1)}function m(){h(u.value+1)}function p(){i.value=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",y)}function g(b){!i.value||h(v(b))}function y(b){i.value=!1,h(v(b)),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y)}function v(b){var O,N;const E=(O=s.value)!=null&&O.offsetWidth?(b.clientX-l.value*2)*100/((N=s.value)==null?void 0:N.offsetWidth):0;return Math.round(Math.max(Math.min(E,n.maxLimit),n.minLimit))}return(b,E)=>(P(),V("div",{class:"w-full",role:"slider",ref_key:"elRefTrack",ref:s},[L("button",{class:Ae(["lux-slidebar-thumb",i.value?"dragging":""]),ref_key:"elRefThumb",ref:a,style:ni(c.value),onKeydown:[lr(or(m,["stop"]),["space"]),lr(or(m,["stop"]),["right"]),lr(or(d,["stop"]),["left"]),lr(or(d,["stop"]),["delete"])],onMousedown:p,onMousemove:g,onMouseup:y,"aria-label":b.ariaLabel,title:b.ariaLabel},null,46,y3)],512))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/slider-range/slider-range-thumb.vue"]]),v3=de(he({__name:"slider-range-active-track",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=Ee(),s=Ee(),a=me(()=>i.value?Math.round(i.value.offsetWidth*n.selectedMinValue/100):0),o=me(()=>{var c,h;let f=0;return n.selectedMaxValue!==void 0&&((c=i.value)==null?void 0:c.offsetWidth)&&(f=((h=i.value)==null?void 0:h.offsetWidth)*n.selectedMaxValue/100-a.value),Math.round(f)}),l=me(()=>({left:`${a.value}px`,width:`${o.value}px`}));function u(f){if(i.value){const c=i.value.getBoundingClientRect().x,h=(f.clientX-c)*100/i.value.offsetWidth;r("change",h)}}return(f,c)=>(P(),V("div",{ref_key:"elRefFullTrack",ref:i,class:"lux-slidebar-track"},[f.selectedMaxValue!==void 0?(P(),V("div",{key:0,ref_key:"elRefSelectionTrack",ref:s,class:"lux-slidebar-track-selection",style:ni(l.value),onClick:u},null,4)):F("v-if",!0),L("div",{class:"lux-slidebar-track-full",onClick:u})],512))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/slider-range/slider-range-active-track.vue"]]),_3={class:"lux-slidebar-fake"},C_=de(he({__name:"slider-range",props:{selectedMinValue:{type:Number,required:!0},selectedMaxValue:{type:Number,required:!1},ariaLabelMin:{type:String,required:!1},ariaLabelMax:{type:String,required:!1}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,i=Ee(n.selectedMinValue),s=Ee(n.selectedMaxValue);function a(u,f){r("change",u,n.selectedMaxValue,f)}function o(u,f){r("change",n.selectedMinValue,u,f)}function l(u){s.value===void 0?i.value=u:u>=s.value?s.value=u:u<=n.selectedMinValue?i.value=u:Math.abs(s.value-u)<Math.abs(i.value-u)?s.value=u:i.value=u,r("change",i.value,s.value,!1)}return(u,f)=>(P(),V("div",_3,[F(" Draggable Max thumb button "),s.value!==void 0?(P(),Fe(N_,{key:0,ariaLabel:u.ariaLabelMax,minLimit:u.selectedMinValue,selectedValue:s.value,onChange:o},null,8,["ariaLabel","minLimit","selectedValue"])):F("v-if",!0),F(" Draggable Min thumb button "),F(" put Min value after Max value, this is just for z-index grabbing "),te(N_,{ariaLabel:u.ariaLabelMin,maxLimit:u.selectedMaxValue,selectedValue:i.value,onChange:a},null,8,["ariaLabel","maxLimit","selectedValue"]),F(" Selection highlight "),te(v3,{selectedMinValue:u.selectedMinValue,selectedMaxValue:u.selectedMaxValue,onChange:l},null,8,["selectedMinValue","selectedMaxValue"])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/common/slider-range/slider-range.vue"]]),b3={class:"lux-time-slider w-full"},E3={key:0,class:"lux-time-slider-value mr-1.5"},S3={key:1,class:"lux-time-slider-range mr-1.5"},w3={class:"lux-time-displayed-dates"},x3={key:0,class:"lux-time-start-date grow"},O3={key:1,class:"lux-time-slider-end-date grow text-right"},M3=de(he({__name:"layer-time-slider",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const{t:n}=Xe(),r=t,i=e,s=me(g),a=me(()=>{var E,O;return(E=r.layer.time)!=null&&E.minValue?new Date((O=r.layer.time)==null?void 0:O.minValue).getTime():0}),o=me(()=>{var E,O;return(E=r.layer.time)!=null&&E.maxValue?new Date((O=r.layer.time)==null?void 0:O.maxValue).getTime():0}),l=me(()=>o.value-a.value),u=Ee(r.layer.currentTimeMaxValue),f=Ee(r.layer.currentTimeMinValue),c=me(()=>f.value?new Date(f.value).getTime():void 0),h=me(()=>u.value?new Date(u.value).getTime():void 0),d=me(()=>p(c.value)),m=me(()=>p(h.value));function p(E){return E?(E-a.value)/l.value*100:0}function g(){var R,I;const E=r.layer.time,O=[];if(!E)return;if(E.values)return E.values.map(ee=>new Date(ee).getTime());const N=new Date(E.minValue),M=new Date((R=E.maxValue)!=null?R:Date.now()),A=1024,k=new Date(N.getTime()),C=(I=E.interval)!=null?I:s0;if(k.setFullYear(N.getFullYear()+A*C[0]),k.setMonth(N.getMonth()+A*C[1],N.getDate()+A*C[2]),k.setSeconds(N.getSeconds()+A*C[3]),k>M)for(let ee=0;;ee++){const be=new Date(N.getTime());if(be.setFullYear(N.getFullYear()+ee*C[0]),be.setMonth(N.getMonth()+ee*C[1],N.getDate()+ee*C[2]),be.setSeconds(N.getSeconds()+ee*C[3]),be<=M)O.push(be.getTime());else break}return O}function y(E){var M;const O=E/100*(o.value-a.value)+a.value,N=zL(O,{minValue:a.value,maxValue:o.value,timeValueList:s.value,timeInterval:(M=r.layer.time)==null?void 0:M.interval});return ph(N)}function v(E,O){const N=y(E);if(f.value=N,O){const M=y(O);u.value=M}}function b(E,O,N){v(E,O),N||i("changeTime",f.value,u.value)}return(E,O)=>{var N,M,A,k,C,R,I;return P(),V("div",b3,[F(" Slider LayerTimeMode.VALUE "),((N=E.layer.time)==null?void 0:N.mode)===w(Gr).VALUE?(P(),V("div",E3,[te(C_,{ariaLabelMin:`${w(n)("Modifier la date de d\xE9but",{ns:"client"})}`,selectedMinValue:d.value,onChange:b},null,8,["ariaLabelMin","selectedMinValue"])])):F("v-if",!0),F(" Slider LayerTimeMode.RANGE "),((M=E.layer.time)==null?void 0:M.mode)===w(Gr).RANGE?(P(),V("div",S3,[te(C_,{ariaLabelMin:`${w(n)("Modifier la date de d\xE9but",{ns:"client"})}`,ariaLabelMax:`${w(n)("Modifier la date de fin",{ns:"client"})}`,selectedMinValue:d.value,selectedMaxValue:m.value,onChange:b},null,8,["ariaLabelMin","ariaLabelMax","selectedMinValue","selectedMaxValue"])])):F("v-if",!0),F(" Display localized time values "),L("div",w3,[F(" Display localized time values Min value "),((A=E.layer.time)==null?void 0:A.mode)===w(Gr).RANGE||((k=E.layer.time)==null?void 0:k.mode)===w(Gr).VALUE?(P(),V("div",x3,[L("span",null,oe(f.value?w(a0)(f.value,(C=E.layer.time)==null?void 0:C.resolution):"-"),1)])):F("v-if",!0),F(" Display localized time values Max value "),((R=E.layer.time)==null?void 0:R.mode)===w(Gr).RANGE?(P(),V("div",O3,[L("span",null,oe(u.value?w(a0)(u.value,(I=E.layer.time)==null?void 0:I.resolution):"-"),1)])):F("v-if",!0)])])}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time-slider.vue"]]),T3=de(he({__name:"layer-time",props:{layer:{type:Object,required:!0}},emits:["changeTime"],setup(t,{emit:e}){const n=e;function r(i,s){n("changeTime",i,s)}return(i,s)=>{var a,o,l,u,f;return P(),V(Ge,null,[F(" Layer time: slider widget "),((a=i.layer.time)==null?void 0:a.widget)===w(uu).SLIDER?(P(),Fe(M3,{key:0,layer:i.layer,onChangeTime:r},null,8,["layer"])):F("v-if",!0),F(" Layer time: datepicker VALUE (one date) widget "),((o=i.layer.time)==null?void 0:o.widget)===w(uu).DATEPICKER&&((l=i.layer.time)==null?void 0:l.mode)===w(Gr).VALUE?(P(),Fe(h3,{key:1,layer:i.layer,onChangeTime:r},null,8,["layer"])):F("v-if",!0),F(' Layer time: datepicker RANGE ("from:" date - "to:" date) widget '),((u=i.layer.time)==null?void 0:u.widget)===w(uu).DATEPICKER&&((f=i.layer.time)==null?void 0:f.mode)===w(Gr).RANGE?(P(),Fe(g3,{key:2,layer:i.layer,onChangeTime:r},null,8,["layer"])):F("v-if",!0)],64)}}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-time/layer-time.vue"]]),N3={class:"lux-layer-manager-item relative"},C3={class:"w-full flex flex-nowrap items-start gap-x-2"},L3=["title"],P3=["aria-label","title"],A3=["aria-expanded","aria-controls","data-cy"],k3={class:"grow"},D3=["title","aria-label"],L_=de(he({__name:"layer-item",props:{is3d:{type:Boolean,required:!0},layer:{type:Object,required:!0},dragHandleClassName:{type:String,required:!0},isOpen:{type:Boolean,required:!0},isLayerComparatorOpen:{type:Boolean,required:!0},displayLayerComparatorOpen:{type:Boolean,required:!0}},emits:["clickInfo","clickToggle","clickToggleLayerComparator","clickRemove","changeOpacity","changeTime"],setup(t,{emit:e}){const n=t,r=e,{t:i,onClickInfo:s}=T_(n.layer,{emit:r}),a=In(),o=me(()=>i(a.getLayerCurrentLabel(n.layer),{ns:"client"})),l=me(()=>i('Sort "{{layerName}}" in the list',{ns:"client",layerName:o.value})),u=me(()=>i('Display informations for "{{layerName}}"',{ns:"client",layerName:o.value})),f=me(()=>i('Remove layer "{{layerName}}"',{ns:"client",layerName:o.value}));function c(h,d){r("changeTime",h,d)}return(h,d)=>(P(),V("div",N3,[L("div",C3,[L("button",{class:Ae(["fa-solid fa-bars cursor-move mt-1",h.dragHandleClassName]),title:l.value},null,10,L3),L("button",{class:"fa-solid fa-info mt-1","aria-label":u.value,title:u.value,onClick:d[0]||(d[0]=(...m)=>w(s)&&w(s)(...m))},null,8,P3),L("button",{"aria-expanded":h.isOpen,"aria-controls":`layer-manager-item-content-${h.layer.id}`,"data-cy":`myLayerItemLabel-${h.layer.id}`,class:Ae([h.is3d?"cursor-default":"","grow text-left break-words w-[70%] flex items-center"]),onClick:d[1]||(d[1]=m=>h.$emit("clickToggle",h.layer))},[L("span",k3,oe(o.value),1),h.is3d?F("v-if",!0):(P(),V("span",{key:0,class:Ae(["w-3.5 fa-solid",h.isOpen?"fa-xmark":"fa-ellipsis"]),"aria-hidden":"true"},null,2))],10,A3),L("button",{class:"mt-1 fa-regular fa-trash-can",title:f.value,"aria-label":f.value,onClick:d[2]||(d[2]=m=>h.$emit("clickRemove",h.layer))},null,8,D3)]),F(" Layer item sub content (opacity and toggle comparator) "),h.is3d?F("v-if",!0):(P(),Fe(l3,{key:0,layer:h.layer,isOpen:h.isOpen,isLayerComparatorOpen:h.isLayerComparatorOpen,displayLayerComparatorOpen:h.displayLayerComparatorOpen,onClickToggleLayerComparator:d[3]||(d[3]=m=>h.$emit("clickToggleLayerComparator",m)),onChangeOpacity:d[4]||(d[4]=(m,p)=>h.$emit("changeOpacity",m,p))},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen"])),F(" Layer time: slider OR datepicker widgets "),h.layer.time?(P(),Fe(T3,{key:1,layer:h.layer,onChangeTime:c},null,8,["layer"])):F("v-if",!0)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-item/layer-item.vue"]]),I3={key:0,class:"mb-4 sortable-layers-3d"},R3=["id"],$3={class:"sortable-layers"},F3=["id"],V3={class:"flex flex-row justify-center space-x-1 my-2"},od="drag-handle",j3=de(he({__name:"layer-manager",emits:["displayCatalog"],setup(t,{emit:e}){const{t:n}=Xe(),{setMetadataId:r}=Oh(),i=ht(),s=vt(),a=Wr(),o=sc(),{bgLayer:l}=Ue(i),{sliderActive:u}=Ue(o),f=me(()=>[...i.layers].reverse()),c=me(()=>[...i.layers3d].reverse()),h=it(),d=me(()=>a.isLayerStyleEditable(l.value)),m=e,{setRemoteLayersOpen:p}=vt();yn(()=>{const A={dragClass:"lux-sortable-drag",ghostClass:"lux-sortable-ghost",sort:!0,handle:`.${od}`,forceFallback:tP},k=document.querySelector(".sortable-layers"),C=document.querySelector(".sortable-layers-3d");k&&ye.create(k,{...A,onSort:g}),C&&ye.create(C,{...A,onSort:y})});function g(A,k){const C=[...A.to.children].map(R=>Number(R.id)).reverse();i.reorderLayers(C,k)}function y(A){g(A,!0)}function v(A,k){i.setLayerOpacity(A.id,k/100)}function b(A,k,C){i.setLayerTime(A.id,k,C)}function E(A){i.removeLayers(A.id)}function O(A){h.value=h.value!==A.id?A.id:void 0}function N(){s.openStyleEditorPanel()}function M(){o.toggleSlider()}return(A,k)=>(P(),V("div",null,[c.value.length>0?(P(),V("ul",I3,[(P(!0),V(Ge,null,On(c.value,(C,R)=>(P(),V("li",{key:C.id,id:C.id},[te(L_,{is3d:!0,dragHandleClassName:od,layer:C,isOpen:h.value===C.id,isLayerComparatorOpen:w(u),displayLayerComparatorOpen:R===0,onClickRemove:E,onClickToggle:O,onClickToggleLayerComparator:M,onClickInfo:I=>w(r)(C.id),onChangeOpacity:v,onChangeTime:(I,ee)=>b(C,I,ee)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,R3))),128))])):F("v-if",!0),L("ul",$3,[(P(!0),V(Ge,null,On(f.value,(C,R)=>(P(),V("li",{key:C.id,id:C.id},[te(L_,{is3d:!1,dragHandleClassName:od,layer:C,isOpen:h.value===C.id,isLayerComparatorOpen:w(u),displayLayerComparatorOpen:R===0,onClickRemove:E,onClickToggle:O,onClickToggleLayerComparator:M,onClickInfo:I=>w(r)(C.id),onChangeOpacity:v,onChangeTime:(I,ee)=>b(C,I,ee)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,F3))),128))]),te(r3,{layer:w(l)||w(Ru),showEditButton:d.value,onClickInfo:k[0]||(k[0]=()=>w(l)&&w(r)(w(l).id)),onClickEdit:N},null,8,["layer","showEditButton"]),L("div",V3,[L("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:k[1]||(k[1]=C=>m("displayCatalog"))},oe(w(n)("+ Add layers",{ns:"client"})),1),L("button",{class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:k[2]||(k[2]=C=>w(p)(!0))},oe(w(n)("+ Add external Wms",{ns:"client"})),1)])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-manager/layer-manager.vue"]]),G3={class:"flex flex-col h-full pt-1.5"},U3={class:"h-16 shrink-0 flex justify-between lux-panel-title"},B3=["aria-label"],W3={class:"flex flex-row gap-2 h-10 text-2xl"},q3=["aria-expanded"],H3={key:0},z3=["aria-expanded"],Y3={class:"relative grow p-2.5 bg-primary overflow-auto"},P_=de(he({__name:"layer-panel",setup(t){const{t:e}=Xe(),n=vt(),{setLayersOpen:r}=n,{myLayersTabOpen:i}=Ue(n),{layers:s}=Ue(ht());function a(){n.setMyLayersTabOpen(!0)}function o(){n.setMyLayersTabOpen(!1)}return(l,u)=>(P(),V("div",G3,[F(" Panel title and close button "),L("div",U3,[L("h1",null,oe(w(e)("layers",{ns:"client"})),1),L("span",null,[L("button",{onClick:u[0]||(u[0]=()=>w(r)(!1)),"aria-label":w(e)("Close",{ns:"client"}),class:"fa-sharp fa-solid fa-close"},null,8,B3)])]),F(" My Layers and Catalog tab labels "),L("div",W3,[L("button",{onClick:a,class:Ae(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",w(i)?"bg-primary":"bg-tertiary"]),"aria-expanded":w(i)},[Da(oe(w(e)("my_layers",{ns:"client"}))+" ",1),w(s).length?(P(),V("span",H3,"("+oe(w(s).length)+")",1)):F("v-if",!0)],10,q3),L("button",{onClick:o,class:Ae(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",w(i)?"bg-tertiary":"bg-primary"]),"aria-expanded":!w(i)},oe(w(e)("Catalog",{ns:"client"})),11,z3)]),F(" Panel content (MyLayers and Catalog) "),L("div",Y3,[w(i)?(P(),Fe(j3,{key:0,onDisplayCatalog:o})):F("v-if",!0),w(i)?F("v-if",!0):(P(),Fe(OI,{key:1}))])]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/layer-panel/layer-panel.vue"]]);class X3{bootstrap(){let e;e=gn(()=>{this.restore(),this.persist(),e&&e()})}persist(){const e=sc();tt([()=>e.sliderActive,()=>e.sliderRatio],([n,r],[i])=>{n!==i&&Ce.setValue(_h,n),Ce.setValue(bh,r)})}restore(){const e=Ce.getValue(_h,yh),n=Ce.getValue(bh,ia),{toggleSlider:r,setRatio:i}=sc();typeof e<"u"&&e!==null&&(r(e),typeof n!==void 0&&n!==null&&i(n!=null?n:M_))}}const K3=new X3,Z3=["onKeydown"],J3=L("span",{class:"lux-slider-line"},null,-1),Q3=L("span",{class:"lux-slider-arrows"},[L("span"),L("span")],-1),eR={key:0,class:"lux-slider-layer-label"},tR=L("i",{class:"fa fa-arrow-left mr-2"},null,-1),A_=30,nR=de(he({__name:"splitter-element",props:{sliderActive:{type:Boolean,required:!0},sliderRatio:{type:Number,required:!0},sliderTopLayer:{type:Object,required:!0},sliderOffset:{type:Number,required:!0},containerOffset:{type:Number,required:!0}},emits:["moveSplitBar","escSplitBar"],setup(t,{expose:e,emit:n}){const r=t,i=n,{t:s}=Xe(),a=Ee(null),o=me(()=>({left:`${r.sliderOffset}px`}));let l=!1;e({sliderElement:a});function u(g){i("moveSplitBar",g+a.value.offsetWidth/2)}function f(){l=!0,document.addEventListener("mousemove",c),document.addEventListener("mouseup",h)}function c(g){!l||u(g.clientX)}function h(){l=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}function d(){const g=r.containerOffset+a.value.offsetLeft;u(g+A_)}function m(){const g=r.containerOffset+a.value.offsetLeft;u(g-A_)}function p(){i("escSplitBar")}return yn(()=>{var g;(g=a.value)==null||g.focus({focusVisible:!0})}),ci(()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}),(g,y)=>(P(),V("button",{ref_key:"sliderElement",ref:a,onMousedown:f,onMousemove:c,onMouseup:h,onKeydown:[lr(or(d,["stop"]),["space"]),lr(or(d,["stop"]),["right"]),lr(or(m,["stop"]),["left"]),lr(or(m,["stop"]),["delete"]),lr(or(p,["stop"]),["esc"])],class:"left-[20px] absolute h-full w-[32px] block",style:ni(o.value),role:"seperator","aria-controls":"map-container"},[J3,Q3,g.sliderTopLayer?(P(),V("span",eR,[tR,L("span",null,oe(w(s)(g.sliderTopLayer.name)),1)])):F("v-if",!0)],44,Z3))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/slider/splitter-element.vue"]]),k_=de(he({__name:"slider-comparator",setup(t){const e=sc(),n=wh(),r=mr().olMap,i=Ee(null),{sliderActive:s,sliderRatio:a,sliderTopLayer:o}=Ue(e),l=me(()=>{var v,b;return((b=(v=i.value)==null?void 0:v.sliderElement)==null?void 0:b.offsetWidth)||0}),u=function(){var b,E,O;let v=(O=(E=(b=r.value)==null?void 0:b.getViewport())==null?void 0:E.parentElement)==null?void 0:O.offsetLeft;return(v===void 0||v===0)&&(v=d==null?void 0:d.offsetLeft),v!==void 0?v:0},f=me(()=>{var v,b;return r.value&&i.value?a.value*r.value.getSize()[0]-((b=(v=i.value)==null?void 0:v.sliderElement)==null?void 0:b.offsetWidth)/2:0});let c,h,d;K3.bootstrap(),tt([o,s],([v,b],[E])=>{var O;v&&b?(v!==E&&p(),m()):p(),(O=r.value)==null||O.render()}),tt(f,()=>{var v;(v=r.value)==null||v.render()});function m(){const v=n.getLayerFromCache(o.value);!v||(c=v.on(Sd.default.PRERENDER,function(b){var R;const E=b.context,O=(R=r.value)==null?void 0:R.getSize(),N=f.value+l.value/2,M=qo.getRenderPixel(b,[0,0]),A=qo.getRenderPixel(b,[N,0]),k=qo.getRenderPixel(b,[0,O[1]]),C=qo.getRenderPixel(b,[N,O[1]]);E.save(),E.beginPath(),E.moveTo(M[0],M[1]),E.lineTo(k[0],k[1]),E.lineTo(C[0],C[1]),E.lineTo(A[0],A[1]),E.closePath(),E.clip()}),h=v.on(Sd.default.POSTRENDER,function(b){b.context.restore()}))}function p(){Pb.unByKey([c,h])}function g(v){var O;const b=(O=r.value)==null?void 0:O.getSize(),E=(v-u())/b[0];e.setRatio(E)}function y(){e.toggleSlider()}return yn(()=>{var v,b;d=(b=(v=r.value)==null?void 0:v.getTargetElement())==null?void 0:b.closest(".map-wrapper")}),ci(()=>{p()}),(v,b)=>w(o)&&w(s)?(P(),Fe(nR,{key:0,ref_key:"splitterElement",ref:i,sliderActive:w(s),sliderRatio:w(a),sliderTopLayer:w(o),sliderOffset:f.value,containerOffset:u(),onMoveSplitBar:g,onEscSplitBar:y},null,8,["sliderActive","sliderRatio","sliderTopLayer","sliderOffset","containerOffset"])):F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/slider/slider-comparator.vue"]]),ac="-",ld=",",D_="--";class rR{constructor(){Qe(this,"layersOpacitiesToNumbersV2",e=>this.layersOpacitiesToNumbers(e,ld))}layerTimesToStrings(e){return e?e.split(D_):[]}layerIdsToLayers(e){const n=Ci(),r=In();return(e?e.split(ac):[]).map(s=>{const a=No.isRemoteLayer(s)?RA(s):n.findById(parseInt(s,10));return a?r.initLayer(a):void 0})}layerNamesToLayersV2(e){const n=Ci(),r=In();return(e?e.split(ld):[]).map(s=>{const a=n.findByName(s);return a?r.initLayer(a):void 0})}layersOpacitiesToNumbers(e,n=ac){return QL(e,n)}layersVisibilitiesToBooleansV2(e){return eP(e,ld)}layersToLayerIds(e){return(e==null?void 0:e.map(n=>n.id).join(ac))||""}layersToLayerOpacities(e){return(e==null?void 0:e.map(n=>{var r;return(r=n.opacity)!=null?r:1}).join(ac))||""}layersToLayerTimes(e){return(e==null?void 0:e.map(n=>{var r;return(r=In().getLayerCurrentTime(n))!=null?r:""}).join(D_))||""}bgLayerNameToBgLayer(e){const n=Ci();return e?n.findBgLayerByName(e):null}bgLayerToBgLayerName(e){return(e==null?void 0:e.name)||Ru.name}}const Sn=new rR,iR="basemap_2015_global",sR="orthogr_2013_global",aR={webbasemap:"basemap_2015_global","pixelmaps-color":"topogr_global","pixelmaps-gray":"topo_bw_jpeg",streets:"streets_jpeg",voidlayer:"blank"};class oR{bootstrap(){const e=Ht();let n;n=gn(()=>{e.bgLayers.length>0&&(this.restore(),this.persist(),n&&n())})}persist(){const e=ht(),{bgLayer:n}=Ue(e);tt(n,(r,i)=>{i!==r&&Ce.setValue(h0,r,Sn.bgLayerToBgLayerName)},{immediate:!0})}restore(){const{setMapBackground:e}=xh(),n=this.getBgLayerFromStorage();e(n)}getBgLayerFromStorage(){const e=Ce.getInitialVersion(),n=Ce.getValue(h0);return n?e===2?this.getBgLayerFromStorageV2(n):Sn.bgLayerNameToBgLayer(n):Sn.bgLayerNameToBgLayer(iR)}getBgLayerFromStorageV2(e){const n=Ce.getValue(_0,ia);let r="";return e?r=aR[e]:n===0&&(r=sR),Sn.bgLayerNameToBgLayer(r)}}const I_=new oR;class lR{bootstrap(){const e=Ht();let n;n=gn(()=>{e.themes&&(this.restore(),this.persist(),n&&n())})}persist(){const e=ht(),{layers:n}=Ue(e);tt(n,(r,i)=>{i!==r&&(Ce.setValue(f0,r,Sn.layersToLayerIds),Ce.setValue(d0,r,Sn.layersToLayerOpacities),Ce.setValue(m0,r,Sn.layersToLayerTimes))},{immediate:!0})}restore(){const e=Ce.getInitialVersion(),n=ht(),r=Ce.getValue(f0,e===2?Sn.layerNamesToLayersV2:Sn.layerIdsToLayers);this.restoreLayersOpacities(r,e),this.restoreLayersTimes(r),e===2&&(Ce.removeItem(_0),Ce.removeItem(oP),Ce.removeItem(b0),Ce.removeItem(E0)),n.addLayers(...(r==null?void 0:r.filter(i=>i))||[])}restoreLayersOpacities(e,n){const r=n===2?this.getOpacitiesFromStorageV2():this.getOpacitiesFromStorage();r.length&&(e==null||e.forEach((i,s)=>{var a;return i&&(i.opacity=(a=r[s])!=null?a:1)}))}restoreLayersTimes(e){const n=Ce.getValue(m0,Sn.layerTimesToStrings);n.length&&(e==null||e.forEach((r,i)=>r&&n[i]&&this.restoreLayerTime(r,n[i])))}restoreLayerTime(e,n){const r=n.split("/");e.currentTimeMinValue=r[0],e.currentTimeMaxValue=r[1]}getOpacitiesFromStorage(){return Ce.getValue(d0,Sn.layersOpacitiesToNumbers)}getOpacitiesFromStorageV2(){const e=Ce.getValue(b0,Sn.layersOpacitiesToNumbersV2),n=Ce.getValue(E0,Sn.layersVisibilitiesToBooleansV2);return e.map((r,i)=>n[i]?r:0)}}const R_=new lR;class uR{themeToThemeName(e){return(e==null?void 0:e.name)||""}}const cR=new uR;class fR{bootstrap(){this.restore();let e;e=gn(()=>{this.persist(),e&&e()})}persist(){const e=Ht();tt(()=>e.theme,(n,r)=>{r!==n&&n&&Ce.setValue(xo,n,cR.themeToThemeName)},{immediate:!0})}restore(){const e=Ce.getValue(xo);if(e){const{setTheme:n}=Ht();n(e)}}}const $_=new fR;class hR{bootstrapLayersOpen(){this.restoreLayersOpen();let e;e=gn(()=>{this.persistLayersOpen(),e&&e()})}persistLayersOpen(){const e=vt(),{layersOpen:n}=Ue(e);tt(n,(r,i)=>{i!==r&&Ce.setValue(Pu,r)},{immediate:!0})}restoreLayersOpen(){const e=Ce.getValue(Pu)!=="false",{setLayersOpen:n}=vt();n(e)}}const F_=new hR;class dR{bootstrap(){this.restore();let e;e=gn(()=>{this.persist(),e&&e()})}persist(){}restore(){const e=Ce.getValue(iP);vt().setMapId(e)}}const V_=new dR,mR=de(he({__name:"simple-style-item",props:{styleName:{type:String,required:!0},colors:{type:Array,required:!0}},setup(t){const e=t;return(n,r)=>(P(!0),V(Ge,null,On(e.colors,(i,s)=>(P(),V("span",{key:`${n.styleName}-${s}`,class:"grow m-px",style:ni(`background-color: ${i}`)}," \xA0 ",4))),128))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/simple-style-item.vue"]]),pR={class:"text-white border-2 p-[10px] m-[10px]"},gR={class:"text-center mb-3"},yR=["title"],vR={class:"text-white"},_R=["title","onClick"],bR={class:"flex"},ER=de(he({__name:"simple-style-selector",setup(t){const{t:e}=Xe(),n=Rn(),r=Wr(),{bgStyle:i}=Ue(n),s=Br().simple_styles.road,a=Ee(s);tt(i,l=>a.value=r.checkSelection(l||[],s),{immediate:!0});function o(l){n.setSimpleStyle(l)}return(l,u)=>(P(),V("div",pR,[F(" TODO: create clean container for simple and advanced style editors "),L("h5",gR,oe(w(e)("Select a style",{ns:"client"})),1),(P(!0),V(Ge,null,On(a.value,f=>(P(),V("div",{key:f.unlocalized_label,title:w(e)(f.unlocalized_label,{ns:"client"}),class:Ae(`${f.selected?"border-dotted":"border-hidden"} border-2 p-px`)},[L("span",vR,oe(w(e)(f.unlocalized_label,{ns:"client"}))+" : ",1),L("button",{title:w(e)("Select style: {{styleName}}",{styleName:w(e)(f.unlocalized_label)}),onClick:c=>o(f),class:"w-full"},[L("span",bR,[te(mR,{colors:f.colors,"style-name":f.unlocalized_label},null,8,["colors","style-name"])])],8,_R)],10,yR))),128))]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/simple-style-selector.vue"]]);function SR(t){const e=wR(t);return!e||!e.medium_style_class?[]:Br().medium_default_styles[e.medium_style_class]}function wR(t){return Br().bg_layers.find(e=>e.id==(t==null?void 0:t.id))}const xR={class:"flex w-full items-center"},OR={for:"colorId",class:"w-40 m-0 font-medium"},MR={class:"grow"},TR=["value"],NR=["checked","aria-label"],CR=de(he({__name:"medium-style-item",props:{style:{type:Object,required:!0},colorEditable:{type:Boolean,required:!0}},emits:["changeStyle"],setup(t,{emit:e}){const{t:n}=Xe(),r=t,i=e;function s(o){if(o.target){const l={...r.style,color:o.target.value};i("changeStyle",l)}}function a(o){if(o){const l={...r.style,visible:o.target.checked};i("changeStyle",l)}}return(o,l)=>(P(),V("div",xR,[L("label",OR,oe(w(n)(o.style.label)),1),L("div",MR,[o.colorEditable&&r.style.color?(P(),V("input",{key:0,id:"colorId",type:"color",class:"w-11 h-5 py-[1px] px-[2px]",value:r.style.color,onInput:s},null,40,TR)):F("v-if",!0)]),L("input",{type:"checkbox",class:"flex-none mr-3",checked:r.style.visible,onChange:a,"aria-label":w(n)("Show or hide {{ thematicName }}",{thematicName:r.style.label})},null,40,NR)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/medium-style-item.vue"]]),LR={class:"text-white border-2 p-[10px] m-[10px]"},PR={class:"text-center mb-3"},AR=de(he({__name:"medium-style-selector",props:{layer:{type:Object,required:!0}},setup(t){const e=["basemap_2015_global"],n=Rn(),{bgStyle:r}=Ue(n),{t:i}=Xe(),s=t,a=me(()=>e.includes(s.layer.name)),o=me(()=>r.value||SR(s.layer));function l(u,f){r.value=o.value.map((c,h)=>h===u?f:c),n.disableExpertStyle()}return(u,f)=>(P(),V("div",LR,[L("h5",PR,oe(a.value?w(i)("Select a colour for every theme"):w(i)("Activate categories")),1),(P(!0),V(Ge,null,On(o.value,(c,h)=>(P(),Fe(CR,{key:c.label,style:ni(c),onChangeStyle:d=>l(h,d),colorEditable:a.value},null,8,["style","onChangeStyle","colorEditable"]))),128))]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/medium-style-selector.vue"]]);var j_={exports:{}};(function(t,e){(function(n,r){r()})(Er,function(){function n(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,f,c){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,f,c)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Er=="object"&&Er.global===Er?Er:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,f,c){var h=a.URL||a.webkitURL,d=document.createElement("a");f=f||u.name||"download",d.download=f,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?s(d):i(d.href)?r(u,f,c):s(d,d.target="_blank")):(d.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,c){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,c),f);else if(i(u))r(u,f,c);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){s(h)})}}:function(u,f,c,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return r(u,f,c);var d=u.type==="application/octet-stream",m=/constructor/i.test(a.HTMLElement)||a.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&m||o)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var b=g.result;b=p?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=b:location=b,h=null},g.readAsDataURL(u)}else{var y=a.URL||a.webkitURL,v=y.createObjectURL(u);h?h.location=v:location.href=v,h=null,setTimeout(function(){y.revokeObjectURL(v)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(j_);const kR={class:"text-white border-2 p-[10px] m-[10px] flex flex-col"},DR={class:"text-center mb-3"},IR={class:"flex flex-row justify-center"},RR={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium text-white"},$R={class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] text-sm"},FR={class:"'block z-[5] w-full h-full cursor-pointer after:absolute after:pt-[15px] after:px-[15px] after:w-full after:text-center after:content-upload",for:"uploadMvtStyle"},VR={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium"},jR=["href"],GR=de(he({__name:"expert-style-selector",setup(t){const e=ht(),n=Rn(),r=Wr(),{appliedStyle:i}=Ue(n),{t:s}=Xe();function a(){const u=i.value,f=JSON.stringify(u),c=new Blob([f],{type:"text/plain;charset=utf-8"}),h="styles.json";j_.exports.saveAs(c,h)}function o(u){const f=u.target.files;if((f==null?void 0:f.length)!==1)return;const c=f[0];new File([],"./text.txt").text().then(d=>console.log(d)),c.type==="application/json"&&(c.text().then(d=>{n.enableExpertStyle(),i.value=JSON.parse(d)}),u.target.value="")}function l(){return n.styleSerial===null?r.getDefaultMapBoxStyleUrl(r.getVectorId(e.bgLayer)):`${aa.mvtStylesGetUrl}?id=${n.styleSerial}`}return(u,f)=>(P(),V("div",kR,[L("h5",DR,oe(w(s)("Lancer \xE9diteur externe ou importer json")),1),L("div",IR,[L("a",{href:"#",class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] z-5 text-sm after:absolute after:left-[20px] after:top-[10px] after:z-4 after:w-[3.6em] after:text-center after:content-download",onClick:f[0]||(f[0]=c=>a())},[L("span",RR,oe(w(s)("Download style")),1)]),L("div",$R,[L("label",FR,[L("span",VR,oe(w(s)("Upload style")),1)]),L("input",{class:"invisible",type:"file",name:"uploadMvtStyle",id:"uploadMvtStyle",onChange:o},null,32)])]),L("a",{href:`https://maputnik.github.io/editor/?style=${l()}`,target:"_blank",class:"lux-btn text-center"},oe(w(s)("Open Maputnik editor")),9,jR)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/expert-style-selector.vue"]]),UR={key:0},BR={key:0,class:"mb-px"},WR={key:1,class:"mb-px"},qR={key:2,class:"mb-px"},G_=de(he({__name:"style-selector",setup(t){const{t:e}=Xe(),n=ht(),r=vt(),i=Rn(),{bgStyle:s,isExpertStyleActive:a}=Ue(i),{bgLayer:o}=Ue(n),l=Wr(),u=me(()=>l.getStyleCapabilitiesFromLayer(o.value));tt(o,h=>{l.isLayerStyleEditable(h)||r.closeStyleEditorPanel()});let f=Ee(void 0);function c(){i.setStyle(null)}return(h,d)=>u.value.isEditable?(P(),V("div",UR,[u.value.hasSimpleStyle?(P(),V("div",BR,[te($u,{title:w(e)("Simple"),expanded:w(f)==="simpleStyle",onTogglePanel:d[0]||(d[0]=()=>Ye(f)?f.value=w(f)==="simpleStyle"?void 0:"simpleStyle":f=w(f)==="simpleStyle"?void 0:"simpleStyle")},{default:li(()=>[te(ER)]),_:1},8,["title","expanded"])])):F("v-if",!0),u.value.hasAdvancedStyle?(P(),V("div",WR,[te($u,{title:w(e)("Medium"),expanded:w(f)==="mediumStyle",onTogglePanel:d[1]||(d[1]=()=>Ye(f)?f.value=w(f)==="mediumStyle"?void 0:"mediumStyle":f=w(f)==="mediumStyle"?void 0:"mediumStyle")},{default:li(()=>[w(o)?(P(),Fe(AR,{key:0,layer:w(o)},null,8,["layer"])):F("v-if",!0)]),_:1},8,["title","expanded"])])):F("v-if",!0),u.value.hasExpertStyle?(P(),V("div",qR,[te($u,{title:w(e)("Expert (style.json)"),expanded:w(f)==="advancedStyle",onTogglePanel:d[2]||(d[2]=()=>Ye(f)?f.value=w(f)==="advancedStyle"?void 0:"advancedStyle":f=w(f)==="advancedStyle"?void 0:"advancedStyle")},{default:li(()=>[w(o)?(P(),Fe(GR,{key:0,layer:w(o)},null,8,["layer"])):F("v-if",!0)]),_:1},8,["title","expanded"])])):F("v-if",!0),w(s)||w(a)?(P(),V("button",{key:3,onClick:c,class:"lux-btn my-2"},oe(w(e)("Reset style",{ns:"client"})),1)):F("v-if",!0)])):F("v-if",!0)}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/components/style-selector/style-selector.vue"]]);function ud(t){return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function U_(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":ud(XMLHttpRequest))==="object"}function HR(t){return!!t&&typeof t.then=="function"}function zR(t){return HR(t)?t:Promise.resolve(t)}function YR(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var oc={exports:{}},lc={exports:{}},B_;function XR(){return B_||(B_=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Er<"u"&&Er,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(a){var o=typeof s<"u"&&s||typeof self<"u"&&self||typeof o<"u"&&o,l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(T){return T&&DataView.prototype.isPrototypeOf(T)}if(l.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(T){return T&&f.indexOf(Object.prototype.toString.call(T))>-1};function h(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(T)||T==="")throw new TypeError('Invalid character in header field name: "'+T+'"');return T.toLowerCase()}function d(T){return typeof T!="string"&&(T=String(T)),T}function m(T){var $={next:function(){var z=T.shift();return{done:z===void 0,value:z}}};return l.iterable&&($[Symbol.iterator]=function(){return $}),$}function p(T){this.map={},T instanceof p?T.forEach(function($,z){this.append(z,$)},this):Array.isArray(T)?T.forEach(function($){this.append($[0],$[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function($){this.append($,T[$])},this)}p.prototype.append=function(T,$){T=h(T),$=d($);var z=this.map[T];this.map[T]=z?z+", "+$:$},p.prototype.delete=function(T){delete this.map[h(T)]},p.prototype.get=function(T){return T=h(T),this.has(T)?this.map[T]:null},p.prototype.has=function(T){return this.map.hasOwnProperty(h(T))},p.prototype.set=function(T,$){this.map[h(T)]=d($)},p.prototype.forEach=function(T,$){for(var z in this.map)this.map.hasOwnProperty(z)&&T.call($,this.map[z],z,this)},p.prototype.keys=function(){var T=[];return this.forEach(function($,z){T.push(z)}),m(T)},p.prototype.values=function(){var T=[];return this.forEach(function($){T.push($)}),m(T)},p.prototype.entries=function(){var T=[];return this.forEach(function($,z){T.push([z,$])}),m(T)},l.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function g(T){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}function y(T){return new Promise(function($,z){T.onload=function(){$(T.result)},T.onerror=function(){z(T.error)}})}function v(T){var $=new FileReader,z=y($);return $.readAsArrayBuffer(T),z}function b(T){var $=new FileReader,z=y($);return $.readAsText(T),z}function E(T){for(var $=new Uint8Array(T),z=new Array($.length),K=0;K<$.length;K++)z[K]=String.fromCharCode($[K]);return z.join("")}function O(T){if(T.slice)return T.slice(0);var $=new Uint8Array(T.byteLength);return $.set(new Uint8Array(T)),$.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(T){this.bodyUsed=this.bodyUsed,this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:l.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:l.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():l.arrayBuffer&&l.blob&&u(T)?(this._bodyArrayBuffer=O(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||c(T))?this._bodyArrayBuffer=O(T):this._bodyText=T=Object.prototype.toString.call(T):this._bodyText="",this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var T=g(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var T=g(this);return T||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var T=g(this);if(T)return T;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(T){var $=T.toUpperCase();return M.indexOf($)>-1?$:T}function k(T,$){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$=$||{};var z=$.body;if(T instanceof k){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,$.headers||(this.headers=new p(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!z&&T._bodyInit!=null&&(z=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new p($.headers)),this.method=A($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(z),(this.method==="GET"||this.method==="HEAD")&&($.cache==="no-store"||$.cache==="no-cache")){var K=/([?&])_=[^&]*/;if(K.test(this.url))this.url=this.url.replace(K,"$1_="+new Date().getTime());else{var Pe=/\?/;this.url+=(Pe.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function C(T){var $=new FormData;return T.trim().split("&").forEach(function(z){if(z){var K=z.split("="),Pe=K.shift().replace(/\+/g," "),ke=K.join("=").replace(/\+/g," ");$.append(decodeURIComponent(Pe),decodeURIComponent(ke))}}),$}function R(T){var $=new p,z=T.replace(/\r?\n[\t ]+/g," ");return z.split("\r").map(function(K){return K.indexOf(`
`)===0?K.substr(1,K.length):K}).forEach(function(K){var Pe=K.split(":"),ke=Pe.shift().trim();if(ke){var _t=Pe.join(":").trim();$.append(ke,_t)}}),$}N.call(k.prototype);function I(T,$){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new p($.headers),this.url=$.url||"",this._initBody(T)}N.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},I.error=function(){var T=new I(null,{status:0,statusText:""});return T.type="error",T};var ee=[301,302,303,307,308];I.redirect=function(T,$){if(ee.indexOf($)===-1)throw new RangeError("Invalid status code");return new I(null,{status:$,headers:{location:T}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function($,z){this.message=$,this.name=z;var K=Error($);this.stack=K.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function be(T,$){return new Promise(function(z,K){var Pe=new k(T,$);if(Pe.signal&&Pe.signal.aborted)return K(new a.DOMException("Aborted","AbortError"));var ke=new XMLHttpRequest;function _t(){ke.abort()}ke.onload=function(){var Ne={status:ke.status,statusText:ke.statusText,headers:R(ke.getAllResponseHeaders()||"")};Ne.url="responseURL"in ke?ke.responseURL:Ne.headers.get("X-Request-URL");var Rt="response"in ke?ke.response:ke.responseText;setTimeout(function(){z(new I(Rt,Ne))},0)},ke.onerror=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},ke.ontimeout=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},ke.onabort=function(){setTimeout(function(){K(new a.DOMException("Aborted","AbortError"))},0)};function Xt(Ne){try{return Ne===""&&o.location.href?o.location.href:Ne}catch{return Ne}}ke.open(Pe.method,Xt(Pe.url),!0),Pe.credentials==="include"?ke.withCredentials=!0:Pe.credentials==="omit"&&(ke.withCredentials=!1),"responseType"in ke&&(l.blob?ke.responseType="blob":l.arrayBuffer&&Pe.headers.get("Content-Type")&&Pe.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(ke.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof p)?Object.getOwnPropertyNames($.headers).forEach(function(Ne){ke.setRequestHeader(Ne,d($.headers[Ne]))}):Pe.headers.forEach(function(Ne,Rt){ke.setRequestHeader(Rt,Ne)}),Pe.signal&&(Pe.signal.addEventListener("abort",_t),ke.onreadystatechange=function(){ke.readyState===4&&Pe.signal.removeEventListener("abort",_t)}),ke.send(typeof Pe._bodyInit>"u"?null:Pe._bodyInit)})}return be.polyfill=!0,o.fetch||(o.fetch=be,o.Headers=p,o.Request=k,o.Response=I),a.Headers=p,a.Request=k,a.Response=I,a.fetch=be,a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(lc,lc.exports)),lc.exports}(function(t,e){var n;if(typeof fetch=="function"&&(typeof Er<"u"&&Er.fetch?n=Er.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof YR<"u"&&typeof window>"u"){var r=n||XR();r.default&&(r=r.default),e.default=r,t.exports=e.default}})(oc,oc.exports);const W_=oc.exports,q_=Ib({__proto__:null,default:W_},[oc.exports]);function H_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(n),!0).forEach(function(r){KR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KR(t,e,n){return e=ZR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZR(t){var e=JR(t,"string");return ws(e)=="symbol"?e:String(e)}function JR(t,e){if(ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ws(t){return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}var Kr;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Kr=global.fetch:typeof window<"u"&&window.fetch?Kr=window.fetch:Kr=fetch);var Go;U_()&&(typeof global<"u"&&global.XMLHttpRequest?Go=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Go=window.XMLHttpRequest));var uc;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?uc=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(uc=window.ActiveXObject)),!Kr&&q_&&!Go&&!uc&&(Kr=W_||q_),typeof Kr!="function"&&(Kr=void 0);var cd=function(e,n){if(n&&ws(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},Y_=function(e,n,r,i){var s=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(u){r(null,{status:l.status,data:u})}).catch(r)};if(i){var a=i(e,n);if(a instanceof Promise){a.then(s).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(s).catch(r):Kr(e,n).then(s).catch(r)},X_=!1,QR=function(e,n,r,i){e.queryStringParams&&(n=cd(n,e.queryStringParams));var s=z_({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(s["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,o=z_({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:s},X_?{}:a),l=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{Y_(n,o,i,l)}catch(u){if(!a||Object.keys(a).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(a).forEach(function(f){delete o[f]}),Y_(n,o,i,l),X_=!0}catch(f){i(f)}}},e4=function(e,n,r,i){r&&ws(r)==="object"&&(r=cd("",r).slice(1)),e.queryStringParams&&(n=cd(n,e.queryStringParams));try{var s;Go?s=new Go:s=new uc("MSXML2.XMLHTTP.3.0"),s.open(r?"POST":"GET",n,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var o in a)s.setRequestHeader(o,a[o]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(l){console&&console.log(l)}},t4=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Kr&&n.indexOf("file:")!==0)return QR(e,n,r,i);if(U_()||typeof ActiveXObject=="function")return e4(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function Uo(t){return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(t)}function K_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(r){J_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q_(r.key),r)}}function r4(t,e,n){return e&&Z_(t.prototype,e),n&&Z_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function J_(t,e,n){return e=Q_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q_(t){var e=i4(t,"string");return Uo(e)=="symbol"?e:String(e)}function i4(t,e){if(Uo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s4=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return J_({},r,i||"")},parseLoadPayload:function(n,r){},request:t4,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},hd=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n4(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return r4(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=fd(fd(fd({},s4()),this.options||{}),i),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,a){var o=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=zR(l),l.then(function(u){if(!u)return a(null,{});var f=o.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});o.loadUrl(f,a,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var a=this,o=typeof i=="string"?[i]:i,l=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(o,l);this.options.request(this.options,n,u,function(f,c){if(c&&(c.status>=500&&c.status<600||!c.status))return r("failed loading "+n+"; status code: "+c.status,!0);if(c&&c.status>=400&&c.status<500)return r("failed loading "+n+"; status code: "+c.status,!1);if(!c&&f&&f.message&&f.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+f.message,!0);if(f)return r(f,!1);var h,d;try{typeof c.data=="string"?h=a.options.parse(c.data,i,s):h=c.data}catch{d="failed parsing "+n+" to json"}if(d)return r(d,!1);r(null,h)})}},{key:"create",value:function(n,r,i,s,a){var o=this;if(!!this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,s),u=0,f=[],c=[];n.forEach(function(h){var d=o.options.addPath;typeof o.options.addPath=="function"&&(d=o.options.addPath(h,r));var m=o.services.interpolator.interpolate(d,{lng:h,ns:r});o.options.request(o.options,m,l,function(p,g){u+=1,f.push(p),c.push(g),u===n.length&&typeof a=="function"&&a(f,c)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,a=r.logger,o=i.language;if(!(o&&o.toLowerCase()==="cimode")){var l=[],u=function(c){var h=s.toResolveHierarchy(c);h.forEach(function(d){l.indexOf(d)<0&&l.push(d)})};u(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return u(f)}),l.forEach(function(f){n.allOptions.ns.forEach(function(c){i.read(f,c,"read",null,null,function(h,d){h&&a.warn("loading namespace ".concat(c," for language ").concat(f," failed"),h),!h&&d&&a.log("loaded namespace ".concat(c," for language ").concat(f),d),i.loaded("".concat(f,"|").concat(c),h,d)})})})}}}]),t}();hd.type="backend";function eb(t,e,n){n(t,e)&&t instanceof zb.default&&t.getLayers().forEach(i=>{eb(i,[...e,t],n)})}const a4={class:"h-screen flex flex-col overflow-hidden"},o4={class:"flex grow"},l4={key:0,class:"w-full sm:w-80 bg-secondary z-10"},u4={key:1,class:"w-80 bg-primary"},c4={class:"map-wrapper grow bg-blue-100 relative"},f4={class:"absolute right-1 top-16"},tb=de(he({__name:"App",setup(t){const e=vt(),n=Wr();V_.bootstrap(),R_.bootstrap(),$_.bootstrap(),F_.bootstrapLayersOpen(),Eh.bootstrapStyle(),I_.bootstrap(),n.initBackgroundsConfigs();const{layersOpen:r,styleEditorOpen:i}=Ue(e);tt(r,()=>setTimeout(()=>{s()},50)),yn(()=>window.addEventListener("resize",s)),ci(()=>window.removeEventListener("resize",s));function s(){const a=mr().getOlMap();a.updateSize(),eb(a.getLayerGroup(),[],o=>(o instanceof Sh&&o.getMapLibreMap().resize(),!0))}return(a,o)=>(P(),V("div",a4,[te(e_),L("main",o4,[F(" Layer panel "),w(r)?(P(),V("div",l4,[te(P_)])):F("v-if",!0),F(" Style editor "),w(i)?(P(),V("div",u4,[te(G_)])):F("v-if",!0),F(" Map container and slider comparator "),L("div",c4,[te(C0,{v4_standalone:!0}),te(k_,{class:"absolute top-0"}),te(X0),te(J0)]),F(" Background selector "),L("div",f4,[te(P0)])]),te(n_,{class:"fixed bottom-5 sm:static z-20"}),te(ny)]))}}),[["__file","/home/mkirmse/devel/gmf/luxembourg-geoportail_2024/src/App.vue"]]);XN(),st.use(hd),st.init({lng:"fr",debug:!1,defaultNS:"client",supportedLngs:["de","en","fr","lb"],ns:["client","legends","server","tooltips"],fallbackLng:"fr",backend:{loadPath:"/static-ngeo/web-components/assets/locales/{{ns}}.{{lng}}.json"},nsSeparator:"|"});const cc=rw(tb);cc.use(lg()),cc.use(Cy,{i18next:st}),cc.use(Yp);const h4=(t={},e=null)=>ty({setup:()=>{const n=Ia();Object.assign(n.appContext,e._context),Object.assign(n.provides,e._context.provides)},render:()=>vp(t)},{shadowRoot:!1});Q.AlertNotifications=ny,Q.App=tb,Q.BackgroundSelector=P0,Q.DropdownList=Gf,Q.FooterBar=n_,Q.HeaderBar=e_,Q.I18NextVue=Cy,Q.LayerMetadata=J0,Q.LayerPanel=P_,Q.MapContainer=C0,Q.MapLibreLayer=Sh,Q.RemoteLayers=X0,Q.SliderComparator=k_,Q.StyleSelector=G_,Q.ToolbarDraw=t_,Q.VueDOMPurifyHTML=Yp,Q.app=cc,Q.backend=hd,Q.createElementInstance=h4,Q.createPinia=lg,Q.defineCustomElement=ty,Q.i18next=st,Q.proxyUrlHelper=ps,Q.statePersistorBgLayerService=I_,Q.statePersistorLayersOpenService=F_,Q.statePersistorLayersService=R_,Q.statePersistorMyMapService=V_,Q.statePersistorStyleService=Eh,Q.statePersistorThemeService=$_,Q.storeToRefs=Ue,Q.styleUrlHelper=aa,Q.themeSelectorService=Q0,Q.useAppStore=vt,Q.useBackgroundLayer=xh,Q.useLayers=In,Q.useMap=mr,Q.useMapStore=ht,Q.useMvtStyles=Wr,Q.useOpenLayers=wh,Q.useStyleStore=Rn,Q.useThemeStore=Ht,Q.useThemes=Ci,Q.watch=tt,Object.defineProperties(Q,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
