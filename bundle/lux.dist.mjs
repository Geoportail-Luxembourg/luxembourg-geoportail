var Z4 = Object.defineProperty;
var H4 = (a, t, e) => t in a ? Z4(a, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : a[t] = e;
var Pi = (a, t, e) => (H4(a, typeof t != "symbol" ? t + "" : t, e), e);
import { effectScope as l2, ref as cn, markRaw as Vs, toRaw as Zc, isRef as Gl, isReactive as Gh, toRef as Vm, getCurrentInstance as Wg, inject as X4, watch as Ki, unref as Oe, reactive as K4, nextTick as H0, computed as ki, getCurrentScope as Y4, onScopeDispose as Q4, toRefs as X0, defineComponent as Ka, shallowRef as Fn, onMounted as Uh, onUnmounted as J4, openBlock as ut, createElementBlock as bt, createElementVNode as Ge, normalizeClass as Ua, toDisplayString as Ft, Fragment as Or, renderList as Qs, createCommentVNode as ua, watchEffect as Ho, normalizeStyle as eS, createVNode as ta, resolveComponent as tS, createBlock as Xr, createTextVNode as K0, resolveDirective as aS, withDirectives as Y0, createApp as iS, h as nS } from "vue";
import { defineComponent as rS, nextTick as sS, createVNode as oS } from "@vue/runtime-core";
import { extend as Q0, isArray as J0, camelize as pf, toNumber as e1, hyphenate as cc } from "@vue/shared";
import { render as t1 } from "@vue/runtime-dom";
function lS(a, t) {
  for (var e = 0; e < t.length; e++) {
    const i = t[e];
    if (typeof i != "string" && !Array.isArray(i)) {
      for (const n in i)
        if (n !== "default" && !(n in a)) {
          const u = Object.getOwnPropertyDescriptor(i, n);
          u && Object.defineProperty(a, n, u.get ? u : {
            enumerable: !0,
            get: () => i[n]
          });
        }
    }
  }
  return Object.freeze(Object.defineProperty(a, Symbol.toStringTag, { value: "Module" }));
}
/*! @license DOMPurify 2.4.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.5/LICENSE */
function Io(a) {
  return Io = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t) {
    return typeof t;
  } : function(t) {
    return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
  }, Io(a);
}
function tg(a, t) {
  return tg = Object.setPrototypeOf || function(i, n) {
    return i.__proto__ = n, i;
  }, tg(a, t);
}
function uS() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return !1;
  if (typeof Proxy == "function")
    return !0;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), !0;
  } catch {
    return !1;
  }
}
function $m(a, t, e) {
  return uS() ? $m = Reflect.construct : $m = function(n, u, _) {
    var o = [null];
    o.push.apply(o, u);
    var y = Function.bind.apply(n, o), b = new y();
    return _ && tg(b, _.prototype), b;
  }, $m.apply(null, arguments);
}
function $r(a) {
  return dS(a) || cS(a) || _S(a) || mS();
}
function dS(a) {
  if (Array.isArray(a))
    return ag(a);
}
function cS(a) {
  if (typeof Symbol < "u" && a[Symbol.iterator] != null || a["@@iterator"] != null)
    return Array.from(a);
}
function _S(a, t) {
  if (a) {
    if (typeof a == "string")
      return ag(a, t);
    var e = Object.prototype.toString.call(a).slice(8, -1);
    if (e === "Object" && a.constructor && (e = a.constructor.name), e === "Map" || e === "Set")
      return Array.from(a);
    if (e === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))
      return ag(a, t);
  }
}
function ag(a, t) {
  (t == null || t > a.length) && (t = a.length);
  for (var e = 0, i = new Array(t); e < t; e++)
    i[e] = a[e];
  return i;
}
function mS() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
var hS = Object.hasOwnProperty, a1 = Object.setPrototypeOf, pS = Object.isFrozen, fS = Object.getPrototypeOf, gS = Object.getOwnPropertyDescriptor, Gn = Object.freeze, Jr = Object.seal, yS = Object.create, u2 = typeof Reflect < "u" && Reflect, oh = u2.apply, ig = u2.construct;
oh || (oh = function(t, e, i) {
  return t.apply(e, i);
});
Gn || (Gn = function(t) {
  return t;
});
Jr || (Jr = function(t) {
  return t;
});
ig || (ig = function(t, e) {
  return $m(t, $r(e));
});
var vS = Pr(Array.prototype.forEach), i1 = Pr(Array.prototype.pop), _c = Pr(Array.prototype.push), Zm = Pr(String.prototype.toLowerCase), ff = Pr(String.prototype.toString), bS = Pr(String.prototype.match), Gr = Pr(String.prototype.replace), xS = Pr(String.prototype.indexOf), wS = Pr(String.prototype.trim), Wn = Pr(RegExp.prototype.test), gf = SS(TypeError);
function Pr(a) {
  return function(t) {
    for (var e = arguments.length, i = new Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++)
      i[n - 1] = arguments[n];
    return oh(a, t, i);
  };
}
function SS(a) {
  return function() {
    for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++)
      e[i] = arguments[i];
    return ig(a, e);
  };
}
function Yt(a, t, e) {
  e = e || Zm, a1 && a1(a, null);
  for (var i = t.length; i--; ) {
    var n = t[i];
    if (typeof n == "string") {
      var u = e(n);
      u !== n && (pS(t) || (t[i] = u), n = u);
    }
    a[n] = !0;
  }
  return a;
}
function Cl(a) {
  var t = yS(null), e;
  for (e in a)
    oh(hS, a, [e]) === !0 && (t[e] = a[e]);
  return t;
}
function bm(a, t) {
  for (; a !== null; ) {
    var e = gS(a, t);
    if (e) {
      if (e.get)
        return Pr(e.get);
      if (typeof e.value == "function")
        return Pr(e.value);
    }
    a = fS(a);
  }
  function i(n) {
    return console.warn("fallback value for", n), null;
  }
  return i;
}
var n1 = Gn(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]), yf = Gn(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"]), vf = Gn(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]), TS = Gn(["animate", "color-profile", "cursor", "discard", "fedropshadow", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"]), bf = Gn(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover"]), MS = Gn(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"]), r1 = Gn(["#text"]), s1 = Gn(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "xmlns", "slot"]), xf = Gn(["accent-height", "accumulate", "additive", "alignment-baseline", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]), o1 = Gn(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]), xm = Gn(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]), ES = Jr(/\{\{[\w\W]*|[\w\W]*\}\}/gm), LS = Jr(/<%[\w\W]*|[\w\W]*%>/gm), CS = Jr(/\${[\w\W]*}/gm), AS = Jr(/^data-[\-\w.\u00B7-\uFFFF]/), IS = Jr(/^aria-[\-\w]+$/), PS = Jr(
  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i
  // eslint-disable-line no-useless-escape
), OS = Jr(/^(?:\w+script|data):/i), RS = Jr(
  /[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g
  // eslint-disable-line no-control-regex
), kS = Jr(/^html$/i), DS = function() {
  return typeof window > "u" ? null : window;
}, WS = function(t, e) {
  if (Io(t) !== "object" || typeof t.createPolicy != "function")
    return null;
  var i = null, n = "data-tt-policy-suffix";
  e.currentScript && e.currentScript.hasAttribute(n) && (i = e.currentScript.getAttribute(n));
  var u = "dompurify" + (i ? "#" + i : "");
  try {
    return t.createPolicy(u, {
      createHTML: function(o) {
        return o;
      },
      createScriptURL: function(o) {
        return o;
      }
    });
  } catch {
    return console.warn("TrustedTypes policy " + u + " could not be created."), null;
  }
};
function d2() {
  var a = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DS(), t = function(X) {
    return d2(X);
  };
  if (t.version = "2.4.5", t.removed = [], !a || !a.document || a.document.nodeType !== 9)
    return t.isSupported = !1, t;
  var e = a.document, i = a.document, n = a.DocumentFragment, u = a.HTMLTemplateElement, _ = a.Node, o = a.Element, y = a.NodeFilter, b = a.NamedNodeMap, S = b === void 0 ? a.NamedNodeMap || a.MozNamedAttrMap : b, T = a.HTMLFormElement, L = a.DOMParser, R = a.trustedTypes, D = o.prototype, j = bm(D, "cloneNode"), Q = bm(D, "nextSibling"), ie = bm(D, "childNodes"), J = bm(D, "parentNode");
  if (typeof u == "function") {
    var _e = i.createElement("template");
    _e.content && _e.content.ownerDocument && (i = _e.content.ownerDocument);
  }
  var ce = WS(R, e), we = ce ? ce.createHTML("") : "", Be = i, Ee = Be.implementation, Fe = Be.createNodeIterator, We = Be.createDocumentFragment, ke = Be.getElementsByTagName, Ze = e.importNode, ft = {};
  try {
    ft = Cl(i).documentMode ? i.documentMode : {};
  } catch {
  }
  var St = {};
  t.isSupported = typeof J == "function" && Ee && typeof Ee.createHTMLDocument < "u" && ft !== 9;
  var ye = ES, Re = LS, Me = CS, nt = AS, yt = IS, Mt = OS, aa = RS, ia = PS, $t = null, bi = Yt({}, [].concat($r(n1), $r(yf), $r(vf), $r(bf), $r(r1))), Gt = null, kt = Yt({}, [].concat($r(s1), $r(xf), $r(o1), $r(xm))), Pt = Object.seal(Object.create(null, {
    tagNameCheck: {
      writable: !0,
      configurable: !1,
      enumerable: !0,
      value: null
    },
    attributeNameCheck: {
      writable: !0,
      configurable: !1,
      enumerable: !0,
      value: null
    },
    allowCustomizedBuiltInElements: {
      writable: !0,
      configurable: !1,
      enumerable: !0,
      value: !1
    }
  })), wa = null, _a = null, ja = !0, Ra = !0, _i = !1, ka = !0, Ia = !1, xi = !1, Ji = !1, Mn = !1, Fi = !1, _n = !1, zt = !1, wi = !0, En = !1, Ln = "user-content-", nr = !0, Si = !1, mi = {}, en = null, tn = Yt({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]), Ae = null, Ve = Yt({}, ["audio", "video", "img", "source", "image", "track"]), Wi = null, zi = Yt({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]), Dt = "http://www.w3.org/1998/Math/MathML", Qa = "http://www.w3.org/2000/svg", Da = "http://www.w3.org/1999/xhtml", na = Da, Un = !1, He = null, Wt = Yt({}, [Dt, Qa, Da], ff), Et, hi = ["application/xhtml+xml", "text/html"], yr = "text/html", ht, Gi = null, ri = i.createElement("form"), Rr = function(X) {
    return X instanceof RegExp || X instanceof Function;
  }, Va = function(X) {
    Gi && Gi === X || ((!X || Io(X) !== "object") && (X = {}), X = Cl(X), Et = // eslint-disable-next-line unicorn/prefer-includes
    hi.indexOf(X.PARSER_MEDIA_TYPE) === -1 ? Et = yr : Et = X.PARSER_MEDIA_TYPE, ht = Et === "application/xhtml+xml" ? ff : Zm, $t = "ALLOWED_TAGS" in X ? Yt({}, X.ALLOWED_TAGS, ht) : bi, Gt = "ALLOWED_ATTR" in X ? Yt({}, X.ALLOWED_ATTR, ht) : kt, He = "ALLOWED_NAMESPACES" in X ? Yt({}, X.ALLOWED_NAMESPACES, ff) : Wt, Wi = "ADD_URI_SAFE_ATTR" in X ? Yt(
      Cl(zi),
      // eslint-disable-line indent
      X.ADD_URI_SAFE_ATTR,
      // eslint-disable-line indent
      ht
      // eslint-disable-line indent
    ) : zi, Ae = "ADD_DATA_URI_TAGS" in X ? Yt(
      Cl(Ve),
      // eslint-disable-line indent
      X.ADD_DATA_URI_TAGS,
      // eslint-disable-line indent
      ht
      // eslint-disable-line indent
    ) : Ve, en = "FORBID_CONTENTS" in X ? Yt({}, X.FORBID_CONTENTS, ht) : tn, wa = "FORBID_TAGS" in X ? Yt({}, X.FORBID_TAGS, ht) : {}, _a = "FORBID_ATTR" in X ? Yt({}, X.FORBID_ATTR, ht) : {}, mi = "USE_PROFILES" in X ? X.USE_PROFILES : !1, ja = X.ALLOW_ARIA_ATTR !== !1, Ra = X.ALLOW_DATA_ATTR !== !1, _i = X.ALLOW_UNKNOWN_PROTOCOLS || !1, ka = X.ALLOW_SELF_CLOSE_IN_ATTR !== !1, Ia = X.SAFE_FOR_TEMPLATES || !1, xi = X.WHOLE_DOCUMENT || !1, Fi = X.RETURN_DOM || !1, _n = X.RETURN_DOM_FRAGMENT || !1, zt = X.RETURN_TRUSTED_TYPE || !1, Mn = X.FORCE_BODY || !1, wi = X.SANITIZE_DOM !== !1, En = X.SANITIZE_NAMED_PROPS || !1, nr = X.KEEP_CONTENT !== !1, Si = X.IN_PLACE || !1, ia = X.ALLOWED_URI_REGEXP || ia, na = X.NAMESPACE || Da, Pt = X.CUSTOM_ELEMENT_HANDLING || {}, X.CUSTOM_ELEMENT_HANDLING && Rr(X.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (Pt.tagNameCheck = X.CUSTOM_ELEMENT_HANDLING.tagNameCheck), X.CUSTOM_ELEMENT_HANDLING && Rr(X.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (Pt.attributeNameCheck = X.CUSTOM_ELEMENT_HANDLING.attributeNameCheck), X.CUSTOM_ELEMENT_HANDLING && typeof X.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements == "boolean" && (Pt.allowCustomizedBuiltInElements = X.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements), Ia && (Ra = !1), _n && (Fi = !0), mi && ($t = Yt({}, $r(r1)), Gt = [], mi.html === !0 && (Yt($t, n1), Yt(Gt, s1)), mi.svg === !0 && (Yt($t, yf), Yt(Gt, xf), Yt(Gt, xm)), mi.svgFilters === !0 && (Yt($t, vf), Yt(Gt, xf), Yt(Gt, xm)), mi.mathMl === !0 && (Yt($t, bf), Yt(Gt, o1), Yt(Gt, xm))), X.ADD_TAGS && ($t === bi && ($t = Cl($t)), Yt($t, X.ADD_TAGS, ht)), X.ADD_ATTR && (Gt === kt && (Gt = Cl(Gt)), Yt(Gt, X.ADD_ATTR, ht)), X.ADD_URI_SAFE_ATTR && Yt(Wi, X.ADD_URI_SAFE_ATTR, ht), X.FORBID_CONTENTS && (en === tn && (en = Cl(en)), Yt(en, X.FORBID_CONTENTS, ht)), nr && ($t["#text"] = !0), xi && Yt($t, ["html", "head", "body"]), $t.table && (Yt($t, ["tbody"]), delete wa.tbody), Gn && Gn(X), Gi = X);
  }, Ti = Yt({}, ["mi", "mo", "mn", "ms", "mtext"]), ra = Yt({}, ["foreignobject", "desc", "title", "annotation-xml"]), es = Yt({}, ["title", "style", "font", "a", "script"]), an = Yt({}, yf);
  Yt(an, vf), Yt(an, TS);
  var rr = Yt({}, bf);
  Yt(rr, MS);
  var kr = function(X) {
    var oe = J(X);
    (!oe || !oe.tagName) && (oe = {
      namespaceURI: na,
      tagName: "template"
    });
    var Le = Zm(X.tagName), Ue = Zm(oe.tagName);
    return He[X.namespaceURI] ? X.namespaceURI === Qa ? oe.namespaceURI === Da ? Le === "svg" : oe.namespaceURI === Dt ? Le === "svg" && (Ue === "annotation-xml" || Ti[Ue]) : !!an[Le] : X.namespaceURI === Dt ? oe.namespaceURI === Da ? Le === "math" : oe.namespaceURI === Qa ? Le === "math" && ra[Ue] : !!rr[Le] : X.namespaceURI === Da ? oe.namespaceURI === Qa && !ra[Ue] || oe.namespaceURI === Dt && !Ti[Ue] ? !1 : !rr[Le] && (es[Le] || !an[Le]) : !!(Et === "application/xhtml+xml" && He[X.namespaceURI]) : !1;
  }, Ui = function(X) {
    _c(t.removed, {
      element: X
    });
    try {
      X.parentNode.removeChild(X);
    } catch {
      try {
        X.outerHTML = we;
      } catch {
        X.remove();
      }
    }
  }, sr = function(X, oe) {
    try {
      _c(t.removed, {
        attribute: oe.getAttributeNode(X),
        from: oe
      });
    } catch {
      _c(t.removed, {
        attribute: null,
        from: oe
      });
    }
    if (oe.removeAttribute(X), X === "is" && !Gt[X])
      if (Fi || _n)
        try {
          Ui(oe);
        } catch {
        }
      else
        try {
          oe.setAttribute(X, "");
        } catch {
        }
  }, H = function(X) {
    var oe, Le;
    if (Mn)
      X = "<remove></remove>" + X;
    else {
      var Ue = bS(X, /^[\r\n\t ]+/);
      Le = Ue && Ue[0];
    }
    Et === "application/xhtml+xml" && na === Da && (X = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + X + "</body></html>");
    var je = ce ? ce.createHTML(X) : X;
    if (na === Da)
      try {
        oe = new L().parseFromString(je, Et);
      } catch {
      }
    if (!oe || !oe.documentElement) {
      oe = Ee.createDocument(na, "template", null);
      try {
        oe.documentElement.innerHTML = Un ? we : je;
      } catch {
      }
    }
    var ot = oe.body || oe.documentElement;
    return X && Le && ot.insertBefore(i.createTextNode(Le), ot.childNodes[0] || null), na === Da ? ke.call(oe, xi ? "html" : "body")[0] : xi ? oe.documentElement : ot;
  }, k = function(X) {
    return Fe.call(
      X.ownerDocument || X,
      X,
      // eslint-disable-next-line no-bitwise
      y.SHOW_ELEMENT | y.SHOW_COMMENT | y.SHOW_TEXT,
      null,
      !1
    );
  }, N = function(X) {
    return X instanceof T && (typeof X.nodeName != "string" || typeof X.textContent != "string" || typeof X.removeChild != "function" || !(X.attributes instanceof S) || typeof X.removeAttribute != "function" || typeof X.setAttribute != "function" || typeof X.namespaceURI != "string" || typeof X.insertBefore != "function" || typeof X.hasChildNodes != "function");
  }, $ = function(X) {
    return Io(_) === "object" ? X instanceof _ : X && Io(X) === "object" && typeof X.nodeType == "number" && typeof X.nodeName == "string";
  }, Z = function(X, oe, Le) {
    St[X] && vS(St[X], function(Ue) {
      Ue.call(t, oe, Le, Gi);
    });
  }, re = function(X) {
    var oe;
    if (Z("beforeSanitizeElements", X, null), N(X) || Wn(/[\u0080-\uFFFF]/, X.nodeName))
      return Ui(X), !0;
    var Le = ht(X.nodeName);
    if (Z("uponSanitizeElement", X, {
      tagName: Le,
      allowedTags: $t
    }), X.hasChildNodes() && !$(X.firstElementChild) && (!$(X.content) || !$(X.content.firstElementChild)) && Wn(/<[/\w]/g, X.innerHTML) && Wn(/<[/\w]/g, X.textContent) || Le === "select" && Wn(/<template/i, X.innerHTML))
      return Ui(X), !0;
    if (!$t[Le] || wa[Le]) {
      if (!wa[Le] && le(Le) && (Pt.tagNameCheck instanceof RegExp && Wn(Pt.tagNameCheck, Le) || Pt.tagNameCheck instanceof Function && Pt.tagNameCheck(Le)))
        return !1;
      if (nr && !en[Le]) {
        var Ue = J(X) || X.parentNode, je = ie(X) || X.childNodes;
        if (je && Ue)
          for (var ot = je.length, ct = ot - 1; ct >= 0; --ct)
            Ue.insertBefore(j(je[ct], !0), Q(X));
      }
      return Ui(X), !0;
    }
    return X instanceof o && !kr(X) || (Le === "noscript" || Le === "noembed") && Wn(/<\/no(script|embed)/i, X.innerHTML) ? (Ui(X), !0) : (Ia && X.nodeType === 3 && (oe = X.textContent, oe = Gr(oe, ye, " "), oe = Gr(oe, Re, " "), oe = Gr(oe, Me, " "), X.textContent !== oe && (_c(t.removed, {
      element: X.cloneNode()
    }), X.textContent = oe)), Z("afterSanitizeElements", X, null), !1);
  }, de = function(X, oe, Le) {
    if (wi && (oe === "id" || oe === "name") && (Le in i || Le in ri))
      return !1;
    if (!(Ra && !_a[oe] && Wn(nt, oe))) {
      if (!(ja && Wn(yt, oe))) {
        if (!Gt[oe] || _a[oe]) {
          if (
            // First condition does a very basic check if a) it's basically a valid custom element tagname AND
            // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck
            // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck
            !(le(X) && (Pt.tagNameCheck instanceof RegExp && Wn(Pt.tagNameCheck, X) || Pt.tagNameCheck instanceof Function && Pt.tagNameCheck(X)) && (Pt.attributeNameCheck instanceof RegExp && Wn(Pt.attributeNameCheck, oe) || Pt.attributeNameCheck instanceof Function && Pt.attributeNameCheck(oe)) || // Alternative, second condition checks if it's an `is`-attribute, AND
            // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck
            oe === "is" && Pt.allowCustomizedBuiltInElements && (Pt.tagNameCheck instanceof RegExp && Wn(Pt.tagNameCheck, Le) || Pt.tagNameCheck instanceof Function && Pt.tagNameCheck(Le)))
          )
            return !1;
        } else if (!Wi[oe]) {
          if (!Wn(ia, Gr(Le, aa, ""))) {
            if (!((oe === "src" || oe === "xlink:href" || oe === "href") && X !== "script" && xS(Le, "data:") === 0 && Ae[X])) {
              if (!(_i && !Wn(Mt, Gr(Le, aa, "")))) {
                if (Le)
                  return !1;
              }
            }
          }
        }
      }
    }
    return !0;
  }, le = function(X) {
    return X.indexOf("-") > 0;
  }, se = function(X) {
    var oe, Le, Ue, je;
    Z("beforeSanitizeAttributes", X, null);
    var ot = X.attributes;
    if (ot) {
      var ct = {
        attrName: "",
        attrValue: "",
        keepAttr: !0,
        allowedAttributes: Gt
      };
      for (je = ot.length; je--; ) {
        oe = ot[je];
        var Ut = oe, mt = Ut.name, Ct = Ut.namespaceURI;
        if (Le = mt === "value" ? oe.value : wS(oe.value), Ue = ht(mt), ct.attrName = Ue, ct.attrValue = Le, ct.keepAttr = !0, ct.forceKeepAttr = void 0, Z("uponSanitizeAttribute", X, ct), Le = ct.attrValue, !ct.forceKeepAttr && (sr(mt, X), !!ct.keepAttr)) {
          if (!ka && Wn(/\/>/i, Le)) {
            sr(mt, X);
            continue;
          }
          Ia && (Le = Gr(Le, ye, " "), Le = Gr(Le, Re, " "), Le = Gr(Le, Me, " "));
          var Xt = ht(X.nodeName);
          if (de(Xt, Ue, Le)) {
            if (En && (Ue === "id" || Ue === "name") && (sr(mt, X), Le = Ln + Le), ce && Io(R) === "object" && typeof R.getAttributeType == "function" && !Ct)
              switch (R.getAttributeType(Xt, Ue)) {
                case "TrustedHTML":
                  Le = ce.createHTML(Le);
                  break;
                case "TrustedScriptURL":
                  Le = ce.createScriptURL(Le);
                  break;
              }
            try {
              Ct ? X.setAttributeNS(Ct, mt, Le) : X.setAttribute(mt, Le), i1(t.removed);
            } catch {
            }
          }
        }
      }
      Z("afterSanitizeAttributes", X, null);
    }
  }, me = function he(X) {
    var oe, Le = k(X);
    for (Z("beforeSanitizeShadowDOM", X, null); oe = Le.nextNode(); )
      Z("uponSanitizeShadowNode", oe, null), !re(oe) && (oe.content instanceof n && he(oe.content), se(oe));
    Z("afterSanitizeShadowDOM", X, null);
  };
  return t.sanitize = function(he) {
    var X = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, oe, Le, Ue, je, ot;
    if (Un = !he, Un && (he = "<!-->"), typeof he != "string" && !$(he)) {
      if (typeof he.toString != "function")
        throw gf("toString is not a function");
      if (he = he.toString(), typeof he != "string")
        throw gf("dirty is not a string, aborting");
    }
    if (!t.isSupported) {
      if (Io(a.toStaticHTML) === "object" || typeof a.toStaticHTML == "function") {
        if (typeof he == "string")
          return a.toStaticHTML(he);
        if ($(he))
          return a.toStaticHTML(he.outerHTML);
      }
      return he;
    }
    if (Ji || Va(X), t.removed = [], typeof he == "string" && (Si = !1), Si) {
      if (he.nodeName) {
        var ct = ht(he.nodeName);
        if (!$t[ct] || wa[ct])
          throw gf("root node is forbidden and cannot be sanitized in-place");
      }
    } else if (he instanceof _)
      oe = H("<!---->"), Le = oe.ownerDocument.importNode(he, !0), Le.nodeType === 1 && Le.nodeName === "BODY" || Le.nodeName === "HTML" ? oe = Le : oe.appendChild(Le);
    else {
      if (!Fi && !Ia && !xi && // eslint-disable-next-line unicorn/prefer-includes
      he.indexOf("<") === -1)
        return ce && zt ? ce.createHTML(he) : he;
      if (oe = H(he), !oe)
        return Fi ? null : zt ? we : "";
    }
    oe && Mn && Ui(oe.firstChild);
    for (var Ut = k(Si ? he : oe); Ue = Ut.nextNode(); )
      Ue.nodeType === 3 && Ue === je || re(Ue) || (Ue.content instanceof n && me(Ue.content), se(Ue), je = Ue);
    if (je = null, Si)
      return he;
    if (Fi) {
      if (_n)
        for (ot = We.call(oe.ownerDocument); oe.firstChild; )
          ot.appendChild(oe.firstChild);
      else
        ot = oe;
      return (Gt.shadowroot || Gt.shadowrootmod) && (ot = Ze.call(e, ot, !0)), ot;
    }
    var mt = xi ? oe.outerHTML : oe.innerHTML;
    return xi && $t["!doctype"] && oe.ownerDocument && oe.ownerDocument.doctype && oe.ownerDocument.doctype.name && Wn(kS, oe.ownerDocument.doctype.name) && (mt = "<!DOCTYPE " + oe.ownerDocument.doctype.name + `>
` + mt), Ia && (mt = Gr(mt, ye, " "), mt = Gr(mt, Re, " "), mt = Gr(mt, Me, " ")), ce && zt ? ce.createHTML(mt) : mt;
  }, t.setConfig = function(he) {
    Va(he), Ji = !0;
  }, t.clearConfig = function() {
    Gi = null, Ji = !1;
  }, t.isValidAttribute = function(he, X, oe) {
    Gi || Va({});
    var Le = ht(he), Ue = ht(X);
    return de(Le, Ue, oe);
  }, t.addHook = function(he, X) {
    typeof X == "function" && (St[he] = St[he] || [], _c(St[he], X));
  }, t.removeHook = function(he) {
    if (St[he])
      return i1(St[he]);
  }, t.removeHooks = function(he) {
    St[he] && (St[he] = []);
  }, t.removeAllHooks = function() {
    St = {};
  }, t;
}
var zS = d2();
function BS(a, t) {
  const e = a.hooks ?? {};
  let i;
  for (i in e) {
    const n = e[i];
    n !== void 0 && t.addHook(i, n);
  }
}
function c2() {
  return zS();
}
function NS(a = {}, t = c2) {
  const e = t();
  BS(a, e);
  const i = function(n, u) {
    const _ = u.value;
    if (u.oldValue === _)
      return;
    const o = `${_}`, y = u.arg, b = a.namedConfigurations, S = a.default ?? {};
    if (b && y !== void 0) {
      n.innerHTML = e.sanitize(
        o,
        b[y] ?? S
      );
      return;
    }
    n.innerHTML = e.sanitize(
      o,
      S
    );
  };
  return {
    mounted: i,
    updated: i
  };
}
const qS = {
  install(a, t = {}, e = c2) {
    a.directive(
      "dompurify-html",
      NS(t, e)
    );
  }
};
var _2 = !1;
function wm(a, t, e) {
  return Array.isArray(a) ? (a.length = Math.max(a.length, t), a.splice(t, 1, e), e) : (a[t] = e, e);
}
function wf(a, t) {
  if (Array.isArray(a)) {
    a.splice(t, 1);
    return;
  }
  delete a[t];
}
function FS() {
  return m2().__VUE_DEVTOOLS_GLOBAL_HOOK__;
}
function m2() {
  return typeof navigator < "u" && typeof window < "u" ? window : typeof global < "u" ? global : {};
}
const GS = typeof Proxy == "function", US = "devtools-plugin:setup", jS = "plugin:settings:set";
let Au, ng;
function VS() {
  var a;
  return Au !== void 0 || (typeof window < "u" && window.performance ? (Au = !0, ng = window.performance) : typeof global < "u" && (!((a = global.perf_hooks) === null || a === void 0) && a.performance) ? (Au = !0, ng = global.perf_hooks.performance) : Au = !1), Au;
}
function $S() {
  return VS() ? ng.now() : Date.now();
}
class ZS {
  constructor(t, e) {
    this.target = null, this.targetQueue = [], this.onQueue = [], this.plugin = t, this.hook = e;
    const i = {};
    if (t.settings)
      for (const _ in t.settings) {
        const o = t.settings[_];
        i[_] = o.defaultValue;
      }
    const n = `__vue-devtools-plugin-settings__${t.id}`;
    let u = Object.assign({}, i);
    try {
      const _ = localStorage.getItem(n), o = JSON.parse(_);
      Object.assign(u, o);
    } catch {
    }
    this.fallbacks = {
      getSettings() {
        return u;
      },
      setSettings(_) {
        try {
          localStorage.setItem(n, JSON.stringify(_));
        } catch {
        }
        u = _;
      },
      now() {
        return $S();
      }
    }, e && e.on(jS, (_, o) => {
      _ === this.plugin.id && this.fallbacks.setSettings(o);
    }), this.proxiedOn = new Proxy({}, {
      get: (_, o) => this.target ? this.target.on[o] : (...y) => {
        this.onQueue.push({
          method: o,
          args: y
        });
      }
    }), this.proxiedTarget = new Proxy({}, {
      get: (_, o) => this.target ? this.target[o] : o === "on" ? this.proxiedOn : Object.keys(this.fallbacks).includes(o) ? (...y) => (this.targetQueue.push({
        method: o,
        args: y,
        resolve: () => {
        }
      }), this.fallbacks[o](...y)) : (...y) => new Promise((b) => {
        this.targetQueue.push({
          method: o,
          args: y,
          resolve: b
        });
      })
    });
  }
  async setRealTarget(t) {
    this.target = t;
    for (const e of this.onQueue)
      this.target.on[e.method](...e.args);
    for (const e of this.targetQueue)
      e.resolve(await this.target[e.method](...e.args));
  }
}
function h2(a, t) {
  const e = a, i = m2(), n = FS(), u = GS && e.enableEarlyProxy;
  if (n && (i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !u))
    n.emit(US, a, t);
  else {
    const _ = u ? new ZS(e, n) : null;
    (i.__VUE_DEVTOOLS_PLUGINS__ = i.__VUE_DEVTOOLS_PLUGINS__ || []).push({
      pluginDescriptor: e,
      setupFn: t,
      proxy: _
    }), _ && t(_.proxiedTarget);
  }
}
/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */
let fc;
const zc = (a) => fc = a, p2 = process.env.NODE_ENV !== "production" ? Symbol("pinia") : (
  /* istanbul ignore next */
  Symbol()
);
function Ul(a) {
  return a && typeof a == "object" && Object.prototype.toString.call(a) === "[object Object]" && typeof a.toJSON != "function";
}
var hs;
(function(a) {
  a.direct = "direct", a.patchObject = "patch object", a.patchFunction = "patch function";
})(hs || (hs = {}));
const jh = typeof window < "u", Tc = (process.env.NODE_ENV !== "production" || !1) && process.env.NODE_ENV !== "test" && jh, l1 = /* @__PURE__ */ (() => typeof window == "object" && window.window === window ? window : typeof self == "object" && self.self === self ? self : typeof global == "object" && global.global === global ? global : typeof globalThis == "object" ? globalThis : { HTMLElement: null })();
function HS(a, { autoBom: t = !1 } = {}) {
  return t && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type) ? new Blob([String.fromCharCode(65279), a], { type: a.type }) : a;
}
function zg(a, t, e) {
  const i = new XMLHttpRequest();
  i.open("GET", a), i.responseType = "blob", i.onload = function() {
    y2(i.response, t, e);
  }, i.onerror = function() {
    console.error("could not download file");
  }, i.send();
}
function f2(a) {
  const t = new XMLHttpRequest();
  t.open("HEAD", a, !1);
  try {
    t.send();
  } catch {
  }
  return t.status >= 200 && t.status <= 299;
}
function Hm(a) {
  try {
    a.dispatchEvent(new MouseEvent("click"));
  } catch {
    const e = document.createEvent("MouseEvents");
    e.initMouseEvent("click", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), a.dispatchEvent(e);
  }
}
const Xm = typeof navigator == "object" ? navigator : { userAgent: "" }, g2 = /* @__PURE__ */ (() => /Macintosh/.test(Xm.userAgent) && /AppleWebKit/.test(Xm.userAgent) && !/Safari/.test(Xm.userAgent))(), y2 = jh ? (
  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program
  typeof HTMLAnchorElement < "u" && "download" in HTMLAnchorElement.prototype && !g2 ? XS : (
    // Use msSaveOrOpenBlob as a second approach
    "msSaveOrOpenBlob" in Xm ? KS : (
      // Fallback to using FileReader and a popup
      YS
    )
  )
) : () => {
};
function XS(a, t = "download", e) {
  const i = document.createElement("a");
  i.download = t, i.rel = "noopener", typeof a == "string" ? (i.href = a, i.origin !== location.origin ? f2(i.href) ? zg(a, t, e) : (i.target = "_blank", Hm(i)) : Hm(i)) : (i.href = URL.createObjectURL(a), setTimeout(function() {
    URL.revokeObjectURL(i.href);
  }, 4e4), setTimeout(function() {
    Hm(i);
  }, 0));
}
function KS(a, t = "download", e) {
  if (typeof a == "string")
    if (f2(a))
      zg(a, t, e);
    else {
      const i = document.createElement("a");
      i.href = a, i.target = "_blank", setTimeout(function() {
        Hm(i);
      });
    }
  else
    navigator.msSaveOrOpenBlob(HS(a, e), t);
}
function YS(a, t, e, i) {
  if (i = i || open("", "_blank"), i && (i.document.title = i.document.body.innerText = "downloading..."), typeof a == "string")
    return zg(a, t, e);
  const n = a.type === "application/octet-stream", u = /constructor/i.test(String(l1.HTMLElement)) || "safari" in l1, _ = /CriOS\/[\d]+/.test(navigator.userAgent);
  if ((_ || n && u || g2) && typeof FileReader < "u") {
    const o = new FileReader();
    o.onloadend = function() {
      let y = o.result;
      if (typeof y != "string")
        throw i = null, new Error("Wrong reader.result type");
      y = _ ? y : y.replace(/^data:[^;]*;/, "data:attachment/file;"), i ? i.location.href = y : location.assign(y), i = null;
    }, o.readAsDataURL(a);
  } else {
    const o = URL.createObjectURL(a);
    i ? i.location.assign(o) : location.href = o, i = null, setTimeout(function() {
      URL.revokeObjectURL(o);
    }, 4e4);
  }
}
function Xi(a, t) {
  const e = "üçç " + a;
  typeof __VUE_DEVTOOLS_TOAST__ == "function" ? __VUE_DEVTOOLS_TOAST__(e, t) : t === "error" ? console.error(e) : t === "warn" ? console.warn(e) : console.log(e);
}
function Bg(a) {
  return "_a" in a && "install" in a;
}
function v2() {
  if (!("clipboard" in navigator))
    return Xi("Your browser doesn't support the Clipboard API", "error"), !0;
}
function b2(a) {
  return a instanceof Error && a.message.toLowerCase().includes("document is not focused") ? (Xi('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.', "warn"), !0) : !1;
}
async function QS(a) {
  if (!v2())
    try {
      await navigator.clipboard.writeText(JSON.stringify(a.state.value)), Xi("Global state copied to clipboard.");
    } catch (t) {
      if (b2(t))
        return;
      Xi("Failed to serialize the state. Check the console for more details.", "error"), console.error(t);
    }
}
async function JS(a) {
  if (!v2())
    try {
      a.state.value = JSON.parse(await navigator.clipboard.readText()), Xi("Global state pasted from clipboard.");
    } catch (t) {
      if (b2(t))
        return;
      Xi("Failed to deserialize the state from clipboard. Check the console for more details.", "error"), console.error(t);
    }
}
async function e3(a) {
  try {
    y2(new Blob([JSON.stringify(a.state.value)], {
      type: "text/plain;charset=utf-8"
    }), "pinia-state.json");
  } catch (t) {
    Xi("Failed to export the state as JSON. Check the console for more details.", "error"), console.error(t);
  }
}
let qs;
function t3() {
  qs || (qs = document.createElement("input"), qs.type = "file", qs.accept = ".json");
  function a() {
    return new Promise((t, e) => {
      qs.onchange = async () => {
        const i = qs.files;
        if (!i)
          return t(null);
        const n = i.item(0);
        return t(n ? { text: await n.text(), file: n } : null);
      }, qs.oncancel = () => t(null), qs.onerror = e, qs.click();
    });
  }
  return a;
}
async function a3(a) {
  try {
    const e = await (await t3())();
    if (!e)
      return;
    const { text: i, file: n } = e;
    a.state.value = JSON.parse(i), Xi(`Global state imported from "${n.name}".`);
  } catch (t) {
    Xi("Failed to export the state as JSON. Check the console for more details.", "error"), console.error(t);
  }
}
function Zr(a) {
  return {
    _custom: {
      display: a
    }
  };
}
const x2 = "üçç Pinia (root)", rg = "_root";
function i3(a) {
  return Bg(a) ? {
    id: rg,
    label: x2
  } : {
    id: a.$id,
    label: a.$id
  };
}
function n3(a) {
  if (Bg(a)) {
    const e = Array.from(a._s.keys()), i = a._s;
    return {
      state: e.map((u) => ({
        editable: !0,
        key: u,
        value: a.state.value[u]
      })),
      getters: e.filter((u) => i.get(u)._getters).map((u) => {
        const _ = i.get(u);
        return {
          editable: !1,
          key: u,
          value: _._getters.reduce((o, y) => (o[y] = _[y], o), {})
        };
      })
    };
  }
  const t = {
    state: Object.keys(a.$state).map((e) => ({
      editable: !0,
      key: e,
      value: a.$state[e]
    }))
  };
  return a._getters && a._getters.length && (t.getters = a._getters.map((e) => ({
    editable: !1,
    key: e,
    value: a[e]
  }))), a._customProperties.size && (t.customProperties = Array.from(a._customProperties).map((e) => ({
    editable: !0,
    key: e,
    value: a[e]
  }))), t;
}
function r3(a) {
  return a ? Array.isArray(a) ? a.reduce((t, e) => (t.keys.push(e.key), t.operations.push(e.type), t.oldValue[e.key] = e.oldValue, t.newValue[e.key] = e.newValue, t), {
    oldValue: {},
    keys: [],
    operations: [],
    newValue: {}
  }) : {
    operation: Zr(a.type),
    key: Zr(a.key),
    oldValue: a.oldValue,
    newValue: a.newValue
  } : {};
}
function s3(a) {
  switch (a) {
    case hs.direct:
      return "mutation";
    case hs.patchFunction:
      return "$patch";
    case hs.patchObject:
      return "$patch";
    default:
      return "unknown";
  }
}
let Gu = !0;
const Km = [], kl = "pinia:mutations", xn = "pinia", { assign: o3 } = Object, lh = (a) => "üçç " + a;
function l3(a, t) {
  h2({
    id: "dev.esm.pinia",
    label: "Pinia üçç",
    logo: "https://pinia.vuejs.org/logo.svg",
    packageName: "pinia",
    homepage: "https://pinia.vuejs.org",
    componentStateTypes: Km,
    app: a
  }, (e) => {
    typeof e.now != "function" && Xi("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."), e.addTimelineLayer({
      id: kl,
      label: "Pinia üçç",
      color: 15064968
    }), e.addInspector({
      id: xn,
      label: "Pinia üçç",
      icon: "storage",
      treeFilterPlaceholder: "Search stores",
      actions: [
        {
          icon: "content_copy",
          action: () => {
            QS(t);
          },
          tooltip: "Serialize and copy the state"
        },
        {
          icon: "content_paste",
          action: async () => {
            await JS(t), e.sendInspectorTree(xn), e.sendInspectorState(xn);
          },
          tooltip: "Replace the state with the content of your clipboard"
        },
        {
          icon: "save",
          action: () => {
            e3(t);
          },
          tooltip: "Save the state as a JSON file"
        },
        {
          icon: "folder_open",
          action: async () => {
            await a3(t), e.sendInspectorTree(xn), e.sendInspectorState(xn);
          },
          tooltip: "Import the state from a JSON file"
        }
      ],
      nodeActions: [
        {
          icon: "restore",
          tooltip: "Reset the state (option store only)",
          action: (i) => {
            const n = t._s.get(i);
            n ? n._isOptionsAPI ? (n.$reset(), Xi(`Store "${i}" reset.`)) : Xi(`Cannot reset "${i}" store because it's a setup store.`, "warn") : Xi(`Cannot reset "${i}" store because it wasn't found.`, "warn");
          }
        }
      ]
    }), e.on.inspectComponent((i, n) => {
      const u = i.componentInstance && i.componentInstance.proxy;
      if (u && u._pStores) {
        const _ = i.componentInstance.proxy._pStores;
        Object.values(_).forEach((o) => {
          i.instanceData.state.push({
            type: lh(o.$id),
            key: "state",
            editable: !0,
            value: o._isOptionsAPI ? {
              _custom: {
                value: Zc(o.$state),
                actions: [
                  {
                    icon: "restore",
                    tooltip: "Reset the state of this store",
                    action: () => o.$reset()
                  }
                ]
              }
            } : (
              // NOTE: workaround to unwrap transferred refs
              Object.keys(o.$state).reduce((y, b) => (y[b] = o.$state[b], y), {})
            )
          }), o._getters && o._getters.length && i.instanceData.state.push({
            type: lh(o.$id),
            key: "getters",
            editable: !1,
            value: o._getters.reduce((y, b) => {
              try {
                y[b] = o[b];
              } catch (S) {
                y[b] = S;
              }
              return y;
            }, {})
          });
        });
      }
    }), e.on.getInspectorTree((i) => {
      if (i.app === a && i.inspectorId === xn) {
        let n = [t];
        n = n.concat(Array.from(t._s.values())), i.rootNodes = (i.filter ? n.filter((u) => "$id" in u ? u.$id.toLowerCase().includes(i.filter.toLowerCase()) : x2.toLowerCase().includes(i.filter.toLowerCase())) : n).map(i3);
      }
    }), e.on.getInspectorState((i) => {
      if (i.app === a && i.inspectorId === xn) {
        const n = i.nodeId === rg ? t : t._s.get(i.nodeId);
        if (!n)
          return;
        n && (i.state = n3(n));
      }
    }), e.on.editInspectorState((i, n) => {
      if (i.app === a && i.inspectorId === xn) {
        const u = i.nodeId === rg ? t : t._s.get(i.nodeId);
        if (!u)
          return Xi(`store "${i.nodeId}" not found`, "error");
        const { path: _ } = i;
        Bg(u) ? _.unshift("state") : (_.length !== 1 || !u._customProperties.has(_[0]) || _[0] in u.$state) && _.unshift("$state"), Gu = !1, i.set(u, _, i.state.value), Gu = !0;
      }
    }), e.on.editComponentState((i) => {
      if (i.type.startsWith("üçç")) {
        const n = i.type.replace(/^üçç\s*/, ""), u = t._s.get(n);
        if (!u)
          return Xi(`store "${n}" not found`, "error");
        const { path: _ } = i;
        if (_[0] !== "state")
          return Xi(`Invalid path for store "${n}":
${_}
Only state can be modified.`);
        _[0] = "$state", Gu = !1, i.set(u, _, i.state.value), Gu = !0;
      }
    });
  });
}
function u3(a, t) {
  Km.includes(lh(t.$id)) || Km.push(lh(t.$id)), h2({
    id: "dev.esm.pinia",
    label: "Pinia üçç",
    logo: "https://pinia.vuejs.org/logo.svg",
    packageName: "pinia",
    homepage: "https://pinia.vuejs.org",
    componentStateTypes: Km,
    app: a,
    settings: {
      logStoreChanges: {
        label: "Notify about new/deleted stores",
        type: "boolean",
        defaultValue: !0
      }
      // useEmojis: {
      //   label: 'Use emojis in messages ‚ö°Ô∏è',
      //   type: 'boolean',
      //   defaultValue: true,
      // },
    }
  }, (e) => {
    const i = typeof e.now == "function" ? e.now.bind(e) : Date.now;
    t.$onAction(({ after: _, onError: o, name: y, args: b }) => {
      const S = w2++;
      e.addTimelineEvent({
        layerId: kl,
        event: {
          time: i(),
          title: "üõ´ " + y,
          subtitle: "start",
          data: {
            store: Zr(t.$id),
            action: Zr(y),
            args: b
          },
          groupId: S
        }
      }), _((T) => {
        Wl = void 0, e.addTimelineEvent({
          layerId: kl,
          event: {
            time: i(),
            title: "üõ¨ " + y,
            subtitle: "end",
            data: {
              store: Zr(t.$id),
              action: Zr(y),
              args: b,
              result: T
            },
            groupId: S
          }
        });
      }), o((T) => {
        Wl = void 0, e.addTimelineEvent({
          layerId: kl,
          event: {
            time: i(),
            logType: "error",
            title: "üí• " + y,
            subtitle: "end",
            data: {
              store: Zr(t.$id),
              action: Zr(y),
              args: b,
              error: T
            },
            groupId: S
          }
        });
      });
    }, !0), t._customProperties.forEach((_) => {
      Ki(() => Oe(t[_]), (o, y) => {
        e.notifyComponentUpdate(), e.sendInspectorState(xn), Gu && e.addTimelineEvent({
          layerId: kl,
          event: {
            time: i(),
            title: "Change",
            subtitle: _,
            data: {
              newValue: o,
              oldValue: y
            },
            groupId: Wl
          }
        });
      }, { deep: !0 });
    }), t.$subscribe(({ events: _, type: o }, y) => {
      if (e.notifyComponentUpdate(), e.sendInspectorState(xn), !Gu)
        return;
      const b = {
        time: i(),
        title: s3(o),
        data: o3({ store: Zr(t.$id) }, r3(_)),
        groupId: Wl
      };
      Wl = void 0, o === hs.patchFunction ? b.subtitle = "‚§µÔ∏è" : o === hs.patchObject ? b.subtitle = "üß©" : _ && !Array.isArray(_) && (b.subtitle = _.type), _ && (b.data["rawEvent(s)"] = {
        _custom: {
          display: "DebuggerEvent",
          type: "object",
          tooltip: "raw DebuggerEvent[]",
          value: _
        }
      }), e.addTimelineEvent({
        layerId: kl,
        event: b
      });
    }, { detached: !0, flush: "sync" });
    const n = t._hotUpdate;
    t._hotUpdate = Vs((_) => {
      n(_), e.addTimelineEvent({
        layerId: kl,
        event: {
          time: i(),
          title: "üî• " + t.$id,
          subtitle: "HMR update",
          data: {
            store: Zr(t.$id),
            info: Zr("HMR update")
          }
        }
      }), e.notifyComponentUpdate(), e.sendInspectorTree(xn), e.sendInspectorState(xn);
    });
    const { $dispose: u } = t;
    t.$dispose = () => {
      u(), e.notifyComponentUpdate(), e.sendInspectorTree(xn), e.sendInspectorState(xn), e.getSettings().logStoreChanges && Xi(`Disposed "${t.$id}" store üóë`);
    }, e.notifyComponentUpdate(), e.sendInspectorTree(xn), e.sendInspectorState(xn), e.getSettings().logStoreChanges && Xi(`"${t.$id}" store installed üÜï`);
  });
}
let w2 = 0, Wl;
function u1(a, t) {
  const e = t.reduce((i, n) => (i[n] = Zc(a)[n], i), {});
  for (const i in e)
    a[i] = function() {
      const n = w2, u = new Proxy(a, {
        get(..._) {
          return Wl = n, Reflect.get(..._);
        },
        set(..._) {
          return Wl = n, Reflect.set(..._);
        }
      });
      return e[i].apply(u, arguments);
    };
}
function d3({ app: a, store: t, options: e }) {
  if (!t.$id.startsWith("__hot:")) {
    if (e.state && (t._isOptionsAPI = !0), typeof e.state == "function") {
      u1(
        // @ts-expect-error: can cast the store...
        t,
        Object.keys(e.actions)
      );
      const i = t._hotUpdate;
      Zc(t)._hotUpdate = function(n) {
        i.apply(this, arguments), u1(t, Object.keys(n._hmrPayload.actions));
      };
    }
    u3(
      a,
      // FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?
      t
    );
  }
}
function c3() {
  const a = l2(!0), t = a.run(() => cn({}));
  let e = [], i = [];
  const n = Vs({
    install(u) {
      zc(n), n._a = u, u.provide(p2, n), u.config.globalProperties.$pinia = n, Tc && l3(u, n), i.forEach((_) => e.push(_)), i = [];
    },
    use(u) {
      return !this._a && !_2 ? i.push(u) : e.push(u), this;
    },
    _p: e,
    // it's actually undefined here
    // @ts-expect-error
    _a: null,
    _e: a,
    _s: /* @__PURE__ */ new Map(),
    state: t
  });
  return Tc && typeof Proxy < "u" && n.use(d3), n;
}
function S2(a, t) {
  for (const e in t) {
    const i = t[e];
    if (!(e in a))
      continue;
    const n = a[e];
    Ul(n) && Ul(i) && !Gl(i) && !Gh(i) ? a[e] = S2(n, i) : a[e] = i;
  }
  return a;
}
const T2 = () => {
};
function d1(a, t, e, i = T2) {
  a.push(t);
  const n = () => {
    const u = a.indexOf(t);
    u > -1 && (a.splice(u, 1), i());
  };
  return !e && Y4() && Q4(n), n;
}
function Iu(a, ...t) {
  a.slice().forEach((e) => {
    e(...t);
  });
}
function sg(a, t) {
  a instanceof Map && t instanceof Map && t.forEach((e, i) => a.set(i, e)), a instanceof Set && t instanceof Set && t.forEach(a.add, a);
  for (const e in t) {
    if (!t.hasOwnProperty(e))
      continue;
    const i = t[e], n = a[e];
    Ul(n) && Ul(i) && a.hasOwnProperty(e) && !Gl(i) && !Gh(i) ? a[e] = sg(n, i) : a[e] = i;
  }
  return a;
}
const _3 = process.env.NODE_ENV !== "production" ? Symbol("pinia:skipHydration") : (
  /* istanbul ignore next */
  Symbol()
);
function m3(a) {
  return !Ul(a) || !a.hasOwnProperty(_3);
}
const { assign: Mr } = Object;
function c1(a) {
  return !!(Gl(a) && a.effect);
}
function _1(a, t, e, i) {
  const { state: n, actions: u, getters: _ } = t, o = e.state.value[a];
  let y;
  function b() {
    !o && (process.env.NODE_ENV === "production" || !i) && (e.state.value[a] = n ? n() : {});
    const S = process.env.NODE_ENV !== "production" && i ? (
      // use ref() to unwrap refs inside state TODO: check if this is still necessary
      X0(cn(n ? n() : {}).value)
    ) : X0(e.state.value[a]);
    return Mr(S, u, Object.keys(_ || {}).reduce((T, L) => (process.env.NODE_ENV !== "production" && L in S && console.warn(`[üçç]: A getter cannot have the same name as another state property. Rename one of them. Found with "${L}" in store "${a}".`), T[L] = Vs(ki(() => {
      zc(e);
      const R = e._s.get(a);
      return _[L].call(R, R);
    })), T), {}));
  }
  return y = og(a, b, t, e, i, !0), y;
}
function og(a, t, e = {}, i, n, u) {
  let _;
  const o = Mr({ actions: {} }, e);
  if (process.env.NODE_ENV !== "production" && !i._e.active)
    throw new Error("Pinia destroyed");
  const y = {
    deep: !0
    // flush: 'post',
  };
  process.env.NODE_ENV !== "production" && !_2 && (y.onTrigger = (We) => {
    b ? R = We : b == !1 && !Ee._hotUpdating && (Array.isArray(R) ? R.push(We) : console.error("üçç debuggerEvents should be an array. This is most likely an internal Pinia bug."));
  });
  let b, S, T = Vs([]), L = Vs([]), R;
  const D = i.state.value[a];
  !u && !D && (process.env.NODE_ENV === "production" || !n) && (i.state.value[a] = {});
  const j = cn({});
  let Q;
  function ie(We) {
    let ke;
    b = S = !1, process.env.NODE_ENV !== "production" && (R = []), typeof We == "function" ? (We(i.state.value[a]), ke = {
      type: hs.patchFunction,
      storeId: a,
      events: R
    }) : (sg(i.state.value[a], We), ke = {
      type: hs.patchObject,
      payload: We,
      storeId: a,
      events: R
    });
    const Ze = Q = Symbol();
    H0().then(() => {
      Q === Ze && (b = !0);
    }), S = !0, Iu(T, ke, i.state.value[a]);
  }
  const J = u ? function() {
    const { state: ke } = e, Ze = ke ? ke() : {};
    this.$patch((ft) => {
      Mr(ft, Ze);
    });
  } : (
    /* istanbul ignore next */
    process.env.NODE_ENV !== "production" ? () => {
      throw new Error(`üçç: Store "${a}" is built using the setup syntax and does not implement $reset().`);
    } : T2
  );
  function _e() {
    _.stop(), T = [], L = [], i._s.delete(a);
  }
  function ce(We, ke) {
    return function() {
      zc(i);
      const Ze = Array.from(arguments), ft = [], St = [];
      function ye(nt) {
        ft.push(nt);
      }
      function Re(nt) {
        St.push(nt);
      }
      Iu(L, {
        args: Ze,
        name: We,
        store: Ee,
        after: ye,
        onError: Re
      });
      let Me;
      try {
        Me = ke.apply(this && this.$id === a ? this : Ee, Ze);
      } catch (nt) {
        throw Iu(St, nt), nt;
      }
      return Me instanceof Promise ? Me.then((nt) => (Iu(ft, nt), nt)).catch((nt) => (Iu(St, nt), Promise.reject(nt))) : (Iu(ft, Me), Me);
    };
  }
  const we = /* @__PURE__ */ Vs({
    actions: {},
    getters: {},
    state: [],
    hotState: j
  }), Be = {
    _p: i,
    // _s: scope,
    $id: a,
    $onAction: d1.bind(null, L),
    $patch: ie,
    $reset: J,
    $subscribe(We, ke = {}) {
      const Ze = d1(T, We, ke.detached, () => ft()), ft = _.run(() => Ki(() => i.state.value[a], (St) => {
        (ke.flush === "sync" ? S : b) && We({
          storeId: a,
          type: hs.direct,
          events: R
        }, St);
      }, Mr({}, y, ke)));
      return Ze;
    },
    $dispose: _e
  }, Ee = K4(process.env.NODE_ENV !== "production" || Tc ? Mr(
    {
      _hmrPayload: we,
      _customProperties: Vs(/* @__PURE__ */ new Set())
      // devtools custom properties
    },
    Be
    // must be added later
    // setupStore
  ) : Be);
  i._s.set(a, Ee);
  const Fe = i._e.run(() => (_ = l2(), _.run(() => t())));
  for (const We in Fe) {
    const ke = Fe[We];
    if (Gl(ke) && !c1(ke) || Gh(ke))
      process.env.NODE_ENV !== "production" && n ? wm(j.value, We, Vm(Fe, We)) : u || (D && m3(ke) && (Gl(ke) ? ke.value = D[We] : sg(ke, D[We])), i.state.value[a][We] = ke), process.env.NODE_ENV !== "production" && we.state.push(We);
    else if (typeof ke == "function") {
      const Ze = process.env.NODE_ENV !== "production" && n ? ke : ce(We, ke);
      Fe[We] = Ze, process.env.NODE_ENV !== "production" && (we.actions[We] = ke), o.actions[We] = ke;
    } else
      process.env.NODE_ENV !== "production" && c1(ke) && (we.getters[We] = u ? (
        // @ts-expect-error
        e.getters[We]
      ) : ke, jh && (Fe._getters || // @ts-expect-error: same
      (Fe._getters = Vs([]))).push(We));
  }
  if (Mr(Ee, Fe), Mr(Zc(Ee), Fe), Object.defineProperty(Ee, "$state", {
    get: () => process.env.NODE_ENV !== "production" && n ? j.value : i.state.value[a],
    set: (We) => {
      if (process.env.NODE_ENV !== "production" && n)
        throw new Error("cannot set hotState");
      ie((ke) => {
        Mr(ke, We);
      });
    }
  }), process.env.NODE_ENV !== "production" && (Ee._hotUpdate = Vs((We) => {
    Ee._hotUpdating = !0, We._hmrPayload.state.forEach((ke) => {
      if (ke in Ee.$state) {
        const Ze = We.$state[ke], ft = Ee.$state[ke];
        typeof Ze == "object" && Ul(Ze) && Ul(ft) ? S2(Ze, ft) : We.$state[ke] = ft;
      }
      wm(Ee, ke, Vm(We.$state, ke));
    }), Object.keys(Ee.$state).forEach((ke) => {
      ke in We.$state || wf(Ee, ke);
    }), b = !1, S = !1, i.state.value[a] = Vm(We._hmrPayload, "hotState"), S = !0, H0().then(() => {
      b = !0;
    });
    for (const ke in We._hmrPayload.actions) {
      const Ze = We[ke];
      wm(Ee, ke, ce(ke, Ze));
    }
    for (const ke in We._hmrPayload.getters) {
      const Ze = We._hmrPayload.getters[ke], ft = u ? (
        // special handling of options api
        ki(() => (zc(i), Ze.call(Ee, Ee)))
      ) : Ze;
      wm(Ee, ke, ft);
    }
    Object.keys(Ee._hmrPayload.getters).forEach((ke) => {
      ke in We._hmrPayload.getters || wf(Ee, ke);
    }), Object.keys(Ee._hmrPayload.actions).forEach((ke) => {
      ke in We._hmrPayload.actions || wf(Ee, ke);
    }), Ee._hmrPayload = We._hmrPayload, Ee._getters = We._getters, Ee._hotUpdating = !1;
  })), Tc) {
    const We = {
      writable: !0,
      configurable: !0,
      // avoid warning on devtools trying to display this property
      enumerable: !1
    };
    ["_p", "_hmrPayload", "_getters", "_customProperties"].forEach((ke) => {
      Object.defineProperty(Ee, ke, Mr({ value: Ee[ke] }, We));
    });
  }
  return i._p.forEach((We) => {
    if (Tc) {
      const ke = _.run(() => We({
        store: Ee,
        app: i._a,
        pinia: i,
        options: o
      }));
      Object.keys(ke || {}).forEach((Ze) => Ee._customProperties.add(Ze)), Mr(Ee, ke);
    } else
      Mr(Ee, _.run(() => We({
        store: Ee,
        app: i._a,
        pinia: i,
        options: o
      })));
  }), process.env.NODE_ENV !== "production" && Ee.$state && typeof Ee.$state == "object" && typeof Ee.$state.constructor == "function" && !Ee.$state.constructor.toString().includes("[native code]") && console.warn(`[üçç]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${Ee.$id}".`), D && u && e.hydrate && e.hydrate(Ee.$state, D), b = !0, S = !0, Ee;
}
function Hc(a, t, e) {
  let i, n;
  const u = typeof t == "function";
  if (typeof a == "string")
    i = a, n = u ? e : t;
  else if (n = a, i = a.id, process.env.NODE_ENV !== "production" && typeof i != "string")
    throw new Error('[üçç]: "defineStore()" must be passed a store id as its first argument.');
  function _(o, y) {
    const b = Wg();
    if (o = // in test mode, ignore the argument provided as we can always retrieve a
    // pinia instance with getActivePinia()
    (process.env.NODE_ENV === "test" && fc && fc._testing ? null : o) || b && X4(p2, null), o && zc(o), process.env.NODE_ENV !== "production" && !fc)
      throw new Error(`[üçç]: "getActivePinia()" was called but there was no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);
    o = fc, o._s.has(i) || (u ? og(i, t, n, o) : _1(i, n, o), process.env.NODE_ENV !== "production" && (_._pinia = o));
    const S = o._s.get(i);
    if (process.env.NODE_ENV !== "production" && y) {
      const T = "__hot:" + i, L = u ? og(T, t, n, o, !0) : _1(T, Mr({}, n), o, !0);
      y._hotUpdate(L), delete o.state.value[T], o._s.delete(T);
    }
    if (process.env.NODE_ENV !== "production" && jh && b && b.proxy && // avoid adding stores that are just built for hot module replacement
    !y) {
      const T = b.proxy, L = "_pStores" in T ? T._pStores : T._pStores = {};
      L[i] = S;
    }
    return S;
  }
  return _.$id = i, _;
}
function Jn(a) {
  {
    a = Zc(a);
    const t = {};
    for (const e in a) {
      const i = a[e];
      (Gl(i) || Gh(i)) && (t[e] = // ---
      Vm(a, e));
    }
    return t;
  }
}
var dd = {
  /**
   * Radians
   * @api
   */
  RADIANS: "radians",
  /**
   * Degrees
   * @api
   */
  DEGREES: "degrees",
  /**
   * Feet
   * @api
   */
  FEET: "ft",
  /**
   * Meters
   * @api
   */
  METERS: "m",
  /**
   * Pixels
   * @api
   */
  PIXELS: "pixels",
  /**
   * Tile Pixels
   * @api
   */
  TILE_PIXELS: "tile-pixels",
  /**
   * US Feet
   * @api
   */
  USFEET: "us-ft"
}, ys = {};
ys[dd.RADIANS] = 6370997 / (2 * Math.PI);
ys[dd.DEGREES] = 2 * Math.PI * 6370997 / 360;
ys[dd.FEET] = 0.3048;
ys[dd.METERS] = 1;
ys[dd.USFEET] = 1200 / 3937;
const Zs = dd;
var h3 = (
  /** @class */
  function() {
    function a(t) {
      this.code_ = t.code, this.units_ = /** @type {import("./Units.js").default} */
      t.units, this.extent_ = t.extent !== void 0 ? t.extent : null, this.worldExtent_ = t.worldExtent !== void 0 ? t.worldExtent : null, this.axisOrientation_ = t.axisOrientation !== void 0 ? t.axisOrientation : "enu", this.global_ = t.global !== void 0 ? t.global : !1, this.canWrapX_ = !!(this.global_ && this.extent_), this.getPointResolutionFunc_ = t.getPointResolution, this.defaultTileGrid_ = null, this.metersPerUnit_ = t.metersPerUnit;
    }
    return a.prototype.canWrapX = function() {
      return this.canWrapX_;
    }, a.prototype.getCode = function() {
      return this.code_;
    }, a.prototype.getExtent = function() {
      return this.extent_;
    }, a.prototype.getUnits = function() {
      return this.units_;
    }, a.prototype.getMetersPerUnit = function() {
      return this.metersPerUnit_ || ys[this.units_];
    }, a.prototype.getWorldExtent = function() {
      return this.worldExtent_;
    }, a.prototype.getAxisOrientation = function() {
      return this.axisOrientation_;
    }, a.prototype.isGlobal = function() {
      return this.global_;
    }, a.prototype.setGlobal = function(t) {
      this.global_ = t, this.canWrapX_ = !!(t && this.extent_);
    }, a.prototype.getDefaultTileGrid = function() {
      return this.defaultTileGrid_;
    }, a.prototype.setDefaultTileGrid = function(t) {
      this.defaultTileGrid_ = t;
    }, a.prototype.setExtent = function(t) {
      this.extent_ = t, this.canWrapX_ = !!(this.global_ && t);
    }, a.prototype.setWorldExtent = function(t) {
      this.worldExtent_ = t;
    }, a.prototype.setGetPointResolution = function(t) {
      this.getPointResolutionFunc_ = t;
    }, a.prototype.getPointResolutionFunc = function() {
      return this.getPointResolutionFunc_;
    }, a;
  }()
);
const Ng = h3;
function Ri(a, t, e) {
  return Math.min(Math.max(a, t), e);
}
var p3 = function() {
  var a;
  return "cosh" in Math ? a = Math.cosh : a = function(t) {
    var e = (
      /** @type {Math} */
      Math.exp(t)
    );
    return (e + 1 / e) / 2;
  }, a;
}(), f3 = function() {
  var a;
  return "log2" in Math ? a = Math.log2 : a = function(t) {
    return Math.log(t) * Math.LOG2E;
  }, a;
}();
function g3(a, t, e, i, n, u) {
  var _ = n - e, o = u - i;
  if (_ !== 0 || o !== 0) {
    var y = ((a - e) * _ + (t - i) * o) / (_ * _ + o * o);
    y > 1 ? (e = n, i = u) : y > 0 && (e += _ * y, i += o * y);
  }
  return Ku(a, t, e, i);
}
function Ku(a, t, e, i) {
  var n = e - a, u = i - t;
  return n * n + u * u;
}
function y3(a) {
  for (var t = a.length, e = 0; e < t; e++) {
    for (var i = e, n = Math.abs(a[e][e]), u = e + 1; u < t; u++) {
      var _ = Math.abs(a[u][e]);
      _ > n && (n = _, i = u);
    }
    if (n === 0)
      return null;
    var o = a[i];
    a[i] = a[e], a[e] = o;
    for (var y = e + 1; y < t; y++)
      for (var b = -a[y][e] / a[e][e], S = e; S < t + 1; S++)
        e == S ? a[y][S] = 0 : a[y][S] += b * a[e][S];
  }
  for (var T = new Array(t), L = t - 1; L >= 0; L--) {
    T[L] = a[L][t] / a[L][L];
    for (var R = L - 1; R >= 0; R--)
      a[R][t] -= a[R][L] * T[L];
  }
  return T;
}
function v3(a) {
  return a * 180 / Math.PI;
}
function Ym(a) {
  return a * Math.PI / 180;
}
function Bl(a, t) {
  var e = a % t;
  return e * t < 0 ? e + t : e;
}
function b3(a, t, e) {
  return a + e * (t - a);
}
function qg(a, t) {
  var e = Math.pow(10, t);
  return Math.round(a * e) / e;
}
function m1(a, t) {
  return Math.round(qg(a, t));
}
function Uu(a, t) {
  return Math.floor(qg(a, t));
}
function ko(a, t) {
  return Math.ceil(qg(a, t));
}
var x3 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), Xc = 6378137, ju = Math.PI * Xc, w3 = [-ju, -ju, ju, ju], S3 = [-180, -85, 180, 85], Sm = Xc * Math.log(Math.tan(Math.PI / 2)), Pu = (
  /** @class */
  function(a) {
    x3(t, a);
    function t(e) {
      return a.call(this, {
        code: e,
        units: Zs.METERS,
        extent: w3,
        global: !0,
        worldExtent: S3,
        getPointResolution: function(i, n) {
          return i / p3(n[1] / Xc);
        }
      }) || this;
    }
    return t;
  }(Ng)
), h1 = [
  new Pu("EPSG:3857"),
  new Pu("EPSG:102100"),
  new Pu("EPSG:102113"),
  new Pu("EPSG:900913"),
  new Pu("http://www.opengis.net/def/crs/EPSG/0/3857"),
  new Pu("http://www.opengis.net/gml/srs/epsg.xml#3857")
];
function T3(a, t, e) {
  var i = a.length, n = e > 1 ? e : 2, u = t;
  u === void 0 && (n > 2 ? u = a.slice() : u = new Array(i));
  for (var _ = 0; _ < i; _ += n) {
    u[_] = ju * a[_] / 180;
    var o = Xc * Math.log(Math.tan(Math.PI * (+a[_ + 1] + 90) / 360));
    o > Sm ? o = Sm : o < -Sm && (o = -Sm), u[_ + 1] = o;
  }
  return u;
}
function M3(a, t, e) {
  var i = a.length, n = e > 1 ? e : 2, u = t;
  u === void 0 && (n > 2 ? u = a.slice() : u = new Array(i));
  for (var _ = 0; _ < i; _ += n)
    u[_] = 180 * a[_] / ju, u[_ + 1] = 360 * Math.atan(Math.exp(a[_ + 1] / Xc)) / Math.PI - 90;
  return u;
}
var E3 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), L3 = 6378137, p1 = [-180, -90, 180, 90], C3 = Math.PI * L3 / 180, Al = (
  /** @class */
  function(a) {
    E3(t, a);
    function t(e, i) {
      return a.call(this, {
        code: e,
        units: Zs.DEGREES,
        extent: p1,
        axisOrientation: i,
        global: !0,
        metersPerUnit: C3,
        worldExtent: p1
      }) || this;
    }
    return t;
  }(Ng)
), f1 = [
  new Al("CRS:84"),
  new Al("EPSG:4326", "neu"),
  new Al("urn:ogc:def:crs:OGC:1.3:CRS84"),
  new Al("urn:ogc:def:crs:OGC:2:84"),
  new Al("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),
  new Al("http://www.opengis.net/gml/srs/epsg.xml#4326", "neu"),
  new Al("http://www.opengis.net/def/crs/EPSG/0/4326", "neu")
], lg = {};
function A3(a) {
  return lg[a] || lg[a.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/, "EPSG:$3")] || null;
}
function I3(a, t) {
  lg[a] = t;
}
var Xa = typeof Object.assign == "function" ? Object.assign : function(a, t) {
  if (a == null)
    throw new TypeError("Cannot convert undefined or null to object");
  for (var e = Object(a), i = 1, n = arguments.length; i < n; ++i) {
    var u = arguments[i];
    if (u != null)
      for (var _ in u)
        u.hasOwnProperty(_) && (e[_] = u[_]);
  }
  return e;
};
function Vh(a) {
  for (var t in a)
    delete a[t];
}
var P3 = typeof Object.values == "function" ? Object.values : function(a) {
  var t = [];
  for (var e in a)
    t.push(a[e]);
  return t;
};
function O3(a) {
  var t;
  for (t in a)
    return !1;
  return !t;
}
var Yu = {};
function nd(a, t, e) {
  var i = a.getCode(), n = t.getCode();
  i in Yu || (Yu[i] = {}), Yu[i][n] = e;
}
function M2(a, t) {
  var e;
  return a in Yu && t in Yu[a] && (e = Yu[a][t]), e;
}
const un = {
  UNKNOWN: 0,
  INTERSECTING: 1,
  ABOVE: 2,
  RIGHT: 4,
  BELOW: 8,
  LEFT: 16
};
function Ga() {
  return (
    /** @type {?} */
    function() {
      throw new Error("Unimplemented abstract method.");
    }()
  );
}
var R3 = 0;
function Yn(a) {
  return a.ol_uid || (a.ol_uid = String(++R3));
}
var k3 = "6.15.1", D3 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), W3 = (
  /** @class */
  function(a) {
    D3(t, a);
    function t(e) {
      var i = this, n = "v" + k3.split("-")[0], u = "Assertion failed. See https://openlayers.org/en/" + n + "/doc/errors/#" + e + " for details.";
      return i = a.call(this, u) || this, i.code = e, i.name = "AssertionError", i.message = u, i;
    }
    return t;
  }(Error)
);
const E2 = W3;
function Ma(a, t) {
  if (!a)
    throw new E2(t);
}
function ug(a) {
  for (var t = Kl(), e = 0, i = a.length; e < i; ++e)
    Qm(t, a[e]);
  return t;
}
function z3(a, t, e) {
  var i = Math.min.apply(null, a), n = Math.min.apply(null, t), u = Math.max.apply(null, a), _ = Math.max.apply(null, t);
  return jl(i, n, u, _, e);
}
function B3(a, t) {
  return t ? (t[0] = a[0], t[1] = a[1], t[2] = a[2], t[3] = a[3], t) : a.slice();
}
function L2(a, t, e) {
  var i, n;
  return t < a[0] ? i = a[0] - t : a[2] < t ? i = t - a[2] : i = 0, e < a[1] ? n = a[1] - e : a[3] < e ? n = e - a[3] : n = 0, i * i + n * n;
}
function Kc(a, t) {
  return C2(a, t[0], t[1]);
}
function Fg(a, t) {
  return a[0] <= t[0] && t[2] <= a[2] && a[1] <= t[1] && t[3] <= a[3];
}
function C2(a, t, e) {
  return a[0] <= t && t <= a[2] && a[1] <= e && e <= a[3];
}
function g1(a, t) {
  var e = a[0], i = a[1], n = a[2], u = a[3], _ = t[0], o = t[1], y = un.UNKNOWN;
  return _ < e ? y = y | un.LEFT : _ > n && (y = y | un.RIGHT), o < i ? y = y | un.BELOW : o > u && (y = y | un.ABOVE), y === un.UNKNOWN && (y = un.INTERSECTING), y;
}
function Kl() {
  return [1 / 0, 1 / 0, -1 / 0, -1 / 0];
}
function jl(a, t, e, i, n) {
  return n ? (n[0] = a, n[1] = t, n[2] = e, n[3] = i, n) : [a, t, e, i];
}
function $h(a) {
  return jl(1 / 0, 1 / 0, -1 / 0, -1 / 0, a);
}
function N3(a, t) {
  var e = a[0], i = a[1];
  return jl(e, i, e, i, t);
}
function q3(a, t, e, i, n) {
  var u = $h(n);
  return A2(u, a, t, e, i);
}
function uh(a, t) {
  return a[0] == t[0] && a[2] == t[2] && a[1] == t[1] && a[3] == t[3];
}
function F3(a, t) {
  return t[0] < a[0] && (a[0] = t[0]), t[2] > a[2] && (a[2] = t[2]), t[1] < a[1] && (a[1] = t[1]), t[3] > a[3] && (a[3] = t[3]), a;
}
function Qm(a, t) {
  t[0] < a[0] && (a[0] = t[0]), t[0] > a[2] && (a[2] = t[0]), t[1] < a[1] && (a[1] = t[1]), t[1] > a[3] && (a[3] = t[1]);
}
function A2(a, t, e, i, n) {
  for (; e < i; e += n)
    G3(a, t[e], t[e + 1]);
  return a;
}
function G3(a, t, e) {
  a[0] = Math.min(a[0], t), a[1] = Math.min(a[1], e), a[2] = Math.max(a[2], t), a[3] = Math.max(a[3], e);
}
function I2(a, t) {
  var e;
  return e = t(Zh(a)), e || (e = t(Hh(a)), e) || (e = t(Xh(a)), e) || (e = t(Xo(a)), e) ? e : !1;
}
function dg(a) {
  var t = 0;
  return Kh(a) || (t = Ha(a) * Yi(a)), t;
}
function Zh(a) {
  return [a[0], a[1]];
}
function Hh(a) {
  return [a[2], a[1]];
}
function Vl(a) {
  return [(a[0] + a[2]) / 2, (a[1] + a[3]) / 2];
}
function U3(a, t) {
  var e;
  return t === "bottom-left" ? e = Zh(a) : t === "bottom-right" ? e = Hh(a) : t === "top-left" ? e = Xo(a) : t === "top-right" ? e = Xh(a) : Ma(!1, 13), e;
}
function Qu(a, t, e, i, n) {
  var u = cg(a, t, e, i), _ = u[0], o = u[1], y = u[2], b = u[3], S = u[4], T = u[5], L = u[6], R = u[7];
  return jl(Math.min(_, y, S, L), Math.min(o, b, T, R), Math.max(_, y, S, L), Math.max(o, b, T, R), n);
}
function cg(a, t, e, i) {
  var n = t * i[0] / 2, u = t * i[1] / 2, _ = Math.cos(e), o = Math.sin(e), y = n * _, b = n * o, S = u * _, T = u * o, L = a[0], R = a[1];
  return [
    L - y + T,
    R - b - S,
    L - y - T,
    R - b + S,
    L + y - T,
    R + b + S,
    L + y + T,
    R + b - S,
    L - y + T,
    R - b - S
  ];
}
function Yi(a) {
  return a[3] - a[1];
}
function Nl(a, t, e) {
  var i = e || Kl();
  return Yc(a, t) ? (a[0] > t[0] ? i[0] = a[0] : i[0] = t[0], a[1] > t[1] ? i[1] = a[1] : i[1] = t[1], a[2] < t[2] ? i[2] = a[2] : i[2] = t[2], a[3] < t[3] ? i[3] = a[3] : i[3] = t[3]) : $h(i), i;
}
function Xo(a) {
  return [a[0], a[3]];
}
function Xh(a) {
  return [a[2], a[3]];
}
function Ha(a) {
  return a[2] - a[0];
}
function Yc(a, t) {
  return a[0] <= t[2] && a[2] >= t[0] && a[1] <= t[3] && a[3] >= t[1];
}
function Kh(a) {
  return a[2] < a[0] || a[3] < a[1];
}
function j3(a, t) {
  return t ? (t[0] = a[0], t[1] = a[1], t[2] = a[2], t[3] = a[3], t) : a;
}
function V3(a, t, e) {
  var i = !1, n = g1(a, t), u = g1(a, e);
  if (n === un.INTERSECTING || u === un.INTERSECTING)
    i = !0;
  else {
    var _ = a[0], o = a[1], y = a[2], b = a[3], S = t[0], T = t[1], L = e[0], R = e[1], D = (R - T) / (L - S), j = void 0, Q = void 0;
    u & un.ABOVE && !(n & un.ABOVE) && (j = L - (R - b) / D, i = j >= _ && j <= y), !i && u & un.RIGHT && !(n & un.RIGHT) && (Q = R - (L - y) * D, i = Q >= o && Q <= b), !i && u & un.BELOW && !(n & un.BELOW) && (j = L - (R - o) / D, i = j >= _ && j <= y), !i && u & un.LEFT && !(n & un.LEFT) && (Q = R - (L - _) * D, i = Q >= o && Q <= b);
  }
  return i;
}
function $3(a, t, e, i) {
  var n = [];
  if (i > 1)
    for (var u = a[2] - a[0], _ = a[3] - a[1], o = 0; o < i; ++o)
      n.push(a[0] + u * o / i, a[1], a[2], a[1] + _ * o / i, a[2] - u * o / i, a[3], a[0], a[3] - _ * o / i);
  else
    n = [
      a[0],
      a[1],
      a[2],
      a[1],
      a[2],
      a[3],
      a[0],
      a[3]
    ];
  t(n, n, 2);
  for (var y = [], b = [], o = 0, S = n.length; o < S; o += 2)
    y.push(n[o]), b.push(n[o + 1]);
  return z3(y, b, e);
}
function Z3(a, t) {
  for (var e = ("" + a).split("."), i = ("" + t).split("."), n = 0; n < Math.max(e.length, i.length); n++) {
    var u = parseInt(e[n] || "0", 10), _ = parseInt(i[n] || "0", 10);
    if (u > _)
      return 1;
    if (_ > u)
      return -1;
  }
  return 0;
}
function H3(a, t) {
  return a[0] += +t[0], a[1] += +t[1], a;
}
function dh(a, t) {
  for (var e = !0, i = a.length - 1; i >= 0; --i)
    if (a[i] != t[i]) {
      e = !1;
      break;
    }
  return e;
}
function Gg(a, t) {
  var e = Math.cos(t), i = Math.sin(t), n = a[0] * e - a[1] * i, u = a[1] * e + a[0] * i;
  return a[0] = n, a[1] = u, a;
}
function X3(a, t) {
  return a[0] *= t, a[1] *= t, a;
}
function K3(a, t) {
  if (t.canWrapX()) {
    var e = Ha(t.getExtent()), i = P2(a, t, e);
    i && (a[0] -= i * e);
  }
  return a;
}
function P2(a, t, e) {
  var i = t.getExtent(), n = 0;
  if (t.canWrapX() && (a[0] < i[0] || a[0] > i[2])) {
    var u = e || Ha(i);
    n = Math.floor((a[0] - i[0]) / u);
  }
  return n;
}
var Y3 = 63710088e-1;
function y1(a, t, e) {
  var i = e || Y3, n = Ym(a[1]), u = Ym(t[1]), _ = (u - n) / 2, o = Ym(t[0] - a[0]) / 2, y = Math.sin(_) * Math.sin(_) + Math.sin(o) * Math.sin(o) * Math.cos(n) * Math.cos(u);
  return 2 * i * Math.atan2(Math.sqrt(y), Math.sqrt(1 - y));
}
var _g = !0;
function Q3(a) {
  var t = a === void 0 ? !0 : a;
  _g = !t;
}
function Ug(a, t, e) {
  var i;
  if (t !== void 0) {
    for (var n = 0, u = a.length; n < u; ++n)
      t[n] = a[n];
    i = t;
  } else
    i = a.slice();
  return i;
}
function O2(a, t, e) {
  if (t !== void 0 && a !== t) {
    for (var i = 0, n = a.length; i < n; ++i)
      t[i] = a[i];
    a = t;
  }
  return a;
}
function R2(a) {
  I3(a.getCode(), a), nd(a, a, Ug);
}
function J3(a) {
  a.forEach(R2);
}
function Di(a) {
  return typeof a == "string" ? A3(
    /** @type {string} */
    a
  ) : (
    /** @type {Projection} */
    a || null
  );
}
function v1(a, t, e, i) {
  a = Di(a);
  var n, u = a.getPointResolutionFunc();
  if (u) {
    if (n = u(t, e), i && i !== a.getUnits()) {
      var _ = a.getMetersPerUnit();
      _ && (n = n * _ / ys[i]);
    }
  } else {
    var o = a.getUnits();
    if (o == Zs.DEGREES && !i || i == Zs.DEGREES)
      n = t;
    else {
      var y = Vg(a, Di("EPSG:4326"));
      if (y === O2 && o !== Zs.DEGREES)
        n = t * a.getMetersPerUnit();
      else {
        var b = [
          e[0] - t / 2,
          e[1],
          e[0] + t / 2,
          e[1],
          e[0],
          e[1] - t / 2,
          e[0],
          e[1] + t / 2
        ];
        b = y(b, b, 2);
        var S = y1(b.slice(0, 2), b.slice(2, 4)), T = y1(b.slice(4, 6), b.slice(6, 8));
        n = (S + T) / 2;
      }
      var _ = i ? ys[i] : a.getMetersPerUnit();
      _ !== void 0 && (n /= _);
    }
  }
  return n;
}
function mg(a) {
  J3(a), a.forEach(function(t) {
    a.forEach(function(e) {
      t !== e && nd(t, e, Ug);
    });
  });
}
function eT(a, t, e, i) {
  a.forEach(function(n) {
    t.forEach(function(u) {
      nd(n, u, e), nd(u, n, i);
    });
  });
}
function jg(a, t) {
  return a ? typeof a == "string" ? Di(a) : (
    /** @type {Projection} */
    a
  ) : Di(t);
}
function b1(a) {
  return (
    /**
     * @param {Array<number>} input Input.
     * @param {Array<number>} [opt_output] Output.
     * @param {number} [opt_dimension] Dimension.
     * @return {Array<number>} Output.
     */
    function(t, e, i) {
      for (var n = t.length, u = i !== void 0 ? i : 2, _ = e !== void 0 ? e : new Array(n), o = 0; o < n; o += u)
        for (var y = a(t.slice(o, o + u)), b = y.length, S = 0, T = u; S < T; ++S)
          _[o + S] = S >= b ? t[o + S] : y[S];
      return _;
    }
  );
}
function tT(a, t, e, i) {
  var n = Di(a), u = Di(t);
  nd(n, u, b1(e)), nd(u, n, b1(i));
}
function aT(a, t) {
  var e = Bc(a, t !== void 0 ? t : "EPSG:3857", "EPSG:4326"), i = e[0];
  return (i < -180 || i > 180) && (e[0] = Bl(i + 180, 360) - 180), e;
}
function Po(a, t) {
  if (a === t)
    return !0;
  var e = a.getUnits() === t.getUnits();
  if (a.getCode() === t.getCode())
    return e;
  var i = Vg(a, t);
  return i === Ug && e;
}
function Vg(a, t) {
  var e = a.getCode(), i = t.getCode(), n = M2(e, i);
  return n || (n = O2), n;
}
function rd(a, t) {
  var e = Di(a), i = Di(t);
  return Vg(e, i);
}
function Bc(a, t, e) {
  var i = rd(t, e);
  return i(a, void 0, a.length);
}
function iT(a, t, e, i) {
  var n = rd(t, e);
  return $3(a, n, void 0, i);
}
var nT = null;
function rT() {
  return nT;
}
function hg(a, t) {
  return a;
}
function js(a, t) {
  return _g && !dh(a, [0, 0]) && a[0] >= -180 && a[0] <= 180 && a[1] >= -90 && a[1] <= 90 && (_g = !1, console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")), a;
}
function sT(a, t) {
  return a;
}
function Do(a, t) {
  return a;
}
function x1(a, t, e) {
  return function(i) {
    var n, u;
    if (a.canWrapX()) {
      var _ = a.getExtent(), o = Ha(_);
      i = i.slice(0), u = P2(i, a, o), u && (i[0] = i[0] - u * o), i[0] = Ri(i[0], _[0], _[2]), i[1] = Ri(i[1], _[1], _[3]), n = e(i);
    } else
      n = e(i);
    return u && t.canWrapX() && (n[0] += u * Ha(t.getExtent())), n;
  };
}
function oT() {
  mg(h1), mg(f1), eT(f1, h1, T3, M3);
}
oT();
function lT(a) {
  var t = Object.keys(a.defs), e = t.length, i, n;
  for (i = 0; i < e; ++i) {
    var u = t[i];
    if (!Di(u)) {
      var _ = a.defs(u), o = _.units;
      !o && _.projName === "longlat" && (o = Zs.DEGREES), R2(new Ng({
        code: u,
        axisOrientation: _.axis,
        metersPerUnit: _.to_meter,
        units: o
      }));
    }
  }
  for (i = 0; i < e; ++i) {
    var y = t[i], b = Di(y);
    for (n = 0; n < e; ++n) {
      var S = t[n], T = Di(S);
      if (!M2(y, S))
        if (a.defs[y] === a.defs[S])
          mg([b, T]);
        else {
          var L = a(y, S);
          tT(b, T, x1(b, T, L.forward), x1(T, b, L.inverse));
        }
    }
  }
}
function uT(a) {
  a("EPSG:4326", "+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"), a("EPSG:4269", "+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"), a("EPSG:3857", "+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"), a.WGS84 = a["EPSG:4326"], a["EPSG:3785"] = a["EPSG:3857"], a.GOOGLE = a["EPSG:3857"], a["EPSG:900913"] = a["EPSG:3857"], a["EPSG:102113"] = a["EPSG:3857"];
}
var $l = 1, Zl = 2, Ju = 3, dT = 4, pg = 5, w1 = 6378137, cT = 6356752314e-3, S1 = 0.0066943799901413165, Mc = 484813681109536e-20, $e = Math.PI / 2, _T = 0.16666666666666666, mT = 0.04722222222222222, hT = 0.022156084656084655, dt = 1e-10, ln = 0.017453292519943295, _s = 57.29577951308232, Sa = Math.PI / 4, Nc = Math.PI * 2, yi = 3.14159265359, tr = {};
tr.greenwich = 0;
tr.lisbon = -9.131906111111;
tr.paris = 2.337229166667;
tr.bogota = -74.080916666667;
tr.madrid = -3.687938888889;
tr.rome = 12.452333333333;
tr.bern = 7.439583333333;
tr.jakarta = 106.807719444444;
tr.ferro = -17.666666666667;
tr.brussels = 4.367975;
tr.stockholm = 18.058277777778;
tr.athens = 23.7163375;
tr.oslo = 10.722916666667;
const pT = {
  ft: { to_meter: 0.3048 },
  "us-ft": { to_meter: 1200 / 3937 }
};
var T1 = /[\s_\-\/\(\)]/g;
function Uo(a, t) {
  if (a[t])
    return a[t];
  for (var e = Object.keys(a), i = t.toLowerCase().replace(T1, ""), n = -1, u, _; ++n < e.length; )
    if (u = e[n], _ = u.toLowerCase().replace(T1, ""), _ === i)
      return a[u];
}
function fg(a) {
  var t = {}, e = a.split("+").map(function(o) {
    return o.trim();
  }).filter(function(o) {
    return o;
  }).reduce(function(o, y) {
    var b = y.split("=");
    return b.push(!0), o[b[0].toLowerCase()] = b[1], o;
  }, {}), i, n, u, _ = {
    proj: "projName",
    datum: "datumCode",
    rf: function(o) {
      t.rf = parseFloat(o);
    },
    lat_0: function(o) {
      t.lat0 = o * ln;
    },
    lat_1: function(o) {
      t.lat1 = o * ln;
    },
    lat_2: function(o) {
      t.lat2 = o * ln;
    },
    lat_ts: function(o) {
      t.lat_ts = o * ln;
    },
    lon_0: function(o) {
      t.long0 = o * ln;
    },
    lon_1: function(o) {
      t.long1 = o * ln;
    },
    lon_2: function(o) {
      t.long2 = o * ln;
    },
    alpha: function(o) {
      t.alpha = parseFloat(o) * ln;
    },
    gamma: function(o) {
      t.rectified_grid_angle = parseFloat(o);
    },
    lonc: function(o) {
      t.longc = o * ln;
    },
    x_0: function(o) {
      t.x0 = parseFloat(o);
    },
    y_0: function(o) {
      t.y0 = parseFloat(o);
    },
    k_0: function(o) {
      t.k0 = parseFloat(o);
    },
    k: function(o) {
      t.k0 = parseFloat(o);
    },
    a: function(o) {
      t.a = parseFloat(o);
    },
    b: function(o) {
      t.b = parseFloat(o);
    },
    r_a: function() {
      t.R_A = !0;
    },
    zone: function(o) {
      t.zone = parseInt(o, 10);
    },
    south: function() {
      t.utmSouth = !0;
    },
    towgs84: function(o) {
      t.datum_params = o.split(",").map(function(y) {
        return parseFloat(y);
      });
    },
    to_meter: function(o) {
      t.to_meter = parseFloat(o);
    },
    units: function(o) {
      t.units = o;
      var y = Uo(pT, o);
      y && (t.to_meter = y.to_meter);
    },
    from_greenwich: function(o) {
      t.from_greenwich = o * ln;
    },
    pm: function(o) {
      var y = Uo(tr, o);
      t.from_greenwich = (y || parseFloat(o)) * ln;
    },
    nadgrids: function(o) {
      o === "@null" ? t.datumCode = "none" : t.nadgrids = o;
    },
    axis: function(o) {
      var y = "ewnsud";
      o.length === 3 && y.indexOf(o.substr(0, 1)) !== -1 && y.indexOf(o.substr(1, 1)) !== -1 && y.indexOf(o.substr(2, 1)) !== -1 && (t.axis = o);
    },
    approx: function() {
      t.approx = !0;
    }
  };
  for (i in e)
    n = e[i], i in _ ? (u = _[i], typeof u == "function" ? u(n) : t[u] = n) : t[i] = n;
  return typeof t.datumCode == "string" && t.datumCode !== "WGS84" && (t.datumCode = t.datumCode.toLowerCase()), t;
}
var qc = 1, k2 = 2, D2 = 3, ch = 4, W2 = 5, $g = -1, fT = /\s/, gT = /[A-Za-z]/, yT = /[A-Za-z84_]/, Yh = /[,\]]/, z2 = /[\d\.E\-\+]/;
function Js(a) {
  if (typeof a != "string")
    throw new Error("not a string");
  this.text = a.trim(), this.level = 0, this.place = 0, this.root = null, this.stack = [], this.currentObject = null, this.state = qc;
}
Js.prototype.readCharicter = function() {
  var a = this.text[this.place++];
  if (this.state !== ch)
    for (; fT.test(a); ) {
      if (this.place >= this.text.length)
        return;
      a = this.text[this.place++];
    }
  switch (this.state) {
    case qc:
      return this.neutral(a);
    case k2:
      return this.keyword(a);
    case ch:
      return this.quoted(a);
    case W2:
      return this.afterquote(a);
    case D2:
      return this.number(a);
    case $g:
      return;
  }
};
Js.prototype.afterquote = function(a) {
  if (a === '"') {
    this.word += '"', this.state = ch;
    return;
  }
  if (Yh.test(a)) {
    this.word = this.word.trim(), this.afterItem(a);
    return;
  }
  throw new Error(`havn't handled "` + a + '" in afterquote yet, index ' + this.place);
};
Js.prototype.afterItem = function(a) {
  if (a === ",") {
    this.word !== null && this.currentObject.push(this.word), this.word = null, this.state = qc;
    return;
  }
  if (a === "]") {
    this.level--, this.word !== null && (this.currentObject.push(this.word), this.word = null), this.state = qc, this.currentObject = this.stack.pop(), this.currentObject || (this.state = $g);
    return;
  }
};
Js.prototype.number = function(a) {
  if (z2.test(a)) {
    this.word += a;
    return;
  }
  if (Yh.test(a)) {
    this.word = parseFloat(this.word), this.afterItem(a);
    return;
  }
  throw new Error(`havn't handled "` + a + '" in number yet, index ' + this.place);
};
Js.prototype.quoted = function(a) {
  if (a === '"') {
    this.state = W2;
    return;
  }
  this.word += a;
};
Js.prototype.keyword = function(a) {
  if (yT.test(a)) {
    this.word += a;
    return;
  }
  if (a === "[") {
    var t = [];
    t.push(this.word), this.level++, this.root === null ? this.root = t : this.currentObject.push(t), this.stack.push(this.currentObject), this.currentObject = t, this.state = qc;
    return;
  }
  if (Yh.test(a)) {
    this.afterItem(a);
    return;
  }
  throw new Error(`havn't handled "` + a + '" in keyword yet, index ' + this.place);
};
Js.prototype.neutral = function(a) {
  if (gT.test(a)) {
    this.word = a, this.state = k2;
    return;
  }
  if (a === '"') {
    this.word = "", this.state = ch;
    return;
  }
  if (z2.test(a)) {
    this.word = a, this.state = D2;
    return;
  }
  if (Yh.test(a)) {
    this.afterItem(a);
    return;
  }
  throw new Error(`havn't handled "` + a + '" in neutral yet, index ' + this.place);
};
Js.prototype.output = function() {
  for (; this.place < this.text.length; )
    this.readCharicter();
  if (this.state === $g)
    return this.root;
  throw new Error('unable to parse string "' + this.text + '". State is ' + this.state);
};
function vT(a) {
  var t = new Js(a);
  return t.output();
}
function M1(a, t, e) {
  Array.isArray(t) && (e.unshift(t), t = null);
  var i = t ? {} : a, n = e.reduce(function(u, _) {
    return Vu(_, u), u;
  }, i);
  t && (a[t] = n);
}
function Vu(a, t) {
  if (!Array.isArray(a)) {
    t[a] = !0;
    return;
  }
  var e = a.shift();
  if (e === "PARAMETER" && (e = a.shift()), a.length === 1) {
    if (Array.isArray(a[0])) {
      t[e] = {}, Vu(a[0], t[e]);
      return;
    }
    t[e] = a[0];
    return;
  }
  if (!a.length) {
    t[e] = !0;
    return;
  }
  if (e === "TOWGS84") {
    t[e] = a;
    return;
  }
  if (e === "AXIS") {
    e in t || (t[e] = []), t[e].push(a);
    return;
  }
  Array.isArray(e) || (t[e] = {});
  var i;
  switch (e) {
    case "UNIT":
    case "PRIMEM":
    case "VERT_DATUM":
      t[e] = {
        name: a[0].toLowerCase(),
        convert: a[1]
      }, a.length === 3 && Vu(a[2], t[e]);
      return;
    case "SPHEROID":
    case "ELLIPSOID":
      t[e] = {
        name: a[0],
        a: a[1],
        rf: a[2]
      }, a.length === 4 && Vu(a[3], t[e]);
      return;
    case "PROJECTEDCRS":
    case "PROJCRS":
    case "GEOGCS":
    case "GEOCCS":
    case "PROJCS":
    case "LOCAL_CS":
    case "GEODCRS":
    case "GEODETICCRS":
    case "GEODETICDATUM":
    case "EDATUM":
    case "ENGINEERINGDATUM":
    case "VERT_CS":
    case "VERTCRS":
    case "VERTICALCRS":
    case "COMPD_CS":
    case "COMPOUNDCRS":
    case "ENGINEERINGCRS":
    case "ENGCRS":
    case "FITTED_CS":
    case "LOCAL_DATUM":
    case "DATUM":
      a[0] = ["name", a[0]], M1(t, e, a);
      return;
    default:
      for (i = -1; ++i < a.length; )
        if (!Array.isArray(a[i]))
          return Vu(a, t[e]);
      return M1(t, e, a);
  }
}
var bT = 0.017453292519943295;
function xT(a, t) {
  var e = t[0], i = t[1];
  !(e in a) && i in a && (a[e] = a[i], t.length === 3 && (a[e] = t[2](a[e])));
}
function Fs(a) {
  return a * bT;
}
function wT(a) {
  if (a.type === "GEOGCS" ? a.projName = "longlat" : a.type === "LOCAL_CS" ? (a.projName = "identity", a.local = !0) : typeof a.PROJECTION == "object" ? a.projName = Object.keys(a.PROJECTION)[0] : a.projName = a.PROJECTION, a.AXIS) {
    for (var t = "", e = 0, i = a.AXIS.length; e < i; ++e) {
      var n = [a.AXIS[e][0].toLowerCase(), a.AXIS[e][1].toLowerCase()];
      n[0].indexOf("north") !== -1 || (n[0] === "y" || n[0] === "lat") && n[1] === "north" ? t += "n" : n[0].indexOf("south") !== -1 || (n[0] === "y" || n[0] === "lat") && n[1] === "south" ? t += "s" : n[0].indexOf("east") !== -1 || (n[0] === "x" || n[0] === "lon") && n[1] === "east" ? t += "e" : (n[0].indexOf("west") !== -1 || (n[0] === "x" || n[0] === "lon") && n[1] === "west") && (t += "w");
    }
    t.length === 2 && (t += "u"), t.length === 3 && (a.axis = t);
  }
  a.UNIT && (a.units = a.UNIT.name.toLowerCase(), a.units === "metre" && (a.units = "meter"), a.UNIT.convert && (a.type === "GEOGCS" ? a.DATUM && a.DATUM.SPHEROID && (a.to_meter = a.UNIT.convert * a.DATUM.SPHEROID.a) : a.to_meter = a.UNIT.convert));
  var u = a.GEOGCS;
  a.type === "GEOGCS" && (u = a), u && (u.DATUM ? a.datumCode = u.DATUM.name.toLowerCase() : a.datumCode = u.name.toLowerCase(), a.datumCode.slice(0, 2) === "d_" && (a.datumCode = a.datumCode.slice(2)), (a.datumCode === "new_zealand_geodetic_datum_1949" || a.datumCode === "new_zealand_1949") && (a.datumCode = "nzgd49"), (a.datumCode === "wgs_1984" || a.datumCode === "world_geodetic_system_1984") && (a.PROJECTION === "Mercator_Auxiliary_Sphere" && (a.sphere = !0), a.datumCode = "wgs84"), a.datumCode.slice(-6) === "_ferro" && (a.datumCode = a.datumCode.slice(0, -6)), a.datumCode.slice(-8) === "_jakarta" && (a.datumCode = a.datumCode.slice(0, -8)), ~a.datumCode.indexOf("belge") && (a.datumCode = "rnb72"), u.DATUM && u.DATUM.SPHEROID && (a.ellps = u.DATUM.SPHEROID.name.replace("_19", "").replace(/[Cc]larke\_18/, "clrk"), a.ellps.toLowerCase().slice(0, 13) === "international" && (a.ellps = "intl"), a.a = u.DATUM.SPHEROID.a, a.rf = parseFloat(u.DATUM.SPHEROID.rf, 10)), u.DATUM && u.DATUM.TOWGS84 && (a.datum_params = u.DATUM.TOWGS84), ~a.datumCode.indexOf("osgb_1936") && (a.datumCode = "osgb36"), ~a.datumCode.indexOf("osni_1952") && (a.datumCode = "osni52"), (~a.datumCode.indexOf("tm65") || ~a.datumCode.indexOf("geodetic_datum_of_1965")) && (a.datumCode = "ire65"), a.datumCode === "ch1903+" && (a.datumCode = "ch1903"), ~a.datumCode.indexOf("israel") && (a.datumCode = "isr93")), a.b && !isFinite(a.b) && (a.b = a.a);
  function _(b) {
    var S = a.to_meter || 1;
    return b * S;
  }
  var o = function(b) {
    return xT(a, b);
  }, y = [
    ["standard_parallel_1", "Standard_Parallel_1"],
    ["standard_parallel_1", "Latitude of 1st standard parallel"],
    ["standard_parallel_2", "Standard_Parallel_2"],
    ["standard_parallel_2", "Latitude of 2nd standard parallel"],
    ["false_easting", "False_Easting"],
    ["false_easting", "False easting"],
    ["false-easting", "Easting at false origin"],
    ["false_northing", "False_Northing"],
    ["false_northing", "False northing"],
    ["false_northing", "Northing at false origin"],
    ["central_meridian", "Central_Meridian"],
    ["central_meridian", "Longitude of natural origin"],
    ["central_meridian", "Longitude of false origin"],
    ["latitude_of_origin", "Latitude_Of_Origin"],
    ["latitude_of_origin", "Central_Parallel"],
    ["latitude_of_origin", "Latitude of natural origin"],
    ["latitude_of_origin", "Latitude of false origin"],
    ["scale_factor", "Scale_Factor"],
    ["k0", "scale_factor"],
    ["latitude_of_center", "Latitude_Of_Center"],
    ["latitude_of_center", "Latitude_of_center"],
    ["lat0", "latitude_of_center", Fs],
    ["longitude_of_center", "Longitude_Of_Center"],
    ["longitude_of_center", "Longitude_of_center"],
    ["longc", "longitude_of_center", Fs],
    ["x0", "false_easting", _],
    ["y0", "false_northing", _],
    ["long0", "central_meridian", Fs],
    ["lat0", "latitude_of_origin", Fs],
    ["lat0", "standard_parallel_1", Fs],
    ["lat1", "standard_parallel_1", Fs],
    ["lat2", "standard_parallel_2", Fs],
    ["azimuth", "Azimuth"],
    ["alpha", "azimuth", Fs],
    ["srsCode", "name"]
  ];
  y.forEach(o), !a.long0 && a.longc && (a.projName === "Albers_Conic_Equal_Area" || a.projName === "Lambert_Azimuthal_Equal_Area") && (a.long0 = a.longc), !a.lat_ts && a.lat1 && (a.projName === "Stereographic_South_Pole" || a.projName === "Polar Stereographic (variant B)") && (a.lat0 = Fs(a.lat1 > 0 ? 90 : -90), a.lat_ts = a.lat1);
}
function B2(a) {
  var t = vT(a), e = t.shift(), i = t.shift();
  t.unshift(["name", i]), t.unshift(["type", e]);
  var n = {};
  return Vu(t, n), wT(n), n;
}
function Bn(a) {
  var t = this;
  if (arguments.length === 2) {
    var e = arguments[1];
    typeof e == "string" ? e.charAt(0) === "+" ? Bn[a] = fg(arguments[1]) : Bn[a] = B2(arguments[1]) : Bn[a] = e;
  } else if (arguments.length === 1) {
    if (Array.isArray(a))
      return a.map(function(i) {
        Array.isArray(i) ? Bn.apply(t, i) : Bn(i);
      });
    if (typeof a == "string") {
      if (a in Bn)
        return Bn[a];
    } else
      "EPSG" in a ? Bn["EPSG:" + a.EPSG] = a : "ESRI" in a ? Bn["ESRI:" + a.ESRI] = a : "IAU2000" in a ? Bn["IAU2000:" + a.IAU2000] = a : console.log(a);
    return;
  }
}
uT(Bn);
function ST(a) {
  return typeof a == "string";
}
function TT(a) {
  return a in Bn;
}
var MT = ["PROJECTEDCRS", "PROJCRS", "GEOGCS", "GEOCCS", "PROJCS", "LOCAL_CS", "GEODCRS", "GEODETICCRS", "GEODETICDATUM", "ENGCRS", "ENGINEERINGCRS"];
function ET(a) {
  return MT.some(function(t) {
    return a.indexOf(t) > -1;
  });
}
var LT = ["3857", "900913", "3785", "102113"];
function CT(a) {
  var t = Uo(a, "authority");
  if (t) {
    var e = Uo(t, "epsg");
    return e && LT.indexOf(e) > -1;
  }
}
function AT(a) {
  var t = Uo(a, "extension");
  if (t)
    return Uo(t, "proj4");
}
function IT(a) {
  return a[0] === "+";
}
function PT(a) {
  if (ST(a)) {
    if (TT(a))
      return Bn[a];
    if (ET(a)) {
      var t = B2(a);
      if (CT(t))
        return Bn["EPSG:3857"];
      var e = AT(t);
      return e ? fg(e) : t;
    }
    if (IT(a))
      return fg(a);
  } else
    return a;
}
function E1(a, t) {
  a = a || {};
  var e, i;
  if (!t)
    return a;
  for (i in t)
    e = t[i], e !== void 0 && (a[i] = e);
  return a;
}
function vs(a, t, e) {
  var i = a * t;
  return e / Math.sqrt(1 - i * i);
}
function Qc(a) {
  return a < 0 ? -1 : 1;
}
function vt(a) {
  return Math.abs(a) <= yi ? a : a - Qc(a) * Nc;
}
function Qr(a, t, e) {
  var i = a * e, n = 0.5 * a;
  return i = Math.pow((1 - i) / (1 + i), n), Math.tan(0.5 * ($e - t)) / i;
}
function Fc(a, t) {
  for (var e = 0.5 * a, i, n, u = $e - 2 * Math.atan(t), _ = 0; _ <= 15; _++)
    if (i = a * Math.sin(u), n = $e - 2 * Math.atan(t * Math.pow((1 - i) / (1 + i), e)) - u, u += n, Math.abs(n) <= 1e-10)
      return u;
  return -9999;
}
function OT() {
  var a = this.b / this.a;
  this.es = 1 - a * a, "x0" in this || (this.x0 = 0), "y0" in this || (this.y0 = 0), this.e = Math.sqrt(this.es), this.lat_ts ? this.sphere ? this.k0 = Math.cos(this.lat_ts) : this.k0 = vs(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) : this.k0 || (this.k ? this.k0 = this.k : this.k0 = 1);
}
function RT(a) {
  var t = a.x, e = a.y;
  if (e * _s > 90 && e * _s < -90 && t * _s > 180 && t * _s < -180)
    return null;
  var i, n;
  if (Math.abs(Math.abs(e) - $e) <= dt)
    return null;
  if (this.sphere)
    i = this.x0 + this.a * this.k0 * vt(t - this.long0), n = this.y0 + this.a * this.k0 * Math.log(Math.tan(Sa + 0.5 * e));
  else {
    var u = Math.sin(e), _ = Qr(this.e, e, u);
    i = this.x0 + this.a * this.k0 * vt(t - this.long0), n = this.y0 - this.a * this.k0 * Math.log(_);
  }
  return a.x = i, a.y = n, a;
}
function kT(a) {
  var t = a.x - this.x0, e = a.y - this.y0, i, n;
  if (this.sphere)
    n = $e - 2 * Math.atan(Math.exp(-e / (this.a * this.k0)));
  else {
    var u = Math.exp(-e / (this.a * this.k0));
    if (n = Fc(this.e, u), n === -9999)
      return null;
  }
  return i = vt(this.long0 + t / (this.a * this.k0)), a.x = i, a.y = n, a;
}
var DT = ["Mercator", "Popular Visualisation Pseudo Mercator", "Mercator_1SP", "Mercator_Auxiliary_Sphere", "merc"];
const WT = {
  init: OT,
  forward: RT,
  inverse: kT,
  names: DT
};
function zT() {
}
function L1(a) {
  return a;
}
var BT = ["longlat", "identity"];
const NT = {
  init: zT,
  forward: L1,
  inverse: L1,
  names: BT
};
var qT = [WT, NT], Jm = {}, _h = [];
function N2(a, t) {
  var e = _h.length;
  return a.names ? (_h[e] = a, a.names.forEach(function(i) {
    Jm[i.toLowerCase()] = e;
  }), this) : (console.log(t), !0);
}
function FT(a) {
  if (!a)
    return !1;
  var t = a.toLowerCase();
  if (typeof Jm[t] < "u" && _h[Jm[t]])
    return _h[Jm[t]];
}
function GT() {
  qT.forEach(N2);
}
const UT = {
  start: GT,
  add: N2,
  get: FT
};
var qt = {};
qt.MERIT = {
  a: 6378137,
  rf: 298.257,
  ellipseName: "MERIT 1983"
};
qt.SGS85 = {
  a: 6378136,
  rf: 298.257,
  ellipseName: "Soviet Geodetic System 85"
};
qt.GRS80 = {
  a: 6378137,
  rf: 298.257222101,
  ellipseName: "GRS 1980(IUGG, 1980)"
};
qt.IAU76 = {
  a: 6378140,
  rf: 298.257,
  ellipseName: "IAU 1976"
};
qt.airy = {
  a: 6377563396e-3,
  b: 635625691e-2,
  ellipseName: "Airy 1830"
};
qt.APL4 = {
  a: 6378137,
  rf: 298.25,
  ellipseName: "Appl. Physics. 1965"
};
qt.NWL9D = {
  a: 6378145,
  rf: 298.25,
  ellipseName: "Naval Weapons Lab., 1965"
};
qt.mod_airy = {
  a: 6377340189e-3,
  b: 6356034446e-3,
  ellipseName: "Modified Airy"
};
qt.andrae = {
  a: 637710443e-2,
  rf: 300,
  ellipseName: "Andrae 1876 (Den., Iclnd.)"
};
qt.aust_SA = {
  a: 6378160,
  rf: 298.25,
  ellipseName: "Australian Natl & S. Amer. 1969"
};
qt.GRS67 = {
  a: 6378160,
  rf: 298.247167427,
  ellipseName: "GRS 67(IUGG 1967)"
};
qt.bessel = {
  a: 6377397155e-3,
  rf: 299.1528128,
  ellipseName: "Bessel 1841"
};
qt.bess_nam = {
  a: 6377483865e-3,
  rf: 299.1528128,
  ellipseName: "Bessel 1841 (Namibia)"
};
qt.clrk66 = {
  a: 63782064e-1,
  b: 63565838e-1,
  ellipseName: "Clarke 1866"
};
qt.clrk80 = {
  a: 6378249145e-3,
  rf: 293.4663,
  ellipseName: "Clarke 1880 mod."
};
qt.clrk80ign = {
  a: 63782492e-1,
  b: 6356515,
  rf: 293.4660213,
  ellipseName: "Clarke 1880 (IGN)"
};
qt.clrk58 = {
  a: 6378293645208759e-9,
  rf: 294.2606763692654,
  ellipseName: "Clarke 1858"
};
qt.CPM = {
  a: 63757387e-1,
  rf: 334.29,
  ellipseName: "Comm. des Poids et Mesures 1799"
};
qt.delmbr = {
  a: 6376428,
  rf: 311.5,
  ellipseName: "Delambre 1810 (Belgium)"
};
qt.engelis = {
  a: 637813605e-2,
  rf: 298.2566,
  ellipseName: "Engelis 1985"
};
qt.evrst30 = {
  a: 6377276345e-3,
  rf: 300.8017,
  ellipseName: "Everest 1830"
};
qt.evrst48 = {
  a: 6377304063e-3,
  rf: 300.8017,
  ellipseName: "Everest 1948"
};
qt.evrst56 = {
  a: 6377301243e-3,
  rf: 300.8017,
  ellipseName: "Everest 1956"
};
qt.evrst69 = {
  a: 6377295664e-3,
  rf: 300.8017,
  ellipseName: "Everest 1969"
};
qt.evrstSS = {
  a: 6377298556e-3,
  rf: 300.8017,
  ellipseName: "Everest (Sabah & Sarawak)"
};
qt.fschr60 = {
  a: 6378166,
  rf: 298.3,
  ellipseName: "Fischer (Mercury Datum) 1960"
};
qt.fschr60m = {
  a: 6378155,
  rf: 298.3,
  ellipseName: "Fischer 1960"
};
qt.fschr68 = {
  a: 6378150,
  rf: 298.3,
  ellipseName: "Fischer 1968"
};
qt.helmert = {
  a: 6378200,
  rf: 298.3,
  ellipseName: "Helmert 1906"
};
qt.hough = {
  a: 6378270,
  rf: 297,
  ellipseName: "Hough"
};
qt.intl = {
  a: 6378388,
  rf: 297,
  ellipseName: "International 1909 (Hayford)"
};
qt.kaula = {
  a: 6378163,
  rf: 298.24,
  ellipseName: "Kaula 1961"
};
qt.lerch = {
  a: 6378139,
  rf: 298.257,
  ellipseName: "Lerch 1979"
};
qt.mprts = {
  a: 6397300,
  rf: 191,
  ellipseName: "Maupertius 1738"
};
qt.new_intl = {
  a: 63781575e-1,
  b: 63567722e-1,
  ellipseName: "New International 1967"
};
qt.plessis = {
  a: 6376523,
  rf: 6355863,
  ellipseName: "Plessis 1817 (France)"
};
qt.krass = {
  a: 6378245,
  rf: 298.3,
  ellipseName: "Krassovsky, 1942"
};
qt.SEasia = {
  a: 6378155,
  b: 63567733205e-4,
  ellipseName: "Southeast Asia"
};
qt.walbeck = {
  a: 6376896,
  b: 63558348467e-4,
  ellipseName: "Walbeck"
};
qt.WGS60 = {
  a: 6378165,
  rf: 298.3,
  ellipseName: "WGS 60"
};
qt.WGS66 = {
  a: 6378145,
  rf: 298.25,
  ellipseName: "WGS 66"
};
qt.WGS7 = {
  a: 6378135,
  rf: 298.26,
  ellipseName: "WGS 72"
};
var jT = qt.WGS84 = {
  a: 6378137,
  rf: 298.257223563,
  ellipseName: "WGS 84"
};
qt.sphere = {
  a: 6370997,
  b: 6370997,
  ellipseName: "Normal Sphere (r=6370997)"
};
function VT(a, t, e, i) {
  var n = a * a, u = t * t, _ = (n - u) / n, o = 0;
  i ? (a *= 1 - _ * (_T + _ * (mT + _ * hT)), n = a * a, _ = 0) : o = Math.sqrt(_);
  var y = (n - u) / u;
  return {
    es: _,
    e: o,
    ep2: y
  };
}
function $T(a, t, e, i, n) {
  if (!a) {
    var u = Uo(qt, i);
    u || (u = jT), a = u.a, t = u.b, e = u.rf;
  }
  return e && !t && (t = (1 - 1 / e) * a), (e === 0 || Math.abs(a - t) < dt) && (n = !0, t = a), {
    a,
    b: t,
    rf: e,
    sphere: n
  };
}
var Qi = {};
Qi.wgs84 = {
  towgs84: "0,0,0",
  ellipse: "WGS84",
  datumName: "WGS84"
};
Qi.ch1903 = {
  towgs84: "674.374,15.056,405.346",
  ellipse: "bessel",
  datumName: "swiss"
};
Qi.ggrs87 = {
  towgs84: "-199.87,74.79,246.62",
  ellipse: "GRS80",
  datumName: "Greek_Geodetic_Reference_System_1987"
};
Qi.nad83 = {
  towgs84: "0,0,0",
  ellipse: "GRS80",
  datumName: "North_American_Datum_1983"
};
Qi.nad27 = {
  nadgrids: "@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",
  ellipse: "clrk66",
  datumName: "North_American_Datum_1927"
};
Qi.potsdam = {
  towgs84: "598.1,73.7,418.2,0.202,0.045,-2.455,6.7",
  ellipse: "bessel",
  datumName: "Potsdam Rauenberg 1950 DHDN"
};
Qi.carthage = {
  towgs84: "-263.0,6.0,431.0",
  ellipse: "clark80",
  datumName: "Carthage 1934 Tunisia"
};
Qi.hermannskogel = {
  towgs84: "577.326,90.129,463.919,5.137,1.474,5.297,2.4232",
  ellipse: "bessel",
  datumName: "Hermannskogel"
};
Qi.osni52 = {
  towgs84: "482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",
  ellipse: "airy",
  datumName: "Irish National"
};
Qi.ire65 = {
  towgs84: "482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",
  ellipse: "mod_airy",
  datumName: "Ireland 1965"
};
Qi.rassadiran = {
  towgs84: "-133.63,-157.5,-158.62",
  ellipse: "intl",
  datumName: "Rassadiran"
};
Qi.nzgd49 = {
  towgs84: "59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",
  ellipse: "intl",
  datumName: "New Zealand Geodetic Datum 1949"
};
Qi.osgb36 = {
  towgs84: "446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",
  ellipse: "airy",
  datumName: "Airy 1830"
};
Qi.s_jtsk = {
  towgs84: "589,76,480",
  ellipse: "bessel",
  datumName: "S-JTSK (Ferro)"
};
Qi.beduaram = {
  towgs84: "-106,-87,188",
  ellipse: "clrk80",
  datumName: "Beduaram"
};
Qi.gunung_segara = {
  towgs84: "-403,684,41",
  ellipse: "bessel",
  datumName: "Gunung Segara Jakarta"
};
Qi.rnb72 = {
  towgs84: "106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",
  ellipse: "intl",
  datumName: "Reseau National Belge 1972"
};
function ZT(a, t, e, i, n, u, _) {
  var o = {};
  return a === void 0 || a === "none" ? o.datum_type = pg : o.datum_type = dT, t && (o.datum_params = t.map(parseFloat), (o.datum_params[0] !== 0 || o.datum_params[1] !== 0 || o.datum_params[2] !== 0) && (o.datum_type = $l), o.datum_params.length > 3 && (o.datum_params[3] !== 0 || o.datum_params[4] !== 0 || o.datum_params[5] !== 0 || o.datum_params[6] !== 0) && (o.datum_type = Zl, o.datum_params[3] *= Mc, o.datum_params[4] *= Mc, o.datum_params[5] *= Mc, o.datum_params[6] = o.datum_params[6] / 1e6 + 1)), _ && (o.datum_type = Ju, o.grids = _), o.a = e, o.b = i, o.es = n, o.ep2 = u, o;
}
var q2 = {};
function HT(a, t) {
  var e = new DataView(t), i = YT(e), n = QT(e, i);
  n.nSubgrids > 1 && console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");
  var u = JT(e, n, i), _ = { header: n, subgrids: u };
  return q2[a] = _, _;
}
function XT(a) {
  if (a === void 0)
    return null;
  var t = a.split(",");
  return t.map(KT);
}
function KT(a) {
  if (a.length === 0)
    return null;
  var t = a[0] === "@";
  return t && (a = a.slice(1)), a === "null" ? { name: "null", mandatory: !t, grid: null, isNull: !0 } : {
    name: a,
    mandatory: !t,
    grid: q2[a] || null,
    isNull: !1
  };
}
function $u(a) {
  return a / 3600 * Math.PI / 180;
}
function YT(a) {
  var t = a.getInt32(8, !1);
  return t === 11 ? !1 : (t = a.getInt32(8, !0), t !== 11 && console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"), !0);
}
function QT(a, t) {
  return {
    nFields: a.getInt32(8, t),
    nSubgridFields: a.getInt32(24, t),
    nSubgrids: a.getInt32(40, t),
    shiftType: gg(a, 56, 56 + 8).trim(),
    fromSemiMajorAxis: a.getFloat64(120, t),
    fromSemiMinorAxis: a.getFloat64(136, t),
    toSemiMajorAxis: a.getFloat64(152, t),
    toSemiMinorAxis: a.getFloat64(168, t)
  };
}
function gg(a, t, e) {
  return String.fromCharCode.apply(null, new Uint8Array(a.buffer.slice(t, e)));
}
function JT(a, t, e) {
  for (var i = 176, n = [], u = 0; u < t.nSubgrids; u++) {
    var _ = t5(a, i, e), o = a5(a, i, _, e), y = Math.round(
      1 + (_.upperLongitude - _.lowerLongitude) / _.longitudeInterval
    ), b = Math.round(
      1 + (_.upperLatitude - _.lowerLatitude) / _.latitudeInterval
    );
    n.push({
      ll: [$u(_.lowerLongitude), $u(_.lowerLatitude)],
      del: [$u(_.longitudeInterval), $u(_.latitudeInterval)],
      lim: [y, b],
      count: _.gridNodeCount,
      cvs: e5(o)
    });
  }
  return n;
}
function e5(a) {
  return a.map(function(t) {
    return [$u(t.longitudeShift), $u(t.latitudeShift)];
  });
}
function t5(a, t, e) {
  return {
    name: gg(a, t + 8, t + 16).trim(),
    parent: gg(a, t + 24, t + 24 + 8).trim(),
    lowerLatitude: a.getFloat64(t + 72, e),
    upperLatitude: a.getFloat64(t + 88, e),
    lowerLongitude: a.getFloat64(t + 104, e),
    upperLongitude: a.getFloat64(t + 120, e),
    latitudeInterval: a.getFloat64(t + 136, e),
    longitudeInterval: a.getFloat64(t + 152, e),
    gridNodeCount: a.getInt32(t + 168, e)
  };
}
function a5(a, t, e, i) {
  for (var n = t + 176, u = 16, _ = [], o = 0; o < e.gridNodeCount; o++) {
    var y = {
      latitudeShift: a.getFloat32(n + o * u, i),
      longitudeShift: a.getFloat32(n + o * u + 4, i),
      latitudeAccuracy: a.getFloat32(n + o * u + 8, i),
      longitudeAccuracy: a.getFloat32(n + o * u + 12, i)
    };
    _.push(y);
  }
  return _;
}
function ps(a, t) {
  if (!(this instanceof ps))
    return new ps(a);
  t = t || function(b) {
    if (b)
      throw b;
  };
  var e = PT(a);
  if (typeof e != "object") {
    t(a);
    return;
  }
  var i = ps.projections.get(e.projName);
  if (!i) {
    t(a);
    return;
  }
  if (e.datumCode && e.datumCode !== "none") {
    var n = Uo(Qi, e.datumCode);
    n && (e.datum_params = e.datum_params || (n.towgs84 ? n.towgs84.split(",") : null), e.ellps = n.ellipse, e.datumName = n.datumName ? n.datumName : e.datumCode);
  }
  e.k0 = e.k0 || 1, e.axis = e.axis || "enu", e.ellps = e.ellps || "wgs84", e.lat1 = e.lat1 || e.lat0;
  var u = $T(e.a, e.b, e.rf, e.ellps, e.sphere), _ = VT(u.a, u.b, u.rf, e.R_A), o = XT(e.nadgrids), y = e.datum || ZT(
    e.datumCode,
    e.datum_params,
    u.a,
    u.b,
    _.es,
    _.ep2,
    o
  );
  E1(this, e), E1(this, i), this.a = u.a, this.b = u.b, this.rf = u.rf, this.sphere = u.sphere, this.es = _.es, this.e = _.e, this.ep2 = _.ep2, this.datum = y, this.init(), t(null, this);
}
ps.projections = UT;
ps.projections.start();
function i5(a, t) {
  return a.datum_type !== t.datum_type || a.a !== t.a || Math.abs(a.es - t.es) > 5e-11 ? !1 : a.datum_type === $l ? a.datum_params[0] === t.datum_params[0] && a.datum_params[1] === t.datum_params[1] && a.datum_params[2] === t.datum_params[2] : a.datum_type === Zl ? a.datum_params[0] === t.datum_params[0] && a.datum_params[1] === t.datum_params[1] && a.datum_params[2] === t.datum_params[2] && a.datum_params[3] === t.datum_params[3] && a.datum_params[4] === t.datum_params[4] && a.datum_params[5] === t.datum_params[5] && a.datum_params[6] === t.datum_params[6] : !0;
}
function F2(a, t, e) {
  var i = a.x, n = a.y, u = a.z ? a.z : 0, _, o, y, b;
  if (n < -$e && n > -1.001 * $e)
    n = -$e;
  else if (n > $e && n < 1.001 * $e)
    n = $e;
  else {
    if (n < -$e)
      return { x: -1 / 0, y: -1 / 0, z: a.z };
    if (n > $e)
      return { x: 1 / 0, y: 1 / 0, z: a.z };
  }
  return i > Math.PI && (i -= 2 * Math.PI), o = Math.sin(n), b = Math.cos(n), y = o * o, _ = e / Math.sqrt(1 - t * y), {
    x: (_ + u) * b * Math.cos(i),
    y: (_ + u) * b * Math.sin(i),
    z: (_ * (1 - t) + u) * o
  };
}
function G2(a, t, e, i) {
  var n = 1e-12, u = n * n, _ = 30, o, y, b, S, T, L, R, D, j, Q, ie, J, _e, ce = a.x, we = a.y, Be = a.z ? a.z : 0, Ee, Fe, We;
  if (o = Math.sqrt(ce * ce + we * we), y = Math.sqrt(ce * ce + we * we + Be * Be), o / e < n) {
    if (Ee = 0, y / e < n)
      return Fe = $e, We = -i, {
        x: a.x,
        y: a.y,
        z: a.z
      };
  } else
    Ee = Math.atan2(we, ce);
  b = Be / y, S = o / y, T = 1 / Math.sqrt(1 - t * (2 - t) * S * S), D = S * (1 - t) * T, j = b * T, _e = 0;
  do
    _e++, R = e / Math.sqrt(1 - t * j * j), We = o * D + Be * j - R * (1 - t * j * j), L = t * R / (R + We), T = 1 / Math.sqrt(1 - L * (2 - L) * S * S), Q = S * (1 - L) * T, ie = b * T, J = ie * D - Q * j, D = Q, j = ie;
  while (J * J > u && _e < _);
  return Fe = Math.atan(ie / Math.abs(Q)), {
    x: Ee,
    y: Fe,
    z: We
  };
}
function n5(a, t, e) {
  if (t === $l)
    return {
      x: a.x + e[0],
      y: a.y + e[1],
      z: a.z + e[2]
    };
  if (t === Zl) {
    var i = e[0], n = e[1], u = e[2], _ = e[3], o = e[4], y = e[5], b = e[6];
    return {
      x: b * (a.x - y * a.y + o * a.z) + i,
      y: b * (y * a.x + a.y - _ * a.z) + n,
      z: b * (-o * a.x + _ * a.y + a.z) + u
    };
  }
}
function r5(a, t, e) {
  if (t === $l)
    return {
      x: a.x - e[0],
      y: a.y - e[1],
      z: a.z - e[2]
    };
  if (t === Zl) {
    var i = e[0], n = e[1], u = e[2], _ = e[3], o = e[4], y = e[5], b = e[6], S = (a.x - i) / b, T = (a.y - n) / b, L = (a.z - u) / b;
    return {
      x: S + y * T - o * L,
      y: -y * S + T + _ * L,
      z: o * S - _ * T + L
    };
  }
}
function Tm(a) {
  return a === $l || a === Zl;
}
function s5(a, t, e) {
  if (i5(a, t) || a.datum_type === pg || t.datum_type === pg)
    return e;
  var i = a.a, n = a.es;
  if (a.datum_type === Ju) {
    var u = C1(a, !1, e);
    if (u !== 0)
      return;
    i = w1, n = S1;
  }
  var _ = t.a, o = t.b, y = t.es;
  if (t.datum_type === Ju && (_ = w1, o = cT, y = S1), n === y && i === _ && !Tm(a.datum_type) && !Tm(t.datum_type))
    return e;
  if (e = F2(e, n, i), Tm(a.datum_type) && (e = n5(e, a.datum_type, a.datum_params)), Tm(t.datum_type) && (e = r5(e, t.datum_type, t.datum_params)), e = G2(e, y, _, o), t.datum_type === Ju) {
    var b = C1(t, !0, e);
    if (b !== 0)
      return;
  }
  return e;
}
function C1(a, t, e) {
  if (a.grids === null || a.grids.length === 0)
    return console.log("Grid shift grids not found"), -1;
  for (var i = { x: -e.x, y: e.y }, n = { x: Number.NaN, y: Number.NaN }, u = [], _ = 0; _ < a.grids.length; _++) {
    var o = a.grids[_];
    if (u.push(o.name), o.isNull) {
      n = i;
      break;
    }
    if (o.mandatory, o.grid === null) {
      if (o.mandatory)
        return console.log("Unable to find mandatory grid '" + o.name + "'"), -1;
      continue;
    }
    var y = o.grid.subgrids[0], b = (Math.abs(y.del[1]) + Math.abs(y.del[0])) / 1e4, S = y.ll[0] - b, T = y.ll[1] - b, L = y.ll[0] + (y.lim[0] - 1) * y.del[0] + b, R = y.ll[1] + (y.lim[1] - 1) * y.del[1] + b;
    if (!(T > i.y || S > i.x || R < i.y || L < i.x) && (n = o5(i, t, y), !isNaN(n.x)))
      break;
  }
  return isNaN(n.x) ? (console.log("Failed to find a grid shift table for location '" + -i.x * _s + " " + i.y * _s + " tried: '" + u + "'"), -1) : (e.x = -n.x, e.y = n.y, 0);
}
function o5(a, t, e) {
  var i = { x: Number.NaN, y: Number.NaN };
  if (isNaN(a.x))
    return i;
  var n = { x: a.x, y: a.y };
  n.x -= e.ll[0], n.y -= e.ll[1], n.x = vt(n.x - Math.PI) + Math.PI;
  var u = A1(n, e);
  if (t) {
    if (isNaN(u.x))
      return i;
    u.x = n.x - u.x, u.y = n.y - u.y;
    var _ = 9, o = 1e-12, y, b;
    do {
      if (b = A1(u, e), isNaN(b.x)) {
        console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");
        break;
      }
      y = { x: n.x - (b.x + u.x), y: n.y - (b.y + u.y) }, u.x += y.x, u.y += y.y;
    } while (_-- && Math.abs(y.x) > o && Math.abs(y.y) > o);
    if (_ < 0)
      return console.log("Inverse grid shift iterator failed to converge."), i;
    i.x = vt(u.x + e.ll[0]), i.y = u.y + e.ll[1];
  } else
    isNaN(u.x) || (i.x = a.x + u.x, i.y = a.y + u.y);
  return i;
}
function A1(a, t) {
  var e = { x: a.x / t.del[0], y: a.y / t.del[1] }, i = { x: Math.floor(e.x), y: Math.floor(e.y) }, n = { x: e.x - 1 * i.x, y: e.y - 1 * i.y }, u = { x: Number.NaN, y: Number.NaN }, _;
  if (i.x < 0 || i.x >= t.lim[0] || i.y < 0 || i.y >= t.lim[1])
    return u;
  _ = i.y * t.lim[0] + i.x;
  var o = { x: t.cvs[_][0], y: t.cvs[_][1] };
  _++;
  var y = { x: t.cvs[_][0], y: t.cvs[_][1] };
  _ += t.lim[0];
  var b = { x: t.cvs[_][0], y: t.cvs[_][1] };
  _--;
  var S = { x: t.cvs[_][0], y: t.cvs[_][1] }, T = n.x * n.y, L = n.x * (1 - n.y), R = (1 - n.x) * (1 - n.y), D = (1 - n.x) * n.y;
  return u.x = R * o.x + L * y.x + D * S.x + T * b.x, u.y = R * o.y + L * y.y + D * S.y + T * b.y, u;
}
function I1(a, t, e) {
  var i = e.x, n = e.y, u = e.z || 0, _, o, y, b = {};
  for (y = 0; y < 3; y++)
    if (!(t && y === 2 && e.z === void 0))
      switch (y === 0 ? (_ = i, "ew".indexOf(a.axis[y]) !== -1 ? o = "x" : o = "y") : y === 1 ? (_ = n, "ns".indexOf(a.axis[y]) !== -1 ? o = "y" : o = "x") : (_ = u, o = "z"), a.axis[y]) {
        case "e":
          b[o] = _;
          break;
        case "w":
          b[o] = -_;
          break;
        case "n":
          b[o] = _;
          break;
        case "s":
          b[o] = -_;
          break;
        case "u":
          e[o] !== void 0 && (b.z = _);
          break;
        case "d":
          e[o] !== void 0 && (b.z = -_);
          break;
        default:
          return null;
      }
  return b;
}
function U2(a) {
  var t = {
    x: a[0],
    y: a[1]
  };
  return a.length > 2 && (t.z = a[2]), a.length > 3 && (t.m = a[3]), t;
}
function l5(a) {
  P1(a.x), P1(a.y);
}
function P1(a) {
  if (typeof Number.isFinite == "function") {
    if (Number.isFinite(a))
      return;
    throw new TypeError("coordinates must be finite numbers");
  }
  if (typeof a != "number" || a !== a || !isFinite(a))
    throw new TypeError("coordinates must be finite numbers");
}
function u5(a, t) {
  return (a.datum.datum_type === $l || a.datum.datum_type === Zl || a.datum.datum_type === Ju) && t.datumCode !== "WGS84" || (t.datum.datum_type === $l || t.datum.datum_type === Zl || t.datum.datum_type === Ju) && a.datumCode !== "WGS84";
}
function mh(a, t, e, i) {
  var n;
  Array.isArray(e) ? e = U2(e) : e = {
    x: e.x,
    y: e.y,
    z: e.z,
    m: e.m
  };
  var u = e.z !== void 0;
  if (l5(e), a.datum && t.datum && u5(a, t) && (n = new ps("WGS84"), e = mh(a, n, e, i), a = n), i && a.axis !== "enu" && (e = I1(a, !1, e)), a.projName === "longlat")
    e = {
      x: e.x * ln,
      y: e.y * ln,
      z: e.z || 0
    };
  else if (a.to_meter && (e = {
    x: e.x * a.to_meter,
    y: e.y * a.to_meter,
    z: e.z || 0
  }), e = a.inverse(e), !e)
    return;
  if (a.from_greenwich && (e.x += a.from_greenwich), e = s5(a.datum, t.datum, e), !!e)
    return t.from_greenwich && (e = {
      x: e.x - t.from_greenwich,
      y: e.y,
      z: e.z || 0
    }), t.projName === "longlat" ? e = {
      x: e.x * _s,
      y: e.y * _s,
      z: e.z || 0
    } : (e = t.forward(e), t.to_meter && (e = {
      x: e.x / t.to_meter,
      y: e.y / t.to_meter,
      z: e.z || 0
    })), i && t.axis !== "enu" ? I1(t, !0, e) : (u || delete e.z, e);
}
var O1 = ps("WGS84");
function Sf(a, t, e, i) {
  var n, u, _;
  return Array.isArray(e) ? (n = mh(a, t, e, i) || { x: NaN, y: NaN }, e.length > 2 ? typeof a.name < "u" && a.name === "geocent" || typeof t.name < "u" && t.name === "geocent" ? typeof n.z == "number" ? [n.x, n.y, n.z].concat(e.splice(3)) : [n.x, n.y, e[2]].concat(e.splice(3)) : [n.x, n.y].concat(e.splice(2)) : [n.x, n.y]) : (u = mh(a, t, e, i), _ = Object.keys(e), _.length === 2 || _.forEach(function(o) {
    if (typeof a.name < "u" && a.name === "geocent" || typeof t.name < "u" && t.name === "geocent") {
      if (o === "x" || o === "y" || o === "z")
        return;
    } else if (o === "x" || o === "y")
      return;
    u[o] = e[o];
  }), u);
}
function R1(a) {
  return a instanceof ps ? a : a.oProj ? a.oProj : ps(a);
}
function Sn(a, t, e) {
  a = R1(a);
  var i = !1, n;
  return typeof t > "u" ? (t = a, a = O1, i = !0) : (typeof t.x < "u" || Array.isArray(t)) && (e = t, t = a, a = O1, i = !0), t = R1(t), e ? Sf(a, t, e) : (n = {
    forward: function(u, _) {
      return Sf(a, t, u, _);
    },
    inverse: function(u, _) {
      return Sf(t, a, u, _);
    }
  }, i && (n.oProj = t), n);
}
var k1 = 6, j2 = "AJSAJS", V2 = "AFAFAF", Zu = 65, Xn = 73, Er = 79, gc = 86, yc = 90;
const d5 = {
  forward: $2,
  inverse: c5,
  toPoint: Z2
};
function $2(a, t) {
  return t = t || 5, h5(_5({
    lat: a[1],
    lon: a[0]
  }), t);
}
function c5(a) {
  var t = Zg(X2(a.toUpperCase()));
  return t.lat && t.lon ? [t.lon, t.lat, t.lon, t.lat] : [t.left, t.bottom, t.right, t.top];
}
function Z2(a) {
  var t = Zg(X2(a.toUpperCase()));
  return t.lat && t.lon ? [t.lon, t.lat] : [(t.left + t.right) / 2, (t.top + t.bottom) / 2];
}
function Tf(a) {
  return a * (Math.PI / 180);
}
function D1(a) {
  return 180 * (a / Math.PI);
}
function _5(a) {
  var t = a.lat, e = a.lon, i = 6378137, n = 669438e-8, u = 0.9996, _, o, y, b, S, T, L, R = Tf(t), D = Tf(e), j, Q;
  Q = Math.floor((e + 180) / 6) + 1, e === 180 && (Q = 60), t >= 56 && t < 64 && e >= 3 && e < 12 && (Q = 32), t >= 72 && t < 84 && (e >= 0 && e < 9 ? Q = 31 : e >= 9 && e < 21 ? Q = 33 : e >= 21 && e < 33 ? Q = 35 : e >= 33 && e < 42 && (Q = 37)), _ = (Q - 1) * 6 - 180 + 3, j = Tf(_), o = n / (1 - n), y = i / Math.sqrt(1 - n * Math.sin(R) * Math.sin(R)), b = Math.tan(R) * Math.tan(R), S = o * Math.cos(R) * Math.cos(R), T = Math.cos(R) * (D - j), L = i * ((1 - n / 4 - 3 * n * n / 64 - 5 * n * n * n / 256) * R - (3 * n / 8 + 3 * n * n / 32 + 45 * n * n * n / 1024) * Math.sin(2 * R) + (15 * n * n / 256 + 45 * n * n * n / 1024) * Math.sin(4 * R) - 35 * n * n * n / 3072 * Math.sin(6 * R));
  var ie = u * y * (T + (1 - b + S) * T * T * T / 6 + (5 - 18 * b + b * b + 72 * S - 58 * o) * T * T * T * T * T / 120) + 5e5, J = u * (L + y * Math.tan(R) * (T * T / 2 + (5 - b + 9 * S + 4 * S * S) * T * T * T * T / 24 + (61 - 58 * b + b * b + 600 * S - 330 * o) * T * T * T * T * T * T / 720));
  return t < 0 && (J += 1e7), {
    northing: Math.round(J),
    easting: Math.round(ie),
    zoneNumber: Q,
    zoneLetter: m5(t)
  };
}
function Zg(a) {
  var t = a.northing, e = a.easting, i = a.zoneLetter, n = a.zoneNumber;
  if (n < 0 || n > 60)
    return null;
  var u = 0.9996, _ = 6378137, o = 669438e-8, y, b = (1 - Math.sqrt(1 - o)) / (1 + Math.sqrt(1 - o)), S, T, L, R, D, j, Q, ie, J, _e = e - 5e5, ce = t;
  i < "N" && (ce -= 1e7), Q = (n - 1) * 6 - 180 + 3, y = o / (1 - o), j = ce / u, ie = j / (_ * (1 - o / 4 - 3 * o * o / 64 - 5 * o * o * o / 256)), J = ie + (3 * b / 2 - 27 * b * b * b / 32) * Math.sin(2 * ie) + (21 * b * b / 16 - 55 * b * b * b * b / 32) * Math.sin(4 * ie) + 151 * b * b * b / 96 * Math.sin(6 * ie), S = _ / Math.sqrt(1 - o * Math.sin(J) * Math.sin(J)), T = Math.tan(J) * Math.tan(J), L = y * Math.cos(J) * Math.cos(J), R = _ * (1 - o) / Math.pow(1 - o * Math.sin(J) * Math.sin(J), 1.5), D = _e / (S * u);
  var we = J - S * Math.tan(J) / R * (D * D / 2 - (5 + 3 * T + 10 * L - 4 * L * L - 9 * y) * D * D * D * D / 24 + (61 + 90 * T + 298 * L + 45 * T * T - 252 * y - 3 * L * L) * D * D * D * D * D * D / 720);
  we = D1(we);
  var Be = (D - (1 + 2 * T + L) * D * D * D / 6 + (5 - 2 * L + 28 * T - 3 * L * L + 8 * y + 24 * T * T) * D * D * D * D * D / 120) / Math.cos(J);
  Be = Q + D1(Be);
  var Ee;
  if (a.accuracy) {
    var Fe = Zg({
      northing: a.northing + a.accuracy,
      easting: a.easting + a.accuracy,
      zoneLetter: a.zoneLetter,
      zoneNumber: a.zoneNumber
    });
    Ee = {
      top: Fe.lat,
      right: Fe.lon,
      bottom: we,
      left: Be
    };
  } else
    Ee = {
      lat: we,
      lon: Be
    };
  return Ee;
}
function m5(a) {
  var t = "Z";
  return 84 >= a && a >= 72 ? t = "X" : 72 > a && a >= 64 ? t = "W" : 64 > a && a >= 56 ? t = "V" : 56 > a && a >= 48 ? t = "U" : 48 > a && a >= 40 ? t = "T" : 40 > a && a >= 32 ? t = "S" : 32 > a && a >= 24 ? t = "R" : 24 > a && a >= 16 ? t = "Q" : 16 > a && a >= 8 ? t = "P" : 8 > a && a >= 0 ? t = "N" : 0 > a && a >= -8 ? t = "M" : -8 > a && a >= -16 ? t = "L" : -16 > a && a >= -24 ? t = "K" : -24 > a && a >= -32 ? t = "J" : -32 > a && a >= -40 ? t = "H" : -40 > a && a >= -48 ? t = "G" : -48 > a && a >= -56 ? t = "F" : -56 > a && a >= -64 ? t = "E" : -64 > a && a >= -72 ? t = "D" : -72 > a && a >= -80 && (t = "C"), t;
}
function h5(a, t) {
  var e = "00000" + a.easting, i = "00000" + a.northing;
  return a.zoneNumber + a.zoneLetter + p5(a.easting, a.northing, a.zoneNumber) + e.substr(e.length - 5, t) + i.substr(i.length - 5, t);
}
function p5(a, t, e) {
  var i = H2(e), n = Math.floor(a / 1e5), u = Math.floor(t / 1e5) % 20;
  return f5(n, u, i);
}
function H2(a) {
  var t = a % k1;
  return t === 0 && (t = k1), t;
}
function f5(a, t, e) {
  var i = e - 1, n = j2.charCodeAt(i), u = V2.charCodeAt(i), _ = n + a - 1, o = u + t, y = !1;
  _ > yc && (_ = _ - yc + Zu - 1, y = !0), (_ === Xn || n < Xn && _ > Xn || (_ > Xn || n < Xn) && y) && _++, (_ === Er || n < Er && _ > Er || (_ > Er || n < Er) && y) && (_++, _ === Xn && _++), _ > yc && (_ = _ - yc + Zu - 1), o > gc ? (o = o - gc + Zu - 1, y = !0) : y = !1, (o === Xn || u < Xn && o > Xn || (o > Xn || u < Xn) && y) && o++, (o === Er || u < Er && o > Er || (o > Er || u < Er) && y) && (o++, o === Xn && o++), o > gc && (o = o - gc + Zu - 1);
  var b = String.fromCharCode(_) + String.fromCharCode(o);
  return b;
}
function X2(a) {
  if (a && a.length === 0)
    throw "MGRSPoint coverting from nothing";
  for (var t = a.length, e = null, i = "", n, u = 0; !/[A-Z]/.test(n = a.charAt(u)); ) {
    if (u >= 2)
      throw "MGRSPoint bad conversion from: " + a;
    i += n, u++;
  }
  var _ = parseInt(i, 10);
  if (u === 0 || u + 3 > t)
    throw "MGRSPoint bad conversion from: " + a;
  var o = a.charAt(u++);
  if (o <= "A" || o === "B" || o === "Y" || o >= "Z" || o === "I" || o === "O")
    throw "MGRSPoint zone letter " + o + " not handled: " + a;
  e = a.substring(u, u += 2);
  for (var y = H2(_), b = g5(e.charAt(0), y), S = y5(e.charAt(1), y); S < v5(o); )
    S += 2e6;
  var T = t - u;
  if (T % 2 !== 0)
    throw `MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters` + a;
  var L = T / 2, R = 0, D = 0, j, Q, ie, J, _e;
  return L > 0 && (j = 1e5 / Math.pow(10, L), Q = a.substring(u, u + L), R = parseFloat(Q) * j, ie = a.substring(u + L), D = parseFloat(ie) * j), J = R + b, _e = D + S, {
    easting: J,
    northing: _e,
    zoneLetter: o,
    zoneNumber: _,
    accuracy: j
  };
}
function g5(a, t) {
  for (var e = j2.charCodeAt(t - 1), i = 1e5, n = !1; e !== a.charCodeAt(0); ) {
    if (e++, e === Xn && e++, e === Er && e++, e > yc) {
      if (n)
        throw "Bad character: " + a;
      e = Zu, n = !0;
    }
    i += 1e5;
  }
  return i;
}
function y5(a, t) {
  if (a > "V")
    throw "MGRSPoint given invalid Northing " + a;
  for (var e = V2.charCodeAt(t - 1), i = 0, n = !1; e !== a.charCodeAt(0); ) {
    if (e++, e === Xn && e++, e === Er && e++, e > gc) {
      if (n)
        throw "Bad character: " + a;
      e = Zu, n = !0;
    }
    i += 1e5;
  }
  return i;
}
function v5(a) {
  var t;
  switch (a) {
    case "C":
      t = 11e5;
      break;
    case "D":
      t = 2e6;
      break;
    case "E":
      t = 28e5;
      break;
    case "F":
      t = 37e5;
      break;
    case "G":
      t = 46e5;
      break;
    case "H":
      t = 55e5;
      break;
    case "J":
      t = 64e5;
      break;
    case "K":
      t = 73e5;
      break;
    case "L":
      t = 82e5;
      break;
    case "M":
      t = 91e5;
      break;
    case "N":
      t = 0;
      break;
    case "P":
      t = 8e5;
      break;
    case "Q":
      t = 17e5;
      break;
    case "R":
      t = 26e5;
      break;
    case "S":
      t = 35e5;
      break;
    case "T":
      t = 44e5;
      break;
    case "U":
      t = 53e5;
      break;
    case "V":
      t = 62e5;
      break;
    case "W":
      t = 7e6;
      break;
    case "X":
      t = 79e5;
      break;
    default:
      t = -1;
  }
  if (t >= 0)
    return t;
  throw "Invalid zone letter: " + a;
}
function sd(a, t, e) {
  if (!(this instanceof sd))
    return new sd(a, t, e);
  if (Array.isArray(a))
    this.x = a[0], this.y = a[1], this.z = a[2] || 0;
  else if (typeof a == "object")
    this.x = a.x, this.y = a.y, this.z = a.z || 0;
  else if (typeof a == "string" && typeof t > "u") {
    var i = a.split(",");
    this.x = parseFloat(i[0], 10), this.y = parseFloat(i[1], 10), this.z = parseFloat(i[2], 10) || 0;
  } else
    this.x = a, this.y = t, this.z = e || 0;
  console.warn("proj4.Point will be removed in version 3, use proj4.toPoint");
}
sd.fromMGRS = function(a) {
  return new sd(Z2(a));
};
sd.prototype.toMGRS = function(a) {
  return $2([this.x, this.y], a);
};
var b5 = 1, x5 = 0.25, W1 = 0.046875, z1 = 0.01953125, B1 = 0.01068115234375, w5 = 0.75, S5 = 0.46875, T5 = 0.013020833333333334, M5 = 0.007120768229166667, E5 = 0.3645833333333333, L5 = 0.005696614583333333, C5 = 0.3076171875;
function K2(a) {
  var t = [];
  t[0] = b5 - a * (x5 + a * (W1 + a * (z1 + a * B1))), t[1] = a * (w5 - a * (W1 + a * (z1 + a * B1)));
  var e = a * a;
  return t[2] = e * (S5 - a * (T5 + a * M5)), e *= a, t[3] = e * (E5 - a * L5), t[4] = e * a * C5, t;
}
function Qh(a, t, e, i) {
  return e *= t, t *= t, i[0] * a - e * (i[1] + t * (i[2] + t * (i[3] + t * i[4])));
}
var A5 = 20;
function Y2(a, t, e) {
  for (var i = 1 / (1 - t), n = a, u = A5; u; --u) {
    var _ = Math.sin(n), o = 1 - t * _ * _;
    if (o = (Qh(n, _, Math.cos(n), e) - a) * (o * Math.sqrt(o)) * i, n -= o, Math.abs(o) < dt)
      return n;
  }
  return n;
}
function I5() {
  this.x0 = this.x0 !== void 0 ? this.x0 : 0, this.y0 = this.y0 !== void 0 ? this.y0 : 0, this.long0 = this.long0 !== void 0 ? this.long0 : 0, this.lat0 = this.lat0 !== void 0 ? this.lat0 : 0, this.es && (this.en = K2(this.es), this.ml0 = Qh(this.lat0, Math.sin(this.lat0), Math.cos(this.lat0), this.en));
}
function P5(a) {
  var t = a.x, e = a.y, i = vt(t - this.long0), n, u, _, o = Math.sin(e), y = Math.cos(e);
  if (this.es) {
    var S = y * i, T = Math.pow(S, 2), L = this.ep2 * Math.pow(y, 2), R = Math.pow(L, 2), D = Math.abs(y) > dt ? Math.tan(e) : 0, j = Math.pow(D, 2), Q = Math.pow(j, 2);
    n = 1 - this.es * Math.pow(o, 2), S = S / Math.sqrt(n);
    var ie = Qh(e, o, y, this.en);
    u = this.a * (this.k0 * S * (1 + T / 6 * (1 - j + L + T / 20 * (5 - 18 * j + Q + 14 * L - 58 * j * L + T / 42 * (61 + 179 * Q - Q * j - 479 * j))))) + this.x0, _ = this.a * (this.k0 * (ie - this.ml0 + o * i * S / 2 * (1 + T / 12 * (5 - j + 9 * L + 4 * R + T / 30 * (61 + Q - 58 * j + 270 * L - 330 * j * L + T / 56 * (1385 + 543 * Q - Q * j - 3111 * j)))))) + this.y0;
  } else {
    var b = y * Math.sin(i);
    if (Math.abs(Math.abs(b) - 1) < dt)
      return 93;
    if (u = 0.5 * this.a * this.k0 * Math.log((1 + b) / (1 - b)) + this.x0, _ = y * Math.cos(i) / Math.sqrt(1 - Math.pow(b, 2)), b = Math.abs(_), b >= 1) {
      if (b - 1 > dt)
        return 93;
      _ = 0;
    } else
      _ = Math.acos(_);
    e < 0 && (_ = -_), _ = this.a * this.k0 * (_ - this.lat0) + this.y0;
  }
  return a.x = u, a.y = _, a;
}
function O5(a) {
  var t, e, i, n, u = (a.x - this.x0) * (1 / this.a), _ = (a.y - this.y0) * (1 / this.a);
  if (this.es)
    if (t = this.ml0 + _ / this.k0, e = Y2(t, this.es, this.en), Math.abs(e) < $e) {
      var T = Math.sin(e), L = Math.cos(e), R = Math.abs(L) > dt ? Math.tan(e) : 0, D = this.ep2 * Math.pow(L, 2), j = Math.pow(D, 2), Q = Math.pow(R, 2), ie = Math.pow(Q, 2);
      t = 1 - this.es * Math.pow(T, 2);
      var J = u * Math.sqrt(t) / this.k0, _e = Math.pow(J, 2);
      t = t * R, i = e - t * _e / (1 - this.es) * 0.5 * (1 - _e / 12 * (5 + 3 * Q - 9 * D * Q + D - 4 * j - _e / 30 * (61 + 90 * Q - 252 * D * Q + 45 * ie + 46 * D - _e / 56 * (1385 + 3633 * Q + 4095 * ie + 1574 * ie * Q)))), n = vt(this.long0 + J * (1 - _e / 6 * (1 + 2 * Q + D - _e / 20 * (5 + 28 * Q + 24 * ie + 8 * D * Q + 6 * D - _e / 42 * (61 + 662 * Q + 1320 * ie + 720 * ie * Q)))) / L);
    } else
      i = $e * Qc(_), n = 0;
  else {
    var o = Math.exp(u / this.k0), y = 0.5 * (o - 1 / o), b = this.lat0 + _ / this.k0, S = Math.cos(b);
    t = Math.sqrt((1 - Math.pow(S, 2)) / (1 + Math.pow(y, 2))), i = Math.asin(t), _ < 0 && (i = -i), y === 0 && S === 0 ? n = 0 : n = vt(Math.atan2(y, S) + this.long0);
  }
  return a.x = n, a.y = i, a;
}
var R5 = ["Fast_Transverse_Mercator", "Fast Transverse Mercator"];
const eh = {
  init: I5,
  forward: P5,
  inverse: O5,
  names: R5
};
function Q2(a) {
  var t = Math.exp(a);
  return t = (t - 1 / t) / 2, t;
}
function Kr(a, t) {
  a = Math.abs(a), t = Math.abs(t);
  var e = Math.max(a, t), i = Math.min(a, t) / (e || 1);
  return e * Math.sqrt(1 + Math.pow(i, 2));
}
function k5(a) {
  var t = 1 + a, e = t - 1;
  return e === 0 ? a : a * Math.log(t) / e;
}
function D5(a) {
  var t = Math.abs(a);
  return t = k5(t * (1 + t / (Kr(1, t) + 1))), a < 0 ? -t : t;
}
function Hg(a, t) {
  for (var e = 2 * Math.cos(2 * t), i = a.length - 1, n = a[i], u = 0, _; --i >= 0; )
    _ = -u + e * n + a[i], u = n, n = _;
  return t + _ * Math.sin(2 * t);
}
function W5(a, t) {
  for (var e = 2 * Math.cos(t), i = a.length - 1, n = a[i], u = 0, _; --i >= 0; )
    _ = -u + e * n + a[i], u = n, n = _;
  return Math.sin(t) * _;
}
function z5(a) {
  var t = Math.exp(a);
  return t = (t + 1 / t) / 2, t;
}
function J2(a, t, e) {
  for (var i = Math.sin(t), n = Math.cos(t), u = Q2(e), _ = z5(e), o = 2 * n * _, y = -2 * i * u, b = a.length - 1, S = a[b], T = 0, L = 0, R = 0, D, j; --b >= 0; )
    D = L, j = T, L = S, T = R, S = -D + o * L - y * T + a[b], R = -j + y * L + o * T;
  return o = i * _, y = n * u, [o * S - y * R, o * R + y * S];
}
function B5() {
  if (!this.approx && (isNaN(this.es) || this.es <= 0))
    throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');
  this.approx && (eh.init.apply(this), this.forward = eh.forward, this.inverse = eh.inverse), this.x0 = this.x0 !== void 0 ? this.x0 : 0, this.y0 = this.y0 !== void 0 ? this.y0 : 0, this.long0 = this.long0 !== void 0 ? this.long0 : 0, this.lat0 = this.lat0 !== void 0 ? this.lat0 : 0, this.cgb = [], this.cbg = [], this.utg = [], this.gtu = [];
  var a = this.es / (1 + Math.sqrt(1 - this.es)), t = a / (2 - a), e = t;
  this.cgb[0] = t * (2 + t * (-2 / 3 + t * (-2 + t * (116 / 45 + t * (26 / 45 + t * (-2854 / 675)))))), this.cbg[0] = t * (-2 + t * (2 / 3 + t * (4 / 3 + t * (-82 / 45 + t * (32 / 45 + t * (4642 / 4725)))))), e = e * t, this.cgb[1] = e * (7 / 3 + t * (-8 / 5 + t * (-227 / 45 + t * (2704 / 315 + t * (2323 / 945))))), this.cbg[1] = e * (5 / 3 + t * (-16 / 15 + t * (-13 / 9 + t * (904 / 315 + t * (-1522 / 945))))), e = e * t, this.cgb[2] = e * (56 / 15 + t * (-136 / 35 + t * (-1262 / 105 + t * (73814 / 2835)))), this.cbg[2] = e * (-26 / 15 + t * (34 / 21 + t * (8 / 5 + t * (-12686 / 2835)))), e = e * t, this.cgb[3] = e * (4279 / 630 + t * (-332 / 35 + t * (-399572 / 14175))), this.cbg[3] = e * (1237 / 630 + t * (-12 / 5 + t * (-24832 / 14175))), e = e * t, this.cgb[4] = e * (4174 / 315 + t * (-144838 / 6237)), this.cbg[4] = e * (-734 / 315 + t * (109598 / 31185)), e = e * t, this.cgb[5] = e * (601676 / 22275), this.cbg[5] = e * (444337 / 155925), e = Math.pow(t, 2), this.Qn = this.k0 / (1 + t) * (1 + e * (1 / 4 + e * (1 / 64 + e / 256))), this.utg[0] = t * (-0.5 + t * (2 / 3 + t * (-37 / 96 + t * (1 / 360 + t * (81 / 512 + t * (-96199 / 604800)))))), this.gtu[0] = t * (0.5 + t * (-2 / 3 + t * (5 / 16 + t * (41 / 180 + t * (-127 / 288 + t * (7891 / 37800)))))), this.utg[1] = e * (-1 / 48 + t * (-1 / 15 + t * (437 / 1440 + t * (-46 / 105 + t * (1118711 / 3870720))))), this.gtu[1] = e * (13 / 48 + t * (-3 / 5 + t * (557 / 1440 + t * (281 / 630 + t * (-1983433 / 1935360))))), e = e * t, this.utg[2] = e * (-17 / 480 + t * (37 / 840 + t * (209 / 4480 + t * (-5569 / 90720)))), this.gtu[2] = e * (61 / 240 + t * (-103 / 140 + t * (15061 / 26880 + t * (167603 / 181440)))), e = e * t, this.utg[3] = e * (-4397 / 161280 + t * (11 / 504 + t * (830251 / 7257600))), this.gtu[3] = e * (49561 / 161280 + t * (-179 / 168 + t * (6601661 / 7257600))), e = e * t, this.utg[4] = e * (-4583 / 161280 + t * (108847 / 3991680)), this.gtu[4] = e * (34729 / 80640 + t * (-3418889 / 1995840)), e = e * t, this.utg[5] = e * (-20648693 / 638668800), this.gtu[5] = e * (212378941 / 319334400);
  var i = Hg(this.cbg, this.lat0);
  this.Zb = -this.Qn * (i + W5(this.gtu, 2 * i));
}
function N5(a) {
  var t = vt(a.x - this.long0), e = a.y;
  e = Hg(this.cbg, e);
  var i = Math.sin(e), n = Math.cos(e), u = Math.sin(t), _ = Math.cos(t);
  e = Math.atan2(i, _ * n), t = Math.atan2(u * n, Kr(i, n * _)), t = D5(Math.tan(t));
  var o = J2(this.gtu, 2 * e, 2 * t);
  e = e + o[0], t = t + o[1];
  var y, b;
  return Math.abs(t) <= 2.623395162778 ? (y = this.a * (this.Qn * t) + this.x0, b = this.a * (this.Qn * e + this.Zb) + this.y0) : (y = 1 / 0, b = 1 / 0), a.x = y, a.y = b, a;
}
function q5(a) {
  var t = (a.x - this.x0) * (1 / this.a), e = (a.y - this.y0) * (1 / this.a);
  e = (e - this.Zb) / this.Qn, t = t / this.Qn;
  var i, n;
  if (Math.abs(t) <= 2.623395162778) {
    var u = J2(this.utg, 2 * e, 2 * t);
    e = e + u[0], t = t + u[1], t = Math.atan(Q2(t));
    var _ = Math.sin(e), o = Math.cos(e), y = Math.sin(t), b = Math.cos(t);
    e = Math.atan2(_ * b, Kr(y, b * o)), t = Math.atan2(y, b * o), i = vt(t + this.long0), n = Hg(this.cgb, e);
  } else
    i = 1 / 0, n = 1 / 0;
  return a.x = i, a.y = n, a;
}
var F5 = ["Extended_Transverse_Mercator", "Extended Transverse Mercator", "etmerc", "Transverse_Mercator", "Transverse Mercator", "tmerc"];
const th = {
  init: B5,
  forward: N5,
  inverse: q5,
  names: F5
};
function G5(a, t) {
  if (a === void 0) {
    if (a = Math.floor((vt(t) + Math.PI) * 30 / Math.PI) + 1, a < 0)
      return 0;
    if (a > 60)
      return 60;
  }
  return a;
}
var U5 = "etmerc";
function j5() {
  var a = G5(this.zone, this.long0);
  if (a === void 0)
    throw new Error("unknown utm zone");
  this.lat0 = 0, this.long0 = (6 * Math.abs(a) - 183) * ln, this.x0 = 5e5, this.y0 = this.utmSouth ? 1e7 : 0, this.k0 = 0.9996, th.init.apply(this), this.forward = th.forward, this.inverse = th.inverse;
}
var V5 = ["Universal Transverse Mercator System", "utm"];
const $5 = {
  init: j5,
  names: V5,
  dependsOn: U5
};
function Xg(a, t) {
  return Math.pow((1 - a) / (1 + a), t);
}
var Z5 = 20;
function H5() {
  var a = Math.sin(this.lat0), t = Math.cos(this.lat0);
  t *= t, this.rc = Math.sqrt(1 - this.es) / (1 - this.es * a * a), this.C = Math.sqrt(1 + this.es * t * t / (1 - this.es)), this.phic0 = Math.asin(a / this.C), this.ratexp = 0.5 * this.C * this.e, this.K = Math.tan(0.5 * this.phic0 + Sa) / (Math.pow(Math.tan(0.5 * this.lat0 + Sa), this.C) * Xg(this.e * a, this.ratexp));
}
function X5(a) {
  var t = a.x, e = a.y;
  return a.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * e + Sa), this.C) * Xg(this.e * Math.sin(e), this.ratexp)) - $e, a.x = this.C * t, a;
}
function K5(a) {
  for (var t = 1e-14, e = a.x / this.C, i = a.y, n = Math.pow(Math.tan(0.5 * i + Sa) / this.K, 1 / this.C), u = Z5; u > 0 && (i = 2 * Math.atan(n * Xg(this.e * Math.sin(a.y), -0.5 * this.e)) - $e, !(Math.abs(i - a.y) < t)); --u)
    a.y = i;
  return u ? (a.x = e, a.y = i, a) : null;
}
var Y5 = ["gauss"];
const Kg = {
  init: H5,
  forward: X5,
  inverse: K5,
  names: Y5
};
function Q5() {
  Kg.init.apply(this), this.rc && (this.sinc0 = Math.sin(this.phic0), this.cosc0 = Math.cos(this.phic0), this.R2 = 2 * this.rc, this.title || (this.title = "Oblique Stereographic Alternative"));
}
function J5(a) {
  var t, e, i, n;
  return a.x = vt(a.x - this.long0), Kg.forward.apply(this, [a]), t = Math.sin(a.y), e = Math.cos(a.y), i = Math.cos(a.x), n = this.k0 * this.R2 / (1 + this.sinc0 * t + this.cosc0 * e * i), a.x = n * e * Math.sin(a.x), a.y = n * (this.cosc0 * t - this.sinc0 * e * i), a.x = this.a * a.x + this.x0, a.y = this.a * a.y + this.y0, a;
}
function eM(a) {
  var t, e, i, n, u;
  if (a.x = (a.x - this.x0) / this.a, a.y = (a.y - this.y0) / this.a, a.x /= this.k0, a.y /= this.k0, u = Math.sqrt(a.x * a.x + a.y * a.y)) {
    var _ = 2 * Math.atan2(u, this.R2);
    t = Math.sin(_), e = Math.cos(_), n = Math.asin(e * this.sinc0 + a.y * t * this.cosc0 / u), i = Math.atan2(a.x * t, u * this.cosc0 * e - a.y * this.sinc0 * t);
  } else
    n = this.phic0, i = 0;
  return a.x = i, a.y = n, Kg.inverse.apply(this, [a]), a.x = vt(a.x + this.long0), a;
}
var tM = ["Stereographic_North_Pole", "Oblique_Stereographic", "Polar_Stereographic", "sterea", "Oblique Stereographic Alternative", "Double_Stereographic"];
const aM = {
  init: Q5,
  forward: J5,
  inverse: eM,
  names: tM
};
function iM(a, t, e) {
  return t *= e, Math.tan(0.5 * ($e + a)) * Math.pow((1 - t) / (1 + t), 0.5 * e);
}
function nM() {
  this.coslat0 = Math.cos(this.lat0), this.sinlat0 = Math.sin(this.lat0), this.sphere ? this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= dt && (this.k0 = 0.5 * (1 + Qc(this.lat0) * Math.sin(this.lat_ts))) : (Math.abs(this.coslat0) <= dt && (this.lat0 > 0 ? this.con = 1 : this.con = -1), this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e)), this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= dt && (this.k0 = 0.5 * this.cons * vs(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / Qr(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts))), this.ms1 = vs(this.e, this.sinlat0, this.coslat0), this.X0 = 2 * Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) - $e, this.cosX0 = Math.cos(this.X0), this.sinX0 = Math.sin(this.X0));
}
function rM(a) {
  var t = a.x, e = a.y, i = Math.sin(e), n = Math.cos(e), u, _, o, y, b, S, T = vt(t - this.long0);
  return Math.abs(Math.abs(t - this.long0) - Math.PI) <= dt && Math.abs(e + this.lat0) <= dt ? (a.x = NaN, a.y = NaN, a) : this.sphere ? (u = 2 * this.k0 / (1 + this.sinlat0 * i + this.coslat0 * n * Math.cos(T)), a.x = this.a * u * n * Math.sin(T) + this.x0, a.y = this.a * u * (this.coslat0 * i - this.sinlat0 * n * Math.cos(T)) + this.y0, a) : (_ = 2 * Math.atan(this.ssfn_(e, i, this.e)) - $e, y = Math.cos(_), o = Math.sin(_), Math.abs(this.coslat0) <= dt ? (b = Qr(this.e, e * this.con, this.con * i), S = 2 * this.a * this.k0 * b / this.cons, a.x = this.x0 + S * Math.sin(t - this.long0), a.y = this.y0 - this.con * S * Math.cos(t - this.long0), a) : (Math.abs(this.sinlat0) < dt ? (u = 2 * this.a * this.k0 / (1 + y * Math.cos(T)), a.y = u * o) : (u = 2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * o + this.cosX0 * y * Math.cos(T))), a.y = u * (this.cosX0 * o - this.sinX0 * y * Math.cos(T)) + this.y0), a.x = u * y * Math.sin(T) + this.x0, a));
}
function sM(a) {
  a.x -= this.x0, a.y -= this.y0;
  var t, e, i, n, u, _ = Math.sqrt(a.x * a.x + a.y * a.y);
  if (this.sphere) {
    var o = 2 * Math.atan(_ / (2 * this.a * this.k0));
    return t = this.long0, e = this.lat0, _ <= dt ? (a.x = t, a.y = e, a) : (e = Math.asin(Math.cos(o) * this.sinlat0 + a.y * Math.sin(o) * this.coslat0 / _), Math.abs(this.coslat0) < dt ? this.lat0 > 0 ? t = vt(this.long0 + Math.atan2(a.x, -1 * a.y)) : t = vt(this.long0 + Math.atan2(a.x, a.y)) : t = vt(this.long0 + Math.atan2(a.x * Math.sin(o), _ * this.coslat0 * Math.cos(o) - a.y * this.sinlat0 * Math.sin(o))), a.x = t, a.y = e, a);
  } else if (Math.abs(this.coslat0) <= dt) {
    if (_ <= dt)
      return e = this.lat0, t = this.long0, a.x = t, a.y = e, a;
    a.x *= this.con, a.y *= this.con, i = _ * this.cons / (2 * this.a * this.k0), e = this.con * Fc(this.e, i), t = this.con * vt(this.con * this.long0 + Math.atan2(a.x, -1 * a.y));
  } else
    n = 2 * Math.atan(_ * this.cosX0 / (2 * this.a * this.k0 * this.ms1)), t = this.long0, _ <= dt ? u = this.X0 : (u = Math.asin(Math.cos(n) * this.sinX0 + a.y * Math.sin(n) * this.cosX0 / _), t = vt(this.long0 + Math.atan2(a.x * Math.sin(n), _ * this.cosX0 * Math.cos(n) - a.y * this.sinX0 * Math.sin(n)))), e = -1 * Fc(this.e, Math.tan(0.5 * ($e + u)));
  return a.x = t, a.y = e, a;
}
var oM = ["stere", "Stereographic_South_Pole", "Polar Stereographic (variant B)"];
const lM = {
  init: nM,
  forward: rM,
  inverse: sM,
  names: oM,
  ssfn_: iM
};
function uM() {
  var a = this.lat0;
  this.lambda0 = this.long0;
  var t = Math.sin(a), e = this.a, i = this.rf, n = 1 / i, u = 2 * n - Math.pow(n, 2), _ = this.e = Math.sqrt(u);
  this.R = this.k0 * e * Math.sqrt(1 - u) / (1 - u * Math.pow(t, 2)), this.alpha = Math.sqrt(1 + u / (1 - u) * Math.pow(Math.cos(a), 4)), this.b0 = Math.asin(t / this.alpha);
  var o = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2)), y = Math.log(Math.tan(Math.PI / 4 + a / 2)), b = Math.log((1 + _ * t) / (1 - _ * t));
  this.K = o - this.alpha * y + this.alpha * _ / 2 * b;
}
function dM(a) {
  var t = Math.log(Math.tan(Math.PI / 4 - a.y / 2)), e = this.e / 2 * Math.log((1 + this.e * Math.sin(a.y)) / (1 - this.e * Math.sin(a.y))), i = -this.alpha * (t + e) + this.K, n = 2 * (Math.atan(Math.exp(i)) - Math.PI / 4), u = this.alpha * (a.x - this.lambda0), _ = Math.atan(Math.sin(u) / (Math.sin(this.b0) * Math.tan(n) + Math.cos(this.b0) * Math.cos(u))), o = Math.asin(Math.cos(this.b0) * Math.sin(n) - Math.sin(this.b0) * Math.cos(n) * Math.cos(u));
  return a.y = this.R / 2 * Math.log((1 + Math.sin(o)) / (1 - Math.sin(o))) + this.y0, a.x = this.R * _ + this.x0, a;
}
function cM(a) {
  for (var t = a.x - this.x0, e = a.y - this.y0, i = t / this.R, n = 2 * (Math.atan(Math.exp(e / this.R)) - Math.PI / 4), u = Math.asin(Math.cos(this.b0) * Math.sin(n) + Math.sin(this.b0) * Math.cos(n) * Math.cos(i)), _ = Math.atan(Math.sin(i) / (Math.cos(this.b0) * Math.cos(i) - Math.sin(this.b0) * Math.tan(n))), o = this.lambda0 + _ / this.alpha, y = 0, b = u, S = -1e3, T = 0; Math.abs(b - S) > 1e-7; ) {
    if (++T > 20)
      return;
    y = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + u / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(b)) / 2)), S = b, b = 2 * Math.atan(Math.exp(y)) - Math.PI / 2;
  }
  return a.x = o, a.y = b, a;
}
var _M = ["somerc"];
const mM = {
  init: uM,
  forward: dM,
  inverse: cM,
  names: _M
};
var Bu = 1e-7;
function hM(a) {
  var t = ["Hotine_Oblique_Mercator", "Hotine_Oblique_Mercator_Azimuth_Natural_Origin"], e = typeof a.PROJECTION == "object" ? Object.keys(a.PROJECTION)[0] : a.PROJECTION;
  return "no_uoff" in a || "no_off" in a || t.indexOf(e) !== -1;
}
function pM() {
  var a, t, e, i, n, u, _, o, y, b, S = 0, T, L = 0, R = 0, D = 0, j = 0, Q = 0, ie = 0;
  this.no_off = hM(this), this.no_rot = "no_rot" in this;
  var J = !1;
  "alpha" in this && (J = !0);
  var _e = !1;
  if ("rectified_grid_angle" in this && (_e = !0), J && (ie = this.alpha), _e && (S = this.rectified_grid_angle * ln), J || _e)
    L = this.longc;
  else if (R = this.long1, j = this.lat1, D = this.long2, Q = this.lat2, Math.abs(j - Q) <= Bu || (a = Math.abs(j)) <= Bu || Math.abs(a - $e) <= Bu || Math.abs(Math.abs(this.lat0) - $e) <= Bu || Math.abs(Math.abs(Q) - $e) <= Bu)
    throw new Error();
  var ce = 1 - this.es;
  t = Math.sqrt(ce), Math.abs(this.lat0) > dt ? (o = Math.sin(this.lat0), e = Math.cos(this.lat0), a = 1 - this.es * o * o, this.B = e * e, this.B = Math.sqrt(1 + this.es * this.B * this.B / ce), this.A = this.B * this.k0 * t / a, i = this.B * t / (e * Math.sqrt(a)), n = i * i - 1, n <= 0 ? n = 0 : (n = Math.sqrt(n), this.lat0 < 0 && (n = -n)), this.E = n += i, this.E *= Math.pow(Qr(this.e, this.lat0, o), this.B)) : (this.B = 1 / t, this.A = this.k0, this.E = i = n = 1), J || _e ? (J ? (T = Math.asin(Math.sin(ie) / i), _e || (S = ie)) : (T = S, ie = Math.asin(i * Math.sin(T))), this.lam0 = L - Math.asin(0.5 * (n - 1 / n) * Math.tan(T)) / this.B) : (u = Math.pow(Qr(this.e, j, Math.sin(j)), this.B), _ = Math.pow(Qr(this.e, Q, Math.sin(Q)), this.B), n = this.E / u, y = (_ - u) / (_ + u), b = this.E * this.E, b = (b - _ * u) / (b + _ * u), a = R - D, a < -Math.pi ? D -= Nc : a > Math.pi && (D += Nc), this.lam0 = vt(0.5 * (R + D) - Math.atan(b * Math.tan(0.5 * this.B * (R - D)) / y) / this.B), T = Math.atan(2 * Math.sin(this.B * vt(R - this.lam0)) / (n - 1 / n)), S = ie = Math.asin(i * Math.sin(T))), this.singam = Math.sin(T), this.cosgam = Math.cos(T), this.sinrot = Math.sin(S), this.cosrot = Math.cos(S), this.rB = 1 / this.B, this.ArB = this.A * this.rB, this.BrA = 1 / this.ArB, this.A * this.B, this.no_off ? this.u_0 = 0 : (this.u_0 = Math.abs(this.ArB * Math.atan(Math.sqrt(i * i - 1) / Math.cos(ie))), this.lat0 < 0 && (this.u_0 = -this.u_0)), n = 0.5 * T, this.v_pole_n = this.ArB * Math.log(Math.tan(Sa - n)), this.v_pole_s = this.ArB * Math.log(Math.tan(Sa + n));
}
function fM(a) {
  var t = {}, e, i, n, u, _, o, y, b;
  if (a.x = a.x - this.lam0, Math.abs(Math.abs(a.y) - $e) > dt) {
    if (_ = this.E / Math.pow(Qr(this.e, a.y, Math.sin(a.y)), this.B), o = 1 / _, e = 0.5 * (_ - o), i = 0.5 * (_ + o), u = Math.sin(this.B * a.x), n = (e * this.singam - u * this.cosgam) / i, Math.abs(Math.abs(n) - 1) < dt)
      throw new Error();
    b = 0.5 * this.ArB * Math.log((1 - n) / (1 + n)), o = Math.cos(this.B * a.x), Math.abs(o) < Bu ? y = this.A * a.x : y = this.ArB * Math.atan2(e * this.cosgam + u * this.singam, o);
  } else
    b = a.y > 0 ? this.v_pole_n : this.v_pole_s, y = this.ArB * a.y;
  return this.no_rot ? (t.x = y, t.y = b) : (y -= this.u_0, t.x = b * this.cosrot + y * this.sinrot, t.y = y * this.cosrot - b * this.sinrot), t.x = this.a * t.x + this.x0, t.y = this.a * t.y + this.y0, t;
}
function gM(a) {
  var t, e, i, n, u, _, o, y = {};
  if (a.x = (a.x - this.x0) * (1 / this.a), a.y = (a.y - this.y0) * (1 / this.a), this.no_rot ? (e = a.y, t = a.x) : (e = a.x * this.cosrot - a.y * this.sinrot, t = a.y * this.cosrot + a.x * this.sinrot + this.u_0), i = Math.exp(-this.BrA * e), n = 0.5 * (i - 1 / i), u = 0.5 * (i + 1 / i), _ = Math.sin(this.BrA * t), o = (_ * this.cosgam + n * this.singam) / u, Math.abs(Math.abs(o) - 1) < dt)
    y.x = 0, y.y = o < 0 ? -$e : $e;
  else {
    if (y.y = this.E / Math.sqrt((1 + o) / (1 - o)), y.y = Fc(this.e, Math.pow(y.y, 1 / this.B)), y.y === 1 / 0)
      throw new Error();
    y.x = -this.rB * Math.atan2(n * this.cosgam - _ * this.singam, Math.cos(this.BrA * t));
  }
  return y.x += this.lam0, y;
}
var yM = ["Hotine_Oblique_Mercator", "Hotine Oblique Mercator", "Hotine_Oblique_Mercator_Azimuth_Natural_Origin", "Hotine_Oblique_Mercator_Two_Point_Natural_Origin", "Hotine_Oblique_Mercator_Azimuth_Center", "Oblique_Mercator", "omerc"];
const vM = {
  init: pM,
  forward: fM,
  inverse: gM,
  names: yM
};
function bM() {
  if (this.lat2 || (this.lat2 = this.lat1), this.k0 || (this.k0 = 1), this.x0 = this.x0 || 0, this.y0 = this.y0 || 0, !(Math.abs(this.lat1 + this.lat2) < dt)) {
    var a = this.b / this.a;
    this.e = Math.sqrt(1 - a * a);
    var t = Math.sin(this.lat1), e = Math.cos(this.lat1), i = vs(this.e, t, e), n = Qr(this.e, this.lat1, t), u = Math.sin(this.lat2), _ = Math.cos(this.lat2), o = vs(this.e, u, _), y = Qr(this.e, this.lat2, u), b = Qr(this.e, this.lat0, Math.sin(this.lat0));
    Math.abs(this.lat1 - this.lat2) > dt ? this.ns = Math.log(i / o) / Math.log(n / y) : this.ns = t, isNaN(this.ns) && (this.ns = t), this.f0 = i / (this.ns * Math.pow(n, this.ns)), this.rh = this.a * this.f0 * Math.pow(b, this.ns), this.title || (this.title = "Lambert Conformal Conic");
  }
}
function xM(a) {
  var t = a.x, e = a.y;
  Math.abs(2 * Math.abs(e) - Math.PI) <= dt && (e = Qc(e) * ($e - 2 * dt));
  var i = Math.abs(Math.abs(e) - $e), n, u;
  if (i > dt)
    n = Qr(this.e, e, Math.sin(e)), u = this.a * this.f0 * Math.pow(n, this.ns);
  else {
    if (i = e * this.ns, i <= 0)
      return null;
    u = 0;
  }
  var _ = this.ns * vt(t - this.long0);
  return a.x = this.k0 * (u * Math.sin(_)) + this.x0, a.y = this.k0 * (this.rh - u * Math.cos(_)) + this.y0, a;
}
function wM(a) {
  var t, e, i, n, u, _ = (a.x - this.x0) / this.k0, o = this.rh - (a.y - this.y0) / this.k0;
  this.ns > 0 ? (t = Math.sqrt(_ * _ + o * o), e = 1) : (t = -Math.sqrt(_ * _ + o * o), e = -1);
  var y = 0;
  if (t !== 0 && (y = Math.atan2(e * _, e * o)), t !== 0 || this.ns > 0) {
    if (e = 1 / this.ns, i = Math.pow(t / (this.a * this.f0), e), n = Fc(this.e, i), n === -9999)
      return null;
  } else
    n = -$e;
  return u = vt(y / this.ns + this.long0), a.x = u, a.y = n, a;
}
var SM = [
  "Lambert Tangential Conformal Conic Projection",
  "Lambert_Conformal_Conic",
  "Lambert_Conformal_Conic_1SP",
  "Lambert_Conformal_Conic_2SP",
  "lcc",
  "Lambert Conic Conformal (1SP)",
  "Lambert Conic Conformal (2SP)"
];
const TM = {
  init: bM,
  forward: xM,
  inverse: wM,
  names: SM
};
function MM() {
  this.a = 6377397155e-3, this.es = 0.006674372230614, this.e = Math.sqrt(this.es), this.lat0 || (this.lat0 = 0.863937979737193), this.long0 || (this.long0 = 0.7417649320975901 - 0.308341501185665), this.k0 || (this.k0 = 0.9999), this.s45 = 0.785398163397448, this.s90 = 2 * this.s45, this.fi0 = this.lat0, this.e2 = this.es, this.e = Math.sqrt(this.e2), this.alfa = Math.sqrt(1 + this.e2 * Math.pow(Math.cos(this.fi0), 4) / (1 - this.e2)), this.uq = 1.04216856380474, this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa), this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2), this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g, this.k1 = this.k0, this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2)), this.s0 = 1.37008346281555, this.n = Math.sin(this.s0), this.ro0 = this.k1 * this.n0 / Math.tan(this.s0), this.ad = this.s90 - this.uq;
}
function EM(a) {
  var t, e, i, n, u, _, o, y = a.x, b = a.y, S = vt(y - this.long0);
  return t = Math.pow((1 + this.e * Math.sin(b)) / (1 - this.e * Math.sin(b)), this.alfa * this.e / 2), e = 2 * (Math.atan(this.k * Math.pow(Math.tan(b / 2 + this.s45), this.alfa) / t) - this.s45), i = -S * this.alfa, n = Math.asin(Math.cos(this.ad) * Math.sin(e) + Math.sin(this.ad) * Math.cos(e) * Math.cos(i)), u = Math.asin(Math.cos(e) * Math.sin(i) / Math.cos(n)), _ = this.n * u, o = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(n / 2 + this.s45), this.n), a.y = o * Math.cos(_) / 1, a.x = o * Math.sin(_) / 1, this.czech || (a.y *= -1, a.x *= -1), a;
}
function LM(a) {
  var t, e, i, n, u, _, o, y, b = a.x;
  a.x = a.y, a.y = b, this.czech || (a.y *= -1, a.x *= -1), _ = Math.sqrt(a.x * a.x + a.y * a.y), u = Math.atan2(a.y, a.x), n = u / Math.sin(this.s0), i = 2 * (Math.atan(Math.pow(this.ro0 / _, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45), t = Math.asin(Math.cos(this.ad) * Math.sin(i) - Math.sin(this.ad) * Math.cos(i) * Math.cos(n)), e = Math.asin(Math.cos(i) * Math.sin(n) / Math.cos(t)), a.x = this.long0 - e / this.alfa, o = t, y = 0;
  var S = 0;
  do
    a.y = 2 * (Math.atan(Math.pow(this.k, -1 / this.alfa) * Math.pow(Math.tan(t / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(o)) / (1 - this.e * Math.sin(o)), this.e / 2)) - this.s45), Math.abs(o - a.y) < 1e-10 && (y = 1), o = a.y, S += 1;
  while (y === 0 && S < 15);
  return S >= 15 ? null : a;
}
var CM = ["Krovak", "krovak"];
const AM = {
  init: MM,
  forward: EM,
  inverse: LM,
  names: CM
};
function qn(a, t, e, i, n) {
  return a * n - t * Math.sin(2 * n) + e * Math.sin(4 * n) - i * Math.sin(6 * n);
}
function Jc(a) {
  return 1 - 0.25 * a * (1 + a / 16 * (3 + 1.25 * a));
}
function e_(a) {
  return 0.375 * a * (1 + 0.25 * a * (1 + 0.46875 * a));
}
function t_(a) {
  return 0.05859375 * a * a * (1 + 0.75 * a);
}
function a_(a) {
  return a * a * a * (35 / 3072);
}
function od(a, t, e) {
  var i = t * e;
  return a / Math.sqrt(1 - i * i);
}
function cd(a) {
  return Math.abs(a) < $e ? a : a - Qc(a) * Math.PI;
}
function hh(a, t, e, i, n) {
  var u, _;
  u = a / t;
  for (var o = 0; o < 15; o++)
    if (_ = (a - (t * u - e * Math.sin(2 * u) + i * Math.sin(4 * u) - n * Math.sin(6 * u))) / (t - 2 * e * Math.cos(2 * u) + 4 * i * Math.cos(4 * u) - 6 * n * Math.cos(6 * u)), u += _, Math.abs(_) <= 1e-10)
      return u;
  return NaN;
}
function IM() {
  this.sphere || (this.e0 = Jc(this.es), this.e1 = e_(this.es), this.e2 = t_(this.es), this.e3 = a_(this.es), this.ml0 = this.a * qn(this.e0, this.e1, this.e2, this.e3, this.lat0));
}
function PM(a) {
  var t, e, i = a.x, n = a.y;
  if (i = vt(i - this.long0), this.sphere)
    t = this.a * Math.asin(Math.cos(n) * Math.sin(i)), e = this.a * (Math.atan2(Math.tan(n), Math.cos(i)) - this.lat0);
  else {
    var u = Math.sin(n), _ = Math.cos(n), o = od(this.a, this.e, u), y = Math.tan(n) * Math.tan(n), b = i * Math.cos(n), S = b * b, T = this.es * _ * _ / (1 - this.es), L = this.a * qn(this.e0, this.e1, this.e2, this.e3, n);
    t = o * b * (1 - S * y * (1 / 6 - (8 - y + 8 * T) * S / 120)), e = L - this.ml0 + o * u / _ * S * (0.5 + (5 - y + 6 * T) * S / 24);
  }
  return a.x = t + this.x0, a.y = e + this.y0, a;
}
function OM(a) {
  a.x -= this.x0, a.y -= this.y0;
  var t = a.x / this.a, e = a.y / this.a, i, n;
  if (this.sphere) {
    var u = e + this.lat0;
    i = Math.asin(Math.sin(u) * Math.cos(t)), n = Math.atan2(Math.tan(t), Math.cos(u));
  } else {
    var _ = this.ml0 / this.a + e, o = hh(_, this.e0, this.e1, this.e2, this.e3);
    if (Math.abs(Math.abs(o) - $e) <= dt)
      return a.x = this.long0, a.y = $e, e < 0 && (a.y *= -1), a;
    var y = od(this.a, this.e, Math.sin(o)), b = y * y * y / this.a / this.a * (1 - this.es), S = Math.pow(Math.tan(o), 2), T = t * this.a / y, L = T * T;
    i = o - y * Math.tan(o) / b * T * T * (0.5 - (1 + 3 * S) * T * T / 24), n = T * (1 - L * (S / 3 + (1 + 3 * S) * S * L / 15)) / Math.cos(o);
  }
  return a.x = vt(n + this.long0), a.y = cd(i), a;
}
var RM = ["Cassini", "Cassini_Soldner", "cass"];
const kM = {
  init: IM,
  forward: PM,
  inverse: OM,
  names: RM
};
function Bo(a, t) {
  var e;
  return a > 1e-7 ? (e = a * t, (1 - a * a) * (t / (1 - e * e) - 0.5 / a * Math.log((1 - e) / (1 + e)))) : 2 * t;
}
var DM = 1, WM = 2, zM = 3, BM = 4;
function NM() {
  var a = Math.abs(this.lat0);
  if (Math.abs(a - $e) < dt ? this.mode = this.lat0 < 0 ? this.S_POLE : this.N_POLE : Math.abs(a) < dt ? this.mode = this.EQUIT : this.mode = this.OBLIQ, this.es > 0) {
    var t;
    switch (this.qp = Bo(this.e, 1), this.mmf = 0.5 / (1 - this.es), this.apa = HM(this.es), this.mode) {
      case this.N_POLE:
        this.dd = 1;
        break;
      case this.S_POLE:
        this.dd = 1;
        break;
      case this.EQUIT:
        this.rq = Math.sqrt(0.5 * this.qp), this.dd = 1 / this.rq, this.xmf = 1, this.ymf = 0.5 * this.qp;
        break;
      case this.OBLIQ:
        this.rq = Math.sqrt(0.5 * this.qp), t = Math.sin(this.lat0), this.sinb1 = Bo(this.e, t) / this.qp, this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1), this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * t * t) * this.rq * this.cosb1), this.ymf = (this.xmf = this.rq) / this.dd, this.xmf *= this.dd;
        break;
    }
  } else
    this.mode === this.OBLIQ && (this.sinph0 = Math.sin(this.lat0), this.cosph0 = Math.cos(this.lat0));
}
function qM(a) {
  var t, e, i, n, u, _, o, y, b, S, T = a.x, L = a.y;
  if (T = vt(T - this.long0), this.sphere) {
    if (u = Math.sin(L), S = Math.cos(L), i = Math.cos(T), this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      if (e = this.mode === this.EQUIT ? 1 + S * i : 1 + this.sinph0 * u + this.cosph0 * S * i, e <= dt)
        return null;
      e = Math.sqrt(2 / e), t = e * S * Math.sin(T), e *= this.mode === this.EQUIT ? u : this.cosph0 * u - this.sinph0 * S * i;
    } else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
      if (this.mode === this.N_POLE && (i = -i), Math.abs(L + this.lat0) < dt)
        return null;
      e = Sa - L * 0.5, e = 2 * (this.mode === this.S_POLE ? Math.cos(e) : Math.sin(e)), t = e * Math.sin(T), e *= i;
    }
  } else {
    switch (o = 0, y = 0, b = 0, i = Math.cos(T), n = Math.sin(T), u = Math.sin(L), _ = Bo(this.e, u), (this.mode === this.OBLIQ || this.mode === this.EQUIT) && (o = _ / this.qp, y = Math.sqrt(1 - o * o)), this.mode) {
      case this.OBLIQ:
        b = 1 + this.sinb1 * o + this.cosb1 * y * i;
        break;
      case this.EQUIT:
        b = 1 + y * i;
        break;
      case this.N_POLE:
        b = $e + L, _ = this.qp - _;
        break;
      case this.S_POLE:
        b = L - $e, _ = this.qp + _;
        break;
    }
    if (Math.abs(b) < dt)
      return null;
    switch (this.mode) {
      case this.OBLIQ:
      case this.EQUIT:
        b = Math.sqrt(2 / b), this.mode === this.OBLIQ ? e = this.ymf * b * (this.cosb1 * o - this.sinb1 * y * i) : e = (b = Math.sqrt(2 / (1 + y * i))) * o * this.ymf, t = this.xmf * b * y * n;
        break;
      case this.N_POLE:
      case this.S_POLE:
        _ >= 0 ? (t = (b = Math.sqrt(_)) * n, e = i * (this.mode === this.S_POLE ? b : -b)) : t = e = 0;
        break;
    }
  }
  return a.x = this.a * t + this.x0, a.y = this.a * e + this.y0, a;
}
function FM(a) {
  a.x -= this.x0, a.y -= this.y0;
  var t = a.x / this.a, e = a.y / this.a, i, n, u, _, o, y, b;
  if (this.sphere) {
    var S = 0, T, L = 0;
    if (T = Math.sqrt(t * t + e * e), n = T * 0.5, n > 1)
      return null;
    switch (n = 2 * Math.asin(n), (this.mode === this.OBLIQ || this.mode === this.EQUIT) && (L = Math.sin(n), S = Math.cos(n)), this.mode) {
      case this.EQUIT:
        n = Math.abs(T) <= dt ? 0 : Math.asin(e * L / T), t *= L, e = S * T;
        break;
      case this.OBLIQ:
        n = Math.abs(T) <= dt ? this.lat0 : Math.asin(S * this.sinph0 + e * L * this.cosph0 / T), t *= L * this.cosph0, e = (S - Math.sin(n) * this.sinph0) * T;
        break;
      case this.N_POLE:
        e = -e, n = $e - n;
        break;
      case this.S_POLE:
        n -= $e;
        break;
    }
    i = e === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ) ? 0 : Math.atan2(t, e);
  } else {
    if (b = 0, this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      if (t /= this.dd, e *= this.dd, y = Math.sqrt(t * t + e * e), y < dt)
        return a.x = this.long0, a.y = this.lat0, a;
      _ = 2 * Math.asin(0.5 * y / this.rq), u = Math.cos(_), t *= _ = Math.sin(_), this.mode === this.OBLIQ ? (b = u * this.sinb1 + e * _ * this.cosb1 / y, o = this.qp * b, e = y * this.cosb1 * u - e * this.sinb1 * _) : (b = e * _ / y, o = this.qp * b, e = y * u);
    } else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
      if (this.mode === this.N_POLE && (e = -e), o = t * t + e * e, !o)
        return a.x = this.long0, a.y = this.lat0, a;
      b = 1 - o / this.qp, this.mode === this.S_POLE && (b = -b);
    }
    i = Math.atan2(t, e), n = XM(Math.asin(b), this.apa);
  }
  return a.x = vt(this.long0 + i), a.y = n, a;
}
var GM = 0.3333333333333333, UM = 0.17222222222222222, jM = 0.10257936507936508, VM = 0.06388888888888888, $M = 0.0664021164021164, ZM = 0.016415012942191543;
function HM(a) {
  var t, e = [];
  return e[0] = a * GM, t = a * a, e[0] += t * UM, e[1] = t * VM, t *= a, e[0] += t * jM, e[1] += t * $M, e[2] = t * ZM, e;
}
function XM(a, t) {
  var e = a + a;
  return a + t[0] * Math.sin(e) + t[1] * Math.sin(e + e) + t[2] * Math.sin(e + e + e);
}
var KM = ["Lambert Azimuthal Equal Area", "Lambert_Azimuthal_Equal_Area", "laea"];
const YM = {
  init: NM,
  forward: qM,
  inverse: FM,
  names: KM,
  S_POLE: DM,
  N_POLE: WM,
  EQUIT: zM,
  OBLIQ: BM
};
function jo(a) {
  return Math.abs(a) > 1 && (a = a > 1 ? 1 : -1), Math.asin(a);
}
function QM() {
  Math.abs(this.lat1 + this.lat2) < dt || (this.temp = this.b / this.a, this.es = 1 - Math.pow(this.temp, 2), this.e3 = Math.sqrt(this.es), this.sin_po = Math.sin(this.lat1), this.cos_po = Math.cos(this.lat1), this.t1 = this.sin_po, this.con = this.sin_po, this.ms1 = vs(this.e3, this.sin_po, this.cos_po), this.qs1 = Bo(this.e3, this.sin_po), this.sin_po = Math.sin(this.lat2), this.cos_po = Math.cos(this.lat2), this.t2 = this.sin_po, this.ms2 = vs(this.e3, this.sin_po, this.cos_po), this.qs2 = Bo(this.e3, this.sin_po), this.sin_po = Math.sin(this.lat0), this.cos_po = Math.cos(this.lat0), this.t3 = this.sin_po, this.qs0 = Bo(this.e3, this.sin_po), Math.abs(this.lat1 - this.lat2) > dt ? this.ns0 = (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1) : this.ns0 = this.con, this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1, this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0);
}
function JM(a) {
  var t = a.x, e = a.y;
  this.sin_phi = Math.sin(e), this.cos_phi = Math.cos(e);
  var i = Bo(this.e3, this.sin_phi), n = this.a * Math.sqrt(this.c - this.ns0 * i) / this.ns0, u = this.ns0 * vt(t - this.long0), _ = n * Math.sin(u) + this.x0, o = this.rh - n * Math.cos(u) + this.y0;
  return a.x = _, a.y = o, a;
}
function e8(a) {
  var t, e, i, n, u, _;
  return a.x -= this.x0, a.y = this.rh - a.y + this.y0, this.ns0 >= 0 ? (t = Math.sqrt(a.x * a.x + a.y * a.y), i = 1) : (t = -Math.sqrt(a.x * a.x + a.y * a.y), i = -1), n = 0, t !== 0 && (n = Math.atan2(i * a.x, i * a.y)), i = t * this.ns0 / this.a, this.sphere ? _ = Math.asin((this.c - i * i) / (2 * this.ns0)) : (e = (this.c - i * i) / this.ns0, _ = this.phi1z(this.e3, e)), u = vt(n / this.ns0 + this.long0), a.x = u, a.y = _, a;
}
function t8(a, t) {
  var e, i, n, u, _, o = jo(0.5 * t);
  if (a < dt)
    return o;
  for (var y = a * a, b = 1; b <= 25; b++)
    if (e = Math.sin(o), i = Math.cos(o), n = a * e, u = 1 - n * n, _ = 0.5 * u * u / i * (t / (1 - y) - e / u + 0.5 / a * Math.log((1 - n) / (1 + n))), o = o + _, Math.abs(_) <= 1e-7)
      return o;
  return null;
}
var a8 = ["Albers_Conic_Equal_Area", "Albers", "aea"];
const i8 = {
  init: QM,
  forward: JM,
  inverse: e8,
  names: a8,
  phi1z: t8
};
function n8() {
  this.sin_p14 = Math.sin(this.lat0), this.cos_p14 = Math.cos(this.lat0), this.infinity_dist = 1e3 * this.a, this.rc = 1;
}
function r8(a) {
  var t, e, i, n, u, _, o, y, b = a.x, S = a.y;
  return i = vt(b - this.long0), t = Math.sin(S), e = Math.cos(S), n = Math.cos(i), _ = this.sin_p14 * t + this.cos_p14 * e * n, u = 1, _ > 0 || Math.abs(_) <= dt ? (o = this.x0 + this.a * u * e * Math.sin(i) / _, y = this.y0 + this.a * u * (this.cos_p14 * t - this.sin_p14 * e * n) / _) : (o = this.x0 + this.infinity_dist * e * Math.sin(i), y = this.y0 + this.infinity_dist * (this.cos_p14 * t - this.sin_p14 * e * n)), a.x = o, a.y = y, a;
}
function s8(a) {
  var t, e, i, n, u, _;
  return a.x = (a.x - this.x0) / this.a, a.y = (a.y - this.y0) / this.a, a.x /= this.k0, a.y /= this.k0, (t = Math.sqrt(a.x * a.x + a.y * a.y)) ? (n = Math.atan2(t, this.rc), e = Math.sin(n), i = Math.cos(n), _ = jo(i * this.sin_p14 + a.y * e * this.cos_p14 / t), u = Math.atan2(a.x * e, t * this.cos_p14 * i - a.y * this.sin_p14 * e), u = vt(this.long0 + u)) : (_ = this.phic0, u = 0), a.x = u, a.y = _, a;
}
var o8 = ["gnom"];
const l8 = {
  init: n8,
  forward: r8,
  inverse: s8,
  names: o8
};
function u8(a, t) {
  var e = 1 - (1 - a * a) / (2 * a) * Math.log((1 - a) / (1 + a));
  if (Math.abs(Math.abs(t) - e) < 1e-6)
    return t < 0 ? -1 * $e : $e;
  for (var i = Math.asin(0.5 * t), n, u, _, o, y = 0; y < 30; y++)
    if (u = Math.sin(i), _ = Math.cos(i), o = a * u, n = Math.pow(1 - o * o, 2) / (2 * _) * (t / (1 - a * a) - u / (1 - o * o) + 0.5 / a * Math.log((1 - o) / (1 + o))), i += n, Math.abs(n) <= 1e-10)
      return i;
  return NaN;
}
function d8() {
  this.sphere || (this.k0 = vs(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)));
}
function c8(a) {
  var t = a.x, e = a.y, i, n, u = vt(t - this.long0);
  if (this.sphere)
    i = this.x0 + this.a * u * Math.cos(this.lat_ts), n = this.y0 + this.a * Math.sin(e) / Math.cos(this.lat_ts);
  else {
    var _ = Bo(this.e, Math.sin(e));
    i = this.x0 + this.a * this.k0 * u, n = this.y0 + this.a * _ * 0.5 / this.k0;
  }
  return a.x = i, a.y = n, a;
}
function _8(a) {
  a.x -= this.x0, a.y -= this.y0;
  var t, e;
  return this.sphere ? (t = vt(this.long0 + a.x / this.a / Math.cos(this.lat_ts)), e = Math.asin(a.y / this.a * Math.cos(this.lat_ts))) : (e = u8(this.e, 2 * a.y * this.k0 / this.a), t = vt(this.long0 + a.x / (this.a * this.k0))), a.x = t, a.y = e, a;
}
var m8 = ["cea"];
const h8 = {
  init: d8,
  forward: c8,
  inverse: _8,
  names: m8
};
function p8() {
  this.x0 = this.x0 || 0, this.y0 = this.y0 || 0, this.lat0 = this.lat0 || 0, this.long0 = this.long0 || 0, this.lat_ts = this.lat_ts || 0, this.title = this.title || "Equidistant Cylindrical (Plate Carre)", this.rc = Math.cos(this.lat_ts);
}
function f8(a) {
  var t = a.x, e = a.y, i = vt(t - this.long0), n = cd(e - this.lat0);
  return a.x = this.x0 + this.a * i * this.rc, a.y = this.y0 + this.a * n, a;
}
function g8(a) {
  var t = a.x, e = a.y;
  return a.x = vt(this.long0 + (t - this.x0) / (this.a * this.rc)), a.y = cd(this.lat0 + (e - this.y0) / this.a), a;
}
var y8 = ["Equirectangular", "Equidistant_Cylindrical", "eqc"];
const v8 = {
  init: p8,
  forward: f8,
  inverse: g8,
  names: y8
};
var N1 = 20;
function b8() {
  this.temp = this.b / this.a, this.es = 1 - Math.pow(this.temp, 2), this.e = Math.sqrt(this.es), this.e0 = Jc(this.es), this.e1 = e_(this.es), this.e2 = t_(this.es), this.e3 = a_(this.es), this.ml0 = this.a * qn(this.e0, this.e1, this.e2, this.e3, this.lat0);
}
function x8(a) {
  var t = a.x, e = a.y, i, n, u, _ = vt(t - this.long0);
  if (u = _ * Math.sin(e), this.sphere)
    Math.abs(e) <= dt ? (i = this.a * _, n = -1 * this.a * this.lat0) : (i = this.a * Math.sin(u) / Math.tan(e), n = this.a * (cd(e - this.lat0) + (1 - Math.cos(u)) / Math.tan(e)));
  else if (Math.abs(e) <= dt)
    i = this.a * _, n = -1 * this.ml0;
  else {
    var o = od(this.a, this.e, Math.sin(e)) / Math.tan(e);
    i = o * Math.sin(u), n = this.a * qn(this.e0, this.e1, this.e2, this.e3, e) - this.ml0 + o * (1 - Math.cos(u));
  }
  return a.x = i + this.x0, a.y = n + this.y0, a;
}
function w8(a) {
  var t, e, i, n, u, _, o, y, b;
  if (i = a.x - this.x0, n = a.y - this.y0, this.sphere)
    if (Math.abs(n + this.a * this.lat0) <= dt)
      t = vt(i / this.a + this.long0), e = 0;
    else {
      _ = this.lat0 + n / this.a, o = i * i / this.a / this.a + _ * _, y = _;
      var S;
      for (u = N1; u; --u)
        if (S = Math.tan(y), b = -1 * (_ * (y * S + 1) - y - 0.5 * (y * y + o) * S) / ((y - _) / S - 1), y += b, Math.abs(b) <= dt) {
          e = y;
          break;
        }
      t = vt(this.long0 + Math.asin(i * Math.tan(y) / this.a) / Math.sin(e));
    }
  else if (Math.abs(n + this.ml0) <= dt)
    e = 0, t = vt(this.long0 + i / this.a);
  else {
    _ = (this.ml0 + n) / this.a, o = i * i / this.a / this.a + _ * _, y = _;
    var T, L, R, D, j;
    for (u = N1; u; --u)
      if (j = this.e * Math.sin(y), T = Math.sqrt(1 - j * j) * Math.tan(y), L = this.a * qn(this.e0, this.e1, this.e2, this.e3, y), R = this.e0 - 2 * this.e1 * Math.cos(2 * y) + 4 * this.e2 * Math.cos(4 * y) - 6 * this.e3 * Math.cos(6 * y), D = L / this.a, b = (_ * (T * D + 1) - D - 0.5 * T * (D * D + o)) / (this.es * Math.sin(2 * y) * (D * D + o - 2 * _ * D) / (4 * T) + (_ - D) * (T * R - 2 / Math.sin(2 * y)) - R), y -= b, Math.abs(b) <= dt) {
        e = y;
        break;
      }
    T = Math.sqrt(1 - this.es * Math.pow(Math.sin(e), 2)) * Math.tan(e), t = vt(this.long0 + Math.asin(i * T / this.a) / Math.sin(e));
  }
  return a.x = t, a.y = e, a;
}
var S8 = ["Polyconic", "poly"];
const T8 = {
  init: b8,
  forward: x8,
  inverse: w8,
  names: S8
};
function M8() {
  this.A = [], this.A[1] = 0.6399175073, this.A[2] = -0.1358797613, this.A[3] = 0.063294409, this.A[4] = -0.02526853, this.A[5] = 0.0117879, this.A[6] = -55161e-7, this.A[7] = 26906e-7, this.A[8] = -1333e-6, this.A[9] = 67e-5, this.A[10] = -34e-5, this.B_re = [], this.B_im = [], this.B_re[1] = 0.7557853228, this.B_im[1] = 0, this.B_re[2] = 0.249204646, this.B_im[2] = 3371507e-9, this.B_re[3] = -1541739e-9, this.B_im[3] = 0.04105856, this.B_re[4] = -0.10162907, this.B_im[4] = 0.01727609, this.B_re[5] = -0.26623489, this.B_im[5] = -0.36249218, this.B_re[6] = -0.6870983, this.B_im[6] = -1.1651967, this.C_re = [], this.C_im = [], this.C_re[1] = 1.3231270439, this.C_im[1] = 0, this.C_re[2] = -0.577245789, this.C_im[2] = -7809598e-9, this.C_re[3] = 0.508307513, this.C_im[3] = -0.112208952, this.C_re[4] = -0.15094762, this.C_im[4] = 0.18200602, this.C_re[5] = 1.01418179, this.C_im[5] = 1.64497696, this.C_re[6] = 1.9660549, this.C_im[6] = 2.5127645, this.D = [], this.D[1] = 1.5627014243, this.D[2] = 0.5185406398, this.D[3] = -0.03333098, this.D[4] = -0.1052906, this.D[5] = -0.0368594, this.D[6] = 7317e-6, this.D[7] = 0.0122, this.D[8] = 394e-5, this.D[9] = -13e-4;
}
function E8(a) {
  var t, e = a.x, i = a.y, n = i - this.lat0, u = e - this.long0, _ = n / Mc * 1e-5, o = u, y = 1, b = 0;
  for (t = 1; t <= 10; t++)
    y = y * _, b = b + this.A[t] * y;
  var S = b, T = o, L = 1, R = 0, D, j, Q = 0, ie = 0;
  for (t = 1; t <= 6; t++)
    D = L * S - R * T, j = R * S + L * T, L = D, R = j, Q = Q + this.B_re[t] * L - this.B_im[t] * R, ie = ie + this.B_im[t] * L + this.B_re[t] * R;
  return a.x = ie * this.a + this.x0, a.y = Q * this.a + this.y0, a;
}
function L8(a) {
  var t, e = a.x, i = a.y, n = e - this.x0, u = i - this.y0, _ = u / this.a, o = n / this.a, y = 1, b = 0, S, T, L = 0, R = 0;
  for (t = 1; t <= 6; t++)
    S = y * _ - b * o, T = b * _ + y * o, y = S, b = T, L = L + this.C_re[t] * y - this.C_im[t] * b, R = R + this.C_im[t] * y + this.C_re[t] * b;
  for (var D = 0; D < this.iterations; D++) {
    var j = L, Q = R, ie, J, _e = _, ce = o;
    for (t = 2; t <= 6; t++)
      ie = j * L - Q * R, J = Q * L + j * R, j = ie, Q = J, _e = _e + (t - 1) * (this.B_re[t] * j - this.B_im[t] * Q), ce = ce + (t - 1) * (this.B_im[t] * j + this.B_re[t] * Q);
    j = 1, Q = 0;
    var we = this.B_re[1], Be = this.B_im[1];
    for (t = 2; t <= 6; t++)
      ie = j * L - Q * R, J = Q * L + j * R, j = ie, Q = J, we = we + t * (this.B_re[t] * j - this.B_im[t] * Q), Be = Be + t * (this.B_im[t] * j + this.B_re[t] * Q);
    var Ee = we * we + Be * Be;
    L = (_e * we + ce * Be) / Ee, R = (ce * we - _e * Be) / Ee;
  }
  var Fe = L, We = R, ke = 1, Ze = 0;
  for (t = 1; t <= 9; t++)
    ke = ke * Fe, Ze = Ze + this.D[t] * ke;
  var ft = this.lat0 + Ze * Mc * 1e5, St = this.long0 + We;
  return a.x = St, a.y = ft, a;
}
var C8 = ["New_Zealand_Map_Grid", "nzmg"];
const A8 = {
  init: M8,
  forward: E8,
  inverse: L8,
  names: C8
};
function I8() {
}
function P8(a) {
  var t = a.x, e = a.y, i = vt(t - this.long0), n = this.x0 + this.a * i, u = this.y0 + this.a * Math.log(Math.tan(Math.PI / 4 + e / 2.5)) * 1.25;
  return a.x = n, a.y = u, a;
}
function O8(a) {
  a.x -= this.x0, a.y -= this.y0;
  var t = vt(this.long0 + a.x / this.a), e = 2.5 * (Math.atan(Math.exp(0.8 * a.y / this.a)) - Math.PI / 4);
  return a.x = t, a.y = e, a;
}
var R8 = ["Miller_Cylindrical", "mill"];
const k8 = {
  init: I8,
  forward: P8,
  inverse: O8,
  names: R8
};
var D8 = 20;
function W8() {
  this.sphere ? (this.n = 1, this.m = 0, this.es = 0, this.C_y = Math.sqrt((this.m + 1) / this.n), this.C_x = this.C_y / (this.m + 1)) : this.en = K2(this.es);
}
function z8(a) {
  var t, e, i = a.x, n = a.y;
  if (i = vt(i - this.long0), this.sphere) {
    if (!this.m)
      n = this.n !== 1 ? Math.asin(this.n * Math.sin(n)) : n;
    else
      for (var u = this.n * Math.sin(n), _ = D8; _; --_) {
        var o = (this.m * n + Math.sin(n) - u) / (this.m + Math.cos(n));
        if (n -= o, Math.abs(o) < dt)
          break;
      }
    t = this.a * this.C_x * i * (this.m + Math.cos(n)), e = this.a * this.C_y * n;
  } else {
    var y = Math.sin(n), b = Math.cos(n);
    e = this.a * Qh(n, y, b, this.en), t = this.a * i * b / Math.sqrt(1 - this.es * y * y);
  }
  return a.x = t, a.y = e, a;
}
function B8(a) {
  var t, e, i, n;
  return a.x -= this.x0, i = a.x / this.a, a.y -= this.y0, t = a.y / this.a, this.sphere ? (t /= this.C_y, i = i / (this.C_x * (this.m + Math.cos(t))), this.m ? t = jo((this.m * t + Math.sin(t)) / this.n) : this.n !== 1 && (t = jo(Math.sin(t) / this.n)), i = vt(i + this.long0), t = cd(t)) : (t = Y2(a.y / this.a, this.es, this.en), n = Math.abs(t), n < $e ? (n = Math.sin(t), e = this.long0 + a.x * Math.sqrt(1 - this.es * n * n) / (this.a * Math.cos(t)), i = vt(e)) : n - dt < $e && (i = this.long0)), a.x = i, a.y = t, a;
}
var N8 = ["Sinusoidal", "sinu"];
const q8 = {
  init: W8,
  forward: z8,
  inverse: B8,
  names: N8
};
function F8() {
}
function G8(a) {
  for (var t = a.x, e = a.y, i = vt(t - this.long0), n = e, u = Math.PI * Math.sin(e); ; ) {
    var _ = -(n + Math.sin(n) - u) / (1 + Math.cos(n));
    if (n += _, Math.abs(_) < dt)
      break;
  }
  n /= 2, Math.PI / 2 - Math.abs(e) < dt && (i = 0);
  var o = 0.900316316158 * this.a * i * Math.cos(n) + this.x0, y = 1.4142135623731 * this.a * Math.sin(n) + this.y0;
  return a.x = o, a.y = y, a;
}
function U8(a) {
  var t, e;
  a.x -= this.x0, a.y -= this.y0, e = a.y / (1.4142135623731 * this.a), Math.abs(e) > 0.999999999999 && (e = 0.999999999999), t = Math.asin(e);
  var i = vt(this.long0 + a.x / (0.900316316158 * this.a * Math.cos(t)));
  i < -Math.PI && (i = -Math.PI), i > Math.PI && (i = Math.PI), e = (2 * t + Math.sin(2 * t)) / Math.PI, Math.abs(e) > 1 && (e = 1);
  var n = Math.asin(e);
  return a.x = i, a.y = n, a;
}
var j8 = ["Mollweide", "moll"];
const V8 = {
  init: F8,
  forward: G8,
  inverse: U8,
  names: j8
};
function $8() {
  Math.abs(this.lat1 + this.lat2) < dt || (this.lat2 = this.lat2 || this.lat1, this.temp = this.b / this.a, this.es = 1 - Math.pow(this.temp, 2), this.e = Math.sqrt(this.es), this.e0 = Jc(this.es), this.e1 = e_(this.es), this.e2 = t_(this.es), this.e3 = a_(this.es), this.sinphi = Math.sin(this.lat1), this.cosphi = Math.cos(this.lat1), this.ms1 = vs(this.e, this.sinphi, this.cosphi), this.ml1 = qn(this.e0, this.e1, this.e2, this.e3, this.lat1), Math.abs(this.lat1 - this.lat2) < dt ? this.ns = this.sinphi : (this.sinphi = Math.sin(this.lat2), this.cosphi = Math.cos(this.lat2), this.ms2 = vs(this.e, this.sinphi, this.cosphi), this.ml2 = qn(this.e0, this.e1, this.e2, this.e3, this.lat2), this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1)), this.g = this.ml1 + this.ms1 / this.ns, this.ml0 = qn(this.e0, this.e1, this.e2, this.e3, this.lat0), this.rh = this.a * (this.g - this.ml0));
}
function Z8(a) {
  var t = a.x, e = a.y, i;
  if (this.sphere)
    i = this.a * (this.g - e);
  else {
    var n = qn(this.e0, this.e1, this.e2, this.e3, e);
    i = this.a * (this.g - n);
  }
  var u = this.ns * vt(t - this.long0), _ = this.x0 + i * Math.sin(u), o = this.y0 + this.rh - i * Math.cos(u);
  return a.x = _, a.y = o, a;
}
function H8(a) {
  a.x -= this.x0, a.y = this.rh - a.y + this.y0;
  var t, e, i, n;
  this.ns >= 0 ? (e = Math.sqrt(a.x * a.x + a.y * a.y), t = 1) : (e = -Math.sqrt(a.x * a.x + a.y * a.y), t = -1);
  var u = 0;
  if (e !== 0 && (u = Math.atan2(t * a.x, t * a.y)), this.sphere)
    return n = vt(this.long0 + u / this.ns), i = cd(this.g - e / this.a), a.x = n, a.y = i, a;
  var _ = this.g - e / this.a;
  return i = hh(_, this.e0, this.e1, this.e2, this.e3), n = vt(this.long0 + u / this.ns), a.x = n, a.y = i, a;
}
var X8 = ["Equidistant_Conic", "eqdc"];
const K8 = {
  init: $8,
  forward: Z8,
  inverse: H8,
  names: X8
};
function Y8() {
  this.R = this.a;
}
function Q8(a) {
  var t = a.x, e = a.y, i = vt(t - this.long0), n, u;
  Math.abs(e) <= dt && (n = this.x0 + this.R * i, u = this.y0);
  var _ = jo(2 * Math.abs(e / Math.PI));
  (Math.abs(i) <= dt || Math.abs(Math.abs(e) - $e) <= dt) && (n = this.x0, e >= 0 ? u = this.y0 + Math.PI * this.R * Math.tan(0.5 * _) : u = this.y0 + Math.PI * this.R * -Math.tan(0.5 * _));
  var o = 0.5 * Math.abs(Math.PI / i - i / Math.PI), y = o * o, b = Math.sin(_), S = Math.cos(_), T = S / (b + S - 1), L = T * T, R = T * (2 / b - 1), D = R * R, j = Math.PI * this.R * (o * (T - D) + Math.sqrt(y * (T - D) * (T - D) - (D + y) * (L - D))) / (D + y);
  i < 0 && (j = -j), n = this.x0 + j;
  var Q = y + T;
  return j = Math.PI * this.R * (R * Q - o * Math.sqrt((D + y) * (y + 1) - Q * Q)) / (D + y), e >= 0 ? u = this.y0 + j : u = this.y0 - j, a.x = n, a.y = u, a;
}
function J8(a) {
  var t, e, i, n, u, _, o, y, b, S, T, L, R;
  return a.x -= this.x0, a.y -= this.y0, T = Math.PI * this.R, i = a.x / T, n = a.y / T, u = i * i + n * n, _ = -Math.abs(n) * (1 + u), o = _ - 2 * n * n + i * i, y = -2 * _ + 1 + 2 * n * n + u * u, R = n * n / y + (2 * o * o * o / y / y / y - 9 * _ * o / y / y) / 27, b = (_ - o * o / 3 / y) / y, S = 2 * Math.sqrt(-b / 3), T = 3 * R / b / S, Math.abs(T) > 1 && (T >= 0 ? T = 1 : T = -1), L = Math.acos(T) / 3, a.y >= 0 ? e = (-S * Math.cos(L + Math.PI / 3) - o / 3 / y) * Math.PI : e = -(-S * Math.cos(L + Math.PI / 3) - o / 3 / y) * Math.PI, Math.abs(i) < dt ? t = this.long0 : t = vt(this.long0 + Math.PI * (u - 1 + Math.sqrt(1 + 2 * (i * i - n * n) + u * u)) / 2 / i), a.x = t, a.y = e, a;
}
var eE = ["Van_der_Grinten_I", "VanDerGrinten", "vandg"];
const tE = {
  init: Y8,
  forward: Q8,
  inverse: J8,
  names: eE
};
function aE() {
  this.sin_p12 = Math.sin(this.lat0), this.cos_p12 = Math.cos(this.lat0);
}
function iE(a) {
  var t = a.x, e = a.y, i = Math.sin(a.y), n = Math.cos(a.y), u = vt(t - this.long0), _, o, y, b, S, T, L, R, D, j, Q, ie, J, _e, ce, we, Be, Ee, Fe, We, ke, Ze, ft;
  return this.sphere ? Math.abs(this.sin_p12 - 1) <= dt ? (a.x = this.x0 + this.a * ($e - e) * Math.sin(u), a.y = this.y0 - this.a * ($e - e) * Math.cos(u), a) : Math.abs(this.sin_p12 + 1) <= dt ? (a.x = this.x0 + this.a * ($e + e) * Math.sin(u), a.y = this.y0 + this.a * ($e + e) * Math.cos(u), a) : (Ee = this.sin_p12 * i + this.cos_p12 * n * Math.cos(u), we = Math.acos(Ee), Be = we ? we / Math.sin(we) : 1, a.x = this.x0 + this.a * Be * n * Math.sin(u), a.y = this.y0 + this.a * Be * (this.cos_p12 * i - this.sin_p12 * n * Math.cos(u)), a) : (_ = Jc(this.es), o = e_(this.es), y = t_(this.es), b = a_(this.es), Math.abs(this.sin_p12 - 1) <= dt ? (S = this.a * qn(_, o, y, b, $e), T = this.a * qn(_, o, y, b, e), a.x = this.x0 + (S - T) * Math.sin(u), a.y = this.y0 - (S - T) * Math.cos(u), a) : Math.abs(this.sin_p12 + 1) <= dt ? (S = this.a * qn(_, o, y, b, $e), T = this.a * qn(_, o, y, b, e), a.x = this.x0 + (S + T) * Math.sin(u), a.y = this.y0 + (S + T) * Math.cos(u), a) : (L = i / n, R = od(this.a, this.e, this.sin_p12), D = od(this.a, this.e, i), j = Math.atan((1 - this.es) * L + this.es * R * this.sin_p12 / (D * n)), Q = Math.atan2(Math.sin(u), this.cos_p12 * Math.tan(j) - this.sin_p12 * Math.cos(u)), Q === 0 ? Fe = Math.asin(this.cos_p12 * Math.sin(j) - this.sin_p12 * Math.cos(j)) : Math.abs(Math.abs(Q) - Math.PI) <= dt ? Fe = -Math.asin(this.cos_p12 * Math.sin(j) - this.sin_p12 * Math.cos(j)) : Fe = Math.asin(Math.sin(u) * Math.cos(j) / Math.sin(Q)), ie = this.e * this.sin_p12 / Math.sqrt(1 - this.es), J = this.e * this.cos_p12 * Math.cos(Q) / Math.sqrt(1 - this.es), _e = ie * J, ce = J * J, We = Fe * Fe, ke = We * Fe, Ze = ke * Fe, ft = Ze * Fe, we = R * Fe * (1 - We * ce * (1 - ce) / 6 + ke / 8 * _e * (1 - 2 * ce) + Ze / 120 * (ce * (4 - 7 * ce) - 3 * ie * ie * (1 - 7 * ce)) - ft / 48 * _e), a.x = this.x0 + we * Math.sin(Q), a.y = this.y0 + we * Math.cos(Q), a));
}
function nE(a) {
  a.x -= this.x0, a.y -= this.y0;
  var t, e, i, n, u, _, o, y, b, S, T, L, R, D, j, Q, ie, J, _e, ce, we, Be, Ee, Fe;
  return this.sphere ? (t = Math.sqrt(a.x * a.x + a.y * a.y), t > 2 * $e * this.a ? void 0 : (e = t / this.a, i = Math.sin(e), n = Math.cos(e), u = this.long0, Math.abs(t) <= dt ? _ = this.lat0 : (_ = jo(n * this.sin_p12 + a.y * i * this.cos_p12 / t), o = Math.abs(this.lat0) - $e, Math.abs(o) <= dt ? this.lat0 >= 0 ? u = vt(this.long0 + Math.atan2(a.x, -a.y)) : u = vt(this.long0 - Math.atan2(-a.x, a.y)) : u = vt(this.long0 + Math.atan2(a.x * i, t * this.cos_p12 * n - a.y * this.sin_p12 * i))), a.x = u, a.y = _, a)) : (y = Jc(this.es), b = e_(this.es), S = t_(this.es), T = a_(this.es), Math.abs(this.sin_p12 - 1) <= dt ? (L = this.a * qn(y, b, S, T, $e), t = Math.sqrt(a.x * a.x + a.y * a.y), R = L - t, _ = hh(R / this.a, y, b, S, T), u = vt(this.long0 + Math.atan2(a.x, -1 * a.y)), a.x = u, a.y = _, a) : Math.abs(this.sin_p12 + 1) <= dt ? (L = this.a * qn(y, b, S, T, $e), t = Math.sqrt(a.x * a.x + a.y * a.y), R = t - L, _ = hh(R / this.a, y, b, S, T), u = vt(this.long0 + Math.atan2(a.x, a.y)), a.x = u, a.y = _, a) : (t = Math.sqrt(a.x * a.x + a.y * a.y), Q = Math.atan2(a.x, a.y), D = od(this.a, this.e, this.sin_p12), ie = Math.cos(Q), J = this.e * this.cos_p12 * ie, _e = -J * J / (1 - this.es), ce = 3 * this.es * (1 - _e) * this.sin_p12 * this.cos_p12 * ie / (1 - this.es), we = t / D, Be = we - _e * (1 + _e) * Math.pow(we, 3) / 6 - ce * (1 + 3 * _e) * Math.pow(we, 4) / 24, Ee = 1 - _e * Be * Be / 2 - we * Be * Be * Be / 6, j = Math.asin(this.sin_p12 * Math.cos(Be) + this.cos_p12 * Math.sin(Be) * ie), u = vt(this.long0 + Math.asin(Math.sin(Q) * Math.sin(Be) / Math.cos(j))), Fe = Math.sin(j), _ = Math.atan2((Fe - this.es * Ee * this.sin_p12) * Math.tan(j), Fe * (1 - this.es)), a.x = u, a.y = _, a));
}
var rE = ["Azimuthal_Equidistant", "aeqd"];
const sE = {
  init: aE,
  forward: iE,
  inverse: nE,
  names: rE
};
function oE() {
  this.sin_p14 = Math.sin(this.lat0), this.cos_p14 = Math.cos(this.lat0);
}
function lE(a) {
  var t, e, i, n, u, _, o, y, b = a.x, S = a.y;
  return i = vt(b - this.long0), t = Math.sin(S), e = Math.cos(S), n = Math.cos(i), _ = this.sin_p14 * t + this.cos_p14 * e * n, u = 1, (_ > 0 || Math.abs(_) <= dt) && (o = this.a * u * e * Math.sin(i), y = this.y0 + this.a * u * (this.cos_p14 * t - this.sin_p14 * e * n)), a.x = o, a.y = y, a;
}
function uE(a) {
  var t, e, i, n, u, _, o;
  return a.x -= this.x0, a.y -= this.y0, t = Math.sqrt(a.x * a.x + a.y * a.y), e = jo(t / this.a), i = Math.sin(e), n = Math.cos(e), _ = this.long0, Math.abs(t) <= dt ? (o = this.lat0, a.x = _, a.y = o, a) : (o = jo(n * this.sin_p14 + a.y * i * this.cos_p14 / t), u = Math.abs(this.lat0) - $e, Math.abs(u) <= dt ? (this.lat0 >= 0 ? _ = vt(this.long0 + Math.atan2(a.x, -a.y)) : _ = vt(this.long0 - Math.atan2(-a.x, a.y)), a.x = _, a.y = o, a) : (_ = vt(this.long0 + Math.atan2(a.x * i, t * this.cos_p14 * n - a.y * this.sin_p14 * i)), a.x = _, a.y = o, a));
}
var dE = ["ortho"];
const cE = {
  init: oE,
  forward: lE,
  inverse: uE,
  names: dE
};
var ni = {
  FRONT: 1,
  RIGHT: 2,
  BACK: 3,
  LEFT: 4,
  TOP: 5,
  BOTTOM: 6
}, Ta = {
  AREA_0: 1,
  AREA_1: 2,
  AREA_2: 3,
  AREA_3: 4
};
function _E() {
  this.x0 = this.x0 || 0, this.y0 = this.y0 || 0, this.lat0 = this.lat0 || 0, this.long0 = this.long0 || 0, this.lat_ts = this.lat_ts || 0, this.title = this.title || "Quadrilateralized Spherical Cube", this.lat0 >= $e - Sa / 2 ? this.face = ni.TOP : this.lat0 <= -($e - Sa / 2) ? this.face = ni.BOTTOM : Math.abs(this.long0) <= Sa ? this.face = ni.FRONT : Math.abs(this.long0) <= $e + Sa ? this.face = this.long0 > 0 ? ni.RIGHT : ni.LEFT : this.face = ni.BACK, this.es !== 0 && (this.one_minus_f = 1 - (this.a - this.b) / this.a, this.one_minus_f_squared = this.one_minus_f * this.one_minus_f);
}
function mE(a) {
  var t = { x: 0, y: 0 }, e, i, n, u, _, o, y = { value: 0 };
  if (a.x -= this.long0, this.es !== 0 ? e = Math.atan(this.one_minus_f_squared * Math.tan(a.y)) : e = a.y, i = a.x, this.face === ni.TOP)
    u = $e - e, i >= Sa && i <= $e + Sa ? (y.value = Ta.AREA_0, n = i - $e) : i > $e + Sa || i <= -($e + Sa) ? (y.value = Ta.AREA_1, n = i > 0 ? i - yi : i + yi) : i > -($e + Sa) && i <= -Sa ? (y.value = Ta.AREA_2, n = i + $e) : (y.value = Ta.AREA_3, n = i);
  else if (this.face === ni.BOTTOM)
    u = $e + e, i >= Sa && i <= $e + Sa ? (y.value = Ta.AREA_0, n = -i + $e) : i < Sa && i >= -Sa ? (y.value = Ta.AREA_1, n = -i) : i < -Sa && i >= -($e + Sa) ? (y.value = Ta.AREA_2, n = -i - $e) : (y.value = Ta.AREA_3, n = i > 0 ? -i + yi : -i - yi);
  else {
    var b, S, T, L, R, D, j;
    this.face === ni.RIGHT ? i = ed(i, +$e) : this.face === ni.BACK ? i = ed(i, +yi) : this.face === ni.LEFT && (i = ed(i, -$e)), L = Math.sin(e), R = Math.cos(e), D = Math.sin(i), j = Math.cos(i), b = R * j, S = R * D, T = L, this.face === ni.FRONT ? (u = Math.acos(b), n = Mm(u, T, S, y)) : this.face === ni.RIGHT ? (u = Math.acos(S), n = Mm(u, T, -b, y)) : this.face === ni.BACK ? (u = Math.acos(-b), n = Mm(u, T, -S, y)) : this.face === ni.LEFT ? (u = Math.acos(-S), n = Mm(u, T, b, y)) : (u = n = 0, y.value = Ta.AREA_0);
  }
  return o = Math.atan(12 / yi * (n + Math.acos(Math.sin(n) * Math.cos(Sa)) - $e)), _ = Math.sqrt((1 - Math.cos(u)) / (Math.cos(o) * Math.cos(o)) / (1 - Math.cos(Math.atan(1 / Math.cos(n))))), y.value === Ta.AREA_1 ? o += $e : y.value === Ta.AREA_2 ? o += yi : y.value === Ta.AREA_3 && (o += 1.5 * yi), t.x = _ * Math.cos(o), t.y = _ * Math.sin(o), t.x = t.x * this.a + this.x0, t.y = t.y * this.a + this.y0, a.x = t.x, a.y = t.y, a;
}
function hE(a) {
  var t = { lam: 0, phi: 0 }, e, i, n, u, _, o, y, b, S, T = { value: 0 };
  if (a.x = (a.x - this.x0) / this.a, a.y = (a.y - this.y0) / this.a, i = Math.atan(Math.sqrt(a.x * a.x + a.y * a.y)), e = Math.atan2(a.y, a.x), a.x >= 0 && a.x >= Math.abs(a.y) ? T.value = Ta.AREA_0 : a.y >= 0 && a.y >= Math.abs(a.x) ? (T.value = Ta.AREA_1, e -= $e) : a.x < 0 && -a.x >= Math.abs(a.y) ? (T.value = Ta.AREA_2, e = e < 0 ? e + yi : e - yi) : (T.value = Ta.AREA_3, e += $e), S = yi / 12 * Math.tan(e), _ = Math.sin(S) / (Math.cos(S) - 1 / Math.sqrt(2)), o = Math.atan(_), n = Math.cos(e), u = Math.tan(i), y = 1 - n * n * u * u * (1 - Math.cos(Math.atan(1 / Math.cos(o)))), y < -1 ? y = -1 : y > 1 && (y = 1), this.face === ni.TOP)
    b = Math.acos(y), t.phi = $e - b, T.value === Ta.AREA_0 ? t.lam = o + $e : T.value === Ta.AREA_1 ? t.lam = o < 0 ? o + yi : o - yi : T.value === Ta.AREA_2 ? t.lam = o - $e : t.lam = o;
  else if (this.face === ni.BOTTOM)
    b = Math.acos(y), t.phi = b - $e, T.value === Ta.AREA_0 ? t.lam = -o + $e : T.value === Ta.AREA_1 ? t.lam = -o : T.value === Ta.AREA_2 ? t.lam = -o - $e : t.lam = o < 0 ? -o - yi : -o + yi;
  else {
    var L, R, D;
    L = y, S = L * L, S >= 1 ? D = 0 : D = Math.sqrt(1 - S) * Math.sin(o), S += D * D, S >= 1 ? R = 0 : R = Math.sqrt(1 - S), T.value === Ta.AREA_1 ? (S = R, R = -D, D = S) : T.value === Ta.AREA_2 ? (R = -R, D = -D) : T.value === Ta.AREA_3 && (S = R, R = D, D = -S), this.face === ni.RIGHT ? (S = L, L = -R, R = S) : this.face === ni.BACK ? (L = -L, R = -R) : this.face === ni.LEFT && (S = L, L = R, R = -S), t.phi = Math.acos(-D) - $e, t.lam = Math.atan2(R, L), this.face === ni.RIGHT ? t.lam = ed(t.lam, -$e) : this.face === ni.BACK ? t.lam = ed(t.lam, -yi) : this.face === ni.LEFT && (t.lam = ed(t.lam, +$e));
  }
  if (this.es !== 0) {
    var j, Q, ie;
    j = t.phi < 0 ? 1 : 0, Q = Math.tan(t.phi), ie = this.b / Math.sqrt(Q * Q + this.one_minus_f_squared), t.phi = Math.atan(Math.sqrt(this.a * this.a - ie * ie) / (this.one_minus_f * ie)), j && (t.phi = -t.phi);
  }
  return t.lam += this.long0, a.x = t.lam, a.y = t.phi, a;
}
function Mm(a, t, e, i) {
  var n;
  return a < dt ? (i.value = Ta.AREA_0, n = 0) : (n = Math.atan2(t, e), Math.abs(n) <= Sa ? i.value = Ta.AREA_0 : n > Sa && n <= $e + Sa ? (i.value = Ta.AREA_1, n -= $e) : n > $e + Sa || n <= -($e + Sa) ? (i.value = Ta.AREA_2, n = n >= 0 ? n - yi : n + yi) : (i.value = Ta.AREA_3, n += $e)), n;
}
function ed(a, t) {
  var e = a + t;
  return e < -yi ? e += Nc : e > +yi && (e -= Nc), e;
}
var pE = ["Quadrilateralized Spherical Cube", "Quadrilateralized_Spherical_Cube", "qsc"];
const fE = {
  init: _E,
  forward: mE,
  inverse: hE,
  names: pE
};
var yg = [
  [1, 22199e-21, -715515e-10, 31103e-10],
  [0.9986, -482243e-9, -24897e-9, -13309e-10],
  [0.9954, -83103e-8, -448605e-10, -986701e-12],
  [0.99, -135364e-8, -59661e-9, 36777e-10],
  [0.9822, -167442e-8, -449547e-11, -572411e-11],
  [0.973, -214868e-8, -903571e-10, 18736e-12],
  [0.96, -305085e-8, -900761e-10, 164917e-11],
  [0.9427, -382792e-8, -653386e-10, -26154e-10],
  [0.9216, -467746e-8, -10457e-8, 481243e-11],
  [0.8962, -536223e-8, -323831e-10, -543432e-11],
  [0.8679, -609363e-8, -113898e-9, 332484e-11],
  [0.835, -698325e-8, -640253e-10, 934959e-12],
  [0.7986, -755338e-8, -500009e-10, 935324e-12],
  [0.7597, -798324e-8, -35971e-9, -227626e-11],
  [0.7186, -851367e-8, -701149e-10, -86303e-10],
  [0.6732, -986209e-8, -199569e-9, 191974e-10],
  [0.6213, -0.010418, 883923e-10, 624051e-11],
  [0.5722, -906601e-8, 182e-6, 624051e-11],
  [0.5322, -677797e-8, 275608e-9, 624051e-11]
], vc = [
  [-520417e-23, 0.0124, 121431e-23, -845284e-16],
  [0.062, 0.0124, -126793e-14, 422642e-15],
  [0.124, 0.0124, 507171e-14, -160604e-14],
  [0.186, 0.0123999, -190189e-13, 600152e-14],
  [0.248, 0.0124002, 710039e-13, -224e-10],
  [0.31, 0.0123992, -264997e-12, 835986e-13],
  [0.372, 0.0124029, 988983e-12, -311994e-12],
  [0.434, 0.0123893, -369093e-11, -435621e-12],
  [0.4958, 0.0123198, -102252e-10, -345523e-12],
  [0.5571, 0.0121916, -154081e-10, -582288e-12],
  [0.6176, 0.0119938, -241424e-10, -525327e-12],
  [0.6769, 0.011713, -320223e-10, -516405e-12],
  [0.7346, 0.0113541, -397684e-10, -609052e-12],
  [0.7903, 0.0109107, -489042e-10, -104739e-11],
  [0.8435, 0.0103431, -64615e-9, -140374e-14],
  [0.8936, 969686e-8, -64636e-9, -8547e-9],
  [0.9394, 840947e-8, -192841e-9, -42106e-10],
  [0.9761, 616527e-8, -256e-6, -42106e-10],
  [1, 328947e-8, -319159e-9, -42106e-10]
], eb = 0.8487, tb = 1.3523, ab = _s / 5, gE = 1 / ab, Hu = 18, ph = function(a, t) {
  return a[0] + t * (a[1] + t * (a[2] + t * a[3]));
}, yE = function(a, t) {
  return a[1] + t * (2 * a[2] + t * 3 * a[3]);
};
function vE(a, t, e, i) {
  for (var n = t; i; --i) {
    var u = a(n);
    if (n -= u, Math.abs(u) < e)
      break;
  }
  return n;
}
function bE() {
  this.x0 = this.x0 || 0, this.y0 = this.y0 || 0, this.long0 = this.long0 || 0, this.es = 0, this.title = this.title || "Robinson";
}
function xE(a) {
  var t = vt(a.x - this.long0), e = Math.abs(a.y), i = Math.floor(e * ab);
  i < 0 ? i = 0 : i >= Hu && (i = Hu - 1), e = _s * (e - gE * i);
  var n = {
    x: ph(yg[i], e) * t,
    y: ph(vc[i], e)
  };
  return a.y < 0 && (n.y = -n.y), n.x = n.x * this.a * eb + this.x0, n.y = n.y * this.a * tb + this.y0, n;
}
function wE(a) {
  var t = {
    x: (a.x - this.x0) / (this.a * eb),
    y: Math.abs(a.y - this.y0) / (this.a * tb)
  };
  if (t.y >= 1)
    t.x /= yg[Hu][0], t.y = a.y < 0 ? -$e : $e;
  else {
    var e = Math.floor(t.y * Hu);
    for (e < 0 ? e = 0 : e >= Hu && (e = Hu - 1); ; )
      if (vc[e][0] > t.y)
        --e;
      else if (vc[e + 1][0] <= t.y)
        ++e;
      else
        break;
    var i = vc[e], n = 5 * (t.y - i[0]) / (vc[e + 1][0] - i[0]);
    n = vE(function(u) {
      return (ph(i, u) - t.y) / yE(i, u);
    }, n, dt, 100), t.x /= ph(yg[e], n), t.y = (5 * e + n) * ln, a.y < 0 && (t.y = -t.y);
  }
  return t.x = vt(t.x + this.long0), t;
}
var SE = ["Robinson", "robin"];
const TE = {
  init: bE,
  forward: xE,
  inverse: wE,
  names: SE
};
function ME() {
  this.name = "geocent";
}
function EE(a) {
  var t = F2(a, this.es, this.a);
  return t;
}
function LE(a) {
  var t = G2(a, this.es, this.a, this.b);
  return t;
}
var CE = ["Geocentric", "geocentric", "geocent", "Geocent"];
const AE = {
  init: ME,
  forward: EE,
  inverse: LE,
  names: CE
};
var wn = {
  N_POLE: 0,
  S_POLE: 1,
  EQUIT: 2,
  OBLIQ: 3
}, mc = {
  h: { def: 1e5, num: !0 },
  // default is Karman line, no default in PROJ.7
  azi: { def: 0, num: !0, degrees: !0 },
  // default is North
  tilt: { def: 0, num: !0, degrees: !0 },
  // default is Nadir
  long0: { def: 0, num: !0 },
  // default is Greenwich, conversion to rad is automatic
  lat0: { def: 0, num: !0 }
  // default is Equator, conversion to rad is automatic
};
function IE() {
  if (Object.keys(mc).forEach(function(e) {
    if (typeof this[e] > "u")
      this[e] = mc[e].def;
    else {
      if (mc[e].num && isNaN(this[e]))
        throw new Error("Invalid parameter value, must be numeric " + e + " = " + this[e]);
      mc[e].num && (this[e] = parseFloat(this[e]));
    }
    mc[e].degrees && (this[e] = this[e] * ln);
  }.bind(this)), Math.abs(Math.abs(this.lat0) - $e) < dt ? this.mode = this.lat0 < 0 ? wn.S_POLE : wn.N_POLE : Math.abs(this.lat0) < dt ? this.mode = wn.EQUIT : (this.mode = wn.OBLIQ, this.sinph0 = Math.sin(this.lat0), this.cosph0 = Math.cos(this.lat0)), this.pn1 = this.h / this.a, this.pn1 <= 0 || this.pn1 > 1e10)
    throw new Error("Invalid height");
  this.p = 1 + this.pn1, this.rp = 1 / this.p, this.h1 = 1 / this.pn1, this.pfact = (this.p + 1) * this.h1, this.es = 0;
  var a = this.tilt, t = this.azi;
  this.cg = Math.cos(t), this.sg = Math.sin(t), this.cw = Math.cos(a), this.sw = Math.sin(a);
}
function PE(a) {
  a.x -= this.long0;
  var t = Math.sin(a.y), e = Math.cos(a.y), i = Math.cos(a.x), n, u;
  switch (this.mode) {
    case wn.OBLIQ:
      u = this.sinph0 * t + this.cosph0 * e * i;
      break;
    case wn.EQUIT:
      u = e * i;
      break;
    case wn.S_POLE:
      u = -t;
      break;
    case wn.N_POLE:
      u = t;
      break;
  }
  switch (u = this.pn1 / (this.p - u), n = u * e * Math.sin(a.x), this.mode) {
    case wn.OBLIQ:
      u *= this.cosph0 * t - this.sinph0 * e * i;
      break;
    case wn.EQUIT:
      u *= t;
      break;
    case wn.N_POLE:
      u *= -(e * i);
      break;
    case wn.S_POLE:
      u *= e * i;
      break;
  }
  var _, o;
  return _ = u * this.cg + n * this.sg, o = 1 / (_ * this.sw * this.h1 + this.cw), n = (n * this.cg - u * this.sg) * this.cw * o, u = _ * o, a.x = n * this.a, a.y = u * this.a, a;
}
function OE(a) {
  a.x /= this.a, a.y /= this.a;
  var t = { x: a.x, y: a.y }, e, i, n;
  n = 1 / (this.pn1 - a.y * this.sw), e = this.pn1 * a.x * n, i = this.pn1 * a.y * this.cw * n, a.x = e * this.cg + i * this.sg, a.y = i * this.cg - e * this.sg;
  var u = Kr(a.x, a.y);
  if (Math.abs(u) < dt)
    t.x = 0, t.y = a.y;
  else {
    var _, o;
    switch (o = 1 - u * u * this.pfact, o = (this.p - Math.sqrt(o)) / (this.pn1 / u + u / this.pn1), _ = Math.sqrt(1 - o * o), this.mode) {
      case wn.OBLIQ:
        t.y = Math.asin(_ * this.sinph0 + a.y * o * this.cosph0 / u), a.y = (_ - this.sinph0 * Math.sin(t.y)) * u, a.x *= o * this.cosph0;
        break;
      case wn.EQUIT:
        t.y = Math.asin(a.y * o / u), a.y = _ * u, a.x *= o;
        break;
      case wn.N_POLE:
        t.y = Math.asin(_), a.y = -a.y;
        break;
      case wn.S_POLE:
        t.y = -Math.asin(_);
        break;
    }
    t.x = Math.atan2(a.x, a.y);
  }
  return a.x = t.x + this.long0, a.y = t.y, a;
}
var RE = ["Tilted_Perspective", "tpers"];
const kE = {
  init: IE,
  forward: PE,
  inverse: OE,
  names: RE
};
function DE() {
  if (this.flip_axis = this.sweep === "x" ? 1 : 0, this.h = Number(this.h), this.radius_g_1 = this.h / this.a, this.radius_g_1 <= 0 || this.radius_g_1 > 1e10)
    throw new Error();
  if (this.radius_g = 1 + this.radius_g_1, this.C = this.radius_g * this.radius_g - 1, this.es !== 0) {
    var a = 1 - this.es, t = 1 / a;
    this.radius_p = Math.sqrt(a), this.radius_p2 = a, this.radius_p_inv2 = t, this.shape = "ellipse";
  } else
    this.radius_p = 1, this.radius_p2 = 1, this.radius_p_inv2 = 1, this.shape = "sphere";
  this.title || (this.title = "Geostationary Satellite View");
}
function WE(a) {
  var t = a.x, e = a.y, i, n, u, _;
  if (t = t - this.long0, this.shape === "ellipse") {
    e = Math.atan(this.radius_p2 * Math.tan(e));
    var o = this.radius_p / Kr(this.radius_p * Math.cos(e), Math.sin(e));
    if (n = o * Math.cos(t) * Math.cos(e), u = o * Math.sin(t) * Math.cos(e), _ = o * Math.sin(e), (this.radius_g - n) * n - u * u - _ * _ * this.radius_p_inv2 < 0)
      return a.x = Number.NaN, a.y = Number.NaN, a;
    i = this.radius_g - n, this.flip_axis ? (a.x = this.radius_g_1 * Math.atan(u / Kr(_, i)), a.y = this.radius_g_1 * Math.atan(_ / i)) : (a.x = this.radius_g_1 * Math.atan(u / i), a.y = this.radius_g_1 * Math.atan(_ / Kr(u, i)));
  } else
    this.shape === "sphere" && (i = Math.cos(e), n = Math.cos(t) * i, u = Math.sin(t) * i, _ = Math.sin(e), i = this.radius_g - n, this.flip_axis ? (a.x = this.radius_g_1 * Math.atan(u / Kr(_, i)), a.y = this.radius_g_1 * Math.atan(_ / i)) : (a.x = this.radius_g_1 * Math.atan(u / i), a.y = this.radius_g_1 * Math.atan(_ / Kr(u, i))));
  return a.x = a.x * this.a, a.y = a.y * this.a, a;
}
function zE(a) {
  var t = -1, e = 0, i = 0, n, u, _, o;
  if (a.x = a.x / this.a, a.y = a.y / this.a, this.shape === "ellipse") {
    this.flip_axis ? (i = Math.tan(a.y / this.radius_g_1), e = Math.tan(a.x / this.radius_g_1) * Kr(1, i)) : (e = Math.tan(a.x / this.radius_g_1), i = Math.tan(a.y / this.radius_g_1) * Kr(1, e));
    var y = i / this.radius_p;
    if (n = e * e + y * y + t * t, u = 2 * this.radius_g * t, _ = u * u - 4 * n * this.C, _ < 0)
      return a.x = Number.NaN, a.y = Number.NaN, a;
    o = (-u - Math.sqrt(_)) / (2 * n), t = this.radius_g + o * t, e *= o, i *= o, a.x = Math.atan2(e, t), a.y = Math.atan(i * Math.cos(a.x) / t), a.y = Math.atan(this.radius_p_inv2 * Math.tan(a.y));
  } else if (this.shape === "sphere") {
    if (this.flip_axis ? (i = Math.tan(a.y / this.radius_g_1), e = Math.tan(a.x / this.radius_g_1) * Math.sqrt(1 + i * i)) : (e = Math.tan(a.x / this.radius_g_1), i = Math.tan(a.y / this.radius_g_1) * Math.sqrt(1 + e * e)), n = e * e + i * i + t * t, u = 2 * this.radius_g * t, _ = u * u - 4 * n * this.C, _ < 0)
      return a.x = Number.NaN, a.y = Number.NaN, a;
    o = (-u - Math.sqrt(_)) / (2 * n), t = this.radius_g + o * t, e *= o, i *= o, a.x = Math.atan2(e, t), a.y = Math.atan(i * Math.cos(a.x) / t);
  }
  return a.x = a.x + this.long0, a;
}
var BE = ["Geostationary Satellite View", "Geostationary_Satellite", "geos"];
const NE = {
  init: DE,
  forward: WE,
  inverse: zE,
  names: BE
};
function qE(a) {
  a.Proj.projections.add(eh), a.Proj.projections.add(th), a.Proj.projections.add($5), a.Proj.projections.add(aM), a.Proj.projections.add(lM), a.Proj.projections.add(mM), a.Proj.projections.add(vM), a.Proj.projections.add(TM), a.Proj.projections.add(AM), a.Proj.projections.add(kM), a.Proj.projections.add(YM), a.Proj.projections.add(i8), a.Proj.projections.add(l8), a.Proj.projections.add(h8), a.Proj.projections.add(v8), a.Proj.projections.add(T8), a.Proj.projections.add(A8), a.Proj.projections.add(k8), a.Proj.projections.add(q8), a.Proj.projections.add(V8), a.Proj.projections.add(K8), a.Proj.projections.add(tE), a.Proj.projections.add(sE), a.Proj.projections.add(cE), a.Proj.projections.add(fE), a.Proj.projections.add(TE), a.Proj.projections.add(AE), a.Proj.projections.add(kE), a.Proj.projections.add(NE);
}
Sn.defaultDatum = "WGS84";
Sn.Proj = ps;
Sn.WGS84 = new Sn.Proj("WGS84");
Sn.Point = sd;
Sn.toPoint = U2;
Sn.defs = Bn;
Sn.nadgrid = HT;
Sn.transform = mh;
Sn.mgrs = d5;
Sn.version = "__VERSION__";
qE(Sn);
function FE() {
  var a, t, e;
  Sn.defs("EPSG:32632", "+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs"), Sn.defs("EPSG:32631", "+proj=utm +zone=31 +datum=WGS84 +units=m +no_defs"), Sn.defs(
    "EPSG:2169",
    "+proj=tmerc +lat_0=49.83333333333334 +lon_0=6.166666666666667 +k=1 +x_0=80000 +y_0=100000 +ellps=intl +towgs84=-189.681,18.3463,-42.7695,-0.33746,-3.09264,2.53861,0.4598 +units=m +no_defs"
  ), lT(Sn), (a = Di("EPSG:32632")) == null || a.setExtent([
    166021.44,
    0,
    833978.55,
    932900518e-2
  ]), (t = Di("EPSG:32631")) == null || t.setExtent([
    166021.44,
    0,
    833978.55,
    932900518e-2
  ]), (e = Di("EPSG:2169")) == null || e.setExtent([
    48225.17,
    56225.6,
    105842.04,
    139616.4
  ]);
}
function GE(a, t, e) {
  const i = rS(a);
  class n extends Yg {
    constructor(_) {
      super(i, _, t, e);
    }
  }
  return Pi(n, "def", i), n;
}
const UE = typeof HTMLElement < "u" ? HTMLElement : class {
};
class Yg extends UE {
  constructor(e, i = {}, n = {}, u) {
    super();
    /**
     * @internal
     */
    Pi(this, "_instance", null);
    Pi(this, "_connected", !1);
    Pi(this, "_resolved", !1);
    Pi(this, "_numberProps", null);
    Pi(this, "_styles");
    Pi(this, "_slots");
    this._def = e, this._props = i, this._config = n, this._config = Q0(
      {
        shadowRoot: !0
      },
      this._config
    ), this._config.shadowRoot ? this.shadowRoot && u ? u(this._createVNode(), this.shadowRoot) : (this.attachShadow({ mode: "open" }), this._def.__asyncLoader || this._resolveProps(this._def)) : u && u(this._createVNode(), this._root);
  }
  get _root() {
    return this._config.shadowRoot ? this.shadowRoot : this;
  }
  connectedCallback() {
    this._connected = !0, this._instance || (this._resolved ? this._update() : this._resolveDef());
  }
  disconnectedCallback() {
    this._connected = !1, sS(() => {
      this._connected || (t1(null, this._root), this._instance = null);
    });
  }
  /**
   * resolve inner component definition (handle possible async component)
   */
  _resolveDef() {
    this._resolved = !0;
    for (let n = 0; n < this.attributes.length; n++)
      this._setAttr(this.attributes[n].name);
    new MutationObserver((n) => {
      for (const u of n)
        this._setAttr(u.attributeName);
    }).observe(this, { attributes: !0 });
    const e = (n, u = !1) => {
      const { props: _, styles: o } = n;
      let y;
      if (_ && !J0(_))
        for (const b in _) {
          const S = _[b];
          (S === Number || S && S.type === Number) && (b in this._props && (this._props[b] = e1(this._props[b])), (y || (y = /* @__PURE__ */ Object.create(null)))[pf(b)] = !0);
        }
      this._numberProps = y, u && this._resolveProps(n), this._applyStyles(o), this._update();
    }, i = this._def.__asyncLoader;
    i ? i().then((n) => e(n, !0)) : e(this._def);
  }
  _resolveProps(e) {
    const { props: i } = e, n = J0(i) ? i : Object.keys(i || {});
    for (const u of Object.keys(this))
      u[0] !== "_" && n.includes(u) && this._setProp(u, this[u], !0, !1);
    for (const u of n.map(pf))
      Object.defineProperty(this, u, {
        get() {
          return this._getProp(u);
        },
        set(_) {
          this._setProp(u, _);
        }
      });
  }
  _setAttr(e) {
    let i = this.getAttribute(e);
    const n = pf(e);
    this._numberProps && this._numberProps[n] && (i = e1(i)), this._setProp(n, i, !1);
  }
  /**
   * @internal
   */
  _getProp(e) {
    return this._props[e];
  }
  /**
   * @internal
   */
  _setProp(e, i, n = !0, u = !0) {
    i !== this._props[e] && (this._props[e] = i, u && this._instance && this._update(), n && (i === !0 ? this.setAttribute(cc(e), "") : typeof i == "string" || typeof i == "number" ? this.setAttribute(cc(e), i + "") : i || this.removeAttribute(cc(e))));
  }
  _update() {
    t1(this._createVNode(), this._root);
  }
  _createVNode() {
    const e = oS(this._def, Q0({}, this._props));
    return this._instance || (e.ce = (i) => {
      this._instance = i, i.isCE = !0;
      const n = (_, o) => {
        this.dispatchEvent(
          new CustomEvent(_, {
            detail: o
          })
        );
      };
      i.emit = (_, ...o) => {
        n(_, o), cc(_) !== _ && n(cc(_), o);
      };
      let u = this;
      for (; u = u && (u.parentNode || u.host); )
        if (u instanceof Yg) {
          i.parent = u._instance, i.provides = u._instance.provides;
          break;
        }
    }), e;
  }
  _applyStyles(e) {
    e && e.forEach((i) => {
      const n = document.createElement("style");
      n.textContent = i, this._root.appendChild(n);
    });
  }
}
const jE = { class: "lux-dropdown" }, VE = { class: "h-full" }, $E = ["aria-expanded"], ZE = /* @__PURE__ */ Ge("span", { class: "lux-caret" }, null, -1), HE = { class: "lux-dropdown-wrapper" }, XE = ["aria-label", "data-value"], ib = /* @__PURE__ */ Ka({
  __name: "dropdown-list",
  props: {
    placeholder: null,
    options: { default: () => [{ label: "Default label", value: "Default value" }] },
    modelValue: null
  },
  emits: ["change"],
  setup(a, { emit: t }) {
    const e = a, i = Fn(!1), n = Fn();
    function u(b) {
      i.value = b === void 0 ? !i.value : b;
    }
    function _(b) {
      b.stopImmediatePropagation(), u();
    }
    function o(b) {
      n.value = b.target.dataset.value, t("change", n.value);
    }
    function y() {
      u(!1);
    }
    return Uh(() => document.addEventListener("click", y)), J4(() => document.removeEventListener("click", y)), (b, S) => {
      var T;
      return ut(), bt("div", jE, [
        Ge("div", VE, [
          Ge("button", {
            type: "button",
            class: Ua(["lux-btn lux-dropdown-btn", Oe(i) ? "expanded" : ""]),
            "aria-expanded": Oe(i),
            "aria-haspopup": "true",
            onClick: _
          }, [
            Ge("span", null, Ft(e.placeholder ?? ((T = e.options[0]) == null ? void 0 : T.label)), 1),
            ZE
          ], 10, $E)
        ]),
        Ge("div", HE, [
          Ge("ul", {
            class: Ua(["lux-dropdown-list", Oe(i) ? "" : "hidden"]),
            tabindex: "-1"
          }, [
            (ut(!0), bt(Or, null, Qs(e.options, (L) => (ut(), bt("li", {
              key: L.value,
              class: Ua(a.modelValue === L.value ? "selected" : "")
            }, [
              Ge("button", {
                class: "lux-dropdown-list-item",
                "aria-label": L.ariaLabel,
                "data-value": L.value,
                onClick: o
              }, Ft(L.label), 9, XE)
            ], 2))), 128))
          ], 2)
        ])
      ]);
    };
  }
});
/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function q1(a, t) {
  var e = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(a);
    t && (i = i.filter(function(n) {
      return Object.getOwnPropertyDescriptor(a, n).enumerable;
    })), e.push.apply(e, i);
  }
  return e;
}
function bs(a) {
  for (var t = 1; t < arguments.length; t++) {
    var e = arguments[t] != null ? arguments[t] : {};
    t % 2 ? q1(Object(e), !0).forEach(function(i) {
      KE(a, i, e[i]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(e)) : q1(Object(e)).forEach(function(i) {
      Object.defineProperty(a, i, Object.getOwnPropertyDescriptor(e, i));
    });
  }
  return a;
}
function ah(a) {
  return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? ah = function(t) {
    return typeof t;
  } : ah = function(t) {
    return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
  }, ah(a);
}
function KE(a, t, e) {
  return t in a ? Object.defineProperty(a, t, {
    value: e,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : a[t] = e, a;
}
function Ks() {
  return Ks = Object.assign || function(a) {
    for (var t = 1; t < arguments.length; t++) {
      var e = arguments[t];
      for (var i in e)
        Object.prototype.hasOwnProperty.call(e, i) && (a[i] = e[i]);
    }
    return a;
  }, Ks.apply(this, arguments);
}
function YE(a, t) {
  if (a == null)
    return {};
  var e = {}, i = Object.keys(a), n, u;
  for (u = 0; u < i.length; u++)
    n = i[u], !(t.indexOf(n) >= 0) && (e[n] = a[n]);
  return e;
}
function QE(a, t) {
  if (a == null)
    return {};
  var e = YE(a, t), i, n;
  if (Object.getOwnPropertySymbols) {
    var u = Object.getOwnPropertySymbols(a);
    for (n = 0; n < u.length; n++)
      i = u[n], !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(a, i) && (e[i] = a[i]);
  }
  return e;
}
var JE = "1.15.0";
function Hs(a) {
  if (typeof window < "u" && window.navigator)
    return !!/* @__PURE__ */ navigator.userAgent.match(a);
}
var eo = Hs(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i), i_ = Hs(/Edge/i), F1 = Hs(/firefox/i), Ec = Hs(/safari/i) && !Hs(/chrome/i) && !Hs(/android/i), nb = Hs(/iP(ad|od|hone)/i), rb = Hs(/chrome/i) && Hs(/android/i), sb = {
  capture: !1,
  passive: !1
};
function xa(a, t, e) {
  a.addEventListener(t, e, !eo && sb);
}
function pa(a, t, e) {
  a.removeEventListener(t, e, !eo && sb);
}
function fh(a, t) {
  if (t) {
    if (t[0] === ">" && (t = t.substring(1)), a)
      try {
        if (a.matches)
          return a.matches(t);
        if (a.msMatchesSelector)
          return a.msMatchesSelector(t);
        if (a.webkitMatchesSelector)
          return a.webkitMatchesSelector(t);
      } catch {
        return !1;
      }
    return !1;
  }
}
function e6(a) {
  return a.host && a !== document && a.host.nodeType ? a.host : a.parentNode;
}
function cs(a, t, e, i) {
  if (a) {
    e = e || document;
    do {
      if (t != null && (t[0] === ">" ? a.parentNode === e && fh(a, t) : fh(a, t)) || i && a === e)
        return a;
      if (a === e)
        break;
    } while (a = e6(a));
  }
  return null;
}
var G1 = /\s+/g;
function mr(a, t, e) {
  if (a && t)
    if (a.classList)
      a.classList[e ? "add" : "remove"](t);
    else {
      var i = (" " + a.className + " ").replace(G1, " ").replace(" " + t + " ", " ");
      a.className = (i + (e ? " " + t : "")).replace(G1, " ");
    }
}
function Ot(a, t, e) {
  var i = a && a.style;
  if (i) {
    if (e === void 0)
      return document.defaultView && document.defaultView.getComputedStyle ? e = document.defaultView.getComputedStyle(a, "") : a.currentStyle && (e = a.currentStyle), t === void 0 ? e : e[t];
    !(t in i) && t.indexOf("webkit") === -1 && (t = "-webkit-" + t), i[t] = e + (typeof e == "string" ? "" : "px");
  }
}
function td(a, t) {
  var e = "";
  if (typeof a == "string")
    e = a;
  else
    do {
      var i = Ot(a, "transform");
      i && i !== "none" && (e = i + " " + e);
    } while (!t && (a = a.parentNode));
  var n = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;
  return n && new n(e);
}
function ob(a, t, e) {
  if (a) {
    var i = a.getElementsByTagName(t), n = 0, u = i.length;
    if (e)
      for (; n < u; n++)
        e(i[n], n);
    return i;
  }
  return [];
}
function fs() {
  var a = document.scrollingElement;
  return a || document.documentElement;
}
function qi(a, t, e, i, n) {
  if (!(!a.getBoundingClientRect && a !== window)) {
    var u, _, o, y, b, S, T;
    if (a !== window && a.parentNode && a !== fs() ? (u = a.getBoundingClientRect(), _ = u.top, o = u.left, y = u.bottom, b = u.right, S = u.height, T = u.width) : (_ = 0, o = 0, y = window.innerHeight, b = window.innerWidth, S = window.innerHeight, T = window.innerWidth), (t || e) && a !== window && (n = n || a.parentNode, !eo))
      do
        if (n && n.getBoundingClientRect && (Ot(n, "transform") !== "none" || e && Ot(n, "position") !== "static")) {
          var L = n.getBoundingClientRect();
          _ -= L.top + parseInt(Ot(n, "border-top-width")), o -= L.left + parseInt(Ot(n, "border-left-width")), y = _ + u.height, b = o + u.width;
          break;
        }
      while (n = n.parentNode);
    if (i && a !== window) {
      var R = td(n || a), D = R && R.a, j = R && R.d;
      R && (_ /= j, o /= D, T /= D, S /= j, y = _ + S, b = o + T);
    }
    return {
      top: _,
      left: o,
      bottom: y,
      right: b,
      width: T,
      height: S
    };
  }
}
function U1(a, t, e) {
  for (var i = Wo(a, !0), n = qi(a)[t]; i; ) {
    var u = qi(i)[e], _ = void 0;
    if (e === "top" || e === "left" ? _ = n >= u : _ = n <= u, !_)
      return i;
    if (i === fs())
      break;
    i = Wo(i, !1);
  }
  return !1;
}
function ld(a, t, e, i) {
  for (var n = 0, u = 0, _ = a.children; u < _.length; ) {
    if (_[u].style.display !== "none" && _[u] !== Rt.ghost && (i || _[u] !== Rt.dragged) && cs(_[u], e.draggable, a, !1)) {
      if (n === t)
        return _[u];
      n++;
    }
    u++;
  }
  return null;
}
function Qg(a, t) {
  for (var e = a.lastElementChild; e && (e === Rt.ghost || Ot(e, "display") === "none" || t && !fh(e, t)); )
    e = e.previousElementSibling;
  return e || null;
}
function Lr(a, t) {
  var e = 0;
  if (!a || !a.parentNode)
    return -1;
  for (; a = a.previousElementSibling; )
    a.nodeName.toUpperCase() !== "TEMPLATE" && a !== Rt.clone && (!t || fh(a, t)) && e++;
  return e;
}
function j1(a) {
  var t = 0, e = 0, i = fs();
  if (a)
    do {
      var n = td(a), u = n.a, _ = n.d;
      t += a.scrollLeft * u, e += a.scrollTop * _;
    } while (a !== i && (a = a.parentNode));
  return [t, e];
}
function t6(a, t) {
  for (var e in a)
    if (a.hasOwnProperty(e)) {
      for (var i in t)
        if (t.hasOwnProperty(i) && t[i] === a[e][i])
          return Number(e);
    }
  return -1;
}
function Wo(a, t) {
  if (!a || !a.getBoundingClientRect)
    return fs();
  var e = a, i = !1;
  do
    if (e.clientWidth < e.scrollWidth || e.clientHeight < e.scrollHeight) {
      var n = Ot(e);
      if (e.clientWidth < e.scrollWidth && (n.overflowX == "auto" || n.overflowX == "scroll") || e.clientHeight < e.scrollHeight && (n.overflowY == "auto" || n.overflowY == "scroll")) {
        if (!e.getBoundingClientRect || e === document.body)
          return fs();
        if (i || t)
          return e;
        i = !0;
      }
    }
  while (e = e.parentNode);
  return fs();
}
function a6(a, t) {
  if (a && t)
    for (var e in t)
      t.hasOwnProperty(e) && (a[e] = t[e]);
  return a;
}
function Mf(a, t) {
  return Math.round(a.top) === Math.round(t.top) && Math.round(a.left) === Math.round(t.left) && Math.round(a.height) === Math.round(t.height) && Math.round(a.width) === Math.round(t.width);
}
var Lc;
function lb(a, t) {
  return function() {
    if (!Lc) {
      var e = arguments, i = this;
      e.length === 1 ? a.call(i, e[0]) : a.apply(i, e), Lc = setTimeout(function() {
        Lc = void 0;
      }, t);
    }
  };
}
function i6() {
  clearTimeout(Lc), Lc = void 0;
}
function ub(a, t, e) {
  a.scrollLeft += t, a.scrollTop += e;
}
function db(a) {
  var t = window.Polymer, e = window.jQuery || window.Zepto;
  return t && t.dom ? t.dom(a).cloneNode(!0) : e ? e(a).clone(!0)[0] : a.cloneNode(!0);
}
var pr = "Sortable" + (/* @__PURE__ */ new Date()).getTime();
function n6() {
  var a = [], t;
  return {
    captureAnimationState: function() {
      if (a = [], !!this.options.animation) {
        var i = [].slice.call(this.el.children);
        i.forEach(function(n) {
          if (!(Ot(n, "display") === "none" || n === Rt.ghost)) {
            a.push({
              target: n,
              rect: qi(n)
            });
            var u = bs({}, a[a.length - 1].rect);
            if (n.thisAnimationDuration) {
              var _ = td(n, !0);
              _ && (u.top -= _.f, u.left -= _.e);
            }
            n.fromRect = u;
          }
        });
      }
    },
    addAnimationState: function(i) {
      a.push(i);
    },
    removeAnimationState: function(i) {
      a.splice(t6(a, {
        target: i
      }), 1);
    },
    animateAll: function(i) {
      var n = this;
      if (!this.options.animation) {
        clearTimeout(t), typeof i == "function" && i();
        return;
      }
      var u = !1, _ = 0;
      a.forEach(function(o) {
        var y = 0, b = o.target, S = b.fromRect, T = qi(b), L = b.prevFromRect, R = b.prevToRect, D = o.rect, j = td(b, !0);
        j && (T.top -= j.f, T.left -= j.e), b.toRect = T, b.thisAnimationDuration && Mf(L, T) && !Mf(S, T) && // Make sure animatingRect is on line between toRect & fromRect
        (D.top - T.top) / (D.left - T.left) === (S.top - T.top) / (S.left - T.left) && (y = s6(D, L, R, n.options)), Mf(T, S) || (b.prevFromRect = S, b.prevToRect = T, y || (y = n.options.animation), n.animate(b, D, T, y)), y && (u = !0, _ = Math.max(_, y), clearTimeout(b.animationResetTimer), b.animationResetTimer = setTimeout(function() {
          b.animationTime = 0, b.prevFromRect = null, b.fromRect = null, b.prevToRect = null, b.thisAnimationDuration = null;
        }, y), b.thisAnimationDuration = y);
      }), clearTimeout(t), u ? t = setTimeout(function() {
        typeof i == "function" && i();
      }, _) : typeof i == "function" && i(), a = [];
    },
    animate: function(i, n, u, _) {
      if (_) {
        Ot(i, "transition", ""), Ot(i, "transform", "");
        var o = td(this.el), y = o && o.a, b = o && o.d, S = (n.left - u.left) / (y || 1), T = (n.top - u.top) / (b || 1);
        i.animatingX = !!S, i.animatingY = !!T, Ot(i, "transform", "translate3d(" + S + "px," + T + "px,0)"), this.forRepaintDummy = r6(i), Ot(i, "transition", "transform " + _ + "ms" + (this.options.easing ? " " + this.options.easing : "")), Ot(i, "transform", "translate3d(0,0,0)"), typeof i.animated == "number" && clearTimeout(i.animated), i.animated = setTimeout(function() {
          Ot(i, "transition", ""), Ot(i, "transform", ""), i.animated = !1, i.animatingX = !1, i.animatingY = !1;
        }, _);
      }
    }
  };
}
function r6(a) {
  return a.offsetWidth;
}
function s6(a, t, e, i) {
  return Math.sqrt(Math.pow(t.top - a.top, 2) + Math.pow(t.left - a.left, 2)) / Math.sqrt(Math.pow(t.top - e.top, 2) + Math.pow(t.left - e.left, 2)) * i.animation;
}
var Ou = [], Ef = {
  initializeByDefault: !0
}, n_ = {
  mount: function(t) {
    for (var e in Ef)
      Ef.hasOwnProperty(e) && !(e in t) && (t[e] = Ef[e]);
    Ou.forEach(function(i) {
      if (i.pluginName === t.pluginName)
        throw "Sortable: Cannot mount plugin ".concat(t.pluginName, " more than once");
    }), Ou.push(t);
  },
  pluginEvent: function(t, e, i) {
    var n = this;
    this.eventCanceled = !1, i.cancel = function() {
      n.eventCanceled = !0;
    };
    var u = t + "Global";
    Ou.forEach(function(_) {
      e[_.pluginName] && (e[_.pluginName][u] && e[_.pluginName][u](bs({
        sortable: e
      }, i)), e.options[_.pluginName] && e[_.pluginName][t] && e[_.pluginName][t](bs({
        sortable: e
      }, i)));
    });
  },
  initializePlugins: function(t, e, i, n) {
    Ou.forEach(function(o) {
      var y = o.pluginName;
      if (!(!t.options[y] && !o.initializeByDefault)) {
        var b = new o(t, e, t.options);
        b.sortable = t, b.options = t.options, t[y] = b, Ks(i, b.defaults);
      }
    });
    for (var u in t.options)
      if (t.options.hasOwnProperty(u)) {
        var _ = this.modifyOption(t, u, t.options[u]);
        typeof _ < "u" && (t.options[u] = _);
      }
  },
  getEventProperties: function(t, e) {
    var i = {};
    return Ou.forEach(function(n) {
      typeof n.eventProperties == "function" && Ks(i, n.eventProperties.call(e[n.pluginName], t));
    }), i;
  },
  modifyOption: function(t, e, i) {
    var n;
    return Ou.forEach(function(u) {
      t[u.pluginName] && u.optionListeners && typeof u.optionListeners[e] == "function" && (n = u.optionListeners[e].call(t[u.pluginName], i));
    }), n;
  }
};
function o6(a) {
  var t = a.sortable, e = a.rootEl, i = a.name, n = a.targetEl, u = a.cloneEl, _ = a.toEl, o = a.fromEl, y = a.oldIndex, b = a.newIndex, S = a.oldDraggableIndex, T = a.newDraggableIndex, L = a.originalEvent, R = a.putSortable, D = a.extraEventProperties;
  if (t = t || e && e[pr], !!t) {
    var j, Q = t.options, ie = "on" + i.charAt(0).toUpperCase() + i.substr(1);
    window.CustomEvent && !eo && !i_ ? j = new CustomEvent(i, {
      bubbles: !0,
      cancelable: !0
    }) : (j = document.createEvent("Event"), j.initEvent(i, !0, !0)), j.to = _ || e, j.from = o || e, j.item = n || e, j.clone = u, j.oldIndex = y, j.newIndex = b, j.oldDraggableIndex = S, j.newDraggableIndex = T, j.originalEvent = L, j.pullMode = R ? R.lastPutMode : void 0;
    var J = bs(bs({}, D), n_.getEventProperties(i, t));
    for (var _e in J)
      j[_e] = J[_e];
    e && e.dispatchEvent(j), Q[ie] && Q[ie].call(t, j);
  }
}
var l6 = ["evt"], Hn = function(t, e) {
  var i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, n = i.evt, u = QE(i, l6);
  n_.pluginEvent.bind(Rt)(t, e, bs({
    dragEl: at,
    parentEl: ui,
    ghostEl: Ht,
    rootEl: ti,
    nextEl: Dl,
    lastDownEl: ih,
    cloneEl: ii,
    cloneHidden: Oo,
    dragStarted: bc,
    putSortable: on,
    activeSortable: Rt.active,
    originalEvent: n,
    oldIndex: Xu,
    oldDraggableIndex: Cc,
    newIndex: hr,
    newDraggableIndex: Co,
    hideGhostForTarget: hb,
    unhideGhostForTarget: pb,
    cloneNowHidden: function() {
      Oo = !0;
    },
    cloneNowShown: function() {
      Oo = !1;
    },
    dispatchSortableEvent: function(o) {
      zn({
        sortable: e,
        name: o,
        originalEvent: n
      });
    }
  }, u));
};
function zn(a) {
  o6(bs({
    putSortable: on,
    cloneEl: ii,
    targetEl: at,
    rootEl: ti,
    oldIndex: Xu,
    oldDraggableIndex: Cc,
    newIndex: hr,
    newDraggableIndex: Co
  }, a));
}
var at, ui, Ht, ti, Dl, ih, ii, Oo, Xu, hr, Cc, Co, Em, on, Nu = !1, gh = !1, yh = [], Il, Ur, Lf, Cf, V1, $1, bc, Ru, Ac, Ic = !1, Lm = !1, nh, yn, Af = [], vg = !1, vh = [], Jh = typeof document < "u", Cm = nb, Z1 = i_ || eo ? "cssFloat" : "float", u6 = Jh && !rb && !nb && "draggable" in document.createElement("div"), cb = function() {
  if (Jh) {
    if (eo)
      return !1;
    var a = document.createElement("x");
    return a.style.cssText = "pointer-events:auto", a.style.pointerEvents === "auto";
  }
}(), _b = function(t, e) {
  var i = Ot(t), n = parseInt(i.width) - parseInt(i.paddingLeft) - parseInt(i.paddingRight) - parseInt(i.borderLeftWidth) - parseInt(i.borderRightWidth), u = ld(t, 0, e), _ = ld(t, 1, e), o = u && Ot(u), y = _ && Ot(_), b = o && parseInt(o.marginLeft) + parseInt(o.marginRight) + qi(u).width, S = y && parseInt(y.marginLeft) + parseInt(y.marginRight) + qi(_).width;
  if (i.display === "flex")
    return i.flexDirection === "column" || i.flexDirection === "column-reverse" ? "vertical" : "horizontal";
  if (i.display === "grid")
    return i.gridTemplateColumns.split(" ").length <= 1 ? "vertical" : "horizontal";
  if (u && o.float && o.float !== "none") {
    var T = o.float === "left" ? "left" : "right";
    return _ && (y.clear === "both" || y.clear === T) ? "vertical" : "horizontal";
  }
  return u && (o.display === "block" || o.display === "flex" || o.display === "table" || o.display === "grid" || b >= n && i[Z1] === "none" || _ && i[Z1] === "none" && b + S > n) ? "vertical" : "horizontal";
}, d6 = function(t, e, i) {
  var n = i ? t.left : t.top, u = i ? t.right : t.bottom, _ = i ? t.width : t.height, o = i ? e.left : e.top, y = i ? e.right : e.bottom, b = i ? e.width : e.height;
  return n === o || u === y || n + _ / 2 === o + b / 2;
}, c6 = function(t, e) {
  var i;
  return yh.some(function(n) {
    var u = n[pr].options.emptyInsertThreshold;
    if (!(!u || Qg(n))) {
      var _ = qi(n), o = t >= _.left - u && t <= _.right + u, y = e >= _.top - u && e <= _.bottom + u;
      if (o && y)
        return i = n;
    }
  }), i;
}, mb = function(t) {
  function e(u, _) {
    return function(o, y, b, S) {
      var T = o.options.group.name && y.options.group.name && o.options.group.name === y.options.group.name;
      if (u == null && (_ || T))
        return !0;
      if (u == null || u === !1)
        return !1;
      if (_ && u === "clone")
        return u;
      if (typeof u == "function")
        return e(u(o, y, b, S), _)(o, y, b, S);
      var L = (_ ? o : y).options.group.name;
      return u === !0 || typeof u == "string" && u === L || u.join && u.indexOf(L) > -1;
    };
  }
  var i = {}, n = t.group;
  (!n || ah(n) != "object") && (n = {
    name: n
  }), i.name = n.name, i.checkPull = e(n.pull, !0), i.checkPut = e(n.put), i.revertClone = n.revertClone, t.group = i;
}, hb = function() {
  !cb && Ht && Ot(Ht, "display", "none");
}, pb = function() {
  !cb && Ht && Ot(Ht, "display", "");
};
Jh && !rb && document.addEventListener("click", function(a) {
  if (gh)
    return a.preventDefault(), a.stopPropagation && a.stopPropagation(), a.stopImmediatePropagation && a.stopImmediatePropagation(), gh = !1, !1;
}, !0);
var Pl = function(t) {
  if (at) {
    t = t.touches ? t.touches[0] : t;
    var e = c6(t.clientX, t.clientY);
    if (e) {
      var i = {};
      for (var n in t)
        t.hasOwnProperty(n) && (i[n] = t[n]);
      i.target = i.rootEl = e, i.preventDefault = void 0, i.stopPropagation = void 0, e[pr]._onDragOver(i);
    }
  }
}, _6 = function(t) {
  at && at.parentNode[pr]._isOutsideThisEl(t.target);
};
function Rt(a, t) {
  if (!(a && a.nodeType && a.nodeType === 1))
    throw "Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));
  this.el = a, this.options = t = Ks({}, t), a[pr] = this;
  var e = {
    group: null,
    sort: !0,
    disabled: !1,
    store: null,
    handle: null,
    draggable: /^[uo]l$/i.test(a.nodeName) ? ">li" : ">*",
    swapThreshold: 1,
    // percentage; 0 <= x <= 1
    invertSwap: !1,
    // invert always
    invertedSwapThreshold: null,
    // will be set to same as swapThreshold if default
    removeCloneOnHide: !0,
    direction: function() {
      return _b(a, this.options);
    },
    ghostClass: "sortable-ghost",
    chosenClass: "sortable-chosen",
    dragClass: "sortable-drag",
    ignore: "a, img",
    filter: null,
    preventOnFilter: !0,
    animation: 0,
    easing: null,
    setData: function(_, o) {
      _.setData("Text", o.textContent);
    },
    dropBubble: !1,
    dragoverBubble: !1,
    dataIdAttr: "data-id",
    delay: 0,
    delayOnTouchOnly: !1,
    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,
    forceFallback: !1,
    fallbackClass: "sortable-fallback",
    fallbackOnBody: !1,
    fallbackTolerance: 0,
    fallbackOffset: {
      x: 0,
      y: 0
    },
    supportPointer: Rt.supportPointer !== !1 && "PointerEvent" in window && !Ec,
    emptyInsertThreshold: 5
  };
  n_.initializePlugins(this, a, e);
  for (var i in e)
    !(i in t) && (t[i] = e[i]);
  mb(t);
  for (var n in this)
    n.charAt(0) === "_" && typeof this[n] == "function" && (this[n] = this[n].bind(this));
  this.nativeDraggable = t.forceFallback ? !1 : u6, this.nativeDraggable && (this.options.touchStartThreshold = 1), t.supportPointer ? xa(a, "pointerdown", this._onTapStart) : (xa(a, "mousedown", this._onTapStart), xa(a, "touchstart", this._onTapStart)), this.nativeDraggable && (xa(a, "dragover", this), xa(a, "dragenter", this)), yh.push(this.el), t.store && t.store.get && this.sort(t.store.get(this) || []), Ks(this, n6());
}
Rt.prototype = /** @lends Sortable.prototype */
{
  constructor: Rt,
  _isOutsideThisEl: function(t) {
    !this.el.contains(t) && t !== this.el && (Ru = null);
  },
  _getDirection: function(t, e) {
    return typeof this.options.direction == "function" ? this.options.direction.call(this, t, e, at) : this.options.direction;
  },
  _onTapStart: function(t) {
    if (t.cancelable) {
      var e = this, i = this.el, n = this.options, u = n.preventOnFilter, _ = t.type, o = t.touches && t.touches[0] || t.pointerType && t.pointerType === "touch" && t, y = (o || t).target, b = t.target.shadowRoot && (t.path && t.path[0] || t.composedPath && t.composedPath()[0]) || y, S = n.filter;
      if (b6(i), !at && !(/mousedown|pointerdown/.test(_) && t.button !== 0 || n.disabled) && !b.isContentEditable && !(!this.nativeDraggable && Ec && y && y.tagName.toUpperCase() === "SELECT") && (y = cs(y, n.draggable, i, !1), !(y && y.animated) && ih !== y)) {
        if (Xu = Lr(y), Cc = Lr(y, n.draggable), typeof S == "function") {
          if (S.call(this, t, y, this)) {
            zn({
              sortable: e,
              rootEl: b,
              name: "filter",
              targetEl: y,
              toEl: i,
              fromEl: i
            }), Hn("filter", e, {
              evt: t
            }), u && t.cancelable && t.preventDefault();
            return;
          }
        } else if (S && (S = S.split(",").some(function(T) {
          if (T = cs(b, T.trim(), i, !1), T)
            return zn({
              sortable: e,
              rootEl: T,
              name: "filter",
              targetEl: y,
              fromEl: i,
              toEl: i
            }), Hn("filter", e, {
              evt: t
            }), !0;
        }), S)) {
          u && t.cancelable && t.preventDefault();
          return;
        }
        n.handle && !cs(b, n.handle, i, !1) || this._prepareDragStart(t, o, y);
      }
    }
  },
  _prepareDragStart: function(t, e, i) {
    var n = this, u = n.el, _ = n.options, o = u.ownerDocument, y;
    if (i && !at && i.parentNode === u) {
      var b = qi(i);
      if (ti = u, at = i, ui = at.parentNode, Dl = at.nextSibling, ih = i, Em = _.group, Rt.dragged = at, Il = {
        target: at,
        clientX: (e || t).clientX,
        clientY: (e || t).clientY
      }, V1 = Il.clientX - b.left, $1 = Il.clientY - b.top, this._lastX = (e || t).clientX, this._lastY = (e || t).clientY, at.style["will-change"] = "all", y = function() {
        if (Hn("delayEnded", n, {
          evt: t
        }), Rt.eventCanceled) {
          n._onDrop();
          return;
        }
        n._disableDelayedDragEvents(), !F1 && n.nativeDraggable && (at.draggable = !0), n._triggerDragStart(t, e), zn({
          sortable: n,
          name: "choose",
          originalEvent: t
        }), mr(at, _.chosenClass, !0);
      }, _.ignore.split(",").forEach(function(S) {
        ob(at, S.trim(), If);
      }), xa(o, "dragover", Pl), xa(o, "mousemove", Pl), xa(o, "touchmove", Pl), xa(o, "mouseup", n._onDrop), xa(o, "touchend", n._onDrop), xa(o, "touchcancel", n._onDrop), F1 && this.nativeDraggable && (this.options.touchStartThreshold = 4, at.draggable = !0), Hn("delayStart", this, {
        evt: t
      }), _.delay && (!_.delayOnTouchOnly || e) && (!this.nativeDraggable || !(i_ || eo))) {
        if (Rt.eventCanceled) {
          this._onDrop();
          return;
        }
        xa(o, "mouseup", n._disableDelayedDrag), xa(o, "touchend", n._disableDelayedDrag), xa(o, "touchcancel", n._disableDelayedDrag), xa(o, "mousemove", n._delayedDragTouchMoveHandler), xa(o, "touchmove", n._delayedDragTouchMoveHandler), _.supportPointer && xa(o, "pointermove", n._delayedDragTouchMoveHandler), n._dragStartTimer = setTimeout(y, _.delay);
      } else
        y();
    }
  },
  _delayedDragTouchMoveHandler: function(t) {
    var e = t.touches ? t.touches[0] : t;
    Math.max(Math.abs(e.clientX - this._lastX), Math.abs(e.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1)) && this._disableDelayedDrag();
  },
  _disableDelayedDrag: function() {
    at && If(at), clearTimeout(this._dragStartTimer), this._disableDelayedDragEvents();
  },
  _disableDelayedDragEvents: function() {
    var t = this.el.ownerDocument;
    pa(t, "mouseup", this._disableDelayedDrag), pa(t, "touchend", this._disableDelayedDrag), pa(t, "touchcancel", this._disableDelayedDrag), pa(t, "mousemove", this._delayedDragTouchMoveHandler), pa(t, "touchmove", this._delayedDragTouchMoveHandler), pa(t, "pointermove", this._delayedDragTouchMoveHandler);
  },
  _triggerDragStart: function(t, e) {
    e = e || t.pointerType == "touch" && t, !this.nativeDraggable || e ? this.options.supportPointer ? xa(document, "pointermove", this._onTouchMove) : e ? xa(document, "touchmove", this._onTouchMove) : xa(document, "mousemove", this._onTouchMove) : (xa(at, "dragend", this), xa(ti, "dragstart", this._onDragStart));
    try {
      document.selection ? rh(function() {
        document.selection.empty();
      }) : window.getSelection().removeAllRanges();
    } catch {
    }
  },
  _dragStarted: function(t, e) {
    if (Nu = !1, ti && at) {
      Hn("dragStarted", this, {
        evt: e
      }), this.nativeDraggable && xa(document, "dragover", _6);
      var i = this.options;
      !t && mr(at, i.dragClass, !1), mr(at, i.ghostClass, !0), Rt.active = this, t && this._appendGhost(), zn({
        sortable: this,
        name: "start",
        originalEvent: e
      });
    } else
      this._nulling();
  },
  _emulateDragOver: function() {
    if (Ur) {
      this._lastX = Ur.clientX, this._lastY = Ur.clientY, hb();
      for (var t = document.elementFromPoint(Ur.clientX, Ur.clientY), e = t; t && t.shadowRoot && (t = t.shadowRoot.elementFromPoint(Ur.clientX, Ur.clientY), t !== e); )
        e = t;
      if (at.parentNode[pr]._isOutsideThisEl(t), e)
        do {
          if (e[pr]) {
            var i = void 0;
            if (i = e[pr]._onDragOver({
              clientX: Ur.clientX,
              clientY: Ur.clientY,
              target: t,
              rootEl: e
            }), i && !this.options.dragoverBubble)
              break;
          }
          t = e;
        } while (e = e.parentNode);
      pb();
    }
  },
  _onTouchMove: function(t) {
    if (Il) {
      var e = this.options, i = e.fallbackTolerance, n = e.fallbackOffset, u = t.touches ? t.touches[0] : t, _ = Ht && td(Ht, !0), o = Ht && _ && _.a, y = Ht && _ && _.d, b = Cm && yn && j1(yn), S = (u.clientX - Il.clientX + n.x) / (o || 1) + (b ? b[0] - Af[0] : 0) / (o || 1), T = (u.clientY - Il.clientY + n.y) / (y || 1) + (b ? b[1] - Af[1] : 0) / (y || 1);
      if (!Rt.active && !Nu) {
        if (i && Math.max(Math.abs(u.clientX - this._lastX), Math.abs(u.clientY - this._lastY)) < i)
          return;
        this._onDragStart(t, !0);
      }
      if (Ht) {
        _ ? (_.e += S - (Lf || 0), _.f += T - (Cf || 0)) : _ = {
          a: 1,
          b: 0,
          c: 0,
          d: 1,
          e: S,
          f: T
        };
        var L = "matrix(".concat(_.a, ",").concat(_.b, ",").concat(_.c, ",").concat(_.d, ",").concat(_.e, ",").concat(_.f, ")");
        Ot(Ht, "webkitTransform", L), Ot(Ht, "mozTransform", L), Ot(Ht, "msTransform", L), Ot(Ht, "transform", L), Lf = S, Cf = T, Ur = u;
      }
      t.cancelable && t.preventDefault();
    }
  },
  _appendGhost: function() {
    if (!Ht) {
      var t = this.options.fallbackOnBody ? document.body : ti, e = qi(at, !0, Cm, !0, t), i = this.options;
      if (Cm) {
        for (yn = t; Ot(yn, "position") === "static" && Ot(yn, "transform") === "none" && yn !== document; )
          yn = yn.parentNode;
        yn !== document.body && yn !== document.documentElement ? (yn === document && (yn = fs()), e.top += yn.scrollTop, e.left += yn.scrollLeft) : yn = fs(), Af = j1(yn);
      }
      Ht = at.cloneNode(!0), mr(Ht, i.ghostClass, !1), mr(Ht, i.fallbackClass, !0), mr(Ht, i.dragClass, !0), Ot(Ht, "transition", ""), Ot(Ht, "transform", ""), Ot(Ht, "box-sizing", "border-box"), Ot(Ht, "margin", 0), Ot(Ht, "top", e.top), Ot(Ht, "left", e.left), Ot(Ht, "width", e.width), Ot(Ht, "height", e.height), Ot(Ht, "opacity", "0.8"), Ot(Ht, "position", Cm ? "absolute" : "fixed"), Ot(Ht, "zIndex", "100000"), Ot(Ht, "pointerEvents", "none"), Rt.ghost = Ht, t.appendChild(Ht), Ot(Ht, "transform-origin", V1 / parseInt(Ht.style.width) * 100 + "% " + $1 / parseInt(Ht.style.height) * 100 + "%");
    }
  },
  _onDragStart: function(t, e) {
    var i = this, n = t.dataTransfer, u = i.options;
    if (Hn("dragStart", this, {
      evt: t
    }), Rt.eventCanceled) {
      this._onDrop();
      return;
    }
    Hn("setupClone", this), Rt.eventCanceled || (ii = db(at), ii.removeAttribute("id"), ii.draggable = !1, ii.style["will-change"] = "", this._hideClone(), mr(ii, this.options.chosenClass, !1), Rt.clone = ii), i.cloneId = rh(function() {
      Hn("clone", i), !Rt.eventCanceled && (i.options.removeCloneOnHide || ti.insertBefore(ii, at), i._hideClone(), zn({
        sortable: i,
        name: "clone"
      }));
    }), !e && mr(at, u.dragClass, !0), e ? (gh = !0, i._loopId = setInterval(i._emulateDragOver, 50)) : (pa(document, "mouseup", i._onDrop), pa(document, "touchend", i._onDrop), pa(document, "touchcancel", i._onDrop), n && (n.effectAllowed = "move", u.setData && u.setData.call(i, n, at)), xa(document, "drop", i), Ot(at, "transform", "translateZ(0)")), Nu = !0, i._dragStartId = rh(i._dragStarted.bind(i, e, t)), xa(document, "selectstart", i), bc = !0, Ec && Ot(document.body, "user-select", "none");
  },
  // Returns true - if no further action is needed (either inserted or another condition)
  _onDragOver: function(t) {
    var e = this.el, i = t.target, n, u, _, o = this.options, y = o.group, b = Rt.active, S = Em === y, T = o.sort, L = on || b, R, D = this, j = !1;
    if (vg)
      return;
    function Q(yt, Mt) {
      Hn(yt, D, bs({
        evt: t,
        isOwner: S,
        axis: R ? "vertical" : "horizontal",
        revert: _,
        dragRect: n,
        targetRect: u,
        canSort: T,
        fromSortable: L,
        target: i,
        completed: J,
        onMove: function(ia, $t) {
          return Am(ti, e, at, n, ia, qi(ia), t, $t);
        },
        changed: _e
      }, Mt));
    }
    function ie() {
      Q("dragOverAnimationCapture"), D.captureAnimationState(), D !== L && L.captureAnimationState();
    }
    function J(yt) {
      return Q("dragOverCompleted", {
        insertion: yt
      }), yt && (S ? b._hideClone() : b._showClone(D), D !== L && (mr(at, on ? on.options.ghostClass : b.options.ghostClass, !1), mr(at, o.ghostClass, !0)), on !== D && D !== Rt.active ? on = D : D === Rt.active && on && (on = null), L === D && (D._ignoreWhileAnimating = i), D.animateAll(function() {
        Q("dragOverAnimationComplete"), D._ignoreWhileAnimating = null;
      }), D !== L && (L.animateAll(), L._ignoreWhileAnimating = null)), (i === at && !at.animated || i === e && !i.animated) && (Ru = null), !o.dragoverBubble && !t.rootEl && i !== document && (at.parentNode[pr]._isOutsideThisEl(t.target), !yt && Pl(t)), !o.dragoverBubble && t.stopPropagation && t.stopPropagation(), j = !0;
    }
    function _e() {
      hr = Lr(at), Co = Lr(at, o.draggable), zn({
        sortable: D,
        name: "change",
        toEl: e,
        newIndex: hr,
        newDraggableIndex: Co,
        originalEvent: t
      });
    }
    if (t.preventDefault !== void 0 && t.cancelable && t.preventDefault(), i = cs(i, o.draggable, e, !0), Q("dragOver"), Rt.eventCanceled)
      return j;
    if (at.contains(t.target) || i.animated && i.animatingX && i.animatingY || D._ignoreWhileAnimating === i)
      return J(!1);
    if (gh = !1, b && !o.disabled && (S ? T || (_ = ui !== ti) : on === this || (this.lastPutMode = Em.checkPull(this, b, at, t)) && y.checkPut(this, b, at, t))) {
      if (R = this._getDirection(t, i) === "vertical", n = qi(at), Q("dragOverValid"), Rt.eventCanceled)
        return j;
      if (_)
        return ui = ti, ie(), this._hideClone(), Q("revert"), Rt.eventCanceled || (Dl ? ti.insertBefore(at, Dl) : ti.appendChild(at)), J(!0);
      var ce = Qg(e, o.draggable);
      if (!ce || f6(t, R, this) && !ce.animated) {
        if (ce === at)
          return J(!1);
        if (ce && e === t.target && (i = ce), i && (u = qi(i)), Am(ti, e, at, n, i, u, t, !!i) !== !1)
          return ie(), ce && ce.nextSibling ? e.insertBefore(at, ce.nextSibling) : e.appendChild(at), ui = e, _e(), J(!0);
      } else if (ce && p6(t, R, this)) {
        var we = ld(e, 0, o, !0);
        if (we === at)
          return J(!1);
        if (i = we, u = qi(i), Am(ti, e, at, n, i, u, t, !1) !== !1)
          return ie(), e.insertBefore(at, we), ui = e, _e(), J(!0);
      } else if (i.parentNode === e) {
        u = qi(i);
        var Be = 0, Ee, Fe = at.parentNode !== e, We = !d6(at.animated && at.toRect || n, i.animated && i.toRect || u, R), ke = R ? "top" : "left", Ze = U1(i, "top", "top") || U1(at, "top", "top"), ft = Ze ? Ze.scrollTop : void 0;
        Ru !== i && (Ee = u[ke], Ic = !1, Lm = !We && o.invertSwap || Fe), Be = g6(t, i, u, R, We ? 1 : o.swapThreshold, o.invertedSwapThreshold == null ? o.swapThreshold : o.invertedSwapThreshold, Lm, Ru === i);
        var St;
        if (Be !== 0) {
          var ye = Lr(at);
          do
            ye -= Be, St = ui.children[ye];
          while (St && (Ot(St, "display") === "none" || St === Ht));
        }
        if (Be === 0 || St === i)
          return J(!1);
        Ru = i, Ac = Be;
        var Re = i.nextElementSibling, Me = !1;
        Me = Be === 1;
        var nt = Am(ti, e, at, n, i, u, t, Me);
        if (nt !== !1)
          return (nt === 1 || nt === -1) && (Me = nt === 1), vg = !0, setTimeout(h6, 30), ie(), Me && !Re ? e.appendChild(at) : i.parentNode.insertBefore(at, Me ? Re : i), Ze && ub(Ze, 0, ft - Ze.scrollTop), ui = at.parentNode, Ee !== void 0 && !Lm && (nh = Math.abs(Ee - qi(i)[ke])), _e(), J(!0);
      }
      if (e.contains(at))
        return J(!1);
    }
    return !1;
  },
  _ignoreWhileAnimating: null,
  _offMoveEvents: function() {
    pa(document, "mousemove", this._onTouchMove), pa(document, "touchmove", this._onTouchMove), pa(document, "pointermove", this._onTouchMove), pa(document, "dragover", Pl), pa(document, "mousemove", Pl), pa(document, "touchmove", Pl);
  },
  _offUpEvents: function() {
    var t = this.el.ownerDocument;
    pa(t, "mouseup", this._onDrop), pa(t, "touchend", this._onDrop), pa(t, "pointerup", this._onDrop), pa(t, "touchcancel", this._onDrop), pa(document, "selectstart", this);
  },
  _onDrop: function(t) {
    var e = this.el, i = this.options;
    if (hr = Lr(at), Co = Lr(at, i.draggable), Hn("drop", this, {
      evt: t
    }), ui = at && at.parentNode, hr = Lr(at), Co = Lr(at, i.draggable), Rt.eventCanceled) {
      this._nulling();
      return;
    }
    Nu = !1, Lm = !1, Ic = !1, clearInterval(this._loopId), clearTimeout(this._dragStartTimer), bg(this.cloneId), bg(this._dragStartId), this.nativeDraggable && (pa(document, "drop", this), pa(e, "dragstart", this._onDragStart)), this._offMoveEvents(), this._offUpEvents(), Ec && Ot(document.body, "user-select", ""), Ot(at, "transform", ""), t && (bc && (t.cancelable && t.preventDefault(), !i.dropBubble && t.stopPropagation()), Ht && Ht.parentNode && Ht.parentNode.removeChild(Ht), (ti === ui || on && on.lastPutMode !== "clone") && ii && ii.parentNode && ii.parentNode.removeChild(ii), at && (this.nativeDraggable && pa(at, "dragend", this), If(at), at.style["will-change"] = "", bc && !Nu && mr(at, on ? on.options.ghostClass : this.options.ghostClass, !1), mr(at, this.options.chosenClass, !1), zn({
      sortable: this,
      name: "unchoose",
      toEl: ui,
      newIndex: null,
      newDraggableIndex: null,
      originalEvent: t
    }), ti !== ui ? (hr >= 0 && (zn({
      rootEl: ui,
      name: "add",
      toEl: ui,
      fromEl: ti,
      originalEvent: t
    }), zn({
      sortable: this,
      name: "remove",
      toEl: ui,
      originalEvent: t
    }), zn({
      rootEl: ui,
      name: "sort",
      toEl: ui,
      fromEl: ti,
      originalEvent: t
    }), zn({
      sortable: this,
      name: "sort",
      toEl: ui,
      originalEvent: t
    })), on && on.save()) : hr !== Xu && hr >= 0 && (zn({
      sortable: this,
      name: "update",
      toEl: ui,
      originalEvent: t
    }), zn({
      sortable: this,
      name: "sort",
      toEl: ui,
      originalEvent: t
    })), Rt.active && ((hr == null || hr === -1) && (hr = Xu, Co = Cc), zn({
      sortable: this,
      name: "end",
      toEl: ui,
      originalEvent: t
    }), this.save()))), this._nulling();
  },
  _nulling: function() {
    Hn("nulling", this), ti = at = ui = Ht = Dl = ii = ih = Oo = Il = Ur = bc = hr = Co = Xu = Cc = Ru = Ac = on = Em = Rt.dragged = Rt.ghost = Rt.clone = Rt.active = null, vh.forEach(function(t) {
      t.checked = !0;
    }), vh.length = Lf = Cf = 0;
  },
  handleEvent: function(t) {
    switch (t.type) {
      case "drop":
      case "dragend":
        this._onDrop(t);
        break;
      case "dragenter":
      case "dragover":
        at && (this._onDragOver(t), m6(t));
        break;
      case "selectstart":
        t.preventDefault();
        break;
    }
  },
  /**
   * Serializes the item into an array of string.
   * @returns {String[]}
   */
  toArray: function() {
    for (var t = [], e, i = this.el.children, n = 0, u = i.length, _ = this.options; n < u; n++)
      e = i[n], cs(e, _.draggable, this.el, !1) && t.push(e.getAttribute(_.dataIdAttr) || v6(e));
    return t;
  },
  /**
   * Sorts the elements according to the array.
   * @param  {String[]}  order  order of the items
   */
  sort: function(t, e) {
    var i = {}, n = this.el;
    this.toArray().forEach(function(u, _) {
      var o = n.children[_];
      cs(o, this.options.draggable, n, !1) && (i[u] = o);
    }, this), e && this.captureAnimationState(), t.forEach(function(u) {
      i[u] && (n.removeChild(i[u]), n.appendChild(i[u]));
    }), e && this.animateAll();
  },
  /**
   * Save the current sorting
   */
  save: function() {
    var t = this.options.store;
    t && t.set && t.set(this);
  },
  /**
   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.
   * @param   {HTMLElement}  el
   * @param   {String}       [selector]  default: `options.draggable`
   * @returns {HTMLElement|null}
   */
  closest: function(t, e) {
    return cs(t, e || this.options.draggable, this.el, !1);
  },
  /**
   * Set/get option
   * @param   {string} name
   * @param   {*}      [value]
   * @returns {*}
   */
  option: function(t, e) {
    var i = this.options;
    if (e === void 0)
      return i[t];
    var n = n_.modifyOption(this, t, e);
    typeof n < "u" ? i[t] = n : i[t] = e, t === "group" && mb(i);
  },
  /**
   * Destroy
   */
  destroy: function() {
    Hn("destroy", this);
    var t = this.el;
    t[pr] = null, pa(t, "mousedown", this._onTapStart), pa(t, "touchstart", this._onTapStart), pa(t, "pointerdown", this._onTapStart), this.nativeDraggable && (pa(t, "dragover", this), pa(t, "dragenter", this)), Array.prototype.forEach.call(t.querySelectorAll("[draggable]"), function(e) {
      e.removeAttribute("draggable");
    }), this._onDrop(), this._disableDelayedDragEvents(), yh.splice(yh.indexOf(this.el), 1), this.el = t = null;
  },
  _hideClone: function() {
    if (!Oo) {
      if (Hn("hideClone", this), Rt.eventCanceled)
        return;
      Ot(ii, "display", "none"), this.options.removeCloneOnHide && ii.parentNode && ii.parentNode.removeChild(ii), Oo = !0;
    }
  },
  _showClone: function(t) {
    if (t.lastPutMode !== "clone") {
      this._hideClone();
      return;
    }
    if (Oo) {
      if (Hn("showClone", this), Rt.eventCanceled)
        return;
      at.parentNode == ti && !this.options.group.revertClone ? ti.insertBefore(ii, at) : Dl ? ti.insertBefore(ii, Dl) : ti.appendChild(ii), this.options.group.revertClone && this.animate(at, ii), Ot(ii, "display", ""), Oo = !1;
    }
  }
};
function m6(a) {
  a.dataTransfer && (a.dataTransfer.dropEffect = "move"), a.cancelable && a.preventDefault();
}
function Am(a, t, e, i, n, u, _, o) {
  var y, b = a[pr], S = b.options.onMove, T;
  return window.CustomEvent && !eo && !i_ ? y = new CustomEvent("move", {
    bubbles: !0,
    cancelable: !0
  }) : (y = document.createEvent("Event"), y.initEvent("move", !0, !0)), y.to = t, y.from = a, y.dragged = e, y.draggedRect = i, y.related = n || t, y.relatedRect = u || qi(t), y.willInsertAfter = o, y.originalEvent = _, a.dispatchEvent(y), S && (T = S.call(b, y, _)), T;
}
function If(a) {
  a.draggable = !1;
}
function h6() {
  vg = !1;
}
function p6(a, t, e) {
  var i = qi(ld(e.el, 0, e.options, !0)), n = 10;
  return t ? a.clientX < i.left - n || a.clientY < i.top && a.clientX < i.right : a.clientY < i.top - n || a.clientY < i.bottom && a.clientX < i.left;
}
function f6(a, t, e) {
  var i = qi(Qg(e.el, e.options.draggable)), n = 10;
  return t ? a.clientX > i.right + n || a.clientX <= i.right && a.clientY > i.bottom && a.clientX >= i.left : a.clientX > i.right && a.clientY > i.top || a.clientX <= i.right && a.clientY > i.bottom + n;
}
function g6(a, t, e, i, n, u, _, o) {
  var y = i ? a.clientY : a.clientX, b = i ? e.height : e.width, S = i ? e.top : e.left, T = i ? e.bottom : e.right, L = !1;
  if (!_) {
    if (o && nh < b * n) {
      if (!Ic && (Ac === 1 ? y > S + b * u / 2 : y < T - b * u / 2) && (Ic = !0), Ic)
        L = !0;
      else if (Ac === 1 ? y < S + nh : y > T - nh)
        return -Ac;
    } else if (y > S + b * (1 - n) / 2 && y < T - b * (1 - n) / 2)
      return y6(t);
  }
  return L = L || _, L && (y < S + b * u / 2 || y > T - b * u / 2) ? y > S + b / 2 ? 1 : -1 : 0;
}
function y6(a) {
  return Lr(at) < Lr(a) ? 1 : -1;
}
function v6(a) {
  for (var t = a.tagName + a.className + a.src + a.href + a.textContent, e = t.length, i = 0; e--; )
    i += t.charCodeAt(e);
  return i.toString(36);
}
function b6(a) {
  vh.length = 0;
  for (var t = a.getElementsByTagName("input"), e = t.length; e--; ) {
    var i = t[e];
    i.checked && vh.push(i);
  }
}
function rh(a) {
  return setTimeout(a, 0);
}
function bg(a) {
  return clearTimeout(a);
}
Jh && xa(document, "touchmove", function(a) {
  (Rt.active || Nu) && a.cancelable && a.preventDefault();
});
Rt.utils = {
  on: xa,
  off: pa,
  css: Ot,
  find: ob,
  is: function(t, e) {
    return !!cs(t, e, t, !1);
  },
  extend: a6,
  throttle: lb,
  closest: cs,
  toggleClass: mr,
  clone: db,
  index: Lr,
  nextTick: rh,
  cancelNextTick: bg,
  detectDirection: _b,
  getChild: ld
};
Rt.get = function(a) {
  return a[pr];
};
Rt.mount = function() {
  for (var a = arguments.length, t = new Array(a), e = 0; e < a; e++)
    t[e] = arguments[e];
  t[0].constructor === Array && (t = t[0]), t.forEach(function(i) {
    if (!i.prototype || !i.prototype.constructor)
      throw "Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));
    i.utils && (Rt.utils = bs(bs({}, Rt.utils), i.utils)), n_.mount(i);
  });
};
Rt.create = function(a, t) {
  return new Rt(a, t);
};
Rt.version = JE;
var Oi = [], xc, xg, wg = !1, Pf, Of, bh, wc;
function x6() {
  function a() {
    this.defaults = {
      scroll: !0,
      forceAutoScrollFallback: !1,
      scrollSensitivity: 30,
      scrollSpeed: 10,
      bubbleScroll: !0
    };
    for (var t in this)
      t.charAt(0) === "_" && typeof this[t] == "function" && (this[t] = this[t].bind(this));
  }
  return a.prototype = {
    dragStarted: function(e) {
      var i = e.originalEvent;
      this.sortable.nativeDraggable ? xa(document, "dragover", this._handleAutoScroll) : this.options.supportPointer ? xa(document, "pointermove", this._handleFallbackAutoScroll) : i.touches ? xa(document, "touchmove", this._handleFallbackAutoScroll) : xa(document, "mousemove", this._handleFallbackAutoScroll);
    },
    dragOverCompleted: function(e) {
      var i = e.originalEvent;
      !this.options.dragOverBubble && !i.rootEl && this._handleAutoScroll(i);
    },
    drop: function() {
      this.sortable.nativeDraggable ? pa(document, "dragover", this._handleAutoScroll) : (pa(document, "pointermove", this._handleFallbackAutoScroll), pa(document, "touchmove", this._handleFallbackAutoScroll), pa(document, "mousemove", this._handleFallbackAutoScroll)), H1(), sh(), i6();
    },
    nulling: function() {
      bh = xg = xc = wg = wc = Pf = Of = null, Oi.length = 0;
    },
    _handleFallbackAutoScroll: function(e) {
      this._handleAutoScroll(e, !0);
    },
    _handleAutoScroll: function(e, i) {
      var n = this, u = (e.touches ? e.touches[0] : e).clientX, _ = (e.touches ? e.touches[0] : e).clientY, o = document.elementFromPoint(u, _);
      if (bh = e, i || this.options.forceAutoScrollFallback || i_ || eo || Ec) {
        Rf(e, this.options, o, i);
        var y = Wo(o, !0);
        wg && (!wc || u !== Pf || _ !== Of) && (wc && H1(), wc = setInterval(function() {
          var b = Wo(document.elementFromPoint(u, _), !0);
          b !== y && (y = b, sh()), Rf(e, n.options, b, i);
        }, 10), Pf = u, Of = _);
      } else {
        if (!this.options.bubbleScroll || Wo(o, !0) === fs()) {
          sh();
          return;
        }
        Rf(e, this.options, Wo(o, !1), !1);
      }
    }
  }, Ks(a, {
    pluginName: "scroll",
    initializeByDefault: !0
  });
}
function sh() {
  Oi.forEach(function(a) {
    clearInterval(a.pid);
  }), Oi = [];
}
function H1() {
  clearInterval(wc);
}
var Rf = lb(function(a, t, e, i) {
  if (t.scroll) {
    var n = (a.touches ? a.touches[0] : a).clientX, u = (a.touches ? a.touches[0] : a).clientY, _ = t.scrollSensitivity, o = t.scrollSpeed, y = fs(), b = !1, S;
    xg !== e && (xg = e, sh(), xc = t.scroll, S = t.scrollFn, xc === !0 && (xc = Wo(e, !0)));
    var T = 0, L = xc;
    do {
      var R = L, D = qi(R), j = D.top, Q = D.bottom, ie = D.left, J = D.right, _e = D.width, ce = D.height, we = void 0, Be = void 0, Ee = R.scrollWidth, Fe = R.scrollHeight, We = Ot(R), ke = R.scrollLeft, Ze = R.scrollTop;
      R === y ? (we = _e < Ee && (We.overflowX === "auto" || We.overflowX === "scroll" || We.overflowX === "visible"), Be = ce < Fe && (We.overflowY === "auto" || We.overflowY === "scroll" || We.overflowY === "visible")) : (we = _e < Ee && (We.overflowX === "auto" || We.overflowX === "scroll"), Be = ce < Fe && (We.overflowY === "auto" || We.overflowY === "scroll"));
      var ft = we && (Math.abs(J - n) <= _ && ke + _e < Ee) - (Math.abs(ie - n) <= _ && !!ke), St = Be && (Math.abs(Q - u) <= _ && Ze + ce < Fe) - (Math.abs(j - u) <= _ && !!Ze);
      if (!Oi[T])
        for (var ye = 0; ye <= T; ye++)
          Oi[ye] || (Oi[ye] = {});
      (Oi[T].vx != ft || Oi[T].vy != St || Oi[T].el !== R) && (Oi[T].el = R, Oi[T].vx = ft, Oi[T].vy = St, clearInterval(Oi[T].pid), (ft != 0 || St != 0) && (b = !0, Oi[T].pid = setInterval(function() {
        i && this.layer === 0 && Rt.active._onTouchMove(bh);
        var Re = Oi[this.layer].vy ? Oi[this.layer].vy * o : 0, Me = Oi[this.layer].vx ? Oi[this.layer].vx * o : 0;
        typeof S == "function" && S.call(Rt.dragged.parentNode[pr], Me, Re, a, bh, Oi[this.layer].el) !== "continue" || ub(Oi[this.layer].el, Me, Re);
      }.bind({
        layer: T
      }), 24))), T++;
    } while (t.bubbleScroll && L !== y && (L = Wo(L, !1)));
    wg = b;
  }
}, 30), fb = function(t) {
  var e = t.originalEvent, i = t.putSortable, n = t.dragEl, u = t.activeSortable, _ = t.dispatchSortableEvent, o = t.hideGhostForTarget, y = t.unhideGhostForTarget;
  if (e) {
    var b = i || u;
    o();
    var S = e.changedTouches && e.changedTouches.length ? e.changedTouches[0] : e, T = document.elementFromPoint(S.clientX, S.clientY);
    y(), b && !b.el.contains(T) && (_("spill"), this.onSpill({
      dragEl: n,
      putSortable: i
    }));
  }
};
function Jg() {
}
Jg.prototype = {
  startIndex: null,
  dragStart: function(t) {
    var e = t.oldDraggableIndex;
    this.startIndex = e;
  },
  onSpill: function(t) {
    var e = t.dragEl, i = t.putSortable;
    this.sortable.captureAnimationState(), i && i.captureAnimationState();
    var n = ld(this.sortable.el, this.startIndex, this.options);
    n ? this.sortable.el.insertBefore(e, n) : this.sortable.el.appendChild(e), this.sortable.animateAll(), i && i.animateAll();
  },
  drop: fb
};
Ks(Jg, {
  pluginName: "revertOnSpill"
});
function ey() {
}
ey.prototype = {
  onSpill: function(t) {
    var e = t.dragEl, i = t.putSortable, n = i || this.sortable;
    n.captureAnimationState(), e.parentNode && e.parentNode.removeChild(e), n.animateAll();
  },
  drop: fb
};
Ks(ey, {
  pluginName: "removeOnSpill"
});
Rt.mount(new x6());
Rt.mount(ey, Jg);
const er = Hc("map", () => {
  const a = cn({}), t = Fn([]), e = cn(void 0);
  function i(b) {
    e.value = b;
  }
  function n(...b) {
    t.value = [.../* @__PURE__ */ new Set([...t.value, ...b])];
  }
  function u(...b) {
    t.value = t.value.filter(
      (S) => b.indexOf(S.id) === -1
    );
  }
  function _(b) {
    var S;
    return !!((S = t.value) != null && S.find((T) => T.id === b));
  }
  function o(b) {
    var S;
    t.value = [
      ...((S = t.value) == null ? void 0 : S.sort(
        (T, L) => b.indexOf(T.id) - b.indexOf(L.id)
      )) || []
    ];
  }
  function y(b, S) {
    t.value = t.value.map((T) => T.id === b ? { ...T, opacity: S, previousOpacity: T.opacity } : T);
  }
  return {
    map: a,
    layers: t,
    bgLayer: e,
    addLayers: n,
    removeLayers: u,
    reorderLayers: o,
    setLayerOpacity: y,
    setBgLayer: i,
    hasLayer: _
  };
}), xh = {
  name: "blank",
  id: 0
};
function w6(a, {
  i18next: t,
  rerenderOn: e = ["languageChanged", "loaded", "added", "removed"]
}) {
  const i = t.t.bind(t), n = cn(/* @__PURE__ */ new Date()), u = () => n.value = /* @__PURE__ */ new Date(), _ = () => n.value;
  e.forEach((S) => {
    var T;
    switch (S) {
      case "added":
      case "removed":
        (T = t.store) == null || T.on(S, u);
        break;
      default:
        t.on(S, u);
        break;
    }
  }), a.component("i18next", S6), a.mixin({
    beforeCreate() {
      var S, T;
      const L = this.$options;
      if (!L.__i18n && !L.i18nOptions) {
        this.__translate = void 0;
        return;
      }
      const R = this.$options.name, D = (Math.random() * 10 ** 8 | 0).toString(), j = [R, D].filter((we) => !!we).join("-");
      this.__bundles = [];
      const Q = (we) => {
        Object.entries(we).forEach(([Be, Ee]) => {
          t.addResourceBundle(Be, j, Ee, !0, !1), this.__bundles.push([Be, j]);
        });
      };
      (S = L.__i18n) == null || S.forEach((we) => {
        Q(JSON.parse(we));
      });
      let { lng: ie, ns: J, keyPrefix: _e } = b(L, Q);
      (T = this.__bundles) != null && T.length && (J = [j].concat(J ?? []));
      const ce = o(ie, J);
      this.__translate = (we, Be) => !_e || y(we) ? ce(we, Be) : ce(_e + "." + we, Be);
    },
    unmounted() {
      var S;
      (S = this.__bundles) == null || S.forEach(([T, L]) => t.removeResourceBundle(T, L));
    }
  }), a.config.globalProperties.$t = function(S, T) {
    var L;
    return _(), t.isInitialized ? ((L = this == null ? void 0 : this.__translate) != null ? L : i)(S, T) : S;
  }, a.config.globalProperties.$i18next = new Proxy(t, {
    get(S, T) {
      return _(), Reflect.get(S, T);
    }
  });
  function o(S, T) {
    return S ? t.getFixedT(S, T) : T ? t.getFixedT(null, T) : i;
  }
  function y(S) {
    const T = t.options.nsSeparator;
    return typeof T == "string" && S.includes(T);
  }
  function b(S, T) {
    let L, R, D;
    if (S.i18nOptions) {
      let j, Q;
      ({
        lng: L,
        namespaces: Q = t.options.defaultNS,
        keyPrefix: D,
        messages: j
      } = S.i18nOptions), j && T(j), R = typeof Q == "string" ? [Q] : Q, R && t.loadNamespaces(R);
    }
    return { lng: L, ns: R, keyPrefix: D };
  }
}
function ar() {
  const a = Wg();
  if (!a)
    throw new Error("i18next-vue: No Vue instance in context. Make sure to register the i18next-vue plugin using app.use(...).");
  const t = a.appContext.config.globalProperties;
  return {
    i18next: t.$i18next,
    t: t.$t.bind(a.proxy)
  };
}
var X1 = new RegExp("{\\s*([a-z0-9\\-]+)\\s*}", "gi"), S6 = Ka({
  props: {
    translation: {
      type: String,
      required: !0
    }
  },
  setup(a, { slots: t }) {
    return () => {
      const e = a.translation, i = [];
      let n, u = 0;
      for (; (n = X1.exec(e)) !== null; ) {
        i.push(e.substring(u, n.index));
        const _ = t[n[1]];
        _ ? i.push(..._()) : i.push(n[0]), u = X1.lastIndex;
      }
      return i.push(e.substring(u)), i;
    };
  }
});
function gb(a, t) {
  const { t: e } = ar();
  function i() {
    return e(a.name, { ns: "client" });
  }
  function n() {
    t == null || t.emit("clickInfo", a);
  }
  return {
    t: e,
    getLabel: i,
    onClickInfo: n
  };
}
const T6 = { class: "lux-layer-manager-item mt-2.5" }, M6 = ["title"], E6 = { class: "flex-1 text-left cursor-default" }, L6 = ["title"], C6 = /* @__PURE__ */ Ka({
  __name: "layer-item-background",
  props: {
    showEditButton: { type: Boolean },
    layer: null
  },
  emits: ["clickEdit", "clickInfo"],
  setup(a, { emit: t }) {
    const e = a, { t: i, onClickInfo: n } = gb(e.layer, { emit: t }), u = ki(
      () => i('Display informations for "{{layerName}}"', {
        ns: "client",
        layerName: _()
      })
    );
    function _() {
      return i(e.layer.name, { ns: "client" });
    }
    return (o, y) => (ut(), bt("div", T6, [
      Ge("button", {
        class: "fa fa-info w-3",
        title: Oe(u),
        onClick: y[0] || (y[0] = //@ts-ignore
        (...b) => Oe(n) && Oe(n)(...b))
      }, null, 8, M6),
      Ge("span", E6, Ft(_()), 1),
      a.showEditButton ? (ut(), bt("button", {
        key: 0,
        class: "fa fa-pencil",
        title: Oe(i)("Open editor panel", { ns: "client" }),
        onClick: y[1] || (y[1] = (b) => o.$emit("clickEdit"))
      }, null, 8, L6)) : ua("", !0)
    ]));
  }
}), A6 = { class: "lux-layer-manager-item relative" }, I6 = { class: "w-full flex flex-nowrap items-start gap-x-2" }, P6 = ["title"], O6 = ["title"], R6 = ["aria-expanded", "aria-controls"], k6 = ["aria-expanded", "aria-controls"], D6 = ["title"], W6 = ["id"], z6 = ["title"], B6 = ["id", "value", "aria-label"], N6 = /* @__PURE__ */ Ka({
  __name: "layer-item",
  props: {
    layer: null,
    draggableClassName: null,
    isOpen: { type: Boolean }
  },
  emits: [
    "clickInfo",
    "clickEdit",
    "changeOpacity",
    "clickToggle",
    "clickRemove"
  ],
  setup(a, { emit: t }) {
    var Q, ie;
    const e = a, { t: i, getLabel: n, onClickInfo: u } = gb(e.layer, { emit: t }), _ = Fn(
      (((Q = e.layer) == null ? void 0 : Q.opacity) ?? 1) * 100
    ), o = Fn(
      (((ie = e.layer) == null ? void 0 : ie.previousOpacity) ?? _.value) * 100
    ), y = ki(
      () => i('Sort "{{layerName}}" in the list', {
        ns: "client",
        layerName: n()
      })
    ), b = ki(
      () => i('Display informations for "{{layerName}}"', {
        ns: "client",
        layerName: n()
      })
    ), S = ki(
      () => i('Remove layer "{{layerName}}"', {
        ns: "client",
        layerName: n()
      })
    );
    function T() {
      t("clickToggle", e.layer);
    }
    function L() {
      _.value === 0 ? _.value = o.value : (o.value = _.value, _.value = 0), j();
    }
    function R() {
      t("clickRemove", e.layer);
    }
    function D(J) {
      J.target && (_.value = parseInt(J.target.value), j());
    }
    function j() {
      t("changeOpacity", e.layer, _.value);
    }
    return (J, _e) => (ut(), bt("div", A6, [
      Ge("div", I6, [
        Ge("button", {
          class: Ua(["fa-solid fa-bars cursor-move mt-1", a.draggableClassName]),
          title: Oe(y)
        }, null, 10, P6),
        Ge("button", {
          class: "fa-solid fa-info mt-1",
          title: Oe(b),
          onClick: _e[0] || (_e[0] = //@ts-ignore
          (...ce) => Oe(u) && Oe(u)(...ce))
        }, null, 8, O6),
        Ge("button", {
          "aria-expanded": e.isOpen,
          "aria-controls": `layer-manager-item-content-${e.layer.id}`,
          class: "cursor-pointer grow text-left break-words w-[70%]",
          onClick: T
        }, Ft(Oe(n)()), 9, R6),
        Ge("button", {
          class: Ua(["mt-1 w-3.5 fa-solid", e.isOpen ? "fa-xmark" : "fa-ellipsis"]),
          onClick: T,
          "aria-expanded": e.isOpen,
          "aria-controls": `layer-manager-item-content-${e.layer.id}`
        }, null, 10, k6),
        Ge("button", {
          class: "mt-1 fa-solid fa-trash",
          title: Oe(S),
          onClick: R
        }, null, 8, D6)
      ]),
      Ge("div", {
        class: Ua(["lux-layer-manager-item-content", e.isOpen ? "h-6" : "h-0"]),
        id: `layer-manager-item-content-${e.layer.id}`
      }, [
        Ge("button", {
          title: Oe(i)("Toggle layer opacity for {{layerName}}", {
            layerName: Oe(i)(e.layer.name)
          }),
          class: Ua(["w-5 fa-solid", Oe(_) === 0 ? "fa-eye-slash" : "fa-eye"]),
          onClick: L
        }, null, 10, z6),
        Ge("input", {
          id: `${e.layer.id}-steps-range`,
          type: "range",
          min: "0",
          max: "100",
          value: Oe(_),
          step: "25",
          onChange: D,
          class: "m-2.5 w-16 h-[5px] rounded-lg appearance-none cursor-pointer",
          "aria-label": Oe(i)("Change opacity for {{ layerName }}", { layerName: Oe(n)() })
        }, null, 40, B6)
      ], 10, W6)
    ]));
  }
}), q6 = [
  "line",
  "fill",
  "symbol",
  "fill-extrusion",
  "background",
  "hillshade"
], Hl = () => ({
  bg_layers: [
    {
      // basemap_2015_global
      icon_id: "route",
      vector_id: "roadmap",
      medium_style_class: "road",
      id: 556,
      is_default: !0
    },
    {
      // topo_bw_jpeg
      icon_id: "topo",
      vector_id: "topomap",
      medium_style_class: "topo",
      id: 529
    },
    {
      // topogr_global
      icon_id: "topo_bw",
      vector_id: "topomap_gray",
      medium_style_class: "topo",
      id: 502
    },
    {
      icon_id: "ortho",
      // id for icon
      id: 530
    },
    {
      icon_id: "hybrid",
      // id for icon
      id: 501
    },
    {
      icon_id: "blank",
      id: 0
    }
  ],
  bg_layer_theme_defaults: {
    tourisme: 502
  },
  simple_styles: [
    // ['Roads primary','Roads secondary','Vegetation','Buildings','Water', 'Background']
    // ['#bc1515', '#bcffdd','#bcffdd','#bc1133','#bc1133', '#f2f2f2'],
    {
      unlocalized_label: "Light grey",
      hillshade: !1,
      colors: [
        "#ffffff",
        "#ffffff",
        "#d6e0d7",
        "#e1e1e1",
        "#cccccc",
        "#f2f2f2"
      ],
      selected: !1
    },
    {
      unlocalized_label: "Dark grey",
      hillshade: !1,
      colors: [
        "#808080",
        "#808080",
        "#494b4a",
        "#505052",
        "#232426",
        "#454545"
      ],
      selected: !1
    },
    {
      unlocalized_label: "Dark sand",
      hillshade: !1,
      colors: [
        "#9e9375",
        "#9e9375",
        "#6b6249",
        "#403928",
        "#b8aa84",
        "#1a1814"
      ],
      selected: !1
    },
    {
      unlocalized_label: "Kids",
      hillshade: !1,
      colors: [
        "#f9c50d",
        "#ffffff",
        "#839836",
        "#d6d3ce",
        "#2a5ba8",
        "#eeeeee"
      ],
      selected: !1
    },
    {
      unlocalized_label: "Light mauve",
      hillshade: !1,
      colors: [
        "#f3edf5",
        "#f3edf5",
        "#9d7da8",
        "#caa9d1",
        "#613b5c",
        "#e5d3e6"
      ],
      selected: !1
    },
    {
      unlocalized_label: "Light Blue",
      hillshade: !1,
      colors: [
        "#dceaf5",
        "#dceaf5",
        "#5598cf",
        "#81b7e3",
        "#3b576e",
        "#b6cde0"
      ],
      selected: !1
    }
  ],
  medium_default_styles: {
    road: [
      {
        label: "Roads primary",
        color: "#f7f7f7",
        lines: [
          "lu_road_trunk_primary",
          "lu_bridge_major",
          "lu_tunnel_major",
          "lu_road_major_motorway"
        ],
        visible: !0
      },
      {
        label: "Roads secondary",
        color: "#f7f7f7",
        lines: [
          "lu_road_minor",
          "lu_road_secondary_tertiary",
          "lu_bridge_minor",
          "lu_road_path",
          "lu_bridge_path",
          "lu_bridge_railway case",
          "lu_bridge_path case"
        ],
        visible: !0
      },
      {
        label: "Vegetation",
        color: "#B8D293",
        opacity: "1",
        fills: [
          "lu_landcover_wood",
          "lu_landcover_grass",
          "lu_landuse_stadium",
          "lu_landuse_cemetery"
        ],
        visible: !0
      },
      {
        label: "Buildings",
        color: "#D6AA85",
        opacity: "1",
        fillExtrusions: ["lu_building-3d_public", "lu_building-3d"],
        fills: ["lu_building", "lu_building_public"],
        lines: ["lu_bridge_railway", "lu_railway", "lu_tunnel_railway"],
        visible: !0
      },
      {
        label: "Water",
        color: "#94c1e1",
        lines: [
          "lu_waterway",
          "lu_waterway_tunnel",
          "lu_waterway_intermittent"
        ],
        fills: ["lu_water"],
        visible: !0
      },
      {
        label: "Background",
        color: "#e7e7e7",
        backgrounds: ["background"],
        visible: !0
      },
      {
        label: "Hillshade",
        hillshades: ["hillshade"],
        visible: !0
      }
    ],
    topo: [
      {
        label: "Primary Names",
        symbols: [
          "lu_place-label_other",
          "lu_place-label_city",
          "lu_place-label_canton",
          "lu_country-label-other",
          "lu_country-label",
          "place_label_other",
          "place_label_city",
          "country_label-other",
          "country_label"
        ],
        visible: !0
      },
      {
        label: "Secondary Names",
        symbols: [
          "lu_place-label_isolated",
          "lu_place-label_locality_forest",
          "lu_place-label_locality_lieudit"
        ],
        visible: !0
      },
      {
        label: "Transport",
        lines: [
          "lu_tunnel_track-casing",
          "lu_tunnel_major_motorway-casing",
          "lu_tunnel_railway_transit",
          "lu_tunnel_railway",
          "lu_tunnel_railway-hatching",
          "lu_tunnel_path",
          "lu_tunnel_track",
          "lu_tunnel_minor",
          "lu_tunnel_major_motorway",
          "lu_tunnel_secondary_tertiary",
          "lu_tunnel_trunk_primary",
          "lu_road_track-casing",
          "lu_road_minor-casing",
          "lu_road_major_motorway-casing",
          "lu_road_secondary_tertiary-casing",
          "lu_road_trunk_primary-casing",
          "lu_road_pier",
          "lu_road_path",
          "lu_road_track",
          "lu_road_minor",
          "lu_road_major_motorway",
          "lu_road_secondary_tertiary",
          "lu_road_trunk_primary",
          "lu_tram",
          "lu_tram-hatching",
          "lu_railway_transit",
          "lu_railway",
          "lu_railway-hatching",
          "lu_bridge_railway-casing",
          "lu_bridge_track-casing",
          "lu_bridge_path-casing",
          "lu_bridge_minor-casing",
          "lu_bridge_major_motorway-casing",
          "lu_bridge_secondary_tertiary-casing",
          "lu_bridge_trunk_primary-casing",
          "lu_bridge_railway",
          "lu_bridge_path",
          "lu_bridge_track",
          "lu_bridge_minor",
          "lu_bridge_major_motorway",
          "lu_bridge_secondary_tertiary",
          "lu_bridge_trunk_primary",
          "tunnel_track-casing",
          "tunnel_major_motorway-casing",
          "tunnel_railway_transit",
          "tunnel_railway_transit-hatching",
          "tunnel_railway",
          "tunnel_railway-hatching",
          "tunnel_path",
          "tunnel_track",
          "tunnel_minor",
          "tunnel_major_motorway",
          "tunnel_secondary_tertiary",
          "tunnel_trunk_primary",
          "road_track-casing",
          "road_minor-casing",
          "road_major_motorway-casing",
          "road_secondary_tertiary-casing",
          "road_trunk_primary-casing",
          "road_pier",
          "road_path",
          "road_track",
          "road_minor",
          "road_major_motorway",
          "road_secondary_tertiary",
          "road_trunk_primary",
          "railway-transit",
          "railway-transit-hatching",
          "railway",
          "railway-hatching",
          "bridge_railway-casing",
          "bridge_path-casing",
          "bridge_track_casing",
          "bridge_minor-casing",
          "bridge_major_motorway-casing",
          "bridge_secondary_tertiary-casing",
          "bridge_trunk_primary-casing",
          "bridge_railway",
          "bridge_path",
          "bridge_track",
          "bridge_minor",
          "bridge_major_motorway",
          "bridge_secondary_tertiary",
          "bridge_trunk_primary"
        ],
        symbols: [
          "lu_road_major-label",
          "lu_motorway-shield",
          "lu_road-shield"
        ],
        visible: !0
      },
      {
        label: "Vegetation",
        fills: [
          "lu_landuse_stadium",
          "lu_landuse_cemetery",
          "lu_landuse_gras",
          "lu_landuse_park",
          "lu_landuse_park-outline",
          "lu_landuse_vineyard",
          "lu_landuse_orchard",
          "lu_landuse_wood",
          "landcover_grass",
          "landcover_wood"
        ],
        visible: !0
      },
      {
        label: "Electricity",
        fills: ["lu_power_station", "lu_power_pylone"],
        lines: ["lu_power_line", "lu_power_station-outline"],
        symbols: ["lu_power_station-label", "lu_eolienne"],
        visible: !0
      },
      {
        label: "Contours and Height Points",
        lines: [
          "lu_contour-100",
          "lu_contour-50",
          "lu_contour-20",
          "lu_contour-10",
          "lu_contour"
        ],
        symbols: [
          "lu_contour-label-100",
          "lu_contour-label-20",
          "lu_apex-label"
        ],
        visible: !0
      },
      {
        label: "Hillshade",
        hillshades: ["lu_hillshade"],
        visible: !0
      }
    ]
  },
  http_bg_server: "wmts{1-2}",
  https_bg_server: "wmts{3-4}",
  bg_wmts_server_path: "mapproxy_4_v3/wmts/{Layer}",
  bg_wmts_tile_template: "{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}",
  bg_layer_projection: "EPSG:3857",
  olcs_extent: [5.31, 49.38, 6.64, 50.21],
  olcs_extent_projection: "EPSG:3857",
  bg_layer_resolutions: [
    156543.033928,
    78271.516964,
    39135.758482,
    19567.879241,
    9783.9396205,
    4891.96981025,
    2445.98490513,
    1222.99245256,
    611.496226281,
    305.748113141,
    152.87405657,
    76.4370282852,
    38.2185141426,
    19.1092570713,
    9.55462853565,
    4.77731426782,
    2.38865713391,
    1.19432856696,
    0.597164283478,
    0.298582141739,
    0.1492910708695,
    0.07464553543475
  ],
  bg_matrix_ids: [
    "00",
    "01",
    "02",
    "03",
    "04",
    "05",
    "06",
    "07",
    "08",
    "09",
    "10",
    "11",
    "12",
    "13",
    "14",
    "15",
    "16",
    "17",
    "18",
    "19",
    "20",
    "21"
  ]
});
function ty() {
  function a(b) {
    const S = new URLSearchParams(document.location.search), T = S.get("embeddedserver"), L = S.get("embeddedserverprotocol") || "http";
    return (T ? `${L}://${T}` : "https://vectortiles.geoportail.lu") + `/styles/${b}/style.json`;
  }
  function t(b) {
    return `https://vectortiles.geoportail.lu/styles/${b}/{z}/{x}/{y}.png`;
  }
  function e(b) {
    return /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi.test(b);
  }
  function i(b, S, T = !1) {
    const L = "", R = a(S), D = t(S), j = {
      label: b,
      defaultMapBoxStyle: R,
      defaultMapBoxStyleXYZ: D,
      xyz: D,
      xyz_custom: L,
      style: R
    }, Q = new URLSearchParams(window.location.search).get("serial"), ie = new URLSearchParams(window.location.search).get(
      "serialLayer"
    );
    if (Q)
      e(Q) && console.log(ie);
    else if (!T)
      return Promise.resolve(j);
    return Promise.resolve(j);
  }
  function n(b) {
    const S = Hl().medium_default_styles.road;
    if (b) {
      b.colors.forEach((L, R) => {
        S[R].color = L;
      });
      const T = S.findIndex(
        (L) => L.label === "Hillshade"
      );
      S[T].visible = b.hillshade;
    }
    return S;
  }
  function u(b, S) {
    const T = b.maplibreMap;
    T && (T.loaded() ? _(S, T) : new Promise((L) => T.once("load", L)).then(
      () => _(S, T)
    ));
  }
  function _(b, S) {
    b.forEach((T) => o(T, S));
  }
  function o(b, S) {
    for (const T of q6)
      (b[`${T}s`] || []).forEach((R) => {
        [
          "lu_bridge_path case",
          "lu_landcover_wood",
          "lu_landcover_grass",
          "lu_waterway_tunnel"
        ].indexOf(R) === -1 && (b.color && (S.setPaintProperty(R, `${T}-color`, b.color), S.setPaintProperty(R, `${T}-opacity`, 1)), S.setLayoutProperty(
          R,
          "visibility",
          b.visible ? "visible" : "none"
        ));
      });
  }
  function y(b, S) {
    return S.map(
      (T) => Object.assign(T, {
        selected: T.colors.every(
          (L, R) => {
            var D;
            return ((D = b[R]) == null ? void 0 : D.color) === L;
          }
        )
      })
    );
  }
  return {
    setConfigForLayer: i,
    getRoadStyleFromSimpleStyle: n,
    applyStyle: u,
    checkSelection: y
  };
}
const Pc = Hc(
  "style",
  () => {
    const a = ty(), t = Fn(), e = Fn(/* @__PURE__ */ new Map()), i = [];
    Hl().bg_layers.forEach((_) => {
      if (_.vector_id) {
        const o = a.setConfigForLayer(
          _.icon_id,
          _.vector_id
        );
        i.push(
          o.then((y) => ({ id: _.id, config: y }))
        );
      }
    }), Promise.all(i).then((_) => {
      const o = /* @__PURE__ */ new Map();
      _.forEach((y) => o.set(y.id, y.config)), e.value = o;
    });
    function n(_) {
      t.value = a.getRoadStyleFromSimpleStyle(_);
    }
    function u(_) {
      t.value = _;
    }
    return { bgStyle: t, bgVectorSources: e, setSimpleStyle: n, setStyle: u };
  },
  {}
);
class F6 {
  styleSerialToStyle(t) {
    return t ? JSON.parse(decodeURIComponent(t)) || [] : [];
  }
  styleLocalStorageToStyle(t) {
    return t ? JSON.parse(t).medium || [] : [];
  }
  styleToSerial(t) {
    return t && t.length > 0 ? JSON.stringify(t) : "";
  }
  styleToLocalStorage(t) {
    return t && t.length > 0 ? JSON.stringify({ medium: t }) : "";
  }
}
const Im = new F6();
function K1(a, t) {
  let e;
  return (...i) => {
    clearTimeout(e), e = setTimeout(() => {
      a.apply(i);
    }, t);
  };
}
function Oc(a) {
  return a != null && a.trim() && !isNaN(Number(a)) ? Number(a) : void 0;
}
function G6(a, t) {
  return (a == null ? void 0 : a.split(t).map(
    (e) => e !== null && !isNaN(Number(e)) ? parseFloat(e) : void 0
  )) || [];
}
function U6(a, t) {
  return (a == null ? void 0 : a.split(t).map(yb)) || [];
}
function yb(a) {
  return (a == null ? void 0 : a.trim()) === "true" ? !0 : (a == null ? void 0 : a.trim()) === "false" ? !1 : void 0;
}
function vb() {
  return window.matchMedia(
    "(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)"
  ).matches;
}
const r_ = "ipv6", s_ = "applogin", o_ = "localforage", ad = "debug", wh = "fid", No = "lang", Sh = "layersOpen", Th = "address", Sg = "version", Y1 = "layers", Q1 = "bgLayer", J1 = "opacities", Gc = "theme", ev = "zoom", j6 = "SRS", tv = "X", av = "Y", Mh = "serial", bb = [
  "basemap_2015_global",
  "topogr_global",
  "topo_bw_jpeg"
], xb = "bgOpacity", V6 = "layers_indices", iv = "layers_opacity", nv = "layers_visibility";
var dn = /* @__PURE__ */ ((a) => (a[a.localStorage = 0] = "localStorage", a[a.permalink = 1] = "permalink", a[a.permalinkAsPath = 2] = "permalinkAsPath", a[a.permalinkAndLocalStorage = 3] = "permalinkAndLocalStorage", a))(dn || {});
class wb {
}
class Eh extends wb {
  static processRules(t) {
    return Eh.ruleUseLocalStorage(t) ? dn.localStorage : dn.permalink;
  }
  // eslint-disable-next-line
  static processRulesForKey(t, e) {
    if (t === Gc && {}.VITE_DEPLOY_GHPAGES !== "true")
      return dn.permalinkAsPath;
    if (bb.includes(t))
      return dn.localStorage;
    if (t === Mh)
      return dn.permalink;
    if (t === Sh)
      return dn.localStorage;
  }
  static ruleUseLocalStorage(t) {
    return [$6, Z6, H6].reduce(
      (e, i) => e || i(t),
      !1
    );
  }
}
const $6 = (a) => Object.keys(a).length === 0, Z6 = (a) => Object.keys(a).length === 1 && (a.hasOwnProperty(r_) || a.hasOwnProperty(s_) || a.hasOwnProperty(o_)), H6 = (a) => Object.keys(a).length === 3 && a.hasOwnProperty(r_) && a.hasOwnProperty(s_) && a.hasOwnProperty(o_);
class Lh extends wb {
  static processRules() {
    return dn.permalinkAndLocalStorage;
  }
  // eslint-disable-next-line
  static processRulesForKey(t, e) {
    if (Lh.ruleUsePermalink(t))
      return dn.permalink;
    if (t === Sh || bb.includes(t))
      return dn.localStorage;
    if (t === Mh)
      return dn.permalink;
    if (t === Gc)
      return dn.permalinkAsPath;
  }
  static ruleUsePermalink(t) {
    return [X6, K6].reduce(
      (e, i) => e || i(t),
      !1
    );
  }
}
const X6 = (a) => a === Sg, K6 = (a) => a === Gc && {}.VITE_DEPLOY_GHPAGES === "true";
class Sb {
  constructor() {
    Pi(this, "snappedUrl");
    this.snappedUrl = new URL(window.location.toString());
  }
  get length() {
    throw new Error("Method not implemented.");
  }
  clear() {
    throw new Error("Method not implemented.");
  }
  key(t) {
    throw new Error("Method key() not implemented. " + t);
  }
  getSnappedUrl() {
    return this.snappedUrl;
  }
  getSnappedParamsAsObj() {
    return this.getSnappedParams().reduce(
      (t, e) => {
        const [i, n] = e.split("=");
        return { ...t, [i]: n };
      },
      {}
    );
  }
  getSnappedParams() {
    return this.getSnappedUrl().search.replace("?", "").split("&").filter((t) => t.split("=")[1]);
  }
  setItem(t, e) {
    const i = new URLSearchParams(
      new URL(window.location.toString()).search
    );
    i.set(encodeURIComponent(t), encodeURIComponent(e));
    try {
      window.history.replaceState(null, "", "?" + i.toString());
    } catch {
    }
  }
  getItem(t) {
    return this.getSnappedUrl().searchParams.get(t);
  }
  removeItem(t) {
    const e = new URLSearchParams(
      new URL(window.location.toString()).search
    );
    e.delete(t);
    try {
      window.history.replaceState(null, "", "?" + e.toString());
    } catch {
    }
  }
  encodeQueryParam(t, e) {
    return `${encodeURIComponent(t)}=${encodeURIComponent(e)}`;
  }
}
const kf = new Sb();
class Y6 extends Sb {
  getItem(t) {
    const e = this.getSnappedUrl().pathname.split("/"), i = e.findIndex((n) => n === t);
    return e[i + 1];
  }
  setItem(t, e) {
    const i = new URL(window.location.toString()).search, n = `/${t}/${e}${i}`;
    try {
      window.history.replaceState(null, "", n);
    } catch {
    }
  }
}
const Q6 = new Y6();
class J6 {
  get length() {
    throw new Error("Method not implemented.");
  }
  clear() {
    throw new Error("Method not implemented.");
  }
  key(t) {
    throw new Error("Method key() not implemented. " + t);
  }
  removeItem(t) {
    const e = this.getWriteStorages(t);
    e == null || e.map(
      (i) => i.removeItem(t)
    );
  }
  setItem(t, e) {
    this.setValue(t, e);
  }
  getItem(t) {
    return this.getValue(t);
  }
  get paramKeys() {
    return kf.getSnappedParamsAsObj();
  }
  getValue(t) {
    var n;
    const e = (n = this.correspondingStorages(
      Eh.processRules(this.paramKeys)
    )) == null ? void 0 : n.pop(), i = this.storageForKey(t, Eh, e);
    return i ? i.getItem(t) : null;
  }
  setValue(t, e) {
    const i = this.getWriteStorages(t);
    i == null || i.map(
      (n) => n.setItem(t, e)
    );
  }
  getWriteStorages(t) {
    const e = this.correspondingStorages(
      Lh.processRules()
    ), i = this.storageForKey(t, Lh);
    return i ? [i] : e;
  }
  storageForKey(t, e, i) {
    var u;
    return ((u = this.correspondingStorages(
      e.processRulesForKey(t, this.paramKeys)
    )) == null ? void 0 : u.pop()) ?? i;
  }
  correspondingStorages(t) {
    if (t === dn.permalinkAndLocalStorage)
      return [kf, localStorage];
    if (t === dn.localStorage)
      return [localStorage];
    if (t === dn.permalink)
      return [kf];
    if (t === dn.permalinkAsPath)
      return [Q6];
  }
}
const Pm = new J6();
function e9(a) {
  return t9(a) || a9(a) || i9(a) || n9(a);
}
const t9 = (a) => Object.keys(a).length === 0, a9 = (a) => {
  const t = Object.keys(a);
  return Object.keys(a).length === 1 && [
    r_,
    s_,
    o_,
    wh,
    No,
    Th,
    ad
  ].some((e) => t.indexOf(e) !== -1);
}, i9 = (a) => {
  const t = Object.keys(a), e = (n) => t.indexOf(n) !== -1, i = [
    [s_, o_],
    [ad, wh],
    [No, wh],
    [ad, No],
    [ad, Th],
    [No, Th]
  ];
  return Object.keys(a).length === 2 && i.reduce(
    (n, u) => n || u.every(e),
    !1
  );
}, n9 = (a) => {
  const t = Object.keys(a), e = (_) => t.indexOf(_) !== -1, i = [r_, s_, o_].every(
    e
  ), n = [ad, wh, No].every(e), u = [ad, Th, No].every(e);
  return Object.keys(a).length === 3 && (i || n || u);
};
class r9 {
  constructor() {
    Pi(this, "intialVersion");
    const t = Pm.paramKeys, e = this.getValue(Sg, Oc);
    this.intialVersion = e ? Math.max(2, Math.min(e, 3)) : e9(t) ? 3 : 2, this.setValue(Sg, 3);
  }
  getInitialVersion() {
    return this.intialVersion;
  }
  mapToEntity(t, e) {
    return e ? e(t) : t;
  }
  mapToStorage(t, e) {
    return e ? e(t) : String(t);
  }
  getValue(t, e) {
    return this.mapToEntity(Pm.getValue(t), e);
  }
  setValue(t, e, i) {
    Pm.setValue(t, this.mapToStorage(e, i));
  }
  removeItem(t) {
    Pm.removeItem(t);
  }
}
const da = new r9();
class s9 {
  constructor() {
    Pi(this, "styleWatcher");
  }
  bootstrapStyle() {
    const t = Pc();
    let e, i = !1;
    e = Ho(() => {
      t.bgVectorSources && (this.restoreStyle(), i && this.persistStyle(), i = !0, e && e());
    });
  }
  persistStyle() {
    const t = Pc(), { bgStyle: e } = Jn(t);
    this.styleWatcher || (this.styleWatcher = Ki(
      e,
      (i, n) => {
        if (n !== i) {
          const u = er();
          u.bgLayer && (da.setValue(
            u.bgLayer.name,
            i || [],
            Im.styleToLocalStorage
          ), da.setValue(
            Mh,
            i || [],
            Im.styleToSerial
          ));
        }
      },
      { immediate: !0 }
    ));
  }
  restoreStyle() {
    console.log("restoring style");
    const t = Pc(), i = er().bgLayer;
    if (console.log(`restoring bg style ${i == null ? void 0 : i.name}`), i) {
      let n = da.getValue(
        Mh,
        Im.styleSerialToStyle
      );
      n.length === 0 && (n = da.getValue(
        i.name,
        Im.styleLocalStorageToStyle
      )), n && n.length > 0 && t.setStyle(n);
    }
  }
}
const Tb = new s9(), o9 = /* @__PURE__ */ Ka({
  __name: "simple-style-item",
  props: {
    styleName: null,
    colors: null
  },
  setup(a) {
    const t = a;
    return (e, i) => (ut(!0), bt(Or, null, Qs(t.colors, (n, u) => (ut(), bt("span", {
      key: `${a.styleName}-${u}`,
      class: "grow m-px",
      style: eS(`background-color: ${n}`)
    }, " ¬† ", 4))), 128));
  }
}), l9 = ["title"], u9 = { class: "w-full text-white text-lg text-center" }, d9 = ["title"], c9 = { class: "text-white" }, _9 = ["title", "onClick"], m9 = { class: "flex" }, h9 = /* @__PURE__ */ Ka({
  __name: "simple-style-selector",
  props: {
    isOpen: {
      type: Boolean,
      default: !0
    }
  },
  setup(a) {
    const t = a, { t: e } = ar(), i = Pc(), n = ty(), { bgStyle: u } = Jn(i), _ = cn(Hl().simple_styles);
    Tb.bootstrapStyle();
    const o = Hl().simple_styles;
    Ki(
      u,
      (S) => _.value = n.checkSelection(
        S || [],
        o
      )
    );
    function y(S) {
      i.setSimpleStyle(S);
    }
    function b() {
      i.setSimpleStyle(null);
    }
    return (S, T) => (ut(), bt("div", {
      title: Oe(e)("Simple style editor", { ns: "client" }),
      class: Ua(`border-2 p-[10px] ${t.isOpen ? "" : "hidden"}`)
    }, [
      Ge("div", u9, Ft(Oe(e)("Select a style", { ns: "client" })), 1),
      (ut(!0), bt(Or, null, Qs(_.value, (L) => (ut(), bt("div", {
        key: L.unlocalized_label,
        title: Oe(e)(L.unlocalized_label, { ns: "client" }),
        class: Ua(`${L.selected ? "border-dotted" : "border-hidden"} border-2 p-px`)
      }, [
        Ge("span", c9, Ft(Oe(e)(L.unlocalized_label, { ns: "client" })) + " : ", 1),
        Ge("button", {
          title: Oe(e)("Select style: {{styleName}}", {
            styleName: Oe(e)(L.unlocalized_label)
          }),
          onClick: (R) => y(L),
          class: "w-full"
        }, [
          Ge("span", m9, [
            ta(o9, {
              colors: L.colors,
              "style-name": L.unlocalized_label
            }, null, 8, ["colors", "style-name"])
          ])
        ], 8, _9)
      ], 10, d9))), 128)),
      Ge("button", {
        onClick: b,
        class: "lux-btn"
      }, Ft(Oe(e)("Reset style", { ns: "client" })), 1)
    ], 10, l9));
  }
}), ay = Hc(
  "metadata",
  () => {
    const a = cn();
    function t(i) {
      a.value = i;
    }
    function e() {
      a.value = void 0;
    }
    return {
      metadataId: a,
      setMetadataId: t,
      clearMetadataId: e
    };
  },
  {}
), p9 = { id: "sortable-layers" }, f9 = ["id"], g9 = /* @__PURE__ */ Ka({
  __name: "layer-manager",
  setup(a) {
    const { setMetadataId: e } = ay(), i = er(), { bgLayer: n } = Jn(i), u = ki(() => [...i.layers].reverse()), _ = Fn(), o = Fn(!1), y = "drag-handle";
    Uh(() => {
      const D = document.getElementById("sortable-layers");
      D && Rt.create(D, {
        dataIdAttr: "data-id",
        dragClass: "lux-sortable-drag",
        ghostClass: "lux-sortable-ghost",
        sort: !0,
        handle: `.${y}`,
        onSort: b
      });
    });
    function b(D) {
      const j = D.to.children;
      i.reorderLayers([...j].map((Q) => Number(Q.id)).reverse());
    }
    function S(D, j) {
      i.setLayerOpacity(D.id, j / 100);
    }
    function T(D) {
      i.removeLayers(D.id);
    }
    function L(D) {
      _.value = _.value !== D.id ? D.id : void 0;
    }
    function R() {
      o.value = !o.value;
    }
    return (D, j) => {
      var Q, ie;
      return ut(), bt("ul", p9, [
        (ut(!0), bt(Or, null, Qs(Oe(u), (J) => (ut(), bt("li", {
          key: J.id,
          id: J.id
        }, [
          ta(N6, {
            draggableClassName: y,
            layer: J,
            isOpen: Oe(_) === J.id,
            onClickRemove: T,
            onClickToggle: L,
            onClickInfo: (_e) => Oe(e)(J.id),
            onChangeOpacity: S
          }, null, 8, ["layer", "isOpen", "onClickInfo"])
        ], 8, f9))), 128)),
        Ge("li", null, [
          ta(C6, {
            layer: Oe(n) || Oe(xh),
            showEditButton: ((Q = Oe(n)) == null ? void 0 : Q.id) === 556,
            onClickInfo: j[0] || (j[0] = () => Oe(n) && Oe(e)(Oe(n).id)),
            onClickEdit: R
          }, null, 8, ["layer", "showEditButton"]),
          ta(h9, {
            "is-open": Oe(o) && ((ie = Oe(n)) == null ? void 0 : ie.id) === 556
          }, null, 8, ["is-open"])
        ])
      ]);
    };
  }
});
function Ar(a) {
  return Ar = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t) {
    return typeof t;
  } : function(t) {
    return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
  }, Ar(a);
}
function Ss(a, t) {
  if (!(a instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function y9(a, t) {
  if (Ar(a) !== "object" || a === null)
    return a;
  var e = a[Symbol.toPrimitive];
  if (e !== void 0) {
    var i = e.call(a, t || "default");
    if (Ar(i) !== "object")
      return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(a);
}
function Mb(a) {
  var t = y9(a, "string");
  return Ar(t) === "symbol" ? t : String(t);
}
function rv(a, t) {
  for (var e = 0; e < t.length; e++) {
    var i = t[e];
    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(a, Mb(i.key), i);
  }
}
function Ts(a, t, e) {
  return t && rv(a.prototype, t), e && rv(a, e), Object.defineProperty(a, "prototype", {
    writable: !1
  }), a;
}
function qo(a) {
  if (a === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return a;
}
function Tg(a, t) {
  return Tg = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(i, n) {
    return i.__proto__ = n, i;
  }, Tg(a, t);
}
function ep(a, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  a.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: a,
      writable: !0,
      configurable: !0
    }
  }), Object.defineProperty(a, "prototype", {
    writable: !1
  }), t && Tg(a, t);
}
function l_(a, t) {
  if (t && (Ar(t) === "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return qo(a);
}
function xs(a) {
  return xs = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
    return e.__proto__ || Object.getPrototypeOf(e);
  }, xs(a);
}
function Ko(a, t, e) {
  return t = Mb(t), t in a ? Object.defineProperty(a, t, {
    value: e,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : a[t] = e, a;
}
function v9(a) {
  if (Array.isArray(a))
    return a;
}
function b9(a) {
  if (typeof Symbol < "u" && a[Symbol.iterator] != null || a["@@iterator"] != null)
    return Array.from(a);
}
function sv(a, t) {
  (t == null || t > a.length) && (t = a.length);
  for (var e = 0, i = new Array(t); e < t; e++)
    i[e] = a[e];
  return i;
}
function x9(a, t) {
  if (a) {
    if (typeof a == "string")
      return sv(a, t);
    var e = Object.prototype.toString.call(a).slice(8, -1);
    if (e === "Object" && a.constructor && (e = a.constructor.name), e === "Map" || e === "Set")
      return Array.from(a);
    if (e === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))
      return sv(a, t);
  }
}
function w9() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function S9(a) {
  return v9(a) || b9(a) || x9(a) || w9();
}
function ov(a, t) {
  var e = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(a);
    t && (i = i.filter(function(n) {
      return Object.getOwnPropertyDescriptor(a, n).enumerable;
    })), e.push.apply(e, i);
  }
  return e;
}
function lv(a) {
  for (var t = 1; t < arguments.length; t++) {
    var e = arguments[t] != null ? arguments[t] : {};
    t % 2 ? ov(Object(e), !0).forEach(function(i) {
      Ko(a, i, e[i]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(e)) : ov(Object(e)).forEach(function(i) {
      Object.defineProperty(a, i, Object.getOwnPropertyDescriptor(e, i));
    });
  }
  return a;
}
var T9 = {
  type: "logger",
  log: function(t) {
    this.output("log", t);
  },
  warn: function(t) {
    this.output("warn", t);
  },
  error: function(t) {
    this.output("error", t);
  },
  output: function(t, e) {
    console && console[t] && console[t].apply(console, e);
  }
}, M9 = function() {
  function a(t) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    Ss(this, a), this.init(t, e);
  }
  return Ts(a, [{
    key: "init",
    value: function(e) {
      var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      this.prefix = i.prefix || "i18next:", this.logger = e || T9, this.options = i, this.debug = i.debug;
    }
  }, {
    key: "setDebug",
    value: function(e) {
      this.debug = e;
    }
  }, {
    key: "log",
    value: function() {
      for (var e = arguments.length, i = new Array(e), n = 0; n < e; n++)
        i[n] = arguments[n];
      return this.forward(i, "log", "", !0);
    }
  }, {
    key: "warn",
    value: function() {
      for (var e = arguments.length, i = new Array(e), n = 0; n < e; n++)
        i[n] = arguments[n];
      return this.forward(i, "warn", "", !0);
    }
  }, {
    key: "error",
    value: function() {
      for (var e = arguments.length, i = new Array(e), n = 0; n < e; n++)
        i[n] = arguments[n];
      return this.forward(i, "error", "");
    }
  }, {
    key: "deprecate",
    value: function() {
      for (var e = arguments.length, i = new Array(e), n = 0; n < e; n++)
        i[n] = arguments[n];
      return this.forward(i, "warn", "WARNING DEPRECATED: ", !0);
    }
  }, {
    key: "forward",
    value: function(e, i, n, u) {
      return u && !this.debug ? null : (typeof e[0] == "string" && (e[0] = "".concat(n).concat(this.prefix, " ").concat(e[0])), this.logger[i](e));
    }
  }, {
    key: "create",
    value: function(e) {
      return new a(this.logger, lv(lv({}, {
        prefix: "".concat(this.prefix, ":").concat(e, ":")
      }), this.options));
    }
  }, {
    key: "clone",
    value: function(e) {
      return e = e || this.options, e.prefix = e.prefix || this.prefix, new a(this.logger, e);
    }
  }]), a;
}(), ms = new M9(), Vo = function() {
  function a() {
    Ss(this, a), this.observers = {};
  }
  return Ts(a, [{
    key: "on",
    value: function(e, i) {
      var n = this;
      return e.split(" ").forEach(function(u) {
        n.observers[u] = n.observers[u] || [], n.observers[u].push(i);
      }), this;
    }
  }, {
    key: "off",
    value: function(e, i) {
      if (this.observers[e]) {
        if (!i) {
          delete this.observers[e];
          return;
        }
        this.observers[e] = this.observers[e].filter(function(n) {
          return n !== i;
        });
      }
    }
  }, {
    key: "emit",
    value: function(e) {
      for (var i = arguments.length, n = new Array(i > 1 ? i - 1 : 0), u = 1; u < i; u++)
        n[u - 1] = arguments[u];
      if (this.observers[e]) {
        var _ = [].concat(this.observers[e]);
        _.forEach(function(y) {
          y.apply(void 0, n);
        });
      }
      if (this.observers["*"]) {
        var o = [].concat(this.observers["*"]);
        o.forEach(function(y) {
          y.apply(y, [e].concat(n));
        });
      }
    }
  }]), a;
}();
function hc() {
  var a, t, e = new Promise(function(i, n) {
    a = i, t = n;
  });
  return e.resolve = a, e.reject = t, e;
}
function uv(a) {
  return a == null ? "" : "" + a;
}
function E9(a, t, e) {
  a.forEach(function(i) {
    t[i] && (e[i] = t[i]);
  });
}
function iy(a, t, e) {
  function i(o) {
    return o && o.indexOf("###") > -1 ? o.replace(/###/g, ".") : o;
  }
  function n() {
    return !a || typeof a == "string";
  }
  for (var u = typeof t != "string" ? [].concat(t) : t.split("."); u.length > 1; ) {
    if (n())
      return {};
    var _ = i(u.shift());
    !a[_] && e && (a[_] = new e()), Object.prototype.hasOwnProperty.call(a, _) ? a = a[_] : a = {};
  }
  return n() ? {} : {
    obj: a,
    k: i(u.shift())
  };
}
function dv(a, t, e) {
  var i = iy(a, t, Object), n = i.obj, u = i.k;
  n[u] = e;
}
function L9(a, t, e, i) {
  var n = iy(a, t, Object), u = n.obj, _ = n.k;
  u[_] = u[_] || [], i && (u[_] = u[_].concat(e)), i || u[_].push(e);
}
function Ch(a, t) {
  var e = iy(a, t), i = e.obj, n = e.k;
  if (i)
    return i[n];
}
function C9(a, t, e) {
  var i = Ch(a, e);
  return i !== void 0 ? i : Ch(t, e);
}
function Eb(a, t, e) {
  for (var i in t)
    i !== "__proto__" && i !== "constructor" && (i in a ? typeof a[i] == "string" || a[i] instanceof String || typeof t[i] == "string" || t[i] instanceof String ? e && (a[i] = t[i]) : Eb(a[i], t[i], e) : a[i] = t[i]);
  return a;
}
function ku(a) {
  return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
}
var A9 = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;",
  "/": "&#x2F;"
};
function I9(a) {
  return typeof a == "string" ? a.replace(/[&<>"'\/]/g, function(t) {
    return A9[t];
  }) : a;
}
var tp = typeof window < "u" && window.navigator && typeof window.navigator.userAgentData > "u" && window.navigator.userAgent && window.navigator.userAgent.indexOf("MSIE") > -1, P9 = [" ", ",", "?", "!", ";"];
function O9(a, t, e) {
  t = t || "", e = e || "";
  var i = P9.filter(function(o) {
    return t.indexOf(o) < 0 && e.indexOf(o) < 0;
  });
  if (i.length === 0)
    return !0;
  var n = new RegExp("(".concat(i.map(function(o) {
    return o === "?" ? "\\?" : o;
  }).join("|"), ")")), u = !n.test(a);
  if (!u) {
    var _ = a.indexOf(e);
    _ > 0 && !n.test(a.substring(0, _)) && (u = !0);
  }
  return u;
}
function Ah(a, t) {
  var e = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : ".";
  if (a) {
    if (a[t])
      return a[t];
    for (var i = t.split(e), n = a, u = 0; u < i.length; ++u) {
      if (!n || typeof n[i[u]] == "string" && u + 1 < i.length)
        return;
      if (n[i[u]] === void 0) {
        for (var _ = 2, o = i.slice(u, u + _).join(e), y = n[o]; y === void 0 && i.length > u + _; )
          _++, o = i.slice(u, u + _).join(e), y = n[o];
        if (y === void 0)
          return;
        if (y === null)
          return null;
        if (t.endsWith(o)) {
          if (typeof y == "string")
            return y;
          if (o && typeof y[o] == "string")
            return y[o];
        }
        var b = i.slice(u + _).join(e);
        return b ? Ah(y, b, e) : void 0;
      }
      n = n[i[u]];
    }
    return n;
  }
}
function cv(a, t) {
  var e = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(a);
    t && (i = i.filter(function(n) {
      return Object.getOwnPropertyDescriptor(a, n).enumerable;
    })), e.push.apply(e, i);
  }
  return e;
}
function Om(a) {
  for (var t = 1; t < arguments.length; t++) {
    var e = arguments[t] != null ? arguments[t] : {};
    t % 2 ? cv(Object(e), !0).forEach(function(i) {
      Ko(a, i, e[i]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(e)) : cv(Object(e)).forEach(function(i) {
      Object.defineProperty(a, i, Object.getOwnPropertyDescriptor(e, i));
    });
  }
  return a;
}
function R9(a) {
  var t = k9();
  return function() {
    var i = xs(a), n;
    if (t) {
      var u = xs(this).constructor;
      n = Reflect.construct(i, arguments, u);
    } else
      n = i.apply(this, arguments);
    return l_(this, n);
  };
}
function k9() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return !1;
  if (typeof Proxy == "function")
    return !0;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), !0;
  } catch {
    return !1;
  }
}
var D9 = function(a) {
  ep(e, a);
  var t = R9(e);
  function e(i) {
    var n, u = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
      ns: ["translation"],
      defaultNS: "translation"
    };
    return Ss(this, e), n = t.call(this), tp && Vo.call(qo(n)), n.data = i || {}, n.options = u, n.options.keySeparator === void 0 && (n.options.keySeparator = "."), n.options.ignoreJSONStructure === void 0 && (n.options.ignoreJSONStructure = !0), n;
  }
  return Ts(e, [{
    key: "addNamespaces",
    value: function(n) {
      this.options.ns.indexOf(n) < 0 && this.options.ns.push(n);
    }
  }, {
    key: "removeNamespaces",
    value: function(n) {
      var u = this.options.ns.indexOf(n);
      u > -1 && this.options.ns.splice(u, 1);
    }
  }, {
    key: "getResource",
    value: function(n, u, _) {
      var o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {}, y = o.keySeparator !== void 0 ? o.keySeparator : this.options.keySeparator, b = o.ignoreJSONStructure !== void 0 ? o.ignoreJSONStructure : this.options.ignoreJSONStructure, S = [n, u];
      _ && typeof _ != "string" && (S = S.concat(_)), _ && typeof _ == "string" && (S = S.concat(y ? _.split(y) : _)), n.indexOf(".") > -1 && (S = n.split("."));
      var T = Ch(this.data, S);
      return T || !b || typeof _ != "string" ? T : Ah(this.data && this.data[n] && this.data[n][u], _, y);
    }
  }, {
    key: "addResource",
    value: function(n, u, _, o) {
      var y = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : {
        silent: !1
      }, b = this.options.keySeparator;
      b === void 0 && (b = ".");
      var S = [n, u];
      _ && (S = S.concat(b ? _.split(b) : _)), n.indexOf(".") > -1 && (S = n.split("."), o = u, u = S[1]), this.addNamespaces(u), dv(this.data, S, o), y.silent || this.emit("added", n, u, _, o);
    }
  }, {
    key: "addResources",
    value: function(n, u, _) {
      var o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {
        silent: !1
      };
      for (var y in _)
        (typeof _[y] == "string" || Object.prototype.toString.apply(_[y]) === "[object Array]") && this.addResource(n, u, y, _[y], {
          silent: !0
        });
      o.silent || this.emit("added", n, u, _);
    }
  }, {
    key: "addResourceBundle",
    value: function(n, u, _, o, y) {
      var b = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : {
        silent: !1
      }, S = [n, u];
      n.indexOf(".") > -1 && (S = n.split("."), o = _, _ = u, u = S[1]), this.addNamespaces(u);
      var T = Ch(this.data, S) || {};
      o ? Eb(T, _, y) : T = Om(Om({}, T), _), dv(this.data, S, T), b.silent || this.emit("added", n, u, _);
    }
  }, {
    key: "removeResourceBundle",
    value: function(n, u) {
      this.hasResourceBundle(n, u) && delete this.data[n][u], this.removeNamespaces(u), this.emit("removed", n, u);
    }
  }, {
    key: "hasResourceBundle",
    value: function(n, u) {
      return this.getResource(n, u) !== void 0;
    }
  }, {
    key: "getResourceBundle",
    value: function(n, u) {
      return u || (u = this.options.defaultNS), this.options.compatibilityAPI === "v1" ? Om(Om({}, {}), this.getResource(n, u)) : this.getResource(n, u);
    }
  }, {
    key: "getDataByLanguage",
    value: function(n) {
      return this.data[n];
    }
  }, {
    key: "hasLanguageSomeTranslations",
    value: function(n) {
      var u = this.getDataByLanguage(n), _ = u && Object.keys(u) || [];
      return !!_.find(function(o) {
        return u[o] && Object.keys(u[o]).length > 0;
      });
    }
  }, {
    key: "toJSON",
    value: function() {
      return this.data;
    }
  }]), e;
}(Vo), Lb = {
  processors: {},
  addPostProcessor: function(t) {
    this.processors[t.name] = t;
  },
  handle: function(t, e, i, n, u) {
    var _ = this;
    return t.forEach(function(o) {
      _.processors[o] && (e = _.processors[o].process(e, i, n, u));
    }), e;
  }
};
function _v(a, t) {
  var e = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(a);
    t && (i = i.filter(function(n) {
      return Object.getOwnPropertyDescriptor(a, n).enumerable;
    })), e.push.apply(e, i);
  }
  return e;
}
function vn(a) {
  for (var t = 1; t < arguments.length; t++) {
    var e = arguments[t] != null ? arguments[t] : {};
    t % 2 ? _v(Object(e), !0).forEach(function(i) {
      Ko(a, i, e[i]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(e)) : _v(Object(e)).forEach(function(i) {
      Object.defineProperty(a, i, Object.getOwnPropertyDescriptor(e, i));
    });
  }
  return a;
}
function W9(a) {
  var t = z9();
  return function() {
    var i = xs(a), n;
    if (t) {
      var u = xs(this).constructor;
      n = Reflect.construct(i, arguments, u);
    } else
      n = i.apply(this, arguments);
    return l_(this, n);
  };
}
function z9() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return !1;
  if (typeof Proxy == "function")
    return !0;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), !0;
  } catch {
    return !1;
  }
}
var mv = {}, hv = function(a) {
  ep(e, a);
  var t = W9(e);
  function e(i) {
    var n, u = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    return Ss(this, e), n = t.call(this), tp && Vo.call(qo(n)), E9(["resourceStore", "languageUtils", "pluralResolver", "interpolator", "backendConnector", "i18nFormat", "utils"], i, qo(n)), n.options = u, n.options.keySeparator === void 0 && (n.options.keySeparator = "."), n.logger = ms.create("translator"), n;
  }
  return Ts(e, [{
    key: "changeLanguage",
    value: function(n) {
      n && (this.language = n);
    }
  }, {
    key: "exists",
    value: function(n) {
      var u = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
        interpolation: {}
      };
      if (n == null)
        return !1;
      var _ = this.resolve(n, u);
      return _ && _.res !== void 0;
    }
  }, {
    key: "extractFromKey",
    value: function(n, u) {
      var _ = u.nsSeparator !== void 0 ? u.nsSeparator : this.options.nsSeparator;
      _ === void 0 && (_ = ":");
      var o = u.keySeparator !== void 0 ? u.keySeparator : this.options.keySeparator, y = u.ns || this.options.defaultNS || [], b = _ && n.indexOf(_) > -1, S = !this.options.userDefinedKeySeparator && !u.keySeparator && !this.options.userDefinedNsSeparator && !u.nsSeparator && !O9(n, _, o);
      if (b && !S) {
        var T = n.match(this.interpolator.nestingRegexp);
        if (T && T.length > 0)
          return {
            key: n,
            namespaces: y
          };
        var L = n.split(_);
        (_ !== o || _ === o && this.options.ns.indexOf(L[0]) > -1) && (y = L.shift()), n = L.join(o);
      }
      return typeof y == "string" && (y = [y]), {
        key: n,
        namespaces: y
      };
    }
  }, {
    key: "translate",
    value: function(n, u, _) {
      var o = this;
      if (Ar(u) !== "object" && this.options.overloadTranslationOptionHandler && (u = this.options.overloadTranslationOptionHandler(arguments)), Ar(u) === "object" && (u = vn({}, u)), u || (u = {}), n == null)
        return "";
      Array.isArray(n) || (n = [String(n)]);
      var y = u.returnDetails !== void 0 ? u.returnDetails : this.options.returnDetails, b = u.keySeparator !== void 0 ? u.keySeparator : this.options.keySeparator, S = this.extractFromKey(n[n.length - 1], u), T = S.key, L = S.namespaces, R = L[L.length - 1], D = u.lng || this.language, j = u.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
      if (D && D.toLowerCase() === "cimode") {
        if (j) {
          var Q = u.nsSeparator || this.options.nsSeparator;
          return y ? {
            res: "".concat(R).concat(Q).concat(T),
            usedKey: T,
            exactUsedKey: T,
            usedLng: D,
            usedNS: R
          } : "".concat(R).concat(Q).concat(T);
        }
        return y ? {
          res: T,
          usedKey: T,
          exactUsedKey: T,
          usedLng: D,
          usedNS: R
        } : T;
      }
      var ie = this.resolve(n, u), J = ie && ie.res, _e = ie && ie.usedKey || T, ce = ie && ie.exactUsedKey || T, we = Object.prototype.toString.apply(J), Be = ["[object Number]", "[object Function]", "[object RegExp]"], Ee = u.joinArrays !== void 0 ? u.joinArrays : this.options.joinArrays, Fe = !this.i18nFormat || this.i18nFormat.handleAsObject, We = typeof J != "string" && typeof J != "boolean" && typeof J != "number";
      if (Fe && J && We && Be.indexOf(we) < 0 && !(typeof Ee == "string" && we === "[object Array]")) {
        if (!u.returnObjects && !this.options.returnObjects) {
          this.options.returnedObjectHandler || this.logger.warn("accessing an object - but returnObjects options is not enabled!");
          var ke = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(_e, J, vn(vn({}, u), {}, {
            ns: L
          })) : "key '".concat(T, " (").concat(this.language, ")' returned an object instead of string.");
          return y ? (ie.res = ke, ie) : ke;
        }
        if (b) {
          var Ze = we === "[object Array]", ft = Ze ? [] : {}, St = Ze ? ce : _e;
          for (var ye in J)
            if (Object.prototype.hasOwnProperty.call(J, ye)) {
              var Re = "".concat(St).concat(b).concat(ye);
              ft[ye] = this.translate(Re, vn(vn({}, u), {
                joinArrays: !1,
                ns: L
              })), ft[ye] === Re && (ft[ye] = J[ye]);
            }
          J = ft;
        }
      } else if (Fe && typeof Ee == "string" && we === "[object Array]")
        J = J.join(Ee), J && (J = this.extendTranslation(J, n, u, _));
      else {
        var Me = !1, nt = !1, yt = u.count !== void 0 && typeof u.count != "string", Mt = e.hasDefaultValue(u), aa = yt ? this.pluralResolver.getSuffix(D, u.count, u) : "", ia = u["defaultValue".concat(aa)] || u.defaultValue;
        !this.isValidLookup(J) && Mt && (Me = !0, J = ia), this.isValidLookup(J) || (nt = !0, J = T);
        var $t = u.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey, bi = $t && nt ? void 0 : J, Gt = Mt && ia !== J && this.options.updateMissing;
        if (nt || Me || Gt) {
          if (this.logger.log(Gt ? "updateKey" : "missingKey", D, R, T, Gt ? ia : J), b) {
            var kt = this.resolve(T, vn(vn({}, u), {}, {
              keySeparator: !1
            }));
            kt && kt.res && this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.");
          }
          var Pt = [], wa = this.languageUtils.getFallbackCodes(this.options.fallbackLng, u.lng || this.language);
          if (this.options.saveMissingTo === "fallback" && wa && wa[0])
            for (var _a = 0; _a < wa.length; _a++)
              Pt.push(wa[_a]);
          else
            this.options.saveMissingTo === "all" ? Pt = this.languageUtils.toResolveHierarchy(u.lng || this.language) : Pt.push(u.lng || this.language);
          var ja = function(_i, ka, Ia) {
            var xi = Mt && Ia !== J ? Ia : bi;
            o.options.missingKeyHandler ? o.options.missingKeyHandler(_i, R, ka, xi, Gt, u) : o.backendConnector && o.backendConnector.saveMissing && o.backendConnector.saveMissing(_i, R, ka, xi, Gt, u), o.emit("missingKey", _i, R, ka, J);
          };
          this.options.saveMissing && (this.options.saveMissingPlurals && yt ? Pt.forEach(function(Ra) {
            o.pluralResolver.getSuffixes(Ra, u).forEach(function(_i) {
              ja([Ra], T + _i, u["defaultValue".concat(_i)] || ia);
            });
          }) : ja(Pt, T, ia));
        }
        J = this.extendTranslation(J, n, u, ie, _), nt && J === T && this.options.appendNamespaceToMissingKey && (J = "".concat(R, ":").concat(T)), (nt || Me) && this.options.parseMissingKeyHandler && (this.options.compatibilityAPI !== "v1" ? J = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? "".concat(R, ":").concat(T) : T, Me ? J : void 0) : J = this.options.parseMissingKeyHandler(J));
      }
      return y ? (ie.res = J, ie) : J;
    }
  }, {
    key: "extendTranslation",
    value: function(n, u, _, o, y) {
      var b = this;
      if (this.i18nFormat && this.i18nFormat.parse)
        n = this.i18nFormat.parse(n, vn(vn({}, this.options.interpolation.defaultVariables), _), o.usedLng, o.usedNS, o.usedKey, {
          resolved: o
        });
      else if (!_.skipInterpolation) {
        _.interpolation && this.interpolator.init(vn(vn({}, _), {
          interpolation: vn(vn({}, this.options.interpolation), _.interpolation)
        }));
        var S = typeof n == "string" && (_ && _.interpolation && _.interpolation.skipOnVariables !== void 0 ? _.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables), T;
        if (S) {
          var L = n.match(this.interpolator.nestingRegexp);
          T = L && L.length;
        }
        var R = _.replace && typeof _.replace != "string" ? _.replace : _;
        if (this.options.interpolation.defaultVariables && (R = vn(vn({}, this.options.interpolation.defaultVariables), R)), n = this.interpolator.interpolate(n, R, _.lng || this.language, _), S) {
          var D = n.match(this.interpolator.nestingRegexp), j = D && D.length;
          T < j && (_.nest = !1);
        }
        !_.lng && this.options.compatibilityAPI !== "v1" && o && o.res && (_.lng = o.usedLng), _.nest !== !1 && (n = this.interpolator.nest(n, function() {
          for (var J = arguments.length, _e = new Array(J), ce = 0; ce < J; ce++)
            _e[ce] = arguments[ce];
          return y && y[0] === _e[0] && !_.context ? (b.logger.warn("It seems you are nesting recursively key: ".concat(_e[0], " in key: ").concat(u[0])), null) : b.translate.apply(b, _e.concat([u]));
        }, _)), _.interpolation && this.interpolator.reset();
      }
      var Q = _.postProcess || this.options.postProcess, ie = typeof Q == "string" ? [Q] : Q;
      return n != null && ie && ie.length && _.applyPostProcessor !== !1 && (n = Lb.handle(ie, n, u, this.options && this.options.postProcessPassResolved ? vn({
        i18nResolved: o
      }, _) : _, this)), n;
    }
  }, {
    key: "resolve",
    value: function(n) {
      var u = this, _ = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, o, y, b, S, T;
      return typeof n == "string" && (n = [n]), n.forEach(function(L) {
        if (!u.isValidLookup(o)) {
          var R = u.extractFromKey(L, _), D = R.key;
          y = D;
          var j = R.namespaces;
          u.options.fallbackNS && (j = j.concat(u.options.fallbackNS));
          var Q = _.count !== void 0 && typeof _.count != "string", ie = Q && !_.ordinal && _.count === 0 && u.pluralResolver.shouldUseIntlApi(), J = _.context !== void 0 && (typeof _.context == "string" || typeof _.context == "number") && _.context !== "", _e = _.lngs ? _.lngs : u.languageUtils.toResolveHierarchy(_.lng || u.language, _.fallbackLng);
          j.forEach(function(ce) {
            u.isValidLookup(o) || (T = ce, !mv["".concat(_e[0], "-").concat(ce)] && u.utils && u.utils.hasLoadedNamespace && !u.utils.hasLoadedNamespace(T) && (mv["".concat(_e[0], "-").concat(ce)] = !0, u.logger.warn('key "'.concat(y, '" for languages "').concat(_e.join(", "), `" won't get resolved as namespace "`).concat(T, '" was not yet loaded'), "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")), _e.forEach(function(we) {
              if (!u.isValidLookup(o)) {
                S = we;
                var Be = [D];
                if (u.i18nFormat && u.i18nFormat.addLookupKeys)
                  u.i18nFormat.addLookupKeys(Be, D, we, ce, _);
                else {
                  var Ee;
                  Q && (Ee = u.pluralResolver.getSuffix(we, _.count, _));
                  var Fe = "".concat(u.options.pluralSeparator, "zero");
                  if (Q && (Be.push(D + Ee), ie && Be.push(D + Fe)), J) {
                    var We = "".concat(D).concat(u.options.contextSeparator).concat(_.context);
                    Be.push(We), Q && (Be.push(We + Ee), ie && Be.push(We + Fe));
                  }
                }
                for (var ke; ke = Be.pop(); )
                  u.isValidLookup(o) || (b = ke, o = u.getResource(we, ce, ke, _));
              }
            }));
          });
        }
      }), {
        res: o,
        usedKey: y,
        exactUsedKey: b,
        usedLng: S,
        usedNS: T
      };
    }
  }, {
    key: "isValidLookup",
    value: function(n) {
      return n !== void 0 && !(!this.options.returnNull && n === null) && !(!this.options.returnEmptyString && n === "");
    }
  }, {
    key: "getResource",
    value: function(n, u, _) {
      var o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
      return this.i18nFormat && this.i18nFormat.getResource ? this.i18nFormat.getResource(n, u, _, o) : this.resourceStore.getResource(n, u, _, o);
    }
  }], [{
    key: "hasDefaultValue",
    value: function(n) {
      var u = "defaultValue";
      for (var _ in n)
        if (Object.prototype.hasOwnProperty.call(n, _) && u === _.substring(0, u.length) && n[_] !== void 0)
          return !0;
      return !1;
    }
  }]), e;
}(Vo);
function Df(a) {
  return a.charAt(0).toUpperCase() + a.slice(1);
}
var pv = function() {
  function a(t) {
    Ss(this, a), this.options = t, this.supportedLngs = this.options.supportedLngs || !1, this.logger = ms.create("languageUtils");
  }
  return Ts(a, [{
    key: "getScriptPartFromCode",
    value: function(e) {
      if (!e || e.indexOf("-") < 0)
        return null;
      var i = e.split("-");
      return i.length === 2 || (i.pop(), i[i.length - 1].toLowerCase() === "x") ? null : this.formatLanguageCode(i.join("-"));
    }
  }, {
    key: "getLanguagePartFromCode",
    value: function(e) {
      if (!e || e.indexOf("-") < 0)
        return e;
      var i = e.split("-");
      return this.formatLanguageCode(i[0]);
    }
  }, {
    key: "formatLanguageCode",
    value: function(e) {
      if (typeof e == "string" && e.indexOf("-") > -1) {
        var i = ["hans", "hant", "latn", "cyrl", "cans", "mong", "arab"], n = e.split("-");
        return this.options.lowerCaseLng ? n = n.map(function(u) {
          return u.toLowerCase();
        }) : n.length === 2 ? (n[0] = n[0].toLowerCase(), n[1] = n[1].toUpperCase(), i.indexOf(n[1].toLowerCase()) > -1 && (n[1] = Df(n[1].toLowerCase()))) : n.length === 3 && (n[0] = n[0].toLowerCase(), n[1].length === 2 && (n[1] = n[1].toUpperCase()), n[0] !== "sgn" && n[2].length === 2 && (n[2] = n[2].toUpperCase()), i.indexOf(n[1].toLowerCase()) > -1 && (n[1] = Df(n[1].toLowerCase())), i.indexOf(n[2].toLowerCase()) > -1 && (n[2] = Df(n[2].toLowerCase()))), n.join("-");
      }
      return this.options.cleanCode || this.options.lowerCaseLng ? e.toLowerCase() : e;
    }
  }, {
    key: "isSupportedCode",
    value: function(e) {
      return (this.options.load === "languageOnly" || this.options.nonExplicitSupportedLngs) && (e = this.getLanguagePartFromCode(e)), !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(e) > -1;
    }
  }, {
    key: "getBestMatchFromCodes",
    value: function(e) {
      var i = this;
      if (!e)
        return null;
      var n;
      return e.forEach(function(u) {
        if (!n) {
          var _ = i.formatLanguageCode(u);
          (!i.options.supportedLngs || i.isSupportedCode(_)) && (n = _);
        }
      }), !n && this.options.supportedLngs && e.forEach(function(u) {
        if (!n) {
          var _ = i.getLanguagePartFromCode(u);
          if (i.isSupportedCode(_))
            return n = _;
          n = i.options.supportedLngs.find(function(o) {
            if (o === _)
              return o;
            if (!(o.indexOf("-") < 0 && _.indexOf("-") < 0) && o.indexOf(_) === 0)
              return o;
          });
        }
      }), n || (n = this.getFallbackCodes(this.options.fallbackLng)[0]), n;
    }
  }, {
    key: "getFallbackCodes",
    value: function(e, i) {
      if (!e)
        return [];
      if (typeof e == "function" && (e = e(i)), typeof e == "string" && (e = [e]), Object.prototype.toString.apply(e) === "[object Array]")
        return e;
      if (!i)
        return e.default || [];
      var n = e[i];
      return n || (n = e[this.getScriptPartFromCode(i)]), n || (n = e[this.formatLanguageCode(i)]), n || (n = e[this.getLanguagePartFromCode(i)]), n || (n = e.default), n || [];
    }
  }, {
    key: "toResolveHierarchy",
    value: function(e, i) {
      var n = this, u = this.getFallbackCodes(i || this.options.fallbackLng || [], e), _ = [], o = function(b) {
        b && (n.isSupportedCode(b) ? _.push(b) : n.logger.warn("rejecting language code not found in supportedLngs: ".concat(b)));
      };
      return typeof e == "string" && e.indexOf("-") > -1 ? (this.options.load !== "languageOnly" && o(this.formatLanguageCode(e)), this.options.load !== "languageOnly" && this.options.load !== "currentOnly" && o(this.getScriptPartFromCode(e)), this.options.load !== "currentOnly" && o(this.getLanguagePartFromCode(e))) : typeof e == "string" && o(this.formatLanguageCode(e)), u.forEach(function(y) {
        _.indexOf(y) < 0 && o(n.formatLanguageCode(y));
      }), _;
    }
  }]), a;
}(), B9 = [{
  lngs: ["ach", "ak", "am", "arn", "br", "fil", "gun", "ln", "mfe", "mg", "mi", "oc", "pt", "pt-BR", "tg", "tl", "ti", "tr", "uz", "wa"],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ["af", "an", "ast", "az", "bg", "bn", "ca", "da", "de", "dev", "el", "en", "eo", "es", "et", "eu", "fi", "fo", "fur", "fy", "gl", "gu", "ha", "hi", "hu", "hy", "ia", "it", "kk", "kn", "ku", "lb", "mai", "ml", "mn", "mr", "nah", "nap", "nb", "ne", "nl", "nn", "no", "nso", "pa", "pap", "pms", "ps", "pt-PT", "rm", "sco", "se", "si", "so", "son", "sq", "sv", "sw", "ta", "te", "tk", "ur", "yo"],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ["ay", "bo", "cgg", "fa", "ht", "id", "ja", "jbo", "ka", "km", "ko", "ky", "lo", "ms", "sah", "su", "th", "tt", "ug", "vi", "wo", "zh"],
  nr: [1],
  fc: 3
}, {
  lngs: ["be", "bs", "cnr", "dz", "hr", "ru", "sr", "uk"],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ["ar"],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ["cs", "sk"],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ["csb", "pl"],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ["cy"],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ["fr"],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ["ga"],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ["gd"],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ["is"],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ["jv"],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ["kw"],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ["lt"],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ["lv"],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ["mk"],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ["mnk"],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ["mt"],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ["or"],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ["ro"],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ["sl"],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ["he", "iw"],
  nr: [1, 2, 20, 21],
  fc: 22
}], N9 = {
  1: function(t) {
    return +(t > 1);
  },
  2: function(t) {
    return +(t != 1);
  },
  3: function(t) {
    return 0;
  },
  4: function(t) {
    return t % 10 == 1 && t % 100 != 11 ? 0 : t % 10 >= 2 && t % 10 <= 4 && (t % 100 < 10 || t % 100 >= 20) ? 1 : 2;
  },
  5: function(t) {
    return t == 0 ? 0 : t == 1 ? 1 : t == 2 ? 2 : t % 100 >= 3 && t % 100 <= 10 ? 3 : t % 100 >= 11 ? 4 : 5;
  },
  6: function(t) {
    return t == 1 ? 0 : t >= 2 && t <= 4 ? 1 : 2;
  },
  7: function(t) {
    return t == 1 ? 0 : t % 10 >= 2 && t % 10 <= 4 && (t % 100 < 10 || t % 100 >= 20) ? 1 : 2;
  },
  8: function(t) {
    return t == 1 ? 0 : t == 2 ? 1 : t != 8 && t != 11 ? 2 : 3;
  },
  9: function(t) {
    return +(t >= 2);
  },
  10: function(t) {
    return t == 1 ? 0 : t == 2 ? 1 : t < 7 ? 2 : t < 11 ? 3 : 4;
  },
  11: function(t) {
    return t == 1 || t == 11 ? 0 : t == 2 || t == 12 ? 1 : t > 2 && t < 20 ? 2 : 3;
  },
  12: function(t) {
    return +(t % 10 != 1 || t % 100 == 11);
  },
  13: function(t) {
    return +(t !== 0);
  },
  14: function(t) {
    return t == 1 ? 0 : t == 2 ? 1 : t == 3 ? 2 : 3;
  },
  15: function(t) {
    return t % 10 == 1 && t % 100 != 11 ? 0 : t % 10 >= 2 && (t % 100 < 10 || t % 100 >= 20) ? 1 : 2;
  },
  16: function(t) {
    return t % 10 == 1 && t % 100 != 11 ? 0 : t !== 0 ? 1 : 2;
  },
  17: function(t) {
    return t == 1 || t % 10 == 1 && t % 100 != 11 ? 0 : 1;
  },
  18: function(t) {
    return t == 0 ? 0 : t == 1 ? 1 : 2;
  },
  19: function(t) {
    return t == 1 ? 0 : t == 0 || t % 100 > 1 && t % 100 < 11 ? 1 : t % 100 > 10 && t % 100 < 20 ? 2 : 3;
  },
  20: function(t) {
    return t == 1 ? 0 : t == 0 || t % 100 > 0 && t % 100 < 20 ? 1 : 2;
  },
  21: function(t) {
    return t % 100 == 1 ? 1 : t % 100 == 2 ? 2 : t % 100 == 3 || t % 100 == 4 ? 3 : 0;
  },
  22: function(t) {
    return t == 1 ? 0 : t == 2 ? 1 : (t < 0 || t > 10) && t % 10 == 0 ? 2 : 3;
  }
}, q9 = ["v1", "v2", "v3"], fv = {
  zero: 0,
  one: 1,
  two: 2,
  few: 3,
  many: 4,
  other: 5
};
function F9() {
  var a = {};
  return B9.forEach(function(t) {
    t.lngs.forEach(function(e) {
      a[e] = {
        numbers: t.nr,
        plurals: N9[t.fc]
      };
    });
  }), a;
}
var G9 = function() {
  function a(t) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    Ss(this, a), this.languageUtils = t, this.options = e, this.logger = ms.create("pluralResolver"), (!this.options.compatibilityJSON || this.options.compatibilityJSON === "v4") && (typeof Intl > "u" || !Intl.PluralRules) && (this.options.compatibilityJSON = "v3", this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")), this.rules = F9();
  }
  return Ts(a, [{
    key: "addRule",
    value: function(e, i) {
      this.rules[e] = i;
    }
  }, {
    key: "getRule",
    value: function(e) {
      var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      if (this.shouldUseIntlApi())
        try {
          return new Intl.PluralRules(e, {
            type: i.ordinal ? "ordinal" : "cardinal"
          });
        } catch {
          return;
        }
      return this.rules[e] || this.rules[this.languageUtils.getLanguagePartFromCode(e)];
    }
  }, {
    key: "needsPlural",
    value: function(e) {
      var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n = this.getRule(e, i);
      return this.shouldUseIntlApi() ? n && n.resolvedOptions().pluralCategories.length > 1 : n && n.numbers.length > 1;
    }
  }, {
    key: "getPluralFormsOfKey",
    value: function(e, i) {
      var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
      return this.getSuffixes(e, n).map(function(u) {
        return "".concat(i).concat(u);
      });
    }
  }, {
    key: "getSuffixes",
    value: function(e) {
      var i = this, n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, u = this.getRule(e, n);
      return u ? this.shouldUseIntlApi() ? u.resolvedOptions().pluralCategories.sort(function(_, o) {
        return fv[_] - fv[o];
      }).map(function(_) {
        return "".concat(i.options.prepend).concat(_);
      }) : u.numbers.map(function(_) {
        return i.getSuffix(e, _, n);
      }) : [];
    }
  }, {
    key: "getSuffix",
    value: function(e, i) {
      var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, u = this.getRule(e, n);
      return u ? this.shouldUseIntlApi() ? "".concat(this.options.prepend).concat(u.select(i)) : this.getSuffixRetroCompatible(u, i) : (this.logger.warn("no plural rule found for: ".concat(e)), "");
    }
  }, {
    key: "getSuffixRetroCompatible",
    value: function(e, i) {
      var n = this, u = e.noAbs ? e.plurals(i) : e.plurals(Math.abs(i)), _ = e.numbers[u];
      this.options.simplifyPluralSuffix && e.numbers.length === 2 && e.numbers[0] === 1 && (_ === 2 ? _ = "plural" : _ === 1 && (_ = ""));
      var o = function() {
        return n.options.prepend && _.toString() ? n.options.prepend + _.toString() : _.toString();
      };
      return this.options.compatibilityJSON === "v1" ? _ === 1 ? "" : typeof _ == "number" ? "_plural_".concat(_.toString()) : o() : this.options.compatibilityJSON === "v2" || this.options.simplifyPluralSuffix && e.numbers.length === 2 && e.numbers[0] === 1 ? o() : this.options.prepend && u.toString() ? this.options.prepend + u.toString() : u.toString();
    }
  }, {
    key: "shouldUseIntlApi",
    value: function() {
      return !q9.includes(this.options.compatibilityJSON);
    }
  }]), a;
}();
function gv(a, t) {
  var e = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(a);
    t && (i = i.filter(function(n) {
      return Object.getOwnPropertyDescriptor(a, n).enumerable;
    })), e.push.apply(e, i);
  }
  return e;
}
function jr(a) {
  for (var t = 1; t < arguments.length; t++) {
    var e = arguments[t] != null ? arguments[t] : {};
    t % 2 ? gv(Object(e), !0).forEach(function(i) {
      Ko(a, i, e[i]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(e)) : gv(Object(e)).forEach(function(i) {
      Object.defineProperty(a, i, Object.getOwnPropertyDescriptor(e, i));
    });
  }
  return a;
}
function yv(a, t, e) {
  var i = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : ".", n = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : !0, u = C9(a, t, e);
  return !u && n && typeof e == "string" && (u = Ah(a, e, i), u === void 0 && (u = Ah(t, e, i))), u;
}
var U9 = function() {
  function a() {
    var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    Ss(this, a), this.logger = ms.create("interpolator"), this.options = t, this.format = t.interpolation && t.interpolation.format || function(e) {
      return e;
    }, this.init(t);
  }
  return Ts(a, [{
    key: "init",
    value: function() {
      var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
      e.interpolation || (e.interpolation = {
        escapeValue: !0
      });
      var i = e.interpolation;
      this.escape = i.escape !== void 0 ? i.escape : I9, this.escapeValue = i.escapeValue !== void 0 ? i.escapeValue : !0, this.useRawValueToEscape = i.useRawValueToEscape !== void 0 ? i.useRawValueToEscape : !1, this.prefix = i.prefix ? ku(i.prefix) : i.prefixEscaped || "{{", this.suffix = i.suffix ? ku(i.suffix) : i.suffixEscaped || "}}", this.formatSeparator = i.formatSeparator ? i.formatSeparator : i.formatSeparator || ",", this.unescapePrefix = i.unescapeSuffix ? "" : i.unescapePrefix || "-", this.unescapeSuffix = this.unescapePrefix ? "" : i.unescapeSuffix || "", this.nestingPrefix = i.nestingPrefix ? ku(i.nestingPrefix) : i.nestingPrefixEscaped || ku("$t("), this.nestingSuffix = i.nestingSuffix ? ku(i.nestingSuffix) : i.nestingSuffixEscaped || ku(")"), this.nestingOptionsSeparator = i.nestingOptionsSeparator ? i.nestingOptionsSeparator : i.nestingOptionsSeparator || ",", this.maxReplaces = i.maxReplaces ? i.maxReplaces : 1e3, this.alwaysFormat = i.alwaysFormat !== void 0 ? i.alwaysFormat : !1, this.resetRegExp();
    }
  }, {
    key: "reset",
    value: function() {
      this.options && this.init(this.options);
    }
  }, {
    key: "resetRegExp",
    value: function() {
      var e = "".concat(this.prefix, "(.+?)").concat(this.suffix);
      this.regexp = new RegExp(e, "g");
      var i = "".concat(this.prefix).concat(this.unescapePrefix, "(.+?)").concat(this.unescapeSuffix).concat(this.suffix);
      this.regexpUnescape = new RegExp(i, "g");
      var n = "".concat(this.nestingPrefix, "(.+?)").concat(this.nestingSuffix);
      this.nestingRegexp = new RegExp(n, "g");
    }
  }, {
    key: "interpolate",
    value: function(e, i, n, u) {
      var _ = this, o, y, b, S = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};
      function T(Q) {
        return Q.replace(/\$/g, "$$$$");
      }
      var L = function(ie) {
        if (ie.indexOf(_.formatSeparator) < 0) {
          var J = yv(i, S, ie, _.options.keySeparator, _.options.ignoreJSONStructure);
          return _.alwaysFormat ? _.format(J, void 0, n, jr(jr(jr({}, u), i), {}, {
            interpolationkey: ie
          })) : J;
        }
        var _e = ie.split(_.formatSeparator), ce = _e.shift().trim(), we = _e.join(_.formatSeparator).trim();
        return _.format(yv(i, S, ce, _.options.keySeparator, _.options.ignoreJSONStructure), we, n, jr(jr(jr({}, u), i), {}, {
          interpolationkey: ce
        }));
      };
      this.resetRegExp();
      var R = u && u.missingInterpolationHandler || this.options.missingInterpolationHandler, D = u && u.interpolation && u.interpolation.skipOnVariables !== void 0 ? u.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables, j = [{
        regex: this.regexpUnescape,
        safeValue: function(ie) {
          return T(ie);
        }
      }, {
        regex: this.regexp,
        safeValue: function(ie) {
          return _.escapeValue ? T(_.escape(ie)) : T(ie);
        }
      }];
      return j.forEach(function(Q) {
        for (b = 0; o = Q.regex.exec(e); ) {
          var ie = o[1].trim();
          if (y = L(ie), y === void 0)
            if (typeof R == "function") {
              var J = R(e, o, u);
              y = typeof J == "string" ? J : "";
            } else if (u && Object.prototype.hasOwnProperty.call(u, ie))
              y = "";
            else if (D) {
              y = o[0];
              continue;
            } else
              _.logger.warn("missed to pass in variable ".concat(ie, " for interpolating ").concat(e)), y = "";
          else
            typeof y != "string" && !_.useRawValueToEscape && (y = uv(y));
          var _e = Q.safeValue(y);
          if (e = e.replace(o[0], _e), D ? (Q.regex.lastIndex += y.length, Q.regex.lastIndex -= o[0].length) : Q.regex.lastIndex = 0, b++, b >= _.maxReplaces)
            break;
        }
      }), e;
    }
  }, {
    key: "nest",
    value: function(e, i) {
      var n = this, u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, _, o, y;
      function b(R, D) {
        var j = this.nestingOptionsSeparator;
        if (R.indexOf(j) < 0)
          return R;
        var Q = R.split(new RegExp("".concat(j, "[ ]*{"))), ie = "{".concat(Q[1]);
        R = Q[0], ie = this.interpolate(ie, y);
        var J = ie.match(/'/g), _e = ie.match(/"/g);
        (J && J.length % 2 === 0 && !_e || _e.length % 2 !== 0) && (ie = ie.replace(/'/g, '"'));
        try {
          y = JSON.parse(ie), D && (y = jr(jr({}, D), y));
        } catch (ce) {
          return this.logger.warn("failed parsing options string in nesting for key ".concat(R), ce), "".concat(R).concat(j).concat(ie);
        }
        return delete y.defaultValue, R;
      }
      for (; _ = this.nestingRegexp.exec(e); ) {
        var S = [];
        y = jr({}, u), y = y.replace && typeof y.replace != "string" ? y.replace : y, y.applyPostProcessor = !1, delete y.defaultValue;
        var T = !1;
        if (_[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(_[1])) {
          var L = _[1].split(this.formatSeparator).map(function(R) {
            return R.trim();
          });
          _[1] = L.shift(), S = L, T = !0;
        }
        if (o = i(b.call(this, _[1].trim(), y), y), o && _[0] === e && typeof o != "string")
          return o;
        typeof o != "string" && (o = uv(o)), o || (this.logger.warn("missed to resolve ".concat(_[1], " for nesting ").concat(e)), o = ""), T && (o = S.reduce(function(R, D) {
          return n.format(R, D, u.lng, jr(jr({}, u), {}, {
            interpolationkey: _[1].trim()
          }));
        }, o.trim())), e = e.replace(_[0], o), this.regexp.lastIndex = 0;
      }
      return e;
    }
  }]), a;
}();
function vv(a, t) {
  var e = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(a);
    t && (i = i.filter(function(n) {
      return Object.getOwnPropertyDescriptor(a, n).enumerable;
    })), e.push.apply(e, i);
  }
  return e;
}
function Gs(a) {
  for (var t = 1; t < arguments.length; t++) {
    var e = arguments[t] != null ? arguments[t] : {};
    t % 2 ? vv(Object(e), !0).forEach(function(i) {
      Ko(a, i, e[i]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(e)) : vv(Object(e)).forEach(function(i) {
      Object.defineProperty(a, i, Object.getOwnPropertyDescriptor(e, i));
    });
  }
  return a;
}
function j9(a) {
  var t = a.toLowerCase().trim(), e = {};
  if (a.indexOf("(") > -1) {
    var i = a.split("(");
    t = i[0].toLowerCase().trim();
    var n = i[1].substring(0, i[1].length - 1);
    if (t === "currency" && n.indexOf(":") < 0)
      e.currency || (e.currency = n.trim());
    else if (t === "relativetime" && n.indexOf(":") < 0)
      e.range || (e.range = n.trim());
    else {
      var u = n.split(";");
      u.forEach(function(_) {
        if (_) {
          var o = _.split(":"), y = S9(o), b = y[0], S = y.slice(1), T = S.join(":").trim().replace(/^'+|'+$/g, "");
          e[b.trim()] || (e[b.trim()] = T), T === "false" && (e[b.trim()] = !1), T === "true" && (e[b.trim()] = !0), isNaN(T) || (e[b.trim()] = parseInt(T, 10));
        }
      });
    }
  }
  return {
    formatName: t,
    formatOptions: e
  };
}
function Du(a) {
  var t = {};
  return function(i, n, u) {
    var _ = n + JSON.stringify(u), o = t[_];
    return o || (o = a(n, u), t[_] = o), o(i);
  };
}
var V9 = function() {
  function a() {
    var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    Ss(this, a), this.logger = ms.create("formatter"), this.options = t, this.formats = {
      number: Du(function(e, i) {
        var n = new Intl.NumberFormat(e, Gs({}, i));
        return function(u) {
          return n.format(u);
        };
      }),
      currency: Du(function(e, i) {
        var n = new Intl.NumberFormat(e, Gs(Gs({}, i), {}, {
          style: "currency"
        }));
        return function(u) {
          return n.format(u);
        };
      }),
      datetime: Du(function(e, i) {
        var n = new Intl.DateTimeFormat(e, Gs({}, i));
        return function(u) {
          return n.format(u);
        };
      }),
      relativetime: Du(function(e, i) {
        var n = new Intl.RelativeTimeFormat(e, Gs({}, i));
        return function(u) {
          return n.format(u, i.range || "day");
        };
      }),
      list: Du(function(e, i) {
        var n = new Intl.ListFormat(e, Gs({}, i));
        return function(u) {
          return n.format(u);
        };
      })
    }, this.init(t);
  }
  return Ts(a, [{
    key: "init",
    value: function(e) {
      var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
        interpolation: {}
      }, n = i.interpolation;
      this.formatSeparator = n.formatSeparator ? n.formatSeparator : n.formatSeparator || ",";
    }
  }, {
    key: "add",
    value: function(e, i) {
      this.formats[e.toLowerCase().trim()] = i;
    }
  }, {
    key: "addCached",
    value: function(e, i) {
      this.formats[e.toLowerCase().trim()] = Du(i);
    }
  }, {
    key: "format",
    value: function(e, i, n) {
      var u = this, _ = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {}, o = i.split(this.formatSeparator), y = o.reduce(function(b, S) {
        var T = j9(S), L = T.formatName, R = T.formatOptions;
        if (u.formats[L]) {
          var D = b;
          try {
            var j = _ && _.formatParams && _.formatParams[_.interpolationkey] || {}, Q = j.locale || j.lng || _.locale || _.lng || n;
            D = u.formats[L](b, Q, Gs(Gs(Gs({}, R), _), j));
          } catch (ie) {
            u.logger.warn(ie);
          }
          return D;
        } else
          u.logger.warn("there was no format function for ".concat(L));
        return b;
      }, e);
      return y;
    }
  }]), a;
}();
function bv(a, t) {
  var e = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(a);
    t && (i = i.filter(function(n) {
      return Object.getOwnPropertyDescriptor(a, n).enumerable;
    })), e.push.apply(e, i);
  }
  return e;
}
function xv(a) {
  for (var t = 1; t < arguments.length; t++) {
    var e = arguments[t] != null ? arguments[t] : {};
    t % 2 ? bv(Object(e), !0).forEach(function(i) {
      Ko(a, i, e[i]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(e)) : bv(Object(e)).forEach(function(i) {
      Object.defineProperty(a, i, Object.getOwnPropertyDescriptor(e, i));
    });
  }
  return a;
}
function $9(a) {
  var t = Z9();
  return function() {
    var i = xs(a), n;
    if (t) {
      var u = xs(this).constructor;
      n = Reflect.construct(i, arguments, u);
    } else
      n = i.apply(this, arguments);
    return l_(this, n);
  };
}
function Z9() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return !1;
  if (typeof Proxy == "function")
    return !0;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), !0;
  } catch {
    return !1;
  }
}
function H9(a, t) {
  a.pending[t] !== void 0 && (delete a.pending[t], a.pendingCount--);
}
var X9 = function(a) {
  ep(e, a);
  var t = $9(e);
  function e(i, n, u) {
    var _, o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
    return Ss(this, e), _ = t.call(this), tp && Vo.call(qo(_)), _.backend = i, _.store = n, _.services = u, _.languageUtils = u.languageUtils, _.options = o, _.logger = ms.create("backendConnector"), _.waitingReads = [], _.maxParallelReads = o.maxParallelReads || 10, _.readingCalls = 0, _.maxRetries = o.maxRetries >= 0 ? o.maxRetries : 5, _.retryTimeout = o.retryTimeout >= 1 ? o.retryTimeout : 350, _.state = {}, _.queue = [], _.backend && _.backend.init && _.backend.init(u, o.backend, o), _;
  }
  return Ts(e, [{
    key: "queueLoad",
    value: function(n, u, _, o) {
      var y = this, b = {}, S = {}, T = {}, L = {};
      return n.forEach(function(R) {
        var D = !0;
        u.forEach(function(j) {
          var Q = "".concat(R, "|").concat(j);
          !_.reload && y.store.hasResourceBundle(R, j) ? y.state[Q] = 2 : y.state[Q] < 0 || (y.state[Q] === 1 ? S[Q] === void 0 && (S[Q] = !0) : (y.state[Q] = 1, D = !1, S[Q] === void 0 && (S[Q] = !0), b[Q] === void 0 && (b[Q] = !0), L[j] === void 0 && (L[j] = !0)));
        }), D || (T[R] = !0);
      }), (Object.keys(b).length || Object.keys(S).length) && this.queue.push({
        pending: S,
        pendingCount: Object.keys(S).length,
        loaded: {},
        errors: [],
        callback: o
      }), {
        toLoad: Object.keys(b),
        pending: Object.keys(S),
        toLoadLanguages: Object.keys(T),
        toLoadNamespaces: Object.keys(L)
      };
    }
  }, {
    key: "loaded",
    value: function(n, u, _) {
      var o = n.split("|"), y = o[0], b = o[1];
      u && this.emit("failedLoading", y, b, u), _ && this.store.addResourceBundle(y, b, _), this.state[n] = u ? -1 : 2;
      var S = {};
      this.queue.forEach(function(T) {
        L9(T.loaded, [y], b), H9(T, n), u && T.errors.push(u), T.pendingCount === 0 && !T.done && (Object.keys(T.loaded).forEach(function(L) {
          S[L] || (S[L] = {});
          var R = T.loaded[L];
          R.length && R.forEach(function(D) {
            S[L][D] === void 0 && (S[L][D] = !0);
          });
        }), T.done = !0, T.errors.length ? T.callback(T.errors) : T.callback());
      }), this.emit("loaded", S), this.queue = this.queue.filter(function(T) {
        return !T.done;
      });
    }
  }, {
    key: "read",
    value: function(n, u, _) {
      var o = this, y = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0, b = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : this.retryTimeout, S = arguments.length > 5 ? arguments[5] : void 0;
      if (!n.length)
        return S(null, {});
      if (this.readingCalls >= this.maxParallelReads) {
        this.waitingReads.push({
          lng: n,
          ns: u,
          fcName: _,
          tried: y,
          wait: b,
          callback: S
        });
        return;
      }
      this.readingCalls++;
      var T = function(j, Q) {
        if (o.readingCalls--, o.waitingReads.length > 0) {
          var ie = o.waitingReads.shift();
          o.read(ie.lng, ie.ns, ie.fcName, ie.tried, ie.wait, ie.callback);
        }
        if (j && Q && y < o.maxRetries) {
          setTimeout(function() {
            o.read.call(o, n, u, _, y + 1, b * 2, S);
          }, b);
          return;
        }
        S(j, Q);
      }, L = this.backend[_].bind(this.backend);
      if (L.length === 2) {
        try {
          var R = L(n, u);
          R && typeof R.then == "function" ? R.then(function(D) {
            return T(null, D);
          }).catch(T) : T(null, R);
        } catch (D) {
          T(D);
        }
        return;
      }
      return L(n, u, T);
    }
  }, {
    key: "prepareLoading",
    value: function(n, u) {
      var _ = this, o = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, y = arguments.length > 3 ? arguments[3] : void 0;
      if (!this.backend)
        return this.logger.warn("No backend was added via i18next.use. Will not load resources."), y && y();
      typeof n == "string" && (n = this.languageUtils.toResolveHierarchy(n)), typeof u == "string" && (u = [u]);
      var b = this.queueLoad(n, u, o, y);
      if (!b.toLoad.length)
        return b.pending.length || y(), null;
      b.toLoad.forEach(function(S) {
        _.loadOne(S);
      });
    }
  }, {
    key: "load",
    value: function(n, u, _) {
      this.prepareLoading(n, u, {}, _);
    }
  }, {
    key: "reload",
    value: function(n, u, _) {
      this.prepareLoading(n, u, {
        reload: !0
      }, _);
    }
  }, {
    key: "loadOne",
    value: function(n) {
      var u = this, _ = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "", o = n.split("|"), y = o[0], b = o[1];
      this.read(y, b, "read", void 0, void 0, function(S, T) {
        S && u.logger.warn("".concat(_, "loading namespace ").concat(b, " for language ").concat(y, " failed"), S), !S && T && u.logger.log("".concat(_, "loaded namespace ").concat(b, " for language ").concat(y), T), u.loaded(n, S, T);
      });
    }
  }, {
    key: "saveMissing",
    value: function(n, u, _, o, y) {
      var b = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : {}, S = arguments.length > 6 && arguments[6] !== void 0 ? arguments[6] : function() {
      };
      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(u)) {
        this.logger.warn('did not save key "'.concat(_, '" as the namespace "').concat(u, '" was not yet loaded'), "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");
        return;
      }
      if (!(_ == null || _ === "")) {
        if (this.backend && this.backend.create) {
          var T = xv(xv({}, b), {}, {
            isUpdate: y
          }), L = this.backend.create.bind(this.backend);
          if (L.length < 6)
            try {
              var R;
              L.length === 5 ? R = L(n, u, _, o, T) : R = L(n, u, _, o), R && typeof R.then == "function" ? R.then(function(D) {
                return S(null, D);
              }).catch(S) : S(null, R);
            } catch (D) {
              S(D);
            }
          else
            L(n, u, _, o, S, T);
        }
        !n || !n[0] || this.store.addResource(n[0], u, _, o);
      }
    }
  }]), e;
}(Vo);
function wv() {
  return {
    debug: !1,
    initImmediate: !0,
    ns: ["translation"],
    defaultNS: ["translation"],
    fallbackLng: ["dev"],
    fallbackNS: !1,
    supportedLngs: !1,
    nonExplicitSupportedLngs: !1,
    load: "all",
    preload: !1,
    simplifyPluralSuffix: !0,
    keySeparator: ".",
    nsSeparator: ":",
    pluralSeparator: "_",
    contextSeparator: "_",
    partialBundledLanguages: !1,
    saveMissing: !1,
    updateMissing: !1,
    saveMissingTo: "fallback",
    saveMissingPlurals: !0,
    missingKeyHandler: !1,
    missingInterpolationHandler: !1,
    postProcess: !1,
    postProcessPassResolved: !1,
    returnNull: !0,
    returnEmptyString: !0,
    returnObjects: !1,
    joinArrays: !1,
    returnedObjectHandler: !1,
    parseMissingKeyHandler: !1,
    appendNamespaceToMissingKey: !1,
    appendNamespaceToCIMode: !1,
    overloadTranslationOptionHandler: function(t) {
      var e = {};
      if (Ar(t[1]) === "object" && (e = t[1]), typeof t[1] == "string" && (e.defaultValue = t[1]), typeof t[2] == "string" && (e.tDescription = t[2]), Ar(t[2]) === "object" || Ar(t[3]) === "object") {
        var i = t[3] || t[2];
        Object.keys(i).forEach(function(n) {
          e[n] = i[n];
        });
      }
      return e;
    },
    interpolation: {
      escapeValue: !0,
      format: function(t, e, i, n) {
        return t;
      },
      prefix: "{{",
      suffix: "}}",
      formatSeparator: ",",
      unescapePrefix: "-",
      nestingPrefix: "$t(",
      nestingSuffix: ")",
      nestingOptionsSeparator: ",",
      maxReplaces: 1e3,
      skipOnVariables: !0
    }
  };
}
function Sv(a) {
  return typeof a.ns == "string" && (a.ns = [a.ns]), typeof a.fallbackLng == "string" && (a.fallbackLng = [a.fallbackLng]), typeof a.fallbackNS == "string" && (a.fallbackNS = [a.fallbackNS]), a.supportedLngs && a.supportedLngs.indexOf("cimode") < 0 && (a.supportedLngs = a.supportedLngs.concat(["cimode"])), a;
}
function Tv(a, t) {
  var e = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(a);
    t && (i = i.filter(function(n) {
      return Object.getOwnPropertyDescriptor(a, n).enumerable;
    })), e.push.apply(e, i);
  }
  return e;
}
function ds(a) {
  for (var t = 1; t < arguments.length; t++) {
    var e = arguments[t] != null ? arguments[t] : {};
    t % 2 ? Tv(Object(e), !0).forEach(function(i) {
      Ko(a, i, e[i]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(e)) : Tv(Object(e)).forEach(function(i) {
      Object.defineProperty(a, i, Object.getOwnPropertyDescriptor(e, i));
    });
  }
  return a;
}
function K9(a) {
  var t = Y9();
  return function() {
    var i = xs(a), n;
    if (t) {
      var u = xs(this).constructor;
      n = Reflect.construct(i, arguments, u);
    } else
      n = i.apply(this, arguments);
    return l_(this, n);
  };
}
function Y9() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return !1;
  if (typeof Proxy == "function")
    return !0;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), !0;
  } catch {
    return !1;
  }
}
function Rm() {
}
function Q9(a) {
  var t = Object.getOwnPropertyNames(Object.getPrototypeOf(a));
  t.forEach(function(e) {
    typeof a[e] == "function" && (a[e] = a[e].bind(a));
  });
}
var Ih = function(a) {
  ep(e, a);
  var t = K9(e);
  function e() {
    var i, n = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, u = arguments.length > 1 ? arguments[1] : void 0;
    if (Ss(this, e), i = t.call(this), tp && Vo.call(qo(i)), i.options = Sv(n), i.services = {}, i.logger = ms, i.modules = {
      external: []
    }, Q9(qo(i)), u && !i.isInitialized && !n.isClone) {
      if (!i.options.initImmediate)
        return i.init(n, u), l_(i, qo(i));
      setTimeout(function() {
        i.init(n, u);
      }, 0);
    }
    return i;
  }
  return Ts(e, [{
    key: "init",
    value: function() {
      var n = this, u = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ = arguments.length > 1 ? arguments[1] : void 0;
      typeof u == "function" && (_ = u, u = {}), !u.defaultNS && u.defaultNS !== !1 && u.ns && (typeof u.ns == "string" ? u.defaultNS = u.ns : u.ns.indexOf("translation") < 0 && (u.defaultNS = u.ns[0]));
      var o = wv();
      this.options = ds(ds(ds({}, o), this.options), Sv(u)), this.options.compatibilityAPI !== "v1" && (this.options.interpolation = ds(ds({}, o.interpolation), this.options.interpolation)), u.keySeparator !== void 0 && (this.options.userDefinedKeySeparator = u.keySeparator), u.nsSeparator !== void 0 && (this.options.userDefinedNsSeparator = u.nsSeparator);
      function y(ie) {
        return ie ? typeof ie == "function" ? new ie() : ie : null;
      }
      if (!this.options.isClone) {
        this.modules.logger ? ms.init(y(this.modules.logger), this.options) : ms.init(null, this.options);
        var b;
        this.modules.formatter ? b = this.modules.formatter : typeof Intl < "u" && (b = V9);
        var S = new pv(this.options);
        this.store = new D9(this.options.resources, this.options);
        var T = this.services;
        T.logger = ms, T.resourceStore = this.store, T.languageUtils = S, T.pluralResolver = new G9(S, {
          prepend: this.options.pluralSeparator,
          compatibilityJSON: this.options.compatibilityJSON,
          simplifyPluralSuffix: this.options.simplifyPluralSuffix
        }), b && (!this.options.interpolation.format || this.options.interpolation.format === o.interpolation.format) && (T.formatter = y(b), T.formatter.init(T, this.options), this.options.interpolation.format = T.formatter.format.bind(T.formatter)), T.interpolator = new U9(this.options), T.utils = {
          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
        }, T.backendConnector = new X9(y(this.modules.backend), T.resourceStore, T, this.options), T.backendConnector.on("*", function(ie) {
          for (var J = arguments.length, _e = new Array(J > 1 ? J - 1 : 0), ce = 1; ce < J; ce++)
            _e[ce - 1] = arguments[ce];
          n.emit.apply(n, [ie].concat(_e));
        }), this.modules.languageDetector && (T.languageDetector = y(this.modules.languageDetector), T.languageDetector.init && T.languageDetector.init(T, this.options.detection, this.options)), this.modules.i18nFormat && (T.i18nFormat = y(this.modules.i18nFormat), T.i18nFormat.init && T.i18nFormat.init(this)), this.translator = new hv(this.services, this.options), this.translator.on("*", function(ie) {
          for (var J = arguments.length, _e = new Array(J > 1 ? J - 1 : 0), ce = 1; ce < J; ce++)
            _e[ce - 1] = arguments[ce];
          n.emit.apply(n, [ie].concat(_e));
        }), this.modules.external.forEach(function(ie) {
          ie.init && ie.init(n);
        });
      }
      if (this.format = this.options.interpolation.format, _ || (_ = Rm), this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
        var L = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
        L.length > 0 && L[0] !== "dev" && (this.options.lng = L[0]);
      }
      !this.services.languageDetector && !this.options.lng && this.logger.warn("init: no languageDetector is used and no lng is defined");
      var R = ["getResource", "hasResourceBundle", "getResourceBundle", "getDataByLanguage"];
      R.forEach(function(ie) {
        n[ie] = function() {
          var J;
          return (J = n.store)[ie].apply(J, arguments);
        };
      });
      var D = ["addResource", "addResources", "addResourceBundle", "removeResourceBundle"];
      D.forEach(function(ie) {
        n[ie] = function() {
          var J;
          return (J = n.store)[ie].apply(J, arguments), n;
        };
      });
      var j = hc(), Q = function() {
        var J = function(ce, we) {
          n.isInitialized && !n.initializedStoreOnce && n.logger.warn("init: i18next is already initialized. You should call init just once!"), n.isInitialized = !0, n.options.isClone || n.logger.log("initialized", n.options), n.emit("initialized", n.options), j.resolve(we), _(ce, we);
        };
        if (n.languages && n.options.compatibilityAPI !== "v1" && !n.isInitialized)
          return J(null, n.t.bind(n));
        n.changeLanguage(n.options.lng, J);
      };
      return this.options.resources || !this.options.initImmediate ? Q() : setTimeout(Q, 0), j;
    }
  }, {
    key: "loadResources",
    value: function(n) {
      var u = this, _ = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Rm, o = _, y = typeof n == "string" ? n : this.language;
      if (typeof n == "function" && (o = n), !this.options.resources || this.options.partialBundledLanguages) {
        if (y && y.toLowerCase() === "cimode")
          return o();
        var b = [], S = function(R) {
          if (R) {
            var D = u.services.languageUtils.toResolveHierarchy(R);
            D.forEach(function(j) {
              b.indexOf(j) < 0 && b.push(j);
            });
          }
        };
        if (y)
          S(y);
        else {
          var T = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
          T.forEach(function(L) {
            return S(L);
          });
        }
        this.options.preload && this.options.preload.forEach(function(L) {
          return S(L);
        }), this.services.backendConnector.load(b, this.options.ns, function(L) {
          !L && !u.resolvedLanguage && u.language && u.setResolvedLanguage(u.language), o(L);
        });
      } else
        o(null);
    }
  }, {
    key: "reloadResources",
    value: function(n, u, _) {
      var o = hc();
      return n || (n = this.languages), u || (u = this.options.ns), _ || (_ = Rm), this.services.backendConnector.reload(n, u, function(y) {
        o.resolve(), _(y);
      }), o;
    }
  }, {
    key: "use",
    value: function(n) {
      if (!n)
        throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");
      if (!n.type)
        throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");
      return n.type === "backend" && (this.modules.backend = n), (n.type === "logger" || n.log && n.warn && n.error) && (this.modules.logger = n), n.type === "languageDetector" && (this.modules.languageDetector = n), n.type === "i18nFormat" && (this.modules.i18nFormat = n), n.type === "postProcessor" && Lb.addPostProcessor(n), n.type === "formatter" && (this.modules.formatter = n), n.type === "3rdParty" && this.modules.external.push(n), this;
    }
  }, {
    key: "setResolvedLanguage",
    value: function(n) {
      if (!(!n || !this.languages) && !(["cimode", "dev"].indexOf(n) > -1))
        for (var u = 0; u < this.languages.length; u++) {
          var _ = this.languages[u];
          if (!(["cimode", "dev"].indexOf(_) > -1) && this.store.hasLanguageSomeTranslations(_)) {
            this.resolvedLanguage = _;
            break;
          }
        }
    }
  }, {
    key: "changeLanguage",
    value: function(n, u) {
      var _ = this;
      this.isLanguageChangingTo = n;
      var o = hc();
      this.emit("languageChanging", n);
      var y = function(L) {
        _.language = L, _.languages = _.services.languageUtils.toResolveHierarchy(L), _.resolvedLanguage = void 0, _.setResolvedLanguage(L);
      }, b = function(L, R) {
        R ? (y(R), _.translator.changeLanguage(R), _.isLanguageChangingTo = void 0, _.emit("languageChanged", R), _.logger.log("languageChanged", R)) : _.isLanguageChangingTo = void 0, o.resolve(function() {
          return _.t.apply(_, arguments);
        }), u && u(L, function() {
          return _.t.apply(_, arguments);
        });
      }, S = function(L) {
        !n && !L && _.services.languageDetector && (L = []);
        var R = typeof L == "string" ? L : _.services.languageUtils.getBestMatchFromCodes(L);
        R && (_.language || y(R), _.translator.language || _.translator.changeLanguage(R), _.services.languageDetector && _.services.languageDetector.cacheUserLanguage && _.services.languageDetector.cacheUserLanguage(R)), _.loadResources(R, function(D) {
          b(D, R);
        });
      };
      return !n && this.services.languageDetector && !this.services.languageDetector.async ? S(this.services.languageDetector.detect()) : !n && this.services.languageDetector && this.services.languageDetector.async ? this.services.languageDetector.detect.length === 0 ? this.services.languageDetector.detect().then(S) : this.services.languageDetector.detect(S) : S(n), o;
    }
  }, {
    key: "getFixedT",
    value: function(n, u, _) {
      var o = this, y = function b(S, T) {
        var L;
        if (Ar(T) !== "object") {
          for (var R = arguments.length, D = new Array(R > 2 ? R - 2 : 0), j = 2; j < R; j++)
            D[j - 2] = arguments[j];
          L = o.options.overloadTranslationOptionHandler([S, T].concat(D));
        } else
          L = ds({}, T);
        L.lng = L.lng || b.lng, L.lngs = L.lngs || b.lngs, L.ns = L.ns || b.ns, L.keyPrefix = L.keyPrefix || _ || b.keyPrefix;
        var Q = o.options.keySeparator || ".", ie;
        return L.keyPrefix && Array.isArray(S) ? ie = S.map(function(J) {
          return "".concat(L.keyPrefix).concat(Q).concat(J);
        }) : ie = L.keyPrefix ? "".concat(L.keyPrefix).concat(Q).concat(S) : S, o.t(ie, L);
      };
      return typeof n == "string" ? y.lng = n : y.lngs = n, y.ns = u, y.keyPrefix = _, y;
    }
  }, {
    key: "t",
    value: function() {
      var n;
      return this.translator && (n = this.translator).translate.apply(n, arguments);
    }
  }, {
    key: "exists",
    value: function() {
      var n;
      return this.translator && (n = this.translator).exists.apply(n, arguments);
    }
  }, {
    key: "setDefaultNamespace",
    value: function(n) {
      this.options.defaultNS = n;
    }
  }, {
    key: "hasLoadedNamespace",
    value: function(n) {
      var u = this, _ = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      if (!this.isInitialized)
        return this.logger.warn("hasLoadedNamespace: i18next was not initialized", this.languages), !1;
      if (!this.languages || !this.languages.length)
        return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty", this.languages), !1;
      var o = this.resolvedLanguage || this.languages[0], y = this.options ? this.options.fallbackLng : !1, b = this.languages[this.languages.length - 1];
      if (o.toLowerCase() === "cimode")
        return !0;
      var S = function(R, D) {
        var j = u.services.backendConnector.state["".concat(R, "|").concat(D)];
        return j === -1 || j === 2;
      };
      if (_.precheck) {
        var T = _.precheck(this, S);
        if (T !== void 0)
          return T;
      }
      return !!(this.hasResourceBundle(o, n) || !this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages || S(o, n) && (!y || S(b, n)));
    }
  }, {
    key: "loadNamespaces",
    value: function(n, u) {
      var _ = this, o = hc();
      return this.options.ns ? (typeof n == "string" && (n = [n]), n.forEach(function(y) {
        _.options.ns.indexOf(y) < 0 && _.options.ns.push(y);
      }), this.loadResources(function(y) {
        o.resolve(), u && u(y);
      }), o) : (u && u(), Promise.resolve());
    }
  }, {
    key: "loadLanguages",
    value: function(n, u) {
      var _ = hc();
      typeof n == "string" && (n = [n]);
      var o = this.options.preload || [], y = n.filter(function(b) {
        return o.indexOf(b) < 0;
      });
      return y.length ? (this.options.preload = o.concat(y), this.loadResources(function(b) {
        _.resolve(), u && u(b);
      }), _) : (u && u(), Promise.resolve());
    }
  }, {
    key: "dir",
    value: function(n) {
      if (n || (n = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language)), !n)
        return "rtl";
      var u = ["ar", "shu", "sqr", "ssh", "xaa", "yhd", "yud", "aao", "abh", "abv", "acm", "acq", "acw", "acx", "acy", "adf", "ads", "aeb", "aec", "afb", "ajp", "apc", "apd", "arb", "arq", "ars", "ary", "arz", "auz", "avl", "ayh", "ayl", "ayn", "ayp", "bbz", "pga", "he", "iw", "ps", "pbt", "pbu", "pst", "prp", "prd", "ug", "ur", "ydd", "yds", "yih", "ji", "yi", "hbo", "men", "xmn", "fa", "jpr", "peo", "pes", "prs", "dv", "sam", "ckb"], _ = this.services && this.services.languageUtils || new pv(wv());
      return u.indexOf(_.getLanguagePartFromCode(n)) > -1 || n.toLowerCase().indexOf("-arab") > 1 ? "rtl" : "ltr";
    }
  }, {
    key: "cloneInstance",
    value: function() {
      var n = this, u = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Rm, o = ds(ds(ds({}, this.options), u), {
        isClone: !0
      }), y = new e(o);
      (u.debug !== void 0 || u.prefix !== void 0) && (y.logger = y.logger.clone(u));
      var b = ["store", "services", "language"];
      return b.forEach(function(S) {
        y[S] = n[S];
      }), y.services = ds({}, this.services), y.services.utils = {
        hasLoadedNamespace: y.hasLoadedNamespace.bind(y)
      }, y.translator = new hv(y.services, y.options), y.translator.on("*", function(S) {
        for (var T = arguments.length, L = new Array(T > 1 ? T - 1 : 0), R = 1; R < T; R++)
          L[R - 1] = arguments[R];
        y.emit.apply(y, [S].concat(L));
      }), y.init(o, _), y.translator.options = y.options, y.translator.backendConnector.services.utils = {
        hasLoadedNamespace: y.hasLoadedNamespace.bind(y)
      }, y;
    }
  }, {
    key: "toJSON",
    value: function() {
      return {
        options: this.options,
        store: this.store,
        language: this.language,
        languages: this.languages,
        resolvedLanguage: this.resolvedLanguage
      };
    }
  }]), e;
}(Vo);
Ko(Ih, "createInstance", function() {
  var a = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, t = arguments.length > 1 ? arguments[1] : void 0;
  return new Ih(a, t);
});
var vi = Ih.createInstance();
vi.createInstance = Ih.createInstance;
vi.createInstance;
vi.dir;
vi.init;
vi.loadResources;
vi.reloadResources;
vi.use;
vi.changeLanguage;
vi.getFixedT;
vi.t;
vi.exists;
vi.setDefaultNamespace;
vi.hasLoadedNamespace;
vi.loadNamespaces;
vi.loadLanguages;
const Qn = Hc(
  "config",
  () => {
    const a = Fn(), t = cn("main"), e = ki(() => {
      var o;
      return (o = a.value) == null ? void 0 : o.themes;
    }), i = ki(
      () => {
        var o;
        return (o = e.value) == null ? void 0 : o.find((y) => y.name === t.value);
      }
    ), n = ki(() => {
      var o;
      return ((o = a.value) == null ? void 0 : o.background_layers) || [];
    });
    function u(o) {
      a.value = o;
    }
    function _(o) {
      t.value = o;
    }
    return {
      config: a,
      themes: e,
      themeName: t,
      theme: i,
      bgLayers: n,
      setTheme: _,
      setThemes: u
    };
  },
  {}
), J9 = () => ({
  ogcServers: {
    "source for config://my_maps?category_id=106": {
      url: "https://ws.geoportail.lu/mymaps?category_id=106",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=106",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=501": {
      url: "https://ws.geoportail.lu/mymaps?category_id=501",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=501",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=302": {
      url: "https://ws.geoportail.lu/mymaps?category_id=302",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=302",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=81": {
      url: "https://ws.geoportail.lu/mymaps?category_id=81",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=81",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=160": {
      url: "https://ws.geoportail.lu/mymaps?category_id=160",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=160",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=172": {
      url: "https://ws.geoportail.lu/mymaps?category_id=172",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=172",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=990": {
      url: "https://ws.geoportail.lu/mymaps?category_id=990",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=990",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=170": {
      url: "https://ws.geoportail.lu/mymaps?category_id=170",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=170",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=71": {
      url: "https://ws.geoportail.lu/mymaps?category_id=71",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=71",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=23": {
      url: "https://ws.geoportail.lu/mymaps?category_id=23",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=23",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=165": {
      url: "https://ws.geoportail.lu/mymaps?category_id=165",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=165",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=154": {
      url: "https://ws.geoportail.lu/mymaps?category_id=154",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=154",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=250": {
      url: "https://ws.geoportail.lu/mymaps?category_id=250",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=250",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=994": {
      url: "https://ws.geoportail.lu/mymaps?category_id=994",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=994",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=158": {
      url: "https://ws.geoportail.lu/mymaps?category_id=158",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=158",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=161": {
      url: "https://ws.geoportail.lu/mymaps?category_id=161",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=161",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=173": {
      url: "https://ws.geoportail.lu/mymaps?category_id=173",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=173",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=183": {
      url: "https://ws.geoportail.lu/mymaps?category_id=183",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=183",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=999": {
      url: "https://ws.geoportail.lu/mymaps?category_id=999",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=999",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=164": {
      url: "https://ws.geoportail.lu/mymaps?category_id=164",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=164",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=108": {
      url: "https://ws.geoportail.lu/mymaps?category_id=108",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=108",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=251": {
      url: "https://ws.geoportail.lu/mymaps?category_id=251",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=251",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=24": {
      url: "https://ws.geoportail.lu/mymaps?category_id=24",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=24",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=79": {
      url: "https://ws.geoportail.lu/mymaps?category_id=79",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=79",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=152": {
      url: "https://ws.geoportail.lu/mymaps?category_id=152",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=152",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=73": {
      url: "https://ws.geoportail.lu/mymaps?category_id=73",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=73",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=80": {
      url: "https://ws.geoportail.lu/mymaps?category_id=80",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=80",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=156": {
      url: "https://ws.geoportail.lu/mymaps?category_id=156",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=156",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=157": {
      url: "https://ws.geoportail.lu/mymaps?category_id=157",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=157",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=109": {
      url: "https://ws.geoportail.lu/mymaps?category_id=109",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=109",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=503": {
      url: "https://ws.geoportail.lu/mymaps?category_id=503",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=503",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=117": {
      url: "https://ws.geoportail.lu/mymaps?category_id=117",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=117",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=506": {
      url: "https://ws.geoportail.lu/mymaps?category_id=506",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=506",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=301": {
      url: "https://ws.geoportail.lu/mymaps?category_id=301",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=301",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=168": {
      url: "https://ws.geoportail.lu/mymaps?category_id=168",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=168",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=500": {
      url: "https://ws.geoportail.lu/mymaps?category_id=500",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=500",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=159": {
      url: "https://ws.geoportail.lu/mymaps?category_id=159",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=159",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=504": {
      url: "https://ws.geoportail.lu/mymaps?category_id=504",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=504",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=260": {
      url: "https://ws.geoportail.lu/mymaps?category_id=260",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=260",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=171": {
      url: "https://ws.geoportail.lu/mymaps?category_id=171",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=171",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=30": {
      url: "https://ws.geoportail.lu/mymaps?category_id=30",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=30",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=9": {
      url: "https://ws.geoportail.lu/mymaps?category_id=9",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=9",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=270": {
      url: "https://ws.geoportail.lu/mymaps?category_id=270",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=270",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=8": {
      url: "https://ws.geoportail.lu/mymaps?category_id=8",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=8",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=502": {
      url: "https://ws.geoportail.lu/mymaps?category_id=502",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=502",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=33": {
      url: "https://ws.geoportail.lu/mymaps?category_id=33",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=33",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=167": {
      url: "https://ws.geoportail.lu/mymaps?category_id=167",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=167",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=184": {
      url: "https://ws.geoportail.lu/mymaps?category_id=184",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=184",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=510": {
      url: "https://ws.geoportail.lu/mymaps?category_id=510",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=510",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=120": {
      url: "https://ws.geoportail.lu/mymaps?category_id=120",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=120",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=186": {
      url: "https://ws.geoportail.lu/mymaps?category_id=186",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=186",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=187": {
      url: "https://ws.geoportail.lu/mymaps?category_id=187",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=187",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=188": {
      url: "https://ws.geoportail.lu/mymaps?category_id=188",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=188",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=185": {
      url: "https://ws.geoportail.lu/mymaps?category_id=185",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=185",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=992": {
      url: "https://ws.geoportail.lu/mymaps?category_id=992",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=992",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=150": {
      url: "https://ws.geoportail.lu/mymaps?category_id=150",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=150",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=31": {
      url: "https://ws.geoportail.lu/mymaps?category_id=31",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=31",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=153": {
      url: "https://ws.geoportail.lu/mymaps?category_id=153",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=153",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=72": {
      url: "https://ws.geoportail.lu/mymaps?category_id=72",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=72",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=505": {
      url: "https://ws.geoportail.lu/mymaps?category_id=505",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=505",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=162": {
      url: "https://ws.geoportail.lu/mymaps?category_id=162",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=162",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=77": {
      url: "https://ws.geoportail.lu/mymaps?category_id=77",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=77",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=155": {
      url: "https://ws.geoportail.lu/mymaps?category_id=155",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=155",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=402": {
      url: "https://ws.geoportail.lu/mymaps?category_id=402",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=402",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=151": {
      url: "https://ws.geoportail.lu/mymaps?category_id=151",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=151",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=70": {
      url: "https://ws.geoportail.lu/mymaps?category_id=70",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=70",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=300": {
      url: "https://ws.geoportail.lu/mymaps?category_id=300",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=300",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=74": {
      url: "https://ws.geoportail.lu/mymaps?category_id=74",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=74",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=182": {
      url: "https://ws.geoportail.lu/mymaps?category_id=182",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=182",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=78": {
      url: "https://ws.geoportail.lu/mymaps?category_id=78",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=78",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=20": {
      url: "https://ws.geoportail.lu/mymaps?category_id=20",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=20",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=180": {
      url: "https://ws.geoportail.lu/mymaps?category_id=180",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=180",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=110": {
      url: "https://ws.geoportail.lu/mymaps?category_id=110",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=110",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=169": {
      url: "https://ws.geoportail.lu/mymaps?category_id=169",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=169",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=181": {
      url: "https://ws.geoportail.lu/mymaps?category_id=181",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=181",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=993": {
      url: "https://ws.geoportail.lu/mymaps?category_id=993",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=993",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=163": {
      url: "https://ws.geoportail.lu/mymaps?category_id=163",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=163",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=76": {
      url: "https://ws.geoportail.lu/mymaps?category_id=76",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=76",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for https://wmts3.geoportail.lu/mapproxy_4_v3/service": {
      url: "https://wmts3.geoportail.lu/mapproxy_4_v3/service",
      urlWfs: "https://wmts3.geoportail.lu/mapproxy_4_v3/service",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=403": {
      url: "https://ws.geoportail.lu/mymaps?category_id=403",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=403",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=404": {
      url: "https://ws.geoportail.lu/mymaps?category_id=404",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=404",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=32": {
      url: "https://ws.geoportail.lu/mymaps?category_id=32",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=32",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=991": {
      url: "https://ws.geoportail.lu/mymaps?category_id=991",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=991",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=400": {
      url: "https://ws.geoportail.lu/mymaps?category_id=400",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=400",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=401": {
      url: "https://ws.geoportail.lu/mymaps?category_id=401",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=401",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=166": {
      url: "https://ws.geoportail.lu/mymaps?category_id=166",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=166",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=19": {
      url: "https://ws.geoportail.lu/mymaps?category_id=19",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=19",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=107": {
      url: "https://ws.geoportail.lu/mymaps?category_id=107",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=107",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=6": {
      url: "https://ws.geoportail.lu/mymaps?category_id=6",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=6",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=4": {
      url: "https://ws.geoportail.lu/mymaps?category_id=4",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=4",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=18": {
      url: "https://ws.geoportail.lu/mymaps?category_id=18",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=18",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=13": {
      url: "https://ws.geoportail.lu/mymaps?category_id=13",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=13",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=12": {
      url: "https://ws.geoportail.lu/mymaps?category_id=12",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=12",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=10": {
      url: "https://ws.geoportail.lu/mymaps?category_id=10",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=10",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=7": {
      url: "https://ws.geoportail.lu/mymaps?category_id=7",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=7",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=22": {
      url: "https://ws.geoportail.lu/mymaps?category_id=22",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=22",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=16": {
      url: "https://ws.geoportail.lu/mymaps?category_id=16",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=16",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=17": {
      url: "https://ws.geoportail.lu/mymaps?category_id=17",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=17",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=41": {
      url: "https://ws.geoportail.lu/mymaps?category_id=41",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=41",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=121": {
      url: "https://ws.geoportail.lu/mymaps?category_id=121",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=121",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=122": {
      url: "https://ws.geoportail.lu/mymaps?category_id=122",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=122",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=123": {
      url: "https://ws.geoportail.lu/mymaps?category_id=123",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=123",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=124": {
      url: "https://ws.geoportail.lu/mymaps?category_id=124",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=124",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=125": {
      url: "https://ws.geoportail.lu/mymaps?category_id=125",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=125",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=126": {
      url: "https://ws.geoportail.lu/mymaps?category_id=126",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=126",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=127": {
      url: "https://ws.geoportail.lu/mymaps?category_id=127",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=127",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for image/jpeg": {
      url: "https://map.geoportail.lu/mapserv_proxy?ogcserver=source+for+image%2Fjpeg&cache_version=0b3affb2592f45f6a379cac74b45a07e",
      urlWfs: "https://map.geoportail.lu/mapserv_proxy?ogcserver=source+for+image%2Fjpeg&cache_version=0b3affb2592f45f6a379cac74b45a07e",
      type: "mapserver",
      credential: !0,
      imageType: "image/jpeg",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=128": {
      url: "https://ws.geoportail.lu/mymaps?category_id=128",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=128",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=129": {
      url: "https://ws.geoportail.lu/mymaps?category_id=129",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=129",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=130": {
      url: "https://ws.geoportail.lu/mymaps?category_id=130",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=130",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=131": {
      url: "https://ws.geoportail.lu/mymaps?category_id=131",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=131",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=18,19": {
      url: "https://ws.geoportail.lu/mymaps?category_id=18,19",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=18,19",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=117,501": {
      url: "https://ws.geoportail.lu/mymaps?category_id=117,501",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=117,501",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=189": {
      url: "https://ws.geoportail.lu/mymaps?category_id=189",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=189",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "Internal WMS Geoserver": {
      url: "https://map.geoportail.lu/ogcproxywms",
      urlWfs: "https://map.geoportail.lu/ogcproxywms",
      type: "geoserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "Internal WMS": {
      url: "https://map.geoportail.lu/ogcproxywms",
      urlWfs: "https://map.geoportail.lu/ogcproxywms",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=700": {
      url: "https://ws.geoportail.lu/mymaps?category_id=700",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=700",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=25": {
      url: "https://ws.geoportail.lu/mymaps?category_id=25",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=25",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=42": {
      url: "https://ws.geoportail.lu/mymaps?category_id=42",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=42",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=43": {
      url: "https://ws.geoportail.lu/mymaps?category_id=43",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=43",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=11,43": {
      url: "https://ws.geoportail.lu/mymaps?category_id=11,43",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=11,43",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !0,
      namespace: null,
      attributes: null
    },
    "source for image/png": {
      url: "https://map.geoportail.lu/mapserv_proxy?ogcserver=source+for+image%2Fpng&cache_version=0b3affb2592f45f6a379cac74b45a07e",
      urlWfs: "https://map.geoportail.lu/mapserv_proxy?ogcserver=source+for+image%2Fpng&cache_version=0b3affb2592f45f6a379cac74b45a07e",
      type: "mapserver",
      credential: !0,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    },
    "source for config://my_maps?category_id=132": {
      url: "https://ws.geoportail.lu/mymaps?category_id=132",
      urlWfs: "https://ws.geoportail.lu/mymaps?category_id=132",
      type: "mapserver",
      credential: !1,
      imageType: "image/png",
      wfsSupport: !1,
      isSingleTile: !1,
      namespace: null,
      attributes: null
    }
  },
  themes: [
    {
      id: 116,
      name: "main",
      icon: "main",
      children: [
        {
          id: 242,
          name: "basisden",
          children: [
            {
              id: 309,
              name: "administrative_einheiten",
              children: [
                {
                  id: 269,
                  name: "communes_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "17c7d883-ff7f-4b48-a894-46bea40d2e49"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "communes_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "communes_labels__COMMUNES_LABELS"
                    }
                  ]
                },
                {
                  id: 302,
                  name: "communes",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "de5373d6-340f-4203-a065-da7550a03cc4_2049"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "communes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "communes__COMMUNES"
                    }
                  ]
                },
                {
                  id: 346,
                  name: "cantons_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3af20a80-be4a-4819-a42b-18e49af799aa"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cantons_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cantons_labels__CANTONS_LABELS"
                    }
                  ]
                },
                {
                  id: 329,
                  name: "cantons",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "e8a034e8-f986-4745-a848-b7ef30ce2740"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "CANTONS",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cantons__CANTONS"
                    }
                  ]
                },
                {
                  id: 268,
                  name: "districts_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "c42842e2-834a-427a-99f6-eb8cb79d1db4"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "districts_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "districts_labels__DISTRICTS_LABELS"
                    }
                  ]
                },
                {
                  id: 354,
                  name: "districts",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "b9edd03f-3aef-4fd6-a3d9-db076b1cf237"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "districts",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "districts__DISTRICTS"
                    }
                  ]
                },
                {
                  id: 349,
                  name: "country",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "4c9b3c0b-85d4-447d-a68c-7416869f8d9b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "country",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "country__PAYS"
                    }
                  ]
                },
                {
                  id: 732,
                  name: "limadmin_judiciaire",
                  metadata: {
                    metadata_id: "235c0ac9-5bf6-45b6-9ceb-8680a07944ec"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "limadmin_judiciaire",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "limadmin_judiciaire__ARRONDISSEMENTS JUDICIAIRES"
                    }
                  ]
                },
                {
                  id: 733,
                  name: "limadmin_legislatif",
                  metadata: {
                    metadata_id: "627b78d9-ae18-4be2-9a69-02aa6d4e38bb"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "limadmin_legislatif",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "limadmin_legislatif__CIRCONSCRIPTIONS LEGISLATIVES"
                    }
                  ]
                },
                {
                  id: 744,
                  name: "tour_ort",
                  metadata: {
                    legend_name: "ort",
                    metadata_id: "44dbfde5-664e-4e45-8802-3d60b52eb9cb"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_ort",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_ort__0"
                    },
                    {
                      name: "tour_ort__1"
                    }
                  ]
                },
                {
                  id: 746,
                  name: "tour_leader",
                  metadata: {
                    legend_name: "leader",
                    metadata_id: "a48aec89-7341-459e-a7d3-0e572982b255"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_leader",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_leader__0"
                    },
                    {
                      name: "tour_leader__1"
                    },
                    {
                      name: "tour_leader__2"
                    }
                  ]
                },
                {
                  id: 747,
                  name: "tour_parcsnaturels",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "parcnaturel",
                    metadata_id: "f519c4e7-4459-49b5-b8c1-569328252d44"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_parcnaturels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_parcsnaturels__0"
                    },
                    {
                      name: "tour_parcsnaturels__1"
                    }
                  ]
                },
                {
                  id: 678,
                  name: "anf_stations_biologiques",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "05e497fc-625d-4701-90af-dbe8813201ab"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_stations_biologiques",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_stations_biologiques__STATIONS_BIOLOGIQUES"
                    }
                  ]
                },
                {
                  id: 1364,
                  name: "act_frontieres_isodistances",
                  metadata: {
                    metadata_id: "09318d11-a908-4dea-a8f9-0558d20b980f",
                    start_opacity: 0.5
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "act_frontieres_isodistances",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "act_frontieres_isodistances__0"
                    },
                    {
                      name: "act_frontieres_isodistances__1"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 248,
              name: "flurstucke_grundstucke",
              children: [
                {
                  id: 359,
                  name: "parcels",
                  metadata: {
                    exclusion: "[1,11,21,31,32,33,34,35,36,37,38,39,51,52,53,54,55,56,57,58,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122]",
                    is_queryable: !0,
                    legend_name: "pcn_parcelles:show",
                    metadata_id: "de5373d6-340f-4203-a065-da7550a03cc4_2050"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "parcels",
                  imageType: "image/png"
                },
                {
                  id: 353,
                  name: "parcels_labels",
                  metadata: {
                    metadata_id: "a65629c7-ddd6-43de-b0c3-c49647d8fd2b"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "parcels_labels",
                  imageType: "image/png"
                },
                {
                  id: 199,
                  name: "buildings",
                  metadata: {
                    exclusion: "[2,12,22,41,42,43,44,45,46,47,48,49,61,62,63,64,65,66,67,68,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222]",
                    is_queryable: !0,
                    legend_name: "pcn_batiments:show",
                    metadata_id: "5d0efc9d-a05a-4964-9f9d-a0ab9932af04"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "buildings",
                  imageType: "image/png"
                },
                {
                  id: 320,
                  name: "toponymes",
                  metadata: {
                    metadata_id: "ffa537f7-a438-47da-9e0c-8e32260646a9"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "toponymes",
                  imageType: "image/png"
                },
                {
                  id: 350,
                  name: "communes_cadastrales_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "5ae8fdfb-bb8f-4f72-b7ee-36c7664fe4b5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "communes_cadastrales_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "communes_cadastrales_labels__COMMUNES_CADASTRALES_LABELS"
                    }
                  ]
                },
                {
                  id: 153,
                  name: "communes_cadastrales",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "8a95f8b2-2cfb-42e7-a51c-02084228b364"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "communes_cadastrales",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "communes_cadastrales__COMMUNES_CADASTRALES"
                    }
                  ]
                },
                {
                  id: 266,
                  name: "sections_cadastrales_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "69d1b609-11f7-4587-872a-508ee98ea76c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "sections_cadastrales_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "sections_cadastrales_labels__SECTIONS_CADASTRALES_LABELS"
                    }
                  ]
                },
                {
                  id: 355,
                  name: "sections_cadastrales",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "c9122320-8f06-4499-ac86-eb469e911369"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "sections_cadastrales",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "sections_cadastrales__SECTIONS_CADASTRALES"
                    }
                  ]
                },
                {
                  id: 256,
                  name: "feuilles_cadastrales",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "51333029-c8cf-490f-b4a6-80ba239f0cb4"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "feuilles_cadastrales",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "feuilles_cadastrales__FEUILLES_CADASTRALES"
                    }
                  ]
                },
                {
                  id: 417,
                  name: "remembrements",
                  metadata: {
                    exclusion: "[301,302,303,304,305,306,307,308,309,310]",
                    is_queryable: !0,
                    max_dpi: 128,
                    metadata_id: "03d079f3-61fb-48bc-ab39-f3427b208702",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "remembrements",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "remembrements__0"
                    },
                    {
                      name: "remembrements__1"
                    }
                  ]
                },
                {
                  id: 1643,
                  name: "act_grid_land_tenure",
                  children: [
                    {
                      id: 1644,
                      name: "act_privately_owned_land",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "act:privately",
                        metadata_id: "75cb5ae7-7c48-478f-b2a6-1e5bfbdd5958"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "act_privately_owned_land",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "act_privately_owned_land__0"
                        }
                      ]
                    },
                    {
                      id: 1645,
                      name: "act_state_owned_land",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "act:stateowned",
                        metadata_id: "e8813b4e-43c4-4a72-853e-bd7c06fd1111"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "act_state_owned_land",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "act_state_owned_land__1"
                        }
                      ]
                    },
                    {
                      id: 1646,
                      name: "act_municipality_owned_land",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "act:municipality",
                        metadata_id: "89d42e03-93ae-444f-a49e-eb869b30071e"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "act_municipality_owned_land",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "act_municipality_owned_land__2"
                        }
                      ]
                    },
                    {
                      id: 1647,
                      name: "act_domainepublic_owned_land",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "act:domainepublic",
                        metadata_id: "ac32c380-37df-4594-bbf2-0fd394482fd9"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "act_domainepublic_owned_land",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "act_domainepublic_owned_land__5"
                        }
                      ]
                    },
                    {
                      id: 1648,
                      name: "act_publicly_owned_land",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "act:publicly",
                        metadata_id: "0a1852f5-1f32-4bdc-8bbc-d6103921d862"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "act_publicly_owned_land",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "act_publicly_owned_land__6"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 165,
              name: "adressen",
              children: [
                {
                  id: 152,
                  name: "addresses",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "28b310e4-b9e1-467c-a28d-fce2e9a96548"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "addresses",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 291,
              name: "topographische_karten",
              children: [
                {
                  id: 295,
                  name: "topo",
                  metadata: {
                    exclusion: "[33,43]",
                    metadata_id: "fe530846-9991-455e-a036-edcde4c3c566"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo",
                  imageType: "image/png"
                },
                {
                  id: 223,
                  name: "topo_250k",
                  metadata: {
                    metadata_id: "e1f601a5-ed8f-4043-8719-0cad50cbb483"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_250k",
                  imageType: "image/png"
                },
                {
                  id: 1730,
                  name: "topo_100k_2019",
                  metadata: {
                    legend_name: "topo_100k_sans_tour",
                    metadata_id: "ce051f08-bca6-43c0-af7b-5fcf3e02376e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "topo_100k_2019",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "topo_100k_2019__topo_100k"
                    }
                  ]
                },
                {
                  id: 1729,
                  name: "topo_100k_BW_2019",
                  metadata: {
                    legend_name: "topo_100k_sans_tour",
                    metadata_id: "8d02ddc3-8482-4e47-8ee0-520af99d4966"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "topo_100k_BW_2019",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "topo_100k_BW_2019__topo_100k_bw"
                    }
                  ]
                },
                {
                  id: 1727,
                  name: "topo_50k_2019",
                  metadata: {
                    legend_name: "topo_50k_sans_tour",
                    metadata_id: "abc505e1-224c-455e-9e7f-4f094eb4e7b0"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "topo_50k_2019",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "topo_50k_2019__50K-2019-LUX_avec_ETRANGER"
                    }
                  ]
                },
                {
                  id: 1728,
                  name: "topo_50k_BW_2019",
                  metadata: {
                    legend_name: "topo_50k_sans_tour",
                    metadata_id: "b8ccc3e8-fcf0-479c-b322-c0aee5a480e5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "topo_50k_BW_2019",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "topo_50k_BW_2019__50K-2019-LUX_avec_ETRANGER-BW"
                    }
                  ]
                },
                {
                  id: 206,
                  name: "topo_20k",
                  metadata: {
                    legend_name: "topo_20k",
                    metadata_id: "ea998ae8-731a-43bc-aa9f-171684f97602"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_20k",
                  imageType: "image/png"
                },
                {
                  id: 149,
                  name: "topo_tour_20k",
                  metadata: {
                    legend_name: "topo_tour_20k",
                    metadata_id: "1173_"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_tour_20k",
                  imageType: "image/png"
                },
                {
                  id: 265,
                  name: "topo_decoupage_r",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3a35eb1a-9eaa-4f90-927f-2891d5e865f7"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_decoupage_r",
                  imageType: "image/png"
                },
                {
                  id: 195,
                  name: "topo_5k",
                  metadata: {
                    exclusion: "[32,42]",
                    legend_name: "topo_5k",
                    metadata_id: "270_2012"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_5k",
                  imageType: "image/png"
                },
                {
                  id: 313,
                  name: "topo_carteshisto",
                  children: [
                    {
                      id: 358,
                      name: "FERRARIS",
                      metadata: {
                        legend_name: "ferraris",
                        metadata_id: "783cb2a8-a143-4263-aaf0-b4f032835e0c"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "FERRARIS",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "FERRARIS__ALL"
                        }
                      ]
                    },
                    {
                      id: 328,
                      name: "1907_CAHANSEN",
                      metadata: {
                        metadata_id: "b88e6524-67d3-4e34-b998-6f30120e3718"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "1907_CAHANSEN",
                      imageType: "image/png"
                    },
                    {
                      id: 252,
                      name: "1927_CAHANSEN",
                      metadata: {
                        metadata_id: "90750f9f-856d-41ac-a90f-a8befbd75434"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "1927_CAHANSEN",
                      imageType: "image/png"
                    },
                    {
                      id: 220,
                      name: "TOPO_CARTES_1944",
                      metadata: {
                        metadata_id: "e78c1d0a-ef3d-4552-9bba-f72a1d1d3173"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO_CARTES_1944",
                      imageType: "image/png"
                    },
                    {
                      id: 810,
                      name: "TOPO_CARTEHISTO_1950",
                      metadata: {
                        legend_name: "carte_scolaire",
                        metadata_id: "f29901f2-c4b0-4250-a332-640e25a84d2e"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "TOPO_CARTEHISTO_1950",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "TOPO_CARTEHISTO_1950__0"
                        }
                      ]
                    },
                    {
                      id: 274,
                      name: "TOPO25K1954C24",
                      metadata: {
                        metadata_id: "7a8bc9a4-e7c7-4584-bc4f-03deaf7b69b2"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO25K1954C24",
                      imageType: "image/png"
                    },
                    {
                      id: 201,
                      name: "TOPO_CARTESHISTO_1964",
                      metadata: {
                        metadata_id: "58bec8c3-c9f1-44ba-ab3a-860122694952"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO_CARTESHISTO_1964",
                      imageType: "image/png"
                    },
                    {
                      id: 173,
                      name: "TOPO_CARTESHISTO_1964_RGB",
                      metadata: {
                        metadata_id: "27818c9d-19f1-4c3c-bcf6-0856d766d27d"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO_CARTESHISTO_1964_RGB",
                      imageType: "image/png"
                    },
                    {
                      id: 217,
                      name: "TOPO_CARTESHISTO_1966-74_50k",
                      metadata: {
                        metadata_id: "0cda7940-0268-4595-97ed-ae5854da628b"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO_CARTESHISTO_1966-74_50k",
                      imageType: "image/png"
                    },
                    {
                      id: 156,
                      name: "TOPO_CARTESHISTO_1979",
                      metadata: {
                        metadata_id: "6c2b8b34-0eb8-4b2c-8586-e8a515ad1860"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO_CARTESHISTO_1979",
                      imageType: "image/png"
                    },
                    {
                      id: 191,
                      name: "TOPO_CARTESHISTO_1979_RGB",
                      metadata: {
                        metadata_id: "44675358-e65a-4e3b-ac6f-e4f19fd7bfb5"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO_CARTESHISTO_1979_RGB",
                      imageType: "image/png"
                    },
                    {
                      id: 285,
                      name: "TOPO_CARTESHISTO_1989",
                      metadata: {
                        metadata_id: "d3e2a6d0-52b6-4f06-b833-021647f6de4c"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO_CARTESHISTO_1989",
                      imageType: "image/png"
                    },
                    {
                      id: 185,
                      name: "TOPO_CARTESHISTO_1990_50k",
                      metadata: {
                        metadata_id: "b68a8131-2e42-40de-99ce-5a1433d80cbf"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO_CARTESHISTO_1990_50k",
                      imageType: "image/png"
                    },
                    {
                      id: 299,
                      name: "TOPO_CARTESHISTO_1993_50k",
                      metadata: {
                        metadata_id: "f15bf68d-593f-422a-b855-2e05dfb34fcc"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO_CARTESHISTO_1993_50k",
                      imageType: "image/png"
                    },
                    {
                      id: 278,
                      name: "TOPO_CARTESHISTO_2000_50k",
                      metadata: {
                        metadata_id: "ccdd1b07-401d-48cb-821d-1ae51d489f36"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO_CARTESHISTO_2000_50k",
                      imageType: "image/png"
                    },
                    {
                      id: 237,
                      name: "TOPO_CARTESHISTO_2000",
                      metadata: {
                        metadata_id: "21a56aff-4a9e-4be5-9ed8-cd60dd56d5a1"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "TOPO_CARTESHISTO_2000",
                      imageType: "image/png"
                    },
                    {
                      id: 155,
                      name: "topo_50k",
                      metadata: {
                        legend_name: "topo_50k",
                        metadata_id: "262"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "topo_50k",
                      imageType: "image/png"
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 734,
                  name: "utm_grid",
                  metadata: {
                    max_dpi: 128,
                    metadata_id: "84f59e51-2772-4b6d-8c5b-3ec19aa7d8f2"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "utm_grid",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "utm_grid__0"
                    },
                    {
                      name: "utm_grid__1"
                    }
                  ]
                },
                {
                  id: 738,
                  name: "luref_graticules",
                  metadata: {
                    max_dpi: 128,
                    metadata_id: "0d1a431c-36b0-406f-8cfd-d264d4949bf0"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "luref_graticules",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "luref_graticules__2"
                    },
                    {
                      name: "luref_graticules__3"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 330,
              name: "geodesy",
              children: [
                {
                  id: 1831,
                  name: "ng_new",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3119179b-56bb-459d-8904-1e0a2bfb6bc7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ng_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ng_new__0"
                    }
                  ]
                },
                {
                  id: 411,
                  name: "ng",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3119179b-56bb-459d-8904-1e0a2bfb6bc7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ng",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ng__POINT_NG"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 555,
          name: "editus_pois",
          children: [
            {
              id: 542,
              name: "editus_poi_299",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_1",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "542",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_299__POI"
                }
              ]
            },
            {
              id: 543,
              name: "editus_poi_286",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_2",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "543",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_286__POI"
                }
              ]
            },
            {
              id: 544,
              name: "editus_poi_285",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_3",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "544",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_285__POI"
                }
              ]
            },
            {
              id: 545,
              name: "editus_poi_287",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_4",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "545",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_287__POI"
                }
              ]
            },
            {
              id: 546,
              name: "editus_poi_289",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_5",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "546",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_289__POI"
                }
              ]
            },
            {
              id: 547,
              name: "editus_poi_290",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_6",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "547",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_290__POI"
                }
              ]
            },
            {
              id: 549,
              name: "editus_poi_291",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_7",
                metadata_id: "4a04ebff-4954-4c4d-9387-46d3587eccef",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "549",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_291__POI"
                }
              ]
            },
            {
              id: 550,
              name: "editus_poi_292",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_8",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "550",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_292__POI"
                }
              ]
            },
            {
              id: 551,
              name: "editus_poi_293",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_9",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "551",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_293__POI"
                }
              ]
            },
            {
              id: 548,
              name: "editus_poi_294",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_10",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "548",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_294__POI"
                }
              ]
            },
            {
              id: 552,
              name: "editus_poi_295",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_11",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "552",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_295__POI"
                }
              ]
            },
            {
              id: 553,
              name: "editus_poi_296",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_12",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "553",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_296__POI"
                }
              ]
            },
            {
              id: 554,
              name: "editus_poi_298",
              metadata: {
                is_queryable: !0,
                legend_name: "editus_13",
                metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "554",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "editus_poi_298__POI"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 194,
          name: "infrastrucktur_une_kommunikation",
          children: [
            {
              id: 339,
              name: "gebaude",
              children: [
                {
                  id: 199,
                  name: "buildings",
                  metadata: {
                    exclusion: "[2,12,22,41,42,43,44,45,46,47,48,49,61,62,63,64,65,66,67,68,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222]",
                    is_queryable: !0,
                    legend_name: "pcn_batiments:show",
                    metadata_id: "5d0efc9d-a05a-4964-9f9d-a0ab9932af04"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "buildings",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 196,
              name: "verkehrsnetze",
              children: [
                {
                  id: 181,
                  name: "roads",
                  metadata: {
                    legend_name: "road_network:show",
                    metadata_id: "12627f90-f0f8-41b3-a56a-2e11a232ba59"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "roads",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "roads__ROADS_NOLABELS"
                    }
                  ]
                },
                {
                  id: 351,
                  name: "roads_labels",
                  metadata: {
                    metadata_id: "5d606cae-cbc6-44c3-a465-edb981e44a39"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "roads_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "roads_labels__ROADS_LABELS"
                    }
                  ]
                },
                {
                  id: 147,
                  name: "arrets_bus",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:arrets_de_bus",
                    metadata_id: "7318c6e8-bb63-40e0-9e40-46ae7b0dc266"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "arrets_bus",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "arrets_bus__0"
                    },
                    {
                      name: "arrets_bus__1"
                    }
                  ]
                },
                {
                  id: 813,
                  name: "cdt_lignes_all",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "bbe0523f-374d-4c94-a27d-7ce81d8bae3b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cdt_lignes_all",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cdt_lignes_all__lignes_de_bus"
                    }
                  ]
                },
                {
                  id: 812,
                  name: "cdt_lignes_bus_par_operateur",
                  children: [
                    {
                      id: 814,
                      name: "cdt_lignes_avl",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "1e6f614b-e347-4115-82d7-74a72f51389f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=400"
                    },
                    {
                      id: 815,
                      name: "cdt_lignes_rgtr",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "eae3ed54-d2ae-45ae-a62c-0dec4d44acdf"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=401"
                    },
                    {
                      id: 816,
                      name: "cdt_lignes_tice",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "a3cb973c-12b0-4e41-bfc0-b2fb67637513"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=402"
                    },
                    {
                      id: 817,
                      name: "cdt_lignes_cfl",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "84ebdfbc-ba25-464c-af86-e74e588978ef"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=403"
                    },
                    {
                      id: 1374,
                      name: "cdt_lignes_tram",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "0f46c673-d4b4-4c25-8d9a-fca41035f587"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=404"
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1381,
                  name: "chargy",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "chargy",
                    metadata_id: "801d732a-c285-4fcd-a043-c5220d6d7eef"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "chargy",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "chargy__chargy"
                    }
                  ]
                },
                {
                  id: 423,
                  name: "mobiliteit_cfl",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:cfl",
                    max_dpi: 128,
                    metadata_id: "0b3c42a2-275e-4519-b228-f407d46b8350"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_cfl",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_cfl__1"
                    }
                  ]
                },
                {
                  id: 377,
                  name: "mobiliteit_pr",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:pr",
                    max_dpi: 128,
                    metadata_id: "9e0c97ae-aff9-41fc-9489-bbf97999163d"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_pr",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_pr__2"
                    }
                  ]
                },
                {
                  id: 368,
                  name: "mobiliteit_bikeshare",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:bikeshare",
                    max_dpi: 128,
                    metadata_id: "e9fbbdff-2f8f-422b-b6ae-5cc69f73bb4b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_bikeshare",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_bikeshare__0"
                    }
                  ]
                },
                {
                  id: 1386,
                  name: "mobiliteit_livebikes",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "fc0168f8-2d8b-4bba-8da8-6edd6edd94cc"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_livebikes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_livebikes__bikes"
                    }
                  ]
                },
                {
                  id: 808,
                  name: "velo_by_pch",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "tour_velo_national",
                    metadata_id: "387f6949-0fc4-43a5-b0e6-4e09bdf65225"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "velo_by_pch",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "velo_by_pch__1"
                    },
                    {
                      name: "velo_by_pch__0"
                    }
                  ]
                },
                {
                  id: 512,
                  name: "tour_pistes_velo_mymaps2",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "tour_velo_national",
                    metadata_id: "8e3c102a-393e-4d48-a321-9f8957ff49cf"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=106"
                },
                {
                  id: 352,
                  name: "cfl_hecto",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "938f9e8e-071c-4e6b-940f-64b2a60eca74"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cfl_hecto",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cfl_hecto__points_hecto"
                    }
                  ]
                },
                {
                  id: 685,
                  name: "cita_chantiers_actuel",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "9c823038-5965-47cc-8dad-21496e57e3f2",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cita_chantiers_actuel",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cita_chantiers_actuel__CHANTIERS_ACTUEL"
                    }
                  ]
                },
                {
                  id: 686,
                  name: "cita_chantiers_futur",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "063cb796-640f-4ab0-8430-955983a00e3b",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cita_chantiers_futur",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cita_chantiers_futur__CHANTIERS_FUTUR"
                    }
                  ]
                },
                {
                  id: 1713,
                  name: "chantiers_actuels_pc",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "7d59f3a6-e8d8-464b-bbf9-73c6ca358a51",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "chantiers_actuels_pc",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "chantiers_actuels_pc__CHANTIERS_ACTUEL_PC"
                    }
                  ]
                },
                {
                  id: 1714,
                  name: "chantiers_futurs_pc",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "f6b9df36-5e62-46d1-ae91-c7c58c7e2e45",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "chantiers_futurs_pc",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "chantiers_futurs_pc__CHANTIERS_FUTUR_PC"
                    }
                  ]
                },
                {
                  id: 682,
                  name: "mobi_mbox",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:mbox",
                    max_dpi: 128,
                    metadata_id: "77780c80-a2dc-4dc2-96ac-c29e2ad15495"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobi_mbox",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobi_mbox__0"
                    }
                  ]
                },
                {
                  id: 713,
                  name: "pch_radars",
                  metadata: {
                    is_queryable: !0,
                    max_dpi: 128,
                    metadata_id: "385180ba-a9bc-49d4-8858-ba5f19942a66",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "pch_radars",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "pch_radars__0"
                    },
                    {
                      name: "pch_radars__1"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1495,
              name: "fourniture_energie",
              children: [
                {
                  id: 1494,
                  name: "gaz_naturel",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "gaz",
                    metadata_id: "9e04e366-fcb7-4836-8d09-41b20f280cb0",
                    start_opacity: 0.75
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "gaz_naturel",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "gaz_naturel__0"
                    },
                    {
                      name: "gaz_naturel__2"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 666,
              name: "uhd",
              children: [
                {
                  id: 670,
                  name: "uhd1",
                  metadata: {
                    exclusion: "[350]",
                    is_queryable: !0,
                    legend_name: "uhd",
                    max_dpi: 128,
                    metadata_id: "9fd891d4-d62c-4f7c-83bb-d08833caa888",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "uhd1",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "uhd1__0"
                    },
                    {
                      name: "uhd1__3"
                    }
                  ]
                },
                {
                  id: 669,
                  name: "uhd2",
                  metadata: {
                    exclusion: "[350]",
                    is_queryable: !0,
                    legend_name: "uhd",
                    max_dpi: 128,
                    metadata_id: "ad74e4da-3b37-4379-83d8-16a6de4677c7",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "uhd2",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "uhd2__1"
                    },
                    {
                      name: "uhd2__3"
                    }
                  ]
                },
                {
                  id: 671,
                  name: "uhd3",
                  metadata: {
                    exclusion: "[350]",
                    is_queryable: !0,
                    legend_name: "uhd",
                    max_dpi: 128,
                    metadata_id: "5203f02c-1b44-4af4-be08-d35d19ef033a",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "uhd3",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "uhd3__2"
                    },
                    {
                      name: "uhd3__3"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2438,
              name: "seveso_group",
              children: [
                {
                  id: 798,
                  name: "seveso",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "seveso",
                    metadata_id: "b9ab14d8-4e51-4146-b019-3937715a8fe8"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "seveso",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "seveso__POI"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2276,
              name: "radio_group",
              children: [
                {
                  id: 2275,
                  name: "smc_radio_haute_puissance",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "smc_radio",
                    metadata_id: "ebfdb83f-dbc6-44fb-973d-5a782eed32e2"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "2275",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "smc_radio_haute_puissance__POI"
                    }
                  ]
                },
                {
                  id: 2278,
                  name: "smc_radio_reseau_emission",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "smc_radio",
                    metadata_id: "ebfdb83f-dbc6-44fb-973d-5a782eed32e2"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "2278",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "smc_radio_reseau_emission__POI"
                    }
                  ]
                },
                {
                  id: 2277,
                  name: "smc_radio_locale",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "smc_radio",
                    metadata_id: "ebfdb83f-dbc6-44fb-973d-5a782eed32e2"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "2277",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "smc_radio_locale__POI"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1832,
              name: "sante_group",
              children: [
                {
                  id: 1810,
                  name: "sante_covid_altersheemer",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "structures_acceuil",
                    metadata_id: "0019f21d-e492-42ce-83a9-f4212c43e2c6",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "1810",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "sante_covid_altersheemer__POI"
                    }
                  ]
                },
                {
                  id: 2004,
                  name: "pharmacies",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "pharmacies",
                    metadata_id: "4fed0407-cb2b-4c75-982a-e96f926d6b0d"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "2004",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "pharmacies__POI"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 324,
          name: "oberflachendarstellung",
          children: [
            {
              id: 178,
              name: "luft_und_satellitenbilder",
              children: [
                {
                  id: 2272,
                  name: "ortho_2021",
                  metadata: {
                    exclusion: "[121,221]",
                    metadata_id: "ea0bd2ff-b743-4f3a-bd9b-450976563de9"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR_4_V3",
                  layer: "ortho_2021",
                  imageType: "image/jpeg"
                },
                {
                  id: 2056,
                  name: "ortho_2020",
                  metadata: {
                    exclusion: "[119,219]",
                    metadata_id: "87870b8a-10a1-4c33-bf50-7efe851fd450"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR_4_V3",
                  layer: "ortho_2020",
                  imageType: "image/jpeg"
                },
                {
                  id: 1784,
                  name: "ortho_2019",
                  metadata: {
                    exclusion: "[116,216]",
                    metadata_id: "97c88ef6-6c64-4cb0-a134-06bb42b2b448"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2019",
                  imageType: "image/jpeg"
                },
                {
                  id: 1789,
                  name: "ortho_2019_winter",
                  metadata: {
                    exclusion: "[118,218]",
                    metadata_id: "d6cc500f-b802-4be2-a49c-73f3eb2d131e"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2019_winter",
                  imageType: "image/jpeg"
                },
                {
                  id: 1527,
                  name: "ortho_2018",
                  metadata: {
                    exclusion: "[113,213]",
                    metadata_id: "6fde72c4-802f-4663-be74-5fa5901cb4f0"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2018",
                  imageType: "image/jpeg"
                },
                {
                  id: 1371,
                  name: "ortho_2017",
                  metadata: {
                    exclusion: "[111,211]",
                    metadata_id: "1cdae616-1a7a-49d5-b35d-05864891641f"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2017",
                  imageType: "image/jpeg"
                },
                {
                  id: 745,
                  name: "ortho_2016",
                  metadata: {
                    exclusion: "[107,207]",
                    metadata_id: "bba79b6d-4205-4ce4-98e4-7b7922afcd55"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2016",
                  imageType: "image/jpeg"
                },
                {
                  id: 360,
                  name: "ortho_2013",
                  metadata: {
                    exclusion: "[106,206]",
                    metadata_id: "ced4a3dd-135e-43d0-86b9-2318982581f7"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2013",
                  imageType: "image/jpeg"
                },
                {
                  id: 342,
                  name: "ortho_2010",
                  metadata: {
                    exclusion: "[105,205]",
                    metadata_id: "0faf4bdb-a54b-42d7-942c-4e52fa66e963"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2010",
                  imageType: "image/jpeg"
                },
                {
                  id: 231,
                  name: "ortho_2007",
                  metadata: {
                    exclusion: "[101,201]",
                    metadata_id: "3be3d98e-7997-4ff6-8d77-e393a5fc4fdd"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2007",
                  imageType: "image/jpeg"
                },
                {
                  id: 224,
                  name: "ortho_2004",
                  metadata: {
                    exclusion: "[103,203]",
                    metadata_id: "a185f78a-ca9c-43f8-8d06-b1abba8ff056"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2004",
                  imageType: "image/jpeg"
                },
                {
                  id: 225,
                  name: "ortho_2001",
                  metadata: {
                    exclusion: "[104,204]",
                    metadata_id: "e6ff269c-1c7c-401f-a90b-b805e80a046e"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2001",
                  imageType: "image/jpeg"
                },
                {
                  id: 345,
                  name: "topo_decoupage_ortho",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3a35eb1a-9eaa-4f90-927f-2891d5e865f7"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_decoupage_ortho",
                  imageType: "image/png"
                },
                {
                  id: 292,
                  name: "wg_ikonos_satellitendaten",
                  metadata: {
                    legend_name: "wg:ikonos_satellitendaten",
                    metadata_id: "db0eea79-114a-4e61-a1f2-7e064f92cdd3"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "wg_ikonos_satellitendaten",
                  imageType: "image/png"
                },
                {
                  id: 341,
                  name: "aero_1951_10k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "16586649-8e46-4b04-b75c-5537a4bf214e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1951_10k",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aero_1951_10k__1951_10k"
                    }
                  ]
                },
                {
                  id: 229,
                  name: "aero_1951_25k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "b3b5fc05-323c-4f0b-804c-a4c186d62a96"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1951_25k",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aero_1951_25k__1951_25k"
                    }
                  ]
                },
                {
                  id: 140,
                  name: "aero_1963_20k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "56b65f04-d3ab-45b6-9e93-95c8c9524c3e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1963_20k",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aero_1963_20k__1963_20k"
                    }
                  ]
                },
                {
                  id: 665,
                  name: "aero_1977_30k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "d9dd951e-7345-4ba2-9a76-ce54305edf2f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1977_30k",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aero_1977_30k__1977_30k"
                    }
                  ]
                },
                {
                  id: 743,
                  name: "aero_1987_30k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "98b63794-8cb1-42ff-9872-214f990ec8cd"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1987_30k",
                  imageType: "image/png",
                  style: "defaults",
                  childLayers: [
                    {
                      name: "aero_1987_30k__1987_30k"
                    }
                  ]
                },
                {
                  id: 748,
                  name: "aero_1994_30k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "abf7f6f5-8647-4317-98f6-8d4f5cd38585"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1994_30k",
                  imageType: "image/png",
                  style: "defaults",
                  childLayers: [
                    {
                      name: "aero_1994_30k__1994_30k"
                    }
                  ]
                },
                {
                  id: 790,
                  name: "Orthophotos Infrarouge",
                  children: [
                    {
                      id: 2283,
                      name: "ortho2021_IR",
                      metadata: {
                        exclusion: "[122,222]",
                        metadata_id: "067dc519-f507-45db-8e7a-f3ccc9125bc5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ortho2021_IR",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ortho2021_IR__ortho2021_10cm_ir_EPSG2169"
                        }
                      ]
                    },
                    {
                      id: 2089,
                      name: "ortho2020_IR",
                      metadata: {
                        exclusion: "[120,220]",
                        metadata_id: "134fb490-c022-476d-b484-dc652ae8c626"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ortho2020_IR",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ortho2020_IR__Luxembourg-2020_ortho10cm_PIR_LUREF"
                        }
                      ]
                    },
                    {
                      id: 1785,
                      name: "ortho2019_IR",
                      metadata: {
                        exclusion: "[117,217]",
                        metadata_id: "3dfd031a-1721-4f35-b358-25062d5d4c26"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ortho2019_IR",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ortho2019_IR__ortho_2019_20cm_ir"
                        }
                      ]
                    },
                    {
                      id: 1529,
                      name: "ortho2018_IR",
                      metadata: {
                        exclusion: "[114,214]",
                        metadata_id: "2edf6bcb-2a1c-4b8c-8488-56000133abb4"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ortho2018_IR",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ortho2018_IR__4"
                        }
                      ]
                    },
                    {
                      id: 1372,
                      name: "ortho_2017_irc",
                      metadata: {
                        exclusion: "[112,212]",
                        metadata_id: "659a3236-a22e-44ae-9fa3-025cdf5d0043"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "ortho_2017_irc",
                      imageType: "image/jpeg"
                    },
                    {
                      id: 793,
                      name: "ortho_2016_irc",
                      metadata: {
                        exclusion: "[110,210]",
                        is_queryable: !0,
                        metadata_id: "c313da75-7d8b-4570-9db5-bb6add56309e"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "ortho_2016_irc",
                      imageType: "image/jpeg"
                    },
                    {
                      id: 792,
                      name: "ortho_2013_irc",
                      metadata: {
                        exclusion: "[109,209]",
                        is_queryable: !0,
                        metadata_id: "649b34a1-a195-40b4-81c9-0100343b9661"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "ortho_2013_irc",
                      imageType: "image/jpeg"
                    },
                    {
                      id: 791,
                      name: "ortho_2010_irc",
                      metadata: {
                        exclusion: "[108,208]",
                        is_queryable: !0,
                        metadata_id: "728ffc2a-9062-4822-8596-01f0e93f6b40"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "ortho_2010_irc",
                      imageType: "image/jpeg"
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 161,
              name: "env_obs",
              children: [
                {
                  id: 1963,
                  name: "env_couverture_sol",
                  children: [
                    {
                      id: 1951,
                      name: "LISL_Landcover_2018",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "lisl:lc2018",
                        metadata_id: "6142a6a6-9356-47ac-babe-eaa2ae3628b6"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "LISL_Landcover_2018",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "LISL_Landcover_2018__0"
                        },
                        {
                          name: "LISL_Landcover_2018__1"
                        }
                      ]
                    },
                    {
                      id: 1950,
                      name: "LISL_Landcover_2015_v2",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "lisl:lc2015_2",
                        metadata_id: "67f4ecb8-5d4b-4a9e-a60b-239fc92b25a7"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "LISL_Landcover_2015_v2",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "LISL_Landcover_2015_v2__0"
                        },
                        {
                          name: "LISL_Landcover_2015_v2__1"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1964,
                  name: "env_utilisation_sol",
                  children: [
                    {
                      id: 1970,
                      name: "LISL_Landuse_2018",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "lisl_landuse_2018",
                        metadata_id: "e4572e0b-1b40-4834-b6c3-ccab83f75f57"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "LISL_Landuse_2018",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "LISL_Landuse_2018__0"
                        }
                      ]
                    },
                    {
                      id: 2054,
                      name: "LISL_Landuse_2015_v3",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "lisl_landuse_2015_v3",
                        metadata_id: "65e04718-1890-4c5e-8be7-08a73f69c0cc"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "LISL_Landuse_2015_v3",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "LISL_Landuse_2015_v3__0"
                        }
                      ]
                    },
                    {
                      id: 1969,
                      name: "LISL_Landuse_2007",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "lisl_landuse_2007",
                        metadata_id: "257556b9-560b-4193-b773-e16a9137a690"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "LISL_Landuse_2007",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "LISL_Landuse_2007__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1965,
                  name: "env_impermeabilisation",
                  children: [
                    {
                      id: 1952,
                      name: "LISL_taux_impermeabilisation_2018",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "lisl_taux_impermeabilisation_2018",
                        metadata_id: "5b40c571-dd3c-4e76-8f4f-b54746799688"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "LISL_taux_impermeabilisation_2018",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "LISL_taux_impermeabilisation_2018__0"
                        },
                        {
                          name: "LISL_taux_impermeabilisation_2018__1"
                        }
                      ]
                    },
                    {
                      id: 2216,
                      name: "at_impermeabilisation_grid_2018_100m",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "at:impermeabilisation_grid_2018_100m",
                        metadata_id: "210db74a-e33a-401b-9e17-2cd966cdcd1f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "at_impermeabilisation_grid_2018_100m",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "at_impermeabilisation_grid_2018_100m__0"
                        }
                      ]
                    },
                    {
                      id: 2215,
                      name: "at_impermeabilisation_grid_2018_1km",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "at:impermeabilisation_grid_2018_1km",
                        metadata_id: "8dc777d0-f910-4c69-a476-85a73dcd8474"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "at_impermeabilisation_grid_2018_1km",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "at_impermeabilisation_grid_2018_1km__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 2212,
                  name: "at_batiments_group",
                  children: [
                    {
                      id: 2214,
                      name: "at_batiments_periode_construction",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "at:periode_construction_batiments",
                        metadata_id: "7c138282-86de-4adb-91c2-467b06786821"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "at_batiments_periode_construction",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "at_batiments_periode_construction__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1966,
                  name: "env_occupation_biophysique",
                  children: [
                    {
                      id: 215,
                      name: "env_obs2007",
                      metadata: {
                        is_queryable: !0,
                        max_dpi: 128,
                        metadata_id: "bd672300-0851-4901-82c4-6099aff1fcf7"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_obs2007",
                      imageType: "image/png"
                    },
                    {
                      id: 163,
                      name: "env_obs1999",
                      metadata: {
                        is_queryable: !0,
                        max_dpi: 128,
                        metadata_id: "b4836d86-2803-4dcf-a991-7e78ab9c41b6"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_obs1999",
                      imageType: "image/png"
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1967,
                  name: "env_corine_landcover",
                  children: [
                    {
                      id: 167,
                      name: "env_corine",
                      metadata: {
                        is_queryable: !0,
                        max_dpi: 128,
                        metadata_id: "0098c72d-490e-4b03-91f6-f844502883a0"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_corine",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_corine__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 416,
              name: "map_morphometrie",
              children: [
                {
                  id: 415,
                  name: "wg_hohenlinien_10m_map",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "wg:hohenlinien_10m",
                    metadata_id: "012801f3-5d2b-4ab7-ae58-1da1b3256390"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "wg_hohenlinien_10m_map",
                  imageType: "image/png"
                },
                {
                  id: 1461,
                  name: "wg_hangneigung_map",
                  metadata: {
                    legend_name: "wg:hangneigung",
                    metadata_id: "6ffa94a4-af02-43ec-82e0-6796cd01a948"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "wg_hangneigung_map",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "wg_hangneigung_map__0"
                    }
                  ]
                },
                {
                  id: 1462,
                  name: "wg_exposition_map",
                  metadata: {
                    legend_name: "wg:exposition",
                    metadata_id: "7a42e4c5-6f3c-45ea-a909-3f8f28874fde"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "wg_exposition_map",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "wg_exposition_map__0"
                    }
                  ]
                },
                {
                  id: 1460,
                  name: "wg_relief_map",
                  metadata: {
                    metadata_id: "7d195815-23c2-4963-863c-60e3a39ab8af"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "wg_relief_map",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "wg_relief_map__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1380,
              name: "lidar_group",
              children: [
                {
                  id: 1792,
                  name: "act_lidar_2019_group",
                  children: [
                    {
                      id: 1794,
                      name: "lidar_2019_mns_public",
                      metadata: {
                        legend_name: "lidar:mns2019",
                        metadata_id: "30f3dc03-7b04-4938-95c4-f0e219ce65c8"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR_4_V3",
                      layer: "lidar_2019_mns_public",
                      imageType: "image/png"
                    },
                    {
                      id: 1795,
                      name: "lidar_2019_mnt_public",
                      metadata: {
                        legend_name: "lidar:mnt2019",
                        metadata_id: "ba62d5be-9c71-406a-8b46-a36bfaa36357"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR_4_V3",
                      layer: "lidar_2019_mnt_public",
                      imageType: "image/png"
                    },
                    {
                      id: 1789,
                      name: "ortho_2019_winter",
                      metadata: {
                        exclusion: "[118,218]",
                        metadata_id: "d6cc500f-b802-4be2-a49c-73f3eb2d131e"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "ortho_2019_winter",
                      imageType: "image/jpeg"
                    },
                    {
                      id: 1788,
                      name: "lidar_tiles_2019",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "b19a500a-b8d5-4a87-a8f3-00f58c3dffcd",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lidar_tiles_2019",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lidar_tiles_2019__LIDAR2019_tiles_500x500m_grid"
                        },
                        {
                          name: "lidar_tiles_2019__LIDAR2019_parent_tiles_1500x1500_grid"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1791,
                  name: "act_lidar_2017_group",
                  children: [
                    {
                      id: 1377,
                      name: "lidar_mns",
                      metadata: {
                        legend_name: "lidar:mns2017",
                        metadata_id: "e7184a37-7a6a-4e07-ae8d-ff06d9969da0"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lidar_mns",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lidar_mns__0"
                        }
                      ]
                    },
                    {
                      id: 1378,
                      name: "lidar_mnt",
                      metadata: {
                        legend_name: "lidar:mnt2017",
                        metadata_id: "1adab94e-d80a-4e19-a808-28f52f633186"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lidar_mnt",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lidar_mnt__0"
                        }
                      ]
                    },
                    {
                      id: 1379,
                      name: "lidar_ortho_2017_winter",
                      metadata: {
                        exclusion: "[115,215]",
                        metadata_id: "a2f1a418-6b8b-44e3-9982-1f37d2dbda7e"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lidar_ortho_2017_winter",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lidar_ortho_2017_winter__0"
                        }
                      ]
                    },
                    {
                      id: 1463,
                      name: "lidar_mnh",
                      metadata: {
                        legend_name: "lidar:mnh",
                        metadata_id: "5f189f5b-08f9-4abc-b3f0-78c37ddf0db1"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lidar_mnh",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lidar_mnh__0"
                        }
                      ]
                    },
                    {
                      id: 1787,
                      name: "lidar_tiles_2017",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "3c565aff-7394-4d51-915c-0e06dde7765a",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lidar_tiles_2017",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lidar_tiles_2017__LIDAR2017_tiles_500x500m_grid"
                        },
                        {
                          name: "lidar_tiles_2017__LIDAR2017_parent_tiles_1500x1500_grid"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 484,
              name: "eau_new_Hydrografie",
              children: [
                {
                  id: 450,
                  name: "eau_new_Gewaessernetz",
                  children: [
                    {
                      id: 749,
                      name: "eau_new_Gew√§sser",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:primaere_gewaesser_sekundaere_gewaesser_temporaer_fliessende_baeche",
                        metadata_id: "9da34ec3-89d5-4731-b927-e38ed8088571"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Gew√§sser",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Gew√§sser__Prim√§re Gew√§sser"
                        },
                        {
                          name: "eau_new_Gew√§sser__Sekund√§re Gew√§sser"
                        },
                        {
                          name: "eau_new_Gew√§sser__Tempor√§r fliessende B√§che"
                        }
                      ]
                    },
                    {
                      id: 651,
                      name: "eau_new_Kanal_-__Muehlgraben",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:kanal_-__muehlgraben",
                        max_dpi: 128,
                        metadata_id: "909501fc-a0a9-4af8-8e82-f2a8d7f2fe2f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Kanal_-__Muehlgraben",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Kanal_-__Muehlgraben__Kanal -  M√ºhlgraben"
                        }
                      ]
                    },
                    {
                      id: 750,
                      name: "eau_new_Kilometrierung der Gew√§sser",
                      metadata: {
                        legend_name: "eau:kilometrierung_primaere_gewaesser_kilometrierung_sekundaere_gewaesser",
                        metadata_id: "4002b1cf-08b5-421a-bc92-40271d62f03c"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Kilometrierung der Gew√§sser",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Kilometrierung der Gew√§sser__Kilometrierung prim√§re Gew√§sser"
                        },
                        {
                          name: "eau_new_Kilometrierung der Gew√§sser__Kilometrierung sekund√§re Gew√§sser"
                        }
                      ]
                    },
                    {
                      id: 636,
                      name: "eau_new_Einzugsgebiete",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:einzugsgebiete",
                        max_dpi: 128,
                        metadata_id: "a295a30a-f819-400c-842c-d0ccc695bea5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Einzugsgebiete",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Einzugsgebiete__Einzugsgebiete"
                        }
                      ]
                    },
                    {
                      id: 569,
                      name: "eau_new_Stausee_Sauer",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:stausee_sauer",
                        max_dpi: 128,
                        metadata_id: "119ad2e3-b44f-4777-883d-d2d522bafeca"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Stausee_Sauer",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Stausee_Sauer__Stausee Sauer"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 451,
                  name: "eau_new_Fischerei",
                  children: [
                    {
                      id: 626,
                      name: "eau_new_Fischereiabschnitte",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:fischereiabschnitte",
                        max_dpi: 128,
                        metadata_id: "bd6be85a-cec4-4e4d-9657-cffa242db28f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Fischereiabschnitte",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Fischereiabschnitte__Fischereiabschnitte"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 187,
          name: "unwelt_biologie_geologie",
          children: [
            {
              id: 338,
              name: "lebensraume_une_biotope",
              children: [
                {
                  id: 146,
                  name: "env_natura2000",
                  children: [
                    {
                      id: 1915,
                      name: "anf_communes_copil_2020",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "e0369dfa-0219-4a60-84c4-4ce60cec0a02"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "anf_communes_copil_2020",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "anf_communes_copil_2020__COMMUNES_COPIL_2020"
                        }
                      ]
                    },
                    {
                      id: 540,
                      name: "natura2000_habitats",
                      metadata: {
                        is_queryable: !0,
                        max_dpi: 128,
                        metadata_id: "080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "natura2000_habitats",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "natura2000_habitats__2"
                        },
                        {
                          name: "natura2000_habitats__0"
                        }
                      ]
                    },
                    {
                      id: 533,
                      name: "natura2000_oiseaux",
                      metadata: {
                        is_queryable: !0,
                        max_dpi: 128,
                        metadata_id: "080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "natura2000_oiseaux",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "natura2000_oiseaux__1"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 366,
                  name: "emwelt_biotop_kadaster",
                  children: [
                    {
                      id: 1367,
                      name: "anf_biotopes_points",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "env:btk_p",
                        metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "anf_biotopes_points",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "anf_biotopes_points__BIOTOPES_MO_EL_PONCTUELS"
                        }
                      ]
                    },
                    {
                      id: 1368,
                      name: "anf_biotopes_vergers",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "env:btk_s",
                        metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "anf_biotopes_vergers",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "anf_biotopes_vergers__BIOTOPES_MO_VERGERS"
                        }
                      ]
                    },
                    {
                      id: 1369,
                      name: "anf_biotopes_surfaces",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "env:btk_f",
                        metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "anf_biotopes_surfaces",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "anf_biotopes_surfaces__BIOTOPES_MO_SURFACES"
                        }
                      ]
                    },
                    {
                      id: 1370,
                      name: "anf_biotopes_tampons",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "env:btk_b",
                        metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "anf_biotopes_tampons",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "anf_biotopes_tampons__BIOTOPES_MO_ZONES_TAMPONS"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 335,
              name: "weinbau",
              children: [
                {
                  id: 297,
                  name: "ivv_flik_parcels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "884ed54c-3b36-417e-b44b-ed7f3283302c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ivv_flik_parcels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ivv_flik_parcels__0"
                    }
                  ]
                },
                {
                  id: 510,
                  name: "ivv_parcels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "7d372c69-4144-43bf-9622-70dcdc7bbf0b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ivv_parcels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ivv_parcels__0"
                    }
                  ]
                },
                {
                  id: 175,
                  name: "ivv_grosslagen",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "89274b7e-4742-4673-b254-9105a4a066b7",
                    start_opacity: 0.5
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ivv_grosslagen",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ivv_grosslagen__lagen"
                    },
                    {
                      name: "ivv_grosslagen__lagen_labels"
                    }
                  ]
                },
                {
                  id: 240,
                  name: "ivv_kleinlagen",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "a040071a-3a72-4d69-93e0-c06d4d4c3bd1"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ivv_kleinlagen",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ivv_kleinlagen__0"
                    }
                  ]
                },
                {
                  id: 221,
                  name: "ivv_klimakarte",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ivv_klimakarte",
                    metadata_id: "6d989c64-998c-499f-a196-1032e9470666",
                    start_opacity: 0.5
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ivv_klimakarte",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ivv_klimakarte__klimakarte"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 233,
              name: "geologie_",
              children: [
                {
                  id: 2167,
                  name: "geo_carte_geol_harmonisee",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:geologie_harmonisee",
                    metadata_id: "542a0caa-4b33-4019-8ce7-b8541b436106"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_carte_geol_harmonisee",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_carte_geol_harmonisee__Unit√©s_g√©ologiques2495"
                    },
                    {
                      name: "geo_carte_geol_harmonisee__Symbole"
                    },
                    {
                      name: "geo_carte_geol_harmonisee__Failles"
                    },
                    {
                      name: "geo_carte_geol_harmonisee__Contours"
                    }
                  ]
                },
                {
                  id: 2168,
                  name: "geo_carte_geol_harmonisee_decouverte",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:geologie_harmonisee_decouverte",
                    metadata_id: "d03be720-e33c-4bd4-8829-559dc951dc2d"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_carte_geol_harmonisee_decouverte",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_carte_geol_harmonisee_decouverte__Unit√©s_g√©ologiques:_Substratum_rocheux9983"
                    },
                    {
                      name: "geo_carte_geol_harmonisee_decouverte__Symbole"
                    },
                    {
                      name: "geo_carte_geol_harmonisee_decouverte__Failles"
                    },
                    {
                      name: "geo_carte_geol_harmonisee_decouverte__Contours"
                    }
                  ]
                },
                {
                  id: 2169,
                  name: "geo_carte_geol_simplifiee",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:geologie_simplifiee",
                    metadata_id: "d5235bf1-96c8-4fc8-8d6d-2a0cde246aad"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_carte_geol_simplifiee",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_carte_geol_simplifiee__geologie_simplifiee_substratum"
                    },
                    {
                      name: "geo_carte_geol_simplifiee__geologie_simplifiee_form_sup"
                    },
                    {
                      name: "geo_carte_geol_simplifiee__geologie_simplifiee_failles"
                    }
                  ]
                },
                {
                  id: 2170,
                  name: "geo_carte_geol_simplifiee_decouverte",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:geologie_simplifiee_decouverte",
                    metadata_id: "d8d627ee-ec11-4054-8a05-f4cd98adbd72"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_carte_geol_simplifiee_decouverte",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_carte_geol_simplifiee_decouverte__geologie_simplifiee_failles"
                    },
                    {
                      name: "geo_carte_geol_simplifiee_decouverte__geologie_simplifiee_substratum"
                    }
                  ]
                },
                {
                  id: 2173,
                  name: "geo_coupes_geologiques",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:coupes_geologiques",
                    metadata_id: "8a35490a-8dc8-4dfd-9136-edfdd6d08281"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_coupes_geologiques",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_coupes_geologiques__coupes_geologiques"
                    }
                  ]
                },
                {
                  id: 2175,
                  name: "geo_epaisseurs_unites",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:epaisseurs_unites",
                    metadata_id: "3fab8010-2f8b-43e2-96a7-155a24233db4"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_epaisseurs_unites",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_epaisseurs_unites__epaisseurs_unites"
                    }
                  ]
                },
                {
                  id: 2266,
                  name: "forages_grand_public_group",
                  children: [
                    {
                      id: 2176,
                      name: "geo_forages_ref",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "geol:forages_ref",
                        metadata_id: "0564eda7-c92d-4a80-b3c7-be94f5d67186"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "geo_forages_ref",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "geo_forages_ref__forages_ref"
                        }
                      ]
                    },
                    {
                      id: 2265,
                      name: "eau_new_Bohrungen_grand_public",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:bohrungen",
                        max_dpi: 128,
                        metadata_id: "4ab49f17-a50e-4439-9a9e-01ec93421aec"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Bohrungen_grand_public",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Bohrungen_grand_public__39"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 2267,
                  name: "eaux_souterraines_grand_public_group",
                  children: [
                    {
                      id: 631,
                      name: "eau_new_Grundwasserleiter",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:grundwasserleiter",
                        max_dpi: 128,
                        metadata_id: "783a8608-e4b3-44ed-8864-68525da33760"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Grundwasserleiter",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Grundwasserleiter__Grundwasserleiter"
                        }
                      ]
                    },
                    {
                      id: 629,
                      name: "eau_new_Quellen",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:quellen",
                        max_dpi: 128,
                        metadata_id: "58fa573a-a0c3-474d-9e74-c277cf90b135"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Quellen",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Quellen__Quellen"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 2191,
                  name: "geo_geomorphologie_carte100K",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:geomorphologie100k",
                    metadata_id: "3fd5088b-021d-4207-9d4b-4040e1ccfe22"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_geomorphologie_carte100K",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_geomorphologie_carte100K__geomorphologie100k"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 321,
              name: "pedologie",
              children: [
                {
                  id: 272,
                  name: "pedologie_100k",
                  metadata: {
                    legend_name: "pedologie",
                    metadata_id: "2d712a34-ce79-426d-a57b-b7cadf97b80f"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "pedologie_100k",
                  imageType: "image/png"
                },
                {
                  id: 702,
                  name: "asta_pedologie_new",
                  metadata: {
                    legend_name: "pedologie_new",
                    max_dpi: 128,
                    metadata_id: "37686d89-0173-4040-88c7-be84a3648d01"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "asta_pedologie_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "asta_pedologie_new__1"
                    },
                    {
                      name: "asta_pedologie_new__2"
                    },
                    {
                      name: "asta_pedologie_new__3"
                    },
                    {
                      name: "asta_pedologie_new__4"
                    },
                    {
                      name: "asta_pedologie_new__5"
                    },
                    {
                      name: "asta_pedologie_new__6"
                    },
                    {
                      name: "asta_pedologie_new__7"
                    }
                  ]
                },
                {
                  id: 704,
                  name: "asta_pedologie_humus",
                  metadata: {
                    legend_name: "asta_corg",
                    max_dpi: 128,
                    metadata_id: "a1b0807c-9bff-4f6a-a5e7-130316742f56"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "asta_pedologie_humus",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "asta_pedologie_humus__0"
                    }
                  ]
                },
                {
                  id: 703,
                  name: "asta_pedologie_ph",
                  metadata: {
                    legend_name: "asta_ph",
                    max_dpi: 128,
                    metadata_id: "628ee73f-4c37-4689-bc4c-1fd9f6bd2663"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "asta_pedologie_ph",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "asta_pedologie_ph__0"
                    }
                  ]
                },
                {
                  id: 2408,
                  name: "asta_erosion_group",
                  children: [
                    {
                      id: 2407,
                      name: "asta_erosion_2023",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "427aff9b-b988-455c-8cd9-1c029cfd6b6e"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "asta_erosion_2023",
                      imageType: "image/png",
                      childLayers: [
                        {
                          name: "asta_erosion_2023__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 486,
              name: "eau_new_Hochwasserrisikomanagement-Richtlinie [HWRM-RL]",
              children: [
                {
                  id: 1696,
                  name: "eau_new_Risikogewaesser_2019_group",
                  children: [
                    {
                      id: 1703,
                      name: "eau_Risikogewaesser_2019",
                      metadata: {
                        legend_name: "eau:risikogewaesser_2019",
                        metadata_id: "762cd956-9733-4855-afa7-38768a38e8a1"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Risikogewaesser_2019",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Risikogewaesser_2019__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 2114,
                  name: "eau_Hochwassergefahrenkarten_2021",
                  children: [
                    {
                      id: 2117,
                      name: "eau_Hochwassergefahrenkarten_HQ10_2021",
                      metadata: {
                        legend_name: "eau:inondations_2019",
                        metadata_id: "153130ef-8255-4bce-bca0-d2359d277995"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "eau_Hochwassergefahrenkarten_HQ10_2021",
                      imageType: "image/png"
                    },
                    {
                      id: 2118,
                      name: "eau_Hochwassergefahrenkarten_HQ100_2021",
                      metadata: {
                        legend_name: "eau:inondations_2019",
                        metadata_id: "cdb4137d-822f-4888-8a51-4596480970fe"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "eau_Hochwassergefahrenkarten_HQ100_2021",
                      imageType: "image/png"
                    },
                    {
                      id: 2119,
                      name: "eau_Hochwassergefahrenkarten_HQext_2021",
                      metadata: {
                        legend_name: "eau:inondations_2019",
                        metadata_id: "cd0f52f7-7226-4748-95e0-b77025284423"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "eau_Hochwassergefahrenkarten_HQext_2021",
                      imageType: "image/png"
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 2115,
                  name: "eau_Hochwasserrisikokarten_2021",
                  children: [
                    {
                      id: 2120,
                      name: "eau_Hochwasserrisikokarten_HQ10_2021",
                      metadata: {
                        legend_name: "eau:risque_inondations_2019",
                        metadata_id: "4a428832-16cf-4861-a1da-78a1f0a8c194"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "eau_Hochwasserrisikokarten_HQ10_2021",
                      imageType: "image/png"
                    },
                    {
                      id: 2121,
                      name: "eau_Hochwasserrisikokarten_HQ100_2021",
                      metadata: {
                        legend_name: "eau:risque_inondations_2019",
                        metadata_id: "ccb959ef-0ad6-47ec-ade9-45021912353f"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "eau_Hochwasserrisikokarten_HQ100_2021",
                      imageType: "image/png"
                    },
                    {
                      id: 2122,
                      name: "eau_Hochwasserrisikokarten_HQext_2021",
                      metadata: {
                        legend_name: "eau:risque_inondations_2019",
                        metadata_id: "f803b49a-336a-4bb7-acd9-5cbf508a731f"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "eau_Hochwasserrisikokarten_HQext_2021",
                      imageType: "image/png"
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1711,
                  name: "eau_atlas_crues_subites",
                  children: [
                    {
                      id: 2045,
                      name: "age_dangers_fortes",
                      metadata: {
                        legend_name: "age_dangers_fortes",
                        metadata_id: "55dbe91c-f1e5-4c56-b0b9-4590988e23e5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "age_dangers_fortes",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "age_dangers_fortes__0"
                        },
                        {
                          name: "age_dangers_fortes__1"
                        }
                      ]
                    },
                    {
                      id: 2046,
                      name: "age_risques_fortes",
                      metadata: {
                        legend_name: "age_risques_fortes",
                        metadata_id: "f1d9b1cd-ad78-44df-89ac-ad591138243f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "age_risques_fortes",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "age_risques_fortes__0"
                        },
                        {
                          name: "age_risques_fortes__1"
                        },
                        {
                          name: "age_risques_fortes__2"
                        },
                        {
                          name: "age_risques_fortes__3"
                        },
                        {
                          name: "age_risques_fortes__4"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 461,
                  name: "eau_new_Historische_Ueberschwemmungsgebiete",
                  children: [
                    {
                      id: 637,
                      name: "eau_new_UESG_1983_-_Mosel",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:uesg_1983_-_mosel",
                        max_dpi: 128,
                        metadata_id: "e6896207-c0f9-417e-9661-119128628e8e"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_UESG_1983_-_Mosel",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_UESG_1983_-_Mosel__UESG 1983 - Mosel"
                        }
                      ]
                    },
                    {
                      id: 641,
                      name: "eau_new_UESG_1993_(ausser_Mosel)",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:uesg_1993_ausser_mosel",
                        max_dpi: 128,
                        metadata_id: "78c692f3-ad20-467b-b03a-0d020a821647"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_UESG_1993_(ausser_Mosel)",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_UESG_1993_(ausser_Mosel)__UESG 1993 [ausser Mosel]"
                        }
                      ]
                    },
                    {
                      id: 642,
                      name: "eau_new_UESG_Alzette_1995",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:uesg_alzette_1995",
                        max_dpi: 128,
                        metadata_id: "aaf81780-df85-4580-a890-fded8ae03db7"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_UESG_Alzette_1995",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_UESG_Alzette_1995__UESG Alzette 1995"
                        }
                      ]
                    },
                    {
                      id: 633,
                      name: "eau_new_UESG_Sauer_1995",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:uesg_sauer_1995",
                        max_dpi: 128,
                        metadata_id: "f01f7be2-0423-4571-8fff-57dd617ae632"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_UESG_Sauer_1995",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_UESG_Sauer_1995__UESG Sauer 1995"
                        }
                      ]
                    },
                    {
                      id: 2116,
                      name: "eau_Hochwasserkarten_2021",
                      children: [
                        {
                          id: 2114,
                          name: "eau_Hochwassergefahrenkarten_2021",
                          children: [
                            {
                              id: 2117,
                              name: "eau_Hochwassergefahrenkarten_HQ10_2021",
                              metadata: {
                                legend_name: "eau:inondations_2019",
                                metadata_id: "153130ef-8255-4bce-bca0-d2359d277995"
                              },
                              dimensions: {},
                              type: "WMTS",
                              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                              style: "default",
                              matrixSet: "GLOBAL_WEBMERCATOR",
                              layer: "eau_Hochwassergefahrenkarten_HQ10_2021",
                              imageType: "image/png"
                            },
                            {
                              id: 2118,
                              name: "eau_Hochwassergefahrenkarten_HQ100_2021",
                              metadata: {
                                legend_name: "eau:inondations_2019",
                                metadata_id: "cdb4137d-822f-4888-8a51-4596480970fe"
                              },
                              dimensions: {},
                              type: "WMTS",
                              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                              style: "default",
                              matrixSet: "GLOBAL_WEBMERCATOR",
                              layer: "eau_Hochwassergefahrenkarten_HQ100_2021",
                              imageType: "image/png"
                            },
                            {
                              id: 2119,
                              name: "eau_Hochwassergefahrenkarten_HQext_2021",
                              metadata: {
                                legend_name: "eau:inondations_2019",
                                metadata_id: "cd0f52f7-7226-4748-95e0-b77025284423"
                              },
                              dimensions: {},
                              type: "WMTS",
                              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                              style: "default",
                              matrixSet: "GLOBAL_WEBMERCATOR",
                              layer: "eau_Hochwassergefahrenkarten_HQext_2021",
                              imageType: "image/png"
                            }
                          ],
                          metadata: {},
                          mixed: !0
                        },
                        {
                          id: 2115,
                          name: "eau_Hochwasserrisikokarten_2021",
                          children: [
                            {
                              id: 2120,
                              name: "eau_Hochwasserrisikokarten_HQ10_2021",
                              metadata: {
                                legend_name: "eau:risque_inondations_2019",
                                metadata_id: "4a428832-16cf-4861-a1da-78a1f0a8c194"
                              },
                              dimensions: {},
                              type: "WMTS",
                              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                              style: "default",
                              matrixSet: "GLOBAL_WEBMERCATOR",
                              layer: "eau_Hochwasserrisikokarten_HQ10_2021",
                              imageType: "image/png"
                            },
                            {
                              id: 2121,
                              name: "eau_Hochwasserrisikokarten_HQ100_2021",
                              metadata: {
                                legend_name: "eau:risque_inondations_2019",
                                metadata_id: "ccb959ef-0ad6-47ec-ade9-45021912353f"
                              },
                              dimensions: {},
                              type: "WMTS",
                              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                              style: "default",
                              matrixSet: "GLOBAL_WEBMERCATOR",
                              layer: "eau_Hochwasserrisikokarten_HQ100_2021",
                              imageType: "image/png"
                            },
                            {
                              id: 2122,
                              name: "eau_Hochwasserrisikokarten_HQext_2021",
                              metadata: {
                                legend_name: "eau:risque_inondations_2019",
                                metadata_id: "f803b49a-336a-4bb7-acd9-5cbf508a731f"
                              },
                              dimensions: {},
                              type: "WMTS",
                              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                              style: "default",
                              matrixSet: "GLOBAL_WEBMERCATOR",
                              layer: "eau_Hochwasserrisikokarten_HQext_2021",
                              imageType: "image/png"
                            }
                          ],
                          metadata: {},
                          mixed: !0
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 463,
                  name: "eau_new_Zusaetzliche_Informationen",
                  children: [
                    {
                      id: 755,
                      name: "eau_new_Gew√§sser mit einem signifikanten Hochwasserrisiko",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:gewaesser_mit_einem_signifikanten_hochwasserrisiko",
                        metadata_id: "2006081e-2818-4f2b-978a-8ba505d840a8"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Gew√§sser mit einem signifikanten Hochwasserrisiko",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Gew√§sser mit einem signifikanten Hochwasserrisiko__Gew√§sser mit einem signifikanten Hochwasserrisiko"
                        }
                      ]
                    },
                    {
                      id: 756,
                      name: "eau_new_Hochwasser Brennpunkte",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:hochwasser_brennpunkte",
                        metadata_id: "b2bfd06d-5f05-4abf-8f41-103d40a380e7"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Hochwasser Brennpunkte",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Hochwasser Brennpunkte__Hochwasser Brennpunkte"
                        }
                      ]
                    },
                    {
                      id: 758,
                      name: "eau_new_Ma√ünahmens des Hochwasserrisikomanagementplans",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:massnahmens_des_hochwasserrisikomanagementplans",
                        metadata_id: "4326fea6-7ec4-4bb9-861f-4476b0d4ceac"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Ma√ünahmens des Hochwasserrisikomanagementplans",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Ma√ünahmens des Hochwasserrisikomanagementplans__Ma√ünahmens des Hochwasserrisikomanagementplans"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 373,
              name: "eau_new_Trinkwasser_Schutzzonen_(ZPS)",
              children: [
                {
                  id: 214,
                  name: "eau_new_Provisorische_ZPS",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:provisorische_zps",
                    max_dpi: 128,
                    metadata_id: "ddc51f25-2fb7-4d14-866a-a08f8af8ef03"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Provisorische_ZPS",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Provisorische_ZPS__Provisorische ZPS"
                    }
                  ]
                },
                {
                  id: 664,
                  name: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:zps_laufende_oeffentliche_verfahrungsweise",
                    max_dpi: 128,
                    metadata_id: "87beb1ac-7496-48f6-b5a9-8666e3897523"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise__ZPS laufende √∂ffentliche Verfahrungsweise"
                    }
                  ]
                },
                {
                  id: 573,
                  name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:zps_durch_grosshrzgl._verordnung_festgelegt",
                    max_dpi: 128,
                    metadata_id: "d70f99e0-6032-4a4b-b516-5dfdfce33b26"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__ZPS durch grosshrzgl. Verordnung festgelegt"
                    }
                  ]
                },
                {
                  id: 1464,
                  name: "eau_prgd_zones_protection_lac",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:prgd_stausee",
                    metadata_id: "eab29425-71cc-4610-b48e-8d848d0a8431"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_prgd_zones_protection_lac",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_prgd_zones_protection_lac__PRGD Schutzzonen Stausee"
                    }
                  ]
                },
                {
                  id: 490,
                  name: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:sanitaere_schutzzonen_stausee",
                    max_dpi: 128,
                    metadata_id: "e34de488-68ea-48a8-9e92-f67bb209508e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer__Sanit√§re Schutzzonen Stausee"
                    }
                  ]
                },
                {
                  id: 559,
                  name: "eau_new_Zones_interdiction_utilisation_metazachlore",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau_new:metazachlore",
                    max_dpi: 128,
                    metadata_id: "803e93f8-588f-4697-8d76-972be1ad3531",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Zones_interdiction_utilisation_metazachlore",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Zones_interdiction_utilisation_metazachlore__Zones interdiction utilisation metazachlore"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 469,
              name: "eau_new_Schutzgebiete",
              children: [
                {
                  id: 656,
                  name: "eau_new_Badegewaesser",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:badegewaesser",
                    max_dpi: 128,
                    metadata_id: "72f770ee-7290-4ecb-9358-580b7cfcadf7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Badegewaesser",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Badegewaesser__Badegew√§sser"
                    }
                  ]
                },
                {
                  id: 581,
                  name: "eau_new_Badegewaesser_-_Qualitaet",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:badegewaesser_-_qualitaet",
                    max_dpi: 128,
                    metadata_id: "c0c9c705-8b26-4a0b-b9bb-e2243cd5386a"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Badegewaesser_-_Qualitaet",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Badegewaesser_-_Qualitaet__Badegew√§sser - Qualit√§t"
                    }
                  ]
                },
                {
                  id: 612,
                  name: "eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:empfindliche_gebiete_kommunalabwasserrichtlinie",
                    max_dpi: 128,
                    metadata_id: "39952e6c-8e73-4a23-a19c-78c4f06c84d9"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)__Empfindliche Gebiete [Kommunalabwasserrichtlinie]"
                    }
                  ]
                },
                {
                  id: 492,
                  name: "eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:gefaehrdete_gebiete_nitratrichtlinie",
                    max_dpi: 128,
                    metadata_id: "9426a9a6-7cb1-4c1a-a504-40dabc4429c0"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)__Gef√§hrdete Gebiete [Nitratrichtlinie]"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 807,
              name: "zpin_group",
              children: [
                {
                  id: 804,
                  name: "anf_zpin_declarees",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:zpin_declarees",
                    metadata_id: "9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_zpin_declarees",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_zpin_declarees__ZPIN_DECLAREES"
                    }
                  ]
                },
                {
                  id: 805,
                  name: "anf_zpin_a_declarer",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:zpin_a_declarer",
                    metadata_id: "db53336b-1a33-4b1a-94a8-42a29b55ce45"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_zpin_a_declarer",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_zpin_a_declarer__ZPIN_A_DECLARER"
                    }
                  ]
                },
                {
                  id: 806,
                  name: "anf_zpin_en_procedure",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:zpin_en_procedure_reglementaire",
                    metadata_id: "74499cf0-ab69-48bd-a357-8c151dd3d5c9"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_zpin_en_procedure",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 470,
              name: "eau_new_Gewaesserschutz",
              children: [
                {
                  id: 643,
                  name: "eau_new_Abwassersyndikate",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:abwassersyndikate",
                    max_dpi: 128,
                    metadata_id: "4b5e384c-5603-4cf4-9bd5-6e520df5c375"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Abwassersyndikate",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Abwassersyndikate__Abwassersyndikate"
                    }
                  ]
                },
                {
                  id: 645,
                  name: "eau_new_Klaeranlagen",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:klaeranlagen",
                    max_dpi: 128,
                    metadata_id: "53e55765-90eb-438f-a744-3ac878b06334"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Klaeranlagen",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Klaeranlagen__Kl√§ranlagen"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 474,
              name: "eau_new_Wasserrahmenrichtlinie",
              children: [
                {
                  id: 1469,
                  name: "eau_strahlwirkungskonzept",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:strahlwirkungskonzept",
                    metadata_id: "e1744b8e-101e-406d-b742-776d488a00b5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_strahlwirkungskonzept",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_strahlwirkungskonzept__Funktionselemente [Funktionale Verbindungsstrecken]"
                    },
                    {
                      name: "eau_strahlwirkungskonzept__Funktionselemente [Grenzen]"
                    }
                  ]
                },
                {
                  id: 475,
                  name: "eau_new_Bewirtschaftungsplan_2009",
                  children: [
                    {
                      id: 644,
                      name: "eau_new_Betrachtungsraeume_2009",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:betrachtungsraeume_2009",
                        max_dpi: 128,
                        metadata_id: "be15dd7d-df57-44e1-b724-0929cf05eef9"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Betrachtungsraeume_2009",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Betrachtungsraeume_2009__Betrachtungsr√§ume 2009"
                        }
                      ]
                    },
                    {
                      id: 607,
                      name: "eau_new_Typologie_Oberflaechengewasser_2009",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:typologie_oberflaechengewasser_2009",
                        max_dpi: 128,
                        metadata_id: "0d1d73f0-7644-4217-a0df-b6c497508592"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Typologie_Oberflaechengewasser_2009",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Typologie_Oberflaechengewasser_2009__Typologie Oberfl√§chengewasser 2009"
                        }
                      ]
                    },
                    {
                      id: 601,
                      name: "eau_new_Oberflaechenwasserkoerper_2009",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:oberflaechenwasserkoerper_2009",
                        max_dpi: 128,
                        metadata_id: "404cf7b4-f70b-4c2c-a44b-89e297fab0f8"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Oberflaechenwasserkoerper_2009",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Oberflaechenwasserkoerper_2009__Oberfl√§chenwasserk√∂rper 2009"
                        }
                      ]
                    },
                    {
                      id: 634,
                      name: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2009",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:erheblich_veraenderte_owk_2009",
                        max_dpi: 128,
                        metadata_id: "78da31c2-55eb-40c9-99fe-22ff409468c2"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2009",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2009__Erheblich ver√§nderte OWK 2009"
                        }
                      ]
                    },
                    {
                      id: 603,
                      name: "eau_new_Grundwasserkoerper_2009",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:grundwasserkoerper_2009",
                        max_dpi: 128,
                        metadata_id: "f23ca424-ec87-4c53-929c-7e627a8e06af"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Grundwasserkoerper_2009",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Grundwasserkoerper_2009__Grundwasserk√∂rper 2009"
                        }
                      ]
                    },
                    {
                      id: 468,
                      name: "eau_new_Zustand_der_Wasserkoerper_(WK)_2009",
                      children: [
                        {
                          id: 464,
                          name: "eau_new_Oberflaechengewaesser_2009",
                          children: [
                            {
                              id: 585,
                              name: "eau_new_Gesamtzustand_2009",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:gesamtzustand_2009",
                                max_dpi: 128,
                                metadata_id: "44862c13-7006-44a4-99e6-2877ea512714"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Gesamtzustand_2009",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Gesamtzustand_2009__Gesamtzustand 2009"
                                }
                              ]
                            },
                            {
                              id: 586,
                              name: "eau_new_Chemischer_Zustand_2009",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:chemischer_zustand_2009",
                                max_dpi: 128,
                                metadata_id: "d934fbcc-02c6-47fa-a23d-cfbe49214709"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Chemischer_Zustand_2009",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Chemischer_Zustand_2009__Chemischer Zustand 2009"
                                }
                              ]
                            },
                            {
                              id: 614,
                              name: "eau_new_Oekologischer_Zustand_2009",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:oekologischer_zustand_2009",
                                max_dpi: 128,
                                metadata_id: "92d28c19-ed51-4e9e-8a80-831144fe3553"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Oekologischer_Zustand_2009",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Oekologischer_Zustand_2009__√ñkologischer Zustand 2009"
                                }
                              ]
                            },
                            {
                              id: 593,
                              name: "eau_new_Hydromorphologischer_Zustand_2009",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:hydromorphologischer_zustand_2009",
                                max_dpi: 128,
                                metadata_id: "0227e64f-11ef-4f0a-8853-48fd7385f2b1"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Hydromorphologischer_Zustand_2009",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Hydromorphologischer_Zustand_2009__Hydromorphologischer Zustand 2009"
                                }
                              ]
                            }
                          ],
                          metadata: {},
                          mixed: !0
                        },
                        {
                          id: 435,
                          name: "eau_new_Grundwasser_2009",
                          children: [
                            {
                              id: 657,
                              name: "eau_new_Zustand_der_WK_2009",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:zustand_der_wk_2009",
                                max_dpi: 128,
                                metadata_id: "2df25c38-15d5-447f-a269-4184ce781050"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Zustand_der_WK_2009",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Zustand_der_WK_2009__Zustand der WK 2009"
                                }
                              ]
                            },
                            {
                              id: 605,
                              name: "eau_new_Quantitativer_Zustand_der_WK_2009",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:quantitativer_zustand_der_wk_2009",
                                max_dpi: 128,
                                metadata_id: "a9ebce38-6c8b-447e-9d22-46ba333fa63c"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Quantitativer_Zustand_der_WK_2009",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Quantitativer_Zustand_der_WK_2009__Quantitativer Zustand der WK 2009"
                                }
                              ]
                            },
                            {
                              id: 441,
                              name: "eau_new_Chemischer_Zustand_der_WK_2009",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:chemischer_zustand_der_wk_2009",
                                max_dpi: 128,
                                metadata_id: "e9a72fec-29a0-4183-9e3a-6d4f49c9fea7"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Chemischer_Zustand_der_WK_2009",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Chemischer_Zustand_der_WK_2009__Chemischer Zustand der WK 2009"
                                }
                              ]
                            }
                          ],
                          metadata: {},
                          mixed: !0
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 480,
                  name: "eau_new_Bewirtschaftungsplan_2015",
                  children: [
                    {
                      id: 536,
                      name: "eau_new_Oberflaechenwasserkoerper_2015",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:oberflaechenwasserkoerper_2015",
                        max_dpi: 128,
                        metadata_id: "ead261ed-7be1-4435-9cf5-d1527a18bd19"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Oberflaechenwasserkoerper_2015",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Oberflaechenwasserkoerper_2015__Oberfl√§chenwasserk√∂rper 2015"
                        }
                      ]
                    },
                    {
                      id: 658,
                      name: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2015",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:erheblich_veraenderte_wk_2015",
                        max_dpi: 128,
                        metadata_id: "78da31c2-55eb-40c9-99fe-22ff409468c2"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2015",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2015__Erheblich ver√§nderte WK 2015"
                        }
                      ]
                    },
                    {
                      id: 619,
                      name: "eau_new_Betrachtungsraeume_2015",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:betrachtungsraeume_2015",
                        max_dpi: 128,
                        metadata_id: "be15dd7d-df57-44e1-b724-0929cf05eef9"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Betrachtungsraeume_2015",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Betrachtungsraeume_2015__Betrachtungsr√§ume 2015"
                        }
                      ]
                    },
                    {
                      id: 588,
                      name: "eau_new_Typologie_Gewaesser_2015",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:typologie_gewaesser_2015",
                        max_dpi: 128,
                        metadata_id: "c7eea236-ad59-47fc-8c02-630fee3292dc"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Typologie_Gewaesser_2015",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Typologie_Gewaesser_2015__Typologie Gew√§sser 2015"
                        }
                      ]
                    },
                    {
                      id: 1470,
                      name: "eau_fliessgewaessertypen_2015",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:fliessgewaessertypen_2015_lawa",
                        metadata_id: "79f4588f-a264-4921-a382-d1f83cf48da3"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_fliessgewaessertypen_2015",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_fliessgewaessertypen_2015__Flie√ügew√§ssertypen 2015 [LAWA]"
                        }
                      ]
                    },
                    {
                      id: 759,
                      name: "eau_new_Strukturg√ºtekartierung 2015 [7-stufige Bewertung]",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:strukturguetekartierung_2015_7-stufige_bewertung",
                        metadata_id: "dd28de7b-6182-4054-89a6-dd92b80b565f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Strukturg√ºtekartierung 2015 [7-stufige Bewertung]",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Strukturg√ºtekartierung 2015 [7-stufige Bewertung]__Strukturg√ºtekartierung 2015 [7-stufige Bewertung]"
                        }
                      ]
                    },
                    {
                      id: 760,
                      name: "eau_new_Strukturg√ºtekartierung 2015 [5-stufige Bewertung]",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:strukturguetekartierung_2015_5-stufige_bewertung",
                        metadata_id: "ff70c904-a6b9-4989-88c0-8359ff52e57e"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Strukturg√ºtekartierung 2015 [5-stufige Bewertung]",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Strukturg√ºtekartierung 2015 [5-stufige Bewertung]__Strukturg√ºtekartierung 2015 [5-stufige Bewertung]"
                        }
                      ]
                    },
                    {
                      id: 761,
                      name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:5-band_sohle_7-stufige_bewertung_5-band_ufer_links_7-stufige_bewertung_5-band_ufer_rechts_7-stufige_bewertung_5-band_umfeld_links_7-stufige_bewertung_5-band_umfeld_rechts_7-stufige_bewertung",
                        metadata_id: "429d3552-5f72-4be6-9c03-95c76f0a6c07"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__5-Band Sohle [7-stufige Bewertung]"
                        },
                        {
                          name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__5-Band Ufer Links [7-stufige Bewertung]"
                        },
                        {
                          name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__5-Band Ufer rechts [7-stufige Bewertung]"
                        },
                        {
                          name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__5-Band Umfeld links [7-stufige Bewertung]"
                        },
                        {
                          name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__5-Band Umfeld rechts [7-stufige Bewertung]"
                        }
                      ]
                    },
                    {
                      id: 763,
                      name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:5-band_sohle_5-stufige_bewertung_5-band_ufer_links_5-stufige_bewertung_5-band_ufer_rechts_5-stufige_bewertung_5-band_umfeld_links_5-stufige_bewertung_5-band_umfeld_rechts_5-stufige_bewertung",
                        metadata_id: "4c64f3a4-627f-4aa7-9e0c-d3ad003d9afe"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__5-Band Sohle [5-stufige Bewertung]"
                        },
                        {
                          name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__5-Band Ufer Links [5-stufige Bewertung]"
                        },
                        {
                          name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__5-Band Ufer rechts [5-stufige Bewertung]"
                        },
                        {
                          name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__5-Band Umfeld links [5-stufige Bewertung]"
                        },
                        {
                          name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__5-Band Umfeld rechts [5-stufige Bewertung]"
                        }
                      ]
                    },
                    {
                      id: 785,
                      name: "eau_new_WRRL und HWRM-RL Massnahmen",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:wrrl_und_hwrm-rl_-_massnahmen",
                        metadata_id: "9a339e4e-eb04-42a0-ac0d-5a5f354c9548"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_WRRL und HWRM-RL Massnahmen",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_WRRL und HWRM-RL Massnahmen__WRRL und HWRM-RL - Massnahmen"
                        }
                      ]
                    },
                    {
                      id: 1471,
                      name: "eau_detailliertes_massnahmenprogramm_sww",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:detailliertes_massnahmenprogramm_sww",
                        metadata_id: "5b9d1544-da64-4a58-b519-9a03e5491e07"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_detailliertes_massnahmenprogramm_sww",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_detailliertes_massnahmenprogramm_sww__Detailliertes Ma√ünahmenprogramm SWW"
                        }
                      ]
                    },
                    {
                      id: 659,
                      name: "eau_new_Grundwasserkoerper_2015",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:grundwasserkoerper_2015",
                        max_dpi: 128,
                        metadata_id: "bb5f17b7-ddac-46cc-a59d-25f82d422b5b"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_new_Grundwasserkoerper_2015",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_new_Grundwasserkoerper_2015__Grundwasserk√∂rper 2015"
                        }
                      ]
                    },
                    {
                      id: 476,
                      name: "eau_new_Zustand_der_Wasserkoerper_(WK)_2015",
                      children: [
                        {
                          id: 479,
                          name: "eau_new_Oberflaechengewaesser_2015",
                          children: [
                            {
                              id: 622,
                              name: "eau_new_Oekologischer_Zustand_2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:oekologischer_zustand_2015",
                                max_dpi: 128,
                                metadata_id: "5b78d0a5-1984-4efc-9e7d-0cb9d7ca829d"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Oekologischer_Zustand_2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Oekologischer_Zustand_2015__√ñkologischer Zustand 2015"
                                }
                              ]
                            },
                            {
                              id: 663,
                              name: "eau_new_Gesamtzustand_2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:gesamtzustand_2015",
                                max_dpi: 128,
                                metadata_id: "bea7140f-b938-4494-ac14-a2252a1d0fcb"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Gesamtzustand_2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Gesamtzustand_2015__Gesamtzustand 2015"
                                }
                              ]
                            },
                            {
                              id: 621,
                              name: "eau_new_Chemischer Zustand 2015_Richtlinie 2008_105_EG",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:chemischer_zustand_2015",
                                max_dpi: 128,
                                metadata_id: "7df87ec3-bfad-4d1b-a10b-68670c8073f4"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "621",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Chemischer Zustand 2015_Richtlinie 2008_105_EG__172"
                                }
                              ]
                            },
                            {
                              id: 764,
                              name: "eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe 2015_Richtlinie_2008_105_EG",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2015_richtlinie_2008_105_eg",
                                metadata_id: "68f761b4-e1d1-4cda-b4aa-1e61fc812588"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "764",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe 2015_Richtlinie_2008_105_EG__318"
                                }
                              ]
                            },
                            {
                              id: 765,
                              name: "eau_new_Chemischer_Zustand_2015_Richtlinie 2013_39_EU",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:chemischer_zustand_2015_richtlinie_2013_39_eu",
                                metadata_id: "7df87ec3-bfad-4d1b-a10b-68670c8073f4"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "765",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Chemischer_Zustand_2015_Richtlinie 2013_39_EU__319"
                                }
                              ]
                            },
                            {
                              id: 766,
                              name: "eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe_2015_Richtlinie 2013_39_EU",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2015_richtlinie_2013_39_eu",
                                metadata_id: "d78ac813-7ab3-4162-945a-f87512e66654"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "766",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe_2015_Richtlinie 2013_39_EU__320"
                                }
                              ]
                            },
                            {
                              id: 466,
                              name: "eau_new_Qualitaetskomponenten_des_oekologischen_Zustands_2015",
                              children: [
                                {
                                  id: 767,
                                  name: "eau_new_Hydromorphologische Gesamtbewertung 2015",
                                  metadata: {
                                    is_queryable: !0,
                                    legend_name: "eau:hydromorphologischer_zustand_2015",
                                    metadata_id: "767e0a8a-31e0-4a53-913f-6ab1c76ca27c"
                                  },
                                  dimensions: {},
                                  type: "WMS",
                                  layers: "eau_new_Hydromorphologische Gesamtbewertung 2015",
                                  imageType: "image/png",
                                  style: "default",
                                  childLayers: [
                                    {
                                      name: "eau_new_Hydromorphologische Gesamtbewertung 2015__Hydromorphologischer Zustand 2015"
                                    }
                                  ]
                                },
                                {
                                  id: 769,
                                  name: "eau_new_Morphologie 2015",
                                  metadata: {
                                    is_queryable: !0,
                                    legend_name: "eau:morphologie_2015",
                                    metadata_id: "b7812f62-a8b5-4ef4-bbb8-c2e3a9688c93"
                                  },
                                  dimensions: {},
                                  type: "WMS",
                                  layers: "eau_new_Morphologie 2015",
                                  imageType: "image/png",
                                  style: "default",
                                  childLayers: [
                                    {
                                      name: "eau_new_Morphologie 2015__Morphologie 2015"
                                    }
                                  ]
                                },
                                {
                                  id: 770,
                                  name: "eau_new_Durchg√§ngigkeit 2015",
                                  metadata: {
                                    is_queryable: !0,
                                    legend_name: "eau:durchgaengigkeit_2015",
                                    metadata_id: "4983c058-3d33-4b6f-b801-de1113a11f27"
                                  },
                                  dimensions: {},
                                  type: "WMS",
                                  layers: "eau_new_Durchg√§ngigkeit 2015",
                                  imageType: "image/png",
                                  style: "default",
                                  childLayers: [
                                    {
                                      name: "eau_new_Durchg√§ngigkeit 2015__Durchg√§ngigkeit 2015"
                                    }
                                  ]
                                },
                                {
                                  id: 583,
                                  name: "eau_new_Physiko-Chemie_2015",
                                  metadata: {
                                    is_queryable: !0,
                                    legend_name: "eau:physiko-chemie_2015",
                                    max_dpi: 128,
                                    metadata_id: "45702d13-2608-4300-ba54-0e078c96386c"
                                  },
                                  dimensions: {},
                                  type: "WMS",
                                  layers: "eau_new_Physiko-Chemie_2015",
                                  imageType: "image/png",
                                  style: "default",
                                  childLayers: [
                                    {
                                      name: "eau_new_Physiko-Chemie_2015__Physiko-Chemie 2015"
                                    }
                                  ]
                                },
                                {
                                  id: 771,
                                  name: "eau_new_Phytoplankton 2015",
                                  metadata: {
                                    is_queryable: !0,
                                    legend_name: "eau:phytoplankton_2015",
                                    metadata_id: "e5d8434c-c367-4a56-a7d1-aa60f70a301f"
                                  },
                                  dimensions: {},
                                  type: "WMS",
                                  layers: "eau_new_Phytoplankton 2015",
                                  imageType: "image/png",
                                  style: "default",
                                  childLayers: [
                                    {
                                      name: "eau_new_Phytoplankton 2015__Phytoplankton 2015"
                                    }
                                  ]
                                },
                                {
                                  id: 662,
                                  name: "eau_new_Makrophyten_2015",
                                  metadata: {
                                    is_queryable: !0,
                                    legend_name: "eau:aquatische_flora_2015",
                                    max_dpi: 128,
                                    metadata_id: "fe673001-2447-4e3c-bce6-4606b6bf222d"
                                  },
                                  dimensions: {},
                                  type: "WMS",
                                  layers: "eau_new_Makrophyten_2015",
                                  imageType: "image/png",
                                  style: "default",
                                  childLayers: [
                                    {
                                      name: "eau_new_Makrophyten_2015__aquatische Flora 2015"
                                    }
                                  ]
                                },
                                {
                                  id: 600,
                                  name: "eau_new_Makro-Invertebraten_2015",
                                  metadata: {
                                    is_queryable: !0,
                                    legend_name: "eau:makro-invertebraten_2015",
                                    max_dpi: 128,
                                    metadata_id: "b8a59482-2696-4b9a-a527-3201597a4caf"
                                  },
                                  dimensions: {},
                                  type: "WMS",
                                  layers: "eau_new_Makro-Invertebraten_2015",
                                  imageType: "image/png",
                                  style: "default",
                                  childLayers: [
                                    {
                                      name: "eau_new_Makro-Invertebraten_2015__Makro-Invertebraten 2015"
                                    }
                                  ]
                                },
                                {
                                  id: 646,
                                  name: "eau_new_Fische_2015",
                                  metadata: {
                                    is_queryable: !0,
                                    legend_name: "eau:fische_2015",
                                    max_dpi: 128,
                                    metadata_id: "f44a6aa7-6dcc-4d99-9033-c13ef23ebef4"
                                  },
                                  dimensions: {},
                                  type: "WMS",
                                  layers: "eau_new_Fische_2015",
                                  imageType: "image/png",
                                  style: "default",
                                  childLayers: [
                                    {
                                      name: "eau_new_Fische_2015__Fische 2015"
                                    }
                                  ]
                                }
                              ],
                              metadata: {},
                              mixed: !0
                            }
                          ],
                          metadata: {},
                          mixed: !0
                        },
                        {
                          id: 471,
                          name: "eau_new_Grundwasser_2015",
                          children: [
                            {
                              id: 591,
                              name: "eau_new_Zustand_der_WK_2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:zustand_der_wk_2015",
                                max_dpi: 128,
                                metadata_id: "489c9b85-6c3c-4019-b3ee-096936b2683c"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Zustand_der_WK_2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Zustand_der_WK_2015__Zustand der WK 2015"
                                }
                              ]
                            },
                            {
                              id: 592,
                              name: "eau_new_Quantitativer_Zustand_der_WK_2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:quantitativer_zustand_der_wk_2015",
                                max_dpi: 128,
                                metadata_id: "333c7e4f-cdc3-439a-aa13-ca0f9138c764"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Quantitativer_Zustand_der_WK_2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Quantitativer_Zustand_der_WK_2015__Quantitativer Zustand der WK 2015"
                                }
                              ]
                            },
                            {
                              id: 632,
                              name: "eau_new_Chemischer_Zustand_der_WK_2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:chemischer_zustand_der_wk_2015",
                                max_dpi: 128,
                                metadata_id: "ddd64c4a-f5af-4bbb-a7d3-3db1016ee541"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Chemischer_Zustand_der_WK_2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Chemischer_Zustand_der_WK_2015__Chemischer Zustand der WK 2015"
                                }
                              ]
                            }
                          ],
                          metadata: {},
                          mixed: !0
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    },
                    {
                      id: 458,
                      name: "eau_new_Risikobeurteilung",
                      children: [
                        {
                          id: 467,
                          name: "eau_new_Grundwasser_2021",
                          children: [
                            {
                              id: 773,
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2021",
                              metadata: {
                                legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_zustandes_2021",
                                metadata_id: "be59d518-15cb-4417-a6ba-e8f5b61ea76a"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2021",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2021__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2021"
                                }
                              ]
                            },
                            {
                              id: 661,
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2021",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_mengenmaessigen_zustandes",
                                max_dpi: 128,
                                metadata_id: "f9420947-188b-498a-97aa-98d30601995a"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2021",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2021__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§ssigen Zustandes"
                                }
                              ]
                            },
                            {
                              id: 660,
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2021",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_chemischen_zustandes",
                                max_dpi: 128,
                                metadata_id: "1070a8cd-4ee7-4865-8e0c-e2c31d09ab68"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2021",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2021__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes"
                                }
                              ]
                            }
                          ],
                          metadata: {},
                          mixed: !0
                        },
                        {
                          id: 772,
                          name: "eau_new_Grundwasser 2027",
                          children: [
                            {
                              id: 774,
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2027",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_zustandes_2027",
                                metadata_id: "019a4e7d-4ddf-492a-a11d-1e5e36793842"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2027",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2027__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2027"
                                }
                              ]
                            },
                            {
                              id: 776,
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2027",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_mengenmaessigen_zustandes_2027",
                                metadata_id: "199d0bbb-5ed1-4c94-b92b-e30edc57bbb0"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2027",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2027__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§ssigen Zustandes 2027"
                                }
                              ]
                            },
                            {
                              id: 777,
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2027",
                              metadata: {
                                legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_chemischen_zustandes_2027",
                                metadata_id: "2cba7832-6e24-4ebe-b65c-6119c6c3b287"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2027",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2027__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2027"
                                }
                              ]
                            }
                          ],
                          metadata: {},
                          mixed: !0
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 2085,
                  name: "eau_Bewirtschaftungsplan_2021",
                  children: [
                    {
                      id: 2090,
                      name: "eau_Oberflaechenwasserkoerper_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:oberflaechenwasserkoerper_2021",
                        max_dpi: 128,
                        metadata_id: "c50b2bc7-aeb7-4d3e-9349-09eb3ec0f927"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Oberflaechenwasserkoerper_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Oberflaechenwasserkoerper_2021__386"
                        }
                      ]
                    },
                    {
                      id: 2091,
                      name: "eau_Erheblich ver√§nderte Wasserk√∂rper 2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:erheblich_veraenderte_wk_2021",
                        max_dpi: 128,
                        metadata_id: "311cc30b-8092-4816-9f86-87d5f2995706"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Erheblich ver√§nderte Wasserk√∂rper 2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Erheblich ver√§nderte Wasserk√∂rper 2021__387"
                        }
                      ]
                    },
                    {
                      id: 2086,
                      name: "eau_Entwurf_Massnahmenprogramm_HY_2021",
                      children: [
                        {
                          id: 2092,
                          name: "eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:wiederherstellung_der_oekologischen_durchgaengigkeit",
                            metadata_id: "c150f6a5-41c7-477a-9d44-c0a26a502d85"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk_2021__389"
                            }
                          ]
                        },
                        {
                          id: 2093,
                          name: "eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:wiederherstellung_der_oekologischen_durchgaengigkeit_durchlass",
                            metadata_id: "569bf0ea-c428-4171-aba6-8f2ace180a10"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021__390"
                            }
                          ]
                        },
                        {
                          id: 2094,
                          name: "eau_Strukturelemente_Sohle_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:einbau_von_strukturelementen_in_sohle",
                            metadata_id: "2d233ca6-553e-43bf-ba25-f46b88f63710"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_Strukturelemente_Sohle_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_Strukturelemente_Sohle_2021__391"
                            }
                          ]
                        },
                        {
                          id: 2095,
                          name: "eau_Umgestalten_Sohlverbau_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:entfernen_umgestalten_von_sohlverbau",
                            metadata_id: "0d30a3ee-e860-4816-b5c8-9f43e93020e3"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_Umgestalten_Sohlverbau_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_Umgestalten_Sohlverbau_2021__392"
                            }
                          ]
                        },
                        {
                          id: 2096,
                          name: "eau_Stroemungslenkern_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:einbau_von_stroemungslenkern_fuer_eigendynamik",
                            metadata_id: "b86c62a9-0ec8-4d35-878f-b275e74ff02e"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_Stroemungslenkern_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_Stroemungslenkern_2021__393"
                            }
                          ]
                        },
                        {
                          id: 2097,
                          name: "eau_Umgestalten_Uferverbau_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:entfernen_umgestalten_von_uferverbau",
                            metadata_id: "bec0ccbc-09b5-4351-8b72-f0e458fc7d19"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_Umgestalten_Uferverbau_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_Umgestalten_Uferverbau_2021__394"
                            }
                          ]
                        },
                        {
                          id: 2098,
                          name: "eau_naturnah_Gewaesserbett_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:wiederherstellung_von_naturnaher_laufentwicklung_und_gewaesserbett",
                            metadata_id: "3ddf627c-90ae-4b58-a05e-20925493dcf9"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_naturnah_Gewaesserbett_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_naturnah_Gewaesserbett_2021__395"
                            }
                          ]
                        },
                        {
                          id: 2099,
                          name: "eau_Gewaesserrandstreifen_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:anlage_eines_gewaesserrandstreifens",
                            metadata_id: "3bc0e52d-954b-47d3-8905-1ecfe7108ce0"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_Gewaesserrandstreifen_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_Gewaesserrandstreifen_2021__396"
                            }
                          ]
                        },
                        {
                          id: 2100,
                          name: "eau_Gewaesserentwicklungskorridor_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:anlage_eines_gewaesser_entwicklungskorridors",
                            metadata_id: "13299bf5-57ca-4538-993e-7c00f6247722"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_Gewaesserentwicklungskorridor_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_Gewaesserentwicklungskorridor_2021__397"
                            }
                          ]
                        },
                        {
                          id: 2101,
                          name: "eau_natuerlich_Ueberflutungsraeume_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:sicherung_und_erweiterung_natuerlicher_ueberflutungsraeume_und_augewaesser",
                            metadata_id: "7fb0080e-d178-401d-83de-7595ef1885b5"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_natuerlich_Ueberflutungsraeume_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_natuerlich_Ueberflutungsraeume_2021__398"
                            }
                          ]
                        },
                        {
                          id: 2102,
                          name: "eau_eigendynamische_Entwicklung_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:zulassen_von_eigendynamischer_entwicklung",
                            metadata_id: "d13e22e9-d22a-48a0-838d-3d7c914ccfe3"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_eigendynamische_Entwicklung_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_eigendynamische_Entwicklung_2021__399"
                            }
                          ]
                        },
                        {
                          id: 2103,
                          name: "eau_naturnahe_Abflussverhaeltnisse_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:widerherstellung_und_sicherung_naturnaher_abflussverhaeltnisse",
                            metadata_id: "b3f8a9e0-17f7-4b64-a34b-6ee6de972b52"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_naturnahe_Abflussverhaeltnisse_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_naturnahe_Abflussverhaeltnisse_2021__400"
                            }
                          ]
                        },
                        {
                          id: 2104,
                          name: "eau_naturnaher_Wasserhaushalt_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:wiederherstellung_und_sicherung_naturnahem_wasserhaushalt",
                            metadata_id: "91008390-557e-4db3-8d7c-e608a5478edb"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_naturnaher_Wasserhaushalt_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_naturnaher_Wasserhaushalt_2021__401"
                            }
                          ]
                        },
                        {
                          id: 2105,
                          name: "eau_Abflussregulierung_2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:abflussregulierung",
                            metadata_id: "393be87d-44ce-42e1-9b81-9585aa2d7678"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_Abflussregulierung_2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_Abflussregulierung_2021__402"
                            }
                          ]
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    },
                    {
                      id: 2106,
                      name: "eau_Masssnahmenprogramm_SWW_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:detailliertes_massnahmenprogramm_sww_2021",
                        metadata_id: "10f4a12e-1a67-42d5-b575-8993e2f3aa68"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Masssnahmenprogramm_SWW_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Masssnahmenprogramm_SWW_2021__403"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 312,
              name: "umweltuberwachung",
              children: [
                {
                  id: 283,
                  name: "asta_meteo",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "23e4b02d-a93d-47a4-8597-060319ae2af5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "asta_meteo",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "asta_meteo__meteo"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 273,
              name: "anf_data_map",
              children: [
                {
                  id: 427,
                  name: "anf_arrondissements",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "0ed72c13-1975-4cef-90de-1e4b737f5fbd"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_arrondissements",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_arrondissements__ARRONDISSEMENTS"
                    }
                  ]
                },
                {
                  id: 428,
                  name: "anf_triages",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "d4bb012a-73ab-4d3c-ac0c-f31e9df07d34"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_triages",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_triages__TRIAGES"
                    }
                  ]
                },
                {
                  id: 1783,
                  name: "anf_lots_chasse_2021",
                  metadata: {
                    exclusion: "[340]",
                    is_queryable: !0,
                    metadata_id: "a8d8f46d-f6b1-4bb0-9935-be825cffab3f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_lots_chasse_2021",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_lots_chasse_2021__LOTS_CHASSE_2021"
                    }
                  ]
                },
                {
                  id: 1786,
                  name: "anf_chasse_assemblees",
                  metadata: {
                    exclusion: "[340]",
                    is_queryable: !0,
                    metadata_id: "83cfd21b-dad7-4df5-88a9-a98a07f2a228"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_chasse_assemblees",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_chasse_assemblees__0"
                    }
                  ]
                },
                {
                  id: 444,
                  name: "anf_dates_battues",
                  metadata: {
                    exclusion: "[340]",
                    metadata_id: "cd5c65e3-ce29-4317-bc07-127bc679861f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_dates_battues",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_dates_battues__BATTUES_CHASSE"
                    }
                  ]
                },
                {
                  id: 677,
                  name: "anf_proprietes_forestieres",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:proprietes_forestieres",
                    metadata_id: "fa6d38c7-263c-4349-b208-45652f9b98ca"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_proprietes_forestieres",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_proprietes_forestieres__PROPRIETES_FORESTIERES"
                    }
                  ]
                },
                {
                  id: 419,
                  name: "anf_arbres_remarquables",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:arbres_remarquables",
                    metadata_id: "373df6df-a91c-4e66-b211-ac2bc1675d56"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_arbres_remarquables",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_arbres_remarquables__ARBRES_REMARQUABLES"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1657,
          name: "main_culture",
          children: [
            {
              id: 1656,
              name: "unesco_patrimoine",
              children: [
                {
                  id: 1651,
                  name: "unesco_city_boundary",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "50b22938-4d06-48de-9ff0-d1b7f5f6f39d"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=502"
                },
                {
                  id: 1655,
                  name: "unesco_city_bufferzone",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "39935dc9-9529-4adb-8cd4-97f9c9600c63"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=506"
                },
                {
                  id: 1652,
                  name: "unesco_city_old_quarters",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "168b93e8-7bc4-451c-a642-e2c788e1cc59"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=503"
                },
                {
                  id: 1653,
                  name: "unesco_city_other_quarters",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "1d4e8d00-541a-4600-931d-b768b7a42fdb"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=504"
                },
                {
                  id: 1654,
                  name: "unesco_city_fortress",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "bc00d9de-4a11-4375-ae74-2f46fb6f7359"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=505"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1811,
              name: "culture_institutions",
              children: [
                {
                  id: 1800,
                  name: "sip_theatres",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "6745d7eb-93e3-4f55-be5f-2286903e46f0",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "1800",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "sip_theatres__POI"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1380,
          name: "lidar_group",
          children: [
            {
              id: 1792,
              name: "act_lidar_2019_group",
              children: [
                {
                  id: 1794,
                  name: "lidar_2019_mns_public",
                  metadata: {
                    legend_name: "lidar:mns2019",
                    metadata_id: "30f3dc03-7b04-4938-95c4-f0e219ce65c8"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR_4_V3",
                  layer: "lidar_2019_mns_public",
                  imageType: "image/png"
                },
                {
                  id: 1795,
                  name: "lidar_2019_mnt_public",
                  metadata: {
                    legend_name: "lidar:mnt2019",
                    metadata_id: "ba62d5be-9c71-406a-8b46-a36bfaa36357"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR_4_V3",
                  layer: "lidar_2019_mnt_public",
                  imageType: "image/png"
                },
                {
                  id: 1789,
                  name: "ortho_2019_winter",
                  metadata: {
                    exclusion: "[118,218]",
                    metadata_id: "d6cc500f-b802-4be2-a49c-73f3eb2d131e"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2019_winter",
                  imageType: "image/jpeg"
                },
                {
                  id: 1788,
                  name: "lidar_tiles_2019",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "b19a500a-b8d5-4a87-a8f3-00f58c3dffcd",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "lidar_tiles_2019",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "lidar_tiles_2019__LIDAR2019_tiles_500x500m_grid"
                    },
                    {
                      name: "lidar_tiles_2019__LIDAR2019_parent_tiles_1500x1500_grid"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1791,
              name: "act_lidar_2017_group",
              children: [
                {
                  id: 1377,
                  name: "lidar_mns",
                  metadata: {
                    legend_name: "lidar:mns2017",
                    metadata_id: "e7184a37-7a6a-4e07-ae8d-ff06d9969da0"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "lidar_mns",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "lidar_mns__0"
                    }
                  ]
                },
                {
                  id: 1378,
                  name: "lidar_mnt",
                  metadata: {
                    legend_name: "lidar:mnt2017",
                    metadata_id: "1adab94e-d80a-4e19-a808-28f52f633186"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "lidar_mnt",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "lidar_mnt__0"
                    }
                  ]
                },
                {
                  id: 1379,
                  name: "lidar_ortho_2017_winter",
                  metadata: {
                    exclusion: "[115,215]",
                    metadata_id: "a2f1a418-6b8b-44e3-9982-1f37d2dbda7e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "lidar_ortho_2017_winter",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "lidar_ortho_2017_winter__0"
                    }
                  ]
                },
                {
                  id: 1463,
                  name: "lidar_mnh",
                  metadata: {
                    legend_name: "lidar:mnh",
                    metadata_id: "5f189f5b-08f9-4abc-b3f0-78c37ddf0db1"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "lidar_mnh",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "lidar_mnh__0"
                    }
                  ]
                },
                {
                  id: 1787,
                  name: "lidar_tiles_2017",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3c565aff-7394-4d51-915c-0e06dde7765a",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "lidar_tiles_2017",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "lidar_tiles_2017__LIDAR2017_tiles_500x500m_grid"
                    },
                    {
                      name: "lidar_tiles_2017__LIDAR2017_parent_tiles_1500x1500_grid"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1929,
          name: "zones_UAS",
          children: [
            {
              id: 1927,
              name: "zones_UAS_0_50m",
              metadata: {
                is_queryable: !0,
                legend_name: "drones",
                metadata_id: "5589a912-bfa0-4b57-a560-b67e5ff342b9",
                start_opacity: 0.6
              },
              dimensions: {},
              type: "WMS",
              layers: "zones_UAS_0_50m",
              imageType: "image/png",
              childLayers: [
                {
                  name: "zones_UAS_0_50m__Zone_UAS_0_to_50_m"
                }
              ]
            },
            {
              id: 1928,
              name: "zones_UAS_50_120m",
              metadata: {
                is_queryable: !0,
                legend_name: "drones",
                metadata_id: "9e5b263b-4a81-4841-824c-8c44e6261470",
                start_opacity: 0.6
              },
              dimensions: {},
              type: "WMS",
              layers: "zones_UAS_50_120m",
              imageType: "image/png",
              childLayers: [
                {
                  name: "zones_UAS_50_120m__Zones_UAS_50_to_120m"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1835,
          name: "ilr_energie_group",
          children: [
            {
              id: 1946,
              name: "ilr_energie_canton",
              children: [
                {
                  id: 1934,
                  name: "ilr_energie_cantons_biogas",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:biogaz",
                    metadata_id: "3caf3f4a-f492-4635-8c8e-b1b7ad37ae24-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_biogas",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_biogas__11"
                    },
                    {
                      name: "ilr_energie_cantons_biogas__12"
                    }
                  ]
                },
                {
                  id: 1935,
                  name: "ilr_energie_cantons_biomasse",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:biomasse",
                    metadata_id: "021ba8d1-2af9-45b7-8e30-c461ae56416a"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_biomasse",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_biomasse__9"
                    },
                    {
                      name: "ilr_energie_cantons_biomasse__12"
                    }
                  ]
                },
                {
                  id: 1936,
                  name: "ilr_energie_cantons_cogeneration",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:cogeneration",
                    metadata_id: "71a854b4-010d-48a4-acc1-8eddc2bb87c1-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_cogeneration",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_cogeneration__7"
                    },
                    {
                      name: "ilr_energie_cantons_cogeneration__12"
                    }
                  ]
                },
                {
                  id: 1937,
                  name: "ilr_energie_cantons_eolienne",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:eolienne",
                    metadata_id: "97ce42fc-848c-4c1c-a361-61a9736ae97f-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_eolienne",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_eolienne__5"
                    },
                    {
                      name: "ilr_energie_cantons_eolienne__12"
                    }
                  ]
                },
                {
                  id: 1938,
                  name: "ilr_energie_cantons_hydroelectrique",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:hydroelectrique",
                    metadata_id: "a96e0c84-8dcc-49af-a753-7321072aa198-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_hydroelectrique",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_hydroelectrique__3"
                    },
                    {
                      name: "ilr_energie_cantons_hydroelectrique__12"
                    }
                  ]
                },
                {
                  id: 1939,
                  name: "ilr_energie_cantons_photovoltaique",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:solaire",
                    metadata_id: "1bd8193e-5728-4020-be60-9677f3a2c2d6-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_photovoltaique",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_photovoltaique__1"
                    },
                    {
                      name: "ilr_energie_cantons_photovoltaique__12"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1947,
              name: "ilr_energie_commune",
              children: [
                {
                  id: 1940,
                  name: "ilr_energie_communes_biogas",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:biogaz",
                    metadata_id: "3caf3f4a-f492-4635-8c8e-b1b7ad37ae24-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_biogas",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_biogas__10"
                    },
                    {
                      name: "ilr_energie_communes_biogas__12"
                    }
                  ]
                },
                {
                  id: 1941,
                  name: "ilr_energie_communes_biomasse",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:biomasse",
                    metadata_id: "021ba8d1-2af9-45b7-8e30-c461ae56416a"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_biomasse",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_biomasse__8"
                    },
                    {
                      name: "ilr_energie_communes_biomasse__12"
                    }
                  ]
                },
                {
                  id: 1942,
                  name: "ilr_energie_communes_cogeneration",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:cogeneration",
                    metadata_id: "71a854b4-010d-48a4-acc1-8eddc2bb87c1-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_cogeneration",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_cogeneration__6"
                    },
                    {
                      name: "ilr_energie_communes_cogeneration__12"
                    }
                  ]
                },
                {
                  id: 1943,
                  name: "ilr_energie_communes_eolienne",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:eolienne",
                    metadata_id: "97ce42fc-848c-4c1c-a361-61a9736ae97f-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_eolienne",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_eolienne__4"
                    },
                    {
                      name: "ilr_energie_communes_eolienne__12"
                    }
                  ]
                },
                {
                  id: 1944,
                  name: "ilr_energie_communes_hydroelectrique",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:hydroelectrique",
                    metadata_id: "a96e0c84-8dcc-49af-a753-7321072aa198-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_hydroelectrique",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_hydroelectrique__2"
                    },
                    {
                      name: "ilr_energie_communes_hydroelectrique__12"
                    }
                  ]
                },
                {
                  id: 1945,
                  name: "ilr_energie_communes_photovoltaique",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:solaire",
                    metadata_id: "1bd8193e-5728-4020-be60-9677f3a2c2d6-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_photovoltaique",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_photovoltaique__0"
                    },
                    {
                      name: "ilr_energie_communes_photovoltaique__12"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 2132,
          name: "meteo_live",
          children: [
            {
              id: 2133,
              name: "meteo_live_temp",
              metadata: {
                metadata_id: "60fd8ad2-e4aa-45c7-80a7-62b7551e0c6b"
              },
              dimensions: {},
              type: "WMS",
              layers: "meteo_live_temp",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "meteo_live_temp__MF.PointTimeSeriesObservation_Live_ASTA_avg_ta200"
                }
              ]
            },
            {
              id: 2139,
              name: "meteo_live_precipitation_sum",
              metadata: {
                metadata_id: "cd98c205-6413-49f0-88dd-8c68b02bb68c"
              },
              dimensions: {},
              type: "WMS",
              layers: "meteo_live_precipitation_sum",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "meteo_live_precipitation_sum__MF.PointTimeSeriesObservation_Live_ASTA_sum_nn050"
                }
              ]
            },
            {
              id: 2135,
              name: "meteo_live_humidity",
              metadata: {
                metadata_id: "7b09bc66-20a9-4d8b-9ae9-0c89f4fddcdf"
              },
              dimensions: {},
              type: "WMS",
              layers: "meteo_live_humidity",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "meteo_live_humidity__MF.PointTimeSeriesObservation_Live_ASTA_avg_rh200"
                }
              ]
            },
            {
              id: 2136,
              name: "meteo_live_windspeed",
              metadata: {
                metadata_id: "8f12d598-539c-4f58-a401-4422a392f995"
              },
              dimensions: {},
              type: "WMS",
              layers: "meteo_live_windspeed",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "meteo_live_windspeed__MF.PointTimeSeriesObservation_Live_ASTA_avg_wv1000"
                }
              ]
            },
            {
              id: 2138,
              name: "meteo_live_sunshine",
              metadata: {
                metadata_id: "b05144c8-f416-4bd7-96fe-2d992650db9f"
              },
              dimensions: {},
              type: "WMS",
              layers: "meteo_live_sunshine",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "meteo_live_sunshine__MF.PointTimeSeriesObservation_Live_ASTA_sum_ssd"
                }
              ]
            },
            {
              id: 2137,
              name: "meteo_live_irradiation",
              metadata: {
                metadata_id: "f1fb363e-1d4e-4fba-9c05-82ddcc8f1e72"
              },
              dimensions: {},
              type: "WMS",
              layers: "meteo_live_irradiation",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "meteo_live_irradiation__MF.PointTimeSeriesObservation_Live_ASTA_sum_gs200"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        css: "main.css",
        display_in_switcher: !0,
        fake_scales: [
          "750",
          "1500",
          "3000",
          "6000",
          "15000",
          "30000",
          "60000",
          "150000",
          "300000",
          "450000",
          "700000",
          "1500000"
        ],
        page_title: "map.geoportail.lu",
        print_img: "bandeau.jpg",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: [
          "1000",
          "1500",
          "2500",
          "5000",
          "10000",
          "15000",
          "20000",
          "25000",
          "50000",
          "80000",
          "100000",
          "125000",
          "200000",
          "250000",
          "400000"
        ],
        print_short_txt_de: "map.geoportal.lu",
        print_short_txt_en: "map.geoportal.lu",
        print_short_txt_fr: "map.geoportal.lu",
        print_short_txt_lu: "map.geoportal.lu",
        resolutions: [
          "500.0",
          "250.0",
          "150.0",
          "100.0",
          "50.0",
          "20.0",
          "10.0",
          "5.0",
          "2.0",
          "1.0",
          "0.5",
          "0.25"
        ],
        show_in_mobile: !0
      }
    },
    {
      id: 122,
      name: "tourisme",
      icon: "tourisme",
      children: [
        {
          id: 2005,
          name: "tour_rando_new",
          children: [
            {
              id: 2006,
              name: "tour_rando_highlights_new",
              children: [
                {
                  id: 189,
                  name: "tour_mullerthal_trail",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "543f42ef-8aaf-47e3-8a3a-c694c05cbf67"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=7"
                },
                {
                  id: 205,
                  name: "tour_escape_ardenne",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "ecd56a00-be39-424f-a240-aab88ac680ef"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=16"
                },
                {
                  id: 1518,
                  name: "tour_rando_eislekpied_new",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "8a0a0701-8dd9-4aaa-b03e-77e7bf9e0b81"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=152"
                },
                {
                  id: 2019,
                  name: "tour_rando_guttlandtrails_new",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "b5600f62-490b-4382-8d43-566e0b3f2249"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=121"
                },
                {
                  id: 168,
                  name: "tour_rando_traumschleifen_new",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "5ef27e69-57e1-4d76-9332-bfa268196ce0"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=22"
                },
                {
                  id: 250,
                  name: "tour_DeLux",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "dde68324-501b-4fdd-972a-c6fef3f1c3d1"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=13"
                },
                {
                  id: 2020,
                  name: "tour_rando_minetttrail_new",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "676ef2d6-3361-47ab-b630-7b79ac57dee4"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=122"
                },
                {
                  id: 2141,
                  name: "tour_circuit_du_lac",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "61ae77c3-9a90-429c-9590-60b0f616d447"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=700"
                },
                {
                  id: 2142,
                  name: "tour_sentier_adrien_ries",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "91563b6c-a5d1-4583-9633-9554e5bbda49"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=25"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2007,
              name: "tour_rando_rundwege_new",
              children: [
                {
                  id: 176,
                  name: "tour_autopedestre",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "aa1953b8-f97a-4871-bcd8-eb27e98098df"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=11,43"
                },
                {
                  id: 2048,
                  name: "tour_rando_lokale_wanderwege_new",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"]
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=18,19"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2008,
              name: "tour_rando_streckenwanderwege_new",
              children: [
                {
                  id: 235,
                  name: "tour_sentiers_gr",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "6e9e8843-e20b-4b20-9ee3-53f6b0d06e8e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=9"
                },
                {
                  id: 227,
                  name: "tour_sentiers_nationaux",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "04188aad-5a70-4b9c-a478-64d4899e0a86"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=4"
                },
                {
                  id: 158,
                  name: "tour_cfl",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "c4ac0376-8958-497c-a8d0-197d723df82c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=12"
                },
                {
                  id: 197,
                  name: "tour_sentiers_ajl",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "bf8fcfc4-8b94-4fb8-a419-321d5d6a8f3f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=10"
                },
                {
                  id: 218,
                  name: "tour_saint_jacques",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "210bf21c-6e3d-4555-907c-bb29c963b6e3"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=6"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2009,
              name: "tour_rando_thematique_new",
              children: [
                {
                  id: 2021,
                  name: "tour_rando_natur_geologie_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=123"
                },
                {
                  id: 316,
                  name: "env_sentiersnature",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "cfc8de82-e187-4547-a1da-83385f86c786"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "env_sentiersnature",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "env_sentiersnature__sentiers_nature"
                    }
                  ]
                },
                {
                  id: 2022,
                  name: "tour_rando_kunst_kultur_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=124"
                },
                {
                  id: 2023,
                  name: "tour_rando_geschichte_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=125"
                },
                {
                  id: 2028,
                  name: "tour_rando_wein_genuss_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=126"
                },
                {
                  id: 2024,
                  name: "tour_rando_barrierefrei_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=127"
                },
                {
                  id: 2029,
                  name: "tour_rando_fitness_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=128"
                },
                {
                  id: 2025,
                  name: "tour_rando_kinder_familie_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=129"
                },
                {
                  id: 370,
                  name: "luxembourg_on_horse",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "02ae1931-7075-44e1-923d-86ee3f5a3ca5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=30"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 692,
              name: "tour_ivv",
              children: [
                {
                  id: 688,
                  name: "tour_ivv_perm",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "c8953f2f-8e11-4914-97bd-242af64402d0"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=31"
                },
                {
                  id: 693,
                  name: "tour_ivv_temp",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "b1396cbc-dc22-4473-a468-7439c2847d15"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=32"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 668,
              name: "tour_restrictions",
              children: [
                {
                  id: 667,
                  name: "tour_restrictions_autre",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "d55caa92-3ecf-4964-88c6-0f5088964482"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=23"
                },
                {
                  id: 444,
                  name: "anf_dates_battues",
                  metadata: {
                    exclusion: "[340]",
                    metadata_id: "cd5c65e3-ce29-4317-bc07-127bc679861f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_dates_battues",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_dates_battues__BATTUES_CHASSE"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 2010,
          name: "tour_velo_new",
          children: [
            {
              id: 2011,
              name: "tour_velo_radwege_new",
              children: [
                {
                  id: 808,
                  name: "velo_by_pch",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "tour_velo_national",
                    metadata_id: "387f6949-0fc4-43a5-b0e6-4e09bdf65225"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "velo_by_pch",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "velo_by_pch__1"
                    },
                    {
                      name: "velo_by_pch__0"
                    }
                  ]
                },
                {
                  id: 512,
                  name: "tour_pistes_velo_mymaps2",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "tour_velo_national",
                    metadata_id: "8e3c102a-393e-4d48-a321-9f8957ff49cf"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=106"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2012,
              name: "tour_velo_radtouren_new",
              children: [
                {
                  id: 809,
                  name: "lvi_circuits_cyclables",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "8ae3eb00-4f7d-40e7-b7e0-c913fb70b2b9"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=117,501"
                },
                {
                  id: 676,
                  name: "tour_velo_route",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667", "444"],
                    metadata_id: "b2e4a860-73cf-455c-95ff-2ccdf69186ed"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=107"
                },
                {
                  id: 293,
                  name: "tour_pistes_vtt",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "fbc9cdfe-c3f4-4f75-960e-169973fb020c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=8"
                },
                {
                  id: 2314,
                  name: "tour_velosummer_2022",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "tourisme:velosummer2021",
                    metadata_id: "910a66f7-acbd-4d7d-b531-47a80a06687c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=132"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2013,
              name: "tour_fahrradstationen_new",
              children: [
                {
                  id: 1386,
                  name: "mobiliteit_livebikes",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "fc0168f8-2d8b-4bba-8da8-6edd6edd94cc"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_livebikes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_livebikes__bikes"
                    }
                  ]
                },
                {
                  id: 2040,
                  name: "tour_ebike_ladestationen",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_ebike_ladestationen",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_ebike_ladestationen__10"
                    }
                  ]
                },
                {
                  id: 2039,
                  name: "tour_fahrradstationen_reparatur_wasch_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_fahrradstationen_reparatur_wasch_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_fahrradstationen_reparatur_wasch_new__9"
                    }
                  ]
                },
                {
                  id: 368,
                  name: "mobiliteit_bikeshare",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:bikeshare",
                    max_dpi: 128,
                    metadata_id: "e9fbbdff-2f8f-422b-b6ae-5cc69f73bb4b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_bikeshare",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_bikeshare__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2014,
              name: "tour_restrictions_velo_new",
              children: [
                {
                  id: 1713,
                  name: "chantiers_actuels_pc",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "7d59f3a6-e8d8-464b-bbf9-73c6ca358a51",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "chantiers_actuels_pc",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "chantiers_actuels_pc__CHANTIERS_ACTUEL_PC"
                    }
                  ]
                },
                {
                  id: 1714,
                  name: "chantiers_futurs_pc",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "f6b9df36-5e62-46d1-ae91-c7c58c7e2e45",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "chantiers_futurs_pc",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "chantiers_futurs_pc__CHANTIERS_FUTUR_PC"
                    }
                  ]
                },
                {
                  id: 2026,
                  name: "tour_restrictions_MTB_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=130"
                },
                {
                  id: 444,
                  name: "anf_dates_battues",
                  metadata: {
                    exclusion: "[340]",
                    metadata_id: "cd5c65e3-ce29-4317-bc07-127bc679861f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_dates_battues",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_dates_battues__BATTUES_CHASSE"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 725,
              name: "tour_tdl",
              metadata: {
                is_queryable: !0,
                metadata_id: "35226642-3f09-4f98-86b6-6e55316bce53"
              },
              dimensions: {},
              type: "WMS",
              layers: "category",
              imageType: "image/png",
              style: "default",
              childLayers: [],
              ogcServer: "source for config://my_maps?category_id=33"
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 336,
          name: "tour_auto_moto_v2",
          children: [
            {
              id: 681,
              name: "tour_moto",
              metadata: {
                is_queryable: !0,
                metadata_id: "5256618e-6c50-4044-84cb-ce5740abe508"
              },
              dimensions: {},
              type: "WMS",
              layers: "category",
              imageType: "image/png",
              style: "default",
              childLayers: [],
              ogcServer: "source for config://my_maps?category_id=20"
            },
            {
              id: 254,
              name: "tour_touring",
              metadata: {
                is_queryable: !0,
                metadata_id: "89e49996-258f-4a7e-86a3-80e2e9af51c9"
              },
              dimensions: {},
              type: "WMS",
              layers: "category",
              imageType: "image/png",
              style: "default",
              childLayers: [],
              ogcServer: "source for config://my_maps?category_id=108"
            },
            {
              id: 685,
              name: "cita_chantiers_actuel",
              metadata: {
                is_queryable: !0,
                metadata_id: "9c823038-5965-47cc-8dad-21496e57e3f2",
                start_opacity: 1
              },
              dimensions: {},
              type: "WMS",
              layers: "cita_chantiers_actuel",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "cita_chantiers_actuel__CHANTIERS_ACTUEL"
                }
              ]
            },
            {
              id: 2058,
              name: "grand_tour_luxembourg",
              metadata: {
                is_queryable: !0,
                metadata_id: "d0157590-ddaf-487a-8994-d7142fd07ed8"
              },
              dimensions: {},
              type: "WMS",
              layers: "category",
              imageType: "image/png",
              style: "default",
              childLayers: [],
              ogcServer: "source for config://my_maps?category_id=189"
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 2015,
          name: "tour_mobilite_new",
          children: [
            {
              id: 2016,
              name: "tour_bus_bahn_new",
              children: [
                {
                  id: 423,
                  name: "mobiliteit_cfl",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:cfl",
                    max_dpi: 128,
                    metadata_id: "0b3c42a2-275e-4519-b228-f407d46b8350"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_cfl",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_cfl__1"
                    }
                  ]
                },
                {
                  id: 817,
                  name: "cdt_lignes_cfl",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "84ebdfbc-ba25-464c-af86-e74e588978ef"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=403"
                },
                {
                  id: 147,
                  name: "arrets_bus",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:arrets_de_bus",
                    metadata_id: "7318c6e8-bb63-40e0-9e40-46ae7b0dc266"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "arrets_bus",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "arrets_bus__0"
                    },
                    {
                      name: "arrets_bus__1"
                    }
                  ]
                },
                {
                  id: 813,
                  name: "cdt_lignes_all",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "bbe0523f-374d-4c94-a27d-7ce81d8bae3b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cdt_lignes_all",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cdt_lignes_all__lignes_de_bus"
                    }
                  ]
                },
                {
                  id: 1374,
                  name: "cdt_lignes_tram",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "0f46c673-d4b4-4c25-8d9a-fca41035f587"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=404"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2017,
              name: "tour_auto_new",
              children: [
                {
                  id: 377,
                  name: "mobiliteit_pr",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:pr",
                    max_dpi: 128,
                    metadata_id: "9e0c97ae-aff9-41fc-9489-bbf97999163d"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_pr",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_pr__2"
                    }
                  ]
                },
                {
                  id: 1381,
                  name: "chargy",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "chargy",
                    metadata_id: "801d732a-c285-4fcd-a043-c5220d6d7eef"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "chargy",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "chargy__chargy"
                    }
                  ]
                },
                {
                  id: 713,
                  name: "pch_radars",
                  metadata: {
                    is_queryable: !0,
                    max_dpi: 128,
                    metadata_id: "385180ba-a9bc-49d4-8858-ba5f19942a66",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "pch_radars",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "pch_radars__0"
                    },
                    {
                      name: "pch_radars__1"
                    }
                  ]
                },
                {
                  id: 685,
                  name: "cita_chantiers_actuel",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "9c823038-5965-47cc-8dad-21496e57e3f2",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cita_chantiers_actuel",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cita_chantiers_actuel__CHANTIERS_ACTUEL"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 2018,
          name: "tour_erleben_new",
          children: [
            {
              id: 2042,
              name: "tour_tourist_info_new",
              metadata: {
                is_queryable: !0
              },
              dimensions: {},
              type: "WMS",
              layers: "tour_tourist_info_new",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "tour_tourist_info_new__0"
                }
              ]
            },
            {
              id: 2030,
              name: "tour_essen_uebernachten_new",
              children: [
                {
                  id: 2038,
                  name: "tour_hotels_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_hotels_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_hotels_new__8"
                    }
                  ]
                },
                {
                  id: 2037,
                  name: "tour_camping_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_camping_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_camping_new__7"
                    }
                  ]
                },
                {
                  id: 2036,
                  name: "tour_jugendherberge_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_jugendherberge_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_jugendherberge_new__6"
                    }
                  ]
                },
                {
                  id: 2035,
                  name: "tour_fewo_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_fewo_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_fewo_new__5"
                    }
                  ]
                },
                {
                  id: 2034,
                  name: "tour_bb_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_bb_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_bb_new__4"
                    }
                  ]
                },
                {
                  id: 2033,
                  name: "tour_restaurants_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_restaurants_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_restaurants_new__3"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2031,
              name: "tour_kultur_new",
              children: [
                {
                  id: 2044,
                  name: "tour_burgen_schloesser_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_burgen_schloesser_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_burgen_schloesser_new__2"
                    }
                  ]
                },
                {
                  id: 2043,
                  name: "tour_museen_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_museen_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_museen_new__1"
                    }
                  ]
                },
                {
                  id: 2027,
                  name: "tour_unesco_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=131"
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 2032,
          name: "tour_erste_hilfe_new",
          children: [
            {
              id: 2047,
              name: "hopitaux",
              metadata: {
                is_queryable: !0
              },
              dimensions: {},
              type: "WMS",
              layers: "2047",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "hopitaux__POI"
                }
              ]
            },
            {
              id: 1621,
              name: "points_sauvetage_vdl",
              metadata: {
                is_queryable: !0,
                metadata_id: "f8938381-7f09-45d1-becd-506b76327562"
              },
              dimensions: {},
              type: "WMS",
              layers: "points_sauvetage_vdl",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "points_sauvetage_vdl__0"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 309,
          name: "administrative_einheiten",
          children: [
            {
              id: 269,
              name: "communes_labels",
              metadata: {
                is_queryable: !0,
                metadata_id: "17c7d883-ff7f-4b48-a894-46bea40d2e49"
              },
              dimensions: {},
              type: "WMS",
              layers: "communes_labels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "communes_labels__COMMUNES_LABELS"
                }
              ]
            },
            {
              id: 302,
              name: "communes",
              metadata: {
                is_queryable: !0,
                metadata_id: "de5373d6-340f-4203-a065-da7550a03cc4_2049"
              },
              dimensions: {},
              type: "WMS",
              layers: "communes",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "communes__COMMUNES"
                }
              ]
            },
            {
              id: 346,
              name: "cantons_labels",
              metadata: {
                is_queryable: !0,
                metadata_id: "3af20a80-be4a-4819-a42b-18e49af799aa"
              },
              dimensions: {},
              type: "WMS",
              layers: "cantons_labels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "cantons_labels__CANTONS_LABELS"
                }
              ]
            },
            {
              id: 329,
              name: "cantons",
              metadata: {
                is_queryable: !0,
                metadata_id: "e8a034e8-f986-4745-a848-b7ef30ce2740"
              },
              dimensions: {},
              type: "WMS",
              layers: "CANTONS",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "cantons__CANTONS"
                }
              ]
            },
            {
              id: 268,
              name: "districts_labels",
              metadata: {
                is_queryable: !0,
                metadata_id: "c42842e2-834a-427a-99f6-eb8cb79d1db4"
              },
              dimensions: {},
              type: "WMS",
              layers: "districts_labels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "districts_labels__DISTRICTS_LABELS"
                }
              ]
            },
            {
              id: 354,
              name: "districts",
              metadata: {
                is_queryable: !0,
                metadata_id: "b9edd03f-3aef-4fd6-a3d9-db076b1cf237"
              },
              dimensions: {},
              type: "WMS",
              layers: "districts",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "districts__DISTRICTS"
                }
              ]
            },
            {
              id: 349,
              name: "country",
              metadata: {
                is_queryable: !0,
                metadata_id: "4c9b3c0b-85d4-447d-a68c-7416869f8d9b"
              },
              dimensions: {},
              type: "WMS",
              layers: "country",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "country__PAYS"
                }
              ]
            },
            {
              id: 732,
              name: "limadmin_judiciaire",
              metadata: {
                metadata_id: "235c0ac9-5bf6-45b6-9ceb-8680a07944ec"
              },
              dimensions: {},
              type: "WMS",
              layers: "limadmin_judiciaire",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "limadmin_judiciaire__ARRONDISSEMENTS JUDICIAIRES"
                }
              ]
            },
            {
              id: 733,
              name: "limadmin_legislatif",
              metadata: {
                metadata_id: "627b78d9-ae18-4be2-9a69-02aa6d4e38bb"
              },
              dimensions: {},
              type: "WMS",
              layers: "limadmin_legislatif",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "limadmin_legislatif__CIRCONSCRIPTIONS LEGISLATIVES"
                }
              ]
            },
            {
              id: 744,
              name: "tour_ort",
              metadata: {
                legend_name: "ort",
                metadata_id: "44dbfde5-664e-4e45-8802-3d60b52eb9cb"
              },
              dimensions: {},
              type: "WMS",
              layers: "tour_ort",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "tour_ort__0"
                },
                {
                  name: "tour_ort__1"
                }
              ]
            },
            {
              id: 746,
              name: "tour_leader",
              metadata: {
                legend_name: "leader",
                metadata_id: "a48aec89-7341-459e-a7d3-0e572982b255"
              },
              dimensions: {},
              type: "WMS",
              layers: "tour_leader",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "tour_leader__0"
                },
                {
                  name: "tour_leader__1"
                },
                {
                  name: "tour_leader__2"
                }
              ]
            },
            {
              id: 747,
              name: "tour_parcsnaturels",
              metadata: {
                is_queryable: !0,
                legend_name: "parcnaturel",
                metadata_id: "f519c4e7-4459-49b5-b8c1-569328252d44"
              },
              dimensions: {},
              type: "WMS",
              layers: "tour_parcnaturels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "tour_parcsnaturels__0"
                },
                {
                  name: "tour_parcsnaturels__1"
                }
              ]
            },
            {
              id: 678,
              name: "anf_stations_biologiques",
              metadata: {
                is_queryable: !0,
                metadata_id: "05e497fc-625d-4701-90af-dbe8813201ab"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_stations_biologiques",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_stations_biologiques__STATIONS_BIOLOGIQUES"
                }
              ]
            },
            {
              id: 1364,
              name: "act_frontieres_isodistances",
              metadata: {
                metadata_id: "09318d11-a908-4dea-a8f9-0558d20b980f",
                start_opacity: 0.5
              },
              dimensions: {},
              type: "WMS",
              layers: "act_frontieres_isodistances",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "act_frontieres_isodistances__0"
                },
                {
                  name: "act_frontieres_isodistances__1"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        bg_layer: "pixelmaps-gray",
        css: "tourisme.css",
        display_in_switcher: !0,
        link_title: "Send email",
        page_title: "tourisme.geoportail.lu",
        print_img: "bandeautourisme.png",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: [
          "1000",
          "1500",
          "2500",
          "5000",
          "10000",
          "15000",
          "20000",
          "25000",
          "50000",
          "80000",
          "100000",
          "125000",
          "200000",
          "250000",
          "400000"
        ],
        print_short_txt_de: "tourisme.geoportal.lu",
        print_short_txt_en: "tourisme.geoportal.lu",
        print_short_txt_fr: "tourisme.geoportail.lu",
        print_short_txt_lu: "tourisme.geoportal.lu",
        show_in_mobile: !0
      }
    },
    {
      id: 105,
      name: "emwelt",
      icon: "emwelt",
      children: [
        {
          id: 309,
          name: "administrative_einheiten",
          children: [
            {
              id: 269,
              name: "communes_labels",
              metadata: {
                is_queryable: !0,
                metadata_id: "17c7d883-ff7f-4b48-a894-46bea40d2e49"
              },
              dimensions: {},
              type: "WMS",
              layers: "communes_labels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "communes_labels__COMMUNES_LABELS"
                }
              ]
            },
            {
              id: 302,
              name: "communes",
              metadata: {
                is_queryable: !0,
                metadata_id: "de5373d6-340f-4203-a065-da7550a03cc4_2049"
              },
              dimensions: {},
              type: "WMS",
              layers: "communes",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "communes__COMMUNES"
                }
              ]
            },
            {
              id: 346,
              name: "cantons_labels",
              metadata: {
                is_queryable: !0,
                metadata_id: "3af20a80-be4a-4819-a42b-18e49af799aa"
              },
              dimensions: {},
              type: "WMS",
              layers: "cantons_labels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "cantons_labels__CANTONS_LABELS"
                }
              ]
            },
            {
              id: 329,
              name: "cantons",
              metadata: {
                is_queryable: !0,
                metadata_id: "e8a034e8-f986-4745-a848-b7ef30ce2740"
              },
              dimensions: {},
              type: "WMS",
              layers: "CANTONS",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "cantons__CANTONS"
                }
              ]
            },
            {
              id: 268,
              name: "districts_labels",
              metadata: {
                is_queryable: !0,
                metadata_id: "c42842e2-834a-427a-99f6-eb8cb79d1db4"
              },
              dimensions: {},
              type: "WMS",
              layers: "districts_labels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "districts_labels__DISTRICTS_LABELS"
                }
              ]
            },
            {
              id: 354,
              name: "districts",
              metadata: {
                is_queryable: !0,
                metadata_id: "b9edd03f-3aef-4fd6-a3d9-db076b1cf237"
              },
              dimensions: {},
              type: "WMS",
              layers: "districts",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "districts__DISTRICTS"
                }
              ]
            },
            {
              id: 349,
              name: "country",
              metadata: {
                is_queryable: !0,
                metadata_id: "4c9b3c0b-85d4-447d-a68c-7416869f8d9b"
              },
              dimensions: {},
              type: "WMS",
              layers: "country",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "country__PAYS"
                }
              ]
            },
            {
              id: 732,
              name: "limadmin_judiciaire",
              metadata: {
                metadata_id: "235c0ac9-5bf6-45b6-9ceb-8680a07944ec"
              },
              dimensions: {},
              type: "WMS",
              layers: "limadmin_judiciaire",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "limadmin_judiciaire__ARRONDISSEMENTS JUDICIAIRES"
                }
              ]
            },
            {
              id: 733,
              name: "limadmin_legislatif",
              metadata: {
                metadata_id: "627b78d9-ae18-4be2-9a69-02aa6d4e38bb"
              },
              dimensions: {},
              type: "WMS",
              layers: "limadmin_legislatif",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "limadmin_legislatif__CIRCONSCRIPTIONS LEGISLATIVES"
                }
              ]
            },
            {
              id: 744,
              name: "tour_ort",
              metadata: {
                legend_name: "ort",
                metadata_id: "44dbfde5-664e-4e45-8802-3d60b52eb9cb"
              },
              dimensions: {},
              type: "WMS",
              layers: "tour_ort",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "tour_ort__0"
                },
                {
                  name: "tour_ort__1"
                }
              ]
            },
            {
              id: 746,
              name: "tour_leader",
              metadata: {
                legend_name: "leader",
                metadata_id: "a48aec89-7341-459e-a7d3-0e572982b255"
              },
              dimensions: {},
              type: "WMS",
              layers: "tour_leader",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "tour_leader__0"
                },
                {
                  name: "tour_leader__1"
                },
                {
                  name: "tour_leader__2"
                }
              ]
            },
            {
              id: 747,
              name: "tour_parcsnaturels",
              metadata: {
                is_queryable: !0,
                legend_name: "parcnaturel",
                metadata_id: "f519c4e7-4459-49b5-b8c1-569328252d44"
              },
              dimensions: {},
              type: "WMS",
              layers: "tour_parcnaturels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "tour_parcsnaturels__0"
                },
                {
                  name: "tour_parcsnaturels__1"
                }
              ]
            },
            {
              id: 678,
              name: "anf_stations_biologiques",
              metadata: {
                is_queryable: !0,
                metadata_id: "05e497fc-625d-4701-90af-dbe8813201ab"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_stations_biologiques",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_stations_biologiques__STATIONS_BIOLOGIQUES"
                }
              ]
            },
            {
              id: 1364,
              name: "act_frontieres_isodistances",
              metadata: {
                metadata_id: "09318d11-a908-4dea-a8f9-0558d20b980f",
                start_opacity: 0.5
              },
              dimensions: {},
              type: "WMS",
              layers: "act_frontieres_isodistances",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "act_frontieres_isodistances__0"
                },
                {
                  name: "act_frontieres_isodistances__1"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 245,
          name: "env_zones_protegees",
          children: [
            {
              id: 807,
              name: "zpin_group",
              children: [
                {
                  id: 804,
                  name: "anf_zpin_declarees",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:zpin_declarees",
                    metadata_id: "9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_zpin_declarees",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_zpin_declarees__ZPIN_DECLAREES"
                    }
                  ]
                },
                {
                  id: 805,
                  name: "anf_zpin_a_declarer",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:zpin_a_declarer",
                    metadata_id: "db53336b-1a33-4b1a-94a8-42a29b55ce45"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_zpin_a_declarer",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_zpin_a_declarer__ZPIN_A_DECLARER"
                    }
                  ]
                },
                {
                  id: 806,
                  name: "anf_zpin_en_procedure",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:zpin_en_procedure_reglementaire",
                    metadata_id: "74499cf0-ab69-48bd-a357-8c151dd3d5c9"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_zpin_en_procedure",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 334,
              name: "env_zones_protegees_communautaires",
              children: [
                {
                  id: 146,
                  name: "env_natura2000",
                  children: [
                    {
                      id: 1915,
                      name: "anf_communes_copil_2020",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "e0369dfa-0219-4a60-84c4-4ce60cec0a02"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "anf_communes_copil_2020",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "anf_communes_copil_2020__COMMUNES_COPIL_2020"
                        }
                      ]
                    },
                    {
                      id: 540,
                      name: "natura2000_habitats",
                      metadata: {
                        is_queryable: !0,
                        max_dpi: 128,
                        metadata_id: "080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "natura2000_habitats",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "natura2000_habitats__2"
                        },
                        {
                          name: "natura2000_habitats__0"
                        }
                      ]
                    },
                    {
                      id: 533,
                      name: "natura2000_oiseaux",
                      metadata: {
                        is_queryable: !0,
                        max_dpi: 128,
                        metadata_id: "080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "natura2000_oiseaux",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "natura2000_oiseaux__1"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1823,
          name: "anf_mesures_compensatoires_group",
          children: [
            {
              id: 1827,
              name: "anf_secteurs_ecologiques_compensation_ecopoint",
              metadata: {
                is_queryable: !0,
                metadata_id: "22033820-7317-4bcc-9c4c-df5b9ca80550"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_secteurs_ecologiques_compensation_ecopoint",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_secteurs_ecologiques_compensation_ecopoint__SECTEURS_COMPENSATION"
                }
              ]
            },
            {
              id: 1822,
              name: "anf_projets_compensation_approuves",
              metadata: {
                is_queryable: !0,
                metadata_id: "03aafc0c-c443-42ea-963a-8538a3f089d4"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_projets_compensation_approuves",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_projets_compensation_approuves__ZONES_COMPENSATION_APPROUVEES"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 161,
          name: "env_obs",
          children: [
            {
              id: 1963,
              name: "env_couverture_sol",
              children: [
                {
                  id: 1951,
                  name: "LISL_Landcover_2018",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "lisl:lc2018",
                    metadata_id: "6142a6a6-9356-47ac-babe-eaa2ae3628b6"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "LISL_Landcover_2018",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "LISL_Landcover_2018__0"
                    },
                    {
                      name: "LISL_Landcover_2018__1"
                    }
                  ]
                },
                {
                  id: 1950,
                  name: "LISL_Landcover_2015_v2",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "lisl:lc2015_2",
                    metadata_id: "67f4ecb8-5d4b-4a9e-a60b-239fc92b25a7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "LISL_Landcover_2015_v2",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "LISL_Landcover_2015_v2__0"
                    },
                    {
                      name: "LISL_Landcover_2015_v2__1"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1964,
              name: "env_utilisation_sol",
              children: [
                {
                  id: 1970,
                  name: "LISL_Landuse_2018",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "lisl_landuse_2018",
                    metadata_id: "e4572e0b-1b40-4834-b6c3-ccab83f75f57"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "LISL_Landuse_2018",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "LISL_Landuse_2018__0"
                    }
                  ]
                },
                {
                  id: 2054,
                  name: "LISL_Landuse_2015_v3",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "lisl_landuse_2015_v3",
                    metadata_id: "65e04718-1890-4c5e-8be7-08a73f69c0cc"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "LISL_Landuse_2015_v3",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "LISL_Landuse_2015_v3__0"
                    }
                  ]
                },
                {
                  id: 1969,
                  name: "LISL_Landuse_2007",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "lisl_landuse_2007",
                    metadata_id: "257556b9-560b-4193-b773-e16a9137a690"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "LISL_Landuse_2007",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "LISL_Landuse_2007__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1965,
              name: "env_impermeabilisation",
              children: [
                {
                  id: 1952,
                  name: "LISL_taux_impermeabilisation_2018",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "lisl_taux_impermeabilisation_2018",
                    metadata_id: "5b40c571-dd3c-4e76-8f4f-b54746799688"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "LISL_taux_impermeabilisation_2018",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "LISL_taux_impermeabilisation_2018__0"
                    },
                    {
                      name: "LISL_taux_impermeabilisation_2018__1"
                    }
                  ]
                },
                {
                  id: 2216,
                  name: "at_impermeabilisation_grid_2018_100m",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:impermeabilisation_grid_2018_100m",
                    metadata_id: "210db74a-e33a-401b-9e17-2cd966cdcd1f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_impermeabilisation_grid_2018_100m",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_impermeabilisation_grid_2018_100m__0"
                    }
                  ]
                },
                {
                  id: 2215,
                  name: "at_impermeabilisation_grid_2018_1km",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:impermeabilisation_grid_2018_1km",
                    metadata_id: "8dc777d0-f910-4c69-a476-85a73dcd8474"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_impermeabilisation_grid_2018_1km",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_impermeabilisation_grid_2018_1km__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2212,
              name: "at_batiments_group",
              children: [
                {
                  id: 2214,
                  name: "at_batiments_periode_construction",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:periode_construction_batiments",
                    metadata_id: "7c138282-86de-4adb-91c2-467b06786821"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_batiments_periode_construction",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_batiments_periode_construction__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1966,
              name: "env_occupation_biophysique",
              children: [
                {
                  id: 215,
                  name: "env_obs2007",
                  metadata: {
                    is_queryable: !0,
                    max_dpi: 128,
                    metadata_id: "bd672300-0851-4901-82c4-6099aff1fcf7"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "env_obs2007",
                  imageType: "image/png"
                },
                {
                  id: 163,
                  name: "env_obs1999",
                  metadata: {
                    is_queryable: !0,
                    max_dpi: 128,
                    metadata_id: "b4836d86-2803-4dcf-a991-7e78ab9c41b6"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "env_obs1999",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1967,
              name: "env_corine_landcover",
              children: [
                {
                  id: 167,
                  name: "env_corine",
                  metadata: {
                    is_queryable: !0,
                    max_dpi: 128,
                    metadata_id: "0098c72d-490e-4b03-91f6-f844502883a0"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "env_corine",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "env_corine__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 276,
          name: "env_sentiers",
          children: [
            {
              id: 316,
              name: "env_sentiersnature",
              metadata: {
                is_queryable: !0,
                metadata_id: "cfc8de82-e187-4547-a1da-83385f86c786"
              },
              dimensions: {},
              type: "WMS",
              layers: "env_sentiersnature",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "env_sentiersnature__sentiers_nature"
                }
              ]
            },
            {
              id: 1857,
              name: "anf_itineraire_nature",
              metadata: {
                is_queryable: !0,
                legend_name: "anf:vakanz_doheem",
                metadata_id: "fb71d4b6-b11a-4bf0-9b23-cddaa17e058c"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_itineraire_nature",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_itineraire_nature__0"
                }
              ]
            },
            {
              id: 1968,
              name: "np_uewersauer_randonnee_eau",
              metadata: {
                is_queryable: !0,
                metadata_id: "2bfd404c-1734-491d-94c3-59a16a3edf2c"
              },
              dimensions: {},
              type: "WMS",
              layers: "category",
              imageType: "image/png",
              style: "default",
              childLayers: [],
              ogcServer: "source for config://my_maps?category_id=41"
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 280,
          name: "anf_unites_admin",
          children: [
            {
              id: 427,
              name: "anf_arrondissements",
              metadata: {
                is_queryable: !0,
                metadata_id: "0ed72c13-1975-4cef-90de-1e4b737f5fbd"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_arrondissements",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_arrondissements__ARRONDISSEMENTS"
                }
              ]
            },
            {
              id: 428,
              name: "anf_triages",
              metadata: {
                is_queryable: !0,
                metadata_id: "d4bb012a-73ab-4d3c-ac0c-f31e9df07d34"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_triages",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_triages__TRIAGES"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 241,
          name: "anf_forets",
          children: [
            {
              id: 677,
              name: "anf_proprietes_forestieres",
              metadata: {
                is_queryable: !0,
                legend_name: "anf:proprietes_forestieres",
                metadata_id: "fa6d38c7-263c-4349-b208-45652f9b98ca"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_proprietes_forestieres",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_proprietes_forestieres__PROPRIETES_FORESTIERES"
                }
              ]
            },
            {
              id: 1514,
              name: "anf_forets_publiques_fsc_pefc",
              metadata: {
                is_queryable: !0,
                legend_name: "anf:proprietes_forestieres",
                metadata_id: "ad654091-a8b2-45db-91ff-f3eef50bbe38"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_forets_publiques_fsc_pefc",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_forets_publiques_fsc_pefc__PROPRIETES_FORESTIERES_CERTIFIEES"
                }
              ]
            },
            {
              id: 524,
              name: "anf_carte_simpl_forets",
              metadata: {
                is_queryable: !0,
                legend_name: "anf:vegetation_forestiere_naturelle",
                metadata_id: "9eac63ee-39b0-4794-81b4-dd2b4819dd39"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_carte_simpl_forets",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_carte_simpl_forets__PHYTOSOCIO_S_2014"
                }
              ]
            },
            {
              id: 389,
              name: "anf_peuplements_semenciers",
              metadata: {
                is_queryable: !0,
                metadata_id: "5d2b9400-3f94-4962-ad67-8b7e923d6d8b"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_peuplements_semenciers",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_peuplements_semenciers__PEUPLEMENTS_SEMENCIERS"
                }
              ]
            },
            {
              id: 419,
              name: "anf_arbres_remarquables",
              metadata: {
                is_queryable: !0,
                legend_name: "anf:arbres_remarquables",
                metadata_id: "373df6df-a91c-4e66-b211-ac2bc1675d56"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_arbres_remarquables",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_arbres_remarquables__ARBRES_REMARQUABLES"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1953,
          name: "anf_especes",
          children: [
            {
              id: 1961,
              name: "anf_amphibiens",
              children: [
                {
                  id: 1962,
                  name: "anf_amphibiens_sauvetage",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "348a241e-27c4-4d31-8cf0-e99626efa6a1"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_amphibiens_sauvetage",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_amphibiens_sauvetage__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 180,
          name: "anf_secteurs_ecologiques_group",
          children: [
            {
              id: 690,
              name: "anf_secteurs_ecologiques",
              metadata: {
                is_queryable: !0,
                metadata_id: "8afa4162-c23b-4001-b737-4074d4f5360f"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_secteurs_ecologiques",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_secteurs_ecologiques__SECTEURS_ECOLOGIQUES"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 322,
          name: "anf_chasse",
          children: [
            {
              id: 1783,
              name: "anf_lots_chasse_2021",
              metadata: {
                exclusion: "[340]",
                is_queryable: !0,
                metadata_id: "a8d8f46d-f6b1-4bb0-9935-be825cffab3f"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_lots_chasse_2021",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_lots_chasse_2021__LOTS_CHASSE_2021"
                }
              ]
            },
            {
              id: 444,
              name: "anf_dates_battues",
              metadata: {
                exclusion: "[340]",
                metadata_id: "cd5c65e3-ce29-4317-bc07-127bc679861f"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_dates_battues",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_dates_battues__BATTUES_CHASSE"
                }
              ]
            },
            {
              id: 1496,
              name: "anf_centre_ramassage",
              metadata: {
                is_queryable: !0,
                metadata_id: "44f25bb0-6b7d-46fa-8388-ccdf682797ce"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_centre_ramassage",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_centre_ramassage__RAMASSAGE_GIBIER"
                }
              ]
            },
            {
              id: 1658,
              name: "anf_zone_prevention_ppa",
              metadata: {
                is_queryable: !0,
                metadata_id: "62f2a3ed-5893-4ed2-aba7-77159b10fb2e"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_zone_prevention_ppa",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_zone_prevention_ppa__0"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 366,
          name: "emwelt_biotop_kadaster",
          children: [
            {
              id: 1367,
              name: "anf_biotopes_points",
              metadata: {
                is_queryable: !0,
                legend_name: "env:btk_p",
                metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_biotopes_points",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_biotopes_points__BIOTOPES_MO_EL_PONCTUELS"
                }
              ]
            },
            {
              id: 1368,
              name: "anf_biotopes_vergers",
              metadata: {
                is_queryable: !0,
                legend_name: "env:btk_s",
                metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_biotopes_vergers",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_biotopes_vergers__BIOTOPES_MO_VERGERS"
                }
              ]
            },
            {
              id: 1369,
              name: "anf_biotopes_surfaces",
              metadata: {
                is_queryable: !0,
                legend_name: "env:btk_f",
                metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_biotopes_surfaces",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_biotopes_surfaces__BIOTOPES_MO_SURFACES"
                }
              ]
            },
            {
              id: 1370,
              name: "anf_biotopes_tampons",
              metadata: {
                is_queryable: !0,
                legend_name: "env:btk_b",
                metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_biotopes_tampons",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_biotopes_tampons__BIOTOPES_MO_ZONES_TAMPONS"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1361,
          name: "aev_casipo_group",
          children: [
            {
              id: 1362,
              name: "aev_casipo",
              metadata: {
                is_queryable: !0,
                metadata_id: "974688ed-130e-4704-ba2c-72154ed0cecb"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_casipo",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_casipo__PARCELLES"
                }
              ]
            },
            {
              id: 1858,
              name: "aev_anciennes_decharges",
              metadata: {
                is_queryable: !0,
                metadata_id: "ec1a8607-5f8d-4baa-9b14-1aa8ed0a828a"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_anciennes_decharges",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_anciennes_decharges__1"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1355,
          name: "aev_qualite_air",
          children: [
            {
              id: 1472,
              name: "aev_modelisation",
              children: [
                {
                  id: 1430,
                  name: "air_quality_o3",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "aev:air_quality_o3",
                    metadata_id: "4ebe5c4d-2318-4caa-bace-3e3784a41509",
                    start_opacity: 0.75
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "air_quality_no2",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "air_quality_o3__2"
                    },
                    {
                      name: "air_quality_o3__5"
                    }
                  ]
                },
                {
                  id: 1429,
                  name: "air_quality_no2",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "aev:air_quality",
                    metadata_id: "d405406f-c1c7-4f47-ae40-e76008a91c4a",
                    start_opacity: 0.75
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "air_quality_o3",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "air_quality_no2__3"
                    },
                    {
                      name: "air_quality_no2__5"
                    }
                  ]
                },
                {
                  id: 1425,
                  name: "air_quality_pm10",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "aev:air_quality_pm10",
                    metadata_id: "94d2f0ea-f0ce-4a79-be7f-1d018deffb61",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "air_quality_pm10",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "air_quality_pm10__1"
                    },
                    {
                      name: "air_quality_pm10__5"
                    }
                  ]
                },
                {
                  id: 1480,
                  name: "air_quality_pm2_5",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "aev:air_quality_pm2_5",
                    metadata_id: "5b62c615-448c-4d74-8914-3275e64fbc1e",
                    start_opacity: 0.75
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "air_quality_pm2_5",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "air_quality_pm2_5__0"
                    },
                    {
                      name: "air_quality_pm2_5__5"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1473,
              name: "aev_air_mesures",
              children: [
                {
                  id: 1357,
                  name: "aev_reseau_telemetrique",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "1be21b78-5824-47d6-87c1-db60c5e3d856"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_reseau_telemetrique",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_reseau_telemetrique__3"
                    }
                  ]
                },
                {
                  id: 1358,
                  name: "aev_poussieres_fines",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "5e6fa76e-d6d7-41d8-b88f-9ae00e3222d5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_poussieres_fines",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_poussieres_fines__2"
                    }
                  ]
                },
                {
                  id: 1359,
                  name: "aev_reseau_bergerhoff",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "735a1453-00f3-402e-91b0-2cd9e677cd2c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_reseau_bergerhoff",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_reseau_bergerhoff__0"
                    }
                  ]
                },
                {
                  id: 1426,
                  name: "aev_reseau_biosurveillance",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "68871fde-72b1-45e6-b891-14a8746264ea"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_reseau_biosurveillance",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_reseau_biosurveillance__4"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1704,
              name: "aev_mesurage_no2",
              children: [
                {
                  id: 2400,
                  name: "aev_pacte_climat_2021",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "4ce0368e-af4e-456f-9dd1-7969b73360d7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_pacte_climat_2021",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_pacte_climat_2021__0"
                    }
                  ]
                },
                {
                  id: 2088,
                  name: "aev_pacte_climat_2020",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "aev:pacte_climat_2020",
                    metadata_id: "805db173-9621-4b9a-ae8a-a8fae34a791b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_pacte_climat_2020",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_pacte_climat_2020__7"
                    }
                  ]
                },
                {
                  id: 1848,
                  name: "aev_pacte_climat_2019",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "aev:pacte_climat_2019",
                    metadata_id: "aff9f715-babc-4f0b-a86b-16651d626bde"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_pacte_climat_2019",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_pacte_climat_2019__5"
                    },
                    {
                      name: "aev_pacte_climat_2019__6"
                    }
                  ]
                },
                {
                  id: 1477,
                  name: "aev_pacte_climat_2018",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "aev:pacte_climat",
                    metadata_id: "bb5aa932-2669-4802-9c34-c370addbc798"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_pacte_climat_2018",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_pacte_climat_2018__2"
                    },
                    {
                      name: "aev_pacte_climat_2018__3"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2172,
              name: "env_air_installations_tegistres",
              children: [
                {
                  id: 1465,
                  name: "aev_medium_combustion_plants",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "1c8dc7c5-f94f-49f6-9d96-3a129b28a922"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_medium_combustion_plants",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_medium_combustion_plants__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 166,
          name: "env_bruit",
          children: [
            {
              id: 2123,
              name: "env_bruit_modelisation",
              children: [
                {
                  id: 232,
                  name: "env_bruit_axes_routiers",
                  children: [
                    {
                      id: 1497,
                      name: "env_bruit2016_axes_routiers_lden",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        metadata_id: "cf1a21cc-8208-420e-bd7e-091d755b6ace",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_routiers_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 1500,
                      name: "env_bruit2016_axes_routiers_lngt",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        metadata_id: "83ae2d3b-f0d9-4584-8c48-f6722bd4f517",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_routiers_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1504,
                      name: "env_bruit_axes_routiers_hotspots_2016",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "c5a6e3c5-6bef-4ff9-ac3e-aa494a34e602"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_hotspots_2016",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_hotspots_2016__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_hotspots_2016__11"
                        }
                      ]
                    },
                    {
                      id: 1505,
                      name: "env_bruit_axes_routiers_agglomeration_2016",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "a6c63355-6e42-4795-9d72-8744b907b151"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_agglomeration_2016",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_agglomeration_2016__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_agglomeration_2016__8"
                        }
                      ]
                    },
                    {
                      id: 326,
                      name: "env_bruit_axes_routiers_lden",
                      metadata: {
                        exclusion: "[333,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        max_dpi: 128,
                        metadata_id: "3e3aa044-89e0-4676-9404-744f64dd7ba0",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_routiers_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 255,
                      name: "env_bruit_axes_routiers_lngt",
                      metadata: {
                        exclusion: "[333,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        max_dpi: 128,
                        metadata_id: "5e4f2607-b114-4884-8e48-8e1faa997eb4",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_routiers_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1475,
                      name: "env_bruit_axes_routiers_hotspots",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "ff6b3d63-871c-4e88-8fc0-0f276abe259a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_hotspots",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_hotspots__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_hotspots__4"
                        }
                      ]
                    },
                    {
                      id: 1485,
                      name: "env_bruit_axes_routiers_agglomeration",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "f1dd0dd5-4dd5-4d88-b556-af39a20ab137",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_agglomeration",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_agglomeration__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_agglomeration__2"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 183,
                  name: "env_bruit_axes_ferroviaires",
                  children: [
                    {
                      id: 1498,
                      name: "env_bruit2016_axes_ferroviaires_lden",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        metadata_id: "7975b71b-2fd4-45e6-8c0a-306671d665c6",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_ferroviaires_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 1502,
                      name: "env_bruit2016_axes_ferroviaires_lngt",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        metadata_id: "170143ce-53ef-4b2b-997c-a2ccb1b84477",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_ferroviaires_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1503,
                      name: "env_bruit_axes_ferroviaires_hotspots_2016",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "29ef44c6-f357-4d21-829c-f2fdd5fe1149"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_ferroviaires_hotspots_2016",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots_2016__13"
                        },
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots_2016__0"
                        }
                      ]
                    },
                    {
                      id: 310,
                      name: "env_bruit_axes_ferroviaires_lden",
                      metadata: {
                        exclusion: "[334,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        max_dpi: 128,
                        metadata_id: "32b40d1c-111e-4eed-91c7-61d61ef27b8d",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_ferroviaires_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 259,
                      name: "env_bruit_axes_ferroviaires_lngt",
                      metadata: {
                        exclusion: "[334,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        max_dpi: 128,
                        metadata_id: "2d7e26ad-e448-45a2-9045-3dfb3e3ec15b",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_ferroviaires_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1476,
                      name: "env_bruit_axes_ferroviaires_hotspots",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "d3b30653-d0bf-4924-96b2-251e9f61c979"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_ferroviaires_hotspots",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots__6"
                        },
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 190,
                  name: "env_bruit_air",
                  children: [
                    {
                      id: 1501,
                      name: "env_bruit2016_axes_aeroport_lden",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        metadata_id: "26e208ff-39a3-4cf6-92db-4c6707fe972a",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_aeroport_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 1499,
                      name: "env_bruit2016_axes_aeroport_lngt",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        metadata_id: "2aa6f79d-74cc-4f22-bedd-748f8e8e30b9",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_aeroport_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 157,
                      name: "env_bruit_air_lden",
                      metadata: {
                        exclusion: "[335,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        max_dpi: 128,
                        metadata_id: "0f4dcfc5-e947-4e5c-9460-702b8e1a572f",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_air_lden",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_air_lden__1"
                        }
                      ]
                    },
                    {
                      id: 327,
                      name: "env_bruit_air_lngt",
                      metadata: {
                        exclusion: "[335,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        max_dpi: 128,
                        metadata_id: "6b031060-1f82-467d-af86-afe02a3f04fa",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_air_lngt",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_air_lngt__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 2124,
                  name: "env_bruit_multiexposition",
                  children: [
                    {
                      id: 2125,
                      name: "aev_multiexposition_Lden",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "37c1c1a2-1926-4c92-8c2a-b9ce0ac6cfef"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "aev_multiexposition_Lden",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "aev_multiexposition_Lden__1"
                        }
                      ]
                    },
                    {
                      id: 2126,
                      name: "aev_multiexposition_Lnight",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "a536e129-3c0f-4a6c-a767-0519eec880c1"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "aev_multiexposition_Lnight",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "aev_multiexposition_Lnight__2"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1641,
              name: "aev_campagne_mesure_bruit",
              children: [
                {
                  id: 1916,
                  name: "aev_silent_cities_2020",
                  children: [
                    {
                      id: 1917,
                      name: "aev_silent_cities_2020_phase1",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:silent_cities",
                        metadata_id: "58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "aev_silent_cities_2020_phase1",
                      imageType: "image/png",
                      childLayers: [
                        {
                          name: "aev_silent_cities_2020_phase1__2"
                        }
                      ]
                    },
                    {
                      id: 1918,
                      name: "aev_silent_cities_2020_phase2",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:silent_cities",
                        metadata_id: "58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "aev_silent_cities_2020_phase2",
                      imageType: "image/png",
                      childLayers: [
                        {
                          name: "aev_silent_cities_2020_phase2__3"
                        }
                      ]
                    },
                    {
                      id: 1919,
                      name: "aev_silent_cities_2020_phase3",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:silent_cities",
                        metadata_id: "58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "aev_silent_cities_2020_phase3",
                      imageType: "image/png",
                      childLayers: [
                        {
                          name: "aev_silent_cities_2020_phase3__4"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1921,
                  name: "env_bruit_routes_hotspots_2019_group",
                  children: [
                    {
                      id: 1642,
                      name: "env_bruit_routes_hotspots_2019",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:hotspots_rail",
                        metadata_id: "f898e289-c5dd-432b-b3e6-de4c3681b77a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_routes_hotspots_2019",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_routes_hotspots_2019__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1382,
          name: "aev_zones_calmes",
          children: [
            {
              id: 1383,
              name: "aev_zones_calmes_rurales",
              metadata: {
                is_queryable: !0,
                legend_name: "aev:zones_calmes",
                metadata_id: "49cfe40d-b006-4aaa-831b-11d1e19e1411"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_zones_calmes_rurales",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_zones_calmes_rurales__2"
                }
              ]
            },
            {
              id: 1384,
              name: "aev_zones_calmes_urbaines",
              metadata: {
                is_queryable: !0,
                legend_name: "aev:zones_calmes",
                metadata_id: "82ba068d-81c3-41d3-a24a-f5dc2545d005"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_zones_calmes_urbaines",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_zones_calmes_urbaines__4"
                },
                {
                  name: "aev_zones_calmes_urbaines__7"
                }
              ]
            },
            {
              id: 1385,
              name: "aev_oases_urbaines",
              metadata: {
                is_queryable: !0,
                legend_name: "aev:zones_calmes",
                metadata_id: "655d2f1e-c4b6-4f33-a4d1-4171d64bc3b1"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_oases_urbaines",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_oases_urbaines__3"
                },
                {
                  name: "aev_oases_urbaines__6"
                }
              ]
            },
            {
              id: 1828,
              name: "aev_zones_calmes_campagne_groupe",
              children: [
                {
                  id: 1829,
                  name: "aev_zones_calmes_camp2020_ZCP",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "aev:zones_calmes_20",
                    metadata_id: "d6f1740a-4c8a-40aa-a564-ddb6735f5a34"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_zones_calmes_camp2020_ZCP",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_zones_calmes_camp2020_ZCP__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 2131,
          name: "env_esch22",
          children: [
            {
              id: 2130,
              name: "env_esch22_soundwalks",
              children: [
                {
                  id: 2127,
                  name: "aev_soundwalks_fading_thunders",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "1374bb36-c9c4-4be0-b81c-d7d1d7ae9684"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_soundwalks_fading_thunders",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_soundwalks_fading_thunders__1"
                    },
                    {
                      name: "aev_soundwalks_fading_thunders__2"
                    }
                  ]
                },
                {
                  id: 2128,
                  name: "aev_soundwalks_city_stories",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "0e47e8c5-1a26-4928-9a94-d26eba39c738"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_soundwalks_city_stories",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_soundwalks_city_stories__4"
                    },
                    {
                      name: "aev_soundwalks_city_stories__5"
                    }
                  ]
                },
                {
                  id: 2129,
                  name: "aev_soundwalks_blue_noise",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3e7eea7f-c751-4c7a-9abb-7bdda313628c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aev_soundwalks_blue_noise",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aev_soundwalks_blue_noise__7"
                    },
                    {
                      name: "aev_soundwalks_blue_noise__8"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1510,
          name: "aev_dechets",
          children: [
            {
              id: 1509,
              name: "aev_dechets_biogas",
              metadata: {
                is_queryable: !0,
                metadata_id: "2f4a0025-33a4-4015-9acd-4660cef27129"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_dechets_biogas",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_dechets_biogas__1"
                }
              ]
            },
            {
              id: 1506,
              name: "aev_dechets_composting",
              metadata: {
                is_queryable: !0,
                metadata_id: "fe751427-564d-44b3-9d06-90a5d1a5054c"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_dechets_composting",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_dechets_composting__0"
                }
              ]
            },
            {
              id: 1507,
              name: "aev_dechets_inert_waste",
              metadata: {
                is_queryable: !0,
                metadata_id: "e17908a0-c45d-4312-bc8b-fdde4b5c5d83"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_dechets_inert_waste",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_dechets_inert_waste__2"
                }
              ]
            },
            {
              id: 1508,
              name: "aev_dechets_recycling",
              metadata: {
                is_queryable: !0,
                metadata_id: "7dc38059-fbac-4287-99aa-4d04bb7dd761"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_dechets_recycling",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_dechets_recycling__3"
                }
              ]
            },
            {
              id: 1802,
              name: "aev_dechets_entrepots",
              metadata: {
                is_queryable: !0,
                metadata_id: "18d151a7-febc-4290-9b13-219fd183b75d"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_dechets_entrepots",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_dechets_entrepots__4"
                }
              ]
            },
            {
              id: 1801,
              name: "aev_dechets_menager",
              metadata: {
                is_queryable: !0,
                metadata_id: "8e63ec89-7d10-4374-88bc-580caabf9783"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_dechets_menager",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_dechets_menager__5"
                }
              ]
            },
            {
              id: 1933,
              name: "aev_dechets_stations_epuration",
              metadata: {
                is_queryable: !0,
                metadata_id: "b821085f-91a1-431e-a385-2f9e0dfef43d"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_dechets_stations_epuration",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_dechets_stations_epuration__6"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1466,
          name: "aev_facilities_registers",
          children: [
            {
              id: 803,
              name: "cadastre_hertzien_group",
              children: [
                {
                  id: 811,
                  name: "mat_antennes_moins_50_watt",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:antennesbelow50w",
                    metadata_id: "cbf57825-26ba-4e36-98e8-083c1945066c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mat_antennes_moins_50_watt",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mat_antennes_moins_50_watt__0"
                    }
                  ]
                },
                {
                  id: 1930,
                  name: "mat_5G_antennes_plus_50_watt",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "76e25a5d-8e78-40cb-a54b-9cfc27b16e60"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mat_5G_antennes_plus_50_watt",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mat_5G_antennes_plus_50_watt__0"
                    }
                  ]
                },
                {
                  id: 2053,
                  name: "mat_5G-3.6GHZ_antennes_plus_50_watt",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "e048acda-0ec7-4f52-8221-613d9312c28b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mat_5G-3.6GHZ_antennes_plus_50_watt",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mat_5G-3.6GHZ_antennes_plus_50_watt__0"
                    }
                  ]
                },
                {
                  id: 801,
                  name: "mat_antennes_plus_50_watt",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:antennes",
                    metadata_id: "e4a24392-591c-4d20-a62b-f75a9191488d"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mat_antennes_plus_50_watt",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mat_antennes_plus_50_watt__0"
                    }
                  ]
                },
                {
                  id: 802,
                  name: "mat_points_mesure",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:pointmesure",
                    metadata_id: "f8f71353-40b8-4e10-b72c-85d8fe9e0577"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mat_points_mesure",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mat_points_mesure__0"
                    }
                  ]
                }
              ],
              metadata: {
                is_expanded: !0
              },
              mixed: !0
            },
            {
              id: 1360,
              name: "aev_emplacements_eoliennes",
              metadata: {
                is_queryable: !0,
                legend_name: "aev:eoliennes",
                metadata_id: "354c5313-a733-4121-8f0d-5e0932d563b7"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_emplacements_eoliennes",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_emplacements_eoliennes__0"
                },
                {
                  name: "aev_emplacements_eoliennes__1"
                }
              ]
            },
            {
              id: 1826,
              name: "aev_facilities_ied",
              metadata: {
                is_queryable: !0,
                legend_name: "aev_facilities_ied",
                metadata_id: "2606152c-0169-41a2-843e-861e15e9024c"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_facilities_ied",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_facilities_ied__0"
                }
              ]
            },
            {
              id: 798,
              name: "seveso",
              metadata: {
                is_queryable: !0,
                legend_name: "seveso",
                metadata_id: "b9ab14d8-4e51-4146-b019-3937715a8fe8"
              },
              dimensions: {},
              type: "WMS",
              layers: "seveso",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "seveso__POI"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1467,
          name: "radon",
          children: [
            {
              id: 1468,
              name: "carte_radon_communes",
              metadata: {
                is_queryable: !0,
                legend_name: "radon",
                metadata_id: "80309cdb-b664-4ea8-a3a4-c602f5814f79"
              },
              dimensions: {},
              type: "WMS",
              layers: "carte_radon_communes",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "carte_radon_communes__0"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        bg_layer: "pixelmaps-gray",
        css: "anf.css",
        display_in_switcher: !0,
        link_title: "Portail Environnement",
        page_title: "emwelt.geoportail.lu",
        print_img: "anf_right.jpg",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: [
          "1000",
          "1500",
          "2500",
          "5000",
          "10000",
          "15000",
          "20000",
          "25000",
          "50000",
          "80000",
          "100000",
          "125000",
          "200000",
          "250000",
          "400000"
        ],
        print_short_txt_de: "emwelt.geoportal.lu",
        print_short_txt_en: "emwelt.geoportal.lu",
        print_short_txt_fr: "emwelt.geoportail.lu",
        print_short_txt_lu: "emwelt.geoportal.lu",
        show_in_mobile: !0
      }
    },
    {
      id: 128,
      name: "eau",
      icon: "eau",
      children: [
        {
          id: 234,
          name: "eau_basisdaten",
          children: [
            {
              id: 317,
              name: "eau_topographie",
              children: [
                {
                  id: 206,
                  name: "topo_20k",
                  metadata: {
                    legend_name: "topo_20k",
                    metadata_id: "ea998ae8-731a-43bc-aa9f-171684f97602"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_20k",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 160,
              name: "eau_luft_sat_bilder",
              children: [
                {
                  id: 2056,
                  name: "ortho_2020",
                  metadata: {
                    exclusion: "[119,219]",
                    metadata_id: "87870b8a-10a1-4c33-bf50-7efe851fd450"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR_4_V3",
                  layer: "ortho_2020",
                  imageType: "image/jpeg"
                },
                {
                  id: 1789,
                  name: "ortho_2019_winter",
                  metadata: {
                    exclusion: "[118,218]",
                    metadata_id: "d6cc500f-b802-4be2-a49c-73f3eb2d131e"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2019_winter",
                  imageType: "image/jpeg"
                },
                {
                  id: 1784,
                  name: "ortho_2019",
                  metadata: {
                    exclusion: "[116,216]",
                    metadata_id: "97c88ef6-6c64-4cb0-a134-06bb42b2b448"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2019",
                  imageType: "image/jpeg"
                },
                {
                  id: 1527,
                  name: "ortho_2018",
                  metadata: {
                    exclusion: "[113,213]",
                    metadata_id: "6fde72c4-802f-4663-be74-5fa5901cb4f0"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2018",
                  imageType: "image/jpeg"
                },
                {
                  id: 1371,
                  name: "ortho_2017",
                  metadata: {
                    exclusion: "[111,211]",
                    metadata_id: "1cdae616-1a7a-49d5-b35d-05864891641f"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2017",
                  imageType: "image/jpeg"
                },
                {
                  id: 745,
                  name: "ortho_2016",
                  metadata: {
                    exclusion: "[107,207]",
                    metadata_id: "bba79b6d-4205-4ce4-98e4-7b7922afcd55"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2016",
                  imageType: "image/jpeg"
                },
                {
                  id: 343,
                  name: "ortho",
                  metadata: {
                    exclusion: "[34,44]",
                    metadata_id: "0faf4bdb-a54b-42d7-942c-4e52fa66e963"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho",
                  imageType: "image/jpeg"
                },
                {
                  id: 311,
                  name: "ortho_irc",
                  metadata: {
                    exclusion: "[102,202]",
                    metadata_id: "9848c7ac-0c12-430d-a05f-62dda9e234a0"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_irc",
                  imageType: "image/jpeg"
                },
                {
                  id: 224,
                  name: "ortho_2004",
                  metadata: {
                    exclusion: "[103,203]",
                    metadata_id: "a185f78a-ca9c-43f8-8d06-b1abba8ff056"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2004",
                  imageType: "image/jpeg"
                },
                {
                  id: 225,
                  name: "ortho_2001",
                  metadata: {
                    exclusion: "[104,204]",
                    metadata_id: "e6ff269c-1c7c-401f-a90b-b805e80a046e"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2001",
                  imageType: "image/jpeg"
                },
                {
                  id: 292,
                  name: "wg_ikonos_satellitendaten",
                  metadata: {
                    legend_name: "wg:ikonos_satellitendaten",
                    metadata_id: "db0eea79-114a-4e61-a1f2-7e064f92cdd3"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "wg_ikonos_satellitendaten",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 318,
              name: "eau_landnutzung",
              children: [
                {
                  id: 301,
                  name: "wg_landnutzung",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "wg:landnutzung",
                    metadata_id: "f53e9c0b-a269-48e6-b77c-061e7ac2e116",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "wg_landnutzung",
                  imageType: "image/png"
                },
                {
                  id: 308,
                  name: "wg_versiegelungsklassen",
                  metadata: {
                    legend_name: "wg:versiegelungsklassen",
                    metadata_id: "7e48b187-3080-4bf6-aaa8-6a58fe513380",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "wg_versiegelungsklassen",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 186,
              name: "eau_grenzen",
              children: [
                {
                  id: 349,
                  name: "country",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "4c9b3c0b-85d4-447d-a68c-7416869f8d9b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "country",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "country__PAYS"
                    }
                  ]
                },
                {
                  id: 346,
                  name: "cantons_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3af20a80-be4a-4819-a42b-18e49af799aa"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cantons_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cantons_labels__CANTONS_LABELS"
                    }
                  ]
                },
                {
                  id: 329,
                  name: "cantons",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "e8a034e8-f986-4745-a848-b7ef30ce2740"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "CANTONS",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cantons__CANTONS"
                    }
                  ]
                },
                {
                  id: 269,
                  name: "communes_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "17c7d883-ff7f-4b48-a894-46bea40d2e49"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "communes_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "communes_labels__COMMUNES_LABELS"
                    }
                  ]
                },
                {
                  id: 302,
                  name: "communes",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "de5373d6-340f-4203-a065-da7550a03cc4_2049"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "communes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "communes__COMMUNES"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 165,
              name: "adressen",
              children: [
                {
                  id: 152,
                  name: "addresses",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "28b310e4-b9e1-467c-a28d-fce2e9a96548"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "addresses",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 169,
              name: "eau_zones_protegees",
              children: [
                {
                  id: 207,
                  name: "eau_zones_protegees_nationales",
                  children: [
                    {
                      id: 319,
                      name: "eau_anf_reserves",
                      children: [
                        {
                          id: 804,
                          name: "anf_zpin_declarees",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "anf:zpin_declarees",
                            metadata_id: "9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "anf_zpin_declarees",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "anf_zpin_declarees__ZPIN_DECLAREES"
                            }
                          ]
                        },
                        {
                          id: 805,
                          name: "anf_zpin_a_declarer",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "anf:zpin_a_declarer",
                            metadata_id: "db53336b-1a33-4b1a-94a8-42a29b55ce45"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "anf_zpin_a_declarer",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "anf_zpin_a_declarer__ZPIN_A_DECLARER"
                            }
                          ]
                        },
                        {
                          id: 806,
                          name: "anf_zpin_en_procedure",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "anf:zpin_en_procedure_reglementaire",
                            metadata_id: "74499cf0-ab69-48bd-a357-8c151dd3d5c9"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "anf_zpin_en_procedure",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"
                            }
                          ]
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 330,
              name: "geodesy",
              children: [
                {
                  id: 1831,
                  name: "ng_new",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3119179b-56bb-459d-8904-1e0a2bfb6bc7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ng_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ng_new__0"
                    }
                  ]
                },
                {
                  id: 411,
                  name: "ng",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3119179b-56bb-459d-8904-1e0a2bfb6bc7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ng",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ng__POINT_NG"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 453,
          name: "eau_new_Messstationen",
          children: [
            {
              id: 485,
              name: "eau_new_Hydrologische_Messstationen",
              children: [
                {
                  id: 655,
                  name: "eau_new_Wasserstand",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:wasserstand",
                    max_dpi: 128,
                    metadata_id: "124abb10-1d87-4449-912b-06fbf307a95f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Wasserstand",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Wasserstand__Wasserstand"
                    }
                  ]
                },
                {
                  id: 653,
                  name: "eau_new_Alluvialer_Grundwasserspiegel",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:alluvialer_grundwasserspiegel",
                    max_dpi: 128,
                    metadata_id: "4d328b62-5df3-4205-a45a-4d3d36dc0fa8"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Alluvialer_Grundwasserspiegel",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Alluvialer_Grundwasserspiegel__Alluvialer Grundwasserspiegel"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 460,
              name: "eau_new_Klimatologische_Messstationen",
              children: [
                {
                  id: 609,
                  name: "eau_new_Niederschlag",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:niederschlag",
                    max_dpi: 128,
                    metadata_id: "288300c6-5d83-45a6-98ef-4146f37129e2"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Niederschlag",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Niederschlag__Niederschlag"
                    }
                  ]
                },
                {
                  id: 595,
                  name: "eau_new_Lufttemperatur",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:lufttemperatur",
                    max_dpi: 128,
                    metadata_id: "6d73e310-0ef2-4e19-863d-387a90405e78"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Lufttemperatur",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Lufttemperatur__Lufttemperatur"
                    }
                  ]
                },
                {
                  id: 620,
                  name: "eau_new_Bodentemperatur",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:bodentemperatur",
                    max_dpi: 128,
                    metadata_id: "ebded1e9-613e-4f58-a47f-386676a0a39f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Bodentemperatur",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Bodentemperatur__Bodentemperatur"
                    }
                  ]
                },
                {
                  id: 610,
                  name: "eau_new_Schneehoehe",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:schneehoehe",
                    max_dpi: 128,
                    metadata_id: "60c9ec41-6fa8-4aed-8822-bfdad9ab755d"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Schneehoehe",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Schneehoehe__Schneeh√∂he"
                    }
                  ]
                },
                {
                  id: 615,
                  name: "eau_new_Luftfeucht",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:luftfeucht",
                    max_dpi: 128,
                    metadata_id: "bbb784cd-a8f2-4f60-8d2d-8a7bd341ac73"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Luftfeucht",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Luftfeucht__Luftfeucht"
                    }
                  ]
                },
                {
                  id: 563,
                  name: "eau_new_Luftdruck",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:luftdruck",
                    max_dpi: 128,
                    metadata_id: "1ebc644b-0643-495f-84ed-c820459920cc"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Luftdruck",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Luftdruck__Luftdruck"
                    }
                  ]
                },
                {
                  id: 616,
                  name: "eau_new_Globalstrahlung",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:globalstrahlung",
                    max_dpi: 128,
                    metadata_id: "f5d2d484-adb2-46fc-95f0-9a94c85db5de"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Globalstrahlung",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Globalstrahlung__Globalstrahlung"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 473,
              name: "eau_new_Grundwasser_Messstationen",
              children: [
                {
                  id: 649,
                  name: "eau_new_Grundwasser_(WRRL)_-_Ueberwachung_der_Quantitaet",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:grundwasser_wrrl_-_ueberwachung_der_quantitaet",
                    max_dpi: 128,
                    metadata_id: "df313a40-1cab-4774-971d-41cd0cd17356"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Grundwasser_(WRRL)_-_Ueberwachung_der_Quantitaet",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Grundwasser_(WRRL)_-_Ueberwachung_der_Quantitaet__Grundwasser [WRRL] - √úberwachung der Quantit√§t"
                    }
                  ]
                },
                {
                  id: 650,
                  name: "eau_new_Grundwasser_(WRRL)_-_Ueberwachung_der_Qualitaet",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:grundwasser_wrrl_-_ueberwachung_der_qualitaet",
                    max_dpi: 128,
                    metadata_id: "2a564018-2c6e-4d3c-bb0c-68489980cfc0"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Grundwasser_(WRRL)_-_Ueberwachung_der_Qualitaet",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Grundwasser_(WRRL)_-_Ueberwachung_der_Qualitaet__Grundwasser [WRRL] - √úberwachung der Qualit√§t"
                    }
                  ]
                },
                {
                  id: 570,
                  name: "eau_new_Grundwasser_Nitratrichtlinie_91_676_CEE",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:grundwasser_nitratrichtlinie",
                    max_dpi: 128,
                    metadata_id: "9b358488-a605-46af-81eb-90c4ab7c9931"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "570",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Grundwasser_Nitratrichtlinie_91_676_CEE__320"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 472,
              name: "eau_new_Oberflaechengewaesser_Messstationen",
              children: [
                {
                  id: 627,
                  name: "eau_new_WRRL_-_Ueberblicksueberwachung",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:wrrl_-_ueberblicksueberwachung",
                    max_dpi: 128,
                    metadata_id: "7d186827-29a6-4907-89a7-070c025fbb99"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_WRRL_-_Ueberblicksueberwachung",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_WRRL_-_Ueberblicksueberwachung__WRRL - √úberblicks√ºberwachung"
                    }
                  ]
                },
                {
                  id: 768,
                  name: "eau_new_√úberwachungsprogramme - Resultate",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:wrrl_-_messstationen_resultate",
                    metadata_id: "84221daf-0a56-4312-bf56-fc9d1f869a05"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_√úberwachungsprogramme - Resultate",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_√úberwachungsprogramme - Resultate__WRRL - Messstationen Resultate"
                    }
                  ]
                },
                {
                  id: 654,
                  name: "eau_new_Oberfl√§chengew√§sser_Nitratrichtlinie_91_676_CEE",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:nitratrichtlinie_messstationen",
                    max_dpi: 128,
                    metadata_id: "dc7d9871-2693-4714-b1f6-ab202a59d28b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "654",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Oberfl√§chengew√§sser_Nitratrichtlinie_91_676_CEE__16"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 484,
          name: "eau_new_Hydrografie",
          children: [
            {
              id: 450,
              name: "eau_new_Gewaessernetz",
              children: [
                {
                  id: 749,
                  name: "eau_new_Gew√§sser",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:primaere_gewaesser_sekundaere_gewaesser_temporaer_fliessende_baeche",
                    metadata_id: "9da34ec3-89d5-4731-b927-e38ed8088571"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Gew√§sser",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Gew√§sser__Prim√§re Gew√§sser"
                    },
                    {
                      name: "eau_new_Gew√§sser__Sekund√§re Gew√§sser"
                    },
                    {
                      name: "eau_new_Gew√§sser__Tempor√§r fliessende B√§che"
                    }
                  ]
                },
                {
                  id: 651,
                  name: "eau_new_Kanal_-__Muehlgraben",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:kanal_-__muehlgraben",
                    max_dpi: 128,
                    metadata_id: "909501fc-a0a9-4af8-8e82-f2a8d7f2fe2f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Kanal_-__Muehlgraben",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Kanal_-__Muehlgraben__Kanal -  M√ºhlgraben"
                    }
                  ]
                },
                {
                  id: 750,
                  name: "eau_new_Kilometrierung der Gew√§sser",
                  metadata: {
                    legend_name: "eau:kilometrierung_primaere_gewaesser_kilometrierung_sekundaere_gewaesser",
                    metadata_id: "4002b1cf-08b5-421a-bc92-40271d62f03c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Kilometrierung der Gew√§sser",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Kilometrierung der Gew√§sser__Kilometrierung prim√§re Gew√§sser"
                    },
                    {
                      name: "eau_new_Kilometrierung der Gew√§sser__Kilometrierung sekund√§re Gew√§sser"
                    }
                  ]
                },
                {
                  id: 636,
                  name: "eau_new_Einzugsgebiete",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:einzugsgebiete",
                    max_dpi: 128,
                    metadata_id: "a295a30a-f819-400c-842c-d0ccc695bea5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Einzugsgebiete",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Einzugsgebiete__Einzugsgebiete"
                    }
                  ]
                },
                {
                  id: 569,
                  name: "eau_new_Stausee_Sauer",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:stausee_sauer",
                    max_dpi: 128,
                    metadata_id: "119ad2e3-b44f-4777-883d-d2d522bafeca"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Stausee_Sauer",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Stausee_Sauer__Stausee Sauer"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 451,
              name: "eau_new_Fischerei",
              children: [
                {
                  id: 626,
                  name: "eau_new_Fischereiabschnitte",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:fischereiabschnitte",
                    max_dpi: 128,
                    metadata_id: "bd6be85a-cec4-4e4d-9657-cffa242db28f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Fischereiabschnitte",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Fischereiabschnitte__Fischereiabschnitte"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 483,
          name: "eau_new_Grundwasser",
          children: [
            {
              id: 628,
              name: "eau_new_Bohrungen",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:bohrungen",
                max_dpi: 128,
                metadata_id: "4ab49f17-a50e-4439-9a9e-01ec93421aec"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Bohrungen",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Bohrungen__39"
                }
              ]
            },
            {
              id: 629,
              name: "eau_new_Quellen",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:quellen",
                max_dpi: 128,
                metadata_id: "58fa573a-a0c3-474d-9e74-c277cf90b135"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Quellen",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Quellen__Quellen"
                }
              ]
            },
            {
              id: 631,
              name: "eau_new_Grundwasserleiter",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:grundwasserleiter",
                max_dpi: 128,
                metadata_id: "783a8608-e4b3-44ed-8864-68525da33760"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Grundwasserleiter",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Grundwasserleiter__Grundwasserleiter"
                }
              ]
            },
            {
              id: 2396,
              name: "eau_new_Einschraenkung_Waermepumpe_(public)",
              metadata: {
                legend_name: "eau:einschraenkung_waermepumpe",
                max_dpi: 128,
                metadata_id: "ed3ff125-47cc-4247-abaf-77e05cf60984"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Einschraenkung_Waermepumpe_(public)",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Einschraenkung_Waermepumpe_(public)__Einschr√§nkung W√§rmepumpe"
                }
              ]
            },
            {
              id: 2288,
              name: "eau_new_Einschraenkung_Waermepumpe_nouvelle_couche",
              metadata: {
                legend_name: "eau:einschraenkung_waermepumpe_15m",
                max_dpi: 128,
                metadata_id: "b2d715ed-660e-46e6-8c5f-ee3327e0fcb9"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Einschraenkung_Waermepumpe_nouvelle_couche",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Einschraenkung_Waermepumpe_nouvelle_couche__Einschr√§nkung W√§rmepumpen 15m"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 448,
          name: "eau_new_Trinkwasser",
          children: [
            {
              id: 567,
              name: "eau_new_Trinkwasserentnahmepunkte",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:trinkwasserentnahmepunkte",
                max_dpi: 128,
                metadata_id: "a049086b-9c17-4ba6-b9bf-78cb4af8ee68"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Trinkwasserentnahmepunkte",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Trinkwasserentnahmepunkte__Trinkwasserentnahmepunkte"
                }
              ]
            },
            {
              id: 598,
              name: "eau_new_Trinkwasserbehaelter",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:trinkwasserbehaelter",
                max_dpi: 128,
                metadata_id: "abe5466d-e045-4872-a17c-7379adc497f5"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Trinkwasserbehaelter",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Trinkwasserbehaelter__Trinkwasserbeh√§lter"
                }
              ]
            },
            {
              id: 538,
              name: "eau_new_Trinkwassersyndikate",
              metadata: {
                is_queryable: !0,
                legend_name: "eau_new:trinkwassersyndikate",
                max_dpi: 128,
                metadata_id: "63ecd69e-5714-4311-b05a-5bfa191ac546"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Trinkwassersyndikate",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Trinkwassersyndikate__Trinkwassersyndikate"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 373,
          name: "eau_new_Trinkwasser_Schutzzonen_(ZPS)",
          children: [
            {
              id: 214,
              name: "eau_new_Provisorische_ZPS",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:provisorische_zps",
                max_dpi: 128,
                metadata_id: "ddc51f25-2fb7-4d14-866a-a08f8af8ef03"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Provisorische_ZPS",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Provisorische_ZPS__Provisorische ZPS"
                }
              ]
            },
            {
              id: 664,
              name: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:zps_laufende_oeffentliche_verfahrungsweise",
                max_dpi: 128,
                metadata_id: "87beb1ac-7496-48f6-b5a9-8666e3897523"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise__ZPS laufende √∂ffentliche Verfahrungsweise"
                }
              ]
            },
            {
              id: 573,
              name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:zps_durch_grosshrzgl._verordnung_festgelegt",
                max_dpi: 128,
                metadata_id: "d70f99e0-6032-4a4b-b516-5dfdfce33b26"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__ZPS durch grosshrzgl. Verordnung festgelegt"
                }
              ]
            },
            {
              id: 1464,
              name: "eau_prgd_zones_protection_lac",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:prgd_stausee",
                metadata_id: "eab29425-71cc-4610-b48e-8d848d0a8431"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_prgd_zones_protection_lac",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_prgd_zones_protection_lac__PRGD Schutzzonen Stausee"
                }
              ]
            },
            {
              id: 490,
              name: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:sanitaere_schutzzonen_stausee",
                max_dpi: 128,
                metadata_id: "e34de488-68ea-48a8-9e92-f67bb209508e"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer__Sanit√§re Schutzzonen Stausee"
                }
              ]
            },
            {
              id: 559,
              name: "eau_new_Zones_interdiction_utilisation_metazachlore",
              metadata: {
                is_queryable: !0,
                legend_name: "eau_new:metazachlore",
                max_dpi: 128,
                metadata_id: "803e93f8-588f-4697-8d76-972be1ad3531",
                start_opacity: 0.7
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Zones_interdiction_utilisation_metazachlore",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Zones_interdiction_utilisation_metazachlore__Zones interdiction utilisation metazachlore"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 469,
          name: "eau_new_Schutzgebiete",
          children: [
            {
              id: 656,
              name: "eau_new_Badegewaesser",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:badegewaesser",
                max_dpi: 128,
                metadata_id: "72f770ee-7290-4ecb-9358-580b7cfcadf7"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Badegewaesser",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Badegewaesser__Badegew√§sser"
                }
              ]
            },
            {
              id: 581,
              name: "eau_new_Badegewaesser_-_Qualitaet",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:badegewaesser_-_qualitaet",
                max_dpi: 128,
                metadata_id: "c0c9c705-8b26-4a0b-b9bb-e2243cd5386a"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Badegewaesser_-_Qualitaet",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Badegewaesser_-_Qualitaet__Badegew√§sser - Qualit√§t"
                }
              ]
            },
            {
              id: 612,
              name: "eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:empfindliche_gebiete_kommunalabwasserrichtlinie",
                max_dpi: 128,
                metadata_id: "39952e6c-8e73-4a23-a19c-78c4f06c84d9"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)__Empfindliche Gebiete [Kommunalabwasserrichtlinie]"
                }
              ]
            },
            {
              id: 492,
              name: "eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:gefaehrdete_gebiete_nitratrichtlinie",
                max_dpi: 128,
                metadata_id: "9426a9a6-7cb1-4c1a-a504-40dabc4429c0"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)__Gef√§hrdete Gebiete [Nitratrichtlinie]"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 470,
          name: "eau_new_Gewaesserschutz",
          children: [
            {
              id: 643,
              name: "eau_new_Abwassersyndikate",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:abwassersyndikate",
                max_dpi: 128,
                metadata_id: "4b5e384c-5603-4cf4-9bd5-6e520df5c375"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Abwassersyndikate",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Abwassersyndikate__Abwassersyndikate"
                }
              ]
            },
            {
              id: 645,
              name: "eau_new_Klaeranlagen",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:klaeranlagen",
                max_dpi: 128,
                metadata_id: "53e55765-90eb-438f-a744-3ac878b06334"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Klaeranlagen",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Klaeranlagen__Kl√§ranlagen"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 486,
          name: "eau_new_Hochwasserrisikomanagement-Richtlinie [HWRM-RL]",
          children: [
            {
              id: 1696,
              name: "eau_new_Risikogewaesser_2019_group",
              children: [
                {
                  id: 1703,
                  name: "eau_Risikogewaesser_2019",
                  metadata: {
                    legend_name: "eau:risikogewaesser_2019",
                    metadata_id: "762cd956-9733-4855-afa7-38768a38e8a1"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_Risikogewaesser_2019",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_Risikogewaesser_2019__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2114,
              name: "eau_Hochwassergefahrenkarten_2021",
              children: [
                {
                  id: 2117,
                  name: "eau_Hochwassergefahrenkarten_HQ10_2021",
                  metadata: {
                    legend_name: "eau:inondations_2019",
                    metadata_id: "153130ef-8255-4bce-bca0-d2359d277995"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwassergefahrenkarten_HQ10_2021",
                  imageType: "image/png"
                },
                {
                  id: 2118,
                  name: "eau_Hochwassergefahrenkarten_HQ100_2021",
                  metadata: {
                    legend_name: "eau:inondations_2019",
                    metadata_id: "cdb4137d-822f-4888-8a51-4596480970fe"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwassergefahrenkarten_HQ100_2021",
                  imageType: "image/png"
                },
                {
                  id: 2119,
                  name: "eau_Hochwassergefahrenkarten_HQext_2021",
                  metadata: {
                    legend_name: "eau:inondations_2019",
                    metadata_id: "cd0f52f7-7226-4748-95e0-b77025284423"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwassergefahrenkarten_HQext_2021",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2115,
              name: "eau_Hochwasserrisikokarten_2021",
              children: [
                {
                  id: 2120,
                  name: "eau_Hochwasserrisikokarten_HQ10_2021",
                  metadata: {
                    legend_name: "eau:risque_inondations_2019",
                    metadata_id: "4a428832-16cf-4861-a1da-78a1f0a8c194"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwasserrisikokarten_HQ10_2021",
                  imageType: "image/png"
                },
                {
                  id: 2121,
                  name: "eau_Hochwasserrisikokarten_HQ100_2021",
                  metadata: {
                    legend_name: "eau:risque_inondations_2019",
                    metadata_id: "ccb959ef-0ad6-47ec-ade9-45021912353f"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwasserrisikokarten_HQ100_2021",
                  imageType: "image/png"
                },
                {
                  id: 2122,
                  name: "eau_Hochwasserrisikokarten_HQext_2021",
                  metadata: {
                    legend_name: "eau:risque_inondations_2019",
                    metadata_id: "f803b49a-336a-4bb7-acd9-5cbf508a731f"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwasserrisikokarten_HQext_2021",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1711,
              name: "eau_atlas_crues_subites",
              children: [
                {
                  id: 2045,
                  name: "age_dangers_fortes",
                  metadata: {
                    legend_name: "age_dangers_fortes",
                    metadata_id: "55dbe91c-f1e5-4c56-b0b9-4590988e23e5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "age_dangers_fortes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "age_dangers_fortes__0"
                    },
                    {
                      name: "age_dangers_fortes__1"
                    }
                  ]
                },
                {
                  id: 2046,
                  name: "age_risques_fortes",
                  metadata: {
                    legend_name: "age_risques_fortes",
                    metadata_id: "f1d9b1cd-ad78-44df-89ac-ad591138243f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "age_risques_fortes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "age_risques_fortes__0"
                    },
                    {
                      name: "age_risques_fortes__1"
                    },
                    {
                      name: "age_risques_fortes__2"
                    },
                    {
                      name: "age_risques_fortes__3"
                    },
                    {
                      name: "age_risques_fortes__4"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 461,
              name: "eau_new_Historische_Ueberschwemmungsgebiete",
              children: [
                {
                  id: 637,
                  name: "eau_new_UESG_1983_-_Mosel",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:uesg_1983_-_mosel",
                    max_dpi: 128,
                    metadata_id: "e6896207-c0f9-417e-9661-119128628e8e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_UESG_1983_-_Mosel",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_UESG_1983_-_Mosel__UESG 1983 - Mosel"
                    }
                  ]
                },
                {
                  id: 641,
                  name: "eau_new_UESG_1993_(ausser_Mosel)",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:uesg_1993_ausser_mosel",
                    max_dpi: 128,
                    metadata_id: "78c692f3-ad20-467b-b03a-0d020a821647"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_UESG_1993_(ausser_Mosel)",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_UESG_1993_(ausser_Mosel)__UESG 1993 [ausser Mosel]"
                    }
                  ]
                },
                {
                  id: 642,
                  name: "eau_new_UESG_Alzette_1995",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:uesg_alzette_1995",
                    max_dpi: 128,
                    metadata_id: "aaf81780-df85-4580-a890-fded8ae03db7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_UESG_Alzette_1995",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_UESG_Alzette_1995__UESG Alzette 1995"
                    }
                  ]
                },
                {
                  id: 633,
                  name: "eau_new_UESG_Sauer_1995",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:uesg_sauer_1995",
                    max_dpi: 128,
                    metadata_id: "f01f7be2-0423-4571-8fff-57dd617ae632"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_UESG_Sauer_1995",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_UESG_Sauer_1995__UESG Sauer 1995"
                    }
                  ]
                },
                {
                  id: 2116,
                  name: "eau_Hochwasserkarten_2021",
                  children: [
                    {
                      id: 2114,
                      name: "eau_Hochwassergefahrenkarten_2021",
                      children: [
                        {
                          id: 2117,
                          name: "eau_Hochwassergefahrenkarten_HQ10_2021",
                          metadata: {
                            legend_name: "eau:inondations_2019",
                            metadata_id: "153130ef-8255-4bce-bca0-d2359d277995"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwassergefahrenkarten_HQ10_2021",
                          imageType: "image/png"
                        },
                        {
                          id: 2118,
                          name: "eau_Hochwassergefahrenkarten_HQ100_2021",
                          metadata: {
                            legend_name: "eau:inondations_2019",
                            metadata_id: "cdb4137d-822f-4888-8a51-4596480970fe"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwassergefahrenkarten_HQ100_2021",
                          imageType: "image/png"
                        },
                        {
                          id: 2119,
                          name: "eau_Hochwassergefahrenkarten_HQext_2021",
                          metadata: {
                            legend_name: "eau:inondations_2019",
                            metadata_id: "cd0f52f7-7226-4748-95e0-b77025284423"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwassergefahrenkarten_HQext_2021",
                          imageType: "image/png"
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    },
                    {
                      id: 2115,
                      name: "eau_Hochwasserrisikokarten_2021",
                      children: [
                        {
                          id: 2120,
                          name: "eau_Hochwasserrisikokarten_HQ10_2021",
                          metadata: {
                            legend_name: "eau:risque_inondations_2019",
                            metadata_id: "4a428832-16cf-4861-a1da-78a1f0a8c194"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwasserrisikokarten_HQ10_2021",
                          imageType: "image/png"
                        },
                        {
                          id: 2121,
                          name: "eau_Hochwasserrisikokarten_HQ100_2021",
                          metadata: {
                            legend_name: "eau:risque_inondations_2019",
                            metadata_id: "ccb959ef-0ad6-47ec-ade9-45021912353f"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwasserrisikokarten_HQ100_2021",
                          imageType: "image/png"
                        },
                        {
                          id: 2122,
                          name: "eau_Hochwasserrisikokarten_HQext_2021",
                          metadata: {
                            legend_name: "eau:risque_inondations_2019",
                            metadata_id: "f803b49a-336a-4bb7-acd9-5cbf508a731f"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwasserrisikokarten_HQext_2021",
                          imageType: "image/png"
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 463,
              name: "eau_new_Zusaetzliche_Informationen",
              children: [
                {
                  id: 755,
                  name: "eau_new_Gew√§sser mit einem signifikanten Hochwasserrisiko",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:gewaesser_mit_einem_signifikanten_hochwasserrisiko",
                    metadata_id: "2006081e-2818-4f2b-978a-8ba505d840a8"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Gew√§sser mit einem signifikanten Hochwasserrisiko",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Gew√§sser mit einem signifikanten Hochwasserrisiko__Gew√§sser mit einem signifikanten Hochwasserrisiko"
                    }
                  ]
                },
                {
                  id: 756,
                  name: "eau_new_Hochwasser Brennpunkte",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:hochwasser_brennpunkte",
                    metadata_id: "b2bfd06d-5f05-4abf-8f41-103d40a380e7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Hochwasser Brennpunkte",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Hochwasser Brennpunkte__Hochwasser Brennpunkte"
                    }
                  ]
                },
                {
                  id: 758,
                  name: "eau_new_Ma√ünahmens des Hochwasserrisikomanagementplans",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:massnahmens_des_hochwasserrisikomanagementplans",
                    metadata_id: "4326fea6-7ec4-4bb9-861f-4476b0d4ceac"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Ma√ünahmens des Hochwasserrisikomanagementplans",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Ma√ünahmens des Hochwasserrisikomanagementplans__Ma√ünahmens des Hochwasserrisikomanagementplans"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 474,
          name: "eau_new_Wasserrahmenrichtlinie",
          children: [
            {
              id: 1469,
              name: "eau_strahlwirkungskonzept",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:strahlwirkungskonzept",
                metadata_id: "e1744b8e-101e-406d-b742-776d488a00b5"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_strahlwirkungskonzept",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_strahlwirkungskonzept__Funktionselemente [Funktionale Verbindungsstrecken]"
                },
                {
                  name: "eau_strahlwirkungskonzept__Funktionselemente [Grenzen]"
                }
              ]
            },
            {
              id: 475,
              name: "eau_new_Bewirtschaftungsplan_2009",
              children: [
                {
                  id: 644,
                  name: "eau_new_Betrachtungsraeume_2009",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:betrachtungsraeume_2009",
                    max_dpi: 128,
                    metadata_id: "be15dd7d-df57-44e1-b724-0929cf05eef9"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Betrachtungsraeume_2009",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Betrachtungsraeume_2009__Betrachtungsr√§ume 2009"
                    }
                  ]
                },
                {
                  id: 607,
                  name: "eau_new_Typologie_Oberflaechengewasser_2009",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:typologie_oberflaechengewasser_2009",
                    max_dpi: 128,
                    metadata_id: "0d1d73f0-7644-4217-a0df-b6c497508592"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Typologie_Oberflaechengewasser_2009",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Typologie_Oberflaechengewasser_2009__Typologie Oberfl√§chengewasser 2009"
                    }
                  ]
                },
                {
                  id: 601,
                  name: "eau_new_Oberflaechenwasserkoerper_2009",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:oberflaechenwasserkoerper_2009",
                    max_dpi: 128,
                    metadata_id: "404cf7b4-f70b-4c2c-a44b-89e297fab0f8"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Oberflaechenwasserkoerper_2009",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Oberflaechenwasserkoerper_2009__Oberfl√§chenwasserk√∂rper 2009"
                    }
                  ]
                },
                {
                  id: 634,
                  name: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2009",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:erheblich_veraenderte_owk_2009",
                    max_dpi: 128,
                    metadata_id: "78da31c2-55eb-40c9-99fe-22ff409468c2"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2009",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2009__Erheblich ver√§nderte OWK 2009"
                    }
                  ]
                },
                {
                  id: 603,
                  name: "eau_new_Grundwasserkoerper_2009",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:grundwasserkoerper_2009",
                    max_dpi: 128,
                    metadata_id: "f23ca424-ec87-4c53-929c-7e627a8e06af"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Grundwasserkoerper_2009",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Grundwasserkoerper_2009__Grundwasserk√∂rper 2009"
                    }
                  ]
                },
                {
                  id: 468,
                  name: "eau_new_Zustand_der_Wasserkoerper_(WK)_2009",
                  children: [
                    {
                      id: 464,
                      name: "eau_new_Oberflaechengewaesser_2009",
                      children: [
                        {
                          id: 585,
                          name: "eau_new_Gesamtzustand_2009",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:gesamtzustand_2009",
                            max_dpi: 128,
                            metadata_id: "44862c13-7006-44a4-99e6-2877ea512714"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Gesamtzustand_2009",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Gesamtzustand_2009__Gesamtzustand 2009"
                            }
                          ]
                        },
                        {
                          id: 586,
                          name: "eau_new_Chemischer_Zustand_2009",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:chemischer_zustand_2009",
                            max_dpi: 128,
                            metadata_id: "d934fbcc-02c6-47fa-a23d-cfbe49214709"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Chemischer_Zustand_2009",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Chemischer_Zustand_2009__Chemischer Zustand 2009"
                            }
                          ]
                        },
                        {
                          id: 614,
                          name: "eau_new_Oekologischer_Zustand_2009",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:oekologischer_zustand_2009",
                            max_dpi: 128,
                            metadata_id: "92d28c19-ed51-4e9e-8a80-831144fe3553"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Oekologischer_Zustand_2009",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Oekologischer_Zustand_2009__√ñkologischer Zustand 2009"
                            }
                          ]
                        },
                        {
                          id: 593,
                          name: "eau_new_Hydromorphologischer_Zustand_2009",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:hydromorphologischer_zustand_2009",
                            max_dpi: 128,
                            metadata_id: "0227e64f-11ef-4f0a-8853-48fd7385f2b1"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Hydromorphologischer_Zustand_2009",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Hydromorphologischer_Zustand_2009__Hydromorphologischer Zustand 2009"
                            }
                          ]
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    },
                    {
                      id: 435,
                      name: "eau_new_Grundwasser_2009",
                      children: [
                        {
                          id: 657,
                          name: "eau_new_Zustand_der_WK_2009",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:zustand_der_wk_2009",
                            max_dpi: 128,
                            metadata_id: "2df25c38-15d5-447f-a269-4184ce781050"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Zustand_der_WK_2009",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Zustand_der_WK_2009__Zustand der WK 2009"
                            }
                          ]
                        },
                        {
                          id: 605,
                          name: "eau_new_Quantitativer_Zustand_der_WK_2009",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:quantitativer_zustand_der_wk_2009",
                            max_dpi: 128,
                            metadata_id: "a9ebce38-6c8b-447e-9d22-46ba333fa63c"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Quantitativer_Zustand_der_WK_2009",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Quantitativer_Zustand_der_WK_2009__Quantitativer Zustand der WK 2009"
                            }
                          ]
                        },
                        {
                          id: 441,
                          name: "eau_new_Chemischer_Zustand_der_WK_2009",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:chemischer_zustand_der_wk_2009",
                            max_dpi: 128,
                            metadata_id: "e9a72fec-29a0-4183-9e3a-6d4f49c9fea7"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Chemischer_Zustand_der_WK_2009",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Chemischer_Zustand_der_WK_2009__Chemischer Zustand der WK 2009"
                            }
                          ]
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 480,
              name: "eau_new_Bewirtschaftungsplan_2015",
              children: [
                {
                  id: 536,
                  name: "eau_new_Oberflaechenwasserkoerper_2015",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:oberflaechenwasserkoerper_2015",
                    max_dpi: 128,
                    metadata_id: "ead261ed-7be1-4435-9cf5-d1527a18bd19"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Oberflaechenwasserkoerper_2015",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Oberflaechenwasserkoerper_2015__Oberfl√§chenwasserk√∂rper 2015"
                    }
                  ]
                },
                {
                  id: 658,
                  name: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2015",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:erheblich_veraenderte_wk_2015",
                    max_dpi: 128,
                    metadata_id: "78da31c2-55eb-40c9-99fe-22ff409468c2"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2015",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Erheblich ver√§nderte Wasserk√∂rper 2015__Erheblich ver√§nderte WK 2015"
                    }
                  ]
                },
                {
                  id: 619,
                  name: "eau_new_Betrachtungsraeume_2015",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:betrachtungsraeume_2015",
                    max_dpi: 128,
                    metadata_id: "be15dd7d-df57-44e1-b724-0929cf05eef9"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Betrachtungsraeume_2015",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Betrachtungsraeume_2015__Betrachtungsr√§ume 2015"
                    }
                  ]
                },
                {
                  id: 588,
                  name: "eau_new_Typologie_Gewaesser_2015",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:typologie_gewaesser_2015",
                    max_dpi: 128,
                    metadata_id: "c7eea236-ad59-47fc-8c02-630fee3292dc"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Typologie_Gewaesser_2015",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Typologie_Gewaesser_2015__Typologie Gew√§sser 2015"
                    }
                  ]
                },
                {
                  id: 1470,
                  name: "eau_fliessgewaessertypen_2015",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:fliessgewaessertypen_2015_lawa",
                    metadata_id: "79f4588f-a264-4921-a382-d1f83cf48da3"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_fliessgewaessertypen_2015",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_fliessgewaessertypen_2015__Flie√ügew√§ssertypen 2015 [LAWA]"
                    }
                  ]
                },
                {
                  id: 759,
                  name: "eau_new_Strukturg√ºtekartierung 2015 [7-stufige Bewertung]",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:strukturguetekartierung_2015_7-stufige_bewertung",
                    metadata_id: "dd28de7b-6182-4054-89a6-dd92b80b565f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Strukturg√ºtekartierung 2015 [7-stufige Bewertung]",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Strukturg√ºtekartierung 2015 [7-stufige Bewertung]__Strukturg√ºtekartierung 2015 [7-stufige Bewertung]"
                    }
                  ]
                },
                {
                  id: 760,
                  name: "eau_new_Strukturg√ºtekartierung 2015 [5-stufige Bewertung]",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:strukturguetekartierung_2015_5-stufige_bewertung",
                    metadata_id: "ff70c904-a6b9-4989-88c0-8359ff52e57e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Strukturg√ºtekartierung 2015 [5-stufige Bewertung]",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Strukturg√ºtekartierung 2015 [5-stufige Bewertung]__Strukturg√ºtekartierung 2015 [5-stufige Bewertung]"
                    }
                  ]
                },
                {
                  id: 761,
                  name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:5-band_sohle_7-stufige_bewertung_5-band_ufer_links_7-stufige_bewertung_5-band_ufer_rechts_7-stufige_bewertung_5-band_umfeld_links_7-stufige_bewertung_5-band_umfeld_rechts_7-stufige_bewertung",
                    metadata_id: "429d3552-5f72-4be6-9c03-95c76f0a6c07"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__5-Band Sohle [7-stufige Bewertung]"
                    },
                    {
                      name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__5-Band Ufer Links [7-stufige Bewertung]"
                    },
                    {
                      name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__5-Band Ufer rechts [7-stufige Bewertung]"
                    },
                    {
                      name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__5-Band Umfeld links [7-stufige Bewertung]"
                    },
                    {
                      name: "eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__5-Band Umfeld rechts [7-stufige Bewertung]"
                    }
                  ]
                },
                {
                  id: 763,
                  name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:5-band_sohle_5-stufige_bewertung_5-band_ufer_links_5-stufige_bewertung_5-band_ufer_rechts_5-stufige_bewertung_5-band_umfeld_links_5-stufige_bewertung_5-band_umfeld_rechts_5-stufige_bewertung",
                    metadata_id: "4c64f3a4-627f-4aa7-9e0c-d3ad003d9afe"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__5-Band Sohle [5-stufige Bewertung]"
                    },
                    {
                      name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__5-Band Ufer Links [5-stufige Bewertung]"
                    },
                    {
                      name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__5-Band Ufer rechts [5-stufige Bewertung]"
                    },
                    {
                      name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__5-Band Umfeld links [5-stufige Bewertung]"
                    },
                    {
                      name: "eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__5-Band Umfeld rechts [5-stufige Bewertung]"
                    }
                  ]
                },
                {
                  id: 785,
                  name: "eau_new_WRRL und HWRM-RL Massnahmen",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:wrrl_und_hwrm-rl_-_massnahmen",
                    metadata_id: "9a339e4e-eb04-42a0-ac0d-5a5f354c9548"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_WRRL und HWRM-RL Massnahmen",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_WRRL und HWRM-RL Massnahmen__WRRL und HWRM-RL - Massnahmen"
                    }
                  ]
                },
                {
                  id: 1471,
                  name: "eau_detailliertes_massnahmenprogramm_sww",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:detailliertes_massnahmenprogramm_sww",
                    metadata_id: "5b9d1544-da64-4a58-b519-9a03e5491e07"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_detailliertes_massnahmenprogramm_sww",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_detailliertes_massnahmenprogramm_sww__Detailliertes Ma√ünahmenprogramm SWW"
                    }
                  ]
                },
                {
                  id: 659,
                  name: "eau_new_Grundwasserkoerper_2015",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:grundwasserkoerper_2015",
                    max_dpi: 128,
                    metadata_id: "bb5f17b7-ddac-46cc-a59d-25f82d422b5b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Grundwasserkoerper_2015",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Grundwasserkoerper_2015__Grundwasserk√∂rper 2015"
                    }
                  ]
                },
                {
                  id: 476,
                  name: "eau_new_Zustand_der_Wasserkoerper_(WK)_2015",
                  children: [
                    {
                      id: 479,
                      name: "eau_new_Oberflaechengewaesser_2015",
                      children: [
                        {
                          id: 622,
                          name: "eau_new_Oekologischer_Zustand_2015",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:oekologischer_zustand_2015",
                            max_dpi: 128,
                            metadata_id: "5b78d0a5-1984-4efc-9e7d-0cb9d7ca829d"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Oekologischer_Zustand_2015",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Oekologischer_Zustand_2015__√ñkologischer Zustand 2015"
                            }
                          ]
                        },
                        {
                          id: 663,
                          name: "eau_new_Gesamtzustand_2015",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:gesamtzustand_2015",
                            max_dpi: 128,
                            metadata_id: "bea7140f-b938-4494-ac14-a2252a1d0fcb"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Gesamtzustand_2015",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Gesamtzustand_2015__Gesamtzustand 2015"
                            }
                          ]
                        },
                        {
                          id: 621,
                          name: "eau_new_Chemischer Zustand 2015_Richtlinie 2008_105_EG",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:chemischer_zustand_2015",
                            max_dpi: 128,
                            metadata_id: "7df87ec3-bfad-4d1b-a10b-68670c8073f4"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "621",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Chemischer Zustand 2015_Richtlinie 2008_105_EG__172"
                            }
                          ]
                        },
                        {
                          id: 764,
                          name: "eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe 2015_Richtlinie_2008_105_EG",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2015_richtlinie_2008_105_eg",
                            metadata_id: "68f761b4-e1d1-4cda-b4aa-1e61fc812588"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "764",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe 2015_Richtlinie_2008_105_EG__318"
                            }
                          ]
                        },
                        {
                          id: 765,
                          name: "eau_new_Chemischer_Zustand_2015_Richtlinie 2013_39_EU",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:chemischer_zustand_2015_richtlinie_2013_39_eu",
                            metadata_id: "7df87ec3-bfad-4d1b-a10b-68670c8073f4"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "765",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Chemischer_Zustand_2015_Richtlinie 2013_39_EU__319"
                            }
                          ]
                        },
                        {
                          id: 766,
                          name: "eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe_2015_Richtlinie 2013_39_EU",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2015_richtlinie_2013_39_eu",
                            metadata_id: "d78ac813-7ab3-4162-945a-f87512e66654"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "766",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe_2015_Richtlinie 2013_39_EU__320"
                            }
                          ]
                        },
                        {
                          id: 466,
                          name: "eau_new_Qualitaetskomponenten_des_oekologischen_Zustands_2015",
                          children: [
                            {
                              id: 767,
                              name: "eau_new_Hydromorphologische Gesamtbewertung 2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:hydromorphologischer_zustand_2015",
                                metadata_id: "767e0a8a-31e0-4a53-913f-6ab1c76ca27c"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Hydromorphologische Gesamtbewertung 2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Hydromorphologische Gesamtbewertung 2015__Hydromorphologischer Zustand 2015"
                                }
                              ]
                            },
                            {
                              id: 769,
                              name: "eau_new_Morphologie 2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:morphologie_2015",
                                metadata_id: "b7812f62-a8b5-4ef4-bbb8-c2e3a9688c93"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Morphologie 2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Morphologie 2015__Morphologie 2015"
                                }
                              ]
                            },
                            {
                              id: 770,
                              name: "eau_new_Durchg√§ngigkeit 2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:durchgaengigkeit_2015",
                                metadata_id: "4983c058-3d33-4b6f-b801-de1113a11f27"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Durchg√§ngigkeit 2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Durchg√§ngigkeit 2015__Durchg√§ngigkeit 2015"
                                }
                              ]
                            },
                            {
                              id: 583,
                              name: "eau_new_Physiko-Chemie_2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:physiko-chemie_2015",
                                max_dpi: 128,
                                metadata_id: "45702d13-2608-4300-ba54-0e078c96386c"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Physiko-Chemie_2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Physiko-Chemie_2015__Physiko-Chemie 2015"
                                }
                              ]
                            },
                            {
                              id: 771,
                              name: "eau_new_Phytoplankton 2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:phytoplankton_2015",
                                metadata_id: "e5d8434c-c367-4a56-a7d1-aa60f70a301f"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Phytoplankton 2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Phytoplankton 2015__Phytoplankton 2015"
                                }
                              ]
                            },
                            {
                              id: 662,
                              name: "eau_new_Makrophyten_2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:aquatische_flora_2015",
                                max_dpi: 128,
                                metadata_id: "fe673001-2447-4e3c-bce6-4606b6bf222d"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Makrophyten_2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Makrophyten_2015__aquatische Flora 2015"
                                }
                              ]
                            },
                            {
                              id: 600,
                              name: "eau_new_Makro-Invertebraten_2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:makro-invertebraten_2015",
                                max_dpi: 128,
                                metadata_id: "b8a59482-2696-4b9a-a527-3201597a4caf"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Makro-Invertebraten_2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Makro-Invertebraten_2015__Makro-Invertebraten 2015"
                                }
                              ]
                            },
                            {
                              id: 646,
                              name: "eau_new_Fische_2015",
                              metadata: {
                                is_queryable: !0,
                                legend_name: "eau:fische_2015",
                                max_dpi: 128,
                                metadata_id: "f44a6aa7-6dcc-4d99-9033-c13ef23ebef4"
                              },
                              dimensions: {},
                              type: "WMS",
                              layers: "eau_new_Fische_2015",
                              imageType: "image/png",
                              style: "default",
                              childLayers: [
                                {
                                  name: "eau_new_Fische_2015__Fische 2015"
                                }
                              ]
                            }
                          ],
                          metadata: {},
                          mixed: !0
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    },
                    {
                      id: 471,
                      name: "eau_new_Grundwasser_2015",
                      children: [
                        {
                          id: 591,
                          name: "eau_new_Zustand_der_WK_2015",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:zustand_der_wk_2015",
                            max_dpi: 128,
                            metadata_id: "489c9b85-6c3c-4019-b3ee-096936b2683c"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Zustand_der_WK_2015",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Zustand_der_WK_2015__Zustand der WK 2015"
                            }
                          ]
                        },
                        {
                          id: 592,
                          name: "eau_new_Quantitativer_Zustand_der_WK_2015",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:quantitativer_zustand_der_wk_2015",
                            max_dpi: 128,
                            metadata_id: "333c7e4f-cdc3-439a-aa13-ca0f9138c764"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Quantitativer_Zustand_der_WK_2015",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Quantitativer_Zustand_der_WK_2015__Quantitativer Zustand der WK 2015"
                            }
                          ]
                        },
                        {
                          id: 632,
                          name: "eau_new_Chemischer_Zustand_der_WK_2015",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:chemischer_zustand_der_wk_2015",
                            max_dpi: 128,
                            metadata_id: "ddd64c4a-f5af-4bbb-a7d3-3db1016ee541"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Chemischer_Zustand_der_WK_2015",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Chemischer_Zustand_der_WK_2015__Chemischer Zustand der WK 2015"
                            }
                          ]
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 458,
                  name: "eau_new_Risikobeurteilung",
                  children: [
                    {
                      id: 467,
                      name: "eau_new_Grundwasser_2021",
                      children: [
                        {
                          id: 773,
                          name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2021",
                          metadata: {
                            legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_zustandes_2021",
                            metadata_id: "be59d518-15cb-4417-a6ba-e8f5b61ea76a"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2021__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2021"
                            }
                          ]
                        },
                        {
                          id: 661,
                          name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_mengenmaessigen_zustandes",
                            max_dpi: 128,
                            metadata_id: "f9420947-188b-498a-97aa-98d30601995a"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2021__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§ssigen Zustandes"
                            }
                          ]
                        },
                        {
                          id: 660,
                          name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2021",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_chemischen_zustandes",
                            max_dpi: 128,
                            metadata_id: "1070a8cd-4ee7-4865-8e0c-e2c31d09ab68"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2021",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2021__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes"
                            }
                          ]
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    },
                    {
                      id: 772,
                      name: "eau_new_Grundwasser 2027",
                      children: [
                        {
                          id: 774,
                          name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2027",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_zustandes_2027",
                            metadata_id: "019a4e7d-4ddf-492a-a11d-1e5e36793842"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2027",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2027__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten Zustandes 2027"
                            }
                          ]
                        },
                        {
                          id: 776,
                          name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2027",
                          metadata: {
                            is_queryable: !0,
                            legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_mengenmaessigen_zustandes_2027",
                            metadata_id: "199d0bbb-5ed1-4c94-b92b-e30edc57bbb0"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2027",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§√üigen Zustandes 2027__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten mengenm√§ssigen Zustandes 2027"
                            }
                          ]
                        },
                        {
                          id: 777,
                          name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2027",
                          metadata: {
                            legend_name: "eau:risikobeurteilung_des_wk_hinsichtlich_der_verfehlung_des_guten_chemischen_zustandes_2027",
                            metadata_id: "2cba7832-6e24-4ebe-b65c-6119c6c3b287"
                          },
                          dimensions: {},
                          type: "WMS",
                          layers: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2027",
                          imageType: "image/png",
                          style: "default",
                          childLayers: [
                            {
                              name: "eau_new_Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2027__Risikobeurteilung des WK hinsichtlich der Verfehlung des guten chemischen Zustandes 2027"
                            }
                          ]
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2085,
              name: "eau_Bewirtschaftungsplan_2021",
              children: [
                {
                  id: 2090,
                  name: "eau_Oberflaechenwasserkoerper_2021",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:oberflaechenwasserkoerper_2021",
                    max_dpi: 128,
                    metadata_id: "c50b2bc7-aeb7-4d3e-9349-09eb3ec0f927"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_Oberflaechenwasserkoerper_2021",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_Oberflaechenwasserkoerper_2021__386"
                    }
                  ]
                },
                {
                  id: 2091,
                  name: "eau_Erheblich ver√§nderte Wasserk√∂rper 2021",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:erheblich_veraenderte_wk_2021",
                    max_dpi: 128,
                    metadata_id: "311cc30b-8092-4816-9f86-87d5f2995706"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_Erheblich ver√§nderte Wasserk√∂rper 2021",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_Erheblich ver√§nderte Wasserk√∂rper 2021__387"
                    }
                  ]
                },
                {
                  id: 2086,
                  name: "eau_Entwurf_Massnahmenprogramm_HY_2021",
                  children: [
                    {
                      id: 2092,
                      name: "eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:wiederherstellung_der_oekologischen_durchgaengigkeit",
                        metadata_id: "c150f6a5-41c7-477a-9d44-c0a26a502d85"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk_2021__389"
                        }
                      ]
                    },
                    {
                      id: 2093,
                      name: "eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:wiederherstellung_der_oekologischen_durchgaengigkeit_durchlass",
                        metadata_id: "569bf0ea-c428-4171-aba6-8f2ace180a10"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021__390"
                        }
                      ]
                    },
                    {
                      id: 2094,
                      name: "eau_Strukturelemente_Sohle_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:einbau_von_strukturelementen_in_sohle",
                        metadata_id: "2d233ca6-553e-43bf-ba25-f46b88f63710"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Strukturelemente_Sohle_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Strukturelemente_Sohle_2021__391"
                        }
                      ]
                    },
                    {
                      id: 2095,
                      name: "eau_Umgestalten_Sohlverbau_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:entfernen_umgestalten_von_sohlverbau",
                        metadata_id: "0d30a3ee-e860-4816-b5c8-9f43e93020e3"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Umgestalten_Sohlverbau_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Umgestalten_Sohlverbau_2021__392"
                        }
                      ]
                    },
                    {
                      id: 2096,
                      name: "eau_Stroemungslenkern_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:einbau_von_stroemungslenkern_fuer_eigendynamik",
                        metadata_id: "b86c62a9-0ec8-4d35-878f-b275e74ff02e"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Stroemungslenkern_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Stroemungslenkern_2021__393"
                        }
                      ]
                    },
                    {
                      id: 2097,
                      name: "eau_Umgestalten_Uferverbau_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:entfernen_umgestalten_von_uferverbau",
                        metadata_id: "bec0ccbc-09b5-4351-8b72-f0e458fc7d19"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Umgestalten_Uferverbau_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Umgestalten_Uferverbau_2021__394"
                        }
                      ]
                    },
                    {
                      id: 2098,
                      name: "eau_naturnah_Gewaesserbett_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:wiederherstellung_von_naturnaher_laufentwicklung_und_gewaesserbett",
                        metadata_id: "3ddf627c-90ae-4b58-a05e-20925493dcf9"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_naturnah_Gewaesserbett_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_naturnah_Gewaesserbett_2021__395"
                        }
                      ]
                    },
                    {
                      id: 2099,
                      name: "eau_Gewaesserrandstreifen_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:anlage_eines_gewaesserrandstreifens",
                        metadata_id: "3bc0e52d-954b-47d3-8905-1ecfe7108ce0"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Gewaesserrandstreifen_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Gewaesserrandstreifen_2021__396"
                        }
                      ]
                    },
                    {
                      id: 2100,
                      name: "eau_Gewaesserentwicklungskorridor_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:anlage_eines_gewaesser_entwicklungskorridors",
                        metadata_id: "13299bf5-57ca-4538-993e-7c00f6247722"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Gewaesserentwicklungskorridor_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Gewaesserentwicklungskorridor_2021__397"
                        }
                      ]
                    },
                    {
                      id: 2101,
                      name: "eau_natuerlich_Ueberflutungsraeume_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:sicherung_und_erweiterung_natuerlicher_ueberflutungsraeume_und_augewaesser",
                        metadata_id: "7fb0080e-d178-401d-83de-7595ef1885b5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_natuerlich_Ueberflutungsraeume_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_natuerlich_Ueberflutungsraeume_2021__398"
                        }
                      ]
                    },
                    {
                      id: 2102,
                      name: "eau_eigendynamische_Entwicklung_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:zulassen_von_eigendynamischer_entwicklung",
                        metadata_id: "d13e22e9-d22a-48a0-838d-3d7c914ccfe3"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_eigendynamische_Entwicklung_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_eigendynamische_Entwicklung_2021__399"
                        }
                      ]
                    },
                    {
                      id: 2103,
                      name: "eau_naturnahe_Abflussverhaeltnisse_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:widerherstellung_und_sicherung_naturnaher_abflussverhaeltnisse",
                        metadata_id: "b3f8a9e0-17f7-4b64-a34b-6ee6de972b52"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_naturnahe_Abflussverhaeltnisse_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_naturnahe_Abflussverhaeltnisse_2021__400"
                        }
                      ]
                    },
                    {
                      id: 2104,
                      name: "eau_naturnaher_Wasserhaushalt_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:wiederherstellung_und_sicherung_naturnahem_wasserhaushalt",
                        metadata_id: "91008390-557e-4db3-8d7c-e608a5478edb"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_naturnaher_Wasserhaushalt_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_naturnaher_Wasserhaushalt_2021__401"
                        }
                      ]
                    },
                    {
                      id: 2105,
                      name: "eau_Abflussregulierung_2021",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "eau:abflussregulierung",
                        metadata_id: "393be87d-44ce-42e1-9b81-9585aa2d7678"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "eau_Abflussregulierung_2021",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "eau_Abflussregulierung_2021__402"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 2106,
                  name: "eau_Masssnahmenprogramm_SWW_2021",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:detailliertes_massnahmenprogramm_sww_2021",
                    metadata_id: "10f4a12e-1a67-42d5-b575-8993e2f3aa68"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_Masssnahmenprogramm_SWW_2021",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_Masssnahmenprogramm_SWW_2021__403"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 482,
          name: "eau_new_Nitratrichtlinie",
          children: [
            {
              id: 589,
              name: "eau_new_Messstationen_Oberflaechengewaesser_-_Nitratrichtlinie",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:messstationen_oberflaechengewaesser_-_nitratrichtlinie",
                max_dpi: 128,
                metadata_id: "e3d8df5f-eb08-4e11-831f-ae2a90294ccf"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Messstationen_Oberflaechengewaesser_-_Nitratrichtlinie",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Messstationen_Oberflaechengewaesser_-_Nitratrichtlinie__Messstationen Oberfl√§chengew√§sser - Nitratrichtlinie"
                }
              ]
            },
            {
              id: 582,
              name: "eau_new_Messstationen_Grundwasser_-_Nitratrichtlinie",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:messstationen_grundwasser_-_nitratrichtlinie",
                max_dpi: 128,
                metadata_id: "e15fcc8c-217c-4577-b5a0-e62f08e480c1"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Messstationen_Grundwasser_-_Nitratrichtlinie",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Messstationen_Grundwasser_-_Nitratrichtlinie__Messstationen Grundwasser - Nitratrichtlinie"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 478,
          name: "eau_new_Plan_im_Fall_einer_Trockenheit",
          children: [
            {
              id: 797,
              name: "eau_new_trockenheit_gelb",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:vorbeugungsphase_phase_gelb",
                metadata_id: "2ec1e46e-2411-4828-b702-cc3f41b3ad04"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_trockenheit_gelb",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_trockenheit_gelb__Vorbeugungsphase [Phase gelb]"
                }
              ]
            },
            {
              id: 617,
              name: "eau_new_Trinkwasserknappheit_(Zustand_orange)",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:trinkwasserknappheit_zustand_orange",
                max_dpi: 128,
                metadata_id: "c5a93247-af34-494d-bce2-9bc112fa50d8"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Trinkwasserknappheit_(Zustand_orange)",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Trinkwasserknappheit_(Zustand_orange)__Trinkwasserknappheit [Zustand orange]"
                }
              ]
            },
            {
              id: 481,
              name: "eau_new_Erhoehte_Trinkwasserknappheit_(Zustand_rot)",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:erhoehte_trinkwasserknappheit_zustand_rot",
                max_dpi: 128,
                metadata_id: "620eea7b-266a-4ba5-9646-8006ff5915d4"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Erhoehte_Trinkwasserknappheit_(Zustand_rot)",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Erhoehte_Trinkwasserknappheit_(Zustand_rot)__Erh√∂hte Trinkwasserknappheit [Zustand rot]"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        bg_layer: "pixelmaps-gray",
        css: "eau.css",
        display_in_switcher: !0,
        link_title: "Administration de la gestion d'eau",
        page_title: "eau.geoportail.lu",
        print_img: "bandeauEau.png",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: [
          "1000",
          "1500",
          "2500",
          "5000",
          "10000",
          "15000",
          "20000",
          "25000",
          "50000",
          "80000",
          "100000",
          "125000",
          "200000",
          "250000",
          "400000"
        ],
        print_short_txt_de: "eau.geoportal.lu",
        print_short_txt_en: "eau.geoportal.lu",
        print_short_txt_fr: "eau.geoportail.lu",
        print_short_txt_lu: "eau.geoportal.lu"
      }
    },
    {
      id: 130,
      name: "pag",
      icon: "pag",
      children: [
        {
          id: 706,
          name: "basisden_pag",
          children: [
            {
              id: 309,
              name: "administrative_einheiten",
              children: [
                {
                  id: 269,
                  name: "communes_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "17c7d883-ff7f-4b48-a894-46bea40d2e49"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "communes_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "communes_labels__COMMUNES_LABELS"
                    }
                  ]
                },
                {
                  id: 302,
                  name: "communes",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "de5373d6-340f-4203-a065-da7550a03cc4_2049"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "communes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "communes__COMMUNES"
                    }
                  ]
                },
                {
                  id: 346,
                  name: "cantons_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3af20a80-be4a-4819-a42b-18e49af799aa"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cantons_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cantons_labels__CANTONS_LABELS"
                    }
                  ]
                },
                {
                  id: 329,
                  name: "cantons",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "e8a034e8-f986-4745-a848-b7ef30ce2740"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "CANTONS",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cantons__CANTONS"
                    }
                  ]
                },
                {
                  id: 268,
                  name: "districts_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "c42842e2-834a-427a-99f6-eb8cb79d1db4"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "districts_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "districts_labels__DISTRICTS_LABELS"
                    }
                  ]
                },
                {
                  id: 354,
                  name: "districts",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "b9edd03f-3aef-4fd6-a3d9-db076b1cf237"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "districts",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "districts__DISTRICTS"
                    }
                  ]
                },
                {
                  id: 349,
                  name: "country",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "4c9b3c0b-85d4-447d-a68c-7416869f8d9b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "country",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "country__PAYS"
                    }
                  ]
                },
                {
                  id: 732,
                  name: "limadmin_judiciaire",
                  metadata: {
                    metadata_id: "235c0ac9-5bf6-45b6-9ceb-8680a07944ec"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "limadmin_judiciaire",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "limadmin_judiciaire__ARRONDISSEMENTS JUDICIAIRES"
                    }
                  ]
                },
                {
                  id: 733,
                  name: "limadmin_legislatif",
                  metadata: {
                    metadata_id: "627b78d9-ae18-4be2-9a69-02aa6d4e38bb"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "limadmin_legislatif",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "limadmin_legislatif__CIRCONSCRIPTIONS LEGISLATIVES"
                    }
                  ]
                },
                {
                  id: 744,
                  name: "tour_ort",
                  metadata: {
                    legend_name: "ort",
                    metadata_id: "44dbfde5-664e-4e45-8802-3d60b52eb9cb"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_ort",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_ort__0"
                    },
                    {
                      name: "tour_ort__1"
                    }
                  ]
                },
                {
                  id: 746,
                  name: "tour_leader",
                  metadata: {
                    legend_name: "leader",
                    metadata_id: "a48aec89-7341-459e-a7d3-0e572982b255"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_leader",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_leader__0"
                    },
                    {
                      name: "tour_leader__1"
                    },
                    {
                      name: "tour_leader__2"
                    }
                  ]
                },
                {
                  id: 747,
                  name: "tour_parcsnaturels",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "parcnaturel",
                    metadata_id: "f519c4e7-4459-49b5-b8c1-569328252d44"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_parcnaturels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_parcsnaturels__0"
                    },
                    {
                      name: "tour_parcsnaturels__1"
                    }
                  ]
                },
                {
                  id: 678,
                  name: "anf_stations_biologiques",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "05e497fc-625d-4701-90af-dbe8813201ab"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_stations_biologiques",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_stations_biologiques__STATIONS_BIOLOGIQUES"
                    }
                  ]
                },
                {
                  id: 1364,
                  name: "act_frontieres_isodistances",
                  metadata: {
                    metadata_id: "09318d11-a908-4dea-a8f9-0558d20b980f",
                    start_opacity: 0.5
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "act_frontieres_isodistances",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "act_frontieres_isodistances__0"
                    },
                    {
                      name: "act_frontieres_isodistances__1"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 165,
              name: "adressen",
              children: [
                {
                  id: 152,
                  name: "addresses",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "28b310e4-b9e1-467c-a28d-fce2e9a96548"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "addresses",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 694,
          name: "pag_group",
          children: [
            {
              id: 698,
              name: "pag_pag",
              metadata: {
                is_queryable: !0,
                legend_name: "pag",
                max_dpi: 128,
                metadata_id: "12c67295-d150-430f-aa28-fa004ecba3c7",
                start_opacity: 0.7
              },
              dimensions: {},
              type: "WMS",
              layers: "pag_pag",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "pag_pag__1"
                },
                {
                  name: "pag_pag__2"
                },
                {
                  name: "pag_pag__3"
                },
                {
                  name: "pag_pag__4"
                },
                {
                  name: "pag_pag__5"
                },
                {
                  name: "pag_pag__6"
                },
                {
                  name: "pag_pag__7"
                },
                {
                  name: "pag_pag__8"
                },
                {
                  name: "pag_pag__9"
                },
                {
                  name: "pag_pag__10"
                },
                {
                  name: "pag_pag__11"
                },
                {
                  name: "pag_pag__12"
                },
                {
                  name: "pag_pag__13"
                },
                {
                  name: "pag_pag__14"
                },
                {
                  name: "pag_pag__15"
                },
                {
                  name: "pag_pag__16"
                },
                {
                  name: "pag_pag__17"
                },
                {
                  name: "pag_pag__18"
                },
                {
                  name: "pag_pag__20"
                },
                {
                  name: "pag_pag__21"
                },
                {
                  name: "pag_pag__22"
                },
                {
                  name: "pag_pag__23"
                },
                {
                  name: "pag_pag__24"
                },
                {
                  name: "pag_pag__25"
                },
                {
                  name: "pag_pag__31"
                }
              ]
            },
            {
              id: 696,
              name: "pag_pap_approuves",
              metadata: {
                is_queryable: !1,
                max_dpi: 128,
                metadata_id: "7fd67f56-d2f6-4697-9d3b-5d9a6be770c9",
                start_opacity: 1
              },
              dimensions: {},
              type: "WMS",
              layers: "pag_pap_approuves",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "pag_pap_approuves__27"
                }
              ]
            },
            {
              id: 1366,
              name: "pag_infos_supp",
              metadata: {
                metadata_id: "5ab48871-aa35-4b74-ada2-3033c6666748"
              },
              dimensions: {},
              type: "WMS",
              layers: "pag_infos_supp",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "pag_infos_supp__30"
                },
                {
                  name: "pag_infos_supp__32"
                },
                {
                  name: "pag_infos_supp__33"
                }
              ]
            },
            {
              id: 697,
              name: "pag_pcn",
              metadata: {
                is_queryable: !0,
                max_dpi: 128,
                metadata_id: "672e2e56-b888-45bb-b665-1b8132a0e147",
                start_opacity: 1
              },
              dimensions: {},
              type: "WMS",
              layers: "pag_pcn",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "pag_pcn__pag_fonds"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 695,
          name: "pag_addtional_layers",
          children: [
            {
              id: 716,
              name: "pag_at",
              children: [
                {
                  id: 710,
                  name: "pag_pos",
                  metadata: {
                    is_queryable: !0,
                    max_dpi: 128,
                    metadata_id: "a5f51e0e-c737-44e6-b0e0-7a0016d87707",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "pag_pos",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "pag_pos__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 717,
              name: "pag_env",
              children: [
                {
                  id: 533,
                  name: "natura2000_oiseaux",
                  metadata: {
                    is_queryable: !0,
                    max_dpi: 128,
                    metadata_id: "080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "natura2000_oiseaux",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "natura2000_oiseaux__1"
                    }
                  ]
                },
                {
                  id: 540,
                  name: "natura2000_habitats",
                  metadata: {
                    is_queryable: !0,
                    max_dpi: 128,
                    metadata_id: "080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "natura2000_habitats",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "natura2000_habitats__2"
                    },
                    {
                      name: "natura2000_habitats__0"
                    }
                  ]
                },
                {
                  id: 804,
                  name: "anf_zpin_declarees",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:zpin_declarees",
                    metadata_id: "9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_zpin_declarees",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_zpin_declarees__ZPIN_DECLAREES"
                    }
                  ]
                },
                {
                  id: 419,
                  name: "anf_arbres_remarquables",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:arbres_remarquables",
                    metadata_id: "373df6df-a91c-4e66-b211-ac2bc1675d56"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_arbres_remarquables",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_arbres_remarquables__ARBRES_REMARQUABLES"
                    }
                  ]
                },
                {
                  id: 366,
                  name: "emwelt_biotop_kadaster",
                  children: [
                    {
                      id: 1367,
                      name: "anf_biotopes_points",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "env:btk_p",
                        metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "anf_biotopes_points",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "anf_biotopes_points__BIOTOPES_MO_EL_PONCTUELS"
                        }
                      ]
                    },
                    {
                      id: 1368,
                      name: "anf_biotopes_vergers",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "env:btk_s",
                        metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "anf_biotopes_vergers",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "anf_biotopes_vergers__BIOTOPES_MO_VERGERS"
                        }
                      ]
                    },
                    {
                      id: 1369,
                      name: "anf_biotopes_surfaces",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "env:btk_f",
                        metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "anf_biotopes_surfaces",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "anf_biotopes_surfaces__BIOTOPES_MO_SURFACES"
                        }
                      ]
                    },
                    {
                      id: 1370,
                      name: "anf_biotopes_tampons",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "env:btk_b",
                        metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "anf_biotopes_tampons",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "anf_biotopes_tampons__BIOTOPES_MO_ZONES_TAMPONS"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 720,
              name: "pag_eau",
              children: [
                {
                  id: 573,
                  name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:zps_durch_grosshrzgl._verordnung_festgelegt",
                    max_dpi: 128,
                    metadata_id: "d70f99e0-6032-4a4b-b516-5dfdfce33b26"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__ZPS durch grosshrzgl. Verordnung festgelegt"
                    }
                  ]
                },
                {
                  id: 664,
                  name: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:zps_laufende_oeffentliche_verfahrungsweise",
                    max_dpi: 128,
                    metadata_id: "87beb1ac-7496-48f6-b5a9-8666e3897523"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise__ZPS laufende √∂ffentliche Verfahrungsweise"
                    }
                  ]
                },
                {
                  id: 490,
                  name: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:sanitaere_schutzzonen_stausee",
                    max_dpi: 128,
                    metadata_id: "e34de488-68ea-48a8-9e92-f67bb209508e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer__Sanit√§re Schutzzonen Stausee"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 718,
              name: "pag_hum",
              children: [
                {
                  id: 232,
                  name: "env_bruit_axes_routiers",
                  children: [
                    {
                      id: 1497,
                      name: "env_bruit2016_axes_routiers_lden",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        metadata_id: "cf1a21cc-8208-420e-bd7e-091d755b6ace",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_routiers_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 1500,
                      name: "env_bruit2016_axes_routiers_lngt",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        metadata_id: "83ae2d3b-f0d9-4584-8c48-f6722bd4f517",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_routiers_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1504,
                      name: "env_bruit_axes_routiers_hotspots_2016",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "c5a6e3c5-6bef-4ff9-ac3e-aa494a34e602"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_hotspots_2016",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_hotspots_2016__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_hotspots_2016__11"
                        }
                      ]
                    },
                    {
                      id: 1505,
                      name: "env_bruit_axes_routiers_agglomeration_2016",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "a6c63355-6e42-4795-9d72-8744b907b151"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_agglomeration_2016",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_agglomeration_2016__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_agglomeration_2016__8"
                        }
                      ]
                    },
                    {
                      id: 326,
                      name: "env_bruit_axes_routiers_lden",
                      metadata: {
                        exclusion: "[333,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        max_dpi: 128,
                        metadata_id: "3e3aa044-89e0-4676-9404-744f64dd7ba0",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_routiers_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 255,
                      name: "env_bruit_axes_routiers_lngt",
                      metadata: {
                        exclusion: "[333,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        max_dpi: 128,
                        metadata_id: "5e4f2607-b114-4884-8e48-8e1faa997eb4",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_routiers_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1475,
                      name: "env_bruit_axes_routiers_hotspots",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "ff6b3d63-871c-4e88-8fc0-0f276abe259a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_hotspots",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_hotspots__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_hotspots__4"
                        }
                      ]
                    },
                    {
                      id: 1485,
                      name: "env_bruit_axes_routiers_agglomeration",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "f1dd0dd5-4dd5-4d88-b556-af39a20ab137",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_agglomeration",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_agglomeration__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_agglomeration__2"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 183,
                  name: "env_bruit_axes_ferroviaires",
                  children: [
                    {
                      id: 1498,
                      name: "env_bruit2016_axes_ferroviaires_lden",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        metadata_id: "7975b71b-2fd4-45e6-8c0a-306671d665c6",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_ferroviaires_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 1502,
                      name: "env_bruit2016_axes_ferroviaires_lngt",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        metadata_id: "170143ce-53ef-4b2b-997c-a2ccb1b84477",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_ferroviaires_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1503,
                      name: "env_bruit_axes_ferroviaires_hotspots_2016",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "29ef44c6-f357-4d21-829c-f2fdd5fe1149"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_ferroviaires_hotspots_2016",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots_2016__13"
                        },
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots_2016__0"
                        }
                      ]
                    },
                    {
                      id: 310,
                      name: "env_bruit_axes_ferroviaires_lden",
                      metadata: {
                        exclusion: "[334,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        max_dpi: 128,
                        metadata_id: "32b40d1c-111e-4eed-91c7-61d61ef27b8d",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_ferroviaires_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 259,
                      name: "env_bruit_axes_ferroviaires_lngt",
                      metadata: {
                        exclusion: "[334,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        max_dpi: 128,
                        metadata_id: "2d7e26ad-e448-45a2-9045-3dfb3e3ec15b",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_ferroviaires_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1476,
                      name: "env_bruit_axes_ferroviaires_hotspots",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "d3b30653-d0bf-4924-96b2-251e9f61c979"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_ferroviaires_hotspots",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots__6"
                        },
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 190,
                  name: "env_bruit_air",
                  children: [
                    {
                      id: 1501,
                      name: "env_bruit2016_axes_aeroport_lden",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        metadata_id: "26e208ff-39a3-4cf6-92db-4c6707fe972a",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_aeroport_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 1499,
                      name: "env_bruit2016_axes_aeroport_lngt",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        metadata_id: "2aa6f79d-74cc-4f22-bedd-748f8e8e30b9",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_aeroport_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 157,
                      name: "env_bruit_air_lden",
                      metadata: {
                        exclusion: "[335,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        max_dpi: 128,
                        metadata_id: "0f4dcfc5-e947-4e5c-9460-702b8e1a572f",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_air_lden",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_air_lden__1"
                        }
                      ]
                    },
                    {
                      id: 327,
                      name: "env_bruit_air_lngt",
                      metadata: {
                        exclusion: "[335,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        max_dpi: 128,
                        metadata_id: "6b031060-1f82-467d-af86-afe02a3f04fa",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_air_lngt",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_air_lngt__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 719,
              name: "pag_sites_et_monuments",
              children: [
                {
                  id: 709,
                  name: "pag_ssmn",
                  metadata: {
                    is_queryable: !1,
                    max_dpi: 128,
                    metadata_id: "ab8bba00-fe68-4e1f-8fad-9dbd2f8c7809",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "pag_ssmn",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "pag_ssmn__0"
                    },
                    {
                      name: "pag_ssmn__1"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 196,
              name: "verkehrsnetze",
              children: [
                {
                  id: 181,
                  name: "roads",
                  metadata: {
                    legend_name: "road_network:show",
                    metadata_id: "12627f90-f0f8-41b3-a56a-2e11a232ba59"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "roads",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "roads__ROADS_NOLABELS"
                    }
                  ]
                },
                {
                  id: 351,
                  name: "roads_labels",
                  metadata: {
                    metadata_id: "5d606cae-cbc6-44c3-a465-edb981e44a39"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "roads_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "roads_labels__ROADS_LABELS"
                    }
                  ]
                },
                {
                  id: 147,
                  name: "arrets_bus",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:arrets_de_bus",
                    metadata_id: "7318c6e8-bb63-40e0-9e40-46ae7b0dc266"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "arrets_bus",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "arrets_bus__0"
                    },
                    {
                      name: "arrets_bus__1"
                    }
                  ]
                },
                {
                  id: 813,
                  name: "cdt_lignes_all",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "bbe0523f-374d-4c94-a27d-7ce81d8bae3b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cdt_lignes_all",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cdt_lignes_all__lignes_de_bus"
                    }
                  ]
                },
                {
                  id: 812,
                  name: "cdt_lignes_bus_par_operateur",
                  children: [
                    {
                      id: 814,
                      name: "cdt_lignes_avl",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "1e6f614b-e347-4115-82d7-74a72f51389f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=400"
                    },
                    {
                      id: 815,
                      name: "cdt_lignes_rgtr",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "eae3ed54-d2ae-45ae-a62c-0dec4d44acdf"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=401"
                    },
                    {
                      id: 816,
                      name: "cdt_lignes_tice",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "a3cb973c-12b0-4e41-bfc0-b2fb67637513"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=402"
                    },
                    {
                      id: 817,
                      name: "cdt_lignes_cfl",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "84ebdfbc-ba25-464c-af86-e74e588978ef"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=403"
                    },
                    {
                      id: 1374,
                      name: "cdt_lignes_tram",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "0f46c673-d4b4-4c25-8d9a-fca41035f587"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=404"
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1381,
                  name: "chargy",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "chargy",
                    metadata_id: "801d732a-c285-4fcd-a043-c5220d6d7eef"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "chargy",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "chargy__chargy"
                    }
                  ]
                },
                {
                  id: 423,
                  name: "mobiliteit_cfl",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:cfl",
                    max_dpi: 128,
                    metadata_id: "0b3c42a2-275e-4519-b228-f407d46b8350"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_cfl",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_cfl__1"
                    }
                  ]
                },
                {
                  id: 377,
                  name: "mobiliteit_pr",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:pr",
                    max_dpi: 128,
                    metadata_id: "9e0c97ae-aff9-41fc-9489-bbf97999163d"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_pr",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_pr__2"
                    }
                  ]
                },
                {
                  id: 368,
                  name: "mobiliteit_bikeshare",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:bikeshare",
                    max_dpi: 128,
                    metadata_id: "e9fbbdff-2f8f-422b-b6ae-5cc69f73bb4b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_bikeshare",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_bikeshare__0"
                    }
                  ]
                },
                {
                  id: 1386,
                  name: "mobiliteit_livebikes",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "fc0168f8-2d8b-4bba-8da8-6edd6edd94cc"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_livebikes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_livebikes__bikes"
                    }
                  ]
                },
                {
                  id: 808,
                  name: "velo_by_pch",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "tour_velo_national",
                    metadata_id: "387f6949-0fc4-43a5-b0e6-4e09bdf65225"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "velo_by_pch",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "velo_by_pch__1"
                    },
                    {
                      name: "velo_by_pch__0"
                    }
                  ]
                },
                {
                  id: 512,
                  name: "tour_pistes_velo_mymaps2",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "tour_velo_national",
                    metadata_id: "8e3c102a-393e-4d48-a321-9f8957ff49cf"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=106"
                },
                {
                  id: 352,
                  name: "cfl_hecto",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "938f9e8e-071c-4e6b-940f-64b2a60eca74"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cfl_hecto",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cfl_hecto__points_hecto"
                    }
                  ]
                },
                {
                  id: 685,
                  name: "cita_chantiers_actuel",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "9c823038-5965-47cc-8dad-21496e57e3f2",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cita_chantiers_actuel",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cita_chantiers_actuel__CHANTIERS_ACTUEL"
                    }
                  ]
                },
                {
                  id: 686,
                  name: "cita_chantiers_futur",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "063cb796-640f-4ab0-8430-955983a00e3b",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cita_chantiers_futur",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cita_chantiers_futur__CHANTIERS_FUTUR"
                    }
                  ]
                },
                {
                  id: 1713,
                  name: "chantiers_actuels_pc",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "7d59f3a6-e8d8-464b-bbf9-73c6ca358a51",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "chantiers_actuels_pc",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "chantiers_actuels_pc__CHANTIERS_ACTUEL_PC"
                    }
                  ]
                },
                {
                  id: 1714,
                  name: "chantiers_futurs_pc",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "f6b9df36-5e62-46d1-ae91-c7c58c7e2e45",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "chantiers_futurs_pc",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "chantiers_futurs_pc__CHANTIERS_FUTUR_PC"
                    }
                  ]
                },
                {
                  id: 682,
                  name: "mobi_mbox",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:mbox",
                    max_dpi: 128,
                    metadata_id: "77780c80-a2dc-4dc2-96ac-c29e2ad15495"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobi_mbox",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobi_mbox__0"
                    }
                  ]
                },
                {
                  id: 713,
                  name: "pch_radars",
                  metadata: {
                    is_queryable: !0,
                    max_dpi: 128,
                    metadata_id: "385180ba-a9bc-49d4-8858-ba5f19942a66",
                    start_opacity: 1
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "pch_radars",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "pch_radars__0"
                    },
                    {
                      name: "pch_radars__1"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        bg_layer: "pixelmaps-gray",
        bg_opacity: 0.01,
        css: "pag.css",
        display_in_switcher: !0,
        page_title: "pag.geoportail.lu",
        print_img: "PAG.png",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: [
          "2500",
          "5000",
          "10000",
          "15000",
          "20000",
          "25000",
          "50000",
          "100000",
          "200000",
          "250000",
          "400000"
        ],
        print_short_txt_de: "pag.geoportal.lu",
        print_short_txt_en: "pag.geoportal.lu",
        print_short_txt_fr: "pag.geoportail.lu",
        print_short_txt_lu: "pag.geoportal.lu",
        show_in_mobile: !1,
        start_layers: [
          "pag_pag",
          "pag_pcn",
          "pag_pap_approuves",
          "pag_ssmn",
          "pag_pos"
        ]
      }
    },
    {
      id: 126,
      name: "agriculture",
      icon: "agriculture",
      children: [
        {
          id: 307,
          name: "asta",
          children: [
            {
              id: 1637,
              name: "asta_flik_parcels",
              metadata: {
                is_queryable: !0,
                metadata_id: "f511a4ee-928a-4900-ac05-52aa0ce03bba"
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_flik_parcels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_flik_parcels__3"
                }
              ]
            },
            {
              id: 1511,
              name: "asta_prairies_permanentes",
              metadata: {
                is_queryable: !0,
                metadata_id: "f6f493c2-f57b-419d-8953-ab8018576ac7"
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_prairies_permanentes",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_prairies_permanentes__0"
                }
              ]
            },
            {
              id: 740,
              name: "asta_herbages_sensibles",
              metadata: {
                metadata_id: "e5d2717e-4541-43f1-b586-1b18cdf11827"
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_herbages_sensibles",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_herbages_sensibles__gruenland"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 340,
          name: "asta_zones_prot",
          children: [
            {
              id: 540,
              name: "natura2000_habitats",
              metadata: {
                is_queryable: !0,
                max_dpi: 128,
                metadata_id: "080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"
              },
              dimensions: {},
              type: "WMS",
              layers: "natura2000_habitats",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "natura2000_habitats__2"
                },
                {
                  name: "natura2000_habitats__0"
                }
              ]
            },
            {
              id: 533,
              name: "natura2000_oiseaux",
              metadata: {
                is_queryable: !0,
                max_dpi: 128,
                metadata_id: "080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"
              },
              dimensions: {},
              type: "WMS",
              layers: "natura2000_oiseaux",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "natura2000_oiseaux__1"
                }
              ]
            },
            {
              id: 805,
              name: "anf_zpin_a_declarer",
              metadata: {
                is_queryable: !0,
                legend_name: "anf:zpin_a_declarer",
                metadata_id: "db53336b-1a33-4b1a-94a8-42a29b55ce45"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_zpin_a_declarer",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_zpin_a_declarer__ZPIN_A_DECLARER"
                }
              ]
            },
            {
              id: 804,
              name: "anf_zpin_declarees",
              metadata: {
                is_queryable: !0,
                legend_name: "anf:zpin_declarees",
                metadata_id: "9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_zpin_declarees",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_zpin_declarees__ZPIN_DECLAREES"
                }
              ]
            },
            {
              id: 806,
              name: "anf_zpin_en_procedure",
              metadata: {
                is_queryable: !0,
                legend_name: "anf:zpin_en_procedure_reglementaire",
                metadata_id: "74499cf0-ab69-48bd-a357-8c151dd3d5c9"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_zpin_en_procedure",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"
                }
              ]
            },
            {
              id: 214,
              name: "eau_new_Provisorische_ZPS",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:provisorische_zps",
                max_dpi: 128,
                metadata_id: "ddc51f25-2fb7-4d14-866a-a08f8af8ef03"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Provisorische_ZPS",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Provisorische_ZPS__Provisorische ZPS"
                }
              ]
            },
            {
              id: 664,
              name: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:zps_laufende_oeffentliche_verfahrungsweise",
                max_dpi: 128,
                metadata_id: "87beb1ac-7496-48f6-b5a9-8666e3897523"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise__ZPS laufende √∂ffentliche Verfahrungsweise"
                }
              ]
            },
            {
              id: 1464,
              name: "eau_prgd_zones_protection_lac",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:prgd_stausee",
                metadata_id: "eab29425-71cc-4610-b48e-8d848d0a8431"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_prgd_zones_protection_lac",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_prgd_zones_protection_lac__PRGD Schutzzonen Stausee"
                }
              ]
            },
            {
              id: 573,
              name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:zps_durch_grosshrzgl._verordnung_festgelegt",
                max_dpi: 128,
                metadata_id: "d70f99e0-6032-4a4b-b516-5dfdfce33b26"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__ZPS durch grosshrzgl. Verordnung festgelegt"
                }
              ]
            },
            {
              id: 490,
              name: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:sanitaere_schutzzonen_stausee",
                max_dpi: 128,
                metadata_id: "e34de488-68ea-48a8-9e92-f67bb209508e"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer__Sanit√§re Schutzzonen Stausee"
                }
              ]
            },
            {
              id: 559,
              name: "eau_new_Zones_interdiction_utilisation_metazachlore",
              metadata: {
                is_queryable: !0,
                legend_name: "eau_new:metazachlore",
                max_dpi: 128,
                metadata_id: "803e93f8-588f-4697-8d76-972be1ad3531",
                start_opacity: 0.7
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Zones_interdiction_utilisation_metazachlore",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Zones_interdiction_utilisation_metazachlore__Zones interdiction utilisation metazachlore"
                }
              ]
            },
            {
              id: 1481,
              name: "asta_projet_rgd",
              children: [
                {
                  id: 1484,
                  name: "eau_asta_prgd_zones_protection_lac",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:prgd_stausee",
                    metadata_id: "eab29425-71cc-4610-b48e-8d848d0a8431"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_asta_prgd_zones_protection_lac",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_asta_prgd_zones_protection_lac__PRGD Schutzzonen Stausee"
                    }
                  ]
                },
                {
                  id: 1482,
                  name: "asta_contrainte_stockage_engrais",
                  metadata: {
                    legend_name: "asta:stockage_engrais",
                    metadata_id: "e94ac1bb-890b-412e-97e9-f71dbef88ab7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "asta_contrainte_stockage_engrais",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "asta_contrainte_stockage_engrais__0"
                    }
                  ]
                },
                {
                  id: 1483,
                  name: "asta_contrainte_utilisation_engrais",
                  metadata: {
                    legend_name: "asta:utilisation_engrais",
                    metadata_id: "47f9de64-9636-4ce6-bf73-cb85cdd7b8d9"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "asta_contrainte_utilisation_engrais",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "asta_contrainte_utilisation_engrais__1"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 321,
          name: "pedologie",
          children: [
            {
              id: 272,
              name: "pedologie_100k",
              metadata: {
                legend_name: "pedologie",
                metadata_id: "2d712a34-ce79-426d-a57b-b7cadf97b80f"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "pedologie_100k",
              imageType: "image/png"
            },
            {
              id: 702,
              name: "asta_pedologie_new",
              metadata: {
                legend_name: "pedologie_new",
                max_dpi: 128,
                metadata_id: "37686d89-0173-4040-88c7-be84a3648d01"
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_pedologie_new",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_pedologie_new__1"
                },
                {
                  name: "asta_pedologie_new__2"
                },
                {
                  name: "asta_pedologie_new__3"
                },
                {
                  name: "asta_pedologie_new__4"
                },
                {
                  name: "asta_pedologie_new__5"
                },
                {
                  name: "asta_pedologie_new__6"
                },
                {
                  name: "asta_pedologie_new__7"
                }
              ]
            },
            {
              id: 704,
              name: "asta_pedologie_humus",
              metadata: {
                legend_name: "asta_corg",
                max_dpi: 128,
                metadata_id: "a1b0807c-9bff-4f6a-a5e7-130316742f56"
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_pedologie_humus",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_pedologie_humus__0"
                }
              ]
            },
            {
              id: 703,
              name: "asta_pedologie_ph",
              metadata: {
                legend_name: "asta_ph",
                max_dpi: 128,
                metadata_id: "628ee73f-4c37-4689-bc4c-1fd9f6bd2663"
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_pedologie_ph",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_pedologie_ph__0"
                }
              ]
            },
            {
              id: 2408,
              name: "asta_erosion_group",
              children: [
                {
                  id: 2407,
                  name: "asta_erosion_2023",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "427aff9b-b988-455c-8cd9-1c029cfd6b6e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "asta_erosion_2023",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "asta_erosion_2023__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 204,
          name: "asta_meteo_group",
          children: [
            {
              id: 283,
              name: "asta_meteo",
              metadata: {
                is_queryable: !0,
                metadata_id: "23e4b02d-a93d-47a4-8597-060319ae2af5"
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_meteo",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_meteo__meteo"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 309,
          name: "administrative_einheiten",
          children: [
            {
              id: 269,
              name: "communes_labels",
              metadata: {
                is_queryable: !0,
                metadata_id: "17c7d883-ff7f-4b48-a894-46bea40d2e49"
              },
              dimensions: {},
              type: "WMS",
              layers: "communes_labels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "communes_labels__COMMUNES_LABELS"
                }
              ]
            },
            {
              id: 302,
              name: "communes",
              metadata: {
                is_queryable: !0,
                metadata_id: "de5373d6-340f-4203-a065-da7550a03cc4_2049"
              },
              dimensions: {},
              type: "WMS",
              layers: "communes",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "communes__COMMUNES"
                }
              ]
            },
            {
              id: 346,
              name: "cantons_labels",
              metadata: {
                is_queryable: !0,
                metadata_id: "3af20a80-be4a-4819-a42b-18e49af799aa"
              },
              dimensions: {},
              type: "WMS",
              layers: "cantons_labels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "cantons_labels__CANTONS_LABELS"
                }
              ]
            },
            {
              id: 329,
              name: "cantons",
              metadata: {
                is_queryable: !0,
                metadata_id: "e8a034e8-f986-4745-a848-b7ef30ce2740"
              },
              dimensions: {},
              type: "WMS",
              layers: "CANTONS",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "cantons__CANTONS"
                }
              ]
            },
            {
              id: 268,
              name: "districts_labels",
              metadata: {
                is_queryable: !0,
                metadata_id: "c42842e2-834a-427a-99f6-eb8cb79d1db4"
              },
              dimensions: {},
              type: "WMS",
              layers: "districts_labels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "districts_labels__DISTRICTS_LABELS"
                }
              ]
            },
            {
              id: 354,
              name: "districts",
              metadata: {
                is_queryable: !0,
                metadata_id: "b9edd03f-3aef-4fd6-a3d9-db076b1cf237"
              },
              dimensions: {},
              type: "WMS",
              layers: "districts",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "districts__DISTRICTS"
                }
              ]
            },
            {
              id: 349,
              name: "country",
              metadata: {
                is_queryable: !0,
                metadata_id: "4c9b3c0b-85d4-447d-a68c-7416869f8d9b"
              },
              dimensions: {},
              type: "WMS",
              layers: "country",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "country__PAYS"
                }
              ]
            },
            {
              id: 732,
              name: "limadmin_judiciaire",
              metadata: {
                metadata_id: "235c0ac9-5bf6-45b6-9ceb-8680a07944ec"
              },
              dimensions: {},
              type: "WMS",
              layers: "limadmin_judiciaire",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "limadmin_judiciaire__ARRONDISSEMENTS JUDICIAIRES"
                }
              ]
            },
            {
              id: 733,
              name: "limadmin_legislatif",
              metadata: {
                metadata_id: "627b78d9-ae18-4be2-9a69-02aa6d4e38bb"
              },
              dimensions: {},
              type: "WMS",
              layers: "limadmin_legislatif",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "limadmin_legislatif__CIRCONSCRIPTIONS LEGISLATIVES"
                }
              ]
            },
            {
              id: 744,
              name: "tour_ort",
              metadata: {
                legend_name: "ort",
                metadata_id: "44dbfde5-664e-4e45-8802-3d60b52eb9cb"
              },
              dimensions: {},
              type: "WMS",
              layers: "tour_ort",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "tour_ort__0"
                },
                {
                  name: "tour_ort__1"
                }
              ]
            },
            {
              id: 746,
              name: "tour_leader",
              metadata: {
                legend_name: "leader",
                metadata_id: "a48aec89-7341-459e-a7d3-0e572982b255"
              },
              dimensions: {},
              type: "WMS",
              layers: "tour_leader",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "tour_leader__0"
                },
                {
                  name: "tour_leader__1"
                },
                {
                  name: "tour_leader__2"
                }
              ]
            },
            {
              id: 747,
              name: "tour_parcsnaturels",
              metadata: {
                is_queryable: !0,
                legend_name: "parcnaturel",
                metadata_id: "f519c4e7-4459-49b5-b8c1-569328252d44"
              },
              dimensions: {},
              type: "WMS",
              layers: "tour_parcnaturels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "tour_parcsnaturels__0"
                },
                {
                  name: "tour_parcsnaturels__1"
                }
              ]
            },
            {
              id: 678,
              name: "anf_stations_biologiques",
              metadata: {
                is_queryable: !0,
                metadata_id: "05e497fc-625d-4701-90af-dbe8813201ab"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_stations_biologiques",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_stations_biologiques__STATIONS_BIOLOGIQUES"
                }
              ]
            },
            {
              id: 1364,
              name: "act_frontieres_isodistances",
              metadata: {
                metadata_id: "09318d11-a908-4dea-a8f9-0558d20b980f",
                start_opacity: 0.5
              },
              dimensions: {},
              type: "WMS",
              layers: "act_frontieres_isodistances",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "act_frontieres_isodistances__0"
                },
                {
                  name: "act_frontieres_isodistances__1"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 366,
          name: "emwelt_biotop_kadaster",
          children: [
            {
              id: 1367,
              name: "anf_biotopes_points",
              metadata: {
                is_queryable: !0,
                legend_name: "env:btk_p",
                metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_biotopes_points",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_biotopes_points__BIOTOPES_MO_EL_PONCTUELS"
                }
              ]
            },
            {
              id: 1368,
              name: "anf_biotopes_vergers",
              metadata: {
                is_queryable: !0,
                legend_name: "env:btk_s",
                metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_biotopes_vergers",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_biotopes_vergers__BIOTOPES_MO_VERGERS"
                }
              ]
            },
            {
              id: 1369,
              name: "anf_biotopes_surfaces",
              metadata: {
                is_queryable: !0,
                legend_name: "env:btk_f",
                metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_biotopes_surfaces",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_biotopes_surfaces__BIOTOPES_MO_SURFACES"
                }
              ]
            },
            {
              id: 1370,
              name: "anf_biotopes_tampons",
              metadata: {
                is_queryable: !0,
                legend_name: "env:btk_b",
                metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
              },
              dimensions: {},
              type: "WMS",
              layers: "anf_biotopes_tampons",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "anf_biotopes_tampons__BIOTOPES_MO_ZONES_TAMPONS"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 509,
          name: "asta_esp_group",
          children: [
            {
              id: 139,
              name: "asta_esp_esp",
              metadata: {
                is_queryable: !0,
                max_dpi: 128,
                metadata_id: "16f911c8-1008-4f86-b8c1-75584010f79b",
                start_opacity: 0.75
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_esp_esp",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_esp_esp__0"
                },
                {
                  name: "asta_esp_esp__1"
                }
              ]
            },
            {
              id: 138,
              name: "asta_esp_lisiere",
              metadata: {
                is_queryable: !0,
                max_dpi: 128,
                metadata_id: "e3dd4b8c-760b-44b3-887a-08c6be34c72d",
                start_opacity: 0.5
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_esp_lisiere",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_esp_lisiere__2"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        bg_layer: "streets",
        bg_opacity: 0.01,
        css: "agriculture.css",
        display_in_switcher: !0,
        link_title: "Administration des services techniques de l'agriculture",
        page_title: "agriculture.geoportail.lu",
        print_img: "bandeau_asta.png",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: [
          "1000",
          "1500",
          "2500",
          "5000",
          "10000",
          "15000",
          "20000",
          "25000",
          "50000",
          "80000",
          "100000",
          "125000",
          "200000",
          "250000",
          "400000"
        ],
        print_short_txt_de: "agriculture.geoportal.lu",
        print_short_txt_en: "agriculture.geoportal.lu",
        print_short_txt_fr: "agriculture.geoportail.lu",
        print_short_txt_lu: "agriculture.geoportal.lu",
        start_layers: ["asta_flik_parcels_2016"]
      }
    },
    {
      id: 132,
      name: "lenoz",
      icon: "lenoz",
      children: [
        {
          id: 429,
          name: "group_lenoz",
          children: [
            {
              id: 494,
              name: "lenoz_lmg",
              metadata: {
                is_queryable: !0,
                metadata_id: "22d587f3-2b7d-4ebc-8564-7816cd3f2f13"
              },
              dimensions: {},
              type: "WMS",
              layers: "494",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "lenoz_lmg__POI"
                }
              ]
            },
            {
              id: 496,
              name: "lenoz_creches",
              metadata: {
                is_queryable: !0,
                metadata_id: "b355d9f7-174c-4349-b1c6-0e4d6f091ab3"
              },
              dimensions: {},
              type: "WMS",
              layers: "496",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "lenoz_creches__POI"
                }
              ]
            },
            {
              id: 495,
              name: "lenoz_ecoles",
              metadata: {
                is_queryable: !0,
                metadata_id: "f528b8f4-e84f-4e0c-9cf3-0b46c272f85d"
              },
              dimensions: {},
              type: "WMS",
              layers: "495",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "lenoz_ecoles__POI"
                }
              ]
            },
            {
              id: 511,
              name: "lenoz_Post",
              metadata: {
                is_queryable: !0,
                metadata_id: "efa463e0-9d5d-4120-9430-e1dd816c0ad2"
              },
              dimensions: {},
              type: "WMS",
              layers: "511",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "lenoz_Post__POI"
                }
              ]
            },
            {
              id: 516,
              name: "lenoz_Banken",
              metadata: {
                is_queryable: !0,
                metadata_id: "ccb93f63-b711-4113-9ffb-5ad40016ed05"
              },
              dimensions: {},
              type: "WMS",
              layers: "516",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "lenoz_Banken__POI"
                }
              ]
            },
            {
              id: 504,
              name: "lenoz_√Ñrzte",
              metadata: {
                is_queryable: !0,
                metadata_id: "7f97be71-db0c-4b2c-8b17-f5913d9b70aa"
              },
              dimensions: {},
              type: "WMS",
              layers: "504",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "lenoz_√Ñrzte__POI"
                }
              ]
            },
            {
              id: 519,
              name: "lenoz_Restaurants",
              metadata: {
                is_queryable: !0,
                metadata_id: "5fffa197-d8ba-43a2-9e6b-d4f593cb2f41"
              },
              dimensions: {},
              type: "WMS",
              layers: "519",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "lenoz_Restaurants__POI"
                }
              ]
            },
            {
              id: 505,
              name: "lenoz_Lycees",
              metadata: {
                is_queryable: !0,
                metadata_id: "35ffa708-81e1-48b8-814e-3a81647f108d"
              },
              dimensions: {},
              type: "WMS",
              layers: "505",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "lenoz_Lycees__POI"
                }
              ]
            },
            {
              id: 506,
              name: "lenoz_Tankstelle",
              metadata: {
                is_queryable: !0,
                metadata_id: "7301092d-ff3c-48a5-b3b7-d6a35ccab45f"
              },
              dimensions: {},
              type: "WMS",
              layers: "506",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "lenoz_Tankstelle__POI"
                }
              ]
            },
            {
              id: 147,
              name: "arrets_bus",
              metadata: {
                is_queryable: !0,
                legend_name: "mobiliteit:arrets_de_bus",
                metadata_id: "7318c6e8-bb63-40e0-9e40-46ae7b0dc266"
              },
              dimensions: {},
              type: "WMS",
              layers: "arrets_bus",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "arrets_bus__0"
                },
                {
                  name: "arrets_bus__1"
                }
              ]
            },
            {
              id: 423,
              name: "mobiliteit_cfl",
              metadata: {
                is_queryable: !0,
                legend_name: "mobiliteit:cfl",
                max_dpi: 128,
                metadata_id: "0b3c42a2-275e-4519-b228-f407d46b8350"
              },
              dimensions: {},
              type: "WMS",
              layers: "mobiliteit_cfl",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "mobiliteit_cfl__1"
                }
              ]
            },
            {
              id: 808,
              name: "velo_by_pch",
              metadata: {
                is_queryable: !0,
                legend_name: "tour_velo_national",
                metadata_id: "387f6949-0fc4-43a5-b0e6-4e09bdf65225"
              },
              dimensions: {},
              type: "WMS",
              layers: "velo_by_pch",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "velo_by_pch__1"
                },
                {
                  name: "velo_by_pch__0"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 486,
          name: "eau_new_Hochwasserrisikomanagement-Richtlinie [HWRM-RL]",
          children: [
            {
              id: 1696,
              name: "eau_new_Risikogewaesser_2019_group",
              children: [
                {
                  id: 1703,
                  name: "eau_Risikogewaesser_2019",
                  metadata: {
                    legend_name: "eau:risikogewaesser_2019",
                    metadata_id: "762cd956-9733-4855-afa7-38768a38e8a1"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_Risikogewaesser_2019",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_Risikogewaesser_2019__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2114,
              name: "eau_Hochwassergefahrenkarten_2021",
              children: [
                {
                  id: 2117,
                  name: "eau_Hochwassergefahrenkarten_HQ10_2021",
                  metadata: {
                    legend_name: "eau:inondations_2019",
                    metadata_id: "153130ef-8255-4bce-bca0-d2359d277995"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwassergefahrenkarten_HQ10_2021",
                  imageType: "image/png"
                },
                {
                  id: 2118,
                  name: "eau_Hochwassergefahrenkarten_HQ100_2021",
                  metadata: {
                    legend_name: "eau:inondations_2019",
                    metadata_id: "cdb4137d-822f-4888-8a51-4596480970fe"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwassergefahrenkarten_HQ100_2021",
                  imageType: "image/png"
                },
                {
                  id: 2119,
                  name: "eau_Hochwassergefahrenkarten_HQext_2021",
                  metadata: {
                    legend_name: "eau:inondations_2019",
                    metadata_id: "cd0f52f7-7226-4748-95e0-b77025284423"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwassergefahrenkarten_HQext_2021",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2115,
              name: "eau_Hochwasserrisikokarten_2021",
              children: [
                {
                  id: 2120,
                  name: "eau_Hochwasserrisikokarten_HQ10_2021",
                  metadata: {
                    legend_name: "eau:risque_inondations_2019",
                    metadata_id: "4a428832-16cf-4861-a1da-78a1f0a8c194"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwasserrisikokarten_HQ10_2021",
                  imageType: "image/png"
                },
                {
                  id: 2121,
                  name: "eau_Hochwasserrisikokarten_HQ100_2021",
                  metadata: {
                    legend_name: "eau:risque_inondations_2019",
                    metadata_id: "ccb959ef-0ad6-47ec-ade9-45021912353f"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwasserrisikokarten_HQ100_2021",
                  imageType: "image/png"
                },
                {
                  id: 2122,
                  name: "eau_Hochwasserrisikokarten_HQext_2021",
                  metadata: {
                    legend_name: "eau:risque_inondations_2019",
                    metadata_id: "f803b49a-336a-4bb7-acd9-5cbf508a731f"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "eau_Hochwasserrisikokarten_HQext_2021",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1711,
              name: "eau_atlas_crues_subites",
              children: [
                {
                  id: 2045,
                  name: "age_dangers_fortes",
                  metadata: {
                    legend_name: "age_dangers_fortes",
                    metadata_id: "55dbe91c-f1e5-4c56-b0b9-4590988e23e5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "age_dangers_fortes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "age_dangers_fortes__0"
                    },
                    {
                      name: "age_dangers_fortes__1"
                    }
                  ]
                },
                {
                  id: 2046,
                  name: "age_risques_fortes",
                  metadata: {
                    legend_name: "age_risques_fortes",
                    metadata_id: "f1d9b1cd-ad78-44df-89ac-ad591138243f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "age_risques_fortes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "age_risques_fortes__0"
                    },
                    {
                      name: "age_risques_fortes__1"
                    },
                    {
                      name: "age_risques_fortes__2"
                    },
                    {
                      name: "age_risques_fortes__3"
                    },
                    {
                      name: "age_risques_fortes__4"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 461,
              name: "eau_new_Historische_Ueberschwemmungsgebiete",
              children: [
                {
                  id: 637,
                  name: "eau_new_UESG_1983_-_Mosel",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:uesg_1983_-_mosel",
                    max_dpi: 128,
                    metadata_id: "e6896207-c0f9-417e-9661-119128628e8e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_UESG_1983_-_Mosel",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_UESG_1983_-_Mosel__UESG 1983 - Mosel"
                    }
                  ]
                },
                {
                  id: 641,
                  name: "eau_new_UESG_1993_(ausser_Mosel)",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:uesg_1993_ausser_mosel",
                    max_dpi: 128,
                    metadata_id: "78c692f3-ad20-467b-b03a-0d020a821647"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_UESG_1993_(ausser_Mosel)",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_UESG_1993_(ausser_Mosel)__UESG 1993 [ausser Mosel]"
                    }
                  ]
                },
                {
                  id: 642,
                  name: "eau_new_UESG_Alzette_1995",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:uesg_alzette_1995",
                    max_dpi: 128,
                    metadata_id: "aaf81780-df85-4580-a890-fded8ae03db7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_UESG_Alzette_1995",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_UESG_Alzette_1995__UESG Alzette 1995"
                    }
                  ]
                },
                {
                  id: 633,
                  name: "eau_new_UESG_Sauer_1995",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:uesg_sauer_1995",
                    max_dpi: 128,
                    metadata_id: "f01f7be2-0423-4571-8fff-57dd617ae632"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_UESG_Sauer_1995",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_UESG_Sauer_1995__UESG Sauer 1995"
                    }
                  ]
                },
                {
                  id: 2116,
                  name: "eau_Hochwasserkarten_2021",
                  children: [
                    {
                      id: 2114,
                      name: "eau_Hochwassergefahrenkarten_2021",
                      children: [
                        {
                          id: 2117,
                          name: "eau_Hochwassergefahrenkarten_HQ10_2021",
                          metadata: {
                            legend_name: "eau:inondations_2019",
                            metadata_id: "153130ef-8255-4bce-bca0-d2359d277995"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwassergefahrenkarten_HQ10_2021",
                          imageType: "image/png"
                        },
                        {
                          id: 2118,
                          name: "eau_Hochwassergefahrenkarten_HQ100_2021",
                          metadata: {
                            legend_name: "eau:inondations_2019",
                            metadata_id: "cdb4137d-822f-4888-8a51-4596480970fe"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwassergefahrenkarten_HQ100_2021",
                          imageType: "image/png"
                        },
                        {
                          id: 2119,
                          name: "eau_Hochwassergefahrenkarten_HQext_2021",
                          metadata: {
                            legend_name: "eau:inondations_2019",
                            metadata_id: "cd0f52f7-7226-4748-95e0-b77025284423"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwassergefahrenkarten_HQext_2021",
                          imageType: "image/png"
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    },
                    {
                      id: 2115,
                      name: "eau_Hochwasserrisikokarten_2021",
                      children: [
                        {
                          id: 2120,
                          name: "eau_Hochwasserrisikokarten_HQ10_2021",
                          metadata: {
                            legend_name: "eau:risque_inondations_2019",
                            metadata_id: "4a428832-16cf-4861-a1da-78a1f0a8c194"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwasserrisikokarten_HQ10_2021",
                          imageType: "image/png"
                        },
                        {
                          id: 2121,
                          name: "eau_Hochwasserrisikokarten_HQ100_2021",
                          metadata: {
                            legend_name: "eau:risque_inondations_2019",
                            metadata_id: "ccb959ef-0ad6-47ec-ade9-45021912353f"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwasserrisikokarten_HQ100_2021",
                          imageType: "image/png"
                        },
                        {
                          id: 2122,
                          name: "eau_Hochwasserrisikokarten_HQext_2021",
                          metadata: {
                            legend_name: "eau:risque_inondations_2019",
                            metadata_id: "f803b49a-336a-4bb7-acd9-5cbf508a731f"
                          },
                          dimensions: {},
                          type: "WMTS",
                          url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                          style: "default",
                          matrixSet: "GLOBAL_WEBMERCATOR",
                          layer: "eau_Hochwasserrisikokarten_HQext_2021",
                          imageType: "image/png"
                        }
                      ],
                      metadata: {},
                      mixed: !0
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 463,
              name: "eau_new_Zusaetzliche_Informationen",
              children: [
                {
                  id: 755,
                  name: "eau_new_Gew√§sser mit einem signifikanten Hochwasserrisiko",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:gewaesser_mit_einem_signifikanten_hochwasserrisiko",
                    metadata_id: "2006081e-2818-4f2b-978a-8ba505d840a8"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Gew√§sser mit einem signifikanten Hochwasserrisiko",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Gew√§sser mit einem signifikanten Hochwasserrisiko__Gew√§sser mit einem signifikanten Hochwasserrisiko"
                    }
                  ]
                },
                {
                  id: 756,
                  name: "eau_new_Hochwasser Brennpunkte",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:hochwasser_brennpunkte",
                    metadata_id: "b2bfd06d-5f05-4abf-8f41-103d40a380e7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Hochwasser Brennpunkte",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Hochwasser Brennpunkte__Hochwasser Brennpunkte"
                    }
                  ]
                },
                {
                  id: 758,
                  name: "eau_new_Ma√ünahmens des Hochwasserrisikomanagementplans",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:massnahmens_des_hochwasserrisikomanagementplans",
                    metadata_id: "4326fea6-7ec4-4bb9-861f-4476b0d4ceac"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Ma√ünahmens des Hochwasserrisikomanagementplans",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Ma√ünahmens des Hochwasserrisikomanagementplans__Ma√ünahmens des Hochwasserrisikomanagementplans"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 166,
          name: "env_bruit",
          children: [
            {
              id: 2123,
              name: "env_bruit_modelisation",
              children: [
                {
                  id: 232,
                  name: "env_bruit_axes_routiers",
                  children: [
                    {
                      id: 1497,
                      name: "env_bruit2016_axes_routiers_lden",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        metadata_id: "cf1a21cc-8208-420e-bd7e-091d755b6ace",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_routiers_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 1500,
                      name: "env_bruit2016_axes_routiers_lngt",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        metadata_id: "83ae2d3b-f0d9-4584-8c48-f6722bd4f517",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_routiers_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1504,
                      name: "env_bruit_axes_routiers_hotspots_2016",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "c5a6e3c5-6bef-4ff9-ac3e-aa494a34e602"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_hotspots_2016",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_hotspots_2016__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_hotspots_2016__11"
                        }
                      ]
                    },
                    {
                      id: 1505,
                      name: "env_bruit_axes_routiers_agglomeration_2016",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "a6c63355-6e42-4795-9d72-8744b907b151"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_agglomeration_2016",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_agglomeration_2016__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_agglomeration_2016__8"
                        }
                      ]
                    },
                    {
                      id: 326,
                      name: "env_bruit_axes_routiers_lden",
                      metadata: {
                        exclusion: "[333,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        max_dpi: 128,
                        metadata_id: "3e3aa044-89e0-4676-9404-744f64dd7ba0",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_routiers_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 255,
                      name: "env_bruit_axes_routiers_lngt",
                      metadata: {
                        exclusion: "[333,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        max_dpi: 128,
                        metadata_id: "5e4f2607-b114-4884-8e48-8e1faa997eb4",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_routiers_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1475,
                      name: "env_bruit_axes_routiers_hotspots",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "ff6b3d63-871c-4e88-8fc0-0f276abe259a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_hotspots",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_hotspots__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_hotspots__4"
                        }
                      ]
                    },
                    {
                      id: 1485,
                      name: "env_bruit_axes_routiers_agglomeration",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "f1dd0dd5-4dd5-4d88-b556-af39a20ab137",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_routiers_agglomeration",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_routiers_agglomeration__0"
                        },
                        {
                          name: "env_bruit_axes_routiers_agglomeration__2"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 183,
                  name: "env_bruit_axes_ferroviaires",
                  children: [
                    {
                      id: 1498,
                      name: "env_bruit2016_axes_ferroviaires_lden",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        metadata_id: "7975b71b-2fd4-45e6-8c0a-306671d665c6",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_ferroviaires_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 1502,
                      name: "env_bruit2016_axes_ferroviaires_lngt",
                      metadata: {
                        exclusion: "[336,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        metadata_id: "170143ce-53ef-4b2b-997c-a2ccb1b84477",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_ferroviaires_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1503,
                      name: "env_bruit_axes_ferroviaires_hotspots_2016",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "29ef44c6-f357-4d21-829c-f2fdd5fe1149"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_ferroviaires_hotspots_2016",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots_2016__13"
                        },
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots_2016__0"
                        }
                      ]
                    },
                    {
                      id: 310,
                      name: "env_bruit_axes_ferroviaires_lden",
                      metadata: {
                        exclusion: "[334,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        max_dpi: 128,
                        metadata_id: "32b40d1c-111e-4eed-91c7-61d61ef27b8d",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_ferroviaires_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 259,
                      name: "env_bruit_axes_ferroviaires_lngt",
                      metadata: {
                        exclusion: "[334,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        max_dpi: 128,
                        metadata_id: "2d7e26ad-e448-45a2-9045-3dfb3e3ec15b",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit_axes_ferroviaires_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 1476,
                      name: "env_bruit_axes_ferroviaires_hotspots",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "aev:noise_hotspots",
                        metadata_id: "d3b30653-d0bf-4924-96b2-251e9f61c979"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_axes_ferroviaires_hotspots",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots__6"
                        },
                        {
                          name: "env_bruit_axes_ferroviaires_hotspots__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 190,
                  name: "env_bruit_air",
                  children: [
                    {
                      id: 1501,
                      name: "env_bruit2016_axes_aeroport_lden",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        metadata_id: "26e208ff-39a3-4cf6-92db-4c6707fe972a",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_aeroport_lden",
                      imageType: "image/png"
                    },
                    {
                      id: 1499,
                      name: "env_bruit2016_axes_aeroport_lngt",
                      metadata: {
                        exclusion: "[332,336]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        metadata_id: "2aa6f79d-74cc-4f22-bedd-748f8e8e30b9",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "env_bruit2016_axes_aeroport_lngt",
                      imageType: "image/png"
                    },
                    {
                      id: 157,
                      name: "env_bruit_air_lden",
                      metadata: {
                        exclusion: "[335,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lden",
                        max_dpi: 128,
                        metadata_id: "0f4dcfc5-e947-4e5c-9460-702b8e1a572f",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_air_lden",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_air_lden__1"
                        }
                      ]
                    },
                    {
                      id: 327,
                      name: "env_bruit_air_lngt",
                      metadata: {
                        exclusion: "[335,332]",
                        is_queryable: !0,
                        legend_name: "env:bruit_lngt",
                        max_dpi: 128,
                        metadata_id: "6b031060-1f82-467d-af86-afe02a3f04fa",
                        start_opacity: 0.7
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_air_lngt",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_air_lngt__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 2124,
                  name: "env_bruit_multiexposition",
                  children: [
                    {
                      id: 2125,
                      name: "aev_multiexposition_Lden",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "37c1c1a2-1926-4c92-8c2a-b9ce0ac6cfef"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "aev_multiexposition_Lden",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "aev_multiexposition_Lden__1"
                        }
                      ]
                    },
                    {
                      id: 2126,
                      name: "aev_multiexposition_Lnight",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "a536e129-3c0f-4a6c-a767-0519eec880c1"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "aev_multiexposition_Lnight",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "aev_multiexposition_Lnight__2"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1641,
              name: "aev_campagne_mesure_bruit",
              children: [
                {
                  id: 1916,
                  name: "aev_silent_cities_2020",
                  children: [
                    {
                      id: 1917,
                      name: "aev_silent_cities_2020_phase1",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:silent_cities",
                        metadata_id: "58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "aev_silent_cities_2020_phase1",
                      imageType: "image/png",
                      childLayers: [
                        {
                          name: "aev_silent_cities_2020_phase1__2"
                        }
                      ]
                    },
                    {
                      id: 1918,
                      name: "aev_silent_cities_2020_phase2",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:silent_cities",
                        metadata_id: "58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "aev_silent_cities_2020_phase2",
                      imageType: "image/png",
                      childLayers: [
                        {
                          name: "aev_silent_cities_2020_phase2__3"
                        }
                      ]
                    },
                    {
                      id: 1919,
                      name: "aev_silent_cities_2020_phase3",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:silent_cities",
                        metadata_id: "58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "aev_silent_cities_2020_phase3",
                      imageType: "image/png",
                      childLayers: [
                        {
                          name: "aev_silent_cities_2020_phase3__4"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1921,
                  name: "env_bruit_routes_hotspots_2019_group",
                  children: [
                    {
                      id: 1642,
                      name: "env_bruit_routes_hotspots_2019",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "aev:hotspots_rail",
                        metadata_id: "f898e289-c5dd-432b-b3e6-de4c3681b77a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "env_bruit_routes_hotspots_2019",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "env_bruit_routes_hotspots_2019__0"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        bg_layer: "webbasemap",
        css: "lenoz.css",
        display_in_switcher: !0,
        fake_scales: [
          "3000",
          "6000",
          "15000",
          "30000",
          "60000",
          "150000",
          "300000",
          "450000",
          "700000",
          "1500000"
        ],
        page_title: "lenoz.geoportail.lu",
        print_img: "bandeaulenoz.png",
        print_long_txt_de: "Luxemburgische Nachhaltigkeitszertifierung",
        print_long_txt_en: "Luxembourgish durability certification",
        print_long_txt_fr: "Certification en durabilit√© luxembourgeoise",
        print_long_txt_lu: "L√´tzebuergesch Nohalt√´gkeetszertifiz√©irung",
        print_scales: ["10000"],
        print_short_txt_de: "lenoz.geoportail.lu",
        print_short_txt_en: "lenoz.geoportail.lu",
        print_short_txt_fr: "lenoz.geoportail.lu",
        print_short_txt_lu: "lenoz.geoportail.lu",
        resolutions: [
          "500.0",
          "250.0",
          "150.0",
          "100.0",
          "50.0",
          "20.0",
          "10.0",
          "5.0",
          "2.0",
          "1.0"
        ],
        start_layers: ["poi_ecoles"]
      }
    },
    {
      id: 124,
      name: "preizerdaul",
      icon: "preizerdaul",
      children: [
        {
          id: 287,
          name: "group_ac_preizerdaul_pag",
          children: [
            {
              id: 331,
              name: "ac_preizerdaul_pag",
              metadata: {
                is_queryable: !0,
                legend_name: "preizerdaul:pag",
                max_dpi: 128,
                metadata_id: "2eb99e09-635c-400f-a32f-fbc7129854c3",
                start_opacity: 0.7
              },
              dimensions: {},
              type: "WMS",
              layers: "ac_preizerdaul_pag",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "ac_preizerdaul_pag__0"
                }
              ]
            },
            {
              id: 363,
              name: "ac_preizerdaul_ortho",
              metadata: {
                max_dpi: 128,
                metadata_id: "83700e3f-2590-4bab-b93f-47390186a04f"
              },
              dimensions: {},
              type: "WMS",
              layers: "ac_preizerdaul_ortho",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "ac_preizerdaul_ortho__0"
                }
              ]
            },
            {
              id: 137,
              name: "ac_preizerdaul_ortho_2009",
              metadata: {
                max_dpi: 128,
                metadata_id: "2d9a745c-4574-42dd-9c7b-ce8f6ddeb4e3"
              },
              dimensions: {},
              type: "WMS",
              layers: "ac_preizerdaul_ortho_2009",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "ac_preizerdaul_ortho_2009__1"
                },
                {
                  name: "ac_preizerdaul_ortho_2009__0"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        bg_layer: "webbasemap",
        bg_opacity: 0,
        css: "preizerdaul.css",
        link_title: "Administration communale de Pr√©izerdaul",
        page_title: "preizerdaul.geoportail.lu",
        print_img: "preizerdaul.png",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: [
          "1000",
          "1500",
          "2500",
          "5000",
          "10000",
          "15000",
          "20000",
          "25000",
          "50000",
          "80000",
          "100000",
          "125000",
          "200000",
          "250000",
          "400000"
        ],
        print_short_txt_de: "preizerdaul.geoportal.lu",
        print_short_txt_en: "preizerdaul.geoportal.lu",
        print_short_txt_fr: "preizerdaul.geoportail.lu",
        print_short_txt_lu: "preizerdaul.geoportal.lu",
        start_layers: ["ac_preizerdaul_ortho", "ac_preizerdaul_pag"],
        start_x: 95500,
        start_y: 63500,
        start_zoom: 7
      }
    },
    {
      id: 125,
      name: "wellenstein",
      icon: "wellenstein",
      children: [
        {
          id: 279,
          name: "group_ac_wellenstein_pag",
          children: [
            {
              id: 210,
              name: "ac_wellenstein_pag_complet",
              metadata: {
                legend_name: "wellenstein:pag_complet",
                metadata_id: "f92b66ee-4d6c-48fe-a553-83236e8f0ed6",
                start_opacity: 0.7
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "ac_wellenstein_pag_complet",
              imageType: "image/png"
            },
            {
              id: 182,
              name: "ac_wellenstein_pag_zones",
              metadata: {
                legend_name: "wellenstein:pag_complet",
                metadata_id: "f92b66ee-4d6c-48fe-a553-83236e8f0ed6",
                start_opacity: 0.7
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "ac_wellenstein_pag_zones",
              imageType: "image/png"
            },
            {
              id: 257,
              name: "ac_wellenstein_pag_limites",
              metadata: {
                legend_name: "wellenstein:pag_complet",
                metadata_id: "f92b66ee-4d6c-48fe-a553-83236e8f0ed6"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "ac_wellenstein_pag_limites",
              imageType: "image/png"
            },
            {
              id: 258,
              name: "ac_wellenstein_pag_voies_acces",
              metadata: {
                legend_name: "wellenstein:pag_complet",
                metadata_id: "310c9c19-b3fd-42f2-a537-41a5525fa4a2"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "ac_wellenstein_pag_voies_acces",
              imageType: "image/png"
            },
            {
              id: 300,
              name: "ac_wellenstein_pag_perimetres_zones",
              metadata: {
                legend_name: "wellenstein:pag_complet",
                metadata_id: "f92b66ee-4d6c-48fe-a553-83236e8f0ed6"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "ac_wellenstein_pag_perimetres_zones",
              imageType: "image/png"
            },
            {
              id: 305,
              name: "ac_wellenstein_pag_volumes_a_sauvegarder",
              metadata: {
                legend_name: "wellenstein:pag_complet",
                metadata_id: "f92b66ee-4d6c-48fe-a553-83236e8f0ed6"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "ac_wellenstein_pag_volumes_a_sauvegarder",
              imageType: "image/png"
            },
            {
              id: 162,
              name: "ac_wellenstein_pag_volumes_batiments",
              metadata: {
                legend_name: "wellenstein:pag_complet",
                metadata_id: "f92b66ee-4d6c-48fe-a553-83236e8f0ed6"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "ac_wellenstein_pag_volumes_batiments",
              imageType: "image/png"
            },
            {
              id: 282,
              name: "ac_wellenstein_pag_alignements_a_preserver",
              metadata: {
                legend_name: "wellenstein:pag_complet",
                metadata_id: "f92b66ee-4d6c-48fe-a553-83236e8f0ed6"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "ac_wellenstein_pag_alignements_a_preserver",
              imageType: "image/png"
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        bg_layer: "streets",
        css: "wellenstein.css",
        link_title: "Commune de Wellenstein",
        page_title: "wellenstein.geoportail.lu",
        print_img: "wellenstein.png",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: [
          "1000",
          "1500",
          "2500",
          "5000",
          "10000",
          "15000",
          "20000",
          "25000",
          "50000",
          "80000",
          "100000",
          "125000",
          "200000",
          "250000",
          "400000"
        ],
        print_short_txt_de: "wellenstein.geoportal.lu",
        print_short_txt_en: "wellenstein.geoportal.lu",
        print_short_txt_fr: "wellenstein.geoportail.lu",
        print_short_txt_lu: "wellenstein.geoportal.lu",
        start_layers: ["ac_wellenstein_pag_complet"],
        start_x: 64965,
        start_y: 93325.5,
        start_zoom: 6
      }
    },
    {
      id: 131,
      name: "lintgen",
      icon: "lintgen",
      children: [
        {
          id: 422,
          name: "pag_lintgen",
          children: [
            {
              id: 425,
              name: "pag_lintgen_layer",
              metadata: {
                legend_name: "lintgen",
                metadata_id: "809bceff-4802-47d2-983d-290a0956b327",
                start_opacity: 0.6
              },
              dimensions: {},
              type: "WMS",
              layers: "pag_lintgen_layer",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "pag_lintgen_layer__pag_lintgen"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 421,
          name: "eau_4_lintgen",
          children: [
            {
              id: 628,
              name: "eau_new_Bohrungen",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:bohrungen",
                max_dpi: 128,
                metadata_id: "4ab49f17-a50e-4439-9a9e-01ec93421aec"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Bohrungen",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Bohrungen__39"
                }
              ]
            },
            {
              id: 629,
              name: "eau_new_Quellen",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:quellen",
                max_dpi: 128,
                metadata_id: "58fa573a-a0c3-474d-9e74-c277cf90b135"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_Quellen",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_Quellen__Quellen"
                }
              ]
            },
            {
              id: 641,
              name: "eau_new_UESG_1993_(ausser_Mosel)",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:uesg_1993_ausser_mosel",
                max_dpi: 128,
                metadata_id: "78c692f3-ad20-467b-b03a-0d020a821647"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_UESG_1993_(ausser_Mosel)",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_UESG_1993_(ausser_Mosel)__UESG 1993 [ausser Mosel]"
                }
              ]
            },
            {
              id: 642,
              name: "eau_new_UESG_Alzette_1995",
              metadata: {
                is_queryable: !0,
                legend_name: "eau:uesg_alzette_1995",
                max_dpi: 128,
                metadata_id: "aaf81780-df85-4580-a890-fded8ae03db7"
              },
              dimensions: {},
              type: "WMS",
              layers: "eau_new_UESG_Alzette_1995",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "eau_new_UESG_Alzette_1995__UESG Alzette 1995"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        bg_layer: "voidLayer",
        bg_opacity: 0.01,
        css: "lintgen.css",
        fake_scales: ["2000", "2500", "5000", "10000", "15000", "30000"],
        page_title: "lintgen.geoportail.lu",
        print_img: "Lintgen.jpg",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: ["5000", "10000", "15000", "20000", "25000"],
        print_short_txt_de: "lintgen.geoportal.lu",
        print_short_txt_en: "lintgen.geoportal.lu",
        print_short_txt_fr: "lintgen.geoportail.lu",
        print_short_txt_lu: "lintgen.geoportal.lu",
        start_layers: ["pag_lintgen_layer"],
        start_x: 87430,
        start_y: 77248,
        start_zoom: 1
      }
    },
    {
      id: 120,
      name: "remich",
      icon: "remich",
      children: [
        {
          id: 236,
          name: "group_ac_remich_pag",
          children: [
            {
              id: 344,
              name: "ac_remich_pag",
              metadata: {
                legend_name: "remich:pag",
                metadata_id: "14d4159d-e103-4cac-a2a0-418ff24edaee",
                start_opacity: 0.7
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "ac_remich_pag",
              imageType: "image/png"
            },
            {
              id: 267,
              name: "ac_remich_ortho",
              metadata: {
                metadata_id: "a2d86966-e7e6-477e-b581-ae3a0e9f8e68"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "ac_remich_ortho",
              imageType: "image/png"
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        bg_layer: "streets",
        css: "remich.css",
        link_title: "Administration communale de Remich",
        page_title: "remich.geoportail.lu",
        print_img: "remich.png",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: [
          "1000",
          "1500",
          "2500",
          "5000",
          "10000",
          "15000",
          "20000",
          "25000",
          "50000",
          "80000",
          "100000",
          "125000",
          "200000",
          "250000",
          "400000"
        ],
        print_short_txt_de: "remich.geoportal.lu",
        print_short_txt_en: "remich.geoportal.lu",
        print_short_txt_fr: "remich.geoportail.lu",
        print_short_txt_lu: "remich.geoportal.lu",
        start_layers: ["ac_remich_ortho", "ac_remich_pag"],
        start_x: 67965,
        start_y: 94325.5,
        start_zoom: 6
      }
    },
    {
      id: 114,
      name: "commande",
      icon: "commande",
      children: [
        {
          id: 253,
          name: "commande_grp",
          children: [
            {
              id: 200,
              name: "topo_decoupage_100k",
              metadata: {
                is_queryable: !0,
                metadata_id: "0d331d41-73ff-4091-84e1-bf949e092a52"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "topo_decoupage_100k",
              imageType: "image/png"
            },
            {
              id: 219,
              name: "topo_decoupage_50k",
              metadata: {
                is_queryable: !0,
                metadata_id: "f3714ffe-11ec-4a4a-8d51-549ba41086da"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "topo_decoupage_50k",
              imageType: "image/png"
            },
            {
              id: 193,
              name: "topo_decoupage_5000",
              metadata: {
                is_queryable: !0,
                metadata_id: "036d0cd3-c605-40cb-90d3-8c7afd4ddff6"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "topo_decoupage_5000",
              imageType: "image/png"
            },
            {
              id: 188,
              name: "topo_decoupage_tc",
              metadata: {
                is_queryable: !0,
                metadata_id: "ef075fce-9bea-4ecd-89a5-73a2587a464a"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "topo_decoupage_tc",
              imageType: "image/png"
            },
            {
              id: 216,
              name: "decoupage_communes",
              metadata: {
                is_queryable: !0,
                metadata_id: "e71c2d85-3495-435d-90b7-98ac18f9235f"
              },
              dimensions: {},
              type: "WMS",
              layers: "decoupage_communes",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "decoupage_communes__DECOUPAGE_COMMUNE"
                }
              ]
            },
            {
              id: 306,
              name: "decoupage_geo25k",
              metadata: {
                is_queryable: !0,
                metadata_id: "5cf702be-f598-4d49-9af0-67724acf5ae2"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "decoupage_geo25k",
              imageType: "image/png"
            },
            {
              id: 211,
              name: "decoupage_geo25_50k",
              metadata: {
                is_queryable: !0,
                metadata_id: "26ebc97c-166b-426c-ac5c-60ae42256f9e"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "decoupage_geo25_50k",
              imageType: "image/png"
            },
            {
              id: 262,
              name: "cadastre",
              metadata: {
                exclusion: "[1,11,21,31,32,33,34,35,36,37,38,39,51,52,53,54,55,56,57,58,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115]",
                is_queryable: !0,
                legend_name: "pcn_parcelles:show",
                metadata_id: "de5373d6-340f-4203-a065-da7550a03cc4_2050"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "cadastre",
              imageType: "image/png"
            },
            {
              id: 374,
              name: "topo_decoupage_ortho_2013",
              metadata: {
                is_queryable: !0,
                metadata_id: "3a35eb1a-9eaa-4f90-927f-2891d5e865f7"
              },
              dimensions: {},
              type: "WMS",
              layers: "topo_decoupage_ortho_2013",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "topo_decoupage_ortho_2013__DECOUPAGE_ORTHO_2013"
                }
              ]
            },
            {
              id: 375,
              name: "prpl_luref",
              metadata: {
                is_queryable: !0,
                metadata_id: "f97e9064-d97c-4bae-9083-4e21b7469b66"
              },
              dimensions: {},
              type: "WMS",
              layers: "prpl_luref",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "prpl_luref__PRPL_LUREF"
                }
              ]
            },
            {
              id: 376,
              name: "prpl_ntl",
              metadata: {
                is_queryable: !0,
                metadata_id: "426"
              },
              dimensions: {},
              type: "WMS",
              layers: "prpl_ntl",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "prpl_ntl__PRPL_NTL"
                }
              ]
            },
            {
              id: 418,
              name: "repere_alti",
              metadata: {
                is_queryable: !1,
                metadata_id: "3119179b-56bb-459d-8904-1e0a2bfb6bc7"
              },
              dimensions: {},
              type: "WMS",
              layers: "418",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "repere_alti__POI"
                }
              ]
            },
            {
              id: 457,
              name: "topo_decoupage_5000_ed2015",
              metadata: {
                is_queryable: !0,
                metadata_id: "01182ea0-3c30-4fc0-9bc2-e2dc778592da"
              },
              dimensions: {},
              type: "WMS",
              layers: "topo_decoupage_5000_ed2015",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "topo_decoupage_5000_ed2015__DECOUPAGE_5000_ED2015"
                }
              ]
            },
            {
              id: 823,
              name: "feuilles_cadastrales_urplang2",
              metadata: {
                is_queryable: !0,
                metadata_id: "3a35eb1a-9eaa-4f90-927f-2891d5e865f7"
              },
              dimensions: {},
              type: "WMS",
              layers: "feuilles_cadastrales_urplang",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "feuilles_cadastrales_urplang2__FEUILLES_CADASTRALES"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        css: "main.css",
        page_title: "map.geoportail.lu",
        print_img: "bandeau.jpg",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: [
          "1000",
          "1500",
          "2500",
          "5000",
          "10000",
          "15000",
          "20000",
          "25000",
          "50000",
          "80000",
          "100000",
          "125000",
          "200000",
          "250000",
          "400000"
        ],
        print_short_txt_de: "map.geoportal.lu",
        print_short_txt_en: "map.geoportal.lu",
        print_short_txt_fr: "map.geoportal.lu",
        print_short_txt_lu: "map.geoportal.lu"
      }
    },
    {
      id: 123,
      name: "at",
      icon: "at",
      children: [
        {
          id: 394,
          name: "at_ps",
          children: [
            {
              id: 392,
              name: "at_pst",
              children: [
                {
                  id: 410,
                  name: "at_pst1",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:projetspst",
                    max_dpi: 128,
                    metadata_id: "10568679-86b2-487b-b19b-b371c39773c1",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_pst1",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_pst1__0"
                    },
                    {
                      name: "at_pst1__1"
                    }
                  ]
                },
                {
                  id: 408,
                  name: "at_pst2",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:couloirpst",
                    max_dpi: 128,
                    metadata_id: "10568679-86b2-487b-b19b-b371c39773c1",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_pst2",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_pst2__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 398,
              name: "at_psp",
              children: [
                {
                  id: 396,
                  name: "at_psp_cv",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:coupureverte",
                    max_dpi: 128,
                    metadata_id: "84763751-9311-4d45-8f30-06e8370aeffa",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_psp_cv",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_psp_cv__0"
                    }
                  ]
                },
                {
                  id: 409,
                  name: "at_psp_zvi",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:zoneverteinterurbaine",
                    max_dpi: 128,
                    metadata_id: "7428ad86-57d1-4186-98aa-c4c2fb94578f",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_psp_zvi",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_psp_zvi__0"
                    }
                  ]
                },
                {
                  id: 395,
                  name: "at_psp_gep",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:grandsensemblespaysagers",
                    max_dpi: 128,
                    metadata_id: "84763751-9311-4d45-8f30-06e8370aeffa",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_psp_gep",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_psp_gep__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 393,
              name: "at_pszae",
              children: [
                {
                  id: 407,
                  name: "at_pszae1",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:zaeexistante",
                    max_dpi: 128,
                    metadata_id: "2133d9bd-6941-4181-8866-0d8db0e1d041",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_pszae1",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_pszae1__0"
                    },
                    {
                      name: "at_pszae1__1"
                    }
                  ]
                },
                {
                  id: 402,
                  name: "at_pszae2",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:zaenouvext",
                    max_dpi: 128,
                    metadata_id: "ea5da181-a572-43fb-9813-e373ad3ac0c1",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_pszae2",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_pszae2__0"
                    },
                    {
                      name: "at_pszae2__1"
                    }
                  ]
                },
                {
                  id: 403,
                  name: "at_pszae3",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:zoneareclasser",
                    max_dpi: 128,
                    metadata_id: "ea5da181-a572-43fb-9813-e373ad3ac0c1",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_pszae3",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_pszae3__0"
                    },
                    {
                      name: "at_pszae3__1"
                    }
                  ]
                },
                {
                  id: 1435,
                  name: "at_pszae_droit_preemption",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "ac28744b-e9cd-4db1-8904-7bfe137aafcd"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_pszae_droit_preemption",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_pszae_droit_preemption__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 400,
              name: "at_psl",
              children: [
                {
                  id: 401,
                  name: "at_psl1",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:zoneprojenvergurehabitat",
                    max_dpi: 128,
                    metadata_id: "a0c94819-73be-40b8-9327-e3b8b0407633",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_psl1",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_psl1__0"
                    },
                    {
                      name: "at_psl1__1"
                    }
                  ]
                },
                {
                  id: 1436,
                  name: "at_psl_droit_preemption",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "ec647d3d-46bf-4c3d-84dc-fc42f5c875a7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_psl_droit_preemption",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_psl_droit_preemption__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1493,
              name: "at_pds_parcels_group",
              children: [
                {
                  id: 1492,
                  name: "at_pds_parcels",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "attestation_pds",
                    metadata_id: "2b5a9769-3c31-4468-b457-724037bc8657"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_pds_parcels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_pds_parcels__0"
                    }
                  ]
                },
                {
                  id: 1712,
                  name: "at_psl_fond_de_plan",
                  metadata: {
                    metadata_id: "6c0d4541-6626-4ab4-8d02-baebcd2496bb"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_psl_fond_de_plan",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_psl_fond_de_plan__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {
            is_expanded: !0
          },
          mixed: !0
        },
        {
          id: 2208,
          name: "at_diagnostique_terr_group",
          children: [
            {
              id: 2209,
              name: "at_impermeabilisation_group",
              children: [
                {
                  id: 1952,
                  name: "LISL_taux_impermeabilisation_2018",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "lisl_taux_impermeabilisation_2018",
                    metadata_id: "5b40c571-dd3c-4e76-8f4f-b54746799688"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "LISL_taux_impermeabilisation_2018",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "LISL_taux_impermeabilisation_2018__0"
                    },
                    {
                      name: "LISL_taux_impermeabilisation_2018__1"
                    }
                  ]
                },
                {
                  id: 2216,
                  name: "at_impermeabilisation_grid_2018_100m",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:impermeabilisation_grid_2018_100m",
                    metadata_id: "210db74a-e33a-401b-9e17-2cd966cdcd1f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_impermeabilisation_grid_2018_100m",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_impermeabilisation_grid_2018_100m__0"
                    }
                  ]
                },
                {
                  id: 2215,
                  name: "at_impermeabilisation_grid_2018_1km",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:impermeabilisation_grid_2018_1km",
                    metadata_id: "8dc777d0-f910-4c69-a476-85a73dcd8474"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_impermeabilisation_grid_2018_1km",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_impermeabilisation_grid_2018_1km__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2212,
              name: "at_batiments_group",
              children: [
                {
                  id: 2214,
                  name: "at_batiments_periode_construction",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:periode_construction_batiments",
                    metadata_id: "7c138282-86de-4adb-91c2-467b06786821"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_batiments_periode_construction",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_batiments_periode_construction__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 2211,
          name: "at_regional_group",
          children: [
            {
              id: 2218,
              name: "at_region_sud_group",
              children: [
                {
                  id: 2213,
                  name: "at_unesco_minett",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "at:unesco_minett",
                    metadata_id: "815fc4a3-95ef-47b6-a9ff-fa7e88654639"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "at_unesco_minett",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "at_unesco_minett__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 2313,
          name: "at_pos_group",
          children: [
            {
              id: 710,
              name: "pag_pos",
              metadata: {
                is_queryable: !0,
                max_dpi: 128,
                metadata_id: "a5f51e0e-c737-44e6-b0e0-7a0016d87707",
                start_opacity: 1
              },
              dimensions: {},
              type: "WMS",
              layers: "pag_pos",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "pag_pos__0"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        bg_layer: "pixelmaps-gray",
        bg_opacity: 100,
        css: "at.css",
        display_in_switcher: !0,
        fake_scales: [
          "750",
          "1500",
          "3000",
          "6000",
          "15000",
          "30000",
          "60000",
          "150000",
          "300000",
          "450000",
          "700000",
          "1500000"
        ],
        link_title: "Am√©nagement du territoire",
        page_title: "at.geoportail.lu",
        print_img: "bandeau_at.png",
        print_long_txt_de: "Das √∂ffentliche Geoportal des Grossherzogtums Luxemburg",
        print_long_txt_en: "The official geoportal for the Grand-Duchy of Luxembourg",
        print_long_txt_fr: "Le g√©oportail officiel du Grand-Duch√© de Luxembourg",
        print_long_txt_lu: "Den offizielle Geoportal vu L√´tzebuerg",
        print_scales: [
          "1000",
          "1500",
          "2500",
          "5000",
          "10000",
          "15000",
          "20000",
          "25000",
          "50000",
          "80000",
          "100000",
          "125000",
          "200000",
          "250000",
          "400000"
        ],
        print_short_txt_de: "at.geoportal.lu",
        print_short_txt_en: "at.geoportal.lu",
        print_short_txt_fr: "at.geoportail.lu",
        print_short_txt_lu: "at.geoportal.lu",
        resolutions: [
          "500.0",
          "250.0",
          "150.0",
          "100.0",
          "50.0",
          "20.0",
          "10.0",
          "5.0",
          "2.0",
          "1.0",
          "0.5",
          "0.25"
        ]
      }
    },
    {
      id: 800,
      name: "cadastre_hertzien",
      icon: "main",
      children: [
        {
          id: 803,
          name: "cadastre_hertzien_group",
          children: [
            {
              id: 811,
              name: "mat_antennes_moins_50_watt",
              metadata: {
                is_queryable: !0,
                legend_name: "at:antennesbelow50w",
                metadata_id: "cbf57825-26ba-4e36-98e8-083c1945066c"
              },
              dimensions: {},
              type: "WMS",
              layers: "mat_antennes_moins_50_watt",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "mat_antennes_moins_50_watt__0"
                }
              ]
            },
            {
              id: 1930,
              name: "mat_5G_antennes_plus_50_watt",
              metadata: {
                is_queryable: !0,
                metadata_id: "76e25a5d-8e78-40cb-a54b-9cfc27b16e60"
              },
              dimensions: {},
              type: "WMS",
              layers: "mat_5G_antennes_plus_50_watt",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "mat_5G_antennes_plus_50_watt__0"
                }
              ]
            },
            {
              id: 2053,
              name: "mat_5G-3.6GHZ_antennes_plus_50_watt",
              metadata: {
                is_queryable: !0,
                metadata_id: "e048acda-0ec7-4f52-8221-613d9312c28b"
              },
              dimensions: {},
              type: "WMS",
              layers: "mat_5G-3.6GHZ_antennes_plus_50_watt",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "mat_5G-3.6GHZ_antennes_plus_50_watt__0"
                }
              ]
            },
            {
              id: 801,
              name: "mat_antennes_plus_50_watt",
              metadata: {
                is_queryable: !0,
                legend_name: "at:antennes",
                metadata_id: "e4a24392-591c-4d20-a62b-f75a9191488d"
              },
              dimensions: {},
              type: "WMS",
              layers: "mat_antennes_plus_50_watt",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "mat_antennes_plus_50_watt__0"
                }
              ]
            },
            {
              id: 802,
              name: "mat_points_mesure",
              metadata: {
                is_queryable: !0,
                legend_name: "at:pointmesure",
                metadata_id: "f8f71353-40b8-4e10-b72c-85d8fe9e0577"
              },
              dimensions: {},
              type: "WMS",
              layers: "mat_points_mesure",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "mat_points_mesure__0"
                }
              ]
            }
          ],
          metadata: {
            is_expanded: !0
          },
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        display_in_switcher: !0
      }
    },
    {
      id: 1672,
      name: "urban_farming",
      icon: "urban_farming",
      children: [
        {
          id: 1678,
          name: "Donn√©es disponibles",
          children: [
            {
              id: 1679,
              name: "Donn√©es disponibles",
              metadata: {
                is_queryable: !0,
                legend_name: "uf:donnees_disponibles",
                metadata_id: "aaa7619b-8b65-4283-829d-f990c62e7f4c"
              },
              dimensions: {},
              type: "WMS",
              layers: "Donn√©es disponibles",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Donn√©es disponibles__16"
                },
                {
                  name: "Donn√©es disponibles__17"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1690,
          name: "Analyse Ensoleillement",
          children: [
            {
              id: 1806,
              name: "Ensoleillement au 15.02",
              metadata: {
                is_queryable: !0,
                legend_name: "uf:ensoleillement_fr",
                metadata_id: "ece9ef19-b1ff-4acc-9d19-c00f7233d648"
              },
              dimensions: {},
              type: "WMS",
              layers: "Ensoleillement au 15.02",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Ensoleillement au 15.02__3"
                }
              ]
            },
            {
              id: 1683,
              name: "Ensoleillement au 15.05",
              metadata: {
                is_queryable: !0,
                legend_name: "uf:ensoleillement_fr",
                metadata_id: "ece9ef19-b1ff-4acc-9d19-c00f7233d648"
              },
              dimensions: {},
              type: "WMS",
              layers: "Ensoleillement au 15.05",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Ensoleillement au 15.05__2"
                }
              ]
            },
            {
              id: 1682,
              name: "Ensoleillement au 15.08",
              metadata: {
                is_queryable: !0,
                legend_name: "uf:ensoleillement_fr",
                metadata_id: "89b63cab-2220-4b00-abd5-2bfbe35352cd"
              },
              dimensions: {},
              type: "WMS",
              layers: "Ensoleillement au 15.08",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Ensoleillement au 15.08__1"
                }
              ]
            }
          ],
          metadata: {
            legend_name: "uf:solar_hiver",
            metadata_id: "15446cbb-82d8-4d68-b049-a0ad24ae670e"
          },
          mixed: !0
        },
        {
          id: 1673,
          name: "Projet en ext√©rieur, hors sol, professionnel, en toiture",
          children: [
            {
              id: 1674,
              name: "Toitures plates",
              metadata: {
                legend_name: "uf:roof_type",
                metadata_id: "65ba3e71-d581-4cde-b037-b6e852963fe6"
              },
              dimensions: {},
              type: "WMS",
              layers: "Toitures plates",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Toitures plates__12"
                }
              ]
            },
            {
              id: 1675,
              name: "Hauteur des b√¢timents",
              metadata: {
                legend_name: "uf:building_height",
                metadata_id: "021f0cc2-68ea-46b9-97c5-169cc5052e5e"
              },
              dimensions: {},
              type: "WMS",
              layers: "Hauteur des b√¢timents",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Hauteur des b√¢timents__11"
                }
              ]
            },
            {
              id: 1680,
              name: "Accessibilit√© l√©gale",
              metadata: {
                legend_name: "uf:parcels_streets",
                metadata_id: "a53e2022-a799-47b3-9d21-414c992f1019"
              },
              dimensions: {},
              type: "WMS",
              layers: "Accessibilit√© l√©gale",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Accessibilit√© l√©gale__13"
                }
              ]
            },
            {
              id: 1676,
              name: "Ensoleillement",
              metadata: {
                is_queryable: !0,
                legend_name: "uf:ensoleillement",
                metadata_id: "15446cbb-82d8-4d68-b049-a0ad24ae670e"
              },
              dimensions: {},
              type: "WMS",
              layers: "Ensoleillement",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Ensoleillement__10"
                }
              ]
            },
            {
              id: 1681,
              name: "Sites de commercialisation et consommation",
              metadata: {
                is_queryable: !0,
                legend_name: "uf:commerce_closeby",
                metadata_id: "54c3973e-3168-4a0a-9df0-ce5c97360d0d"
              },
              dimensions: {},
              type: "WMS",
              layers: "Sites de commercialisation et consommation",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Sites de commercialisation et consommation__14"
                }
              ]
            },
            {
              id: 1687,
              name: "Typologie 1 - Carte pond√©r√©e pour le 15.02",
              metadata: {
                is_queryable: !0,
                legend_name: "uf:typologie1",
                metadata_id: "aa400ef6-b447-403e-9070-8795067e9017"
              },
              dimensions: {},
              type: "WMS",
              layers: "Typologie 1 - Carte pond√©r√©e pour le 15.02",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Typologie 1 - Carte pond√©r√©e pour le 15.02__8"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1685,
          name: "Projet en ext√©rieur, hors sol, professionnel, au sol",
          children: [
            {
              id: 1676,
              name: "Ensoleillement",
              metadata: {
                is_queryable: !0,
                legend_name: "uf:ensoleillement",
                metadata_id: "15446cbb-82d8-4d68-b049-a0ad24ae670e"
              },
              dimensions: {},
              type: "WMS",
              layers: "Ensoleillement",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Ensoleillement__10"
                }
              ]
            },
            {
              id: 1681,
              name: "Sites de commercialisation et consommation",
              metadata: {
                is_queryable: !0,
                legend_name: "uf:commerce_closeby",
                metadata_id: "54c3973e-3168-4a0a-9df0-ce5c97360d0d"
              },
              dimensions: {},
              type: "WMS",
              layers: "Sites de commercialisation et consommation",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Sites de commercialisation et consommation__14"
                }
              ]
            },
            {
              id: 1688,
              name: "Typologie 2 - Carte pond√©r√©e pour le 15.02",
              metadata: {
                legend_name: "uf:typologie2",
                metadata_id: "2fdba3ac-42ef-4a4d-9480-a0641b9d9cdc"
              },
              dimensions: {},
              type: "WMS",
              layers: "Typologie 2 - Carte pond√©r√©e pour le 15.02",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Typologie 2 - Carte pond√©r√©e pour le 15.02__7"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1686,
          name: "Projet en ext√©rieur, hors sol, communautaire, en toiture",
          children: [
            {
              id: 1674,
              name: "Toitures plates",
              metadata: {
                legend_name: "uf:roof_type",
                metadata_id: "65ba3e71-d581-4cde-b037-b6e852963fe6"
              },
              dimensions: {},
              type: "WMS",
              layers: "Toitures plates",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Toitures plates__12"
                }
              ]
            },
            {
              id: 1675,
              name: "Hauteur des b√¢timents",
              metadata: {
                legend_name: "uf:building_height",
                metadata_id: "021f0cc2-68ea-46b9-97c5-169cc5052e5e"
              },
              dimensions: {},
              type: "WMS",
              layers: "Hauteur des b√¢timents",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Hauteur des b√¢timents__11"
                }
              ]
            },
            {
              id: 1676,
              name: "Ensoleillement",
              metadata: {
                is_queryable: !0,
                legend_name: "uf:ensoleillement",
                metadata_id: "15446cbb-82d8-4d68-b049-a0ad24ae670e"
              },
              dimensions: {},
              type: "WMS",
              layers: "Ensoleillement",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Ensoleillement__10"
                }
              ]
            },
            {
              id: 1689,
              name: "Typologie 3 - Carte pond√©r√©e pour le 15.02",
              metadata: {
                legend_name: "uf:typologie3",
                metadata_id: "1fe3fa11-8d55-4612-b044-95a124cb5740"
              },
              dimensions: {},
              type: "WMS",
              layers: "Typologie 3 - Carte pond√©r√©e pour le 15.02",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "Typologie 3 - Carte pond√©r√©e pour le 15.02__6"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 248,
          name: "flurstucke_grundstucke",
          children: [
            {
              id: 359,
              name: "parcels",
              metadata: {
                exclusion: "[1,11,21,31,32,33,34,35,36,37,38,39,51,52,53,54,55,56,57,58,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122]",
                is_queryable: !0,
                legend_name: "pcn_parcelles:show",
                metadata_id: "de5373d6-340f-4203-a065-da7550a03cc4_2050"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "parcels",
              imageType: "image/png"
            },
            {
              id: 353,
              name: "parcels_labels",
              metadata: {
                metadata_id: "a65629c7-ddd6-43de-b0c3-c49647d8fd2b"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "parcels_labels",
              imageType: "image/png"
            },
            {
              id: 199,
              name: "buildings",
              metadata: {
                exclusion: "[2,12,22,41,42,43,44,45,46,47,48,49,61,62,63,64,65,66,67,68,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222]",
                is_queryable: !0,
                legend_name: "pcn_batiments:show",
                metadata_id: "5d0efc9d-a05a-4964-9f9d-a0ab9932af04"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "buildings",
              imageType: "image/png"
            },
            {
              id: 320,
              name: "toponymes",
              metadata: {
                metadata_id: "ffa537f7-a438-47da-9e0c-8e32260646a9"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "toponymes",
              imageType: "image/png"
            },
            {
              id: 350,
              name: "communes_cadastrales_labels",
              metadata: {
                is_queryable: !0,
                metadata_id: "5ae8fdfb-bb8f-4f72-b7ee-36c7664fe4b5"
              },
              dimensions: {},
              type: "WMS",
              layers: "communes_cadastrales_labels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "communes_cadastrales_labels__COMMUNES_CADASTRALES_LABELS"
                }
              ]
            },
            {
              id: 153,
              name: "communes_cadastrales",
              metadata: {
                is_queryable: !0,
                metadata_id: "8a95f8b2-2cfb-42e7-a51c-02084228b364"
              },
              dimensions: {},
              type: "WMS",
              layers: "communes_cadastrales",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "communes_cadastrales__COMMUNES_CADASTRALES"
                }
              ]
            },
            {
              id: 266,
              name: "sections_cadastrales_labels",
              metadata: {
                is_queryable: !0,
                metadata_id: "69d1b609-11f7-4587-872a-508ee98ea76c"
              },
              dimensions: {},
              type: "WMS",
              layers: "sections_cadastrales_labels",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "sections_cadastrales_labels__SECTIONS_CADASTRALES_LABELS"
                }
              ]
            },
            {
              id: 355,
              name: "sections_cadastrales",
              metadata: {
                is_queryable: !0,
                metadata_id: "c9122320-8f06-4499-ac86-eb469e911369"
              },
              dimensions: {},
              type: "WMS",
              layers: "sections_cadastrales",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "sections_cadastrales__SECTIONS_CADASTRALES"
                }
              ]
            },
            {
              id: 256,
              name: "feuilles_cadastrales",
              metadata: {
                is_queryable: !0,
                metadata_id: "51333029-c8cf-490f-b4a6-80ba239f0cb4"
              },
              dimensions: {},
              type: "WMS",
              layers: "feuilles_cadastrales",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "feuilles_cadastrales__FEUILLES_CADASTRALES"
                }
              ]
            },
            {
              id: 417,
              name: "remembrements",
              metadata: {
                exclusion: "[301,302,303,304,305,306,307,308,309,310]",
                is_queryable: !0,
                max_dpi: 128,
                metadata_id: "03d079f3-61fb-48bc-ab39-f3427b208702",
                start_opacity: 0.7
              },
              dimensions: {},
              type: "WMS",
              layers: "remembrements",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "remembrements__0"
                },
                {
                  name: "remembrements__1"
                }
              ]
            },
            {
              id: 1643,
              name: "act_grid_land_tenure",
              children: [
                {
                  id: 1644,
                  name: "act_privately_owned_land",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "act:privately",
                    metadata_id: "75cb5ae7-7c48-478f-b2a6-1e5bfbdd5958"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "act_privately_owned_land",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "act_privately_owned_land__0"
                    }
                  ]
                },
                {
                  id: 1645,
                  name: "act_state_owned_land",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "act:stateowned",
                    metadata_id: "e8813b4e-43c4-4a72-853e-bd7c06fd1111"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "act_state_owned_land",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "act_state_owned_land__1"
                    }
                  ]
                },
                {
                  id: 1646,
                  name: "act_municipality_owned_land",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "act:municipality",
                    metadata_id: "89d42e03-93ae-444f-a49e-eb869b30071e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "act_municipality_owned_land",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "act_municipality_owned_land__2"
                    }
                  ]
                },
                {
                  id: 1647,
                  name: "act_domainepublic_owned_land",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "act:domainepublic",
                    metadata_id: "ac32c380-37df-4594-bbf2-0fd394482fd9"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "act_domainepublic_owned_land",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "act_domainepublic_owned_land__5"
                    }
                  ]
                },
                {
                  id: 1648,
                  name: "act_publicly_owned_land",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "act:publicly",
                    metadata_id: "0a1852f5-1f32-4bdc-8bbc-d6103921d862"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "act_publicly_owned_land",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "act_publicly_owned_land__6"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        display_in_switcher: !0
      }
    },
    {
      id: 2333,
      name: "3D Meshes",
      icon: "https://map.geoportail.lu/static/0b3affb2592f45f6a379cac74b45a07e/images/blank.png",
      children: [
        {
          id: 2331,
          name: "3d Meshes",
          children: [
            {
              id: 2330,
              name: "2020 mesh",
              metadata: {
                exclusion: '["mesh_2020_vs_bridges_ACT","mesh_2020_vs_trees","mesh_2020_vs_bridges_vdl","mesh_2020_vs_bd-l-bati-3d_vdl","mesh_2020_vs_bd-l-bati-3d","3d_meshes","mesh_2020_vs_buildings25d","mesh_2020_vs_buidlings_3d","mesh_2020_vs_bridges"]',
                metadata_id: "1cd61b50-f2ad-4640-a894-e4488458b87e",
                ol3d_defaultlayer: !0,
                ol3d_options: {
                  heightOffset: -47.8
                }
              },
              dimensions: {},
              type: "WMTS",
              url: "https://acts3.geoportail.lu/3d-data/3d-tiles/mesh3D/mesh3D_2020_v2",
              layer: "Cesium",
              imageType: "image/png"
            }
          ],
          metadata: {
            is_expanded: !0
          },
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        ol3d_type: "mesh"
      }
    },
    {
      id: 818,
      name: "API_ONLY",
      icon: "main",
      children: [
        {
          id: 820,
          name: "API_ONLY_LAYERS",
          children: [
            {
              id: 1363,
              name: "reagis",
              metadata: {
                is_queryable: !0,
                metadata_id: "aafa412b-a2df-428e-a6d2-19a5774c8000"
              },
              dimensions: {},
              type: "WMS",
              layers: "reagis",
              imageType: "image/png",
              style: "dfault",
              childLayers: [
                {
                  name: "reagis__POI"
                }
              ]
            },
            {
              id: 1375,
              name: "makerspaces",
              metadata: {
                is_queryable: !0,
                metadata_id: "4344ba7d-463c-499f-8a15-29e8baf46d9a"
              },
              dimensions: {},
              type: "WMS",
              layers: "makerspaces",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "makerspaces__POI"
                }
              ]
            },
            {
              id: 1376,
              name: "parcels_daily",
              metadata: {
                is_queryable: !0,
                metadata_id: "205a55db-473d-4f0e-8fbb-265dcb4dd8e2"
              },
              dimensions: {},
              type: "WMS",
              layers: "parcels_daily",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "parcels_daily__PARCELLES"
                }
              ]
            },
            {
              id: 1459,
              name: "OSM_MQ",
              metadata: {
                attribution: '&copy; <a href="https://www.mapzen.com/rights">CARTO</a>  &copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors for data outside of Luxembourg',
                metadata_id: "537f7a04-3d75-4f03-9ac4-7212ad78219c"
              },
              dimensions: {},
              type: "WMS",
              layers: "OSM_MQ",
              imageType: "image/png",
              style: "default",
              childLayers: [],
              ogcServer: "source for https://wmts3.geoportail.lu/mapproxy_4_v3/service"
            },
            {
              id: 1798,
              name: "sante_infrastructures_covid19",
              metadata: {
                is_queryable: !0,
                legend_name: "sante_infrastructures_covid19",
                metadata_id: "3f86620b-cb97-49fb-a363-898575f6628c",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "1798",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "sante_infrastructures_covid19__POI"
                }
              ]
            },
            {
              id: 1800,
              name: "sip_theatres",
              metadata: {
                is_queryable: !0,
                metadata_id: "6745d7eb-93e3-4f55-be5f-2286903e46f0",
                start_opacity: 0.9
              },
              dimensions: {},
              type: "WMS",
              layers: "1800",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "sip_theatres__POI"
                }
              ]
            },
            {
              id: 1960,
              name: "stations_sps_Lux",
              metadata: {},
              dimensions: {},
              type: "WMS",
              layers: "1078",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "stations_sps_Lux__POI"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {}
    },
    {
      id: 1530,
      name: "atlas_demographique",
      icon: "https://map.geoportail.lu/static/0b3affb2592f45f6a379cac74b45a07e/images/blank.png",
      children: [
        {
          id: 1546,
          name: "ad_org_territoriale",
          children: [
            {
              id: 1547,
              name: "ad_org_terr_lux",
              children: [
                {
                  id: 1532,
                  name: "ad_communes_cantons",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:communes_cantons",
                    metadata_id: "fbf159ad-4c67-40f4-9b40-547d1eb35642"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_communes_cantons",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_communes_cantons__49"
                    },
                    {
                      name: "ad_communes_cantons__50"
                    }
                  ]
                },
                {
                  id: 1531,
                  name: "ad_fusions_communes",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:fusions_communes",
                    metadata_id: "07ce11d6-1cc7-4e87-9d09-ceb89c39bfe1"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_fusions_communes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_fusions_communes__41"
                    },
                    {
                      name: "ad_fusions_communes__42"
                    },
                    {
                      name: "ad_fusions_communes__43"
                    },
                    {
                      name: "ad_fusions_communes__44"
                    },
                    {
                      name: "ad_fusions_communes__45"
                    },
                    {
                      name: "ad_fusions_communes__46"
                    },
                    {
                      name: "ad_fusions_communes__47"
                    },
                    {
                      name: "ad_fusions_communes__54"
                    }
                  ]
                },
                {
                  id: 1574,
                  name: "ad_poles_urbains",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:poles_urbains",
                    metadata_id: "891c4e2b-8972-4fd7-a1aa-6330f6dafbf8"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_poles_urbains",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_poles_urbains__35"
                    },
                    {
                      name: "ad_poles_urbains__36"
                    },
                    {
                      name: "ad_poles_urbains__37"
                    },
                    {
                      name: "ad_poles_urbains__38"
                    },
                    {
                      name: "ad_poles_urbains__39"
                    },
                    {
                      name: "ad_poles_urbains__54"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1548,
          name: "ad_etat_population",
          children: [
            {
              id: 1549,
              name: "ad_population_stock_evolution_densite",
              children: [
                {
                  id: 1575,
                  name: "ad_population_commune_canton",
                  children: [
                    {
                      id: 1576,
                      name: "ad_population_canton",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:population_canton",
                        metadata_id: "18ceedb6-1867-419f-ab92-11e9787782a0"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_population_canton",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_population_canton__31"
                        },
                        {
                          name: "ad_population_canton__54"
                        }
                      ]
                    },
                    {
                      id: 1577,
                      name: "ad_population_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:population_commune",
                        metadata_id: "26308dad-cae4-4ba7-af9f-5585488efb9d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_population_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_population_commune__32"
                        },
                        {
                          name: "ad_population_commune__54"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1550,
                  name: "ad_evolution_pop_comm",
                  children: [
                    {
                      id: 1533,
                      name: "ad_evol_pop_1981_2018",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:accroissement:1981:2018",
                        metadata_id: "bb9534dd-5a4c-4cfd-8733-90f4b4501379"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_evol_pop_1981_2018",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_evol_pop_1981_2018__29"
                        },
                        {
                          name: "ad_evol_pop_1981_2018__54"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1551,
                  name: "ad_densite_pop",
                  children: [
                    {
                      id: 1535,
                      name: "ad_densite_pop_comm",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:population_densite_commune",
                        metadata_id: "1c6bd461-d2f8-4d87-ab8e-48291eb18cbd"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_densite_pop_comm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_densite_pop_comm__27"
                        },
                        {
                          name: "ad_densite_pop_comm__28"
                        },
                        {
                          name: "ad_densite_pop_comm__54"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1552,
              name: "ad_rapport_hommes_femmes",
              children: [
                {
                  id: 1578,
                  name: "ad_prop_femmes_comm_2018",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:proportion_femmes",
                    metadata_id: "4424bbe2-bb9b-4bab-b0fd-b754d833ce07"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_prop_femmes_comm_2018",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_prop_femmes_comm_2018__25"
                    },
                    {
                      name: "ad_prop_femmes_comm_2018__54"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1554,
              name: "ad_etrangers_lieu_naissance",
              children: [
                {
                  id: 1545,
                  name: "ad_part_etrangers_comm",
                  children: [
                    {
                      id: 1579,
                      name: "ad_structure_pop_comm",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:structure_population",
                        metadata_id: "a12c27e9-37a5-4a1e-a98d-6cfccff42c21"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_structure_pop_comm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_structure_pop_comm__23"
                        },
                        {
                          name: "ad_structure_pop_comm__24"
                        },
                        {
                          name: "ad_structure_pop_comm__54"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1555,
                  name: "ad_nationalites_commune_2018",
                  children: [
                    {
                      id: 1536,
                      name: "ad_part_portugais_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:part_portugais",
                        metadata_id: "78513942-ee02-43c1-bd56-a32e57688bf7"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_part_portugais_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_part_portugais_commune__20"
                        },
                        {
                          name: "ad_part_portugais_commune__21"
                        },
                        {
                          name: "ad_part_portugais_commune__54"
                        }
                      ]
                    },
                    {
                      id: 1534,
                      name: "ad_part_francais_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:part_francais",
                        metadata_id: "aff2570e-da08-47a3-a943-a9d8b16bcebb"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_part_francais_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_part_francais_commune__18"
                        },
                        {
                          name: "ad_part_francais_commune__19"
                        },
                        {
                          name: "ad_part_francais_commune__54"
                        }
                      ]
                    },
                    {
                      id: 1544,
                      name: "ad_part_italiens_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:part_italiens",
                        metadata_id: "c983db23-867c-40b0-8388-80a6bc35cc96"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_part_italiens_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_part_italiens_commune__16"
                        },
                        {
                          name: "ad_part_italiens_commune__17"
                        },
                        {
                          name: "ad_part_italiens_commune__54"
                        }
                      ]
                    },
                    {
                      id: 1541,
                      name: "ad_part_belges_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:part_belges",
                        metadata_id: "9b2484d9-1085-43df-bab0-e1ada3a02fde"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_part_belges_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_part_belges_commune__14"
                        },
                        {
                          name: "ad_part_belges_commune__15"
                        },
                        {
                          name: "ad_part_belges_commune__54"
                        }
                      ]
                    },
                    {
                      id: 1538,
                      name: "ad_part_allemands_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:part_allemands",
                        metadata_id: "0c638f13-5530-41fc-8f3b-68eba2cbf8db"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_part_allemands_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_part_allemands_commune__12"
                        },
                        {
                          name: "ad_part_allemands_commune__13"
                        },
                        {
                          name: "ad_part_allemands_commune__54"
                        }
                      ]
                    },
                    {
                      id: 1543,
                      name: "ad_part_UE28_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:part_ue28",
                        metadata_id: "2e232af1-5a76-44ba-b793-2e891c4d2056"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_part_UE28_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_part_UE28_commune__10"
                        },
                        {
                          name: "ad_part_UE28_commune__11"
                        },
                        {
                          name: "ad_part_UE28_commune__54"
                        }
                      ]
                    },
                    {
                      id: 1542,
                      name: "ad_part_nonUE28_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:part_non_ue28",
                        metadata_id: "448fb00f-a7e6-442e-bc45-4f4eb2ba57b8"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_part_nonUE28_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_part_nonUE28_commune__8"
                        },
                        {
                          name: "ad_part_nonUE28_commune__9"
                        },
                        {
                          name: "ad_part_nonUE28_commune__54"
                        }
                      ]
                    },
                    {
                      id: 1537,
                      name: "ad_part_africains_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:part_africains",
                        metadata_id: "4cda15de-4bf7-442c-b4ea-cf9eb48132e2"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_part_africains_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_part_africains_commune__6"
                        },
                        {
                          name: "ad_part_africains_commune__7"
                        },
                        {
                          name: "ad_part_africains_commune__54"
                        }
                      ]
                    },
                    {
                      id: 1539,
                      name: "ad_part_americains_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:part_americains",
                        metadata_id: "5b9181b3-29a1-41a6-a44a-9e54a8677efd"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_part_americains_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_part_americains_commune__4"
                        },
                        {
                          name: "ad_part_americains_commune__5"
                        },
                        {
                          name: "ad_part_americains_commune__54"
                        }
                      ]
                    },
                    {
                      id: 1540,
                      name: "ad_part_asiates_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:part_asiates",
                        metadata_id: "8f83aa66-4b95-4632-90c3-164f591ad99d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_part_asiates_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_part_asiates_commune__2"
                        },
                        {
                          name: "ad_part_asiates_commune__3"
                        },
                        {
                          name: "ad_part_asiates_commune__54"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1580,
                  name: "ad_lieu_naissance_lux_etr",
                  children: [
                    {
                      id: 1581,
                      name: "ad_lieu_naissance_commune",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:lieu_naissance",
                        metadata_id: "34c8f0cb-08fd-41d9-8f6c-e0036e48a7a2"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_lieu_naissance_commune",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_lieu_naissance_commune__0"
                        },
                        {
                          name: "ad_lieu_naissance_commune__54"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1556,
              name: "ad_structure_age",
              children: [
                {
                  id: 1557,
                  name: "ad_age_moyen",
                  children: [
                    {
                      id: 1561,
                      name: "ad_age_moyen_femmes",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_moyen_femmes",
                        metadata_id: "d371cccb-da30-4a98-9d6e-1b0a6cb43e84"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_age_moyen_femmes",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_age_moyen_femmes__25"
                        },
                        {
                          name: "ad_age_moyen_femmes__26"
                        }
                      ]
                    },
                    {
                      id: 1562,
                      name: "ad_age_moyen_hommes",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_moyen_hommes",
                        metadata_id: "6448bc58-c7a2-483e-8fef-381bcd24c007"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_age_moyen_hommes",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_age_moyen_hommes__24"
                        },
                        {
                          name: "ad_age_moyen_hommes__26"
                        }
                      ]
                    },
                    {
                      id: 1563,
                      name: "ad_age_moyen_2",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_moyen_2",
                        metadata_id: "d5e02e7a-859e-445e-984f-c88cc03f107e"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_age_moyen_2",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_age_moyen_2__23"
                        },
                        {
                          name: "ad_age_moyen_2__26"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1558,
                  name: "ad_proportion_classes_age",
                  children: [
                    {
                      id: 1564,
                      name: "ad_moins20",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_moins20",
                        metadata_id: "5834d06d-316a-41e8-823d-68e522b77550"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_moins20",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_moins20__21"
                        },
                        {
                          name: "ad_moins20__26"
                        }
                      ]
                    },
                    {
                      id: 1565,
                      name: "ad_20_64",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_20_64",
                        metadata_id: "8d1624c9-9c5e-4131-8ebe-4989a1214be1"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_20_64",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_20_64__20"
                        },
                        {
                          name: "ad_20_64__26"
                        }
                      ]
                    },
                    {
                      id: 1566,
                      name: "ad_65plus",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_65plus",
                        metadata_id: "e263aee4-2f0f-454c-84d5-7abd64406211"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_65plus",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_65plus__19"
                        },
                        {
                          name: "ad_65plus__26"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1559,
                  name: "ad_proportion_jeunes",
                  children: [
                    {
                      id: 1567,
                      name: "ad_moins3",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_moin3",
                        metadata_id: "e270926d-1f82-42c5-be80-c8f0d551e52c"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_moins3",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_moins3__17"
                        },
                        {
                          name: "ad_moins3__26"
                        }
                      ]
                    },
                    {
                      id: 1568,
                      name: "ad_3_5",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_3_5",
                        metadata_id: "68791225-c16c-45c8-ba06-fa88be4ef4e0"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_3_5",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_3_5__16"
                        },
                        {
                          name: "ad_3_5__26"
                        }
                      ]
                    },
                    {
                      id: 1569,
                      name: "ad_6_10",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_6_10",
                        metadata_id: "2e54caf6-b57c-4da5-855e-0dd521518862"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_6_10",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_6_10__15"
                        },
                        {
                          name: "ad_6_10__26"
                        }
                      ]
                    },
                    {
                      id: 1570,
                      name: "ad_11_17",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_11_17",
                        metadata_id: "cc51e192-a9b7-4d2f-9406-4ed6639280ed"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_11_17",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_11_17__14"
                        },
                        {
                          name: "ad_11_17__26"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1560,
                  name: "ad_proportion_ages",
                  children: [
                    {
                      id: 1571,
                      name: "ad_65_74",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_65_74",
                        metadata_id: "fb59a479-3177-417b-a905-bff71f9eb335"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_65_74",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_65_74__12"
                        },
                        {
                          name: "ad_65_74__26"
                        }
                      ]
                    },
                    {
                      id: 1572,
                      name: "ad_75_89",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_75_89",
                        metadata_id: "ee4a9399-501f-4a1f-93b0-d3827d3dd016"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_75_89",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_75_89__11"
                        },
                        {
                          name: "ad_75_89__26"
                        }
                      ]
                    },
                    {
                      id: 1573,
                      name: "ad_90plus",
                      metadata: {
                        is_queryable: !0,
                        legend_name: "ad:age_90plus",
                        metadata_id: "c859f388-6e37-49c5-bc23-404703ad9215"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ad_90plus",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ad_90plus__10"
                        },
                        {
                          name: "ad_90plus__26"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1589,
              name: "ad_rapport_dependance",
              children: [
                {
                  id: 1582,
                  name: "ad_rapport_dependance_personnes_agees",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:rapport_dependance_ages",
                    metadata_id: "b739896e-28cb-471b-afc8-4c9d8a36fcf5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_rapport_dependance_personnes_agees",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_rapport_dependance_personnes_agees__7"
                    },
                    {
                      name: "ad_rapport_dependance_personnes_agees__26"
                    }
                  ]
                },
                {
                  id: 1583,
                  name: "ad_rapport_dependance_jeunes",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:rapport_dependance_jeunes",
                    metadata_id: "711df835-4cf0-4557-80dc-67c7c18d5f3c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_rapport_dependance_jeunes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_rapport_dependance_jeunes__6"
                    },
                    {
                      name: "ad_rapport_dependance_jeunes__26"
                    }
                  ]
                },
                {
                  id: 1584,
                  name: "ad_rapport_dependance_total",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:rapport_dependance_total",
                    metadata_id: "b898fae0-2073-4cc2-88b4-a4851e93e16f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_rapport_dependance_total",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_rapport_dependance_total__5"
                    },
                    {
                      name: "ad_rapport_dependance_total__26"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1590,
              name: "ad_situation_matrimoniale",
              children: [
                {
                  id: 1585,
                  name: "ad_celibataires",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:celibataires",
                    metadata_id: "40c3ab92-f09b-4722-b401-a6a271f083a4"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_celibataires",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_celibataires__4"
                    },
                    {
                      name: "ad_celibataires__26"
                    }
                  ]
                },
                {
                  id: 1586,
                  name: "ad_maries_pacses",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:maries",
                    metadata_id: "764c6af3-bc24-43a6-9741-d3e4f7cf83bb"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_maries_pacses",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_maries_pacses__3"
                    },
                    {
                      name: "ad_maries_pacses__26"
                    }
                  ]
                },
                {
                  id: 1587,
                  name: "ad_divorces_separes",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:divorces",
                    metadata_id: "7eb6a7f9-1419-4b34-adbc-fecaef5b5954"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_divorces_separes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_divorces_separes__2"
                    },
                    {
                      name: "ad_divorces_separes__26"
                    }
                  ]
                },
                {
                  id: 1588,
                  name: "ad_veufs_veuves",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:veufs",
                    metadata_id: "e17b3af4-b31b-47ec-9a38-c01e8d3ccb30"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_veufs_veuves",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_veufs_veuves__1"
                    },
                    {
                      name: "ad_veufs_veuves__26"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1591,
          name: "ad_mouvement_population",
          children: [
            {
              id: 1592,
              name: "ad_naissances",
              children: [
                {
                  id: 1597,
                  name: "ad_naissances_taux_natalite",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:naissances_taux_natalite",
                    metadata_id: "9930d837-0412-47a3-bca1-711cdd61af6a"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_naissances_taux_natalite",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_naissances_taux_natalite__58"
                    },
                    {
                      name: "ad_naissances_taux_natalite__59"
                    },
                    {
                      name: "ad_naissances_taux_natalite__61"
                    }
                  ]
                },
                {
                  id: 1598,
                  name: "ad_naissances_mariage",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:naissances_mariage",
                    metadata_id: "535ff8a9-86b6-486d-8a68-2e73e0c7a979"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_naissances_mariage",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_naissances_mariage__56"
                    },
                    {
                      name: "ad_naissances_mariage__61"
                    }
                  ]
                },
                {
                  id: 1599,
                  name: "ad_naissances_age_maternite",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:naissances_age_maternite",
                    metadata_id: "75a40efe-456c-4f72-8ce7-ea860143ea29"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_naissances_age_maternite",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_naissances_age_maternite__54"
                    },
                    {
                      name: "ad_naissances_age_maternite__61"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1593,
              name: "ad_deces",
              children: [
                {
                  id: 1600,
                  name: "ad_deces_taux_mortalite",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:deces_taux_mortalite",
                    metadata_id: "68b8de6b-b71f-4f93-9d07-150181d2dfba"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_deces_taux_mortalite",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_deces_taux_mortalite__50"
                    },
                    {
                      name: "ad_deces_taux_mortalite__51"
                    },
                    {
                      name: "ad_deces_taux_mortalite__61"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1594,
              name: "ad_solde_naturel",
              children: [
                {
                  id: 1601,
                  name: "ad_solde_naturel_nombre_absolu",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:solde_naturel",
                    metadata_id: "7a2fd409-5e34-48b6-89a1-83d14b519dff"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_solde_naturel_nombre_absolu",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_solde_naturel_nombre_absolu__45"
                    },
                    {
                      name: "ad_solde_naturel_nombre_absolu__46"
                    },
                    {
                      name: "ad_solde_naturel_nombre_absolu__47"
                    },
                    {
                      name: "ad_solde_naturel_nombre_absolu__61"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1595,
              name: "ad_migrations",
              children: [
                {
                  id: 1603,
                  name: "ad_migrations_solde_interne",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:migrations_solde",
                    metadata_id: "2d500aa2-fe45-4a07-ab9f-506b11153744"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_migrations_solde_interne",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_migrations_solde_interne__40"
                    },
                    {
                      name: "ad_migrations_solde_interne__41"
                    },
                    {
                      name: "ad_migrations_solde_interne__42"
                    },
                    {
                      name: "ad_migrations_solde_interne__61"
                    }
                  ]
                },
                {
                  id: 1604,
                  name: "ad_migrations_solde_international",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:migrations_solde_international",
                    metadata_id: "48795eb2-baf4-4f60-bb41-bed3b7dac520"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_migrations_solde_international",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_migrations_solde_international__36"
                    },
                    {
                      name: "ad_migrations_solde_international__37"
                    },
                    {
                      name: "ad_migrations_solde_international__38"
                    },
                    {
                      name: "ad_migrations_solde_international__61"
                    }
                  ]
                },
                {
                  id: 1605,
                  name: "ad_migrations_solde_total",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:migrations_solde_total",
                    metadata_id: "27cdcc17-8190-4381-94df-e06dcbe7808a"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_migrations_solde_total",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_migrations_solde_total__32"
                    },
                    {
                      name: "ad_migrations_solde_total__33"
                    },
                    {
                      name: "ad_migrations_solde_total__34"
                    },
                    {
                      name: "ad_migrations_solde_total__61"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1596,
              name: "ad_mariages",
              children: [
                {
                  id: 1606,
                  name: "ad_mariages_taux_nuptialite",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:mariages_taux_nuptialite",
                    metadata_id: "25192002-b1b7-49fd-a0d7-b83642c07c68"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_mariages_taux_nuptialite",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_mariages_taux_nuptialite__28"
                    },
                    {
                      name: "ad_mariages_taux_nuptialite__29"
                    },
                    {
                      name: "ad_mariages_taux_nuptialite__61"
                    }
                  ]
                },
                {
                  id: 1607,
                  name: "ad_mariages_age_femme",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:mariages_age_femmes",
                    metadata_id: "727febc6-600f-425c-a8d6-1349890f5e31"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_mariages_age_femme",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_mariages_age_femme__26"
                    },
                    {
                      name: "ad_mariages_age_femme__61"
                    }
                  ]
                },
                {
                  id: 1608,
                  name: "ad_mariage_age_hommes",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:mariages_age_homme",
                    metadata_id: "e7334b68-11fe-430f-95d5-d2f792d24011"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_mariage_age_hommes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_mariage_age_hommes__25"
                    },
                    {
                      name: "ad_mariage_age_hommes__61"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1602,
          name: "ad_langues_lux",
          children: [
            {
              id: 1616,
              name: "ad_langue_principale_2018",
              children: [
                {
                  id: 1609,
                  name: "ad_langues_luxembourgeois",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:langues_lux",
                    metadata_id: "665006fe-aaff-40d3-8adc-76f41909a2cf"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_langues_luxembourgeois",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_langues_luxembourgeois__21"
                    },
                    {
                      name: "ad_langues_luxembourgeois__22"
                    },
                    {
                      name: "ad_langues_luxembourgeois__61"
                    }
                  ]
                },
                {
                  id: 1610,
                  name: "ad_langues_francais",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:langues_francais",
                    metadata_id: "207b92c0-6479-4bbc-b8a3-3ddef53d3029"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_langues_francais",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_langues_francais__18"
                    },
                    {
                      name: "ad_langues_francais__19"
                    },
                    {
                      name: "ad_langues_francais__61"
                    }
                  ]
                },
                {
                  id: 1611,
                  name: "ad_langues_allemand",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:langues_allemand",
                    metadata_id: "2fbdab89-6330-426c-af00-a1ce4b6294f5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_langues_allemand",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_langues_allemand__15"
                    },
                    {
                      name: "ad_langues_allemand__16"
                    },
                    {
                      name: "ad_langues_allemand__61"
                    }
                  ]
                },
                {
                  id: 1612,
                  name: "ad_langues_portugais",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:langues_portugais",
                    metadata_id: "a0efcf68-9445-4d39-8193-a6f9cebf500b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_langues_portugais",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_langues_portugais__12"
                    },
                    {
                      name: "ad_langues_portugais__13"
                    },
                    {
                      name: "ad_langues_portugais__61"
                    }
                  ]
                },
                {
                  id: 1613,
                  name: "ad_langues_italien",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:langues_italien",
                    metadata_id: "aa83ba2b-297e-4d1a-9dbf-00853a3a01bd"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_langues_italien",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_langues_italien__9"
                    },
                    {
                      name: "ad_langues_italien__10"
                    },
                    {
                      name: "ad_langues_italien__61"
                    }
                  ]
                },
                {
                  id: 1614,
                  name: "ad_langues_anglais",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:langues_anglais",
                    metadata_id: "2fef731d-4c11-4c56-be6c-69b2f800931d"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_langues_anglais",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_langues_anglais__6"
                    },
                    {
                      name: "ad_langues_anglais__7"
                    },
                    {
                      name: "ad_langues_anglais__61"
                    }
                  ]
                },
                {
                  id: 1615,
                  name: "ad_langues_autre",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "ad:langues_autre",
                    metadata_id: "6c87f276-7219-4507-b4ba-a7f8a2378856"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ad_langues_autre",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ad_langues_autre__3"
                    },
                    {
                      name: "ad_langues_autre__4"
                    },
                    {
                      name: "ad_langues_autre__61"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        display_in_switcher: !0
      }
    },
    {
      id: 1732,
      name: "logement",
      icon: "https://map.geoportail.lu/static/0b3affb2592f45f6a379cac74b45a07e/images/blank.png",
      children: [
        {
          id: 1733,
          name: "log_prix",
          children: [
            {
              id: 1734,
              name: "log_prix_app",
              children: [
                {
                  id: 1739,
                  name: "log_prix_app_existants",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "logt_prix_app_exist",
                    metadata_id: "9679921a-f90e-4d26-9918-96e66225a171"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "log_prix_app_existants",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "log_prix_app_existants__14"
                    }
                  ]
                },
                {
                  id: 1740,
                  name: "log_prix_app_en_construction",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "logt_prix_app_enconstruction",
                    metadata_id: "bbb36662-64ba-4d2e-a9a4-7ab00d0bb264"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "log_prix_app_en_construction",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "log_prix_app_en_construction__13"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1735,
              name: "log_loyers",
              children: [
                {
                  id: 1741,
                  name: "log_loyers_app",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "logt_loyers_app",
                    metadata_id: "2c3dc437-77ac-4030-a8d0-f61fd12e8f5e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "log_loyers_app",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "log_loyers_app__11"
                    }
                  ]
                },
                {
                  id: 1742,
                  name: "log_loyers_maisons",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "logt_loyers_maisons",
                    metadata_id: "f914e59b-6684-4a94-b5ec-b5a782708371"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "log_loyers_maisons",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "log_loyers_maisons__10"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1736,
              name: "log_prix_terrains",
              children: [
                {
                  id: 1743,
                  name: "log_prix_median_terrain_15_17",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "logt_prix_median_terrain",
                    metadata_id: "3d5b4a58-3817-41fe-b2db-9310fa605635"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "log_prix_median_terrain_15_17",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "log_prix_median_terrain_15_17__8"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1737,
          name: "log_potentiel_foncier",
          children: [
            {
              id: 1744,
              name: "log_superficie_2016",
              metadata: {
                is_queryable: !0,
                legend_name: "logt_superficie_dispo",
                metadata_id: "c3fb1ec8-10d3-4e2b-9272-bb0a7396cdb5"
              },
              dimensions: {},
              type: "WMS",
              layers: "log_superficie_2016",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "log_superficie_2016__5"
                }
              ]
            },
            {
              id: 1745,
              name: "log_superficie_selon_type_2016",
              metadata: {
                is_queryable: !0,
                legend_name: "logt_superficie_selon_type",
                metadata_id: "8c6408ca-4195-4cf0-b4bc-8c095f372c42"
              },
              dimensions: {},
              type: "WMS",
              layers: "log_superficie_selon_type_2016",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "log_superficie_selon_type_2016__4"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1738,
          name: "log_consommation_fonciere",
          children: [
            {
              id: 1746,
              name: "log_superficie_consommee",
              metadata: {
                is_queryable: !0,
                legend_name: "logt_superficie_consommee",
                metadata_id: "6766fa1f-26fe-402b-9f21-e3d6e903f13b"
              },
              dimensions: {},
              type: "WMS",
              layers: "log_superficie_consommee",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "log_superficie_consommee__2"
                }
              ]
            },
            {
              id: 1747,
              name: "log_superficie_reconstruite",
              metadata: {
                is_queryable: !0,
                legend_name: "logt_superficie_reconstruite",
                metadata_id: "ea8570b2-f85b-4445-a5d1-a63ac01fa2c1"
              },
              dimensions: {},
              type: "WMS",
              layers: "log_superficie_reconstruite",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "log_superficie_reconstruite__1"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        display_in_switcher: !0
      }
    },
    {
      id: 1833,
      name: "energie",
      icon: "https://map.geoportail.lu/static/0b3affb2592f45f6a379cac74b45a07e/images/blank.png",
      children: [
        {
          id: 1842,
          name: "energie_solaire_group",
          children: [
            {
              id: 1821,
              name: "myenergy_solarkataster",
              children: [
                {
                  id: 1813,
                  name: "myenergy_solarkataster_luxemburg_solar_potentials",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:potentiel_solaire",
                    metadata_id: "97628fac-c53b-4426-a829-b188105b9ead",
                    ogc_info_format: "geojson",
                    ogc_info_srs: "epsg:3857",
                    ogc_query_layers: ["luxemburg_feature_info"]
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "myenergy_solarkataster_luxemburg_solar_potentials",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "myenergy_solarkataster_luxemburg_solar_potentials__luxemburg_solar_potentials"
                    }
                  ]
                },
                {
                  id: 1819,
                  name: "myenergy_solarkataster_luxemburg_feed_in_potential",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:tarifs_injection",
                    metadata_id: "23e8adfb-b628-4a4f-89ea-0f057baf6ec8",
                    ogc_info_format: "geojson",
                    ogc_info_srs: "epsg:3857"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "myenergy_solarkataster_luxemburg_feed_in_potential",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "myenergy_solarkataster_luxemburg_feed_in_potential__luxemburg_feed_in_potential"
                    }
                  ]
                },
                {
                  id: 1818,
                  name: "myenergy_solarkataster_luxemburg_roofs_above_30_kWp",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:toitures",
                    metadata_id: "a16c315e-abae-4904-95bc-90199393e8ae",
                    ogc_info_format: "geojson",
                    ogc_info_srs: "epsg:3857"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "myenergy_solarkataster_luxemburg_roofs_above_30_kWp",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "myenergy_solarkataster_luxemburg_roofs_above_30_kWp__luxemburg_roofs_above_30_kWp"
                    }
                  ]
                },
                {
                  id: 152,
                  name: "addresses",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "28b310e4-b9e1-467c-a28d-fce2e9a96548"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "addresses",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1690,
              name: "Analyse Ensoleillement",
              children: [
                {
                  id: 1806,
                  name: "Ensoleillement au 15.02",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "uf:ensoleillement_fr",
                    metadata_id: "ece9ef19-b1ff-4acc-9d19-c00f7233d648"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "Ensoleillement au 15.02",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "Ensoleillement au 15.02__3"
                    }
                  ]
                },
                {
                  id: 1683,
                  name: "Ensoleillement au 15.05",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "uf:ensoleillement_fr",
                    metadata_id: "ece9ef19-b1ff-4acc-9d19-c00f7233d648"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "Ensoleillement au 15.05",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "Ensoleillement au 15.05__2"
                    }
                  ]
                },
                {
                  id: 1682,
                  name: "Ensoleillement au 15.08",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "uf:ensoleillement_fr",
                    metadata_id: "89b63cab-2220-4b00-abd5-2bfbe35352cd"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "Ensoleillement au 15.08",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "Ensoleillement au 15.08__1"
                    }
                  ]
                }
              ],
              metadata: {
                legend_name: "uf:solar_hiver",
                metadata_id: "15446cbb-82d8-4d68-b049-a0ad24ae670e"
              },
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1843,
          name: "energie_eolienne_group",
          children: [
            {
              id: 1360,
              name: "aev_emplacements_eoliennes",
              metadata: {
                is_queryable: !0,
                legend_name: "aev:eoliennes",
                metadata_id: "354c5313-a733-4121-8f0d-5e0932d563b7"
              },
              dimensions: {},
              type: "WMS",
              layers: "aev_emplacements_eoliennes",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "aev_emplacements_eoliennes__0"
                },
                {
                  name: "aev_emplacements_eoliennes__1"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1835,
          name: "ilr_energie_group",
          children: [
            {
              id: 1946,
              name: "ilr_energie_canton",
              children: [
                {
                  id: 1934,
                  name: "ilr_energie_cantons_biogas",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:biogaz",
                    metadata_id: "3caf3f4a-f492-4635-8c8e-b1b7ad37ae24-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_biogas",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_biogas__11"
                    },
                    {
                      name: "ilr_energie_cantons_biogas__12"
                    }
                  ]
                },
                {
                  id: 1935,
                  name: "ilr_energie_cantons_biomasse",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:biomasse",
                    metadata_id: "021ba8d1-2af9-45b7-8e30-c461ae56416a"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_biomasse",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_biomasse__9"
                    },
                    {
                      name: "ilr_energie_cantons_biomasse__12"
                    }
                  ]
                },
                {
                  id: 1936,
                  name: "ilr_energie_cantons_cogeneration",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:cogeneration",
                    metadata_id: "71a854b4-010d-48a4-acc1-8eddc2bb87c1-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_cogeneration",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_cogeneration__7"
                    },
                    {
                      name: "ilr_energie_cantons_cogeneration__12"
                    }
                  ]
                },
                {
                  id: 1937,
                  name: "ilr_energie_cantons_eolienne",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:eolienne",
                    metadata_id: "97ce42fc-848c-4c1c-a361-61a9736ae97f-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_eolienne",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_eolienne__5"
                    },
                    {
                      name: "ilr_energie_cantons_eolienne__12"
                    }
                  ]
                },
                {
                  id: 1938,
                  name: "ilr_energie_cantons_hydroelectrique",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:hydroelectrique",
                    metadata_id: "a96e0c84-8dcc-49af-a753-7321072aa198-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_hydroelectrique",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_hydroelectrique__3"
                    },
                    {
                      name: "ilr_energie_cantons_hydroelectrique__12"
                    }
                  ]
                },
                {
                  id: 1939,
                  name: "ilr_energie_cantons_photovoltaique",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:solaire",
                    metadata_id: "1bd8193e-5728-4020-be60-9677f3a2c2d6-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_cantons_photovoltaique",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_cantons_photovoltaique__1"
                    },
                    {
                      name: "ilr_energie_cantons_photovoltaique__12"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1947,
              name: "ilr_energie_commune",
              children: [
                {
                  id: 1940,
                  name: "ilr_energie_communes_biogas",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:biogaz",
                    metadata_id: "3caf3f4a-f492-4635-8c8e-b1b7ad37ae24-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_biogas",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_biogas__10"
                    },
                    {
                      name: "ilr_energie_communes_biogas__12"
                    }
                  ]
                },
                {
                  id: 1941,
                  name: "ilr_energie_communes_biomasse",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:biomasse",
                    metadata_id: "021ba8d1-2af9-45b7-8e30-c461ae56416a"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_biomasse",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_biomasse__8"
                    },
                    {
                      name: "ilr_energie_communes_biomasse__12"
                    }
                  ]
                },
                {
                  id: 1942,
                  name: "ilr_energie_communes_cogeneration",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:cogeneration",
                    metadata_id: "71a854b4-010d-48a4-acc1-8eddc2bb87c1-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_cogeneration",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_cogeneration__6"
                    },
                    {
                      name: "ilr_energie_communes_cogeneration__12"
                    }
                  ]
                },
                {
                  id: 1943,
                  name: "ilr_energie_communes_eolienne",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:eolienne",
                    metadata_id: "97ce42fc-848c-4c1c-a361-61a9736ae97f-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_eolienne",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_eolienne__4"
                    },
                    {
                      name: "ilr_energie_communes_eolienne__12"
                    }
                  ]
                },
                {
                  id: 1944,
                  name: "ilr_energie_communes_hydroelectrique",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:hydroelectrique",
                    metadata_id: "a96e0c84-8dcc-49af-a753-7321072aa198-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_hydroelectrique",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_hydroelectrique__2"
                    },
                    {
                      name: "ilr_energie_communes_hydroelectrique__12"
                    }
                  ]
                },
                {
                  id: 1945,
                  name: "ilr_energie_communes_photovoltaique",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "energie:ilr:solaire",
                    metadata_id: "1bd8193e-5728-4020-be60-9677f3a2c2d6-intranet"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "ilr_energie_communes_photovoltaique",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "ilr_energie_communes_photovoltaique__0"
                    },
                    {
                      name: "ilr_energie_communes_photovoltaique__12"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1847,
          name: "energie_disponibilite",
          children: [
            {
              id: 1494,
              name: "gaz_naturel",
              metadata: {
                is_queryable: !0,
                legend_name: "gaz",
                metadata_id: "9e04e366-fcb7-4836-8d09-41b20f280cb0",
                start_opacity: 0.75
              },
              dimensions: {},
              type: "WMS",
              layers: "gaz_naturel",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "gaz_naturel__0"
                },
                {
                  name: "gaz_naturel__2"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1845,
          name: "electromobilite_group",
          children: [
            {
              id: 1381,
              name: "chargy",
              metadata: {
                is_queryable: !0,
                legend_name: "chargy",
                metadata_id: "801d732a-c285-4fcd-a043-c5220d6d7eef"
              },
              dimensions: {},
              type: "WMS",
              layers: "chargy",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "chargy__chargy"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        display_in_switcher: !0
      }
    },
    {
      id: 1834,
      name: "np_our",
      icon: "https://map.geoportail.lu/static/0b3affb2592f45f6a379cac74b45a07e/images/blank.png",
      children: [
        {
          id: 1860,
          name: "npour_basisdaten",
          children: [
            {
              id: 1861,
              name: "npour_basisdaten_verwaltungseinheiten",
              children: [
                {
                  id: 302,
                  name: "communes",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "de5373d6-340f-4203-a065-da7550a03cc4_2049"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "communes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "communes__COMMUNES"
                    }
                  ]
                },
                {
                  id: 269,
                  name: "communes_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "17c7d883-ff7f-4b48-a894-46bea40d2e49"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "communes_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "communes_labels__COMMUNES_LABELS"
                    }
                  ]
                },
                {
                  id: 329,
                  name: "cantons",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "e8a034e8-f986-4745-a848-b7ef30ce2740"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "CANTONS",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cantons__CANTONS"
                    }
                  ]
                },
                {
                  id: 346,
                  name: "cantons_labels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3af20a80-be4a-4819-a42b-18e49af799aa"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cantons_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cantons_labels__CANTONS_LABELS"
                    }
                  ]
                },
                {
                  id: 744,
                  name: "tour_ort",
                  metadata: {
                    legend_name: "ort",
                    metadata_id: "44dbfde5-664e-4e45-8802-3d60b52eb9cb"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_ort",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_ort__0"
                    },
                    {
                      name: "tour_ort__1"
                    }
                  ]
                },
                {
                  id: 746,
                  name: "tour_leader",
                  metadata: {
                    legend_name: "leader",
                    metadata_id: "a48aec89-7341-459e-a7d3-0e572982b255"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_leader",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_leader__0"
                    },
                    {
                      name: "tour_leader__1"
                    },
                    {
                      name: "tour_leader__2"
                    }
                  ]
                },
                {
                  id: 747,
                  name: "tour_parcsnaturels",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "parcnaturel",
                    metadata_id: "f519c4e7-4459-49b5-b8c1-569328252d44"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_parcnaturels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_parcsnaturels__0"
                    },
                    {
                      name: "tour_parcsnaturels__1"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1862,
              name: "npour_basisdaten_adressen",
              children: [
                {
                  id: 152,
                  name: "addresses",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "28b310e4-b9e1-467c-a28d-fce2e9a96548"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "addresses",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1863,
              name: "npour_basisdaten_topo",
              children: [
                {
                  id: 223,
                  name: "topo_250k",
                  metadata: {
                    metadata_id: "e1f601a5-ed8f-4043-8719-0cad50cbb483"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_250k",
                  imageType: "image/png"
                },
                {
                  id: 1730,
                  name: "topo_100k_2019",
                  metadata: {
                    legend_name: "topo_100k_sans_tour",
                    metadata_id: "ce051f08-bca6-43c0-af7b-5fcf3e02376e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "topo_100k_2019",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "topo_100k_2019__topo_100k"
                    }
                  ]
                },
                {
                  id: 1727,
                  name: "topo_50k_2019",
                  metadata: {
                    legend_name: "topo_50k_sans_tour",
                    metadata_id: "abc505e1-224c-455e-9e7f-4f094eb4e7b0"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "topo_50k_2019",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "topo_50k_2019__50K-2019-LUX_avec_ETRANGER"
                    }
                  ]
                },
                {
                  id: 206,
                  name: "topo_20k",
                  metadata: {
                    legend_name: "topo_20k",
                    metadata_id: "ea998ae8-731a-43bc-aa9f-171684f97602"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_20k",
                  imageType: "image/png"
                },
                {
                  id: 149,
                  name: "topo_tour_20k",
                  metadata: {
                    legend_name: "topo_tour_20k",
                    metadata_id: "1173_"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_tour_20k",
                  imageType: "image/png"
                },
                {
                  id: 195,
                  name: "topo_5k",
                  metadata: {
                    exclusion: "[32,42]",
                    legend_name: "topo_5k",
                    metadata_id: "270_2012"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_5k",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 178,
              name: "luft_und_satellitenbilder",
              children: [
                {
                  id: 2272,
                  name: "ortho_2021",
                  metadata: {
                    exclusion: "[121,221]",
                    metadata_id: "ea0bd2ff-b743-4f3a-bd9b-450976563de9"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR_4_V3",
                  layer: "ortho_2021",
                  imageType: "image/jpeg"
                },
                {
                  id: 2056,
                  name: "ortho_2020",
                  metadata: {
                    exclusion: "[119,219]",
                    metadata_id: "87870b8a-10a1-4c33-bf50-7efe851fd450"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR_4_V3",
                  layer: "ortho_2020",
                  imageType: "image/jpeg"
                },
                {
                  id: 1784,
                  name: "ortho_2019",
                  metadata: {
                    exclusion: "[116,216]",
                    metadata_id: "97c88ef6-6c64-4cb0-a134-06bb42b2b448"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2019",
                  imageType: "image/jpeg"
                },
                {
                  id: 1789,
                  name: "ortho_2019_winter",
                  metadata: {
                    exclusion: "[118,218]",
                    metadata_id: "d6cc500f-b802-4be2-a49c-73f3eb2d131e"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2019_winter",
                  imageType: "image/jpeg"
                },
                {
                  id: 1527,
                  name: "ortho_2018",
                  metadata: {
                    exclusion: "[113,213]",
                    metadata_id: "6fde72c4-802f-4663-be74-5fa5901cb4f0"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2018",
                  imageType: "image/jpeg"
                },
                {
                  id: 1371,
                  name: "ortho_2017",
                  metadata: {
                    exclusion: "[111,211]",
                    metadata_id: "1cdae616-1a7a-49d5-b35d-05864891641f"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2017",
                  imageType: "image/jpeg"
                },
                {
                  id: 745,
                  name: "ortho_2016",
                  metadata: {
                    exclusion: "[107,207]",
                    metadata_id: "bba79b6d-4205-4ce4-98e4-7b7922afcd55"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2016",
                  imageType: "image/jpeg"
                },
                {
                  id: 360,
                  name: "ortho_2013",
                  metadata: {
                    exclusion: "[106,206]",
                    metadata_id: "ced4a3dd-135e-43d0-86b9-2318982581f7"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2013",
                  imageType: "image/jpeg"
                },
                {
                  id: 342,
                  name: "ortho_2010",
                  metadata: {
                    exclusion: "[105,205]",
                    metadata_id: "0faf4bdb-a54b-42d7-942c-4e52fa66e963"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2010",
                  imageType: "image/jpeg"
                },
                {
                  id: 231,
                  name: "ortho_2007",
                  metadata: {
                    exclusion: "[101,201]",
                    metadata_id: "3be3d98e-7997-4ff6-8d77-e393a5fc4fdd"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2007",
                  imageType: "image/jpeg"
                },
                {
                  id: 224,
                  name: "ortho_2004",
                  metadata: {
                    exclusion: "[103,203]",
                    metadata_id: "a185f78a-ca9c-43f8-8d06-b1abba8ff056"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2004",
                  imageType: "image/jpeg"
                },
                {
                  id: 225,
                  name: "ortho_2001",
                  metadata: {
                    exclusion: "[104,204]",
                    metadata_id: "e6ff269c-1c7c-401f-a90b-b805e80a046e"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "ortho_2001",
                  imageType: "image/jpeg"
                },
                {
                  id: 345,
                  name: "topo_decoupage_ortho",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3a35eb1a-9eaa-4f90-927f-2891d5e865f7"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "topo_decoupage_ortho",
                  imageType: "image/png"
                },
                {
                  id: 292,
                  name: "wg_ikonos_satellitendaten",
                  metadata: {
                    legend_name: "wg:ikonos_satellitendaten",
                    metadata_id: "db0eea79-114a-4e61-a1f2-7e064f92cdd3"
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                  style: "default",
                  matrixSet: "GLOBAL_WEBMERCATOR",
                  layer: "wg_ikonos_satellitendaten",
                  imageType: "image/png"
                },
                {
                  id: 341,
                  name: "aero_1951_10k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "16586649-8e46-4b04-b75c-5537a4bf214e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1951_10k",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aero_1951_10k__1951_10k"
                    }
                  ]
                },
                {
                  id: 229,
                  name: "aero_1951_25k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "b3b5fc05-323c-4f0b-804c-a4c186d62a96"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1951_25k",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aero_1951_25k__1951_25k"
                    }
                  ]
                },
                {
                  id: 140,
                  name: "aero_1963_20k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "56b65f04-d3ab-45b6-9e93-95c8c9524c3e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1963_20k",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aero_1963_20k__1963_20k"
                    }
                  ]
                },
                {
                  id: 665,
                  name: "aero_1977_30k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "d9dd951e-7345-4ba2-9a76-ce54305edf2f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1977_30k",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "aero_1977_30k__1977_30k"
                    }
                  ]
                },
                {
                  id: 743,
                  name: "aero_1987_30k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "98b63794-8cb1-42ff-9872-214f990ec8cd"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1987_30k",
                  imageType: "image/png",
                  style: "defaults",
                  childLayers: [
                    {
                      name: "aero_1987_30k__1987_30k"
                    }
                  ]
                },
                {
                  id: 748,
                  name: "aero_1994_30k",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "abf7f6f5-8647-4317-98f6-8d4f5cd38585"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "aero_1994_30k",
                  imageType: "image/png",
                  style: "defaults",
                  childLayers: [
                    {
                      name: "aero_1994_30k__1994_30k"
                    }
                  ]
                },
                {
                  id: 790,
                  name: "Orthophotos Infrarouge",
                  children: [
                    {
                      id: 2283,
                      name: "ortho2021_IR",
                      metadata: {
                        exclusion: "[122,222]",
                        metadata_id: "067dc519-f507-45db-8e7a-f3ccc9125bc5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ortho2021_IR",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ortho2021_IR__ortho2021_10cm_ir_EPSG2169"
                        }
                      ]
                    },
                    {
                      id: 2089,
                      name: "ortho2020_IR",
                      metadata: {
                        exclusion: "[120,220]",
                        metadata_id: "134fb490-c022-476d-b484-dc652ae8c626"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ortho2020_IR",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ortho2020_IR__Luxembourg-2020_ortho10cm_PIR_LUREF"
                        }
                      ]
                    },
                    {
                      id: 1785,
                      name: "ortho2019_IR",
                      metadata: {
                        exclusion: "[117,217]",
                        metadata_id: "3dfd031a-1721-4f35-b358-25062d5d4c26"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ortho2019_IR",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ortho2019_IR__ortho_2019_20cm_ir"
                        }
                      ]
                    },
                    {
                      id: 1529,
                      name: "ortho2018_IR",
                      metadata: {
                        exclusion: "[114,214]",
                        metadata_id: "2edf6bcb-2a1c-4b8c-8488-56000133abb4"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "ortho2018_IR",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "ortho2018_IR__4"
                        }
                      ]
                    },
                    {
                      id: 1372,
                      name: "ortho_2017_irc",
                      metadata: {
                        exclusion: "[112,212]",
                        metadata_id: "659a3236-a22e-44ae-9fa3-025cdf5d0043"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "ortho_2017_irc",
                      imageType: "image/jpeg"
                    },
                    {
                      id: 793,
                      name: "ortho_2016_irc",
                      metadata: {
                        exclusion: "[110,210]",
                        is_queryable: !0,
                        metadata_id: "c313da75-7d8b-4570-9db5-bb6add56309e"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "ortho_2016_irc",
                      imageType: "image/jpeg"
                    },
                    {
                      id: 792,
                      name: "ortho_2013_irc",
                      metadata: {
                        exclusion: "[109,209]",
                        is_queryable: !0,
                        metadata_id: "649b34a1-a195-40b4-81c9-0100343b9661"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "ortho_2013_irc",
                      imageType: "image/jpeg"
                    },
                    {
                      id: 791,
                      name: "ortho_2010_irc",
                      metadata: {
                        exclusion: "[108,208]",
                        is_queryable: !0,
                        metadata_id: "728ffc2a-9062-4822-8596-01f0e93f6b40"
                      },
                      dimensions: {},
                      type: "WMTS",
                      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
                      style: "default",
                      matrixSet: "GLOBAL_WEBMERCATOR",
                      layer: "ortho_2010_irc",
                      imageType: "image/jpeg"
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1865,
          name: "npour_poi_group",
          children: [
            {
              id: 1879,
              name: "npour_poi_propres",
              children: [
                {
                  id: 1880,
                  name: "npour_poi_admin",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "d5e79fbd-4a11-428f-a7be-4a765508e791"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_admin",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_admin__administration_publique"
                    }
                  ]
                },
                {
                  id: 1881,
                  name: "npour_poi_batiments_reli",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "a3384282-5913-4610-b28e-72fa46ea18ea"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_batiments_reli",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_batiments_reli__batiments_religieux"
                    }
                  ]
                },
                {
                  id: 1894,
                  name: "npour_poi_culture",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "d4b40114-f351-484d-9b09-bbfc0fd20abd"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_culture",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_culture__culture"
                    }
                  ]
                },
                {
                  id: 1883,
                  name: "npour_poi_secours",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "988f5449-959b-488b-acfe-bfb2eee23247"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_secours",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_secours__services_de_secours"
                    }
                  ]
                },
                {
                  id: 1884,
                  name: "npour_poi_autres",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "ed8ad1e0-d4ff-46ee-8c2b-91323f45786b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_autres",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_autres__autres_prestations"
                    }
                  ]
                },
                {
                  id: 1878,
                  name: "npour_poi_transport",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "3821f8ee-0d90-47a0-b54f-02235af78fc2"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_transport",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_transport__transport_et_circulation"
                    }
                  ]
                },
                {
                  id: 1885,
                  name: "npour_poi_sociale",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "fa6c56a3-1bb6-4147-916b-956d0ce795e8"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_sociale",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_sociale__social"
                    }
                  ]
                },
                {
                  id: 1886,
                  name: "npour_poi_enseignement",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "6b31dedb-5bd7-44f3-a34e-48871adae269"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_enseignement",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_enseignement__enseignement"
                    }
                  ]
                },
                {
                  id: 1887,
                  name: "npour_poi_sante",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "f6480b65-fd0e-441d-a5fe-fd240540b57b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_sante",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_sante__sante"
                    }
                  ]
                },
                {
                  id: 1888,
                  name: "npour_poi_attraction",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "7e66c353-2a0d-4d58-a782-f2ec67371166"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_attraction",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_attraction__attractions"
                    }
                  ]
                },
                {
                  id: 1889,
                  name: "npour_poi_logement",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "d9f9d25d-2c2e-41a8-84fb-ba6d941ddb05"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_logement",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_logement__logement"
                    }
                  ]
                },
                {
                  id: 1890,
                  name: "npour_poi_gastronomie",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "54de547d-f500-4985-9893-96f58f9b8bc1"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_gastronomie",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_gastronomie__gastronomie"
                    }
                  ]
                },
                {
                  id: 1891,
                  name: "npour_poi_sport",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "43b24d55-7198-41f2-86d4-e6203d71ec09"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_sport",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_sport__sports_loisirs"
                    }
                  ]
                },
                {
                  id: 1892,
                  name: "npour_poi_tourisme",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "c36ba1cd-0d28-491f-8d51-e268e420a8f9"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_tourisme",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_tourisme__tourisme"
                    }
                  ]
                },
                {
                  id: 1893,
                  name: "npour_poi_commerce",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "87c0fcc6-3452-47f7-9b23-0fd9c9f38189"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_poi_commerce",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_poi_commerce__commerce"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 684,
              name: "editus_pois_tourisme",
              children: [
                {
                  id: 542,
                  name: "editus_poi_299",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_1",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "542",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_299__POI"
                    }
                  ]
                },
                {
                  id: 543,
                  name: "editus_poi_286",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_2",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "543",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_286__POI"
                    }
                  ]
                },
                {
                  id: 544,
                  name: "editus_poi_285",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_3",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "544",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_285__POI"
                    }
                  ]
                },
                {
                  id: 545,
                  name: "editus_poi_287",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_4",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "545",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_287__POI"
                    }
                  ]
                },
                {
                  id: 546,
                  name: "editus_poi_289",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_5",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "546",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_289__POI"
                    }
                  ]
                },
                {
                  id: 547,
                  name: "editus_poi_290",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_6",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "547",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_290__POI"
                    }
                  ]
                },
                {
                  id: 549,
                  name: "editus_poi_291",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_7",
                    metadata_id: "4a04ebff-4954-4c4d-9387-46d3587eccef",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "549",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_291__POI"
                    }
                  ]
                },
                {
                  id: 550,
                  name: "editus_poi_292",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_8",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "550",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_292__POI"
                    }
                  ]
                },
                {
                  id: 551,
                  name: "editus_poi_293",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_9",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "551",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_293__POI"
                    }
                  ]
                },
                {
                  id: 548,
                  name: "editus_poi_294",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_10",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "548",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_294__POI"
                    }
                  ]
                },
                {
                  id: 552,
                  name: "editus_poi_295",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_11",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "552",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_295__POI"
                    }
                  ]
                },
                {
                  id: 553,
                  name: "editus_poi_296",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_12",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "553",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_296__POI"
                    }
                  ]
                },
                {
                  id: 554,
                  name: "editus_poi_298",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "editus_13",
                    metadata_id: "ae1bc422-5751-4efa-92af-c24287609dbb",
                    start_opacity: 0.9
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "554",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "editus_poi_298__POI"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2018,
              name: "tour_erleben_new",
              children: [
                {
                  id: 2042,
                  name: "tour_tourist_info_new",
                  metadata: {
                    is_queryable: !0
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "tour_tourist_info_new",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "tour_tourist_info_new__0"
                    }
                  ]
                },
                {
                  id: 2030,
                  name: "tour_essen_uebernachten_new",
                  children: [
                    {
                      id: 2038,
                      name: "tour_hotels_new",
                      metadata: {
                        is_queryable: !0
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "tour_hotels_new",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "tour_hotels_new__8"
                        }
                      ]
                    },
                    {
                      id: 2037,
                      name: "tour_camping_new",
                      metadata: {
                        is_queryable: !0
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "tour_camping_new",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "tour_camping_new__7"
                        }
                      ]
                    },
                    {
                      id: 2036,
                      name: "tour_jugendherberge_new",
                      metadata: {
                        is_queryable: !0
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "tour_jugendherberge_new",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "tour_jugendherberge_new__6"
                        }
                      ]
                    },
                    {
                      id: 2035,
                      name: "tour_fewo_new",
                      metadata: {
                        is_queryable: !0
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "tour_fewo_new",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "tour_fewo_new__5"
                        }
                      ]
                    },
                    {
                      id: 2034,
                      name: "tour_bb_new",
                      metadata: {
                        is_queryable: !0
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "tour_bb_new",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "tour_bb_new__4"
                        }
                      ]
                    },
                    {
                      id: 2033,
                      name: "tour_restaurants_new",
                      metadata: {
                        is_queryable: !0
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "tour_restaurants_new",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "tour_restaurants_new__3"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 2031,
                  name: "tour_kultur_new",
                  children: [
                    {
                      id: 2044,
                      name: "tour_burgen_schloesser_new",
                      metadata: {
                        is_queryable: !0
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "tour_burgen_schloesser_new",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "tour_burgen_schloesser_new__2"
                        }
                      ]
                    },
                    {
                      id: 2043,
                      name: "tour_museen_new",
                      metadata: {
                        is_queryable: !0
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "tour_museen_new",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "tour_museen_new__1"
                        }
                      ]
                    },
                    {
                      id: 2027,
                      name: "tour_unesco_new",
                      metadata: {
                        is_queryable: !0
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=131"
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1866,
          name: "npour_wanderwege_group",
          children: [
            {
              id: 1867,
              name: "npour_wanderwege_eigene_group",
              children: [
                {
                  id: 1895,
                  name: "npour_wanderwege_eigene",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "ef5983e1-a28f-4770-845a-8fcbd6f22fc0"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "npour_wanderwege_eigene",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "npour_wanderwege_eigene__randonnee"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 304,
              name: "tour_quality",
              children: [
                {
                  id: 189,
                  name: "tour_mullerthal_trail",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "543f42ef-8aaf-47e3-8a3a-c694c05cbf67"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=7"
                },
                {
                  id: 205,
                  name: "tour_escape_ardenne",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "ecd56a00-be39-424f-a240-aab88ac680ef"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=16"
                },
                {
                  id: 250,
                  name: "tour_DeLux",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "dde68324-501b-4fdd-972a-c6fef3f1c3d1"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=13"
                },
                {
                  id: 168,
                  name: "tour_rando_traumschleifen_new",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "5ef27e69-57e1-4d76-9332-bfa268196ce0"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=22"
                }
              ],
              metadata: {
                is_expanded: !0
              },
              mixed: !0
            },
            {
              id: 1868,
              name: "npour_wanderwege_andere",
              children: [
                {
                  id: 176,
                  name: "tour_autopedestre",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "aa1953b8-f97a-4871-bcd8-eb27e98098df"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=11,43"
                },
                {
                  id: 227,
                  name: "tour_sentiers_nationaux",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "04188aad-5a70-4b9c-a478-64d4899e0a86"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=4"
                },
                {
                  id: 158,
                  name: "tour_cfl",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "c4ac0376-8958-497c-a8d0-197d723df82c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=12"
                },
                {
                  id: 197,
                  name: "tour_sentiers_ajl",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "bf8fcfc4-8b94-4fb8-a419-321d5d6a8f3f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=10"
                },
                {
                  id: 235,
                  name: "tour_sentiers_gr",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "6e9e8843-e20b-4b20-9ee3-53f6b0d06e8e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=9"
                },
                {
                  id: 218,
                  name: "tour_saint_jacques",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667"],
                    metadata_id: "210bf21c-6e3d-4555-907c-bb29c963b6e3"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=6"
                },
                {
                  id: 316,
                  name: "env_sentiersnature",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "cfc8de82-e187-4547-a1da-83385f86c786"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "env_sentiersnature",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "env_sentiersnature__sentiers_nature"
                    }
                  ]
                },
                {
                  id: 179,
                  name: "tour_sentiers_locaux",
                  children: [
                    {
                      id: 177,
                      name: "tour_sentiers_communaux",
                      metadata: {
                        is_queryable: !0,
                        linked_layers: ["667", "444"],
                        metadata_id: "4d39824a-6a5d-4020-bc88-a0bb3d3e28e6"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=18"
                    },
                    {
                      id: 246,
                      name: "tour_sentiers_syndicats",
                      metadata: {
                        is_queryable: !0,
                        linked_layers: ["667", "444"],
                        metadata_id: "3e98c2a3-b991-4b11-b3cc-d18aaf6eac80"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "category",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [],
                      ogcServer: "source for config://my_maps?category_id=19"
                    }
                  ],
                  metadata: {
                    is_expanded: !0
                  },
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1869,
          name: "npour_radwege_group",
          children: [
            {
              id: 281,
              name: "tour_velo_v2",
              children: [
                {
                  id: 808,
                  name: "velo_by_pch",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "tour_velo_national",
                    metadata_id: "387f6949-0fc4-43a5-b0e6-4e09bdf65225"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "velo_by_pch",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "velo_by_pch__1"
                    },
                    {
                      name: "velo_by_pch__0"
                    }
                  ]
                },
                {
                  id: 512,
                  name: "tour_pistes_velo_mymaps2",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "tour_velo_national",
                    metadata_id: "8e3c102a-393e-4d48-a321-9f8957ff49cf"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=106"
                },
                {
                  id: 809,
                  name: "lvi_circuits_cyclables",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "8ae3eb00-4f7d-40e7-b7e0-c913fb70b2b9"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=117,501"
                },
                {
                  id: 293,
                  name: "tour_pistes_vtt",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "fbc9cdfe-c3f4-4f75-960e-169973fb020c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=8"
                },
                {
                  id: 676,
                  name: "tour_velo_route",
                  metadata: {
                    is_queryable: !0,
                    linked_layers: ["667", "444"],
                    metadata_id: "b2e4a860-73cf-455c-95ff-2ccdf69186ed"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=107"
                },
                {
                  id: 1650,
                  name: "unseco_biketour",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "eda8222e-b76f-4016-8fea-87b27d0f622f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=501"
                },
                {
                  id: 725,
                  name: "tour_tdl",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "35226642-3f09-4f98-86b6-6e55316bce53"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "category",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [],
                  ogcServer: "source for config://my_maps?category_id=33"
                },
                {
                  id: 1913,
                  name: "tour_restrictions_velo",
                  children: [
                    {
                      id: 1713,
                      name: "chantiers_actuels_pc",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "7d59f3a6-e8d8-464b-bbf9-73c6ca358a51",
                        start_opacity: 1
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "chantiers_actuels_pc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "chantiers_actuels_pc__CHANTIERS_ACTUEL_PC"
                        }
                      ]
                    },
                    {
                      id: 1714,
                      name: "chantiers_futurs_pc",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "f6b9df36-5e62-46d1-ae91-c7c58c7e2e45",
                        start_opacity: 1
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "chantiers_futurs_pc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "chantiers_futurs_pc__CHANTIERS_FUTUR_PC"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1870,
          name: "npour_infrastruktur",
          children: [
            {
              id: 1871,
              name: "npour_verkehrsnetze",
              children: [
                {
                  id: 181,
                  name: "roads",
                  metadata: {
                    legend_name: "road_network:show",
                    metadata_id: "12627f90-f0f8-41b3-a56a-2e11a232ba59"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "roads",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "roads__ROADS_NOLABELS"
                    }
                  ]
                },
                {
                  id: 351,
                  name: "roads_labels",
                  metadata: {
                    metadata_id: "5d606cae-cbc6-44c3-a465-edb981e44a39"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "roads_labels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "roads_labels__ROADS_LABELS"
                    }
                  ]
                },
                {
                  id: 147,
                  name: "arrets_bus",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:arrets_de_bus",
                    metadata_id: "7318c6e8-bb63-40e0-9e40-46ae7b0dc266"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "arrets_bus",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "arrets_bus__0"
                    },
                    {
                      name: "arrets_bus__1"
                    }
                  ]
                },
                {
                  id: 813,
                  name: "cdt_lignes_all",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "bbe0523f-374d-4c94-a27d-7ce81d8bae3b"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "cdt_lignes_all",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "cdt_lignes_all__lignes_de_bus"
                    }
                  ]
                },
                {
                  id: 1381,
                  name: "chargy",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "chargy",
                    metadata_id: "801d732a-c285-4fcd-a043-c5220d6d7eef"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "chargy",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "chargy__chargy"
                    }
                  ]
                },
                {
                  id: 423,
                  name: "mobiliteit_cfl",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:cfl",
                    max_dpi: 128,
                    metadata_id: "0b3c42a2-275e-4519-b228-f407d46b8350"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_cfl",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_cfl__1"
                    }
                  ]
                },
                {
                  id: 377,
                  name: "mobiliteit_pr",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "mobiliteit:pr",
                    max_dpi: 128,
                    metadata_id: "9e0c97ae-aff9-41fc-9489-bbf97999163d"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "mobiliteit_pr",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "mobiliteit_pr__2"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1924,
          name: "npour_umwelt",
          children: [
            {
              id: 807,
              name: "zpin_group",
              children: [
                {
                  id: 804,
                  name: "anf_zpin_declarees",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:zpin_declarees",
                    metadata_id: "9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_zpin_declarees",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_zpin_declarees__ZPIN_DECLAREES"
                    }
                  ]
                },
                {
                  id: 805,
                  name: "anf_zpin_a_declarer",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:zpin_a_declarer",
                    metadata_id: "db53336b-1a33-4b1a-94a8-42a29b55ce45"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_zpin_a_declarer",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_zpin_a_declarer__ZPIN_A_DECLARER"
                    }
                  ]
                },
                {
                  id: 806,
                  name: "anf_zpin_en_procedure",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "anf:zpin_en_procedure_reglementaire",
                    metadata_id: "74499cf0-ab69-48bd-a357-8c151dd3d5c9"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_zpin_en_procedure",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 334,
              name: "env_zones_protegees_communautaires",
              children: [
                {
                  id: 146,
                  name: "env_natura2000",
                  children: [
                    {
                      id: 1915,
                      name: "anf_communes_copil_2020",
                      metadata: {
                        is_queryable: !0,
                        metadata_id: "e0369dfa-0219-4a60-84c4-4ce60cec0a02"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "anf_communes_copil_2020",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "anf_communes_copil_2020__COMMUNES_COPIL_2020"
                        }
                      ]
                    },
                    {
                      id: 540,
                      name: "natura2000_habitats",
                      metadata: {
                        is_queryable: !0,
                        max_dpi: 128,
                        metadata_id: "080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "natura2000_habitats",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "natura2000_habitats__2"
                        },
                        {
                          name: "natura2000_habitats__0"
                        }
                      ]
                    },
                    {
                      id: 533,
                      name: "natura2000_oiseaux",
                      metadata: {
                        is_queryable: !0,
                        max_dpi: 128,
                        metadata_id: "080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "natura2000_oiseaux",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "natura2000_oiseaux__1"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 180,
              name: "anf_secteurs_ecologiques_group",
              children: [
                {
                  id: 690,
                  name: "anf_secteurs_ecologiques",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "8afa4162-c23b-4001-b737-4074d4f5360f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_secteurs_ecologiques",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_secteurs_ecologiques__SECTEURS_ECOLOGIQUES"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 366,
              name: "emwelt_biotop_kadaster",
              children: [
                {
                  id: 1367,
                  name: "anf_biotopes_points",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "env:btk_p",
                    metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_biotopes_points",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_biotopes_points__BIOTOPES_MO_EL_PONCTUELS"
                    }
                  ]
                },
                {
                  id: 1368,
                  name: "anf_biotopes_vergers",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "env:btk_s",
                    metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_biotopes_vergers",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_biotopes_vergers__BIOTOPES_MO_VERGERS"
                    }
                  ]
                },
                {
                  id: 1369,
                  name: "anf_biotopes_surfaces",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "env:btk_f",
                    metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_biotopes_surfaces",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_biotopes_surfaces__BIOTOPES_MO_SURFACES"
                    }
                  ]
                },
                {
                  id: 1370,
                  name: "anf_biotopes_tampons",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "env:btk_b",
                    metadata_id: "f46eace4-8a83-4fa5-b2dd-a417a46fc720"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "anf_biotopes_tampons",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "anf_biotopes_tampons__BIOTOPES_MO_ZONES_TAMPONS"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1872,
          name: "npour_agri",
          children: [
            {
              id: 307,
              name: "asta",
              children: [
                {
                  id: 1637,
                  name: "asta_flik_parcels",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "f511a4ee-928a-4900-ac05-52aa0ce03bba"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "asta_flik_parcels",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "asta_flik_parcels__3"
                    }
                  ]
                },
                {
                  id: 1511,
                  name: "asta_prairies_permanentes",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "f6f493c2-f57b-419d-8953-ab8018576ac7"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "asta_prairies_permanentes",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "asta_prairies_permanentes__0"
                    }
                  ]
                },
                {
                  id: 740,
                  name: "asta_herbages_sensibles",
                  metadata: {
                    metadata_id: "e5d2717e-4541-43f1-b586-1b18cdf11827"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "asta_herbages_sensibles",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "asta_herbages_sensibles__gruenland"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1873,
          name: "npour_eau",
          children: [
            {
              id: 1874,
              name: "npour_eau_surface",
              children: [
                {
                  id: 749,
                  name: "eau_new_Gew√§sser",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:primaere_gewaesser_sekundaere_gewaesser_temporaer_fliessende_baeche",
                    metadata_id: "9da34ec3-89d5-4731-b927-e38ed8088571"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Gew√§sser",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Gew√§sser__Prim√§re Gew√§sser"
                    },
                    {
                      name: "eau_new_Gew√§sser__Sekund√§re Gew√§sser"
                    },
                    {
                      name: "eau_new_Gew√§sser__Tempor√§r fliessende B√§che"
                    }
                  ]
                },
                {
                  id: 651,
                  name: "eau_new_Kanal_-__Muehlgraben",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:kanal_-__muehlgraben",
                    max_dpi: 128,
                    metadata_id: "909501fc-a0a9-4af8-8e82-f2a8d7f2fe2f"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Kanal_-__Muehlgraben",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Kanal_-__Muehlgraben__Kanal -  M√ºhlgraben"
                    }
                  ]
                },
                {
                  id: 750,
                  name: "eau_new_Kilometrierung der Gew√§sser",
                  metadata: {
                    legend_name: "eau:kilometrierung_primaere_gewaesser_kilometrierung_sekundaere_gewaesser",
                    metadata_id: "4002b1cf-08b5-421a-bc92-40271d62f03c"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Kilometrierung der Gew√§sser",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Kilometrierung der Gew√§sser__Kilometrierung prim√§re Gew√§sser"
                    },
                    {
                      name: "eau_new_Kilometrierung der Gew√§sser__Kilometrierung sekund√§re Gew√§sser"
                    }
                  ]
                },
                {
                  id: 636,
                  name: "eau_new_Einzugsgebiete",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:einzugsgebiete",
                    max_dpi: 128,
                    metadata_id: "a295a30a-f819-400c-842c-d0ccc695bea5"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Einzugsgebiete",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Einzugsgebiete__Einzugsgebiete"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1875,
              name: "npour_eau_souterraine",
              children: [
                {
                  id: 628,
                  name: "eau_new_Bohrungen",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:bohrungen",
                    max_dpi: 128,
                    metadata_id: "4ab49f17-a50e-4439-9a9e-01ec93421aec"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Bohrungen",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Bohrungen__39"
                    }
                  ]
                },
                {
                  id: 629,
                  name: "eau_new_Quellen",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:quellen",
                    max_dpi: 128,
                    metadata_id: "58fa573a-a0c3-474d-9e74-c277cf90b135"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Quellen",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Quellen__Quellen"
                    }
                  ]
                },
                {
                  id: 631,
                  name: "eau_new_Grundwasserleiter",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:grundwasserleiter",
                    max_dpi: 128,
                    metadata_id: "783a8608-e4b3-44ed-8864-68525da33760"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Grundwasserleiter",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Grundwasserleiter__Grundwasserleiter"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1876,
              name: "npour_eau_zps",
              children: [
                {
                  id: 214,
                  name: "eau_new_Provisorische_ZPS",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:provisorische_zps",
                    max_dpi: 128,
                    metadata_id: "ddc51f25-2fb7-4d14-866a-a08f8af8ef03"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Provisorische_ZPS",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Provisorische_ZPS__Provisorische ZPS"
                    }
                  ]
                },
                {
                  id: 664,
                  name: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:zps_laufende_oeffentliche_verfahrungsweise",
                    max_dpi: 128,
                    metadata_id: "87beb1ac-7496-48f6-b5a9-8666e3897523"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise__ZPS laufende √∂ffentliche Verfahrungsweise"
                    }
                  ]
                },
                {
                  id: 573,
                  name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:zps_durch_grosshrzgl._verordnung_festgelegt",
                    max_dpi: 128,
                    metadata_id: "d70f99e0-6032-4a4b-b516-5dfdfce33b26"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__ZPS durch grosshrzgl. Verordnung festgelegt"
                    }
                  ]
                },
                {
                  id: 1464,
                  name: "eau_prgd_zones_protection_lac",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:prgd_stausee",
                    metadata_id: "eab29425-71cc-4610-b48e-8d848d0a8431"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_prgd_zones_protection_lac",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_prgd_zones_protection_lac__PRGD Schutzzonen Stausee"
                    }
                  ]
                },
                {
                  id: 490,
                  name: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:sanitaere_schutzzonen_stausee",
                    max_dpi: 128,
                    metadata_id: "e34de488-68ea-48a8-9e92-f67bb209508e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer__Sanit√§re Schutzzonen Stausee"
                    }
                  ]
                },
                {
                  id: 559,
                  name: "eau_new_Zones_interdiction_utilisation_metazachlore",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau_new:metazachlore",
                    max_dpi: 128,
                    metadata_id: "803e93f8-588f-4697-8d76-972be1ad3531",
                    start_opacity: 0.7
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Zones_interdiction_utilisation_metazachlore",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Zones_interdiction_utilisation_metazachlore__Zones interdiction utilisation metazachlore"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1877,
              name: "npour_eau_protection",
              children: [
                {
                  id: 643,
                  name: "eau_new_Abwassersyndikate",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:abwassersyndikate",
                    max_dpi: 128,
                    metadata_id: "4b5e384c-5603-4cf4-9bd5-6e520df5c375"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Abwassersyndikate",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Abwassersyndikate__Abwassersyndikate"
                    }
                  ]
                },
                {
                  id: 645,
                  name: "eau_new_Klaeranlagen",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:klaeranlagen",
                    max_dpi: 128,
                    metadata_id: "53e55765-90eb-438f-a744-3ac878b06334"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Klaeranlagen",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Klaeranlagen__Kl√§ranlagen"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        display_in_switcher: !0
      }
    },
    {
      id: 2177,
      name: "geosciences",
      icon: "https://map.geoportail.lu/static/0b3affb2592f45f6a379cac74b45a07e/images/blank.png",
      children: [
        {
          id: 2178,
          name: "geo_geologie_group",
          children: [
            {
              id: 2167,
              name: "geo_carte_geol_harmonisee",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geologie_harmonisee",
                metadata_id: "542a0caa-4b33-4019-8ce7-b8541b436106"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_carte_geol_harmonisee",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_carte_geol_harmonisee__Unit√©s_g√©ologiques2495"
                },
                {
                  name: "geo_carte_geol_harmonisee__Symbole"
                },
                {
                  name: "geo_carte_geol_harmonisee__Failles"
                },
                {
                  name: "geo_carte_geol_harmonisee__Contours"
                }
              ]
            },
            {
              id: 2168,
              name: "geo_carte_geol_harmonisee_decouverte",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geologie_harmonisee_decouverte",
                metadata_id: "d03be720-e33c-4bd4-8829-559dc951dc2d"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_carte_geol_harmonisee_decouverte",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_carte_geol_harmonisee_decouverte__Unit√©s_g√©ologiques:_Substratum_rocheux9983"
                },
                {
                  name: "geo_carte_geol_harmonisee_decouverte__Symbole"
                },
                {
                  name: "geo_carte_geol_harmonisee_decouverte__Failles"
                },
                {
                  name: "geo_carte_geol_harmonisee_decouverte__Contours"
                }
              ]
            },
            {
              id: 2185,
              name: "geo_carte_detail_25k",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geo25k_ned",
                metadata_id: "f8e6c6ca-948a-404e-9d15-54d9a423627b"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_carte_detail_25k",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_carte_detail_25k__geologie_detail_nouv_edition"
                }
              ]
            },
            {
              id: 2186,
              name: "geo_carte_generale_100k",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geologie_generale",
                metadata_id: "61b929b6-7964-449d-bc3e-87483a7997f5"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_carte_generale_100k",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_carte_generale_100k__geologie_generale"
                }
              ]
            },
            {
              id: 2169,
              name: "geo_carte_geol_simplifiee",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geologie_simplifiee",
                metadata_id: "d5235bf1-96c8-4fc8-8d6d-2a0cde246aad"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_carte_geol_simplifiee",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_carte_geol_simplifiee__geologie_simplifiee_substratum"
                },
                {
                  name: "geo_carte_geol_simplifiee__geologie_simplifiee_form_sup"
                },
                {
                  name: "geo_carte_geol_simplifiee__geologie_simplifiee_failles"
                }
              ]
            },
            {
              id: 2170,
              name: "geo_carte_geol_simplifiee_decouverte",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geologie_simplifiee_decouverte",
                metadata_id: "d8d627ee-ec11-4054-8a05-f4cd98adbd72"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_carte_geol_simplifiee_decouverte",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_carte_geol_simplifiee_decouverte__geologie_simplifiee_failles"
                },
                {
                  name: "geo_carte_geol_simplifiee_decouverte__geologie_simplifiee_substratum"
                }
              ]
            },
            {
              id: 2199,
              name: "geo_cartes_geologiques_historiques",
              children: [
                {
                  id: 2202,
                  name: "geo_geologie_wies_siegen",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:geologie_wies_siegen",
                    metadata_id: "f595fd68-0036-433f-ae93-2bbace506f0a"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_geologie_wies_siegen",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_geologie_wies_siegen__geologie_wies_siegen"
                    }
                  ]
                },
                {
                  id: 2203,
                  name: "geo_geologie_van_werweke",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:geologie_van_werweke",
                    metadata_id: "5156b574-f67c-4bee-b349-e769581fe079"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_geologie_van_werweke",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_geologie_van_werweke__geologie_van_werweke"
                    }
                  ]
                },
                {
                  id: 2204,
                  name: "geo_geologie_lucius",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:geologie_lucius",
                    metadata_id: "34e148cb-7d47-455a-8d5f-0f2623ab6a4e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_geologie_lucius",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_geologie_lucius__geologie_lucius"
                    }
                  ]
                },
                {
                  id: 2205,
                  name: "geo_geologie_robert",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:geologie_robert",
                    metadata_id: "a299b930-a36c-4709-8712-b52cfd7c9fa1"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_geologie_robert",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_geologie_robert__geologie_robert"
                    }
                  ]
                },
                {
                  id: 2206,
                  name: "geo_geologie_detail_anc_edition",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:geo25_50k_aed",
                    metadata_id: "a3342917-2a84-48ee-bf20-668810bb4c80"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_geologie_detail_anc_edition",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_geologie_detail_anc_edition__geologie_detail_anc_edition"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2173,
              name: "geo_coupes_geologiques",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:coupes_geologiques",
                metadata_id: "8a35490a-8dc8-4dfd-9136-edfdd6d08281"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_coupes_geologiques",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_coupes_geologiques__coupes_geologiques"
                }
              ]
            },
            {
              id: 2175,
              name: "geo_epaisseurs_unites",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:epaisseurs_unites",
                metadata_id: "3fab8010-2f8b-43e2-96a7-155a24233db4"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_epaisseurs_unites",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_epaisseurs_unites__epaisseurs_unites"
                }
              ]
            },
            {
              id: 2201,
              name: "geo_forages_group",
              children: [
                {
                  id: 2176,
                  name: "geo_forages_ref",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "geol:forages_ref",
                    metadata_id: "0564eda7-c92d-4a80-b3c7-be94f5d67186"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "geo_forages_ref",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "geo_forages_ref__forages_ref"
                    }
                  ]
                },
                {
                  id: 628,
                  name: "eau_new_Bohrungen",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:bohrungen",
                    max_dpi: 128,
                    metadata_id: "4ab49f17-a50e-4439-9a9e-01ec93421aec"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Bohrungen",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Bohrungen__39"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2200,
              name: "geo_eaux_souterraines",
              children: [
                {
                  id: 631,
                  name: "eau_new_Grundwasserleiter",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:grundwasserleiter",
                    max_dpi: 128,
                    metadata_id: "783a8608-e4b3-44ed-8864-68525da33760"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Grundwasserleiter",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Grundwasserleiter__Grundwasserleiter"
                    }
                  ]
                },
                {
                  id: 629,
                  name: "eau_new_Quellen",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:quellen",
                    max_dpi: 128,
                    metadata_id: "58fa573a-a0c3-474d-9e74-c277cf90b135"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_Quellen",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_Quellen__Quellen"
                    }
                  ]
                },
                {
                  id: 573,
                  name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
                  metadata: {
                    is_queryable: !0,
                    legend_name: "eau:zps_durch_grosshrzgl._verordnung_festgelegt",
                    max_dpi: 128,
                    metadata_id: "d70f99e0-6032-4a4b-b516-5dfdfce33b26"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",
                  imageType: "image/png",
                  style: "default",
                  childLayers: [
                    {
                      name: "eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__ZPS durch grosshrzgl. Verordnung festgelegt"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2191,
              name: "geo_geomorphologie_carte100K",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geomorphologie100k",
                metadata_id: "3fd5088b-021d-4207-9d4b-4040e1ccfe22"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_geomorphologie_carte100K",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_geomorphologie_carte100K__geomorphologie100k"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 2182,
          name: "geo_geophysique_group",
          children: [
            {
              id: 2192,
              name: "geo_geophysique_comptage_uranium",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geophysique_aeroportee_uranium",
                metadata_id: "6b9443de-b85c-4360-9c3b-b937c5804303"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_geophysique_comptage_uranium",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_geophysique_comptage_uranium__comptage_uranium"
                }
              ]
            },
            {
              id: 2193,
              name: "geo_geophysique_comptage_thorium",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geophysique_aeroportee_thorium",
                metadata_id: "335aec3a-52e5-49c4-8325-cd57b0751b47"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_geophysique_comptage_thorium",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_geophysique_comptage_thorium__comptage_thorium"
                }
              ]
            },
            {
              id: 2194,
              name: "geo_geophysique_comptage_potassium",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geophysique_aeroportee_potassium",
                metadata_id: "39b205a1-2a16-44fe-9a16-c6e1fdd60084"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_geophysique_comptage_potassium",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_geophysique_comptage_potassium__comptage_potassium"
                }
              ]
            },
            {
              id: 2195,
              name: "geo_geophysique_synthese_uthk",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geophysique_aeroportee_uthk",
                metadata_id: "bcbbc55a-e6b7-4b5a-ac62-dc5ce8b0825a"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_geophysique_synthese_uthk",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_geophysique_synthese_uthk__synthese_uthk"
                }
              ]
            },
            {
              id: 2196,
              name: "geo_geophysique_champ_vlf",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geophysique_aeroportee_vlf",
                metadata_id: "ce816301-b6eb-480a-a891-6d394b635ff7"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_geophysique_champ_vlf",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_geophysique_champ_vlf__champ_vlf"
                }
              ]
            },
            {
              id: 2197,
              name: "geo_geophysique_champ_total",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geophysique_aeroportee_total_residuel",
                metadata_id: "efcea741-1392-4c97-8233-3d31b64eb82a"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_geophysique_champ_total",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_geophysique_champ_total__champ_total"
                }
              ]
            },
            {
              id: 2198,
              name: "geo_geophysique_champ_total_reduit_pole",
              metadata: {
                is_queryable: !0,
                legend_name: "geol:geophysique_aeroportee_total_residuel_reduit_pole",
                metadata_id: "b1b387a3-96d2-4a4b-9a1f-0add1712840c"
              },
              dimensions: {},
              type: "WMS",
              layers: "geo_geophysique_champ_total_reduit_pole",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "geo_geophysique_champ_total_reduit_pole__champ_total_reduit_pole"
                }
              ]
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 321,
          name: "pedologie",
          children: [
            {
              id: 272,
              name: "pedologie_100k",
              metadata: {
                legend_name: "pedologie",
                metadata_id: "2d712a34-ce79-426d-a57b-b7cadf97b80f"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR",
              layer: "pedologie_100k",
              imageType: "image/png"
            },
            {
              id: 702,
              name: "asta_pedologie_new",
              metadata: {
                legend_name: "pedologie_new",
                max_dpi: 128,
                metadata_id: "37686d89-0173-4040-88c7-be84a3648d01"
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_pedologie_new",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_pedologie_new__1"
                },
                {
                  name: "asta_pedologie_new__2"
                },
                {
                  name: "asta_pedologie_new__3"
                },
                {
                  name: "asta_pedologie_new__4"
                },
                {
                  name: "asta_pedologie_new__5"
                },
                {
                  name: "asta_pedologie_new__6"
                },
                {
                  name: "asta_pedologie_new__7"
                }
              ]
            },
            {
              id: 704,
              name: "asta_pedologie_humus",
              metadata: {
                legend_name: "asta_corg",
                max_dpi: 128,
                metadata_id: "a1b0807c-9bff-4f6a-a5e7-130316742f56"
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_pedologie_humus",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_pedologie_humus__0"
                }
              ]
            },
            {
              id: 703,
              name: "asta_pedologie_ph",
              metadata: {
                legend_name: "asta_ph",
                max_dpi: 128,
                metadata_id: "628ee73f-4c37-4689-bc4c-1fd9f6bd2663"
              },
              dimensions: {},
              type: "WMS",
              layers: "asta_pedologie_ph",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "asta_pedologie_ph__0"
                }
              ]
            },
            {
              id: 2408,
              name: "asta_erosion_group",
              children: [
                {
                  id: 2407,
                  name: "asta_erosion_2023",
                  metadata: {
                    is_queryable: !0,
                    metadata_id: "427aff9b-b988-455c-8cd9-1c029cfd6b6e"
                  },
                  dimensions: {},
                  type: "WMS",
                  layers: "asta_erosion_2023",
                  imageType: "image/png",
                  childLayers: [
                    {
                      name: "asta_erosion_2023__0"
                    }
                  ]
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 2183,
          name: "geo_relief_group",
          children: [
            {
              id: 1460,
              name: "wg_relief_map",
              metadata: {
                metadata_id: "7d195815-23c2-4963-863c-60e3a39ab8af"
              },
              dimensions: {},
              type: "WMS",
              layers: "wg_relief_map",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "wg_relief_map__0"
                }
              ]
            },
            {
              id: 1461,
              name: "wg_hangneigung_map",
              metadata: {
                legend_name: "wg:hangneigung",
                metadata_id: "6ffa94a4-af02-43ec-82e0-6796cd01a948"
              },
              dimensions: {},
              type: "WMS",
              layers: "wg_hangneigung_map",
              imageType: "image/png",
              style: "default",
              childLayers: [
                {
                  name: "wg_hangneigung_map__0"
                }
              ]
            },
            {
              id: 1795,
              name: "lidar_2019_mnt_public",
              metadata: {
                legend_name: "lidar:mnt2019",
                metadata_id: "ba62d5be-9c71-406a-8b46-a36bfaa36357"
              },
              dimensions: {},
              type: "WMTS",
              url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
              style: "default",
              matrixSet: "GLOBAL_WEBMERCATOR_4_V3",
              layer: "lidar_2019_mnt_public",
              imageType: "image/png"
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 2184,
          name: "geo_decouverte_group",
          children: [
            {
              id: 2021,
              name: "tour_rando_natur_geologie_new",
              metadata: {
                is_queryable: !0
              },
              dimensions: {},
              type: "WMS",
              layers: "category",
              imageType: "image/png",
              style: "default",
              childLayers: [],
              ogcServer: "source for config://my_maps?category_id=123"
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        display_in_switcher: !0
      }
    },
    {
      id: 2332,
      name: "3D Layers",
      icon: "https://map.geoportail.lu/static/0b3affb2592f45f6a379cac74b45a07e/images/blank.png",
      children: [
        {
          id: 1958,
          name: "3d Layers",
          children: [
            {
              id: 2346,
              name: "ACT2022_BD_L_BATI3D_LOD2",
              metadata: {
                exclusion: '["mesh_2020_vs_bd-l-bati-3d"]',
                metadata_id: "2e8b722a-87ea-4b62-a307-423832adabab",
                ol3d_defaultlayer: !0
              },
              dimensions: {},
              type: "WMTS",
              url: "https://acts3.geoportail.lu/3d-data/3d-tiles",
              layer: "ACT2022_BD_L_BATI3D_LOD2",
              imageType: "image/png"
            },
            {
              id: 2348,
              name: "VDL2022_LOD2_IMPORT",
              metadata: {
                exclusion: '["mesh_2020_vs_bd-l-bati-3d_vdl"]',
                metadata_id: "a116f21e-faf1-4bdd-9a29-064fd9a30b8d",
                ol3d_defaultlayer: !0
              },
              dimensions: {},
              type: "WMTS",
              url: "https://acts3.geoportail.lu/3d-data/3d-tiles",
              layer: "VDL2022_LOD2_IMPORT_old",
              imageType: "image/png"
            },
            {
              id: 2350,
              name: "VDL2022_BRIDGES_IMPORT",
              metadata: {
                exclusion: '["mesh_2020_vs_bridges_vdl"]',
                metadata_id: "95c91657-5d7b-4b1f-bc74-de0e2db0f5c7",
                ol3d_defaultlayer: !0
              },
              dimensions: {},
              type: "WMTS",
              url: "https://acts3.geoportail.lu/3d-data/3d-tiles",
              layer: "Bridges_LOD2",
              imageType: "image/png"
            },
            {
              id: 2397,
              name: "ACT2019_LiDAR_Bridges",
              metadata: {
                exclusion: '["mesh_2020_vs_bridges_ACT"]',
                metadata_id: "0690e5cb-50df-4cf8-8cf3-d12dbecfc171",
                ol3d_defaultlayer: !0
              },
              dimensions: {},
              type: "WMTS",
              url: "https://acts3.geoportail.lu/3d-data/3d-tiles",
              layer: "ACT2019_LiDAR_Bridges_LOD1",
              imageType: "image/png"
            },
            {
              id: 2384,
              name: "ACT2019_LiDAR_Vegetation",
              metadata: {
                exclusion: '["mesh_2020_vs_trees"]',
                metadata_id: "99180a32-bf64-46c2-b901-ce055b0f01fe",
                ol3d_defaultlayer: !0
              },
              dimensions: {},
              type: "WMTS",
              url: "https://acts3.geoportail.lu/3d-data/3d-tiles",
              layer: "ACT2019_LiDAR_Vegetation",
              imageType: "image/png"
            }
          ],
          metadata: {
            display_in_switcher: !0,
            is_expanded: !0
          },
          mixed: !0
        },
        {
          id: 2410,
          name: "TDL2022",
          children: [
            {
              id: 2409,
              name: "TDL2022_path_all_stages",
              metadata: {
                linked_layers: ["725"],
                ol3d_defaultlayer: !0
              },
              dimensions: {},
              type: "WMTS",
              url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_path",
              layer: "all_stages",
              imageType: "image/png"
            },
            {
              id: 2413,
              name: "TDL2022_points_km_all_stages",
              metadata: {
                ol3d_defaultlayer: !0
              },
              dimensions: {},
              type: "WMTS",
              url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_points_km",
              layer: "point_km_all_stages",
              imageType: "image/png"
            },
            {
              id: 2415,
              name: "TDL2022_stage2",
              children: [
                {
                  id: 2420,
                  name: "TDL2022_barriers_stage2",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_barriers",
                  layer: "barriers_stage2",
                  imageType: "image/png"
                },
                {
                  id: 2424,
                  name: "TDL2022_points_km_stage2",
                  metadata: {
                    ol3d_defaultlayer: !1
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_points_km",
                  layer: "points_km_stage2",
                  imageType: "image/png"
                },
                {
                  id: 2429,
                  name: "TDL2022_path_stage2",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_path",
                  layer: "path_stage2",
                  imageType: "image/png"
                },
                {
                  id: 2435,
                  name: "TDL2022_cyclistes_stage2",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_cyclistes",
                  layer: "cyclistes_stage2",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2416,
              name: "TDL2022_stage3",
              children: [
                {
                  id: 2421,
                  name: "TDL2022_barriers_stage3",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_barriers",
                  layer: "barriers_stage3",
                  imageType: "image/png"
                },
                {
                  id: 2425,
                  name: "TDL2022_points_km_stage3",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_points_km",
                  layer: "points_km_stage3",
                  imageType: "image/png"
                },
                {
                  id: 2430,
                  name: "TDL2022_path_stage3",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_path",
                  layer: "path_stage3",
                  imageType: "image/png"
                },
                {
                  id: 2436,
                  name: "TDL2022_cyclistes_stage3",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_cyclistes",
                  layer: "cyclistes_stage3",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2417,
              name: "TDL2022_stage4",
              children: [
                {
                  id: 2422,
                  name: "TDL2022_barriers_stage4",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_barriers",
                  layer: "barriers_stage4",
                  imageType: "image/png"
                },
                {
                  id: 2426,
                  name: "TDL2022_points_km_stage4",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_points_km",
                  layer: "points_km_stage4",
                  imageType: "image/png"
                },
                {
                  id: 2431,
                  name: "TDL2022_path_stage4",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_path",
                  layer: "path_stage4",
                  imageType: "image/png"
                },
                {
                  id: 2433,
                  name: "TDL2022_cyclistes_stage4",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_cyclistes",
                  layer: "cyclistes_stage4",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2414,
              name: "TDL2022_stage1",
              children: [
                {
                  id: 2412,
                  name: "TDL2022_barriers_stage1",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_barriers",
                  layer: "barriers_stage1",
                  imageType: "image/png"
                },
                {
                  id: 2423,
                  name: "TDL2022_points_km_stage1",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_points_km",
                  layer: "points_km_stage1",
                  imageType: "image/png"
                },
                {
                  id: 2428,
                  name: "TDL2022_path_stage1",
                  metadata: {
                    exclusion: '["mesh_2020_vs_bridges_ACT"]',
                    linked_layers: ["725"],
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_path",
                  layer: "path_stage1",
                  imageType: "image/png"
                },
                {
                  id: 2434,
                  name: "TDL2022_cyclistes_stage1",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_cyclistes",
                  layer: "cyclistes_stage1",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 2418,
              name: "TDL2022_stage5",
              children: [
                {
                  id: 2419,
                  name: "TDL2022_barriers_stage5",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_barriers",
                  layer: "barriers_stage5",
                  imageType: "image/png"
                },
                {
                  id: 2427,
                  name: "TDL2022_points_km_stage5",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_points_km",
                  layer: "points_km_stage5",
                  imageType: "image/png"
                },
                {
                  id: 2432,
                  name: "TDL2022_path_stage5",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_path",
                  layer: "path_stage5",
                  imageType: "image/png"
                },
                {
                  id: 2437,
                  name: "TDL2022_cyclistes_stage5",
                  metadata: {
                    ol3d_defaultlayer: !0
                  },
                  dimensions: {},
                  type: "WMTS",
                  url: "https://acts3.geoportail.lu/3d-data/3d-tiles/TDL2022/TDL2022_cyclistes",
                  layer: "cyclistes_stage5",
                  imageType: "image/png"
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        ol3d_type: "data"
      }
    },
    {
      id: 824,
      name: "ahc",
      icon: "https://map.geoportail.lu/static/0b3affb2592f45f6a379cac74b45a07e/images/blank.png",
      children: [
        {
          id: 826,
          name: "30 years reference period 1971-2000",
          children: [
            {
              id: 827,
              name: "Precipitation",
              children: [
                {
                  id: 828,
                  name: "lux_norm1971_2000_pluvio_sum",
                  children: [
                    {
                      id: 830,
                      name: "lux_norm1971_2000_00_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_00_pluvio_sum",
                        metadata_id: "0a4eda30-1a91-4c5c-98cf-63f1014e231d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_00_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_00_pluvio_sum__lux_norm1971_2000_00_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_00_pluvio_sum__lux_norm1971_2000_00_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 833,
                      name: "lux_norm1971_2000_01_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_01_pluvio_sum",
                        metadata_id: "fa45906d-bdde-488e-8bb7-606ff9d52d0a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_01_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_01_pluvio_sum__lux_norm1971_2000_01_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_01_pluvio_sum__lux_norm1971_2000_01_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 836,
                      name: "lux_norm1971_2000_02_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_02_pluvio_sum",
                        metadata_id: "1181434b-e302-4c24-8e20-beae617da834"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_02_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_02_pluvio_sum__lux_norm1971_2000_02_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_02_pluvio_sum__lux_norm1971_2000_02_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 839,
                      name: "lux_norm1971_2000_03_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_03_pluvio_sum",
                        metadata_id: "6a331111-25e3-4369-9827-93dd6e53728a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_03_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_03_pluvio_sum__lux_norm1971_2000_03_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_03_pluvio_sum__lux_norm1971_2000_03_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 842,
                      name: "lux_norm1971_2000_04_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_04_pluvio_sum",
                        metadata_id: "2aac48e2-ff02-4fec-a7b6-a7a58ba3f9b5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_04_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_04_pluvio_sum__lux_norm1971_2000_04_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_04_pluvio_sum__lux_norm1971_2000_04_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 845,
                      name: "lux_norm1971_2000_05_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_05_pluvio_sum",
                        metadata_id: "f58f26b6-f4e8-456b-a7aa-5064f59d87ca"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_05_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_05_pluvio_sum__lux_norm1971_2000_05_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_05_pluvio_sum__lux_norm1971_2000_05_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 848,
                      name: "lux_norm1971_2000_06_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_06_pluvio_sum",
                        metadata_id: "b416c8eb-510c-4285-bd00-049120b5310d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_06_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_06_pluvio_sum__lux_norm1971_2000_06_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_06_pluvio_sum__lux_norm1971_2000_06_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 851,
                      name: "lux_norm1971_2000_07_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_07_pluvio_sum",
                        metadata_id: "07483c69-8c1f-4090-b44a-8fc8c36ebf09"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_07_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_07_pluvio_sum__lux_norm1971_2000_07_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_07_pluvio_sum__lux_norm1971_2000_07_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 854,
                      name: "lux_norm1971_2000_08_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_08_pluvio_sum",
                        metadata_id: "8b893722-4e44-45de-948d-caee741c8632"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_08_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_08_pluvio_sum__lux_norm1971_2000_08_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_08_pluvio_sum__lux_norm1971_2000_08_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 857,
                      name: "lux_norm1971_2000_09_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_09_pluvio_sum",
                        metadata_id: "024de345-0d97-4356-a11a-48fc34f52def"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_09_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_09_pluvio_sum__lux_norm1971_2000_09_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_09_pluvio_sum__lux_norm1971_2000_09_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 860,
                      name: "lux_norm1971_2000_10_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_10_pluvio_sum",
                        metadata_id: "c3646551-bc0e-4cea-b468-a10dbd7ce429"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_10_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_10_pluvio_sum__lux_norm1971_2000_10_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_10_pluvio_sum__lux_norm1971_2000_10_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 863,
                      name: "lux_norm1971_2000_11_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_11_pluvio_sum",
                        metadata_id: "a177f78a-3db2-4c3a-af82-8fc9ea56dfca"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_11_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_11_pluvio_sum__lux_norm1971_2000_11_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_11_pluvio_sum__lux_norm1971_2000_11_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 866,
                      name: "lux_norm1971_2000_12_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_norm1971_2000_12_pluvio_sum",
                        metadata_id: "f812a2bd-87a7-4ec1-92af-2296d98c5e75"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_norm1971_2000_12_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_norm1971_2000_12_pluvio_sum__lux_norm1971_2000_12_map_pluvio_sum"
                        },
                        {
                          name: "lux_norm1971_2000_12_pluvio_sum__lux_norm1971_2000_12_samples_pluvio_sum"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 868,
          name: "2012",
          children: [
            {
              id: 869,
              name: "Temperature2",
              children: [
                {
                  id: 870,
                  name: "lux_2012_temp_minimum",
                  children: [
                    {
                      id: 872,
                      name: "lux_2012_00_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_00_temp_minimum",
                        metadata_id: "f54b5868-f0f1-46dc-9bbc-92ae955437fe"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_00_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_00_temp_minimum__lux_2012_00_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_00_temp_minimum__lux_2012_00_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 875,
                      name: "lux_2012_01_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_01_temp_minimum",
                        metadata_id: "90e182a4-606a-41f1-b1a8-31f32f81133f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_01_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_01_temp_minimum__lux_2012_01_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_01_temp_minimum__lux_2012_01_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 878,
                      name: "lux_2012_02_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_02_temp_minimum",
                        metadata_id: "0e6f4745-dcc6-416e-bf77-d1d411d7bd60"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_02_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_02_temp_minimum__lux_2012_02_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_02_temp_minimum__lux_2012_02_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 881,
                      name: "lux_2012_03_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_03_temp_minimum",
                        metadata_id: "85f0484d-342f-4ff3-ade4-adf7b94d7144"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_03_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_03_temp_minimum__lux_2012_03_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_03_temp_minimum__lux_2012_03_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 884,
                      name: "lux_2012_04_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_04_temp_minimum",
                        metadata_id: "1630e042-c85a-4cde-9ce2-45394640b48c"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_04_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_04_temp_minimum__lux_2012_04_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_04_temp_minimum__lux_2012_04_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 887,
                      name: "lux_2012_05_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_05_temp_minimum",
                        metadata_id: "14a98a2d-55cc-4e4c-b54b-38393a7969b1"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_05_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_05_temp_minimum__lux_2012_05_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_05_temp_minimum__lux_2012_05_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 890,
                      name: "lux_2012_06_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_06_temp_minimum",
                        metadata_id: "06f73749-3790-4907-86f5-3e5b56f137fd"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_06_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_06_temp_minimum__lux_2012_06_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_06_temp_minimum__lux_2012_06_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 893,
                      name: "lux_2012_07_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_07_temp_minimum",
                        metadata_id: "76754f40-ce9b-405e-a3fb-f6c1db259fd2"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_07_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_07_temp_minimum__lux_2012_07_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_07_temp_minimum__lux_2012_07_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 896,
                      name: "lux_2012_08_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_08_temp_minimum",
                        metadata_id: "dfc10c11-0718-40e2-8174-c4a593726e3e"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_08_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_08_temp_minimum__lux_2012_08_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_08_temp_minimum__lux_2012_08_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 899,
                      name: "lux_2012_09_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_09_temp_minimum",
                        metadata_id: "bc6f1456-15b7-4c8a-9a4b-011965df42ff"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_09_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_09_temp_minimum__lux_2012_09_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_09_temp_minimum__lux_2012_09_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 902,
                      name: "lux_2012_10_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_10_temp_minimum",
                        metadata_id: "cf026e5c-69ee-4472-9c7d-93f9a4ca200f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_10_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_10_temp_minimum__lux_2012_10_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_10_temp_minimum__lux_2012_10_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 905,
                      name: "lux_2012_11_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_11_temp_minimum",
                        metadata_id: "9c68b000-6bdf-46e7-a61e-531dc0b846d2"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_11_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_11_temp_minimum__lux_2012_11_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_11_temp_minimum__lux_2012_11_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 908,
                      name: "lux_2012_12_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2012_12_temp_minimum",
                        metadata_id: "6656e377-b0d2-4239-b57b-a801c864c29a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_12_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_12_temp_minimum__lux_2012_12_map_temp_minimum"
                        },
                        {
                          name: "lux_2012_12_temp_minimum__lux_2012_12_samples_temp_minimum"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 910,
                  name: "lux_2012_temp_average",
                  children: [
                    {
                      id: 912,
                      name: "lux_2012_00_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_00_temp_average",
                        metadata_id: "f67d6c9e-7eb3-4f45-8a87-593745c2014a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_00_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_00_temp_average__lux_2012_00_map_temp_average"
                        },
                        {
                          name: "lux_2012_00_temp_average__lux_2012_00_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 915,
                      name: "lux_2012_01_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_01_temp_average",
                        metadata_id: "1343cbfa-8e50-4ad2-bf8e-ebf107eba015"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_01_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_01_temp_average__lux_2012_01_map_temp_average"
                        },
                        {
                          name: "lux_2012_01_temp_average__lux_2012_01_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 918,
                      name: "lux_2012_02_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_02_temp_average",
                        metadata_id: "b657e9ea-ffab-40c5-98f4-bb474029e5bd"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_02_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_02_temp_average__lux_2012_02_map_temp_average"
                        },
                        {
                          name: "lux_2012_02_temp_average__lux_2012_02_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 921,
                      name: "lux_2012_03_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_03_temp_average",
                        metadata_id: "e1759289-e639-4b59-9f72-29f47fde2e3f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_03_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_03_temp_average__lux_2012_03_map_temp_average"
                        },
                        {
                          name: "lux_2012_03_temp_average__lux_2012_03_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 924,
                      name: "lux_2012_04_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_04_temp_average",
                        metadata_id: "b0ac7707-7548-4723-9e88-9c593c22d7ca"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_04_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_04_temp_average__lux_2012_04_map_temp_average"
                        },
                        {
                          name: "lux_2012_04_temp_average__lux_2012_04_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 927,
                      name: "lux_2012_05_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_05_temp_average",
                        metadata_id: "ca97bd10-f8f5-48d7-9daa-a7ee461fe029"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_05_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_05_temp_average__lux_2012_05_map_temp_average"
                        },
                        {
                          name: "lux_2012_05_temp_average__lux_2012_05_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 930,
                      name: "lux_2012_06_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_06_temp_average",
                        metadata_id: "6112dd55-d6bf-4d39-bf13-4e94e35d0e29"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_06_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_06_temp_average__lux_2012_06_map_temp_average"
                        },
                        {
                          name: "lux_2012_06_temp_average__lux_2012_06_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 933,
                      name: "lux_2012_07_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_07_temp_average",
                        metadata_id: "2a8b5666-607c-4fe8-bc16-72a867f7344c"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_07_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_07_temp_average__lux_2012_07_map_temp_average"
                        },
                        {
                          name: "lux_2012_07_temp_average__lux_2012_07_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 936,
                      name: "lux_2012_08_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_08_temp_average",
                        metadata_id: "736dd14c-488e-4a75-b4c1-15e5ef5b815d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_08_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_08_temp_average__lux_2012_08_map_temp_average"
                        },
                        {
                          name: "lux_2012_08_temp_average__lux_2012_08_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 939,
                      name: "lux_2012_09_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_09_temp_average",
                        metadata_id: "e35af491-251f-449e-b185-4edd3bfae0e5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_09_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_09_temp_average__lux_2012_09_map_temp_average"
                        },
                        {
                          name: "lux_2012_09_temp_average__lux_2012_09_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 942,
                      name: "lux_2012_10_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_10_temp_average",
                        metadata_id: "575c1c75-088d-47e9-9f92-593a8faddf8f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_10_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_10_temp_average__lux_2012_10_map_temp_average"
                        },
                        {
                          name: "lux_2012_10_temp_average__lux_2012_10_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 945,
                      name: "lux_2012_11_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_11_temp_average",
                        metadata_id: "191bbb34-b6f6-46e4-961b-d299fc443f0e"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_11_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_11_temp_average__lux_2012_11_map_temp_average"
                        },
                        {
                          name: "lux_2012_11_temp_average__lux_2012_11_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 948,
                      name: "lux_2012_12_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2012_12_temp_average",
                        metadata_id: "994f64fa-f63e-4ca0-a3f8-e04c585ddcee"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_12_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_12_temp_average__lux_2012_12_map_temp_average"
                        },
                        {
                          name: "lux_2012_12_temp_average__lux_2012_12_samples_temp_average"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 950,
                  name: "lux_2012_temp_maximum",
                  children: [
                    {
                      id: 952,
                      name: "lux_2012_00_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_00_temp_maximum",
                        metadata_id: "d22c66f6-d4fa-481b-a9c7-2b5249d5c8d0"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_00_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_00_temp_maximum__lux_2012_00_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_00_temp_maximum__lux_2012_00_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 955,
                      name: "lux_2012_01_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_01_temp_maximum",
                        metadata_id: "ec11bd74-992e-4319-8479-dfdd0918201d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_01_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_01_temp_maximum__lux_2012_01_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_01_temp_maximum__lux_2012_01_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 958,
                      name: "lux_2012_02_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_02_temp_maximum",
                        metadata_id: "30059e69-9f0d-49f5-82bd-8286e0964a97"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_02_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_02_temp_maximum__lux_2012_02_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_02_temp_maximum__lux_2012_02_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 961,
                      name: "lux_2012_03_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_03_temp_maximum",
                        metadata_id: "b697dfe9-4866-47b8-b91e-26e1307ff321"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_03_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_03_temp_maximum__lux_2012_03_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_03_temp_maximum__lux_2012_03_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 964,
                      name: "lux_2012_04_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_04_temp_maximum",
                        metadata_id: "d4fc7743-7c28-4fed-be24-190be6f1f9ef"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_04_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_04_temp_maximum__lux_2012_04_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_04_temp_maximum__lux_2012_04_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 967,
                      name: "lux_2012_05_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_05_temp_maximum",
                        metadata_id: "353c6301-54f5-438a-8bb2-83c9f871fe38"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_05_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_05_temp_maximum__lux_2012_05_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_05_temp_maximum__lux_2012_05_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 970,
                      name: "lux_2012_06_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_06_temp_maximum",
                        metadata_id: "50804ff9-437e-47a4-8d34-1b51d87f3cce"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_06_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_06_temp_maximum__lux_2012_06_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_06_temp_maximum__lux_2012_06_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 973,
                      name: "lux_2012_07_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_07_temp_maximum",
                        metadata_id: "e00a102f-3438-4ae0-8aed-939f26060524"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_07_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_07_temp_maximum__lux_2012_07_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_07_temp_maximum__lux_2012_07_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 976,
                      name: "lux_2012_08_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_08_temp_maximum",
                        metadata_id: "c667bf8a-64dc-4bc9-9620-58fd53552d21"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_08_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_08_temp_maximum__lux_2012_08_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_08_temp_maximum__lux_2012_08_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 979,
                      name: "lux_2012_09_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_09_temp_maximum",
                        metadata_id: "2bafa929-5bd9-4d18-9bef-8e41f87c6e8f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_09_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_09_temp_maximum__lux_2012_09_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_09_temp_maximum__lux_2012_09_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 982,
                      name: "lux_2012_10_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_10_temp_maximum",
                        metadata_id: "a6e2f1f0-c3a1-41da-addb-5a441374e75f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_10_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_10_temp_maximum__lux_2012_10_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_10_temp_maximum__lux_2012_10_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 985,
                      name: "lux_2012_11_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_11_temp_maximum",
                        metadata_id: "2b8ef18d-8075-4d27-a7c7-01e0fb187d7c"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_11_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_11_temp_maximum__lux_2012_11_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_11_temp_maximum__lux_2012_11_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 988,
                      name: "lux_2012_12_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2012_12_temp_maximum",
                        metadata_id: "b7190c55-3028-4591-b692-cc45a7cdff83"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_12_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_12_temp_maximum__lux_2012_12_map_temp_maximum"
                        },
                        {
                          name: "lux_2012_12_temp_maximum__lux_2012_12_samples_temp_maximum"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 990,
              name: "Precipitation2",
              children: [
                {
                  id: 991,
                  name: "lux_2012_pluvio_sum",
                  children: [
                    {
                      id: 993,
                      name: "lux_2012_00_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_00_pluvio_sum",
                        metadata_id: "995f2132-f1cf-4801-93df-b3a57ed1f4e3"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_00_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_00_pluvio_sum__lux_2012_00_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_00_pluvio_sum__lux_2012_00_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 996,
                      name: "lux_2012_01_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_01_pluvio_sum",
                        metadata_id: "91449219-e981-4f3b-a49d-0aabff6b75b2"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_01_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_01_pluvio_sum__lux_2012_01_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_01_pluvio_sum__lux_2012_01_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 999,
                      name: "lux_2012_02_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_02_pluvio_sum",
                        metadata_id: "1a6eb0de-156b-489c-9a6b-abc62bf30b52"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_02_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_02_pluvio_sum__lux_2012_02_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_02_pluvio_sum__lux_2012_02_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1002,
                      name: "lux_2012_03_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_03_pluvio_sum",
                        metadata_id: "e69a30b4-0c0a-4609-bb5d-b8e618cfb0df"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_03_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_03_pluvio_sum__lux_2012_03_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_03_pluvio_sum__lux_2012_03_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1005,
                      name: "lux_2012_04_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_04_pluvio_sum",
                        metadata_id: "40bc155c-a5d9-4d1c-a248-09f83075ee04"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_04_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_04_pluvio_sum__lux_2012_04_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_04_pluvio_sum__lux_2012_04_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1008,
                      name: "lux_2012_05_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_05_pluvio_sum",
                        metadata_id: "4f084681-4050-4e88-9800-bbdbbc3ec807"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_05_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_05_pluvio_sum__lux_2012_05_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_05_pluvio_sum__lux_2012_05_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1011,
                      name: "lux_2012_06_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_06_pluvio_sum",
                        metadata_id: "b156be37-7f3a-4e5b-97c5-575adbf2234d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_06_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_06_pluvio_sum__lux_2012_06_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_06_pluvio_sum__lux_2012_06_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1014,
                      name: "lux_2012_07_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_07_pluvio_sum",
                        metadata_id: "15e35e50-8095-4783-ae94-f18bee8e2d4a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_07_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_07_pluvio_sum__lux_2012_07_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_07_pluvio_sum__lux_2012_07_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1017,
                      name: "lux_2012_08_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_08_pluvio_sum",
                        metadata_id: "f0a5be5e-f550-4ffd-9cbf-a638b5c9decf"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_08_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_08_pluvio_sum__lux_2012_08_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_08_pluvio_sum__lux_2012_08_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1020,
                      name: "lux_2012_09_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_09_pluvio_sum",
                        metadata_id: "814b8548-6713-4759-8103-2da86ce8b791"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_09_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_09_pluvio_sum__lux_2012_09_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_09_pluvio_sum__lux_2012_09_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1023,
                      name: "lux_2012_10_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_10_pluvio_sum",
                        metadata_id: "980df41e-135b-4d56-88e2-86bf161b7861"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_10_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_10_pluvio_sum__lux_2012_10_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_10_pluvio_sum__lux_2012_10_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1026,
                      name: "lux_2012_11_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_11_pluvio_sum",
                        metadata_id: "afbd1119-2de8-4f81-ab5c-675548923ecd"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_11_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_11_pluvio_sum__lux_2012_11_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_11_pluvio_sum__lux_2012_11_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1029,
                      name: "lux_2012_12_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2012_12_pluvio_sum",
                        metadata_id: "ee9bc98d-ac9a-492e-8430-8c40db1ee35d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_12_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_12_pluvio_sum__lux_2012_12_map_pluvio_sum"
                        },
                        {
                          name: "lux_2012_12_pluvio_sum__lux_2012_12_samples_pluvio_sum"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1031,
                  name: "lux_2012_pluvio_diff_mm",
                  children: [
                    {
                      id: 1036,
                      name: "lux_2012_01_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_01_pluvio_diff_mm",
                        metadata_id: "20d0cfb4-8add-4ddd-b95a-aeaf9b9a38f4"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_01_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_01_pluvio_diff_mm__lux_2012_01_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_01_pluvio_diff_mm__lux_2012_01_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1039,
                      name: "lux_2012_02_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_02_pluvio_diff_mm",
                        metadata_id: "451848ab-641a-40cd-9a07-c6d77577719f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_02_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_02_pluvio_diff_mm__lux_2012_02_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_02_pluvio_diff_mm__lux_2012_02_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1042,
                      name: "lux_2012_03_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_03_pluvio_diff_mm",
                        metadata_id: "c8423f15-46b9-4a13-801e-0f6ee387635b"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_03_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_03_pluvio_diff_mm__lux_2012_03_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_03_pluvio_diff_mm__lux_2012_03_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1045,
                      name: "lux_2012_04_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_04_pluvio_diff_mm",
                        metadata_id: "27f223c7-3f6e-4bf2-be02-9f61276b23ae"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_04_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_04_pluvio_diff_mm__lux_2012_04_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_04_pluvio_diff_mm__lux_2012_04_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1048,
                      name: "lux_2012_05_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_05_pluvio_diff_mm",
                        metadata_id: "87934362-d3cf-4815-87db-6d6592c39a5c"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_05_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_05_pluvio_diff_mm__lux_2012_05_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_05_pluvio_diff_mm__lux_2012_05_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1051,
                      name: "lux_2012_06_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_06_pluvio_diff_mm",
                        metadata_id: "c8a605e8-1214-4c5c-b09e-ed1bc960bdfd"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_06_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_06_pluvio_diff_mm__lux_2012_06_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_06_pluvio_diff_mm__lux_2012_06_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1054,
                      name: "lux_2012_07_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_07_pluvio_diff_mm",
                        metadata_id: "e0c512bf-23ba-49ab-b6e0-eb39e703e89a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_07_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_07_pluvio_diff_mm__lux_2012_07_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_07_pluvio_diff_mm__lux_2012_07_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1057,
                      name: "lux_2012_08_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_08_pluvio_diff_mm",
                        metadata_id: "42ae3dde-d671-4f6c-b316-6d9a4f4fe27d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_08_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_08_pluvio_diff_mm__lux_2012_08_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_08_pluvio_diff_mm__lux_2012_08_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1060,
                      name: "lux_2012_09_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_09_pluvio_diff_mm",
                        metadata_id: "b503b838-ee90-453c-991c-4d2339e3cf88"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_09_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_09_pluvio_diff_mm__lux_2012_09_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_09_pluvio_diff_mm__lux_2012_09_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1063,
                      name: "lux_2012_10_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_10_pluvio_diff_mm",
                        metadata_id: "31bd014c-7414-45f0-b80a-d84fb8da2aa9"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_10_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_10_pluvio_diff_mm__lux_2012_10_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_10_pluvio_diff_mm__lux_2012_10_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1066,
                      name: "lux_2012_11_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_11_pluvio_diff_mm",
                        metadata_id: "2822d021-ee39-4e2d-bdb6-a899a4c263f4"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_11_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_11_pluvio_diff_mm__lux_2012_11_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_11_pluvio_diff_mm__lux_2012_11_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1069,
                      name: "lux_2012_12_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_12_pluvio_diff_mm",
                        metadata_id: "4ecf9607-f88b-4691-b003-2d182417a242"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_12_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_12_pluvio_diff_mm__lux_2012_12_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_12_pluvio_diff_mm__lux_2012_12_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1033,
                      name: "lux_2012_00_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2012_00_pluvio_diff_mm",
                        metadata_id: "718191c9-f9da-404d-bf48-20fe2224eb14"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_00_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_00_pluvio_diff_mm__lux_2012_00_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2012_00_pluvio_diff_mm__lux_2012_00_samples_pluvio_diff_mm_01"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1071,
                  name: "lux_2012_pluvio_diff_perc",
                  children: [
                    {
                      id: 1076,
                      name: "lux_2012_01_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_01_pluvio_diff_perc",
                        metadata_id: "9c2f4506-5e93-4a93-ba09-6ef741498f87"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_01_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_01_pluvio_diff_perc__lux_2012_01_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_01_pluvio_diff_perc__lux_2012_01_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1079,
                      name: "lux_2012_02_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_02_pluvio_diff_perc",
                        metadata_id: "bb0a61d8-f9a5-4d3b-bbc3-c1d063966ce4"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_02_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_02_pluvio_diff_perc__lux_2012_02_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_02_pluvio_diff_perc__lux_2012_02_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1082,
                      name: "lux_2012_03_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_03_pluvio_diff_perc",
                        metadata_id: "8dbd9280-f68b-418c-ad30-9001daacd931"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_03_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_03_pluvio_diff_perc__lux_2012_03_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_03_pluvio_diff_perc__lux_2012_03_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1085,
                      name: "lux_2012_04_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_04_pluvio_diff_perc",
                        metadata_id: "77a78f1f-61fb-4e4a-b2d6-c04fc8a87e3d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_04_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_04_pluvio_diff_perc__lux_2012_04_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_04_pluvio_diff_perc__lux_2012_04_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1088,
                      name: "lux_2012_05_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_05_pluvio_diff_perc",
                        metadata_id: "5d1e5786-46ba-4a38-988e-6440a027629a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_05_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_05_pluvio_diff_perc__lux_2012_05_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_05_pluvio_diff_perc__lux_2012_05_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1091,
                      name: "lux_2012_06_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_06_pluvio_diff_perc",
                        metadata_id: "080d016b-c09e-4e0f-a8ef-ea2474119883"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_06_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_06_pluvio_diff_perc__lux_2012_06_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_06_pluvio_diff_perc__lux_2012_06_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1094,
                      name: "lux_2012_07_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_07_pluvio_diff_perc",
                        metadata_id: "683be930-7be7-4a9f-ae30-525694cee659"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_07_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_07_pluvio_diff_perc__lux_2012_07_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_07_pluvio_diff_perc__lux_2012_07_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1097,
                      name: "lux_2012_08_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_08_pluvio_diff_perc",
                        metadata_id: "fbd95c38-5169-4f7a-8c3d-e27959f3d5fa"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_08_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_08_pluvio_diff_perc__lux_2012_08_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_08_pluvio_diff_perc__lux_2012_08_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1100,
                      name: "lux_2012_09_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_09_pluvio_diff_perc",
                        metadata_id: "97eb3553-977d-4a8a-9df2-a7d1ba413f01"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_09_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_09_pluvio_diff_perc__lux_2012_09_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_09_pluvio_diff_perc__lux_2012_09_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1103,
                      name: "lux_2012_10_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_10_pluvio_diff_perc",
                        metadata_id: "64916321-6298-4af5-9be5-a80a15972343"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_10_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_10_pluvio_diff_perc__lux_2012_10_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_10_pluvio_diff_perc__lux_2012_10_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1106,
                      name: "lux_2012_11_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_11_pluvio_diff_perc",
                        metadata_id: "1d9e06b3-c417-47e3-8a65-4916a23ee5fd"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_11_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_11_pluvio_diff_perc__lux_2012_11_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_11_pluvio_diff_perc__lux_2012_11_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1109,
                      name: "lux_2012_12_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_12_pluvio_diff_perc",
                        metadata_id: "e81bb134-ece6-4b77-a377-0c47b6ebfa5c"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_12_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_12_pluvio_diff_perc__lux_2012_12_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_12_pluvio_diff_perc__lux_2012_12_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1073,
                      name: "lux_2012_00_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2012_00_pluvio_diff_perc",
                        metadata_id: "68c5f8cd-4260-4a72-9467-2334820c1090"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2012_00_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2012_00_pluvio_diff_perc__lux_2012_00_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2012_00_pluvio_diff_perc__lux_2012_00_samples_pluvio_diff_mm_02"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        },
        {
          id: 1111,
          name: "2013",
          children: [
            {
              id: 1112,
              name: "Temperature",
              children: [
                {
                  id: 1113,
                  name: "lux_2013_temp_minimum",
                  children: [
                    {
                      id: 1115,
                      name: "lux_2013_00_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_00_temp_minimum",
                        metadata_id: "9491b9ca-27e1-48ff-a7c4-8f65e964afa6"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_00_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_00_temp_minimum__lux_2013_00_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_00_temp_minimum__lux_2013_00_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1118,
                      name: "lux_2013_01_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_01_temp_minimum",
                        metadata_id: "a0fccdfb-be0c-49b5-8e73-9928b76bc1b6"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_01_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_01_temp_minimum__lux_2013_01_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_01_temp_minimum__lux_2013_01_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1121,
                      name: "lux_2013_02_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_02_temp_minimum",
                        metadata_id: "b0c95d39-7bc5-44f9-ba29-1126d145b705"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_02_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_02_temp_minimum__lux_2013_02_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_02_temp_minimum__lux_2013_02_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1124,
                      name: "lux_2013_03_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_03_temp_minimum",
                        metadata_id: "7414126a-9d1a-496c-9ceb-ea11ee259f74"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_03_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_03_temp_minimum__lux_2013_03_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_03_temp_minimum__lux_2013_03_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1127,
                      name: "lux_2013_04_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_04_temp_minimum",
                        metadata_id: "8476317e-b13f-4275-941f-b4cfd286af9f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_04_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_04_temp_minimum__lux_2013_04_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_04_temp_minimum__lux_2013_04_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1130,
                      name: "lux_2013_05_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_05_temp_minimum",
                        metadata_id: "13c66d86-f6c7-4c0c-8a6e-ef23f49c1c3a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_05_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_05_temp_minimum__lux_2013_05_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_05_temp_minimum__lux_2013_05_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1133,
                      name: "lux_2013_06_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_06_temp_minimum",
                        metadata_id: "a470e8a9-e077-4f5b-a39a-c972048431e4"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_06_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_06_temp_minimum__lux_2013_06_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_06_temp_minimum__lux_2013_06_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1136,
                      name: "lux_2013_07_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_07_temp_minimum",
                        metadata_id: "44b643b3-5508-48d0-86a9-4cac1e71980b"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_07_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_07_temp_minimum__lux_2013_07_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_07_temp_minimum__lux_2013_07_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1139,
                      name: "lux_2013_08_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_08_temp_minimum",
                        metadata_id: "9fa46b73-271c-4831-ae28-ccbdb4714cf5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_08_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_08_temp_minimum__lux_2013_08_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_08_temp_minimum__lux_2013_08_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1142,
                      name: "lux_2013_09_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_09_temp_minimum",
                        metadata_id: "888e8d4e-d391-4453-ae90-7f9f5f2d051b"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_09_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_09_temp_minimum__lux_2013_09_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_09_temp_minimum__lux_2013_09_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1145,
                      name: "lux_2013_10_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_10_temp_minimum",
                        metadata_id: "a24fc9f4-59ff-4c9f-a39c-926583491c5d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_10_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_10_temp_minimum__lux_2013_10_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_10_temp_minimum__lux_2013_10_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1148,
                      name: "lux_2013_11_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_11_temp_minimum",
                        metadata_id: "0d7a0b9d-02ae-48cc-9456-f69ef74f9ff7"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_11_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_11_temp_minimum__lux_2013_11_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_11_temp_minimum__lux_2013_11_samples_temp_minimum"
                        }
                      ]
                    },
                    {
                      id: 1151,
                      name: "lux_2013_12_temp_minimum",
                      metadata: {
                        legend_name: "ahc:lux_2013_12_temp_minimum",
                        metadata_id: "2908895f-0b04-4489-b22f-9f105b2f9a13"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_12_temp_minimum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_12_temp_minimum__lux_2013_12_map_temp_minimum"
                        },
                        {
                          name: "lux_2013_12_temp_minimum__lux_2013_12_samples_temp_minimum"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1153,
                  name: "lux_2013_temp_average",
                  children: [
                    {
                      id: 1155,
                      name: "lux_2013_00_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_00_temp_average",
                        metadata_id: "8fcdd152-cf89-4430-ab35-66cfb7f45fa3"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_00_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_00_temp_average__lux_2013_00_map_temp_average"
                        },
                        {
                          name: "lux_2013_00_temp_average__lux_2013_00_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1158,
                      name: "lux_2013_01_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_01_temp_average",
                        metadata_id: "8d736a16-7c67-4691-a320-3d7ca985c4bd"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_01_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_01_temp_average__lux_2013_01_map_temp_average"
                        },
                        {
                          name: "lux_2013_01_temp_average__lux_2013_01_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1161,
                      name: "lux_2013_02_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_02_temp_average",
                        metadata_id: "867f9ad9-42bd-499d-b0d9-21b62dd870a3"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_02_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_02_temp_average__lux_2013_02_map_temp_average"
                        },
                        {
                          name: "lux_2013_02_temp_average__lux_2013_02_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1164,
                      name: "lux_2013_03_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_03_temp_average",
                        metadata_id: "41176e94-9991-4b00-87fc-a0aa342d6149"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_03_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_03_temp_average__lux_2013_03_map_temp_average"
                        },
                        {
                          name: "lux_2013_03_temp_average__lux_2013_03_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1167,
                      name: "lux_2013_04_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_04_temp_average",
                        metadata_id: "c29928a4-c82d-419a-a74b-20cd5d9ee6db"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_04_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_04_temp_average__lux_2013_04_map_temp_average"
                        },
                        {
                          name: "lux_2013_04_temp_average__lux_2013_04_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1170,
                      name: "lux_2013_05_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_05_temp_average",
                        metadata_id: "42128c19-7fd3-4a11-9d75-cd88709c6b92"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_05_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_05_temp_average__lux_2013_05_map_temp_average"
                        },
                        {
                          name: "lux_2013_05_temp_average__lux_2013_05_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1173,
                      name: "lux_2013_06_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_06_temp_average",
                        metadata_id: "8f4af35c-6312-4d67-8f20-1b83b2e422df"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_06_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_06_temp_average__lux_2013_06_map_temp_average"
                        },
                        {
                          name: "lux_2013_06_temp_average__lux_2013_06_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1176,
                      name: "lux_2013_07_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_07_temp_average",
                        metadata_id: "d925c1bb-8c3c-430a-966d-3b924ffdc67e"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_07_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_07_temp_average__lux_2013_07_map_temp_average"
                        },
                        {
                          name: "lux_2013_07_temp_average__lux_2013_07_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1179,
                      name: "lux_2013_08_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_08_temp_average",
                        metadata_id: "74345275-8902-4bc5-aa69-fb88c8b79be8"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_08_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_08_temp_average__lux_2013_08_map_temp_average"
                        },
                        {
                          name: "lux_2013_08_temp_average__lux_2013_08_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1182,
                      name: "lux_2013_09_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_09_temp_average",
                        metadata_id: "d34052ae-0b2d-48cd-9bd5-f0032a0bed47"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_09_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_09_temp_average__lux_2013_09_map_temp_average"
                        },
                        {
                          name: "lux_2013_09_temp_average__lux_2013_09_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1185,
                      name: "lux_2013_10_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_10_temp_average",
                        metadata_id: "29d46c4d-b803-4fe3-b0df-9861590bc741"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_10_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_10_temp_average__lux_2013_10_map_temp_average"
                        },
                        {
                          name: "lux_2013_10_temp_average__lux_2013_10_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1188,
                      name: "lux_2013_11_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_11_temp_average",
                        metadata_id: "210c3e61-6ee3-4ae9-b6c7-a42919570f65"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_11_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_11_temp_average__lux_2013_11_map_temp_average"
                        },
                        {
                          name: "lux_2013_11_temp_average__lux_2013_11_samples_temp_average"
                        }
                      ]
                    },
                    {
                      id: 1191,
                      name: "lux_2013_12_temp_average",
                      metadata: {
                        legend_name: "ahc:lux_2013_12_temp_average",
                        metadata_id: "cb111db8-4647-47af-8ce2-c78a24172053"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_12_temp_average",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_12_temp_average__lux_2013_12_map_temp_average"
                        },
                        {
                          name: "lux_2013_12_temp_average__lux_2013_12_samples_temp_average"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1193,
                  name: "lux_2013_temp_maximum",
                  children: [
                    {
                      id: 1195,
                      name: "lux_2013_00_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_00_temp_maximum",
                        metadata_id: "38302ccb-d128-4131-900e-af265e6db07f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_00_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_00_temp_maximum__lux_2013_00_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_00_temp_maximum__lux_2013_00_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1198,
                      name: "lux_2013_01_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_01_temp_maximum",
                        metadata_id: "dcc77aea-c193-4d11-9e09-ed7533e93add"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_01_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_01_temp_maximum__lux_2013_01_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_01_temp_maximum__lux_2013_01_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1201,
                      name: "lux_2013_02_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_02_temp_maximum",
                        metadata_id: "af6addcb-cbc7-4df0-9f72-a16f4a458ff7"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_02_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_02_temp_maximum__lux_2013_02_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_02_temp_maximum__lux_2013_02_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1204,
                      name: "lux_2013_03_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_03_temp_maximum",
                        metadata_id: "b3a55d44-164e-476b-87b3-5034f7e26a76"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_03_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_03_temp_maximum__lux_2013_03_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_03_temp_maximum__lux_2013_03_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1207,
                      name: "lux_2013_04_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_04_temp_maximum",
                        metadata_id: "16f1fa2f-e987-4495-bec8-7814497d91c7"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_04_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_04_temp_maximum__lux_2013_04_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_04_temp_maximum__lux_2013_04_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1210,
                      name: "lux_2013_05_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_05_temp_maximum",
                        metadata_id: "c4cd6879-96db-40c1-bc7a-a29c129150eb"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_05_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_05_temp_maximum__lux_2013_05_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_05_temp_maximum__lux_2013_05_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1213,
                      name: "lux_2013_06_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_06_temp_maximum",
                        metadata_id: "3a9de7b2-e535-46eb-a3fb-168fd23d7aeb"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_06_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_06_temp_maximum__lux_2013_06_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_06_temp_maximum__lux_2013_06_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1216,
                      name: "lux_2013_07_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_07_temp_maximum",
                        metadata_id: "a72dcdbf-f26d-448c-844b-70a221153e0d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_07_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_07_temp_maximum__lux_2013_07_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_07_temp_maximum__lux_2013_07_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1219,
                      name: "lux_2013_08_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_08_temp_maximum",
                        metadata_id: "16bdbbdb-4c6b-41f3-aa4a-079e11b5dc96"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_08_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_08_temp_maximum__lux_2013_08_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_08_temp_maximum__lux_2013_08_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1222,
                      name: "lux_2013_09_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_09_temp_maximum",
                        metadata_id: "727ee672-138a-4c5a-8693-06b8696bdfd5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_09_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_09_temp_maximum__lux_2013_09_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_09_temp_maximum__lux_2013_09_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1225,
                      name: "lux_2013_10_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_10_temp_maximum",
                        metadata_id: "72b7c62b-9a89-4123-bb5c-fd593ed037a2"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_10_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_10_temp_maximum__lux_2013_10_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_10_temp_maximum__lux_2013_10_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1228,
                      name: "lux_2013_11_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_11_temp_maximum",
                        metadata_id: "754c15d3-eb29-4759-8f01-dcd77e20caf5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_11_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_11_temp_maximum__lux_2013_11_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_11_temp_maximum__lux_2013_11_samples_temp_maximum"
                        }
                      ]
                    },
                    {
                      id: 1231,
                      name: "lux_2013_12_temp_maximum",
                      metadata: {
                        legend_name: "ahc:lux_2013_12_temp_maximum",
                        metadata_id: "eb4ed213-faab-4453-a0dc-c005e63dbe54"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_12_temp_maximum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_12_temp_maximum__lux_2013_12_map_temp_maximum"
                        },
                        {
                          name: "lux_2013_12_temp_maximum__lux_2013_12_samples_temp_maximum"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            },
            {
              id: 1233,
              name: "Precipitation3",
              children: [
                {
                  id: 1234,
                  name: "lux_2013_pluvio_sum",
                  children: [
                    {
                      id: 1236,
                      name: "lux_2013_00_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_00_pluvio_sum",
                        metadata_id: "b5080e49-bdb7-4915-972f-9d744ed565cd"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_00_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_00_pluvio_sum__lux_2013_00_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_00_pluvio_sum__lux_2013_00_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1239,
                      name: "lux_2013_01_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_01_pluvio_sum",
                        metadata_id: "34b89ba6-548d-489a-985a-77e2e091814c"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_01_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_01_pluvio_sum__lux_2013_01_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_01_pluvio_sum__lux_2013_01_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1242,
                      name: "lux_2013_02_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_02_pluvio_sum",
                        metadata_id: "d260feba-b542-419f-a7fa-175a41c751d6"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_02_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_02_pluvio_sum__lux_2013_02_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_02_pluvio_sum__lux_2013_02_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1245,
                      name: "lux_2013_03_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_03_pluvio_sum",
                        metadata_id: "a2c5e951-c4fb-45a8-ab6d-de86f553ca5f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_03_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_03_pluvio_sum__lux_2013_03_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_03_pluvio_sum__lux_2013_03_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1248,
                      name: "lux_2013_04_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_04_pluvio_sum",
                        metadata_id: "569d346a-af56-447f-9d4d-f4058e42b196"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_04_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_04_pluvio_sum__lux_2013_04_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_04_pluvio_sum__lux_2013_04_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1251,
                      name: "lux_2013_05_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_05_pluvio_sum",
                        metadata_id: "91109847-6a28-4035-949c-e1c70a2af222"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_05_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_05_pluvio_sum__lux_2013_05_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_05_pluvio_sum__lux_2013_05_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1254,
                      name: "lux_2013_06_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_06_pluvio_sum",
                        metadata_id: "3188667a-f04f-4cda-a35c-c587a7fb192a"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_06_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_06_pluvio_sum__lux_2013_06_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_06_pluvio_sum__lux_2013_06_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1257,
                      name: "lux_2013_07_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_07_pluvio_sum",
                        metadata_id: "e1daa189-ffe2-49a5-9644-d5dbf46788e5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_07_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_07_pluvio_sum__lux_2013_07_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_07_pluvio_sum__lux_2013_07_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1260,
                      name: "lux_2013_08_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_08_pluvio_sum",
                        metadata_id: "42c36f8b-dbaa-4b26-87ee-41022578bf8b"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_08_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_08_pluvio_sum__lux_2013_08_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_08_pluvio_sum__lux_2013_08_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1263,
                      name: "lux_2013_09_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_09_pluvio_sum",
                        metadata_id: "5181f183-e287-40df-b262-f18c3b879659"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_09_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_09_pluvio_sum__lux_2013_09_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_09_pluvio_sum__lux_2013_09_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1266,
                      name: "lux_2013_10_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_10_pluvio_sum",
                        metadata_id: "31907d6a-ac9e-421e-95c2-68ff61df2804"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_10_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_10_pluvio_sum__lux_2013_10_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_10_pluvio_sum__lux_2013_10_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1269,
                      name: "lux_2013_11_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_11_pluvio_sum",
                        metadata_id: "0aed9327-3d3e-497b-8a90-722ada2dc9e2"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_11_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_11_pluvio_sum__lux_2013_11_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_11_pluvio_sum__lux_2013_11_samples_pluvio_sum"
                        }
                      ]
                    },
                    {
                      id: 1272,
                      name: "lux_2013_12_pluvio_sum",
                      metadata: {
                        legend_name: "ahc:lux_2013_12_pluvio_sum",
                        metadata_id: "4fe594e6-e8e6-4759-9a69-631f9408777f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_12_pluvio_sum",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_12_pluvio_sum__lux_2013_12_map_pluvio_sum"
                        },
                        {
                          name: "lux_2013_12_pluvio_sum__lux_2013_12_samples_pluvio_sum"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1274,
                  name: "lux_2013_pluvio_diff_mm",
                  children: [
                    {
                      id: 1279,
                      name: "lux_2013_01_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_01_pluvio_diff_mm",
                        metadata_id: "1b4e7653-8560-4b11-9050-6e2da25d2536"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_01_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_01_pluvio_diff_mm__lux_2013_01_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_01_pluvio_diff_mm__lux_2013_01_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1282,
                      name: "lux_2013_02_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_02_pluvio_diff_mm",
                        metadata_id: "cb124ba7-497a-49b0-b5d8-daf624feab66"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_02_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_02_pluvio_diff_mm__lux_2013_02_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_02_pluvio_diff_mm__lux_2013_02_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1285,
                      name: "lux_2013_03_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_03_pluvio_diff_mm",
                        metadata_id: "feb7cc51-d9c5-4dee-9f92-2e1eccfb8fd3"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_03_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_03_pluvio_diff_mm__lux_2013_03_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_03_pluvio_diff_mm__lux_2013_03_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1288,
                      name: "lux_2013_04_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_04_pluvio_diff_mm",
                        metadata_id: "e5fec492-f0ce-40f5-bbcf-e4c0e2460c37"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_04_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_04_pluvio_diff_mm__lux_2013_04_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_04_pluvio_diff_mm__lux_2013_04_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1291,
                      name: "lux_2013_05_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_05_pluvio_diff_mm",
                        metadata_id: "67d1d6a9-b444-4860-b9c1-0a4abda5b4bc"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_05_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_05_pluvio_diff_mm__lux_2013_05_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_05_pluvio_diff_mm__lux_2013_05_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1294,
                      name: "lux_2013_06_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_06_pluvio_diff_mm",
                        metadata_id: "49b60010-28fc-46d0-aa63-2a3624d629a8"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_06_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_06_pluvio_diff_mm__lux_2013_06_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_06_pluvio_diff_mm__lux_2013_06_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1297,
                      name: "lux_2013_07_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_07_pluvio_diff_mm",
                        metadata_id: "e4a49062-a310-4257-aba5-409fe79cc048"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_07_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_07_pluvio_diff_mm__lux_2013_07_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_07_pluvio_diff_mm__lux_2013_07_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1300,
                      name: "lux_2013_08_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_08_pluvio_diff_mm",
                        metadata_id: "f9c8cf90-9fea-4e3e-a3d2-af34c0f3c8c9"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_08_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_08_pluvio_diff_mm__lux_2013_08_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_08_pluvio_diff_mm__lux_2013_08_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1303,
                      name: "lux_2013_09_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_09_pluvio_diff_mm",
                        metadata_id: "954c29ac-997d-43f5-b128-97939df0e0bc"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_09_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_09_pluvio_diff_mm__lux_2013_09_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_09_pluvio_diff_mm__lux_2013_09_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1306,
                      name: "lux_2013_10_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_10_pluvio_diff_mm",
                        metadata_id: "5ee53d0f-7a12-4e01-a780-6106ee4a9d1f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_10_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_10_pluvio_diff_mm__lux_2013_10_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_10_pluvio_diff_mm__lux_2013_10_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1309,
                      name: "lux_2013_11_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_11_pluvio_diff_mm",
                        metadata_id: "2b60cc3d-3aca-4991-858b-989f58650183"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_11_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_11_pluvio_diff_mm__lux_2013_11_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_11_pluvio_diff_mm__lux_2013_11_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1312,
                      name: "lux_2013_12_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_12_pluvio_diff_mm",
                        metadata_id: "a0b2df18-1258-4882-bb53-dc67a016026d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_12_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_12_pluvio_diff_mm__lux_2013_12_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_12_pluvio_diff_mm__lux_2013_12_samples_pluvio_diff_mm"
                        }
                      ]
                    },
                    {
                      id: 1276,
                      name: "lux_2013_00_pluvio_diff_mm",
                      metadata: {
                        legend_name: "ahc:lux_2013_00_pluvio_diff_mm",
                        metadata_id: "f0c3d6f2-417d-40e8-b2a0-b4c93fece026"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_00_pluvio_diff_mm",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_00_pluvio_diff_mm__lux_2013_00_map_pluvio_diff_mm"
                        },
                        {
                          name: "lux_2013_00_pluvio_diff_mm__lux_2013_00_samples_pluvio_diff_mm_01"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                },
                {
                  id: 1314,
                  name: "lux_2013_pluvio_diff_perc",
                  children: [
                    {
                      id: 1319,
                      name: "lux_2013_01_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_01_pluvio_diff_perc",
                        metadata_id: "9c3afb13-f628-4ecb-8728-50e7d5077403"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_01_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_01_pluvio_diff_perc__lux_2013_01_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_01_pluvio_diff_perc__lux_2013_01_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1322,
                      name: "lux_2013_02_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_02_pluvio_diff_perc",
                        metadata_id: "e543ffcf-9b44-41a1-b9e1-dd6b847b6b2f"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_02_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_02_pluvio_diff_perc__lux_2013_02_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_02_pluvio_diff_perc__lux_2013_02_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1325,
                      name: "lux_2013_03_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_03_pluvio_diff_perc",
                        metadata_id: "22278d05-9abc-463b-9a37-d8bf3d305011"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_03_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_03_pluvio_diff_perc__lux_2013_03_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_03_pluvio_diff_perc__lux_2013_03_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1328,
                      name: "lux_2013_04_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_04_pluvio_diff_perc",
                        metadata_id: "ef0ddc6b-d503-4d3e-95b5-a848079bc781"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_04_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_04_pluvio_diff_perc__lux_2013_04_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_04_pluvio_diff_perc__lux_2013_04_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1331,
                      name: "lux_2013_05_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_05_pluvio_diff_perc",
                        metadata_id: "8867534c-5db8-411a-a10e-896bef2771ef"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_05_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_05_pluvio_diff_perc__lux_2013_05_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_05_pluvio_diff_perc__lux_2013_05_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1334,
                      name: "lux_2013_06_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_06_pluvio_diff_perc",
                        metadata_id: "7da0d693-a192-45c7-9fe1-642f91382d77"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_06_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_06_pluvio_diff_perc__lux_2013_06_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_06_pluvio_diff_perc__lux_2013_06_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1337,
                      name: "lux_2013_07_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_07_pluvio_diff_perc",
                        metadata_id: "10b015b1-ca60-4ab6-b824-3dad31bf9877"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_07_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_07_pluvio_diff_perc__lux_2013_07_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_07_pluvio_diff_perc__lux_2013_07_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1340,
                      name: "lux_2013_08_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_08_pluvio_diff_perc",
                        metadata_id: "ad2406b4-e2cd-44a3-ab83-23e3a1fdcc1d"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_08_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_08_pluvio_diff_perc__lux_2013_08_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_08_pluvio_diff_perc__lux_2013_08_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1343,
                      name: "lux_2013_09_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_09_pluvio_diff_perc",
                        metadata_id: "fa85f943-3521-43b1-ae35-61ed895b22d5"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_09_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_09_pluvio_diff_perc__lux_2013_09_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_09_pluvio_diff_perc__lux_2013_09_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1346,
                      name: "lux_2013_10_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_10_pluvio_diff_perc",
                        metadata_id: "665b8b4e-d97f-4186-8a18-ba17177ca725"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_10_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_10_pluvio_diff_perc__lux_2013_10_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_10_pluvio_diff_perc__lux_2013_10_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1349,
                      name: "lux_2013_11_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_11_pluvio_diff_perc",
                        metadata_id: "96abf4cd-affa-4dc8-b772-a1b4ea00b2b7"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_11_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_11_pluvio_diff_perc__lux_2013_11_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_11_pluvio_diff_perc__lux_2013_11_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1352,
                      name: "lux_2013_12_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_12_pluvio_diff_perc",
                        metadata_id: "9960a338-263d-4b86-9bb6-012f5d339ba1"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_12_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_12_pluvio_diff_perc__lux_2013_12_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_12_pluvio_diff_perc__lux_2013_12_samples_pluvio_diff_perc"
                        }
                      ]
                    },
                    {
                      id: 1316,
                      name: "lux_2013_00_pluvio_diff_perc",
                      metadata: {
                        legend_name: "ahc:lux_2013_00_pluvio_diff_perc",
                        metadata_id: "a3897301-7be1-4e45-a6e2-e207999c0ec9"
                      },
                      dimensions: {},
                      type: "WMS",
                      layers: "lux_2013_00_pluvio_diff_perc",
                      imageType: "image/png",
                      style: "default",
                      childLayers: [
                        {
                          name: "lux_2013_00_pluvio_diff_perc__lux_2013_00_map_pluvio_diff_perc"
                        },
                        {
                          name: "lux_2013_00_pluvio_diff_perc__lux_2013_00_samples_pluvio_diff_mm_02"
                        }
                      ]
                    }
                  ],
                  metadata: {},
                  mixed: !0
                }
              ],
              metadata: {},
              mixed: !0
            }
          ],
          metadata: {},
          mixed: !0
        }
      ],
      functionalities: {},
      metadata: {
        display_in_switcher: !0
      }
    }
  ],
  background_layers: [
    {
      id: 556,
      name: "basemap_2015_global",
      metadata: {
        attribution: '&copy; <a href="https://www.mapzen.com/rights">CARTO</a>  &copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors for data outside of Luxembourg',
        exclusion: "[31, 32]",
        legend_name: "act:roadmap_vt",
        metadata_id: "a1fea2a0-e0a0-4e5f-a61d-9b3c3a9426bd"
      },
      dimensions: {},
      type: "WMTS",
      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
      style: "default",
      matrixSet: "GLOBAL_WEBMERCATOR",
      layer: "basemap_2015_global",
      imageType: "image/png"
    },
    {
      id: 502,
      name: "topo_bw_jpeg",
      metadata: {
        exclusion: "[35, 45]",
        legend_name: "act_topovt_bw",
        metadata_id: "b786acc2-b87e-4c7a-aff7-52778357243b"
      },
      dimensions: {},
      type: "WMTS",
      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
      style: "default",
      matrixSet: "GLOBAL_WEBMERCATOR",
      layer: "topo_bw_jpeg",
      imageType: "image/jpeg"
    },
    {
      id: 529,
      name: "topogr_global",
      metadata: {
        exclusion: "[36, 46]",
        legend_name: "act_topovt",
        metadata_id: "b786acc2-b87e-4c7a-aff7-52778357243b"
      },
      dimensions: {},
      type: "WMTS",
      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
      style: "default",
      matrixSet: "GLOBAL_WEBMERCATOR",
      layer: "topogr_global",
      imageType: "image/png"
    },
    {
      id: 530,
      name: "orthogr_2013_global",
      metadata: {
        exclusion: "[21, 22]",
        hasRetina: !1,
        metadata_id: "554cb3f9-a6e7-4e0e-8d62-0853dfd33c32"
      },
      dimensions: {},
      type: "WMTS",
      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
      style: "default",
      matrixSet: "GLOBAL_WEBMERCATOR",
      layer: "orthogr_2013_global",
      imageType: "image/jpeg"
    },
    {
      id: 501,
      name: "streets_jpeg",
      metadata: {
        exclusion: "[11, 12]",
        hasRetina: !1,
        metadata_id: "c427b194-53ba-418d-9b4a-226a8cbfd568"
      },
      dimensions: {},
      type: "WMTS",
      url: "http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",
      style: "default",
      matrixSet: "GLOBAL_WEBMERCATOR",
      layer: "streets_jpeg",
      imageType: "image/png"
    }
  ],
  errors: [],
  lux_3d: {
    terrain_url: "https://acts3.geoportail.lu/3d-data/3d-tiles/terrain3D/lidar_2019_terrain/3DTiles"
  }
});
function Fo() {
  function a(o, y) {
    return e(o, void 0, y);
  }
  function t(o, y) {
    return e(void 0, o, y);
  }
  function e(o, y, b) {
    const { theme: S } = Qn();
    if (b = b || S, o && (b == null ? void 0 : b.id) === o || y && (b == null ? void 0 : b.name) === y)
      return b;
    if (b != null && b.children)
      for (const T of b.children) {
        const L = e(o, y, T);
        if (L)
          return L;
      }
  }
  function i(o) {
    const { bgLayers: y } = Qn();
    return y.find((b) => b.id === o);
  }
  function n(o) {
    const { bgLayers: y } = Qn();
    return y.find((b) => b.name === o);
  }
  function u(o) {
    const { setTheme: y } = Qn();
    y(o);
  }
  async function _() {
    return new Promise((o) => o(J9()));
  }
  return {
    findById: a,
    findByName: t,
    findBgLayerById: i,
    findBgLayerByName: n,
    setTheme: u,
    fetchThemes: _
  };
}
const Mv = Fo();
function Uc() {
  function a(n, u) {
    try {
      return JSON.parse(n).concat(JSON.parse(u)).sort((o, y) => o - y).some(
        (o, y, b) => y && o === b[y - 1]
      );
    } catch {
      return !1;
    }
  }
  function t(n) {
    var u;
    return n.opacity = n.previousOpacity = ((u = n.metadata) == null ? void 0 : u.start_opacity) ?? 1, n;
  }
  function e(n) {
    var o;
    if (!((o = n.metadata) != null && o.exclusion))
      return;
    const u = er(), _ = u.layers.filter(
      (y) => {
        var b, S;
        return a(
          (b = n == null ? void 0 : n.metadata) == null ? void 0 : b.exclusion,
          (S = y == null ? void 0 : y.metadata) == null ? void 0 : S.exclusion
        );
      }
    );
    _.length > 0 && (u.removeLayers(..._.map((y) => y.id)), alert(
      vi.t(
        "The layer <b>{{layersToRemove}}</b> has been removed because it cannot be displayed while the layer <b>{{layer}}</b> is displayed",
        {
          count: _.length,
          layersToRemove: _.map((y) => vi.t(y.name, { ns: "client" })).join(", "),
          layer: vi.t(n.name, { ns: "client" }),
          ns: "client"
        }
      )
    ));
  }
  function i(n, u = !0) {
    var b;
    const _ = Qn(), o = er(), y = Mv.findById(n, _.theme);
    if (y) {
      const S = ((b = y.metadata) == null ? void 0 : b.linked_layers) || [];
      u === !1 ? o.removeLayers(y.id, ...S) : (e(y), o.addLayers(
        t(y),
        ...S.map(
          (T) => t(
            Mv.findById(parseInt(T, 10))
          )
        )
      ));
    }
  }
  return {
    initLayer: t,
    handleExclusionLayers: e,
    toggleLayer: i
  };
}
const eL = {
  class: "mb-px",
  key: "node.id"
}, tL = ["aria-expanded", "data-cy"], aL = { class: "grow" }, iL = { class: "leading-6" }, nL = ["aria-expanded", "data-cy"], rL = { class: "grow" }, sL = { class: "leading-6" }, oL = {
  key: 1,
  class: "flex text-tertiary pr-2"
}, lL = ["data-cy"], uL = { class: "ml-1 hover:underline" }, Cb = /* @__PURE__ */ Ka({
  __name: "layer-tree-node",
  props: {
    node: null
  },
  emits: ["toggleLayer", "toggleParent"],
  setup(a, { emit: t }) {
    const e = a, { t: i } = ar(), { setMetadataId: n } = ay(), u = !!e.node.children, _ = e.node.depth === 0, o = e.node.depth >= 10, y = ki(() => i(e.node.name, { ns: "client" }));
    function b(T) {
      t("toggleLayer", T);
    }
    function S(T) {
      t("toggleParent", T);
    }
    return (T, L) => {
      const R = tS("layer-tree-node", !0);
      return u ? (ut(), bt("div", eL, [
        a.node.depth === 1 ? (ut(), bt("button", {
          key: 0,
          class: Ua(["group node-1 w-full text-left flex px-2 py-1.5 uppercase bg-tertiary", a.node.expanded ? "text-white" : "text-secondary"]),
          "aria-expanded": a.node.expanded,
          onClick: L[0] || (L[0] = (D) => S(a.node)),
          "data-cy": `parentLayerLabel-${a.node.id}`
        }, [
          Ge("div", aL, Ft(Oe(y)), 1),
          Ge("div", iL, [
            Ge("div", {
              class: Ua(["fa fa-sharp fa-solid group-hover:text-white", a.node.expanded ? "fa-caret-up" : "fa-caret-down"])
            }, null, 2)
          ])
        ], 10, tL)) : a.node.depth > 1 && !o ? (ut(), bt("button", {
          key: 1,
          class: Ua([
            "w-full text-left flex px-2 py-1.5 pl-2",
            a.node.expanded ? "bg-secondary text-tertiary" : "bg-white text-primary"
          ]),
          "aria-expanded": a.node.expanded,
          onClick: L[1] || (L[1] = (D) => S(a.node)),
          "data-cy": `parentLayerLabel-${a.node.id}`
        }, [
          Ge("div", rL, Ft(Oe(y)), 1),
          Ge("div", sL, [
            Ge("div", {
              class: Ua(["fa-sharp fa-solid", a.node.expanded ? "fa-minus" : "fa-plus"])
            }, null, 2)
          ])
        ], 10, nL)) : ua("", !0),
        o ? ua("", !0) : (ut(), bt("div", {
          key: 2,
          class: Ua(["bg-secondary", [
            { "pl-2": a.node.depth > 1 },
            { "lux-collapse": !_ },
            { expanded: !_ && a.node.expanded }
          ]])
        }, [
          (ut(!0), bt(Or, null, Qs(a.node.children, (D) => (ut(), Xr(R, {
            key: D.id,
            node: D,
            onToggleParent: L[2] || (L[2] = (j) => S(j)),
            onToggleLayer: L[3] || (L[3] = (j) => b(j))
          }, null, 8, ["node"]))), 128))
        ], 2))
      ])) : (ut(), bt("div", oL, [
        Ge("button", {
          class: "self-start before:text-[.85rem] before:transform before:translate-y-[.1rem] before:inline-block before:content-['\\f129'] fa-solid fa-fw fa-fh fa-info",
          onClick: L[4] || (L[4] = (D) => Oe(n)(a.node.id))
        }),
        Ge("button", {
          class: Ua(["w-full text-left", { "font-bold": a.node.checked }]),
          onClick: L[5] || (L[5] = (D) => b(a.node)),
          "data-cy": `layerLabel-${a.node.id}`
        }, [
          Ge("i", {
            class: Ua(["fa-solid", a.node.checked ? "fa-check-square" : "fa-square"])
          }, null, 2),
          Ge("span", uL, Ft(Oe(y)), 1)
        ], 10, lL)
      ]));
    };
  }
});
function Ab(a, t = 0) {
  const { name: e, id: i, children: n, metadata: u } = a;
  return {
    name: e,
    id: i,
    depth: t,
    children: n == null ? void 0 : n.map((_) => Ab(_, t + 1)),
    checked: !1,
    expanded: (u == null ? void 0 : u.is_expanded) || !1
  };
}
class dL {
  toggleNode(t, e, i) {
    var n;
    return (e == null ? void 0 : e.id) === t ? {
      ...e,
      [i]: !e[i]
    } : {
      ...e,
      children: (n = e.children) == null ? void 0 : n.map(
        (u) => this.toggleNode(t, u, i)
      )
    };
  }
  updateLayers(t, e) {
    const { id: i } = t;
    if (t.children)
      return {
        ...t,
        children: t.children.map((n) => this.updateLayers(n, e))
      };
    {
      const n = !!(e != null && e.find((u) => u.id === i));
      return {
        ...t,
        checked: n
      };
    }
  }
}
const Rc = new dL(), cL = /* @__PURE__ */ Ka({
  __name: "catalog-tree",
  setup(a) {
    const t = er(), e = Qn(), i = Uc(), n = Fn();
    Ho(u);
    function u() {
      var y;
      if (e.theme && t.layers) {
        const b = n.value && n.value.id === ((y = e.theme) == null ? void 0 : y.id) ? n.value : Ab(e.theme);
        n.value = Rc.updateLayers(
          b,
          t.layers
        );
      }
    }
    function _(y) {
      n.value = Rc.toggleNode(
        y.id,
        n.value,
        "expanded"
      );
    }
    function o(y) {
      i.toggleLayer(+y.id, !y.checked);
    }
    return (y, b) => Oe(n) ? (ut(), Xr(Cb, {
      node: Oe(n),
      key: Oe(n).id,
      onToggleParent: _,
      onToggleLayer: o
    }, null, 8, ["node"])) : ua("", !0);
  }
}), _L = { class: "flex flex-row flex-wrap pl-2.5" }, mL = ["onClick"], hL = { class: "text-2xl absolute top-5" }, pL = /* @__PURE__ */ Ka({
  __name: "theme-grid",
  props: {
    themes: null
  },
  setup(a) {
    const t = a, { t: e } = ar();
    return (i, n) => (ut(), bt("div", _L, [
      (ut(!0), bt(Or, null, Qs(t.themes, (u) => (ut(), bt("button", {
        class: Ua(["relative shrink-0 h-[150px] w-1/2 px-2.5 text-start text-gray-100/40 uppercase hover:bg-[#ccc]", `bg-${u.name}-primary hover:text-${u.name}-primary`]),
        key: u.id,
        onClick: (_) => i.$emit("setTheme", u.name)
      }, [
        Ge("div", hL, Ft(Oe(e)(`${u.name}`)), 1),
        Ge("div", {
          class: Ua(["text-6xl absolute bottom-1 after:font-icons", `after:content-${u.name}`])
        }, null, 2)
      ], 10, mL))), 128))
    ]));
  }
}), fL = ["aria-expanded"], gL = { class: "py-0.5" }, yL = { class: "px-1 py-0.5 shrink-0 flex flex-row text-[12px] bg-secondary text-white" }, vL = { class: "py-[3px]" }, bL = { class: "flex flex-row flex-wrap ml-1 w-12" }, xL = /* @__PURE__ */ Ka({
  __name: "theme-selector-button",
  props: {
    themes: null,
    currentTheme: null,
    isOpen: { type: Boolean }
  },
  setup(a) {
    const t = a, { t: e } = ar(), i = ki(() => {
      var n;
      return ((n = t.themes) == null ? void 0 : n.slice(0, 8)) || [];
    });
    return (n, u) => {
      var _;
      return ut(), bt("button", {
        class: "w-full flex flex-row justify-between bg-tertiary text-white px-2 py-1.5 uppercase cursor-pointer hover:bg-white hover:text-primary",
        "aria-expanded": t.isOpen
      }, [
        Ge("span", gL, Ft(Oe(e)("Theme")) + ": " + Ft(Oe(e)(`${(_ = t.currentTheme) == null ? void 0 : _.name}`)), 1),
        Ge("span", yL, [
          Ge("span", vL, Ft(Oe(e)("Changer")), 1),
          Ge("span", bL, [
            (ut(!0), bt(Or, null, Qs(Oe(i), (o) => (ut(), bt("div", {
              class: Ua(`h-2.5 w-2.5 m-px bg-${o.name}-primary`),
              key: o.id
            }, null, 2))), 128))
          ])
        ])
      ], 8, fL);
    };
  }
}), wL = {
  key: 0,
  class: "absolute inset-x-0 top-14 bottom-0 mt-1 bg-primary overflow-y-auto overflow-x-hidden"
}, SL = /* @__PURE__ */ Ka({
  __name: "theme-selector",
  emits: ["toggleThemesGrid"],
  setup(a, { emit: t }) {
    const e = Qn(), i = Fo(), { theme: n, themes: u } = Jn(e), _ = ki(
      () => {
        var S;
        return ((S = u.value) == null ? void 0 : S.filter(
          (T) => {
            var L;
            return ((L = T.metadata) == null ? void 0 : L.display_in_switcher) === !0;
          }
        )) || [];
      }
    ), o = Fn(!1);
    function y() {
      t("toggleThemesGrid", o.value = !o.value);
    }
    function b(S) {
      i.setTheme(S), y();
    }
    return (S, T) => (ut(), bt(Or, null, [
      ta(xL, {
        onClick: y,
        themes: Oe(_),
        currentTheme: Oe(n),
        isOpen: Oe(o)
      }, null, 8, ["themes", "currentTheme", "isOpen"]),
      Oe(o) ? (ut(), bt("div", wL, [
        ta(pL, {
          onSetTheme: b,
          themes: Oe(_)
        }, null, 8, ["themes"])
      ])) : ua("", !0)
    ], 64));
  }
});
var TL = (
  /** @class */
  function() {
    function a(t) {
      this.propagationStopped, this.defaultPrevented, this.type = t, this.target = null;
    }
    return a.prototype.preventDefault = function() {
      this.defaultPrevented = !0;
    }, a.prototype.stopPropagation = function() {
      this.propagationStopped = !0;
    }, a;
  }()
);
const to = TL, ud = {
  /**
   * Triggered when a property is changed.
   * @event module:ol/Object.ObjectEvent#propertychange
   * @api
   */
  PROPERTYCHANGE: "propertychange"
};
var ML = (
  /** @class */
  function() {
    function a() {
      this.disposed = !1;
    }
    return a.prototype.dispose = function() {
      this.disposed || (this.disposed = !0, this.disposeInternal());
    }, a.prototype.disposeInternal = function() {
    }, a;
  }()
);
const ny = ML;
function ry(a, t) {
  return a > t ? 1 : a < t ? -1 : 0;
}
function ap(a, t, e) {
  var i = a.length;
  if (a[0] <= t)
    return 0;
  if (t <= a[i - 1])
    return i - 1;
  var n = void 0;
  if (e > 0) {
    for (n = 1; n < i; ++n)
      if (a[n] < t)
        return n - 1;
  } else if (e < 0) {
    for (n = 1; n < i; ++n)
      if (a[n] <= t)
        return n;
  } else
    for (n = 1; n < i; ++n) {
      if (a[n] == t)
        return n;
      if (a[n] < t)
        return typeof e == "function" ? e(t, a[n - 1], a[n]) > 0 ? n - 1 : n : a[n - 1] - t < t - a[n] ? n - 1 : n;
    }
  return i - 1;
}
function EL(a, t) {
  for (var e = Array.isArray(t) ? t : [t], i = e.length, n = 0; n < i; n++)
    a[a.length] = e[n];
}
function sy(a, t) {
  var e = a.length;
  if (e !== t.length)
    return !1;
  for (var i = 0; i < e; i++)
    if (a[i] !== t[i])
      return !1;
  return !0;
}
function LL(a, t, e) {
  var i = t || ry;
  return a.every(function(n, u) {
    if (u === 0)
      return !0;
    var _ = i(a[u - 1], n);
    return !(_ > 0 || e && _ === 0);
  });
}
function kc() {
  return !0;
}
function ip() {
  return !1;
}
function jc() {
}
function CL(a) {
  var t = !1, e, i, n;
  return function() {
    var u = Array.prototype.slice.call(arguments);
    return (!t || this !== n || !sy(u, i)) && (t = !0, n = this, i = u, e = a.apply(this, arguments)), e;
  };
}
var AL = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), IL = (
  /** @class */
  function(a) {
    AL(t, a);
    function t(e) {
      var i = a.call(this) || this;
      return i.eventTarget_ = e, i.pendingRemovals_ = null, i.dispatching_ = null, i.listeners_ = null, i;
    }
    return t.prototype.addEventListener = function(e, i) {
      if (!(!e || !i)) {
        var n = this.listeners_ || (this.listeners_ = {}), u = n[e] || (n[e] = []);
        u.indexOf(i) === -1 && u.push(i);
      }
    }, t.prototype.dispatchEvent = function(e) {
      var i = typeof e == "string", n = i ? e : e.type, u = this.listeners_ && this.listeners_[n];
      if (u) {
        var _ = i ? new to(e) : (
          /** @type {Event} */
          e
        );
        _.target || (_.target = this.eventTarget_ || this);
        var o = this.dispatching_ || (this.dispatching_ = {}), y = this.pendingRemovals_ || (this.pendingRemovals_ = {});
        n in o || (o[n] = 0, y[n] = 0), ++o[n];
        for (var b, S = 0, T = u.length; S < T; ++S)
          if ("handleEvent" in u[S] ? b = /** @type {import("../events.js").ListenerObject} */
          u[S].handleEvent(_) : b = /** @type {import("../events.js").ListenerFunction} */
          u[S].call(this, _), b === !1 || _.propagationStopped) {
            b = !1;
            break;
          }
        if (--o[n] === 0) {
          var L = y[n];
          for (delete y[n]; L--; )
            this.removeEventListener(n, jc);
          delete o[n];
        }
        return b;
      }
    }, t.prototype.disposeInternal = function() {
      this.listeners_ && Vh(this.listeners_);
    }, t.prototype.getListeners = function(e) {
      return this.listeners_ && this.listeners_[e] || void 0;
    }, t.prototype.hasListener = function(e) {
      return this.listeners_ ? e ? e in this.listeners_ : Object.keys(this.listeners_).length > 0 : !1;
    }, t.prototype.removeEventListener = function(e, i) {
      var n = this.listeners_ && this.listeners_[e];
      if (n) {
        var u = n.indexOf(i);
        u !== -1 && (this.pendingRemovals_ && e in this.pendingRemovals_ ? (n[u] = jc, ++this.pendingRemovals_[e]) : (n.splice(u, 1), n.length === 0 && delete this.listeners_[e]));
      }
    }, t;
  }(ny)
);
const u_ = IL, Jt = {
  /**
   * Generic change event. Triggered when the revision counter is increased.
   * @event module:ol/events/Event~BaseEvent#change
   * @api
   */
  CHANGE: "change",
  /**
   * Generic error event. Triggered when an error occurs.
   * @event module:ol/events/Event~BaseEvent#error
   * @api
   */
  ERROR: "error",
  BLUR: "blur",
  CLEAR: "clear",
  CONTEXTMENU: "contextmenu",
  CLICK: "click",
  DBLCLICK: "dblclick",
  DRAGENTER: "dragenter",
  DRAGOVER: "dragover",
  DROP: "drop",
  FOCUS: "focus",
  KEYDOWN: "keydown",
  KEYPRESS: "keypress",
  LOAD: "load",
  RESIZE: "resize",
  TOUCHMOVE: "touchmove",
  WHEEL: "wheel"
};
function fa(a, t, e, i, n) {
  if (i && i !== a && (e = e.bind(i)), n) {
    var u = e;
    e = function() {
      a.removeEventListener(t, e), u.apply(this, arguments);
    };
  }
  var _ = {
    target: a,
    type: t,
    listener: e
  };
  return a.addEventListener(t, e), _;
}
function Ph(a, t, e, i) {
  return fa(a, t, e, i, !0);
}
function ci(a) {
  a && a.target && (a.target.removeEventListener(a.type, a.listener), Vh(a));
}
var PL = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), np = (
  /** @class */
  function(a) {
    PL(t, a);
    function t() {
      var e = a.call(this) || this;
      return e.on = /** @type {ObservableOnSignature<import("./events").EventsKey>} */
      e.onInternal, e.once = /** @type {ObservableOnSignature<import("./events").EventsKey>} */
      e.onceInternal, e.un = /** @type {ObservableOnSignature<void>} */
      e.unInternal, e.revision_ = 0, e;
    }
    return t.prototype.changed = function() {
      ++this.revision_, this.dispatchEvent(Jt.CHANGE);
    }, t.prototype.getRevision = function() {
      return this.revision_;
    }, t.prototype.onInternal = function(e, i) {
      if (Array.isArray(e)) {
        for (var n = e.length, u = new Array(n), _ = 0; _ < n; ++_)
          u[_] = fa(this, e[_], i);
        return u;
      } else
        return fa(
          this,
          /** @type {string} */
          e,
          i
        );
    }, t.prototype.onceInternal = function(e, i) {
      var n;
      if (Array.isArray(e)) {
        var u = e.length;
        n = new Array(u);
        for (var _ = 0; _ < u; ++_)
          n[_] = Ph(this, e[_], i);
      } else
        n = Ph(
          this,
          /** @type {string} */
          e,
          i
        );
      return i.ol_key = n, n;
    }, t.prototype.unInternal = function(e, i) {
      var n = (
        /** @type {Object} */
        i.ol_key
      );
      if (n)
        OL(n);
      else if (Array.isArray(e))
        for (var u = 0, _ = e.length; u < _; ++u)
          this.removeEventListener(e[u], i);
      else
        this.removeEventListener(e, i);
    }, t;
  }(u_)
);
np.prototype.on;
np.prototype.once;
np.prototype.un;
function OL(a) {
  if (Array.isArray(a))
    for (var t = 0, e = a.length; t < e; ++t)
      ci(a[t]);
  else
    ci(
      /** @type {import("./events.js").EventsKey} */
      a
    );
}
const Ib = np;
var Pb = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), Ev = (
  /** @class */
  function(a) {
    Pb(t, a);
    function t(e, i, n) {
      var u = a.call(this, e) || this;
      return u.key = i, u.oldValue = n, u;
    }
    return t;
  }(to)
), RL = (
  /** @class */
  function(a) {
    Pb(t, a);
    function t(e) {
      var i = a.call(this) || this;
      return i.on, i.once, i.un, Yn(i), i.values_ = null, e !== void 0 && i.setProperties(e), i;
    }
    return t.prototype.get = function(e) {
      var i;
      return this.values_ && this.values_.hasOwnProperty(e) && (i = this.values_[e]), i;
    }, t.prototype.getKeys = function() {
      return this.values_ && Object.keys(this.values_) || [];
    }, t.prototype.getProperties = function() {
      return this.values_ && Xa({}, this.values_) || {};
    }, t.prototype.hasProperties = function() {
      return !!this.values_;
    }, t.prototype.notify = function(e, i) {
      var n;
      n = "change:".concat(e), this.hasListener(n) && this.dispatchEvent(new Ev(n, e, i)), n = ud.PROPERTYCHANGE, this.hasListener(n) && this.dispatchEvent(new Ev(n, e, i));
    }, t.prototype.addChangeListener = function(e, i) {
      this.addEventListener("change:".concat(e), i);
    }, t.prototype.removeChangeListener = function(e, i) {
      this.removeEventListener("change:".concat(e), i);
    }, t.prototype.set = function(e, i, n) {
      var u = this.values_ || (this.values_ = {});
      if (n)
        u[e] = i;
      else {
        var _ = u[e];
        u[e] = i, _ !== i && this.notify(e, _);
      }
    }, t.prototype.setProperties = function(e, i) {
      for (var n in e)
        this.set(n, e[n], i);
    }, t.prototype.applyProperties = function(e) {
      e.values_ && Xa(this.values_ || (this.values_ = {}), e.values_);
    }, t.prototype.unset = function(e, i) {
      if (this.values_ && e in this.values_) {
        var n = this.values_[e];
        delete this.values_[e], O3(this.values_) && (this.values_ = null), i || this.notify(e, n);
      }
    }, t;
  }(Ib)
);
const ao = RL, Eo = {
  /**
   * Triggered after a map frame is rendered.
   * @event module:ol/MapEvent~MapEvent#postrender
   * @api
   */
  POSTRENDER: "postrender",
  /**
   * Triggered when the map starts moving.
   * @event module:ol/MapEvent~MapEvent#movestart
   * @api
   */
  MOVESTART: "movestart",
  /**
   * Triggered after the map is moved.
   * @event module:ol/MapEvent~MapEvent#moveend
   * @api
   */
  MOVEEND: "moveend",
  /**
   * Triggered when loading of additional map data (tiles, images, features) starts.
   * @event module:ol/MapEvent~MapEvent#loadstart
   * @api
   */
  LOADSTART: "loadstart",
  /**
   * Triggered when loading of additional map data has completed.
   * @event module:ol/MapEvent~MapEvent#loadend
   * @api
   */
  LOADEND: "loadend"
};
var $o = typeof navigator < "u" && typeof navigator.userAgent < "u" ? navigator.userAgent.toLowerCase() : "", kL = $o.indexOf("firefox") !== -1, DL = $o.indexOf("safari") !== -1 && $o.indexOf("chrom") == -1;
DL && ($o.indexOf("version/15.4") >= 0 || $o.match(/cpu (os|iphone os) 15_4 like mac os x/));
var WL = $o.indexOf("webkit") !== -1 && $o.indexOf("edge") == -1, zL = $o.indexOf("macintosh") !== -1, Ob = typeof devicePixelRatio < "u" ? devicePixelRatio : 1, Rb = typeof WorkerGlobalScope < "u" && typeof OffscreenCanvas < "u" && self instanceof WorkerGlobalScope, BL = typeof Image < "u" && Image.prototype.decode, kb = function() {
  var a = !1;
  try {
    var t = Object.defineProperty({}, "passive", {
      get: function() {
        a = !0;
      }
    });
    window.addEventListener("_", null, t), window.removeEventListener("_", null, t);
  } catch {
  }
  return a;
}();
function Oh(a, t, e, i) {
  var n;
  return e && e.length ? n = e.shift() : Rb ? n = new OffscreenCanvas(a || 300, t || 300) : n = document.createElement("canvas"), a && (n.width = a), t && (n.height = t), /** @type {CanvasRenderingContext2D} */
  n.getContext("2d", i);
}
function NL(a) {
  var t = a.canvas;
  t.width = 1, t.height = 1, a.clearRect(0, 0, 1, 1);
}
function Lv(a, t) {
  var e = t.parentNode;
  e && e.replaceChild(a, t);
}
function Mg(a) {
  return a && a.parentNode ? a.parentNode.removeChild(a) : null;
}
function qL(a) {
  for (; a.lastChild; )
    a.removeChild(a.lastChild);
}
function FL(a, t) {
  for (var e = a.childNodes, i = 0; ; ++i) {
    var n = e[i], u = t[i];
    if (!n && !u)
      break;
    if (n !== u) {
      if (!n) {
        a.appendChild(u);
        continue;
      }
      if (!u) {
        a.removeChild(n), --i;
        continue;
      }
      a.insertBefore(u, n);
    }
  }
}
var GL = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), UL = (
  /** @class */
  function(a) {
    GL(t, a);
    function t(e) {
      var i = a.call(this) || this, n = e.element;
      return n && !e.target && !n.style.pointerEvents && (n.style.pointerEvents = "auto"), i.element = n || null, i.target_ = null, i.map_ = null, i.listenerKeys = [], e.render && (i.render = e.render), e.target && i.setTarget(e.target), i;
    }
    return t.prototype.disposeInternal = function() {
      Mg(this.element), a.prototype.disposeInternal.call(this);
    }, t.prototype.getMap = function() {
      return this.map_;
    }, t.prototype.setMap = function(e) {
      this.map_ && Mg(this.element);
      for (var i = 0, n = this.listenerKeys.length; i < n; ++i)
        ci(this.listenerKeys[i]);
      if (this.listenerKeys.length = 0, this.map_ = e, e) {
        var u = this.target_ ? this.target_ : e.getOverlayContainerStopEvent();
        u.appendChild(this.element), this.render !== jc && this.listenerKeys.push(fa(e, Eo.POSTRENDER, this.render, this)), e.render();
      }
    }, t.prototype.render = function(e) {
    }, t.prototype.setTarget = function(e) {
      this.target_ = typeof e == "string" ? document.getElementById(e) : e;
    }, t;
  }(ao)
);
const oy = UL;
var km = "ol-hidden", rp = "ol-unselectable", ly = "ol-control", Cv = "ol-collapsed";
const Ca = {
  OPACITY: "opacity",
  VISIBLE: "visible",
  EXTENT: "extent",
  Z_INDEX: "zIndex",
  MAX_RESOLUTION: "maxResolution",
  MIN_RESOLUTION: "minResolution",
  MAX_ZOOM: "maxZoom",
  MIN_ZOOM: "minZoom",
  SOURCE: "source",
  MAP: "map"
};
var jL = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), VL = (
  /** @class */
  function(a) {
    jL(t, a);
    function t(e) {
      var i = a.call(this) || this;
      i.on, i.once, i.un, i.background_ = e.background;
      var n = Xa({}, e);
      return typeof e.properties == "object" && (delete n.properties, Xa(n, e.properties)), n[Ca.OPACITY] = e.opacity !== void 0 ? e.opacity : 1, Ma(typeof n[Ca.OPACITY] == "number", 64), n[Ca.VISIBLE] = e.visible !== void 0 ? e.visible : !0, n[Ca.Z_INDEX] = e.zIndex, n[Ca.MAX_RESOLUTION] = e.maxResolution !== void 0 ? e.maxResolution : 1 / 0, n[Ca.MIN_RESOLUTION] = e.minResolution !== void 0 ? e.minResolution : 0, n[Ca.MIN_ZOOM] = e.minZoom !== void 0 ? e.minZoom : -1 / 0, n[Ca.MAX_ZOOM] = e.maxZoom !== void 0 ? e.maxZoom : 1 / 0, i.className_ = n.className !== void 0 ? n.className : "ol-layer", delete n.className, i.setProperties(n), i.state_ = null, i;
    }
    return t.prototype.getBackground = function() {
      return this.background_;
    }, t.prototype.getClassName = function() {
      return this.className_;
    }, t.prototype.getLayerState = function(e) {
      var i = this.state_ || /** @type {?} */
      {
        layer: this,
        managed: e === void 0 ? !0 : e
      }, n = this.getZIndex();
      return i.opacity = Ri(Math.round(this.getOpacity() * 100) / 100, 0, 1), i.visible = this.getVisible(), i.extent = this.getExtent(), i.zIndex = n === void 0 && !i.managed ? 1 / 0 : n, i.maxResolution = this.getMaxResolution(), i.minResolution = Math.max(this.getMinResolution(), 0), i.minZoom = this.getMinZoom(), i.maxZoom = this.getMaxZoom(), this.state_ = i, i;
    }, t.prototype.getLayersArray = function(e) {
      return Ga();
    }, t.prototype.getLayerStatesArray = function(e) {
      return Ga();
    }, t.prototype.getExtent = function() {
      return (
        /** @type {import("../extent.js").Extent|undefined} */
        this.get(Ca.EXTENT)
      );
    }, t.prototype.getMaxResolution = function() {
      return (
        /** @type {number} */
        this.get(Ca.MAX_RESOLUTION)
      );
    }, t.prototype.getMinResolution = function() {
      return (
        /** @type {number} */
        this.get(Ca.MIN_RESOLUTION)
      );
    }, t.prototype.getMinZoom = function() {
      return (
        /** @type {number} */
        this.get(Ca.MIN_ZOOM)
      );
    }, t.prototype.getMaxZoom = function() {
      return (
        /** @type {number} */
        this.get(Ca.MAX_ZOOM)
      );
    }, t.prototype.getOpacity = function() {
      return (
        /** @type {number} */
        this.get(Ca.OPACITY)
      );
    }, t.prototype.getSourceState = function() {
      return Ga();
    }, t.prototype.getVisible = function() {
      return (
        /** @type {boolean} */
        this.get(Ca.VISIBLE)
      );
    }, t.prototype.getZIndex = function() {
      return (
        /** @type {number} */
        this.get(Ca.Z_INDEX)
      );
    }, t.prototype.setBackground = function(e) {
      this.background_ = e, this.changed();
    }, t.prototype.setExtent = function(e) {
      this.set(Ca.EXTENT, e);
    }, t.prototype.setMaxResolution = function(e) {
      this.set(Ca.MAX_RESOLUTION, e);
    }, t.prototype.setMinResolution = function(e) {
      this.set(Ca.MIN_RESOLUTION, e);
    }, t.prototype.setMaxZoom = function(e) {
      this.set(Ca.MAX_ZOOM, e);
    }, t.prototype.setMinZoom = function(e) {
      this.set(Ca.MIN_ZOOM, e);
    }, t.prototype.setOpacity = function(e) {
      Ma(typeof e == "number", 64), this.set(Ca.OPACITY, e);
    }, t.prototype.setVisible = function(e) {
      this.set(Ca.VISIBLE, e);
    }, t.prototype.setZIndex = function(e) {
      this.set(Ca.Z_INDEX, e);
    }, t.prototype.disposeInternal = function() {
      this.state_ && (this.state_.layer = null, this.state_ = null), a.prototype.disposeInternal.call(this);
    }, t;
  }(ao)
);
const Db = VL, Go = {
  /**
   * Triggered before a layer is rendered.
   * @event module:ol/render/Event~RenderEvent#prerender
   * @api
   */
  PRERENDER: "prerender",
  /**
   * Triggered after a layer is rendered.
   * @event module:ol/render/Event~RenderEvent#postrender
   * @api
   */
  POSTRENDER: "postrender",
  /**
   * Triggered before layers are composed.  When dispatched by the map, the event object will not have
   * a `context` set.  When dispatched by a layer, the event object will have a `context` set.  Only
   * WebGL layers currently dispatch this event.
   * @event module:ol/render/Event~RenderEvent#precompose
   * @api
   */
  PRECOMPOSE: "precompose",
  /**
   * Triggered after layers are composed.  When dispatched by the map, the event object will not have
   * a `context` set.  When dispatched by a layer, the event object will have a `context` set.  Only
   * WebGL layers currently dispatch this event.
   * @event module:ol/render/Event~RenderEvent#postcompose
   * @api
   */
  POSTCOMPOSE: "postcompose",
  /**
   * Triggered when rendering is complete, i.e. all sources and tiles have
   * finished loading for the current viewport, and all tiles are faded in.
   * The event object will not have a `context` set.
   * @event module:ol/render/Event~RenderEvent#rendercomplete
   * @api
   */
  RENDERCOMPLETE: "rendercomplete"
};
var $L = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), ZL = (
  /** @class */
  function(a) {
    $L(t, a);
    function t(e) {
      var i = this, n = Xa({}, e);
      delete n.source, i = a.call(this, n) || this, i.on, i.once, i.un, i.mapPrecomposeKey_ = null, i.mapRenderKey_ = null, i.sourceChangeKey_ = null, i.renderer_ = null, i.rendered = !1, e.render && (i.render = e.render), e.map && i.setMap(e.map), i.addChangeListener(Ca.SOURCE, i.handleSourcePropertyChange_);
      var u = e.source ? (
        /** @type {SourceType} */
        e.source
      ) : null;
      return i.setSource(u), i;
    }
    return t.prototype.getLayersArray = function(e) {
      var i = e || [];
      return i.push(this), i;
    }, t.prototype.getLayerStatesArray = function(e) {
      var i = e || [];
      return i.push(this.getLayerState()), i;
    }, t.prototype.getSource = function() {
      return (
        /** @type {SourceType} */
        this.get(Ca.SOURCE) || null
      );
    }, t.prototype.getRenderSource = function() {
      return this.getSource();
    }, t.prototype.getSourceState = function() {
      var e = this.getSource();
      return e ? e.getState() : "undefined";
    }, t.prototype.handleSourceChange_ = function() {
      this.changed();
    }, t.prototype.handleSourcePropertyChange_ = function() {
      this.sourceChangeKey_ && (ci(this.sourceChangeKey_), this.sourceChangeKey_ = null);
      var e = this.getSource();
      e && (this.sourceChangeKey_ = fa(e, Jt.CHANGE, this.handleSourceChange_, this)), this.changed();
    }, t.prototype.getFeatures = function(e) {
      return this.renderer_ ? this.renderer_.getFeatures(e) : new Promise(function(i) {
        return i([]);
      });
    }, t.prototype.getData = function(e) {
      return !this.renderer_ || !this.rendered ? null : this.renderer_.getData(e);
    }, t.prototype.render = function(e, i) {
      var n = this.getRenderer();
      if (n.prepareFrame(e))
        return this.rendered = !0, n.renderFrame(e, i);
    }, t.prototype.unrender = function() {
      this.rendered = !1;
    }, t.prototype.setMapInternal = function(e) {
      e || this.unrender(), this.set(Ca.MAP, e);
    }, t.prototype.getMapInternal = function() {
      return this.get(Ca.MAP);
    }, t.prototype.setMap = function(e) {
      this.mapPrecomposeKey_ && (ci(this.mapPrecomposeKey_), this.mapPrecomposeKey_ = null), e || this.changed(), this.mapRenderKey_ && (ci(this.mapRenderKey_), this.mapRenderKey_ = null), e && (this.mapPrecomposeKey_ = fa(e, Go.PRECOMPOSE, function(i) {
        var n = (
          /** @type {import("../render/Event.js").default} */
          i
        ), u = n.frameState.layerStatesArray, _ = this.getLayerState(!1);
        Ma(!u.some(function(o) {
          return o.layer === _.layer;
        }), 67), u.push(_);
      }, this), this.mapRenderKey_ = fa(this, Jt.CHANGE, e.render, e), this.changed());
    }, t.prototype.setSource = function(e) {
      this.set(Ca.SOURCE, e);
    }, t.prototype.getRenderer = function() {
      return this.renderer_ || (this.renderer_ = this.createRenderer()), this.renderer_;
    }, t.prototype.hasRenderer = function() {
      return !!this.renderer_;
    }, t.prototype.createRenderer = function() {
      return null;
    }, t.prototype.disposeInternal = function() {
      this.renderer_ && (this.renderer_.dispose(), delete this.renderer_), this.setSource(null), a.prototype.disposeInternal.call(this);
    }, t;
  }(Db)
);
function Rh(a, t) {
  if (!a.visible)
    return !1;
  var e = t.resolution;
  if (e < a.minResolution || e >= a.maxResolution)
    return !1;
  var i = t.zoom;
  return i > a.minZoom && i <= a.maxZoom;
}
const d_ = ZL;
var HL = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), XL = (
  /** @class */
  function(a) {
    HL(t, a);
    function t(e) {
      var i = this, n = e || {};
      i = a.call(this, {
        element: document.createElement("div"),
        render: n.render,
        target: n.target
      }) || this, i.ulElement_ = document.createElement("ul"), i.collapsed_ = n.collapsed !== void 0 ? n.collapsed : !0, i.userCollapsed_ = i.collapsed_, i.overrideCollapsible_ = n.collapsible !== void 0, i.collapsible_ = n.collapsible !== void 0 ? n.collapsible : !0, i.collapsible_ || (i.collapsed_ = !1);
      var u = n.className !== void 0 ? n.className : "ol-attribution", _ = n.tipLabel !== void 0 ? n.tipLabel : "Attributions", o = n.expandClassName !== void 0 ? n.expandClassName : u + "-expand", y = n.collapseLabel !== void 0 ? n.collapseLabel : "‚Ä∫", b = n.collapseClassName !== void 0 ? n.collapseClassName : u + "-collapse";
      typeof y == "string" ? (i.collapseLabel_ = document.createElement("span"), i.collapseLabel_.textContent = y, i.collapseLabel_.className = b) : i.collapseLabel_ = y;
      var S = n.label !== void 0 ? n.label : "i";
      typeof S == "string" ? (i.label_ = document.createElement("span"), i.label_.textContent = S, i.label_.className = o) : i.label_ = S;
      var T = i.collapsible_ && !i.collapsed_ ? i.collapseLabel_ : i.label_;
      i.toggleButton_ = document.createElement("button"), i.toggleButton_.setAttribute("type", "button"), i.toggleButton_.setAttribute("aria-expanded", String(!i.collapsed_)), i.toggleButton_.title = _, i.toggleButton_.appendChild(T), i.toggleButton_.addEventListener(Jt.CLICK, i.handleClick_.bind(i), !1);
      var L = u + " " + rp + " " + ly + (i.collapsed_ && i.collapsible_ ? " " + Cv : "") + (i.collapsible_ ? "" : " ol-uncollapsible"), R = i.element;
      return R.className = L, R.appendChild(i.toggleButton_), R.appendChild(i.ulElement_), i.renderedAttributions_ = [], i.renderedVisible_ = !0, i;
    }
    return t.prototype.collectSourceAttributions_ = function(e) {
      for (var i = {}, n = [], u = !0, _ = e.layerStatesArray, o = 0, y = _.length; o < y; ++o) {
        var b = _[o];
        if (Rh(b, e.viewState)) {
          var S = (
            /** @type {import("../layer/Layer.js").default} */
            b.layer.getSource()
          );
          if (S) {
            var T = S.getAttributions();
            if (T) {
              var L = T(e);
              if (L)
                if (u = u && S.getAttributionsCollapsible() !== !1, Array.isArray(L))
                  for (var R = 0, D = L.length; R < D; ++R)
                    L[R] in i || (n.push(L[R]), i[L[R]] = !0);
                else
                  L in i || (n.push(L), i[L] = !0);
            }
          }
        }
      }
      return this.overrideCollapsible_ || this.setCollapsible(u), n;
    }, t.prototype.updateElement_ = function(e) {
      if (!e) {
        this.renderedVisible_ && (this.element.style.display = "none", this.renderedVisible_ = !1);
        return;
      }
      var i = this.collectSourceAttributions_(e), n = i.length > 0;
      if (this.renderedVisible_ != n && (this.element.style.display = n ? "" : "none", this.renderedVisible_ = n), !sy(i, this.renderedAttributions_)) {
        qL(this.ulElement_);
        for (var u = 0, _ = i.length; u < _; ++u) {
          var o = document.createElement("li");
          o.innerHTML = i[u], this.ulElement_.appendChild(o);
        }
        this.renderedAttributions_ = i;
      }
    }, t.prototype.handleClick_ = function(e) {
      e.preventDefault(), this.handleToggle_(), this.userCollapsed_ = this.collapsed_;
    }, t.prototype.handleToggle_ = function() {
      this.element.classList.toggle(Cv), this.collapsed_ ? Lv(this.collapseLabel_, this.label_) : Lv(this.label_, this.collapseLabel_), this.collapsed_ = !this.collapsed_, this.toggleButton_.setAttribute("aria-expanded", String(!this.collapsed_));
    }, t.prototype.getCollapsible = function() {
      return this.collapsible_;
    }, t.prototype.setCollapsible = function(e) {
      this.collapsible_ !== e && (this.collapsible_ = e, this.element.classList.toggle("ol-uncollapsible"), this.userCollapsed_ && this.handleToggle_());
    }, t.prototype.setCollapsed = function(e) {
      this.userCollapsed_ = e, !(!this.collapsible_ || this.collapsed_ === e) && this.handleToggle_();
    }, t.prototype.getCollapsed = function() {
      return this.collapsed_;
    }, t.prototype.render = function(e) {
      this.updateElement_(e.frameState);
    }, t;
  }(oy)
);
const KL = XL, Cr = {
  /**
   * Triggered when an item is added to the collection.
   * @event module:ol/Collection.CollectionEvent#add
   * @api
   */
  ADD: "add",
  /**
   * Triggered when an item is removed from the collection.
   * @event module:ol/Collection.CollectionEvent#remove
   * @api
   */
  REMOVE: "remove"
};
var Wb = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), Av = {
  LENGTH: "length"
}, Dm = (
  /** @class */
  function(a) {
    Wb(t, a);
    function t(e, i, n) {
      var u = a.call(this, e) || this;
      return u.element = i, u.index = n, u;
    }
    return t;
  }(to)
), YL = (
  /** @class */
  function(a) {
    Wb(t, a);
    function t(e, i) {
      var n = a.call(this) || this;
      n.on, n.once, n.un;
      var u = i || {};
      if (n.unique_ = !!u.unique, n.array_ = e || [], n.unique_)
        for (var _ = 0, o = n.array_.length; _ < o; ++_)
          n.assertUnique_(n.array_[_], _);
      return n.updateLength_(), n;
    }
    return t.prototype.clear = function() {
      for (; this.getLength() > 0; )
        this.pop();
    }, t.prototype.extend = function(e) {
      for (var i = 0, n = e.length; i < n; ++i)
        this.push(e[i]);
      return this;
    }, t.prototype.forEach = function(e) {
      for (var i = this.array_, n = 0, u = i.length; n < u; ++n)
        e(i[n], n, i);
    }, t.prototype.getArray = function() {
      return this.array_;
    }, t.prototype.item = function(e) {
      return this.array_[e];
    }, t.prototype.getLength = function() {
      return this.get(Av.LENGTH);
    }, t.prototype.insertAt = function(e, i) {
      this.unique_ && this.assertUnique_(i), this.array_.splice(e, 0, i), this.updateLength_(), this.dispatchEvent(new Dm(Cr.ADD, i, e));
    }, t.prototype.pop = function() {
      return this.removeAt(this.getLength() - 1);
    }, t.prototype.push = function(e) {
      this.unique_ && this.assertUnique_(e);
      var i = this.getLength();
      return this.insertAt(i, e), this.getLength();
    }, t.prototype.remove = function(e) {
      for (var i = this.array_, n = 0, u = i.length; n < u; ++n)
        if (i[n] === e)
          return this.removeAt(n);
    }, t.prototype.removeAt = function(e) {
      var i = this.array_[e];
      return this.array_.splice(e, 1), this.updateLength_(), this.dispatchEvent(new Dm(Cr.REMOVE, i, e)), i;
    }, t.prototype.setAt = function(e, i) {
      var n = this.getLength();
      if (e < n) {
        this.unique_ && this.assertUnique_(i, e);
        var u = this.array_[e];
        this.array_[e] = i, this.dispatchEvent(new Dm(Cr.REMOVE, u, e)), this.dispatchEvent(new Dm(Cr.ADD, i, e));
      } else {
        for (var _ = n; _ < e; ++_)
          this.insertAt(_, void 0);
        this.insertAt(e, i);
      }
    }, t.prototype.updateLength_ = function() {
      this.set(Av.LENGTH, this.array_.length);
    }, t.prototype.assertUnique_ = function(e, i) {
      for (var n = 0, u = this.array_.length; n < u; ++n)
        if (this.array_[n] === e && n !== i)
          throw new E2(58);
    }, t;
  }(ao)
);
const Yr = YL;
function zb(a) {
  return Math.pow(a, 3);
}
function _d(a) {
  return 1 - zb(1 - a);
}
function QL(a) {
  return 3 * a * a - 2 * a * a * a;
}
function JL(a) {
  return a;
}
var e7 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), t7 = (
  /** @class */
  function(a) {
    e7(t, a);
    function t(e) {
      var i = this, n = e || {};
      i = a.call(this, {
        element: document.createElement("div"),
        render: n.render,
        target: n.target
      }) || this;
      var u = n.className !== void 0 ? n.className : "ol-rotate", _ = n.label !== void 0 ? n.label : "‚áß", o = n.compassClassName !== void 0 ? n.compassClassName : "ol-compass";
      i.label_ = null, typeof _ == "string" ? (i.label_ = document.createElement("span"), i.label_.className = o, i.label_.textContent = _) : (i.label_ = _, i.label_.classList.add(o));
      var y = n.tipLabel ? n.tipLabel : "Reset rotation", b = document.createElement("button");
      b.className = u + "-reset", b.setAttribute("type", "button"), b.title = y, b.appendChild(i.label_), b.addEventListener(Jt.CLICK, i.handleClick_.bind(i), !1);
      var S = u + " " + rp + " " + ly, T = i.element;
      return T.className = S, T.appendChild(b), i.callResetNorth_ = n.resetNorth ? n.resetNorth : void 0, i.duration_ = n.duration !== void 0 ? n.duration : 250, i.autoHide_ = n.autoHide !== void 0 ? n.autoHide : !0, i.rotation_ = void 0, i.autoHide_ && i.element.classList.add(km), i;
    }
    return t.prototype.handleClick_ = function(e) {
      e.preventDefault(), this.callResetNorth_ !== void 0 ? this.callResetNorth_() : this.resetNorth_();
    }, t.prototype.resetNorth_ = function() {
      var e = this.getMap(), i = e.getView();
      if (i) {
        var n = i.getRotation();
        n !== void 0 && (this.duration_ > 0 && n % (2 * Math.PI) !== 0 ? i.animate({
          rotation: 0,
          duration: this.duration_,
          easing: _d
        }) : i.setRotation(0));
      }
    }, t.prototype.render = function(e) {
      var i = e.frameState;
      if (i) {
        var n = i.viewState.rotation;
        if (n != this.rotation_) {
          var u = "rotate(" + n + "rad)";
          if (this.autoHide_) {
            var _ = this.element.classList.contains(km);
            !_ && n === 0 ? this.element.classList.add(km) : _ && n !== 0 && this.element.classList.remove(km);
          }
          this.label_.style.transform = u;
        }
        this.rotation_ = n;
      }
    }, t;
  }(oy)
);
const a7 = t7;
var i7 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), n7 = (
  /** @class */
  function(a) {
    i7(t, a);
    function t(e) {
      var i = this, n = e || {};
      i = a.call(this, {
        element: document.createElement("div"),
        target: n.target
      }) || this;
      var u = n.className !== void 0 ? n.className : "ol-zoom", _ = n.delta !== void 0 ? n.delta : 1, o = n.zoomInClassName !== void 0 ? n.zoomInClassName : u + "-in", y = n.zoomOutClassName !== void 0 ? n.zoomOutClassName : u + "-out", b = n.zoomInLabel !== void 0 ? n.zoomInLabel : "+", S = n.zoomOutLabel !== void 0 ? n.zoomOutLabel : "‚Äì", T = n.zoomInTipLabel !== void 0 ? n.zoomInTipLabel : "Zoom in", L = n.zoomOutTipLabel !== void 0 ? n.zoomOutTipLabel : "Zoom out", R = document.createElement("button");
      R.className = o, R.setAttribute("type", "button"), R.title = T, R.appendChild(typeof b == "string" ? document.createTextNode(b) : b), R.addEventListener(Jt.CLICK, i.handleClick_.bind(i, _), !1);
      var D = document.createElement("button");
      D.className = y, D.setAttribute("type", "button"), D.title = L, D.appendChild(typeof S == "string" ? document.createTextNode(S) : S), D.addEventListener(Jt.CLICK, i.handleClick_.bind(i, -_), !1);
      var j = u + " " + rp + " " + ly, Q = i.element;
      return Q.className = j, Q.appendChild(R), Q.appendChild(D), i.duration_ = n.duration !== void 0 ? n.duration : 250, i;
    }
    return t.prototype.handleClick_ = function(e, i) {
      i.preventDefault(), this.zoomByDelta_(e);
    }, t.prototype.zoomByDelta_ = function(e) {
      var i = this.getMap(), n = i.getView();
      if (n) {
        var u = n.getZoom();
        if (u !== void 0) {
          var _ = n.getConstrainedZoom(u + e);
          this.duration_ > 0 ? (n.getAnimating() && n.cancelAnimations(), n.animate({
            zoom: _,
            duration: this.duration_,
            easing: _d
          })) : n.setZoom(_);
        }
      }
    }, t;
  }(oy)
);
const r7 = n7, bn = {
  LAYERGROUP: "layergroup",
  SIZE: "size",
  TARGET: "target",
  VIEW: "view"
}, Eg = {
  POINTERMOVE: "pointermove",
  POINTERDOWN: "pointerdown",
  POINTERUP: "pointerup",
  POINTEROVER: "pointerover",
  POINTEROUT: "pointerout",
  POINTERENTER: "pointerenter",
  POINTERLEAVE: "pointerleave",
  POINTERCANCEL: "pointercancel"
};
new Array(6);
function id() {
  return [1, 0, 0, 1, 0, 0];
}
function Nn(a, t) {
  var e = t[0], i = t[1];
  return t[0] = a[0] * e + a[2] * i + a[4], t[1] = a[1] * e + a[3] * i + a[5], t;
}
function Xl(a, t, e, i, n, u, _, o) {
  var y = Math.sin(u), b = Math.cos(u);
  return a[0] = i * b, a[1] = n * y, a[2] = -i * y, a[3] = n * b, a[4] = _ * i * b - o * i * y + t, a[5] = _ * n * y + o * n * b + e, a;
}
function uy(a, t) {
  var e = s7(t);
  Ma(e !== 0, 32);
  var i = t[0], n = t[1], u = t[2], _ = t[3], o = t[4], y = t[5];
  return a[0] = _ / e, a[1] = -n / e, a[2] = -u / e, a[3] = i / e, a[4] = (u * y - _ * o) / e, a[5] = -(i * y - n * o) / e, a;
}
function s7(a) {
  return a[0] * a[3] - a[1] * a[2];
}
var Iv;
function Bb(a) {
  var t = "matrix(" + a.join(", ") + ")";
  if (Rb)
    return t;
  var e = Iv || (Iv = document.createElement("div"));
  return e.style.transform = t, e.style.transform;
}
var o7 = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i, l7 = /^([a-z]*)$|^hsla?\(.*\)$/i;
function u7(a) {
  return typeof a == "string" ? a : m7(a);
}
function d7(a) {
  var t = document.createElement("div");
  if (t.style.color = a, t.style.color !== "") {
    document.body.appendChild(t);
    var e = getComputedStyle(t).color;
    return document.body.removeChild(t), e;
  } else
    return "";
}
var c7 = function() {
  var a = 1024, t = {}, e = 0;
  return (
    /**
     * @param {string} s String.
     * @return {Color} Color.
     */
    function(i) {
      var n;
      if (t.hasOwnProperty(i))
        n = t[i];
      else {
        if (e >= a) {
          var u = 0;
          for (var _ in t)
            u++ & 3 || (delete t[_], --e);
        }
        n = _7(i), t[i] = n, ++e;
      }
      return n;
    }
  );
}();
function Pv(a) {
  return Array.isArray(a) ? a : c7(a);
}
function _7(a) {
  var t, e, i, n, u;
  if (l7.exec(a) && (a = d7(a)), o7.exec(a)) {
    var _ = a.length - 1, o = (
      // number of digits per channel
      void 0
    );
    _ <= 4 ? o = 1 : o = 2;
    var y = _ === 4 || _ === 8;
    t = parseInt(a.substr(1 + 0 * o, o), 16), e = parseInt(a.substr(1 + 1 * o, o), 16), i = parseInt(a.substr(1 + 2 * o, o), 16), y ? n = parseInt(a.substr(1 + 3 * o, o), 16) : n = 255, o == 1 && (t = (t << 4) + t, e = (e << 4) + e, i = (i << 4) + i, y && (n = (n << 4) + n)), u = [t, e, i, n / 255];
  } else
    a.indexOf("rgba(") == 0 ? (u = a.slice(5, -1).split(",").map(Number), Ov(u)) : a.indexOf("rgb(") == 0 ? (u = a.slice(4, -1).split(",").map(Number), u.push(1), Ov(u)) : Ma(!1, 14);
  return u;
}
function Ov(a) {
  return a[0] = Ri(a[0] + 0.5 | 0, 0, 255), a[1] = Ri(a[1] + 0.5 | 0, 0, 255), a[2] = Ri(a[2] + 0.5 | 0, 0, 255), a[3] = Ri(a[3], 0, 1), a;
}
function m7(a) {
  var t = a[0];
  t != (t | 0) && (t = t + 0.5 | 0);
  var e = a[1];
  e != (e | 0) && (e = e + 0.5 | 0);
  var i = a[2];
  i != (i | 0) && (i = i + 0.5 | 0);
  var n = a[3] === void 0 ? 1 : Math.round(a[3] * 100) / 100;
  return "rgba(" + t + "," + e + "," + i + "," + n + ")";
}
var h7 = (
  /** @class */
  function() {
    function a() {
      this.cache_ = {}, this.cacheSize_ = 0, this.maxCacheSize_ = 32;
    }
    return a.prototype.clear = function() {
      this.cache_ = {}, this.cacheSize_ = 0;
    }, a.prototype.canExpireCache = function() {
      return this.cacheSize_ > this.maxCacheSize_;
    }, a.prototype.expire = function() {
      if (this.canExpireCache()) {
        var t = 0;
        for (var e in this.cache_) {
          var i = this.cache_[e];
          !(t++ & 3) && !i.hasListener() && (delete this.cache_[e], --this.cacheSize_);
        }
      }
    }, a.prototype.get = function(t, e, i) {
      var n = Rv(t, e, i);
      return n in this.cache_ ? this.cache_[n] : null;
    }, a.prototype.set = function(t, e, i, n) {
      var u = Rv(t, e, i);
      this.cache_[u] = n, ++this.cacheSize_;
    }, a.prototype.setSize = function(t) {
      this.maxCacheSize_ = t, this.expire();
    }, a;
  }()
);
function Rv(a, t, e) {
  var i = e ? u7(e) : "null";
  return t + ":" + a + ":" + i;
}
var Nb = new h7(), p7 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), f7 = (
  /** @class */
  function(a) {
    p7(t, a);
    function t(e) {
      var i = a.call(this) || this;
      return i.map_ = e, i;
    }
    return t.prototype.dispatchRenderEvent = function(e, i) {
      Ga();
    }, t.prototype.calculateMatrices2D = function(e) {
      var i = e.viewState, n = e.coordinateToPixelTransform, u = e.pixelToCoordinateTransform;
      Xl(n, e.size[0] / 2, e.size[1] / 2, 1 / i.resolution, -1 / i.resolution, -i.rotation, -i.center[0], -i.center[1]), uy(u, n);
    }, t.prototype.forEachFeatureAtCoordinate = function(e, i, n, u, _, o, y, b) {
      var S, T = i.viewState;
      function L(Re, Me, nt, yt) {
        return _.call(o, Me, Re ? nt : null, yt);
      }
      var R = T.projection, D = K3(e.slice(), R), j = [[0, 0]];
      if (R.canWrapX() && u) {
        var Q = R.getExtent(), ie = Ha(Q);
        j.push([-ie, 0], [ie, 0]);
      }
      for (var J = i.layerStatesArray, _e = J.length, ce = (
        /** @type {Array<HitMatch<T>>} */
        []
      ), we = [], Be = 0; Be < j.length; Be++)
        for (var Ee = _e - 1; Ee >= 0; --Ee) {
          var Fe = J[Ee], We = Fe.layer;
          if (We.hasRenderer() && Rh(Fe, T) && y.call(b, We)) {
            var ke = We.getRenderer(), Ze = We.getSource();
            if (ke && Ze) {
              var ft = Ze.getWrapX() ? D : e, St = L.bind(null, Fe.managed);
              we[0] = ft[0] + j[Be][0], we[1] = ft[1] + j[Be][1], S = ke.forEachFeatureAtCoordinate(we, i, n, St, ce);
            }
            if (S)
              return S;
          }
        }
      if (ce.length !== 0) {
        var ye = 1 / ce.length;
        return ce.forEach(function(Re, Me) {
          return Re.distanceSq += Me * ye;
        }), ce.sort(function(Re, Me) {
          return Re.distanceSq - Me.distanceSq;
        }), ce.some(function(Re) {
          return S = Re.callback(Re.feature, Re.layer, Re.geometry);
        }), S;
      }
    }, t.prototype.forEachLayerAtPixel = function(e, i, n, u, _) {
      return Ga();
    }, t.prototype.hasFeatureAtCoordinate = function(e, i, n, u, _, o) {
      var y = this.forEachFeatureAtCoordinate(e, i, n, u, kc, this, _, o);
      return y !== void 0;
    }, t.prototype.getMap = function() {
      return this.map_;
    }, t.prototype.renderFrame = function(e) {
      Ga();
    }, t.prototype.scheduleExpireIconCache = function(e) {
      Nb.canExpireCache() && e.postRenderFunctions.push(g7);
    }, t;
  }(ny)
);
function g7(a, t) {
  Nb.expire();
}
const y7 = f7;
var v7 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), b7 = (
  /** @class */
  function(a) {
    v7(t, a);
    function t(e, i, n, u) {
      var _ = a.call(this, e) || this;
      return _.inversePixelTransform = i, _.frameState = n, _.context = u, _;
    }
    return t;
  }(to)
);
const qb = b7;
var x7 = new ao(), w7 = new u_();
w7.setSize = function() {
  console.warn("labelCache is deprecated.");
};
var S7 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), T7 = (
  /** @class */
  function(a) {
    S7(t, a);
    function t(e) {
      var i = a.call(this, e) || this;
      i.fontChangeListenerKey_ = fa(x7, ud.PROPERTYCHANGE, e.redrawText.bind(e)), i.element_ = document.createElement("div");
      var n = i.element_.style;
      n.position = "absolute", n.width = "100%", n.height = "100%", n.zIndex = "0", i.element_.className = rp + " ol-layers";
      var u = e.getViewport();
      return u.insertBefore(i.element_, u.firstChild || null), i.children_ = [], i.renderedVisible_ = !0, i;
    }
    return t.prototype.dispatchRenderEvent = function(e, i) {
      var n = this.getMap();
      if (n.hasListener(e)) {
        var u = new qb(e, void 0, i);
        n.dispatchEvent(u);
      }
    }, t.prototype.disposeInternal = function() {
      ci(this.fontChangeListenerKey_), this.element_.parentNode.removeChild(this.element_), a.prototype.disposeInternal.call(this);
    }, t.prototype.renderFrame = function(e) {
      if (!e) {
        this.renderedVisible_ && (this.element_.style.display = "none", this.renderedVisible_ = !1);
        return;
      }
      this.calculateMatrices2D(e), this.dispatchRenderEvent(Go.PRECOMPOSE, e);
      var i = e.layerStatesArray.sort(function(R, D) {
        return R.zIndex - D.zIndex;
      }), n = e.viewState;
      this.children_.length = 0;
      for (var u = [], _ = null, o = 0, y = i.length; o < y; ++o) {
        var b = i[o];
        e.layerIndex = o;
        var S = b.layer, T = S.getSourceState();
        if (!Rh(b, n) || T != "ready" && T != "undefined") {
          S.unrender();
          continue;
        }
        var L = S.render(e, _);
        L && (L !== _ && (this.children_.push(L), _ = L), "getDeclutter" in S && u.push(
          /** @type {import("../layer/BaseVector.js").default} */
          S
        ));
      }
      for (var o = u.length - 1; o >= 0; --o)
        u[o].renderDeclutter(e);
      FL(this.element_, this.children_), this.dispatchRenderEvent(Go.POSTCOMPOSE, e), this.renderedVisible_ || (this.element_.style.display = "", this.renderedVisible_ = !0), this.scheduleExpireIconCache(e);
    }, t.prototype.forEachLayerAtPixel = function(e, i, n, u, _) {
      for (var o = i.viewState, y = i.layerStatesArray, b = y.length, S = b - 1; S >= 0; --S) {
        var T = y[S], L = T.layer;
        if (L.hasRenderer() && Rh(T, o) && _(L)) {
          var R = L.getRenderer(), D = R.getDataAtPixel(e, i, n);
          if (D) {
            var j = u(L, D);
            if (j)
              return j;
          }
        }
      }
    }, t;
  }(y7)
);
const M7 = T7;
var Fb = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), Ao = (
  /** @class */
  function(a) {
    Fb(t, a);
    function t(e, i) {
      var n = a.call(this, e) || this;
      return n.layer = i, n;
    }
    return t;
  }(to)
), Wf = {
  LAYERS: "layers"
}, E7 = (
  /** @class */
  function(a) {
    Fb(t, a);
    function t(e) {
      var i = this, n = e || {}, u = (
        /** @type {Options} */
        Xa({}, n)
      );
      delete u.layers;
      var _ = n.layers;
      return i = a.call(this, u) || this, i.on, i.once, i.un, i.layersListenerKeys_ = [], i.listenerKeys_ = {}, i.addChangeListener(Wf.LAYERS, i.handleLayersChanged_), _ ? Array.isArray(_) ? _ = new Yr(_.slice(), { unique: !0 }) : Ma(typeof /** @type {?} */
      _.getArray == "function", 43) : _ = new Yr(void 0, { unique: !0 }), i.setLayers(_), i;
    }
    return t.prototype.handleLayerChange_ = function() {
      this.changed();
    }, t.prototype.handleLayersChanged_ = function() {
      this.layersListenerKeys_.forEach(ci), this.layersListenerKeys_.length = 0;
      var e = this.getLayers();
      this.layersListenerKeys_.push(fa(e, Cr.ADD, this.handleLayersAdd_, this), fa(e, Cr.REMOVE, this.handleLayersRemove_, this));
      for (var i in this.listenerKeys_)
        this.listenerKeys_[i].forEach(ci);
      Vh(this.listenerKeys_);
      for (var n = e.getArray(), u = 0, _ = n.length; u < _; u++) {
        var o = n[u];
        this.registerLayerListeners_(o), this.dispatchEvent(new Ao("addlayer", o));
      }
      this.changed();
    }, t.prototype.registerLayerListeners_ = function(e) {
      var i = [
        fa(e, ud.PROPERTYCHANGE, this.handleLayerChange_, this),
        fa(e, Jt.CHANGE, this.handleLayerChange_, this)
      ];
      e instanceof t && i.push(fa(e, "addlayer", this.handleLayerGroupAdd_, this), fa(e, "removelayer", this.handleLayerGroupRemove_, this)), this.listenerKeys_[Yn(e)] = i;
    }, t.prototype.handleLayerGroupAdd_ = function(e) {
      this.dispatchEvent(new Ao("addlayer", e.layer));
    }, t.prototype.handleLayerGroupRemove_ = function(e) {
      this.dispatchEvent(new Ao("removelayer", e.layer));
    }, t.prototype.handleLayersAdd_ = function(e) {
      var i = (
        /** @type {import("./Base.js").default} */
        e.element
      );
      this.registerLayerListeners_(i), this.dispatchEvent(new Ao("addlayer", i)), this.changed();
    }, t.prototype.handleLayersRemove_ = function(e) {
      var i = (
        /** @type {import("./Base.js").default} */
        e.element
      ), n = Yn(i);
      this.listenerKeys_[n].forEach(ci), delete this.listenerKeys_[n], this.dispatchEvent(new Ao("removelayer", i)), this.changed();
    }, t.prototype.getLayers = function() {
      return (
        /** @type {!import("../Collection.js").default<import("./Base.js").default>} */
        this.get(Wf.LAYERS)
      );
    }, t.prototype.setLayers = function(e) {
      var i = this.getLayers();
      if (i)
        for (var n = i.getArray(), u = 0, _ = n.length; u < _; ++u)
          this.dispatchEvent(new Ao("removelayer", n[u]));
      this.set(Wf.LAYERS, e);
    }, t.prototype.getLayersArray = function(e) {
      var i = e !== void 0 ? e : [];
      return this.getLayers().forEach(function(n) {
        n.getLayersArray(i);
      }), i;
    }, t.prototype.getLayerStatesArray = function(e) {
      var i = e !== void 0 ? e : [], n = i.length;
      this.getLayers().forEach(function(S) {
        S.getLayerStatesArray(i);
      });
      var u = this.getLayerState(), _ = u.zIndex;
      !e && u.zIndex === void 0 && (_ = 0);
      for (var o = n, y = i.length; o < y; o++) {
        var b = i[o];
        b.opacity *= u.opacity, b.visible = b.visible && u.visible, b.maxResolution = Math.min(b.maxResolution, u.maxResolution), b.minResolution = Math.max(b.minResolution, u.minResolution), b.minZoom = Math.max(b.minZoom, u.minZoom), b.maxZoom = Math.min(b.maxZoom, u.maxZoom), u.extent !== void 0 && (b.extent !== void 0 ? b.extent = Nl(b.extent, u.extent) : b.extent = u.extent), b.zIndex === void 0 && (b.zIndex = _);
      }
      return i;
    }, t.prototype.getSourceState = function() {
      return "ready";
    }, t;
  }(Db)
);
const sp = E7;
var L7 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), C7 = (
  /** @class */
  function(a) {
    L7(t, a);
    function t(e, i, n) {
      var u = a.call(this, e) || this;
      return u.map = i, u.frameState = n !== void 0 ? n : null, u;
    }
    return t;
  }(to)
);
const qu = C7;
var A7 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), I7 = (
  /** @class */
  function(a) {
    A7(t, a);
    function t(e, i, n, u, _, o) {
      var y = a.call(this, e, i, _) || this;
      return y.originalEvent = n, y.pixel_ = null, y.coordinate_ = null, y.dragging = u !== void 0 ? u : !1, y.activePointers = o, y;
    }
    return Object.defineProperty(t.prototype, "pixel", {
      /**
       * The map pixel relative to the viewport corresponding to the original event.
       * @type {import("./pixel.js").Pixel}
       * @api
       */
      get: function() {
        return this.pixel_ || (this.pixel_ = this.map.getEventPixel(this.originalEvent)), this.pixel_;
      },
      set: function(e) {
        this.pixel_ = e;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "coordinate", {
      /**
       * The coordinate corresponding to the original browser event.  This will be in the user
       * projection if one is set.  Otherwise it will be in the view projection.
       * @type {import("./coordinate.js").Coordinate}
       * @api
       */
      get: function() {
        return this.coordinate_ || (this.coordinate_ = this.map.getCoordinateFromPixel(this.pixel)), this.coordinate_;
      },
      set: function(e) {
        this.coordinate_ = e;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.preventDefault = function() {
      a.prototype.preventDefault.call(this), "preventDefault" in this.originalEvent && this.originalEvent.preventDefault();
    }, t.prototype.stopPropagation = function() {
      a.prototype.stopPropagation.call(this), "stopPropagation" in this.originalEvent && this.originalEvent.stopPropagation();
    }, t;
  }(qu)
);
const Lo = I7, di = {
  /**
   * A true single click with no dragging and no double click. Note that this
   * event is delayed by 250 ms to ensure that it is not a double click.
   * @event module:ol/MapBrowserEvent~MapBrowserEvent#singleclick
   * @api
   */
  SINGLECLICK: "singleclick",
  /**
   * A click with no dragging. A double click will fire two of this.
   * @event module:ol/MapBrowserEvent~MapBrowserEvent#click
   * @api
   */
  CLICK: Jt.CLICK,
  /**
   * A true double click, with no dragging.
   * @event module:ol/MapBrowserEvent~MapBrowserEvent#dblclick
   * @api
   */
  DBLCLICK: Jt.DBLCLICK,
  /**
   * Triggered when a pointer is dragged.
   * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointerdrag
   * @api
   */
  POINTERDRAG: "pointerdrag",
  /**
   * Triggered when a pointer is moved. Note that on touch devices this is
   * triggered when the map is panned, so is not the same as mousemove.
   * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointermove
   * @api
   */
  POINTERMOVE: "pointermove",
  POINTERDOWN: "pointerdown",
  POINTERUP: "pointerup",
  POINTEROVER: "pointerover",
  POINTEROUT: "pointerout",
  POINTERENTER: "pointerenter",
  POINTERLEAVE: "pointerleave",
  POINTERCANCEL: "pointercancel"
};
var P7 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), O7 = (
  /** @class */
  function(a) {
    P7(t, a);
    function t(e, i) {
      var n = a.call(this, e) || this;
      n.map_ = e, n.clickTimeoutId_, n.emulateClicks_ = !1, n.dragging_ = !1, n.dragListenerKeys_ = [], n.moveTolerance_ = i === void 0 ? 1 : i, n.down_ = null;
      var u = n.map_.getViewport();
      return n.activePointers_ = [], n.trackedTouches_ = {}, n.element_ = u, n.pointerdownListenerKey_ = fa(u, Eg.POINTERDOWN, n.handlePointerDown_, n), n.originalPointerMoveEvent_, n.relayedListenerKey_ = fa(u, Eg.POINTERMOVE, n.relayMoveEvent_, n), n.boundHandleTouchMove_ = n.handleTouchMove_.bind(n), n.element_.addEventListener(Jt.TOUCHMOVE, n.boundHandleTouchMove_, kb ? { passive: !1 } : !1), n;
    }
    return t.prototype.emulateClick_ = function(e) {
      var i = new Lo(di.CLICK, this.map_, e);
      this.dispatchEvent(i), this.clickTimeoutId_ !== void 0 ? (clearTimeout(this.clickTimeoutId_), this.clickTimeoutId_ = void 0, i = new Lo(di.DBLCLICK, this.map_, e), this.dispatchEvent(i)) : this.clickTimeoutId_ = setTimeout(
        /** @this {MapBrowserEventHandler} */
        function() {
          this.clickTimeoutId_ = void 0;
          var n = new Lo(di.SINGLECLICK, this.map_, e);
          this.dispatchEvent(n);
        }.bind(this),
        250
      );
    }, t.prototype.updateActivePointers_ = function(e) {
      var i = e, n = i.pointerId;
      if (i.type == di.POINTERUP || i.type == di.POINTERCANCEL) {
        delete this.trackedTouches_[n];
        for (var u in this.trackedTouches_)
          if (this.trackedTouches_[u].target !== i.target) {
            delete this.trackedTouches_[u];
            break;
          }
      } else
        (i.type == di.POINTERDOWN || i.type == di.POINTERMOVE) && (this.trackedTouches_[n] = i);
      this.activePointers_ = P3(this.trackedTouches_);
    }, t.prototype.handlePointerUp_ = function(e) {
      this.updateActivePointers_(e);
      var i = new Lo(di.POINTERUP, this.map_, e, void 0, void 0, this.activePointers_);
      this.dispatchEvent(i), this.emulateClicks_ && !i.defaultPrevented && !this.dragging_ && this.isMouseActionButton_(e) && this.emulateClick_(this.down_), this.activePointers_.length === 0 && (this.dragListenerKeys_.forEach(ci), this.dragListenerKeys_.length = 0, this.dragging_ = !1, this.down_ = null);
    }, t.prototype.isMouseActionButton_ = function(e) {
      return e.button === 0;
    }, t.prototype.handlePointerDown_ = function(e) {
      this.emulateClicks_ = this.activePointers_.length === 0, this.updateActivePointers_(e);
      var i = new Lo(di.POINTERDOWN, this.map_, e, void 0, void 0, this.activePointers_);
      this.dispatchEvent(i), this.down_ = /** @type {PointerEvent} */
      {};
      for (var n in e) {
        var u = e[n];
        this.down_[n] = typeof u == "function" ? jc : u;
      }
      if (this.dragListenerKeys_.length === 0) {
        var _ = this.map_.getOwnerDocument();
        this.dragListenerKeys_.push(
          fa(_, di.POINTERMOVE, this.handlePointerMove_, this),
          fa(_, di.POINTERUP, this.handlePointerUp_, this),
          /* Note that the listener for `pointercancel is set up on
           * `pointerEventHandler_` and not `documentPointerEventHandler_` like
           * the `pointerup` and `pointermove` listeners.
           *
           * The reason for this is the following: `TouchSource.vacuumTouches_()`
           * issues `pointercancel` events, when there was no `touchend` for a
           * `touchstart`. Now, let's say a first `touchstart` is registered on
           * `pointerEventHandler_`. The `documentPointerEventHandler_` is set up.
           * But `documentPointerEventHandler_` doesn't know about the first
           * `touchstart`. If there is no `touchend` for the `touchstart`, we can
           * only receive a `touchcancel` from `pointerEventHandler_`, because it is
           * only registered there.
           */
          fa(this.element_, di.POINTERCANCEL, this.handlePointerUp_, this)
        ), this.element_.getRootNode && this.element_.getRootNode() !== _ && this.dragListenerKeys_.push(fa(this.element_.getRootNode(), di.POINTERUP, this.handlePointerUp_, this));
      }
    }, t.prototype.handlePointerMove_ = function(e) {
      if (this.isMoving_(e)) {
        this.updateActivePointers_(e), this.dragging_ = !0;
        var i = new Lo(di.POINTERDRAG, this.map_, e, this.dragging_, void 0, this.activePointers_);
        this.dispatchEvent(i);
      }
    }, t.prototype.relayMoveEvent_ = function(e) {
      this.originalPointerMoveEvent_ = e;
      var i = !!(this.down_ && this.isMoving_(e));
      this.dispatchEvent(new Lo(di.POINTERMOVE, this.map_, e, i));
    }, t.prototype.handleTouchMove_ = function(e) {
      var i = this.originalPointerMoveEvent_;
      (!i || i.defaultPrevented) && (typeof e.cancelable != "boolean" || e.cancelable === !0) && e.preventDefault();
    }, t.prototype.isMoving_ = function(e) {
      return this.dragging_ || Math.abs(e.clientX - this.down_.clientX) > this.moveTolerance_ || Math.abs(e.clientY - this.down_.clientY) > this.moveTolerance_;
    }, t.prototype.disposeInternal = function() {
      this.relayedListenerKey_ && (ci(this.relayedListenerKey_), this.relayedListenerKey_ = null), this.element_.removeEventListener(Jt.TOUCHMOVE, this.boundHandleTouchMove_), this.pointerdownListenerKey_ && (ci(this.pointerdownListenerKey_), this.pointerdownListenerKey_ = null), this.dragListenerKeys_.forEach(ci), this.dragListenerKeys_.length = 0, this.element_ = null, a.prototype.disposeInternal.call(this);
    }, t;
  }(u_)
);
const R7 = O7;
var kh = 1 / 0, k7 = (
  /** @class */
  function() {
    function a(t, e) {
      this.priorityFunction_ = t, this.keyFunction_ = e, this.elements_ = [], this.priorities_ = [], this.queuedElements_ = {};
    }
    return a.prototype.clear = function() {
      this.elements_.length = 0, this.priorities_.length = 0, Vh(this.queuedElements_);
    }, a.prototype.dequeue = function() {
      var t = this.elements_, e = this.priorities_, i = t[0];
      t.length == 1 ? (t.length = 0, e.length = 0) : (t[0] = t.pop(), e[0] = e.pop(), this.siftUp_(0));
      var n = this.keyFunction_(i);
      return delete this.queuedElements_[n], i;
    }, a.prototype.enqueue = function(t) {
      Ma(!(this.keyFunction_(t) in this.queuedElements_), 31);
      var e = this.priorityFunction_(t);
      return e != kh ? (this.elements_.push(t), this.priorities_.push(e), this.queuedElements_[this.keyFunction_(t)] = !0, this.siftDown_(0, this.elements_.length - 1), !0) : !1;
    }, a.prototype.getCount = function() {
      return this.elements_.length;
    }, a.prototype.getLeftChildIndex_ = function(t) {
      return t * 2 + 1;
    }, a.prototype.getRightChildIndex_ = function(t) {
      return t * 2 + 2;
    }, a.prototype.getParentIndex_ = function(t) {
      return t - 1 >> 1;
    }, a.prototype.heapify_ = function() {
      var t;
      for (t = (this.elements_.length >> 1) - 1; t >= 0; t--)
        this.siftUp_(t);
    }, a.prototype.isEmpty = function() {
      return this.elements_.length === 0;
    }, a.prototype.isKeyQueued = function(t) {
      return t in this.queuedElements_;
    }, a.prototype.isQueued = function(t) {
      return this.isKeyQueued(this.keyFunction_(t));
    }, a.prototype.siftUp_ = function(t) {
      for (var e = this.elements_, i = this.priorities_, n = e.length, u = e[t], _ = i[t], o = t; t < n >> 1; ) {
        var y = this.getLeftChildIndex_(t), b = this.getRightChildIndex_(t), S = b < n && i[b] < i[y] ? b : y;
        e[t] = e[S], i[t] = i[S], t = S;
      }
      e[t] = u, i[t] = _, this.siftDown_(o, t);
    }, a.prototype.siftDown_ = function(t, e) {
      for (var i = this.elements_, n = this.priorities_, u = i[e], _ = n[e]; e > t; ) {
        var o = this.getParentIndex_(e);
        if (n[o] > _)
          i[e] = i[o], n[e] = n[o], e = o;
        else
          break;
      }
      i[e] = u, n[e] = _;
    }, a.prototype.reprioritize = function() {
      var t = this.priorityFunction_, e = this.elements_, i = this.priorities_, n = 0, u = e.length, _, o, y;
      for (o = 0; o < u; ++o)
        _ = e[o], y = t(_), y == kh ? delete this.queuedElements_[this.keyFunction_(_)] : (i[n] = y, e[n++] = _);
      e.length = n, i.length = n, this.heapify_();
    }, a;
  }()
);
const D7 = k7, It = {
  IDLE: 0,
  LOADING: 1,
  LOADED: 2,
  /**
   * Indicates that tile loading failed
   * @type {number}
   */
  ERROR: 3,
  EMPTY: 4
};
var W7 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), z7 = (
  /** @class */
  function(a) {
    W7(t, a);
    function t(e, i) {
      var n = a.call(
        this,
        /**
         * @param {Array} element Element.
         * @return {number} Priority.
         */
        function(u) {
          return e.apply(null, u);
        },
        /**
         * @param {Array} element Element.
         * @return {string} Key.
         */
        function(u) {
          return (
            /** @type {import("./Tile.js").default} */
            u[0].getKey()
          );
        }
      ) || this;
      return n.boundHandleTileChange_ = n.handleTileChange.bind(n), n.tileChangeCallback_ = i, n.tilesLoading_ = 0, n.tilesLoadingKeys_ = {}, n;
    }
    return t.prototype.enqueue = function(e) {
      var i = a.prototype.enqueue.call(this, e);
      if (i) {
        var n = e[0];
        n.addEventListener(Jt.CHANGE, this.boundHandleTileChange_);
      }
      return i;
    }, t.prototype.getTilesLoading = function() {
      return this.tilesLoading_;
    }, t.prototype.handleTileChange = function(e) {
      var i = (
        /** @type {import("./Tile.js").default} */
        e.target
      ), n = i.getState();
      if (n === It.LOADED || n === It.ERROR || n === It.EMPTY) {
        i.removeEventListener(Jt.CHANGE, this.boundHandleTileChange_);
        var u = i.getKey();
        u in this.tilesLoadingKeys_ && (delete this.tilesLoadingKeys_[u], --this.tilesLoading_), this.tileChangeCallback_();
      }
    }, t.prototype.loadMoreTiles = function(e, i) {
      for (var n = 0, u, _, o; this.tilesLoading_ < e && n < i && this.getCount() > 0; )
        _ = /** @type {import("./Tile.js").default} */
        this.dequeue()[0], o = _.getKey(), u = _.getState(), u === It.IDLE && !(o in this.tilesLoadingKeys_) && (this.tilesLoadingKeys_[o] = !0, ++this.tilesLoading_, ++n, _.load());
    }, t;
  }(D7)
);
const B7 = z7;
function N7(a, t, e, i, n) {
  if (!a || !(e in a.wantedTiles) || !a.wantedTiles[e][t.getKey()])
    return kh;
  var u = a.viewState.center, _ = i[0] - u[0], o = i[1] - u[1];
  return 65536 * Math.log(n) + Math.sqrt(_ * _ + o * o) / n;
}
const Kn = {
  ANIMATING: 0,
  INTERACTING: 1
}, Vr = {
  CENTER: "center",
  RESOLUTION: "resolution",
  ROTATION: "rotation"
};
var q7 = 42, dy = 256;
function kv(a, t, e) {
  return (
    /**
     * @param {import("./coordinate.js").Coordinate|undefined} center Center.
     * @param {number|undefined} resolution Resolution.
     * @param {import("./size.js").Size} size Viewport size; unused if `onlyCenter` was specified.
     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.
     * @param {Array<number>} [opt_centerShift] Shift between map center and viewport center.
     * @return {import("./coordinate.js").Coordinate|undefined} Center.
     */
    function(i, n, u, _, o) {
      if (i) {
        if (!n && !t)
          return i;
        var y = t ? 0 : u[0] * n, b = t ? 0 : u[1] * n, S = o ? o[0] : 0, T = o ? o[1] : 0, L = a[0] + y / 2 + S, R = a[2] - y / 2 + S, D = a[1] + b / 2 + T, j = a[3] - b / 2 + T;
        L > R && (L = (R + L) / 2, R = L), D > j && (D = (j + D) / 2, j = D);
        var Q = Ri(i[0], L, R), ie = Ri(i[1], D, j);
        if (_ && e && n) {
          var J = 30 * n;
          Q += -J * Math.log(1 + Math.max(0, L - i[0]) / J) + J * Math.log(1 + Math.max(0, i[0] - R) / J), ie += -J * Math.log(1 + Math.max(0, D - i[1]) / J) + J * Math.log(1 + Math.max(0, i[1] - j) / J);
        }
        return [Q, ie];
      }
    }
  );
}
function F7(a) {
  return a;
}
function cy(a, t, e, i) {
  var n = Ha(t) / e[0], u = Yi(t) / e[1];
  return i ? Math.min(a, Math.max(n, u)) : Math.min(a, Math.min(n, u));
}
function _y(a, t, e) {
  var i = Math.min(a, t), n = 50;
  return i *= Math.log(1 + n * Math.max(0, a / t - 1)) / n + 1, e && (i = Math.max(i, e), i /= Math.log(1 + n * Math.max(0, e / a - 1)) / n + 1), Ri(i, e / 2, t * 2);
}
function G7(a, t, e, i) {
  return (
    /**
     * @param {number|undefined} resolution Resolution.
     * @param {number} direction Direction.
     * @param {import("./size.js").Size} size Viewport size.
     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.
     * @return {number|undefined} Resolution.
     */
    function(n, u, _, o) {
      if (n !== void 0) {
        var y = a[0], b = a[a.length - 1], S = e ? cy(y, e, _, i) : y;
        if (o) {
          var T = t !== void 0 ? t : !0;
          return T ? _y(n, S, b) : Ri(n, b, S);
        }
        var L = Math.min(S, n), R = Math.floor(ap(a, L, u));
        return a[R] > S && R < a.length - 1 ? a[R + 1] : a[R];
      } else
        return;
    }
  );
}
function U7(a, t, e, i, n, u) {
  return (
    /**
     * @param {number|undefined} resolution Resolution.
     * @param {number} direction Direction.
     * @param {import("./size.js").Size} size Viewport size.
     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.
     * @return {number|undefined} Resolution.
     */
    function(_, o, y, b) {
      if (_ !== void 0) {
        var S = n ? cy(t, n, y, u) : t, T = e !== void 0 ? e : 0;
        if (b) {
          var L = i !== void 0 ? i : !0;
          return L ? _y(_, S, T) : Ri(_, T, S);
        }
        var R = 1e-9, D = Math.ceil(Math.log(t / S) / Math.log(a) - R), j = -o * (0.5 - R) + 0.5, Q = Math.min(S, _), ie = Math.floor(Math.log(t / Q) / Math.log(a) + j), J = Math.max(D, ie), _e = t / Math.pow(a, J);
        return Ri(_e, T, S);
      } else
        return;
    }
  );
}
function Dv(a, t, e, i, n) {
  return (
    /**
     * @param {number|undefined} resolution Resolution.
     * @param {number} direction Direction.
     * @param {import("./size.js").Size} size Viewport size.
     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.
     * @return {number|undefined} Resolution.
     */
    function(u, _, o, y) {
      if (u !== void 0) {
        var b = i ? cy(a, i, o, n) : a, S = e !== void 0 ? e : !0;
        return !S || !y ? Ri(u, t, b) : _y(u, b, t);
      } else
        return;
    }
  );
}
function my(a) {
  if (a !== void 0)
    return 0;
}
function Wv(a) {
  if (a !== void 0)
    return a;
}
function j7(a) {
  var t = 2 * Math.PI / a;
  return (
    /**
     * @param {number|undefined} rotation Rotation.
     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.
     * @return {number|undefined} Rotation.
     */
    function(e, i) {
      if (i)
        return e;
      if (e !== void 0)
        return e = Math.floor(e / t + 0.5) * t, e;
    }
  );
}
function V7(a) {
  var t = a || Ym(5);
  return (
    /**
     * @param {number|undefined} rotation Rotation.
     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.
     * @return {number|undefined} Rotation.
     */
    function(e, i) {
      if (i)
        return e;
      if (e !== void 0)
        return Math.abs(e) <= t ? 0 : e;
    }
  );
}
const gr = {
  XY: "XY",
  XYZ: "XYZ",
  XYM: "XYM",
  XYZM: "XYZM"
};
function $7(a, t, e, i, n, u) {
  for (var _ = u || [], o = 0, y = t; y < e; y += i) {
    var b = a[y], S = a[y + 1];
    _[o++] = n[0] * b + n[2] * S + n[4], _[o++] = n[1] * b + n[3] * S + n[5];
  }
  return u && _.length != o && (_.length = o), _;
}
function Z7(a, t, e, i, n, u, _) {
  for (var o = _ || [], y = Math.cos(n), b = Math.sin(n), S = u[0], T = u[1], L = 0, R = t; R < e; R += i) {
    var D = a[R] - S, j = a[R + 1] - T;
    o[L++] = S + D * y - j * b, o[L++] = T + D * b + j * y;
    for (var Q = R + 2; Q < R + i; ++Q)
      o[L++] = a[Q];
  }
  return _ && o.length != L && (o.length = L), o;
}
function H7(a, t, e, i, n, u, _, o) {
  for (var y = o || [], b = _[0], S = _[1], T = 0, L = t; L < e; L += i) {
    var R = a[L] - b, D = a[L + 1] - S;
    y[T++] = b + n * R, y[T++] = S + u * D;
    for (var j = L + 2; j < L + i; ++j)
      y[T++] = a[j];
  }
  return o && y.length != T && (y.length = T), y;
}
function X7(a, t, e, i, n, u, _) {
  for (var o = _ || [], y = 0, b = t; b < e; b += i) {
    o[y++] = a[b] + n, o[y++] = a[b + 1] + u;
    for (var S = b + 2; S < b + i; ++S)
      o[y++] = a[S];
  }
  return _ && o.length != y && (o.length = y), o;
}
var K7 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), zv = id(), Y7 = (
  /** @class */
  function(a) {
    K7(t, a);
    function t() {
      var e = a.call(this) || this;
      return e.extent_ = Kl(), e.extentRevision_ = -1, e.simplifiedGeometryMaxMinSquaredTolerance = 0, e.simplifiedGeometryRevision = 0, e.simplifyTransformedInternal = CL(function(i, n, u) {
        if (!u)
          return this.getSimplifiedGeometry(n);
        var _ = this.clone();
        return _.applyTransform(u), _.getSimplifiedGeometry(n);
      }), e;
    }
    return t.prototype.simplifyTransformed = function(e, i) {
      return this.simplifyTransformedInternal(this.getRevision(), e, i);
    }, t.prototype.clone = function() {
      return Ga();
    }, t.prototype.closestPointXY = function(e, i, n, u) {
      return Ga();
    }, t.prototype.containsXY = function(e, i) {
      var n = this.getClosestPoint([e, i]);
      return n[0] === e && n[1] === i;
    }, t.prototype.getClosestPoint = function(e, i) {
      var n = i || [NaN, NaN];
      return this.closestPointXY(e[0], e[1], n, 1 / 0), n;
    }, t.prototype.intersectsCoordinate = function(e) {
      return this.containsXY(e[0], e[1]);
    }, t.prototype.computeExtent = function(e) {
      return Ga();
    }, t.prototype.getExtent = function(e) {
      if (this.extentRevision_ != this.getRevision()) {
        var i = this.computeExtent(this.extent_);
        (isNaN(i[0]) || isNaN(i[1])) && $h(i), this.extentRevision_ = this.getRevision();
      }
      return j3(this.extent_, e);
    }, t.prototype.rotate = function(e, i) {
      Ga();
    }, t.prototype.scale = function(e, i, n) {
      Ga();
    }, t.prototype.simplify = function(e) {
      return this.getSimplifiedGeometry(e * e);
    }, t.prototype.getSimplifiedGeometry = function(e) {
      return Ga();
    }, t.prototype.getType = function() {
      return Ga();
    }, t.prototype.applyTransform = function(e) {
      Ga();
    }, t.prototype.intersectsExtent = function(e) {
      return Ga();
    }, t.prototype.translate = function(e, i) {
      Ga();
    }, t.prototype.transform = function(e, i) {
      var n = Di(e), u = n.getUnits() == Zs.TILE_PIXELS ? function(_, o, y) {
        var b = n.getExtent(), S = n.getWorldExtent(), T = Yi(S) / Yi(b);
        return Xl(zv, S[0], S[3], T, -T, 0, 0, 0), $7(_, 0, _.length, y, zv, o), rd(n, i)(_, o, y);
      } : rd(n, i);
      return this.applyTransform(u), this;
    }, t;
  }(ao)
);
const Q7 = Y7;
var J7 = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), eC = (
  /** @class */
  function(a) {
    J7(t, a);
    function t() {
      var e = a.call(this) || this;
      return e.layout = gr.XY, e.stride = 2, e.flatCoordinates = null, e;
    }
    return t.prototype.computeExtent = function(e) {
      return q3(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, e);
    }, t.prototype.getCoordinates = function() {
      return Ga();
    }, t.prototype.getFirstCoordinate = function() {
      return this.flatCoordinates.slice(0, this.stride);
    }, t.prototype.getFlatCoordinates = function() {
      return this.flatCoordinates;
    }, t.prototype.getLastCoordinate = function() {
      return this.flatCoordinates.slice(this.flatCoordinates.length - this.stride);
    }, t.prototype.getLayout = function() {
      return this.layout;
    }, t.prototype.getSimplifiedGeometry = function(e) {
      if (this.simplifiedGeometryRevision !== this.getRevision() && (this.simplifiedGeometryMaxMinSquaredTolerance = 0, this.simplifiedGeometryRevision = this.getRevision()), e < 0 || this.simplifiedGeometryMaxMinSquaredTolerance !== 0 && e <= this.simplifiedGeometryMaxMinSquaredTolerance)
        return this;
      var i = this.getSimplifiedGeometryInternal(e), n = i.getFlatCoordinates();
      return n.length < this.flatCoordinates.length ? i : (this.simplifiedGeometryMaxMinSquaredTolerance = e, this);
    }, t.prototype.getSimplifiedGeometryInternal = function(e) {
      return this;
    }, t.prototype.getStride = function() {
      return this.stride;
    }, t.prototype.setFlatCoordinates = function(e, i) {
      this.stride = Bv(e), this.layout = e, this.flatCoordinates = i;
    }, t.prototype.setCoordinates = function(e, i) {
      Ga();
    }, t.prototype.setLayout = function(e, i, n) {
      var u;
      if (e)
        u = Bv(e);
      else {
        for (var _ = 0; _ < n; ++_)
          if (i.length === 0) {
            this.layout = gr.XY, this.stride = 2;
            return;
          } else
            i = /** @type {Array} */
            i[0];
        u = i.length, e = tC(u);
      }
      this.layout = e, this.stride = u;
    }, t.prototype.applyTransform = function(e) {
      this.flatCoordinates && (e(this.flatCoordinates, this.flatCoordinates, this.stride), this.changed());
    }, t.prototype.rotate = function(e, i) {
      var n = this.getFlatCoordinates();
      if (n) {
        var u = this.getStride();
        Z7(n, 0, n.length, u, e, i, n), this.changed();
      }
    }, t.prototype.scale = function(e, i, n) {
      var u = i;
      u === void 0 && (u = e);
      var _ = n;
      _ || (_ = Vl(this.getExtent()));
      var o = this.getFlatCoordinates();
      if (o) {
        var y = this.getStride();
        H7(o, 0, o.length, y, e, u, _, o), this.changed();
      }
    }, t.prototype.translate = function(e, i) {
      var n = this.getFlatCoordinates();
      if (n) {
        var u = this.getStride();
        X7(n, 0, n.length, u, e, i, n), this.changed();
      }
    }, t;
  }(Q7)
);
function tC(a) {
  var t;
  return a == 2 ? t = gr.XY : a == 3 ? t = gr.XYZ : a == 4 && (t = gr.XYZM), /** @type {import("./GeometryLayout.js").default} */
  t;
}
function Bv(a) {
  var t;
  return a == gr.XY ? t = 2 : a == gr.XYZ || a == gr.XYM ? t = 3 : a == gr.XYZM && (t = 4), /** @type {number} */
  t;
}
const hy = eC;
function Nv(a, t, e, i, n, u, _) {
  var o = a[t], y = a[t + 1], b = a[e] - o, S = a[e + 1] - y, T;
  if (b === 0 && S === 0)
    T = t;
  else {
    var L = ((n - o) * b + (u - y) * S) / (b * b + S * S);
    if (L > 1)
      T = e;
    else if (L > 0) {
      for (var R = 0; R < i; ++R)
        _[R] = b3(a[t + R], a[e + R], L);
      _.length = i;
      return;
    } else
      T = t;
  }
  for (var R = 0; R < i; ++R)
    _[R] = a[T + R];
  _.length = i;
}
function Gb(a, t, e, i, n) {
  var u = a[t], _ = a[t + 1];
  for (t += i; t < e; t += i) {
    var o = a[t], y = a[t + 1], b = Ku(u, _, o, y);
    b > n && (n = b), u = o, _ = y;
  }
  return n;
}
function aC(a, t, e, i, n) {
  for (var u = 0, _ = e.length; u < _; ++u) {
    var o = e[u];
    n = Gb(a, t, o, i, n), t = o;
  }
  return n;
}
function Ub(a, t, e, i, n, u, _, o, y, b, S) {
  if (t == e)
    return b;
  var T, L;
  if (n === 0)
    if (L = Ku(_, o, a[t], a[t + 1]), L < b) {
      for (T = 0; T < i; ++T)
        y[T] = a[t + T];
      return y.length = i, L;
    } else
      return b;
  for (var R = S || [NaN, NaN], D = t + i; D < e; )
    if (Nv(a, D - i, D, i, _, o, R), L = Ku(_, o, R[0], R[1]), L < b) {
      for (b = L, T = 0; T < i; ++T)
        y[T] = R[T];
      y.length = i, D += i;
    } else
      D += i * Math.max((Math.sqrt(L) - Math.sqrt(b)) / n | 0, 1);
  if (u && (Nv(a, e - i, t, i, _, o, R), L = Ku(_, o, R[0], R[1]), L < b)) {
    for (b = L, T = 0; T < i; ++T)
      y[T] = R[T];
    y.length = i;
  }
  return b;
}
function iC(a, t, e, i, n, u, _, o, y, b, S) {
  for (var T = S || [NaN, NaN], L = 0, R = e.length; L < R; ++L) {
    var D = e[L];
    b = Ub(a, t, D, i, n, u, _, o, y, b, T), t = D;
  }
  return b;
}
function nC(a, t, e, i) {
  for (var n = 0, u = e.length; n < u; ++n)
    a[t++] = e[n];
  return t;
}
function jb(a, t, e, i) {
  for (var n = 0, u = e.length; n < u; ++n)
    for (var _ = e[n], o = 0; o < i; ++o)
      a[t++] = _[o];
  return t;
}
function rC(a, t, e, i, n) {
  for (var u = n || [], _ = 0, o = 0, y = e.length; o < y; ++o) {
    var b = jb(a, t, e[o], i);
    u[_++] = b, t = b;
  }
  return u.length = _, u;
}
function sC(a, t, e, i, n, u, _) {
  var o = (e - t) / i;
  if (o < 3) {
    for (; t < e; t += i)
      u[_++] = a[t], u[_++] = a[t + 1];
    return _;
  }
  var y = new Array(o);
  y[0] = 1, y[o - 1] = 1;
  for (var b = [t, e - i], S = 0; b.length > 0; ) {
    for (var T = b.pop(), L = b.pop(), R = 0, D = a[L], j = a[L + 1], Q = a[T], ie = a[T + 1], J = L + i; J < T; J += i) {
      var _e = a[J], ce = a[J + 1], we = g3(_e, ce, D, j, Q, ie);
      we > R && (S = J, R = we);
    }
    R > n && (y[(S - t) / i] = 1, L + i < S && b.push(L, S), S + i < T && b.push(S, T));
  }
  for (var J = 0; J < o; ++J)
    y[J] && (u[_++] = a[t + J * i], u[_++] = a[t + J * i + 1]);
  return _;
}
function Wu(a, t) {
  return t * Math.round(a / t);
}
function oC(a, t, e, i, n, u, _) {
  if (t == e)
    return _;
  var o = Wu(a[t], n), y = Wu(a[t + 1], n);
  t += i, u[_++] = o, u[_++] = y;
  var b, S;
  do
    if (b = Wu(a[t], n), S = Wu(a[t + 1], n), t += i, t == e)
      return u[_++] = b, u[_++] = S, _;
  while (b == o && S == y);
  for (; t < e; ) {
    var T = Wu(a[t], n), L = Wu(a[t + 1], n);
    if (t += i, !(T == b && L == S)) {
      var R = b - o, D = S - y, j = T - o, Q = L - y;
      if (R * Q == D * j && (R < 0 && j < R || R == j || R > 0 && j > R) && (D < 0 && Q < D || D == Q || D > 0 && Q > D)) {
        b = T, S = L;
        continue;
      }
      u[_++] = b, u[_++] = S, o = b, y = S, b = T, S = L;
    }
  }
  return u[_++] = b, u[_++] = S, _;
}
function lC(a, t, e, i, n, u, _, o) {
  for (var y = 0, b = e.length; y < b; ++y) {
    var S = e[y];
    _ = oC(a, t, S, i, n, u, _), o.push(_), t = S;
  }
  return _;
}
function Vb(a, t, e, i, n) {
  for (var u = n !== void 0 ? n : [], _ = 0, o = t; o < e; o += i)
    u[_++] = a.slice(o, o + i);
  return u.length = _, u;
}
function uC(a, t, e, i, n) {
  for (var u = n !== void 0 ? n : [], _ = 0, o = 0, y = e.length; o < y; ++o) {
    var b = e[o];
    u[_++] = Vb(a, t, b, i, u[_]), t = b;
  }
  return u.length = _, u;
}
function $b(a, t, e, i) {
  for (var n = 0, u = a[e - i], _ = a[e - i + 1]; t < e; t += i) {
    var o = a[t], y = a[t + 1];
    n += _ * o - u * y, u = o, _ = y;
  }
  return n / 2;
}
function dC(a, t, e, i) {
  for (var n = 0, u = 0, _ = e.length; u < _; ++u) {
    var o = e[u];
    n += $b(a, t, o, i), t = o;
  }
  return n;
}
var cC = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), _C = (
  /** @class */
  function(a) {
    cC(t, a);
    function t(e, i) {
      var n = a.call(this) || this;
      return n.maxDelta_ = -1, n.maxDeltaRevision_ = -1, i !== void 0 && !Array.isArray(e[0]) ? n.setFlatCoordinates(
        i,
        /** @type {Array<number>} */
        e
      ) : n.setCoordinates(
        /** @type {Array<import("../coordinate.js").Coordinate>} */
        e,
        i
      ), n;
    }
    return t.prototype.clone = function() {
      return new t(this.flatCoordinates.slice(), this.layout);
    }, t.prototype.closestPointXY = function(e, i, n, u) {
      return u < L2(this.getExtent(), e, i) ? u : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(Gb(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), Ub(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, this.maxDelta_, !0, e, i, n, u));
    }, t.prototype.getArea = function() {
      return $b(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);
    }, t.prototype.getCoordinates = function() {
      return Vb(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);
    }, t.prototype.getSimplifiedGeometryInternal = function(e) {
      var i = [];
      return i.length = sC(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, e, i, 0), new t(i, gr.XY);
    }, t.prototype.getType = function() {
      return "LinearRing";
    }, t.prototype.intersectsExtent = function(e) {
      return !1;
    }, t.prototype.setCoordinates = function(e, i) {
      this.setLayout(i, e, 1), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = jb(this.flatCoordinates, 0, e, this.stride), this.changed();
    }, t;
  }(hy)
);
const qv = _C;
var mC = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), hC = (
  /** @class */
  function(a) {
    mC(t, a);
    function t(e, i) {
      var n = a.call(this) || this;
      return n.setCoordinates(e, i), n;
    }
    return t.prototype.clone = function() {
      var e = new t(this.flatCoordinates.slice(), this.layout);
      return e.applyProperties(this), e;
    }, t.prototype.closestPointXY = function(e, i, n, u) {
      var _ = this.flatCoordinates, o = Ku(e, i, _[0], _[1]);
      if (o < u) {
        for (var y = this.stride, b = 0; b < y; ++b)
          n[b] = _[b];
        return n.length = y, o;
      } else
        return u;
    }, t.prototype.getCoordinates = function() {
      return this.flatCoordinates ? this.flatCoordinates.slice() : [];
    }, t.prototype.computeExtent = function(e) {
      return N3(this.flatCoordinates, e);
    }, t.prototype.getType = function() {
      return "Point";
    }, t.prototype.intersectsExtent = function(e) {
      return C2(e, this.flatCoordinates[0], this.flatCoordinates[1]);
    }, t.prototype.setCoordinates = function(e, i) {
      this.setLayout(i, e, 0), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = nC(this.flatCoordinates, 0, e, this.stride), this.changed();
    }, t;
  }(hy)
);
const pC = hC;
function fC(a, t, e, i, n) {
  var u = I2(
    n,
    /**
     * @param {import("../../coordinate.js").Coordinate} coordinate Coordinate.
     * @return {boolean} Contains (x, y).
     */
    function(_) {
      return !zl(a, t, e, i, _[0], _[1]);
    }
  );
  return !u;
}
function zl(a, t, e, i, n, u) {
  for (var _ = 0, o = a[e - i], y = a[e - i + 1]; t < e; t += i) {
    var b = a[t], S = a[t + 1];
    y <= u ? S > u && (b - o) * (u - y) - (n - o) * (S - y) > 0 && _++ : S <= u && (b - o) * (u - y) - (n - o) * (S - y) < 0 && _--, o = b, y = S;
  }
  return _ !== 0;
}
function Zb(a, t, e, i, n, u) {
  if (e.length === 0 || !zl(a, t, e[0], i, n, u))
    return !1;
  for (var _ = 1, o = e.length; _ < o; ++_)
    if (zl(a, e[_ - 1], e[_], i, n, u))
      return !1;
  return !0;
}
function gC(a, t, e, i, n, u, _) {
  for (var o, y, b, S, T, L, R, D = n[u + 1], j = [], Q = 0, ie = e.length; Q < ie; ++Q) {
    var J = e[Q];
    for (S = a[J - i], L = a[J - i + 1], o = t; o < J; o += i)
      T = a[o], R = a[o + 1], (D <= L && R <= D || L <= D && D <= R) && (b = (D - L) / (R - L) * (T - S) + S, j.push(b)), S = T, L = R;
  }
  var _e = NaN, ce = -1 / 0;
  for (j.sort(ry), S = j[0], o = 1, y = j.length; o < y; ++o) {
    T = j[o];
    var we = Math.abs(T - S);
    we > ce && (b = (S + T) / 2, Zb(a, t, e, i, b, D) && (_e = b, ce = we)), S = T;
  }
  return isNaN(_e) && (_e = n[u]), _ ? (_.push(_e, D, ce), _) : [_e, D, ce];
}
function yC(a, t, e, i, n) {
  var u;
  for (t += i; t < e; t += i)
    if (u = n(a.slice(t - i, t), a.slice(t, t + i)), u)
      return u;
  return !1;
}
function Hb(a, t, e, i, n) {
  var u = A2(Kl(), a, t, e, i);
  return Yc(n, u) ? Fg(n, u) || u[0] >= n[0] && u[2] <= n[2] || u[1] >= n[1] && u[3] <= n[3] ? !0 : yC(
    a,
    t,
    e,
    i,
    /**
     * @param {import("../../coordinate.js").Coordinate} point1 Start point.
     * @param {import("../../coordinate.js").Coordinate} point2 End point.
     * @return {boolean} `true` if the segment and the extent intersect,
     *     `false` otherwise.
     */
    function(_, o) {
      return V3(n, _, o);
    }
  ) : !1;
}
function Xb(a, t, e, i, n) {
  return !!(Hb(a, t, e, i, n) || zl(a, t, e, i, n[0], n[1]) || zl(a, t, e, i, n[0], n[3]) || zl(a, t, e, i, n[2], n[1]) || zl(a, t, e, i, n[2], n[3]));
}
function vC(a, t, e, i, n) {
  if (!Xb(a, t, e[0], i, n))
    return !1;
  if (e.length === 1)
    return !0;
  for (var u = 1, _ = e.length; u < _; ++u)
    if (fC(a, e[u - 1], e[u], i, n) && !Hb(a, e[u - 1], e[u], i, n))
      return !1;
  return !0;
}
function bC(a, t, e, i) {
  for (; t < e - i; ) {
    for (var n = 0; n < i; ++n) {
      var u = a[t + n];
      a[t + n] = a[e - i + n], a[e - i + n] = u;
    }
    t += i, e -= i;
  }
}
function Kb(a, t, e, i) {
  for (var n = 0, u = a[e - i], _ = a[e - i + 1]; t < e; t += i) {
    var o = a[t], y = a[t + 1];
    n += (o - u) * (y + _), u = o, _ = y;
  }
  return n === 0 ? void 0 : n > 0;
}
function xC(a, t, e, i, n) {
  for (var u = n !== void 0 ? n : !1, _ = 0, o = e.length; _ < o; ++_) {
    var y = e[_], b = Kb(a, t, y, i);
    if (_ === 0) {
      if (u && b || !u && !b)
        return !1;
    } else if (u && !b || !u && b)
      return !1;
    t = y;
  }
  return !0;
}
function Fv(a, t, e, i, n) {
  for (var u = n !== void 0 ? n : !1, _ = 0, o = e.length; _ < o; ++_) {
    var y = e[_], b = Kb(a, t, y, i), S = _ === 0 ? u && b || !u && !b : u && !b || !u && b;
    S && bC(a, t, y, i), t = y;
  }
  return t;
}
var wC = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), Yb = (
  /** @class */
  function(a) {
    wC(t, a);
    function t(e, i, n) {
      var u = a.call(this) || this;
      return u.ends_ = [], u.flatInteriorPointRevision_ = -1, u.flatInteriorPoint_ = null, u.maxDelta_ = -1, u.maxDeltaRevision_ = -1, u.orientedRevision_ = -1, u.orientedFlatCoordinates_ = null, i !== void 0 && n ? (u.setFlatCoordinates(
        i,
        /** @type {Array<number>} */
        e
      ), u.ends_ = n) : u.setCoordinates(
        /** @type {Array<Array<import("../coordinate.js").Coordinate>>} */
        e,
        i
      ), u;
    }
    return t.prototype.appendLinearRing = function(e) {
      this.flatCoordinates ? EL(this.flatCoordinates, e.getFlatCoordinates()) : this.flatCoordinates = e.getFlatCoordinates().slice(), this.ends_.push(this.flatCoordinates.length), this.changed();
    }, t.prototype.clone = function() {
      var e = new t(this.flatCoordinates.slice(), this.layout, this.ends_.slice());
      return e.applyProperties(this), e;
    }, t.prototype.closestPointXY = function(e, i, n, u) {
      return u < L2(this.getExtent(), e, i) ? u : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(aC(this.flatCoordinates, 0, this.ends_, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), iC(this.flatCoordinates, 0, this.ends_, this.stride, this.maxDelta_, !0, e, i, n, u));
    }, t.prototype.containsXY = function(e, i) {
      return Zb(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, e, i);
    }, t.prototype.getArea = function() {
      return dC(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride);
    }, t.prototype.getCoordinates = function(e) {
      var i;
      return e !== void 0 ? (i = this.getOrientedFlatCoordinates().slice(), Fv(i, 0, this.ends_, this.stride, e)) : i = this.flatCoordinates, uC(i, 0, this.ends_, this.stride);
    }, t.prototype.getEnds = function() {
      return this.ends_;
    }, t.prototype.getFlatInteriorPoint = function() {
      if (this.flatInteriorPointRevision_ != this.getRevision()) {
        var e = Vl(this.getExtent());
        this.flatInteriorPoint_ = gC(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, e, 0), this.flatInteriorPointRevision_ = this.getRevision();
      }
      return this.flatInteriorPoint_;
    }, t.prototype.getInteriorPoint = function() {
      return new pC(this.getFlatInteriorPoint(), gr.XYM);
    }, t.prototype.getLinearRingCount = function() {
      return this.ends_.length;
    }, t.prototype.getLinearRing = function(e) {
      return e < 0 || this.ends_.length <= e ? null : new qv(this.flatCoordinates.slice(e === 0 ? 0 : this.ends_[e - 1], this.ends_[e]), this.layout);
    }, t.prototype.getLinearRings = function() {
      for (var e = this.layout, i = this.flatCoordinates, n = this.ends_, u = [], _ = 0, o = 0, y = n.length; o < y; ++o) {
        var b = n[o], S = new qv(i.slice(_, b), e);
        u.push(S), _ = b;
      }
      return u;
    }, t.prototype.getOrientedFlatCoordinates = function() {
      if (this.orientedRevision_ != this.getRevision()) {
        var e = this.flatCoordinates;
        xC(e, 0, this.ends_, this.stride) ? this.orientedFlatCoordinates_ = e : (this.orientedFlatCoordinates_ = e.slice(), this.orientedFlatCoordinates_.length = Fv(this.orientedFlatCoordinates_, 0, this.ends_, this.stride)), this.orientedRevision_ = this.getRevision();
      }
      return this.orientedFlatCoordinates_;
    }, t.prototype.getSimplifiedGeometryInternal = function(e) {
      var i = [], n = [];
      return i.length = lC(this.flatCoordinates, 0, this.ends_, this.stride, Math.sqrt(e), i, 0, n), new t(i, gr.XY, n);
    }, t.prototype.getType = function() {
      return "Polygon";
    }, t.prototype.intersectsExtent = function(e) {
      return vC(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, e);
    }, t.prototype.setCoordinates = function(e, i) {
      this.setLayout(i, e, 2), this.flatCoordinates || (this.flatCoordinates = []);
      var n = rC(this.flatCoordinates, 0, e, this.stride, this.ends_);
      this.flatCoordinates.length = n.length === 0 ? 0 : n[n.length - 1], this.changed();
    }, t;
  }(hy)
);
function Gv(a) {
  var t = a[0], e = a[1], i = a[2], n = a[3], u = [
    t,
    e,
    t,
    n,
    i,
    n,
    i,
    e,
    t,
    e
  ];
  return new Yb(u, gr.XY, [
    u.length
  ]);
}
var SC = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), zf = 0, TC = (
  /** @class */
  function(a) {
    SC(t, a);
    function t(e) {
      var i = a.call(this) || this;
      i.on, i.once, i.un;
      var n = Xa({}, e);
      return i.hints_ = [0, 0], i.animations_ = [], i.updateAnimationKey_, i.projection_ = jg(n.projection, "EPSG:3857"), i.viewportSize_ = [100, 100], i.targetCenter_ = null, i.targetResolution_, i.targetRotation_, i.nextCenter_ = null, i.nextResolution_, i.nextRotation_, i.cancelAnchor_ = void 0, n.projection && Q3(), n.center && (n.center = js(n.center, i.projection_)), n.extent && (n.extent = Do(n.extent, i.projection_)), i.applyOptions_(n), i;
    }
    return t.prototype.applyOptions_ = function(e) {
      var i = Xa({}, e);
      for (var n in Vr)
        delete i[n];
      this.setProperties(i, !0);
      var u = EC(e);
      this.maxResolution_ = u.maxResolution, this.minResolution_ = u.minResolution, this.zoomFactor_ = u.zoomFactor, this.resolutions_ = e.resolutions, this.padding_ = e.padding, this.minZoom_ = u.minZoom;
      var _ = MC(e), o = u.constraint, y = LC(e);
      this.constraints_ = {
        center: _,
        resolution: o,
        rotation: y
      }, this.setRotation(e.rotation !== void 0 ? e.rotation : 0), this.setCenterInternal(e.center !== void 0 ? e.center : null), e.resolution !== void 0 ? this.setResolution(e.resolution) : e.zoom !== void 0 && this.setZoom(e.zoom);
    }, Object.defineProperty(t.prototype, "padding", {
      /**
       * Padding (in css pixels).
       * If the map viewport is partially covered with other content (overlays) along
       * its edges, this setting allows to shift the center of the viewport away from that
       * content. The order of the values in the array is top, right, bottom, left.
       * The default is no padding, which is equivalent to `[0, 0, 0, 0]`.
       * @type {Array<number>|undefined}
       * @api
       */
      get: function() {
        return this.padding_;
      },
      set: function(e) {
        var i = this.padding_;
        this.padding_ = e;
        var n = this.getCenter();
        if (n) {
          var u = e || [0, 0, 0, 0];
          i = i || [0, 0, 0, 0];
          var _ = this.getResolution(), o = _ / 2 * (u[3] - i[3] + i[1] - u[1]), y = _ / 2 * (u[0] - i[0] + i[2] - u[2]);
          this.setCenterInternal([n[0] + o, n[1] - y]);
        }
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.getUpdatedOptions_ = function(e) {
      var i = this.getProperties();
      return i.resolution !== void 0 ? i.resolution = this.getResolution() : i.zoom = this.getZoom(), i.center = this.getCenterInternal(), i.rotation = this.getRotation(), Xa({}, i, e);
    }, t.prototype.animate = function(e) {
      this.isDef() && !this.getAnimating() && this.resolveConstraints(0);
      for (var i = new Array(arguments.length), n = 0; n < i.length; ++n) {
        var u = arguments[n];
        u.center && (u = Xa({}, u), u.center = js(u.center, this.getProjection())), u.anchor && (u = Xa({}, u), u.anchor = js(u.anchor, this.getProjection())), i[n] = u;
      }
      this.animateInternal.apply(this, i);
    }, t.prototype.animateInternal = function(e) {
      var i = arguments.length, n;
      i > 1 && typeof arguments[i - 1] == "function" && (n = arguments[i - 1], --i);
      for (var u = 0; u < i && !this.isDef(); ++u) {
        var _ = arguments[u];
        _.center && this.setCenterInternal(_.center), _.zoom !== void 0 ? this.setZoom(_.zoom) : _.resolution && this.setResolution(_.resolution), _.rotation !== void 0 && this.setRotation(_.rotation);
      }
      if (u === i) {
        n && Wm(n, !0);
        return;
      }
      for (var o = Date.now(), y = this.targetCenter_.slice(), b = this.targetResolution_, S = this.targetRotation_, T = []; u < i; ++u) {
        var L = (
          /** @type {AnimationOptions} */
          arguments[u]
        ), R = {
          start: o,
          complete: !1,
          anchor: L.anchor,
          duration: L.duration !== void 0 ? L.duration : 1e3,
          easing: L.easing || QL,
          callback: n
        };
        if (L.center && (R.sourceCenter = y, R.targetCenter = L.center.slice(), y = R.targetCenter), L.zoom !== void 0 ? (R.sourceResolution = b, R.targetResolution = this.getResolutionForZoom(L.zoom), b = R.targetResolution) : L.resolution && (R.sourceResolution = b, R.targetResolution = L.resolution, b = R.targetResolution), L.rotation !== void 0) {
          R.sourceRotation = S;
          var D = Bl(L.rotation - S + Math.PI, 2 * Math.PI) - Math.PI;
          R.targetRotation = S + D, S = R.targetRotation;
        }
        CC(R) ? R.complete = !0 : o += R.duration, T.push(R);
      }
      this.animations_.push(T), this.setHint(Kn.ANIMATING, 1), this.updateAnimations_();
    }, t.prototype.getAnimating = function() {
      return this.hints_[Kn.ANIMATING] > 0;
    }, t.prototype.getInteracting = function() {
      return this.hints_[Kn.INTERACTING] > 0;
    }, t.prototype.cancelAnimations = function() {
      this.setHint(Kn.ANIMATING, -this.hints_[Kn.ANIMATING]);
      for (var e, i = 0, n = this.animations_.length; i < n; ++i) {
        var u = this.animations_[i];
        if (u[0].callback && Wm(u[0].callback, !1), !e)
          for (var _ = 0, o = u.length; _ < o; ++_) {
            var y = u[_];
            if (!y.complete) {
              e = y.anchor;
              break;
            }
          }
      }
      this.animations_.length = 0, this.cancelAnchor_ = e, this.nextCenter_ = null, this.nextResolution_ = NaN, this.nextRotation_ = NaN;
    }, t.prototype.updateAnimations_ = function() {
      if (this.updateAnimationKey_ !== void 0 && (cancelAnimationFrame(this.updateAnimationKey_), this.updateAnimationKey_ = void 0), !!this.getAnimating()) {
        for (var e = Date.now(), i = !1, n = this.animations_.length - 1; n >= 0; --n) {
          for (var u = this.animations_[n], _ = !0, o = 0, y = u.length; o < y; ++o) {
            var b = u[o];
            if (!b.complete) {
              var S = e - b.start, T = b.duration > 0 ? S / b.duration : 1;
              T >= 1 ? (b.complete = !0, T = 1) : _ = !1;
              var L = b.easing(T);
              if (b.sourceCenter) {
                var R = b.sourceCenter[0], D = b.sourceCenter[1], j = b.targetCenter[0], Q = b.targetCenter[1];
                this.nextCenter_ = b.targetCenter;
                var ie = R + L * (j - R), J = D + L * (Q - D);
                this.targetCenter_ = [ie, J];
              }
              if (b.sourceResolution && b.targetResolution) {
                var _e = L === 1 ? b.targetResolution : b.sourceResolution + L * (b.targetResolution - b.sourceResolution);
                if (b.anchor) {
                  var ce = this.getViewportSize_(this.getRotation()), we = this.constraints_.resolution(_e, 0, ce, !0);
                  this.targetCenter_ = this.calculateCenterZoom(we, b.anchor);
                }
                this.nextResolution_ = b.targetResolution, this.targetResolution_ = _e, this.applyTargetState_(!0);
              }
              if (b.sourceRotation !== void 0 && b.targetRotation !== void 0) {
                var Be = L === 1 ? Bl(b.targetRotation + Math.PI, 2 * Math.PI) - Math.PI : b.sourceRotation + L * (b.targetRotation - b.sourceRotation);
                if (b.anchor) {
                  var Ee = this.constraints_.rotation(Be, !0);
                  this.targetCenter_ = this.calculateCenterRotate(Ee, b.anchor);
                }
                this.nextRotation_ = b.targetRotation, this.targetRotation_ = Be;
              }
              if (this.applyTargetState_(!0), i = !0, !b.complete)
                break;
            }
          }
          if (_) {
            this.animations_[n] = null, this.setHint(Kn.ANIMATING, -1), this.nextCenter_ = null, this.nextResolution_ = NaN, this.nextRotation_ = NaN;
            var Fe = u[0].callback;
            Fe && Wm(Fe, !0);
          }
        }
        this.animations_ = this.animations_.filter(Boolean), i && this.updateAnimationKey_ === void 0 && (this.updateAnimationKey_ = requestAnimationFrame(this.updateAnimations_.bind(this)));
      }
    }, t.prototype.calculateCenterRotate = function(e, i) {
      var n, u = this.getCenterInternal();
      return u !== void 0 && (n = [u[0] - i[0], u[1] - i[1]], Gg(n, e - this.getRotation()), H3(n, i)), n;
    }, t.prototype.calculateCenterZoom = function(e, i) {
      var n, u = this.getCenterInternal(), _ = this.getResolution();
      if (u !== void 0 && _ !== void 0) {
        var o = i[0] - e * (i[0] - u[0]) / _, y = i[1] - e * (i[1] - u[1]) / _;
        n = [o, y];
      }
      return n;
    }, t.prototype.getViewportSize_ = function(e) {
      var i = this.viewportSize_;
      if (e) {
        var n = i[0], u = i[1];
        return [
          Math.abs(n * Math.cos(e)) + Math.abs(u * Math.sin(e)),
          Math.abs(n * Math.sin(e)) + Math.abs(u * Math.cos(e))
        ];
      } else
        return i;
    }, t.prototype.setViewportSize = function(e) {
      this.viewportSize_ = Array.isArray(e) ? e.slice() : [100, 100], this.getAnimating() || this.resolveConstraints(0);
    }, t.prototype.getCenter = function() {
      var e = this.getCenterInternal();
      return e && hg(e, this.getProjection());
    }, t.prototype.getCenterInternal = function() {
      return (
        /** @type {import("./coordinate.js").Coordinate|undefined} */
        this.get(Vr.CENTER)
      );
    }, t.prototype.getConstraints = function() {
      return this.constraints_;
    }, t.prototype.getConstrainResolution = function() {
      return this.get("constrainResolution");
    }, t.prototype.getHints = function(e) {
      return e !== void 0 ? (e[0] = this.hints_[0], e[1] = this.hints_[1], e) : this.hints_.slice();
    }, t.prototype.calculateExtent = function(e) {
      var i = this.calculateExtentInternal(e);
      return sT(i, this.getProjection());
    }, t.prototype.calculateExtentInternal = function(e) {
      var i = e || this.getViewportSizeMinusPadding_(), n = (
        /** @type {!import("./coordinate.js").Coordinate} */
        this.getCenterInternal()
      );
      Ma(n, 1);
      var u = (
        /** @type {!number} */
        this.getResolution()
      );
      Ma(u !== void 0, 2);
      var _ = (
        /** @type {!number} */
        this.getRotation()
      );
      return Ma(_ !== void 0, 3), Qu(n, u, _, i);
    }, t.prototype.getMaxResolution = function() {
      return this.maxResolution_;
    }, t.prototype.getMinResolution = function() {
      return this.minResolution_;
    }, t.prototype.getMaxZoom = function() {
      return (
        /** @type {number} */
        this.getZoomForResolution(this.minResolution_)
      );
    }, t.prototype.setMaxZoom = function(e) {
      this.applyOptions_(this.getUpdatedOptions_({ maxZoom: e }));
    }, t.prototype.getMinZoom = function() {
      return (
        /** @type {number} */
        this.getZoomForResolution(this.maxResolution_)
      );
    }, t.prototype.setMinZoom = function(e) {
      this.applyOptions_(this.getUpdatedOptions_({ minZoom: e }));
    }, t.prototype.setConstrainResolution = function(e) {
      this.applyOptions_(this.getUpdatedOptions_({ constrainResolution: e }));
    }, t.prototype.getProjection = function() {
      return this.projection_;
    }, t.prototype.getResolution = function() {
      return (
        /** @type {number|undefined} */
        this.get(Vr.RESOLUTION)
      );
    }, t.prototype.getResolutions = function() {
      return this.resolutions_;
    }, t.prototype.getResolutionForExtent = function(e, i) {
      return this.getResolutionForExtentInternal(Do(e, this.getProjection()), i);
    }, t.prototype.getResolutionForExtentInternal = function(e, i) {
      var n = i || this.getViewportSizeMinusPadding_(), u = Ha(e) / n[0], _ = Yi(e) / n[1];
      return Math.max(u, _);
    }, t.prototype.getResolutionForValueFunction = function(e) {
      var i = e || 2, n = this.getConstrainedResolution(this.maxResolution_), u = this.minResolution_, _ = Math.log(n / u) / Math.log(i);
      return (
        /**
         * @param {number} value Value.
         * @return {number} Resolution.
         */
        function(o) {
          var y = n / Math.pow(i, o * _);
          return y;
        }
      );
    }, t.prototype.getRotation = function() {
      return (
        /** @type {number} */
        this.get(Vr.ROTATION)
      );
    }, t.prototype.getValueForResolutionFunction = function(e) {
      var i = Math.log(e || 2), n = this.getConstrainedResolution(this.maxResolution_), u = this.minResolution_, _ = Math.log(n / u) / i;
      return (
        /**
         * @param {number} resolution Resolution.
         * @return {number} Value.
         */
        function(o) {
          var y = Math.log(n / o) / i / _;
          return y;
        }
      );
    }, t.prototype.getViewportSizeMinusPadding_ = function(e) {
      var i = this.getViewportSize_(e), n = this.padding_;
      return n && (i = [
        i[0] - n[1] - n[3],
        i[1] - n[0] - n[2]
      ]), i;
    }, t.prototype.getState = function() {
      var e = this.getProjection(), i = this.getResolution(), n = this.getRotation(), u = (
        /** @type {import("./coordinate.js").Coordinate} */
        this.getCenterInternal()
      ), _ = this.padding_;
      if (_) {
        var o = this.getViewportSizeMinusPadding_();
        u = Bf(u, this.getViewportSize_(), [o[0] / 2 + _[3], o[1] / 2 + _[0]], i, n);
      }
      return {
        center: u.slice(0),
        projection: e !== void 0 ? e : null,
        resolution: i,
        nextCenter: this.nextCenter_,
        nextResolution: this.nextResolution_,
        nextRotation: this.nextRotation_,
        rotation: n,
        zoom: this.getZoom()
      };
    }, t.prototype.getZoom = function() {
      var e, i = this.getResolution();
      return i !== void 0 && (e = this.getZoomForResolution(i)), e;
    }, t.prototype.getZoomForResolution = function(e) {
      var i = this.minZoom_ || 0, n, u;
      if (this.resolutions_) {
        var _ = ap(this.resolutions_, e, 1);
        i = _, n = this.resolutions_[_], _ == this.resolutions_.length - 1 ? u = 2 : u = n / this.resolutions_[_ + 1];
      } else
        n = this.maxResolution_, u = this.zoomFactor_;
      return i + Math.log(n / e) / Math.log(u);
    }, t.prototype.getResolutionForZoom = function(e) {
      if (this.resolutions_) {
        if (this.resolutions_.length <= 1)
          return 0;
        var i = Ri(Math.floor(e), 0, this.resolutions_.length - 2), n = this.resolutions_[i] / this.resolutions_[i + 1];
        return this.resolutions_[i] / Math.pow(n, Ri(e - i, 0, 1));
      } else
        return this.maxResolution_ / Math.pow(this.zoomFactor_, e - this.minZoom_);
    }, t.prototype.fit = function(e, i) {
      var n;
      if (Ma(Array.isArray(e) || typeof /** @type {?} */
      e.getSimplifiedGeometry == "function", 24), Array.isArray(e)) {
        Ma(!Kh(e), 25);
        var u = Do(e, this.getProjection());
        n = Gv(u);
      } else if (e.getType() === "Circle") {
        var u = Do(e.getExtent(), this.getProjection());
        n = Gv(u), n.rotate(this.getRotation(), Vl(u));
      } else {
        var _ = rT();
        _ ? n = /** @type {import("./geom/SimpleGeometry.js").default} */
        e.clone().transform(_, this.getProjection()) : n = e;
      }
      this.fitInternal(n, i);
    }, t.prototype.rotatedExtentForGeometry = function(e) {
      for (var i = this.getRotation(), n = Math.cos(i), u = Math.sin(-i), _ = e.getFlatCoordinates(), o = e.getStride(), y = 1 / 0, b = 1 / 0, S = -1 / 0, T = -1 / 0, L = 0, R = _.length; L < R; L += o) {
        var D = _[L] * n - _[L + 1] * u, j = _[L] * u + _[L + 1] * n;
        y = Math.min(y, D), b = Math.min(b, j), S = Math.max(S, D), T = Math.max(T, j);
      }
      return [y, b, S, T];
    }, t.prototype.fitInternal = function(e, i) {
      var n = i || {}, u = n.size;
      u || (u = this.getViewportSizeMinusPadding_());
      var _ = n.padding !== void 0 ? n.padding : [0, 0, 0, 0], o = n.nearest !== void 0 ? n.nearest : !1, y;
      n.minResolution !== void 0 ? y = n.minResolution : n.maxZoom !== void 0 ? y = this.getResolutionForZoom(n.maxZoom) : y = 0;
      var b = this.rotatedExtentForGeometry(e), S = this.getResolutionForExtentInternal(b, [
        u[0] - _[1] - _[3],
        u[1] - _[0] - _[2]
      ]);
      S = isNaN(S) ? y : Math.max(S, y), S = this.getConstrainedResolution(S, o ? 0 : 1);
      var T = this.getRotation(), L = Math.sin(T), R = Math.cos(T), D = Vl(b);
      D[0] += (_[1] - _[3]) / 2 * S, D[1] += (_[0] - _[2]) / 2 * S;
      var j = D[0] * R - D[1] * L, Q = D[1] * R + D[0] * L, ie = this.getConstrainedCenter([j, Q], S), J = n.callback ? n.callback : jc;
      n.duration !== void 0 ? this.animateInternal({
        resolution: S,
        center: ie,
        duration: n.duration,
        easing: n.easing
      }, J) : (this.targetResolution_ = S, this.targetCenter_ = ie, this.applyTargetState_(!1, !0), Wm(J, !0));
    }, t.prototype.centerOn = function(e, i, n) {
      this.centerOnInternal(js(e, this.getProjection()), i, n);
    }, t.prototype.centerOnInternal = function(e, i, n) {
      this.setCenterInternal(Bf(e, i, n, this.getResolution(), this.getRotation()));
    }, t.prototype.calculateCenterShift = function(e, i, n, u) {
      var _, o = this.padding_;
      if (o && e) {
        var y = this.getViewportSizeMinusPadding_(-n), b = Bf(e, u, [y[0] / 2 + o[3], y[1] / 2 + o[0]], i, n);
        _ = [
          e[0] - b[0],
          e[1] - b[1]
        ];
      }
      return _;
    }, t.prototype.isDef = function() {
      return !!this.getCenterInternal() && this.getResolution() !== void 0;
    }, t.prototype.adjustCenter = function(e) {
      var i = hg(this.targetCenter_, this.getProjection());
      this.setCenter([
        i[0] + e[0],
        i[1] + e[1]
      ]);
    }, t.prototype.adjustCenterInternal = function(e) {
      var i = this.targetCenter_;
      this.setCenterInternal([
        i[0] + e[0],
        i[1] + e[1]
      ]);
    }, t.prototype.adjustResolution = function(e, i) {
      var n = i && js(i, this.getProjection());
      this.adjustResolutionInternal(e, n);
    }, t.prototype.adjustResolutionInternal = function(e, i) {
      var n = this.getAnimating() || this.getInteracting(), u = this.getViewportSize_(this.getRotation()), _ = this.constraints_.resolution(this.targetResolution_ * e, 0, u, n);
      i && (this.targetCenter_ = this.calculateCenterZoom(_, i)), this.targetResolution_ *= e, this.applyTargetState_();
    }, t.prototype.adjustZoom = function(e, i) {
      this.adjustResolution(Math.pow(this.zoomFactor_, -e), i);
    }, t.prototype.adjustRotation = function(e, i) {
      i && (i = js(i, this.getProjection())), this.adjustRotationInternal(e, i);
    }, t.prototype.adjustRotationInternal = function(e, i) {
      var n = this.getAnimating() || this.getInteracting(), u = this.constraints_.rotation(this.targetRotation_ + e, n);
      i && (this.targetCenter_ = this.calculateCenterRotate(u, i)), this.targetRotation_ += e, this.applyTargetState_();
    }, t.prototype.setCenter = function(e) {
      this.setCenterInternal(e && js(e, this.getProjection()));
    }, t.prototype.setCenterInternal = function(e) {
      this.targetCenter_ = e, this.applyTargetState_();
    }, t.prototype.setHint = function(e, i) {
      return this.hints_[e] += i, this.changed(), this.hints_[e];
    }, t.prototype.setResolution = function(e) {
      this.targetResolution_ = e, this.applyTargetState_();
    }, t.prototype.setRotation = function(e) {
      this.targetRotation_ = e, this.applyTargetState_();
    }, t.prototype.setZoom = function(e) {
      this.setResolution(this.getResolutionForZoom(e));
    }, t.prototype.applyTargetState_ = function(e, i) {
      var n = this.getAnimating() || this.getInteracting() || i, u = this.constraints_.rotation(this.targetRotation_, n), _ = this.getViewportSize_(u), o = this.constraints_.resolution(this.targetResolution_, 0, _, n), y = this.constraints_.center(this.targetCenter_, o, _, n, this.calculateCenterShift(this.targetCenter_, o, u, _));
      this.get(Vr.ROTATION) !== u && this.set(Vr.ROTATION, u), this.get(Vr.RESOLUTION) !== o && (this.set(Vr.RESOLUTION, o), this.set("zoom", this.getZoom(), !0)), (!y || !this.get(Vr.CENTER) || !dh(this.get(Vr.CENTER), y)) && this.set(Vr.CENTER, y), this.getAnimating() && !e && this.cancelAnimations(), this.cancelAnchor_ = void 0;
    }, t.prototype.resolveConstraints = function(e, i, n) {
      var u = e !== void 0 ? e : 200, _ = i || 0, o = this.constraints_.rotation(this.targetRotation_), y = this.getViewportSize_(o), b = this.constraints_.resolution(this.targetResolution_, _, y), S = this.constraints_.center(this.targetCenter_, b, y, !1, this.calculateCenterShift(this.targetCenter_, b, o, y));
      if (u === 0 && !this.cancelAnchor_) {
        this.targetResolution_ = b, this.targetRotation_ = o, this.targetCenter_ = S, this.applyTargetState_();
        return;
      }
      var T = n || (u === 0 ? this.cancelAnchor_ : void 0);
      this.cancelAnchor_ = void 0, (this.getResolution() !== b || this.getRotation() !== o || !this.getCenterInternal() || !dh(this.getCenterInternal(), S)) && (this.getAnimating() && this.cancelAnimations(), this.animateInternal({
        rotation: o,
        center: S,
        resolution: b,
        duration: u,
        easing: _d,
        anchor: T
      }));
    }, t.prototype.beginInteraction = function() {
      this.resolveConstraints(0), this.setHint(Kn.INTERACTING, 1);
    }, t.prototype.endInteraction = function(e, i, n) {
      var u = n && js(n, this.getProjection());
      this.endInteractionInternal(e, i, u);
    }, t.prototype.endInteractionInternal = function(e, i, n) {
      this.setHint(Kn.INTERACTING, -1), this.resolveConstraints(e, i, n);
    }, t.prototype.getConstrainedCenter = function(e, i) {
      var n = this.getViewportSize_(this.getRotation());
      return this.constraints_.center(e, i || this.getResolution(), n);
    }, t.prototype.getConstrainedZoom = function(e, i) {
      var n = this.getResolutionForZoom(e);
      return this.getZoomForResolution(this.getConstrainedResolution(n, i));
    }, t.prototype.getConstrainedResolution = function(e, i) {
      var n = i || 0, u = this.getViewportSize_(this.getRotation());
      return this.constraints_.resolution(e, n, u);
    }, t;
  }(ao)
);
function Wm(a, t) {
  setTimeout(function() {
    a(t);
  }, 0);
}
function MC(a) {
  if (a.extent !== void 0) {
    var t = a.smoothExtentConstraint !== void 0 ? a.smoothExtentConstraint : !0;
    return kv(a.extent, a.constrainOnlyCenter, t);
  }
  var e = jg(a.projection, "EPSG:3857");
  if (a.multiWorld !== !0 && e.isGlobal()) {
    var i = e.getExtent().slice();
    return i[0] = -1 / 0, i[2] = 1 / 0, kv(i, !1, !1);
  }
  return F7;
}
function EC(a) {
  var t, e, i, n = 28, u = 2, _ = a.minZoom !== void 0 ? a.minZoom : zf, o = a.maxZoom !== void 0 ? a.maxZoom : n, y = a.zoomFactor !== void 0 ? a.zoomFactor : u, b = a.multiWorld !== void 0 ? a.multiWorld : !1, S = a.smoothResolutionConstraint !== void 0 ? a.smoothResolutionConstraint : !0, T = a.showFullExtent !== void 0 ? a.showFullExtent : !1, L = jg(a.projection, "EPSG:3857"), R = L.getExtent(), D = a.constrainOnlyCenter, j = a.extent;
  if (!b && !j && L.isGlobal() && (D = !1, j = R), a.resolutions !== void 0) {
    var Q = a.resolutions;
    e = Q[_], i = Q[o] !== void 0 ? Q[o] : Q[Q.length - 1], a.constrainResolution ? t = G7(Q, S, !D && j, T) : t = Dv(e, i, S, !D && j, T);
  } else {
    var ie = R ? Math.max(Ha(R), Yi(R)) : (
      // use an extent that can fit the whole world if need be
      360 * ys[Zs.DEGREES] / L.getMetersPerUnit()
    ), J = ie / dy / Math.pow(u, zf), _e = J / Math.pow(u, n - zf);
    e = a.maxResolution, e !== void 0 ? _ = 0 : e = J / Math.pow(y, _), i = a.minResolution, i === void 0 && (a.maxZoom !== void 0 ? a.maxResolution !== void 0 ? i = e / Math.pow(y, o) : i = J / Math.pow(y, o) : i = _e), o = _ + Math.floor(Math.log(e / i) / Math.log(y)), i = e / Math.pow(y, o - _), a.constrainResolution ? t = U7(y, e, i, S, !D && j, T) : t = Dv(e, i, S, !D && j, T);
  }
  return {
    constraint: t,
    maxResolution: e,
    minResolution: i,
    minZoom: _,
    zoomFactor: y
  };
}
function LC(a) {
  var t = a.enableRotation !== void 0 ? a.enableRotation : !0;
  if (t) {
    var e = a.constrainRotation;
    return e === void 0 || e === !0 ? V7() : e === !1 ? Wv : typeof e == "number" ? j7(e) : Wv;
  } else
    return my;
}
function CC(a) {
  return !(a.sourceCenter && a.targetCenter && !dh(a.sourceCenter, a.targetCenter) || a.sourceResolution !== a.targetResolution || a.sourceRotation !== a.targetRotation);
}
function Bf(a, t, e, i, n) {
  var u = Math.cos(-n), _ = Math.sin(-n), o = a[0] * u - a[1] * _, y = a[1] * u + a[0] * _;
  o += (t[0] / 2 - e[0]) * i, y += (e[1] - t[1] / 2) * i, _ = -_;
  var b = o * u - y * _, S = y * u + o * _;
  return [b, S];
}
const Ro = TC;
function Uv(a) {
  return a[0] > 0 && a[1] > 0;
}
function AC(a, t, e) {
  return e === void 0 && (e = [0, 0]), e[0] = a[0] * t + 0.5 | 0, e[1] = a[1] * t + 0.5 | 0, e;
}
function $s(a, t) {
  return Array.isArray(a) ? a : (t === void 0 ? t = [a, a] : (t[0] = a, t[1] = a), t);
}
var IC = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}();
function Qb(a) {
  if (a instanceof d_) {
    a.setMapInternal(null);
    return;
  }
  a instanceof sp && a.getLayers().forEach(Qb);
}
function Jb(a, t) {
  if (a instanceof d_) {
    a.setMapInternal(t);
    return;
  }
  if (a instanceof sp)
    for (var e = a.getLayers().getArray(), i = 0, n = e.length; i < n; ++i)
      Jb(e[i], t);
}
var PC = (
  /** @class */
  function(a) {
    IC(t, a);
    function t(e) {
      var i = a.call(this) || this;
      i.on, i.once, i.un;
      var n = OC(e);
      i.renderComplete_, i.loaded_ = !0, i.boundHandleBrowserEvent_ = i.handleBrowserEvent.bind(i), i.maxTilesLoading_ = e.maxTilesLoading !== void 0 ? e.maxTilesLoading : 16, i.pixelRatio_ = e.pixelRatio !== void 0 ? e.pixelRatio : Ob, i.postRenderTimeoutHandle_, i.animationDelayKey_, i.animationDelay_ = /** @this {PluggableMap} */
      function() {
        this.animationDelayKey_ = void 0, this.renderFrame_(Date.now());
      }.bind(i), i.coordinateToPixelTransform_ = id(), i.pixelToCoordinateTransform_ = id(), i.frameIndex_ = 0, i.frameState_ = null, i.previousExtent_ = null, i.viewPropertyListenerKey_ = null, i.viewChangeListenerKey_ = null, i.layerGroupPropertyListenerKeys_ = null, i.viewport_ = document.createElement("div"), i.viewport_.className = "ol-viewport" + ("ontouchstart" in window ? " ol-touch" : ""), i.viewport_.style.position = "relative", i.viewport_.style.overflow = "hidden", i.viewport_.style.width = "100%", i.viewport_.style.height = "100%", i.overlayContainer_ = document.createElement("div"), i.overlayContainer_.style.position = "absolute", i.overlayContainer_.style.zIndex = "0", i.overlayContainer_.style.width = "100%", i.overlayContainer_.style.height = "100%", i.overlayContainer_.style.pointerEvents = "none", i.overlayContainer_.className = "ol-overlaycontainer", i.viewport_.appendChild(i.overlayContainer_), i.overlayContainerStopEvent_ = document.createElement("div"), i.overlayContainerStopEvent_.style.position = "absolute", i.overlayContainerStopEvent_.style.zIndex = "0", i.overlayContainerStopEvent_.style.width = "100%", i.overlayContainerStopEvent_.style.height = "100%", i.overlayContainerStopEvent_.style.pointerEvents = "none", i.overlayContainerStopEvent_.className = "ol-overlaycontainer-stopevent", i.viewport_.appendChild(i.overlayContainerStopEvent_), i.mapBrowserEventHandler_ = null, i.moveTolerance_ = e.moveTolerance, i.keyboardEventTarget_ = n.keyboardEventTarget, i.targetChangeHandlerKeys_ = null, i.controls = n.controls || new Yr(), i.interactions = n.interactions || new Yr(), i.overlays_ = n.overlays, i.overlayIdIndex_ = {}, i.renderer_ = null, i.postRenderFunctions_ = [], i.tileQueue_ = new B7(i.getTilePriority.bind(i), i.handleTileChange_.bind(i)), i.addChangeListener(bn.LAYERGROUP, i.handleLayerGroupChanged_), i.addChangeListener(bn.VIEW, i.handleViewChanged_), i.addChangeListener(bn.SIZE, i.handleSizeChanged_), i.addChangeListener(bn.TARGET, i.handleTargetChanged_), i.setProperties(n.values);
      var u = i;
      return e.view && !(e.view instanceof Ro) && e.view.then(function(_) {
        u.setView(new Ro(_));
      }), i.controls.addEventListener(
        Cr.ADD,
        /**
         * @param {import("./Collection.js").CollectionEvent} event CollectionEvent.
         */
        function(_) {
          _.element.setMap(this);
        }.bind(i)
      ), i.controls.addEventListener(
        Cr.REMOVE,
        /**
         * @param {import("./Collection.js").CollectionEvent} event CollectionEvent.
         */
        function(_) {
          _.element.setMap(null);
        }.bind(i)
      ), i.interactions.addEventListener(
        Cr.ADD,
        /**
         * @param {import("./Collection.js").CollectionEvent} event CollectionEvent.
         */
        function(_) {
          _.element.setMap(this);
        }.bind(i)
      ), i.interactions.addEventListener(
        Cr.REMOVE,
        /**
         * @param {import("./Collection.js").CollectionEvent} event CollectionEvent.
         */
        function(_) {
          _.element.setMap(null);
        }.bind(i)
      ), i.overlays_.addEventListener(
        Cr.ADD,
        /**
         * @param {import("./Collection.js").CollectionEvent} event CollectionEvent.
         */
        function(_) {
          this.addOverlayInternal_(
            /** @type {import("./Overlay.js").default} */
            _.element
          );
        }.bind(i)
      ), i.overlays_.addEventListener(
        Cr.REMOVE,
        /**
         * @param {import("./Collection.js").CollectionEvent} event CollectionEvent.
         */
        function(_) {
          var o = (
            /** @type {import("./Overlay.js").default} */
            _.element
          ), y = o.getId();
          y !== void 0 && delete this.overlayIdIndex_[y.toString()], _.element.setMap(null);
        }.bind(i)
      ), i.controls.forEach(
        /**
         * @param {import("./control/Control.js").default} control Control.
         * @this {PluggableMap}
         */
        function(_) {
          _.setMap(this);
        }.bind(i)
      ), i.interactions.forEach(
        /**
         * @param {import("./interaction/Interaction.js").default} interaction Interaction.
         * @this {PluggableMap}
         */
        function(_) {
          _.setMap(this);
        }.bind(i)
      ), i.overlays_.forEach(i.addOverlayInternal_.bind(i)), i;
    }
    return t.prototype.createRenderer = function() {
      throw new Error("Use a map type that has a createRenderer method");
    }, t.prototype.addControl = function(e) {
      this.getControls().push(e);
    }, t.prototype.addInteraction = function(e) {
      this.getInteractions().push(e);
    }, t.prototype.addLayer = function(e) {
      var i = this.getLayerGroup().getLayers();
      i.push(e);
    }, t.prototype.handleLayerAdd_ = function(e) {
      Jb(e.layer, this);
    }, t.prototype.addOverlay = function(e) {
      this.getOverlays().push(e);
    }, t.prototype.addOverlayInternal_ = function(e) {
      var i = e.getId();
      i !== void 0 && (this.overlayIdIndex_[i.toString()] = e), e.setMap(this);
    }, t.prototype.disposeInternal = function() {
      this.controls.clear(), this.interactions.clear(), this.overlays_.clear(), this.setTarget(null), a.prototype.disposeInternal.call(this);
    }, t.prototype.forEachFeatureAtPixel = function(e, i, n) {
      if (!(!this.frameState_ || !this.renderer_)) {
        var u = this.getCoordinateFromPixelInternal(e);
        n = n !== void 0 ? n : {};
        var _ = n.hitTolerance !== void 0 ? n.hitTolerance : 0, o = n.layerFilter !== void 0 ? n.layerFilter : kc, y = n.checkWrapped !== !1;
        return this.renderer_.forEachFeatureAtCoordinate(u, this.frameState_, _, y, i, null, o, null);
      }
    }, t.prototype.getFeaturesAtPixel = function(e, i) {
      var n = [];
      return this.forEachFeatureAtPixel(e, function(u) {
        n.push(u);
      }, i), n;
    }, t.prototype.getAllLayers = function() {
      var e = [];
      function i(n) {
        n.forEach(function(u) {
          u instanceof sp ? i(u.getLayers()) : e.push(u);
        });
      }
      return i(this.getLayers()), e;
    }, t.prototype.forEachLayerAtPixel = function(e, i, n) {
      if (!(!this.frameState_ || !this.renderer_)) {
        var u = n || {}, _ = u.hitTolerance !== void 0 ? u.hitTolerance : 0, o = u.layerFilter || kc;
        return this.renderer_.forEachLayerAtPixel(e, this.frameState_, _, i, o);
      }
    }, t.prototype.hasFeatureAtPixel = function(e, i) {
      if (!this.frameState_ || !this.renderer_)
        return !1;
      var n = this.getCoordinateFromPixelInternal(e);
      i = i !== void 0 ? i : {};
      var u = i.layerFilter !== void 0 ? i.layerFilter : kc, _ = i.hitTolerance !== void 0 ? i.hitTolerance : 0, o = i.checkWrapped !== !1;
      return this.renderer_.hasFeatureAtCoordinate(n, this.frameState_, _, o, u, null);
    }, t.prototype.getEventCoordinate = function(e) {
      return this.getCoordinateFromPixel(this.getEventPixel(e));
    }, t.prototype.getEventCoordinateInternal = function(e) {
      return this.getCoordinateFromPixelInternal(this.getEventPixel(e));
    }, t.prototype.getEventPixel = function(e) {
      var i = this.viewport_.getBoundingClientRect(), n = (
        //FIXME Are we really calling this with a TouchEvent anywhere?
        "changedTouches" in e ? (
          /** @type {TouchEvent} */
          e.changedTouches[0]
        ) : (
          /** @type {MouseEvent} */
          e
        )
      );
      return [
        n.clientX - i.left,
        n.clientY - i.top
      ];
    }, t.prototype.getTarget = function() {
      return (
        /** @type {HTMLElement|string|undefined} */
        this.get(bn.TARGET)
      );
    }, t.prototype.getTargetElement = function() {
      var e = this.getTarget();
      return e !== void 0 ? typeof e == "string" ? document.getElementById(e) : e : null;
    }, t.prototype.getCoordinateFromPixel = function(e) {
      return hg(this.getCoordinateFromPixelInternal(e), this.getView().getProjection());
    }, t.prototype.getCoordinateFromPixelInternal = function(e) {
      var i = this.frameState_;
      return i ? Nn(i.pixelToCoordinateTransform, e.slice()) : null;
    }, t.prototype.getControls = function() {
      return this.controls;
    }, t.prototype.getOverlays = function() {
      return this.overlays_;
    }, t.prototype.getOverlayById = function(e) {
      var i = this.overlayIdIndex_[e.toString()];
      return i !== void 0 ? i : null;
    }, t.prototype.getInteractions = function() {
      return this.interactions;
    }, t.prototype.getLayerGroup = function() {
      return (
        /** @type {LayerGroup} */
        this.get(bn.LAYERGROUP)
      );
    }, t.prototype.setLayers = function(e) {
      var i = this.getLayerGroup();
      if (e instanceof Yr) {
        i.setLayers(e);
        return;
      }
      var n = i.getLayers();
      n.clear(), n.extend(e);
    }, t.prototype.getLayers = function() {
      var e = this.getLayerGroup().getLayers();
      return e;
    }, t.prototype.getLoadingOrNotReady = function() {
      for (var e = this.getLayerGroup().getLayerStatesArray(), i = 0, n = e.length; i < n; ++i) {
        var u = e[i];
        if (u.visible) {
          var _ = u.layer.getRenderer();
          if (_ && !_.ready)
            return !0;
          var o = (
            /** @type {import("./layer/Layer.js").default} */
            u.layer.getSource()
          );
          if (o && o.loading)
            return !0;
        }
      }
      return !1;
    }, t.prototype.getPixelFromCoordinate = function(e) {
      var i = js(e, this.getView().getProjection());
      return this.getPixelFromCoordinateInternal(i);
    }, t.prototype.getPixelFromCoordinateInternal = function(e) {
      var i = this.frameState_;
      return i ? Nn(i.coordinateToPixelTransform, e.slice(0, 2)) : null;
    }, t.prototype.getRenderer = function() {
      return this.renderer_;
    }, t.prototype.getSize = function() {
      return (
        /** @type {import("./size.js").Size|undefined} */
        this.get(bn.SIZE)
      );
    }, t.prototype.getView = function() {
      return (
        /** @type {View} */
        this.get(bn.VIEW)
      );
    }, t.prototype.getViewport = function() {
      return this.viewport_;
    }, t.prototype.getOverlayContainer = function() {
      return this.overlayContainer_;
    }, t.prototype.getOverlayContainerStopEvent = function() {
      return this.overlayContainerStopEvent_;
    }, t.prototype.getOwnerDocument = function() {
      var e = this.getTargetElement();
      return e ? e.ownerDocument : document;
    }, t.prototype.getTilePriority = function(e, i, n, u) {
      return N7(this.frameState_, e, i, n, u);
    }, t.prototype.handleBrowserEvent = function(e, i) {
      var n = i || e.type, u = new Lo(n, this, e);
      this.handleMapBrowserEvent(u);
    }, t.prototype.handleMapBrowserEvent = function(e) {
      if (this.frameState_) {
        var i = (
          /** @type {PointerEvent} */
          e.originalEvent
        ), n = i.type;
        if (n === Eg.POINTERDOWN || n === Jt.WHEEL || n === Jt.KEYDOWN) {
          var u = this.getOwnerDocument(), _ = this.viewport_.getRootNode ? this.viewport_.getRootNode() : u, o = (
            /** @type {Node} */
            i.target
          );
          if (
            // Abort if the target is a child of the container for elements whose events are not meant
            // to be handled by map interactions.
            this.overlayContainerStopEvent_.contains(o) || // Abort if the event target is a child of the container that is no longer in the page.
            // It's possible for the target to no longer be in the page if it has been removed in an
            // event listener, this might happen in a Control that recreates it's content based on
            // user interaction either manually or via a render in something like https://reactjs.org/
            !(_ === u ? u.documentElement : _).contains(o)
          )
            return;
        }
        if (e.frameState = this.frameState_, this.dispatchEvent(e) !== !1)
          for (var y = this.getInteractions().getArray().slice(), b = y.length - 1; b >= 0; b--) {
            var S = y[b];
            if (!(S.getMap() !== this || !S.getActive() || !this.getTargetElement())) {
              var T = S.handleEvent(e);
              if (!T || e.propagationStopped)
                break;
            }
          }
      }
    }, t.prototype.handlePostRender = function() {
      var e = this.frameState_, i = this.tileQueue_;
      if (!i.isEmpty()) {
        var n = this.maxTilesLoading_, u = n;
        if (e) {
          var _ = e.viewHints;
          if (_[Kn.ANIMATING] || _[Kn.INTERACTING]) {
            var o = Date.now() - e.time > 8;
            n = o ? 0 : 8, u = o ? 0 : 2;
          }
        }
        i.getTilesLoading() < n && (i.reprioritize(), i.loadMoreTiles(n, u));
      }
      e && this.renderer_ && !e.animate && (this.renderComplete_ === !0 ? (this.hasListener(Go.RENDERCOMPLETE) && this.renderer_.dispatchRenderEvent(Go.RENDERCOMPLETE, e), this.loaded_ === !1 && (this.loaded_ = !0, this.dispatchEvent(new qu(Eo.LOADEND, this, e)))) : this.loaded_ === !0 && (this.loaded_ = !1, this.dispatchEvent(new qu(Eo.LOADSTART, this, e))));
      for (var y = this.postRenderFunctions_, b = 0, S = y.length; b < S; ++b)
        y[b](this, e);
      y.length = 0;
    }, t.prototype.handleSizeChanged_ = function() {
      this.getView() && !this.getView().getAnimating() && this.getView().resolveConstraints(0), this.render();
    }, t.prototype.handleTargetChanged_ = function() {
      if (this.mapBrowserEventHandler_) {
        for (var e = 0, i = this.targetChangeHandlerKeys_.length; e < i; ++e)
          ci(this.targetChangeHandlerKeys_[e]);
        this.targetChangeHandlerKeys_ = null, this.viewport_.removeEventListener(Jt.CONTEXTMENU, this.boundHandleBrowserEvent_), this.viewport_.removeEventListener(Jt.WHEEL, this.boundHandleBrowserEvent_), this.mapBrowserEventHandler_.dispose(), this.mapBrowserEventHandler_ = null, Mg(this.viewport_);
      }
      var n = this.getTargetElement();
      if (!n)
        this.renderer_ && (clearTimeout(this.postRenderTimeoutHandle_), this.postRenderTimeoutHandle_ = void 0, this.postRenderFunctions_.length = 0, this.renderer_.dispose(), this.renderer_ = null), this.animationDelayKey_ && (cancelAnimationFrame(this.animationDelayKey_), this.animationDelayKey_ = void 0);
      else {
        n.appendChild(this.viewport_), this.renderer_ || (this.renderer_ = this.createRenderer()), this.mapBrowserEventHandler_ = new R7(this, this.moveTolerance_);
        for (var u in di)
          this.mapBrowserEventHandler_.addEventListener(di[u], this.handleMapBrowserEvent.bind(this));
        this.viewport_.addEventListener(Jt.CONTEXTMENU, this.boundHandleBrowserEvent_, !1), this.viewport_.addEventListener(Jt.WHEEL, this.boundHandleBrowserEvent_, kb ? { passive: !1 } : !1);
        var _ = this.getOwnerDocument().defaultView, o = this.keyboardEventTarget_ ? this.keyboardEventTarget_ : n;
        this.targetChangeHandlerKeys_ = [
          fa(o, Jt.KEYDOWN, this.handleBrowserEvent, this),
          fa(o, Jt.KEYPRESS, this.handleBrowserEvent, this),
          fa(_, Jt.RESIZE, this.updateSize, this)
        ];
      }
      this.updateSize();
    }, t.prototype.handleTileChange_ = function() {
      this.render();
    }, t.prototype.handleViewPropertyChanged_ = function() {
      this.render();
    }, t.prototype.handleViewChanged_ = function() {
      this.viewPropertyListenerKey_ && (ci(this.viewPropertyListenerKey_), this.viewPropertyListenerKey_ = null), this.viewChangeListenerKey_ && (ci(this.viewChangeListenerKey_), this.viewChangeListenerKey_ = null);
      var e = this.getView();
      e && (this.updateViewportSize_(), this.viewPropertyListenerKey_ = fa(e, ud.PROPERTYCHANGE, this.handleViewPropertyChanged_, this), this.viewChangeListenerKey_ = fa(e, Jt.CHANGE, this.handleViewPropertyChanged_, this), e.resolveConstraints(0)), this.render();
    }, t.prototype.handleLayerGroupChanged_ = function() {
      this.layerGroupPropertyListenerKeys_ && (this.layerGroupPropertyListenerKeys_.forEach(ci), this.layerGroupPropertyListenerKeys_ = null);
      var e = this.getLayerGroup();
      e && (this.handleLayerAdd_(new Ao("addlayer", e)), this.layerGroupPropertyListenerKeys_ = [
        fa(e, ud.PROPERTYCHANGE, this.render, this),
        fa(e, Jt.CHANGE, this.render, this),
        fa(e, "addlayer", this.handleLayerAdd_, this),
        fa(e, "removelayer", this.handleLayerRemove_, this)
      ]), this.render();
    }, t.prototype.isRendered = function() {
      return !!this.frameState_;
    }, t.prototype.renderSync = function() {
      this.animationDelayKey_ && cancelAnimationFrame(this.animationDelayKey_), this.animationDelay_();
    }, t.prototype.redrawText = function() {
      for (var e = this.getLayerGroup().getLayerStatesArray(), i = 0, n = e.length; i < n; ++i) {
        var u = e[i].layer;
        u.hasRenderer() && u.getRenderer().handleFontsChanged();
      }
    }, t.prototype.render = function() {
      this.renderer_ && this.animationDelayKey_ === void 0 && (this.animationDelayKey_ = requestAnimationFrame(this.animationDelay_));
    }, t.prototype.removeControl = function(e) {
      return this.getControls().remove(e);
    }, t.prototype.removeInteraction = function(e) {
      return this.getInteractions().remove(e);
    }, t.prototype.removeLayer = function(e) {
      var i = this.getLayerGroup().getLayers();
      return i.remove(e);
    }, t.prototype.handleLayerRemove_ = function(e) {
      Qb(e.layer);
    }, t.prototype.removeOverlay = function(e) {
      return this.getOverlays().remove(e);
    }, t.prototype.renderFrame_ = function(e) {
      var i = this, n = this.getSize(), u = this.getView(), _ = this.frameState_, o = null;
      if (n !== void 0 && Uv(n) && u && u.isDef()) {
        var y = u.getHints(this.frameState_ ? this.frameState_.viewHints : void 0), b = u.getState();
        if (o = {
          animate: !1,
          coordinateToPixelTransform: this.coordinateToPixelTransform_,
          declutterTree: null,
          extent: Qu(b.center, b.resolution, b.rotation, n),
          index: this.frameIndex_++,
          layerIndex: 0,
          layerStatesArray: this.getLayerGroup().getLayerStatesArray(),
          pixelRatio: this.pixelRatio_,
          pixelToCoordinateTransform: this.pixelToCoordinateTransform_,
          postRenderFunctions: [],
          size: n,
          tileQueue: this.tileQueue_,
          time: e,
          usedTiles: {},
          viewState: b,
          viewHints: y,
          wantedTiles: {},
          mapId: Yn(this),
          renderTargets: {}
        }, b.nextCenter && b.nextResolution) {
          var S = isNaN(b.nextRotation) ? b.rotation : b.nextRotation;
          o.nextExtent = Qu(b.nextCenter, b.nextResolution, S, n);
        }
      }
      if (this.frameState_ = o, this.renderer_.renderFrame(o), o) {
        if (o.animate && this.render(), Array.prototype.push.apply(this.postRenderFunctions_, o.postRenderFunctions), _) {
          var T = !this.previousExtent_ || !Kh(this.previousExtent_) && !uh(o.extent, this.previousExtent_);
          T && (this.dispatchEvent(new qu(Eo.MOVESTART, this, _)), this.previousExtent_ = $h(this.previousExtent_));
        }
        var L = this.previousExtent_ && !o.viewHints[Kn.ANIMATING] && !o.viewHints[Kn.INTERACTING] && !uh(o.extent, this.previousExtent_);
        L && (this.dispatchEvent(new qu(Eo.MOVEEND, this, o)), B3(o.extent, this.previousExtent_));
      }
      this.dispatchEvent(new qu(Eo.POSTRENDER, this, o)), this.renderComplete_ = this.hasListener(Eo.LOADSTART) || this.hasListener(Eo.LOADEND) || this.hasListener(Go.RENDERCOMPLETE) ? !this.tileQueue_.getTilesLoading() && !this.tileQueue_.getCount() && !this.getLoadingOrNotReady() : void 0, this.postRenderTimeoutHandle_ || (this.postRenderTimeoutHandle_ = setTimeout(function() {
        i.postRenderTimeoutHandle_ = void 0, i.handlePostRender();
      }, 0));
    }, t.prototype.setLayerGroup = function(e) {
      var i = this.getLayerGroup();
      i && this.handleLayerRemove_(new Ao("removelayer", i)), this.set(bn.LAYERGROUP, e);
    }, t.prototype.setSize = function(e) {
      this.set(bn.SIZE, e);
    }, t.prototype.setTarget = function(e) {
      this.set(bn.TARGET, e);
    }, t.prototype.setView = function(e) {
      if (!e || e instanceof Ro) {
        this.set(bn.VIEW, e);
        return;
      }
      this.set(bn.VIEW, new Ro());
      var i = this;
      e.then(function(n) {
        i.setView(new Ro(n));
      });
    }, t.prototype.updateSize = function() {
      var e = this.getTargetElement(), i = void 0;
      if (e) {
        var n = getComputedStyle(e), u = e.offsetWidth - parseFloat(n.borderLeftWidth) - parseFloat(n.paddingLeft) - parseFloat(n.paddingRight) - parseFloat(n.borderRightWidth), _ = e.offsetHeight - parseFloat(n.borderTopWidth) - parseFloat(n.paddingTop) - parseFloat(n.paddingBottom) - parseFloat(n.borderBottomWidth);
        !isNaN(u) && !isNaN(_) && (i = [u, _], !Uv(i) && (e.offsetWidth || e.offsetHeight || e.getClientRects().length) && console.warn("No map visible because the map container's width or height are 0."));
      }
      this.setSize(i), this.updateViewportSize_();
    }, t.prototype.updateViewportSize_ = function() {
      var e = this.getView();
      if (e) {
        var i = void 0, n = getComputedStyle(this.viewport_);
        n.width && n.height && (i = [
          parseInt(n.width, 10),
          parseInt(n.height, 10)
        ]), e.setViewportSize(i);
      }
    }, t;
  }(ao)
);
function OC(a) {
  var t = null;
  a.keyboardEventTarget !== void 0 && (t = typeof a.keyboardEventTarget == "string" ? document.getElementById(a.keyboardEventTarget) : a.keyboardEventTarget);
  var e = {}, i = a.layers && typeof /** @type {?} */
  a.layers.getLayers == "function" ? (
    /** @type {LayerGroup} */
    a.layers
  ) : new sp({ layers: (
    /** @type {Collection} */
    a.layers
  ) });
  e[bn.LAYERGROUP] = i, e[bn.TARGET] = a.target, e[bn.VIEW] = a.view instanceof Ro ? a.view : new Ro();
  var n;
  a.controls !== void 0 && (Array.isArray(a.controls) ? n = new Yr(a.controls.slice()) : (Ma(typeof /** @type {?} */
  a.controls.getArray == "function", 47), n = /** @type {Collection} */
  a.controls));
  var u;
  a.interactions !== void 0 && (Array.isArray(a.interactions) ? u = new Yr(a.interactions.slice()) : (Ma(typeof /** @type {?} */
  a.interactions.getArray == "function", 48), u = /** @type {Collection} */
  a.interactions));
  var _;
  return a.overlays !== void 0 ? Array.isArray(a.overlays) ? _ = new Yr(a.overlays.slice()) : (Ma(typeof /** @type {?} */
  a.overlays.getArray == "function", 49), _ = a.overlays) : _ = new Yr(), {
    controls: n,
    interactions: u,
    keyboardEventTarget: t,
    overlays: _,
    values: e
  };
}
const RC = PC;
function ex(a) {
  var t = a || {}, e = new Yr(), i = t.zoom !== void 0 ? t.zoom : !0;
  i && e.push(new r7(t.zoomOptions));
  var n = t.rotate !== void 0 ? t.rotate : !0;
  n && e.push(new a7(t.rotateOptions));
  var u = t.attribution !== void 0 ? t.attribution : !0;
  return u && e.push(new KL(t.attributionOptions)), e;
}
const jv = {
  ACTIVE: "active"
};
var kC = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), DC = (
  /** @class */
  function(a) {
    kC(t, a);
    function t(e) {
      var i = a.call(this) || this;
      return i.on, i.once, i.un, e && e.handleEvent && (i.handleEvent = e.handleEvent), i.map_ = null, i.setActive(!0), i;
    }
    return t.prototype.getActive = function() {
      return (
        /** @type {boolean} */
        this.get(jv.ACTIVE)
      );
    }, t.prototype.getMap = function() {
      return this.map_;
    }, t.prototype.handleEvent = function(e) {
      return !0;
    }, t.prototype.setActive = function(e) {
      this.set(jv.ACTIVE, e);
    }, t.prototype.setMap = function(e) {
      this.map_ = e;
    }, t;
  }(ao)
);
function WC(a, t, e) {
  var i = a.getCenterInternal();
  if (i) {
    var n = [i[0] + t[0], i[1] + t[1]];
    a.animateInternal({
      duration: e !== void 0 ? e : 250,
      easing: JL,
      center: a.getConstrainedCenter(n)
    });
  }
}
function py(a, t, e, i) {
  var n = a.getZoom();
  if (n !== void 0) {
    var u = a.getConstrainedZoom(n + t), _ = a.getResolutionForZoom(u);
    a.getAnimating() && a.cancelAnimations(), a.animate({
      resolution: _,
      anchor: e,
      duration: i !== void 0 ? i : 250,
      easing: _d
    });
  }
}
const c_ = DC;
var zC = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), BC = (
  /** @class */
  function(a) {
    zC(t, a);
    function t(e) {
      var i = a.call(this) || this, n = e || {};
      return i.delta_ = n.delta ? n.delta : 1, i.duration_ = n.duration !== void 0 ? n.duration : 250, i;
    }
    return t.prototype.handleEvent = function(e) {
      var i = !1;
      if (e.type == di.DBLCLICK) {
        var n = (
          /** @type {MouseEvent} */
          e.originalEvent
        ), u = e.map, _ = e.coordinate, o = n.shiftKey ? -this.delta_ : this.delta_, y = u.getView();
        py(y, o, _, this.duration_), n.preventDefault(), i = !0;
      }
      return !i;
    }, t;
  }(c_)
);
const NC = BC;
var qC = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), FC = (
  /** @class */
  function(a) {
    qC(t, a);
    function t(e) {
      var i = this, n = e || {};
      return i = a.call(
        this,
        /** @type {import("./Interaction.js").InteractionOptions} */
        n
      ) || this, n.handleDownEvent && (i.handleDownEvent = n.handleDownEvent), n.handleDragEvent && (i.handleDragEvent = n.handleDragEvent), n.handleMoveEvent && (i.handleMoveEvent = n.handleMoveEvent), n.handleUpEvent && (i.handleUpEvent = n.handleUpEvent), n.stopDown && (i.stopDown = n.stopDown), i.handlingDownUpSequence = !1, i.targetPointers = [], i;
    }
    return t.prototype.getPointerCount = function() {
      return this.targetPointers.length;
    }, t.prototype.handleDownEvent = function(e) {
      return !1;
    }, t.prototype.handleDragEvent = function(e) {
    }, t.prototype.handleEvent = function(e) {
      if (!e.originalEvent)
        return !0;
      var i = !1;
      if (this.updateTrackedPointers_(e), this.handlingDownUpSequence) {
        if (e.type == di.POINTERDRAG)
          this.handleDragEvent(e), e.originalEvent.preventDefault();
        else if (e.type == di.POINTERUP) {
          var n = this.handleUpEvent(e);
          this.handlingDownUpSequence = n && this.targetPointers.length > 0;
        }
      } else if (e.type == di.POINTERDOWN) {
        var u = this.handleDownEvent(e);
        this.handlingDownUpSequence = u, i = this.stopDown(u);
      } else
        e.type == di.POINTERMOVE && this.handleMoveEvent(e);
      return !i;
    }, t.prototype.handleMoveEvent = function(e) {
    }, t.prototype.handleUpEvent = function(e) {
      return !1;
    }, t.prototype.stopDown = function(e) {
      return e;
    }, t.prototype.updateTrackedPointers_ = function(e) {
      e.activePointers && (this.targetPointers = e.activePointers);
    }, t;
  }(c_)
);
function fy(a) {
  for (var t = a.length, e = 0, i = 0, n = 0; n < t; n++)
    e += a[n].clientX, i += a[n].clientY;
  return [e / t, i / t];
}
const __ = FC;
function Lg(a) {
  var t = arguments;
  return function(e) {
    for (var i = !0, n = 0, u = t.length; n < u && (i = i && t[n](e), !!i); ++n)
      ;
    return i;
  };
}
var GC = function(a) {
  var t = (
    /** @type {KeyboardEvent|MouseEvent|TouchEvent} */
    a.originalEvent
  );
  return t.altKey && !(t.metaKey || t.ctrlKey) && t.shiftKey;
}, UC = function(a) {
  var t = a.map.getTargetElement(), e = a.map.getOwnerDocument().activeElement;
  return t.contains(e);
}, tx = function(a) {
  return a.map.getTargetElement().hasAttribute("tabindex") ? UC(a) : !0;
}, jC = kc, ax = function(a) {
  var t = (
    /** @type {MouseEvent} */
    a.originalEvent
  );
  return t.button == 0 && !(WL && zL && t.ctrlKey);
}, ix = function(a) {
  var t = (
    /** @type {KeyboardEvent|MouseEvent|TouchEvent} */
    a.originalEvent
  );
  return !t.altKey && !(t.metaKey || t.ctrlKey) && !t.shiftKey;
}, VC = function(a) {
  var t = (
    /** @type {KeyboardEvent|MouseEvent|TouchEvent} */
    a.originalEvent
  );
  return !t.altKey && !(t.metaKey || t.ctrlKey) && t.shiftKey;
}, nx = function(a) {
  var t = (
    /** @type {KeyboardEvent|MouseEvent|TouchEvent} */
    a.originalEvent
  ), e = (
    /** @type {Element} */
    t.target.tagName
  );
  return e !== "INPUT" && e !== "SELECT" && e !== "TEXTAREA" && // `isContentEditable` is only available on `HTMLElement`, but it may also be a
  // different type like `SVGElement`.
  // @ts-ignore
  !t.target.isContentEditable;
}, Nf = function(a) {
  var t = (
    /** @type {import("../MapBrowserEvent").default} */
    a.originalEvent
  );
  return Ma(t !== void 0, 56), t.pointerType == "mouse";
}, $C = function(a) {
  var t = (
    /** @type {import("../MapBrowserEvent").default} */
    a.originalEvent
  );
  return Ma(t !== void 0, 56), t.isPrimary && t.button === 0;
}, ZC = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), HC = (
  /** @class */
  function(a) {
    ZC(t, a);
    function t(e) {
      var i = a.call(this, {
        stopDown: ip
      }) || this, n = e || {};
      i.kinetic_ = n.kinetic, i.lastCentroid = null, i.lastPointersCount_, i.panning_ = !1;
      var u = n.condition ? n.condition : Lg(ix, $C);
      return i.condition_ = n.onFocusOnly ? Lg(tx, u) : u, i.noKinetic_ = !1, i;
    }
    return t.prototype.handleDragEvent = function(e) {
      this.panning_ || (this.panning_ = !0, this.getMap().getView().beginInteraction());
      var i = this.targetPointers, n = fy(i);
      if (i.length == this.lastPointersCount_) {
        if (this.kinetic_ && this.kinetic_.update(n[0], n[1]), this.lastCentroid) {
          var u = [
            this.lastCentroid[0] - n[0],
            n[1] - this.lastCentroid[1]
          ], _ = e.map, o = _.getView();
          X3(u, o.getResolution()), Gg(u, o.getRotation()), o.adjustCenterInternal(u);
        }
      } else
        this.kinetic_ && this.kinetic_.begin();
      this.lastCentroid = n, this.lastPointersCount_ = i.length, e.originalEvent.preventDefault();
    }, t.prototype.handleUpEvent = function(e) {
      var i = e.map, n = i.getView();
      if (this.targetPointers.length === 0) {
        if (!this.noKinetic_ && this.kinetic_ && this.kinetic_.end()) {
          var u = this.kinetic_.getDistance(), _ = this.kinetic_.getAngle(), o = n.getCenterInternal(), y = i.getPixelFromCoordinateInternal(o), b = i.getCoordinateFromPixelInternal([
            y[0] - u * Math.cos(_),
            y[1] - u * Math.sin(_)
          ]);
          n.animateInternal({
            center: n.getConstrainedCenter(b),
            duration: 500,
            easing: _d
          });
        }
        return this.panning_ && (this.panning_ = !1, n.endInteraction()), !1;
      } else
        return this.kinetic_ && this.kinetic_.begin(), this.lastCentroid = null, !0;
    }, t.prototype.handleDownEvent = function(e) {
      if (this.targetPointers.length > 0 && this.condition_(e)) {
        var i = e.map, n = i.getView();
        return this.lastCentroid = null, n.getAnimating() && n.cancelAnimations(), this.kinetic_ && this.kinetic_.begin(), this.noKinetic_ = this.targetPointers.length > 1, !0;
      } else
        return !1;
    }, t;
  }(__)
);
const XC = HC;
var KC = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), YC = (
  /** @class */
  function(a) {
    KC(t, a);
    function t(e) {
      var i = this, n = e || {};
      return i = a.call(this, {
        stopDown: ip
      }) || this, i.condition_ = n.condition ? n.condition : GC, i.lastAngle_ = void 0, i.duration_ = n.duration !== void 0 ? n.duration : 250, i;
    }
    return t.prototype.handleDragEvent = function(e) {
      if (Nf(e)) {
        var i = e.map, n = i.getView();
        if (n.getConstraints().rotation !== my) {
          var u = i.getSize(), _ = e.pixel, o = Math.atan2(u[1] / 2 - _[1], _[0] - u[0] / 2);
          if (this.lastAngle_ !== void 0) {
            var y = o - this.lastAngle_;
            n.adjustRotationInternal(-y);
          }
          this.lastAngle_ = o;
        }
      }
    }, t.prototype.handleUpEvent = function(e) {
      if (!Nf(e))
        return !0;
      var i = e.map, n = i.getView();
      return n.endInteraction(this.duration_), !1;
    }, t.prototype.handleDownEvent = function(e) {
      if (!Nf(e))
        return !1;
      if (ax(e) && this.condition_(e)) {
        var i = e.map;
        return i.getView().beginInteraction(), this.lastAngle_ = void 0, !0;
      } else
        return !1;
    }, t;
  }(__)
);
const QC = YC;
var JC = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), eA = (
  /** @class */
  function(a) {
    JC(t, a);
    function t(e) {
      var i = a.call(this) || this;
      return i.geometry_ = null, i.element_ = document.createElement("div"), i.element_.style.position = "absolute", i.element_.style.pointerEvents = "auto", i.element_.className = "ol-box " + e, i.map_ = null, i.startPixel_ = null, i.endPixel_ = null, i;
    }
    return t.prototype.disposeInternal = function() {
      this.setMap(null);
    }, t.prototype.render_ = function() {
      var e = this.startPixel_, i = this.endPixel_, n = "px", u = this.element_.style;
      u.left = Math.min(e[0], i[0]) + n, u.top = Math.min(e[1], i[1]) + n, u.width = Math.abs(i[0] - e[0]) + n, u.height = Math.abs(i[1] - e[1]) + n;
    }, t.prototype.setMap = function(e) {
      if (this.map_) {
        this.map_.getOverlayContainer().removeChild(this.element_);
        var i = this.element_.style;
        i.left = "inherit", i.top = "inherit", i.width = "inherit", i.height = "inherit";
      }
      this.map_ = e, this.map_ && this.map_.getOverlayContainer().appendChild(this.element_);
    }, t.prototype.setPixels = function(e, i) {
      this.startPixel_ = e, this.endPixel_ = i, this.createOrUpdateGeometry(), this.render_();
    }, t.prototype.createOrUpdateGeometry = function() {
      var e = this.startPixel_, i = this.endPixel_, n = [
        e,
        [e[0], i[1]],
        i,
        [i[0], e[1]]
      ], u = n.map(this.map_.getCoordinateFromPixelInternal, this.map_);
      u[4] = u[0].slice(), this.geometry_ ? this.geometry_.setCoordinates([u]) : this.geometry_ = new Yb([u]);
    }, t.prototype.getGeometry = function() {
      return this.geometry_;
    }, t;
  }(ny)
);
const tA = eA;
var rx = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), zm = {
  /**
   * Triggered upon drag box start.
   * @event DragBoxEvent#boxstart
   * @api
   */
  BOXSTART: "boxstart",
  /**
   * Triggered on drag when box is active.
   * @event DragBoxEvent#boxdrag
   * @api
   */
  BOXDRAG: "boxdrag",
  /**
   * Triggered upon drag box end.
   * @event DragBoxEvent#boxend
   * @api
   */
  BOXEND: "boxend",
  /**
   * Triggered upon drag box canceled.
   * @event DragBoxEvent#boxcancel
   * @api
   */
  BOXCANCEL: "boxcancel"
}, qf = (
  /** @class */
  function(a) {
    rx(t, a);
    function t(e, i, n) {
      var u = a.call(this, e) || this;
      return u.coordinate = i, u.mapBrowserEvent = n, u;
    }
    return t;
  }(to)
), aA = (
  /** @class */
  function(a) {
    rx(t, a);
    function t(e) {
      var i = a.call(this) || this;
      i.on, i.once, i.un;
      var n = e || {};
      return i.box_ = new tA(n.className || "ol-dragbox"), i.minArea_ = n.minArea !== void 0 ? n.minArea : 64, n.onBoxEnd && (i.onBoxEnd = n.onBoxEnd), i.startPixel_ = null, i.condition_ = n.condition ? n.condition : ax, i.boxEndCondition_ = n.boxEndCondition ? n.boxEndCondition : i.defaultBoxEndCondition, i;
    }
    return t.prototype.defaultBoxEndCondition = function(e, i, n) {
      var u = n[0] - i[0], _ = n[1] - i[1];
      return u * u + _ * _ >= this.minArea_;
    }, t.prototype.getGeometry = function() {
      return this.box_.getGeometry();
    }, t.prototype.handleDragEvent = function(e) {
      this.box_.setPixels(this.startPixel_, e.pixel), this.dispatchEvent(new qf(zm.BOXDRAG, e.coordinate, e));
    }, t.prototype.handleUpEvent = function(e) {
      this.box_.setMap(null);
      var i = this.boxEndCondition_(e, this.startPixel_, e.pixel);
      return i && this.onBoxEnd(e), this.dispatchEvent(new qf(i ? zm.BOXEND : zm.BOXCANCEL, e.coordinate, e)), !1;
    }, t.prototype.handleDownEvent = function(e) {
      return this.condition_(e) ? (this.startPixel_ = e.pixel, this.box_.setMap(e.map), this.box_.setPixels(this.startPixel_, this.startPixel_), this.dispatchEvent(new qf(zm.BOXSTART, e.coordinate, e)), !0) : !1;
    }, t.prototype.onBoxEnd = function(e) {
    }, t;
  }(__)
);
const iA = aA;
var nA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), rA = (
  /** @class */
  function(a) {
    nA(t, a);
    function t(e) {
      var i = this, n = e || {}, u = n.condition ? n.condition : VC;
      return i = a.call(this, {
        condition: u,
        className: n.className || "ol-dragzoom",
        minArea: n.minArea
      }) || this, i.duration_ = n.duration !== void 0 ? n.duration : 200, i.out_ = n.out !== void 0 ? n.out : !1, i;
    }
    return t.prototype.onBoxEnd = function(e) {
      var i = this.getMap(), n = (
        /** @type {!import("../View.js").default} */
        i.getView()
      ), u = this.getGeometry();
      if (this.out_) {
        var _ = n.rotatedExtentForGeometry(u), o = n.getResolutionForExtentInternal(_), y = n.getResolution() / o;
        u = u.clone(), u.scale(y * y);
      }
      n.fitInternal(u, {
        duration: this.duration_,
        easing: _d
      });
    }, t;
  }(iA)
);
const sA = rA, Ol = {
  LEFT: 37,
  UP: 38,
  RIGHT: 39,
  DOWN: 40
};
var oA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), lA = (
  /** @class */
  function(a) {
    oA(t, a);
    function t(e) {
      var i = a.call(this) || this, n = e || {};
      return i.defaultCondition_ = function(u) {
        return ix(u) && nx(u);
      }, i.condition_ = n.condition !== void 0 ? n.condition : i.defaultCondition_, i.duration_ = n.duration !== void 0 ? n.duration : 100, i.pixelDelta_ = n.pixelDelta !== void 0 ? n.pixelDelta : 128, i;
    }
    return t.prototype.handleEvent = function(e) {
      var i = !1;
      if (e.type == Jt.KEYDOWN) {
        var n = (
          /** @type {KeyboardEvent} */
          e.originalEvent
        ), u = n.keyCode;
        if (this.condition_(e) && (u == Ol.DOWN || u == Ol.LEFT || u == Ol.RIGHT || u == Ol.UP)) {
          var _ = e.map, o = _.getView(), y = o.getResolution() * this.pixelDelta_, b = 0, S = 0;
          u == Ol.DOWN ? S = -y : u == Ol.LEFT ? b = -y : u == Ol.RIGHT ? b = y : S = y;
          var T = [b, S];
          Gg(T, o.getRotation()), WC(o, T, this.duration_), n.preventDefault(), i = !0;
        }
      }
      return !i;
    }, t;
  }(c_)
);
const uA = lA;
var dA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), cA = (
  /** @class */
  function(a) {
    dA(t, a);
    function t(e) {
      var i = a.call(this) || this, n = e || {};
      return i.condition_ = n.condition ? n.condition : nx, i.delta_ = n.delta ? n.delta : 1, i.duration_ = n.duration !== void 0 ? n.duration : 100, i;
    }
    return t.prototype.handleEvent = function(e) {
      var i = !1;
      if (e.type == Jt.KEYDOWN || e.type == Jt.KEYPRESS) {
        var n = (
          /** @type {KeyboardEvent} */
          e.originalEvent
        ), u = n.charCode;
        if (this.condition_(e) && (u == "+".charCodeAt(0) || u == "-".charCodeAt(0))) {
          var _ = e.map, o = u == "+".charCodeAt(0) ? this.delta_ : -this.delta_, y = _.getView();
          py(y, o, void 0, this.duration_), n.preventDefault(), i = !0;
        }
      }
      return !i;
    }, t;
  }(c_)
);
const _A = cA;
var mA = (
  /** @class */
  function() {
    function a(t, e, i) {
      this.decay_ = t, this.minVelocity_ = e, this.delay_ = i, this.points_ = [], this.angle_ = 0, this.initialVelocity_ = 0;
    }
    return a.prototype.begin = function() {
      this.points_.length = 0, this.angle_ = 0, this.initialVelocity_ = 0;
    }, a.prototype.update = function(t, e) {
      this.points_.push(t, e, Date.now());
    }, a.prototype.end = function() {
      if (this.points_.length < 6)
        return !1;
      var t = Date.now() - this.delay_, e = this.points_.length - 3;
      if (this.points_[e + 2] < t)
        return !1;
      for (var i = e - 3; i > 0 && this.points_[i + 2] > t; )
        i -= 3;
      var n = this.points_[e + 2] - this.points_[i + 2];
      if (n < 1e3 / 60)
        return !1;
      var u = this.points_[e] - this.points_[i], _ = this.points_[e + 1] - this.points_[i + 1];
      return this.angle_ = Math.atan2(_, u), this.initialVelocity_ = Math.sqrt(u * u + _ * _) / n, this.initialVelocity_ > this.minVelocity_;
    }, a.prototype.getDistance = function() {
      return (this.minVelocity_ - this.initialVelocity_) / this.decay_;
    }, a.prototype.getAngle = function() {
      return this.angle_;
    }, a;
  }()
);
const hA = mA;
var pA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), Ff = {
  TRACKPAD: "trackpad",
  WHEEL: "wheel"
}, fA = (
  /** @class */
  function(a) {
    pA(t, a);
    function t(e) {
      var i = this, n = e || {};
      i = a.call(
        this,
        /** @type {import("./Interaction.js").InteractionOptions} */
        n
      ) || this, i.totalDelta_ = 0, i.lastDelta_ = 0, i.maxDelta_ = n.maxDelta !== void 0 ? n.maxDelta : 1, i.duration_ = n.duration !== void 0 ? n.duration : 250, i.timeout_ = n.timeout !== void 0 ? n.timeout : 80, i.useAnchor_ = n.useAnchor !== void 0 ? n.useAnchor : !0, i.constrainResolution_ = n.constrainResolution !== void 0 ? n.constrainResolution : !1;
      var u = n.condition ? n.condition : jC;
      return i.condition_ = n.onFocusOnly ? Lg(tx, u) : u, i.lastAnchor_ = null, i.startTime_ = void 0, i.timeoutId_, i.mode_ = void 0, i.trackpadEventGap_ = 400, i.trackpadTimeoutId_, i.deltaPerZoom_ = 300, i;
    }
    return t.prototype.endInteraction_ = function() {
      this.trackpadTimeoutId_ = void 0;
      var e = this.getMap();
      if (e) {
        var i = e.getView();
        i.endInteraction(void 0, this.lastDelta_ ? this.lastDelta_ > 0 ? 1 : -1 : 0, this.lastAnchor_);
      }
    }, t.prototype.handleEvent = function(e) {
      if (!this.condition_(e))
        return !0;
      var i = e.type;
      if (i !== Jt.WHEEL)
        return !0;
      var n = e.map, u = (
        /** @type {WheelEvent} */
        e.originalEvent
      );
      u.preventDefault(), this.useAnchor_ && (this.lastAnchor_ = e.coordinate);
      var _;
      if (e.type == Jt.WHEEL && (_ = u.deltaY, kL && u.deltaMode === WheelEvent.DOM_DELTA_PIXEL && (_ /= Ob), u.deltaMode === WheelEvent.DOM_DELTA_LINE && (_ *= 40)), _ === 0)
        return !1;
      this.lastDelta_ = _;
      var o = Date.now();
      this.startTime_ === void 0 && (this.startTime_ = o), (!this.mode_ || o - this.startTime_ > this.trackpadEventGap_) && (this.mode_ = Math.abs(_) < 4 ? Ff.TRACKPAD : Ff.WHEEL);
      var y = n.getView();
      if (this.mode_ === Ff.TRACKPAD && !(y.getConstrainResolution() || this.constrainResolution_))
        return this.trackpadTimeoutId_ ? clearTimeout(this.trackpadTimeoutId_) : (y.getAnimating() && y.cancelAnimations(), y.beginInteraction()), this.trackpadTimeoutId_ = setTimeout(this.endInteraction_.bind(this), this.timeout_), y.adjustZoom(-_ / this.deltaPerZoom_, this.lastAnchor_), this.startTime_ = o, !1;
      this.totalDelta_ += _;
      var b = Math.max(this.timeout_ - (o - this.startTime_), 0);
      return clearTimeout(this.timeoutId_), this.timeoutId_ = setTimeout(this.handleWheelZoom_.bind(this, n), b), !1;
    }, t.prototype.handleWheelZoom_ = function(e) {
      var i = e.getView();
      i.getAnimating() && i.cancelAnimations();
      var n = -Ri(this.totalDelta_, -this.maxDelta_ * this.deltaPerZoom_, this.maxDelta_ * this.deltaPerZoom_) / this.deltaPerZoom_;
      (i.getConstrainResolution() || this.constrainResolution_) && (n = n ? n > 0 ? 1 : -1 : 0), py(i, n, this.lastAnchor_, this.duration_), this.mode_ = void 0, this.totalDelta_ = 0, this.lastAnchor_ = null, this.startTime_ = void 0, this.timeoutId_ = void 0;
    }, t.prototype.setMouseAnchor = function(e) {
      this.useAnchor_ = e, e || (this.lastAnchor_ = null);
    }, t;
  }(c_)
);
const gA = fA;
var yA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), vA = (
  /** @class */
  function(a) {
    yA(t, a);
    function t(e) {
      var i = this, n = e || {}, u = (
        /** @type {import("./Pointer.js").Options} */
        n
      );
      return u.stopDown || (u.stopDown = ip), i = a.call(this, u) || this, i.anchor_ = null, i.lastAngle_ = void 0, i.rotating_ = !1, i.rotationDelta_ = 0, i.threshold_ = n.threshold !== void 0 ? n.threshold : 0.3, i.duration_ = n.duration !== void 0 ? n.duration : 250, i;
    }
    return t.prototype.handleDragEvent = function(e) {
      var i = 0, n = this.targetPointers[0], u = this.targetPointers[1], _ = Math.atan2(u.clientY - n.clientY, u.clientX - n.clientX);
      if (this.lastAngle_ !== void 0) {
        var o = _ - this.lastAngle_;
        this.rotationDelta_ += o, !this.rotating_ && Math.abs(this.rotationDelta_) > this.threshold_ && (this.rotating_ = !0), i = o;
      }
      this.lastAngle_ = _;
      var y = e.map, b = y.getView();
      if (b.getConstraints().rotation !== my) {
        var S = y.getViewport().getBoundingClientRect(), T = fy(this.targetPointers);
        T[0] -= S.left, T[1] -= S.top, this.anchor_ = y.getCoordinateFromPixelInternal(T), this.rotating_ && (y.render(), b.adjustRotationInternal(i, this.anchor_));
      }
    }, t.prototype.handleUpEvent = function(e) {
      if (this.targetPointers.length < 2) {
        var i = e.map, n = i.getView();
        return n.endInteraction(this.duration_), !1;
      } else
        return !0;
    }, t.prototype.handleDownEvent = function(e) {
      if (this.targetPointers.length >= 2) {
        var i = e.map;
        return this.anchor_ = null, this.lastAngle_ = void 0, this.rotating_ = !1, this.rotationDelta_ = 0, this.handlingDownUpSequence || i.getView().beginInteraction(), !0;
      } else
        return !1;
    }, t;
  }(__)
);
const bA = vA;
var xA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), wA = (
  /** @class */
  function(a) {
    xA(t, a);
    function t(e) {
      var i = this, n = e || {}, u = (
        /** @type {import("./Pointer.js").Options} */
        n
      );
      return u.stopDown || (u.stopDown = ip), i = a.call(this, u) || this, i.anchor_ = null, i.duration_ = n.duration !== void 0 ? n.duration : 400, i.lastDistance_ = void 0, i.lastScaleDelta_ = 1, i;
    }
    return t.prototype.handleDragEvent = function(e) {
      var i = 1, n = this.targetPointers[0], u = this.targetPointers[1], _ = n.clientX - u.clientX, o = n.clientY - u.clientY, y = Math.sqrt(_ * _ + o * o);
      this.lastDistance_ !== void 0 && (i = this.lastDistance_ / y), this.lastDistance_ = y;
      var b = e.map, S = b.getView();
      i != 1 && (this.lastScaleDelta_ = i);
      var T = b.getViewport().getBoundingClientRect(), L = fy(this.targetPointers);
      L[0] -= T.left, L[1] -= T.top, this.anchor_ = b.getCoordinateFromPixelInternal(L), b.render(), S.adjustResolutionInternal(i, this.anchor_);
    }, t.prototype.handleUpEvent = function(e) {
      if (this.targetPointers.length < 2) {
        var i = e.map, n = i.getView(), u = this.lastScaleDelta_ > 1 ? 1 : -1;
        return n.endInteraction(this.duration_, u), !1;
      } else
        return !0;
    }, t.prototype.handleDownEvent = function(e) {
      if (this.targetPointers.length >= 2) {
        var i = e.map;
        return this.anchor_ = null, this.lastDistance_ = void 0, this.lastScaleDelta_ = 1, this.handlingDownUpSequence || i.getView().beginInteraction(), !0;
      } else
        return !1;
    }, t;
  }(__)
);
const SA = wA, Za = {
  IDLE: 0,
  LOADING: 1,
  LOADED: 2,
  ERROR: 3,
  EMPTY: 4
};
var TA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), MA = (
  /** @class */
  function(a) {
    TA(t, a);
    function t(e) {
      var i = a.call(this) || this;
      return i.ready = !0, i.boundHandleImageChange_ = i.handleImageChange_.bind(i), i.layer_ = e, i.declutterExecutorGroup = null, i;
    }
    return t.prototype.getFeatures = function(e) {
      return Ga();
    }, t.prototype.getData = function(e) {
      return null;
    }, t.prototype.prepareFrame = function(e) {
      return Ga();
    }, t.prototype.renderFrame = function(e, i) {
      return Ga();
    }, t.prototype.loadedTileCallback = function(e, i, n) {
      e[i] || (e[i] = {}), e[i][n.tileCoord.toString()] = n;
    }, t.prototype.createLoadedTileFinder = function(e, i, n) {
      return (
        /**
         * @param {number} zoom Zoom level.
         * @param {import("../TileRange.js").default} tileRange Tile range.
         * @return {boolean} The tile range is fully loaded.
         * @this {LayerRenderer}
         */
        function(u, _) {
          var o = this.loadedTileCallback.bind(this, n, u);
          return e.forEachLoadedTile(i, u, _, o);
        }.bind(this)
      );
    }, t.prototype.forEachFeatureAtCoordinate = function(e, i, n, u, _) {
    }, t.prototype.getDataAtPixel = function(e, i, n) {
      return null;
    }, t.prototype.getLayer = function() {
      return this.layer_;
    }, t.prototype.handleFontsChanged = function() {
    }, t.prototype.handleImageChange_ = function(e) {
      var i = (
        /** @type {import("../Image.js").default} */
        e.target
      );
      i.getState() === Za.LOADED && this.renderIfReadyAndVisible();
    }, t.prototype.loadImage = function(e) {
      var i = e.getState();
      return i != Za.LOADED && i != Za.ERROR && e.addEventListener(Jt.CHANGE, this.boundHandleImageChange_), i == Za.IDLE && (e.load(), i = e.getState()), i == Za.LOADED;
    }, t.prototype.renderIfReadyAndVisible = function() {
      var e = this.getLayer();
      e && e.getVisible() && e.getSourceState() === "ready" && e.changed();
    }, t.prototype.disposeInternal = function() {
      delete this.layer_, a.prototype.disposeInternal.call(this);
    }, t;
  }(Ib)
);
const EA = MA;
var LA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), Fu = null;
function CA() {
  var a = document.createElement("canvas");
  a.width = 1, a.height = 1, Fu = a.getContext("2d");
}
var AA = (
  /** @class */
  function(a) {
    LA(t, a);
    function t(e) {
      var i = a.call(this, e) || this;
      return i.container = null, i.renderedResolution, i.tempTransform = id(), i.pixelTransform = id(), i.inversePixelTransform = id(), i.context = null, i.containerReused = !1, i.pixelContext_ = null, i.frameState = null, i;
    }
    return t.prototype.getImageData = function(e, i, n) {
      Fu || CA(), Fu.clearRect(0, 0, 1, 1);
      var u;
      try {
        Fu.drawImage(e, i, n, 1, 1, 0, 0, 1, 1), u = Fu.getImageData(0, 0, 1, 1).data;
      } catch {
        return Fu = null, null;
      }
      return u;
    }, t.prototype.getBackground = function(e) {
      var i = this.getLayer(), n = i.getBackground();
      return typeof n == "function" && (n = n(e.viewState.resolution)), n || void 0;
    }, t.prototype.useContainer = function(e, i, n) {
      var u = this.getLayer().getClassName(), _, o;
      if (e && e.className === u && (!n || e && e.style.backgroundColor && sy(Pv(e.style.backgroundColor), Pv(n)))) {
        var y = e.firstElementChild;
        y instanceof HTMLCanvasElement && (o = y.getContext("2d"));
      }
      if (o && o.canvas.style.transform === i ? (this.container = e, this.context = o, this.containerReused = !0) : this.containerReused && (this.container = null, this.context = null, this.containerReused = !1), !this.container) {
        _ = document.createElement("div"), _.className = u;
        var b = _.style;
        b.position = "absolute", b.width = "100%", b.height = "100%", o = Oh();
        var y = o.canvas;
        _.appendChild(y), b = y.style, b.position = "absolute", b.left = "0", b.transformOrigin = "top left", this.container = _, this.context = o;
      }
      !this.containerReused && n && !this.container.style.backgroundColor && (this.container.style.backgroundColor = n);
    }, t.prototype.clipUnrotated = function(e, i, n) {
      var u = Xo(n), _ = Xh(n), o = Hh(n), y = Zh(n);
      Nn(i.coordinateToPixelTransform, u), Nn(i.coordinateToPixelTransform, _), Nn(i.coordinateToPixelTransform, o), Nn(i.coordinateToPixelTransform, y);
      var b = this.inversePixelTransform;
      Nn(b, u), Nn(b, _), Nn(b, o), Nn(b, y), e.save(), e.beginPath(), e.moveTo(Math.round(u[0]), Math.round(u[1])), e.lineTo(Math.round(_[0]), Math.round(_[1])), e.lineTo(Math.round(o[0]), Math.round(o[1])), e.lineTo(Math.round(y[0]), Math.round(y[1])), e.clip();
    }, t.prototype.dispatchRenderEvent_ = function(e, i, n) {
      var u = this.getLayer();
      if (u.hasListener(e)) {
        var _ = new qb(e, this.inversePixelTransform, n, i);
        u.dispatchEvent(_);
      }
    }, t.prototype.preRender = function(e, i) {
      this.frameState = i, this.dispatchRenderEvent_(Go.PRERENDER, e, i);
    }, t.prototype.postRender = function(e, i) {
      this.dispatchRenderEvent_(Go.POSTRENDER, e, i);
    }, t.prototype.getRenderTransform = function(e, i, n, u, _, o, y) {
      var b = _ / 2, S = o / 2, T = u / i, L = -T, R = -e[0] + y, D = -e[1];
      return Xl(this.tempTransform, b, S, T, L, -n, R, D);
    }, t.prototype.getDataAtPixel = function(e, i, n) {
      var u = Nn(this.inversePixelTransform, e.slice()), _ = this.context, o = this.getLayer(), y = o.getExtent();
      if (y) {
        var b = Nn(i.pixelToCoordinateTransform, e.slice());
        if (!Kc(y, b))
          return null;
      }
      var S = Math.round(u[0]), T = Math.round(u[1]), L = this.pixelContext_;
      if (!L) {
        var R = document.createElement("canvas");
        R.width = 1, R.height = 1, L = R.getContext("2d"), this.pixelContext_ = L;
      }
      L.clearRect(0, 0, 1, 1);
      var D;
      try {
        L.drawImage(_.canvas, S, T, 1, 1, 0, 0, 1, 1), D = L.getImageData(0, 0, 1, 1).data;
      } catch (j) {
        return j.name === "SecurityError" ? (this.pixelContext_ = null, new Uint8Array()) : D;
      }
      return D[3] === 0 ? null : D;
    }, t.prototype.disposeInternal = function() {
      delete this.frameState, a.prototype.disposeInternal.call(this);
    }, t;
  }(EA)
);
const sx = AA;
var IA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), PA = (
  /** @class */
  function(a) {
    IA(t, a);
    function t(e, i, n, u) {
      var _ = a.call(this) || this;
      return _.extent = e, _.pixelRatio_ = n, _.resolution = i, _.state = u, _;
    }
    return t.prototype.changed = function() {
      this.dispatchEvent(Jt.CHANGE);
    }, t.prototype.getExtent = function() {
      return this.extent;
    }, t.prototype.getImage = function() {
      return Ga();
    }, t.prototype.getPixelRatio = function() {
      return this.pixelRatio_;
    }, t.prototype.getResolution = function() {
      return (
        /** @type {number} */
        this.resolution
      );
    }, t.prototype.getState = function() {
      return this.state;
    }, t.prototype.load = function() {
      Ga();
    }, t;
  }(u_)
);
const ox = PA;
var OA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), RA = (
  /** @class */
  function(a) {
    OA(t, a);
    function t(e, i, n, u, _, o) {
      var y = a.call(this, e, i, n, Za.IDLE) || this;
      return y.src_ = u, y.image_ = new Image(), _ !== null && (y.image_.crossOrigin = _), y.unlisten_ = null, y.state = Za.IDLE, y.imageLoadFunction_ = o, y;
    }
    return t.prototype.getImage = function() {
      return this.image_;
    }, t.prototype.handleImageError_ = function() {
      this.state = Za.ERROR, this.unlistenImage_(), this.changed();
    }, t.prototype.handleImageLoad_ = function() {
      this.resolution === void 0 && (this.resolution = Yi(this.extent) / this.image_.height), this.state = Za.LOADED, this.unlistenImage_(), this.changed();
    }, t.prototype.load = function() {
      (this.state == Za.IDLE || this.state == Za.ERROR) && (this.state = Za.LOADING, this.changed(), this.imageLoadFunction_(this, this.src_), this.unlisten_ = lx(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this)));
    }, t.prototype.setImage = function(e) {
      this.image_ = e, this.resolution = Yi(this.extent) / this.image_.height;
    }, t.prototype.unlistenImage_ = function() {
      this.unlisten_ && (this.unlisten_(), this.unlisten_ = null);
    }, t;
  }(ox)
);
function lx(a, t, e) {
  var i = (
    /** @type {HTMLImageElement} */
    a
  ), n = !0, u = !1, _ = !1, o = [
    Ph(i, Jt.LOAD, function() {
      _ = !0, u || t();
    })
  ];
  return i.src && BL ? (u = !0, i.decode().then(function() {
    n && t();
  }).catch(function(y) {
    n && (_ ? t() : e());
  })) : o.push(Ph(i, Jt.ERROR, e)), function() {
    n = !1, o.forEach(ci);
  };
}
const kA = RA;
var DA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), WA = (
  /** @class */
  function(a) {
    DA(t, a);
    function t(e) {
      var i = a.call(this) || this;
      i.projection = Di(e.projection), i.attributions_ = Vv(e.attributions), i.attributionsCollapsible_ = e.attributionsCollapsible !== void 0 ? e.attributionsCollapsible : !0, i.loading = !1, i.state_ = e.state !== void 0 ? e.state : "ready", i.wrapX_ = e.wrapX !== void 0 ? e.wrapX : !1, i.interpolate_ = !!e.interpolate, i.viewResolver = null, i.viewRejector = null;
      var n = i;
      return i.viewPromise_ = new Promise(function(u, _) {
        n.viewResolver = u, n.viewRejector = _;
      }), i;
    }
    return t.prototype.getAttributions = function() {
      return this.attributions_;
    }, t.prototype.getAttributionsCollapsible = function() {
      return this.attributionsCollapsible_;
    }, t.prototype.getProjection = function() {
      return this.projection;
    }, t.prototype.getResolutions = function() {
      return Ga();
    }, t.prototype.getView = function() {
      return this.viewPromise_;
    }, t.prototype.getState = function() {
      return this.state_;
    }, t.prototype.getWrapX = function() {
      return this.wrapX_;
    }, t.prototype.getInterpolate = function() {
      return this.interpolate_;
    }, t.prototype.refresh = function() {
      this.changed();
    }, t.prototype.setAttributions = function(e) {
      this.attributions_ = Vv(e), this.changed();
    }, t.prototype.setState = function(e) {
      this.state_ = e, this.changed();
    }, t;
  }(ao)
);
function Vv(a) {
  return a ? Array.isArray(a) ? function(t) {
    return a;
  } : typeof a == "function" ? a : function(t) {
    return [a];
  } : null;
}
const ux = WA;
function zA(a) {
  var t = a || {}, e = new Yr(), i = new hA(-5e-3, 0.05, 100), n = t.altShiftDragRotate !== void 0 ? t.altShiftDragRotate : !0;
  n && e.push(new QC());
  var u = t.doubleClickZoom !== void 0 ? t.doubleClickZoom : !0;
  u && e.push(new NC({
    delta: t.zoomDelta,
    duration: t.zoomDuration
  }));
  var _ = t.dragPan !== void 0 ? t.dragPan : !0;
  _ && e.push(new XC({
    onFocusOnly: t.onFocusOnly,
    kinetic: i
  }));
  var o = t.pinchRotate !== void 0 ? t.pinchRotate : !0;
  o && e.push(new bA());
  var y = t.pinchZoom !== void 0 ? t.pinchZoom : !0;
  y && e.push(new SA({
    duration: t.zoomDuration
  }));
  var b = t.keyboard !== void 0 ? t.keyboard : !0;
  b && (e.push(new uA()), e.push(new _A({
    delta: t.zoomDelta,
    duration: t.zoomDuration
  })));
  var S = t.mouseWheelZoom !== void 0 ? t.mouseWheelZoom : !0;
  S && e.push(new gA({
    onFocusOnly: t.onFocusOnly,
    duration: t.zoomDuration
  }));
  var T = t.shiftDragZoom !== void 0 ? t.shiftDragZoom : !0;
  return T && e.push(new sA({
    duration: t.zoomDuration
  })), e;
}
var BA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), NA = (
  /** @class */
  function(a) {
    BA(t, a);
    function t(e) {
      return e = Xa({}, e), e.controls || (e.controls = ex()), e.interactions || (e.interactions = zA({
        onFocusOnly: !0
      })), a.call(this, e) || this;
    }
    return t.prototype.createRenderer = function() {
      return new M7(this);
    }, t;
  }(RC)
);
const qA = NA, Dc = "EPSG:3857", dx = "EPSG:4326", FA = "EPSG:2169";
let $v;
function ql() {
  function a() {
    return $v;
  }
  function t(b) {
    $v = new qA({
      view: new Ro({
        zoom: 10,
        center: [682439, 6379152],
        multiWorld: !0
      }),
      target: b,
      controls: ex({
        zoom: !1,
        rotate: !1
      })
    });
  }
  function e(b, S) {
    return b === S;
  }
  function i(b, S) {
    var T;
    return (T = b.layers) == null ? void 0 : T.some((L) => e(S, L));
  }
  function n(b, S) {
    var L;
    return ((L = b == null ? void 0 : b.layers) == null ? void 0 : L.find((R) => R.id === S.id)) === S;
  }
  function u(b, S) {
    return !(S === null || !("layers" in b) || !("layers" in S) || typeof S.layers > "u" || typeof b.layers > "u" || b.layers === S.layers);
  }
  function _(b, S) {
    return !("layers" in b) || typeof b.layers > "u" ? [] : S === null || !("layers" in S) ? b.layers.map((T, L) => ({ layer: T, position: L })) : b.layers === S.layers ? [] : b.layers.reduce(
      (T, L, R) => i(S, L) ? T : [
        ...T,
        {
          layer: L,
          position: R
        }
      ],
      []
    );
  }
  function o(b, S) {
    return u(b, S) ? S.layers.reduce(
      (T, L) => i(b, L) ? T : [...T, L],
      []
    ) : [];
  }
  function y(b, S) {
    return u(b, S) ? b.layers.reduce(
      (T, L) => n(S, L) ? [...T, L] : T,
      []
    ) : [];
  }
  return {
    getOlMap: a,
    createMap: t,
    equalsLayer: e,
    hasLayer: i,
    layerHasChanged: n,
    contextHasChanged: u,
    getAddedLayers: _,
    getRemovedLayers: o,
    getMutatedLayers: y
  };
}
var GA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), UA = (
  /** @class */
  function(a) {
    GA(t, a);
    function t(e) {
      var i = e || {};
      return a.call(this, i) || this;
    }
    return t;
  }(d_)
);
const jA = UA;
var cx = 0.5, Dh = {
  imageSmoothingEnabled: !1,
  msImageSmoothingEnabled: !1
}, _x = {
  imageSmoothingEnabled: !0,
  msImageSmoothingEnabled: !0
}, VA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), $A = (
  /** @class */
  function(a) {
    VA(t, a);
    function t(e) {
      var i = a.call(this, e) || this;
      return i.image_ = null, i;
    }
    return t.prototype.getImage = function() {
      return this.image_ ? this.image_.getImage() : null;
    }, t.prototype.prepareFrame = function(e) {
      var i = e.layerStatesArray[e.layerIndex], n = e.pixelRatio, u = e.viewState, _ = u.resolution, o = this.getLayer().getSource(), y = e.viewHints, b = e.extent;
      if (i.extent !== void 0 && (b = Nl(b, Do(i.extent, u.projection))), !y[Kn.ANIMATING] && !y[Kn.INTERACTING] && !Kh(b))
        if (o) {
          var S = u.projection, T = o.getImage(b, _, n, S);
          T && (this.loadImage(T) ? this.image_ = T : T.getState() === Za.EMPTY && (this.image_ = null));
        } else
          this.image_ = null;
      return !!this.image_;
    }, t.prototype.getData = function(e) {
      var i = this.frameState;
      if (!i)
        return null;
      var n = this.getLayer(), u = Nn(i.pixelToCoordinateTransform, e.slice()), _ = n.getExtent();
      if (_ && !Kc(_, u))
        return null;
      var o = this.image_.getExtent(), y = this.image_.getImage(), b = Ha(o), S = Math.floor(y.width * ((u[0] - o[0]) / b));
      if (S < 0 || S >= y.width)
        return null;
      var T = Yi(o), L = Math.floor(y.height * ((o[3] - u[1]) / T));
      return L < 0 || L >= y.height ? null : this.getImageData(y, S, L);
    }, t.prototype.renderFrame = function(e, i) {
      var n = this.image_, u = n.getExtent(), _ = n.getResolution(), o = n.getPixelRatio(), y = e.layerStatesArray[e.layerIndex], b = e.pixelRatio, S = e.viewState, T = S.center, L = S.resolution, R = b * _ / (L * o), D = e.extent, j = S.resolution, Q = S.rotation, ie = Math.round(Ha(D) / j * b), J = Math.round(Yi(D) / j * b);
      Xl(this.pixelTransform, e.size[0] / 2, e.size[1] / 2, 1 / b, 1 / b, Q, -ie / 2, -J / 2), uy(this.inversePixelTransform, this.pixelTransform);
      var _e = Bb(this.pixelTransform);
      this.useContainer(i, _e, this.getBackground(e));
      var ce = this.context, we = ce.canvas;
      we.width != ie || we.height != J ? (we.width = ie, we.height = J) : this.containerReused || ce.clearRect(0, 0, ie, J);
      var Be = !1, Ee = !0;
      if (y.extent) {
        var Fe = Do(y.extent, S.projection);
        Ee = Yc(Fe, e.extent), Be = Ee && !Fg(Fe, e.extent), Be && this.clipUnrotated(ce, e, Fe);
      }
      var We = n.getImage(), ke = Xl(this.tempTransform, ie / 2, J / 2, R, R, 0, o * (u[0] - T[0]) / _, o * (T[1] - u[3]) / _);
      this.renderedResolution = _ * b / o;
      var Ze = We.width * ke[0], ft = We.height * ke[3];
      if (this.getLayer().getSource().getInterpolate() || Xa(ce, Dh), this.preRender(ce, e), Ee && Ze >= 0.5 && ft >= 0.5) {
        var St = ke[4], ye = ke[5], Re = y.opacity, Me = void 0;
        Re !== 1 && (Me = ce.globalAlpha, ce.globalAlpha = Re), ce.drawImage(We, 0, 0, +We.width, +We.height, St, ye, Ze, ft), Re !== 1 && (ce.globalAlpha = Me);
      }
      return this.postRender(ce, e), Be && ce.restore(), Xa(ce, _x), _e !== we.style.transform && (we.style.transform = _e), this.container;
    }, t;
  }(sx)
);
const ZA = $A;
var HA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), XA = (
  /** @class */
  function(a) {
    HA(t, a);
    function t(e) {
      return a.call(this, e) || this;
    }
    return t.prototype.createRenderer = function() {
      return new ZA(this);
    }, t.prototype.getData = function(e) {
      return a.prototype.getData.call(this, e);
    }, t;
  }(jA)
);
const KA = XA, Bm = {
  PRELOAD: "preload",
  USE_INTERIM_TILES_ON_ERROR: "useInterimTilesOnError"
};
var YA = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), QA = (
  /** @class */
  function(a) {
    YA(t, a);
    function t(e) {
      var i = this, n = e || {}, u = Xa({}, n);
      return delete u.preload, delete u.useInterimTilesOnError, i = a.call(this, u) || this, i.on, i.once, i.un, i.setPreload(n.preload !== void 0 ? n.preload : 0), i.setUseInterimTilesOnError(n.useInterimTilesOnError !== void 0 ? n.useInterimTilesOnError : !0), i;
    }
    return t.prototype.getPreload = function() {
      return (
        /** @type {number} */
        this.get(Bm.PRELOAD)
      );
    }, t.prototype.setPreload = function(e) {
      this.set(Bm.PRELOAD, e);
    }, t.prototype.getUseInterimTilesOnError = function() {
      return (
        /** @type {boolean} */
        this.get(Bm.USE_INTERIM_TILES_ON_ERROR)
      );
    }, t.prototype.setUseInterimTilesOnError = function(e) {
      this.set(Bm.USE_INTERIM_TILES_ON_ERROR, e);
    }, t.prototype.getData = function(e) {
      return a.prototype.getData.call(this, e);
    }, t;
  }(d_)
);
const JA = QA;
var eI = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), tI = (
  /** @class */
  function(a) {
    eI(t, a);
    function t(e, i, n) {
      var u = a.call(this) || this, _ = n || {};
      return u.tileCoord = e, u.state = i, u.interimTile = null, u.key = "", u.transition_ = _.transition === void 0 ? 250 : _.transition, u.transitionStarts_ = {}, u.interpolate = !!_.interpolate, u;
    }
    return t.prototype.changed = function() {
      this.dispatchEvent(Jt.CHANGE);
    }, t.prototype.release = function() {
    }, t.prototype.getKey = function() {
      return this.key + "/" + this.tileCoord;
    }, t.prototype.getInterimTile = function() {
      if (!this.interimTile)
        return this;
      var e = this.interimTile;
      do {
        if (e.getState() == It.LOADED)
          return this.transition_ = 0, e;
        e = e.interimTile;
      } while (e);
      return this;
    }, t.prototype.refreshInterimChain = function() {
      if (this.interimTile) {
        var e = this.interimTile, i = this;
        do {
          if (e.getState() == It.LOADED) {
            e.interimTile = null;
            break;
          } else
            e.getState() == It.LOADING ? i = e : e.getState() == It.IDLE ? i.interimTile = e.interimTile : i = e;
          e = i.interimTile;
        } while (e);
      }
    }, t.prototype.getTileCoord = function() {
      return this.tileCoord;
    }, t.prototype.getState = function() {
      return this.state;
    }, t.prototype.setState = function(e) {
      if (this.state !== It.ERROR && this.state > e)
        throw new Error("Tile load sequence violation");
      this.state = e, this.changed();
    }, t.prototype.load = function() {
      Ga();
    }, t.prototype.getAlpha = function(e, i) {
      if (!this.transition_)
        return 1;
      var n = this.transitionStarts_[e];
      if (!n)
        n = i, this.transitionStarts_[e] = n;
      else if (n === -1)
        return 1;
      var u = i - n + 1e3 / 60;
      return u >= this.transition_ ? 1 : zb(u / this.transition_);
    }, t.prototype.inTransition = function(e) {
      return this.transition_ ? this.transitionStarts_[e] !== -1 : !1;
    }, t.prototype.endTransition = function(e) {
      this.transition_ && (this.transitionStarts_[e] = -1);
    }, t;
  }(u_)
);
const mx = tI;
var aI = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), iI = (
  /** @class */
  function(a) {
    aI(t, a);
    function t(e, i, n, u, _, o) {
      var y = a.call(this, e, i, o) || this;
      return y.crossOrigin_ = u, y.src_ = n, y.key = n, y.image_ = new Image(), u !== null && (y.image_.crossOrigin = u), y.unlisten_ = null, y.tileLoadFunction_ = _, y;
    }
    return t.prototype.getImage = function() {
      return this.image_;
    }, t.prototype.setImage = function(e) {
      this.image_ = e, this.state = It.LOADED, this.unlistenImage_(), this.changed();
    }, t.prototype.handleImageError_ = function() {
      this.state = It.ERROR, this.unlistenImage_(), this.image_ = nI(), this.changed();
    }, t.prototype.handleImageLoad_ = function() {
      var e = (
        /** @type {HTMLImageElement} */
        this.image_
      );
      e.naturalWidth && e.naturalHeight ? this.state = It.LOADED : this.state = It.EMPTY, this.unlistenImage_(), this.changed();
    }, t.prototype.load = function() {
      this.state == It.ERROR && (this.state = It.IDLE, this.image_ = new Image(), this.crossOrigin_ !== null && (this.image_.crossOrigin = this.crossOrigin_)), this.state == It.IDLE && (this.state = It.LOADING, this.changed(), this.tileLoadFunction_(this, this.src_), this.unlisten_ = lx(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this)));
    }, t.prototype.unlistenImage_ = function() {
      this.unlisten_ && (this.unlisten_(), this.unlisten_ = null);
    }, t;
  }(mx)
);
function nI() {
  var a = Oh(1, 1);
  return a.fillStyle = "rgba(0,0,0,0)", a.fillRect(0, 0, 1, 1), a.canvas;
}
const hx = iI;
var rI = 10, Zv = 0.25, sI = (
  /** @class */
  function() {
    function a(t, e, i, n, u, _) {
      this.sourceProj_ = t, this.targetProj_ = e;
      var o = {}, y = rd(this.targetProj_, this.sourceProj_);
      this.transformInv_ = function(_e) {
        var ce = _e[0] + "/" + _e[1];
        return o[ce] || (o[ce] = y(_e)), o[ce];
      }, this.maxSourceExtent_ = n, this.errorThresholdSquared_ = u * u, this.triangles_ = [], this.wrapsXInSource_ = !1, this.canWrapXInSource_ = this.sourceProj_.canWrapX() && !!n && !!this.sourceProj_.getExtent() && Ha(n) == Ha(this.sourceProj_.getExtent()), this.sourceWorldWidth_ = this.sourceProj_.getExtent() ? Ha(this.sourceProj_.getExtent()) : null, this.targetWorldWidth_ = this.targetProj_.getExtent() ? Ha(this.targetProj_.getExtent()) : null;
      var b = Xo(i), S = Xh(i), T = Hh(i), L = Zh(i), R = this.transformInv_(b), D = this.transformInv_(S), j = this.transformInv_(T), Q = this.transformInv_(L), ie = rI + (_ ? Math.max(0, Math.ceil(f3(dg(i) / (_ * _ * 256 * 256)))) : 0);
      if (this.addQuad_(b, S, T, L, R, D, j, Q, ie), this.wrapsXInSource_) {
        var J = 1 / 0;
        this.triangles_.forEach(function(_e, ce, we) {
          J = Math.min(J, _e.source[0][0], _e.source[1][0], _e.source[2][0]);
        }), this.triangles_.forEach(function(_e) {
          if (Math.max(_e.source[0][0], _e.source[1][0], _e.source[2][0]) - J > this.sourceWorldWidth_ / 2) {
            var ce = [
              [_e.source[0][0], _e.source[0][1]],
              [_e.source[1][0], _e.source[1][1]],
              [_e.source[2][0], _e.source[2][1]]
            ];
            ce[0][0] - J > this.sourceWorldWidth_ / 2 && (ce[0][0] -= this.sourceWorldWidth_), ce[1][0] - J > this.sourceWorldWidth_ / 2 && (ce[1][0] -= this.sourceWorldWidth_), ce[2][0] - J > this.sourceWorldWidth_ / 2 && (ce[2][0] -= this.sourceWorldWidth_);
            var we = Math.min(ce[0][0], ce[1][0], ce[2][0]), Be = Math.max(ce[0][0], ce[1][0], ce[2][0]);
            Be - we < this.sourceWorldWidth_ / 2 && (_e.source = ce);
          }
        }.bind(this));
      }
      o = {};
    }
    return a.prototype.addTriangle_ = function(t, e, i, n, u, _) {
      this.triangles_.push({
        source: [n, u, _],
        target: [t, e, i]
      });
    }, a.prototype.addQuad_ = function(t, e, i, n, u, _, o, y, b) {
      var S = ug([u, _, o, y]), T = this.sourceWorldWidth_ ? Ha(S) / this.sourceWorldWidth_ : null, L = (
        /** @type {number} */
        this.sourceWorldWidth_
      ), R = this.sourceProj_.canWrapX() && T > 0.5 && T < 1, D = !1;
      if (b > 0) {
        if (this.targetProj_.isGlobal() && this.targetWorldWidth_) {
          var j = ug([t, e, i, n]), Q = Ha(j) / this.targetWorldWidth_;
          D = Q > Zv || D;
        }
        !R && this.sourceProj_.isGlobal() && T && (D = T > Zv || D);
      }
      if (!(!D && this.maxSourceExtent_ && isFinite(S[0]) && isFinite(S[1]) && isFinite(S[2]) && isFinite(S[3]) && !Yc(S, this.maxSourceExtent_))) {
        var ie = 0;
        if (!D && (!isFinite(u[0]) || !isFinite(u[1]) || !isFinite(_[0]) || !isFinite(_[1]) || !isFinite(o[0]) || !isFinite(o[1]) || !isFinite(y[0]) || !isFinite(y[1]))) {
          if (b > 0)
            D = !0;
          else if (ie = (!isFinite(u[0]) || !isFinite(u[1]) ? 8 : 0) + (!isFinite(_[0]) || !isFinite(_[1]) ? 4 : 0) + (!isFinite(o[0]) || !isFinite(o[1]) ? 2 : 0) + (!isFinite(y[0]) || !isFinite(y[1]) ? 1 : 0), ie != 1 && ie != 2 && ie != 4 && ie != 8)
            return;
        }
        if (b > 0) {
          if (!D) {
            var J = [(t[0] + i[0]) / 2, (t[1] + i[1]) / 2], _e = this.transformInv_(J), ce = void 0;
            if (R) {
              var we = (Bl(u[0], L) + Bl(o[0], L)) / 2;
              ce = we - Bl(_e[0], L);
            } else
              ce = (u[0] + o[0]) / 2 - _e[0];
            var Be = (u[1] + o[1]) / 2 - _e[1], Ee = ce * ce + Be * Be;
            D = Ee > this.errorThresholdSquared_;
          }
          if (D) {
            if (Math.abs(t[0] - i[0]) <= Math.abs(t[1] - i[1])) {
              var Fe = [(e[0] + i[0]) / 2, (e[1] + i[1]) / 2], We = this.transformInv_(Fe), ke = [(n[0] + t[0]) / 2, (n[1] + t[1]) / 2], Ze = this.transformInv_(ke);
              this.addQuad_(t, e, Fe, ke, u, _, We, Ze, b - 1), this.addQuad_(ke, Fe, i, n, Ze, We, o, y, b - 1);
            } else {
              var ft = [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2], St = this.transformInv_(ft), ye = [(i[0] + n[0]) / 2, (i[1] + n[1]) / 2], Re = this.transformInv_(ye);
              this.addQuad_(t, ft, ye, n, u, St, Re, y, b - 1), this.addQuad_(ft, e, i, ye, St, _, o, Re, b - 1);
            }
            return;
          }
        }
        if (R) {
          if (!this.canWrapXInSource_)
            return;
          this.wrapsXInSource_ = !0;
        }
        ie & 11 || this.addTriangle_(t, i, n, u, o, y), ie & 14 || this.addTriangle_(t, i, e, u, o, _), ie && (ie & 13 || this.addTriangle_(e, n, t, _, y, u), ie & 7 || this.addTriangle_(e, n, i, _, y, o));
      }
    }, a.prototype.calculateSourceExtent = function() {
      var t = Kl();
      return this.triangles_.forEach(function(e, i, n) {
        var u = e.source;
        Qm(t, u[0]), Qm(t, u[1]), Qm(t, u[2]);
      }), t;
    }, a.prototype.getTriangles = function() {
      return this.triangles_;
    }, a;
  }()
);
const px = sI;
var Gf, fx = [];
function Hv(a, t, e, i, n) {
  a.beginPath(), a.moveTo(0, 0), a.lineTo(t, e), a.lineTo(i, n), a.closePath(), a.save(), a.clip(), a.fillRect(0, 0, Math.max(t, i) + 1, Math.max(e, n)), a.restore();
}
function Uf(a, t) {
  return Math.abs(a[t * 4] - 210) > 2 || Math.abs(a[t * 4 + 3] - 0.75 * 255) > 2;
}
function oI() {
  if (Gf === void 0) {
    var a = document.createElement("canvas").getContext("2d");
    a.globalCompositeOperation = "lighter", a.fillStyle = "rgba(210, 0, 0, 0.75)", Hv(a, 4, 5, 4, 0), Hv(a, 4, 5, 0, 5);
    var t = a.getImageData(0, 0, 3, 3).data;
    Gf = Uf(t, 0) || Uf(t, 4) || Uf(t, 8);
  }
  return Gf;
}
function Wh(a, t, e, i) {
  var n = Bc(e, t, a), u = v1(t, i, e), _ = t.getMetersPerUnit();
  _ !== void 0 && (u *= _);
  var o = a.getMetersPerUnit();
  o !== void 0 && (u /= o);
  var y = a.getExtent();
  if (!y || Kc(y, n)) {
    var b = v1(a, u, n) / u;
    isFinite(b) && b > 0 && (u /= b);
  }
  return u;
}
function lI(a, t, e, i) {
  var n = Vl(e), u = Wh(a, t, n, i);
  return (!isFinite(u) || u <= 0) && I2(e, function(_) {
    return u = Wh(a, t, _, i), isFinite(u) && u > 0;
  }), u;
}
function gx(a, t, e, i, n, u, _, o, y, b, S, T) {
  var L = Oh(Math.round(e * a), Math.round(e * t), fx);
  if (T || Xa(L, Dh), y.length === 0)
    return L.canvas;
  L.scale(e, e);
  function R(ce) {
    return Math.round(ce * e) / e;
  }
  L.globalCompositeOperation = "lighter";
  var D = Kl();
  y.forEach(function(ce, we, Be) {
    F3(D, ce.extent);
  });
  var j = Ha(D), Q = Yi(D), ie = Oh(Math.round(e * j / i), Math.round(e * Q / i));
  T || Xa(ie, Dh);
  var J = e / i;
  y.forEach(function(ce, we, Be) {
    var Ee = ce.extent[0] - D[0], Fe = -(ce.extent[3] - D[3]), We = Ha(ce.extent), ke = Yi(ce.extent);
    ce.image.width > 0 && ce.image.height > 0 && ie.drawImage(ce.image, b, b, ce.image.width - 2 * b, ce.image.height - 2 * b, Ee * J, Fe * J, We * J, ke * J);
  });
  var _e = Xo(_);
  return o.getTriangles().forEach(function(ce, we, Be) {
    var Ee = ce.source, Fe = ce.target, We = Ee[0][0], ke = Ee[0][1], Ze = Ee[1][0], ft = Ee[1][1], St = Ee[2][0], ye = Ee[2][1], Re = R((Fe[0][0] - _e[0]) / u), Me = R(-(Fe[0][1] - _e[1]) / u), nt = R((Fe[1][0] - _e[0]) / u), yt = R(-(Fe[1][1] - _e[1]) / u), Mt = R((Fe[2][0] - _e[0]) / u), aa = R(-(Fe[2][1] - _e[1]) / u), ia = We, $t = ke;
    We = 0, ke = 0, Ze -= ia, ft -= $t, St -= ia, ye -= $t;
    var bi = [
      [Ze, ft, 0, 0, nt - Re],
      [St, ye, 0, 0, Mt - Re],
      [0, 0, Ze, ft, yt - Me],
      [0, 0, St, ye, aa - Me]
    ], Gt = y3(bi);
    if (Gt) {
      if (L.save(), L.beginPath(), oI() || !T) {
        L.moveTo(nt, yt);
        for (var kt = 4, Pt = Re - nt, wa = Me - yt, _a = 0; _a < kt; _a++)
          L.lineTo(nt + R((_a + 1) * Pt / kt), yt + R(_a * wa / (kt - 1))), _a != kt - 1 && L.lineTo(nt + R((_a + 1) * Pt / kt), yt + R((_a + 1) * wa / (kt - 1)));
        L.lineTo(Mt, aa);
      } else
        L.moveTo(nt, yt), L.lineTo(Re, Me), L.lineTo(Mt, aa);
      L.clip(), L.transform(Gt[0], Gt[2], Gt[1], Gt[3], Re, Me), L.translate(D[0] - ia, D[3] - $t), L.scale(i / e, -i / e), L.drawImage(ie.canvas, 0, 0), L.restore();
    }
  }), S && (L.save(), L.globalCompositeOperation = "source-over", L.strokeStyle = "black", L.lineWidth = 1, o.getTriangles().forEach(function(ce, we, Be) {
    var Ee = ce.target, Fe = (Ee[0][0] - _e[0]) / u, We = -(Ee[0][1] - _e[1]) / u, ke = (Ee[1][0] - _e[0]) / u, Ze = -(Ee[1][1] - _e[1]) / u, ft = (Ee[2][0] - _e[0]) / u, St = -(Ee[2][1] - _e[1]) / u;
    L.beginPath(), L.moveTo(ke, Ze), L.lineTo(Fe, We), L.lineTo(ft, St), L.closePath(), L.stroke();
  }), L.restore()), L.canvas;
}
var uI = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), dI = (
  /** @class */
  function(a) {
    uI(t, a);
    function t(e, i, n, u, _, o, y, b, S, T, L, R) {
      var D = a.call(this, _, It.IDLE, { interpolate: !!R }) || this;
      D.renderEdges_ = L !== void 0 ? L : !1, D.pixelRatio_ = y, D.gutter_ = b, D.canvas_ = null, D.sourceTileGrid_ = i, D.targetTileGrid_ = u, D.wrappedTileCoord_ = o || _, D.sourceTiles_ = [], D.sourcesListenerKeys_ = null, D.sourceZ_ = 0;
      var j = u.getTileCoordExtent(D.wrappedTileCoord_), Q = D.targetTileGrid_.getExtent(), ie = D.sourceTileGrid_.getExtent(), J = Q ? Nl(j, Q) : j;
      if (dg(J) === 0)
        return D.state = It.EMPTY, D;
      var _e = e.getExtent();
      _e && (ie ? ie = Nl(ie, _e) : ie = _e);
      var ce = u.getResolution(D.wrappedTileCoord_[0]), we = lI(e, n, J, ce);
      if (!isFinite(we) || we <= 0)
        return D.state = It.EMPTY, D;
      var Be = T !== void 0 ? T : cx;
      if (D.triangulation_ = new px(e, n, J, ie, we * Be, ce), D.triangulation_.getTriangles().length === 0)
        return D.state = It.EMPTY, D;
      D.sourceZ_ = i.getZForResolution(we);
      var Ee = D.triangulation_.calculateSourceExtent();
      if (ie && (e.canWrapX() ? (Ee[1] = Ri(Ee[1], ie[1], ie[3]), Ee[3] = Ri(Ee[3], ie[1], ie[3])) : Ee = Nl(Ee, ie)), !dg(Ee))
        D.state = It.EMPTY;
      else {
        for (var Fe = i.getTileRangeForExtentAndZ(Ee, D.sourceZ_), We = Fe.minX; We <= Fe.maxX; We++)
          for (var ke = Fe.minY; ke <= Fe.maxY; ke++) {
            var Ze = S(D.sourceZ_, We, ke, y);
            Ze && D.sourceTiles_.push(Ze);
          }
        D.sourceTiles_.length === 0 && (D.state = It.EMPTY);
      }
      return D;
    }
    return t.prototype.getImage = function() {
      return this.canvas_;
    }, t.prototype.reproject_ = function() {
      var e = [];
      if (this.sourceTiles_.forEach(function(S, T, L) {
        S && S.getState() == It.LOADED && e.push({
          extent: this.sourceTileGrid_.getTileCoordExtent(S.tileCoord),
          image: S.getImage()
        });
      }.bind(this)), this.sourceTiles_.length = 0, e.length === 0)
        this.state = It.ERROR;
      else {
        var i = this.wrappedTileCoord_[0], n = this.targetTileGrid_.getTileSize(i), u = typeof n == "number" ? n : n[0], _ = typeof n == "number" ? n : n[1], o = this.targetTileGrid_.getResolution(i), y = this.sourceTileGrid_.getResolution(this.sourceZ_), b = this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);
        this.canvas_ = gx(u, _, this.pixelRatio_, y, this.sourceTileGrid_.getExtent(), o, b, this.triangulation_, e, this.gutter_, this.renderEdges_, this.interpolate), this.state = It.LOADED;
      }
      this.changed();
    }, t.prototype.load = function() {
      if (this.state == It.IDLE) {
        this.state = It.LOADING, this.changed();
        var e = 0;
        this.sourcesListenerKeys_ = [], this.sourceTiles_.forEach(function(i, n, u) {
          var _ = i.getState();
          if (_ == It.IDLE || _ == It.LOADING) {
            e++;
            var o = fa(i, Jt.CHANGE, function(y) {
              var b = i.getState();
              (b == It.LOADED || b == It.ERROR || b == It.EMPTY) && (ci(o), e--, e === 0 && (this.unlistenSources_(), this.reproject_()));
            }, this);
            this.sourcesListenerKeys_.push(o);
          }
        }.bind(this)), e === 0 ? setTimeout(this.reproject_.bind(this), 0) : this.sourceTiles_.forEach(function(i, n, u) {
          var _ = i.getState();
          _ == It.IDLE && i.load();
        });
      }
    }, t.prototype.unlistenSources_ = function() {
      this.sourcesListenerKeys_.forEach(ci), this.sourcesListenerKeys_ = null;
    }, t.prototype.release = function() {
      this.canvas_ && (NL(this.canvas_.getContext("2d")), fx.push(this.canvas_), this.canvas_ = null), a.prototype.release.call(this);
    }, t;
  }(mx)
);
const yx = dI;
var vx = (
  /** @class */
  function() {
    function a(t, e, i, n) {
      this.minX = t, this.maxX = e, this.minY = i, this.maxY = n;
    }
    return a.prototype.contains = function(t) {
      return this.containsXY(t[1], t[2]);
    }, a.prototype.containsTileRange = function(t) {
      return this.minX <= t.minX && t.maxX <= this.maxX && this.minY <= t.minY && t.maxY <= this.maxY;
    }, a.prototype.containsXY = function(t, e) {
      return this.minX <= t && t <= this.maxX && this.minY <= e && e <= this.maxY;
    }, a.prototype.equals = function(t) {
      return this.minX == t.minX && this.minY == t.minY && this.maxX == t.maxX && this.maxY == t.maxY;
    }, a.prototype.extend = function(t) {
      t.minX < this.minX && (this.minX = t.minX), t.maxX > this.maxX && (this.maxX = t.maxX), t.minY < this.minY && (this.minY = t.minY), t.maxY > this.maxY && (this.maxY = t.maxY);
    }, a.prototype.getHeight = function() {
      return this.maxY - this.minY + 1;
    }, a.prototype.getSize = function() {
      return [this.getWidth(), this.getHeight()];
    }, a.prototype.getWidth = function() {
      return this.maxX - this.minX + 1;
    }, a.prototype.intersects = function(t) {
      return this.minX <= t.maxX && this.maxX >= t.minX && this.minY <= t.maxY && this.maxY >= t.minY;
    }, a;
  }()
);
function zu(a, t, e, i, n) {
  return n !== void 0 ? (n.minX = a, n.maxX = t, n.minY = e, n.maxY = i, n) : new vx(a, t, e, i);
}
const bx = vx;
var cI = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), _I = (
  /** @class */
  function(a) {
    cI(t, a);
    function t(e) {
      var i = a.call(this, e) || this;
      return i.extentChanged = !0, i.renderedExtent_ = null, i.renderedPixelRatio, i.renderedProjection = null, i.renderedRevision, i.renderedTiles = [], i.newTiles_ = !1, i.tmpExtent = Kl(), i.tmpTileRange_ = new bx(0, 0, 0, 0), i;
    }
    return t.prototype.isDrawableTile = function(e) {
      var i = this.getLayer(), n = e.getState(), u = i.getUseInterimTilesOnError();
      return n == It.LOADED || n == It.EMPTY || n == It.ERROR && !u;
    }, t.prototype.getTile = function(e, i, n, u) {
      var _ = u.pixelRatio, o = u.viewState.projection, y = this.getLayer(), b = y.getSource(), S = b.getTile(e, i, n, _, o);
      return S.getState() == It.ERROR && (y.getUseInterimTilesOnError() ? y.getPreload() > 0 && (this.newTiles_ = !0) : S.setState(It.LOADED)), this.isDrawableTile(S) || (S = S.getInterimTile()), S;
    }, t.prototype.getData = function(e) {
      var i = this.frameState;
      if (!i)
        return null;
      var n = this.getLayer(), u = Nn(i.pixelToCoordinateTransform, e.slice()), _ = n.getExtent();
      if (_ && !Kc(_, u))
        return null;
      for (var o = i.pixelRatio, y = i.viewState.projection, b = i.viewState, S = n.getRenderSource(), T = S.getTileGridForProjection(b.projection), L = S.getTilePixelRatio(i.pixelRatio), R = T.getZForResolution(b.resolution); R >= T.getMinZoom(); --R) {
        var D = T.getTileCoordForCoordAndZ(u, R), j = S.getTile(R, D[1], D[2], o, y);
        if (!(j instanceof hx || j instanceof yx))
          return null;
        if (j.getState() === It.LOADED) {
          var Q = T.getOrigin(R), ie = $s(T.getTileSize(R)), J = T.getResolution(R), _e = Math.floor(L * ((u[0] - Q[0]) / J - D[1] * ie[0])), ce = Math.floor(L * ((Q[1] - u[1]) / J - D[2] * ie[1])), we = Math.round(L * S.getGutterForProjection(b.projection));
          return this.getImageData(j.getImage(), _e + we, ce + we);
        }
      }
      return null;
    }, t.prototype.loadedTileCallback = function(e, i, n) {
      return this.isDrawableTile(n) ? a.prototype.loadedTileCallback.call(this, e, i, n) : !1;
    }, t.prototype.prepareFrame = function(e) {
      return !!this.getLayer().getSource();
    }, t.prototype.renderFrame = function(e, i) {
      var n = e.layerStatesArray[e.layerIndex], u = e.viewState, _ = u.projection, o = u.resolution, y = u.center, b = u.rotation, S = e.pixelRatio, T = this.getLayer(), L = T.getSource(), R = L.getRevision(), D = L.getTileGridForProjection(_), j = D.getZForResolution(o, L.zDirection), Q = D.getResolution(j), ie = e.extent, J = e.viewState.resolution, _e = L.getTilePixelRatio(S), ce = Math.round(Ha(ie) / J * S), we = Math.round(Yi(ie) / J * S), Be = n.extent && Do(n.extent);
      Be && (ie = Nl(ie, Do(n.extent)));
      var Ee = Q * ce / 2 / _e, Fe = Q * we / 2 / _e, We = [
        y[0] - Ee,
        y[1] - Fe,
        y[0] + Ee,
        y[1] + Fe
      ], ke = D.getTileRangeForExtentAndZ(ie, j), Ze = {};
      Ze[j] = {};
      var ft = this.createLoadedTileFinder(L, _, Ze), St = this.tmpExtent, ye = this.tmpTileRange_;
      this.newTiles_ = !1;
      for (var Re = b ? cg(u.center, J, b, e.size) : void 0, Me = ke.minX; Me <= ke.maxX; ++Me)
        for (var nt = ke.minY; nt <= ke.maxY; ++nt)
          if (!(b && !D.tileCoordIntersectsViewport([j, Me, nt], Re))) {
            var yt = this.getTile(j, Me, nt, e);
            if (this.isDrawableTile(yt)) {
              var Mt = Yn(this);
              if (yt.getState() == It.LOADED) {
                Ze[j][yt.tileCoord.toString()] = yt;
                var aa = yt.inTransition(Mt);
                aa && n.opacity !== 1 && (yt.endTransition(Mt), aa = !1), !this.newTiles_ && (aa || this.renderedTiles.indexOf(yt) === -1) && (this.newTiles_ = !0);
              }
              if (yt.getAlpha(Mt, e.time) === 1)
                continue;
            }
            var ia = D.getTileCoordChildTileRange(yt.tileCoord, ye, St), $t = !1;
            ia && ($t = ft(j + 1, ia)), $t || D.forEachTileCoordParentTileRange(yt.tileCoord, ft, ye, St);
          }
      var bi = Q / o * S / _e;
      Xl(this.pixelTransform, e.size[0] / 2, e.size[1] / 2, 1 / S, 1 / S, b, -ce / 2, -we / 2);
      var Gt = Bb(this.pixelTransform);
      this.useContainer(i, Gt, this.getBackground(e));
      var kt = this.context, Pt = kt.canvas;
      uy(this.inversePixelTransform, this.pixelTransform), Xl(this.tempTransform, ce / 2, we / 2, bi, bi, 0, -ce / 2, -we / 2), Pt.width != ce || Pt.height != we ? (Pt.width = ce, Pt.height = we) : this.containerReused || kt.clearRect(0, 0, ce, we), Be && this.clipUnrotated(kt, e, Be), L.getInterpolate() || Xa(kt, Dh), this.preRender(kt, e), this.renderedTiles.length = 0;
      var wa = Object.keys(Ze).map(Number);
      wa.sort(ry);
      var _a, ja, Ra;
      n.opacity === 1 && (!this.containerReused || L.getOpaque(e.viewState.projection)) ? wa = wa.reverse() : (_a = [], ja = []);
      for (var _i = wa.length - 1; _i >= 0; --_i) {
        var ka = wa[_i], Ia = L.getTilePixelSize(ka, S, _), xi = D.getResolution(ka), Ji = xi / Q, Mn = Ia[0] * Ji * bi, Fi = Ia[1] * Ji * bi, _n = D.getTileCoordForCoordAndZ(Xo(We), ka), zt = D.getTileCoordExtent(_n), wi = Nn(this.tempTransform, [
          _e * (zt[0] - We[0]) / Q,
          _e * (We[3] - zt[3]) / Q
        ]), En = _e * L.getGutterForProjection(_), Ln = Ze[ka];
        for (var nr in Ln) {
          var yt = (
            /** @type {import("../../ImageTile.js").default} */
            Ln[nr]
          ), Si = yt.tileCoord, mi = _n[1] - Si[1], en = Math.round(wi[0] - (mi - 1) * Mn), tn = _n[2] - Si[2], Ae = Math.round(wi[1] - (tn - 1) * Fi), Me = Math.round(wi[0] - mi * Mn), nt = Math.round(wi[1] - tn * Fi), Ve = en - Me, Wi = Ae - nt, zi = j === ka, aa = zi && yt.getAlpha(Yn(this), e.time) !== 1, Dt = !1;
          if (!aa)
            if (_a) {
              Ra = [Me, nt, Me + Ve, nt, Me + Ve, nt + Wi, Me, nt + Wi];
              for (var Qa = 0, Da = _a.length; Qa < Da; ++Qa)
                if (j !== ka && ka < ja[Qa]) {
                  var na = _a[Qa];
                  Yc([Me, nt, Me + Ve, nt + Wi], [na[0], na[3], na[4], na[7]]) && (Dt || (kt.save(), Dt = !0), kt.beginPath(), kt.moveTo(Ra[0], Ra[1]), kt.lineTo(Ra[2], Ra[3]), kt.lineTo(Ra[4], Ra[5]), kt.lineTo(Ra[6], Ra[7]), kt.moveTo(na[6], na[7]), kt.lineTo(na[4], na[5]), kt.lineTo(na[2], na[3]), kt.lineTo(na[0], na[1]), kt.clip());
                }
              _a.push(Ra), ja.push(ka);
            } else
              kt.clearRect(Me, nt, Ve, Wi);
          this.drawTileImage(yt, e, Me, nt, Ve, Wi, En, zi), _a && !aa ? (Dt && kt.restore(), this.renderedTiles.unshift(yt)) : this.renderedTiles.push(yt), this.updateUsedTiles(e.usedTiles, L, yt);
        }
      }
      return this.renderedRevision = R, this.renderedResolution = Q, this.extentChanged = !this.renderedExtent_ || !uh(this.renderedExtent_, We), this.renderedExtent_ = We, this.renderedPixelRatio = S, this.renderedProjection = _, this.manageTilePyramid(e, L, D, S, _, ie, j, T.getPreload()), this.scheduleExpireCache(e, L), this.postRender(kt, e), n.extent && kt.restore(), Xa(kt, _x), Gt !== Pt.style.transform && (Pt.style.transform = Gt), this.container;
    }, t.prototype.drawTileImage = function(e, i, n, u, _, o, y, b) {
      var S = this.getTileImage(e);
      if (S) {
        var T = Yn(this), L = i.layerStatesArray[i.layerIndex], R = L.opacity * (b ? e.getAlpha(T, i.time) : 1), D = R !== this.context.globalAlpha;
        D && (this.context.save(), this.context.globalAlpha = R), this.context.drawImage(S, y, y, S.width - 2 * y, S.height - 2 * y, n, u, _, o), D && this.context.restore(), R !== L.opacity ? i.animate = !0 : b && e.endTransition(T);
      }
    }, t.prototype.getImage = function() {
      var e = this.context;
      return e ? e.canvas : null;
    }, t.prototype.getTileImage = function(e) {
      return e.getImage();
    }, t.prototype.scheduleExpireCache = function(e, i) {
      if (i.canExpireCache()) {
        var n = function(u, _, o) {
          var y = Yn(u);
          y in o.usedTiles && u.expireCache(o.viewState.projection, o.usedTiles[y]);
        }.bind(null, i);
        e.postRenderFunctions.push(
          /** @type {import("../../PluggableMap.js").PostRenderFunction} */
          n
        );
      }
    }, t.prototype.updateUsedTiles = function(e, i, n) {
      var u = Yn(i);
      u in e || (e[u] = {}), e[u][n.getKey()] = !0;
    }, t.prototype.manageTilePyramid = function(e, i, n, u, _, o, y, b, S) {
      var T = Yn(i);
      T in e.wantedTiles || (e.wantedTiles[T] = {});
      var L = e.wantedTiles[T], R = e.tileQueue, D = n.getMinZoom(), j = e.viewState.rotation, Q = j ? cg(e.viewState.center, e.viewState.resolution, j, e.size) : void 0, ie = 0, J, _e, ce, we, Be, Ee;
      for (Ee = D; Ee <= y; ++Ee)
        for (_e = n.getTileRangeForExtentAndZ(o, Ee, _e), ce = n.getResolution(Ee), we = _e.minX; we <= _e.maxX; ++we)
          for (Be = _e.minY; Be <= _e.maxY; ++Be)
            j && !n.tileCoordIntersectsViewport([Ee, we, Be], Q) || (y - Ee <= b ? (++ie, J = i.getTile(Ee, we, Be, u, _), J.getState() == It.IDLE && (L[J.getKey()] = !0, R.isKeyQueued(J.getKey()) || R.enqueue([
              J,
              T,
              n.getTileCoordCenter(J.tileCoord),
              ce
            ])), S !== void 0 && S(J)) : i.useTile(Ee, we, Be, _));
      i.updateCacheSize(ie, _);
    }, t;
  }(sx)
);
const mI = _I;
var hI = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), pI = (
  /** @class */
  function(a) {
    hI(t, a);
    function t(e) {
      return a.call(this, e) || this;
    }
    return t.prototype.createRenderer = function() {
      return new mI(this);
    }, t;
  }(JA)
);
const fI = pI;
var gI = (
  /** @class */
  function() {
    function a(t) {
      this.highWaterMark = t !== void 0 ? t : 2048, this.count_ = 0, this.entries_ = {}, this.oldest_ = null, this.newest_ = null;
    }
    return a.prototype.canExpireCache = function() {
      return this.highWaterMark > 0 && this.getCount() > this.highWaterMark;
    }, a.prototype.expireCache = function(t) {
      for (; this.canExpireCache(); )
        this.pop();
    }, a.prototype.clear = function() {
      this.count_ = 0, this.entries_ = {}, this.oldest_ = null, this.newest_ = null;
    }, a.prototype.containsKey = function(t) {
      return this.entries_.hasOwnProperty(t);
    }, a.prototype.forEach = function(t) {
      for (var e = this.oldest_; e; )
        t(e.value_, e.key_, this), e = e.newer;
    }, a.prototype.get = function(t, e) {
      var i = this.entries_[t];
      return Ma(i !== void 0, 15), i === this.newest_ || (i === this.oldest_ ? (this.oldest_ = /** @type {Entry} */
      this.oldest_.newer, this.oldest_.older = null) : (i.newer.older = i.older, i.older.newer = i.newer), i.newer = null, i.older = this.newest_, this.newest_.newer = i, this.newest_ = i), i.value_;
    }, a.prototype.remove = function(t) {
      var e = this.entries_[t];
      return Ma(e !== void 0, 15), e === this.newest_ ? (this.newest_ = /** @type {Entry} */
      e.older, this.newest_ && (this.newest_.newer = null)) : e === this.oldest_ ? (this.oldest_ = /** @type {Entry} */
      e.newer, this.oldest_ && (this.oldest_.older = null)) : (e.newer.older = e.older, e.older.newer = e.newer), delete this.entries_[t], --this.count_, e.value_;
    }, a.prototype.getCount = function() {
      return this.count_;
    }, a.prototype.getKeys = function() {
      var t = new Array(this.count_), e = 0, i;
      for (i = this.newest_; i; i = i.older)
        t[e++] = i.key_;
      return t;
    }, a.prototype.getValues = function() {
      var t = new Array(this.count_), e = 0, i;
      for (i = this.newest_; i; i = i.older)
        t[e++] = i.value_;
      return t;
    }, a.prototype.peekLast = function() {
      return this.oldest_.value_;
    }, a.prototype.peekLastKey = function() {
      return this.oldest_.key_;
    }, a.prototype.peekFirstKey = function() {
      return this.newest_.key_;
    }, a.prototype.peek = function(t) {
      if (this.containsKey(t))
        return this.entries_[t].value_;
    }, a.prototype.pop = function() {
      var t = this.oldest_;
      return delete this.entries_[t.key_], t.newer && (t.newer.older = null), this.oldest_ = /** @type {Entry} */
      t.newer, this.oldest_ || (this.newest_ = null), --this.count_, t.value_;
    }, a.prototype.replace = function(t, e) {
      this.get(t), this.entries_[t].value_ = e;
    }, a.prototype.set = function(t, e) {
      Ma(!(t in this.entries_), 16);
      var i = {
        key_: t,
        newer: null,
        older: this.newest_,
        value_: e
      };
      this.newest_ ? this.newest_.newer = i : this.oldest_ = i, this.newest_ = i, this.entries_[t] = i, ++this.count_;
    }, a.prototype.setSize = function(t) {
      this.highWaterMark = t;
    }, a;
  }()
);
const yI = gI;
function Xv(a, t, e, i) {
  return i !== void 0 ? (i[0] = a, i[1] = t, i[2] = e, i) : [a, t, e];
}
function op(a, t, e) {
  return a + "/" + t + "/" + e;
}
function xx(a) {
  return op(a[0], a[1], a[2]);
}
function vI(a) {
  return a.split("/").map(Number);
}
function bI(a) {
  return (a[1] << a[0]) + a[2];
}
function xI(a, t) {
  var e = a[0], i = a[1], n = a[2];
  if (t.getMinZoom() > e || e > t.getMaxZoom())
    return !1;
  var u = t.getFullTileRange(e);
  return u ? u.containsXY(i, n) : !0;
}
var wI = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), SI = (
  /** @class */
  function(a) {
    wI(t, a);
    function t() {
      return a !== null && a.apply(this, arguments) || this;
    }
    return t.prototype.expireCache = function(e) {
      for (; this.canExpireCache(); ) {
        var i = this.peekLast();
        if (i.getKey() in e)
          break;
        this.pop().release();
      }
    }, t.prototype.pruneExceptNewestZ = function() {
      if (this.getCount() !== 0) {
        var e = this.peekFirstKey(), i = vI(e), n = i[0];
        this.forEach(function(u) {
          u.tileCoord[0] !== n && (this.remove(xx(u.tileCoord)), u.release());
        }.bind(this));
      }
    }, t;
  }(yI)
);
const wx = SI, jf = {
  /**
   * Triggered when a tile starts loading.
   * @event module:ol/source/Tile.TileSourceEvent#tileloadstart
   * @api
   */
  TILELOADSTART: "tileloadstart",
  /**
   * Triggered when a tile finishes loading, either when its data is loaded,
   * or when loading was aborted because the tile is no longer needed.
   * @event module:ol/source/Tile.TileSourceEvent#tileloadend
   * @api
   */
  TILELOADEND: "tileloadend",
  /**
   * Triggered if tile loading results in an error.
   * @event module:ol/source/Tile.TileSourceEvent#tileloaderror
   * @api
   */
  TILELOADERROR: "tileloaderror"
};
var TI = [0, 0, 0], wo = 5, MI = (
  /** @class */
  function() {
    function a(t) {
      this.minZoom = t.minZoom !== void 0 ? t.minZoom : 0, this.resolutions_ = t.resolutions, Ma(LL(this.resolutions_, function(_, o) {
        return o - _;
      }, !0), 17);
      var e;
      if (!t.origins) {
        for (var i = 0, n = this.resolutions_.length - 1; i < n; ++i)
          if (!e)
            e = this.resolutions_[i] / this.resolutions_[i + 1];
          else if (this.resolutions_[i] / this.resolutions_[i + 1] !== e) {
            e = void 0;
            break;
          }
      }
      this.zoomFactor_ = e, this.maxZoom = this.resolutions_.length - 1, this.origin_ = t.origin !== void 0 ? t.origin : null, this.origins_ = null, t.origins !== void 0 && (this.origins_ = t.origins, Ma(this.origins_.length == this.resolutions_.length, 20));
      var u = t.extent;
      u !== void 0 && !this.origin_ && !this.origins_ && (this.origin_ = Xo(u)), Ma(!this.origin_ && this.origins_ || this.origin_ && !this.origins_, 18), this.tileSizes_ = null, t.tileSizes !== void 0 && (this.tileSizes_ = t.tileSizes, Ma(this.tileSizes_.length == this.resolutions_.length, 19)), this.tileSize_ = t.tileSize !== void 0 ? t.tileSize : this.tileSizes_ ? null : dy, Ma(!this.tileSize_ && this.tileSizes_ || this.tileSize_ && !this.tileSizes_, 22), this.extent_ = u !== void 0 ? u : null, this.fullTileRanges_ = null, this.tmpSize_ = [0, 0], this.tmpExtent_ = [0, 0, 0, 0], t.sizes !== void 0 ? this.fullTileRanges_ = t.sizes.map(function(_, o) {
        var y = new bx(Math.min(0, _[0]), Math.max(_[0] - 1, -1), Math.min(0, _[1]), Math.max(_[1] - 1, -1));
        if (u) {
          var b = this.getTileRangeForExtentAndZ(u, o);
          y.minX = Math.max(b.minX, y.minX), y.maxX = Math.min(b.maxX, y.maxX), y.minY = Math.max(b.minY, y.minY), y.maxY = Math.min(b.maxY, y.maxY);
        }
        return y;
      }, this) : u && this.calculateTileRanges_(u);
    }
    return a.prototype.forEachTileCoord = function(t, e, i) {
      for (var n = this.getTileRangeForExtentAndZ(t, e), u = n.minX, _ = n.maxX; u <= _; ++u)
        for (var o = n.minY, y = n.maxY; o <= y; ++o)
          i([e, u, o]);
    }, a.prototype.forEachTileCoordParentTileRange = function(t, e, i, n) {
      var u, _, o, y = null, b = t[0] - 1;
      for (this.zoomFactor_ === 2 ? (_ = t[1], o = t[2]) : y = this.getTileCoordExtent(t, n); b >= this.minZoom; ) {
        if (this.zoomFactor_ === 2 ? (_ = Math.floor(_ / 2), o = Math.floor(o / 2), u = zu(_, _, o, o, i)) : u = this.getTileRangeForExtentAndZ(y, b, i), e(b, u))
          return !0;
        --b;
      }
      return !1;
    }, a.prototype.getExtent = function() {
      return this.extent_;
    }, a.prototype.getMaxZoom = function() {
      return this.maxZoom;
    }, a.prototype.getMinZoom = function() {
      return this.minZoom;
    }, a.prototype.getOrigin = function(t) {
      return this.origin_ ? this.origin_ : this.origins_[t];
    }, a.prototype.getResolution = function(t) {
      return this.resolutions_[t];
    }, a.prototype.getResolutions = function() {
      return this.resolutions_;
    }, a.prototype.getTileCoordChildTileRange = function(t, e, i) {
      if (t[0] < this.maxZoom) {
        if (this.zoomFactor_ === 2) {
          var n = t[1] * 2, u = t[2] * 2;
          return zu(n, n + 1, u, u + 1, e);
        }
        var _ = this.getTileCoordExtent(t, i || this.tmpExtent_);
        return this.getTileRangeForExtentAndZ(_, t[0] + 1, e);
      }
      return null;
    }, a.prototype.getTileRangeForTileCoordAndZ = function(t, e, i) {
      if (e > this.maxZoom || e < this.minZoom)
        return null;
      var n = t[0], u = t[1], _ = t[2];
      if (e === n)
        return zu(u, _, u, _, i);
      if (this.zoomFactor_) {
        var o = Math.pow(this.zoomFactor_, e - n), y = Math.floor(u * o), b = Math.floor(_ * o);
        if (e < n)
          return zu(y, y, b, b, i);
        var S = Math.floor(o * (u + 1)) - 1, T = Math.floor(o * (_ + 1)) - 1;
        return zu(y, S, b, T, i);
      }
      var L = this.getTileCoordExtent(t, this.tmpExtent_);
      return this.getTileRangeForExtentAndZ(L, e, i);
    }, a.prototype.getTileRangeExtent = function(t, e, i) {
      var n = this.getOrigin(t), u = this.getResolution(t), _ = $s(this.getTileSize(t), this.tmpSize_), o = n[0] + e.minX * _[0] * u, y = n[0] + (e.maxX + 1) * _[0] * u, b = n[1] + e.minY * _[1] * u, S = n[1] + (e.maxY + 1) * _[1] * u;
      return jl(o, b, y, S, i);
    }, a.prototype.getTileRangeForExtentAndZ = function(t, e, i) {
      var n = TI;
      this.getTileCoordForXYAndZ_(t[0], t[3], e, !1, n);
      var u = n[1], _ = n[2];
      return this.getTileCoordForXYAndZ_(t[2], t[1], e, !0, n), zu(u, n[1], _, n[2], i);
    }, a.prototype.getTileCoordCenter = function(t) {
      var e = this.getOrigin(t[0]), i = this.getResolution(t[0]), n = $s(this.getTileSize(t[0]), this.tmpSize_);
      return [
        e[0] + (t[1] + 0.5) * n[0] * i,
        e[1] - (t[2] + 0.5) * n[1] * i
      ];
    }, a.prototype.getTileCoordExtent = function(t, e) {
      var i = this.getOrigin(t[0]), n = this.getResolution(t[0]), u = $s(this.getTileSize(t[0]), this.tmpSize_), _ = i[0] + t[1] * u[0] * n, o = i[1] - (t[2] + 1) * u[1] * n, y = _ + u[0] * n, b = o + u[1] * n;
      return jl(_, o, y, b, e);
    }, a.prototype.getTileCoordForCoordAndResolution = function(t, e, i) {
      return this.getTileCoordForXYAndResolution_(t[0], t[1], e, !1, i);
    }, a.prototype.getTileCoordForXYAndResolution_ = function(t, e, i, n, u) {
      var _ = this.getZForResolution(i), o = i / this.getResolution(_), y = this.getOrigin(_), b = $s(this.getTileSize(_), this.tmpSize_), S = o * (t - y[0]) / i / b[0], T = o * (y[1] - e) / i / b[1];
      return n ? (S = ko(S, wo) - 1, T = ko(T, wo) - 1) : (S = Uu(S, wo), T = Uu(T, wo)), Xv(_, S, T, u);
    }, a.prototype.getTileCoordForXYAndZ_ = function(t, e, i, n, u) {
      var _ = this.getOrigin(i), o = this.getResolution(i), y = $s(this.getTileSize(i), this.tmpSize_), b = (t - _[0]) / o / y[0], S = (_[1] - e) / o / y[1];
      return n ? (b = ko(b, wo) - 1, S = ko(S, wo) - 1) : (b = Uu(b, wo), S = Uu(S, wo)), Xv(i, b, S, u);
    }, a.prototype.getTileCoordForCoordAndZ = function(t, e, i) {
      return this.getTileCoordForXYAndZ_(t[0], t[1], e, !1, i);
    }, a.prototype.getTileCoordResolution = function(t) {
      return this.resolutions_[t[0]];
    }, a.prototype.getTileSize = function(t) {
      return this.tileSize_ ? this.tileSize_ : this.tileSizes_[t];
    }, a.prototype.getFullTileRange = function(t) {
      return this.fullTileRanges_ ? this.fullTileRanges_[t] : this.extent_ ? this.getTileRangeForExtentAndZ(this.extent_, t) : null;
    }, a.prototype.getZForResolution = function(t, e) {
      var i = ap(this.resolutions_, t, e || 0);
      return Ri(i, this.minZoom, this.maxZoom);
    }, a.prototype.tileCoordIntersectsViewport = function(t, e) {
      return Xb(e, 0, e.length, 2, this.getTileCoordExtent(t));
    }, a.prototype.calculateTileRanges_ = function(t) {
      for (var e = this.resolutions_.length, i = new Array(e), n = this.minZoom; n < e; ++n)
        i[n] = this.getTileRangeForExtentAndZ(t, n);
      this.fullTileRanges_ = i;
    }, a;
  }()
);
const Sx = MI;
function Tx(a) {
  var t = a.getDefaultTileGrid();
  return t || (t = AI(a), a.setDefaultTileGrid(t)), t;
}
function EI(a, t, e) {
  var i = t[0], n = a.getTileCoordCenter(t), u = Mx(e);
  if (Kc(u, n))
    return t;
  var _ = Ha(u), o = Math.ceil((u[0] - n[0]) / _);
  return n[0] += _ * o, a.getTileCoordForCoordAndZ(n, i);
}
function LI(a, t, e, i) {
  var n = i !== void 0 ? i : "top-left", u = CI(a, t, e);
  return new Sx({
    extent: a,
    origin: U3(a, n),
    resolutions: u,
    tileSize: e
  });
}
function CI(a, t, e, i) {
  for (var n = t !== void 0 ? t : q7, u = Yi(a), _ = Ha(a), o = $s(e !== void 0 ? e : dy), y = i > 0 ? i : Math.max(_ / o[0], u / o[1]), b = n + 1, S = new Array(b), T = 0; T < b; ++T)
    S[T] = y / Math.pow(2, T);
  return S;
}
function AI(a, t, e, i) {
  var n = Mx(a);
  return LI(n, t, e, i);
}
function Mx(a) {
  a = Di(a);
  var t = a.getExtent();
  if (!t) {
    var e = 180 * ys[Zs.DEGREES] / a.getMetersPerUnit();
    t = jl(-e, -e, e, e);
  }
  return t;
}
var Ex = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), II = (
  /** @class */
  function(a) {
    Ex(t, a);
    function t(e) {
      var i = a.call(this, {
        attributions: e.attributions,
        attributionsCollapsible: e.attributionsCollapsible,
        projection: e.projection,
        state: e.state,
        wrapX: e.wrapX,
        interpolate: e.interpolate
      }) || this;
      i.on, i.once, i.un, i.opaque_ = e.opaque !== void 0 ? e.opaque : !1, i.tilePixelRatio_ = e.tilePixelRatio !== void 0 ? e.tilePixelRatio : 1, i.tileGrid = e.tileGrid !== void 0 ? e.tileGrid : null;
      var n = [256, 256];
      return i.tileGrid && $s(i.tileGrid.getTileSize(i.tileGrid.getMinZoom()), n), i.tileCache = new wx(e.cacheSize || 0), i.tmpSize = [0, 0], i.key_ = e.key || "", i.tileOptions = {
        transition: e.transition,
        interpolate: e.interpolate
      }, i.zDirection = e.zDirection ? e.zDirection : 0, i;
    }
    return t.prototype.canExpireCache = function() {
      return this.tileCache.canExpireCache();
    }, t.prototype.expireCache = function(e, i) {
      var n = this.getTileCacheForProjection(e);
      n && n.expireCache(i);
    }, t.prototype.forEachLoadedTile = function(e, i, n, u) {
      var _ = this.getTileCacheForProjection(e);
      if (!_)
        return !1;
      for (var o = !0, y, b, S, T = n.minX; T <= n.maxX; ++T)
        for (var L = n.minY; L <= n.maxY; ++L)
          b = op(i, T, L), S = !1, _.containsKey(b) && (y = /** @type {!import("../Tile.js").default} */
          _.get(b), S = y.getState() === It.LOADED, S && (S = u(y) !== !1)), S || (o = !1);
      return o;
    }, t.prototype.getGutterForProjection = function(e) {
      return 0;
    }, t.prototype.getKey = function() {
      return this.key_;
    }, t.prototype.setKey = function(e) {
      this.key_ !== e && (this.key_ = e, this.changed());
    }, t.prototype.getOpaque = function(e) {
      return this.opaque_;
    }, t.prototype.getResolutions = function() {
      return this.tileGrid ? this.tileGrid.getResolutions() : null;
    }, t.prototype.getTile = function(e, i, n, u, _) {
      return Ga();
    }, t.prototype.getTileGrid = function() {
      return this.tileGrid;
    }, t.prototype.getTileGridForProjection = function(e) {
      return this.tileGrid ? this.tileGrid : Tx(e);
    }, t.prototype.getTileCacheForProjection = function(e) {
      var i = this.getProjection();
      return Ma(
        i === null || Po(i, e),
        68
        // A VectorTile source can only be rendered if it has a projection compatible with the view projection.
      ), this.tileCache;
    }, t.prototype.getTilePixelRatio = function(e) {
      return this.tilePixelRatio_;
    }, t.prototype.getTilePixelSize = function(e, i, n) {
      var u = this.getTileGridForProjection(n), _ = this.getTilePixelRatio(i), o = $s(u.getTileSize(e), this.tmpSize);
      return _ == 1 ? o : AC(o, _, this.tmpSize);
    }, t.prototype.getTileCoordForTileUrlFunction = function(e, i) {
      var n = i !== void 0 ? i : this.getProjection(), u = this.getTileGridForProjection(n);
      return this.getWrapX() && n.isGlobal() && (e = EI(u, e, n)), xI(e, u) ? e : null;
    }, t.prototype.clear = function() {
      this.tileCache.clear();
    }, t.prototype.refresh = function() {
      this.clear(), a.prototype.refresh.call(this);
    }, t.prototype.updateCacheSize = function(e, i) {
      var n = this.getTileCacheForProjection(i);
      e > n.highWaterMark && (n.highWaterMark = e);
    }, t.prototype.useTile = function(e, i, n, u) {
    }, t;
  }(ux)
), PI = (
  /** @class */
  function(a) {
    Ex(t, a);
    function t(e, i) {
      var n = a.call(this, e) || this;
      return n.tile = i, n;
    }
    return t;
  }(to)
);
const OI = II;
function RI(a, t) {
  var e = /\{z\}/g, i = /\{x\}/g, n = /\{y\}/g, u = /\{-y\}/g;
  return (
    /**
     * @param {import("./tilecoord.js").TileCoord} tileCoord Tile Coordinate.
     * @param {number} pixelRatio Pixel ratio.
     * @param {import("./proj/Projection.js").default} projection Projection.
     * @return {string|undefined} Tile URL.
     */
    function(_, o, y) {
      if (_)
        return a.replace(e, _[0].toString()).replace(i, _[1].toString()).replace(n, _[2].toString()).replace(u, function() {
          var b = _[0], S = t.getFullTileRange(b);
          Ma(S, 55);
          var T = S.getHeight() - _[2] - 1;
          return T.toString();
        });
    }
  );
}
function kI(a, t) {
  for (var e = a.length, i = new Array(e), n = 0; n < e; ++n)
    i[n] = RI(a[n], t);
  return Cg(i);
}
function Cg(a) {
  return a.length === 1 ? a[0] : (
    /**
     * @param {import("./tilecoord.js").TileCoord} tileCoord Tile Coordinate.
     * @param {number} pixelRatio Pixel ratio.
     * @param {import("./proj/Projection.js").default} projection Projection.
     * @return {string|undefined} Tile URL.
     */
    function(t, e, i) {
      if (t) {
        var n = bI(t), u = Bl(n, a.length);
        return a[u](t, e, i);
      } else
        return;
    }
  );
}
function Lx(a) {
  var t = [], e = /\{([a-z])-([a-z])\}/.exec(a);
  if (e) {
    var i = e[1].charCodeAt(0), n = e[2].charCodeAt(0), u = void 0;
    for (u = i; u <= n; ++u)
      t.push(a.replace(e[0], String.fromCharCode(u)));
    return t;
  }
  if (e = /\{(\d+)-(\d+)\}/.exec(a), e) {
    for (var _ = parseInt(e[2], 10), o = parseInt(e[1], 10); o <= _; o++)
      t.push(a.replace(e[0], o.toString()));
    return t;
  }
  return t.push(a), t;
}
var DI = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), WI = (
  /** @class */
  function(a) {
    DI(t, a);
    function t(e) {
      var i = a.call(this, {
        attributions: e.attributions,
        cacheSize: e.cacheSize,
        opaque: e.opaque,
        projection: e.projection,
        state: e.state,
        tileGrid: e.tileGrid,
        tilePixelRatio: e.tilePixelRatio,
        wrapX: e.wrapX,
        transition: e.transition,
        interpolate: e.interpolate,
        key: e.key,
        attributionsCollapsible: e.attributionsCollapsible,
        zDirection: e.zDirection
      }) || this;
      return i.generateTileUrlFunction_ = i.tileUrlFunction === t.prototype.tileUrlFunction, i.tileLoadFunction = e.tileLoadFunction, e.tileUrlFunction && (i.tileUrlFunction = e.tileUrlFunction), i.urls = null, e.urls ? i.setUrls(e.urls) : e.url && i.setUrl(e.url), i.tileLoadingKeys_ = {}, i;
    }
    return t.prototype.getTileLoadFunction = function() {
      return this.tileLoadFunction;
    }, t.prototype.getTileUrlFunction = function() {
      return Object.getPrototypeOf(this).tileUrlFunction === this.tileUrlFunction ? this.tileUrlFunction.bind(this) : this.tileUrlFunction;
    }, t.prototype.getUrls = function() {
      return this.urls;
    }, t.prototype.handleTileChange = function(e) {
      var i = (
        /** @type {import("../Tile.js").default} */
        e.target
      ), n = Yn(i), u = i.getState(), _;
      u == It.LOADING ? (this.tileLoadingKeys_[n] = !0, _ = jf.TILELOADSTART) : n in this.tileLoadingKeys_ && (delete this.tileLoadingKeys_[n], _ = u == It.ERROR ? jf.TILELOADERROR : u == It.LOADED ? jf.TILELOADEND : void 0), _ != null && this.dispatchEvent(new PI(_, i));
    }, t.prototype.setTileLoadFunction = function(e) {
      this.tileCache.clear(), this.tileLoadFunction = e, this.changed();
    }, t.prototype.setTileUrlFunction = function(e, i) {
      this.tileUrlFunction = e, this.tileCache.pruneExceptNewestZ(), typeof i < "u" ? this.setKey(i) : this.changed();
    }, t.prototype.setUrl = function(e) {
      var i = Lx(e);
      this.urls = i, this.setUrls(i);
    }, t.prototype.setUrls = function(e) {
      this.urls = e;
      var i = e.join(`
`);
      this.generateTileUrlFunction_ ? this.setTileUrlFunction(kI(e, this.tileGrid), i) : this.setKey(i);
    }, t.prototype.tileUrlFunction = function(e, i, n) {
    }, t.prototype.useTile = function(e, i, n) {
      var u = op(e, i, n);
      this.tileCache.containsKey(u) && this.tileCache.get(u);
    }, t;
  }(OI)
);
const zI = WI;
var BI = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), NI = (
  /** @class */
  function(a) {
    BI(t, a);
    function t(e) {
      var i = this, n = e.imageSmoothing !== void 0 ? e.imageSmoothing : !0;
      return e.interpolate !== void 0 && (n = e.interpolate), i = a.call(this, {
        attributions: e.attributions,
        cacheSize: e.cacheSize,
        opaque: e.opaque,
        projection: e.projection,
        state: e.state,
        tileGrid: e.tileGrid,
        tileLoadFunction: e.tileLoadFunction ? e.tileLoadFunction : qI,
        tilePixelRatio: e.tilePixelRatio,
        tileUrlFunction: e.tileUrlFunction,
        url: e.url,
        urls: e.urls,
        wrapX: e.wrapX,
        transition: e.transition,
        interpolate: n,
        key: e.key,
        attributionsCollapsible: e.attributionsCollapsible,
        zDirection: e.zDirection
      }) || this, i.crossOrigin = e.crossOrigin !== void 0 ? e.crossOrigin : null, i.tileClass = e.tileClass !== void 0 ? e.tileClass : hx, i.tileCacheForProjection = {}, i.tileGridForProjection = {}, i.reprojectionErrorThreshold_ = e.reprojectionErrorThreshold, i.renderReprojectionEdges_ = !1, i;
    }
    return t.prototype.canExpireCache = function() {
      if (this.tileCache.canExpireCache())
        return !0;
      for (var e in this.tileCacheForProjection)
        if (this.tileCacheForProjection[e].canExpireCache())
          return !0;
      return !1;
    }, t.prototype.expireCache = function(e, i) {
      var n = this.getTileCacheForProjection(e);
      this.tileCache.expireCache(this.tileCache == n ? i : {});
      for (var u in this.tileCacheForProjection) {
        var _ = this.tileCacheForProjection[u];
        _.expireCache(_ == n ? i : {});
      }
    }, t.prototype.getGutterForProjection = function(e) {
      return this.getProjection() && e && !Po(this.getProjection(), e) ? 0 : this.getGutter();
    }, t.prototype.getGutter = function() {
      return 0;
    }, t.prototype.getKey = function() {
      var e = a.prototype.getKey.call(this);
      return this.getInterpolate() || (e += ":disable-interpolation"), e;
    }, t.prototype.getOpaque = function(e) {
      return this.getProjection() && e && !Po(this.getProjection(), e) ? !1 : a.prototype.getOpaque.call(this, e);
    }, t.prototype.getTileGridForProjection = function(e) {
      var i = this.getProjection();
      if (this.tileGrid && (!i || Po(i, e)))
        return this.tileGrid;
      var n = Yn(e);
      return n in this.tileGridForProjection || (this.tileGridForProjection[n] = Tx(e)), this.tileGridForProjection[n];
    }, t.prototype.getTileCacheForProjection = function(e) {
      var i = this.getProjection();
      if (!i || Po(i, e))
        return this.tileCache;
      var n = Yn(e);
      return n in this.tileCacheForProjection || (this.tileCacheForProjection[n] = new wx(this.tileCache.highWaterMark)), this.tileCacheForProjection[n];
    }, t.prototype.createTile_ = function(e, i, n, u, _, o) {
      var y = [e, i, n], b = this.getTileCoordForTileUrlFunction(y, _), S = b ? this.tileUrlFunction(b, u, _) : void 0, T = new this.tileClass(y, S !== void 0 ? It.IDLE : It.EMPTY, S !== void 0 ? S : "", this.crossOrigin, this.tileLoadFunction, this.tileOptions);
      return T.key = o, T.addEventListener(Jt.CHANGE, this.handleTileChange.bind(this)), T;
    }, t.prototype.getTile = function(e, i, n, u, _) {
      var o = this.getProjection();
      if (!o || !_ || Po(o, _))
        return this.getTileInternal(e, i, n, u, o || _);
      var y = this.getTileCacheForProjection(_), b = [e, i, n], S = void 0, T = xx(b);
      y.containsKey(T) && (S = y.get(T));
      var L = this.getKey();
      if (S && S.key == L)
        return S;
      var R = this.getTileGridForProjection(o), D = this.getTileGridForProjection(_), j = this.getTileCoordForTileUrlFunction(b, _), Q = new yx(o, R, _, D, b, j, this.getTilePixelRatio(u), this.getGutter(), function(ie, J, _e, ce) {
        return this.getTileInternal(ie, J, _e, ce, o);
      }.bind(this), this.reprojectionErrorThreshold_, this.renderReprojectionEdges_, this.getInterpolate());
      return Q.key = L, S ? (Q.interimTile = S, Q.refreshInterimChain(), y.replace(T, Q)) : y.set(T, Q), Q;
    }, t.prototype.getTileInternal = function(e, i, n, u, _) {
      var o = null, y = op(e, i, n), b = this.getKey();
      if (!this.tileCache.containsKey(y))
        o = this.createTile_(e, i, n, u, _, b), this.tileCache.set(y, o);
      else if (o = this.tileCache.get(y), o.key != b) {
        var S = o;
        o = this.createTile_(e, i, n, u, _, b), S.getState() == It.IDLE ? o.interimTile = S.interimTile : o.interimTile = S, o.refreshInterimChain(), this.tileCache.replace(y, o);
      }
      return o;
    }, t.prototype.setRenderReprojectionEdges = function(e) {
      if (this.renderReprojectionEdges_ != e) {
        this.renderReprojectionEdges_ = e;
        for (var i in this.tileCacheForProjection)
          this.tileCacheForProjection[i].clear();
        this.changed();
      }
    }, t.prototype.setTileGridForProjection = function(e, i) {
      {
        var n = Di(e);
        if (n) {
          var u = Yn(n);
          u in this.tileGridForProjection || (this.tileGridForProjection[u] = i);
        }
      }
    }, t;
  }(zI)
);
function qI(a, t) {
  a.getImage().src = t;
}
const FI = NI;
var Wc = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function gy(a) {
  return a && a.__esModule && Object.prototype.hasOwnProperty.call(a, "default") ? a.default : a;
}
var GI = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), UI = (
  /** @class */
  function(a) {
    GI(t, a);
    function t(e, i, n, u, _, o, y) {
      var b = this, S = e.getExtent(), T = i.getExtent(), L = T ? Nl(n, T) : n, R = Vl(L), D = Wh(e, i, R, u), j = cx, Q = new px(e, i, L, S, D * j, u), ie = Q.calculateSourceExtent(), J = o(ie, D, _), _e = J ? Za.IDLE : Za.EMPTY, ce = J ? J.getPixelRatio() : 1;
      return b = a.call(this, n, u, ce, _e) || this, b.targetProj_ = i, b.maxSourceExtent_ = S, b.triangulation_ = Q, b.targetResolution_ = u, b.targetExtent_ = n, b.sourceImage_ = J, b.sourcePixelRatio_ = ce, b.interpolate_ = y, b.canvas_ = null, b.sourceListenerKey_ = null, b;
    }
    return t.prototype.disposeInternal = function() {
      this.state == Za.LOADING && this.unlistenSource_(), a.prototype.disposeInternal.call(this);
    }, t.prototype.getImage = function() {
      return this.canvas_;
    }, t.prototype.getProjection = function() {
      return this.targetProj_;
    }, t.prototype.reproject_ = function() {
      var e = this.sourceImage_.getState();
      if (e == Za.LOADED) {
        var i = Ha(this.targetExtent_) / this.targetResolution_, n = Yi(this.targetExtent_) / this.targetResolution_;
        this.canvas_ = gx(i, n, this.sourcePixelRatio_, this.sourceImage_.getResolution(), this.maxSourceExtent_, this.targetResolution_, this.targetExtent_, this.triangulation_, [
          {
            extent: this.sourceImage_.getExtent(),
            image: this.sourceImage_.getImage()
          }
        ], 0, void 0, this.interpolate_);
      }
      this.state = e, this.changed();
    }, t.prototype.load = function() {
      if (this.state == Za.IDLE) {
        this.state = Za.LOADING, this.changed();
        var e = this.sourceImage_.getState();
        e == Za.LOADED || e == Za.ERROR ? this.reproject_() : (this.sourceListenerKey_ = fa(this.sourceImage_, Jt.CHANGE, function(i) {
          var n = this.sourceImage_.getState();
          (n == Za.LOADED || n == Za.ERROR) && (this.unlistenSource_(), this.reproject_());
        }, this), this.sourceImage_.load());
      }
    }, t.prototype.unlistenSource_ = function() {
      ci(
        /** @type {!import("../events.js").EventsKey} */
        this.sourceListenerKey_
      ), this.sourceListenerKey_ = null;
    }, t;
  }(ox)
);
const jI = UI;
var Cx = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), Vf = {
  /**
   * Triggered when an image starts loading.
   * @event module:ol/source/Image.ImageSourceEvent#imageloadstart
   * @api
   */
  IMAGELOADSTART: "imageloadstart",
  /**
   * Triggered when an image finishes loading.
   * @event module:ol/source/Image.ImageSourceEvent#imageloadend
   * @api
   */
  IMAGELOADEND: "imageloadend",
  /**
   * Triggered if image loading results in an error.
   * @event module:ol/source/Image.ImageSourceEvent#imageloaderror
   * @api
   */
  IMAGELOADERROR: "imageloaderror"
}, VI = (
  /** @class */
  function(a) {
    Cx(t, a);
    function t(e, i) {
      var n = a.call(this, e) || this;
      return n.image = i, n;
    }
    return t;
  }(to)
), $I = (
  /** @class */
  function(a) {
    Cx(t, a);
    function t(e) {
      var i = this, n = e.imageSmoothing !== void 0 ? e.imageSmoothing : !0;
      return e.interpolate !== void 0 && (n = e.interpolate), i = a.call(this, {
        attributions: e.attributions,
        projection: e.projection,
        state: e.state,
        interpolate: n
      }) || this, i.on, i.once, i.un, i.resolutions_ = e.resolutions !== void 0 ? e.resolutions : null, i.reprojectedImage_ = null, i.reprojectedRevision_ = 0, i;
    }
    return t.prototype.getResolutions = function() {
      return this.resolutions_;
    }, t.prototype.findNearestResolution = function(e) {
      if (this.resolutions_) {
        var i = ap(this.resolutions_, e, 0);
        e = this.resolutions_[i];
      }
      return e;
    }, t.prototype.getImage = function(e, i, n, u) {
      var _ = this.getProjection();
      if (!_ || !u || Po(_, u))
        return _ && (u = _), this.getImageInternal(e, i, n, u);
      if (this.reprojectedImage_) {
        if (this.reprojectedRevision_ == this.getRevision() && Po(this.reprojectedImage_.getProjection(), u) && this.reprojectedImage_.getResolution() == i && uh(this.reprojectedImage_.getExtent(), e))
          return this.reprojectedImage_;
        this.reprojectedImage_.dispose(), this.reprojectedImage_ = null;
      }
      return this.reprojectedImage_ = new jI(_, u, e, i, n, function(o, y, b) {
        return this.getImageInternal(o, y, b, _);
      }.bind(this), this.getInterpolate()), this.reprojectedRevision_ = this.getRevision(), this.reprojectedImage_;
    }, t.prototype.getImageInternal = function(e, i, n, u) {
      return Ga();
    }, t.prototype.handleImageChange = function(e) {
      var i = (
        /** @type {import("../Image.js").default} */
        e.target
      ), n;
      switch (i.getState()) {
        case Za.LOADING:
          this.loading = !0, n = Vf.IMAGELOADSTART;
          break;
        case Za.LOADED:
          this.loading = !1, n = Vf.IMAGELOADEND;
          break;
        case Za.ERROR:
          this.loading = !1, n = Vf.IMAGELOADERROR;
          break;
        default:
          return;
      }
      this.hasListener(n) && this.dispatchEvent(new VI(n, i));
    }, t;
  }(ux)
);
function ZI(a, t) {
  a.getImage().src = t;
}
const HI = $I;
function zh(a, t) {
  var e = [];
  Object.keys(t).forEach(function(n) {
    t[n] !== null && t[n] !== void 0 && e.push(n + "=" + encodeURIComponent(t[n]));
  });
  var i = e.join("&");
  return a = a.replace(/[?&]$/, ""), a = a.indexOf("?") === -1 ? a + "?" : a + "&", a + i;
}
var Nm = "1.3.0", XI = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), So = 4, Kv = [101, 101], KI = (
  /** @class */
  function(a) {
    XI(t, a);
    function t(e) {
      var i = this, n = e || {}, u = n.imageSmoothing !== void 0 ? n.imageSmoothing : !0;
      return n.interpolate !== void 0 && (u = n.interpolate), i = a.call(this, {
        attributions: n.attributions,
        interpolate: u,
        projection: n.projection,
        resolutions: n.resolutions
      }) || this, i.crossOrigin_ = n.crossOrigin !== void 0 ? n.crossOrigin : null, i.url_ = n.url, i.imageLoadFunction_ = n.imageLoadFunction !== void 0 ? n.imageLoadFunction : ZI, i.params_ = n.params || {}, i.v13_ = !0, i.updateV13_(), i.serverType_ = n.serverType, i.hidpi_ = n.hidpi !== void 0 ? n.hidpi : !0, i.image_ = null, i.imageSize_ = [0, 0], i.renderedRevision_ = 0, i.ratio_ = n.ratio !== void 0 ? n.ratio : 1.5, i;
    }
    return t.prototype.getFeatureInfoUrl = function(e, i, n, u) {
      if (this.url_ !== void 0) {
        var _ = Di(n), o = this.getProjection();
        o && o !== _ && (i = Wh(o, _, e, i), e = Bc(e, _, o));
        var y = Qu(e, i, 0, Kv), b = {
          SERVICE: "WMS",
          VERSION: Nm,
          REQUEST: "GetFeatureInfo",
          FORMAT: "image/png",
          TRANSPARENT: !0,
          QUERY_LAYERS: this.params_.LAYERS
        };
        Xa(b, this.params_, u);
        var S = Uu((e[0] - y[0]) / i, So), T = Uu((y[3] - e[1]) / i, So);
        return b[this.v13_ ? "I" : "X"] = S, b[this.v13_ ? "J" : "Y"] = T, this.getRequestUrl_(y, Kv, 1, o || _, b);
      }
    }, t.prototype.getLegendUrl = function(e, i) {
      if (this.url_ !== void 0) {
        var n = {
          SERVICE: "WMS",
          VERSION: Nm,
          REQUEST: "GetLegendGraphic",
          FORMAT: "image/png"
        };
        if (i === void 0 || i.LAYER === void 0) {
          var u = this.params_.LAYERS, _ = !Array.isArray(u) || u.length === 1;
          if (!_)
            return;
          n.LAYER = u;
        }
        if (e !== void 0) {
          var o = this.getProjection() ? this.getProjection().getMetersPerUnit() : 1, y = 28e-5;
          n.SCALE = e * o / y;
        }
        return Xa(n, i), zh(
          /** @type {string} */
          this.url_,
          n
        );
      }
    }, t.prototype.getParams = function() {
      return this.params_;
    }, t.prototype.getImageInternal = function(e, i, n, u) {
      if (this.url_ === void 0)
        return null;
      i = this.findNearestResolution(i), n != 1 && (!this.hidpi_ || this.serverType_ === void 0) && (n = 1);
      var _ = i / n, o = Vl(e), y = ko(Ha(e) / _, So), b = ko(Yi(e) / _, So), S = Qu(o, _, 0, [
        y,
        b
      ]), T = ko(this.ratio_ * Ha(e) / _, So), L = ko(this.ratio_ * Yi(e) / _, So), R = Qu(o, _, 0, [
        T,
        L
      ]), D = this.image_;
      if (D && this.renderedRevision_ == this.getRevision() && D.getResolution() == i && D.getPixelRatio() == n && Fg(D.getExtent(), S))
        return D;
      var j = {
        SERVICE: "WMS",
        VERSION: Nm,
        REQUEST: "GetMap",
        FORMAT: "image/png",
        TRANSPARENT: !0
      };
      Xa(j, this.params_), this.imageSize_[0] = m1(Ha(R) / _, So), this.imageSize_[1] = m1(Yi(R) / _, So);
      var Q = this.getRequestUrl_(R, this.imageSize_, n, u, j);
      return this.image_ = new kA(R, i, n, Q, this.crossOrigin_, this.imageLoadFunction_), this.renderedRevision_ = this.getRevision(), this.image_.addEventListener(Jt.CHANGE, this.handleImageChange.bind(this)), this.image_;
    }, t.prototype.getImageLoadFunction = function() {
      return this.imageLoadFunction_;
    }, t.prototype.getRequestUrl_ = function(e, i, n, u, _) {
      if (Ma(this.url_ !== void 0, 9), _[this.v13_ ? "CRS" : "SRS"] = u.getCode(), "STYLES" in this.params_ || (_.STYLES = ""), n != 1)
        switch (this.serverType_) {
          case "geoserver":
            var o = 90 * n + 0.5 | 0;
            "FORMAT_OPTIONS" in _ ? _.FORMAT_OPTIONS += ";dpi:" + o : _.FORMAT_OPTIONS = "dpi:" + o;
            break;
          case "mapserver":
            _.MAP_RESOLUTION = 90 * n;
            break;
          case "carmentaserver":
          case "qgis":
            _.DPI = 90 * n;
            break;
          default:
            Ma(!1, 8);
            break;
        }
      _.WIDTH = i[0], _.HEIGHT = i[1];
      var y = u.getAxisOrientation(), b;
      return this.v13_ && y.substr(0, 2) == "ne" ? b = [e[1], e[0], e[3], e[2]] : b = e, _.BBOX = b.join(","), zh(
        /** @type {string} */
        this.url_,
        _
      );
    }, t.prototype.getUrl = function() {
      return this.url_;
    }, t.prototype.setImageLoadFunction = function(e) {
      this.image_ = null, this.imageLoadFunction_ = e, this.changed();
    }, t.prototype.setUrl = function(e) {
      e != this.url_ && (this.url_ = e, this.image_ = null, this.changed());
    }, t.prototype.updateParams = function(e) {
      Xa(this.params_, e), this.updateV13_(), this.image_ = null, this.changed();
    }, t.prototype.updateV13_ = function() {
      var e = this.params_.VERSION || Nm;
      this.v13_ = Z3(e, "1.3") >= 0;
    }, t;
  }(HI)
);
const YI = KI;
var QI = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), JI = (
  /** @class */
  function(a) {
    QI(t, a);
    function t(e) {
      var i = a.call(this, {
        extent: e.extent,
        origin: e.origin,
        origins: e.origins,
        resolutions: e.resolutions,
        tileSize: e.tileSize,
        tileSizes: e.tileSizes,
        sizes: e.sizes
      }) || this;
      return i.matrixIds_ = e.matrixIds, i;
    }
    return t.prototype.getMatrixId = function(e) {
      return this.matrixIds_[e];
    }, t.prototype.getMatrixIds = function() {
      return this.matrixIds_;
    }, t;
  }(Sx)
);
const eP = JI;
var tP = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), aP = (
  /** @class */
  function(a) {
    tP(t, a);
    function t(e) {
      var i = this, n = e.imageSmoothing !== void 0 ? e.imageSmoothing : !0;
      e.interpolate !== void 0 && (n = e.interpolate);
      var u = e.requestEncoding !== void 0 ? e.requestEncoding : "KVP", _ = e.tileGrid, o = e.urls;
      return o === void 0 && e.url !== void 0 && (o = Lx(e.url)), i = a.call(this, {
        attributions: e.attributions,
        attributionsCollapsible: e.attributionsCollapsible,
        cacheSize: e.cacheSize,
        crossOrigin: e.crossOrigin,
        interpolate: n,
        projection: e.projection,
        reprojectionErrorThreshold: e.reprojectionErrorThreshold,
        tileClass: e.tileClass,
        tileGrid: _,
        tileLoadFunction: e.tileLoadFunction,
        tilePixelRatio: e.tilePixelRatio,
        urls: o,
        wrapX: e.wrapX !== void 0 ? e.wrapX : !1,
        transition: e.transition,
        zDirection: e.zDirection
      }) || this, i.version_ = e.version !== void 0 ? e.version : "1.0.0", i.format_ = e.format !== void 0 ? e.format : "image/jpeg", i.dimensions_ = e.dimensions !== void 0 ? e.dimensions : {}, i.layer_ = e.layer, i.matrixSet_ = e.matrixSet, i.style_ = e.style, i.requestEncoding_ = u, i.setKey(i.getKeyForDimensions_()), o && o.length > 0 && (i.tileUrlFunction = Cg(o.map(i.createFromWMTSTemplate.bind(i)))), i;
    }
    return t.prototype.setUrls = function(e) {
      this.urls = e;
      var i = e.join(`
`);
      this.setTileUrlFunction(Cg(e.map(this.createFromWMTSTemplate.bind(this))), i);
    }, t.prototype.getDimensions = function() {
      return this.dimensions_;
    }, t.prototype.getFormat = function() {
      return this.format_;
    }, t.prototype.getLayer = function() {
      return this.layer_;
    }, t.prototype.getMatrixSet = function() {
      return this.matrixSet_;
    }, t.prototype.getRequestEncoding = function() {
      return this.requestEncoding_;
    }, t.prototype.getStyle = function() {
      return this.style_;
    }, t.prototype.getVersion = function() {
      return this.version_;
    }, t.prototype.getKeyForDimensions_ = function() {
      var e = 0, i = [];
      for (var n in this.dimensions_)
        i[e++] = n + "-" + this.dimensions_[n];
      return i.join("/");
    }, t.prototype.updateDimensions = function(e) {
      Xa(this.dimensions_, e), this.setKey(this.getKeyForDimensions_());
    }, t.prototype.createFromWMTSTemplate = function(e) {
      var i = this.requestEncoding_, n = {
        layer: this.layer_,
        style: this.style_,
        tilematrixset: this.matrixSet_
      };
      i == "KVP" && Xa(n, {
        Service: "WMTS",
        Request: "GetTile",
        Version: this.version_,
        Format: this.format_
      }), e = i == "KVP" ? zh(e, n) : e.replace(/\{(\w+?)\}/g, function(o, y) {
        return y.toLowerCase() in n ? n[y.toLowerCase()] : o;
      });
      var u = (
        /** @type {import("../tilegrid/WMTS.js").default} */
        this.tileGrid
      ), _ = this.dimensions_;
      return (
        /**
         * @param {import("../tilecoord.js").TileCoord} tileCoord Tile coordinate.
         * @param {number} pixelRatio Pixel ratio.
         * @param {import("../proj/Projection.js").default} projection Projection.
         * @return {string|undefined} Tile URL.
         */
        function(o, y, b) {
          if (o) {
            var S = {
              TileMatrix: u.getMatrixId(o[0]),
              TileCol: o[1],
              TileRow: o[2]
            };
            Xa(S, _);
            var T = e;
            return i == "KVP" ? T = zh(T, S) : T = T.replace(/\{(\w+?)\}/g, function(L, R) {
              return S[R];
            }), T;
          } else
            return;
        }
      );
    }, t;
  }(FI)
);
const iP = aP;
var Ax = { exports: {} };
(function(a, t) {
  (function(e, i) {
    a.exports = i();
  })(Wc, function() {
    var e, i, n;
    function u(o, y) {
      if (!e)
        e = y;
      else if (!i)
        i = y;
      else {
        var b = "var sharedChunk = {}; (" + e + ")(sharedChunk); (" + i + ")(sharedChunk);", S = {};
        e(S), n = y(S), typeof window < "u" && (n.workerUrl = window.URL.createObjectURL(new Blob([b], { type: "text/javascript" })));
      }
    }
    u(["exports"], function(o) {
      var y = b;
      function b(l, r, d, m) {
        this.cx = 3 * l, this.bx = 3 * (d - l) - this.cx, this.ax = 1 - this.cx - this.bx, this.cy = 3 * r, this.by = 3 * (m - r) - this.cy, this.ay = 1 - this.cy - this.by, this.p1x = l, this.p1y = r, this.p2x = d, this.p2y = m;
      }
      function S(l, r, d, m) {
        const f = new y(l, r, d, m);
        return function(v) {
          return f.solve(v);
        };
      }
      b.prototype = { sampleCurveX: function(l) {
        return ((this.ax * l + this.bx) * l + this.cx) * l;
      }, sampleCurveY: function(l) {
        return ((this.ay * l + this.by) * l + this.cy) * l;
      }, sampleCurveDerivativeX: function(l) {
        return (3 * this.ax * l + 2 * this.bx) * l + this.cx;
      }, solveCurveX: function(l, r) {
        if (r === void 0 && (r = 1e-6), l < 0)
          return 0;
        if (l > 1)
          return 1;
        for (var d = l, m = 0; m < 8; m++) {
          var f = this.sampleCurveX(d) - l;
          if (Math.abs(f) < r)
            return d;
          var v = this.sampleCurveDerivativeX(d);
          if (Math.abs(v) < 1e-6)
            break;
          d -= f / v;
        }
        var w = 0, E = 1;
        for (d = l, m = 0; m < 20 && (f = this.sampleCurveX(d), !(Math.abs(f - l) < r)); m++)
          l > f ? w = d : E = d, d = 0.5 * (E - w) + w;
        return d;
      }, solve: function(l, r) {
        return this.sampleCurveY(this.solveCurveX(l, r));
      } };
      const T = S(0.25, 0.1, 0.25, 1);
      function L(l, r, d) {
        return Math.min(d, Math.max(r, l));
      }
      function R(l, r, d) {
        const m = d - r, f = ((l - r) % m + m) % m + r;
        return f === r ? d : f;
      }
      function D(l, ...r) {
        for (const d of r)
          for (const m in d)
            l[m] = d[m];
        return l;
      }
      let j = 1;
      function Q(l, r) {
        l.forEach((d) => {
          r[d] && (r[d] = r[d].bind(r));
        });
      }
      function ie(l, r, d) {
        const m = {};
        for (const f in l)
          m[f] = r.call(d || this, l[f], f, l);
        return m;
      }
      function J(l, r, d) {
        const m = {};
        for (const f in l)
          r.call(d || this, l[f], f, l) && (m[f] = l[f]);
        return m;
      }
      function _e(l) {
        return Array.isArray(l) ? l.map(_e) : typeof l == "object" && l ? ie(l, _e) : l;
      }
      const ce = {};
      function we(l) {
        ce[l] || (typeof console < "u" && console.warn(l), ce[l] = !0);
      }
      function Be(l, r, d) {
        return (d.y - l.y) * (r.x - l.x) > (r.y - l.y) * (d.x - l.x);
      }
      function Ee(l) {
        let r = 0;
        for (let d, m, f = 0, v = l.length, w = v - 1; f < v; w = f++)
          d = l[f], m = l[w], r += (m.x - d.x) * (d.y + m.y);
        return r;
      }
      function Fe() {
        return typeof WorkerGlobalScope < "u" && typeof self < "u" && self instanceof WorkerGlobalScope;
      }
      function We(l) {
        const r = {};
        if (l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g, (d, m, f, v) => {
          const w = f || v;
          return r[m] = !w || w.toLowerCase(), "";
        }), r["max-age"]) {
          const d = parseInt(r["max-age"], 10);
          isNaN(d) ? delete r["max-age"] : r["max-age"] = d;
        }
        return r;
      }
      let ke, Ze, ft = null;
      function St(l) {
        if (ft == null) {
          const r = l.navigator ? l.navigator.userAgent : null;
          ft = !!l.safari || !(!r || !(/\b(iPad|iPhone|iPod)\b/.test(r) || r.match("Safari") && !r.match("Chrome")));
        }
        return ft;
      }
      function ye(l) {
        return typeof ImageBitmap < "u" && l instanceof ImageBitmap;
      }
      const Re = { now: typeof performance < "u" && performance && performance.now ? performance.now.bind(performance) : Date.now.bind(Date), frame(l) {
        const r = requestAnimationFrame(l);
        return { cancel: () => cancelAnimationFrame(r) };
      }, getImageData(l, r = 0) {
        const d = window.document.createElement("canvas"), m = d.getContext("2d");
        if (!m)
          throw new Error("failed to create canvas 2d context");
        return d.width = l.width, d.height = l.height, m.drawImage(l, 0, 0, l.width, l.height), m.getImageData(-r, -r, l.width + 2 * r, l.height + 2 * r);
      }, resolveURL: (l) => (ke || (ke = document.createElement("a")), ke.href = l, ke.href), hardwareConcurrency: typeof navigator < "u" && navigator.hardwareConcurrency || 4, get prefersReducedMotion() {
        return !!matchMedia && (Ze == null && (Ze = matchMedia("(prefers-reduced-motion: reduce)")), Ze.matches);
      } };
      var Me = nt;
      function nt(l, r) {
        this.x = l, this.y = r;
      }
      nt.prototype = { clone: function() {
        return new nt(this.x, this.y);
      }, add: function(l) {
        return this.clone()._add(l);
      }, sub: function(l) {
        return this.clone()._sub(l);
      }, multByPoint: function(l) {
        return this.clone()._multByPoint(l);
      }, divByPoint: function(l) {
        return this.clone()._divByPoint(l);
      }, mult: function(l) {
        return this.clone()._mult(l);
      }, div: function(l) {
        return this.clone()._div(l);
      }, rotate: function(l) {
        return this.clone()._rotate(l);
      }, rotateAround: function(l, r) {
        return this.clone()._rotateAround(l, r);
      }, matMult: function(l) {
        return this.clone()._matMult(l);
      }, unit: function() {
        return this.clone()._unit();
      }, perp: function() {
        return this.clone()._perp();
      }, round: function() {
        return this.clone()._round();
      }, mag: function() {
        return Math.sqrt(this.x * this.x + this.y * this.y);
      }, equals: function(l) {
        return this.x === l.x && this.y === l.y;
      }, dist: function(l) {
        return Math.sqrt(this.distSqr(l));
      }, distSqr: function(l) {
        var r = l.x - this.x, d = l.y - this.y;
        return r * r + d * d;
      }, angle: function() {
        return Math.atan2(this.y, this.x);
      }, angleTo: function(l) {
        return Math.atan2(this.y - l.y, this.x - l.x);
      }, angleWith: function(l) {
        return this.angleWithSep(l.x, l.y);
      }, angleWithSep: function(l, r) {
        return Math.atan2(this.x * r - this.y * l, this.x * l + this.y * r);
      }, _matMult: function(l) {
        var r = l[2] * this.x + l[3] * this.y;
        return this.x = l[0] * this.x + l[1] * this.y, this.y = r, this;
      }, _add: function(l) {
        return this.x += l.x, this.y += l.y, this;
      }, _sub: function(l) {
        return this.x -= l.x, this.y -= l.y, this;
      }, _mult: function(l) {
        return this.x *= l, this.y *= l, this;
      }, _div: function(l) {
        return this.x /= l, this.y /= l, this;
      }, _multByPoint: function(l) {
        return this.x *= l.x, this.y *= l.y, this;
      }, _divByPoint: function(l) {
        return this.x /= l.x, this.y /= l.y, this;
      }, _unit: function() {
        return this._div(this.mag()), this;
      }, _perp: function() {
        var l = this.y;
        return this.y = this.x, this.x = -l, this;
      }, _rotate: function(l) {
        var r = Math.cos(l), d = Math.sin(l), m = d * this.x + r * this.y;
        return this.x = r * this.x - d * this.y, this.y = m, this;
      }, _rotateAround: function(l, r) {
        var d = Math.cos(l), m = Math.sin(l), f = r.y + m * (this.x - r.x) + d * (this.y - r.y);
        return this.x = r.x + d * (this.x - r.x) - m * (this.y - r.y), this.y = f, this;
      }, _round: function() {
        return this.x = Math.round(this.x), this.y = Math.round(this.y), this;
      } }, nt.convert = function(l) {
        return l instanceof nt ? l : Array.isArray(l) ? new nt(l[0], l[1]) : l;
      };
      const yt = { MAX_PARALLEL_IMAGE_REQUESTS: 16, REGISTERED_PROTOCOLS: {} }, Mt = "mapbox-tiles";
      let aa, ia, $t = 500, bi = 50;
      function Gt() {
        typeof caches > "u" || aa || (aa = caches.open(Mt));
      }
      let kt = 1 / 0;
      const Pt = { supported: !1, testSupport: function(l) {
        !ja && _a && (Ra ? _i(l) : wa = l);
      } };
      let wa, _a, ja = !1, Ra = !1;
      function _i(l) {
        const r = l.createTexture();
        l.bindTexture(l.TEXTURE_2D, r);
        try {
          if (l.texImage2D(l.TEXTURE_2D, 0, l.RGBA, l.RGBA, l.UNSIGNED_BYTE, _a), l.isContextLost())
            return;
          Pt.supported = !0;
        } catch {
        }
        l.deleteTexture(r), ja = !0;
      }
      typeof document < "u" && (_a = document.createElement("img"), _a.onload = function() {
        wa && _i(wa), wa = null, Ra = !0;
      }, _a.onerror = function() {
        ja = !0, wa = null;
      }, _a.src = "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");
      const ka = { Unknown: "Unknown", Style: "Style", Source: "Source", Tile: "Tile", Glyphs: "Glyphs", SpriteImage: "SpriteImage", SpriteJSON: "SpriteJSON", Image: "Image" };
      typeof Object.freeze == "function" && Object.freeze(ka);
      class Ia extends Error {
        constructor(r, d, m, f) {
          super(`AJAXError: ${d} (${r}): ${m}`), this.status = r, this.statusText = d, this.url = m, this.body = f;
        }
      }
      const xi = Fe() ? () => self.worker && self.worker.referrer : () => (window.location.protocol === "blob:" ? window.parent : window).location.href;
      function Ji(l, r) {
        const d = new AbortController(), m = new Request(l.url, { method: l.method || "GET", body: l.body, credentials: l.credentials, headers: l.headers, referrer: xi(), signal: d.signal });
        let f = !1, v = !1;
        return l.type === "json" && m.headers.set("Accept", "application/json"), ((w, E, C) => {
          if (v)
            return;
          const P = Date.now();
          fetch(m).then((W) => W.ok ? ((B, F, U) => {
            (l.type === "arrayBuffer" ? B.arrayBuffer() : l.type === "json" ? B.json() : B.text()).then((V) => {
              v || (F && U && function(ne, ae, ge) {
                if (Gt(), !aa)
                  return;
                const Te = { status: ae.status, statusText: ae.statusText, headers: new Headers() };
                ae.headers.forEach((xe, ze) => Te.headers.set(ze, xe));
                const fe = We(ae.headers.get("Cache-Control") || "");
                fe["no-store"] || (fe["max-age"] && Te.headers.set("Expires", new Date(ge + 1e3 * fe["max-age"]).toUTCString()), new Date(Te.headers.get("Expires")).getTime() - ge < 42e4 || function(xe, ze) {
                  if (ia === void 0)
                    try {
                      new Response(new ReadableStream()), ia = !0;
                    } catch {
                      ia = !1;
                    }
                  ia ? ze(xe.body) : xe.blob().then(ze);
                }(ae, (xe) => {
                  const ze = new Response(xe, Te);
                  Gt(), aa && aa.then((De) => De.put(function(st) {
                    const _t = st.indexOf("?");
                    return _t < 0 ? st : st.slice(0, _t);
                  }(ne.url), ze)).catch((De) => we(De.message));
                }));
              }(m, F, U), f = !0, r(null, V, B.headers.get("Cache-Control"), B.headers.get("Expires")));
            }).catch((V) => {
              v || r(new Error(V.message));
            });
          })(W, null, P) : W.blob().then((B) => r(new Ia(W.status, W.statusText, l.url, B)))).catch((W) => {
            W.code !== 20 && r(new Error(W.message));
          });
        })(), { cancel: () => {
          v = !0, f || d.abort();
        } };
      }
      const Mn = function(l, r) {
        if (/:\/\//.test(l.url) && !/^https?:|^file:/.test(l.url)) {
          if (Fe() && self.worker && self.worker.actor)
            return self.worker.actor.send("getResource", l, r);
          if (!Fe()) {
            const m = l.url.substring(0, l.url.indexOf("://"));
            return (yt.REGISTERED_PROTOCOLS[m] || Ji)(l, r);
          }
        }
        if (!(/^file:/.test(d = l.url) || /^file:/.test(xi()) && !/^\w+:/.test(d))) {
          if (fetch && Request && AbortController && Object.prototype.hasOwnProperty.call(Request.prototype, "signal"))
            return Ji(l, r);
          if (Fe() && self.worker && self.worker.actor)
            return self.worker.actor.send("getResource", l, r, void 0, !0);
        }
        var d;
        return function(m, f) {
          const v = new XMLHttpRequest();
          v.open(m.method || "GET", m.url, !0), m.type === "arrayBuffer" && (v.responseType = "arraybuffer");
          for (const w in m.headers)
            v.setRequestHeader(w, m.headers[w]);
          return m.type === "json" && (v.responseType = "text", v.setRequestHeader("Accept", "application/json")), v.withCredentials = m.credentials === "include", v.onerror = () => {
            f(new Error(v.statusText));
          }, v.onload = () => {
            if ((v.status >= 200 && v.status < 300 || v.status === 0) && v.response !== null) {
              let w = v.response;
              if (m.type === "json")
                try {
                  w = JSON.parse(v.response);
                } catch (E) {
                  return f(E);
                }
              f(null, w, v.getResponseHeader("Cache-Control"), v.getResponseHeader("Expires"));
            } else {
              const w = new Blob([v.response], { type: v.getResponseHeader("Content-Type") });
              f(new Ia(v.status, v.statusText, m.url, w));
            }
          }, v.send(m.body), { cancel: () => v.abort() };
        }(l, r);
      }, Fi = function(l, r) {
        return Mn(D(l, { type: "arrayBuffer" }), r);
      };
      function _n(l) {
        const r = window.document.createElement("a");
        return r.href = l, r.protocol === window.document.location.protocol && r.host === window.document.location.host;
      }
      const zt = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";
      let wi, En;
      wi = [], En = 0;
      const Ln = function(l, r) {
        if (Pt.supported && (l.headers || (l.headers = {}), l.headers.accept = "image/webp,*/*"), En >= yt.MAX_PARALLEL_IMAGE_REQUESTS) {
          const v = { requestParameters: l, callback: r, cancelled: !1, cancel() {
            this.cancelled = !0;
          } };
          return wi.push(v), v;
        }
        En++;
        let d = !1;
        const m = () => {
          if (!d)
            for (d = !0, En--; wi.length && En < yt.MAX_PARALLEL_IMAGE_REQUESTS; ) {
              const v = wi.shift(), { requestParameters: w, callback: E, cancelled: C } = v;
              C || (v.cancel = Ln(w, E).cancel);
            }
        }, f = Fi(l, (v, w, E, C) => {
          m(), v ? r(v) : w && function(P, W) {
            typeof createImageBitmap == "function" ? function(B, F) {
              const U = new Blob([new Uint8Array(B)], { type: "image/png" });
              createImageBitmap(U).then((V) => {
                F(null, V);
              }).catch((V) => {
                F(new Error(`Could not load image because of ${V.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`));
              });
            }(P, W) : function(B, F) {
              const U = new Image();
              U.onload = () => {
                F(null, U), URL.revokeObjectURL(U.src), U.onload = null, window.requestAnimationFrame(() => {
                  U.src = zt;
                });
              }, U.onerror = () => F(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));
              const V = new Blob([new Uint8Array(B)], { type: "image/png" });
              U.src = B.byteLength ? URL.createObjectURL(V) : zt;
            }(P, W);
          }(w, (P, W) => {
            P != null ? r(P) : W != null && r(null, W, { cacheControl: E, expires: C });
          });
        });
        return { cancel: () => {
          f.cancel(), m();
        } };
      };
      function nr(l, r, d) {
        d[l] && d[l].indexOf(r) !== -1 || (d[l] = d[l] || [], d[l].push(r));
      }
      function Si(l, r, d) {
        if (d && d[l]) {
          const m = d[l].indexOf(r);
          m !== -1 && d[l].splice(m, 1);
        }
      }
      class mi {
        constructor(r, d = {}) {
          D(this, d), this.type = r;
        }
      }
      class en extends mi {
        constructor(r, d = {}) {
          super("error", D({ error: r }, d));
        }
      }
      class tn {
        on(r, d) {
          return this._listeners = this._listeners || {}, nr(r, d, this._listeners), this;
        }
        off(r, d) {
          return Si(r, d, this._listeners), Si(r, d, this._oneTimeListeners), this;
        }
        once(r, d) {
          return this._oneTimeListeners = this._oneTimeListeners || {}, nr(r, d, this._oneTimeListeners), this;
        }
        fire(r, d) {
          typeof r == "string" && (r = new mi(r, d || {}));
          const m = r.type;
          if (this.listens(m)) {
            r.target = this;
            const f = this._listeners && this._listeners[m] ? this._listeners[m].slice() : [];
            for (const E of f)
              E.call(this, r);
            const v = this._oneTimeListeners && this._oneTimeListeners[m] ? this._oneTimeListeners[m].slice() : [];
            for (const E of v)
              Si(m, E, this._oneTimeListeners), E.call(this, r);
            const w = this._eventedParent;
            w && (D(r, typeof this._eventedParentData == "function" ? this._eventedParentData() : this._eventedParentData), w.fire(r));
          } else
            r instanceof en && console.error(r.error);
          return this;
        }
        listens(r) {
          return this._listeners && this._listeners[r] && this._listeners[r].length > 0 || this._oneTimeListeners && this._oneTimeListeners[r] && this._oneTimeListeners[r].length > 0 || this._eventedParent && this._eventedParent.listens(r);
        }
        setEventedParent(r, d) {
          return this._eventedParent = r, this._eventedParentData = d, this;
        }
      }
      var Ae = { $version: 8, $root: { version: { required: !0, type: "enum", values: [8] }, name: { type: "string" }, metadata: { type: "*" }, center: { type: "array", value: "number" }, zoom: { type: "number" }, bearing: { type: "number", default: 0, period: 360, units: "degrees" }, pitch: { type: "number", default: 0, units: "degrees" }, light: { type: "light" }, terrain: { type: "terrain" }, sources: { required: !0, type: "sources" }, sprite: { type: "string" }, glyphs: { type: "string" }, transition: { type: "transition" }, layers: { required: !0, type: "array", value: "layer" } }, sources: { "*": { type: "source" } }, source: ["source_vector", "source_raster", "source_raster_dem", "source_geojson", "source_video", "source_image"], source_vector: { type: { required: !0, type: "enum", values: { vector: {} } }, url: { type: "string" }, tiles: { type: "array", value: "string" }, bounds: { type: "array", value: "number", length: 4, default: [-180, -85.051129, 180, 85.051129] }, scheme: { type: "enum", values: { xyz: {}, tms: {} }, default: "xyz" }, minzoom: { type: "number", default: 0 }, maxzoom: { type: "number", default: 22 }, attribution: { type: "string" }, promoteId: { type: "promoteId" }, volatile: { type: "boolean", default: !1 }, "*": { type: "*" } }, source_raster: { type: { required: !0, type: "enum", values: { raster: {} } }, url: { type: "string" }, tiles: { type: "array", value: "string" }, bounds: { type: "array", value: "number", length: 4, default: [-180, -85.051129, 180, 85.051129] }, minzoom: { type: "number", default: 0 }, maxzoom: { type: "number", default: 22 }, tileSize: { type: "number", default: 512, units: "pixels" }, scheme: { type: "enum", values: { xyz: {}, tms: {} }, default: "xyz" }, attribution: { type: "string" }, volatile: { type: "boolean", default: !1 }, "*": { type: "*" } }, source_raster_dem: { type: { required: !0, type: "enum", values: { "raster-dem": {} } }, url: { type: "string" }, tiles: { type: "array", value: "string" }, bounds: { type: "array", value: "number", length: 4, default: [-180, -85.051129, 180, 85.051129] }, minzoom: { type: "number", default: 0 }, maxzoom: { type: "number", default: 22 }, tileSize: { type: "number", default: 512, units: "pixels" }, attribution: { type: "string" }, encoding: { type: "enum", values: { terrarium: {}, mapbox: {} }, default: "mapbox" }, volatile: { type: "boolean", default: !1 }, "*": { type: "*" } }, source_geojson: { type: { required: !0, type: "enum", values: { geojson: {} } }, data: { type: "*" }, maxzoom: { type: "number", default: 18 }, attribution: { type: "string" }, buffer: { type: "number", default: 128, maximum: 512, minimum: 0 }, filter: { type: "*" }, tolerance: { type: "number", default: 0.375 }, cluster: { type: "boolean", default: !1 }, clusterRadius: { type: "number", default: 50, minimum: 0 }, clusterMaxZoom: { type: "number" }, clusterMinPoints: { type: "number" }, clusterProperties: { type: "*" }, lineMetrics: { type: "boolean", default: !1 }, generateId: { type: "boolean", default: !1 }, promoteId: { type: "promoteId" } }, source_video: { type: { required: !0, type: "enum", values: { video: {} } }, urls: { required: !0, type: "array", value: "string" }, coordinates: { required: !0, type: "array", length: 4, value: { type: "array", length: 2, value: "number" } } }, source_image: { type: { required: !0, type: "enum", values: { image: {} } }, url: { required: !0, type: "string" }, coordinates: { required: !0, type: "array", length: 4, value: { type: "array", length: 2, value: "number" } } }, layer: { id: { type: "string", required: !0 }, type: { type: "enum", values: { fill: {}, line: {}, symbol: {}, circle: {}, heatmap: {}, "fill-extrusion": {}, raster: {}, hillshade: {}, background: {} }, required: !0 }, metadata: { type: "*" }, source: { type: "string" }, "source-layer": { type: "string" }, minzoom: { type: "number", minimum: 0, maximum: 24 }, maxzoom: { type: "number", minimum: 0, maximum: 24 }, filter: { type: "filter" }, layout: { type: "layout" }, paint: { type: "paint" } }, layout: ["layout_fill", "layout_line", "layout_circle", "layout_heatmap", "layout_fill-extrusion", "layout_symbol", "layout_raster", "layout_hillshade", "layout_background"], layout_background: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_fill: { "fill-sort-key": { type: "number", expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_circle: { "circle-sort-key": { type: "number", expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_heatmap: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, "layout_fill-extrusion": { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_line: { "line-cap": { type: "enum", values: { butt: {}, round: {}, square: {} }, default: "butt", expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-join": { type: "enum", values: { bevel: {}, round: {}, miter: {} }, default: "miter", expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "line-miter-limit": { type: "number", default: 2, requires: [{ "line-join": "miter" }], expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-round-limit": { type: "number", default: 1.05, requires: [{ "line-join": "round" }], expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-sort-key": { type: "number", expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_symbol: { "symbol-placement": { type: "enum", values: { point: {}, line: {}, "line-center": {} }, default: "point", expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "symbol-spacing": { type: "number", default: 250, minimum: 1, units: "pixels", requires: [{ "symbol-placement": "line" }], expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "symbol-avoid-edges": { type: "boolean", default: !1, expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "symbol-sort-key": { type: "number", expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "symbol-z-order": { type: "enum", values: { auto: {}, "viewport-y": {}, source: {} }, default: "auto", expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-allow-overlap": { type: "boolean", default: !1, requires: ["icon-image", { "!": "icon-overlap" }], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-overlap": { type: "enum", values: { never: {}, always: {}, cooperative: {} }, requires: ["icon-image"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-ignore-placement": { type: "boolean", default: !1, requires: ["icon-image"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-optional": { type: "boolean", default: !1, requires: ["icon-image", "text-field"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-rotation-alignment": { type: "enum", values: { map: {}, viewport: {}, auto: {} }, default: "auto", requires: ["icon-image"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-size": { type: "number", default: 1, minimum: 0, units: "factor of the original icon size", requires: ["icon-image"], expression: { interpolated: !0, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-text-fit": { type: "enum", values: { none: {}, width: {}, height: {}, both: {} }, default: "none", requires: ["icon-image", "text-field"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-text-fit-padding": { type: "array", value: "number", length: 4, default: [0, 0, 0, 0], units: "pixels", requires: ["icon-image", "text-field", { "icon-text-fit": ["both", "width", "height"] }], expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-image": { type: "resolvedImage", tokens: !0, expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-rotate": { type: "number", default: 0, period: 360, units: "degrees", requires: ["icon-image"], expression: { interpolated: !0, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-padding": { type: "padding", default: [2], units: "pixels", requires: ["icon-image"], expression: { interpolated: !0, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-keep-upright": { type: "boolean", default: !1, requires: ["icon-image", { "icon-rotation-alignment": "map" }, { "symbol-placement": ["line", "line-center"] }], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-offset": { type: "array", value: "number", length: 2, default: [0, 0], requires: ["icon-image"], expression: { interpolated: !0, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-anchor": { type: "enum", values: { center: {}, left: {}, right: {}, top: {}, bottom: {}, "top-left": {}, "top-right": {}, "bottom-left": {}, "bottom-right": {} }, default: "center", requires: ["icon-image"], expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-pitch-alignment": { type: "enum", values: { map: {}, viewport: {}, auto: {} }, default: "auto", requires: ["icon-image"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-pitch-alignment": { type: "enum", values: { map: {}, viewport: {}, auto: {} }, default: "auto", requires: ["text-field"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-rotation-alignment": { type: "enum", values: { map: {}, viewport: {}, "viewport-glyph": {}, auto: {} }, default: "auto", requires: ["text-field"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-field": { type: "formatted", default: "", tokens: !0, expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-font": { type: "array", value: "string", default: ["Open Sans Regular", "Arial Unicode MS Regular"], requires: ["text-field"], expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-size": { type: "number", default: 16, minimum: 0, units: "pixels", requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-max-width": { type: "number", default: 10, minimum: 0, units: "ems", requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-line-height": { type: "number", default: 1.2, units: "ems", requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-letter-spacing": { type: "number", default: 0, units: "ems", requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-justify": { type: "enum", values: { auto: {}, left: {}, center: {}, right: {} }, default: "center", requires: ["text-field"], expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-radial-offset": { type: "number", units: "ems", default: 0, requires: ["text-field"], "property-type": "data-driven", expression: { interpolated: !0, parameters: ["zoom", "feature"] } }, "text-variable-anchor": { type: "array", value: "enum", values: { center: {}, left: {}, right: {}, top: {}, bottom: {}, "top-left": {}, "top-right": {}, "bottom-left": {}, "bottom-right": {} }, requires: ["text-field", { "symbol-placement": ["point"] }], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-anchor": { type: "enum", values: { center: {}, left: {}, right: {}, top: {}, bottom: {}, "top-left": {}, "top-right": {}, "bottom-left": {}, "bottom-right": {} }, default: "center", requires: ["text-field", { "!": "text-variable-anchor" }], expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-max-angle": { type: "number", default: 45, units: "degrees", requires: ["text-field", { "symbol-placement": ["line", "line-center"] }], expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-writing-mode": { type: "array", value: "enum", values: { horizontal: {}, vertical: {} }, requires: ["text-field", { "symbol-placement": ["point"] }], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-rotate": { type: "number", default: 0, period: 360, units: "degrees", requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-padding": { type: "number", default: 2, minimum: 0, units: "pixels", requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-keep-upright": { type: "boolean", default: !0, requires: ["text-field", { "text-rotation-alignment": "map" }, { "symbol-placement": ["line", "line-center"] }], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-transform": { type: "enum", values: { none: {}, uppercase: {}, lowercase: {} }, default: "none", requires: ["text-field"], expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-offset": { type: "array", value: "number", units: "ems", length: 2, default: [0, 0], requires: ["text-field", { "!": "text-radial-offset" }], expression: { interpolated: !0, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-allow-overlap": { type: "boolean", default: !1, requires: ["text-field", { "!": "text-overlap" }], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-overlap": { type: "enum", values: { never: {}, always: {}, cooperative: {} }, requires: ["text-field"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-ignore-placement": { type: "boolean", default: !1, requires: ["text-field"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-optional": { type: "boolean", default: !1, requires: ["text-field", "icon-image"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_raster: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_hillshade: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, filter: { type: "array", value: "*" }, filter_operator: { type: "enum", values: { "==": {}, "!=": {}, ">": {}, ">=": {}, "<": {}, "<=": {}, in: {}, "!in": {}, all: {}, any: {}, none: {}, has: {}, "!has": {}, within: {} } }, geometry_type: { type: "enum", values: { Point: {}, LineString: {}, Polygon: {} } }, function: { expression: { type: "expression" }, stops: { type: "array", value: "function_stop" }, base: { type: "number", default: 1, minimum: 0 }, property: { type: "string", default: "$zoom" }, type: { type: "enum", values: { identity: {}, exponential: {}, interval: {}, categorical: {} }, default: "exponential" }, colorSpace: { type: "enum", values: { rgb: {}, lab: {}, hcl: {} }, default: "rgb" }, default: { type: "*", required: !1 } }, function_stop: { type: "array", minimum: 0, maximum: 24, value: ["number", "color"], length: 2 }, expression: { type: "array", value: "*", minimum: 1 }, light: { anchor: { type: "enum", default: "viewport", values: { map: {}, viewport: {} }, "property-type": "data-constant", transition: !1, expression: { interpolated: !1, parameters: ["zoom"] } }, position: { type: "array", default: [1.15, 210, 30], length: 3, value: "number", "property-type": "data-constant", transition: !0, expression: { interpolated: !0, parameters: ["zoom"] } }, color: { type: "color", "property-type": "data-constant", default: "#ffffff", expression: { interpolated: !0, parameters: ["zoom"] }, transition: !0 }, intensity: { type: "number", "property-type": "data-constant", default: 0.5, minimum: 0, maximum: 1, expression: { interpolated: !0, parameters: ["zoom"] }, transition: !0 } }, terrain: { source: { type: "string", required: !0 }, exaggeration: { type: "number", minimum: 0, default: 1 }, elevationOffset: { type: "number", default: 450 } }, paint: ["paint_fill", "paint_line", "paint_circle", "paint_heatmap", "paint_fill-extrusion", "paint_symbol", "paint_raster", "paint_hillshade", "paint_background"], paint_fill: { "fill-antialias": { type: "boolean", default: !0, expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-color": { type: "color", default: "#000000", transition: !0, requires: [{ "!": "fill-pattern" }], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-outline-color": { type: "color", transition: !0, requires: [{ "!": "fill-pattern" }, { "fill-antialias": !0 }], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: !0, units: "pixels", expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["fill-translate"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-pattern": { type: "resolvedImage", transition: !0, expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "cross-faded-data-driven" } }, "paint_fill-extrusion": { "fill-extrusion-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-extrusion-color": { type: "color", default: "#000000", transition: !0, requires: [{ "!": "fill-extrusion-pattern" }], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-extrusion-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: !0, units: "pixels", expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-extrusion-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["fill-extrusion-translate"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-extrusion-pattern": { type: "resolvedImage", transition: !0, expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "cross-faded-data-driven" }, "fill-extrusion-height": { type: "number", default: 0, minimum: 0, units: "meters", transition: !0, expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-extrusion-base": { type: "number", default: 0, minimum: 0, units: "meters", transition: !0, requires: ["fill-extrusion-height"], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-extrusion-vertical-gradient": { type: "boolean", default: !0, transition: !1, expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_line: { "line-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-color": { type: "color", default: "#000000", transition: !0, requires: [{ "!": "line-pattern" }], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: !0, units: "pixels", expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["line-translate"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-width": { type: "number", default: 1, minimum: 0, transition: !0, units: "pixels", expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-gap-width": { type: "number", default: 0, minimum: 0, transition: !0, units: "pixels", expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-offset": { type: "number", default: 0, transition: !0, units: "pixels", expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-blur": { type: "number", default: 0, minimum: 0, transition: !0, units: "pixels", expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-dasharray": { type: "array", value: "number", minimum: 0, transition: !0, units: "line widths", requires: [{ "!": "line-pattern" }], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "cross-faded" }, "line-pattern": { type: "resolvedImage", transition: !0, expression: { interpolated: !1, parameters: ["zoom", "feature"] }, "property-type": "cross-faded-data-driven" }, "line-gradient": { type: "color", transition: !1, requires: [{ "!": "line-dasharray" }, { "!": "line-pattern" }, { source: "geojson", has: { lineMetrics: !0 } }], expression: { interpolated: !0, parameters: ["line-progress"] }, "property-type": "color-ramp" } }, paint_circle: { "circle-radius": { type: "number", default: 5, minimum: 0, transition: !0, units: "pixels", expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-color": { type: "color", default: "#000000", transition: !0, expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-blur": { type: "number", default: 0, transition: !0, expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: !0, units: "pixels", expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["circle-translate"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-pitch-scale": { type: "enum", values: { map: {}, viewport: {} }, default: "map", expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-pitch-alignment": { type: "enum", values: { map: {}, viewport: {} }, default: "viewport", expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-stroke-width": { type: "number", default: 0, minimum: 0, transition: !0, units: "pixels", expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-stroke-color": { type: "color", default: "#000000", transition: !0, expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-stroke-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" } }, paint_heatmap: { "heatmap-radius": { type: "number", default: 30, minimum: 1, transition: !0, units: "pixels", expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "heatmap-weight": { type: "number", default: 1, minimum: 0, transition: !1, expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "heatmap-intensity": { type: "number", default: 1, minimum: 0, transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "heatmap-color": { type: "color", default: ["interpolate", ["linear"], ["heatmap-density"], 0, "rgba(0, 0, 255, 0)", 0.1, "royalblue", 0.3, "cyan", 0.5, "lime", 0.7, "yellow", 1, "red"], transition: !1, expression: { interpolated: !0, parameters: ["heatmap-density"] }, "property-type": "color-ramp" }, "heatmap-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_symbol: { "icon-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: !0, requires: ["icon-image"], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-color": { type: "color", default: "#000000", transition: !0, requires: ["icon-image"], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-halo-color": { type: "color", default: "rgba(0, 0, 0, 0)", transition: !0, requires: ["icon-image"], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-halo-width": { type: "number", default: 0, minimum: 0, transition: !0, units: "pixels", requires: ["icon-image"], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-halo-blur": { type: "number", default: 0, minimum: 0, transition: !0, units: "pixels", requires: ["icon-image"], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: !0, units: "pixels", requires: ["icon-image"], expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["icon-image", "icon-translate"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: !0, requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-color": { type: "color", default: "#000000", transition: !0, overridable: !0, requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-halo-color": { type: "color", default: "rgba(0, 0, 0, 0)", transition: !0, requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-halo-width": { type: "number", default: 0, minimum: 0, transition: !0, units: "pixels", requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-halo-blur": { type: "number", default: 0, minimum: 0, transition: !0, units: "pixels", requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: !0, units: "pixels", requires: ["text-field"], expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["text-field", "text-translate"], expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_raster: { "raster-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-hue-rotate": { type: "number", default: 0, period: 360, transition: !0, units: "degrees", expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-brightness-min": { type: "number", default: 0, minimum: 0, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-brightness-max": { type: "number", default: 1, minimum: 0, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-saturation": { type: "number", default: 0, minimum: -1, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-contrast": { type: "number", default: 0, minimum: -1, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-resampling": { type: "enum", values: { linear: {}, nearest: {} }, default: "linear", expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-fade-duration": { type: "number", default: 300, minimum: 0, transition: !1, units: "milliseconds", expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_hillshade: { "hillshade-illumination-direction": { type: "number", default: 335, minimum: 0, maximum: 359, transition: !1, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-illumination-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "viewport", expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-exaggeration": { type: "number", default: 0.5, minimum: 0, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-shadow-color": { type: "color", default: "#000000", transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-highlight-color": { type: "color", default: "#FFFFFF", transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-accent-color": { type: "color", default: "#000000", transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_background: { "background-color": { type: "color", default: "#000000", transition: !0, requires: [{ "!": "background-pattern" }], expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" }, "background-pattern": { type: "resolvedImage", transition: !0, expression: { interpolated: !1, parameters: ["zoom"] }, "property-type": "cross-faded" }, "background-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: !0, expression: { interpolated: !0, parameters: ["zoom"] }, "property-type": "data-constant" } }, transition: { duration: { type: "number", default: 300, minimum: 0, units: "milliseconds" }, delay: { type: "number", default: 0, minimum: 0, units: "milliseconds" } }, "property-type": { "data-driven": { type: "property-type" }, "cross-faded": { type: "property-type" }, "cross-faded-data-driven": { type: "property-type" }, "color-ramp": { type: "property-type" }, "data-constant": { type: "property-type" }, constant: { type: "property-type" } }, promoteId: { "*": { type: "string" } } };
      class Ve {
        constructor(r, d, m, f) {
          this.message = (r ? `${r}: ` : "") + m, f && (this.identifier = f), d != null && d.__line__ && (this.line = d.__line__);
        }
      }
      function Wi(l) {
        const r = l.value;
        return r ? [new Ve(l.key, r, "constants have been deprecated as of v8")] : [];
      }
      function zi(l, ...r) {
        for (const d of r)
          for (const m in d)
            l[m] = d[m];
        return l;
      }
      function Dt(l) {
        return l instanceof Number || l instanceof String || l instanceof Boolean ? l.valueOf() : l;
      }
      function Qa(l) {
        if (Array.isArray(l))
          return l.map(Qa);
        if (l instanceof Object && !(l instanceof Number || l instanceof String || l instanceof Boolean)) {
          const r = {};
          for (const d in l)
            r[d] = Qa(l[d]);
          return r;
        }
        return Dt(l);
      }
      class Da extends Error {
        constructor(r, d) {
          super(d), this.message = d, this.key = r;
        }
      }
      class na {
        constructor(r, d = []) {
          this.parent = r, this.bindings = {};
          for (const [m, f] of d)
            this.bindings[m] = f;
        }
        concat(r) {
          return new na(this, r);
        }
        get(r) {
          if (this.bindings[r])
            return this.bindings[r];
          if (this.parent)
            return this.parent.get(r);
          throw new Error(`${r} not found in scope.`);
        }
        has(r) {
          return !!this.bindings[r] || !!this.parent && this.parent.has(r);
        }
      }
      const Un = { kind: "null" }, He = { kind: "number" }, Wt = { kind: "string" }, Et = { kind: "boolean" }, hi = { kind: "color" }, yr = { kind: "object" }, ht = { kind: "value" }, Gi = { kind: "collator" }, ri = { kind: "formatted" }, Rr = { kind: "padding" }, Va = { kind: "resolvedImage" };
      function Ti(l, r) {
        return { kind: "array", itemType: l, N: r };
      }
      function ra(l) {
        if (l.kind === "array") {
          const r = ra(l.itemType);
          return typeof l.N == "number" ? `array<${r}, ${l.N}>` : l.itemType.kind === "value" ? "array" : `array<${r}>`;
        }
        return l.kind;
      }
      const es = [Un, He, Wt, Et, hi, ri, yr, Ti(ht), Rr, Va];
      function an(l, r) {
        if (r.kind === "error")
          return null;
        if (l.kind === "array") {
          if (r.kind === "array" && (r.N === 0 && r.itemType.kind === "value" || !an(l.itemType, r.itemType)) && (typeof l.N != "number" || l.N === r.N))
            return null;
        } else {
          if (l.kind === r.kind)
            return null;
          if (l.kind === "value") {
            for (const d of es)
              if (!an(d, r))
                return null;
          }
        }
        return `Expected ${ra(l)} but found ${ra(r)} instead.`;
      }
      function rr(l, r) {
        return r.some((d) => d.kind === l.kind);
      }
      function kr(l, r) {
        return r.some((d) => d === "null" ? l === null : d === "array" ? Array.isArray(l) : d === "object" ? l && !Array.isArray(l) && typeof l == "object" : d === typeof l);
      }
      var Ui, sr = { transparent: [0, 0, 0, 0], aliceblue: [240, 248, 255, 1], antiquewhite: [250, 235, 215, 1], aqua: [0, 255, 255, 1], aquamarine: [127, 255, 212, 1], azure: [240, 255, 255, 1], beige: [245, 245, 220, 1], bisque: [255, 228, 196, 1], black: [0, 0, 0, 1], blanchedalmond: [255, 235, 205, 1], blue: [0, 0, 255, 1], blueviolet: [138, 43, 226, 1], brown: [165, 42, 42, 1], burlywood: [222, 184, 135, 1], cadetblue: [95, 158, 160, 1], chartreuse: [127, 255, 0, 1], chocolate: [210, 105, 30, 1], coral: [255, 127, 80, 1], cornflowerblue: [100, 149, 237, 1], cornsilk: [255, 248, 220, 1], crimson: [220, 20, 60, 1], cyan: [0, 255, 255, 1], darkblue: [0, 0, 139, 1], darkcyan: [0, 139, 139, 1], darkgoldenrod: [184, 134, 11, 1], darkgray: [169, 169, 169, 1], darkgreen: [0, 100, 0, 1], darkgrey: [169, 169, 169, 1], darkkhaki: [189, 183, 107, 1], darkmagenta: [139, 0, 139, 1], darkolivegreen: [85, 107, 47, 1], darkorange: [255, 140, 0, 1], darkorchid: [153, 50, 204, 1], darkred: [139, 0, 0, 1], darksalmon: [233, 150, 122, 1], darkseagreen: [143, 188, 143, 1], darkslateblue: [72, 61, 139, 1], darkslategray: [47, 79, 79, 1], darkslategrey: [47, 79, 79, 1], darkturquoise: [0, 206, 209, 1], darkviolet: [148, 0, 211, 1], deeppink: [255, 20, 147, 1], deepskyblue: [0, 191, 255, 1], dimgray: [105, 105, 105, 1], dimgrey: [105, 105, 105, 1], dodgerblue: [30, 144, 255, 1], firebrick: [178, 34, 34, 1], floralwhite: [255, 250, 240, 1], forestgreen: [34, 139, 34, 1], fuchsia: [255, 0, 255, 1], gainsboro: [220, 220, 220, 1], ghostwhite: [248, 248, 255, 1], gold: [255, 215, 0, 1], goldenrod: [218, 165, 32, 1], gray: [128, 128, 128, 1], green: [0, 128, 0, 1], greenyellow: [173, 255, 47, 1], grey: [128, 128, 128, 1], honeydew: [240, 255, 240, 1], hotpink: [255, 105, 180, 1], indianred: [205, 92, 92, 1], indigo: [75, 0, 130, 1], ivory: [255, 255, 240, 1], khaki: [240, 230, 140, 1], lavender: [230, 230, 250, 1], lavenderblush: [255, 240, 245, 1], lawngreen: [124, 252, 0, 1], lemonchiffon: [255, 250, 205, 1], lightblue: [173, 216, 230, 1], lightcoral: [240, 128, 128, 1], lightcyan: [224, 255, 255, 1], lightgoldenrodyellow: [250, 250, 210, 1], lightgray: [211, 211, 211, 1], lightgreen: [144, 238, 144, 1], lightgrey: [211, 211, 211, 1], lightpink: [255, 182, 193, 1], lightsalmon: [255, 160, 122, 1], lightseagreen: [32, 178, 170, 1], lightskyblue: [135, 206, 250, 1], lightslategray: [119, 136, 153, 1], lightslategrey: [119, 136, 153, 1], lightsteelblue: [176, 196, 222, 1], lightyellow: [255, 255, 224, 1], lime: [0, 255, 0, 1], limegreen: [50, 205, 50, 1], linen: [250, 240, 230, 1], magenta: [255, 0, 255, 1], maroon: [128, 0, 0, 1], mediumaquamarine: [102, 205, 170, 1], mediumblue: [0, 0, 205, 1], mediumorchid: [186, 85, 211, 1], mediumpurple: [147, 112, 219, 1], mediumseagreen: [60, 179, 113, 1], mediumslateblue: [123, 104, 238, 1], mediumspringgreen: [0, 250, 154, 1], mediumturquoise: [72, 209, 204, 1], mediumvioletred: [199, 21, 133, 1], midnightblue: [25, 25, 112, 1], mintcream: [245, 255, 250, 1], mistyrose: [255, 228, 225, 1], moccasin: [255, 228, 181, 1], navajowhite: [255, 222, 173, 1], navy: [0, 0, 128, 1], oldlace: [253, 245, 230, 1], olive: [128, 128, 0, 1], olivedrab: [107, 142, 35, 1], orange: [255, 165, 0, 1], orangered: [255, 69, 0, 1], orchid: [218, 112, 214, 1], palegoldenrod: [238, 232, 170, 1], palegreen: [152, 251, 152, 1], paleturquoise: [175, 238, 238, 1], palevioletred: [219, 112, 147, 1], papayawhip: [255, 239, 213, 1], peachpuff: [255, 218, 185, 1], peru: [205, 133, 63, 1], pink: [255, 192, 203, 1], plum: [221, 160, 221, 1], powderblue: [176, 224, 230, 1], purple: [128, 0, 128, 1], rebeccapurple: [102, 51, 153, 1], red: [255, 0, 0, 1], rosybrown: [188, 143, 143, 1], royalblue: [65, 105, 225, 1], saddlebrown: [139, 69, 19, 1], salmon: [250, 128, 114, 1], sandybrown: [244, 164, 96, 1], seagreen: [46, 139, 87, 1], seashell: [255, 245, 238, 1], sienna: [160, 82, 45, 1], silver: [192, 192, 192, 1], skyblue: [135, 206, 235, 1], slateblue: [106, 90, 205, 1], slategray: [112, 128, 144, 1], slategrey: [112, 128, 144, 1], snow: [255, 250, 250, 1], springgreen: [0, 255, 127, 1], steelblue: [70, 130, 180, 1], tan: [210, 180, 140, 1], teal: [0, 128, 128, 1], thistle: [216, 191, 216, 1], tomato: [255, 99, 71, 1], turquoise: [64, 224, 208, 1], violet: [238, 130, 238, 1], wheat: [245, 222, 179, 1], white: [255, 255, 255, 1], whitesmoke: [245, 245, 245, 1], yellow: [255, 255, 0, 1], yellowgreen: [154, 205, 50, 1] };
      function H(l) {
        return (l = Math.round(l)) < 0 ? 0 : l > 255 ? 255 : l;
      }
      function k(l) {
        return H(l[l.length - 1] === "%" ? parseFloat(l) / 100 * 255 : parseInt(l));
      }
      function N(l) {
        return (r = l[l.length - 1] === "%" ? parseFloat(l) / 100 : parseFloat(l)) < 0 ? 0 : r > 1 ? 1 : r;
        var r;
      }
      function $(l, r, d) {
        return d < 0 ? d += 1 : d > 1 && (d -= 1), 6 * d < 1 ? l + (r - l) * d * 6 : 2 * d < 1 ? r : 3 * d < 2 ? l + (r - l) * (2 / 3 - d) * 6 : l;
      }
      try {
        Ui = {}.parseCSSColor = function(l) {
          var r, d = l.replace(/ /g, "").toLowerCase();
          if (d in sr)
            return sr[d].slice();
          if (d[0] === "#")
            return d.length === 4 ? (r = parseInt(d.substr(1), 16)) >= 0 && r <= 4095 ? [(3840 & r) >> 4 | (3840 & r) >> 8, 240 & r | (240 & r) >> 4, 15 & r | (15 & r) << 4, 1] : null : d.length === 7 && (r = parseInt(d.substr(1), 16)) >= 0 && r <= 16777215 ? [(16711680 & r) >> 16, (65280 & r) >> 8, 255 & r, 1] : null;
          var m = d.indexOf("("), f = d.indexOf(")");
          if (m !== -1 && f + 1 === d.length) {
            var v = d.substr(0, m), w = d.substr(m + 1, f - (m + 1)).split(","), E = 1;
            switch (v) {
              case "rgba":
                if (w.length !== 4)
                  return null;
                E = N(w.pop());
              case "rgb":
                return w.length !== 3 ? null : [k(w[0]), k(w[1]), k(w[2]), E];
              case "hsla":
                if (w.length !== 4)
                  return null;
                E = N(w.pop());
              case "hsl":
                if (w.length !== 3)
                  return null;
                var C = (parseFloat(w[0]) % 360 + 360) % 360 / 360, P = N(w[1]), W = N(w[2]), B = W <= 0.5 ? W * (P + 1) : W + P - W * P, F = 2 * W - B;
                return [H(255 * $(F, B, C + 1 / 3)), H(255 * $(F, B, C)), H(255 * $(F, B, C - 1 / 3)), E];
              default:
                return null;
            }
          }
          return null;
        };
      } catch {
      }
      class Z {
        constructor(r, d, m, f = 1) {
          this.r = r, this.g = d, this.b = m, this.a = f;
        }
        static parse(r) {
          if (!r)
            return;
          if (r instanceof Z)
            return r;
          if (typeof r != "string")
            return;
          const d = Ui(r);
          return d ? new Z(d[0] / 255 * d[3], d[1] / 255 * d[3], d[2] / 255 * d[3], d[3]) : void 0;
        }
        toString() {
          const [r, d, m, f] = this.toArray();
          return `rgba(${Math.round(r)},${Math.round(d)},${Math.round(m)},${f})`;
        }
        toArray() {
          const { r, g: d, b: m, a: f } = this;
          return f === 0 ? [0, 0, 0, 0] : [255 * r / f, 255 * d / f, 255 * m / f, f];
        }
      }
      Z.black = new Z(0, 0, 0, 1), Z.white = new Z(1, 1, 1, 1), Z.transparent = new Z(0, 0, 0, 0), Z.red = new Z(1, 0, 0, 1);
      class re {
        constructor(r, d, m) {
          this.sensitivity = r ? d ? "variant" : "case" : d ? "accent" : "base", this.locale = m, this.collator = new Intl.Collator(this.locale ? this.locale : [], { sensitivity: this.sensitivity, usage: "search" });
        }
        compare(r, d) {
          return this.collator.compare(r, d);
        }
        resolvedLocale() {
          return new Intl.Collator(this.locale ? this.locale : []).resolvedOptions().locale;
        }
      }
      class de {
        constructor(r, d, m, f, v) {
          this.text = r, this.image = d, this.scale = m, this.fontStack = f, this.textColor = v;
        }
      }
      class le {
        constructor(r) {
          this.sections = r;
        }
        static fromString(r) {
          return new le([new de(r, null, null, null, null)]);
        }
        isEmpty() {
          return this.sections.length === 0 || !this.sections.some((r) => r.text.length !== 0 || r.image && r.image.name.length !== 0);
        }
        static factory(r) {
          return r instanceof le ? r : le.fromString(r);
        }
        toString() {
          return this.sections.length === 0 ? "" : this.sections.map((r) => r.text).join("");
        }
      }
      class se {
        constructor(r) {
          this.values = r.slice();
        }
        static parse(r) {
          if (r instanceof se)
            return r;
          if (typeof r == "number")
            return new se([r, r, r, r]);
          if (Array.isArray(r) && !(r.length < 1 || r.length > 4)) {
            for (const d of r)
              if (typeof d != "number")
                return;
            switch (r.length) {
              case 1:
                r = [r[0], r[0], r[0], r[0]];
                break;
              case 2:
                r = [r[0], r[1], r[0], r[1]];
                break;
              case 3:
                r = [r[0], r[1], r[2], r[1]];
            }
            return new se(r);
          }
        }
        toString() {
          return JSON.stringify(this.values);
        }
      }
      class me {
        constructor(r) {
          this.name = r.name, this.available = r.available;
        }
        toString() {
          return this.name;
        }
        static fromString(r) {
          return r ? new me({ name: r, available: !1 }) : null;
        }
      }
      function he(l, r, d, m) {
        return typeof l == "number" && l >= 0 && l <= 255 && typeof r == "number" && r >= 0 && r <= 255 && typeof d == "number" && d >= 0 && d <= 255 ? m === void 0 || typeof m == "number" && m >= 0 && m <= 1 ? null : `Invalid rgba value [${[l, r, d, m].join(", ")}]: 'a' must be between 0 and 1.` : `Invalid rgba value [${(typeof m == "number" ? [l, r, d, m] : [l, r, d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`;
      }
      function X(l) {
        if (l === null || typeof l == "string" || typeof l == "boolean" || typeof l == "number" || l instanceof Z || l instanceof re || l instanceof le || l instanceof se || l instanceof me)
          return !0;
        if (Array.isArray(l)) {
          for (const r of l)
            if (!X(r))
              return !1;
          return !0;
        }
        if (typeof l == "object") {
          for (const r in l)
            if (!X(l[r]))
              return !1;
          return !0;
        }
        return !1;
      }
      function oe(l) {
        if (l === null)
          return Un;
        if (typeof l == "string")
          return Wt;
        if (typeof l == "boolean")
          return Et;
        if (typeof l == "number")
          return He;
        if (l instanceof Z)
          return hi;
        if (l instanceof re)
          return Gi;
        if (l instanceof le)
          return ri;
        if (l instanceof se)
          return Rr;
        if (l instanceof me)
          return Va;
        if (Array.isArray(l)) {
          const r = l.length;
          let d;
          for (const m of l) {
            const f = oe(m);
            if (d) {
              if (d === f)
                continue;
              d = ht;
              break;
            }
            d = f;
          }
          return Ti(d || ht, r);
        }
        return yr;
      }
      function Le(l) {
        const r = typeof l;
        return l === null ? "" : r === "string" || r === "number" || r === "boolean" ? String(l) : l instanceof Z || l instanceof le || l instanceof se || l instanceof me ? l.toString() : JSON.stringify(l);
      }
      class Ue {
        constructor(r, d) {
          this.type = r, this.value = d;
        }
        static parse(r, d) {
          if (r.length !== 2)
            return d.error(`'literal' expression requires exactly one argument, but found ${r.length - 1} instead.`);
          if (!X(r[1]))
            return d.error("invalid value");
          const m = r[1];
          let f = oe(m);
          const v = d.expectedType;
          return f.kind !== "array" || f.N !== 0 || !v || v.kind !== "array" || typeof v.N == "number" && v.N !== 0 || (f = v), new Ue(f, m);
        }
        evaluate() {
          return this.value;
        }
        eachChild() {
        }
        outputDefined() {
          return !0;
        }
      }
      class je {
        constructor(r) {
          this.name = "ExpressionEvaluationError", this.message = r;
        }
        toJSON() {
          return this.message;
        }
      }
      const ot = { string: Wt, number: He, boolean: Et, object: yr };
      class ct {
        constructor(r, d) {
          this.type = r, this.args = d;
        }
        static parse(r, d) {
          if (r.length < 2)
            return d.error("Expected at least one argument.");
          let m, f = 1;
          const v = r[0];
          if (v === "array") {
            let E, C;
            if (r.length > 2) {
              const P = r[1];
              if (typeof P != "string" || !(P in ot) || P === "object")
                return d.error('The item type argument of "array" must be one of string, number, boolean', 1);
              E = ot[P], f++;
            } else
              E = ht;
            if (r.length > 3) {
              if (r[2] !== null && (typeof r[2] != "number" || r[2] < 0 || r[2] !== Math.floor(r[2])))
                return d.error('The length argument to "array" must be a positive integer literal', 2);
              C = r[2], f++;
            }
            m = Ti(E, C);
          } else {
            if (!ot[v])
              throw new Error(`Types doesn't contain name = ${v}`);
            m = ot[v];
          }
          const w = [];
          for (; f < r.length; f++) {
            const E = d.parse(r[f], f, ht);
            if (!E)
              return null;
            w.push(E);
          }
          return new ct(m, w);
        }
        evaluate(r) {
          for (let d = 0; d < this.args.length; d++) {
            const m = this.args[d].evaluate(r);
            if (!an(this.type, oe(m)))
              return m;
            if (d === this.args.length - 1)
              throw new je(`Expected value to be of type ${ra(this.type)}, but found ${ra(oe(m))} instead.`);
          }
          throw new Error();
        }
        eachChild(r) {
          this.args.forEach(r);
        }
        outputDefined() {
          return this.args.every((r) => r.outputDefined());
        }
      }
      const Ut = { "to-boolean": Et, "to-color": hi, "to-number": He, "to-string": Wt };
      class mt {
        constructor(r, d) {
          this.type = r, this.args = d;
        }
        static parse(r, d) {
          if (r.length < 2)
            return d.error("Expected at least one argument.");
          const m = r[0];
          if (!Ut[m])
            throw new Error(`Can't parse ${m} as it is not part of the known types`);
          if ((m === "to-boolean" || m === "to-string") && r.length !== 2)
            return d.error("Expected one argument.");
          const f = Ut[m], v = [];
          for (let w = 1; w < r.length; w++) {
            const E = d.parse(r[w], w, ht);
            if (!E)
              return null;
            v.push(E);
          }
          return new mt(f, v);
        }
        evaluate(r) {
          if (this.type.kind === "boolean")
            return !!this.args[0].evaluate(r);
          if (this.type.kind === "color") {
            let d, m;
            for (const f of this.args) {
              if (d = f.evaluate(r), m = null, d instanceof Z)
                return d;
              if (typeof d == "string") {
                const v = r.parseColor(d);
                if (v)
                  return v;
              } else if (Array.isArray(d) && (m = d.length < 3 || d.length > 4 ? `Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.` : he(d[0], d[1], d[2], d[3]), !m))
                return new Z(d[0] / 255, d[1] / 255, d[2] / 255, d[3]);
            }
            throw new je(m || `Could not parse color from value '${typeof d == "string" ? d : JSON.stringify(d)}'`);
          }
          if (this.type.kind === "padding") {
            let d;
            for (const m of this.args) {
              d = m.evaluate(r);
              const f = se.parse(d);
              if (f)
                return f;
            }
            throw new je(`Could not parse padding from value '${typeof d == "string" ? d : JSON.stringify(d)}'`);
          }
          if (this.type.kind === "number") {
            let d = null;
            for (const m of this.args) {
              if (d = m.evaluate(r), d === null)
                return 0;
              const f = Number(d);
              if (!isNaN(f))
                return f;
            }
            throw new je(`Could not convert ${JSON.stringify(d)} to number.`);
          }
          return this.type.kind === "formatted" ? le.fromString(Le(this.args[0].evaluate(r))) : this.type.kind === "resolvedImage" ? me.fromString(Le(this.args[0].evaluate(r))) : Le(this.args[0].evaluate(r));
        }
        eachChild(r) {
          this.args.forEach(r);
        }
        outputDefined() {
          return this.args.every((r) => r.outputDefined());
        }
      }
      const Ct = ["Unknown", "Point", "LineString", "Polygon"];
      class Xt {
        constructor() {
          this.globals = null, this.feature = null, this.featureState = null, this.formattedSection = null, this._parseColorCache = {}, this.availableImages = null, this.canonical = null;
        }
        id() {
          return this.feature && "id" in this.feature ? this.feature.id : null;
        }
        geometryType() {
          return this.feature ? typeof this.feature.type == "number" ? Ct[this.feature.type] : this.feature.type : null;
        }
        geometry() {
          return this.feature && "geometry" in this.feature ? this.feature.geometry : null;
        }
        canonicalID() {
          return this.canonical;
        }
        properties() {
          return this.feature && this.feature.properties || {};
        }
        parseColor(r) {
          let d = this._parseColorCache[r];
          return d || (d = this._parseColorCache[r] = Z.parse(r)), d;
        }
      }
      class ga {
        constructor(r, d, m, f) {
          this.name = r, this.type = d, this._evaluate = m, this.args = f;
        }
        evaluate(r) {
          return this._evaluate(r, this.args);
        }
        eachChild(r) {
          this.args.forEach(r);
        }
        outputDefined() {
          return !1;
        }
        static parse(r, d) {
          const m = r[0], f = ga.definitions[m];
          if (!f)
            return d.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`, 0);
          const v = Array.isArray(f) ? f[0] : f.type, w = Array.isArray(f) ? [[f[1], f[2]]] : f.overloads, E = w.filter(([P]) => !Array.isArray(P) || P.length === r.length - 1);
          let C = null;
          for (const [P, W] of E) {
            C = new ro(d.registry, d.path, null, d.scope);
            const B = [];
            let F = !1;
            for (let U = 1; U < r.length; U++) {
              const V = r[U], ne = Array.isArray(P) ? P[U - 1] : P.type, ae = C.parse(V, 1 + B.length, ne);
              if (!ae) {
                F = !0;
                break;
              }
              B.push(ae);
            }
            if (!F)
              if (Array.isArray(P) && P.length !== B.length)
                C.error(`Expected ${P.length} arguments, but found ${B.length} instead.`);
              else {
                for (let U = 0; U < B.length; U++) {
                  const V = Array.isArray(P) ? P[U] : P.type, ne = B[U];
                  C.concat(U + 1).checkSubtype(V, ne.type);
                }
                if (C.errors.length === 0)
                  return new ga(m, v, W, B);
              }
          }
          if (E.length === 1)
            d.errors.push(...C.errors);
          else {
            const P = (E.length ? E : w).map(([B]) => {
              return F = B, Array.isArray(F) ? `(${F.map(ra).join(", ")})` : `(${ra(F.type)}...)`;
              var F;
            }).join(" | "), W = [];
            for (let B = 1; B < r.length; B++) {
              const F = d.parse(r[B], 1 + W.length);
              if (!F)
                return null;
              W.push(ra(F.type));
            }
            d.error(`Expected arguments of type ${P}, but found (${W.join(", ")}) instead.`);
          }
          return null;
        }
        static register(r, d) {
          ga.definitions = d;
          for (const m in d)
            r[m] = ga;
        }
      }
      class Mi {
        constructor(r, d, m) {
          this.type = Gi, this.locale = m, this.caseSensitive = r, this.diacriticSensitive = d;
        }
        static parse(r, d) {
          if (r.length !== 2)
            return d.error("Expected one argument.");
          const m = r[1];
          if (typeof m != "object" || Array.isArray(m))
            return d.error("Collator options argument must be an object.");
          const f = d.parse(m["case-sensitive"] !== void 0 && m["case-sensitive"], 1, Et);
          if (!f)
            return null;
          const v = d.parse(m["diacritic-sensitive"] !== void 0 && m["diacritic-sensitive"], 1, Et);
          if (!v)
            return null;
          let w = null;
          return m.locale && (w = d.parse(m.locale, 1, Wt), !w) ? null : new Mi(f, v, w);
        }
        evaluate(r) {
          return new re(this.caseSensitive.evaluate(r), this.diacriticSensitive.evaluate(r), this.locale ? this.locale.evaluate(r) : null);
        }
        eachChild(r) {
          r(this.caseSensitive), r(this.diacriticSensitive), this.locale && r(this.locale);
        }
        outputDefined() {
          return !1;
        }
      }
      const Wa = 8192;
      function ji(l, r) {
        l[0] = Math.min(l[0], r[0]), l[1] = Math.min(l[1], r[1]), l[2] = Math.max(l[2], r[0]), l[3] = Math.max(l[3], r[1]);
      }
      function io(l, r) {
        return !(l[0] <= r[0] || l[2] >= r[2] || l[1] <= r[1] || l[3] >= r[3]);
      }
      function Jo(l, r) {
        const d = (180 + l[0]) / 360, m = (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + l[1] * Math.PI / 360))) / 360, f = Math.pow(2, r.z);
        return [Math.round(d * f * Wa), Math.round(m * f * Wa)];
      }
      function va(l, r, d) {
        const m = l[0] - r[0], f = l[1] - r[1], v = l[0] - d[0], w = l[1] - d[1];
        return m * w - v * f == 0 && m * v <= 0 && f * w <= 0;
      }
      function hd(l, r) {
        let d = !1;
        for (let w = 0, E = r.length; w < E; w++) {
          const C = r[w];
          for (let P = 0, W = C.length; P < W - 1; P++) {
            if (va(l, C[P], C[P + 1]))
              return !1;
            (f = C[P])[1] > (m = l)[1] != (v = C[P + 1])[1] > m[1] && m[0] < (v[0] - f[0]) * (m[1] - f[1]) / (v[1] - f[1]) + f[0] && (d = !d);
          }
        }
        var m, f, v;
        return d;
      }
      function pd(l, r) {
        for (let d = 0; d < r.length; d++)
          if (hd(l, r[d]))
            return !0;
        return !1;
      }
      function m_(l, r, d, m) {
        const f = m[0] - d[0], v = m[1] - d[1], w = (l[0] - d[0]) * v - f * (l[1] - d[1]), E = (r[0] - d[0]) * v - f * (r[1] - d[1]);
        return w > 0 && E < 0 || w < 0 && E > 0;
      }
      function h_(l, r, d) {
        for (const P of d)
          for (let W = 0; W < P.length - 1; ++W)
            if ((E = [(w = P[W + 1])[0] - (v = P[W])[0], w[1] - v[1]])[0] * (C = [(f = r)[0] - (m = l)[0], f[1] - m[1]])[1] - E[1] * C[0] != 0 && m_(m, f, v, w) && m_(v, w, m, f))
              return !0;
        var m, f, v, w, E, C;
        return !1;
      }
      function fd(l, r) {
        for (let d = 0; d < l.length; ++d)
          if (!hd(l[d], r))
            return !1;
        for (let d = 0; d < l.length - 1; ++d)
          if (h_(l[d], l[d + 1], r))
            return !1;
        return !0;
      }
      function dp(l, r) {
        for (let d = 0; d < r.length; d++)
          if (fd(l, r[d]))
            return !0;
        return !1;
      }
      function Jl(l, r, d) {
        const m = [];
        for (let f = 0; f < l.length; f++) {
          const v = [];
          for (let w = 0; w < l[f].length; w++) {
            const E = Jo(l[f][w], d);
            ji(r, E), v.push(E);
          }
          m.push(v);
        }
        return m;
      }
      function gd(l, r, d) {
        const m = [];
        for (let f = 0; f < l.length; f++) {
          const v = Jl(l[f], r, d);
          m.push(v);
        }
        return m;
      }
      function p_(l, r, d, m) {
        if (l[0] < d[0] || l[0] > d[2]) {
          const f = 0.5 * m;
          let v = l[0] - d[0] > f ? -m : d[0] - l[0] > f ? m : 0;
          v === 0 && (v = l[0] - d[2] > f ? -m : d[2] - l[0] > f ? m : 0), l[0] += v;
        }
        ji(r, l);
      }
      function f_(l, r, d, m) {
        const f = Math.pow(2, m.z) * Wa, v = [m.x * Wa, m.y * Wa], w = [];
        for (const E of l)
          for (const C of E) {
            const P = [C.x + v[0], C.y + v[1]];
            p_(P, r, d, f), w.push(P);
          }
        return w;
      }
      function g_(l, r, d, m) {
        const f = Math.pow(2, m.z) * Wa, v = [m.x * Wa, m.y * Wa], w = [];
        for (const C of l) {
          const P = [];
          for (const W of C) {
            const B = [W.x + v[0], W.y + v[1]];
            ji(r, B), P.push(B);
          }
          w.push(P);
        }
        if (r[2] - r[0] <= f / 2) {
          (E = r)[0] = E[1] = 1 / 0, E[2] = E[3] = -1 / 0;
          for (const C of w)
            for (const P of C)
              p_(P, r, d, f);
        }
        var E;
        return w;
      }
      class Es {
        constructor(r, d) {
          this.type = Et, this.geojson = r, this.geometries = d;
        }
        static parse(r, d) {
          if (r.length !== 2)
            return d.error(`'within' expression requires exactly one argument, but found ${r.length - 1} instead.`);
          if (X(r[1])) {
            const m = r[1];
            if (m.type === "FeatureCollection")
              for (let f = 0; f < m.features.length; ++f) {
                const v = m.features[f].geometry.type;
                if (v === "Polygon" || v === "MultiPolygon")
                  return new Es(m, m.features[f].geometry);
              }
            else if (m.type === "Feature") {
              const f = m.geometry.type;
              if (f === "Polygon" || f === "MultiPolygon")
                return new Es(m, m.geometry);
            } else if (m.type === "Polygon" || m.type === "MultiPolygon")
              return new Es(m, m);
          }
          return d.error("'within' expression requires valid geojson object that contains polygon geometry type.");
        }
        evaluate(r) {
          if (r.geometry() != null && r.canonicalID() != null) {
            if (r.geometryType() === "Point")
              return function(d, m) {
                const f = [1 / 0, 1 / 0, -1 / 0, -1 / 0], v = [1 / 0, 1 / 0, -1 / 0, -1 / 0], w = d.canonicalID();
                if (m.type === "Polygon") {
                  const E = Jl(m.coordinates, v, w), C = f_(d.geometry(), f, v, w);
                  if (!io(f, v))
                    return !1;
                  for (const P of C)
                    if (!hd(P, E))
                      return !1;
                }
                if (m.type === "MultiPolygon") {
                  const E = gd(m.coordinates, v, w), C = f_(d.geometry(), f, v, w);
                  if (!io(f, v))
                    return !1;
                  for (const P of C)
                    if (!pd(P, E))
                      return !1;
                }
                return !0;
              }(r, this.geometries);
            if (r.geometryType() === "LineString")
              return function(d, m) {
                const f = [1 / 0, 1 / 0, -1 / 0, -1 / 0], v = [1 / 0, 1 / 0, -1 / 0, -1 / 0], w = d.canonicalID();
                if (m.type === "Polygon") {
                  const E = Jl(m.coordinates, v, w), C = g_(d.geometry(), f, v, w);
                  if (!io(f, v))
                    return !1;
                  for (const P of C)
                    if (!fd(P, E))
                      return !1;
                }
                if (m.type === "MultiPolygon") {
                  const E = gd(m.coordinates, v, w), C = g_(d.geometry(), f, v, w);
                  if (!io(f, v))
                    return !1;
                  for (const P of C)
                    if (!dp(P, E))
                      return !1;
                }
                return !0;
              }(r, this.geometries);
          }
          return !1;
        }
        eachChild() {
        }
        outputDefined() {
          return !0;
        }
      }
      function el(l) {
        if (l instanceof ga && (l.name === "get" && l.args.length === 1 || l.name === "feature-state" || l.name === "has" && l.args.length === 1 || l.name === "properties" || l.name === "geometry-type" || l.name === "id" || /^filter-/.test(l.name)) || l instanceof Es)
          return !1;
        let r = !0;
        return l.eachChild((d) => {
          r && !el(d) && (r = !1);
        }), r;
      }
      function no(l) {
        if (l instanceof ga && l.name === "feature-state")
          return !1;
        let r = !0;
        return l.eachChild((d) => {
          r && !no(d) && (r = !1);
        }), r;
      }
      function eu(l, r) {
        if (l instanceof ga && r.indexOf(l.name) >= 0)
          return !1;
        let d = !0;
        return l.eachChild((m) => {
          d && !eu(m, r) && (d = !1);
        }), d;
      }
      class tu {
        constructor(r, d) {
          this.type = d.type, this.name = r, this.boundExpression = d;
        }
        static parse(r, d) {
          if (r.length !== 2 || typeof r[1] != "string")
            return d.error("'var' expression requires exactly one string literal argument.");
          const m = r[1];
          return d.scope.has(m) ? new tu(m, d.scope.get(m)) : d.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`, 1);
        }
        evaluate(r) {
          return this.boundExpression.evaluate(r);
        }
        eachChild() {
        }
        outputDefined() {
          return !1;
        }
      }
      class ro {
        constructor(r, d = [], m, f = new na(), v = []) {
          this.registry = r, this.path = d, this.key = d.map((w) => `[${w}]`).join(""), this.scope = f, this.errors = v, this.expectedType = m;
        }
        parse(r, d, m, f, v = {}) {
          return d ? this.concat(d, m, f)._parse(r, v) : this._parse(r, v);
        }
        _parse(r, d) {
          function m(f, v, w) {
            return w === "assert" ? new ct(v, [f]) : w === "coerce" ? new mt(v, [f]) : f;
          }
          if (r !== null && typeof r != "string" && typeof r != "boolean" && typeof r != "number" || (r = ["literal", r]), Array.isArray(r)) {
            if (r.length === 0)
              return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');
            const f = r[0];
            if (typeof f != "string")
              return this.error(`Expression name must be a string, but found ${typeof f} instead. If you wanted a literal array, use ["literal", [...]].`, 0), null;
            const v = this.registry[f];
            if (v) {
              let w = v.parse(r, this);
              if (!w)
                return null;
              if (this.expectedType) {
                const E = this.expectedType, C = w.type;
                if (E.kind !== "string" && E.kind !== "number" && E.kind !== "boolean" && E.kind !== "object" && E.kind !== "array" || C.kind !== "value")
                  if (E.kind !== "color" && E.kind !== "formatted" && E.kind !== "resolvedImage" || C.kind !== "value" && C.kind !== "string")
                    if (E.kind !== "padding" || C.kind !== "value" && C.kind !== "number" && C.kind !== "array") {
                      if (this.checkSubtype(E, C))
                        return null;
                    } else
                      w = m(w, E, d.typeAnnotation || "coerce");
                  else
                    w = m(w, E, d.typeAnnotation || "coerce");
                else
                  w = m(w, E, d.typeAnnotation || "assert");
              }
              if (!(w instanceof Ue) && w.type.kind !== "resolvedImage" && yd(w)) {
                const E = new Xt();
                try {
                  w = new Ue(w.type, w.evaluate(E));
                } catch (C) {
                  return this.error(C.message), null;
                }
              }
              return w;
            }
            return this.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`, 0);
          }
          return this.error(r === void 0 ? "'undefined' value invalid. Use null instead." : typeof r == "object" ? 'Bare objects invalid. Use ["literal", {...}] instead.' : `Expected an array, but found ${typeof r} instead.`);
        }
        concat(r, d, m) {
          const f = typeof r == "number" ? this.path.concat(r) : this.path, v = m ? this.scope.concat(m) : this.scope;
          return new ro(this.registry, f, d || null, v, this.errors);
        }
        error(r, ...d) {
          const m = `${this.key}${d.map((f) => `[${f}]`).join("")}`;
          this.errors.push(new Da(m, r));
        }
        checkSubtype(r, d) {
          const m = an(r, d);
          return m && this.error(m), m;
        }
      }
      function yd(l) {
        if (l instanceof tu)
          return yd(l.boundExpression);
        if (l instanceof ga && l.name === "error" || l instanceof Mi || l instanceof Es)
          return !1;
        const r = l instanceof mt || l instanceof ct;
        let d = !0;
        return l.eachChild((m) => {
          d = r ? d && yd(m) : d && m instanceof Ue;
        }), !!d && el(l) && eu(l, ["zoom", "heatmap-density", "line-progress", "accumulated", "is-supported-script"]);
      }
      function au(l, r) {
        const d = l.length - 1;
        let m, f, v = 0, w = d, E = 0;
        for (; v <= w; )
          if (E = Math.floor((v + w) / 2), m = l[E], f = l[E + 1], m <= r) {
            if (E === d || r < f)
              return E;
            v = E + 1;
          } else {
            if (!(m > r))
              throw new je("Input is not a number.");
            w = E - 1;
          }
        return 0;
      }
      class tl {
        constructor(r, d, m) {
          this.type = r, this.input = d, this.labels = [], this.outputs = [];
          for (const [f, v] of m)
            this.labels.push(f), this.outputs.push(v);
        }
        static parse(r, d) {
          if (r.length - 1 < 4)
            return d.error(`Expected at least 4 arguments, but found only ${r.length - 1}.`);
          if ((r.length - 1) % 2 != 0)
            return d.error("Expected an even number of arguments.");
          const m = d.parse(r[1], 1, He);
          if (!m)
            return null;
          const f = [];
          let v = null;
          d.expectedType && d.expectedType.kind !== "value" && (v = d.expectedType);
          for (let w = 1; w < r.length; w += 2) {
            const E = w === 1 ? -1 / 0 : r[w], C = r[w + 1], P = w, W = w + 1;
            if (typeof E != "number")
              return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.', P);
            if (f.length && f[f.length - 1][0] >= E)
              return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.', P);
            const B = d.parse(C, W, v);
            if (!B)
              return null;
            v = v || B.type, f.push([E, B]);
          }
          return new tl(v, m, f);
        }
        evaluate(r) {
          const d = this.labels, m = this.outputs;
          if (d.length === 1)
            return m[0].evaluate(r);
          const f = this.input.evaluate(r);
          if (f <= d[0])
            return m[0].evaluate(r);
          const v = d.length;
          return f >= d[v - 1] ? m[v - 1].evaluate(r) : m[au(d, f)].evaluate(r);
        }
        eachChild(r) {
          r(this.input);
          for (const d of this.outputs)
            r(d);
        }
        outputDefined() {
          return this.outputs.every((r) => r.outputDefined());
        }
      }
      function za(l, r, d) {
        return l * (1 - d) + r * d;
      }
      var al = Object.freeze({ __proto__: null, number: za, color: function(l, r, d) {
        return new Z(za(l.r, r.r, d), za(l.g, r.g, d), za(l.b, r.b, d), za(l.a, r.a, d));
      }, array: function(l, r, d) {
        return l.map((m, f) => za(m, r[f], d));
      }, padding: function(l, r, d) {
        const m = l.values, f = r.values;
        return new se([za(m[0], f[0], d), za(m[1], f[1], d), za(m[2], f[2], d), za(m[3], f[3], d)]);
      } });
      const y_ = 0.95047, v_ = 1.08883, vd = 4 / 29, iu = 6 / 29, b_ = 3 * iu * iu, cp = Math.PI / 180, _p = 180 / Math.PI;
      function bd(l) {
        return l > 0.008856451679035631 ? Math.pow(l, 1 / 3) : l / b_ + vd;
      }
      function xd(l) {
        return l > iu ? l * l * l : b_ * (l - vd);
      }
      function wd(l) {
        return 255 * (l <= 31308e-7 ? 12.92 * l : 1.055 * Math.pow(l, 1 / 2.4) - 0.055);
      }
      function Sd(l) {
        return (l /= 255) <= 0.04045 ? l / 12.92 : Math.pow((l + 0.055) / 1.055, 2.4);
      }
      function sa(l) {
        const r = Sd(l.r), d = Sd(l.g), m = Sd(l.b), f = bd((0.4124564 * r + 0.3575761 * d + 0.1804375 * m) / y_), v = bd((0.2126729 * r + 0.7151522 * d + 0.072175 * m) / 1);
        return { l: 116 * v - 16, a: 500 * (f - v), b: 200 * (v - bd((0.0193339 * r + 0.119192 * d + 0.9503041 * m) / v_)), alpha: l.a };
      }
      function x_(l) {
        let r = (l.l + 16) / 116, d = isNaN(l.a) ? r : r + l.a / 500, m = isNaN(l.b) ? r : r - l.b / 200;
        return r = 1 * xd(r), d = y_ * xd(d), m = v_ * xd(m), new Z(wd(3.2404542 * d - 1.5371385 * r - 0.4985314 * m), wd(-0.969266 * d + 1.8760108 * r + 0.041556 * m), wd(0.0556434 * d - 0.2040259 * r + 1.0572252 * m), l.alpha);
      }
      function mp(l, r, d) {
        const m = r - l;
        return l + d * (m > 180 || m < -180 ? m - 360 * Math.round(m / 360) : m);
      }
      const il = { forward: sa, reverse: x_, interpolate: function(l, r, d) {
        return { l: za(l.l, r.l, d), a: za(l.a, r.a, d), b: za(l.b, r.b, d), alpha: za(l.alpha, r.alpha, d) };
      } }, nl = { forward: function(l) {
        const { l: r, a: d, b: m } = sa(l), f = Math.atan2(m, d) * _p;
        return { h: f < 0 ? f + 360 : f, c: Math.sqrt(d * d + m * m), l: r, alpha: l.a };
      }, reverse: function(l) {
        const r = l.h * cp, d = l.c;
        return x_({ l: l.l, a: Math.cos(r) * d, b: Math.sin(r) * d, alpha: l.alpha });
      }, interpolate: function(l, r, d) {
        return { h: mp(l.h, r.h, d), c: za(l.c, r.c, d), l: za(l.l, r.l, d), alpha: za(l.alpha, r.alpha, d) };
      } };
      var w_ = Object.freeze({ __proto__: null, lab: il, hcl: nl });
      class Cn {
        constructor(r, d, m, f, v) {
          this.type = r, this.operator = d, this.interpolation = m, this.input = f, this.labels = [], this.outputs = [];
          for (const [w, E] of v)
            this.labels.push(w), this.outputs.push(E);
        }
        static interpolationFactor(r, d, m, f) {
          let v = 0;
          if (r.name === "exponential")
            v = Td(d, r.base, m, f);
          else if (r.name === "linear")
            v = Td(d, 1, m, f);
          else if (r.name === "cubic-bezier") {
            const w = r.controlPoints;
            v = new y(w[0], w[1], w[2], w[3]).solve(Td(d, 1, m, f));
          }
          return v;
        }
        static parse(r, d) {
          let [m, f, v, ...w] = r;
          if (!Array.isArray(f) || f.length === 0)
            return d.error("Expected an interpolation type expression.", 1);
          if (f[0] === "linear")
            f = { name: "linear" };
          else if (f[0] === "exponential") {
            const P = f[1];
            if (typeof P != "number")
              return d.error("Exponential interpolation requires a numeric base.", 1, 1);
            f = { name: "exponential", base: P };
          } else {
            if (f[0] !== "cubic-bezier")
              return d.error(`Unknown interpolation type ${String(f[0])}`, 1, 0);
            {
              const P = f.slice(1);
              if (P.length !== 4 || P.some((W) => typeof W != "number" || W < 0 || W > 1))
                return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.", 1);
              f = { name: "cubic-bezier", controlPoints: P };
            }
          }
          if (r.length - 1 < 4)
            return d.error(`Expected at least 4 arguments, but found only ${r.length - 1}.`);
          if ((r.length - 1) % 2 != 0)
            return d.error("Expected an even number of arguments.");
          if (v = d.parse(v, 2, He), !v)
            return null;
          const E = [];
          let C = null;
          m === "interpolate-hcl" || m === "interpolate-lab" ? C = hi : d.expectedType && d.expectedType.kind !== "value" && (C = d.expectedType);
          for (let P = 0; P < w.length; P += 2) {
            const W = w[P], B = w[P + 1], F = P + 3, U = P + 4;
            if (typeof W != "number")
              return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.', F);
            if (E.length && E[E.length - 1][0] >= W)
              return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.', F);
            const V = d.parse(B, U, C);
            if (!V)
              return null;
            C = C || V.type, E.push([W, V]);
          }
          return C.kind === "number" || C.kind === "color" || C.kind === "padding" || C.kind === "array" && C.itemType.kind === "number" && typeof C.N == "number" ? new Cn(C, m, f, v, E) : d.error(`Type ${ra(C)} is not interpolatable.`);
        }
        evaluate(r) {
          const d = this.labels, m = this.outputs;
          if (d.length === 1)
            return m[0].evaluate(r);
          const f = this.input.evaluate(r);
          if (f <= d[0])
            return m[0].evaluate(r);
          const v = d.length;
          if (f >= d[v - 1])
            return m[v - 1].evaluate(r);
          const w = au(d, f), E = Cn.interpolationFactor(this.interpolation, f, d[w], d[w + 1]), C = m[w].evaluate(r), P = m[w + 1].evaluate(r);
          return this.operator === "interpolate" ? al[this.type.kind.toLowerCase()](C, P, E) : this.operator === "interpolate-hcl" ? nl.reverse(nl.interpolate(nl.forward(C), nl.forward(P), E)) : il.reverse(il.interpolate(il.forward(C), il.forward(P), E));
        }
        eachChild(r) {
          r(this.input);
          for (const d of this.outputs)
            r(d);
        }
        outputDefined() {
          return this.outputs.every((r) => r.outputDefined());
        }
      }
      function Td(l, r, d, m) {
        const f = m - d, v = l - d;
        return f === 0 ? 0 : r === 1 ? v / f : (Math.pow(r, v) - 1) / (Math.pow(r, f) - 1);
      }
      class nu {
        constructor(r, d) {
          this.type = r, this.args = d;
        }
        static parse(r, d) {
          if (r.length < 2)
            return d.error("Expectected at least one argument.");
          let m = null;
          const f = d.expectedType;
          f && f.kind !== "value" && (m = f);
          const v = [];
          for (const E of r.slice(1)) {
            const C = d.parse(E, 1 + v.length, m, void 0, { typeAnnotation: "omit" });
            if (!C)
              return null;
            m = m || C.type, v.push(C);
          }
          if (!m)
            throw new Error("No output type");
          const w = f && v.some((E) => an(f, E.type));
          return new nu(w ? ht : m, v);
        }
        evaluate(r) {
          let d, m = null, f = 0;
          for (const v of this.args)
            if (f++, m = v.evaluate(r), m && m instanceof me && !m.available && (d || (d = m.name), m = null, f === this.args.length && (m = d)), m !== null)
              break;
          return m;
        }
        eachChild(r) {
          this.args.forEach(r);
        }
        outputDefined() {
          return this.args.every((r) => r.outputDefined());
        }
      }
      class ru {
        constructor(r, d) {
          this.type = d.type, this.bindings = [].concat(r), this.result = d;
        }
        evaluate(r) {
          return this.result.evaluate(r);
        }
        eachChild(r) {
          for (const d of this.bindings)
            r(d[1]);
          r(this.result);
        }
        static parse(r, d) {
          if (r.length < 4)
            return d.error(`Expected at least 3 arguments, but found ${r.length - 1} instead.`);
          const m = [];
          for (let v = 1; v < r.length - 1; v += 2) {
            const w = r[v];
            if (typeof w != "string")
              return d.error(`Expected string, but found ${typeof w} instead.`, v);
            if (/[^a-zA-Z0-9_]/.test(w))
              return d.error("Variable names must contain only alphanumeric characters or '_'.", v);
            const E = d.parse(r[v + 1], v + 1);
            if (!E)
              return null;
            m.push([w, E]);
          }
          const f = d.parse(r[r.length - 1], r.length - 1, d.expectedType, m);
          return f ? new ru(m, f) : null;
        }
        outputDefined() {
          return this.result.outputDefined();
        }
      }
      class Md {
        constructor(r, d, m) {
          this.type = r, this.index = d, this.input = m;
        }
        static parse(r, d) {
          if (r.length !== 3)
            return d.error(`Expected 2 arguments, but found ${r.length - 1} instead.`);
          const m = d.parse(r[1], 1, He), f = d.parse(r[2], 2, Ti(d.expectedType || ht));
          return m && f ? new Md(f.type.itemType, m, f) : null;
        }
        evaluate(r) {
          const d = this.index.evaluate(r), m = this.input.evaluate(r);
          if (d < 0)
            throw new je(`Array index out of bounds: ${d} < 0.`);
          if (d >= m.length)
            throw new je(`Array index out of bounds: ${d} > ${m.length - 1}.`);
          if (d !== Math.floor(d))
            throw new je(`Array index must be an integer, but found ${d} instead.`);
          return m[d];
        }
        eachChild(r) {
          r(this.index), r(this.input);
        }
        outputDefined() {
          return !1;
        }
      }
      class Ed {
        constructor(r, d) {
          this.type = Et, this.needle = r, this.haystack = d;
        }
        static parse(r, d) {
          if (r.length !== 3)
            return d.error(`Expected 2 arguments, but found ${r.length - 1} instead.`);
          const m = d.parse(r[1], 1, ht), f = d.parse(r[2], 2, ht);
          return m && f ? rr(m.type, [Et, Wt, He, Un, ht]) ? new Ed(m, f) : d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ra(m.type)} instead`) : null;
        }
        evaluate(r) {
          const d = this.needle.evaluate(r), m = this.haystack.evaluate(r);
          if (!m)
            return !1;
          if (!kr(d, ["boolean", "string", "number", "null"]))
            throw new je(`Expected first argument to be of type boolean, string, number or null, but found ${ra(oe(d))} instead.`);
          if (!kr(m, ["string", "array"]))
            throw new je(`Expected second argument to be of type array or string, but found ${ra(oe(m))} instead.`);
          return m.indexOf(d) >= 0;
        }
        eachChild(r) {
          r(this.needle), r(this.haystack);
        }
        outputDefined() {
          return !0;
        }
      }
      class su {
        constructor(r, d, m) {
          this.type = He, this.needle = r, this.haystack = d, this.fromIndex = m;
        }
        static parse(r, d) {
          if (r.length <= 2 || r.length >= 5)
            return d.error(`Expected 3 or 4 arguments, but found ${r.length - 1} instead.`);
          const m = d.parse(r[1], 1, ht), f = d.parse(r[2], 2, ht);
          if (!m || !f)
            return null;
          if (!rr(m.type, [Et, Wt, He, Un, ht]))
            return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ra(m.type)} instead`);
          if (r.length === 4) {
            const v = d.parse(r[3], 3, He);
            return v ? new su(m, f, v) : null;
          }
          return new su(m, f);
        }
        evaluate(r) {
          const d = this.needle.evaluate(r), m = this.haystack.evaluate(r);
          if (!kr(d, ["boolean", "string", "number", "null"]))
            throw new je(`Expected first argument to be of type boolean, string, number or null, but found ${ra(oe(d))} instead.`);
          if (!kr(m, ["string", "array"]))
            throw new je(`Expected second argument to be of type array or string, but found ${ra(oe(m))} instead.`);
          if (this.fromIndex) {
            const f = this.fromIndex.evaluate(r);
            return m.indexOf(d, f);
          }
          return m.indexOf(d);
        }
        eachChild(r) {
          r(this.needle), r(this.haystack), this.fromIndex && r(this.fromIndex);
        }
        outputDefined() {
          return !1;
        }
      }
      class Ld {
        constructor(r, d, m, f, v, w) {
          this.inputType = r, this.type = d, this.input = m, this.cases = f, this.outputs = v, this.otherwise = w;
        }
        static parse(r, d) {
          if (r.length < 5)
            return d.error(`Expected at least 4 arguments, but found only ${r.length - 1}.`);
          if (r.length % 2 != 1)
            return d.error("Expected an even number of arguments.");
          let m, f;
          d.expectedType && d.expectedType.kind !== "value" && (f = d.expectedType);
          const v = {}, w = [];
          for (let P = 2; P < r.length - 1; P += 2) {
            let W = r[P];
            const B = r[P + 1];
            Array.isArray(W) || (W = [W]);
            const F = d.concat(P);
            if (W.length === 0)
              return F.error("Expected at least one branch label.");
            for (const V of W) {
              if (typeof V != "number" && typeof V != "string")
                return F.error("Branch labels must be numbers or strings.");
              if (typeof V == "number" && Math.abs(V) > Number.MAX_SAFE_INTEGER)
                return F.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);
              if (typeof V == "number" && Math.floor(V) !== V)
                return F.error("Numeric branch labels must be integer values.");
              if (m) {
                if (F.checkSubtype(m, oe(V)))
                  return null;
              } else
                m = oe(V);
              if (v[String(V)] !== void 0)
                return F.error("Branch labels must be unique.");
              v[String(V)] = w.length;
            }
            const U = d.parse(B, P, f);
            if (!U)
              return null;
            f = f || U.type, w.push(U);
          }
          const E = d.parse(r[1], 1, ht);
          if (!E)
            return null;
          const C = d.parse(r[r.length - 1], r.length - 1, f);
          return C ? E.type.kind !== "value" && d.concat(1).checkSubtype(m, E.type) ? null : new Ld(m, f, E, v, w, C) : null;
        }
        evaluate(r) {
          const d = this.input.evaluate(r);
          return (oe(d) === this.inputType && this.outputs[this.cases[d]] || this.otherwise).evaluate(r);
        }
        eachChild(r) {
          r(this.input), this.outputs.forEach(r), r(this.otherwise);
        }
        outputDefined() {
          return this.outputs.every((r) => r.outputDefined()) && this.otherwise.outputDefined();
        }
      }
      class Cd {
        constructor(r, d, m) {
          this.type = r, this.branches = d, this.otherwise = m;
        }
        static parse(r, d) {
          if (r.length < 4)
            return d.error(`Expected at least 3 arguments, but found only ${r.length - 1}.`);
          if (r.length % 2 != 0)
            return d.error("Expected an odd number of arguments.");
          let m;
          d.expectedType && d.expectedType.kind !== "value" && (m = d.expectedType);
          const f = [];
          for (let w = 1; w < r.length - 1; w += 2) {
            const E = d.parse(r[w], w, Et);
            if (!E)
              return null;
            const C = d.parse(r[w + 1], w + 1, m);
            if (!C)
              return null;
            f.push([E, C]), m = m || C.type;
          }
          const v = d.parse(r[r.length - 1], r.length - 1, m);
          if (!v)
            return null;
          if (!m)
            throw new Error("Can't infer output type");
          return new Cd(m, f, v);
        }
        evaluate(r) {
          for (const [d, m] of this.branches)
            if (d.evaluate(r))
              return m.evaluate(r);
          return this.otherwise.evaluate(r);
        }
        eachChild(r) {
          for (const [d, m] of this.branches)
            r(d), r(m);
          r(this.otherwise);
        }
        outputDefined() {
          return this.branches.every(([r, d]) => d.outputDefined()) && this.otherwise.outputDefined();
        }
      }
      class ou {
        constructor(r, d, m, f) {
          this.type = r, this.input = d, this.beginIndex = m, this.endIndex = f;
        }
        static parse(r, d) {
          if (r.length <= 2 || r.length >= 5)
            return d.error(`Expected 3 or 4 arguments, but found ${r.length - 1} instead.`);
          const m = d.parse(r[1], 1, ht), f = d.parse(r[2], 2, He);
          if (!m || !f)
            return null;
          if (!rr(m.type, [Ti(ht), Wt, ht]))
            return d.error(`Expected first argument to be of type array or string, but found ${ra(m.type)} instead`);
          if (r.length === 4) {
            const v = d.parse(r[3], 3, He);
            return v ? new ou(m.type, m, f, v) : null;
          }
          return new ou(m.type, m, f);
        }
        evaluate(r) {
          const d = this.input.evaluate(r), m = this.beginIndex.evaluate(r);
          if (!kr(d, ["string", "array"]))
            throw new je(`Expected first argument to be of type array or string, but found ${ra(oe(d))} instead.`);
          if (this.endIndex) {
            const f = this.endIndex.evaluate(r);
            return d.slice(m, f);
          }
          return d.slice(m);
        }
        eachChild(r) {
          r(this.input), r(this.beginIndex), this.endIndex && r(this.endIndex);
        }
        outputDefined() {
          return !1;
        }
      }
      function S_(l, r) {
        return l === "==" || l === "!=" ? r.kind === "boolean" || r.kind === "string" || r.kind === "number" || r.kind === "null" || r.kind === "value" : r.kind === "string" || r.kind === "number" || r.kind === "value";
      }
      function T_(l, r, d, m) {
        return m.compare(r, d) === 0;
      }
      function so(l, r, d) {
        const m = l !== "==" && l !== "!=";
        return class Ix {
          constructor(v, w, E) {
            this.type = Et, this.lhs = v, this.rhs = w, this.collator = E, this.hasUntypedArgument = v.type.kind === "value" || w.type.kind === "value";
          }
          static parse(v, w) {
            if (v.length !== 3 && v.length !== 4)
              return w.error("Expected two or three arguments.");
            const E = v[0];
            let C = w.parse(v[1], 1, ht);
            if (!C)
              return null;
            if (!S_(E, C.type))
              return w.concat(1).error(`"${E}" comparisons are not supported for type '${ra(C.type)}'.`);
            let P = w.parse(v[2], 2, ht);
            if (!P)
              return null;
            if (!S_(E, P.type))
              return w.concat(2).error(`"${E}" comparisons are not supported for type '${ra(P.type)}'.`);
            if (C.type.kind !== P.type.kind && C.type.kind !== "value" && P.type.kind !== "value")
              return w.error(`Cannot compare types '${ra(C.type)}' and '${ra(P.type)}'.`);
            m && (C.type.kind === "value" && P.type.kind !== "value" ? C = new ct(P.type, [C]) : C.type.kind !== "value" && P.type.kind === "value" && (P = new ct(C.type, [P])));
            let W = null;
            if (v.length === 4) {
              if (C.type.kind !== "string" && P.type.kind !== "string" && C.type.kind !== "value" && P.type.kind !== "value")
                return w.error("Cannot use collator to compare non-string types.");
              if (W = w.parse(v[3], 3, Gi), !W)
                return null;
            }
            return new Ix(C, P, W);
          }
          evaluate(v) {
            const w = this.lhs.evaluate(v), E = this.rhs.evaluate(v);
            if (m && this.hasUntypedArgument) {
              const C = oe(w), P = oe(E);
              if (C.kind !== P.kind || C.kind !== "string" && C.kind !== "number")
                throw new je(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${C.kind}, ${P.kind}) instead.`);
            }
            if (this.collator && !m && this.hasUntypedArgument) {
              const C = oe(w), P = oe(E);
              if (C.kind !== "string" || P.kind !== "string")
                return r(v, w, E);
            }
            return this.collator ? d(v, w, E, this.collator.evaluate(v)) : r(v, w, E);
          }
          eachChild(v) {
            v(this.lhs), v(this.rhs), this.collator && v(this.collator);
          }
          outputDefined() {
            return !0;
          }
        };
      }
      const hp = so("==", function(l, r, d) {
        return r === d;
      }, T_), pp = so("!=", function(l, r, d) {
        return r !== d;
      }, function(l, r, d, m) {
        return !T_(0, r, d, m);
      }), fp = so("<", function(l, r, d) {
        return r < d;
      }, function(l, r, d, m) {
        return m.compare(r, d) < 0;
      }), gp = so(">", function(l, r, d) {
        return r > d;
      }, function(l, r, d, m) {
        return m.compare(r, d) > 0;
      }), yp = so("<=", function(l, r, d) {
        return r <= d;
      }, function(l, r, d, m) {
        return m.compare(r, d) <= 0;
      }), vp = so(">=", function(l, r, d) {
        return r >= d;
      }, function(l, r, d, m) {
        return m.compare(r, d) >= 0;
      });
      class Ad {
        constructor(r, d, m, f, v) {
          this.type = Wt, this.number = r, this.locale = d, this.currency = m, this.minFractionDigits = f, this.maxFractionDigits = v;
        }
        static parse(r, d) {
          if (r.length !== 3)
            return d.error("Expected two arguments.");
          const m = d.parse(r[1], 1, He);
          if (!m)
            return null;
          const f = r[2];
          if (typeof f != "object" || Array.isArray(f))
            return d.error("NumberFormat options argument must be an object.");
          let v = null;
          if (f.locale && (v = d.parse(f.locale, 1, Wt), !v))
            return null;
          let w = null;
          if (f.currency && (w = d.parse(f.currency, 1, Wt), !w))
            return null;
          let E = null;
          if (f["min-fraction-digits"] && (E = d.parse(f["min-fraction-digits"], 1, He), !E))
            return null;
          let C = null;
          return f["max-fraction-digits"] && (C = d.parse(f["max-fraction-digits"], 1, He), !C) ? null : new Ad(m, v, w, E, C);
        }
        evaluate(r) {
          return new Intl.NumberFormat(this.locale ? this.locale.evaluate(r) : [], { style: this.currency ? "currency" : "decimal", currency: this.currency ? this.currency.evaluate(r) : void 0, minimumFractionDigits: this.minFractionDigits ? this.minFractionDigits.evaluate(r) : void 0, maximumFractionDigits: this.maxFractionDigits ? this.maxFractionDigits.evaluate(r) : void 0 }).format(this.number.evaluate(r));
        }
        eachChild(r) {
          r(this.number), this.locale && r(this.locale), this.currency && r(this.currency), this.minFractionDigits && r(this.minFractionDigits), this.maxFractionDigits && r(this.maxFractionDigits);
        }
        outputDefined() {
          return !1;
        }
      }
      class lu {
        constructor(r) {
          this.type = ri, this.sections = r;
        }
        static parse(r, d) {
          if (r.length < 2)
            return d.error("Expected at least one argument.");
          const m = r[1];
          if (!Array.isArray(m) && typeof m == "object")
            return d.error("First argument must be an image or text section.");
          const f = [];
          let v = !1;
          for (let w = 1; w <= r.length - 1; ++w) {
            const E = r[w];
            if (v && typeof E == "object" && !Array.isArray(E)) {
              v = !1;
              let C = null;
              if (E["font-scale"] && (C = d.parse(E["font-scale"], 1, He), !C))
                return null;
              let P = null;
              if (E["text-font"] && (P = d.parse(E["text-font"], 1, Ti(Wt)), !P))
                return null;
              let W = null;
              if (E["text-color"] && (W = d.parse(E["text-color"], 1, hi), !W))
                return null;
              const B = f[f.length - 1];
              B.scale = C, B.font = P, B.textColor = W;
            } else {
              const C = d.parse(r[w], 1, ht);
              if (!C)
                return null;
              const P = C.type.kind;
              if (P !== "string" && P !== "value" && P !== "null" && P !== "resolvedImage")
                return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");
              v = !0, f.push({ content: C, scale: null, font: null, textColor: null });
            }
          }
          return new lu(f);
        }
        evaluate(r) {
          return new le(this.sections.map((d) => {
            const m = d.content.evaluate(r);
            return oe(m) === Va ? new de("", m, null, null, null) : new de(Le(m), null, d.scale ? d.scale.evaluate(r) : null, d.font ? d.font.evaluate(r).join(",") : null, d.textColor ? d.textColor.evaluate(r) : null);
          }));
        }
        eachChild(r) {
          for (const d of this.sections)
            r(d.content), d.scale && r(d.scale), d.font && r(d.font), d.textColor && r(d.textColor);
        }
        outputDefined() {
          return !1;
        }
      }
      class Id {
        constructor(r) {
          this.type = Va, this.input = r;
        }
        static parse(r, d) {
          if (r.length !== 2)
            return d.error("Expected two arguments.");
          const m = d.parse(r[1], 1, Wt);
          return m ? new Id(m) : d.error("No image name provided.");
        }
        evaluate(r) {
          const d = this.input.evaluate(r), m = me.fromString(d);
          return m && r.availableImages && (m.available = r.availableImages.indexOf(d) > -1), m;
        }
        eachChild(r) {
          r(this.input);
        }
        outputDefined() {
          return !1;
        }
      }
      class Pd {
        constructor(r) {
          this.type = He, this.input = r;
        }
        static parse(r, d) {
          if (r.length !== 2)
            return d.error(`Expected 1 argument, but found ${r.length - 1} instead.`);
          const m = d.parse(r[1], 1);
          return m ? m.type.kind !== "array" && m.type.kind !== "string" && m.type.kind !== "value" ? d.error(`Expected argument of type string or array, but found ${ra(m.type)} instead.`) : new Pd(m) : null;
        }
        evaluate(r) {
          const d = this.input.evaluate(r);
          if (typeof d == "string" || Array.isArray(d))
            return d.length;
          throw new je(`Expected value to be of type string or array, but found ${ra(oe(d))} instead.`);
        }
        eachChild(r) {
          r(this.input);
        }
        outputDefined() {
          return !1;
        }
      }
      const oo = { "==": hp, "!=": pp, ">": gp, "<": fp, ">=": vp, "<=": yp, array: ct, at: Md, boolean: ct, case: Cd, coalesce: nu, collator: Mi, format: lu, image: Id, in: Ed, "index-of": su, interpolate: Cn, "interpolate-hcl": Cn, "interpolate-lab": Cn, length: Pd, let: ru, literal: Ue, match: Ld, number: ct, "number-format": Ad, object: ct, slice: ou, step: tl, string: ct, "to-boolean": mt, "to-color": mt, "to-number": mt, "to-string": mt, var: tu, within: Es };
      function M_(l, [r, d, m, f]) {
        r = r.evaluate(l), d = d.evaluate(l), m = m.evaluate(l);
        const v = f ? f.evaluate(l) : 1, w = he(r, d, m, v);
        if (w)
          throw new je(w);
        return new Z(r / 255 * v, d / 255 * v, m / 255 * v, v);
      }
      function E_(l, r) {
        return l in r;
      }
      function uu(l, r) {
        const d = r[l];
        return d === void 0 ? null : d;
      }
      function Ls(l) {
        return { type: l };
      }
      function L_(l) {
        return { result: "success", value: l };
      }
      function lo(l) {
        return { result: "error", value: l };
      }
      function Pa(l) {
        return l["property-type"] === "data-driven" || l["property-type"] === "cross-faded-data-driven";
      }
      function C_(l) {
        return !!l.expression && l.expression.parameters.indexOf("zoom") > -1;
      }
      function Kt(l) {
        return !!l.expression && l.expression.interpolated;
      }
      function oa(l) {
        return l instanceof Number ? "number" : l instanceof String ? "string" : l instanceof Boolean ? "boolean" : Array.isArray(l) ? "array" : l === null ? "null" : typeof l;
      }
      function La(l) {
        return typeof l == "object" && l !== null && !Array.isArray(l);
      }
      function Ba(l) {
        return l;
      }
      function rl(l, r) {
        const d = r.type === "color", m = l.stops && typeof l.stops[0][0] == "object", f = m || !(m || l.property !== void 0), v = l.type || (Kt(r) ? "exponential" : "interval");
        if (d || r.type === "padding") {
          const P = d ? Z.parse : se.parse;
          (l = zi({}, l)).stops && (l.stops = l.stops.map((W) => [W[0], P(W[1])])), l.default = P(l.default ? l.default : r.default);
        }
        if (l.colorSpace && l.colorSpace !== "rgb" && !w_[l.colorSpace])
          throw new Error(`Unknown color space: ${l.colorSpace}`);
        let w, E, C;
        if (v === "exponential")
          w = A_;
        else if (v === "interval")
          w = xp;
        else if (v === "categorical") {
          w = bp, E = /* @__PURE__ */ Object.create(null);
          for (const P of l.stops)
            E[P[0]] = P[1];
          C = typeof l.stops[0][0];
        } else {
          if (v !== "identity")
            throw new Error(`Unknown function type "${v}"`);
          w = wp;
        }
        if (m) {
          const P = {}, W = [];
          for (let U = 0; U < l.stops.length; U++) {
            const V = l.stops[U], ne = V[0].zoom;
            P[ne] === void 0 && (P[ne] = { zoom: ne, type: l.type, property: l.property, default: l.default, stops: [] }, W.push(ne)), P[ne].stops.push([V[0].value, V[1]]);
          }
          const B = [];
          for (const U of W)
            B.push([P[U].zoom, rl(P[U], r)]);
          const F = { name: "linear" };
          return { kind: "composite", interpolationType: F, interpolationFactor: Cn.interpolationFactor.bind(void 0, F), zoomStops: B.map((U) => U[0]), evaluate: ({ zoom: U }, V) => A_({ stops: B, base: l.base }, r, U).evaluate(U, V) };
        }
        if (f) {
          const P = v === "exponential" ? { name: "exponential", base: l.base !== void 0 ? l.base : 1 } : null;
          return { kind: "camera", interpolationType: P, interpolationFactor: Cn.interpolationFactor.bind(void 0, P), zoomStops: l.stops.map((W) => W[0]), evaluate: ({ zoom: W }) => w(l, r, W, E, C) };
        }
        return { kind: "source", evaluate(P, W) {
          const B = W && W.properties ? W.properties[l.property] : void 0;
          return B === void 0 ? uo(l.default, r.default) : w(l, r, B, E, C);
        } };
      }
      function uo(l, r, d) {
        return l !== void 0 ? l : r !== void 0 ? r : d !== void 0 ? d : void 0;
      }
      function bp(l, r, d, m, f) {
        return uo(typeof d === f ? m[d] : void 0, l.default, r.default);
      }
      function xp(l, r, d) {
        if (oa(d) !== "number")
          return uo(l.default, r.default);
        const m = l.stops.length;
        if (m === 1 || d <= l.stops[0][0])
          return l.stops[0][1];
        if (d >= l.stops[m - 1][0])
          return l.stops[m - 1][1];
        const f = au(l.stops.map((v) => v[0]), d);
        return l.stops[f][1];
      }
      function A_(l, r, d) {
        const m = l.base !== void 0 ? l.base : 1;
        if (oa(d) !== "number")
          return uo(l.default, r.default);
        const f = l.stops.length;
        if (f === 1 || d <= l.stops[0][0])
          return l.stops[0][1];
        if (d >= l.stops[f - 1][0])
          return l.stops[f - 1][1];
        const v = au(l.stops.map((W) => W[0]), d), w = function(W, B, F, U) {
          const V = U - F, ne = W - F;
          return V === 0 ? 0 : B === 1 ? ne / V : (Math.pow(B, ne) - 1) / (Math.pow(B, V) - 1);
        }(d, m, l.stops[v][0], l.stops[v + 1][0]), E = l.stops[v][1], C = l.stops[v + 1][1];
        let P = al[r.type] || Ba;
        if (l.colorSpace && l.colorSpace !== "rgb") {
          const W = w_[l.colorSpace];
          P = (B, F) => W.reverse(W.interpolate(W.forward(B), W.forward(F), w));
        }
        return typeof E.evaluate == "function" ? { evaluate(...W) {
          const B = E.evaluate.apply(void 0, W), F = C.evaluate.apply(void 0, W);
          if (B !== void 0 && F !== void 0)
            return P(B, F, w);
        } } : P(E, C, w);
      }
      function wp(l, r, d) {
        switch (r.type) {
          case "color":
            d = Z.parse(d);
            break;
          case "formatted":
            d = le.fromString(d.toString());
            break;
          case "resolvedImage":
            d = me.fromString(d.toString());
            break;
          case "padding":
            d = se.parse(d);
            break;
          default:
            oa(d) === r.type || r.type === "enum" && r.values[d] || (d = void 0);
        }
        return uo(d, l.default, r.default);
      }
      ga.register(oo, { error: [{ kind: "error" }, [Wt], (l, [r]) => {
        throw new je(r.evaluate(l));
      }], typeof: [Wt, [ht], (l, [r]) => ra(oe(r.evaluate(l)))], "to-rgba": [Ti(He, 4), [hi], (l, [r]) => r.evaluate(l).toArray()], rgb: [hi, [He, He, He], M_], rgba: [hi, [He, He, He, He], M_], has: { type: Et, overloads: [[[Wt], (l, [r]) => E_(r.evaluate(l), l.properties())], [[Wt, yr], (l, [r, d]) => E_(r.evaluate(l), d.evaluate(l))]] }, get: { type: ht, overloads: [[[Wt], (l, [r]) => uu(r.evaluate(l), l.properties())], [[Wt, yr], (l, [r, d]) => uu(r.evaluate(l), d.evaluate(l))]] }, "feature-state": [ht, [Wt], (l, [r]) => uu(r.evaluate(l), l.featureState || {})], properties: [yr, [], (l) => l.properties()], "geometry-type": [Wt, [], (l) => l.geometryType()], id: [ht, [], (l) => l.id()], zoom: [He, [], (l) => l.globals.zoom], "heatmap-density": [He, [], (l) => l.globals.heatmapDensity || 0], "line-progress": [He, [], (l) => l.globals.lineProgress || 0], accumulated: [ht, [], (l) => l.globals.accumulated === void 0 ? null : l.globals.accumulated], "+": [He, Ls(He), (l, r) => {
        let d = 0;
        for (const m of r)
          d += m.evaluate(l);
        return d;
      }], "*": [He, Ls(He), (l, r) => {
        let d = 1;
        for (const m of r)
          d *= m.evaluate(l);
        return d;
      }], "-": { type: He, overloads: [[[He, He], (l, [r, d]) => r.evaluate(l) - d.evaluate(l)], [[He], (l, [r]) => -r.evaluate(l)]] }, "/": [He, [He, He], (l, [r, d]) => r.evaluate(l) / d.evaluate(l)], "%": [He, [He, He], (l, [r, d]) => r.evaluate(l) % d.evaluate(l)], ln2: [He, [], () => Math.LN2], pi: [He, [], () => Math.PI], e: [He, [], () => Math.E], "^": [He, [He, He], (l, [r, d]) => Math.pow(r.evaluate(l), d.evaluate(l))], sqrt: [He, [He], (l, [r]) => Math.sqrt(r.evaluate(l))], log10: [He, [He], (l, [r]) => Math.log(r.evaluate(l)) / Math.LN10], ln: [He, [He], (l, [r]) => Math.log(r.evaluate(l))], log2: [He, [He], (l, [r]) => Math.log(r.evaluate(l)) / Math.LN2], sin: [He, [He], (l, [r]) => Math.sin(r.evaluate(l))], cos: [He, [He], (l, [r]) => Math.cos(r.evaluate(l))], tan: [He, [He], (l, [r]) => Math.tan(r.evaluate(l))], asin: [He, [He], (l, [r]) => Math.asin(r.evaluate(l))], acos: [He, [He], (l, [r]) => Math.acos(r.evaluate(l))], atan: [He, [He], (l, [r]) => Math.atan(r.evaluate(l))], min: [He, Ls(He), (l, r) => Math.min(...r.map((d) => d.evaluate(l)))], max: [He, Ls(He), (l, r) => Math.max(...r.map((d) => d.evaluate(l)))], abs: [He, [He], (l, [r]) => Math.abs(r.evaluate(l))], round: [He, [He], (l, [r]) => {
        const d = r.evaluate(l);
        return d < 0 ? -Math.round(-d) : Math.round(d);
      }], floor: [He, [He], (l, [r]) => Math.floor(r.evaluate(l))], ceil: [He, [He], (l, [r]) => Math.ceil(r.evaluate(l))], "filter-==": [Et, [Wt, ht], (l, [r, d]) => l.properties()[r.value] === d.value], "filter-id-==": [Et, [ht], (l, [r]) => l.id() === r.value], "filter-type-==": [Et, [Wt], (l, [r]) => l.geometryType() === r.value], "filter-<": [Et, [Wt, ht], (l, [r, d]) => {
        const m = l.properties()[r.value], f = d.value;
        return typeof m == typeof f && m < f;
      }], "filter-id-<": [Et, [ht], (l, [r]) => {
        const d = l.id(), m = r.value;
        return typeof d == typeof m && d < m;
      }], "filter->": [Et, [Wt, ht], (l, [r, d]) => {
        const m = l.properties()[r.value], f = d.value;
        return typeof m == typeof f && m > f;
      }], "filter-id->": [Et, [ht], (l, [r]) => {
        const d = l.id(), m = r.value;
        return typeof d == typeof m && d > m;
      }], "filter-<=": [Et, [Wt, ht], (l, [r, d]) => {
        const m = l.properties()[r.value], f = d.value;
        return typeof m == typeof f && m <= f;
      }], "filter-id-<=": [Et, [ht], (l, [r]) => {
        const d = l.id(), m = r.value;
        return typeof d == typeof m && d <= m;
      }], "filter->=": [Et, [Wt, ht], (l, [r, d]) => {
        const m = l.properties()[r.value], f = d.value;
        return typeof m == typeof f && m >= f;
      }], "filter-id->=": [Et, [ht], (l, [r]) => {
        const d = l.id(), m = r.value;
        return typeof d == typeof m && d >= m;
      }], "filter-has": [Et, [ht], (l, [r]) => r.value in l.properties()], "filter-has-id": [Et, [], (l) => l.id() !== null && l.id() !== void 0], "filter-type-in": [Et, [Ti(Wt)], (l, [r]) => r.value.indexOf(l.geometryType()) >= 0], "filter-id-in": [Et, [Ti(ht)], (l, [r]) => r.value.indexOf(l.id()) >= 0], "filter-in-small": [Et, [Wt, Ti(ht)], (l, [r, d]) => d.value.indexOf(l.properties()[r.value]) >= 0], "filter-in-large": [Et, [Wt, Ti(ht)], (l, [r, d]) => function(m, f, v, w) {
        for (; v <= w; ) {
          const E = v + w >> 1;
          if (f[E] === m)
            return !0;
          f[E] > m ? w = E - 1 : v = E + 1;
        }
        return !1;
      }(l.properties()[r.value], d.value, 0, d.value.length - 1)], all: { type: Et, overloads: [[[Et, Et], (l, [r, d]) => r.evaluate(l) && d.evaluate(l)], [Ls(Et), (l, r) => {
        for (const d of r)
          if (!d.evaluate(l))
            return !1;
        return !0;
      }]] }, any: { type: Et, overloads: [[[Et, Et], (l, [r, d]) => r.evaluate(l) || d.evaluate(l)], [Ls(Et), (l, r) => {
        for (const d of r)
          if (d.evaluate(l))
            return !0;
        return !1;
      }]] }, "!": [Et, [Et], (l, [r]) => !r.evaluate(l)], "is-supported-script": [Et, [Wt], (l, [r]) => {
        const d = l.globals && l.globals.isSupportedScript;
        return !d || d(r.evaluate(l));
      }], upcase: [Wt, [Wt], (l, [r]) => r.evaluate(l).toUpperCase()], downcase: [Wt, [Wt], (l, [r]) => r.evaluate(l).toLowerCase()], concat: [Wt, Ls(ht), (l, r) => r.map((d) => Le(d.evaluate(l))).join("")], "resolved-locale": [Wt, [Gi], (l, [r]) => r.evaluate(l).resolvedLocale()] });
      class du {
        constructor(r, d) {
          this.expression = r, this._warningHistory = {}, this._evaluator = new Xt(), this._defaultValue = d ? function(m) {
            return m.type === "color" && La(m.default) ? new Z(0, 0, 0, 0) : m.type === "color" ? Z.parse(m.default) || null : m.type === "padding" ? se.parse(m.default) || null : m.default === void 0 ? null : m.default;
          }(d) : null, this._enumValues = d && d.type === "enum" ? d.values : null;
        }
        evaluateWithoutErrorHandling(r, d, m, f, v, w) {
          return this._evaluator.globals = r, this._evaluator.feature = d, this._evaluator.featureState = m, this._evaluator.canonical = f, this._evaluator.availableImages = v || null, this._evaluator.formattedSection = w, this.expression.evaluate(this._evaluator);
        }
        evaluate(r, d, m, f, v, w) {
          this._evaluator.globals = r, this._evaluator.feature = d || null, this._evaluator.featureState = m || null, this._evaluator.canonical = f, this._evaluator.availableImages = v || null, this._evaluator.formattedSection = w || null;
          try {
            const E = this.expression.evaluate(this._evaluator);
            if (E == null || typeof E == "number" && E != E)
              return this._defaultValue;
            if (this._enumValues && !(E in this._enumValues))
              throw new je(`Expected value to be one of ${Object.keys(this._enumValues).map((C) => JSON.stringify(C)).join(", ")}, but found ${JSON.stringify(E)} instead.`);
            return E;
          } catch (E) {
            return this._warningHistory[E.message] || (this._warningHistory[E.message] = !0, typeof console < "u" && console.warn(E.message)), this._defaultValue;
          }
        }
      }
      function sl(l) {
        return Array.isArray(l) && l.length > 0 && typeof l[0] == "string" && l[0] in oo;
      }
      function ol(l, r) {
        const d = new ro(oo, [], r ? function(f) {
          const v = { color: hi, string: Wt, number: He, enum: Wt, boolean: Et, formatted: ri, padding: Rr, resolvedImage: Va };
          return f.type === "array" ? Ti(v[f.value] || ht, f.length) : v[f.type];
        }(r) : void 0), m = d.parse(l, void 0, void 0, void 0, r && r.type === "string" ? { typeAnnotation: "coerce" } : void 0);
        return m ? L_(new du(m, r)) : lo(d.errors);
      }
      class ll {
        constructor(r, d) {
          this.kind = r, this._styleExpression = d, this.isStateDependent = r !== "constant" && !no(d.expression);
        }
        evaluateWithoutErrorHandling(r, d, m, f, v, w) {
          return this._styleExpression.evaluateWithoutErrorHandling(r, d, m, f, v, w);
        }
        evaluate(r, d, m, f, v, w) {
          return this._styleExpression.evaluate(r, d, m, f, v, w);
        }
      }
      class Od {
        constructor(r, d, m, f) {
          this.kind = r, this.zoomStops = m, this._styleExpression = d, this.isStateDependent = r !== "camera" && !no(d.expression), this.interpolationType = f;
        }
        evaluateWithoutErrorHandling(r, d, m, f, v, w) {
          return this._styleExpression.evaluateWithoutErrorHandling(r, d, m, f, v, w);
        }
        evaluate(r, d, m, f, v, w) {
          return this._styleExpression.evaluate(r, d, m, f, v, w);
        }
        interpolationFactor(r, d, m) {
          return this.interpolationType ? Cn.interpolationFactor(this.interpolationType, r, d, m) : 0;
        }
      }
      function I_(l, r) {
        const d = ol(l, r);
        if (d.result === "error")
          return d;
        const m = d.value.expression, f = el(m);
        if (!f && !Pa(r))
          return lo([new Da("", "data expressions not supported")]);
        const v = eu(m, ["zoom"]);
        if (!v && !C_(r))
          return lo([new Da("", "zoom expressions not supported")]);
        const w = _u(m);
        return w || v ? w instanceof Da ? lo([w]) : w instanceof Cn && !Kt(r) ? lo([new Da("", '"interpolate" expressions cannot be used with this property')]) : L_(w ? new Od(f ? "camera" : "composite", d.value, w.labels, w instanceof Cn ? w.interpolation : void 0) : new ll(f ? "constant" : "source", d.value)) : lo([new Da("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);
      }
      class cu {
        constructor(r, d) {
          this._parameters = r, this._specification = d, zi(this, rl(this._parameters, this._specification));
        }
        static deserialize(r) {
          return new cu(r._parameters, r._specification);
        }
        static serialize(r) {
          return { _parameters: r._parameters, _specification: r._specification };
        }
      }
      function _u(l) {
        let r = null;
        if (l instanceof ru)
          r = _u(l.result);
        else if (l instanceof nu) {
          for (const d of l.args)
            if (r = _u(d), r)
              break;
        } else
          (l instanceof tl || l instanceof Cn) && l.input instanceof ga && l.input.name === "zoom" && (r = l);
        return r instanceof Da || l.eachChild((d) => {
          const m = _u(d);
          m instanceof Da ? r = m : !r && m ? r = new Da("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.') : r && m && r !== m && (r = new Da("", 'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'));
        }), r;
      }
      function or(l) {
        const r = l.key, d = l.value, m = l.valueSpec || {}, f = l.objectElementValidators || {}, v = l.style, w = l.styleSpec;
        let E = [];
        const C = oa(d);
        if (C !== "object")
          return [new Ve(r, d, `object expected, ${C} found`)];
        for (const P in d) {
          const W = P.split(".")[0], B = m[W] || m["*"];
          let F;
          if (f[W])
            F = f[W];
          else if (m[W])
            F = In;
          else if (f["*"])
            F = f["*"];
          else {
            if (!m["*"]) {
              E.push(new Ve(r, d[P], `unknown property "${P}"`));
              continue;
            }
            F = In;
          }
          E = E.concat(F({ key: (r && `${r}.`) + P, value: d[P], valueSpec: B, style: v, styleSpec: w, object: d, objectKey: P }, d));
        }
        for (const P in m)
          f[P] || m[P].required && m[P].default === void 0 && d[P] === void 0 && E.push(new Ve(r, d, `missing required property "${P}"`));
        return E;
      }
      function P_(l) {
        const r = l.value, d = l.valueSpec, m = l.style, f = l.styleSpec, v = l.key, w = l.arrayElementValidator || In;
        if (oa(r) !== "array")
          return [new Ve(v, r, `array expected, ${oa(r)} found`)];
        if (d.length && r.length !== d.length)
          return [new Ve(v, r, `array length ${d.length} expected, length ${r.length} found`)];
        if (d["min-length"] && r.length < d["min-length"])
          return [new Ve(v, r, `array length at least ${d["min-length"]} expected, length ${r.length} found`)];
        let E = { type: d.value, values: d.values };
        f.$version < 7 && (E.function = d.function), oa(d.value) === "object" && (E = d.value);
        let C = [];
        for (let P = 0; P < r.length; P++)
          C = C.concat(w({ array: r, arrayIndex: P, value: r[P], valueSpec: E, style: m, styleSpec: f, key: `${v}[${P}]` }));
        return C;
      }
      function Rd(l) {
        const r = l.key, d = l.value, m = l.valueSpec;
        let f = oa(d);
        return f === "number" && d != d && (f = "NaN"), f !== "number" ? [new Ve(r, d, `number expected, ${f} found`)] : "minimum" in m && d < m.minimum ? [new Ve(r, d, `${d} is less than the minimum value ${m.minimum}`)] : "maximum" in m && d > m.maximum ? [new Ve(r, d, `${d} is greater than the maximum value ${m.maximum}`)] : [];
      }
      function O_(l) {
        const r = l.valueSpec, d = Dt(l.value.type);
        let m, f, v, w = {};
        const E = d !== "categorical" && l.value.property === void 0, C = !E, P = oa(l.value.stops) === "array" && oa(l.value.stops[0]) === "array" && oa(l.value.stops[0][0]) === "object", W = or({ key: l.key, value: l.value, valueSpec: l.styleSpec.function, style: l.style, styleSpec: l.styleSpec, objectElementValidators: { stops: function(U) {
          if (d === "identity")
            return [new Ve(U.key, U.value, 'identity function may not have a "stops" property')];
          let V = [];
          const ne = U.value;
          return V = V.concat(P_({ key: U.key, value: ne, valueSpec: U.valueSpec, style: U.style, styleSpec: U.styleSpec, arrayElementValidator: B })), oa(ne) === "array" && ne.length === 0 && V.push(new Ve(U.key, ne, "array must have at least one stop")), V;
        }, default: function(U) {
          return In({ key: U.key, value: U.value, valueSpec: r, style: U.style, styleSpec: U.styleSpec });
        } } });
        return d === "identity" && E && W.push(new Ve(l.key, l.value, 'missing required property "property"')), d === "identity" || l.value.stops || W.push(new Ve(l.key, l.value, 'missing required property "stops"')), d === "exponential" && l.valueSpec.expression && !Kt(l.valueSpec) && W.push(new Ve(l.key, l.value, "exponential functions not supported")), l.styleSpec.$version >= 8 && (C && !Pa(l.valueSpec) ? W.push(new Ve(l.key, l.value, "property functions not supported")) : E && !C_(l.valueSpec) && W.push(new Ve(l.key, l.value, "zoom functions not supported"))), d !== "categorical" && !P || l.value.property !== void 0 || W.push(new Ve(l.key, l.value, '"property" property is required')), W;
        function B(U) {
          let V = [];
          const ne = U.value, ae = U.key;
          if (oa(ne) !== "array")
            return [new Ve(ae, ne, `array expected, ${oa(ne)} found`)];
          if (ne.length !== 2)
            return [new Ve(ae, ne, `array length 2 expected, length ${ne.length} found`)];
          if (P) {
            if (oa(ne[0]) !== "object")
              return [new Ve(ae, ne, `object expected, ${oa(ne[0])} found`)];
            if (ne[0].zoom === void 0)
              return [new Ve(ae, ne, "object stop key must have zoom")];
            if (ne[0].value === void 0)
              return [new Ve(ae, ne, "object stop key must have value")];
            if (v && v > Dt(ne[0].zoom))
              return [new Ve(ae, ne[0].zoom, "stop zoom values must appear in ascending order")];
            Dt(ne[0].zoom) !== v && (v = Dt(ne[0].zoom), f = void 0, w = {}), V = V.concat(or({ key: `${ae}[0]`, value: ne[0], valueSpec: { zoom: {} }, style: U.style, styleSpec: U.styleSpec, objectElementValidators: { zoom: Rd, value: F } }));
          } else
            V = V.concat(F({ key: `${ae}[0]`, value: ne[0], valueSpec: {}, style: U.style, styleSpec: U.styleSpec }, ne));
          return sl(Qa(ne[1])) ? V.concat([new Ve(`${ae}[1]`, ne[1], "expressions are not allowed in function stops.")]) : V.concat(In({ key: `${ae}[1]`, value: ne[1], valueSpec: r, style: U.style, styleSpec: U.styleSpec }));
        }
        function F(U, V) {
          const ne = oa(U.value), ae = Dt(U.value), ge = U.value !== null ? U.value : V;
          if (m) {
            if (ne !== m)
              return [new Ve(U.key, ge, `${ne} stop domain type must match previous stop domain type ${m}`)];
          } else
            m = ne;
          if (ne !== "number" && ne !== "string" && ne !== "boolean")
            return [new Ve(U.key, ge, "stop domain value must be a number, string, or boolean")];
          if (ne !== "number" && d !== "categorical") {
            let Te = `number expected, ${ne} found`;
            return Pa(r) && d === void 0 && (Te += '\nIf you intended to use a categorical function, specify `"type": "categorical"`.'), [new Ve(U.key, ge, Te)];
          }
          return d !== "categorical" || ne !== "number" || isFinite(ae) && Math.floor(ae) === ae ? d !== "categorical" && ne === "number" && f !== void 0 && ae < f ? [new Ve(U.key, ge, "stop domain values must appear in ascending order")] : (f = ae, d === "categorical" && ae in w ? [new Ve(U.key, ge, "stop domain values must be unique")] : (w[ae] = !0, [])) : [new Ve(U.key, ge, `integer expected, found ${ae}`)];
        }
      }
      function Cs(l) {
        const r = (l.expressionContext === "property" ? I_ : ol)(Qa(l.value), l.valueSpec);
        if (r.result === "error")
          return r.value.map((m) => new Ve(`${l.key}${m.key}`, l.value, m.message));
        const d = r.value.expression || r.value._styleExpression.expression;
        if (l.expressionContext === "property" && l.propertyKey === "text-font" && !d.outputDefined())
          return [new Ve(l.key, l.value, `Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];
        if (l.expressionContext === "property" && l.propertyType === "layout" && !no(d))
          return [new Ve(l.key, l.value, '"feature-state" data expressions are not supported with layout properties.')];
        if (l.expressionContext === "filter" && !no(d))
          return [new Ve(l.key, l.value, '"feature-state" data expressions are not supported with filters.')];
        if (l.expressionContext && l.expressionContext.indexOf("cluster") === 0) {
          if (!eu(d, ["zoom", "feature-state"]))
            return [new Ve(l.key, l.value, '"zoom" and "feature-state" expressions are not supported with cluster properties.')];
          if (l.expressionContext === "cluster-initial" && !el(d))
            return [new Ve(l.key, l.value, "Feature data expressions are not supported with initial expression part of cluster properties.")];
        }
        return [];
      }
      function ul(l) {
        const r = l.key, d = l.value, m = l.valueSpec, f = [];
        return Array.isArray(m.values) ? m.values.indexOf(Dt(d)) === -1 && f.push(new Ve(r, d, `expected one of [${m.values.join(", ")}], ${JSON.stringify(d)} found`)) : Object.keys(m.values).indexOf(Dt(d)) === -1 && f.push(new Ve(r, d, `expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(d)} found`)), f;
      }
      function co(l) {
        if (l === !0 || l === !1)
          return !0;
        if (!Array.isArray(l) || l.length === 0)
          return !1;
        switch (l[0]) {
          case "has":
            return l.length >= 2 && l[1] !== "$id" && l[1] !== "$type";
          case "in":
            return l.length >= 3 && (typeof l[1] != "string" || Array.isArray(l[2]));
          case "!in":
          case "!has":
          case "none":
            return !1;
          case "==":
          case "!=":
          case ">":
          case ">=":
          case "<":
          case "<=":
            return l.length !== 3 || Array.isArray(l[1]) || Array.isArray(l[2]);
          case "any":
          case "all":
            for (const r of l.slice(1))
              if (!co(r) && typeof r != "boolean")
                return !1;
            return !0;
          default:
            return !0;
        }
      }
      const Sp = { type: "boolean", default: !1, transition: !1, "property-type": "data-driven", expression: { interpolated: !1, parameters: ["zoom", "feature"] } };
      function mu(l) {
        if (l == null)
          return { filter: () => !0, needGeometry: !1 };
        co(l) || (l = dl(l));
        const r = ol(l, Sp);
        if (r.result === "error")
          throw new Error(r.value.map((d) => `${d.key}: ${d.message}`).join(", "));
        return { filter: (d, m, f) => r.value.evaluate(d, m, {}, f), needGeometry: k_(l) };
      }
      function R_(l, r) {
        return l < r ? -1 : l > r ? 1 : 0;
      }
      function k_(l) {
        if (!Array.isArray(l))
          return !1;
        if (l[0] === "within")
          return !0;
        for (let r = 1; r < l.length; r++)
          if (k_(l[r]))
            return !0;
        return !1;
      }
      function dl(l) {
        if (!l)
          return !0;
        const r = l[0];
        return l.length <= 1 ? r !== "any" : r === "==" ? kd(l[1], l[2], "==") : r === "!=" ? _o(kd(l[1], l[2], "==")) : r === "<" || r === ">" || r === "<=" || r === ">=" ? kd(l[1], l[2], r) : r === "any" ? (d = l.slice(1), ["any"].concat(d.map(dl))) : r === "all" ? ["all"].concat(l.slice(1).map(dl)) : r === "none" ? ["all"].concat(l.slice(1).map(dl).map(_o)) : r === "in" ? hu(l[1], l.slice(2)) : r === "!in" ? _o(hu(l[1], l.slice(2))) : r === "has" ? cl(l[1]) : r === "!has" ? _o(cl(l[1])) : r !== "within" || l;
        var d;
      }
      function kd(l, r, d) {
        switch (l) {
          case "$type":
            return [`filter-type-${d}`, r];
          case "$id":
            return [`filter-id-${d}`, r];
          default:
            return [`filter-${d}`, l, r];
        }
      }
      function hu(l, r) {
        if (r.length === 0)
          return !1;
        switch (l) {
          case "$type":
            return ["filter-type-in", ["literal", r]];
          case "$id":
            return ["filter-id-in", ["literal", r]];
          default:
            return r.length > 200 && !r.some((d) => typeof d != typeof r[0]) ? ["filter-in-large", l, ["literal", r.sort(R_)]] : ["filter-in-small", l, ["literal", r]];
        }
      }
      function cl(l) {
        switch (l) {
          case "$type":
            return !0;
          case "$id":
            return ["filter-has-id"];
          default:
            return ["filter-has", l];
        }
      }
      function _o(l) {
        return ["!", l];
      }
      function _l(l) {
        return co(Qa(l.value)) ? Cs(zi({}, l, { expressionContext: "filter", valueSpec: { value: "boolean" } })) : D_(l);
      }
      function D_(l) {
        const r = l.value, d = l.key;
        if (oa(r) !== "array")
          return [new Ve(d, r, `array expected, ${oa(r)} found`)];
        const m = l.styleSpec;
        let f, v = [];
        if (r.length < 1)
          return [new Ve(d, r, "filter array must have at least 1 element")];
        switch (v = v.concat(ul({ key: `${d}[0]`, value: r[0], valueSpec: m.filter_operator, style: l.style, styleSpec: l.styleSpec })), Dt(r[0])) {
          case "<":
          case "<=":
          case ">":
          case ">=":
            r.length >= 2 && Dt(r[1]) === "$type" && v.push(new Ve(d, r, `"$type" cannot be use with operator "${r[0]}"`));
          case "==":
          case "!=":
            r.length !== 3 && v.push(new Ve(d, r, `filter array for operator "${r[0]}" must have 3 elements`));
          case "in":
          case "!in":
            r.length >= 2 && (f = oa(r[1]), f !== "string" && v.push(new Ve(`${d}[1]`, r[1], `string expected, ${f} found`)));
            for (let w = 2; w < r.length; w++)
              f = oa(r[w]), Dt(r[1]) === "$type" ? v = v.concat(ul({ key: `${d}[${w}]`, value: r[w], valueSpec: m.geometry_type, style: l.style, styleSpec: l.styleSpec })) : f !== "string" && f !== "number" && f !== "boolean" && v.push(new Ve(`${d}[${w}]`, r[w], `string, number, or boolean expected, ${f} found`));
            break;
          case "any":
          case "all":
          case "none":
            for (let w = 1; w < r.length; w++)
              v = v.concat(D_({ key: `${d}[${w}]`, value: r[w], style: l.style, styleSpec: l.styleSpec }));
            break;
          case "has":
          case "!has":
            f = oa(r[1]), r.length !== 2 ? v.push(new Ve(d, r, `filter array for "${r[0]}" operator must have 2 elements`)) : f !== "string" && v.push(new Ve(`${d}[1]`, r[1], `string expected, ${f} found`));
            break;
          case "within":
            f = oa(r[1]), r.length !== 2 ? v.push(new Ve(d, r, `filter array for "${r[0]}" operator must have 2 elements`)) : f !== "object" && v.push(new Ve(`${d}[1]`, r[1], `object expected, ${f} found`));
        }
        return v;
      }
      function ml(l, r) {
        const d = l.key, m = l.style, f = l.styleSpec, v = l.value, w = l.objectKey, E = f[`${r}_${l.layerType}`];
        if (!E)
          return [];
        const C = w.match(/^(.*)-transition$/);
        if (r === "paint" && C && E[C[1]] && E[C[1]].transition)
          return In({ key: d, value: v, valueSpec: f.transition, style: m, styleSpec: f });
        const P = l.valueSpec || E[w];
        if (!P)
          return [new Ve(d, v, `unknown property "${w}"`)];
        let W;
        if (oa(v) === "string" && Pa(P) && !P.tokens && (W = /^{([^}]+)}$/.exec(v)))
          return [new Ve(d, v, `"${w}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(W[1])} }\`.`)];
        const B = [];
        return l.layerType === "symbol" && (w === "text-field" && m && !m.glyphs && B.push(new Ve(d, v, 'use of "text-field" requires a style "glyphs" property')), w === "text-font" && La(Qa(v)) && Dt(v.type) === "identity" && B.push(new Ve(d, v, '"text-font" does not support identity functions'))), B.concat(In({ key: l.key, value: v, valueSpec: P, style: m, styleSpec: f, expressionContext: "property", propertyType: r, propertyKey: w }));
      }
      function W_(l) {
        return ml(l, "paint");
      }
      function z_(l) {
        return ml(l, "layout");
      }
      function B_(l) {
        let r = [];
        const d = l.value, m = l.key, f = l.style, v = l.styleSpec;
        d.type || d.ref || r.push(new Ve(m, d, 'either "type" or "ref" is required'));
        let w = Dt(d.type);
        const E = Dt(d.ref);
        if (d.id) {
          const C = Dt(d.id);
          for (let P = 0; P < l.arrayIndex; P++) {
            const W = f.layers[P];
            Dt(W.id) === C && r.push(new Ve(m, d.id, `duplicate layer id "${d.id}", previously used at line ${W.id.__line__}`));
          }
        }
        if ("ref" in d) {
          let C;
          ["type", "source", "source-layer", "filter", "layout"].forEach((P) => {
            P in d && r.push(new Ve(m, d[P], `"${P}" is prohibited for ref layers`));
          }), f.layers.forEach((P) => {
            Dt(P.id) === E && (C = P);
          }), C ? C.ref ? r.push(new Ve(m, d.ref, "ref cannot reference another ref layer")) : w = Dt(C.type) : r.push(new Ve(m, d.ref, `ref layer "${E}" not found`));
        } else if (w !== "background")
          if (d.source) {
            const C = f.sources && f.sources[d.source], P = C && Dt(C.type);
            C ? P === "vector" && w === "raster" ? r.push(new Ve(m, d.source, `layer "${d.id}" requires a raster source`)) : P === "raster" && w !== "raster" ? r.push(new Ve(m, d.source, `layer "${d.id}" requires a vector source`)) : P !== "vector" || d["source-layer"] ? P === "raster-dem" && w !== "hillshade" ? r.push(new Ve(m, d.source, "raster-dem source can only be used with layer type 'hillshade'.")) : w !== "line" || !d.paint || !d.paint["line-gradient"] || P === "geojson" && C.lineMetrics || r.push(new Ve(m, d, `layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)) : r.push(new Ve(m, d, `layer "${d.id}" must specify a "source-layer"`)) : r.push(new Ve(m, d.source, `source "${d.source}" not found`));
          } else
            r.push(new Ve(m, d, 'missing required property "source"'));
        return r = r.concat(or({ key: m, value: d, valueSpec: v.layer, style: l.style, styleSpec: l.styleSpec, objectElementValidators: { "*": () => [], type: () => In({ key: `${m}.type`, value: d.type, valueSpec: v.layer.type, style: l.style, styleSpec: l.styleSpec, object: d, objectKey: "type" }), filter: _l, layout: (C) => or({ layer: d, key: C.key, value: C.value, style: C.style, styleSpec: C.styleSpec, objectElementValidators: { "*": (P) => z_(zi({ layerType: w }, P)) } }), paint: (C) => or({ layer: d, key: C.key, value: C.value, style: C.style, styleSpec: C.styleSpec, objectElementValidators: { "*": (P) => W_(zi({ layerType: w }, P)) } }) } })), r;
      }
      function mo(l) {
        const r = l.value, d = l.key, m = oa(r);
        return m !== "string" ? [new Ve(d, r, `string expected, ${m} found`)] : [];
      }
      const N_ = { promoteId: function({ key: l, value: r }) {
        if (oa(r) === "string")
          return mo({ key: l, value: r });
        {
          const d = [];
          for (const m in r)
            d.push(...mo({ key: `${l}.${m}`, value: r[m] }));
          return d;
        }
      } };
      function hl(l) {
        const r = l.value, d = l.key, m = l.styleSpec, f = l.style;
        if (!r.type)
          return [new Ve(d, r, '"type" is required')];
        const v = Dt(r.type);
        let w;
        switch (v) {
          case "vector":
          case "raster":
          case "raster-dem":
            return w = or({ key: d, value: r, valueSpec: m[`source_${v.replace("-", "_")}`], style: l.style, styleSpec: m, objectElementValidators: N_ }), w;
          case "geojson":
            if (w = or({ key: d, value: r, valueSpec: m.source_geojson, style: f, styleSpec: m, objectElementValidators: N_ }), r.cluster)
              for (const E in r.clusterProperties) {
                const [C, P] = r.clusterProperties[E], W = typeof C == "string" ? [C, ["accumulated"], ["get", E]] : C;
                w.push(...Cs({ key: `${d}.${E}.map`, value: P, expressionContext: "cluster-map" })), w.push(...Cs({ key: `${d}.${E}.reduce`, value: W, expressionContext: "cluster-reduce" }));
              }
            return w;
          case "video":
            return or({ key: d, value: r, valueSpec: m.source_video, style: f, styleSpec: m });
          case "image":
            return or({ key: d, value: r, valueSpec: m.source_image, style: f, styleSpec: m });
          case "canvas":
            return [new Ve(d, null, "Please use runtime APIs to add canvas sources, rather than including them in stylesheets.", "source.canvas")];
          default:
            return ul({ key: `${d}.type`, value: r.type, valueSpec: { values: ["vector", "raster", "raster-dem", "geojson", "video", "image"] }, style: f, styleSpec: m });
        }
      }
      function pl(l) {
        const r = l.value, d = l.styleSpec, m = d.light, f = l.style;
        let v = [];
        const w = oa(r);
        if (r === void 0)
          return v;
        if (w !== "object")
          return v = v.concat([new Ve("light", r, `object expected, ${w} found`)]), v;
        for (const E in r) {
          const C = E.match(/^(.*)-transition$/);
          v = v.concat(C && m[C[1]] && m[C[1]].transition ? In({ key: E, value: r[E], valueSpec: d.transition, style: f, styleSpec: d }) : m[E] ? In({ key: E, value: r[E], valueSpec: m[E], style: f, styleSpec: d }) : [new Ve(E, r[E], `unknown property "${E}"`)]);
        }
        return v;
      }
      function An(l) {
        const r = l.value, d = l.styleSpec, m = d.terrain, f = l.style;
        let v = [];
        const w = oa(r);
        if (r === void 0)
          return v;
        if (w !== "object")
          return v = v.concat([new Ve("terrain", r, `object expected, ${w} found`)]), v;
        for (const E in r)
          v = v.concat(m[E] ? In({ key: E, value: r[E], valueSpec: m[E], style: f, styleSpec: d }) : [new Ve(E, r[E], `unknown property "${E}"`)]);
        return v;
      }
      const fl = { "*": () => [], array: P_, boolean: function(l) {
        const r = l.value, d = l.key, m = oa(r);
        return m !== "boolean" ? [new Ve(d, r, `boolean expected, ${m} found`)] : [];
      }, number: Rd, color: function(l) {
        const r = l.key, d = l.value, m = oa(d);
        return m !== "string" ? [new Ve(r, d, `color expected, ${m} found`)] : Ui(d) === null ? [new Ve(r, d, `color expected, "${d}" found`)] : [];
      }, constants: Wi, enum: ul, filter: _l, function: O_, layer: B_, object: or, source: hl, light: pl, terrain: An, string: mo, formatted: function(l) {
        return mo(l).length === 0 ? [] : Cs(l);
      }, resolvedImage: function(l) {
        return mo(l).length === 0 ? [] : Cs(l);
      }, padding: function(l) {
        const r = l.key, d = l.value;
        if (oa(d) === "array") {
          if (d.length < 1 || d.length > 4)
            return [new Ve(r, d, `padding requires 1 to 4 values; ${d.length} values found`)];
          const m = { type: "number" };
          let f = [];
          for (let v = 0; v < d.length; v++)
            f = f.concat(In({ key: `${r}[${v}]`, value: d[v], valueSpec: m }));
          return f;
        }
        return Rd({ key: r, value: d, valueSpec: {} });
      } };
      function In(l) {
        const r = l.value, d = l.valueSpec, m = l.styleSpec;
        return d.expression && La(Dt(r)) ? O_(l) : d.expression && sl(Qa(r)) ? Cs(l) : d.type && fl[d.type] ? fl[d.type](l) : or(zi({}, l, { valueSpec: d.type ? m[d.type] : d }));
      }
      function Tp(l) {
        const r = l.value, d = l.key, m = mo(l);
        return m.length || (r.indexOf("{fontstack}") === -1 && m.push(new Ve(d, r, '"glyphs" url must include a "{fontstack}" token')), r.indexOf("{range}") === -1 && m.push(new Ve(d, r, '"glyphs" url must include a "{range}" token'))), m;
      }
      function ts(l, r = Ae) {
        let d = [];
        return d = d.concat(In({ key: "", value: l, valueSpec: r.$root, styleSpec: r, style: l, objectElementValidators: { glyphs: Tp, "*": () => [] } })), l.constants && (d = d.concat(Wi({ key: "constants", value: l.constants, style: l, styleSpec: r }))), q_(d);
      }
      function q_(l) {
        return [].concat(l).sort((r, d) => r.line - d.line);
      }
      function Dr(l) {
        return function(...r) {
          return q_(l.apply(this, r));
        };
      }
      ts.source = Dr(hl), ts.light = Dr(pl), ts.terrain = Dr(An), ts.layer = Dr(B_), ts.filter = Dr(_l), ts.paintProperty = Dr(W_), ts.layoutProperty = Dr(z_);
      const gl = ts, Dd = gl.light, Mp = gl.paintProperty, Ep = gl.layoutProperty;
      function pu(l, r) {
        let d = !1;
        if (r && r.length)
          for (const m of r)
            l.fire(new en(new Error(m.message))), d = !0;
        return d;
      }
      class yl {
        constructor(r, d, m) {
          const f = this.cells = [];
          if (r instanceof ArrayBuffer) {
            this.arrayBuffer = r;
            const w = new Int32Array(this.arrayBuffer);
            r = w[0], this.d = (d = w[1]) + 2 * (m = w[2]);
            for (let C = 0; C < this.d * this.d; C++) {
              const P = w[3 + C], W = w[3 + C + 1];
              f.push(P === W ? null : w.subarray(P, W));
            }
            const E = w[3 + f.length + 1];
            this.keys = w.subarray(w[3 + f.length], E), this.bboxes = w.subarray(E), this.insert = this._insertReadonly;
          } else {
            this.d = d + 2 * m;
            for (let w = 0; w < this.d * this.d; w++)
              f.push([]);
            this.keys = [], this.bboxes = [];
          }
          this.n = d, this.extent = r, this.padding = m, this.scale = d / r, this.uid = 0;
          const v = m / d * r;
          this.min = -v, this.max = r + v;
        }
        insert(r, d, m, f, v) {
          this._forEachCell(d, m, f, v, this._insertCell, this.uid++, void 0, void 0), this.keys.push(r), this.bboxes.push(d), this.bboxes.push(m), this.bboxes.push(f), this.bboxes.push(v);
        }
        _insertReadonly() {
          throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.");
        }
        _insertCell(r, d, m, f, v, w) {
          this.cells[v].push(w);
        }
        query(r, d, m, f, v) {
          const w = this.min, E = this.max;
          if (r <= w && d <= w && E <= m && E <= f && !v)
            return Array.prototype.slice.call(this.keys);
          {
            const C = [];
            return this._forEachCell(r, d, m, f, this._queryCell, C, {}, v), C;
          }
        }
        _queryCell(r, d, m, f, v, w, E, C) {
          const P = this.cells[v];
          if (P !== null) {
            const W = this.keys, B = this.bboxes;
            for (let F = 0; F < P.length; F++) {
              const U = P[F];
              if (E[U] === void 0) {
                const V = 4 * U;
                (C ? C(B[V + 0], B[V + 1], B[V + 2], B[V + 3]) : r <= B[V + 2] && d <= B[V + 3] && m >= B[V + 0] && f >= B[V + 1]) ? (E[U] = !0, w.push(W[U])) : E[U] = !1;
              }
            }
          }
        }
        _forEachCell(r, d, m, f, v, w, E, C) {
          const P = this._convertToCellCoord(r), W = this._convertToCellCoord(d), B = this._convertToCellCoord(m), F = this._convertToCellCoord(f);
          for (let U = P; U <= B; U++)
            for (let V = W; V <= F; V++) {
              const ne = this.d * V + U;
              if ((!C || C(this._convertFromCellCoord(U), this._convertFromCellCoord(V), this._convertFromCellCoord(U + 1), this._convertFromCellCoord(V + 1))) && v.call(this, r, d, m, f, ne, w, E, C))
                return;
            }
        }
        _convertFromCellCoord(r) {
          return (r - this.padding) / this.scale;
        }
        _convertToCellCoord(r) {
          return Math.max(0, Math.min(this.d - 1, Math.floor(r * this.scale) + this.padding));
        }
        toArrayBuffer() {
          if (this.arrayBuffer)
            return this.arrayBuffer;
          const r = this.cells, d = 3 + this.cells.length + 1 + 1;
          let m = 0;
          for (let w = 0; w < this.cells.length; w++)
            m += this.cells[w].length;
          const f = new Int32Array(d + m + this.keys.length + this.bboxes.length);
          f[0] = this.extent, f[1] = this.n, f[2] = this.padding;
          let v = d;
          for (let w = 0; w < r.length; w++) {
            const E = r[w];
            f[3 + w] = v, f.set(E, v), v += E.length;
          }
          return f[3 + r.length] = v, f.set(this.keys, v), v += this.keys.length, f[3 + r.length + 1] = v, f.set(this.bboxes, v), v += this.bboxes.length, f.buffer;
        }
        static serialize(r, d) {
          const m = r.toArrayBuffer();
          return d && d.push(m), { buffer: m };
        }
        static deserialize(r) {
          return new yl(r.buffer);
        }
      }
      const Wr = {};
      function lt(l, r, d = {}) {
        if (Wr[l])
          throw new Error(`${l} is already registered.`);
        Object.defineProperty(r, "_classRegistryKey", { value: l, writeable: !1 }), Wr[l] = { klass: r, omit: d.omit || [], shallow: d.shallow || [] };
      }
      lt("Object", Object), lt("TransferableGridIndex", yl), lt("Color", Z), lt("Error", Error), lt("AJAXError", Ia), lt("ResolvedImage", me), lt("StylePropertyFunction", cu), lt("StyleExpression", du, { omit: ["_evaluator"] }), lt("ZoomDependentExpression", Od), lt("ZoomConstantExpression", ll), lt("CompoundExpression", ga, { omit: ["_evaluate"] });
      for (const l in oo)
        oo[l]._classRegistryKey || lt(`Expression_${l}`, oo[l]);
      function F_(l) {
        return l && typeof ArrayBuffer < "u" && (l instanceof ArrayBuffer || l.constructor && l.constructor.name === "ArrayBuffer");
      }
      function As(l, r) {
        if (l == null || typeof l == "boolean" || typeof l == "number" || typeof l == "string" || l instanceof Boolean || l instanceof Number || l instanceof String || l instanceof Date || l instanceof RegExp || l instanceof Blob)
          return l;
        if (F_(l) || ye(l))
          return r && r.push(l), l;
        if (ArrayBuffer.isView(l)) {
          const d = l;
          return r && r.push(d.buffer), d;
        }
        if (l instanceof ImageData)
          return r && r.push(l.data.buffer), l;
        if (Array.isArray(l)) {
          const d = [];
          for (const m of l)
            d.push(As(m, r));
          return d;
        }
        if (typeof l == "object") {
          const d = l.constructor, m = d._classRegistryKey;
          if (!m)
            throw new Error("can't serialize object of unregistered class");
          if (!Wr[m])
            throw new Error(`${m} is not registered.`);
          const f = d.serialize ? d.serialize(l, r) : {};
          if (d.serialize) {
            if (r && f === r[r.length - 1])
              throw new Error("statically serialized object won't survive transfer of $name property");
          } else {
            for (const v in l) {
              if (!l.hasOwnProperty(v) || Wr[m].omit.indexOf(v) >= 0)
                continue;
              const w = l[v];
              f[v] = Wr[m].shallow.indexOf(v) >= 0 ? w : As(w, r);
            }
            l instanceof Error && (f.message = l.message);
          }
          if (f.$name)
            throw new Error("$name property is reserved for worker serialization logic.");
          return m !== "Object" && (f.$name = m), f;
        }
        throw new Error("can't serialize object of type " + typeof l);
      }
      function as(l) {
        if (l == null || typeof l == "boolean" || typeof l == "number" || typeof l == "string" || l instanceof Boolean || l instanceof Number || l instanceof String || l instanceof Date || l instanceof RegExp || l instanceof Blob || F_(l) || ye(l) || ArrayBuffer.isView(l) || l instanceof ImageData)
          return l;
        if (Array.isArray(l))
          return l.map(as);
        if (typeof l == "object") {
          const r = l.$name || "Object";
          if (!Wr[r])
            throw new Error(`can't deserialize unregistered class ${r}`);
          const { klass: d } = Wr[r];
          if (!d)
            throw new Error(`can't deserialize unregistered class ${r}`);
          if (d.deserialize)
            return d.deserialize(l);
          const m = Object.create(d.prototype);
          for (const f of Object.keys(l)) {
            if (f === "$name")
              continue;
            const v = l[f];
            m[f] = Wr[r].shallow.indexOf(f) >= 0 ? v : as(v);
          }
          return m;
        }
        throw new Error("can't deserialize object of type " + typeof l);
      }
      class Wd {
        constructor() {
          this.first = !0;
        }
        update(r, d) {
          const m = Math.floor(r);
          return this.first ? (this.first = !1, this.lastIntegerZoom = m, this.lastIntegerZoomTime = 0, this.lastZoom = r, this.lastFloorZoom = m, !0) : (this.lastFloorZoom > m ? (this.lastIntegerZoom = m + 1, this.lastIntegerZoomTime = d) : this.lastFloorZoom < m && (this.lastIntegerZoom = m, this.lastIntegerZoomTime = d), r !== this.lastZoom && (this.lastZoom = r, this.lastFloorZoom = m, !0));
        }
      }
      const Je = { "Latin-1 Supplement": (l) => l >= 128 && l <= 255, Arabic: (l) => l >= 1536 && l <= 1791, "Arabic Supplement": (l) => l >= 1872 && l <= 1919, "Arabic Extended-A": (l) => l >= 2208 && l <= 2303, "Hangul Jamo": (l) => l >= 4352 && l <= 4607, "Unified Canadian Aboriginal Syllabics": (l) => l >= 5120 && l <= 5759, Khmer: (l) => l >= 6016 && l <= 6143, "Unified Canadian Aboriginal Syllabics Extended": (l) => l >= 6320 && l <= 6399, "General Punctuation": (l) => l >= 8192 && l <= 8303, "Letterlike Symbols": (l) => l >= 8448 && l <= 8527, "Number Forms": (l) => l >= 8528 && l <= 8591, "Miscellaneous Technical": (l) => l >= 8960 && l <= 9215, "Control Pictures": (l) => l >= 9216 && l <= 9279, "Optical Character Recognition": (l) => l >= 9280 && l <= 9311, "Enclosed Alphanumerics": (l) => l >= 9312 && l <= 9471, "Geometric Shapes": (l) => l >= 9632 && l <= 9727, "Miscellaneous Symbols": (l) => l >= 9728 && l <= 9983, "Miscellaneous Symbols and Arrows": (l) => l >= 11008 && l <= 11263, "CJK Radicals Supplement": (l) => l >= 11904 && l <= 12031, "Kangxi Radicals": (l) => l >= 12032 && l <= 12255, "Ideographic Description Characters": (l) => l >= 12272 && l <= 12287, "CJK Symbols and Punctuation": (l) => l >= 12288 && l <= 12351, Hiragana: (l) => l >= 12352 && l <= 12447, Katakana: (l) => l >= 12448 && l <= 12543, Bopomofo: (l) => l >= 12544 && l <= 12591, "Hangul Compatibility Jamo": (l) => l >= 12592 && l <= 12687, Kanbun: (l) => l >= 12688 && l <= 12703, "Bopomofo Extended": (l) => l >= 12704 && l <= 12735, "CJK Strokes": (l) => l >= 12736 && l <= 12783, "Katakana Phonetic Extensions": (l) => l >= 12784 && l <= 12799, "Enclosed CJK Letters and Months": (l) => l >= 12800 && l <= 13055, "CJK Compatibility": (l) => l >= 13056 && l <= 13311, "CJK Unified Ideographs Extension A": (l) => l >= 13312 && l <= 19903, "Yijing Hexagram Symbols": (l) => l >= 19904 && l <= 19967, "CJK Unified Ideographs": (l) => l >= 19968 && l <= 40959, "Yi Syllables": (l) => l >= 40960 && l <= 42127, "Yi Radicals": (l) => l >= 42128 && l <= 42191, "Hangul Jamo Extended-A": (l) => l >= 43360 && l <= 43391, "Hangul Syllables": (l) => l >= 44032 && l <= 55215, "Hangul Jamo Extended-B": (l) => l >= 55216 && l <= 55295, "Private Use Area": (l) => l >= 57344 && l <= 63743, "CJK Compatibility Ideographs": (l) => l >= 63744 && l <= 64255, "Arabic Presentation Forms-A": (l) => l >= 64336 && l <= 65023, "Vertical Forms": (l) => l >= 65040 && l <= 65055, "CJK Compatibility Forms": (l) => l >= 65072 && l <= 65103, "Small Form Variants": (l) => l >= 65104 && l <= 65135, "Arabic Presentation Forms-B": (l) => l >= 65136 && l <= 65279, "Halfwidth and Fullwidth Forms": (l) => l >= 65280 && l <= 65519 };
      function fu(l) {
        for (const r of l)
          if (Bd(r.charCodeAt(0)))
            return !0;
        return !1;
      }
      function Lp(l) {
        for (const r of l)
          if (!zd(r.charCodeAt(0)))
            return !1;
        return !0;
      }
      function zd(l) {
        return !(Je.Arabic(l) || Je["Arabic Supplement"](l) || Je["Arabic Extended-A"](l) || Je["Arabic Presentation Forms-A"](l) || Je["Arabic Presentation Forms-B"](l));
      }
      function Bd(l) {
        return !(l !== 746 && l !== 747 && (l < 4352 || !(Je["Bopomofo Extended"](l) || Je.Bopomofo(l) || Je["CJK Compatibility Forms"](l) && !(l >= 65097 && l <= 65103) || Je["CJK Compatibility Ideographs"](l) || Je["CJK Compatibility"](l) || Je["CJK Radicals Supplement"](l) || Je["CJK Strokes"](l) || !(!Je["CJK Symbols and Punctuation"](l) || l >= 12296 && l <= 12305 || l >= 12308 && l <= 12319 || l === 12336) || Je["CJK Unified Ideographs Extension A"](l) || Je["CJK Unified Ideographs"](l) || Je["Enclosed CJK Letters and Months"](l) || Je["Hangul Compatibility Jamo"](l) || Je["Hangul Jamo Extended-A"](l) || Je["Hangul Jamo Extended-B"](l) || Je["Hangul Jamo"](l) || Je["Hangul Syllables"](l) || Je.Hiragana(l) || Je["Ideographic Description Characters"](l) || Je.Kanbun(l) || Je["Kangxi Radicals"](l) || Je["Katakana Phonetic Extensions"](l) || Je.Katakana(l) && l !== 12540 || !(!Je["Halfwidth and Fullwidth Forms"](l) || l === 65288 || l === 65289 || l === 65293 || l >= 65306 && l <= 65310 || l === 65339 || l === 65341 || l === 65343 || l >= 65371 && l <= 65503 || l === 65507 || l >= 65512 && l <= 65519) || !(!Je["Small Form Variants"](l) || l >= 65112 && l <= 65118 || l >= 65123 && l <= 65126) || Je["Unified Canadian Aboriginal Syllabics"](l) || Je["Unified Canadian Aboriginal Syllabics Extended"](l) || Je["Vertical Forms"](l) || Je["Yijing Hexagram Symbols"](l) || Je["Yi Syllables"](l) || Je["Yi Radicals"](l))));
      }
      function G_(l) {
        return !(Bd(l) || function(r) {
          return !!(Je["Latin-1 Supplement"](r) && (r === 167 || r === 169 || r === 174 || r === 177 || r === 188 || r === 189 || r === 190 || r === 215 || r === 247) || Je["General Punctuation"](r) && (r === 8214 || r === 8224 || r === 8225 || r === 8240 || r === 8241 || r === 8251 || r === 8252 || r === 8258 || r === 8263 || r === 8264 || r === 8265 || r === 8273) || Je["Letterlike Symbols"](r) || Je["Number Forms"](r) || Je["Miscellaneous Technical"](r) && (r >= 8960 && r <= 8967 || r >= 8972 && r <= 8991 || r >= 8996 && r <= 9e3 || r === 9003 || r >= 9085 && r <= 9114 || r >= 9150 && r <= 9165 || r === 9167 || r >= 9169 && r <= 9179 || r >= 9186 && r <= 9215) || Je["Control Pictures"](r) && r !== 9251 || Je["Optical Character Recognition"](r) || Je["Enclosed Alphanumerics"](r) || Je["Geometric Shapes"](r) || Je["Miscellaneous Symbols"](r) && !(r >= 9754 && r <= 9759) || Je["Miscellaneous Symbols and Arrows"](r) && (r >= 11026 && r <= 11055 || r >= 11088 && r <= 11097 || r >= 11192 && r <= 11243) || Je["CJK Symbols and Punctuation"](r) || Je.Katakana(r) || Je["Private Use Area"](r) || Je["CJK Compatibility Forms"](r) || Je["Small Form Variants"](r) || Je["Halfwidth and Fullwidth Forms"](r) || r === 8734 || r === 8756 || r === 8757 || r >= 9984 && r <= 10087 || r >= 10102 && r <= 10131 || r === 65532 || r === 65533);
        }(l));
      }
      function U_(l) {
        return l >= 1424 && l <= 2303 || Je["Arabic Presentation Forms-A"](l) || Je["Arabic Presentation Forms-B"](l);
      }
      function Cp(l, r) {
        return !(!r && U_(l) || l >= 2304 && l <= 3583 || l >= 3840 && l <= 4255 || Je.Khmer(l));
      }
      function j_(l) {
        for (const r of l)
          if (U_(r.charCodeAt(0)))
            return !0;
        return !1;
      }
      const Nd = "deferred", qd = "loading", Fd = "loaded";
      let Gd = null, mn = "unavailable", is = null;
      const V_ = function(l) {
        l && typeof l == "string" && l.indexOf("NetworkError") > -1 && (mn = "error"), Gd && Gd(l);
      };
      function ho() {
        Ud.fire(new mi("pluginStateChange", { pluginStatus: mn, pluginURL: is }));
      }
      const Ud = new tn(), vl = function() {
        return mn;
      }, $_ = function() {
        if (mn !== Nd || !is)
          throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");
        mn = qd, ho(), is && Fi({ url: is }, (l) => {
          l ? V_(l) : (mn = Fd, ho());
        });
      }, jn = { applyArabicShaping: null, processBidirectionalText: null, processStyledBidirectionalText: null, isLoaded: () => mn === Fd || jn.applyArabicShaping != null, isLoading: () => mn === qd, setState(l) {
        if (!Fe())
          throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");
        mn = l.pluginStatus, is = l.pluginURL;
      }, isParsed() {
        if (!Fe())
          throw new Error("rtl-text-plugin is only parsed on the worker-threads");
        return jn.applyArabicShaping != null && jn.processBidirectionalText != null && jn.processStyledBidirectionalText != null;
      }, getPluginURL() {
        if (!Fe())
          throw new Error("rtl-text-plugin url can only be queried from the worker threads");
        return is;
      } };
      class Na {
        constructor(r, d) {
          this.zoom = r, d ? (this.now = d.now, this.fadeDuration = d.fadeDuration, this.zoomHistory = d.zoomHistory, this.transition = d.transition) : (this.now = 0, this.fadeDuration = 0, this.zoomHistory = new Wd(), this.transition = {});
        }
        isSupportedScript(r) {
          return function(d, m) {
            for (const f of d)
              if (!Cp(f.charCodeAt(0), m))
                return !1;
            return !0;
          }(r, jn.isLoaded());
        }
        crossFadingFactor() {
          return this.fadeDuration === 0 ? 1 : Math.min((this.now - this.zoomHistory.lastIntegerZoomTime) / this.fadeDuration, 1);
        }
        getCrossfadeParameters() {
          const r = this.zoom, d = r - Math.floor(r), m = this.crossFadingFactor();
          return r > this.zoomHistory.lastIntegerZoom ? { fromScale: 2, toScale: 1, t: d + (1 - d) * m } : { fromScale: 0.5, toScale: 1, t: 1 - (1 - m) * d };
        }
      }
      class bl {
        constructor(r, d) {
          this.property = r, this.value = d, this.expression = function(m, f) {
            if (La(m))
              return new cu(m, f);
            if (sl(m)) {
              const v = I_(m, f);
              if (v.result === "error")
                throw new Error(v.value.map((w) => `${w.key}: ${w.message}`).join(", "));
              return v.value;
            }
            {
              let v = m;
              return f.type === "color" && typeof m == "string" ? v = Z.parse(m) : f.type !== "padding" || typeof m != "number" && !Array.isArray(m) || (v = se.parse(m)), { kind: "constant", evaluate: () => v };
            }
          }(d === void 0 ? r.specification.default : d, r.specification);
        }
        isDataDriven() {
          return this.expression.kind === "source" || this.expression.kind === "composite";
        }
        possiblyEvaluate(r, d, m) {
          return this.property.possiblyEvaluate(this, r, d, m);
        }
      }
      class gu {
        constructor(r) {
          this.property = r, this.value = new bl(r, void 0);
        }
        transitioned(r, d) {
          return new H_(this.property, this.value, d, D({}, r.transition, this.transition), r.now);
        }
        untransitioned() {
          return new H_(this.property, this.value, null, {}, 0);
        }
      }
      class Z_ {
        constructor(r) {
          this._properties = r, this._values = Object.create(r.defaultTransitionablePropertyValues);
        }
        getValue(r) {
          return _e(this._values[r].value.value);
        }
        setValue(r, d) {
          Object.prototype.hasOwnProperty.call(this._values, r) || (this._values[r] = new gu(this._values[r].property)), this._values[r].value = new bl(this._values[r].property, d === null ? void 0 : _e(d));
        }
        getTransition(r) {
          return _e(this._values[r].transition);
        }
        setTransition(r, d) {
          Object.prototype.hasOwnProperty.call(this._values, r) || (this._values[r] = new gu(this._values[r].property)), this._values[r].transition = _e(d) || void 0;
        }
        serialize() {
          const r = {};
          for (const d of Object.keys(this._values)) {
            const m = this.getValue(d);
            m !== void 0 && (r[d] = m);
            const f = this.getTransition(d);
            f !== void 0 && (r[`${d}-transition`] = f);
          }
          return r;
        }
        transitioned(r, d) {
          const m = new X_(this._properties);
          for (const f of Object.keys(this._values))
            m._values[f] = this._values[f].transitioned(r, d._values[f]);
          return m;
        }
        untransitioned() {
          const r = new X_(this._properties);
          for (const d of Object.keys(this._values))
            r._values[d] = this._values[d].untransitioned();
          return r;
        }
      }
      class H_ {
        constructor(r, d, m, f, v) {
          this.property = r, this.value = d, this.begin = v + f.delay || 0, this.end = this.begin + f.duration || 0, r.specification.transition && (f.delay || f.duration) && (this.prior = m);
        }
        possiblyEvaluate(r, d, m) {
          const f = r.now || 0, v = this.value.possiblyEvaluate(r, d, m), w = this.prior;
          if (w) {
            if (f > this.end)
              return this.prior = null, v;
            if (this.value.isDataDriven())
              return this.prior = null, v;
            if (f < this.begin)
              return w.possiblyEvaluate(r, d, m);
            {
              const E = (f - this.begin) / (this.end - this.begin);
              return this.property.interpolate(w.possiblyEvaluate(r, d, m), v, function(C) {
                if (C <= 0)
                  return 0;
                if (C >= 1)
                  return 1;
                const P = C * C, W = P * C;
                return 4 * (C < 0.5 ? W : 3 * (C - P) + W - 0.75);
              }(E));
            }
          }
          return v;
        }
      }
      class X_ {
        constructor(r) {
          this._properties = r, this._values = Object.create(r.defaultTransitioningPropertyValues);
        }
        possiblyEvaluate(r, d, m) {
          const f = new xl(this._properties);
          for (const v of Object.keys(this._values))
            f._values[v] = this._values[v].possiblyEvaluate(r, d, m);
          return f;
        }
        hasTransition() {
          for (const r of Object.keys(this._values))
            if (this._values[r].prior)
              return !0;
          return !1;
        }
      }
      class Ap {
        constructor(r) {
          this._properties = r, this._values = Object.create(r.defaultPropertyValues);
        }
        getValue(r) {
          return _e(this._values[r].value);
        }
        setValue(r, d) {
          this._values[r] = new bl(this._values[r].property, d === null ? void 0 : _e(d));
        }
        serialize() {
          const r = {};
          for (const d of Object.keys(this._values)) {
            const m = this.getValue(d);
            m !== void 0 && (r[d] = m);
          }
          return r;
        }
        possiblyEvaluate(r, d, m) {
          const f = new xl(this._properties);
          for (const v of Object.keys(this._values))
            f._values[v] = this._values[v].possiblyEvaluate(r, d, m);
          return f;
        }
      }
      class vr {
        constructor(r, d, m) {
          this.property = r, this.value = d, this.parameters = m;
        }
        isConstant() {
          return this.value.kind === "constant";
        }
        constantOr(r) {
          return this.value.kind === "constant" ? this.value.value : r;
        }
        evaluate(r, d, m, f) {
          return this.property.evaluate(this.value, this.parameters, r, d, m, f);
        }
      }
      class xl {
        constructor(r) {
          this._properties = r, this._values = Object.create(r.defaultPossiblyEvaluatedValues);
        }
        get(r) {
          return this._values[r];
        }
      }
      class pt {
        constructor(r) {
          this.specification = r;
        }
        possiblyEvaluate(r, d) {
          if (r.isDataDriven())
            throw new Error("Value should not be data driven");
          return r.expression.evaluate(d);
        }
        interpolate(r, d, m) {
          const f = al[this.specification.type];
          return f ? f(r, d, m) : r;
        }
      }
      class Tt {
        constructor(r, d) {
          this.specification = r, this.overrides = d;
        }
        possiblyEvaluate(r, d, m, f) {
          return new vr(this, r.expression.kind === "constant" || r.expression.kind === "camera" ? { kind: "constant", value: r.expression.evaluate(d, null, {}, m, f) } : r.expression, d);
        }
        interpolate(r, d, m) {
          if (r.value.kind !== "constant" || d.value.kind !== "constant")
            return r;
          if (r.value.value === void 0 || d.value.value === void 0)
            return new vr(this, { kind: "constant", value: void 0 }, r.parameters);
          const f = al[this.specification.type];
          return f ? new vr(this, { kind: "constant", value: f(r.value.value, d.value.value, m) }, r.parameters) : r;
        }
        evaluate(r, d, m, f, v, w) {
          return r.kind === "constant" ? r.value : r.evaluate(d, m, f, v, w);
        }
      }
      class po extends Tt {
        possiblyEvaluate(r, d, m, f) {
          if (r.value === void 0)
            return new vr(this, { kind: "constant", value: void 0 }, d);
          if (r.expression.kind === "constant") {
            const v = r.expression.evaluate(d, null, {}, m, f), w = r.property.specification.type === "resolvedImage" && typeof v != "string" ? v.name : v, E = this._calculate(w, w, w, d);
            return new vr(this, { kind: "constant", value: E }, d);
          }
          if (r.expression.kind === "camera") {
            const v = this._calculate(r.expression.evaluate({ zoom: d.zoom - 1 }), r.expression.evaluate({ zoom: d.zoom }), r.expression.evaluate({ zoom: d.zoom + 1 }), d);
            return new vr(this, { kind: "constant", value: v }, d);
          }
          return new vr(this, r.expression, d);
        }
        evaluate(r, d, m, f, v, w) {
          if (r.kind === "source") {
            const E = r.evaluate(d, m, f, v, w);
            return this._calculate(E, E, E, d);
          }
          return r.kind === "composite" ? this._calculate(r.evaluate({ zoom: Math.floor(d.zoom) - 1 }, m, f), r.evaluate({ zoom: Math.floor(d.zoom) }, m, f), r.evaluate({ zoom: Math.floor(d.zoom) + 1 }, m, f), d) : r.value;
        }
        _calculate(r, d, m, f) {
          return f.zoom > f.zoomHistory.lastIntegerZoom ? { from: r, to: d } : { from: m, to: d };
        }
        interpolate(r) {
          return r;
        }
      }
      class jd {
        constructor(r) {
          this.specification = r;
        }
        possiblyEvaluate(r, d, m, f) {
          if (r.value !== void 0) {
            if (r.expression.kind === "constant") {
              const v = r.expression.evaluate(d, null, {}, m, f);
              return this._calculate(v, v, v, d);
            }
            return this._calculate(r.expression.evaluate(new Na(Math.floor(d.zoom - 1), d)), r.expression.evaluate(new Na(Math.floor(d.zoom), d)), r.expression.evaluate(new Na(Math.floor(d.zoom + 1), d)), d);
          }
        }
        _calculate(r, d, m, f) {
          return f.zoom > f.zoomHistory.lastIntegerZoom ? { from: r, to: d } : { from: m, to: d };
        }
        interpolate(r) {
          return r;
        }
      }
      class ns {
        constructor(r) {
          this.specification = r;
        }
        possiblyEvaluate(r, d, m, f) {
          return !!r.expression.evaluate(d, null, {}, m, f);
        }
        interpolate() {
          return !1;
        }
      }
      class Bi {
        constructor(r) {
          this.properties = r, this.defaultPropertyValues = {}, this.defaultTransitionablePropertyValues = {}, this.defaultTransitioningPropertyValues = {}, this.defaultPossiblyEvaluatedValues = {}, this.overridableProperties = [];
          for (const d in r) {
            const m = r[d];
            m.specification.overridable && this.overridableProperties.push(d);
            const f = this.defaultPropertyValues[d] = new bl(m, void 0), v = this.defaultTransitionablePropertyValues[d] = new gu(m);
            this.defaultTransitioningPropertyValues[d] = v.untransitioned(), this.defaultPossiblyEvaluatedValues[d] = f.possiblyEvaluate({});
          }
        }
      }
      lt("DataDrivenProperty", Tt), lt("DataConstantProperty", pt), lt("CrossFadedDataDrivenProperty", po), lt("CrossFadedProperty", jd), lt("ColorRampProperty", ns);
      const rs = "-transition";
      class br extends tn {
        constructor(r, d) {
          if (super(), this.id = r.id, this.type = r.type, this._featureFilter = { filter: () => !0, needGeometry: !1 }, r.type !== "custom" && (this.metadata = r.metadata, this.minzoom = r.minzoom, this.maxzoom = r.maxzoom, r.type !== "background" && (this.source = r.source, this.sourceLayer = r["source-layer"], this.filter = r.filter), d.layout && (this._unevaluatedLayout = new Ap(d.layout)), d.paint)) {
            this._transitionablePaint = new Z_(d.paint);
            for (const m in r.paint)
              this.setPaintProperty(m, r.paint[m], { validate: !1 });
            for (const m in r.layout)
              this.setLayoutProperty(m, r.layout[m], { validate: !1 });
            this._transitioningPaint = this._transitionablePaint.untransitioned(), this.paint = new xl(d.paint);
          }
        }
        getCrossfadeParameters() {
          return this._crossfadeParameters;
        }
        getLayoutProperty(r) {
          return r === "visibility" ? this.visibility : this._unevaluatedLayout.getValue(r);
        }
        setLayoutProperty(r, d, m = {}) {
          d != null && this._validate(Ep, `layers.${this.id}.layout.${r}`, r, d, m) || (r !== "visibility" ? this._unevaluatedLayout.setValue(r, d) : this.visibility = d);
        }
        getPaintProperty(r) {
          return r.endsWith(rs) ? this._transitionablePaint.getTransition(r.slice(0, -rs.length)) : this._transitionablePaint.getValue(r);
        }
        setPaintProperty(r, d, m = {}) {
          if (d != null && this._validate(Mp, `layers.${this.id}.paint.${r}`, r, d, m))
            return !1;
          if (r.endsWith(rs))
            return this._transitionablePaint.setTransition(r.slice(0, -rs.length), d || void 0), !1;
          {
            const f = this._transitionablePaint._values[r], v = f.property.specification["property-type"] === "cross-faded-data-driven", w = f.value.isDataDriven(), E = f.value;
            this._transitionablePaint.setValue(r, d), this._handleSpecialPaintPropertyUpdate(r);
            const C = this._transitionablePaint._values[r].value;
            return C.isDataDriven() || w || v || this._handleOverridablePaintPropertyUpdate(r, E, C);
          }
        }
        _handleSpecialPaintPropertyUpdate(r) {
        }
        _handleOverridablePaintPropertyUpdate(r, d, m) {
          return !1;
        }
        isHidden(r) {
          return !!(this.minzoom && r < this.minzoom) || !!(this.maxzoom && r >= this.maxzoom) || this.visibility === "none";
        }
        updateTransitions(r) {
          this._transitioningPaint = this._transitionablePaint.transitioned(r, this._transitioningPaint);
        }
        hasTransition() {
          return this._transitioningPaint.hasTransition();
        }
        recalculate(r, d) {
          r.getCrossfadeParameters && (this._crossfadeParameters = r.getCrossfadeParameters()), this._unevaluatedLayout && (this.layout = this._unevaluatedLayout.possiblyEvaluate(r, void 0, d)), this.paint = this._transitioningPaint.possiblyEvaluate(r, void 0, d);
        }
        serialize() {
          const r = { id: this.id, type: this.type, source: this.source, "source-layer": this.sourceLayer, metadata: this.metadata, minzoom: this.minzoom, maxzoom: this.maxzoom, filter: this.filter, layout: this._unevaluatedLayout && this._unevaluatedLayout.serialize(), paint: this._transitionablePaint && this._transitionablePaint.serialize() };
          return this.visibility && (r.layout = r.layout || {}, r.layout.visibility = this.visibility), J(r, (d, m) => !(d === void 0 || m === "layout" && !Object.keys(d).length || m === "paint" && !Object.keys(d).length));
        }
        _validate(r, d, m, f, v = {}) {
          return (!v || v.validate !== !1) && pu(this, r.call(gl, { key: d, layerType: this.type, objectKey: m, value: f, styleSpec: Ae, style: { glyphs: !0, sprite: !0 } }));
        }
        is3D() {
          return !1;
        }
        isTileClipped() {
          return !1;
        }
        hasOffscreenPass() {
          return !1;
        }
        resize() {
        }
        isStateDependent() {
          for (const r in this.paint._values) {
            const d = this.paint.get(r);
            if (d instanceof vr && Pa(d.property.specification) && (d.value.kind === "source" || d.value.kind === "composite") && d.value.isStateDependent)
              return !0;
          }
          return !1;
        }
      }
      const K_ = { Int8: Int8Array, Uint8: Uint8Array, Int16: Int16Array, Uint16: Uint16Array, Int32: Int32Array, Uint32: Uint32Array, Float32: Float32Array };
      class ss {
        constructor(r, d) {
          this._structArray = r, this._pos1 = d * this.size, this._pos2 = this._pos1 / 2, this._pos4 = this._pos1 / 4, this._pos8 = this._pos1 / 8;
        }
      }
      class Ja {
        constructor() {
          this.isTransferred = !1, this.capacity = -1, this.resize(0);
        }
        static serialize(r, d) {
          return r._trim(), d && (r.isTransferred = !0, d.push(r.arrayBuffer)), { length: r.length, arrayBuffer: r.arrayBuffer };
        }
        static deserialize(r) {
          const d = Object.create(this.prototype);
          return d.arrayBuffer = r.arrayBuffer, d.length = r.length, d.capacity = r.arrayBuffer.byteLength / d.bytesPerElement, d._refreshViews(), d;
        }
        _trim() {
          this.length !== this.capacity && (this.capacity = this.length, this.arrayBuffer = this.arrayBuffer.slice(0, this.length * this.bytesPerElement), this._refreshViews());
        }
        clear() {
          this.length = 0;
        }
        resize(r) {
          this.reserve(r), this.length = r;
        }
        reserve(r) {
          if (r > this.capacity) {
            this.capacity = Math.max(r, Math.floor(5 * this.capacity), 128), this.arrayBuffer = new ArrayBuffer(this.capacity * this.bytesPerElement);
            const d = this.uint8;
            this._refreshViews(), d && this.uint8.set(d);
          }
        }
        _refreshViews() {
          throw new Error("_refreshViews() must be implemented by each concrete StructArray layout");
        }
      }
      function si(l, r = 1) {
        let d = 0, m = 0;
        return { members: l.map((f) => {
          const v = K_[f.type].BYTES_PER_ELEMENT, w = d = Vd(d, Math.max(r, v)), E = f.components || 1;
          return m = Math.max(m, v), d += v * E, { name: f.name, type: f.type, components: E, offset: w };
        }), size: Vd(d, Math.max(m, r)), alignment: r };
      }
      function Vd(l, r) {
        return Math.ceil(l / r) * r;
      }
      class Is extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
        }
        emplaceBack(r, d) {
          const m = this.length;
          return this.resize(m + 1), this.emplace(m, r, d);
        }
        emplace(r, d, m) {
          const f = 2 * r;
          return this.int16[f + 0] = d, this.int16[f + 1] = m, r;
        }
      }
      Is.prototype.bytesPerElement = 4, lt("StructArrayLayout2i4", Is);
      class p extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f) {
          const v = this.length;
          return this.resize(v + 1), this.emplace(v, r, d, m, f);
        }
        emplace(r, d, m, f, v) {
          const w = 4 * r;
          return this.int16[w + 0] = d, this.int16[w + 1] = m, this.int16[w + 2] = f, this.int16[w + 3] = v, r;
        }
      }
      p.prototype.bytesPerElement = 8, lt("StructArrayLayout4i8", p);
      class s extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f, v, w) {
          const E = this.length;
          return this.resize(E + 1), this.emplace(E, r, d, m, f, v, w);
        }
        emplace(r, d, m, f, v, w, E) {
          const C = 6 * r;
          return this.int16[C + 0] = d, this.int16[C + 1] = m, this.int16[C + 2] = f, this.int16[C + 3] = v, this.int16[C + 4] = w, this.int16[C + 5] = E, r;
        }
      }
      s.prototype.bytesPerElement = 12, lt("StructArrayLayout2i4i12", s);
      class c extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f, v, w) {
          const E = this.length;
          return this.resize(E + 1), this.emplace(E, r, d, m, f, v, w);
        }
        emplace(r, d, m, f, v, w, E) {
          const C = 4 * r, P = 8 * r;
          return this.int16[C + 0] = d, this.int16[C + 1] = m, this.uint8[P + 4] = f, this.uint8[P + 5] = v, this.uint8[P + 6] = w, this.uint8[P + 7] = E, r;
        }
      }
      c.prototype.bytesPerElement = 8, lt("StructArrayLayout2i4ub8", c);
      class h extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
        }
        emplaceBack(r, d) {
          const m = this.length;
          return this.resize(m + 1), this.emplace(m, r, d);
        }
        emplace(r, d, m) {
          const f = 2 * r;
          return this.float32[f + 0] = d, this.float32[f + 1] = m, r;
        }
      }
      h.prototype.bytesPerElement = 8, lt("StructArrayLayout2f8", h);
      class g extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f, v, w, E, C, P, W) {
          const B = this.length;
          return this.resize(B + 1), this.emplace(B, r, d, m, f, v, w, E, C, P, W);
        }
        emplace(r, d, m, f, v, w, E, C, P, W, B) {
          const F = 10 * r;
          return this.uint16[F + 0] = d, this.uint16[F + 1] = m, this.uint16[F + 2] = f, this.uint16[F + 3] = v, this.uint16[F + 4] = w, this.uint16[F + 5] = E, this.uint16[F + 6] = C, this.uint16[F + 7] = P, this.uint16[F + 8] = W, this.uint16[F + 9] = B, r;
        }
      }
      g.prototype.bytesPerElement = 20, lt("StructArrayLayout10ui20", g);
      class x extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f, v, w, E, C, P, W, B, F) {
          const U = this.length;
          return this.resize(U + 1), this.emplace(U, r, d, m, f, v, w, E, C, P, W, B, F);
        }
        emplace(r, d, m, f, v, w, E, C, P, W, B, F, U) {
          const V = 12 * r;
          return this.int16[V + 0] = d, this.int16[V + 1] = m, this.int16[V + 2] = f, this.int16[V + 3] = v, this.uint16[V + 4] = w, this.uint16[V + 5] = E, this.uint16[V + 6] = C, this.uint16[V + 7] = P, this.int16[V + 8] = W, this.int16[V + 9] = B, this.int16[V + 10] = F, this.int16[V + 11] = U, r;
        }
      }
      x.prototype.bytesPerElement = 24, lt("StructArrayLayout4i4ui4i24", x);
      class M extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m) {
          const f = this.length;
          return this.resize(f + 1), this.emplace(f, r, d, m);
        }
        emplace(r, d, m, f) {
          const v = 3 * r;
          return this.float32[v + 0] = d, this.float32[v + 1] = m, this.float32[v + 2] = f, r;
        }
      }
      M.prototype.bytesPerElement = 12, lt("StructArrayLayout3f12", M);
      class A extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer);
        }
        emplaceBack(r) {
          const d = this.length;
          return this.resize(d + 1), this.emplace(d, r);
        }
        emplace(r, d) {
          return this.uint32[1 * r + 0] = d, r;
        }
      }
      A.prototype.bytesPerElement = 4, lt("StructArrayLayout1ul4", A);
      class I extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f, v, w, E, C, P) {
          const W = this.length;
          return this.resize(W + 1), this.emplace(W, r, d, m, f, v, w, E, C, P);
        }
        emplace(r, d, m, f, v, w, E, C, P, W) {
          const B = 10 * r, F = 5 * r;
          return this.int16[B + 0] = d, this.int16[B + 1] = m, this.int16[B + 2] = f, this.int16[B + 3] = v, this.int16[B + 4] = w, this.int16[B + 5] = E, this.uint32[F + 3] = C, this.uint16[B + 8] = P, this.uint16[B + 9] = W, r;
        }
      }
      I.prototype.bytesPerElement = 20, lt("StructArrayLayout6i1ul2ui20", I);
      class O extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f, v, w) {
          const E = this.length;
          return this.resize(E + 1), this.emplace(E, r, d, m, f, v, w);
        }
        emplace(r, d, m, f, v, w, E) {
          const C = 6 * r;
          return this.int16[C + 0] = d, this.int16[C + 1] = m, this.int16[C + 2] = f, this.int16[C + 3] = v, this.int16[C + 4] = w, this.int16[C + 5] = E, r;
        }
      }
      O.prototype.bytesPerElement = 12, lt("StructArrayLayout2i2i2i12", O);
      class z extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f, v) {
          const w = this.length;
          return this.resize(w + 1), this.emplace(w, r, d, m, f, v);
        }
        emplace(r, d, m, f, v, w) {
          const E = 4 * r, C = 8 * r;
          return this.float32[E + 0] = d, this.float32[E + 1] = m, this.float32[E + 2] = f, this.int16[C + 6] = v, this.int16[C + 7] = w, r;
        }
      }
      z.prototype.bytesPerElement = 16, lt("StructArrayLayout2f1f2i16", z);
      class q extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f) {
          const v = this.length;
          return this.resize(v + 1), this.emplace(v, r, d, m, f);
        }
        emplace(r, d, m, f, v) {
          const w = 12 * r, E = 3 * r;
          return this.uint8[w + 0] = d, this.uint8[w + 1] = m, this.float32[E + 1] = f, this.float32[E + 2] = v, r;
        }
      }
      q.prototype.bytesPerElement = 12, lt("StructArrayLayout2ub2f12", q);
      class G extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m) {
          const f = this.length;
          return this.resize(f + 1), this.emplace(f, r, d, m);
        }
        emplace(r, d, m, f) {
          const v = 3 * r;
          return this.uint16[v + 0] = d, this.uint16[v + 1] = m, this.uint16[v + 2] = f, r;
        }
      }
      G.prototype.bytesPerElement = 6, lt("StructArrayLayout3ui6", G);
      class ee extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f, v, w, E, C, P, W, B, F, U, V, ne, ae, ge) {
          const Te = this.length;
          return this.resize(Te + 1), this.emplace(Te, r, d, m, f, v, w, E, C, P, W, B, F, U, V, ne, ae, ge);
        }
        emplace(r, d, m, f, v, w, E, C, P, W, B, F, U, V, ne, ae, ge, Te) {
          const fe = 24 * r, xe = 12 * r, ze = 48 * r;
          return this.int16[fe + 0] = d, this.int16[fe + 1] = m, this.uint16[fe + 2] = f, this.uint16[fe + 3] = v, this.uint32[xe + 2] = w, this.uint32[xe + 3] = E, this.uint32[xe + 4] = C, this.uint16[fe + 10] = P, this.uint16[fe + 11] = W, this.uint16[fe + 12] = B, this.float32[xe + 7] = F, this.float32[xe + 8] = U, this.uint8[ze + 36] = V, this.uint8[ze + 37] = ne, this.uint8[ze + 38] = ae, this.uint32[xe + 10] = ge, this.int16[fe + 22] = Te, r;
        }
      }
      ee.prototype.bytesPerElement = 48, lt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48", ee);
      class K extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f, v, w, E, C, P, W, B, F, U, V, ne, ae, ge, Te, fe, xe, ze, De, st, _t, et, Ye, Xe, tt) {
          const Qe = this.length;
          return this.resize(Qe + 1), this.emplace(Qe, r, d, m, f, v, w, E, C, P, W, B, F, U, V, ne, ae, ge, Te, fe, xe, ze, De, st, _t, et, Ye, Xe, tt);
        }
        emplace(r, d, m, f, v, w, E, C, P, W, B, F, U, V, ne, ae, ge, Te, fe, xe, ze, De, st, _t, et, Ye, Xe, tt, Qe) {
          const qe = 34 * r, wt = 17 * r;
          return this.int16[qe + 0] = d, this.int16[qe + 1] = m, this.int16[qe + 2] = f, this.int16[qe + 3] = v, this.int16[qe + 4] = w, this.int16[qe + 5] = E, this.int16[qe + 6] = C, this.int16[qe + 7] = P, this.uint16[qe + 8] = W, this.uint16[qe + 9] = B, this.uint16[qe + 10] = F, this.uint16[qe + 11] = U, this.uint16[qe + 12] = V, this.uint16[qe + 13] = ne, this.uint16[qe + 14] = ae, this.uint16[qe + 15] = ge, this.uint16[qe + 16] = Te, this.uint16[qe + 17] = fe, this.uint16[qe + 18] = xe, this.uint16[qe + 19] = ze, this.uint16[qe + 20] = De, this.uint16[qe + 21] = st, this.uint16[qe + 22] = _t, this.uint32[wt + 12] = et, this.float32[wt + 13] = Ye, this.float32[wt + 14] = Xe, this.float32[wt + 15] = tt, this.float32[wt + 16] = Qe, r;
        }
      }
      K.prototype.bytesPerElement = 68, lt("StructArrayLayout8i15ui1ul4f68", K);
      class Y extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
        }
        emplaceBack(r) {
          const d = this.length;
          return this.resize(d + 1), this.emplace(d, r);
        }
        emplace(r, d) {
          return this.float32[1 * r + 0] = d, r;
        }
      }
      Y.prototype.bytesPerElement = 4, lt("StructArrayLayout1f4", Y);
      class ue extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m) {
          const f = this.length;
          return this.resize(f + 1), this.emplace(f, r, d, m);
        }
        emplace(r, d, m, f) {
          const v = 3 * r;
          return this.int16[v + 0] = d, this.int16[v + 1] = m, this.int16[v + 2] = f, r;
        }
      }
      ue.prototype.bytesPerElement = 6, lt("StructArrayLayout3i6", ue);
      class pe extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m) {
          const f = this.length;
          return this.resize(f + 1), this.emplace(f, r, d, m);
        }
        emplace(r, d, m, f) {
          const v = 4 * r;
          return this.uint32[2 * r + 0] = d, this.uint16[v + 2] = m, this.uint16[v + 3] = f, r;
        }
      }
      pe.prototype.bytesPerElement = 8, lt("StructArrayLayout1ul2ui8", pe);
      class ve extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
        }
        emplaceBack(r, d) {
          const m = this.length;
          return this.resize(m + 1), this.emplace(m, r, d);
        }
        emplace(r, d, m) {
          const f = 2 * r;
          return this.uint16[f + 0] = d, this.uint16[f + 1] = m, r;
        }
      }
      ve.prototype.bytesPerElement = 4, lt("StructArrayLayout2ui4", ve);
      class te extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
        }
        emplaceBack(r) {
          const d = this.length;
          return this.resize(d + 1), this.emplace(d, r);
        }
        emplace(r, d) {
          return this.uint16[1 * r + 0] = d, r;
        }
      }
      te.prototype.bytesPerElement = 2, lt("StructArrayLayout1ui2", te);
      class Se extends Ja {
        _refreshViews() {
          this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
        }
        emplaceBack(r, d, m, f) {
          const v = this.length;
          return this.resize(v + 1), this.emplace(v, r, d, m, f);
        }
        emplace(r, d, m, f, v) {
          const w = 4 * r;
          return this.float32[w + 0] = d, this.float32[w + 1] = m, this.float32[w + 2] = f, this.float32[w + 3] = v, r;
        }
      }
      Se.prototype.bytesPerElement = 16, lt("StructArrayLayout4f16", Se);
      class be extends ss {
        get anchorPointX() {
          return this._structArray.int16[this._pos2 + 0];
        }
        get anchorPointY() {
          return this._structArray.int16[this._pos2 + 1];
        }
        get x1() {
          return this._structArray.int16[this._pos2 + 2];
        }
        get y1() {
          return this._structArray.int16[this._pos2 + 3];
        }
        get x2() {
          return this._structArray.int16[this._pos2 + 4];
        }
        get y2() {
          return this._structArray.int16[this._pos2 + 5];
        }
        get featureIndex() {
          return this._structArray.uint32[this._pos4 + 3];
        }
        get sourceLayerIndex() {
          return this._structArray.uint16[this._pos2 + 8];
        }
        get bucketIndex() {
          return this._structArray.uint16[this._pos2 + 9];
        }
        get anchorPoint() {
          return new Me(this.anchorPointX, this.anchorPointY);
        }
      }
      be.prototype.size = 20;
      class Ie extends I {
        get(r) {
          return new be(this, r);
        }
      }
      lt("CollisionBoxArray", Ie);
      class Pe extends ss {
        get anchorX() {
          return this._structArray.int16[this._pos2 + 0];
        }
        get anchorY() {
          return this._structArray.int16[this._pos2 + 1];
        }
        get glyphStartIndex() {
          return this._structArray.uint16[this._pos2 + 2];
        }
        get numGlyphs() {
          return this._structArray.uint16[this._pos2 + 3];
        }
        get vertexStartIndex() {
          return this._structArray.uint32[this._pos4 + 2];
        }
        get lineStartIndex() {
          return this._structArray.uint32[this._pos4 + 3];
        }
        get lineLength() {
          return this._structArray.uint32[this._pos4 + 4];
        }
        get segment() {
          return this._structArray.uint16[this._pos2 + 10];
        }
        get lowerSize() {
          return this._structArray.uint16[this._pos2 + 11];
        }
        get upperSize() {
          return this._structArray.uint16[this._pos2 + 12];
        }
        get lineOffsetX() {
          return this._structArray.float32[this._pos4 + 7];
        }
        get lineOffsetY() {
          return this._structArray.float32[this._pos4 + 8];
        }
        get writingMode() {
          return this._structArray.uint8[this._pos1 + 36];
        }
        get placedOrientation() {
          return this._structArray.uint8[this._pos1 + 37];
        }
        set placedOrientation(r) {
          this._structArray.uint8[this._pos1 + 37] = r;
        }
        get hidden() {
          return this._structArray.uint8[this._pos1 + 38];
        }
        set hidden(r) {
          this._structArray.uint8[this._pos1 + 38] = r;
        }
        get crossTileID() {
          return this._structArray.uint32[this._pos4 + 10];
        }
        set crossTileID(r) {
          this._structArray.uint32[this._pos4 + 10] = r;
        }
        get associatedIconIndex() {
          return this._structArray.int16[this._pos2 + 22];
        }
      }
      Pe.prototype.size = 48;
      class Ne extends ee {
        get(r) {
          return new Pe(this, r);
        }
      }
      lt("PlacedSymbolArray", Ne);
      class Ce extends ss {
        get anchorX() {
          return this._structArray.int16[this._pos2 + 0];
        }
        get anchorY() {
          return this._structArray.int16[this._pos2 + 1];
        }
        get rightJustifiedTextSymbolIndex() {
          return this._structArray.int16[this._pos2 + 2];
        }
        get centerJustifiedTextSymbolIndex() {
          return this._structArray.int16[this._pos2 + 3];
        }
        get leftJustifiedTextSymbolIndex() {
          return this._structArray.int16[this._pos2 + 4];
        }
        get verticalPlacedTextSymbolIndex() {
          return this._structArray.int16[this._pos2 + 5];
        }
        get placedIconSymbolIndex() {
          return this._structArray.int16[this._pos2 + 6];
        }
        get verticalPlacedIconSymbolIndex() {
          return this._structArray.int16[this._pos2 + 7];
        }
        get key() {
          return this._structArray.uint16[this._pos2 + 8];
        }
        get textBoxStartIndex() {
          return this._structArray.uint16[this._pos2 + 9];
        }
        get textBoxEndIndex() {
          return this._structArray.uint16[this._pos2 + 10];
        }
        get verticalTextBoxStartIndex() {
          return this._structArray.uint16[this._pos2 + 11];
        }
        get verticalTextBoxEndIndex() {
          return this._structArray.uint16[this._pos2 + 12];
        }
        get iconBoxStartIndex() {
          return this._structArray.uint16[this._pos2 + 13];
        }
        get iconBoxEndIndex() {
          return this._structArray.uint16[this._pos2 + 14];
        }
        get verticalIconBoxStartIndex() {
          return this._structArray.uint16[this._pos2 + 15];
        }
        get verticalIconBoxEndIndex() {
          return this._structArray.uint16[this._pos2 + 16];
        }
        get featureIndex() {
          return this._structArray.uint16[this._pos2 + 17];
        }
        get numHorizontalGlyphVertices() {
          return this._structArray.uint16[this._pos2 + 18];
        }
        get numVerticalGlyphVertices() {
          return this._structArray.uint16[this._pos2 + 19];
        }
        get numIconVertices() {
          return this._structArray.uint16[this._pos2 + 20];
        }
        get numVerticalIconVertices() {
          return this._structArray.uint16[this._pos2 + 21];
        }
        get useRuntimeCollisionCircles() {
          return this._structArray.uint16[this._pos2 + 22];
        }
        get crossTileID() {
          return this._structArray.uint32[this._pos4 + 12];
        }
        set crossTileID(r) {
          this._structArray.uint32[this._pos4 + 12] = r;
        }
        get textBoxScale() {
          return this._structArray.float32[this._pos4 + 13];
        }
        get textOffset0() {
          return this._structArray.float32[this._pos4 + 14];
        }
        get textOffset1() {
          return this._structArray.float32[this._pos4 + 15];
        }
        get collisionCircleDiameter() {
          return this._structArray.float32[this._pos4 + 16];
        }
      }
      Ce.prototype.size = 68;
      class it extends K {
        get(r) {
          return new Ce(this, r);
        }
      }
      lt("SymbolInstanceArray", it);
      class Ke extends Y {
        getoffsetX(r) {
          return this.float32[1 * r + 0];
        }
      }
      lt("GlyphOffsetArray", Ke);
      class rt extends ue {
        getx(r) {
          return this.int16[3 * r + 0];
        }
        gety(r) {
          return this.int16[3 * r + 1];
        }
        gettileUnitDistanceFromAnchor(r) {
          return this.int16[3 * r + 2];
        }
      }
      lt("SymbolLineVertexArray", rt);
      class At extends ss {
        get featureIndex() {
          return this._structArray.uint32[this._pos4 + 0];
        }
        get sourceLayerIndex() {
          return this._structArray.uint16[this._pos2 + 2];
        }
        get bucketIndex() {
          return this._structArray.uint16[this._pos2 + 3];
        }
      }
      At.prototype.size = 8;
      class Bt extends pe {
        get(r) {
          return new At(this, r);
        }
      }
      lt("FeatureIndexArray", Bt);
      class xt extends Is {
      }
      class ma extends Is {
      }
      class ha extends Is {
      }
      class Qt extends s {
      }
      class ea extends c {
      }
      class ya extends h {
      }
      class Ei extends g {
      }
      class xr extends x {
      }
      class lr extends M {
      }
      class wr extends A {
      }
      class os extends O {
      }
      class Vn extends q {
      }
      class hn extends G {
      }
      class zr extends ve {
      }
      const yu = si([{ name: "a_pos", components: 2, type: "Int16" }], 4), { members: pi } = yu;
      class jt {
        constructor(r = []) {
          this.segments = r;
        }
        prepareSegment(r, d, m, f) {
          let v = this.segments[this.segments.length - 1];
          return r > jt.MAX_VERTEX_ARRAY_LENGTH && we(`Max vertices per segment is ${jt.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${r}`), (!v || v.vertexLength + r > jt.MAX_VERTEX_ARRAY_LENGTH || v.sortKey !== f) && (v = { vertexOffset: d.length, primitiveOffset: m.length, vertexLength: 0, primitiveLength: 0 }, f !== void 0 && (v.sortKey = f), this.segments.push(v)), v;
        }
        get() {
          return this.segments;
        }
        destroy() {
          for (const r of this.segments)
            for (const d in r.vaos)
              r.vaos[d].destroy();
        }
        static simpleSegment(r, d, m, f) {
          return new jt([{ vertexOffset: r, primitiveOffset: d, vertexLength: m, primitiveLength: f, vaos: {}, sortKey: 0 }]);
        }
      }
      function la(l, r) {
        return 256 * (l = L(Math.floor(l), 0, 255)) + L(Math.floor(r), 0, 255);
      }
      jt.MAX_VERTEX_ARRAY_LENGTH = Math.pow(2, 16) - 1, lt("SegmentVector", jt);
      const Li = si([{ name: "a_pattern_from", components: 4, type: "Uint16" }, { name: "a_pattern_to", components: 4, type: "Uint16" }, { name: "a_pixel_ratio_from", components: 1, type: "Uint16" }, { name: "a_pixel_ratio_to", components: 1, type: "Uint16" }]);
      var Ci = { exports: {} }, qa = { exports: {} };
      qa.exports = function(l, r) {
        var d, m, f, v, w, E, C, P;
        for (m = l.length - (d = 3 & l.length), f = r, w = 3432918353, E = 461845907, P = 0; P < m; )
          C = 255 & l.charCodeAt(P) | (255 & l.charCodeAt(++P)) << 8 | (255 & l.charCodeAt(++P)) << 16 | (255 & l.charCodeAt(++P)) << 24, ++P, f = 27492 + (65535 & (v = 5 * (65535 & (f = (f ^= C = (65535 & (C = (C = (65535 & C) * w + (((C >>> 16) * w & 65535) << 16) & 4294967295) << 15 | C >>> 17)) * E + (((C >>> 16) * E & 65535) << 16) & 4294967295) << 13 | f >>> 19)) + ((5 * (f >>> 16) & 65535) << 16) & 4294967295)) + ((58964 + (v >>> 16) & 65535) << 16);
        switch (C = 0, d) {
          case 3:
            C ^= (255 & l.charCodeAt(P + 2)) << 16;
          case 2:
            C ^= (255 & l.charCodeAt(P + 1)) << 8;
          case 1:
            f ^= C = (65535 & (C = (C = (65535 & (C ^= 255 & l.charCodeAt(P))) * w + (((C >>> 16) * w & 65535) << 16) & 4294967295) << 15 | C >>> 17)) * E + (((C >>> 16) * E & 65535) << 16) & 4294967295;
        }
        return f ^= l.length, f = 2246822507 * (65535 & (f ^= f >>> 16)) + ((2246822507 * (f >>> 16) & 65535) << 16) & 4294967295, f = 3266489909 * (65535 & (f ^= f >>> 13)) + ((3266489909 * (f >>> 16) & 65535) << 16) & 4294967295, (f ^= f >>> 16) >>> 0;
      };
      var $n = { exports: {} };
      $n.exports = function(l, r) {
        for (var d, m = l.length, f = r ^ m, v = 0; m >= 4; )
          d = 1540483477 * (65535 & (d = 255 & l.charCodeAt(v) | (255 & l.charCodeAt(++v)) << 8 | (255 & l.charCodeAt(++v)) << 16 | (255 & l.charCodeAt(++v)) << 24)) + ((1540483477 * (d >>> 16) & 65535) << 16), f = 1540483477 * (65535 & f) + ((1540483477 * (f >>> 16) & 65535) << 16) ^ (d = 1540483477 * (65535 & (d ^= d >>> 24)) + ((1540483477 * (d >>> 16) & 65535) << 16)), m -= 4, ++v;
        switch (m) {
          case 3:
            f ^= (255 & l.charCodeAt(v + 2)) << 16;
          case 2:
            f ^= (255 & l.charCodeAt(v + 1)) << 8;
          case 1:
            f = 1540483477 * (65535 & (f ^= 255 & l.charCodeAt(v))) + ((1540483477 * (f >>> 16) & 65535) << 16);
        }
        return f = 1540483477 * (65535 & (f ^= f >>> 13)) + ((1540483477 * (f >>> 16) & 65535) << 16), (f ^= f >>> 15) >>> 0;
      };
      var Ps = qa.exports, $d = $n.exports;
      Ci.exports = Ps, Ci.exports.murmur3 = Ps, Ci.exports.murmur2 = $d;
      class fo {
        constructor() {
          this.ids = [], this.positions = [], this.indexed = !1;
        }
        add(r, d, m, f) {
          this.ids.push(Y_(r)), this.positions.push(d, m, f);
        }
        getPositions(r) {
          if (!this.indexed)
            throw new Error("Trying to get index, but feature positions are not indexed");
          const d = Y_(r);
          let m = 0, f = this.ids.length - 1;
          for (; m < f; ) {
            const w = m + f >> 1;
            this.ids[w] >= d ? f = w : m = w + 1;
          }
          const v = [];
          for (; this.ids[m] === d; )
            v.push({ index: this.positions[3 * m], start: this.positions[3 * m + 1], end: this.positions[3 * m + 2] }), m++;
          return v;
        }
        static serialize(r, d) {
          const m = new Float64Array(r.ids), f = new Uint32Array(r.positions);
          return Zd(m, f, 0, m.length - 1), d && d.push(m.buffer, f.buffer), { ids: m, positions: f };
        }
        static deserialize(r) {
          const d = new fo();
          return d.ids = r.ids, d.positions = r.positions, d.indexed = !0, d;
        }
      }
      function Y_(l) {
        const r = +l;
        return !isNaN(r) && r <= Number.MAX_SAFE_INTEGER ? r : Ci.exports(String(l));
      }
      function Zd(l, r, d, m) {
        for (; d < m; ) {
          const f = l[d + m >> 1];
          let v = d - 1, w = m + 1;
          for (; ; ) {
            do
              v++;
            while (l[v] < f);
            do
              w--;
            while (l[w] > f);
            if (v >= w)
              break;
            ls(l, v, w), ls(r, 3 * v, 3 * w), ls(r, 3 * v + 1, 3 * w + 1), ls(r, 3 * v + 2, 3 * w + 2);
          }
          w - d < m - w ? (Zd(l, r, d, w), d = w + 1) : (Zd(l, r, w + 1, m), m = w);
        }
      }
      function ls(l, r, d) {
        const m = l[r];
        l[r] = l[d], l[d] = m;
      }
      lt("FeaturePositionMap", fo);
      class Os {
        constructor(r, d) {
          this.gl = r.gl, this.location = d;
        }
      }
      class Rs extends Os {
        constructor(r, d) {
          super(r, d), this.current = 0;
        }
        set(r) {
          this.current !== r && (this.current = r, this.gl.uniform1f(this.location, r));
        }
      }
      class vu extends Os {
        constructor(r, d) {
          super(r, d), this.current = [0, 0, 0, 0];
        }
        set(r) {
          r[0] === this.current[0] && r[1] === this.current[1] && r[2] === this.current[2] && r[3] === this.current[3] || (this.current = r, this.gl.uniform4f(this.location, r[0], r[1], r[2], r[3]));
        }
      }
      class Ey extends Os {
        constructor(r, d) {
          super(r, d), this.current = Z.transparent;
        }
        set(r) {
          r.r === this.current.r && r.g === this.current.g && r.b === this.current.b && r.a === this.current.a || (this.current = r, this.gl.uniform4f(this.location, r.r, r.g, r.b, r.a));
        }
      }
      const rw = new Float32Array(16);
      function Ip(l) {
        return [la(255 * l.r, 255 * l.g), la(255 * l.b, 255 * l.a)];
      }
      class Hd {
        constructor(r, d, m) {
          this.value = r, this.uniformNames = d.map((f) => `u_${f}`), this.type = m;
        }
        setUniform(r, d, m) {
          r.set(m.constantOr(this.value));
        }
        getBinding(r, d, m) {
          return this.type === "color" ? new Ey(r, d) : new Rs(r, d);
        }
      }
      class bu {
        constructor(r, d) {
          this.uniformNames = d.map((m) => `u_${m}`), this.patternFrom = null, this.patternTo = null, this.pixelRatioFrom = 1, this.pixelRatioTo = 1;
        }
        setConstantPatternPositions(r, d) {
          this.pixelRatioFrom = d.pixelRatio, this.pixelRatioTo = r.pixelRatio, this.patternFrom = d.tlbr, this.patternTo = r.tlbr;
        }
        setUniform(r, d, m, f) {
          const v = f === "u_pattern_to" ? this.patternTo : f === "u_pattern_from" ? this.patternFrom : f === "u_pixel_ratio_to" ? this.pixelRatioTo : f === "u_pixel_ratio_from" ? this.pixelRatioFrom : null;
          v && r.set(v);
        }
        getBinding(r, d, m) {
          return m.substr(0, 9) === "u_pattern" ? new vu(r, d) : new Rs(r, d);
        }
      }
      class ks {
        constructor(r, d, m, f) {
          this.expression = r, this.type = m, this.maxValue = 0, this.paintVertexAttributes = d.map((v) => ({ name: `a_${v}`, type: "Float32", components: m === "color" ? 2 : 1, offset: 0 })), this.paintVertexArray = new f();
        }
        populatePaintArray(r, d, m, f, v) {
          const w = this.paintVertexArray.length, E = this.expression.evaluate(new Na(0), d, {}, f, [], v);
          this.paintVertexArray.resize(r), this._setPaintValue(w, r, E);
        }
        updatePaintArray(r, d, m, f) {
          const v = this.expression.evaluate({ zoom: 0 }, m, f);
          this._setPaintValue(r, d, v);
        }
        _setPaintValue(r, d, m) {
          if (this.type === "color") {
            const f = Ip(m);
            for (let v = r; v < d; v++)
              this.paintVertexArray.emplace(v, f[0], f[1]);
          } else {
            for (let f = r; f < d; f++)
              this.paintVertexArray.emplace(f, m);
            this.maxValue = Math.max(this.maxValue, Math.abs(m));
          }
        }
        upload(r) {
          this.paintVertexArray && this.paintVertexArray.arrayBuffer && (this.paintVertexBuffer && this.paintVertexBuffer.buffer ? this.paintVertexBuffer.updateData(this.paintVertexArray) : this.paintVertexBuffer = r.createVertexBuffer(this.paintVertexArray, this.paintVertexAttributes, this.expression.isStateDependent));
        }
        destroy() {
          this.paintVertexBuffer && this.paintVertexBuffer.destroy();
        }
      }
      class Br {
        constructor(r, d, m, f, v, w) {
          this.expression = r, this.uniformNames = d.map((E) => `u_${E}_t`), this.type = m, this.useIntegerZoom = f, this.zoom = v, this.maxValue = 0, this.paintVertexAttributes = d.map((E) => ({ name: `a_${E}`, type: "Float32", components: m === "color" ? 4 : 2, offset: 0 })), this.paintVertexArray = new w();
        }
        populatePaintArray(r, d, m, f, v) {
          const w = this.expression.evaluate(new Na(this.zoom), d, {}, f, [], v), E = this.expression.evaluate(new Na(this.zoom + 1), d, {}, f, [], v), C = this.paintVertexArray.length;
          this.paintVertexArray.resize(r), this._setPaintValue(C, r, w, E);
        }
        updatePaintArray(r, d, m, f) {
          const v = this.expression.evaluate({ zoom: this.zoom }, m, f), w = this.expression.evaluate({ zoom: this.zoom + 1 }, m, f);
          this._setPaintValue(r, d, v, w);
        }
        _setPaintValue(r, d, m, f) {
          if (this.type === "color") {
            const v = Ip(m), w = Ip(f);
            for (let E = r; E < d; E++)
              this.paintVertexArray.emplace(E, v[0], v[1], w[0], w[1]);
          } else {
            for (let v = r; v < d; v++)
              this.paintVertexArray.emplace(v, m, f);
            this.maxValue = Math.max(this.maxValue, Math.abs(m), Math.abs(f));
          }
        }
        upload(r) {
          this.paintVertexArray && this.paintVertexArray.arrayBuffer && (this.paintVertexBuffer && this.paintVertexBuffer.buffer ? this.paintVertexBuffer.updateData(this.paintVertexArray) : this.paintVertexBuffer = r.createVertexBuffer(this.paintVertexArray, this.paintVertexAttributes, this.expression.isStateDependent));
        }
        destroy() {
          this.paintVertexBuffer && this.paintVertexBuffer.destroy();
        }
        setUniform(r, d) {
          const m = this.useIntegerZoom ? Math.floor(d.zoom) : d.zoom, f = L(this.expression.interpolationFactor(m, this.zoom, this.zoom + 1), 0, 1);
          r.set(f);
        }
        getBinding(r, d, m) {
          return new Rs(r, d);
        }
      }
      class go {
        constructor(r, d, m, f, v, w) {
          this.expression = r, this.type = d, this.useIntegerZoom = m, this.zoom = f, this.layerId = w, this.zoomInPaintVertexArray = new v(), this.zoomOutPaintVertexArray = new v();
        }
        populatePaintArray(r, d, m) {
          const f = this.zoomInPaintVertexArray.length;
          this.zoomInPaintVertexArray.resize(r), this.zoomOutPaintVertexArray.resize(r), this._setPaintValues(f, r, d.patterns && d.patterns[this.layerId], m);
        }
        updatePaintArray(r, d, m, f, v) {
          this._setPaintValues(r, d, m.patterns && m.patterns[this.layerId], v);
        }
        _setPaintValues(r, d, m, f) {
          if (!f || !m)
            return;
          const { min: v, mid: w, max: E } = m, C = f[v], P = f[w], W = f[E];
          if (C && P && W)
            for (let B = r; B < d; B++)
              this.zoomInPaintVertexArray.emplace(B, P.tl[0], P.tl[1], P.br[0], P.br[1], C.tl[0], C.tl[1], C.br[0], C.br[1], P.pixelRatio, C.pixelRatio), this.zoomOutPaintVertexArray.emplace(B, P.tl[0], P.tl[1], P.br[0], P.br[1], W.tl[0], W.tl[1], W.br[0], W.br[1], P.pixelRatio, W.pixelRatio);
        }
        upload(r) {
          this.zoomInPaintVertexArray && this.zoomInPaintVertexArray.arrayBuffer && this.zoomOutPaintVertexArray && this.zoomOutPaintVertexArray.arrayBuffer && (this.zoomInPaintVertexBuffer = r.createVertexBuffer(this.zoomInPaintVertexArray, Li.members, this.expression.isStateDependent), this.zoomOutPaintVertexBuffer = r.createVertexBuffer(this.zoomOutPaintVertexArray, Li.members, this.expression.isStateDependent));
        }
        destroy() {
          this.zoomOutPaintVertexBuffer && this.zoomOutPaintVertexBuffer.destroy(), this.zoomInPaintVertexBuffer && this.zoomInPaintVertexBuffer.destroy();
        }
      }
      class Ly {
        constructor(r, d, m) {
          this.binders = {}, this._buffers = [];
          const f = [];
          for (const v in r.paint._values) {
            if (!m(v))
              continue;
            const w = r.paint.get(v);
            if (!(w instanceof vr && Pa(w.property.specification)))
              continue;
            const E = sw(v, r.type), C = w.value, P = w.property.specification.type, W = w.property.useIntegerZoom, B = w.property.specification["property-type"], F = B === "cross-faded" || B === "cross-faded-data-driven";
            if (C.kind === "constant")
              this.binders[v] = F ? new bu(C.value, E) : new Hd(C.value, E, P), f.push(`/u_${v}`);
            else if (C.kind === "source" || F) {
              const U = Cy(v, P, "source");
              this.binders[v] = F ? new go(C, P, W, d, U, r.id) : new ks(C, E, P, U), f.push(`/a_${v}`);
            } else {
              const U = Cy(v, P, "composite");
              this.binders[v] = new Br(C, E, P, W, d, U), f.push(`/z_${v}`);
            }
          }
          this.cacheKey = f.sort().join("");
        }
        getMaxValue(r) {
          const d = this.binders[r];
          return d instanceof ks || d instanceof Br ? d.maxValue : 0;
        }
        populatePaintArrays(r, d, m, f, v) {
          for (const w in this.binders) {
            const E = this.binders[w];
            (E instanceof ks || E instanceof Br || E instanceof go) && E.populatePaintArray(r, d, m, f, v);
          }
        }
        setConstantPatternPositions(r, d) {
          for (const m in this.binders) {
            const f = this.binders[m];
            f instanceof bu && f.setConstantPatternPositions(r, d);
          }
        }
        updatePaintArrays(r, d, m, f, v) {
          let w = !1;
          for (const E in r) {
            const C = d.getPositions(E);
            for (const P of C) {
              const W = m.feature(P.index);
              for (const B in this.binders) {
                const F = this.binders[B];
                if ((F instanceof ks || F instanceof Br || F instanceof go) && F.expression.isStateDependent === !0) {
                  const U = f.paint.get(B);
                  F.expression = U.value, F.updatePaintArray(P.start, P.end, W, r[E], v), w = !0;
                }
              }
            }
          }
          return w;
        }
        defines() {
          const r = [];
          for (const d in this.binders) {
            const m = this.binders[d];
            (m instanceof Hd || m instanceof bu) && r.push(...m.uniformNames.map((f) => `#define HAS_UNIFORM_${f}`));
          }
          return r;
        }
        getBinderAttributes() {
          const r = [];
          for (const d in this.binders) {
            const m = this.binders[d];
            if (m instanceof ks || m instanceof Br)
              for (let f = 0; f < m.paintVertexAttributes.length; f++)
                r.push(m.paintVertexAttributes[f].name);
            else if (m instanceof go)
              for (let f = 0; f < Li.members.length; f++)
                r.push(Li.members[f].name);
          }
          return r;
        }
        getBinderUniforms() {
          const r = [];
          for (const d in this.binders) {
            const m = this.binders[d];
            if (m instanceof Hd || m instanceof bu || m instanceof Br)
              for (const f of m.uniformNames)
                r.push(f);
          }
          return r;
        }
        getPaintVertexBuffers() {
          return this._buffers;
        }
        getUniforms(r, d) {
          const m = [];
          for (const f in this.binders) {
            const v = this.binders[f];
            if (v instanceof Hd || v instanceof bu || v instanceof Br) {
              for (const w of v.uniformNames)
                if (d[w]) {
                  const E = v.getBinding(r, d[w], w);
                  m.push({ name: w, property: f, binding: E });
                }
            }
          }
          return m;
        }
        setUniforms(r, d, m, f) {
          for (const { name: v, property: w, binding: E } of d)
            this.binders[w].setUniform(E, f, m.get(w), v);
        }
        updatePaintBuffers(r) {
          this._buffers = [];
          for (const d in this.binders) {
            const m = this.binders[d];
            if (r && m instanceof go) {
              const f = r.fromScale === 2 ? m.zoomInPaintVertexBuffer : m.zoomOutPaintVertexBuffer;
              f && this._buffers.push(f);
            } else
              (m instanceof ks || m instanceof Br) && m.paintVertexBuffer && this._buffers.push(m.paintVertexBuffer);
          }
        }
        upload(r) {
          for (const d in this.binders) {
            const m = this.binders[d];
            (m instanceof ks || m instanceof Br || m instanceof go) && m.upload(r);
          }
          this.updatePaintBuffers();
        }
        destroy() {
          for (const r in this.binders) {
            const d = this.binders[r];
            (d instanceof ks || d instanceof Br || d instanceof go) && d.destroy();
          }
        }
      }
      class wl {
        constructor(r, d, m = () => !0) {
          this.programConfigurations = {};
          for (const f of r)
            this.programConfigurations[f.id] = new Ly(f, d, m);
          this.needsUpload = !1, this._featureMap = new fo(), this._bufferOffset = 0;
        }
        populatePaintArrays(r, d, m, f, v, w) {
          for (const E in this.programConfigurations)
            this.programConfigurations[E].populatePaintArrays(r, d, f, v, w);
          d.id !== void 0 && this._featureMap.add(d.id, m, this._bufferOffset, r), this._bufferOffset = r, this.needsUpload = !0;
        }
        updatePaintArrays(r, d, m, f) {
          for (const v of m)
            this.needsUpload = this.programConfigurations[v.id].updatePaintArrays(r, this._featureMap, d, v, f) || this.needsUpload;
        }
        get(r) {
          return this.programConfigurations[r];
        }
        upload(r) {
          if (this.needsUpload) {
            for (const d in this.programConfigurations)
              this.programConfigurations[d].upload(r);
            this.needsUpload = !1;
          }
        }
        destroy() {
          for (const r in this.programConfigurations)
            this.programConfigurations[r].destroy();
        }
      }
      function sw(l, r) {
        return { "text-opacity": ["opacity"], "icon-opacity": ["opacity"], "text-color": ["fill_color"], "icon-color": ["fill_color"], "text-halo-color": ["halo_color"], "icon-halo-color": ["halo_color"], "text-halo-blur": ["halo_blur"], "icon-halo-blur": ["halo_blur"], "text-halo-width": ["halo_width"], "icon-halo-width": ["halo_width"], "line-gap-width": ["gapwidth"], "line-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"], "fill-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"], "fill-extrusion-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"] }[l] || [l.replace(`${r}-`, "").replace(/-/g, "_")];
      }
      function Cy(l, r, d) {
        const m = { color: { source: h, composite: Se }, number: { source: Y, composite: h } }, f = function(v) {
          return { "line-pattern": { source: Ei, composite: Ei }, "fill-pattern": { source: Ei, composite: Ei }, "fill-extrusion-pattern": { source: Ei, composite: Ei } }[v];
        }(l);
        return f && f[d] || m[r][d];
      }
      lt("ConstantBinder", Hd), lt("CrossFadedConstantBinder", bu), lt("SourceExpressionBinder", ks), lt("CrossFadedCompositeBinder", go), lt("CompositeExpressionBinder", Br), lt("ProgramConfiguration", Ly, { omit: ["_buffers"] }), lt("ProgramConfigurationSet", wl);
      var fi = 8192;
      const Pp = Math.pow(2, 14) - 1, Ay = -Pp - 1;
      function Sl(l) {
        const r = fi / l.extent, d = l.loadGeometry();
        for (let m = 0; m < d.length; m++) {
          const f = d[m];
          for (let v = 0; v < f.length; v++) {
            const w = f[v], E = Math.round(w.x * r), C = Math.round(w.y * r);
            w.x = L(E, Ay, Pp), w.y = L(C, Ay, Pp), (E < w.x || E > w.x + 1 || C < w.y || C > w.y + 1) && we("Geometry exceeds allowed extent, reduce your vector tile buffer size");
          }
        }
        return d;
      }
      function Tl(l, r) {
        return { type: l.type, id: l.id, properties: l.properties, geometry: r ? Sl(l) : [] };
      }
      function Q_(l, r, d, m, f) {
        l.emplaceBack(2 * r + (m + 1) / 2, 2 * d + (f + 1) / 2);
      }
      class Op {
        constructor(r) {
          this.zoom = r.zoom, this.overscaling = r.overscaling, this.layers = r.layers, this.layerIds = this.layers.map((d) => d.id), this.index = r.index, this.hasPattern = !1, this.layoutVertexArray = new ma(), this.indexArray = new hn(), this.segments = new jt(), this.programConfigurations = new wl(r.layers, r.zoom), this.stateDependentLayerIds = this.layers.filter((d) => d.isStateDependent()).map((d) => d.id);
        }
        populate(r, d, m) {
          const f = this.layers[0], v = [];
          let w = null, E = !1;
          f.type === "circle" && (w = f.layout.get("circle-sort-key"), E = !w.isConstant());
          for (const { feature: C, id: P, index: W, sourceLayerIndex: B } of r) {
            const F = this.layers[0]._featureFilter.needGeometry, U = Tl(C, F);
            if (!this.layers[0]._featureFilter.filter(new Na(this.zoom), U, m))
              continue;
            const V = E ? w.evaluate(U, {}, m) : void 0, ne = { id: P, properties: C.properties, type: C.type, sourceLayerIndex: B, index: W, geometry: F ? U.geometry : Sl(C), patterns: {}, sortKey: V };
            v.push(ne);
          }
          E && v.sort((C, P) => C.sortKey - P.sortKey);
          for (const C of v) {
            const { geometry: P, index: W, sourceLayerIndex: B } = C, F = r[W].feature;
            this.addFeature(C, P, W, m), d.featureIndex.insert(F, P, W, B, this.index);
          }
        }
        update(r, d, m) {
          this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(r, d, this.stateDependentLayers, m);
        }
        isEmpty() {
          return this.layoutVertexArray.length === 0;
        }
        uploadPending() {
          return !this.uploaded || this.programConfigurations.needsUpload;
        }
        upload(r) {
          this.uploaded || (this.layoutVertexBuffer = r.createVertexBuffer(this.layoutVertexArray, pi), this.indexBuffer = r.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(r), this.uploaded = !0;
        }
        destroy() {
          this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy());
        }
        addFeature(r, d, m, f) {
          for (const v of d)
            for (const w of v) {
              const E = w.x, C = w.y;
              if (E < 0 || E >= fi || C < 0 || C >= fi)
                continue;
              const P = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray, r.sortKey), W = P.vertexLength;
              Q_(this.layoutVertexArray, E, C, -1, -1), Q_(this.layoutVertexArray, E, C, 1, -1), Q_(this.layoutVertexArray, E, C, 1, 1), Q_(this.layoutVertexArray, E, C, -1, 1), this.indexArray.emplaceBack(W, W + 1, W + 2), this.indexArray.emplaceBack(W, W + 3, W + 2), P.vertexLength += 4, P.primitiveLength += 2;
            }
          this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, r, m, {}, f);
        }
      }
      function Iy(l, r) {
        for (let d = 0; d < l.length; d++)
          if (xu(r, l[d]))
            return !0;
        for (let d = 0; d < r.length; d++)
          if (xu(l, r[d]))
            return !0;
        return !!Rp(l, r);
      }
      function ow(l, r, d) {
        return !!xu(l, r) || !!kp(r, l, d);
      }
      function Py(l, r) {
        if (l.length === 1)
          return Ry(r, l[0]);
        for (let d = 0; d < r.length; d++) {
          const m = r[d];
          for (let f = 0; f < m.length; f++)
            if (xu(l, m[f]))
              return !0;
        }
        for (let d = 0; d < l.length; d++)
          if (Ry(r, l[d]))
            return !0;
        for (let d = 0; d < r.length; d++)
          if (Rp(l, r[d]))
            return !0;
        return !1;
      }
      function lw(l, r, d) {
        if (l.length > 1) {
          if (Rp(l, r))
            return !0;
          for (let m = 0; m < r.length; m++)
            if (kp(r[m], l, d))
              return !0;
        }
        for (let m = 0; m < l.length; m++)
          if (kp(l[m], r, d))
            return !0;
        return !1;
      }
      function Rp(l, r) {
        if (l.length === 0 || r.length === 0)
          return !1;
        for (let d = 0; d < l.length - 1; d++) {
          const m = l[d], f = l[d + 1];
          for (let v = 0; v < r.length - 1; v++)
            if (uw(m, f, r[v], r[v + 1]))
              return !0;
        }
        return !1;
      }
      function uw(l, r, d, m) {
        return Be(l, d, m) !== Be(r, d, m) && Be(l, r, d) !== Be(l, r, m);
      }
      function kp(l, r, d) {
        const m = d * d;
        if (r.length === 1)
          return l.distSqr(r[0]) < m;
        for (let f = 1; f < r.length; f++)
          if (Oy(l, r[f - 1], r[f]) < m)
            return !0;
        return !1;
      }
      function Oy(l, r, d) {
        const m = r.distSqr(d);
        if (m === 0)
          return l.distSqr(r);
        const f = ((l.x - r.x) * (d.x - r.x) + (l.y - r.y) * (d.y - r.y)) / m;
        return l.distSqr(f < 0 ? r : f > 1 ? d : d.sub(r)._mult(f)._add(r));
      }
      function Ry(l, r) {
        let d, m, f, v = !1;
        for (let w = 0; w < l.length; w++) {
          d = l[w];
          for (let E = 0, C = d.length - 1; E < d.length; C = E++)
            m = d[E], f = d[C], m.y > r.y != f.y > r.y && r.x < (f.x - m.x) * (r.y - m.y) / (f.y - m.y) + m.x && (v = !v);
        }
        return v;
      }
      function xu(l, r) {
        let d = !1;
        for (let m = 0, f = l.length - 1; m < l.length; f = m++) {
          const v = l[m], w = l[f];
          v.y > r.y != w.y > r.y && r.x < (w.x - v.x) * (r.y - v.y) / (w.y - v.y) + v.x && (d = !d);
        }
        return d;
      }
      function dw(l, r, d) {
        const m = d[0], f = d[2];
        if (l.x < m.x && r.x < m.x || l.x > f.x && r.x > f.x || l.y < m.y && r.y < m.y || l.y > f.y && r.y > f.y)
          return !1;
        const v = Be(l, r, d[0]);
        return v !== Be(l, r, d[1]) || v !== Be(l, r, d[2]) || v !== Be(l, r, d[3]);
      }
      function Xd(l, r, d) {
        const m = r.paint.get(l).value;
        return m.kind === "constant" ? m.value : d.programConfigurations.get(r.id).getMaxValue(l);
      }
      function J_(l) {
        return Math.sqrt(l[0] * l[0] + l[1] * l[1]);
      }
      function em(l, r, d, m, f) {
        if (!r[0] && !r[1])
          return l;
        const v = Me.convert(r)._mult(f);
        d === "viewport" && v._rotate(-m);
        const w = [];
        for (let E = 0; E < l.length; E++)
          w.push(l[E].sub(v));
        return w;
      }
      lt("CircleBucket", Op, { omit: ["layers"] });
      const cw = new Bi({ "circle-sort-key": new Tt(Ae.layout_circle["circle-sort-key"]) });
      var _w = { paint: new Bi({ "circle-radius": new Tt(Ae.paint_circle["circle-radius"]), "circle-color": new Tt(Ae.paint_circle["circle-color"]), "circle-blur": new Tt(Ae.paint_circle["circle-blur"]), "circle-opacity": new Tt(Ae.paint_circle["circle-opacity"]), "circle-translate": new pt(Ae.paint_circle["circle-translate"]), "circle-translate-anchor": new pt(Ae.paint_circle["circle-translate-anchor"]), "circle-pitch-scale": new pt(Ae.paint_circle["circle-pitch-scale"]), "circle-pitch-alignment": new pt(Ae.paint_circle["circle-pitch-alignment"]), "circle-stroke-width": new Tt(Ae.paint_circle["circle-stroke-width"]), "circle-stroke-color": new Tt(Ae.paint_circle["circle-stroke-color"]), "circle-stroke-opacity": new Tt(Ae.paint_circle["circle-stroke-opacity"]) }), layout: cw }, pn = 1e-6, fn = typeof Float32Array < "u" ? Float32Array : Array;
      function ky() {
        var l = new fn(9);
        return fn != Float32Array && (l[1] = 0, l[2] = 0, l[3] = 0, l[5] = 0, l[6] = 0, l[7] = 0), l[0] = 1, l[4] = 1, l[8] = 1, l;
      }
      function Dp(l) {
        return l[0] = 1, l[1] = 0, l[2] = 0, l[3] = 0, l[4] = 0, l[5] = 1, l[6] = 0, l[7] = 0, l[8] = 0, l[9] = 0, l[10] = 1, l[11] = 0, l[12] = 0, l[13] = 0, l[14] = 0, l[15] = 1, l;
      }
      function Dy(l, r, d) {
        var m = r[0], f = r[1], v = r[2], w = r[3], E = r[4], C = r[5], P = r[6], W = r[7], B = r[8], F = r[9], U = r[10], V = r[11], ne = r[12], ae = r[13], ge = r[14], Te = r[15], fe = d[0], xe = d[1], ze = d[2], De = d[3];
        return l[0] = fe * m + xe * E + ze * B + De * ne, l[1] = fe * f + xe * C + ze * F + De * ae, l[2] = fe * v + xe * P + ze * U + De * ge, l[3] = fe * w + xe * W + ze * V + De * Te, l[4] = (fe = d[4]) * m + (xe = d[5]) * E + (ze = d[6]) * B + (De = d[7]) * ne, l[5] = fe * f + xe * C + ze * F + De * ae, l[6] = fe * v + xe * P + ze * U + De * ge, l[7] = fe * w + xe * W + ze * V + De * Te, l[8] = (fe = d[8]) * m + (xe = d[9]) * E + (ze = d[10]) * B + (De = d[11]) * ne, l[9] = fe * f + xe * C + ze * F + De * ae, l[10] = fe * v + xe * P + ze * U + De * ge, l[11] = fe * w + xe * W + ze * V + De * Te, l[12] = (fe = d[12]) * m + (xe = d[13]) * E + (ze = d[14]) * B + (De = d[15]) * ne, l[13] = fe * f + xe * C + ze * F + De * ae, l[14] = fe * v + xe * P + ze * U + De * ge, l[15] = fe * w + xe * W + ze * V + De * Te, l;
      }
      Math.hypot || (Math.hypot = function() {
        for (var l = 0, r = arguments.length; r--; )
          l += arguments[r] * arguments[r];
        return Math.sqrt(l);
      });
      var Kd, mw = Dy;
      function Wy() {
        var l = new fn(3);
        return fn != Float32Array && (l[0] = 0, l[1] = 0, l[2] = 0), l;
      }
      function zy(l, r, d) {
        var m = new fn(3);
        return m[0] = l, m[1] = r, m[2] = d, m;
      }
      function tm(l, r, d) {
        var m = r[0], f = r[1], v = r[2], w = r[3];
        return l[0] = d[0] * m + d[4] * f + d[8] * v + d[12] * w, l[1] = d[1] * m + d[5] * f + d[9] * v + d[13] * w, l[2] = d[2] * m + d[6] * f + d[10] * v + d[14] * w, l[3] = d[3] * m + d[7] * f + d[11] * v + d[15] * w, l;
      }
      function By() {
        var l = new fn(4);
        return fn != Float32Array && (l[0] = 0, l[1] = 0, l[2] = 0), l[3] = 1, l;
      }
      function Ny(l, r) {
        const d = tm([], [l.x, l.y, 0, 1], r);
        return new Me(d[0] / d[3], d[1] / d[3]);
      }
      Wy(), Kd = new fn(4), fn != Float32Array && (Kd[0] = 0, Kd[1] = 0, Kd[2] = 0, Kd[3] = 0), Wy(), zy(1, 0, 0), zy(0, 1, 0), By(), By(), ky(), function() {
        var l;
        l = new fn(2), fn != Float32Array && (l[0] = 0, l[1] = 0);
      }();
      class qy extends Op {
      }
      lt("HeatmapBucket", qy, { omit: ["layers"] });
      var hw = { paint: new Bi({ "heatmap-radius": new Tt(Ae.paint_heatmap["heatmap-radius"]), "heatmap-weight": new Tt(Ae.paint_heatmap["heatmap-weight"]), "heatmap-intensity": new pt(Ae.paint_heatmap["heatmap-intensity"]), "heatmap-color": new ns(Ae.paint_heatmap["heatmap-color"]), "heatmap-opacity": new pt(Ae.paint_heatmap["heatmap-opacity"]) }) };
      function Wp(l, { width: r, height: d }, m, f) {
        if (f) {
          if (f instanceof Uint8ClampedArray)
            f = new Uint8Array(f.buffer);
          else if (f.length !== r * d * m)
            throw new RangeError(`mismatched image size. expected: ${f.length} but got: ${r * d * m}`);
        } else
          f = new Uint8Array(r * d * m);
        return l.width = r, l.height = d, l.data = f, l;
      }
      function Fy(l, { width: r, height: d }, m) {
        if (r === l.width && d === l.height)
          return;
        const f = Wp({}, { width: r, height: d }, m);
        zp(l, f, { x: 0, y: 0 }, { x: 0, y: 0 }, { width: Math.min(l.width, r), height: Math.min(l.height, d) }, m), l.width = r, l.height = d, l.data = f.data;
      }
      function zp(l, r, d, m, f, v) {
        if (f.width === 0 || f.height === 0)
          return r;
        if (f.width > l.width || f.height > l.height || d.x > l.width - f.width || d.y > l.height - f.height)
          throw new RangeError("out of range source coordinates for image copy");
        if (f.width > r.width || f.height > r.height || m.x > r.width - f.width || m.y > r.height - f.height)
          throw new RangeError("out of range destination coordinates for image copy");
        const w = l.data, E = r.data;
        if (w === E)
          throw new Error("srcData equals dstData, so image is already copied");
        for (let C = 0; C < f.height; C++) {
          const P = ((d.y + C) * l.width + d.x) * v, W = ((m.y + C) * r.width + m.x) * v;
          for (let B = 0; B < f.width * v; B++)
            E[W + B] = w[P + B];
        }
        return r;
      }
      class Yd {
        constructor(r, d) {
          Wp(this, r, 1, d);
        }
        resize(r) {
          Fy(this, r, 1);
        }
        clone() {
          return new Yd({ width: this.width, height: this.height }, new Uint8Array(this.data));
        }
        static copy(r, d, m, f, v) {
          zp(r, d, m, f, v, 1);
        }
      }
      class ur {
        constructor(r, d) {
          Wp(this, r, 4, d);
        }
        resize(r) {
          Fy(this, r, 4);
        }
        replace(r, d) {
          d ? this.data.set(r) : this.data = r instanceof Uint8ClampedArray ? new Uint8Array(r.buffer) : r;
        }
        clone() {
          return new ur({ width: this.width, height: this.height }, new Uint8Array(this.data));
        }
        static copy(r, d, m, f, v) {
          zp(r, d, m, f, v, 4);
        }
      }
      function Gy(l) {
        const r = {}, d = l.resolution || 256, m = l.clips ? l.clips.length : 1, f = l.image || new ur({ width: d, height: m });
        if (Math.log(d) / Math.LN2 % 1 != 0)
          throw new Error(`width is not a power of 2 - ${d}`);
        const v = (w, E, C) => {
          r[l.evaluationKey] = C;
          const P = l.expression.evaluate(r);
          f.data[w + E + 0] = Math.floor(255 * P.r / P.a), f.data[w + E + 1] = Math.floor(255 * P.g / P.a), f.data[w + E + 2] = Math.floor(255 * P.b / P.a), f.data[w + E + 3] = Math.floor(255 * P.a);
        };
        if (l.clips)
          for (let w = 0, E = 0; w < m; ++w, E += 4 * d)
            for (let C = 0, P = 0; C < d; C++, P += 4) {
              const W = C / (d - 1), { start: B, end: F } = l.clips[w];
              v(E, P, B * (1 - W) + F * W);
            }
        else
          for (let w = 0, E = 0; w < d; w++, E += 4)
            v(0, E, w / (d - 1));
        return f;
      }
      lt("AlphaImage", Yd), lt("RGBAImage", ur);
      var pw = { paint: new Bi({ "hillshade-illumination-direction": new pt(Ae.paint_hillshade["hillshade-illumination-direction"]), "hillshade-illumination-anchor": new pt(Ae.paint_hillshade["hillshade-illumination-anchor"]), "hillshade-exaggeration": new pt(Ae.paint_hillshade["hillshade-exaggeration"]), "hillshade-shadow-color": new pt(Ae.paint_hillshade["hillshade-shadow-color"]), "hillshade-highlight-color": new pt(Ae.paint_hillshade["hillshade-highlight-color"]), "hillshade-accent-color": new pt(Ae.paint_hillshade["hillshade-accent-color"]) }) };
      const fw = si([{ name: "a_pos", components: 2, type: "Int16" }], 4), { members: gw } = fw;
      var am = { exports: {} };
      function im(l, r, d) {
        d = d || 2;
        var m, f, v, w, E, C, P, W = r && r.length, B = W ? r[0] * d : l.length, F = Uy(l, 0, B, d, !0), U = [];
        if (!F || F.next === F.prev)
          return U;
        if (W && (F = function(ne, ae, ge, Te) {
          var fe, xe, ze, De = [];
          for (fe = 0, xe = ae.length; fe < xe; fe++)
            (ze = Uy(ne, ae[fe] * Te, fe < xe - 1 ? ae[fe + 1] * Te : ne.length, Te, !1)) === ze.next && (ze.steiner = !0), De.push(Mw(ze));
          for (De.sort(ww), fe = 0; fe < De.length; fe++)
            ge = Sw(De[fe], ge);
          return ge;
        }(l, r, F, d)), l.length > 80 * d) {
          m = v = l[0], f = w = l[1];
          for (var V = d; V < B; V += d)
            (E = l[V]) < m && (m = E), (C = l[V + 1]) < f && (f = C), E > v && (v = E), C > w && (w = C);
          P = (P = Math.max(v - m, w - f)) !== 0 ? 32767 / P : 0;
        }
        return Qd(F, U, d, m, f, P, 0), U;
      }
      function Uy(l, r, d, m, f) {
        var v, w;
        if (f === qp(l, r, d, m) > 0)
          for (v = r; v < d; v += m)
            w = $y(v, l[v], l[v + 1], w);
        else
          for (v = d - m; v >= r; v -= m)
            w = $y(v, l[v], l[v + 1], w);
        return w && nm(w, w.next) && (ec(w), w = w.next), w;
      }
      function Ml(l, r) {
        if (!l)
          return l;
        r || (r = l);
        var d, m = l;
        do
          if (d = !1, m.steiner || !nm(m, m.next) && ai(m.prev, m, m.next) !== 0)
            m = m.next;
          else {
            if (ec(m), (m = r = m.prev) === m.next)
              break;
            d = !0;
          }
        while (d || m !== r);
        return r;
      }
      function Qd(l, r, d, m, f, v, w) {
        if (l) {
          !w && v && function(W, B, F, U) {
            var V = W;
            do
              V.z === 0 && (V.z = Bp(V.x, V.y, B, F, U)), V.prevZ = V.prev, V.nextZ = V.next, V = V.next;
            while (V !== W);
            V.prevZ.nextZ = null, V.prevZ = null, function(ne) {
              var ae, ge, Te, fe, xe, ze, De, st, _t = 1;
              do {
                for (ge = ne, ne = null, xe = null, ze = 0; ge; ) {
                  for (ze++, Te = ge, De = 0, ae = 0; ae < _t && (De++, Te = Te.nextZ); ae++)
                    ;
                  for (st = _t; De > 0 || st > 0 && Te; )
                    De !== 0 && (st === 0 || !Te || ge.z <= Te.z) ? (fe = ge, ge = ge.nextZ, De--) : (fe = Te, Te = Te.nextZ, st--), xe ? xe.nextZ = fe : ne = fe, fe.prevZ = xe, xe = fe;
                  ge = Te;
                }
                xe.nextZ = null, _t *= 2;
              } while (ze > 1);
            }(V);
          }(l, m, f, v);
          for (var E, C, P = l; l.prev !== l.next; )
            if (E = l.prev, C = l.next, v ? vw(l, m, f, v) : yw(l))
              r.push(E.i / d | 0), r.push(l.i / d | 0), r.push(C.i / d | 0), ec(l), l = C.next, P = C.next;
            else if ((l = C) === P) {
              w ? w === 1 ? Qd(l = bw(Ml(l), r, d), r, d, m, f, v, 2) : w === 2 && xw(l, r, d, m, f, v) : Qd(Ml(l), r, d, m, f, v, 1);
              break;
            }
        }
      }
      function yw(l) {
        var r = l.prev, d = l, m = l.next;
        if (ai(r, d, m) >= 0)
          return !1;
        for (var f = r.x, v = d.x, w = m.x, E = r.y, C = d.y, P = m.y, W = f < v ? f < w ? f : w : v < w ? v : w, B = E < C ? E < P ? E : P : C < P ? C : P, F = f > v ? f > w ? f : w : v > w ? v : w, U = E > C ? E > P ? E : P : C > P ? C : P, V = m.next; V !== r; ) {
          if (V.x >= W && V.x <= F && V.y >= B && V.y <= U && wu(f, E, v, C, w, P, V.x, V.y) && ai(V.prev, V, V.next) >= 0)
            return !1;
          V = V.next;
        }
        return !0;
      }
      function vw(l, r, d, m) {
        var f = l.prev, v = l, w = l.next;
        if (ai(f, v, w) >= 0)
          return !1;
        for (var E = f.x, C = v.x, P = w.x, W = f.y, B = v.y, F = w.y, U = E < C ? E < P ? E : P : C < P ? C : P, V = W < B ? W < F ? W : F : B < F ? B : F, ne = E > C ? E > P ? E : P : C > P ? C : P, ae = W > B ? W > F ? W : F : B > F ? B : F, ge = Bp(U, V, r, d, m), Te = Bp(ne, ae, r, d, m), fe = l.prevZ, xe = l.nextZ; fe && fe.z >= ge && xe && xe.z <= Te; ) {
          if (fe.x >= U && fe.x <= ne && fe.y >= V && fe.y <= ae && fe !== f && fe !== w && wu(E, W, C, B, P, F, fe.x, fe.y) && ai(fe.prev, fe, fe.next) >= 0 || (fe = fe.prevZ, xe.x >= U && xe.x <= ne && xe.y >= V && xe.y <= ae && xe !== f && xe !== w && wu(E, W, C, B, P, F, xe.x, xe.y) && ai(xe.prev, xe, xe.next) >= 0))
            return !1;
          xe = xe.nextZ;
        }
        for (; fe && fe.z >= ge; ) {
          if (fe.x >= U && fe.x <= ne && fe.y >= V && fe.y <= ae && fe !== f && fe !== w && wu(E, W, C, B, P, F, fe.x, fe.y) && ai(fe.prev, fe, fe.next) >= 0)
            return !1;
          fe = fe.prevZ;
        }
        for (; xe && xe.z <= Te; ) {
          if (xe.x >= U && xe.x <= ne && xe.y >= V && xe.y <= ae && xe !== f && xe !== w && wu(E, W, C, B, P, F, xe.x, xe.y) && ai(xe.prev, xe, xe.next) >= 0)
            return !1;
          xe = xe.nextZ;
        }
        return !0;
      }
      function bw(l, r, d) {
        var m = l;
        do {
          var f = m.prev, v = m.next.next;
          !nm(f, v) && jy(f, m, m.next, v) && Jd(f, v) && Jd(v, f) && (r.push(f.i / d | 0), r.push(m.i / d | 0), r.push(v.i / d | 0), ec(m), ec(m.next), m = l = v), m = m.next;
        } while (m !== l);
        return Ml(m);
      }
      function xw(l, r, d, m, f, v) {
        var w = l;
        do {
          for (var E = w.next.next; E !== w.prev; ) {
            if (w.i !== E.i && Ew(w, E)) {
              var C = Vy(w, E);
              return w = Ml(w, w.next), C = Ml(C, C.next), Qd(w, r, d, m, f, v, 0), void Qd(C, r, d, m, f, v, 0);
            }
            E = E.next;
          }
          w = w.next;
        } while (w !== l);
      }
      function ww(l, r) {
        return l.x - r.x;
      }
      function Sw(l, r) {
        var d = function(f, v) {
          var w, E = v, C = f.x, P = f.y, W = -1 / 0;
          do {
            if (P <= E.y && P >= E.next.y && E.next.y !== E.y) {
              var B = E.x + (P - E.y) * (E.next.x - E.x) / (E.next.y - E.y);
              if (B <= C && B > W && (W = B, w = E.x < E.next.x ? E : E.next, B === C))
                return w;
            }
            E = E.next;
          } while (E !== v);
          if (!w)
            return null;
          var F, U = w, V = w.x, ne = w.y, ae = 1 / 0;
          E = w;
          do
            C >= E.x && E.x >= V && C !== E.x && wu(P < ne ? C : W, P, V, ne, P < ne ? W : C, P, E.x, E.y) && (F = Math.abs(P - E.y) / (C - E.x), Jd(E, f) && (F < ae || F === ae && (E.x > w.x || E.x === w.x && Tw(w, E))) && (w = E, ae = F)), E = E.next;
          while (E !== U);
          return w;
        }(l, r);
        if (!d)
          return r;
        var m = Vy(d, l);
        return Ml(m, m.next), Ml(d, d.next);
      }
      function Tw(l, r) {
        return ai(l.prev, l, r.prev) < 0 && ai(r.next, l, l.next) < 0;
      }
      function Bp(l, r, d, m, f) {
        return (l = 1431655765 & ((l = 858993459 & ((l = 252645135 & ((l = 16711935 & ((l = (l - d) * f | 0) | l << 8)) | l << 4)) | l << 2)) | l << 1)) | (r = 1431655765 & ((r = 858993459 & ((r = 252645135 & ((r = 16711935 & ((r = (r - m) * f | 0) | r << 8)) | r << 4)) | r << 2)) | r << 1)) << 1;
      }
      function Mw(l) {
        var r = l, d = l;
        do
          (r.x < d.x || r.x === d.x && r.y < d.y) && (d = r), r = r.next;
        while (r !== l);
        return d;
      }
      function wu(l, r, d, m, f, v, w, E) {
        return (f - w) * (r - E) >= (l - w) * (v - E) && (l - w) * (m - E) >= (d - w) * (r - E) && (d - w) * (v - E) >= (f - w) * (m - E);
      }
      function Ew(l, r) {
        return l.next.i !== r.i && l.prev.i !== r.i && !function(d, m) {
          var f = d;
          do {
            if (f.i !== d.i && f.next.i !== d.i && f.i !== m.i && f.next.i !== m.i && jy(f, f.next, d, m))
              return !0;
            f = f.next;
          } while (f !== d);
          return !1;
        }(l, r) && (Jd(l, r) && Jd(r, l) && function(d, m) {
          var f = d, v = !1, w = (d.x + m.x) / 2, E = (d.y + m.y) / 2;
          do
            f.y > E != f.next.y > E && f.next.y !== f.y && w < (f.next.x - f.x) * (E - f.y) / (f.next.y - f.y) + f.x && (v = !v), f = f.next;
          while (f !== d);
          return v;
        }(l, r) && (ai(l.prev, l, r.prev) || ai(l, r.prev, r)) || nm(l, r) && ai(l.prev, l, l.next) > 0 && ai(r.prev, r, r.next) > 0);
      }
      function ai(l, r, d) {
        return (r.y - l.y) * (d.x - r.x) - (r.x - l.x) * (d.y - r.y);
      }
      function nm(l, r) {
        return l.x === r.x && l.y === r.y;
      }
      function jy(l, r, d, m) {
        var f = sm(ai(l, r, d)), v = sm(ai(l, r, m)), w = sm(ai(d, m, l)), E = sm(ai(d, m, r));
        return f !== v && w !== E || !(f !== 0 || !rm(l, d, r)) || !(v !== 0 || !rm(l, m, r)) || !(w !== 0 || !rm(d, l, m)) || !(E !== 0 || !rm(d, r, m));
      }
      function rm(l, r, d) {
        return r.x <= Math.max(l.x, d.x) && r.x >= Math.min(l.x, d.x) && r.y <= Math.max(l.y, d.y) && r.y >= Math.min(l.y, d.y);
      }
      function sm(l) {
        return l > 0 ? 1 : l < 0 ? -1 : 0;
      }
      function Jd(l, r) {
        return ai(l.prev, l, l.next) < 0 ? ai(l, r, l.next) >= 0 && ai(l, l.prev, r) >= 0 : ai(l, r, l.prev) < 0 || ai(l, l.next, r) < 0;
      }
      function Vy(l, r) {
        var d = new Np(l.i, l.x, l.y), m = new Np(r.i, r.x, r.y), f = l.next, v = r.prev;
        return l.next = r, r.prev = l, d.next = f, f.prev = d, m.next = d, d.prev = m, v.next = m, m.prev = v, m;
      }
      function $y(l, r, d, m) {
        var f = new Np(l, r, d);
        return m ? (f.next = m.next, f.prev = m, m.next.prev = f, m.next = f) : (f.prev = f, f.next = f), f;
      }
      function ec(l) {
        l.next.prev = l.prev, l.prev.next = l.next, l.prevZ && (l.prevZ.nextZ = l.nextZ), l.nextZ && (l.nextZ.prevZ = l.prevZ);
      }
      function Np(l, r, d) {
        this.i = l, this.x = r, this.y = d, this.prev = null, this.next = null, this.z = 0, this.prevZ = null, this.nextZ = null, this.steiner = !1;
      }
      function qp(l, r, d, m) {
        for (var f = 0, v = r, w = d - m; v < d; v += m)
          f += (l[w] - l[v]) * (l[v + 1] + l[w + 1]), w = v;
        return f;
      }
      function Lw(l, r, d, m, f) {
        Zy(l, r, d || 0, m || l.length - 1, f || Cw);
      }
      function Zy(l, r, d, m, f) {
        for (; m > d; ) {
          if (m - d > 600) {
            var v = m - d + 1, w = r - d + 1, E = Math.log(v), C = 0.5 * Math.exp(2 * E / 3), P = 0.5 * Math.sqrt(E * C * (v - C) / v) * (w - v / 2 < 0 ? -1 : 1);
            Zy(l, r, Math.max(d, Math.floor(r - w * C / v + P)), Math.min(m, Math.floor(r + (v - w) * C / v + P)), f);
          }
          var W = l[r], B = d, F = m;
          for (tc(l, d, r), f(l[m], W) > 0 && tc(l, d, m); B < F; ) {
            for (tc(l, B, F), B++, F--; f(l[B], W) < 0; )
              B++;
            for (; f(l[F], W) > 0; )
              F--;
          }
          f(l[d], W) === 0 ? tc(l, d, F) : tc(l, ++F, m), F <= r && (d = F + 1), r <= F && (m = F - 1);
        }
      }
      function tc(l, r, d) {
        var m = l[r];
        l[r] = l[d], l[d] = m;
      }
      function Cw(l, r) {
        return l < r ? -1 : l > r ? 1 : 0;
      }
      function Fp(l, r) {
        const d = l.length;
        if (d <= 1)
          return [l];
        const m = [];
        let f, v;
        for (let w = 0; w < d; w++) {
          const E = Ee(l[w]);
          E !== 0 && (l[w].area = Math.abs(E), v === void 0 && (v = E < 0), v === E < 0 ? (f && m.push(f), f = [l[w]]) : f.push(l[w]));
        }
        if (f && m.push(f), r > 1)
          for (let w = 0; w < m.length; w++)
            m[w].length <= r || (Lw(m[w], r, 1, m[w].length - 1, Aw), m[w] = m[w].slice(0, r));
        return m;
      }
      function Aw(l, r) {
        return r.area - l.area;
      }
      function Gp(l, r, d) {
        const m = d.patternDependencies;
        let f = !1;
        for (const v of r) {
          const w = v.paint.get(`${l}-pattern`);
          w.isConstant() || (f = !0);
          const E = w.constantOr(null);
          E && (f = !0, m[E.to] = !0, m[E.from] = !0);
        }
        return f;
      }
      function Up(l, r, d, m, f) {
        const v = f.patternDependencies;
        for (const w of r) {
          const E = w.paint.get(`${l}-pattern`).value;
          if (E.kind !== "constant") {
            let C = E.evaluate({ zoom: m - 1 }, d, {}, f.availableImages), P = E.evaluate({ zoom: m }, d, {}, f.availableImages), W = E.evaluate({ zoom: m + 1 }, d, {}, f.availableImages);
            C = C && C.name ? C.name : C, P = P && P.name ? P.name : P, W = W && W.name ? W.name : W, v[C] = !0, v[P] = !0, v[W] = !0, d.patterns[w.id] = { min: C, mid: P, max: W };
          }
        }
        return d;
      }
      am.exports = im, am.exports.default = im, im.deviation = function(l, r, d, m) {
        var f = r && r.length, v = Math.abs(qp(l, 0, f ? r[0] * d : l.length, d));
        if (f)
          for (var w = 0, E = r.length; w < E; w++)
            v -= Math.abs(qp(l, r[w] * d, w < E - 1 ? r[w + 1] * d : l.length, d));
        var C = 0;
        for (w = 0; w < m.length; w += 3) {
          var P = m[w] * d, W = m[w + 1] * d, B = m[w + 2] * d;
          C += Math.abs((l[P] - l[B]) * (l[W + 1] - l[P + 1]) - (l[P] - l[W]) * (l[B + 1] - l[P + 1]));
        }
        return v === 0 && C === 0 ? 0 : Math.abs((C - v) / v);
      }, im.flatten = function(l) {
        for (var r = l[0][0].length, d = { vertices: [], holes: [], dimensions: r }, m = 0, f = 0; f < l.length; f++) {
          for (var v = 0; v < l[f].length; v++)
            for (var w = 0; w < r; w++)
              d.vertices.push(l[f][v][w]);
          f > 0 && d.holes.push(m += l[f - 1].length);
        }
        return d;
      };
      class jp {
        constructor(r) {
          this.zoom = r.zoom, this.overscaling = r.overscaling, this.layers = r.layers, this.layerIds = this.layers.map((d) => d.id), this.index = r.index, this.hasPattern = !1, this.patternFeatures = [], this.layoutVertexArray = new ha(), this.indexArray = new hn(), this.indexArray2 = new zr(), this.programConfigurations = new wl(r.layers, r.zoom), this.segments = new jt(), this.segments2 = new jt(), this.stateDependentLayerIds = this.layers.filter((d) => d.isStateDependent()).map((d) => d.id);
        }
        populate(r, d, m) {
          this.hasPattern = Gp("fill", this.layers, d);
          const f = this.layers[0].layout.get("fill-sort-key"), v = !f.isConstant(), w = [];
          for (const { feature: E, id: C, index: P, sourceLayerIndex: W } of r) {
            const B = this.layers[0]._featureFilter.needGeometry, F = Tl(E, B);
            if (!this.layers[0]._featureFilter.filter(new Na(this.zoom), F, m))
              continue;
            const U = v ? f.evaluate(F, {}, m, d.availableImages) : void 0, V = { id: C, properties: E.properties, type: E.type, sourceLayerIndex: W, index: P, geometry: B ? F.geometry : Sl(E), patterns: {}, sortKey: U };
            w.push(V);
          }
          v && w.sort((E, C) => E.sortKey - C.sortKey);
          for (const E of w) {
            const { geometry: C, index: P, sourceLayerIndex: W } = E;
            if (this.hasPattern) {
              const B = Up("fill", this.layers, E, this.zoom, d);
              this.patternFeatures.push(B);
            } else
              this.addFeature(E, C, P, m, {});
            d.featureIndex.insert(r[P].feature, C, P, W, this.index);
          }
        }
        update(r, d, m) {
          this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(r, d, this.stateDependentLayers, m);
        }
        addFeatures(r, d, m) {
          for (const f of this.patternFeatures)
            this.addFeature(f, f.geometry, f.index, d, m);
        }
        isEmpty() {
          return this.layoutVertexArray.length === 0;
        }
        uploadPending() {
          return !this.uploaded || this.programConfigurations.needsUpload;
        }
        upload(r) {
          this.uploaded || (this.layoutVertexBuffer = r.createVertexBuffer(this.layoutVertexArray, gw), this.indexBuffer = r.createIndexBuffer(this.indexArray), this.indexBuffer2 = r.createIndexBuffer(this.indexArray2)), this.programConfigurations.upload(r), this.uploaded = !0;
        }
        destroy() {
          this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.indexBuffer2.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.segments2.destroy());
        }
        addFeature(r, d, m, f, v) {
          for (const w of Fp(d, 500)) {
            let E = 0;
            for (const U of w)
              E += U.length;
            const C = this.segments.prepareSegment(E, this.layoutVertexArray, this.indexArray), P = C.vertexLength, W = [], B = [];
            for (const U of w) {
              if (U.length === 0)
                continue;
              U !== w[0] && B.push(W.length / 2);
              const V = this.segments2.prepareSegment(U.length, this.layoutVertexArray, this.indexArray2), ne = V.vertexLength;
              this.layoutVertexArray.emplaceBack(U[0].x, U[0].y), this.indexArray2.emplaceBack(ne + U.length - 1, ne), W.push(U[0].x), W.push(U[0].y);
              for (let ae = 1; ae < U.length; ae++)
                this.layoutVertexArray.emplaceBack(U[ae].x, U[ae].y), this.indexArray2.emplaceBack(ne + ae - 1, ne + ae), W.push(U[ae].x), W.push(U[ae].y);
              V.vertexLength += U.length, V.primitiveLength += U.length;
            }
            const F = am.exports(W, B);
            for (let U = 0; U < F.length; U += 3)
              this.indexArray.emplaceBack(P + F[U], P + F[U + 1], P + F[U + 2]);
            C.vertexLength += E, C.primitiveLength += F.length / 3;
          }
          this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, r, m, v, f);
        }
      }
      lt("FillBucket", jp, { omit: ["layers", "patternFeatures"] });
      const Iw = new Bi({ "fill-sort-key": new Tt(Ae.layout_fill["fill-sort-key"]) });
      var Pw = { paint: new Bi({ "fill-antialias": new pt(Ae.paint_fill["fill-antialias"]), "fill-opacity": new Tt(Ae.paint_fill["fill-opacity"]), "fill-color": new Tt(Ae.paint_fill["fill-color"]), "fill-outline-color": new Tt(Ae.paint_fill["fill-outline-color"]), "fill-translate": new pt(Ae.paint_fill["fill-translate"]), "fill-translate-anchor": new pt(Ae.paint_fill["fill-translate-anchor"]), "fill-pattern": new po(Ae.paint_fill["fill-pattern"]) }), layout: Iw };
      const Ow = si([{ name: "a_pos", components: 2, type: "Int16" }, { name: "a_normal_ed", components: 4, type: "Int16" }], 4), Rw = si([{ name: "a_centroid", components: 2, type: "Int16" }], 4), { members: kw } = Ow;
      var yo = {}, Dw = Me, Hy = Su;
      function Su(l, r, d, m, f) {
        this.properties = {}, this.extent = d, this.type = 0, this._pbf = l, this._geometry = -1, this._keys = m, this._values = f, l.readFields(Ww, this, r);
      }
      function Ww(l, r, d) {
        l == 1 ? r.id = d.readVarint() : l == 2 ? function(m, f) {
          for (var v = m.readVarint() + m.pos; m.pos < v; ) {
            var w = f._keys[m.readVarint()], E = f._values[m.readVarint()];
            f.properties[w] = E;
          }
        }(d, r) : l == 3 ? r.type = d.readVarint() : l == 4 && (r._geometry = d.pos);
      }
      function zw(l) {
        for (var r, d, m = 0, f = 0, v = l.length, w = v - 1; f < v; w = f++)
          m += ((d = l[w]).x - (r = l[f]).x) * (r.y + d.y);
        return m;
      }
      Su.types = ["Unknown", "Point", "LineString", "Polygon"], Su.prototype.loadGeometry = function() {
        var l = this._pbf;
        l.pos = this._geometry;
        for (var r, d = l.readVarint() + l.pos, m = 1, f = 0, v = 0, w = 0, E = []; l.pos < d; ) {
          if (f <= 0) {
            var C = l.readVarint();
            m = 7 & C, f = C >> 3;
          }
          if (f--, m === 1 || m === 2)
            v += l.readSVarint(), w += l.readSVarint(), m === 1 && (r && E.push(r), r = []), r.push(new Dw(v, w));
          else {
            if (m !== 7)
              throw new Error("unknown command " + m);
            r && r.push(r[0].clone());
          }
        }
        return r && E.push(r), E;
      }, Su.prototype.bbox = function() {
        var l = this._pbf;
        l.pos = this._geometry;
        for (var r = l.readVarint() + l.pos, d = 1, m = 0, f = 0, v = 0, w = 1 / 0, E = -1 / 0, C = 1 / 0, P = -1 / 0; l.pos < r; ) {
          if (m <= 0) {
            var W = l.readVarint();
            d = 7 & W, m = W >> 3;
          }
          if (m--, d === 1 || d === 2)
            (f += l.readSVarint()) < w && (w = f), f > E && (E = f), (v += l.readSVarint()) < C && (C = v), v > P && (P = v);
          else if (d !== 7)
            throw new Error("unknown command " + d);
        }
        return [w, C, E, P];
      }, Su.prototype.toGeoJSON = function(l, r, d) {
        var m, f, v = this.extent * Math.pow(2, d), w = this.extent * l, E = this.extent * r, C = this.loadGeometry(), P = Su.types[this.type];
        function W(U) {
          for (var V = 0; V < U.length; V++) {
            var ne = U[V];
            U[V] = [360 * (ne.x + w) / v - 180, 360 / Math.PI * Math.atan(Math.exp((180 - 360 * (ne.y + E) / v) * Math.PI / 180)) - 90];
          }
        }
        switch (this.type) {
          case 1:
            var B = [];
            for (m = 0; m < C.length; m++)
              B[m] = C[m][0];
            W(C = B);
            break;
          case 2:
            for (m = 0; m < C.length; m++)
              W(C[m]);
            break;
          case 3:
            for (C = function(U) {
              var V = U.length;
              if (V <= 1)
                return [U];
              for (var ne, ae, ge = [], Te = 0; Te < V; Te++) {
                var fe = zw(U[Te]);
                fe !== 0 && (ae === void 0 && (ae = fe < 0), ae === fe < 0 ? (ne && ge.push(ne), ne = [U[Te]]) : ne.push(U[Te]));
              }
              return ne && ge.push(ne), ge;
            }(C), m = 0; m < C.length; m++)
              for (f = 0; f < C[m].length; f++)
                W(C[m][f]);
        }
        C.length === 1 ? C = C[0] : P = "Multi" + P;
        var F = { type: "Feature", geometry: { type: P, coordinates: C }, properties: this.properties };
        return "id" in this && (F.id = this.id), F;
      };
      var Bw = Hy, Xy = Ky;
      function Ky(l, r) {
        this.version = 1, this.name = null, this.extent = 4096, this.length = 0, this._pbf = l, this._keys = [], this._values = [], this._features = [], l.readFields(Nw, this, r), this.length = this._features.length;
      }
      function Nw(l, r, d) {
        l === 15 ? r.version = d.readVarint() : l === 1 ? r.name = d.readString() : l === 5 ? r.extent = d.readVarint() : l === 2 ? r._features.push(d.pos) : l === 3 ? r._keys.push(d.readString()) : l === 4 && r._values.push(function(m) {
          for (var f = null, v = m.readVarint() + m.pos; m.pos < v; ) {
            var w = m.readVarint() >> 3;
            f = w === 1 ? m.readString() : w === 2 ? m.readFloat() : w === 3 ? m.readDouble() : w === 4 ? m.readVarint64() : w === 5 ? m.readVarint() : w === 6 ? m.readSVarint() : w === 7 ? m.readBoolean() : null;
          }
          return f;
        }(d));
      }
      Ky.prototype.feature = function(l) {
        if (l < 0 || l >= this._features.length)
          throw new Error("feature index out of bounds");
        this._pbf.pos = this._features[l];
        var r = this._pbf.readVarint() + this._pbf.pos;
        return new Bw(this._pbf, r, this.extent, this._keys, this._values);
      };
      var qw = Xy;
      function Fw(l, r, d) {
        if (l === 3) {
          var m = new qw(d, d.readVarint() + d.pos);
          m.length && (r[m.name] = m);
        }
      }
      yo.VectorTile = function(l, r) {
        this.layers = l.readFields(Fw, {}, r);
      }, yo.VectorTileFeature = Hy, yo.VectorTileLayer = Xy;
      const Gw = yo.VectorTileFeature.types, Vp = Math.pow(2, 13);
      function ac(l, r, d, m, f, v, w, E) {
        l.emplaceBack(r, d, 2 * Math.floor(m * Vp) + w, f * Vp * 2, v * Vp * 2, Math.round(E));
      }
      class $p {
        constructor(r) {
          this.zoom = r.zoom, this.overscaling = r.overscaling, this.layers = r.layers, this.layerIds = this.layers.map((d) => d.id), this.index = r.index, this.hasPattern = !1, this.layoutVertexArray = new Qt(), this.centroidVertexArray = new xt(), this.indexArray = new hn(), this.programConfigurations = new wl(r.layers, r.zoom), this.segments = new jt(), this.stateDependentLayerIds = this.layers.filter((d) => d.isStateDependent()).map((d) => d.id);
        }
        populate(r, d, m) {
          this.features = [], this.hasPattern = Gp("fill-extrusion", this.layers, d);
          for (const { feature: f, id: v, index: w, sourceLayerIndex: E } of r) {
            const C = this.layers[0]._featureFilter.needGeometry, P = Tl(f, C);
            if (!this.layers[0]._featureFilter.filter(new Na(this.zoom), P, m))
              continue;
            const W = { id: v, sourceLayerIndex: E, index: w, geometry: C ? P.geometry : Sl(f), properties: f.properties, type: f.type, patterns: {} };
            this.hasPattern ? this.features.push(Up("fill-extrusion", this.layers, W, this.zoom, d)) : this.addFeature(W, W.geometry, w, m, {}), d.featureIndex.insert(f, W.geometry, w, E, this.index, !0);
          }
        }
        addFeatures(r, d, m) {
          for (const f of this.features) {
            const { geometry: v } = f;
            this.addFeature(f, v, f.index, d, m);
          }
        }
        update(r, d, m) {
          this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(r, d, this.stateDependentLayers, m);
        }
        isEmpty() {
          return this.layoutVertexArray.length === 0 && this.centroidVertexArray.length === 0;
        }
        uploadPending() {
          return !this.uploaded || this.programConfigurations.needsUpload;
        }
        upload(r) {
          this.uploaded || (this.layoutVertexBuffer = r.createVertexBuffer(this.layoutVertexArray, kw), this.centroidVertexBuffer = r.createVertexBuffer(this.centroidVertexArray, Rw.members, !0), this.indexBuffer = r.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(r), this.uploaded = !0;
        }
        destroy() {
          this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.centroidVertexBuffer.destroy());
        }
        addFeature(r, d, m, f, v) {
          const w = { x: 0, y: 0, vertexCount: 0 };
          for (const E of Fp(d, 500)) {
            let C = 0;
            for (const V of E)
              C += V.length;
            let P = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray);
            for (const V of E) {
              if (V.length === 0 || jw(V))
                continue;
              let ne = 0;
              for (let ae = 0; ae < V.length; ae++) {
                const ge = V[ae];
                if (ae >= 1) {
                  const Te = V[ae - 1];
                  if (!Uw(ge, Te)) {
                    P.vertexLength + 4 > jt.MAX_VERTEX_ARRAY_LENGTH && (P = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray));
                    const fe = ge.sub(Te)._perp()._unit(), xe = Te.dist(ge);
                    ne + xe > 32768 && (ne = 0), ac(this.layoutVertexArray, ge.x, ge.y, fe.x, fe.y, 0, 0, ne), ac(this.layoutVertexArray, ge.x, ge.y, fe.x, fe.y, 0, 1, ne), w.x += 2 * ge.x, w.y += 2 * ge.y, w.vertexCount += 2, ne += xe, ac(this.layoutVertexArray, Te.x, Te.y, fe.x, fe.y, 0, 0, ne), ac(this.layoutVertexArray, Te.x, Te.y, fe.x, fe.y, 0, 1, ne), w.x += 2 * Te.x, w.y += 2 * Te.y, w.vertexCount += 2;
                    const ze = P.vertexLength;
                    this.indexArray.emplaceBack(ze, ze + 2, ze + 1), this.indexArray.emplaceBack(ze + 1, ze + 2, ze + 3), P.vertexLength += 4, P.primitiveLength += 2;
                  }
                }
              }
            }
            if (P.vertexLength + C > jt.MAX_VERTEX_ARRAY_LENGTH && (P = this.segments.prepareSegment(C, this.layoutVertexArray, this.indexArray)), Gw[r.type] !== "Polygon")
              continue;
            const W = [], B = [], F = P.vertexLength;
            for (const V of E)
              if (V.length !== 0) {
                V !== E[0] && B.push(W.length / 2);
                for (let ne = 0; ne < V.length; ne++) {
                  const ae = V[ne];
                  ac(this.layoutVertexArray, ae.x, ae.y, 0, 0, 1, 1, 0), w.x += ae.x, w.y += ae.y, w.vertexCount += 1, W.push(ae.x), W.push(ae.y);
                }
              }
            const U = am.exports(W, B);
            for (let V = 0; V < U.length; V += 3)
              this.indexArray.emplaceBack(F + U[V], F + U[V + 2], F + U[V + 1]);
            P.primitiveLength += U.length / 3, P.vertexLength += C;
          }
          for (let E = 0; E < w.vertexCount; E++)
            this.centroidVertexArray.emplaceBack(Math.floor(w.x / w.vertexCount), Math.floor(w.y / w.vertexCount));
          this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, r, m, v, f);
        }
      }
      function Uw(l, r) {
        return l.x === r.x && (l.x < 0 || l.x > fi) || l.y === r.y && (l.y < 0 || l.y > fi);
      }
      function jw(l) {
        return l.every((r) => r.x < 0) || l.every((r) => r.x > fi) || l.every((r) => r.y < 0) || l.every((r) => r.y > fi);
      }
      lt("FillExtrusionBucket", $p, { omit: ["layers", "features"] });
      var Vw = { paint: new Bi({ "fill-extrusion-opacity": new pt(Ae["paint_fill-extrusion"]["fill-extrusion-opacity"]), "fill-extrusion-color": new Tt(Ae["paint_fill-extrusion"]["fill-extrusion-color"]), "fill-extrusion-translate": new pt(Ae["paint_fill-extrusion"]["fill-extrusion-translate"]), "fill-extrusion-translate-anchor": new pt(Ae["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]), "fill-extrusion-pattern": new po(Ae["paint_fill-extrusion"]["fill-extrusion-pattern"]), "fill-extrusion-height": new Tt(Ae["paint_fill-extrusion"]["fill-extrusion-height"]), "fill-extrusion-base": new Tt(Ae["paint_fill-extrusion"]["fill-extrusion-base"]), "fill-extrusion-vertical-gradient": new pt(Ae["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]) }) };
      function ic(l, r) {
        return l.x * r.x + l.y * r.y;
      }
      function Yy(l, r) {
        if (l.length === 1) {
          let d = 0;
          const m = r[d++];
          let f;
          for (; !f || m.equals(f); )
            if (f = r[d++], !f)
              return 1 / 0;
          for (; d < r.length; d++) {
            const v = r[d], w = l[0], E = f.sub(m), C = v.sub(m), P = w.sub(m), W = ic(E, E), B = ic(E, C), F = ic(C, C), U = ic(P, E), V = ic(P, C), ne = W * F - B * B, ae = (F * U - B * V) / ne, ge = (W * V - B * U) / ne, Te = m.z * (1 - ae - ge) + f.z * ae + v.z * ge;
            if (isFinite(Te))
              return Te;
          }
          return 1 / 0;
        }
        {
          let d = 1 / 0;
          for (const m of r)
            d = Math.min(d, m.z);
          return d;
        }
      }
      const $w = si([{ name: "a_pos_normal", components: 2, type: "Int16" }, { name: "a_data", components: 4, type: "Uint8" }], 4), { members: Zw } = $w, Hw = si([{ name: "a_uv_x", components: 1, type: "Float32" }, { name: "a_split_index", components: 1, type: "Float32" }]), { members: Xw } = Hw, Kw = yo.VectorTileFeature.types, Yw = Math.cos(Math.PI / 180 * 37.5), Qy = Math.pow(2, 14) / 0.5;
      class Zp {
        constructor(r) {
          this.zoom = r.zoom, this.overscaling = r.overscaling, this.layers = r.layers, this.layerIds = this.layers.map((d) => d.id), this.index = r.index, this.hasPattern = !1, this.patternFeatures = [], this.lineClipsArray = [], this.gradients = {}, this.layers.forEach((d) => {
            this.gradients[d.id] = {};
          }), this.layoutVertexArray = new ea(), this.layoutVertexArray2 = new ya(), this.indexArray = new hn(), this.programConfigurations = new wl(r.layers, r.zoom), this.segments = new jt(), this.maxLineLength = 0, this.stateDependentLayerIds = this.layers.filter((d) => d.isStateDependent()).map((d) => d.id);
        }
        populate(r, d, m) {
          this.hasPattern = Gp("line", this.layers, d);
          const f = this.layers[0].layout.get("line-sort-key"), v = !f.isConstant(), w = [];
          for (const { feature: E, id: C, index: P, sourceLayerIndex: W } of r) {
            const B = this.layers[0]._featureFilter.needGeometry, F = Tl(E, B);
            if (!this.layers[0]._featureFilter.filter(new Na(this.zoom), F, m))
              continue;
            const U = v ? f.evaluate(F, {}, m) : void 0, V = { id: C, properties: E.properties, type: E.type, sourceLayerIndex: W, index: P, geometry: B ? F.geometry : Sl(E), patterns: {}, sortKey: U };
            w.push(V);
          }
          v && w.sort((E, C) => E.sortKey - C.sortKey);
          for (const E of w) {
            const { geometry: C, index: P, sourceLayerIndex: W } = E;
            if (this.hasPattern) {
              const B = Up("line", this.layers, E, this.zoom, d);
              this.patternFeatures.push(B);
            } else
              this.addFeature(E, C, P, m, {});
            d.featureIndex.insert(r[P].feature, C, P, W, this.index);
          }
        }
        update(r, d, m) {
          this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(r, d, this.stateDependentLayers, m);
        }
        addFeatures(r, d, m) {
          for (const f of this.patternFeatures)
            this.addFeature(f, f.geometry, f.index, d, m);
        }
        isEmpty() {
          return this.layoutVertexArray.length === 0;
        }
        uploadPending() {
          return !this.uploaded || this.programConfigurations.needsUpload;
        }
        upload(r) {
          this.uploaded || (this.layoutVertexArray2.length !== 0 && (this.layoutVertexBuffer2 = r.createVertexBuffer(this.layoutVertexArray2, Xw)), this.layoutVertexBuffer = r.createVertexBuffer(this.layoutVertexArray, Zw), this.indexBuffer = r.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(r), this.uploaded = !0;
        }
        destroy() {
          this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy());
        }
        lineFeatureClips(r) {
          if (r.properties && Object.prototype.hasOwnProperty.call(r.properties, "mapbox_clip_start") && Object.prototype.hasOwnProperty.call(r.properties, "mapbox_clip_end"))
            return { start: +r.properties.mapbox_clip_start, end: +r.properties.mapbox_clip_end };
        }
        addFeature(r, d, m, f, v) {
          const w = this.layers[0].layout, E = w.get("line-join").evaluate(r, {}), C = w.get("line-cap"), P = w.get("line-miter-limit"), W = w.get("line-round-limit");
          this.lineClips = this.lineFeatureClips(r);
          for (const B of d)
            this.addLine(B, r, E, C, P, W);
          this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, r, m, v, f);
        }
        addLine(r, d, m, f, v, w) {
          if (this.distance = 0, this.scaledDistance = 0, this.totalDistance = 0, this.lineClips) {
            this.lineClipsArray.push(this.lineClips);
            for (let ge = 0; ge < r.length - 1; ge++)
              this.totalDistance += r[ge].dist(r[ge + 1]);
            this.updateScaledDistance(), this.maxLineLength = Math.max(this.maxLineLength, this.totalDistance);
          }
          const E = Kw[d.type] === "Polygon";
          let C = r.length;
          for (; C >= 2 && r[C - 1].equals(r[C - 2]); )
            C--;
          let P = 0;
          for (; P < C - 1 && r[P].equals(r[P + 1]); )
            P++;
          if (C < (E ? 3 : 2))
            return;
          m === "bevel" && (v = 1.05);
          const W = this.overscaling <= 16 ? 122880 / (512 * this.overscaling) : 0, B = this.segments.prepareSegment(10 * C, this.layoutVertexArray, this.indexArray);
          let F, U, V, ne, ae;
          this.e1 = this.e2 = -1, E && (F = r[C - 2], ae = r[P].sub(F)._unit()._perp());
          for (let ge = P; ge < C; ge++) {
            if (V = ge === C - 1 ? E ? r[P + 1] : void 0 : r[ge + 1], V && r[ge].equals(V))
              continue;
            ae && (ne = ae), F && (U = F), F = r[ge], ae = V ? V.sub(F)._unit()._perp() : ne, ne = ne || ae;
            let Te = ne.add(ae);
            Te.x === 0 && Te.y === 0 || Te._unit();
            const fe = ne.x * ae.x + ne.y * ae.y, xe = Te.x * ae.x + Te.y * ae.y, ze = xe !== 0 ? 1 / xe : 1 / 0, De = 2 * Math.sqrt(2 - 2 * xe), st = xe < Yw && U && V, _t = ne.x * ae.y - ne.y * ae.x > 0;
            if (st && ge > P) {
              const Xe = F.dist(U);
              if (Xe > 2 * W) {
                const tt = F.sub(F.sub(U)._mult(W / Xe)._round());
                this.updateDistance(U, tt), this.addCurrentVertex(tt, ne, 0, 0, B), U = tt;
              }
            }
            const et = U && V;
            let Ye = et ? m : E ? "butt" : f;
            if (et && Ye === "round" && (ze < w ? Ye = "miter" : ze <= 2 && (Ye = "fakeround")), Ye === "miter" && ze > v && (Ye = "bevel"), Ye === "bevel" && (ze > 2 && (Ye = "flipbevel"), ze < v && (Ye = "miter")), U && this.updateDistance(U, F), Ye === "miter")
              Te._mult(ze), this.addCurrentVertex(F, Te, 0, 0, B);
            else if (Ye === "flipbevel") {
              if (ze > 100)
                Te = ae.mult(-1);
              else {
                const Xe = ze * ne.add(ae).mag() / ne.sub(ae).mag();
                Te._perp()._mult(Xe * (_t ? -1 : 1));
              }
              this.addCurrentVertex(F, Te, 0, 0, B), this.addCurrentVertex(F, Te.mult(-1), 0, 0, B);
            } else if (Ye === "bevel" || Ye === "fakeround") {
              const Xe = -Math.sqrt(ze * ze - 1), tt = _t ? Xe : 0, Qe = _t ? 0 : Xe;
              if (U && this.addCurrentVertex(F, ne, tt, Qe, B), Ye === "fakeround") {
                const qe = Math.round(180 * De / Math.PI / 20);
                for (let wt = 1; wt < qe; wt++) {
                  let gt = wt / qe;
                  if (gt !== 0.5) {
                    const Oa = gt - 0.5;
                    gt += gt * Oa * (gt - 1) * ((1.0904 + fe * (fe * (3.55645 - 1.43519 * fe) - 3.2452)) * Oa * Oa + (0.848013 + fe * (0.215638 * fe - 1.06021)));
                  }
                  const Nt = ae.sub(ne)._mult(gt)._add(ne)._unit()._mult(_t ? -1 : 1);
                  this.addHalfVertex(F, Nt.x, Nt.y, !1, _t, 0, B);
                }
              }
              V && this.addCurrentVertex(F, ae, -tt, -Qe, B);
            } else if (Ye === "butt")
              this.addCurrentVertex(F, Te, 0, 0, B);
            else if (Ye === "square") {
              const Xe = U ? 1 : -1;
              this.addCurrentVertex(F, Te, Xe, Xe, B);
            } else
              Ye === "round" && (U && (this.addCurrentVertex(F, ne, 0, 0, B), this.addCurrentVertex(F, ne, 1, 1, B, !0)), V && (this.addCurrentVertex(F, ae, -1, -1, B, !0), this.addCurrentVertex(F, ae, 0, 0, B)));
            if (st && ge < C - 1) {
              const Xe = F.dist(V);
              if (Xe > 2 * W) {
                const tt = F.add(V.sub(F)._mult(W / Xe)._round());
                this.updateDistance(F, tt), this.addCurrentVertex(tt, ae, 0, 0, B), F = tt;
              }
            }
          }
        }
        addCurrentVertex(r, d, m, f, v, w = !1) {
          const E = d.y * f - d.x, C = -d.y - d.x * f;
          this.addHalfVertex(r, d.x + d.y * m, d.y - d.x * m, w, !1, m, v), this.addHalfVertex(r, E, C, w, !0, -f, v), this.distance > Qy / 2 && this.totalDistance === 0 && (this.distance = 0, this.addCurrentVertex(r, d, m, f, v, w));
        }
        addHalfVertex({ x: r, y: d }, m, f, v, w, E, C) {
          const P = 0.5 * (this.lineClips ? this.scaledDistance * (Qy - 1) : this.scaledDistance);
          this.layoutVertexArray.emplaceBack((r << 1) + (v ? 1 : 0), (d << 1) + (w ? 1 : 0), Math.round(63 * m) + 128, Math.round(63 * f) + 128, 1 + (E === 0 ? 0 : E < 0 ? -1 : 1) | (63 & P) << 2, P >> 6), this.lineClips && this.layoutVertexArray2.emplaceBack((this.scaledDistance - this.lineClips.start) / (this.lineClips.end - this.lineClips.start), this.lineClipsArray.length);
          const W = C.vertexLength++;
          this.e1 >= 0 && this.e2 >= 0 && (this.indexArray.emplaceBack(this.e1, this.e2, W), C.primitiveLength++), w ? this.e2 = W : this.e1 = W;
        }
        updateScaledDistance() {
          this.scaledDistance = this.lineClips ? this.lineClips.start + (this.lineClips.end - this.lineClips.start) * this.distance / this.totalDistance : this.distance;
        }
        updateDistance(r, d) {
          this.distance += r.dist(d), this.updateScaledDistance();
        }
      }
      lt("LineBucket", Zp, { omit: ["layers", "patternFeatures"] });
      const Qw = new Bi({ "line-cap": new pt(Ae.layout_line["line-cap"]), "line-join": new Tt(Ae.layout_line["line-join"]), "line-miter-limit": new pt(Ae.layout_line["line-miter-limit"]), "line-round-limit": new pt(Ae.layout_line["line-round-limit"]), "line-sort-key": new Tt(Ae.layout_line["line-sort-key"]) });
      var Jy = { paint: new Bi({ "line-opacity": new Tt(Ae.paint_line["line-opacity"]), "line-color": new Tt(Ae.paint_line["line-color"]), "line-translate": new pt(Ae.paint_line["line-translate"]), "line-translate-anchor": new pt(Ae.paint_line["line-translate-anchor"]), "line-width": new Tt(Ae.paint_line["line-width"]), "line-gap-width": new Tt(Ae.paint_line["line-gap-width"]), "line-offset": new Tt(Ae.paint_line["line-offset"]), "line-blur": new Tt(Ae.paint_line["line-blur"]), "line-dasharray": new jd(Ae.paint_line["line-dasharray"]), "line-pattern": new po(Ae.paint_line["line-pattern"]), "line-gradient": new ns(Ae.paint_line["line-gradient"]) }), layout: Qw };
      const e0 = new class extends Tt {
        possiblyEvaluate(l, r) {
          return r = new Na(Math.floor(r.zoom), { now: r.now, fadeDuration: r.fadeDuration, zoomHistory: r.zoomHistory, transition: r.transition }), super.possiblyEvaluate(l, r);
        }
        evaluate(l, r, d, m) {
          return r = D({}, r, { zoom: Math.floor(r.zoom) }), super.evaluate(l, r, d, m);
        }
      }(Jy.paint.properties["line-width"].specification);
      function t0(l, r) {
        return r > 0 ? r + 2 * l : l;
      }
      e0.useIntegerZoom = !0;
      const Jw = si([{ name: "a_pos_offset", components: 4, type: "Int16" }, { name: "a_data", components: 4, type: "Uint16" }, { name: "a_pixeloffset", components: 4, type: "Int16" }], 4), e4 = si([{ name: "a_projected_pos", components: 3, type: "Float32" }], 4);
      si([{ name: "a_fade_opacity", components: 1, type: "Uint32" }], 4);
      const t4 = si([{ name: "a_placed", components: 2, type: "Uint8" }, { name: "a_shift", components: 2, type: "Float32" }]);
      si([{ type: "Int16", name: "anchorPointX" }, { type: "Int16", name: "anchorPointY" }, { type: "Int16", name: "x1" }, { type: "Int16", name: "y1" }, { type: "Int16", name: "x2" }, { type: "Int16", name: "y2" }, { type: "Uint32", name: "featureIndex" }, { type: "Uint16", name: "sourceLayerIndex" }, { type: "Uint16", name: "bucketIndex" }]);
      const a0 = si([{ name: "a_pos", components: 2, type: "Int16" }, { name: "a_anchor_pos", components: 2, type: "Int16" }, { name: "a_extrude", components: 2, type: "Int16" }], 4), a4 = si([{ name: "a_pos", components: 2, type: "Float32" }, { name: "a_radius", components: 1, type: "Float32" }, { name: "a_flags", components: 2, type: "Int16" }], 4);
      function i4(l, r, d) {
        return l.sections.forEach((m) => {
          m.text = function(f, v, w) {
            const E = v.layout.get("text-transform").evaluate(w, {});
            return E === "uppercase" ? f = f.toLocaleUpperCase() : E === "lowercase" && (f = f.toLocaleLowerCase()), jn.applyArabicShaping && (f = jn.applyArabicShaping(f)), f;
          }(m.text, r, d);
        }), l;
      }
      si([{ name: "triangle", components: 3, type: "Uint16" }]), si([{ type: "Int16", name: "anchorX" }, { type: "Int16", name: "anchorY" }, { type: "Uint16", name: "glyphStartIndex" }, { type: "Uint16", name: "numGlyphs" }, { type: "Uint32", name: "vertexStartIndex" }, { type: "Uint32", name: "lineStartIndex" }, { type: "Uint32", name: "lineLength" }, { type: "Uint16", name: "segment" }, { type: "Uint16", name: "lowerSize" }, { type: "Uint16", name: "upperSize" }, { type: "Float32", name: "lineOffsetX" }, { type: "Float32", name: "lineOffsetY" }, { type: "Uint8", name: "writingMode" }, { type: "Uint8", name: "placedOrientation" }, { type: "Uint8", name: "hidden" }, { type: "Uint32", name: "crossTileID" }, { type: "Int16", name: "associatedIconIndex" }]), si([{ type: "Int16", name: "anchorX" }, { type: "Int16", name: "anchorY" }, { type: "Int16", name: "rightJustifiedTextSymbolIndex" }, { type: "Int16", name: "centerJustifiedTextSymbolIndex" }, { type: "Int16", name: "leftJustifiedTextSymbolIndex" }, { type: "Int16", name: "verticalPlacedTextSymbolIndex" }, { type: "Int16", name: "placedIconSymbolIndex" }, { type: "Int16", name: "verticalPlacedIconSymbolIndex" }, { type: "Uint16", name: "key" }, { type: "Uint16", name: "textBoxStartIndex" }, { type: "Uint16", name: "textBoxEndIndex" }, { type: "Uint16", name: "verticalTextBoxStartIndex" }, { type: "Uint16", name: "verticalTextBoxEndIndex" }, { type: "Uint16", name: "iconBoxStartIndex" }, { type: "Uint16", name: "iconBoxEndIndex" }, { type: "Uint16", name: "verticalIconBoxStartIndex" }, { type: "Uint16", name: "verticalIconBoxEndIndex" }, { type: "Uint16", name: "featureIndex" }, { type: "Uint16", name: "numHorizontalGlyphVertices" }, { type: "Uint16", name: "numVerticalGlyphVertices" }, { type: "Uint16", name: "numIconVertices" }, { type: "Uint16", name: "numVerticalIconVertices" }, { type: "Uint16", name: "useRuntimeCollisionCircles" }, { type: "Uint32", name: "crossTileID" }, { type: "Float32", name: "textBoxScale" }, { type: "Float32", components: 2, name: "textOffset" }, { type: "Float32", name: "collisionCircleDiameter" }]), si([{ type: "Float32", name: "offsetX" }]), si([{ type: "Int16", name: "x" }, { type: "Int16", name: "y" }, { type: "Int16", name: "tileUnitDistanceFromAnchor" }]);
      const nc = { "!": "Ô∏ï", "#": "ÔºÉ", $: "ÔºÑ", "%": "ÔºÖ", "&": "ÔºÜ", "(": "Ô∏µ", ")": "Ô∏∂", "*": "Ôºä", "+": "Ôºã", ",": "Ô∏ê", "-": "Ô∏≤", ".": "„Éª", "/": "Ôºè", ":": "Ô∏ì", ";": "Ô∏î", "<": "Ô∏ø", "=": "Ôºù", ">": "ÔπÄ", "?": "Ô∏ñ", "@": "Ôº†", "[": "Ôπá", "\\": "Ôºº", "]": "Ôπà", "^": "Ôºæ", _: "Ô∏≥", "`": "ÔΩÄ", "{": "Ô∏∑", "|": "‚Äï", "}": "Ô∏∏", "~": "ÔΩû", "¬¢": "Ôø†", "¬£": "Ôø°", "¬•": "Ôø•", "¬¶": "Ôø§", "¬¨": "Ôø¢", "¬Ø": "Ôø£", "‚Äì": "Ô∏≤", "‚Äî": "Ô∏±", "‚Äò": "ÔπÉ", "‚Äô": "ÔπÑ", "‚Äú": "ÔπÅ", "‚Äù": "ÔπÇ", "‚Ä¶": "Ô∏ô", "‚Äß": "„Éª", "‚Ç©": "Ôø¶", "„ÄÅ": "Ô∏ë", "„ÄÇ": "Ô∏í", "„Äà": "Ô∏ø", "„Äâ": "ÔπÄ", "„Ää": "Ô∏Ω", "„Äã": "Ô∏æ", "„Äå": "ÔπÅ", "„Äç": "ÔπÇ", "„Äé": "ÔπÉ", "„Äè": "ÔπÑ", "„Äê": "Ô∏ª", "„Äë": "Ô∏º", "„Äî": "Ô∏π", "„Äï": "Ô∏∫", "„Äñ": "Ô∏ó", "„Äó": "Ô∏ò", "ÔºÅ": "Ô∏ï", "Ôºà": "Ô∏µ", "Ôºâ": "Ô∏∂", "Ôºå": "Ô∏ê", "Ôºç": "Ô∏≤", "Ôºé": "„Éª", "Ôºö": "Ô∏ì", "Ôºõ": "Ô∏î", "Ôºú": "Ô∏ø", "Ôºû": "ÔπÄ", "Ôºü": "Ô∏ñ", "Ôºª": "Ôπá", "ÔºΩ": "Ôπà", "Ôºø": "Ô∏≥", "ÔΩõ": "Ô∏∑", "ÔΩú": "‚Äï", "ÔΩù": "Ô∏∏", "ÔΩü": "Ô∏µ", "ÔΩ†": "Ô∏∂", "ÔΩ°": "Ô∏í", "ÔΩ¢": "ÔπÅ", "ÔΩ£": "ÔπÇ" };
      var Ni = 24, Hp = ba, i0 = function(l, r, d, m, f) {
        var v, w, E = 8 * f - m - 1, C = (1 << E) - 1, P = C >> 1, W = -7, B = d ? f - 1 : 0, F = d ? -1 : 1, U = l[r + B];
        for (B += F, v = U & (1 << -W) - 1, U >>= -W, W += E; W > 0; v = 256 * v + l[r + B], B += F, W -= 8)
          ;
        for (w = v & (1 << -W) - 1, v >>= -W, W += m; W > 0; w = 256 * w + l[r + B], B += F, W -= 8)
          ;
        if (v === 0)
          v = 1 - P;
        else {
          if (v === C)
            return w ? NaN : 1 / 0 * (U ? -1 : 1);
          w += Math.pow(2, m), v -= P;
        }
        return (U ? -1 : 1) * w * Math.pow(2, v - m);
      }, n0 = function(l, r, d, m, f, v) {
        var w, E, C, P = 8 * v - f - 1, W = (1 << P) - 1, B = W >> 1, F = f === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, U = m ? 0 : v - 1, V = m ? 1 : -1, ne = r < 0 || r === 0 && 1 / r < 0 ? 1 : 0;
        for (r = Math.abs(r), isNaN(r) || r === 1 / 0 ? (E = isNaN(r) ? 1 : 0, w = W) : (w = Math.floor(Math.log(r) / Math.LN2), r * (C = Math.pow(2, -w)) < 1 && (w--, C *= 2), (r += w + B >= 1 ? F / C : F * Math.pow(2, 1 - B)) * C >= 2 && (w++, C /= 2), w + B >= W ? (E = 0, w = W) : w + B >= 1 ? (E = (r * C - 1) * Math.pow(2, f), w += B) : (E = r * Math.pow(2, B - 1) * Math.pow(2, f), w = 0)); f >= 8; l[d + U] = 255 & E, U += V, E /= 256, f -= 8)
          ;
        for (w = w << f | E, P += f; P > 0; l[d + U] = 255 & w, U += V, w /= 256, P -= 8)
          ;
        l[d + U - V] |= 128 * ne;
      };
      function ba(l) {
        this.buf = ArrayBuffer.isView && ArrayBuffer.isView(l) ? l : new Uint8Array(l || 0), this.pos = 0, this.type = 0, this.length = this.buf.length;
      }
      ba.Varint = 0, ba.Fixed64 = 1, ba.Bytes = 2, ba.Fixed32 = 5;
      var vo, Xp = 4294967296, r0 = 1 / Xp, s0 = typeof TextDecoder > "u" ? null : new TextDecoder("utf8");
      function Ds(l) {
        return l.type === ba.Bytes ? l.readVarint() + l.pos : l.pos + 1;
      }
      function Tu(l, r, d) {
        return d ? 4294967296 * r + (l >>> 0) : 4294967296 * (r >>> 0) + (l >>> 0);
      }
      function o0(l, r, d) {
        var m = r <= 16383 ? 1 : r <= 2097151 ? 2 : r <= 268435455 ? 3 : Math.floor(Math.log(r) / (7 * Math.LN2));
        d.realloc(m);
        for (var f = d.pos - 1; f >= l; f--)
          d.buf[f + m] = d.buf[f];
      }
      function n4(l, r) {
        for (var d = 0; d < l.length; d++)
          r.writeVarint(l[d]);
      }
      function r4(l, r) {
        for (var d = 0; d < l.length; d++)
          r.writeSVarint(l[d]);
      }
      function s4(l, r) {
        for (var d = 0; d < l.length; d++)
          r.writeFloat(l[d]);
      }
      function o4(l, r) {
        for (var d = 0; d < l.length; d++)
          r.writeDouble(l[d]);
      }
      function l4(l, r) {
        for (var d = 0; d < l.length; d++)
          r.writeBoolean(l[d]);
      }
      function u4(l, r) {
        for (var d = 0; d < l.length; d++)
          r.writeFixed32(l[d]);
      }
      function d4(l, r) {
        for (var d = 0; d < l.length; d++)
          r.writeSFixed32(l[d]);
      }
      function c4(l, r) {
        for (var d = 0; d < l.length; d++)
          r.writeFixed64(l[d]);
      }
      function _4(l, r) {
        for (var d = 0; d < l.length; d++)
          r.writeSFixed64(l[d]);
      }
      function om(l, r) {
        return (l[r] | l[r + 1] << 8 | l[r + 2] << 16) + 16777216 * l[r + 3];
      }
      function Mu(l, r, d) {
        l[d] = r, l[d + 1] = r >>> 8, l[d + 2] = r >>> 16, l[d + 3] = r >>> 24;
      }
      function l0(l, r) {
        return (l[r] | l[r + 1] << 8 | l[r + 2] << 16) + (l[r + 3] << 24);
      }
      function m4(l, r, d) {
        l === 1 && d.readMessage(h4, r);
      }
      function h4(l, r, d) {
        if (l === 3) {
          const { id: m, bitmap: f, width: v, height: w, left: E, top: C, advance: P } = d.readMessage(p4, {});
          r.push({ id: m, bitmap: new Yd({ width: v + 6, height: w + 6 }, f), metrics: { width: v, height: w, left: E, top: C, advance: P } });
        }
      }
      function p4(l, r, d) {
        l === 1 ? r.id = d.readVarint() : l === 2 ? r.bitmap = d.readBytes() : l === 3 ? r.width = d.readVarint() : l === 4 ? r.height = d.readVarint() : l === 5 ? r.left = d.readSVarint() : l === 6 ? r.top = d.readSVarint() : l === 7 && (r.advance = d.readVarint());
      }
      function u0(l) {
        let r = 0, d = 0;
        for (const w of l)
          r += w.w * w.h, d = Math.max(d, w.w);
        l.sort((w, E) => E.h - w.h);
        const m = [{ x: 0, y: 0, w: Math.max(Math.ceil(Math.sqrt(r / 0.95)), d), h: 1 / 0 }];
        let f = 0, v = 0;
        for (const w of l)
          for (let E = m.length - 1; E >= 0; E--) {
            const C = m[E];
            if (!(w.w > C.w || w.h > C.h)) {
              if (w.x = C.x, w.y = C.y, v = Math.max(v, w.y + w.h), f = Math.max(f, w.x + w.w), w.w === C.w && w.h === C.h) {
                const P = m.pop();
                E < m.length && (m[E] = P);
              } else
                w.h === C.h ? (C.x += w.w, C.w -= w.w) : w.w === C.w ? (C.y += w.h, C.h -= w.h) : (m.push({ x: C.x + w.w, y: C.y, w: C.w - w.w, h: w.h }), C.y += w.h, C.h -= w.h);
              break;
            }
          }
        return { w: f, h: v, fill: r / (f * v) || 0 };
      }
      ba.prototype = { destroy: function() {
        this.buf = null;
      }, readFields: function(l, r, d) {
        for (d = d || this.length; this.pos < d; ) {
          var m = this.readVarint(), f = m >> 3, v = this.pos;
          this.type = 7 & m, l(f, r, this), this.pos === v && this.skip(m);
        }
        return r;
      }, readMessage: function(l, r) {
        return this.readFields(l, r, this.readVarint() + this.pos);
      }, readFixed32: function() {
        var l = om(this.buf, this.pos);
        return this.pos += 4, l;
      }, readSFixed32: function() {
        var l = l0(this.buf, this.pos);
        return this.pos += 4, l;
      }, readFixed64: function() {
        var l = om(this.buf, this.pos) + om(this.buf, this.pos + 4) * Xp;
        return this.pos += 8, l;
      }, readSFixed64: function() {
        var l = om(this.buf, this.pos) + l0(this.buf, this.pos + 4) * Xp;
        return this.pos += 8, l;
      }, readFloat: function() {
        var l = i0(this.buf, this.pos, !0, 23, 4);
        return this.pos += 4, l;
      }, readDouble: function() {
        var l = i0(this.buf, this.pos, !0, 52, 8);
        return this.pos += 8, l;
      }, readVarint: function(l) {
        var r, d, m = this.buf;
        return r = 127 & (d = m[this.pos++]), d < 128 ? r : (r |= (127 & (d = m[this.pos++])) << 7, d < 128 ? r : (r |= (127 & (d = m[this.pos++])) << 14, d < 128 ? r : (r |= (127 & (d = m[this.pos++])) << 21, d < 128 ? r : function(f, v, w) {
          var E, C, P = w.buf;
          if (E = (112 & (C = P[w.pos++])) >> 4, C < 128 || (E |= (127 & (C = P[w.pos++])) << 3, C < 128) || (E |= (127 & (C = P[w.pos++])) << 10, C < 128) || (E |= (127 & (C = P[w.pos++])) << 17, C < 128) || (E |= (127 & (C = P[w.pos++])) << 24, C < 128) || (E |= (1 & (C = P[w.pos++])) << 31, C < 128))
            return Tu(f, E, v);
          throw new Error("Expected varint not more than 10 bytes");
        }(r |= (15 & (d = m[this.pos])) << 28, l, this))));
      }, readVarint64: function() {
        return this.readVarint(!0);
      }, readSVarint: function() {
        var l = this.readVarint();
        return l % 2 == 1 ? (l + 1) / -2 : l / 2;
      }, readBoolean: function() {
        return !!this.readVarint();
      }, readString: function() {
        var l = this.readVarint() + this.pos, r = this.pos;
        return this.pos = l, l - r >= 12 && s0 ? function(d, m, f) {
          return s0.decode(d.subarray(m, f));
        }(this.buf, r, l) : function(d, m, f) {
          for (var v = "", w = m; w < f; ) {
            var E, C, P, W = d[w], B = null, F = W > 239 ? 4 : W > 223 ? 3 : W > 191 ? 2 : 1;
            if (w + F > f)
              break;
            F === 1 ? W < 128 && (B = W) : F === 2 ? (192 & (E = d[w + 1])) == 128 && (B = (31 & W) << 6 | 63 & E) <= 127 && (B = null) : F === 3 ? (C = d[w + 2], (192 & (E = d[w + 1])) == 128 && (192 & C) == 128 && ((B = (15 & W) << 12 | (63 & E) << 6 | 63 & C) <= 2047 || B >= 55296 && B <= 57343) && (B = null)) : F === 4 && (C = d[w + 2], P = d[w + 3], (192 & (E = d[w + 1])) == 128 && (192 & C) == 128 && (192 & P) == 128 && ((B = (15 & W) << 18 | (63 & E) << 12 | (63 & C) << 6 | 63 & P) <= 65535 || B >= 1114112) && (B = null)), B === null ? (B = 65533, F = 1) : B > 65535 && (B -= 65536, v += String.fromCharCode(B >>> 10 & 1023 | 55296), B = 56320 | 1023 & B), v += String.fromCharCode(B), w += F;
          }
          return v;
        }(this.buf, r, l);
      }, readBytes: function() {
        var l = this.readVarint() + this.pos, r = this.buf.subarray(this.pos, l);
        return this.pos = l, r;
      }, readPackedVarint: function(l, r) {
        if (this.type !== ba.Bytes)
          return l.push(this.readVarint(r));
        var d = Ds(this);
        for (l = l || []; this.pos < d; )
          l.push(this.readVarint(r));
        return l;
      }, readPackedSVarint: function(l) {
        if (this.type !== ba.Bytes)
          return l.push(this.readSVarint());
        var r = Ds(this);
        for (l = l || []; this.pos < r; )
          l.push(this.readSVarint());
        return l;
      }, readPackedBoolean: function(l) {
        if (this.type !== ba.Bytes)
          return l.push(this.readBoolean());
        var r = Ds(this);
        for (l = l || []; this.pos < r; )
          l.push(this.readBoolean());
        return l;
      }, readPackedFloat: function(l) {
        if (this.type !== ba.Bytes)
          return l.push(this.readFloat());
        var r = Ds(this);
        for (l = l || []; this.pos < r; )
          l.push(this.readFloat());
        return l;
      }, readPackedDouble: function(l) {
        if (this.type !== ba.Bytes)
          return l.push(this.readDouble());
        var r = Ds(this);
        for (l = l || []; this.pos < r; )
          l.push(this.readDouble());
        return l;
      }, readPackedFixed32: function(l) {
        if (this.type !== ba.Bytes)
          return l.push(this.readFixed32());
        var r = Ds(this);
        for (l = l || []; this.pos < r; )
          l.push(this.readFixed32());
        return l;
      }, readPackedSFixed32: function(l) {
        if (this.type !== ba.Bytes)
          return l.push(this.readSFixed32());
        var r = Ds(this);
        for (l = l || []; this.pos < r; )
          l.push(this.readSFixed32());
        return l;
      }, readPackedFixed64: function(l) {
        if (this.type !== ba.Bytes)
          return l.push(this.readFixed64());
        var r = Ds(this);
        for (l = l || []; this.pos < r; )
          l.push(this.readFixed64());
        return l;
      }, readPackedSFixed64: function(l) {
        if (this.type !== ba.Bytes)
          return l.push(this.readSFixed64());
        var r = Ds(this);
        for (l = l || []; this.pos < r; )
          l.push(this.readSFixed64());
        return l;
      }, skip: function(l) {
        var r = 7 & l;
        if (r === ba.Varint)
          for (; this.buf[this.pos++] > 127; )
            ;
        else if (r === ba.Bytes)
          this.pos = this.readVarint() + this.pos;
        else if (r === ba.Fixed32)
          this.pos += 4;
        else {
          if (r !== ba.Fixed64)
            throw new Error("Unimplemented type: " + r);
          this.pos += 8;
        }
      }, writeTag: function(l, r) {
        this.writeVarint(l << 3 | r);
      }, realloc: function(l) {
        for (var r = this.length || 16; r < this.pos + l; )
          r *= 2;
        if (r !== this.length) {
          var d = new Uint8Array(r);
          d.set(this.buf), this.buf = d, this.length = r;
        }
      }, finish: function() {
        return this.length = this.pos, this.pos = 0, this.buf.subarray(0, this.length);
      }, writeFixed32: function(l) {
        this.realloc(4), Mu(this.buf, l, this.pos), this.pos += 4;
      }, writeSFixed32: function(l) {
        this.realloc(4), Mu(this.buf, l, this.pos), this.pos += 4;
      }, writeFixed64: function(l) {
        this.realloc(8), Mu(this.buf, -1 & l, this.pos), Mu(this.buf, Math.floor(l * r0), this.pos + 4), this.pos += 8;
      }, writeSFixed64: function(l) {
        this.realloc(8), Mu(this.buf, -1 & l, this.pos), Mu(this.buf, Math.floor(l * r0), this.pos + 4), this.pos += 8;
      }, writeVarint: function(l) {
        (l = +l || 0) > 268435455 || l < 0 ? function(r, d) {
          var m, f;
          if (r >= 0 ? (m = r % 4294967296 | 0, f = r / 4294967296 | 0) : (f = ~(-r / 4294967296), 4294967295 ^ (m = ~(-r % 4294967296)) ? m = m + 1 | 0 : (m = 0, f = f + 1 | 0)), r >= 18446744073709552e3 || r < -18446744073709552e3)
            throw new Error("Given varint doesn't fit into 10 bytes");
          d.realloc(10), function(v, w, E) {
            E.buf[E.pos++] = 127 & v | 128, v >>>= 7, E.buf[E.pos++] = 127 & v | 128, v >>>= 7, E.buf[E.pos++] = 127 & v | 128, v >>>= 7, E.buf[E.pos++] = 127 & v | 128, E.buf[E.pos] = 127 & (v >>>= 7);
          }(m, 0, d), function(v, w) {
            var E = (7 & v) << 4;
            w.buf[w.pos++] |= E | ((v >>>= 3) ? 128 : 0), v && (w.buf[w.pos++] = 127 & v | ((v >>>= 7) ? 128 : 0), v && (w.buf[w.pos++] = 127 & v | ((v >>>= 7) ? 128 : 0), v && (w.buf[w.pos++] = 127 & v | ((v >>>= 7) ? 128 : 0), v && (w.buf[w.pos++] = 127 & v | ((v >>>= 7) ? 128 : 0), v && (w.buf[w.pos++] = 127 & v)))));
          }(f, d);
        }(l, this) : (this.realloc(4), this.buf[this.pos++] = 127 & l | (l > 127 ? 128 : 0), l <= 127 || (this.buf[this.pos++] = 127 & (l >>>= 7) | (l > 127 ? 128 : 0), l <= 127 || (this.buf[this.pos++] = 127 & (l >>>= 7) | (l > 127 ? 128 : 0), l <= 127 || (this.buf[this.pos++] = l >>> 7 & 127))));
      }, writeSVarint: function(l) {
        this.writeVarint(l < 0 ? 2 * -l - 1 : 2 * l);
      }, writeBoolean: function(l) {
        this.writeVarint(!!l);
      }, writeString: function(l) {
        l = String(l), this.realloc(4 * l.length), this.pos++;
        var r = this.pos;
        this.pos = function(m, f, v) {
          for (var w, E, C = 0; C < f.length; C++) {
            if ((w = f.charCodeAt(C)) > 55295 && w < 57344) {
              if (!E) {
                w > 56319 || C + 1 === f.length ? (m[v++] = 239, m[v++] = 191, m[v++] = 189) : E = w;
                continue;
              }
              if (w < 56320) {
                m[v++] = 239, m[v++] = 191, m[v++] = 189, E = w;
                continue;
              }
              w = E - 55296 << 10 | w - 56320 | 65536, E = null;
            } else
              E && (m[v++] = 239, m[v++] = 191, m[v++] = 189, E = null);
            w < 128 ? m[v++] = w : (w < 2048 ? m[v++] = w >> 6 | 192 : (w < 65536 ? m[v++] = w >> 12 | 224 : (m[v++] = w >> 18 | 240, m[v++] = w >> 12 & 63 | 128), m[v++] = w >> 6 & 63 | 128), m[v++] = 63 & w | 128);
          }
          return v;
        }(this.buf, l, this.pos);
        var d = this.pos - r;
        d >= 128 && o0(r, d, this), this.pos = r - 1, this.writeVarint(d), this.pos += d;
      }, writeFloat: function(l) {
        this.realloc(4), n0(this.buf, l, this.pos, !0, 23, 4), this.pos += 4;
      }, writeDouble: function(l) {
        this.realloc(8), n0(this.buf, l, this.pos, !0, 52, 8), this.pos += 8;
      }, writeBytes: function(l) {
        var r = l.length;
        this.writeVarint(r), this.realloc(r);
        for (var d = 0; d < r; d++)
          this.buf[this.pos++] = l[d];
      }, writeRawMessage: function(l, r) {
        this.pos++;
        var d = this.pos;
        l(r, this);
        var m = this.pos - d;
        m >= 128 && o0(d, m, this), this.pos = d - 1, this.writeVarint(m), this.pos += m;
      }, writeMessage: function(l, r, d) {
        this.writeTag(l, ba.Bytes), this.writeRawMessage(r, d);
      }, writePackedVarint: function(l, r) {
        r.length && this.writeMessage(l, n4, r);
      }, writePackedSVarint: function(l, r) {
        r.length && this.writeMessage(l, r4, r);
      }, writePackedBoolean: function(l, r) {
        r.length && this.writeMessage(l, l4, r);
      }, writePackedFloat: function(l, r) {
        r.length && this.writeMessage(l, s4, r);
      }, writePackedDouble: function(l, r) {
        r.length && this.writeMessage(l, o4, r);
      }, writePackedFixed32: function(l, r) {
        r.length && this.writeMessage(l, u4, r);
      }, writePackedSFixed32: function(l, r) {
        r.length && this.writeMessage(l, d4, r);
      }, writePackedFixed64: function(l, r) {
        r.length && this.writeMessage(l, c4, r);
      }, writePackedSFixed64: function(l, r) {
        r.length && this.writeMessage(l, _4, r);
      }, writeBytesField: function(l, r) {
        this.writeTag(l, ba.Bytes), this.writeBytes(r);
      }, writeFixed32Field: function(l, r) {
        this.writeTag(l, ba.Fixed32), this.writeFixed32(r);
      }, writeSFixed32Field: function(l, r) {
        this.writeTag(l, ba.Fixed32), this.writeSFixed32(r);
      }, writeFixed64Field: function(l, r) {
        this.writeTag(l, ba.Fixed64), this.writeFixed64(r);
      }, writeSFixed64Field: function(l, r) {
        this.writeTag(l, ba.Fixed64), this.writeSFixed64(r);
      }, writeVarintField: function(l, r) {
        this.writeTag(l, ba.Varint), this.writeVarint(r);
      }, writeSVarintField: function(l, r) {
        this.writeTag(l, ba.Varint), this.writeSVarint(r);
      }, writeStringField: function(l, r) {
        this.writeTag(l, ba.Bytes), this.writeString(r);
      }, writeFloatField: function(l, r) {
        this.writeTag(l, ba.Fixed32), this.writeFloat(r);
      }, writeDoubleField: function(l, r) {
        this.writeTag(l, ba.Fixed64), this.writeDouble(r);
      }, writeBooleanField: function(l, r) {
        this.writeVarintField(l, !!r);
      } };
      class Kp {
        constructor(r, { pixelRatio: d, version: m, stretchX: f, stretchY: v, content: w }) {
          this.paddedRect = r, this.pixelRatio = d, this.stretchX = f, this.stretchY = v, this.content = w, this.version = m;
        }
        get tl() {
          return [this.paddedRect.x + 1, this.paddedRect.y + 1];
        }
        get br() {
          return [this.paddedRect.x + this.paddedRect.w - 1, this.paddedRect.y + this.paddedRect.h - 1];
        }
        get tlbr() {
          return this.tl.concat(this.br);
        }
        get displaySize() {
          return [(this.paddedRect.w - 2) / this.pixelRatio, (this.paddedRect.h - 2) / this.pixelRatio];
        }
      }
      class d0 {
        constructor(r, d) {
          const m = {}, f = {};
          this.haveRenderCallbacks = [];
          const v = [];
          this.addImages(r, m, v), this.addImages(d, f, v);
          const { w, h: E } = u0(v), C = new ur({ width: w || 1, height: E || 1 });
          for (const P in r) {
            const W = r[P], B = m[P].paddedRect;
            ur.copy(W.data, C, { x: 0, y: 0 }, { x: B.x + 1, y: B.y + 1 }, W.data);
          }
          for (const P in d) {
            const W = d[P], B = f[P].paddedRect, F = B.x + 1, U = B.y + 1, V = W.data.width, ne = W.data.height;
            ur.copy(W.data, C, { x: 0, y: 0 }, { x: F, y: U }, W.data), ur.copy(W.data, C, { x: 0, y: ne - 1 }, { x: F, y: U - 1 }, { width: V, height: 1 }), ur.copy(W.data, C, { x: 0, y: 0 }, { x: F, y: U + ne }, { width: V, height: 1 }), ur.copy(W.data, C, { x: V - 1, y: 0 }, { x: F - 1, y: U }, { width: 1, height: ne }), ur.copy(W.data, C, { x: 0, y: 0 }, { x: F + V, y: U }, { width: 1, height: ne });
          }
          this.image = C, this.iconPositions = m, this.patternPositions = f;
        }
        addImages(r, d, m) {
          for (const f in r) {
            const v = r[f], w = { x: 0, y: 0, w: v.data.width + 2, h: v.data.height + 2 };
            m.push(w), d[f] = new Kp(w, v), v.hasRenderCallback && this.haveRenderCallbacks.push(f);
          }
        }
        patchUpdatedImages(r, d) {
          r.dispatchRenderCallbacks(this.haveRenderCallbacks);
          for (const m in r.updatedImages)
            this.patchUpdatedImage(this.iconPositions[m], r.getImage(m), d), this.patchUpdatedImage(this.patternPositions[m], r.getImage(m), d);
        }
        patchUpdatedImage(r, d, m) {
          if (!r || !d || r.version === d.version)
            return;
          r.version = d.version;
          const [f, v] = r.tl;
          m.update(d.data, void 0, { x: f, y: v });
        }
      }
      lt("ImagePosition", Kp), lt("ImageAtlas", d0), o.WritingMode = void 0, (vo = o.WritingMode || (o.WritingMode = {}))[vo.none = 0] = "none", vo[vo.horizontal = 1] = "horizontal", vo[vo.vertical = 2] = "vertical", vo[vo.horizontalOnly = 3] = "horizontalOnly";
      const lm = -17;
      class rc {
        constructor() {
          this.scale = 1, this.fontStack = "", this.imageName = null;
        }
        static forText(r, d) {
          const m = new rc();
          return m.scale = r || 1, m.fontStack = d, m;
        }
        static forImage(r) {
          const d = new rc();
          return d.imageName = r, d;
        }
      }
      class Eu {
        constructor() {
          this.text = "", this.sectionIndex = [], this.sections = [], this.imageSectionID = null;
        }
        static fromFeature(r, d) {
          const m = new Eu();
          for (let f = 0; f < r.sections.length; f++) {
            const v = r.sections[f];
            v.image ? m.addImageSection(v) : m.addTextSection(v, d);
          }
          return m;
        }
        length() {
          return this.text.length;
        }
        getSection(r) {
          return this.sections[this.sectionIndex[r]];
        }
        getSectionIndex(r) {
          return this.sectionIndex[r];
        }
        getCharCode(r) {
          return this.text.charCodeAt(r);
        }
        verticalizePunctuation() {
          this.text = function(r) {
            let d = "";
            for (let m = 0; m < r.length; m++) {
              const f = r.charCodeAt(m + 1) || null, v = r.charCodeAt(m - 1) || null;
              d += f && G_(f) && !nc[r[m + 1]] || v && G_(v) && !nc[r[m - 1]] || !nc[r[m]] ? r[m] : nc[r[m]];
            }
            return d;
          }(this.text);
        }
        trim() {
          let r = 0;
          for (let m = 0; m < this.text.length && dm[this.text.charCodeAt(m)]; m++)
            r++;
          let d = this.text.length;
          for (let m = this.text.length - 1; m >= 0 && m >= r && dm[this.text.charCodeAt(m)]; m--)
            d--;
          this.text = this.text.substring(r, d), this.sectionIndex = this.sectionIndex.slice(r, d);
        }
        substring(r, d) {
          const m = new Eu();
          return m.text = this.text.substring(r, d), m.sectionIndex = this.sectionIndex.slice(r, d), m.sections = this.sections, m;
        }
        toString() {
          return this.text;
        }
        getMaxScale() {
          return this.sectionIndex.reduce((r, d) => Math.max(r, this.sections[d].scale), 0);
        }
        addTextSection(r, d) {
          this.text += r.text, this.sections.push(rc.forText(r.scale, r.fontStack || d));
          const m = this.sections.length - 1;
          for (let f = 0; f < r.text.length; ++f)
            this.sectionIndex.push(m);
        }
        addImageSection(r) {
          const d = r.image ? r.image.name : "";
          if (d.length === 0)
            return void we("Can't add FormattedSection with an empty image.");
          const m = this.getNextImageSectionCharCode();
          m ? (this.text += String.fromCharCode(m), this.sections.push(rc.forImage(d)), this.sectionIndex.push(this.sections.length - 1)) : we("Reached maximum number of images 6401");
        }
        getNextImageSectionCharCode() {
          return this.imageSectionID ? this.imageSectionID >= 63743 ? null : ++this.imageSectionID : (this.imageSectionID = 57344, this.imageSectionID);
        }
      }
      function um(l, r, d, m, f, v, w, E, C, P, W, B, F, U, V, ne) {
        const ae = Eu.fromFeature(l, f);
        let ge;
        B === o.WritingMode.vertical && ae.verticalizePunctuation();
        const { processBidirectionalText: Te, processStyledBidirectionalText: fe } = jn;
        if (Te && ae.sections.length === 1) {
          ge = [];
          const De = Te(ae.toString(), Yp(ae, P, v, r, m, U, V));
          for (const st of De) {
            const _t = new Eu();
            _t.text = st, _t.sections = ae.sections;
            for (let et = 0; et < st.length; et++)
              _t.sectionIndex.push(0);
            ge.push(_t);
          }
        } else if (fe) {
          ge = [];
          const De = fe(ae.text, ae.sectionIndex, Yp(ae, P, v, r, m, U, V));
          for (const st of De) {
            const _t = new Eu();
            _t.text = st[0], _t.sectionIndex = st[1], _t.sections = ae.sections, ge.push(_t);
          }
        } else
          ge = function(De, st) {
            const _t = [], et = De.text;
            let Ye = 0;
            for (const Xe of st)
              _t.push(De.substring(Ye, Xe)), Ye = Xe;
            return Ye < et.length && _t.push(De.substring(Ye, et.length)), _t;
          }(ae, Yp(ae, P, v, r, m, U, V));
        const xe = [], ze = { positionedLines: xe, text: ae.toString(), top: W[1], bottom: W[1], left: W[0], right: W[0], writingMode: B, iconsInText: !1, verticalizable: !1 };
        return function(De, st, _t, et, Ye, Xe, tt, Qe, qe, wt, gt, Nt) {
          let Oa = 0, Fa = lm, gi = 0, cr = 0;
          const Vi = Qe === "right" ? 1 : Qe === "left" ? 0 : 0.5;
          let oi = 0;
          for (const li of Ye) {
            li.trim();
            const Zi = li.getMaxScale(), rn = (Zi - 1) * Ni, gn = { positionedGlyphs: [], lineOffset: 0 };
            De.positionedLines[oi] = gn;
            const On = gn.positionedGlyphs;
            let Rn = 0;
            if (!li.length()) {
              Fa += Xe, ++oi;
              continue;
            }
            for (let Ii = 0; Ii < li.length(); Ii++) {
              const Zt = li.getSection(Ii), Zn = li.getSectionIndex(Ii), Hi = li.getCharCode(Ii);
              let sn = 0, Sr = null, Nr = null, qr = null, zs = Ni;
              const Tr = !(qe === o.WritingMode.horizontal || !gt && !Bd(Hi) || gt && (dm[Hi] || (Ai = Hi, Je.Arabic(Ai) || Je["Arabic Supplement"](Ai) || Je["Arabic Extended-A"](Ai) || Je["Arabic Presentation Forms-A"](Ai) || Je["Arabic Presentation Forms-B"](Ai))));
              if (Zt.imageName) {
                const _r = et[Zt.imageName];
                if (!_r)
                  continue;
                qr = Zt.imageName, De.iconsInText = De.iconsInText || !0, Nr = _r.paddedRect;
                const kn = _r.displaySize;
                Zt.scale = Zt.scale * Ni / Nt, Sr = { width: kn[0], height: kn[1], left: 1, top: -3, advance: Tr ? kn[1] : kn[0] }, sn = rn + (Ni - kn[1] * Zt.scale), zs = Sr.advance;
                const Bs = Tr ? kn[0] * Zt.scale - Ni * Zi : kn[1] * Zt.scale - Ni * Zi;
                Bs > 0 && Bs > Rn && (Rn = Bs);
              } else {
                const _r = _t[Zt.fontStack], kn = _r && _r[Hi];
                if (kn && kn.rect)
                  Nr = kn.rect, Sr = kn.metrics;
                else {
                  const Bs = st[Zt.fontStack], lc = Bs && Bs[Hi];
                  if (!lc)
                    continue;
                  Sr = lc.metrics;
                }
                sn = (Zi - Zt.scale) * Ni;
              }
              Tr ? (De.verticalizable = !0, On.push({ glyph: Hi, imageName: qr, x: Oa, y: Fa + sn, vertical: Tr, scale: Zt.scale, fontStack: Zt.fontStack, sectionIndex: Zn, metrics: Sr, rect: Nr }), Oa += zs * Zt.scale + wt) : (On.push({ glyph: Hi, imageName: qr, x: Oa, y: Fa + sn, vertical: Tr, scale: Zt.scale, fontStack: Zt.fontStack, sectionIndex: Zn, metrics: Sr, rect: Nr }), Oa += Sr.advance * Zt.scale + wt);
            }
            On.length !== 0 && (gi = Math.max(Oa - wt, gi), y4(On, 0, On.length - 1, Vi, Rn)), Oa = 0;
            const $a = Xe * Zi + Rn;
            gn.lineOffset = Math.max(Rn, rn), Fa += $a, cr = Math.max($a, cr), ++oi;
          }
          var Ai;
          const $i = Fa - lm, { horizontalAlign: nn, verticalAlign: Pn } = Qp(tt);
          (function(li, Zi, rn, gn, On, Rn, $a, Ii, Zt) {
            const Zn = (Zi - rn) * On;
            let Hi = 0;
            Hi = Rn !== $a ? -Ii * gn - lm : (-gn * Zt + 0.5) * $a;
            for (const sn of li)
              for (const Sr of sn.positionedGlyphs)
                Sr.x += Zn, Sr.y += Hi;
          })(De.positionedLines, Vi, nn, Pn, gi, cr, Xe, $i, Ye.length), De.top += -Pn * $i, De.bottom = De.top + $i, De.left += -nn * gi, De.right = De.left + gi;
        }(ze, r, d, m, ge, w, E, C, B, P, F, ne), !function(De) {
          for (const st of De)
            if (st.positionedGlyphs.length !== 0)
              return !1;
          return !0;
        }(xe) && ze;
      }
      const dm = { 9: !0, 10: !0, 11: !0, 12: !0, 13: !0, 32: !0 }, f4 = { 10: !0, 32: !0, 38: !0, 40: !0, 41: !0, 43: !0, 45: !0, 47: !0, 173: !0, 183: !0, 8203: !0, 8208: !0, 8211: !0, 8231: !0 };
      function c0(l, r, d, m, f, v) {
        if (r.imageName) {
          const w = m[r.imageName];
          return w ? w.displaySize[0] * r.scale * Ni / v + f : 0;
        }
        {
          const w = d[r.fontStack], E = w && w[l];
          return E ? E.metrics.advance * r.scale + f : 0;
        }
      }
      function _0(l, r, d, m) {
        const f = Math.pow(l - r, 2);
        return m ? l < r ? f / 2 : 2 * f : f + Math.abs(d) * d;
      }
      function g4(l, r, d) {
        let m = 0;
        return l === 10 && (m -= 1e4), d && (m += 150), l !== 40 && l !== 65288 || (m += 50), r !== 41 && r !== 65289 || (m += 50), m;
      }
      function m0(l, r, d, m, f, v) {
        let w = null, E = _0(r, d, f, v);
        for (const C of m) {
          const P = _0(r - C.x, d, f, v) + C.badness;
          P <= E && (w = C, E = P);
        }
        return { index: l, x: r, priorBreak: w, badness: E };
      }
      function h0(l) {
        return l ? h0(l.priorBreak).concat(l.index) : [];
      }
      function Yp(l, r, d, m, f, v, w) {
        if (v !== "point")
          return [];
        if (!l)
          return [];
        const E = [], C = function(F, U, V, ne, ae, ge) {
          let Te = 0;
          for (let fe = 0; fe < F.length(); fe++) {
            const xe = F.getSection(fe);
            Te += c0(F.getCharCode(fe), xe, ne, ae, U, ge);
          }
          return Te / Math.max(1, Math.ceil(Te / V));
        }(l, r, d, m, f, w), P = l.text.indexOf("‚Äã") >= 0;
        let W = 0;
        for (let F = 0; F < l.length(); F++) {
          const U = l.getSection(F), V = l.getCharCode(F);
          if (dm[V] || (W += c0(V, U, m, f, r, w)), F < l.length() - 1) {
            const ne = !((B = V) < 11904 || !(Je["Bopomofo Extended"](B) || Je.Bopomofo(B) || Je["CJK Compatibility Forms"](B) || Je["CJK Compatibility Ideographs"](B) || Je["CJK Compatibility"](B) || Je["CJK Radicals Supplement"](B) || Je["CJK Strokes"](B) || Je["CJK Symbols and Punctuation"](B) || Je["CJK Unified Ideographs Extension A"](B) || Je["CJK Unified Ideographs"](B) || Je["Enclosed CJK Letters and Months"](B) || Je["Halfwidth and Fullwidth Forms"](B) || Je.Hiragana(B) || Je["Ideographic Description Characters"](B) || Je["Kangxi Radicals"](B) || Je["Katakana Phonetic Extensions"](B) || Je.Katakana(B) || Je["Vertical Forms"](B) || Je["Yi Radicals"](B) || Je["Yi Syllables"](B)));
            (f4[V] || ne || U.imageName) && E.push(m0(F + 1, W, C, E, g4(V, l.getCharCode(F + 1), ne && P), !1));
          }
        }
        var B;
        return h0(m0(l.length(), W, C, E, 0, !0));
      }
      function Qp(l) {
        let r = 0.5, d = 0.5;
        switch (l) {
          case "right":
          case "top-right":
          case "bottom-right":
            r = 1;
            break;
          case "left":
          case "top-left":
          case "bottom-left":
            r = 0;
        }
        switch (l) {
          case "bottom":
          case "bottom-right":
          case "bottom-left":
            d = 1;
            break;
          case "top":
          case "top-right":
          case "top-left":
            d = 0;
        }
        return { horizontalAlign: r, verticalAlign: d };
      }
      function y4(l, r, d, m, f) {
        if (!m && !f)
          return;
        const v = l[d], w = (l[d].x + v.metrics.advance * v.scale) * m;
        for (let E = r; E <= d; E++)
          l[E].x -= w, l[E].y += f;
      }
      function v4(l, r, d) {
        const { horizontalAlign: m, verticalAlign: f } = Qp(d), v = r[0] - l.displaySize[0] * m, w = r[1] - l.displaySize[1] * f;
        return { image: l, top: w, bottom: w + l.displaySize[1], left: v, right: v + l.displaySize[0] };
      }
      function p0(l, r, d, m, f, v) {
        const w = l.image;
        let E;
        if (w.content) {
          const ae = w.content, ge = w.pixelRatio || 1;
          E = [ae[0] / ge, ae[1] / ge, w.displaySize[0] - ae[2] / ge, w.displaySize[1] - ae[3] / ge];
        }
        const C = r.left * v, P = r.right * v;
        let W, B, F, U;
        d === "width" || d === "both" ? (U = f[0] + C - m[3], B = f[0] + P + m[1]) : (U = f[0] + (C + P - w.displaySize[0]) / 2, B = U + w.displaySize[0]);
        const V = r.top * v, ne = r.bottom * v;
        return d === "height" || d === "both" ? (W = f[1] + V - m[0], F = f[1] + ne + m[2]) : (W = f[1] + (V + ne - w.displaySize[1]) / 2, F = W + w.displaySize[1]), { image: w, top: W, right: B, bottom: F, left: U, collisionPadding: E };
      }
      const Ws = 128;
      function f0(l, r) {
        const { expression: d } = r;
        if (d.kind === "constant")
          return { kind: "constant", layoutSize: d.evaluate(new Na(l + 1)) };
        if (d.kind === "source")
          return { kind: "source" };
        {
          const { zoomStops: m, interpolationType: f } = d;
          let v = 0;
          for (; v < m.length && m[v] <= l; )
            v++;
          v = Math.max(0, v - 1);
          let w = v;
          for (; w < m.length && m[w] < l + 1; )
            w++;
          w = Math.min(m.length - 1, w);
          const E = m[v], C = m[w];
          return d.kind === "composite" ? { kind: "composite", minZoom: E, maxZoom: C, interpolationType: f } : { kind: "camera", minZoom: E, maxZoom: C, minSize: d.evaluate(new Na(E)), maxSize: d.evaluate(new Na(C)), interpolationType: f };
        }
      }
      class bo extends Me {
        constructor(r, d, m, f) {
          super(r, d), this.angle = m, f !== void 0 && (this.segment = f);
        }
        clone() {
          return new bo(this.x, this.y, this.angle, this.segment);
        }
      }
      function g0(l, r, d, m, f) {
        if (r.segment === void 0)
          return !0;
        let v = r, w = r.segment + 1, E = 0;
        for (; E > -d / 2; ) {
          if (w--, w < 0)
            return !1;
          E -= l[w].dist(v), v = l[w];
        }
        E += l[w].dist(l[w + 1]), w++;
        const C = [];
        let P = 0;
        for (; E < d / 2; ) {
          const W = l[w], B = l[w + 1];
          if (!B)
            return !1;
          let F = l[w - 1].angleTo(W) - W.angleTo(B);
          for (F = Math.abs((F + 3 * Math.PI) % (2 * Math.PI) - Math.PI), C.push({ distance: E, angleDelta: F }), P += F; E - C[0].distance > m; )
            P -= C.shift().angleDelta;
          if (P > f)
            return !1;
          w++, E += W.dist(B);
        }
        return !0;
      }
      function y0(l) {
        let r = 0;
        for (let d = 0; d < l.length - 1; d++)
          r += l[d].dist(l[d + 1]);
        return r;
      }
      function v0(l, r, d) {
        return l ? 0.6 * r * d : 0;
      }
      function b0(l, r) {
        return Math.max(l ? l.right - l.left : 0, r ? r.right - r.left : 0);
      }
      function b4(l, r, d, m, f, v) {
        const w = v0(d, f, v), E = b0(d, m) * v;
        let C = 0;
        const P = y0(l) / 2;
        for (let W = 0; W < l.length - 1; W++) {
          const B = l[W], F = l[W + 1], U = B.dist(F);
          if (C + U > P) {
            const V = (P - C) / U, ne = za(B.x, F.x, V), ae = za(B.y, F.y, V), ge = new bo(ne, ae, F.angleTo(B), W);
            return ge._round(), !w || g0(l, ge, E, w, r) ? ge : void 0;
          }
          C += U;
        }
      }
      function x4(l, r, d, m, f, v, w, E, C) {
        const P = v0(m, v, w), W = b0(m, f), B = W * w, F = l[0].x === 0 || l[0].x === C || l[0].y === 0 || l[0].y === C;
        return r - B < r / 4 && (r = B + r / 4), x0(l, F ? r / 2 * E % r : (W / 2 + 2 * v) * w * E % r, r, P, d, B, F, !1, C);
      }
      function x0(l, r, d, m, f, v, w, E, C) {
        const P = v / 2, W = y0(l);
        let B = 0, F = r - d, U = [];
        for (let V = 0; V < l.length - 1; V++) {
          const ne = l[V], ae = l[V + 1], ge = ne.dist(ae), Te = ae.angleTo(ne);
          for (; F + d < B + ge; ) {
            F += d;
            const fe = (F - B) / ge, xe = za(ne.x, ae.x, fe), ze = za(ne.y, ae.y, fe);
            if (xe >= 0 && xe < C && ze >= 0 && ze < C && F - P >= 0 && F + P <= W) {
              const De = new bo(xe, ze, Te, V);
              De._round(), m && !g0(l, De, v, m, f) || U.push(De);
            }
          }
          B += ge;
        }
        return E || U.length || w || (U = x0(l, B / 2, d, m, f, v, w, !0, C)), U;
      }
      function w0(l, r, d, m, f) {
        const v = [];
        for (let w = 0; w < l.length; w++) {
          const E = l[w];
          let C;
          for (let P = 0; P < E.length - 1; P++) {
            let W = E[P], B = E[P + 1];
            W.x < r && B.x < r || (W.x < r ? W = new Me(r, W.y + (r - W.x) / (B.x - W.x) * (B.y - W.y))._round() : B.x < r && (B = new Me(r, W.y + (r - W.x) / (B.x - W.x) * (B.y - W.y))._round()), W.y < d && B.y < d || (W.y < d ? W = new Me(W.x + (d - W.y) / (B.y - W.y) * (B.x - W.x), d)._round() : B.y < d && (B = new Me(W.x + (d - W.y) / (B.y - W.y) * (B.x - W.x), d)._round()), W.x >= m && B.x >= m || (W.x >= m ? W = new Me(m, W.y + (m - W.x) / (B.x - W.x) * (B.y - W.y))._round() : B.x >= m && (B = new Me(m, W.y + (m - W.x) / (B.x - W.x) * (B.y - W.y))._round()), W.y >= f && B.y >= f || (W.y >= f ? W = new Me(W.x + (f - W.y) / (B.y - W.y) * (B.x - W.x), f)._round() : B.y >= f && (B = new Me(W.x + (f - W.y) / (B.y - W.y) * (B.x - W.x), f)._round()), C && W.equals(C[C.length - 1]) || (C = [W], v.push(C)), C.push(B)))));
          }
        }
        return v;
      }
      function S0(l, r, d, m) {
        const f = [], v = l.image, w = v.pixelRatio, E = v.paddedRect.w - 2, C = v.paddedRect.h - 2, P = l.right - l.left, W = l.bottom - l.top, B = v.stretchX || [[0, E]], F = v.stretchY || [[0, C]], U = (Xe, tt) => Xe + tt[1] - tt[0], V = B.reduce(U, 0), ne = F.reduce(U, 0), ae = E - V, ge = C - ne;
        let Te = 0, fe = V, xe = 0, ze = ne, De = 0, st = ae, _t = 0, et = ge;
        if (v.content && m) {
          const Xe = v.content;
          Te = cm(B, 0, Xe[0]), xe = cm(F, 0, Xe[1]), fe = cm(B, Xe[0], Xe[2]), ze = cm(F, Xe[1], Xe[3]), De = Xe[0] - Te, _t = Xe[1] - xe, st = Xe[2] - Xe[0] - fe, et = Xe[3] - Xe[1] - ze;
        }
        const Ye = (Xe, tt, Qe, qe) => {
          const wt = _m(Xe.stretch - Te, fe, P, l.left), gt = mm(Xe.fixed - De, st, Xe.stretch, V), Nt = _m(tt.stretch - xe, ze, W, l.top), Oa = mm(tt.fixed - _t, et, tt.stretch, ne), Fa = _m(Qe.stretch - Te, fe, P, l.left), gi = mm(Qe.fixed - De, st, Qe.stretch, V), cr = _m(qe.stretch - xe, ze, W, l.top), Vi = mm(qe.fixed - _t, et, qe.stretch, ne), oi = new Me(wt, Nt), Ai = new Me(Fa, Nt), $i = new Me(Fa, cr), nn = new Me(wt, cr), Pn = new Me(gt / w, Oa / w), li = new Me(gi / w, Vi / w), Zi = r * Math.PI / 180;
          if (Zi) {
            const On = Math.sin(Zi), Rn = Math.cos(Zi), $a = [Rn, -On, On, Rn];
            oi._matMult($a), Ai._matMult($a), nn._matMult($a), $i._matMult($a);
          }
          const rn = Xe.stretch + Xe.fixed, gn = tt.stretch + tt.fixed;
          return { tl: oi, tr: Ai, bl: nn, br: $i, tex: { x: v.paddedRect.x + 1 + rn, y: v.paddedRect.y + 1 + gn, w: Qe.stretch + Qe.fixed - rn, h: qe.stretch + qe.fixed - gn }, writingMode: void 0, glyphOffset: [0, 0], sectionIndex: 0, pixelOffsetTL: Pn, pixelOffsetBR: li, minFontScaleX: st / w / P, minFontScaleY: et / w / W, isSDF: d };
        };
        if (m && (v.stretchX || v.stretchY)) {
          const Xe = T0(B, ae, V), tt = T0(F, ge, ne);
          for (let Qe = 0; Qe < Xe.length - 1; Qe++) {
            const qe = Xe[Qe], wt = Xe[Qe + 1];
            for (let gt = 0; gt < tt.length - 1; gt++)
              f.push(Ye(qe, tt[gt], wt, tt[gt + 1]));
          }
        } else
          f.push(Ye({ fixed: 0, stretch: -1 }, { fixed: 0, stretch: -1 }, { fixed: 0, stretch: E + 1 }, { fixed: 0, stretch: C + 1 }));
        return f;
      }
      function cm(l, r, d) {
        let m = 0;
        for (const f of l)
          m += Math.max(r, Math.min(d, f[1])) - Math.max(r, Math.min(d, f[0]));
        return m;
      }
      function T0(l, r, d) {
        const m = [{ fixed: -1, stretch: 0 }];
        for (const [f, v] of l) {
          const w = m[m.length - 1];
          m.push({ fixed: f - w.stretch, stretch: w.stretch }), m.push({ fixed: f - w.stretch, stretch: w.stretch + (v - f) });
        }
        return m.push({ fixed: r + 1, stretch: d }), m;
      }
      function _m(l, r, d, m) {
        return l / r * d + m;
      }
      function mm(l, r, d, m) {
        return l - r * d / m;
      }
      lt("Anchor", bo);
      class hm {
        constructor(r, d, m, f, v, w, E, C, P, W) {
          if (this.boxStartIndex = r.length, P) {
            let B = w.top, F = w.bottom;
            const U = w.collisionPadding;
            U && (B -= U[1], F += U[3]);
            let V = F - B;
            V > 0 && (V = Math.max(10, V), this.circleDiameter = V);
          } else {
            let B = w.top * E - C[0], F = w.bottom * E + C[2], U = w.left * E - C[3], V = w.right * E + C[1];
            const ne = w.collisionPadding;
            if (ne && (U -= ne[0] * E, B -= ne[1] * E, V += ne[2] * E, F += ne[3] * E), W) {
              const ae = new Me(U, B), ge = new Me(V, B), Te = new Me(U, F), fe = new Me(V, F), xe = W * Math.PI / 180;
              ae._rotate(xe), ge._rotate(xe), Te._rotate(xe), fe._rotate(xe), U = Math.min(ae.x, ge.x, Te.x, fe.x), V = Math.max(ae.x, ge.x, Te.x, fe.x), B = Math.min(ae.y, ge.y, Te.y, fe.y), F = Math.max(ae.y, ge.y, Te.y, fe.y);
            }
            r.emplaceBack(d.x, d.y, U, B, V, F, m, f, v);
          }
          this.boxEndIndex = r.length;
        }
      }
      class w4 {
        constructor(r = [], d = S4) {
          if (this.data = r, this.length = this.data.length, this.compare = d, this.length > 0)
            for (let m = (this.length >> 1) - 1; m >= 0; m--)
              this._down(m);
        }
        push(r) {
          this.data.push(r), this.length++, this._up(this.length - 1);
        }
        pop() {
          if (this.length === 0)
            return;
          const r = this.data[0], d = this.data.pop();
          return this.length--, this.length > 0 && (this.data[0] = d, this._down(0)), r;
        }
        peek() {
          return this.data[0];
        }
        _up(r) {
          const { data: d, compare: m } = this, f = d[r];
          for (; r > 0; ) {
            const v = r - 1 >> 1, w = d[v];
            if (m(f, w) >= 0)
              break;
            d[r] = w, r = v;
          }
          d[r] = f;
        }
        _down(r) {
          const { data: d, compare: m } = this, f = this.length >> 1, v = d[r];
          for (; r < f; ) {
            let w = 1 + (r << 1), E = d[w];
            const C = w + 1;
            if (C < this.length && m(d[C], E) < 0 && (w = C, E = d[C]), m(E, v) >= 0)
              break;
            d[r] = E, r = w;
          }
          d[r] = v;
        }
      }
      function S4(l, r) {
        return l < r ? -1 : l > r ? 1 : 0;
      }
      function T4(l, r = 1, d = !1) {
        let m = 1 / 0, f = 1 / 0, v = -1 / 0, w = -1 / 0;
        const E = l[0];
        for (let U = 0; U < E.length; U++) {
          const V = E[U];
          (!U || V.x < m) && (m = V.x), (!U || V.y < f) && (f = V.y), (!U || V.x > v) && (v = V.x), (!U || V.y > w) && (w = V.y);
        }
        const C = Math.min(v - m, w - f);
        let P = C / 2;
        const W = new w4([], M4);
        if (C === 0)
          return new Me(m, f);
        for (let U = m; U < v; U += C)
          for (let V = f; V < w; V += C)
            W.push(new Lu(U + P, V + P, P, l));
        let B = function(U) {
          let V = 0, ne = 0, ae = 0;
          const ge = U[0];
          for (let Te = 0, fe = ge.length, xe = fe - 1; Te < fe; xe = Te++) {
            const ze = ge[Te], De = ge[xe], st = ze.x * De.y - De.x * ze.y;
            ne += (ze.x + De.x) * st, ae += (ze.y + De.y) * st, V += 3 * st;
          }
          return new Lu(ne / V, ae / V, 0, U);
        }(l), F = W.length;
        for (; W.length; ) {
          const U = W.pop();
          (U.d > B.d || !B.d) && (B = U, d && console.log("found best %d after %d probes", Math.round(1e4 * U.d) / 1e4, F)), U.max - B.d <= r || (P = U.h / 2, W.push(new Lu(U.p.x - P, U.p.y - P, P, l)), W.push(new Lu(U.p.x + P, U.p.y - P, P, l)), W.push(new Lu(U.p.x - P, U.p.y + P, P, l)), W.push(new Lu(U.p.x + P, U.p.y + P, P, l)), F += 4);
        }
        return d && (console.log(`num probes: ${F}`), console.log(`best distance: ${B.d}`)), B.p;
      }
      function M4(l, r) {
        return r.max - l.max;
      }
      function Lu(l, r, d, m) {
        this.p = new Me(l, r), this.h = d, this.d = function(f, v) {
          let w = !1, E = 1 / 0;
          for (let C = 0; C < v.length; C++) {
            const P = v[C];
            for (let W = 0, B = P.length, F = B - 1; W < B; F = W++) {
              const U = P[W], V = P[F];
              U.y > f.y != V.y > f.y && f.x < (V.x - U.x) * (f.y - U.y) / (V.y - U.y) + U.x && (w = !w), E = Math.min(E, Oy(f, U, V));
            }
          }
          return (w ? 1 : -1) * Math.sqrt(E);
        }(this.p, m), this.max = this.d + this.h * Math.SQRT2;
      }
      const Jp = Number.POSITIVE_INFINITY;
      function M0(l, r) {
        return r[1] !== Jp ? function(d, m, f) {
          let v = 0, w = 0;
          switch (m = Math.abs(m), f = Math.abs(f), d) {
            case "top-right":
            case "top-left":
            case "top":
              w = f - 7;
              break;
            case "bottom-right":
            case "bottom-left":
            case "bottom":
              w = 7 - f;
          }
          switch (d) {
            case "top-right":
            case "bottom-right":
            case "right":
              v = -m;
              break;
            case "top-left":
            case "bottom-left":
            case "left":
              v = m;
          }
          return [v, w];
        }(l, r[0], r[1]) : function(d, m) {
          let f = 0, v = 0;
          m < 0 && (m = 0);
          const w = m / Math.sqrt(2);
          switch (d) {
            case "top-right":
            case "top-left":
              v = w - 7;
              break;
            case "bottom-right":
            case "bottom-left":
              v = 7 - w;
              break;
            case "bottom":
              v = 7 - m;
              break;
            case "top":
              v = m - 7;
          }
          switch (d) {
            case "top-right":
            case "bottom-right":
              f = -w;
              break;
            case "top-left":
            case "bottom-left":
              f = w;
              break;
            case "left":
              f = m;
              break;
            case "right":
              f = -m;
          }
          return [f, v];
        }(l, r[0]);
      }
      function ef(l) {
        switch (l) {
          case "right":
          case "top-right":
          case "bottom-right":
            return "right";
          case "left":
          case "top-left":
          case "bottom-left":
            return "left";
        }
        return "center";
      }
      function E4(l, r, d, m, f, v, w, E, C, P, W) {
        let B = v.textMaxSize.evaluate(r, {});
        B === void 0 && (B = w);
        const F = l.layers[0].layout, U = F.get("icon-offset").evaluate(r, {}, W), V = L0(d.horizontal), ne = w / 24, ae = l.tilePixelRatio * ne, ge = l.tilePixelRatio * B / 24, Te = l.tilePixelRatio * E, fe = l.tilePixelRatio * F.get("symbol-spacing"), xe = F.get("text-padding") * l.tilePixelRatio, ze = function(qe, wt, gt, Nt = 1) {
          const Oa = qe.get("icon-padding").evaluate(wt, {}, gt), Fa = Oa && Oa.values;
          return [Fa[0] * Nt, Fa[1] * Nt, Fa[2] * Nt, Fa[3] * Nt];
        }(F, r, W, l.tilePixelRatio), De = F.get("text-max-angle") / 180 * Math.PI, st = F.get("text-rotation-alignment") !== "viewport" && F.get("symbol-placement") !== "point", _t = F.get("icon-rotation-alignment") === "map" && F.get("symbol-placement") !== "point", et = F.get("symbol-placement"), Ye = fe / 2, Xe = F.get("icon-text-fit");
        let tt;
        m && Xe !== "none" && (l.allowVerticalPlacement && d.vertical && (tt = p0(m, d.vertical, Xe, F.get("icon-text-fit-padding"), U, ne)), V && (m = p0(m, V, Xe, F.get("icon-text-fit-padding"), U, ne)));
        const Qe = (qe, wt) => {
          wt.x < 0 || wt.x >= fi || wt.y < 0 || wt.y >= fi || function(gt, Nt, Oa, Fa, gi, cr, Vi, oi, Ai, $i, nn, Pn, li, Zi, rn, gn, On, Rn, $a, Ii, Zt, Zn, Hi, sn, Sr) {
            const Nr = gt.addToLineVertexArray(Nt, Oa);
            let qr, zs, Tr, _r, kn = 0, Bs = 0, lc = 0, U0 = 0, cf = -1, _f = -1;
            const Ns = {};
            let j0 = Ci.exports(""), mf = 0, hf = 0;
            if (oi._unevaluatedLayout.getValue("text-radial-offset") === void 0 ? [mf, hf] = oi.layout.get("text-offset").evaluate(Zt, {}, sn).map((Dn) => Dn * Ni) : (mf = oi.layout.get("text-radial-offset").evaluate(Zt, {}, sn) * Ni, hf = Jp), gt.allowVerticalPlacement && Fa.vertical) {
              const Dn = oi.layout.get("text-rotate").evaluate(Zt, {}, sn) + 90;
              Tr = new hm(Ai, Nt, $i, nn, Pn, Fa.vertical, li, Zi, rn, Dn), Vi && (_r = new hm(Ai, Nt, $i, nn, Pn, Vi, On, Rn, rn, Dn));
            }
            if (gi) {
              const Dn = oi.layout.get("icon-rotate").evaluate(Zt, {}), us = oi.layout.get("icon-text-fit") !== "none", uc = S0(gi, Dn, Hi, us), dc = Vi ? S0(Vi, Dn, Hi, us) : void 0;
              zs = new hm(Ai, Nt, $i, nn, Pn, gi, On, Rn, !1, Dn), kn = 4 * uc.length;
              const Z0 = gt.iconSizeData;
              let Ll = null;
              Z0.kind === "source" ? (Ll = [Ws * oi.layout.get("icon-size").evaluate(Zt, {})], Ll[0] > xo && we(`${gt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)) : Z0.kind === "composite" && (Ll = [Ws * Zn.compositeIconSizes[0].evaluate(Zt, {}, sn), Ws * Zn.compositeIconSizes[1].evaluate(Zt, {}, sn)], (Ll[0] > xo || Ll[1] > xo) && we(`${gt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)), gt.addSymbols(gt.icon, uc, Ll, Ii, $a, Zt, o.WritingMode.none, Nt, Nr.lineStartIndex, Nr.lineLength, -1, sn), cf = gt.icon.placedSymbolArray.length - 1, dc && (Bs = 4 * dc.length, gt.addSymbols(gt.icon, dc, Ll, Ii, $a, Zt, o.WritingMode.vertical, Nt, Nr.lineStartIndex, Nr.lineLength, -1, sn), _f = gt.icon.placedSymbolArray.length - 1);
            }
            const V0 = Object.keys(Fa.horizontal);
            for (const Dn of V0) {
              const us = Fa.horizontal[Dn];
              if (!qr) {
                j0 = Ci.exports(us.text);
                const dc = oi.layout.get("text-rotate").evaluate(Zt, {}, sn);
                qr = new hm(Ai, Nt, $i, nn, Pn, us, li, Zi, rn, dc);
              }
              const uc = us.positionedLines.length === 1;
              if (lc += E0(gt, Nt, us, cr, oi, rn, Zt, gn, Nr, Fa.vertical ? o.WritingMode.horizontal : o.WritingMode.horizontalOnly, uc ? V0 : [Dn], Ns, cf, Zn, sn), uc)
                break;
            }
            Fa.vertical && (U0 += E0(gt, Nt, Fa.vertical, cr, oi, rn, Zt, gn, Nr, o.WritingMode.vertical, ["vertical"], Ns, _f, Zn, sn));
            const N4 = qr ? qr.boxStartIndex : gt.collisionBoxArray.length, q4 = qr ? qr.boxEndIndex : gt.collisionBoxArray.length, F4 = Tr ? Tr.boxStartIndex : gt.collisionBoxArray.length, G4 = Tr ? Tr.boxEndIndex : gt.collisionBoxArray.length, U4 = zs ? zs.boxStartIndex : gt.collisionBoxArray.length, j4 = zs ? zs.boxEndIndex : gt.collisionBoxArray.length, V4 = _r ? _r.boxStartIndex : gt.collisionBoxArray.length, $4 = _r ? _r.boxEndIndex : gt.collisionBoxArray.length;
            let Fr = -1;
            const vm = (Dn, us) => Dn && Dn.circleDiameter ? Math.max(Dn.circleDiameter, us) : us;
            Fr = vm(qr, Fr), Fr = vm(Tr, Fr), Fr = vm(zs, Fr), Fr = vm(_r, Fr);
            const $0 = Fr > -1 ? 1 : 0;
            $0 && (Fr *= Sr / Ni), gt.glyphOffsetArray.length >= Cu.MAX_GLYPHS && we("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"), Zt.sortKey !== void 0 && gt.addToSortKeyRanges(gt.symbolInstances.length, Zt.sortKey), gt.symbolInstances.emplaceBack(Nt.x, Nt.y, Ns.right >= 0 ? Ns.right : -1, Ns.center >= 0 ? Ns.center : -1, Ns.left >= 0 ? Ns.left : -1, Ns.vertical || -1, cf, _f, j0, N4, q4, F4, G4, U4, j4, V4, $4, $i, lc, U0, kn, Bs, $0, 0, li, mf, hf, Fr);
          }(l, wt, qe, d, m, f, tt, l.layers[0], l.collisionBoxArray, r.index, r.sourceLayerIndex, l.index, ae, [xe, xe, xe, xe], st, C, Te, ze, _t, U, r, v, P, W, w);
        };
        if (et === "line")
          for (const qe of w0(r.geometry, 0, 0, fi, fi)) {
            const wt = x4(qe, fe, De, d.vertical || V, m, 24, ge, l.overscaling, fi);
            for (const gt of wt) {
              const Nt = V;
              Nt && L4(l, Nt.text, Ye, gt) || Qe(qe, gt);
            }
          }
        else if (et === "line-center") {
          for (const qe of r.geometry)
            if (qe.length > 1) {
              const wt = b4(qe, De, d.vertical || V, m, 24, ge);
              wt && Qe(qe, wt);
            }
        } else if (r.type === "Polygon")
          for (const qe of Fp(r.geometry, 0)) {
            const wt = T4(qe, 16);
            Qe(qe[0], new bo(wt.x, wt.y, 0));
          }
        else if (r.type === "LineString")
          for (const qe of r.geometry)
            Qe(qe, new bo(qe[0].x, qe[0].y, 0));
        else if (r.type === "Point")
          for (const qe of r.geometry)
            for (const wt of qe)
              Qe([wt], new bo(wt.x, wt.y, 0));
      }
      const xo = 32640;
      function E0(l, r, d, m, f, v, w, E, C, P, W, B, F, U, V) {
        const ne = function(Te, fe, xe, ze, De, st, _t, et) {
          const Ye = ze.layout.get("text-rotate").evaluate(st, {}) * Math.PI / 180, Xe = [];
          for (const tt of fe.positionedLines)
            for (const Qe of tt.positionedGlyphs) {
              if (!Qe.rect)
                continue;
              const qe = Qe.rect || {};
              let wt = 4, gt = !0, Nt = 1, Oa = 0;
              const Fa = (De || et) && Qe.vertical, gi = Qe.metrics.advance * Qe.scale / 2;
              if (et && fe.verticalizable) {
                const $a = (Qe.scale - 1) * Ni, Ii = (Ni - Qe.metrics.width * Qe.scale) / 2;
                Oa = tt.lineOffset / 2 - (Qe.imageName ? -Ii : $a);
              }
              if (Qe.imageName) {
                const $a = _t[Qe.imageName];
                gt = $a.sdf, Nt = $a.pixelRatio, wt = 1 / Nt;
              }
              const cr = De ? [Qe.x + gi, Qe.y] : [0, 0];
              let Vi = De ? [0, 0] : [Qe.x + gi + xe[0], Qe.y + xe[1] - Oa], oi = [0, 0];
              Fa && (oi = Vi, Vi = [0, 0]);
              const Ai = (Qe.metrics.left - wt) * Qe.scale - gi + Vi[0], $i = (-Qe.metrics.top - wt) * Qe.scale + Vi[1], nn = Ai + qe.w * Qe.scale / Nt, Pn = $i + qe.h * Qe.scale / Nt, li = new Me(Ai, $i), Zi = new Me(nn, $i), rn = new Me(Ai, Pn), gn = new Me(nn, Pn);
              if (Fa) {
                const $a = new Me(-gi, gi - lm), Ii = -Math.PI / 2, Zt = 12 - gi, Zn = new Me(22 - Zt, -(Qe.imageName ? Zt : 0)), Hi = new Me(...oi);
                li._rotateAround(Ii, $a)._add(Zn)._add(Hi), Zi._rotateAround(Ii, $a)._add(Zn)._add(Hi), rn._rotateAround(Ii, $a)._add(Zn)._add(Hi), gn._rotateAround(Ii, $a)._add(Zn)._add(Hi);
              }
              if (Ye) {
                const $a = Math.sin(Ye), Ii = Math.cos(Ye), Zt = [Ii, -$a, $a, Ii];
                li._matMult(Zt), Zi._matMult(Zt), rn._matMult(Zt), gn._matMult(Zt);
              }
              const On = new Me(0, 0), Rn = new Me(0, 0);
              Xe.push({ tl: li, tr: Zi, bl: rn, br: gn, tex: qe, writingMode: fe.writingMode, glyphOffset: cr, sectionIndex: Qe.sectionIndex, isSDF: gt, pixelOffsetTL: On, pixelOffsetBR: Rn, minFontScaleX: 0, minFontScaleY: 0 });
            }
          return Xe;
        }(0, d, E, f, v, w, m, l.allowVerticalPlacement), ae = l.textSizeData;
        let ge = null;
        ae.kind === "source" ? (ge = [Ws * f.layout.get("text-size").evaluate(w, {})], ge[0] > xo && we(`${l.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)) : ae.kind === "composite" && (ge = [Ws * U.compositeTextSizes[0].evaluate(w, {}, V), Ws * U.compositeTextSizes[1].evaluate(w, {}, V)], (ge[0] > xo || ge[1] > xo) && we(`${l.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)), l.addSymbols(l.text, ne, ge, E, v, w, P, r, C.lineStartIndex, C.lineLength, F, V);
        for (const Te of W)
          B[Te] = l.text.placedSymbolArray.length - 1;
        return 4 * ne.length;
      }
      function L0(l) {
        for (const r in l)
          return l[r];
        return null;
      }
      function L4(l, r, d, m) {
        const f = l.compareText;
        if (r in f) {
          const v = f[r];
          for (let w = v.length - 1; w >= 0; w--)
            if (m.dist(v[w]) < d)
              return !0;
        } else
          f[r] = [];
        return f[r].push(m), !1;
      }
      const C4 = yo.VectorTileFeature.types, A4 = [{ name: "a_fade_opacity", components: 1, type: "Uint8", offset: 0 }];
      function pm(l, r, d, m, f, v, w, E, C, P, W, B, F) {
        const U = E ? Math.min(xo, Math.round(E[0])) : 0, V = E ? Math.min(xo, Math.round(E[1])) : 0;
        l.emplaceBack(r, d, Math.round(32 * m), Math.round(32 * f), v, w, (U << 1) + (C ? 1 : 0), V, 16 * P, 16 * W, 256 * B, 256 * F);
      }
      function tf(l, r, d) {
        l.emplaceBack(r.x, r.y, d), l.emplaceBack(r.x, r.y, d), l.emplaceBack(r.x, r.y, d), l.emplaceBack(r.x, r.y, d);
      }
      function I4(l) {
        for (const r of l.sections)
          if (j_(r.text))
            return !0;
        return !1;
      }
      class af {
        constructor(r) {
          this.layoutVertexArray = new xr(), this.indexArray = new hn(), this.programConfigurations = r, this.segments = new jt(), this.dynamicLayoutVertexArray = new lr(), this.opacityVertexArray = new wr(), this.placedSymbolArray = new Ne();
        }
        isEmpty() {
          return this.layoutVertexArray.length === 0 && this.indexArray.length === 0 && this.dynamicLayoutVertexArray.length === 0 && this.opacityVertexArray.length === 0;
        }
        upload(r, d, m, f) {
          this.isEmpty() || (m && (this.layoutVertexBuffer = r.createVertexBuffer(this.layoutVertexArray, Jw.members), this.indexBuffer = r.createIndexBuffer(this.indexArray, d), this.dynamicLayoutVertexBuffer = r.createVertexBuffer(this.dynamicLayoutVertexArray, e4.members, !0), this.opacityVertexBuffer = r.createVertexBuffer(this.opacityVertexArray, A4, !0), this.opacityVertexBuffer.itemSize = 1), (m || f) && this.programConfigurations.upload(r));
        }
        destroy() {
          this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.dynamicLayoutVertexBuffer.destroy(), this.opacityVertexBuffer.destroy());
        }
      }
      lt("SymbolBuffers", af);
      class nf {
        constructor(r, d, m) {
          this.layoutVertexArray = new r(), this.layoutAttributes = d, this.indexArray = new m(), this.segments = new jt(), this.collisionVertexArray = new Vn();
        }
        upload(r) {
          this.layoutVertexBuffer = r.createVertexBuffer(this.layoutVertexArray, this.layoutAttributes), this.indexBuffer = r.createIndexBuffer(this.indexArray), this.collisionVertexBuffer = r.createVertexBuffer(this.collisionVertexArray, t4.members, !0);
        }
        destroy() {
          this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.segments.destroy(), this.collisionVertexBuffer.destroy());
        }
      }
      lt("CollisionBuffers", nf);
      class Cu {
        constructor(r) {
          this.collisionBoxArray = r.collisionBoxArray, this.zoom = r.zoom, this.overscaling = r.overscaling, this.layers = r.layers, this.layerIds = this.layers.map((w) => w.id), this.index = r.index, this.pixelRatio = r.pixelRatio, this.sourceLayerIndex = r.sourceLayerIndex, this.hasPattern = !1, this.hasRTLText = !1, this.sortKeyRanges = [], this.collisionCircleArray = [], this.placementInvProjMatrix = Dp([]), this.placementViewportMatrix = Dp([]);
          const d = this.layers[0]._unevaluatedLayout._values;
          this.textSizeData = f0(this.zoom, d["text-size"]), this.iconSizeData = f0(this.zoom, d["icon-size"]);
          const m = this.layers[0].layout, f = m.get("symbol-sort-key"), v = m.get("symbol-z-order");
          this.canOverlap = sf(m, "text-overlap", "text-allow-overlap") !== "never" || sf(m, "icon-overlap", "icon-allow-overlap") !== "never" || m.get("text-ignore-placement") || m.get("icon-ignore-placement"), this.sortFeaturesByKey = v !== "viewport-y" && !f.isConstant(), this.sortFeaturesByY = (v === "viewport-y" || v === "auto" && !this.sortFeaturesByKey) && this.canOverlap, m.get("symbol-placement") === "point" && (this.writingModes = m.get("text-writing-mode").map((w) => o.WritingMode[w])), this.stateDependentLayerIds = this.layers.filter((w) => w.isStateDependent()).map((w) => w.id), this.sourceID = r.sourceID;
        }
        createArrays() {
          this.text = new af(new wl(this.layers, this.zoom, (r) => /^text/.test(r))), this.icon = new af(new wl(this.layers, this.zoom, (r) => /^icon/.test(r))), this.glyphOffsetArray = new Ke(), this.lineVertexArray = new rt(), this.symbolInstances = new it();
        }
        calculateGlyphDependencies(r, d, m, f, v) {
          for (let w = 0; w < r.length; w++)
            if (d[r.charCodeAt(w)] = !0, (m || f) && v) {
              const E = nc[r.charAt(w)];
              E && (d[E.charCodeAt(0)] = !0);
            }
        }
        populate(r, d, m) {
          const f = this.layers[0], v = f.layout, w = v.get("text-font"), E = v.get("text-field"), C = v.get("icon-image"), P = (E.value.kind !== "constant" || E.value.value instanceof le && !E.value.value.isEmpty() || E.value.value.toString().length > 0) && (w.value.kind !== "constant" || w.value.value.length > 0), W = C.value.kind !== "constant" || !!C.value.value || Object.keys(C.parameters).length > 0, B = v.get("symbol-sort-key");
          if (this.features = [], !P && !W)
            return;
          const F = d.iconDependencies, U = d.glyphDependencies, V = d.availableImages, ne = new Na(this.zoom);
          for (const { feature: ae, id: ge, index: Te, sourceLayerIndex: fe } of r) {
            const xe = f._featureFilter.needGeometry, ze = Tl(ae, xe);
            if (!f._featureFilter.filter(ne, ze, m))
              continue;
            let De, st;
            if (xe || (ze.geometry = Sl(ae)), P) {
              const et = f.getValueAndResolveTokens("text-field", ze, m, V), Ye = le.factory(et);
              I4(Ye) && (this.hasRTLText = !0), (!this.hasRTLText || vl() === "unavailable" || this.hasRTLText && jn.isParsed()) && (De = i4(Ye, f, ze));
            }
            if (W) {
              const et = f.getValueAndResolveTokens("icon-image", ze, m, V);
              st = et instanceof me ? et : me.fromString(et);
            }
            if (!De && !st)
              continue;
            const _t = this.sortFeaturesByKey ? B.evaluate(ze, {}, m) : void 0;
            if (this.features.push({ id: ge, text: De, icon: st, index: Te, sourceLayerIndex: fe, geometry: ze.geometry, properties: ae.properties, type: C4[ae.type], sortKey: _t }), st && (F[st.name] = !0), De) {
              const et = w.evaluate(ze, {}, m).join(","), Ye = v.get("text-rotation-alignment") !== "viewport" && v.get("symbol-placement") !== "point";
              this.allowVerticalPlacement = this.writingModes && this.writingModes.indexOf(o.WritingMode.vertical) >= 0;
              for (const Xe of De.sections)
                if (Xe.image)
                  F[Xe.image.name] = !0;
                else {
                  const tt = fu(De.toString()), Qe = Xe.fontStack || et, qe = U[Qe] = U[Qe] || {};
                  this.calculateGlyphDependencies(Xe.text, qe, Ye, this.allowVerticalPlacement, tt);
                }
            }
          }
          v.get("symbol-placement") === "line" && (this.features = function(ae) {
            const ge = {}, Te = {}, fe = [];
            let xe = 0;
            function ze(et) {
              fe.push(ae[et]), xe++;
            }
            function De(et, Ye, Xe) {
              const tt = Te[et];
              return delete Te[et], Te[Ye] = tt, fe[tt].geometry[0].pop(), fe[tt].geometry[0] = fe[tt].geometry[0].concat(Xe[0]), tt;
            }
            function st(et, Ye, Xe) {
              const tt = ge[Ye];
              return delete ge[Ye], ge[et] = tt, fe[tt].geometry[0].shift(), fe[tt].geometry[0] = Xe[0].concat(fe[tt].geometry[0]), tt;
            }
            function _t(et, Ye, Xe) {
              const tt = Xe ? Ye[0][Ye[0].length - 1] : Ye[0][0];
              return `${et}:${tt.x}:${tt.y}`;
            }
            for (let et = 0; et < ae.length; et++) {
              const Ye = ae[et], Xe = Ye.geometry, tt = Ye.text ? Ye.text.toString() : null;
              if (!tt) {
                ze(et);
                continue;
              }
              const Qe = _t(tt, Xe), qe = _t(tt, Xe, !0);
              if (Qe in Te && qe in ge && Te[Qe] !== ge[qe]) {
                const wt = st(Qe, qe, Xe), gt = De(Qe, qe, fe[wt].geometry);
                delete ge[Qe], delete Te[qe], Te[_t(tt, fe[gt].geometry, !0)] = gt, fe[wt].geometry = null;
              } else
                Qe in Te ? De(Qe, qe, Xe) : qe in ge ? st(Qe, qe, Xe) : (ze(et), ge[Qe] = xe - 1, Te[qe] = xe - 1);
            }
            return fe.filter((et) => et.geometry);
          }(this.features)), this.sortFeaturesByKey && this.features.sort((ae, ge) => ae.sortKey - ge.sortKey);
        }
        update(r, d, m) {
          this.stateDependentLayers.length && (this.text.programConfigurations.updatePaintArrays(r, d, this.layers, m), this.icon.programConfigurations.updatePaintArrays(r, d, this.layers, m));
        }
        isEmpty() {
          return this.symbolInstances.length === 0 && !this.hasRTLText;
        }
        uploadPending() {
          return !this.uploaded || this.text.programConfigurations.needsUpload || this.icon.programConfigurations.needsUpload;
        }
        upload(r) {
          !this.uploaded && this.hasDebugData() && (this.textCollisionBox.upload(r), this.iconCollisionBox.upload(r)), this.text.upload(r, this.sortFeaturesByY, !this.uploaded, this.text.programConfigurations.needsUpload), this.icon.upload(r, this.sortFeaturesByY, !this.uploaded, this.icon.programConfigurations.needsUpload), this.uploaded = !0;
        }
        destroyDebugData() {
          this.textCollisionBox.destroy(), this.iconCollisionBox.destroy();
        }
        destroy() {
          this.text.destroy(), this.icon.destroy(), this.hasDebugData() && this.destroyDebugData();
        }
        addToLineVertexArray(r, d) {
          const m = this.lineVertexArray.length;
          if (r.segment !== void 0) {
            let f = r.dist(d[r.segment + 1]), v = r.dist(d[r.segment]);
            const w = {};
            for (let E = r.segment + 1; E < d.length; E++)
              w[E] = { x: d[E].x, y: d[E].y, tileUnitDistanceFromAnchor: f }, E < d.length - 1 && (f += d[E + 1].dist(d[E]));
            for (let E = r.segment || 0; E >= 0; E--)
              w[E] = { x: d[E].x, y: d[E].y, tileUnitDistanceFromAnchor: v }, E > 0 && (v += d[E - 1].dist(d[E]));
            for (let E = 0; E < d.length; E++) {
              const C = w[E];
              this.lineVertexArray.emplaceBack(C.x, C.y, C.tileUnitDistanceFromAnchor);
            }
          }
          return { lineStartIndex: m, lineLength: this.lineVertexArray.length - m };
        }
        addSymbols(r, d, m, f, v, w, E, C, P, W, B, F) {
          const U = r.indexArray, V = r.layoutVertexArray, ne = r.segments.prepareSegment(4 * d.length, V, U, this.canOverlap ? w.sortKey : void 0), ae = this.glyphOffsetArray.length, ge = ne.vertexLength, Te = this.allowVerticalPlacement && E === o.WritingMode.vertical ? Math.PI / 2 : 0, fe = w.text && w.text.sections;
          for (let xe = 0; xe < d.length; xe++) {
            const { tl: ze, tr: De, bl: st, br: _t, tex: et, pixelOffsetTL: Ye, pixelOffsetBR: Xe, minFontScaleX: tt, minFontScaleY: Qe, glyphOffset: qe, isSDF: wt, sectionIndex: gt } = d[xe], Nt = ne.vertexLength, Oa = qe[1];
            pm(V, C.x, C.y, ze.x, Oa + ze.y, et.x, et.y, m, wt, Ye.x, Ye.y, tt, Qe), pm(V, C.x, C.y, De.x, Oa + De.y, et.x + et.w, et.y, m, wt, Xe.x, Ye.y, tt, Qe), pm(V, C.x, C.y, st.x, Oa + st.y, et.x, et.y + et.h, m, wt, Ye.x, Xe.y, tt, Qe), pm(V, C.x, C.y, _t.x, Oa + _t.y, et.x + et.w, et.y + et.h, m, wt, Xe.x, Xe.y, tt, Qe), tf(r.dynamicLayoutVertexArray, C, Te), U.emplaceBack(Nt, Nt + 1, Nt + 2), U.emplaceBack(Nt + 1, Nt + 2, Nt + 3), ne.vertexLength += 4, ne.primitiveLength += 2, this.glyphOffsetArray.emplaceBack(qe[0]), xe !== d.length - 1 && gt === d[xe + 1].sectionIndex || r.programConfigurations.populatePaintArrays(V.length, w, w.index, {}, F, fe && fe[gt]);
          }
          r.placedSymbolArray.emplaceBack(C.x, C.y, ae, this.glyphOffsetArray.length - ae, ge, P, W, C.segment, m ? m[0] : 0, m ? m[1] : 0, f[0], f[1], E, 0, !1, 0, B);
        }
        _addCollisionDebugVertex(r, d, m, f, v, w) {
          return d.emplaceBack(0, 0), r.emplaceBack(m.x, m.y, f, v, Math.round(w.x), Math.round(w.y));
        }
        addCollisionDebugVertices(r, d, m, f, v, w, E) {
          const C = v.segments.prepareSegment(4, v.layoutVertexArray, v.indexArray), P = C.vertexLength, W = v.layoutVertexArray, B = v.collisionVertexArray, F = E.anchorX, U = E.anchorY;
          this._addCollisionDebugVertex(W, B, w, F, U, new Me(r, d)), this._addCollisionDebugVertex(W, B, w, F, U, new Me(m, d)), this._addCollisionDebugVertex(W, B, w, F, U, new Me(m, f)), this._addCollisionDebugVertex(W, B, w, F, U, new Me(r, f)), C.vertexLength += 4;
          const V = v.indexArray;
          V.emplaceBack(P, P + 1), V.emplaceBack(P + 1, P + 2), V.emplaceBack(P + 2, P + 3), V.emplaceBack(P + 3, P), C.primitiveLength += 4;
        }
        addDebugCollisionBoxes(r, d, m, f) {
          for (let v = r; v < d; v++) {
            const w = this.collisionBoxArray.get(v);
            this.addCollisionDebugVertices(w.x1, w.y1, w.x2, w.y2, f ? this.textCollisionBox : this.iconCollisionBox, w.anchorPoint, m);
          }
        }
        generateCollisionDebugBuffers() {
          this.hasDebugData() && this.destroyDebugData(), this.textCollisionBox = new nf(os, a0.members, zr), this.iconCollisionBox = new nf(os, a0.members, zr);
          for (let r = 0; r < this.symbolInstances.length; r++) {
            const d = this.symbolInstances.get(r);
            this.addDebugCollisionBoxes(d.textBoxStartIndex, d.textBoxEndIndex, d, !0), this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex, d.verticalTextBoxEndIndex, d, !0), this.addDebugCollisionBoxes(d.iconBoxStartIndex, d.iconBoxEndIndex, d, !1), this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex, d.verticalIconBoxEndIndex, d, !1);
          }
        }
        _deserializeCollisionBoxesForSymbol(r, d, m, f, v, w, E, C, P) {
          const W = {};
          for (let B = d; B < m; B++) {
            const F = r.get(B);
            W.textBox = { x1: F.x1, y1: F.y1, x2: F.x2, y2: F.y2, anchorPointX: F.anchorPointX, anchorPointY: F.anchorPointY }, W.textFeatureIndex = F.featureIndex;
            break;
          }
          for (let B = f; B < v; B++) {
            const F = r.get(B);
            W.verticalTextBox = { x1: F.x1, y1: F.y1, x2: F.x2, y2: F.y2, anchorPointX: F.anchorPointX, anchorPointY: F.anchorPointY }, W.verticalTextFeatureIndex = F.featureIndex;
            break;
          }
          for (let B = w; B < E; B++) {
            const F = r.get(B);
            W.iconBox = { x1: F.x1, y1: F.y1, x2: F.x2, y2: F.y2, anchorPointX: F.anchorPointX, anchorPointY: F.anchorPointY }, W.iconFeatureIndex = F.featureIndex;
            break;
          }
          for (let B = C; B < P; B++) {
            const F = r.get(B);
            W.verticalIconBox = { x1: F.x1, y1: F.y1, x2: F.x2, y2: F.y2, anchorPointX: F.anchorPointX, anchorPointY: F.anchorPointY }, W.verticalIconFeatureIndex = F.featureIndex;
            break;
          }
          return W;
        }
        deserializeCollisionBoxes(r) {
          this.collisionArrays = [];
          for (let d = 0; d < this.symbolInstances.length; d++) {
            const m = this.symbolInstances.get(d);
            this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r, m.textBoxStartIndex, m.textBoxEndIndex, m.verticalTextBoxStartIndex, m.verticalTextBoxEndIndex, m.iconBoxStartIndex, m.iconBoxEndIndex, m.verticalIconBoxStartIndex, m.verticalIconBoxEndIndex));
          }
        }
        hasTextData() {
          return this.text.segments.get().length > 0;
        }
        hasIconData() {
          return this.icon.segments.get().length > 0;
        }
        hasDebugData() {
          return this.textCollisionBox && this.iconCollisionBox;
        }
        hasTextCollisionBoxData() {
          return this.hasDebugData() && this.textCollisionBox.segments.get().length > 0;
        }
        hasIconCollisionBoxData() {
          return this.hasDebugData() && this.iconCollisionBox.segments.get().length > 0;
        }
        addIndicesForPlacedSymbol(r, d) {
          const m = r.placedSymbolArray.get(d), f = m.vertexStartIndex + 4 * m.numGlyphs;
          for (let v = m.vertexStartIndex; v < f; v += 4)
            r.indexArray.emplaceBack(v, v + 1, v + 2), r.indexArray.emplaceBack(v + 1, v + 2, v + 3);
        }
        getSortedSymbolIndexes(r) {
          if (this.sortedAngle === r && this.symbolInstanceIndexes !== void 0)
            return this.symbolInstanceIndexes;
          const d = Math.sin(r), m = Math.cos(r), f = [], v = [], w = [];
          for (let E = 0; E < this.symbolInstances.length; ++E) {
            w.push(E);
            const C = this.symbolInstances.get(E);
            f.push(0 | Math.round(d * C.anchorX + m * C.anchorY)), v.push(C.featureIndex);
          }
          return w.sort((E, C) => f[E] - f[C] || v[C] - v[E]), w;
        }
        addToSortKeyRanges(r, d) {
          const m = this.sortKeyRanges[this.sortKeyRanges.length - 1];
          m && m.sortKey === d ? m.symbolInstanceEnd = r + 1 : this.sortKeyRanges.push({ sortKey: d, symbolInstanceStart: r, symbolInstanceEnd: r + 1 });
        }
        sortFeatures(r) {
          if (this.sortFeaturesByY && this.sortedAngle !== r && !(this.text.segments.get().length > 1 || this.icon.segments.get().length > 1)) {
            this.symbolInstanceIndexes = this.getSortedSymbolIndexes(r), this.sortedAngle = r, this.text.indexArray.clear(), this.icon.indexArray.clear(), this.featureSortOrder = [];
            for (const d of this.symbolInstanceIndexes) {
              const m = this.symbolInstances.get(d);
              this.featureSortOrder.push(m.featureIndex), [m.rightJustifiedTextSymbolIndex, m.centerJustifiedTextSymbolIndex, m.leftJustifiedTextSymbolIndex].forEach((f, v, w) => {
                f >= 0 && w.indexOf(f) === v && this.addIndicesForPlacedSymbol(this.text, f);
              }), m.verticalPlacedTextSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.text, m.verticalPlacedTextSymbolIndex), m.placedIconSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.icon, m.placedIconSymbolIndex), m.verticalPlacedIconSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.icon, m.verticalPlacedIconSymbolIndex);
            }
            this.text.indexBuffer && this.text.indexBuffer.updateData(this.text.indexArray), this.icon.indexBuffer && this.icon.indexBuffer.updateData(this.icon.indexArray);
          }
        }
      }
      lt("SymbolBucket", Cu, { omit: ["layers", "collisionBoxArray", "features", "compareText"] }), Cu.MAX_GLYPHS = 65535, Cu.addDynamicAttributes = tf;
      const P4 = new Bi({ "symbol-placement": new pt(Ae.layout_symbol["symbol-placement"]), "symbol-spacing": new pt(Ae.layout_symbol["symbol-spacing"]), "symbol-avoid-edges": new pt(Ae.layout_symbol["symbol-avoid-edges"]), "symbol-sort-key": new Tt(Ae.layout_symbol["symbol-sort-key"]), "symbol-z-order": new pt(Ae.layout_symbol["symbol-z-order"]), "icon-allow-overlap": new pt(Ae.layout_symbol["icon-allow-overlap"]), "icon-overlap": new pt(Ae.layout_symbol["icon-overlap"]), "icon-ignore-placement": new pt(Ae.layout_symbol["icon-ignore-placement"]), "icon-optional": new pt(Ae.layout_symbol["icon-optional"]), "icon-rotation-alignment": new pt(Ae.layout_symbol["icon-rotation-alignment"]), "icon-size": new Tt(Ae.layout_symbol["icon-size"]), "icon-text-fit": new pt(Ae.layout_symbol["icon-text-fit"]), "icon-text-fit-padding": new pt(Ae.layout_symbol["icon-text-fit-padding"]), "icon-image": new Tt(Ae.layout_symbol["icon-image"]), "icon-rotate": new Tt(Ae.layout_symbol["icon-rotate"]), "icon-padding": new Tt(Ae.layout_symbol["icon-padding"]), "icon-keep-upright": new pt(Ae.layout_symbol["icon-keep-upright"]), "icon-offset": new Tt(Ae.layout_symbol["icon-offset"]), "icon-anchor": new Tt(Ae.layout_symbol["icon-anchor"]), "icon-pitch-alignment": new pt(Ae.layout_symbol["icon-pitch-alignment"]), "text-pitch-alignment": new pt(Ae.layout_symbol["text-pitch-alignment"]), "text-rotation-alignment": new pt(Ae.layout_symbol["text-rotation-alignment"]), "text-field": new Tt(Ae.layout_symbol["text-field"]), "text-font": new Tt(Ae.layout_symbol["text-font"]), "text-size": new Tt(Ae.layout_symbol["text-size"]), "text-max-width": new Tt(Ae.layout_symbol["text-max-width"]), "text-line-height": new pt(Ae.layout_symbol["text-line-height"]), "text-letter-spacing": new Tt(Ae.layout_symbol["text-letter-spacing"]), "text-justify": new Tt(Ae.layout_symbol["text-justify"]), "text-radial-offset": new Tt(Ae.layout_symbol["text-radial-offset"]), "text-variable-anchor": new pt(Ae.layout_symbol["text-variable-anchor"]), "text-anchor": new Tt(Ae.layout_symbol["text-anchor"]), "text-max-angle": new pt(Ae.layout_symbol["text-max-angle"]), "text-writing-mode": new pt(Ae.layout_symbol["text-writing-mode"]), "text-rotate": new Tt(Ae.layout_symbol["text-rotate"]), "text-padding": new pt(Ae.layout_symbol["text-padding"]), "text-keep-upright": new pt(Ae.layout_symbol["text-keep-upright"]), "text-transform": new Tt(Ae.layout_symbol["text-transform"]), "text-offset": new Tt(Ae.layout_symbol["text-offset"]), "text-allow-overlap": new pt(Ae.layout_symbol["text-allow-overlap"]), "text-overlap": new pt(Ae.layout_symbol["text-overlap"]), "text-ignore-placement": new pt(Ae.layout_symbol["text-ignore-placement"]), "text-optional": new pt(Ae.layout_symbol["text-optional"]) });
      var rf = { paint: new Bi({ "icon-opacity": new Tt(Ae.paint_symbol["icon-opacity"]), "icon-color": new Tt(Ae.paint_symbol["icon-color"]), "icon-halo-color": new Tt(Ae.paint_symbol["icon-halo-color"]), "icon-halo-width": new Tt(Ae.paint_symbol["icon-halo-width"]), "icon-halo-blur": new Tt(Ae.paint_symbol["icon-halo-blur"]), "icon-translate": new pt(Ae.paint_symbol["icon-translate"]), "icon-translate-anchor": new pt(Ae.paint_symbol["icon-translate-anchor"]), "text-opacity": new Tt(Ae.paint_symbol["text-opacity"]), "text-color": new Tt(Ae.paint_symbol["text-color"], { runtimeType: hi, getOverride: (l) => l.textColor, hasOverride: (l) => !!l.textColor }), "text-halo-color": new Tt(Ae.paint_symbol["text-halo-color"]), "text-halo-width": new Tt(Ae.paint_symbol["text-halo-width"]), "text-halo-blur": new Tt(Ae.paint_symbol["text-halo-blur"]), "text-translate": new pt(Ae.paint_symbol["text-translate"]), "text-translate-anchor": new pt(Ae.paint_symbol["text-translate-anchor"]) }), layout: P4 };
      class C0 {
        constructor(r) {
          if (r.property.overrides === void 0)
            throw new Error("overrides must be provided to instantiate FormatSectionOverride class");
          this.type = r.property.overrides ? r.property.overrides.runtimeType : Un, this.defaultValue = r;
        }
        evaluate(r) {
          if (r.formattedSection) {
            const d = this.defaultValue.property.overrides;
            if (d && d.hasOverride(r.formattedSection))
              return d.getOverride(r.formattedSection);
          }
          return r.feature && r.featureState ? this.defaultValue.evaluate(r.feature, r.featureState) : this.defaultValue.property.specification.default;
        }
        eachChild(r) {
          this.defaultValue.isConstant() || r(this.defaultValue.value._styleExpression.expression);
        }
        outputDefined() {
          return !1;
        }
        serialize() {
          return null;
        }
      }
      lt("FormatSectionOverride", C0, { omit: ["defaultValue"] });
      class fm extends br {
        constructor(r) {
          super(r, rf);
        }
        recalculate(r, d) {
          if (super.recalculate(r, d), this.layout.get("icon-rotation-alignment") === "auto" && (this.layout._values["icon-rotation-alignment"] = this.layout.get("symbol-placement") !== "point" ? "map" : "viewport"), this.layout.get("text-rotation-alignment") === "auto" && (this.layout._values["text-rotation-alignment"] = this.layout.get("symbol-placement") !== "point" ? "map" : "viewport"), this.layout.get("text-pitch-alignment") === "auto" && (this.layout._values["text-pitch-alignment"] = this.layout.get("text-rotation-alignment") === "map" ? "map" : "viewport"), this.layout.get("icon-pitch-alignment") === "auto" && (this.layout._values["icon-pitch-alignment"] = this.layout.get("icon-rotation-alignment")), this.layout.get("symbol-placement") === "point") {
            const m = this.layout.get("text-writing-mode");
            if (m) {
              const f = [];
              for (const v of m)
                f.indexOf(v) < 0 && f.push(v);
              this.layout._values["text-writing-mode"] = f;
            } else
              this.layout._values["text-writing-mode"] = ["horizontal"];
          }
          this._setPaintOverrides();
        }
        getValueAndResolveTokens(r, d, m, f) {
          const v = this.layout.get(r).evaluate(d, {}, m, f), w = this._unevaluatedLayout._values[r];
          return w.isDataDriven() || sl(w.value) || !v ? v : function(E, C) {
            return C.replace(/{([^{}]+)}/g, (P, W) => W in E ? String(E[W]) : "");
          }(d.properties, v);
        }
        createBucket(r) {
          return new Cu(r);
        }
        queryRadius() {
          return 0;
        }
        queryIntersectsFeature() {
          throw new Error("Should take a different path in FeatureIndex");
        }
        _setPaintOverrides() {
          for (const r of rf.paint.overridableProperties) {
            if (!fm.hasPaintOverride(this.layout, r))
              continue;
            const d = this.paint.get(r), m = new C0(d), f = new du(m, d.property.specification);
            let v = null;
            v = d.value.kind === "constant" || d.value.kind === "source" ? new ll("source", f) : new Od("composite", f, d.value.zoomStops), this.paint._values[r] = new vr(d.property, v, d.parameters);
          }
        }
        _handleOverridablePaintPropertyUpdate(r, d, m) {
          return !(!this.layout || d.isDataDriven() || m.isDataDriven()) && fm.hasPaintOverride(this.layout, r);
        }
        static hasPaintOverride(r, d) {
          const m = r.get("text-field"), f = rf.paint.properties[d];
          let v = !1;
          const w = (E) => {
            for (const C of E)
              if (f.overrides && f.overrides.hasOverride(C))
                return void (v = !0);
          };
          if (m.value.kind === "constant" && m.value.value instanceof le)
            w(m.value.value.sections);
          else if (m.value.kind === "source") {
            const E = (P) => {
              v || (P instanceof Ue && oe(P.value) === ri ? w(P.value.sections) : P instanceof lu ? w(P.sections) : P.eachChild(E));
            }, C = m.value;
            C._styleExpression && E(C._styleExpression.expression);
          }
          return v;
        }
      }
      function sf(l, r, d) {
        let m = "never";
        const f = l.get(r);
        return f ? m = f : l.get(d) && (m = "always"), m;
      }
      var O4 = { paint: new Bi({ "background-color": new pt(Ae.paint_background["background-color"]), "background-pattern": new jd(Ae.paint_background["background-pattern"]), "background-opacity": new pt(Ae.paint_background["background-opacity"]) }) }, R4 = { paint: new Bi({ "raster-opacity": new pt(Ae.paint_raster["raster-opacity"]), "raster-hue-rotate": new pt(Ae.paint_raster["raster-hue-rotate"]), "raster-brightness-min": new pt(Ae.paint_raster["raster-brightness-min"]), "raster-brightness-max": new pt(Ae.paint_raster["raster-brightness-max"]), "raster-saturation": new pt(Ae.paint_raster["raster-saturation"]), "raster-contrast": new pt(Ae.paint_raster["raster-contrast"]), "raster-resampling": new pt(Ae.paint_raster["raster-resampling"]), "raster-fade-duration": new pt(Ae.paint_raster["raster-fade-duration"]) }) };
      class k4 extends br {
        constructor(r) {
          super(r, {}), this.onAdd = (d) => {
            this.implementation.onAdd && this.implementation.onAdd(d, d.painter.context.gl);
          }, this.onRemove = (d) => {
            this.implementation.onRemove && this.implementation.onRemove(d, d.painter.context.gl);
          }, this.implementation = r;
        }
        is3D() {
          return this.implementation.renderingMode === "3d";
        }
        hasOffscreenPass() {
          return this.implementation.prerender !== void 0;
        }
        recalculate() {
        }
        updateTransitions() {
        }
        hasTransition() {
          return !1;
        }
        serialize() {
          throw new Error("Custom layers cannot be serialized");
        }
      }
      const D4 = { circle: class extends br {
        constructor(l) {
          super(l, _w);
        }
        createBucket(l) {
          return new Op(l);
        }
        queryRadius(l) {
          const r = l;
          return Xd("circle-radius", this, r) + Xd("circle-stroke-width", this, r) + J_(this.paint.get("circle-translate"));
        }
        queryIntersectsFeature(l, r, d, m, f, v, w, E) {
          const C = em(l, this.paint.get("circle-translate"), this.paint.get("circle-translate-anchor"), v.angle, w), P = this.paint.get("circle-radius").evaluate(r, d) + this.paint.get("circle-stroke-width").evaluate(r, d), W = this.paint.get("circle-pitch-alignment") === "map", B = W ? C : function(U, V) {
            return U.map((ne) => Ny(ne, V));
          }(C, E), F = W ? P * w : P;
          for (const U of m)
            for (const V of U) {
              const ne = W ? V : Ny(V, E);
              let ae = F;
              const ge = tm([], [V.x, V.y, 0, 1], E);
              if (this.paint.get("circle-pitch-scale") === "viewport" && this.paint.get("circle-pitch-alignment") === "map" ? ae *= ge[3] / v.cameraToCenterDistance : this.paint.get("circle-pitch-scale") === "map" && this.paint.get("circle-pitch-alignment") === "viewport" && (ae *= v.cameraToCenterDistance / ge[3]), ow(B, ne, ae))
                return !0;
            }
          return !1;
        }
      }, heatmap: class extends br {
        constructor(l) {
          super(l, hw), this._updateColorRamp();
        }
        createBucket(l) {
          return new qy(l);
        }
        _handleSpecialPaintPropertyUpdate(l) {
          l === "heatmap-color" && this._updateColorRamp();
        }
        _updateColorRamp() {
          this.colorRamp = Gy({ expression: this._transitionablePaint._values["heatmap-color"].value.expression, evaluationKey: "heatmapDensity", image: this.colorRamp }), this.colorRampTexture = null;
        }
        resize() {
          this.heatmapFbo && (this.heatmapFbo.destroy(), this.heatmapFbo = null);
        }
        queryRadius() {
          return 0;
        }
        queryIntersectsFeature() {
          return !1;
        }
        hasOffscreenPass() {
          return this.paint.get("heatmap-opacity") !== 0 && this.visibility !== "none";
        }
      }, hillshade: class extends br {
        constructor(l) {
          super(l, pw);
        }
        hasOffscreenPass() {
          return this.paint.get("hillshade-exaggeration") !== 0 && this.visibility !== "none";
        }
      }, fill: class extends br {
        constructor(l) {
          super(l, Pw);
        }
        recalculate(l, r) {
          super.recalculate(l, r);
          const d = this.paint._values["fill-outline-color"];
          d.value.kind === "constant" && d.value.value === void 0 && (this.paint._values["fill-outline-color"] = this.paint._values["fill-color"]);
        }
        createBucket(l) {
          return new jp(l);
        }
        queryRadius() {
          return J_(this.paint.get("fill-translate"));
        }
        queryIntersectsFeature(l, r, d, m, f, v, w) {
          return Py(em(l, this.paint.get("fill-translate"), this.paint.get("fill-translate-anchor"), v.angle, w), m);
        }
        isTileClipped() {
          return !0;
        }
      }, "fill-extrusion": class extends br {
        constructor(l) {
          super(l, Vw);
        }
        createBucket(l) {
          return new $p(l);
        }
        queryRadius() {
          return J_(this.paint.get("fill-extrusion-translate"));
        }
        is3D() {
          return !0;
        }
        queryIntersectsFeature(l, r, d, m, f, v, w, E) {
          const C = em(l, this.paint.get("fill-extrusion-translate"), this.paint.get("fill-extrusion-translate-anchor"), v.angle, w), P = this.paint.get("fill-extrusion-height").evaluate(r, d), W = this.paint.get("fill-extrusion-base").evaluate(r, d), B = function(U, V, ne, ae) {
            const ge = [];
            for (const Te of U) {
              const fe = [Te.x, Te.y, 0, 1];
              tm(fe, fe, V), ge.push(new Me(fe[0] / fe[3], fe[1] / fe[3]));
            }
            return ge;
          }(C, E), F = function(U, V, ne, ae) {
            const ge = [], Te = [], fe = ae[8] * V, xe = ae[9] * V, ze = ae[10] * V, De = ae[11] * V, st = ae[8] * ne, _t = ae[9] * ne, et = ae[10] * ne, Ye = ae[11] * ne;
            for (const Xe of U) {
              const tt = [], Qe = [];
              for (const qe of Xe) {
                const wt = qe.x, gt = qe.y, Nt = ae[0] * wt + ae[4] * gt + ae[12], Oa = ae[1] * wt + ae[5] * gt + ae[13], Fa = ae[2] * wt + ae[6] * gt + ae[14], gi = ae[3] * wt + ae[7] * gt + ae[15], cr = Fa + ze, Vi = gi + De, oi = Nt + st, Ai = Oa + _t, $i = Fa + et, nn = gi + Ye, Pn = new Me((Nt + fe) / Vi, (Oa + xe) / Vi);
                Pn.z = cr / Vi, tt.push(Pn);
                const li = new Me(oi / nn, Ai / nn);
                li.z = $i / nn, Qe.push(li);
              }
              ge.push(tt), Te.push(Qe);
            }
            return [ge, Te];
          }(m, W, P, E);
          return function(U, V, ne) {
            let ae = 1 / 0;
            Py(ne, V) && (ae = Yy(ne, V[0]));
            for (let ge = 0; ge < V.length; ge++) {
              const Te = V[ge], fe = U[ge];
              for (let xe = 0; xe < Te.length - 1; xe++) {
                const ze = Te[xe], De = [ze, Te[xe + 1], fe[xe + 1], fe[xe], ze];
                Iy(ne, De) && (ae = Math.min(ae, Yy(ne, De)));
              }
            }
            return ae !== 1 / 0 && ae;
          }(F[0], F[1], B);
        }
      }, line: class extends br {
        constructor(l) {
          super(l, Jy), this.gradientVersion = 0;
        }
        _handleSpecialPaintPropertyUpdate(l) {
          l === "line-gradient" && (this.stepInterpolant = this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof tl, this.gradientVersion = (this.gradientVersion + 1) % Number.MAX_SAFE_INTEGER);
        }
        gradientExpression() {
          return this._transitionablePaint._values["line-gradient"].value.expression;
        }
        recalculate(l, r) {
          super.recalculate(l, r), this.paint._values["line-floorwidth"] = e0.possiblyEvaluate(this._transitioningPaint._values["line-width"].value, l);
        }
        createBucket(l) {
          return new Zp(l);
        }
        queryRadius(l) {
          const r = l, d = t0(Xd("line-width", this, r), Xd("line-gap-width", this, r)), m = Xd("line-offset", this, r);
          return d / 2 + Math.abs(m) + J_(this.paint.get("line-translate"));
        }
        queryIntersectsFeature(l, r, d, m, f, v, w) {
          const E = em(l, this.paint.get("line-translate"), this.paint.get("line-translate-anchor"), v.angle, w), C = w / 2 * t0(this.paint.get("line-width").evaluate(r, d), this.paint.get("line-gap-width").evaluate(r, d)), P = this.paint.get("line-offset").evaluate(r, d);
          return P && (m = function(W, B) {
            const F = [];
            for (let U = 0; U < W.length; U++) {
              const V = W[U], ne = [];
              for (let ae = 0; ae < V.length; ae++) {
                const ge = V[ae - 1], Te = V[ae], fe = V[ae + 1], xe = ae === 0 ? new Me(0, 0) : Te.sub(ge)._unit()._perp(), ze = ae === V.length - 1 ? new Me(0, 0) : fe.sub(Te)._unit()._perp(), De = xe._add(ze)._unit(), st = De.x * ze.x + De.y * ze.y;
                st !== 0 && De._mult(1 / st), ne.push(De._mult(B)._add(Te));
              }
              F.push(ne);
            }
            return F;
          }(m, P * w)), function(W, B, F) {
            for (let U = 0; U < B.length; U++) {
              const V = B[U];
              if (W.length >= 3) {
                for (let ne = 0; ne < V.length; ne++)
                  if (xu(W, V[ne]))
                    return !0;
              }
              if (lw(W, V, F))
                return !0;
            }
            return !1;
          }(E, m, C);
        }
        isTileClipped() {
          return !0;
        }
      }, symbol: fm, background: class extends br {
        constructor(l) {
          super(l, O4);
        }
      }, raster: class extends br {
        constructor(l) {
          super(l, R4);
        }
      } };
      class W4 {
        constructor(r) {
          this._callback = r, this._triggered = !1, typeof MessageChannel < "u" && (this._channel = new MessageChannel(), this._channel.port2.onmessage = () => {
            this._triggered = !1, this._callback();
          });
        }
        trigger() {
          this._triggered || (this._triggered = !0, this._channel ? this._channel.port1.postMessage(!0) : setTimeout(() => {
            this._triggered = !1, this._callback();
          }, 0));
        }
        remove() {
          delete this._channel, this._callback = () => {
          };
        }
      }
      const A0 = 63710088e-1;
      class ei {
        constructor(r, d) {
          if (isNaN(r) || isNaN(d))
            throw new Error(`Invalid LngLat object: (${r}, ${d})`);
          if (this.lng = +r, this.lat = +d, this.lat > 90 || this.lat < -90)
            throw new Error("Invalid LngLat latitude value: must be between -90 and 90");
        }
        wrap() {
          return new ei(R(this.lng, -180, 180), this.lat);
        }
        toArray() {
          return [this.lng, this.lat];
        }
        toString() {
          return `LngLat(${this.lng}, ${this.lat})`;
        }
        distanceTo(r) {
          const d = Math.PI / 180, m = this.lat * d, f = r.lat * d, v = Math.sin(m) * Math.sin(f) + Math.cos(m) * Math.cos(f) * Math.cos((r.lng - this.lng) * d);
          return A0 * Math.acos(Math.min(v, 1));
        }
        toBounds(r = 0) {
          const d = 360 * r / 40075017, m = d / Math.cos(Math.PI / 180 * this.lat);
          return new El(new ei(this.lng - m, this.lat - d), new ei(this.lng + m, this.lat + d));
        }
        static convert(r) {
          if (r instanceof ei)
            return r;
          if (Array.isArray(r) && (r.length === 2 || r.length === 3))
            return new ei(Number(r[0]), Number(r[1]));
          if (!Array.isArray(r) && typeof r == "object" && r !== null)
            return new ei(Number("lng" in r ? r.lng : r.lon), Number(r.lat));
          throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]");
        }
      }
      class El {
        constructor(r, d) {
          r && (d ? this.setSouthWest(r).setNorthEast(d) : r.length === 4 ? this.setSouthWest([r[0], r[1]]).setNorthEast([r[2], r[3]]) : this.setSouthWest(r[0]).setNorthEast(r[1]));
        }
        setNorthEast(r) {
          return this._ne = r instanceof ei ? new ei(r.lng, r.lat) : ei.convert(r), this;
        }
        setSouthWest(r) {
          return this._sw = r instanceof ei ? new ei(r.lng, r.lat) : ei.convert(r), this;
        }
        extend(r) {
          const d = this._sw, m = this._ne;
          let f, v;
          if (r instanceof ei)
            f = r, v = r;
          else {
            if (!(r instanceof El))
              return Array.isArray(r) ? r.length === 4 || r.every(Array.isArray) ? this.extend(El.convert(r)) : this.extend(ei.convert(r)) : this;
            if (f = r._sw, v = r._ne, !f || !v)
              return this;
          }
          return d || m ? (d.lng = Math.min(f.lng, d.lng), d.lat = Math.min(f.lat, d.lat), m.lng = Math.max(v.lng, m.lng), m.lat = Math.max(v.lat, m.lat)) : (this._sw = new ei(f.lng, f.lat), this._ne = new ei(v.lng, v.lat)), this;
        }
        getCenter() {
          return new ei((this._sw.lng + this._ne.lng) / 2, (this._sw.lat + this._ne.lat) / 2);
        }
        getSouthWest() {
          return this._sw;
        }
        getNorthEast() {
          return this._ne;
        }
        getNorthWest() {
          return new ei(this.getWest(), this.getNorth());
        }
        getSouthEast() {
          return new ei(this.getEast(), this.getSouth());
        }
        getWest() {
          return this._sw.lng;
        }
        getSouth() {
          return this._sw.lat;
        }
        getEast() {
          return this._ne.lng;
        }
        getNorth() {
          return this._ne.lat;
        }
        toArray() {
          return [this._sw.toArray(), this._ne.toArray()];
        }
        toString() {
          return `LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`;
        }
        isEmpty() {
          return !(this._sw && this._ne);
        }
        contains(r) {
          const { lng: d, lat: m } = ei.convert(r);
          let f = this._sw.lng <= d && d <= this._ne.lng;
          return this._sw.lng > this._ne.lng && (f = this._sw.lng >= d && d >= this._ne.lng), this._sw.lat <= m && m <= this._ne.lat && f;
        }
        static convert(r) {
          return r instanceof El ? r : r && new El(r);
        }
      }
      const I0 = 2 * Math.PI * A0;
      function P0(l) {
        return I0 * Math.cos(l * Math.PI / 180);
      }
      function O0(l) {
        return (180 + l) / 360;
      }
      function R0(l) {
        return (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + l * Math.PI / 360))) / 360;
      }
      function k0(l, r) {
        return l / P0(r);
      }
      function of(l) {
        return 360 / Math.PI * Math.atan(Math.exp((180 - 360 * l) * Math.PI / 180)) - 90;
      }
      class gm {
        constructor(r, d, m = 0) {
          this.x = +r, this.y = +d, this.z = +m;
        }
        static fromLngLat(r, d = 0) {
          const m = ei.convert(r);
          return new gm(O0(m.lng), R0(m.lat), k0(d, m.lat));
        }
        toLngLat() {
          return new ei(360 * this.x - 180, of(this.y));
        }
        toAltitude() {
          return this.z * P0(of(this.y));
        }
        meterInMercatorCoordinateUnits() {
          return 1 / I0 * (r = of(this.y), 1 / Math.cos(r * Math.PI / 180));
          var r;
        }
      }
      function D0(l, r, d) {
        var m = 2 * Math.PI * 6378137 / 256 / Math.pow(2, d);
        return [l * m - 2 * Math.PI * 6378137 / 2, r * m - 2 * Math.PI * 6378137 / 2];
      }
      class lf {
        constructor(r, d, m) {
          if (r < 0 || r > 25 || m < 0 || m >= Math.pow(2, r) || d < 0 || d >= Math.pow(2, r))
            throw new Error(`x=${d}, y=${m}, z=${r} outside of bounds. 0<=x<${Math.pow(2, r)}, 0<=y<${Math.pow(2, r)} 0<=z<=25 `);
          this.z = r, this.x = d, this.y = m, this.key = sc(0, r, r, d, m);
        }
        equals(r) {
          return this.z === r.z && this.x === r.x && this.y === r.y;
        }
        url(r, d, m) {
          const f = (w = this.y, E = this.z, C = D0(256 * (v = this.x), 256 * (w = Math.pow(2, E) - w - 1), E), P = D0(256 * (v + 1), 256 * (w + 1), E), C[0] + "," + C[1] + "," + P[0] + "," + P[1]);
          var v, w, E, C, P;
          const W = function(B, F, U) {
            let V, ne = "";
            for (let ae = B; ae > 0; ae--)
              V = 1 << ae - 1, ne += (F & V ? 1 : 0) + (U & V ? 2 : 0);
            return ne;
          }(this.z, this.x, this.y);
          return r[(this.x + this.y) % r.length].replace(/{prefix}/g, (this.x % 16).toString(16) + (this.y % 16).toString(16)).replace(/{z}/g, String(this.z)).replace(/{x}/g, String(this.x)).replace(/{y}/g, String(m === "tms" ? Math.pow(2, this.z) - this.y - 1 : this.y)).replace(/{ratio}/g, d > 1 ? "@2x" : "").replace(/{quadkey}/g, W).replace(/{bbox-epsg-3857}/g, f);
        }
        isChildOf(r) {
          const d = this.z - r.z;
          return d > 0 && r.x === this.x >> d && r.y === this.y >> d;
        }
        getTilePoint(r) {
          const d = Math.pow(2, this.z);
          return new Me((r.x * d - this.x) * fi, (r.y * d - this.y) * fi);
        }
        toString() {
          return `${this.z}/${this.x}/${this.y}`;
        }
      }
      class W0 {
        constructor(r, d) {
          this.wrap = r, this.canonical = d, this.key = sc(r, d.z, d.z, d.x, d.y);
        }
      }
      class dr {
        constructor(r, d, m, f, v) {
          if (r < m)
            throw new Error(`overscaledZ should be >= z; overscaledZ = ${r}; z = ${m}`);
          this.overscaledZ = r, this.wrap = d, this.canonical = new lf(m, +f, +v), this.key = sc(d, r, m, f, v);
        }
        clone() {
          return new dr(this.overscaledZ, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y);
        }
        equals(r) {
          return this.overscaledZ === r.overscaledZ && this.wrap === r.wrap && this.canonical.equals(r.canonical);
        }
        scaledTo(r) {
          if (r > this.overscaledZ)
            throw new Error(`targetZ > this.overscaledZ; targetZ = ${r}; overscaledZ = ${this.overscaledZ}`);
          const d = this.canonical.z - r;
          return r > this.canonical.z ? new dr(r, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y) : new dr(r, this.wrap, r, this.canonical.x >> d, this.canonical.y >> d);
        }
        calculateScaledKey(r, d) {
          if (r > this.overscaledZ)
            throw new Error(`targetZ > this.overscaledZ; targetZ = ${r}; overscaledZ = ${this.overscaledZ}`);
          const m = this.canonical.z - r;
          return r > this.canonical.z ? sc(this.wrap * +d, r, this.canonical.z, this.canonical.x, this.canonical.y) : sc(this.wrap * +d, r, r, this.canonical.x >> m, this.canonical.y >> m);
        }
        isChildOf(r) {
          if (r.wrap !== this.wrap)
            return !1;
          const d = this.canonical.z - r.canonical.z;
          return r.overscaledZ === 0 || r.overscaledZ < this.overscaledZ && r.canonical.x === this.canonical.x >> d && r.canonical.y === this.canonical.y >> d;
        }
        children(r) {
          if (this.overscaledZ >= r)
            return [new dr(this.overscaledZ + 1, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y)];
          const d = this.canonical.z + 1, m = 2 * this.canonical.x, f = 2 * this.canonical.y;
          return [new dr(d, this.wrap, d, m, f), new dr(d, this.wrap, d, m + 1, f), new dr(d, this.wrap, d, m, f + 1), new dr(d, this.wrap, d, m + 1, f + 1)];
        }
        isLessThan(r) {
          return this.wrap < r.wrap || !(this.wrap > r.wrap) && (this.overscaledZ < r.overscaledZ || !(this.overscaledZ > r.overscaledZ) && (this.canonical.x < r.canonical.x || !(this.canonical.x > r.canonical.x) && this.canonical.y < r.canonical.y));
        }
        wrapped() {
          return new dr(this.overscaledZ, 0, this.canonical.z, this.canonical.x, this.canonical.y);
        }
        unwrapTo(r) {
          return new dr(this.overscaledZ, r, this.canonical.z, this.canonical.x, this.canonical.y);
        }
        overscaleFactor() {
          return Math.pow(2, this.overscaledZ - this.canonical.z);
        }
        toUnwrapped() {
          return new W0(this.wrap, this.canonical);
        }
        toString() {
          return `${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`;
        }
        getTilePoint(r) {
          return this.canonical.getTilePoint(new gm(r.x - this.wrap, r.y));
        }
      }
      function sc(l, r, d, m, f) {
        (l *= 2) < 0 && (l = -1 * l - 1);
        const v = 1 << d;
        return (v * v * l + v * f + m).toString(36) + d.toString(36) + r.toString(36);
      }
      lt("CanonicalTileID", lf), lt("OverscaledTileID", dr, { omit: ["posMatrix"] });
      class z0 {
        constructor(r, d, m) {
          if (this.uid = r, d.height !== d.width)
            throw new RangeError("DEM tiles must be square");
          if (m && m !== "mapbox" && m !== "terrarium")
            return void we(`"${m}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);
          this.stride = d.height;
          const f = this.dim = d.height - 2;
          this.data = new Uint32Array(d.data.buffer), this.encoding = m || "mapbox";
          for (let v = 0; v < f; v++)
            this.data[this._idx(-1, v)] = this.data[this._idx(0, v)], this.data[this._idx(f, v)] = this.data[this._idx(f - 1, v)], this.data[this._idx(v, -1)] = this.data[this._idx(v, 0)], this.data[this._idx(v, f)] = this.data[this._idx(v, f - 1)];
          this.data[this._idx(-1, -1)] = this.data[this._idx(0, 0)], this.data[this._idx(f, -1)] = this.data[this._idx(f - 1, 0)], this.data[this._idx(-1, f)] = this.data[this._idx(0, f - 1)], this.data[this._idx(f, f)] = this.data[this._idx(f - 1, f - 1)], this.min = Number.MAX_SAFE_INTEGER, this.max = Number.MIN_SAFE_INTEGER;
          for (let v = 0; v < f; v++)
            for (let w = 0; w < f; w++) {
              const E = this.get(v, w);
              E > this.max && (this.max = E), E < this.min && (this.min = E);
            }
        }
        get(r, d) {
          const m = new Uint8Array(this.data.buffer), f = 4 * this._idx(r, d);
          return (this.encoding === "terrarium" ? this._unpackTerrarium : this._unpackMapbox)(m[f], m[f + 1], m[f + 2]);
        }
        getUnpackVector() {
          return this.encoding === "terrarium" ? [256, 1, 1 / 256, 32768] : [6553.6, 25.6, 0.1, 1e4];
        }
        _idx(r, d) {
          if (r < -1 || r >= this.dim + 1 || d < -1 || d >= this.dim + 1)
            throw new RangeError("out of range source coordinates for DEM data");
          return (d + 1) * this.stride + (r + 1);
        }
        _unpackMapbox(r, d, m) {
          return (256 * r * 256 + 256 * d + m) / 10 - 1e4;
        }
        _unpackTerrarium(r, d, m) {
          return 256 * r + d + m / 256 - 32768;
        }
        getPixels() {
          return new ur({ width: this.stride, height: this.stride }, new Uint8Array(this.data.buffer));
        }
        backfillBorder(r, d, m) {
          if (this.dim !== r.dim)
            throw new Error("dem dimension mismatch");
          let f = d * this.dim, v = d * this.dim + this.dim, w = m * this.dim, E = m * this.dim + this.dim;
          switch (d) {
            case -1:
              f = v - 1;
              break;
            case 1:
              v = f + 1;
          }
          switch (m) {
            case -1:
              w = E - 1;
              break;
            case 1:
              E = w + 1;
          }
          const C = -d * this.dim, P = -m * this.dim;
          for (let W = w; W < E; W++)
            for (let B = f; B < v; B++)
              this.data[this._idx(B, W)] = r.data[this._idx(B + C, W + P)];
        }
      }
      lt("DEMData", z0);
      class B0 {
        constructor(r) {
          this._stringToNumber = {}, this._numberToString = [];
          for (let d = 0; d < r.length; d++) {
            const m = r[d];
            this._stringToNumber[m] = d, this._numberToString[d] = m;
          }
        }
        encode(r) {
          return this._stringToNumber[r];
        }
        decode(r) {
          if (r >= this._numberToString.length)
            throw new Error(`Out of bounds. Index requested n=${r} can't be >= this._numberToString.length ${this._numberToString.length}`);
          return this._numberToString[r];
        }
      }
      class N0 {
        constructor(r, d, m, f, v) {
          this.type = "Feature", this._vectorTileFeature = r, r._z = d, r._x = m, r._y = f, this.properties = r.properties, this.id = v;
        }
        get geometry() {
          return this._geometry === void 0 && (this._geometry = this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x, this._vectorTileFeature._y, this._vectorTileFeature._z).geometry), this._geometry;
        }
        set geometry(r) {
          this._geometry = r;
        }
        toJSON() {
          const r = { geometry: this.geometry };
          for (const d in this)
            d !== "_geometry" && d !== "_vectorTileFeature" && (r[d] = this[d]);
          return r;
        }
      }
      class q0 {
        constructor(r, d) {
          this.tileID = r, this.x = r.canonical.x, this.y = r.canonical.y, this.z = r.canonical.z, this.grid = new yl(fi, 16, 0), this.grid3D = new yl(fi, 16, 0), this.featureIndexArray = new Bt(), this.promoteId = d;
        }
        insert(r, d, m, f, v, w) {
          const E = this.featureIndexArray.length;
          this.featureIndexArray.emplaceBack(m, f, v);
          const C = w ? this.grid3D : this.grid;
          for (let P = 0; P < d.length; P++) {
            const W = d[P], B = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
            for (let F = 0; F < W.length; F++) {
              const U = W[F];
              B[0] = Math.min(B[0], U.x), B[1] = Math.min(B[1], U.y), B[2] = Math.max(B[2], U.x), B[3] = Math.max(B[3], U.y);
            }
            B[0] < fi && B[1] < fi && B[2] >= 0 && B[3] >= 0 && C.insert(E, B[0], B[1], B[2], B[3]);
          }
        }
        loadVTLayers() {
          return this.vtLayers || (this.vtLayers = new yo.VectorTile(new Hp(this.rawTileData)).layers, this.sourceLayerCoder = new B0(this.vtLayers ? Object.keys(this.vtLayers).sort() : ["_geojsonTileLayer"])), this.vtLayers;
        }
        query(r, d, m, f) {
          this.loadVTLayers();
          const v = r.params || {}, w = fi / r.tileSize / r.scale, E = mu(v.filter), C = r.queryGeometry, P = r.queryPadding * w, W = G0(C), B = this.grid.query(W.minX - P, W.minY - P, W.maxX + P, W.maxY + P), F = G0(r.cameraQueryGeometry), U = this.grid3D.query(F.minX - P, F.minY - P, F.maxX + P, F.maxY + P, (ae, ge, Te, fe) => function(xe, ze, De, st, _t) {
            for (const Ye of xe)
              if (ze <= Ye.x && De <= Ye.y && st >= Ye.x && _t >= Ye.y)
                return !0;
            const et = [new Me(ze, De), new Me(ze, _t), new Me(st, _t), new Me(st, De)];
            if (xe.length > 2) {
              for (const Ye of et)
                if (xu(xe, Ye))
                  return !0;
            }
            for (let Ye = 0; Ye < xe.length - 1; Ye++)
              if (dw(xe[Ye], xe[Ye + 1], et))
                return !0;
            return !1;
          }(r.cameraQueryGeometry, ae - P, ge - P, Te + P, fe + P));
          for (const ae of U)
            B.push(ae);
          B.sort(z4);
          const V = {};
          let ne;
          for (let ae = 0; ae < B.length; ae++) {
            const ge = B[ae];
            if (ge === ne)
              continue;
            ne = ge;
            const Te = this.featureIndexArray.get(ge);
            let fe = null;
            this.loadMatchingFeature(V, Te.bucketIndex, Te.sourceLayerIndex, Te.featureIndex, E, v.layers, v.availableImages, d, m, f, (xe, ze, De) => (fe || (fe = Sl(xe)), ze.queryIntersectsFeature(C, xe, De, fe, this.z, r.transform, w, r.pixelPosMatrix)));
          }
          return V;
        }
        loadMatchingFeature(r, d, m, f, v, w, E, C, P, W, B) {
          const F = this.bucketLayerIDs[d];
          if (w && !function(ae, ge) {
            for (let Te = 0; Te < ae.length; Te++)
              if (ge.indexOf(ae[Te]) >= 0)
                return !0;
            return !1;
          }(w, F))
            return;
          const U = this.sourceLayerCoder.decode(m), V = this.vtLayers[U].feature(f);
          if (v.needGeometry) {
            const ae = Tl(V, !0);
            if (!v.filter(new Na(this.tileID.overscaledZ), ae, this.tileID.canonical))
              return;
          } else if (!v.filter(new Na(this.tileID.overscaledZ), V))
            return;
          const ne = this.getId(V, U);
          for (let ae = 0; ae < F.length; ae++) {
            const ge = F[ae];
            if (w && w.indexOf(ge) < 0)
              continue;
            const Te = C[ge];
            if (!Te)
              continue;
            let fe = {};
            ne && W && (fe = W.getState(Te.sourceLayer || "_geojsonTileLayer", ne));
            const xe = D({}, P[ge]);
            xe.paint = F0(xe.paint, Te.paint, V, fe, E), xe.layout = F0(xe.layout, Te.layout, V, fe, E);
            const ze = !B || B(V, Te, fe);
            if (!ze)
              continue;
            const De = new N0(V, this.z, this.x, this.y, ne);
            De.layer = xe;
            let st = r[ge];
            st === void 0 && (st = r[ge] = []), st.push({ featureIndex: f, feature: De, intersectionZ: ze });
          }
        }
        lookupSymbolFeatures(r, d, m, f, v, w, E, C) {
          const P = {};
          this.loadVTLayers();
          const W = mu(v);
          for (const B of r)
            this.loadMatchingFeature(P, m, f, B, W, w, E, C, d);
          return P;
        }
        hasLayer(r) {
          for (const d of this.bucketLayerIDs)
            for (const m of d)
              if (r === m)
                return !0;
          return !1;
        }
        getId(r, d) {
          let m = r.id;
          return this.promoteId && (m = r.properties[typeof this.promoteId == "string" ? this.promoteId : this.promoteId[d]], typeof m == "boolean" && (m = Number(m))), m;
        }
      }
      function F0(l, r, d, m, f) {
        return ie(l, (v, w) => {
          const E = r instanceof xl ? r.get(w) : null;
          return E && E.evaluate ? E.evaluate(d, m, f) : E;
        });
      }
      function G0(l) {
        let r = 1 / 0, d = 1 / 0, m = -1 / 0, f = -1 / 0;
        for (const v of l)
          r = Math.min(r, v.x), d = Math.min(d, v.y), m = Math.max(m, v.x), f = Math.max(f, v.y);
        return { minX: r, minY: d, maxX: m, maxY: f };
      }
      function z4(l, r) {
        return r - l;
      }
      var uf;
      lt("FeatureIndex", q0, { omit: ["rawTileData", "sourceLayerCoder"] }), o.PerformanceMarkers = void 0, (uf = o.PerformanceMarkers || (o.PerformanceMarkers = {})).create = "create", uf.load = "load", uf.fullLoad = "fullLoad";
      let ym = null, oc = [];
      const df = 1e3 / 30, B4 = { mark(l) {
        performance.mark(l);
      }, frame(l) {
        const r = l;
        ym != null && oc.push(r - ym), ym = r;
      }, clearMetrics() {
        ym = null, oc = [], performance.clearMeasures("loadTime"), performance.clearMeasures("fullLoadTime");
        for (const l in o.PerformanceMarkers)
          performance.clearMarks(o.PerformanceMarkers[l]);
      }, getPerformanceMetrics() {
        performance.measure("loadTime", o.PerformanceMarkers.create, o.PerformanceMarkers.load), performance.measure("fullLoadTime", o.PerformanceMarkers.create, o.PerformanceMarkers.fullLoad);
        const l = performance.getEntriesByName("loadTime")[0].duration, r = performance.getEntriesByName("fullLoadTime")[0].duration, d = oc.length, m = 1 / (oc.reduce((v, w) => v + w, 0) / d / 1e3), f = oc.filter((v) => v > df).reduce((v, w) => v + (w - df) / df, 0);
        return { loadTime: l, fullLoadTime: r, fps: m, percentDroppedFrames: f / (d + f) * 100 };
      } };
      o.AJAXError = Ia, o.ARRAY_TYPE = fn, o.Actor = class {
        constructor(l, r, d) {
          this.target = l, this.parent = r, this.mapId = d, this.callbacks = {}, this.tasks = {}, this.taskQueue = [], this.cancelCallbacks = {}, Q(["receive", "process"], this), this.invoker = new W4(this.process), this.target.addEventListener("message", this.receive, !1), this.globalScope = Fe() ? l : window;
        }
        send(l, r, d, m, f = !1) {
          const v = Math.round(1e18 * Math.random()).toString(36).substring(0, 10);
          d && (this.callbacks[v] = d);
          const w = St(this.globalScope) ? void 0 : [];
          return this.target.postMessage({ id: v, type: l, hasCallback: !!d, targetMapId: m, mustQueue: f, sourceMapId: this.mapId, data: As(r, w) }, w), { cancel: () => {
            d && delete this.callbacks[v], this.target.postMessage({ id: v, type: "<cancel>", targetMapId: m, sourceMapId: this.mapId });
          } };
        }
        receive(l) {
          const r = l.data, d = r.id;
          if (d && (!r.targetMapId || this.mapId === r.targetMapId))
            if (r.type === "<cancel>") {
              delete this.tasks[d];
              const m = this.cancelCallbacks[d];
              delete this.cancelCallbacks[d], m && m();
            } else
              Fe() || r.mustQueue ? (this.tasks[d] = r, this.taskQueue.push(d), this.invoker.trigger()) : this.processTask(d, r);
        }
        process() {
          if (!this.taskQueue.length)
            return;
          const l = this.taskQueue.shift(), r = this.tasks[l];
          delete this.tasks[l], this.taskQueue.length && this.invoker.trigger(), r && this.processTask(l, r);
        }
        processTask(l, r) {
          if (r.type === "<response>") {
            const d = this.callbacks[l];
            delete this.callbacks[l], d && (r.error ? d(as(r.error)) : d(null, as(r.data)));
          } else {
            let d = !1;
            const m = St(this.globalScope) ? void 0 : [], f = r.hasCallback ? (E, C) => {
              d = !0, delete this.cancelCallbacks[l], this.target.postMessage({ id: l, type: "<response>", sourceMapId: this.mapId, error: E ? As(E) : null, data: As(C, m) }, m);
            } : (E) => {
              d = !0;
            };
            let v = null;
            const w = as(r.data);
            if (this.parent[r.type])
              v = this.parent[r.type](r.sourceMapId, w, f);
            else if (this.parent.getWorkerSource) {
              const E = r.type.split(".");
              v = this.parent.getWorkerSource(r.sourceMapId, E[0], w.source)[E[1]](w, f);
            } else
              f(new Error(`Could not find function ${r.type}`));
            !d && v && v.cancel && (this.cancelCallbacks[l] = v.cancel);
          }
        }
        remove() {
          this.invoker.remove(), this.target.removeEventListener("message", this.receive, !1);
        }
      }, o.AlphaImage = Yd, o.CanonicalTileID = lf, o.CollisionBoxArray = Ie, o.CollisionCircleLayoutArray = class extends z {
      }, o.Color = Z, o.DEMData = z0, o.DataConstantProperty = pt, o.DictionaryCoder = B0, o.EXTENT = fi, o.ErrorEvent = en, o.EvaluationParameters = Na, o.Event = mi, o.Evented = tn, o.FeatureIndex = q0, o.FillBucket = jp, o.FillExtrusionBucket = $p, o.GeoJSONFeature = N0, o.ImageAtlas = d0, o.ImagePosition = Kp, o.LineBucket = Zp, o.LineStripIndexArray = class extends te {
      }, o.LngLat = ei, o.LngLatBounds = El, o.MercatorCoordinate = gm, o.ONE_EM = Ni, o.OverscaledTileID = dr, o.PerformanceUtils = B4, o.PosArray = xt, o.Properties = Bi, o.QuadTriangleArray = class extends G {
      }, o.RGBAImage = ur, o.RasterBoundsArray = class extends p {
      }, o.RequestPerformance = class {
        constructor(l) {
          this._marks = { start: [l.url, "start"].join("#"), end: [l.url, "end"].join("#"), measure: l.url.toString() }, performance.mark(this._marks.start);
        }
        finish() {
          performance.mark(this._marks.end);
          let l = performance.getEntriesByName(this._marks.measure);
          return l.length === 0 && (performance.measure(this._marks.measure, this._marks.start, this._marks.end), l = performance.getEntriesByName(this._marks.measure), performance.clearMarks(this._marks.start), performance.clearMarks(this._marks.end), performance.clearMeasures(this._marks.measure)), l;
        }
      }, o.ResourceType = ka, o.SegmentVector = jt, o.SymbolBucket = Cu, o.Transitionable = Z_, o.TriangleIndexArray = hn, o.Uniform1f = Rs, o.Uniform1i = class extends Os {
        constructor(l, r) {
          super(l, r), this.current = 0;
        }
        set(l) {
          this.current !== l && (this.current = l, this.gl.uniform1i(this.location, l));
        }
      }, o.Uniform2f = class extends Os {
        constructor(l, r) {
          super(l, r), this.current = [0, 0];
        }
        set(l) {
          l[0] === this.current[0] && l[1] === this.current[1] || (this.current = l, this.gl.uniform2f(this.location, l[0], l[1]));
        }
      }, o.Uniform3f = class extends Os {
        constructor(l, r) {
          super(l, r), this.current = [0, 0, 0];
        }
        set(l) {
          l[0] === this.current[0] && l[1] === this.current[1] && l[2] === this.current[2] || (this.current = l, this.gl.uniform3f(this.location, l[0], l[1], l[2]));
        }
      }, o.Uniform4f = vu, o.UniformColor = Ey, o.UniformMatrix4f = class extends Os {
        constructor(l, r) {
          super(l, r), this.current = rw;
        }
        set(l) {
          if (l[12] !== this.current[12] || l[0] !== this.current[0])
            return this.current = l, void this.gl.uniformMatrix4fv(this.location, !1, l);
          for (let r = 1; r < 16; r++)
            if (l[r] !== this.current[r]) {
              this.current = l, this.gl.uniformMatrix4fv(this.location, !1, l);
              break;
            }
        }
      }, o.UnwrappedTileID = W0, o.ValidationError = Ve, o.ZoomHistory = Wd, o.add = function(l, r, d) {
        return l[0] = r[0] + d[0], l[1] = r[1] + d[1], l[2] = r[2] + d[2], l;
      }, o.addDynamicAttributes = tf, o.asyncAll = function(l, r, d) {
        if (!l.length)
          return d(null, []);
        let m = l.length;
        const f = new Array(l.length);
        let v = null;
        l.forEach((w, E) => {
          r(w, (C, P) => {
            C && (v = C), f[E] = P, --m == 0 && d(v, f);
          });
        });
      }, o.bezier = S, o.bindAll = Q, o.cacheEntryPossiblyAdded = function(l) {
        kt++, kt > bi && (l.getActor().send("enforceCacheSizeLimit", $t), kt = 0);
      }, o.clamp = L, o.clearTileCache = function(l) {
        const r = caches.delete(Mt);
        l && r.catch(l).then(() => l());
      }, o.clipLine = w0, o.clone = function(l) {
        var r = new fn(16);
        return r[0] = l[0], r[1] = l[1], r[2] = l[2], r[3] = l[3], r[4] = l[4], r[5] = l[5], r[6] = l[6], r[7] = l[7], r[8] = l[8], r[9] = l[9], r[10] = l[10], r[11] = l[11], r[12] = l[12], r[13] = l[13], r[14] = l[14], r[15] = l[15], r;
      }, o.clone$1 = _e, o.clone$2 = function(l) {
        var r = new fn(3);
        return r[0] = l[0], r[1] = l[1], r[2] = l[2], r;
      }, o.collisionCircleLayout = a4, o.config = yt, o.copy = function(l, r) {
        return l[0] = r[0], l[1] = r[1], l[2] = r[2], l[3] = r[3], l[4] = r[4], l[5] = r[5], l[6] = r[6], l[7] = r[7], l[8] = r[8], l[9] = r[9], l[10] = r[10], l[11] = r[11], l[12] = r[12], l[13] = r[13], l[14] = r[14], l[15] = r[15], l;
      }, o.create = function() {
        var l = new fn(16);
        return fn != Float32Array && (l[1] = 0, l[2] = 0, l[3] = 0, l[4] = 0, l[6] = 0, l[7] = 0, l[8] = 0, l[9] = 0, l[11] = 0, l[12] = 0, l[13] = 0, l[14] = 0), l[0] = 1, l[5] = 1, l[10] = 1, l[15] = 1, l;
      }, o.create$1 = ky, o.createExpression = ol, o.createFilter = mu, o.createLayout = si, o.createStyleLayer = function(l) {
        return l.type === "custom" ? new k4(l) : new D4[l.type](l);
      }, o.cross = function(l, r, d) {
        var m = r[0], f = r[1], v = r[2], w = d[0], E = d[1], C = d[2];
        return l[0] = f * C - v * E, l[1] = v * w - m * C, l[2] = m * E - f * w, l;
      }, o.dot = function(l, r) {
        return l[0] * r[0] + l[1] * r[1] + l[2] * r[2];
      }, o.dot$1 = function(l, r) {
        return l[0] * r[0] + l[1] * r[1] + l[2] * r[2] + l[3] * r[3];
      }, o.ease = T, o.emitValidationErrors = pu, o.enforceCacheSizeLimit = function(l) {
        Gt(), aa && aa.then((r) => {
          r.keys().then((d) => {
            for (let m = 0; m < d.length - l; m++)
              r.delete(d[m]);
          });
        });
      }, o.equals = function(l, r) {
        var d = l[0], m = l[1], f = l[2], v = l[3], w = l[4], E = l[5], C = l[6], P = l[7], W = l[8], B = l[9], F = l[10], U = l[11], V = l[12], ne = l[13], ae = l[14], ge = l[15], Te = r[0], fe = r[1], xe = r[2], ze = r[3], De = r[4], st = r[5], _t = r[6], et = r[7], Ye = r[8], Xe = r[9], tt = r[10], Qe = r[11], qe = r[12], wt = r[13], gt = r[14], Nt = r[15];
        return Math.abs(d - Te) <= pn * Math.max(1, Math.abs(d), Math.abs(Te)) && Math.abs(m - fe) <= pn * Math.max(1, Math.abs(m), Math.abs(fe)) && Math.abs(f - xe) <= pn * Math.max(1, Math.abs(f), Math.abs(xe)) && Math.abs(v - ze) <= pn * Math.max(1, Math.abs(v), Math.abs(ze)) && Math.abs(w - De) <= pn * Math.max(1, Math.abs(w), Math.abs(De)) && Math.abs(E - st) <= pn * Math.max(1, Math.abs(E), Math.abs(st)) && Math.abs(C - _t) <= pn * Math.max(1, Math.abs(C), Math.abs(_t)) && Math.abs(P - et) <= pn * Math.max(1, Math.abs(P), Math.abs(et)) && Math.abs(W - Ye) <= pn * Math.max(1, Math.abs(W), Math.abs(Ye)) && Math.abs(B - Xe) <= pn * Math.max(1, Math.abs(B), Math.abs(Xe)) && Math.abs(F - tt) <= pn * Math.max(1, Math.abs(F), Math.abs(tt)) && Math.abs(U - Qe) <= pn * Math.max(1, Math.abs(U), Math.abs(Qe)) && Math.abs(V - qe) <= pn * Math.max(1, Math.abs(V), Math.abs(qe)) && Math.abs(ne - wt) <= pn * Math.max(1, Math.abs(ne), Math.abs(wt)) && Math.abs(ae - gt) <= pn * Math.max(1, Math.abs(ae), Math.abs(gt)) && Math.abs(ge - Nt) <= pn * Math.max(1, Math.abs(ge), Math.abs(Nt));
      }, o.evaluateSizeForFeature = function(l, { uSize: r, uSizeT: d }, { lowerSize: m, upperSize: f }) {
        return l.kind === "source" ? m / Ws : l.kind === "composite" ? za(m / Ws, f / Ws, d) : r;
      }, o.evaluateSizeForZoom = function(l, r) {
        let d = 0, m = 0;
        if (l.kind === "constant")
          m = l.layoutSize;
        else if (l.kind !== "source") {
          const { interpolationType: f, minZoom: v, maxZoom: w } = l, E = f ? L(Cn.interpolationFactor(f, r, v, w), 0, 1) : 0;
          l.kind === "camera" ? m = za(l.minSize, l.maxSize, E) : d = E;
        }
        return { uSizeT: d, uSize: m };
      }, o.evaluateVariableOffset = M0, o.evented = Ud, o.exported = Re, o.exported$1 = Pt, o.extend = D, o.filterObject = J, o.fromRotation = function(l, r) {
        var d = Math.sin(r), m = Math.cos(r);
        return l[0] = m, l[1] = d, l[2] = 0, l[3] = -d, l[4] = m, l[5] = 0, l[6] = 0, l[7] = 0, l[8] = 1, l;
      }, o.fromScaling = function(l, r) {
        return l[0] = r[0], l[1] = 0, l[2] = 0, l[3] = 0, l[4] = 0, l[5] = r[1], l[6] = 0, l[7] = 0, l[8] = 0, l[9] = 0, l[10] = r[2], l[11] = 0, l[12] = 0, l[13] = 0, l[14] = 0, l[15] = 1, l;
      }, o.getAnchorAlignment = Qp, o.getAnchorJustification = ef, o.getArrayBuffer = Fi, o.getImage = Ln, o.getJSON = function(l, r) {
        return Mn(D(l, { type: "json" }), r);
      }, o.getOverlapMode = sf, o.getRTLTextPluginStatus = vl, o.getReferrer = xi, o.getVideo = function(l, r) {
        const d = window.document.createElement("video");
        d.muted = !0, d.onloadstart = function() {
          r(null, d);
        };
        for (let m = 0; m < l.length; m++) {
          const f = window.document.createElement("source");
          _n(l[m]) || (d.crossOrigin = "Anonymous"), f.src = l[m], d.appendChild(f);
        }
        return { cancel: () => {
        } };
      }, o.identity = Dp, o.invert = function(l, r) {
        var d = r[0], m = r[1], f = r[2], v = r[3], w = r[4], E = r[5], C = r[6], P = r[7], W = r[8], B = r[9], F = r[10], U = r[11], V = r[12], ne = r[13], ae = r[14], ge = r[15], Te = d * E - m * w, fe = d * C - f * w, xe = d * P - v * w, ze = m * C - f * E, De = m * P - v * E, st = f * P - v * C, _t = W * ne - B * V, et = W * ae - F * V, Ye = W * ge - U * V, Xe = B * ae - F * ne, tt = B * ge - U * ne, Qe = F * ge - U * ae, qe = Te * Qe - fe * tt + xe * Xe + ze * Ye - De * et + st * _t;
        return qe ? (l[0] = (E * Qe - C * tt + P * Xe) * (qe = 1 / qe), l[1] = (f * tt - m * Qe - v * Xe) * qe, l[2] = (ne * st - ae * De + ge * ze) * qe, l[3] = (F * De - B * st - U * ze) * qe, l[4] = (C * Ye - w * Qe - P * et) * qe, l[5] = (d * Qe - f * Ye + v * et) * qe, l[6] = (ae * xe - V * st - ge * fe) * qe, l[7] = (W * st - F * xe + U * fe) * qe, l[8] = (w * tt - E * Ye + P * _t) * qe, l[9] = (m * Ye - d * tt - v * _t) * qe, l[10] = (V * De - ne * xe + ge * Te) * qe, l[11] = (B * xe - W * De - U * Te) * qe, l[12] = (E * et - w * Xe - C * _t) * qe, l[13] = (d * Xe - m * et + f * _t) * qe, l[14] = (ne * fe - V * ze - ae * Te) * qe, l[15] = (W * ze - B * fe + F * Te) * qe, l) : null;
      }, o.isImageBitmap = ye, o.isSafari = St, o.isWorker = Fe, o.keysDifference = function(l, r) {
        const d = [];
        for (const m in l)
          m in r || d.push(m);
        return d;
      }, o.lazyLoadRTLTextPlugin = function() {
        jn.isLoading() || jn.isLoaded() || vl() !== "deferred" || $_();
      }, o.makeRequest = Mn, o.mapObject = ie, o.mercatorXfromLng = O0, o.mercatorYfromLat = R0, o.mercatorZfromAltitude = k0, o.mul = mw, o.mul$1 = function(l, r, d) {
        return l[0] = r[0] * d[0], l[1] = r[1] * d[1], l[2] = r[2] * d[2], l[3] = r[3] * d[3], l;
      }, o.multiply = Dy, o.nextPowerOfTwo = function(l) {
        return l <= 1 ? 1 : Math.pow(2, Math.ceil(Math.log(l) / Math.LN2));
      }, o.normalize = function(l, r) {
        var d = r[0], m = r[1], f = r[2], v = d * d + m * m + f * f;
        return v > 0 && (v = 1 / Math.sqrt(v)), l[0] = r[0] * v, l[1] = r[1] * v, l[2] = r[2] * v, l;
      }, o.number = za, o.ortho = function(l, r, d, m, f, v, w) {
        var E = 1 / (r - d), C = 1 / (m - f), P = 1 / (v - w);
        return l[0] = -2 * E, l[1] = 0, l[2] = 0, l[3] = 0, l[4] = 0, l[5] = -2 * C, l[6] = 0, l[7] = 0, l[8] = 0, l[9] = 0, l[10] = 2 * P, l[11] = 0, l[12] = (r + d) * E, l[13] = (f + m) * C, l[14] = (w + v) * P, l[15] = 1, l;
      }, o.parseCacheControl = We, o.parseGlyphPbf = function(l) {
        return new Hp(l).readFields(m4, []);
      }, o.pbf = Hp, o.performSymbolLayout = function(l) {
        l.bucket.createArrays(), l.bucket.tilePixelRatio = fi / (512 * l.bucket.overscaling), l.bucket.compareText = {}, l.bucket.iconsNeedLinear = !1;
        const r = l.bucket.layers[0].layout, d = l.bucket.layers[0]._unevaluatedLayout._values, m = { layoutIconSize: d["icon-size"].possiblyEvaluate(new Na(l.bucket.zoom + 1), l.canonical), layoutTextSize: d["text-size"].possiblyEvaluate(new Na(l.bucket.zoom + 1), l.canonical), textMaxSize: d["text-size"].possiblyEvaluate(new Na(18)) };
        if (l.bucket.textSizeData.kind === "composite") {
          const { minZoom: C, maxZoom: P } = l.bucket.textSizeData;
          m.compositeTextSizes = [d["text-size"].possiblyEvaluate(new Na(C), l.canonical), d["text-size"].possiblyEvaluate(new Na(P), l.canonical)];
        }
        if (l.bucket.iconSizeData.kind === "composite") {
          const { minZoom: C, maxZoom: P } = l.bucket.iconSizeData;
          m.compositeIconSizes = [d["icon-size"].possiblyEvaluate(new Na(C), l.canonical), d["icon-size"].possiblyEvaluate(new Na(P), l.canonical)];
        }
        const f = r.get("text-line-height") * Ni, v = r.get("text-rotation-alignment") !== "viewport" && r.get("symbol-placement") !== "point", w = r.get("text-keep-upright"), E = r.get("text-size");
        for (const C of l.bucket.features) {
          const P = r.get("text-font").evaluate(C, {}, l.canonical).join(","), W = E.evaluate(C, {}, l.canonical), B = m.layoutTextSize.evaluate(C, {}, l.canonical), F = m.layoutIconSize.evaluate(C, {}, l.canonical), U = { horizontal: {}, vertical: void 0 }, V = C.text;
          let ne, ae = [0, 0];
          if (V) {
            const fe = V.toString(), xe = r.get("text-letter-spacing").evaluate(C, {}, l.canonical) * Ni, ze = Lp(fe) ? xe : 0, De = r.get("text-anchor").evaluate(C, {}, l.canonical), st = r.get("text-variable-anchor");
            if (!st) {
              const tt = r.get("text-radial-offset").evaluate(C, {}, l.canonical);
              ae = tt ? M0(De, [tt * Ni, Jp]) : r.get("text-offset").evaluate(C, {}, l.canonical).map((Qe) => Qe * Ni);
            }
            let _t = v ? "center" : r.get("text-justify").evaluate(C, {}, l.canonical);
            const et = r.get("symbol-placement"), Ye = et === "point" ? r.get("text-max-width").evaluate(C, {}, l.canonical) * Ni : 0, Xe = () => {
              l.bucket.allowVerticalPlacement && fu(fe) && (U.vertical = um(V, l.glyphMap, l.glyphPositions, l.imagePositions, P, Ye, f, De, "left", ze, ae, o.WritingMode.vertical, !0, et, B, W));
            };
            if (!v && st) {
              const tt = _t === "auto" ? st.map((qe) => ef(qe)) : [_t];
              let Qe = !1;
              for (let qe = 0; qe < tt.length; qe++) {
                const wt = tt[qe];
                if (!U.horizontal[wt])
                  if (Qe)
                    U.horizontal[wt] = U.horizontal[0];
                  else {
                    const gt = um(V, l.glyphMap, l.glyphPositions, l.imagePositions, P, Ye, f, "center", wt, ze, ae, o.WritingMode.horizontal, !1, et, B, W);
                    gt && (U.horizontal[wt] = gt, Qe = gt.positionedLines.length === 1);
                  }
              }
              Xe();
            } else {
              _t === "auto" && (_t = ef(De));
              const tt = um(V, l.glyphMap, l.glyphPositions, l.imagePositions, P, Ye, f, De, _t, ze, ae, o.WritingMode.horizontal, !1, et, B, W);
              tt && (U.horizontal[_t] = tt), Xe(), fu(fe) && v && w && (U.vertical = um(V, l.glyphMap, l.glyphPositions, l.imagePositions, P, Ye, f, De, _t, ze, ae, o.WritingMode.vertical, !1, et, B, W));
            }
          }
          let ge = !1;
          if (C.icon && C.icon.name) {
            const fe = l.imageMap[C.icon.name];
            fe && (ne = v4(l.imagePositions[C.icon.name], r.get("icon-offset").evaluate(C, {}, l.canonical), r.get("icon-anchor").evaluate(C, {}, l.canonical)), ge = !!fe.sdf, l.bucket.sdfIcons === void 0 ? l.bucket.sdfIcons = ge : l.bucket.sdfIcons !== ge && we("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"), (fe.pixelRatio !== l.bucket.pixelRatio || r.get("icon-rotate").constantOr(1) !== 0) && (l.bucket.iconsNeedLinear = !0));
          }
          const Te = L0(U.horizontal) || U.vertical;
          l.bucket.iconsInText = !!Te && Te.iconsInText, (Te || ne) && E4(l.bucket, C, U, ne, l.imageMap, m, B, F, ae, ge, l.canonical);
        }
        l.showCollisionBoxes && l.bucket.generateCollisionDebugBuffers();
      }, o.perspective = function(l, r, d, m, f) {
        var v, w = 1 / Math.tan(r / 2);
        return l[0] = w / d, l[1] = 0, l[2] = 0, l[3] = 0, l[4] = 0, l[5] = w, l[6] = 0, l[7] = 0, l[8] = 0, l[9] = 0, l[11] = -1, l[12] = 0, l[13] = 0, l[15] = 0, f != null && f !== 1 / 0 ? (l[10] = (f + m) * (v = 1 / (m - f)), l[14] = 2 * f * m * v) : (l[10] = -1, l[14] = -2 * m), l;
      }, o.pick = function(l, r) {
        const d = {};
        for (let m = 0; m < r.length; m++) {
          const f = r[m];
          f in l && (d[f] = l[f]);
        }
        return d;
      }, o.plugin = jn, o.pointGeometry = Me, o.polygonIntersectsPolygon = Iy, o.potpack = u0, o.refProperties = ["type", "source", "source-layer", "minzoom", "maxzoom", "filter", "layout"], o.register = lt, o.registerForPluginStateChange = function(l) {
        return l({ pluginStatus: mn, pluginURL: is }), Ud.on("pluginStateChange", l), l;
      }, o.renderColorRamp = Gy, o.rotateX = function(l, r, d) {
        var m = Math.sin(d), f = Math.cos(d), v = r[4], w = r[5], E = r[6], C = r[7], P = r[8], W = r[9], B = r[10], F = r[11];
        return r !== l && (l[0] = r[0], l[1] = r[1], l[2] = r[2], l[3] = r[3], l[12] = r[12], l[13] = r[13], l[14] = r[14], l[15] = r[15]), l[4] = v * f + P * m, l[5] = w * f + W * m, l[6] = E * f + B * m, l[7] = C * f + F * m, l[8] = P * f - v * m, l[9] = W * f - w * m, l[10] = B * f - E * m, l[11] = F * f - C * m, l;
      }, o.rotateZ = function(l, r, d) {
        var m = Math.sin(d), f = Math.cos(d), v = r[0], w = r[1], E = r[2], C = r[3], P = r[4], W = r[5], B = r[6], F = r[7];
        return r !== l && (l[8] = r[8], l[9] = r[9], l[10] = r[10], l[11] = r[11], l[12] = r[12], l[13] = r[13], l[14] = r[14], l[15] = r[15]), l[0] = v * f + P * m, l[1] = w * f + W * m, l[2] = E * f + B * m, l[3] = C * f + F * m, l[4] = P * f - v * m, l[5] = W * f - w * m, l[6] = B * f - E * m, l[7] = F * f - C * m, l;
      }, o.scale = function(l, r, d) {
        var m = d[0], f = d[1], v = d[2];
        return l[0] = r[0] * m, l[1] = r[1] * m, l[2] = r[2] * m, l[3] = r[3] * m, l[4] = r[4] * f, l[5] = r[5] * f, l[6] = r[6] * f, l[7] = r[7] * f, l[8] = r[8] * v, l[9] = r[9] * v, l[10] = r[10] * v, l[11] = r[11] * v, l[12] = r[12], l[13] = r[13], l[14] = r[14], l[15] = r[15], l;
      }, o.scale$1 = function(l, r, d) {
        return l[0] = r[0] * d, l[1] = r[1] * d, l[2] = r[2] * d, l;
      }, o.setCacheLimits = function(l, r) {
        $t = l, bi = r;
      }, o.setRTLTextPlugin = function(l, r, d = !1) {
        if (mn === Nd || mn === qd || mn === Fd)
          throw new Error("setRTLTextPlugin cannot be called multiple times.");
        is = Re.resolveURL(l), mn = Nd, Gd = r, ho(), d || $_();
      }, o.spec = Ae, o.sphericalToCartesian = function([l, r, d]) {
        return r += 90, r *= Math.PI / 180, d *= Math.PI / 180, { x: l * Math.cos(r) * Math.sin(d), y: l * Math.sin(r) * Math.sin(d), z: l * Math.cos(d) };
      }, o.sqrLen = function(l) {
        var r = l[0], d = l[1];
        return r * r + d * d;
      }, o.sub = function(l, r, d) {
        return l[0] = r[0] - d[0], l[1] = r[1] - d[1], l[2] = r[2] - d[2], l;
      }, o.toEvaluationFeature = Tl, o.transformMat3 = function(l, r, d) {
        var m = r[0], f = r[1], v = r[2];
        return l[0] = m * d[0] + f * d[3] + v * d[6], l[1] = m * d[1] + f * d[4] + v * d[7], l[2] = m * d[2] + f * d[5] + v * d[8], l;
      }, o.transformMat4 = tm, o.transformMat4$1 = function(l, r, d) {
        var m = r[0], f = r[1];
        return l[0] = d[0] * m + d[4] * f + d[12], l[1] = d[1] * m + d[5] * f + d[13], l;
      }, o.translate = function(l, r, d) {
        var m, f, v, w, E, C, P, W, B, F, U, V, ne = d[0], ae = d[1], ge = d[2];
        return r === l ? (l[12] = r[0] * ne + r[4] * ae + r[8] * ge + r[12], l[13] = r[1] * ne + r[5] * ae + r[9] * ge + r[13], l[14] = r[2] * ne + r[6] * ae + r[10] * ge + r[14], l[15] = r[3] * ne + r[7] * ae + r[11] * ge + r[15]) : (f = r[1], v = r[2], w = r[3], E = r[4], C = r[5], P = r[6], W = r[7], B = r[8], F = r[9], U = r[10], V = r[11], l[0] = m = r[0], l[1] = f, l[2] = v, l[3] = w, l[4] = E, l[5] = C, l[6] = P, l[7] = W, l[8] = B, l[9] = F, l[10] = U, l[11] = V, l[12] = m * ne + E * ae + B * ge + r[12], l[13] = f * ne + C * ae + F * ge + r[13], l[14] = v * ne + P * ae + U * ge + r[14], l[15] = w * ne + W * ae + V * ge + r[15]), l;
      }, o.triggerPluginCompletionEvent = V_, o.unicodeBlockLookup = Je, o.uniqueId = function() {
        return j++;
      }, o.validateCustomStyleLayer = function(l) {
        const r = [], d = l.id;
        return d === void 0 && r.push({ message: `layers.${d}: missing required property "id"` }), l.render === void 0 && r.push({ message: `layers.${d}: missing required method "render"` }), l.renderingMode && l.renderingMode !== "2d" && l.renderingMode !== "3d" && r.push({ message: `layers.${d}: property "renderingMode" must be either "2d" or "3d"` }), r;
      }, o.validateLight = Dd, o.validateStyle = gl, o.vectorTile = yo, o.warnOnce = we, o.wrap = R;
    }), u(["./shared"], function(o) {
      function y(H) {
        const k = typeof H;
        if (k === "number" || k === "boolean" || k === "string" || H == null)
          return JSON.stringify(H);
        if (Array.isArray(H)) {
          let Z = "[";
          for (const re of H)
            Z += `${y(re)},`;
          return `${Z}]`;
        }
        const N = Object.keys(H).sort();
        let $ = "{";
        for (let Z = 0; Z < N.length; Z++)
          $ += `${JSON.stringify(N[Z])}:${y(H[N[Z]])},`;
        return `${$}}`;
      }
      function b(H) {
        let k = "";
        for (const N of o.refProperties)
          k += `/${y(H[N])}`;
        return k;
      }
      class S {
        constructor(k) {
          this.keyCache = {}, k && this.replace(k);
        }
        replace(k) {
          this._layerConfigs = {}, this._layers = {}, this.update(k, []);
        }
        update(k, N) {
          for (const Z of k) {
            this._layerConfigs[Z.id] = Z;
            const re = this._layers[Z.id] = o.createStyleLayer(Z);
            re._featureFilter = o.createFilter(re.filter), this.keyCache[Z.id] && delete this.keyCache[Z.id];
          }
          for (const Z of N)
            delete this.keyCache[Z], delete this._layerConfigs[Z], delete this._layers[Z];
          this.familiesBySource = {};
          const $ = function(Z, re) {
            const de = {};
            for (let se = 0; se < Z.length; se++) {
              const me = re && re[Z[se].id] || b(Z[se]);
              re && (re[Z[se].id] = me);
              let he = de[me];
              he || (he = de[me] = []), he.push(Z[se]);
            }
            const le = [];
            for (const se in de)
              le.push(de[se]);
            return le;
          }(Object.values(this._layerConfigs), this.keyCache);
          for (const Z of $) {
            const re = Z.map((X) => this._layers[X.id]), de = re[0];
            if (de.visibility === "none")
              continue;
            const le = de.source || "";
            let se = this.familiesBySource[le];
            se || (se = this.familiesBySource[le] = {});
            const me = de.sourceLayer || "_geojsonTileLayer";
            let he = se[me];
            he || (he = se[me] = []), he.push(re);
          }
        }
      }
      class T {
        constructor(k) {
          const N = {}, $ = [];
          for (const le in k) {
            const se = k[le], me = N[le] = {};
            for (const he in se) {
              const X = se[+he];
              if (!X || X.bitmap.width === 0 || X.bitmap.height === 0)
                continue;
              const oe = { x: 0, y: 0, w: X.bitmap.width + 2, h: X.bitmap.height + 2 };
              $.push(oe), me[he] = { rect: oe, metrics: X.metrics };
            }
          }
          const { w: Z, h: re } = o.potpack($), de = new o.AlphaImage({ width: Z || 1, height: re || 1 });
          for (const le in k) {
            const se = k[le];
            for (const me in se) {
              const he = se[+me];
              if (!he || he.bitmap.width === 0 || he.bitmap.height === 0)
                continue;
              const X = N[le][me].rect;
              o.AlphaImage.copy(he.bitmap, de, { x: 0, y: 0 }, { x: X.x + 1, y: X.y + 1 }, he.bitmap);
            }
          }
          this.image = de, this.positions = N;
        }
      }
      o.register("GlyphAtlas", T);
      class L {
        constructor(k) {
          this.tileID = new o.OverscaledTileID(k.tileID.overscaledZ, k.tileID.wrap, k.tileID.canonical.z, k.tileID.canonical.x, k.tileID.canonical.y), this.uid = k.uid, this.zoom = k.zoom, this.pixelRatio = k.pixelRatio, this.tileSize = k.tileSize, this.source = k.source, this.overscaling = this.tileID.overscaleFactor(), this.showCollisionBoxes = k.showCollisionBoxes, this.collectResourceTiming = !!k.collectResourceTiming, this.returnDependencies = !!k.returnDependencies, this.promoteId = k.promoteId;
        }
        parse(k, N, $, Z, re) {
          this.status = "parsing", this.data = k, this.collisionBoxArray = new o.CollisionBoxArray();
          const de = new o.DictionaryCoder(Object.keys(k.layers).sort()), le = new o.FeatureIndex(this.tileID, this.promoteId);
          le.bucketLayerIDs = [];
          const se = {}, me = { featureIndex: le, iconDependencies: {}, patternDependencies: {}, glyphDependencies: {}, availableImages: $ }, he = N.familiesBySource[this.source];
          for (const mt in he) {
            const Ct = k.layers[mt];
            if (!Ct)
              continue;
            Ct.version === 1 && o.warnOnce(`Vector tile source "${this.source}" layer "${mt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);
            const Xt = de.encode(mt), ga = [];
            for (let Mi = 0; Mi < Ct.length; Mi++) {
              const Wa = Ct.feature(Mi), ji = le.getId(Wa, mt);
              ga.push({ feature: Wa, id: ji, index: Mi, sourceLayerIndex: Xt });
            }
            for (const Mi of he[mt]) {
              const Wa = Mi[0];
              Wa.source !== this.source && o.warnOnce(`layer.source = ${Wa.source} does not equal this.source = ${this.source}`), Wa.minzoom && this.zoom < Math.floor(Wa.minzoom) || Wa.maxzoom && this.zoom >= Wa.maxzoom || Wa.visibility !== "none" && (R(Mi, this.zoom, $), (se[Wa.id] = Wa.createBucket({ index: le.bucketLayerIDs.length, layers: Mi, zoom: this.zoom, pixelRatio: this.pixelRatio, overscaling: this.overscaling, collisionBoxArray: this.collisionBoxArray, sourceLayerIndex: Xt, sourceID: this.source })).populate(ga, me, this.tileID.canonical), le.bucketLayerIDs.push(Mi.map((ji) => ji.id)));
            }
          }
          let X, oe, Le, Ue;
          const je = o.mapObject(me.glyphDependencies, (mt) => Object.keys(mt).map(Number));
          Object.keys(je).length ? Z.send("getGlyphs", { uid: this.uid, stacks: je }, (mt, Ct) => {
            X || (X = mt, oe = Ct, Ut.call(this));
          }) : oe = {};
          const ot = Object.keys(me.iconDependencies);
          ot.length ? Z.send("getImages", { icons: ot, source: this.source, tileID: this.tileID, type: "icons" }, (mt, Ct) => {
            X || (X = mt, Le = Ct, Ut.call(this));
          }) : Le = {};
          const ct = Object.keys(me.patternDependencies);
          function Ut() {
            if (X)
              return re(X);
            if (oe && Le && Ue) {
              const mt = new T(oe), Ct = new o.ImageAtlas(Le, Ue);
              for (const Xt in se) {
                const ga = se[Xt];
                ga instanceof o.SymbolBucket ? (R(ga.layers, this.zoom, $), o.performSymbolLayout({ bucket: ga, glyphMap: oe, glyphPositions: mt.positions, imageMap: Le, imagePositions: Ct.iconPositions, showCollisionBoxes: this.showCollisionBoxes, canonical: this.tileID.canonical })) : ga.hasPattern && (ga instanceof o.LineBucket || ga instanceof o.FillBucket || ga instanceof o.FillExtrusionBucket) && (R(ga.layers, this.zoom, $), ga.addFeatures(me, this.tileID.canonical, Ct.patternPositions));
              }
              this.status = "done", re(null, { buckets: Object.values(se).filter((Xt) => !Xt.isEmpty()), featureIndex: le, collisionBoxArray: this.collisionBoxArray, glyphAtlasImage: mt.image, imageAtlas: Ct, glyphMap: this.returnDependencies ? oe : null, iconMap: this.returnDependencies ? Le : null, glyphPositions: this.returnDependencies ? mt.positions : null });
            }
          }
          ct.length ? Z.send("getImages", { icons: ct, source: this.source, tileID: this.tileID, type: "patterns" }, (mt, Ct) => {
            X || (X = mt, Ue = Ct, Ut.call(this));
          }) : Ue = {}, Ut.call(this);
        }
      }
      function R(H, k, N) {
        const $ = new o.EvaluationParameters(k);
        for (const Z of H)
          Z.recalculate($, N);
      }
      function D(H, k) {
        const N = o.getArrayBuffer(H.request, ($, Z, re, de) => {
          $ ? k($) : Z && k(null, { vectorTile: new o.vectorTile.VectorTile(new o.pbf(Z)), rawData: Z, cacheControl: re, expires: de });
        });
        return () => {
          N.cancel(), k();
        };
      }
      class j {
        constructor(k, N, $, Z) {
          this.actor = k, this.layerIndex = N, this.availableImages = $, this.loadVectorData = Z || D, this.loading = {}, this.loaded = {};
        }
        loadTile(k, N) {
          const $ = k.uid;
          this.loading || (this.loading = {});
          const Z = !!(k && k.request && k.request.collectResourceTiming) && new o.RequestPerformance(k.request), re = this.loading[$] = new L(k);
          re.abort = this.loadVectorData(k, (de, le) => {
            if (delete this.loading[$], de || !le)
              return re.status = "done", this.loaded[$] = re, N(de);
            const se = le.rawData, me = {};
            le.expires && (me.expires = le.expires), le.cacheControl && (me.cacheControl = le.cacheControl);
            const he = {};
            if (Z) {
              const X = Z.finish();
              X && (he.resourceTiming = JSON.parse(JSON.stringify(X)));
            }
            re.vectorTile = le.vectorTile, re.parse(le.vectorTile, this.layerIndex, this.availableImages, this.actor, (X, oe) => {
              if (X || !oe)
                return N(X);
              N(null, o.extend({ rawTileData: se.slice(0) }, oe, me, he));
            }), this.loaded = this.loaded || {}, this.loaded[$] = re;
          });
        }
        reloadTile(k, N) {
          const $ = this.loaded, Z = k.uid, re = this;
          if ($ && $[Z]) {
            const de = $[Z];
            de.showCollisionBoxes = k.showCollisionBoxes;
            const le = (se, me) => {
              const he = de.reloadCallback;
              he && (delete de.reloadCallback, de.parse(de.vectorTile, re.layerIndex, this.availableImages, re.actor, he)), N(se, me);
            };
            de.status === "parsing" ? de.reloadCallback = le : de.status === "done" && (de.vectorTile ? de.parse(de.vectorTile, this.layerIndex, this.availableImages, this.actor, le) : le());
          }
        }
        abortTile(k, N) {
          const $ = this.loading, Z = k.uid;
          $ && $[Z] && $[Z].abort && ($[Z].abort(), delete $[Z]), N();
        }
        removeTile(k, N) {
          const $ = this.loaded, Z = k.uid;
          $ && $[Z] && delete $[Z], N();
        }
      }
      class Q {
        constructor() {
          this.loaded = {};
        }
        loadTile(k, N) {
          const { uid: $, encoding: Z, rawImageData: re } = k, de = o.isImageBitmap(re) ? this.getImageData(re) : re, le = new o.DEMData($, de, Z);
          this.loaded = this.loaded || {}, this.loaded[$] = le, N(null, le);
        }
        getImageData(k) {
          this.offscreenCanvas && this.offscreenCanvasContext || (this.offscreenCanvas = new OffscreenCanvas(k.width, k.height), this.offscreenCanvasContext = this.offscreenCanvas.getContext("2d")), this.offscreenCanvas.width = k.width, this.offscreenCanvas.height = k.height, this.offscreenCanvasContext.drawImage(k, 0, 0, k.width, k.height);
          const N = this.offscreenCanvasContext.getImageData(-1, -1, k.width + 2, k.height + 2);
          return this.offscreenCanvasContext.clearRect(0, 0, this.offscreenCanvas.width, this.offscreenCanvas.height), new o.RGBAImage({ width: N.width, height: N.height }, N.data);
        }
        removeTile(k) {
          const N = this.loaded, $ = k.uid;
          N && N[$] && delete N[$];
        }
      }
      var ie = function H(k, N) {
        var $, Z = k && k.type;
        if (Z === "FeatureCollection")
          for ($ = 0; $ < k.features.length; $++)
            H(k.features[$], N);
        else if (Z === "GeometryCollection")
          for ($ = 0; $ < k.geometries.length; $++)
            H(k.geometries[$], N);
        else if (Z === "Feature")
          H(k.geometry, N);
        else if (Z === "Polygon")
          J(k.coordinates, N);
        else if (Z === "MultiPolygon")
          for ($ = 0; $ < k.coordinates.length; $++)
            J(k.coordinates[$], N);
        return k;
      };
      function J(H, k) {
        if (H.length !== 0) {
          _e(H[0], k);
          for (var N = 1; N < H.length; N++)
            _e(H[N], !k);
        }
      }
      function _e(H, k) {
        for (var N = 0, $ = 0, Z = 0, re = H.length, de = re - 1; Z < re; de = Z++) {
          var le = (H[Z][0] - H[de][0]) * (H[de][1] + H[Z][1]), se = N + le;
          $ += Math.abs(N) >= Math.abs(le) ? N - se + le : le - se + N, N = se;
        }
        N + $ >= 0 != !!k && H.reverse();
      }
      const ce = o.vectorTile.VectorTileFeature.prototype.toGeoJSON;
      class we {
        constructor(k) {
          this._feature = k, this.extent = o.EXTENT, this.type = k.type, this.properties = k.tags, "id" in k && !isNaN(k.id) && (this.id = parseInt(k.id, 10));
        }
        loadGeometry() {
          if (this._feature.type === 1) {
            const k = [];
            for (const N of this._feature.geometry)
              k.push([new o.pointGeometry(N[0], N[1])]);
            return k;
          }
          {
            const k = [];
            for (const N of this._feature.geometry) {
              const $ = [];
              for (const Z of N)
                $.push(new o.pointGeometry(Z[0], Z[1]));
              k.push($);
            }
            return k;
          }
        }
        toGeoJSON(k, N, $) {
          return ce.call(this, k, N, $);
        }
      }
      class Be {
        constructor(k) {
          this.layers = { _geojsonTileLayer: this }, this.name = "_geojsonTileLayer", this.extent = o.EXTENT, this.length = k.length, this._features = k;
        }
        feature(k) {
          return new we(this._features[k]);
        }
      }
      var Ee = { exports: {} }, Fe = o.pointGeometry, We = o.vectorTile.VectorTileFeature, ke = Ze;
      function Ze(H, k) {
        this.options = k || {}, this.features = H, this.length = H.length;
      }
      function ft(H, k) {
        this.id = typeof H.id == "number" ? H.id : void 0, this.type = H.type, this.rawGeometry = H.type === 1 ? [H.geometry] : H.geometry, this.properties = H.tags, this.extent = k || 4096;
      }
      Ze.prototype.feature = function(H) {
        return new ft(this.features[H], this.options.extent);
      }, ft.prototype.loadGeometry = function() {
        var H = this.rawGeometry;
        this.geometry = [];
        for (var k = 0; k < H.length; k++) {
          for (var N = H[k], $ = [], Z = 0; Z < N.length; Z++)
            $.push(new Fe(N[Z][0], N[Z][1]));
          this.geometry.push($);
        }
        return this.geometry;
      }, ft.prototype.bbox = function() {
        this.geometry || this.loadGeometry();
        for (var H = this.geometry, k = 1 / 0, N = -1 / 0, $ = 1 / 0, Z = -1 / 0, re = 0; re < H.length; re++)
          for (var de = H[re], le = 0; le < de.length; le++) {
            var se = de[le];
            k = Math.min(k, se.x), N = Math.max(N, se.x), $ = Math.min($, se.y), Z = Math.max(Z, se.y);
          }
        return [k, $, N, Z];
      }, ft.prototype.toGeoJSON = We.prototype.toGeoJSON;
      var St = o.pbf, ye = ke;
      function Re(H) {
        var k = new St();
        return function(N, $) {
          for (var Z in N.layers)
            $.writeMessage(3, Me, N.layers[Z]);
        }(H, k), k.finish();
      }
      function Me(H, k) {
        var N;
        k.writeVarintField(15, H.version || 1), k.writeStringField(1, H.name || ""), k.writeVarintField(5, H.extent || 4096);
        var $ = { keys: [], values: [], keycache: {}, valuecache: {} };
        for (N = 0; N < H.length; N++)
          $.feature = H.feature(N), k.writeMessage(2, nt, $);
        var Z = $.keys;
        for (N = 0; N < Z.length; N++)
          k.writeStringField(3, Z[N]);
        var re = $.values;
        for (N = 0; N < re.length; N++)
          k.writeMessage(4, $t, re[N]);
      }
      function nt(H, k) {
        var N = H.feature;
        N.id !== void 0 && k.writeVarintField(1, N.id), k.writeMessage(2, yt, H), k.writeVarintField(3, N.type), k.writeMessage(4, ia, N);
      }
      function yt(H, k) {
        var N = H.feature, $ = H.keys, Z = H.values, re = H.keycache, de = H.valuecache;
        for (var le in N.properties) {
          var se = N.properties[le], me = re[le];
          if (se !== null) {
            me === void 0 && ($.push(le), re[le] = me = $.length - 1), k.writeVarint(me);
            var he = typeof se;
            he !== "string" && he !== "boolean" && he !== "number" && (se = JSON.stringify(se));
            var X = he + ":" + se, oe = de[X];
            oe === void 0 && (Z.push(se), de[X] = oe = Z.length - 1), k.writeVarint(oe);
          }
        }
      }
      function Mt(H, k) {
        return (k << 3) + (7 & H);
      }
      function aa(H) {
        return H << 1 ^ H >> 31;
      }
      function ia(H, k) {
        for (var N = H.loadGeometry(), $ = H.type, Z = 0, re = 0, de = N.length, le = 0; le < de; le++) {
          var se = N[le], me = 1;
          $ === 1 && (me = se.length), k.writeVarint(Mt(1, me));
          for (var he = $ === 3 ? se.length - 1 : se.length, X = 0; X < he; X++) {
            X === 1 && $ !== 1 && k.writeVarint(Mt(2, he - 1));
            var oe = se[X].x - Z, Le = se[X].y - re;
            k.writeVarint(aa(oe)), k.writeVarint(aa(Le)), Z += oe, re += Le;
          }
          $ === 3 && k.writeVarint(Mt(7, 1));
        }
      }
      function $t(H, k) {
        var N = typeof H;
        N === "string" ? k.writeStringField(1, H) : N === "boolean" ? k.writeBooleanField(7, H) : N === "number" && (H % 1 != 0 ? k.writeDoubleField(3, H) : H < 0 ? k.writeSVarintField(6, H) : k.writeVarintField(5, H));
      }
      function bi(H, k, N, $, Z, re) {
        if (Z - $ <= N)
          return;
        const de = $ + Z >> 1;
        Gt(H, k, de, $, Z, re % 2), bi(H, k, N, $, de - 1, re + 1), bi(H, k, N, de + 1, Z, re + 1);
      }
      function Gt(H, k, N, $, Z, re) {
        for (; Z > $; ) {
          if (Z - $ > 600) {
            const me = Z - $ + 1, he = N - $ + 1, X = Math.log(me), oe = 0.5 * Math.exp(2 * X / 3), Le = 0.5 * Math.sqrt(X * oe * (me - oe) / me) * (he - me / 2 < 0 ? -1 : 1);
            Gt(H, k, N, Math.max($, Math.floor(N - he * oe / me + Le)), Math.min(Z, Math.floor(N + (me - he) * oe / me + Le)), re);
          }
          const de = k[2 * N + re];
          let le = $, se = Z;
          for (kt(H, k, $, N), k[2 * Z + re] > de && kt(H, k, $, Z); le < se; ) {
            for (kt(H, k, le, se), le++, se--; k[2 * le + re] < de; )
              le++;
            for (; k[2 * se + re] > de; )
              se--;
          }
          k[2 * $ + re] === de ? kt(H, k, $, se) : (se++, kt(H, k, se, Z)), se <= N && ($ = se + 1), N <= se && (Z = se - 1);
        }
      }
      function kt(H, k, N, $) {
        Pt(H, N, $), Pt(k, 2 * N, 2 * $), Pt(k, 2 * N + 1, 2 * $ + 1);
      }
      function Pt(H, k, N) {
        const $ = H[k];
        H[k] = H[N], H[N] = $;
      }
      function wa(H, k, N, $) {
        const Z = H - N, re = k - $;
        return Z * Z + re * re;
      }
      Ee.exports = Re, Ee.exports.fromVectorTileJs = Re, Ee.exports.fromGeojsonVt = function(H, k) {
        k = k || {};
        var N = {};
        for (var $ in H)
          N[$] = new ye(H[$].features, k), N[$].name = $, N[$].version = k.version, N[$].extent = k.extent;
        return Re({ layers: N });
      }, Ee.exports.GeoJSONWrapper = ye;
      const _a = (H) => H[0], ja = (H) => H[1];
      class Ra {
        constructor(k, N = _a, $ = ja, Z = 64, re = Float64Array) {
          this.nodeSize = Z, this.points = k;
          const de = k.length < 65536 ? Uint16Array : Uint32Array, le = this.ids = new de(k.length), se = this.coords = new re(2 * k.length);
          for (let me = 0; me < k.length; me++)
            le[me] = me, se[2 * me] = N(k[me]), se[2 * me + 1] = $(k[me]);
          bi(le, se, Z, 0, le.length - 1, 0);
        }
        range(k, N, $, Z) {
          return function(re, de, le, se, me, he, X) {
            const oe = [0, re.length - 1, 0], Le = [];
            let Ue, je;
            for (; oe.length; ) {
              const ot = oe.pop(), ct = oe.pop(), Ut = oe.pop();
              if (ct - Ut <= X) {
                for (let Xt = Ut; Xt <= ct; Xt++)
                  Ue = de[2 * Xt], je = de[2 * Xt + 1], Ue >= le && Ue <= me && je >= se && je <= he && Le.push(re[Xt]);
                continue;
              }
              const mt = Math.floor((Ut + ct) / 2);
              Ue = de[2 * mt], je = de[2 * mt + 1], Ue >= le && Ue <= me && je >= se && je <= he && Le.push(re[mt]);
              const Ct = (ot + 1) % 2;
              (ot === 0 ? le <= Ue : se <= je) && (oe.push(Ut), oe.push(mt - 1), oe.push(Ct)), (ot === 0 ? me >= Ue : he >= je) && (oe.push(mt + 1), oe.push(ct), oe.push(Ct));
            }
            return Le;
          }(this.ids, this.coords, k, N, $, Z, this.nodeSize);
        }
        within(k, N, $) {
          return function(Z, re, de, le, se, me) {
            const he = [0, Z.length - 1, 0], X = [], oe = se * se;
            for (; he.length; ) {
              const Le = he.pop(), Ue = he.pop(), je = he.pop();
              if (Ue - je <= me) {
                for (let Ct = je; Ct <= Ue; Ct++)
                  wa(re[2 * Ct], re[2 * Ct + 1], de, le) <= oe && X.push(Z[Ct]);
                continue;
              }
              const ot = Math.floor((je + Ue) / 2), ct = re[2 * ot], Ut = re[2 * ot + 1];
              wa(ct, Ut, de, le) <= oe && X.push(Z[ot]);
              const mt = (Le + 1) % 2;
              (Le === 0 ? de - se <= ct : le - se <= Ut) && (he.push(je), he.push(ot - 1), he.push(mt)), (Le === 0 ? de + se >= ct : le + se >= Ut) && (he.push(ot + 1), he.push(Ue), he.push(mt));
            }
            return X;
          }(this.ids, this.coords, k, N, $, this.nodeSize);
        }
      }
      const _i = { minZoom: 0, maxZoom: 16, minPoints: 2, radius: 40, extent: 512, nodeSize: 64, log: !1, generateId: !1, reduce: null, map: (H) => H }, ka = Math.fround || (Ia = new Float32Array(1), (H) => (Ia[0] = +H, Ia[0]));
      var Ia;
      class xi {
        constructor(k) {
          this.options = Ln(Object.create(_i), k), this.trees = new Array(this.options.maxZoom + 1);
        }
        load(k) {
          const { log: N, minZoom: $, maxZoom: Z, nodeSize: re } = this.options;
          N && console.time("total time");
          const de = `prepare ${k.length} points`;
          N && console.time(de), this.points = k;
          let le = [];
          for (let se = 0; se < k.length; se++)
            k[se].geometry && le.push(Mn(k[se], se));
          this.trees[Z + 1] = new Ra(le, nr, Si, re, Float32Array), N && console.timeEnd(de);
          for (let se = Z; se >= $; se--) {
            const me = +Date.now();
            le = this._cluster(le, se), this.trees[se] = new Ra(le, nr, Si, re, Float32Array), N && console.log("z%d: %d clusters in %dms", se, le.length, +Date.now() - me);
          }
          return N && console.timeEnd("total time"), this;
        }
        getClusters(k, N) {
          let $ = ((k[0] + 180) % 360 + 360) % 360 - 180;
          const Z = Math.max(-90, Math.min(90, k[1]));
          let re = k[2] === 180 ? 180 : ((k[2] + 180) % 360 + 360) % 360 - 180;
          const de = Math.max(-90, Math.min(90, k[3]));
          if (k[2] - k[0] >= 360)
            $ = -180, re = 180;
          else if ($ > re) {
            const he = this.getClusters([$, Z, 180, de], N), X = this.getClusters([-180, Z, re, de], N);
            return he.concat(X);
          }
          const le = this.trees[this._limitZoom(N)], se = le.range(zt($), wi(de), zt(re), wi(Z)), me = [];
          for (const he of se) {
            const X = le.points[he];
            me.push(X.numPoints ? Fi(X) : this.points[X.index]);
          }
          return me;
        }
        getChildren(k) {
          const N = this._getOriginId(k), $ = this._getOriginZoom(k), Z = "No cluster with the specified id.", re = this.trees[$];
          if (!re)
            throw new Error(Z);
          const de = re.points[N];
          if (!de)
            throw new Error(Z);
          const le = this.options.radius / (this.options.extent * Math.pow(2, $ - 1)), se = re.within(de.x, de.y, le), me = [];
          for (const he of se) {
            const X = re.points[he];
            X.parentId === k && me.push(X.numPoints ? Fi(X) : this.points[X.index]);
          }
          if (me.length === 0)
            throw new Error(Z);
          return me;
        }
        getLeaves(k, N, $) {
          const Z = [];
          return this._appendLeaves(Z, k, N = N || 10, $ = $ || 0, 0), Z;
        }
        getTile(k, N, $) {
          const Z = this.trees[this._limitZoom(k)], re = Math.pow(2, k), { extent: de, radius: le } = this.options, se = le / de, me = ($ - se) / re, he = ($ + 1 + se) / re, X = { features: [] };
          return this._addTileFeatures(Z.range((N - se) / re, me, (N + 1 + se) / re, he), Z.points, N, $, re, X), N === 0 && this._addTileFeatures(Z.range(1 - se / re, me, 1, he), Z.points, re, $, re, X), N === re - 1 && this._addTileFeatures(Z.range(0, me, se / re, he), Z.points, -1, $, re, X), X.features.length ? X : null;
        }
        getClusterExpansionZoom(k) {
          let N = this._getOriginZoom(k) - 1;
          for (; N <= this.options.maxZoom; ) {
            const $ = this.getChildren(k);
            if (N++, $.length !== 1)
              break;
            k = $[0].properties.cluster_id;
          }
          return N;
        }
        _appendLeaves(k, N, $, Z, re) {
          const de = this.getChildren(N);
          for (const le of de) {
            const se = le.properties;
            if (se && se.cluster ? re + se.point_count <= Z ? re += se.point_count : re = this._appendLeaves(k, se.cluster_id, $, Z, re) : re < Z ? re++ : k.push(le), k.length === $)
              break;
          }
          return re;
        }
        _addTileFeatures(k, N, $, Z, re, de) {
          for (const le of k) {
            const se = N[le], me = se.numPoints;
            let he, X, oe;
            if (me)
              he = _n(se), X = se.x, oe = se.y;
            else {
              const je = this.points[se.index];
              he = je.properties, X = zt(je.geometry.coordinates[0]), oe = wi(je.geometry.coordinates[1]);
            }
            const Le = { type: 1, geometry: [[Math.round(this.options.extent * (X * re - $)), Math.round(this.options.extent * (oe * re - Z))]], tags: he };
            let Ue;
            me ? Ue = se.id : this.options.generateId ? Ue = se.index : this.points[se.index].id && (Ue = this.points[se.index].id), Ue !== void 0 && (Le.id = Ue), de.features.push(Le);
          }
        }
        _limitZoom(k) {
          return Math.max(this.options.minZoom, Math.min(Math.floor(+k), this.options.maxZoom + 1));
        }
        _cluster(k, N) {
          const $ = [], { radius: Z, extent: re, reduce: de, minPoints: le } = this.options, se = Z / (re * Math.pow(2, N));
          for (let me = 0; me < k.length; me++) {
            const he = k[me];
            if (he.zoom <= N)
              continue;
            he.zoom = N;
            const X = this.trees[N + 1], oe = X.within(he.x, he.y, se), Le = he.numPoints || 1;
            let Ue = Le;
            for (const je of oe) {
              const ot = X.points[je];
              ot.zoom > N && (Ue += ot.numPoints || 1);
            }
            if (Ue > Le && Ue >= le) {
              let je = he.x * Le, ot = he.y * Le, ct = de && Le > 1 ? this._map(he, !0) : null;
              const Ut = (me << 5) + (N + 1) + this.points.length;
              for (const mt of oe) {
                const Ct = X.points[mt];
                if (Ct.zoom <= N)
                  continue;
                Ct.zoom = N;
                const Xt = Ct.numPoints || 1;
                je += Ct.x * Xt, ot += Ct.y * Xt, Ct.parentId = Ut, de && (ct || (ct = this._map(he, !0)), de(ct, this._map(Ct)));
              }
              he.parentId = Ut, $.push(Ji(je / Ue, ot / Ue, Ut, Ue, ct));
            } else if ($.push(he), Ue > 1)
              for (const je of oe) {
                const ot = X.points[je];
                ot.zoom <= N || (ot.zoom = N, $.push(ot));
              }
          }
          return $;
        }
        _getOriginId(k) {
          return k - this.points.length >> 5;
        }
        _getOriginZoom(k) {
          return (k - this.points.length) % 32;
        }
        _map(k, N) {
          if (k.numPoints)
            return N ? Ln({}, k.properties) : k.properties;
          const $ = this.points[k.index].properties, Z = this.options.map($);
          return N && Z === $ ? Ln({}, Z) : Z;
        }
      }
      function Ji(H, k, N, $, Z) {
        return { x: ka(H), y: ka(k), zoom: 1 / 0, id: N, parentId: -1, numPoints: $, properties: Z };
      }
      function Mn(H, k) {
        const [N, $] = H.geometry.coordinates;
        return { x: ka(zt(N)), y: ka(wi($)), zoom: 1 / 0, index: k, parentId: -1 };
      }
      function Fi(H) {
        return { type: "Feature", id: H.id, properties: _n(H), geometry: { type: "Point", coordinates: [(k = H.x, 360 * (k - 0.5)), En(H.y)] } };
        var k;
      }
      function _n(H) {
        const k = H.numPoints, N = k >= 1e4 ? `${Math.round(k / 1e3)}k` : k >= 1e3 ? Math.round(k / 100) / 10 + "k" : k;
        return Ln(Ln({}, H.properties), { cluster: !0, cluster_id: H.id, point_count: k, point_count_abbreviated: N });
      }
      function zt(H) {
        return H / 360 + 0.5;
      }
      function wi(H) {
        const k = Math.sin(H * Math.PI / 180), N = 0.5 - 0.25 * Math.log((1 + k) / (1 - k)) / Math.PI;
        return N < 0 ? 0 : N > 1 ? 1 : N;
      }
      function En(H) {
        const k = (180 - 360 * H) * Math.PI / 180;
        return 360 * Math.atan(Math.exp(k)) / Math.PI - 90;
      }
      function Ln(H, k) {
        for (const N in k)
          H[N] = k[N];
        return H;
      }
      function nr(H) {
        return H.x;
      }
      function Si(H) {
        return H.y;
      }
      function mi(H, k, N, $) {
        for (var Z, re = $, de = N - k >> 1, le = N - k, se = H[k], me = H[k + 1], he = H[N], X = H[N + 1], oe = k + 3; oe < N; oe += 3) {
          var Le = en(H[oe], H[oe + 1], se, me, he, X);
          if (Le > re)
            Z = oe, re = Le;
          else if (Le === re) {
            var Ue = Math.abs(oe - de);
            Ue < le && (Z = oe, le = Ue);
          }
        }
        re > $ && (Z - k > 3 && mi(H, k, Z, $), H[Z + 2] = re, N - Z > 3 && mi(H, Z, N, $));
      }
      function en(H, k, N, $, Z, re) {
        var de = Z - N, le = re - $;
        if (de !== 0 || le !== 0) {
          var se = ((H - N) * de + (k - $) * le) / (de * de + le * le);
          se > 1 ? (N = Z, $ = re) : se > 0 && (N += de * se, $ += le * se);
        }
        return (de = H - N) * de + (le = k - $) * le;
      }
      function tn(H, k, N, $) {
        var Z = { id: H === void 0 ? null : H, type: k, geometry: N, tags: $, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 };
        return function(re) {
          var de = re.geometry, le = re.type;
          if (le === "Point" || le === "MultiPoint" || le === "LineString")
            Ae(re, de);
          else if (le === "Polygon" || le === "MultiLineString")
            for (var se = 0; se < de.length; se++)
              Ae(re, de[se]);
          else if (le === "MultiPolygon")
            for (se = 0; se < de.length; se++)
              for (var me = 0; me < de[se].length; me++)
                Ae(re, de[se][me]);
        }(Z), Z;
      }
      function Ae(H, k) {
        for (var N = 0; N < k.length; N += 3)
          H.minX = Math.min(H.minX, k[N]), H.minY = Math.min(H.minY, k[N + 1]), H.maxX = Math.max(H.maxX, k[N]), H.maxY = Math.max(H.maxY, k[N + 1]);
      }
      function Ve(H, k, N, $) {
        if (k.geometry) {
          var Z = k.geometry.coordinates, re = k.geometry.type, de = Math.pow(N.tolerance / ((1 << N.maxZoom) * N.extent), 2), le = [], se = k.id;
          if (N.promoteId ? se = k.properties[N.promoteId] : N.generateId && (se = $ || 0), re === "Point")
            Wi(Z, le);
          else if (re === "MultiPoint")
            for (var me = 0; me < Z.length; me++)
              Wi(Z[me], le);
          else if (re === "LineString")
            zi(Z, le, de, !1);
          else if (re === "MultiLineString") {
            if (N.lineMetrics) {
              for (me = 0; me < Z.length; me++)
                zi(Z[me], le = [], de, !1), H.push(tn(se, "LineString", le, k.properties));
              return;
            }
            Dt(Z, le, de, !1);
          } else if (re === "Polygon")
            Dt(Z, le, de, !0);
          else {
            if (re !== "MultiPolygon") {
              if (re === "GeometryCollection") {
                for (me = 0; me < k.geometry.geometries.length; me++)
                  Ve(H, { id: se, geometry: k.geometry.geometries[me], properties: k.properties }, N, $);
                return;
              }
              throw new Error("Input data is not a valid GeoJSON object.");
            }
            for (me = 0; me < Z.length; me++) {
              var he = [];
              Dt(Z[me], he, de, !0), le.push(he);
            }
          }
          H.push(tn(se, re, le, k.properties));
        }
      }
      function Wi(H, k) {
        k.push(Qa(H[0])), k.push(Da(H[1])), k.push(0);
      }
      function zi(H, k, N, $) {
        for (var Z, re, de = 0, le = 0; le < H.length; le++) {
          var se = Qa(H[le][0]), me = Da(H[le][1]);
          k.push(se), k.push(me), k.push(0), le > 0 && (de += $ ? (Z * me - se * re) / 2 : Math.sqrt(Math.pow(se - Z, 2) + Math.pow(me - re, 2))), Z = se, re = me;
        }
        var he = k.length - 3;
        k[2] = 1, mi(k, 0, he, N), k[he + 2] = 1, k.size = Math.abs(de), k.start = 0, k.end = k.size;
      }
      function Dt(H, k, N, $) {
        for (var Z = 0; Z < H.length; Z++) {
          var re = [];
          zi(H[Z], re, N, $), k.push(re);
        }
      }
      function Qa(H) {
        return H / 360 + 0.5;
      }
      function Da(H) {
        var k = Math.sin(H * Math.PI / 180), N = 0.5 - 0.25 * Math.log((1 + k) / (1 - k)) / Math.PI;
        return N < 0 ? 0 : N > 1 ? 1 : N;
      }
      function na(H, k, N, $, Z, re, de, le) {
        if ($ /= k, re >= (N /= k) && de < $)
          return H;
        if (de < N || re >= $)
          return null;
        for (var se = [], me = 0; me < H.length; me++) {
          var he = H[me], X = he.geometry, oe = he.type, Le = Z === 0 ? he.minX : he.minY, Ue = Z === 0 ? he.maxX : he.maxY;
          if (Le >= N && Ue < $)
            se.push(he);
          else if (!(Ue < N || Le >= $)) {
            var je = [];
            if (oe === "Point" || oe === "MultiPoint")
              Un(X, je, N, $, Z);
            else if (oe === "LineString")
              He(X, je, N, $, Z, !1, le.lineMetrics);
            else if (oe === "MultiLineString")
              Et(X, je, N, $, Z, !1);
            else if (oe === "Polygon")
              Et(X, je, N, $, Z, !0);
            else if (oe === "MultiPolygon")
              for (var ot = 0; ot < X.length; ot++) {
                var ct = [];
                Et(X[ot], ct, N, $, Z, !0), ct.length && je.push(ct);
              }
            if (je.length) {
              if (le.lineMetrics && oe === "LineString") {
                for (ot = 0; ot < je.length; ot++)
                  se.push(tn(he.id, oe, je[ot], he.tags));
                continue;
              }
              oe !== "LineString" && oe !== "MultiLineString" || (je.length === 1 ? (oe = "LineString", je = je[0]) : oe = "MultiLineString"), oe !== "Point" && oe !== "MultiPoint" || (oe = je.length === 3 ? "Point" : "MultiPoint"), se.push(tn(he.id, oe, je, he.tags));
            }
          }
        }
        return se.length ? se : null;
      }
      function Un(H, k, N, $, Z) {
        for (var re = 0; re < H.length; re += 3) {
          var de = H[re + Z];
          de >= N && de <= $ && (k.push(H[re]), k.push(H[re + 1]), k.push(H[re + 2]));
        }
      }
      function He(H, k, N, $, Z, re, de) {
        for (var le, se, me = Wt(H), he = Z === 0 ? yr : ht, X = H.start, oe = 0; oe < H.length - 3; oe += 3) {
          var Le = H[oe], Ue = H[oe + 1], je = H[oe + 2], ot = H[oe + 3], ct = H[oe + 4], Ut = Z === 0 ? Le : Ue, mt = Z === 0 ? ot : ct, Ct = !1;
          de && (le = Math.sqrt(Math.pow(Le - ot, 2) + Math.pow(Ue - ct, 2))), Ut < N ? mt > N && (se = he(me, Le, Ue, ot, ct, N), de && (me.start = X + le * se)) : Ut > $ ? mt < $ && (se = he(me, Le, Ue, ot, ct, $), de && (me.start = X + le * se)) : hi(me, Le, Ue, je), mt < N && Ut >= N && (se = he(me, Le, Ue, ot, ct, N), Ct = !0), mt > $ && Ut <= $ && (se = he(me, Le, Ue, ot, ct, $), Ct = !0), !re && Ct && (de && (me.end = X + le * se), k.push(me), me = Wt(H)), de && (X += le);
        }
        var Xt = H.length - 3;
        Le = H[Xt], Ue = H[Xt + 1], je = H[Xt + 2], (Ut = Z === 0 ? Le : Ue) >= N && Ut <= $ && hi(me, Le, Ue, je), Xt = me.length - 3, re && Xt >= 3 && (me[Xt] !== me[0] || me[Xt + 1] !== me[1]) && hi(me, me[0], me[1], me[2]), me.length && k.push(me);
      }
      function Wt(H) {
        var k = [];
        return k.size = H.size, k.start = H.start, k.end = H.end, k;
      }
      function Et(H, k, N, $, Z, re) {
        for (var de = 0; de < H.length; de++)
          He(H[de], k, N, $, Z, re, !1);
      }
      function hi(H, k, N, $) {
        H.push(k), H.push(N), H.push($);
      }
      function yr(H, k, N, $, Z, re) {
        var de = (re - k) / ($ - k);
        return H.push(re), H.push(N + (Z - N) * de), H.push(1), de;
      }
      function ht(H, k, N, $, Z, re) {
        var de = (re - N) / (Z - N);
        return H.push(k + ($ - k) * de), H.push(re), H.push(1), de;
      }
      function Gi(H, k) {
        for (var N = [], $ = 0; $ < H.length; $++) {
          var Z, re = H[$], de = re.type;
          if (de === "Point" || de === "MultiPoint" || de === "LineString")
            Z = ri(re.geometry, k);
          else if (de === "MultiLineString" || de === "Polygon") {
            Z = [];
            for (var le = 0; le < re.geometry.length; le++)
              Z.push(ri(re.geometry[le], k));
          } else if (de === "MultiPolygon")
            for (Z = [], le = 0; le < re.geometry.length; le++) {
              for (var se = [], me = 0; me < re.geometry[le].length; me++)
                se.push(ri(re.geometry[le][me], k));
              Z.push(se);
            }
          N.push(tn(re.id, de, Z, re.tags));
        }
        return N;
      }
      function ri(H, k) {
        var N = [];
        N.size = H.size, H.start !== void 0 && (N.start = H.start, N.end = H.end);
        for (var $ = 0; $ < H.length; $ += 3)
          N.push(H[$] + k, H[$ + 1], H[$ + 2]);
        return N;
      }
      function Rr(H, k) {
        if (H.transformed)
          return H;
        var N, $, Z, re = 1 << H.z, de = H.x, le = H.y;
        for (N = 0; N < H.features.length; N++) {
          var se = H.features[N], me = se.geometry, he = se.type;
          if (se.geometry = [], he === 1)
            for ($ = 0; $ < me.length; $ += 2)
              se.geometry.push(Va(me[$], me[$ + 1], k, re, de, le));
          else
            for ($ = 0; $ < me.length; $++) {
              var X = [];
              for (Z = 0; Z < me[$].length; Z += 2)
                X.push(Va(me[$][Z], me[$][Z + 1], k, re, de, le));
              se.geometry.push(X);
            }
        }
        return H.transformed = !0, H;
      }
      function Va(H, k, N, $, Z, re) {
        return [Math.round(N * (H * $ - Z)), Math.round(N * (k * $ - re))];
      }
      function Ti(H, k, N, $, Z) {
        for (var re = k === Z.maxZoom ? 0 : Z.tolerance / ((1 << k) * Z.extent), de = { features: [], numPoints: 0, numSimplified: 0, numFeatures: 0, source: null, x: N, y: $, z: k, transformed: !1, minX: 2, minY: 1, maxX: -1, maxY: 0 }, le = 0; le < H.length; le++) {
          de.numFeatures++, ra(de, H[le], re, Z);
          var se = H[le].minX, me = H[le].minY, he = H[le].maxX, X = H[le].maxY;
          se < de.minX && (de.minX = se), me < de.minY && (de.minY = me), he > de.maxX && (de.maxX = he), X > de.maxY && (de.maxY = X);
        }
        return de;
      }
      function ra(H, k, N, $) {
        var Z = k.geometry, re = k.type, de = [];
        if (re === "Point" || re === "MultiPoint")
          for (var le = 0; le < Z.length; le += 3)
            de.push(Z[le]), de.push(Z[le + 1]), H.numPoints++, H.numSimplified++;
        else if (re === "LineString")
          es(de, Z, H, N, !1, !1);
        else if (re === "MultiLineString" || re === "Polygon")
          for (le = 0; le < Z.length; le++)
            es(de, Z[le], H, N, re === "Polygon", le === 0);
        else if (re === "MultiPolygon")
          for (var se = 0; se < Z.length; se++) {
            var me = Z[se];
            for (le = 0; le < me.length; le++)
              es(de, me[le], H, N, !0, le === 0);
          }
        if (de.length) {
          var he = k.tags || null;
          if (re === "LineString" && $.lineMetrics) {
            for (var X in he = {}, k.tags)
              he[X] = k.tags[X];
            he.mapbox_clip_start = Z.start / Z.size, he.mapbox_clip_end = Z.end / Z.size;
          }
          var oe = { geometry: de, type: re === "Polygon" || re === "MultiPolygon" ? 3 : re === "LineString" || re === "MultiLineString" ? 2 : 1, tags: he };
          k.id !== null && (oe.id = k.id), H.features.push(oe);
        }
      }
      function es(H, k, N, $, Z, re) {
        var de = $ * $;
        if ($ > 0 && k.size < (Z ? de : $))
          N.numPoints += k.length / 3;
        else {
          for (var le = [], se = 0; se < k.length; se += 3)
            ($ === 0 || k[se + 2] > de) && (N.numSimplified++, le.push(k[se]), le.push(k[se + 1])), N.numPoints++;
          Z && function(me, he) {
            for (var X = 0, oe = 0, Le = me.length, Ue = Le - 2; oe < Le; Ue = oe, oe += 2)
              X += (me[oe] - me[Ue]) * (me[oe + 1] + me[Ue + 1]);
            if (X > 0 === he)
              for (oe = 0, Le = me.length; oe < Le / 2; oe += 2) {
                var je = me[oe], ot = me[oe + 1];
                me[oe] = me[Le - 2 - oe], me[oe + 1] = me[Le - 1 - oe], me[Le - 2 - oe] = je, me[Le - 1 - oe] = ot;
              }
          }(le, re), H.push(le);
        }
      }
      function an(H, k) {
        var N = (k = this.options = function(Z, re) {
          for (var de in re)
            Z[de] = re[de];
          return Z;
        }(Object.create(this.options), k)).debug;
        if (N && console.time("preprocess data"), k.maxZoom < 0 || k.maxZoom > 24)
          throw new Error("maxZoom should be in the 0-24 range");
        if (k.promoteId && k.generateId)
          throw new Error("promoteId and generateId cannot be used together.");
        var $ = function(Z, re) {
          var de = [];
          if (Z.type === "FeatureCollection")
            for (var le = 0; le < Z.features.length; le++)
              Ve(de, Z.features[le], re, le);
          else
            Ve(de, Z.type === "Feature" ? Z : { geometry: Z }, re);
          return de;
        }(H, k);
        this.tiles = {}, this.tileCoords = [], N && (console.timeEnd("preprocess data"), console.log("index: maxZoom: %d, maxPoints: %d", k.indexMaxZoom, k.indexMaxPoints), console.time("generate tiles"), this.stats = {}, this.total = 0), $ = function(Z, re) {
          var de = re.buffer / re.extent, le = Z, se = na(Z, 1, -1 - de, de, 0, -1, 2, re), me = na(Z, 1, 1 - de, 2 + de, 0, -1, 2, re);
          return (se || me) && (le = na(Z, 1, -de, 1 + de, 0, -1, 2, re) || [], se && (le = Gi(se, 1).concat(le)), me && (le = le.concat(Gi(me, -1)))), le;
        }($, k), $.length && this.splitTile($, 0, 0, 0), N && ($.length && console.log("features: %d, points: %d", this.tiles[0].numFeatures, this.tiles[0].numPoints), console.timeEnd("generate tiles"), console.log("tiles generated:", this.total, JSON.stringify(this.stats)));
      }
      function rr(H, k, N) {
        return 32 * ((1 << H) * N + k) + H;
      }
      function kr(H, k) {
        const N = H.tileID.canonical;
        if (!this._geoJSONIndex)
          return k(null, null);
        const $ = this._geoJSONIndex.getTile(N.z, N.x, N.y);
        if (!$)
          return k(null, null);
        const Z = new Be($.features);
        let re = Ee.exports(Z);
        re.byteOffset === 0 && re.byteLength === re.buffer.byteLength || (re = new Uint8Array(re)), k(null, { vectorTile: Z, rawData: re.buffer });
      }
      an.prototype.options = { maxZoom: 14, indexMaxZoom: 5, indexMaxPoints: 1e5, tolerance: 3, extent: 4096, buffer: 64, lineMetrics: !1, promoteId: null, generateId: !1, debug: 0 }, an.prototype.splitTile = function(H, k, N, $, Z, re, de) {
        for (var le = [H, k, N, $], se = this.options, me = se.debug; le.length; ) {
          $ = le.pop(), N = le.pop(), k = le.pop(), H = le.pop();
          var he = 1 << k, X = rr(k, N, $), oe = this.tiles[X];
          if (!oe && (me > 1 && console.time("creation"), oe = this.tiles[X] = Ti(H, k, N, $, se), this.tileCoords.push({ z: k, x: N, y: $ }), me)) {
            me > 1 && (console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)", k, N, $, oe.numFeatures, oe.numPoints, oe.numSimplified), console.timeEnd("creation"));
            var Le = "z" + k;
            this.stats[Le] = (this.stats[Le] || 0) + 1, this.total++;
          }
          if (oe.source = H, Z) {
            if (k === se.maxZoom || k === Z)
              continue;
            var Ue = 1 << Z - k;
            if (N !== Math.floor(re / Ue) || $ !== Math.floor(de / Ue))
              continue;
          } else if (k === se.indexMaxZoom || oe.numPoints <= se.indexMaxPoints)
            continue;
          if (oe.source = null, H.length !== 0) {
            me > 1 && console.time("clipping");
            var je, ot, ct, Ut, mt, Ct, Xt = 0.5 * se.buffer / se.extent, ga = 0.5 - Xt, Mi = 0.5 + Xt, Wa = 1 + Xt;
            je = ot = ct = Ut = null, mt = na(H, he, N - Xt, N + Mi, 0, oe.minX, oe.maxX, se), Ct = na(H, he, N + ga, N + Wa, 0, oe.minX, oe.maxX, se), H = null, mt && (je = na(mt, he, $ - Xt, $ + Mi, 1, oe.minY, oe.maxY, se), ot = na(mt, he, $ + ga, $ + Wa, 1, oe.minY, oe.maxY, se), mt = null), Ct && (ct = na(Ct, he, $ - Xt, $ + Mi, 1, oe.minY, oe.maxY, se), Ut = na(Ct, he, $ + ga, $ + Wa, 1, oe.minY, oe.maxY, se), Ct = null), me > 1 && console.timeEnd("clipping"), le.push(je || [], k + 1, 2 * N, 2 * $), le.push(ot || [], k + 1, 2 * N, 2 * $ + 1), le.push(ct || [], k + 1, 2 * N + 1, 2 * $), le.push(Ut || [], k + 1, 2 * N + 1, 2 * $ + 1);
          }
        }
      }, an.prototype.getTile = function(H, k, N) {
        var $ = this.options, Z = $.extent, re = $.debug;
        if (H < 0 || H > 24)
          return null;
        var de = 1 << H, le = rr(H, k = (k % de + de) % de, N);
        if (this.tiles[le])
          return Rr(this.tiles[le], Z);
        re > 1 && console.log("drilling down to z%d-%d-%d", H, k, N);
        for (var se, me = H, he = k, X = N; !se && me > 0; )
          me--, he = Math.floor(he / 2), X = Math.floor(X / 2), se = this.tiles[rr(me, he, X)];
        return se && se.source ? (re > 1 && console.log("found parent tile z%d-%d-%d", me, he, X), re > 1 && console.time("drilling down"), this.splitTile(se.source, me, he, X, H, k, N), re > 1 && console.timeEnd("drilling down"), this.tiles[le] ? Rr(this.tiles[le], Z) : null) : null;
      };
      class Ui extends j {
        constructor(k, N, $, Z) {
          super(k, N, $, kr), Z && (this.loadGeoJSON = Z);
        }
        loadData(k, N) {
          var $;
          ($ = this._pendingRequest) === null || $ === void 0 || $.cancel(), this._pendingCallback && this._pendingCallback(null, { abandoned: !0 });
          const Z = !!(k && k.request && k.request.collectResourceTiming) && new o.RequestPerformance(k.request);
          this._pendingCallback = N, this._pendingRequest = this.loadGeoJSON(k, (re, de) => {
            if (delete this._pendingCallback, delete this._pendingRequest, re || !de)
              return N(re);
            if (typeof de != "object")
              return N(new Error(`Input data given to '${k.source}' is not a valid GeoJSON object.`));
            {
              ie(de, !0);
              try {
                if (k.filter) {
                  const se = o.createExpression(k.filter, { type: "boolean", "property-type": "data-driven", overridable: !1, transition: !1 });
                  if (se.result === "error")
                    throw new Error(se.value.map((he) => `${he.key}: ${he.message}`).join(", "));
                  de = { type: "FeatureCollection", features: de.features.filter((he) => se.value.evaluate({ zoom: 0 }, he)) };
                }
                this._geoJSONIndex = k.cluster ? new xi(function({ superclusterOptions: se, clusterProperties: me }) {
                  if (!me || !se)
                    return se;
                  const he = {}, X = {}, oe = { accumulated: null, zoom: 0 }, Le = { properties: null }, Ue = Object.keys(me);
                  for (const je of Ue) {
                    const [ot, ct] = me[je], Ut = o.createExpression(ct), mt = o.createExpression(typeof ot == "string" ? [ot, ["accumulated"], ["get", je]] : ot);
                    he[je] = Ut.value, X[je] = mt.value;
                  }
                  return se.map = (je) => {
                    Le.properties = je;
                    const ot = {};
                    for (const ct of Ue)
                      ot[ct] = he[ct].evaluate(oe, Le);
                    return ot;
                  }, se.reduce = (je, ot) => {
                    Le.properties = ot;
                    for (const ct of Ue)
                      oe.accumulated = je[ct], je[ct] = X[ct].evaluate(oe, Le);
                  }, se;
                }(k)).load(de.features) : function(se, me) {
                  return new an(se, me);
                }(de, k.geojsonVtOptions);
              } catch (se) {
                return N(se);
              }
              this.loaded = {};
              const le = {};
              if (Z) {
                const se = Z.finish();
                se && (le.resourceTiming = {}, le.resourceTiming[k.source] = JSON.parse(JSON.stringify(se)));
              }
              N(null, le);
            }
          });
        }
        reloadTile(k, N) {
          const $ = this.loaded;
          return $ && $[k.uid] ? super.reloadTile(k, N) : this.loadTile(k, N);
        }
        loadGeoJSON(k, N) {
          if (k.request)
            return o.getJSON(k.request, N);
          if (typeof k.data == "string")
            try {
              N(null, JSON.parse(k.data));
            } catch {
              N(new Error(`Input data given to '${k.source}' is not a valid GeoJSON object.`));
            }
          else
            N(new Error(`Input data given to '${k.source}' is not a valid GeoJSON object.`));
          return { cancel: () => {
          } };
        }
        removeSource(k, N) {
          this._pendingCallback && this._pendingCallback(null, { abandoned: !0 }), N();
        }
        getClusterExpansionZoom(k, N) {
          try {
            N(null, this._geoJSONIndex.getClusterExpansionZoom(k.clusterId));
          } catch ($) {
            N($);
          }
        }
        getClusterChildren(k, N) {
          try {
            N(null, this._geoJSONIndex.getChildren(k.clusterId));
          } catch ($) {
            N($);
          }
        }
        getClusterLeaves(k, N) {
          try {
            N(null, this._geoJSONIndex.getLeaves(k.clusterId, k.limit, k.offset));
          } catch ($) {
            N($);
          }
        }
      }
      class sr {
        constructor(k) {
          this.self = k, this.actor = new o.Actor(k, this), this.layerIndexes = {}, this.availableImages = {}, this.workerSourceTypes = { vector: j, geojson: Ui }, this.workerSources = {}, this.demWorkerSources = {}, this.self.registerWorkerSource = (N, $) => {
            if (this.workerSourceTypes[N])
              throw new Error(`Worker source with name "${N}" already registered.`);
            this.workerSourceTypes[N] = $;
          }, this.self.registerRTLTextPlugin = (N) => {
            if (o.plugin.isParsed())
              throw new Error("RTL text plugin already registered.");
            o.plugin.applyArabicShaping = N.applyArabicShaping, o.plugin.processBidirectionalText = N.processBidirectionalText, o.plugin.processStyledBidirectionalText = N.processStyledBidirectionalText;
          };
        }
        setReferrer(k, N) {
          this.referrer = N;
        }
        setImages(k, N, $) {
          this.availableImages[k] = N;
          for (const Z in this.workerSources[k]) {
            const re = this.workerSources[k][Z];
            for (const de in re)
              re[de].availableImages = N;
          }
          $();
        }
        setLayers(k, N, $) {
          this.getLayerIndex(k).replace(N), $();
        }
        updateLayers(k, N, $) {
          this.getLayerIndex(k).update(N.layers, N.removedIds), $();
        }
        loadTile(k, N, $) {
          this.getWorkerSource(k, N.type, N.source).loadTile(N, $);
        }
        loadDEMTile(k, N, $) {
          this.getDEMWorkerSource(k, N.source).loadTile(N, $);
        }
        reloadTile(k, N, $) {
          this.getWorkerSource(k, N.type, N.source).reloadTile(N, $);
        }
        abortTile(k, N, $) {
          this.getWorkerSource(k, N.type, N.source).abortTile(N, $);
        }
        removeTile(k, N, $) {
          this.getWorkerSource(k, N.type, N.source).removeTile(N, $);
        }
        removeDEMTile(k, N) {
          this.getDEMWorkerSource(k, N.source).removeTile(N);
        }
        removeSource(k, N, $) {
          if (!this.workerSources[k] || !this.workerSources[k][N.type] || !this.workerSources[k][N.type][N.source])
            return;
          const Z = this.workerSources[k][N.type][N.source];
          delete this.workerSources[k][N.type][N.source], Z.removeSource !== void 0 ? Z.removeSource(N, $) : $();
        }
        loadWorkerSource(k, N, $) {
          try {
            this.self.importScripts(N.url), $();
          } catch (Z) {
            $(Z.toString());
          }
        }
        syncRTLPluginState(k, N, $) {
          try {
            o.plugin.setState(N);
            const Z = o.plugin.getPluginURL();
            if (o.plugin.isLoaded() && !o.plugin.isParsed() && Z != null) {
              this.self.importScripts(Z);
              const re = o.plugin.isParsed();
              $(re ? void 0 : new Error(`RTL Text Plugin failed to import scripts from ${Z}`), re);
            }
          } catch (Z) {
            $(Z.toString());
          }
        }
        getAvailableImages(k) {
          let N = this.availableImages[k];
          return N || (N = []), N;
        }
        getLayerIndex(k) {
          let N = this.layerIndexes[k];
          return N || (N = this.layerIndexes[k] = new S()), N;
        }
        getWorkerSource(k, N, $) {
          if (this.workerSources[k] || (this.workerSources[k] = {}), this.workerSources[k][N] || (this.workerSources[k][N] = {}), !this.workerSources[k][N][$]) {
            const Z = { send: (re, de, le) => {
              this.actor.send(re, de, le, k);
            } };
            this.workerSources[k][N][$] = new this.workerSourceTypes[N](Z, this.getLayerIndex(k), this.getAvailableImages(k));
          }
          return this.workerSources[k][N][$];
        }
        getDEMWorkerSource(k, N) {
          return this.demWorkerSources[k] || (this.demWorkerSources[k] = {}), this.demWorkerSources[k][N] || (this.demWorkerSources[k][N] = new Q()), this.demWorkerSources[k][N];
        }
        enforceCacheSizeLimit(k, N) {
          o.enforceCacheSizeLimit(N);
        }
      }
      return o.isWorker() && (self.worker = new sr(self)), sr;
    }), u(["./shared"], function(o) {
      var y = b;
      function b(p) {
        return !function(s) {
          return typeof window > "u" || typeof document > "u" ? "not a browser" : Array.prototype && Array.prototype.every && Array.prototype.filter && Array.prototype.forEach && Array.prototype.indexOf && Array.prototype.lastIndexOf && Array.prototype.map && Array.prototype.some && Array.prototype.reduce && Array.prototype.reduceRight && Array.isArray ? Function.prototype && Function.prototype.bind ? Object.keys && Object.create && Object.getPrototypeOf && Object.getOwnPropertyNames && Object.isSealed && Object.isFrozen && Object.isExtensible && Object.getOwnPropertyDescriptor && Object.defineProperty && Object.defineProperties && Object.seal && Object.freeze && Object.preventExtensions ? "JSON" in window && "parse" in JSON && "stringify" in JSON ? function() {
            if (!("Worker" in window && "Blob" in window && "URL" in window))
              return !1;
            var h, g, x = new Blob([""], { type: "text/javascript" }), M = URL.createObjectURL(x);
            try {
              g = new Worker(M), h = !0;
            } catch {
              h = !1;
            }
            return g && g.terminate(), URL.revokeObjectURL(M), h;
          }() ? "Uint8ClampedArray" in window ? ArrayBuffer.isView ? function() {
            var h = document.createElement("canvas");
            h.width = h.height = 1;
            var g = h.getContext("2d");
            if (!g)
              return !1;
            var x = g.getImageData(0, 0, 1, 1);
            return x && x.width === h.width;
          }() ? (S[c = s && s.failIfMajorPerformanceCaveat] === void 0 && (S[c] = function(h) {
            var g, x = function(M) {
              var A = document.createElement("canvas"), I = Object.create(b.webGLContextAttributes);
              return I.failIfMajorPerformanceCaveat = M, A.getContext("webgl", I) || A.getContext("experimental-webgl", I);
            }(h);
            if (!x)
              return !1;
            try {
              g = x.createShader(x.VERTEX_SHADER);
            } catch {
              return !1;
            }
            return !(!g || x.isContextLost()) && (x.shaderSource(g, "void main() {}"), x.compileShader(g), x.getShaderParameter(g, x.COMPILE_STATUS) === !0);
          }(c)), S[c] ? document.documentMode ? "insufficient ECMAScript 6 support" : void 0 : "insufficient WebGL support") : "insufficient Canvas/getImageData support" : "insufficient ArrayBuffer support" : "insufficient Uint8ClampedArray support" : "insufficient worker support" : "insufficient JSON support" : "insufficient Object support" : "insufficient Function support" : "insufficent Array support";
          var c;
        }(p);
      }
      var S = {};
      function T(p, s) {
        if (Array.isArray(p)) {
          if (!Array.isArray(s) || p.length !== s.length)
            return !1;
          for (let c = 0; c < p.length; c++)
            if (!T(p[c], s[c]))
              return !1;
          return !0;
        }
        if (typeof p == "object" && p !== null && s !== null) {
          if (typeof s != "object" || Object.keys(p).length !== Object.keys(s).length)
            return !1;
          for (const c in p)
            if (!T(p[c], s[c]))
              return !1;
          return !0;
        }
        return p === s;
      }
      b.webGLContextAttributes = { antialias: !1, alpha: !0, stencil: !0, depth: !0 };
      class L {
        static testProp(s) {
          if (!L.docStyle)
            return s[0];
          for (let c = 0; c < s.length; c++)
            if (s[c] in L.docStyle)
              return s[c];
          return s[0];
        }
        static create(s, c, h) {
          const g = window.document.createElement(s);
          return c !== void 0 && (g.className = c), h && h.appendChild(g), g;
        }
        static createNS(s, c) {
          return window.document.createElementNS(s, c);
        }
        static disableDrag() {
          L.docStyle && L.selectProp && (L.userSelect = L.docStyle[L.selectProp], L.docStyle[L.selectProp] = "none");
        }
        static enableDrag() {
          L.docStyle && L.selectProp && (L.docStyle[L.selectProp] = L.userSelect);
        }
        static setTransform(s, c) {
          s.style[L.transformProp] = c;
        }
        static addEventListener(s, c, h, g = {}) {
          s.addEventListener(c, h, "passive" in g ? g : g.capture);
        }
        static removeEventListener(s, c, h, g = {}) {
          s.removeEventListener(c, h, "passive" in g ? g : g.capture);
        }
        static suppressClickInternal(s) {
          s.preventDefault(), s.stopPropagation(), window.removeEventListener("click", L.suppressClickInternal, !0);
        }
        static suppressClick() {
          window.addEventListener("click", L.suppressClickInternal, !0), window.setTimeout(() => {
            window.removeEventListener("click", L.suppressClickInternal, !0);
          }, 0);
        }
        static mousePos(s, c) {
          const h = s.getBoundingClientRect();
          return new o.pointGeometry(c.clientX - h.left - s.clientLeft, c.clientY - h.top - s.clientTop);
        }
        static touchPos(s, c) {
          const h = s.getBoundingClientRect(), g = [];
          for (let x = 0; x < c.length; x++)
            g.push(new o.pointGeometry(c[x].clientX - h.left - s.clientLeft, c[x].clientY - h.top - s.clientTop));
          return g;
        }
        static mouseButton(s) {
          return s.button;
        }
        static remove(s) {
          s.parentNode && s.parentNode.removeChild(s);
        }
      }
      L.docStyle = typeof window < "u" && window.document && window.document.documentElement.style, L.selectProp = L.testProp(["userSelect", "MozUserSelect", "WebkitUserSelect", "msUserSelect"]), L.transformProp = L.testProp(["transform", "WebkitTransform"]);
      class R {
        constructor(s) {
          this._transformRequestFn = s;
        }
        transformRequest(s, c) {
          return this._transformRequestFn && this._transformRequestFn(s, c) || { url: s };
        }
        normalizeSpriteURL(s, c, h) {
          const g = function(x) {
            const M = x.match(D);
            if (!M)
              throw new Error(`Unable to parse URL "${x}"`);
            return { protocol: M[1], authority: M[2], path: M[3] || "/", params: M[4] ? M[4].split("&") : [] };
          }(s);
          return g.path += `${c}${h}`, function(x) {
            const M = x.params.length ? `?${x.params.join("&")}` : "";
            return `${x.protocol}://${x.authority}${x.path}${M}`;
          }(g);
        }
        setTransformRequest(s) {
          this._transformRequestFn = s;
        }
      }
      const D = /^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;
      class j {
        constructor(s, c, h, g) {
          this.context = s, this.format = h, this.texture = s.gl.createTexture(), this.update(c, g);
        }
        update(s, c, h) {
          const { width: g, height: x } = s, M = !(this.size && this.size[0] === g && this.size[1] === x || h), { context: A } = this, { gl: I } = A;
          if (this.useMipmap = !!(c && c.useMipmap), I.bindTexture(I.TEXTURE_2D, this.texture), A.pixelStoreUnpackFlipY.set(!1), A.pixelStoreUnpack.set(1), A.pixelStoreUnpackPremultiplyAlpha.set(this.format === I.RGBA && (!c || c.premultiply !== !1)), M)
            this.size = [g, x], s instanceof HTMLImageElement || s instanceof HTMLCanvasElement || s instanceof HTMLVideoElement || s instanceof ImageData || o.isImageBitmap(s) ? I.texImage2D(I.TEXTURE_2D, 0, this.format, this.format, I.UNSIGNED_BYTE, s) : I.texImage2D(I.TEXTURE_2D, 0, this.format, g, x, 0, this.format, I.UNSIGNED_BYTE, s.data);
          else {
            const { x: O, y: z } = h || { x: 0, y: 0 };
            s instanceof HTMLImageElement || s instanceof HTMLCanvasElement || s instanceof HTMLVideoElement || s instanceof ImageData || o.isImageBitmap(s) ? I.texSubImage2D(I.TEXTURE_2D, 0, O, z, I.RGBA, I.UNSIGNED_BYTE, s) : I.texSubImage2D(I.TEXTURE_2D, 0, O, z, g, x, I.RGBA, I.UNSIGNED_BYTE, s.data);
          }
          this.useMipmap && this.isSizePowerOfTwo() && I.generateMipmap(I.TEXTURE_2D);
        }
        bind(s, c, h) {
          const { context: g } = this, { gl: x } = g;
          x.bindTexture(x.TEXTURE_2D, this.texture), h !== x.LINEAR_MIPMAP_NEAREST || this.isSizePowerOfTwo() || (h = x.LINEAR), s !== this.filter && (x.texParameteri(x.TEXTURE_2D, x.TEXTURE_MAG_FILTER, s), x.texParameteri(x.TEXTURE_2D, x.TEXTURE_MIN_FILTER, h || s), this.filter = s), c !== this.wrap && (x.texParameteri(x.TEXTURE_2D, x.TEXTURE_WRAP_S, c), x.texParameteri(x.TEXTURE_2D, x.TEXTURE_WRAP_T, c), this.wrap = c);
        }
        isSizePowerOfTwo() {
          return this.size[0] === this.size[1] && Math.log(this.size[0]) / Math.LN2 % 1 == 0;
        }
        destroy() {
          const { gl: s } = this.context;
          s.deleteTexture(this.texture), this.texture = null;
        }
      }
      function Q(p) {
        const { userImage: s } = p;
        return !!(s && s.render && s.render()) && (p.data.replace(new Uint8Array(s.data.buffer)), !0);
      }
      class ie extends o.Evented {
        constructor() {
          super(), this.images = {}, this.updatedImages = {}, this.callbackDispatchedThisFrame = {}, this.loaded = !1, this.requestors = [], this.patterns = {}, this.atlasImage = new o.RGBAImage({ width: 1, height: 1 }), this.dirty = !0;
        }
        isLoaded() {
          return this.loaded;
        }
        setLoaded(s) {
          if (this.loaded !== s && (this.loaded = s, s)) {
            for (const { ids: c, callback: h } of this.requestors)
              this._notify(c, h);
            this.requestors = [];
          }
        }
        getImage(s) {
          return this.images[s];
        }
        addImage(s, c) {
          if (this.images[s])
            throw new Error(`Image id ${s} already exist, use updateImage instead`);
          this._validate(s, c) && (this.images[s] = c);
        }
        _validate(s, c) {
          let h = !0;
          return this._validateStretch(c.stretchX, c.data && c.data.width) || (this.fire(new o.ErrorEvent(new Error(`Image "${s}" has invalid "stretchX" value`))), h = !1), this._validateStretch(c.stretchY, c.data && c.data.height) || (this.fire(new o.ErrorEvent(new Error(`Image "${s}" has invalid "stretchY" value`))), h = !1), this._validateContent(c.content, c) || (this.fire(new o.ErrorEvent(new Error(`Image "${s}" has invalid "content" value`))), h = !1), h;
        }
        _validateStretch(s, c) {
          if (!s)
            return !0;
          let h = 0;
          for (const g of s) {
            if (g[0] < h || g[1] < g[0] || c < g[1])
              return !1;
            h = g[1];
          }
          return !0;
        }
        _validateContent(s, c) {
          return !(s && (s.length !== 4 || s[0] < 0 || c.data.width < s[0] || s[1] < 0 || c.data.height < s[1] || s[2] < 0 || c.data.width < s[2] || s[3] < 0 || c.data.height < s[3] || s[2] < s[0] || s[3] < s[1]));
        }
        updateImage(s, c) {
          const h = this.images[s];
          if (h.data.width !== c.data.width || h.data.height !== c.data.height)
            throw new Error(`size mismatch between old image (${h.data.width}x${h.data.height}) and new image (${c.data.width}x${c.data.height}).`);
          c.version = h.version + 1, this.images[s] = c, this.updatedImages[s] = !0;
        }
        removeImage(s) {
          const c = this.images[s];
          delete this.images[s], delete this.patterns[s], c.userImage && c.userImage.onRemove && c.userImage.onRemove();
        }
        listImages() {
          return Object.keys(this.images);
        }
        getImages(s, c) {
          let h = !0;
          if (!this.isLoaded())
            for (const g of s)
              this.images[g] || (h = !1);
          this.isLoaded() || h ? this._notify(s, c) : this.requestors.push({ ids: s, callback: c });
        }
        _notify(s, c) {
          const h = {};
          for (const g of s) {
            this.images[g] || this.fire(new o.Event("styleimagemissing", { id: g }));
            const x = this.images[g];
            x ? h[g] = { data: x.data.clone(), pixelRatio: x.pixelRatio, sdf: x.sdf, version: x.version, stretchX: x.stretchX, stretchY: x.stretchY, content: x.content, hasRenderCallback: !!(x.userImage && x.userImage.render) } : o.warnOnce(`Image "${g}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`);
          }
          c(null, h);
        }
        getPixelSize() {
          const { width: s, height: c } = this.atlasImage;
          return { width: s, height: c };
        }
        getPattern(s) {
          const c = this.patterns[s], h = this.getImage(s);
          if (!h)
            return null;
          if (c && c.position.version === h.version)
            return c.position;
          if (c)
            c.position.version = h.version;
          else {
            const g = { w: h.data.width + 2, h: h.data.height + 2, x: 0, y: 0 }, x = new o.ImagePosition(g, h);
            this.patterns[s] = { bin: g, position: x };
          }
          return this._updatePatternAtlas(), this.patterns[s].position;
        }
        bind(s) {
          const c = s.gl;
          this.atlasTexture ? this.dirty && (this.atlasTexture.update(this.atlasImage), this.dirty = !1) : this.atlasTexture = new j(s, this.atlasImage, c.RGBA), this.atlasTexture.bind(c.LINEAR, c.CLAMP_TO_EDGE);
        }
        _updatePatternAtlas() {
          const s = [];
          for (const x in this.patterns)
            s.push(this.patterns[x].bin);
          const { w: c, h } = o.potpack(s), g = this.atlasImage;
          g.resize({ width: c || 1, height: h || 1 });
          for (const x in this.patterns) {
            const { bin: M } = this.patterns[x], A = M.x + 1, I = M.y + 1, O = this.images[x].data, z = O.width, q = O.height;
            o.RGBAImage.copy(O, g, { x: 0, y: 0 }, { x: A, y: I }, { width: z, height: q }), o.RGBAImage.copy(O, g, { x: 0, y: q - 1 }, { x: A, y: I - 1 }, { width: z, height: 1 }), o.RGBAImage.copy(O, g, { x: 0, y: 0 }, { x: A, y: I + q }, { width: z, height: 1 }), o.RGBAImage.copy(O, g, { x: z - 1, y: 0 }, { x: A - 1, y: I }, { width: 1, height: q }), o.RGBAImage.copy(O, g, { x: 0, y: 0 }, { x: A + z, y: I }, { width: 1, height: q });
          }
          this.dirty = !0;
        }
        beginFrame() {
          this.callbackDispatchedThisFrame = {};
        }
        dispatchRenderCallbacks(s) {
          for (const c of s) {
            if (this.callbackDispatchedThisFrame[c])
              continue;
            this.callbackDispatchedThisFrame[c] = !0;
            const h = this.images[c];
            h || o.warnOnce(`Image with ID: "${c}" was not found`), Q(h) && this.updateImage(c, h);
          }
        }
      }
      const J = 1e20;
      function _e(p, s, c, h, g, x, M, A, I) {
        for (let O = s; O < s + h; O++)
          ce(p, c * x + O, x, g, M, A, I);
        for (let O = c; O < c + g; O++)
          ce(p, O * x + s, 1, h, M, A, I);
      }
      function ce(p, s, c, h, g, x, M) {
        x[0] = 0, M[0] = -J, M[1] = J, g[0] = p[s];
        for (let A = 1, I = 0, O = 0; A < h; A++) {
          g[A] = p[s + A * c];
          const z = A * A;
          do {
            const q = x[I];
            O = (g[A] - g[q] + z - q * q) / (A - q) / 2;
          } while (O <= M[I] && --I > -1);
          I++, x[I] = A, M[I] = O, M[I + 1] = J;
        }
        for (let A = 0, I = 0; A < h; A++) {
          for (; M[I + 1] < A; )
            I++;
          const O = x[I], z = A - O;
          p[s + A * c] = g[O] + z * z;
        }
      }
      class we {
        constructor(s, c) {
          this.requestManager = s, this.localIdeographFontFamily = c, this.entries = {};
        }
        setURL(s) {
          this.url = s;
        }
        getGlyphs(s, c) {
          const h = [];
          for (const g in s)
            for (const x of s[g])
              h.push({ stack: g, id: x });
          o.asyncAll(h, ({ stack: g, id: x }, M) => {
            let A = this.entries[g];
            A || (A = this.entries[g] = { glyphs: {}, requests: {}, ranges: {} });
            let I = A.glyphs[x];
            if (I !== void 0)
              return void M(null, { stack: g, id: x, glyph: I });
            if (I = this._tinySDF(A, g, x), I)
              return A.glyphs[x] = I, void M(null, { stack: g, id: x, glyph: I });
            const O = Math.floor(x / 256);
            if (256 * O > 65535)
              return void M(new Error("glyphs > 65535 not supported"));
            if (A.ranges[O])
              return void M(null, { stack: g, id: x, glyph: I });
            let z = A.requests[O];
            z || (z = A.requests[O] = [], we.loadGlyphRange(g, O, this.url, this.requestManager, (q, G) => {
              if (G) {
                for (const ee in G)
                  this._doesCharSupportLocalGlyph(+ee) || (A.glyphs[+ee] = G[+ee]);
                A.ranges[O] = !0;
              }
              for (const ee of z)
                ee(q, G);
              delete A.requests[O];
            })), z.push((q, G) => {
              q ? M(q) : G && M(null, { stack: g, id: x, glyph: G[x] || null });
            });
          }, (g, x) => {
            if (g)
              c(g);
            else if (x) {
              const M = {};
              for (const { stack: A, id: I, glyph: O } of x)
                (M[A] || (M[A] = {}))[I] = O && { id: O.id, bitmap: O.bitmap.clone(), metrics: O.metrics };
              c(null, M);
            }
          });
        }
        _doesCharSupportLocalGlyph(s) {
          return !!this.localIdeographFontFamily && (o.unicodeBlockLookup["CJK Unified Ideographs"](s) || o.unicodeBlockLookup["Hangul Syllables"](s) || o.unicodeBlockLookup.Hiragana(s) || o.unicodeBlockLookup.Katakana(s));
        }
        _tinySDF(s, c, h) {
          const g = this.localIdeographFontFamily;
          if (!g || !this._doesCharSupportLocalGlyph(h))
            return;
          let x = s.tinySDF;
          if (!x) {
            let A = "400";
            /bold/i.test(c) ? A = "900" : /medium/i.test(c) ? A = "500" : /light/i.test(c) && (A = "200"), x = s.tinySDF = new we.TinySDF({ fontSize: 24, buffer: 3, radius: 8, cutoff: 0.25, fontFamily: g, fontWeight: A });
          }
          const M = x.draw(String.fromCharCode(h));
          return { id: h, bitmap: new o.AlphaImage({ width: M.width || 30, height: M.height || 30 }, M.data), metrics: { width: M.glyphWidth || 24, height: M.glyphHeight || 24, left: M.glyphLeft || 0, top: M.glyphTop - 27 || -8, advance: M.glyphAdvance || 24 } };
        }
      }
      we.loadGlyphRange = function(p, s, c, h, g) {
        const x = 256 * s, M = x + 255, A = h.transformRequest(c.replace("{fontstack}", p).replace("{range}", `${x}-${M}`), o.ResourceType.Glyphs);
        o.getArrayBuffer(A, (I, O) => {
          if (I)
            g(I);
          else if (O) {
            const z = {};
            for (const q of o.parseGlyphPbf(O))
              z[q.id] = q;
            g(null, z);
          }
        });
      }, we.TinySDF = class {
        constructor({ fontSize: p = 24, buffer: s = 3, radius: c = 8, cutoff: h = 0.25, fontFamily: g = "sans-serif", fontWeight: x = "normal", fontStyle: M = "normal" } = {}) {
          this.buffer = s, this.cutoff = h, this.radius = c;
          const A = this.size = p + 4 * s, I = this._createCanvas(A), O = this.ctx = I.getContext("2d", { willReadFrequently: !0 });
          O.font = `${M} ${x} ${p}px ${g}`, O.textBaseline = "alphabetic", O.textAlign = "left", O.fillStyle = "black", this.gridOuter = new Float64Array(A * A), this.gridInner = new Float64Array(A * A), this.f = new Float64Array(A), this.z = new Float64Array(A + 1), this.v = new Uint16Array(A);
        }
        _createCanvas(p) {
          const s = document.createElement("canvas");
          return s.width = s.height = p, s;
        }
        draw(p) {
          const { width: s, actualBoundingBoxAscent: c, actualBoundingBoxDescent: h, actualBoundingBoxLeft: g, actualBoundingBoxRight: x } = this.ctx.measureText(p), M = Math.ceil(c), A = Math.min(this.size - this.buffer, Math.ceil(x - g)), I = Math.min(this.size - this.buffer, M + Math.ceil(h)), O = A + 2 * this.buffer, z = I + 2 * this.buffer, q = Math.max(O * z, 0), G = new Uint8ClampedArray(q), ee = { data: G, width: O, height: z, glyphWidth: A, glyphHeight: I, glyphTop: M, glyphLeft: 0, glyphAdvance: s };
          if (A === 0 || I === 0)
            return ee;
          const { ctx: K, buffer: Y, gridInner: ue, gridOuter: pe } = this;
          K.clearRect(Y, Y, A, I), K.fillText(p, Y, Y + M);
          const ve = K.getImageData(Y, Y, A, I);
          pe.fill(J, 0, q), ue.fill(0, 0, q);
          for (let te = 0; te < I; te++)
            for (let Se = 0; Se < A; Se++) {
              const be = ve.data[4 * (te * A + Se) + 3] / 255;
              if (be === 0)
                continue;
              const Ie = (te + Y) * O + Se + Y;
              if (be === 1)
                pe[Ie] = 0, ue[Ie] = J;
              else {
                const Pe = 0.5 - be;
                pe[Ie] = Pe > 0 ? Pe * Pe : 0, ue[Ie] = Pe < 0 ? Pe * Pe : 0;
              }
            }
          _e(pe, 0, 0, O, z, O, this.f, this.v, this.z), _e(ue, Y, Y, A, I, O, this.f, this.v, this.z);
          for (let te = 0; te < q; te++) {
            const Se = Math.sqrt(pe[te]) - Math.sqrt(ue[te]);
            G[te] = Math.round(255 - 255 * (Se / this.radius + this.cutoff));
          }
          return ee;
        }
      };
      const Be = new o.Properties({ anchor: new o.DataConstantProperty(o.spec.light.anchor), position: new class {
        constructor() {
          this.specification = o.spec.light.position;
        }
        possiblyEvaluate(p, s) {
          return o.sphericalToCartesian(p.expression.evaluate(s));
        }
        interpolate(p, s, c) {
          return { x: o.number(p.x, s.x, c), y: o.number(p.y, s.y, c), z: o.number(p.z, s.z, c) };
        }
      }(), color: new o.DataConstantProperty(o.spec.light.color), intensity: new o.DataConstantProperty(o.spec.light.intensity) }), Ee = "-transition";
      class Fe extends o.Evented {
        constructor(s) {
          super(), this._transitionable = new o.Transitionable(Be), this.setLight(s), this._transitioning = this._transitionable.untransitioned();
        }
        getLight() {
          return this._transitionable.serialize();
        }
        setLight(s, c = {}) {
          if (!this._validate(o.validateLight, s, c))
            for (const h in s) {
              const g = s[h];
              h.endsWith(Ee) ? this._transitionable.setTransition(h.slice(0, -Ee.length), g) : this._transitionable.setValue(h, g);
            }
        }
        updateTransitions(s) {
          this._transitioning = this._transitionable.transitioned(s, this._transitioning);
        }
        hasTransition() {
          return this._transitioning.hasTransition();
        }
        recalculate(s) {
          this.properties = this._transitioning.possiblyEvaluate(s);
        }
        _validate(s, c, h) {
          return (!h || h.validate !== !1) && o.emitValidationErrors(this, s.call(o.validateStyle, o.extend({ value: c, style: { glyphs: !0, sprite: !0 }, styleSpec: o.spec })));
        }
      }
      class We {
        constructor(s, c) {
          this.width = s, this.height = c, this.nextRow = 0, this.data = new Uint8Array(this.width * this.height), this.dashEntry = {};
        }
        getDash(s, c) {
          const h = s.join(",") + String(c);
          return this.dashEntry[h] || (this.dashEntry[h] = this.addDash(s, c)), this.dashEntry[h];
        }
        getDashRanges(s, c, h) {
          const g = [];
          let x = s.length % 2 == 1 ? -s[s.length - 1] * h : 0, M = s[0] * h, A = !0;
          g.push({ left: x, right: M, isDash: A, zeroLength: s[0] === 0 });
          let I = s[0];
          for (let O = 1; O < s.length; O++) {
            A = !A;
            const z = s[O];
            x = I * h, I += z, M = I * h, g.push({ left: x, right: M, isDash: A, zeroLength: z === 0 });
          }
          return g;
        }
        addRoundDash(s, c, h) {
          const g = c / 2;
          for (let x = -h; x <= h; x++) {
            const M = this.width * (this.nextRow + h + x);
            let A = 0, I = s[A];
            for (let O = 0; O < this.width; O++) {
              O / I.right > 1 && (I = s[++A]);
              const z = Math.abs(O - I.left), q = Math.abs(O - I.right), G = Math.min(z, q);
              let ee;
              const K = x / h * (g + 1);
              if (I.isDash) {
                const Y = g - Math.abs(K);
                ee = Math.sqrt(G * G + Y * Y);
              } else
                ee = g - Math.sqrt(G * G + K * K);
              this.data[M + O] = Math.max(0, Math.min(255, ee + 128));
            }
          }
        }
        addRegularDash(s) {
          for (let A = s.length - 1; A >= 0; --A) {
            const I = s[A], O = s[A + 1];
            I.zeroLength ? s.splice(A, 1) : O && O.isDash === I.isDash && (O.left = I.left, s.splice(A, 1));
          }
          const c = s[0], h = s[s.length - 1];
          c.isDash === h.isDash && (c.left = h.left - this.width, h.right = c.right + this.width);
          const g = this.width * this.nextRow;
          let x = 0, M = s[x];
          for (let A = 0; A < this.width; A++) {
            A / M.right > 1 && (M = s[++x]);
            const I = Math.abs(A - M.left), O = Math.abs(A - M.right), z = Math.min(I, O);
            this.data[g + A] = Math.max(0, Math.min(255, (M.isDash ? z : -z) + 128));
          }
        }
        addDash(s, c) {
          const h = c ? 7 : 0, g = 2 * h + 1;
          if (this.nextRow + g > this.height)
            return o.warnOnce("LineAtlas out of space"), null;
          let x = 0;
          for (let A = 0; A < s.length; A++)
            x += s[A];
          if (x !== 0) {
            const A = this.width / x, I = this.getDashRanges(s, this.width, A);
            c ? this.addRoundDash(I, A, h) : this.addRegularDash(I);
          }
          const M = { y: (this.nextRow + h + 0.5) / this.height, height: 2 * h / this.height, width: x };
          return this.nextRow += g, this.dirty = !0, M;
        }
        bind(s) {
          const c = s.gl;
          this.texture ? (c.bindTexture(c.TEXTURE_2D, this.texture), this.dirty && (this.dirty = !1, c.texSubImage2D(c.TEXTURE_2D, 0, 0, 0, this.width, this.height, c.ALPHA, c.UNSIGNED_BYTE, this.data))) : (this.texture = c.createTexture(), c.bindTexture(c.TEXTURE_2D, this.texture), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_WRAP_S, c.REPEAT), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_WRAP_T, c.REPEAT), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MIN_FILTER, c.LINEAR), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MAG_FILTER, c.LINEAR), c.texImage2D(c.TEXTURE_2D, 0, c.ALPHA, this.width, this.height, 0, c.ALPHA, c.UNSIGNED_BYTE, this.data));
        }
      }
      class ke {
        constructor(s, c) {
          this.workerPool = s, this.actors = [], this.currentActor = 0, this.id = o.uniqueId();
          const h = this.workerPool.acquire(this.id);
          for (let g = 0; g < h.length; g++) {
            const x = new ke.Actor(h[g], c, this.id);
            x.name = `Worker ${g}`, this.actors.push(x);
          }
          if (!this.actors.length)
            throw new Error("No actors found");
        }
        broadcast(s, c, h) {
          o.asyncAll(this.actors, (g, x) => {
            g.send(s, c, x);
          }, h = h || function() {
          });
        }
        getActor() {
          return this.currentActor = (this.currentActor + 1) % this.actors.length, this.actors[this.currentActor];
        }
        remove() {
          this.actors.forEach((s) => {
            s.remove();
          }), this.actors = [], this.workerPool.release(this.id);
        }
      }
      function Ze(p, s, c) {
        const h = function(g, x) {
          if (g)
            return c(g);
          if (x) {
            const M = o.pick(o.extend(x, p), ["tiles", "minzoom", "maxzoom", "attribution", "bounds", "scheme", "tileSize", "encoding"]);
            x.vector_layers && (M.vectorLayers = x.vector_layers, M.vectorLayerIds = M.vectorLayers.map((A) => A.id)), c(null, M);
          }
        };
        return p.url ? o.getJSON(s.transformRequest(p.url, o.ResourceType.Source), h) : o.exported.frame(() => h(null, p));
      }
      ke.Actor = o.Actor;
      class ft {
        constructor(s, c, h) {
          this.bounds = o.LngLatBounds.convert(this.validateBounds(s)), this.minzoom = c || 0, this.maxzoom = h || 24;
        }
        validateBounds(s) {
          return Array.isArray(s) && s.length === 4 ? [Math.max(-180, s[0]), Math.max(-90, s[1]), Math.min(180, s[2]), Math.min(90, s[3])] : [-180, -90, 180, 90];
        }
        contains(s) {
          const c = Math.pow(2, s.z), h = Math.floor(o.mercatorXfromLng(this.bounds.getWest()) * c), g = Math.floor(o.mercatorYfromLat(this.bounds.getNorth()) * c), x = Math.ceil(o.mercatorXfromLng(this.bounds.getEast()) * c), M = Math.ceil(o.mercatorYfromLat(this.bounds.getSouth()) * c);
          return s.x >= h && s.x < x && s.y >= g && s.y < M;
        }
      }
      class St extends o.Evented {
        constructor(s, c, h, g) {
          if (super(), this.id = s, this.dispatcher = h, this.type = "vector", this.minzoom = 0, this.maxzoom = 22, this.scheme = "xyz", this.tileSize = 512, this.reparseOverscaled = !0, this.isTileClipped = !0, this._loaded = !1, o.extend(this, o.pick(c, ["url", "scheme", "tileSize", "promoteId"])), this._options = o.extend({ type: "vector" }, c), this._collectResourceTiming = c.collectResourceTiming, this.tileSize !== 512)
            throw new Error("vector tile sources must have a tileSize of 512");
          this.setEventedParent(g);
        }
        load() {
          this._loaded = !1, this.fire(new o.Event("dataloading", { dataType: "source" })), this._tileJSONRequest = Ze(this._options, this.map._requestManager, (s, c) => {
            this._tileJSONRequest = null, this._loaded = !0, this.map.style.sourceCaches[this.id].clearTiles(), s ? this.fire(new o.ErrorEvent(s)) : c && (o.extend(this, c), c.bounds && (this.tileBounds = new ft(c.bounds, this.minzoom, this.maxzoom)), this.fire(new o.Event("data", { dataType: "source", sourceDataType: "metadata" })), this.fire(new o.Event("data", { dataType: "source", sourceDataType: "content" })));
          });
        }
        loaded() {
          return this._loaded;
        }
        hasTile(s) {
          return !this.tileBounds || this.tileBounds.contains(s.canonical);
        }
        onAdd(s) {
          this.map = s, this.load();
        }
        setSourceProperty(s) {
          this._tileJSONRequest && this._tileJSONRequest.cancel(), s(), this.load();
        }
        setTiles(s) {
          return this.setSourceProperty(() => {
            this._options.tiles = s;
          }), this;
        }
        setUrl(s) {
          return this.setSourceProperty(() => {
            this.url = s, this._options.url = s;
          }), this;
        }
        onRemove() {
          this._tileJSONRequest && (this._tileJSONRequest.cancel(), this._tileJSONRequest = null);
        }
        serialize() {
          return o.extend({}, this._options);
        }
        loadTile(s, c) {
          const h = s.tileID.canonical.url(this.tiles, this.map.getPixelRatio(), this.scheme), g = { request: this.map._requestManager.transformRequest(h, o.ResourceType.Tile), uid: s.uid, tileID: s.tileID, zoom: s.tileID.overscaledZ, tileSize: this.tileSize * s.tileID.overscaleFactor(), type: this.type, source: this.id, pixelRatio: this.map.getPixelRatio(), showCollisionBoxes: this.map.showCollisionBoxes, promoteId: this.promoteId };
          function x(M, A) {
            return delete s.request, s.aborted ? c(null) : M && M.status !== 404 ? c(M) : (A && A.resourceTiming && (s.resourceTiming = A.resourceTiming), this.map._refreshExpiredTiles && A && s.setExpiryData(A), s.loadVectorData(A, this.map.painter), o.cacheEntryPossiblyAdded(this.dispatcher), c(null), void (s.reloadCallback && (this.loadTile(s, s.reloadCallback), s.reloadCallback = null)));
          }
          g.request.collectResourceTiming = this._collectResourceTiming, s.actor && s.state !== "expired" ? s.state === "loading" ? s.reloadCallback = c : s.request = s.actor.send("reloadTile", g, x.bind(this)) : (s.actor = this.dispatcher.getActor(), s.request = s.actor.send("loadTile", g, x.bind(this)));
        }
        abortTile(s) {
          s.request && (s.request.cancel(), delete s.request), s.actor && s.actor.send("abortTile", { uid: s.uid, type: this.type, source: this.id }, void 0);
        }
        unloadTile(s) {
          s.unloadVectorData(), s.actor && s.actor.send("removeTile", { uid: s.uid, type: this.type, source: this.id }, void 0);
        }
        hasTransition() {
          return !1;
        }
      }
      class ye extends o.Evented {
        constructor(s, c, h, g) {
          super(), this.id = s, this.dispatcher = h, this.setEventedParent(g), this.type = "raster", this.minzoom = 0, this.maxzoom = 22, this.roundZoom = !0, this.scheme = "xyz", this.tileSize = 512, this._loaded = !1, this._options = o.extend({ type: "raster" }, c), o.extend(this, o.pick(c, ["url", "scheme", "tileSize"]));
        }
        load() {
          this._loaded = !1, this.fire(new o.Event("dataloading", { dataType: "source" })), this._tileJSONRequest = Ze(this._options, this.map._requestManager, (s, c) => {
            this._tileJSONRequest = null, this._loaded = !0, s ? this.fire(new o.ErrorEvent(s)) : c && (o.extend(this, c), c.bounds && (this.tileBounds = new ft(c.bounds, this.minzoom, this.maxzoom)), this.fire(new o.Event("data", { dataType: "source", sourceDataType: "metadata" })), this.fire(new o.Event("data", { dataType: "source", sourceDataType: "content" })));
          });
        }
        loaded() {
          return this._loaded;
        }
        onAdd(s) {
          this.map = s, this.load();
        }
        onRemove() {
          this._tileJSONRequest && (this._tileJSONRequest.cancel(), this._tileJSONRequest = null);
        }
        serialize() {
          return o.extend({}, this._options);
        }
        hasTile(s) {
          return !this.tileBounds || this.tileBounds.contains(s.canonical);
        }
        loadTile(s, c) {
          const h = s.tileID.canonical.url(this.tiles, this.map.getPixelRatio(), this.scheme);
          s.request = o.getImage(this.map._requestManager.transformRequest(h, o.ResourceType.Tile), (g, x, M) => {
            if (delete s.request, s.aborted)
              s.state = "unloaded", c(null);
            else if (g)
              s.state = "errored", c(g);
            else if (x) {
              this.map._refreshExpiredTiles && s.setExpiryData(M);
              const A = this.map.painter.context, I = A.gl;
              s.texture = this.map.painter.getTileTexture(x.width), s.texture ? s.texture.update(x, { useMipmap: !0 }) : (s.texture = new j(A, x, I.RGBA, { useMipmap: !0 }), s.texture.bind(I.LINEAR, I.CLAMP_TO_EDGE, I.LINEAR_MIPMAP_NEAREST), A.extTextureFilterAnisotropic && I.texParameterf(I.TEXTURE_2D, A.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT, A.extTextureFilterAnisotropicMax)), s.state = "loaded", o.cacheEntryPossiblyAdded(this.dispatcher), c(null);
            }
          });
        }
        abortTile(s, c) {
          s.request && (s.request.cancel(), delete s.request), c();
        }
        unloadTile(s, c) {
          s.texture && this.map.painter.saveTileTexture(s.texture), c();
        }
        hasTransition() {
          return !1;
        }
      }
      let Re;
      class Me extends ye {
        constructor(s, c, h, g) {
          super(s, c, h, g), this.type = "raster-dem", this.maxzoom = 22, this._options = o.extend({ type: "raster-dem" }, c), this.encoding = c.encoding || "mapbox";
        }
        serialize() {
          return { type: "raster-dem", url: this.url, tileSize: this.tileSize, tiles: this.tiles, bounds: this.bounds, encoding: this.encoding };
        }
        loadTile(s, c) {
          const h = s.tileID.canonical.url(this.tiles, this.map.getPixelRatio(), this.scheme);
          function g(x, M) {
            x && (s.state = "errored", c(x)), M && (s.dem = M, s.needsHillshadePrepare = !0, s.needsTerrainPrepare = !0, s.state = "loaded", c(null));
          }
          s.request = o.getImage(this.map._requestManager.transformRequest(h, o.ResourceType.Tile), function(x, M) {
            if (delete s.request, s.aborted)
              s.state = "unloaded", c(null);
            else if (x)
              s.state = "errored", c(x);
            else if (M) {
              this.map._refreshExpiredTiles && s.setExpiryData(M), delete M.cacheControl, delete M.expires;
              const A = o.isImageBitmap(M) && (Re == null && (Re = typeof OffscreenCanvas < "u" && new OffscreenCanvas(1, 1).getContext("2d") && typeof createImageBitmap == "function"), Re) ? M : o.exported.getImageData(M, 1), I = { uid: s.uid, coord: s.tileID, source: this.id, rawImageData: A, encoding: this.encoding };
              s.actor && s.state !== "expired" || (s.actor = this.dispatcher.getActor(), s.actor.send("loadDEMTile", I, g.bind(this)));
            }
          }.bind(this)), s.neighboringTiles = this._getNeighboringTiles(s.tileID);
        }
        _getNeighboringTiles(s) {
          const c = s.canonical, h = Math.pow(2, c.z), g = (c.x - 1 + h) % h, x = c.x === 0 ? s.wrap - 1 : s.wrap, M = (c.x + 1 + h) % h, A = c.x + 1 === h ? s.wrap + 1 : s.wrap, I = {};
          return I[new o.OverscaledTileID(s.overscaledZ, x, c.z, g, c.y).key] = { backfilled: !1 }, I[new o.OverscaledTileID(s.overscaledZ, A, c.z, M, c.y).key] = { backfilled: !1 }, c.y > 0 && (I[new o.OverscaledTileID(s.overscaledZ, x, c.z, g, c.y - 1).key] = { backfilled: !1 }, I[new o.OverscaledTileID(s.overscaledZ, s.wrap, c.z, c.x, c.y - 1).key] = { backfilled: !1 }, I[new o.OverscaledTileID(s.overscaledZ, A, c.z, M, c.y - 1).key] = { backfilled: !1 }), c.y + 1 < h && (I[new o.OverscaledTileID(s.overscaledZ, x, c.z, g, c.y + 1).key] = { backfilled: !1 }, I[new o.OverscaledTileID(s.overscaledZ, s.wrap, c.z, c.x, c.y + 1).key] = { backfilled: !1 }, I[new o.OverscaledTileID(s.overscaledZ, A, c.z, M, c.y + 1).key] = { backfilled: !1 }), I;
        }
        unloadTile(s) {
          s.demTexture && this.map.painter.saveTileTexture(s.demTexture), s.fbo && (s.fbo.destroy(), delete s.fbo), s.dem && delete s.dem, delete s.neighboringTiles, s.state = "unloaded", s.actor && s.actor.send("removeDEMTile", { uid: s.uid, source: this.id });
        }
      }
      class nt extends o.Evented {
        constructor(s, c, h, g) {
          super(), this.id = s, this.type = "geojson", this.minzoom = 0, this.maxzoom = 18, this.tileSize = 512, this.isTileClipped = !0, this.reparseOverscaled = !0, this._removed = !1, this._pendingLoads = 0, this.actor = h.getActor(), this.setEventedParent(g), this._data = c.data, this._options = o.extend({}, c), this._collectResourceTiming = c.collectResourceTiming, c.maxzoom !== void 0 && (this.maxzoom = c.maxzoom), c.type && (this.type = c.type), c.attribution && (this.attribution = c.attribution), this.promoteId = c.promoteId;
          const x = o.EXTENT / this.tileSize;
          this.workerOptions = o.extend({ source: this.id, cluster: c.cluster || !1, geojsonVtOptions: { buffer: (c.buffer !== void 0 ? c.buffer : 128) * x, tolerance: (c.tolerance !== void 0 ? c.tolerance : 0.375) * x, extent: o.EXTENT, maxZoom: this.maxzoom, lineMetrics: c.lineMetrics || !1, generateId: c.generateId || !1 }, superclusterOptions: { maxZoom: c.clusterMaxZoom !== void 0 ? c.clusterMaxZoom : this.maxzoom - 1, minPoints: Math.max(2, c.clusterMinPoints || 2), extent: o.EXTENT, radius: (c.clusterRadius || 50) * x, log: !1, generateId: c.generateId || !1 }, clusterProperties: c.clusterProperties, filter: c.filter }, c.workerOptions);
        }
        load() {
          this._updateWorkerData("metadata");
        }
        onAdd(s) {
          this.map = s, this.load();
        }
        setData(s) {
          return this._data = s, this._updateWorkerData("content"), this;
        }
        getClusterExpansionZoom(s, c) {
          return this.actor.send("geojson.getClusterExpansionZoom", { clusterId: s, source: this.id }, c), this;
        }
        getClusterChildren(s, c) {
          return this.actor.send("geojson.getClusterChildren", { clusterId: s, source: this.id }, c), this;
        }
        getClusterLeaves(s, c, h, g) {
          return this.actor.send("geojson.getClusterLeaves", { source: this.id, clusterId: s, limit: c, offset: h }, g), this;
        }
        _updateWorkerData(s) {
          const c = o.extend({}, this.workerOptions), h = this._data;
          typeof h == "string" ? (c.request = this.map._requestManager.transformRequest(o.exported.resolveURL(h), o.ResourceType.Source), c.request.collectResourceTiming = this._collectResourceTiming) : c.data = JSON.stringify(h), this._pendingLoads++, this.fire(new o.Event("dataloading", { dataType: "source" })), this.actor.send(`${this.type}.loadData`, c, (g, x) => {
            if (this._pendingLoads--, this._removed || x && x.abandoned)
              return void this.fire(new o.Event("dataabort", { dataType: "source", sourceDataType: s }));
            let M = null;
            if (x && x.resourceTiming && x.resourceTiming[this.id] && (M = x.resourceTiming[this.id].slice(0)), g)
              return void this.fire(new o.ErrorEvent(g));
            const A = { dataType: "source", sourceDataType: s };
            this._collectResourceTiming && M && M.length > 0 && o.extend(A, { resourceTiming: M }), this.fire(new o.Event("data", A));
          });
        }
        loaded() {
          return this._pendingLoads === 0;
        }
        loadTile(s, c) {
          const h = s.actor ? "reloadTile" : "loadTile";
          s.actor = this.actor;
          const g = { type: this.type, uid: s.uid, tileID: s.tileID, zoom: s.tileID.overscaledZ, maxZoom: this.maxzoom, tileSize: this.tileSize, source: this.id, pixelRatio: this.map.getPixelRatio(), showCollisionBoxes: this.map.showCollisionBoxes, promoteId: this.promoteId };
          s.request = this.actor.send(h, g, (x, M) => (delete s.request, s.unloadVectorData(), s.aborted ? c(null) : x ? c(x) : (s.loadVectorData(M, this.map.painter, h === "reloadTile"), c(null))));
        }
        abortTile(s) {
          s.request && (s.request.cancel(), delete s.request), s.aborted = !0;
        }
        unloadTile(s) {
          s.unloadVectorData(), this.actor.send("removeTile", { uid: s.uid, type: this.type, source: this.id });
        }
        onRemove() {
          this._removed = !0, this.actor.send("removeSource", { type: this.type, source: this.id });
        }
        serialize() {
          return o.extend({}, this._options, { type: this.type, data: this._data });
        }
        hasTransition() {
          return !1;
        }
      }
      var yt = o.createLayout([{ name: "a_pos", type: "Int16", components: 2 }, { name: "a_texture_pos", type: "Int16", components: 2 }]);
      class Mt extends o.Evented {
        constructor(s, c, h, g) {
          super(), this.id = s, this.dispatcher = h, this.coordinates = c.coordinates, this.type = "image", this.minzoom = 0, this.maxzoom = 22, this.tileSize = 512, this.tiles = {}, this._loaded = !1, this.setEventedParent(g), this.options = c;
        }
        load(s, c) {
          this._loaded = !1, this.fire(new o.Event("dataloading", { dataType: "source" })), this.url = this.options.url, o.getImage(this.map._requestManager.transformRequest(this.url, o.ResourceType.Image), (h, g) => {
            this._loaded = !0, h ? this.fire(new o.ErrorEvent(h)) : g && (this.image = g, s && (this.coordinates = s), c && c(), this._finishLoading());
          });
        }
        loaded() {
          return this._loaded;
        }
        updateImage(s) {
          return this.image && s.url ? (this.options.url = s.url, this.load(s.coordinates, () => {
            this.texture = null;
          }), this) : this;
        }
        _finishLoading() {
          this.map && (this.setCoordinates(this.coordinates), this.fire(new o.Event("data", { dataType: "source", sourceDataType: "metadata" })));
        }
        onAdd(s) {
          this.map = s, this.load();
        }
        setCoordinates(s) {
          this.coordinates = s;
          const c = s.map(o.MercatorCoordinate.fromLngLat);
          this.tileID = function(g) {
            let x = 1 / 0, M = 1 / 0, A = -1 / 0, I = -1 / 0;
            for (const G of g)
              x = Math.min(x, G.x), M = Math.min(M, G.y), A = Math.max(A, G.x), I = Math.max(I, G.y);
            const O = Math.max(A - x, I - M), z = Math.max(0, Math.floor(-Math.log(O) / Math.LN2)), q = Math.pow(2, z);
            return new o.CanonicalTileID(z, Math.floor((x + A) / 2 * q), Math.floor((M + I) / 2 * q));
          }(c), this.minzoom = this.maxzoom = this.tileID.z;
          const h = c.map((g) => this.tileID.getTilePoint(g)._round());
          return this._boundsArray = new o.RasterBoundsArray(), this._boundsArray.emplaceBack(h[0].x, h[0].y, 0, 0), this._boundsArray.emplaceBack(h[1].x, h[1].y, o.EXTENT, 0), this._boundsArray.emplaceBack(h[3].x, h[3].y, 0, o.EXTENT), this._boundsArray.emplaceBack(h[2].x, h[2].y, o.EXTENT, o.EXTENT), this.boundsBuffer && (this.boundsBuffer.destroy(), delete this.boundsBuffer), this.fire(new o.Event("data", { dataType: "source", sourceDataType: "content" })), this;
        }
        prepare() {
          if (Object.keys(this.tiles).length === 0 || !this.image)
            return;
          const s = this.map.painter.context, c = s.gl;
          this.boundsBuffer || (this.boundsBuffer = s.createVertexBuffer(this._boundsArray, yt.members)), this.boundsSegments || (this.boundsSegments = o.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture || (this.texture = new j(s, this.image, c.RGBA), this.texture.bind(c.LINEAR, c.CLAMP_TO_EDGE));
          for (const h in this.tiles) {
            const g = this.tiles[h];
            g.state !== "loaded" && (g.state = "loaded", g.texture = this.texture);
          }
        }
        loadTile(s, c) {
          this.tileID && this.tileID.equals(s.tileID.canonical) ? (this.tiles[String(s.tileID.wrap)] = s, s.buckets = {}, c(null)) : (s.state = "errored", c(null));
        }
        serialize() {
          return { type: "image", url: this.options.url, coordinates: this.coordinates };
        }
        hasTransition() {
          return !1;
        }
      }
      class aa extends Mt {
        constructor(s, c, h, g) {
          super(s, c, h, g), this.roundZoom = !0, this.type = "video", this.options = c;
        }
        load() {
          this._loaded = !1;
          const s = this.options;
          this.urls = [];
          for (const c of s.urls)
            this.urls.push(this.map._requestManager.transformRequest(c, o.ResourceType.Source).url);
          o.getVideo(this.urls, (c, h) => {
            this._loaded = !0, c ? this.fire(new o.ErrorEvent(c)) : h && (this.video = h, this.video.loop = !0, this.video.addEventListener("playing", () => {
              this.map.triggerRepaint();
            }), this.map && this.video.play(), this._finishLoading());
          });
        }
        pause() {
          this.video && this.video.pause();
        }
        play() {
          this.video && this.video.play();
        }
        seek(s) {
          if (this.video) {
            const c = this.video.seekable;
            s < c.start(0) || s > c.end(0) ? this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${this.id}`, null, `Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))) : this.video.currentTime = s;
          }
        }
        getVideo() {
          return this.video;
        }
        onAdd(s) {
          this.map || (this.map = s, this.load(), this.video && (this.video.play(), this.setCoordinates(this.coordinates)));
        }
        prepare() {
          if (Object.keys(this.tiles).length === 0 || this.video.readyState < 2)
            return;
          const s = this.map.painter.context, c = s.gl;
          this.boundsBuffer || (this.boundsBuffer = s.createVertexBuffer(this._boundsArray, yt.members)), this.boundsSegments || (this.boundsSegments = o.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture ? this.video.paused || (this.texture.bind(c.LINEAR, c.CLAMP_TO_EDGE), c.texSubImage2D(c.TEXTURE_2D, 0, 0, 0, c.RGBA, c.UNSIGNED_BYTE, this.video)) : (this.texture = new j(s, this.video, c.RGBA), this.texture.bind(c.LINEAR, c.CLAMP_TO_EDGE));
          for (const h in this.tiles) {
            const g = this.tiles[h];
            g.state !== "loaded" && (g.state = "loaded", g.texture = this.texture);
          }
        }
        serialize() {
          return { type: "video", urls: this.urls, coordinates: this.coordinates };
        }
        hasTransition() {
          return this.video && !this.video.paused;
        }
      }
      class ia extends Mt {
        constructor(s, c, h, g) {
          super(s, c, h, g), c.coordinates ? Array.isArray(c.coordinates) && c.coordinates.length === 4 && !c.coordinates.some((x) => !Array.isArray(x) || x.length !== 2 || x.some((M) => typeof M != "number")) || this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${s}`, null, '"coordinates" property must be an array of 4 longitude/latitude array pairs'))) : this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${s}`, null, 'missing required property "coordinates"'))), c.animate && typeof c.animate != "boolean" && this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${s}`, null, 'optional "animate" property must be a boolean value'))), c.canvas ? typeof c.canvas == "string" || c.canvas instanceof HTMLCanvasElement || this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${s}`, null, '"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))) : this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${s}`, null, 'missing required property "canvas"'))), this.options = c, this.animate = c.animate === void 0 || c.animate;
        }
        load() {
          this._loaded = !0, this.canvas || (this.canvas = this.options.canvas instanceof HTMLCanvasElement ? this.options.canvas : document.getElementById(this.options.canvas)), this.width = this.canvas.width, this.height = this.canvas.height, this._hasInvalidDimensions() ? this.fire(new o.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))) : (this.play = function() {
            this._playing = !0, this.map.triggerRepaint();
          }, this.pause = function() {
            this._playing && (this.prepare(), this._playing = !1);
          }, this._finishLoading());
        }
        getCanvas() {
          return this.canvas;
        }
        onAdd(s) {
          this.map = s, this.load(), this.canvas && this.animate && this.play();
        }
        onRemove() {
          this.pause();
        }
        prepare() {
          let s = !1;
          if (this.canvas.width !== this.width && (this.width = this.canvas.width, s = !0), this.canvas.height !== this.height && (this.height = this.canvas.height, s = !0), this._hasInvalidDimensions() || Object.keys(this.tiles).length === 0)
            return;
          const c = this.map.painter.context, h = c.gl;
          this.boundsBuffer || (this.boundsBuffer = c.createVertexBuffer(this._boundsArray, yt.members)), this.boundsSegments || (this.boundsSegments = o.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture ? (s || this._playing) && this.texture.update(this.canvas, { premultiply: !0 }) : this.texture = new j(c, this.canvas, h.RGBA, { premultiply: !0 });
          for (const g in this.tiles) {
            const x = this.tiles[g];
            x.state !== "loaded" && (x.state = "loaded", x.texture = this.texture);
          }
        }
        serialize() {
          return { type: "canvas", coordinates: this.coordinates };
        }
        hasTransition() {
          return this._playing;
        }
        _hasInvalidDimensions() {
          for (const s of [this.canvas.width, this.canvas.height])
            if (isNaN(s) || s <= 0)
              return !0;
          return !1;
        }
      }
      const $t = { vector: St, raster: ye, "raster-dem": Me, geojson: nt, video: aa, image: Mt, canvas: ia };
      function bi(p, s) {
        const c = o.create();
        return o.translate(c, c, [1, 1, 0]), o.scale(c, c, [0.5 * p.width, 0.5 * p.height, 1]), o.multiply(c, c, p.calculatePosMatrix(s.toUnwrapped()));
      }
      function Gt(p, s, c, h, g, x) {
        const M = function(q, G, ee) {
          if (q)
            for (const K of q) {
              const Y = G[K];
              if (Y && Y.source === ee && Y.type === "fill-extrusion")
                return !0;
            }
          else
            for (const K in G) {
              const Y = G[K];
              if (Y.source === ee && Y.type === "fill-extrusion")
                return !0;
            }
          return !1;
        }(g && g.layers, s, p.id), A = x.maxPitchScaleFactor(), I = p.tilesIn(h, A, M);
        I.sort(kt);
        const O = [];
        for (const q of I)
          O.push({ wrappedTileID: q.tileID.wrapped().key, queryResults: q.tile.queryRenderedFeatures(s, c, p._state, q.queryGeometry, q.cameraQueryGeometry, q.scale, g, x, A, bi(p.transform, q.tileID)) });
        const z = function(q) {
          const G = {}, ee = {};
          for (const K of q) {
            const Y = K.queryResults, ue = K.wrappedTileID, pe = ee[ue] = ee[ue] || {};
            for (const ve in Y) {
              const te = Y[ve], Se = pe[ve] = pe[ve] || {}, be = G[ve] = G[ve] || [];
              for (const Ie of te)
                Se[Ie.featureIndex] || (Se[Ie.featureIndex] = !0, be.push(Ie));
            }
          }
          return G;
        }(O);
        for (const q in z)
          z[q].forEach((G) => {
            const ee = G.feature, K = p.getFeatureState(ee.layer["source-layer"], ee.id);
            ee.source = ee.layer.source, ee.layer["source-layer"] && (ee.sourceLayer = ee.layer["source-layer"]), ee.state = K;
          });
        return z;
      }
      function kt(p, s) {
        const c = p.tileID, h = s.tileID;
        return c.overscaledZ - h.overscaledZ || c.canonical.y - h.canonical.y || c.wrap - h.wrap || c.canonical.x - h.canonical.x;
      }
      class Pt {
        constructor(s, c) {
          this.tileID = s, this.uid = o.uniqueId(), this.uses = 0, this.tileSize = c, this.buckets = {}, this.expirationTime = null, this.queryPadding = 0, this.hasSymbolBuckets = !1, this.hasRTLText = !1, this.dependencies = {}, this.textures = [], this.textureCoords = {}, this.expiredRequestCount = 0, this.state = "loading";
        }
        registerFadeDuration(s) {
          const c = s + this.timeAdded;
          c < o.exported.now() || this.fadeEndTime && c < this.fadeEndTime || (this.fadeEndTime = c);
        }
        wasRequested() {
          return this.state === "errored" || this.state === "loaded" || this.state === "reloading";
        }
        clearTextures(s) {
          this.demTexture && s.saveTileTexture(this.demTexture), this.textures.forEach((c) => s.saveTileTexture(c)), this.demTexture = null, this.textures = [], this.textureCoords = {};
        }
        loadVectorData(s, c, h) {
          if (this.hasData() && this.unloadVectorData(), this.state = "loaded", s) {
            s.featureIndex && (this.latestFeatureIndex = s.featureIndex, s.rawTileData ? (this.latestRawTileData = s.rawTileData, this.latestFeatureIndex.rawTileData = s.rawTileData) : this.latestRawTileData && (this.latestFeatureIndex.rawTileData = this.latestRawTileData)), this.collisionBoxArray = s.collisionBoxArray, this.buckets = function(g, x) {
              const M = {};
              if (!x)
                return M;
              for (const A of g) {
                const I = A.layerIds.map((O) => x.getLayer(O)).filter(Boolean);
                if (I.length !== 0) {
                  A.layers = I, A.stateDependentLayerIds && (A.stateDependentLayers = A.stateDependentLayerIds.map((O) => I.filter((z) => z.id === O)[0]));
                  for (const O of I)
                    M[O.id] = A;
                }
              }
              return M;
            }(s.buckets, c.style), this.hasSymbolBuckets = !1;
            for (const g in this.buckets) {
              const x = this.buckets[g];
              if (x instanceof o.SymbolBucket) {
                if (this.hasSymbolBuckets = !0, !h)
                  break;
                x.justReloaded = !0;
              }
            }
            if (this.hasRTLText = !1, this.hasSymbolBuckets)
              for (const g in this.buckets) {
                const x = this.buckets[g];
                if (x instanceof o.SymbolBucket && x.hasRTLText) {
                  this.hasRTLText = !0, o.lazyLoadRTLTextPlugin();
                  break;
                }
              }
            this.queryPadding = 0;
            for (const g in this.buckets) {
              const x = this.buckets[g];
              this.queryPadding = Math.max(this.queryPadding, c.style.getLayer(g).queryRadius(x));
            }
            s.imageAtlas && (this.imageAtlas = s.imageAtlas), s.glyphAtlasImage && (this.glyphAtlasImage = s.glyphAtlasImage);
          } else
            this.collisionBoxArray = new o.CollisionBoxArray();
        }
        unloadVectorData() {
          for (const s in this.buckets)
            this.buckets[s].destroy();
          this.buckets = {}, this.imageAtlasTexture && this.imageAtlasTexture.destroy(), this.imageAtlas && (this.imageAtlas = null), this.glyphAtlasTexture && this.glyphAtlasTexture.destroy(), this.latestFeatureIndex = null, this.state = "unloaded";
        }
        getBucket(s) {
          return this.buckets[s.id];
        }
        upload(s) {
          for (const h in this.buckets) {
            const g = this.buckets[h];
            g.uploadPending() && g.upload(s);
          }
          const c = s.gl;
          this.imageAtlas && !this.imageAtlas.uploaded && (this.imageAtlasTexture = new j(s, this.imageAtlas.image, c.RGBA), this.imageAtlas.uploaded = !0), this.glyphAtlasImage && (this.glyphAtlasTexture = new j(s, this.glyphAtlasImage, c.ALPHA), this.glyphAtlasImage = null);
        }
        prepare(s) {
          this.imageAtlas && this.imageAtlas.patchUpdatedImages(s, this.imageAtlasTexture);
        }
        queryRenderedFeatures(s, c, h, g, x, M, A, I, O, z) {
          return this.latestFeatureIndex && this.latestFeatureIndex.rawTileData ? this.latestFeatureIndex.query({ queryGeometry: g, cameraQueryGeometry: x, scale: M, tileSize: this.tileSize, pixelPosMatrix: z, transform: I, params: A, queryPadding: this.queryPadding * O }, s, c, h) : {};
        }
        querySourceFeatures(s, c) {
          const h = this.latestFeatureIndex;
          if (!h || !h.rawTileData)
            return;
          const g = h.loadVTLayers(), x = c ? c.sourceLayer : "", M = g._geojsonTileLayer || g[x];
          if (!M)
            return;
          const A = o.createFilter(c && c.filter), { z: I, x: O, y: z } = this.tileID.canonical, q = { z: I, x: O, y: z };
          for (let G = 0; G < M.length; G++) {
            const ee = M.feature(G);
            if (A.needGeometry) {
              const ue = o.toEvaluationFeature(ee, !0);
              if (!A.filter(new o.EvaluationParameters(this.tileID.overscaledZ), ue, this.tileID.canonical))
                continue;
            } else if (!A.filter(new o.EvaluationParameters(this.tileID.overscaledZ), ee))
              continue;
            const K = h.getId(ee, x), Y = new o.GeoJSONFeature(ee, I, O, z, K);
            Y.tile = q, s.push(Y);
          }
        }
        hasData() {
          return this.state === "loaded" || this.state === "reloading" || this.state === "expired";
        }
        patternsLoaded() {
          return this.imageAtlas && !!Object.keys(this.imageAtlas.patternPositions).length;
        }
        setExpiryData(s) {
          const c = this.expirationTime;
          if (s.cacheControl) {
            const h = o.parseCacheControl(s.cacheControl);
            h["max-age"] && (this.expirationTime = Date.now() + 1e3 * h["max-age"]);
          } else
            s.expires && (this.expirationTime = new Date(s.expires).getTime());
          if (this.expirationTime) {
            const h = Date.now();
            let g = !1;
            if (this.expirationTime > h)
              g = !1;
            else if (c)
              if (this.expirationTime < c)
                g = !0;
              else {
                const x = this.expirationTime - c;
                x ? this.expirationTime = h + Math.max(x, 3e4) : g = !0;
              }
            else
              g = !0;
            g ? (this.expiredRequestCount++, this.state = "expired") : this.expiredRequestCount = 0;
          }
        }
        getExpiryTimeout() {
          if (this.expirationTime)
            return this.expiredRequestCount ? 1e3 * (1 << Math.min(this.expiredRequestCount - 1, 31)) : Math.min(this.expirationTime - (/* @__PURE__ */ new Date()).getTime(), Math.pow(2, 31) - 1);
        }
        setFeatureState(s, c) {
          if (!this.latestFeatureIndex || !this.latestFeatureIndex.rawTileData || Object.keys(s).length === 0)
            return;
          const h = this.latestFeatureIndex.loadVTLayers();
          for (const g in this.buckets) {
            if (!c.style.hasLayer(g))
              continue;
            const x = this.buckets[g], M = x.layers[0].sourceLayer || "_geojsonTileLayer", A = h[M], I = s[M];
            if (!A || !I || Object.keys(I).length === 0)
              continue;
            x.update(I, A, this.imageAtlas && this.imageAtlas.patternPositions || {});
            const O = c && c.style && c.style.getLayer(g);
            O && (this.queryPadding = Math.max(this.queryPadding, O.queryRadius(x)));
          }
        }
        holdingForFade() {
          return this.symbolFadeHoldUntil !== void 0;
        }
        symbolFadeFinished() {
          return !this.symbolFadeHoldUntil || this.symbolFadeHoldUntil < o.exported.now();
        }
        clearFadeHold() {
          this.symbolFadeHoldUntil = void 0;
        }
        setHoldDuration(s) {
          this.symbolFadeHoldUntil = o.exported.now() + s;
        }
        setDependencies(s, c) {
          const h = {};
          for (const g of c)
            h[g] = !0;
          this.dependencies[s] = h;
        }
        hasDependency(s, c) {
          for (const h of s) {
            const g = this.dependencies[h];
            if (g) {
              for (const x of c)
                if (g[x])
                  return !0;
            }
          }
          return !1;
        }
      }
      class wa {
        constructor(s, c) {
          this.max = s, this.onRemove = c, this.reset();
        }
        reset() {
          for (const s in this.data)
            for (const c of this.data[s])
              c.timeout && clearTimeout(c.timeout), this.onRemove(c.value);
          return this.data = {}, this.order = [], this;
        }
        add(s, c, h) {
          const g = s.wrapped().key;
          this.data[g] === void 0 && (this.data[g] = []);
          const x = { value: c, timeout: void 0 };
          if (h !== void 0 && (x.timeout = setTimeout(() => {
            this.remove(s, x);
          }, h)), this.data[g].push(x), this.order.push(g), this.order.length > this.max) {
            const M = this._getAndRemoveByKey(this.order[0]);
            M && this.onRemove(M);
          }
          return this;
        }
        has(s) {
          return s.wrapped().key in this.data;
        }
        getAndRemove(s) {
          return this.has(s) ? this._getAndRemoveByKey(s.wrapped().key) : null;
        }
        _getAndRemoveByKey(s) {
          const c = this.data[s].shift();
          return c.timeout && clearTimeout(c.timeout), this.data[s].length === 0 && delete this.data[s], this.order.splice(this.order.indexOf(s), 1), c.value;
        }
        getByKey(s) {
          const c = this.data[s];
          return c ? c[0].value : null;
        }
        get(s) {
          return this.has(s) ? this.data[s.wrapped().key][0].value : null;
        }
        remove(s, c) {
          if (!this.has(s))
            return this;
          const h = s.wrapped().key, g = c === void 0 ? 0 : this.data[h].indexOf(c), x = this.data[h][g];
          return this.data[h].splice(g, 1), x.timeout && clearTimeout(x.timeout), this.data[h].length === 0 && delete this.data[h], this.onRemove(x.value), this.order.splice(this.order.indexOf(h), 1), this;
        }
        setMaxSize(s) {
          for (this.max = s; this.order.length > this.max; ) {
            const c = this._getAndRemoveByKey(this.order[0]);
            c && this.onRemove(c);
          }
          return this;
        }
        filter(s) {
          const c = [];
          for (const h in this.data)
            for (const g of this.data[h])
              s(g.value) || c.push(g);
          for (const h of c)
            this.remove(h.value.tileID, h);
        }
      }
      class _a {
        constructor() {
          this.state = {}, this.stateChanges = {}, this.deletedStates = {};
        }
        updateState(s, c, h) {
          const g = String(c);
          if (this.stateChanges[s] = this.stateChanges[s] || {}, this.stateChanges[s][g] = this.stateChanges[s][g] || {}, o.extend(this.stateChanges[s][g], h), this.deletedStates[s] === null) {
            this.deletedStates[s] = {};
            for (const x in this.state[s])
              x !== g && (this.deletedStates[s][x] = null);
          } else if (this.deletedStates[s] && this.deletedStates[s][g] === null) {
            this.deletedStates[s][g] = {};
            for (const x in this.state[s][g])
              h[x] || (this.deletedStates[s][g][x] = null);
          } else
            for (const x in h)
              this.deletedStates[s] && this.deletedStates[s][g] && this.deletedStates[s][g][x] === null && delete this.deletedStates[s][g][x];
        }
        removeFeatureState(s, c, h) {
          if (this.deletedStates[s] === null)
            return;
          const g = String(c);
          if (this.deletedStates[s] = this.deletedStates[s] || {}, h && c !== void 0)
            this.deletedStates[s][g] !== null && (this.deletedStates[s][g] = this.deletedStates[s][g] || {}, this.deletedStates[s][g][h] = null);
          else if (c !== void 0)
            if (this.stateChanges[s] && this.stateChanges[s][g])
              for (h in this.deletedStates[s][g] = {}, this.stateChanges[s][g])
                this.deletedStates[s][g][h] = null;
            else
              this.deletedStates[s][g] = null;
          else
            this.deletedStates[s] = null;
        }
        getState(s, c) {
          const h = String(c), g = o.extend({}, (this.state[s] || {})[h], (this.stateChanges[s] || {})[h]);
          if (this.deletedStates[s] === null)
            return {};
          if (this.deletedStates[s]) {
            const x = this.deletedStates[s][c];
            if (x === null)
              return {};
            for (const M in x)
              delete g[M];
          }
          return g;
        }
        initializeTileState(s, c) {
          s.setFeatureState(this.state, c);
        }
        coalesceChanges(s, c) {
          const h = {};
          for (const g in this.stateChanges) {
            this.state[g] = this.state[g] || {};
            const x = {};
            for (const M in this.stateChanges[g])
              this.state[g][M] || (this.state[g][M] = {}), o.extend(this.state[g][M], this.stateChanges[g][M]), x[M] = this.state[g][M];
            h[g] = x;
          }
          for (const g in this.deletedStates) {
            this.state[g] = this.state[g] || {};
            const x = {};
            if (this.deletedStates[g] === null)
              for (const M in this.state[g])
                x[M] = {}, this.state[g][M] = {};
            else
              for (const M in this.deletedStates[g]) {
                if (this.deletedStates[g][M] === null)
                  this.state[g][M] = {};
                else
                  for (const A of Object.keys(this.deletedStates[g][M]))
                    delete this.state[g][M][A];
                x[M] = this.state[g][M];
              }
            h[g] = h[g] || {}, o.extend(h[g], x);
          }
          if (this.stateChanges = {}, this.deletedStates = {}, Object.keys(h).length !== 0)
            for (const g in s)
              s[g].setFeatureState(h, c);
        }
      }
      class ja extends o.Evented {
        constructor(s, c, h) {
          super(), this.id = s, this.dispatcher = h, this.on("data", (g) => {
            g.dataType === "source" && g.sourceDataType === "metadata" && (this._sourceLoaded = !0), this._sourceLoaded && !this._paused && g.dataType === "source" && g.sourceDataType === "content" && (this.reload(), this.transform && this.update(this.transform, this.terrain));
          }), this.on("dataloading", () => {
            this._sourceErrored = !1;
          }), this.on("error", () => {
            this._sourceErrored = this._source.loaded();
          }), this._source = function(g, x, M, A) {
            const I = new $t[x.type](g, x, M, A);
            if (I.id !== g)
              throw new Error(`Expected Source id to be ${g} instead of ${I.id}`);
            return o.bindAll(["load", "abort", "unload", "serialize", "prepare"], I), I;
          }(s, c, h, this), this._tiles = {}, this._cache = new wa(0, this._unloadTile.bind(this)), this._timers = {}, this._cacheTimers = {}, this._maxTileCacheSize = null, this._loadedParentTiles = {}, this._coveredTiles = {}, this._state = new _a();
        }
        onAdd(s) {
          this.map = s, this._maxTileCacheSize = s ? s._maxTileCacheSize : null, this._source && this._source.onAdd && this._source.onAdd(s);
        }
        onRemove(s) {
          this.clearTiles(), this._source && this._source.onRemove && this._source.onRemove(s);
        }
        loaded() {
          if (this._sourceErrored)
            return !0;
          if (!this._sourceLoaded || !this._source.loaded())
            return !1;
          for (const s in this._tiles) {
            const c = this._tiles[s];
            if (c.state !== "loaded" && c.state !== "errored")
              return !1;
          }
          return !0;
        }
        getSource() {
          return this._source;
        }
        pause() {
          this._paused = !0;
        }
        resume() {
          if (!this._paused)
            return;
          const s = this._shouldReloadOnResume;
          this._paused = !1, this._shouldReloadOnResume = !1, s && this.reload(), this.transform && this.update(this.transform, this.terrain);
        }
        _loadTile(s, c) {
          return this._source.loadTile(s, c);
        }
        _unloadTile(s) {
          if (this._source.unloadTile)
            return this._source.unloadTile(s, () => {
            });
        }
        _abortTile(s) {
          this._source.abortTile && this._source.abortTile(s, () => {
          }), this._source.fire(new o.Event("dataabort", { tile: s, coord: s.tileID, dataType: "source" }));
        }
        serialize() {
          return this._source.serialize();
        }
        prepare(s) {
          this._source.prepare && this._source.prepare(), this._state.coalesceChanges(this._tiles, this.map ? this.map.painter : null);
          for (const c in this._tiles) {
            const h = this._tiles[c];
            h.upload(s), h.prepare(this.map.style.imageManager);
          }
        }
        getIds() {
          return Object.values(this._tiles).map((s) => s.tileID).sort(Ra).map((s) => s.key);
        }
        getRenderableIds(s) {
          const c = [];
          for (const h in this._tiles)
            this._isIdRenderable(h, s) && c.push(this._tiles[h]);
          return s ? c.sort((h, g) => {
            const x = h.tileID, M = g.tileID, A = new o.pointGeometry(x.canonical.x, x.canonical.y)._rotate(this.transform.angle), I = new o.pointGeometry(M.canonical.x, M.canonical.y)._rotate(this.transform.angle);
            return x.overscaledZ - M.overscaledZ || I.y - A.y || I.x - A.x;
          }).map((h) => h.tileID.key) : c.map((h) => h.tileID).sort(Ra).map((h) => h.key);
        }
        hasRenderableParent(s) {
          const c = this.findLoadedParent(s, 0);
          return !!c && this._isIdRenderable(c.tileID.key);
        }
        _isIdRenderable(s, c) {
          return this._tiles[s] && this._tiles[s].hasData() && !this._coveredTiles[s] && (c || !this._tiles[s].holdingForFade());
        }
        reload() {
          if (this._paused)
            this._shouldReloadOnResume = !0;
          else {
            this._cache.reset();
            for (const s in this._tiles)
              this._tiles[s].state !== "errored" && this._reloadTile(s, "reloading");
          }
        }
        _reloadTile(s, c) {
          const h = this._tiles[s];
          h && (h.state !== "loading" && (h.state = c), this._loadTile(h, this._tileLoaded.bind(this, h, s, c)));
        }
        _tileLoaded(s, c, h, g) {
          if (g)
            return s.state = "errored", void (g.status !== 404 ? this._source.fire(new o.ErrorEvent(g, { tile: s })) : this.update(this.transform, this.terrain));
          s.timeAdded = o.exported.now(), h === "expired" && (s.refreshedUponExpiration = !0), this._setTileReloadTimer(c, s), this.getSource().type === "raster-dem" && s.dem && this._backfillDEM(s), this._state.initializeTileState(s, this.map ? this.map.painter : null), s.aborted || this._source.fire(new o.Event("data", { dataType: "source", tile: s, coord: s.tileID }));
        }
        _backfillDEM(s) {
          const c = this.getRenderableIds();
          for (let g = 0; g < c.length; g++) {
            const x = c[g];
            if (s.neighboringTiles && s.neighboringTiles[x]) {
              const M = this.getTileByID(x);
              h(s, M), h(M, s);
            }
          }
          function h(g, x) {
            g.needsHillshadePrepare = !0, g.needsTerrainPrepare = !0;
            let M = x.tileID.canonical.x - g.tileID.canonical.x;
            const A = x.tileID.canonical.y - g.tileID.canonical.y, I = Math.pow(2, g.tileID.canonical.z), O = x.tileID.key;
            M === 0 && A === 0 || Math.abs(A) > 1 || (Math.abs(M) > 1 && (Math.abs(M + I) === 1 ? M += I : Math.abs(M - I) === 1 && (M -= I)), x.dem && g.dem && (g.dem.backfillBorder(x.dem, M, A), g.neighboringTiles && g.neighboringTiles[O] && (g.neighboringTiles[O].backfilled = !0)));
          }
        }
        getTile(s) {
          return this.getTileByID(s.key);
        }
        getTileByID(s) {
          return this._tiles[s];
        }
        _retainLoadedChildren(s, c, h, g) {
          for (const x in this._tiles) {
            let M = this._tiles[x];
            if (g[x] || !M.hasData() || M.tileID.overscaledZ <= c || M.tileID.overscaledZ > h)
              continue;
            let A = M.tileID;
            for (; M && M.tileID.overscaledZ > c + 1; ) {
              const O = M.tileID.scaledTo(M.tileID.overscaledZ - 1);
              M = this._tiles[O.key], M && M.hasData() && (A = O);
            }
            let I = A;
            for (; I.overscaledZ > c; )
              if (I = I.scaledTo(I.overscaledZ - 1), s[I.key]) {
                g[A.key] = A;
                break;
              }
          }
        }
        findLoadedParent(s, c) {
          if (s.key in this._loadedParentTiles) {
            const h = this._loadedParentTiles[s.key];
            return h && h.tileID.overscaledZ >= c ? h : null;
          }
          for (let h = s.overscaledZ - 1; h >= c; h--) {
            const g = s.scaledTo(h), x = this._getLoadedTile(g);
            if (x)
              return x;
          }
        }
        _getLoadedTile(s) {
          const c = this._tiles[s.key];
          return c && c.hasData() ? c : this._cache.getByKey(s.wrapped().key);
        }
        updateCacheSize(s) {
          const c = Math.ceil(s.width / this._source.tileSize) + 1, h = Math.ceil(s.height / this._source.tileSize) + 1, g = Math.floor(c * h * 5), x = typeof this._maxTileCacheSize == "number" ? Math.min(this._maxTileCacheSize, g) : g;
          this._cache.setMaxSize(x);
        }
        handleWrapJump(s) {
          const c = Math.round((s - (this._prevLng === void 0 ? s : this._prevLng)) / 360);
          if (this._prevLng = s, c) {
            const h = {};
            for (const g in this._tiles) {
              const x = this._tiles[g];
              x.tileID = x.tileID.unwrapTo(x.tileID.wrap + c), h[x.tileID.key] = x;
            }
            this._tiles = h;
            for (const g in this._timers)
              clearTimeout(this._timers[g]), delete this._timers[g];
            for (const g in this._tiles)
              this._setTileReloadTimer(g, this._tiles[g]);
          }
        }
        update(s, c) {
          if (this.transform = s, this.terrain = c, !this._sourceLoaded || this._paused)
            return;
          let h;
          this.updateCacheSize(s), this.handleWrapJump(this.transform.center.lng), this._coveredTiles = {}, this.used || this.usedForTerrain ? this._source.tileID ? h = s.getVisibleUnwrappedCoordinates(this._source.tileID).map((O) => new o.OverscaledTileID(O.canonical.z, O.wrap, O.canonical.z, O.canonical.x, O.canonical.y)) : (h = s.coveringTiles({ tileSize: this.usedForTerrain ? this.tileSize : this._source.tileSize, minzoom: this._source.minzoom, maxzoom: this._source.maxzoom, roundZoom: !this.usedForTerrain && this._source.roundZoom, reparseOverscaled: this._source.reparseOverscaled, terrain: c }), this._source.hasTile && (h = h.filter((O) => this._source.hasTile(O)))) : h = [];
          const g = s.coveringZoomLevel(this._source), x = Math.max(g - ja.maxOverzooming, this._source.minzoom), M = Math.max(g + ja.maxUnderzooming, this._source.minzoom);
          if (this.usedForTerrain) {
            const O = {};
            for (const z of h)
              if (z.canonical.z > this._source.minzoom) {
                const q = z.scaledTo(z.canonical.z - 1);
                O[q.key] = q;
                const G = z.scaledTo(Math.max(this._source.minzoom, Math.min(z.canonical.z, 5)));
                O[G.key] = G;
              }
            h = h.concat(Object.values(O));
          }
          const A = this._updateRetainedTiles(h, g);
          if (_i(this._source.type)) {
            const O = {}, z = {}, q = Object.keys(A);
            for (const G of q) {
              const ee = A[G], K = this._tiles[G];
              if (!K || K.fadeEndTime && K.fadeEndTime <= o.exported.now())
                continue;
              const Y = this.findLoadedParent(ee, x);
              Y && (this._addTile(Y.tileID), O[Y.tileID.key] = Y.tileID), z[G] = ee;
            }
            this._retainLoadedChildren(z, g, M, A);
            for (const G in O)
              A[G] || (this._coveredTiles[G] = !0, A[G] = O[G]);
            if (c) {
              const G = {}, ee = {};
              for (const K of h)
                this._tiles[K.key].hasData() ? G[K.key] = K : ee[K.key] = K;
              for (const K in ee) {
                const Y = ee[K].children(this._source.maxzoom);
                this._tiles[Y[0].key] && this._tiles[Y[1].key] && this._tiles[Y[2].key] && this._tiles[Y[3].key] && (G[Y[0].key] = A[Y[0].key] = Y[0], G[Y[1].key] = A[Y[1].key] = Y[1], G[Y[2].key] = A[Y[2].key] = Y[2], G[Y[3].key] = A[Y[3].key] = Y[3], delete ee[K]);
              }
              for (const K in ee) {
                const Y = this.findLoadedParent(ee[K], this._source.minzoom);
                if (Y) {
                  G[Y.tileID.key] = A[Y.tileID.key] = Y.tileID;
                  for (const ue in G)
                    G[ue].isChildOf(Y.tileID) && delete G[ue];
                }
              }
              for (const K in this._tiles)
                G[K] || (this._coveredTiles[K] = !0);
            }
          }
          for (const O in A)
            this._tiles[O].clearFadeHold();
          const I = o.keysDifference(this._tiles, A);
          for (const O of I) {
            const z = this._tiles[O];
            z.hasSymbolBuckets && !z.holdingForFade() ? z.setHoldDuration(this.map._fadeDuration) : z.hasSymbolBuckets && !z.symbolFadeFinished() || this._removeTile(O);
          }
          this._updateLoadedParentTileCache();
        }
        releaseSymbolFadeTiles() {
          for (const s in this._tiles)
            this._tiles[s].holdingForFade() && this._removeTile(s);
        }
        _updateRetainedTiles(s, c) {
          const h = {}, g = {}, x = Math.max(c - ja.maxOverzooming, this._source.minzoom), M = Math.max(c + ja.maxUnderzooming, this._source.minzoom), A = {};
          for (const I of s) {
            const O = this._addTile(I);
            h[I.key] = I, O.hasData() || c < this._source.maxzoom && (A[I.key] = I);
          }
          this._retainLoadedChildren(A, c, M, h);
          for (const I of s) {
            let O = this._tiles[I.key];
            if (O.hasData())
              continue;
            if (c + 1 > this._source.maxzoom) {
              const q = I.children(this._source.maxzoom)[0], G = this.getTile(q);
              if (G && G.hasData()) {
                h[q.key] = q;
                continue;
              }
            } else {
              const q = I.children(this._source.maxzoom);
              if (h[q[0].key] && h[q[1].key] && h[q[2].key] && h[q[3].key])
                continue;
            }
            let z = O.wasRequested();
            for (let q = I.overscaledZ - 1; q >= x; --q) {
              const G = I.scaledTo(q);
              if (g[G.key] || (g[G.key] = !0, O = this.getTile(G), !O && z && (O = this._addTile(G)), O && (h[G.key] = G, z = O.wasRequested(), O.hasData())))
                break;
            }
          }
          return h;
        }
        _updateLoadedParentTileCache() {
          this._loadedParentTiles = {};
          for (const s in this._tiles) {
            const c = [];
            let h, g = this._tiles[s].tileID;
            for (; g.overscaledZ > 0; ) {
              if (g.key in this._loadedParentTiles) {
                h = this._loadedParentTiles[g.key];
                break;
              }
              c.push(g.key);
              const x = g.scaledTo(g.overscaledZ - 1);
              if (h = this._getLoadedTile(x), h)
                break;
              g = x;
            }
            for (const x of c)
              this._loadedParentTiles[x] = h;
          }
        }
        _addTile(s) {
          let c = this._tiles[s.key];
          if (c)
            return c;
          c = this._cache.getAndRemove(s), c && (this._setTileReloadTimer(s.key, c), c.tileID = s, this._state.initializeTileState(c, this.map ? this.map.painter : null), this._cacheTimers[s.key] && (clearTimeout(this._cacheTimers[s.key]), delete this._cacheTimers[s.key], this._setTileReloadTimer(s.key, c)));
          const h = c;
          return c || (c = new Pt(s, this._source.tileSize * s.overscaleFactor()), this._loadTile(c, this._tileLoaded.bind(this, c, s.key, c.state))), c.uses++, this._tiles[s.key] = c, h || this._source.fire(new o.Event("dataloading", { tile: c, coord: c.tileID, dataType: "source" })), c;
        }
        _setTileReloadTimer(s, c) {
          s in this._timers && (clearTimeout(this._timers[s]), delete this._timers[s]);
          const h = c.getExpiryTimeout();
          h && (this._timers[s] = setTimeout(() => {
            this._reloadTile(s, "expired"), delete this._timers[s];
          }, h));
        }
        _removeTile(s) {
          const c = this._tiles[s];
          c && (c.uses--, delete this._tiles[s], this._timers[s] && (clearTimeout(this._timers[s]), delete this._timers[s]), c.uses > 0 || (c.hasData() && c.state !== "reloading" ? this._cache.add(c.tileID, c, c.getExpiryTimeout()) : (c.aborted = !0, this._abortTile(c), this._unloadTile(c))));
        }
        clearTiles() {
          this._shouldReloadOnResume = !1, this._paused = !1;
          for (const s in this._tiles)
            this._removeTile(s);
          this._cache.reset();
        }
        tilesIn(s, c, h) {
          const g = [], x = this.transform;
          if (!x)
            return g;
          const M = h ? x.getCameraQueryGeometry(s) : s, A = s.map((K) => x.pointCoordinate(K, this.terrain)), I = M.map((K) => x.pointCoordinate(K, this.terrain)), O = this.getIds();
          let z = 1 / 0, q = 1 / 0, G = -1 / 0, ee = -1 / 0;
          for (const K of I)
            z = Math.min(z, K.x), q = Math.min(q, K.y), G = Math.max(G, K.x), ee = Math.max(ee, K.y);
          for (let K = 0; K < O.length; K++) {
            const Y = this._tiles[O[K]];
            if (Y.holdingForFade())
              continue;
            const ue = Y.tileID, pe = Math.pow(2, x.zoom - Y.tileID.overscaledZ), ve = c * Y.queryPadding * o.EXTENT / Y.tileSize / pe, te = [ue.getTilePoint(new o.MercatorCoordinate(z, q)), ue.getTilePoint(new o.MercatorCoordinate(G, ee))];
            if (te[0].x - ve < o.EXTENT && te[0].y - ve < o.EXTENT && te[1].x + ve >= 0 && te[1].y + ve >= 0) {
              const Se = A.map((Ie) => ue.getTilePoint(Ie)), be = I.map((Ie) => ue.getTilePoint(Ie));
              g.push({ tile: Y, tileID: ue, queryGeometry: Se, cameraQueryGeometry: be, scale: pe });
            }
          }
          return g;
        }
        getVisibleCoordinates(s) {
          const c = this.getRenderableIds(s).map((h) => this._tiles[h].tileID);
          for (const h of c)
            h.posMatrix = this.transform.calculatePosMatrix(h.toUnwrapped());
          return c;
        }
        hasTransition() {
          if (this._source.hasTransition())
            return !0;
          if (_i(this._source.type))
            for (const s in this._tiles) {
              const c = this._tiles[s];
              if (c.fadeEndTime !== void 0 && c.fadeEndTime >= o.exported.now())
                return !0;
            }
          return !1;
        }
        setFeatureState(s, c, h) {
          this._state.updateState(s = s || "_geojsonTileLayer", c, h);
        }
        removeFeatureState(s, c, h) {
          this._state.removeFeatureState(s = s || "_geojsonTileLayer", c, h);
        }
        getFeatureState(s, c) {
          return this._state.getState(s = s || "_geojsonTileLayer", c);
        }
        setDependencies(s, c, h) {
          const g = this._tiles[s];
          g && g.setDependencies(c, h);
        }
        reloadTilesForDependencies(s, c) {
          for (const h in this._tiles)
            this._tiles[h].hasDependency(s, c) && this._reloadTile(h, "reloading");
          this._cache.filter((h) => !h.hasDependency(s, c));
        }
      }
      function Ra(p, s) {
        const c = Math.abs(2 * p.wrap) - +(p.wrap < 0), h = Math.abs(2 * s.wrap) - +(s.wrap < 0);
        return p.overscaledZ - s.overscaledZ || h - c || s.canonical.y - p.canonical.y || s.canonical.x - p.canonical.x;
      }
      function _i(p) {
        return p === "raster" || p === "image" || p === "video";
      }
      ja.maxOverzooming = 10, ja.maxUnderzooming = 3;
      const ka = "mapboxgl_preloaded_worker_pool";
      class Ia {
        constructor() {
          this.active = {};
        }
        acquire(s) {
          if (!this.workers)
            for (this.workers = []; this.workers.length < Ia.workerCount; )
              this.workers.push(new Worker(Is.workerUrl));
          return this.active[s] = !0, this.workers.slice();
        }
        release(s) {
          delete this.active[s], this.numActive() === 0 && (this.workers.forEach((c) => {
            c.terminate();
          }), this.workers = null);
        }
        isPreloaded() {
          return !!this.active[ka];
        }
        numActive() {
          return Object.keys(this.active).length;
        }
      }
      const xi = Math.floor(o.exported.hardwareConcurrency / 2);
      let Ji;
      function Mn() {
        return Ji || (Ji = new Ia()), Ji;
      }
      function Fi(p, s) {
        const c = {};
        for (const h in p)
          h !== "ref" && (c[h] = p[h]);
        return o.refProperties.forEach((h) => {
          h in s && (c[h] = s[h]);
        }), c;
      }
      function _n(p) {
        p = p.slice();
        const s = /* @__PURE__ */ Object.create(null);
        for (let c = 0; c < p.length; c++)
          s[p[c].id] = p[c];
        for (let c = 0; c < p.length; c++)
          "ref" in p[c] && (p[c] = Fi(p[c], s[p[c].ref]));
        return p;
      }
      Ia.workerCount = Math.max(Math.min(xi, 6), 1);
      const zt = { setStyle: "setStyle", addLayer: "addLayer", removeLayer: "removeLayer", setPaintProperty: "setPaintProperty", setLayoutProperty: "setLayoutProperty", setFilter: "setFilter", addSource: "addSource", removeSource: "removeSource", setGeoJSONSourceData: "setGeoJSONSourceData", setLayerZoomRange: "setLayerZoomRange", setLayerProperty: "setLayerProperty", setCenter: "setCenter", setZoom: "setZoom", setBearing: "setBearing", setPitch: "setPitch", setSprite: "setSprite", setGlyphs: "setGlyphs", setTransition: "setTransition", setLight: "setLight" };
      function wi(p, s, c) {
        c.push({ command: zt.addSource, args: [p, s[p]] });
      }
      function En(p, s, c) {
        s.push({ command: zt.removeSource, args: [p] }), c[p] = !0;
      }
      function Ln(p, s, c, h) {
        En(p, c, h), wi(p, s, c);
      }
      function nr(p, s, c) {
        let h;
        for (h in p[c])
          if (Object.prototype.hasOwnProperty.call(p[c], h) && h !== "data" && !T(p[c][h], s[c][h]))
            return !1;
        for (h in s[c])
          if (Object.prototype.hasOwnProperty.call(s[c], h) && h !== "data" && !T(p[c][h], s[c][h]))
            return !1;
        return !0;
      }
      function Si(p, s, c, h, g, x) {
        let M;
        for (M in s = s || {}, p = p || {})
          Object.prototype.hasOwnProperty.call(p, M) && (T(p[M], s[M]) || c.push({ command: x, args: [h, M, s[M], g] }));
        for (M in s)
          Object.prototype.hasOwnProperty.call(s, M) && !Object.prototype.hasOwnProperty.call(p, M) && (T(p[M], s[M]) || c.push({ command: x, args: [h, M, s[M], g] }));
      }
      function mi(p) {
        return p.id;
      }
      function en(p, s) {
        return p[s.id] = s, p;
      }
      class tn {
        constructor(s, c) {
          this.reset(s, c);
        }
        reset(s, c) {
          this.points = s || [], this._distances = [0];
          for (let h = 1; h < this.points.length; h++)
            this._distances[h] = this._distances[h - 1] + this.points[h].dist(this.points[h - 1]);
          this.length = this._distances[this._distances.length - 1], this.padding = Math.min(c || 0, 0.5 * this.length), this.paddedLength = this.length - 2 * this.padding;
        }
        lerp(s) {
          if (this.points.length === 1)
            return this.points[0];
          s = o.clamp(s, 0, 1);
          let c = 1, h = this._distances[c];
          const g = s * this.paddedLength + this.padding;
          for (; h < g && c < this._distances.length; )
            h = this._distances[++c];
          const x = c - 1, M = this._distances[x], A = h - M, I = A > 0 ? (g - M) / A : 0;
          return this.points[x].mult(1 - I).add(this.points[c].mult(I));
        }
      }
      function Ae(p, s) {
        let c = !0;
        return p === "always" || p !== "never" && s !== "never" || (c = !1), c;
      }
      class Ve {
        constructor(s, c, h) {
          const g = this.boxCells = [], x = this.circleCells = [];
          this.xCellCount = Math.ceil(s / h), this.yCellCount = Math.ceil(c / h);
          for (let M = 0; M < this.xCellCount * this.yCellCount; M++)
            g.push([]), x.push([]);
          this.circleKeys = [], this.boxKeys = [], this.bboxes = [], this.circles = [], this.width = s, this.height = c, this.xScale = this.xCellCount / s, this.yScale = this.yCellCount / c, this.boxUid = 0, this.circleUid = 0;
        }
        keysLength() {
          return this.boxKeys.length + this.circleKeys.length;
        }
        insert(s, c, h, g, x) {
          this._forEachCell(c, h, g, x, this._insertBoxCell, this.boxUid++), this.boxKeys.push(s), this.bboxes.push(c), this.bboxes.push(h), this.bboxes.push(g), this.bboxes.push(x);
        }
        insertCircle(s, c, h, g) {
          this._forEachCell(c - g, h - g, c + g, h + g, this._insertCircleCell, this.circleUid++), this.circleKeys.push(s), this.circles.push(c), this.circles.push(h), this.circles.push(g);
        }
        _insertBoxCell(s, c, h, g, x, M) {
          this.boxCells[x].push(M);
        }
        _insertCircleCell(s, c, h, g, x, M) {
          this.circleCells[x].push(M);
        }
        _query(s, c, h, g, x, M, A) {
          if (h < 0 || s > this.width || g < 0 || c > this.height)
            return [];
          const I = [];
          if (s <= 0 && c <= 0 && this.width <= h && this.height <= g) {
            if (x)
              return [{ key: null, x1: s, y1: c, x2: h, y2: g }];
            for (let O = 0; O < this.boxKeys.length; O++)
              I.push({ key: this.boxKeys[O], x1: this.bboxes[4 * O], y1: this.bboxes[4 * O + 1], x2: this.bboxes[4 * O + 2], y2: this.bboxes[4 * O + 3] });
            for (let O = 0; O < this.circleKeys.length; O++) {
              const z = this.circles[3 * O], q = this.circles[3 * O + 1], G = this.circles[3 * O + 2];
              I.push({ key: this.circleKeys[O], x1: z - G, y1: q - G, x2: z + G, y2: q + G });
            }
          } else
            this._forEachCell(s, c, h, g, this._queryCell, I, { hitTest: x, overlapMode: M, seenUids: { box: {}, circle: {} } }, A);
          return I;
        }
        query(s, c, h, g) {
          return this._query(s, c, h, g, !1, null);
        }
        hitTest(s, c, h, g, x, M) {
          return this._query(s, c, h, g, !0, x, M).length > 0;
        }
        hitTestCircle(s, c, h, g, x) {
          const M = s - h, A = s + h, I = c - h, O = c + h;
          if (A < 0 || M > this.width || O < 0 || I > this.height)
            return !1;
          const z = [];
          return this._forEachCell(M, I, A, O, this._queryCellCircle, z, { hitTest: !0, overlapMode: g, circle: { x: s, y: c, radius: h }, seenUids: { box: {}, circle: {} } }, x), z.length > 0;
        }
        _queryCell(s, c, h, g, x, M, A, I) {
          const { seenUids: O, hitTest: z, overlapMode: q } = A, G = this.boxCells[x];
          if (G !== null) {
            const K = this.bboxes;
            for (const Y of G)
              if (!O.box[Y]) {
                O.box[Y] = !0;
                const ue = 4 * Y, pe = this.boxKeys[Y];
                if (s <= K[ue + 2] && c <= K[ue + 3] && h >= K[ue + 0] && g >= K[ue + 1] && (!I || I(pe)) && (!z || !Ae(q, pe.overlapMode)) && (M.push({ key: pe, x1: K[ue], y1: K[ue + 1], x2: K[ue + 2], y2: K[ue + 3] }), z))
                  return !0;
              }
          }
          const ee = this.circleCells[x];
          if (ee !== null) {
            const K = this.circles;
            for (const Y of ee)
              if (!O.circle[Y]) {
                O.circle[Y] = !0;
                const ue = 3 * Y, pe = this.circleKeys[Y];
                if (this._circleAndRectCollide(K[ue], K[ue + 1], K[ue + 2], s, c, h, g) && (!I || I(pe)) && (!z || !Ae(q, pe.overlapMode))) {
                  const ve = K[ue], te = K[ue + 1], Se = K[ue + 2];
                  if (M.push({ key: pe, x1: ve - Se, y1: te - Se, x2: ve + Se, y2: te + Se }), z)
                    return !0;
                }
              }
          }
          return !1;
        }
        _queryCellCircle(s, c, h, g, x, M, A, I) {
          const { circle: O, seenUids: z, overlapMode: q } = A, G = this.boxCells[x];
          if (G !== null) {
            const K = this.bboxes;
            for (const Y of G)
              if (!z.box[Y]) {
                z.box[Y] = !0;
                const ue = 4 * Y, pe = this.boxKeys[Y];
                if (this._circleAndRectCollide(O.x, O.y, O.radius, K[ue + 0], K[ue + 1], K[ue + 2], K[ue + 3]) && (!I || I(pe)) && !Ae(q, pe.overlapMode))
                  return M.push(!0), !0;
              }
          }
          const ee = this.circleCells[x];
          if (ee !== null) {
            const K = this.circles;
            for (const Y of ee)
              if (!z.circle[Y]) {
                z.circle[Y] = !0;
                const ue = 3 * Y, pe = this.circleKeys[Y];
                if (this._circlesCollide(K[ue], K[ue + 1], K[ue + 2], O.x, O.y, O.radius) && (!I || I(pe)) && !Ae(q, pe.overlapMode))
                  return M.push(!0), !0;
              }
          }
        }
        _forEachCell(s, c, h, g, x, M, A, I) {
          const O = this._convertToXCellCoord(s), z = this._convertToYCellCoord(c), q = this._convertToXCellCoord(h), G = this._convertToYCellCoord(g);
          for (let ee = O; ee <= q; ee++)
            for (let K = z; K <= G; K++)
              if (x.call(this, s, c, h, g, this.xCellCount * K + ee, M, A, I))
                return;
        }
        _convertToXCellCoord(s) {
          return Math.max(0, Math.min(this.xCellCount - 1, Math.floor(s * this.xScale)));
        }
        _convertToYCellCoord(s) {
          return Math.max(0, Math.min(this.yCellCount - 1, Math.floor(s * this.yScale)));
        }
        _circlesCollide(s, c, h, g, x, M) {
          const A = g - s, I = x - c, O = h + M;
          return O * O > A * A + I * I;
        }
        _circleAndRectCollide(s, c, h, g, x, M, A) {
          const I = (M - g) / 2, O = Math.abs(s - (g + I));
          if (O > I + h)
            return !1;
          const z = (A - x) / 2, q = Math.abs(c - (x + z));
          if (q > z + h)
            return !1;
          if (O <= I || q <= z)
            return !0;
          const G = O - I, ee = q - z;
          return G * G + ee * ee <= h * h;
        }
      }
      function Wi(p, s, c, h, g) {
        const x = o.create();
        return s ? (o.scale(x, x, [1 / g, 1 / g, 1]), c || o.rotateZ(x, x, h.angle)) : o.multiply(x, h.labelPlaneMatrix, p), x;
      }
      function zi(p, s, c, h, g) {
        if (s) {
          const x = o.clone(p);
          return o.scale(x, x, [g, g, 1]), c || o.rotateZ(x, x, -h.angle), x;
        }
        return h.glCoordMatrix;
      }
      function Dt(p, s, c) {
        let h;
        c ? (h = [p.x, p.y, c(p.x, p.y), 1], o.transformMat4(h, h, s)) : (h = [p.x, p.y, 0, 1], Gi(h, h, s));
        const g = h[3];
        return { point: new o.pointGeometry(h[0] / g, h[1] / g), signedDistanceFromCamera: g };
      }
      function Qa(p, s) {
        return 0.5 + p / s * 0.5;
      }
      function Da(p, s) {
        const c = p[0] / p[3], h = p[1] / p[3];
        return c >= -s[0] && c <= s[0] && h >= -s[1] && h <= s[1];
      }
      function na(p, s, c, h, g, x, M, A, I, O) {
        const z = h ? p.textSizeData : p.iconSizeData, q = o.evaluateSizeForZoom(z, c.transform.zoom), G = [256 / c.width * 2 + 1, 256 / c.height * 2 + 1], ee = h ? p.text.dynamicLayoutVertexArray : p.icon.dynamicLayoutVertexArray;
        ee.clear();
        const K = p.lineVertexArray, Y = h ? p.text.placedSymbolArray : p.icon.placedSymbolArray, ue = c.transform.width / c.transform.height;
        let pe = !1;
        for (let ve = 0; ve < Y.length; ve++) {
          const te = Y.get(ve);
          if (te.hidden || te.writingMode === o.WritingMode.vertical && !pe) {
            ht(te.numGlyphs, ee);
            continue;
          }
          let Se;
          if (pe = !1, O ? (Se = [te.anchorX, te.anchorY, O(te.anchorX, te.anchorY), 1], o.transformMat4(Se, Se, s)) : (Se = [te.anchorX, te.anchorY, 0, 1], Gi(Se, Se, s)), !Da(Se, G)) {
            ht(te.numGlyphs, ee);
            continue;
          }
          const be = Qa(c.transform.cameraToCenterDistance, Se[3]), Ie = o.evaluateSizeForFeature(z, q, te), Pe = M ? Ie / be : Ie * be, Ne = new o.pointGeometry(te.anchorX, te.anchorY), Ce = Dt(Ne, g, O).point, it = {}, Ke = Wt(te, Pe, !1, A, s, g, x, p.glyphOffsetArray, K, ee, Ce, Ne, it, ue, I, O);
          pe = Ke.useVertical, (Ke.notEnoughRoom || pe || Ke.needsFlipping && Wt(te, Pe, !0, A, s, g, x, p.glyphOffsetArray, K, ee, Ce, Ne, it, ue, I, O).notEnoughRoom) && ht(te.numGlyphs, ee);
        }
        h ? p.text.dynamicLayoutVertexBuffer.updateData(ee) : p.icon.dynamicLayoutVertexBuffer.updateData(ee);
      }
      function Un(p, s, c, h, g, x, M, A, I, O, z, q, G) {
        const ee = A.glyphStartIndex + A.numGlyphs, K = A.lineStartIndex, Y = A.lineStartIndex + A.lineLength, ue = s.getoffsetX(A.glyphStartIndex), pe = s.getoffsetX(ee - 1), ve = hi(p * ue, c, h, g, x, M, A.segment, K, Y, I, O, z, q, G);
        if (!ve)
          return null;
        const te = hi(p * pe, c, h, g, x, M, A.segment, K, Y, I, O, z, q, G);
        return te ? { first: ve, last: te } : null;
      }
      function He(p, s, c, h) {
        return p === o.WritingMode.horizontal && Math.abs(c.y - s.y) > Math.abs(c.x - s.x) * h ? { useVertical: !0 } : (p === o.WritingMode.vertical ? s.y < c.y : s.x > c.x) ? { needsFlipping: !0 } : null;
      }
      function Wt(p, s, c, h, g, x, M, A, I, O, z, q, G, ee, K, Y) {
        const ue = s / 24, pe = p.lineOffsetX * ue, ve = p.lineOffsetY * ue;
        let te;
        if (p.numGlyphs > 1) {
          const Se = p.glyphStartIndex + p.numGlyphs, be = p.lineStartIndex, Ie = p.lineStartIndex + p.lineLength, Pe = Un(ue, A, pe, ve, c, z, q, p, I, x, G, K, Y);
          if (!Pe)
            return { notEnoughRoom: !0 };
          const Ne = Dt(Pe.first.point, M, Y).point, Ce = Dt(Pe.last.point, M, Y).point;
          if (h && !c) {
            const it = He(p.writingMode, Ne, Ce, ee);
            if (it)
              return it;
          }
          te = [Pe.first];
          for (let it = p.glyphStartIndex + 1; it < Se - 1; it++)
            te.push(hi(ue * A.getoffsetX(it), pe, ve, c, z, q, p.segment, be, Ie, I, x, G, K, Y));
          te.push(Pe.last);
        } else {
          if (h && !c) {
            const be = Dt(q, g, Y).point, Ie = p.lineStartIndex + p.segment + 1, Pe = new o.pointGeometry(I.getx(Ie), I.gety(Ie)), Ne = Dt(Pe, g, Y), Ce = Ne.signedDistanceFromCamera > 0 ? Ne.point : Et(q, Pe, be, 1, g, Y), it = He(p.writingMode, be, Ce, ee);
            if (it)
              return it;
          }
          const Se = hi(ue * A.getoffsetX(p.glyphStartIndex), pe, ve, c, z, q, p.segment, p.lineStartIndex, p.lineStartIndex + p.lineLength, I, x, G, K, Y);
          if (!Se)
            return { notEnoughRoom: !0 };
          te = [Se];
        }
        for (const Se of te)
          o.addDynamicAttributes(O, Se.point, Se.angle);
        return {};
      }
      function Et(p, s, c, h, g, x) {
        const M = Dt(p.add(p.sub(s)._unit()), g, x).point, A = c.sub(M);
        return c.add(A._mult(h / A.mag()));
      }
      function hi(p, s, c, h, g, x, M, A, I, O, z, q, G, ee) {
        const K = h ? p - s : p + s;
        let Y = K > 0 ? 1 : -1, ue = 0;
        h && (Y *= -1, ue = Math.PI), Y < 0 && (ue += Math.PI);
        let pe = Y > 0 ? A + M : A + M + 1, ve = g, te = g, Se = 0, be = 0;
        const Ie = Math.abs(K), Pe = [];
        for (; Se + be <= Ie; ) {
          if (pe += Y, pe < A || pe >= I)
            return null;
          if (te = ve, Pe.push(ve), ve = q[pe], ve === void 0) {
            const rt = new o.pointGeometry(O.getx(pe), O.gety(pe)), At = Dt(rt, z, ee);
            if (At.signedDistanceFromCamera > 0)
              ve = q[pe] = At.point;
            else {
              const Bt = pe - Y;
              ve = Et(Se === 0 ? x : new o.pointGeometry(O.getx(Bt), O.gety(Bt)), rt, te, Ie - Se + 1, z, ee);
            }
          }
          Se += be, be = te.dist(ve);
        }
        const Ne = (Ie - Se) / be, Ce = ve.sub(te), it = Ce.mult(Ne)._add(te);
        it._add(Ce._unit()._perp()._mult(c * Y));
        const Ke = ue + Math.atan2(ve.y - te.y, ve.x - te.x);
        return Pe.push(it), { point: it, angle: G ? Ke : 0, path: Pe };
      }
      const yr = new Float32Array([-1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0]);
      function ht(p, s) {
        for (let c = 0; c < p; c++) {
          const h = s.length;
          s.resize(h + 4), s.float32.set(yr, 3 * h);
        }
      }
      function Gi(p, s, c) {
        const h = s[0], g = s[1];
        return p[0] = c[0] * h + c[4] * g + c[12], p[1] = c[1] * h + c[5] * g + c[13], p[3] = c[3] * h + c[7] * g + c[15], p;
      }
      const ri = 100;
      class Rr {
        constructor(s, c = new Ve(s.width + 200, s.height + 200, 25), h = new Ve(s.width + 200, s.height + 200, 25)) {
          this.transform = s, this.grid = c, this.ignoredGrid = h, this.pitchfactor = Math.cos(s._pitch) * s.cameraToCenterDistance, this.screenRightBoundary = s.width + ri, this.screenBottomBoundary = s.height + ri, this.gridRightBoundary = s.width + 200, this.gridBottomBoundary = s.height + 200, this.perspectiveRatioCutoff = 0.6;
        }
        placeCollisionBox(s, c, h, g, x, M) {
          const A = this.projectAndGetPerspectiveRatio(g, s.anchorPointX, s.anchorPointY, M), I = h * A.perspectiveRatio, O = s.x1 * I + A.point.x, z = s.y1 * I + A.point.y, q = s.x2 * I + A.point.x, G = s.y2 * I + A.point.y;
          return !this.isInsideGrid(O, z, q, G) || c !== "always" && this.grid.hitTest(O, z, q, G, c, x) || A.perspectiveRatio < this.perspectiveRatioCutoff ? { box: [], offscreen: !1 } : { box: [O, z, q, G], offscreen: this.isOffscreen(O, z, q, G) };
        }
        placeCollisionCircles(s, c, h, g, x, M, A, I, O, z, q, G, ee, K) {
          const Y = [], ue = new o.pointGeometry(c.anchorX, c.anchorY), pe = Dt(ue, M, K), ve = Qa(this.transform.cameraToCenterDistance, pe.signedDistanceFromCamera), te = (z ? x / ve : x * ve) / o.ONE_EM, Se = Dt(ue, A, K).point, be = Un(te, g, c.lineOffsetX * te, c.lineOffsetY * te, !1, Se, ue, c, h, A, {}, !1, K);
          let Ie = !1, Pe = !1, Ne = !0;
          if (be) {
            const Ce = 0.5 * G * ve + ee, it = new o.pointGeometry(-100, -100), Ke = new o.pointGeometry(this.screenRightBoundary, this.screenBottomBoundary), rt = new tn(), At = be.first, Bt = be.last;
            let xt = [];
            for (let Qt = At.path.length - 1; Qt >= 1; Qt--)
              xt.push(At.path[Qt]);
            for (let Qt = 1; Qt < Bt.path.length; Qt++)
              xt.push(Bt.path[Qt]);
            const ma = 2.5 * Ce;
            if (I) {
              const Qt = xt.map((ea) => Dt(ea, I, K));
              xt = Qt.some((ea) => ea.signedDistanceFromCamera <= 0) ? [] : Qt.map((ea) => ea.point);
            }
            let ha = [];
            if (xt.length > 0) {
              const Qt = xt[0].clone(), ea = xt[0].clone();
              for (let ya = 1; ya < xt.length; ya++)
                Qt.x = Math.min(Qt.x, xt[ya].x), Qt.y = Math.min(Qt.y, xt[ya].y), ea.x = Math.max(ea.x, xt[ya].x), ea.y = Math.max(ea.y, xt[ya].y);
              ha = Qt.x >= it.x && ea.x <= Ke.x && Qt.y >= it.y && ea.y <= Ke.y ? [xt] : ea.x < it.x || Qt.x > Ke.x || ea.y < it.y || Qt.y > Ke.y ? [] : o.clipLine([xt], it.x, it.y, Ke.x, Ke.y);
            }
            for (const Qt of ha) {
              rt.reset(Qt, 0.25 * Ce);
              let ea = 0;
              ea = rt.length <= 0.5 * Ce ? 1 : Math.ceil(rt.paddedLength / ma) + 1;
              for (let ya = 0; ya < ea; ya++) {
                const Ei = ya / Math.max(ea - 1, 1), xr = rt.lerp(Ei), lr = xr.x + ri, wr = xr.y + ri;
                Y.push(lr, wr, Ce, 0);
                const os = lr - Ce, Vn = wr - Ce, hn = lr + Ce, zr = wr + Ce;
                if (Ne = Ne && this.isOffscreen(os, Vn, hn, zr), Pe = Pe || this.isInsideGrid(os, Vn, hn, zr), s !== "always" && this.grid.hitTestCircle(lr, wr, Ce, s, q) && (Ie = !0, !O))
                  return { circles: [], offscreen: !1, collisionDetected: Ie };
              }
            }
          }
          return { circles: !O && Ie || !Pe || ve < this.perspectiveRatioCutoff ? [] : Y, offscreen: Ne, collisionDetected: Ie };
        }
        queryRenderedSymbols(s) {
          if (s.length === 0 || this.grid.keysLength() === 0 && this.ignoredGrid.keysLength() === 0)
            return {};
          const c = [];
          let h = 1 / 0, g = 1 / 0, x = -1 / 0, M = -1 / 0;
          for (const z of s) {
            const q = new o.pointGeometry(z.x + ri, z.y + ri);
            h = Math.min(h, q.x), g = Math.min(g, q.y), x = Math.max(x, q.x), M = Math.max(M, q.y), c.push(q);
          }
          const A = this.grid.query(h, g, x, M).concat(this.ignoredGrid.query(h, g, x, M)), I = {}, O = {};
          for (const z of A) {
            const q = z.key;
            if (I[q.bucketInstanceId] === void 0 && (I[q.bucketInstanceId] = {}), I[q.bucketInstanceId][q.featureIndex])
              continue;
            const G = [new o.pointGeometry(z.x1, z.y1), new o.pointGeometry(z.x2, z.y1), new o.pointGeometry(z.x2, z.y2), new o.pointGeometry(z.x1, z.y2)];
            o.polygonIntersectsPolygon(c, G) && (I[q.bucketInstanceId][q.featureIndex] = !0, O[q.bucketInstanceId] === void 0 && (O[q.bucketInstanceId] = []), O[q.bucketInstanceId].push(q.featureIndex));
          }
          return O;
        }
        insertCollisionBox(s, c, h, g, x, M) {
          (h ? this.ignoredGrid : this.grid).insert({ bucketInstanceId: g, featureIndex: x, collisionGroupID: M, overlapMode: c }, s[0], s[1], s[2], s[3]);
        }
        insertCollisionCircles(s, c, h, g, x, M) {
          const A = h ? this.ignoredGrid : this.grid, I = { bucketInstanceId: g, featureIndex: x, collisionGroupID: M, overlapMode: c };
          for (let O = 0; O < s.length; O += 4)
            A.insertCircle(I, s[O], s[O + 1], s[O + 2]);
        }
        projectAndGetPerspectiveRatio(s, c, h, g) {
          let x;
          return g ? (x = [c, h, g(c, h), 1], o.transformMat4(x, x, s)) : (x = [c, h, 0, 1], Gi(x, x, s)), { point: new o.pointGeometry((x[0] / x[3] + 1) / 2 * this.transform.width + ri, (-x[1] / x[3] + 1) / 2 * this.transform.height + ri), perspectiveRatio: 0.5 + this.transform.cameraToCenterDistance / x[3] * 0.5 };
        }
        isOffscreen(s, c, h, g) {
          return h < ri || s >= this.screenRightBoundary || g < ri || c > this.screenBottomBoundary;
        }
        isInsideGrid(s, c, h, g) {
          return h >= 0 && s < this.gridRightBoundary && g >= 0 && c < this.gridBottomBoundary;
        }
        getViewportMatrix() {
          const s = o.identity([]);
          return o.translate(s, s, [-100, -100, 0]), s;
        }
      }
      function Va(p, s, c) {
        return s * (o.EXTENT / (p.tileSize * Math.pow(2, c - p.tileID.overscaledZ)));
      }
      class Ti {
        constructor(s, c, h, g) {
          this.opacity = s ? Math.max(0, Math.min(1, s.opacity + (s.placed ? c : -c))) : g && h ? 1 : 0, this.placed = h;
        }
        isHidden() {
          return this.opacity === 0 && !this.placed;
        }
      }
      class ra {
        constructor(s, c, h, g, x) {
          this.text = new Ti(s ? s.text : null, c, h, x), this.icon = new Ti(s ? s.icon : null, c, g, x);
        }
        isHidden() {
          return this.text.isHidden() && this.icon.isHidden();
        }
      }
      class es {
        constructor(s, c, h) {
          this.text = s, this.icon = c, this.skipFade = h;
        }
      }
      class an {
        constructor() {
          this.invProjMatrix = o.create(), this.viewportMatrix = o.create(), this.circles = [];
        }
      }
      class rr {
        constructor(s, c, h, g, x) {
          this.bucketInstanceId = s, this.featureIndex = c, this.sourceLayerIndex = h, this.bucketIndex = g, this.tileID = x;
        }
      }
      class kr {
        constructor(s) {
          this.crossSourceCollisions = s, this.maxGroupID = 0, this.collisionGroups = {};
        }
        get(s) {
          if (this.crossSourceCollisions)
            return { ID: 0, predicate: null };
          if (!this.collisionGroups[s]) {
            const c = ++this.maxGroupID;
            this.collisionGroups[s] = { ID: c, predicate: (h) => h.collisionGroupID === c };
          }
          return this.collisionGroups[s];
        }
      }
      function Ui(p, s, c, h, g) {
        const { horizontalAlign: x, verticalAlign: M } = o.getAnchorAlignment(p), A = -(x - 0.5) * s, I = -(M - 0.5) * c, O = o.evaluateVariableOffset(p, h);
        return new o.pointGeometry(A + O[0] * g, I + O[1] * g);
      }
      function sr(p, s, c, h, g, x) {
        const { x1: M, x2: A, y1: I, y2: O, anchorPointX: z, anchorPointY: q } = p, G = new o.pointGeometry(s, c);
        return h && G._rotate(g ? x : -x), { x1: M + G.x, y1: I + G.y, x2: A + G.x, y2: O + G.y, anchorPointX: z, anchorPointY: q };
      }
      class H {
        constructor(s, c, h, g, x) {
          this.transform = s.clone(), this.terrain = c, this.collisionIndex = new Rr(this.transform), this.placements = {}, this.opacities = {}, this.variableOffsets = {}, this.stale = !1, this.commitTime = 0, this.fadeDuration = h, this.retainedQueryData = {}, this.collisionGroups = new kr(g), this.collisionCircleArrays = {}, this.prevPlacement = x, x && (x.prevPlacement = void 0), this.placedOrientations = {};
        }
        getBucketParts(s, c, h, g) {
          const x = h.getBucket(c), M = h.latestFeatureIndex;
          if (!x || !M || c.id !== x.layerIds[0])
            return;
          const A = h.collisionBoxArray, I = x.layers[0].layout, O = Math.pow(2, this.transform.zoom - h.tileID.overscaledZ), z = h.tileSize / o.EXTENT, q = this.transform.calculatePosMatrix(h.tileID.toUnwrapped()), G = I.get("text-pitch-alignment") === "map", ee = I.get("text-rotation-alignment") === "map", K = Va(h, 1, this.transform.zoom), Y = Wi(q, G, ee, this.transform, K);
          let ue = null;
          if (G) {
            const ve = zi(q, G, ee, this.transform, K);
            ue = o.multiply([], this.transform.labelPlaneMatrix, ve);
          }
          this.retainedQueryData[x.bucketInstanceId] = new rr(x.bucketInstanceId, M, x.sourceLayerIndex, x.index, h.tileID);
          const pe = { bucket: x, layout: I, posMatrix: q, textLabelPlaneMatrix: Y, labelToScreenMatrix: ue, scale: O, textPixelRatio: z, holdingForFade: h.holdingForFade(), collisionBoxArray: A, partiallyEvaluatedTextSize: o.evaluateSizeForZoom(x.textSizeData, this.transform.zoom), collisionGroup: this.collisionGroups.get(x.sourceID) };
          if (g)
            for (const ve of x.sortKeyRanges) {
              const { sortKey: te, symbolInstanceStart: Se, symbolInstanceEnd: be } = ve;
              s.push({ sortKey: te, symbolInstanceStart: Se, symbolInstanceEnd: be, parameters: pe });
            }
          else
            s.push({ symbolInstanceStart: 0, symbolInstanceEnd: x.symbolInstances.length, parameters: pe });
        }
        attemptAnchorPlacement(s, c, h, g, x, M, A, I, O, z, q, G, ee, K, Y, ue) {
          const pe = [G.textOffset0, G.textOffset1], ve = Ui(s, h, g, pe, x), te = this.collisionIndex.placeCollisionBox(sr(c, ve.x, ve.y, M, A, this.transform.angle), q, I, O, z.predicate, ue);
          if ((!Y || this.collisionIndex.placeCollisionBox(sr(Y, ve.x, ve.y, M, A, this.transform.angle), q, I, O, z.predicate, ue).box.length !== 0) && te.box.length > 0) {
            let Se;
            if (this.prevPlacement && this.prevPlacement.variableOffsets[G.crossTileID] && this.prevPlacement.placements[G.crossTileID] && this.prevPlacement.placements[G.crossTileID].text && (Se = this.prevPlacement.variableOffsets[G.crossTileID].anchor), G.crossTileID === 0)
              throw new Error("symbolInstance.crossTileID can't be 0");
            return this.variableOffsets[G.crossTileID] = { textOffset: pe, width: h, height: g, anchor: s, textBoxScale: x, prevAnchor: Se }, this.markUsedJustification(ee, s, G, K), ee.allowVerticalPlacement && (this.markUsedOrientation(ee, K, G), this.placedOrientations[G.crossTileID] = K), { shift: ve, placedGlyphBoxes: te };
          }
        }
        placeLayerBucketPart(s, c, h) {
          const { bucket: g, layout: x, posMatrix: M, textLabelPlaneMatrix: A, labelToScreenMatrix: I, textPixelRatio: O, holdingForFade: z, collisionBoxArray: q, partiallyEvaluatedTextSize: G, collisionGroup: ee } = s.parameters, K = x.get("text-optional"), Y = x.get("icon-optional"), ue = o.getOverlapMode(x, "text-overlap", "text-allow-overlap"), pe = ue === "always", ve = o.getOverlapMode(x, "icon-overlap", "icon-allow-overlap"), te = ve === "always", Se = x.get("text-rotation-alignment") === "map", be = x.get("text-pitch-alignment") === "map", Ie = x.get("icon-text-fit") !== "none", Pe = x.get("symbol-z-order") === "viewport-y", Ne = pe && (te || !g.hasIconData() || Y), Ce = te && (pe || !g.hasTextData() || K);
          !g.collisionArrays && q && g.deserializeCollisionBoxes(q);
          const it = (Ke, rt) => {
            if (c[Ke.crossTileID])
              return;
            if (z)
              return void (this.placements[Ke.crossTileID] = new es(!1, !1, !1));
            let At = !1, Bt = !1, xt = !0, ma = null, ha = { box: null, offscreen: null }, Qt = { box: null, offscreen: null }, ea = null, ya = null, Ei = null, xr = 0, lr = 0, wr = 0;
            rt.textFeatureIndex ? xr = rt.textFeatureIndex : Ke.useRuntimeCollisionCircles && (xr = Ke.featureIndex), rt.verticalTextFeatureIndex && (lr = rt.verticalTextFeatureIndex);
            const os = this.retainedQueryData[g.bucketInstanceId].tileID, Vn = this.terrain ? (pi, jt) => this.terrain.getElevation(os, pi, jt) : null;
            for (const pi of ["textBox", "verticalTextBox", "iconBox", "verticalIconBox"]) {
              const jt = rt[pi];
              jt && (jt.elevation = Vn ? Vn(jt.anchorPointX, jt.anchorPointY) : 0);
            }
            const hn = rt.textBox;
            if (hn) {
              const pi = (la) => {
                let Li = o.WritingMode.horizontal;
                if (g.allowVerticalPlacement && !la && this.prevPlacement) {
                  const Ci = this.prevPlacement.placedOrientations[Ke.crossTileID];
                  Ci && (this.placedOrientations[Ke.crossTileID] = Ci, Li = Ci, this.markUsedOrientation(g, Li, Ke));
                }
                return Li;
              }, jt = (la, Li) => {
                if (g.allowVerticalPlacement && Ke.numVerticalGlyphVertices > 0 && rt.verticalTextBox) {
                  for (const Ci of g.writingModes)
                    if (Ci === o.WritingMode.vertical ? (ha = Li(), Qt = ha) : ha = la(), ha && ha.box && ha.box.length)
                      break;
                } else
                  ha = la();
              };
              if (x.get("text-variable-anchor")) {
                let la = x.get("text-variable-anchor");
                if (this.prevPlacement && this.prevPlacement.variableOffsets[Ke.crossTileID]) {
                  const qa = this.prevPlacement.variableOffsets[Ke.crossTileID];
                  la.indexOf(qa.anchor) > 0 && (la = la.filter(($n) => $n !== qa.anchor), la.unshift(qa.anchor));
                }
                const Li = (qa, $n, Ps) => {
                  const $d = qa.x2 - qa.x1, fo = qa.y2 - qa.y1, Y_ = Ke.textBoxScale, Zd = Ie && ve === "never" ? $n : null;
                  let ls = { box: [], offscreen: !1 };
                  const Os = ue !== "never" ? 2 * la.length : la.length;
                  for (let Rs = 0; Rs < Os; ++Rs) {
                    const vu = this.attemptAnchorPlacement(la[Rs % la.length], qa, $d, fo, Y_, Se, be, O, M, ee, Rs >= la.length ? ue : "never", Ke, g, Ps, Zd, Vn);
                    if (vu && (ls = vu.placedGlyphBoxes, ls && ls.box && ls.box.length)) {
                      At = !0, ma = vu.shift;
                      break;
                    }
                  }
                  return ls;
                };
                jt(() => Li(hn, rt.iconBox, o.WritingMode.horizontal), () => {
                  const qa = rt.verticalTextBox;
                  return g.allowVerticalPlacement && !(ha && ha.box && ha.box.length) && Ke.numVerticalGlyphVertices > 0 && qa ? Li(qa, rt.verticalIconBox, o.WritingMode.vertical) : { box: null, offscreen: null };
                }), ha && (At = ha.box, xt = ha.offscreen);
                const Ci = pi(ha && ha.box);
                if (!At && this.prevPlacement) {
                  const qa = this.prevPlacement.variableOffsets[Ke.crossTileID];
                  qa && (this.variableOffsets[Ke.crossTileID] = qa, this.markUsedJustification(g, qa.anchor, Ke, Ci));
                }
              } else {
                const la = (Li, Ci) => {
                  const qa = this.collisionIndex.placeCollisionBox(Li, ue, O, M, ee.predicate, Vn);
                  return qa && qa.box && qa.box.length && (this.markUsedOrientation(g, Ci, Ke), this.placedOrientations[Ke.crossTileID] = Ci), qa;
                };
                jt(() => la(hn, o.WritingMode.horizontal), () => {
                  const Li = rt.verticalTextBox;
                  return g.allowVerticalPlacement && Ke.numVerticalGlyphVertices > 0 && Li ? la(Li, o.WritingMode.vertical) : { box: null, offscreen: null };
                }), pi(ha && ha.box && ha.box.length);
              }
            }
            if (ea = ha, At = ea && ea.box && ea.box.length > 0, xt = ea && ea.offscreen, Ke.useRuntimeCollisionCircles) {
              const pi = g.text.placedSymbolArray.get(Ke.centerJustifiedTextSymbolIndex), jt = o.evaluateSizeForFeature(g.textSizeData, G, pi), la = x.get("text-padding");
              ya = this.collisionIndex.placeCollisionCircles(ue, pi, g.lineVertexArray, g.glyphOffsetArray, jt, M, A, I, h, be, ee.predicate, Ke.collisionCircleDiameter, la, Vn), ya.circles.length && ya.collisionDetected && !h && o.warnOnce("Collisions detected, but collision boxes are not shown"), At = pe || ya.circles.length > 0 && !ya.collisionDetected, xt = xt && ya.offscreen;
            }
            if (rt.iconFeatureIndex && (wr = rt.iconFeatureIndex), rt.iconBox) {
              const pi = (jt) => {
                const la = Ie && ma ? sr(jt, ma.x, ma.y, Se, be, this.transform.angle) : jt;
                return this.collisionIndex.placeCollisionBox(la, ve, O, M, ee.predicate, Vn);
              };
              Qt && Qt.box && Qt.box.length && rt.verticalIconBox ? (Ei = pi(rt.verticalIconBox), Bt = Ei.box.length > 0) : (Ei = pi(rt.iconBox), Bt = Ei.box.length > 0), xt = xt && Ei.offscreen;
            }
            const zr = K || Ke.numHorizontalGlyphVertices === 0 && Ke.numVerticalGlyphVertices === 0, yu = Y || Ke.numIconVertices === 0;
            if (zr || yu ? yu ? zr || (Bt = Bt && At) : At = Bt && At : Bt = At = Bt && At, At && ea && ea.box && this.collisionIndex.insertCollisionBox(ea.box, ue, x.get("text-ignore-placement"), g.bucketInstanceId, Qt && Qt.box && lr ? lr : xr, ee.ID), Bt && Ei && this.collisionIndex.insertCollisionBox(Ei.box, ve, x.get("icon-ignore-placement"), g.bucketInstanceId, wr, ee.ID), ya && (At && this.collisionIndex.insertCollisionCircles(ya.circles, ue, x.get("text-ignore-placement"), g.bucketInstanceId, xr, ee.ID), h)) {
              const pi = g.bucketInstanceId;
              let jt = this.collisionCircleArrays[pi];
              jt === void 0 && (jt = this.collisionCircleArrays[pi] = new an());
              for (let la = 0; la < ya.circles.length; la += 4)
                jt.circles.push(ya.circles[la + 0]), jt.circles.push(ya.circles[la + 1]), jt.circles.push(ya.circles[la + 2]), jt.circles.push(ya.collisionDetected ? 1 : 0);
            }
            if (Ke.crossTileID === 0)
              throw new Error("symbolInstance.crossTileID can't be 0");
            if (g.bucketInstanceId === 0)
              throw new Error("bucket.bucketInstanceId can't be 0");
            this.placements[Ke.crossTileID] = new es(At || Ne, Bt || Ce, xt || g.justReloaded), c[Ke.crossTileID] = !0;
          };
          if (Pe) {
            if (s.symbolInstanceStart !== 0)
              throw new Error("bucket.bucketInstanceId should be 0");
            const Ke = g.getSortedSymbolIndexes(this.transform.angle);
            for (let rt = Ke.length - 1; rt >= 0; --rt) {
              const At = Ke[rt];
              it(g.symbolInstances.get(At), g.collisionArrays[At]);
            }
          } else
            for (let Ke = s.symbolInstanceStart; Ke < s.symbolInstanceEnd; Ke++)
              it(g.symbolInstances.get(Ke), g.collisionArrays[Ke]);
          if (h && g.bucketInstanceId in this.collisionCircleArrays) {
            const Ke = this.collisionCircleArrays[g.bucketInstanceId];
            o.invert(Ke.invProjMatrix, M), Ke.viewportMatrix = this.collisionIndex.getViewportMatrix();
          }
          g.justReloaded = !1;
        }
        markUsedJustification(s, c, h, g) {
          let x;
          x = g === o.WritingMode.vertical ? h.verticalPlacedTextSymbolIndex : { left: h.leftJustifiedTextSymbolIndex, center: h.centerJustifiedTextSymbolIndex, right: h.rightJustifiedTextSymbolIndex }[o.getAnchorJustification(c)];
          const M = [h.leftJustifiedTextSymbolIndex, h.centerJustifiedTextSymbolIndex, h.rightJustifiedTextSymbolIndex, h.verticalPlacedTextSymbolIndex];
          for (const A of M)
            A >= 0 && (s.text.placedSymbolArray.get(A).crossTileID = x >= 0 && A !== x ? 0 : h.crossTileID);
        }
        markUsedOrientation(s, c, h) {
          const g = c === o.WritingMode.horizontal || c === o.WritingMode.horizontalOnly ? c : 0, x = c === o.WritingMode.vertical ? c : 0, M = [h.leftJustifiedTextSymbolIndex, h.centerJustifiedTextSymbolIndex, h.rightJustifiedTextSymbolIndex];
          for (const A of M)
            s.text.placedSymbolArray.get(A).placedOrientation = g;
          h.verticalPlacedTextSymbolIndex && (s.text.placedSymbolArray.get(h.verticalPlacedTextSymbolIndex).placedOrientation = x);
        }
        commit(s) {
          this.commitTime = s, this.zoomAtLastRecencyCheck = this.transform.zoom;
          const c = this.prevPlacement;
          let h = !1;
          this.prevZoomAdjustment = c ? c.zoomAdjustment(this.transform.zoom) : 0;
          const g = c ? c.symbolFadeChange(s) : 1, x = c ? c.opacities : {}, M = c ? c.variableOffsets : {}, A = c ? c.placedOrientations : {};
          for (const I in this.placements) {
            const O = this.placements[I], z = x[I];
            z ? (this.opacities[I] = new ra(z, g, O.text, O.icon), h = h || O.text !== z.text.placed || O.icon !== z.icon.placed) : (this.opacities[I] = new ra(null, g, O.text, O.icon, O.skipFade), h = h || O.text || O.icon);
          }
          for (const I in x) {
            const O = x[I];
            if (!this.opacities[I]) {
              const z = new ra(O, g, !1, !1);
              z.isHidden() || (this.opacities[I] = z, h = h || O.text.placed || O.icon.placed);
            }
          }
          for (const I in M)
            this.variableOffsets[I] || !this.opacities[I] || this.opacities[I].isHidden() || (this.variableOffsets[I] = M[I]);
          for (const I in A)
            this.placedOrientations[I] || !this.opacities[I] || this.opacities[I].isHidden() || (this.placedOrientations[I] = A[I]);
          if (c && c.lastPlacementChangeTime === void 0)
            throw new Error("Last placement time for previous placement is not defined");
          h ? this.lastPlacementChangeTime = s : typeof this.lastPlacementChangeTime != "number" && (this.lastPlacementChangeTime = c ? c.lastPlacementChangeTime : s);
        }
        updateLayerOpacities(s, c) {
          const h = {};
          for (const g of c) {
            const x = g.getBucket(s);
            x && g.latestFeatureIndex && s.id === x.layerIds[0] && this.updateBucketOpacities(x, h, g.collisionBoxArray);
          }
        }
        updateBucketOpacities(s, c, h) {
          s.hasTextData() && s.text.opacityVertexArray.clear(), s.hasIconData() && s.icon.opacityVertexArray.clear(), s.hasIconCollisionBoxData() && s.iconCollisionBox.collisionVertexArray.clear(), s.hasTextCollisionBoxData() && s.textCollisionBox.collisionVertexArray.clear();
          const g = s.layers[0].layout, x = new ra(null, 0, !1, !1, !0), M = g.get("text-allow-overlap"), A = g.get("icon-allow-overlap"), I = g.get("text-variable-anchor"), O = g.get("text-rotation-alignment") === "map", z = g.get("text-pitch-alignment") === "map", q = g.get("icon-text-fit") !== "none", G = new ra(null, 0, M && (A || !s.hasIconData() || g.get("icon-optional")), A && (M || !s.hasTextData() || g.get("text-optional")), !0);
          !s.collisionArrays && h && (s.hasIconCollisionBoxData() || s.hasTextCollisionBoxData()) && s.deserializeCollisionBoxes(h);
          const ee = (K, Y, ue) => {
            for (let pe = 0; pe < Y / 4; pe++)
              K.opacityVertexArray.emplaceBack(ue);
          };
          for (let K = 0; K < s.symbolInstances.length; K++) {
            const Y = s.symbolInstances.get(K), { numHorizontalGlyphVertices: ue, numVerticalGlyphVertices: pe, crossTileID: ve } = Y;
            let te = this.opacities[ve];
            c[ve] ? te = x : te || (te = G, this.opacities[ve] = te), c[ve] = !0;
            const Se = Y.numIconVertices > 0, be = this.placedOrientations[Y.crossTileID], Ie = be === o.WritingMode.vertical, Pe = be === o.WritingMode.horizontal || be === o.WritingMode.horizontalOnly;
            if (ue > 0 || pe > 0) {
              const Ne = me(te.text);
              ee(s.text, ue, Ie ? he : Ne), ee(s.text, pe, Pe ? he : Ne);
              const Ce = te.text.isHidden();
              [Y.rightJustifiedTextSymbolIndex, Y.centerJustifiedTextSymbolIndex, Y.leftJustifiedTextSymbolIndex].forEach((rt) => {
                rt >= 0 && (s.text.placedSymbolArray.get(rt).hidden = Ce || Ie ? 1 : 0);
              }), Y.verticalPlacedTextSymbolIndex >= 0 && (s.text.placedSymbolArray.get(Y.verticalPlacedTextSymbolIndex).hidden = Ce || Pe ? 1 : 0);
              const it = this.variableOffsets[Y.crossTileID];
              it && this.markUsedJustification(s, it.anchor, Y, be);
              const Ke = this.placedOrientations[Y.crossTileID];
              Ke && (this.markUsedJustification(s, "left", Y, Ke), this.markUsedOrientation(s, Ke, Y));
            }
            if (Se) {
              const Ne = me(te.icon), Ce = !(q && Y.verticalPlacedIconSymbolIndex && Ie);
              Y.placedIconSymbolIndex >= 0 && (ee(s.icon, Y.numIconVertices, Ce ? Ne : he), s.icon.placedSymbolArray.get(Y.placedIconSymbolIndex).hidden = te.icon.isHidden()), Y.verticalPlacedIconSymbolIndex >= 0 && (ee(s.icon, Y.numVerticalIconVertices, Ce ? he : Ne), s.icon.placedSymbolArray.get(Y.verticalPlacedIconSymbolIndex).hidden = te.icon.isHidden());
            }
            if (s.hasIconCollisionBoxData() || s.hasTextCollisionBoxData()) {
              const Ne = s.collisionArrays[K];
              if (Ne) {
                let Ce = new o.pointGeometry(0, 0);
                if (Ne.textBox || Ne.verticalTextBox) {
                  let Ke = !0;
                  if (I) {
                    const rt = this.variableOffsets[ve];
                    rt ? (Ce = Ui(rt.anchor, rt.width, rt.height, rt.textOffset, rt.textBoxScale), O && Ce._rotate(z ? this.transform.angle : -this.transform.angle)) : Ke = !1;
                  }
                  Ne.textBox && k(s.textCollisionBox.collisionVertexArray, te.text.placed, !Ke || Ie, Ce.x, Ce.y), Ne.verticalTextBox && k(s.textCollisionBox.collisionVertexArray, te.text.placed, !Ke || Pe, Ce.x, Ce.y);
                }
                const it = !!(!Pe && Ne.verticalIconBox);
                Ne.iconBox && k(s.iconCollisionBox.collisionVertexArray, te.icon.placed, it, q ? Ce.x : 0, q ? Ce.y : 0), Ne.verticalIconBox && k(s.iconCollisionBox.collisionVertexArray, te.icon.placed, !it, q ? Ce.x : 0, q ? Ce.y : 0);
              }
            }
          }
          if (s.sortFeatures(this.transform.angle), this.retainedQueryData[s.bucketInstanceId] && (this.retainedQueryData[s.bucketInstanceId].featureSortOrder = s.featureSortOrder), s.hasTextData() && s.text.opacityVertexBuffer && s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray), s.hasIconData() && s.icon.opacityVertexBuffer && s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray), s.hasIconCollisionBoxData() && s.iconCollisionBox.collisionVertexBuffer && s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray), s.hasTextCollisionBoxData() && s.textCollisionBox.collisionVertexBuffer && s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray), s.text.opacityVertexArray.length !== s.text.layoutVertexArray.length / 4)
            throw new Error(`bucket.text.opacityVertexArray.length (= ${s.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${s.text.layoutVertexArray.length}) / 4`);
          if (s.icon.opacityVertexArray.length !== s.icon.layoutVertexArray.length / 4)
            throw new Error(`bucket.icon.opacityVertexArray.length (= ${s.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${s.icon.layoutVertexArray.length}) / 4`);
          if (s.bucketInstanceId in this.collisionCircleArrays) {
            const K = this.collisionCircleArrays[s.bucketInstanceId];
            s.placementInvProjMatrix = K.invProjMatrix, s.placementViewportMatrix = K.viewportMatrix, s.collisionCircleArray = K.circles, delete this.collisionCircleArrays[s.bucketInstanceId];
          }
        }
        symbolFadeChange(s) {
          return this.fadeDuration === 0 ? 1 : (s - this.commitTime) / this.fadeDuration + this.prevZoomAdjustment;
        }
        zoomAdjustment(s) {
          return Math.max(0, (this.transform.zoom - s) / 1.5);
        }
        hasTransitions(s) {
          return this.stale || s - this.lastPlacementChangeTime < this.fadeDuration;
        }
        stillRecent(s, c) {
          const h = this.zoomAtLastRecencyCheck === c ? 1 - this.zoomAdjustment(c) : 1;
          return this.zoomAtLastRecencyCheck = c, this.commitTime + this.fadeDuration * h > s;
        }
        setStale() {
          this.stale = !0;
        }
      }
      function k(p, s, c, h, g) {
        p.emplaceBack(s ? 1 : 0, c ? 1 : 0, h || 0, g || 0), p.emplaceBack(s ? 1 : 0, c ? 1 : 0, h || 0, g || 0), p.emplaceBack(s ? 1 : 0, c ? 1 : 0, h || 0, g || 0), p.emplaceBack(s ? 1 : 0, c ? 1 : 0, h || 0, g || 0);
      }
      const N = Math.pow(2, 25), $ = Math.pow(2, 24), Z = Math.pow(2, 17), re = Math.pow(2, 16), de = Math.pow(2, 9), le = Math.pow(2, 8), se = Math.pow(2, 1);
      function me(p) {
        if (p.opacity === 0 && !p.placed)
          return 0;
        if (p.opacity === 1 && p.placed)
          return 4294967295;
        const s = p.placed ? 1 : 0, c = Math.floor(127 * p.opacity);
        return c * N + s * $ + c * Z + s * re + c * de + s * le + c * se + s;
      }
      const he = 0;
      class X {
        constructor(s) {
          this._sortAcrossTiles = s.layout.get("symbol-z-order") !== "viewport-y" && !s.layout.get("symbol-sort-key").isConstant(), this._currentTileIndex = 0, this._currentPartIndex = 0, this._seenCrossTileIDs = {}, this._bucketParts = [];
        }
        continuePlacement(s, c, h, g, x) {
          const M = this._bucketParts;
          for (; this._currentTileIndex < s.length; )
            if (c.getBucketParts(M, g, s[this._currentTileIndex], this._sortAcrossTiles), this._currentTileIndex++, x())
              return !0;
          for (this._sortAcrossTiles && (this._sortAcrossTiles = !1, M.sort((A, I) => A.sortKey - I.sortKey)); this._currentPartIndex < M.length; )
            if (c.placeLayerBucketPart(M[this._currentPartIndex], this._seenCrossTileIDs, h), this._currentPartIndex++, x())
              return !0;
          return !1;
        }
      }
      class oe {
        constructor(s, c, h, g, x, M, A, I) {
          this.placement = new H(s, c, M, A, I), this._currentPlacementIndex = h.length - 1, this._forceFullPlacement = g, this._showCollisionBoxes = x, this._done = !1;
        }
        isDone() {
          return this._done;
        }
        continuePlacement(s, c, h) {
          const g = o.exported.now(), x = () => {
            const M = o.exported.now() - g;
            return !this._forceFullPlacement && M > 2;
          };
          for (; this._currentPlacementIndex >= 0; ) {
            const M = c[s[this._currentPlacementIndex]], A = this.placement.collisionIndex.transform.zoom;
            if (M.type === "symbol" && (!M.minzoom || M.minzoom <= A) && (!M.maxzoom || M.maxzoom > A)) {
              if (this._inProgressLayer || (this._inProgressLayer = new X(M)), this._inProgressLayer.continuePlacement(h[M.source], this.placement, this._showCollisionBoxes, M, x))
                return;
              delete this._inProgressLayer;
            }
            this._currentPlacementIndex--;
          }
          this._done = !0;
        }
        commit(s) {
          return this.placement.commit(s), this.placement;
        }
      }
      const Le = 512 / o.EXTENT / 2;
      class Ue {
        constructor(s, c, h) {
          this.tileID = s, this.indexedSymbolInstances = {}, this.bucketInstanceId = h;
          for (let g = 0; g < c.length; g++) {
            const x = c.get(g), M = x.key;
            this.indexedSymbolInstances[M] || (this.indexedSymbolInstances[M] = []), this.indexedSymbolInstances[M].push({ crossTileID: x.crossTileID, coord: this.getScaledCoordinates(x, s) });
          }
        }
        getScaledCoordinates(s, c) {
          const h = Le / Math.pow(2, c.canonical.z - this.tileID.canonical.z);
          return { x: Math.floor((c.canonical.x * o.EXTENT + s.anchorX) * h), y: Math.floor((c.canonical.y * o.EXTENT + s.anchorY) * h) };
        }
        findMatches(s, c, h) {
          const g = this.tileID.canonical.z < c.canonical.z ? 1 : Math.pow(2, this.tileID.canonical.z - c.canonical.z);
          for (let x = 0; x < s.length; x++) {
            const M = s.get(x);
            if (M.crossTileID)
              continue;
            const A = this.indexedSymbolInstances[M.key];
            if (!A)
              continue;
            const I = this.getScaledCoordinates(M, c);
            for (const O of A)
              if (Math.abs(O.coord.x - I.x) <= g && Math.abs(O.coord.y - I.y) <= g && !h[O.crossTileID]) {
                h[O.crossTileID] = !0, M.crossTileID = O.crossTileID;
                break;
              }
          }
        }
      }
      class je {
        constructor() {
          this.maxCrossTileID = 0;
        }
        generate() {
          return ++this.maxCrossTileID;
        }
      }
      class ot {
        constructor() {
          this.indexes = {}, this.usedCrossTileIDs = {}, this.lng = 0;
        }
        handleWrapJump(s) {
          const c = Math.round((s - this.lng) / 360);
          if (c !== 0)
            for (const h in this.indexes) {
              const g = this.indexes[h], x = {};
              for (const M in g) {
                const A = g[M];
                A.tileID = A.tileID.unwrapTo(A.tileID.wrap + c), x[A.tileID.key] = A;
              }
              this.indexes[h] = x;
            }
          this.lng = s;
        }
        addBucket(s, c, h) {
          if (this.indexes[s.overscaledZ] && this.indexes[s.overscaledZ][s.key]) {
            if (this.indexes[s.overscaledZ][s.key].bucketInstanceId === c.bucketInstanceId)
              return !1;
            this.removeBucketCrossTileIDs(s.overscaledZ, this.indexes[s.overscaledZ][s.key]);
          }
          for (let x = 0; x < c.symbolInstances.length; x++)
            c.symbolInstances.get(x).crossTileID = 0;
          this.usedCrossTileIDs[s.overscaledZ] || (this.usedCrossTileIDs[s.overscaledZ] = {});
          const g = this.usedCrossTileIDs[s.overscaledZ];
          for (const x in this.indexes) {
            const M = this.indexes[x];
            if (Number(x) > s.overscaledZ)
              for (const A in M) {
                const I = M[A];
                I.tileID.isChildOf(s) && I.findMatches(c.symbolInstances, s, g);
              }
            else {
              const A = M[s.scaledTo(Number(x)).key];
              A && A.findMatches(c.symbolInstances, s, g);
            }
          }
          for (let x = 0; x < c.symbolInstances.length; x++) {
            const M = c.symbolInstances.get(x);
            M.crossTileID || (M.crossTileID = h.generate(), g[M.crossTileID] = !0);
          }
          return this.indexes[s.overscaledZ] === void 0 && (this.indexes[s.overscaledZ] = {}), this.indexes[s.overscaledZ][s.key] = new Ue(s, c.symbolInstances, c.bucketInstanceId), !0;
        }
        removeBucketCrossTileIDs(s, c) {
          for (const h in c.indexedSymbolInstances)
            for (const g of c.indexedSymbolInstances[h])
              delete this.usedCrossTileIDs[s][g.crossTileID];
        }
        removeStaleBuckets(s) {
          let c = !1;
          for (const h in this.indexes) {
            const g = this.indexes[h];
            for (const x in g)
              s[g[x].bucketInstanceId] || (this.removeBucketCrossTileIDs(h, g[x]), delete g[x], c = !0);
          }
          return c;
        }
      }
      class ct {
        constructor() {
          this.layerIndexes = {}, this.crossTileIDs = new je(), this.maxBucketInstanceId = 0, this.bucketsInCurrentPlacement = {};
        }
        addLayer(s, c, h) {
          let g = this.layerIndexes[s.id];
          g === void 0 && (g = this.layerIndexes[s.id] = new ot());
          let x = !1;
          const M = {};
          g.handleWrapJump(h);
          for (const A of c) {
            const I = A.getBucket(s);
            I && s.id === I.layerIds[0] && (I.bucketInstanceId || (I.bucketInstanceId = ++this.maxBucketInstanceId), g.addBucket(A.tileID, I, this.crossTileIDs) && (x = !0), M[I.bucketInstanceId] = !0);
          }
          return g.removeStaleBuckets(M) && (x = !0), x;
        }
        pruneUnusedLayers(s) {
          const c = {};
          s.forEach((h) => {
            c[h] = !0;
          });
          for (const h in this.layerIndexes)
            c[h] || delete this.layerIndexes[h];
        }
      }
      var Ut = o.createLayout([{ name: "a_pos", type: "Int16", components: 2 }]);
      class mt extends o.Evented {
        constructor(s) {
          super(), this.sourceCache = s, this._tiles = {}, this._renderableTilesKeys = [], this._sourceTileCache = {}, this.renderHistory = [], this.minzoom = 0, this.maxzoom = 22, this.tileSize = 512, this.deltaZoom = 1, this.renderHistorySize = s._cache.max, s.usedForTerrain = !0, s.tileSize = this.tileSize * 2 ** this.deltaZoom;
        }
        destruct() {
          this.sourceCache.usedForTerrain = !1, this.sourceCache.tileSize = null;
          for (const s in this._tiles) {
            const c = this._tiles[s];
            c.textures.forEach((h) => h.destroy()), c.textures = [];
          }
        }
        update(s, c) {
          this.sourceCache.update(s, c), this._renderableTilesKeys = [];
          for (const h of s.coveringTiles({ tileSize: this.tileSize, minzoom: this.minzoom, maxzoom: this.maxzoom, reparseOverscaled: !1, terrain: c }))
            this._renderableTilesKeys.push(h.key), this._tiles[h.key] || (h.posMatrix = new Float64Array(16), o.ortho(h.posMatrix, 0, o.EXTENT, 0, o.EXTENT, 0, 1), this._tiles[h.key] = new Pt(h, this.tileSize));
        }
        removeOutdated(s) {
          const c = {};
          this.renderHistory = this.renderHistory.filter((h, g) => this.renderHistory.indexOf(h) === g).slice(0, this.renderHistorySize);
          for (const h of this._renderableTilesKeys)
            c[h] = !0;
          for (const h of this.renderHistory)
            c[h] = !0;
          for (const h in this._tiles)
            c[h] || (this._tiles[h].clearTextures(s), delete this._tiles[h]);
        }
        getRenderableTiles() {
          return this._renderableTilesKeys.map((s) => this.getTileByID(s));
        }
        getTileByID(s) {
          return this._tiles[s];
        }
        getTerrainCoords(s) {
          const c = {};
          for (const h of this._renderableTilesKeys) {
            const g = this._tiles[h].tileID;
            if (g.canonical.equals(s.canonical)) {
              const x = s.clone();
              x.posMatrix = new Float64Array(16), o.ortho(x.posMatrix, 0, o.EXTENT, 0, o.EXTENT, 0, 1), c[h] = x;
            } else if (g.canonical.isChildOf(s.canonical)) {
              const x = s.clone();
              x.posMatrix = new Float64Array(16);
              const M = g.canonical.z - s.canonical.z, A = g.canonical.x - (g.canonical.x >> M << M), I = g.canonical.y - (g.canonical.y >> M << M), O = o.EXTENT >> M;
              o.ortho(x.posMatrix, 0, O, 0, O, 0, 1), o.translate(x.posMatrix, x.posMatrix, [-A * O, -I * O, 0]), c[h] = x;
            } else if (s.canonical.isChildOf(g.canonical)) {
              const x = s.clone();
              x.posMatrix = new Float64Array(16);
              const M = s.canonical.z - g.canonical.z, A = s.canonical.x - (s.canonical.x >> M << M), I = s.canonical.y - (s.canonical.y >> M << M), O = o.EXTENT >> M;
              o.ortho(x.posMatrix, 0, o.EXTENT, 0, o.EXTENT, 0, 1), o.translate(x.posMatrix, x.posMatrix, [A * O, I * O, 0]), o.scale(x.posMatrix, x.posMatrix, [1 / 2 ** M, 1 / 2 ** M, 0]), c[h] = x;
            }
          }
          return c;
        }
        getSourceTile(s, c) {
          const h = this.sourceCache._source;
          let g = s.overscaledZ - this.deltaZoom;
          if (g > h.maxzoom && (g = h.maxzoom), g < h.minzoom)
            return null;
          this._sourceTileCache[s.key] || (this._sourceTileCache[s.key] = s.scaledTo(g).key);
          let x = this.sourceCache.getTileByID(this._sourceTileCache[s.key]);
          if ((!x || !x.dem) && c)
            for (; g >= h.minzoom && (!x || !x.dem); )
              x = this.sourceCache.getTileByID(s.scaledTo(g--).key);
          return x;
        }
        tilesAfterTime(s = Date.now()) {
          return Object.values(this._tiles).filter((c) => c.timeLoaded >= s);
        }
      }
      class Ct {
        constructor(s, c, h) {
          this.style = s, this.sourceCache = new mt(c), this.options = h, this.exaggeration = typeof h.exaggeration == "number" ? h.exaggeration : 1, this.elevationOffset = typeof h.elevationOffset == "number" ? h.elevationOffset : 450, this.qualityFactor = 2, this.meshSize = 128, this._demMatrixCache = {}, this.coordsIndex = [], this._coordsTextureSize = 1024, this.clearRerenderCache();
        }
        getDEMElevation(s, c, h, g = o.EXTENT) {
          if (!(c >= 0 && c < g && h >= 0 && h < g))
            return this.elevationOffset;
          let x = 0;
          const M = this.getTerrainData(s);
          if (M.tile && M.tile.dem) {
            const A = o.transformMat4$1([], [c / g * o.EXTENT, h / g * o.EXTENT], M.u_terrain_matrix), I = [A[0] * M.tile.dem.dim, A[1] * M.tile.dem.dim], O = [Math.floor(I[0]), Math.floor(I[1])], z = M.tile.dem.get(O[0], O[1]), q = M.tile.dem.get(O[0], O[1] + 1), G = M.tile.dem.get(O[0] + 1, O[1]), ee = M.tile.dem.get(O[0] + 1, O[1] + 1);
            x = o.number(o.number(z, q, I[0] - O[0]), o.number(G, ee, I[0] - O[0]), I[1] - O[1]);
          }
          return x;
        }
        rememberForRerender(s, c) {
          for (const h in this.sourceCache._tiles) {
            const g = this.sourceCache._tiles[h];
            (g.tileID.equals(c) || g.tileID.isChildOf(c)) && (s === this.sourceCache.sourceCache.id && (g.timeLoaded = Date.now()), this._rerender[s] = this._rerender[s] || {}, this._rerender[s][g.tileID.key] = !0);
          }
        }
        needsRerender(s, c) {
          return this._rerender[s] && this._rerender[s][c.key];
        }
        clearRerenderCache() {
          this._rerender = {};
        }
        getElevation(s, c, h, g = o.EXTENT) {
          return (this.getDEMElevation(s, c, h, g) + this.elevationOffset) * this.exaggeration;
        }
        getTerrainData(s) {
          if (!this._emptyDemTexture) {
            const g = this.style.map.painter.context, x = new o.RGBAImage({ width: 1, height: 1 }, new Uint8Array(4));
            this._emptyDepthTexture = new j(g, x, g.gl.RGBA, { premultiply: !1 }), this._emptyDemUnpack = [0, 0, 0, 0], this._emptyDemTexture = new j(g, new o.RGBAImage({ width: 1, height: 1 }), g.gl.RGBA, { premultiply: !1 }), this._emptyDemTexture.bind(g.gl.NEAREST, g.gl.CLAMP_TO_EDGE), this._emptyDemMatrix = o.identity([]);
          }
          const c = this.sourceCache.getSourceTile(s, !0);
          if (c && c.dem && (!c.demTexture || c.needsTerrainPrepare)) {
            const g = this.style.map.painter.context;
            c.demTexture = this.style.map.painter.getTileTexture(c.dem.stride), c.demTexture ? c.demTexture.update(c.dem.getPixels(), { premultiply: !1 }) : c.demTexture = new j(g, c.dem.getPixels(), g.gl.RGBA, { premultiply: !1 }), c.demTexture.bind(g.gl.NEAREST, g.gl.CLAMP_TO_EDGE), c.needsTerrainPrepare = !1;
          }
          const h = c && c + c.tileID.key + s.key;
          if (h && !this._demMatrixCache[h]) {
            const g = this.sourceCache.sourceCache._source.maxzoom;
            let x = s.canonical.z - c.tileID.canonical.z;
            s.overscaledZ > s.canonical.z && (s.canonical.z >= g ? x = s.canonical.z - g : o.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));
            const M = s.canonical.x - (s.canonical.x >> x << x), A = s.canonical.y - (s.canonical.y >> x << x), I = o.fromScaling(new Float64Array(16), [1 / (o.EXTENT << x), 1 / (o.EXTENT << x), 0]);
            o.translate(I, I, [M * o.EXTENT, A * o.EXTENT, 0]), this._demMatrixCache[s.key] = { matrix: I, coord: s };
          }
          return { u_depth: 2, u_terrain: 3, u_terrain_dim: c && c.dem && c.dem.dim || 1, u_terrain_matrix: h ? this._demMatrixCache[s.key].matrix : this._emptyDemMatrix, u_terrain_unpack: c && c.dem && c.dem.getUnpackVector() || this._emptyDemUnpack, u_terrain_offset: this.elevationOffset, u_terrain_exaggeration: this.exaggeration, texture: (c && c.demTexture || this._emptyDemTexture).texture, depthTexture: (this._fboDepthTexture || this._emptyDepthTexture).texture, tile: c };
        }
        getRTTFramebuffer() {
          const s = this.style.map.painter;
          if (!this._rttFramebuffer) {
            const c = this.sourceCache.tileSize * this.qualityFactor;
            this._rttFramebuffer = s.context.createFramebuffer(c, c, !0), this._rttFramebuffer.depthAttachment.set(s.context.createRenderbuffer(s.context.gl.DEPTH_COMPONENT16, c, c));
          }
          return this._rttFramebuffer;
        }
        getFramebuffer(s) {
          const c = this.style.map.painter, h = c.width / devicePixelRatio, g = c.height / devicePixelRatio;
          return !this._fbo || this._fbo.width === h && this._fbo.height === g || (this._fbo.destroy(), this._fboCoordsTexture.destroy(), this._fboDepthTexture.destroy(), delete this._fbo, delete this._fboDepthTexture, delete this._fboCoordsTexture), this._fboCoordsTexture || (this._fboCoordsTexture = new j(c.context, { width: h, height: g, data: null }, c.context.gl.RGBA, { premultiply: !1 }), this._fboCoordsTexture.bind(c.context.gl.NEAREST, c.context.gl.CLAMP_TO_EDGE)), this._fboDepthTexture || (this._fboDepthTexture = new j(c.context, { width: h, height: g, data: null }, c.context.gl.RGBA, { premultiply: !1 }), this._fboDepthTexture.bind(c.context.gl.NEAREST, c.context.gl.CLAMP_TO_EDGE)), this._fbo || (this._fbo = c.context.createFramebuffer(h, g, !0), this._fbo.depthAttachment.set(c.context.createRenderbuffer(c.context.gl.DEPTH_COMPONENT16, h, g))), this._fbo.colorAttachment.set(s === "coords" ? this._fboCoordsTexture.texture : this._fboDepthTexture.texture), this._fbo;
        }
        getCoordsTexture() {
          const s = this.style.map.painter.context;
          if (this._coordsTexture)
            return this._coordsTexture;
          const c = new Uint8Array(this._coordsTextureSize * this._coordsTextureSize * 4);
          for (let x = 0, M = 0; x < this._coordsTextureSize; x++)
            for (let A = 0; A < this._coordsTextureSize; A++, M += 4)
              c[M + 0] = 255 & A, c[M + 1] = 255 & x, c[M + 2] = A >> 8 << 4 | x >> 8, c[M + 3] = 0;
          const h = new o.RGBAImage({ width: this._coordsTextureSize, height: this._coordsTextureSize }, new Uint8Array(c.buffer)), g = new j(s, h, s.gl.RGBA, { premultiply: !1 });
          return g.bind(s.gl.NEAREST, s.gl.CLAMP_TO_EDGE), this._coordsTexture = g, g;
        }
        pointCoordinate(s) {
          const c = new Uint8Array(4), h = this.style.map.painter, g = h.context, x = g.gl;
          g.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer), x.readPixels(s.x, h.height / devicePixelRatio - s.y - 1, 1, 1, x.RGBA, x.UNSIGNED_BYTE, c), g.bindFramebuffer.set(null);
          const M = c[0] + (c[2] >> 4 << 8), A = c[1] + ((15 & c[2]) << 8), I = this.coordsIndex[255 - c[3]], O = I && this.sourceCache.getTileByID(I);
          if (!O)
            return null;
          const z = this._coordsTextureSize, q = (1 << O.tileID.canonical.z) * z;
          return new o.MercatorCoordinate((O.tileID.canonical.x * z + M) / q, (O.tileID.canonical.y * z + A) / q, this.getElevation(O.tileID, M, A, z));
        }
        getTerrainMesh() {
          if (this._mesh)
            return this._mesh;
          const s = this.style.map.painter.context, c = new o.PosArray(), h = new o.TriangleIndexArray(), g = this.meshSize, x = o.EXTENT / g, M = g * g;
          for (let A = 0; A <= g; A++)
            for (let I = 0; I <= g; I++)
              c.emplaceBack(I * x, A * x);
          for (let A = 0; A < M; A += g + 1)
            for (let I = 0; I < g; I++)
              h.emplaceBack(I + A, g + I + A + 1, g + I + A + 2), h.emplaceBack(I + A, g + I + A + 2, I + A + 1);
          return this._mesh = { indexBuffer: s.createIndexBuffer(h), vertexBuffer: s.createVertexBuffer(c, Ut.members), segments: o.SegmentVector.simpleSegment(0, 0, c.length, h.length) }, this._mesh;
        }
        getMinMaxElevation(s) {
          const c = this.getTerrainData(s).tile, h = { minElevation: null, maxElevation: null };
          return c && c.dem && (h.minElevation = (c.dem.min + this.elevationOffset) * this.exaggeration, h.maxElevation = (c.dem.max + this.elevationOffset) * this.exaggeration), h;
        }
      }
      const Xt = (p, s) => o.emitValidationErrors(p, s && s.filter((c) => c.identifier !== "source.canvas")), ga = o.pick(zt, ["addLayer", "removeLayer", "setPaintProperty", "setLayoutProperty", "setFilter", "addSource", "removeSource", "setLayerZoomRange", "setLight", "setTransition", "setGeoJSONSourceData"]), Mi = o.pick(zt, ["setCenter", "setZoom", "setBearing", "setPitch"]), Wa = function() {
        const p = {}, s = o.spec.$version;
        for (const c in o.spec.$root) {
          const h = o.spec.$root[c];
          if (h.required) {
            let g = null;
            g = c === "version" ? s : h.type === "array" ? [] : {}, g != null && (p[c] = g);
          }
        }
        return p;
      }();
      class ji extends o.Evented {
        constructor(s, c = {}) {
          super(), this.map = s, this.dispatcher = new ke(Mn(), this), this.imageManager = new ie(), this.imageManager.setEventedParent(this), this.glyphManager = new we(s._requestManager, c.localIdeographFontFamily), this.lineAtlas = new We(256, 512), this.crossTileSymbolIndex = new ct(), this._layers = {}, this._serializedLayers = {}, this._order = [], this.sourceCaches = {}, this.zoomHistory = new o.ZoomHistory(), this._loaded = !1, this._availableImages = [], this._resetUpdates(), this.dispatcher.broadcast("setReferrer", o.getReferrer());
          const h = this;
          this._rtlTextPluginCallback = ji.registerForPluginStateChange((g) => {
            h.dispatcher.broadcast("syncRTLPluginState", { pluginStatus: g.pluginStatus, pluginURL: g.pluginURL }, (x, M) => {
              if (o.triggerPluginCompletionEvent(x), M && M.every((A) => A))
                for (const A in h.sourceCaches)
                  h.sourceCaches[A].reload();
            });
          }), this.on("data", (g) => {
            if (g.dataType !== "source" || g.sourceDataType !== "metadata")
              return;
            const x = this.sourceCaches[g.sourceId];
            if (!x)
              return;
            const M = x.getSource();
            if (M && M.vectorLayerIds)
              for (const A in this._layers) {
                const I = this._layers[A];
                I.source === M.id && this._validateLayer(I);
              }
          });
        }
        loadURL(s, c = {}) {
          this.fire(new o.Event("dataloading", { dataType: "style" }));
          const h = typeof c.validate != "boolean" || c.validate, g = this.map._requestManager.transformRequest(s, o.ResourceType.Style);
          this._request = o.getJSON(g, (x, M) => {
            this._request = null, x ? this.fire(new o.ErrorEvent(x)) : M && this._load(M, h);
          });
        }
        loadJSON(s, c = {}) {
          this.fire(new o.Event("dataloading", { dataType: "style" })), this._request = o.exported.frame(() => {
            this._request = null, this._load(s, c.validate !== !1);
          });
        }
        loadEmpty() {
          this.fire(new o.Event("dataloading", { dataType: "style" })), this._load(Wa, !1);
        }
        _load(s, c) {
          if (c && Xt(this, o.validateStyle(s)))
            return;
          this._loaded = !0, this.stylesheet = s;
          for (const g in s.sources)
            this.addSource(g, s.sources[g], { validate: !1 });
          s.sprite ? this._loadSprite(s.sprite) : this.imageManager.setLoaded(!0), this.glyphManager.setURL(s.glyphs);
          const h = _n(this.stylesheet.layers);
          this._order = h.map((g) => g.id), this._layers = {}, this._serializedLayers = {};
          for (let g of h)
            g = o.createStyleLayer(g), g.setEventedParent(this, { layer: { id: g.id } }), this._layers[g.id] = g, this._serializedLayers[g.id] = g.serialize();
          this.dispatcher.broadcast("setLayers", this._serializeLayers(this._order)), this.light = new Fe(this.stylesheet.light), this.setTerrain(this.stylesheet.terrain), this.fire(new o.Event("data", { dataType: "style" })), this.fire(new o.Event("style.load"));
        }
        _loadSprite(s) {
          this._spriteRequest = function(c, h, g, x) {
            let M, A, I;
            const O = g > 1 ? "@2x" : "";
            let z = o.getJSON(h.transformRequest(h.normalizeSpriteURL(c, O, ".json"), o.ResourceType.SpriteJSON), (ee, K) => {
              z = null, I || (I = ee, M = K, G());
            }), q = o.getImage(h.transformRequest(h.normalizeSpriteURL(c, O, ".png"), o.ResourceType.SpriteImage), (ee, K) => {
              q = null, I || (I = ee, A = K, G());
            });
            function G() {
              if (I)
                x(I);
              else if (M && A) {
                const ee = o.exported.getImageData(A), K = {};
                for (const Y in M) {
                  const { width: ue, height: pe, x: ve, y: te, sdf: Se, pixelRatio: be, stretchX: Ie, stretchY: Pe, content: Ne } = M[Y], Ce = new o.RGBAImage({ width: ue, height: pe });
                  o.RGBAImage.copy(ee, Ce, { x: ve, y: te }, { x: 0, y: 0 }, { width: ue, height: pe }), K[Y] = { data: Ce, pixelRatio: be, sdf: Se, stretchX: Ie, stretchY: Pe, content: Ne };
                }
                x(null, K);
              }
            }
            return { cancel() {
              z && (z.cancel(), z = null), q && (q.cancel(), q = null);
            } };
          }(s, this.map._requestManager, this.map.getPixelRatio(), (c, h) => {
            if (this._spriteRequest = null, c)
              this.fire(new o.ErrorEvent(c));
            else if (h)
              for (const g in h)
                this.imageManager.addImage(g, h[g]);
            this.imageManager.setLoaded(!0), this._availableImages = this.imageManager.listImages(), this.dispatcher.broadcast("setImages", this._availableImages), this.fire(new o.Event("data", { dataType: "style" }));
          });
        }
        _validateLayer(s) {
          const c = this.sourceCaches[s.source];
          if (!c)
            return;
          const h = s.sourceLayer;
          if (!h)
            return;
          const g = c.getSource();
          (g.type === "geojson" || g.vectorLayerIds && g.vectorLayerIds.indexOf(h) === -1) && this.fire(new o.ErrorEvent(new Error(`Source layer "${h}" does not exist on source "${g.id}" as specified by style layer "${s.id}".`)));
        }
        loaded() {
          if (!this._loaded || Object.keys(this._updatedSources).length)
            return !1;
          for (const s in this.sourceCaches)
            if (!this.sourceCaches[s].loaded())
              return !1;
          return !!this.imageManager.isLoaded();
        }
        _serializeLayers(s) {
          const c = [];
          for (const h of s) {
            const g = this._layers[h];
            g.type !== "custom" && c.push(g.serialize());
          }
          return c;
        }
        hasTransitions() {
          if (this.light && this.light.hasTransition())
            return !0;
          for (const s in this.sourceCaches)
            if (this.sourceCaches[s].hasTransition())
              return !0;
          for (const s in this._layers)
            if (this._layers[s].hasTransition())
              return !0;
          return !1;
        }
        _checkLoaded() {
          if (!this._loaded)
            throw new Error("Style is not done loading.");
        }
        update(s) {
          if (!this._loaded)
            return;
          const c = this._changed;
          if (this._changed) {
            const g = Object.keys(this._updatedLayers), x = Object.keys(this._removedLayers);
            (g.length || x.length) && this._updateWorkerLayers(g, x);
            for (const M in this._updatedSources) {
              const A = this._updatedSources[M];
              if (A === "reload")
                this._reloadSource(M);
              else {
                if (A !== "clear")
                  throw new Error(`Invalid action ${A}`);
                this._clearSource(M);
              }
            }
            this._updateTilesForChangedImages();
            for (const M in this._updatedPaintProps)
              this._layers[M].updateTransitions(s);
            this.light.updateTransitions(s), this._resetUpdates();
          }
          const h = {};
          for (const g in this.sourceCaches) {
            const x = this.sourceCaches[g];
            h[g] = x.used, x.used = !1;
          }
          for (const g of this._order) {
            const x = this._layers[g];
            x.recalculate(s, this._availableImages), !x.isHidden(s.zoom) && x.source && (this.sourceCaches[x.source].used = !0);
          }
          for (const g in h) {
            const x = this.sourceCaches[g];
            h[g] !== x.used && x.fire(new o.Event("data", { sourceDataType: "visibility", dataType: "source", sourceId: g }));
          }
          this.light.recalculate(s), this.z = s.zoom, c && this.fire(new o.Event("data", { dataType: "style" }));
        }
        _updateTilesForChangedImages() {
          const s = Object.keys(this._changedImages);
          if (s.length) {
            for (const c in this.sourceCaches)
              this.sourceCaches[c].reloadTilesForDependencies(["icons", "patterns"], s);
            this._changedImages = {};
          }
        }
        _updateWorkerLayers(s, c) {
          this.dispatcher.broadcast("updateLayers", { layers: this._serializeLayers(s), removedIds: c });
        }
        _resetUpdates() {
          this._changed = !1, this._updatedLayers = {}, this._removedLayers = {}, this._updatedSources = {}, this._updatedPaintProps = {}, this._changedImages = {};
        }
        setTerrain(s) {
          if (this._checkLoaded(), this._terrainDataCallback && this.off("data", this._terrainDataCallback), this._terrainfreezeElevationCallback && this.map.off("freezeElevation", this._terrainfreezeElevationCallback), s) {
            const c = this.sourceCaches[s.source];
            if (!c)
              throw new Error(`cannot load terrain, because there exists no source with ID: ${s.source}`);
            this.terrain = new Ct(this, c, s), this.map.transform.updateElevation(this.terrain), this._terrainfreezeElevationCallback = (h) => {
              h.freeze ? this.map.transform.freezeElevation = !0 : (this.map.transform.freezeElevation = !1, this.map.transform.recalculateZoom(this.terrain));
            }, this._terrainDataCallback = (h) => {
              h.tile && (h.sourceId === s.source ? (this.map.transform.updateElevation(this.terrain), this.terrain.rememberForRerender(h.sourceId, h.tile.tileID)) : h.source.type === "geojson" && this.terrain.rememberForRerender(h.sourceId, h.tile.tileID));
            }, this.on("data", this._terrainDataCallback), this.map.on("freezeElevation", this._terrainfreezeElevationCallback);
          } else
            this.terrain && this.terrain.sourceCache.destruct(), this.terrain = null, this.map.transform.updateElevation(this.terrain);
          this.map.fire(new o.Event("terrain", { terrain: s }));
        }
        setState(s) {
          if (this._checkLoaded(), Xt(this, o.validateStyle(s)))
            return !1;
          (s = o.clone$1(s)).layers = _n(s.layers);
          const c = function(g, x) {
            if (!g)
              return [{ command: zt.setStyle, args: [x] }];
            let M = [];
            try {
              if (!T(g.version, x.version))
                return [{ command: zt.setStyle, args: [x] }];
              T(g.center, x.center) || M.push({ command: zt.setCenter, args: [x.center] }), T(g.zoom, x.zoom) || M.push({ command: zt.setZoom, args: [x.zoom] }), T(g.bearing, x.bearing) || M.push({ command: zt.setBearing, args: [x.bearing] }), T(g.pitch, x.pitch) || M.push({ command: zt.setPitch, args: [x.pitch] }), T(g.sprite, x.sprite) || M.push({ command: zt.setSprite, args: [x.sprite] }), T(g.glyphs, x.glyphs) || M.push({ command: zt.setGlyphs, args: [x.glyphs] }), T(g.transition, x.transition) || M.push({ command: zt.setTransition, args: [x.transition] }), T(g.light, x.light) || M.push({ command: zt.setLight, args: [x.light] });
              const A = {}, I = [];
              (function(z, q, G, ee) {
                let K;
                for (K in q = q || {}, z = z || {})
                  Object.prototype.hasOwnProperty.call(z, K) && (Object.prototype.hasOwnProperty.call(q, K) || En(K, G, ee));
                for (K in q)
                  Object.prototype.hasOwnProperty.call(q, K) && (Object.prototype.hasOwnProperty.call(z, K) ? T(z[K], q[K]) || (z[K].type === "geojson" && q[K].type === "geojson" && nr(z, q, K) ? G.push({ command: zt.setGeoJSONSourceData, args: [K, q[K].data] }) : Ln(K, q, G, ee)) : wi(K, q, G));
              })(g.sources, x.sources, I, A);
              const O = [];
              g.layers && g.layers.forEach((z) => {
                A[z.source] ? M.push({ command: zt.removeLayer, args: [z.id] }) : O.push(z);
              }), M = M.concat(I), function(z, q, G) {
                q = q || [];
                const ee = (z = z || []).map(mi), K = q.map(mi), Y = z.reduce(en, {}), ue = q.reduce(en, {}), pe = ee.slice(), ve = /* @__PURE__ */ Object.create(null);
                let te, Se, be, Ie, Pe, Ne, Ce;
                for (te = 0, Se = 0; te < ee.length; te++)
                  be = ee[te], Object.prototype.hasOwnProperty.call(ue, be) ? Se++ : (G.push({ command: zt.removeLayer, args: [be] }), pe.splice(pe.indexOf(be, Se), 1));
                for (te = 0, Se = 0; te < K.length; te++)
                  be = K[K.length - 1 - te], pe[pe.length - 1 - te] !== be && (Object.prototype.hasOwnProperty.call(Y, be) ? (G.push({ command: zt.removeLayer, args: [be] }), pe.splice(pe.lastIndexOf(be, pe.length - Se), 1)) : Se++, Ne = pe[pe.length - te], G.push({ command: zt.addLayer, args: [ue[be], Ne] }), pe.splice(pe.length - te, 0, be), ve[be] = !0);
                for (te = 0; te < K.length; te++)
                  if (be = K[te], Ie = Y[be], Pe = ue[be], !ve[be] && !T(Ie, Pe))
                    if (T(Ie.source, Pe.source) && T(Ie["source-layer"], Pe["source-layer"]) && T(Ie.type, Pe.type)) {
                      for (Ce in Si(Ie.layout, Pe.layout, G, be, null, zt.setLayoutProperty), Si(Ie.paint, Pe.paint, G, be, null, zt.setPaintProperty), T(Ie.filter, Pe.filter) || G.push({ command: zt.setFilter, args: [be, Pe.filter] }), T(Ie.minzoom, Pe.minzoom) && T(Ie.maxzoom, Pe.maxzoom) || G.push({ command: zt.setLayerZoomRange, args: [be, Pe.minzoom, Pe.maxzoom] }), Ie)
                        Object.prototype.hasOwnProperty.call(Ie, Ce) && Ce !== "layout" && Ce !== "paint" && Ce !== "filter" && Ce !== "metadata" && Ce !== "minzoom" && Ce !== "maxzoom" && (Ce.indexOf("paint.") === 0 ? Si(Ie[Ce], Pe[Ce], G, be, Ce.slice(6), zt.setPaintProperty) : T(Ie[Ce], Pe[Ce]) || G.push({ command: zt.setLayerProperty, args: [be, Ce, Pe[Ce]] }));
                      for (Ce in Pe)
                        Object.prototype.hasOwnProperty.call(Pe, Ce) && !Object.prototype.hasOwnProperty.call(Ie, Ce) && Ce !== "layout" && Ce !== "paint" && Ce !== "filter" && Ce !== "metadata" && Ce !== "minzoom" && Ce !== "maxzoom" && (Ce.indexOf("paint.") === 0 ? Si(Ie[Ce], Pe[Ce], G, be, Ce.slice(6), zt.setPaintProperty) : T(Ie[Ce], Pe[Ce]) || G.push({ command: zt.setLayerProperty, args: [be, Ce, Pe[Ce]] }));
                    } else
                      G.push({ command: zt.removeLayer, args: [be] }), Ne = pe[pe.lastIndexOf(be) + 1], G.push({ command: zt.addLayer, args: [Pe, Ne] });
              }(O, x.layers, M);
            } catch (A) {
              console.warn("Unable to compute style diff:", A), M = [{ command: zt.setStyle, args: [x] }];
            }
            return M;
          }(this.serialize(), s).filter((g) => !(g.command in Mi));
          if (c.length === 0)
            return !1;
          const h = c.filter((g) => !(g.command in ga));
          if (h.length > 0)
            throw new Error(`Unimplemented: ${h.map((g) => g.command).join(", ")}.`);
          return c.forEach((g) => {
            g.command !== "setTransition" && this[g.command].apply(this, g.args);
          }), this.stylesheet = s, !0;
        }
        addImage(s, c) {
          if (this.getImage(s))
            return this.fire(new o.ErrorEvent(new Error(`An image named "${s}" already exists.`)));
          this.imageManager.addImage(s, c), this._afterImageUpdated(s);
        }
        updateImage(s, c) {
          this.imageManager.updateImage(s, c);
        }
        getImage(s) {
          return this.imageManager.getImage(s);
        }
        removeImage(s) {
          if (!this.getImage(s))
            return this.fire(new o.ErrorEvent(new Error(`An image named "${s}" does not exist.`)));
          this.imageManager.removeImage(s), this._afterImageUpdated(s);
        }
        _afterImageUpdated(s) {
          this._availableImages = this.imageManager.listImages(), this._changedImages[s] = !0, this._changed = !0, this.dispatcher.broadcast("setImages", this._availableImages), this.fire(new o.Event("data", { dataType: "style" }));
        }
        listImages() {
          return this._checkLoaded(), this.imageManager.listImages();
        }
        addSource(s, c, h = {}) {
          if (this._checkLoaded(), this.sourceCaches[s] !== void 0)
            throw new Error(`Source "${s}" already exists.`);
          if (!c.type)
            throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(c).join(", ")}.`);
          if (["vector", "raster", "geojson", "video", "image"].indexOf(c.type) >= 0 && this._validate(o.validateStyle.source, `sources.${s}`, c, null, h))
            return;
          this.map && this.map._collectResourceTiming && (c.collectResourceTiming = !0);
          const g = this.sourceCaches[s] = new ja(s, c, this.dispatcher);
          g.style = this, g.setEventedParent(this, () => ({ isSourceLoaded: this.loaded(), source: g.serialize(), sourceId: s })), g.onAdd(this.map), this._changed = !0;
        }
        removeSource(s) {
          if (this._checkLoaded(), this.sourceCaches[s] === void 0)
            throw new Error("There is no source with this ID");
          for (const h in this._layers)
            if (this._layers[h].source === s)
              return this.fire(new o.ErrorEvent(new Error(`Source "${s}" cannot be removed while layer "${h}" is using it.`)));
          const c = this.sourceCaches[s];
          delete this.sourceCaches[s], delete this._updatedSources[s], c.fire(new o.Event("data", { sourceDataType: "metadata", dataType: "source", sourceId: s })), c.setEventedParent(null), c.onRemove(this.map), this._changed = !0;
        }
        setGeoJSONSourceData(s, c) {
          if (this._checkLoaded(), this.sourceCaches[s] === void 0)
            throw new Error(`There is no source with this ID=${s}`);
          const h = this.sourceCaches[s].getSource();
          if (h.type !== "geojson")
            throw new Error(`geojsonSource.type is ${h.type}, which is !== 'geojson`);
          h.setData(c), this._changed = !0;
        }
        getSource(s) {
          return this.sourceCaches[s] && this.sourceCaches[s].getSource();
        }
        addLayer(s, c, h = {}) {
          this._checkLoaded();
          const g = s.id;
          if (this.getLayer(g))
            return void this.fire(new o.ErrorEvent(new Error(`Layer "${g}" already exists on this map.`)));
          let x;
          if (s.type === "custom") {
            if (Xt(this, o.validateCustomStyleLayer(s)))
              return;
            x = o.createStyleLayer(s);
          } else {
            if (typeof s.source == "object" && (this.addSource(g, s.source), s = o.clone$1(s), s = o.extend(s, { source: g })), this._validate(o.validateStyle.layer, `layers.${g}`, s, { arrayIndex: -1 }, h))
              return;
            x = o.createStyleLayer(s), this._validateLayer(x), x.setEventedParent(this, { layer: { id: g } }), this._serializedLayers[x.id] = x.serialize();
          }
          const M = c ? this._order.indexOf(c) : this._order.length;
          if (c && M === -1)
            this.fire(new o.ErrorEvent(new Error(`Cannot add layer "${g}" before non-existing layer "${c}".`)));
          else {
            if (this._order.splice(M, 0, g), this._layerOrderChanged = !0, this._layers[g] = x, this._removedLayers[g] && x.source && x.type !== "custom") {
              const A = this._removedLayers[g];
              delete this._removedLayers[g], A.type !== x.type ? this._updatedSources[x.source] = "clear" : (this._updatedSources[x.source] = "reload", this.sourceCaches[x.source].pause());
            }
            this._updateLayer(x), x.onAdd && x.onAdd(this.map);
          }
        }
        moveLayer(s, c) {
          if (this._checkLoaded(), this._changed = !0, !this._layers[s])
            return void this.fire(new o.ErrorEvent(new Error(`The layer '${s}' does not exist in the map's style and cannot be moved.`)));
          if (s === c)
            return;
          const h = this._order.indexOf(s);
          this._order.splice(h, 1);
          const g = c ? this._order.indexOf(c) : this._order.length;
          c && g === -1 ? this.fire(new o.ErrorEvent(new Error(`Cannot move layer "${s}" before non-existing layer "${c}".`))) : (this._order.splice(g, 0, s), this._layerOrderChanged = !0);
        }
        removeLayer(s) {
          this._checkLoaded();
          const c = this._layers[s];
          if (!c)
            return void this.fire(new o.ErrorEvent(new Error(`Cannot remove non-existing layer "${s}".`)));
          c.setEventedParent(null);
          const h = this._order.indexOf(s);
          this._order.splice(h, 1), this._layerOrderChanged = !0, this._changed = !0, this._removedLayers[s] = c, delete this._layers[s], delete this._serializedLayers[s], delete this._updatedLayers[s], delete this._updatedPaintProps[s], c.onRemove && c.onRemove(this.map);
        }
        getLayer(s) {
          return this._layers[s];
        }
        hasLayer(s) {
          return s in this._layers;
        }
        setLayerZoomRange(s, c, h) {
          this._checkLoaded();
          const g = this.getLayer(s);
          g ? g.minzoom === c && g.maxzoom === h || (c != null && (g.minzoom = c), h != null && (g.maxzoom = h), this._updateLayer(g)) : this.fire(new o.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${s}".`)));
        }
        setFilter(s, c, h = {}) {
          this._checkLoaded();
          const g = this.getLayer(s);
          if (g) {
            if (!T(g.filter, c))
              return c == null ? (g.filter = void 0, void this._updateLayer(g)) : void (this._validate(o.validateStyle.filter, `layers.${g.id}.filter`, c, null, h) || (g.filter = o.clone$1(c), this._updateLayer(g)));
          } else
            this.fire(new o.ErrorEvent(new Error(`Cannot filter non-existing layer "${s}".`)));
        }
        getFilter(s) {
          return o.clone$1(this.getLayer(s).filter);
        }
        setLayoutProperty(s, c, h, g = {}) {
          this._checkLoaded();
          const x = this.getLayer(s);
          x ? T(x.getLayoutProperty(c), h) || (x.setLayoutProperty(c, h, g), this._updateLayer(x)) : this.fire(new o.ErrorEvent(new Error(`Cannot style non-existing layer "${s}".`)));
        }
        getLayoutProperty(s, c) {
          const h = this.getLayer(s);
          if (h)
            return h.getLayoutProperty(c);
          this.fire(new o.ErrorEvent(new Error(`Cannot get style of non-existing layer "${s}".`)));
        }
        setPaintProperty(s, c, h, g = {}) {
          this._checkLoaded();
          const x = this.getLayer(s);
          x ? T(x.getPaintProperty(c), h) || (x.setPaintProperty(c, h, g) && this._updateLayer(x), this._changed = !0, this._updatedPaintProps[s] = !0) : this.fire(new o.ErrorEvent(new Error(`Cannot style non-existing layer "${s}".`)));
        }
        getPaintProperty(s, c) {
          return this.getLayer(s).getPaintProperty(c);
        }
        setFeatureState(s, c) {
          this._checkLoaded();
          const h = s.source, g = s.sourceLayer, x = this.sourceCaches[h];
          if (x === void 0)
            return void this.fire(new o.ErrorEvent(new Error(`The source '${h}' does not exist in the map's style.`)));
          const M = x.getSource().type;
          M === "geojson" && g ? this.fire(new o.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))) : M !== "vector" || g ? (s.id === void 0 && this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))), x.setFeatureState(g, s.id, c)) : this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));
        }
        removeFeatureState(s, c) {
          this._checkLoaded();
          const h = s.source, g = this.sourceCaches[h];
          if (g === void 0)
            return void this.fire(new o.ErrorEvent(new Error(`The source '${h}' does not exist in the map's style.`)));
          const x = g.getSource().type, M = x === "vector" ? s.sourceLayer : void 0;
          x !== "vector" || M ? c && typeof s.id != "string" && typeof s.id != "number" ? this.fire(new o.ErrorEvent(new Error("A feature id is required to remove its specific state property."))) : g.removeFeatureState(M, s.id, c) : this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));
        }
        getFeatureState(s) {
          this._checkLoaded();
          const c = s.source, h = s.sourceLayer, g = this.sourceCaches[c];
          if (g !== void 0)
            return g.getSource().type !== "vector" || h ? (s.id === void 0 && this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))), g.getFeatureState(h, s.id)) : void this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));
          this.fire(new o.ErrorEvent(new Error(`The source '${c}' does not exist in the map's style.`)));
        }
        getTransition() {
          return o.extend({ duration: 300, delay: 0 }, this.stylesheet && this.stylesheet.transition);
        }
        serialize() {
          return o.filterObject({ version: this.stylesheet.version, name: this.stylesheet.name, metadata: this.stylesheet.metadata, light: this.stylesheet.light, center: this.stylesheet.center, zoom: this.stylesheet.zoom, bearing: this.stylesheet.bearing, pitch: this.stylesheet.pitch, sprite: this.stylesheet.sprite, glyphs: this.stylesheet.glyphs, transition: this.stylesheet.transition, sources: o.mapObject(this.sourceCaches, (s) => s.serialize()), layers: this._serializeLayers(this._order) }, (s) => s !== void 0);
        }
        _updateLayer(s) {
          this._updatedLayers[s.id] = !0, s.source && !this._updatedSources[s.source] && this.sourceCaches[s.source].getSource().type !== "raster" && (this._updatedSources[s.source] = "reload", this.sourceCaches[s.source].pause()), this._changed = !0;
        }
        _flattenAndSortRenderedFeatures(s) {
          const c = (M) => this._layers[M].type === "fill-extrusion", h = {}, g = [];
          for (let M = this._order.length - 1; M >= 0; M--) {
            const A = this._order[M];
            if (c(A)) {
              h[A] = M;
              for (const I of s) {
                const O = I[A];
                if (O)
                  for (const z of O)
                    g.push(z);
              }
            }
          }
          g.sort((M, A) => A.intersectionZ - M.intersectionZ);
          const x = [];
          for (let M = this._order.length - 1; M >= 0; M--) {
            const A = this._order[M];
            if (c(A))
              for (let I = g.length - 1; I >= 0; I--) {
                const O = g[I].feature;
                if (h[O.layer.id] < M)
                  break;
                x.push(O), g.pop();
              }
            else
              for (const I of s) {
                const O = I[A];
                if (O)
                  for (const z of O)
                    x.push(z.feature);
              }
          }
          return x;
        }
        queryRenderedFeatures(s, c, h) {
          c && c.filter && this._validate(o.validateStyle.filter, "queryRenderedFeatures.filter", c.filter, null, c);
          const g = {};
          if (c && c.layers) {
            if (!Array.isArray(c.layers))
              return this.fire(new o.ErrorEvent(new Error("parameters.layers must be an Array."))), [];
            for (const M of c.layers) {
              const A = this._layers[M];
              if (!A)
                return this.fire(new o.ErrorEvent(new Error(`The layer '${M}' does not exist in the map's style and cannot be queried for features.`))), [];
              g[A.source] = !0;
            }
          }
          const x = [];
          c.availableImages = this._availableImages;
          for (const M in this.sourceCaches)
            c.layers && !g[M] || x.push(Gt(this.sourceCaches[M], this._layers, this._serializedLayers, s, c, h));
          return this.placement && x.push(function(M, A, I, O, z, q, G) {
            const ee = {}, K = q.queryRenderedSymbols(O), Y = [];
            for (const ue of Object.keys(K).map(Number))
              Y.push(G[ue]);
            Y.sort(kt);
            for (const ue of Y) {
              const pe = ue.featureIndex.lookupSymbolFeatures(K[ue.bucketInstanceId], A, ue.bucketIndex, ue.sourceLayerIndex, z.filter, z.layers, z.availableImages, M);
              for (const ve in pe) {
                const te = ee[ve] = ee[ve] || [], Se = pe[ve];
                Se.sort((be, Ie) => {
                  const Pe = ue.featureSortOrder;
                  if (Pe) {
                    const Ne = Pe.indexOf(be.featureIndex);
                    return Pe.indexOf(Ie.featureIndex) - Ne;
                  }
                  return Ie.featureIndex - be.featureIndex;
                });
                for (const be of Se)
                  te.push(be);
              }
            }
            for (const ue in ee)
              ee[ue].forEach((pe) => {
                const ve = pe.feature, te = I[M[ue].source].getFeatureState(ve.layer["source-layer"], ve.id);
                ve.source = ve.layer.source, ve.layer["source-layer"] && (ve.sourceLayer = ve.layer["source-layer"]), ve.state = te;
              });
            return ee;
          }(this._layers, this._serializedLayers, this.sourceCaches, s, c, this.placement.collisionIndex, this.placement.retainedQueryData)), this._flattenAndSortRenderedFeatures(x);
        }
        querySourceFeatures(s, c) {
          c && c.filter && this._validate(o.validateStyle.filter, "querySourceFeatures.filter", c.filter, null, c);
          const h = this.sourceCaches[s];
          return h ? function(g, x) {
            const M = g.getRenderableIds().map((O) => g.getTileByID(O)), A = [], I = {};
            for (let O = 0; O < M.length; O++) {
              const z = M[O], q = z.tileID.canonical.key;
              I[q] || (I[q] = !0, z.querySourceFeatures(A, x));
            }
            return A;
          }(h, c) : [];
        }
        addSourceType(s, c, h) {
          return ji.getSourceType(s) ? h(new Error(`A source type called "${s}" already exists.`)) : (ji.setSourceType(s, c), c.workerSourceURL ? void this.dispatcher.broadcast("loadWorkerSource", { name: s, url: c.workerSourceURL }, h) : h(null, null));
        }
        getLight() {
          return this.light.getLight();
        }
        setLight(s, c = {}) {
          this._checkLoaded();
          const h = this.light.getLight();
          let g = !1;
          for (const M in s)
            if (!T(s[M], h[M])) {
              g = !0;
              break;
            }
          if (!g)
            return;
          const x = { now: o.exported.now(), transition: o.extend({ duration: 300, delay: 0 }, this.stylesheet.transition) };
          this.light.setLight(s, c), this.light.updateTransitions(x);
        }
        _validate(s, c, h, g, x = {}) {
          return (!x || x.validate !== !1) && Xt(this, s.call(o.validateStyle, o.extend({ key: c, style: this.serialize(), value: h, styleSpec: o.spec }, g)));
        }
        _remove() {
          this._request && (this._request.cancel(), this._request = null), this._spriteRequest && (this._spriteRequest.cancel(), this._spriteRequest = null), o.evented.off("pluginStateChange", this._rtlTextPluginCallback);
          for (const s in this._layers)
            this._layers[s].setEventedParent(null);
          for (const s in this.sourceCaches) {
            const c = this.sourceCaches[s];
            c.setEventedParent(null), c.onRemove(this.map);
          }
          this.imageManager.setEventedParent(null), this.setEventedParent(null), this.dispatcher.remove();
        }
        _clearSource(s) {
          this.sourceCaches[s].clearTiles();
        }
        _reloadSource(s) {
          this.sourceCaches[s].resume(), this.sourceCaches[s].reload();
        }
        _updateSources(s) {
          for (const c in this.sourceCaches)
            this.sourceCaches[c].update(s, this.terrain);
        }
        _generateCollisionBoxes() {
          for (const s in this.sourceCaches)
            this._reloadSource(s);
        }
        _updatePlacement(s, c, h, g, x = !1) {
          let M = !1, A = !1;
          const I = {};
          for (const O of this._order) {
            const z = this._layers[O];
            if (z.type !== "symbol")
              continue;
            if (!I[z.source]) {
              const G = this.sourceCaches[z.source];
              I[z.source] = G.getRenderableIds(!0).map((ee) => G.getTileByID(ee)).sort((ee, K) => K.tileID.overscaledZ - ee.tileID.overscaledZ || (ee.tileID.isLessThan(K.tileID) ? -1 : 1));
            }
            const q = this.crossTileSymbolIndex.addLayer(z, I[z.source], s.center.lng);
            M = M || q;
          }
          if (this.crossTileSymbolIndex.pruneUnusedLayers(this._order), ((x = x || this._layerOrderChanged || h === 0) || !this.pauseablePlacement || this.pauseablePlacement.isDone() && !this.placement.stillRecent(o.exported.now(), s.zoom)) && (this.pauseablePlacement = new oe(s, this.terrain, this._order, x, c, h, g, this.placement), this._layerOrderChanged = !1), this.pauseablePlacement.isDone() ? this.placement.setStale() : (this.pauseablePlacement.continuePlacement(this._order, this._layers, I), this.pauseablePlacement.isDone() && (this.placement = this.pauseablePlacement.commit(o.exported.now()), A = !0), M && this.pauseablePlacement.placement.setStale()), A || M)
            for (const O of this._order) {
              const z = this._layers[O];
              z.type === "symbol" && this.placement.updateLayerOpacities(z, I[z.source]);
            }
          return !this.pauseablePlacement.isDone() || this.placement.hasTransitions(o.exported.now());
        }
        _releaseSymbolFadeTiles() {
          for (const s in this.sourceCaches)
            this.sourceCaches[s].releaseSymbolFadeTiles();
        }
        getImages(s, c, h) {
          this.imageManager.getImages(c.icons, h), this._updateTilesForChangedImages();
          const g = this.sourceCaches[c.source];
          g && g.setDependencies(c.tileID.key, c.type, c.icons);
        }
        getGlyphs(s, c, h) {
          this.glyphManager.getGlyphs(c.stacks, h);
        }
        getResource(s, c, h) {
          return o.makeRequest(c, h);
        }
      }
      ji.getSourceType = function(p) {
        return $t[p];
      }, ji.setSourceType = function(p, s) {
        $t[p] = s;
      }, ji.registerForPluginStateChange = o.registerForPluginStateChange;
      var io = "attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";
      const Jo = { prelude: va(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`, `#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`), background: va(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, "attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"), backgroundPattern: va(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, "uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"), circle: va(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`), clippingMask: va("void main() {gl_FragColor=vec4(1.0);}", "attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"), heatmap: va(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`), heatmapTexture: va(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`, "uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"), collisionBox: va("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}", "attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"), collisionCircle: va("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}", "attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"), debug: va("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}", "attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"), fill: va(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`), fillOutline: va(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`), fillOutlinePattern: va(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`), fillPattern: va(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`), fillExtrusion: va(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`), fillExtrusionPattern: va(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`), hillshadePrepare: va(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, "uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"), hillshade: va(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, "uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"), line: va(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`), lineGradient: va(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`), linePattern: va(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`), lineSDF: va(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`), raster: va(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, "uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"), symbolIcon: va(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`), symbolSDF: va(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`), symbolTextAndIcon: va(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`, `const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`), terrain: va("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}", io), terrainDepth: va("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}", io), terrainCoords: va("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}", io) };
      function va(p, s) {
        const c = /#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g, h = s.match(/attribute ([\w]+) ([\w]+)/g), g = p.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g), x = s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g), M = x ? x.concat(g) : g, A = {};
        return { fragmentSource: p = p.replace(c, (I, O, z, q, G) => (A[G] = !0, O === "define" ? `
#ifndef HAS_UNIFORM_u_${G}
varying ${z} ${q} ${G};
#else
uniform ${z} ${q} u_${G};
#endif
` : `
#ifdef HAS_UNIFORM_u_${G}
    ${z} ${q} ${G} = u_${G};
#endif
`)), vertexSource: s = s.replace(c, (I, O, z, q, G) => {
          const ee = q === "float" ? "vec2" : "vec4", K = G.match(/color/) ? "color" : ee;
          return A[G] ? O === "define" ? `
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
attribute ${z} ${ee} a_${G};
varying ${z} ${q} ${G};
#else
uniform ${z} ${q} u_${G};
#endif
` : K === "vec4" ? `
#ifndef HAS_UNIFORM_u_${G}
    ${G} = a_${G};
#else
    ${z} ${q} ${G} = u_${G};
#endif
` : `
#ifndef HAS_UNIFORM_u_${G}
    ${G} = unpack_mix_${K}(a_${G}, u_${G}_t);
#else
    ${z} ${q} ${G} = u_${G};
#endif
` : O === "define" ? `
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
attribute ${z} ${ee} a_${G};
#else
uniform ${z} ${q} u_${G};
#endif
` : K === "vec4" ? `
#ifndef HAS_UNIFORM_u_${G}
    ${z} ${q} ${G} = a_${G};
#else
    ${z} ${q} ${G} = u_${G};
#endif
` : `
#ifndef HAS_UNIFORM_u_${G}
    ${z} ${q} ${G} = unpack_mix_${K}(a_${G}, u_${G}_t);
#else
    ${z} ${q} ${G} = u_${G};
#endif
`;
        }), staticAttributes: h, staticUniforms: M };
      }
      class hd {
        constructor() {
          this.boundProgram = null, this.boundLayoutVertexBuffer = null, this.boundPaintVertexBuffers = [], this.boundIndexBuffer = null, this.boundVertexOffset = null, this.boundDynamicVertexBuffer = null, this.vao = null;
        }
        bind(s, c, h, g, x, M, A, I, O) {
          this.context = s;
          let z = this.boundPaintVertexBuffers.length !== g.length;
          for (let q = 0; !z && q < g.length; q++)
            this.boundPaintVertexBuffers[q] !== g[q] && (z = !0);
          s.extVertexArrayObject && this.vao && this.boundProgram === c && this.boundLayoutVertexBuffer === h && !z && this.boundIndexBuffer === x && this.boundVertexOffset === M && this.boundDynamicVertexBuffer === A && this.boundDynamicVertexBuffer2 === I && this.boundDynamicVertexBuffer3 === O ? (s.bindVertexArrayOES.set(this.vao), A && A.bind(), x && x.dynamicDraw && x.bind(), I && I.bind(), O && O.bind()) : this.freshBind(c, h, g, x, M, A, I, O);
        }
        freshBind(s, c, h, g, x, M, A, I) {
          let O;
          const z = s.numAttributes, q = this.context, G = q.gl;
          if (q.extVertexArrayObject)
            this.vao && this.destroy(), this.vao = q.extVertexArrayObject.createVertexArrayOES(), q.bindVertexArrayOES.set(this.vao), O = 0, this.boundProgram = s, this.boundLayoutVertexBuffer = c, this.boundPaintVertexBuffers = h, this.boundIndexBuffer = g, this.boundVertexOffset = x, this.boundDynamicVertexBuffer = M, this.boundDynamicVertexBuffer2 = A, this.boundDynamicVertexBuffer3 = I;
          else {
            O = q.currentNumAttributes || 0;
            for (let ee = z; ee < O; ee++)
              G.disableVertexAttribArray(ee);
          }
          c.enableAttributes(G, s);
          for (const ee of h)
            ee.enableAttributes(G, s);
          M && M.enableAttributes(G, s), A && A.enableAttributes(G, s), I && I.enableAttributes(G, s), c.bind(), c.setVertexAttribPointers(G, s, x);
          for (const ee of h)
            ee.bind(), ee.setVertexAttribPointers(G, s, x);
          M && (M.bind(), M.setVertexAttribPointers(G, s, x)), g && g.bind(), A && (A.bind(), A.setVertexAttribPointers(G, s, x)), I && (I.bind(), I.setVertexAttribPointers(G, s, x)), q.currentNumAttributes = z;
        }
        destroy() {
          this.vao && (this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao), this.vao = null);
        }
      }
      function pd(p) {
        const s = [];
        for (let c = 0; c < p.length; c++) {
          if (p[c] === null)
            continue;
          const h = p[c].split(" ");
          s.push(h.pop());
        }
        return s;
      }
      class m_ {
        constructor(s, c, h, g, x, M, A) {
          const I = s.gl;
          this.program = I.createProgram();
          const O = pd(h.staticAttributes), z = g ? g.getBinderAttributes() : [], q = O.concat(z), G = Jo.prelude.staticUniforms ? pd(Jo.prelude.staticUniforms) : [], ee = h.staticUniforms ? pd(h.staticUniforms) : [], K = g ? g.getBinderUniforms() : [], Y = G.concat(ee).concat(K), ue = [];
          for (const Pe of Y)
            ue.indexOf(Pe) < 0 && ue.push(Pe);
          const pe = g ? g.defines() : [];
          M && pe.push("#define OVERDRAW_INSPECTOR;"), A && pe.push("#define TERRAIN3D;");
          const ve = pe.concat(Jo.prelude.fragmentSource, h.fragmentSource).join(`
`), te = pe.concat(Jo.prelude.vertexSource, h.vertexSource).join(`
`), Se = I.createShader(I.FRAGMENT_SHADER);
          if (I.isContextLost())
            return void (this.failedToCreate = !0);
          I.shaderSource(Se, ve), I.compileShader(Se), I.attachShader(this.program, Se);
          const be = I.createShader(I.VERTEX_SHADER);
          if (I.isContextLost())
            return void (this.failedToCreate = !0);
          I.shaderSource(be, te), I.compileShader(be), I.attachShader(this.program, be), this.attributes = {};
          const Ie = {};
          this.numAttributes = q.length;
          for (let Pe = 0; Pe < this.numAttributes; Pe++)
            q[Pe] && (I.bindAttribLocation(this.program, Pe, q[Pe]), this.attributes[q[Pe]] = Pe);
          I.linkProgram(this.program), I.deleteShader(be), I.deleteShader(Se);
          for (let Pe = 0; Pe < ue.length; Pe++) {
            const Ne = ue[Pe];
            if (Ne && !Ie[Ne]) {
              const Ce = I.getUniformLocation(this.program, Ne);
              Ce && (Ie[Ne] = Ce);
            }
          }
          this.fixedUniforms = x(s, Ie), this.terrainUniforms = ((Pe, Ne) => ({ u_depth: new o.Uniform1i(Pe, Ne.u_depth), u_terrain: new o.Uniform1i(Pe, Ne.u_terrain), u_terrain_dim: new o.Uniform1f(Pe, Ne.u_terrain_dim), u_terrain_matrix: new o.UniformMatrix4f(Pe, Ne.u_terrain_matrix), u_terrain_unpack: new o.Uniform4f(Pe, Ne.u_terrain_unpack), u_terrain_offset: new o.Uniform1f(Pe, Ne.u_terrain_offset), u_terrain_exaggeration: new o.Uniform1f(Pe, Ne.u_terrain_exaggeration) }))(s, Ie), this.binderUniforms = g ? g.getUniforms(s, Ie) : [];
        }
        draw(s, c, h, g, x, M, A, I, O, z, q, G, ee, K, Y, ue, pe, ve) {
          const te = s.gl;
          if (this.failedToCreate)
            return;
          if (s.program.set(this.program), s.setDepthMode(h), s.setStencilMode(g), s.setColorMode(x), s.setCullFace(M), I) {
            s.activeTexture.set(te.TEXTURE2), te.bindTexture(te.TEXTURE_2D, I.depthTexture), s.activeTexture.set(te.TEXTURE3), te.bindTexture(te.TEXTURE_2D, I.texture);
            for (const be in this.terrainUniforms)
              this.terrainUniforms[be].set(I[be]);
          }
          for (const be in this.fixedUniforms)
            this.fixedUniforms[be].set(A[be]);
          Y && Y.setUniforms(s, this.binderUniforms, ee, { zoom: K });
          let Se = 0;
          switch (c) {
            case te.LINES:
              Se = 2;
              break;
            case te.TRIANGLES:
              Se = 3;
              break;
            case te.LINE_STRIP:
              Se = 1;
          }
          for (const be of G.get()) {
            const Ie = be.vaos || (be.vaos = {});
            (Ie[O] || (Ie[O] = new hd())).bind(s, this, z, Y ? Y.getPaintVertexBuffers() : [], q, be.vertexOffset, ue, pe, ve), te.drawElements(c, be.primitiveLength * Se, te.UNSIGNED_SHORT, be.primitiveOffset * Se * 2);
          }
        }
      }
      function h_(p, s, c) {
        const h = 1 / Va(c, 1, s.transform.tileZoom), g = Math.pow(2, c.tileID.overscaledZ), x = c.tileSize * Math.pow(2, s.transform.tileZoom) / g, M = x * (c.tileID.canonical.x + c.tileID.wrap * g), A = x * c.tileID.canonical.y;
        return { u_image: 0, u_texsize: c.imageAtlasTexture.size, u_scale: [h, p.fromScale, p.toScale], u_fade: p.t, u_pixel_coord_upper: [M >> 16, A >> 16], u_pixel_coord_lower: [65535 & M, 65535 & A] };
      }
      const fd = (p, s, c, h) => {
        const g = s.style.light, x = g.properties.get("position"), M = [x.x, x.y, x.z], A = o.create$1();
        g.properties.get("anchor") === "viewport" && o.fromRotation(A, -s.transform.angle), o.transformMat3(M, M, A);
        const I = g.properties.get("color");
        return { u_matrix: p, u_lightpos: M, u_lightintensity: g.properties.get("intensity"), u_lightcolor: [I.r, I.g, I.b], u_vertical_gradient: +c, u_opacity: h };
      }, dp = (p, s, c, h, g, x, M) => o.extend(fd(p, s, c, h), h_(x, s, M), { u_height_factor: -Math.pow(2, g.overscaledZ) / M.tileSize / 8 }), Jl = (p) => ({ u_matrix: p }), gd = (p, s, c, h) => o.extend(Jl(p), h_(c, s, h)), p_ = (p, s) => ({ u_matrix: p, u_world: s }), f_ = (p, s, c, h, g) => o.extend(gd(p, s, c, h), { u_world: g }), g_ = (p, s, c, h) => {
        const g = p.transform;
        let x, M;
        if (h.paint.get("circle-pitch-alignment") === "map") {
          const A = Va(c, 1, g.zoom);
          x = !0, M = [A, A];
        } else
          x = !1, M = g.pixelsToGLUnits;
        return { u_camera_to_center_distance: g.cameraToCenterDistance, u_scale_with_map: +(h.paint.get("circle-pitch-scale") === "map"), u_matrix: p.translatePosMatrix(s.posMatrix, c, h.paint.get("circle-translate"), h.paint.get("circle-translate-anchor")), u_pitch_with_map: +x, u_device_pixel_ratio: p.pixelRatio, u_extrude_scale: M };
      }, Es = (p, s, c) => {
        const h = Va(c, 1, s.zoom), g = Math.pow(2, s.zoom - c.tileID.overscaledZ), x = c.tileID.overscaleFactor();
        return { u_matrix: p, u_camera_to_center_distance: s.cameraToCenterDistance, u_pixels_to_tile_units: h, u_extrude_scale: [s.pixelsToGLUnits[0] / (h * g), s.pixelsToGLUnits[1] / (h * g)], u_overscale_factor: x };
      }, el = (p, s, c = 1) => ({ u_matrix: p, u_color: s, u_overlay: 0, u_overlay_scale: c }), no = (p) => ({ u_matrix: p }), eu = (p, s, c, h) => ({ u_matrix: p, u_extrude_scale: Va(s, 1, c), u_intensity: h });
      function tu(p, s) {
        const c = Math.pow(2, s.canonical.z), h = s.canonical.y;
        return [new o.MercatorCoordinate(0, h / c).toLngLat().lat, new o.MercatorCoordinate(0, (h + 1) / c).toLngLat().lat];
      }
      const ro = (p, s, c, h) => {
        const g = p.transform;
        return { u_matrix: al(p, s, c, h), u_ratio: 1 / Va(s, 1, g.zoom), u_device_pixel_ratio: p.pixelRatio, u_units_to_pixels: [1 / g.pixelsToGLUnits[0], 1 / g.pixelsToGLUnits[1]] };
      }, yd = (p, s, c, h, g) => o.extend(ro(p, s, c, g), { u_image: 0, u_image_height: h }), au = (p, s, c, h, g) => {
        const x = p.transform, M = za(s, x);
        return { u_matrix: al(p, s, c, g), u_texsize: s.imageAtlasTexture.size, u_ratio: 1 / Va(s, 1, x.zoom), u_device_pixel_ratio: p.pixelRatio, u_image: 0, u_scale: [M, h.fromScale, h.toScale], u_fade: h.t, u_units_to_pixels: [1 / x.pixelsToGLUnits[0], 1 / x.pixelsToGLUnits[1]] };
      }, tl = (p, s, c, h, g, x) => {
        const M = p.lineAtlas, A = za(s, p.transform), I = c.layout.get("line-cap") === "round", O = M.getDash(h.from, I), z = M.getDash(h.to, I), q = O.width * g.fromScale, G = z.width * g.toScale;
        return o.extend(ro(p, s, c, x), { u_patternscale_a: [A / q, -O.height / 2], u_patternscale_b: [A / G, -z.height / 2], u_sdfgamma: M.width / (256 * Math.min(q, G) * p.pixelRatio) / 2, u_image: 0, u_tex_y_a: O.y, u_tex_y_b: z.y, u_mix: g.t });
      };
      function za(p, s) {
        return 1 / Va(p, 1, s.tileZoom);
      }
      function al(p, s, c, h) {
        return p.translatePosMatrix(h ? h.posMatrix : s.tileID.posMatrix, s, c.paint.get("line-translate"), c.paint.get("line-translate-anchor"));
      }
      const y_ = (p, s, c, h, g) => {
        return { u_matrix: p, u_tl_parent: s, u_scale_parent: c, u_buffer_scale: 1, u_fade_t: h.mix, u_opacity: h.opacity * g.paint.get("raster-opacity"), u_image0: 0, u_image1: 1, u_brightness_low: g.paint.get("raster-brightness-min"), u_brightness_high: g.paint.get("raster-brightness-max"), u_saturation_factor: (M = g.paint.get("raster-saturation"), M > 0 ? 1 - 1 / (1.001 - M) : -M), u_contrast_factor: (x = g.paint.get("raster-contrast"), x > 0 ? 1 / (1 - x) : 1 + x), u_spin_weights: v_(g.paint.get("raster-hue-rotate")) };
        var x, M;
      };
      function v_(p) {
        p *= Math.PI / 180;
        const s = Math.sin(p), c = Math.cos(p);
        return [(2 * c + 1) / 3, (-Math.sqrt(3) * s - c + 1) / 3, (Math.sqrt(3) * s - c + 1) / 3];
      }
      const vd = (p, s, c, h, g, x, M, A, I, O) => {
        const z = g.transform;
        return { u_is_size_zoom_constant: +(p === "constant" || p === "source"), u_is_size_feature_constant: +(p === "constant" || p === "camera"), u_size_t: s ? s.uSizeT : 0, u_size: s ? s.uSize : 0, u_camera_to_center_distance: z.cameraToCenterDistance, u_pitch: z.pitch / 360 * 2 * Math.PI, u_rotate_symbol: +c, u_aspect_ratio: z.width / z.height, u_fade_change: g.options.fadeDuration ? g.symbolFadeChange : 1, u_matrix: x, u_label_plane_matrix: M, u_coord_matrix: A, u_is_text: +I, u_pitch_with_map: +h, u_texsize: O, u_texture: 0 };
      }, iu = (p, s, c, h, g, x, M, A, I, O, z) => {
        const q = g.transform;
        return o.extend(vd(p, s, c, h, g, x, M, A, I, O), { u_gamma_scale: h ? Math.cos(q._pitch) * q.cameraToCenterDistance : 1, u_device_pixel_ratio: g.pixelRatio, u_is_halo: +z });
      }, b_ = (p, s, c, h, g, x, M, A, I, O) => o.extend(iu(p, s, c, h, g, x, M, A, !0, I, !0), { u_texsize_icon: O, u_texture_icon: 1 }), cp = (p, s, c) => ({ u_matrix: p, u_opacity: s, u_color: c }), _p = (p, s, c, h, g, x) => o.extend(function(M, A, I, O) {
        const z = I.imageManager.getPattern(M.from.toString()), q = I.imageManager.getPattern(M.to.toString()), { width: G, height: ee } = I.imageManager.getPixelSize(), K = Math.pow(2, O.tileID.overscaledZ), Y = O.tileSize * Math.pow(2, I.transform.tileZoom) / K, ue = Y * (O.tileID.canonical.x + O.tileID.wrap * K), pe = Y * O.tileID.canonical.y;
        return { u_image: 0, u_pattern_tl_a: z.tl, u_pattern_br_a: z.br, u_pattern_tl_b: q.tl, u_pattern_br_b: q.br, u_texsize: [G, ee], u_mix: A.t, u_pattern_size_a: z.displaySize, u_pattern_size_b: q.displaySize, u_scale_a: A.fromScale, u_scale_b: A.toScale, u_tile_units_to_pixels: 1 / Va(O, 1, I.transform.tileZoom), u_pixel_coord_upper: [ue >> 16, pe >> 16], u_pixel_coord_lower: [65535 & ue, 65535 & pe] };
      }(h, x, c, g), { u_matrix: p, u_opacity: s }), bd = { fillExtrusion: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_lightpos: new o.Uniform3f(p, s.u_lightpos), u_lightintensity: new o.Uniform1f(p, s.u_lightintensity), u_lightcolor: new o.Uniform3f(p, s.u_lightcolor), u_vertical_gradient: new o.Uniform1f(p, s.u_vertical_gradient), u_opacity: new o.Uniform1f(p, s.u_opacity) }), fillExtrusionPattern: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_lightpos: new o.Uniform3f(p, s.u_lightpos), u_lightintensity: new o.Uniform1f(p, s.u_lightintensity), u_lightcolor: new o.Uniform3f(p, s.u_lightcolor), u_vertical_gradient: new o.Uniform1f(p, s.u_vertical_gradient), u_height_factor: new o.Uniform1f(p, s.u_height_factor), u_image: new o.Uniform1i(p, s.u_image), u_texsize: new o.Uniform2f(p, s.u_texsize), u_pixel_coord_upper: new o.Uniform2f(p, s.u_pixel_coord_upper), u_pixel_coord_lower: new o.Uniform2f(p, s.u_pixel_coord_lower), u_scale: new o.Uniform3f(p, s.u_scale), u_fade: new o.Uniform1f(p, s.u_fade), u_opacity: new o.Uniform1f(p, s.u_opacity) }), fill: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix) }), fillPattern: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_image: new o.Uniform1i(p, s.u_image), u_texsize: new o.Uniform2f(p, s.u_texsize), u_pixel_coord_upper: new o.Uniform2f(p, s.u_pixel_coord_upper), u_pixel_coord_lower: new o.Uniform2f(p, s.u_pixel_coord_lower), u_scale: new o.Uniform3f(p, s.u_scale), u_fade: new o.Uniform1f(p, s.u_fade) }), fillOutline: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_world: new o.Uniform2f(p, s.u_world) }), fillOutlinePattern: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_world: new o.Uniform2f(p, s.u_world), u_image: new o.Uniform1i(p, s.u_image), u_texsize: new o.Uniform2f(p, s.u_texsize), u_pixel_coord_upper: new o.Uniform2f(p, s.u_pixel_coord_upper), u_pixel_coord_lower: new o.Uniform2f(p, s.u_pixel_coord_lower), u_scale: new o.Uniform3f(p, s.u_scale), u_fade: new o.Uniform1f(p, s.u_fade) }), circle: (p, s) => ({ u_camera_to_center_distance: new o.Uniform1f(p, s.u_camera_to_center_distance), u_scale_with_map: new o.Uniform1i(p, s.u_scale_with_map), u_pitch_with_map: new o.Uniform1i(p, s.u_pitch_with_map), u_extrude_scale: new o.Uniform2f(p, s.u_extrude_scale), u_device_pixel_ratio: new o.Uniform1f(p, s.u_device_pixel_ratio), u_matrix: new o.UniformMatrix4f(p, s.u_matrix) }), collisionBox: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_camera_to_center_distance: new o.Uniform1f(p, s.u_camera_to_center_distance), u_pixels_to_tile_units: new o.Uniform1f(p, s.u_pixels_to_tile_units), u_extrude_scale: new o.Uniform2f(p, s.u_extrude_scale), u_overscale_factor: new o.Uniform1f(p, s.u_overscale_factor) }), collisionCircle: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_inv_matrix: new o.UniformMatrix4f(p, s.u_inv_matrix), u_camera_to_center_distance: new o.Uniform1f(p, s.u_camera_to_center_distance), u_viewport_size: new o.Uniform2f(p, s.u_viewport_size) }), debug: (p, s) => ({ u_color: new o.UniformColor(p, s.u_color), u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_overlay: new o.Uniform1i(p, s.u_overlay), u_overlay_scale: new o.Uniform1f(p, s.u_overlay_scale) }), clippingMask: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix) }), heatmap: (p, s) => ({ u_extrude_scale: new o.Uniform1f(p, s.u_extrude_scale), u_intensity: new o.Uniform1f(p, s.u_intensity), u_matrix: new o.UniformMatrix4f(p, s.u_matrix) }), heatmapTexture: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_world: new o.Uniform2f(p, s.u_world), u_image: new o.Uniform1i(p, s.u_image), u_color_ramp: new o.Uniform1i(p, s.u_color_ramp), u_opacity: new o.Uniform1f(p, s.u_opacity) }), hillshade: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_image: new o.Uniform1i(p, s.u_image), u_latrange: new o.Uniform2f(p, s.u_latrange), u_light: new o.Uniform2f(p, s.u_light), u_shadow: new o.UniformColor(p, s.u_shadow), u_highlight: new o.UniformColor(p, s.u_highlight), u_accent: new o.UniformColor(p, s.u_accent) }), hillshadePrepare: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_image: new o.Uniform1i(p, s.u_image), u_dimension: new o.Uniform2f(p, s.u_dimension), u_zoom: new o.Uniform1f(p, s.u_zoom), u_unpack: new o.Uniform4f(p, s.u_unpack) }), line: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_ratio: new o.Uniform1f(p, s.u_ratio), u_device_pixel_ratio: new o.Uniform1f(p, s.u_device_pixel_ratio), u_units_to_pixels: new o.Uniform2f(p, s.u_units_to_pixels) }), lineGradient: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_ratio: new o.Uniform1f(p, s.u_ratio), u_device_pixel_ratio: new o.Uniform1f(p, s.u_device_pixel_ratio), u_units_to_pixels: new o.Uniform2f(p, s.u_units_to_pixels), u_image: new o.Uniform1i(p, s.u_image), u_image_height: new o.Uniform1f(p, s.u_image_height) }), linePattern: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_texsize: new o.Uniform2f(p, s.u_texsize), u_ratio: new o.Uniform1f(p, s.u_ratio), u_device_pixel_ratio: new o.Uniform1f(p, s.u_device_pixel_ratio), u_image: new o.Uniform1i(p, s.u_image), u_units_to_pixels: new o.Uniform2f(p, s.u_units_to_pixels), u_scale: new o.Uniform3f(p, s.u_scale), u_fade: new o.Uniform1f(p, s.u_fade) }), lineSDF: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_ratio: new o.Uniform1f(p, s.u_ratio), u_device_pixel_ratio: new o.Uniform1f(p, s.u_device_pixel_ratio), u_units_to_pixels: new o.Uniform2f(p, s.u_units_to_pixels), u_patternscale_a: new o.Uniform2f(p, s.u_patternscale_a), u_patternscale_b: new o.Uniform2f(p, s.u_patternscale_b), u_sdfgamma: new o.Uniform1f(p, s.u_sdfgamma), u_image: new o.Uniform1i(p, s.u_image), u_tex_y_a: new o.Uniform1f(p, s.u_tex_y_a), u_tex_y_b: new o.Uniform1f(p, s.u_tex_y_b), u_mix: new o.Uniform1f(p, s.u_mix) }), raster: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_tl_parent: new o.Uniform2f(p, s.u_tl_parent), u_scale_parent: new o.Uniform1f(p, s.u_scale_parent), u_buffer_scale: new o.Uniform1f(p, s.u_buffer_scale), u_fade_t: new o.Uniform1f(p, s.u_fade_t), u_opacity: new o.Uniform1f(p, s.u_opacity), u_image0: new o.Uniform1i(p, s.u_image0), u_image1: new o.Uniform1i(p, s.u_image1), u_brightness_low: new o.Uniform1f(p, s.u_brightness_low), u_brightness_high: new o.Uniform1f(p, s.u_brightness_high), u_saturation_factor: new o.Uniform1f(p, s.u_saturation_factor), u_contrast_factor: new o.Uniform1f(p, s.u_contrast_factor), u_spin_weights: new o.Uniform3f(p, s.u_spin_weights) }), symbolIcon: (p, s) => ({ u_is_size_zoom_constant: new o.Uniform1i(p, s.u_is_size_zoom_constant), u_is_size_feature_constant: new o.Uniform1i(p, s.u_is_size_feature_constant), u_size_t: new o.Uniform1f(p, s.u_size_t), u_size: new o.Uniform1f(p, s.u_size), u_camera_to_center_distance: new o.Uniform1f(p, s.u_camera_to_center_distance), u_pitch: new o.Uniform1f(p, s.u_pitch), u_rotate_symbol: new o.Uniform1i(p, s.u_rotate_symbol), u_aspect_ratio: new o.Uniform1f(p, s.u_aspect_ratio), u_fade_change: new o.Uniform1f(p, s.u_fade_change), u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_label_plane_matrix: new o.UniformMatrix4f(p, s.u_label_plane_matrix), u_coord_matrix: new o.UniformMatrix4f(p, s.u_coord_matrix), u_is_text: new o.Uniform1i(p, s.u_is_text), u_pitch_with_map: new o.Uniform1i(p, s.u_pitch_with_map), u_texsize: new o.Uniform2f(p, s.u_texsize), u_texture: new o.Uniform1i(p, s.u_texture) }), symbolSDF: (p, s) => ({ u_is_size_zoom_constant: new o.Uniform1i(p, s.u_is_size_zoom_constant), u_is_size_feature_constant: new o.Uniform1i(p, s.u_is_size_feature_constant), u_size_t: new o.Uniform1f(p, s.u_size_t), u_size: new o.Uniform1f(p, s.u_size), u_camera_to_center_distance: new o.Uniform1f(p, s.u_camera_to_center_distance), u_pitch: new o.Uniform1f(p, s.u_pitch), u_rotate_symbol: new o.Uniform1i(p, s.u_rotate_symbol), u_aspect_ratio: new o.Uniform1f(p, s.u_aspect_ratio), u_fade_change: new o.Uniform1f(p, s.u_fade_change), u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_label_plane_matrix: new o.UniformMatrix4f(p, s.u_label_plane_matrix), u_coord_matrix: new o.UniformMatrix4f(p, s.u_coord_matrix), u_is_text: new o.Uniform1i(p, s.u_is_text), u_pitch_with_map: new o.Uniform1i(p, s.u_pitch_with_map), u_texsize: new o.Uniform2f(p, s.u_texsize), u_texture: new o.Uniform1i(p, s.u_texture), u_gamma_scale: new o.Uniform1f(p, s.u_gamma_scale), u_device_pixel_ratio: new o.Uniform1f(p, s.u_device_pixel_ratio), u_is_halo: new o.Uniform1i(p, s.u_is_halo) }), symbolTextAndIcon: (p, s) => ({ u_is_size_zoom_constant: new o.Uniform1i(p, s.u_is_size_zoom_constant), u_is_size_feature_constant: new o.Uniform1i(p, s.u_is_size_feature_constant), u_size_t: new o.Uniform1f(p, s.u_size_t), u_size: new o.Uniform1f(p, s.u_size), u_camera_to_center_distance: new o.Uniform1f(p, s.u_camera_to_center_distance), u_pitch: new o.Uniform1f(p, s.u_pitch), u_rotate_symbol: new o.Uniform1i(p, s.u_rotate_symbol), u_aspect_ratio: new o.Uniform1f(p, s.u_aspect_ratio), u_fade_change: new o.Uniform1f(p, s.u_fade_change), u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_label_plane_matrix: new o.UniformMatrix4f(p, s.u_label_plane_matrix), u_coord_matrix: new o.UniformMatrix4f(p, s.u_coord_matrix), u_is_text: new o.Uniform1i(p, s.u_is_text), u_pitch_with_map: new o.Uniform1i(p, s.u_pitch_with_map), u_texsize: new o.Uniform2f(p, s.u_texsize), u_texsize_icon: new o.Uniform2f(p, s.u_texsize_icon), u_texture: new o.Uniform1i(p, s.u_texture), u_texture_icon: new o.Uniform1i(p, s.u_texture_icon), u_gamma_scale: new o.Uniform1f(p, s.u_gamma_scale), u_device_pixel_ratio: new o.Uniform1f(p, s.u_device_pixel_ratio), u_is_halo: new o.Uniform1i(p, s.u_is_halo) }), background: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_opacity: new o.Uniform1f(p, s.u_opacity), u_color: new o.UniformColor(p, s.u_color) }), backgroundPattern: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_opacity: new o.Uniform1f(p, s.u_opacity), u_image: new o.Uniform1i(p, s.u_image), u_pattern_tl_a: new o.Uniform2f(p, s.u_pattern_tl_a), u_pattern_br_a: new o.Uniform2f(p, s.u_pattern_br_a), u_pattern_tl_b: new o.Uniform2f(p, s.u_pattern_tl_b), u_pattern_br_b: new o.Uniform2f(p, s.u_pattern_br_b), u_texsize: new o.Uniform2f(p, s.u_texsize), u_mix: new o.Uniform1f(p, s.u_mix), u_pattern_size_a: new o.Uniform2f(p, s.u_pattern_size_a), u_pattern_size_b: new o.Uniform2f(p, s.u_pattern_size_b), u_scale_a: new o.Uniform1f(p, s.u_scale_a), u_scale_b: new o.Uniform1f(p, s.u_scale_b), u_pixel_coord_upper: new o.Uniform2f(p, s.u_pixel_coord_upper), u_pixel_coord_lower: new o.Uniform2f(p, s.u_pixel_coord_lower), u_tile_units_to_pixels: new o.Uniform1f(p, s.u_tile_units_to_pixels) }), terrain: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_texture: new o.Uniform1i(p, s.u_texture) }), terrainDepth: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix) }), terrainCoords: (p, s) => ({ u_matrix: new o.UniformMatrix4f(p, s.u_matrix), u_texture: new o.Uniform1i(p, s.u_texture), u_terrain_coords_id: new o.Uniform1f(p, s.u_terrain_coords_id) }) };
      class xd {
        constructor(s, c, h) {
          this.context = s;
          const g = s.gl;
          this.buffer = g.createBuffer(), this.dynamicDraw = !!h, this.context.unbindVAO(), s.bindElementBuffer.set(this.buffer), g.bufferData(g.ELEMENT_ARRAY_BUFFER, c.arrayBuffer, this.dynamicDraw ? g.DYNAMIC_DRAW : g.STATIC_DRAW), this.dynamicDraw || delete c.arrayBuffer;
        }
        bind() {
          this.context.bindElementBuffer.set(this.buffer);
        }
        updateData(s) {
          const c = this.context.gl;
          if (!this.dynamicDraw)
            throw new Error("Attempted to update data while not in dynamic mode.");
          this.context.unbindVAO(), this.bind(), c.bufferSubData(c.ELEMENT_ARRAY_BUFFER, 0, s.arrayBuffer);
        }
        destroy() {
          this.buffer && (this.context.gl.deleteBuffer(this.buffer), delete this.buffer);
        }
      }
      const wd = { Int8: "BYTE", Uint8: "UNSIGNED_BYTE", Int16: "SHORT", Uint16: "UNSIGNED_SHORT", Int32: "INT", Uint32: "UNSIGNED_INT", Float32: "FLOAT" };
      class Sd {
        constructor(s, c, h, g) {
          this.length = c.length, this.attributes = h, this.itemSize = c.bytesPerElement, this.dynamicDraw = g, this.context = s;
          const x = s.gl;
          this.buffer = x.createBuffer(), s.bindVertexBuffer.set(this.buffer), x.bufferData(x.ARRAY_BUFFER, c.arrayBuffer, this.dynamicDraw ? x.DYNAMIC_DRAW : x.STATIC_DRAW), this.dynamicDraw || delete c.arrayBuffer;
        }
        bind() {
          this.context.bindVertexBuffer.set(this.buffer);
        }
        updateData(s) {
          if (s.length !== this.length)
            throw new Error(`Length of new data is ${s.length}, which doesn't match current length of ${this.length}`);
          const c = this.context.gl;
          this.bind(), c.bufferSubData(c.ARRAY_BUFFER, 0, s.arrayBuffer);
        }
        enableAttributes(s, c) {
          for (let h = 0; h < this.attributes.length; h++) {
            const g = c.attributes[this.attributes[h].name];
            g !== void 0 && s.enableVertexAttribArray(g);
          }
        }
        setVertexAttribPointers(s, c, h) {
          for (let g = 0; g < this.attributes.length; g++) {
            const x = this.attributes[g], M = c.attributes[x.name];
            M !== void 0 && s.vertexAttribPointer(M, x.components, s[wd[x.type]], !1, this.itemSize, x.offset + this.itemSize * (h || 0));
          }
        }
        destroy() {
          this.buffer && (this.context.gl.deleteBuffer(this.buffer), delete this.buffer);
        }
      }
      class sa {
        constructor(s) {
          this.gl = s.gl, this.default = this.getDefault(), this.current = this.default, this.dirty = !1;
        }
        get() {
          return this.current;
        }
        set(s) {
        }
        getDefault() {
          return this.default;
        }
        setDefault() {
          this.set(this.default);
        }
      }
      class x_ extends sa {
        getDefault() {
          return o.Color.transparent;
        }
        set(s) {
          const c = this.current;
          (s.r !== c.r || s.g !== c.g || s.b !== c.b || s.a !== c.a || this.dirty) && (this.gl.clearColor(s.r, s.g, s.b, s.a), this.current = s, this.dirty = !1);
        }
      }
      class mp extends sa {
        getDefault() {
          return 1;
        }
        set(s) {
          (s !== this.current || this.dirty) && (this.gl.clearDepth(s), this.current = s, this.dirty = !1);
        }
      }
      class il extends sa {
        getDefault() {
          return 0;
        }
        set(s) {
          (s !== this.current || this.dirty) && (this.gl.clearStencil(s), this.current = s, this.dirty = !1);
        }
      }
      class nl extends sa {
        getDefault() {
          return [!0, !0, !0, !0];
        }
        set(s) {
          const c = this.current;
          (s[0] !== c[0] || s[1] !== c[1] || s[2] !== c[2] || s[3] !== c[3] || this.dirty) && (this.gl.colorMask(s[0], s[1], s[2], s[3]), this.current = s, this.dirty = !1);
        }
      }
      class w_ extends sa {
        getDefault() {
          return !0;
        }
        set(s) {
          (s !== this.current || this.dirty) && (this.gl.depthMask(s), this.current = s, this.dirty = !1);
        }
      }
      class Cn extends sa {
        getDefault() {
          return 255;
        }
        set(s) {
          (s !== this.current || this.dirty) && (this.gl.stencilMask(s), this.current = s, this.dirty = !1);
        }
      }
      class Td extends sa {
        getDefault() {
          return { func: this.gl.ALWAYS, ref: 0, mask: 255 };
        }
        set(s) {
          const c = this.current;
          (s.func !== c.func || s.ref !== c.ref || s.mask !== c.mask || this.dirty) && (this.gl.stencilFunc(s.func, s.ref, s.mask), this.current = s, this.dirty = !1);
        }
      }
      class nu extends sa {
        getDefault() {
          const s = this.gl;
          return [s.KEEP, s.KEEP, s.KEEP];
        }
        set(s) {
          const c = this.current;
          (s[0] !== c[0] || s[1] !== c[1] || s[2] !== c[2] || this.dirty) && (this.gl.stencilOp(s[0], s[1], s[2]), this.current = s, this.dirty = !1);
        }
      }
      class ru extends sa {
        getDefault() {
          return !1;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          const c = this.gl;
          s ? c.enable(c.STENCIL_TEST) : c.disable(c.STENCIL_TEST), this.current = s, this.dirty = !1;
        }
      }
      class Md extends sa {
        getDefault() {
          return [0, 1];
        }
        set(s) {
          const c = this.current;
          (s[0] !== c[0] || s[1] !== c[1] || this.dirty) && (this.gl.depthRange(s[0], s[1]), this.current = s, this.dirty = !1);
        }
      }
      class Ed extends sa {
        getDefault() {
          return !1;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          const c = this.gl;
          s ? c.enable(c.DEPTH_TEST) : c.disable(c.DEPTH_TEST), this.current = s, this.dirty = !1;
        }
      }
      class su extends sa {
        getDefault() {
          return this.gl.LESS;
        }
        set(s) {
          (s !== this.current || this.dirty) && (this.gl.depthFunc(s), this.current = s, this.dirty = !1);
        }
      }
      class Ld extends sa {
        getDefault() {
          return !1;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          const c = this.gl;
          s ? c.enable(c.BLEND) : c.disable(c.BLEND), this.current = s, this.dirty = !1;
        }
      }
      class Cd extends sa {
        getDefault() {
          const s = this.gl;
          return [s.ONE, s.ZERO];
        }
        set(s) {
          const c = this.current;
          (s[0] !== c[0] || s[1] !== c[1] || this.dirty) && (this.gl.blendFunc(s[0], s[1]), this.current = s, this.dirty = !1);
        }
      }
      class ou extends sa {
        getDefault() {
          return o.Color.transparent;
        }
        set(s) {
          const c = this.current;
          (s.r !== c.r || s.g !== c.g || s.b !== c.b || s.a !== c.a || this.dirty) && (this.gl.blendColor(s.r, s.g, s.b, s.a), this.current = s, this.dirty = !1);
        }
      }
      class S_ extends sa {
        getDefault() {
          return this.gl.FUNC_ADD;
        }
        set(s) {
          (s !== this.current || this.dirty) && (this.gl.blendEquation(s), this.current = s, this.dirty = !1);
        }
      }
      class T_ extends sa {
        getDefault() {
          return !1;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          const c = this.gl;
          s ? c.enable(c.CULL_FACE) : c.disable(c.CULL_FACE), this.current = s, this.dirty = !1;
        }
      }
      class so extends sa {
        getDefault() {
          return this.gl.BACK;
        }
        set(s) {
          (s !== this.current || this.dirty) && (this.gl.cullFace(s), this.current = s, this.dirty = !1);
        }
      }
      class hp extends sa {
        getDefault() {
          return this.gl.CCW;
        }
        set(s) {
          (s !== this.current || this.dirty) && (this.gl.frontFace(s), this.current = s, this.dirty = !1);
        }
      }
      class pp extends sa {
        getDefault() {
          return null;
        }
        set(s) {
          (s !== this.current || this.dirty) && (this.gl.useProgram(s), this.current = s, this.dirty = !1);
        }
      }
      class fp extends sa {
        getDefault() {
          return this.gl.TEXTURE0;
        }
        set(s) {
          (s !== this.current || this.dirty) && (this.gl.activeTexture(s), this.current = s, this.dirty = !1);
        }
      }
      class gp extends sa {
        getDefault() {
          const s = this.gl;
          return [0, 0, s.drawingBufferWidth, s.drawingBufferHeight];
        }
        set(s) {
          const c = this.current;
          (s[0] !== c[0] || s[1] !== c[1] || s[2] !== c[2] || s[3] !== c[3] || this.dirty) && (this.gl.viewport(s[0], s[1], s[2], s[3]), this.current = s, this.dirty = !1);
        }
      }
      class yp extends sa {
        getDefault() {
          return null;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          const c = this.gl;
          c.bindFramebuffer(c.FRAMEBUFFER, s), this.current = s, this.dirty = !1;
        }
      }
      class vp extends sa {
        getDefault() {
          return null;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          const c = this.gl;
          c.bindRenderbuffer(c.RENDERBUFFER, s), this.current = s, this.dirty = !1;
        }
      }
      class Ad extends sa {
        getDefault() {
          return null;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          const c = this.gl;
          c.bindTexture(c.TEXTURE_2D, s), this.current = s, this.dirty = !1;
        }
      }
      class lu extends sa {
        getDefault() {
          return null;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          const c = this.gl;
          c.bindBuffer(c.ARRAY_BUFFER, s), this.current = s, this.dirty = !1;
        }
      }
      class Id extends sa {
        getDefault() {
          return null;
        }
        set(s) {
          const c = this.gl;
          c.bindBuffer(c.ELEMENT_ARRAY_BUFFER, s), this.current = s, this.dirty = !1;
        }
      }
      class Pd extends sa {
        constructor(s) {
          super(s), this.vao = s.extVertexArrayObject;
        }
        getDefault() {
          return null;
        }
        set(s) {
          this.vao && (s !== this.current || this.dirty) && (this.vao.bindVertexArrayOES(s), this.current = s, this.dirty = !1);
        }
      }
      class oo extends sa {
        getDefault() {
          return 4;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          const c = this.gl;
          c.pixelStorei(c.UNPACK_ALIGNMENT, s), this.current = s, this.dirty = !1;
        }
      }
      class M_ extends sa {
        getDefault() {
          return !1;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          const c = this.gl;
          c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL, s), this.current = s, this.dirty = !1;
        }
      }
      class E_ extends sa {
        getDefault() {
          return !1;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          const c = this.gl;
          c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL, s), this.current = s, this.dirty = !1;
        }
      }
      class uu extends sa {
        constructor(s, c) {
          super(s), this.context = s, this.parent = c;
        }
        getDefault() {
          return null;
        }
      }
      class Ls extends uu {
        setDirty() {
          this.dirty = !0;
        }
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          this.context.bindFramebuffer.set(this.parent);
          const c = this.gl;
          c.framebufferTexture2D(c.FRAMEBUFFER, c.COLOR_ATTACHMENT0, c.TEXTURE_2D, s, 0), this.current = s, this.dirty = !1;
        }
      }
      class L_ extends uu {
        set(s) {
          if (s === this.current && !this.dirty)
            return;
          this.context.bindFramebuffer.set(this.parent);
          const c = this.gl;
          c.framebufferRenderbuffer(c.FRAMEBUFFER, c.DEPTH_ATTACHMENT, c.RENDERBUFFER, s), this.current = s, this.dirty = !1;
        }
      }
      class lo {
        constructor(s, c, h, g) {
          this.context = s, this.width = c, this.height = h;
          const x = s.gl, M = this.framebuffer = x.createFramebuffer();
          if (this.colorAttachment = new Ls(s, M), g && (this.depthAttachment = new L_(s, M)), x.checkFramebufferStatus(x.FRAMEBUFFER) !== x.FRAMEBUFFER_COMPLETE)
            throw new Error("Framebuffer is not complete");
        }
        destroy() {
          const s = this.context.gl, c = this.colorAttachment.get();
          if (c && s.deleteTexture(c), this.depthAttachment) {
            const h = this.depthAttachment.get();
            h && s.deleteRenderbuffer(h);
          }
          s.deleteFramebuffer(this.framebuffer);
        }
      }
      class Pa {
        constructor(s, c, h) {
          this.blendFunction = s, this.blendColor = c, this.mask = h;
        }
      }
      Pa.Replace = [1, 0], Pa.disabled = new Pa(Pa.Replace, o.Color.transparent, [!1, !1, !1, !1]), Pa.unblended = new Pa(Pa.Replace, o.Color.transparent, [!0, !0, !0, !0]), Pa.alphaBlended = new Pa([1, 771], o.Color.transparent, [!0, !0, !0, !0]);
      class C_ {
        constructor(s) {
          this.gl = s, this.extVertexArrayObject = this.gl.getExtension("OES_vertex_array_object"), this.clearColor = new x_(this), this.clearDepth = new mp(this), this.clearStencil = new il(this), this.colorMask = new nl(this), this.depthMask = new w_(this), this.stencilMask = new Cn(this), this.stencilFunc = new Td(this), this.stencilOp = new nu(this), this.stencilTest = new ru(this), this.depthRange = new Md(this), this.depthTest = new Ed(this), this.depthFunc = new su(this), this.blend = new Ld(this), this.blendFunc = new Cd(this), this.blendColor = new ou(this), this.blendEquation = new S_(this), this.cullFace = new T_(this), this.cullFaceSide = new so(this), this.frontFace = new hp(this), this.program = new pp(this), this.activeTexture = new fp(this), this.viewport = new gp(this), this.bindFramebuffer = new yp(this), this.bindRenderbuffer = new vp(this), this.bindTexture = new Ad(this), this.bindVertexBuffer = new lu(this), this.bindElementBuffer = new Id(this), this.bindVertexArrayOES = this.extVertexArrayObject && new Pd(this), this.pixelStoreUnpack = new oo(this), this.pixelStoreUnpackPremultiplyAlpha = new M_(this), this.pixelStoreUnpackFlipY = new E_(this), this.extTextureFilterAnisotropic = s.getExtension("EXT_texture_filter_anisotropic") || s.getExtension("MOZ_EXT_texture_filter_anisotropic") || s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"), this.extTextureFilterAnisotropic && (this.extTextureFilterAnisotropicMax = s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)), this.extTextureHalfFloat = s.getExtension("OES_texture_half_float"), this.extTextureHalfFloat && (s.getExtension("OES_texture_half_float_linear"), this.extRenderToTextureHalfFloat = s.getExtension("EXT_color_buffer_half_float")), this.extTimerQuery = s.getExtension("EXT_disjoint_timer_query"), this.maxTextureSize = s.getParameter(s.MAX_TEXTURE_SIZE);
        }
        setDefault() {
          this.unbindVAO(), this.clearColor.setDefault(), this.clearDepth.setDefault(), this.clearStencil.setDefault(), this.colorMask.setDefault(), this.depthMask.setDefault(), this.stencilMask.setDefault(), this.stencilFunc.setDefault(), this.stencilOp.setDefault(), this.stencilTest.setDefault(), this.depthRange.setDefault(), this.depthTest.setDefault(), this.depthFunc.setDefault(), this.blend.setDefault(), this.blendFunc.setDefault(), this.blendColor.setDefault(), this.blendEquation.setDefault(), this.cullFace.setDefault(), this.cullFaceSide.setDefault(), this.frontFace.setDefault(), this.program.setDefault(), this.activeTexture.setDefault(), this.bindFramebuffer.setDefault(), this.pixelStoreUnpack.setDefault(), this.pixelStoreUnpackPremultiplyAlpha.setDefault(), this.pixelStoreUnpackFlipY.setDefault();
        }
        setDirty() {
          this.clearColor.dirty = !0, this.clearDepth.dirty = !0, this.clearStencil.dirty = !0, this.colorMask.dirty = !0, this.depthMask.dirty = !0, this.stencilMask.dirty = !0, this.stencilFunc.dirty = !0, this.stencilOp.dirty = !0, this.stencilTest.dirty = !0, this.depthRange.dirty = !0, this.depthTest.dirty = !0, this.depthFunc.dirty = !0, this.blend.dirty = !0, this.blendFunc.dirty = !0, this.blendColor.dirty = !0, this.blendEquation.dirty = !0, this.cullFace.dirty = !0, this.cullFaceSide.dirty = !0, this.frontFace.dirty = !0, this.program.dirty = !0, this.activeTexture.dirty = !0, this.viewport.dirty = !0, this.bindFramebuffer.dirty = !0, this.bindRenderbuffer.dirty = !0, this.bindTexture.dirty = !0, this.bindVertexBuffer.dirty = !0, this.bindElementBuffer.dirty = !0, this.extVertexArrayObject && (this.bindVertexArrayOES.dirty = !0), this.pixelStoreUnpack.dirty = !0, this.pixelStoreUnpackPremultiplyAlpha.dirty = !0, this.pixelStoreUnpackFlipY.dirty = !0;
        }
        createIndexBuffer(s, c) {
          return new xd(this, s, c);
        }
        createVertexBuffer(s, c, h) {
          return new Sd(this, s, c, h);
        }
        createRenderbuffer(s, c, h) {
          const g = this.gl, x = g.createRenderbuffer();
          return this.bindRenderbuffer.set(x), g.renderbufferStorage(g.RENDERBUFFER, s, c, h), this.bindRenderbuffer.set(null), x;
        }
        createFramebuffer(s, c, h) {
          return new lo(this, s, c, h);
        }
        clear({ color: s, depth: c }) {
          const h = this.gl;
          let g = 0;
          s && (g |= h.COLOR_BUFFER_BIT, this.clearColor.set(s), this.colorMask.set([!0, !0, !0, !0])), c !== void 0 && (g |= h.DEPTH_BUFFER_BIT, this.depthRange.set([0, 1]), this.clearDepth.set(c), this.depthMask.set(!0)), h.clear(g);
        }
        setCullFace(s) {
          s.enable === !1 ? this.cullFace.set(!1) : (this.cullFace.set(!0), this.cullFaceSide.set(s.mode), this.frontFace.set(s.frontFace));
        }
        setDepthMode(s) {
          s.func !== this.gl.ALWAYS || s.mask ? (this.depthTest.set(!0), this.depthFunc.set(s.func), this.depthMask.set(s.mask), this.depthRange.set(s.range)) : this.depthTest.set(!1);
        }
        setStencilMode(s) {
          s.test.func !== this.gl.ALWAYS || s.mask ? (this.stencilTest.set(!0), this.stencilMask.set(s.mask), this.stencilOp.set([s.fail, s.depthFail, s.pass]), this.stencilFunc.set({ func: s.test.func, ref: s.ref, mask: s.test.mask })) : this.stencilTest.set(!1);
        }
        setColorMode(s) {
          T(s.blendFunction, Pa.Replace) ? this.blend.set(!1) : (this.blend.set(!0), this.blendFunc.set(s.blendFunction), this.blendColor.set(s.blendColor)), this.colorMask.set(s.mask);
        }
        unbindVAO() {
          this.extVertexArrayObject && this.bindVertexArrayOES.set(null);
        }
      }
      class Kt {
        constructor(s, c, h) {
          this.func = s, this.mask = c, this.range = h;
        }
      }
      Kt.ReadOnly = !1, Kt.ReadWrite = !0, Kt.disabled = new Kt(519, Kt.ReadOnly, [0, 1]);
      const oa = 7680;
      class La {
        constructor(s, c, h, g, x, M) {
          this.test = s, this.ref = c, this.mask = h, this.fail = g, this.depthFail = x, this.pass = M;
        }
      }
      La.disabled = new La({ func: 519, mask: 0 }, 0, 0, oa, oa, oa);
      class Ba {
        constructor(s, c, h) {
          this.enable = s, this.mode = c, this.frontFace = h;
        }
      }
      let rl;
      function uo(p, s, c, h, g, x, M) {
        const A = p.context, I = A.gl, O = p.useProgram("collisionBox"), z = [];
        let q = 0, G = 0;
        for (let te = 0; te < h.length; te++) {
          const Se = h[te], be = s.getTile(Se), Ie = be.getBucket(c);
          if (!Ie)
            continue;
          let Pe = Se.posMatrix;
          g[0] === 0 && g[1] === 0 || (Pe = p.translatePosMatrix(Se.posMatrix, be, g, x));
          const Ne = M ? Ie.textCollisionBox : Ie.iconCollisionBox, Ce = Ie.collisionCircleArray;
          if (Ce.length > 0) {
            const it = o.create(), Ke = Pe;
            o.mul(it, Ie.placementInvProjMatrix, p.transform.glCoordMatrix), o.mul(it, it, Ie.placementViewportMatrix), z.push({ circleArray: Ce, circleOffset: G, transform: Ke, invTransform: it, coord: Se }), q += Ce.length / 4, G = q;
          }
          Ne && O.draw(A, I.LINES, Kt.disabled, La.disabled, p.colorModeForRenderPass(), Ba.disabled, Es(Pe, p.transform, be), p.style.terrain && p.style.terrain.getTerrainData(Se), c.id, Ne.layoutVertexBuffer, Ne.indexBuffer, Ne.segments, null, p.transform.zoom, null, null, Ne.collisionVertexBuffer);
        }
        if (!M || !z.length)
          return;
        const ee = p.useProgram("collisionCircle"), K = new o.CollisionCircleLayoutArray();
        K.resize(4 * q), K._trim();
        let Y = 0;
        for (const te of z)
          for (let Se = 0; Se < te.circleArray.length / 4; Se++) {
            const be = 4 * Se, Ie = te.circleArray[be + 0], Pe = te.circleArray[be + 1], Ne = te.circleArray[be + 2], Ce = te.circleArray[be + 3];
            K.emplace(Y++, Ie, Pe, Ne, Ce, 0), K.emplace(Y++, Ie, Pe, Ne, Ce, 1), K.emplace(Y++, Ie, Pe, Ne, Ce, 2), K.emplace(Y++, Ie, Pe, Ne, Ce, 3);
          }
        (!rl || rl.length < 2 * q) && (rl = function(te) {
          const Se = 2 * te, be = new o.QuadTriangleArray();
          be.resize(Se), be._trim();
          for (let Ie = 0; Ie < Se; Ie++) {
            const Pe = 6 * Ie;
            be.uint16[Pe + 0] = 4 * Ie + 0, be.uint16[Pe + 1] = 4 * Ie + 1, be.uint16[Pe + 2] = 4 * Ie + 2, be.uint16[Pe + 3] = 4 * Ie + 2, be.uint16[Pe + 4] = 4 * Ie + 3, be.uint16[Pe + 5] = 4 * Ie + 0;
          }
          return be;
        }(q));
        const ue = A.createIndexBuffer(rl, !0), pe = A.createVertexBuffer(K, o.collisionCircleLayout.members, !0);
        for (const te of z) {
          const Se = { u_matrix: te.transform, u_inv_matrix: te.invTransform, u_camera_to_center_distance: (ve = p.transform).cameraToCenterDistance, u_viewport_size: [ve.width, ve.height] };
          ee.draw(A, I.TRIANGLES, Kt.disabled, La.disabled, p.colorModeForRenderPass(), Ba.disabled, Se, p.style.terrain && p.style.terrain.getTerrainData(te.coord), c.id, pe, ue, o.SegmentVector.simpleSegment(0, 2 * te.circleOffset, te.circleArray.length, te.circleArray.length / 2), null, p.transform.zoom, null, null, null);
        }
        var ve;
        pe.destroy(), ue.destroy();
      }
      Ba.disabled = new Ba(!1, 1029, 2305), Ba.backCCW = new Ba(!0, 1029, 2305);
      const bp = o.identity(new Float32Array(16));
      function xp(p, s, c, h, g, x) {
        const { horizontalAlign: M, verticalAlign: A } = o.getAnchorAlignment(p), I = -(M - 0.5) * s, O = -(A - 0.5) * c, z = o.evaluateVariableOffset(p, h);
        return new o.pointGeometry((I / g + z[0]) * x, (O / g + z[1]) * x);
      }
      function A_(p, s, c, h, g, x, M, A, I, O, z) {
        const q = p.text.placedSymbolArray, G = p.text.dynamicLayoutVertexArray, ee = p.icon.dynamicLayoutVertexArray, K = {};
        G.clear();
        for (let Y = 0; Y < q.length; Y++) {
          const ue = q.get(Y), pe = p.allowVerticalPlacement && !ue.placedOrientation, ve = ue.hidden || !ue.crossTileID || pe ? null : h[ue.crossTileID];
          if (ve) {
            const te = new o.pointGeometry(ue.anchorX, ue.anchorY), Se = Dt(te, c ? M : x, z), be = Qa(g.cameraToCenterDistance, Se.signedDistanceFromCamera);
            let Ie = o.evaluateSizeForFeature(p.textSizeData, I, ue) * be / o.ONE_EM;
            c && (Ie *= p.tilePixelRatio / A);
            const { width: Pe, height: Ne, anchor: Ce, textOffset: it, textBoxScale: Ke } = ve, rt = xp(Ce, Pe, Ne, it, Ke, Ie), At = c ? Dt(te.add(rt), x, z).point : Se.point.add(s ? rt.rotate(-g.angle) : rt), Bt = p.allowVerticalPlacement && ue.placedOrientation === o.WritingMode.vertical ? Math.PI / 2 : 0;
            for (let xt = 0; xt < ue.numGlyphs; xt++)
              o.addDynamicAttributes(G, At, Bt);
            O && ue.associatedIconIndex >= 0 && (K[ue.associatedIconIndex] = { shiftedAnchor: At, angle: Bt });
          } else
            ht(ue.numGlyphs, G);
        }
        if (O) {
          ee.clear();
          const Y = p.icon.placedSymbolArray;
          for (let ue = 0; ue < Y.length; ue++) {
            const pe = Y.get(ue);
            if (pe.hidden)
              ht(pe.numGlyphs, ee);
            else {
              const ve = K[ue];
              if (ve)
                for (let te = 0; te < pe.numGlyphs; te++)
                  o.addDynamicAttributes(ee, ve.shiftedAnchor, ve.angle);
              else
                ht(pe.numGlyphs, ee);
            }
          }
          p.icon.dynamicLayoutVertexBuffer.updateData(ee);
        }
        p.text.dynamicLayoutVertexBuffer.updateData(G);
      }
      function wp(p, s, c) {
        return c.iconsInText && s ? "symbolTextAndIcon" : p ? "symbolSDF" : "symbolIcon";
      }
      function du(p, s, c, h, g, x, M, A, I, O, z, q) {
        const G = p.context, ee = G.gl, K = p.transform, Y = A === "map", ue = I === "map", pe = A !== "viewport" && c.layout.get("symbol-placement") !== "point", ve = Y && !ue && !pe, te = !c.layout.get("symbol-sort-key").isConstant();
        let Se = !1;
        const be = p.depthModeForSublayer(0, Kt.ReadOnly), Ie = c.layout.get("text-variable-anchor"), Pe = [];
        for (const Ne of h) {
          const Ce = s.getTile(Ne), it = Ce.getBucket(c);
          if (!it)
            continue;
          const Ke = g ? it.text : it.icon;
          if (!Ke || !Ke.segments.get().length)
            continue;
          const rt = Ke.programConfigurations.get(c.id), At = g || it.sdfIcons, Bt = g ? it.textSizeData : it.iconSizeData, xt = ue || K.pitch !== 0, ma = p.useProgram(wp(At, g, it), rt), ha = o.evaluateSizeForZoom(Bt, K.zoom), Qt = p.style.terrain && p.style.terrain.getTerrainData(Ne);
          let ea, ya, Ei, xr, lr = [0, 0], wr = null;
          if (g) {
            if (ya = Ce.glyphAtlasTexture, Ei = ee.LINEAR, ea = Ce.glyphAtlasTexture.size, it.iconsInText) {
              lr = Ce.imageAtlasTexture.size, wr = Ce.imageAtlasTexture;
              const $n = Bt.kind === "composite" || Bt.kind === "camera";
              xr = xt || p.options.rotating || p.options.zooming || $n ? ee.LINEAR : ee.NEAREST;
            }
          } else {
            const $n = c.layout.get("icon-size").constantOr(0) !== 1 || it.iconsNeedLinear;
            ya = Ce.imageAtlasTexture, Ei = At || p.options.rotating || p.options.zooming || $n || xt ? ee.LINEAR : ee.NEAREST, ea = Ce.imageAtlasTexture.size;
          }
          const os = Va(Ce, 1, p.transform.zoom), Vn = Wi(Ne.posMatrix, ue, Y, p.transform, os), hn = zi(Ne.posMatrix, ue, Y, p.transform, os), zr = Ie && it.hasTextData(), yu = c.layout.get("icon-text-fit") !== "none" && zr && it.hasIconData();
          if (pe) {
            const $n = p.style.terrain ? ($d, fo) => p.style.terrain.getElevation(Ne, $d, fo) : null, Ps = c.layout.get("text-rotation-alignment") === "map";
            na(it, Ne.posMatrix, p, g, Vn, hn, ue, O, Ps, $n);
          }
          const pi = p.translatePosMatrix(Ne.posMatrix, Ce, x, M), jt = pe || g && Ie || yu ? bp : Vn, la = p.translatePosMatrix(hn, Ce, x, M, !0), Li = At && c.paint.get(g ? "text-halo-width" : "icon-halo-width").constantOr(1) !== 0;
          let Ci;
          Ci = At ? it.iconsInText ? b_(Bt.kind, ha, ve, ue, p, pi, jt, la, ea, lr) : iu(Bt.kind, ha, ve, ue, p, pi, jt, la, g, ea, !0) : vd(Bt.kind, ha, ve, ue, p, pi, jt, la, g, ea);
          const qa = { program: ma, buffers: Ke, uniformValues: Ci, atlasTexture: ya, atlasTextureIcon: wr, atlasInterpolation: Ei, atlasInterpolationIcon: xr, isSDF: At, hasHalo: Li };
          if (te && it.canOverlap) {
            Se = !0;
            const $n = Ke.segments.get();
            for (const Ps of $n)
              Pe.push({ segments: new o.SegmentVector([Ps]), sortKey: Ps.sortKey, state: qa, terrainData: Qt });
          } else
            Pe.push({ segments: Ke.segments, sortKey: 0, state: qa, terrainData: Qt });
        }
        Se && Pe.sort((Ne, Ce) => Ne.sortKey - Ce.sortKey);
        for (const Ne of Pe) {
          const Ce = Ne.state;
          if (G.activeTexture.set(ee.TEXTURE0), Ce.atlasTexture.bind(Ce.atlasInterpolation, ee.CLAMP_TO_EDGE), Ce.atlasTextureIcon && (G.activeTexture.set(ee.TEXTURE1), Ce.atlasTextureIcon && Ce.atlasTextureIcon.bind(Ce.atlasInterpolationIcon, ee.CLAMP_TO_EDGE)), Ce.isSDF) {
            const it = Ce.uniformValues;
            Ce.hasHalo && (it.u_is_halo = 1, sl(Ce.buffers, Ne.segments, c, p, Ce.program, be, z, q, it, Ne.terrainData)), it.u_is_halo = 0;
          }
          sl(Ce.buffers, Ne.segments, c, p, Ce.program, be, z, q, Ce.uniformValues, Ne.terrainData);
        }
      }
      function sl(p, s, c, h, g, x, M, A, I, O) {
        const z = h.context;
        g.draw(z, z.gl.TRIANGLES, x, M, A, Ba.disabled, I, O, c.id, p.layoutVertexBuffer, p.indexBuffer, s, c.paint, h.transform.zoom, p.programConfigurations.get(c.id), p.dynamicLayoutVertexBuffer, p.opacityVertexBuffer);
      }
      function ol(p, s, c, h, g, x, M) {
        const A = p.context.gl, I = c.paint.get("fill-pattern"), O = I && I.constantOr(1), z = c.getCrossfadeParameters();
        let q, G, ee, K, Y;
        M ? (G = O && !c.getPaintProperty("fill-outline-color") ? "fillOutlinePattern" : "fillOutline", q = A.LINES) : (G = O ? "fillPattern" : "fill", q = A.TRIANGLES);
        for (const ue of h) {
          const pe = s.getTile(ue);
          if (O && !pe.patternsLoaded())
            continue;
          const ve = pe.getBucket(c);
          if (!ve)
            continue;
          const te = ve.programConfigurations.get(c.id), Se = p.useProgram(G, te), be = p.style.terrain && p.style.terrain.getTerrainData(ue);
          O && (p.context.activeTexture.set(A.TEXTURE0), pe.imageAtlasTexture.bind(A.LINEAR, A.CLAMP_TO_EDGE), te.updatePaintBuffers(z));
          const Ie = I.constantOr(null);
          if (Ie && pe.imageAtlas) {
            const Ce = pe.imageAtlas, it = Ce.patternPositions[Ie.to.toString()], Ke = Ce.patternPositions[Ie.from.toString()];
            it && Ke && te.setConstantPatternPositions(it, Ke);
          }
          const Pe = be ? ue : null, Ne = p.translatePosMatrix(Pe ? Pe.posMatrix : ue.posMatrix, pe, c.paint.get("fill-translate"), c.paint.get("fill-translate-anchor"));
          if (M) {
            K = ve.indexBuffer2, Y = ve.segments2;
            const Ce = [A.drawingBufferWidth, A.drawingBufferHeight];
            ee = G === "fillOutlinePattern" && O ? f_(Ne, p, z, pe, Ce) : p_(Ne, Ce);
          } else
            K = ve.indexBuffer, Y = ve.segments, ee = O ? gd(Ne, p, z, pe) : Jl(Ne);
          Se.draw(p.context, q, g, p.stencilModeForClipping(ue), x, Ba.disabled, ee, be, c.id, ve.layoutVertexBuffer, K, Y, c.paint, p.transform.zoom, te);
        }
      }
      function ll(p, s, c, h, g, x, M) {
        const A = p.context, I = A.gl, O = c.paint.get("fill-extrusion-pattern"), z = O.constantOr(1), q = c.getCrossfadeParameters(), G = c.paint.get("fill-extrusion-opacity");
        for (const ee of h) {
          const K = s.getTile(ee), Y = K.getBucket(c);
          if (!Y)
            continue;
          const ue = p.style.terrain && p.style.terrain.getTerrainData(ee), pe = Y.programConfigurations.get(c.id), ve = p.useProgram(z ? "fillExtrusionPattern" : "fillExtrusion", pe);
          z && (p.context.activeTexture.set(I.TEXTURE0), K.imageAtlasTexture.bind(I.LINEAR, I.CLAMP_TO_EDGE), pe.updatePaintBuffers(q));
          const te = O.constantOr(null);
          if (te && K.imageAtlas) {
            const Pe = K.imageAtlas, Ne = Pe.patternPositions[te.to.toString()], Ce = Pe.patternPositions[te.from.toString()];
            Ne && Ce && pe.setConstantPatternPositions(Ne, Ce);
          }
          const Se = p.translatePosMatrix(ee.posMatrix, K, c.paint.get("fill-extrusion-translate"), c.paint.get("fill-extrusion-translate-anchor")), be = c.paint.get("fill-extrusion-vertical-gradient"), Ie = z ? dp(Se, p, be, G, ee, q, K) : fd(Se, p, be, G);
          ve.draw(A, A.gl.TRIANGLES, g, x, M, Ba.backCCW, Ie, ue, c.id, Y.layoutVertexBuffer, Y.indexBuffer, Y.segments, c.paint, p.transform.zoom, pe, p.style.terrain && Y.centroidVertexBuffer);
        }
      }
      function Od(p, s, c, h, g, x, M) {
        const A = p.context, I = A.gl, O = c.fbo;
        if (!O)
          return;
        const z = p.useProgram("hillshade"), q = p.style.terrain && p.style.terrain.getTerrainData(s);
        A.activeTexture.set(I.TEXTURE0), I.bindTexture(I.TEXTURE_2D, O.colorAttachment.get()), z.draw(A, I.TRIANGLES, g, x, M, Ba.disabled, ((G, ee, K, Y) => {
          const ue = K.paint.get("hillshade-shadow-color"), pe = K.paint.get("hillshade-highlight-color"), ve = K.paint.get("hillshade-accent-color");
          let te = K.paint.get("hillshade-illumination-direction") * (Math.PI / 180);
          K.paint.get("hillshade-illumination-anchor") === "viewport" && (te -= G.transform.angle);
          const Se = !G.options.moving;
          return { u_matrix: Y ? Y.posMatrix : G.transform.calculatePosMatrix(ee.tileID.toUnwrapped(), Se), u_image: 0, u_latrange: tu(0, ee.tileID), u_light: [K.paint.get("hillshade-exaggeration"), te], u_shadow: ue, u_highlight: pe, u_accent: ve };
        })(p, c, h, q ? s : null), q, h.id, p.rasterBoundsBuffer, p.quadTriangleIndexBuffer, p.rasterBoundsSegments);
      }
      function I_(p, s, c, h, g, x) {
        const M = p.context, A = M.gl, I = s.dem;
        if (I && I.data) {
          const O = I.dim, z = I.stride, q = I.getPixels();
          if (M.activeTexture.set(A.TEXTURE1), M.pixelStoreUnpackPremultiplyAlpha.set(!1), s.demTexture = s.demTexture || p.getTileTexture(z), s.demTexture) {
            const ee = s.demTexture;
            ee.update(q, { premultiply: !1 }), ee.bind(A.NEAREST, A.CLAMP_TO_EDGE);
          } else
            s.demTexture = new j(M, q, A.RGBA, { premultiply: !1 }), s.demTexture.bind(A.NEAREST, A.CLAMP_TO_EDGE);
          M.activeTexture.set(A.TEXTURE0);
          let G = s.fbo;
          if (!G) {
            const ee = new j(M, { width: O, height: O, data: null }, A.RGBA);
            ee.bind(A.LINEAR, A.CLAMP_TO_EDGE), G = s.fbo = M.createFramebuffer(O, O, !0), G.colorAttachment.set(ee.texture);
          }
          M.bindFramebuffer.set(G.framebuffer), M.viewport.set([0, 0, O, O]), p.useProgram("hillshadePrepare").draw(M, A.TRIANGLES, h, g, x, Ba.disabled, ((ee, K) => {
            const Y = K.stride, ue = o.create();
            return o.ortho(ue, 0, o.EXTENT, -o.EXTENT, 0, 0, 1), o.translate(ue, ue, [0, -o.EXTENT, 0]), { u_matrix: ue, u_image: 1, u_dimension: [Y, Y], u_zoom: ee.overscaledZ, u_unpack: K.getUnpackVector() };
          })(s.tileID, I), null, c.id, p.rasterBoundsBuffer, p.quadTriangleIndexBuffer, p.rasterBoundsSegments), s.needsHillshadePrepare = !1;
        }
      }
      function cu(p, s, c, h, g, x) {
        const M = h.paint.get("raster-fade-duration");
        if (!x && M > 0) {
          const A = o.exported.now(), I = (A - p.timeAdded) / M, O = s ? (A - s.timeAdded) / M : -1, z = c.getSource(), q = g.coveringZoomLevel({ tileSize: z.tileSize, roundZoom: z.roundZoom }), G = !s || Math.abs(s.tileID.overscaledZ - q) > Math.abs(p.tileID.overscaledZ - q), ee = G && p.refreshedUponExpiration ? 1 : o.clamp(G ? I : 1 - O, 0, 1);
          return p.refreshedUponExpiration && I >= 1 && (p.refreshedUponExpiration = !1), s ? { opacity: 1, mix: 1 - ee } : { opacity: ee, mix: 0 };
        }
        return { opacity: 1, mix: 0 };
      }
      const _u = new o.Color(1, 0, 0, 1), or = new o.Color(0, 1, 0, 1), P_ = new o.Color(0, 0, 1, 1), Rd = new o.Color(1, 0, 1, 1), O_ = new o.Color(0, 1, 1, 1);
      function Cs(p, s, c, h) {
        co(p, 0, s + c / 2, p.transform.width, c, h);
      }
      function ul(p, s, c, h) {
        co(p, s - c / 2, 0, c, p.transform.height, h);
      }
      function co(p, s, c, h, g, x) {
        const M = p.context, A = M.gl;
        A.enable(A.SCISSOR_TEST), A.scissor(s * p.pixelRatio, c * p.pixelRatio, h * p.pixelRatio, g * p.pixelRatio), M.clear({ color: x }), A.disable(A.SCISSOR_TEST);
      }
      function Sp(p, s, c) {
        const h = p.context, g = h.gl, x = c.posMatrix, M = p.useProgram("debug"), A = Kt.disabled, I = La.disabled, O = p.colorModeForRenderPass(), z = "$debug", q = p.style.terrain && p.style.terrain.getTerrainData(c);
        h.activeTexture.set(g.TEXTURE0), p.emptyTexture.bind(g.LINEAR, g.CLAMP_TO_EDGE);
        const G = s.getTileByID(c.key).latestRawTileData, ee = Math.floor((G && G.byteLength || 0) / 1024), K = s.getTile(c).tileSize, Y = 512 / Math.min(K, 512) * (c.overscaledZ / p.transform.zoom) * 0.5;
        let ue = c.canonical.toString();
        c.overscaledZ !== c.canonical.z && (ue += ` => ${c.overscaledZ}`), function(pe, ve) {
          pe.initDebugOverlayCanvas();
          const te = pe.debugOverlayCanvas, Se = pe.context.gl, be = pe.debugOverlayCanvas.getContext("2d");
          be.clearRect(0, 0, te.width, te.height), be.shadowColor = "white", be.shadowBlur = 2, be.lineWidth = 1.5, be.strokeStyle = "white", be.textBaseline = "top", be.font = "bold 36px Open Sans, sans-serif", be.fillText(ve, 5, 5), be.strokeText(ve, 5, 5), pe.debugOverlayTexture.update(te), pe.debugOverlayTexture.bind(Se.LINEAR, Se.CLAMP_TO_EDGE);
        }(p, `${ue} ${ee}kB`), M.draw(h, g.TRIANGLES, A, I, Pa.alphaBlended, Ba.disabled, el(x, o.Color.transparent, Y), null, z, p.debugBuffer, p.quadTriangleIndexBuffer, p.debugSegments), M.draw(h, g.LINE_STRIP, A, I, O, Ba.disabled, el(x, o.Color.red), q, z, p.debugBuffer, p.tileBorderIndexBuffer, p.debugSegments);
      }
      function mu(p, s, c) {
        const h = p.context, g = h.gl, x = p.colorModeForRenderPass(), M = new Kt(g.LEQUAL, Kt.ReadWrite, p.depthRangeFor3D), A = p.useProgram("terrain"), I = s.getTerrainMesh(), O = s.getTerrainData(c.tileID);
        h.bindFramebuffer.set(null), h.viewport.set([0, 0, p.width, p.height]), h.activeTexture.set(g.TEXTURE0), g.bindTexture(g.TEXTURE_2D, s.getRTTFramebuffer().colorAttachment.get());
        const z = p.transform.calculatePosMatrix(c.tileID.toUnwrapped());
        A.draw(h, g.TRIANGLES, M, La.disabled, x, Ba.backCCW, { u_matrix: z, u_texture: 0 }, O, "terrain", I.vertexBuffer, I.indexBuffer, I.segments);
      }
      function R_(p, s, c, h) {
        const g = p.context, x = c.tileSize * s.qualityFactor;
        c.textures[h] || (c.textures[h] = p.getTileTexture(x) || new j(g, { width: x, height: x, data: null }, g.gl.RGBA), c.textures[h].bind(g.gl.LINEAR, g.gl.CLAMP_TO_EDGE), h === 0 && s.sourceCache.renderHistory.unshift(c.tileID.key));
        const M = s.getRTTFramebuffer();
        M.colorAttachment.set(c.textures[h].texture), g.bindFramebuffer.set(M.framebuffer), g.viewport.set([0, 0, x, x]);
      }
      class k_ {
        constructor(s) {
          this._coordsDescendingInv = {}, this._coordsDescendingInvStr = {}, this.painter = s, this._renderToTexture = { background: !0, fill: !0, line: !0, raster: !0 }, this._coordsDescendingInv = {}, this._coordsDescendingInvStr = {}, this._stacks = [], this._prevType = null, this._rerender = {}, this._renderableTiles = s.style.terrain.sourceCache.getRenderableTiles(), this._init();
        }
        _init() {
          const s = this.painter.style, c = s.terrain;
          for (const h in s.sourceCaches) {
            this._coordsDescendingInv[h] = {};
            const g = s.sourceCaches[h].getVisibleCoordinates();
            for (const x of g) {
              const M = c.sourceCache.getTerrainCoords(x);
              for (const A in M)
                this._coordsDescendingInv[h][A] || (this._coordsDescendingInv[h][A] = []), this._coordsDescendingInv[h][A].push(M[A]);
            }
          }
          for (const h of s._order) {
            const g = s._layers[h], x = g.source;
            if (this._renderToTexture[g.type] && !this._coordsDescendingInvStr[x]) {
              this._coordsDescendingInvStr[x] = {};
              for (const M in this._coordsDescendingInv[x])
                this._coordsDescendingInvStr[x][M] = this._coordsDescendingInv[x][M].map((A) => A.key).sort().join();
            }
          }
          return this._renderableTiles.forEach((h) => {
            for (const g in this._coordsDescendingInvStr) {
              const x = this._coordsDescendingInvStr[g][h.tileID.key];
              x && x !== h.textureCoords[g] && h.clearTextures(this.painter), c.needsRerender(g, h.tileID) && h.clearTextures(this.painter);
            }
            this._rerender[h.tileID.key] = !h.textures.length;
          }), c.clearRerenderCache(), c.sourceCache.removeOutdated(this.painter), this;
        }
        renderLayer(s) {
          const c = s.type, h = this.painter, g = h.style._order, x = h.currentLayer, M = x + 1 === g.length;
          if (this._renderToTexture[c] && (this._prevType && this._renderToTexture[this._prevType] || this._stacks.push([]), this._prevType = c, this._stacks[this._stacks.length - 1].push(g[x]), !M))
            return !0;
          if (this._renderToTexture[this._prevType] || c === "hillshade" || this._renderToTexture[c] && M) {
            this._prevType = c;
            const A = this._stacks.length - 1, I = this._stacks[A] || [];
            for (const O of this._renderableTiles) {
              if (R_(h, h.style.terrain, O, A), this._rerender[O.tileID.key]) {
                h.context.clear({ color: o.Color.transparent });
                for (let z = 0; z < I.length; z++) {
                  const q = h.style._layers[I[z]], G = q.source ? this._coordsDescendingInv[q.source][O.tileID.key] : [O.tileID];
                  h._renderTileClippingMasks(q, G), h.renderLayer(h, h.style.sourceCaches[q.source], q, G), q.source && (O.textureCoords[q.source] = this._coordsDescendingInvStr[q.source][O.tileID.key]);
                }
              }
              mu(h, h.style.terrain, O);
            }
            if (c === "hillshade") {
              this._stacks.push([g[x]]);
              for (const O of this._renderableTiles) {
                const z = this._coordsDescendingInv[s.source][O.tileID.key];
                R_(h, h.style.terrain, O, this._stacks.length - 1), h.context.clear({ color: o.Color.transparent }), h._renderTileClippingMasks(s, z), h.renderLayer(h, h.style.sourceCaches[s.source], s, z), mu(h, h.style.terrain, O);
              }
              return !0;
            }
            return this._renderToTexture[c];
          }
          return !1;
        }
      }
      const dl = { symbol: function(p, s, c, h, g) {
        if (p.renderPass !== "translucent")
          return;
        const x = La.disabled, M = p.colorModeForRenderPass();
        c.layout.get("text-variable-anchor") && function(A, I, O, z, q, G, ee) {
          const K = I.transform, Y = q === "map", ue = G === "map";
          for (const pe of A) {
            const ve = z.getTile(pe), te = ve.getBucket(O);
            if (!te || !te.text || !te.text.segments.get().length)
              continue;
            const Se = o.evaluateSizeForZoom(te.textSizeData, K.zoom), be = Va(ve, 1, I.transform.zoom), Ie = Wi(pe.posMatrix, ue, Y, I.transform, be), Pe = O.layout.get("icon-text-fit") !== "none" && te.hasIconData();
            if (Se) {
              const Ne = Math.pow(2, K.zoom - ve.tileID.overscaledZ);
              A_(te, Y, ue, ee, K, Ie, pe.posMatrix, Ne, Se, Pe, I.style.terrain ? (Ce, it) => I.style.terrain.getElevation(pe, Ce, it) : null);
            }
          }
        }(h, p, c, s, c.layout.get("text-rotation-alignment"), c.layout.get("text-pitch-alignment"), g), c.paint.get("icon-opacity").constantOr(1) !== 0 && du(p, s, c, h, !1, c.paint.get("icon-translate"), c.paint.get("icon-translate-anchor"), c.layout.get("icon-rotation-alignment"), c.layout.get("icon-pitch-alignment"), c.layout.get("icon-keep-upright"), x, M), c.paint.get("text-opacity").constantOr(1) !== 0 && du(p, s, c, h, !0, c.paint.get("text-translate"), c.paint.get("text-translate-anchor"), c.layout.get("text-rotation-alignment"), c.layout.get("text-pitch-alignment"), c.layout.get("text-keep-upright"), x, M), s.map.showCollisionBoxes && (uo(p, s, c, h, c.paint.get("text-translate"), c.paint.get("text-translate-anchor"), !0), uo(p, s, c, h, c.paint.get("icon-translate"), c.paint.get("icon-translate-anchor"), !1));
      }, circle: function(p, s, c, h) {
        if (p.renderPass !== "translucent")
          return;
        const g = c.paint.get("circle-opacity"), x = c.paint.get("circle-stroke-width"), M = c.paint.get("circle-stroke-opacity"), A = !c.layout.get("circle-sort-key").isConstant();
        if (g.constantOr(1) === 0 && (x.constantOr(1) === 0 || M.constantOr(1) === 0))
          return;
        const I = p.context, O = I.gl, z = p.depthModeForSublayer(0, Kt.ReadOnly), q = La.disabled, G = p.colorModeForRenderPass(), ee = [];
        for (let K = 0; K < h.length; K++) {
          const Y = h[K], ue = s.getTile(Y), pe = ue.getBucket(c);
          if (!pe)
            continue;
          const ve = pe.programConfigurations.get(c.id), te = p.useProgram("circle", ve), Se = pe.layoutVertexBuffer, be = pe.indexBuffer, Ie = p.style.terrain && p.style.terrain.getTerrainData(Y), Pe = { programConfiguration: ve, program: te, layoutVertexBuffer: Se, indexBuffer: be, uniformValues: g_(p, Y, ue, c), terrainData: Ie };
          if (A) {
            const Ne = pe.segments.get();
            for (const Ce of Ne)
              ee.push({ segments: new o.SegmentVector([Ce]), sortKey: Ce.sortKey, state: Pe });
          } else
            ee.push({ segments: pe.segments, sortKey: 0, state: Pe });
        }
        A && ee.sort((K, Y) => K.sortKey - Y.sortKey);
        for (const K of ee) {
          const { programConfiguration: Y, program: ue, layoutVertexBuffer: pe, indexBuffer: ve, uniformValues: te, terrainData: Se } = K.state;
          ue.draw(I, O.TRIANGLES, z, q, G, Ba.disabled, te, Se, c.id, pe, ve, K.segments, c.paint, p.transform.zoom, Y);
        }
      }, heatmap: function(p, s, c, h) {
        if (c.paint.get("heatmap-opacity") !== 0)
          if (p.renderPass === "offscreen") {
            const g = p.context, x = g.gl, M = La.disabled, A = new Pa([x.ONE, x.ONE], o.Color.transparent, [!0, !0, !0, !0]);
            (function(I, O, z) {
              const q = I.gl;
              I.activeTexture.set(q.TEXTURE1), I.viewport.set([0, 0, O.width / 4, O.height / 4]);
              let G = z.heatmapFbo;
              if (G)
                q.bindTexture(q.TEXTURE_2D, G.colorAttachment.get()), I.bindFramebuffer.set(G.framebuffer);
              else {
                const ee = q.createTexture();
                q.bindTexture(q.TEXTURE_2D, ee), q.texParameteri(q.TEXTURE_2D, q.TEXTURE_WRAP_S, q.CLAMP_TO_EDGE), q.texParameteri(q.TEXTURE_2D, q.TEXTURE_WRAP_T, q.CLAMP_TO_EDGE), q.texParameteri(q.TEXTURE_2D, q.TEXTURE_MIN_FILTER, q.LINEAR), q.texParameteri(q.TEXTURE_2D, q.TEXTURE_MAG_FILTER, q.LINEAR), G = z.heatmapFbo = I.createFramebuffer(O.width / 4, O.height / 4, !1), function(K, Y, ue, pe) {
                  const ve = K.gl;
                  ve.texImage2D(ve.TEXTURE_2D, 0, ve.RGBA, Y.width / 4, Y.height / 4, 0, ve.RGBA, K.extRenderToTextureHalfFloat ? K.extTextureHalfFloat.HALF_FLOAT_OES : ve.UNSIGNED_BYTE, null), pe.colorAttachment.set(ue);
                }(I, O, ee, G);
              }
            })(g, p, c), g.clear({ color: o.Color.transparent });
            for (let I = 0; I < h.length; I++) {
              const O = h[I];
              if (s.hasRenderableParent(O))
                continue;
              const z = s.getTile(O), q = z.getBucket(c);
              if (!q)
                continue;
              const G = q.programConfigurations.get(c.id), ee = p.useProgram("heatmap", G), { zoom: K } = p.transform;
              ee.draw(g, x.TRIANGLES, Kt.disabled, M, A, Ba.disabled, eu(O.posMatrix, z, K, c.paint.get("heatmap-intensity")), null, c.id, q.layoutVertexBuffer, q.indexBuffer, q.segments, c.paint, p.transform.zoom, G);
            }
            g.viewport.set([0, 0, p.width, p.height]);
          } else
            p.renderPass === "translucent" && (p.context.setColorMode(p.colorModeForRenderPass()), function(g, x) {
              const M = g.context, A = M.gl, I = x.heatmapFbo;
              if (!I)
                return;
              M.activeTexture.set(A.TEXTURE0), A.bindTexture(A.TEXTURE_2D, I.colorAttachment.get()), M.activeTexture.set(A.TEXTURE1);
              let O = x.colorRampTexture;
              O || (O = x.colorRampTexture = new j(M, x.colorRamp, A.RGBA)), O.bind(A.LINEAR, A.CLAMP_TO_EDGE), g.useProgram("heatmapTexture").draw(M, A.TRIANGLES, Kt.disabled, La.disabled, g.colorModeForRenderPass(), Ba.disabled, ((z, q, G, ee) => {
                const K = o.create();
                o.ortho(K, 0, z.width, z.height, 0, 0, 1);
                const Y = z.context.gl;
                return { u_matrix: K, u_world: [Y.drawingBufferWidth, Y.drawingBufferHeight], u_image: 0, u_color_ramp: 1, u_opacity: q.paint.get("heatmap-opacity") };
              })(g, x), null, x.id, g.viewportBuffer, g.quadTriangleIndexBuffer, g.viewportSegments, x.paint, g.transform.zoom);
            }(p, c));
      }, line: function(p, s, c, h) {
        if (p.renderPass !== "translucent")
          return;
        const g = c.paint.get("line-opacity"), x = c.paint.get("line-width");
        if (g.constantOr(1) === 0 || x.constantOr(1) === 0)
          return;
        const M = p.depthModeForSublayer(0, Kt.ReadOnly), A = p.colorModeForRenderPass(), I = c.paint.get("line-dasharray"), O = c.paint.get("line-pattern"), z = O.constantOr(1), q = c.paint.get("line-gradient"), G = c.getCrossfadeParameters(), ee = z ? "linePattern" : I ? "lineSDF" : q ? "lineGradient" : "line", K = p.context, Y = K.gl;
        let ue = !0;
        for (const pe of h) {
          const ve = s.getTile(pe);
          if (z && !ve.patternsLoaded())
            continue;
          const te = ve.getBucket(c);
          if (!te)
            continue;
          const Se = te.programConfigurations.get(c.id), be = p.context.program.get(), Ie = p.useProgram(ee, Se), Pe = ue || Ie.program !== be, Ne = p.style.terrain && p.style.terrain.getTerrainData(pe), Ce = O.constantOr(null);
          if (Ce && ve.imageAtlas) {
            const rt = ve.imageAtlas, At = rt.patternPositions[Ce.to.toString()], Bt = rt.patternPositions[Ce.from.toString()];
            At && Bt && Se.setConstantPatternPositions(At, Bt);
          }
          const it = Ne ? pe : null, Ke = z ? au(p, ve, c, G, it) : I ? tl(p, ve, c, I, G, it) : q ? yd(p, ve, c, te.lineClipsArray.length, it) : ro(p, ve, c, it);
          if (z)
            K.activeTexture.set(Y.TEXTURE0), ve.imageAtlasTexture.bind(Y.LINEAR, Y.CLAMP_TO_EDGE), Se.updatePaintBuffers(G);
          else if (I && (Pe || p.lineAtlas.dirty))
            K.activeTexture.set(Y.TEXTURE0), p.lineAtlas.bind(K);
          else if (q) {
            const rt = te.gradients[c.id];
            let At = rt.texture;
            if (c.gradientVersion !== rt.version) {
              let Bt = 256;
              if (c.stepInterpolant) {
                const xt = s.getSource().maxzoom, ma = pe.canonical.z === xt ? Math.ceil(1 << p.transform.maxZoom - pe.canonical.z) : 1;
                Bt = o.clamp(o.nextPowerOfTwo(te.maxLineLength / o.EXTENT * 1024 * ma), 256, K.maxTextureSize);
              }
              rt.gradient = o.renderColorRamp({ expression: c.gradientExpression(), evaluationKey: "lineProgress", resolution: Bt, image: rt.gradient || void 0, clips: te.lineClipsArray }), rt.texture ? rt.texture.update(rt.gradient) : rt.texture = new j(K, rt.gradient, Y.RGBA), rt.version = c.gradientVersion, At = rt.texture;
            }
            K.activeTexture.set(Y.TEXTURE0), At.bind(c.stepInterpolant ? Y.NEAREST : Y.LINEAR, Y.CLAMP_TO_EDGE);
          }
          Ie.draw(K, Y.TRIANGLES, M, p.stencilModeForClipping(pe), A, Ba.disabled, Ke, Ne, c.id, te.layoutVertexBuffer, te.indexBuffer, te.segments, c.paint, p.transform.zoom, Se, te.layoutVertexBuffer2), ue = !1;
        }
      }, fill: function(p, s, c, h) {
        const g = c.paint.get("fill-color"), x = c.paint.get("fill-opacity");
        if (x.constantOr(1) === 0)
          return;
        const M = p.colorModeForRenderPass(), A = c.paint.get("fill-pattern"), I = p.opaquePassEnabledForLayer() && !A.constantOr(1) && g.constantOr(o.Color.transparent).a === 1 && x.constantOr(0) === 1 ? "opaque" : "translucent";
        if (p.renderPass === I) {
          const O = p.depthModeForSublayer(1, p.renderPass === "opaque" ? Kt.ReadWrite : Kt.ReadOnly);
          ol(p, s, c, h, O, M, !1);
        }
        if (p.renderPass === "translucent" && c.paint.get("fill-antialias")) {
          const O = p.depthModeForSublayer(c.getPaintProperty("fill-outline-color") ? 2 : 0, Kt.ReadOnly);
          ol(p, s, c, h, O, M, !0);
        }
      }, "fill-extrusion": function(p, s, c, h) {
        const g = c.paint.get("fill-extrusion-opacity");
        if (g !== 0 && p.renderPass === "translucent") {
          const x = new Kt(p.context.gl.LEQUAL, Kt.ReadWrite, p.depthRangeFor3D);
          if (g !== 1 || c.paint.get("fill-extrusion-pattern").constantOr(1))
            ll(p, s, c, h, x, La.disabled, Pa.disabled), ll(p, s, c, h, x, p.stencilModeFor3D(), p.colorModeForRenderPass());
          else {
            const M = p.colorModeForRenderPass();
            ll(p, s, c, h, x, La.disabled, M);
          }
        }
      }, hillshade: function(p, s, c, h) {
        if (p.renderPass !== "offscreen" && p.renderPass !== "translucent")
          return;
        const g = p.context, x = p.depthModeForSublayer(0, Kt.ReadOnly), M = p.colorModeForRenderPass(), [A, I] = p.renderPass === "translucent" ? p.stencilConfigForOverlap(h) : [{}, h];
        for (const O of I) {
          const z = s.getTile(O);
          z.needsHillshadePrepare !== void 0 && z.needsHillshadePrepare && p.renderPass === "offscreen" ? I_(p, z, c, x, La.disabled, M) : p.renderPass === "translucent" && Od(p, O, z, c, x, A[O.overscaledZ], M);
        }
        g.viewport.set([0, 0, p.width, p.height]);
      }, raster: function(p, s, c, h) {
        if (p.renderPass !== "translucent" || c.paint.get("raster-opacity") === 0 || !h.length)
          return;
        const g = p.context, x = g.gl, M = s.getSource(), A = p.useProgram("raster"), I = p.colorModeForRenderPass(), [O, z] = M instanceof Mt ? [{}, h] : p.stencilConfigForOverlap(h), q = z[z.length - 1].overscaledZ, G = !p.options.moving;
        for (const ee of z) {
          const K = p.depthModeForSublayer(ee.overscaledZ - q, c.paint.get("raster-opacity") === 1 ? Kt.ReadWrite : Kt.ReadOnly, x.LESS), Y = s.getTile(ee);
          Y.registerFadeDuration(c.paint.get("raster-fade-duration"));
          const ue = s.findLoadedParent(ee, 0), pe = cu(Y, ue, s, c, p.transform, p.style.terrain);
          let ve, te;
          const Se = c.paint.get("raster-resampling") === "nearest" ? x.NEAREST : x.LINEAR;
          g.activeTexture.set(x.TEXTURE0), Y.texture.bind(Se, x.CLAMP_TO_EDGE, x.LINEAR_MIPMAP_NEAREST), g.activeTexture.set(x.TEXTURE1), ue ? (ue.texture.bind(Se, x.CLAMP_TO_EDGE, x.LINEAR_MIPMAP_NEAREST), ve = Math.pow(2, ue.tileID.overscaledZ - Y.tileID.overscaledZ), te = [Y.tileID.canonical.x * ve % 1, Y.tileID.canonical.y * ve % 1]) : Y.texture.bind(Se, x.CLAMP_TO_EDGE, x.LINEAR_MIPMAP_NEAREST);
          const be = p.style.terrain && p.style.terrain.getTerrainData(ee), Ie = be ? ee : null, Pe = Ie ? Ie.posMatrix : p.transform.calculatePosMatrix(ee.toUnwrapped(), G), Ne = y_(Pe, te || [0, 0], ve || 1, pe, c);
          M instanceof Mt ? A.draw(g, x.TRIANGLES, K, La.disabled, I, Ba.disabled, Ne, be, c.id, M.boundsBuffer, p.quadTriangleIndexBuffer, M.boundsSegments) : A.draw(g, x.TRIANGLES, K, O[ee.overscaledZ], I, Ba.disabled, Ne, be, c.id, p.rasterBoundsBuffer, p.quadTriangleIndexBuffer, p.rasterBoundsSegments);
        }
      }, background: function(p, s, c, h) {
        const g = c.paint.get("background-color"), x = c.paint.get("background-opacity");
        if (x === 0)
          return;
        const M = p.context, A = M.gl, I = p.transform, O = I.tileSize, z = c.paint.get("background-pattern");
        if (p.isPatternMissing(z))
          return;
        const q = !z && g.a === 1 && x === 1 && p.opaquePassEnabledForLayer() ? "opaque" : "translucent";
        if (p.renderPass !== q)
          return;
        const G = La.disabled, ee = p.depthModeForSublayer(0, q === "opaque" ? Kt.ReadWrite : Kt.ReadOnly), K = p.colorModeForRenderPass(), Y = p.useProgram(z ? "backgroundPattern" : "background"), ue = h || I.coveringTiles({ tileSize: O, terrain: p.style.terrain });
        z && (M.activeTexture.set(A.TEXTURE0), p.imageManager.bind(p.context));
        const pe = c.getCrossfadeParameters();
        for (const ve of ue) {
          const te = h ? ve.posMatrix : p.transform.calculatePosMatrix(ve.toUnwrapped()), Se = z ? _p(te, x, p, z, { tileID: ve, tileSize: O }, pe) : cp(te, x, g), be = p.style.terrain && p.style.terrain.getTerrainData(ve);
          Y.draw(M, A.TRIANGLES, ee, G, K, Ba.disabled, Se, be, c.id, p.tileExtentBuffer, p.quadTriangleIndexBuffer, p.tileExtentSegments);
        }
      }, debug: function(p, s, c) {
        for (let h = 0; h < c.length; h++)
          Sp(p, s, c[h]);
      }, custom: function(p, s, c) {
        const h = p.context, g = c.implementation;
        if (p.renderPass === "offscreen") {
          const x = g.prerender;
          x && (p.setCustomLayerDefaults(), h.setColorMode(p.colorModeForRenderPass()), x.call(g, h.gl, p.transform.customLayerMatrix()), h.setDirty(), p.setBaseState());
        } else if (p.renderPass === "translucent") {
          p.setCustomLayerDefaults(), h.setColorMode(p.colorModeForRenderPass()), h.setStencilMode(La.disabled);
          const x = g.renderingMode === "3d" ? new Kt(p.context.gl.LEQUAL, Kt.ReadWrite, p.depthRangeFor3D) : p.depthModeForSublayer(0, Kt.ReadOnly);
          h.setDepthMode(x), g.render(h.gl, p.transform.customLayerMatrix()), h.setDirty(), p.setBaseState(), h.bindFramebuffer.set(null);
        }
      } };
      class kd {
        constructor(s, c) {
          this.context = new C_(s), this.transform = c, this._tileTextures = {}, this.terrainFacilitator = { dirty: !0, matrix: o.create(), renderTime: 0 }, this.setup(), this.numSublayers = ja.maxUnderzooming + ja.maxOverzooming + 1, this.depthEpsilon = 1 / Math.pow(2, 16), this.crossTileSymbolIndex = new ct(), this.gpuTimers = {};
        }
        resize(s, c, h) {
          if (this.width = s * h, this.height = c * h, this.pixelRatio = h, this.context.viewport.set([0, 0, this.width, this.height]), this.style)
            for (const g of this.style._order)
              this.style._layers[g].resize();
        }
        setup() {
          const s = this.context, c = new o.PosArray();
          c.emplaceBack(0, 0), c.emplaceBack(o.EXTENT, 0), c.emplaceBack(0, o.EXTENT), c.emplaceBack(o.EXTENT, o.EXTENT), this.tileExtentBuffer = s.createVertexBuffer(c, Ut.members), this.tileExtentSegments = o.SegmentVector.simpleSegment(0, 0, 4, 2);
          const h = new o.PosArray();
          h.emplaceBack(0, 0), h.emplaceBack(o.EXTENT, 0), h.emplaceBack(0, o.EXTENT), h.emplaceBack(o.EXTENT, o.EXTENT), this.debugBuffer = s.createVertexBuffer(h, Ut.members), this.debugSegments = o.SegmentVector.simpleSegment(0, 0, 4, 5);
          const g = new o.RasterBoundsArray();
          g.emplaceBack(0, 0, 0, 0), g.emplaceBack(o.EXTENT, 0, o.EXTENT, 0), g.emplaceBack(0, o.EXTENT, 0, o.EXTENT), g.emplaceBack(o.EXTENT, o.EXTENT, o.EXTENT, o.EXTENT), this.rasterBoundsBuffer = s.createVertexBuffer(g, yt.members), this.rasterBoundsSegments = o.SegmentVector.simpleSegment(0, 0, 4, 2);
          const x = new o.PosArray();
          x.emplaceBack(0, 0), x.emplaceBack(1, 0), x.emplaceBack(0, 1), x.emplaceBack(1, 1), this.viewportBuffer = s.createVertexBuffer(x, Ut.members), this.viewportSegments = o.SegmentVector.simpleSegment(0, 0, 4, 2);
          const M = new o.LineStripIndexArray();
          M.emplaceBack(0), M.emplaceBack(1), M.emplaceBack(3), M.emplaceBack(2), M.emplaceBack(0), this.tileBorderIndexBuffer = s.createIndexBuffer(M);
          const A = new o.TriangleIndexArray();
          A.emplaceBack(0, 1, 2), A.emplaceBack(2, 1, 3), this.quadTriangleIndexBuffer = s.createIndexBuffer(A), this.emptyTexture = new j(s, { width: 1, height: 1, data: new Uint8Array([0, 0, 0, 0]) }, s.gl.RGBA);
          const I = this.context.gl;
          this.stencilClearMode = new La({ func: I.ALWAYS, mask: 0 }, 0, 255, I.ZERO, I.ZERO, I.ZERO);
        }
        clearStencil() {
          const s = this.context, c = s.gl;
          this.nextStencilID = 1, this.currentStencilSource = void 0;
          const h = o.create();
          o.ortho(h, 0, this.width, this.height, 0, 0, 1), o.scale(h, h, [c.drawingBufferWidth, c.drawingBufferHeight, 0]), this.useProgram("clippingMask").draw(s, c.TRIANGLES, Kt.disabled, this.stencilClearMode, Pa.disabled, Ba.disabled, no(h), null, "$clipping", this.viewportBuffer, this.quadTriangleIndexBuffer, this.viewportSegments);
        }
        _renderTileClippingMasks(s, c) {
          if (this.currentStencilSource === s.source || !s.isTileClipped() || !c || !c.length)
            return;
          this.currentStencilSource = s.source;
          const h = this.context, g = h.gl;
          this.nextStencilID + c.length > 256 && this.clearStencil(), h.setColorMode(Pa.disabled), h.setDepthMode(Kt.disabled);
          const x = this.useProgram("clippingMask");
          this._tileClippingMaskIDs = {};
          for (const M of c) {
            const A = this._tileClippingMaskIDs[M.key] = this.nextStencilID++, I = this.style.terrain && this.style.terrain.getTerrainData(M);
            x.draw(h, g.TRIANGLES, Kt.disabled, new La({ func: g.ALWAYS, mask: 0 }, A, 255, g.KEEP, g.KEEP, g.REPLACE), Pa.disabled, Ba.disabled, no(M.posMatrix), I, "$clipping", this.tileExtentBuffer, this.quadTriangleIndexBuffer, this.tileExtentSegments);
          }
        }
        stencilModeFor3D() {
          this.currentStencilSource = void 0, this.nextStencilID + 1 > 256 && this.clearStencil();
          const s = this.nextStencilID++, c = this.context.gl;
          return new La({ func: c.NOTEQUAL, mask: 255 }, s, 255, c.KEEP, c.KEEP, c.REPLACE);
        }
        stencilModeForClipping(s) {
          const c = this.context.gl;
          return new La({ func: c.EQUAL, mask: 255 }, this._tileClippingMaskIDs[s.key], 0, c.KEEP, c.KEEP, c.REPLACE);
        }
        stencilConfigForOverlap(s) {
          const c = this.context.gl, h = s.sort((M, A) => A.overscaledZ - M.overscaledZ), g = h[h.length - 1].overscaledZ, x = h[0].overscaledZ - g + 1;
          if (x > 1) {
            this.currentStencilSource = void 0, this.nextStencilID + x > 256 && this.clearStencil();
            const M = {};
            for (let A = 0; A < x; A++)
              M[A + g] = new La({ func: c.GEQUAL, mask: 255 }, A + this.nextStencilID, 255, c.KEEP, c.KEEP, c.REPLACE);
            return this.nextStencilID += x, [M, h];
          }
          return [{ [g]: La.disabled }, h];
        }
        colorModeForRenderPass() {
          const s = this.context.gl;
          return this._showOverdrawInspector ? new Pa([s.CONSTANT_COLOR, s.ONE], new o.Color(0.125, 0.125, 0.125, 0), [!0, !0, !0, !0]) : this.renderPass === "opaque" ? Pa.unblended : Pa.alphaBlended;
        }
        depthModeForSublayer(s, c, h) {
          if (!this.opaquePassEnabledForLayer())
            return Kt.disabled;
          const g = 1 - ((1 + this.currentLayer) * this.numSublayers + s) * this.depthEpsilon;
          return new Kt(h || this.context.gl.LEQUAL, c, [g, g]);
        }
        opaquePassEnabledForLayer() {
          return this.currentLayer < this.opaquePassCutoff;
        }
        render(s, c) {
          this.style = s, this.options = c, this.lineAtlas = s.lineAtlas, this.imageManager = s.imageManager, this.glyphManager = s.glyphManager, this.symbolFadeChange = s.placement.symbolFadeChange(o.exported.now()), this.imageManager.beginFrame();
          const h = this.style._order, g = this.style.sourceCaches, x = this.style.terrain && new k_(this);
          for (const O in g) {
            const z = g[O];
            z.used && z.prepare(this.context);
          }
          const M = {}, A = {}, I = {};
          for (const O in g) {
            const z = g[O];
            M[O] = z.getVisibleCoordinates(), A[O] = M[O].slice().reverse(), I[O] = z.getVisibleCoordinates(!0).reverse();
          }
          this.opaquePassCutoff = 1 / 0;
          for (let O = 0; O < h.length; O++)
            if (this.style._layers[h[O]].is3D()) {
              this.opaquePassCutoff = O;
              break;
            }
          if (x) {
            this.opaquePassCutoff = 0;
            const O = this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);
            (this.terrainFacilitator.dirty || !o.equals(this.terrainFacilitator.matrix, this.transform.projMatrix) || O.length) && (o.copy(this.terrainFacilitator.matrix, this.transform.projMatrix), this.terrainFacilitator.renderTime = Date.now(), this.terrainFacilitator.dirty = !1, function(z, q) {
              const G = z.context, ee = G.gl, K = Pa.unblended, Y = new Kt(ee.LEQUAL, Kt.ReadWrite, [0, 1]), ue = q.getTerrainMesh(), pe = q.sourceCache.getRenderableTiles(), ve = z.useProgram("terrainDepth");
              G.bindFramebuffer.set(q.getFramebuffer("depth").framebuffer), G.viewport.set([0, 0, z.width / devicePixelRatio, z.height / devicePixelRatio]), G.clear({ color: o.Color.transparent, depth: 1 });
              for (const te of pe) {
                const Se = q.getTerrainData(te.tileID), be = z.transform.calculatePosMatrix(te.tileID.toUnwrapped());
                ve.draw(G, ee.TRIANGLES, Y, La.disabled, K, Ba.backCCW, { u_matrix: be }, Se, "terrain", ue.vertexBuffer, ue.indexBuffer, ue.segments);
              }
              G.bindFramebuffer.set(null), G.viewport.set([0, 0, z.width, z.height]);
            }(this, this.style.terrain), function(z, q) {
              const G = z.context, ee = G.gl, K = Pa.unblended, Y = new Kt(ee.LEQUAL, Kt.ReadWrite, [0, 1]), ue = q.getTerrainMesh(), pe = q.getCoordsTexture(), ve = q.sourceCache.getRenderableTiles(), te = z.useProgram("terrainCoords");
              G.bindFramebuffer.set(q.getFramebuffer("coords").framebuffer), G.viewport.set([0, 0, z.width / devicePixelRatio, z.height / devicePixelRatio]), G.clear({ color: o.Color.transparent, depth: 1 }), q.coordsIndex = [];
              for (const Se of ve) {
                const be = q.getTerrainData(Se.tileID);
                G.activeTexture.set(ee.TEXTURE0), ee.bindTexture(ee.TEXTURE_2D, pe.texture);
                const Ie = z.transform.calculatePosMatrix(Se.tileID.toUnwrapped());
                te.draw(G, ee.TRIANGLES, Y, La.disabled, K, Ba.backCCW, { u_matrix: Ie, u_terrain_coords_id: (255 - q.coordsIndex.length) / 255, u_texture: 0 }, be, "terrain", ue.vertexBuffer, ue.indexBuffer, ue.segments), q.coordsIndex.push(Se.tileID.key);
              }
              G.bindFramebuffer.set(null), G.viewport.set([0, 0, z.width, z.height]);
            }(this, this.style.terrain));
          }
          this.renderPass = "offscreen";
          for (const O of h) {
            const z = this.style._layers[O];
            if (!z.hasOffscreenPass() || z.isHidden(this.transform.zoom))
              continue;
            const q = A[z.source];
            (z.type === "custom" || q.length) && this.renderLayer(this, g[z.source], z, q);
          }
          if (this.context.bindFramebuffer.set(null), this.context.clear({ color: c.showOverdrawInspector ? o.Color.black : o.Color.transparent, depth: 1 }), this.clearStencil(), this._showOverdrawInspector = c.showOverdrawInspector, this.depthRangeFor3D = [0, 1 - (s._order.length + 2) * this.numSublayers * this.depthEpsilon], !x)
            for (this.renderPass = "opaque", this.currentLayer = h.length - 1; this.currentLayer >= 0; this.currentLayer--) {
              const O = this.style._layers[h[this.currentLayer]], z = g[O.source], q = M[O.source];
              this._renderTileClippingMasks(O, q), this.renderLayer(this, z, O, q);
            }
          for (this.renderPass = "translucent", this.currentLayer = 0; this.currentLayer < h.length; this.currentLayer++) {
            const O = this.style._layers[h[this.currentLayer]], z = g[O.source];
            if (x && x.renderLayer(O))
              continue;
            const q = (O.type === "symbol" ? I : A)[O.source];
            this._renderTileClippingMasks(O, M[O.source]), this.renderLayer(this, z, O, q);
          }
          if (this.options.showTileBoundaries) {
            let O, z;
            Object.values(this.style._layers).forEach((q) => {
              q.source && !q.isHidden(this.transform.zoom) && (q.source !== (z && z.id) && (z = this.style.sourceCaches[q.source]), (!O || O.getSource().maxzoom < z.getSource().maxzoom) && (O = z));
            }), O && dl.debug(this, O, O.getVisibleCoordinates());
          }
          this.options.showPadding && function(O) {
            const z = O.transform.padding;
            Cs(O, O.transform.height - (z.top || 0), 3, _u), Cs(O, z.bottom || 0, 3, or), ul(O, z.left || 0, 3, P_), ul(O, O.transform.width - (z.right || 0), 3, Rd);
            const q = O.transform.centerPoint;
            (function(G, ee, K, Y) {
              co(G, ee - 1, K - 10, 2, 20, Y), co(G, ee - 10, K - 1, 20, 2, Y);
            })(O, q.x, O.transform.height - q.y, O_);
          }(this), this.context.setDefault();
        }
        renderLayer(s, c, h, g) {
          h.isHidden(this.transform.zoom) || (h.type === "background" || h.type === "custom" || (g || []).length) && (this.id = h.id, this.gpuTimingStart(h), dl[h.type](s, c, h, g, this.style.placement.variableOffsets), this.gpuTimingEnd());
        }
        gpuTimingStart(s) {
          if (!this.options.gpuTiming)
            return;
          const c = this.context.extTimerQuery;
          let h = this.gpuTimers[s.id];
          h || (h = this.gpuTimers[s.id] = { calls: 0, cpuTime: 0, query: c.createQueryEXT() }), h.calls++, c.beginQueryEXT(c.TIME_ELAPSED_EXT, h.query);
        }
        gpuTimingEnd() {
          if (!this.options.gpuTiming)
            return;
          const s = this.context.extTimerQuery;
          s.endQueryEXT(s.TIME_ELAPSED_EXT);
        }
        collectGpuTimers() {
          const s = this.gpuTimers;
          return this.gpuTimers = {}, s;
        }
        queryGpuTimers(s) {
          const c = {};
          for (const h in s) {
            const g = s[h], x = this.context.extTimerQuery, M = x.getQueryObjectEXT(g.query, x.QUERY_RESULT_EXT) / 1e6;
            x.deleteQueryEXT(g.query), c[h] = M;
          }
          return c;
        }
        translatePosMatrix(s, c, h, g, x) {
          if (!h[0] && !h[1])
            return s;
          const M = x ? g === "map" ? this.transform.angle : 0 : g === "viewport" ? -this.transform.angle : 0;
          if (M) {
            const O = Math.sin(M), z = Math.cos(M);
            h = [h[0] * z - h[1] * O, h[0] * O + h[1] * z];
          }
          const A = [x ? h[0] : Va(c, h[0], this.transform.zoom), x ? h[1] : Va(c, h[1], this.transform.zoom), 0], I = new Float32Array(16);
          return o.translate(I, s, A), I;
        }
        saveTileTexture(s) {
          const c = this._tileTextures[s.size[0]];
          c ? c.push(s) : this._tileTextures[s.size[0]] = [s];
        }
        getTileTexture(s) {
          const c = this._tileTextures[s];
          return c && c.length > 0 ? c.pop() : null;
        }
        isPatternMissing(s) {
          if (!s)
            return !1;
          if (!s.from || !s.to)
            return !0;
          const c = this.imageManager.getPattern(s.from.toString()), h = this.imageManager.getPattern(s.to.toString());
          return !c || !h;
        }
        useProgram(s, c) {
          this.cache = this.cache || {};
          const h = s + (c ? c.cacheKey : "") + (this._showOverdrawInspector ? "/overdraw" : "") + (this.style.terrain ? "/terrain" : "");
          return this.cache[h] || (this.cache[h] = new m_(this.context, s, Jo[s], c, bd[s], this._showOverdrawInspector, this.style.terrain)), this.cache[h];
        }
        setCustomLayerDefaults() {
          this.context.unbindVAO(), this.context.cullFace.setDefault(), this.context.activeTexture.setDefault(), this.context.pixelStoreUnpack.setDefault(), this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(), this.context.pixelStoreUnpackFlipY.setDefault();
        }
        setBaseState() {
          const s = this.context.gl;
          this.context.cullFace.set(!1), this.context.viewport.set([0, 0, this.width, this.height]), this.context.blendEquation.set(s.FUNC_ADD);
        }
        initDebugOverlayCanvas() {
          this.debugOverlayCanvas == null && (this.debugOverlayCanvas = document.createElement("canvas"), this.debugOverlayCanvas.width = 512, this.debugOverlayCanvas.height = 512, this.debugOverlayTexture = new j(this.context, this.debugOverlayCanvas, this.context.gl.RGBA));
        }
        destroy() {
          this.emptyTexture.destroy(), this.debugOverlayTexture && this.debugOverlayTexture.destroy();
        }
      }
      class hu {
        constructor(s, c) {
          this.points = s, this.planes = c;
        }
        static fromInvProjectionMatrix(s, c, h) {
          const g = Math.pow(2, h), x = [[-1, 1, -1, 1], [1, 1, -1, 1], [1, -1, -1, 1], [-1, -1, -1, 1], [-1, 1, 1, 1], [1, 1, 1, 1], [1, -1, 1, 1], [-1, -1, 1, 1]].map((A) => {
            const I = 1 / (A = o.transformMat4([], A, s))[3] / c * g;
            return o.mul$1(A, A, [I, I, 1 / A[3], I]);
          }), M = [[0, 1, 2], [6, 5, 4], [0, 3, 7], [2, 1, 5], [3, 2, 6], [0, 4, 5]].map((A) => {
            const I = o.sub([], x[A[0]], x[A[1]]), O = o.sub([], x[A[2]], x[A[1]]), z = o.normalize([], o.cross([], I, O)), q = -o.dot(z, x[A[1]]);
            return z.concat(q);
          });
          return new hu(x, M);
        }
      }
      class cl {
        constructor(s, c) {
          this.min = s, this.max = c, this.center = o.scale$1([], o.add([], this.min, this.max), 0.5);
        }
        quadrant(s) {
          const c = [s % 2 == 0, s < 2], h = o.clone$2(this.min), g = o.clone$2(this.max);
          for (let x = 0; x < c.length; x++)
            h[x] = c[x] ? this.min[x] : this.center[x], g[x] = c[x] ? this.center[x] : this.max[x];
          return g[2] = this.max[2], new cl(h, g);
        }
        distanceX(s) {
          return Math.max(Math.min(this.max[0], s[0]), this.min[0]) - s[0];
        }
        distanceY(s) {
          return Math.max(Math.min(this.max[1], s[1]), this.min[1]) - s[1];
        }
        intersects(s) {
          const c = [[this.min[0], this.min[1], this.min[2], 1], [this.max[0], this.min[1], this.min[2], 1], [this.max[0], this.max[1], this.min[2], 1], [this.min[0], this.max[1], this.min[2], 1], [this.min[0], this.min[1], this.max[2], 1], [this.max[0], this.min[1], this.max[2], 1], [this.max[0], this.max[1], this.max[2], 1], [this.min[0], this.max[1], this.max[2], 1]];
          let h = !0;
          for (let g = 0; g < s.planes.length; g++) {
            const x = s.planes[g];
            let M = 0;
            for (let A = 0; A < c.length; A++)
              o.dot$1(x, c[A]) >= 0 && M++;
            if (M === 0)
              return 0;
            M !== c.length && (h = !1);
          }
          if (h)
            return 2;
          for (let g = 0; g < 3; g++) {
            let x = Number.MAX_VALUE, M = -Number.MAX_VALUE;
            for (let A = 0; A < s.points.length; A++) {
              const I = s.points[A][g] - this.min[g];
              x = Math.min(x, I), M = Math.max(M, I);
            }
            if (M < 0 || x > this.max[g] - this.min[g])
              return 0;
          }
          return 1;
        }
      }
      class _o {
        constructor(s = 0, c = 0, h = 0, g = 0) {
          if (isNaN(s) || s < 0 || isNaN(c) || c < 0 || isNaN(h) || h < 0 || isNaN(g) || g < 0)
            throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");
          this.top = s, this.bottom = c, this.left = h, this.right = g;
        }
        interpolate(s, c, h) {
          return c.top != null && s.top != null && (this.top = o.number(s.top, c.top, h)), c.bottom != null && s.bottom != null && (this.bottom = o.number(s.bottom, c.bottom, h)), c.left != null && s.left != null && (this.left = o.number(s.left, c.left, h)), c.right != null && s.right != null && (this.right = o.number(s.right, c.right, h)), this;
        }
        getCenter(s, c) {
          const h = o.clamp((this.left + s - this.right) / 2, 0, s), g = o.clamp((this.top + c - this.bottom) / 2, 0, c);
          return new o.pointGeometry(h, g);
        }
        equals(s) {
          return this.top === s.top && this.bottom === s.bottom && this.left === s.left && this.right === s.right;
        }
        clone() {
          return new _o(this.top, this.bottom, this.left, this.right);
        }
        toJSON() {
          return { top: this.top, bottom: this.bottom, left: this.left, right: this.right };
        }
      }
      class _l {
        constructor(s, c, h, g, x) {
          this.tileSize = 512, this.maxValidLatitude = 85.051129, this.freezeElevation = !1, this._renderWorldCopies = x === void 0 || !!x, this._minZoom = s || 0, this._maxZoom = c || 22, this._minPitch = h ?? 0, this._maxPitch = g ?? 60, this.setMaxBounds(), this.width = 0, this.height = 0, this._center = new o.LngLat(0, 0), this._elevation = 0, this.zoom = 0, this.angle = 0, this._fov = 0.6435011087932844, this._pitch = 0, this._unmodified = !0, this._edgeInsets = new _o(), this._posMatrixCache = {}, this._alignedPosMatrixCache = {};
        }
        clone() {
          const s = new _l(this._minZoom, this._maxZoom, this._minPitch, this.maxPitch, this._renderWorldCopies);
          return s.tileSize = this.tileSize, s.latRange = this.latRange, s.width = this.width, s.height = this.height, s._center = this._center, s._elevation = this._elevation, s.zoom = this.zoom, s.angle = this.angle, s._fov = this._fov, s._pitch = this._pitch, s._unmodified = this._unmodified, s._edgeInsets = this._edgeInsets.clone(), s._calcMatrices(), s;
        }
        get minZoom() {
          return this._minZoom;
        }
        set minZoom(s) {
          this._minZoom !== s && (this._minZoom = s, this.zoom = Math.max(this.zoom, s));
        }
        get maxZoom() {
          return this._maxZoom;
        }
        set maxZoom(s) {
          this._maxZoom !== s && (this._maxZoom = s, this.zoom = Math.min(this.zoom, s));
        }
        get minPitch() {
          return this._minPitch;
        }
        set minPitch(s) {
          this._minPitch !== s && (this._minPitch = s, this.pitch = Math.max(this.pitch, s));
        }
        get maxPitch() {
          return this._maxPitch;
        }
        set maxPitch(s) {
          this._maxPitch !== s && (this._maxPitch = s, this.pitch = Math.min(this.pitch, s));
        }
        get renderWorldCopies() {
          return this._renderWorldCopies;
        }
        set renderWorldCopies(s) {
          s === void 0 ? s = !0 : s === null && (s = !1), this._renderWorldCopies = s;
        }
        get worldSize() {
          return this.tileSize * this.scale;
        }
        get centerOffset() {
          return this.centerPoint._sub(this.size._div(2));
        }
        get size() {
          return new o.pointGeometry(this.width, this.height);
        }
        get bearing() {
          return -this.angle / Math.PI * 180;
        }
        set bearing(s) {
          const c = -o.wrap(s, -180, 180) * Math.PI / 180;
          var h;
          this.angle !== c && (this._unmodified = !1, this.angle = c, this._calcMatrices(), this.rotationMatrix = (h = new o.ARRAY_TYPE(4), o.ARRAY_TYPE != Float32Array && (h[1] = 0, h[2] = 0), h[0] = 1, h[3] = 1, h), function(g, x, M) {
            var A = x[0], I = x[1], O = x[2], z = x[3], q = Math.sin(M), G = Math.cos(M);
            g[0] = A * G + O * q, g[1] = I * G + z * q, g[2] = A * -q + O * G, g[3] = I * -q + z * G;
          }(this.rotationMatrix, this.rotationMatrix, this.angle));
        }
        get pitch() {
          return this._pitch / Math.PI * 180;
        }
        set pitch(s) {
          const c = o.clamp(s, this.minPitch, this.maxPitch) / 180 * Math.PI;
          this._pitch !== c && (this._unmodified = !1, this._pitch = c, this._calcMatrices());
        }
        get fov() {
          return this._fov / Math.PI * 180;
        }
        set fov(s) {
          s = Math.max(0.01, Math.min(60, s)), this._fov !== s && (this._unmodified = !1, this._fov = s / 180 * Math.PI, this._calcMatrices());
        }
        get zoom() {
          return this._zoom;
        }
        set zoom(s) {
          const c = Math.min(Math.max(s, this.minZoom), this.maxZoom);
          this._zoom !== c && (this._unmodified = !1, this._zoom = c, this.scale = this.zoomScale(c), this.tileZoom = Math.floor(c), this.zoomFraction = c - this.tileZoom, this._constrain(), this._calcMatrices());
        }
        get center() {
          return this._center;
        }
        set center(s) {
          s.lat === this._center.lat && s.lng === this._center.lng || (this._unmodified = !1, this._center = s, this._constrain(), this._calcMatrices());
        }
        get elevation() {
          return this._elevation;
        }
        set elevation(s) {
          s !== this._elevation && (this._elevation = s, this._constrain(), this._calcMatrices());
        }
        get padding() {
          return this._edgeInsets.toJSON();
        }
        set padding(s) {
          this._edgeInsets.equals(s) || (this._unmodified = !1, this._edgeInsets.interpolate(this._edgeInsets, s, 1), this._calcMatrices());
        }
        get centerPoint() {
          return this._edgeInsets.getCenter(this.width, this.height);
        }
        isPaddingEqual(s) {
          return this._edgeInsets.equals(s);
        }
        interpolatePadding(s, c, h) {
          this._unmodified = !1, this._edgeInsets.interpolate(s, c, h), this._constrain(), this._calcMatrices();
        }
        coveringZoomLevel(s) {
          const c = (s.roundZoom ? Math.round : Math.floor)(this.zoom + this.scaleZoom(this.tileSize / s.tileSize));
          return Math.max(0, c);
        }
        getVisibleUnwrappedCoordinates(s) {
          const c = [new o.UnwrappedTileID(0, s)];
          if (this._renderWorldCopies) {
            const h = this.pointCoordinate(new o.pointGeometry(0, 0)), g = this.pointCoordinate(new o.pointGeometry(this.width, 0)), x = this.pointCoordinate(new o.pointGeometry(this.width, this.height)), M = this.pointCoordinate(new o.pointGeometry(0, this.height)), A = Math.floor(Math.min(h.x, g.x, x.x, M.x)), I = Math.floor(Math.max(h.x, g.x, x.x, M.x)), O = 1;
            for (let z = A - O; z <= I + O; z++)
              z !== 0 && c.push(new o.UnwrappedTileID(z, s));
          }
          return c;
        }
        coveringTiles(s) {
          var c, h;
          let g = this.coveringZoomLevel(s);
          const x = g;
          if (s.minzoom !== void 0 && g < s.minzoom)
            return [];
          s.maxzoom !== void 0 && g > s.maxzoom && (g = s.maxzoom);
          const M = this.pointCoordinate(this.getCameraPoint()), A = o.MercatorCoordinate.fromLngLat(this.center), I = Math.pow(2, g), O = [I * M.x, I * M.y, 0], z = [I * A.x, I * A.y, 0], q = hu.fromInvProjectionMatrix(this.invProjMatrix, this.worldSize, g);
          let G = s.minzoom || 0;
          !s.terrain && this.pitch <= 60 && this._edgeInsets.top < 0.1 && (G = g);
          const ee = s.terrain ? 2 / Math.min(this.tileSize, s.tileSize) * this.tileSize : 3, K = (te) => ({ aabb: new cl([te * I, 0, 0], [(te + 1) * I, I, 0]), zoom: 0, x: 0, y: 0, wrap: te, fullyVisible: !1 }), Y = [], ue = [], pe = g, ve = s.reparseOverscaled ? x : g;
          if (this._renderWorldCopies)
            for (let te = 1; te <= 3; te++)
              Y.push(K(-te)), Y.push(K(te));
          for (Y.push(K(0)); Y.length > 0; ) {
            const te = Y.pop(), Se = te.x, be = te.y;
            let Ie = te.fullyVisible;
            if (!Ie) {
              const rt = te.aabb.intersects(q);
              if (rt === 0)
                continue;
              Ie = rt === 2;
            }
            const Pe = s.terrain ? O : z, Ne = te.aabb.distanceX(Pe), Ce = te.aabb.distanceY(Pe), it = Math.max(Math.abs(Ne), Math.abs(Ce)), Ke = ee + (1 << pe - te.zoom) - 2;
            if (te.zoom === pe || it > Ke && te.zoom >= G) {
              const rt = pe - te.zoom, At = O[0] - 0.5 - (Se << rt), Bt = O[1] - 0.5 - (be << rt);
              ue.push({ tileID: new o.OverscaledTileID(te.zoom === pe ? ve : te.zoom, te.wrap, te.zoom, Se, be), distanceSq: o.sqrLen([z[0] - 0.5 - Se, z[1] - 0.5 - be]), tileDistanceToCamera: Math.sqrt(At * At + Bt * Bt) });
            } else
              for (let rt = 0; rt < 4; rt++) {
                const At = (Se << 1) + rt % 2, Bt = (be << 1) + (rt >> 1), xt = te.zoom + 1;
                let ma = te.aabb.quadrant(rt);
                if (s.terrain) {
                  const ha = new o.OverscaledTileID(xt, te.wrap, xt, At, Bt), Qt = s.terrain.getMinMaxElevation(ha), ea = (c = Qt.minElevation) !== null && c !== void 0 ? c : this.elevation, ya = (h = Qt.maxElevation) !== null && h !== void 0 ? h : this.elevation;
                  ma = new cl([ma.min[0], ma.min[1], ea], [ma.max[0], ma.max[1], ya]);
                }
                Y.push({ aabb: ma, zoom: xt, x: At, y: Bt, wrap: te.wrap, fullyVisible: Ie });
              }
          }
          return ue.sort((te, Se) => te.distanceSq - Se.distanceSq).map((te) => te.tileID);
        }
        resize(s, c) {
          this.width = s, this.height = c, this.pixelsToGLUnits = [2 / s, -2 / c], this._constrain(), this._calcMatrices();
        }
        get unmodified() {
          return this._unmodified;
        }
        zoomScale(s) {
          return Math.pow(2, s);
        }
        scaleZoom(s) {
          return Math.log(s) / Math.LN2;
        }
        project(s) {
          const c = o.clamp(s.lat, -this.maxValidLatitude, this.maxValidLatitude);
          return new o.pointGeometry(o.mercatorXfromLng(s.lng) * this.worldSize, o.mercatorYfromLat(c) * this.worldSize);
        }
        unproject(s) {
          return new o.MercatorCoordinate(s.x / this.worldSize, s.y / this.worldSize).toLngLat();
        }
        get point() {
          return this.project(this.center);
        }
        updateElevation(s) {
          this.freezeElevation || (this.elevation = s ? this.getElevation(this._center, s) : 0);
        }
        getElevation(s, c) {
          const h = o.MercatorCoordinate.fromLngLat(s), g = (1 << this.tileZoom) * o.EXTENT, x = h.x * g, M = h.y * g, A = Math.floor(x / o.EXTENT), I = Math.floor(M / o.EXTENT), O = new o.OverscaledTileID(this.tileZoom, 0, this.tileZoom, A, I);
          return c.getElevation(O, x % o.EXTENT, M % o.EXTENT, o.EXTENT);
        }
        getCameraPosition() {
          return { lngLat: this.pointLocation(this.getCameraPoint()), altitude: Math.cos(this._pitch) * this.cameraToCenterDistance / this._pixelPerMeter + this.elevation };
        }
        recalculateZoom(s) {
          const c = this.pointLocation(this.centerPoint, s), h = this.getElevation(c, s);
          if (!(this.elevation - h))
            return;
          const g = this.getCameraPosition(), x = o.MercatorCoordinate.fromLngLat(g.lngLat, g.altitude), M = o.MercatorCoordinate.fromLngLat(c, h), A = x.x - M.x, I = x.y - M.y, O = x.z - M.z, z = Math.sqrt(A * A + I * I + O * O), q = this.scaleZoom(this.cameraToCenterDistance / z / this.tileSize);
          this._elevation = h, this._center = c, this.zoom = q;
        }
        setLocationAtPoint(s, c) {
          const h = this.pointCoordinate(c), g = this.pointCoordinate(this.centerPoint), x = this.locationCoordinate(s), M = new o.MercatorCoordinate(x.x - (h.x - g.x), x.y - (h.y - g.y));
          this.center = this.coordinateLocation(M), this._renderWorldCopies && (this.center = this.center.wrap());
        }
        locationPoint(s, c) {
          return c ? this.coordinatePoint(this.locationCoordinate(s), this.getElevation(s, c), this.pixelMatrix3D) : this.coordinatePoint(this.locationCoordinate(s));
        }
        pointLocation(s, c) {
          return this.coordinateLocation(this.pointCoordinate(s, c));
        }
        locationCoordinate(s) {
          return o.MercatorCoordinate.fromLngLat(s);
        }
        coordinateLocation(s) {
          return s && s.toLngLat();
        }
        pointCoordinate(s, c) {
          if (c) {
            const G = c.pointCoordinate(s);
            if (G != null)
              return G;
          }
          const h = [s.x, s.y, 0, 1], g = [s.x, s.y, 1, 1];
          o.transformMat4(h, h, this.pixelMatrixInverse), o.transformMat4(g, g, this.pixelMatrixInverse);
          const x = h[3], M = g[3], A = h[1] / x, I = g[1] / M, O = h[2] / x, z = g[2] / M, q = O === z ? 0 : (0 - O) / (z - O);
          return new o.MercatorCoordinate(o.number(h[0] / x, g[0] / M, q) / this.worldSize, o.number(A, I, q) / this.worldSize);
        }
        coordinatePoint(s, c = 0, h = this.pixelMatrix) {
          const g = [s.x * this.worldSize, s.y * this.worldSize, c, 1];
          return o.transformMat4(g, g, h), new o.pointGeometry(g[0] / g[3], g[1] / g[3]);
        }
        getBounds() {
          const s = Math.max(0, this.height / 2 - this.getHorizon());
          return new o.LngLatBounds().extend(this.pointLocation(new o.pointGeometry(0, s))).extend(this.pointLocation(new o.pointGeometry(this.width, s))).extend(this.pointLocation(new o.pointGeometry(this.width, this.height))).extend(this.pointLocation(new o.pointGeometry(0, this.height)));
        }
        getMaxBounds() {
          return this.latRange && this.latRange.length === 2 && this.lngRange && this.lngRange.length === 2 ? new o.LngLatBounds([this.lngRange[0], this.latRange[0]], [this.lngRange[1], this.latRange[1]]) : null;
        }
        getHorizon() {
          return Math.tan(Math.PI / 2 - this._pitch) * this.cameraToCenterDistance * 0.85;
        }
        setMaxBounds(s) {
          s ? (this.lngRange = [s.getWest(), s.getEast()], this.latRange = [s.getSouth(), s.getNorth()], this._constrain()) : (this.lngRange = null, this.latRange = [-this.maxValidLatitude, this.maxValidLatitude]);
        }
        calculatePosMatrix(s, c = !1) {
          const h = s.key, g = c ? this._alignedPosMatrixCache : this._posMatrixCache;
          if (g[h])
            return g[h];
          const x = s.canonical, M = this.worldSize / this.zoomScale(x.z), A = x.x + Math.pow(2, x.z) * s.wrap, I = o.identity(new Float64Array(16));
          return o.translate(I, I, [A * M, x.y * M, 0]), o.scale(I, I, [M / o.EXTENT, M / o.EXTENT, 1]), o.multiply(I, c ? this.alignedProjMatrix : this.projMatrix, I), g[h] = new Float32Array(I), g[h];
        }
        customLayerMatrix() {
          return this.mercatorMatrix.slice();
        }
        _constrain() {
          if (!this.center || !this.width || !this.height || this._constraining)
            return;
          this._constraining = !0;
          let s, c, h, g, x = -90, M = 90, A = -180, I = 180;
          const O = this.size, z = this._unmodified;
          if (this.latRange) {
            const ee = this.latRange;
            x = o.mercatorYfromLat(ee[1]) * this.worldSize, M = o.mercatorYfromLat(ee[0]) * this.worldSize, s = M - x < O.y ? O.y / (M - x) : 0;
          }
          if (this.lngRange) {
            const ee = this.lngRange;
            A = o.wrap(o.mercatorXfromLng(ee[0]) * this.worldSize, 0, this.worldSize), I = o.wrap(o.mercatorXfromLng(ee[1]) * this.worldSize, 0, this.worldSize), I < A && (I += this.worldSize), c = I - A < O.x ? O.x / (I - A) : 0;
          }
          const q = this.point, G = Math.max(c || 0, s || 0);
          if (G)
            return this.center = this.unproject(new o.pointGeometry(c ? (I + A) / 2 : q.x, s ? (M + x) / 2 : q.y)), this.zoom += this.scaleZoom(G), this._unmodified = z, void (this._constraining = !1);
          if (this.latRange) {
            const ee = q.y, K = O.y / 2;
            ee - K < x && (g = x + K), ee + K > M && (g = M - K);
          }
          if (this.lngRange) {
            const ee = (A + I) / 2, K = o.wrap(q.x, ee - this.worldSize / 2, ee + this.worldSize / 2), Y = O.x / 2;
            K - Y < A && (h = A + Y), K + Y > I && (h = I - Y);
          }
          h === void 0 && g === void 0 || (this.center = this.unproject(new o.pointGeometry(h !== void 0 ? h : q.x, g !== void 0 ? g : q.y)).wrap()), this._unmodified = z, this._constraining = !1;
        }
        _calcMatrices() {
          if (!this.height)
            return;
          const s = this.centerOffset, c = this.point.x, h = this.point.y;
          this.cameraToCenterDistance = 0.5 / Math.tan(this._fov / 2) * this.height, this._pixelPerMeter = o.mercatorZfromAltitude(1, this.center.lat) * this.worldSize;
          let g = o.identity(new Float64Array(16));
          o.scale(g, g, [this.width / 2, -this.height / 2, 1]), o.translate(g, g, [1, -1, 0]), this.labelPlaneMatrix = g, g = o.identity(new Float64Array(16)), o.scale(g, g, [1, -1, 1]), o.translate(g, g, [-1, -1, 0]), o.scale(g, g, [2 / this.width, 2 / this.height, 1]), this.glCoordMatrix = g, this.cameraToSeaLevelDistance = this.cameraToCenterDistance + this._elevation * this._pixelPerMeter / Math.cos(this._pitch);
          const x = Math.PI / 2 + this._pitch, M = this._fov * (0.5 + s.y / this.height), A = Math.sin(M) * this.cameraToSeaLevelDistance / Math.sin(o.clamp(Math.PI - x - M, 0.01, Math.PI - 0.01)), I = this.getHorizon(), O = 2 * Math.atan(I / this.cameraToCenterDistance) * (0.5 + s.y / (2 * I)), z = Math.sin(O) * this.cameraToSeaLevelDistance / Math.sin(o.clamp(Math.PI - x - O, 0.01, Math.PI - 0.01)), q = Math.cos(Math.PI / 2 - this._pitch) * A + this.cameraToSeaLevelDistance, G = Math.cos(Math.PI / 2 - this._pitch) * z + this.cameraToSeaLevelDistance, ee = 1.01 * Math.min(q, G), K = this.height / 50;
          g = new Float64Array(16), o.perspective(g, this._fov, this.width / this.height, K, ee), g[8] = 2 * -s.x / this.width, g[9] = 2 * s.y / this.height, o.scale(g, g, [1, -1, 1]), o.translate(g, g, [0, 0, -this.cameraToCenterDistance]), o.rotateX(g, g, this._pitch), o.rotateZ(g, g, this.angle), o.translate(g, g, [-c, -h, 0]), this.mercatorMatrix = o.scale([], g, [this.worldSize, this.worldSize, this.worldSize]), o.scale(g, g, [1, 1, this._pixelPerMeter]), this.pixelMatrix = o.multiply(new Float64Array(16), this.labelPlaneMatrix, g), o.translate(g, g, [0, 0, -this.elevation]), this.projMatrix = g, this.invProjMatrix = o.invert([], g), this.pixelMatrix3D = o.multiply(new Float64Array(16), this.labelPlaneMatrix, g);
          const Y = this.width % 2 / 2, ue = this.height % 2 / 2, pe = Math.cos(this.angle), ve = Math.sin(this.angle), te = c - Math.round(c) + pe * Y + ve * ue, Se = h - Math.round(h) + pe * ue + ve * Y, be = new Float64Array(g);
          if (o.translate(be, be, [te > 0.5 ? te - 1 : te, Se > 0.5 ? Se - 1 : Se, 0]), this.alignedProjMatrix = be, g = o.invert(new Float64Array(16), this.pixelMatrix), !g)
            throw new Error("failed to invert matrix");
          this.pixelMatrixInverse = g, this._posMatrixCache = {}, this._alignedPosMatrixCache = {};
        }
        maxPitchScaleFactor() {
          if (!this.pixelMatrixInverse)
            return 1;
          const s = this.pointCoordinate(new o.pointGeometry(0, 0)), c = [s.x * this.worldSize, s.y * this.worldSize, 0, 1];
          return o.transformMat4(c, c, this.pixelMatrix)[3] / this.cameraToCenterDistance;
        }
        getCameraPoint() {
          const s = Math.tan(this._pitch) * (this.cameraToCenterDistance || 1);
          return this.centerPoint.add(new o.pointGeometry(0, s));
        }
        getCameraQueryGeometry(s) {
          const c = this.getCameraPoint();
          if (s.length === 1)
            return [s[0], c];
          {
            let h = c.x, g = c.y, x = c.x, M = c.y;
            for (const A of s)
              h = Math.min(h, A.x), g = Math.min(g, A.y), x = Math.max(x, A.x), M = Math.max(M, A.y);
            return [new o.pointGeometry(h, g), new o.pointGeometry(x, g), new o.pointGeometry(x, M), new o.pointGeometry(h, M), new o.pointGeometry(h, g)];
          }
        }
      }
      class D_ {
        constructor(s) {
          this._hashName = s && encodeURIComponent(s), o.bindAll(["_getCurrentHash", "_onHashChange", "_updateHash"], this), this._updateHash = function(c, h) {
            let g = !1, x = null;
            const M = () => {
              x = null, g && (c(), x = setTimeout(M, 300), g = !1);
            };
            return () => (g = !0, x || M(), x);
          }(this._updateHashUnthrottled.bind(this));
        }
        addTo(s) {
          return this._map = s, addEventListener("hashchange", this._onHashChange, !1), this._map.on("moveend", this._updateHash), this;
        }
        remove() {
          return removeEventListener("hashchange", this._onHashChange, !1), this._map.off("moveend", this._updateHash), clearTimeout(this._updateHash()), delete this._map, this;
        }
        getHashString(s) {
          const c = this._map.getCenter(), h = Math.round(100 * this._map.getZoom()) / 100, g = Math.ceil((h * Math.LN2 + Math.log(512 / 360 / 0.5)) / Math.LN10), x = Math.pow(10, g), M = Math.round(c.lng * x) / x, A = Math.round(c.lat * x) / x, I = this._map.getBearing(), O = this._map.getPitch();
          let z = "";
          if (z += s ? `/${M}/${A}/${h}` : `${h}/${A}/${M}`, (I || O) && (z += "/" + Math.round(10 * I) / 10), O && (z += `/${Math.round(O)}`), this._hashName) {
            const q = this._hashName;
            let G = !1;
            const ee = window.location.hash.slice(1).split("&").map((K) => {
              const Y = K.split("=")[0];
              return Y === q ? (G = !0, `${Y}=${z}`) : K;
            }).filter((K) => K);
            return G || ee.push(`${q}=${z}`), `#${ee.join("&")}`;
          }
          return `#${z}`;
        }
        _getCurrentHash() {
          const s = window.location.hash.replace("#", "");
          if (this._hashName) {
            let c;
            return s.split("&").map((h) => h.split("=")).forEach((h) => {
              h[0] === this._hashName && (c = h);
            }), (c && c[1] || "").split("/");
          }
          return s.split("/");
        }
        _onHashChange() {
          const s = this._getCurrentHash();
          if (s.length >= 3 && !s.some((c) => isNaN(c))) {
            const c = this._map.dragRotate.isEnabled() && this._map.touchZoomRotate.isEnabled() ? +(s[3] || 0) : this._map.getBearing();
            return this._map.jumpTo({ center: [+s[2], +s[1]], zoom: +s[0], bearing: c, pitch: +(s[4] || 0) }), !0;
          }
          return !1;
        }
        _updateHashUnthrottled() {
          const s = window.location.href.replace(/(#.+)?$/, this.getHashString());
          try {
            window.history.replaceState(window.history.state, null, s);
          } catch {
          }
        }
      }
      const ml = { linearity: 0.3, easing: o.bezier(0, 0, 0.3, 1) }, W_ = o.extend({ deceleration: 2500, maxSpeed: 1400 }, ml), z_ = o.extend({ deceleration: 20, maxSpeed: 1400 }, ml), B_ = o.extend({ deceleration: 1e3, maxSpeed: 360 }, ml), mo = o.extend({ deceleration: 1e3, maxSpeed: 90 }, ml);
      class N_ {
        constructor(s) {
          this._map = s, this.clear();
        }
        clear() {
          this._inertiaBuffer = [];
        }
        record(s) {
          this._drainInertiaBuffer(), this._inertiaBuffer.push({ time: o.exported.now(), settings: s });
        }
        _drainInertiaBuffer() {
          const s = this._inertiaBuffer, c = o.exported.now();
          for (; s.length > 0 && c - s[0].time > 160; )
            s.shift();
        }
        _onMoveEnd(s) {
          if (this._drainInertiaBuffer(), this._inertiaBuffer.length < 2)
            return;
          const c = { zoom: 0, bearing: 0, pitch: 0, pan: new o.pointGeometry(0, 0), pinchAround: void 0, around: void 0 };
          for (const { settings: x } of this._inertiaBuffer)
            c.zoom += x.zoomDelta || 0, c.bearing += x.bearingDelta || 0, c.pitch += x.pitchDelta || 0, x.panDelta && c.pan._add(x.panDelta), x.around && (c.around = x.around), x.pinchAround && (c.pinchAround = x.pinchAround);
          const h = this._inertiaBuffer[this._inertiaBuffer.length - 1].time - this._inertiaBuffer[0].time, g = {};
          if (c.pan.mag()) {
            const x = pl(c.pan.mag(), h, o.extend({}, W_, s || {}));
            g.offset = c.pan.mult(x.amount / c.pan.mag()), g.center = this._map.transform.center, hl(g, x);
          }
          if (c.zoom) {
            const x = pl(c.zoom, h, z_);
            g.zoom = this._map.transform.zoom + x.amount, hl(g, x);
          }
          if (c.bearing) {
            const x = pl(c.bearing, h, B_);
            g.bearing = this._map.transform.bearing + o.clamp(x.amount, -179, 179), hl(g, x);
          }
          if (c.pitch) {
            const x = pl(c.pitch, h, mo);
            g.pitch = this._map.transform.pitch + x.amount, hl(g, x);
          }
          if (g.zoom || g.bearing) {
            const x = c.pinchAround === void 0 ? c.around : c.pinchAround;
            g.around = x ? this._map.unproject(x) : this._map.getCenter();
          }
          return this.clear(), o.extend(g, { noMoveStart: !0 });
        }
      }
      function hl(p, s) {
        (!p.duration || p.duration < s.duration) && (p.duration = s.duration, p.easing = s.easing);
      }
      function pl(p, s, c) {
        const { maxSpeed: h, linearity: g, deceleration: x } = c, M = o.clamp(p * g / (s / 1e3), -h, h), A = Math.abs(M) / (x * g);
        return { easing: c.easing, duration: 1e3 * A, amount: M * (A / 2) };
      }
      class An extends o.Event {
        constructor(s, c, h, g = {}) {
          const x = L.mousePos(c.getCanvasContainer(), h), M = c.unproject(x);
          super(s, o.extend({ point: x, lngLat: M, originalEvent: h }, g)), this._defaultPrevented = !1, this.target = c;
        }
        preventDefault() {
          this._defaultPrevented = !0;
        }
        get defaultPrevented() {
          return this._defaultPrevented;
        }
      }
      class fl extends o.Event {
        constructor(s, c, h) {
          const g = s === "touchend" ? h.changedTouches : h.touches, x = L.touchPos(c.getCanvasContainer(), g), M = x.map((I) => c.unproject(I)), A = x.reduce((I, O, z, q) => I.add(O.div(q.length)), new o.pointGeometry(0, 0));
          super(s, { points: x, point: A, lngLats: M, lngLat: c.unproject(A), originalEvent: h }), this._defaultPrevented = !1;
        }
        preventDefault() {
          this._defaultPrevented = !0;
        }
        get defaultPrevented() {
          return this._defaultPrevented;
        }
      }
      class In extends o.Event {
        constructor(s, c, h) {
          super(s, { originalEvent: h }), this._defaultPrevented = !1;
        }
        preventDefault() {
          this._defaultPrevented = !0;
        }
        get defaultPrevented() {
          return this._defaultPrevented;
        }
      }
      class Tp {
        constructor(s, c) {
          this._map = s, this._clickTolerance = c.clickTolerance;
        }
        reset() {
          delete this._mousedownPos;
        }
        wheel(s) {
          return this._firePreventable(new In(s.type, this._map, s));
        }
        mousedown(s, c) {
          return this._mousedownPos = c, this._firePreventable(new An(s.type, this._map, s));
        }
        mouseup(s) {
          this._map.fire(new An(s.type, this._map, s));
        }
        click(s, c) {
          this._mousedownPos && this._mousedownPos.dist(c) >= this._clickTolerance || this._map.fire(new An(s.type, this._map, s));
        }
        dblclick(s) {
          return this._firePreventable(new An(s.type, this._map, s));
        }
        mouseover(s) {
          this._map.fire(new An(s.type, this._map, s));
        }
        mouseout(s) {
          this._map.fire(new An(s.type, this._map, s));
        }
        touchstart(s) {
          return this._firePreventable(new fl(s.type, this._map, s));
        }
        touchmove(s) {
          this._map.fire(new fl(s.type, this._map, s));
        }
        touchend(s) {
          this._map.fire(new fl(s.type, this._map, s));
        }
        touchcancel(s) {
          this._map.fire(new fl(s.type, this._map, s));
        }
        _firePreventable(s) {
          if (this._map.fire(s), s.defaultPrevented)
            return {};
        }
        isEnabled() {
          return !0;
        }
        isActive() {
          return !1;
        }
        enable() {
        }
        disable() {
        }
      }
      class ts {
        constructor(s) {
          this._map = s;
        }
        reset() {
          this._delayContextMenu = !1, this._ignoreContextMenu = !0, delete this._contextMenuEvent;
        }
        mousemove(s) {
          this._map.fire(new An(s.type, this._map, s));
        }
        mousedown() {
          this._delayContextMenu = !0, this._ignoreContextMenu = !1;
        }
        mouseup() {
          this._delayContextMenu = !1, this._contextMenuEvent && (this._map.fire(new An("contextmenu", this._map, this._contextMenuEvent)), delete this._contextMenuEvent);
        }
        contextmenu(s) {
          this._delayContextMenu ? this._contextMenuEvent = s : this._ignoreContextMenu || this._map.fire(new An(s.type, this._map, s)), this._map.listens("contextmenu") && s.preventDefault();
        }
        isEnabled() {
          return !0;
        }
        isActive() {
          return !1;
        }
        enable() {
        }
        disable() {
        }
      }
      class q_ {
        constructor(s, c) {
          this._map = s, this._el = s.getCanvasContainer(), this._container = s.getContainer(), this._clickTolerance = c.clickTolerance || 1;
        }
        isEnabled() {
          return !!this._enabled;
        }
        isActive() {
          return !!this._active;
        }
        enable() {
          this.isEnabled() || (this._enabled = !0);
        }
        disable() {
          this.isEnabled() && (this._enabled = !1);
        }
        mousedown(s, c) {
          this.isEnabled() && s.shiftKey && s.button === 0 && (L.disableDrag(), this._startPos = this._lastPos = c, this._active = !0);
        }
        mousemoveWindow(s, c) {
          if (!this._active)
            return;
          const h = c;
          if (this._lastPos.equals(h) || !this._box && h.dist(this._startPos) < this._clickTolerance)
            return;
          const g = this._startPos;
          this._lastPos = h, this._box || (this._box = L.create("div", "maplibregl-boxzoom mapboxgl-boxzoom", this._container), this._container.classList.add("maplibregl-crosshair", "mapboxgl-crosshair"), this._fireEvent("boxzoomstart", s));
          const x = Math.min(g.x, h.x), M = Math.max(g.x, h.x), A = Math.min(g.y, h.y), I = Math.max(g.y, h.y);
          L.setTransform(this._box, `translate(${x}px,${A}px)`), this._box.style.width = M - x + "px", this._box.style.height = I - A + "px";
        }
        mouseupWindow(s, c) {
          if (!this._active || s.button !== 0)
            return;
          const h = this._startPos, g = c;
          if (this.reset(), L.suppressClick(), h.x !== g.x || h.y !== g.y)
            return this._map.fire(new o.Event("boxzoomend", { originalEvent: s })), { cameraAnimation: (x) => x.fitScreenCoordinates(h, g, this._map.getBearing(), { linear: !0 }) };
          this._fireEvent("boxzoomcancel", s);
        }
        keydown(s) {
          this._active && s.keyCode === 27 && (this.reset(), this._fireEvent("boxzoomcancel", s));
        }
        reset() {
          this._active = !1, this._container.classList.remove("maplibregl-crosshair", "mapboxgl-crosshair"), this._box && (L.remove(this._box), this._box = null), L.enableDrag(), delete this._startPos, delete this._lastPos;
        }
        _fireEvent(s, c) {
          return this._map.fire(new o.Event(s, { originalEvent: c }));
        }
      }
      function Dr(p, s) {
        if (p.length !== s.length)
          throw new Error(`The number of touches and points are not equal - touches ${p.length}, points ${s.length}`);
        const c = {};
        for (let h = 0; h < p.length; h++)
          c[p[h].identifier] = s[h];
        return c;
      }
      class gl {
        constructor(s) {
          this.reset(), this.numTouches = s.numTouches;
        }
        reset() {
          delete this.centroid, delete this.startTime, delete this.touches, this.aborted = !1;
        }
        touchstart(s, c, h) {
          (this.centroid || h.length > this.numTouches) && (this.aborted = !0), this.aborted || (this.startTime === void 0 && (this.startTime = s.timeStamp), h.length === this.numTouches && (this.centroid = function(g) {
            const x = new o.pointGeometry(0, 0);
            for (const M of g)
              x._add(M);
            return x.div(g.length);
          }(c), this.touches = Dr(h, c)));
        }
        touchmove(s, c, h) {
          if (this.aborted || !this.centroid)
            return;
          const g = Dr(h, c);
          for (const x in this.touches) {
            const M = this.touches[x], A = g[x];
            (!A || A.dist(M) > 30) && (this.aborted = !0);
          }
        }
        touchend(s, c, h) {
          if ((!this.centroid || s.timeStamp - this.startTime > 500) && (this.aborted = !0), h.length === 0) {
            const g = !this.aborted && this.centroid;
            if (this.reset(), g)
              return g;
          }
        }
      }
      class Dd {
        constructor(s) {
          this.singleTap = new gl(s), this.numTaps = s.numTaps, this.reset();
        }
        reset() {
          this.lastTime = 1 / 0, delete this.lastTap, this.count = 0, this.singleTap.reset();
        }
        touchstart(s, c, h) {
          this.singleTap.touchstart(s, c, h);
        }
        touchmove(s, c, h) {
          this.singleTap.touchmove(s, c, h);
        }
        touchend(s, c, h) {
          const g = this.singleTap.touchend(s, c, h);
          if (g) {
            const x = s.timeStamp - this.lastTime < 500, M = !this.lastTap || this.lastTap.dist(g) < 30;
            if (x && M || this.reset(), this.count++, this.lastTime = s.timeStamp, this.lastTap = g, this.count === this.numTaps)
              return this.reset(), g;
          }
        }
      }
      class Mp {
        constructor() {
          this._zoomIn = new Dd({ numTouches: 1, numTaps: 2 }), this._zoomOut = new Dd({ numTouches: 2, numTaps: 1 }), this.reset();
        }
        reset() {
          this._active = !1, this._zoomIn.reset(), this._zoomOut.reset();
        }
        touchstart(s, c, h) {
          this._zoomIn.touchstart(s, c, h), this._zoomOut.touchstart(s, c, h);
        }
        touchmove(s, c, h) {
          this._zoomIn.touchmove(s, c, h), this._zoomOut.touchmove(s, c, h);
        }
        touchend(s, c, h) {
          const g = this._zoomIn.touchend(s, c, h), x = this._zoomOut.touchend(s, c, h);
          return g ? (this._active = !0, s.preventDefault(), setTimeout(() => this.reset(), 0), { cameraAnimation: (M) => M.easeTo({ duration: 300, zoom: M.getZoom() + 1, around: M.unproject(g) }, { originalEvent: s }) }) : x ? (this._active = !0, s.preventDefault(), setTimeout(() => this.reset(), 0), { cameraAnimation: (M) => M.easeTo({ duration: 300, zoom: M.getZoom() - 1, around: M.unproject(x) }, { originalEvent: s }) }) : void 0;
        }
        touchcancel() {
          this.reset();
        }
        enable() {
          this._enabled = !0;
        }
        disable() {
          this._enabled = !1, this.reset();
        }
        isEnabled() {
          return this._enabled;
        }
        isActive() {
          return this._active;
        }
      }
      const Ep = { 0: 1, 2: 2 };
      class pu {
        constructor(s) {
          this.reset(), this._clickTolerance = s.clickTolerance || 1;
        }
        reset() {
          this._active = !1, this._moved = !1, delete this._lastPoint, delete this._eventButton;
        }
        _correctButton(s, c) {
          return !1;
        }
        _move(s, c) {
          return {};
        }
        mousedown(s, c) {
          if (this._lastPoint)
            return;
          const h = L.mouseButton(s);
          this._correctButton(s, h) && (this._lastPoint = c, this._eventButton = h);
        }
        mousemoveWindow(s, c) {
          const h = this._lastPoint;
          if (h) {
            if (s.preventDefault(), function(g, x) {
              const M = Ep[x];
              return g.buttons === void 0 || (g.buttons & M) !== M;
            }(s, this._eventButton))
              this.reset();
            else if (this._moved || !(c.dist(h) < this._clickTolerance))
              return this._moved = !0, this._lastPoint = c, this._move(h, c);
          }
        }
        mouseupWindow(s) {
          this._lastPoint && L.mouseButton(s) === this._eventButton && (this._moved && L.suppressClick(), this.reset());
        }
        enable() {
          this._enabled = !0;
        }
        disable() {
          this._enabled = !1, this.reset();
        }
        isEnabled() {
          return this._enabled;
        }
        isActive() {
          return this._active;
        }
      }
      class yl extends pu {
        mousedown(s, c) {
          super.mousedown(s, c), this._lastPoint && (this._active = !0);
        }
        _correctButton(s, c) {
          return c === 0 && !s.ctrlKey;
        }
        _move(s, c) {
          return { around: c, panDelta: c.sub(s) };
        }
      }
      class Wr extends pu {
        _correctButton(s, c) {
          return c === 0 && s.ctrlKey || c === 2;
        }
        _move(s, c) {
          const h = 0.8 * (c.x - s.x);
          if (h)
            return this._active = !0, { bearingDelta: h };
        }
        contextmenu(s) {
          s.preventDefault();
        }
      }
      class lt extends pu {
        _correctButton(s, c) {
          return c === 0 && s.ctrlKey || c === 2;
        }
        _move(s, c) {
          const h = -0.5 * (c.y - s.y);
          if (h)
            return this._active = !0, { pitchDelta: h };
        }
        contextmenu(s) {
          s.preventDefault();
        }
      }
      class F_ {
        constructor(s, c) {
          this._minTouches = s.cooperativeGestures ? 2 : 1, this._clickTolerance = s.clickTolerance || 1, this._map = c, this.reset();
        }
        reset() {
          this._active = !1, this._touches = {}, this._sum = new o.pointGeometry(0, 0), setTimeout(() => {
            this._cancelCooperativeMessage = !1;
          }, 200);
        }
        touchstart(s, c, h) {
          return this._calculateTransform(s, c, h);
        }
        touchmove(s, c, h) {
          if (this._map._cooperativeGestures && (this._minTouches === 2 && h.length < 2 && !this._cancelCooperativeMessage ? this._map._onCooperativeGesture(s, !1, h.length) : this._cancelCooperativeMessage || (this._cancelCooperativeMessage = !0)), this._active && !(h.length < this._minTouches))
            return s.preventDefault(), this._calculateTransform(s, c, h);
        }
        touchend(s, c, h) {
          this._calculateTransform(s, c, h), this._active && h.length < this._minTouches && this.reset();
        }
        touchcancel() {
          this.reset();
        }
        _calculateTransform(s, c, h) {
          h.length > 0 && (this._active = !0);
          const g = Dr(h, c), x = new o.pointGeometry(0, 0), M = new o.pointGeometry(0, 0);
          let A = 0;
          for (const O in g) {
            const z = g[O], q = this._touches[O];
            q && (x._add(z), M._add(z.sub(q)), A++, g[O] = z);
          }
          if (this._touches = g, A < this._minTouches || !M.mag())
            return;
          const I = M.div(A);
          return this._sum._add(I), this._sum.mag() < this._clickTolerance ? void 0 : { around: x.div(A), panDelta: I };
        }
        enable() {
          this._enabled = !0;
        }
        disable() {
          this._enabled = !1, this.reset();
        }
        isEnabled() {
          return this._enabled;
        }
        isActive() {
          return this._active;
        }
      }
      class As {
        constructor() {
          this.reset();
        }
        reset() {
          this._active = !1, delete this._firstTwoTouches;
        }
        _start(s) {
        }
        _move(s, c, h) {
          return {};
        }
        touchstart(s, c, h) {
          this._firstTwoTouches || h.length < 2 || (this._firstTwoTouches = [h[0].identifier, h[1].identifier], this._start([c[0], c[1]]));
        }
        touchmove(s, c, h) {
          if (!this._firstTwoTouches)
            return;
          s.preventDefault();
          const [g, x] = this._firstTwoTouches, M = as(h, c, g), A = as(h, c, x);
          if (!M || !A)
            return;
          const I = this._aroundCenter ? null : M.add(A).div(2);
          return this._move([M, A], I, s);
        }
        touchend(s, c, h) {
          if (!this._firstTwoTouches)
            return;
          const [g, x] = this._firstTwoTouches, M = as(h, c, g), A = as(h, c, x);
          M && A || (this._active && L.suppressClick(), this.reset());
        }
        touchcancel() {
          this.reset();
        }
        enable(s) {
          this._enabled = !0, this._aroundCenter = !!s && s.around === "center";
        }
        disable() {
          this._enabled = !1, this.reset();
        }
        isEnabled() {
          return this._enabled;
        }
        isActive() {
          return this._active;
        }
      }
      function as(p, s, c) {
        for (let h = 0; h < p.length; h++)
          if (p[h].identifier === c)
            return s[h];
      }
      function Wd(p, s) {
        return Math.log(p / s) / Math.LN2;
      }
      class Je extends As {
        reset() {
          super.reset(), delete this._distance, delete this._startDistance;
        }
        _start(s) {
          this._startDistance = this._distance = s[0].dist(s[1]);
        }
        _move(s, c) {
          const h = this._distance;
          if (this._distance = s[0].dist(s[1]), this._active || !(Math.abs(Wd(this._distance, this._startDistance)) < 0.1))
            return this._active = !0, { zoomDelta: Wd(this._distance, h), pinchAround: c };
        }
      }
      function fu(p, s) {
        return 180 * p.angleWith(s) / Math.PI;
      }
      class Lp extends As {
        reset() {
          super.reset(), delete this._minDiameter, delete this._startVector, delete this._vector;
        }
        _start(s) {
          this._startVector = this._vector = s[0].sub(s[1]), this._minDiameter = s[0].dist(s[1]);
        }
        _move(s, c) {
          const h = this._vector;
          if (this._vector = s[0].sub(s[1]), this._active || !this._isBelowThreshold(this._vector))
            return this._active = !0, { bearingDelta: fu(this._vector, h), pinchAround: c };
        }
        _isBelowThreshold(s) {
          this._minDiameter = Math.min(this._minDiameter, s.mag());
          const c = 25 / (Math.PI * this._minDiameter) * 360, h = fu(s, this._startVector);
          return Math.abs(h) < c;
        }
      }
      function zd(p) {
        return Math.abs(p.y) > Math.abs(p.x);
      }
      class Bd extends As {
        constructor(s) {
          super(), this._map = s;
        }
        reset() {
          super.reset(), this._valid = void 0, delete this._firstMove, delete this._lastPoints;
        }
        touchstart(s, c, h) {
          super.touchstart(s, c, h), this._currentTouchCount = h.length;
        }
        _start(s) {
          this._lastPoints = s, zd(s[0].sub(s[1])) && (this._valid = !1);
        }
        _move(s, c, h) {
          if (this._map._cooperativeGestures && this._currentTouchCount < 3)
            return;
          const g = s[0].sub(this._lastPoints[0]), x = s[1].sub(this._lastPoints[1]);
          return this._valid = this.gestureBeginsVertically(g, x, h.timeStamp), this._valid ? (this._lastPoints = s, this._active = !0, { pitchDelta: (g.y + x.y) / 2 * -0.5 }) : void 0;
        }
        gestureBeginsVertically(s, c, h) {
          if (this._valid !== void 0)
            return this._valid;
          const g = s.mag() >= 2, x = c.mag() >= 2;
          if (!g && !x)
            return;
          if (!g || !x)
            return this._firstMove === void 0 && (this._firstMove = h), h - this._firstMove < 100 && void 0;
          const M = s.y > 0 == c.y > 0;
          return zd(s) && zd(c) && M;
        }
      }
      const G_ = { panStep: 100, bearingStep: 15, pitchStep: 10 };
      class U_ {
        constructor() {
          const s = G_;
          this._panStep = s.panStep, this._bearingStep = s.bearingStep, this._pitchStep = s.pitchStep, this._rotationDisabled = !1;
        }
        reset() {
          this._active = !1;
        }
        keydown(s) {
          if (s.altKey || s.ctrlKey || s.metaKey)
            return;
          let c = 0, h = 0, g = 0, x = 0, M = 0;
          switch (s.keyCode) {
            case 61:
            case 107:
            case 171:
            case 187:
              c = 1;
              break;
            case 189:
            case 109:
            case 173:
              c = -1;
              break;
            case 37:
              s.shiftKey ? h = -1 : (s.preventDefault(), x = -1);
              break;
            case 39:
              s.shiftKey ? h = 1 : (s.preventDefault(), x = 1);
              break;
            case 38:
              s.shiftKey ? g = 1 : (s.preventDefault(), M = -1);
              break;
            case 40:
              s.shiftKey ? g = -1 : (s.preventDefault(), M = 1);
              break;
            default:
              return;
          }
          return this._rotationDisabled && (h = 0, g = 0), { cameraAnimation: (A) => {
            const I = A.getZoom();
            A.easeTo({ duration: 300, easeId: "keyboardHandler", easing: Cp, zoom: c ? Math.round(I) + c * (s.shiftKey ? 2 : 1) : I, bearing: A.getBearing() + h * this._bearingStep, pitch: A.getPitch() + g * this._pitchStep, offset: [-x * this._panStep, -M * this._panStep], center: A.getCenter() }, { originalEvent: s });
          } };
        }
        enable() {
          this._enabled = !0;
        }
        disable() {
          this._enabled = !1, this.reset();
        }
        isEnabled() {
          return this._enabled;
        }
        isActive() {
          return this._active;
        }
        disableRotation() {
          this._rotationDisabled = !0;
        }
        enableRotation() {
          this._rotationDisabled = !1;
        }
      }
      function Cp(p) {
        return p * (2 - p);
      }
      const j_ = 4.000244140625;
      class Nd {
        constructor(s, c) {
          this._map = s, this._el = s.getCanvasContainer(), this._handler = c, this._delta = 0, this._defaultZoomRate = 0.01, this._wheelZoomRate = 0.0022222222222222222, o.bindAll(["_onTimeout"], this);
        }
        setZoomRate(s) {
          this._defaultZoomRate = s;
        }
        setWheelZoomRate(s) {
          this._wheelZoomRate = s;
        }
        isEnabled() {
          return !!this._enabled;
        }
        isActive() {
          return !!this._active || this._finishTimeout !== void 0;
        }
        isZooming() {
          return !!this._zooming;
        }
        enable(s) {
          this.isEnabled() || (this._enabled = !0, this._aroundCenter = s && s.around === "center");
        }
        disable() {
          this.isEnabled() && (this._enabled = !1);
        }
        wheel(s) {
          if (!this.isEnabled())
            return;
          if (this._map._cooperativeGestures) {
            if (!this._map._metaPress)
              return;
            s.preventDefault();
          }
          let c = s.deltaMode === WheelEvent.DOM_DELTA_LINE ? 40 * s.deltaY : s.deltaY;
          const h = o.exported.now(), g = h - (this._lastWheelEventTime || 0);
          this._lastWheelEventTime = h, c !== 0 && c % j_ == 0 ? this._type = "wheel" : c !== 0 && Math.abs(c) < 4 ? this._type = "trackpad" : g > 400 ? (this._type = null, this._lastValue = c, this._timeout = setTimeout(this._onTimeout, 40, s)) : this._type || (this._type = Math.abs(g * c) < 200 ? "trackpad" : "wheel", this._timeout && (clearTimeout(this._timeout), this._timeout = null, c += this._lastValue)), s.shiftKey && c && (c /= 4), this._type && (this._lastWheelEvent = s, this._delta -= c, this._active || this._start(s)), s.preventDefault();
        }
        _onTimeout(s) {
          this._type = "wheel", this._delta -= this._lastValue, this._active || this._start(s);
        }
        _start(s) {
          if (!this._delta)
            return;
          this._frameId && (this._frameId = null), this._active = !0, this.isZooming() || (this._zooming = !0), this._finishTimeout && (clearTimeout(this._finishTimeout), delete this._finishTimeout);
          const c = L.mousePos(this._el, s);
          this._around = o.LngLat.convert(this._aroundCenter ? this._map.getCenter() : this._map.unproject(c)), this._aroundPoint = this._map.transform.locationPoint(this._around), this._frameId || (this._frameId = !0, this._handler._triggerRenderFrame());
        }
        renderFrame() {
          if (!this._frameId || (this._frameId = null, !this.isActive()))
            return;
          const s = this._map.transform;
          if (this._delta !== 0) {
            const A = this._type === "wheel" && Math.abs(this._delta) > j_ ? this._wheelZoomRate : this._defaultZoomRate;
            let I = 2 / (1 + Math.exp(-Math.abs(this._delta * A)));
            this._delta < 0 && I !== 0 && (I = 1 / I);
            const O = typeof this._targetZoom == "number" ? s.zoomScale(this._targetZoom) : s.scale;
            this._targetZoom = Math.min(s.maxZoom, Math.max(s.minZoom, s.scaleZoom(O * I))), this._type === "wheel" && (this._startZoom = s.zoom, this._easing = this._smoothOutEasing(200)), this._delta = 0;
          }
          const c = typeof this._targetZoom == "number" ? this._targetZoom : s.zoom, h = this._startZoom, g = this._easing;
          let x, M = !1;
          if (this._type === "wheel" && h && g) {
            const A = Math.min((o.exported.now() - this._lastWheelEventTime) / 200, 1), I = g(A);
            x = o.number(h, c, I), A < 1 ? this._frameId || (this._frameId = !0) : M = !0;
          } else
            x = c, M = !0;
          return this._active = !0, M && (this._active = !1, this._finishTimeout = setTimeout(() => {
            this._zooming = !1, this._handler._triggerRenderFrame(), delete this._targetZoom, delete this._finishTimeout;
          }, 200)), { noInertia: !0, needsRenderFrame: !M, zoomDelta: x - s.zoom, around: this._aroundPoint, originalEvent: this._lastWheelEvent };
        }
        _smoothOutEasing(s) {
          let c = o.ease;
          if (this._prevEase) {
            const h = this._prevEase, g = (o.exported.now() - h.start) / h.duration, x = h.easing(g + 0.01) - h.easing(g), M = 0.27 / Math.sqrt(x * x + 1e-4) * 0.01, A = Math.sqrt(0.0729 - M * M);
            c = o.bezier(M, A, 0.25, 1);
          }
          return this._prevEase = { start: o.exported.now(), duration: s, easing: c }, c;
        }
        reset() {
          this._active = !1;
        }
      }
      class qd {
        constructor(s, c) {
          this._clickZoom = s, this._tapZoom = c;
        }
        enable() {
          this._clickZoom.enable(), this._tapZoom.enable();
        }
        disable() {
          this._clickZoom.disable(), this._tapZoom.disable();
        }
        isEnabled() {
          return this._clickZoom.isEnabled() && this._tapZoom.isEnabled();
        }
        isActive() {
          return this._clickZoom.isActive() || this._tapZoom.isActive();
        }
      }
      class Fd {
        constructor() {
          this.reset();
        }
        reset() {
          this._active = !1;
        }
        dblclick(s, c) {
          return s.preventDefault(), { cameraAnimation: (h) => {
            h.easeTo({ duration: 300, zoom: h.getZoom() + (s.shiftKey ? -1 : 1), around: h.unproject(c) }, { originalEvent: s });
          } };
        }
        enable() {
          this._enabled = !0;
        }
        disable() {
          this._enabled = !1, this.reset();
        }
        isEnabled() {
          return this._enabled;
        }
        isActive() {
          return this._active;
        }
      }
      class Gd {
        constructor() {
          this._tap = new Dd({ numTouches: 1, numTaps: 1 }), this.reset();
        }
        reset() {
          this._active = !1, delete this._swipePoint, delete this._swipeTouch, delete this._tapTime, this._tap.reset();
        }
        touchstart(s, c, h) {
          this._swipePoint || (this._tapTime && s.timeStamp - this._tapTime > 500 && this.reset(), this._tapTime ? h.length > 0 && (this._swipePoint = c[0], this._swipeTouch = h[0].identifier) : this._tap.touchstart(s, c, h));
        }
        touchmove(s, c, h) {
          if (this._tapTime) {
            if (this._swipePoint) {
              if (h[0].identifier !== this._swipeTouch)
                return;
              const g = c[0], x = g.y - this._swipePoint.y;
              return this._swipePoint = g, s.preventDefault(), this._active = !0, { zoomDelta: x / 128 };
            }
          } else
            this._tap.touchmove(s, c, h);
        }
        touchend(s, c, h) {
          this._tapTime ? this._swipePoint && h.length === 0 && this.reset() : this._tap.touchend(s, c, h) && (this._tapTime = s.timeStamp);
        }
        touchcancel() {
          this.reset();
        }
        enable() {
          this._enabled = !0;
        }
        disable() {
          this._enabled = !1, this.reset();
        }
        isEnabled() {
          return this._enabled;
        }
        isActive() {
          return this._active;
        }
      }
      class mn {
        constructor(s, c, h) {
          this._el = s, this._mousePan = c, this._touchPan = h;
        }
        enable(s) {
          this._inertiaOptions = s || {}, this._mousePan.enable(), this._touchPan.enable(), this._el.classList.add("maplibregl-touch-drag-pan", "mapboxgl-touch-drag-pan");
        }
        disable() {
          this._mousePan.disable(), this._touchPan.disable(), this._el.classList.remove("maplibregl-touch-drag-pan", "mapboxgl-touch-drag-pan");
        }
        isEnabled() {
          return this._mousePan.isEnabled() && this._touchPan.isEnabled();
        }
        isActive() {
          return this._mousePan.isActive() || this._touchPan.isActive();
        }
      }
      class is {
        constructor(s, c, h) {
          this._pitchWithRotate = s.pitchWithRotate, this._mouseRotate = c, this._mousePitch = h;
        }
        enable() {
          this._mouseRotate.enable(), this._pitchWithRotate && this._mousePitch.enable();
        }
        disable() {
          this._mouseRotate.disable(), this._mousePitch.disable();
        }
        isEnabled() {
          return this._mouseRotate.isEnabled() && (!this._pitchWithRotate || this._mousePitch.isEnabled());
        }
        isActive() {
          return this._mouseRotate.isActive() || this._mousePitch.isActive();
        }
      }
      class V_ {
        constructor(s, c, h, g) {
          this._el = s, this._touchZoom = c, this._touchRotate = h, this._tapDragZoom = g, this._rotationDisabled = !1, this._enabled = !0;
        }
        enable(s) {
          this._touchZoom.enable(s), this._rotationDisabled || this._touchRotate.enable(s), this._tapDragZoom.enable(), this._el.classList.add("maplibregl-touch-zoom-rotate", "mapboxgl-touch-zoom-rotate");
        }
        disable() {
          this._touchZoom.disable(), this._touchRotate.disable(), this._tapDragZoom.disable(), this._el.classList.remove("maplibregl-touch-zoom-rotate", "mapboxgl-touch-zoom-rotate");
        }
        isEnabled() {
          return this._touchZoom.isEnabled() && (this._rotationDisabled || this._touchRotate.isEnabled()) && this._tapDragZoom.isEnabled();
        }
        isActive() {
          return this._touchZoom.isActive() || this._touchRotate.isActive() || this._tapDragZoom.isActive();
        }
        disableRotation() {
          this._rotationDisabled = !0, this._touchRotate.disable();
        }
        enableRotation() {
          this._rotationDisabled = !1, this._touchZoom.isEnabled() && this._touchRotate.enable();
        }
      }
      const ho = (p) => p.zoom || p.drag || p.pitch || p.rotate;
      class Ud extends o.Event {
      }
      function vl(p) {
        return p.panDelta && p.panDelta.mag() || p.zoomDelta || p.bearingDelta || p.pitchDelta;
      }
      class $_ {
        constructor(s, c) {
          this._map = s, this._el = this._map.getCanvasContainer(), this._handlers = [], this._handlersById = {}, this._changes = [], this._inertia = new N_(s), this._bearingSnap = c.bearingSnap, this._previousActiveHandlers = {}, this._eventsInProgress = {}, this._addDefaultHandlers(c), o.bindAll(["handleEvent", "handleWindowEvent"], this);
          const h = this._el;
          this._listeners = [[h, "touchstart", { passive: !0 }], [h, "touchmove", { passive: !1 }], [h, "touchend", void 0], [h, "touchcancel", void 0], [h, "mousedown", void 0], [h, "mousemove", void 0], [h, "mouseup", void 0], [document, "mousemove", { capture: !0 }], [document, "mouseup", void 0], [h, "mouseover", void 0], [h, "mouseout", void 0], [h, "dblclick", void 0], [h, "click", void 0], [h, "keydown", { capture: !1 }], [h, "keyup", void 0], [h, "wheel", { passive: !1 }], [h, "contextmenu", void 0], [window, "blur", void 0]];
          for (const [g, x, M] of this._listeners)
            L.addEventListener(g, x, g === document ? this.handleWindowEvent : this.handleEvent, M);
        }
        destroy() {
          for (const [s, c, h] of this._listeners)
            L.removeEventListener(s, c, s === document ? this.handleWindowEvent : this.handleEvent, h);
        }
        _addDefaultHandlers(s) {
          const c = this._map, h = c.getCanvasContainer();
          this._add("mapEvent", new Tp(c, s));
          const g = c.boxZoom = new q_(c, s);
          this._add("boxZoom", g);
          const x = new Mp(), M = new Fd();
          c.doubleClickZoom = new qd(M, x), this._add("tapZoom", x), this._add("clickZoom", M);
          const A = new Gd();
          this._add("tapDragZoom", A);
          const I = c.touchPitch = new Bd(c);
          this._add("touchPitch", I);
          const O = new Wr(s), z = new lt(s);
          c.dragRotate = new is(s, O, z), this._add("mouseRotate", O, ["mousePitch"]), this._add("mousePitch", z, ["mouseRotate"]);
          const q = new yl(s), G = new F_(s, c);
          c.dragPan = new mn(h, q, G), this._add("mousePan", q), this._add("touchPan", G, ["touchZoom", "touchRotate"]);
          const ee = new Lp(), K = new Je();
          c.touchZoomRotate = new V_(h, K, ee, A), this._add("touchRotate", ee, ["touchPan", "touchZoom"]), this._add("touchZoom", K, ["touchPan", "touchRotate"]);
          const Y = c.scrollZoom = new Nd(c, this);
          this._add("scrollZoom", Y, ["mousePan"]);
          const ue = c.keyboard = new U_();
          this._add("keyboard", ue), this._add("blockableMapEvent", new ts(c));
          for (const pe of ["boxZoom", "doubleClickZoom", "tapDragZoom", "touchPitch", "dragRotate", "dragPan", "touchZoomRotate", "scrollZoom", "keyboard"])
            s.interactive && s[pe] && c[pe].enable(s[pe]);
        }
        _add(s, c, h) {
          this._handlers.push({ handlerName: s, handler: c, allowed: h }), this._handlersById[s] = c;
        }
        stop(s) {
          if (!this._updatingCamera) {
            for (const { handler: c } of this._handlers)
              c.reset();
            this._inertia.clear(), this._fireEvents({}, {}, s), this._changes = [];
          }
        }
        isActive() {
          for (const { handler: s } of this._handlers)
            if (s.isActive())
              return !0;
          return !1;
        }
        isZooming() {
          return !!this._eventsInProgress.zoom || this._map.scrollZoom.isZooming();
        }
        isRotating() {
          return !!this._eventsInProgress.rotate;
        }
        isMoving() {
          return !!ho(this._eventsInProgress) || this.isZooming();
        }
        _blockedByActive(s, c, h) {
          for (const g in s)
            if (g !== h && (!c || c.indexOf(g) < 0))
              return !0;
          return !1;
        }
        handleWindowEvent(s) {
          this.handleEvent(s, `${s.type}Window`);
        }
        _getMapTouches(s) {
          const c = [];
          for (const h of s)
            this._el.contains(h.target) && c.push(h);
          return c;
        }
        handleEvent(s, c) {
          if (s.type === "blur")
            return void this.stop(!0);
          this._updatingCamera = !0;
          const h = s.type === "renderFrame" ? void 0 : s, g = { needsRenderFrame: !1 }, x = {}, M = {}, A = s.touches, I = A ? this._getMapTouches(A) : void 0, O = I ? L.touchPos(this._el, I) : L.mousePos(this._el, s);
          for (const { handlerName: G, handler: ee, allowed: K } of this._handlers) {
            if (!ee.isEnabled())
              continue;
            let Y;
            this._blockedByActive(M, K, G) ? ee.reset() : ee[c || s.type] && (Y = ee[c || s.type](s, O, I), this.mergeHandlerResult(g, x, Y, G, h), Y && Y.needsRenderFrame && this._triggerRenderFrame()), (Y || ee.isActive()) && (M[G] = ee);
          }
          const z = {};
          for (const G in this._previousActiveHandlers)
            M[G] || (z[G] = h);
          this._previousActiveHandlers = M, (Object.keys(z).length || vl(g)) && (this._changes.push([g, x, z]), this._triggerRenderFrame()), (Object.keys(M).length || vl(g)) && this._map._stop(!0), this._updatingCamera = !1;
          const { cameraAnimation: q } = g;
          q && (this._inertia.clear(), this._fireEvents({}, {}, !0), this._changes = [], q(this._map));
        }
        mergeHandlerResult(s, c, h, g, x) {
          if (!h)
            return;
          o.extend(s, h);
          const M = { handlerName: g, originalEvent: h.originalEvent || x };
          h.zoomDelta !== void 0 && (c.zoom = M), h.panDelta !== void 0 && (c.drag = M), h.pitchDelta !== void 0 && (c.pitch = M), h.bearingDelta !== void 0 && (c.rotate = M);
        }
        _applyChanges() {
          const s = {}, c = {}, h = {};
          for (const [g, x, M] of this._changes)
            g.panDelta && (s.panDelta = (s.panDelta || new o.pointGeometry(0, 0))._add(g.panDelta)), g.zoomDelta && (s.zoomDelta = (s.zoomDelta || 0) + g.zoomDelta), g.bearingDelta && (s.bearingDelta = (s.bearingDelta || 0) + g.bearingDelta), g.pitchDelta && (s.pitchDelta = (s.pitchDelta || 0) + g.pitchDelta), g.around !== void 0 && (s.around = g.around), g.pinchAround !== void 0 && (s.pinchAround = g.pinchAround), g.noInertia && (s.noInertia = g.noInertia), o.extend(c, x), o.extend(h, M);
          this._updateMapTransform(s, c, h), this._changes = [];
        }
        _updateMapTransform(s, c, h) {
          const g = this._map, x = g.transform, M = g.style && g.style.terrain;
          if (!(vl(s) || M && this._drag))
            return this._fireEvents(c, h, !0);
          let { panDelta: A, zoomDelta: I, bearingDelta: O, pitchDelta: z, around: q, pinchAround: G } = s;
          G !== void 0 && (q = G), g._stop(!0), q = q || g.transform.centerPoint;
          const ee = x.pointLocation(A ? q.sub(A) : q);
          O && (x.bearing += O), z && (x.pitch += z), I && (x.zoom += I), M ? c.drag && !this._drag ? (this._drag = { center: x.centerPoint, lngLat: x.pointLocation(q), point: q, handlerName: c.drag.handlerName }, g.fire(new o.Event("freezeElevation", { freeze: !0 }))) : this._drag && h[this._drag.handlerName] ? (g.fire(new o.Event("freezeElevation", { freeze: !1 })), this._drag = null) : c.drag && this._drag && (x.center = x.pointLocation(x.centerPoint.sub(A))) : x.setLocationAtPoint(ee, q), this._map._update(), s.noInertia || this._inertia.record(s), this._fireEvents(c, h, !0);
        }
        _fireEvents(s, c, h) {
          const g = ho(this._eventsInProgress), x = ho(s), M = {};
          for (const z in s) {
            const { originalEvent: q } = s[z];
            this._eventsInProgress[z] || (M[`${z}start`] = q), this._eventsInProgress[z] = s[z];
          }
          !g && x && this._fireEvent("movestart", x.originalEvent);
          for (const z in M)
            this._fireEvent(z, M[z]);
          x && this._fireEvent("move", x.originalEvent);
          for (const z in s) {
            const { originalEvent: q } = s[z];
            this._fireEvent(z, q);
          }
          const A = {};
          let I;
          for (const z in this._eventsInProgress) {
            const { handlerName: q, originalEvent: G } = this._eventsInProgress[z];
            this._handlersById[q].isActive() || (delete this._eventsInProgress[z], I = c[q] || G, A[`${z}end`] = I);
          }
          for (const z in A)
            this._fireEvent(z, A[z]);
          const O = ho(this._eventsInProgress);
          if (h && (g || x) && !O) {
            this._updatingCamera = !0;
            const z = this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions), q = (G) => G !== 0 && -this._bearingSnap < G && G < this._bearingSnap;
            z ? (q(z.bearing || this._map.getBearing()) && (z.bearing = 0), this._map.easeTo(z, { originalEvent: I })) : (this._map.fire(new o.Event("moveend", { originalEvent: I })), q(this._map.getBearing()) && this._map.resetNorth()), this._updatingCamera = !1;
          }
        }
        _fireEvent(s, c) {
          this._map.fire(new o.Event(s, c ? { originalEvent: c } : {}));
        }
        _requestFrame() {
          return this._map.triggerRepaint(), this._map._renderTaskQueue.add((s) => {
            delete this._frameId, this.handleEvent(new Ud("renderFrame", { timeStamp: s })), this._applyChanges();
          });
        }
        _triggerRenderFrame() {
          this._frameId === void 0 && (this._frameId = this._requestFrame());
        }
      }
      const jn = { extend: (p, ...s) => o.extend(p, ...s), run(p) {
        p();
      }, logToElement(p, s = !1, c = "log") {
        const h = window.document.getElementById(c);
        h && (s && (h.innerHTML = ""), h.innerHTML += `<br>${p}`);
      } };
      class Na extends o.Evented {
        constructor(s, c) {
          super(), this._moving = !1, this._zooming = !1, this.transform = s, this._bearingSnap = c.bearingSnap, o.bindAll(["_renderFrameCallback"], this);
        }
        getCenter() {
          return new o.LngLat(this.transform.center.lng, this.transform.center.lat);
        }
        setCenter(s, c) {
          return this.jumpTo({ center: s }, c);
        }
        panBy(s, c, h) {
          return s = o.pointGeometry.convert(s).mult(-1), this.panTo(this.transform.center, o.extend({ offset: s }, c), h);
        }
        panTo(s, c, h) {
          return this.easeTo(o.extend({ center: s }, c), h);
        }
        getZoom() {
          return this.transform.zoom;
        }
        setZoom(s, c) {
          return this.jumpTo({ zoom: s }, c), this;
        }
        zoomTo(s, c, h) {
          return this.easeTo(o.extend({ zoom: s }, c), h);
        }
        zoomIn(s, c) {
          return this.zoomTo(this.getZoom() + 1, s, c), this;
        }
        zoomOut(s, c) {
          return this.zoomTo(this.getZoom() - 1, s, c), this;
        }
        getBearing() {
          return this.transform.bearing;
        }
        setBearing(s, c) {
          return this.jumpTo({ bearing: s }, c), this;
        }
        getPadding() {
          return this.transform.padding;
        }
        setPadding(s, c) {
          return this.jumpTo({ padding: s }, c), this;
        }
        rotateTo(s, c, h) {
          return this.easeTo(o.extend({ bearing: s }, c), h);
        }
        resetNorth(s, c) {
          return this.rotateTo(0, o.extend({ duration: 1e3 }, s), c), this;
        }
        resetNorthPitch(s, c) {
          return this.easeTo(o.extend({ bearing: 0, pitch: 0, duration: 1e3 }, s), c), this;
        }
        snapToNorth(s, c) {
          return Math.abs(this.getBearing()) < this._bearingSnap ? this.resetNorth(s, c) : this;
        }
        getPitch() {
          return this.transform.pitch;
        }
        setPitch(s, c) {
          return this.jumpTo({ pitch: s }, c), this;
        }
        cameraForBounds(s, c) {
          s = o.LngLatBounds.convert(s);
          const h = c && c.bearing || 0;
          return this._cameraForBoxAndBearing(s.getNorthWest(), s.getSouthEast(), h, c);
        }
        _cameraForBoxAndBearing(s, c, h, g) {
          const x = { top: 0, bottom: 0, right: 0, left: 0 };
          if (typeof (g = o.extend({ padding: x, offset: [0, 0], maxZoom: this.transform.maxZoom }, g)).padding == "number") {
            const be = g.padding;
            g.padding = { top: be, bottom: be, right: be, left: be };
          }
          g.padding = o.extend(x, g.padding);
          const M = this.transform, A = M.padding, I = M.project(o.LngLat.convert(s)), O = M.project(o.LngLat.convert(c)), z = I.rotate(-h * Math.PI / 180), q = O.rotate(-h * Math.PI / 180), G = new o.pointGeometry(Math.max(z.x, q.x), Math.max(z.y, q.y)), ee = new o.pointGeometry(Math.min(z.x, q.x), Math.min(z.y, q.y)), K = G.sub(ee), Y = (M.width - (A.left + A.right + g.padding.left + g.padding.right)) / K.x, ue = (M.height - (A.top + A.bottom + g.padding.top + g.padding.bottom)) / K.y;
          if (ue < 0 || Y < 0)
            return void o.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");
          const pe = Math.min(M.scaleZoom(M.scale * Math.min(Y, ue)), g.maxZoom), ve = o.pointGeometry.convert(g.offset), te = new o.pointGeometry((g.padding.left - g.padding.right) / 2, (g.padding.top - g.padding.bottom) / 2).rotate(h * Math.PI / 180), Se = ve.add(te).mult(M.scale / M.zoomScale(pe));
          return { center: M.unproject(I.add(O).div(2).sub(Se)), zoom: pe, bearing: h };
        }
        fitBounds(s, c, h) {
          return this._fitInternal(this.cameraForBounds(s, c), c, h);
        }
        fitScreenCoordinates(s, c, h, g, x) {
          return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.pointGeometry.convert(s)), this.transform.pointLocation(o.pointGeometry.convert(c)), h, g), g, x);
        }
        _fitInternal(s, c, h) {
          return s ? (delete (c = o.extend(s, c)).padding, c.linear ? this.easeTo(c, h) : this.flyTo(c, h)) : this;
        }
        jumpTo(s, c) {
          this.stop();
          const h = this.transform;
          let g = !1, x = !1, M = !1;
          return "zoom" in s && h.zoom !== +s.zoom && (g = !0, h.zoom = +s.zoom), s.center !== void 0 && (h.center = o.LngLat.convert(s.center)), "bearing" in s && h.bearing !== +s.bearing && (x = !0, h.bearing = +s.bearing), "pitch" in s && h.pitch !== +s.pitch && (M = !0, h.pitch = +s.pitch), s.padding == null || h.isPaddingEqual(s.padding) || (h.padding = s.padding), this.fire(new o.Event("movestart", c)).fire(new o.Event("move", c)), g && this.fire(new o.Event("zoomstart", c)).fire(new o.Event("zoom", c)).fire(new o.Event("zoomend", c)), x && this.fire(new o.Event("rotatestart", c)).fire(new o.Event("rotate", c)).fire(new o.Event("rotateend", c)), M && this.fire(new o.Event("pitchstart", c)).fire(new o.Event("pitch", c)).fire(new o.Event("pitchend", c)), this.fire(new o.Event("moveend", c));
        }
        calculateCameraOptionsFromTo(s, c, h, g = 0) {
          const x = o.MercatorCoordinate.fromLngLat(s, c), M = o.MercatorCoordinate.fromLngLat(h, g), A = M.x - x.x, I = M.y - x.y, O = M.z - x.z, z = Math.hypot(A, I, O);
          if (z === 0)
            throw new Error("Can't calculate camera options with same From and To");
          const q = Math.hypot(A, I), G = this.transform.scaleZoom(this.transform.cameraToCenterDistance / z / this.transform.tileSize), ee = 180 * Math.atan2(A, -I) / Math.PI;
          let K = 180 * Math.acos(q / z) / Math.PI;
          return K = O < 0 ? 90 - K : 90 + K, { center: M.toLngLat(), zoom: G, pitch: K, bearing: ee };
        }
        easeTo(s, c) {
          this._stop(!1, s.easeId), ((s = o.extend({ offset: [0, 0], duration: 500, easing: o.ease }, s)).animate === !1 || !s.essential && o.exported.prefersReducedMotion) && (s.duration = 0);
          const h = this.transform, g = this.getZoom(), x = this.getBearing(), M = this.getPitch(), A = this.getPadding(), I = "zoom" in s ? +s.zoom : g, O = "bearing" in s ? this._normalizeBearing(s.bearing, x) : x, z = "pitch" in s ? +s.pitch : M, q = "padding" in s ? s.padding : h.padding, G = o.pointGeometry.convert(s.offset);
          let ee = h.centerPoint.add(G);
          const K = h.pointLocation(ee), Y = o.LngLat.convert(s.center || K);
          this._normalizeCenter(Y);
          const ue = h.project(K), pe = h.project(Y).sub(ue), ve = h.zoomScale(I - g);
          let te, Se;
          s.around && (te = o.LngLat.convert(s.around), Se = h.locationPoint(te));
          const be = { moving: this._moving, zooming: this._zooming, rotating: this._rotating, pitching: this._pitching };
          return this._zooming = this._zooming || I !== g, this._rotating = this._rotating || x !== O, this._pitching = this._pitching || z !== M, this._padding = !h.isPaddingEqual(q), this._easeId = s.easeId, this._prepareEase(c, s.noMoveStart, be), this._ease((Ie) => {
            if (this._zooming && (h.zoom = o.number(g, I, Ie)), this._rotating && (h.bearing = o.number(x, O, Ie)), this._pitching && (h.pitch = o.number(M, z, Ie)), this._padding && (h.interpolatePadding(A, q, Ie), ee = h.centerPoint.add(G)), te)
              h.setLocationAtPoint(te, Se);
            else {
              const Pe = h.zoomScale(h.zoom - g), Ne = I > g ? Math.min(2, ve) : Math.max(0.5, ve), Ce = Math.pow(Ne, 1 - Ie), it = h.unproject(ue.add(pe.mult(Ie * Ce)).mult(Pe));
              h.setLocationAtPoint(h.renderWorldCopies ? it.wrap() : it, ee);
            }
            this._fireMoveEvents(c);
          }, (Ie) => {
            this._afterEase(c, Ie);
          }, s), this;
        }
        _prepareEase(s, c, h = {}) {
          this._moving = !0, this.fire(new o.Event("freezeElevation", { freeze: !0 })), c || h.moving || this.fire(new o.Event("movestart", s)), this._zooming && !h.zooming && this.fire(new o.Event("zoomstart", s)), this._rotating && !h.rotating && this.fire(new o.Event("rotatestart", s)), this._pitching && !h.pitching && this.fire(new o.Event("pitchstart", s));
        }
        _fireMoveEvents(s) {
          this.fire(new o.Event("move", s)), this._zooming && this.fire(new o.Event("zoom", s)), this._rotating && this.fire(new o.Event("rotate", s)), this._pitching && this.fire(new o.Event("pitch", s));
        }
        _afterEase(s, c) {
          if (this._easeId && c && this._easeId === c)
            return;
          delete this._easeId, this.fire(new o.Event("freezeElevation", { freeze: !1 }));
          const h = this._zooming, g = this._rotating, x = this._pitching;
          this._moving = !1, this._zooming = !1, this._rotating = !1, this._pitching = !1, this._padding = !1, h && this.fire(new o.Event("zoomend", s)), g && this.fire(new o.Event("rotateend", s)), x && this.fire(new o.Event("pitchend", s)), this.fire(new o.Event("moveend", s));
        }
        flyTo(s, c) {
          if (!s.essential && o.exported.prefersReducedMotion) {
            const xt = o.pick(s, ["center", "zoom", "bearing", "pitch", "around"]);
            return this.jumpTo(xt, c);
          }
          this.stop(), s = o.extend({ offset: [0, 0], speed: 1.2, curve: 1.42, easing: o.ease }, s);
          const h = this.transform, g = this.getZoom(), x = this.getBearing(), M = this.getPitch(), A = this.getPadding(), I = "zoom" in s ? o.clamp(+s.zoom, h.minZoom, h.maxZoom) : g, O = "bearing" in s ? this._normalizeBearing(s.bearing, x) : x, z = "pitch" in s ? +s.pitch : M, q = "padding" in s ? s.padding : h.padding, G = h.zoomScale(I - g), ee = o.pointGeometry.convert(s.offset);
          let K = h.centerPoint.add(ee);
          const Y = h.pointLocation(K), ue = o.LngLat.convert(s.center || Y);
          this._normalizeCenter(ue);
          const pe = h.project(Y), ve = h.project(ue).sub(pe);
          let te = s.curve;
          const Se = Math.max(h.width, h.height), be = Se / G, Ie = ve.mag();
          if ("minZoom" in s) {
            const xt = o.clamp(Math.min(s.minZoom, g, I), h.minZoom, h.maxZoom), ma = Se / h.zoomScale(xt - g);
            te = Math.sqrt(ma / Ie * 2);
          }
          const Pe = te * te;
          function Ne(xt) {
            const ma = (be * be - Se * Se + (xt ? -1 : 1) * Pe * Pe * Ie * Ie) / (2 * (xt ? be : Se) * Pe * Ie);
            return Math.log(Math.sqrt(ma * ma + 1) - ma);
          }
          function Ce(xt) {
            return (Math.exp(xt) - Math.exp(-xt)) / 2;
          }
          function it(xt) {
            return (Math.exp(xt) + Math.exp(-xt)) / 2;
          }
          const Ke = Ne(0);
          let rt = function(xt) {
            return it(Ke) / it(Ke + te * xt);
          }, At = function(xt) {
            return Se * ((it(Ke) * (Ce(ma = Ke + te * xt) / it(ma)) - Ce(Ke)) / Pe) / Ie;
            var ma;
          }, Bt = (Ne(1) - Ke) / te;
          if (Math.abs(Ie) < 1e-6 || !isFinite(Bt)) {
            if (Math.abs(Se - be) < 1e-6)
              return this.easeTo(s, c);
            const xt = be < Se ? -1 : 1;
            Bt = Math.abs(Math.log(be / Se)) / te, At = function() {
              return 0;
            }, rt = function(ma) {
              return Math.exp(xt * te * ma);
            };
          }
          return s.duration = "duration" in s ? +s.duration : 1e3 * Bt / ("screenSpeed" in s ? +s.screenSpeed / te : +s.speed), s.maxDuration && s.duration > s.maxDuration && (s.duration = 0), this._zooming = !0, this._rotating = x !== O, this._pitching = z !== M, this._padding = !h.isPaddingEqual(q), this._prepareEase(c, !1), this._ease((xt) => {
            const ma = xt * Bt, ha = 1 / rt(ma);
            h.zoom = xt === 1 ? I : g + h.scaleZoom(ha), this._rotating && (h.bearing = o.number(x, O, xt)), this._pitching && (h.pitch = o.number(M, z, xt)), this._padding && (h.interpolatePadding(A, q, xt), K = h.centerPoint.add(ee));
            const Qt = xt === 1 ? ue : h.unproject(pe.add(ve.mult(At(ma))).mult(ha));
            h.setLocationAtPoint(h.renderWorldCopies ? Qt.wrap() : Qt, K), this._fireMoveEvents(c);
          }, () => this._afterEase(c), s), this;
        }
        isEasing() {
          return !!this._easeFrameId;
        }
        stop() {
          return this._stop();
        }
        _stop(s, c) {
          if (this._easeFrameId && (this._cancelRenderFrame(this._easeFrameId), delete this._easeFrameId, delete this._onEaseFrame), this._onEaseEnd) {
            const h = this._onEaseEnd;
            delete this._onEaseEnd, h.call(this, c);
          }
          if (!s) {
            const h = this.handlers;
            h && h.stop(!1);
          }
          return this;
        }
        _ease(s, c, h) {
          h.animate === !1 || h.duration === 0 ? (s(1), c()) : (this._easeStart = o.exported.now(), this._easeOptions = h, this._onEaseFrame = s, this._onEaseEnd = c, this._easeFrameId = this._requestRenderFrame(this._renderFrameCallback));
        }
        _renderFrameCallback() {
          const s = Math.min((o.exported.now() - this._easeStart) / this._easeOptions.duration, 1);
          this._onEaseFrame(this._easeOptions.easing(s)), s < 1 ? this._easeFrameId = this._requestRenderFrame(this._renderFrameCallback) : this.stop();
        }
        _normalizeBearing(s, c) {
          s = o.wrap(s, -180, 180);
          const h = Math.abs(s - c);
          return Math.abs(s - 360 - c) < h && (s -= 360), Math.abs(s + 360 - c) < h && (s += 360), s;
        }
        _normalizeCenter(s) {
          const c = this.transform;
          if (!c.renderWorldCopies || c.lngRange)
            return;
          const h = s.lng - c.center.lng;
          s.lng += h > 180 ? -360 : h < -180 ? 360 : 0;
        }
      }
      class bl {
        constructor(s = {}) {
          this.options = s, o.bindAll(["_toggleAttribution", "_updateData", "_updateCompact", "_updateCompactMinimize"], this);
        }
        getDefaultPosition() {
          return "bottom-right";
        }
        onAdd(s) {
          return this._map = s, this._compact = this.options && this.options.compact, this._container = L.create("details", "maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"), this._compactButton = L.create("summary", "maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button", this._container), this._compactButton.addEventListener("click", this._toggleAttribution), this._setElementTitle(this._compactButton, "ToggleAttribution"), this._innerContainer = L.create("div", "maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner", this._container), this._updateAttributions(), this._updateCompact(), this._map.on("styledata", this._updateData), this._map.on("sourcedata", this._updateData), this._map.on("terrain", this._updateData), this._map.on("resize", this._updateCompact), this._map.on("drag", this._updateCompactMinimize), this._container;
        }
        onRemove() {
          L.remove(this._container), this._map.off("styledata", this._updateData), this._map.off("sourcedata", this._updateData), this._map.off("terrain", this._updateData), this._map.off("resize", this._updateCompact), this._map.off("drag", this._updateCompactMinimize), this._map = void 0, this._compact = void 0, this._attribHTML = void 0;
        }
        _setElementTitle(s, c) {
          const h = this._map._getUIString(`AttributionControl.${c}`);
          s.title = h, s.setAttribute("aria-label", h);
        }
        _toggleAttribution() {
          this._container.classList.contains("maplibregl-compact") && (this._container.classList.contains("maplibregl-compact-show") ? (this._container.setAttribute("open", ""), this._container.classList.remove("maplibregl-compact-show", "mapboxgl-compact-show")) : (this._container.classList.add("maplibregl-compact-show", "mapboxgl-compact-show"), this._container.removeAttribute("open")));
        }
        _updateData(s) {
          !s || s.sourceDataType !== "metadata" && s.sourceDataType !== "visibility" && s.dataType !== "style" && s.type !== "terrain" || this._updateAttributions();
        }
        _updateAttributions() {
          if (!this._map.style)
            return;
          let s = [];
          if (this.options.customAttribution && (Array.isArray(this.options.customAttribution) ? s = s.concat(this.options.customAttribution.map((g) => typeof g != "string" ? "" : g)) : typeof this.options.customAttribution == "string" && s.push(this.options.customAttribution)), this._map.style.stylesheet) {
            const g = this._map.style.stylesheet;
            this.styleOwner = g.owner, this.styleId = g.id;
          }
          const c = this._map.style.sourceCaches;
          for (const g in c) {
            const x = c[g];
            if (x.used || x.usedForTerrain) {
              const M = x.getSource();
              M.attribution && s.indexOf(M.attribution) < 0 && s.push(M.attribution);
            }
          }
          s = s.filter((g) => String(g).trim()), s.sort((g, x) => g.length - x.length), s = s.filter((g, x) => {
            for (let M = x + 1; M < s.length; M++)
              if (s[M].indexOf(g) >= 0)
                return !1;
            return !0;
          });
          const h = s.join(" | ");
          h !== this._attribHTML && (this._attribHTML = h, s.length ? (this._innerContainer.innerHTML = h, this._container.classList.remove("maplibregl-attrib-empty", "mapboxgl-attrib-empty")) : this._container.classList.add("maplibregl-attrib-empty", "mapboxgl-attrib-empty"), this._updateCompact(), this._editLink = null);
        }
        _updateCompact() {
          this._map.getCanvasContainer().offsetWidth <= 640 || this._compact ? this._compact === !1 ? this._container.setAttribute("open", "") : this._container.classList.contains("maplibregl-compact") || this._container.classList.contains("maplibregl-attrib-empty") || (this._container.setAttribute("open", ""), this._container.classList.add("maplibregl-compact", "mapboxgl-compact", "maplibregl-compact-show", "mapboxgl-compact-show")) : (this._container.setAttribute("open", ""), this._container.classList.contains("maplibregl-compact") && this._container.classList.remove("maplibregl-compact", "maplibregl-compact-show", "mapboxgl-compact", "mapboxgl-compact-show"));
        }
        _updateCompactMinimize() {
          this._container.classList.contains("maplibregl-compact") && this._container.classList.contains("maplibregl-compact-show") && this._container.classList.remove("maplibregl-compact-show", "mapboxgl-compact-show");
        }
      }
      class gu {
        constructor(s = {}) {
          this.options = s, o.bindAll(["_updateCompact"], this);
        }
        getDefaultPosition() {
          return "bottom-left";
        }
        onAdd(s) {
          this._map = s, this._compact = this.options && this.options.compact, this._container = L.create("div", "maplibregl-ctrl mapboxgl-ctrl");
          const c = L.create("a", "maplibregl-ctrl-logo mapboxgl-ctrl-logo");
          return c.target = "_blank", c.rel = "noopener nofollow", c.href = "https://maplibre.org/", c.setAttribute("aria-label", this._map._getUIString("LogoControl.Title")), c.setAttribute("rel", "noopener nofollow"), this._container.appendChild(c), this._container.style.display = "block", this._map.on("resize", this._updateCompact), this._updateCompact(), this._container;
        }
        onRemove() {
          L.remove(this._container), this._map.off("resize", this._updateCompact), this._map = void 0, this._compact = void 0;
        }
        _updateCompact() {
          const s = this._container.children;
          if (s.length) {
            const c = s[0];
            this._map.getCanvasContainer().offsetWidth <= 640 || this._compact ? this._compact !== !1 && c.classList.add("maplibregl-compact", "mapboxgl-compact") : c.classList.remove("maplibregl-compact", "mapboxgl-compact");
          }
        }
      }
      class Z_ {
        constructor() {
          this._queue = [], this._id = 0, this._cleared = !1, this._currentlyRunning = !1;
        }
        add(s) {
          const c = ++this._id;
          return this._queue.push({ callback: s, id: c, cancelled: !1 }), c;
        }
        remove(s) {
          const c = this._currentlyRunning, h = c ? this._queue.concat(c) : this._queue;
          for (const g of h)
            if (g.id === s)
              return void (g.cancelled = !0);
        }
        run(s = 0) {
          if (this._currentlyRunning)
            throw new Error("Attempting to run(), but is already running.");
          const c = this._currentlyRunning = this._queue;
          this._queue = [];
          for (const h of c)
            if (!h.cancelled && (h.callback(s), this._cleared))
              break;
          this._cleared = !1, this._currentlyRunning = !1;
        }
        clear() {
          this._currentlyRunning && (this._cleared = !0), this._queue = [];
        }
      }
      const H_ = { "AttributionControl.ToggleAttribution": "Toggle attribution", "AttributionControl.MapFeedback": "Map feedback", "FullscreenControl.Enter": "Enter fullscreen", "FullscreenControl.Exit": "Exit fullscreen", "GeolocateControl.FindMyLocation": "Find my location", "GeolocateControl.LocationNotAvailable": "Location not available", "LogoControl.Title": "Mapbox logo", "NavigationControl.ResetBearing": "Reset bearing to north", "NavigationControl.ZoomIn": "Zoom in", "NavigationControl.ZoomOut": "Zoom out", "ScaleControl.Feet": "ft", "ScaleControl.Meters": "m", "ScaleControl.Kilometers": "km", "ScaleControl.Miles": "mi", "ScaleControl.NauticalMiles": "nm", "TerrainControl.enableTerrain": "Enable terrain", "TerrainControl.disableTerrain": "Disable terrain" }, X_ = { center: [0, 0], zoom: 0, bearing: 0, pitch: 0, minZoom: -2, maxZoom: 22, minPitch: 0, maxPitch: 60, interactive: !0, scrollZoom: !0, boxZoom: !0, dragRotate: !0, dragPan: !0, keyboard: !0, doubleClickZoom: !0, touchZoomRotate: !0, touchPitch: !0, cooperativeGestures: void 0, bearingSnap: 7, clickTolerance: 3, pitchWithRotate: !0, hash: !1, attributionControl: !0, maplibreLogo: !1, failIfMajorPerformanceCaveat: !1, preserveDrawingBuffer: !1, trackResize: !0, renderWorldCopies: !0, refreshExpiredTiles: !0, maxTileCacheSize: null, localIdeographFontFamily: "sans-serif", transformRequest: null, fadeDuration: 300, crossSourceCollisions: !0 }, Ap = { showCompass: !0, showZoom: !0, visualizePitch: !1 };
      class vr {
        constructor(s, c, h = !1) {
          this._clickTolerance = 10, this.element = c, this.mouseRotate = new Wr({ clickTolerance: s.dragRotate._mouseRotate._clickTolerance }), this.map = s, h && (this.mousePitch = new lt({ clickTolerance: s.dragRotate._mousePitch._clickTolerance })), o.bindAll(["mousedown", "mousemove", "mouseup", "touchstart", "touchmove", "touchend", "reset"], this), L.addEventListener(c, "mousedown", this.mousedown), L.addEventListener(c, "touchstart", this.touchstart, { passive: !1 }), L.addEventListener(c, "touchmove", this.touchmove), L.addEventListener(c, "touchend", this.touchend), L.addEventListener(c, "touchcancel", this.reset);
        }
        down(s, c) {
          this.mouseRotate.mousedown(s, c), this.mousePitch && this.mousePitch.mousedown(s, c), L.disableDrag();
        }
        move(s, c) {
          const h = this.map, g = this.mouseRotate.mousemoveWindow(s, c);
          if (g && g.bearingDelta && h.setBearing(h.getBearing() + g.bearingDelta), this.mousePitch) {
            const x = this.mousePitch.mousemoveWindow(s, c);
            x && x.pitchDelta && h.setPitch(h.getPitch() + x.pitchDelta);
          }
        }
        off() {
          const s = this.element;
          L.removeEventListener(s, "mousedown", this.mousedown), L.removeEventListener(s, "touchstart", this.touchstart, { passive: !1 }), L.removeEventListener(s, "touchmove", this.touchmove), L.removeEventListener(s, "touchend", this.touchend), L.removeEventListener(s, "touchcancel", this.reset), this.offTemp();
        }
        offTemp() {
          L.enableDrag(), L.removeEventListener(window, "mousemove", this.mousemove), L.removeEventListener(window, "mouseup", this.mouseup);
        }
        mousedown(s) {
          this.down(o.extend({}, s, { ctrlKey: !0, preventDefault: () => s.preventDefault() }), L.mousePos(this.element, s)), L.addEventListener(window, "mousemove", this.mousemove), L.addEventListener(window, "mouseup", this.mouseup);
        }
        mousemove(s) {
          this.move(s, L.mousePos(this.element, s));
        }
        mouseup(s) {
          this.mouseRotate.mouseupWindow(s), this.mousePitch && this.mousePitch.mouseupWindow(s), this.offTemp();
        }
        touchstart(s) {
          s.targetTouches.length !== 1 ? this.reset() : (this._startPos = this._lastPos = L.touchPos(this.element, s.targetTouches)[0], this.down({ type: "mousedown", button: 0, ctrlKey: !0, preventDefault: () => s.preventDefault() }, this._startPos));
        }
        touchmove(s) {
          s.targetTouches.length !== 1 ? this.reset() : (this._lastPos = L.touchPos(this.element, s.targetTouches)[0], this.move({ preventDefault: () => s.preventDefault() }, this._lastPos));
        }
        touchend(s) {
          s.targetTouches.length === 0 && this._startPos && this._lastPos && this._startPos.dist(this._lastPos) < this._clickTolerance && this.element.click(), this.reset();
        }
        reset() {
          this.mouseRotate.reset(), this.mousePitch && this.mousePitch.reset(), delete this._startPos, delete this._lastPos, this.offTemp();
        }
      }
      function xl(p, s, c) {
        if (p = new o.LngLat(p.lng, p.lat), s) {
          const h = new o.LngLat(p.lng - 360, p.lat), g = new o.LngLat(p.lng + 360, p.lat), x = c.locationPoint(p).distSqr(s);
          c.locationPoint(h).distSqr(s) < x ? p = h : c.locationPoint(g).distSqr(s) < x && (p = g);
        }
        for (; Math.abs(p.lng - c.center.lng) > 180; ) {
          const h = c.locationPoint(p);
          if (h.x >= 0 && h.y >= 0 && h.x <= c.width && h.y <= c.height)
            break;
          p.lng > c.center.lng ? p.lng -= 360 : p.lng += 360;
        }
        return p;
      }
      const pt = { center: "translate(-50%,-50%)", top: "translate(-50%,0)", "top-left": "translate(0,0)", "top-right": "translate(-100%,0)", bottom: "translate(-50%,-100%)", "bottom-left": "translate(0,-100%)", "bottom-right": "translate(-100%,-100%)", left: "translate(0,-50%)", right: "translate(-100%,-50%)" };
      function Tt(p, s, c) {
        const h = p.classList;
        for (const g in pt)
          h.remove(`maplibregl-${c}-anchor-${g}`, `mapboxgl-${c}-anchor-${g}`);
        h.add(`maplibregl-${c}-anchor-${s}`, `mapboxgl-${c}-anchor-${s}`);
      }
      class po extends o.Evented {
        constructor(s, c) {
          if (super(), (s instanceof HTMLElement || c) && (s = o.extend({ element: s }, c)), o.bindAll(["_update", "_onMove", "_onUp", "_addDragHandler", "_onMapClick", "_onKeyPress"], this), this._anchor = s && s.anchor || "center", this._color = s && s.color || "#3FB1CE", this._scale = s && s.scale || 1, this._draggable = s && s.draggable || !1, this._clickTolerance = s && s.clickTolerance || 0, this._isDragging = !1, this._state = "inactive", this._rotation = s && s.rotation || 0, this._rotationAlignment = s && s.rotationAlignment || "auto", this._pitchAlignment = s && s.pitchAlignment && s.pitchAlignment !== "auto" ? s.pitchAlignment : this._rotationAlignment, s && s.element)
            this._element = s.element, this._offset = o.pointGeometry.convert(s && s.offset || [0, 0]);
          else {
            this._defaultMarker = !0, this._element = L.create("div"), this._element.setAttribute("aria-label", "Map marker");
            const h = L.createNS("http://www.w3.org/2000/svg", "svg"), g = 41, x = 27;
            h.setAttributeNS(null, "display", "block"), h.setAttributeNS(null, "height", `${g}px`), h.setAttributeNS(null, "width", `${x}px`), h.setAttributeNS(null, "viewBox", `0 0 ${x} ${g}`);
            const M = L.createNS("http://www.w3.org/2000/svg", "g");
            M.setAttributeNS(null, "stroke", "none"), M.setAttributeNS(null, "stroke-width", "1"), M.setAttributeNS(null, "fill", "none"), M.setAttributeNS(null, "fill-rule", "evenodd");
            const A = L.createNS("http://www.w3.org/2000/svg", "g");
            A.setAttributeNS(null, "fill-rule", "nonzero");
            const I = L.createNS("http://www.w3.org/2000/svg", "g");
            I.setAttributeNS(null, "transform", "translate(3.0, 29.0)"), I.setAttributeNS(null, "fill", "#000000");
            const O = [{ rx: "10.5", ry: "5.25002273" }, { rx: "10.5", ry: "5.25002273" }, { rx: "9.5", ry: "4.77275007" }, { rx: "8.5", ry: "4.29549936" }, { rx: "7.5", ry: "3.81822308" }, { rx: "6.5", ry: "3.34094679" }, { rx: "5.5", ry: "2.86367051" }, { rx: "4.5", ry: "2.38636864" }];
            for (const ve of O) {
              const te = L.createNS("http://www.w3.org/2000/svg", "ellipse");
              te.setAttributeNS(null, "opacity", "0.04"), te.setAttributeNS(null, "cx", "10.5"), te.setAttributeNS(null, "cy", "5.80029008"), te.setAttributeNS(null, "rx", ve.rx), te.setAttributeNS(null, "ry", ve.ry), I.appendChild(te);
            }
            const z = L.createNS("http://www.w3.org/2000/svg", "g");
            z.setAttributeNS(null, "fill", this._color);
            const q = L.createNS("http://www.w3.org/2000/svg", "path");
            q.setAttributeNS(null, "d", "M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"), z.appendChild(q);
            const G = L.createNS("http://www.w3.org/2000/svg", "g");
            G.setAttributeNS(null, "opacity", "0.25"), G.setAttributeNS(null, "fill", "#000000");
            const ee = L.createNS("http://www.w3.org/2000/svg", "path");
            ee.setAttributeNS(null, "d", "M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"), G.appendChild(ee);
            const K = L.createNS("http://www.w3.org/2000/svg", "g");
            K.setAttributeNS(null, "transform", "translate(6.0, 7.0)"), K.setAttributeNS(null, "fill", "#FFFFFF");
            const Y = L.createNS("http://www.w3.org/2000/svg", "g");
            Y.setAttributeNS(null, "transform", "translate(8.0, 8.0)");
            const ue = L.createNS("http://www.w3.org/2000/svg", "circle");
            ue.setAttributeNS(null, "fill", "#000000"), ue.setAttributeNS(null, "opacity", "0.25"), ue.setAttributeNS(null, "cx", "5.5"), ue.setAttributeNS(null, "cy", "5.5"), ue.setAttributeNS(null, "r", "5.4999962");
            const pe = L.createNS("http://www.w3.org/2000/svg", "circle");
            pe.setAttributeNS(null, "fill", "#FFFFFF"), pe.setAttributeNS(null, "cx", "5.5"), pe.setAttributeNS(null, "cy", "5.5"), pe.setAttributeNS(null, "r", "5.4999962"), Y.appendChild(ue), Y.appendChild(pe), A.appendChild(I), A.appendChild(z), A.appendChild(G), A.appendChild(K), A.appendChild(Y), h.appendChild(A), h.setAttributeNS(null, "height", g * this._scale + "px"), h.setAttributeNS(null, "width", x * this._scale + "px"), this._element.appendChild(h), this._offset = o.pointGeometry.convert(s && s.offset || [0, -14]);
          }
          this._element.classList.add("maplibregl-marker", "mapboxgl-marker"), this._element.addEventListener("dragstart", (h) => {
            h.preventDefault();
          }), this._element.addEventListener("mousedown", (h) => {
            h.preventDefault();
          }), Tt(this._element, this._anchor, "marker"), this._popup = null;
        }
        addTo(s) {
          return this.remove(), this._map = s, s.getCanvasContainer().appendChild(this._element), s.on("move", this._update), s.on("moveend", this._update), this.setDraggable(this._draggable), this._update(), this._map.on("click", this._onMapClick), this;
        }
        remove() {
          return this._opacityTimeout && (clearTimeout(this._opacityTimeout), delete this._opacityTimeout), this._map && (this._map.off("click", this._onMapClick), this._map.off("move", this._update), this._map.off("moveend", this._update), this._map.off("mousedown", this._addDragHandler), this._map.off("touchstart", this._addDragHandler), this._map.off("mouseup", this._onUp), this._map.off("touchend", this._onUp), this._map.off("mousemove", this._onMove), this._map.off("touchmove", this._onMove), delete this._map), L.remove(this._element), this._popup && this._popup.remove(), this;
        }
        getLngLat() {
          return this._lngLat;
        }
        setLngLat(s) {
          return this._lngLat = o.LngLat.convert(s), this._pos = null, this._popup && this._popup.setLngLat(this._lngLat), this._update(), this;
        }
        getElement() {
          return this._element;
        }
        setPopup(s) {
          if (this._popup && (this._popup.remove(), this._popup = null, this._element.removeEventListener("keypress", this._onKeyPress), this._originalTabIndex || this._element.removeAttribute("tabindex")), s) {
            if (!("offset" in s.options)) {
              const g = Math.sqrt(Math.pow(13.5, 2) / 2);
              s.options.offset = this._defaultMarker ? { top: [0, 0], "top-left": [0, 0], "top-right": [0, 0], bottom: [0, -38.1], "bottom-left": [g, -1 * (38.1 - 13.5 + g)], "bottom-right": [-g, -1 * (38.1 - 13.5 + g)], left: [13.5, -1 * (38.1 - 13.5)], right: [-13.5, -1 * (38.1 - 13.5)] } : this._offset;
            }
            this._popup = s, this._lngLat && this._popup.setLngLat(this._lngLat), this._originalTabIndex = this._element.getAttribute("tabindex"), this._originalTabIndex || this._element.setAttribute("tabindex", "0"), this._element.addEventListener("keypress", this._onKeyPress);
          }
          return this;
        }
        _onKeyPress(s) {
          const c = s.code, h = s.charCode || s.keyCode;
          c !== "Space" && c !== "Enter" && h !== 32 && h !== 13 || this.togglePopup();
        }
        _onMapClick(s) {
          const c = s.originalEvent.target, h = this._element;
          this._popup && (c === h || h.contains(c)) && this.togglePopup();
        }
        getPopup() {
          return this._popup;
        }
        togglePopup() {
          const s = this._popup;
          return s ? (s.isOpen() ? s.remove() : s.addTo(this._map), this) : this;
        }
        _update(s) {
          if (!this._map)
            return;
          this._map.transform.renderWorldCopies && (this._lngLat = xl(this._lngLat, this._pos, this._map.transform)), this._pos = this._map.project(this._lngLat)._add(this._offset);
          let c = "";
          this._rotationAlignment === "viewport" || this._rotationAlignment === "auto" ? c = `rotateZ(${this._rotation}deg)` : this._rotationAlignment === "map" && (c = `rotateZ(${this._rotation - this._map.getBearing()}deg)`);
          let h = "";
          this._pitchAlignment === "viewport" || this._pitchAlignment === "auto" ? h = "rotateX(0deg)" : this._pitchAlignment === "map" && (h = `rotateX(${this._map.getPitch()}deg)`), s && s.type !== "moveend" || (this._pos = this._pos.round()), L.setTransform(this._element, `${pt[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${h} ${c}`), this._map.style && this._map.style.terrain && !this._opacityTimeout && (this._opacityTimeout = setTimeout(() => {
            const g = this._map.unproject(this._pos), x = 40075016686e-3 * Math.abs(Math.cos(this._lngLat.lat * Math.PI / 180)) / Math.pow(2, this._map.transform.tileZoom + 8);
            this._element.style.opacity = g.distanceTo(this._lngLat) > 20 * x ? "0.2" : "1.0", this._opacityTimeout = null;
          }, 100));
        }
        getOffset() {
          return this._offset;
        }
        setOffset(s) {
          return this._offset = o.pointGeometry.convert(s), this._update(), this;
        }
        _onMove(s) {
          if (!this._isDragging) {
            const c = this._clickTolerance || this._map._clickTolerance;
            this._isDragging = s.point.dist(this._pointerdownPos) >= c;
          }
          this._isDragging && (this._pos = s.point.sub(this._positionDelta), this._lngLat = this._map.unproject(this._pos), this.setLngLat(this._lngLat), this._element.style.pointerEvents = "none", this._state === "pending" && (this._state = "active", this.fire(new o.Event("dragstart"))), this.fire(new o.Event("drag")));
        }
        _onUp() {
          this._element.style.pointerEvents = "auto", this._positionDelta = null, this._pointerdownPos = null, this._isDragging = !1, this._map.off("mousemove", this._onMove), this._map.off("touchmove", this._onMove), this._state === "active" && this.fire(new o.Event("dragend")), this._state = "inactive";
        }
        _addDragHandler(s) {
          this._element.contains(s.originalEvent.target) && (s.preventDefault(), this._positionDelta = s.point.sub(this._pos).add(this._offset), this._pointerdownPos = s.point, this._state = "pending", this._map.on("mousemove", this._onMove), this._map.on("touchmove", this._onMove), this._map.once("mouseup", this._onUp), this._map.once("touchend", this._onUp));
        }
        setDraggable(s) {
          return this._draggable = !!s, this._map && (s ? (this._map.on("mousedown", this._addDragHandler), this._map.on("touchstart", this._addDragHandler)) : (this._map.off("mousedown", this._addDragHandler), this._map.off("touchstart", this._addDragHandler))), this;
        }
        isDraggable() {
          return this._draggable;
        }
        setRotation(s) {
          return this._rotation = s || 0, this._update(), this;
        }
        getRotation() {
          return this._rotation;
        }
        setRotationAlignment(s) {
          return this._rotationAlignment = s || "auto", this._update(), this;
        }
        getRotationAlignment() {
          return this._rotationAlignment;
        }
        setPitchAlignment(s) {
          return this._pitchAlignment = s && s !== "auto" ? s : this._rotationAlignment, this._update(), this;
        }
        getPitchAlignment() {
          return this._pitchAlignment;
        }
      }
      const jd = { positionOptions: { enableHighAccuracy: !1, maximumAge: 0, timeout: 6e3 }, fitBoundsOptions: { maxZoom: 15 }, trackUserLocation: !1, showAccuracyCircle: !0, showUserLocation: !0 };
      let ns, Bi = 0, rs = !1;
      const br = { maxWidth: 100, unit: "metric" };
      function K_(p, s, c) {
        const h = c && c.maxWidth || 100, g = p._container.clientHeight / 2, x = p.unproject([0, g]), M = p.unproject([h, g]), A = x.distanceTo(M);
        if (c && c.unit === "imperial") {
          const I = 3.2808 * A;
          I > 5280 ? ss(s, h, I / 5280, p._getUIString("ScaleControl.Miles")) : ss(s, h, I, p._getUIString("ScaleControl.Feet"));
        } else
          c && c.unit === "nautical" ? ss(s, h, A / 1852, p._getUIString("ScaleControl.NauticalMiles")) : A >= 1e3 ? ss(s, h, A / 1e3, p._getUIString("ScaleControl.Kilometers")) : ss(s, h, A, p._getUIString("ScaleControl.Meters"));
      }
      function ss(p, s, c, h) {
        const g = function(x) {
          const M = Math.pow(10, `${Math.floor(x)}`.length - 1);
          let A = x / M;
          return A = A >= 10 ? 10 : A >= 5 ? 5 : A >= 3 ? 3 : A >= 2 ? 2 : A >= 1 ? 1 : function(I) {
            const O = Math.pow(10, Math.ceil(-Math.log(I) / Math.LN10));
            return Math.round(I * O) / O;
          }(A), M * A;
        }(c);
        p.style.width = s * (g / c) + "px", p.innerHTML = `${g}&nbsp;${h}`;
      }
      const Ja = { closeButton: !0, closeOnClick: !0, focusAfterOpen: !0, className: "", maxWidth: "240px" }, si = ["a[href]", "[tabindex]:not([tabindex='-1'])", "[contenteditable]:not([contenteditable='false'])", "button:not([disabled])", "input:not([disabled])", "select:not([disabled])", "textarea:not([disabled])"].join(", ");
      function Vd(p) {
        if (p) {
          if (typeof p == "number") {
            const s = Math.round(Math.sqrt(0.5 * Math.pow(p, 2)));
            return { center: new o.pointGeometry(0, 0), top: new o.pointGeometry(0, p), "top-left": new o.pointGeometry(s, s), "top-right": new o.pointGeometry(-s, s), bottom: new o.pointGeometry(0, -p), "bottom-left": new o.pointGeometry(s, -s), "bottom-right": new o.pointGeometry(-s, -s), left: new o.pointGeometry(p, 0), right: new o.pointGeometry(-p, 0) };
          }
          if (p instanceof o.pointGeometry || Array.isArray(p)) {
            const s = o.pointGeometry.convert(p);
            return { center: s, top: s, "top-left": s, "top-right": s, bottom: s, "bottom-left": s, "bottom-right": s, left: s, right: s };
          }
          return { center: o.pointGeometry.convert(p.center || [0, 0]), top: o.pointGeometry.convert(p.top || [0, 0]), "top-left": o.pointGeometry.convert(p["top-left"] || [0, 0]), "top-right": o.pointGeometry.convert(p["top-right"] || [0, 0]), bottom: o.pointGeometry.convert(p.bottom || [0, 0]), "bottom-left": o.pointGeometry.convert(p["bottom-left"] || [0, 0]), "bottom-right": o.pointGeometry.convert(p["bottom-right"] || [0, 0]), left: o.pointGeometry.convert(p.left || [0, 0]), right: o.pointGeometry.convert(p.right || [0, 0]) };
        }
        return Vd(new o.pointGeometry(0, 0));
      }
      const Is = { supported: y, setRTLTextPlugin: o.setRTLTextPlugin, getRTLTextPluginStatus: o.getRTLTextPluginStatus, Map: class extends Na {
        constructor(p) {
          var s;
          if (o.PerformanceUtils.mark(o.PerformanceMarkers.create), (p = o.extend({}, X_, p)).minZoom != null && p.maxZoom != null && p.minZoom > p.maxZoom)
            throw new Error("maxZoom must be greater than or equal to minZoom");
          if (p.minPitch != null && p.maxPitch != null && p.minPitch > p.maxPitch)
            throw new Error("maxPitch must be greater than or equal to minPitch");
          if (p.minPitch != null && p.minPitch < 0)
            throw new Error("minPitch must be greater than or equal to 0");
          if (p.maxPitch != null && p.maxPitch > 85)
            throw new Error("maxPitch must be less than or equal to 85");
          if (super(new _l(p.minZoom, p.maxZoom, p.minPitch, p.maxPitch, p.renderWorldCopies), { bearingSnap: p.bearingSnap }), this._interactive = p.interactive, this._cooperativeGestures = p.cooperativeGestures, this._maxTileCacheSize = p.maxTileCacheSize, this._failIfMajorPerformanceCaveat = p.failIfMajorPerformanceCaveat, this._preserveDrawingBuffer = p.preserveDrawingBuffer, this._antialias = p.antialias, this._trackResize = p.trackResize, this._bearingSnap = p.bearingSnap, this._refreshExpiredTiles = p.refreshExpiredTiles, this._fadeDuration = p.fadeDuration, this._crossSourceCollisions = p.crossSourceCollisions, this._crossFadingFactor = 1, this._collectResourceTiming = p.collectResourceTiming, this._renderTaskQueue = new Z_(), this._controls = [], this._mapId = o.uniqueId(), this._locale = o.extend({}, H_, p.locale), this._clickTolerance = p.clickTolerance, this._pixelRatio = (s = p.pixelRatio) !== null && s !== void 0 ? s : devicePixelRatio, this._requestManager = new R(p.transformRequest), typeof p.container == "string") {
            if (this._container = document.getElementById(p.container), !this._container)
              throw new Error(`Container '${p.container}' not found.`);
          } else {
            if (!(p.container instanceof HTMLElement))
              throw new Error("Invalid type: 'container' must be a String or HTMLElement.");
            this._container = p.container;
          }
          if (p.maxBounds && this.setMaxBounds(p.maxBounds), o.bindAll(["_onWindowOnline", "_onWindowResize", "_onMapScroll", "_contextLost", "_contextRestored"], this), this._setupContainer(), this._setupPainter(), this.painter === void 0)
            throw new Error("Failed to initialize WebGL.");
          this.on("move", () => this._update(!1)), this.on("moveend", () => this._update(!1)), this.on("zoom", () => this._update(!0)), this.on("terrain", () => {
            this.painter.terrainFacilitator.dirty = !0, this._update(!0);
          }), typeof window < "u" && (addEventListener("online", this._onWindowOnline, !1), addEventListener("resize", this._onWindowResize, !1), addEventListener("orientationchange", this._onWindowResize, !1)), this.handlers = new $_(this, p), this._cooperativeGestures && this._setupCooperativeGestures(), this._hash = p.hash && new D_(typeof p.hash == "string" && p.hash || void 0).addTo(this), this._hash && this._hash._onHashChange() || (this.jumpTo({ center: p.center, zoom: p.zoom, bearing: p.bearing, pitch: p.pitch }), p.bounds && (this.resize(), this.fitBounds(p.bounds, o.extend({}, p.fitBoundsOptions, { duration: 0 })))), this.resize(), this._localIdeographFontFamily = p.localIdeographFontFamily, p.style && this.setStyle(p.style, { localIdeographFontFamily: p.localIdeographFontFamily }), p.attributionControl && this.addControl(new bl({ customAttribution: p.customAttribution })), p.maplibreLogo && this.addControl(new gu(), p.logoPosition), this.on("style.load", () => {
            this.transform.unmodified && this.jumpTo(this.style.stylesheet);
          }), this.on("data", (c) => {
            this._update(c.dataType === "style"), this.fire(new o.Event(`${c.dataType}data`, c));
          }), this.on("dataloading", (c) => {
            this.fire(new o.Event(`${c.dataType}dataloading`, c));
          }), this.on("dataabort", (c) => {
            this.fire(new o.Event("sourcedataabort", c));
          });
        }
        _getMapId() {
          return this._mapId;
        }
        addControl(p, s) {
          if (s === void 0 && (s = p.getDefaultPosition ? p.getDefaultPosition() : "top-right"), !p || !p.onAdd)
            return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));
          const c = p.onAdd(this);
          this._controls.push(p);
          const h = this._controlPositions[s];
          return s.indexOf("bottom") !== -1 ? h.insertBefore(c, h.firstChild) : h.appendChild(c), this;
        }
        removeControl(p) {
          if (!p || !p.onRemove)
            return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));
          const s = this._controls.indexOf(p);
          return s > -1 && this._controls.splice(s, 1), p.onRemove(this), this;
        }
        hasControl(p) {
          return this._controls.indexOf(p) > -1;
        }
        calculateCameraOptionsFromTo(p, s, c, h) {
          return h == null && this.style.terrain && (h = this.transform.getElevation(c, this.style.terrain)), super.calculateCameraOptionsFromTo(p, s, c, h);
        }
        resize(p) {
          const s = this._containerDimensions(), c = s[0], h = s[1];
          this._resizeCanvas(c, h, this.getPixelRatio()), this.transform.resize(c, h), this.painter.resize(c, h, this.getPixelRatio());
          const g = !this._moving;
          return g && (this.stop(), this.fire(new o.Event("movestart", p)).fire(new o.Event("move", p))), this.fire(new o.Event("resize", p)), g && this.fire(new o.Event("moveend", p)), this;
        }
        getPixelRatio() {
          return this._pixelRatio;
        }
        setPixelRatio(p) {
          const [s, c] = this._containerDimensions();
          this._pixelRatio = p, this._resizeCanvas(s, c, p), this.painter.resize(s, c, p);
        }
        getBounds() {
          return this.transform.getBounds();
        }
        getMaxBounds() {
          return this.transform.getMaxBounds();
        }
        setMaxBounds(p) {
          return this.transform.setMaxBounds(o.LngLatBounds.convert(p)), this._update();
        }
        setMinZoom(p) {
          if ((p = p ?? -2) >= -2 && p <= this.transform.maxZoom)
            return this.transform.minZoom = p, this._update(), this.getZoom() < p && this.setZoom(p), this;
          throw new Error("minZoom must be between -2 and the current maxZoom, inclusive");
        }
        getMinZoom() {
          return this.transform.minZoom;
        }
        setMaxZoom(p) {
          if ((p = p ?? 22) >= this.transform.minZoom)
            return this.transform.maxZoom = p, this._update(), this.getZoom() > p && this.setZoom(p), this;
          throw new Error("maxZoom must be greater than the current minZoom");
        }
        getMaxZoom() {
          return this.transform.maxZoom;
        }
        setMinPitch(p) {
          if ((p = p ?? 0) < 0)
            throw new Error("minPitch must be greater than or equal to 0");
          if (p >= 0 && p <= this.transform.maxPitch)
            return this.transform.minPitch = p, this._update(), this.getPitch() < p && this.setPitch(p), this;
          throw new Error("minPitch must be between 0 and the current maxPitch, inclusive");
        }
        getMinPitch() {
          return this.transform.minPitch;
        }
        setMaxPitch(p) {
          if ((p = p ?? 60) > 85)
            throw new Error("maxPitch must be less than or equal to 85");
          if (p >= this.transform.minPitch)
            return this.transform.maxPitch = p, this._update(), this.getPitch() > p && this.setPitch(p), this;
          throw new Error("maxPitch must be greater than the current minPitch");
        }
        getMaxPitch() {
          return this.transform.maxPitch;
        }
        getRenderWorldCopies() {
          return this.transform.renderWorldCopies;
        }
        setRenderWorldCopies(p) {
          return this.transform.renderWorldCopies = p, this._update();
        }
        project(p) {
          return this.transform.locationPoint(o.LngLat.convert(p), this.style && this.style.terrain);
        }
        unproject(p) {
          return this.transform.pointLocation(o.pointGeometry.convert(p), this.style && this.style.terrain);
        }
        isMoving() {
          return this._moving || this.handlers.isMoving();
        }
        isZooming() {
          return this._zooming || this.handlers.isZooming();
        }
        isRotating() {
          return this._rotating || this.handlers.isRotating();
        }
        _createDelegatedListener(p, s, c) {
          if (p === "mouseenter" || p === "mouseover") {
            let h = !1;
            return { layer: s, listener: c, delegates: { mousemove: (x) => {
              const M = this.getLayer(s) ? this.queryRenderedFeatures(x.point, { layers: [s] }) : [];
              M.length ? h || (h = !0, c.call(this, new An(p, this, x.originalEvent, { features: M }))) : h = !1;
            }, mouseout: () => {
              h = !1;
            } } };
          }
          if (p === "mouseleave" || p === "mouseout") {
            let h = !1;
            return { layer: s, listener: c, delegates: { mousemove: (M) => {
              (this.getLayer(s) ? this.queryRenderedFeatures(M.point, { layers: [s] }) : []).length ? h = !0 : h && (h = !1, c.call(this, new An(p, this, M.originalEvent)));
            }, mouseout: (M) => {
              h && (h = !1, c.call(this, new An(p, this, M.originalEvent)));
            } } };
          }
          {
            const h = (g) => {
              const x = this.getLayer(s) ? this.queryRenderedFeatures(g.point, { layers: [s] }) : [];
              x.length && (g.features = x, c.call(this, g), delete g.features);
            };
            return { layer: s, listener: c, delegates: { [p]: h } };
          }
        }
        on(p, s, c) {
          if (c === void 0)
            return super.on(p, s);
          const h = this._createDelegatedListener(p, s, c);
          this._delegatedListeners = this._delegatedListeners || {}, this._delegatedListeners[p] = this._delegatedListeners[p] || [], this._delegatedListeners[p].push(h);
          for (const g in h.delegates)
            this.on(g, h.delegates[g]);
          return this;
        }
        once(p, s, c) {
          if (c === void 0)
            return super.once(p, s);
          const h = this._createDelegatedListener(p, s, c);
          for (const g in h.delegates)
            this.once(g, h.delegates[g]);
          return this;
        }
        off(p, s, c) {
          return c === void 0 ? super.off(p, s) : (this._delegatedListeners && this._delegatedListeners[p] && ((h) => {
            const g = this._delegatedListeners[p];
            for (let x = 0; x < g.length; x++) {
              const M = g[x];
              if (M.layer === s && M.listener === c) {
                for (const A in M.delegates)
                  this.off(A, M.delegates[A]);
                return g.splice(x, 1), this;
              }
            }
          })(), this);
        }
        queryRenderedFeatures(p, s) {
          if (!this.style)
            return [];
          let c;
          if (s !== void 0 || p === void 0 || p instanceof o.pointGeometry || Array.isArray(p) || (s = p, p = void 0), s = s || {}, (p = p || [[0, 0], [this.transform.width, this.transform.height]]) instanceof o.pointGeometry || typeof p[0] == "number")
            c = [o.pointGeometry.convert(p)];
          else {
            const h = o.pointGeometry.convert(p[0]), g = o.pointGeometry.convert(p[1]);
            c = [h, new o.pointGeometry(g.x, h.y), g, new o.pointGeometry(h.x, g.y), h];
          }
          return this.style.queryRenderedFeatures(c, s, this.transform);
        }
        querySourceFeatures(p, s) {
          return this.style.querySourceFeatures(p, s);
        }
        setStyle(p, s) {
          return (s = o.extend({}, { localIdeographFontFamily: this._localIdeographFontFamily }, s)).diff !== !1 && s.localIdeographFontFamily === this._localIdeographFontFamily && this.style && p ? (this._diffStyle(p, s), this) : (this._localIdeographFontFamily = s.localIdeographFontFamily, this._updateStyle(p, s));
        }
        setTransformRequest(p) {
          return this._requestManager.setTransformRequest(p), this;
        }
        _getUIString(p) {
          const s = this._locale[p];
          if (s == null)
            throw new Error(`Missing UI string '${p}'`);
          return s;
        }
        _updateStyle(p, s) {
          return this.style && (this.style.setEventedParent(null), this.style._remove()), p ? (this.style = new ji(this, s || {}), this.style.setEventedParent(this, { style: this.style }), typeof p == "string" ? this.style.loadURL(p) : this.style.loadJSON(p), this) : (delete this.style, this);
        }
        _lazyInitEmptyStyle() {
          this.style || (this.style = new ji(this, {}), this.style.setEventedParent(this, { style: this.style }), this.style.loadEmpty());
        }
        _diffStyle(p, s) {
          if (typeof p == "string") {
            const c = this._requestManager.transformRequest(p, o.ResourceType.Style);
            o.getJSON(c, (h, g) => {
              h ? this.fire(new o.ErrorEvent(h)) : g && this._updateDiff(g, s);
            });
          } else
            typeof p == "object" && this._updateDiff(p, s);
        }
        _updateDiff(p, s) {
          try {
            this.style.setState(p) && this._update(!0);
          } catch (c) {
            o.warnOnce(`Unable to perform style diff: ${c.message || c.error || c}.  Rebuilding the style from scratch.`), this._updateStyle(p, s);
          }
        }
        getStyle() {
          if (this.style)
            return this.style.serialize();
        }
        isStyleLoaded() {
          return this.style ? this.style.loaded() : o.warnOnce("There is no style added to the map.");
        }
        addSource(p, s) {
          return this._lazyInitEmptyStyle(), this.style.addSource(p, s), this._update(!0);
        }
        isSourceLoaded(p) {
          const s = this.style && this.style.sourceCaches[p];
          if (s !== void 0)
            return s.loaded();
          this.fire(new o.ErrorEvent(new Error(`There is no source with ID '${p}'`)));
        }
        setTerrain(p) {
          return this.style.setTerrain(p), this;
        }
        getTerrain() {
          return this.style.terrain && this.style.terrain.options;
        }
        areTilesLoaded() {
          const p = this.style && this.style.sourceCaches;
          for (const s in p) {
            const c = p[s]._tiles;
            for (const h in c) {
              const g = c[h];
              if (g.state !== "loaded" && g.state !== "errored")
                return !1;
            }
          }
          return !0;
        }
        addSourceType(p, s, c) {
          return this._lazyInitEmptyStyle(), this.style.addSourceType(p, s, c);
        }
        removeSource(p) {
          return this.style.removeSource(p), this._update(!0);
        }
        getSource(p) {
          return this.style.getSource(p);
        }
        addImage(p, s, { pixelRatio: c = 1, sdf: h = !1, stretchX: g, stretchY: x, content: M } = {}) {
          if (this._lazyInitEmptyStyle(), s instanceof HTMLImageElement || o.isImageBitmap(s)) {
            const { width: A, height: I, data: O } = o.exported.getImageData(s);
            this.style.addImage(p, { data: new o.RGBAImage({ width: A, height: I }, O), pixelRatio: c, stretchX: g, stretchY: x, content: M, sdf: h, version: 0 });
          } else {
            if (s.width === void 0 || s.height === void 0)
              return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));
            {
              const { width: A, height: I, data: O } = s, z = s;
              this.style.addImage(p, { data: new o.RGBAImage({ width: A, height: I }, new Uint8Array(O)), pixelRatio: c, stretchX: g, stretchY: x, content: M, sdf: h, version: 0, userImage: z }), z.onAdd && z.onAdd(this, p);
            }
          }
        }
        updateImage(p, s) {
          const c = this.style.getImage(p);
          if (!c)
            return this.fire(new o.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));
          const h = s instanceof HTMLImageElement || o.isImageBitmap(s) ? o.exported.getImageData(s) : s, { width: g, height: x, data: M } = h;
          if (g === void 0 || x === void 0)
            return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));
          if (g !== c.data.width || x !== c.data.height)
            return this.fire(new o.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));
          const A = !(s instanceof HTMLImageElement || o.isImageBitmap(s));
          c.data.replace(M, A), this.style.updateImage(p, c);
        }
        hasImage(p) {
          return p ? !!this.style.getImage(p) : (this.fire(new o.ErrorEvent(new Error("Missing required image id"))), !1);
        }
        removeImage(p) {
          this.style.removeImage(p);
        }
        loadImage(p, s) {
          o.getImage(this._requestManager.transformRequest(p, o.ResourceType.Image), s);
        }
        listImages() {
          return this.style.listImages();
        }
        addLayer(p, s) {
          return this._lazyInitEmptyStyle(), this.style.addLayer(p, s), this._update(!0);
        }
        moveLayer(p, s) {
          return this.style.moveLayer(p, s), this._update(!0);
        }
        removeLayer(p) {
          return this.style.removeLayer(p), this._update(!0);
        }
        getLayer(p) {
          return this.style.getLayer(p);
        }
        setLayerZoomRange(p, s, c) {
          return this.style.setLayerZoomRange(p, s, c), this._update(!0);
        }
        setFilter(p, s, c = {}) {
          return this.style.setFilter(p, s, c), this._update(!0);
        }
        getFilter(p) {
          return this.style.getFilter(p);
        }
        setPaintProperty(p, s, c, h = {}) {
          return this.style.setPaintProperty(p, s, c, h), this._update(!0);
        }
        getPaintProperty(p, s) {
          return this.style.getPaintProperty(p, s);
        }
        setLayoutProperty(p, s, c, h = {}) {
          return this.style.setLayoutProperty(p, s, c, h), this._update(!0);
        }
        getLayoutProperty(p, s) {
          return this.style.getLayoutProperty(p, s);
        }
        setLight(p, s = {}) {
          return this._lazyInitEmptyStyle(), this.style.setLight(p, s), this._update(!0);
        }
        getLight() {
          return this.style.getLight();
        }
        setFeatureState(p, s) {
          return this.style.setFeatureState(p, s), this._update();
        }
        removeFeatureState(p, s) {
          return this.style.removeFeatureState(p, s), this._update();
        }
        getFeatureState(p) {
          return this.style.getFeatureState(p);
        }
        getContainer() {
          return this._container;
        }
        getCanvasContainer() {
          return this._canvasContainer;
        }
        getCanvas() {
          return this._canvas;
        }
        _containerDimensions() {
          let p = 0, s = 0;
          return this._container && (p = this._container.clientWidth || 400, s = this._container.clientHeight || 300), [p, s];
        }
        _setupContainer() {
          const p = this._container;
          p.classList.add("maplibregl-map", "mapboxgl-map");
          const s = this._canvasContainer = L.create("div", "maplibregl-canvas-container mapboxgl-canvas-container", p);
          this._interactive && s.classList.add("maplibregl-interactive", "mapboxgl-interactive"), this._canvas = L.create("canvas", "maplibregl-canvas mapboxgl-canvas", s), this._canvas.addEventListener("webglcontextlost", this._contextLost, !1), this._canvas.addEventListener("webglcontextrestored", this._contextRestored, !1), this._canvas.setAttribute("tabindex", "0"), this._canvas.setAttribute("aria-label", "Map"), this._canvas.setAttribute("role", "region");
          const c = this._containerDimensions();
          this._resizeCanvas(c[0], c[1], this.getPixelRatio());
          const h = this._controlContainer = L.create("div", "maplibregl-control-container mapboxgl-control-container", p), g = this._controlPositions = {};
          ["top-left", "top-right", "bottom-left", "bottom-right"].forEach((x) => {
            g[x] = L.create("div", `maplibregl-ctrl-${x} mapboxgl-ctrl-${x}`, h);
          }), this._container.addEventListener("scroll", this._onMapScroll, !1);
        }
        _setupCooperativeGestures() {
          const p = this._container;
          this._metaPress = !1, this._cooperativeGesturesScreen = L.create("div", "maplibregl-cooperative-gesture-screen", p);
          let s = "Control", c = typeof this._cooperativeGestures != "boolean" && this._cooperativeGestures.windowsHelpText ? this._cooperativeGestures.windowsHelpText : "Use Ctrl + scroll to zoom the map";
          navigator.platform.indexOf("Mac") === 0 && (c = typeof this._cooperativeGestures != "boolean" && this._cooperativeGestures.macHelpText ? this._cooperativeGestures.macHelpText : "Use ‚åò + scroll to zoom the map", s = "Meta"), this._cooperativeGesturesScreen.innerHTML = `
            <div class="maplibregl-desktop-message">${c}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures != "boolean" && this._cooperativeGestures.mobileHelpText ? this._cooperativeGestures.mobileHelpText : "Use two fingers to move the map"}</div>
        `, document.addEventListener("keydown", (h) => {
            h.key === s && (this._metaPress = !0);
          }), document.addEventListener("keyup", (h) => {
            h.key === s && (this._metaPress = !1);
          }), this._canvasContainer.addEventListener("wheel", (h) => {
            this._onCooperativeGesture(h, this._metaPress, 1);
          }, !1), this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan", "maplibregl-touch-drag-pan");
        }
        _resizeCanvas(p, s, c) {
          this._canvas.width = c * p, this._canvas.height = c * s, this._canvas.style.width = `${p}px`, this._canvas.style.height = `${s}px`;
        }
        _setupPainter() {
          const p = o.extend({}, y.webGLContextAttributes, { failIfMajorPerformanceCaveat: this._failIfMajorPerformanceCaveat, preserveDrawingBuffer: this._preserveDrawingBuffer, antialias: this._antialias || !1 }), s = this._canvas.getContext("webgl", p) || this._canvas.getContext("experimental-webgl", p);
          s ? (this.painter = new kd(s, this.transform), o.exported$1.testSupport(s)) : this.fire(new o.ErrorEvent(new Error("Failed to initialize WebGL")));
        }
        _contextLost(p) {
          p.preventDefault(), this._frame && (this._frame.cancel(), this._frame = null), this.fire(new o.Event("webglcontextlost", { originalEvent: p }));
        }
        _contextRestored(p) {
          this._setupPainter(), this.resize(), this._update(), this.fire(new o.Event("webglcontextrestored", { originalEvent: p }));
        }
        _onMapScroll(p) {
          if (p.target === this._container)
            return this._container.scrollTop = 0, this._container.scrollLeft = 0, !1;
        }
        _onCooperativeGesture(p, s, c) {
          return !s && c < 2 && (this._cooperativeGesturesScreen.classList.add("maplibregl-show"), setTimeout(() => {
            this._cooperativeGesturesScreen.classList.remove("maplibregl-show");
          }, 100)), !1;
        }
        loaded() {
          return !this._styleDirty && !this._sourcesDirty && !!this.style && this.style.loaded();
        }
        _update(p) {
          return this.style ? (this._styleDirty = this._styleDirty || p, this._sourcesDirty = !0, this.triggerRepaint(), this) : this;
        }
        _requestRenderFrame(p) {
          return this._update(), this._renderTaskQueue.add(p);
        }
        _cancelRenderFrame(p) {
          this._renderTaskQueue.remove(p);
        }
        _render(p) {
          let s, c = 0;
          const h = this.painter.context.extTimerQuery;
          if (this.listens("gpu-timing-frame") && (s = h.createQueryEXT(), h.beginQueryEXT(h.TIME_ELAPSED_EXT, s), c = o.exported.now()), this.painter.context.setDirty(), this.painter.setBaseState(), this._renderTaskQueue.run(p), this._removed)
            return;
          let g = !1;
          if (this.style && this._styleDirty) {
            this._styleDirty = !1;
            const M = this.transform.zoom, A = o.exported.now();
            this.style.zoomHistory.update(M, A);
            const I = new o.EvaluationParameters(M, { now: A, fadeDuration: this._fadeDuration, zoomHistory: this.style.zoomHistory, transition: this.style.getTransition() }), O = I.crossFadingFactor();
            O === 1 && O === this._crossFadingFactor || (g = !0, this._crossFadingFactor = O), this.style.update(I);
          }
          if (this.style && this._sourcesDirty && (this._sourcesDirty = !1, this.style._updateSources(this.transform)), this.style.terrain && this.style.terrain.sourceCache.update(this.transform, this.style.terrain), this.transform.updateElevation(this.style.terrain), this._placementDirty = this.style && this.style._updatePlacement(this.painter.transform, this.showCollisionBoxes, this._fadeDuration, this._crossSourceCollisions), this.painter.render(this.style, { showTileBoundaries: this.showTileBoundaries, showOverdrawInspector: this._showOverdrawInspector, rotating: this.isRotating(), zooming: this.isZooming(), moving: this.isMoving(), fadeDuration: this._fadeDuration, showPadding: this.showPadding, gpuTiming: !!this.listens("gpu-timing-layer") }), this.fire(new o.Event("render")), this.loaded() && !this._loaded && (this._loaded = !0, o.PerformanceUtils.mark(o.PerformanceMarkers.load), this.fire(new o.Event("load"))), this.style && (this.style.hasTransitions() || g) && (this._styleDirty = !0), this.style && !this._placementDirty && this.style._releaseSymbolFadeTiles(), this.listens("gpu-timing-frame")) {
            const M = o.exported.now() - c;
            h.endQueryEXT(h.TIME_ELAPSED_EXT, s), setTimeout(() => {
              const A = h.getQueryObjectEXT(s, h.QUERY_RESULT_EXT) / 1e6;
              h.deleteQueryEXT(s), this.fire(new o.Event("gpu-timing-frame", { cpuTime: M, gpuTime: A }));
            }, 50);
          }
          if (this.listens("gpu-timing-layer")) {
            const M = this.painter.collectGpuTimers();
            setTimeout(() => {
              const A = this.painter.queryGpuTimers(M);
              this.fire(new o.Event("gpu-timing-layer", { layerTimes: A }));
            }, 50);
          }
          const x = this._sourcesDirty || this._styleDirty || this._placementDirty;
          return x || this._repaint ? this.triggerRepaint() : !this.isMoving() && this.loaded() && this.fire(new o.Event("idle")), !this._loaded || this._fullyLoaded || x || (this._fullyLoaded = !0, o.PerformanceUtils.mark(o.PerformanceMarkers.fullLoad)), this;
        }
        redraw() {
          return this.style && (this._frame && (this._frame.cancel(), this._frame = null), this._render(0)), this;
        }
        remove() {
          this._hash && this._hash.remove();
          for (const s of this._controls)
            s.onRemove(this);
          this._controls = [], this._frame && (this._frame.cancel(), this._frame = null), this._renderTaskQueue.clear(), this.painter.destroy(), this.handlers.destroy(), delete this.handlers, this.setStyle(null), typeof window < "u" && (removeEventListener("resize", this._onWindowResize, !1), removeEventListener("orientationchange", this._onWindowResize, !1), removeEventListener("online", this._onWindowOnline, !1));
          const p = this.painter.context.gl.getExtension("WEBGL_lose_context");
          p && p.loseContext(), this._canvas.removeEventListener("webglcontextrestored", this._contextRestored, !1), this._canvas.removeEventListener("webglcontextlost", this._contextLost, !1), L.remove(this._canvasContainer), L.remove(this._controlContainer), this._cooperativeGestures && L.remove(this._cooperativeGesturesScreen), this._container.classList.remove("maplibregl-map", "mapboxgl-map"), o.PerformanceUtils.clearMetrics(), this._removed = !0, this.fire(new o.Event("remove"));
        }
        triggerRepaint() {
          this.style && !this._frame && (this._frame = o.exported.frame((p) => {
            o.PerformanceUtils.frame(p), this._frame = null, this._render(p);
          }));
        }
        _onWindowOnline() {
          this._update();
        }
        _onWindowResize(p) {
          this._trackResize && this.resize({ originalEvent: p })._update();
        }
        get showTileBoundaries() {
          return !!this._showTileBoundaries;
        }
        set showTileBoundaries(p) {
          this._showTileBoundaries !== p && (this._showTileBoundaries = p, this._update());
        }
        get showPadding() {
          return !!this._showPadding;
        }
        set showPadding(p) {
          this._showPadding !== p && (this._showPadding = p, this._update());
        }
        get showCollisionBoxes() {
          return !!this._showCollisionBoxes;
        }
        set showCollisionBoxes(p) {
          this._showCollisionBoxes !== p && (this._showCollisionBoxes = p, p ? this.style._generateCollisionBoxes() : this._update());
        }
        get showOverdrawInspector() {
          return !!this._showOverdrawInspector;
        }
        set showOverdrawInspector(p) {
          this._showOverdrawInspector !== p && (this._showOverdrawInspector = p, this._update());
        }
        get repaint() {
          return !!this._repaint;
        }
        set repaint(p) {
          this._repaint !== p && (this._repaint = p, this.triggerRepaint());
        }
        get vertices() {
          return !!this._vertices;
        }
        set vertices(p) {
          this._vertices = p, this._update();
        }
        _setCacheLimits(p, s) {
          o.setCacheLimits(p, s);
        }
        get version() {
          return "2.4.0";
        }
      }, NavigationControl: class {
        constructor(p) {
          this.options = o.extend({}, Ap, p), this._container = L.create("div", "maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"), this._container.addEventListener("contextmenu", (s) => s.preventDefault()), this.options.showZoom && (o.bindAll(["_setButtonTitle", "_updateZoomButtons"], this), this._zoomInButton = this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in", (s) => this._map.zoomIn({}, { originalEvent: s })), L.create("span", "maplibregl-ctrl-icon mapboxgl-ctrl-icon", this._zoomInButton).setAttribute("aria-hidden", "true"), this._zoomOutButton = this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out", (s) => this._map.zoomOut({}, { originalEvent: s })), L.create("span", "maplibregl-ctrl-icon mapboxgl-ctrl-icon", this._zoomOutButton).setAttribute("aria-hidden", "true")), this.options.showCompass && (o.bindAll(["_rotateCompassArrow"], this), this._compass = this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass", (s) => {
            this.options.visualizePitch ? this._map.resetNorthPitch({}, { originalEvent: s }) : this._map.resetNorth({}, { originalEvent: s });
          }), this._compassIcon = L.create("span", "maplibregl-ctrl-icon mapboxgl-ctrl-icon", this._compass), this._compassIcon.setAttribute("aria-hidden", "true"));
        }
        _updateZoomButtons() {
          const p = this._map.getZoom(), s = p === this._map.getMaxZoom(), c = p === this._map.getMinZoom();
          this._zoomInButton.disabled = s, this._zoomOutButton.disabled = c, this._zoomInButton.setAttribute("aria-disabled", s.toString()), this._zoomOutButton.setAttribute("aria-disabled", c.toString());
        }
        _rotateCompassArrow() {
          const p = this.options.visualizePitch ? `scale(${1 / Math.pow(Math.cos(this._map.transform.pitch * (Math.PI / 180)), 0.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle * (180 / Math.PI)}deg)` : `rotate(${this._map.transform.angle * (180 / Math.PI)}deg)`;
          this._compassIcon.style.transform = p;
        }
        onAdd(p) {
          return this._map = p, this.options.showZoom && (this._setButtonTitle(this._zoomInButton, "ZoomIn"), this._setButtonTitle(this._zoomOutButton, "ZoomOut"), this._map.on("zoom", this._updateZoomButtons), this._updateZoomButtons()), this.options.showCompass && (this._setButtonTitle(this._compass, "ResetBearing"), this.options.visualizePitch && this._map.on("pitch", this._rotateCompassArrow), this._map.on("rotate", this._rotateCompassArrow), this._rotateCompassArrow(), this._handler = new vr(this._map, this._compass, this.options.visualizePitch)), this._container;
        }
        onRemove() {
          L.remove(this._container), this.options.showZoom && this._map.off("zoom", this._updateZoomButtons), this.options.showCompass && (this.options.visualizePitch && this._map.off("pitch", this._rotateCompassArrow), this._map.off("rotate", this._rotateCompassArrow), this._handler.off(), delete this._handler), delete this._map;
        }
        _createButton(p, s) {
          const c = L.create("button", p, this._container);
          return c.type = "button", c.addEventListener("click", s), c;
        }
        _setButtonTitle(p, s) {
          const c = this._map._getUIString(`NavigationControl.${s}`);
          p.title = c, p.setAttribute("aria-label", c);
        }
      }, GeolocateControl: class extends o.Evented {
        constructor(p) {
          super(), this.options = o.extend({}, jd, p), o.bindAll(["_onSuccess", "_onError", "_onZoom", "_finish", "_setupUI", "_updateCamera", "_updateMarker"], this);
        }
        onAdd(p) {
          var s;
          return this._map = p, this._container = L.create("div", "maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"), s = this._setupUI, ns !== void 0 ? s(ns) : window.navigator.permissions !== void 0 ? window.navigator.permissions.query({ name: "geolocation" }).then((c) => {
            ns = c.state !== "denied", s(ns);
          }) : (ns = !!window.navigator.geolocation, s(ns)), this._container;
        }
        onRemove() {
          this._geolocationWatchID !== void 0 && (window.navigator.geolocation.clearWatch(this._geolocationWatchID), this._geolocationWatchID = void 0), this.options.showUserLocation && this._userLocationDotMarker && this._userLocationDotMarker.remove(), this.options.showAccuracyCircle && this._accuracyCircleMarker && this._accuracyCircleMarker.remove(), L.remove(this._container), this._map.off("zoom", this._onZoom), this._map = void 0, Bi = 0, rs = !1;
        }
        _isOutOfMapMaxBounds(p) {
          const s = this._map.getMaxBounds(), c = p.coords;
          return s && (c.longitude < s.getWest() || c.longitude > s.getEast() || c.latitude < s.getSouth() || c.latitude > s.getNorth());
        }
        _setErrorState() {
          switch (this._watchState) {
            case "WAITING_ACTIVE":
              this._watchState = "ACTIVE_ERROR", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error", "mapboxgl-ctrl-geolocate-active-error");
              break;
            case "ACTIVE_LOCK":
              this._watchState = "ACTIVE_ERROR", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error", "mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting");
              break;
            case "BACKGROUND":
              this._watchState = "BACKGROUND_ERROR", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error", "mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting");
              break;
            case "ACTIVE_ERROR":
              break;
            default:
              throw new Error(`Unexpected watchState ${this._watchState}`);
          }
        }
        _onSuccess(p) {
          if (this._map) {
            if (this._isOutOfMapMaxBounds(p))
              return this._setErrorState(), this.fire(new o.Event("outofmaxbounds", p)), this._updateMarker(), void this._finish();
            if (this.options.trackUserLocation)
              switch (this._lastKnownPosition = p, this._watchState) {
                case "WAITING_ACTIVE":
                case "ACTIVE_LOCK":
                case "ACTIVE_ERROR":
                  this._watchState = "ACTIVE_LOCK", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error", "mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active");
                  break;
                case "BACKGROUND":
                case "BACKGROUND_ERROR":
                  this._watchState = "BACKGROUND", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error", "mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background");
                  break;
                default:
                  throw new Error(`Unexpected watchState ${this._watchState}`);
              }
            this.options.showUserLocation && this._watchState !== "OFF" && this._updateMarker(p), this.options.trackUserLocation && this._watchState !== "ACTIVE_LOCK" || this._updateCamera(p), this.options.showUserLocation && this._dotElement.classList.remove("maplibregl-user-location-dot-stale", "mapboxgl-user-location-dot-stale"), this.fire(new o.Event("geolocate", p)), this._finish();
          }
        }
        _updateCamera(p) {
          const s = new o.LngLat(p.coords.longitude, p.coords.latitude), c = p.coords.accuracy, h = this._map.getBearing(), g = o.extend({ bearing: h }, this.options.fitBoundsOptions);
          this._map.fitBounds(s.toBounds(c), g, { geolocateSource: !0 });
        }
        _updateMarker(p) {
          if (p) {
            const s = new o.LngLat(p.coords.longitude, p.coords.latitude);
            this._accuracyCircleMarker.setLngLat(s).addTo(this._map), this._userLocationDotMarker.setLngLat(s).addTo(this._map), this._accuracy = p.coords.accuracy, this.options.showUserLocation && this.options.showAccuracyCircle && this._updateCircleRadius();
          } else
            this._userLocationDotMarker.remove(), this._accuracyCircleMarker.remove();
        }
        _updateCircleRadius() {
          const p = this._map._container.clientHeight / 2, s = this._map.unproject([0, p]), c = this._map.unproject([1, p]), h = s.distanceTo(c), g = Math.ceil(2 * this._accuracy / h);
          this._circleElement.style.width = `${g}px`, this._circleElement.style.height = `${g}px`;
        }
        _onZoom() {
          this.options.showUserLocation && this.options.showAccuracyCircle && this._updateCircleRadius();
        }
        _onError(p) {
          if (this._map) {
            if (this.options.trackUserLocation)
              if (p.code === 1) {
                this._watchState = "OFF", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error", "mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error", "mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.disabled = !0;
                const s = this._map._getUIString("GeolocateControl.LocationNotAvailable");
                this._geolocateButton.title = s, this._geolocateButton.setAttribute("aria-label", s), this._geolocationWatchID !== void 0 && this._clearWatch();
              } else {
                if (p.code === 3 && rs)
                  return;
                this._setErrorState();
              }
            this._watchState !== "OFF" && this.options.showUserLocation && this._dotElement.classList.add("maplibregl-user-location-dot-stale", "mapboxgl-user-location-dot-stale"), this.fire(new o.Event("error", p)), this._finish();
          }
        }
        _finish() {
          this._timeoutId && clearTimeout(this._timeoutId), this._timeoutId = void 0;
        }
        _setupUI(p) {
          if (this._container.addEventListener("contextmenu", (s) => s.preventDefault()), this._geolocateButton = L.create("button", "maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate", this._container), L.create("span", "maplibregl-ctrl-icon mapboxgl-ctrl-icon", this._geolocateButton).setAttribute("aria-hidden", "true"), this._geolocateButton.type = "button", p === !1) {
            o.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");
            const s = this._map._getUIString("GeolocateControl.LocationNotAvailable");
            this._geolocateButton.disabled = !0, this._geolocateButton.title = s, this._geolocateButton.setAttribute("aria-label", s);
          } else {
            const s = this._map._getUIString("GeolocateControl.FindMyLocation");
            this._geolocateButton.title = s, this._geolocateButton.setAttribute("aria-label", s);
          }
          this.options.trackUserLocation && (this._geolocateButton.setAttribute("aria-pressed", "false"), this._watchState = "OFF"), this.options.showUserLocation && (this._dotElement = L.create("div", "maplibregl-user-location-dot mapboxgl-user-location-dot"), this._userLocationDotMarker = new po(this._dotElement), this._circleElement = L.create("div", "maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"), this._accuracyCircleMarker = new po({ element: this._circleElement, pitchAlignment: "map" }), this.options.trackUserLocation && (this._watchState = "OFF"), this._map.on("zoom", this._onZoom)), this._geolocateButton.addEventListener("click", this.trigger.bind(this)), this._setup = !0, this.options.trackUserLocation && this._map.on("movestart", (s) => {
            s.geolocateSource || this._watchState !== "ACTIVE_LOCK" || s.originalEvent && s.originalEvent.type === "resize" || (this._watchState = "BACKGROUND", this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active"), this.fire(new o.Event("trackuserlocationend")));
          });
        }
        trigger() {
          if (!this._setup)
            return o.warnOnce("Geolocate control triggered before added to a map"), !1;
          if (this.options.trackUserLocation) {
            switch (this._watchState) {
              case "OFF":
                this._watchState = "WAITING_ACTIVE", this.fire(new o.Event("trackuserlocationstart"));
                break;
              case "WAITING_ACTIVE":
              case "ACTIVE_LOCK":
              case "ACTIVE_ERROR":
              case "BACKGROUND_ERROR":
                Bi--, rs = !1, this._watchState = "OFF", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error", "mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error", "mapboxgl-ctrl-geolocate-background-error"), this.fire(new o.Event("trackuserlocationend"));
                break;
              case "BACKGROUND":
                this._watchState = "ACTIVE_LOCK", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background", "mapboxgl-ctrl-geolocate-background"), this._lastKnownPosition && this._updateCamera(this._lastKnownPosition), this.fire(new o.Event("trackuserlocationstart"));
                break;
              default:
                throw new Error(`Unexpected watchState ${this._watchState}`);
            }
            switch (this._watchState) {
              case "WAITING_ACTIVE":
                this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active");
                break;
              case "ACTIVE_LOCK":
                this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active", "mapboxgl-ctrl-geolocate-active");
                break;
              case "OFF":
                break;
              default:
                throw new Error(`Unexpected watchState ${this._watchState}`);
            }
            if (this._watchState === "OFF" && this._geolocationWatchID !== void 0)
              this._clearWatch();
            else if (this._geolocationWatchID === void 0) {
              let p;
              this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.setAttribute("aria-pressed", "true"), Bi++, Bi > 1 ? (p = { maximumAge: 6e5, timeout: 0 }, rs = !0) : (p = this.options.positionOptions, rs = !1), this._geolocationWatchID = window.navigator.geolocation.watchPosition(this._onSuccess, this._onError, p);
            }
          } else
            window.navigator.geolocation.getCurrentPosition(this._onSuccess, this._onError, this.options.positionOptions), this._timeoutId = setTimeout(this._finish, 1e4);
          return !0;
        }
        _clearWatch() {
          window.navigator.geolocation.clearWatch(this._geolocationWatchID), this._geolocationWatchID = void 0, this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting", "mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.setAttribute("aria-pressed", "false"), this.options.showUserLocation && this._updateMarker(null);
        }
      }, AttributionControl: bl, LogoControl: gu, ScaleControl: class {
        constructor(p) {
          this.options = o.extend({}, br, p), o.bindAll(["_onMove", "setUnit"], this);
        }
        getDefaultPosition() {
          return "bottom-left";
        }
        _onMove() {
          K_(this._map, this._container, this.options);
        }
        onAdd(p) {
          return this._map = p, this._container = L.create("div", "maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale", p.getContainer()), this._map.on("move", this._onMove), this._onMove(), this._container;
        }
        onRemove() {
          L.remove(this._container), this._map.off("move", this._onMove), this._map = void 0;
        }
        setUnit(p) {
          this.options.unit = p, K_(this._map, this._container, this.options);
        }
      }, FullscreenControl: class {
        constructor(p) {
          this._fullscreen = !1, p && p.container && (p.container instanceof HTMLElement ? this._container = p.container : o.warnOnce("Full screen control 'container' must be a DOM element.")), o.bindAll(["_onClickFullscreen", "_changeIcon"], this), "onfullscreenchange" in document ? this._fullscreenchange = "fullscreenchange" : "onmozfullscreenchange" in document ? this._fullscreenchange = "mozfullscreenchange" : "onwebkitfullscreenchange" in document ? this._fullscreenchange = "webkitfullscreenchange" : "onmsfullscreenchange" in document && (this._fullscreenchange = "MSFullscreenChange");
        }
        onAdd(p) {
          return this._map = p, this._container || (this._container = this._map.getContainer()), this._controlContainer = L.create("div", "maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"), this._checkFullscreenSupport() ? this._setupUI() : (this._controlContainer.style.display = "none", o.warnOnce("This device does not support fullscreen mode.")), this._controlContainer;
        }
        onRemove() {
          L.remove(this._controlContainer), this._map = null, window.document.removeEventListener(this._fullscreenchange, this._changeIcon);
        }
        _checkFullscreenSupport() {
          return !!(document.fullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled || document.webkitFullscreenEnabled);
        }
        _setupUI() {
          const p = this._fullscreenButton = L.create("button", "maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen", this._controlContainer);
          L.create("span", "maplibregl-ctrl-icon mapboxgl-ctrl-icon", p).setAttribute("aria-hidden", "true"), p.type = "button", this._updateTitle(), this._fullscreenButton.addEventListener("click", this._onClickFullscreen), window.document.addEventListener(this._fullscreenchange, this._changeIcon);
        }
        _updateTitle() {
          const p = this._getTitle();
          this._fullscreenButton.setAttribute("aria-label", p), this._fullscreenButton.title = p;
        }
        _getTitle() {
          return this._map._getUIString(this._isFullscreen() ? "FullscreenControl.Exit" : "FullscreenControl.Enter");
        }
        _isFullscreen() {
          return this._fullscreen;
        }
        _changeIcon() {
          (window.document.fullscreenElement || window.document.mozFullScreenElement || window.document.webkitFullscreenElement || window.document.msFullscreenElement) === this._container !== this._fullscreen && (this._fullscreen = !this._fullscreen, this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"), this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"), this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"), this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"), this._updateTitle());
        }
        _onClickFullscreen() {
          this._isFullscreen() ? window.document.exitFullscreen ? window.document.exitFullscreen() : window.document.mozCancelFullScreen ? window.document.mozCancelFullScreen() : window.document.msExitFullscreen ? window.document.msExitFullscreen() : window.document.webkitCancelFullScreen && window.document.webkitCancelFullScreen() : this._container.requestFullscreen ? this._container.requestFullscreen() : this._container.mozRequestFullScreen ? this._container.mozRequestFullScreen() : this._container.msRequestFullscreen ? this._container.msRequestFullscreen() : this._container.webkitRequestFullscreen && this._container.webkitRequestFullscreen();
        }
      }, TerrainControl: class {
        constructor(p) {
          this.options = p, o.bindAll(["_toggleTerrain", "_updateTerrainIcon"], this);
        }
        onAdd(p) {
          return this._map = p, this._container = L.create("div", "maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"), this._terrainButton = L.create("button", "maplibregl-ctrl-terrain mapboxgl-ctrl-terrain", this._container), L.create("span", "maplibregl-ctrl-icon mapboxgl-ctrl-icon", this._terrainButton).setAttribute("aria-hidden", "true"), this._terrainButton.type = "button", this._terrainButton.addEventListener("click", this._toggleTerrain), this._updateTerrainIcon(), this._map.on("terrain", this._updateTerrainIcon), this._container;
        }
        onRemove() {
          L.remove(this._container), this._map.off("terrain", this._updateTerrainIcon), this._map = void 0;
        }
        _toggleTerrain() {
          this._map.getTerrain() ? this._map.setTerrain(null) : this._map.setTerrain(this.options), this._updateTerrainIcon();
        }
        _updateTerrainIcon() {
          this._terrainButton.classList.remove("maplibregl-ctrl-terrain", "mapboxgl-ctrl-terrain"), this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled", "mapboxgl-ctrl-terrain-enabled"), this._map.style.terrain ? (this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled", "mapboxgl-ctrl-terrain-enabled"), this._terrainButton.title = this._map._getUIString("TerrainControl.disableTerrain")) : (this._terrainButton.classList.add("maplibregl-ctrl-terrain", "mapboxgl-ctrl-terrain"), this._terrainButton.title = this._map._getUIString("TerrainControl.enableTerrain"));
        }
      }, Popup: class extends o.Evented {
        constructor(p) {
          super(), this.options = o.extend(Object.create(Ja), p), o.bindAll(["_update", "_onClose", "remove", "_onMouseMove", "_onMouseUp", "_onDrag"], this);
        }
        addTo(p) {
          return this._map && this.remove(), this._map = p, this.options.closeOnClick && this._map.on("click", this._onClose), this.options.closeOnMove && this._map.on("move", this._onClose), this._map.on("remove", this.remove), this._update(), this._focusFirstElement(), this._trackPointer ? (this._map.on("mousemove", this._onMouseMove), this._map.on("mouseup", this._onMouseUp), this._container && this._container.classList.add("maplibregl-popup-track-pointer", "mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.add("maplibregl-track-pointer", "mapboxgl-track-pointer")) : this._map.on("move", this._update), this.fire(new o.Event("open")), this;
        }
        isOpen() {
          return !!this._map;
        }
        remove() {
          return this._content && L.remove(this._content), this._container && (L.remove(this._container), delete this._container), this._map && (this._map.off("move", this._update), this._map.off("move", this._onClose), this._map.off("click", this._onClose), this._map.off("remove", this.remove), this._map.off("mousemove", this._onMouseMove), this._map.off("mouseup", this._onMouseUp), this._map.off("drag", this._onDrag), delete this._map), this.fire(new o.Event("close")), this;
        }
        getLngLat() {
          return this._lngLat;
        }
        setLngLat(p) {
          return this._lngLat = o.LngLat.convert(p), this._pos = null, this._trackPointer = !1, this._update(), this._map && (this._map.on("move", this._update), this._map.off("mousemove", this._onMouseMove), this._container && this._container.classList.remove("maplibregl-popup-track-pointer", "mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.remove("maplibregl-track-pointer", "mapboxgl-track-pointer")), this;
        }
        trackPointer() {
          return this._trackPointer = !0, this._pos = null, this._update(), this._map && (this._map.off("move", this._update), this._map.on("mousemove", this._onMouseMove), this._map.on("drag", this._onDrag), this._container && this._container.classList.add("maplibregl-popup-track-pointer", "mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.add("maplibregl-track-pointer", "mapboxgl-track-pointer")), this;
        }
        getElement() {
          return this._container;
        }
        setText(p) {
          return this.setDOMContent(document.createTextNode(p));
        }
        setHTML(p) {
          const s = document.createDocumentFragment(), c = document.createElement("body");
          let h;
          for (c.innerHTML = p; h = c.firstChild, h; )
            s.appendChild(h);
          return this.setDOMContent(s);
        }
        getMaxWidth() {
          return this._container && this._container.style.maxWidth;
        }
        setMaxWidth(p) {
          return this.options.maxWidth = p, this._update(), this;
        }
        setDOMContent(p) {
          if (this._content)
            for (; this._content.hasChildNodes(); )
              this._content.firstChild && this._content.removeChild(this._content.firstChild);
          else
            this._content = L.create("div", "maplibregl-popup-content mapboxgl-popup-content", this._container);
          return this._content.appendChild(p), this._createCloseButton(), this._update(), this._focusFirstElement(), this;
        }
        addClassName(p) {
          this._container && this._container.classList.add(p);
        }
        removeClassName(p) {
          this._container && this._container.classList.remove(p);
        }
        setOffset(p) {
          return this.options.offset = p, this._update(), this;
        }
        toggleClassName(p) {
          if (this._container)
            return this._container.classList.toggle(p);
        }
        _createCloseButton() {
          this.options.closeButton && (this._closeButton = L.create("button", "maplibregl-popup-close-button mapboxgl-popup-close-button", this._content), this._closeButton.type = "button", this._closeButton.setAttribute("aria-label", "Close popup"), this._closeButton.innerHTML = "&#215;", this._closeButton.addEventListener("click", this._onClose));
        }
        _onMouseUp(p) {
          this._update(p.point);
        }
        _onMouseMove(p) {
          this._update(p.point);
        }
        _onDrag(p) {
          this._update(p.point);
        }
        _update(p) {
          if (!this._map || !this._lngLat && !this._trackPointer || !this._content || (this._container || (this._container = L.create("div", "maplibregl-popup mapboxgl-popup", this._map.getContainer()), this._tip = L.create("div", "maplibregl-popup-tip mapboxgl-popup-tip", this._container), this._container.appendChild(this._content), this.options.className && this.options.className.split(" ").forEach((x) => this._container.classList.add(x)), this._trackPointer && this._container.classList.add("maplibregl-popup-track-pointer", "mapboxgl-popup-track-pointer")), this.options.maxWidth && this._container.style.maxWidth !== this.options.maxWidth && (this._container.style.maxWidth = this.options.maxWidth), this._map.transform.renderWorldCopies && !this._trackPointer && (this._lngLat = xl(this._lngLat, this._pos, this._map.transform)), this._trackPointer && !p))
            return;
          const s = this._pos = this._trackPointer && p ? p : this._map.project(this._lngLat);
          let c = this.options.anchor;
          const h = Vd(this.options.offset);
          if (!c) {
            const x = this._container.offsetWidth, M = this._container.offsetHeight;
            let A;
            A = s.y + h.bottom.y < M ? ["top"] : s.y > this._map.transform.height - M ? ["bottom"] : [], s.x < x / 2 ? A.push("left") : s.x > this._map.transform.width - x / 2 && A.push("right"), c = A.length === 0 ? "bottom" : A.join("-");
          }
          const g = s.add(h[c]).round();
          L.setTransform(this._container, `${pt[c]} translate(${g.x}px,${g.y}px)`), Tt(this._container, c, "popup");
        }
        _focusFirstElement() {
          if (!this.options.focusAfterOpen || !this._container)
            return;
          const p = this._container.querySelector(si);
          p && p.focus();
        }
        _onClose() {
          this.remove();
        }
      }, Marker: po, Style: ji, LngLat: o.LngLat, LngLatBounds: o.LngLatBounds, Point: o.pointGeometry, MercatorCoordinate: o.MercatorCoordinate, Evented: o.Evented, AJAXError: o.AJAXError, config: o.config, CanvasSource: ia, GeoJSONSource: nt, ImageSource: Mt, RasterDEMTileSource: Me, RasterTileSource: ye, VectorTileSource: St, VideoSource: aa, prewarm: function() {
        Mn().acquire(ka);
      }, clearPrewarmedResources: function() {
        const p = Ji;
        p && (p.isPreloaded() && p.numActive() === 1 ? (p.release(ka), Ji = null) : console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"));
      }, get version() {
        return "2.4.0";
      }, get workerCount() {
        return Ia.workerCount;
      }, set workerCount(p) {
        Ia.workerCount = p;
      }, get maxParallelImageRequests() {
        return o.config.MAX_PARALLEL_IMAGE_REQUESTS;
      }, set maxParallelImageRequests(p) {
        o.config.MAX_PARALLEL_IMAGE_REQUESTS = p;
      }, clearStorage(p) {
        o.clearTileCache(p);
      }, workerUrl: "", addProtocol(p, s) {
        o.config.REGISTERED_PROTOCOLS[p] = s;
      }, removeProtocol(p) {
        delete o.config.REGISTERED_PROTOCOLS[p];
      } };
      return jn.extend(Is, { isSafari: o.isSafari, getPerformanceMetrics: o.PerformanceUtils.getPerformanceMetrics }), Is;
    });
    var _ = n;
    return _;
  });
})(Ax);
var nP = Ax.exports;
const rP = /* @__PURE__ */ gy(nP);
class sP extends d_ {
  /**
   * @param {Options} options
   */
  constructor(t) {
    const e = Object.assign({}, t);
    delete e.maplibreOptions, super(e);
    const i = document.createElement("div");
    i.style.position = "absolute", i.style.width = "100%", i.style.height = "100%", this.maplibreMap = new rP.Map(
      Object.assign({}, t.maplibreOptions, {
        container: i,
        attributionControl: !1,
        interactive: !1,
        trackResize: !1
      })
    ), this.applyOpacity_();
  }
  /**
   * @param {number} opacity
   */
  setOpacity(t) {
    super.setOpacity(t), this.applyOpacity_();
  }
  applyOpacity_() {
    const t = this.maplibreMap.getCanvas(), e = this.getOpacity().toString();
    e !== t.style.opacity && (t.style.opacity = e);
  }
  /**
   * @param {import('ol/Map').FrameState} frameState
   * @return {HTMLCanvasElement} canvas
   */
  render(t) {
    const e = t.viewState;
    this.maplibreMap.jumpTo({
      center: aT(e.center),
      zoom: e.zoom - 1,
      bearing: v3(-e.rotation),
      animate: !1
    });
    const i = this.maplibreMap.getCanvas();
    return i.isConnected ? oP(i, t) || this.maplibreMap.resize() : this.getMapInternal().render(), this.maplibreMap.redraw(), this.maplibreMap.getContainer();
  }
}
function oP(a, t) {
  return a.width === Math.floor(t.size[0] * t.pixelRatio) || a.height === Math.floor(t.size[1] * t.pixelRatio);
}
const qm = /* @__PURE__ */ new Map(), lP = [
  156543.033928,
  78271.516964,
  39135.758482,
  19567.879241,
  9783.9396205,
  4891.96981025,
  2445.98490513,
  1222.99245256,
  611.496226281,
  305.748113141,
  152.87405657,
  76.4370282852,
  38.2185141426,
  19.1092570713,
  9.55462853565,
  4.77731426782,
  2.38865713391,
  1.19432856696,
  0.597164283478,
  0.298582141739,
  0.1492910708695,
  0.07464553543475
], uP = [
  "00",
  "01",
  "02",
  "03",
  "04",
  "05",
  "06",
  "07",
  "08",
  "09",
  "10",
  "11",
  "12",
  "13",
  "14",
  "15",
  "16",
  "17",
  "18",
  "19",
  "20",
  "21"
], dP = "https://map.geoportail.lu/ogcproxywms", Px = "https://map.geoportail.lu/httpsproxy";
function Ox() {
  return iT(
    [5.31, 49.38, 6.64, 50.21],
    dx,
    Dc
  );
}
function cP(a) {
  const { name: t, layers: e, imageType: i, url: n, id: u } = a;
  return new KA({
    properties: {
      "olcs.extent": Ox(),
      label: t,
      id: u
    },
    source: new YI({
      url: n || dP,
      hidpi: vb(),
      serverType: "mapserver",
      params: {
        FORMAT: i,
        LAYERS: e
      },
      ...n != null || Px ? { crossOrigin: "anonymous" } : {}
    })
  });
}
function _P(a) {
  const { name: t, imageType: e, id: i } = a, n = Rx(a), u = Di(Dc), _ = u.getExtent();
  return new fI({
    source: new iP({
      url: mP(a),
      tilePixelRatio: n ? 2 : 1,
      layer: t,
      matrixSet: `GLOBAL_WEBMERCATOR_4_V3${n ? "_HD" : ""}`,
      format: e,
      requestEncoding: "REST",
      projection: u,
      tileGrid: new eP({
        origin: Xo(_),
        extent: _,
        resolutions: lP,
        matrixIds: uP
      }),
      style: "default",
      crossOrigin: "anonymous"
    }),
    properties: {
      // check that olcs.extent is still available for legacy app
      "olcs.extent": Ox(),
      label: t,
      id: i
    }
  });
}
function mP(a, t = "https") {
  const e = a.imageType.split("/")[1], i = da.getValue(r_, yb) ? "app.geoportail.lu" : "geoportail.lu";
  return `${t === "https" ? "//wmts{3-4}." : "//wmts{1-2}."}${i}/mapproxy_4_v3/wmts/{Layer}${Rx(a) ? "_hd" : ""}/{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}.${e}`;
}
function Rx(a) {
  var t;
  return !!((t = a == null ? void 0 : a.metadata) != null && t.hasRetina) && vb();
}
function hP() {
  function a(T) {
    var R;
    let L;
    switch (T.type) {
      case "WMS": {
        L = cP(T);
        break;
      }
      case "WMTS":
      case "BG WMTS": {
        L = _P(T);
        break;
      }
      default:
        throw new Error(`Unrecognized layer type: ${T.type}`);
    }
    if (L.set("metadata", T.metadata), L.set("queryable_id", T.id), L.setOpacity(T.opacity), (R = T.metadata) != null && R.hasOwnProperty("attribution")) {
      const D = L.getSource();
      D == null || D.setAttributions(T.metadata.attribution);
    }
    return L;
  }
  function t(T, L) {
    const R = y(L);
    T.addLayer(R);
  }
  function e(T, L) {
    const R = T.getLayers().getArray().find((D) => D.get("id") === L);
    R && T.removeLayer(R);
  }
  function i(T, L) {
    const R = T.getLayers().getArray();
    L.forEach((D, j) => {
      const Q = R.find(
        (ie) => ie.get("id") === D.id
      );
      Q == null || Q.setZIndex(j + 1);
    });
  }
  function n(T, L, R) {
    const D = T.getLayers().getArray().find((j) => j.get("id") === L);
    D && D.setOpacity(R);
  }
  function u(T) {
    qm.delete(T);
  }
  function _(T) {
    return qm.has(T.id);
  }
  function o(T, L) {
    qm.set(T, L);
  }
  function y(T) {
    const L = T.id, R = qm.get(L);
    if (R)
      return R;
    {
      const D = a(T);
      return o(L, D), D;
    }
  }
  function b(T, L) {
    const D = T.getLayers().getArray().find((j) => j.getZIndex() === -1);
    D && L(D);
  }
  function S(T, L, R) {
    const D = T.getLayers(), j = D.getArray().findIndex((ie) => ie.getZIndex() === -1);
    let Q;
    if (L)
      if (_(L))
        Q = y(L);
      else {
        const ie = R && R.get(L.id), J = ql();
        if (ie) {
          const _e = Object.assign(
            {
              container: J.getOlMap().getTarget()
            },
            ie
          );
          o(
            L.id,
            Q = new sP({
              maplibreOptions: _e,
              label: L.name,
              id: L.id,
              queryable_id: L.id,
              metadata: L.metadata
            })
          );
        } else
          o(L.id, Q = a(L));
      }
    j >= 0 ? Q ? (Q.setZIndex(-1), D.setAt(j, Q)) : D.removeAt(j) : Q && (Q.setZIndex(-1), T.addLayer(Q)), Tb.restoreStyle();
  }
  return {
    createLayer: a,
    addLayer: t,
    removeLayer: e,
    removeFromCache: u,
    reorderLayers: i,
    setLayerOpacity: n,
    getLayerFromCache: y,
    setBgLayer: S,
    applyOnBgLayer: b
  };
}
class pP {
  constructor(t) {
    Pi(this, "previousLayers");
    Pi(this, "previousVectorSources");
    const e = er(), i = Pc(), n = ql(), u = ty(), _ = hP();
    Ki(
      () => e.layers,
      (o) => {
        console.log("watch layers");
        const y = {
          layers: this.previousLayers
        }, b = {
          layers: o
        }, S = n.getRemovedLayers(
          b,
          y
        ), T = n.getAddedLayers(
          b,
          y
        ), L = n.getMutatedLayers(
          b,
          y
        );
        S.forEach((R) => _.removeLayer(t, R.id)), T.forEach(
          (R) => _.addLayer(t, R.layer)
        ), L.forEach((R) => {
          _.setLayerOpacity(t, R.id, R.opacity);
        }), b.layers && _.reorderLayers(t, b.layers), this.previousLayers = o;
      }
    ), Ki(
      () => e.bgLayer,
      (o) => o !== void 0 && _.setBgLayer(t, o, i.bgVectorSources)
    ), Ki(
      () => i.bgStyle,
      (o) => _.applyOnBgLayer(
        t,
        (y) => u.applyStyle(y, o || [])
      )
    ), Ki(
      () => i.bgVectorSources,
      (o) => {
        var y;
        for (const b of o.keys())
          (!this.previousVectorSources || this.previousVectorSources.get(b) !== o.get(b)) && (_.removeFromCache(b), b === ((y = e == null ? void 0 : e.bgLayer) == null ? void 0 : y.id) && _.setBgLayer(t, e == null ? void 0 : e.bgLayer, o));
        this.previousVectorSources = o;
      }
    );
  }
}
const fP = {
  0: 8,
  1: 9,
  2: 9,
  3: 10,
  4: 11,
  5: 12,
  6: 13,
  7: 14,
  8: 16,
  9: 17,
  10: 18,
  11: 19,
  12: 20,
  13: 21
};
class gP {
  bootstrap() {
    this.restore(), this.persist();
  }
  persistZoom() {
    const t = ql().getOlMap().getView(), e = () => {
      const i = t.getZoom();
      da.setValue(ev, i ? Math.ceil(i) : null);
    };
    e(), fa(
      t,
      "change:resolution",
      K1(e, 300)
    );
  }
  persistXY() {
    const t = ql().getOlMap().getView(), e = () => {
      const i = t.getCenter();
      da.setValue(tv, i ? Math.round(i[0]) : null), da.setValue(av, i ? Math.round(i[1]) : null);
    };
    e(), fa(
      t,
      ud.PROPERTYCHANGE,
      K1(e, 300)
    );
  }
  persist() {
    this.persistXY(), this.persistZoom();
  }
  /**
   * Restore viewport: zoom, x, y.
   * Legacy in MapController
   * if zoom exists in storage and version 3, set zoom, else get exports.V2_ZOOM_TO_V3_ZOOM_[zoom]
   * if zoom doesn't exist set zoom to 8
   */
  restore() {
    const t = ql().getOlMap().getView(), e = da.getValue(ev, Oc), i = da.getInitialVersion(), n = da.getValue(tv, Oc), u = da.getValue(av, Oc), _ = da.getValue(j6), o = rd(
      FA,
      Dc
    );
    let y, b;
    e !== void 0 ? b = i === 3 ? Number(e) : fP[e] : b = 8, n != null && u != null ? i === 3 && _ != null ? y = Bc([n, u], _, Dc) : y = i === 3 ? [n, u] : o([u, n], void 0, 2) : y = Bc(
      [6, 49.7],
      dx,
      Dc
    ), t.setCenter(y), t.setZoom(b);
  }
}
const yP = new gP(), vP = /* @__PURE__ */ Ka({
  __name: "map-container",
  setup(a) {
    const t = ql(), e = cn(null);
    return Uh(async () => {
      e.value && (t.createMap(e.value), new pP(t.getOlMap()), yP.bootstrap(), window.olMap = t.getOlMap());
    }), (i, n) => (ut(), bt("div", {
      ref_key: "mapContainer",
      ref: e,
      class: "h-full w-full bg-white"
    }, null, 512));
  }
});
function kx() {
  const a = Fo(), t = er(), e = Uc(), i = ki(() => {
    var S;
    const b = (S = Qn().theme) == null ? void 0 : S.name;
    return b && Hl().bg_layer_theme_defaults[b] || _();
  });
  function n(b) {
    const S = a.findBgLayerById(b);
    u(S || null);
  }
  function u(b) {
    if (b) {
      if (b.type === "WMTS" || b.type === "BG WMTS")
        b.type = "BG WMTS";
      else if (b.type === "BG MVT")
        console.log(`passed through MVT layer ${b.name}`);
      else
        throw new Error(
          `Only WMTS and MVT BG layers are currently implemented (not ${b.type} for ${b.name})`
        );
      e.handleExclusionLayers(b), t.setBgLayer(e.initLayer(b));
    } else
      t.setBgLayer(null);
  }
  function _() {
    var b;
    return ((b = y().find((S) => S.is_default)) == null ? void 0 : b.id) || xh.id;
  }
  function o() {
    return xh.id;
  }
  function y() {
    return Hl().bg_layers;
  }
  return {
    setBgLayer: n,
    setMapBackground: u,
    getBgLayersFromConfig: y,
    getNullId: o,
    getDefaultSelectedId: _,
    defaultSelectedBgId: i
  };
}
var Dx = /* @__PURE__ */ ((a) => (a.PNG = "image/png", a.JPG = "image/jpeg", a))(Dx || {}), Ir = /* @__PURE__ */ ((a) => (a.WMS = "WMS", a.WMTS = "WMTS", a))(Ir || {});
class $f {
  /**
   * @param {string} message
   * @param {number} httpStatus
   * @param {boolean} isCrossOriginRelated
   */
  constructor(t, e = 0, i = !1) {
    this.message = t, this.httpStatus = e, this.isCrossOriginRelated = i;
  }
}
let bP = 0;
function xP() {
  return bP++;
}
function wP(a, t, e) {
  return new Promise((i, n) => {
    const u = xP(), _ = (
      /** @type {WorkerRequest} */
      {
        requestId: u,
        taskName: a,
        params: e
      }
    );
    t === null ? window.dispatchEvent(
      new CustomEvent("ogc-client.request", {
        detail: _
      })
    ) : t.postMessage(_);
    const o = ({ detail: y, data: b }) => {
      const S = y || b;
      S.requestId === u && (t === null ? window.removeEventListener("message", o) : t.removeEventListener("message", o), "error" in S ? n(S.error) : i(S.response));
    };
    t === null ? window.addEventListener("ogc-client.response", o) : t.addEventListener("message", o);
  });
}
function yy(a, t, e) {
  const i = typeof WorkerGlobalScope < "u", n = async ({ detail: u, data: _ }) => {
    const o = u || _;
    if (o.taskName === a) {
      let y, b;
      try {
        y = await e(o.params);
      } catch (T) {
        b = T;
      }
      const S = (
        /** @type {WorkerResponse} */
        {
          taskName: a,
          requestId: o.requestId,
          ...y && { response: y },
          ...b && { error: b }
        }
      );
      i ? t.postMessage(S) : t.dispatchEvent(
        new CustomEvent("ogc-client.response", {
          detail: S
        })
      );
    }
  };
  i ? t.addEventListener("message", n) : t.addEventListener("ogc-client.request", n);
}
let Zf;
function SP() {
  return Zf || (Zf = new Worker(URL.createObjectURL(new Blob([`function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(t,e,r){var n=h;return function(o,i){if(n===v)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=v;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?d:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",d="completed",y={};function m(){}function g(){}function b(){}var S={};S[a]=function(){return this};var E=Object.getPrototypeOf,w=E&&E(E(C([])));w&&w!==r&&o.call(w,a)&&(S=w);var O=b.prototype=m.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(i,a,c,u){var s=l(t[i],t,a);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"===n(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(h).then((function(t){f.value=t,c(f)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}}function k(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function C(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:G}}function G(){return{value:e,done:!0}}return g.prototype=O.constructor=b,b.constructor=g,g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},x(P.prototype),P.prototype[c]=function(){return this},t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(O),s(O,u,"Generator"),O[a]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(o);var i=o.exports;function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(t,e,n){var o="undefined"!=typeof WorkerGlobalScope,a=function(){var a=r(i.mark((function r(a){var u,s,f,l,h,p;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=a.detail,s=a.data,(f=u||s).taskName!==t){r.next=14;break}return r.prev=3,r.next=6,n(f.params);case 6:l=r.sent,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),h=r.t0;case 12:p=c(c({taskName:t,requestId:f.requestId},l&&{response:l}),h&&{error:h}),o?e.postMessage(p):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:p}));case 14:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(t){return a.apply(this,arguments)}}();o?e.addEventListener("message",a):e.addEventListener("ogc-client.request",a)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function v(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t,e,r){return m=y()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&h(o,r.prototype),o},m.apply(null,arguments)}function g(t){var e="function"==typeof Map?new Map:void 0;return g=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return m(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)},g(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),t}var E=function(){function t(e){l(this,t),this.chars=f(e),this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;var r=this.chars,n=this.charCount,o=this.charsToBytes;if(n===e.length)for(var i=0;i<n;++i)o[i]=i;else{for(var a=0,c=0;c<n;++c)o[c]=a,a+=r[c].length;this.multiByteMode=!0}}return S(t,[{key:"isEnd",get:function(){return this.charIndex>=this.charCount}},{key:"_charLength",value:function(t){var e=t.length;return e<2||!this.multiByteMode?e:t.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,"_").length}},{key:"advance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.charIndex=Math.min(this.charCount,this.charIndex+t)}},{key:"consume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.peek(t);return this.advance(t),e}},{key:"consumeMatch",value:function(t){if(!t.sticky)throw new Error('\`regex\` must have a sticky flag ("y")');t.lastIndex=this.charsToBytes[this.charIndex];var e=t.exec(this.string);if(null===e)return"";var r=e[0];return this.advance(this._charLength(r)),r}},{key:"consumeMatchFn",value:function(t){for(var e=this.charIndex;!this.isEnd&&t(this.peek());)this.advance();return this.charIndex>e?this.string.slice(this.charsToBytes[e],this.charsToBytes[this.charIndex]):""}},{key:"consumeString",value:function(t){if(this.consumeStringFast(t))return t;if(!this.multiByteMode)return"";var e=t.length,r=this._charLength(t);return r!==e&&t===this.peek(r)?(this.advance(r),t):""}},{key:"consumeStringFast",value:function(t){if(this.peek()===t[0]){var e=t.length;if(1===e)return this.advance(),t;if(this.peek(e)===t)return this.advance(e),t}return""}},{key:"consumeUntilMatch",value:function(t){if(!t.global)throw new Error('\`regex\` must have a global flag ("g")');var e=this.charsToBytes[this.charIndex];t.lastIndex=e;var r=t.exec(this.string);if(null===r||r.index===e)return"";var n=this.string.slice(e,r.index);return this.advance(this._charLength(n)),n}},{key:"consumeUntilString",value:function(t){var e=this.charIndex,r=this.charsToBytes,n=this.string,o=r[e],i=n.indexOf(t,o);if(i<=0)return"";var a=n.slice(o,i);return this.advance(this._charLength(a)),a}},{key:"peek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.charIndex>=this.charCount)return"";if(1===t)return this.chars[this.charIndex];var e=this.charsToBytes,r=this.charIndex;return this.string.slice(e[r],e[r+t])}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.charIndex=t>=0?Math.min(this.charCount,t):Math.max(0,this.charIndex+t)}}]),t}(),w=E,O={},x=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function P(t){if(k(t))return!0;var e=T(t);return 45===e||46===e||e>=48&&e<=57||183===e||e>=768&&e<=879||e>=8255&&e<=8256}function k(t){var e=T(t);return 58===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function R(t){var e=T(t);return 9===e||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}function T(t){return t.codePointAt(0)||-1}O.predefinedEntities=x,O.isNameChar=P,O.isNameStartChar=k,O.isNotXmlChar=function(t){return!R(t)},O.isReferenceChar=function(t){return"#"===t||P(t)},O.isWhitespace=function(t){var e=T(t);return 32===e||9===e||10===e||13===e},O.isXmlChar=R;var j=function(){function t(){l(this,t),this.parent=null}return S(t,[{key:"document",get:function(){return this.parent?this.parent.document:null}},{key:"isRootNode",get:function(){return!!this.parent&&this.parent===this.document}},{key:"preserveWhitespace",get:function(){return Boolean(this.parent&&this.parent.preserveWhitespace)}},{key:"type",get:function(){return""}},{key:"toJSON",value:function(){var t={type:this.type};return this.isRootNode&&(t.isRootNode=!0),this.preserveWhitespace&&(t.preserveWhitespace=!0),t}}]),t}();j.TYPE_CDATA="cdata",j.TYPE_COMMENT="comment",j.TYPE_DOCUMENT="document",j.TYPE_ELEMENT="element",j.TYPE_PROCESSING_INSTRUCTION="pi",j.TYPE_TEXT="text";var C=j;function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var N=C,A=function(t){p(r,N);var e=G(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).text=n,t}return S(r,[{key:"type",get:function(){return N.TYPE_TEXT}},{key:"toJSON",value:function(){return Object.assign(N.prototype.toJSON.call(this),{text:this.text})}}]),r}(),F=A;function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var L=C,M=F,B=function(t){p(r,M);var e=I(r);function r(){return l(this,r),e.apply(this,arguments)}return S(r,[{key:"type",get:function(){return L.TYPE_CDATA}}]),r}(),_=B;function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var D=C,W=function(t){p(r,D);var e=U(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).content=n,t}return S(r,[{key:"type",get:function(){return D.TYPE_COMMENT}},{key:"toJSON",value:function(){return Object.assign(D.prototype.toJSON.call(this),{content:this.content})}}]),r}(),X=W;function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var q=C,J=function(t){p(r,q);var e=Y(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return l(this,r),(n=e.call(this)).name=t,n.attributes=o,n.children=i,n}return S(r,[{key:"isEmpty",get:function(){return 0===this.children.length}},{key:"preserveWhitespace",get:function(){for(var t=this;t instanceof r;){if("xml:space"in t.attributes)return"preserve"===t.attributes["xml:space"];t=t.parent}return!1}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return q.TYPE_ELEMENT}},{key:"toJSON",value:function(){return Object.assign(q.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),V=J;function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var K=V,z=C,H=function(t){p(r,z);var e=$(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(this,r),(t=e.call(this)).children=n,t}return S(r,[{key:"document",get:function(){return this}},{key:"root",get:function(){return this.children.find((function(t){return t instanceof K}))||null}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return z.TYPE_DOCUMENT}},{key:"toJSON",value:function(){return Object.assign(z.prototype.toJSON.call(this),{children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),Q=H;function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var tt=C,et=function(t){p(r,tt);var e=Z(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(this,r),(n=e.call(this)).name=t,n.content=o,n}return S(r,[{key:"type",get:function(){return tt.TYPE_PROCESSING_INSTRUCTION}},{key:"toJSON",value:function(){return Object.assign(tt.prototype.toJSON.call(this),{name:this.name,content:this.content})}}]),r}(),rt=et;function nt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=w,at=O,ct=_,ut=X,st=Q,ft=V,lt=rt,ht=F,pt=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(l(this,t),this.document=new st,this.currentNode=this.document,this.options=r,this.scanner=new it(vt(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}return S(t,[{key:"addNode",value:function(t){t.parent=this.currentNode,this.currentNode.children.push(t)}},{key:"addText",value:function(t){var e=this.currentNode.children;if(e.length>0){var r=e[e.length-1];if(r instanceof ht)return void(r.text+=t)}this.addNode(new ht(t))}},{key:"consumeAttributeValue",value:function(){var t,e=this.scanner,r=e.peek();if('"'!==r&&"'"!==r)return!1;e.advance();var n=!1,o="",i='"'===r?new RegExp('[^"&<]+',"y"):new RegExp("[^'&<]+","y");t:for(;!e.isEnd;){switch((t=e.consumeMatch(i))&&(this.validateChars(t),o+=t.replace(/[\\t\\r\\n]/g," ")),e.peek()){case r:n=!0;break t;case"&":o+=this.consumeReference();continue;case"<":this.error("Unescaped \`<\` is not allowed in an attribute value");break;case"":this.error("Unclosed attribute")}}return n||this.error("Unclosed attribute"),e.advance(),o}},{key:"consumeCdataSection",value:function(){var t=this.scanner;if(!t.consumeStringFast("<![CDATA["))return!1;var e=t.consumeUntilString("]]>");return this.validateChars(e),t.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new ct(e)):this.addText(e),!0}},{key:"consumeCharData",value:function(){var t=this.scanner,e=t.consumeUntilMatch(/<|&|]]>/g);return!!e&&(this.validateChars(e),"]"===t.peek()&&"]]>"===t.peek(3)&&this.error("Element content may not contain the CDATA section close delimiter \`]]>\`"),this.addText(e),!0)}},{key:"consumeComment",value:function(){var t=this.scanner;if(!t.consumeStringFast("\\x3c!--"))return!1;var e=t.consumeUntilString("--");return this.validateChars(e),t.consumeStringFast("--\\x3e")||("--"===t.peek(2)?this.error("The string \`--\` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new ut(e.trim())),!0}},{key:"consumeContentReference",value:function(){var t=this.consumeReference();return!!t&&(this.addText(t),!0)}},{key:"consumeDoctypeDeclaration",value:function(){var t=this.scanner;return!(!t.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace())&&(t.consumeMatch(new RegExp("[^[>]+","y")),t.consumeMatch(new RegExp("\\\\[[\\\\s\\\\S]+?\\\\][\\\\x20\\\\t\\\\r\\\\n]*>","y"))||t.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}},{key:"consumeElement",value:function(){var t=this.scanner,e=t.charIndex;if("<"!==t.peek())return!1;t.advance();var r=this.consumeName();if(!r)return t.reset(e),!1;for(var n=Object.create(null);this.consumeWhitespace();){var o=this.consumeName();if(o){var i=this.consumeEqual()&&this.consumeAttributeValue();!1===i&&this.error("Attribute value expected"),o in n&&this.error("Duplicate attribute: ".concat(o)),"xml:space"===o&&"default"!==i&&"preserve"!==i&&this.error('Value of the \`xml:space\` attribute must be "default" or "preserve"'),n[o]=i}}if(this.options.sortAttributes){for(var a=Object.keys(n).sort(),c=Object.create(null),u=0;u<a.length;++u){var s=a[u];c[s]=n[s]}n=c}var f=Boolean(t.consumeStringFast("/>")),l=new ft(r,n);if(l.parent=this.currentNode,!f){for(t.consumeStringFast(">")||this.error("Unclosed start tag for element \`".concat(r,"\`")),this.currentNode=l,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();var h,p=t.charIndex;t.consumeStringFast("</")&&(h=this.consumeName())&&h===r||(t.reset(p),this.error("Missing end tag for element ".concat(r))),this.consumeWhitespace(),t.consumeStringFast(">")||this.error("Unclosed end tag for element ".concat(r)),this.currentNode=l.parent}return this.addNode(l),!0}},{key:"consumeEqual",value:function(){return this.consumeWhitespace(),!!this.scanner.consumeStringFast("=")&&(this.consumeWhitespace(),!0)}},{key:"consumeMisc",value:function(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}},{key:"consumeName",value:function(){return at.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(at.isNameChar):""}},{key:"consumeProcessingInstruction",value:function(){var t=this.scanner,e=t.charIndex;if(!t.consumeStringFast("<?"))return!1;var r=this.consumeName();if(r?"xml"===r.toLowerCase()&&(t.reset(e),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(t.consumeStringFast("?>"))return this.addNode(new lt(r)),!0;this.error("Whitespace is required after a processing instruction name")}var n=t.consumeUntilString("?>");return this.validateChars(n),t.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new lt(r,n)),!0}},{key:"consumeProlog",value:function(){var t=this.scanner,e=t.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return e<t.charIndex}},{key:"consumeReference",value:function(){var t=this.scanner;if("&"!==t.peek())return!1;t.advance();var e,r=t.consumeMatchFn(at.isReferenceChar);if(";"!==t.consume()&&this.error("Unterminated reference (a reference must end with \`;\`)"),"#"===r[0]){var o="x"===r[1]?parseInt(r.slice(2),16):parseInt(r.slice(1),10);isNaN(o)&&this.error("Invalid character reference"),e=String.fromCodePoint(o),at.isXmlChar(e)||this.error("Character reference resolves to an invalid character")}else if(void 0===(e=at.predefinedEntities[r])){var i=this.options,a=i.ignoreUndefinedEntities,c=i.resolveUndefinedEntity,u="&".concat(r,";");if(c){var s=c(u);if(null!=s){var f=n(s);if("string"!==f)throw new TypeError("\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ".concat(f));return s}}if(a)return u;t.reset(-u.length),this.error("Named entity isn't defined: ".concat(u))}return e}},{key:"consumeSystemLiteral",value:function(){var t=this.scanner,e=t.consumeStringFast('"')||t.consumeStringFast("'");if(!e)return!1;var r=t.consumeUntilString(e);return this.validateChars(r),t.consumeStringFast(e)||this.error("Missing end quote"),r}},{key:"consumeWhitespace",value:function(){return Boolean(this.scanner.consumeMatchFn(at.isWhitespace))}},{key:"consumeXmlDeclaration",value:function(){var t=this.scanner;if(!t.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");var e=Boolean(t.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(!1===e?this.error("XML version is missing or invalid"):/^1\\.[0-9]+$/.test(e)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(t.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();var r=Boolean(t.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();r&&("yes"!==r&&"no"!==r&&this.error('Only "yes" and "no" are permitted as values of \`standalone\`'),this.consumeWhitespace())}return t.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}},{key:"error",value:function(t){for(var e=this.scanner,r=e.charIndex,n=e.string,o=1,i="",a=1,c=0;c<r;++c){var u=n[c];"\\n"===u?(o=1,i="",a+=1):(o+=1,i+=u)}var s=n.indexOf("\\n",r),f=0;(i+=-1===s?n.slice(r):n.slice(r,s)).length>50&&(o<40?i=i.slice(0,50):(f=o-20,i=i.slice(f,o+30)));var l=new Error("".concat(t," (line ").concat(a,", column ").concat(o,")\\n")+"  ".concat(i,"\\n")+" ".repeat(o-f+1)+"^\\n");throw Object.assign(l,{column:o,excerpt:i,line:a,pos:r}),l}},{key:"validateChars",value:function(t){var e,r=0,n=nt(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;at.isNotXmlChar(o)&&(this.scanner.reset(-(f(t).length-r)),this.error("Invalid character")),r+=1}}catch(t){n.e(t)}finally{n.f()}}}]),t}();function vt(t){return"\\ufeff"===t[0]&&(t=t.slice(1)),t.replace(/\\r\\n?/g,"\\n")}var dt=pt,yt=_,mt=X,gt=Q,bt=V,St=C,Et=rt,wt=F;function Ot(t,e){return new dt(t,e).document}Ot.XmlCdata=yt,Ot.XmlComment=mt,Ot.XmlDocument=gt,Ot.XmlElement=bt,Ot.XmlNode=St,Ot.XmlProcessingInstruction=Et,Ot.XmlText=wt;var xt=Ot;function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var kt=function(t){p(r,g(Error));var e=Pt(r);function r(t){return l(this,r),e.call(this,t)}return r}();function Rt(t){return t.children[0]}function Tt(t){var e=t.indexOf(":");return e>-1?t.substr(e+1):t}function jt(t){return t.name||""}function Ct(t,e,r){var n=Tt(e);return t&&Array.isArray(t.children)?t.children.reduce((function t(e,o){return Tt(jt(o))===n&&e.push(o),r&&Array.isArray(o.children)?[].concat(f(e),f(o.children.reduce(t,[]))):e}),[]):[]}function Gt(t,e,r){return Ct(t,e,r)[0]||null}function Nt(t){return t&&Array.isArray(t.children)?f(t.children.filter((function(t){return"XmlElement"===t.constructor.name}))):[]}function At(t){var e=t&&Array.isArray(t.children)?t.children.find((function(t){return"text"===t.type})):null;return e?e.text:""}function Ft(t,e){return t&&t.attributes[e]||""}var It=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(this,t),this.message=e,this.httpStatus=r,this.isCrossOriginRelated=n};function Lt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bt=["utf-8","utf-16","iso-8859-1"];function _t(t,e){var r,n=e?function(t){var e=/charset=([^;]+)/.exec(t);return e?e[1]:null}(e):null,o=Lt(n?[n].concat(Bt):Bt);try{for(o.s();!(r=o.n()).done;){var i=r.value;try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch(t){}}}catch(t){o.e(t)}finally{o.f()}return console.warn("XML document encoding could not be determined, falling back to ".concat("utf-8",".")),new TextDecoder("utf-8").decode(t)}function Ut(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wt=new Map;function Xt(t){return function(t){if(Wt.has(t))return Wt.get(t);var e=fetch(t);return e.finally((function(){return Wt.delete(t)})),Wt.set(t,e),e}(t).catch((function(){return fetch(t,{method:"HEAD",mode:"no-cors"}).catch((function(t){throw new It("Fetching the document failed either due to network errors or unreachable host, error is: ".concat(t.message),0,!1)})).then((function(){throw new It("The document could not be fetched due to CORS limitations",0,!0)}))})).then(function(){var t=r(i.mark((function t(e){var r,n,o;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=5;break}return t.next=3,e.text();case 3:throw r=t.sent,new It("Received an error with code ".concat(e.status,": ").concat(r),e.status,!1);case 5:return t.next=7,e.arrayBuffer();case 7:return n=t.sent,o=e.headers.get("Content-Type"),t.abrupt("return",_t(n,o));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return function(t){var e=null;try{e=xt(t)}catch(t){throw new kt(t.message)}return e}(t)}))}function Yt(t,e){var r=t.match(/(https?%3A%2F%2F[^/]+)$/);if(r){var n=r[1],o=Yt(decodeURIComponent(n),e);return t.replace(n,encodeURIComponent(o))}var i,a=new URL(t),c=Object.keys(e),u=c.map((function(t){return t.toLowerCase()})),s=[],f=Ut(a.searchParams.keys());try{for(f.s();!(i=f.n()).done;){var l=i.value;u.indexOf(l.toLowerCase())>-1&&s.push(l)}}catch(t){f.e(t)}finally{f.f()}return s.map((function(t){return a.searchParams.delete(t)})),c.forEach((function(t){return a.searchParams.set(t,!0===e[t]?"":e[t])})),a.toString()}var qt=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function Jt(t){return qt.indexOf(Vt(t))>-1}function Vt(t){if(/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())){var e=/([0-9]+)$/.exec(t)[1];return"EPSG:".concat(e)}return t}function $t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?$t(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(t){return Rt(t).attributes.version}function Ht(t){var e=zt(t);return Ct(Gt(Rt(t),"Capability"),"Layer").map((function(t){return Qt(t,e)}))}function Qt(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a="1.3.0"===r?"CRS":"SRS",c=Ct(e,a).map(At),u=c.length>0?c:n,s=Ct(e,"Style").map(Zt),f=s.length>0?s:o;function l(t){return(Jt(Ft(t,a))&&"1.3.0"===r?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map((function(e){return Ft(t,e)}))}var h=Gt(e,"Attribution"),p=null!==h?te(h):i,v=Ct(e,"Layer").map((function(t){return Qt(t,r,u,f,p)}));return Kt({name:At(Gt(e,"Name")),title:At(Gt(e,"Title")),abstract:At(Gt(e,"Abstract")),availableCrs:u,styles:f,attribution:p,boundingBoxes:Ct(e,"BoundingBox").reduce((function(e,r){return Kt(Kt({},e),{},t({},Ft(r,a),l(r)))}),{})},v.length&&{children:v})}function Zt(t){var e=Ft(Gt(Gt(t,"LegendURL"),"OnlineResource"),"xlink:href");return Kt({name:At(Gt(t,"Name")),title:At(Gt(t,"Title"))},e&&{legendUrl:e})}function te(t){var e=Ft(Gt(Gt(t,"LogoURL"),"OnlineResource"),"xlink:href"),r=Ft(Gt(t,"OnlineResource"),"xlink:href"),n=At(Gt(t,"Title"));return Kt(Kt(Kt({},n&&{title:n}),r&&{url:r}),e&&{logoUrl:e})}function ee(t){return Rt(t).attributes.version}function re(t){var e;if(ee(t).startsWith("1.0")){var r=Gt(Gt(Gt(Rt(t),"Capability"),"Request"),"GetFeature");e=Nt(Gt(r,"ResultFormat")).map(jt)}else{var n=Ct(Gt(Rt(t),"OperationsMetadata"),"Operation").find((function(t){return"GetFeature"===Ft(t,"name")})),o=Ct(n,"Parameter").find((function(t){return"outputFormat"===Ft(t,"name")}));e=Ct(o,"Value",!0).map(At)}return e}function ne(t){var e=ee(t),r=re(t);return Ct(Gt(Rt(t),"FeatureTypeList"),"FeatureType").map((function(t){return function(t,e,r){var n=e.startsWith("2.")?"CRS":"SRS",o=e.startsWith("1.0")?"SRS":"Default".concat(n);function i(){var e=Gt(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map((function(t){return Ft(e,t)})).map(parseFloat)}function a(){var e=Gt(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map((function(t){return Gt(e,t)})).map((function(t){return At(t).split(" ")})).reduce((function(t,e){return[].concat(f(t),f(e))})).map(parseFloat)}var c=e.startsWith("1.0")?[]:Ct(t,"Other".concat(n)).map(At).map(Vt),u=e.startsWith("1.0")?[]:Ct(Gt(t,"OutputFormats"),"Format").map(At);return{name:At(Gt(t,"Name")),title:At(Gt(t,"Title")),abstract:At(Gt(t,"Abstract")),defaultCrs:Vt(At(Gt(t,o))),otherCrs:c,outputFormats:u.length>0?u:r,latLonBoundingBox:e.startsWith("1.0")?i():a()}}(t,e,r)}))}function oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?oe(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,r,n){var o,i=Rt(e);if(n.startsWith("2.0"))o=Ct(i,"member").map((function(t){return Nt(t)[0]}));else{var a=Gt(i,"featureMembers");o=a?Nt(a):Ct(i,"featureMember").map((function(t){return Nt(t)[0]}))}var c="1.0.0"===n?"fid":"gml:id";function u(e){return Nt(e).filter((function(t){return Tt(jt(t))in r.properties})).reduce((function(e,n){var o=Tt(jt(n));return ie(ie({},e),{},t({},o,function(t,e){switch(r.properties[t]){case"integer":return parseInt(e);case"float":return parseFloat(e);case"boolean":return"true"===e;default:return e}}(o,At(n))))}),{})}return o.map((function(t){return{id:Ft(t,c),properties:u(t)}}))}function ce(e,r,n,o,i,a,c,u,s,f){var l="2.0.0"===r?"COUNT":"MAXFEATURES",h=t({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:r},"2.0.0"===r?"TYPENAMES":"TYPENAME",n);if(void 0!==o&&(h.OUTPUTFORMAT=o),void 0!==a&&(h.PROPERTYNAME=a.join(",")),c?(h.RESULTTYPE="hits",h[l]="1"):void 0!==i&&(h[l]=i.toString(10)),u&&(h.SRSNAME=u),s){var p=s.join(",");h.BBOX=f?"".concat(p,",").concat(f):p}return Yt(e,h)}u("parseWmsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,r=Gt(Rt(e),"Service"),n=Ct(Gt(r,"KeywordList"),"Keyword").map(At).filter((function(t,e,r){return r.indexOf(t)===e})),{title:At(Gt(r,"Title")),name:At(Gt(r,"Name")),abstract:At(Gt(r,"Abstract")),fees:At(Gt(r,"Fees")),constraints:At(Gt(r,"AccessConstraints")),keywords:n}),layers:Ht(t),version:zt(t)};var e,r,n}))})),u("parseWfsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,n=ee(e),o=n.startsWith("1.0")?"Service":"ServiceIdentification",i=n.startsWith("1.0")?"Name":"ServiceType",a=Gt(Rt(e),o),r=n.startsWith("1.0")?At(Gt(a,"Keywords")).split(",").map((function(t){return t.trim()})):Ct(Gt(a,"Keywords"),"Keyword").map(At),{title:At(Gt(a,"Title")),name:At(Gt(a,i)),abstract:At(Gt(a,"Abstract")),fees:At(Gt(a,"Fees")),constraints:At(Gt(a,"AccessConstraints")),keywords:r,outputFormats:re(e)}),featureTypes:ne(t),version:ee(t)};var e,r,n,o,i,a}))})),u("queryWfsFeatureTypeDetails",self,(function(t){var e=t.url,r=t.serviceVersion,n=t.featureTypeFull;return Xt(ce(e,r,n.name,void 0,void 0,Object.keys(n.properties))).then((function(t){return{props:(e=ae(t,n,r),e.reduce((function(t,e){var r=function(r){var n=e.properties[r];r in t||(t[r]={uniqueValues:[]});var o=t[r].uniqueValues.find((function(t){return t.value===n}));o?o.count++:t[r].uniqueValues.push({value:n,count:1})};for(var n in e.properties)r(n);return t}),{}))};var e}))}));
`], { type: "application/javascript" })), {
    type: "module"
  })), Zf;
}
function TP(a) {
  return wP("parseWmsCapabilities", SP(), {
    url: a
  });
}
const To = "";
let MP = class {
  /**
  @param {string} string
  */
  constructor(t) {
    this.chars = [...t], this.charCount = this.chars.length, this.charIndex = 0, this.charsToBytes = new Array(this.charCount), this.multiByteMode = !1, this.string = t;
    let { chars: e, charCount: i, charsToBytes: n } = this;
    if (i === t.length)
      for (let u = 0; u < i; ++u)
        n[u] = u;
    else {
      for (let u = 0, _ = 0; _ < i; ++_)
        n[_] = u, u += e[_].length;
      this.multiByteMode = !0;
    }
  }
  /**
    Whether the current character index is at the end of the input string.
  
    @type {boolean}
    */
  get isEnd() {
    return this.charIndex >= this.charCount;
  }
  // -- Protected Methods ------------------------------------------------------
  /**
    Returns the number of characters in the given _string_, which may differ from
    the byte length if the string contains multibyte characters.
  
    @param {string} string
    @returns {number}
    */
  _charLength(t) {
    let { length: e } = t;
    return e < 2 || !this.multiByteMode ? e : t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, "_").length;
  }
  // -- Public Methods ---------------------------------------------------------
  /**
    Advances the scanner by the given number of characters, stopping if the end of
    the string is reached.
  
    @param {number} [count]
    */
  advance(t = 1) {
    this.charIndex = Math.min(this.charCount, this.charIndex + t);
  }
  /**
    Consumes and returns the given number of characters if possible, advancing the
    scanner and stopping if the end of the string is reached.
  
    If no characters could be consumed, an empty string will be returned.
  
    @param {number} [count]
    @returns {string}
    */
  consume(t = 1) {
    let e = this.peek(t);
    return this.advance(t), e;
  }
  /**
    Consumes a match for the given sticky regex, advances the scanner, updates the
    `lastIndex` property of the regex, and returns the matching string.
  
    The regex must have a sticky flag ("y") so that its `lastIndex` prop can be
    used to anchor the match at the current scanner position.
  
    Returns the consumed string, or an empty string if nothing was consumed.
  
    @param {RegExp} regex
    @returns {string}
    */
  consumeMatch(t) {
    if (!t.sticky)
      throw new Error('`regex` must have a sticky flag ("y")');
    t.lastIndex = this.charsToBytes[this.charIndex];
    let e = t.exec(this.string);
    if (e === null)
      return To;
    let i = e[0];
    return this.advance(this._charLength(i)), i;
  }
  /**
    Consumes and returns all characters for which the given function returns a
    truthy value, stopping on the first falsy return value or if the end of the
    input is reached.
  
    @param {(char: string) => boolean} fn
    @returns {string}
    */
  consumeMatchFn(t) {
    let e = this.charIndex;
    for (; !this.isEnd && t(this.peek()); )
      this.advance();
    return this.charIndex > e ? this.string.slice(this.charsToBytes[e], this.charsToBytes[this.charIndex]) : To;
  }
  /**
    Consumes the given string if it exists at the current character index, and
    advances the scanner.
  
    If the given string doesn't exist at the current character index, an empty
    string will be returned and the scanner will not be advanced.
  
    @param {string} stringToConsume
    @returns {string}
    */
  consumeString(t) {
    if (this.consumeStringFast(t))
      return t;
    if (!this.multiByteMode)
      return To;
    let { length: e } = t, i = this._charLength(t);
    return i !== e && t === this.peek(i) ? (this.advance(i), t) : To;
  }
  /**
   * Does the same thing as `consumeString()`, but doesn't support consuming
   * multibyte characters. This can be much faster if you only need to match
   * single byte characters.
   *
   * @param {string} stringToConsume
   * @returns {string}
   */
  consumeStringFast(t) {
    if (this.peek() === t[0]) {
      let { length: e } = t;
      if (e === 1)
        return this.advance(), t;
      if (this.peek(e) === t)
        return this.advance(e), t;
    }
    return To;
  }
  /**
    Consumes characters until the given global regex is matched, advancing the
    scanner up to (but not beyond) the beginning of the match and updating the
    `lastIndex` property of the regex.
  
    The regex must have a global flag ("g") so that its `lastIndex` prop can be
    used to begin the search at the current scanner position.
  
    Returns the consumed string, or an empty string if nothing was consumed.
  
    @param {RegExp} regex
    @returns {string}
    */
  consumeUntilMatch(t) {
    if (!t.global)
      throw new Error('`regex` must have a global flag ("g")');
    let e = this.charsToBytes[this.charIndex];
    t.lastIndex = e;
    let i = t.exec(this.string);
    if (i === null || i.index === e)
      return To;
    let n = this.string.slice(e, i.index);
    return this.advance(this._charLength(n)), n;
  }
  /**
    Consumes characters until the given string is found, advancing the scanner up
    to (but not beyond) that point.
  
    Returns the consumed string, or an empty string if nothing was consumed.
  
    @param {string} searchString
    @returns {string}
    */
  consumeUntilString(t) {
    let { charIndex: e, charsToBytes: i, string: n } = this, u = i[e], _ = n.indexOf(t, u);
    if (_ <= 0)
      return To;
    let o = n.slice(u, _);
    return this.advance(this._charLength(o)), o;
  }
  /**
    Returns the given number of characters starting at the current character
    index, without advancing the scanner and without exceeding the end of the
    input string.
  
    @param {number} [count]
    @returns {string}
    */
  peek(t = 1) {
    if (this.charIndex >= this.charCount)
      return To;
    if (t === 1)
      return this.chars[this.charIndex];
    let { charsToBytes: e, charIndex: i } = this;
    return this.string.slice(e[i], e[i + t]);
  }
  /**
    Resets the scanner position to the given character _index_, or to the start of
    the input string if no index is given.
  
    If _index_ is negative, the scanner position will be moved backward by that
    many characters, stopping if the beginning of the string is reached.
  
    @param {number} [index]
    */
  reset(t = 0) {
    this.charIndex = t >= 0 ? Math.min(this.charCount, t) : Math.max(0, this.charIndex + t);
  }
};
var EP = MP, Yo = {};
const LP = Object.freeze(Object.assign(/* @__PURE__ */ Object.create(null), {
  amp: "&",
  apos: "'",
  gt: ">",
  lt: "<",
  quot: '"'
}));
Yo.predefinedEntities = LP;
function Wx(a) {
  if (zx(a))
    return !0;
  let t = lp(a);
  return t === 45 || t === 46 || t >= 48 && t <= 57 || t === 183 || t >= 768 && t <= 879 || t >= 8255 && t <= 8256;
}
Yo.isNameChar = Wx;
function zx(a) {
  let t = lp(a);
  return t === 58 || t === 95 || t >= 65 && t <= 90 || t >= 97 && t <= 122 || t >= 192 && t <= 214 || t >= 216 && t <= 246 || t >= 248 && t <= 767 || t >= 880 && t <= 893 || t >= 895 && t <= 8191 || t >= 8204 && t <= 8205 || t >= 8304 && t <= 8591 || t >= 11264 && t <= 12271 || t >= 12289 && t <= 55295 || t >= 63744 && t <= 64975 || t >= 65008 && t <= 65533 || t >= 65536 && t <= 983039;
}
Yo.isNameStartChar = zx;
function CP(a) {
  return !Bx(a);
}
Yo.isNotXmlChar = CP;
function AP(a) {
  return a === "#" || Wx(a);
}
Yo.isReferenceChar = AP;
function IP(a) {
  let t = lp(a);
  return t === 32 || t === 9 || t === 10 || t === 13;
}
Yo.isWhitespace = IP;
function Bx(a) {
  let t = lp(a);
  return t === 9 || t === 10 || t === 13 || t >= 32 && t <= 55295 || t >= 57344 && t <= 65533 || t >= 65536 && t <= 1114111;
}
Yo.isXmlChar = Bx;
function lp(a) {
  return a.codePointAt(0) || -1;
}
let Yl = class {
  constructor() {
    this.parent = null;
  }
  /**
    Document that contains this node, or `null` if this node is not associated
    with a document.
  
    @type {XmlDocument?}
    @public
    */
  get document() {
    return this.parent ? this.parent.document : null;
  }
  /**
    Whether this node is the root node of the document.
  
    @returns {boolean}
    @public
    */
  get isRootNode() {
    return this.parent ? this.parent === this.document : !1;
  }
  /**
    Whether whitespace should be preserved in the content of this element and
    its children.
  
    This is influenced by the value of the special `xml:space` attribute, and
    will be `true` for any node whose `xml:space` attribute is set to
    "preserve". If a node has no such attribute, it will inherit the value of
    the nearest ancestor that does (if any).
  
    @type {boolean}
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-white-space
    @public
    */
  get preserveWhitespace() {
    return !!(this.parent && this.parent.preserveWhitespace);
  }
  /**
    Type of this node.
  
    The value of this property is a string that matches one of the static `TYPE_*`
    properties on the `XmlNode` class (e.g. `TYPE_ELEMENT`, `TYPE_TEXT`, etc.).
  
    The `XmlNode` class itself is a base class and doesn't have its own type name.
  
    @type {string}
    @public
    */
  get type() {
    return "";
  }
  /**
    Returns a JSON-serializable object representing this node, minus properties
    that could result in circular references.
  
    @returns {{[key: string]: any}}
    @public
    */
  toJSON() {
    let t = {
      type: this.type
    };
    return this.isRootNode && (t.isRootNode = !0), this.preserveWhitespace && (t.preserveWhitespace = !0), t;
  }
};
Yl.TYPE_CDATA = "cdata";
Yl.TYPE_COMMENT = "comment";
Yl.TYPE_DOCUMENT = "document";
Yl.TYPE_ELEMENT = "element";
Yl.TYPE_PROCESSING_INSTRUCTION = "pi";
Yl.TYPE_TEXT = "text";
var Ql = Yl;
const Hf = Ql;
let PP = class extends Hf {
  /**
  @param {string} [text]
  */
  constructor(t = "") {
    super(), this.text = t;
  }
  get type() {
    return Hf.TYPE_TEXT;
  }
  toJSON() {
    return Object.assign(Hf.prototype.toJSON.call(this), {
      text: this.text
    });
  }
};
var vy = PP;
const OP = Ql, RP = vy;
let kP = class extends RP {
  get type() {
    return OP.TYPE_CDATA;
  }
};
var Nx = kP;
const Xf = Ql;
let DP = class extends Xf {
  /**
  @param {string} [content]
  */
  constructor(t = "") {
    super(), this.content = t;
  }
  get type() {
    return Xf.TYPE_COMMENT;
  }
  toJSON() {
    return Object.assign(Xf.prototype.toJSON.call(this), {
      content: this.content
    });
  }
};
var qx = DP;
const Kf = Ql;
let WP = class Fx extends Kf {
  /**
  @param {string} name
  @param {{[attrName: string]: string}} [attributes]
  @param {Array<XmlCdata|XmlComment|XmlElement|XmlProcessingInstruction|XmlText>} [children]
  */
  constructor(t, e = /* @__PURE__ */ Object.create(null), i = []) {
    super(), this.name = t, this.attributes = e, this.children = i;
  }
  /**
    Whether this node is empty (meaning it has no children).
  
    @type {boolean}
    @public
    */
  get isEmpty() {
    return this.children.length === 0;
  }
  /** @type {boolean} */
  get preserveWhitespace() {
    let t = this;
    for (; t instanceof Fx; ) {
      if ("xml:space" in t.attributes)
        return t.attributes["xml:space"] === "preserve";
      t = t.parent;
    }
    return !1;
  }
  /**
    Text content of this element and all its descendants.
  
    @type {string}
    @public
    */
  get text() {
    return this.children.map((t) => "text" in t ? t.text : "").join("");
  }
  get type() {
    return Kf.TYPE_ELEMENT;
  }
  /** @returns {{[key: string]: any}} */
  toJSON() {
    return Object.assign(Kf.prototype.toJSON.call(this), {
      name: this.name,
      attributes: this.attributes,
      children: this.children.map((t) => t.toJSON())
    });
  }
};
var by = WP;
const zP = by, Yf = Ql;
let BP = class extends Yf {
  /**
  @param {Array<XmlComment|XmlElement|XmlProcessingInstruction>} [children]
  */
  constructor(t = []) {
    super(), this.children = t;
  }
  get document() {
    return this;
  }
  /**
    Root element of this document, or `null` if this document is empty.
  
    @type {XmlElement?}
    @public
    */
  get root() {
    return this.children.find((t) => t instanceof zP) || null;
  }
  /**
    Text content of this document and all its descendants.
  
    @type {string}
    @public
    */
  get text() {
    return this.children.map((t) => "text" in t ? t.text : "").join("");
  }
  get type() {
    return Yf.TYPE_DOCUMENT;
  }
  toJSON() {
    return Object.assign(Yf.prototype.toJSON.call(this), {
      children: this.children.map((t) => t.toJSON())
    });
  }
};
var Gx = BP;
const Qf = Ql;
let NP = class extends Qf {
  /**
  @param {string} name
  @param {string} [content]
  */
  constructor(t, e = "") {
    super(), this.name = t, this.content = e;
  }
  get type() {
    return Qf.TYPE_PROCESSING_INSTRUCTION;
  }
  toJSON() {
    return Object.assign(Qf.prototype.toJSON.call(this), {
      name: this.name,
      content: this.content
    });
  }
};
var Ux = NP;
const qP = EP, Rl = Yo, FP = Nx, GP = qx, UP = Gx, jP = by, Yv = Ux, Qv = vy, Jf = "";
let VP = class {
  /**
    @param {string} xml
      XML string to parse.
  
    @param {object} [options]
      Parsing options.
  
      @param {boolean} [options.ignoreUndefinedEntities=false]
      @param {boolean} [options.preserveCdata=false]
      @param {boolean} [options.preserveComments=false]
      @param {(entity: string) => string?} [options.resolveUndefinedEntity]
      @param {boolean} [options.sortAttributes=false]
    */
  constructor(t, e = {}) {
    for (this.document = new UP(), this.currentNode = this.document, this.options = e, this.scanner = new qP(ZP(t)), this.consumeProlog(), this.consumeElement() || this.error("Root element is missing or invalid"); this.consumeMisc(); )
      ;
    this.scanner.isEnd || this.error("Extra content at the end of the document");
  }
  /**
    Adds the given `XmlNode` as a child of `this.currentNode`.
  
    @param {XmlNode} node
    */
  addNode(t) {
    t.parent = this.currentNode, this.currentNode.children.push(t);
  }
  /**
    Adds the given _text_ to the document, either by appending it to a preceding
    `XmlText` node (if possible) or by creating a new `XmlText` node.
  
    @param {string} text
    */
  addText(t) {
    let { children: e } = this.currentNode;
    if (e.length > 0) {
      let i = e[e.length - 1];
      if (i instanceof Qv) {
        i.text += t;
        return;
      }
    }
    this.addNode(new Qv(t));
  }
  /**
    Consumes an `AttValue` (attribute value) if possible.
  
    @returns {string|false}
      Contents of the `AttValue` minus quotes, or `false` if nothing was consumed.
      An empty string indicates that an `AttValue` was consumed but was empty.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#NT-AttValue
    */
  consumeAttributeValue() {
    let { scanner: t } = this, e = t.peek();
    if (e !== '"' && e !== "'")
      return !1;
    t.advance();
    let i, n = !1, u = Jf, _ = e === '"' ? /[^"&<]+/y : /[^'&<]+/y;
    e:
      for (; !t.isEnd; )
        switch (i = t.consumeMatch(_), i && (this.validateChars(i), u += i.replace(/[\t\r\n]/g, " ")), t.peek()) {
          case e:
            n = !0;
            break e;
          case "&":
            u += this.consumeReference();
            continue;
          case "<":
            this.error("Unescaped `<` is not allowed in an attribute value");
            break;
          case Jf:
            this.error("Unclosed attribute");
            break;
        }
    return n || this.error("Unclosed attribute"), t.advance(), u;
  }
  /**
    Consumes a CDATA section if possible.
  
    @returns {boolean}
      Whether a CDATA section was consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-cdata-sect
    */
  consumeCdataSection() {
    let { scanner: t } = this;
    if (!t.consumeStringFast("<![CDATA["))
      return !1;
    let e = t.consumeUntilString("]]>");
    return this.validateChars(e), t.consumeStringFast("]]>") || this.error("Unclosed CDATA section"), this.options.preserveCdata ? this.addNode(new FP(e)) : this.addText(e), !0;
  }
  /**
    Consumes character data if possible.
  
    @returns {boolean}
      Whether character data was consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#dt-chardata
    */
  consumeCharData() {
    let { scanner: t } = this, e = t.consumeUntilMatch(/<|&|]]>/g);
    return e ? (this.validateChars(e), t.peek() === "]" && t.peek(3) === "]]>" && this.error("Element content may not contain the CDATA section close delimiter `]]>`"), this.addText(e), !0) : !1;
  }
  /**
    Consumes a comment if possible.
  
    @returns {boolean}
      Whether a comment was consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#NT-Comment
    */
  consumeComment() {
    let { scanner: t } = this;
    if (!t.consumeStringFast("<!--"))
      return !1;
    let e = t.consumeUntilString("--");
    return this.validateChars(e), t.consumeStringFast("-->") || (t.peek(2) === "--" ? this.error("The string `--` isn't allowed inside a comment") : this.error("Unclosed comment")), this.options.preserveComments && this.addNode(new GP(e.trim())), !0;
  }
  /**
    Consumes a reference in a content context if possible.
  
    This differs from `consumeReference()` in that a consumed reference will be
    added to the document as a text node instead of returned.
  
    @returns {boolean}
      Whether a reference was consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#entproc
    */
  consumeContentReference() {
    let t = this.consumeReference();
    return t ? (this.addText(t), !0) : !1;
  }
  /**
    Consumes a doctype declaration if possible.
  
    This is a loose implementation since doctype declarations are currently
    discarded without further parsing.
  
    @returns {boolean}
      Whether a doctype declaration was consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#dtd
    */
  consumeDoctypeDeclaration() {
    let { scanner: t } = this;
    return !t.consumeStringFast("<!DOCTYPE") || !this.consumeWhitespace() ? !1 : (t.consumeMatch(/[^[>]+/y), t.consumeMatch(/\[[\s\S]+?\][\x20\t\r\n]*>/y) || t.consumeStringFast(">") || this.error("Unclosed doctype declaration"), !0);
  }
  /**
    Consumes an element if possible.
  
    @returns {boolean}
      Whether an element was consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#NT-element
    */
  consumeElement() {
    let { scanner: t } = this, e = t.charIndex;
    if (t.peek() !== "<")
      return !1;
    t.advance();
    let i = this.consumeName();
    if (!i)
      return t.reset(e), !1;
    let n = /* @__PURE__ */ Object.create(null);
    for (; this.consumeWhitespace(); ) {
      let o = this.consumeName();
      if (!o)
        continue;
      let y = this.consumeEqual() && this.consumeAttributeValue();
      y === !1 && this.error("Attribute value expected"), o in n && this.error(`Duplicate attribute: ${o}`), o === "xml:space" && y !== "default" && y !== "preserve" && this.error('Value of the `xml:space` attribute must be "default" or "preserve"'), n[o] = y;
    }
    if (this.options.sortAttributes) {
      let o = Object.keys(n).sort(), y = /* @__PURE__ */ Object.create(null);
      for (let b = 0; b < o.length; ++b) {
        let S = o[b];
        y[S] = n[S];
      }
      n = y;
    }
    let u = !!t.consumeStringFast("/>"), _ = new jP(i, n);
    if (_.parent = this.currentNode, !u) {
      for (t.consumeStringFast(">") || this.error(`Unclosed start tag for element \`${i}\``), this.currentNode = _, this.consumeCharData(); this.consumeElement() || this.consumeContentReference() || this.consumeCdataSection() || this.consumeProcessingInstruction() || this.consumeComment(); )
        this.consumeCharData();
      let o = t.charIndex, y;
      (!t.consumeStringFast("</") || !(y = this.consumeName()) || y !== i) && (t.reset(o), this.error(`Missing end tag for element ${i}`)), this.consumeWhitespace(), t.consumeStringFast(">") || this.error(`Unclosed end tag for element ${i}`), this.currentNode = _.parent;
    }
    return this.addNode(_), !0;
  }
  /**
    Consumes an `Eq` production if possible.
  
    @returns {boolean}
      Whether an `Eq` production was consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#NT-Eq
    */
  consumeEqual() {
    return this.consumeWhitespace(), this.scanner.consumeStringFast("=") ? (this.consumeWhitespace(), !0) : !1;
  }
  /**
    Consumes `Misc` content if possible.
  
    @returns {boolean}
      Whether anything was consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#NT-Misc
    */
  consumeMisc() {
    return this.consumeComment() || this.consumeProcessingInstruction() || this.consumeWhitespace();
  }
  /**
    Consumes one or more `Name` characters if possible.
  
    @returns {string}
      `Name` characters, or an empty string if none were consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#NT-Name
    */
  consumeName() {
    return Rl.isNameStartChar(this.scanner.peek()) ? this.scanner.consumeMatchFn(Rl.isNameChar) : Jf;
  }
  /**
    Consumes a processing instruction if possible.
  
    @returns {boolean}
      Whether a processing instruction was consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-pi
    */
  consumeProcessingInstruction() {
    let { scanner: t } = this, e = t.charIndex;
    if (!t.consumeStringFast("<?"))
      return !1;
    let i = this.consumeName();
    if (i ? i.toLowerCase() === "xml" && (t.reset(e), this.error("XML declaration isn't allowed here")) : this.error("Invalid processing instruction"), !this.consumeWhitespace()) {
      if (t.consumeStringFast("?>"))
        return this.addNode(new Yv(i)), !0;
      this.error("Whitespace is required after a processing instruction name");
    }
    let n = t.consumeUntilString("?>");
    return this.validateChars(n), t.consumeStringFast("?>") || this.error("Unterminated processing instruction"), this.addNode(new Yv(i, n)), !0;
  }
  /**
    Consumes a prolog if possible.
  
    @returns {boolean}
      Whether a prolog was consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-prolog-dtd
    */
  consumeProlog() {
    let { scanner: t } = this, e = t.charIndex;
    for (this.consumeXmlDeclaration(); this.consumeMisc(); )
      ;
    if (this.consumeDoctypeDeclaration())
      for (; this.consumeMisc(); )
        ;
    return e < t.charIndex;
  }
  /**
    Consumes a reference if possible.
  
    This differs from `consumeContentReference()` in that a consumed reference
    will be returned rather than added to the document.
  
    @returns {string|false}
      Parsed reference value, or `false` if nothing was consumed (to distinguish
      from a reference that resolves to an empty string).
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#NT-Reference
    */
  consumeReference() {
    let { scanner: t } = this;
    if (t.peek() !== "&")
      return !1;
    t.advance();
    let e = t.consumeMatchFn(Rl.isReferenceChar);
    t.consume() !== ";" && this.error("Unterminated reference (a reference must end with `;`)");
    let i;
    if (e[0] === "#") {
      let n = e[1] === "x" ? parseInt(e.slice(2), 16) : parseInt(e.slice(1), 10);
      isNaN(n) && this.error("Invalid character reference"), i = String.fromCodePoint(n), Rl.isXmlChar(i) || this.error("Character reference resolves to an invalid character");
    } else if (i = Rl.predefinedEntities[e], i === void 0) {
      let {
        ignoreUndefinedEntities: n,
        resolveUndefinedEntity: u
      } = this.options, _ = `&${e};`;
      if (u) {
        let o = u(_);
        if (o != null) {
          let y = typeof o;
          if (y !== "string")
            throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${y}`);
          return o;
        }
      }
      if (n)
        return _;
      t.reset(-_.length), this.error(`Named entity isn't defined: ${_}`);
    }
    return i;
  }
  /**
    Consumes a `SystemLiteral` if possible.
  
    A `SystemLiteral` is similar to an attribute value, but allows the characters
    `<` and `&` and doesn't replace references.
  
    @returns {string|false}
      Value of the `SystemLiteral` minus quotes, or `false` if nothing was
      consumed. An empty string indicates that a `SystemLiteral` was consumed but
      was empty.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#NT-SystemLiteral
    */
  consumeSystemLiteral() {
    let { scanner: t } = this, e = t.consumeStringFast('"') || t.consumeStringFast("'");
    if (!e)
      return !1;
    let i = t.consumeUntilString(e);
    return this.validateChars(i), t.consumeStringFast(e) || this.error("Missing end quote"), i;
  }
  /**
    Consumes one or more whitespace characters if possible.
  
    @returns {boolean}
      Whether any whitespace characters were consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#white
    */
  consumeWhitespace() {
    return !!this.scanner.consumeMatchFn(Rl.isWhitespace);
  }
  /**
    Consumes an XML declaration if possible.
  
    @returns {boolean}
      Whether an XML declaration was consumed.
  
    @see https://www.w3.org/TR/2008/REC-xml-20081126/#NT-XMLDecl
    */
  consumeXmlDeclaration() {
    let { scanner: t } = this;
    if (!t.consumeStringFast("<?xml"))
      return !1;
    this.consumeWhitespace() || this.error("Invalid XML declaration");
    let e = !!t.consumeStringFast("version") && this.consumeEqual() && this.consumeSystemLiteral();
    if (e === !1 ? this.error("XML version is missing or invalid") : /^1\.[0-9]+$/.test(e) || this.error("Invalid character in version number"), this.consumeWhitespace()) {
      !!t.consumeStringFast("encoding") && this.consumeEqual() && this.consumeSystemLiteral() && this.consumeWhitespace();
      let n = !!t.consumeStringFast("standalone") && this.consumeEqual() && this.consumeSystemLiteral();
      n && (n !== "yes" && n !== "no" && this.error('Only "yes" and "no" are permitted as values of `standalone`'), this.consumeWhitespace());
    }
    return t.consumeStringFast("?>") || this.error("Invalid or unclosed XML declaration"), !0;
  }
  /**
    Throws an error at the current scanner position.
  
    @param {string} message
    */
  error(t) {
    let { charIndex: e, string: i } = this.scanner, n = 1, u = "", _ = 1;
    for (let S = 0; S < e; ++S) {
      let T = i[S];
      T === `
` ? (n = 1, u = "", _ += 1) : (n += 1, u += T);
    }
    let o = i.indexOf(`
`, e);
    u += o === -1 ? i.slice(e) : i.slice(e, o);
    let y = 0;
    u.length > 50 && (n < 40 ? u = u.slice(0, 50) : (y = n - 20, u = u.slice(y, n + 30)));
    let b = new Error(
      `${t} (line ${_}, column ${n})
  ${u}
` + " ".repeat(n - y + 1) + `^
`
    );
    throw Object.assign(b, {
      column: n,
      excerpt: u,
      line: _,
      pos: e
    }), b;
  }
  /**
    Throws an invalid character error if any character in the given _string_ isn't
    a valid XML character.
  
    @param {string} string
    */
  validateChars(t) {
    let e = 0;
    for (let i of t)
      Rl.isNotXmlChar(i) && (this.scanner.reset(-([...t].length - e)), this.error("Invalid character")), e += 1;
  }
};
var $P = VP;
function ZP(a) {
  return a[0] === "\uFEFF" && (a = a.slice(1)), a.replace(/\r\n?/g, `
`);
}
const HP = $P, XP = Nx, KP = qx, YP = Gx, QP = by, JP = Ql, eO = Ux, tO = vy;
function Qo(a, t) {
  return new HP(a, t).document;
}
Qo.XmlCdata = XP;
Qo.XmlComment = KP;
Qo.XmlDocument = YP;
Qo.XmlElement = QP;
Qo.XmlNode = JP;
Qo.XmlProcessingInstruction = eO;
Qo.XmlText = tO;
var aO = Qo;
const iO = /* @__PURE__ */ gy(aO);
class nO extends Error {
  constructor(t) {
    super(t);
  }
}
function rO(a) {
  let t = null;
  try {
    t = iO(a);
  } catch (e) {
    throw new nO(e.message);
  }
  return t;
}
function Ys(a) {
  return a.children[0];
}
function Bh(a) {
  const t = a.indexOf(":");
  return t > -1 ? a.substr(t + 1) : a;
}
function Nh(a) {
  return a.name || "";
}
function Tn(a, t, e) {
  const i = Bh(t);
  function n(u, _) {
    return Bh(Nh(_)) === i && u.push(_), e && Array.isArray(_.children) ? [...u, ..._.children.reduce(n, [])] : u;
  }
  return a && Array.isArray(a.children) ? a.children.reduce(n, []) : [];
}
function Vt(a, t, e) {
  return Tn(a, t, e)[0] || null;
}
function Sc(a) {
  return a && Array.isArray(a.children) ? [...a.children.filter((t) => t.constructor.name === "XmlElement")] : [];
}
function Aa(a) {
  const t = a && Array.isArray(a.children) ? a.children.find((e) => e.type === "text") : null;
  return t ? t.text : "";
}
function gs(a, t) {
  return a && a.attributes[t] || "";
}
const Jv = ["utf-8", "utf-16", "iso-8859-1"], e2 = "utf-8";
function sO(a) {
  const t = /charset=([^;]+)/.exec(a);
  return t ? t[1] : null;
}
function oO(a, t) {
  const e = t ? sO(t) : null, i = e ? [e, ...Jv] : Jv;
  for (const n of i)
    try {
      return new TextDecoder(n, { fatal: !0 }).decode(a);
    } catch {
    }
  return console.warn(
    `XML document encoding could not be determined, falling back to ${e2}.`
  ), new TextDecoder(e2).decode(a);
}
const Fm = /* @__PURE__ */ new Map();
function lO(a) {
  if (Fm.has(a))
    return Fm.get(a);
  const t = fetch(a);
  return t.finally(() => Fm.delete(a)), Fm.set(a, t), t;
}
function xy(a) {
  return lO(a).catch(
    () => (
      // attempt a HEAD to see if the failure comes from CORS or the service is generally unreachable
      fetch(a, { method: "HEAD", mode: "no-cors" }).catch((t) => {
        throw new $f(
          `Fetching the document failed either due to network errors or unreachable host, error is: ${t.message}`,
          0,
          !1
        );
      }).then(() => {
        throw new $f(
          "The document could not be fetched due to CORS limitations",
          0,
          !0
        );
      })
    )
  ).then(async (t) => {
    if (!t.ok) {
      const n = await t.text();
      throw new $f(
        `Received an error with code ${t.status}: ${n}`,
        t.status,
        !1
      );
    }
    const e = await t.arrayBuffer(), i = t.headers.get("Content-Type");
    return oO(e, i);
  }).then((t) => rO(t));
}
function wy(a, t) {
  const e = a.match(/(https?%3A%2F%2F[^/]+)$/);
  if (e) {
    const o = e[1], y = wy(decodeURIComponent(o), t);
    return a.replace(o, encodeURIComponent(y));
  }
  const i = new URL(a), n = Object.keys(t), u = n.map((o) => o.toLowerCase()), _ = [];
  for (const o of i.searchParams.keys())
    u.indexOf(o.toLowerCase()) > -1 && _.push(o);
  return _.map((o) => i.searchParams.delete(o)), n.forEach(
    (o) => i.searchParams.set(o, t[o] === !0 ? "" : t[o])
  ), i.toString();
}
let uO = 1e3 * 60 * 60;
function dO() {
  return uO;
}
const Zo = "caches" in self ? caches.open("ogc-client") : null;
async function cO(a, ...t) {
  if (!Zo)
    return;
  const e = "https://cache/" + t.join("/");
  await (await Zo).put(
    e,
    new Response(JSON.stringify(a), {
      headers: {
        "x-expiry": (Date.now() + dO()).toString(10)
      }
    })
  );
}
async function _O(...a) {
  if (!Zo)
    return !1;
  const t = "https://cache/" + a.join("/");
  return (await Zo).match(t).then((i) => !!i && parseInt(i.headers.get("x-expiry")) > Date.now());
}
async function mO(...a) {
  if (!Zo)
    return null;
  const t = "https://cache/" + a.join("/"), i = await (await Zo).match(t);
  return i ? i.clone().json() : null;
}
const Gm = /* @__PURE__ */ new Map();
async function hO(a, ...t) {
  if (await pO(), await _O(...t))
    return mO(...t);
  const e = t.join("#");
  if (Gm.has(e))
    return Gm.get(e);
  const i = a();
  i instanceof Promise && (i.then(() => Gm.delete(e)), Gm.set(e, i));
  const n = await i;
  return await cO(n, ...t), n;
}
async function pO() {
  if (!Zo)
    return;
  const a = await Zo, t = await a.keys();
  for (let e of t) {
    const i = await a.match(e);
    parseInt(i.headers.get("x-expiry")) <= Date.now() && await a.delete(e);
  }
}
function fO(a, t, e, i, n, u, _, o, y, b) {
  const S = t === "2.0.0" ? "TYPENAMES" : "TYPENAME", T = t === "2.0.0" ? "COUNT" : "MAXFEATURES", L = {
    SERVICE: "WFS",
    REQUEST: "GetFeature",
    VERSION: t,
    [S]: e
  };
  if (i !== void 0 && (L.OUTPUTFORMAT = i), u !== void 0 && (L.PROPERTYNAME = u.join(",")), _ ? (L.RESULTTYPE = "hits", L[T] = "1") : n !== void 0 && (L[T] = n.toString(10)), o && (L.SRSNAME = o), y) {
    const R = y.join(",");
    L.BBOX = b ? `${R},${b}` : R;
  }
  return wy(a, L);
}
class gO {
  /**
   * @param {string} url WMS endpoint url; can contain any query parameters, these will be used to
   *   initialize the endpoint
   */
  constructor(t) {
    const e = wy(t, {
      SERVICE: "WMS",
      REQUEST: "GetCapabilities"
    });
    this._capabilitiesPromise = hO(
      () => TP(e),
      "WMS",
      "CAPABILITIES",
      e
    ).then(({ info: i, layers: n, version: u }) => {
      this._info = i, this._layers = n, this._version = u;
    }), this._info = null, this._layers = null, this._version = null;
  }
  /**
   * @throws {EndpointError}
   * @return {Promise<WmsEndpoint>}
   */
  isReady() {
    return this._capabilitiesPromise.then(() => this);
  }
  /**
   * @return {GenericEndpointInfo|null}
   */
  getServiceInfo() {
    return this._info;
  }
  /**
   * Returns an array of layers in summary format; use the `path` property
   * to rebuild the tree structure if needed
   * @return {WmsLayerSummary[]|null}
   */
  getLayers() {
    function t(e) {
      return {
        title: e.title,
        name: e.name,
        abstract: e.abstract,
        ..."children" in e && {
          children: e.children.map(t)
        }
      };
    }
    return this._layers.map(t);
  }
  /**
   * Returns a complete layer based on its name
   * Note: the first matching layer will be returned
   * @param {string} name Layer name property (unique in the WMS service)
   * @return {WmsLayerFull|null} return null if layer was not found
   */
  getLayerByName(t) {
    let e = null;
    function i(n) {
      if (e === null) {
        if (n.name === t) {
          e = n;
          return;
        }
        "children" in n && n.children.map(i);
      }
    }
    return this._layers.map(i), e;
  }
  /**
   * @return {WmsVersion|null}
   */
  getVersion() {
    return this._version;
  }
}
const yO = [
  "EPSG:4046",
  // RGRDC 2005
  "EPSG:4075",
  // SREF98
  "EPSG:4120",
  // Greek
  "EPSG:4122",
  // ATS77
  "EPSG:4124",
  // RT90
  "EPSG:4126",
  // LKS94 (ETRS89)
  "EPSG:4149",
  // CH1903
  "EPSG:4151",
  // CHTRF95
  "EPSG:4153",
  // Rassadiran
  "EPSG:4155",
  // Dabola 1981
  "EPSG:4157",
  // Mount Dillon
  "EPSG:4159",
  // ELD79
  "EPSG:4161",
  // Pampa del Castillo
  "EPSG:4163",
  // Yemen NGN96
  "EPSG:4165",
  // Bissau
  "EPSG:4167",
  // NZGD2000
  "EPSG:4169",
  // American Samoa 1962
  "EPSG:4171",
  // RGF93
  "EPSG:4173",
  // IRENET95
  "EPSG:4175",
  // Sierra Leone 1968
  "EPSG:4178",
  // Pulkovo 1942(83)
  "EPSG:4180",
  // EST97
  "EPSG:4182",
  // Azores Occidental 1939
  "EPSG:4184",
  // Azores Oriental 1940
  "EPSG:4188",
  // OSNI 1952
  "EPSG:4190",
  // POSGAR 98
  "EPSG:4191",
  // Albanian 1987
  "EPSG:4196",
  // Ammassalik 1958
  "EPSG:4198",
  // Kousseri
  "EPSG:4202",
  // AGD66
  "EPSG:4210",
  // Arc 1960
  "EPSG:4211",
  // Batavia
  "EPSG:4214",
  // Beijing 1954
  "EPSG:4226",
  // Cote d'Ivoire
  "EPSG:4229",
  // Egypt 1907
  "EPSG:4231",
  // ED87
  "EPSG:4233",
  // Gandajika 1970
  "EPSG:4236",
  // Hu Tzu Shan 1950
  "EPSG:4238",
  // ID74
  "EPSG:4240",
  // Indian 1975
  "EPSG:4242",
  // JAD69
  "EPSG:4244",
  // Kandawala
  "EPSG:4246",
  // KOC
  "EPSG:4248",
  // PSAD56
  "EPSG:4250",
  // Leigon
  "EPSG:4252",
  // Lome
  "EPSG:4255",
  // Herat North
  "EPSG:4258",
  // ETRS89
  "EPSG:4261",
  // Merchich
  "EPSG:4264",
  // Mhast
  "EPSG:4267",
  // NAD27
  "EPSG:4270",
  // Nahrwan 1967
  "EPSG:4273",
  // NGO 1948
  "EPSG:4276",
  // NSWC 9Z-2
  "EPSG:4279",
  // OS(SN)80
  "EPSG:4281",
  // Palestine 1923
  "EPSG:4284",
  // Pulkovo 1942
  "EPSG:4286",
  // Qatar 1948
  "EPSG:4288",
  // Loma Quintana
  "EPSG:4292",
  // Sapper Hill 1943
  "EPSG:4295",
  // Serindung
  "EPSG:4297",
  // Tananarive
  "EPSG:4299",
  // TM65
  "EPSG:4302",
  // Trinidad 1903
  "EPSG:4324",
  // WGS 72BE
  "EPSG:4326"
  // WGS 84
];
function vO(a) {
  return yO.indexOf(Ag(a)) > -1;
}
function Ag(a) {
  return /^urn:(?:x-)?ogc:def:crs:epsg:/.test(a.toLowerCase()) ? `EPSG:${/([0-9]+)$/.exec(a)[1]}` : a;
}
function jx(a) {
  return Ys(a).attributes.version;
}
function bO(a) {
  const t = jx(a), e = Vt(
    Ys(a),
    "Capability"
  );
  return Tn(e, "Layer").map(
    (i) => Vx(i, t)
  );
}
function xO(a) {
  const t = Vt(Ys(a), "Service"), e = Tn(
    Vt(t, "KeywordList"),
    "Keyword"
  ).map(Aa).filter((i, n, u) => u.indexOf(i) === n);
  return {
    title: Aa(Vt(t, "Title")),
    name: Aa(Vt(t, "Name")),
    abstract: Aa(Vt(t, "Abstract")),
    fees: Aa(Vt(t, "Fees")),
    constraints: Aa(Vt(t, "AccessConstraints")),
    keywords: e
  };
}
function Vx(a, t, e = [], i = [], n = null) {
  const u = t === "1.3.0" ? "CRS" : "SRS", _ = Tn(a, u).map(Aa), o = _.length > 0 ? _ : e, y = Tn(a, "Style").map(
    wO
  ), b = y.length > 0 ? y : i;
  function S(D) {
    const j = gs(D, u);
    return (vO(j) && t === "1.3.0" ? ["miny", "minx", "maxy", "maxx"] : ["minx", "miny", "maxx", "maxy"]).map((ie) => gs(D, ie));
  }
  const T = Vt(a, "Attribution"), L = T !== null ? SO(T) : n, R = Tn(a, "Layer").map(
    (D) => Vx(D, t, o, b, L)
  );
  return {
    name: Aa(Vt(a, "Name")),
    title: Aa(Vt(a, "Title")),
    abstract: Aa(Vt(a, "Abstract")),
    availableCrs: o,
    styles: b,
    attribution: L,
    boundingBoxes: Tn(a, "BoundingBox").reduce(
      (D, j) => ({
        ...D,
        [gs(j, u)]: S(j)
      }),
      {}
    ),
    ...R.length && { children: R }
  };
}
function wO(a) {
  const t = gs(
    Vt(Vt(a, "LegendURL"), "OnlineResource"),
    "xlink:href"
  );
  return {
    name: Aa(Vt(a, "Name")),
    title: Aa(Vt(a, "Title")),
    ...t && { legendUrl: t }
  };
}
function SO(a) {
  const t = gs(
    Vt(
      Vt(a, "LogoURL"),
      "OnlineResource"
    ),
    "xlink:href"
  ), e = gs(
    Vt(a, "OnlineResource"),
    "xlink:href"
  ), i = Aa(Vt(a, "Title"));
  return {
    ...i && { title: i },
    ...e && { url: e },
    ...t && { logoUrl: t }
  };
}
function up(a) {
  return Ys(a).attributes.version;
}
function $x(a) {
  const t = up(a);
  let e;
  if (t.startsWith("1.0")) {
    const i = Vt(
      Vt(
        Vt(Ys(a), "Capability"),
        "Request"
      ),
      "GetFeature"
    );
    e = Sc(
      Vt(i, "ResultFormat")
    ).map(Nh);
  } else {
    const i = Vt(
      Ys(a),
      "OperationsMetadata"
    ), n = Tn(i, "Operation").find(
      (_) => gs(_, "name") === "GetFeature"
    ), u = Tn(n, "Parameter").find(
      (_) => gs(_, "name") === "outputFormat"
    );
    e = Tn(u, "Value", !0).map(
      Aa
    );
  }
  return e;
}
function TO(a) {
  const t = up(a), e = t.startsWith("1.0") ? "Service" : "ServiceIdentification", i = t.startsWith("1.0") ? "Name" : "ServiceType", n = Vt(Ys(a), e);
  let u;
  return t.startsWith("1.0") ? u = Aa(Vt(n, "Keywords")).split(",").map((_) => _.trim()) : u = Tn(
    Vt(n, "Keywords"),
    "Keyword"
  ).map(Aa), {
    title: Aa(Vt(n, "Title")),
    name: Aa(Vt(n, i)),
    abstract: Aa(Vt(n, "Abstract")),
    fees: Aa(Vt(n, "Fees")),
    constraints: Aa(Vt(n, "AccessConstraints")),
    keywords: u,
    outputFormats: $x(a)
  };
}
function MO(a) {
  const t = up(a), e = $x(a), i = Vt(
    Ys(a),
    "FeatureTypeList"
  );
  return Tn(i, "FeatureType").map(
    (n) => EO(n, t, e)
  );
}
function EO(a, t, e) {
  const i = t.startsWith("2.") ? "CRS" : "SRS", n = t.startsWith("1.0") ? "SRS" : `Default${i}`;
  function u() {
    const b = Vt(a, "LatLongBoundingBox");
    return ["minx", "miny", "maxx", "maxy"].map((S) => gs(b, S)).map(parseFloat);
  }
  function _() {
    const b = Vt(a, "WGS84BoundingBox");
    return ["LowerCorner", "UpperCorner"].map((S) => Vt(b, S)).map((S) => Aa(S).split(" ")).reduce((S, T) => [...S, ...T]).map(parseFloat);
  }
  const o = t.startsWith("1.0") ? [] : Tn(a, `Other${i}`).map(Aa).map(Ag), y = t.startsWith("1.0") ? [] : Tn(
    Vt(a, "OutputFormats"),
    "Format"
  ).map(Aa);
  return {
    name: Aa(Vt(a, "Name")),
    title: Aa(Vt(a, "Title")),
    abstract: Aa(Vt(a, "Abstract")),
    defaultCrs: Ag(
      Aa(Vt(a, n))
    ),
    otherCrs: o,
    outputFormats: y.length > 0 ? y : e,
    latLonBoundingBox: t.startsWith("1.0") ? u() : _()
  };
}
function LO(a, t, e) {
  const i = Ys(a);
  let n;
  if (e.startsWith("2.0"))
    n = Tn(i, "member").map(
      (b) => Sc(b)[0]
    );
  else {
    const b = Vt(i, "featureMembers");
    n = b ? Sc(b) : Tn(i, "featureMember").map(
      (S) => Sc(S)[0]
    );
  }
  const u = e === "1.0.0" ? "fid" : "gml:id";
  function _(b) {
    return b in t.properties;
  }
  function o(b, S) {
    switch (t.properties[b]) {
      case "integer":
        return parseInt(S);
      case "float":
        return parseFloat(S);
      case "boolean":
        return S === "true";
      default:
        return S;
    }
  }
  function y(b) {
    return Sc(b).filter((S) => _(Bh(Nh(S)))).reduce((S, T) => {
      const L = Bh(Nh(T));
      return {
        ...S,
        [L]: o(L, Aa(T))
      };
    }, {});
  }
  return n.map((b) => ({
    id: gs(b, u),
    properties: y(b)
  }));
}
function CO(a) {
  return a.reduce((t, e) => {
    for (const i in e.properties) {
      const n = e.properties[i];
      i in t || (t[i] = { uniqueValues: [] });
      const u = t[i].uniqueValues.find(
        (_) => _.value === n
      );
      u ? u.count++ : t[i].uniqueValues.push({ value: n, count: 1 });
    }
    return t;
  }, {});
}
yy(
  "parseWmsCapabilities",
  /** @type {DedicatedWorkerGlobalScope|Window} */
  self,
  /**
   * @param {string} url
   * @return {Promise<{info:GenericEndpointInfo,layers:WmsLayerFull[],version:WmsVersion}>}
   */
  ({ url: a }) => xy(a).then((t) => ({
    info: xO(t),
    layers: bO(t),
    version: jx(t)
  }))
);
yy(
  "parseWfsCapabilities",
  /** @type {DedicatedWorkerGlobalScope|Window} */
  self,
  /**
   * @param {string} url
   * @return {Promise<{info:GenericEndpointInfo,featureTypes:WfsFeatureTypeInternal[],version:WfsVersion}>}
   */
  ({ url: a }) => xy(a).then((t) => ({
    info: TO(t),
    featureTypes: MO(t),
    version: up(t)
  }))
);
yy(
  "queryWfsFeatureTypeDetails",
  /** @type {DedicatedWorkerGlobalScope|Window} */
  self,
  /**
   * @param {string} url
   * @param {WfsVersion} serviceVersion
   * @param {WfsFeatureTypeFull} featureTypeFull
   * @return {Promise<{props:WfsFeatureTypePropsDetails}>}
   */
  ({ url: a, serviceVersion: t, featureTypeFull: e }) => {
    const i = fO(
      a,
      t,
      e.name,
      void 0,
      void 0,
      Object.keys(e.properties)
    );
    return xy(i).then((n) => ({
      props: CO(
        LO(n, e, t)
      )
    }));
  }
);
const AO = () => [
  {
    url: "http://wmts1.geoportail.lu/opendata/service",
    label: "Open Data Webservices WMS"
  },
  {
    url: "http://ows.terrestris.de/osm-gray/service",
    label: "OpenStreetMap by Terrestris (Grey)"
  },
  {
    url: "http://ows.terrestris.de/osm/service",
    label: "OpenStreetMap by Terrestris (Color)"
  }
];
function Sy(a, t) {
  return Zx(a, t, []).join("");
}
function Zx(a, t, e) {
  if (a.nodeType == Node.CDATA_SECTION_NODE || a.nodeType == Node.TEXT_NODE)
    t ? e.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g, "")) : e.push(a.nodeValue);
  else {
    var i = void 0;
    for (i = a.firstChild; i; i = i.nextSibling)
      Zx(i, t, e);
  }
  return e;
}
function IO(a) {
  return "documentElement" in a;
}
function PO(a) {
  return new DOMParser().parseFromString(a, "application/xml");
}
function Ig(a, t) {
  return (
    /**
     * @param {Element} node Node.
     * @param {Array<*>} objectStack Object stack.
     */
    function(e, i) {
      var n = a.call(t !== void 0 ? t : this, e, i);
      if (n !== void 0) {
        var u = (
          /** @type {Array<*>} */
          i[i.length - 1]
        );
        u.push(n);
      }
    }
  );
}
function fr(a, t, e) {
  return (
    /**
     * @param {Element} node Node.
     * @param {Array<*>} objectStack Object stack.
     */
    function(i, n) {
      var u = a.call(e !== void 0 ? e : this, i, n);
      if (u !== void 0) {
        var _ = (
          /** @type {!Object} */
          n[n.length - 1]
        ), o = t !== void 0 ? t : i.localName, y = void 0;
        o in _ ? y = _[o] : (y = [], _[o] = y), y.push(u);
      }
    }
  );
}
function Lt(a, t, e) {
  return (
    /**
     * @param {Element} node Node.
     * @param {Array<*>} objectStack Object stack.
     */
    function(i, n) {
      var u = a.call(e !== void 0 ? e : this, i, n);
      if (u !== void 0) {
        var _ = (
          /** @type {!Object} */
          n[n.length - 1]
        ), o = t !== void 0 ? t : i.localName;
        _[o] = u;
      }
    }
  );
}
function Ea(a, t, e) {
  var i = e !== void 0 ? e : {}, n, u;
  for (n = 0, u = a.length; n < u; ++n)
    i[a[n]] = t;
  return i;
}
function OO(a, t, e, i) {
  var n;
  for (n = t.firstElementChild; n; n = n.nextElementSibling) {
    var u = a[n.namespaceURI];
    if (u !== void 0) {
      var _ = u[n.localName];
      _ !== void 0 && _.call(i, n, e);
    }
  }
}
function Ya(a, t, e, i, n) {
  return i.push(a), OO(t, e, i, n), /** @type {T} */
  i.pop();
}
var RO = (
  /** @class */
  function() {
    function a() {
    }
    return a.prototype.read = function(t) {
      if (t)
        if (typeof t == "string") {
          var e = PO(t);
          return this.readFromDocument(e);
        } else
          return IO(t) ? this.readFromDocument(
            /** @type {Document} */
            t
          ) : this.readFromNode(
            /** @type {Element} */
            t
          );
      else
        return null;
    }, a.prototype.readFromDocument = function(t) {
      for (var e = t.firstChild; e; e = e.nextSibling)
        if (e.nodeType == Node.ELEMENT_NODE)
          return this.readFromNode(
            /** @type {Element} */
            e
          );
      return null;
    }, a.prototype.readFromNode = function(t) {
    }, a;
  }()
);
const Hx = RO;
var kO = "http://www.w3.org/1999/xlink";
function Ty(a) {
  return a.getAttributeNS(kO, "href");
}
function DO(a) {
  var t = Sy(a, !1);
  return WO(t);
}
function WO(a) {
  var t = /^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a);
  if (t)
    return parseFloat(t[1]);
}
function zo(a) {
  var t = Sy(a, !1);
  return zO(t);
}
function zO(a) {
  var t = /^\s*(\d+)\s*$/.exec(a);
  if (t)
    return parseInt(t[1], 10);
}
function ca(a) {
  return Sy(a, !1).trim();
}
var BO = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), ir = [null, "http://www.opengis.net/ows/1.1"], NO = Ea(ir, {
  ServiceIdentification: Lt(dR),
  ServiceProvider: Lt(_R),
  OperationsMetadata: Lt(lR)
}), qO = (
  /** @class */
  function(a) {
    BO(t, a);
    function t() {
      return a.call(this) || this;
    }
    return t.prototype.readFromNode = function(e) {
      var i = Ya({}, NO, e, []);
      return i || null;
    }, t;
  }(Hx)
), FO = Ea(ir, {
  DeliveryPoint: Lt(ca),
  City: Lt(ca),
  AdministrativeArea: Lt(ca),
  PostalCode: Lt(ca),
  Country: Lt(ca),
  ElectronicMailAddress: Lt(ca)
}), GO = Ea(ir, {
  Value: fr(mR)
}), UO = Ea(ir, {
  AllowedValues: Lt(tR)
}), jO = Ea(ir, {
  Phone: Lt(uR),
  Address: Lt(eR)
}), VO = Ea(ir, {
  HTTP: Lt(sR)
}), $O = Ea(ir, {
  Get: fr(rR),
  Post: void 0
  // TODO
}), ZO = Ea(ir, {
  DCP: Lt(nR)
}), HO = Ea(ir, {
  Operation: oR
}), XO = Ea(ir, {
  Voice: Lt(ca),
  Facsimile: Lt(ca)
}), KO = Ea(ir, {
  Constraint: fr(aR)
}), YO = Ea(ir, {
  IndividualName: Lt(ca),
  PositionName: Lt(ca),
  ContactInfo: Lt(iR)
}), QO = Ea(ir, {
  Abstract: Lt(ca),
  AccessConstraints: Lt(ca),
  Fees: Lt(ca),
  Title: Lt(ca),
  ServiceTypeVersion: Lt(ca),
  ServiceType: Lt(ca)
}), JO = Ea(ir, {
  ProviderName: Lt(ca),
  ProviderSite: Lt(Ty),
  ServiceContact: Lt(cR)
});
function eR(a, t) {
  return Ya({}, FO, a, t);
}
function tR(a, t) {
  return Ya({}, GO, a, t);
}
function aR(a, t) {
  var e = a.getAttribute("name");
  if (e)
    return Ya({ name: e }, UO, a, t);
}
function iR(a, t) {
  return Ya({}, jO, a, t);
}
function nR(a, t) {
  return Ya({}, VO, a, t);
}
function rR(a, t) {
  var e = Ty(a);
  if (e)
    return Ya({ href: e }, KO, a, t);
}
function sR(a, t) {
  return Ya({}, $O, a, t);
}
function oR(a, t) {
  var e = a.getAttribute("name"), i = Ya({}, ZO, a, t);
  if (i) {
    var n = (
      /** @type {Object} */
      t[t.length - 1]
    );
    n[e] = i;
  }
}
function lR(a, t) {
  return Ya({}, HO, a, t);
}
function uR(a, t) {
  return Ya({}, XO, a, t);
}
function dR(a, t) {
  return Ya({}, QO, a, t);
}
function cR(a, t) {
  return Ya({}, YO, a, t);
}
function _R(a, t) {
  return Ya({}, JO, a, t);
}
function mR(a, t) {
  return ca(a);
}
const hR = qO;
var pR = globalThis && globalThis.__extends || function() {
  var a = function(t, e) {
    return a = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, n) {
      i.__proto__ = n;
    } || function(i, n) {
      for (var u in n)
        Object.prototype.hasOwnProperty.call(n, u) && (i[u] = n[u]);
    }, a(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    a(t, e);
    function i() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i());
  };
}(), Ms = [null, "http://www.opengis.net/wmts/1.0"], md = [null, "http://www.opengis.net/ows/1.1"], fR = Ea(Ms, {
  Contents: Lt(CR)
}), gR = (
  /** @class */
  function(a) {
    pR(t, a);
    function t() {
      var e = a.call(this) || this;
      return e.owsParser_ = new hR(), e;
    }
    return t.prototype.readFromNode = function(e) {
      var i = e.getAttribute("version");
      i && (i = i.trim());
      var n = this.owsParser_.readFromNode(e);
      return n ? (n.version = i, n = Ya(n, fR, e, []), n || null) : null;
    }, t;
  }(Hx)
), yR = Ea(Ms, {
  Layer: fr(AR),
  TileMatrixSet: fr(IR)
}), vR = Ea(Ms, {
  Style: fr(PR),
  Format: fr(ca),
  TileMatrixSetLink: fr(OR),
  Dimension: fr(RR),
  ResourceURL: fr(kR)
}, Ea(md, {
  Title: Lt(ca),
  Abstract: Lt(ca),
  WGS84BoundingBox: Lt(Xx),
  Identifier: Lt(ca)
})), bR = Ea(Ms, {
  LegendURL: fr(DR)
}, Ea(md, {
  Title: Lt(ca),
  Identifier: Lt(ca)
})), xR = Ea(Ms, {
  TileMatrixSet: Lt(ca),
  TileMatrixSetLimits: Lt(zR)
}), wR = Ea(Ms, {
  TileMatrixLimits: Ig(BR)
}), SR = Ea(Ms, {
  TileMatrix: Lt(ca),
  MinTileRow: Lt(zo),
  MaxTileRow: Lt(zo),
  MinTileCol: Lt(zo),
  MaxTileCol: Lt(zo)
}), TR = Ea(Ms, {
  Default: Lt(ca),
  Value: fr(ca)
}, Ea(md, {
  Identifier: Lt(ca)
})), MR = Ea(md, {
  LowerCorner: Ig(Pg),
  UpperCorner: Ig(Pg)
}), ER = Ea(Ms, {
  WellKnownScaleSet: Lt(ca),
  TileMatrix: fr(WR)
}, Ea(md, {
  SupportedCRS: Lt(ca),
  Identifier: Lt(ca),
  BoundingBox: Lt(Xx)
})), LR = Ea(Ms, {
  TopLeftCorner: Lt(Pg),
  ScaleDenominator: Lt(DO),
  TileWidth: Lt(zo),
  TileHeight: Lt(zo),
  MatrixWidth: Lt(zo),
  MatrixHeight: Lt(zo)
}, Ea(md, {
  Identifier: Lt(ca)
}));
function CR(a, t) {
  return Ya({}, yR, a, t);
}
function AR(a, t) {
  return Ya({}, vR, a, t);
}
function IR(a, t) {
  return Ya({}, ER, a, t);
}
function PR(a, t) {
  var e = Ya({}, bR, a, t);
  if (e) {
    var i = a.getAttribute("isDefault") === "true";
    return e.isDefault = i, e;
  }
}
function OR(a, t) {
  return Ya({}, xR, a, t);
}
function RR(a, t) {
  return Ya({}, TR, a, t);
}
function kR(a, t) {
  var e = a.getAttribute("format"), i = a.getAttribute("template"), n = a.getAttribute("resourceType"), u = {};
  return e && (u.format = e), i && (u.template = i), n && (u.resourceType = n), u;
}
function Xx(a, t) {
  var e = Ya([], MR, a, t);
  if (e.length == 2)
    return ug(e);
}
function DR(a, t) {
  var e = {};
  return e.format = a.getAttribute("format"), e.href = Ty(a), e;
}
function Pg(a, t) {
  var e = ca(a).split(/\s+/);
  if (!(!e || e.length != 2)) {
    var i = +e[0], n = +e[1];
    if (!(isNaN(i) || isNaN(n)))
      return [i, n];
  }
}
function WR(a, t) {
  return Ya({}, LR, a, t);
}
function zR(a, t) {
  return Ya([], wR, a, t);
}
function BR(a, t) {
  return Ya({}, SR, a, t);
}
const NR = gR;
class qR {
  constructor(t) {
    Pi(this, "capabilitiesPromise");
    Pi(this, "serviceInfo");
    Pi(this, "layers");
    const e = new NR();
    let i = "&";
    t.indexOf("?") === -1 && (i = "?"), t.indexOf("Capabilities") === -1 && (t = t + i + "SERVICE=WMTS&REQUEST=GetCapabilities"), this.capabilitiesPromise = fetch(t).then((n) => n.text()).then((n) => {
      var _;
      const u = e.read(n);
      this.serviceInfo = this.mapServiceInfo(u.ServiceIdentification), this.layers = this.mapToRemoteLayers((_ = u.Contents) == null ? void 0 : _.Layer);
    });
  }
  mapToRemoteLayers(t) {
    return [
      {
        // root layer for flat wmts layers
        type: Ir.WMTS,
        children: t.map(
          (e) => ({
            type: Ir.WMTS,
            abstract: e.Abstract,
            format: e.Format,
            name: e.Identifier,
            title: e.Title,
            tileMatrixSetLink: e.TileMatrixSetLink,
            wgs84BoundingBox: e.WGS84BoundingBox
          })
        )
      }
    ];
  }
  mapServiceInfo(t) {
    return {
      type: Ir.WMTS,
      title: t.Title,
      abstract: t.Abstract,
      fees: t.Fees,
      constraints: t.AccessConstraints,
      serviceTypeVersion: t.ServiceTypeVersion
    };
  }
  isReady() {
    return this.capabilitiesPromise.then(() => this);
  }
  getLayerByName(t) {
    return this.layers[0].children.filter((e) => e.name === t)[0];
  }
  getLayers() {
    return this.layers;
  }
  getServiceInfo() {
    return this.serviceInfo;
  }
}
class FR {
  async getRemoteEndpoint(t) {
    let e;
    return await this.getWmsEndpoint(t).isReady().catch(async () => {
      e = await this.getWmtsEndpoint(t).isReady();
    }) || e;
  }
  getWmsEndpoint(t) {
    return new gO(this.getProxyfiedUrl(t));
  }
  getWmtsEndpoint(t) {
    return new qR(this.getProxyfiedUrl(t));
  }
  getProxyfiedUrl(t) {
    return t.indexOf("httpsproxy") > 0 ? t : Px + "?url=" + encodeURIComponent(t);
  }
  async fetchRemoteWmsEndpoint() {
    return new Promise((t) => t(AO()));
  }
  isRemoteLayer(t) {
    return typeof t == "string" && (t.indexOf(Ir.WMS) === 0 || t.indexOf(Ir.WMTS) === 0);
  }
}
const Fl = new FR();
function GR(a, t) {
  var e, i;
  return a.children && !t.children || ((e = t.children) == null ? void 0 : e.length) === 0 ? 1 : t.children && !a.children || ((i = a.children) == null ? void 0 : i.length) === 0 ? -1 : 0;
}
function Kx(a, t, e = 0) {
  const { name: i = "", type: n = Ir.WMS, children: u } = a, _ = `${n}||${t}||${i}`.split("-").join("%2D"), o = er();
  return {
    id: _,
    name: i,
    depth: e,
    children: u == null ? void 0 : u.sort(GR).map((y) => Kx(y, t, e + 1)),
    checked: o.hasLayer(_),
    expanded: !1
  };
}
function UR(a) {
  const t = decodeURIComponent(a), [e, i, n] = t.split("||");
  return Yx({
    id: t,
    url: Fl.getProxyfiedUrl(i),
    remoteLayer: { name: n, type: e }
  });
}
function Yx({
  id: a,
  url: t,
  remoteLayer: e
}) {
  const { name: i = "", type: n = Ir.WMS } = e;
  return {
    id: a,
    name: i,
    layers: i,
    url: t,
    type: n,
    imageType: Dx.PNG
    // TODO for displaying WMTS: might need to add more params here
    // wmts_params: {
    //   Format: remoteLayer.Format,
    //   TileMatrixSetLink: remoteLayer.TileMatrixSetLink,
    //   WGS84BoundingBox: remoteLayer.WGS84BoundingBox,
    // },
  };
}
const Um = "-", eg = ",";
class jR {
  constructor() {
    /**
     * Transform opacities in param as array of opacity values, for version 2 only.
     * Eg. with param '/?&layers_opacity=1,1,1' => from "1,1,1" to [1,1,1]
     */
    Pi(this, "layersOpacitiesToNumbersV2", (t) => this.layersOpacitiesToNumbers(t, eg));
  }
  layerIdsToLayers(t) {
    const e = Fo(), i = Uc();
    return (t ? t.split(Um) : []).map((u) => {
      const _ = Fl.isRemoteLayer(u) ? UR(u) : e.findById(parseInt(u, 10));
      return _ ? i.initLayer(_) : void 0;
    });
  }
  layerNamesToLayersV2(t) {
    const e = Fo(), i = Uc();
    return (t ? t.split(eg) : []).map((u) => {
      const _ = e.findByName(u);
      return _ ? i.initLayer(_) : void 0;
    });
  }
  layersOpacitiesToNumbers(t, e = Um) {
    return G6(t, e);
  }
  /**
   * Transform visibilities in param as array of visibility values, for version 2 only.
   * Eg. with param '/?&layers_visibility=true,true,false' => from "true,true,false" to [true,true,false]
   */
  layersVisibilitiesToBooleansV2(t) {
    return U6(t, eg);
  }
  layersToLayerIds(t) {
    return (t == null ? void 0 : t.map((e) => e.id).join(Um)) || "";
  }
  layersToLayerOpacities(t) {
    return (t == null ? void 0 : t.map((e) => e.opacity ?? 1).join(Um)) || "";
  }
  bgLayerNameToBgLayer(t) {
    const e = Fo();
    return t ? e.findBgLayerByName(t) : null;
  }
  bgLayerToBgLayerName(t) {
    return (t == null ? void 0 : t.name) || xh.name;
  }
}
const Hr = new jR(), VR = "basemap_2015_global", $R = "orthogr_2013_global", ZR = {
  webbasemap: "basemap_2015_global",
  "pixelmaps-color": "topogr_global",
  "pixelmaps-gray": "topo_bw_jpeg",
  streets: "streets_jpeg",
  voidlayer: "blank"
};
class HR {
  bootstrap() {
    const t = Qn();
    let e;
    e = Ho(() => {
      t.bgLayers.length > 0 && (this.restore(), this.persist(), e && e());
    });
  }
  persist() {
    const t = er(), { bgLayer: e } = Jn(t);
    Ki(
      e,
      (i, n) => {
        n !== i && da.setValue(
          Q1,
          i,
          Hr.bgLayerToBgLayerName
        );
      },
      { immediate: !0 }
    );
  }
  restore() {
    const { setMapBackground: t } = kx(), e = this.getBgLayerFromStorage();
    t(e);
  }
  getBgLayerFromStorage() {
    const t = da.getInitialVersion(), e = da.getValue(Q1);
    return e ? t === 2 ? this.getBgLayerFromStorageV2(e) : Hr.bgLayerNameToBgLayer(e) : Hr.bgLayerNameToBgLayer(VR);
  }
  getBgLayerFromStorageV2(t) {
    const e = da.getValue(
      xb,
      Oc
    );
    let i = "";
    return t ? i = ZR[t] : e === 0 && (i = $R), Hr.bgLayerNameToBgLayer(i);
  }
}
const XR = new HR(), KR = ["title"], t2 = /* @__PURE__ */ Ka({
  __name: "background-selector-item",
  props: {
    bgTitle: {
      type: String,
      default: ""
    },
    bgName: {
      type: String,
      default: ""
    }
  },
  setup(a) {
    const t = a, { t: e } = ar(), i = ki(() => {
      const u = e(t.bgTitle), _ = t.bgTitle.length > 0, o = `${e("Background layer:")} ${e(t.bgName)}`;
      return `${u}${_ ? " - " : ""}${o}`;
    }), n = ki(
      () => `h-full w-full rounded-sm lux-bg-sel-icon
        lux-bg-sel-${t.bgName}
        bg-${t.bgName}_sm
        md:bg-${t.bgName}
        hd:bg-${t.bgName}_sm_hi
        hd_md:bg-${t.bgName}_hi`
    );
    return (u, _) => (ut(), bt("button", {
      title: Oe(i),
      class: Ua(Oe(n))
    }, null, 10, KR));
  }
}), YR = { class: "flex flex-row-reverse" }, QR = /* @__PURE__ */ Ka({
  __name: "background-selector",
  props: {
    isOpen: {
      type: Boolean,
      default: !1
    }
  },
  setup(a) {
    const t = a, { t: e } = ar(), i = kx(), n = er(), u = Qn(), { bgLayer: _ } = Jn(n);
    XR.bootstrap();
    const o = cn(t.isOpen), y = cn([]), b = ki(
      () => {
        var R;
        return ((R = _.value) == null ? void 0 : R.id) ?? i.getNullId();
      }
    ), S = ki(
      () => {
        var R, D;
        return (D = (R = y.value) == null ? void 0 : R.find((j) => j.id === b.value)) == null ? void 0 : D.name;
      }
    );
    Ki(
      () => u.bgLayers,
      (R) => {
        y.value = Hl().bg_layers.map(
          (D) => Object.assign(
            {
              id: D.id
            },
            R.find((j) => D.id == j.id),
            {
              name: D.icon_id
            }
          )
        );
      },
      { immediate: !0 }
    ), Ki(
      () => n.bgLayer,
      (R, D) => {
        const j = n.layers;
        D === void 0 && R === null && (j == null ? void 0 : j.length) === 0 && (i.setBgLayer(i.defaultSelectedBgId.value), R === null && console.log(
          e(
            "Aucune couche n'√©tant d√©finie pour cette carte, une couche de fond a automatiquement √©t√© ajout√©e.",
            { ns: "client" }
          )
        ));
      }
    );
    function T(R) {
      i.setBgLayer(R.id), o.value = !1;
    }
    function L() {
      o.value = !o.value;
    }
    return (R, D) => (ut(), bt("div", YR, [
      Ge("div", {
        class: Ua(["lux-bg-sel border border-black", o.value === !0 ? "hidden" : "block"])
      }, [
        ta(t2, {
          "aria-expanded": o.value,
          "bg-title": "Select BG layer",
          "bg-name": Oe(S),
          onClick: L
        }, null, 8, ["aria-expanded", "bg-name"])
      ], 2),
      Ge("div", {
        class: Ua(o.value === !0 ? "flex flex-col md:flex-row" : "hidden")
      }, [
        (ut(!0), bt(Or, null, Qs(y.value, (j) => (ut(), bt("div", {
          key: j.id,
          class: Ua([
            "lux-bg-sel hover:bg-cyan-600",
            j.id === Oe(b) ? "border-red-500 border-2" : "border-black border"
          ])
        }, [
          ta(t2, {
            "bg-name": j.name,
            onClick: (Q) => T(j)
          }, null, 8, ["bg-name", "onClick"])
        ], 2))), 128))
      ], 2)
    ]));
  }
}), JR = {
  class: "absolute right-0 top-52 z-50 bg-white lux-modal w-[600px]",
  role: "dialog"
}, ek = { class: "lux-modal-header" }, tk = { class: "p-[15px]" }, ak = { class: "relative text-center" }, ik = ["placeholder", "value"], nk = {
  key: 0,
  class: "text-center"
}, rk = { class: "lux-label" }, sk = {
  key: 1,
  class: "text-center"
}, ok = { class: "lux-label" }, lk = {
  key: 2,
  class: "text-center"
}, uk = /* @__PURE__ */ Ge("div", { class: "fa fa-refresh fa-spin" }, null, -1), dk = {
  key: 3,
  class: "overflow-auto max-h-[calc(400px-36px)]"
}, ck = /* @__PURE__ */ Ka({
  __name: "remote-layers",
  setup(a) {
    const { t } = ar(), e = er(), i = Uc(), n = Fn([]), u = Fn();
    let _ = !1, o, y, b;
    Ho(S);
    function S() {
      u.value = u.value ? Rc.updateLayers(
        u.value,
        e.layers
      ) : void 0;
    }
    Fl.fetchRemoteWmsEndpoint().then((J) => {
      n.value = J.map(({ url: _e, label: ce }) => ({
        label: ce,
        value: _e
      }));
    });
    async function T(J) {
      _ = !0, b = await Fl.getRemoteEndpoint(J).catch(() => alert(t("Impossible de contacter ce WMS", { ns: "client" }))), y = J, _ = !1;
    }
    async function L() {
      const J = b, _e = J == null ? void 0 : J.getLayers();
      if (_e && _e[0]) {
        const ce = Kx(
          _e[0],
          y
        );
        u.value = Rc.updateLayers(ce, e.layers);
      }
    }
    async function R(J) {
      y = o = J, await T(y), L();
    }
    function D(J) {
      o = J.target.value;
    }
    async function j() {
      await T(o), L();
    }
    function Q(J) {
      u.value = Rc.toggleNode(
        J.id,
        u.value,
        "expanded"
      );
    }
    function ie(J) {
      const { id: _e, name: ce } = J, we = b;
      if (J.checked === !0)
        e.removeLayers(_e);
      else {
        const Be = we == null ? void 0 : we.getLayerByName(ce);
        if (Be) {
          const Ee = i.initLayer(
            Yx({
              id: _e,
              url: Fl.getProxyfiedUrl(y),
              remoteLayer: Be
            })
          );
          e.addLayers(Ee);
        }
      }
    }
    return (J, _e) => {
      var ce, we;
      return ut(), bt("div", JR, [
        Ge("div", ek, [
          Ge("h4", null, Ft(Oe(t)("Add external data", { ns: "client" })), 1)
        ]),
        Ge("div", tk, [
          Ge("div", ak, [
            ta(ib, {
              options: Oe(n),
              placeholder: Oe(t)("Predefined wms", { ns: "client" }),
              onChange: R
            }, null, 8, ["options", "placeholder"]),
            Ge("input", {
              class: "lux-input w-[300px]",
              type: "url",
              placeholder: Oe(t)("Choose or write a WMS url", {
                ns: "client"
              }),
              value: Oe(y) || "",
              onChange: D
            }, null, 40, ik),
            Ge("button", {
              type: "button",
              class: "lux-btn",
              onClick: j
            }, Ft(Oe(t)("Get the layers", { ns: "client" })), 1)
          ]),
          !Oe(_) && Oe(b) ? (ut(), bt("div", nk, [
            Ge("span", rk, Ft(Oe(t)("Description du service :", {
              ns: "client"
            })), 1),
            K0(" " + Ft((ce = Oe(b).getServiceInfo()) == null ? void 0 : ce.abstract), 1)
          ])) : ua("", !0),
          !Oe(_) && Oe(b) ? (ut(), bt("div", sk, [
            Ge("span", ok, Ft(Oe(t)("Access constraints :", {
              ns: "client"
            })), 1),
            K0(" " + Ft((we = Oe(b).getServiceInfo()) == null ? void 0 : we.constraints), 1)
          ])) : ua("", !0),
          Oe(_) ? (ut(), bt("div", lk, [
            uk,
            Ge("span", null, Ft(Oe(t)("Chargement des informations", {
              ns: "client"
            })), 1)
          ])) : ua("", !0),
          Oe(_) ? ua("", !0) : (ut(), bt("div", dk, [
            Oe(u) ? (ut(), Xr(Cb, {
              key: 0,
              class: "block p-[10px] mb-[11px]",
              node: Oe(u),
              onToggleParent: Q,
              onToggleLayer: ie
            }, null, 8, ["node"])) : ua("", !0)
          ]))
        ])
      ]);
    };
  }
});
function _k(a, t = "fr-FR") {
  const e = new Date(a);
  return new Intl.DateTimeFormat(t).format(e);
}
const mk = { class: "font-bold" }, hk = { class: "col-span-2" }, pc = /* @__PURE__ */ Ka({
  __name: "layer-metadata-item",
  props: {
    label: null,
    value: null
  },
  setup(a) {
    const t = a;
    return (e, i) => (ut(), bt(Or, null, [
      Ge("span", mk, Ft(t.label), 1),
      Ge("span", hk, Ft(t.value), 1)
    ], 64));
  }
});
function pk(a) {
  return {
    fr: "fre",
    en: "eng",
    de: "ger",
    lb: "ltz"
  }[a.toLowerCase()];
}
function fk(a) {
  return new DOMParser().parseFromString(a, "text/html").body;
}
function gk(a) {
  const t = [];
  function e(i) {
    const n = i.split("|");
    n[3] === "WWW:LINK-1.0-http--link" && t.indexOf(n[2]) === -1 && t.push(n[2]);
  }
  return Array.isArray(a) ? a.forEach(e, a) : e(a), t;
}
function yk(a) {
  const e = (Array.isArray(a) ? a : [a]).filter((i) => i.split("|")[1] === "metadata");
  return {
    organisaton: e[0].split("|")[2],
    name: e[0].split("|")[5],
    unknown: e[0].split("|")[6],
    address: e[0].split("|")[7],
    email: e[0].split("|")[4]
  };
}
class Qx {
}
class vk extends Qx {
  async getMetadata(t, e, i) {
    console.assert(t === Ir.WMS);
    const n = Fl.getWmsEndpoint(e);
    await n.isReady();
    const u = n == null ? void 0 : n.getServiceInfo(), _ = n == null ? void 0 : n.getLayerByName(i);
    return {
      title: _.title,
      description: _.abstract,
      keywords: u.keywords,
      accessConstraints: u.constraints,
      serviceDescription: u.abstract
      /* The following attributes are present in production,
       ** but no services could be found so far that filled them with values in production
       ** values are not provided by ogc-client, and would need old code => can be ignored?
       */
      // pocs: undefined,
      // revisionDate: '',
      // language: undefined,
      // onlineResource: undefined,
    };
  }
}
const bk = new vk();
class xk extends Qx {
  async getMetadata(t, e, i) {
    console.assert(t === Ir.WMTS);
    const n = Fl.getWmtsEndpoint(e);
    await n.isReady();
    const u = n == null ? void 0 : n.getServiceInfo(), _ = n == null ? void 0 : n.getLayerByName(i);
    return {
      title: _.title,
      description: _.abstract,
      accessConstraints: u.constraints,
      serviceDescription: u.abstract
    };
  }
}
const wk = new xk();
class Sk {
  async getMetadata(t, e, i) {
    if (t === Ir.WMS)
      return bk.getMetadata(t, e, i);
    if (t === Ir.WMTS)
      return wk.getMetadata(t, e, i);
    throw new Error(`Unsupported service type: ${t}`);
  }
}
const Tk = new Sk();
class Mk {
  constructor() {
    // TODO: get urls from a config
    Pi(this, "geonetworkBaseUrl", "https://geocatalogue.geoportail.lu/geonetwork/srv");
    Pi(this, "legendBaseUrl", "https://map.geoportail.lu/legends/get_html");
    // TODO: get from config or relative
    Pi(this, "localMetadataBaseUrl", "https://map.geoportail.lu/getMetadata");
  }
  async getLayerMetadata(t, e) {
    const i = Fo().findBgLayerById(+t) || Fo().findById(+t);
    if (i) {
      const n = i.metadata, u = n == null ? void 0 : n.metadata_id, _ = u && await this.getLocalMetadata(
        this.localMetadataBaseUrl,
        u,
        e
      ), o = i.name, y = (n == null ? void 0 : n.legend_name) || "", b = i == null ? void 0 : i.id, S = y && await this.getLegendHtml(
        this.legendBaseUrl,
        y,
        b,
        e
      );
      return {
        ..._,
        title: o,
        hasLegend: !!S,
        ...S && { legendHtml: S }
      };
    } else {
      const [n, u, _] = String(t).split("%2D").join("-").split("||");
      return Tk.getMetadata(
        n,
        u,
        _
      );
    }
  }
  getLocalMetadata(t, e, i) {
    return fetch(`${t}?lang=${i}&uid=${e}`).then(async (n) => {
      const u = (await n.json()).metadata;
      return {
        name: u.title,
        serviceDescription: u.serviceDescription,
        description: u.abstract,
        legalConstraints: u.legalConstraints,
        link: gk(u.link),
        revisionDate: u.revisionDate,
        keyword: u.keyword,
        responsibleParty: u.responsibleParty ? yk(u.responsibleParty) : void 0,
        metadataLink: `${this.geonetworkBaseUrl}/${pk(
          i
        )}/catalog.search#/metadata/${e}`,
        isError: !1
      };
    }).catch(() => ({ isError: !0 }));
  }
  getLegendHtml(t, e, i, n) {
    const u = {
      lang: n,
      ...e && { name: e },
      ...i && { id: i.toString() }
    };
    if (u.name && u.lang) {
      window.devicePixelRatio > 1 && (u.dpi = (window.devicePixelRatio * 96).toString());
      const _ = `${t}?${new URLSearchParams(
        u
      ).toString()}`;
      return fetch(_).then(async (o) => {
        if (o.status >= 400 && o.status < 600)
          throw new Error("Server responded with error code");
        const y = await o.text();
        return y ? fk(y) : void 0;
      }).catch(() => {
      });
    }
  }
}
const a2 = new Mk(), Ek = {
  key: 0,
  class: "fixed right-32 top-32 z-[100] bg-white lux-modal w-[600px] p-3",
  role: "dialog"
}, Lk = { class: "lux-modal-header flex flex-row justify-between" }, Ck = { class: "grid gap-2 grid-cols-3 pt-3 text-[13px] font-arial break-words" }, Ak = {
  key: 2,
  class: "col-span-3 grid gap-2 grid-cols-3"
}, Ik = { class: "font-bold" }, Pk = { class: "col-span-2" }, Ok = ["title"], Rk = ["title"], kk = {
  key: 4,
  class: "col-span-3"
}, Dk = { class: "font-bold" }, Wk = { class: "col-span-2" }, zk = ["href"], Bk = {
  key: 7,
  class: "col-span-3 grid gap-2 grid-cols-3"
}, Nk = { class: "font-bold" }, qk = { class: "col-span-2" }, Fk = { key: 0 }, Gk = { key: 1 }, Uk = { key: 2 }, jk = { key: 3 }, Vk = { key: 4 }, $k = ["href"], Zk = {
  key: 8,
  class: "grid gap-2 grid-cols-3 col-span-3"
}, Hk = { class: "font-bold" }, Xk = { class: "col-span-2" }, Kk = ["href"], Yk = {
  key: 9,
  class: "col-span-3"
}, Qk = { key: 10 }, Jk = { class: "text-xl" }, eD = {
  key: 11,
  class: "col-span-3"
}, tD = /* @__PURE__ */ Ka({
  __name: "layer-metadata",
  setup(a) {
    const t = ay(), { metadataId: e } = Jn(t), { t: i, i18next: n } = ar(), u = cn(), _ = cn(!0), o = 220;
    Ki(e, async (L) => {
      var R, D;
      u.value = L ? await a2.getLayerMetadata(L, n.language) : void 0, _.value = (((D = (R = u.value) == null ? void 0 : R.description) == null ? void 0 : D.length) || "") < o;
    }), Uh(() => {
      n.on("languageChanged", async () => {
        e.value && (u.value = await a2.getLayerMetadata(
          e.value,
          n.language
        ));
      });
    });
    const y = ki(
      () => {
        var L, R, D;
        return _.value ? (L = u.value) == null ? void 0 : L.description : (D = (R = u.value) == null ? void 0 : R.description) == null ? void 0 : D.slice(0, o);
      }
    );
    function b() {
      _.value = !0;
    }
    function S() {
      _.value = !1;
    }
    function T() {
      t.clearMetadataId();
    }
    return (L, R) => {
      var j, Q, ie, J, _e, ce, we, Be, Ee, Fe, We, ke, Ze, ft, St;
      const D = aS("dompurify-html");
      return u.value ? (ut(), bt("div", Ek, [
        Ge("div", Lk, [
          Ge("h1", null, Ft(Oe(i)(`${u.value.title}`)), 1),
          Ge("button", { onClick: T }, "X")
        ]),
        Ge("div", Ck, [
          u.value.name ? (ut(), Xr(pc, {
            key: 0,
            label: Oe(i)("Name"),
            value: u.value.name
          }, null, 8, ["label", "value"])) : ua("", !0),
          u.value.serviceDescription ? (ut(), Xr(pc, {
            key: 1,
            label: Oe(i)("Description du Service"),
            value: u.value.serviceDescription
          }, null, 8, ["label", "value"])) : ua("", !0),
          u.value.description ? (ut(), bt("div", Ak, [
            Ge("span", Ik, Ft(Oe(i)("Description")), 1),
            Ge("span", Pk, [
              Y0(Ge("span", null, null, 512), [
                [D, Oe(y)]
              ]),
              _.value ? ua("", !0) : (ut(), bt("button", {
                key: 0,
                title: Oe(i)("Display full description", {
                  ns: "client"
                }),
                onClick: b,
                class: "text-secondary hover:underline"
              }, " ... ", 8, Ok)),
              _.value && (((j = Oe(y)) == null ? void 0 : j.length) || "") > o ? (ut(), bt("button", {
                key: 1,
                title: Oe(i)("Hide full description", {
                  ns: "client"
                }),
                onClick: S,
                class: "text-secondary hover:underline"
              }, " - ", 8, Rk)) : ua("", !0)
            ])
          ])) : ua("", !0),
          u.value.legalConstraints ? (ut(), Xr(pc, {
            key: 3,
            label: Oe(i)("Contrainte d'utilisation"),
            value: u.value.legalConstraints
          }, null, 8, ["label", "value"])) : ua("", !0),
          ((Q = u.value.link) == null ? void 0 : Q.length) !== 0 ? (ut(), bt("div", kk, [
            (ut(!0), bt(Or, null, Qs(u.value.link, (ye) => (ut(), bt("div", {
              class: "grid gap-2 grid-cols-3",
              key: ye
            }, [
              Ge("span", Dk, Ft(Oe(i)("Url vers la resource")), 1),
              Ge("span", Wk, [
                Ge("a", {
                  class: "text-secondary hover:underline",
                  target: "_blank",
                  href: ye
                }, Ft(ye), 9, zk)
              ])
            ]))), 128))
          ])) : ua("", !0),
          u.value.revisionDate ? (ut(), Xr(pc, {
            key: 5,
            label: Oe(i)("Revision date"),
            value: Oe(_k)(u.value.revisionDate, Oe(n).language)
          }, null, 8, ["label", "value"])) : ua("", !0),
          u.value.keyword ? (ut(), Xr(pc, {
            key: 6,
            label: Oe(i)("Keywords"),
            value: (ie = u.value.keyword) == null ? void 0 : ie.join(",")
          }, null, 8, ["label", "value"])) : ua("", !0),
          u.value.responsibleParty ? (ut(), bt("div", Bk, [
            Ge("span", Nk, Ft(Oe(i)("Contact")), 1),
            Ge("span", qk, [
              (J = u.value.responsibleParty) != null && J.organisaton ? (ut(), bt("p", Fk, Ft((_e = u.value.responsibleParty) == null ? void 0 : _e.organisaton), 1)) : ua("", !0),
              (ce = u.value.responsibleParty) != null && ce.name ? (ut(), bt("p", Gk, Ft((we = u.value.responsibleParty) == null ? void 0 : we.name), 1)) : ua("", !0),
              (Be = u.value.responsibleParty) != null && Be.unknown ? (ut(), bt("p", Uk, Ft((Ee = u.value.responsibleParty) == null ? void 0 : Ee.unknown), 1)) : ua("", !0),
              (Fe = u.value.responsibleParty) != null && Fe.address ? (ut(), bt("p", jk, Ft((We = u.value.responsibleParty) == null ? void 0 : We.address), 1)) : ua("", !0),
              (ke = u.value.responsibleParty) != null && ke.email ? (ut(), bt("p", Vk, [
                Ge("a", {
                  class: "text-secondary hover:underline",
                  href: "mailto:" + ((Ze = u.value.responsibleParty) == null ? void 0 : Ze.email)
                }, Ft((ft = u.value.responsibleParty) == null ? void 0 : ft.email), 9, $k)
              ])) : ua("", !0)
            ])
          ])) : ua("", !0),
          u.value.metadataLink ? (ut(), bt("div", Zk, [
            Ge("span", Hk, Ft(Oe(i)("Link to the metadata")), 1),
            Ge("span", Xk, [
              Ge("a", {
                class: "text-secondary hover:underline",
                target: "_blank",
                href: u.value.metadataLink
              }, Ft(Oe(i)("link")), 9, Kk)
            ])
          ])) : ua("", !0),
          u.value.isError ? (ut(), bt("div", Yk, Ft(Oe(i)("The metadata is right now not available")), 1)) : ua("", !0),
          u.value.legendHtml ? (ut(), bt("div", Qk, [
            Ge("h4", Jk, Ft(Oe(i)("Legend")), 1),
            Y0(Ge("span", null, null, 512), [
              [D, (St = u.value.legendHtml) == null ? void 0 : St.innerHTML]
            ])
          ])) : ua("", !0),
          u.value.hasLegend ? ua("", !0) : (ut(), bt("div", eD, Ft(Oe(i)("The legend is not available for this layer")), 1))
        ])
      ])) : ua("", !0);
    };
  }
}), aD = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAAAoCAMAAABq645qAAACPVBMVEUAAABaW13////tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy5DjxTaAAAAvXRSTlMAAAABAgMEBQYHCAkKCwwNDg8QERESFBUWFxkaGx0eHyAhIiInKSosMTIzNTY5Ojs8PUFCQ0RERkpMTk9QU1RVVldaXmFjZWZmamtwcXJzdXd3eHl7fX+AgYKDhIaHiIiKi4yOj5CTlJWWl5iZmZqcnZ+goaKjpKanqKqqq6ywsbK0tbW4u7u8vb6/wMHExcbHysvMzM7P0NDS1NXa29zd3t/g4eTl5ujp6uvs7e7u8PLz9PX29/j5+vv8/f5cALqzAAAEcklEQVRo3u3Z+ZPUVBAH8O63LsLKijoIgotHFI+HgiKNeGC8MCqgUUFAJYjgAQ6HKMgGEQQiqChIPFh1iciiwPIEhvv49t/mD5lBORa2tHbLTO2rmqnUTCrJZ3r65ZuEjDHGGLrMWGcKMah7mh/7NP8PzXBqbqgfzdtPb7i/fjQPvq8r5jUVXNNIY4moYeL6+XNfn9Ov6LUZ2/Z7Pxo3YaZWTp/uLPw/reXYbqLRPz/38g+qJ/oTEV396IzmgmquXHZoIRHd/sTs31T1DqIBcyqHZjQWtTbf6nQiokHLVVWn7ju4euXGjsX9LtTAGgPAGGMzOPZSOGFYtmAXsO8skFkgZovQgi2QcZKyIGAAjJQtIgAB/5vRTc2IvbqSqOWNJQdUVdfe+/zitmsu2jeQ/GWMC43HacRhxhAWcJRyEgmYBSVYgROwgJkzeGVEDGEGotqnPaih1Xp63KSvVFVVtz0wt23AvMVda5AZY2FM7OWO/N2DwBMgESBiQZyABUgYSYQkYSBjhAh7QXN3Zfey7YdyzXh6aQpdu2fIpWsD30CykKOU4XPgmBPEnNcmC1jgIT9uCx9ZkOW1kQi9oBm6aMvO3KIVomUPES19/KIaoNo34uA8cUgtB4DzmQXCFoCFhbXgMtgC8DNGKMj7xnIKtj2toeGf55X5c9+ZRpo1lWjyq5c/33Avj+5obpz25miiwd+p6q4/2jfvIrqtrYlemF5MzZObTuhHCw6cUd2y/91ftj5DRJOn0JKniqm56jPtUNXDx44u6NywvaPzPqL+G5v3jCimhhqaX/vyi6VTxtzyYkVV9dSsRvrmnVXUI5oo7GkNEV2RH/igaRVV1Y8fOdE+tEc0tlzqBU1tND+7U1W18t51F8/QAFJrkUccL4VjABFb+MwoMyznszWzBZxfDT2SIbZgm0/TzBbIpLqcr8GwScJxfF4UiliAgGEZ1gKx8VK4bmuafmpdrqr6cFdXBJBSORPkp9A0ZI8hAi4jYQY8CEN8MDML2K/FBBdwKU80kOp3eSBirq7BkJJLstK5UShw+eYhDBGUYNPQeN3WTND2rd+r6oquNUZQ00A49gCEJQg8RhJD8j0DQX6IEBZYMLMAAANZrpHa8lkNBwjOi0Ion90KRIDIQEzsdVfzlurhT1X11F2XqE3qwfNQMiYLGYIYNgAQMcTltXHV3z9w1dAD/8LapH/XJt9eycWudG4U8lGrjYeSIAtMFlaD1SU1NxAR0cA9qrpqr6ruaOmybxLPREBojLEOzoMNkAXsO4YNYRnIpNo3WS30+EByXt+kttY3AEdAyGmZ4/TcKORCDgDhEAg5D0wO7vK1mbmwhajxA9XWkXTTh8dVj6wZX9gr6ZFL9eTm1nbVhUREdOs2Vb25sJqmRTuOq+r+rwfmgGEHVYcU+H7a8KNrdP6kYTXBJ6qPFVjT2DxwzD/msbWqE+vnrvqvevSeutGMUm0dXC+ahk3asb5unt+8cvLIqOvr52nU7Dv7nq31afo0/0mzrhiavwAx1n2SsZnMdgAAAABJRU5ErkJggg==", ws = Hc(
  "app",
  () => {
    const a = cn("fr"), t = cn();
    function e(n) {
      a.value = n;
    }
    function i(n) {
      t.value = n;
    }
    return { lang: a, layersOpen: t, setLang: e, setLayersOpen: i };
  },
  {}
);
class iD {
  bootstrap() {
    this.restore();
    let t;
    t = Ho(() => {
      this.persist(), t && t();
    });
  }
  persist() {
    const t = ws(), { lang: e } = Jn(t);
    Ki(
      e,
      (i, n) => {
        n !== i && (da.setValue(No, i), document.documentElement.setAttribute("lang", i));
      },
      { immediate: !0 }
    );
  }
  restore() {
    const t = da.getValue(No);
    if (t) {
      const { setLang: e } = ws(), { i18next: i } = ar();
      i.changeLanguage(t), e(t);
    }
  }
}
const nD = new iD(), rD = /* @__PURE__ */ Ka({
  __name: "language-selector",
  setup(a) {
    const { i18next: t, t: e } = ar(), { setLang: i } = ws(), { lang: n } = Jn(ws()), u = ki(
      () => ["en", "de", "fr", "lb"].map((y) => ({
        label: e(y),
        value: y,
        ariaLabel: e("Changer de langue : {{lang}}", { lang: y })
      }))
    ), _ = e("Changer de langue");
    nD.bootstrap();
    function o(y) {
      t.changeLanguage(y), i(y);
    }
    return (y, b) => (ut(), bt("div", null, [
      ta(ib, {
        class: "lux-navbar-dropdown lux-dropdown-inline text-white h-full",
        options: Oe(u),
        placeholder: Oe(_),
        modelValue: Oe(n),
        "onUpdate:modelValue": b[0] || (b[0] = (S) => Gl(n) ? n.value = S : null),
        onChange: o
      }, null, 8, ["options", "placeholder", "modelValue"])
    ]));
  }
});
class sD {
  setCurrentThemeColors(t) {
    const e = document.querySelector(":root");
    ["primary", "secondary", "tertiary"].forEach((n) => {
      const u = getComputedStyle(e).getPropertyValue(
        `--${t}-${n}`
      );
      e.style.setProperty(`--color-${n}`, u);
    });
  }
}
const oD = new sD(), lD = { class: "w-full h-14 flex bg-white shadow-header z-10 shrink-0" }, uD = /* @__PURE__ */ Ge("div", { class: "flex-2 p-[5px]" }, [
  /* @__PURE__ */ Ge("img", { src: aD })
], -1), dD = /* @__PURE__ */ Ge("div", { class: "grow text-center" }, "search", -1), cD = { class: "h-full flex" }, _D = { class: "hidden lg:inline-block" }, mD = { class: "border-l-[1px] border-stone-300 h-full" }, hD = /* @__PURE__ */ Ka({
  __name: "header-bar",
  setup(a) {
    const { t } = ar(), e = ws(), { layersOpen: i } = Jn(e), { setLayersOpen: n } = e, u = Qn(), { theme: _ } = Jn(u);
    return Ki(
      _,
      (o) => {
        o && oD.setCurrentThemeColors(o.name);
      },
      { immediate: !0 }
    ), (o, y) => {
      var b, S;
      return ut(), bt("header", lD, [
        uD,
        dD,
        Ge("div", null, [
          Ge("ul", cD, [
            Ge("li", null, [
              Ge("button", {
                class: Ua(["flex items-center before:font-icons before:text-3xl before:w-16 text-primary uppercase h-full mr-3", `before:content-${(b = Oe(_)) == null ? void 0 : b.name}`]),
                onClick: y[0] || (y[0] = () => Oe(n)(!Oe(i)))
              }, [
                Ge("span", _D, Ft(Oe(t)(`${(S = Oe(_)) == null ? void 0 : S.name}`)), 1)
              ], 2)
            ]),
            Ge("li", mD, [
              ta(rD, { class: "flex-none h-full" })
            ])
          ])
        ])
      ]);
    };
  }
}), pD = { class: "h-[42px] w-full sm:h-full sm:w-16 hover:text-white hover:bg-primary" }, fD = { class: "block text-[13px] sm:text-base uppercase" }, Us = /* @__PURE__ */ Ka({
  __name: "button-icon",
  props: {
    label: null,
    icon: null
  },
  setup(a) {
    const t = a;
    return (e, i) => (ut(), bt("button", pD, [
      Ge("span", {
        class: Ua(["block text-[1.7rem] sm:text-[2rem] -mt-1.5 -mb-3 after:font-icons", `after:content-${t.icon}`])
      }, null, 2),
      Ge("span", fD, Ft(t.label), 1)
    ]));
  }
}), gD = ["href"], Mo = /* @__PURE__ */ Ka({
  __name: "button-link",
  props: {
    label: null,
    link: null
  },
  setup(a) {
    const t = a;
    return (e, i) => (ut(), bt("a", {
      class: "h-full flex flex-col justify-center px-[7px] uppercase hover:text-white hover:bg-primary",
      href: `${t.link}`,
      target: "_blank"
    }, Ft(e.$props.label), 9, gD));
  }
}), yD = { class: "flex flex-col w-12 justify-between bg-white z-5 shrink-0 sm:flex-row sm:w-full sm:h-14 sm:shadow-footer" }, vD = { class: "flex flex-col w-full sm:w-80 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400" }, bD = { class: "flex flex-col w-12 sm:w-64 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400" }, xD = { class: "w-[466px] hidden sm:flex flex-row justify-end text-gray-500 whitespace-nowrap" }, wD = /* @__PURE__ */ Ka({
  __name: "footer-bar",
  setup(a) {
    const { t, i18next: e } = ar(), { setLayersOpen: i } = ws();
    return (n, u) => (ut(), bt("footer", yD, [
      Ge("ul", vD, [
        Ge("li", null, [
          ta(Us, {
            label: Oe(t)("Layers", { ns: "client" }),
            icon: "layers",
            onClick: u[0] || (u[0] = () => Oe(i)(!0))
          }, null, 8, ["label"])
        ]),
        Ge("li", null, [
          ta(Us, {
            class: "text-gray-300",
            label: Oe(t)("My Maps", { ns: "client" }),
            icon: "mymaps"
          }, null, 8, ["label"])
        ]),
        Ge("li", null, [
          ta(Us, {
            class: "text-gray-300",
            label: Oe(t)("Infos", { ns: "client" }),
            icon: "infos"
          }, null, 8, ["label"])
        ]),
        Ge("li", null, [
          ta(Us, {
            class: "text-gray-300",
            label: Oe(t)("Legends", { ns: "client" }),
            icon: "legends"
          }, null, 8, ["label"])
        ]),
        Ge("li", null, [
          ta(Us, {
            class: "text-gray-300",
            label: Oe(t)("Routing", { ns: "client" }),
            icon: "routing"
          }, null, 8, ["label"])
        ])
      ]),
      Ge("div", bD, [
        ta(Us, {
          class: "text-gray-300",
          label: Oe(t)("Dessin", { ns: "client" }),
          icon: "draw"
        }, null, 8, ["label"]),
        ta(Us, {
          class: "text-gray-300 hidden sm:block",
          label: Oe(t)("Mesurer", { ns: "client" }),
          icon: "measure"
        }, null, 8, ["label"]),
        ta(Us, {
          class: "text-gray-300 hidden sm:block",
          label: Oe(t)("Imprimer", { ns: "client" }),
          icon: "print"
        }, null, 8, ["label"]),
        ta(Us, {
          class: "text-gray-300",
          label: Oe(t)("Partager", { ns: "client" }),
          icon: "share"
        }, null, 8, ["label"])
      ]),
      Ge("div", xD, [
        ta(Mo, {
          class: "hidden lg:flex",
          label: Oe(t)("What's new", { ns: "client" }),
          link: `https://geoportail.lu/${Oe(e).language}/questions/whats-new/`
        }, null, 8, ["label", "link"]),
        ta(Mo, {
          class: "hidden lg:flex",
          label: Oe(t)("Geocatalogue", { ns: "client" }),
          link: ""
        }, null, 8, ["label"]),
        ta(Mo, {
          class: "hidden lg:flex",
          label: Oe(t)("Feedback", { ns: "client" }),
          link: ""
        }, null, 8, ["label"]),
        ta(Mo, {
          class: "hidden lg:flex",
          label: Oe(t)("A Propos", { ns: "client" }),
          link: `https://www.geoportail.lu/${Oe(e).language}/propos/`
        }, null, 8, ["label", "link"]),
        ta(Mo, {
          class: "hidden lg:flex",
          label: Oe(t)("Aide", { ns: "client" }),
          link: `https://www.geoportail.lu/${Oe(e).language}/documentation/`
        }, null, 8, ["label", "link"]),
        ta(Mo, {
          class: "hidden lg:flex",
          label: Oe(t)("Contact", { ns: "client" }),
          link: `https://www.geoportail.lu/${Oe(e).language}/propos/contactez-nous/`
        }, null, 8, ["label", "link"]),
        ta(Mo, {
          label: Oe(t)("Legalites", { ns: "client" }),
          link: `https://www.geoportail.lu/${Oe(e).language}/propos/mentions-legales/`
        }, null, 8, ["label", "link"]),
        ta(Mo, {
          label: Oe(t)("ACT", { ns: "client" }),
          link: "http://www.act.public.lu/"
        }, null, 8, ["label", "link"])
      ])
    ]));
  }
}), SD = { class: "pt-5" }, TD = /* @__PURE__ */ Ka({
  __name: "catalog-tab",
  setup(a) {
    const t = Fn(!1);
    function e(i) {
      t.value = i;
    }
    return (i, n) => (ut(), bt(Or, null, [
      ta(SL, { onToggleThemesGrid: e }),
      Ge("div", SD, [
        Oe(t) === !1 ? (ut(), Xr(cL, {
          key: 0,
          class: "pt-5 absolute inset-x-2.5 bg-primary overflow-y-auto overflow-x-hidden"
        })) : ua("", !0)
      ])
    ], 64));
  }
}), MD = { class: "flex flex-col h-full" }, ED = { class: "h-20 shrink-0 flex justify-between lux-panel-title" }, LD = ["aria-label"], CD = { class: "flex flex-row gap-2 h-10 text-2xl" }, AD = { class: "relative grow p-2.5 bg-primary overflow-auto" }, ID = /* @__PURE__ */ Ka({
  __name: "layer-panel",
  setup(a) {
    const { t } = ar(), e = cn(!0), { setLayersOpen: i } = ws();
    return (n, u) => (ut(), bt("div", MD, [
      Ge("div", ED, [
        Ge("span", null, Ft(Oe(t)("Layers", { ns: "client" })), 1),
        Ge("span", null, [
          Ge("button", {
            onClick: u[0] || (u[0] = () => Oe(i)(!1)),
            "aria-label": Oe(t)("Close", { ns: "client" }),
            class: "fa-sharp fa-solid fa-close"
          }, null, 8, LD)
        ])
      ]),
      Ge("div", CD, [
        Ge("button", {
          onClick: u[1] || (u[1] = () => e.value = !0),
          class: Ua(["text-white basis-1/2 hover:bg-primary cursor-pointer text-center uppercase", e.value ? "bg-primary" : "bg-tertiary"])
        }, Ft(Oe(t)("my_layers", { ns: "client" })), 3),
        Ge("button", {
          onClick: u[2] || (u[2] = (_) => e.value = !1),
          class: Ua(["text-white basis-1/2 hover:bg-primary cursor-pointer text-center uppercase", e.value ? "bg-tertiary" : "bg-primary"])
        }, Ft(Oe(t)("Catalog", { ns: "client" })), 3)
      ]),
      Ge("div", AD, [
        e.value ? ua("", !0) : (ut(), Xr(TD, { key: 0 })),
        e.value ? (ut(), Xr(g9, { key: 1 })) : ua("", !0)
      ]),
      ta(ck),
      ta(tD)
    ]));
  }
});
class PD {
  bootstrap() {
    const t = Qn();
    let e;
    e = Ho(() => {
      t.themes && (this.restore(), this.persist(), e && e());
    });
  }
  persist() {
    const t = er(), { layers: e } = Jn(t);
    Ki(
      e,
      (i, n) => {
        n !== i && (da.setValue(
          Y1,
          i,
          Hr.layersToLayerIds
        ), da.setValue(
          J1,
          i,
          Hr.layersToLayerOpacities
        ));
      },
      { immediate: !0 }
    );
  }
  restore() {
    const t = da.getInitialVersion(), e = er(), i = da.getValue(
      Y1,
      t === 2 ? Hr.layerNamesToLayersV2 : Hr.layerIdsToLayers
    ), n = t === 2 ? this.getOpacitiesFromStorageV2() : this.getOpacitiesFromStorage();
    n && (i == null || i.forEach((u, _) => {
      u && (u.opacity = n[_] ?? 1);
    })), t === 2 && (da.removeItem(xb), da.removeItem(V6), da.removeItem(iv), da.removeItem(nv)), e.addLayers(...(i == null ? void 0 : i.filter((u) => u)) || []);
  }
  getOpacitiesFromStorage() {
    return da.getValue(
      J1,
      Hr.layersOpacitiesToNumbers
    );
  }
  getOpacitiesFromStorageV2() {
    const t = da.getValue(
      iv,
      Hr.layersOpacitiesToNumbersV2
    ), e = da.getValue(
      nv,
      Hr.layersVisibilitiesToBooleansV2
    );
    return t.map((i, n) => e[n] ? i : 0);
  }
}
const OD = new PD();
class RD {
  themeToThemeName(t) {
    return (t == null ? void 0 : t.name) || "";
  }
}
const kD = new RD();
class DD {
  bootstrap() {
    this.restore();
    let t;
    t = Ho(() => {
      this.persist(), t && t();
    });
  }
  persist() {
    const t = Qn();
    Ki(
      () => t.theme,
      (e, i) => {
        i !== e && e && da.setValue(
          Gc,
          e,
          kD.themeToThemeName
        );
      },
      { immediate: !0 }
    );
  }
  restore() {
    const t = da.getValue(Gc);
    if (t) {
      const { setTheme: e } = Qn();
      e(t);
    }
  }
}
const WD = new DD();
function Og(a) {
  return Og = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t) {
    return typeof t;
  } : function(t) {
    return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
  }, Og(a);
}
var Jx = [], zD = Jx.forEach, BD = Jx.slice;
function Rg(a) {
  return zD.call(BD.call(arguments, 1), function(t) {
    if (t)
      for (var e in t)
        a[e] === void 0 && (a[e] = t[e]);
  }), a;
}
function ew() {
  return typeof XMLHttpRequest == "function" || (typeof XMLHttpRequest > "u" ? "undefined" : Og(XMLHttpRequest)) === "object";
}
function ND(a) {
  return !!a && typeof a.then == "function";
}
function qD(a) {
  return ND(a) ? a : Promise.resolve(a);
}
function FD(a) {
  throw new Error('Could not dynamically require "' + a + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var kg = { exports: {} }, jm = { exports: {} }, i2;
function GD() {
  return i2 || (i2 = 1, function(a, t) {
    var e = typeof self < "u" ? self : Wc, i = function() {
      function u() {
        this.fetch = !1, this.DOMException = e.DOMException;
      }
      return u.prototype = e, new u();
    }();
    (function(u) {
      (function(_) {
        var o = {
          searchParams: "URLSearchParams" in u,
          iterable: "Symbol" in u && "iterator" in Symbol,
          blob: "FileReader" in u && "Blob" in u && function() {
            try {
              return new Blob(), !0;
            } catch {
              return !1;
            }
          }(),
          formData: "FormData" in u,
          arrayBuffer: "ArrayBuffer" in u
        };
        function y(ye) {
          return ye && DataView.prototype.isPrototypeOf(ye);
        }
        if (o.arrayBuffer)
          var b = [
            "[object Int8Array]",
            "[object Uint8Array]",
            "[object Uint8ClampedArray]",
            "[object Int16Array]",
            "[object Uint16Array]",
            "[object Int32Array]",
            "[object Uint32Array]",
            "[object Float32Array]",
            "[object Float64Array]"
          ], S = ArrayBuffer.isView || function(ye) {
            return ye && b.indexOf(Object.prototype.toString.call(ye)) > -1;
          };
        function T(ye) {
          if (typeof ye != "string" && (ye = String(ye)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(ye))
            throw new TypeError("Invalid character in header field name");
          return ye.toLowerCase();
        }
        function L(ye) {
          return typeof ye != "string" && (ye = String(ye)), ye;
        }
        function R(ye) {
          var Re = {
            next: function() {
              var Me = ye.shift();
              return { done: Me === void 0, value: Me };
            }
          };
          return o.iterable && (Re[Symbol.iterator] = function() {
            return Re;
          }), Re;
        }
        function D(ye) {
          this.map = {}, ye instanceof D ? ye.forEach(function(Re, Me) {
            this.append(Me, Re);
          }, this) : Array.isArray(ye) ? ye.forEach(function(Re) {
            this.append(Re[0], Re[1]);
          }, this) : ye && Object.getOwnPropertyNames(ye).forEach(function(Re) {
            this.append(Re, ye[Re]);
          }, this);
        }
        D.prototype.append = function(ye, Re) {
          ye = T(ye), Re = L(Re);
          var Me = this.map[ye];
          this.map[ye] = Me ? Me + ", " + Re : Re;
        }, D.prototype.delete = function(ye) {
          delete this.map[T(ye)];
        }, D.prototype.get = function(ye) {
          return ye = T(ye), this.has(ye) ? this.map[ye] : null;
        }, D.prototype.has = function(ye) {
          return this.map.hasOwnProperty(T(ye));
        }, D.prototype.set = function(ye, Re) {
          this.map[T(ye)] = L(Re);
        }, D.prototype.forEach = function(ye, Re) {
          for (var Me in this.map)
            this.map.hasOwnProperty(Me) && ye.call(Re, this.map[Me], Me, this);
        }, D.prototype.keys = function() {
          var ye = [];
          return this.forEach(function(Re, Me) {
            ye.push(Me);
          }), R(ye);
        }, D.prototype.values = function() {
          var ye = [];
          return this.forEach(function(Re) {
            ye.push(Re);
          }), R(ye);
        }, D.prototype.entries = function() {
          var ye = [];
          return this.forEach(function(Re, Me) {
            ye.push([Me, Re]);
          }), R(ye);
        }, o.iterable && (D.prototype[Symbol.iterator] = D.prototype.entries);
        function j(ye) {
          if (ye.bodyUsed)
            return Promise.reject(new TypeError("Already read"));
          ye.bodyUsed = !0;
        }
        function Q(ye) {
          return new Promise(function(Re, Me) {
            ye.onload = function() {
              Re(ye.result);
            }, ye.onerror = function() {
              Me(ye.error);
            };
          });
        }
        function ie(ye) {
          var Re = new FileReader(), Me = Q(Re);
          return Re.readAsArrayBuffer(ye), Me;
        }
        function J(ye) {
          var Re = new FileReader(), Me = Q(Re);
          return Re.readAsText(ye), Me;
        }
        function _e(ye) {
          for (var Re = new Uint8Array(ye), Me = new Array(Re.length), nt = 0; nt < Re.length; nt++)
            Me[nt] = String.fromCharCode(Re[nt]);
          return Me.join("");
        }
        function ce(ye) {
          if (ye.slice)
            return ye.slice(0);
          var Re = new Uint8Array(ye.byteLength);
          return Re.set(new Uint8Array(ye)), Re.buffer;
        }
        function we() {
          return this.bodyUsed = !1, this._initBody = function(ye) {
            this._bodyInit = ye, ye ? typeof ye == "string" ? this._bodyText = ye : o.blob && Blob.prototype.isPrototypeOf(ye) ? this._bodyBlob = ye : o.formData && FormData.prototype.isPrototypeOf(ye) ? this._bodyFormData = ye : o.searchParams && URLSearchParams.prototype.isPrototypeOf(ye) ? this._bodyText = ye.toString() : o.arrayBuffer && o.blob && y(ye) ? (this._bodyArrayBuffer = ce(ye.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : o.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(ye) || S(ye)) ? this._bodyArrayBuffer = ce(ye) : this._bodyText = ye = Object.prototype.toString.call(ye) : this._bodyText = "", this.headers.get("content-type") || (typeof ye == "string" ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : o.searchParams && URLSearchParams.prototype.isPrototypeOf(ye) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"));
          }, o.blob && (this.blob = function() {
            var ye = j(this);
            if (ye)
              return ye;
            if (this._bodyBlob)
              return Promise.resolve(this._bodyBlob);
            if (this._bodyArrayBuffer)
              return Promise.resolve(new Blob([this._bodyArrayBuffer]));
            if (this._bodyFormData)
              throw new Error("could not read FormData body as blob");
            return Promise.resolve(new Blob([this._bodyText]));
          }, this.arrayBuffer = function() {
            return this._bodyArrayBuffer ? j(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(ie);
          }), this.text = function() {
            var ye = j(this);
            if (ye)
              return ye;
            if (this._bodyBlob)
              return J(this._bodyBlob);
            if (this._bodyArrayBuffer)
              return Promise.resolve(_e(this._bodyArrayBuffer));
            if (this._bodyFormData)
              throw new Error("could not read FormData body as text");
            return Promise.resolve(this._bodyText);
          }, o.formData && (this.formData = function() {
            return this.text().then(We);
          }), this.json = function() {
            return this.text().then(JSON.parse);
          }, this;
        }
        var Be = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
        function Ee(ye) {
          var Re = ye.toUpperCase();
          return Be.indexOf(Re) > -1 ? Re : ye;
        }
        function Fe(ye, Re) {
          Re = Re || {};
          var Me = Re.body;
          if (ye instanceof Fe) {
            if (ye.bodyUsed)
              throw new TypeError("Already read");
            this.url = ye.url, this.credentials = ye.credentials, Re.headers || (this.headers = new D(ye.headers)), this.method = ye.method, this.mode = ye.mode, this.signal = ye.signal, !Me && ye._bodyInit != null && (Me = ye._bodyInit, ye.bodyUsed = !0);
          } else
            this.url = String(ye);
          if (this.credentials = Re.credentials || this.credentials || "same-origin", (Re.headers || !this.headers) && (this.headers = new D(Re.headers)), this.method = Ee(Re.method || this.method || "GET"), this.mode = Re.mode || this.mode || null, this.signal = Re.signal || this.signal, this.referrer = null, (this.method === "GET" || this.method === "HEAD") && Me)
            throw new TypeError("Body not allowed for GET or HEAD requests");
          this._initBody(Me);
        }
        Fe.prototype.clone = function() {
          return new Fe(this, { body: this._bodyInit });
        };
        function We(ye) {
          var Re = new FormData();
          return ye.trim().split("&").forEach(function(Me) {
            if (Me) {
              var nt = Me.split("="), yt = nt.shift().replace(/\+/g, " "), Mt = nt.join("=").replace(/\+/g, " ");
              Re.append(decodeURIComponent(yt), decodeURIComponent(Mt));
            }
          }), Re;
        }
        function ke(ye) {
          var Re = new D(), Me = ye.replace(/\r?\n[\t ]+/g, " ");
          return Me.split(/\r?\n/).forEach(function(nt) {
            var yt = nt.split(":"), Mt = yt.shift().trim();
            if (Mt) {
              var aa = yt.join(":").trim();
              Re.append(Mt, aa);
            }
          }), Re;
        }
        we.call(Fe.prototype);
        function Ze(ye, Re) {
          Re || (Re = {}), this.type = "default", this.status = Re.status === void 0 ? 200 : Re.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in Re ? Re.statusText : "OK", this.headers = new D(Re.headers), this.url = Re.url || "", this._initBody(ye);
        }
        we.call(Ze.prototype), Ze.prototype.clone = function() {
          return new Ze(this._bodyInit, {
            status: this.status,
            statusText: this.statusText,
            headers: new D(this.headers),
            url: this.url
          });
        }, Ze.error = function() {
          var ye = new Ze(null, { status: 0, statusText: "" });
          return ye.type = "error", ye;
        };
        var ft = [301, 302, 303, 307, 308];
        Ze.redirect = function(ye, Re) {
          if (ft.indexOf(Re) === -1)
            throw new RangeError("Invalid status code");
          return new Ze(null, { status: Re, headers: { location: ye } });
        }, _.DOMException = u.DOMException;
        try {
          new _.DOMException();
        } catch {
          _.DOMException = function(Re, Me) {
            this.message = Re, this.name = Me;
            var nt = Error(Re);
            this.stack = nt.stack;
          }, _.DOMException.prototype = Object.create(Error.prototype), _.DOMException.prototype.constructor = _.DOMException;
        }
        function St(ye, Re) {
          return new Promise(function(Me, nt) {
            var yt = new Fe(ye, Re);
            if (yt.signal && yt.signal.aborted)
              return nt(new _.DOMException("Aborted", "AbortError"));
            var Mt = new XMLHttpRequest();
            function aa() {
              Mt.abort();
            }
            Mt.onload = function() {
              var ia = {
                status: Mt.status,
                statusText: Mt.statusText,
                headers: ke(Mt.getAllResponseHeaders() || "")
              };
              ia.url = "responseURL" in Mt ? Mt.responseURL : ia.headers.get("X-Request-URL");
              var $t = "response" in Mt ? Mt.response : Mt.responseText;
              Me(new Ze($t, ia));
            }, Mt.onerror = function() {
              nt(new TypeError("Network request failed"));
            }, Mt.ontimeout = function() {
              nt(new TypeError("Network request failed"));
            }, Mt.onabort = function() {
              nt(new _.DOMException("Aborted", "AbortError"));
            }, Mt.open(yt.method, yt.url, !0), yt.credentials === "include" ? Mt.withCredentials = !0 : yt.credentials === "omit" && (Mt.withCredentials = !1), "responseType" in Mt && o.blob && (Mt.responseType = "blob"), yt.headers.forEach(function(ia, $t) {
              Mt.setRequestHeader($t, ia);
            }), yt.signal && (yt.signal.addEventListener("abort", aa), Mt.onreadystatechange = function() {
              Mt.readyState === 4 && yt.signal.removeEventListener("abort", aa);
            }), Mt.send(typeof yt._bodyInit > "u" ? null : yt._bodyInit);
          });
        }
        return St.polyfill = !0, u.fetch || (u.fetch = St, u.Headers = D, u.Request = Fe, u.Response = Ze), _.Headers = D, _.Request = Fe, _.Response = Ze, _.fetch = St, Object.defineProperty(_, "__esModule", { value: !0 }), _;
      })({});
    })(i), i.fetch.ponyfill = !0, delete i.fetch.polyfill;
    var n = i;
    t = n.fetch, t.default = n.fetch, t.fetch = n.fetch, t.Headers = n.Headers, t.Request = n.Request, t.Response = n.Response, a.exports = t;
  }(jm, jm.exports)), jm.exports;
}
(function(a, t) {
  var e;
  if (typeof fetch == "function" && (typeof Wc < "u" && Wc.fetch ? e = Wc.fetch : typeof window < "u" && window.fetch ? e = window.fetch : e = fetch), typeof FD < "u" && (typeof window > "u" || typeof window.document > "u")) {
    var i = e || GD();
    i.default && (i = i.default), t.default = i, a.exports = t.default;
  }
})(kg, kg.exports);
var tw = kg.exports;
const aw = /* @__PURE__ */ gy(tw), n2 = /* @__PURE__ */ lS({
  __proto__: null,
  default: aw
}, [tw]);
function qh(a) {
  return qh = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t) {
    return typeof t;
  } : function(t) {
    return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
  }, qh(a);
}
var Xs;
typeof fetch == "function" && (typeof global < "u" && global.fetch ? Xs = global.fetch : typeof window < "u" && window.fetch ? Xs = window.fetch : Xs = fetch);
var Vc;
ew() && (typeof global < "u" && global.XMLHttpRequest ? Vc = global.XMLHttpRequest : typeof window < "u" && window.XMLHttpRequest && (Vc = window.XMLHttpRequest));
var Fh;
typeof ActiveXObject == "function" && (typeof global < "u" && global.ActiveXObject ? Fh = global.ActiveXObject : typeof window < "u" && window.ActiveXObject && (Fh = window.ActiveXObject));
!Xs && n2 && !Vc && !Fh && (Xs = aw || n2);
typeof Xs != "function" && (Xs = void 0);
var Dg = function(t, e) {
  if (e && qh(e) === "object") {
    var i = "";
    for (var n in e)
      i += "&" + encodeURIComponent(n) + "=" + encodeURIComponent(e[n]);
    if (!i)
      return t;
    t = t + (t.indexOf("?") !== -1 ? "&" : "?") + i.slice(1);
  }
  return t;
}, r2 = function(t, e, i) {
  Xs(t, e).then(function(n) {
    if (!n.ok)
      return i(n.statusText || "Error", {
        status: n.status
      });
    n.text().then(function(u) {
      i(null, {
        status: n.status,
        data: u
      });
    }).catch(i);
  }).catch(i);
}, s2 = !1, UD = function(t, e, i, n) {
  t.queryStringParams && (e = Dg(e, t.queryStringParams));
  var u = Rg({}, typeof t.customHeaders == "function" ? t.customHeaders() : t.customHeaders);
  i && (u["Content-Type"] = "application/json");
  var _ = typeof t.requestOptions == "function" ? t.requestOptions(i) : t.requestOptions, o = Rg({
    method: i ? "POST" : "GET",
    body: i ? t.stringify(i) : void 0,
    headers: u
  }, s2 ? {} : _);
  try {
    r2(e, o, n);
  } catch (y) {
    if (!_ || Object.keys(_).length === 0 || !y.message || y.message.indexOf("not implemented") < 0)
      return n(y);
    try {
      Object.keys(_).forEach(function(b) {
        delete o[b];
      }), r2(e, o, n), s2 = !0;
    } catch (b) {
      n(b);
    }
  }
}, jD = function(t, e, i, n) {
  i && qh(i) === "object" && (i = Dg("", i).slice(1)), t.queryStringParams && (e = Dg(e, t.queryStringParams));
  try {
    var u;
    Vc ? u = new Vc() : u = new Fh("MSXML2.XMLHTTP.3.0"), u.open(i ? "POST" : "GET", e, 1), t.crossDomain || u.setRequestHeader("X-Requested-With", "XMLHttpRequest"), u.withCredentials = !!t.withCredentials, i && u.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), u.overrideMimeType && u.overrideMimeType("application/json");
    var _ = t.customHeaders;
    if (_ = typeof _ == "function" ? _() : _, _)
      for (var o in _)
        u.setRequestHeader(o, _[o]);
    u.onreadystatechange = function() {
      u.readyState > 3 && n(u.status >= 400 ? u.statusText : null, {
        status: u.status,
        data: u.responseText
      });
    }, u.send(i);
  } catch (y) {
    console && console.log(y);
  }
}, VD = function(t, e, i, n) {
  if (typeof i == "function" && (n = i, i = void 0), n = n || function() {
  }, Xs && e.indexOf("file:") !== 0)
    return UD(t, e, i, n);
  if (ew() || typeof ActiveXObject == "function")
    return jD(t, e, i, n);
  n(new Error("No fetch and no xhr implementation found!"));
};
function $c(a) {
  return $c = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t) {
    return typeof t;
  } : function(t) {
    return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
  }, $c(a);
}
function $D(a, t) {
  if (!(a instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function o2(a, t) {
  for (var e = 0; e < t.length; e++) {
    var i = t[e];
    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(a, iw(i.key), i);
  }
}
function ZD(a, t, e) {
  return t && o2(a.prototype, t), e && o2(a, e), Object.defineProperty(a, "prototype", { writable: !1 }), a;
}
function HD(a, t, e) {
  return t = iw(t), t in a ? Object.defineProperty(a, t, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : a[t] = e, a;
}
function iw(a) {
  var t = XD(a, "string");
  return $c(t) === "symbol" ? t : String(t);
}
function XD(a, t) {
  if ($c(a) !== "object" || a === null)
    return a;
  var e = a[Symbol.toPrimitive];
  if (e !== void 0) {
    var i = e.call(a, t || "default");
    if ($c(i) !== "object")
      return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(a);
}
var KD = function() {
  return {
    loadPath: "/locales/{{lng}}/{{ns}}.json",
    addPath: "/locales/add/{{lng}}/{{ns}}",
    allowMultiLoading: !1,
    parse: function(e) {
      return JSON.parse(e);
    },
    stringify: JSON.stringify,
    parsePayload: function(e, i, n) {
      return HD({}, i, n || "");
    },
    parseLoadPayload: function(e, i) {
    },
    request: VD,
    reloadInterval: typeof window < "u" ? !1 : 60 * 60 * 1e3,
    customHeaders: {},
    queryStringParams: {},
    crossDomain: !1,
    withCredentials: !1,
    overrideMimeType: !1,
    requestOptions: {
      mode: "cors",
      credentials: "same-origin",
      cache: "default"
    }
  };
}, nw = function() {
  function a(t) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    $D(this, a), this.services = t, this.options = e, this.allOptions = i, this.type = "backend", this.init(t, e, i);
  }
  return ZD(a, [{
    key: "init",
    value: function(e) {
      var i = this, n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
      this.services = e, this.options = Rg(n, this.options || {}, KD()), this.allOptions = u, this.services && this.options.reloadInterval && setInterval(function() {
        return i.reload();
      }, this.options.reloadInterval);
    }
  }, {
    key: "readMulti",
    value: function(e, i, n) {
      this._readAny(e, e, i, i, n);
    }
  }, {
    key: "read",
    value: function(e, i, n) {
      this._readAny([e], e, [i], i, n);
    }
  }, {
    key: "_readAny",
    value: function(e, i, n, u, _) {
      var o = this, y = this.options.loadPath;
      typeof this.options.loadPath == "function" && (y = this.options.loadPath(e, n)), y = qD(y), y.then(function(b) {
        if (!b)
          return _(null, {});
        var S = o.services.interpolator.interpolate(b, {
          lng: e.join("+"),
          ns: n.join("+")
        });
        o.loadUrl(S, _, i, u);
      });
    }
  }, {
    key: "loadUrl",
    value: function(e, i, n, u) {
      var _ = this, o = typeof n == "string" ? [n] : n, y = typeof u == "string" ? [u] : u, b = this.options.parseLoadPayload(o, y);
      this.options.request(this.options, e, b, function(S, T) {
        if (T && (T.status >= 500 && T.status < 600 || !T.status))
          return i("failed loading " + e + "; status code: " + T.status, !0);
        if (T && T.status >= 400 && T.status < 500)
          return i("failed loading " + e + "; status code: " + T.status, !1);
        if (!T && S && S.message && S.message.indexOf("Failed to fetch") > -1)
          return i("failed loading " + e + ": " + S.message, !0);
        if (S)
          return i(S, !1);
        var L, R;
        try {
          typeof T.data == "string" ? L = _.options.parse(T.data, n, u) : L = T.data;
        } catch {
          R = "failed parsing " + e + " to json";
        }
        if (R)
          return i(R, !1);
        i(null, L);
      });
    }
  }, {
    key: "create",
    value: function(e, i, n, u, _) {
      var o = this;
      if (this.options.addPath) {
        typeof e == "string" && (e = [e]);
        var y = this.options.parsePayload(i, n, u), b = 0, S = [], T = [];
        e.forEach(function(L) {
          var R = o.options.addPath;
          typeof o.options.addPath == "function" && (R = o.options.addPath(L, i));
          var D = o.services.interpolator.interpolate(R, {
            lng: L,
            ns: i
          });
          o.options.request(o.options, D, y, function(j, Q) {
            b += 1, S.push(j), T.push(Q), b === e.length && typeof _ == "function" && _(S, T);
          });
        });
      }
    }
  }, {
    key: "reload",
    value: function() {
      var e = this, i = this.services, n = i.backendConnector, u = i.languageUtils, _ = i.logger, o = n.language;
      if (!(o && o.toLowerCase() === "cimode")) {
        var y = [], b = function(T) {
          var L = u.toResolveHierarchy(T);
          L.forEach(function(R) {
            y.indexOf(R) < 0 && y.push(R);
          });
        };
        b(o), this.allOptions.preload && this.allOptions.preload.forEach(function(S) {
          return b(S);
        }), y.forEach(function(S) {
          e.allOptions.ns.forEach(function(T) {
            n.read(S, T, "read", null, null, function(L, R) {
              L && _.warn("loading namespace ".concat(T, " for language ").concat(S, " failed"), L), !L && R && _.log("loaded namespace ".concat(T, " for language ").concat(S), R), n.loaded("".concat(S, "|").concat(T), L, R);
            });
          });
        });
      }
    }
  }]), a;
}();
nw.type = "backend";
class YD {
  bootstrapLayersOpen() {
    this.restoreLayersOpen();
    let t;
    t = Ho(() => {
      this.persistLayersOpen(), t && t();
    });
  }
  persistLayersOpen() {
    const t = ws(), { layersOpen: e } = Jn(t);
    Ki(
      e,
      (i, n) => {
        n !== i && da.setValue(Sh, i);
      },
      { immediate: !0 }
    );
  }
  restoreLayersOpen() {
    const t = da.getValue(Sh) !== "false", { setLayersOpen: e } = ws();
    e(t);
  }
}
const QD = new YD(), JD = { class: "h-screen flex flex-col overflow-hidden" }, eW = { class: "flex grow" }, tW = {
  key: 0,
  class: "w-full sm:w-80 bg-secondary z-10"
}, aW = { class: "grow bg-blue-100" }, iW = { class: "absolute right-1 top-16" }, nW = /* @__PURE__ */ Ka({
  __name: "App",
  setup(a) {
    OD.bootstrap(), WD.bootstrap(), QD.bootstrapLayersOpen();
    const { layersOpen: t } = Jn(ws());
    return Ki(
      t,
      () => setTimeout(() => {
        ql().getOlMap().updateSize();
      }, 50)
    ), (e, i) => (ut(), bt("div", JD, [
      ta(hD),
      Ge("main", eW, [
        Oe(t) ? (ut(), bt("div", tW, [
          ta(ID)
        ])) : ua("", !0),
        Ge("div", aW, [
          ta(vP)
        ]),
        Ge("div", iW, [
          ta(QR)
        ])
      ]),
      ta(wD, { class: "fixed bottom-5 sm:relative sm:bottom-0" })
    ]));
  }
});
FE();
vi.use(nw);
vi.init({
  lng: "fr",
  debug: !1,
  defaultNS: "client",
  supportedLngs: ["de", "en", "fr", "lb"],
  ns: ["client", "legends", "server", "tooltips"],
  fallbackLng: "fr",
  backend: {
    loadPath: "/static-ngeo/web-components/assets/locales/{{ns}}.{{lng}}.json"
  }
});
const My = iS(nW);
My.use(c3());
My.use(w6, { i18next: vi });
My.use(qS);
const yW = (a = {}, t = null) => GE(
  {
    setup: () => {
      const e = Wg();
      Object.assign(e.appContext, t._context), Object.assign(e.provides, t._context.provides);
    },
    render: () => nS(a)
  },
  { shadowRoot: !1 }
);
export {
  nW as App,
  QR as BackgroundSelector,
  cL as CatalogTree,
  ib as DropdownList,
  wD as FooterBar,
  hD as HeaderBar,
  w6 as I18NextVue,
  g9 as LayerManager,
  tD as LayerMetadata,
  ID as LayerPanel,
  vP as MapContainer,
  ck as RemoteLayers,
  SL as ThemeSelector,
  qS as VueDOMPurifyHTML,
  My as app,
  nw as backend,
  yW as createElementInstance,
  c3 as createPinia,
  GE as defineCustomElement,
  vi as i18next,
  OD as statePersistorLayersService,
  WD as statePersistorThemeService,
  oD as themeSelectorService,
  ql as useMap,
  Qn as useThemeStore
};
