var HF=Object.defineProperty;var ZF=(a,e,t)=>e in a?HF(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var Sa=(a,e,t)=>(ZF(a,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();const Qa=a=>typeof a=="string",zg=()=>{let a,e;const t=new Promise((i,n)=>{a=i,e=n});return t.resolve=a,t.reject=e,t},d8=a=>a==null?"":""+a,XF=(a,e,t)=>{a.forEach(i=>{e[i]&&(t[i]=e[i])})},YF=/###/g,h8=a=>a&&a.indexOf("###")>-1?a.replace(YF,"."):a,_8=a=>!a||Qa(a),gy=(a,e,t)=>{const i=Qa(e)?e.split("."):e;let n=0;for(;n<i.length-1;){if(_8(a))return{};const s=h8(i[n]);!a[s]&&t&&(a[s]=new t),Object.prototype.hasOwnProperty.call(a,s)?a=a[s]:a={},++n}return _8(a)?{}:{obj:a,k:h8(i[n])}},m8=(a,e,t)=>{const{obj:i,k:n}=gy(a,e,Object);if(i!==void 0||e.length===1){i[n]=t;return}let s=e[e.length-1],r=e.slice(0,e.length-1),l=gy(a,r,Object);for(;l.obj===void 0&&r.length;)s=`${r[r.length-1]}.${s}`,r=r.slice(0,r.length-1),l=gy(a,r,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=t},KF=(a,e,t,i)=>{const{obj:n,k:s}=gy(a,e,Object);n[s]=n[s]||[],n[s].push(t)},Rb=(a,e)=>{const{obj:t,k:i}=gy(a,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},$F=(a,e,t)=>{const i=Rb(a,t);return i!==void 0?i:Rb(e,t)},zC=(a,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in a?Qa(a[i])||a[i]instanceof String||Qa(e[i])||e[i]instanceof String?t&&(a[i]=e[i]):zC(a[i],e[i],t):a[i]=e[i]);return a},sp=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var QF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const JF=a=>Qa(a)?a.replace(/[&<>"'\/]/g,e=>QF[e]):a;class eN{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const tN=[" ",",","?","!",";"],aN=new eN(20),iN=(a,e,t)=>{e=e||"",t=t||"";const i=tN.filter(r=>e.indexOf(r)<0&&t.indexOf(r)<0);if(i.length===0)return!0;const n=aN.getRegExp(`(${i.map(r=>r==="?"?"\\?":r).join("|")})`);let s=!n.test(a);if(!s){const r=a.indexOf(t);r>0&&!n.test(a.substring(0,r))&&(s=!0)}return s},L4=function(a,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!a)return;if(a[e])return Object.prototype.hasOwnProperty.call(a,e)?a[e]:void 0;const i=e.split(t);let n=a;for(let s=0;s<i.length;){if(!n||typeof n!="object")return;let r,l="";for(let c=s;c<i.length;++c)if(c!==s&&(l+=t),l+=i[c],r=n[l],r!==void 0){if(["string","number","boolean"].indexOf(typeof r)>-1&&c<i.length-1)continue;s+=c-s+1;break}n=r}return n},Ob=a=>a==null?void 0:a.replace("_","-"),nN={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,e){var t,i;(i=(t=console==null?void 0:console[a])==null?void 0:t.apply)==null||i.call(t,console,e)}};class kb{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||nN,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,n){return n&&!this.debug?null:(Qa(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new kb(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new kb(this.logger,e)}}var Tu=new kb;class tx{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const n=this.observers[i].get(t)||0;this.observers[i].set(t,n+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(r=>{let[l,c]=r;for(let h=0;h<c;h++)l(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(r=>{let[l,c]=r;for(let h=0;h<c;h++)l.apply(l,[e,...i])})}}class p8 extends tx{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){var h,f;let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,r=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],i&&(Array.isArray(i)?l.push(...i):Qa(i)&&s?l.push(...i.split(s)):l.push(i)));const c=Rb(this.data,l);return!c&&!t&&!i&&e.indexOf(".")>-1&&(e=l[0],t=l[1],i=l.slice(2).join(".")),c||!r||!Qa(i)?c:L4((f=(h=this.data)==null?void 0:h[e])==null?void 0:f[t],i,s)}addResource(e,t,i,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[e,t];i&&(l=l.concat(r?i.split(r):i)),e.indexOf(".")>-1&&(l=e.split("."),n=t,t=l[1]),this.addNamespaces(t),m8(this.data,l,n),s.silent||this.emit("added",e,t,i,n)}addResources(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in i)(Qa(i[s])||Array.isArray(i[s]))&&this.addResource(e,t,s,i[s],{silent:!0});n.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,n,s){let r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),n=i,i=t,t=l[1]),this.addNamespaces(t);let c=Rb(this.data,l)||{};r.skipCopy||(i=JSON.parse(JSON.stringify(i))),n?zC(c,i,s):c={...c,...i},m8(this.data,l,c),r.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(n=>t[n]&&Object.keys(t[n]).length>0)}toJSON(){return this.data}}var BC={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,e,t,i,n){return a.forEach(s=>{var r;e=((r=this.processors[s])==null?void 0:r.process(e,t,i,n))??e}),e}};const f8={},g8=a=>!Qa(a)&&typeof a!="boolean"&&typeof a!="number";class Pb extends tx{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),XF(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Tu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const n=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const r=i&&e.indexOf(i)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!iN(e,i,n);if(r&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Qa(s)?[s]:s};const h=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(h[0])>-1)&&(s=h.shift()),e=h.join(n)}return{key:e,namespaces:Qa(s)?[s]:s}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const n=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:r,namespaces:l}=this.extractFromKey(e[e.length-1],t),c=l[l.length-1],h=t.lng||this.language,f=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode"){if(f){const fe=t.nsSeparator||this.options.nsSeparator;return n?{res:`${c}${fe}${r}`,usedKey:r,exactUsedKey:r,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${fe}${r}`}return n?{res:r,usedKey:r,exactUsedKey:r,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:r}const v=this.resolve(e,t);let b=v==null?void 0:v.res;const T=(v==null?void 0:v.usedKey)||r,M=(v==null?void 0:v.exactUsedKey)||r,I=["[object Number]","[object Function]","[object RegExp]"],R=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject,F=t.count!==void 0&&!Qa(t.count),B=Pb.hasDefaultValue(t),W=F?this.pluralResolver.getSuffix(h,t.count,t):"",Z=t.ordinal&&F?this.pluralResolver.getSuffix(h,t.count,{ordinal:!1}):"",ae=F&&!t.ordinal&&t.count===0,he=ae&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${W}`]||t[`defaultValue${Z}`]||t.defaultValue;let _e=b;P&&!b&&B&&(_e=he);const ie=g8(_e),me=Object.prototype.toString.apply(_e);if(P&&_e&&ie&&I.indexOf(me)<0&&!(Qa(R)&&Array.isArray(_e))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const fe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,_e,{...t,ns:l}):`key '${r} (${this.language})' returned an object instead of string.`;return n?(v.res=fe,v.usedParams=this.getUsedParamsDetails(t),v):fe}if(s){const fe=Array.isArray(_e),be=fe?[]:{},Ae=fe?M:T;for(const Ye in _e)if(Object.prototype.hasOwnProperty.call(_e,Ye)){const Xe=`${Ae}${s}${Ye}`;B&&!b?be[Ye]=this.translate(Xe,{...t,defaultValue:g8(he)?he[Ye]:void 0,joinArrays:!1,ns:l}):be[Ye]=this.translate(Xe,{...t,joinArrays:!1,ns:l}),be[Ye]===Xe&&(be[Ye]=_e[Ye])}b=be}}else if(P&&Qa(R)&&Array.isArray(b))b=b.join(R),b&&(b=this.extendTranslation(b,e,t,i));else{let fe=!1,be=!1;!this.isValidLookup(b)&&B&&(fe=!0,b=he),this.isValidLookup(b)||(be=!0,b=r);const Ye=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&be?void 0:b,Xe=B&&he!==b&&this.options.updateMissing;if(be||fe||Xe){if(this.logger.log(Xe?"updateKey":"missingKey",h,c,r,Xe?he:b),s){const yt=this.resolve(r,{...t,keySeparator:!1});yt&&yt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Re=[];const Oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Oe&&Oe[0])for(let yt=0;yt<Oe.length;yt++)Re.push(Oe[yt]);else this.options.saveMissingTo==="all"?Re=this.languageUtils.toResolveHierarchy(t.lng||this.language):Re.push(t.lng||this.language);const Qe=(yt,Je,Xt)=>{var la;const We=B&&Xt!==b?Xt:Ye;this.options.missingKeyHandler?this.options.missingKeyHandler(yt,c,Je,We,Xe,t):(la=this.backendConnector)!=null&&la.saveMissing&&this.backendConnector.saveMissing(yt,c,Je,We,Xe,t),this.emit("missingKey",yt,c,Je,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&F?Re.forEach(yt=>{const Je=this.pluralResolver.getSuffixes(yt,t);ae&&t[`defaultValue${this.options.pluralSeparator}zero`]&&Je.indexOf(`${this.options.pluralSeparator}zero`)<0&&Je.push(`${this.options.pluralSeparator}zero`),Je.forEach(Xt=>{Qe([yt],r+Xt,t[`defaultValue${Xt}`]||he)})}):Qe(Re,r,he))}b=this.extendTranslation(b,e,t,v,i),be&&b===r&&this.options.appendNamespaceToMissingKey&&(b=`${c}:${r}`),(be||fe)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${r}`:r,fe?b:void 0))}return n?(v.res=b,v.usedParams=this.getUsedParamsDetails(t),v):b}extendTranslation(e,t,i,n,s){var h,f;var r=this;if((h=this.i18nFormat)!=null&&h.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const v=Qa(e)&&(((f=i==null?void 0:i.interpolation)==null?void 0:f.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let b;if(v){const M=e.match(this.interpolator.nestingRegexp);b=M&&M.length}let T=i.replace&&!Qa(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(T={...this.options.interpolation.defaultVariables,...T}),e=this.interpolator.interpolate(e,T,i.lng||this.language||n.usedLng,i),v){const M=e.match(this.interpolator.nestingRegexp),I=M&&M.length;b<I&&(i.nest=!1)}!i.lng&&n&&n.res&&(i.lng=this.language||n.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var M=arguments.length,I=new Array(M),R=0;R<M;R++)I[R]=arguments[R];return(s==null?void 0:s[0])===I[0]&&!i.context?(r.logger.warn(`It seems you are nesting recursively key: ${I[0]} in key: ${t[0]}`),null):r.translate(...I,t)},i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,c=Qa(l)?[l]:l;return e!=null&&(c!=null&&c.length)&&i.applyPostProcessor!==!1&&(e=BC.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,n,s,r,l;return Qa(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(i))return;const h=this.extractFromKey(c,t),f=h.key;n=f;let v=h.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=t.count!==void 0&&!Qa(t.count),T=b&&!t.ordinal&&t.count===0,M=t.context!==void 0&&(Qa(t.context)||typeof t.context=="number")&&t.context!=="",I=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(R=>{var P,F;this.isValidLookup(i)||(l=R,!f8[`${I[0]}-${R}`]&&((P=this.utils)!=null&&P.hasLoadedNamespace)&&!((F=this.utils)!=null&&F.hasLoadedNamespace(l))&&(f8[`${I[0]}-${R}`]=!0,this.logger.warn(`key "${n}" for languages "${I.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),I.forEach(B=>{var ae;if(this.isValidLookup(i))return;r=B;const W=[f];if((ae=this.i18nFormat)!=null&&ae.addLookupKeys)this.i18nFormat.addLookupKeys(W,f,B,R,t);else{let he;b&&(he=this.pluralResolver.getSuffix(B,t.count,t));const _e=`${this.options.pluralSeparator}zero`,ie=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(W.push(f+he),t.ordinal&&he.indexOf(ie)===0&&W.push(f+he.replace(ie,this.options.pluralSeparator)),T&&W.push(f+_e)),M){const me=`${f}${this.options.contextSeparator}${t.context}`;W.push(me),b&&(W.push(me+he),t.ordinal&&he.indexOf(ie)===0&&W.push(me+he.replace(ie,this.options.pluralSeparator)),T&&W.push(me+_e))}}let Z;for(;Z=W.pop();)this.isValidLookup(i)||(s=Z,i=this.getResource(B,R,Z,t))}))})}),{res:i,usedKey:n,exactUsedKey:s,usedLng:r,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){var s;let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,t,i,n):this.resourceStore.getResource(e,t,i,n)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Qa(e.replace);let n=i?e.replace:e;if(i&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!i){n={...n};for(const s of t)delete n[s]}return n}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class y8{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Tu.create("languageUtils")}getScriptPartFromCode(e){if(e=Ob(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Ob(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Qa(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const n=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const n=this.getLanguagePartFromCode(i);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(s=>{if(s===n)return s;if(!(s.indexOf("-")<0&&n.indexOf("-")<0)&&(s.indexOf("-")>0&&n.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===n||s.indexOf(n)===0&&n.length>1))return s})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Qa(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],s=r=>{r&&(this.isSupportedCode(r)?n.push(r):this.logger.warn(`rejecting language code not found in supportedLngs: ${r}`))};return Qa(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Qa(e)&&s(this.formatLanguageCode(e)),i.forEach(r=>{n.indexOf(r)<0&&s(this.formatLanguageCode(r))}),n}}const v8={zero:0,one:1,two:2,few:3,many:4,other:5},b8={select:a=>a===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class rN{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Tu.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=Ob(e==="dev"?"en":e),n=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:i,type:n});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let r;try{r=new Intl.PluralRules(i,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),b8;if(!e.match(/-|_/))return b8;const c=this.languageUtils.getLanguagePartFromCode(e);r=this.getRule(c,t)}return this.pluralRulesCache[s]=r,r}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(n=>`${t}${n}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((n,s)=>v8[n]-v8[s]).map(n=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=this.getRule(e,i);return n?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const x8=function(a,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=$F(a,e,t);return!s&&n&&Qa(t)&&(s=L4(a,t,i),s===void 0&&(s=L4(e,t,i))),s},Uw=a=>a.replace(/\$/g,"$$$$");class sN{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Tu.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:n,prefix:s,prefixEscaped:r,suffix:l,suffixEscaped:c,formatSeparator:h,unescapeSuffix:f,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:T,nestingSuffix:M,nestingSuffixEscaped:I,nestingOptionsSeparator:R,maxReplaces:P,alwaysFormat:F}=e.interpolation;this.escape=t!==void 0?t:JF,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=s?sp(s):r||"{{",this.suffix=l?sp(l):c||"}}",this.formatSeparator=h||",",this.unescapePrefix=f?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=b?sp(b):T||sp("$t("),this.nestingSuffix=M?sp(M):I||sp(")"),this.nestingOptionsSeparator=R||",",this.maxReplaces=P||1e3,this.alwaysFormat=F!==void 0?F:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>(t==null?void 0:t.source)===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,n){var T;let s,r,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=M=>{if(M.indexOf(this.formatSeparator)<0){const F=x8(t,c,M,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(F,void 0,i,{...n,...t,interpolationkey:M}):F}const I=M.split(this.formatSeparator),R=I.shift().trim(),P=I.join(this.formatSeparator).trim();return this.format(x8(t,c,R,this.options.keySeparator,this.options.ignoreJSONStructure),P,i,{...n,...t,interpolationkey:R})};this.resetRegExp();const f=(n==null?void 0:n.missingInterpolationHandler)||this.options.missingInterpolationHandler,v=((T=n==null?void 0:n.interpolation)==null?void 0:T.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:M=>Uw(M)},{regex:this.regexp,safeValue:M=>this.escapeValue?Uw(this.escape(M)):Uw(M)}].forEach(M=>{for(l=0;s=M.regex.exec(e);){const I=s[1].trim();if(r=h(I),r===void 0)if(typeof f=="function"){const P=f(e,s,n);r=Qa(P)?P:""}else if(n&&Object.prototype.hasOwnProperty.call(n,I))r="";else if(v){r=s[0];continue}else this.logger.warn(`missed to pass in variable ${I} for interpolating ${e}`),r="";else!Qa(r)&&!this.useRawValueToEscape&&(r=d8(r));const R=M.safeValue(r);if(e=e.replace(s[0],R),v?(M.regex.lastIndex+=r.length,M.regex.lastIndex-=s[0].length):M.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,s,r;const l=(c,h)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const v=c.split(new RegExp(`${f}[ ]*{`));let b=`{${v[1]}`;c=v[0],b=this.interpolate(b,r);const T=b.match(/'/g),M=b.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!M||M.length%2!==0)&&(b=b.replace(/'/g,'"'));try{r=JSON.parse(b),h&&(r={...h,...r})}catch(I){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,I),`${c}${f}${b}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,c};for(;n=this.nestingRegexp.exec(e);){let c=[];r={...i},r=r.replace&&!Qa(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let h=!1;if(n[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(n[1])){const f=n[1].split(this.formatSeparator).map(v=>v.trim());n[1]=f.shift(),c=f,h=!0}if(s=t(l.call(this,n[1].trim(),r),r),s&&n[0]===e&&!Qa(s))return s;Qa(s)||(s=d8(s)),s||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),s=""),h&&(s=c.reduce((f,v)=>this.format(f,v,i.lng,{...i,interpolationkey:n[1].trim()}),s.trim())),e=e.replace(n[0],s),this.regexp.lastIndex=0}return e}}const oN=a=>{let e=a.toLowerCase().trim();const t={};if(a.indexOf("(")>-1){const i=a.split("(");e=i[0].toLowerCase().trim();const n=i[1].substring(0,i[1].length-1);e==="currency"&&n.indexOf(":")<0?t.currency||(t.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?t.range||(t.range=n.trim()):n.split(";").forEach(r=>{if(r){const[l,...c]=r.split(":"),h=c.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();t[f]||(t[f]=h),h==="false"&&(t[f]=!1),h==="true"&&(t[f]=!0),isNaN(h)||(t[f]=parseInt(h,10))}})}return{formatName:e,formatOptions:t}},op=a=>{const e={};return(t,i,n)=>{let s=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(s={...s,[n.interpolationkey]:void 0});const r=i+JSON.stringify(s);let l=e[r];return l||(l=a(Ob(i),n),e[r]=l),l(t)}};let lN=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Tu.create("formatter"),this.options=e,this.formats={number:op((t,i)=>{const n=new Intl.NumberFormat(t,{...i});return s=>n.format(s)}),currency:op((t,i)=>{const n=new Intl.NumberFormat(t,{...i,style:"currency"});return s=>n.format(s)}),datetime:op((t,i)=>{const n=new Intl.DateTimeFormat(t,{...i});return s=>n.format(s)}),relativetime:op((t,i)=>{const n=new Intl.RelativeTimeFormat(t,{...i});return s=>n.format(s,i.range||"day")}),list:op((t,i)=>{const n=new Intl.ListFormat(t,{...i});return s=>n.format(s)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=op(t)}format(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var v;const{formatName:h,formatOptions:f}=oN(c);if(this.formats[h]){let b=l;try{const T=((v=n==null?void 0:n.formatParams)==null?void 0:v[n.interpolationkey])||{},M=T.locale||T.lng||n.locale||n.lng||i;b=this.formats[h](l,M,{...f,...n,...T})}catch(T){this.logger.warn(T)}return b}else this.logger.warn(`there was no format function for ${h}`);return l},e)}};const uN=(a,e)=>{a.pending[e]!==void 0&&(delete a.pending[e],a.pendingCount--)};class cN extends tx{constructor(e,t,i){var s,r;let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=n,this.logger=Tu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],(r=(s=this.backend)==null?void 0:s.init)==null||r.call(s,i,n.backend,n)}queueLoad(e,t,i,n){const s={},r={},l={},c={};return e.forEach(h=>{let f=!0;t.forEach(v=>{const b=`${h}|${v}`;!i.reload&&this.store.hasResourceBundle(h,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?r[b]===void 0&&(r[b]=!0):(this.state[b]=1,f=!1,r[b]===void 0&&(r[b]=!0),s[b]===void 0&&(s[b]=!0),c[v]===void 0&&(c[v]=!0)))}),f||(l[h]=!0)}),(Object.keys(s).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(s),pending:Object.keys(r),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,t,i){const n=e.split("|"),s=n[0],r=n[1];t&&this.emit("failedLoading",s,r,t),!t&&i&&this.store.addResourceBundle(s,r,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const l={};this.queue.forEach(c=>{KF(c.loaded,[s],r),uN(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(h=>{l[h]||(l[h]={});const f=c.loaded[h];f.length&&f.forEach(v=>{l[h][v]===void 0&&(l[h][v]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:n,wait:s,callback:r});return}this.readingCalls++;const l=(h,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(h&&f&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,n+1,s*2,r)},s);return}r(h,f)},c=this.backend[i].bind(this.backend);if(c.length===2){try{const h=c(e,t);h&&typeof h.then=="function"?h.then(f=>l(null,f)).catch(l):l(null,h)}catch(h){l(h)}return}return c(e,t,l)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();Qa(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Qa(t)&&(t=[t]);const s=this.queueLoad(e,t,i,n);if(!s.toLoad.length)return s.pending.length||n(),null;s.toLoad.forEach(r=>{this.loadOne(r)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),n=i[0],s=i[1];this.read(n,s,"read",void 0,void 0,(r,l)=>{r&&this.logger.warn(`${t}loading namespace ${s} for language ${n} failed`,r),!r&&l&&this.logger.log(`${t}loaded namespace ${s} for language ${n}`,l),this.loaded(e,r,l)})}saveMissing(e,t,i,n,s){var c,h,f,v,b;let r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((h=(c=this.services)==null?void 0:c.utils)!=null&&h.hasLoadedNamespace&&!((v=(f=this.services)==null?void 0:f.utils)!=null&&v.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((b=this.backend)!=null&&b.create){const T={...r,isUpdate:s},M=this.backend.create.bind(this.backend);if(M.length<6)try{let I;M.length===5?I=M(e,t,i,n,T):I=M(e,t,i,n),I&&typeof I.then=="function"?I.then(R=>l(null,R)).catch(l):l(null,I)}catch(I){l(I)}else M(e,t,i,n,l,T)}!e||!e[0]||this.store.addResource(e[0],t,i,n)}}}const w8=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let e={};if(typeof a[1]=="object"&&(e=a[1]),Qa(a[1])&&(e.defaultValue=a[1]),Qa(a[2])&&(e.tDescription=a[2]),typeof a[2]=="object"||typeof a[3]=="object"){const t=a[3]||a[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),S8=a=>{var e,t;return Qa(a.ns)&&(a.ns=[a.ns]),Qa(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),Qa(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),((t=(e=a.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),typeof a.initImmediate=="boolean"&&(a.initAsync=a.initImmediate),a},sv=()=>{},dN=a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(t=>{typeof a[t]=="function"&&(a[t]=a[t].bind(a))})};class Vy extends tx{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=S8(e),this.services={},this.logger=Tu,this.modules={external:[]},dN(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),t.defaultNS==null&&t.ns&&(Qa(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=w8();this.options={...n,...this.options,...S8(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Tu.init(s(this.modules.logger),this.options):Tu.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=lN;const v=new y8(this.options);this.store=new p8(this.options.resources,this.options);const b=this.services;b.logger=Tu,b.resourceStore=this.store,b.languageUtils=v,b.pluralResolver=new rN(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(b.formatter=s(f),b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new sN(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new cN(s(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",function(T){for(var M=arguments.length,I=new Array(M>1?M-1:0),R=1;R<M;R++)I[R-1]=arguments[R];e.emit(T,...I)}),this.modules.languageDetector&&(b.languageDetector=s(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=s(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new Pb(this.services,this.options),this.translator.on("*",function(T){for(var M=arguments.length,I=new Array(M>1?M-1:0),R=1;R<M;R++)I[R-1]=arguments[R];e.emit(T,...I)}),this.modules.external.forEach(T=>{T.init&&T.init(this)})}if(this.format=this.options.interpolation.format,i||(i=sv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const c=zg(),h=()=>{const f=(v,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(b),i(v,b)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?h():setTimeout(h,0),c}loadResources(e){var s,r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sv;const n=Qa(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if((n==null?void 0:n.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const l=[],c=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(v=>{v!=="cimode"&&l.indexOf(v)<0&&l.push(v)})};n?c(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>c(f)),(r=(s=this.options.preload)==null?void 0:s.forEach)==null||r.call(s,h=>c(h)),this.services.backendConnector.load(l,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(h)})}else i(null)}reloadResources(e,t,i){const n=zg();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=sv),this.services.backendConnector.reload(e,t,s=>{n.resolve(),i(s)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&BC.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const n=zg();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},r=(c,h)=>{h?(s(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,n.resolve(function(){return i.t(...arguments)}),t&&t(c,function(){return i.t(...arguments)})},l=c=>{var f,v;!e&&!c&&this.services.languageDetector&&(c=[]);const h=Qa(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),(v=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||v.call(f,h)),this.loadResources(h,b=>{r(b,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),n}getFixedT(e,t,i){var n=this;const s=function(r,l){let c;if(typeof l!="object"){for(var h=arguments.length,f=new Array(h>2?h-2:0),v=2;v<h;v++)f[v-2]=arguments[v];c=n.options.overloadTranslationOptionHandler([r,l].concat(f))}else c={...l};c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||i||s.keyPrefix);const b=n.options.keySeparator||".";let T;return c.keyPrefix&&Array.isArray(r)?T=r.map(M=>`${c.keyPrefix}${b}${M}`):T=c.keyPrefix?`${c.keyPrefix}${b}${r}`:r,n.t(T,c)};return Qa(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=i,s}t(){var n;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(n=this.translator)==null?void 0:n.translate(...t)}exists(){var n;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const r=(l,c)=>{const h=this.services.backendConnector.state[`${l}|${c}`];return h===-1||h===0||h===2};if(t.precheck){const l=t.precheck(this,r);if(l!==void 0)return l}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||r(i,e)&&(!n||r(s,e)))}loadNamespaces(e,t){const i=zg();return this.options.ns?(Qa(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{i.resolve(),t&&t(n)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=zg();Qa(e)&&(e=[e]);const n=this.options.preload||[],s=e.filter(r=>n.indexOf(r)<0&&this.services.languageUtils.isSupportedCode(r));return s.length?(this.options.preload=n.concat(s),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}dir(e){var n,s;if(e||(e=this.resolvedLanguage||(((n=this.languages)==null?void 0:n.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((s=this.services)==null?void 0:s.languageUtils)||new y8(w8());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Vy(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sv;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},s=new Vy(n);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i){const l=Object.keys(this.store.data).reduce((c,h)=>(c[h]={...this.store.data[h]},Object.keys(c[h]).reduce((f,v)=>(f[v]={...c[h][v]},f),{})),{});s.store=new p8(l,n),s.services.resourceStore=s.store}return s.translator=new Pb(s.services,n),s.translator.on("*",function(l){for(var c=arguments.length,h=new Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];s.emit(l,...h)}),s.init(n,t),s.translator.options=n,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const sn=Vy.createInstance();sn.createInstance=Vy.createInstance;sn.createInstance;sn.dir;sn.init;sn.loadResources;sn.reloadResources;sn.use;sn.changeLanguage;sn.getFixedT;const hN=sn.t;sn.exists;sn.setDefaultNamespace;sn.hasLoadedNamespace;sn.loadNamespaces;sn.loadLanguages;function A4(a){"@babel/helpers - typeof";return A4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A4(a)}function GC(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":A4(XMLHttpRequest))==="object"}function _N(a){return!!a&&typeof a.then=="function"}function mN(a){return _N(a)?a:Promise.resolve(a)}const pN="modulepreload",fN=function(a){return"/luxembourg-geoportail/main/"+a},T8={},qC=function(e,t,i){if(!t||t.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=fN(s),s in T8)return;T8[s]=!0;const r=s.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(!!i)for(let f=n.length-1;f>=0;f--){const v=n[f];if(v.href===s&&(!r||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const h=document.createElement("link");if(h.rel=r?"stylesheet":pN,r||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),r)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s})};function E8(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),t.push.apply(t,i)}return t}function M8(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(t),!0).forEach(function(i){gN(a,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):E8(Object(t)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(t,i))})}return a}function gN(a,e,t){return(e=yN(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function yN(a){var e=vN(a,"string");return U_(e)=="symbol"?e:e+""}function vN(a,e){if(U_(a)!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var i=t.call(a,e||"default");if(U_(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function U_(a){"@babel/helpers - typeof";return U_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U_(a)}var uh=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?uh=global.fetch:typeof window<"u"&&window.fetch&&(uh=window.fetch);var jy;GC()&&(typeof global<"u"&&global.XMLHttpRequest?jy=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(jy=window.XMLHttpRequest));var Db;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Db=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Db=window.ActiveXObject));typeof uh!="function"&&(uh=void 0);if(!uh&&!jy&&!Db)try{qC(()=>import("./browser-ponyfill-119c5a43.js").then(a=>a.b),[]).then(function(a){uh=a.default}).catch(function(){})}catch{}var C4=function(e,t){if(t&&U_(t)==="object"){var i="";for(var n in t)i+="&"+encodeURIComponent(n)+"="+encodeURIComponent(t[n]);if(!i)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+i.slice(1)}return e},L8=function(e,t,i,n){var s=function(c){if(!c.ok)return i(c.statusText||"Error",{status:c.status});c.text().then(function(h){i(null,{status:c.status,data:h})}).catch(i)};if(n){var r=n(e,t);if(r instanceof Promise){r.then(s).catch(i);return}}typeof fetch=="function"?fetch(e,t).then(s).catch(i):uh(e,t).then(s).catch(i)},A8=!1,bN=function(e,t,i,n){e.queryStringParams&&(t=C4(t,e.queryStringParams));var s=M8({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),i&&(s["Content-Type"]="application/json");var r=typeof e.requestOptions=="function"?e.requestOptions(i):e.requestOptions,l=M8({method:i?"POST":"GET",body:i?e.stringify(i):void 0,headers:s},A8?{}:r),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{L8(t,l,n,c)}catch(h){if(!r||Object.keys(r).length===0||!h.message||h.message.indexOf("not implemented")<0)return n(h);try{Object.keys(r).forEach(function(f){delete l[f]}),L8(t,l,n,c),A8=!0}catch(f){n(f)}}},xN=function(e,t,i,n){i&&U_(i)==="object"&&(i=C4("",i).slice(1)),e.queryStringParams&&(t=C4(t,e.queryStringParams));try{var s=jy?new jy:new Db("MSXML2.XMLHTTP.3.0");s.open(i?"POST":"GET",t,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,i&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var r=e.customHeaders;if(r=typeof r=="function"?r():r,r)for(var l in r)s.setRequestHeader(l,r[l]);s.onreadystatechange=function(){s.readyState>3&&n(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(i)}catch(c){console&&console.log(c)}},wN=function(e,t,i,n){if(typeof i=="function"&&(n=i,i=void 0),n=n||function(){},uh&&t.indexOf("file:")!==0)return bN(e,t,i,n);if(GC()||typeof ActiveXObject=="function")return xN(e,t,i,n);n(new Error("No fetch and no xhr implementation found!"))};function sf(a){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(a)}function C8(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),t.push.apply(t,i)}return t}function Vw(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(t),!0).forEach(function(i){UC(a,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):C8(Object(t)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(t,i))})}return a}function SN(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function I8(a,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,VC(i.key),i)}}function TN(a,e,t){return e&&I8(a.prototype,e),t&&I8(a,t),Object.defineProperty(a,"prototype",{writable:!1}),a}function UC(a,e,t){return(e=VC(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function VC(a){var e=EN(a,"string");return sf(e)=="symbol"?e:e+""}function EN(a,e){if(sf(a)!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var i=t.call(a,e||"default");if(sf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}var MN=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,i,n){return UC({},i,n||"")},parseLoadPayload:function(t,i){},request:wN,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},jC=function(){function a(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};SN(this,a),this.services=e,this.options=t,this.allOptions=i,this.type="backend",this.init(e,t,i)}return TN(a,[{key:"init",value:function(t){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=Vw(Vw(Vw({},MN()),this.options||{}),n),this.allOptions=s,this.services&&this.options.reloadInterval){var r=setInterval(function(){return i.reload()},this.options.reloadInterval);sf(r)==="object"&&typeof r.unref=="function"&&r.unref()}}},{key:"readMulti",value:function(t,i,n){this._readAny(t,t,i,i,n)}},{key:"read",value:function(t,i,n){this._readAny([t],t,[i],i,n)}},{key:"_readAny",value:function(t,i,n,s,r){var l=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(t,n)),c=mN(c),c.then(function(h){if(!h)return r(null,{});var f=l.services.interpolator.interpolate(h,{lng:t.join("+"),ns:n.join("+")});l.loadUrl(f,r,i,s)})}},{key:"loadUrl",value:function(t,i,n,s){var r=this,l=typeof n=="string"?[n]:n,c=typeof s=="string"?[s]:s,h=this.options.parseLoadPayload(l,c);this.options.request(this.options,t,h,function(f,v){if(v&&(v.status>=500&&v.status<600||!v.status))return i("failed loading "+t+"; status code: "+v.status,!0);if(v&&v.status>=400&&v.status<500)return i("failed loading "+t+"; status code: "+v.status,!1);if(!v&&f&&f.message){var b=f.message.toLowerCase(),T=["failed","fetch","network","load"].find(function(R){return b.indexOf(R)>-1});if(T)return i("failed loading "+t+": "+f.message,!0)}if(f)return i(f,!1);var M,I;try{typeof v.data=="string"?M=r.options.parse(v.data,n,s):M=v.data}catch{I="failed parsing "+t+" to json"}if(I)return i(I,!1);i(null,M)})}},{key:"create",value:function(t,i,n,s,r){var l=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var c=this.options.parsePayload(i,n,s),h=0,f=[],v=[];t.forEach(function(b){var T=l.options.addPath;typeof l.options.addPath=="function"&&(T=l.options.addPath(b,i));var M=l.services.interpolator.interpolate(T,{lng:b,ns:i});l.options.request(l.options,M,c,function(I,R){h+=1,f.push(I),v.push(R),h===t.length&&typeof r=="function"&&r(f,v)})})}}},{key:"reload",value:function(){var t=this,i=this.services,n=i.backendConnector,s=i.languageUtils,r=i.logger,l=n.language;if(!(l&&l.toLowerCase()==="cimode")){var c=[],h=function(v){var b=s.toResolveHierarchy(v);b.forEach(function(T){c.indexOf(T)<0&&c.push(T)})};h(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return h(f)}),c.forEach(function(f){t.allOptions.ns.forEach(function(v){n.read(f,v,"read",null,null,function(b,T){b&&r.warn("loading namespace ".concat(v," for language ").concat(f," failed"),b),!b&&T&&r.log("loaded namespace ".concat(v," for language ").concat(f),T),n.loaded("".concat(f,"|").concat(v),b,T)})})})}}}])}();jC.type="backend";/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function v3(a){const e=Object.create(null);for(const t of a.split(","))e[t]=1;return t=>t in e}const _n={},Gp=[],Dl=()=>{},LN=()=>!1,ax=a=>a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&(a.charCodeAt(2)>122||a.charCodeAt(2)<97),b3=a=>a.startsWith("onUpdate:"),Sr=Object.assign,x3=(a,e)=>{const t=a.indexOf(e);t>-1&&a.splice(t,1)},AN=Object.prototype.hasOwnProperty,qi=(a,e)=>AN.call(a,e),Ca=Array.isArray,qp=a=>E0(a)==="[object Map]",ix=a=>E0(a)==="[object Set]",R8=a=>E0(a)==="[object Date]",Ya=a=>typeof a=="function",Un=a=>typeof a=="string",zl=a=>typeof a=="symbol",ln=a=>a!==null&&typeof a=="object",HC=a=>(ln(a)||Ya(a))&&Ya(a.then)&&Ya(a.catch),ZC=Object.prototype.toString,E0=a=>ZC.call(a),CN=a=>E0(a).slice(8,-1),XC=a=>E0(a)==="[object Object]",w3=a=>Un(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,yy=v3(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nx=a=>{const e=Object.create(null);return t=>e[t]||(e[t]=a(t))},IN=/-(\w)/g,ll=nx(a=>a.replace(IN,(e,t)=>t?t.toUpperCase():"")),RN=/\B([A-Z])/g,yh=nx(a=>a.replace(RN,"-$1").toLowerCase()),rx=nx(a=>a.charAt(0).toUpperCase()+a.slice(1)),jw=nx(a=>a?`on${rx(a)}`:""),eh=(a,e)=>!Object.is(a,e),ab=(a,...e)=>{for(let t=0;t<a.length;t++)a[t](...e)},YC=(a,e,t,i=!1)=>{Object.defineProperty(a,e,{configurable:!0,enumerable:!1,writable:i,value:t})},I4=a=>{const e=parseFloat(a);return isNaN(e)?a:e},ON=a=>{const e=Un(a)?Number(a):NaN;return isNaN(e)?a:e};let O8;const sx=()=>O8||(O8=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vh(a){if(Ca(a)){const e={};for(let t=0;t<a.length;t++){const i=a[t],n=Un(i)?FN(i):vh(i);if(n)for(const s in n)e[s]=n[s]}return e}else if(Un(a)||ln(a))return a}const kN=/;(?![^(]*\))/g,PN=/:([^]+)/,DN=/\/\*[^]*?\*\//g;function FN(a){const e={};return a.replace(DN,"").split(kN).forEach(t=>{if(t){const i=t.split(PN);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function ei(a){let e="";if(Un(a))e=a;else if(Ca(a))for(let t=0;t<a.length;t++){const i=ei(a[t]);i&&(e+=i+" ")}else if(ln(a))for(const t in a)a[t]&&(e+=t+" ");return e.trim()}const NN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",WN=v3(NN);function KC(a){return!!a||a===""}function zN(a,e){if(a.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<a.length;i++)t=ox(a[i],e[i]);return t}function ox(a,e){if(a===e)return!0;let t=R8(a),i=R8(e);if(t||i)return t&&i?a.getTime()===e.getTime():!1;if(t=zl(a),i=zl(e),t||i)return a===e;if(t=Ca(a),i=Ca(e),t||i)return t&&i?zN(a,e):!1;if(t=ln(a),i=ln(e),t||i){if(!t||!i)return!1;const n=Object.keys(a).length,s=Object.keys(e).length;if(n!==s)return!1;for(const r in a){const l=a.hasOwnProperty(r),c=e.hasOwnProperty(r);if(l&&!c||!l&&c||!ox(a[r],e[r]))return!1}}return String(a)===String(e)}function $C(a,e){return a.findIndex(t=>ox(t,e))}const QC=a=>!!(a&&a.__v_isRef===!0),De=a=>Un(a)?a:a==null?"":Ca(a)||ln(a)&&(a.toString===ZC||!Ya(a.toString))?QC(a)?De(a.value):JSON.stringify(a,JC,2):String(a),JC=(a,e)=>QC(e)?JC(a,e.value):qp(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,n],s)=>(t[Hw(i,s)+" =>"]=n,t),{})}:ix(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Hw(t))}:zl(e)?Hw(e):ln(e)&&!Ca(e)&&!XC(e)?String(e):e,Hw=(a,e="")=>{var t;return zl(a)?`Symbol(${(t=a.description)!=null?t:e})`:a};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qs;class e9{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qs,!e&&qs&&(this.index=(qs.scopes||(qs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=qs;try{return qs=this,e()}finally{qs=t}}}on(){qs=this}off(){qs=this.parent}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function t9(a){return new e9(a)}function a9(){return qs}function BN(a,e=!1){qs&&qs.cleanups.push(a)}let bn;const Zw=new WeakSet;class i9{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qs&&qs.active&&qs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Zw.has(this)&&(Zw.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||r9(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,k8(this),s9(this);const e=bn,t=Fl;bn=this,Fl=!0;try{return this.fn()}finally{o9(this),bn=e,Fl=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)E3(e);this.deps=this.depsTail=void 0,k8(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Zw.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){R4(this)&&this.run()}get dirty(){return R4(this)}}let n9=0,vy,by;function r9(a,e=!1){if(a.flags|=8,e){a.next=by,by=a;return}a.next=vy,vy=a}function S3(){n9++}function T3(){if(--n9>0)return;if(by){let e=by;for(by=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let a;for(;vy;){let e=vy;for(vy=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){a||(a=i)}e=t}}if(a)throw a}function s9(a){for(let e=a.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function o9(a){let e,t=a.depsTail,i=t;for(;i;){const n=i.prevDep;i.version===-1?(i===t&&(t=n),E3(i),GN(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}a.deps=e,a.depsTail=t}function R4(a){for(let e=a.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(l9(e.dep.computed)||e.dep.version!==e.version))return!0;return!!a._dirty}function l9(a){if(a.flags&4&&!(a.flags&16)||(a.flags&=-17,a.globalVersion===Hy))return;a.globalVersion=Hy;const e=a.dep;if(a.flags|=2,e.version>0&&!a.isSSR&&a.deps&&!R4(a)){a.flags&=-3;return}const t=bn,i=Fl;bn=a,Fl=!0;try{s9(a);const n=a.fn(a._value);(e.version===0||eh(n,a._value))&&(a._value=n,e.version++)}catch(n){throw e.version++,n}finally{bn=t,Fl=i,o9(a),a.flags&=-3}}function E3(a,e=!1){const{dep:t,prevSub:i,nextSub:n}=a;if(i&&(i.nextSub=n,a.prevSub=void 0),n&&(n.prevSub=i,a.nextSub=void 0),t.subs===a&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)E3(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function GN(a){const{prevDep:e,nextDep:t}=a;e&&(e.nextDep=t,a.prevDep=void 0),t&&(t.prevDep=e,a.nextDep=void 0)}let Fl=!0;const u9=[];function bh(){u9.push(Fl),Fl=!1}function xh(){const a=u9.pop();Fl=a===void 0?!0:a}function k8(a){const{cleanup:e}=a;if(a.cleanup=void 0,e){const t=bn;bn=void 0;try{e()}finally{bn=t}}}let Hy=0;class qN{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class M3{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!bn||!Fl||bn===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==bn)t=this.activeLink=new qN(bn,this),bn.deps?(t.prevDep=bn.depsTail,bn.depsTail.nextDep=t,bn.depsTail=t):bn.deps=bn.depsTail=t,c9(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=bn.depsTail,t.nextDep=void 0,bn.depsTail.nextDep=t,bn.depsTail=t,bn.deps===t&&(bn.deps=i)}return t}trigger(e){this.version++,Hy++,this.notify(e)}notify(e){S3();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{T3()}}}function c9(a){if(a.dep.sc++,a.sub.flags&4){const e=a.dep.computed;if(e&&!a.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)c9(i)}const t=a.dep.subs;t!==a&&(a.prevSub=t,t&&(t.nextSub=a)),a.dep.subs=a}}const Fb=new WeakMap,W_=Symbol(""),O4=Symbol(""),Zy=Symbol("");function Es(a,e,t){if(Fl&&bn){let i=Fb.get(a);i||Fb.set(a,i=new Map);let n=i.get(t);n||(i.set(t,n=new M3),n.map=i,n.key=t),n.track()}}function Cc(a,e,t,i,n,s){const r=Fb.get(a);if(!r){Hy++;return}const l=c=>{c&&c.trigger()};if(S3(),e==="clear")r.forEach(l);else{const c=Ca(a),h=c&&w3(t);if(c&&t==="length"){const f=Number(i);r.forEach((v,b)=>{(b==="length"||b===Zy||!zl(b)&&b>=f)&&l(v)})}else switch((t!==void 0||r.has(void 0))&&l(r.get(t)),h&&l(r.get(Zy)),e){case"add":c?h&&l(r.get("length")):(l(r.get(W_)),qp(a)&&l(r.get(O4)));break;case"delete":c||(l(r.get(W_)),qp(a)&&l(r.get(O4)));break;case"set":qp(a)&&l(r.get(W_));break}}T3()}function UN(a,e){const t=Fb.get(a);return t&&t.get(e)}function lp(a){const e=Mi(a);return e===a?e:(Es(e,"iterate",Zy),ol(a)?e:e.map(Ms))}function lx(a){return Es(a=Mi(a),"iterate",Zy),a}const VN={__proto__:null,[Symbol.iterator](){return Xw(this,Symbol.iterator,Ms)},concat(...a){return lp(this).concat(...a.map(e=>Ca(e)?lp(e):e))},entries(){return Xw(this,"entries",a=>(a[1]=Ms(a[1]),a))},every(a,e){return pc(this,"every",a,e,void 0,arguments)},filter(a,e){return pc(this,"filter",a,e,t=>t.map(Ms),arguments)},find(a,e){return pc(this,"find",a,e,Ms,arguments)},findIndex(a,e){return pc(this,"findIndex",a,e,void 0,arguments)},findLast(a,e){return pc(this,"findLast",a,e,Ms,arguments)},findLastIndex(a,e){return pc(this,"findLastIndex",a,e,void 0,arguments)},forEach(a,e){return pc(this,"forEach",a,e,void 0,arguments)},includes(...a){return Yw(this,"includes",a)},indexOf(...a){return Yw(this,"indexOf",a)},join(a){return lp(this).join(a)},lastIndexOf(...a){return Yw(this,"lastIndexOf",a)},map(a,e){return pc(this,"map",a,e,void 0,arguments)},pop(){return Bg(this,"pop")},push(...a){return Bg(this,"push",a)},reduce(a,...e){return P8(this,"reduce",a,e)},reduceRight(a,...e){return P8(this,"reduceRight",a,e)},shift(){return Bg(this,"shift")},some(a,e){return pc(this,"some",a,e,void 0,arguments)},splice(...a){return Bg(this,"splice",a)},toReversed(){return lp(this).toReversed()},toSorted(a){return lp(this).toSorted(a)},toSpliced(...a){return lp(this).toSpliced(...a)},unshift(...a){return Bg(this,"unshift",a)},values(){return Xw(this,"values",Ms)}};function Xw(a,e,t){const i=lx(a),n=i[e]();return i!==a&&!ol(a)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=t(s.value)),s}),n}const jN=Array.prototype;function pc(a,e,t,i,n,s){const r=lx(a),l=r!==a&&!ol(a),c=r[e];if(c!==jN[e]){const v=c.apply(a,s);return l?Ms(v):v}let h=t;r!==a&&(l?h=function(v,b){return t.call(this,Ms(v),b,a)}:t.length>2&&(h=function(v,b){return t.call(this,v,b,a)}));const f=c.call(r,h,i);return l&&n?n(f):f}function P8(a,e,t,i){const n=lx(a);let s=t;return n!==a&&(ol(a)?t.length>3&&(s=function(r,l,c){return t.call(this,r,l,c,a)}):s=function(r,l,c){return t.call(this,r,Ms(l),c,a)}),n[e](s,...i)}function Yw(a,e,t){const i=Mi(a);Es(i,"iterate",Zy);const n=i[e](...t);return(n===-1||n===!1)&&C3(t[0])?(t[0]=Mi(t[0]),i[e](...t)):n}function Bg(a,e,t=[]){bh(),S3();const i=Mi(a)[e].apply(a,t);return T3(),xh(),i}const HN=v3("__proto__,__v_isRef,__isVue"),d9=new Set(Object.getOwnPropertyNames(Symbol).filter(a=>a!=="arguments"&&a!=="caller").map(a=>Symbol[a]).filter(zl));function ZN(a){zl(a)||(a=String(a));const e=Mi(this);return Es(e,"has",a),e.hasOwnProperty(a)}class h9{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const n=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return s;if(t==="__v_raw")return i===(n?s?iW:f9:s?p9:m9).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const r=Ca(e);if(!n){let c;if(r&&(c=VN[t]))return c;if(t==="hasOwnProperty")return ZN}const l=Reflect.get(e,t,Dn(e)?e:i);return(zl(t)?d9.has(t):HN(t))||(n||Es(e,"get",t),s)?l:Dn(l)?r&&w3(t)?l:l.value:ln(l)?n?g9(l):ux(l):l}}class _9 extends h9{constructor(e=!1){super(!1,e)}set(e,t,i,n){let s=e[t];if(!this._isShallow){const c=V_(s);if(!ol(i)&&!V_(i)&&(s=Mi(s),i=Mi(i)),!Ca(e)&&Dn(s)&&!Dn(i))return c?!1:(s.value=i,!0)}const r=Ca(e)&&w3(t)?Number(t)<e.length:qi(e,t),l=Reflect.set(e,t,i,Dn(e)?e:n);return e===Mi(n)&&(r?eh(i,s)&&Cc(e,"set",t,i):Cc(e,"add",t,i)),l}deleteProperty(e,t){const i=qi(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&Cc(e,"delete",t,void 0),n}has(e,t){const i=Reflect.has(e,t);return(!zl(t)||!d9.has(t))&&Es(e,"has",t),i}ownKeys(e){return Es(e,"iterate",Ca(e)?"length":W_),Reflect.ownKeys(e)}}class XN extends h9{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const YN=new _9,KN=new XN,$N=new _9(!0);const k4=a=>a,ov=a=>Reflect.getPrototypeOf(a);function QN(a,e,t){return function(...i){const n=this.__v_raw,s=Mi(n),r=qp(s),l=a==="entries"||a===Symbol.iterator&&r,c=a==="keys"&&r,h=n[a](...i),f=t?k4:e?P4:Ms;return!e&&Es(s,"iterate",c?O4:W_),{next(){const{value:v,done:b}=h.next();return b?{value:v,done:b}:{value:l?[f(v[0]),f(v[1])]:f(v),done:b}},[Symbol.iterator](){return this}}}}function lv(a){return function(...e){return a==="delete"?!1:a==="clear"?void 0:this}}function JN(a,e){const t={get(n){const s=this.__v_raw,r=Mi(s),l=Mi(n);a||(eh(n,l)&&Es(r,"get",n),Es(r,"get",l));const{has:c}=ov(r),h=e?k4:a?P4:Ms;if(c.call(r,n))return h(s.get(n));if(c.call(r,l))return h(s.get(l));s!==r&&s.get(n)},get size(){const n=this.__v_raw;return!a&&Es(Mi(n),"iterate",W_),Reflect.get(n,"size",n)},has(n){const s=this.__v_raw,r=Mi(s),l=Mi(n);return a||(eh(n,l)&&Es(r,"has",n),Es(r,"has",l)),n===l?s.has(n):s.has(n)||s.has(l)},forEach(n,s){const r=this,l=r.__v_raw,c=Mi(l),h=e?k4:a?P4:Ms;return!a&&Es(c,"iterate",W_),l.forEach((f,v)=>n.call(s,h(f),h(v),r))}};return Sr(t,a?{add:lv("add"),set:lv("set"),delete:lv("delete"),clear:lv("clear")}:{add(n){!e&&!ol(n)&&!V_(n)&&(n=Mi(n));const s=Mi(this);return ov(s).has.call(s,n)||(s.add(n),Cc(s,"add",n,n)),this},set(n,s){!e&&!ol(s)&&!V_(s)&&(s=Mi(s));const r=Mi(this),{has:l,get:c}=ov(r);let h=l.call(r,n);h||(n=Mi(n),h=l.call(r,n));const f=c.call(r,n);return r.set(n,s),h?eh(s,f)&&Cc(r,"set",n,s):Cc(r,"add",n,s),this},delete(n){const s=Mi(this),{has:r,get:l}=ov(s);let c=r.call(s,n);c||(n=Mi(n),c=r.call(s,n)),l&&l.call(s,n);const h=s.delete(n);return c&&Cc(s,"delete",n,void 0),h},clear(){const n=Mi(this),s=n.size!==0,r=n.clear();return s&&Cc(n,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=QN(n,a,e)}),t}function L3(a,e){const t=JN(a,e);return(i,n,s)=>n==="__v_isReactive"?!a:n==="__v_isReadonly"?a:n==="__v_raw"?i:Reflect.get(qi(t,n)&&n in i?t:i,n,s)}const eW={get:L3(!1,!1)},tW={get:L3(!1,!0)},aW={get:L3(!0,!1)};const m9=new WeakMap,p9=new WeakMap,f9=new WeakMap,iW=new WeakMap;function nW(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rW(a){return a.__v_skip||!Object.isExtensible(a)?0:nW(CN(a))}function ux(a){return V_(a)?a:A3(a,!1,YN,eW,m9)}function sW(a){return A3(a,!1,$N,tW,p9)}function g9(a){return A3(a,!0,KN,aW,f9)}function A3(a,e,t,i,n){if(!ln(a)||a.__v_raw&&!(e&&a.__v_isReactive))return a;const s=n.get(a);if(s)return s;const r=rW(a);if(r===0)return a;const l=new Proxy(a,r===2?i:t);return n.set(a,l),l}function Pc(a){return V_(a)?Pc(a.__v_raw):!!(a&&a.__v_isReactive)}function V_(a){return!!(a&&a.__v_isReadonly)}function ol(a){return!!(a&&a.__v_isShallow)}function C3(a){return a?!!a.__v_raw:!1}function Mi(a){const e=a&&a.__v_raw;return e?Mi(e):a}function I3(a){return!qi(a,"__v_skip")&&Object.isExtensible(a)&&YC(a,"__v_skip",!0),a}const Ms=a=>ln(a)?ux(a):a,P4=a=>ln(a)?g9(a):a;function Dn(a){return a?a.__v_isRef===!0:!1}function $e(a){return y9(a,!1)}function Li(a){return y9(a,!0)}function y9(a,e){return Dn(a)?a:new oW(a,e)}class oW{constructor(e,t){this.dep=new M3,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Mi(e),this._value=t?e:Ms(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||ol(e)||V_(e);e=i?e:Mi(e),eh(e,t)&&(this._rawValue=e,this._value=i?e:Ms(e),this.dep.trigger())}}function V(a){return Dn(a)?a.value:a}function lW(a){return Ya(a)?a():V(a)}const uW={get:(a,e,t)=>e==="__v_raw"?a:V(Reflect.get(a,e,t)),set:(a,e,t,i)=>{const n=a[e];return Dn(n)&&!Dn(t)?(n.value=t,!0):Reflect.set(a,e,t,i)}};function v9(a){return Pc(a)?a:new Proxy(a,uW)}function cW(a){const e=Ca(a)?new Array(a.length):{};for(const t in a)e[t]=x9(a,t);return e}class dW{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return UN(Mi(this._object),this._key)}}class hW{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function b9(a,e,t){return Dn(a)?a:Ya(a)?new hW(a):ln(a)&&arguments.length>1?x9(a,e,t):$e(a)}function x9(a,e,t){const i=a[e];return Dn(i)?i:new dW(a,e,t)}class _W{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new M3(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hy-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&bn!==this)return r9(this,!0),!0}get value(){const e=this.dep.track();return l9(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function mW(a,e,t=!1){let i,n;return Ya(a)?i=a:(i=a.get,n=a.set),new _W(i,n,t)}const uv={},Nb=new WeakMap;let T_;function pW(a,e=!1,t=T_){if(t){let i=Nb.get(t);i||Nb.set(t,i=[]),i.push(a)}}function fW(a,e,t=_n){const{immediate:i,deep:n,once:s,scheduler:r,augmentJob:l,call:c}=t,h=W=>n?W:ol(W)||n===!1||n===0?Ic(W,1):Ic(W);let f,v,b,T,M=!1,I=!1;if(Dn(a)?(v=()=>a.value,M=ol(a)):Pc(a)?(v=()=>h(a),M=!0):Ca(a)?(I=!0,M=a.some(W=>Pc(W)||ol(W)),v=()=>a.map(W=>{if(Dn(W))return W.value;if(Pc(W))return h(W);if(Ya(W))return c?c(W,2):W()})):Ya(a)?e?v=c?()=>c(a,2):a:v=()=>{if(b){bh();try{b()}finally{xh()}}const W=T_;T_=f;try{return c?c(a,3,[T]):a(T)}finally{T_=W}}:v=Dl,e&&n){const W=v,Z=n===!0?1/0:n;v=()=>Ic(W(),Z)}const R=a9(),P=()=>{f.stop(),R&&R.active&&x3(R.effects,f)};if(s&&e){const W=e;e=(...Z)=>{W(...Z),P()}}let F=I?new Array(a.length).fill(uv):uv;const B=W=>{if(!(!(f.flags&1)||!f.dirty&&!W))if(e){const Z=f.run();if(n||M||(I?Z.some((ae,he)=>eh(ae,F[he])):eh(Z,F))){b&&b();const ae=T_;T_=f;try{const he=[Z,F===uv?void 0:I&&F[0]===uv?[]:F,T];c?c(e,3,he):e(...he),F=Z}finally{T_=ae}}}else f.run()};return l&&l(B),f=new i9(v),f.scheduler=r?()=>r(B,!1):B,T=W=>pW(W,!1,f),b=f.onStop=()=>{const W=Nb.get(f);if(W){if(c)c(W,4);else for(const Z of W)Z();Nb.delete(f)}},e?i?B(!0):F=f.run():r?r(B.bind(null,!0),!0):f.run(),P.pause=f.pause.bind(f),P.resume=f.resume.bind(f),P.stop=P,P}function Ic(a,e=1/0,t){if(e<=0||!ln(a)||a.__v_skip||(t=t||new Set,t.has(a)))return a;if(t.add(a),e--,Dn(a))Ic(a.value,e,t);else if(Ca(a))for(let i=0;i<a.length;i++)Ic(a[i],e,t);else if(ix(a)||qp(a))a.forEach(i=>{Ic(i,e,t)});else if(XC(a)){for(const i in a)Ic(a[i],e,t);for(const i of Object.getOwnPropertySymbols(a))Object.prototype.propertyIsEnumerable.call(a,i)&&Ic(a[i],e,t)}return a}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function M0(a,e,t,i){try{return i?a(...i):a()}catch(n){cx(n,e,t)}}function Bl(a,e,t,i){if(Ya(a)){const n=M0(a,e,t,i);return n&&HC(n)&&n.catch(s=>{cx(s,e,t)}),n}if(Ca(a)){const n=[];for(let s=0;s<a.length;s++)n.push(Bl(a[s],e,t,i));return n}}function cx(a,e,t,i=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:r}=e&&e.appContext.config||_n;if(e){let l=e.parent;const c=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const f=l.ec;if(f){for(let v=0;v<f.length;v++)if(f[v](a,c,h)===!1)return}l=l.parent}if(s){bh(),M0(s,null,10,[a,c,h]),xh();return}}gW(a,t,n,i,r)}function gW(a,e,t,i=!0,n=!1){if(n)throw a;console.error(a)}const Us=[];let wu=-1;const Up=[];let kd=null,bp=0;const w9=Promise.resolve();let Wb=null;function Xy(a){const e=Wb||w9;return a?e.then(this?a.bind(this):a):e}function yW(a){let e=wu+1,t=Us.length;for(;e<t;){const i=e+t>>>1,n=Us[i],s=Yy(n);s<a||s===a&&n.flags&2?e=i+1:t=i}return e}function R3(a){if(!(a.flags&1)){const e=Yy(a),t=Us[Us.length-1];!t||!(a.flags&2)&&e>=Yy(t)?Us.push(a):Us.splice(yW(e),0,a),a.flags|=1,S9()}}function S9(){Wb||(Wb=w9.then(E9))}function vW(a){Ca(a)?Up.push(...a):kd&&a.id===-1?kd.splice(bp+1,0,a):a.flags&1||(Up.push(a),a.flags|=1),S9()}function D8(a,e,t=wu+1){for(;t<Us.length;t++){const i=Us[t];if(i&&i.flags&2){if(a&&i.id!==a.uid)continue;Us.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function T9(a){if(Up.length){const e=[...new Set(Up)].sort((t,i)=>Yy(t)-Yy(i));if(Up.length=0,kd){kd.push(...e);return}for(kd=e,bp=0;bp<kd.length;bp++){const t=kd[bp];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}kd=null,bp=0}}const Yy=a=>a.id==null?a.flags&2?-1:1/0:a.id;function E9(a){const e=Dl;try{for(wu=0;wu<Us.length;wu++){const t=Us[wu];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),M0(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wu<Us.length;wu++){const t=Us[wu];t&&(t.flags&=-2)}wu=-1,Us.length=0,T9(),Wb=null,(Us.length||Up.length)&&E9()}}let Or=null,M9=null;function zb(a){const e=Or;return Or=a,M9=a&&a.type.__scopeId||null,e}function Xa(a,e=Or,t){if(!e||a._n)return a;const i=(...n)=>{i._d&&X8(-1);const s=zb(e);let r;try{r=a(...n)}finally{zb(s),i._d&&X8(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function Ai(a,e){if(Or===null)return a;const t=gx(Or),i=a.dirs||(a.dirs=[]);for(let n=0;n<e.length;n++){let[s,r,l,c=_n]=e[n];s&&(Ya(s)&&(s={mounted:s,updated:s}),s.deep&&Ic(r),i.push({dir:s,instance:t,value:r,oldValue:void 0,arg:l,modifiers:c}))}return a}function c_(a,e,t,i){const n=a.dirs,s=e&&e.dirs;for(let r=0;r<n.length;r++){const l=n[r];s&&(l.oldValue=s[r].value);let c=l.dir[i];c&&(bh(),Bl(c,t,8,[a.el,l,a,e]),xh())}}const L9=Symbol("_vte"),A9=a=>a.__isTeleport,xy=a=>a&&(a.disabled||a.disabled===""),F8=a=>a&&(a.defer||a.defer===""),N8=a=>typeof SVGElement<"u"&&a instanceof SVGElement,W8=a=>typeof MathMLElement=="function"&&a instanceof MathMLElement,D4=(a,e)=>{const t=a&&a.to;return Un(t)?e?e(t):null:t},C9={name:"Teleport",__isTeleport:!0,process(a,e,t,i,n,s,r,l,c,h){const{mc:f,pc:v,pbc:b,o:{insert:T,querySelector:M,createText:I,createComment:R}}=h,P=xy(e.props);let{shapeFlag:F,children:B,dynamicChildren:W}=e;if(a==null){const Z=e.el=I(""),ae=e.anchor=I("");T(Z,t,i),T(ae,t,i);const he=(ie,me)=>{F&16&&(n&&n.isCE&&(n.ce._teleportTarget=ie),f(B,ie,me,n,s,r,l,c))},_e=()=>{const ie=e.target=D4(e.props,M),me=I9(ie,e,I,T);ie&&(r!=="svg"&&N8(ie)?r="svg":r!=="mathml"&&W8(ie)&&(r="mathml"),P||(he(ie,me),ib(e,!1)))};P&&(he(t,ae),ib(e,!0)),F8(e.props)?Bs(()=>{_e(),e.el.__isMounted=!0},s):_e()}else{if(F8(e.props)&&!a.el.__isMounted){Bs(()=>{C9.process(a,e,t,i,n,s,r,l,c,h),delete a.el.__isMounted},s);return}e.el=a.el,e.targetStart=a.targetStart;const Z=e.anchor=a.anchor,ae=e.target=a.target,he=e.targetAnchor=a.targetAnchor,_e=xy(a.props),ie=_e?t:ae,me=_e?Z:he;if(r==="svg"||N8(ae)?r="svg":(r==="mathml"||W8(ae))&&(r="mathml"),W?(b(a.dynamicChildren,W,ie,n,s,r,l),N3(a,e,!0)):c||v(a,e,ie,me,n,s,r,l,!1),P)_e?e.props&&a.props&&e.props.to!==a.props.to&&(e.props.to=a.props.to):cv(e,t,Z,h,1);else if((e.props&&e.props.to)!==(a.props&&a.props.to)){const fe=e.target=D4(e.props,M);fe&&cv(e,fe,null,h,0)}else _e&&cv(e,ae,he,h,1);ib(e,P)}},remove(a,e,t,{um:i,o:{remove:n}},s){const{shapeFlag:r,children:l,anchor:c,targetStart:h,targetAnchor:f,target:v,props:b}=a;if(v&&(n(h),n(f)),s&&n(c),r&16){const T=s||!xy(b);for(let M=0;M<l.length;M++){const I=l[M];i(I,e,t,T,!!I.dynamicChildren)}}},move:cv,hydrate:bW};function cv(a,e,t,{o:{insert:i},m:n},s=2){s===0&&i(a.targetAnchor,e,t);const{el:r,anchor:l,shapeFlag:c,children:h,props:f}=a,v=s===2;if(v&&i(r,e,t),(!v||xy(f))&&c&16)for(let b=0;b<h.length;b++)n(h[b],e,t,2);v&&i(l,e,t)}function bW(a,e,t,i,n,s,{o:{nextSibling:r,parentNode:l,querySelector:c,insert:h,createText:f}},v){const b=e.target=D4(e.props,c);if(b){const T=xy(e.props),M=b._lpa||b.firstChild;if(e.shapeFlag&16)if(T)e.anchor=v(r(a),e,l(a),t,i,n,s),e.targetStart=M,e.targetAnchor=M&&r(M);else{e.anchor=r(a);let I=M;for(;I;){if(I&&I.nodeType===8){if(I.data==="teleport start anchor")e.targetStart=I;else if(I.data==="teleport anchor"){e.targetAnchor=I,b._lpa=e.targetAnchor&&r(e.targetAnchor);break}}I=r(I)}e.targetAnchor||I9(b,e,f,h),v(M&&r(M),e,b,t,i,n,s)}ib(e,T)}return e.anchor&&r(e.anchor)}const dx=C9;function ib(a,e){const t=a.ctx;if(t&&t.ut){let i,n;for(e?(i=a.el,n=a.anchor):(i=a.targetStart,n=a.targetAnchor);i&&i!==n;)i.nodeType===1&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}function I9(a,e,t,i){const n=e.targetStart=t(""),s=e.targetAnchor=t("");return n[L9]=s,a&&(i(n,a),i(s,a)),s}const Pd=Symbol("_leaveCb"),dv=Symbol("_enterCb");function xW(){const a={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jn(()=>{a.isMounted=!0}),O3(()=>{a.isUnmounting=!0}),a}const el=[Function,Array],R9={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:el,onEnter:el,onAfterEnter:el,onEnterCancelled:el,onBeforeLeave:el,onLeave:el,onAfterLeave:el,onLeaveCancelled:el,onBeforeAppear:el,onAppear:el,onAfterAppear:el,onAppearCancelled:el},O9=a=>{const e=a.subTree;return e.component?O9(e.component):e},wW={name:"BaseTransition",props:R9,setup(a,{slots:e}){const t=n7(),i=xW();return()=>{const n=e.default&&D9(e.default(),!0);if(!n||!n.length)return;const s=k9(n),r=Mi(a),{mode:l}=r;if(i.isLeaving)return Kw(s);const c=z8(s);if(!c)return Kw(s);let h=F4(c,r,i,t,v=>h=v);c.type!==js&&Ky(c,h);let f=t.subTree&&z8(t.subTree);if(f&&f.type!==js&&!A_(c,f)&&O9(t).type!==js){let v=F4(f,r,i,t);if(Ky(f,v),l==="out-in"&&c.type!==js)return i.isLeaving=!0,v.afterLeave=()=>{i.isLeaving=!1,t.job.flags&8||t.update(),delete v.afterLeave,f=void 0},Kw(s);l==="in-out"&&c.type!==js?v.delayLeave=(b,T,M)=>{const I=P9(i,f);I[String(f.key)]=f,b[Pd]=()=>{T(),b[Pd]=void 0,delete h.delayedLeave,f=void 0},h.delayedLeave=()=>{M(),delete h.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return s}}};function k9(a){let e=a[0];if(a.length>1){for(const t of a)if(t.type!==js){e=t;break}}return e}const SW=wW;function P9(a,e){const{leavingVNodes:t}=a;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function F4(a,e,t,i,n){const{appear:s,mode:r,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:f,onEnterCancelled:v,onBeforeLeave:b,onLeave:T,onAfterLeave:M,onLeaveCancelled:I,onBeforeAppear:R,onAppear:P,onAfterAppear:F,onAppearCancelled:B}=e,W=String(a.key),Z=P9(t,a),ae=(ie,me)=>{ie&&Bl(ie,i,9,me)},he=(ie,me)=>{const fe=me[1];ae(ie,me),Ca(ie)?ie.every(be=>be.length<=1)&&fe():ie.length<=1&&fe()},_e={mode:r,persisted:l,beforeEnter(ie){let me=c;if(!t.isMounted)if(s)me=R||c;else return;ie[Pd]&&ie[Pd](!0);const fe=Z[W];fe&&A_(a,fe)&&fe.el[Pd]&&fe.el[Pd](),ae(me,[ie])},enter(ie){let me=h,fe=f,be=v;if(!t.isMounted)if(s)me=P||h,fe=F||f,be=B||v;else return;let Ae=!1;const Ye=ie[dv]=Xe=>{Ae||(Ae=!0,Xe?ae(be,[ie]):ae(fe,[ie]),_e.delayedLeave&&_e.delayedLeave(),ie[dv]=void 0)};me?he(me,[ie,Ye]):Ye()},leave(ie,me){const fe=String(a.key);if(ie[dv]&&ie[dv](!0),t.isUnmounting)return me();ae(b,[ie]);let be=!1;const Ae=ie[Pd]=Ye=>{be||(be=!0,me(),Ye?ae(I,[ie]):ae(M,[ie]),ie[Pd]=void 0,Z[fe]===a&&delete Z[fe])};Z[fe]=a,T?he(T,[ie,Ae]):Ae()},clone(ie){const me=F4(ie,e,t,i,n);return n&&n(me),me}};return _e}function Kw(a){if(hx(a))return a=ch(a),a.children=null,a}function z8(a){if(!hx(a))return A9(a.type)&&a.children?k9(a.children):a;const{shapeFlag:e,children:t}=a;if(t){if(e&16)return t[0];if(e&32&&Ya(t.default))return t.default()}}function Ky(a,e){a.shapeFlag&6&&a.component?(a.transition=e,Ky(a.component.subTree,e)):a.shapeFlag&128?(a.ssContent.transition=e.clone(a.ssContent),a.ssFallback.transition=e.clone(a.ssFallback)):a.transition=e}function D9(a,e=!1,t){let i=[],n=0;for(let s=0;s<a.length;s++){let r=a[s];const l=t==null?r.key:String(t)+String(r.key!=null?r.key:s);r.type===sa?(r.patchFlag&128&&n++,i=i.concat(D9(r.children,e,l))):(e||r.type!==js)&&i.push(l!=null?ch(r,{key:l}):r)}if(n>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function ft(a,e){return Ya(a)?(()=>Sr({name:a.name},e,{setup:a}))():a}function F9(a){a.ids=[a.ids[0]+a.ids[2]+++"-",0,0]}function Bb(a,e,t,i,n=!1){if(Ca(a)){a.forEach((M,I)=>Bb(M,e&&(Ca(e)?e[I]:e),t,i,n));return}if(Vp(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Bb(a,e,t,i.component.subTree);return}const s=i.shapeFlag&4?gx(i.component):i.el,r=n?null:s,{i:l,r:c}=a,h=e&&e.r,f=l.refs===_n?l.refs={}:l.refs,v=l.setupState,b=Mi(v),T=v===_n?()=>!1:M=>qi(b,M);if(h!=null&&h!==c&&(Un(h)?(f[h]=null,T(h)&&(v[h]=null)):Dn(h)&&(h.value=null)),Ya(c))M0(c,l,12,[r,f]);else{const M=Un(c),I=Dn(c);if(M||I){const R=()=>{if(a.f){const P=M?T(c)?v[c]:f[c]:c.value;n?Ca(P)&&x3(P,s):Ca(P)?P.includes(s)||P.push(s):M?(f[c]=[s],T(c)&&(v[c]=f[c])):(c.value=[s],a.k&&(f[a.k]=c.value))}else M?(f[c]=r,T(c)&&(v[c]=r)):I&&(c.value=r,a.k&&(f[a.k]=r))};r?(R.id=-1,Bs(R,t)):R()}}}sx().requestIdleCallback;sx().cancelIdleCallback;const Vp=a=>!!a.type.__asyncLoader,hx=a=>a.type.__isKeepAlive;function N9(a,e){W9(a,"a",e)}function TW(a,e){W9(a,"da",e)}function W9(a,e,t=Zr){const i=a.__wdc||(a.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return a()});if(_x(e,i,t),t){let n=t.parent;for(;n&&n.parent;)hx(n.parent.vnode)&&EW(i,e,t,n),n=n.parent}}function EW(a,e,t,i){const n=_x(e,a,i,!0);Os(()=>{x3(i[e],n)},t)}function _x(a,e,t=Zr,i=!1){if(t){const n=t[a]||(t[a]=[]),s=e.__weh||(e.__weh=(...r)=>{bh();const l=A0(t),c=Bl(e,t,a,r);return l(),xh(),c});return i?n.unshift(s):n.push(s),s}}const Qc=a=>(e,t=Zr)=>{(!Jy||a==="sp")&&_x(a,(...i)=>e(...i),t)},MW=Qc("bm"),jn=Qc("m"),LW=Qc("bu"),AW=Qc("u"),O3=Qc("bum"),Os=Qc("um"),CW=Qc("sp"),IW=Qc("rtg"),RW=Qc("rtc");function OW(a,e=Zr){_x("ec",a,e)}const k3="components",kW="directives";function PW(a,e){return P3(k3,a,!0,e)||a}const z9=Symbol.for("v-ndc");function L0(a){return Un(a)?P3(k3,a,!1)||a:a||z9}function wh(a){return P3(kW,a)}function P3(a,e,t=!0,i=!1){const n=Or||Zr;if(n){const s=n.type;if(a===k3){const l=bz(s,!1);if(l&&(l===e||l===ll(e)||l===rx(ll(e))))return s}const r=B8(n[a]||s[a],e)||B8(n.appContext[a],e);return!r&&i?s:r}}function B8(a,e){return a&&(a[e]||a[ll(e)]||a[rx(ll(e))])}function Cn(a,e,t,i){let n;const s=t&&t[i],r=Ca(a);if(r||Un(a)){const l=r&&Pc(a);let c=!1;l&&(c=!ol(a),a=lx(a)),n=new Array(a.length);for(let h=0,f=a.length;h<f;h++)n[h]=e(c?Ms(a[h]):a[h],h,void 0,s&&s[h])}else if(typeof a=="number"){n=new Array(a);for(let l=0;l<a;l++)n[l]=e(l+1,l,void 0,s&&s[l])}else if(ln(a))if(a[Symbol.iterator])n=Array.from(a,(l,c)=>e(l,c,void 0,s&&s[c]));else{const l=Object.keys(a);n=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const f=l[c];n[c]=e(a[f],f,c,s&&s[c])}}else n=[];return t&&(t[i]=n),n}function Va(a,e,t={},i,n){if(Or.ce||Or.parent&&Vp(Or.parent)&&Or.parent.ce)return e!=="default"&&(t.name=e),ne(),ga(sa,null,[ct("slot",t,i&&i())],64);let s=a[e];s&&s._c&&(s._d=!1),ne();const r=s&&B9(s(t)),l=t.key||r&&r.key,c=ga(sa,{key:(l&&!zl(l)?l:`_${e}`)+(!r&&i?"_fb":"")},r||(i?i():[]),r&&a._===1?64:-2);return!n&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function B9(a){return a.some(e=>Qy(e)?!(e.type===js||e.type===sa&&!B9(e.children)):!0)?a:null}const N4=a=>a?r7(a)?gx(a):N4(a.parent):null,wy=Sr(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>N4(a.parent),$root:a=>N4(a.root),$host:a=>a.ce,$emit:a=>a.emit,$options:a=>D3(a),$forceUpdate:a=>a.f||(a.f=()=>{R3(a.update)}),$nextTick:a=>a.n||(a.n=Xy.bind(a.proxy)),$watch:a=>az.bind(a)}),$w=(a,e)=>a!==_n&&!a.__isScriptSetup&&qi(a,e),DW={get({_:a},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:n,props:s,accessCache:r,type:l,appContext:c}=a;let h;if(e[0]!=="$"){const T=r[e];if(T!==void 0)switch(T){case 1:return i[e];case 2:return n[e];case 4:return t[e];case 3:return s[e]}else{if($w(i,e))return r[e]=1,i[e];if(n!==_n&&qi(n,e))return r[e]=2,n[e];if((h=a.propsOptions[0])&&qi(h,e))return r[e]=3,s[e];if(t!==_n&&qi(t,e))return r[e]=4,t[e];W4&&(r[e]=0)}}const f=wy[e];let v,b;if(f)return e==="$attrs"&&Es(a.attrs,"get",""),f(a);if((v=l.__cssModules)&&(v=v[e]))return v;if(t!==_n&&qi(t,e))return r[e]=4,t[e];if(b=c.config.globalProperties,qi(b,e))return b[e]},set({_:a},e,t){const{data:i,setupState:n,ctx:s}=a;return $w(n,e)?(n[e]=t,!0):i!==_n&&qi(i,e)?(i[e]=t,!0):qi(a.props,e)||e[0]==="$"&&e.slice(1)in a?!1:(s[e]=t,!0)},has({_:{data:a,setupState:e,accessCache:t,ctx:i,appContext:n,propsOptions:s}},r){let l;return!!t[r]||a!==_n&&qi(a,r)||$w(e,r)||(l=s[0])&&qi(l,r)||qi(i,r)||qi(wy,r)||qi(n.config.globalProperties,r)},defineProperty(a,e,t){return t.get!=null?a._.accessCache[e]=0:qi(t,"value")&&this.set(a,e,t.value,null),Reflect.defineProperty(a,e,t)}};function G8(a){return Ca(a)?a.reduce((e,t)=>(e[t]=null,e),{}):a}let W4=!0;function FW(a){const e=D3(a),t=a.proxy,i=a.ctx;W4=!1,e.beforeCreate&&q8(e.beforeCreate,a,"bc");const{data:n,computed:s,methods:r,watch:l,provide:c,inject:h,created:f,beforeMount:v,mounted:b,beforeUpdate:T,updated:M,activated:I,deactivated:R,beforeDestroy:P,beforeUnmount:F,destroyed:B,unmounted:W,render:Z,renderTracked:ae,renderTriggered:he,errorCaptured:_e,serverPrefetch:ie,expose:me,inheritAttrs:fe,components:be,directives:Ae,filters:Ye}=e;if(h&&NW(h,i,null),r)for(const Oe in r){const Qe=r[Oe];Ya(Qe)&&(i[Oe]=Qe.bind(t))}if(n){const Oe=n.call(t,t);ln(Oe)&&(a.data=ux(Oe))}if(W4=!0,s)for(const Oe in s){const Qe=s[Oe],yt=Ya(Qe)?Qe.bind(t,t):Ya(Qe.get)?Qe.get.bind(t,t):Dl,Je=!Ya(Qe)&&Ya(Qe.set)?Qe.set.bind(t):Dl,Xt=Pt({get:yt,set:Je});Object.defineProperty(i,Oe,{enumerable:!0,configurable:!0,get:()=>Xt.value,set:We=>Xt.value=We})}if(l)for(const Oe in l)G9(l[Oe],i,t,Oe);if(c){const Oe=Ya(c)?c.call(t):c;Reflect.ownKeys(Oe).forEach(Qe=>{mx(Qe,Oe[Qe])})}f&&q8(f,a,"c");function Re(Oe,Qe){Ca(Qe)?Qe.forEach(yt=>Oe(yt.bind(t))):Qe&&Oe(Qe.bind(t))}if(Re(MW,v),Re(jn,b),Re(LW,T),Re(AW,M),Re(N9,I),Re(TW,R),Re(OW,_e),Re(RW,ae),Re(IW,he),Re(O3,F),Re(Os,W),Re(CW,ie),Ca(me))if(me.length){const Oe=a.exposed||(a.exposed={});me.forEach(Qe=>{Object.defineProperty(Oe,Qe,{get:()=>t[Qe],set:yt=>t[Qe]=yt})})}else a.exposed||(a.exposed={});Z&&a.render===Dl&&(a.render=Z),fe!=null&&(a.inheritAttrs=fe),be&&(a.components=be),Ae&&(a.directives=Ae),ie&&F9(a)}function NW(a,e,t=Dl){Ca(a)&&(a=z4(a));for(const i in a){const n=a[i];let s;ln(n)?"default"in n?s=Is(n.from||i,n.default,!0):s=Is(n.from||i):s=Is(n),Dn(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:r=>s.value=r}):e[i]=s}}function q8(a,e,t){Bl(Ca(a)?a.map(i=>i.bind(e.proxy)):a.bind(e.proxy),e,t)}function G9(a,e,t,i){let n=i.includes(".")?J9(t,i):()=>t[i];if(Un(a)){const s=e[a];Ya(s)&&Vt(n,s)}else if(Ya(a))Vt(n,a.bind(t));else if(ln(a))if(Ca(a))a.forEach(s=>G9(s,e,t,i));else{const s=Ya(a.handler)?a.handler.bind(t):e[a.handler];Ya(s)&&Vt(n,s,a)}}function D3(a){const e=a.type,{mixins:t,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:r}}=a.appContext,l=s.get(e);let c;return l?c=l:!n.length&&!t&&!i?c=e:(c={},n.length&&n.forEach(h=>Gb(c,h,r,!0)),Gb(c,e,r)),ln(e)&&s.set(e,c),c}function Gb(a,e,t,i=!1){const{mixins:n,extends:s}=e;s&&Gb(a,s,t,!0),n&&n.forEach(r=>Gb(a,r,t,!0));for(const r in e)if(!(i&&r==="expose")){const l=WW[r]||t&&t[r];a[r]=l?l(a[r],e[r]):e[r]}return a}const WW={data:U8,props:V8,emits:V8,methods:Jg,computed:Jg,beforeCreate:Ws,created:Ws,beforeMount:Ws,mounted:Ws,beforeUpdate:Ws,updated:Ws,beforeDestroy:Ws,beforeUnmount:Ws,destroyed:Ws,unmounted:Ws,activated:Ws,deactivated:Ws,errorCaptured:Ws,serverPrefetch:Ws,components:Jg,directives:Jg,watch:BW,provide:U8,inject:zW};function U8(a,e){return e?a?function(){return Sr(Ya(a)?a.call(this,this):a,Ya(e)?e.call(this,this):e)}:e:a}function zW(a,e){return Jg(z4(a),z4(e))}function z4(a){if(Ca(a)){const e={};for(let t=0;t<a.length;t++)e[a[t]]=a[t];return e}return a}function Ws(a,e){return a?[...new Set([].concat(a,e))]:e}function Jg(a,e){return a?Sr(Object.create(null),a,e):e}function V8(a,e){return a?Ca(a)&&Ca(e)?[...new Set([...a,...e])]:Sr(Object.create(null),G8(a),G8(e??{})):e}function BW(a,e){if(!a)return e;if(!e)return a;const t=Sr(Object.create(null),a);for(const i in e)t[i]=Ws(a[i],e[i]);return t}function q9(){return{app:null,config:{isNativeTag:LN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GW=0;function qW(a,e){return function(i,n=null){Ya(i)||(i=Sr({},i)),n!=null&&!ln(n)&&(n=null);const s=q9(),r=new WeakSet,l=[];let c=!1;const h=s.app={_uid:GW++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:Sz,get config(){return s.config},set config(f){},use(f,...v){return r.has(f)||(f&&Ya(f.install)?(r.add(f),f.install(h,...v)):Ya(f)&&(r.add(f),f(h,...v))),h},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),h},component(f,v){return v?(s.components[f]=v,h):s.components[f]},directive(f,v){return v?(s.directives[f]=v,h):s.directives[f]},mount(f,v,b){if(!c){const T=h._ceVNode||ct(i,n);return T.appContext=s,b===!0?b="svg":b===!1&&(b=void 0),v&&e?e(T,f):a(T,f,b),c=!0,h._container=f,f.__vue_app__=h,gx(T.component)}},onUnmount(f){l.push(f)},unmount(){c&&(Bl(l,h._instance,16),a(null,h._container),delete h._container.__vue_app__)},provide(f,v){return s.provides[f]=v,h},runWithContext(f){const v=z_;z_=h;try{return f()}finally{z_=v}}};return h}}let z_=null;function mx(a,e){if(Zr){let t=Zr.provides;const i=Zr.parent&&Zr.parent.provides;i===t&&(t=Zr.provides=Object.create(i)),t[a]=e}}function Is(a,e,t=!1){const i=Zr||Or;if(i||z_){const n=z_?z_._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&a in n)return n[a];if(arguments.length>1)return t&&Ya(e)?e.call(i&&i.proxy):e}}function UW(){return!!(Zr||Or||z_)}const U9={},V9=()=>Object.create(U9),j9=a=>Object.getPrototypeOf(a)===U9;function VW(a,e,t,i=!1){const n={},s=V9();a.propsDefaults=Object.create(null),H9(a,e,n,s);for(const r in a.propsOptions[0])r in n||(n[r]=void 0);t?a.props=i?n:sW(n):a.type.props?a.props=n:a.props=s,a.attrs=s}function jW(a,e,t,i){const{props:n,attrs:s,vnode:{patchFlag:r}}=a,l=Mi(n),[c]=a.propsOptions;let h=!1;if((i||r>0)&&!(r&16)){if(r&8){const f=a.vnode.dynamicProps;for(let v=0;v<f.length;v++){let b=f[v];if(px(a.emitsOptions,b))continue;const T=e[b];if(c)if(qi(s,b))T!==s[b]&&(s[b]=T,h=!0);else{const M=ll(b);n[M]=B4(c,l,M,T,a,!1)}else T!==s[b]&&(s[b]=T,h=!0)}}}else{H9(a,e,n,s)&&(h=!0);let f;for(const v in l)(!e||!qi(e,v)&&((f=yh(v))===v||!qi(e,f)))&&(c?t&&(t[v]!==void 0||t[f]!==void 0)&&(n[v]=B4(c,l,v,void 0,a,!0)):delete n[v]);if(s!==l)for(const v in s)(!e||!qi(e,v))&&(delete s[v],h=!0)}h&&Cc(a.attrs,"set","")}function H9(a,e,t,i){const[n,s]=a.propsOptions;let r=!1,l;if(e)for(let c in e){if(yy(c))continue;const h=e[c];let f;n&&qi(n,f=ll(c))?!s||!s.includes(f)?t[f]=h:(l||(l={}))[f]=h:px(a.emitsOptions,c)||(!(c in i)||h!==i[c])&&(i[c]=h,r=!0)}if(s){const c=Mi(t),h=l||_n;for(let f=0;f<s.length;f++){const v=s[f];t[v]=B4(n,c,v,h[v],a,!qi(h,v))}}return r}function B4(a,e,t,i,n,s){const r=a[t];if(r!=null){const l=qi(r,"default");if(l&&i===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&Ya(c)){const{propsDefaults:h}=n;if(t in h)i=h[t];else{const f=A0(n);i=h[t]=c.call(null,e),f()}}else i=c;n.ce&&n.ce._setProp(t,i)}r[0]&&(s&&!l?i=!1:r[1]&&(i===""||i===yh(t))&&(i=!0))}return i}const HW=new WeakMap;function Z9(a,e,t=!1){const i=t?HW:e.propsCache,n=i.get(a);if(n)return n;const s=a.props,r={},l=[];let c=!1;if(!Ya(a)){const f=v=>{c=!0;const[b,T]=Z9(v,e,!0);Sr(r,b),T&&l.push(...T)};!t&&e.mixins.length&&e.mixins.forEach(f),a.extends&&f(a.extends),a.mixins&&a.mixins.forEach(f)}if(!s&&!c)return ln(a)&&i.set(a,Gp),Gp;if(Ca(s))for(let f=0;f<s.length;f++){const v=ll(s[f]);j8(v)&&(r[v]=_n)}else if(s)for(const f in s){const v=ll(f);if(j8(v)){const b=s[f],T=r[v]=Ca(b)||Ya(b)?{type:b}:Sr({},b),M=T.type;let I=!1,R=!0;if(Ca(M))for(let P=0;P<M.length;++P){const F=M[P],B=Ya(F)&&F.name;if(B==="Boolean"){I=!0;break}else B==="String"&&(R=!1)}else I=Ya(M)&&M.name==="Boolean";T[0]=I,T[1]=R,(I||qi(T,"default"))&&l.push(v)}}const h=[r,l];return ln(a)&&i.set(a,h),h}function j8(a){return a[0]!=="$"&&!yy(a)}const X9=a=>a[0]==="_"||a==="$stable",F3=a=>Ca(a)?a.map(Su):[Su(a)],ZW=(a,e,t)=>{if(e._n)return e;const i=Xa((...n)=>F3(e(...n)),t);return i._c=!1,i},Y9=(a,e,t)=>{const i=a._ctx;for(const n in a){if(X9(n))continue;const s=a[n];if(Ya(s))e[n]=ZW(n,s,i);else if(s!=null){const r=F3(s);e[n]=()=>r}}},K9=(a,e)=>{const t=F3(e);a.slots.default=()=>t},$9=(a,e,t)=>{for(const i in e)(t||i!=="_")&&(a[i]=e[i])},XW=(a,e,t)=>{const i=a.slots=V9();if(a.vnode.shapeFlag&32){const n=e._;n?($9(i,e,t),t&&YC(i,"_",n,!0)):Y9(e,i)}else e&&K9(a,e)},YW=(a,e,t)=>{const{vnode:i,slots:n}=a;let s=!0,r=_n;if(i.shapeFlag&32){const l=e._;l?t&&l===1?s=!1:$9(n,e,t):(s=!e.$stable,Y9(e,n)),r=e}else e&&(K9(a,e),r={default:1});if(s)for(const l in n)!X9(l)&&r[l]==null&&delete n[l]},Bs=uz;function KW(a){return $W(a)}function $W(a,e){const t=sx();t.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:r,createText:l,createComment:c,setText:h,setElementText:f,parentNode:v,nextSibling:b,setScopeId:T=Dl,insertStaticContent:M}=a,I=(pe,Le,qe,it=null,ut=null,ot=null,Et=void 0,_t=null,vt=!!Le.dynamicChildren)=>{if(pe===Le)return;pe&&!A_(pe,Le)&&(it=ca(pe),We(pe,ut,ot,!0),pe=null),Le.patchFlag===-2&&(vt=!1,Le.dynamicChildren=null);const{type:st,ref:Nt,shapeFlag:xt}=Le;switch(st){case fx:R(pe,Le,qe,it);break;case js:P(pe,Le,qe,it);break;case eS:pe==null&&F(Le,qe,it,Et);break;case sa:be(pe,Le,qe,it,ut,ot,Et,_t,vt);break;default:xt&1?Z(pe,Le,qe,it,ut,ot,Et,_t,vt):xt&6?Ae(pe,Le,qe,it,ut,ot,Et,_t,vt):(xt&64||xt&128)&&st.process(pe,Le,qe,it,ut,ot,Et,_t,vt,Zi)}Nt!=null&&ut&&Bb(Nt,pe&&pe.ref,ot,Le||pe,!Le)},R=(pe,Le,qe,it)=>{if(pe==null)i(Le.el=l(Le.children),qe,it);else{const ut=Le.el=pe.el;Le.children!==pe.children&&h(ut,Le.children)}},P=(pe,Le,qe,it)=>{pe==null?i(Le.el=c(Le.children||""),qe,it):Le.el=pe.el},F=(pe,Le,qe,it)=>{[pe.el,pe.anchor]=M(pe.children,Le,qe,it,pe.el,pe.anchor)},B=({el:pe,anchor:Le},qe,it)=>{let ut;for(;pe&&pe!==Le;)ut=b(pe),i(pe,qe,it),pe=ut;i(Le,qe,it)},W=({el:pe,anchor:Le})=>{let qe;for(;pe&&pe!==Le;)qe=b(pe),n(pe),pe=qe;n(Le)},Z=(pe,Le,qe,it,ut,ot,Et,_t,vt)=>{Le.type==="svg"?Et="svg":Le.type==="math"&&(Et="mathml"),pe==null?ae(Le,qe,it,ut,ot,Et,_t,vt):ie(pe,Le,ut,ot,Et,_t,vt)},ae=(pe,Le,qe,it,ut,ot,Et,_t)=>{let vt,st;const{props:Nt,shapeFlag:xt,transition:Wt,dirs:Zt}=pe;if(vt=pe.el=r(pe.type,ot,Nt&&Nt.is,Nt),xt&8?f(vt,pe.children):xt&16&&_e(pe.children,vt,null,it,ut,Qw(pe,ot),Et,_t),Zt&&c_(pe,null,it,"created"),he(vt,pe,pe.scopeId,Et,it),Nt){for(const Fa in Nt)Fa!=="value"&&!yy(Fa)&&s(vt,Fa,null,Nt[Fa],ot,it);"value"in Nt&&s(vt,"value",null,Nt.value,ot),(st=Nt.onVnodeBeforeMount)&&bu(st,it,pe)}Zt&&c_(pe,null,it,"beforeMount");const xa=QW(ut,Wt);xa&&Wt.beforeEnter(vt),i(vt,Le,qe),((st=Nt&&Nt.onVnodeMounted)||xa||Zt)&&Bs(()=>{st&&bu(st,it,pe),xa&&Wt.enter(vt),Zt&&c_(pe,null,it,"mounted")},ut)},he=(pe,Le,qe,it,ut)=>{if(qe&&T(pe,qe),it)for(let ot=0;ot<it.length;ot++)T(pe,it[ot]);if(ut){let ot=ut.subTree;if(Le===ot||t7(ot.type)&&(ot.ssContent===Le||ot.ssFallback===Le)){const Et=ut.vnode;he(pe,Et,Et.scopeId,Et.slotScopeIds,ut.parent)}}},_e=(pe,Le,qe,it,ut,ot,Et,_t,vt=0)=>{for(let st=vt;st<pe.length;st++){const Nt=pe[st]=_t?Dd(pe[st]):Su(pe[st]);I(null,Nt,Le,qe,it,ut,ot,Et,_t)}},ie=(pe,Le,qe,it,ut,ot,Et)=>{const _t=Le.el=pe.el;let{patchFlag:vt,dynamicChildren:st,dirs:Nt}=Le;vt|=pe.patchFlag&16;const xt=pe.props||_n,Wt=Le.props||_n;let Zt;if(qe&&d_(qe,!1),(Zt=Wt.onVnodeBeforeUpdate)&&bu(Zt,qe,Le,pe),Nt&&c_(Le,pe,qe,"beforeUpdate"),qe&&d_(qe,!0),(xt.innerHTML&&Wt.innerHTML==null||xt.textContent&&Wt.textContent==null)&&f(_t,""),st?me(pe.dynamicChildren,st,_t,qe,it,Qw(Le,ut),ot):Et||Qe(pe,Le,_t,null,qe,it,Qw(Le,ut),ot,!1),vt>0){if(vt&16)fe(_t,xt,Wt,qe,ut);else if(vt&2&&xt.class!==Wt.class&&s(_t,"class",null,Wt.class,ut),vt&4&&s(_t,"style",xt.style,Wt.style,ut),vt&8){const xa=Le.dynamicProps;for(let Fa=0;Fa<xa.length;Fa++){const Ga=xa[Fa],Xi=xt[Ga],ii=Wt[Ga];(ii!==Xi||Ga==="value")&&s(_t,Ga,Xi,ii,ut,qe)}}vt&1&&pe.children!==Le.children&&f(_t,Le.children)}else!Et&&st==null&&fe(_t,xt,Wt,qe,ut);((Zt=Wt.onVnodeUpdated)||Nt)&&Bs(()=>{Zt&&bu(Zt,qe,Le,pe),Nt&&c_(Le,pe,qe,"updated")},it)},me=(pe,Le,qe,it,ut,ot,Et)=>{for(let _t=0;_t<Le.length;_t++){const vt=pe[_t],st=Le[_t],Nt=vt.el&&(vt.type===sa||!A_(vt,st)||vt.shapeFlag&70)?v(vt.el):qe;I(vt,st,Nt,null,it,ut,ot,Et,!0)}},fe=(pe,Le,qe,it,ut)=>{if(Le!==qe){if(Le!==_n)for(const ot in Le)!yy(ot)&&!(ot in qe)&&s(pe,ot,Le[ot],null,ut,it);for(const ot in qe){if(yy(ot))continue;const Et=qe[ot],_t=Le[ot];Et!==_t&&ot!=="value"&&s(pe,ot,_t,Et,ut,it)}"value"in qe&&s(pe,"value",Le.value,qe.value,ut)}},be=(pe,Le,qe,it,ut,ot,Et,_t,vt)=>{const st=Le.el=pe?pe.el:l(""),Nt=Le.anchor=pe?pe.anchor:l("");let{patchFlag:xt,dynamicChildren:Wt,slotScopeIds:Zt}=Le;Zt&&(_t=_t?_t.concat(Zt):Zt),pe==null?(i(st,qe,it),i(Nt,qe,it),_e(Le.children||[],qe,Nt,ut,ot,Et,_t,vt)):xt>0&&xt&64&&Wt&&pe.dynamicChildren?(me(pe.dynamicChildren,Wt,qe,ut,ot,Et,_t),(Le.key!=null||ut&&Le===ut.subTree)&&N3(pe,Le,!0)):Qe(pe,Le,qe,Nt,ut,ot,Et,_t,vt)},Ae=(pe,Le,qe,it,ut,ot,Et,_t,vt)=>{Le.slotScopeIds=_t,pe==null?Le.shapeFlag&512?ut.ctx.activate(Le,qe,it,Et,vt):Ye(Le,qe,it,ut,ot,Et,vt):Xe(pe,Le,vt)},Ye=(pe,Le,qe,it,ut,ot,Et)=>{const _t=pe.component=pz(pe,it,ut);if(hx(pe)&&(_t.ctx.renderer=Zi),fz(_t,!1,Et),_t.asyncDep){if(ut&&ut.registerDep(_t,Re,Et),!pe.el){const vt=_t.subTree=ct(js);P(null,vt,Le,qe)}}else Re(_t,pe,Le,qe,ut,ot,Et)},Xe=(pe,Le,qe)=>{const it=Le.component=pe.component;if(oz(pe,Le,qe))if(it.asyncDep&&!it.asyncResolved){Oe(it,Le,qe);return}else it.next=Le,it.update();else Le.el=pe.el,it.vnode=Le},Re=(pe,Le,qe,it,ut,ot,Et)=>{const _t=()=>{if(pe.isMounted){let{next:xt,bu:Wt,u:Zt,parent:xa,vnode:Fa}=pe;{const cn=Q9(pe);if(cn){xt&&(xt.el=Fa.el,Oe(pe,xt,Et)),cn.asyncDep.then(()=>{pe.isUnmounted||_t()});return}}let Ga=xt,Xi;d_(pe,!1),xt?(xt.el=Fa.el,Oe(pe,xt,Et)):xt=Fa,Wt&&ab(Wt),(Xi=xt.props&&xt.props.onVnodeBeforeUpdate)&&bu(Xi,xa,xt,Fa),d_(pe,!0);const ii=Jw(pe),fn=pe.subTree;pe.subTree=ii,I(fn,ii,v(fn.el),ca(fn),pe,ut,ot),xt.el=ii.el,Ga===null&&lz(pe,ii.el),Zt&&Bs(Zt,ut),(Xi=xt.props&&xt.props.onVnodeUpdated)&&Bs(()=>bu(Xi,xa,xt,Fa),ut)}else{let xt;const{el:Wt,props:Zt}=Le,{bm:xa,m:Fa,parent:Ga,root:Xi,type:ii}=pe,fn=Vp(Le);if(d_(pe,!1),xa&&ab(xa),!fn&&(xt=Zt&&Zt.onVnodeBeforeMount)&&bu(xt,Ga,Le),d_(pe,!0),Wt&&un){const cn=()=>{pe.subTree=Jw(pe),un(Wt,pe.subTree,pe,ut,null)};fn&&ii.__asyncHydrate?ii.__asyncHydrate(Wt,pe,cn):cn()}else{Xi.ce&&Xi.ce._injectChildStyle(ii);const cn=pe.subTree=Jw(pe);I(null,cn,qe,it,pe,ut,ot),Le.el=cn.el}if(Fa&&Bs(Fa,ut),!fn&&(xt=Zt&&Zt.onVnodeMounted)){const cn=Le;Bs(()=>bu(xt,Ga,cn),ut)}(Le.shapeFlag&256||Ga&&Vp(Ga.vnode)&&Ga.vnode.shapeFlag&256)&&pe.a&&Bs(pe.a,ut),pe.isMounted=!0,Le=qe=it=null}};pe.scope.on();const vt=pe.effect=new i9(_t);pe.scope.off();const st=pe.update=vt.run.bind(vt),Nt=pe.job=vt.runIfDirty.bind(vt);Nt.i=pe,Nt.id=pe.uid,vt.scheduler=()=>R3(Nt),d_(pe,!0),st()},Oe=(pe,Le,qe)=>{Le.component=pe;const it=pe.vnode.props;pe.vnode=Le,pe.next=null,jW(pe,Le.props,it,qe),YW(pe,Le.children,qe),bh(),D8(pe),xh()},Qe=(pe,Le,qe,it,ut,ot,Et,_t,vt=!1)=>{const st=pe&&pe.children,Nt=pe?pe.shapeFlag:0,xt=Le.children,{patchFlag:Wt,shapeFlag:Zt}=Le;if(Wt>0){if(Wt&128){Je(st,xt,qe,it,ut,ot,Et,_t,vt);return}else if(Wt&256){yt(st,xt,qe,it,ut,ot,Et,_t,vt);return}}Zt&8?(Nt&16&&wn(st,ut,ot),xt!==st&&f(qe,xt)):Nt&16?Zt&16?Je(st,xt,qe,it,ut,ot,Et,_t,vt):wn(st,ut,ot,!0):(Nt&8&&f(qe,""),Zt&16&&_e(xt,qe,it,ut,ot,Et,_t,vt))},yt=(pe,Le,qe,it,ut,ot,Et,_t,vt)=>{pe=pe||Gp,Le=Le||Gp;const st=pe.length,Nt=Le.length,xt=Math.min(st,Nt);let Wt;for(Wt=0;Wt<xt;Wt++){const Zt=Le[Wt]=vt?Dd(Le[Wt]):Su(Le[Wt]);I(pe[Wt],Zt,qe,null,ut,ot,Et,_t,vt)}st>Nt?wn(pe,ut,ot,!0,!1,xt):_e(Le,qe,it,ut,ot,Et,_t,vt,xt)},Je=(pe,Le,qe,it,ut,ot,Et,_t,vt)=>{let st=0;const Nt=Le.length;let xt=pe.length-1,Wt=Nt-1;for(;st<=xt&&st<=Wt;){const Zt=pe[st],xa=Le[st]=vt?Dd(Le[st]):Su(Le[st]);if(A_(Zt,xa))I(Zt,xa,qe,null,ut,ot,Et,_t,vt);else break;st++}for(;st<=xt&&st<=Wt;){const Zt=pe[xt],xa=Le[Wt]=vt?Dd(Le[Wt]):Su(Le[Wt]);if(A_(Zt,xa))I(Zt,xa,qe,null,ut,ot,Et,_t,vt);else break;xt--,Wt--}if(st>xt){if(st<=Wt){const Zt=Wt+1,xa=Zt<Nt?Le[Zt].el:it;for(;st<=Wt;)I(null,Le[st]=vt?Dd(Le[st]):Su(Le[st]),qe,xa,ut,ot,Et,_t,vt),st++}}else if(st>Wt)for(;st<=xt;)We(pe[st],ut,ot,!0),st++;else{const Zt=st,xa=st,Fa=new Map;for(st=xa;st<=Wt;st++){const Ti=Le[st]=vt?Dd(Le[st]):Su(Le[st]);Ti.key!=null&&Fa.set(Ti.key,st)}let Ga,Xi=0;const ii=Wt-xa+1;let fn=!1,cn=0;const cr=new Array(ii);for(st=0;st<ii;st++)cr[st]=0;for(st=Zt;st<=xt;st++){const Ti=pe[st];if(Xi>=ii){We(Ti,ut,ot,!0);continue}let Yi;if(Ti.key!=null)Yi=Fa.get(Ti.key);else for(Ga=xa;Ga<=Wt;Ga++)if(cr[Ga-xa]===0&&A_(Ti,Le[Ga])){Yi=Ga;break}Yi===void 0?We(Ti,ut,ot,!0):(cr[Yi-xa]=st+1,Yi>=cn?cn=Yi:fn=!0,I(Ti,Le[Yi],qe,null,ut,ot,Et,_t,vt),Xi++)}const dr=fn?JW(cr):Gp;for(Ga=dr.length-1,st=ii-1;st>=0;st--){const Ti=xa+st,Yi=Le[Ti],ds=Ti+1<Nt?Le[Ti+1].el:it;cr[st]===0?I(null,Yi,qe,ds,ut,ot,Et,_t,vt):fn&&(Ga<0||st!==dr[Ga]?Xt(Yi,qe,ds,2):Ga--)}}},Xt=(pe,Le,qe,it,ut=null)=>{const{el:ot,type:Et,transition:_t,children:vt,shapeFlag:st}=pe;if(st&6){Xt(pe.component.subTree,Le,qe,it);return}if(st&128){pe.suspense.move(Le,qe,it);return}if(st&64){Et.move(pe,Le,qe,Zi);return}if(Et===sa){i(ot,Le,qe);for(let xt=0;xt<vt.length;xt++)Xt(vt[xt],Le,qe,it);i(pe.anchor,Le,qe);return}if(Et===eS){B(pe,Le,qe);return}if(it!==2&&st&1&&_t)if(it===0)_t.beforeEnter(ot),i(ot,Le,qe),Bs(()=>_t.enter(ot),ut);else{const{leave:xt,delayLeave:Wt,afterLeave:Zt}=_t,xa=()=>i(ot,Le,qe),Fa=()=>{xt(ot,()=>{xa(),Zt&&Zt()})};Wt?Wt(ot,xa,Fa):Fa()}else i(ot,Le,qe)},We=(pe,Le,qe,it=!1,ut=!1)=>{const{type:ot,props:Et,ref:_t,children:vt,dynamicChildren:st,shapeFlag:Nt,patchFlag:xt,dirs:Wt,cacheIndex:Zt}=pe;if(xt===-2&&(ut=!1),_t!=null&&Bb(_t,null,qe,pe,!0),Zt!=null&&(Le.renderCache[Zt]=void 0),Nt&256){Le.ctx.deactivate(pe);return}const xa=Nt&1&&Wt,Fa=!Vp(pe);let Ga;if(Fa&&(Ga=Et&&Et.onVnodeBeforeUnmount)&&bu(Ga,Le,pe),Nt&6)ea(pe.component,qe,it);else{if(Nt&128){pe.suspense.unmount(qe,it);return}xa&&c_(pe,null,Le,"beforeUnmount"),Nt&64?pe.type.remove(pe,Le,qe,Zi,it):st&&!st.hasOnce&&(ot!==sa||xt>0&&xt&64)?wn(st,Le,qe,!1,!0):(ot===sa&&xt&384||!ut&&Nt&16)&&wn(vt,Le,qe),it&&la(pe)}(Fa&&(Ga=Et&&Et.onVnodeUnmounted)||xa)&&Bs(()=>{Ga&&bu(Ga,Le,pe),xa&&c_(pe,null,Le,"unmounted")},qe)},la=pe=>{const{type:Le,el:qe,anchor:it,transition:ut}=pe;if(Le===sa){ba(qe,it);return}if(Le===eS){W(pe);return}const ot=()=>{n(qe),ut&&!ut.persisted&&ut.afterLeave&&ut.afterLeave()};if(pe.shapeFlag&1&&ut&&!ut.persisted){const{leave:Et,delayLeave:_t}=ut,vt=()=>Et(qe,ot);_t?_t(pe.el,ot,vt):vt()}else ot()},ba=(pe,Le)=>{let qe;for(;pe!==Le;)qe=b(pe),n(pe),pe=qe;n(Le)},ea=(pe,Le,qe)=>{const{bum:it,scope:ut,job:ot,subTree:Et,um:_t,m:vt,a:st}=pe;H8(vt),H8(st),it&&ab(it),ut.stop(),ot&&(ot.flags|=8,We(Et,pe,Le,qe)),_t&&Bs(_t,Le),Bs(()=>{pe.isUnmounted=!0},Le),Le&&Le.pendingBranch&&!Le.isUnmounted&&pe.asyncDep&&!pe.asyncResolved&&pe.suspenseId===Le.pendingId&&(Le.deps--,Le.deps===0&&Le.resolve())},wn=(pe,Le,qe,it=!1,ut=!1,ot=0)=>{for(let Et=ot;Et<pe.length;Et++)We(pe[Et],Le,qe,it,ut)},ca=pe=>{if(pe.shapeFlag&6)return ca(pe.component.subTree);if(pe.shapeFlag&128)return pe.suspense.next();const Le=b(pe.anchor||pe.el),qe=Le&&Le[L9];return qe?b(qe):Le};let hi=!1;const ka=(pe,Le,qe)=>{pe==null?Le._vnode&&We(Le._vnode,null,null,!0):I(Le._vnode||null,pe,Le,null,null,null,qe),Le._vnode=pe,hi||(hi=!0,D8(),T9(),hi=!1)},Zi={p:I,um:We,m:Xt,r:la,mt:Ye,mc:_e,pc:Qe,pbc:me,n:ca,o:a};let er,un;return e&&([er,un]=e(Zi)),{render:ka,hydrate:er,createApp:qW(ka,er)}}function Qw({type:a,props:e},t){return t==="svg"&&a==="foreignObject"||t==="mathml"&&a==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function d_({effect:a,job:e},t){t?(a.flags|=32,e.flags|=4):(a.flags&=-33,e.flags&=-5)}function QW(a,e){return(!a||a&&!a.pendingBranch)&&e&&!e.persisted}function N3(a,e,t=!1){const i=a.children,n=e.children;if(Ca(i)&&Ca(n))for(let s=0;s<i.length;s++){const r=i[s];let l=n[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[s]=Dd(n[s]),l.el=r.el),!t&&l.patchFlag!==-2&&N3(r,l)),l.type===fx&&(l.el=r.el)}}function JW(a){const e=a.slice(),t=[0];let i,n,s,r,l;const c=a.length;for(i=0;i<c;i++){const h=a[i];if(h!==0){if(n=t[t.length-1],a[n]<h){e[i]=n,t.push(i);continue}for(s=0,r=t.length-1;s<r;)l=s+r>>1,a[t[l]]<h?s=l+1:r=l;h<a[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,r=t[s-1];s-- >0;)t[s]=r,r=e[r];return t}function Q9(a){const e=a.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Q9(e)}function H8(a){if(a)for(let e=0;e<a.length;e++)a[e].flags|=8}const ez=Symbol.for("v-scx"),tz=()=>Is(ez);function Vn(a,e){return W3(a,null,e)}function Vt(a,e,t){return W3(a,e,t)}function W3(a,e,t=_n){const{immediate:i,deep:n,flush:s,once:r}=t,l=Sr({},t),c=e&&i||!e&&s!=="post";let h;if(Jy){if(s==="sync"){const T=tz();h=T.__watcherHandles||(T.__watcherHandles=[])}else if(!c){const T=()=>{};return T.stop=Dl,T.resume=Dl,T.pause=Dl,T}}const f=Zr;l.call=(T,M,I)=>Bl(T,f,M,I);let v=!1;s==="post"?l.scheduler=T=>{Bs(T,f&&f.suspense)}:s!=="sync"&&(v=!0,l.scheduler=(T,M)=>{M?T():R3(T)}),l.augmentJob=T=>{e&&(T.flags|=4),v&&(T.flags|=2,f&&(T.id=f.uid,T.i=f))};const b=fW(a,e,l);return Jy&&(h?h.push(b):c&&b()),b}function az(a,e,t){const i=this.proxy,n=Un(a)?a.includes(".")?J9(i,a):()=>i[a]:a.bind(i,i);let s;Ya(e)?s=e:(s=e.handler,t=e);const r=A0(this),l=W3(n,s.bind(i),t);return r(),l}function J9(a,e){const t=e.split(".");return()=>{let i=a;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i}}const iz=(a,e)=>e==="modelValue"||e==="model-value"?a.modelModifiers:a[`${e}Modifiers`]||a[`${ll(e)}Modifiers`]||a[`${yh(e)}Modifiers`];function nz(a,e,...t){if(a.isUnmounted)return;const i=a.vnode.props||_n;let n=t;const s=e.startsWith("update:"),r=s&&iz(i,e.slice(7));r&&(r.trim&&(n=t.map(f=>Un(f)?f.trim():f)),r.number&&(n=t.map(I4)));let l,c=i[l=jw(e)]||i[l=jw(ll(e))];!c&&s&&(c=i[l=jw(yh(e))]),c&&Bl(c,a,6,n);const h=i[l+"Once"];if(h){if(!a.emitted)a.emitted={};else if(a.emitted[l])return;a.emitted[l]=!0,Bl(h,a,6,n)}}function e7(a,e,t=!1){const i=e.emitsCache,n=i.get(a);if(n!==void 0)return n;const s=a.emits;let r={},l=!1;if(!Ya(a)){const c=h=>{const f=e7(h,e,!0);f&&(l=!0,Sr(r,f))};!t&&e.mixins.length&&e.mixins.forEach(c),a.extends&&c(a.extends),a.mixins&&a.mixins.forEach(c)}return!s&&!l?(ln(a)&&i.set(a,null),null):(Ca(s)?s.forEach(c=>r[c]=null):Sr(r,s),ln(a)&&i.set(a,r),r)}function px(a,e){return!a||!ax(e)?!1:(e=e.slice(2).replace(/Once$/,""),qi(a,e[0].toLowerCase()+e.slice(1))||qi(a,yh(e))||qi(a,e))}function Jw(a){const{type:e,vnode:t,proxy:i,withProxy:n,propsOptions:[s],slots:r,attrs:l,emit:c,render:h,renderCache:f,props:v,data:b,setupState:T,ctx:M,inheritAttrs:I}=a,R=zb(a);let P,F;try{if(t.shapeFlag&4){const W=n||i,Z=W;P=Su(h.call(Z,W,f,v,T,b,M)),F=l}else{const W=e;P=Su(W.length>1?W(v,{attrs:l,slots:r,emit:c}):W(v,null)),F=e.props?l:rz(l)}}catch(W){Sy.length=0,cx(W,a,1),P=ct(js)}let B=P;if(F&&I!==!1){const W=Object.keys(F),{shapeFlag:Z}=B;W.length&&Z&7&&(s&&W.some(b3)&&(F=sz(F,s)),B=ch(B,F,!1,!0))}return t.dirs&&(B=ch(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(t.dirs):t.dirs),t.transition&&Ky(B,t.transition),P=B,zb(R),P}const rz=a=>{let e;for(const t in a)(t==="class"||t==="style"||ax(t))&&((e||(e={}))[t]=a[t]);return e},sz=(a,e)=>{const t={};for(const i in a)(!b3(i)||!(i.slice(9)in e))&&(t[i]=a[i]);return t};function oz(a,e,t){const{props:i,children:n,component:s}=a,{props:r,children:l,patchFlag:c}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return i?Z8(i,r,h):!!r;if(c&8){const f=e.dynamicProps;for(let v=0;v<f.length;v++){const b=f[v];if(r[b]!==i[b]&&!px(h,b))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:i===r?!1:i?r?Z8(i,r,h):!0:!!r;return!1}function Z8(a,e,t){const i=Object.keys(e);if(i.length!==Object.keys(a).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==a[s]&&!px(t,s))return!0}return!1}function lz({vnode:a,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===a&&(i.el=a.el),i===a)(a=e.vnode).el=t,e=e.parent;else break}}const t7=a=>a.__isSuspense;function uz(a,e){e&&e.pendingBranch?Ca(a)?e.effects.push(...a):e.effects.push(a):vW(a)}const sa=Symbol.for("v-fgt"),fx=Symbol.for("v-txt"),js=Symbol.for("v-cmt"),eS=Symbol.for("v-stc"),Sy=[];let Bo=null;function ne(a=!1){Sy.push(Bo=a?null:[])}function cz(){Sy.pop(),Bo=Sy[Sy.length-1]||null}let $y=1;function X8(a,e=!1){$y+=a,a<0&&Bo&&e&&(Bo.hasOnce=!0)}function a7(a){return a.dynamicChildren=$y>0?Bo||Gp:null,cz(),$y>0&&Bo&&Bo.push(a),a}function xe(a,e,t,i,n,s){return a7($(a,e,t,i,n,s,!0))}function ga(a,e,t,i,n){return a7(ct(a,e,t,i,n,!0))}function Qy(a){return a?a.__v_isVNode===!0:!1}function A_(a,e){return a.type===e.type&&a.key===e.key}const i7=({key:a})=>a??null,nb=({ref:a,ref_key:e,ref_for:t})=>(typeof a=="number"&&(a=""+a),a!=null?Un(a)||Dn(a)||Ya(a)?{i:Or,r:a,k:e,f:!!t}:a:null);function $(a,e=null,t=null,i=0,n=null,s=a===sa?0:1,r=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:a,props:e,key:e&&i7(e),ref:e&&nb(e),scopeId:M9,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Or};return l?(z3(c,t),s&128&&a.normalize(c)):t&&(c.shapeFlag|=Un(t)?8:16),$y>0&&!r&&Bo&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Bo.push(c),c}const ct=dz;function dz(a,e=null,t=null,i=0,n=null,s=!1){if((!a||a===z9)&&(a=js),Qy(a)){const l=ch(a,e,!0);return t&&z3(l,t),$y>0&&!s&&Bo&&(l.shapeFlag&6?Bo[Bo.indexOf(a)]=l:Bo.push(l)),l.patchFlag=-2,l}if(xz(a)&&(a=a.__vccOpts),e){e=hz(e);let{class:l,style:c}=e;l&&!Un(l)&&(e.class=ei(l)),ln(c)&&(C3(c)&&!Ca(c)&&(c=Sr({},c)),e.style=vh(c))}const r=Un(a)?1:t7(a)?128:A9(a)?64:ln(a)?4:Ya(a)?2:0;return $(a,e,t,i,n,r,s,!0)}function hz(a){return a?C3(a)||j9(a)?Sr({},a):a:null}function ch(a,e,t=!1,i=!1){const{props:n,ref:s,patchFlag:r,children:l,transition:c}=a,h=e?B3(n||{},e):n,f={__v_isVNode:!0,__v_skip:!0,type:a.type,props:h,key:h&&i7(h),ref:e&&e.ref?t&&s?Ca(s)?s.concat(nb(e)):[s,nb(e)]:nb(e):s,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:l,target:a.target,targetStart:a.targetStart,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:e&&a.type!==sa?r===-1?16:r|16:r,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:c,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&ch(a.ssContent),ssFallback:a.ssFallback&&ch(a.ssFallback),el:a.el,anchor:a.anchor,ctx:a.ctx,ce:a.ce};return c&&i&&Ky(f,c.clone(f)),f}function xr(a=" ",e=0){return ct(fx,null,a,e)}function Ze(a="",e=!1){return e?(ne(),ga(js,null,a)):ct(js,null,a)}function Su(a){return a==null||typeof a=="boolean"?ct(js):Ca(a)?ct(sa,null,a.slice()):Qy(a)?Dd(a):ct(fx,null,String(a))}function Dd(a){return a.el===null&&a.patchFlag!==-1||a.memo?a:ch(a)}function z3(a,e){let t=0;const{shapeFlag:i}=a;if(e==null)e=null;else if(Ca(e))t=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),z3(a,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!j9(e)?e._ctx=Or:n===3&&Or&&(Or.slots._===1?e._=1:(e._=2,a.patchFlag|=1024))}else Ya(e)?(e={default:e,_ctx:Or},t=32):(e=String(e),i&64?(t=16,e=[xr(e)]):t=8);a.children=e,a.shapeFlag|=t}function B3(...a){const e={};for(let t=0;t<a.length;t++){const i=a[t];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=ei([e.class,i.class]));else if(n==="style")e.style=vh([e.style,i.style]);else if(ax(n)){const s=e[n],r=i[n];r&&s!==r&&!(Ca(s)&&s.includes(r))&&(e[n]=s?[].concat(s,r):r)}else n!==""&&(e[n]=i[n])}return e}function bu(a,e,t,i=null){Bl(a,e,7,[t,i])}const _z=q9();let mz=0;function pz(a,e,t){const i=a.type,n=(e?e.appContext:a.appContext)||_z,s={uid:mz++,vnode:a,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new e9(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Z9(i,n),emitsOptions:e7(i,n),emit:null,emitted:null,propsDefaults:_n,inheritAttrs:i.inheritAttrs,ctx:_n,data:_n,props:_n,attrs:_n,slots:_n,refs:_n,setupState:_n,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=nz.bind(null,s),a.ce&&a.ce(s),s}let Zr=null;const n7=()=>Zr||Or;let qb,G4;{const a=sx(),e=(t,i)=>{let n;return(n=a[t])||(n=a[t]=[]),n.push(i),s=>{n.length>1?n.forEach(r=>r(s)):n[0](s)}};qb=e("__VUE_INSTANCE_SETTERS__",t=>Zr=t),G4=e("__VUE_SSR_SETTERS__",t=>Jy=t)}const A0=a=>{const e=Zr;return qb(a),a.scope.on(),()=>{a.scope.off(),qb(e)}},Y8=()=>{Zr&&Zr.scope.off(),qb(null)};function r7(a){return a.vnode.shapeFlag&4}let Jy=!1;function fz(a,e=!1,t=!1){e&&G4(e);const{props:i,children:n}=a.vnode,s=r7(a);VW(a,i,s,e),XW(a,n,t);const r=s?gz(a,e):void 0;return e&&G4(!1),r}function gz(a,e){const t=a.type;a.accessCache=Object.create(null),a.proxy=new Proxy(a.ctx,DW);const{setup:i}=t;if(i){bh();const n=a.setupContext=i.length>1?vz(a):null,s=A0(a),r=M0(i,a,0,[a.props,n]),l=HC(r);if(xh(),s(),(l||a.sp)&&!Vp(a)&&F9(a),l){if(r.then(Y8,Y8),e)return r.then(c=>{K8(a,c,e)}).catch(c=>{cx(c,a,0)});a.asyncDep=r}else K8(a,r,e)}else s7(a,e)}function K8(a,e,t){Ya(e)?a.type.__ssrInlineRender?a.ssrRender=e:a.render=e:ln(e)&&(a.setupState=v9(e)),s7(a,t)}let $8;function s7(a,e,t){const i=a.type;if(!a.render){if(!e&&$8&&!i.render){const n=i.template||D3(a).template;if(n){const{isCustomElement:s,compilerOptions:r}=a.appContext.config,{delimiters:l,compilerOptions:c}=i,h=Sr(Sr({isCustomElement:s,delimiters:l},r),c);i.render=$8(n,h)}}a.render=i.render||Dl}{const n=A0(a);bh();try{FW(a)}finally{xh(),n()}}}const yz={get(a,e){return Es(a,"get",""),a[e]}};function vz(a){const e=t=>{a.exposed=t||{}};return{attrs:new Proxy(a.attrs,yz),slots:a.slots,emit:a.emit,expose:e}}function gx(a){return a.exposed?a.exposeProxy||(a.exposeProxy=new Proxy(v9(I3(a.exposed)),{get(e,t){if(t in e)return e[t];if(t in wy)return wy[t](a)},has(e,t){return t in e||t in wy}})):a.proxy}function bz(a,e=!0){return Ya(a)?a.displayName||a.name:a.name||e&&a.__name}function xz(a){return Ya(a)&&"__vccOpts"in a}const Pt=(a,e)=>mW(a,e,Jy);function wz(a,e,t){const i=arguments.length;return i===2?ln(e)&&!Ca(e)?Qy(e)?ct(a,null,[e]):ct(a,e):ct(a,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&Qy(t)&&(t=[t]),ct(a,e,t))}const Sz="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let q4;const Q8=typeof window<"u"&&window.trustedTypes;if(Q8)try{q4=Q8.createPolicy("vue",{createHTML:a=>a})}catch{}const o7=q4?a=>q4.createHTML(a):a=>a,Tz="http://www.w3.org/2000/svg",Ez="http://www.w3.org/1998/Math/MathML",Sc=typeof document<"u"?document:null,J8=Sc&&Sc.createElement("template"),Mz={insert:(a,e,t)=>{e.insertBefore(a,t||null)},remove:a=>{const e=a.parentNode;e&&e.removeChild(a)},createElement:(a,e,t,i)=>{const n=e==="svg"?Sc.createElementNS(Tz,a):e==="mathml"?Sc.createElementNS(Ez,a):t?Sc.createElement(a,{is:t}):Sc.createElement(a);return a==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:a=>Sc.createTextNode(a),createComment:a=>Sc.createComment(a),setText:(a,e)=>{a.nodeValue=e},setElementText:(a,e)=>{a.textContent=e},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>Sc.querySelector(a),setScopeId(a,e){a.setAttribute(e,"")},insertStaticContent(a,e,t,i,n,s){const r=t?t.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===s||!(n=n.nextSibling)););else{J8.innerHTML=o7(i==="svg"?`<svg>${a}</svg>`:i==="mathml"?`<math>${a}</math>`:a);const l=J8.content;if(i==="svg"||i==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,t)}return[r?r.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},wd="transition",Gg="animation",e0=Symbol("_vtc"),l7={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Lz=Sr({},R9,l7),Az=a=>(a.displayName="Transition",a.props=Lz,a),G3=Az((a,{slots:e})=>wz(SW,Cz(a),e)),h_=(a,e=[])=>{Ca(a)?a.forEach(t=>t(...e)):a&&a(...e)},eL=a=>a?Ca(a)?a.some(e=>e.length>1):a.length>1:!1;function Cz(a){const e={};for(const be in a)be in l7||(e[be]=a[be]);if(a.css===!1)return e;const{name:t="v",type:i,duration:n,enterFromClass:s=`${t}-enter-from`,enterActiveClass:r=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:c=s,appearActiveClass:h=r,appearToClass:f=l,leaveFromClass:v=`${t}-leave-from`,leaveActiveClass:b=`${t}-leave-active`,leaveToClass:T=`${t}-leave-to`}=a,M=Iz(n),I=M&&M[0],R=M&&M[1],{onBeforeEnter:P,onEnter:F,onEnterCancelled:B,onLeave:W,onLeaveCancelled:Z,onBeforeAppear:ae=P,onAppear:he=F,onAppearCancelled:_e=B}=e,ie=(be,Ae,Ye,Xe)=>{be._enterCancelled=Xe,__(be,Ae?f:l),__(be,Ae?h:r),Ye&&Ye()},me=(be,Ae)=>{be._isLeaving=!1,__(be,v),__(be,T),__(be,b),Ae&&Ae()},fe=be=>(Ae,Ye)=>{const Xe=be?he:F,Re=()=>ie(Ae,be,Ye);h_(Xe,[Ae,Re]),tL(()=>{__(Ae,be?c:s),fc(Ae,be?f:l),eL(Xe)||aL(Ae,i,I,Re)})};return Sr(e,{onBeforeEnter(be){h_(P,[be]),fc(be,s),fc(be,r)},onBeforeAppear(be){h_(ae,[be]),fc(be,c),fc(be,h)},onEnter:fe(!1),onAppear:fe(!0),onLeave(be,Ae){be._isLeaving=!0;const Ye=()=>me(be,Ae);fc(be,v),be._enterCancelled?(fc(be,b),rL()):(rL(),fc(be,b)),tL(()=>{be._isLeaving&&(__(be,v),fc(be,T),eL(W)||aL(be,i,R,Ye))}),h_(W,[be,Ye])},onEnterCancelled(be){ie(be,!1,void 0,!0),h_(B,[be])},onAppearCancelled(be){ie(be,!0,void 0,!0),h_(_e,[be])},onLeaveCancelled(be){me(be),h_(Z,[be])}})}function Iz(a){if(a==null)return null;if(ln(a))return[tS(a.enter),tS(a.leave)];{const e=tS(a);return[e,e]}}function tS(a){return ON(a)}function fc(a,e){e.split(/\s+/).forEach(t=>t&&a.classList.add(t)),(a[e0]||(a[e0]=new Set)).add(e)}function __(a,e){e.split(/\s+/).forEach(i=>i&&a.classList.remove(i));const t=a[e0];t&&(t.delete(e),t.size||(a[e0]=void 0))}function tL(a){requestAnimationFrame(()=>{requestAnimationFrame(a)})}let Rz=0;function aL(a,e,t,i){const n=a._endId=++Rz,s=()=>{n===a._endId&&i()};if(t!=null)return setTimeout(s,t);const{type:r,timeout:l,propCount:c}=Oz(a,e);if(!r)return i();const h=r+"end";let f=0;const v=()=>{a.removeEventListener(h,b),s()},b=T=>{T.target===a&&++f>=c&&v()};setTimeout(()=>{f<c&&v()},l+1),a.addEventListener(h,b)}function Oz(a,e){const t=window.getComputedStyle(a),i=M=>(t[M]||"").split(", "),n=i(`${wd}Delay`),s=i(`${wd}Duration`),r=iL(n,s),l=i(`${Gg}Delay`),c=i(`${Gg}Duration`),h=iL(l,c);let f=null,v=0,b=0;e===wd?r>0&&(f=wd,v=r,b=s.length):e===Gg?h>0&&(f=Gg,v=h,b=c.length):(v=Math.max(r,h),f=v>0?r>h?wd:Gg:null,b=f?f===wd?s.length:c.length:0);const T=f===wd&&/\b(transform|all)(,|$)/.test(i(`${wd}Property`).toString());return{type:f,timeout:v,propCount:b,hasTransform:T}}function iL(a,e){for(;a.length<e.length;)a=a.concat(a);return Math.max(...e.map((t,i)=>nL(t)+nL(a[i])))}function nL(a){return a==="auto"?0:Number(a.slice(0,-1).replace(",","."))*1e3}function rL(){return document.body.offsetHeight}function kz(a,e,t){const i=a[e0];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?a.removeAttribute("class"):t?a.setAttribute("class",e):a.className=e}const Ub=Symbol("_vod"),u7=Symbol("_vsh"),th={beforeMount(a,{value:e},{transition:t}){a[Ub]=a.style.display==="none"?"":a.style.display,t&&e?t.beforeEnter(a):qg(a,e)},mounted(a,{value:e},{transition:t}){t&&e&&t.enter(a)},updated(a,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(a),qg(a,!0),i.enter(a)):i.leave(a,()=>{qg(a,!1)}):qg(a,e))},beforeUnmount(a,{value:e}){qg(a,e)}};function qg(a,e){a.style.display=e?a[Ub]:"none",a[u7]=!e}const Pz=Symbol(""),Dz=/(^|;)\s*display\s*:/;function Fz(a,e,t){const i=a.style,n=Un(t);let s=!1;if(t&&!n){if(e)if(Un(e))for(const r of e.split(";")){const l=r.slice(0,r.indexOf(":")).trim();t[l]==null&&rb(i,l,"")}else for(const r in e)t[r]==null&&rb(i,r,"");for(const r in t)r==="display"&&(s=!0),rb(i,r,t[r])}else if(n){if(e!==t){const r=i[Pz];r&&(t+=";"+r),i.cssText=t,s=Dz.test(t)}}else e&&a.removeAttribute("style");Ub in a&&(a[Ub]=s?i.display:"",a[u7]&&(i.display="none"))}const sL=/\s*!important$/;function rb(a,e,t){if(Ca(t))t.forEach(i=>rb(a,e,i));else if(t==null&&(t=""),e.startsWith("--"))a.setProperty(e,t);else{const i=Nz(a,e);sL.test(t)?a.setProperty(yh(i),t.replace(sL,""),"important"):a[i]=t}}const oL=["Webkit","Moz","ms"],aS={};function Nz(a,e){const t=aS[e];if(t)return t;let i=ll(e);if(i!=="filter"&&i in a)return aS[e]=i;i=rx(i);for(let n=0;n<oL.length;n++){const s=oL[n]+i;if(s in a)return aS[e]=s}return e}const lL="http://www.w3.org/1999/xlink";function uL(a,e,t,i,n,s=WN(e)){i&&e.startsWith("xlink:")?t==null?a.removeAttributeNS(lL,e.slice(6,e.length)):a.setAttributeNS(lL,e,t):t==null||s&&!KC(t)?a.removeAttribute(e):a.setAttribute(e,s?"":zl(t)?String(t):t)}function cL(a,e,t,i,n){if(e==="innerHTML"||e==="textContent"){t!=null&&(a[e]=e==="innerHTML"?o7(t):t);return}const s=a.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?a.getAttribute("value")||"":a.value,c=t==null?a.type==="checkbox"?"on":"":String(t);(l!==c||!("_value"in a))&&(a.value=c),t==null&&a.removeAttribute(e),a._value=t;return}let r=!1;if(t===""||t==null){const l=typeof a[e];l==="boolean"?t=KC(t):t==null&&l==="string"?(t="",r=!0):l==="number"&&(t=0,r=!0)}try{a[e]=t}catch{}r&&a.removeAttribute(n||e)}function C_(a,e,t,i){a.addEventListener(e,t,i)}function Wz(a,e,t,i){a.removeEventListener(e,t,i)}const dL=Symbol("_vei");function zz(a,e,t,i,n=null){const s=a[dL]||(a[dL]={}),r=s[e];if(i&&r)r.value=i;else{const[l,c]=Bz(e);if(i){const h=s[e]=Uz(i,n);C_(a,l,h,c)}else r&&(Wz(a,l,r,c),s[e]=void 0)}}const hL=/(?:Once|Passive|Capture)$/;function Bz(a){let e;if(hL.test(a)){e={};let i;for(;i=a.match(hL);)a=a.slice(0,a.length-i[0].length),e[i[0].toLowerCase()]=!0}return[a[2]===":"?a.slice(3):yh(a.slice(2)),e]}let iS=0;const Gz=Promise.resolve(),qz=()=>iS||(Gz.then(()=>iS=0),iS=Date.now());function Uz(a,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;Bl(Vz(i,t.value),e,5,[i])};return t.value=a,t.attached=qz(),t}function Vz(a,e){if(Ca(e)){const t=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{t.call(a),a._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const _L=a=>a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&a.charCodeAt(2)>96&&a.charCodeAt(2)<123,jz=(a,e,t,i,n,s)=>{const r=n==="svg";e==="class"?kz(a,i,r):e==="style"?Fz(a,t,i):ax(e)?b3(e)||zz(a,e,t,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Hz(a,e,i,r))?(cL(a,e,i),!a.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&uL(a,e,i,r,s,e!=="value")):a._isVueCE&&(/[A-Z]/.test(e)||!Un(i))?cL(a,ll(e),i,s,e):(e==="true-value"?a._trueValue=i:e==="false-value"&&(a._falseValue=i),uL(a,e,i,r))};function Hz(a,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in a&&_L(e)&&Ya(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&a.tagName==="INPUT"||e==="type"&&a.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=a.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return _L(e)&&Un(t)?!1:e in a}const Vb=a=>{const e=a.props["onUpdate:modelValue"]||!1;return Ca(e)?t=>ab(e,t):e};function Zz(a){a.target.composing=!0}function mL(a){const e=a.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const jp=Symbol("_assign"),Uc={created(a,{modifiers:{lazy:e,trim:t,number:i}},n){a[jp]=Vb(n);const s=i||n.props&&n.props.type==="number";C_(a,e?"change":"input",r=>{if(r.target.composing)return;let l=a.value;t&&(l=l.trim()),s&&(l=I4(l)),a[jp](l)}),t&&C_(a,"change",()=>{a.value=a.value.trim()}),e||(C_(a,"compositionstart",Zz),C_(a,"compositionend",mL),C_(a,"change",mL))},mounted(a,{value:e}){a.value=e??""},beforeUpdate(a,{value:e,oldValue:t,modifiers:{lazy:i,trim:n,number:s}},r){if(a[jp]=Vb(r),a.composing)return;const l=(s||a.type==="number")&&!/^0\d/.test(a.value)?I4(a.value):a.value,c=e??"";l!==c&&(document.activeElement===a&&a.type!=="range"&&(i&&e===t||n&&a.value.trim()===c)||(a.value=c))}},Xz={deep:!0,created(a,e,t){a[jp]=Vb(t),C_(a,"change",()=>{const i=a._modelValue,n=Yz(a),s=a.checked,r=a[jp];if(Ca(i)){const l=$C(i,n),c=l!==-1;if(s&&!c)r(i.concat(n));else if(!s&&c){const h=[...i];h.splice(l,1),r(h)}}else if(ix(i)){const l=new Set(i);s?l.add(n):l.delete(n),r(l)}else r(c7(a,s))})},mounted:pL,beforeUpdate(a,e,t){a[jp]=Vb(t),pL(a,e,t)}};function pL(a,{value:e,oldValue:t},i){a._modelValue=e;let n;if(Ca(e))n=$C(e,i.props.value)>-1;else if(ix(e))n=e.has(i.props.value);else{if(e===t)return;n=ox(e,c7(a,!0))}a.checked!==n&&(a.checked=n)}function Yz(a){return"_value"in a?a._value:a.value}function c7(a,e){const t=e?"_trueValue":"_falseValue";return t in a?a[t]:e}const Kz=["ctrl","shift","alt","meta"],$z={stop:a=>a.stopPropagation(),prevent:a=>a.preventDefault(),self:a=>a.target!==a.currentTarget,ctrl:a=>!a.ctrlKey,shift:a=>!a.shiftKey,alt:a=>!a.altKey,meta:a=>!a.metaKey,left:a=>"button"in a&&a.button!==0,middle:a=>"button"in a&&a.button!==1,right:a=>"button"in a&&a.button!==2,exact:(a,e)=>Kz.some(t=>a[`${t}Key`]&&!e.includes(t))},Rl=(a,e)=>{const t=a._withMods||(a._withMods={}),i=e.join(".");return t[i]||(t[i]=(n,...s)=>{for(let r=0;r<e.length;r++){const l=$z[e[r]];if(l&&l(n,e))return}return a(n,...s)})},Qz={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ol=(a,e)=>{const t=a._withKeys||(a._withKeys={}),i=e.join(".");return t[i]||(t[i]=n=>{if(!("key"in n))return;const s=yh(n.key);if(e.some(r=>r===s||Qz[r]===s))return a(n)})},Jz=Sr({patchProp:jz},Mz);let fL;function eB(){return fL||(fL=KW(Jz))}const tB=(...a)=>{const e=eB().createApp(...a),{mount:t}=e;return e.mount=i=>{const n=iB(i);if(!n)return;const s=e._component;!Ya(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const r=t(n,!1,aB(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},e};function aB(a){if(a instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&a instanceof MathMLElement)return"mathml"}function iB(a){return Un(a)?document.querySelector(a):a}var d7=Symbol();function nB(a,{i18next:e,rerenderOn:t=["languageChanged","loaded","added","removed"],slotStart:i="{",slotEnd:n="}"}){const s=$e(new Date),r=()=>Xy(()=>{s.value=new Date}),l=()=>s.value;t.forEach(f=>{var v;switch(f){case"added":case"removed":(v=e.store)==null||v.on(f,r);break;default:e.on(f,r);break}}),a.component("i18next",oB);const c=()=>e.isInitialized;a.config.globalProperties.$t=gL(e.t.bind(e),l,c);const h=new Proxy(e,{get(f,v){return l(),Reflect.get(f,v)}});a.config.globalProperties.$i18next=h,a.provide(d7,{i18next:h,slotPattern:sB(i,n),withAccessRecording(f,v){return gL(f,l,v)}})}function ma(a,e){const{i18next:t,withAccessRecording:i}=h7();let n;return e!=null&&e.lng?n=t.getFixedT(e.lng,a,e==null?void 0:e.keyPrefix):n=t.getFixedT(null,a??null,e==null?void 0:e.keyPrefix),{i18next:t,t:i(n,rB(t,a))}}function rB(a,e=[]){let t;return()=>{if(t===void 0)if(a.isInitialized){const n=(typeof e=="string"?[e]:e).filter(s=>!a.hasLoadedNamespace(s));n.length?(t=!1,a.loadNamespaces(n).then(()=>t=!0)):t=!0}else return!1;return t}}function gL(a,e,t){return new Proxy(a,{apply:function(i,n,s){return e(),t()?Reflect.apply(i,n,s):""}})}function h7(){const a=Is(d7);if(!a)throw new Error("i18next-vue: Make sure to register the i18next-vue plugin using app.use(...).");return a}function sB(a,e){const t=`${a}\\s*([a-z0-9\\-]+)\\s*${e}`;return new RegExp(t,"gi")}var oB=ft({props:{translation:{type:String,required:!0}},setup(a,{slots:e}){const{slotPattern:t}=h7();return()=>{const i=a.translation,n=[];let s,r=0;for(;(s=t.exec(i))!==null;){n.push(i.substring(r,s.index));const l=e[s[1]];l?n.push(...l()):n.push(s[0]),r=t.lastIndex}return n.push(i.substring(r)),n}}});/*! @license DOMPurify 2.5.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.8/LICENSE */function zd(a){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(a)}function U4(a,e){return U4=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},U4(a,e)}function lB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sb(a,e,t){return lB()?sb=Reflect.construct:sb=function(n,s,r){var l=[null];l.push.apply(l,s);var c=Function.bind.apply(n,l),h=new c;return r&&U4(h,r.prototype),h},sb.apply(null,arguments)}function Ll(a){return uB(a)||cB(a)||dB(a)||hB()}function uB(a){if(Array.isArray(a))return V4(a)}function cB(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function dB(a,e){if(a){if(typeof a=="string")return V4(a,e);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V4(a,e)}}function V4(a,e){(e==null||e>a.length)&&(e=a.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=a[t];return i}function hB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _B=Object.hasOwnProperty,yL=Object.setPrototypeOf,mB=Object.isFrozen,pB=Object.getPrototypeOf,fB=Object.getOwnPropertyDescriptor,Ys=Object.freeze,ul=Object.seal,gB=Object.create,_7=typeof Reflect<"u"&&Reflect,jb=_7.apply,j4=_7.construct;jb||(jb=function(e,t,i){return e.apply(t,i)});Ys||(Ys=function(e){return e});ul||(ul=function(e){return e});j4||(j4=function(e,t){return sb(e,Ll(t))});var yB=cl(Array.prototype.forEach),vL=cl(Array.prototype.pop),Ug=cl(Array.prototype.push),ob=cl(String.prototype.toLowerCase),nS=cl(String.prototype.toString),bL=cl(String.prototype.match),wl=cl(String.prototype.replace),vB=cl(String.prototype.indexOf),bB=cl(String.prototype.trim),as=cl(RegExp.prototype.test),rS=xB(TypeError);function cl(a){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return jb(a,e,i)}}function xB(a){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return j4(a,t)}}function di(a,e,t){var i;t=(i=t)!==null&&i!==void 0?i:ob,yL&&yL(a,null);for(var n=e.length;n--;){var s=e[n];if(typeof s=="string"){var r=t(s);r!==s&&(mB(e)||(e[n]=r),s=r)}a[s]=!0}return a}function m_(a){var e=gB(null),t;for(t in a)jb(_B,a,[t])===!0&&(e[t]=a[t]);return e}function hv(a,e){for(;a!==null;){var t=fB(a,e);if(t){if(t.get)return cl(t.get);if(typeof t.value=="function")return cl(t.value)}a=pB(a)}function i(n){return console.warn("fallback value for",n),null}return i}var xL=Ys(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),sS=Ys(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),oS=Ys(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wB=Ys(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),lS=Ys(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),SB=Ys(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wL=Ys(["#text"]),SL=Ys(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),uS=Ys(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),TL=Ys(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_v=Ys(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),TB=ul(/\{\{[\w\W]*|[\w\W]*\}\}/gm),EB=ul(/<%[\w\W]*|[\w\W]*%>/gm),MB=ul(/\${[\w\W]*}/gm),LB=ul(/^data-[\-\w.\u00B7-\uFFFF]+$/),AB=ul(/^aria-[\-\w]+$/),CB=ul(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IB=ul(/^(?:\w+script|data):/i),RB=ul(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),OB=ul(/^html$/i),kB=ul(/^[a-z][.\w]*(-[.\w]+)+$/i),PB=function(){return typeof window>"u"?null:window},DB=function(e,t){if(zd(e)!=="object"||typeof e.createPolicy!="function")return null;var i=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(i=t.currentScript.getAttribute(n));var s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML:function(l){return l},createScriptURL:function(l){return l}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function m7(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:PB(),e=function(we){return m7(we)};if(e.version="2.5.8",e.removed=[],!a||!a.document||a.document.nodeType!==9)return e.isSupported=!1,e;var t=a.document,i=a.document,n=a.DocumentFragment,s=a.HTMLTemplateElement,r=a.Node,l=a.Element,c=a.NodeFilter,h=a.NamedNodeMap,f=h===void 0?a.NamedNodeMap||a.MozNamedAttrMap:h,v=a.HTMLFormElement,b=a.DOMParser,T=a.trustedTypes,M=l.prototype,I=hv(M,"cloneNode"),R=hv(M,"nextSibling"),P=hv(M,"childNodes"),F=hv(M,"parentNode");if(typeof s=="function"){var B=i.createElement("template");B.content&&B.content.ownerDocument&&(i=B.content.ownerDocument)}var W=DB(T,t),Z=W?W.createHTML(""):"",ae=i,he=ae.implementation,_e=ae.createNodeIterator,ie=ae.createDocumentFragment,me=ae.getElementsByTagName,fe=t.importNode,be={};try{be=m_(i).documentMode?i.documentMode:{}}catch{}var Ae={};e.isSupported=typeof F=="function"&&he&&he.createHTMLDocument!==void 0&&be!==9;var Ye=TB,Xe=EB,Re=MB,Oe=LB,Qe=AB,yt=IB,Je=RB,Xt=kB,We=CB,la=null,ba=di({},[].concat(Ll(xL),Ll(sS),Ll(oS),Ll(lS),Ll(wL))),ea=null,wn=di({},[].concat(Ll(SL),Ll(uS),Ll(TL),Ll(_v))),ca=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hi=null,ka=null,Zi=!0,er=!0,un=!1,pe=!0,Le=!1,qe=!0,it=!1,ut=!1,ot=!1,Et=!1,_t=!1,vt=!1,st=!0,Nt=!1,xt="user-content-",Wt=!0,Zt=!1,xa={},Fa=null,Ga=di({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xi=null,ii=di({},["audio","video","img","source","image","track"]),fn=null,cn=di({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),cr="http://www.w3.org/1998/Math/MathML",dr="http://www.w3.org/2000/svg",Ti="http://www.w3.org/1999/xhtml",Yi=Ti,ds=!1,Js=null,Kr=di({},[cr,dr,Ti],nS),Sn,Er=["application/xhtml+xml","text/html"],So="text/html",Ki,ja=null,G=i.createElement("form"),j=function(we){return we instanceof RegExp||we instanceof Function},X=function(we){ja&&ja===we||((!we||zd(we)!=="object")&&(we={}),we=m_(we),Sn=Er.indexOf(we.PARSER_MEDIA_TYPE)===-1?Sn=So:Sn=we.PARSER_MEDIA_TYPE,Ki=Sn==="application/xhtml+xml"?nS:ob,la="ALLOWED_TAGS"in we?di({},we.ALLOWED_TAGS,Ki):ba,ea="ALLOWED_ATTR"in we?di({},we.ALLOWED_ATTR,Ki):wn,Js="ALLOWED_NAMESPACES"in we?di({},we.ALLOWED_NAMESPACES,nS):Kr,fn="ADD_URI_SAFE_ATTR"in we?di(m_(cn),we.ADD_URI_SAFE_ATTR,Ki):cn,Xi="ADD_DATA_URI_TAGS"in we?di(m_(ii),we.ADD_DATA_URI_TAGS,Ki):ii,Fa="FORBID_CONTENTS"in we?di({},we.FORBID_CONTENTS,Ki):Ga,hi="FORBID_TAGS"in we?di({},we.FORBID_TAGS,Ki):{},ka="FORBID_ATTR"in we?di({},we.FORBID_ATTR,Ki):{},xa="USE_PROFILES"in we?we.USE_PROFILES:!1,Zi=we.ALLOW_ARIA_ATTR!==!1,er=we.ALLOW_DATA_ATTR!==!1,un=we.ALLOW_UNKNOWN_PROTOCOLS||!1,pe=we.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Le=we.SAFE_FOR_TEMPLATES||!1,qe=we.SAFE_FOR_XML!==!1,it=we.WHOLE_DOCUMENT||!1,Et=we.RETURN_DOM||!1,_t=we.RETURN_DOM_FRAGMENT||!1,vt=we.RETURN_TRUSTED_TYPE||!1,ot=we.FORCE_BODY||!1,st=we.SANITIZE_DOM!==!1,Nt=we.SANITIZE_NAMED_PROPS||!1,Wt=we.KEEP_CONTENT!==!1,Zt=we.IN_PLACE||!1,We=we.ALLOWED_URI_REGEXP||We,Yi=we.NAMESPACE||Ti,ca=we.CUSTOM_ELEMENT_HANDLING||{},we.CUSTOM_ELEMENT_HANDLING&&j(we.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ca.tagNameCheck=we.CUSTOM_ELEMENT_HANDLING.tagNameCheck),we.CUSTOM_ELEMENT_HANDLING&&j(we.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ca.attributeNameCheck=we.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),we.CUSTOM_ELEMENT_HANDLING&&typeof we.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ca.allowCustomizedBuiltInElements=we.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Le&&(er=!1),_t&&(Et=!0),xa&&(la=di({},Ll(wL)),ea=[],xa.html===!0&&(di(la,xL),di(ea,SL)),xa.svg===!0&&(di(la,sS),di(ea,uS),di(ea,_v)),xa.svgFilters===!0&&(di(la,oS),di(ea,uS),di(ea,_v)),xa.mathMl===!0&&(di(la,lS),di(ea,TL),di(ea,_v))),we.ADD_TAGS&&(la===ba&&(la=m_(la)),di(la,we.ADD_TAGS,Ki)),we.ADD_ATTR&&(ea===wn&&(ea=m_(ea)),di(ea,we.ADD_ATTR,Ki)),we.ADD_URI_SAFE_ATTR&&di(fn,we.ADD_URI_SAFE_ATTR,Ki),we.FORBID_CONTENTS&&(Fa===Ga&&(Fa=m_(Fa)),di(Fa,we.FORBID_CONTENTS,Ki)),Wt&&(la["#text"]=!0),it&&di(la,["html","head","body"]),la.table&&(di(la,["tbody"]),delete hi.tbody),Ys&&Ys(we),ja=we)},ee=di({},["mi","mo","mn","ms","mtext"]),oe=di({},["annotation-xml"]),Ee=di({},["title","style","font","a","script"]),Se=di({},sS);di(Se,oS),di(Se,wB);var Y=di({},lS);di(Y,SB);var ue=function(we){var tt=F(we);(!tt||!tt.tagName)&&(tt={namespaceURI:Yi,tagName:"template"});var rt=ob(we.tagName),Yt=ob(tt.tagName);return Js[we.namespaceURI]?we.namespaceURI===dr?tt.namespaceURI===Ti?rt==="svg":tt.namespaceURI===cr?rt==="svg"&&(Yt==="annotation-xml"||ee[Yt]):!!Se[rt]:we.namespaceURI===cr?tt.namespaceURI===Ti?rt==="math":tt.namespaceURI===dr?rt==="math"&&oe[Yt]:!!Y[rt]:we.namespaceURI===Ti?tt.namespaceURI===dr&&!oe[Yt]||tt.namespaceURI===cr&&!ee[Yt]?!1:!Y[rt]&&(Ee[rt]||!Se[rt]):!!(Sn==="application/xhtml+xml"&&Js[we.namespaceURI]):!1},Ie=function(we){Ug(e.removed,{element:we});try{we.parentNode.removeChild(we)}catch{try{we.outerHTML=Z}catch{we.remove()}}},et=function(we,tt){try{Ug(e.removed,{attribute:tt.getAttributeNode(we),from:tt})}catch{Ug(e.removed,{attribute:null,from:tt})}if(tt.removeAttribute(we),we==="is"&&!ea[we])if(Et||_t)try{Ie(tt)}catch{}else try{tt.setAttribute(we,"")}catch{}},lt=function(we){var tt,rt;if(ot)we="<remove></remove>"+we;else{var Yt=bL(we,/^[\r\n\t ]+/);rt=Yt&&Yt[0]}Sn==="application/xhtml+xml"&&Yi===Ti&&(we='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+we+"</body></html>");var ya=W?W.createHTML(we):we;if(Yi===Ti)try{tt=new b().parseFromString(ya,Sn)}catch{}if(!tt||!tt.documentElement){tt=he.createDocument(Yi,"template",null);try{tt.documentElement.innerHTML=ds?Z:ya}catch{}}var vi=tt.body||tt.documentElement;return we&&rt&&vi.insertBefore(i.createTextNode(rt),vi.childNodes[0]||null),Yi===Ti?me.call(tt,it?"html":"body")[0]:it?tt.documentElement:vi},Ge=function(we){return _e.call(we.ownerDocument||we,we,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null,!1)},nt=function(we){return we instanceof v&&(typeof we.nodeName!="string"||typeof we.textContent!="string"||typeof we.removeChild!="function"||!(we.attributes instanceof f)||typeof we.removeAttribute!="function"||typeof we.setAttribute!="function"||typeof we.namespaceURI!="string"||typeof we.insertBefore!="function"||typeof we.hasChildNodes!="function")},Ot=function(we){return zd(r)==="object"?we instanceof r:we&&zd(we)==="object"&&typeof we.nodeType=="number"&&typeof we.nodeName=="string"},Mt=function(we,tt,rt){Ae[we]&&yB(Ae[we],function(Yt){Yt.call(e,tt,rt,ja)})},Ve=function(we){var tt;if(Mt("beforeSanitizeElements",we,null),nt(we)||as(/[\u0080-\uFFFF]/,we.nodeName))return Ie(we),!0;var rt=Ki(we.nodeName);if(Mt("uponSanitizeElement",we,{tagName:rt,allowedTags:la}),we.hasChildNodes()&&!Ot(we.firstElementChild)&&(!Ot(we.content)||!Ot(we.content.firstElementChild))&&as(/<[/\w]/g,we.innerHTML)&&as(/<[/\w]/g,we.textContent)||rt==="select"&&as(/<template/i,we.innerHTML)||we.nodeType===7||qe&&we.nodeType===8&&as(/<[/\w]/g,we.data))return Ie(we),!0;if(!la[rt]||hi[rt]){if(!hi[rt]&&bt(rt)&&(ca.tagNameCheck instanceof RegExp&&as(ca.tagNameCheck,rt)||ca.tagNameCheck instanceof Function&&ca.tagNameCheck(rt)))return!1;if(Wt&&!Fa[rt]){var Yt=F(we)||we.parentNode,ya=P(we)||we.childNodes;if(ya&&Yt)for(var vi=ya.length,Ta=vi-1;Ta>=0;--Ta){var Ii=I(ya[Ta],!0);Ii.__removalCount=(we.__removalCount||0)+1,Yt.insertBefore(Ii,R(we))}}return Ie(we),!0}return we instanceof l&&!ue(we)||(rt==="noscript"||rt==="noembed"||rt==="noframes")&&as(/<\/no(script|embed|frames)/i,we.innerHTML)?(Ie(we),!0):(Le&&we.nodeType===3&&(tt=we.textContent,tt=wl(tt,Ye," "),tt=wl(tt,Xe," "),tt=wl(tt,Re," "),we.textContent!==tt&&(Ug(e.removed,{element:we.cloneNode()}),we.textContent=tt)),Mt("afterSanitizeElements",we,null),!1)},At=function(we,tt,rt){if(st&&(tt==="id"||tt==="name")&&(rt in i||rt in G))return!1;if(!(er&&!ka[tt]&&as(Oe,tt))){if(!(Zi&&as(Qe,tt))){if(!ea[tt]||ka[tt]){if(!(bt(we)&&(ca.tagNameCheck instanceof RegExp&&as(ca.tagNameCheck,we)||ca.tagNameCheck instanceof Function&&ca.tagNameCheck(we))&&(ca.attributeNameCheck instanceof RegExp&&as(ca.attributeNameCheck,tt)||ca.attributeNameCheck instanceof Function&&ca.attributeNameCheck(tt))||tt==="is"&&ca.allowCustomizedBuiltInElements&&(ca.tagNameCheck instanceof RegExp&&as(ca.tagNameCheck,rt)||ca.tagNameCheck instanceof Function&&ca.tagNameCheck(rt))))return!1}else if(!fn[tt]){if(!as(We,wl(rt,Je,""))){if(!((tt==="src"||tt==="xlink:href"||tt==="href")&&we!=="script"&&vB(rt,"data:")===0&&Xi[we])){if(!(un&&!as(yt,wl(rt,Je,"")))){if(rt)return!1}}}}}}return!0},bt=function(we){return we!=="annotation-xml"&&bL(we,Xt)},St=function(we){var tt,rt,Yt,ya;Mt("beforeSanitizeAttributes",we,null);var vi=we.attributes;if(!(!vi||nt(we))){var Ta={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ea};for(ya=vi.length;ya--;){tt=vi[ya];var Ii=tt,Ea=Ii.name,Wa=Ii.namespaceURI;if(rt=Ea==="value"?tt.value:bB(tt.value),Yt=Ki(Ea),Ta.attrName=Yt,Ta.attrValue=rt,Ta.keepAttr=!0,Ta.forceKeepAttr=void 0,Mt("uponSanitizeAttribute",we,Ta),rt=Ta.attrValue,!Ta.forceKeepAttr&&(et(Ea,we),!!Ta.keepAttr)){if(!pe&&as(/\/>/i,rt)){et(Ea,we);continue}Le&&(rt=wl(rt,Ye," "),rt=wl(rt,Xe," "),rt=wl(rt,Re," "));var li=Ki(we.nodeName);if(At(li,Yt,rt)){if(Nt&&(Yt==="id"||Yt==="name")&&(et(Ea,we),rt=xt+rt),qe&&as(/((--!?|])>)|<\/(style|title)/i,rt)){et(Ea,we);continue}if(W&&zd(T)==="object"&&typeof T.getAttributeType=="function"&&!Wa)switch(T.getAttributeType(li,Yt)){case"TrustedHTML":{rt=W.createHTML(rt);break}case"TrustedScriptURL":{rt=W.createScriptURL(rt);break}}try{Wa?we.setAttributeNS(Wa,Ea,rt):we.setAttribute(Ea,rt),nt(we)?Ie(we):vL(e.removed)}catch{}}}}Mt("afterSanitizeAttributes",we,null)}},Ra=function He(we){var tt,rt=Ge(we);for(Mt("beforeSanitizeShadowDOM",we,null);tt=rt.nextNode();)Mt("uponSanitizeShadowNode",tt,null),Ve(tt),St(tt),tt.content instanceof n&&He(tt.content);Mt("afterSanitizeShadowDOM",we,null)};return e.sanitize=function(He){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt,rt,Yt,ya,vi;if(ds=!He,ds&&(He="<!-->"),typeof He!="string"&&!Ot(He))if(typeof He.toString=="function"){if(He=He.toString(),typeof He!="string")throw rS("dirty is not a string, aborting")}else throw rS("toString is not a function");if(!e.isSupported){if(zd(a.toStaticHTML)==="object"||typeof a.toStaticHTML=="function"){if(typeof He=="string")return a.toStaticHTML(He);if(Ot(He))return a.toStaticHTML(He.outerHTML)}return He}if(ut||X(we),e.removed=[],typeof He=="string"&&(Zt=!1),Zt){if(He.nodeName){var Ta=Ki(He.nodeName);if(!la[Ta]||hi[Ta])throw rS("root node is forbidden and cannot be sanitized in-place")}}else if(He instanceof r)tt=lt("<!---->"),rt=tt.ownerDocument.importNode(He,!0),rt.nodeType===1&&rt.nodeName==="BODY"||rt.nodeName==="HTML"?tt=rt:tt.appendChild(rt);else{if(!Et&&!Le&&!it&&He.indexOf("<")===-1)return W&&vt?W.createHTML(He):He;if(tt=lt(He),!tt)return Et?null:vt?Z:""}tt&&ot&&Ie(tt.firstChild);for(var Ii=Ge(Zt?He:tt);Yt=Ii.nextNode();)Yt.nodeType===3&&Yt===ya||(Ve(Yt),St(Yt),Yt.content instanceof n&&Ra(Yt.content),ya=Yt);if(ya=null,Zt)return He;if(Et){if(_t)for(vi=ie.call(tt.ownerDocument);tt.firstChild;)vi.appendChild(tt.firstChild);else vi=tt;return(ea.shadowroot||ea.shadowrootmod)&&(vi=fe.call(t,vi,!0)),vi}var Ea=it?tt.outerHTML:tt.innerHTML;return it&&la["!doctype"]&&tt.ownerDocument&&tt.ownerDocument.doctype&&tt.ownerDocument.doctype.name&&as(OB,tt.ownerDocument.doctype.name)&&(Ea="<!DOCTYPE "+tt.ownerDocument.doctype.name+`>
`+Ea),Le&&(Ea=wl(Ea,Ye," "),Ea=wl(Ea,Xe," "),Ea=wl(Ea,Re," ")),W&&vt?W.createHTML(Ea):Ea},e.setConfig=function(He){X(He),ut=!0},e.clearConfig=function(){ja=null,ut=!1},e.isValidAttribute=function(He,we,tt){ja||X({});var rt=Ki(He),Yt=Ki(we);return At(rt,Yt,tt)},e.addHook=function(He,we){typeof we=="function"&&(Ae[He]=Ae[He]||[],Ug(Ae[He],we))},e.removeHook=function(He){if(Ae[He])return vL(Ae[He])},e.removeHooks=function(He){Ae[He]&&(Ae[He]=[])},e.removeAllHooks=function(){Ae={}},e}var FB=m7();function NB(a,e){const t=a.hooks??{};let i;for(i in t){const n=t[i];n!==void 0&&e.addHook(i,n)}}function p7(){return FB()}function WB(a={},e=p7){const t=e();NB(a,t);const i=function(n,s){const r=s.value;if(s.oldValue===r)return;const l=`${r}`,c=s.arg,h=a.namedConfigurations,f=a.default??{};if(h&&c!==void 0){n.innerHTML=t.sanitize(l,h[c]??f);return}n.innerHTML=t.sanitize(l,f)};return{mounted:i,updated:i}}const zB={install(a,e={},t=p7){a.directive("dompurify-html",WB(e,t))}};var BB=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let f7;const yx=a=>f7=a,g7=Symbol();function H4(a){return a&&typeof a=="object"&&Object.prototype.toString.call(a)==="[object Object]"&&typeof a.toJSON!="function"}var Ty;(function(a){a.direct="direct",a.patchObject="patch object",a.patchFunction="patch function"})(Ty||(Ty={}));function GB(){const a=t9(!0),e=a.run(()=>$e({}));let t=[],i=[];const n=I3({install(s){yx(n),n._a=s,s.provide(g7,n),s.config.globalProperties.$pinia=n,i.forEach(r=>t.push(r)),i=[]},use(s){return!this._a&&!BB?i.push(s):t.push(s),this},_p:t,_a:null,_e:a,_s:new Map,state:e});return n}const y7=()=>{};function EL(a,e,t,i=y7){a.push(e);const n=()=>{const s=a.indexOf(e);s>-1&&(a.splice(s,1),i())};return!t&&a9()&&BN(n),n}function up(a,...e){a.slice().forEach(t=>{t(...e)})}const qB=a=>a(),ML=Symbol(),cS=Symbol();function Z4(a,e){a instanceof Map&&e instanceof Map?e.forEach((t,i)=>a.set(i,t)):a instanceof Set&&e instanceof Set&&e.forEach(a.add,a);for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t],n=a[t];H4(n)&&H4(i)&&a.hasOwnProperty(t)&&!Dn(i)&&!Pc(i)?a[t]=Z4(n,i):a[t]=i}return a}const UB=Symbol();function VB(a){return!H4(a)||!a.hasOwnProperty(UB)}const{assign:Od}=Object;function jB(a){return!!(Dn(a)&&a.effect)}function HB(a,e,t,i){const{state:n,actions:s,getters:r}=e,l=t.state.value[a];let c;function h(){l||(t.state.value[a]=n?n():{});const f=cW(t.state.value[a]);return Od(f,s,Object.keys(r||{}).reduce((v,b)=>(v[b]=I3(Pt(()=>{yx(t);const T=t._s.get(a);return r[b].call(T,T)})),v),{}))}return c=v7(a,h,e,t,i,!0),c}function v7(a,e,t={},i,n,s){let r;const l=Od({actions:{}},t),c={deep:!0};let h,f,v=[],b=[],T;const M=i.state.value[a];!s&&!M&&(i.state.value[a]={}),$e({});let I;function R(_e){let ie;h=f=!1,typeof _e=="function"?(_e(i.state.value[a]),ie={type:Ty.patchFunction,storeId:a,events:T}):(Z4(i.state.value[a],_e),ie={type:Ty.patchObject,payload:_e,storeId:a,events:T});const me=I=Symbol();Xy().then(()=>{I===me&&(h=!0)}),f=!0,up(v,ie,i.state.value[a])}const P=s?function(){const{state:ie}=t,me=ie?ie():{};this.$patch(fe=>{Od(fe,me)})}:y7;function F(){r.stop(),v=[],b=[],i._s.delete(a)}const B=(_e,ie="")=>{if(ML in _e)return _e[cS]=ie,_e;const me=function(){yx(i);const fe=Array.from(arguments),be=[],Ae=[];function Ye(Oe){be.push(Oe)}function Xe(Oe){Ae.push(Oe)}up(b,{args:fe,name:me[cS],store:Z,after:Ye,onError:Xe});let Re;try{Re=_e.apply(this&&this.$id===a?this:Z,fe)}catch(Oe){throw up(Ae,Oe),Oe}return Re instanceof Promise?Re.then(Oe=>(up(be,Oe),Oe)).catch(Oe=>(up(Ae,Oe),Promise.reject(Oe))):(up(be,Re),Re)};return me[ML]=!0,me[cS]=ie,me},W={_p:i,$id:a,$onAction:EL.bind(null,b),$patch:R,$reset:P,$subscribe(_e,ie={}){const me=EL(v,_e,ie.detached,()=>fe()),fe=r.run(()=>Vt(()=>i.state.value[a],be=>{(ie.flush==="sync"?f:h)&&_e({storeId:a,type:Ty.direct,events:T},be)},Od({},c,ie)));return me},$dispose:F},Z=ux(W);i._s.set(a,Z);const he=(i._a&&i._a.runWithContext||qB)(()=>i._e.run(()=>(r=t9()).run(()=>e({action:B}))));for(const _e in he){const ie=he[_e];if(Dn(ie)&&!jB(ie)||Pc(ie))s||(M&&VB(ie)&&(Dn(ie)?ie.value=M[_e]:Z4(ie,M[_e])),i.state.value[a][_e]=ie);else if(typeof ie=="function"){const me=B(ie,_e);he[_e]=me,l.actions[_e]=ie}}return Od(Z,he),Od(Mi(Z),he),Object.defineProperty(Z,"$state",{get:()=>i.state.value[a],set:_e=>{R(ie=>{Od(ie,_e)})}}),i._p.forEach(_e=>{Od(Z,r.run(()=>_e({store:Z,app:i._a,pinia:i,options:l})))}),M&&s&&t.hydrate&&t.hydrate(Z.$state,M),h=!0,f=!0,Z}/*! #__NO_SIDE_EFFECTS__ */function jo(a,e,t){let i,n;const s=typeof e=="function";typeof a=="string"?(i=a,n=s?t:e):(n=a,i=a.id);function r(l,c){const h=UW();return l=l||(h?Is(g7,null):null),l&&yx(l),l=f7,l._s.has(i)||(s?v7(i,e,n,l):HB(i,n,l)),l._s.get(i)}return r.$id=i,r}function Gt(a){{const e=Mi(a),t={};for(const i in e){const n=e[i];n.effect?t[i]=Pt({get:()=>a[i],set(s){a[i]=s}}):(Dn(n)||Pc(n))&&(t[i]=b9(a,i))}return t}}const Mf={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Gl={};Gl[Mf.RADIANS]=6370997/(2*Math.PI);Gl[Mf.DEGREES]=2*Math.PI*6370997/360;Gl[Mf.FEET]=.3048;Gl[Mf.METERS]=1;Gl[Mf.USFEET]=1200/3937;const Cu=Mf;let ZB=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Gl[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}};const q3=ZB;function Jn(a,e,t){return Math.min(Math.max(a,e),t)}const XB=function(){let a;return"cosh"in Math?a=Math.cosh:a=function(e){const t=Math.exp(e);return(t+1/t)/2},a}(),YB=function(){let a;return"log2"in Math?a=Math.log2:a=function(e){return Math.log(e)*Math.LOG2E},a}();function KB(a,e,t,i,n,s){const r=n-t,l=s-i;if(r!==0||l!==0){const c=((a-t)*r+(e-i)*l)/(r*r+l*l);c>1?(t=n,i=s):c>0&&(t+=r*c,i+=l*c)}return B_(a,e,t,i)}function B_(a,e,t,i){const n=t-a,s=i-e;return n*n+s*s}function $B(a){const e=a.length;for(let i=0;i<e;i++){let n=i,s=Math.abs(a[i][i]);for(let l=i+1;l<e;l++){const c=Math.abs(a[l][i]);c>s&&(s=c,n=l)}if(s===0)return null;const r=a[n];a[n]=a[i],a[i]=r;for(let l=i+1;l<e;l++){const c=-a[l][i]/a[i][i];for(let h=i;h<e+1;h++)i==h?a[l][h]=0:a[l][h]+=c*a[i][h]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=a[i][e]/a[i][i];for(let n=i-1;n>=0;n--)a[n][e]-=a[n][i]*t[i]}return t}function t0(a){return a*180/Math.PI}function Dc(a){return a*Math.PI/180}function Fc(a,e){const t=a%e;return t*e<0?t+e:t}function Mc(a,e,t){return a+t*(e-a)}function U3(a,e){const t=Math.pow(10,e);return Math.round(a*t)/t}function LL(a,e){return Math.round(U3(a,e))}function Ip(a,e){return Math.floor(U3(a,e))}function Ud(a,e){return Math.ceil(U3(a,e))}const C0=6378137,Rp=Math.PI*C0,QB=[-Rp,-Rp,Rp,Rp],JB=[-180,-85,180,85],mv=C0*Math.log(Math.tan(Math.PI/2));class cp extends q3{constructor(e){super({code:e,units:Cu.METERS,extent:QB,global:!0,worldExtent:JB,getPointResolution:function(t,i){return t/XB(i[1]/C0)}})}}const AL=[new cp("EPSG:3857"),new cp("EPSG:102100"),new cp("EPSG:102113"),new cp("EPSG:900913"),new cp("http://www.opengis.net/def/crs/EPSG/0/3857"),new cp("http://www.opengis.net/gml/srs/epsg.xml#3857")];function eG(a,e,t){const i=a.length,n=t>1?t:2;let s=e;s===void 0&&(n>2?s=a.slice():s=new Array(i));for(let r=0;r<i;r+=n){s[r]=Rp*a[r]/180;let l=C0*Math.log(Math.tan(Math.PI*(+a[r+1]+90)/360));l>mv?l=mv:l<-mv&&(l=-mv),s[r+1]=l}return s}function tG(a,e,t){const i=a.length,n=t>1?t:2;let s=e;s===void 0&&(n>2?s=a.slice():s=new Array(i));for(let r=0;r<i;r+=n)s[r]=180*a[r]/Rp,s[r+1]=360*Math.atan(Math.exp(a[r+1]/C0))/Math.PI-90;return s}const aG=6378137,CL=[-180,-90,180,90],iG=Math.PI*aG/180;class p_ extends q3{constructor(e,t){super({code:e,units:Cu.DEGREES,extent:CL,axisOrientation:t,global:!0,metersPerUnit:iG,worldExtent:CL})}}const IL=[new p_("CRS:84"),new p_("EPSG:4326","neu"),new p_("urn:ogc:def:crs:OGC:1.3:CRS84"),new p_("urn:ogc:def:crs:OGC:2:84"),new p_("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new p_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new p_("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let X4={};function nG(a){return X4[a]||X4[a.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function rG(a,e){X4[a]=e}const Ci=typeof Object.assign=="function"?Object.assign:function(a,e){if(a==null)throw new TypeError("Cannot convert undefined or null to object");const t=Object(a);for(let i=1,n=arguments.length;i<n;++i){const s=arguments[i];if(s!=null)for(const r in s)s.hasOwnProperty(r)&&(t[r]=s[r])}return t};function Lf(a){for(const e in a)delete a[e]}const b7=typeof Object.values=="function"?Object.values:function(a){const e=[];for(const t in a)e.push(a[t]);return e};function of(a){let e;for(e in a)return!1;return!e}let Hp={};function lf(a,e,t){const i=a.getCode(),n=e.getCode();i in Hp||(Hp[i]={}),Hp[i][n]=t}function x7(a,e){let t;return a in Hp&&e in Hp[a]&&(t=Hp[a][e]),t}const jr={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function _a(){return function(){throw new Error("Unimplemented abstract method.")}()}let sG=0;function na(a){return a.ol_uid||(a.ol_uid=String(++sG))}const oG="latest";class lG extends Error{constructor(e){const i="Assertion failed. See https://openlayers.org/en/"+oG+"/doc/errors/#"+e+" for details.";super(i),this.code=e,this.name="AssertionError",this.message=i}}const w7=lG;function Ka(a,e){if(!a)throw new w7(e)}function Do(a){const e=Vo();for(let t=0,i=a.length;t<i;++t)Ey(e,a[t]);return e}function uG(a,e,t){const i=Math.min.apply(null,a),n=Math.min.apply(null,e),s=Math.max.apply(null,a),r=Math.max.apply(null,e);return ql(i,n,s,r,t)}function dh(a,e,t){return t?(t[0]=a[0]-e,t[1]=a[1]-e,t[2]=a[2]+e,t[3]=a[3]+e,t):[a[0]-e,a[1]-e,a[2]+e,a[3]+e]}function S7(a,e){return e?(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e):a.slice()}function tm(a,e,t){let i,n;return e<a[0]?i=a[0]-e:a[2]<e?i=e-a[2]:i=0,t<a[1]?n=a[1]-t:a[3]<t?n=t-a[3]:n=0,i*i+n*n}function Sh(a,e){return V3(a,e[0],e[1])}function Eu(a,e){return a[0]<=e[0]&&e[2]<=a[2]&&a[1]<=e[1]&&e[3]<=a[3]}function V3(a,e,t){return a[0]<=e&&e<=a[2]&&a[1]<=t&&t<=a[3]}function Y4(a,e){const t=a[0],i=a[1],n=a[2],s=a[3],r=e[0],l=e[1];let c=jr.UNKNOWN;return r<t?c=c|jr.LEFT:r>n&&(c=c|jr.RIGHT),l<i?c=c|jr.BELOW:l>s&&(c=c|jr.ABOVE),c===jr.UNKNOWN&&(c=jr.INTERSECTING),c}function Vo(){return[1/0,1/0,-1/0,-1/0]}function ql(a,e,t,i,n){return n?(n[0]=a,n[1]=e,n[2]=t,n[3]=i,n):[a,e,t,i]}function I0(a){return ql(1/0,1/0,-1/0,-1/0,a)}function lb(a,e){const t=a[0],i=a[1];return ql(t,i,t,i,e)}function T7(a,e,t,i,n){const s=I0(n);return E7(s,a,e,t,i)}function j_(a,e){return a[0]==e[0]&&a[2]==e[2]&&a[1]==e[1]&&a[3]==e[3]}function j3(a,e){return e[0]<a[0]&&(a[0]=e[0]),e[2]>a[2]&&(a[2]=e[2]),e[1]<a[1]&&(a[1]=e[1]),e[3]>a[3]&&(a[3]=e[3]),a}function Ey(a,e){e[0]<a[0]&&(a[0]=e[0]),e[0]>a[2]&&(a[2]=e[0]),e[1]<a[1]&&(a[1]=e[1]),e[1]>a[3]&&(a[3]=e[1])}function E7(a,e,t,i,n){for(;t<i;t+=n)cG(a,e[t],e[t+1]);return a}function cG(a,e,t){a[0]=Math.min(a[0],e),a[1]=Math.min(a[1],t),a[2]=Math.max(a[2],e),a[3]=Math.max(a[3],t)}function H3(a,e){let t;return t=e(vx(a)),t||(t=e(bx(a)),t)||(t=e(xx(a)),t)||(t=e(Jc(a)),t)?t:!1}function K4(a){let e=0;return wx(a)||(e=Si(a)*wr(a)),e}function vx(a){return[a[0],a[1]]}function bx(a){return[a[2],a[1]]}function Wu(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function dG(a,e){let t;return e==="bottom-left"?t=vx(a):e==="bottom-right"?t=bx(a):e==="top-left"?t=Jc(a):e==="top-right"?t=xx(a):Ka(!1,13),t}function Zp(a,e,t,i,n){const[s,r,l,c,h,f,v,b]=$4(a,e,t,i);return ql(Math.min(s,l,h,v),Math.min(r,c,f,b),Math.max(s,l,h,v),Math.max(r,c,f,b),n)}function $4(a,e,t,i){const n=e*i[0]/2,s=e*i[1]/2,r=Math.cos(t),l=Math.sin(t),c=n*r,h=n*l,f=s*r,v=s*l,b=a[0],T=a[1];return[b-c+v,T-h-f,b-c-v,T-h+f,b+c-v,T+h+f,b+c+v,T+h-f,b-c+v,T-h-f]}function wr(a){return a[3]-a[1]}function ah(a,e,t){const i=t||Vo();return Ir(a,e)?(a[0]>e[0]?i[0]=a[0]:i[0]=e[0],a[1]>e[1]?i[1]=a[1]:i[1]=e[1],a[2]<e[2]?i[2]=a[2]:i[2]=e[2],a[3]<e[3]?i[3]=a[3]:i[3]=e[3]):I0(i),i}function Jc(a){return[a[0],a[3]]}function xx(a){return[a[2],a[3]]}function Si(a){return a[2]-a[0]}function Ir(a,e){return a[0]<=e[2]&&a[2]>=e[0]&&a[1]<=e[3]&&a[3]>=e[1]}function wx(a){return a[2]<a[0]||a[3]<a[1]}function hG(a,e){return e?(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e):a}function _G(a,e,t){let i=!1;const n=Y4(a,e),s=Y4(a,t);if(n===jr.INTERSECTING||s===jr.INTERSECTING)i=!0;else{const r=a[0],l=a[1],c=a[2],h=a[3],f=e[0],v=e[1],b=t[0],T=t[1],M=(T-v)/(b-f);let I,R;s&jr.ABOVE&&!(n&jr.ABOVE)&&(I=b-(T-h)/M,i=I>=r&&I<=c),!i&&s&jr.RIGHT&&!(n&jr.RIGHT)&&(R=T-(b-c)*M,i=R>=l&&R<=h),!i&&s&jr.BELOW&&!(n&jr.BELOW)&&(I=b-(T-l)/M,i=I>=r&&I<=c),!i&&s&jr.LEFT&&!(n&jr.LEFT)&&(R=T-(b-r)*M,i=R>=l&&R<=h)}return i}function mG(a,e,t,i){let n=[];if(i>1){const l=a[2]-a[0],c=a[3]-a[1];for(let h=0;h<i;++h)n.push(a[0]+l*h/i,a[1],a[2],a[1]+c*h/i,a[2]-l*h/i,a[3],a[0],a[3]-c*h/i)}else n=[a[0],a[1],a[2],a[1],a[2],a[3],a[0],a[3]];e(n,n,2);const s=[],r=[];for(let l=0,c=n.length;l<c;l+=2)s.push(n[l]),r.push(n[l+1]);return uG(s,r,t)}function M7(a,e){const t=e.getExtent(),i=Wu(a);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const n=Si(t),r=Math.floor((i[0]-t[0])/n)*n;a[0]-=r,a[2]-=r}return a}function pG(a,e){if(e.canWrapX()){const t=e.getExtent();if(!isFinite(a[0])||!isFinite(a[2]))return[[t[0],a[1],t[2],a[3]]];M7(a,e);const i=Si(t);if(Si(a)>i)return[[t[0],a[1],t[2],a[3]]];if(a[0]<t[0])return[[a[0]+i,a[1],t[2],a[3]],[t[0],a[1],a[2],a[3]]];if(a[2]>t[2])return[[a[0],a[1],t[2],a[3]],[t[0],a[1],a[2]-i,a[3]]]}return[a]}function Vg(a,e,t){const i=t!==void 0?a.toFixed(t):""+a;let n=i.indexOf(".");return n=n===-1?i.length:n,n>e?i:new Array(1+e-n).join("0")+i}function L7(a,e){const t=(""+a).split("."),i=(""+e).split(".");for(let n=0;n<Math.max(t.length,i.length);n++){const s=parseInt(t[n]||"0",10),r=parseInt(i[n]||"0",10);if(s>r)return 1;if(r>s)return-1}return 0}function fG(a,e){return a[0]+=+e[0],a[1]+=+e[1],a}function A7(a,e){const t=a[0],i=a[1],n=e[0],s=e[1],r=n[0],l=n[1],c=s[0],h=s[1],f=c-r,v=h-l,b=f===0&&v===0?0:(f*(t-r)+v*(i-l))/(f*f+v*v||0);let T,M;return b<=0?(T=r,M=l):b>=1?(T=c,M=h):(T=r+b*f,M=l+b*v),[T,M]}function Al(a,e){let t=!0;for(let i=a.length-1;i>=0;--i)if(a[i]!=e[i]){t=!1;break}return t}function Z3(a,e){const t=Math.cos(e),i=Math.sin(e),n=a[0]*t-a[1]*i,s=a[1]*t+a[0]*i;return a[0]=n,a[1]=s,a}function gG(a,e){return a[0]*=e,a[1]*=e,a}function uf(a,e){const t=a[0]-e[0],i=a[1]-e[1];return t*t+i*i}function RL(a,e){return Math.sqrt(uf(a,e))}function yG(a,e){return uf(a,A7(a,e))}function X3(a,e){if(e.canWrapX()){const t=Si(e.getExtent()),i=C7(a,e,t);i&&(a[0]-=i*t)}return a}function C7(a,e,t){const i=e.getExtent();let n=0;if(e.canWrapX()&&(a[0]<i[0]||a[0]>i[2])){const s=t||Si(i);n=Math.floor((a[0]-i[0])/s)}return n}const I7=63710088e-1;function Hb(a,e,t){const i=t||I7,n=Dc(a[1]),s=Dc(e[1]),r=(s-n)/2,l=Dc(e[0]-a[0])/2,c=Math.sin(r)*Math.sin(r)+Math.sin(l)*Math.sin(l)*Math.cos(n)*Math.cos(s);return 2*i*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function pv(a,e){let t=0;const i=a.length;let n=a[i-1][0],s=a[i-1][1];for(let r=0;r<i;r++){const l=a[r][0],c=a[r][1];t+=Dc(l-n)*(2+Math.sin(Dc(s))+Math.sin(Dc(c))),n=l,s=c}return t*e*e/2}function R7(a,e){const t=e||{},i=t.radius||I7,n=t.projection||"EPSG:3857",s=a.getType();s!=="GeometryCollection"&&(a=a.clone().transform(n,"EPSG:4326"));let r=0,l,c,h,f,v,b;switch(s){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":{for(l=a.getCoordinates(),r=Math.abs(pv(l[0],i)),h=1,f=l.length;h<f;++h)r-=Math.abs(pv(l[h],i));break}case"MultiPolygon":{for(l=a.getCoordinates(),h=0,f=l.length;h<f;++h)for(c=l[h],r+=Math.abs(pv(c[0],i)),v=1,b=c.length;v<b;++v)r-=Math.abs(pv(c[v],i));break}case"GeometryCollection":{const T=a.getGeometries();for(h=0,f=T.length;h<f;++h)r+=R7(T[h],e);break}default:throw new Error("Unsupported geometry type: "+s)}return r}let Q4=!0;function O7(a){Q4=!(a===void 0?!0:a)}function Y3(a,e,t){let i;if(e!==void 0){for(let n=0,s=a.length;n<s;++n)e[n]=a[n];i=e}else i=a.slice();return i}function k7(a,e,t){if(e!==void 0&&a!==e){for(let i=0,n=a.length;i<n;++i)e[i]=a[i];a=e}return a}function P7(a){rG(a.getCode(),a),lf(a,a,Y3)}function vG(a){a.forEach(P7)}function Di(a){return typeof a=="string"?nG(a):a||null}function J4(a,e,t,i){a=Di(a);let n;const s=a.getPointResolutionFunc();if(s){if(n=s(e,t),i&&i!==a.getUnits()){const r=a.getMetersPerUnit();r&&(n=n*r/Gl[i])}}else{const r=a.getUnits();if(r==Cu.DEGREES&&!i||i==Cu.DEGREES)n=e;else{const l=$3(a,Di("EPSG:4326"));if(l===k7&&r!==Cu.DEGREES)n=e*a.getMetersPerUnit();else{let h=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];h=l(h,h,2);const f=Hb(h.slice(0,2),h.slice(2,4)),v=Hb(h.slice(4,6),h.slice(6,8));n=(f+v)/2}const c=i?Gl[i]:a.getMetersPerUnit();c!==void 0&&(n/=c)}}return n}function eT(a){vG(a),a.forEach(function(e){a.forEach(function(t){e!==t&&lf(e,t,Y3)})})}function bG(a,e,t,i){a.forEach(function(n){e.forEach(function(s){lf(n,s,t),lf(s,n,i)})})}function K3(a,e){return a?typeof a=="string"?Di(a):a:Di(e)}function OL(a){return function(e,t,i){const n=e.length,s=i!==void 0?i:2,r=t!==void 0?t:new Array(n);for(let l=0;l<n;l+=s){const c=a(e.slice(l,l+s)),h=c.length;for(let f=0,v=s;f<v;++f)r[l+f]=f>=h?e[l+f]:c[f]}return r}}function xG(a,e,t,i){const n=Di(a),s=Di(e);lf(n,s,OL(t)),lf(s,n,OL(i))}function wG(a,e){return O7(),Ks(a,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function cf(a,e){const t=Ks(a,e!==void 0?e:"EPSG:3857","EPSG:4326"),i=t[0];return(i<-180||i>180)&&(t[0]=Fc(i+180,360)-180),t}function Rc(a,e){if(a===e)return!0;const t=a.getUnits()===e.getUnits();return(a.getCode()===e.getCode()||$3(a,e)===Y3)&&t}function $3(a,e){const t=a.getCode(),i=e.getCode();let n=x7(t,i);return n||(n=k7),n}function df(a,e){const t=Di(a),i=Di(e);return $3(t,i)}function Ks(a,e,t){return df(e,t)(a,void 0,a.length)}function Q3(a,e,t,i){const n=df(e,t);return mG(a,n,void 0,i)}function a0(a,e){return a}function lr(a,e){return Q4&&!Al(a,[0,0])&&a[0]>=-180&&a[0]<=180&&a[1]>=-90&&a[1]<=90&&(Q4=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),a}function J3(a,e){return a}function Mu(a,e){return a}function kL(a,e,t){return function(i){let n,s;if(a.canWrapX()){const r=a.getExtent(),l=Si(r);i=i.slice(0),s=C7(i,a,l),s&&(i[0]=i[0]-s*l),i[0]=Jn(i[0],r[0],r[2]),i[1]=Jn(i[1],r[1],r[3]),n=t(i)}else n=t(i);return s&&e.canWrapX()&&(n[0]+=s*Si(e.getExtent())),n}}function SG(){eT(AL),eT(IL),bG(IL,AL,eG,tG)}SG();class TG{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}const eE=TG;function EG(a,e,t){let i,n;const s=t||H_;let r=0,l=a.length,c=!1;for(;r<l;)i=r+(l-r>>1),n=+s(a[i],e),n<0?r=i+1:(l=i,c=!n);return c?r:~r}function H_(a,e){return a>e?1:a<e?-1:0}function ss(a,e){return a.indexOf(e)>=0}function Sx(a,e,t){const i=a.length;if(a[0]<=e)return 0;if(e<=a[i-1])return i-1;{let n;if(t>0){for(n=1;n<i;++n)if(a[n]<e)return n-1}else if(t<0){for(n=1;n<i;++n)if(a[n]<=e)return n}else for(n=1;n<i;++n){if(a[n]==e)return n;if(a[n]<e)return typeof t=="function"?t(e,a[n-1],a[n])>0?n-1:n:a[n-1]-e<e-a[n]?n-1:n}return i-1}}function MG(a,e,t){for(;e<t;){const i=a[e];a[e]=a[t],a[t]=i,++e,--t}}function xn(a,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let n=0;n<i;n++)a[a.length]=t[n]}function Th(a,e){const t=a.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(a[i]!==e[i])return!1;return!0}function LG(a,e,t){const i=e||H_;return a.every(function(n,s){if(s===0)return!0;const r=i(a[s-1],n);return!(r>0||t&&r===0)})}function Nc(){return!0}function Af(){return!1}function Z_(){}function AG(a){let e=!1,t,i,n;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==n||!Th(s,i))&&(e=!0,n=this,i=s,t=a.apply(this,arguments)),t}}const hh=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",CG=hh.indexOf("firefox")!==-1,IG=hh.indexOf("safari")!==-1&&hh.indexOf("chrom")==-1;IG&&(hh.indexOf("version/15.4")>=0||hh.match(/cpu (os|iphone os) 15_4 like mac os x/));const RG=hh.indexOf("webkit")!==-1&&hh.indexOf("edge")==-1,D7=hh.indexOf("macintosh")!==-1,tE=typeof devicePixelRatio<"u"?devicePixelRatio:1,Tx=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,OG=typeof Image<"u"&&Image.prototype.decode,F7=function(){let a=!1;try{const e=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return a}(),N7=new Array(6);function Go(){return[1,0,0,1,0,0]}function PL(a){return Ex(a,1,0,0,1,0,0)}function aE(a,e){const t=a[0],i=a[1],n=a[2],s=a[3],r=a[4],l=a[5],c=e[0],h=e[1],f=e[2],v=e[3],b=e[4],T=e[5];return a[0]=t*c+n*h,a[1]=i*c+s*h,a[2]=t*f+n*v,a[3]=i*f+s*v,a[4]=t*b+n*T+r,a[5]=i*b+s*T+l,a}function Ex(a,e,t,i,n,s,r){return a[0]=e,a[1]=t,a[2]=i,a[3]=n,a[4]=s,a[5]=r,a}function kG(a,e){return a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=e[3],a[4]=e[4],a[5]=e[5],a}function Gn(a,e){const t=e[0],i=e[1];return e[0]=a[0]*t+a[2]*i+a[4],e[1]=a[1]*t+a[3]*i+a[5],e}function ub(a,e,t){return aE(a,Ex(N7,e,0,0,t,0,0))}function PG(a,e,t){return Ex(a,e,0,0,t,0,0)}function DG(a,e,t){return aE(a,Ex(N7,1,0,0,1,e,t))}function dl(a,e,t,i,n,s,r,l){const c=Math.sin(s),h=Math.cos(s);return a[0]=i*h,a[1]=n*c,a[2]=-i*c,a[3]=n*h,a[4]=r*i*h-l*i*c+e,a[5]=r*n*c+l*n*h+t,a}function Mx(a,e){const t=FG(e);Ka(t!==0,32);const i=e[0],n=e[1],s=e[2],r=e[3],l=e[4],c=e[5];return a[0]=r/t,a[1]=-n/t,a[2]=-s/t,a[3]=i/t,a[4]=(s*c-r*l)/t,a[5]=-(i*c-n*l)/t,a}function FG(a){return a[0]*a[3]-a[1]*a[2]}let DL;function iE(a){const e="matrix("+a.join(", ")+")";if(Tx)return e;const t=DL||(DL=document.createElement("div"));return t.style.transform=e,t.style.transform}const NG=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,WG=/^([a-z]*)$|^hsla?\(.*\)$/i;function W7(a){return typeof a=="string"?a:z7(a)}function zG(a){const e=document.createElement("div");if(e.style.color=a,e.style.color!==""){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}const BG=function(){const e={};let t=0;return function(i){let n;if(e.hasOwnProperty(i))n=e[i];else{if(t>=1024){let s=0;for(const r in e)s++&3||(delete e[r],--t)}n=GG(i),e[i]=n,++t}return n}}();function Iu(a){return Array.isArray(a)?a:BG(a)}function GG(a){let e,t,i,n,s;if(WG.exec(a)&&(a=zG(a)),NG.exec(a)){const r=a.length-1;let l;r<=4?l=1:l=2;const c=r===4||r===8;e=parseInt(a.substr(1+0*l,l),16),t=parseInt(a.substr(1+1*l,l),16),i=parseInt(a.substr(1+2*l,l),16),c?n=parseInt(a.substr(1+3*l,l),16):n=255,l==1&&(e=(e<<4)+e,t=(t<<4)+t,i=(i<<4)+i,c&&(n=(n<<4)+n)),s=[e,t,i,n/255]}else a.indexOf("rgba(")==0?(s=a.slice(5,-1).split(",").map(Number),FL(s)):a.indexOf("rgb(")==0?(s=a.slice(4,-1).split(",").map(Number),s.push(1),FL(s)):Ka(!1,14);return s}function FL(a){return a[0]=Jn(a[0]+.5|0,0,255),a[1]=Jn(a[1]+.5|0,0,255),a[2]=Jn(a[2]+.5|0,0,255),a[3]=Jn(a[3],0,1),a}function z7(a){let e=a[0];e!=(e|0)&&(e=e+.5|0);let t=a[1];t!=(t|0)&&(t=t+.5|0);let i=a[2];i!=(i|0)&&(i=i+.5|0);const n=a[3]===void 0?1:Math.round(a[3]*100)/100;return"rgba("+e+","+t+","+i+","+n+")"}class qG{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];!(e++&3)&&!i.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,i){const n=NL(e,t,i);return n in this.cache_?this.cache_[n]:null}set(e,t,i,n){const s=NL(e,t,i);this.cache_[s]=n,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function NL(a,e,t){const i=t?W7(t):"null";return e+":"+a+":"+i}const Zb=new qG;class UG{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Ho=UG,X_={PROPERTYCHANGE:"propertychange"};class VG extends eE{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),n=i[e]||(i[e]=[]);n.indexOf(t)===-1&&n.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,n=this.listeners_&&this.listeners_[i];if(!n)return;const s=t?new Ho(e):e;s.target||(s.target=this.eventTarget_||this);const r=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});i in r||(r[i]=0,l[i]=0),++r[i];let c;for(let h=0,f=n.length;h<f;++h)if("handleEvent"in n[h]?c=n[h].handleEvent(s):c=n[h].call(this,s),c===!1||s.propagationStopped){c=!1;break}if(--r[i]===0){let h=l[i];for(delete l[i];h--;)this.removeEventListener(i,Z_);delete r[i]}return c}disposeInternal(){this.listeners_&&Lf(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){const i=this.listeners_&&this.listeners_[e];if(i){const n=i.indexOf(t);n!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[n]=Z_,++this.pendingRemovals_[e]):(i.splice(n,1),i.length===0&&delete this.listeners_[e]))}}}const Cf=VG,Da={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Ma(a,e,t,i,n){if(i&&i!==a&&(t=t.bind(i)),n){const r=t;t=function(){a.removeEventListener(e,t),r.apply(this,arguments)}}const s={target:a,type:e,listener:t};return a.addEventListener(e,t),s}function Xb(a,e,t,i){return Ma(a,e,t,i,!0)}function rn(a){a&&a.target&&(a.target.removeEventListener(a.type,a.listener),Lf(a))}class R0 extends Cf{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Da.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,n=new Array(i);for(let s=0;s<i;++s)n[s]=Ma(this,e[s],t);return n}else return Ma(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const n=e.length;i=new Array(n);for(let s=0;s<n;++s)i[s]=Xb(this,e[s],t)}else i=Xb(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)nE(i);else if(Array.isArray(e))for(let n=0,s=e.length;n<s;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}R0.prototype.on;R0.prototype.once;R0.prototype.un;function nE(a){if(Array.isArray(a))for(let e=0,t=a.length;e<t;++e)rn(a[e]);else rn(a)}class WL extends Ho{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class jG extends R0{constructor(e){super(),this.on,this.once,this.un,na(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Ci({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new WL(i,e,t)),i=X_.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new WL(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const n=this.values_||(this.values_={});if(i)n[e]=t;else{const s=n[e];n[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Ci(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],of(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const jl=jG,an={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class HG extends jl{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Ci({},e);typeof e.properties=="object"&&(delete t.properties,Ci(t,e.properties)),t[an.OPACITY]=e.opacity!==void 0?e.opacity:1,Ka(typeof t[an.OPACITY]=="number",64),t[an.VISIBLE]=e.visible!==void 0?e.visible:!0,t[an.Z_INDEX]=e.zIndex,t[an.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[an.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[an.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[an.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=Jn(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return _a()}getLayerStatesArray(e){return _a()}getExtent(){return this.get(an.EXTENT)}getMaxResolution(){return this.get(an.MAX_RESOLUTION)}getMinResolution(){return this.get(an.MIN_RESOLUTION)}getMinZoom(){return this.get(an.MIN_ZOOM)}getMaxZoom(){return this.get(an.MAX_ZOOM)}getOpacity(){return this.get(an.OPACITY)}getSourceState(){return _a()}getVisible(){return this.get(an.VISIBLE)}getZIndex(){return this.get(an.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(an.EXTENT,e)}setMaxResolution(e){this.set(an.MAX_RESOLUTION,e)}setMinResolution(e){this.set(an.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(an.MAX_ZOOM,e)}setMinZoom(e){this.set(an.MIN_ZOOM,e)}setOpacity(e){Ka(typeof e=="number",64),this.set(an.OPACITY,e)}setVisible(e){this.set(an.VISIBLE,e)}setZIndex(e){this.set(an.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const B7=HG,Ru={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class am extends B7{constructor(e){const t=Ci({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(an.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){const t=e||[];return t.push(this),t}getLayerStatesArray(e){const t=e||[];return t.push(this.getLayerState()),t}getSource(){return this.get(an.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed()}handleSourcePropertyChange_(){this.sourceChangeKey_&&(rn(this.sourceChangeKey_),this.sourceChangeKey_=null);const e=this.getSource();e&&(this.sourceChangeKey_=Ma(e,Da.CHANGE,this.handleSourceChange_,this)),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(t=>t([]))}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}render(e,t){const i=this.getRenderer();if(i.prepareFrame(e))return this.rendered=!0,i.renderFrame(e,t)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(an.MAP,e)}getMapInternal(){return this.get(an.MAP)}setMap(e){this.mapPrecomposeKey_&&(rn(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(rn(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ma(e,Ru.PRECOMPOSE,function(t){const n=t.frameState.layerStatesArray,s=this.getLayerState(!1);Ka(!n.some(function(r){return r.layer===s.layer}),67),n.push(s)},this),this.mapRenderKey_=Ma(this,Da.CHANGE,e.render,e),this.changed())}setSource(e){this.set(an.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Yb(a,e){if(!a.visible)return!1;const t=e.resolution;if(t<a.minResolution||t>=a.maxResolution)return!1;const i=e.zoom;return i>a.minZoom&&i<=a.maxZoom}class ZG extends eE{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){_a()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;dl(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Mx(n,i)}forEachFeatureAtCoordinate(e,t,i,n,s,r,l,c){let h;const f=t.viewState;function v(W,Z,ae,he){return s.call(r,Z,W?ae:null,he)}const b=f.projection,T=X3(e.slice(),b),M=[[0,0]];if(b.canWrapX()&&n){const W=b.getExtent(),Z=Si(W);M.push([-Z,0],[Z,0])}const I=t.layerStatesArray,R=I.length,P=[],F=[];for(let W=0;W<M.length;W++)for(let Z=R-1;Z>=0;--Z){const ae=I[Z],he=ae.layer;if(he.hasRenderer()&&Yb(ae,f)&&l.call(c,he)){const _e=he.getRenderer(),ie=he.getSource();if(_e&&ie){const me=ie.getWrapX()?T:e,fe=v.bind(null,ae.managed);F[0]=me[0]+M[W][0],F[1]=me[1]+M[W][1],h=_e.forEachFeatureAtCoordinate(F,t,i,fe,P)}if(h)return h}}if(P.length===0)return;const B=1/P.length;return P.forEach((W,Z)=>W.distanceSq+=Z*B),P.sort((W,Z)=>W.distanceSq-Z.distanceSq),P.some(W=>h=W.callback(W.feature,W.layer,W.geometry)),h}forEachLayerAtPixel(e,t,i,n,s){return _a()}hasFeatureAtCoordinate(e,t,i,n,s,r){return this.forEachFeatureAtCoordinate(e,t,i,n,Nc,this,s,r)!==void 0}getMap(){return this.map_}renderFrame(e){_a()}scheduleExpireIconCache(e){Zb.canExpireCache()&&e.postRenderFunctions.push(XG)}}function XG(a,e){Zb.expire()}const YG=ZG;class KG extends Ho{constructor(e,t,i,n){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=n}}const G7=KG,fv="ol-hidden",$G="ol-selectable",Eh="ol-unselectable",zL="ol-unsupported",im="ol-control",BL="ol-collapsed",QG=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),GL=["style","variant","weight","size","lineHeight","family"],rE=function(a){const e=a.match(QG);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,n=GL.length;i<n;++i){const s=e[i+1];s!==void 0&&(t[GL[i]]=s)}return t.families=t.family.split(/,\s?/),t};function vo(a,e,t,i){let n;return t&&t.length?n=t.shift():Tx?n=new OffscreenCanvas(a||300,e||300):n=document.createElement("canvas"),a&&(n.width=a),e&&(n.height=e),n.getContext("2d",i)}function q7(a){const e=a.canvas;e.width=1,e.height=1,a.clearRect(0,0,1,1)}function JG(a){let e=a.offsetWidth;const t=getComputedStyle(a);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function eq(a){let e=a.offsetHeight;const t=getComputedStyle(a);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function Kb(a,e){const t=e.parentNode;t&&t.replaceChild(a,e)}function $b(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function U7(a){for(;a.lastChild;)a.removeChild(a.lastChild)}function tq(a,e){const t=a.childNodes;for(let i=0;;++i){const n=t[i],s=e[i];if(!n&&!s)break;if(n!==s){if(!n){a.appendChild(s);continue}if(!s){a.removeChild(n),--i;continue}a.insertBefore(s,n)}}}const V7="10px sans-serif",Wc="#000",Qb="round",i0=[],n0=0,hf="round",r0=10,s0="#000",o0="center",Jb="middle",I_=[0,0,0,0],l0=1,xc=new jl,aq=new Cf;aq.setSize=function(){console.warn("labelCache is deprecated.")};let xp=null,tT;const aT={},iq=function(){const e="32px ",t=["monospace","serif"],i=t.length,n="wmytzilWMYTZIL@#/&?$%10";let s,r;function l(h,f,v){let b=!0;for(let T=0;T<i;++T){const M=t[T];if(r=e2(h+" "+f+" "+e+M,n),v!=M){const I=e2(h+" "+f+" "+e+v+","+M,n);b=b&&I!=r}}return!!b}function c(){let h=!0;const f=xc.getKeys();for(let v=0,b=f.length;v<b;++v){const T=f[v];xc.get(T)<100&&(l.apply(this,T.split(`
`))?(Lf(aT),xp=null,tT=void 0,xc.set(T,100)):(xc.set(T,xc.get(T)+1,!0),h=!1))}h&&(clearInterval(s),s=void 0)}return function(h){const f=rE(h);if(!f)return;const v=f.families;for(let b=0,T=v.length;b<T;++b){const M=v[b],I=f.style+`
`+f.weight+`
`+M;xc.get(I)===void 0&&(xc.set(I,100,!0),l(f.style,f.weight,M)||(xc.set(I,0,!0),s===void 0&&(s=setInterval(c,32))))}}}(),nq=function(){let a;return function(e){let t=aT[e];if(t==null){if(Tx){const i=rE(e),n=j7(e,"Žg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else a||(a=document.createElement("div"),a.innerHTML="M",a.style.minHeight="0",a.style.maxHeight="none",a.style.height="auto",a.style.padding="0",a.style.border="none",a.style.position="absolute",a.style.display="block",a.style.left="-99999px"),a.style.font=e,document.body.appendChild(a),t=a.offsetHeight,document.body.removeChild(a);aT[e]=t}return t}}();function j7(a,e){return xp||(xp=vo(1,1)),a!=tT&&(xp.font=a,tT=xp.font),xp.measureText(e)}function e2(a,e){return j7(a,e).width}function qL(a,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((n,s)=>Math.max(n,e2(a,s)),0);return t[e]=i,i}function rq(a,e){const t=[],i=[],n=[];let s=0,r=0,l=0,c=0;for(let h=0,f=e.length;h<=f;h+=2){const v=e[h];if(v===`
`||h===f){s=Math.max(s,r),n.push(r),r=0,l+=c;continue}const b=e[h+1]||a.font,T=e2(b,v);t.push(T),r+=T;const M=nq(b);i.push(M),c=Math.max(c,M)}return{width:s,height:l,widths:t,heights:i,lineWidths:n}}function sq(a,e,t,i,n,s,r,l,c,h,f){a.save(),t!==1&&(a.globalAlpha*=t),e&&a.setTransform.apply(a,e),i.contextInstructions?(a.translate(c,h),a.scale(f[0],f[1]),oq(i,a)):f[0]<0||f[1]<0?(a.translate(c,h),a.scale(f[0],f[1]),a.drawImage(i,n,s,r,l,0,0,r,l)):a.drawImage(i,n,s,r,l,c,h,r*f[0],l*f[1]),a.restore()}function oq(a,e){const t=a.contextInstructions;for(let i=0,n=t.length;i<n;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class lq extends YG{constructor(e){super(e),this.fontChangeListenerKey_=Ma(xc,X_.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Eh+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const n=new G7(e,void 0,t);i.dispatchEvent(n)}}disposeInternal(){rn(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Ru.PRECOMPOSE,e);const t=e.layerStatesArray.sort(function(r,l){return r.zIndex-l.zIndex}),i=e.viewState;this.children_.length=0;const n=[];let s=null;for(let r=0,l=t.length;r<l;++r){const c=t[r];e.layerIndex=r;const h=c.layer,f=h.getSourceState();if(!Yb(c,i)||f!="ready"&&f!="undefined"){h.unrender();continue}const v=h.render(e,s);v&&(v!==s&&(this.children_.push(v),s=v),"getDeclutter"in h&&n.push(h))}for(let r=n.length-1;r>=0;--r)n[r].renderDeclutter(e);tq(this.element_,this.children_),this.dispatchRenderEvent(Ru.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}forEachLayerAtPixel(e,t,i,n,s){const r=t.viewState,l=t.layerStatesArray,c=l.length;for(let h=c-1;h>=0;--h){const f=l[h],v=f.layer;if(v.hasRenderer()&&Yb(f,r)&&s(v)){const T=v.getRenderer().getDataAtPixel(e,t,i);if(T){const M=n(v,T);if(M)return M}}}}}const uq=lq,vr={ADD:"add",REMOVE:"remove"},UL={LENGTH:"length"};class gv extends Ho{constructor(e,t,i){super(e),this.element=t,this.index=i}}class cq extends jl{constructor(e,t){super(),this.on,this.once,this.un;const i=t||{};if(this.unique_=!!i.unique,this.array_=e||[],this.unique_)for(let n=0,s=this.array_.length;n<s;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,n=t.length;i<n;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(UL.LENGTH)}insertAt(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new gv(vr.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,n=t.length;i<n;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new gv(vr.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e<i){this.unique_&&this.assertUnique_(t,e);const n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new gv(vr.REMOVE,n,e)),this.dispatchEvent(new gv(vr.ADD,t,e))}else{for(let n=i;n<e;++n)this.insertAt(n,void 0);this.insertAt(e,t)}}updateLength_(){this.set(UL.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===e&&i!==t)throw new w7(58)}}const Hs=cq;class Fd extends Ho{constructor(e,t){super(e),this.layer=t}}const dS={LAYERS:"layers"};class Mh extends B7{constructor(e){const t=e||{},i=Ci({},t);delete i.layers;let n=t.layers;super(i),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(dS.LAYERS,this.handleLayersChanged_),n?Array.isArray(n)?n=new Hs(n.slice(),{unique:!0}):Ka(typeof n.getArray=="function",43):n=new Hs(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(rn),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Ma(e,vr.ADD,this.handleLayersAdd_,this),Ma(e,vr.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(rn);Lf(this.listenerKeys_);const t=e.getArray();for(let i=0,n=t.length;i<n;i++){const s=t[i];this.registerLayerListeners_(s),this.dispatchEvent(new Fd("addlayer",s))}this.changed()}registerLayerListeners_(e){const t=[Ma(e,X_.PROPERTYCHANGE,this.handleLayerChange_,this),Ma(e,Da.CHANGE,this.handleLayerChange_,this)];e instanceof Mh&&t.push(Ma(e,"addlayer",this.handleLayerGroupAdd_,this),Ma(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[na(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Fd("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Fd("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Fd("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=na(t);this.listenerKeys_[i].forEach(rn),delete this.listenerKeys_[i],this.dispatchEvent(new Fd("removelayer",t)),this.changed()}getLayers(){return this.get(dS.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let n=0,s=i.length;n<s;++n)this.dispatchEvent(new Fd("removelayer",i[n]))}this.set(dS.LAYERS,e)}getLayersArray(e){const t=e!==void 0?e:[];return this.getLayers().forEach(function(i){i.getLayersArray(t)}),t}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(r){r.getLayerStatesArray(t)});const n=this.getLayerState();let s=n.zIndex;!e&&n.zIndex===void 0&&(s=0);for(let r=i,l=t.length;r<l;r++){const c=t[r];c.opacity*=n.opacity,c.visible=c.visible&&n.visible,c.maxResolution=Math.min(c.maxResolution,n.maxResolution),c.minResolution=Math.max(c.minResolution,n.minResolution),c.minZoom=Math.max(c.minZoom,n.minZoom),c.maxZoom=Math.min(c.maxZoom,n.maxZoom),n.extent!==void 0&&(c.extent!==void 0?c.extent=ah(c.extent,n.extent):c.extent=n.extent),c.zIndex===void 0&&(c.zIndex=s)}return t}getSourceState(){return"ready"}}class dq extends Ho{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}const wp=dq;class hq extends wp{constructor(e,t,i,n,s,r){super(e,t,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=n!==void 0?n:!1,this.activePointers=r}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Tc=hq,wi={SINGLECLICK:"singleclick",CLICK:Da.CLICK,DBLCLICK:Da.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},iT={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class _q extends Cf{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Ma(i,iT.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Ma(i,iT.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Da.TOUCHMOVE,this.boundHandleTouchMove_,F7?{passive:!1}:!1)}emulateClick_(e){let t=new Tc(wi.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Tc(wi.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;const i=new Tc(wi.SINGLECLICK,this.map_,e);this.dispatchEvent(i)}).bind(this),250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==wi.POINTERUP||t.type==wi.POINTERCANCEL){delete this.trackedTouches_[i];for(const n in this.trackedTouches_)if(this.trackedTouches_[n].target!==t.target){delete this.trackedTouches_[n];break}}else(t.type==wi.POINTERDOWN||t.type==wi.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=b7(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Tc(wi.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(rn),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new Tc(wi.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.down_={};for(const i in e){const n=e[i];this.down_[i]=typeof n=="function"?Z_:n}if(this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ma(i,wi.POINTERMOVE,this.handlePointerMove_,this),Ma(i,wi.POINTERUP,this.handlePointerUp_,this),Ma(this.element_,wi.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Ma(this.element_.getRootNode(),wi.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Tc(wi.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Tc(wi.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(rn(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Da.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(rn(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(rn),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const mq=_q,Ec={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ur={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},t2=1/0;class pq{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Lf(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const n=this.keyFunction_(i);return delete this.queuedElements_[n],i}enqueue(e){Ka(!(this.keyFunction_(e)in this.queuedElements_),31);const t=this.priorityFunction_(e);return t!=t2?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,n=t.length,s=t[e],r=i[e],l=e;for(;e<n>>1;){const c=this.getLeftChildIndex_(e),h=this.getRightChildIndex_(e),f=h<n&&i[h]<i[c]?h:c;t[e]=t[f],i[e]=i[f],e=f}t[e]=s,i[e]=r,this.siftDown_(l,e)}siftDown_(e,t){const i=this.elements_,n=this.priorities_,s=i[t],r=n[t];for(;t>e;){const l=this.getParentIndex_(t);if(n[l]>r)i[t]=i[l],n[t]=n[l],t=l;else break}i[t]=s,n[t]=r}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let n=0;const s=t.length;let r,l,c;for(l=0;l<s;++l)r=t[l],c=e(r),c==t2?delete this.queuedElements_[this.keyFunction_(r)]:(i[n]=c,t[n++]=r);t.length=n,i.length=n,this.heapify_()}}const fq=pq,Aa={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class gq extends fq{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Da.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===Aa.LOADED||i===Aa.ERROR||i===Aa.EMPTY){t.removeEventListener(Da.CHANGE,this.boundHandleTileChange_);const n=t.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0,n,s,r;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;)s=this.dequeue()[0],r=s.getKey(),n=s.getState(),n===Aa.IDLE&&!(r in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,s.load())}}const yq=gq;function vq(a,e,t,i,n){if(!a||!(t in a.wantedTiles)||!a.wantedTiles[t][e.getKey()])return t2;const s=a.viewState.center,r=i[0]-s[0],l=i[1]-s[1];return 65536*Math.log(n)+Math.sqrt(r*r+l*l)/n}const Pn={ANIMATING:0,INTERACTING:1},Sl={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},bq=42,sE=256;function VL(a,e,t){return function(i,n,s,r,l){if(!i)return;if(!n&&!e)return i;const c=e?0:s[0]*n,h=e?0:s[1]*n,f=l?l[0]:0,v=l?l[1]:0;let b=a[0]+c/2+f,T=a[2]-c/2+f,M=a[1]+h/2+v,I=a[3]-h/2+v;b>T&&(b=(T+b)/2,T=b),M>I&&(M=(I+M)/2,I=M);let R=Jn(i[0],b,T),P=Jn(i[1],M,I);if(r&&t&&n){const F=30*n;R+=-F*Math.log(1+Math.max(0,b-i[0])/F)+F*Math.log(1+Math.max(0,i[0]-T)/F),P+=-F*Math.log(1+Math.max(0,M-i[1])/F)+F*Math.log(1+Math.max(0,i[1]-I)/F)}return[R,P]}}function xq(a){return a}function oE(a,e,t,i){const n=Si(e)/t[0],s=wr(e)/t[1];return i?Math.min(a,Math.max(n,s)):Math.min(a,Math.min(n,s))}function lE(a,e,t){let i=Math.min(a,e);const n=50;return i*=Math.log(1+n*Math.max(0,a/e-1))/n+1,t&&(i=Math.max(i,t),i/=Math.log(1+n*Math.max(0,t/a-1))/n+1),Jn(i,t/2,e*2)}function wq(a,e,t,i){return function(n,s,r,l){if(n!==void 0){const c=a[0],h=a[a.length-1],f=t?oE(c,t,r,i):c;if(l)return(e!==void 0?e:!0)?lE(n,f,h):Jn(n,h,f);const v=Math.min(f,n),b=Math.floor(Sx(a,v,s));return a[b]>f&&b<a.length-1?a[b+1]:a[b]}else return}}function Sq(a,e,t,i,n,s){return function(r,l,c,h){if(r!==void 0){const f=n?oE(e,n,c,s):e,v=t!==void 0?t:0;if(h)return(i!==void 0?i:!0)?lE(r,f,v):Jn(r,v,f);const b=1e-9,T=Math.ceil(Math.log(e/f)/Math.log(a)-b),M=-l*(.5-b)+.5,I=Math.min(f,r),R=Math.floor(Math.log(e/I)/Math.log(a)+M),P=Math.max(T,R),F=e/Math.pow(a,P);return Jn(F,v,f)}else return}}function jL(a,e,t,i,n){return function(s,r,l,c){if(s!==void 0){const h=i?oE(a,i,l,n):a;return!(t!==void 0?t:!0)||!c?Jn(s,e,h):lE(s,h,e)}else return}}function uE(a){if(a!==void 0)return 0}function HL(a){if(a!==void 0)return a}function Tq(a){const e=2*Math.PI/a;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function Eq(a){const e=a||Dc(5);return function(t,i){if(i)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function H7(a){return Math.pow(a,3)}function If(a){return 1-H7(1-a)}function Mq(a){return 3*a*a-2*a*a*a}function Lq(a){return a}const ti={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function ih(a,e,t,i,n,s){const r=s||[];let l=0;for(let c=e;c<t;c+=i){const h=a[c],f=a[c+1];r[l++]=n[0]*h+n[2]*f+n[4],r[l++]=n[1]*h+n[3]*f+n[5]}return s&&r.length!=l&&(r.length=l),r}function cE(a,e,t,i,n,s,r){const l=r||[],c=Math.cos(n),h=Math.sin(n),f=s[0],v=s[1];let b=0;for(let T=e;T<t;T+=i){const M=a[T]-f,I=a[T+1]-v;l[b++]=f+M*c-I*h,l[b++]=v+M*h+I*c;for(let R=T+2;R<T+i;++R)l[b++]=a[R]}return r&&l.length!=b&&(l.length=b),l}function Aq(a,e,t,i,n,s,r,l){const c=l||[],h=r[0],f=r[1];let v=0;for(let b=e;b<t;b+=i){const T=a[b]-h,M=a[b+1]-f;c[v++]=h+n*T,c[v++]=f+s*M;for(let I=b+2;I<b+i;++I)c[v++]=a[I]}return l&&c.length!=v&&(c.length=v),c}function Z7(a,e,t,i,n,s,r){const l=r||[];let c=0;for(let h=e;h<t;h+=i){l[c++]=a[h]+n,l[c++]=a[h+1]+s;for(let f=h+2;f<h+i;++f)l[c++]=a[f]}return r&&l.length!=c&&(l.length=c),l}const ZL=Go();class Cq extends jl{constructor(){super(),this.extent_=Vo(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=AG(function(e,t,i){if(!i)return this.getSimplifiedGeometry(t);const n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return _a()}closestPointXY(e,t,i,n){return _a()}containsXY(e,t){const i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){const i=t||[NaN,NaN];return this.closestPointXY(e[0],e[1],i,1/0),i}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return _a()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&I0(t),this.extentRevision_=this.getRevision()}return hG(this.extent_,e)}rotate(e,t){_a()}scale(e,t,i){_a()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return _a()}getType(){return _a()}applyTransform(e){_a()}intersectsExtent(e){return _a()}translate(e,t){_a()}transform(e,t){const i=Di(e),n=i.getUnits()==Cu.TILE_PIXELS?function(s,r,l){const c=i.getExtent(),h=i.getWorldExtent(),f=wr(h)/wr(c);return dl(ZL,h[0],h[3],f,-f,0,0,0),ih(s,0,s.length,l,ZL,r),df(i,t)(s,r,l)}:df(i,t);return this.applyTransform(n),this}}const X7=Cq;class Iq extends X7{constructor(){super(),this.layout=ti.XY,this.stride=2,this.flatCoordinates=null}computeExtent(e){return T7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return _a()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=a2(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){_a()}setLayout(e,t,i){let n;if(e)n=a2(e);else{for(let s=0;s<i;++s)if(t.length===0){this.layout=ti.XY,this.stride=2;return}else t=t[0];n=t.length,e=Rq(n)}this.layout=e,this.stride=n}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const n=this.getStride();cE(i,0,i.length,n,e,t,i),this.changed()}}scale(e,t,i){let n=t;n===void 0&&(n=e);let s=i;s||(s=Wu(this.getExtent()));const r=this.getFlatCoordinates();if(r){const l=this.getStride();Aq(r,0,r.length,l,e,n,s,r),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const n=this.getStride();Z7(i,0,i.length,n,e,t,i),this.changed()}}}function Rq(a){let e;return a==2?e=ti.XY:a==3?e=ti.XYZ:a==4&&(e=ti.XYZM),e}function a2(a){let e;return a==ti.XY?e=2:a==ti.XYZ||a==ti.XYM?e=3:a==ti.XYZM&&(e=4),e}function Oq(a,e,t){const i=a.getFlatCoordinates();if(i){const n=a.getStride();return ih(i,0,i.length,n,e,t)}else return null}const Lh=Iq;function XL(a,e,t,i,n,s,r){const l=a[e],c=a[e+1],h=a[t]-l,f=a[t+1]-c;let v;if(h===0&&f===0)v=e;else{const b=((n-l)*h+(s-c)*f)/(h*h+f*f);if(b>1)v=t;else if(b>0){for(let T=0;T<i;++T)r[T]=Mc(a[e+T],a[t+T],b);r.length=i;return}else v=e}for(let b=0;b<i;++b)r[b]=a[v+b];r.length=i}function dE(a,e,t,i,n){let s=a[e],r=a[e+1];for(e+=i;e<t;e+=i){const l=a[e],c=a[e+1],h=B_(s,r,l,c);h>n&&(n=h),s=l,r=c}return n}function hE(a,e,t,i,n){for(let s=0,r=t.length;s<r;++s){const l=t[s];n=dE(a,e,l,i,n),e=l}return n}function kq(a,e,t,i,n){for(let s=0,r=t.length;s<r;++s){const l=t[s];n=hE(a,e,l,i,n),e=l[l.length-1]}return n}function _E(a,e,t,i,n,s,r,l,c,h,f){if(e==t)return h;let v,b;if(n===0)if(b=B_(r,l,a[e],a[e+1]),b<h){for(v=0;v<i;++v)c[v]=a[e+v];return c.length=i,b}else return h;const T=f||[NaN,NaN];let M=e+i;for(;M<t;)if(XL(a,M-i,M,i,r,l,T),b=B_(r,l,T[0],T[1]),b<h){for(h=b,v=0;v<i;++v)c[v]=T[v];c.length=i,M+=i}else M+=i*Math.max((Math.sqrt(b)-Math.sqrt(h))/n|0,1);if(s&&(XL(a,t-i,e,i,r,l,T),b=B_(r,l,T[0],T[1]),b<h)){for(h=b,v=0;v<i;++v)c[v]=T[v];c.length=i}return h}function mE(a,e,t,i,n,s,r,l,c,h,f){const v=f||[NaN,NaN];for(let b=0,T=t.length;b<T;++b){const M=t[b];h=_E(a,e,M,i,n,s,r,l,c,h,v),e=M}return h}function Pq(a,e,t,i,n,s,r,l,c,h,f){const v=f||[NaN,NaN];for(let b=0,T=t.length;b<T;++b){const M=t[b];h=mE(a,e,M,i,n,s,r,l,c,h,v),e=M[M.length-1]}return h}function Y7(a,e,t,i){for(let n=0,s=t.length;n<s;++n)a[e++]=t[n];return e}function Lx(a,e,t,i){for(let n=0,s=t.length;n<s;++n){const r=t[n];for(let l=0;l<i;++l)a[e++]=r[l]}return e}function pE(a,e,t,i,n){const s=n||[];let r=0;for(let l=0,c=t.length;l<c;++l){const h=Lx(a,e,t[l],i);s[r++]=h,e=h}return s.length=r,s}function Dq(a,e,t,i,n){const s=n||[];let r=0;for(let l=0,c=t.length;l<c;++l){const h=pE(a,e,t[l],i,s[r]);s[r++]=h,e=h[h.length-1]}return s.length=r,s}function fE(a,e,t,i,n,s,r){const l=(t-e)/i;if(l<3){for(;e<t;e+=i)s[r++]=a[e],s[r++]=a[e+1];return r}const c=new Array(l);c[0]=1,c[l-1]=1;const h=[e,t-i];let f=0;for(;h.length>0;){const v=h.pop(),b=h.pop();let T=0;const M=a[b],I=a[b+1],R=a[v],P=a[v+1];for(let F=b+i;F<v;F+=i){const B=a[F],W=a[F+1],Z=KB(B,W,M,I,R,P);Z>T&&(f=F,T=Z)}T>n&&(c[(f-e)/i]=1,b+i<f&&h.push(b,f),f+i<v&&h.push(f,v))}for(let v=0;v<l;++v)c[v]&&(s[r++]=a[e+v*i],s[r++]=a[e+v*i+1]);return r}function Fq(a,e,t,i,n,s,r,l){for(let c=0,h=t.length;c<h;++c){const f=t[c];r=fE(a,e,f,i,n,s,r),l.push(r),e=f}return r}function E_(a,e){return e*Math.round(a/e)}function Nq(a,e,t,i,n,s,r){if(e==t)return r;let l=E_(a[e],n),c=E_(a[e+1],n);e+=i,s[r++]=l,s[r++]=c;let h,f;do if(h=E_(a[e],n),f=E_(a[e+1],n),e+=i,e==t)return s[r++]=h,s[r++]=f,r;while(h==l&&f==c);for(;e<t;){const v=E_(a[e],n),b=E_(a[e+1],n);if(e+=i,v==h&&b==f)continue;const T=h-l,M=f-c,I=v-l,R=b-c;if(T*R==M*I&&(T<0&&I<T||T==I||T>0&&I>T)&&(M<0&&R<M||M==R||M>0&&R>M)){h=v,f=b;continue}s[r++]=h,s[r++]=f,l=h,c=f,h=v,f=b}return s[r++]=h,s[r++]=f,r}function K7(a,e,t,i,n,s,r,l){for(let c=0,h=t.length;c<h;++c){const f=t[c];r=Nq(a,e,f,i,n,s,r),l.push(r),e=f}return r}function Wq(a,e,t,i,n,s,r,l){for(let c=0,h=t.length;c<h;++c){const f=t[c],v=[];r=K7(a,e,f,i,n,s,r,v),l.push(v),e=f[f.length-1]}return r}function Vd(a,e,t,i,n){const s=n!==void 0?n:[];let r=0;for(let l=e;l<t;l+=i)s[r++]=a.slice(l,l+i);return s.length=r,s}function u0(a,e,t,i,n){const s=n!==void 0?n:[];let r=0;for(let l=0,c=t.length;l<c;++l){const h=t[l];s[r++]=Vd(a,e,h,i,s[r]),e=h}return s.length=r,s}function nT(a,e,t,i,n){const s=n!==void 0?n:[];let r=0;for(let l=0,c=t.length;l<c;++l){const h=t[l];s[r++]=u0(a,e,h,i,s[r]),e=h[h.length-1]}return s.length=r,s}function $7(a,e,t,i){let n=0,s=a[t-i],r=a[t-i+1];for(;e<t;e+=i){const l=a[e],c=a[e+1];n+=r*l-s*c,s=l,r=c}return n/2}function Q7(a,e,t,i){let n=0;for(let s=0,r=t.length;s<r;++s){const l=t[s];n+=$7(a,e,l,i),e=l}return n}function zq(a,e,t,i){let n=0;for(let s=0,r=t.length;s<r;++s){const l=t[s];n+=Q7(a,e,l,i),e=l[l.length-1]}return n}class i2 extends Lh{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new i2(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,n){return n<tm(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(dE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_E(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,n))}getArea(){return $7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Vd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=fE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new i2(t,ti.XY)}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Lx(this.flatCoordinates,0,e,this.stride),this.changed()}}const YL=i2;let Bq=class J7 extends Lh{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new J7(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){const s=this.flatCoordinates,r=B_(e,t,s[0],s[1]);if(r<n){const l=this.stride;for(let c=0;c<l;++c)i[c]=s[c];return i.length=l,r}else return n}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return lb(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return V3(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Y7(this.flatCoordinates,0,e,this.stride),this.changed()}};const Xr=Bq;function Gq(a,e,t,i,n){return!H3(n,function(r){return!R_(a,e,t,i,r[0],r[1])})}function R_(a,e,t,i,n,s){let r=0,l=a[t-i],c=a[t-i+1];for(;e<t;e+=i){const h=a[e],f=a[e+1];c<=s?f>s&&(h-l)*(s-c)-(n-l)*(f-c)>0&&r++:f<=s&&(h-l)*(s-c)-(n-l)*(f-c)<0&&r--,l=h,c=f}return r!==0}function gE(a,e,t,i,n,s){if(t.length===0||!R_(a,e,t[0],i,n,s))return!1;for(let r=1,l=t.length;r<l;++r)if(R_(a,t[r-1],t[r],i,n,s))return!1;return!0}function qq(a,e,t,i,n,s){if(t.length===0)return!1;for(let r=0,l=t.length;r<l;++r){const c=t[r];if(gE(a,e,c,i,n,s))return!0;e=c[c.length-1]}return!1}function eI(a,e,t,i,n,s,r){let l,c,h,f,v,b,T;const M=n[s+1],I=[];for(let F=0,B=t.length;F<B;++F){const W=t[F];for(f=a[W-i],b=a[W-i+1],l=e;l<W;l+=i)v=a[l],T=a[l+1],(M<=b&&T<=M||b<=M&&M<=T)&&(h=(M-b)/(T-b)*(v-f)+f,I.push(h)),f=v,b=T}let R=NaN,P=-1/0;for(I.sort(H_),f=I[0],l=1,c=I.length;l<c;++l){v=I[l];const F=Math.abs(v-f);F>P&&(h=(f+v)/2,gE(a,e,t,i,h,M)&&(R=h,P=F)),f=v}return isNaN(R)&&(R=n[s]),r?(r.push(R,M,P),r):[R,M,P]}function Uq(a,e,t,i,n){let s=[];for(let r=0,l=t.length;r<l;++r){const c=t[r];s=eI(a,e,c,i,n,2*r,s),e=c[c.length-1]}return s}function tI(a,e,t,i,n){let s;for(e+=i;e<t;e+=i)if(s=n(a.slice(e-i,e),a.slice(e,e+i)),s)return s;return!1}function Ax(a,e,t,i,n){const s=E7(Vo(),a,e,t,i);return Ir(n,s)?Eu(n,s)||s[0]>=n[0]&&s[2]<=n[2]||s[1]>=n[1]&&s[3]<=n[3]?!0:tI(a,e,t,i,function(r,l){return _G(n,r,l)}):!1}function Vq(a,e,t,i,n){for(let s=0,r=t.length;s<r;++s){if(Ax(a,e,t[s],i,n))return!0;e=t[s]}return!1}function aI(a,e,t,i,n){return!!(Ax(a,e,t,i,n)||R_(a,e,t,i,n[0],n[1])||R_(a,e,t,i,n[0],n[3])||R_(a,e,t,i,n[2],n[1])||R_(a,e,t,i,n[2],n[3]))}function iI(a,e,t,i,n){if(!aI(a,e,t[0],i,n))return!1;if(t.length===1)return!0;for(let s=1,r=t.length;s<r;++s)if(Gq(a,t[s-1],t[s],i,n)&&!Ax(a,t[s-1],t[s],i,n))return!1;return!0}function jq(a,e,t,i,n){for(let s=0,r=t.length;s<r;++s){const l=t[s];if(iI(a,e,l,i,n))return!0;e=l[l.length-1]}return!1}function Hq(a,e,t,i){for(;e<t-i;){for(let n=0;n<i;++n){const s=a[e+n];a[e+n]=a[t-i+n],a[t-i+n]=s}e+=i,t-=i}}function yE(a,e,t,i){let n=0,s=a[t-i],r=a[t-i+1];for(;e<t;e+=i){const l=a[e],c=a[e+1];n+=(l-s)*(c+r),s=l,r=c}return n===0?void 0:n>0}function nI(a,e,t,i,n){const s=n!==void 0?n:!1;for(let r=0,l=t.length;r<l;++r){const c=t[r],h=yE(a,e,c,i);if(r===0){if(s&&h||!s&&!h)return!1}else if(s&&!h||!s&&h)return!1;e=c}return!0}function Zq(a,e,t,i,n){for(let s=0,r=t.length;s<r;++s){const l=t[s];if(!nI(a,e,l,i,n))return!1;l.length&&(e=l[l.length-1])}return!0}function rT(a,e,t,i,n){const s=n!==void 0?n:!1;for(let r=0,l=t.length;r<l;++r){const c=t[r],h=yE(a,e,c,i);(r===0?s&&h||!s&&!h:s&&!h||!s&&h)&&Hq(a,e,c,i),e=c}return e}function KL(a,e,t,i,n){for(let s=0,r=t.length;s<r;++s)e=rT(a,e,t[s],i,n);return e}function Pbe(a,e){const t=[];let i=0,n=0;for(let s=0,r=e.length;s<r;++s){const l=e[s];if(!yE(a,i,l,2))t.push(e.slice(n,s+1));else{if(t.length===0)continue;t[t.length-1].push(e[n])}n=s+1,i=l}return t}class _f extends Lh{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?xn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new _f(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<tm(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(hE(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),mE(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,n))}containsXY(e,t){return gE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return Q7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),rT(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,u0(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Wu(this.getExtent());this.flatInteriorPoint_=eI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Xr(this.getFlatInteriorPoint(),ti.XYM)}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new YL(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,n=[];let s=0;for(let r=0,l=i.length;r<l;++r){const c=i[r],h=new YL(t.slice(s,c),e);n.push(h),s=c}return n}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;nI(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=rT(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=K7(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new _f(t,ti.XY,i)}getType(){return"Polygon"}intersectsExtent(e){return iI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=pE(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}const Vc=_f;function sT(a){const e=a[0],t=a[1],i=a[2],n=a[3],s=[e,t,e,n,i,n,i,t,e,t];return new _f(s,ti.XY,[s.length])}function rI(a,e,t){const i=e||32,n=a.getStride(),s=a.getLayout(),r=a.getCenter(),l=n*(i+1),c=new Array(l);for(let v=0;v<l;v+=n){c[v]=0,c[v+1]=0;for(let b=2;b<n;b++)c[v+b]=r[b]}const h=[c.length],f=new _f(c,s,h);return Xq(f,r,a.getRadius(),t),f}function Xq(a,e,t,i){const n=a.getFlatCoordinates(),s=a.getStride(),r=n.length/s-1,l=i||0;for(let c=0;c<=r;++c){const h=c*s,f=l+Fc(c,r)*2*Math.PI/r;n[h]=e[0]+t*Math.cos(f),n[h+1]=e[1]+t*Math.sin(f)}a.changed()}const hS=0;class Bd extends jl{constructor(e){super(),this.on,this.once,this.un;const t=Ci({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=K3(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&O7(),t.center&&(t.center=lr(t.center,this.projection_)),t.extent&&(t.extent=Mu(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(e){const t=Ci({},e);for(const l in Sl)delete t[l];this.setProperties(t,!0);const i=Kq(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const n=Yq(e),s=i.constraint,r=$q(e);this.constraints_={center:n,resolution:s,rotation:r},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenter();if(i){const n=e||[0,0,0,0];t=t||[0,0,0,0];const s=this.getResolution(),r=s/2*(n[3]-t[3]+t[1]-n[1]),l=s/2*(n[0]-t[0]+t[2]-n[2]);this.setCenterInternal([i[0]+r,i[1]-l])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Ci({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let n=arguments[i];n.center&&(n=Ci({},n),n.center=lr(n.center,this.getProjection())),n.anchor&&(n=Ci({},n),n.anchor=lr(n.anchor,this.getProjection())),t[i]=n}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let n=0;for(;n<t&&!this.isDef();++n){const f=arguments[n];f.center&&this.setCenterInternal(f.center),f.zoom!==void 0?this.setZoom(f.zoom):f.resolution&&this.setResolution(f.resolution),f.rotation!==void 0&&this.setRotation(f.rotation)}if(n===t){i&&yv(i,!0);return}let s=Date.now(),r=this.targetCenter_.slice(),l=this.targetResolution_,c=this.targetRotation_;const h=[];for(;n<t;++n){const f=arguments[n],v={start:s,complete:!1,anchor:f.anchor,duration:f.duration!==void 0?f.duration:1e3,easing:f.easing||Mq,callback:i};if(f.center&&(v.sourceCenter=r,v.targetCenter=f.center.slice(),r=v.targetCenter),f.zoom!==void 0?(v.sourceResolution=l,v.targetResolution=this.getResolutionForZoom(f.zoom),l=v.targetResolution):f.resolution&&(v.sourceResolution=l,v.targetResolution=f.resolution,l=v.targetResolution),f.rotation!==void 0){v.sourceRotation=c;const b=Fc(f.rotation-c+Math.PI,2*Math.PI)-Math.PI;v.targetRotation=c+b,c=v.targetRotation}Qq(v)?v.complete=!0:s+=v.duration,h.push(v)}this.animations_.push(h),this.setHint(Pn.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Pn.ANIMATING]>0}getInteracting(){return this.hints_[Pn.INTERACTING]>0}cancelAnimations(){this.setHint(Pn.ANIMATING,-this.hints_[Pn.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const n=this.animations_[t];if(n[0].callback&&yv(n[0].callback,!1),!e)for(let s=0,r=n.length;s<r;++s){const l=n[s];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const n=this.animations_[i];let s=!0;for(let r=0,l=n.length;r<l;++r){const c=n[r];if(c.complete)continue;const h=e-c.start;let f=c.duration>0?h/c.duration:1;f>=1?(c.complete=!0,f=1):s=!1;const v=c.easing(f);if(c.sourceCenter){const b=c.sourceCenter[0],T=c.sourceCenter[1],M=c.targetCenter[0],I=c.targetCenter[1];this.nextCenter_=c.targetCenter;const R=b+v*(M-b),P=T+v*(I-T);this.targetCenter_=[R,P]}if(c.sourceResolution&&c.targetResolution){const b=v===1?c.targetResolution:c.sourceResolution+v*(c.targetResolution-c.sourceResolution);if(c.anchor){const T=this.getViewportSize_(this.getRotation()),M=this.constraints_.resolution(b,0,T,!0);this.targetCenter_=this.calculateCenterZoom(M,c.anchor)}this.nextResolution_=c.targetResolution,this.targetResolution_=b,this.applyTargetState_(!0)}if(c.sourceRotation!==void 0&&c.targetRotation!==void 0){const b=v===1?Fc(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+v*(c.targetRotation-c.sourceRotation);if(c.anchor){const T=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(T,c.anchor)}this.nextRotation_=c.targetRotation,this.targetRotation_=b}if(this.applyTargetState_(!0),t=!0,!c.complete)break}if(s){this.animations_[i]=null,this.setHint(Pn.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const r=n[0].callback;r&&yv(r,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const n=this.getCenterInternal();return n!==void 0&&(i=[n[0]-t[0],n[1]-t[1]],Z3(i,e-this.getRotation()),fG(i,t)),i}calculateCenterZoom(e,t){let i;const n=this.getCenterInternal(),s=this.getResolution();if(n!==void 0&&s!==void 0){const r=t[0]-e*(t[0]-n[0])/s,l=t[1]-e*(t[1]-n[1])/s;i=[r,l]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],n=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(n*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(n*Math.cos(e))]}else return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&a0(e,this.getProjection())}getCenterInternal(){return this.get(Sl.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return J3(t,this.getProjection())}calculateExtentInternal(e){const t=e||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();Ka(i,1);const n=this.getResolution();Ka(n!==void 0,2);const s=this.getRotation();return Ka(s!==void 0,3),Zp(i,n,s,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Sl.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(Mu(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){const i=t||this.getViewportSizeMinusPadding_(),n=Si(e)/i[0],s=wr(e)/i[1];return Math.max(n,s)}getResolutionForValueFunction(e){const t=e||2,i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,s=Math.log(i/n)/Math.log(t);return function(r){return i/Math.pow(t,r*s)}}getRotation(){return this.get(Sl.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,s=Math.log(i/n)/t;return function(r){return Math.log(i/r)/t/s}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let n=this.getCenterInternal();const s=this.padding_;if(s){const r=this.getViewportSizeMinusPadding_();n=_S(n,this.getViewportSize_(),[r[0]/2+s[3],r[1]/2+s[0]],t,i)}return{center:n.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,n;if(this.resolutions_){const s=Sx(this.resolutions_,e,1);t=s,i=this.resolutions_[s],s==this.resolutions_.length-1?n=2:n=i/this.resolutions_[s+1]}else i=this.maxResolution_,n=this.zoomFactor_;return t+Math.log(i/e)/Math.log(n)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=Jn(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,Jn(e-t,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Ka(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){Ka(!wx(e),25);const n=Mu(e,this.getProjection());i=sT(n)}else if(e.getType()==="Circle"){const n=Mu(e.getExtent(),this.getProjection());i=sT(n),i.rotate(this.getRotation(),Wu(n))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),n=Math.sin(-t),s=e.getFlatCoordinates(),r=e.getStride();let l=1/0,c=1/0,h=-1/0,f=-1/0;for(let v=0,b=s.length;v<b;v+=r){const T=s[v]*i-s[v+1]*n,M=s[v]*n+s[v+1]*i;l=Math.min(l,T),c=Math.min(c,M),h=Math.max(h,T),f=Math.max(f,M)}return[l,c,h,f]}fitInternal(e,t){const i=t||{};let n=i.size;n||(n=this.getViewportSizeMinusPadding_());const s=i.padding!==void 0?i.padding:[0,0,0,0],r=i.nearest!==void 0?i.nearest:!1;let l;i.minResolution!==void 0?l=i.minResolution:i.maxZoom!==void 0?l=this.getResolutionForZoom(i.maxZoom):l=0;const c=this.rotatedExtentForGeometry(e);let h=this.getResolutionForExtentInternal(c,[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]);h=isNaN(h)?l:Math.max(h,l),h=this.getConstrainedResolution(h,r?0:1);const f=this.getRotation(),v=Math.sin(f),b=Math.cos(f),T=Wu(c);T[0]+=(s[1]-s[3])/2*h,T[1]+=(s[0]-s[2])/2*h;const M=T[0]*b-T[1]*v,I=T[1]*b+T[0]*v,R=this.getConstrainedCenter([M,I],h),P=i.callback?i.callback:Z_;i.duration!==void 0?this.animateInternal({resolution:h,center:R,duration:i.duration,easing:i.easing},P):(this.targetResolution_=h,this.targetCenter_=R,this.applyTargetState_(!1,!0),yv(P,!0))}centerOn(e,t,i){this.centerOnInternal(lr(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(_S(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,n){let s;const r=this.padding_;if(r&&e){const l=this.getViewportSizeMinusPadding_(-i),c=_S(e,n,[l[0]/2+r[3],l[1]/2+r[0]],t,i);s=[e[0]-c[0],e[1]-c[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=a0(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){const i=t&&lr(t,this.getProjection());this.adjustResolutionInternal(e,i)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,n,i);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=lr(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&lr(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(n),r=this.constraints_.resolution(this.targetResolution_,0,s,i),l=this.constraints_.center(this.targetCenter_,r,s,i,this.calculateCenterShift(this.targetCenter_,r,n,s));this.get(Sl.ROTATION)!==n&&this.set(Sl.ROTATION,n),this.get(Sl.RESOLUTION)!==r&&(this.set(Sl.RESOLUTION,r),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(Sl.CENTER)||!Al(this.get(Sl.CENTER),l))&&this.set(Sl.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){const n=e!==void 0?e:200,s=t||0,r=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(r),c=this.constraints_.resolution(this.targetResolution_,s,l),h=this.constraints_.center(this.targetCenter_,c,l,!1,this.calculateCenterShift(this.targetCenter_,c,r,l));if(n===0&&!this.cancelAnchor_){this.targetResolution_=c,this.targetRotation_=r,this.targetCenter_=h,this.applyTargetState_();return}const f=i||(n===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==c||this.getRotation()!==r||!this.getCenterInternal()||!Al(this.getCenterInternal(),h))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:h,resolution:c,duration:n,easing:If,anchor:f}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Pn.INTERACTING,1)}endInteraction(e,t,i){const n=i&&lr(i,this.getProjection());this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,i){this.setHint(Pn.INTERACTING,-1),this.resolveConstraints(e,t,i)}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){const i=t||0,n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,i,n)}}function yv(a,e){setTimeout(function(){a(e)},0)}function Yq(a){if(a.extent!==void 0){const t=a.smoothExtentConstraint!==void 0?a.smoothExtentConstraint:!0;return VL(a.extent,a.constrainOnlyCenter,t)}const e=K3(a.projection,"EPSG:3857");if(a.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,VL(t,!1,!1)}return xq}function Kq(a){let e,t,i,r=a.minZoom!==void 0?a.minZoom:hS,l=a.maxZoom!==void 0?a.maxZoom:28;const c=a.zoomFactor!==void 0?a.zoomFactor:2,h=a.multiWorld!==void 0?a.multiWorld:!1,f=a.smoothResolutionConstraint!==void 0?a.smoothResolutionConstraint:!0,v=a.showFullExtent!==void 0?a.showFullExtent:!1,b=K3(a.projection,"EPSG:3857"),T=b.getExtent();let M=a.constrainOnlyCenter,I=a.extent;if(!h&&!I&&b.isGlobal()&&(M=!1,I=T),a.resolutions!==void 0){const R=a.resolutions;t=R[r],i=R[l]!==void 0?R[l]:R[R.length-1],a.constrainResolution?e=wq(R,f,!M&&I,v):e=jL(t,i,f,!M&&I,v)}else{const P=(T?Math.max(Si(T),wr(T)):360*Gl[Cu.DEGREES]/b.getMetersPerUnit())/sE/Math.pow(2,hS),F=P/Math.pow(2,28-hS);t=a.maxResolution,t!==void 0?r=0:t=P/Math.pow(c,r),i=a.minResolution,i===void 0&&(a.maxZoom!==void 0?a.maxResolution!==void 0?i=t/Math.pow(c,l):i=P/Math.pow(c,l):i=F),l=r+Math.floor(Math.log(t/i)/Math.log(c)),i=t/Math.pow(c,l-r),a.constrainResolution?e=Sq(c,t,i,f,!M&&I,v):e=jL(t,i,f,!M&&I,v)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:r,zoomFactor:c}}function $q(a){if(a.enableRotation!==void 0?a.enableRotation:!0){const t=a.constrainRotation;return t===void 0||t===!0?Eq():t===!1?HL:typeof t=="number"?Tq(t):HL}else return uE}function Qq(a){return!(a.sourceCenter&&a.targetCenter&&!Al(a.sourceCenter,a.targetCenter)||a.sourceResolution!==a.targetResolution||a.sourceRotation!==a.targetRotation)}function _S(a,e,t,i,n){const s=Math.cos(-n);let r=Math.sin(-n),l=a[0]*s-a[1]*r,c=a[1]*s+a[0]*r;l+=(e[0]/2-t[0])*i,c+=(t[1]-e[1]/2)*i,r=-r;const h=l*s-c*r,f=c*s+l*r;return[h,f]}function $L(a,e,t){return t===void 0&&(t=[0,0]),t[0]=a[0]+2*e,t[1]=a[1]+2*e,t}function QL(a){return a[0]>0&&a[1]>0}function sI(a,e,t){return t===void 0&&(t=[0,0]),t[0]=a[0]*e+.5|0,t[1]=a[1]*e+.5|0,t}function ls(a,e){return Array.isArray(a)?a:(e===void 0?e=[a,a]:(e[0]=a,e[1]=a),e)}function oI(a){if(a instanceof am){a.setMapInternal(null);return}a instanceof Mh&&a.getLayers().forEach(oI)}function lI(a,e){if(a instanceof am){a.setMapInternal(e);return}if(a instanceof Mh){const t=a.getLayers().getArray();for(let i=0,n=t.length;i<n;++i)lI(t[i],e)}}class Jq extends jl{constructor(e){super(),this.on,this.once,this.un;const t=eU(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:tE,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(this),this.coordinateToPixelTransform_=Go(),this.pixelToCoordinateTransform_=Go(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.controls=t.controls||new Hs,this.interactions=t.interactions||new Hs,this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new yq(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ur.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ur.VIEW,this.handleViewChanged_),this.addChangeListener(Ur.SIZE,this.handleSizeChanged_),this.addChangeListener(Ur.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof Bd)&&e.view.then(function(n){i.setView(new Bd(n))}),this.controls.addEventListener(vr.ADD,(function(n){n.element.setMap(this)}).bind(this)),this.controls.addEventListener(vr.REMOVE,(function(n){n.element.setMap(null)}).bind(this)),this.interactions.addEventListener(vr.ADD,(function(n){n.element.setMap(this)}).bind(this)),this.interactions.addEventListener(vr.REMOVE,(function(n){n.element.setMap(null)}).bind(this)),this.overlays_.addEventListener(vr.ADD,(function(n){this.addOverlayInternal_(n.element)}).bind(this)),this.overlays_.addEventListener(vr.REMOVE,(function(n){const r=n.element.getId();r!==void 0&&delete this.overlayIdIndex_[r.toString()],n.element.setMap(null)}).bind(this)),this.controls.forEach((function(n){n.setMap(this)}).bind(this)),this.interactions.forEach((function(n){n.setMap(this)}).bind(this)),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}createRenderer(){throw new Error("Use a map type that has a createRenderer method")}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){lI(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const s=i.hitTolerance!==void 0?i.hitTolerance:0,r=i.layerFilter!==void 0?i.layerFilter:Nc,l=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,s,l,t,null,r,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(n){i.push(n)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(n){n instanceof Mh?t(n.getLayers()):e.push(n)})}return t(this.getLayers()),e}forEachLayerAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const n=i||{},s=n.hitTolerance!==void 0?n.hitTolerance:0,r=n.layerFilter||Nc;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,s,t,r)}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const n=t.layerFilter!==void 0?t.layerFilter:Nc,s=t.hitTolerance!==void 0?t.hitTolerance:0,r=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,r,n,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const t=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-t.left,i.clientY-t.top]}getTarget(){return this.get(Ur.TARGET)}getTargetElement(){const e=this.getTarget();return e!==void 0?typeof e=="string"?document.getElementById(e):e:null}getCoordinateFromPixel(e){return a0(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?Gn(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ur.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Hs){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const n=e[t];if(!n.visible)continue;const s=n.layer.getRenderer();if(s&&!s.ready)return!0;const r=n.layer.getSource();if(r&&r.loading)return!0}return!1}getPixelFromCoordinate(e){const t=lr(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?Gn(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ur.SIZE)}getView(){return this.get(Ur.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,n){return vq(this.frameState_,e,t,i,n)}handleBrowserEvent(e,t){const i=t||e.type,n=new Tc(i,this,e);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===iT.POINTERDOWN||i===Da.WHEEL||i===Da.KEYDOWN){const n=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():n,r=t.target;if(this.overlayContainerStopEvent_.contains(r)||!(s===n?n.documentElement:s).contains(r))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const n=this.getInteractions().getArray().slice();for(let s=n.length-1;s>=0;s--){const r=n[s];if(r.getMap()!==this||!r.getActive()||!this.getTargetElement())continue;if(!r.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let n=this.maxTilesLoading_,s=n;if(e){const r=e.viewHints;if(r[Pn.ANIMATING]||r[Pn.INTERACTING]){const l=Date.now()-e.time>8;n=l?0:8,s=l?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(Ru.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Ru.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new wp(Ec.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new wp(Ec.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let n=0,s=i.length;n<s;++n)i[n](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,i=this.targetChangeHandlerKeys_.length;t<i;++t)rn(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Da.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Da.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,$b(this.viewport_)}const e=this.getTargetElement();if(!e)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new mq(this,this.moveTolerance_);for(const n in wi)this.mapBrowserEventHandler_.addEventListener(wi[n],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Da.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Da.WHEEL,this.boundHandleBrowserEvent_,F7?{passive:!1}:!1);const t=this.getOwnerDocument().defaultView,i=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[Ma(i,Da.KEYDOWN,this.handleBrowserEvent,this),Ma(i,Da.KEYPRESS,this.handleBrowserEvent,this),Ma(t,Da.RESIZE,this.updateSize,this)]}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(rn(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(rn(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Ma(e,X_.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ma(e,Da.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(rn),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Fd("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Ma(e,X_.PROPERTYCHANGE,this.render,this),Ma(e,Da.CHANGE,this.render,this),Ma(e,"addlayer",this.handleLayerAdd_,this),Ma(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){oI(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),n=this.frameState_;let s=null;if(t!==void 0&&QL(t)&&i&&i.isDef()){const r=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Zp(l.center,l.resolution,l.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:r,wantedTiles:{},mapId:na(this),renderTargets:{}},l.nextCenter&&l.nextResolution){const c=isNaN(l.nextRotation)?l.rotation:l.nextRotation;s.nextExtent=Zp(l.nextCenter,l.nextResolution,c,t)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),n&&(!this.previousExtent_||!wx(this.previousExtent_)&&!j_(s.extent,this.previousExtent_))&&(this.dispatchEvent(new wp(Ec.MOVESTART,this,n)),this.previousExtent_=I0(this.previousExtent_)),this.previousExtent_&&!s.viewHints[Pn.ANIMATING]&&!s.viewHints[Pn.INTERACTING]&&!j_(s.extent,this.previousExtent_)&&(this.dispatchEvent(new wp(Ec.MOVEEND,this,s)),S7(s.extent,this.previousExtent_))),this.dispatchEvent(new wp(Ec.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Ec.LOADSTART)||this.hasListener(Ec.LOADEND)||this.hasListener(Ru.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Fd("removelayer",t)),this.set(Ur.LAYERGROUP,e)}setSize(e){this.set(Ur.SIZE,e)}setTarget(e){this.set(Ur.TARGET,e)}setView(e){if(!e||e instanceof Bd){this.set(Ur.VIEW,e);return}this.set(Ur.VIEW,new Bd);const t=this;e.then(function(i){t.setView(new Bd(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const i=getComputedStyle(e),n=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(n)&&!isNaN(s)&&(t=[n,s],!QL(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(t),this.updateViewportSize_()}updateViewportSize_(){const e=this.getView();if(e){let t;const i=getComputedStyle(this.viewport_);i.width&&i.height&&(t=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(t)}}}function eU(a){let e=null;a.keyboardEventTarget!==void 0&&(e=typeof a.keyboardEventTarget=="string"?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);const t={},i=a.layers&&typeof a.layers.getLayers=="function"?a.layers:new Mh({layers:a.layers});t[Ur.LAYERGROUP]=i,t[Ur.TARGET]=a.target,t[Ur.VIEW]=a.view instanceof Bd?a.view:new Bd;let n;a.controls!==void 0&&(Array.isArray(a.controls)?n=new Hs(a.controls.slice()):(Ka(typeof a.controls.getArray=="function",47),n=a.controls));let s;a.interactions!==void 0&&(Array.isArray(a.interactions)?s=new Hs(a.interactions.slice()):(Ka(typeof a.interactions.getArray=="function",48),s=a.interactions));let r;return a.overlays!==void 0?Array.isArray(a.overlays)?r=new Hs(a.overlays.slice()):(Ka(typeof a.overlays.getArray=="function",49),r=a.overlays):r=new Hs,{controls:n,interactions:s,keyboardEventTarget:e,overlays:r,values:t}}const tU=Jq;class aU extends jl{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){$b(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&$b(this.element);for(let t=0,i=this.listenerKeys.length;t<i;++t)rn(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Z_&&this.listenerKeys.push(Ma(e,Ec.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}const nm=aU;class iU extends nm{constructor(e){const t=e||{};super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const i=t.className!==void 0?t.className:"ol-attribution",n=t.tipLabel!==void 0?t.tipLabel:"Attributions",s=t.expandClassName!==void 0?t.expandClassName:i+"-expand",r=t.collapseLabel!==void 0?t.collapseLabel:"›",l=t.collapseClassName!==void 0?t.collapseClassName:i+"-collapse";typeof r=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=l):this.collapseLabel_=r;const c=t.label!==void 0?t.label:"i";typeof c=="string"?(this.label_=document.createElement("span"),this.label_.textContent=c,this.label_.className=s):this.label_=c;const h=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(h),this.toggleButton_.addEventListener(Da.CLICK,this.handleClick_.bind(this),!1);const f=i+" "+Eh+" "+im+(this.collapsed_&&this.collapsible_?" "+BL:"")+(this.collapsible_?"":" ol-uncollapsible"),v=this.element;v.className=f,v.appendChild(this.toggleButton_),v.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t={},i=[];let n=!0;const s=e.layerStatesArray;for(let r=0,l=s.length;r<l;++r){const c=s[r];if(!Yb(c,e.viewState))continue;const h=c.layer.getSource();if(!h)continue;const f=h.getAttributions();if(!f)continue;const v=f(e);if(v)if(n=n&&h.getAttributionsCollapsible()!==!1,Array.isArray(v))for(let b=0,T=v.length;b<T;++b)v[b]in t||(i.push(v[b]),t[v[b]]=!0);else v in t||(i.push(v),t[v]=!0)}return this.overrideCollapsible_||this.setCollapsible(n),i}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=this.collectSourceAttributions_(e),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Th(t,this.renderedAttributions_)){U7(this.ulElement_);for(let n=0,s=t.length;n<s;++n){const r=document.createElement("li");r.innerHTML=t[n],this.ulElement_.appendChild(r)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(BL),this.collapsed_?Kb(this.collapseLabel_,this.label_):Kb(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}const nU=iU;class rU extends nm{constructor(e){const t=e||{};super({element:document.createElement("div"),render:t.render,target:t.target});const i=t.className!==void 0?t.className:"ol-rotate",n=t.label!==void 0?t.label:"⇧",s=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof n=="string"?(this.label_=document.createElement("span"),this.label_.className=s,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(s));const r=t.tipLabel?t.tipLabel:"Reset rotation",l=document.createElement("button");l.className=i+"-reset",l.setAttribute("type","button"),l.title=r,l.appendChild(this.label_),l.addEventListener(Da.CLICK,this.handleClick_.bind(this),!1);const c=i+" "+Eh+" "+im,h=this.element;h.className=c,h.appendChild(l),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(fv)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:If}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const n="rotate("+i+"rad)";if(this.autoHide_){const s=this.element.classList.contains(fv);!s&&i===0?this.element.classList.add(fv):s&&i!==0&&this.element.classList.remove(fv)}this.label_.style.transform=n}this.rotation_=i}}const uI=rU;class sU extends nm{constructor(e){const t=e||{};super({element:document.createElement("div"),target:t.target});const i=t.className!==void 0?t.className:"ol-zoom",n=t.delta!==void 0?t.delta:1,s=t.zoomInClassName!==void 0?t.zoomInClassName:i+"-in",r=t.zoomOutClassName!==void 0?t.zoomOutClassName:i+"-out",l=t.zoomInLabel!==void 0?t.zoomInLabel:"+",c=t.zoomOutLabel!==void 0?t.zoomOutLabel:"–",h=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",f=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",v=document.createElement("button");v.className=s,v.setAttribute("type","button"),v.title=h,v.appendChild(typeof l=="string"?document.createTextNode(l):l),v.addEventListener(Da.CLICK,this.handleClick_.bind(this,n),!1);const b=document.createElement("button");b.className=r,b.setAttribute("type","button"),b.title=f,b.appendChild(typeof c=="string"?document.createTextNode(c):c),b.addEventListener(Da.CLICK,this.handleClick_.bind(this,-n),!1);const T=i+" "+Eh+" "+im,M=this.element;M.className=T,M.appendChild(v),M.appendChild(b),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const n=i.getZoom();if(n!==void 0){const s=i.getConstrainedZoom(n+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:If})):i.setZoom(s)}}}const cI=sU,JL=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],e6={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"};class oU extends nm{constructor(e){const t=e||{};super({element:document.createElement("div"),target:t.target}),this.on,this.once,this.un,this.keys_=t.keys!==void 0?t.keys:!1,this.source_=t.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=t.className!==void 0?t.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=t.activeClassName!==void 0?t.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=t.inactiveClassName!==void 0?t.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const i=t.label!==void 0?t.label:"⤢";this.labelNode_=typeof i=="string"?document.createTextNode(i):i;const n=t.labelActive!==void 0?t.labelActive:"×";this.labelActiveNode_=typeof n=="string"?document.createTextNode(n):n;const s=t.tipLabel?t.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=s,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(Da.CLICK,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${Eh} ${im}`,this.element.appendChild(this.button_)}handleClick_(e){e.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const e=this.getMap();if(!e)return;const t=e.getOwnerDocument();if(t6(t))if(a6(t))uU(t);else{let i;this.source_?i=typeof this.source_=="string"?t.getElementById(this.source_):this.source_:i=e.getTargetElement(),this.keys_?lU(i):dI(i)}}handleFullScreenChange_(){const e=this.getMap();if(!e)return;const t=this.isInFullscreen_;this.isInFullscreen_=a6(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(Kb(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(e6.ENTERFULLSCREEN)):(Kb(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(e6.LEAVEFULLSCREEN)),e.updateSize())}setClassName_(e,t){t?(e.classList.remove(...this.inactiveClassName_),e.classList.add(...this.activeClassName_)):(e.classList.remove(...this.activeClassName_),e.classList.add(...this.inactiveClassName_))}setMap(e){const t=this.getMap();t&&t.removeChangeListener(Ur.TARGET,this.boundHandleMapTargetChange_),super.setMap(e),this.handleMapTargetChange_(),e&&e.addChangeListener(Ur.TARGET,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const e=this.documentListeners_;for(let i=0,n=e.length;i<n;++i)rn(e[i]);e.length=0;const t=this.getMap();if(t){const i=t.getOwnerDocument();t6(i)?this.element.classList.remove(zL):this.element.classList.add(zL);for(let n=0,s=JL.length;n<s;++n)e.push(Ma(i,JL[n],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}function t6(a){const e=a.body;return!!(e.webkitRequestFullscreen||e.msRequestFullscreen&&a.msFullscreenEnabled||e.requestFullscreen&&a.fullscreenEnabled)}function a6(a){return!!(a.webkitIsFullScreen||a.msFullscreenElement||a.fullscreenElement)}function dI(a){a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()}function lU(a){a.webkitRequestFullscreen?a.webkitRequestFullscreen():dI(a)}function uU(a){a.exitFullscreen?a.exitFullscreen():a.msExitFullscreen?a.msExitFullscreen():a.webkitExitFullscreen&&a.webkitExitFullscreen()}const cU=oU,bs={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class dU extends jl{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+$G,this.element.style.position="absolute",this.element.style.pointerEvents="auto";let t=e.autoPan;t&&typeof t!="object"&&(t={animation:e.autoPanAnimation,margin:e.autoPanMargin}),this.autoPan=t||!1,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(bs.ELEMENT,this.handleElementChanged),this.addChangeListener(bs.MAP,this.handleMapChanged),this.addChangeListener(bs.OFFSET,this.handleOffsetChanged),this.addChangeListener(bs.POSITION,this.handlePositionChanged),this.addChangeListener(bs.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(bs.ELEMENT)}getId(){return this.id}getMap(){return this.get(bs.MAP)||null}getOffset(){return this.get(bs.OFFSET)}getPosition(){return this.get(bs.POSITION)}getPositioning(){return this.get(bs.POSITIONING)}handleElementChanged(){U7(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&($b(this.element),rn(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Ma(e,Ec.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(bs.ELEMENT,e)}setMap(e){this.set(bs.MAP,e)}setOffset(e){this.set(bs.OFFSET,e)}setPosition(e){this.set(bs.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(bs.POSITION))return;const i=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),s=this.getRect(n,[JG(n),eq(n)]),r=e||{},l=r.margin===void 0?20:r.margin;if(!Eu(i,s)){const c=s[0]-i[0],h=i[2]-s[2],f=s[1]-i[1],v=i[3]-s[3],b=[0,0];if(c<0?b[0]=c-l:h<0&&(b[0]=Math.abs(h)+l),f<0?b[1]=f-l:v<0&&(b[1]=Math.abs(v)+l),b[0]!==0||b[1]!==0){const T=t.getView().getCenterInternal(),M=t.getPixelFromCoordinateInternal(T);if(!M)return;const I=[M[0]+b[0],M[1]+b[1]],R=r.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(I),duration:R.duration,easing:R.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),n=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[n,s,n+t[0],s+t[1]]}setPositioning(e){this.set(bs.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(i,n)}updateRenderedPosition(e,t){const i=this.element.style,n=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const r=Math.round(e[0]+n[0])+"px",l=Math.round(e[1]+n[1])+"px";let c="0%",h="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?c="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(c="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?h="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(h="-50%");const f=`translate(${c}, ${h}) translate(${r}, ${l})`;this.rendered.transform_!=f&&(this.rendered.transform_=f,i.transform=f,i.msTransform=f)}getOptions(){return this.options}}const hI=dU;let hU=class extends nm{constructor(e){const t=e||{};super({element:document.createElement("div"),target:t.target}),this.extent=t.extent?t.extent:null;const i=t.className!==void 0?t.className:"ol-zoom-extent",n=t.label!==void 0?t.label:"E",s=t.tipLabel!==void 0?t.tipLabel:"Fit to extent",r=document.createElement("button");r.setAttribute("type","button"),r.title=s,r.appendChild(typeof n=="string"?document.createTextNode(n):n),r.addEventListener(Da.CLICK,this.handleClick_.bind(this),!1);const l=i+" "+Eh+" "+im,c=this.element;c.className=l,c.appendChild(r)}handleClick_(e){e.preventDefault(),this.handleZoomToExtent()}handleZoomToExtent(){const t=this.getMap().getView(),i=this.extent?this.extent:t.getProjection().getExtent();t.fitInternal(sT(i))}};const _U=hU;function mU(a){const e=a||{},t=new Hs;return(e.zoom!==void 0?e.zoom:!0)&&t.push(new cI(e.zoomOptions)),(e.rotate!==void 0?e.rotate:!0)&&t.push(new uI(e.rotateOptions)),(e.attribution!==void 0?e.attribution:!0)&&t.push(new nU(e.attributionOptions)),t}const oT={ACTIVE:"active"};class pU extends jl{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(oT.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(oT.ACTIVE,e)}setMap(e){this.map_=e}}function fU(a,e,t){const i=a.getCenterInternal();if(i){const n=[i[0]+e[0],i[1]+e[1]];a.animateInternal({duration:t!==void 0?t:250,easing:Lq,center:a.getConstrainedCenter(n)})}}function vE(a,e,t,i){const n=a.getZoom();if(n===void 0)return;const s=a.getConstrainedZoom(n+e),r=a.getResolutionForZoom(s);a.getAnimating()&&a.cancelAnimations(),a.animate({resolution:r,anchor:t,duration:i!==void 0?i:250,easing:If})}const Rf=pU;class gU extends Rf{constructor(e){super();const t=e||{};this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(e){let t=!1;if(e.type==wi.DBLCLICK){const i=e.originalEvent,n=e.map,s=e.coordinate,r=i.shiftKey?-this.delta_:this.delta_,l=n.getView();vE(l,r,s,this.duration_),i.preventDefault(),t=!0}return!t}}const yU=gU;class vU extends Rf{constructor(e){const t=e||{};super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==wi.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==wi.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==wi.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==wi.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function bE(a){const e=a.length;let t=0,i=0;for(let n=0;n<e;n++)t+=a[n].clientX,i+=a[n].clientY;return[t/e,i/e]}const rm=vU;function lT(a){const e=arguments;return function(t){let i=!0;for(let n=0,s=e.length;n<s&&(i=i&&e[n](t),!!i);++n);return i}}const bU=function(a){const e=a.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},xU=function(a){const e=a.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},wU=function(a){const e=a.map.getTargetElement(),t=a.map.getOwnerDocument().activeElement;return e.contains(t)},_I=function(a){return a.map.getTargetElement().hasAttribute("tabindex")?wU(a):!0},xE=Nc,mI=function(a){const e=a.originalEvent;return e.button==0&&!(RG&&D7&&e.ctrlKey)},i6=Af,wE=function(a){return a.type==wi.SINGLECLICK},Cx=function(a){const e=a.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},SU=function(a){const e=a.originalEvent;return!e.altKey&&(D7?e.metaKey:e.ctrlKey)&&!e.shiftKey},SE=function(a){const e=a.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},pI=function(a){const e=a.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},mS=function(a){const e=a.originalEvent;return Ka(e!==void 0,56),e.pointerType=="mouse"},fI=function(a){const e=a.originalEvent;return Ka(e!==void 0,56),e.isPrimary&&e.button===0};class TU extends rm{constructor(e){super({stopDown:Af});const t=e||{};this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const i=t.condition?t.condition:lT(Cx,fI);this.condition_=t.onFocusOnly?lT(_I,i):i,this.noKinetic_=!1}handleDragEvent(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());const t=this.targetPointers,i=bE(t);if(t.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const n=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],r=e.map.getView();gG(n,r.getResolution()),Z3(n,r.getRotation()),r.adjustCenterInternal(n)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=t.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const n=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),r=i.getCenterInternal(),l=t.getPixelFromCoordinateInternal(r),c=t.getCoordinateFromPixelInternal([l[0]-n*Math.cos(s),l[1]-n*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(c),duration:500,easing:If})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1}}const EU=TU;class MU extends rm{constructor(e){const t=e||{};super({stopDown:Af}),this.condition_=t.condition?t.condition:xU,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(e){if(!mS(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===uE)return;const n=t.getSize(),s=e.pixel,r=Math.atan2(n[1]/2-s[1],s[0]-n[0]/2);if(this.lastAngle_!==void 0){const l=r-this.lastAngle_;i.adjustRotationInternal(-l)}this.lastAngle_=r}handleUpEvent(e){return mS(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return mS(e)&&mI(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}const uT=MU;class LU extends eE{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",n=this.element_.style;n.left=Math.min(e[0],t[0])+i,n.top=Math.min(e[1],t[1])+i,n.width=Math.abs(t[0]-e[0])+i,n.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Vc([n])}getGeometry(){return this.geometry_}}const AU=LU,vv={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class pS extends Ho{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class CU extends rm{constructor(e){super(),this.on,this.once,this.un;const t=e||{};this.box_=new AU(t.className||"ol-dragbox"),this.minArea_=t.minArea!==void 0?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:mI,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const n=i[0]-t[0],s=i[1]-t[1];return n*n+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new pS(vv.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new pS(t?vv.BOXEND:vv.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new pS(vv.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}const IU=CU;class RU extends IU{constructor(e){const t=e||{},i=t.condition?t.condition:SE;super({condition:i,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(e){const i=this.getMap().getView();let n=this.getGeometry();if(this.out_){const s=i.rotatedExtentForGeometry(n),r=i.getResolutionForExtentInternal(s),l=i.getResolution()/r;n=n.clone(),n.scale(l*l)}i.fitInternal(n,{duration:this.duration_,easing:If})}}const OU=RU,f_={LEFT:37,UP:38,RIGHT:39,DOWN:40};class kU extends Rf{constructor(e){super();const t=e||{};this.defaultCondition_=function(i){return Cx(i)&&pI(i)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Da.KEYDOWN){const i=e.originalEvent,n=i.keyCode;if(this.condition_(e)&&(n==f_.DOWN||n==f_.LEFT||n==f_.RIGHT||n==f_.UP)){const r=e.map.getView(),l=r.getResolution()*this.pixelDelta_;let c=0,h=0;n==f_.DOWN?h=-l:n==f_.LEFT?c=-l:n==f_.RIGHT?c=l:h=l;const f=[c,h];Z3(f,r.getRotation()),fU(r,f,this.duration_),i.preventDefault(),t=!0}}return!t}}const PU=kU;class DU extends Rf{constructor(e){super();const t=e||{};this.condition_=t.condition?t.condition:pI,this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(e){let t=!1;if(e.type==Da.KEYDOWN||e.type==Da.KEYPRESS){const i=e.originalEvent,n=i.charCode;if(this.condition_(e)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){const s=e.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_,l=s.getView();vE(l,r,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}const FU=DU;class NU{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const n=this.points_[t+2]-this.points_[i+2];if(n<1e3/60)return!1;const s=this.points_[t]-this.points_[i],r=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(r,s),this.initialVelocity_=Math.sqrt(s*s+r*r)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const WU=NU,fS={TRACKPAD:"trackpad",WHEEL:"wheel"};class zU extends Rf{constructor(e){const t=e||{};super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const i=t.condition?t.condition:xE;this.condition_=t.onFocusOnly?lT(_I,i):i,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Da.WHEEL)return!0;const i=e.map,n=e.originalEvent;n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==Da.WHEEL&&(s=n.deltaY,CG&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=tE),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const r=Date.now();this.startTime_===void 0&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?fS.TRACKPAD:fS.WHEEL);const l=i.getView();if(this.mode_===fS.TRACKPAD&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=s;const c=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),c),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-Jn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),vE(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}const BU=zU;class GU extends rm{constructor(e){const t=e||{},i=t;i.stopDown||(i.stopDown=Af),super(i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],n=this.targetPointers[1],s=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(this.lastAngle_!==void 0){const f=s-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=f}this.lastAngle_=s;const r=e.map,l=r.getView();if(l.getConstraints().rotation===uE)return;const c=r.getViewport().getBoundingClientRect(),h=bE(this.targetPointers);h[0]-=c.left,h[1]-=c.top,this.anchor_=r.getCoordinateFromPixelInternal(h),this.rotating_&&(r.render(),l.adjustRotationInternal(t,this.anchor_))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}else return!1}}const qU=GU;class UU extends rm{constructor(e){const t=e||{},i=t;i.stopDown||(i.stopDown=Af),super(i),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],n=this.targetPointers[1],s=i.clientX-n.clientX,r=i.clientY-n.clientY,l=Math.sqrt(s*s+r*r);this.lastDistance_!==void 0&&(t=this.lastDistance_/l),this.lastDistance_=l;const c=e.map,h=c.getView();t!=1&&(this.lastScaleDelta_=t);const f=c.getViewport().getBoundingClientRect(),v=bE(this.targetPointers);v[0]-=f.left,v[1]-=f.top,this.anchor_=c.getCoordinateFromPixelInternal(v),c.render(),h.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,n),!1}else return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}else return!1}}const VU=UU;class Ix extends Lh{constructor(e,t,i){if(super(),i!==void 0&&t===void 0)this.setFlatCoordinates(i,e);else{const n=t||0;this.setCenterAndRadius(e,n,i)}}clone(){const e=new Ix(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){const s=this.flatCoordinates,r=e-s[0],l=t-s[1],c=r*r+l*l;if(c<n){if(c===0)for(let h=0;h<this.stride;++h)i[h]=s[h];else{const h=this.getRadius()/Math.sqrt(c);i[0]=s[0]+h*r,i[1]=s[1]+h*l;for(let f=2;f<this.stride;++f)i[f]=s[f]}return i.length=this.stride,c}else return n}containsXY(e,t){const i=this.flatCoordinates,n=e-i[0],s=t-i[1];return n*n+s*s<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,i=t[this.stride]-t[0];return ql(t[0]-i,t[1]-i,t[0]+i,t[1]+i,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){const t=this.getExtent();if(Ir(e,t)){const i=this.getCenter();return e[0]<=i[0]&&e[2]>=i[0]||e[1]<=i[1]&&e[3]>=i[1]?!0:H3(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,i=this.flatCoordinates[t]-this.flatCoordinates[0],n=e.slice();n[t]=n[0]+i;for(let s=1;s<t;++s)n[t+s]=e[s];this.setFlatCoordinates(this.layout,n),this.changed()}setCenterAndRadius(e,t,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const n=this.flatCoordinates;let s=Y7(n,0,e,this.stride);n[s++]=n[0]+t;for(let r=1,l=this.stride;r<l;++r)n[s++]=n[r];n.length=s,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const i=this.getCenter(),n=this.getStride();this.setCenter(cE(i,0,i.length,n,e,t,i)),this.changed()}translate(e,t){const i=this.getCenter(),n=this.getStride();this.setCenter(Z7(i,0,i.length,n,e,t,i)),this.changed()}}Ix.prototype.transform;const gI=Ix;class TE extends jl{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new TE(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(rn(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Ma(e,Da.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?jU(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function jU(a){if(typeof a=="function")return a;{let e;return Array.isArray(a)?e=a:(Ka(typeof a.getZIndex=="function",41),e=[a]),function(){return e}}}const Rr=TE;function yI(a,e,t,i,n,s,r){let l,c;const h=(t-e)/i;if(h===1)l=e;else if(h===2)l=e,c=n;else if(h!==0){let b=a[e],T=a[e+1],M=0;const I=[0];for(let F=e+i;F<t;F+=i){const B=a[F],W=a[F+1];M+=Math.sqrt((B-b)*(B-b)+(W-T)*(W-T)),I.push(M),b=B,T=W}const R=n*M,P=EG(I,R);P<0?(c=(R-I[-P-2])/(I[-P-1]-I[-P-2]),l=e+(-P-2)*i):l=e+P*i}const f=r>1?r:2,v=s||new Array(f);for(let b=0;b<f;++b)v[b]=l===void 0?NaN:c===void 0?a[l+b]:Mc(a[l+b],a[l+i+b],c);return v}function cT(a,e,t,i,n,s){if(t==e)return null;let r;if(n<a[e+i-1])return s?(r=a.slice(e,e+i),r[i-1]=n,r):null;if(a[t-1]<n)return s?(r=a.slice(t-i,t),r[i-1]=n,r):null;if(n==a[e+i-1])return a.slice(e,e+i);let l=e/i,c=t/i;for(;l<c;){const b=l+c>>1;n<a[(b+1)*i-1]?c=b:l=b+1}const h=a[l*i-1];if(n==h)return a.slice((l-1)*i,(l-1)*i+i);const f=a[(l+1)*i-1],v=(n-h)/(f-h);r=[];for(let b=0;b<i-1;++b)r.push(Mc(a[(l-1)*i+b],a[l*i+b],v));return r.push(n),r}function HU(a,e,t,i,n,s,r){if(r)return cT(a,e,t[t.length-1],i,n,s);let l;if(n<a[i-1])return s?(l=a.slice(0,i),l[i-1]=n,l):null;if(a[a.length-1]<n)return s?(l=a.slice(a.length-i),l[i-1]=n,l):null;for(let c=0,h=t.length;c<h;++c){const f=t[c];if(e!=f){if(n<a[e+i-1])return null;if(n<=a[f-1])return cT(a,e,f,i,n,!1);e=f}}return null}function vI(a,e,t,i){let n=a[e],s=a[e+1],r=0;for(let l=e+i;l<t;l+=i){const c=a[l],h=a[l+1];r+=Math.sqrt((c-n)*(c-n)+(h-s)*(h-s)),n=c,s=h}return r}class n2 extends Lh{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){this.flatCoordinates?xn(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new n2(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<tm(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(dE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_E(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,n))}forEachSegment(e){return tI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){if(this.layout!=ti.XYM&&this.layout!=ti.XYZM)return null;const i=t!==void 0?t:!1;return cT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,i)}getCoordinates(){return Vd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return yI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return vI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=fE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n2(t,ti.XY)}getType(){return"LineString"}intersectsExtent(e){return Ax(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Lx(this.flatCoordinates,0,e,this.stride),this.changed()}}const cs=n2;class r2 extends Lh{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{let n=this.getLayout();const s=e,r=[],l=[];for(let c=0,h=s.length;c<h;++c){const f=s[c];c===0&&(n=f.getLayout()),xn(r,f.getFlatCoordinates()),l.push(r.length)}this.setFlatCoordinates(n,r),this.ends_=l}}appendLineString(e){this.flatCoordinates?xn(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new r2(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<tm(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(hE(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),mE(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,n))}getCoordinateAtM(e,t,i){if(this.layout!=ti.XYM&&this.layout!=ti.XYZM||this.flatCoordinates.length===0)return null;const n=t!==void 0?t:!1,s=i!==void 0?i:!1;return HU(this.flatCoordinates,0,this.ends_,this.stride,e,n,s)}getCoordinates(){return u0(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new cs(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,n=[];let s=0;for(let r=0,l=t.length;r<l;++r){const c=t[r],h=new cs(e.slice(s,c),i);n.push(h),s=c}return n}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const n=this.ends_,s=this.stride;for(let r=0,l=n.length;r<l;++r){const c=n[r],h=yI(t,i,c,s,.5);xn(e,h),i=c}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=Fq(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new r2(t,ti.XY,i)}getType(){return"MultiLineString"}intersectsExtent(e){return Vq(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=pE(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}const sm=r2;class EE extends Lh{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){this.flatCoordinates?xn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new EE(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<tm(this.getExtent(),e,t))return n;const s=this.flatCoordinates,r=this.stride;for(let l=0,c=s.length;l<c;l+=r){const h=B_(e,t,s[l],s[l+1]);if(h<n){n=h;for(let f=0;f<r;++f)i[f]=s[l+f];i.length=r}}return n}getCoordinates(){return Vd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new Xr(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,n=[];for(let s=0,r=e.length;s<r;s+=i){const l=new Xr(e.slice(s,s+i),t);n.push(l)}return n}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let n=0,s=t.length;n<s;n+=i){const r=t[n],l=t[n+1];if(V3(e,r,l))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Lx(this.flatCoordinates,0,e,this.stride),this.changed()}}const Y_=EE;function ZU(a,e,t,i){const n=[];let s=Vo();for(let r=0,l=t.length;r<l;++r){const c=t[r];s=T7(a,e,c[0],i),n.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=c[c.length-1]}return n}class s2 extends Lh{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){let n=this.getLayout();const s=e,r=[],l=[];for(let c=0,h=s.length;c<h;++c){const f=s[c];c===0&&(n=f.getLayout());const v=r.length,b=f.getEnds();for(let T=0,M=b.length;T<M;++T)b[T]+=v;xn(r,f.getFlatCoordinates()),l.push(b)}t=n,e=r,i=l}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;xn(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let n=0,s=t.length;n<s;++n)t[n]+=i}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=this.endss_[n].slice();const i=new s2(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,n){return n<tm(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kq(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Pq(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,n))}containsXY(e,t){return qq(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return zq(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),KL(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,nT(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=ZU(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Uq(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Y_(this.getFlatInteriorPoints().slice(),ti.XYM)}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Zq(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=KL(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=Wq(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new s2(t,ti.XY,i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const s=this.endss_[e-1];t=s[s.length-1]}const i=this.endss_[e].slice(),n=i[i.length-1];if(t!==0)for(let s=0,r=i.length;s<r;++s)i[s]-=t;return new Vc(this.flatCoordinates.slice(t,n),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,n=[];let s=0;for(let r=0,l=i.length;r<l;++r){const c=i[r].slice(),h=c[c.length-1];if(s!==0)for(let v=0,b=c.length;v<b;++v)c[v]-=s;const f=new Vc(t.slice(s,h),e,c);n.push(f),s=h}return n}getType(){return"MultiPolygon"}intersectsExtent(e){return jq(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=Dq(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const n=i[i.length-1];this.flatCoordinates.length=n.length===0?0:n[n.length-1]}this.changed()}}const Rx=s2;function XU(a,e,t,i,n){bI(a,e,t||0,i||a.length-1,n||YU)}function bI(a,e,t,i,n){for(;i>t;){if(i-t>600){var s=i-t+1,r=e-t+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(r-s/2<0?-1:1),f=Math.max(t,Math.floor(e-r*c/s+h)),v=Math.min(i,Math.floor(e+(s-r)*c/s+h));bI(a,e,f,v,n)}var b=a[e],T=t,M=i;for(jg(a,t,e),n(a[i],b)>0&&jg(a,t,i);T<M;){for(jg(a,T,M),T++,M--;n(a[T],b)<0;)T++;for(;n(a[M],b)>0;)M--}n(a[t],b)===0?jg(a,t,M):(M++,jg(a,M,i)),M<=e&&(t=M+1),e<=M&&(i=M-1)}}function jg(a,e,t){var i=a[e];a[e]=a[t],a[t]=i}function YU(a,e){return a<e?-1:a>e?1:0}let xI=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!xv(e,t))return i;const n=this.toBBox,s=[];for(;t;){for(let r=0;r<t.children.length;r++){const l=t.children[r],c=t.leaf?n(l):l;xv(e,c)&&(t.leaf?i.push(l):yS(e,c)?this._all(l,i):s.push(l))}t=s.pop()}return i}collides(e){let t=this.data;if(!xv(e,t))return!1;const i=[];for(;t;){for(let n=0;n<t.children.length;n++){const s=t.children[n],r=t.leaf?this.toBBox(s):s;if(xv(e,r)){if(t.leaf||yS(e,r))return!0;i.push(s)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Sp([]),this}remove(e,t){if(!e)return this;let i=this.data;const n=this.toBBox(e),s=[],r=[];let l,c,h;for(;i||s.length;){if(i||(i=s.pop(),c=s[s.length-1],l=r.pop(),h=!0),i.leaf){const f=KU(e,i.children,t);if(f!==-1)return i.children.splice(f,1),s.push(i),this._condense(s),this}!h&&!i.leaf&&yS(i,n)?(s.push(i),r.push(l),l=0,c=i,i=i.children[0]):c?(l++,i=c.children[l],h=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,n){const s=i-t+1;let r=this._maxEntries,l;if(s<=r)return l=Sp(e.slice(t,i+1)),dp(l,this.toBBox),l;n||(n=Math.ceil(Math.log(s)/Math.log(r)),r=Math.ceil(s/Math.pow(r,n-1))),l=Sp([]),l.leaf=!1,l.height=n;const c=Math.ceil(s/r),h=c*Math.ceil(Math.sqrt(r));n6(e,t,i,h,this.compareMinX);for(let f=t;f<=i;f+=h){const v=Math.min(f+h-1,i);n6(e,f,v,c,this.compareMinY);for(let b=f;b<=v;b+=c){const T=Math.min(b+c-1,v);l.children.push(this._build(e,b,T,n-1))}}return dp(l,this.toBBox),l}_chooseSubtree(e,t,i,n){for(;n.push(t),!(t.leaf||n.length-1===i);){let s=1/0,r=1/0,l;for(let c=0;c<t.children.length;c++){const h=t.children[c],f=gS(h),v=JU(e,h)-f;v<r?(r=v,s=f<s?f:s,l=h):v===r&&f<s&&(s=f,l=h)}t=l||t.children[0]}return t}_insert(e,t,i){const n=i?e:this.toBBox(e),s=[],r=this._chooseSubtree(n,this.data,t,s);for(r.children.push(e),ty(r,n);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(n,s,t)}_split(e,t){const i=e[t],n=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,n);const r=this._chooseSplitIndex(i,s,n),l=Sp(i.children.splice(r,i.children.length-r));l.height=i.height,l.leaf=i.leaf,dp(i,this.toBBox),dp(l,this.toBBox),t?e[t-1].children.push(l):this._splitRoot(i,l)}_splitRoot(e,t){this.data=Sp([e,t]),this.data.height=e.height+1,this.data.leaf=!1,dp(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let n,s=1/0,r=1/0;for(let l=t;l<=i-t;l++){const c=ey(e,0,l,this.toBBox),h=ey(e,l,i,this.toBBox),f=eV(c,h),v=gS(c)+gS(h);f<s?(s=f,n=l,r=v<r?v:r):f===s&&v<r&&(r=v,n=l)}return n||i-t}_chooseSplitAxis(e,t,i){const n=e.leaf?this.compareMinX:$U,s=e.leaf?this.compareMinY:QU,r=this._allDistMargin(e,t,i,n),l=this._allDistMargin(e,t,i,s);r<l&&e.children.sort(n)}_allDistMargin(e,t,i,n){e.children.sort(n);const s=this.toBBox,r=ey(e,0,t,s),l=ey(e,i-t,i,s);let c=bv(r)+bv(l);for(let h=t;h<i-t;h++){const f=e.children[h];ty(r,e.leaf?s(f):f),c+=bv(r)}for(let h=i-t-1;h>=t;h--){const f=e.children[h];ty(l,e.leaf?s(f):f),c+=bv(l)}return c}_adjustParentBBoxes(e,t,i){for(let n=i;n>=0;n--)ty(t[n],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():dp(e[t],this.toBBox)}};function KU(a,e,t){if(!t)return e.indexOf(a);for(let i=0;i<e.length;i++)if(t(a,e[i]))return i;return-1}function dp(a,e){ey(a,0,a.children.length,e,a)}function ey(a,e,t,i,n){n||(n=Sp(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(let s=e;s<t;s++){const r=a.children[s];ty(n,a.leaf?i(r):r)}return n}function ty(a,e){return a.minX=Math.min(a.minX,e.minX),a.minY=Math.min(a.minY,e.minY),a.maxX=Math.max(a.maxX,e.maxX),a.maxY=Math.max(a.maxY,e.maxY),a}function $U(a,e){return a.minX-e.minX}function QU(a,e){return a.minY-e.minY}function gS(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function bv(a){return a.maxX-a.minX+(a.maxY-a.minY)}function JU(a,e){return(Math.max(e.maxX,a.maxX)-Math.min(e.minX,a.minX))*(Math.max(e.maxY,a.maxY)-Math.min(e.minY,a.minY))}function eV(a,e){const t=Math.max(a.minX,e.minX),i=Math.max(a.minY,e.minY),n=Math.min(a.maxX,e.maxX),s=Math.min(a.maxY,e.maxY);return Math.max(0,n-t)*Math.max(0,s-i)}function yS(a,e){return a.minX<=e.minX&&a.minY<=e.minY&&e.maxX<=a.maxX&&e.maxY<=a.maxY}function xv(a,e){return e.minX<=a.maxX&&e.minY<=a.maxY&&e.maxX>=a.minX&&e.maxY>=a.minY}function Sp(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function n6(a,e,t,i,n){const s=[e,t];for(;s.length;){if(t=s.pop(),e=s.pop(),t-e<=i)continue;const r=e+Math.ceil((t-e)/i/2)*i;XU(a,r,e,t,n),s.push(e,r,r,t)}}const Ja={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class ME{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=ls(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new ME({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return _a()}getImage(e){return _a()}getHitDetectionImage(){return _a()}getPixelRatio(e){return 1}getImageState(){return _a()}getImageSize(){return _a()}getOrigin(){return _a()}getSize(){return _a()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=ls(e)}listenImageChange(e){_a()}load(){_a()}unlistenImageChange(e){_a()}}const wI=ME;function Lu(a){return Array.isArray(a)?z7(a):a}class Oc extends wI{constructor(e){const t=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:t,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),t=new Oc({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_;if(!e)return null;const t=this.getDisplacement();return[e[0]/2-t[0],e[1]/2+t[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let t=this.canvas_[e];if(!t){const i=this.renderOptions_,n=vo(i.size*e,i.size*e);this.draw_(i,n,e),t=n.canvas,this.canvas_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return Ja.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let n=this.radius_,s=this.radius2_===void 0?n:this.radius2_;if(n<s){const ae=n;n=s,s=ae}const r=this.radius2_===void 0?this.points_:this.points_*2,l=2*Math.PI/r,c=s*Math.sin(l),h=Math.sqrt(s*s-c*c),f=n-h,v=Math.sqrt(c*c+f*f),b=v/c;if(e==="miter"&&b<=i)return b*t;const T=t/2/b,M=t/2*(f/v),R=Math.sqrt((n+T)*(n+T)+M*M)-n;if(this.radius2_===void 0||e==="bevel")return R*2;const P=n*Math.sin(l),F=Math.sqrt(n*n-P*P),B=s-F,Z=Math.sqrt(P*P+B*B)/P;if(Z<=i){const ae=Z*t/2-s-n;return 2*Math.max(R,ae)}return R*2}createRenderOptions(){let e=hf,t=0,i=null,n=0,s,r=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=s0),s=Lu(s),r=this.stroke_.getWidth(),r===void 0&&(r=l0),i=this.stroke_.getLineDash(),n=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=hf),t=this.stroke_.getMiterLimit(),t===void 0&&(t=r0));const l=this.calculateLineJoinSize_(e,r,t),c=Math.max(this.radius_,this.radius2_||0),h=Math.ceil(2*c+l);return{strokeStyle:s,strokeWidth:r,size:h,lineDash:i,lineDashOffset:n,lineJoin:e,miterLimit:t}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let n=this.fill_.getColor();n===null&&(n=Wc),t.fillStyle=Lu(n),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash&&e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let t=this.fill_.getColor(),i=0;if(typeof t=="string"&&(t=Iu(t)),t===null?i=1:Array.isArray(t)&&(i=t.length===4?t[3]:1),i===0){const n=vo(e.size,e.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(e,n)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let t=this.points_;const i=this.radius_;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const n=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const s=this.angle_-Math.PI/2,r=2*Math.PI/t;for(let l=0;l<t;l++){const c=s+l*r,h=l%2===0?i:n;e.lineTo(h*Math.cos(c),h*Math.sin(c))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Wc,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}class _l extends Oc{constructor(e){const t=e||{};super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const e=this.getScale(),t=new _l({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}class Yr{constructor(e){const t=e||{};this.color_=t.color!==void 0?t.color:null}clone(){const e=this.getColor();return new Yr({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}class br{constructor(e){const t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const e=this.getColor();return new br({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class jd{constructor(e){const t=e||{};this.geometry_=null,this.geometryFunction_=r6,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new jd({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=r6,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function tV(a){let e;if(typeof a=="function")e=a;else{let t;Array.isArray(a)?t=a:(Ka(typeof a.getZIndex=="function",41),t=[a]),e=function(){return t}}return e}let vS=null;function aV(a,e){if(!vS){const t=new Yr({color:"rgba(255,255,255,0.4)"}),i=new br({color:"#3399CC",width:1.25});vS=[new jd({image:new _l({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return vS}function LE(){const a={},e=[255,255,255,1],t=[0,153,255,1],i=3;return a.Polygon=[new jd({fill:new Yr({color:[255,255,255,.5]})})],a.MultiPolygon=a.Polygon,a.LineString=[new jd({stroke:new br({color:e,width:i+2})}),new jd({stroke:new br({color:t,width:i})})],a.MultiLineString=a.LineString,a.Circle=a.Polygon.concat(a.LineString),a.Point=[new jd({image:new _l({radius:i*2,fill:new Yr({color:t}),stroke:new br({color:e,width:i/2})}),zIndex:1/0})],a.MultiPoint=a.Point,a.GeometryCollection=a.Polygon.concat(a.LineString,a.Point),a}function r6(a){return a.getGeometry()}const kr=jd,s6={RENDER_ORDER:"renderOrder"};class iV extends am{constructor(e){const t=e||{},i=Ci({},t);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,super(i),this.declutter_=t.declutter!==void 0?t.declutter:!1,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(s6.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new xI(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(s6.RENDER_ORDER,e)}setStyle(e){this.style_=e!==void 0?e:aV,this.styleFunction_=e===null?void 0:tV(this.style_),this.changed()}}const SI=iV,O0={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},wv=[O0.FILL],Hd=[O0.STROKE],O_=[O0.BEGIN_PATH],o6=[O0.CLOSE_PATH],Na=O0;class nV{drawCustom(e,t,i,n){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}const TI=nV;class rV extends TI{constructor(e,t,i,n){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,s=this.coordinates;let r=s.length;for(let l=0,c=e.length;l<c;l+=t)n[0]=e[l],n[1]=e[l+1],Sh(i,n)&&(s[r++]=n[0],s[r++]=n[1]);return r}appendFlatLineCoordinates(e,t,i,n,s,r){const l=this.coordinates;let c=l.length;const h=this.getBufferedMaxExtent();r&&(t+=n);let f=e[t],v=e[t+1];const b=this.tmpCoordinate_;let T=!0,M,I,R;for(M=t+n;M<i;M+=n)b[0]=e[M],b[1]=e[M+1],R=Y4(h,b),R!==I?(T&&(l[c++]=f,l[c++]=v,T=!1),l[c++]=b[0],l[c++]=b[1]):R===jr.INTERSECTING?(l[c++]=b[0],l[c++]=b[1],T=!1):T=!0,f=b[0],v=b[1],I=R;return(s&&T||M===t+n)&&(l[c++]=f,l[c++]=v),c}drawCustomCoordinates_(e,t,i,n,s){for(let r=0,l=i.length;r<l;++r){const c=i[r],h=this.appendFlatLineCoordinates(e,t,c,n,!1,!1);s.push(h),t=c}return t}drawCustom(e,t,i,n){this.beginGeometry(e,t);const s=e.getType(),r=e.getStride(),l=this.coordinates.length;let c,h,f,v,b;switch(s){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),v=[];const T=e.getEndss();b=0;for(let M=0,I=T.length;M<I;++M){const R=[];b=this.drawCustomCoordinates_(c,b,T[M],r,R),v.push(R)}this.instructions.push([Na.CUSTOM,l,v,e,i,nT]),this.hitDetectionInstructions.push([Na.CUSTOM,l,v,e,n||i,nT]);break;case"Polygon":case"MultiLineString":f=[],c=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),b=this.drawCustomCoordinates_(c,0,e.getEnds(),r,f),this.instructions.push([Na.CUSTOM,l,f,e,i,u0]),this.hitDetectionInstructions.push([Na.CUSTOM,l,f,e,n||i,u0]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),h=this.appendFlatLineCoordinates(c,0,c.length,r,!1,!1),this.instructions.push([Na.CUSTOM,l,h,e,i,Vd]),this.hitDetectionInstructions.push([Na.CUSTOM,l,h,e,n||i,Vd]);break;case"MultiPoint":c=e.getFlatCoordinates(),h=this.appendFlatPointCoordinates(c,r),h>l&&(this.instructions.push([Na.CUSTOM,l,h,e,i,Vd]),this.hitDetectionInstructions.push([Na.CUSTOM,l,h,e,n||i,Vd]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),h=this.coordinates.length,this.instructions.push([Na.CUSTOM,l,h,e,i]),this.hitDetectionInstructions.push([Na.CUSTOM,l,h,e,n||i]);break}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[Na.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Na.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let n,s,r=-1;for(t=0;t<i;++t)n=e[t],s=n[0],s==Na.END_GEOMETRY?r=t:s==Na.BEGIN_GEOMETRY&&(n[2]=t,MG(this.hitDetectionInstructions,r,t),r=-1)}setFillStrokeStyle(e,t){const i=this.state;if(e){const n=e.getColor();i.fillStyle=Lu(n||Wc)}else i.fillStyle=void 0;if(t){const n=t.getColor();i.strokeStyle=Lu(n||s0);const s=t.getLineCap();i.lineCap=s!==void 0?s:Qb;const r=t.getLineDash();i.lineDash=r?r.slice():i0;const l=t.getLineDashOffset();i.lineDashOffset=l||n0;const c=t.getLineJoin();i.lineJoin=c!==void 0?c:hf;const h=t.getWidth();i.lineWidth=h!==void 0?h:l0;const f=t.getMiterLimit();i.miterLimit=f!==void 0?f:r0,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const t=e.fillStyle,i=[Na.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(!0),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Na.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,n=e.lineCap,s=e.lineDash,r=e.lineDashOffset,l=e.lineJoin,c=e.lineWidth,h=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=n||s!=e.currentLineDash&&!Th(e.currentLineDash,s)||e.currentLineDashOffset!=r||e.currentLineJoin!=l||e.currentLineWidth!=c||e.currentMiterLimit!=h)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=n,e.currentLineDash=s,e.currentLineDashOffset=r,e.currentLineJoin=l,e.currentLineWidth=c,e.currentMiterLimit=h)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[Na.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=S7(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;dh(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}const k0=rV;class sV extends k0{constructor(e,t,i,n){super(e,t,i,n),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),n=e.getStride(),s=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([Na.DRAW_IMAGE,s,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Na.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),n=e.getStride(),s=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([Na.DRAW_IMAGE,s,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Na.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),n=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=n[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const oV=sV;class lV extends k0{constructor(e,t,i,n){super(e,t,i,n)}drawFlatCoordinates_(e,t,i,n){const s=this.coordinates.length,r=this.appendFlatLineCoordinates(e,t,i,n,!1,!1),l=[Na.MOVE_TO_LINE_TO,s,r];return this.instructions.push(l),this.hitDetectionInstructions.push(l),i}drawLineString(e,t){const i=this.state,n=i.strokeStyle,s=i.lineWidth;if(n===void 0||s===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Na.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i0,n0],O_);const r=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(r,0,r.length,l),this.hitDetectionInstructions.push(Hd),this.endGeometry(t)}drawMultiLineString(e,t){const i=this.state,n=i.strokeStyle,s=i.lineWidth;if(n===void 0||s===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Na.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],O_);const r=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride();let h=0;for(let f=0,v=r.length;f<v;++f)h=this.drawFlatCoordinates_(l,h,r[f],c);this.hitDetectionInstructions.push(Hd),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Hd),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Hd),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(O_)}}const uV=lV;class cV extends k0{constructor(e,t,i,n){super(e,t,i,n)}drawFlatCoordinatess_(e,t,i,n){const s=this.state,r=s.fillStyle!==void 0,l=s.strokeStyle!==void 0,c=i.length;this.instructions.push(O_),this.hitDetectionInstructions.push(O_);for(let h=0;h<c;++h){const f=i[h],v=this.coordinates.length,b=this.appendFlatLineCoordinates(e,t,f,n,!0,!l),T=[Na.MOVE_TO_LINE_TO,v,b];this.instructions.push(T),this.hitDetectionInstructions.push(T),l&&(this.instructions.push(o6),this.hitDetectionInstructions.push(o6)),t=f}return r&&(this.instructions.push(wv),this.hitDetectionInstructions.push(wv)),l&&(this.instructions.push(Hd),this.hitDetectionInstructions.push(Hd)),t}drawCircle(e,t){const i=this.state,n=i.fillStyle,s=i.strokeStyle;if(n===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Na.SET_FILL_STYLE,Wc]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Na.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const r=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,l,!1,!1);const h=[Na.CIRCLE,c];this.instructions.push(O_,h),this.hitDetectionInstructions.push(O_,h),i.fillStyle!==void 0&&(this.instructions.push(wv),this.hitDetectionInstructions.push(wv)),i.strokeStyle!==void 0&&(this.instructions.push(Hd),this.hitDetectionInstructions.push(Hd)),this.endGeometry(t)}drawPolygon(e,t){const i=this.state,n=i.fillStyle,s=i.strokeStyle;if(n===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Na.SET_FILL_STYLE,Wc]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Na.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const r=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,r,c),this.endGeometry(t)}drawMultiPolygon(e,t){const i=this.state,n=i.fillStyle,s=i.strokeStyle;if(n===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Na.SET_FILL_STYLE,Wc]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Na.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const r=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride();let h=0;for(let f=0,v=r.length;f<v;++f)h=this.drawFlatCoordinatess_(l,h,r[f],c);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,n=t.length;i<n;++i)t[i]=E_(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}const l6=cV,EI={POINT:"point",LINE:"line"};function dV(a,e,t,i,n){let s=t,r=t,l=0,c=0,h=t,f,v,b,T,M,I,R,P,F,B;for(v=t;v<i;v+=n){const W=e[v],Z=e[v+1];M!==void 0&&(F=W-M,B=Z-I,T=Math.sqrt(F*F+B*B),R!==void 0&&(c+=b,f=Math.acos((R*F+P*B)/(b*T)),f>a&&(c>l&&(l=c,s=h,r=v),c=0,h=v-n)),b=T,R=F,P=B),M=W,I=Z}return c+=T,c>l?[h,v]:[s,r]}const My={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class hV extends k0{constructor(e,t,i,n){super(e,t,i,n),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){const i=this.textFillState_,n=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!i&&!n)return;const r=this.coordinates;let l=r.length;const c=e.getType();let h=null,f=e.getStride();if(s.placement===EI.LINE&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!Ir(this.getBufferedMaxExtent(),e.getExtent()))return;let v;if(h=e.getFlatCoordinates(),c=="LineString")v=[h.length];else if(c=="MultiLineString")v=e.getEnds();else if(c=="Polygon")v=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){const I=e.getEndss();v=[];for(let R=0,P=I.length;R<P;++R)v.push(I[R][0])}this.beginGeometry(e,t);const b=s.textAlign;let T=0,M;for(let I=0,R=v.length;I<R;++I){if(b==null){const F=dV(s.maxAngle,h,T,v[I],f);T=F[0],M=F[1]}else M=v[I];for(let F=T;F<M;F+=f)r.push(h[F],h[F+1]);const P=r.length;T=v[I],this.drawChars_(l,P),l=P}this.endGeometry(t)}else{let v=s.overflow?null:[];switch(c){case"Point":case"MultiPoint":h=e.getFlatCoordinates();break;case"LineString":h=e.getFlatMidpoint();break;case"Circle":h=e.getCenter();break;case"MultiLineString":h=e.getFlatMidpoints(),f=2;break;case"Polygon":h=e.getFlatInteriorPoint(),s.overflow||v.push(h[2]/this.resolution),f=3;break;case"MultiPolygon":const R=e.getFlatInteriorPoints();h=[];for(let P=0,F=R.length;P<F;P+=3)s.overflow||v.push(R[P+2]/this.resolution),h.push(R[P],R[P+1]);if(h.length===0)return;f=2;break}const b=this.appendFlatPointCoordinates(h,f);if(b===l)return;if(v&&(b-l)/2!==h.length/f){let R=l/2;v=v.filter((P,F)=>{const B=r[(R+F)*2]===h[F*f]&&r[(R+F)*2+1]===h[F*f+1];return B||--R,B})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let T=s.padding;if(T!=I_&&(s.scale[0]<0||s.scale[1]<0)){let R=s.padding[0],P=s.padding[1],F=s.padding[2],B=s.padding[3];s.scale[0]<0&&(P=-P,B=-B),s.scale[1]<0&&(R=-R,F=-F),T=[R,P,F,B]}const M=this.pixelRatio;this.instructions.push([Na.DRAW_IMAGE,l,b,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,T==I_?I_:T.map(function(R){return R*M}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]);const I=1/M;this.hitDetectionInstructions.push([Na.DRAW_IMAGE,l,b,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[I,I],NaN,void 0,this.declutterImageWithText_,T,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,n=this.strokeKey_;e&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:t.font,textAlign:t.textAlign||o0,justify:t.justify,textBaseline:t.textBaseline||Jb,scale:t.scale});const r=this.fillKey_;i&&(r in this.fillStates||(this.fillStates[r]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,n=this.textState_,s=this.strokeKey_,r=this.textKey_,l=this.fillKey_;this.saveTextStates_();const c=this.pixelRatio,h=My[n.textBaseline],f=this.textOffsetY_*c,v=this.text_,b=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([Na.DRAW_CHARS,e,t,h,n.overflow,l,n.maxAngle,c,f,s,b*c,v,r,1]),this.hitDetectionInstructions.push([Na.DRAW_CHARS,e,t,h,n.overflow,l,n.maxAngle,1,f,s,b,v,r,1/c])}setTextStyle(e,t){let i,n,s;if(!e)this.text_="";else{const r=e.getFill();r?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=Lu(r.getColor()||Wc)):(n=null,this.textFillState_=n);const l=e.getStroke();if(!l)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const M=l.getLineDash(),I=l.getLineDashOffset(),R=l.getWidth(),P=l.getMiterLimit();s.lineCap=l.getLineCap()||Qb,s.lineDash=M?M.slice():i0,s.lineDashOffset=I===void 0?n0:I,s.lineJoin=l.getLineJoin()||hf,s.lineWidth=R===void 0?l0:R,s.miterLimit=P===void 0?r0:P,s.strokeStyle=Lu(l.getColor()||s0)}i=this.textState_;const c=e.getFont()||V7;iq(c);const h=e.getScaleArray();i.overflow=e.getOverflow(),i.font=c,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||Jb,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||I_,i.scale=h===void 0?[1,1]:h;const f=e.getOffsetX(),v=e.getOffsetY(),b=e.getRotateWithView(),T=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=f===void 0?0:f,this.textOffsetY_=v===void 0?0:v,this.textRotateWithView_=b===void 0?!1:b,this.textRotation_=T===void 0?0:T,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:na(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n?typeof n.fillStyle=="string"?n.fillStyle:"|"+na(n.fillStyle):""}this.declutterImageWithText_=t}}const _V={Circle:l6,Default:k0,Image:oV,LineString:uV,Polygon:l6,Text:hV};class mV{constructor(e,t,i,n){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const n in i){const s=i[n].finish();e[t][n]=s}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let n=this.buildersByZIndex_[i];n===void 0&&(n={},this.buildersByZIndex_[i]=n);let s=n[t];if(s===void 0){const r=_V[t];s=new r(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=s}return s}}const o2=mV;class pV extends R0{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return _a()}getData(e){return null}prepareFrame(e){return _a()}renderFrame(e,t){return _a()}loadedTileCallback(e,t,i){e[t]||(e[t]={}),e[t][i.tileCoord.toString()]=i}createLoadedTileFinder(e,t,i){return(function(n,s){const r=this.loadedTileCallback.bind(this,i,n);return e.forEachLoadedTile(t,n,s,r)}).bind(this)}forEachFeatureAtCoordinate(e,t,i,n,s){}getDataAtPixel(e,t,i){return null}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){e.target.getState()===Ja.LOADED&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Ja.LOADED&&t!=Ja.ERROR&&e.addEventListener(Da.CHANGE,this.boundHandleImageChange_),t==Ja.IDLE&&(e.load(),t=e.getState()),t==Ja.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const fV=pV,u6=[];let Tp=null;function gV(){const a=document.createElement("canvas");a.width=1,a.height=1,Tp=a.getContext("2d")}class yV extends fV{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Go(),this.pixelTransform=Go(),this.inversePixelTransform=Go(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,i){Tp||gV(),Tp.clearRect(0,0,1,1);let n;try{Tp.drawImage(e,t,i,1,1,0,0,1,1),n=Tp.getImageData(0,0,1,1).data}catch{return Tp=null,null}return n}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const n=this.getLayer().getClassName();let s,r;if(e&&e.className===n&&(!i||e&&e.style.backgroundColor&&Th(Iu(e.style.backgroundColor),Iu(i)))){const l=e.firstElementChild;l instanceof HTMLCanvasElement&&(r=l.getContext("2d"))}if(r&&r.canvas.style.transform===t?(this.container=e,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=n;let l=s.style;l.position="absolute",l.width="100%",l.height="100%",r=vo();const c=r.canvas;s.appendChild(c),l=c.style,l.position="absolute",l.left="0",l.transformOrigin="top left",this.container=s,this.context=r}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const n=Jc(i),s=xx(i),r=bx(i),l=vx(i);Gn(t.coordinateToPixelTransform,n),Gn(t.coordinateToPixelTransform,s),Gn(t.coordinateToPixelTransform,r),Gn(t.coordinateToPixelTransform,l);const c=this.inversePixelTransform;Gn(c,n),Gn(c,s),Gn(c,r),Gn(c,l),e.save(),e.beginPath(),e.moveTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}dispatchRenderEvent_(e,t,i){const n=this.getLayer();if(n.hasListener(e)){const s=new G7(e,this.inversePixelTransform,i,t);n.dispatchEvent(s)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_(Ru.PRERENDER,e,t)}postRender(e,t){this.dispatchRenderEvent_(Ru.POSTRENDER,e,t)}getRenderTransform(e,t,i,n,s,r,l){const c=s/2,h=r/2,f=n/t,v=-f,b=-e[0]+l,T=-e[1];return dl(this.tempTransform,c,h,f,v,-i,b,T)}getDataAtPixel(e,t,i){const n=Gn(this.inversePixelTransform,e.slice()),s=this.context,l=this.getLayer().getExtent();if(l){const b=Gn(t.pixelToCoordinateTransform,e.slice());if(!Sh(l,b))return null}const c=Math.round(n[0]),h=Math.round(n[1]);let f=this.pixelContext_;if(!f){const b=document.createElement("canvas");b.width=1,b.height=1,f=b.getContext("2d"),this.pixelContext_=f}f.clearRect(0,0,1,1);let v;try{f.drawImage(s.canvas,c,h,1,1,0,0,1,1),v=f.getImageData(0,0,1,1).data}catch(b){return b.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):v}return v[3]===0?null:v}disposeInternal(){delete this.frameState,super.disposeInternal()}}const AE=yV;function vV(a,e,t,i,n,s,r,l,c,h,f,v){let b=a[e],T=a[e+1],M=0,I=0,R=0,P=0;function F(){M=b,I=T,e+=i,b=a[e],T=a[e+1],P+=R,R=Math.sqrt((b-M)*(b-M)+(T-I)*(T-I))}do F();while(e<t-i&&P+R<s);let B=R===0?0:(s-P)/R;const W=Mc(M,b,B),Z=Mc(I,T,B),ae=e-i,he=P,_e=s+l*c(h,n,f);for(;e<t-i&&P+R<_e;)F();B=R===0?0:(_e-P)/R;const ie=Mc(M,b,B),me=Mc(I,T,B);let fe;if(v){const Re=[W,Z,ie,me];cE(Re,0,4,2,v,Re,Re),fe=Re[0]>Re[2]}else fe=W>ie;const be=Math.PI,Ae=[],Ye=ae+i===e;e=ae,R=0,P=he,b=a[e],T=a[e+1];let Xe;if(Ye){F(),Xe=Math.atan2(T-I,b-M),fe&&(Xe+=Xe>0?-be:be);const Re=(ie+W)/2,Oe=(me+Z)/2;return Ae[0]=[Re,Oe,(_e-s)/2,Xe,n],Ae}n=n.replace(/\n/g," ");for(let Re=0,Oe=n.length;Re<Oe;){F();let Qe=Math.atan2(T-I,b-M);if(fe&&(Qe+=Qe>0?-be:be),Xe!==void 0){let ba=Qe-Xe;if(ba+=ba>be?-2*be:ba<-be?2*be:0,Math.abs(ba)>r)return null}Xe=Qe;const yt=Re;let Je=0;for(;Re<Oe;++Re){const ba=fe?Oe-Re-1:Re,ea=l*c(h,n[ba],f);if(e+i<t&&P+R<s+Je+ea/2)break;Je+=ea}if(Re===yt)continue;const Xt=fe?n.substring(Oe-yt,Oe-Re):n.substring(yt,Re);B=R===0?0:(s+Je/2-P)/R;const We=Mc(M,b,B),la=Mc(I,T,B);Ae.push([We,la,Je/2,Qe,Xt]),s+=Je}return Ae}const hp=Vo(),Sd=[],gc=[],yc=[],Td=[];function c6(a){return a[3].declutterBox}const bV=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function d6(a,e){return(e==="start"||e==="end")&&!bV.test(a)&&(e=e==="start"?"left":"right"),My[e]}function xV(a,e,t){return t>0&&a.push(`
`,""),a.push(e,""),a}class wV{constructor(e,t,i,n){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=Go(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,i,n){const s=e+t+i+n;if(this.labels_[s])return this.labels_[s];const r=n?this.strokeStates[n]:null,l=i?this.fillStates[i]:null,c=this.textStates[t],h=this.pixelRatio,f=[c.scale[0]*h,c.scale[1]*h],v=Array.isArray(e),b=c.justify?My[c.justify]:d6(Array.isArray(e)?e[0]:e,c.textAlign||o0),T=n&&r.lineWidth?r.lineWidth:0,M=v?e:e.split(`
`).reduce(xV,[]),{width:I,height:R,widths:P,heights:F,lineWidths:B}=rq(c,M),W=I+T,Z=[],ae=(W+2)*f[0],he=(R+T)*f[1],_e={width:ae<0?Math.floor(ae):Math.ceil(ae),height:he<0?Math.floor(he):Math.ceil(he),contextInstructions:Z};(f[0]!=1||f[1]!=1)&&Z.push("scale",f),n&&(Z.push("strokeStyle",r.strokeStyle),Z.push("lineWidth",T),Z.push("lineCap",r.lineCap),Z.push("lineJoin",r.lineJoin),Z.push("miterLimit",r.miterLimit),(Tx?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(Z.push("setLineDash",[r.lineDash]),Z.push("lineDashOffset",r.lineDashOffset))),i&&Z.push("fillStyle",l.fillStyle),Z.push("textBaseline","middle"),Z.push("textAlign","center");const ie=.5-b;let me=b*W+ie*T;const fe=[],be=[];let Ae=0,Ye=0,Xe=0,Re=0,Oe;for(let Qe=0,yt=M.length;Qe<yt;Qe+=2){const Je=M[Qe];if(Je===`
`){Ye+=Ae,Ae=0,me=b*W+ie*T,++Re;continue}const Xt=M[Qe+1]||c.font;Xt!==Oe&&(n&&fe.push("font",Xt),i&&be.push("font",Xt),Oe=Xt),Ae=Math.max(Ae,F[Xe]);const We=[Je,me+ie*P[Xe]+b*(P[Xe]-B[Re]),.5*(T+Ae)+Ye];me+=P[Xe],n&&fe.push("strokeText",We),i&&be.push("fillText",We),++Xe}return Array.prototype.push.apply(Z,fe),Array.prototype.push.apply(Z,be),this.labels_[s]=_e,_e}replayTextBackground_(e,t,i,n,s,r,l){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,n),e.lineTo.apply(e,s),e.lineTo.apply(e,t),r&&(this.alignFill_=r[2],this.fill_(e)),l&&(this.setStrokeStyle_(e,l),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,n,s,r,l,c,h,f,v,b,T,M,I,R){l*=b[0],c*=b[1];let P=i-l,F=n-c;const B=s+h>e?e-h:s,W=r+f>t?t-f:r,Z=M[3]+B*b[0]+M[1],ae=M[0]+W*b[1]+M[2],he=P-M[3],_e=F-M[0];(I||v!==0)&&(Sd[0]=he,Td[0]=he,Sd[1]=_e,gc[1]=_e,gc[0]=he+Z,yc[0]=gc[0],yc[1]=_e+ae,Td[1]=yc[1]);let ie;return v!==0?(ie=dl(Go(),i,n,1,1,v,-i,-n),Gn(ie,Sd),Gn(ie,gc),Gn(ie,yc),Gn(ie,Td),ql(Math.min(Sd[0],gc[0],yc[0],Td[0]),Math.min(Sd[1],gc[1],yc[1],Td[1]),Math.max(Sd[0],gc[0],yc[0],Td[0]),Math.max(Sd[1],gc[1],yc[1],Td[1]),hp)):ql(Math.min(he,he+Z),Math.min(_e,_e+ae),Math.max(he,he+Z),Math.max(_e,_e+ae),hp),T&&(P=Math.round(P),F=Math.round(F)),{drawImageX:P,drawImageY:F,drawImageW:B,drawImageH:W,originX:h,originY:f,declutterBox:{minX:hp[0],minY:hp[1],maxX:hp[2],maxY:hp[3],value:R},canvasTransform:ie,scale:b}}replayImageOrLabel_(e,t,i,n,s,r,l){const c=!!(r||l),h=n.declutterBox,f=e.canvas,v=l?l[2]*n.scale[0]/2:0;return h.minX-v<=f.width/t&&h.maxX+v>=0&&h.minY-v<=f.height/t&&h.maxY+v>=0&&(c&&this.replayTextBackground_(e,Sd,gc,yc,Td,r,l),sq(e,n.canvasTransform,s,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0}fill_(e){if(this.alignFill_){const t=Gn(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(t[0]%i,t[1]%i),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,i,n){const s=this.textStates[t],r=this.createLabel(e,t,n,i),l=this.strokeStates[i],c=this.pixelRatio,h=d6(Array.isArray(e)?e[0]:e,s.textAlign||o0),f=My[s.textBaseline||Jb],v=l&&l.lineWidth?l.lineWidth:0,b=r.width/c-2*s.scale[0],T=h*b+2*(.5-h)*v,M=f*r.height/c+2*(.5-f)*v;return{label:r,anchorX:T,anchorY:M}}execute_(e,t,i,n,s,r,l,c){let h;this.pixelCoordinates_&&Th(i,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=ih(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),kG(this.renderedTransform_,i));let f=0;const v=n.length;let b=0,T,M,I,R,P,F,B,W,Z,ae,he,_e,ie=0,me=0,fe=null,be=null;const Ae=this.coordinateCache_,Ye=this.viewRotation_,Xe=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,Re={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Ye},Oe=this.instructions!=n||this.overlaps?0:200;let Qe,yt,Je,Xt;for(;f<v;){const We=n[f];switch(We[0]){case Na.BEGIN_GEOMETRY:Qe=We[1],Xt=We[3],Qe.getGeometry()?l!==void 0&&!Ir(l,Xt.getExtent())?f=We[2]+1:++f:f=We[2];break;case Na.BEGIN_PATH:ie>Oe&&(this.fill_(e),ie=0),me>Oe&&(e.stroke(),me=0),!ie&&!me&&(e.beginPath(),R=NaN,P=NaN),++f;break;case Na.CIRCLE:b=We[1];const ba=h[b],ea=h[b+1],wn=h[b+2],ca=h[b+3],hi=wn-ba,ka=ca-ea,Zi=Math.sqrt(hi*hi+ka*ka);e.moveTo(ba+Zi,ea),e.arc(ba,ea,Zi,0,2*Math.PI,!0),++f;break;case Na.CLOSE_PATH:e.closePath(),++f;break;case Na.CUSTOM:b=We[1],T=We[2];const er=We[3],un=We[4],pe=We.length==6?We[5]:void 0;Re.geometry=er,Re.feature=Qe,f in Ae||(Ae[f]=[]);const Le=Ae[f];pe?pe(h,b,T,2,Le):(Le[0]=h[b],Le[1]=h[b+1],Le.length=2),un(Le,Re),++f;break;case Na.DRAW_IMAGE:b=We[1],T=We[2],W=We[3],M=We[4],I=We[5];let qe=We[6];const it=We[7],ut=We[8],ot=We[9],Et=We[10];let _t=We[11];const vt=We[12];let st=We[13];const Nt=We[14],xt=We[15];if(!W&&We.length>=20){Z=We[19],ae=We[20],he=We[21],_e=We[22];const ja=this.drawLabelWithPointPlacement_(Z,ae,he,_e);W=ja.label,We[3]=W;const G=We[23];M=(ja.anchorX-G)*this.pixelRatio,We[4]=M;const j=We[24];I=(ja.anchorY-j)*this.pixelRatio,We[5]=I,qe=W.height,We[6]=qe,st=W.width,We[13]=st}let Wt;We.length>25&&(Wt=We[25]);let Zt,xa,Fa;We.length>17?(Zt=We[16],xa=We[17],Fa=We[18]):(Zt=I_,xa=!1,Fa=!1),Et&&Xe?_t+=Ye:!Et&&!Xe&&(_t-=Ye);let Ga=0;for(;b<T;b+=2){if(Wt&&Wt[Ga++]<st/this.pixelRatio)continue;const ja=this.calculateImageOrLabelDimensions_(W.width,W.height,h[b],h[b+1],st,qe,M,I,ut,ot,_t,vt,s,Zt,xa||Fa,Qe),G=[e,t,W,ja,it,xa?fe:null,Fa?be:null];if(c){if(Nt==="none")continue;if(Nt==="obstacle"){c.insert(ja.declutterBox);continue}else{let j,X;if(xt){const ee=T-b;if(!xt[ee]){xt[ee]=G;continue}if(j=xt[ee],delete xt[ee],X=c6(j),c.collides(X))continue}if(c.collides(ja.declutterBox))continue;j&&(c.insert(X),this.replayImageOrLabel_.apply(this,j)),c.insert(ja.declutterBox)}}this.replayImageOrLabel_.apply(this,G)}++f;break;case Na.DRAW_CHARS:const Xi=We[1],ii=We[2],fn=We[3],cn=We[4];_e=We[5];const cr=We[6],dr=We[7],Ti=We[8];he=We[9];const Yi=We[10];Z=We[11],ae=We[12];const ds=[We[13],We[13]],Js=this.textStates[ae],Kr=Js.font,Sn=[Js.scale[0]*dr,Js.scale[1]*dr];let Er;Kr in this.widths_?Er=this.widths_[Kr]:(Er={},this.widths_[Kr]=Er);const So=vI(h,Xi,ii,2),Ki=Math.abs(Sn[0])*qL(Kr,Z,Er);if(cn||Ki<=So){const ja=this.textStates[ae].textAlign,G=(So-Ki)*My[ja],j=vV(h,Xi,ii,2,Z,G,cr,Math.abs(Sn[0]),qL,Kr,Er,Xe?0:this.viewRotation_);e:if(j){const X=[];let ee,oe,Ee,Se,Y;if(he)for(ee=0,oe=j.length;ee<oe;++ee){Y=j[ee],Ee=Y[4],Se=this.createLabel(Ee,ae,"",he),M=Y[2]+(Sn[0]<0?-Yi:Yi),I=fn*Se.height+(.5-fn)*2*Yi*Sn[1]/Sn[0]-Ti;const ue=this.calculateImageOrLabelDimensions_(Se.width,Se.height,Y[0],Y[1],Se.width,Se.height,M,I,0,0,Y[3],ds,!1,I_,!1,Qe);if(c&&c.collides(ue.declutterBox))break e;X.push([e,t,Se,ue,1,null,null])}if(_e)for(ee=0,oe=j.length;ee<oe;++ee){Y=j[ee],Ee=Y[4],Se=this.createLabel(Ee,ae,_e,""),M=Y[2],I=fn*Se.height-Ti;const ue=this.calculateImageOrLabelDimensions_(Se.width,Se.height,Y[0],Y[1],Se.width,Se.height,M,I,0,0,Y[3],ds,!1,I_,!1,Qe);if(c&&c.collides(ue.declutterBox))break e;X.push([e,t,Se,ue,1,null,null])}c&&c.load(X.map(c6));for(let ue=0,Ie=X.length;ue<Ie;++ue)this.replayImageOrLabel_.apply(this,X[ue])}}++f;break;case Na.END_GEOMETRY:if(r!==void 0){Qe=We[1];const ja=r(Qe,Xt);if(ja)return ja}++f;break;case Na.FILL:Oe?ie++:this.fill_(e),++f;break;case Na.MOVE_TO_LINE_TO:for(b=We[1],T=We[2],yt=h[b],Je=h[b+1],F=yt+.5|0,B=Je+.5|0,(F!==R||B!==P)&&(e.moveTo(yt,Je),R=F,P=B),b+=2;b<T;b+=2)yt=h[b],Je=h[b+1],F=yt+.5|0,B=Je+.5|0,(b==T-2||F!==R||B!==P)&&(e.lineTo(yt,Je),R=F,P=B);++f;break;case Na.SET_FILL_STYLE:fe=We,this.alignFill_=We[2],ie&&(this.fill_(e),ie=0,me&&(e.stroke(),me=0)),e.fillStyle=We[1],++f;break;case Na.SET_STROKE_STYLE:be=We,me&&(e.stroke(),me=0),this.setStrokeStyle_(e,We),++f;break;case Na.STROKE:Oe?me++:e.stroke(),++f;break;default:++f;break}}ie&&this.fill_(e),me&&e.stroke()}execute(e,t,i,n,s,r){this.viewRotation_=n,this.execute_(e,t,i,this.instructions,s,void 0,void 0,r)}executeHitDetection(e,t,i,n,s){return this.viewRotation_=i,this.execute_(e,1,t,this.hitDetectionInstructions,!0,n,s)}}const SV=wV,bS=["Polygon","Circle","LineString","Image","Text","Default"];class TV{constructor(e,t,i,n,s,r){this.maxExtent_=e,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=r,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Go(),this.createExecutors_(s)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e){for(const t in e){let i=this.executorsByZIndex_[t];i===void 0&&(i={},this.executorsByZIndex_[t]=i);const n=e[t];for(const s in n){const r=n[s];i[s]=new SV(this.resolution_,this.pixelRatio_,this.overlaps_,r)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let n=0,s=e.length;n<s;++n)if(e[n]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,n,s,r){n=Math.round(n);const l=n*2+1,c=dl(this.hitDetectionTransform_,n+.5,n+.5,1/t,-1/t,-i,-e[0],-e[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=vo(l,l));const f=this.hitDetectionContext_;f.canvas.width!==l||f.canvas.height!==l?(f.canvas.width=l,f.canvas.height=l):h||f.clearRect(0,0,l,l);let v;this.renderBuffer_!==void 0&&(v=Vo(),Ey(v,e),dh(v,t*(this.renderBuffer_+n),v));const b=EV(n);let T;function M(Z,ae){const he=f.getImageData(0,0,l,l).data;for(let _e=0,ie=b.length;_e<ie;_e++)if(he[b[_e]]>0){if(!r||T!=="Image"&&T!=="Text"||r.indexOf(Z)!==-1){const me=(b[_e]-3)/4,fe=n-me%l,be=n-(me/l|0),Ae=s(Z,ae,fe*fe+be*be);if(Ae)return Ae}f.clearRect(0,0,l,l);break}}const I=Object.keys(this.executorsByZIndex_).map(Number);I.sort(H_);let R,P,F,B,W;for(R=I.length-1;R>=0;--R){const Z=I[R].toString();for(F=this.executorsByZIndex_[Z],P=bS.length-1;P>=0;--P)if(T=bS[P],B=F[T],B!==void 0&&(W=B.executeHitDetection(f,c,i,M,v),W))return W}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],n=t[1],s=t[2],r=t[3],l=[i,n,i,r,s,r,s,n];return ih(l,0,8,2,e,l),l}isEmpty(){return of(this.executorsByZIndex_)}execute(e,t,i,n,s,r,l){const c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(H_),this.maxExtent_&&(e.save(),this.clip(e,i));const h=r||bS;let f,v,b,T,M,I;for(l&&c.reverse(),f=0,v=c.length;f<v;++f){const R=c[f].toString();for(M=this.executorsByZIndex_[R],b=0,T=h.length;b<T;++b){const P=h[b];I=M[P],I!==void 0&&I.execute(e,t,i,n,s,l)}}this.maxExtent_&&e.restore()}}const xS={};function EV(a){if(xS[a]!==void 0)return xS[a];const e=a*2+1,t=a*a,i=new Array(t+1);for(let s=0;s<=a;++s)for(let r=0;r<=a;++r){const l=s*s+r*r;if(l>t)break;let c=i[l];c||(c=[],i[l]=c),c.push(((a+s)*e+(a+r))*4+3),s>0&&c.push(((a-s)*e+(a+r))*4+3),r>0&&(c.push(((a+s)*e+(a-r))*4+3),s>0&&c.push(((a-s)*e+(a-r))*4+3))}const n=[];for(let s=0,r=i.length;s<r;++s)i[s]&&n.push(...i[s]);return xS[a]=n,n}const l2=TV;class MV extends TI{constructor(e,t,i,n,s,r,l){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=n,this.viewRotation_=s,this.squaredTolerance_=r,this.userTransform_=l,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Go()}drawImages_(e,t,i,n){if(!this.image_)return;const s=ih(e,t,i,n,this.transform_,this.pixelCoordinates_),r=this.context_,l=this.tmpLocalTransform_,c=r.globalAlpha;this.imageOpacity_!=1&&(r.globalAlpha=c*this.imageOpacity_);let h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(let f=0,v=s.length;f<v;f+=2){const b=s[f]-this.imageAnchorX_,T=s[f+1]-this.imageAnchorY_;if(h!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const M=b+this.imageAnchorX_,I=T+this.imageAnchorY_;dl(l,M,I,1,1,h,-M,-I),r.setTransform.apply(r,l),r.translate(M,I),r.scale(this.imageScale_[0],this.imageScale_[1]),r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),r.setTransform(1,0,0,1,0,0)}else r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,b,T,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(r.globalAlpha=c)}drawText_(e,t,i,n){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=ih(e,t,i,n,this.transform_,this.pixelCoordinates_),r=this.context_;let l=this.textRotation_;for(this.textRotateWithView_&&(l+=this.viewRotation_);t<i;t+=n){const c=s[t]+this.textOffsetX_,h=s[t+1]+this.textOffsetY_;if(l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){const f=dl(this.tmpLocalTransform_,c,h,1,1,l,-c,-h);r.setTransform.apply(r,f),r.translate(c,h),r.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&r.strokeText(this.text_,0,0),this.textFillState_&&r.fillText(this.text_,0,0),r.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&r.strokeText(this.text_,c,h),this.textFillState_&&r.fillText(this.text_,c,h)}}moveToLineTo_(e,t,i,n,s){const r=this.context_,l=ih(e,t,i,n,this.transform_,this.pixelCoordinates_);r.moveTo(l[0],l[1]);let c=l.length;s&&(c-=2);for(let h=2;h<c;h+=2)r.lineTo(l[h],l[h+1]);return s&&r.closePath(),i}drawRings_(e,t,i,n){for(let s=0,r=i.length;s<r;++s)t=this.moveToLineTo_(e,t,i[s],n,!0);return t}drawCircle(e){if(Ir(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=Oq(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],n=t[3]-t[1],s=Math.sqrt(i*i+n*n),r=this.context_;r.beginPath(),r.arc(t[0],t[1],s,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);!i||!Ir(this.extent_,i.getExtent())||(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,n=t.length;i<n;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ir(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(Ir(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,n=e.getFlatCoordinates();let s=0;const r=e.getEnds(),l=e.getStride();i.beginPath();for(let c=0,h=r.length;c<h;++c)s=this.moveToLineTo_(n,s,r[c],l,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ir(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ir(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let n=0;const s=e.getEndss(),r=e.getStride();t.beginPath();for(let l=0,c=s.length;l<c;++l){const h=s[l];n=this.drawRings_(i,n,h,r)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),t.setLineDash&&(Th(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset)),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,n=e.textAlign?e.textAlign:o0;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=n&&(i.textAlign=n,t.textAlign=n),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=n,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:n,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:Lu(i||Wc)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),n=t.getLineCap(),s=t.getLineDash(),r=t.getLineDashOffset(),l=t.getLineJoin(),c=t.getWidth(),h=t.getMiterLimit(),f=s||i0;this.strokeState_={lineCap:n!==void 0?n:Qb,lineDash:this.pixelRatio_===1?f:f.map(v=>v*this.pixelRatio_),lineDashOffset:(r||n0)*this.pixelRatio_,lineJoin:l!==void 0?l:hf,lineWidth:(c!==void 0?c:l0)*this.pixelRatio_,miterLimit:h!==void 0?h:r0,strokeStyle:Lu(i||s0)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getAnchor(),n=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=t[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=t[0]*this.pixelRatio_}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const T=t.getColor();this.textFillState_={fillStyle:Lu(T||Wc)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const T=i.getColor(),M=i.getLineCap(),I=i.getLineDash(),R=i.getLineDashOffset(),P=i.getLineJoin(),F=i.getWidth(),B=i.getMiterLimit();this.textStrokeState_={lineCap:M!==void 0?M:Qb,lineDash:I||i0,lineDashOffset:R||n0,lineJoin:P!==void 0?P:hf,lineWidth:F!==void 0?F:l0,miterLimit:B!==void 0?B:r0,strokeStyle:Lu(T||s0)}}const n=e.getFont(),s=e.getOffsetX(),r=e.getOffsetY(),l=e.getRotateWithView(),c=e.getRotation(),h=e.getScaleArray(),f=e.getText(),v=e.getTextAlign(),b=e.getTextBaseline();this.textState_={font:n!==void 0?n:V7,textAlign:v!==void 0?v:o0,textBaseline:b!==void 0?b:Jb},this.text_=f!==void 0?Array.isArray(f)?f.reduce((T,M,I)=>T+=I%2?" ":M,""):f:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=r!==void 0?this.pixelRatio_*r:0,this.textRotateWithView_=l!==void 0?l:!1,this.textRotation_=c!==void 0?c:0,this.textScale_=[this.pixelRatio_*h[0],this.pixelRatio_*h[1]]}}}const MI=MV,Vs={FRACTION:"fraction",PIXELS:"pixels"},Cr={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};class LV extends Cf{constructor(e,t,i,n){super(),this.extent=e,this.pixelRatio_=i,this.resolution=t,this.state=n}changed(){this.dispatchEvent(Da.CHANGE)}getExtent(){return this.extent}getImage(){return _a()}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){_a()}}const LI=LV;class AV extends LI{constructor(e,t,i,n,s,r){super(e,t,i,Ja.IDLE),this.src_=n,this.image_=new Image,s!==null&&(this.image_.crossOrigin=s),this.unlisten_=null,this.state=Ja.IDLE,this.imageLoadFunction_=r}getImage(){return this.image_}handleImageError_(){this.state=Ja.ERROR,this.unlistenImage_(),this.changed()}handleImageLoad_(){this.resolution===void 0&&(this.resolution=wr(this.extent)/this.image_.height),this.state=Ja.LOADED,this.unlistenImage_(),this.changed()}load(){(this.state==Ja.IDLE||this.state==Ja.ERROR)&&(this.state=Ja.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=CE(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}setImage(e){this.image_=e,this.resolution=wr(this.extent)/this.image_.height}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function CE(a,e,t){const i=a;let n=!0,s=!1,r=!1;const l=[Xb(i,Da.LOAD,function(){r=!0,s||e()})];return i.src&&OG?(s=!0,i.decode().then(function(){n&&e()}).catch(function(c){n&&(r?e():t())})):l.push(Xb(i,Da.ERROR,t)),function(){n=!1,l.forEach(rn)}}const CV=AV;let Hg=null;class IV extends Cf{constructor(e,t,i,n,s,r){super(),this.hitDetectionImage_=null,this.image_=e||new Image,n!==null&&(this.image_.crossOrigin=n),this.canvas_={},this.color_=r,this.unlisten_=null,this.imageState_=s,this.size_=i,this.src_=t,this.tainted_}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Ja.LOADED){Hg||(Hg=vo(1,1)),Hg.drawImage(this.image_,0,0);try{Hg.getImageData(0,0,1,1),this.tainted_=!1}catch{Hg=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Da.CHANGE)}handleImageError_(){this.imageState_=Ja.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Ja.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=vo(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_==Ja.IDLE){this.imageState_=Ja.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=CE(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Ja.LOADED)return;const t=document.createElement("canvas");this.canvas_[e]=t,t.width=Math.ceil(this.image_.width*e),t.height=Math.ceil(this.image_.height*e);const i=t.getContext("2d");if(i.scale(e,e),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=W7(this.color_),i.fillRect(0,0,t.width/e,t.height/e),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{const n=i.getImageData(0,0,t.width,t.height),s=n.data,r=this.color_[0]/255,l=this.color_[1]/255,c=this.color_[2]/255,h=this.color_[3];for(let f=0,v=s.length;f<v;f+=4)s[f]*=r,s[f+1]*=l,s[f+2]*=c,s[f+3]*=h;i.putImageData(n,0,0)}}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function RV(a,e,t,i,n,s){let r=Zb.get(e,i,s);return r||(r=new IV(a,e,t,i,n,s),Zb.set(e,i,s,r)),r}class Ul extends wI{constructor(e){const t=e||{},i=t.opacity!==void 0?t.opacity:1,n=t.rotation!==void 0?t.rotation:0,s=t.scale!==void 0?t.scale:1,r=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:i,rotation:n,scale:s,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:r,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:Cr.TOP_LEFT,this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:Vs.FRACTION,this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:Vs.FRACTION,this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const l=t.img!==void 0?t.img:null;this.imgSize_=t.imgSize;let c=t.src;Ka(!(c!==void 0&&l),4),Ka(!l||l&&this.imgSize_,5),(c===void 0||c.length===0)&&l&&(c=l.src||na(l)),Ka(c!==void 0&&c.length>0,6);const h=t.src!==void 0?Ja.IDLE:Ja.LOADED;this.color_=t.color!==void 0?Iu(t.color):null,this.iconImage_=RV(l,c,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,h,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:Cr.TOP_LEFT,this.origin_=null,this.size_=t.size!==void 0?t.size:null}clone(){const e=this.getScale();return new Ul({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(e)?e.slice():e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if(this.anchorXUnits_==Vs.FRACTION||this.anchorYUnits_==Vs.FRACTION){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_==Vs.FRACTION&&(e[0]*=i[0]),this.anchorYUnits_==Vs.FRACTION&&(e[1]*=i[1])}if(this.anchorOrigin_!=Cr.TOP_LEFT){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_==Cr.TOP_RIGHT||this.anchorOrigin_==Cr.BOTTOM_RIGHT)&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_==Cr.BOTTOM_LEFT||this.anchorOrigin_==Cr.BOTTOM_RIGHT)&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const t=this.getDisplacement();return[e[0]-t[0],e[1]+t[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!=Cr.TOP_LEFT){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_==Cr.TOP_RIGHT||this.offsetOrigin_==Cr.BOTTOM_RIGHT)&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_==Cr.BOTTOM_LEFT||this.offsetOrigin_==Cr.BOTTOM_RIGHT)&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}listenImageChange(e){this.iconImage_.addEventListener(Da.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Da.CHANGE,e)}}const OV="#333";class Of{constructor(e){const t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=ls(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Yr({color:OV}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:EI.POINT,this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}clone(){const e=this.getScale();return new Of({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=ls(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const Wo=.5;function AI(a,e,t,i,n,s,r){const l=a[0]*Wo,c=a[1]*Wo,h=vo(l,c);h.imageSmoothingEnabled=!1;const f=h.canvas,v=new MI(h,Wo,n,null,r),b=t.length,T=Math.floor((256*256*256-1)/b),M={};for(let R=1;R<=b;++R){const P=t[R-1],F=P.getStyleFunction()||i;if(!i)continue;let B=F(P,s);if(!B)continue;Array.isArray(B)||(B=[B]);const Z="#"+("000000"+(R*T).toString(16)).slice(-6);for(let ae=0,he=B.length;ae<he;++ae){const _e=B[ae],ie=_e.getGeometryFunction()(P);if(!ie||!Ir(n,ie.getExtent()))continue;const me=_e.clone(),fe=me.getFill();fe&&fe.setColor(Z);const be=me.getStroke();be&&(be.setColor(Z),be.setLineDash(null)),me.setText(void 0);const Ae=_e.getImage();if(Ae&&Ae.getOpacity()!==0){const Re=Ae.getImageSize();if(!Re)continue;const Oe=vo(Re[0],Re[1],void 0,{alpha:!1}),Qe=Oe.canvas;Oe.fillStyle=Z,Oe.fillRect(0,0,Qe.width,Qe.height),me.setImage(new Ul({img:Qe,imgSize:Re,anchor:Ae.getAnchor(),anchorXUnits:Vs.PIXELS,anchorYUnits:Vs.PIXELS,offset:Ae.getOrigin(),opacity:1,size:Ae.getSize(),scale:Ae.getScale(),rotation:Ae.getRotation(),rotateWithView:Ae.getRotateWithView()}))}const Ye=me.getZIndex()||0;let Xe=M[Ye];Xe||(Xe={},M[Ye]=Xe,Xe.Polygon=[],Xe.Circle=[],Xe.LineString=[],Xe.Point=[]),Xe[ie.getType().replace("Multi","")].push(ie,me)}}const I=Object.keys(M).map(Number).sort(H_);for(let R=0,P=I.length;R<P;++R){const F=M[I[R]];for(const B in F){const W=F[B];for(let Z=0,ae=W.length;Z<ae;Z+=2){v.setStyle(W[Z+1]);for(let he=0,_e=e.length;he<_e;++he)v.setTransform(e[he]),v.drawGeometry(W[Z])}}}return h.getImageData(0,0,f.width,f.height)}function CI(a,e,t){const i=[];if(t){const n=Math.floor(Math.round(a[0])*Wo),s=Math.floor(Math.round(a[1])*Wo),r=(Jn(n,0,t.width-1)+Jn(s,0,t.height-1)*t.width)*4,l=t.data[r],c=t.data[r+1],f=t.data[r+2]+256*(c+256*l),v=Math.floor((256*256*256-1)/e.length);f&&f%v===0&&i.push(e[f/v-1])}return i}const kV=.5,II={Point:GV,LineString:WV,Polygon:UV,MultiPoint:qV,MultiLineString:zV,MultiPolygon:BV,GeometryCollection:NV,Circle:DV};function PV(a,e){return parseInt(na(a),10)-parseInt(na(e),10)}function RI(a,e){const t=dT(a,e);return t*t}function dT(a,e){return kV*a/e}function DV(a,e,t,i,n){const s=t.getFill(),r=t.getStroke();if(s||r){const c=a.getBuilder(t.getZIndex(),"Circle");c.setFillStrokeStyle(s,r),c.drawCircle(e,i)}const l=t.getText();if(l&&l.getText()){const c=(n||a).getBuilder(t.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,i)}}function u2(a,e,t,i,n,s,r){let l=!1;const c=t.getImage();if(c){const h=c.getImageState();h==Ja.LOADED||h==Ja.ERROR?c.unlistenImageChange(n):(h==Ja.IDLE&&c.load(),c.listenImageChange(n),l=!0)}return FV(a,e,t,i,s,r),l}function FV(a,e,t,i,n,s){const r=t.getGeometryFunction()(e);if(!r)return;const l=r.simplifyTransformed(i,n);if(t.getRenderer())OI(a,l,t,e);else{const h=II[l.getType()];h(a,l,t,e,s)}}function OI(a,e,t,i){if(e.getType()=="GeometryCollection"){const s=e.getGeometries();for(let r=0,l=s.length;r<l;++r)OI(a,s[r],t,i);return}a.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer())}function NV(a,e,t,i,n){const s=e.getGeometriesArray();let r,l;for(r=0,l=s.length;r<l;++r){const c=II[s[r].getType()];c(a,s[r],t,i,n)}}function WV(a,e,t,i,n){const s=t.getStroke();if(s){const l=a.getBuilder(t.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawLineString(e,i)}const r=t.getText();if(r&&r.getText()){const l=(n||a).getBuilder(t.getZIndex(),"Text");l.setTextStyle(r),l.drawText(e,i)}}function zV(a,e,t,i,n){const s=t.getStroke();if(s){const l=a.getBuilder(t.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawMultiLineString(e,i)}const r=t.getText();if(r&&r.getText()){const l=(n||a).getBuilder(t.getZIndex(),"Text");l.setTextStyle(r),l.drawText(e,i)}}function BV(a,e,t,i,n){const s=t.getFill(),r=t.getStroke();if(r||s){const c=a.getBuilder(t.getZIndex(),"Polygon");c.setFillStrokeStyle(s,r),c.drawMultiPolygon(e,i)}const l=t.getText();if(l&&l.getText()){const c=(n||a).getBuilder(t.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,i)}}function GV(a,e,t,i,n){const s=t.getImage(),r=t.getText();let l;if(s){if(s.getImageState()!=Ja.LOADED)return;let c=a;if(n){const f=s.getDeclutterMode();if(f!=="none")if(c=n,f==="obstacle"){const v=a.getBuilder(t.getZIndex(),"Image");v.setImageStyle(s,l),v.drawPoint(e,i)}else r&&r.getText()&&(l={})}const h=c.getBuilder(t.getZIndex(),"Image");h.setImageStyle(s,l),h.drawPoint(e,i)}if(r&&r.getText()){let c=a;n&&(c=n);const h=c.getBuilder(t.getZIndex(),"Text");h.setTextStyle(r,l),h.drawText(e,i)}}function qV(a,e,t,i,n){const s=t.getImage(),r=t.getText();let l;if(s){if(s.getImageState()!=Ja.LOADED)return;let c=a;if(n){const f=s.getDeclutterMode();if(f!=="none")if(c=n,f==="obstacle"){const v=a.getBuilder(t.getZIndex(),"Image");v.setImageStyle(s,l),v.drawMultiPoint(e,i)}else r&&r.getText()&&(l={})}const h=c.getBuilder(t.getZIndex(),"Image");h.setImageStyle(s,l),h.drawMultiPoint(e,i)}if(r&&r.getText()){let c=a;n&&(c=n);const h=c.getBuilder(t.getZIndex(),"Text");h.setTextStyle(r,l),h.drawText(e,i)}}function UV(a,e,t,i,n){const s=t.getFill(),r=t.getStroke();if(s||r){const c=a.getBuilder(t.getZIndex(),"Polygon");c.setFillStrokeStyle(s,r),c.drawPolygon(e,i)}const l=t.getText();if(l&&l.getText()){const c=(n||a).getBuilder(t.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,i)}}class VV extends AE{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Vo(),this.wrappedRenderedExtent_=Vo(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,i){const n=t.extent,s=t.viewState,r=s.center,l=s.resolution,c=s.projection,h=s.rotation,f=c.getExtent(),v=this.getLayer().getSource(),b=t.pixelRatio,T=t.viewHints,M=!(T[Pn.ANIMATING]||T[Pn.INTERACTING]),I=this.compositionContext_,R=Math.round(t.size[0]*b),P=Math.round(t.size[1]*b),F=v.getWrapX()&&c.canWrapX(),B=F?Si(f):null,W=F?Math.ceil((n[2]-f[2])/B)+1:1;let Z=F?Math.floor((n[0]-f[0])/B):0;do{const ae=this.getRenderTransform(r,l,h,b,R,P,Z*B);e.execute(I,1,ae,h,M,void 0,i)}while(++Z<W)}setupCompositionContext_(){if(this.opacity_!==1){const e=vo(this.context.canvas.width,this.context.canvas.height,u6);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,q7(this.compositionContext_),u6.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){const i=e.pixelRatio,n=e.layerStatesArray[e.layerIndex];PG(this.pixelTransform,1/i,1/i),Mx(this.inversePixelTransform,this.pixelTransform);const s=iE(this.pixelTransform);this.useContainer(t,s,this.getBackground(e));const r=this.context,l=r.canvas,c=this.replayGroup_,h=this.declutterExecutorGroup;if((!c||c.isEmpty())&&(!h||h.isEmpty()))return null;const f=Math.round(e.size[0]*i),v=Math.round(e.size[1]*i);l.width!=f||l.height!=v?(l.width=f,l.height=v,l.style.transform!==s&&(l.style.transform=s)):this.containerReused||r.clearRect(0,0,f,v),this.preRender(r,e);const b=e.viewState;b.projection,this.opacity_=n.opacity,this.setupCompositionContext_();let T=!1,M=!0;if(n.extent&&this.clipping){const I=Mu(n.extent);M=Ir(I,e.extent),T=M&&!Eu(I,e.extent),T&&this.clipUnrotated(this.compositionContext_,e,I)}return M&&this.renderWorlds(c,e),T&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(r,e),this.renderedRotation_!==b.rotation&&(this.renderedRotation_=b.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise((function(t){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=[this.context.canvas.width,this.context.canvas.height];Gn(this.pixelTransform,i);const n=this.renderedCenter_,s=this.renderedResolution_,r=this.renderedRotation_,l=this.renderedProjection_,c=this.wrappedRenderedExtent_,h=this.getLayer(),f=[],v=i[0]*Wo,b=i[1]*Wo;f.push(this.getRenderTransform(n,s,r,Wo,v,b,0).slice());const T=h.getSource(),M=l.getExtent();if(T.getWrapX()&&l.canWrapX()&&!Eu(M,c)){let I=c[0];const R=Si(M);let P=0,F;for(;I<M[0];)--P,F=R*P,f.push(this.getRenderTransform(n,s,r,Wo,v,b,F).slice()),I+=R;for(P=0,I=c[2];I>M[2];)++P,F=R*P,f.push(this.getRenderTransform(n,s,r,Wo,v,b,F).slice()),I-=R}this.hitDetectionImageData_=AI(i,f,this.renderedFeatures_,h.getStyleFunction(),c,s,r)}t(CI(e,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))}forEachFeatureAtCoordinate(e,t,i,n,s){if(!this.replayGroup_)return;const r=t.viewState.resolution,l=t.viewState.rotation,c=this.getLayer(),h={},f=function(T,M,I){const R=na(T),P=h[R];if(P){if(P!==!0&&I<P.distanceSq){if(I===0)return h[R]=!0,s.splice(s.lastIndexOf(P),1),n(T,c,M);P.geometry=M,P.distanceSq=I}}else{if(I===0)return h[R]=!0,n(T,c,M);s.push(h[R]={feature:T,layer:c,geometry:M,distanceSq:I,callback:n})}};let v;const b=[this.replayGroup_];return this.declutterExecutorGroup&&b.push(this.declutterExecutorGroup),b.some(T=>v=T.forEachFeatureAtCoordinate(e,r,l,i,f,T===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map(M=>M.value):null)),v}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const n=e.viewHints[Pn.ANIMATING],s=e.viewHints[Pn.INTERACTING],r=t.getUpdateWhileAnimating(),l=t.getUpdateWhileInteracting();if(this.ready&&!r&&n||!l&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const c=e.extent,h=e.viewState,f=h.projection,v=h.resolution,b=e.pixelRatio,T=t.getRevision(),M=t.getRenderBuffer();let I=t.getRenderOrder();I===void 0&&(I=PV);const R=h.center.slice(),P=dh(c,M*v),F=P.slice(),B=[P.slice()],W=f.getExtent();if(i.getWrapX()&&f.canWrapX()&&!Eu(W,e.extent)){const Xe=Si(W),Re=Math.max(Si(P)/2,Xe);P[0]=W[0]-Re,P[2]=W[2]+Re,X3(R,f);const Oe=M7(B[0],f);Oe[0]<W[0]&&Oe[2]<W[2]?B.push([Oe[0]+Xe,Oe[1],Oe[2]+Xe,Oe[3]]):Oe[0]>W[0]&&Oe[2]>W[2]&&B.push([Oe[0]-Xe,Oe[1],Oe[2]-Xe,Oe[3]])}if(this.ready&&this.renderedResolution_==v&&this.renderedRevision_==T&&this.renderedRenderOrder_==I&&Eu(this.wrappedRenderedExtent_,P))return Th(this.renderedExtent_,F)||(this.hitDetectionImageData_=null,this.renderedExtent_=F),this.renderedCenter_=R,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const Z=new o2(dT(v,b),P,v,b);let ae;this.getLayer().getDeclutter()&&(ae=new o2(dT(v,b),P,v,b));let he;for(let Xe=0,Re=B.length;Xe<Re;++Xe)i.loadFeatures(B[Xe],v,f);const _e=RI(v,b);let ie=!0;const me=(function(Xe){let Re;const Oe=Xe.getStyleFunction()||t.getStyleFunction();if(Oe&&(Re=Oe(Xe,v)),Re){const Qe=this.renderFeature(Xe,_e,Re,Z,he,ae);ie=ie&&!Qe}}).bind(this),fe=J3(P),be=i.getFeaturesInExtent(fe);I&&be.sort(I);for(let Xe=0,Re=be.length;Xe<Re;++Xe)me(be[Xe]);this.renderedFeatures_=be,this.ready=ie;const Ae=Z.finish(),Ye=new l2(P,v,b,i.getOverlaps(),Ae,t.getRenderBuffer());return ae&&(this.declutterExecutorGroup=new l2(P,v,b,i.getOverlaps(),ae.finish(),t.getRenderBuffer())),this.renderedResolution_=v,this.renderedRevision_=T,this.renderedRenderOrder_=I,this.renderedExtent_=F,this.wrappedRenderedExtent_=P,this.renderedCenter_=R,this.renderedProjection_=f,this.replayGroup_=Ye,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,n,s,r){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,h=i.length;c<h;++c)l=u2(n,e,i[c],t,this.boundHandleStyleImageChange_,s,r)||l;else l=u2(n,e,i,t,this.boundHandleStyleImageChange_,s,r);return l}}const jV=VV;class hl extends SI{constructor(e){super(e)}createRenderer(){return new jV(this)}}class HV{constructor(e){this.rbush_=new xI(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[na(t)]=i}load(e,t){const i=new Array(t.length);for(let n=0,s=t.length;n<s;n++){const r=e[n],l=t[n],c={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:l};i[n]=c,this.items_[na(l)]=c}this.rbush_.load(i)}remove(e){const t=na(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[na(t)],n=[i.minX,i.minY,i.maxX,i.maxY];j_(n,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(n){return n.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let n=0,s=e.length;n<s;n++)if(i=t(e[n]),i)return i;return i}isEmpty(){return of(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return ql(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}const hT=HV;class ZV extends jl{constructor(e){super(),this.projection=Di(e.projection),this.attributions_=h6(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,n){t.viewResolver=i,t.viewRejector=n})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(){return _a()}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=h6(e),this.changed()}setState(e){this.state_=e,this.changed()}}function h6(a){return a?Array.isArray(a)?function(e){return a}:typeof a=="function"?a:function(e){return[a]}:null}const IE=ZV,ko={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function XV(a,e){return[[-1/0,-1/0,1/0,1/0]]}let YV=!1;function KV(a,e,t,i,n,s,r){const l=new XMLHttpRequest;l.open("GET",typeof a=="function"?a(t,i,n):a,!0),e.getType()=="arraybuffer"&&(l.responseType="arraybuffer"),l.withCredentials=YV,l.onload=function(c){if(!l.status||l.status>=200&&l.status<300){const h=e.getType();let f;h=="json"||h=="text"?f=l.responseText:h=="xml"?(f=l.responseXML,f||(f=new DOMParser().parseFromString(l.responseText,"application/xml"))):h=="arraybuffer"&&(f=l.response),f?s(e.readFeatures(f,{extent:t,featureProjection:n}),e.readProjection(f)):r()}else r()},l.onerror=r,l.send()}function _6(a,e){return function(t,i,n,s,r){const l=this;KV(a,e,t,i,n,function(c,h){l.addFeatures(c),s!==void 0&&s(c)},r||Z_)}}class Ed extends Ho{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class ed extends IE{constructor(e){const t=e||{};super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Z_,this.format_=t.format,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(Ka(this.format_,7),this.loader_=_6(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:XV;const i=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=i?new hT:null,this.loadedExtentsRtree_=new hT,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let n,s;Array.isArray(t.features)?s=t.features:t.features&&(n=t.features,s=n.getArray()),!i&&n===void 0&&(n=new Hs(s)),s!==void 0&&this.addFeaturesInternal(s),n!==void 0&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=na(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const n=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Ed(ko.ADDFEATURE,e))}setupChangeEvents_(e,t){this.featureChangeKeys_[e]=[Ma(t,Da.CHANGE,this.handleFeatureChange_,this),Ma(t,X_.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,t){let i=!0;const n=t.getId();return n!==void 0&&(n.toString()in this.idIndex_?i=!1:this.idIndex_[n.toString()]=t),i&&(Ka(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],n=[];for(let s=0,r=e.length;s<r;s++){const l=e[s],c=na(l);this.addToIndex_(c,l)&&i.push(l)}for(let s=0,r=i.length;s<r;s++){const l=i[s],c=na(l);this.setupChangeEvents_(c,l);const h=l.getGeometry();if(h){const f=h.getExtent();t.push(f),n.push(l)}else this.nullGeometryFeatures_[c]=l}if(this.featuresRtree_&&this.featuresRtree_.load(t,n),this.hasListener(ko.ADDFEATURE))for(let s=0,r=i.length;s<r;s++)this.dispatchEvent(new Ed(ko.ADDFEATURE,i[s]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(ko.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(ko.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(vr.ADD,(function(i){t||(t=!0,this.addFeature(i.element),t=!1)}).bind(this)),e.addEventListener(vr.REMOVE,(function(i){t||(t=!0,this.removeFeature(i.element),t=!1)}).bind(this)),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(rn);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=(function(n){this.removeFeatureInternal(n)}).bind(this);this.featuresRtree_.forEach(i);for(const n in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Ed(ko.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(n){if(n.getGeometry().intersectsCoordinate(e))return t(n)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){const s=t(i);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),of(this.nullGeometryFeatures_)||xn(e,b7(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const n=pG(e,t);return[].concat(...n.map(s=>this.featuresRtree_.getInExtent(s)))}else return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],n=e[1];let s=null;const r=[NaN,NaN];let l=1/0;const c=[-1/0,-1/0,1/0,1/0],h=t||Nc;return this.featuresRtree_.forEachInExtent(c,function(f){if(h(f)){const v=f.getGeometry(),b=l;if(l=v.closestPointXY(i,n,r,l),l<b){s=f;const T=Math.sqrt(l);c[0]=i-T,c[1]=n-T,c[2]=i+T,c[3]=n+T}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=na(t),n=t.getGeometry();if(!n)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const r=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(r,t)):this.featuresRtree_&&this.featuresRtree_.update(r,t)}const s=t.getId();if(s!==void 0){const r=s.toString();this.idIndex_[r]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[r]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new Ed(ko.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:na(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&of(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const n=this.loadedExtentsRtree_,s=this.strategy_(e,t,i);for(let r=0,l=s.length;r<l;++r){const c=s[r];n.forEachInExtent(c,function(f){return Eu(f.extent,c)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Ed(ko.FEATURESLOADSTART)),this.loader_.call(this,c,t,i,(function(f){--this.loadingExtentsCount_,this.dispatchEvent(new Ed(ko.FEATURESLOADEND,void 0,f))}).bind(this),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new Ed(ko.FEATURESLOADERROR))}).bind(this)),n.insert(c,{extent:c.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let i;t.forEachInExtent(e,function(n){if(j_(n.extent,e))return i=n,!0}),i&&t.remove(i)}removeFeature(e){if(!e)return;const t=na(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=na(e),i=this.featureChangeKeys_[t];if(!i)return;i.forEach(rn),delete this.featureChangeKeys_[t];const n=e.getId();return n!==void 0&&delete this.idIndex_[n.toString()],delete this.uidIndex_[t],this.dispatchEvent(new Ed(ko.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let t=!1;for(const i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],t=!0;break}return t}setLoader(e){this.loader_=e}setUrl(e){Ka(this.format_,7),this.url_=e,this.setLoader(_6(e,this.format_))}}const ki={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Sv={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class Tv extends Ho{constructor(e,t){super(e),this.feature=t}}class $V extends rm{constructor(e){const t=e;t.stopDown||(t.stopDown=Af),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=JV(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===ki.POLYGON?3:2,this.maxPoints_=this.mode_===ki.CIRCLE?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:Nc,this.geometryLayout_=e.geometryLayout?e.geometryLayout:ti.XY;let i=e.geometryFunction;if(!i){const n=this.mode_;if(n===ki.CIRCLE)i=function(s,r,l){const c=r||new gI([NaN,NaN]),h=lr(s[0]),f=uf(h,lr(s[s.length-1]));return c.setCenterAndRadius(h,Math.sqrt(f),this.geometryLayout_),c};else{let s;n===ki.POINT?s=Xr:n===ki.LINE_STRING?s=cs:n===ki.POLYGON&&(s=Vc),i=function(r,l,c){return l?n===ki.POLYGON?r[0].length?l.setCoordinates([r[0].concat([r[0][0]])],this.geometryLayout_):l.setCoordinates([],this.geometryLayout_):l.setCoordinates(r,this.geometryLayout_):l=new s(r,this.geometryLayout_),l}}}this.geometryFunction_=i,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new hl({source:new ed({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:QV(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:Cx,this.freehandCondition_,e.freehand?this.freehandCondition_=xE:this.freehandCondition_=e.freehandCondition?e.freehandCondition:SE,this.addChangeListener(oT.ACTIVE,this.updateState_)}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===Da.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!==ki.POINT&&this.freehandCondition_(e);let t=e.type===wi.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===wi.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===wi.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===wi.POINTERDOWN?i=!1:t&&this.getPointerCount()<2?(i=e.type===wi.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===wi.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===wi.DBLCLICK&&(i=!1),super.handleEvent(e)&&i}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((function(){this.handlePointerMove_(new Tc(wi.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))}).bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}handleUpEvent(e){let t=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e),this.shouldHandle_){const i=!this.finishCoordinate_;i&&this.startDrawing_(e.coordinate),!i&&this.freehand_?this.finishDrawing():!this.freehand_&&(!i||this.mode_===ki.POINT)&&(this.atFinish_(e.pixel)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing();return!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,i=e.pixel,n=t[0]-i[0],s=t[1]-i[1],r=n*n+s*s;if(this.shouldHandle_=this.freehand_?r>this.squaredClickTolerance_:r<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(e.coordinate):this.createOrUpdateSketchPoint_(e.coordinate.slice())}atFinish_(e){let t=!1;if(this.sketchFeature_){let i=!1,n=[this.finishCoordinate_];const s=this.mode_;if(s===ki.POINT)t=!0;else if(s===ki.CIRCLE)t=this.sketchCoords_.length===2;else if(s===ki.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(s===ki.POLYGON){const r=this.sketchCoords_;i=r[0].length>this.minPoints_,n=[r[0][0],r[0][r[0].length-2]]}if(i){const r=this.getMap();for(let l=0,c=n.length;l<c;l++){const h=n[l],f=r.getPixelFromCoordinate(h),v=e[0]-f[0],b=e[1]-f[1],T=this.freehand_?1:this.snapTolerance_;if(t=Math.sqrt(v*v+b*b)<=T,t){this.finishCoordinate_=h;break}}}}return t}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Rr(new Xr(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new Rr);const t=e.getLinearRing(0);let i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),i.changed()):(i=new cs(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(e){const t=this.getMap().getView().getProjection(),i=a2(this.geometryLayout_);for(;e.length<i;)e.push(0);this.finishCoordinate_=e,this.mode_===ki.POINT?this.sketchCoords_=e.slice():this.mode_===ki.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Rr(new cs(this.sketchLineCoords_)));const n=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new Rr,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new Tv(Sv.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),i=this.sketchFeature_.getGeometry(),n=t.getView().getProjection(),s=a2(this.geometryLayout_);let r,l;for(;e.length<s;)e.push(0);this.mode_===ki.POINT?l=this.sketchCoords_:this.mode_===ki.POLYGON?(r=this.sketchCoords_[0],l=r[r.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(r=this.sketchCoords_,l=r[r.length-1]),l[0]=e[0],l[1]=e[1],this.geometryFunction_(this.sketchCoords_,i,n),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),i.getType()==="Polygon"&&this.mode_!==ki.POLYGON?this.createOrUpdateCustomSketchLine_(i):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();let n,s;const r=this.mode_;r===ki.LINE_STRING||r===ki.CIRCLE?(this.finishCoordinate_=e.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():n=!0),s.push(e.slice()),this.geometryFunction_(s,t,i)):r===ki.POLYGON&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():n=!0),s.push(e.slice()),n&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,t,i)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),n&&this.finishDrawing()}removeLastPoint(){if(!this.sketchFeature_)return;const e=this.sketchFeature_.getGeometry(),t=this.getMap().getView().getProjection();let i;const n=this.mode_;if(n===ki.LINE_STRING||n===ki.CIRCLE){if(i=this.sketchCoords_,i.splice(-2,1),i.length>=2){this.finishCoordinate_=i[i.length-2].slice();const s=this.finishCoordinate_.slice();i[i.length-1]=s,this.createOrUpdateSketchPoint_(s)}this.geometryFunction_(i,e,t),e.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(n===ki.POLYGON){i=this.sketchCoords_[0],i.splice(-2,1);const s=this.sketchLine_.getGeometry();if(i.length>=2){const r=i[i.length-2].slice();i[i.length-1]=r,this.createOrUpdateSketchPoint_(r)}s.setCoordinates(i),this.geometryFunction_(this.sketchCoords_,e,t)}i.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}finishDrawing(){const e=this.abortDrawing_();if(!e)return;let t=this.sketchCoords_;const i=e.getGeometry(),n=this.getMap().getView().getProjection();this.mode_===ki.LINE_STRING?(t.pop(),this.geometryFunction_(t,i,n)):this.mode_===ki.POLYGON&&(t[0].pop(),this.geometryFunction_(t,i,n),t=i.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new Y_([t])):this.type_==="MultiLineString"?e.setGeometry(new sm([t])):this.type_==="MultiPolygon"&&e.setGeometry(new Rx([t])),this.dispatchEvent(new Tv(Sv.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new Tv(Sv.DRAWABORT,e))}appendCoordinates(e){const t=this.mode_,i=!this.sketchFeature_;i&&this.startDrawing_(e[0]);let n;if(t===ki.LINE_STRING||t===ki.CIRCLE)n=this.sketchCoords_;else if(t===ki.POLYGON)n=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;i&&n.shift(),n.pop();for(let r=0;r<e.length;r++)this.addToDrawing_(e[r]);const s=e[e.length-1];this.addToDrawing_(s),this.modifyDrawing_(s)}extend(e){const i=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=i.getCoordinates();const n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new Rr(new Xr(n)),this.updateSketchFeatures_(),this.dispatchEvent(new Tv(Sv.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();(!e||!t)&&this.abortDrawing(),this.overlay_.setMap(t?e:null)}}function QV(){const a=LE();return function(e,t){return a[e.getGeometry().getType()]}}function JV(a){switch(a){case"Point":case"MultiPoint":return ki.POINT;case"LineString":case"MultiLineString":return ki.LINE_STRING;case"Polygon":case"MultiPolygon":return ki.POLYGON;case"Circle":return ki.CIRCLE;default:throw new Error("Invalid type: "+a)}}const ej=$V,m6=0,Ly=1,p6=[0,0,0,0],Xp=[],wS={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class SS extends Ho{constructor(e,t,i){super(e),this.features=t,this.mapBrowserEvent=i}}class tj extends rm{constructor(e){super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:fI,this.defaultDeleteCondition_=function(i){return bU(i)&&wE(i)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:xE,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new hT,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new hl({source:new ed({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:ij(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null;let t;if(e.features?t=e.features:e.source&&(this.source_=e.source,t=new Hs(this.source_.getFeatures()),this.source_.addEventListener(ko.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(ko.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!t)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=t,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(vr.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(vr.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}addFeature_(e){const t=e.getGeometry();if(t){const n=this.SEGMENT_WRITERS_[t.getType()];n&&n(e,t)}const i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),e.addEventListener(Da.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Hs;const i=this.featuresBeingModified_.getArray();for(let n=0,s=t.length;n<s;++n){const r=t[n];for(let l=0,c=r.length;l<c;++l){const h=r[l].feature;h&&i.indexOf(h)===-1&&this.featuresBeingModified_.push(h)}}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new SS(wS.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(Da.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){const t=this.rBush_,i=[];t.forEach(function(n){e===n.feature&&i.push(n)});for(let n=i.length-1;n>=0;--n){const s=i[n];for(let r=this.dragSegments_.length-1;r>=0;--r)this.dragSegments_[r][0]===s&&this.dragSegments_.splice(r,1);t.remove(s)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){const t=e.target;this.removeFeature_(t),this.addFeature_(t)}}handleFeatureRemove_(e){const t=e.element;this.removeFeature_(t)}writePointGeometry_(e,t){const i=t.getCoordinates(),n={feature:e,geometry:t,segment:[i,i]};this.rBush_.insert(t.getExtent(),n)}writeMultiPointGeometry_(e,t){const i=t.getCoordinates();for(let n=0,s=i.length;n<s;++n){const r=i[n],l={feature:e,geometry:t,depth:[n],index:n,segment:[r,r]};this.rBush_.insert(t.getExtent(),l)}}writeLineStringGeometry_(e,t){const i=t.getCoordinates();for(let n=0,s=i.length-1;n<s;++n){const r=i.slice(n,n+2),l={feature:e,geometry:t,index:n,segment:r};this.rBush_.insert(Do(r),l)}}writeMultiLineStringGeometry_(e,t){const i=t.getCoordinates();for(let n=0,s=i.length;n<s;++n){const r=i[n];for(let l=0,c=r.length-1;l<c;++l){const h=r.slice(l,l+2),f={feature:e,geometry:t,depth:[n],index:l,segment:h};this.rBush_.insert(Do(h),f)}}}writePolygonGeometry_(e,t){const i=t.getCoordinates();for(let n=0,s=i.length;n<s;++n){const r=i[n];for(let l=0,c=r.length-1;l<c;++l){const h=r.slice(l,l+2),f={feature:e,geometry:t,depth:[n],index:l,segment:h};this.rBush_.insert(Do(h),f)}}}writeMultiPolygonGeometry_(e,t){const i=t.getCoordinates();for(let n=0,s=i.length;n<s;++n){const r=i[n];for(let l=0,c=r.length;l<c;++l){const h=r[l];for(let f=0,v=h.length-1;f<v;++f){const b=h.slice(f,f+2),T={feature:e,geometry:t,depth:[l,n],index:f,segment:b};this.rBush_.insert(Do(b),T)}}}}writeCircleGeometry_(e,t){const i=t.getCenter(),n={feature:e,geometry:t,index:m6,segment:[i,i]},s={feature:e,geometry:t,index:Ly,segment:[i,i]},r=[n,s];n.featureSegments=r,s.featureSegments=r,this.rBush_.insert(lb(i),n);let l=t;this.rBush_.insert(l.getExtent(),s)}writeGeometryCollectionGeometry_(e,t){const i=t.getGeometriesArray();for(let n=0;n<i.length;++n){const s=i[n],r=this.SEGMENT_WRITERS_[s.getType()];r(e,s)}}createOrUpdateVertexFeature_(e,t,i){let n=this.vertexFeature_;return n?n.getGeometry().setCoordinates(e):(n=new Rr(new Xr(e)),this.vertexFeature_=n,this.overlay_.getSource().addFeature(n)),n.set("features",t),n.set("geometries",i),n}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let t;return!e.map.getView().getInteracting()&&e.type==wi.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=wi.SINGLECLICK||!this.ignoreNextSingleClick_?t=this.removePoint():t=!0),e.type==wi.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!t}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);const t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],i=[],n=[];for(let s=0,r=this.dragSegments_.length;s<r;++s){const l=this.dragSegments_[s],c=l[0],h=c.feature;i.indexOf(h)===-1&&i.push(h);const f=c.geometry;n.indexOf(f)===-1&&n.push(f);const v=c.depth;let b;const T=c.segment,M=l[1];for(;t.length<f.getStride();)t.push(T[M][t.length]);switch(f.getType()){case"Point":b=t,T[0]=t,T[1]=t;break;case"MultiPoint":b=f.getCoordinates(),b[c.index]=t,T[0]=t,T[1]=t;break;case"LineString":b=f.getCoordinates(),b[c.index+M]=t,T[M]=t;break;case"MultiLineString":b=f.getCoordinates(),b[v[0]][c.index+M]=t,T[M]=t;break;case"Polygon":b=f.getCoordinates(),b[v[0]][c.index+M]=t,T[M]=t;break;case"MultiPolygon":b=f.getCoordinates(),b[v[1]][v[0]][c.index+M]=t,T[M]=t;break;case"Circle":if(T[0]=t,T[1]=t,c.index===m6)this.changingFeature_=!0,f.setCenter(t),this.changingFeature_=!1;else{this.changingFeature_=!0,e.map.getView().getProjection();let I=RL(lr(f.getCenter()),lr(t));f.setRadius(I),this.changingFeature_=!1}break}b&&this.setGeometryCoordinates_(f,b)}this.createOrUpdateVertexFeature_(t,i,n)}handleDownEvent(e){if(!this.condition_(e))return!1;const t=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,t),this.dragSegments_.length=0,this.featuresBeingModified_=null;const i=this.vertexFeature_;if(i){e.map.getView().getProjection();const n=[],s=i.getGeometry().getCoordinates(),r=Do([s]),l=this.rBush_.getInExtent(r),c={};l.sort(aj);for(let h=0,f=l.length;h<f;++h){const v=l[h],b=v.segment;let T=na(v.geometry);const M=v.depth;if(M&&(T+="-"+M.join("-")),c[T]||(c[T]=new Array(2)),v.geometry.getType()==="Circle"&&v.index===Ly){const I=g6(t,v);Al(I,s)&&!c[T][0]&&(this.dragSegments_.push([v,0]),c[T][0]=v);continue}if(Al(b[0],s)&&!c[T][0]){this.dragSegments_.push([v,0]),c[T][0]=v;continue}if(Al(b[1],s)&&!c[T][1]){if(c[T][0]&&c[T][0].index===0){let I=v.geometry.getCoordinates();switch(v.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":I=I[M[1]];case"Polygon":if(v.index!==I[M[0]].length-2)continue;break}}this.dragSegments_.push([v,1]),c[T][1]=v;continue}na(b)in this.vertexSegments_&&!c[T][0]&&!c[T][1]&&this.insertVertexCondition_(e)&&n.push(v)}n.length&&this.willModifyFeatures_(e,[n]);for(let h=n.length-1;h>=0;--h)this.insertVertex_(n[h],s)}return!!this.vertexFeature_}handleUpEvent(e){for(let t=this.dragSegments_.length-1;t>=0;--t){const i=this.dragSegments_[t][0],n=i.geometry;if(n.getType()==="Circle"){const s=n.getCenter(),r=i.featureSegments[0],l=i.featureSegments[1];r.segment[0]=s,r.segment[1]=s,l.segment[0]=s,l.segment[1]=s,this.rBush_.update(lb(s),r);let c=n;this.rBush_.update(c.getExtent(),l)}else this.rBush_.update(Do(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new SS(wS.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)}handlePointerAtPixel_(e,t,i){const n=i||t.getCoordinateFromPixel(e);t.getView().getProjection();const s=function(c,h){return f6(n,c)-f6(n,h)};let r,l;if(this.hitDetection_){const c=typeof this.hitDetection_=="object"?h=>h===this.hitDetection_:void 0;t.forEachFeatureAtPixel(e,(h,f,v)=>{if(v=v||h.getGeometry(),v.getType()==="Point"&&ss(this.features_.getArray(),h)){l=v;const b=v.getFlatCoordinates().slice(0,2);r=[{feature:h,geometry:v,segment:[b,b]}]}return!0},{layerFilter:c})}if(!r){const c=Mu(lb(n,p6)),h=t.getView().getResolution()*this.pixelTolerance_,f=J3(dh(c,h,p6));r=this.rBush_.getInExtent(f)}if(r&&r.length>0){const c=r.sort(s)[0],h=c.segment;let f=g6(n,c);const v=t.getPixelFromCoordinate(f);let b=RL(e,v);if(l||b<=this.pixelTolerance_){const T={};if(T[na(h)]=!0,this.snapToPointer_||(this.delta_[0]=f[0]-n[0],this.delta_[1]=f[1]-n[1]),c.geometry.getType()==="Circle"&&c.index===Ly)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(f,[c.feature],[c.geometry]);else{const M=t.getPixelFromCoordinate(h[0]),I=t.getPixelFromCoordinate(h[1]),R=uf(v,M),P=uf(v,I);b=Math.sqrt(Math.min(R,P)),this.snappedToVertex_=b<=this.pixelTolerance_,this.snappedToVertex_&&(f=R>P?h[1]:h[0]),this.createOrUpdateVertexFeature_(f,[c.feature],[c.geometry]);const F={};F[na(c.geometry)]=!0;for(let B=1,W=r.length;B<W;++B){const Z=r[B].segment;if(Al(h[0],Z[0])&&Al(h[1],Z[1])||Al(h[0],Z[1])&&Al(h[1],Z[0])){const ae=na(r[B].geometry);ae in F||(F[ae]=!0,T[na(Z)]=!0)}else break}}this.vertexSegments_=T;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,t){const i=e.segment,n=e.feature,s=e.geometry,r=e.depth,l=e.index;let c;for(;t.length<s.getStride();)t.push(0);switch(s.getType()){case"MultiLineString":c=s.getCoordinates(),c[r[0]].splice(l+1,0,t);break;case"Polygon":c=s.getCoordinates(),c[r[0]].splice(l+1,0,t);break;case"MultiPolygon":c=s.getCoordinates(),c[r[1]][r[0]].splice(l+1,0,t);break;case"LineString":c=s.getCoordinates(),c.splice(l+1,0,t);break;default:return}this.setGeometryCoordinates_(s,c);const h=this.rBush_;h.remove(e),this.updateSegmentIndices_(s,l,r,1);const f={segment:[i[0],t],feature:n,geometry:s,depth:r,index:l};h.insert(Do(f.segment),f),this.dragSegments_.push([f,1]);const v={segment:[t,i[1]],feature:n,geometry:s,depth:r,index:l+1};h.insert(Do(v.segment),v),this.dragSegments_.push([v,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=wi.POINTERDRAG){const e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);const t=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new SS(wS.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,t}return!1}removeVertex_(){const e=this.dragSegments_,t={};let i=!1,n,s,r,l,c,h,f,v,b,T,M;for(c=e.length-1;c>=0;--c)r=e[c],T=r[0],M=na(T.feature),T.depth&&(M+="-"+T.depth.join("-")),M in t||(t[M]={}),r[1]===0?(t[M].right=T,t[M].index=T.index):r[1]==1&&(t[M].left=T,t[M].index=T.index+1);for(M in t){switch(b=t[M].right,f=t[M].left,h=t[M].index,v=h-1,f!==void 0?T=f:T=b,v<0&&(v=0),l=T.geometry,s=l.getCoordinates(),n=s,i=!1,l.getType()){case"MultiLineString":s[T.depth[0]].length>2&&(s[T.depth[0]].splice(h,1),i=!0);break;case"LineString":s.length>2&&(s.splice(h,1),i=!0);break;case"MultiPolygon":n=n[T.depth[1]];case"Polygon":n=n[T.depth[0]],n.length>4&&(h==n.length-1&&(h=0),n.splice(h,1),i=!0,h===0&&(n.pop(),n.push(n[0]),v=n.length-1));break}if(i){this.setGeometryCoordinates_(l,s);const I=[];if(f!==void 0&&(this.rBush_.remove(f),I.push(f.segment[0])),b!==void 0&&(this.rBush_.remove(b),I.push(b.segment[1])),f!==void 0&&b!==void 0){const R={depth:T.depth,feature:T.feature,geometry:T.geometry,index:v,segment:I};this.rBush_.insert(Do(R.segment),R)}this.updateSegmentIndices_(l,h,T.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return i}setGeometryCoordinates_(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1}updateSegmentIndices_(e,t,i,n){this.rBush_.forEachInExtent(e.getExtent(),function(s){s.geometry===e&&(i===void 0||s.depth===void 0||Th(s.depth,i))&&s.index>t&&(s.index+=n)})}}function aj(a,e){return a.index-e.index}function f6(a,e,t){const i=e.geometry;if(i.getType()==="Circle"){let s=i;if(e.index===Ly){const r=uf(s.getCenter(),lr(a)),l=Math.sqrt(r)-s.getRadius();return l*l}}const n=lr(a);return Xp[0]=lr(e.segment[0]),Xp[1]=lr(e.segment[1]),yG(n,Xp)}function g6(a,e,t){const i=e.geometry;if(i.getType()==="Circle"&&e.index===Ly)return a0(i.getClosestPoint(lr(a)));const n=lr(a);return Xp[0]=lr(e.segment[0]),Xp[1]=lr(e.segment[1]),a0(A7(n,Xp))}function ij(){const a=LE();return function(e,t){return a.Point}}const nj=tj,rj={SELECT:"select"};class sj extends Ho{constructor(e,t,i,n){super(e),this.selected=t,this.deselected=i,this.mapBrowserEvent=n}}const Ev={};class RE extends Rf{constructor(e){super(),this.on,this.once,this.un;const t=e||{};this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=t.condition?t.condition:wE,this.addCondition_=t.addCondition?t.addCondition:i6,this.removeCondition_=t.removeCondition?t.removeCondition:i6,this.toggleCondition_=t.toggleCondition?t.toggleCondition:SE,this.multi_=t.multi?t.multi:!1,this.filter_=t.filter?t.filter:Nc,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.style_=t.style!==void 0?t.style:oj(),this.features_=t.features||new Hs;let i;if(t.layers)if(typeof t.layers=="function")i=t.layers;else{const n=t.layers;i=function(s){return ss(n,s)}}else i=Nc;this.layerFilter_=i,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[na(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[na(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(vr.ADD,this.boundAddFeature_),this.features_.addEventListener(vr.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(vr.ADD,this.boundAddFeature_),this.features_.removeEventListener(vr.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const i=this.getMap().getAllLayers().find(function(n){if(n instanceof hl&&n.getSource()&&n.getSource().hasFeature(t))return n});i&&this.addFeatureLayerAssociation_(t,i)}}removeFeature_(e){const t=e.element;this.style_&&this.restorePreviousStyle_(t)}getStyle(){return this.style_}applySelectedStyle_(e){const t=na(e);t in Ev||(Ev[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let n=t.length-1;n>=0;--n){const s=t[n];if(s!==this&&s instanceof RE&&s.getStyle()&&s.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(s.getStyle());return}}const i=na(e);e.setStyle(Ev[i]),delete Ev[i]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[na(e)]}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),i=this.removeCondition_(e),n=this.toggleCondition_(e),s=!t&&!i&&!n,r=e.map,l=this.getFeatures(),c=[],h=[];if(s){Lf(this.featureLayerAssociation_),r.forEachFeatureAtPixel(e.pixel,(function(f,v){if(this.filter_(f,v))return this.addFeatureLayerAssociation_(f,v),h.push(f),!this.multi_}).bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let f=l.getLength()-1;f>=0;--f){const v=l.item(f),b=h.indexOf(v);b>-1?h.splice(b,1):(l.remove(v),c.push(v))}h.length!==0&&l.extend(h)}else{r.forEachFeatureAtPixel(e.pixel,(function(f,v){if(this.filter_(f,v))return(t||n)&&!ss(l.getArray(),f)?(this.addFeatureLayerAssociation_(f,v),h.push(f)):(i||n)&&ss(l.getArray(),f)&&(c.push(f),this.removeFeatureLayerAssociation_(f)),!this.multi_}).bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let f=c.length-1;f>=0;--f)l.remove(c[f]);l.extend(h)}return(h.length>0||c.length>0)&&this.dispatchEvent(new sj(rj.SELECT,h,c,e)),!0}}function oj(){const a=LE();return xn(a.Polygon,a.LineString),xn(a.GeometryCollection,a.LineString),function(e){return e.getGeometry()?a[e.getGeometry().getType()]:null}}const lj=RE;function uj(a){const e=a||{},t=new Hs,i=new WU(-.005,.05,100);return(e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0)&&t.push(new uT),(e.doubleClickZoom!==void 0?e.doubleClickZoom:!0)&&t.push(new yU({delta:e.zoomDelta,duration:e.zoomDuration})),(e.dragPan!==void 0?e.dragPan:!0)&&t.push(new EU({onFocusOnly:e.onFocusOnly,kinetic:i})),(e.pinchRotate!==void 0?e.pinchRotate:!0)&&t.push(new qU),(e.pinchZoom!==void 0?e.pinchZoom:!0)&&t.push(new VU({duration:e.zoomDuration})),(e.keyboard!==void 0?e.keyboard:!0)&&(t.push(new PU),t.push(new FU({delta:e.zoomDelta,duration:e.zoomDuration}))),(e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0)&&t.push(new BU({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(e.shiftDragZoom!==void 0?e.shiftDragZoom:!0)&&t.push(new OU({duration:e.zoomDuration})),t}let cj=class extends tU{constructor(e){e=Ci({},e),e.controls||(e.controls=mU()),e.interactions||(e.interactions=uj({onFocusOnly:!0})),super(e)}createRenderer(){return new uq(this)}};var Ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kI(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var PI={exports:{}};(function(a,e){(function(t,i){a.exports=i()})(Ep,function(){var t,i,n;function s(r,l){if(!t)t=l;else if(!i)i=l;else{var c="var sharedChunk = {}; ("+t+")(sharedChunk); ("+i+")(sharedChunk);",h={};t(h),n=l(h),typeof window<"u"&&(n.workerUrl=window.URL.createObjectURL(new Blob([c],{type:"text/javascript"})))}}return s(["exports"],function(r){function l(o,u){return o(u={exports:{}},u.exports),u.exports}var c=h;function h(o,u,d,g){this.cx=3*o,this.bx=3*(d-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*u,this.by=3*(g-u)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=g,this.p2x=d,this.p2y=g}h.prototype.sampleCurveX=function(o){return((this.ax*o+this.bx)*o+this.cx)*o},h.prototype.sampleCurveY=function(o){return((this.ay*o+this.by)*o+this.cy)*o},h.prototype.sampleCurveDerivativeX=function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},h.prototype.solveCurveX=function(o,u){var d,g,x,w,E;for(u===void 0&&(u=1e-6),x=o,E=0;E<8;E++){if(w=this.sampleCurveX(x)-o,Math.abs(w)<u)return x;var C=this.sampleCurveDerivativeX(x);if(Math.abs(C)<1e-6)break;x-=w/C}if((x=o)<(d=0))return d;if(x>(g=1))return g;for(;d<g;){if(w=this.sampleCurveX(x),Math.abs(w-o)<u)return x;o>w?d=x:g=x,x=.5*(g-d)+d}return x},h.prototype.solve=function(o,u){return this.sampleCurveY(this.solveCurveX(o,u))};var f=v;function v(o,u){this.x=o,this.y=u}v.prototype={clone:function(){return new v(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,u){return this.clone()._rotateAround(o,u)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var u=o.x-this.x,d=o.y-this.y;return u*u+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,u){return Math.atan2(this.x*u-this.y*o,this.x*o+this.y*u)},_matMult:function(o){var u=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=u,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var u=Math.cos(o),d=Math.sin(o),g=d*this.x+u*this.y;return this.x=u*this.x-d*this.y,this.y=g,this},_rotateAround:function(o,u){var d=Math.cos(o),g=Math.sin(o),x=u.y+g*(this.x-u.x)+d*(this.y-u.y);return this.x=u.x+d*(this.x-u.x)-g*(this.y-u.y),this.y=x,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},v.convert=function(o){return o instanceof v?o:Array.isArray(o)?new v(o[0],o[1]):o};var b=typeof self<"u"?self:{},T=Math.pow(2,53)-1;function M(o,u,d,g){var x=new c(o,u,d,g);return function(w){return x.solve(w)}}var I=M(.25,.1,.25,1);function R(o,u,d){return Math.min(d,Math.max(u,o))}function P(o,u,d){var g=d-u,x=((o-u)%g+g)%g+u;return x===u?d:x}function F(o){for(var u=[],d=arguments.length-1;d-- >0;)u[d]=arguments[d+1];for(var g=0,x=u;g<x.length;g+=1){var w=x[g];for(var E in w)o[E]=w[E]}return o}var B=1;function W(){return B++}function Z(){return function o(u){return u?(u^16*Math.random()>>u/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,o)}()}function ae(o){return!!o&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(o)}function he(o,u){o.forEach(function(d){u[d]&&(u[d]=u[d].bind(u))})}function _e(o,u){return o.indexOf(u,o.length-u.length)!==-1}function ie(o,u,d){var g={};for(var x in o)g[x]=u.call(d||this,o[x],x,o);return g}function me(o,u,d){var g={};for(var x in o)u.call(d||this,o[x],x,o)&&(g[x]=o[x]);return g}function fe(o){return Array.isArray(o)?o.map(fe):typeof o=="object"&&o?ie(o,fe):o}var be={};function Ae(o){be[o]||(typeof console<"u"&&console.warn(o),be[o]=!0)}function Ye(o,u,d){return(d.y-o.y)*(u.x-o.x)>(u.y-o.y)*(d.x-o.x)}function Xe(o){for(var u=0,d=0,g=o.length,x=g-1,w=void 0,E=void 0;d<g;x=d++)u+=((E=o[x]).x-(w=o[d]).x)*(w.y+E.y);return u}function Re(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Oe(o){var u={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(g,x,w,E){var C=w||E;return u[x]=!C||C.toLowerCase(),""}),u["max-age"]){var d=parseInt(u["max-age"],10);isNaN(d)?delete u["max-age"]:u["max-age"]=d}return u}var Qe=null;function yt(o){if(Qe==null){var u=o.navigator?o.navigator.userAgent:null;Qe=!!o.safari||!(!u||!(/\b(iPad|iPhone|iPod)\b/.test(u)||u.match("Safari")&&!u.match("Chrome")))}return Qe}function Je(o){try{var u=b[o];return u.setItem("_mapbox_test_",1),u.removeItem("_mapbox_test_"),!0}catch{return!1}}var Xt,We,la,ba,ea=b.performance&&b.performance.now?b.performance.now.bind(b.performance):Date.now.bind(Date),wn=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame,ca=b.cancelAnimationFrame||b.mozCancelAnimationFrame||b.webkitCancelAnimationFrame||b.msCancelAnimationFrame,hi={now:ea,frame:function(o){var u=wn(o);return{cancel:function(){return ca(u)}}},getImageData:function(o,u){u===void 0&&(u=0);var d=b.document.createElement("canvas"),g=d.getContext("2d");if(!g)throw new Error("failed to create canvas 2d context");return d.width=o.width,d.height=o.height,g.drawImage(o,0,0,o.width,o.height),g.getImageData(-u,-u,o.width+2*u,o.height+2*u)},resolveURL:function(o){return Xt||(Xt=b.document.createElement("a")),Xt.href=o,Xt.href},hardwareConcurrency:b.navigator&&b.navigator.hardwareConcurrency||4,get devicePixelRatio(){return b.devicePixelRatio},get prefersReducedMotion(){return!!b.matchMedia&&(We==null&&(We=b.matchMedia("(prefers-reduced-motion: reduce)")),We.matches)}},ka={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Zi={supported:!1,testSupport:function(o){!er&&ba&&(un?pe(o):la=o)}},er=!1,un=!1;function pe(o){var u=o.createTexture();o.bindTexture(o.TEXTURE_2D,u);try{if(o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,ba),o.isContextLost())return;Zi.supported=!0}catch{}o.deleteTexture(u),er=!0}b.document&&((ba=b.document.createElement("img")).onload=function(){la&&pe(la),la=null,un=!0},ba.onerror=function(){er=!0,la=null},ba.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Le="01",qe=function(o,u){this._transformRequestFn=o,this._customAccessToken=u,this._createSkuToken()};function it(o){return o.indexOf("mapbox:")===0}qe.prototype._createSkuToken=function(){var o=function(){for(var u="",d=0;d<10;d++)u+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Le,u].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=o.token,this._skuTokenExpiresAt=o.tokenExpiresAt},qe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},qe.prototype.transformRequest=function(o,u){return this._transformRequestFn&&this._transformRequestFn(o,u)||{url:o}},qe.prototype.normalizeStyleURL=function(o,u){if(!it(o))return o;var d=_t(o);return d.path="/styles/v1"+d.path,this._makeAPIURL(d,this._customAccessToken||u)},qe.prototype.normalizeGlyphsURL=function(o,u){if(!it(o))return o;var d=_t(o);return d.path="/fonts/v1"+d.path,this._makeAPIURL(d,this._customAccessToken||u)},qe.prototype.normalizeSourceURL=function(o,u){if(!it(o))return o;var d=_t(o);return d.path="/v4/"+d.authority+".json",d.params.push("secure"),this._makeAPIURL(d,this._customAccessToken||u)},qe.prototype.normalizeSpriteURL=function(o,u,d,g){var x=_t(o);return it(o)?(x.path="/styles/v1"+x.path+"/sprite"+u+d,this._makeAPIURL(x,this._customAccessToken||g)):(x.path+=""+u+d,vt(x))},qe.prototype.normalizeTileURL=function(o,u){if(this._isSkuTokenExpired()&&this._createSkuToken(),o&&!it(o))return o;var d=_t(o);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,(hi.devicePixelRatio>=2||u===512?"@2x":"")+(Zi.supported?".webp":"$1")),d.path=d.path.replace(/^.+\/v4\//,"/"),d.path="/v4"+d.path;var g=this._customAccessToken||function(x){for(var w=0,E=x;w<E.length;w+=1){var C=E[w].match(/^access_token=(.*)$/);if(C)return C[1]}return null}(d.params)||ka.ACCESS_TOKEN;return ka.REQUIRE_ACCESS_TOKEN&&g&&this._skuToken&&d.params.push("sku="+this._skuToken),this._makeAPIURL(d,g)},qe.prototype.canonicalizeTileURL=function(o,u){var d=_t(o);if(!d.path.match(/(^\/v4\/)/)||!d.path.match(/\.[\w]+$/))return o;var g="mapbox://tiles/";g+=d.path.replace("/v4/","");var x=d.params;return u&&(x=x.filter(function(w){return!w.match(/^access_token=/)})),x.length&&(g+="?"+x.join("&")),g},qe.prototype.canonicalizeTileset=function(o,u){for(var d=!!u&&it(u),g=[],x=0,w=o.tiles||[];x<w.length;x+=1){var E=w[x];ot(E)?g.push(this.canonicalizeTileURL(E,d)):g.push(E)}return g},qe.prototype._makeAPIURL=function(o,u){var d="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",g=_t(ka.API_URL);if(o.protocol=g.protocol,o.authority=g.authority,o.protocol==="http"){var x=o.params.indexOf("secure");x>=0&&o.params.splice(x,1)}if(g.path!=="/"&&(o.path=""+g.path+o.path),!ka.REQUIRE_ACCESS_TOKEN)return vt(o);if(!(u=u||ka.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+d);if(u[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+d);return o.params=o.params.filter(function(w){return w.indexOf("access_token")===-1}),o.params.push("access_token="+u),vt(o)};var ut=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function ot(o){return ut.test(o)}var Et=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function _t(o){var u=o.match(Et);if(!u)throw new Error("Unable to parse URL object");return{protocol:u[1],authority:u[2],path:u[3]||"/",params:u[4]?u[4].split("&"):[]}}function vt(o){var u=o.params.length?"?"+o.params.join("&"):"";return o.protocol+"://"+o.authority+o.path+u}function st(o){if(!o)return null;var u=o.split(".");if(!u||u.length!==3)return null;try{return JSON.parse(decodeURIComponent(b.atob(u[1]).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var Nt=function(o){this.type=o,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Nt.prototype.getStorageKey=function(o){var u,d=st(ka.ACCESS_TOKEN);return u=d&&d.u?b.btoa(encodeURIComponent(d.u).replace(/%([0-9A-F]{2})/g,function(g,x){return String.fromCharCode(+("0x"+x))})):ka.ACCESS_TOKEN||"",o?"mapbox.eventData."+o+":"+u:"mapbox.eventData:"+u},Nt.prototype.fetchEventData=function(){var o=Je("localStorage"),u=this.getStorageKey(),d=this.getStorageKey("uuid");if(o)try{var g=b.localStorage.getItem(u);g&&(this.eventData=JSON.parse(g));var x=b.localStorage.getItem(d);x&&(this.anonId=x)}catch{Ae("Unable to read from LocalStorage")}},Nt.prototype.saveEventData=function(){var o=Je("localStorage"),u=this.getStorageKey(),d=this.getStorageKey("uuid");if(o)try{b.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&b.localStorage.setItem(u,JSON.stringify(this.eventData))}catch{Ae("Unable to write to LocalStorage")}},Nt.prototype.processRequests=function(o){},Nt.prototype.postEvent=function(o,u,d,g){var x=this;if(ka.EVENTS_URL){var w=_t(ka.EVENTS_URL);w.params.push("access_token="+(g||ka.ACCESS_TOKEN||""));var E={event:this.type,created:new Date(o).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.3",skuId:Le,userId:this.anonId},C=u?F(E,u):E,k={url:vt(w),headers:{"Content-Type":"text/plain"},body:JSON.stringify([C])};this.pendingRequest=ja(k,function(D){x.pendingRequest=null,d(D),x.saveEventData(),x.processRequests(g)})}},Nt.prototype.queueRequest=function(o,u){this.queue.push(o),this.processRequests(u)};var xt,Wt,Zt=function(o){function u(){o.call(this,"map.load"),this.success={},this.skuToken=""}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.postMapLoadEvent=function(d,g,x,w){this.skuToken=x;var E=!(!w&&!ka.ACCESS_TOKEN),C=Array.isArray(d)&&d.some(function(k){return it(k)||ot(k)});ka.EVENTS_URL&&E&&C&&this.queueRequest({id:g,timestamp:Date.now()},w)},u.prototype.processRequests=function(d){var g=this;if(!this.pendingRequest&&this.queue.length!==0){var x=this.queue.shift(),w=x.id,E=x.timestamp;w&&this.success[w]||(this.anonId||this.fetchEventData(),ae(this.anonId)||(this.anonId=Z()),this.postEvent(E,{skuToken:this.skuToken},function(C){C||w&&(g.success[w]=!0)},d))}},u}(Nt),xa=new(function(o){function u(d){o.call(this,"appUserTurnstile"),this._customAccessToken=d}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.postTurnstileEvent=function(d,g){ka.EVENTS_URL&&ka.ACCESS_TOKEN&&Array.isArray(d)&&d.some(function(x){return it(x)||ot(x)})&&this.queueRequest(Date.now(),g)},u.prototype.processRequests=function(d){var g=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var x=st(ka.ACCESS_TOKEN),w=x?x.u:ka.ACCESS_TOKEN,E=w!==this.eventData.tokenU;ae(this.anonId)||(this.anonId=Z(),E=!0);var C=this.queue.shift();if(this.eventData.lastSuccess){var k=new Date(this.eventData.lastSuccess),D=new Date(C),z=(C-this.eventData.lastSuccess)/864e5;E=E||z>=1||z<-1||k.getDate()!==D.getDate()}else E=!0;if(!E)return this.processRequests();this.postEvent(C,{"enabled.telemetry":!1},function(q){q||(g.eventData.lastSuccess=C,g.eventData.tokenU=w)},d)}},u}(Nt)),Fa=xa.postTurnstileEvent.bind(xa),Ga=new Zt,Xi=Ga.postMapLoadEvent.bind(Ga),ii=500,fn=50;function cn(){b.caches&&!xt&&(xt=b.caches.open("mapbox-tiles"))}function cr(o){var u=o.indexOf("?");return u<0?o:o.slice(0,u)}var dr,Ti=1/0;function Yi(){return dr==null&&(dr=b.OffscreenCanvas&&new b.OffscreenCanvas(1,1).getContext("2d")&&typeof b.createImageBitmap=="function"),dr}var ds={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ds);var Js=function(o){function u(d,g,x){g===401&&ot(x)&&(d+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),o.call(this,d),this.status=g,this.url=x,this.name=this.constructor.name,this.message=d}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},u}(Error),Kr=Re()?function(){return self.worker&&self.worker.referrer}:function(){return(b.location.protocol==="blob:"?b.parent:b).location.href},Sn,Er,So=function(o,u){if(!(/^file:/.test(d=o.url)||/^file:/.test(Kr())&&!/^\w+:/.test(d))){if(b.fetch&&b.Request&&b.AbortController&&b.Request.prototype.hasOwnProperty("signal"))return function(g,x){var w,E=new b.AbortController,C=new b.Request(g.url,{method:g.method||"GET",body:g.body,credentials:g.credentials,headers:g.headers,referrer:Kr(),signal:E.signal}),k=!1,D=!1,z=(w=C.url).indexOf("sku=")>0&&ot(w);g.type==="json"&&C.headers.set("Accept","application/json");var q=function(K,se,le){if(!D){if(K&&K.message!=="SecurityError"&&Ae(K),se&&le)return H(se);var Te=Date.now();b.fetch(C).then(function(ge){if(ge.ok){var Ce=z?ge.clone():null;return H(ge,Ce,Te)}return x(new Js(ge.statusText,ge.status,g.url))}).catch(function(ge){ge.code!==20&&x(new Error(ge.message))})}},H=function(K,se,le){(g.type==="arrayBuffer"?K.arrayBuffer():g.type==="json"?K.json():K.text()).then(function(Te){D||(se&&le&&function(ge,Ce,Pe){if(cn(),xt){var Fe={status:Ce.status,statusText:Ce.statusText,headers:new b.Headers};Ce.headers.forEach(function(Ke,dt){return Fe.headers.set(dt,Ke)});var ze=Oe(Ce.headers.get("Cache-Control")||"");ze["no-store"]||(ze["max-age"]&&Fe.headers.set("Expires",new Date(Pe+1e3*ze["max-age"]).toUTCString()),new Date(Fe.headers.get("Expires")).getTime()-Pe<42e4||function(Ke,dt){if(Wt===void 0)try{new Response(new ReadableStream),Wt=!0}catch{Wt=!1}Wt?dt(Ke.body):Ke.blob().then(dt)}(Ce,function(Ke){var dt=new b.Response(Ke,Fe);cn(),xt&&xt.then(function(gt){return gt.put(cr(ge.url),dt)}).catch(function(gt){return Ae(gt.message)})}))}}(C,se,le),k=!0,x(null,Te,K.headers.get("Cache-Control"),K.headers.get("Expires")))}).catch(function(Te){D||x(new Error(Te.message))})};return z?function(K,se){if(cn(),!xt)return se(null);var le=cr(K.url);xt.then(function(Te){Te.match(le).then(function(ge){var Ce=function(Pe){if(!Pe)return!1;var Fe=new Date(Pe.headers.get("Expires")||0),ze=Oe(Pe.headers.get("Cache-Control")||"");return Fe>Date.now()&&!ze["no-cache"]}(ge);Te.delete(le),Ce&&Te.put(le,ge.clone()),se(null,ge,Ce)}).catch(se)}).catch(se)}(C,q):q(null,null),{cancel:function(){D=!0,k||E.abort()}}}(o,u);if(Re()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,u,void 0,!0)}var d;return function(g,x){var w=new b.XMLHttpRequest;for(var E in w.open(g.method||"GET",g.url,!0),g.type==="arrayBuffer"&&(w.responseType="arraybuffer"),g.headers)w.setRequestHeader(E,g.headers[E]);return g.type==="json"&&(w.responseType="text",w.setRequestHeader("Accept","application/json")),w.withCredentials=g.credentials==="include",w.onerror=function(){x(new Error(w.statusText))},w.onload=function(){if((w.status>=200&&w.status<300||w.status===0)&&w.response!==null){var C=w.response;if(g.type==="json")try{C=JSON.parse(w.response)}catch(k){return x(k)}x(null,C,w.getResponseHeader("Cache-Control"),w.getResponseHeader("Expires"))}else x(new Js(w.statusText,w.status,g.url))},w.send(g.body),{cancel:function(){return w.abort()}}}(o,u)},Ki=function(o,u){return So(F(o,{type:"arrayBuffer"}),u)},ja=function(o,u){return So(F(o,{method:"POST"}),u)},G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Sn=[],Er=0;var j=function(o,u){if(Zi.supported&&(o.headers||(o.headers={}),o.headers.accept="image/webp,*/*"),Er>=ka.MAX_PARALLEL_IMAGE_REQUESTS){var d={requestParameters:o,callback:u,cancelled:!1,cancel:function(){this.cancelled=!0}};return Sn.push(d),d}Er++;var g=!1,x=function(){if(!g)for(g=!0,Er--;Sn.length&&Er<ka.MAX_PARALLEL_IMAGE_REQUESTS;){var E=Sn.shift();E.cancelled||(E.cancel=j(E.requestParameters,E.callback).cancel)}},w=Ki(o,function(E,C,k,D){x(),E?u(E):C&&(Yi()?function(z,q){var H=new b.Blob([new Uint8Array(z)],{type:"image/png"});b.createImageBitmap(H).then(function(K){q(null,K)}).catch(function(K){q(new Error("Could not load image because of "+K.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(C,u):function(z,q,H,K){var se=new b.Image,le=b.URL;se.onload=function(){q(null,se),le.revokeObjectURL(se.src),se.onload=null,b.requestAnimationFrame(function(){se.src=G})},se.onerror=function(){return q(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Te=new b.Blob([new Uint8Array(z)],{type:"image/png"});se.cacheControl=H,se.expires=K,se.src=z.byteLength?le.createObjectURL(Te):G}(C,u,k,D))});return{cancel:function(){w.cancel(),x()}}};function X(o,u,d){d[o]&&d[o].indexOf(u)!==-1||(d[o]=d[o]||[],d[o].push(u))}function ee(o,u,d){if(d&&d[o]){var g=d[o].indexOf(u);g!==-1&&d[o].splice(g,1)}}var oe=function(o,u){u===void 0&&(u={}),F(this,u),this.type=o},Ee=function(o){function u(d,g){g===void 0&&(g={}),o.call(this,"error",F({error:d},g))}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u}(oe),Se=function(){};Se.prototype.on=function(o,u){return this._listeners=this._listeners||{},X(o,u,this._listeners),this},Se.prototype.off=function(o,u){return ee(o,u,this._listeners),ee(o,u,this._oneTimeListeners),this},Se.prototype.once=function(o,u){return this._oneTimeListeners=this._oneTimeListeners||{},X(o,u,this._oneTimeListeners),this},Se.prototype.fire=function(o,u){typeof o=="string"&&(o=new oe(o,u||{}));var d=o.type;if(this.listens(d)){o.target=this;for(var g=0,x=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];g<x.length;g+=1)x[g].call(this,o);for(var w=0,E=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];w<E.length;w+=1){var C=E[w];ee(d,C,this._oneTimeListeners),C.call(this,o)}var k=this._eventedParent;k&&(F(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),k.fire(o))}else o instanceof Ee&&console.error(o.error);return this},Se.prototype.listens=function(o){return this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o)},Se.prototype.setEventedParent=function(o,u){return this._eventedParent=o,this._eventedParentData=u,this};var Y={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},ue=function(o,u,d,g){this.message=(o?o+": ":"")+d,g&&(this.identifier=g),u!=null&&u.__line__&&(this.line=u.__line__)};function Ie(o){var u=o.value;return u?[new ue(o.key,u,"constants have been deprecated as of v8")]:[]}function et(o){for(var u=[],d=arguments.length-1;d-- >0;)u[d]=arguments[d+1];for(var g=0,x=u;g<x.length;g+=1){var w=x[g];for(var E in w)o[E]=w[E]}return o}function lt(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function Ge(o){if(Array.isArray(o))return o.map(Ge);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){var u={};for(var d in o)u[d]=Ge(o[d]);return u}return lt(o)}var nt=function(o){function u(d,g){o.call(this,g),this.message=g,this.key=d}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u}(Error),Ot=function(o,u){u===void 0&&(u=[]),this.parent=o,this.bindings={};for(var d=0,g=u;d<g.length;d+=1){var x=g[d];this.bindings[x[0]]=x[1]}};Ot.prototype.concat=function(o){return new Ot(this,o)},Ot.prototype.get=function(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(o+" not found in scope.")},Ot.prototype.has=function(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)};var Mt={kind:"null"},Ve={kind:"number"},At={kind:"string"},bt={kind:"boolean"},St={kind:"color"},Ra={kind:"object"},He={kind:"value"},we={kind:"collator"},tt={kind:"formatted"},rt={kind:"resolvedImage"};function Yt(o,u){return{kind:"array",itemType:o,N:u}}function ya(o){if(o.kind==="array"){var u=ya(o.itemType);return typeof o.N=="number"?"array<"+u+", "+o.N+">":o.itemType.kind==="value"?"array":"array<"+u+">"}return o.kind}var vi=[Mt,Ve,At,bt,St,tt,Ra,Yt(He),rt];function Ta(o,u){if(u.kind==="error")return null;if(o.kind==="array"){if(u.kind==="array"&&(u.N===0&&u.itemType.kind==="value"||!Ta(o.itemType,u.itemType))&&(typeof o.N!="number"||o.N===u.N))return null}else{if(o.kind===u.kind)return null;if(o.kind==="value"){for(var d=0,g=vi;d<g.length;d+=1)if(!Ta(g[d],u))return null}}return"Expected "+ya(o)+" but found "+ya(u)+" instead."}function Ii(o,u){return u.some(function(d){return d.kind===o.kind})}function Ea(o,u){return u.some(function(d){return d==="null"?o===null:d==="array"?Array.isArray(o):d==="object"?o&&!Array.isArray(o)&&typeof o=="object":d===typeof o})}var Wa=l(function(o,u){var d={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function g(C){return(C=Math.round(C))<0?0:C>255?255:C}function x(C){return g(C[C.length-1]==="%"?parseFloat(C)/100*255:parseInt(C))}function w(C){return(k=C[C.length-1]==="%"?parseFloat(C)/100:parseFloat(C))<0?0:k>1?1:k;var k}function E(C,k,D){return D<0?D+=1:D>1&&(D-=1),6*D<1?C+(k-C)*D*6:2*D<1?k:3*D<2?C+(k-C)*(2/3-D)*6:C}try{u.parseCSSColor=function(C){var k,D=C.replace(/ /g,"").toLowerCase();if(D in d)return d[D].slice();if(D[0]==="#")return D.length===4?(k=parseInt(D.substr(1),16))>=0&&k<=4095?[(3840&k)>>4|(3840&k)>>8,240&k|(240&k)>>4,15&k|(15&k)<<4,1]:null:D.length===7&&(k=parseInt(D.substr(1),16))>=0&&k<=16777215?[(16711680&k)>>16,(65280&k)>>8,255&k,1]:null;var z=D.indexOf("("),q=D.indexOf(")");if(z!==-1&&q+1===D.length){var H=D.substr(0,z),K=D.substr(z+1,q-(z+1)).split(","),se=1;switch(H){case"rgba":if(K.length!==4)return null;se=w(K.pop());case"rgb":return K.length!==3?null:[x(K[0]),x(K[1]),x(K[2]),se];case"hsla":if(K.length!==4)return null;se=w(K.pop());case"hsl":if(K.length!==3)return null;var le=(parseFloat(K[0])%360+360)%360/360,Te=w(K[1]),ge=w(K[2]),Ce=ge<=.5?ge*(Te+1):ge+Te-ge*Te,Pe=2*ge-Ce;return[g(255*E(Pe,Ce,le+1/3)),g(255*E(Pe,Ce,le)),g(255*E(Pe,Ce,le-1/3)),se];default:return null}}return null}}catch{}}).parseCSSColor,li=function(o,u,d,g){g===void 0&&(g=1),this.r=o,this.g=u,this.b=d,this.a=g};li.parse=function(o){if(o){if(o instanceof li)return o;if(typeof o=="string"){var u=Wa(o);if(u)return new li(u[0]/255*u[3],u[1]/255*u[3],u[2]/255*u[3],u[3])}}},li.prototype.toString=function(){var o=this.toArray(),u=o[1],d=o[2],g=o[3];return"rgba("+Math.round(o[0])+","+Math.round(u)+","+Math.round(d)+","+g+")"},li.prototype.toArray=function(){var o=this.a;return o===0?[0,0,0,0]:[255*this.r/o,255*this.g/o,255*this.b/o,o]},li.black=new li(0,0,0,1),li.white=new li(1,1,1,1),li.transparent=new li(0,0,0,0),li.red=new li(1,0,0,1);var Pr=function(o,u,d){this.sensitivity=o?u?"variant":"case":u?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Pr.prototype.compare=function(o,u){return this.collator.compare(o,u)},Pr.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var kh=function(o,u,d,g,x){this.text=o,this.image=u,this.scale=d,this.fontStack=g,this.textColor=x},tr=function(o){this.sections=o};tr.fromString=function(o){return new tr([new kh(o,null,null,null,null)])},tr.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(o){return o.text.length!==0||o.image&&o.image.name.length!==0})},tr.factory=function(o){return o instanceof tr?o:tr.fromString(o)},tr.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(o){return o.text}).join("")},tr.prototype.serialize=function(){for(var o=["format"],u=0,d=this.sections;u<d.length;u+=1){var g=d[u];if(g.image)o.push(["image",g.image.name]);else{o.push(g.text);var x={};g.fontStack&&(x["text-font"]=["literal",g.fontStack.split(",")]),g.scale&&(x["font-scale"]=g.scale),g.textColor&&(x["text-color"]=["rgba"].concat(g.textColor.toArray())),o.push(x)}}return o};var $r=function(o){this.name=o.name,this.available=o.available};function Uf(o,u,d,g){return typeof o=="number"&&o>=0&&o<=255&&typeof u=="number"&&u>=0&&u<=255&&typeof d=="number"&&d>=0&&d<=255?g===void 0||typeof g=="number"&&g>=0&&g<=1?null:"Invalid rgba value ["+[o,u,d,g].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof g=="number"?[o,u,d,g]:[o,u,d]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Ph(o){if(o===null||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||o instanceof li||o instanceof Pr||o instanceof tr||o instanceof $r)return!0;if(Array.isArray(o)){for(var u=0,d=o;u<d.length;u+=1)if(!Ph(d[u]))return!1;return!0}if(typeof o=="object"){for(var g in o)if(!Ph(o[g]))return!1;return!0}return!1}function Tn(o){if(o===null)return Mt;if(typeof o=="string")return At;if(typeof o=="boolean")return bt;if(typeof o=="number")return Ve;if(o instanceof li)return St;if(o instanceof Pr)return we;if(o instanceof tr)return tt;if(o instanceof $r)return rt;if(Array.isArray(o)){for(var u,d=o.length,g=0,x=o;g<x.length;g+=1){var w=Tn(x[g]);if(u){if(u===w)continue;u=He;break}u=w}return Yt(u||He,d)}return Ra}function Dh(o){var u=typeof o;return o===null?"":u==="string"||u==="number"||u==="boolean"?String(o):o instanceof li||o instanceof tr||o instanceof $r?o.toString():JSON.stringify(o)}$r.prototype.toString=function(){return this.name},$r.fromString=function(o){return o?new $r({name:o,available:!1}):null},$r.prototype.serialize=function(){return["image",this.name]};var Dr=function(o,u){this.type=o,this.value=u};Dr.parse=function(o,u){if(o.length!==2)return u.error("'literal' expression requires exactly one argument, but found "+(o.length-1)+" instead.");if(!Ph(o[1]))return u.error("invalid value");var d=o[1],g=Tn(d),x=u.expectedType;return g.kind!=="array"||g.N!==0||!x||x.kind!=="array"||typeof x.N=="number"&&x.N!==0||(g=x),new Dr(g,d)},Dr.prototype.evaluate=function(){return this.value},Dr.prototype.eachChild=function(){},Dr.prototype.outputDefined=function(){return!0},Dr.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof li?["rgba"].concat(this.value.toArray()):this.value instanceof tr?this.value.serialize():this.value};var ar=function(o){this.name="ExpressionEvaluationError",this.message=o};ar.prototype.toJSON=function(){return this.message};var eo={string:At,number:Ve,boolean:bt,object:Ra},$i=function(o,u){this.type=o,this.args=u};$i.parse=function(o,u){if(o.length<2)return u.error("Expected at least one argument.");var d,g=1,x=o[0];if(x==="array"){var w,E;if(o.length>2){var C=o[1];if(typeof C!="string"||!(C in eo)||C==="object")return u.error('The item type argument of "array" must be one of string, number, boolean',1);w=eo[C],g++}else w=He;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return u.error('The length argument to "array" must be a positive integer literal',2);E=o[2],g++}d=Yt(w,E)}else d=eo[x];for(var k=[];g<o.length;g++){var D=u.parse(o[g],g,He);if(!D)return null;k.push(D)}return new $i(d,k)},$i.prototype.evaluate=function(o){for(var u=0;u<this.args.length;u++){var d=this.args[u].evaluate(o);if(!Ta(this.type,Tn(d)))return d;if(u===this.args.length-1)throw new ar("Expected value to be of type "+ya(this.type)+", but found "+ya(Tn(d))+" instead.")}return null},$i.prototype.eachChild=function(o){this.args.forEach(o)},$i.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},$i.prototype.serialize=function(){var o=this.type,u=[o.kind];if(o.kind==="array"){var d=o.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){u.push(d.kind);var g=o.N;(typeof g=="number"||this.args.length>1)&&u.push(g)}}return u.concat(this.args.map(function(x){return x.serialize()}))};var To=function(o){this.type=tt,this.sections=o};To.parse=function(o,u){if(o.length<2)return u.error("Expected at least one argument.");var d=o[1];if(!Array.isArray(d)&&typeof d=="object")return u.error("First argument must be an image or text section.");for(var g=[],x=!1,w=1;w<=o.length-1;++w){var E=o[w];if(x&&typeof E=="object"&&!Array.isArray(E)){x=!1;var C=null;if(E["font-scale"]&&!(C=u.parse(E["font-scale"],1,Ve)))return null;var k=null;if(E["text-font"]&&!(k=u.parse(E["text-font"],1,Yt(At))))return null;var D=null;if(E["text-color"]&&!(D=u.parse(E["text-color"],1,St)))return null;var z=g[g.length-1];z.scale=C,z.font=k,z.textColor=D}else{var q=u.parse(o[w],1,He);if(!q)return null;var H=q.type.kind;if(H!=="string"&&H!=="value"&&H!=="null"&&H!=="resolvedImage")return u.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,g.push({content:q,scale:null,font:null,textColor:null})}}return new To(g)},To.prototype.evaluate=function(o){return new tr(this.sections.map(function(u){var d=u.content.evaluate(o);return Tn(d)===rt?new kh("",d,null,null,null):new kh(Dh(d),null,u.scale?u.scale.evaluate(o):null,u.font?u.font.evaluate(o).join(","):null,u.textColor?u.textColor.evaluate(o):null)}))},To.prototype.eachChild=function(o){for(var u=0,d=this.sections;u<d.length;u+=1){var g=d[u];o(g.content),g.scale&&o(g.scale),g.font&&o(g.font),g.textColor&&o(g.textColor)}},To.prototype.outputDefined=function(){return!1},To.prototype.serialize=function(){for(var o=["format"],u=0,d=this.sections;u<d.length;u+=1){var g=d[u];o.push(g.content.serialize());var x={};g.scale&&(x["font-scale"]=g.scale.serialize()),g.font&&(x["text-font"]=g.font.serialize()),g.textColor&&(x["text-color"]=g.textColor.serialize()),o.push(x)}return o};var ks=function(o){this.type=rt,this.input=o};ks.parse=function(o,u){if(o.length!==2)return u.error("Expected two arguments.");var d=u.parse(o[1],1,At);return d?new ks(d):u.error("No image name provided.")},ks.prototype.evaluate=function(o){var u=this.input.evaluate(o),d=$r.fromString(u);return d&&o.availableImages&&(d.available=o.availableImages.indexOf(u)>-1),d},ks.prototype.eachChild=function(o){o(this.input)},ks.prototype.outputDefined=function(){return!1},ks.prototype.serialize=function(){return["image",this.input.serialize()]};var K0={"to-boolean":bt,"to-color":St,"to-number":Ve,"to-string":At},to=function(o,u){this.type=o,this.args=u};to.parse=function(o,u){if(o.length<2)return u.error("Expected at least one argument.");var d=o[0];if((d==="to-boolean"||d==="to-string")&&o.length!==2)return u.error("Expected one argument.");for(var g=K0[d],x=[],w=1;w<o.length;w++){var E=u.parse(o[w],w,He);if(!E)return null;x.push(E)}return new to(g,x)},to.prototype.evaluate=function(o){if(this.type.kind==="boolean")return!!this.args[0].evaluate(o);if(this.type.kind==="color"){for(var u,d,g=0,x=this.args;g<x.length;g+=1){if(d=null,(u=x[g].evaluate(o))instanceof li)return u;if(typeof u=="string"){var w=o.parseColor(u);if(w)return w}else if(Array.isArray(u)&&!(d=u.length<3||u.length>4?"Invalid rbga value "+JSON.stringify(u)+": expected an array containing either three or four numeric values.":Uf(u[0],u[1],u[2],u[3])))return new li(u[0]/255,u[1]/255,u[2]/255,u[3])}throw new ar(d||"Could not parse color from value '"+(typeof u=="string"?u:String(JSON.stringify(u)))+"'")}if(this.type.kind==="number"){for(var E=null,C=0,k=this.args;C<k.length;C+=1){if((E=k[C].evaluate(o))===null)return 0;var D=Number(E);if(!isNaN(D))return D}throw new ar("Could not convert "+JSON.stringify(E)+" to number.")}return this.type.kind==="formatted"?tr.fromString(Dh(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?$r.fromString(Dh(this.args[0].evaluate(o))):Dh(this.args[0].evaluate(o))},to.prototype.eachChild=function(o){this.args.forEach(o)},to.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},to.prototype.serialize=function(){if(this.type.kind==="formatted")return new To([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ks(this.args[0]).serialize();var o=["to-"+this.type.kind];return this.eachChild(function(u){o.push(u.serialize())}),o};var $x=["Unknown","Point","LineString","Polygon"],ml=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ml.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ml.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?$x[this.feature.type]:this.feature.type:null},ml.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ml.prototype.canonicalID=function(){return this.canonical},ml.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ml.prototype.parseColor=function(o){var u=this._parseColorCache[o];return u||(u=this._parseColorCache[o]=li.parse(o)),u};var hr=function(o,u,d,g){this.name=o,this.type=u,this._evaluate=d,this.args=g};hr.prototype.evaluate=function(o){return this._evaluate(o,this.args)},hr.prototype.eachChild=function(o){this.args.forEach(o)},hr.prototype.outputDefined=function(){return!1},hr.prototype.serialize=function(){return[this.name].concat(this.args.map(function(o){return o.serialize()}))},hr.parse=function(o,u){var d,g=o[0],x=hr.definitions[g];if(!x)return u.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0);for(var w=Array.isArray(x)?x[0]:x.type,E=Array.isArray(x)?[[x[1],x[2]]]:x.overloads,C=E.filter(function(Qt){var It=Qt[0];return!Array.isArray(It)||It.length===o.length-1}),k=null,D=0,z=C;D<z.length;D+=1){var q=z[D],H=q[0],K=q[1];k=new eu(u.registry,u.path,null,u.scope);for(var se=[],le=!1,Te=1;Te<o.length;Te++){var ge=o[Te],Ce=Array.isArray(H)?H[Te-1]:H.type,Pe=k.parse(ge,1+se.length,Ce);if(!Pe){le=!0;break}se.push(Pe)}if(!le)if(Array.isArray(H)&&H.length!==se.length)k.error("Expected "+H.length+" arguments, but found "+se.length+" instead.");else{for(var Fe=0;Fe<se.length;Fe++){var ze=Array.isArray(H)?H[Fe]:H.type,Ke=se[Fe];k.concat(Fe+1).checkSubtype(ze,Ke.type)}if(k.errors.length===0)return new hr(g,w,K,se)}}if(C.length===1)(d=u.errors).push.apply(d,k.errors);else{for(var dt=(C.length?C:E).map(function(Qt){var It;return It=Qt[0],Array.isArray(It)?"("+It.map(ya).join(", ")+")":"("+ya(It.type)+"...)"}).join(" | "),gt=[],jt=1;jt<o.length;jt++){var Ct=u.parse(o[jt],1+gt.length);if(!Ct)return null;gt.push(ya(Ct.type))}u.error("Expected arguments of type "+dt+", but found ("+gt.join(", ")+") instead.")}return null},hr.register=function(o,u){for(var d in hr.definitions=u,u)o[d]=hr};var Zo=function(o,u,d){this.type=we,this.locale=d,this.caseSensitive=o,this.diacriticSensitive=u};function Fr(o,u){o[0]=Math.min(o[0],u[0]),o[1]=Math.min(o[1],u[1]),o[2]=Math.max(o[2],u[0]),o[3]=Math.max(o[3],u[1])}function Vu(o,u){return!(o[0]<=u[0]||o[2]>=u[2]||o[1]<=u[1]||o[3]>=u[3])}function Qx(o,u){var d=(180+o[0])/360,g=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,x=Math.pow(2,u.z);return[Math.round(d*x*8192),Math.round(g*x*8192)]}function Jx(o,u,d){return u[1]>o[1]!=d[1]>o[1]&&o[0]<(d[0]-u[0])*(o[1]-u[1])/(d[1]-u[1])+u[0]}function Vf(o,u){for(var d,g,x,w,E,C,k,D=!1,z=0,q=u.length;z<q;z++)for(var H=u[z],K=0,se=H.length;K<se-1;K++){if((w=(d=o)[0]-(g=H[K])[0])*(k=d[1]-(x=H[K+1])[1])-(C=d[0]-x[0])*(E=d[1]-g[1])==0&&w*C<=0&&E*k<=0)return!1;Jx(o,H[K],H[K+1])&&(D=!D)}return D}function ew(o,u){for(var d=0;d<u.length;d++)if(Vf(o,u[d]))return!0;return!1}function $0(o,u,d,g){var x=g[0]-d[0],w=g[1]-d[1],E=(o[0]-d[0])*w-x*(o[1]-d[1]),C=(u[0]-d[0])*w-x*(u[1]-d[1]);return E>0&&C<0||E<0&&C>0}function tw(o,u,d){for(var g=0,x=d;g<x.length;g+=1)for(var w=x[g],E=0;E<w.length-1;++E)if((q=[(z=w[E+1])[0]-(D=w[E])[0],z[1]-D[1]])[0]*(H=[(k=u)[0]-(C=o)[0],k[1]-C[1]])[1]-q[1]*H[0]!=0&&$0(C,k,D,z)&&$0(D,z,C,k))return!0;var C,k,D,z,q,H;return!1}function Q0(o,u){for(var d=0;d<o.length;++d)if(!Vf(o[d],u))return!1;for(var g=0;g<o.length-1;++g)if(tw(o[g],o[g+1],u))return!1;return!0}function J0(o,u){for(var d=0;d<u.length;d++)if(Q0(o,u[d]))return!0;return!1}function nd(o,u,d){for(var g=[],x=0;x<o.length;x++){for(var w=[],E=0;E<o[x].length;E++){var C=Qx(o[x][E],d);Fr(u,C),w.push(C)}g.push(w)}return g}function jf(o,u,d){for(var g=[],x=0;x<o.length;x++){var w=nd(o[x],u,d);g.push(w)}return g}function Fh(o,u,d,g){if(o[0]<d[0]||o[0]>d[2]){var x=.5*g,w=o[0]-d[0]>x?-g:d[0]-o[0]>x?g:0;w===0&&(w=o[0]-d[2]>x?-g:d[2]-o[0]>x?g:0),o[0]+=w}Fr(u,o)}function e1(o,u,d,g){for(var x=8192*Math.pow(2,g.z),w=[8192*g.x,8192*g.y],E=[],C=0,k=o;C<k.length;C+=1)for(var D=0,z=k[C];D<z.length;D+=1){var q=z[D],H=[q.x+w[0],q.y+w[1]];Fh(H,u,d,x),E.push(H)}return E}function hm(o,u,d,g){for(var x,w=8192*Math.pow(2,g.z),E=[8192*g.x,8192*g.y],C=[],k=0,D=o;k<D.length;k+=1){for(var z=[],q=0,H=D[k];q<H.length;q+=1){var K=H[q],se=[K.x+E[0],K.y+E[1]];Fr(u,se),z.push(se)}C.push(z)}if(u[2]-u[0]<=w/2){(x=u)[0]=x[1]=1/0,x[2]=x[3]=-1/0;for(var le=0,Te=C;le<Te.length;le+=1)for(var ge=0,Ce=Te[le];ge<Ce.length;ge+=1)Fh(Ce[ge],u,d,w)}return C}Zo.parse=function(o,u){if(o.length!==2)return u.error("Expected one argument.");var d=o[1];if(typeof d!="object"||Array.isArray(d))return u.error("Collator options argument must be an object.");var g=u.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,bt);if(!g)return null;var x=u.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,bt);if(!x)return null;var w=null;return d.locale&&!(w=u.parse(d.locale,1,At))?null:new Zo(g,x,w)},Zo.prototype.evaluate=function(o){return new Pr(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)},Zo.prototype.eachChild=function(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)},Zo.prototype.outputDefined=function(){return!1},Zo.prototype.serialize=function(){var o={};return o["case-sensitive"]=this.caseSensitive.serialize(),o["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(o.locale=this.locale.serialize()),["collator",o]};var ao=function(o,u){this.type=bt,this.geojson=o,this.geometries=u};function $l(o){if(o instanceof hr&&(o.name==="get"&&o.args.length===1||o.name==="feature-state"||o.name==="has"&&o.args.length===1||o.name==="properties"||o.name==="geometry-type"||o.name==="id"||/^filter-/.test(o.name))||o instanceof ao)return!1;var u=!0;return o.eachChild(function(d){u&&!$l(d)&&(u=!1)}),u}function Ql(o){if(o instanceof hr&&o.name==="feature-state")return!1;var u=!0;return o.eachChild(function(d){u&&!Ql(d)&&(u=!1)}),u}function ju(o,u){if(o instanceof hr&&u.indexOf(o.name)>=0)return!1;var d=!0;return o.eachChild(function(g){d&&!ju(g,u)&&(d=!1)}),d}ao.parse=function(o,u){if(o.length!==2)return u.error("'within' expression requires exactly one argument, but found "+(o.length-1)+" instead.");if(Ph(o[1])){var d=o[1];if(d.type==="FeatureCollection")for(var g=0;g<d.features.length;++g){var x=d.features[g].geometry.type;if(x==="Polygon"||x==="MultiPolygon")return new ao(d,d.features[g].geometry)}else if(d.type==="Feature"){var w=d.geometry.type;if(w==="Polygon"||w==="MultiPolygon")return new ao(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new ao(d,d)}return u.error("'within' expression requires valid geojson object that contains polygon geometry type.")},ao.prototype.evaluate=function(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(u,d){var g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],w=u.canonicalID();if(d.type==="Polygon"){var E=nd(d.coordinates,x,w),C=e1(u.geometry(),g,x,w);if(!Vu(g,x))return!1;for(var k=0,D=C;k<D.length;k+=1)if(!Vf(D[k],E))return!1}if(d.type==="MultiPolygon"){var z=jf(d.coordinates,x,w),q=e1(u.geometry(),g,x,w);if(!Vu(g,x))return!1;for(var H=0,K=q;H<K.length;H+=1)if(!ew(K[H],z))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(u,d){var g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],w=u.canonicalID();if(d.type==="Polygon"){var E=nd(d.coordinates,x,w),C=hm(u.geometry(),g,x,w);if(!Vu(g,x))return!1;for(var k=0,D=C;k<D.length;k+=1)if(!Q0(D[k],E))return!1}if(d.type==="MultiPolygon"){var z=jf(d.coordinates,x,w),q=hm(u.geometry(),g,x,w);if(!Vu(g,x))return!1;for(var H=0,K=q;H<K.length;H+=1)if(!J0(K[H],z))return!1}return!0}(o,this.geometries)}return!1},ao.prototype.eachChild=function(){},ao.prototype.outputDefined=function(){return!0},ao.prototype.serialize=function(){return["within",this.geojson]};var Jl=function(o,u){this.type=u.type,this.name=o,this.boundExpression=u};Jl.parse=function(o,u){if(o.length!==2||typeof o[1]!="string")return u.error("'var' expression requires exactly one string literal argument.");var d=o[1];return u.scope.has(d)?new Jl(d,u.scope.get(d)):u.error('Unknown variable "'+d+'". Make sure "'+d+'" has been bound in an enclosing "let" expression before using it.',1)},Jl.prototype.evaluate=function(o){return this.boundExpression.evaluate(o)},Jl.prototype.eachChild=function(){},Jl.prototype.outputDefined=function(){return!1},Jl.prototype.serialize=function(){return["var",this.name]};var eu=function(o,u,d,g,x){u===void 0&&(u=[]),g===void 0&&(g=new Ot),x===void 0&&(x=[]),this.registry=o,this.path=u,this.key=u.map(function(w){return"["+w+"]"}).join(""),this.scope=g,this.errors=x,this.expectedType=d};function _m(o,u){for(var d,g=o.length-1,x=0,w=g,E=0;x<=w;)if((d=o[E=Math.floor((x+w)/2)])<=u){if(E===g||u<o[E+1])return E;x=E+1}else{if(!(d>u))throw new ar("Input is not a number.");w=E-1}return 0}eu.prototype.parse=function(o,u,d,g,x){return x===void 0&&(x={}),u?this.concat(u,d,g)._parse(o,x):this._parse(o,x)},eu.prototype._parse=function(o,u){function d(D,z,q){return q==="assert"?new $i(z,[D]):q==="coerce"?new to(z,[D]):D}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var g=o[0];if(typeof g!="string")return this.error("Expression name must be a string, but found "+typeof g+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var x=this.registry[g];if(x){var w=x.parse(o,this);if(!w)return null;if(this.expectedType){var E=this.expectedType,C=w.type;if(E.kind!=="string"&&E.kind!=="number"&&E.kind!=="boolean"&&E.kind!=="object"&&E.kind!=="array"||C.kind!=="value")if(E.kind!=="color"&&E.kind!=="formatted"&&E.kind!=="resolvedImage"||C.kind!=="value"&&C.kind!=="string"){if(this.checkSubtype(E,C))return null}else w=d(w,E,u.typeAnnotation||"coerce");else w=d(w,E,u.typeAnnotation||"assert")}if(!(w instanceof Dr)&&w.type.kind!=="resolvedImage"&&function D(z){if(z instanceof Jl)return D(z.boundExpression);if(z instanceof hr&&z.name==="error"||z instanceof Zo||z instanceof ao)return!1;var q=z instanceof to||z instanceof $i,H=!0;return z.eachChild(function(K){H=q?H&&D(K):H&&K instanceof Dr}),!!H&&$l(z)&&ju(z,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(w)){var k=new ml;try{w=new Dr(w.type,w.evaluate(k))}catch(D){return this.error(D.message),null}}return w}return this.error('Unknown expression "'+g+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof o+" instead.")},eu.prototype.concat=function(o,u,d){var g=typeof o=="number"?this.path.concat(o):this.path,x=d?this.scope.concat(d):this.scope;return new eu(this.registry,g,u||null,x,this.errors)},eu.prototype.error=function(o){for(var u=[],d=arguments.length-1;d-- >0;)u[d]=arguments[d+1];var g=""+this.key+u.map(function(x){return"["+x+"]"}).join("");this.errors.push(new nt(g,o))},eu.prototype.checkSubtype=function(o,u){var d=Ta(o,u);return d&&this.error(d),d};var hs=function(o,u,d){this.type=o,this.input=u,this.labels=[],this.outputs=[];for(var g=0,x=d;g<x.length;g+=1){var w=x[g],E=w[1];this.labels.push(w[0]),this.outputs.push(E)}};function In(o,u,d){return o*(1-d)+u*d}hs.parse=function(o,u){if(o.length-1<4)return u.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if((o.length-1)%2!=0)return u.error("Expected an even number of arguments.");var d=u.parse(o[1],1,Ve);if(!d)return null;var g=[],x=null;u.expectedType&&u.expectedType.kind!=="value"&&(x=u.expectedType);for(var w=1;w<o.length;w+=2){var E=w===1?-1/0:o[w],C=o[w+1],k=w,D=w+1;if(typeof E!="number")return u.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',k);if(g.length&&g[g.length-1][0]>=E)return u.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',k);var z=u.parse(C,D,x);if(!z)return null;x=x||z.type,g.push([E,z])}return new hs(x,d,g)},hs.prototype.evaluate=function(o){var u=this.labels,d=this.outputs;if(u.length===1)return d[0].evaluate(o);var g=this.input.evaluate(o);if(g<=u[0])return d[0].evaluate(o);var x=u.length;return g>=u[x-1]?d[x-1].evaluate(o):d[_m(u,g)].evaluate(o)},hs.prototype.eachChild=function(o){o(this.input);for(var u=0,d=this.outputs;u<d.length;u+=1)o(d[u])},hs.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})},hs.prototype.serialize=function(){for(var o=["step",this.input.serialize()],u=0;u<this.labels.length;u++)u>0&&o.push(this.labels[u]),o.push(this.outputs[u].serialize());return o};var rd=Object.freeze({__proto__:null,number:In,color:function(o,u,d){return new li(In(o.r,u.r,d),In(o.g,u.g,d),In(o.b,u.b,d),In(o.a,u.a,d))},array:function(o,u,d){return o.map(function(g,x){return In(g,u[x],d)})}}),t1=6/29*3*(6/29),aw=Math.PI/180,iw=180/Math.PI;function Hf(o){return o>.008856451679035631?Math.pow(o,1/3):o/t1+4/29}function Zf(o){return o>6/29?o*o*o:t1*(o-4/29)}function Xf(o){return 255*(o<=.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055)}function Yf(o){return(o/=255)<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function a1(o){var u=Yf(o.r),d=Yf(o.g),g=Yf(o.b),x=Hf((.4124564*u+.3575761*d+.1804375*g)/.95047),w=Hf((.2126729*u+.7151522*d+.072175*g)/1);return{l:116*w-16,a:500*(x-w),b:200*(w-Hf((.0193339*u+.119192*d+.9503041*g)/1.08883)),alpha:o.a}}function i1(o){var u=(o.l+16)/116,d=isNaN(o.a)?u:u+o.a/500,g=isNaN(o.b)?u:u-o.b/200;return u=1*Zf(u),d=.95047*Zf(d),g=1.08883*Zf(g),new li(Xf(3.2404542*d-1.5371385*u-.4985314*g),Xf(-.969266*d+1.8760108*u+.041556*g),Xf(.0556434*d-.2040259*u+1.0572252*g),o.alpha)}function nw(o,u,d){var g=u-o;return o+d*(g>180||g<-180?g-360*Math.round(g/360):g)}var Nh={forward:a1,reverse:i1,interpolate:function(o,u,d){return{l:In(o.l,u.l,d),a:In(o.a,u.a,d),b:In(o.b,u.b,d),alpha:In(o.alpha,u.alpha,d)}}},Wh={forward:function(o){var u=a1(o),d=u.l,g=u.a,x=u.b,w=Math.atan2(x,g)*iw;return{h:w<0?w+360:w,c:Math.sqrt(g*g+x*x),l:d,alpha:o.a}},reverse:function(o){var u=o.h*aw,d=o.c;return i1({l:o.l,a:Math.cos(u)*d,b:Math.sin(u)*d,alpha:o.alpha})},interpolate:function(o,u,d){return{h:nw(o.h,u.h,d),c:In(o.c,u.c,d),l:In(o.l,u.l,d),alpha:In(o.alpha,u.alpha,d)}}},n1=Object.freeze({__proto__:null,lab:Nh,hcl:Wh}),_r=function(o,u,d,g,x){this.type=o,this.operator=u,this.interpolation=d,this.input=g,this.labels=[],this.outputs=[];for(var w=0,E=x;w<E.length;w+=1){var C=E[w],k=C[1];this.labels.push(C[0]),this.outputs.push(k)}};function Kf(o,u,d,g){var x=g-d,w=o-d;return x===0?0:u===1?w/x:(Math.pow(u,w)-1)/(Math.pow(u,x)-1)}_r.interpolationFactor=function(o,u,d,g){var x=0;if(o.name==="exponential")x=Kf(u,o.base,d,g);else if(o.name==="linear")x=Kf(u,1,d,g);else if(o.name==="cubic-bezier"){var w=o.controlPoints;x=new c(w[0],w[1],w[2],w[3]).solve(Kf(u,1,d,g))}return x},_r.parse=function(o,u){var d=o[0],g=o[1],x=o[2],w=o.slice(3);if(!Array.isArray(g)||g.length===0)return u.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){var E=g[1];if(typeof E!="number")return u.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:E}}else{if(g[0]!=="cubic-bezier")return u.error("Unknown interpolation type "+String(g[0]),1,0);var C=g.slice(1);if(C.length!==4||C.some(function(Te){return typeof Te!="number"||Te<0||Te>1}))return u.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:C}}if(o.length-1<4)return u.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if((o.length-1)%2!=0)return u.error("Expected an even number of arguments.");if(!(x=u.parse(x,2,Ve)))return null;var k=[],D=null;d==="interpolate-hcl"||d==="interpolate-lab"?D=St:u.expectedType&&u.expectedType.kind!=="value"&&(D=u.expectedType);for(var z=0;z<w.length;z+=2){var q=w[z],H=w[z+1],K=z+3,se=z+4;if(typeof q!="number")return u.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',K);if(k.length&&k[k.length-1][0]>=q)return u.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',K);var le=u.parse(H,se,D);if(!le)return null;D=D||le.type,k.push([q,le])}return D.kind==="number"||D.kind==="color"||D.kind==="array"&&D.itemType.kind==="number"&&typeof D.N=="number"?new _r(D,d,g,x,k):u.error("Type "+ya(D)+" is not interpolatable.")},_r.prototype.evaluate=function(o){var u=this.labels,d=this.outputs;if(u.length===1)return d[0].evaluate(o);var g=this.input.evaluate(o);if(g<=u[0])return d[0].evaluate(o);var x=u.length;if(g>=u[x-1])return d[x-1].evaluate(o);var w=_m(u,g),E=_r.interpolationFactor(this.interpolation,g,u[w],u[w+1]),C=d[w].evaluate(o),k=d[w+1].evaluate(o);return this.operator==="interpolate"?rd[this.type.kind.toLowerCase()](C,k,E):this.operator==="interpolate-hcl"?Wh.reverse(Wh.interpolate(Wh.forward(C),Wh.forward(k),E)):Nh.reverse(Nh.interpolate(Nh.forward(C),Nh.forward(k),E))},_r.prototype.eachChild=function(o){o(this.input);for(var u=0,d=this.outputs;u<d.length;u+=1)o(d[u])},_r.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})},_r.prototype.serialize=function(){var o;o=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var u=[this.operator,o,this.input.serialize()],d=0;d<this.labels.length;d++)u.push(this.labels[d],this.outputs[d].serialize());return u};var tu=function(o,u){this.type=o,this.args=u};tu.parse=function(o,u){if(o.length<2)return u.error("Expectected at least one argument.");var d=null,g=u.expectedType;g&&g.kind!=="value"&&(d=g);for(var x=[],w=0,E=o.slice(1);w<E.length;w+=1){var C=u.parse(E[w],1+x.length,d,void 0,{typeAnnotation:"omit"});if(!C)return null;d=d||C.type,x.push(C)}var k=g&&x.some(function(D){return Ta(g,D.type)});return new tu(k?He:d,x)},tu.prototype.evaluate=function(o){for(var u,d=null,g=0,x=0,w=this.args;x<w.length&&(g++,(d=w[x].evaluate(o))&&d instanceof $r&&!d.available&&(u||(u=d.name),d=null,g===this.args.length&&(d=u)),d===null);x+=1);return d},tu.prototype.eachChild=function(o){this.args.forEach(o)},tu.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},tu.prototype.serialize=function(){var o=["coalesce"];return this.eachChild(function(u){o.push(u.serialize())}),o};var au=function(o,u){this.type=u.type,this.bindings=[].concat(o),this.result=u};au.prototype.evaluate=function(o){return this.result.evaluate(o)},au.prototype.eachChild=function(o){for(var u=0,d=this.bindings;u<d.length;u+=1)o(d[u][1]);o(this.result)},au.parse=function(o,u){if(o.length<4)return u.error("Expected at least 3 arguments, but found "+(o.length-1)+" instead.");for(var d=[],g=1;g<o.length-1;g+=2){var x=o[g];if(typeof x!="string")return u.error("Expected string, but found "+typeof x+" instead.",g);if(/[^a-zA-Z0-9_]/.test(x))return u.error("Variable names must contain only alphanumeric characters or '_'.",g);var w=u.parse(o[g+1],g+1);if(!w)return null;d.push([x,w])}var E=u.parse(o[o.length-1],o.length-1,u.expectedType,d);return E?new au(d,E):null},au.prototype.outputDefined=function(){return this.result.outputDefined()},au.prototype.serialize=function(){for(var o=["let"],u=0,d=this.bindings;u<d.length;u+=1){var g=d[u];o.push(g[0],g[1].serialize())}return o.push(this.result.serialize()),o};var Hu=function(o,u,d){this.type=o,this.index=u,this.input=d};Hu.parse=function(o,u){if(o.length!==3)return u.error("Expected 2 arguments, but found "+(o.length-1)+" instead.");var d=u.parse(o[1],1,Ve),g=u.parse(o[2],2,Yt(u.expectedType||He));return d&&g?new Hu(g.type.itemType,d,g):null},Hu.prototype.evaluate=function(o){var u=this.index.evaluate(o),d=this.input.evaluate(o);if(u<0)throw new ar("Array index out of bounds: "+u+" < 0.");if(u>=d.length)throw new ar("Array index out of bounds: "+u+" > "+(d.length-1)+".");if(u!==Math.floor(u))throw new ar("Array index must be an integer, but found "+u+" instead.");return d[u]},Hu.prototype.eachChild=function(o){o(this.index),o(this.input)},Hu.prototype.outputDefined=function(){return!1},Hu.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Zu=function(o,u){this.type=bt,this.needle=o,this.haystack=u};Zu.parse=function(o,u){if(o.length!==3)return u.error("Expected 2 arguments, but found "+(o.length-1)+" instead.");var d=u.parse(o[1],1,He),g=u.parse(o[2],2,He);return d&&g?Ii(d.type,[bt,At,Ve,Mt,He])?new Zu(d,g):u.error("Expected first argument to be of type boolean, string, number or null, but found "+ya(d.type)+" instead"):null},Zu.prototype.evaluate=function(o){var u=this.needle.evaluate(o),d=this.haystack.evaluate(o);if(!d)return!1;if(!Ea(u,["boolean","string","number","null"]))throw new ar("Expected first argument to be of type boolean, string, number or null, but found "+ya(Tn(u))+" instead.");if(!Ea(d,["string","array"]))throw new ar("Expected second argument to be of type array or string, but found "+ya(Tn(d))+" instead.");return d.indexOf(u)>=0},Zu.prototype.eachChild=function(o){o(this.needle),o(this.haystack)},Zu.prototype.outputDefined=function(){return!0},Zu.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var iu=function(o,u,d){this.type=Ve,this.needle=o,this.haystack=u,this.fromIndex=d};iu.parse=function(o,u){if(o.length<=2||o.length>=5)return u.error("Expected 3 or 4 arguments, but found "+(o.length-1)+" instead.");var d=u.parse(o[1],1,He),g=u.parse(o[2],2,He);if(!d||!g)return null;if(!Ii(d.type,[bt,At,Ve,Mt,He]))return u.error("Expected first argument to be of type boolean, string, number or null, but found "+ya(d.type)+" instead");if(o.length===4){var x=u.parse(o[3],3,Ve);return x?new iu(d,g,x):null}return new iu(d,g)},iu.prototype.evaluate=function(o){var u=this.needle.evaluate(o),d=this.haystack.evaluate(o);if(!Ea(u,["boolean","string","number","null"]))throw new ar("Expected first argument to be of type boolean, string, number or null, but found "+ya(Tn(u))+" instead.");if(!Ea(d,["string","array"]))throw new ar("Expected second argument to be of type array or string, but found "+ya(Tn(d))+" instead.");if(this.fromIndex){var g=this.fromIndex.evaluate(o);return d.indexOf(u,g)}return d.indexOf(u)},iu.prototype.eachChild=function(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)},iu.prototype.outputDefined=function(){return!1},iu.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var o=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),o]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Xu=function(o,u,d,g,x,w){this.inputType=o,this.type=u,this.input=d,this.cases=g,this.outputs=x,this.otherwise=w};Xu.parse=function(o,u){if(o.length<5)return u.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if(o.length%2!=1)return u.error("Expected an even number of arguments.");var d,g;u.expectedType&&u.expectedType.kind!=="value"&&(g=u.expectedType);for(var x={},w=[],E=2;E<o.length-1;E+=2){var C=o[E],k=o[E+1];Array.isArray(C)||(C=[C]);var D=u.concat(E);if(C.length===0)return D.error("Expected at least one branch label.");for(var z=0,q=C;z<q.length;z+=1){var H=q[z];if(typeof H!="number"&&typeof H!="string")return D.error("Branch labels must be numbers or strings.");if(typeof H=="number"&&Math.abs(H)>Number.MAX_SAFE_INTEGER)return D.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof H=="number"&&Math.floor(H)!==H)return D.error("Numeric branch labels must be integer values.");if(d){if(D.checkSubtype(d,Tn(H)))return null}else d=Tn(H);if(x[String(H)]!==void 0)return D.error("Branch labels must be unique.");x[String(H)]=w.length}var K=u.parse(k,E,g);if(!K)return null;g=g||K.type,w.push(K)}var se=u.parse(o[1],1,He);if(!se)return null;var le=u.parse(o[o.length-1],o.length-1,g);return le?se.type.kind!=="value"&&u.concat(1).checkSubtype(d,se.type)?null:new Xu(d,g,se,x,w,le):null},Xu.prototype.evaluate=function(o){var u=this.input.evaluate(o);return(Tn(u)===this.inputType&&this.outputs[this.cases[u]]||this.otherwise).evaluate(o)},Xu.prototype.eachChild=function(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)},Xu.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})&&this.otherwise.outputDefined()},Xu.prototype.serialize=function(){for(var o=this,u=["match",this.input.serialize()],d=[],g={},x=0,w=Object.keys(this.cases).sort();x<w.length;x+=1){var E=w[x];(q=g[this.cases[E]])===void 0?(g[this.cases[E]]=d.length,d.push([this.cases[E],[E]])):d[q][1].push(E)}for(var C=function(K){return o.inputType.kind==="number"?Number(K):K},k=0,D=d;k<D.length;k+=1){var z=D[k],q=z[0],H=z[1];u.push(H.length===1?C(H[0]):H.map(C)),u.push(this.outputs[outputIndex$1].serialize())}return u.push(this.otherwise.serialize()),u};var Yu=function(o,u,d){this.type=o,this.branches=u,this.otherwise=d};Yu.parse=function(o,u){if(o.length<4)return u.error("Expected at least 3 arguments, but found only "+(o.length-1)+".");if(o.length%2!=0)return u.error("Expected an odd number of arguments.");var d;u.expectedType&&u.expectedType.kind!=="value"&&(d=u.expectedType);for(var g=[],x=1;x<o.length-1;x+=2){var w=u.parse(o[x],x,bt);if(!w)return null;var E=u.parse(o[x+1],x+1,d);if(!E)return null;g.push([w,E]),d=d||E.type}var C=u.parse(o[o.length-1],o.length-1,d);return C?new Yu(d,g,C):null},Yu.prototype.evaluate=function(o){for(var u=0,d=this.branches;u<d.length;u+=1){var g=d[u],x=g[1];if(g[0].evaluate(o))return x.evaluate(o)}return this.otherwise.evaluate(o)},Yu.prototype.eachChild=function(o){for(var u=0,d=this.branches;u<d.length;u+=1){var g=d[u],x=g[1];o(g[0]),o(x)}o(this.otherwise)},Yu.prototype.outputDefined=function(){return this.branches.every(function(o){return o[1].outputDefined()})&&this.otherwise.outputDefined()},Yu.prototype.serialize=function(){var o=["case"];return this.eachChild(function(u){o.push(u.serialize())}),o};var nu=function(o,u,d,g){this.type=o,this.input=u,this.beginIndex=d,this.endIndex=g};function r1(o,u){return o==="=="||o==="!="?u.kind==="boolean"||u.kind==="string"||u.kind==="number"||u.kind==="null"||u.kind==="value":u.kind==="string"||u.kind==="number"||u.kind==="value"}function s1(o,u,d,g){return g.compare(u,d)===0}function Ri(o,u,d){var g=o!=="=="&&o!=="!=";return function(){function x(w,E,C){this.type=bt,this.lhs=w,this.rhs=E,this.collator=C,this.hasUntypedArgument=w.type.kind==="value"||E.type.kind==="value"}return x.parse=function(w,E){if(w.length!==3&&w.length!==4)return E.error("Expected two or three arguments.");var C=w[0],k=E.parse(w[1],1,He);if(!k)return null;if(!r1(C,k.type))return E.concat(1).error('"'+C+`" comparisons are not supported for type '`+ya(k.type)+"'.");var D=E.parse(w[2],2,He);if(!D)return null;if(!r1(C,D.type))return E.concat(2).error('"'+C+`" comparisons are not supported for type '`+ya(D.type)+"'.");if(k.type.kind!==D.type.kind&&k.type.kind!=="value"&&D.type.kind!=="value")return E.error("Cannot compare types '"+ya(k.type)+"' and '"+ya(D.type)+"'.");g&&(k.type.kind==="value"&&D.type.kind!=="value"?k=new $i(D.type,[k]):k.type.kind!=="value"&&D.type.kind==="value"&&(D=new $i(k.type,[D])));var z=null;if(w.length===4){if(k.type.kind!=="string"&&D.type.kind!=="string"&&k.type.kind!=="value"&&D.type.kind!=="value")return E.error("Cannot use collator to compare non-string types.");if(!(z=E.parse(w[3],3,we)))return null}return new x(k,D,z)},x.prototype.evaluate=function(w){var E=this.lhs.evaluate(w),C=this.rhs.evaluate(w);if(g&&this.hasUntypedArgument){var k=Tn(E),D=Tn(C);if(k.kind!==D.kind||k.kind!=="string"&&k.kind!=="number")throw new ar('Expected arguments for "'+o+'" to be (string, string) or (number, number), but found ('+k.kind+", "+D.kind+") instead.")}if(this.collator&&!g&&this.hasUntypedArgument){var z=Tn(E),q=Tn(C);if(z.kind!=="string"||q.kind!=="string")return u(w,E,C)}return this.collator?d(w,E,C,this.collator.evaluate(w)):u(w,E,C)},x.prototype.eachChild=function(w){w(this.lhs),w(this.rhs),this.collator&&w(this.collator)},x.prototype.outputDefined=function(){return!0},x.prototype.serialize=function(){var w=[o];return this.eachChild(function(E){w.push(E.serialize())}),w},x}()}nu.parse=function(o,u){if(o.length<=2||o.length>=5)return u.error("Expected 3 or 4 arguments, but found "+(o.length-1)+" instead.");var d=u.parse(o[1],1,He),g=u.parse(o[2],2,Ve);if(!d||!g)return null;if(!Ii(d.type,[Yt(He),At,He]))return u.error("Expected first argument to be of type array or string, but found "+ya(d.type)+" instead");if(o.length===4){var x=u.parse(o[3],3,Ve);return x?new nu(d.type,d,g,x):null}return new nu(d.type,d,g)},nu.prototype.evaluate=function(o){var u=this.input.evaluate(o),d=this.beginIndex.evaluate(o);if(!Ea(u,["string","array"]))throw new ar("Expected first argument to be of type array or string, but found "+ya(Tn(u))+" instead.");if(this.endIndex){var g=this.endIndex.evaluate(o);return u.slice(d,g)}return u.slice(d)},nu.prototype.eachChild=function(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)},nu.prototype.outputDefined=function(){return!1},nu.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var o=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),o]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var rw=Ri("==",function(o,u,d){return u===d},s1),mm=Ri("!=",function(o,u,d){return u!==d},function(o,u,d,g){return!s1(0,u,d,g)}),o1=Ri("<",function(o,u,d){return u<d},function(o,u,d,g){return g.compare(u,d)<0}),l1=Ri(">",function(o,u,d){return u>d},function(o,u,d,g){return g.compare(u,d)>0}),u1=Ri("<=",function(o,u,d){return u<=d},function(o,u,d,g){return g.compare(u,d)<=0}),c1=Ri(">=",function(o,u,d){return u>=d},function(o,u,d,g){return g.compare(u,d)>=0}),Ku=function(o,u,d,g,x){this.type=At,this.number=o,this.locale=u,this.currency=d,this.minFractionDigits=g,this.maxFractionDigits=x};Ku.parse=function(o,u){if(o.length!==3)return u.error("Expected two arguments.");var d=u.parse(o[1],1,Ve);if(!d)return null;var g=o[2];if(typeof g!="object"||Array.isArray(g))return u.error("NumberFormat options argument must be an object.");var x=null;if(g.locale&&!(x=u.parse(g.locale,1,At)))return null;var w=null;if(g.currency&&!(w=u.parse(g.currency,1,At)))return null;var E=null;if(g["min-fraction-digits"]&&!(E=u.parse(g["min-fraction-digits"],1,Ve)))return null;var C=null;return g["max-fraction-digits"]&&!(C=u.parse(g["max-fraction-digits"],1,Ve))?null:new Ku(d,x,w,E,C)},Ku.prototype.evaluate=function(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))},Ku.prototype.eachChild=function(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)},Ku.prototype.outputDefined=function(){return!1},Ku.prototype.serialize=function(){var o={};return this.locale&&(o.locale=this.locale.serialize()),this.currency&&(o.currency=this.currency.serialize()),this.minFractionDigits&&(o["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(o["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),o]};var ru=function(o){this.type=Ve,this.input=o};ru.parse=function(o,u){if(o.length!==2)return u.error("Expected 1 argument, but found "+(o.length-1)+" instead.");var d=u.parse(o[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?u.error("Expected argument of type string or array, but found "+ya(d.type)+" instead."):new ru(d):null},ru.prototype.evaluate=function(o){var u=this.input.evaluate(o);if(typeof u=="string"||Array.isArray(u))return u.length;throw new ar("Expected value to be of type string or array, but found "+ya(Tn(u))+" instead.")},ru.prototype.eachChild=function(o){o(this.input)},ru.prototype.outputDefined=function(){return!1},ru.prototype.serialize=function(){var o=["length"];return this.eachChild(function(u){o.push(u.serialize())}),o};var $u={"==":rw,"!=":mm,">":l1,"<":o1,">=":c1,"<=":u1,array:$i,at:Hu,boolean:$i,case:Yu,coalesce:tu,collator:Zo,format:To,image:ks,in:Zu,"index-of":iu,interpolate:_r,"interpolate-hcl":_r,"interpolate-lab":_r,length:ru,let:au,literal:Dr,match:Xu,number:$i,"number-format":Ku,object:$i,slice:nu,step:hs,string:$i,"to-boolean":to,"to-color":to,"to-number":to,"to-string":to,var:Jl,within:ao};function d1(o,u){var d=u[0],g=u[1],x=u[2],w=u[3];d=d.evaluate(o),g=g.evaluate(o),x=x.evaluate(o);var E=w?w.evaluate(o):1,C=Uf(d,g,x,E);if(C)throw new ar(C);return new li(d/255*E,g/255*E,x/255*E,E)}function h1(o,u){return o in u}function $f(o,u){var d=u[o];return d===void 0?null:d}function Qu(o){return{type:o}}function _1(o){return{result:"success",value:o}}function Ju(o){return{result:"error",value:o}}function ec(o){return o["property-type"]==="data-driven"||o["property-type"]==="cross-faded-data-driven"}function m1(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function zh(o){return!!o.expression&&o.expression.interpolated}function Fi(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":o===null?"null":typeof o}function pm(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)}function sw(o){return o}function sd(o,u,d){return o!==void 0?o:u!==void 0?u:d!==void 0?d:void 0}function p1(o,u,d,g,x){return sd(typeof d===x?g[d]:void 0,o.default,u.default)}function ow(o,u,d){if(Fi(d)!=="number")return sd(o.default,u.default);var g=o.stops.length;if(g===1||d<=o.stops[0][0])return o.stops[0][1];if(d>=o.stops[g-1][0])return o.stops[g-1][1];var x=_m(o.stops.map(function(w){return w[0]}),d);return o.stops[x][1]}function f1(o,u,d){var g=o.base!==void 0?o.base:1;if(Fi(d)!=="number")return sd(o.default,u.default);var x=o.stops.length;if(x===1||d<=o.stops[0][0])return o.stops[0][1];if(d>=o.stops[x-1][0])return o.stops[x-1][1];var w=_m(o.stops.map(function(q){return q[0]}),d),E=function(q,H,K,se){var le=se-K,Te=q-K;return le===0?0:H===1?Te/le:(Math.pow(H,Te)-1)/(Math.pow(H,le)-1)}(d,g,o.stops[w][0],o.stops[w+1][0]),C=o.stops[w][1],k=o.stops[w+1][1],D=rd[u.type]||sw;if(o.colorSpace&&o.colorSpace!=="rgb"){var z=n1[o.colorSpace];D=function(q,H){return z.reverse(z.interpolate(z.forward(q),z.forward(H),E))}}return typeof C.evaluate=="function"?{evaluate:function(){for(var q=[],H=arguments.length;H--;)q[H]=arguments[H];var K=C.evaluate.apply(void 0,q),se=k.evaluate.apply(void 0,q);if(K!==void 0&&se!==void 0)return D(K,se,E)}}:D(C,k,E)}function fm(o,u,d){return u.type==="color"?d=li.parse(d):u.type==="formatted"?d=tr.fromString(d.toString()):u.type==="resolvedImage"?d=$r.fromString(d.toString()):Fi(d)===u.type||u.type==="enum"&&u.values[d]||(d=void 0),sd(d,o.default,u.default)}hr.register($u,{error:[{kind:"error"},[At],function(o,u){throw new ar(u[0].evaluate(o))}],typeof:[At,[He],function(o,u){return ya(Tn(u[0].evaluate(o)))}],"to-rgba":[Yt(Ve,4),[St],function(o,u){return u[0].evaluate(o).toArray()}],rgb:[St,[Ve,Ve,Ve],d1],rgba:[St,[Ve,Ve,Ve,Ve],d1],has:{type:bt,overloads:[[[At],function(o,u){return h1(u[0].evaluate(o),o.properties())}],[[At,Ra],function(o,u){var d=u[1];return h1(u[0].evaluate(o),d.evaluate(o))}]]},get:{type:He,overloads:[[[At],function(o,u){return $f(u[0].evaluate(o),o.properties())}],[[At,Ra],function(o,u){var d=u[1];return $f(u[0].evaluate(o),d.evaluate(o))}]]},"feature-state":[He,[At],function(o,u){return $f(u[0].evaluate(o),o.featureState||{})}],properties:[Ra,[],function(o){return o.properties()}],"geometry-type":[At,[],function(o){return o.geometryType()}],id:[He,[],function(o){return o.id()}],zoom:[Ve,[],function(o){return o.globals.zoom}],"heatmap-density":[Ve,[],function(o){return o.globals.heatmapDensity||0}],"line-progress":[Ve,[],function(o){return o.globals.lineProgress||0}],accumulated:[He,[],function(o){return o.globals.accumulated===void 0?null:o.globals.accumulated}],"+":[Ve,Qu(Ve),function(o,u){for(var d=0,g=0,x=u;g<x.length;g+=1)d+=x[g].evaluate(o);return d}],"*":[Ve,Qu(Ve),function(o,u){for(var d=1,g=0,x=u;g<x.length;g+=1)d*=x[g].evaluate(o);return d}],"-":{type:Ve,overloads:[[[Ve,Ve],function(o,u){var d=u[1];return u[0].evaluate(o)-d.evaluate(o)}],[[Ve],function(o,u){return-u[0].evaluate(o)}]]},"/":[Ve,[Ve,Ve],function(o,u){var d=u[1];return u[0].evaluate(o)/d.evaluate(o)}],"%":[Ve,[Ve,Ve],function(o,u){var d=u[1];return u[0].evaluate(o)%d.evaluate(o)}],ln2:[Ve,[],function(){return Math.LN2}],pi:[Ve,[],function(){return Math.PI}],e:[Ve,[],function(){return Math.E}],"^":[Ve,[Ve,Ve],function(o,u){var d=u[1];return Math.pow(u[0].evaluate(o),d.evaluate(o))}],sqrt:[Ve,[Ve],function(o,u){return Math.sqrt(u[0].evaluate(o))}],log10:[Ve,[Ve],function(o,u){return Math.log(u[0].evaluate(o))/Math.LN10}],ln:[Ve,[Ve],function(o,u){return Math.log(u[0].evaluate(o))}],log2:[Ve,[Ve],function(o,u){return Math.log(u[0].evaluate(o))/Math.LN2}],sin:[Ve,[Ve],function(o,u){return Math.sin(u[0].evaluate(o))}],cos:[Ve,[Ve],function(o,u){return Math.cos(u[0].evaluate(o))}],tan:[Ve,[Ve],function(o,u){return Math.tan(u[0].evaluate(o))}],asin:[Ve,[Ve],function(o,u){return Math.asin(u[0].evaluate(o))}],acos:[Ve,[Ve],function(o,u){return Math.acos(u[0].evaluate(o))}],atan:[Ve,[Ve],function(o,u){return Math.atan(u[0].evaluate(o))}],min:[Ve,Qu(Ve),function(o,u){return Math.min.apply(Math,u.map(function(d){return d.evaluate(o)}))}],max:[Ve,Qu(Ve),function(o,u){return Math.max.apply(Math,u.map(function(d){return d.evaluate(o)}))}],abs:[Ve,[Ve],function(o,u){return Math.abs(u[0].evaluate(o))}],round:[Ve,[Ve],function(o,u){var d=u[0].evaluate(o);return d<0?-Math.round(-d):Math.round(d)}],floor:[Ve,[Ve],function(o,u){return Math.floor(u[0].evaluate(o))}],ceil:[Ve,[Ve],function(o,u){return Math.ceil(u[0].evaluate(o))}],"filter-==":[bt,[At,He],function(o,u){var d=u[0],g=u[1];return o.properties()[d.value]===g.value}],"filter-id-==":[bt,[He],function(o,u){var d=u[0];return o.id()===d.value}],"filter-type-==":[bt,[At],function(o,u){var d=u[0];return o.geometryType()===d.value}],"filter-<":[bt,[At,He],function(o,u){var d=u[0],g=u[1],x=o.properties()[d.value],w=g.value;return typeof x==typeof w&&x<w}],"filter-id-<":[bt,[He],function(o,u){var d=u[0],g=o.id(),x=d.value;return typeof g==typeof x&&g<x}],"filter->":[bt,[At,He],function(o,u){var d=u[0],g=u[1],x=o.properties()[d.value],w=g.value;return typeof x==typeof w&&x>w}],"filter-id->":[bt,[He],function(o,u){var d=u[0],g=o.id(),x=d.value;return typeof g==typeof x&&g>x}],"filter-<=":[bt,[At,He],function(o,u){var d=u[0],g=u[1],x=o.properties()[d.value],w=g.value;return typeof x==typeof w&&x<=w}],"filter-id-<=":[bt,[He],function(o,u){var d=u[0],g=o.id(),x=d.value;return typeof g==typeof x&&g<=x}],"filter->=":[bt,[At,He],function(o,u){var d=u[0],g=u[1],x=o.properties()[d.value],w=g.value;return typeof x==typeof w&&x>=w}],"filter-id->=":[bt,[He],function(o,u){var d=u[0],g=o.id(),x=d.value;return typeof g==typeof x&&g>=x}],"filter-has":[bt,[He],function(o,u){return u[0].value in o.properties()}],"filter-has-id":[bt,[],function(o){return o.id()!==null&&o.id()!==void 0}],"filter-type-in":[bt,[Yt(At)],function(o,u){return u[0].value.indexOf(o.geometryType())>=0}],"filter-id-in":[bt,[Yt(He)],function(o,u){return u[0].value.indexOf(o.id())>=0}],"filter-in-small":[bt,[At,Yt(He)],function(o,u){var d=u[0];return u[1].value.indexOf(o.properties()[d.value])>=0}],"filter-in-large":[bt,[At,Yt(He)],function(o,u){var d=u[0],g=u[1];return function(x,w,E,C){for(;E<=C;){var k=E+C>>1;if(w[k]===x)return!0;w[k]>x?C=k-1:E=k+1}return!1}(o.properties()[d.value],g.value,0,g.value.length-1)}],all:{type:bt,overloads:[[[bt,bt],function(o,u){var d=u[1];return u[0].evaluate(o)&&d.evaluate(o)}],[Qu(bt),function(o,u){for(var d=0,g=u;d<g.length;d+=1)if(!g[d].evaluate(o))return!1;return!0}]]},any:{type:bt,overloads:[[[bt,bt],function(o,u){var d=u[1];return u[0].evaluate(o)||d.evaluate(o)}],[Qu(bt),function(o,u){for(var d=0,g=u;d<g.length;d+=1)if(g[d].evaluate(o))return!0;return!1}]]},"!":[bt,[bt],function(o,u){return!u[0].evaluate(o)}],"is-supported-script":[bt,[At],function(o,u){var d=o.globals&&o.globals.isSupportedScript;return!d||d(u[0].evaluate(o))}],upcase:[At,[At],function(o,u){return u[0].evaluate(o).toUpperCase()}],downcase:[At,[At],function(o,u){return u[0].evaluate(o).toLowerCase()}],concat:[At,Qu(He),function(o,u){return u.map(function(d){return Dh(d.evaluate(o))}).join("")}],"resolved-locale":[At,[we],function(o,u){return u[0].evaluate(o).resolvedLocale()}]});var od=function(o,u){this.expression=o,this._warningHistory={},this._evaluator=new ml,this._defaultValue=u?function(d){return d.type==="color"&&pm(d.default)?new li(0,0,0,0):d.type==="color"?li.parse(d.default)||null:d.default===void 0?null:d.default}(u):null,this._enumValues=u&&u.type==="enum"?u.values:null};function Bh(o){return Array.isArray(o)&&o.length>0&&typeof o[0]=="string"&&o[0]in $u}function gm(o,u){var d=new eu($u,[],u?function(x){var w={color:St,string:At,number:Ve,enum:At,boolean:bt,formatted:tt,resolvedImage:rt};return x.type==="array"?Yt(w[x.value]||He,x.length):w[x.type]}(u):void 0),g=d.parse(o,void 0,void 0,void 0,u&&u.type==="string"?{typeAnnotation:"coerce"}:void 0);return g?_1(new od(g,u)):Ju(d.errors)}od.prototype.evaluateWithoutErrorHandling=function(o,u,d,g,x,w){return this._evaluator.globals=o,this._evaluator.feature=u,this._evaluator.featureState=d,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=w,this.expression.evaluate(this._evaluator)},od.prototype.evaluate=function(o,u,d,g,x,w){this._evaluator.globals=o,this._evaluator.feature=u||null,this._evaluator.featureState=d||null,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=w||null;try{var E=this.expression.evaluate(this._evaluator);if(E==null||typeof E=="number"&&E!=E)return this._defaultValue;if(this._enumValues&&!(E in this._enumValues))throw new ar("Expected value to be one of "+Object.keys(this._enumValues).map(function(C){return JSON.stringify(C)}).join(", ")+", but found "+JSON.stringify(E)+" instead.");return E}catch(C){return this._warningHistory[C.message]||(this._warningHistory[C.message]=!0,typeof console<"u"&&console.warn(C.message)),this._defaultValue}};var Gh=function(o,u){this.kind=o,this._styleExpression=u,this.isStateDependent=o!=="constant"&&!Ql(u.expression)};Gh.prototype.evaluateWithoutErrorHandling=function(o,u,d,g,x,w){return this._styleExpression.evaluateWithoutErrorHandling(o,u,d,g,x,w)},Gh.prototype.evaluate=function(o,u,d,g,x,w){return this._styleExpression.evaluate(o,u,d,g,x,w)};var ld=function(o,u,d,g){this.kind=o,this.zoomStops=d,this._styleExpression=u,this.isStateDependent=o!=="camera"&&!Ql(u.expression),this.interpolationType=g};function g1(o,u){if((o=gm(o,u)).result==="error")return o;var d=o.value.expression,g=$l(d);if(!g&&!ec(u))return Ju([new nt("","data expressions not supported")]);var x=ju(d,["zoom"]);if(!x&&!m1(u))return Ju([new nt("","zoom expressions not supported")]);var w=function E(C){var k=null;if(C instanceof au)k=E(C.result);else if(C instanceof tu)for(var D=0,z=C.args;D<z.length&&!(k=E(z[D]));D+=1);else(C instanceof hs||C instanceof _r)&&C.input instanceof hr&&C.input.name==="zoom"&&(k=C);return k instanceof nt||C.eachChild(function(q){var H=E(q);H instanceof nt?k=H:!k&&H?k=new nt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):k&&H&&k!==H&&(k=new nt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),k}(d);return w||x?w instanceof nt?Ju([w]):w instanceof _r&&!zh(u)?Ju([new nt("",'"interpolate" expressions cannot be used with this property')]):_1(w?new ld(g?"camera":"composite",o.value,w.labels,w instanceof _r?w.interpolation:void 0):new Gh(g?"constant":"source",o.value)):Ju([new nt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}ld.prototype.evaluateWithoutErrorHandling=function(o,u,d,g,x,w){return this._styleExpression.evaluateWithoutErrorHandling(o,u,d,g,x,w)},ld.prototype.evaluate=function(o,u,d,g,x,w){return this._styleExpression.evaluate(o,u,d,g,x,w)},ld.prototype.interpolationFactor=function(o,u,d){return this.interpolationType?_r.interpolationFactor(this.interpolationType,o,u,d):0};var ud=function(o,u){this._parameters=o,this._specification=u,et(this,function d(g,x){var w,E,C,k=x.type==="color",D=g.stops&&typeof g.stops[0][0]=="object",z=D||!(D||g.property!==void 0),q=g.type||(zh(x)?"exponential":"interval");if(k&&((g=et({},g)).stops&&(g.stops=g.stops.map(function(Ct){return[Ct[0],li.parse(Ct[1])]})),g.default=li.parse(g.default?g.default:x.default)),g.colorSpace&&g.colorSpace!=="rgb"&&!n1[g.colorSpace])throw new Error("Unknown color space: "+g.colorSpace);if(q==="exponential")w=f1;else if(q==="interval")w=ow;else if(q==="categorical"){w=p1,E=Object.create(null);for(var H=0,K=g.stops;H<K.length;H+=1){var se=K[H];E[se[0]]=se[1]}C=typeof g.stops[0][0]}else{if(q!=="identity")throw new Error('Unknown function type "'+q+'"');w=fm}if(D){for(var le={},Te=[],ge=0;ge<g.stops.length;ge++){var Ce=g.stops[ge],Pe=Ce[0].zoom;le[Pe]===void 0&&(le[Pe]={zoom:Pe,type:g.type,property:g.property,default:g.default,stops:[]},Te.push(Pe)),le[Pe].stops.push([Ce[0].value,Ce[1]])}for(var Fe=[],ze=0,Ke=Te;ze<Ke.length;ze+=1){var dt=Ke[ze];Fe.push([le[dt].zoom,d(le[dt],x)])}var gt={name:"linear"};return{kind:"composite",interpolationType:gt,interpolationFactor:_r.interpolationFactor.bind(void 0,gt),zoomStops:Fe.map(function(Ct){return Ct[0]}),evaluate:function(Ct,Qt){var It=Ct.zoom;return f1({stops:Fe,base:g.base},x,It).evaluate(It,Qt)}}}if(z){var jt=q==="exponential"?{name:"exponential",base:g.base!==void 0?g.base:1}:null;return{kind:"camera",interpolationType:jt,interpolationFactor:_r.interpolationFactor.bind(void 0,jt),zoomStops:g.stops.map(function(Ct){return Ct[0]}),evaluate:function(Ct){return w(g,x,Ct.zoom,E,C)}}}return{kind:"source",evaluate:function(Ct,Qt){var It=Qt&&Qt.properties?Qt.properties[g.property]:void 0;return It===void 0?sd(g.default,x.default):w(g,x,It,E,C)}}}(this._parameters,this._specification))};function Eo(o){var u=o.key,d=o.value,g=o.valueSpec||{},x=o.objectElementValidators||{},w=o.style,E=o.styleSpec,C=[],k=Fi(d);if(k!=="object")return[new ue(u,d,"object expected, "+k+" found")];for(var D in d){var z=D.split(".")[0],q=g[z]||g["*"],H=void 0;if(x[z])H=x[z];else if(g[z])H=ri;else if(x["*"])H=x["*"];else{if(!g["*"]){C.push(new ue(u,d[D],'unknown property "'+D+'"'));continue}H=ri}C=C.concat(H({key:(u&&u+".")+D,value:d[D],valueSpec:q,style:w,styleSpec:E,object:d,objectKey:D},d))}for(var K in g)x[K]||g[K].required&&g[K].default===void 0&&d[K]===void 0&&C.push(new ue(u,d,'missing required property "'+K+'"'));return C}function y1(o){var u=o.value,d=o.valueSpec,g=o.style,x=o.styleSpec,w=o.key,E=o.arrayElementValidator||ri;if(Fi(u)!=="array")return[new ue(w,u,"array expected, "+Fi(u)+" found")];if(d.length&&u.length!==d.length)return[new ue(w,u,"array length "+d.length+" expected, length "+u.length+" found")];if(d["min-length"]&&u.length<d["min-length"])return[new ue(w,u,"array length at least "+d["min-length"]+" expected, length "+u.length+" found")];var C={type:d.value,values:d.values};x.$version<7&&(C.function=d.function),Fi(d.value)==="object"&&(C=d.value);for(var k=[],D=0;D<u.length;D++)k=k.concat(E({array:u,arrayIndex:D,value:u[D],valueSpec:C,style:g,styleSpec:x,key:w+"["+D+"]"}));return k}function v1(o){var u=o.key,d=o.value,g=o.valueSpec,x=Fi(d);return x==="number"&&d!=d&&(x="NaN"),x!=="number"?[new ue(u,d,"number expected, "+x+" found")]:"minimum"in g&&d<g.minimum?[new ue(u,d,d+" is less than the minimum value "+g.minimum)]:"maximum"in g&&d>g.maximum?[new ue(u,d,d+" is greater than the maximum value "+g.maximum)]:[]}function b1(o){var u,d,g,x=o.valueSpec,w=lt(o.value.type),E={},C=w!=="categorical"&&o.value.property===void 0,k=!C,D=Fi(o.value.stops)==="array"&&Fi(o.value.stops[0])==="array"&&Fi(o.value.stops[0][0])==="object",z=Eo({key:o.key,value:o.value,valueSpec:o.styleSpec.function,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(K){if(w==="identity")return[new ue(K.key,K.value,'identity function may not have a "stops" property')];var se=[],le=K.value;return se=se.concat(y1({key:K.key,value:le,valueSpec:K.valueSpec,style:K.style,styleSpec:K.styleSpec,arrayElementValidator:q})),Fi(le)==="array"&&le.length===0&&se.push(new ue(K.key,le,"array must have at least one stop")),se},default:function(K){return ri({key:K.key,value:K.value,valueSpec:x,style:K.style,styleSpec:K.styleSpec})}}});return w==="identity"&&C&&z.push(new ue(o.key,o.value,'missing required property "property"')),w==="identity"||o.value.stops||z.push(new ue(o.key,o.value,'missing required property "stops"')),w==="exponential"&&o.valueSpec.expression&&!zh(o.valueSpec)&&z.push(new ue(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(k&&!ec(o.valueSpec)?z.push(new ue(o.key,o.value,"property functions not supported")):C&&!m1(o.valueSpec)&&z.push(new ue(o.key,o.value,"zoom functions not supported"))),w!=="categorical"&&!D||o.value.property!==void 0||z.push(new ue(o.key,o.value,'"property" property is required')),z;function q(K){var se=[],le=K.value,Te=K.key;if(Fi(le)!=="array")return[new ue(Te,le,"array expected, "+Fi(le)+" found")];if(le.length!==2)return[new ue(Te,le,"array length 2 expected, length "+le.length+" found")];if(D){if(Fi(le[0])!=="object")return[new ue(Te,le,"object expected, "+Fi(le[0])+" found")];if(le[0].zoom===void 0)return[new ue(Te,le,"object stop key must have zoom")];if(le[0].value===void 0)return[new ue(Te,le,"object stop key must have value")];if(g&&g>lt(le[0].zoom))return[new ue(Te,le[0].zoom,"stop zoom values must appear in ascending order")];lt(le[0].zoom)!==g&&(g=lt(le[0].zoom),d=void 0,E={}),se=se.concat(Eo({key:Te+"[0]",value:le[0],valueSpec:{zoom:{}},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{zoom:v1,value:H}}))}else se=se.concat(H({key:Te+"[0]",value:le[0],valueSpec:{},style:K.style,styleSpec:K.styleSpec},le));return Bh(Ge(le[1]))?se.concat([new ue(Te+"[1]",le[1],"expressions are not allowed in function stops.")]):se.concat(ri({key:Te+"[1]",value:le[1],valueSpec:x,style:K.style,styleSpec:K.styleSpec}))}function H(K,se){var le=Fi(K.value),Te=lt(K.value),ge=K.value!==null?K.value:se;if(u){if(le!==u)return[new ue(K.key,ge,le+" stop domain type must match previous stop domain type "+u)]}else u=le;if(le!=="number"&&le!=="string"&&le!=="boolean")return[new ue(K.key,ge,"stop domain value must be a number, string, or boolean")];if(le!=="number"&&w!=="categorical"){var Ce="number expected, "+le+" found";return ec(x)&&w===void 0&&(Ce+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ue(K.key,ge,Ce)]}return w!=="categorical"||le!=="number"||isFinite(Te)&&Math.floor(Te)===Te?w!=="categorical"&&le==="number"&&d!==void 0&&Te<d?[new ue(K.key,ge,"stop domain values must appear in ascending order")]:(d=Te,w==="categorical"&&Te in E?[new ue(K.key,ge,"stop domain values must be unique")]:(E[Te]=!0,[])):[new ue(K.key,ge,"integer expected, found "+Te)]}}function tc(o){var u=(o.expressionContext==="property"?g1:gm)(Ge(o.value),o.valueSpec);if(u.result==="error")return u.value.map(function(g){return new ue(""+o.key+g.key,o.value,g.message)});var d=u.value.expression||u.value._styleExpression.expression;if(o.expressionContext==="property"&&o.propertyKey==="text-font"&&!d.outputDefined())return[new ue(o.key,o.value,'Invalid data expression for "'+o.propertyKey+'". Output values must be contained as literals within the expression.')];if(o.expressionContext==="property"&&o.propertyType==="layout"&&!Ql(d))return[new ue(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if(o.expressionContext==="filter"&&!Ql(d))return[new ue(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&o.expressionContext.indexOf("cluster")===0){if(!ju(d,["zoom","feature-state"]))return[new ue(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(o.expressionContext==="cluster-initial"&&!$l(d))return[new ue(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function qh(o){var u=o.key,d=o.value,g=o.valueSpec,x=[];return Array.isArray(g.values)?g.values.indexOf(lt(d))===-1&&x.push(new ue(u,d,"expected one of ["+g.values.join(", ")+"], "+JSON.stringify(d)+" found")):Object.keys(g.values).indexOf(lt(d))===-1&&x.push(new ue(u,d,"expected one of ["+Object.keys(g.values).join(", ")+"], "+JSON.stringify(d)+" found")),x}function ym(o){if(o===!0||o===!1)return!0;if(!Array.isArray(o)||o.length===0)return!1;switch(o[0]){case"has":return o.length>=2&&o[1]!=="$id"&&o[1]!=="$type";case"in":return o.length>=3&&(typeof o[1]!="string"||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return o.length!==3||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(var u=0,d=o.slice(1);u<d.length;u+=1){var g=d[u];if(!ym(g)&&typeof g!="boolean")return!1}return!0;default:return!0}}ud.deserialize=function(o){return new ud(o._parameters,o._specification)},ud.serialize=function(o){return{_parameters:o._parameters,_specification:o._specification}};var Qf={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function vm(o){if(o==null)return{filter:function(){return!0},needGeometry:!1};ym(o)||(o=bm(o));var u=gm(o,Qf);if(u.result==="error")throw new Error(u.value.map(function(d){return d.key+": "+d.message}).join(", "));return{filter:function(d,g,x){return u.value.evaluate(d,g,{},x)},needGeometry:function d(g){if(!Array.isArray(g))return!1;if(g[0]==="within")return!0;for(var x=1;x<g.length;x++)if(d(g[x]))return!0;return!1}(o)}}function lw(o,u){return o<u?-1:o>u?1:0}function bm(o){if(!o)return!0;var u,d=o[0];return o.length<=1?d!=="any":d==="=="?Jf(o[1],o[2],"=="):d==="!="?xm(Jf(o[1],o[2],"==")):d==="<"||d===">"||d==="<="||d===">="?Jf(o[1],o[2],d):d==="any"?(u=o.slice(1),["any"].concat(u.map(bm))):d==="all"?["all"].concat(o.slice(1).map(bm)):d==="none"?["all"].concat(o.slice(1).map(bm).map(xm)):d==="in"?x1(o[1],o.slice(2)):d==="!in"?xm(x1(o[1],o.slice(2))):d==="has"?w1(o[1]):d==="!has"?xm(w1(o[1])):d!=="within"||o}function Jf(o,u,d){switch(o){case"$type":return["filter-type-"+d,u];case"$id":return["filter-id-"+d,u];default:return["filter-"+d,o,u]}}function x1(o,u){if(u.length===0)return!1;switch(o){case"$type":return["filter-type-in",["literal",u]];case"$id":return["filter-id-in",["literal",u]];default:return u.length>200&&!u.some(function(d){return typeof d!=typeof u[0]})?["filter-in-large",o,["literal",u.sort(lw)]]:["filter-in-small",o,["literal",u]]}}function w1(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function xm(o){return["!",o]}function eg(o){return ym(Ge(o.value))?tc(et({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function u(d){var g=d.value,x=d.key;if(Fi(g)!=="array")return[new ue(x,g,"array expected, "+Fi(g)+" found")];var w,E=d.styleSpec,C=[];if(g.length<1)return[new ue(x,g,"filter array must have at least 1 element")];switch(C=C.concat(qh({key:x+"[0]",value:g[0],valueSpec:E.filter_operator,style:d.style,styleSpec:d.styleSpec})),lt(g[0])){case"<":case"<=":case">":case">=":g.length>=2&&lt(g[1])==="$type"&&C.push(new ue(x,g,'"$type" cannot be use with operator "'+g[0]+'"'));case"==":case"!=":g.length!==3&&C.push(new ue(x,g,'filter array for operator "'+g[0]+'" must have 3 elements'));case"in":case"!in":g.length>=2&&(w=Fi(g[1]))!=="string"&&C.push(new ue(x+"[1]",g[1],"string expected, "+w+" found"));for(var k=2;k<g.length;k++)w=Fi(g[k]),lt(g[1])==="$type"?C=C.concat(qh({key:x+"["+k+"]",value:g[k],valueSpec:E.geometry_type,style:d.style,styleSpec:d.styleSpec})):w!=="string"&&w!=="number"&&w!=="boolean"&&C.push(new ue(x+"["+k+"]",g[k],"string, number, or boolean expected, "+w+" found"));break;case"any":case"all":case"none":for(var D=1;D<g.length;D++)C=C.concat(u({key:x+"["+D+"]",value:g[D],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":w=Fi(g[1]),g.length!==2?C.push(new ue(x,g,'filter array for "'+g[0]+'" operator must have 2 elements')):w!=="string"&&C.push(new ue(x+"[1]",g[1],"string expected, "+w+" found"));break;case"within":w=Fi(g[1]),g.length!==2?C.push(new ue(x,g,'filter array for "'+g[0]+'" operator must have 2 elements')):w!=="object"&&C.push(new ue(x+"[1]",g[1],"object expected, "+w+" found"))}return C}(o)}function tg(o,u){var d=o.key,g=o.style,x=o.styleSpec,w=o.value,E=o.objectKey,C=x[u+"_"+o.layerType];if(!C)return[];var k=E.match(/^(.*)-transition$/);if(u==="paint"&&k&&C[k[1]]&&C[k[1]].transition)return ri({key:d,value:w,valueSpec:x.transition,style:g,styleSpec:x});var D,z=o.valueSpec||C[E];if(!z)return[new ue(d,w,'unknown property "'+E+'"')];if(Fi(w)==="string"&&ec(z)&&!z.tokens&&(D=/^{([^}]+)}$/.exec(w)))return[new ue(d,w,'"'+E+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(D[1])+" }`.")];var q=[];return o.layerType==="symbol"&&(E==="text-field"&&g&&!g.glyphs&&q.push(new ue(d,w,'use of "text-field" requires a style "glyphs" property')),E==="text-font"&&pm(Ge(w))&&lt(w.type)==="identity"&&q.push(new ue(d,w,'"text-font" does not support identity functions'))),q.concat(ri({key:o.key,value:w,valueSpec:z,style:g,styleSpec:x,expressionContext:"property",propertyType:u,propertyKey:E}))}function ag(o){return tg(o,"paint")}function Uh(o){return tg(o,"layout")}function S1(o){var u=[],d=o.value,g=o.key,x=o.style,w=o.styleSpec;d.type||d.ref||u.push(new ue(g,d,'either "type" or "ref" is required'));var E,C=lt(d.type),k=lt(d.ref);if(d.id)for(var D=lt(d.id),z=0;z<o.arrayIndex;z++){var q=x.layers[z];lt(q.id)===D&&u.push(new ue(g,d.id,'duplicate layer id "'+d.id+'", previously used at line '+q.id.__line__))}if("ref"in d)["type","source","source-layer","filter","layout"].forEach(function(se){se in d&&u.push(new ue(g,d[se],'"'+se+'" is prohibited for ref layers'))}),x.layers.forEach(function(se){lt(se.id)===k&&(E=se)}),E?E.ref?u.push(new ue(g,d.ref,"ref cannot reference another ref layer")):C=lt(E.type):u.push(new ue(g,d.ref,'ref layer "'+k+'" not found'));else if(C!=="background")if(d.source){var H=x.sources&&x.sources[d.source],K=H&&lt(H.type);H?K==="vector"&&C==="raster"?u.push(new ue(g,d.source,'layer "'+d.id+'" requires a raster source')):K==="raster"&&C!=="raster"?u.push(new ue(g,d.source,'layer "'+d.id+'" requires a vector source')):K!=="vector"||d["source-layer"]?K==="raster-dem"&&C!=="hillshade"?u.push(new ue(g,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):C!=="line"||!d.paint||!d.paint["line-gradient"]||K==="geojson"&&H.lineMetrics||u.push(new ue(g,d,'layer "'+d.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):u.push(new ue(g,d,'layer "'+d.id+'" must specify a "source-layer"')):u.push(new ue(g,d.source,'source "'+d.source+'" not found'))}else u.push(new ue(g,d,'missing required property "source"'));return u=u.concat(Eo({key:g,value:d,valueSpec:w.layer,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ri({key:g+".type",value:d.type,valueSpec:w.layer.type,style:o.style,styleSpec:o.styleSpec,object:d,objectKey:"type"})},filter:eg,layout:function(se){return Eo({layer:d,key:se.key,value:se.value,style:se.style,styleSpec:se.styleSpec,objectElementValidators:{"*":function(le){return Uh(et({layerType:C},le))}}})},paint:function(se){return Eo({layer:d,key:se.key,value:se.value,style:se.style,styleSpec:se.styleSpec,objectElementValidators:{"*":function(le){return ag(et({layerType:C},le))}}})}}}))}function ac(o){var u=o.value,d=o.key,g=Fi(u);return g!=="string"?[new ue(d,u,"string expected, "+g+" found")]:[]}var Qi={promoteId:function(o){var u=o.key,d=o.value;if(Fi(d)==="string")return ac({key:u,value:d});var g=[];for(var x in d)g.push.apply(g,ac({key:u+"."+x,value:d[x]}));return g}};function wm(o){var u=o.value,d=o.key,g=o.styleSpec,x=o.style;if(!u.type)return[new ue(d,u,'"type" is required')];var w,E=lt(u.type);switch(E){case"vector":case"raster":case"raster-dem":return Eo({key:d,value:u,valueSpec:g["source_"+E.replace("-","_")],style:o.style,styleSpec:g,objectElementValidators:Qi});case"geojson":if(w=Eo({key:d,value:u,valueSpec:g.source_geojson,style:x,styleSpec:g,objectElementValidators:Qi}),u.cluster)for(var C in u.clusterProperties){var k=u.clusterProperties[C],D=k[0],z=typeof D=="string"?[D,["accumulated"],["get",C]]:D;w.push.apply(w,tc({key:d+"."+C+".map",value:k[1],expressionContext:"cluster-map"})),w.push.apply(w,tc({key:d+"."+C+".reduce",value:z,expressionContext:"cluster-reduce"}))}return w;case"video":return Eo({key:d,value:u,valueSpec:g.source_video,style:x,styleSpec:g});case"image":return Eo({key:d,value:u,valueSpec:g.source_image,style:x,styleSpec:g});case"canvas":return[new ue(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return qh({key:d+".type",value:u.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:x,styleSpec:g})}}function ic(o){var u=o.value,d=o.styleSpec,g=d.light,x=o.style,w=[],E=Fi(u);if(u===void 0)return w;if(E!=="object")return w.concat([new ue("light",u,"object expected, "+E+" found")]);for(var C in u){var k=C.match(/^(.*)-transition$/);w=w.concat(k&&g[k[1]]&&g[k[1]].transition?ri({key:C,value:u[C],valueSpec:d.transition,style:x,styleSpec:d}):g[C]?ri({key:C,value:u[C],valueSpec:g[C],style:x,styleSpec:d}):[new ue(C,u[C],'unknown property "'+C+'"')])}return w}var su={"*":function(){return[]},array:y1,boolean:function(o){var u=o.value,d=o.key,g=Fi(u);return g!=="boolean"?[new ue(d,u,"boolean expected, "+g+" found")]:[]},number:v1,color:function(o){var u=o.key,d=o.value,g=Fi(d);return g!=="string"?[new ue(u,d,"color expected, "+g+" found")]:Wa(d)===null?[new ue(u,d,'color expected, "'+d+'" found')]:[]},constants:Ie,enum:qh,filter:eg,function:b1,layer:S1,object:Eo,source:wm,light:ic,string:ac,formatted:function(o){return ac(o).length===0?[]:tc(o)},resolvedImage:function(o){return ac(o).length===0?[]:tc(o)}};function ri(o){var u=o.value,d=o.valueSpec,g=o.styleSpec;return d.expression&&pm(lt(u))?b1(o):d.expression&&Bh(Ge(u))?tc(o):d.type&&su[d.type]?su[d.type](o):Eo(et({},o,{valueSpec:d.type?g[d.type]:d}))}function Ni(o){var u=o.value,d=o.key,g=ac(o);return g.length||(u.indexOf("{fontstack}")===-1&&g.push(new ue(d,u,'"glyphs" url must include a "{fontstack}" token')),u.indexOf("{range}")===-1&&g.push(new ue(d,u,'"glyphs" url must include a "{range}" token'))),g}function Ps(o,u){u===void 0&&(u=Y);var d=[];return d=d.concat(ri({key:"",value:o,valueSpec:u.$root,styleSpec:u,style:o,objectElementValidators:{glyphs:Ni,"*":function(){return[]}}})),o.constants&&(d=d.concat(Ie({key:"constants",value:o.constants,style:o,styleSpec:u}))),Vh(d)}function Vh(o){return[].concat(o).sort(function(u,d){return u.line-d.line})}function cd(o){return function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return Vh(o.apply(this,u))}}Ps.source=cd(wm),Ps.light=cd(ic),Ps.layer=cd(S1),Ps.filter=cd(eg),Ps.paintProperty=cd(ag),Ps.layoutProperty=cd(Uh);var jh=Ps,uw=jh.light,cw=jh.paintProperty,Hh=jh.layoutProperty;function Zh(o,u){var d=!1;if(u&&u.length)for(var g=0,x=u;g<x.length;g+=1)o.fire(new Ee(new Error(x[g].message))),d=!0;return d}var pl=Fn;function Fn(o,u,d){var g=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;var x=new Int32Array(this.arrayBuffer);o=x[0],this.d=(u=x[1])+2*(d=x[2]);for(var w=0;w<this.d*this.d;w++){var E=x[3+w],C=x[3+w+1];g.push(E===C?null:x.subarray(E,C))}var k=x[3+g.length+1];this.keys=x.subarray(x[3+g.length],k),this.bboxes=x.subarray(k),this.insert=this._insertReadonly}else{this.d=u+2*d;for(var D=0;D<this.d*this.d;D++)g.push([]);this.keys=[],this.bboxes=[]}this.n=u,this.extent=o,this.padding=d,this.scale=u/o,this.uid=0;var z=d/u*o;this.min=-z,this.max=o+z}Fn.prototype.insert=function(o,u,d,g,x){this._forEachCell(u,d,g,x,this._insertCell,this.uid++),this.keys.push(o),this.bboxes.push(u),this.bboxes.push(d),this.bboxes.push(g),this.bboxes.push(x)},Fn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Fn.prototype._insertCell=function(o,u,d,g,x,w){this.cells[x].push(w)},Fn.prototype.query=function(o,u,d,g,x){var w=this.min,E=this.max;if(o<=w&&u<=w&&E<=d&&E<=g&&!x)return Array.prototype.slice.call(this.keys);var C=[];return this._forEachCell(o,u,d,g,this._queryCell,C,{},x),C},Fn.prototype._queryCell=function(o,u,d,g,x,w,E,C){var k=this.cells[x];if(k!==null)for(var D=this.keys,z=this.bboxes,q=0;q<k.length;q++){var H=k[q];if(E[H]===void 0){var K=4*H;(C?C(z[K+0],z[K+1],z[K+2],z[K+3]):o<=z[K+2]&&u<=z[K+3]&&d>=z[K+0]&&g>=z[K+1])?(E[H]=!0,w.push(D[H])):E[H]=!1}}},Fn.prototype._forEachCell=function(o,u,d,g,x,w,E,C){for(var k=this._convertToCellCoord(o),D=this._convertToCellCoord(u),z=this._convertToCellCoord(d),q=this._convertToCellCoord(g),H=k;H<=z;H++)for(var K=D;K<=q;K++){var se=this.d*K+H;if((!C||C(this._convertFromCellCoord(H),this._convertFromCellCoord(K),this._convertFromCellCoord(H+1),this._convertFromCellCoord(K+1)))&&x.call(this,o,u,d,g,se,w,E,C))return}},Fn.prototype._convertFromCellCoord=function(o){return(o-this.padding)/this.scale},Fn.prototype._convertToCellCoord=function(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))},Fn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var o=this.cells,u=3+this.cells.length+1+1,d=0,g=0;g<this.cells.length;g++)d+=this.cells[g].length;var x=new Int32Array(u+d+this.keys.length+this.bboxes.length);x[0]=this.extent,x[1]=this.n,x[2]=this.padding;for(var w=u,E=0;E<o.length;E++){var C=o[E];x[3+E]=w,x.set(C,w),w+=C.length}return x[3+o.length]=w,x.set(this.keys,w),x[3+o.length+1]=w+=this.keys.length,x.set(this.bboxes,w),w+=this.bboxes.length,x.buffer};var Xh=b.ImageData,T1=b.ImageBitmap,Rn={};function Dt(o,u,d){d===void 0&&(d={}),Object.defineProperty(u,"_classRegistryKey",{value:o,writeable:!1}),Rn[o]={klass:u,omit:d.omit||[],shallow:d.shallow||[]}}for(var _s in Dt("Object",Object),pl.serialize=function(o,u){var d=o.toArrayBuffer();return u&&u.push(d),{buffer:d}},pl.deserialize=function(o){return new pl(o.buffer)},Dt("Grid",pl),Dt("Color",li),Dt("Error",Error),Dt("ResolvedImage",$r),Dt("StylePropertyFunction",ud),Dt("StyleExpression",od,{omit:["_evaluator"]}),Dt("ZoomDependentExpression",ld),Dt("ZoomConstantExpression",Gh),Dt("CompoundExpression",hr,{omit:["_evaluate"]}),$u)$u[_s]._classRegistryKey||Dt("Expression_"+_s,$u[_s]);function Sm(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}function dd(o){return T1&&o instanceof T1}function Mo(o,u){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp)return o;if(Sm(o)||dd(o))return u&&u.push(o),o;if(ArrayBuffer.isView(o)){var d=o;return u&&u.push(d.buffer),d}if(o instanceof Xh)return u&&u.push(o.data.buffer),o;if(Array.isArray(o)){for(var g=[],x=0,w=o;x<w.length;x+=1)g.push(Mo(w[x],u));return g}if(typeof o=="object"){var E=o.constructor,C=E._classRegistryKey;if(!C)throw new Error("can't serialize object of unregistered class");var k=E.serialize?E.serialize(o,u):{};if(!E.serialize){for(var D in o)if(o.hasOwnProperty(D)&&!(Rn[C].omit.indexOf(D)>=0)){var z=o[D];k[D]=Rn[C].shallow.indexOf(D)>=0?z:Mo(z,u)}o instanceof Error&&(k.message=o.message)}if(k.$name)throw new Error("$name property is reserved for worker serialization logic.");return C!=="Object"&&(k.$name=C),k}throw new Error("can't serialize object of type "+typeof o)}function ms(o){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||Sm(o)||dd(o)||ArrayBuffer.isView(o)||o instanceof Xh)return o;if(Array.isArray(o))return o.map(ms);if(typeof o=="object"){var u=o.$name||"Object",d=Rn[u].klass;if(!d)throw new Error("can't deserialize unregistered class "+u);if(d.deserialize)return d.deserialize(o);for(var g=Object.create(d.prototype),x=0,w=Object.keys(o);x<w.length;x+=1){var E=w[x];if(E!=="$name"){var C=o[E];g[E]=Rn[u].shallow.indexOf(E)>=0?C:ms(C)}}return g}throw new Error("can't deserialize object of type "+typeof o)}var ig=function(){this.first=!0};ig.prototype.update=function(o,u){var d=Math.floor(o);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=o,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=u):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=u),o!==this.lastZoom&&(this.lastZoom=o,this.lastFloorZoom=d,!0))};var Tt={"Latin-1 Supplement":function(o){return o>=128&&o<=255},Arabic:function(o){return o>=1536&&o<=1791},"Arabic Supplement":function(o){return o>=1872&&o<=1919},"Arabic Extended-A":function(o){return o>=2208&&o<=2303},"Hangul Jamo":function(o){return o>=4352&&o<=4607},"Unified Canadian Aboriginal Syllabics":function(o){return o>=5120&&o<=5759},Khmer:function(o){return o>=6016&&o<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(o){return o>=6320&&o<=6399},"General Punctuation":function(o){return o>=8192&&o<=8303},"Letterlike Symbols":function(o){return o>=8448&&o<=8527},"Number Forms":function(o){return o>=8528&&o<=8591},"Miscellaneous Technical":function(o){return o>=8960&&o<=9215},"Control Pictures":function(o){return o>=9216&&o<=9279},"Optical Character Recognition":function(o){return o>=9280&&o<=9311},"Enclosed Alphanumerics":function(o){return o>=9312&&o<=9471},"Geometric Shapes":function(o){return o>=9632&&o<=9727},"Miscellaneous Symbols":function(o){return o>=9728&&o<=9983},"Miscellaneous Symbols and Arrows":function(o){return o>=11008&&o<=11263},"CJK Radicals Supplement":function(o){return o>=11904&&o<=12031},"Kangxi Radicals":function(o){return o>=12032&&o<=12255},"Ideographic Description Characters":function(o){return o>=12272&&o<=12287},"CJK Symbols and Punctuation":function(o){return o>=12288&&o<=12351},Hiragana:function(o){return o>=12352&&o<=12447},Katakana:function(o){return o>=12448&&o<=12543},Bopomofo:function(o){return o>=12544&&o<=12591},"Hangul Compatibility Jamo":function(o){return o>=12592&&o<=12687},Kanbun:function(o){return o>=12688&&o<=12703},"Bopomofo Extended":function(o){return o>=12704&&o<=12735},"CJK Strokes":function(o){return o>=12736&&o<=12783},"Katakana Phonetic Extensions":function(o){return o>=12784&&o<=12799},"Enclosed CJK Letters and Months":function(o){return o>=12800&&o<=13055},"CJK Compatibility":function(o){return o>=13056&&o<=13311},"CJK Unified Ideographs Extension A":function(o){return o>=13312&&o<=19903},"Yijing Hexagram Symbols":function(o){return o>=19904&&o<=19967},"CJK Unified Ideographs":function(o){return o>=19968&&o<=40959},"Yi Syllables":function(o){return o>=40960&&o<=42127},"Yi Radicals":function(o){return o>=42128&&o<=42191},"Hangul Jamo Extended-A":function(o){return o>=43360&&o<=43391},"Hangul Syllables":function(o){return o>=44032&&o<=55215},"Hangul Jamo Extended-B":function(o){return o>=55216&&o<=55295},"Private Use Area":function(o){return o>=57344&&o<=63743},"CJK Compatibility Ideographs":function(o){return o>=63744&&o<=64255},"Arabic Presentation Forms-A":function(o){return o>=64336&&o<=65023},"Vertical Forms":function(o){return o>=65040&&o<=65055},"CJK Compatibility Forms":function(o){return o>=65072&&o<=65103},"Small Form Variants":function(o){return o>=65104&&o<=65135},"Arabic Presentation Forms-B":function(o){return o>=65136&&o<=65279},"Halfwidth and Fullwidth Forms":function(o){return o>=65280&&o<=65519}};function ng(o){for(var u=0,d=o;u<d.length;u+=1)if(Tm(d[u].charCodeAt(0)))return!0;return!1}function Tm(o){return!(o!==746&&o!==747&&(o<4352||!(Tt["Bopomofo Extended"](o)||Tt.Bopomofo(o)||Tt["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||Tt["CJK Compatibility Ideographs"](o)||Tt["CJK Compatibility"](o)||Tt["CJK Radicals Supplement"](o)||Tt["CJK Strokes"](o)||!(!Tt["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||o===12336)||Tt["CJK Unified Ideographs Extension A"](o)||Tt["CJK Unified Ideographs"](o)||Tt["Enclosed CJK Letters and Months"](o)||Tt["Hangul Compatibility Jamo"](o)||Tt["Hangul Jamo Extended-A"](o)||Tt["Hangul Jamo Extended-B"](o)||Tt["Hangul Jamo"](o)||Tt["Hangul Syllables"](o)||Tt.Hiragana(o)||Tt["Ideographic Description Characters"](o)||Tt.Kanbun(o)||Tt["Kangxi Radicals"](o)||Tt["Katakana Phonetic Extensions"](o)||Tt.Katakana(o)&&o!==12540||!(!Tt["Halfwidth and Fullwidth Forms"](o)||o===65288||o===65289||o===65293||o>=65306&&o<=65310||o===65339||o===65341||o===65343||o>=65371&&o<=65503||o===65507||o>=65512&&o<=65519)||!(!Tt["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||Tt["Unified Canadian Aboriginal Syllabics"](o)||Tt["Unified Canadian Aboriginal Syllabics Extended"](o)||Tt["Vertical Forms"](o)||Tt["Yijing Hexagram Symbols"](o)||Tt["Yi Syllables"](o)||Tt["Yi Radicals"](o))))}function rg(o){return!(Tm(o)||function(u){return!!(Tt["Latin-1 Supplement"](u)&&(u===167||u===169||u===174||u===177||u===188||u===189||u===190||u===215||u===247)||Tt["General Punctuation"](u)&&(u===8214||u===8224||u===8225||u===8240||u===8241||u===8251||u===8252||u===8258||u===8263||u===8264||u===8265||u===8273)||Tt["Letterlike Symbols"](u)||Tt["Number Forms"](u)||Tt["Miscellaneous Technical"](u)&&(u>=8960&&u<=8967||u>=8972&&u<=8991||u>=8996&&u<=9e3||u===9003||u>=9085&&u<=9114||u>=9150&&u<=9165||u===9167||u>=9169&&u<=9179||u>=9186&&u<=9215)||Tt["Control Pictures"](u)&&u!==9251||Tt["Optical Character Recognition"](u)||Tt["Enclosed Alphanumerics"](u)||Tt["Geometric Shapes"](u)||Tt["Miscellaneous Symbols"](u)&&!(u>=9754&&u<=9759)||Tt["Miscellaneous Symbols and Arrows"](u)&&(u>=11026&&u<=11055||u>=11088&&u<=11097||u>=11192&&u<=11243)||Tt["CJK Symbols and Punctuation"](u)||Tt.Katakana(u)||Tt["Private Use Area"](u)||Tt["CJK Compatibility Forms"](u)||Tt["Small Form Variants"](u)||Tt["Halfwidth and Fullwidth Forms"](u)||u===8734||u===8756||u===8757||u>=9984&&u<=10087||u>=10102&&u<=10131||u===65532||u===65533)}(o))}function io(o){return o>=1424&&o<=2303||Tt["Arabic Presentation Forms-A"](o)||Tt["Arabic Presentation Forms-B"](o)}function ps(o,u){return!(!u&&io(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||Tt.Khmer(o))}function Em(o){for(var u=0,d=o;u<d.length;u+=1)if(io(d[u].charCodeAt(0)))return!0;return!1}var Mm=null,fs="unavailable",fl=null,E1=function(o){o&&typeof o=="string"&&o.indexOf("NetworkError")>-1&&(fs="error"),Mm&&Mm(o)};function Yh(){sg.fire(new oe("pluginStateChange",{pluginStatus:fs,pluginURL:fl}))}var sg=new Se,og=function(){return fs},Lo=function(){if(fs!=="deferred"||!fl)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");fs="loading",Yh(),fl&&Ki({url:fl},function(o){o?E1(o):(fs="loaded",Yh())})},Ds={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return fs==="loaded"||Ds.applyArabicShaping!=null},isLoading:function(){return fs==="loading"},setState:function(o){fs=o.pluginStatus,fl=o.pluginURL},isParsed:function(){return Ds.applyArabicShaping!=null&&Ds.processBidirectionalText!=null&&Ds.processStyledBidirectionalText!=null},getPluginURL:function(){return fl}},Ha=function(o,u){this.zoom=o,u?(this.now=u.now,this.fadeDuration=u.fadeDuration,this.zoomHistory=u.zoomHistory,this.transition=u.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ig,this.transition={})};Ha.prototype.isSupportedScript=function(o){return function(u,d){for(var g=0,x=u;g<x.length;g+=1)if(!ps(x[g].charCodeAt(0),d))return!1;return!0}(o,Ds.isLoaded())},Ha.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ha.prototype.getCrossfadeParameters=function(){var o=this.zoom,u=o-Math.floor(o),d=this.crossFadingFactor();return o>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:u+(1-u)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*u}};var Xo=function(o,u){this.property=o,this.value=u,this.expression=function(d,g){if(pm(d))return new ud(d,g);if(Bh(d)){var x=g1(d,g);if(x.result==="error")throw new Error(x.value.map(function(E){return E.key+": "+E.message}).join(", "));return x.value}var w=d;return typeof d=="string"&&g.type==="color"&&(w=li.parse(d)),{kind:"constant",evaluate:function(){return w}}}(u===void 0?o.specification.default:u,o.specification)};Xo.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Xo.prototype.possiblyEvaluate=function(o,u,d){return this.property.possiblyEvaluate(this,o,u,d)};var no=function(o){this.property=o,this.value=new Xo(o,void 0)};no.prototype.transitioned=function(o,u){return new nc(this.property,this.value,u,F({},o.transition,this.transition),o.now)},no.prototype.untransitioned=function(){return new nc(this.property,this.value,null,{},0)};var mr=function(o){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues)};mr.prototype.getValue=function(o){return fe(this._values[o].value.value)},mr.prototype.setValue=function(o,u){this._values.hasOwnProperty(o)||(this._values[o]=new no(this._values[o].property)),this._values[o].value=new Xo(this._values[o].property,u===null?void 0:fe(u))},mr.prototype.getTransition=function(o){return fe(this._values[o].transition)},mr.prototype.setTransition=function(o,u){this._values.hasOwnProperty(o)||(this._values[o]=new no(this._values[o].property)),this._values[o].transition=fe(u)||void 0},mr.prototype.serialize=function(){for(var o={},u=0,d=Object.keys(this._values);u<d.length;u+=1){var g=d[u],x=this.getValue(g);x!==void 0&&(o[g]=x);var w=this.getTransition(g);w!==void 0&&(o[g+"-transition"]=w)}return o},mr.prototype.transitioned=function(o,u){for(var d=new ou(this._properties),g=0,x=Object.keys(this._values);g<x.length;g+=1){var w=x[g];d._values[w]=this._values[w].transitioned(o,u._values[w])}return d},mr.prototype.untransitioned=function(){for(var o=new ou(this._properties),u=0,d=Object.keys(this._values);u<d.length;u+=1){var g=d[u];o._values[g]=this._values[g].untransitioned()}return o};var nc=function(o,u,d,g,x){this.property=o,this.value=u,this.begin=x+g.delay||0,this.end=this.begin+g.duration||0,o.specification.transition&&(g.delay||g.duration)&&(this.prior=d)};nc.prototype.possiblyEvaluate=function(o,u,d){var g=o.now||0,x=this.value.possiblyEvaluate(o,u,d),w=this.prior;if(w){if(g>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(g<this.begin)return w.possiblyEvaluate(o,u,d);var E=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(w.possiblyEvaluate(o,u,d),x,function(C){if(C<=0)return 0;if(C>=1)return 1;var k=C*C,D=k*C;return 4*(C<.5?D:3*(C-k)+D-.75)}(E))}return x};var ou=function(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)};ou.prototype.possiblyEvaluate=function(o,u,d){for(var g=new Kh(this._properties),x=0,w=Object.keys(this._values);x<w.length;x+=1){var E=w[x];g._values[E]=this._values[E].possiblyEvaluate(o,u,d)}return g},ou.prototype.hasTransition=function(){for(var o=0,u=Object.keys(this._values);o<u.length;o+=1)if(this._values[u[o]].prior)return!0;return!1};var Ao=function(o){this._properties=o,this._values=Object.create(o.defaultPropertyValues)};Ao.prototype.getValue=function(o){return fe(this._values[o].value)},Ao.prototype.setValue=function(o,u){this._values[o]=new Xo(this._values[o].property,u===null?void 0:fe(u))},Ao.prototype.serialize=function(){for(var o={},u=0,d=Object.keys(this._values);u<d.length;u+=1){var g=d[u],x=this.getValue(g);x!==void 0&&(o[g]=x)}return o},Ao.prototype.possiblyEvaluate=function(o,u,d){for(var g=new Kh(this._properties),x=0,w=Object.keys(this._values);x<w.length;x+=1){var E=w[x];g._values[E]=this._values[E].possiblyEvaluate(o,u,d)}return g};var Nr=function(o,u,d){this.property=o,this.value=u,this.parameters=d};Nr.prototype.isConstant=function(){return this.value.kind==="constant"},Nr.prototype.constantOr=function(o){return this.value.kind==="constant"?this.value.value:o},Nr.prototype.evaluate=function(o,u,d,g){return this.property.evaluate(this.value,this.parameters,o,u,d,g)};var Kh=function(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)};Kh.prototype.get=function(o){return this._values[o]};var Kt=function(o){this.specification=o};Kt.prototype.possiblyEvaluate=function(o,u){return o.expression.evaluate(u)},Kt.prototype.interpolate=function(o,u,d){var g=rd[this.specification.type];return g?g(o,u,d):o};var zt=function(o,u){this.specification=o,this.overrides=u};zt.prototype.possiblyEvaluate=function(o,u,d,g){return new Nr(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(u,null,{},d,g)}:o.expression,u)},zt.prototype.interpolate=function(o,u,d){if(o.value.kind!=="constant"||u.value.kind!=="constant")return o;if(o.value.value===void 0||u.value.value===void 0)return new Nr(this,{kind:"constant",value:void 0},o.parameters);var g=rd[this.specification.type];return g?new Nr(this,{kind:"constant",value:g(o.value.value,u.value.value,d)},o.parameters):o},zt.prototype.evaluate=function(o,u,d,g,x,w){return o.kind==="constant"?o.value:o.evaluate(u,d,g,x,w)};var Lm=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.possiblyEvaluate=function(d,g,x,w){if(d.value===void 0)return new Nr(this,{kind:"constant",value:void 0},g);if(d.expression.kind==="constant"){var E=d.expression.evaluate(g,null,{},x,w),C=d.property.specification.type==="resolvedImage"&&typeof E!="string"?E.name:E,k=this._calculate(C,C,C,g);return new Nr(this,{kind:"constant",value:k},g)}if(d.expression.kind==="camera"){var D=this._calculate(d.expression.evaluate({zoom:g.zoom-1}),d.expression.evaluate({zoom:g.zoom}),d.expression.evaluate({zoom:g.zoom+1}),g);return new Nr(this,{kind:"constant",value:D},g)}return new Nr(this,d.expression,g)},u.prototype.evaluate=function(d,g,x,w,E,C){if(d.kind==="source"){var k=d.evaluate(g,x,w,E,C);return this._calculate(k,k,k,g)}return d.kind==="composite"?this._calculate(d.evaluate({zoom:Math.floor(g.zoom)-1},x,w),d.evaluate({zoom:Math.floor(g.zoom)},x,w),d.evaluate({zoom:Math.floor(g.zoom)+1},x,w),g):d.value},u.prototype._calculate=function(d,g,x,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:d,to:g}:{from:x,to:g}},u.prototype.interpolate=function(d){return d},u}(zt),Wr=function(o){this.specification=o};Wr.prototype.possiblyEvaluate=function(o,u,d,g){if(o.value!==void 0){if(o.expression.kind==="constant"){var x=o.expression.evaluate(u,null,{},d,g);return this._calculate(x,x,x,u)}return this._calculate(o.expression.evaluate(new Ha(Math.floor(u.zoom-1),u)),o.expression.evaluate(new Ha(Math.floor(u.zoom),u)),o.expression.evaluate(new Ha(Math.floor(u.zoom+1),u)),u)}},Wr.prototype._calculate=function(o,u,d,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:o,to:u}:{from:d,to:u}},Wr.prototype.interpolate=function(o){return o};var Co=function(o){this.specification=o};Co.prototype.possiblyEvaluate=function(o,u,d,g){return!!o.expression.evaluate(u,null,{},d,g)},Co.prototype.interpolate=function(){return!1};var pr=function(o){for(var u in this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],o){var d=o[u];d.specification.overridable&&this.overridableProperties.push(u);var g=this.defaultPropertyValues[u]=new Xo(d,void 0),x=this.defaultTransitionablePropertyValues[u]=new no(d);this.defaultTransitioningPropertyValues[u]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=g.possiblyEvaluate({})}};Dt("DataDrivenProperty",zt),Dt("DataConstantProperty",Kt),Dt("CrossFadedDataDrivenProperty",Lm),Dt("CrossFadedProperty",Wr),Dt("ColorRampProperty",Co);var Yo=function(o){function u(d,g){if(o.call(this),this.id=d.id,this.type=d.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},d.type!=="custom"&&(this.metadata=(d=d).metadata,this.minzoom=d.minzoom,this.maxzoom=d.maxzoom,d.type!=="background"&&(this.source=d.source,this.sourceLayer=d["source-layer"],this.filter=d.filter),g.layout&&(this._unevaluatedLayout=new Ao(g.layout)),g.paint)){for(var x in this._transitionablePaint=new mr(g.paint),d.paint)this.setPaintProperty(x,d.paint[x],{validate:!1});for(var w in d.layout)this.setLayoutProperty(w,d.layout[w],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Kh(g.paint)}}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},u.prototype.getLayoutProperty=function(d){return d==="visibility"?this.visibility:this._unevaluatedLayout.getValue(d)},u.prototype.setLayoutProperty=function(d,g,x){x===void 0&&(x={}),g!=null&&this._validate(Hh,"layers."+this.id+".layout."+d,d,g,x)||(d!=="visibility"?this._unevaluatedLayout.setValue(d,g):this.visibility=g)},u.prototype.getPaintProperty=function(d){return _e(d,"-transition")?this._transitionablePaint.getTransition(d.slice(0,-11)):this._transitionablePaint.getValue(d)},u.prototype.setPaintProperty=function(d,g,x){if(x===void 0&&(x={}),g!=null&&this._validate(cw,"layers."+this.id+".paint."+d,d,g,x))return!1;if(_e(d,"-transition"))return this._transitionablePaint.setTransition(d.slice(0,-11),g||void 0),!1;var w=this._transitionablePaint._values[d],E=w.property.specification["property-type"]==="cross-faded-data-driven",C=w.value.isDataDriven(),k=w.value;this._transitionablePaint.setValue(d,g),this._handleSpecialPaintPropertyUpdate(d);var D=this._transitionablePaint._values[d].value;return D.isDataDriven()||C||E||this._handleOverridablePaintPropertyUpdate(d,k,D)},u.prototype._handleSpecialPaintPropertyUpdate=function(d){},u.prototype._handleOverridablePaintPropertyUpdate=function(d,g,x){return!1},u.prototype.isHidden=function(d){return!!(this.minzoom&&d<this.minzoom)||!!(this.maxzoom&&d>=this.maxzoom)||this.visibility==="none"},u.prototype.updateTransitions=function(d){this._transitioningPaint=this._transitionablePaint.transitioned(d,this._transitioningPaint)},u.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},u.prototype.recalculate=function(d,g){d.getCrossfadeParameters&&(this._crossfadeParameters=d.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(d,void 0,g)),this.paint=this._transitioningPaint.possiblyEvaluate(d,void 0,g)},u.prototype.serialize=function(){var d={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(d.layout=d.layout||{},d.layout.visibility=this.visibility),me(d,function(g,x){return!(g===void 0||x==="layout"&&!Object.keys(g).length||x==="paint"&&!Object.keys(g).length)})},u.prototype._validate=function(d,g,x,w,E){return E===void 0&&(E={}),(!E||E.validate!==!1)&&Zh(this,d.call(jh,{key:g,layerType:this.type,objectKey:x,value:w,styleSpec:Y,style:{glyphs:!0,sprite:!0}}))},u.prototype.is3D=function(){return!1},u.prototype.isTileClipped=function(){return!1},u.prototype.hasOffscreenPass=function(){return!1},u.prototype.resize=function(){},u.prototype.isStateDependent=function(){for(var d in this.paint._values){var g=this.paint.get(d);if(g instanceof Nr&&ec(g.property.specification)&&(g.value.kind==="source"||g.value.kind==="composite")&&g.value.isStateDependent)return!0}return!1},u}(Se),lg={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Am=function(o,u){this._structArray=o,this._pos1=u*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},gi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ir(o,u){u===void 0&&(u=1);var d=0,g=0;return{members:o.map(function(x){var w=lg[x.type].BYTES_PER_ELEMENT,E=d=M1(d,Math.max(u,w)),C=x.components||1;return g=Math.max(g,w),d+=w*C,{name:x.name,type:x.type,components:C,offset:E}}),size:M1(d,Math.max(g,u)),alignment:u}}function M1(o,u){return Math.ceil(o/u)*u}gi.serialize=function(o,u){return o._trim(),u&&(o.isTransferred=!0,u.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}},gi.deserialize=function(o){var u=Object.create(this.prototype);return u.arrayBuffer=o.arrayBuffer,u.length=o.length,u.capacity=o.arrayBuffer.byteLength/u.bytesPerElement,u._refreshViews(),u},gi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},gi.prototype.clear=function(){this.length=0},gi.prototype.resize=function(o){this.reserve(o),this.length=o},gi.prototype.reserve=function(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var u=this.uint8;this._refreshViews(),u&&this.uint8.set(u)}},gi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var rc=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g){var x=this.length;return this.resize(x+1),this.emplace(x,d,g)},u.prototype.emplace=function(d,g,x){var w=2*d;return this.int16[w+0]=g,this.int16[w+1]=x,d},u}(gi);rc.prototype.bytesPerElement=4,Dt("StructArrayLayout2i4",rc);var ug=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w){var E=this.length;return this.resize(E+1),this.emplace(E,d,g,x,w)},u.prototype.emplace=function(d,g,x,w,E){var C=4*d;return this.int16[C+0]=g,this.int16[C+1]=x,this.int16[C+2]=w,this.int16[C+3]=E,d},u}(gi);ug.prototype.bytesPerElement=8,Dt("StructArrayLayout4i8",ug);var gl=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w,E,C){var k=this.length;return this.resize(k+1),this.emplace(k,d,g,x,w,E,C)},u.prototype.emplace=function(d,g,x,w,E,C,k){var D=6*d;return this.int16[D+0]=g,this.int16[D+1]=x,this.int16[D+2]=w,this.int16[D+3]=E,this.int16[D+4]=C,this.int16[D+5]=k,d},u}(gi);gl.prototype.bytesPerElement=12,Dt("StructArrayLayout2i4i12",gl);var gs=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w,E,C){var k=this.length;return this.resize(k+1),this.emplace(k,d,g,x,w,E,C)},u.prototype.emplace=function(d,g,x,w,E,C,k){var D=4*d,z=8*d;return this.int16[D+0]=g,this.int16[D+1]=x,this.uint8[z+4]=w,this.uint8[z+5]=E,this.uint8[z+6]=C,this.uint8[z+7]=k,d},u}(gi);gs.prototype.bytesPerElement=8,Dt("StructArrayLayout2i4ub8",gs);var hd=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g){var x=this.length;return this.resize(x+1),this.emplace(x,d,g)},u.prototype.emplace=function(d,g,x){var w=2*d;return this.float32[w+0]=g,this.float32[w+1]=x,d},u}(gi);hd.prototype.bytesPerElement=8,Dt("StructArrayLayout2f8",hd);var Ko=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w,E,C,k,D,z,q){var H=this.length;return this.resize(H+1),this.emplace(H,d,g,x,w,E,C,k,D,z,q)},u.prototype.emplace=function(d,g,x,w,E,C,k,D,z,q,H){var K=10*d;return this.uint16[K+0]=g,this.uint16[K+1]=x,this.uint16[K+2]=w,this.uint16[K+3]=E,this.uint16[K+4]=C,this.uint16[K+5]=k,this.uint16[K+6]=D,this.uint16[K+7]=z,this.uint16[K+8]=q,this.uint16[K+9]=H,d},u}(gi);Ko.prototype.bytesPerElement=20,Dt("StructArrayLayout10ui20",Ko);var Cm=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w,E,C,k,D,z,q,H,K){var se=this.length;return this.resize(se+1),this.emplace(se,d,g,x,w,E,C,k,D,z,q,H,K)},u.prototype.emplace=function(d,g,x,w,E,C,k,D,z,q,H,K,se){var le=12*d;return this.int16[le+0]=g,this.int16[le+1]=x,this.int16[le+2]=w,this.int16[le+3]=E,this.uint16[le+4]=C,this.uint16[le+5]=k,this.uint16[le+6]=D,this.uint16[le+7]=z,this.int16[le+8]=q,this.int16[le+9]=H,this.int16[le+10]=K,this.int16[le+11]=se,d},u}(gi);Cm.prototype.bytesPerElement=24,Dt("StructArrayLayout4i4ui4i24",Cm);var _d=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x){var w=this.length;return this.resize(w+1),this.emplace(w,d,g,x)},u.prototype.emplace=function(d,g,x,w){var E=3*d;return this.float32[E+0]=g,this.float32[E+1]=x,this.float32[E+2]=w,d},u}(gi);_d.prototype.bytesPerElement=12,Dt("StructArrayLayout3f12",_d);var $h=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d){var g=this.length;return this.resize(g+1),this.emplace(g,d)},u.prototype.emplace=function(d,g){return this.uint32[1*d+0]=g,d},u}(gi);$h.prototype.bytesPerElement=4,Dt("StructArrayLayout1ul4",$h);var cg=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w,E,C,k,D,z){var q=this.length;return this.resize(q+1),this.emplace(q,d,g,x,w,E,C,k,D,z)},u.prototype.emplace=function(d,g,x,w,E,C,k,D,z,q){var H=10*d,K=5*d;return this.int16[H+0]=g,this.int16[H+1]=x,this.int16[H+2]=w,this.int16[H+3]=E,this.int16[H+4]=C,this.int16[H+5]=k,this.uint32[K+3]=D,this.uint16[H+8]=z,this.uint16[H+9]=q,d},u}(gi);cg.prototype.bytesPerElement=20,Dt("StructArrayLayout6i1ul2ui20",cg);var md=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w,E,C){var k=this.length;return this.resize(k+1),this.emplace(k,d,g,x,w,E,C)},u.prototype.emplace=function(d,g,x,w,E,C,k){var D=6*d;return this.int16[D+0]=g,this.int16[D+1]=x,this.int16[D+2]=w,this.int16[D+3]=E,this.int16[D+4]=C,this.int16[D+5]=k,d},u}(gi);md.prototype.bytesPerElement=12,Dt("StructArrayLayout2i2i2i12",md);var sc=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w,E){var C=this.length;return this.resize(C+1),this.emplace(C,d,g,x,w,E)},u.prototype.emplace=function(d,g,x,w,E,C){var k=4*d,D=8*d;return this.float32[k+0]=g,this.float32[k+1]=x,this.float32[k+2]=w,this.int16[D+6]=E,this.int16[D+7]=C,d},u}(gi);sc.prototype.bytesPerElement=16,Dt("StructArrayLayout2f1f2i16",sc);var dg=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w){var E=this.length;return this.resize(E+1),this.emplace(E,d,g,x,w)},u.prototype.emplace=function(d,g,x,w,E){var C=12*d,k=3*d;return this.uint8[C+0]=g,this.uint8[C+1]=x,this.float32[k+1]=w,this.float32[k+2]=E,d},u}(gi);dg.prototype.bytesPerElement=12,Dt("StructArrayLayout2ub2f12",dg);var lu=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x){var w=this.length;return this.resize(w+1),this.emplace(w,d,g,x)},u.prototype.emplace=function(d,g,x,w){var E=3*d;return this.uint16[E+0]=g,this.uint16[E+1]=x,this.uint16[E+2]=w,d},u}(gi);lu.prototype.bytesPerElement=6,Dt("StructArrayLayout3ui6",lu);var uu=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w,E,C,k,D,z,q,H,K,se,le,Te,ge,Ce){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,d,g,x,w,E,C,k,D,z,q,H,K,se,le,Te,ge,Ce)},u.prototype.emplace=function(d,g,x,w,E,C,k,D,z,q,H,K,se,le,Te,ge,Ce,Pe){var Fe=24*d,ze=12*d,Ke=48*d;return this.int16[Fe+0]=g,this.int16[Fe+1]=x,this.uint16[Fe+2]=w,this.uint16[Fe+3]=E,this.uint32[ze+2]=C,this.uint32[ze+3]=k,this.uint32[ze+4]=D,this.uint16[Fe+10]=z,this.uint16[Fe+11]=q,this.uint16[Fe+12]=H,this.float32[ze+7]=K,this.float32[ze+8]=se,this.uint8[Ke+36]=le,this.uint8[Ke+37]=Te,this.uint8[Ke+38]=ge,this.uint32[ze+10]=Ce,this.int16[Fe+22]=Pe,d},u}(gi);uu.prototype.bytesPerElement=48,Dt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",uu);var Im=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w,E,C,k,D,z,q,H,K,se,le,Te,ge,Ce,Pe,Fe,ze,Ke,dt,gt,jt,Ct,Qt,It,Pa){var oa=this.length;return this.resize(oa+1),this.emplace(oa,d,g,x,w,E,C,k,D,z,q,H,K,se,le,Te,ge,Ce,Pe,Fe,ze,Ke,dt,gt,jt,Ct,Qt,It,Pa)},u.prototype.emplace=function(d,g,x,w,E,C,k,D,z,q,H,K,se,le,Te,ge,Ce,Pe,Fe,ze,Ke,dt,gt,jt,Ct,Qt,It,Pa,oa){var Bt=34*d,qa=17*d;return this.int16[Bt+0]=g,this.int16[Bt+1]=x,this.int16[Bt+2]=w,this.int16[Bt+3]=E,this.int16[Bt+4]=C,this.int16[Bt+5]=k,this.int16[Bt+6]=D,this.int16[Bt+7]=z,this.uint16[Bt+8]=q,this.uint16[Bt+9]=H,this.uint16[Bt+10]=K,this.uint16[Bt+11]=se,this.uint16[Bt+12]=le,this.uint16[Bt+13]=Te,this.uint16[Bt+14]=ge,this.uint16[Bt+15]=Ce,this.uint16[Bt+16]=Pe,this.uint16[Bt+17]=Fe,this.uint16[Bt+18]=ze,this.uint16[Bt+19]=Ke,this.uint16[Bt+20]=dt,this.uint16[Bt+21]=gt,this.uint16[Bt+22]=jt,this.uint32[qa+12]=Ct,this.float32[qa+13]=Qt,this.float32[qa+14]=It,this.float32[qa+15]=Pa,this.float32[qa+16]=oa,d},u}(gi);Im.prototype.bytesPerElement=68,Dt("StructArrayLayout8i15ui1ul4f68",Im);var cu=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d){var g=this.length;return this.resize(g+1),this.emplace(g,d)},u.prototype.emplace=function(d,g){return this.float32[1*d+0]=g,d},u}(gi);cu.prototype.bytesPerElement=4,Dt("StructArrayLayout1f4",cu);var ro=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x){var w=this.length;return this.resize(w+1),this.emplace(w,d,g,x)},u.prototype.emplace=function(d,g,x,w){var E=3*d;return this.int16[E+0]=g,this.int16[E+1]=x,this.int16[E+2]=w,d},u}(gi);ro.prototype.bytesPerElement=6,Dt("StructArrayLayout3i6",ro);var hg=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x){var w=this.length;return this.resize(w+1),this.emplace(w,d,g,x)},u.prototype.emplace=function(d,g,x,w){var E=4*d;return this.uint32[2*d+0]=g,this.uint16[E+2]=x,this.uint16[E+3]=w,d},u}(gi);hg.prototype.bytesPerElement=8,Dt("StructArrayLayout1ul2ui8",hg);var Qh=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g){var x=this.length;return this.resize(x+1),this.emplace(x,d,g)},u.prototype.emplace=function(d,g,x){var w=2*d;return this.uint16[w+0]=g,this.uint16[w+1]=x,d},u}(gi);Qh.prototype.bytesPerElement=4,Dt("StructArrayLayout2ui4",Qh);var _g=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d){var g=this.length;return this.resize(g+1),this.emplace(g,d)},u.prototype.emplace=function(d,g){return this.uint16[1*d+0]=g,d},u}(gi);_g.prototype.bytesPerElement=2,Dt("StructArrayLayout1ui2",_g);var Rm=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},u.prototype.emplaceBack=function(d,g,x,w){var E=this.length;return this.resize(E+1),this.emplace(E,d,g,x,w)},u.prototype.emplace=function(d,g,x,w,E){var C=4*d;return this.float32[C+0]=g,this.float32[C+1]=x,this.float32[C+2]=w,this.float32[C+3]=E,d},u}(gi);Rm.prototype.bytesPerElement=16,Dt("StructArrayLayout4f16",Rm);var _=function(o){function u(){o.apply(this,arguments)}o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u;var d={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return d.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},d.x1.get=function(){return this._structArray.int16[this._pos2+2]},d.y1.get=function(){return this._structArray.int16[this._pos2+3]},d.x2.get=function(){return this._structArray.int16[this._pos2+4]},d.y2.get=function(){return this._structArray.int16[this._pos2+5]},d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.anchorPoint.get=function(){return new f(this.anchorPointX,this.anchorPointY)},Object.defineProperties(u.prototype,d),u}(Am);_.prototype.size=20;var p=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.get=function(d){return new _(this,d)},u}(cg);Dt("CollisionBoxArray",p);var m=function(o){function u(){o.apply(this,arguments)}o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},d.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},d.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},d.segment.get=function(){return this._structArray.uint16[this._pos2+10]},d.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},d.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},d.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},d.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},d.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},d.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},d.placedOrientation.set=function(g){this._structArray.uint8[this._pos1+37]=g},d.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},d.hidden.set=function(g){this._structArray.uint8[this._pos1+38]=g},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},d.crossTileID.set=function(g){this._structArray.uint32[this._pos4+10]=g},d.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(u.prototype,d),u}(Am);m.prototype.size=48;var y=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.get=function(d){return new m(this,d)},u}(uu);Dt("PlacedSymbolArray",y);var S=function(o){function u(){o.apply(this,arguments)}o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},d.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},d.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},d.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},d.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},d.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},d.key.get=function(){return this._structArray.uint16[this._pos2+8]},d.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},d.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},d.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},d.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},d.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},d.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},d.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},d.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},d.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},d.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},d.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},d.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},d.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},d.crossTileID.set=function(g){this._structArray.uint32[this._pos4+12]=g},d.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},d.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},d.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},d.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(u.prototype,d),u}(Am);S.prototype.size=68;var L=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.get=function(d){return new S(this,d)},u}(Im);Dt("SymbolInstanceArray",L);var A=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.getoffsetX=function(d){return this.float32[1*d+0]},u}(cu);Dt("GlyphOffsetArray",A);var O=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.getx=function(d){return this.int16[3*d+0]},u.prototype.gety=function(d){return this.int16[3*d+1]},u.prototype.gettileUnitDistanceFromAnchor=function(d){return this.int16[3*d+2]},u}(ro);Dt("SymbolLineVertexArray",O);var N=function(o){function u(){o.apply(this,arguments)}o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u;var d={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(u.prototype,d),u}(Am);N.prototype.size=8;var U=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.get=function(d){return new N(this,d)},u}(hg);Dt("FeatureIndexArray",U);var Q=ir([{name:"a_pos",components:2,type:"Int16"}],4).members,J=function(o){o===void 0&&(o=[]),this.segments=o};function te(o,u){return 256*(o=R(Math.floor(o),0,255))+R(Math.floor(u),0,255)}J.prototype.prepareSegment=function(o,u,d,g){var x=this.segments[this.segments.length-1];return o>J.MAX_VERTEX_ARRAY_LENGTH&&Ae("Max vertices per segment is "+J.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+o),(!x||x.vertexLength+o>J.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==g)&&(x={vertexOffset:u.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},g!==void 0&&(x.sortKey=g),this.segments.push(x)),x},J.prototype.get=function(){return this.segments},J.prototype.destroy=function(){for(var o=0,u=this.segments;o<u.length;o+=1){var d=u[o];for(var g in d.vaos)d.vaos[g].destroy()}},J.simpleSegment=function(o,u,d,g){return new J([{vertexOffset:o,primitiveOffset:u,vertexLength:d,primitiveLength:g,vaos:{},sortKey:0}])},J.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Dt("SegmentVector",J);var de=ir([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ce=l(function(o){o.exports=function(u,d){var g,x,w,E,C,k,D,z;for(x=u.length-(g=3&u.length),w=d,C=3432918353,k=461845907,z=0;z<x;)D=255&u.charCodeAt(z)|(255&u.charCodeAt(++z))<<8|(255&u.charCodeAt(++z))<<16|(255&u.charCodeAt(++z))<<24,++z,w=27492+(65535&(E=5*(65535&(w=(w^=D=(65535&(D=(D=(65535&D)*C+(((D>>>16)*C&65535)<<16)&4294967295)<<15|D>>>17))*k+(((D>>>16)*k&65535)<<16)&4294967295)<<13|w>>>19))+((5*(w>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(D=0,g){case 3:D^=(255&u.charCodeAt(z+2))<<16;case 2:D^=(255&u.charCodeAt(z+1))<<8;case 1:w^=D=(65535&(D=(D=(65535&(D^=255&u.charCodeAt(z)))*C+(((D>>>16)*C&65535)<<16)&4294967295)<<15|D>>>17))*k+(((D>>>16)*k&65535)<<16)&4294967295}return w^=u.length,w=2246822507*(65535&(w^=w>>>16))+((2246822507*(w>>>16)&65535)<<16)&4294967295,w=3266489909*(65535&(w^=w>>>13))+((3266489909*(w>>>16)&65535)<<16)&4294967295,(w^=w>>>16)>>>0}}),ve=l(function(o){o.exports=function(u,d){for(var g,x=u.length,w=d^x,E=0;x>=4;)g=1540483477*(65535&(g=255&u.charCodeAt(E)|(255&u.charCodeAt(++E))<<8|(255&u.charCodeAt(++E))<<16|(255&u.charCodeAt(++E))<<24))+((1540483477*(g>>>16)&65535)<<16),w=1540483477*(65535&w)+((1540483477*(w>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),x-=4,++E;switch(x){case 3:w^=(255&u.charCodeAt(E+2))<<16;case 2:w^=(255&u.charCodeAt(E+1))<<8;case 1:w=1540483477*(65535&(w^=255&u.charCodeAt(E)))+((1540483477*(w>>>16)&65535)<<16)}return w=1540483477*(65535&(w^=w>>>13))+((1540483477*(w>>>16)&65535)<<16),(w^=w>>>15)>>>0}}),re=ce,ye=ve;re.murmur3=ce,re.murmur2=ye;var Me=function(){this.ids=[],this.positions=[],this.indexed=!1};Me.prototype.add=function(o,u,d,g){this.ids.push(Be(o)),this.positions.push(u,d,g)},Me.prototype.getPositions=function(o){for(var u=Be(o),d=0,g=this.ids.length-1;d<g;){var x=d+g>>1;this.ids[x]>=u?g=x:d=x+1}for(var w=[];this.ids[d]===u;)w.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return w},Me.serialize=function(o,u){var d=new Float64Array(o.ids),g=new Uint32Array(o.positions);return function x(w,E,C,k){for(;C<k;){for(var D=w[C+k>>1],z=C-1,q=k+1;;){do z++;while(w[z]<D);do q--;while(w[q]>D);if(z>=q)break;Ne(w,z,q),Ne(E,3*z,3*q),Ne(E,3*z+1,3*q+1),Ne(E,3*z+2,3*q+2)}q-C<k-q?(x(w,E,C,q),C=q+1):(x(w,E,q+1,k),k=q)}}(d,g,0,d.length-1),u&&u.push(d.buffer,g.buffer),{ids:d,positions:g}},Me.deserialize=function(o){var u=new Me;return u.ids=o.ids,u.positions=o.positions,u.indexed=!0,u};var ke=Math.pow(2,53)-1;function Be(o){var u=+o;return!isNaN(u)&&u<=ke?u:re(String(o))}function Ne(o,u,d){var g=o[u];o[u]=o[d],o[d]=g}Dt("FeaturePositionMap",Me);var Ue=function(o,u){this.gl=o.gl,this.location=u},at=function(o){function u(d,g){o.call(this,d,g),this.current=0}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))},u}(Ue),mt=function(o){function u(d,g){o.call(this,d,g),this.current=0}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))},u}(Ue),ht=function(o){function u(d,g){o.call(this,d,g),this.current=[0,0]}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))},u}(Ue),Rt=function(o){function u(d,g){o.call(this,d,g),this.current=[0,0,0]}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))},u}(Ue),$t=function(o){function u(d,g){o.call(this,d,g),this.current=[0,0,0,0]}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3]))},u}(Ue),ia=function(o){function u(d,g){o.call(this,d,g),this.current=li.transparent}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.set=function(d){d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a))},u}(Ue),ta=new Float32Array(16),ui=function(o){function u(d,g){o.call(this,d,g),this.current=ta}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.set=function(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(var g=1;g<16;g++)if(d[g]!==this.current[g]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}},u}(Ue);function kt(o){return[te(255*o.r,255*o.g),te(255*o.b,255*o.a)]}var pa=function(o,u,d){this.value=o,this.uniformNames=u.map(function(g){return"u_"+g}),this.type=d};pa.prototype.setUniform=function(o,u,d){o.set(d.constantOr(this.value))},pa.prototype.getBinding=function(o,u,d){return this.type==="color"?new ia(o,u):new mt(o,u)};var Oa=function(o,u){this.uniformNames=u.map(function(d){return"u_"+d}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Oa.prototype.setConstantPatternPositions=function(o,u){this.pixelRatioFrom=u.pixelRatio,this.pixelRatioTo=o.pixelRatio,this.patternFrom=u.tlbr,this.patternTo=o.tlbr},Oa.prototype.setUniform=function(o,u,d,g){var x=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;x&&o.set(x)},Oa.prototype.getBinding=function(o,u,d){return d.substr(0,9)==="u_pattern"?new $t(o,u):new mt(o,u)};var ha=function(o,u,d,g){this.expression=o,this.type=d,this.maxValue=0,this.paintVertexAttributes=u.map(function(x){return{name:"a_"+x,type:"Float32",components:d==="color"?2:1,offset:0}}),this.paintVertexArray=new g};ha.prototype.populatePaintArray=function(o,u,d,g,x){var w=this.paintVertexArray.length,E=this.expression.evaluate(new Ha(0),u,{},g,[],x);this.paintVertexArray.resize(o),this._setPaintValue(w,o,E)},ha.prototype.updatePaintArray=function(o,u,d,g){var x=this.expression.evaluate({zoom:0},d,g);this._setPaintValue(o,u,x)},ha.prototype._setPaintValue=function(o,u,d){if(this.type==="color")for(var g=kt(d),x=o;x<u;x++)this.paintVertexArray.emplace(x,g[0],g[1]);else{for(var w=o;w<u;w++)this.paintVertexArray.emplace(w,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}},ha.prototype.upload=function(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ha.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var da=function(o,u,d,g,x,w){this.expression=o,this.uniformNames=u.map(function(E){return"u_"+E+"_t"}),this.type=d,this.useIntegerZoom=g,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=u.map(function(E){return{name:"a_"+E,type:"Float32",components:d==="color"?4:2,offset:0}}),this.paintVertexArray=new w};da.prototype.populatePaintArray=function(o,u,d,g,x){var w=this.expression.evaluate(new Ha(this.zoom),u,{},g,[],x),E=this.expression.evaluate(new Ha(this.zoom+1),u,{},g,[],x),C=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(C,o,w,E)},da.prototype.updatePaintArray=function(o,u,d,g){var x=this.expression.evaluate({zoom:this.zoom},d,g),w=this.expression.evaluate({zoom:this.zoom+1},d,g);this._setPaintValue(o,u,x,w)},da.prototype._setPaintValue=function(o,u,d,g){if(this.type==="color")for(var x=kt(d),w=kt(g),E=o;E<u;E++)this.paintVertexArray.emplace(E,x[0],x[1],w[0],w[1]);else{for(var C=o;C<u;C++)this.paintVertexArray.emplace(C,d,g);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(g))}},da.prototype.upload=function(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},da.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},da.prototype.setUniform=function(o,u){var d=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,g=R(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);o.set(g)},da.prototype.getBinding=function(o,u,d){return new mt(o,u)};var Ia=function(o,u,d,g,x,w){this.expression=o,this.type=u,this.useIntegerZoom=d,this.zoom=g,this.layerId=w,this.zoomInPaintVertexArray=new x,this.zoomOutPaintVertexArray=new x};Ia.prototype.populatePaintArray=function(o,u,d){var g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(o),this.zoomOutPaintVertexArray.resize(o),this._setPaintValues(g,o,u.patterns&&u.patterns[this.layerId],d)},Ia.prototype.updatePaintArray=function(o,u,d,g,x){this._setPaintValues(o,u,d.patterns&&d.patterns[this.layerId],x)},Ia.prototype._setPaintValues=function(o,u,d,g){if(g&&d){var x=g[d.min],w=g[d.mid],E=g[d.max];if(x&&w&&E)for(var C=o;C<u;C++)this.zoomInPaintVertexArray.emplace(C,w.tl[0],w.tl[1],w.br[0],w.br[1],x.tl[0],x.tl[1],x.br[0],x.br[1],w.pixelRatio,x.pixelRatio),this.zoomOutPaintVertexArray.emplace(C,w.tl[0],w.tl[1],w.br[0],w.br[1],E.tl[0],E.tl[1],E.br[0],E.br[1],w.pixelRatio,E.pixelRatio)}},Ia.prototype.upload=function(o){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=o.createVertexBuffer(this.zoomInPaintVertexArray,de.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=o.createVertexBuffer(this.zoomOutPaintVertexArray,de.members,this.expression.isStateDependent))},Ia.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ua=function(o,u,d){this.binders={},this._buffers=[];var g=[];for(var x in o.paint._values)if(d(x)){var w=o.paint.get(x);if(w instanceof Nr&&ec(w.property.specification)){var E=Hn(x,o.type),C=w.value,k=w.property.specification.type,D=w.property.useIntegerZoom,z=w.property.specification["property-type"],q=z==="cross-faded"||z==="cross-faded-data-driven";if(C.kind==="constant")this.binders[x]=q?new Oa(C.value,E):new pa(C.value,E,k),g.push("/u_"+x);else if(C.kind==="source"||q){var H=gn(x,k,"source");this.binders[x]=q?new Ia(C,k,D,u,H,o.id):new ha(C,E,k,H),g.push("/a_"+x)}else{var K=gn(x,k,"composite");this.binders[x]=new da(C,E,k,D,u,K),g.push("/z_"+x)}}}this.cacheKey=g.sort().join("")};ua.prototype.getMaxValue=function(o){var u=this.binders[o];return u instanceof ha||u instanceof da?u.maxValue:0},ua.prototype.populatePaintArrays=function(o,u,d,g,x){for(var w in this.binders){var E=this.binders[w];(E instanceof ha||E instanceof da||E instanceof Ia)&&E.populatePaintArray(o,u,d,g,x)}},ua.prototype.setConstantPatternPositions=function(o,u){for(var d in this.binders){var g=this.binders[d];g instanceof Oa&&g.setConstantPatternPositions(o,u)}},ua.prototype.updatePaintArrays=function(o,u,d,g,x){var w=!1;for(var E in o)for(var C=0,k=u.getPositions(E);C<k.length;C+=1){var D=k[C],z=d.feature(D.index);for(var q in this.binders){var H=this.binders[q];if((H instanceof ha||H instanceof da||H instanceof Ia)&&H.expression.isStateDependent===!0){var K=g.paint.get(q);H.expression=K.value,H.updatePaintArray(D.start,D.end,z,o[E],x),w=!0}}}return w},ua.prototype.defines=function(){var o=[];for(var u in this.binders){var d=this.binders[u];(d instanceof pa||d instanceof Oa)&&o.push.apply(o,d.uniformNames.map(function(g){return"#define HAS_UNIFORM_"+g}))}return o},ua.prototype.getBinderAttributes=function(){var o=[];for(var u in this.binders){var d=this.binders[u];if(d instanceof ha||d instanceof da)for(var g=0;g<d.paintVertexAttributes.length;g++)o.push(d.paintVertexAttributes[g].name);else if(d instanceof Ia)for(var x=0;x<de.members.length;x++)o.push(de.members[x].name)}return o},ua.prototype.getBinderUniforms=function(){var o=[];for(var u in this.binders){var d=this.binders[u];if(d instanceof pa||d instanceof Oa||d instanceof da)for(var g=0,x=d.uniformNames;g<x.length;g+=1)o.push(x[g])}return o},ua.prototype.getPaintVertexBuffers=function(){return this._buffers},ua.prototype.getUniforms=function(o,u){var d=[];for(var g in this.binders){var x=this.binders[g];if(x instanceof pa||x instanceof Oa||x instanceof da)for(var w=0,E=x.uniformNames;w<E.length;w+=1){var C=E[w];if(u[C]){var k=x.getBinding(o,u[C],C);d.push({name:C,property:g,binding:k})}}}return d},ua.prototype.setUniforms=function(o,u,d,g){for(var x=0,w=u;x<w.length;x+=1){var E=w[x],C=E.name,k=E.property;this.binders[k].setUniform(E.binding,g,d.get(k),C)}},ua.prototype.updatePaintBuffers=function(o){for(var u in this._buffers=[],this.binders){var d=this.binders[u];if(o&&d instanceof Ia){var g=o.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(d instanceof ha||d instanceof da)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}},ua.prototype.upload=function(o){for(var u in this.binders){var d=this.binders[u];(d instanceof ha||d instanceof da||d instanceof Ia)&&d.upload(o)}this.updatePaintBuffers()},ua.prototype.destroy=function(){for(var o in this.binders){var u=this.binders[o];(u instanceof ha||u instanceof da||u instanceof Ia)&&u.destroy()}};var ra=function(o,u,d){d===void 0&&(d=function(){return!0}),this.programConfigurations={};for(var g=0,x=o;g<x.length;g+=1){var w=x[g];this.programConfigurations[w.id]=new ua(w,u,d)}this.needsUpload=!1,this._featureMap=new Me,this._bufferOffset=0};function Hn(o,u){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(u+"-","").replace(/-/g,"_")]}function gn(o,u,d){var g={color:{source:hd,composite:Rm},number:{source:cu,composite:hd}},x=function(w){return{"line-pattern":{source:Ko,composite:Ko},"fill-pattern":{source:Ko,composite:Ko},"fill-extrusion-pattern":{source:Ko,composite:Ko}}[w]}(o);return x&&x[d]||g[u][d]}ra.prototype.populatePaintArrays=function(o,u,d,g,x,w){for(var E in this.programConfigurations)this.programConfigurations[E].populatePaintArrays(o,u,g,x,w);u.id!==void 0&&this._featureMap.add(u.id,d,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0},ra.prototype.updatePaintArrays=function(o,u,d,g){for(var x=0,w=d;x<w.length;x+=1){var E=w[x];this.needsUpload=this.programConfigurations[E.id].updatePaintArrays(o,this._featureMap,u,E,g)||this.needsUpload}},ra.prototype.get=function(o){return this.programConfigurations[o]},ra.prototype.upload=function(o){if(this.needsUpload){for(var u in this.programConfigurations)this.programConfigurations[u].upload(o);this.needsUpload=!1}},ra.prototype.destroy=function(){for(var o in this.programConfigurations)this.programConfigurations[o].destroy()},Dt("ConstantBinder",pa),Dt("CrossFadedConstantBinder",Oa),Dt("SourceExpressionBinder",ha),Dt("CrossFadedCompositeBinder",Ia),Dt("CompositeExpressionBinder",da),Dt("ProgramConfiguration",ua,{omit:["_buffers"]}),Dt("ProgramConfigurationSet",ra);var Mr=Math.pow(2,14)-1,nr=-Mr-1;function dn(o){for(var u=8192/o.extent,d=o.loadGeometry(),g=0;g<d.length;g++)for(var x=d[g],w=0;w<x.length;w++){var E=x[w],C=Math.round(E.x*u),k=Math.round(E.y*u);E.x=R(C,nr,Mr),E.y=R(k,nr,Mr),(C<E.x||C>E.x+1||k<E.y||k>E.y+1)&&Ae("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return d}function En(o,u){return{type:o.type,id:o.id,properties:o.properties,geometry:u?dn(o):[]}}function ys(o,u,d,g,x){o.emplaceBack(2*u+(g+1)/2,2*d+(x+1)/2)}var zr=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(u){return u.id}),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new rc,this.indexArray=new lu,this.segments=new J,this.programConfigurations=new ra(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(function(u){return u.isStateDependent()}).map(function(u){return u.id})};function du(o,u){for(var d=0;d<o.length;d++)if($o(u,o[d]))return!0;for(var g=0;g<u.length;g++)if($o(o,u[g]))return!0;return!!Jh(o,u)}function Qr(o,u,d){return!!$o(o,u)||!!hu(u,o,d)}function Io(o,u){if(o.length===1)return e_(u,o[0]);for(var d=0;d<u.length;d++)for(var g=u[d],x=0;x<g.length;x++)if($o(o,g[x]))return!0;for(var w=0;w<o.length;w++)if(e_(u,o[w]))return!0;for(var E=0;E<u.length;E++)if(Jh(o,u[E]))return!0;return!1}function so(o,u,d){if(o.length>1){if(Jh(o,u))return!0;for(var g=0;g<u.length;g++)if(hu(u[g],o,d))return!0}for(var x=0;x<o.length;x++)if(hu(o[x],u,d))return!0;return!1}function Jh(o,u){if(o.length===0||u.length===0)return!1;for(var d=0;d<o.length-1;d++)for(var g=o[d],x=o[d+1],w=0;w<u.length-1;w++)if(pd(g,x,u[w],u[w+1]))return!0;return!1}function pd(o,u,d,g){return Ye(o,d,g)!==Ye(u,d,g)&&Ye(o,u,d)!==Ye(o,u,g)}function hu(o,u,d){var g=d*d;if(u.length===1)return o.distSqr(u[0])<g;for(var x=1;x<u.length;x++)if(fd(o,u[x-1],u[x])<g)return!0;return!1}function fd(o,u,d){var g=u.distSqr(d);if(g===0)return o.distSqr(u);var x=((o.x-u.x)*(d.x-u.x)+(o.y-u.y)*(d.y-u.y))/g;return o.distSqr(x<0?u:x>1?d:d.sub(u)._mult(x)._add(u))}function e_(o,u){for(var d,g,x,w=!1,E=0;E<o.length;E++)for(var C=0,k=(d=o[E]).length-1;C<d.length;k=C++)(g=d[C]).y>u.y!=(x=d[k]).y>u.y&&u.x<(x.x-g.x)*(u.y-g.y)/(x.y-g.y)+g.x&&(w=!w);return w}function $o(o,u){for(var d=!1,g=0,x=o.length-1;g<o.length;x=g++){var w=o[g],E=o[x];w.y>u.y!=E.y>u.y&&u.x<(E.x-w.x)*(u.y-w.y)/(E.y-w.y)+w.x&&(d=!d)}return d}function t_(o,u,d){var g=d[0],x=d[2];if(o.x<g.x&&u.x<g.x||o.x>x.x&&u.x>x.x||o.y<g.y&&u.y<g.y||o.y>x.y&&u.y>x.y)return!1;var w=Ye(o,u,d[0]);return w!==Ye(o,u,d[1])||w!==Ye(o,u,d[2])||w!==Ye(o,u,d[3])}function Qo(o,u,d){var g=u.paint.get(o).value;return g.kind==="constant"?g.value:d.programConfigurations.get(u.id).getMaxValue(o)}function Zn(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function yl(o,u,d,g,x){if(!u[0]&&!u[1])return o;var w=f.convert(u)._mult(x);d==="viewport"&&w._rotate(-g);for(var E=[],C=0;C<o.length;C++)E.push(o[C].sub(w));return E}zr.prototype.populate=function(o,u,d){var g=this.layers[0],x=[],w=null;g.type==="circle"&&(w=g.layout.get("circle-sort-key"));for(var E=0,C=o;E<C.length;E+=1){var k=C[E],D=k.feature,z=k.id,q=k.index,H=k.sourceLayerIndex,K=this.layers[0]._featureFilter.needGeometry,se=En(D,K);if(this.layers[0]._featureFilter.filter(new Ha(this.zoom),se,d)){var le=w?w.evaluate(se,{},d):void 0,Te={id:z,properties:D.properties,type:D.type,sourceLayerIndex:H,index:q,geometry:K?se.geometry:dn(D),patterns:{},sortKey:le};x.push(Te)}}w&&x.sort(function(gt,jt){return gt.sortKey-jt.sortKey});for(var ge=0,Ce=x;ge<Ce.length;ge+=1){var Pe=Ce[ge],Fe=Pe.geometry,ze=Pe.index,Ke=Pe.sourceLayerIndex,dt=o[ze].feature;this.addFeature(Pe,Fe,ze,d),u.featureIndex.insert(dt,Fe,ze,Ke,this.index)}},zr.prototype.update=function(o,u,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,u,this.stateDependentLayers,d)},zr.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},zr.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},zr.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Q),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},zr.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},zr.prototype.addFeature=function(o,u,d,g){for(var x=0,w=u;x<w.length;x+=1)for(var E=0,C=w[x];E<C.length;E+=1){var k=C[E],D=k.x,z=k.y;if(!(D<0||D>=8192||z<0||z>=8192)){var q=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),H=q.vertexLength;ys(this.layoutVertexArray,D,z,-1,-1),ys(this.layoutVertexArray,D,z,1,-1),ys(this.layoutVertexArray,D,z,1,1),ys(this.layoutVertexArray,D,z,-1,1),this.indexArray.emplaceBack(H,H+1,H+2),this.indexArray.emplaceBack(H,H+3,H+2),q.vertexLength+=4,q.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,d,{},g)},Dt("CircleBucket",zr,{omit:["layers"]});var _u=new pr({"circle-sort-key":new zt(Y.layout_circle["circle-sort-key"])}),oc={paint:new pr({"circle-radius":new zt(Y.paint_circle["circle-radius"]),"circle-color":new zt(Y.paint_circle["circle-color"]),"circle-blur":new zt(Y.paint_circle["circle-blur"]),"circle-opacity":new zt(Y.paint_circle["circle-opacity"]),"circle-translate":new Kt(Y.paint_circle["circle-translate"]),"circle-translate-anchor":new Kt(Y.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Kt(Y.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Kt(Y.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new zt(Y.paint_circle["circle-stroke-width"]),"circle-stroke-color":new zt(Y.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new zt(Y.paint_circle["circle-stroke-opacity"])}),layout:_u},pi=typeof Float32Array<"u"?Float32Array:Array;function Fs(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function Jr(o,u,d){var g=u[0],x=u[1],w=u[2],E=u[3],C=u[4],k=u[5],D=u[6],z=u[7],q=u[8],H=u[9],K=u[10],se=u[11],le=u[12],Te=u[13],ge=u[14],Ce=u[15],Pe=d[0],Fe=d[1],ze=d[2],Ke=d[3];return o[0]=Pe*g+Fe*C+ze*q+Ke*le,o[1]=Pe*x+Fe*k+ze*H+Ke*Te,o[2]=Pe*w+Fe*D+ze*K+Ke*ge,o[3]=Pe*E+Fe*z+ze*se+Ke*Ce,o[4]=(Pe=d[4])*g+(Fe=d[5])*C+(ze=d[6])*q+(Ke=d[7])*le,o[5]=Pe*x+Fe*k+ze*H+Ke*Te,o[6]=Pe*w+Fe*D+ze*K+Ke*ge,o[7]=Pe*E+Fe*z+ze*se+Ke*Ce,o[8]=(Pe=d[8])*g+(Fe=d[9])*C+(ze=d[10])*q+(Ke=d[11])*le,o[9]=Pe*x+Fe*k+ze*H+Ke*Te,o[10]=Pe*w+Fe*D+ze*K+Ke*ge,o[11]=Pe*E+Fe*z+ze*se+Ke*Ce,o[12]=(Pe=d[12])*g+(Fe=d[13])*C+(ze=d[14])*q+(Ke=d[15])*le,o[13]=Pe*x+Fe*k+ze*H+Ke*Te,o[14]=Pe*w+Fe*D+ze*K+Ke*ge,o[15]=Pe*E+Fe*z+ze*se+Ke*Ce,o}Math.hypot||(Math.hypot=function(){for(var o=arguments,u=0,d=arguments.length;d--;)u+=o[d]*o[d];return Math.sqrt(u)});var lc,dw=Jr;function Om(o,u,d){var g=u[0],x=u[1],w=u[2],E=u[3];return o[0]=d[0]*g+d[4]*x+d[8]*w+d[12]*E,o[1]=d[1]*g+d[5]*x+d[9]*w+d[13]*E,o[2]=d[2]*g+d[6]*x+d[10]*w+d[14]*E,o[3]=d[3]*g+d[7]*x+d[11]*w+d[15]*E,o}lc=new pi(3),pi!=Float32Array&&(lc[0]=0,lc[1]=0,lc[2]=0),function(){var o=new pi(4);pi!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0,o[3]=0)}();var hw=(function(){var o=new pi(2);pi!=Float32Array&&(o[0]=0,o[1]=0)}(),function(o){function u(d){o.call(this,d,oc)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.createBucket=function(d){return new zr(d)},u.prototype.queryRadius=function(d){var g=d;return Qo("circle-radius",this,g)+Qo("circle-stroke-width",this,g)+Zn(this.paint.get("circle-translate"))},u.prototype.queryIntersectsFeature=function(d,g,x,w,E,C,k,D){for(var z=yl(d,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),C.angle,k),q=this.paint.get("circle-radius").evaluate(g,x)+this.paint.get("circle-stroke-width").evaluate(g,x),H=this.paint.get("circle-pitch-alignment")==="map",K=H?z:function(dt,gt){return dt.map(function(jt){return a_(jt,gt)})}(z,D),se=H?q*k:q,le=0,Te=w;le<Te.length;le+=1)for(var ge=0,Ce=Te[le];ge<Ce.length;ge+=1){var Pe=Ce[ge],Fe=H?Pe:a_(Pe,D),ze=se,Ke=Om([],[Pe.x,Pe.y,0,1],D);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ze*=Ke[3]/C.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ze*=C.cameraToCenterDistance/Ke[3]),Qr(K,Fe,ze))return!0}return!1},u}(Yo));function a_(o,u){var d=Om([],[o.x,o.y,0,1],u);return new f(d[0]/d[3],d[1]/d[3])}var L1=function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u}(zr);function gd(o,u,d,g){var x=u.width,w=u.height;if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==x*w*d)throw new RangeError("mismatched image size")}else g=new Uint8Array(x*w*d);return o.width=x,o.height=w,o.data=g,o}function km(o,u,d){var g=u.width,x=u.height;if(g!==o.width||x!==o.height){var w=gd({},{width:g,height:x},d);_w(o,w,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,g),height:Math.min(o.height,x)},d),o.width=g,o.height=x,o.data=w.data}}function _w(o,u,d,g,x,w){if(x.width===0||x.height===0)return u;if(x.width>o.width||x.height>o.height||d.x>o.width-x.width||d.y>o.height-x.height)throw new RangeError("out of range source coordinates for image copy");if(x.width>u.width||x.height>u.height||g.x>u.width-x.width||g.y>u.height-x.height)throw new RangeError("out of range destination coordinates for image copy");for(var E=o.data,C=u.data,k=0;k<x.height;k++)for(var D=((d.y+k)*o.width+d.x)*w,z=((g.y+k)*u.width+g.x)*w,q=0;q<x.width*w;q++)C[z+q]=E[D+q];return u}Dt("HeatmapBucket",L1,{omit:["layers"]});var i_=function(o,u){gd(this,o,1,u)};i_.prototype.resize=function(o){km(this,o,1)},i_.prototype.clone=function(){return new i_({width:this.width,height:this.height},new Uint8Array(this.data))},i_.copy=function(o,u,d,g,x){_w(o,u,d,g,x,1)};var vs=function(o,u){gd(this,o,4,u)};vs.prototype.resize=function(o){km(this,o,4)},vs.prototype.replace=function(o,u){u?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o},vs.prototype.clone=function(){return new vs({width:this.width,height:this.height},new Uint8Array(this.data))},vs.copy=function(o,u,d,g,x){_w(o,u,d,g,x,4)},Dt("AlphaImage",i_),Dt("RGBAImage",vs);var mD={paint:new pr({"heatmap-radius":new zt(Y.paint_heatmap["heatmap-radius"]),"heatmap-weight":new zt(Y.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Kt(Y.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Co(Y.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Kt(Y.paint_heatmap["heatmap-opacity"])})};function j5(o){var u={},d=o.resolution||256,g=o.clips?o.clips.length:1,x=o.image||new vs({width:d,height:g}),w=function(se,le,Te){u[o.evaluationKey]=Te;var ge=o.expression.evaluate(u);x.data[se+le+0]=Math.floor(255*ge.r/ge.a),x.data[se+le+1]=Math.floor(255*ge.g/ge.a),x.data[se+le+2]=Math.floor(255*ge.b/ge.a),x.data[se+le+3]=Math.floor(255*ge.a)};if(o.clips)for(var E=0,C=0;E<g;++E,C+=4*d)for(var k=0,D=0;k<d;k++,D+=4){var z=k/(d-1),q=o.clips[E];w(C,D,q.start*(1-z)+q.end*z)}else for(var H=0,K=0;H<d;H++,K+=4)w(0,K,H/(d-1));return x}var pD=function(o){function u(d){o.call(this,d,mD),this._updateColorRamp()}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.createBucket=function(d){return new L1(d)},u.prototype._handleSpecialPaintPropertyUpdate=function(d){d==="heatmap-color"&&this._updateColorRamp()},u.prototype._updateColorRamp=function(){this.colorRamp=j5({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},u.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},u.prototype.queryRadius=function(){return 0},u.prototype.queryIntersectsFeature=function(){return!1},u.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},u}(Yo),fD={paint:new pr({"hillshade-illumination-direction":new Kt(Y.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Kt(Y.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Kt(Y.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Kt(Y.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Kt(Y.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Kt(Y.paint_hillshade["hillshade-accent-color"])})},gD=function(o){function u(d){o.call(this,d,fD)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},u}(Yo),yD=ir([{name:"a_pos",components:2,type:"Int16"}],4).members,mw=A1,vD=A1;function A1(o,u,d){d=d||2;var g,x,w,E,C,k,D,z=u&&u.length,q=z?u[0]*d:o.length,H=H5(o,0,q,d,!0),K=[];if(!H||H.next===H.prev)return K;if(z&&(H=function(le,Te,ge,Ce){var Pe,Fe,ze,Ke=[];for(Pe=0,Fe=Te.length;Pe<Fe;Pe++)(ze=H5(le,Te[Pe]*Ce,Pe<Fe-1?Te[Pe+1]*Ce:le.length,Ce,!1))===ze.next&&(ze.steiner=!0),Ke.push(LD(ze));for(Ke.sort(TD),Pe=0;Pe<Ke.length;Pe++)ED(Ke[Pe],ge),ge=yd(ge,ge.next);return ge}(o,u,H,d)),o.length>80*d){g=w=o[0],x=E=o[1];for(var se=d;se<q;se+=d)(C=o[se])<g&&(g=C),(k=o[se+1])<x&&(x=k),C>w&&(w=C),k>E&&(E=k);D=(D=Math.max(w-g,E-x))!==0?1/D:0}return mg(H,K,d,g,x,D),K}function H5(o,u,d,g,x){var w,E;if(x===gw(o,u,d,g)>0)for(w=u;w<d;w+=g)E=Y5(w,o[w],o[w+1],E);else for(w=d-g;w>=u;w-=g)E=Y5(w,o[w],o[w+1],E);return E&&C1(E,E.next)&&(fg(E),E=E.next),E}function yd(o,u){if(!o)return o;u||(u=o);var d,g=o;do if(d=!1,g.steiner||!C1(g,g.next)&&Nn(g.prev,g,g.next)!==0)g=g.next;else{if(fg(g),(g=u=g.prev)===g.next)break;d=!0}while(d||g!==u);return u}function mg(o,u,d,g,x,w,E){if(o){!E&&w&&function(z,q,H,K){var se=z;do se.z===null&&(se.z=pw(se.x,se.y,q,H,K)),se.prevZ=se.prev,se.nextZ=se.next,se=se.next;while(se!==z);se.prevZ.nextZ=null,se.prevZ=null,function(le){var Te,ge,Ce,Pe,Fe,ze,Ke,dt,gt=1;do{for(ge=le,le=null,Fe=null,ze=0;ge;){for(ze++,Ce=ge,Ke=0,Te=0;Te<gt&&(Ke++,Ce=Ce.nextZ);Te++);for(dt=gt;Ke>0||dt>0&&Ce;)Ke!==0&&(dt===0||!Ce||ge.z<=Ce.z)?(Pe=ge,ge=ge.nextZ,Ke--):(Pe=Ce,Ce=Ce.nextZ,dt--),Fe?Fe.nextZ=Pe:le=Pe,Pe.prevZ=Fe,Fe=Pe;ge=Ce}Fe.nextZ=null,gt*=2}while(ze>1)}(se)}(o,g,x,w);for(var C,k,D=o;o.prev!==o.next;)if(C=o.prev,k=o.next,w?xD(o,g,x,w):bD(o))u.push(C.i/d),u.push(o.i/d),u.push(k.i/d),fg(o),o=k.next,D=k.next;else if((o=k)===D){E?E===1?mg(o=wD(yd(o),u,d),u,d,g,x,w,2):E===2&&SD(o,u,d,g,x,w):mg(yd(o),u,d,g,x,w,1);break}}}function bD(o){var u=o.prev,d=o,g=o.next;if(Nn(u,d,g)>=0)return!1;for(var x=o.next.next;x!==o.prev;){if(Pm(u.x,u.y,d.x,d.y,g.x,g.y,x.x,x.y)&&Nn(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function xD(o,u,d,g){var x=o.prev,w=o,E=o.next;if(Nn(x,w,E)>=0)return!1;for(var C=x.x>w.x?x.x>E.x?x.x:E.x:w.x>E.x?w.x:E.x,k=x.y>w.y?x.y>E.y?x.y:E.y:w.y>E.y?w.y:E.y,D=pw(x.x<w.x?x.x<E.x?x.x:E.x:w.x<E.x?w.x:E.x,x.y<w.y?x.y<E.y?x.y:E.y:w.y<E.y?w.y:E.y,u,d,g),z=pw(C,k,u,d,g),q=o.prevZ,H=o.nextZ;q&&q.z>=D&&H&&H.z<=z;){if(q!==o.prev&&q!==o.next&&Pm(x.x,x.y,w.x,w.y,E.x,E.y,q.x,q.y)&&Nn(q.prev,q,q.next)>=0||(q=q.prevZ,H!==o.prev&&H!==o.next&&Pm(x.x,x.y,w.x,w.y,E.x,E.y,H.x,H.y)&&Nn(H.prev,H,H.next)>=0))return!1;H=H.nextZ}for(;q&&q.z>=D;){if(q!==o.prev&&q!==o.next&&Pm(x.x,x.y,w.x,w.y,E.x,E.y,q.x,q.y)&&Nn(q.prev,q,q.next)>=0)return!1;q=q.prevZ}for(;H&&H.z<=z;){if(H!==o.prev&&H!==o.next&&Pm(x.x,x.y,w.x,w.y,E.x,E.y,H.x,H.y)&&Nn(H.prev,H,H.next)>=0)return!1;H=H.nextZ}return!0}function wD(o,u,d){var g=o;do{var x=g.prev,w=g.next.next;!C1(x,w)&&Z5(x,g,g.next,w)&&pg(x,w)&&pg(w,x)&&(u.push(x.i/d),u.push(g.i/d),u.push(w.i/d),fg(g),fg(g.next),g=o=w),g=g.next}while(g!==o);return yd(g)}function SD(o,u,d,g,x,w){var E=o;do{for(var C=E.next.next;C!==E.prev;){if(E.i!==C.i&&AD(E,C)){var k=X5(E,C);return E=yd(E,E.next),k=yd(k,k.next),mg(E,u,d,g,x,w),void mg(k,u,d,g,x,w)}C=C.next}E=E.next}while(E!==o)}function TD(o,u){return o.x-u.x}function ED(o,u){if(u=function(g,x){var w,E=x,C=g.x,k=g.y,D=-1/0;do{if(k<=E.y&&k>=E.next.y&&E.next.y!==E.y){var z=E.x+(k-E.y)*(E.next.x-E.x)/(E.next.y-E.y);if(z<=C&&z>D){if(D=z,z===C){if(k===E.y)return E;if(k===E.next.y)return E.next}w=E.x<E.next.x?E:E.next}}E=E.next}while(E!==x);if(!w)return null;if(C===D)return w;var q,H=w,K=w.x,se=w.y,le=1/0;E=w;do C>=E.x&&E.x>=K&&C!==E.x&&Pm(k<se?C:D,k,K,se,k<se?D:C,k,E.x,E.y)&&(q=Math.abs(k-E.y)/(C-E.x),pg(E,g)&&(q<le||q===le&&(E.x>w.x||E.x===w.x&&MD(w,E)))&&(w=E,le=q)),E=E.next;while(E!==H);return w}(o,u)){var d=X5(u,o);yd(u,u.next),yd(d,d.next)}}function MD(o,u){return Nn(o.prev,o,u.prev)<0&&Nn(u.next,o,o.next)<0}function pw(o,u,d,g,x){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=32767*(o-d)*x)|o<<8))|o<<4))|o<<2))|o<<1))|(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=32767*(u-g)*x)|u<<8))|u<<4))|u<<2))|u<<1))<<1}function LD(o){var u=o,d=o;do(u.x<d.x||u.x===d.x&&u.y<d.y)&&(d=u),u=u.next;while(u!==o);return d}function Pm(o,u,d,g,x,w,E,C){return(x-E)*(u-C)-(o-E)*(w-C)>=0&&(o-E)*(g-C)-(d-E)*(u-C)>=0&&(d-E)*(w-C)-(x-E)*(g-C)>=0}function AD(o,u){return o.next.i!==u.i&&o.prev.i!==u.i&&!function(d,g){var x=d;do{if(x.i!==d.i&&x.next.i!==d.i&&x.i!==g.i&&x.next.i!==g.i&&Z5(x,x.next,d,g))return!0;x=x.next}while(x!==d);return!1}(o,u)&&(pg(o,u)&&pg(u,o)&&function(d,g){var x=d,w=!1,E=(d.x+g.x)/2,C=(d.y+g.y)/2;do x.y>C!=x.next.y>C&&x.next.y!==x.y&&E<(x.next.x-x.x)*(C-x.y)/(x.next.y-x.y)+x.x&&(w=!w),x=x.next;while(x!==d);return w}(o,u)&&(Nn(o.prev,o,u.prev)||Nn(o,u.prev,u))||C1(o,u)&&Nn(o.prev,o,o.next)>0&&Nn(u.prev,u,u.next)>0)}function Nn(o,u,d){return(u.y-o.y)*(d.x-u.x)-(u.x-o.x)*(d.y-u.y)}function C1(o,u){return o.x===u.x&&o.y===u.y}function Z5(o,u,d,g){var x=R1(Nn(o,u,d)),w=R1(Nn(o,u,g)),E=R1(Nn(d,g,o)),C=R1(Nn(d,g,u));return x!==w&&E!==C||!(x!==0||!I1(o,d,u))||!(w!==0||!I1(o,g,u))||!(E!==0||!I1(d,o,g))||!(C!==0||!I1(d,u,g))}function I1(o,u,d){return u.x<=Math.max(o.x,d.x)&&u.x>=Math.min(o.x,d.x)&&u.y<=Math.max(o.y,d.y)&&u.y>=Math.min(o.y,d.y)}function R1(o){return o>0?1:o<0?-1:0}function pg(o,u){return Nn(o.prev,o,o.next)<0?Nn(o,u,o.next)>=0&&Nn(o,o.prev,u)>=0:Nn(o,u,o.prev)<0||Nn(o,o.next,u)<0}function X5(o,u){var d=new fw(o.i,o.x,o.y),g=new fw(u.i,u.x,u.y),x=o.next,w=u.prev;return o.next=u,u.prev=o,d.next=x,x.prev=d,g.next=d,d.prev=g,w.next=g,g.prev=w,g}function Y5(o,u,d,g){var x=new fw(o,u,d);return g?(x.next=g.next,x.prev=g,g.next.prev=x,g.next=x):(x.prev=x,x.next=x),x}function fg(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function fw(o,u,d){this.i=o,this.x=u,this.y=d,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function gw(o,u,d,g){for(var x=0,w=u,E=d-g;w<d;w+=g)x+=(o[E]-o[w])*(o[w+1]+o[E+1]),E=w;return x}function CD(o,u,d,g,x){(function w(E,C,k,D,z){for(;D>k;){if(D-k>600){var q=D-k+1,H=C-k+1,K=Math.log(q),se=.5*Math.exp(2*K/3),le=.5*Math.sqrt(K*se*(q-se)/q)*(H-q/2<0?-1:1);w(E,C,Math.max(k,Math.floor(C-H*se/q+le)),Math.min(D,Math.floor(C+(q-H)*se/q+le)),z)}var Te=E[C],ge=k,Ce=D;for(gg(E,k,C),z(E[D],Te)>0&&gg(E,k,D);ge<Ce;){for(gg(E,ge,Ce),ge++,Ce--;z(E[ge],Te)<0;)ge++;for(;z(E[Ce],Te)>0;)Ce--}z(E[k],Te)===0?gg(E,k,Ce):gg(E,++Ce,D),Ce<=C&&(k=Ce+1),C<=Ce&&(D=Ce-1)}})(o,u,d||0,g||o.length-1,x||ID)}function gg(o,u,d){var g=o[u];o[u]=o[d],o[d]=g}function ID(o,u){return o<u?-1:o>u?1:0}function yw(o,u){var d=o.length;if(d<=1)return[o];for(var g,x,w=[],E=0;E<d;E++){var C=Xe(o[E]);C!==0&&(o[E].area=Math.abs(C),x===void 0&&(x=C<0),x===C<0?(g&&w.push(g),g=[o[E]]):g.push(o[E]))}if(g&&w.push(g),u>1)for(var k=0;k<w.length;k++)w[k].length<=u||(CD(w[k],u,1,w[k].length-1,RD),w[k]=w[k].slice(0,u));return w}function RD(o,u){return u.area-o.area}function vw(o,u,d){for(var g=d.patternDependencies,x=!1,w=0,E=u;w<E.length;w+=1){var C=E[w].paint.get(o+"-pattern");C.isConstant()||(x=!0);var k=C.constantOr(null);k&&(x=!0,g[k.to]=!0,g[k.from]=!0)}return x}function bw(o,u,d,g,x){for(var w=x.patternDependencies,E=0,C=u;E<C.length;E+=1){var k=C[E],D=k.paint.get(o+"-pattern").value;if(D.kind!=="constant"){var z=D.evaluate({zoom:g-1},d,{},x.availableImages),q=D.evaluate({zoom:g},d,{},x.availableImages),H=D.evaluate({zoom:g+1},d,{},x.availableImages);q=q&&q.name?q.name:q,H=H&&H.name?H.name:H,w[z=z&&z.name?z.name:z]=!0,w[q]=!0,w[H]=!0,d.patterns[k.id]={min:z,mid:q,max:H}}}return d}A1.deviation=function(o,u,d,g){var x=u&&u.length,w=Math.abs(gw(o,0,x?u[0]*d:o.length,d));if(x)for(var E=0,C=u.length;E<C;E++)w-=Math.abs(gw(o,u[E]*d,E<C-1?u[E+1]*d:o.length,d));var k=0;for(E=0;E<g.length;E+=3){var D=g[E]*d,z=g[E+1]*d,q=g[E+2]*d;k+=Math.abs((o[D]-o[q])*(o[z+1]-o[D+1])-(o[D]-o[z])*(o[q+1]-o[D+1]))}return w===0&&k===0?0:Math.abs((k-w)/w)},A1.flatten=function(o){for(var u=o[0][0].length,d={vertices:[],holes:[],dimensions:u},g=0,x=0;x<o.length;x++){for(var w=0;w<o[x].length;w++)for(var E=0;E<u;E++)d.vertices.push(o[x][w][E]);x>0&&d.holes.push(g+=o[x-1].length)}return d},mw.default=vD;var vl=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(u){return u.id}),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new rc,this.indexArray=new lu,this.indexArray2=new Qh,this.programConfigurations=new ra(o.layers,o.zoom),this.segments=new J,this.segments2=new J,this.stateDependentLayerIds=this.layers.filter(function(u){return u.isStateDependent()}).map(function(u){return u.id})};vl.prototype.populate=function(o,u,d){this.hasPattern=vw("fill",this.layers,u);for(var g=this.layers[0].layout.get("fill-sort-key"),x=[],w=0,E=o;w<E.length;w+=1){var C=E[w],k=C.feature,D=C.id,z=C.index,q=C.sourceLayerIndex,H=this.layers[0]._featureFilter.needGeometry,K=En(k,H);if(this.layers[0]._featureFilter.filter(new Ha(this.zoom),K,d)){var se=g?g.evaluate(K,{},d,u.availableImages):void 0,le={id:D,properties:k.properties,type:k.type,sourceLayerIndex:q,index:z,geometry:H?K.geometry:dn(k),patterns:{},sortKey:se};x.push(le)}}g&&x.sort(function(dt,gt){return dt.sortKey-gt.sortKey});for(var Te=0,ge=x;Te<ge.length;Te+=1){var Ce=ge[Te],Pe=Ce.geometry,Fe=Ce.index,ze=Ce.sourceLayerIndex;if(this.hasPattern){var Ke=bw("fill",this.layers,Ce,this.zoom,u);this.patternFeatures.push(Ke)}else this.addFeature(Ce,Pe,Fe,d,{});u.featureIndex.insert(o[Fe].feature,Pe,Fe,ze,this.index)}},vl.prototype.update=function(o,u,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,u,this.stateDependentLayers,d)},vl.prototype.addFeatures=function(o,u,d){for(var g=0,x=this.patternFeatures;g<x.length;g+=1){var w=x[g];this.addFeature(w,w.geometry,w.index,u,d)}},vl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},vl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},vl.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,yD),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0},vl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},vl.prototype.addFeature=function(o,u,d,g,x){for(var w=0,E=yw(u,500);w<E.length;w+=1){for(var C=E[w],k=0,D=0,z=C;D<z.length;D+=1)k+=z[D].length;for(var q=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray),H=q.vertexLength,K=[],se=[],le=0,Te=C;le<Te.length;le+=1){var ge=Te[le];if(ge.length!==0){ge!==C[0]&&se.push(K.length/2);var Ce=this.segments2.prepareSegment(ge.length,this.layoutVertexArray,this.indexArray2),Pe=Ce.vertexLength;this.layoutVertexArray.emplaceBack(ge[0].x,ge[0].y),this.indexArray2.emplaceBack(Pe+ge.length-1,Pe),K.push(ge[0].x),K.push(ge[0].y);for(var Fe=1;Fe<ge.length;Fe++)this.layoutVertexArray.emplaceBack(ge[Fe].x,ge[Fe].y),this.indexArray2.emplaceBack(Pe+Fe-1,Pe+Fe),K.push(ge[Fe].x),K.push(ge[Fe].y);Ce.vertexLength+=ge.length,Ce.primitiveLength+=ge.length}}for(var ze=mw(K,se),Ke=0;Ke<ze.length;Ke+=3)this.indexArray.emplaceBack(H+ze[Ke],H+ze[Ke+1],H+ze[Ke+2]);q.vertexLength+=k,q.primitiveLength+=ze.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,d,x,g)},Dt("FillBucket",vl,{omit:["layers","patternFeatures"]});var OD=new pr({"fill-sort-key":new zt(Y.layout_fill["fill-sort-key"])}),kD={paint:new pr({"fill-antialias":new Kt(Y.paint_fill["fill-antialias"]),"fill-opacity":new zt(Y.paint_fill["fill-opacity"]),"fill-color":new zt(Y.paint_fill["fill-color"]),"fill-outline-color":new zt(Y.paint_fill["fill-outline-color"]),"fill-translate":new Kt(Y.paint_fill["fill-translate"]),"fill-translate-anchor":new Kt(Y.paint_fill["fill-translate-anchor"]),"fill-pattern":new Lm(Y.paint_fill["fill-pattern"])}),layout:OD},PD=function(o){function u(d){o.call(this,d,kD)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.recalculate=function(d,g){o.prototype.recalculate.call(this,d,g);var x=this.paint._values["fill-outline-color"];x.value.kind==="constant"&&x.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},u.prototype.createBucket=function(d){return new vl(d)},u.prototype.queryRadius=function(){return Zn(this.paint.get("fill-translate"))},u.prototype.queryIntersectsFeature=function(d,g,x,w,E,C,k){return Io(yl(d,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),C.angle,k),w)},u.prototype.isTileClipped=function(){return!0},u}(Yo),DD=ir([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,K5=Dm;function Dm(o,u,d,g,x){this.properties={},this.extent=d,this.type=0,this._pbf=o,this._geometry=-1,this._keys=g,this._values=x,o.readFields(FD,this,u)}function FD(o,u,d){o==1?u.id=d.readVarint():o==2?function(g,x){for(var w=g.readVarint()+g.pos;g.pos<w;){var E=x._keys[g.readVarint()],C=x._values[g.readVarint()];x.properties[E]=C}}(d,u):o==3?u.type=d.readVarint():o==4&&(u._geometry=d.pos)}function ND(o){for(var u,d,g=0,x=0,w=o.length,E=w-1;x<w;E=x++)g+=((d=o[E]).x-(u=o[x]).x)*(u.y+d.y);return g}Dm.types=["Unknown","Point","LineString","Polygon"],Dm.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var u,d=o.readVarint()+o.pos,g=1,x=0,w=0,E=0,C=[];o.pos<d;){if(x<=0){var k=o.readVarint();g=7&k,x=k>>3}if(x--,g===1||g===2)w+=o.readSVarint(),E+=o.readSVarint(),g===1&&(u&&C.push(u),u=[]),u.push(new f(w,E));else{if(g!==7)throw new Error("unknown command "+g);u&&u.push(u[0].clone())}}return u&&C.push(u),C},Dm.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var u=o.readVarint()+o.pos,d=1,g=0,x=0,w=0,E=1/0,C=-1/0,k=1/0,D=-1/0;o.pos<u;){if(g<=0){var z=o.readVarint();d=7&z,g=z>>3}if(g--,d===1||d===2)(x+=o.readSVarint())<E&&(E=x),x>C&&(C=x),(w+=o.readSVarint())<k&&(k=w),w>D&&(D=w);else if(d!==7)throw new Error("unknown command "+d)}return[E,k,C,D]},Dm.prototype.toGeoJSON=function(o,u,d){var g,x,w=this.extent*Math.pow(2,d),E=this.extent*o,C=this.extent*u,k=this.loadGeometry(),D=Dm.types[this.type];function z(K){for(var se=0;se<K.length;se++){var le=K[se];K[se]=[360*(le.x+E)/w-180,360/Math.PI*Math.atan(Math.exp((180-360*(le.y+C)/w)*Math.PI/180))-90]}}switch(this.type){case 1:var q=[];for(g=0;g<k.length;g++)q[g]=k[g][0];z(k=q);break;case 2:for(g=0;g<k.length;g++)z(k[g]);break;case 3:for(k=function(K){var se=K.length;if(se<=1)return[K];for(var le,Te,ge=[],Ce=0;Ce<se;Ce++){var Pe=ND(K[Ce]);Pe!==0&&(Te===void 0&&(Te=Pe<0),Te===Pe<0?(le&&ge.push(le),le=[K[Ce]]):le.push(K[Ce]))}return le&&ge.push(le),ge}(k),g=0;g<k.length;g++)for(x=0;x<k[g].length;x++)z(k[g][x])}k.length===1?k=k[0]:D="Multi"+D;var H={type:"Feature",geometry:{type:D,coordinates:k},properties:this.properties};return"id"in this&&(H.id=this.id),H};var $5=Q5;function Q5(o,u){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(WD,this,u),this.length=this._features.length}function WD(o,u,d){o===15?u.version=d.readVarint():o===1?u.name=d.readString():o===5?u.extent=d.readVarint():o===2?u._features.push(d.pos):o===3?u._keys.push(d.readString()):o===4&&u._values.push(function(g){for(var x=null,w=g.readVarint()+g.pos;g.pos<w;){var E=g.readVarint()>>3;x=E===1?g.readString():E===2?g.readFloat():E===3?g.readDouble():E===4?g.readVarint64():E===5?g.readVarint():E===6?g.readSVarint():E===7?g.readBoolean():null}return x}(d))}function zD(o,u,d){if(o===3){var g=new $5(d,d.readVarint()+d.pos);g.length&&(u[g.name]=g)}}Q5.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var u=this._pbf.readVarint()+this._pbf.pos;return new K5(this._pbf,u,this.extent,this._keys,this._values)};var Fm={VectorTile:function(o,u){this.layers=o.readFields(zD,{},u)},VectorTileFeature:K5,VectorTileLayer:$5},BD=Fm.VectorTileFeature.types,xw=Math.pow(2,13);function yg(o,u,d,g,x,w,E,C){o.emplaceBack(u,d,2*Math.floor(g*xw)+E,x*xw*2,w*xw*2,Math.round(C))}var bl=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(u){return u.id}),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new gl,this.indexArray=new lu,this.programConfigurations=new ra(o.layers,o.zoom),this.segments=new J,this.stateDependentLayerIds=this.layers.filter(function(u){return u.isStateDependent()}).map(function(u){return u.id})};function GD(o,u){return o.x===u.x&&(o.x<0||o.x>8192)||o.y===u.y&&(o.y<0||o.y>8192)}bl.prototype.populate=function(o,u,d){this.features=[],this.hasPattern=vw("fill-extrusion",this.layers,u);for(var g=0,x=o;g<x.length;g+=1){var w=x[g],E=w.feature,C=w.id,k=w.index,D=w.sourceLayerIndex,z=this.layers[0]._featureFilter.needGeometry,q=En(E,z);if(this.layers[0]._featureFilter.filter(new Ha(this.zoom),q,d)){var H={id:C,sourceLayerIndex:D,index:k,geometry:z?q.geometry:dn(E),properties:E.properties,type:E.type,patterns:{}};this.hasPattern?this.features.push(bw("fill-extrusion",this.layers,H,this.zoom,u)):this.addFeature(H,H.geometry,k,d,{}),u.featureIndex.insert(E,H.geometry,k,D,this.index,!0)}}},bl.prototype.addFeatures=function(o,u,d){for(var g=0,x=this.features;g<x.length;g+=1){var w=x[g];this.addFeature(w,w.geometry,w.index,u,d)}},bl.prototype.update=function(o,u,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,u,this.stateDependentLayers,d)},bl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},bl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},bl.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,DD),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},bl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},bl.prototype.addFeature=function(o,u,d,g,x){for(var w=0,E=yw(u,500);w<E.length;w+=1){for(var C=E[w],k=0,D=0,z=C;D<z.length;D+=1)k+=z[D].length;for(var q=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),H=0,K=C;H<K.length;H+=1){var se=K[H];if(se.length!==0&&!((qa=se).every(function(La){return La.x<0})||qa.every(function(La){return La.x>8192})||qa.every(function(La){return La.y<0})||qa.every(function(La){return La.y>8192})))for(var le=0,Te=0;Te<se.length;Te++){var ge=se[Te];if(Te>=1){var Ce=se[Te-1];if(!GD(ge,Ce)){q.vertexLength+4>J.MAX_VERTEX_ARRAY_LENGTH&&(q=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Pe=ge.sub(Ce)._perp()._unit(),Fe=Ce.dist(ge);le+Fe>32768&&(le=0),yg(this.layoutVertexArray,ge.x,ge.y,Pe.x,Pe.y,0,0,le),yg(this.layoutVertexArray,ge.x,ge.y,Pe.x,Pe.y,0,1,le),yg(this.layoutVertexArray,Ce.x,Ce.y,Pe.x,Pe.y,0,0,le+=Fe),yg(this.layoutVertexArray,Ce.x,Ce.y,Pe.x,Pe.y,0,1,le);var ze=q.vertexLength;this.indexArray.emplaceBack(ze,ze+2,ze+1),this.indexArray.emplaceBack(ze+1,ze+2,ze+3),q.vertexLength+=4,q.primitiveLength+=2}}}}if(q.vertexLength+k>J.MAX_VERTEX_ARRAY_LENGTH&&(q=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray)),BD[o.type]==="Polygon"){for(var Ke=[],dt=[],gt=q.vertexLength,jt=0,Ct=C;jt<Ct.length;jt+=1){var Qt=Ct[jt];if(Qt.length!==0){Qt!==C[0]&&dt.push(Ke.length/2);for(var It=0;It<Qt.length;It++){var Pa=Qt[It];yg(this.layoutVertexArray,Pa.x,Pa.y,0,0,1,1,0),Ke.push(Pa.x),Ke.push(Pa.y)}}}for(var oa=mw(Ke,dt),Bt=0;Bt<oa.length;Bt+=3)this.indexArray.emplaceBack(gt+oa[Bt],gt+oa[Bt+2],gt+oa[Bt+1]);q.primitiveLength+=oa.length/3,q.vertexLength+=k}}var qa;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,d,x,g)},Dt("FillExtrusionBucket",bl,{omit:["layers","features"]});var qD={paint:new pr({"fill-extrusion-opacity":new Kt(Y["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new zt(Y["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Kt(Y["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Kt(Y["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Lm(Y["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new zt(Y["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new zt(Y["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Kt(Y["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},UD=function(o){function u(d){o.call(this,d,qD)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.createBucket=function(d){return new bl(d)},u.prototype.queryRadius=function(){return Zn(this.paint.get("fill-extrusion-translate"))},u.prototype.is3D=function(){return!0},u.prototype.queryIntersectsFeature=function(d,g,x,w,E,C,k,D){var z=yl(d,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),C.angle,k),q=this.paint.get("fill-extrusion-height").evaluate(g,x),H=this.paint.get("fill-extrusion-base").evaluate(g,x),K=function(le,Te,ge,Ce){for(var Pe=[],Fe=0,ze=le;Fe<ze.length;Fe+=1){var Ke=ze[Fe],dt=[Ke.x,Ke.y,0,1];Om(dt,dt,Te),Pe.push(new f(dt[0]/dt[3],dt[1]/dt[3]))}return Pe}(z,D),se=function(le,Te,ge,Ce){for(var Pe=[],Fe=[],ze=Ce[8]*Te,Ke=Ce[9]*Te,dt=Ce[10]*Te,gt=Ce[11]*Te,jt=Ce[8]*ge,Ct=Ce[9]*ge,Qt=Ce[10]*ge,It=Ce[11]*ge,Pa=0,oa=le;Pa<oa.length;Pa+=1){for(var Bt=[],qa=[],La=0,oi=oa[Pa];La<oi.length;La+=1){var Jt=oi[La],_i=Jt.x,en=Jt.y,yn=Ce[0]*_i+Ce[4]*en+Ce[12],hn=Ce[1]*_i+Ce[5]*en+Ce[13],tn=Ce[2]*_i+Ce[6]*en+Ce[14],vn=Ce[3]*_i+Ce[7]*en+Ce[15],Xn=tn+dt,Yn=vn+gt,Gr=yn+jt,sr=hn+Ct,qr=tn+Qt,Mn=vn+It,or=new f((yn+ze)/Yn,(hn+Ke)/Yn);or.z=Xn/Yn,Bt.push(or);var $a=new f(Gr/Mn,sr/Mn);$a.z=qr/Mn,qa.push($a)}Pe.push(Bt),Fe.push(qa)}return[Pe,Fe]}(w,H,q,D);return function(le,Te,ge){var Ce=1/0;Io(ge,Te)&&(Ce=J5(ge,Te[0]));for(var Pe=0;Pe<Te.length;Pe++)for(var Fe=Te[Pe],ze=le[Pe],Ke=0;Ke<Fe.length-1;Ke++){var dt=Fe[Ke],gt=[dt,Fe[Ke+1],ze[Ke+1],ze[Ke],dt];du(ge,gt)&&(Ce=Math.min(Ce,J5(ge,gt)))}return Ce!==1/0&&Ce}(se[0],se[1],K)},u}(Yo);function vg(o,u){return o.x*u.x+o.y*u.y}function J5(o,u){if(o.length===1){for(var d,g=0,x=u[g++];!d||x.equals(d);)if(!(d=u[g++]))return 1/0;for(;g<u.length;g++){var w=u[g],E=o[0],C=d.sub(x),k=w.sub(x),D=E.sub(x),z=vg(C,C),q=vg(C,k),H=vg(k,k),K=vg(D,C),se=vg(D,k),le=z*H-q*q,Te=(H*K-q*se)/le,ge=(z*se-q*K)/le,Ce=x.z*(1-Te-ge)+d.z*Te+w.z*ge;if(isFinite(Ce))return Ce}return 1/0}for(var Pe=1/0,Fe=0,ze=u;Fe<ze.length;Fe+=1)Pe=Math.min(Pe,ze[Fe].z);return Pe}var VD=ir([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,jD=ir([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,HD=Fm.VectorTileFeature.types,ZD=Math.cos(Math.PI/180*37.5),eM=Math.pow(2,14)/.5,es=function(o){var u=this;this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(d){return d.id}),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(d){u.gradients[d.id]={}}),this.layoutVertexArray=new gs,this.layoutVertexArray2=new hd,this.indexArray=new lu,this.programConfigurations=new ra(o.layers,o.zoom),this.segments=new J,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(d){return d.isStateDependent()}).map(function(d){return d.id})};es.prototype.populate=function(o,u,d){this.hasPattern=vw("line",this.layers,u);for(var g=this.layers[0].layout.get("line-sort-key"),x=[],w=0,E=o;w<E.length;w+=1){var C=E[w],k=C.feature,D=C.id,z=C.index,q=C.sourceLayerIndex,H=this.layers[0]._featureFilter.needGeometry,K=En(k,H);if(this.layers[0]._featureFilter.filter(new Ha(this.zoom),K,d)){var se=g?g.evaluate(K,{},d):void 0,le={id:D,properties:k.properties,type:k.type,sourceLayerIndex:q,index:z,geometry:H?K.geometry:dn(k),patterns:{},sortKey:se};x.push(le)}}g&&x.sort(function(dt,gt){return dt.sortKey-gt.sortKey});for(var Te=0,ge=x;Te<ge.length;Te+=1){var Ce=ge[Te],Pe=Ce.geometry,Fe=Ce.index,ze=Ce.sourceLayerIndex;if(this.hasPattern){var Ke=bw("line",this.layers,Ce,this.zoom,u);this.patternFeatures.push(Ke)}else this.addFeature(Ce,Pe,Fe,d,{});u.featureIndex.insert(o[Fe].feature,Pe,Fe,ze,this.index)}},es.prototype.update=function(o,u,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,u,this.stateDependentLayers,d)},es.prototype.addFeatures=function(o,u,d){for(var g=0,x=this.patternFeatures;g<x.length;g+=1){var w=x[g];this.addFeature(w,w.geometry,w.index,u,d)}},es.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},es.prototype.upload=function(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,jD)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,VD),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},es.prototype.lineFeatureClips=function(o){if(o.properties&&o.properties.hasOwnProperty("mapbox_clip_start")&&o.properties.hasOwnProperty("mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}},es.prototype.addFeature=function(o,u,d,g,x){var w=this.layers[0].layout,E=w.get("line-join").evaluate(o,{}),C=w.get("line-cap"),k=w.get("line-miter-limit"),D=w.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(var z=0,q=u;z<q.length;z+=1)this.addLine(q[z],o,E,C,k,D);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,d,x,g)},es.prototype.addLine=function(o,u,d,g,x,w){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var E=0;E<o.length-1;E++)this.totalDistance+=o[E].dist(o[E+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var C=HD[u.type]==="Polygon",k=o.length;k>=2&&o[k-1].equals(o[k-2]);)k--;for(var D=0;D<k-1&&o[D].equals(o[D+1]);)D++;if(!(k<(C?3:2))){d==="bevel"&&(x=1.05);var z,q=this.overscaling<=16?122880/(512*this.overscaling):0,H=this.segments.prepareSegment(10*k,this.layoutVertexArray,this.indexArray),K=void 0,se=void 0,le=void 0,Te=void 0;this.e1=this.e2=-1,C&&(Te=o[D].sub(z=o[k-2])._unit()._perp());for(var ge=D;ge<k;ge++)if(!(se=ge===k-1?C?o[D+1]:void 0:o[ge+1])||!o[ge].equals(se)){Te&&(le=Te),z&&(K=z),z=o[ge],Te=se?se.sub(z)._unit()._perp():le;var Ce=(le=le||Te).add(Te);Ce.x===0&&Ce.y===0||Ce._unit();var Pe=le.x*Te.x+le.y*Te.y,Fe=Ce.x*Te.x+Ce.y*Te.y,ze=Fe!==0?1/Fe:1/0,Ke=2*Math.sqrt(2-2*Fe),dt=Fe<ZD&&K&&se,gt=le.x*Te.y-le.y*Te.x>0;if(dt&&ge>D){var jt=z.dist(K);if(jt>2*q){var Ct=z.sub(z.sub(K)._mult(q/jt)._round());this.updateDistance(K,Ct),this.addCurrentVertex(Ct,le,0,0,H),K=Ct}}var Qt=K&&se,It=Qt?d:C?"butt":g;if(Qt&&It==="round"&&(ze<w?It="miter":ze<=2&&(It="fakeround")),It==="miter"&&ze>x&&(It="bevel"),It==="bevel"&&(ze>2&&(It="flipbevel"),ze<x&&(It="miter")),K&&this.updateDistance(K,z),It==="miter")Ce._mult(ze),this.addCurrentVertex(z,Ce,0,0,H);else if(It==="flipbevel"){if(ze>100)Ce=Te.mult(-1);else{var Pa=ze*le.add(Te).mag()/le.sub(Te).mag();Ce._perp()._mult(Pa*(gt?-1:1))}this.addCurrentVertex(z,Ce,0,0,H),this.addCurrentVertex(z,Ce.mult(-1),0,0,H)}else if(It==="bevel"||It==="fakeround"){var oa=-Math.sqrt(ze*ze-1),Bt=gt?oa:0,qa=gt?0:oa;if(K&&this.addCurrentVertex(z,le,Bt,qa,H),It==="fakeround")for(var La=Math.round(180*Ke/Math.PI/20),oi=1;oi<La;oi++){var Jt=oi/La;if(Jt!==.5){var _i=Jt-.5;Jt+=Jt*_i*(Jt-1)*((1.0904+Pe*(Pe*(3.55645-1.43519*Pe)-3.2452))*_i*_i+(.848013+Pe*(.215638*Pe-1.06021)))}var en=Te.sub(le)._mult(Jt)._add(le)._unit()._mult(gt?-1:1);this.addHalfVertex(z,en.x,en.y,!1,gt,0,H)}se&&this.addCurrentVertex(z,Te,-Bt,-qa,H)}else if(It==="butt")this.addCurrentVertex(z,Ce,0,0,H);else if(It==="square"){var yn=K?1:-1;this.addCurrentVertex(z,Ce,yn,yn,H)}else It==="round"&&(K&&(this.addCurrentVertex(z,le,0,0,H),this.addCurrentVertex(z,le,1,1,H,!0)),se&&(this.addCurrentVertex(z,Te,-1,-1,H,!0),this.addCurrentVertex(z,Te,0,0,H)));if(dt&&ge<k-1){var hn=z.dist(se);if(hn>2*q){var tn=z.add(se.sub(z)._mult(q/hn)._round());this.updateDistance(z,tn),this.addCurrentVertex(tn,Te,0,0,H),z=tn}}}}},es.prototype.addCurrentVertex=function(o,u,d,g,x,w){w===void 0&&(w=!1);var E=u.y*g-u.x,C=-u.y-u.x*g;this.addHalfVertex(o,u.x+u.y*d,u.y-u.x*d,w,!1,d,x),this.addHalfVertex(o,E,C,w,!0,-g,x),this.distance>eM/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(o,u,d,g,x,w))},es.prototype.addHalfVertex=function(o,u,d,g,x,w,E){var C=.5*(this.lineClips?this.scaledDistance*(eM-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((o.x<<1)+(g?1:0),(o.y<<1)+(x?1:0),Math.round(63*u)+128,Math.round(63*d)+128,1+(w===0?0:w<0?-1:1)|(63&C)<<2,C>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var k=E.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,k),E.primitiveLength++),x?this.e2=k:this.e1=k},es.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},es.prototype.updateDistance=function(o,u){this.distance+=o.dist(u),this.updateScaledDistance()},Dt("LineBucket",es,{omit:["layers","patternFeatures"]});var XD=new pr({"line-cap":new Kt(Y.layout_line["line-cap"]),"line-join":new zt(Y.layout_line["line-join"]),"line-miter-limit":new Kt(Y.layout_line["line-miter-limit"]),"line-round-limit":new Kt(Y.layout_line["line-round-limit"]),"line-sort-key":new zt(Y.layout_line["line-sort-key"])}),tM={paint:new pr({"line-opacity":new zt(Y.paint_line["line-opacity"]),"line-color":new zt(Y.paint_line["line-color"]),"line-translate":new Kt(Y.paint_line["line-translate"]),"line-translate-anchor":new Kt(Y.paint_line["line-translate-anchor"]),"line-width":new zt(Y.paint_line["line-width"]),"line-gap-width":new zt(Y.paint_line["line-gap-width"]),"line-offset":new zt(Y.paint_line["line-offset"]),"line-blur":new zt(Y.paint_line["line-blur"]),"line-dasharray":new Wr(Y.paint_line["line-dasharray"]),"line-pattern":new Lm(Y.paint_line["line-pattern"]),"line-gradient":new Co(Y.paint_line["line-gradient"])}),layout:XD},aM=new(function(o){function u(){o.apply(this,arguments)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.possiblyEvaluate=function(d,g){return g=new Ha(Math.floor(g.zoom),{now:g.now,fadeDuration:g.fadeDuration,zoomHistory:g.zoomHistory,transition:g.transition}),o.prototype.possiblyEvaluate.call(this,d,g)},u.prototype.evaluate=function(d,g,x,w){return g=F({},g,{zoom:Math.floor(g.zoom)}),o.prototype.evaluate.call(this,d,g,x,w)},u}(zt))(tM.paint.properties["line-width"].specification);aM.useIntegerZoom=!0;var YD=function(o){function u(d){o.call(this,d,tM),this.gradientVersion=0}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype._handleSpecialPaintPropertyUpdate=function(d){d==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof hs,this.gradientVersion=(this.gradientVersion+1)%T)},u.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},u.prototype.recalculate=function(d,g){o.prototype.recalculate.call(this,d,g),this.paint._values["line-floorwidth"]=aM.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,d)},u.prototype.createBucket=function(d){return new es(d)},u.prototype.queryRadius=function(d){var g=d,x=iM(Qo("line-width",this,g),Qo("line-gap-width",this,g)),w=Qo("line-offset",this,g);return x/2+Math.abs(w)+Zn(this.paint.get("line-translate"))},u.prototype.queryIntersectsFeature=function(d,g,x,w,E,C,k){var D=yl(d,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),C.angle,k),z=k/2*iM(this.paint.get("line-width").evaluate(g,x),this.paint.get("line-gap-width").evaluate(g,x)),q=this.paint.get("line-offset").evaluate(g,x);return q&&(w=function(H,K){for(var se=[],le=new f(0,0),Te=0;Te<H.length;Te++){for(var ge=H[Te],Ce=[],Pe=0;Pe<ge.length;Pe++){var Fe=ge[Pe],ze=ge[Pe+1],Ke=Pe===0?le:Fe.sub(ge[Pe-1])._unit()._perp(),dt=Pe===ge.length-1?le:ze.sub(Fe)._unit()._perp(),gt=Ke._add(dt)._unit();gt._mult(1/(gt.x*dt.x+gt.y*dt.y)),Ce.push(gt._mult(K)._add(Fe))}se.push(Ce)}return se}(w,q*k)),function(H,K,se){for(var le=0;le<K.length;le++){var Te=K[le];if(H.length>=3){for(var ge=0;ge<Te.length;ge++)if($o(H,Te[ge]))return!0}if(so(H,Te,se))return!0}return!1}(D,w,z)},u.prototype.isTileClipped=function(){return!0},u}(Yo);function iM(o,u){return u>0?u+2*o:o}var KD=ir([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),$D=ir([{name:"a_projected_pos",components:3,type:"Float32"}],4),QD=(ir([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ir([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),nM=(ir([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),ir([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),JD=ir([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function eF(o,u,d){return o.sections.forEach(function(g){g.text=function(x,w,E){var C=w.layout.get("text-transform").evaluate(E,{});return C==="uppercase"?x=x.toLocaleUpperCase():C==="lowercase"&&(x=x.toLocaleLowerCase()),Ds.applyArabicShaping&&(x=Ds.applyArabicShaping(x)),x}(g.text,u,d)}),o}ir([{name:"triangle",components:3,type:"Uint16"}]),ir([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ir([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ir([{type:"Float32",name:"offsetX"}]),ir([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var bg={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},rM=function(o,u,d,g,x){var w,E,C=8*x-g-1,k=(1<<C)-1,D=k>>1,z=-7,q=d?x-1:0,H=d?-1:1,K=o[u+q];for(q+=H,w=K&(1<<-z)-1,K>>=-z,z+=C;z>0;w=256*w+o[u+q],q+=H,z-=8);for(E=w&(1<<-z)-1,w>>=-z,z+=g;z>0;E=256*E+o[u+q],q+=H,z-=8);if(w===0)w=1-D;else{if(w===k)return E?NaN:1/0*(K?-1:1);E+=Math.pow(2,g),w-=D}return(K?-1:1)*E*Math.pow(2,w-g)},sM=function(o,u,d,g,x,w){var E,C,k,D=8*w-x-1,z=(1<<D)-1,q=z>>1,H=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=g?0:w-1,se=g?1:-1,le=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(C=isNaN(u)?1:0,E=z):(E=Math.floor(Math.log(u)/Math.LN2),u*(k=Math.pow(2,-E))<1&&(E--,k*=2),(u+=E+q>=1?H/k:H*Math.pow(2,1-q))*k>=2&&(E++,k/=2),E+q>=z?(C=0,E=z):E+q>=1?(C=(u*k-1)*Math.pow(2,x),E+=q):(C=u*Math.pow(2,q-1)*Math.pow(2,x),E=0));x>=8;o[d+K]=255&C,K+=se,C/=256,x-=8);for(E=E<<x|C,D+=x;D>0;o[d+K]=255&E,K+=se,E/=256,D-=8);o[d+K-se]|=128*le},O1=Wi;function Wi(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}Wi.Varint=0,Wi.Fixed64=1,Wi.Bytes=2,Wi.Fixed32=5;var oM=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function uc(o){return o.type===Wi.Bytes?o.readVarint()+o.pos:o.pos+1}function Nm(o,u,d){return d?4294967296*u+(o>>>0):4294967296*(u>>>0)+(o>>>0)}function lM(o,u,d){var g=u<=16383?1:u<=2097151?2:u<=268435455?3:Math.floor(Math.log(u)/(7*Math.LN2));d.realloc(g);for(var x=d.pos-1;x>=o;x--)d.buf[x+g]=d.buf[x]}function tF(o,u){for(var d=0;d<o.length;d++)u.writeVarint(o[d])}function aF(o,u){for(var d=0;d<o.length;d++)u.writeSVarint(o[d])}function iF(o,u){for(var d=0;d<o.length;d++)u.writeFloat(o[d])}function nF(o,u){for(var d=0;d<o.length;d++)u.writeDouble(o[d])}function rF(o,u){for(var d=0;d<o.length;d++)u.writeBoolean(o[d])}function sF(o,u){for(var d=0;d<o.length;d++)u.writeFixed32(o[d])}function oF(o,u){for(var d=0;d<o.length;d++)u.writeSFixed32(o[d])}function lF(o,u){for(var d=0;d<o.length;d++)u.writeFixed64(o[d])}function uF(o,u){for(var d=0;d<o.length;d++)u.writeSFixed64(o[d])}function k1(o,u){return(o[u]|o[u+1]<<8|o[u+2]<<16)+16777216*o[u+3]}function Wm(o,u,d){o[d]=u,o[d+1]=u>>>8,o[d+2]=u>>>16,o[d+3]=u>>>24}function uM(o,u){return(o[u]|o[u+1]<<8|o[u+2]<<16)+(o[u+3]<<24)}function cF(o,u,d){o===1&&d.readMessage(dF,u)}function dF(o,u,d){if(o===3){var g=d.readMessage(hF,{}),x=g.width,w=g.height,E=g.left,C=g.top,k=g.advance;u.push({id:g.id,bitmap:new i_({width:x+6,height:w+6},g.bitmap),metrics:{width:x,height:w,left:E,top:C,advance:k}})}}function hF(o,u,d){o===1?u.id=d.readVarint():o===2?u.bitmap=d.readBytes():o===3?u.width=d.readVarint():o===4?u.height=d.readVarint():o===5?u.left=d.readSVarint():o===6?u.top=d.readSVarint():o===7&&(u.advance=d.readVarint())}function cM(o){for(var u=0,d=0,g=0,x=o;g<x.length;g+=1){var w=x[g];u+=w.w*w.h,d=Math.max(d,w.w)}o.sort(function(le,Te){return Te.h-le.h});for(var E=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(u/.95)),d),h:1/0}],C=0,k=0,D=0,z=o;D<z.length;D+=1)for(var q=z[D],H=E.length-1;H>=0;H--){var K=E[H];if(!(q.w>K.w||q.h>K.h)){if(q.x=K.x,q.y=K.y,k=Math.max(k,q.y+q.h),C=Math.max(C,q.x+q.w),q.w===K.w&&q.h===K.h){var se=E.pop();H<E.length&&(E[H]=se)}else q.h===K.h?(K.x+=q.w,K.w-=q.w):q.w===K.w?(K.y+=q.h,K.h-=q.h):(E.push({x:K.x+q.w,y:K.y,w:K.w-q.w,h:q.h}),K.y+=q.h,K.h-=q.h);break}}return{w:C,h:k,fill:u/(C*k)||0}}Wi.prototype={destroy:function(){this.buf=null},readFields:function(o,u,d){for(d=d||this.length;this.pos<d;){var g=this.readVarint(),x=g>>3,w=this.pos;this.type=7&g,o(x,u,this),this.pos===w&&this.skip(g)}return u},readMessage:function(o,u){return this.readFields(o,u,this.readVarint()+this.pos)},readFixed32:function(){var o=k1(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=uM(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=k1(this.buf,this.pos)+4294967296*k1(this.buf,this.pos+4);return this.pos+=8,o},readSFixed64:function(){var o=k1(this.buf,this.pos)+4294967296*uM(this.buf,this.pos+4);return this.pos+=8,o},readFloat:function(){var o=rM(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=rM(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var u,d,g=this.buf;return u=127&(d=g[this.pos++]),d<128?u:(u|=(127&(d=g[this.pos++]))<<7,d<128?u:(u|=(127&(d=g[this.pos++]))<<14,d<128?u:(u|=(127&(d=g[this.pos++]))<<21,d<128?u:function(x,w,E){var C,k,D=E.buf;if(C=(112&(k=D[E.pos++]))>>4,k<128||(C|=(127&(k=D[E.pos++]))<<3,k<128)||(C|=(127&(k=D[E.pos++]))<<10,k<128)||(C|=(127&(k=D[E.pos++]))<<17,k<128)||(C|=(127&(k=D[E.pos++]))<<24,k<128)||(C|=(1&(k=D[E.pos++]))<<31,k<128))return Nm(x,C,w);throw new Error("Expected varint not more than 10 bytes")}(u|=(15&(d=g[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,u=this.pos;return this.pos=o,o-u>=12&&oM?function(d,g,x){return oM.decode(d.subarray(g,x))}(this.buf,u,o):function(d,g,x){for(var w="",E=g;E<x;){var C,k,D,z=d[E],q=null,H=z>239?4:z>223?3:z>191?2:1;if(E+H>x)break;H===1?z<128&&(q=z):H===2?(192&(C=d[E+1]))==128&&(q=(31&z)<<6|63&C)<=127&&(q=null):H===3?(k=d[E+2],(192&(C=d[E+1]))==128&&(192&k)==128&&((q=(15&z)<<12|(63&C)<<6|63&k)<=2047||q>=55296&&q<=57343)&&(q=null)):H===4&&(k=d[E+2],D=d[E+3],(192&(C=d[E+1]))==128&&(192&k)==128&&(192&D)==128&&((q=(15&z)<<18|(63&C)<<12|(63&k)<<6|63&D)<=65535||q>=1114112)&&(q=null)),q===null?(q=65533,H=1):q>65535&&(q-=65536,w+=String.fromCharCode(q>>>10&1023|55296),q=56320|1023&q),w+=String.fromCharCode(q),E+=H}return w}(this.buf,u,o)},readBytes:function(){var o=this.readVarint()+this.pos,u=this.buf.subarray(this.pos,o);return this.pos=o,u},readPackedVarint:function(o,u){if(this.type!==Wi.Bytes)return o.push(this.readVarint(u));var d=uc(this);for(o=o||[];this.pos<d;)o.push(this.readVarint(u));return o},readPackedSVarint:function(o){if(this.type!==Wi.Bytes)return o.push(this.readSVarint());var u=uc(this);for(o=o||[];this.pos<u;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==Wi.Bytes)return o.push(this.readBoolean());var u=uc(this);for(o=o||[];this.pos<u;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==Wi.Bytes)return o.push(this.readFloat());var u=uc(this);for(o=o||[];this.pos<u;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==Wi.Bytes)return o.push(this.readDouble());var u=uc(this);for(o=o||[];this.pos<u;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==Wi.Bytes)return o.push(this.readFixed32());var u=uc(this);for(o=o||[];this.pos<u;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==Wi.Bytes)return o.push(this.readSFixed32());var u=uc(this);for(o=o||[];this.pos<u;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==Wi.Bytes)return o.push(this.readFixed64());var u=uc(this);for(o=o||[];this.pos<u;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==Wi.Bytes)return o.push(this.readSFixed64());var u=uc(this);for(o=o||[];this.pos<u;)o.push(this.readSFixed64());return o},skip:function(o){var u=7&o;if(u===Wi.Varint)for(;this.buf[this.pos++]>127;);else if(u===Wi.Bytes)this.pos=this.readVarint()+this.pos;else if(u===Wi.Fixed32)this.pos+=4;else{if(u!==Wi.Fixed64)throw new Error("Unimplemented type: "+u);this.pos+=8}},writeTag:function(o,u){this.writeVarint(o<<3|u)},realloc:function(o){for(var u=this.length||16;u<this.pos+o;)u*=2;if(u!==this.length){var d=new Uint8Array(u);d.set(this.buf),this.buf=d,this.length=u}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),Wm(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),Wm(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),Wm(this.buf,-1&o,this.pos),Wm(this.buf,Math.floor(o*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),Wm(this.buf,-1&o,this.pos),Wm(this.buf,Math.floor(o*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(u,d){var g,x;if(u>=0?(g=u%4294967296|0,x=u/4294967296|0):(x=~(-u/4294967296),4294967295^(g=~(-u%4294967296))?g=g+1|0:(g=0,x=x+1|0)),u>=18446744073709552e3||u<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(w,E,C){C.buf[C.pos++]=127&w|128,w>>>=7,C.buf[C.pos++]=127&w|128,w>>>=7,C.buf[C.pos++]=127&w|128,w>>>=7,C.buf[C.pos++]=127&w|128,C.buf[C.pos]=127&(w>>>=7)}(g,0,d),function(w,E){var C=(7&w)<<4;E.buf[E.pos++]|=C|((w>>>=3)?128:0),w&&(E.buf[E.pos++]=127&w|((w>>>=7)?128:0),w&&(E.buf[E.pos++]=127&w|((w>>>=7)?128:0),w&&(E.buf[E.pos++]=127&w|((w>>>=7)?128:0),w&&(E.buf[E.pos++]=127&w|((w>>>=7)?128:0),w&&(E.buf[E.pos++]=127&w)))))}(x,d)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var u=this.pos;this.pos=function(g,x,w){for(var E,C,k=0;k<x.length;k++){if((E=x.charCodeAt(k))>55295&&E<57344){if(!C){E>56319||k+1===x.length?(g[w++]=239,g[w++]=191,g[w++]=189):C=E;continue}if(E<56320){g[w++]=239,g[w++]=191,g[w++]=189,C=E;continue}E=C-55296<<10|E-56320|65536,C=null}else C&&(g[w++]=239,g[w++]=191,g[w++]=189,C=null);E<128?g[w++]=E:(E<2048?g[w++]=E>>6|192:(E<65536?g[w++]=E>>12|224:(g[w++]=E>>18|240,g[w++]=E>>12&63|128),g[w++]=E>>6&63|128),g[w++]=63&E|128)}return w}(this.buf,o,this.pos);var d=this.pos-u;d>=128&&lM(u,d,this),this.pos=u-1,this.writeVarint(d),this.pos+=d},writeFloat:function(o){this.realloc(4),sM(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),sM(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var u=o.length;this.writeVarint(u),this.realloc(u);for(var d=0;d<u;d++)this.buf[this.pos++]=o[d]},writeRawMessage:function(o,u){this.pos++;var d=this.pos;o(u,this);var g=this.pos-d;g>=128&&lM(d,g,this),this.pos=d-1,this.writeVarint(g),this.pos+=g},writeMessage:function(o,u,d){this.writeTag(o,Wi.Bytes),this.writeRawMessage(u,d)},writePackedVarint:function(o,u){u.length&&this.writeMessage(o,tF,u)},writePackedSVarint:function(o,u){u.length&&this.writeMessage(o,aF,u)},writePackedBoolean:function(o,u){u.length&&this.writeMessage(o,rF,u)},writePackedFloat:function(o,u){u.length&&this.writeMessage(o,iF,u)},writePackedDouble:function(o,u){u.length&&this.writeMessage(o,nF,u)},writePackedFixed32:function(o,u){u.length&&this.writeMessage(o,sF,u)},writePackedSFixed32:function(o,u){u.length&&this.writeMessage(o,oF,u)},writePackedFixed64:function(o,u){u.length&&this.writeMessage(o,lF,u)},writePackedSFixed64:function(o,u){u.length&&this.writeMessage(o,uF,u)},writeBytesField:function(o,u){this.writeTag(o,Wi.Bytes),this.writeBytes(u)},writeFixed32Field:function(o,u){this.writeTag(o,Wi.Fixed32),this.writeFixed32(u)},writeSFixed32Field:function(o,u){this.writeTag(o,Wi.Fixed32),this.writeSFixed32(u)},writeFixed64Field:function(o,u){this.writeTag(o,Wi.Fixed64),this.writeFixed64(u)},writeSFixed64Field:function(o,u){this.writeTag(o,Wi.Fixed64),this.writeSFixed64(u)},writeVarintField:function(o,u){this.writeTag(o,Wi.Varint),this.writeVarint(u)},writeSVarintField:function(o,u){this.writeTag(o,Wi.Varint),this.writeSVarint(u)},writeStringField:function(o,u){this.writeTag(o,Wi.Bytes),this.writeString(u)},writeFloatField:function(o,u){this.writeTag(o,Wi.Fixed32),this.writeFloat(u)},writeDoubleField:function(o,u){this.writeTag(o,Wi.Fixed64),this.writeDouble(u)},writeBooleanField:function(o,u){this.writeVarintField(o,!!u)}};var P1=function(o,u){var d=u.pixelRatio,g=u.version,x=u.stretchX,w=u.stretchY,E=u.content;this.paddedRect=o,this.pixelRatio=d,this.stretchX=x,this.stretchY=w,this.content=E,this.version=g},xg={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};xg.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},xg.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},xg.tlbr.get=function(){return this.tl.concat(this.br)},xg.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(P1.prototype,xg);var wg=function(o,u){var d={},g={};this.haveRenderCallbacks=[];var x=[];this.addImages(o,d,x),this.addImages(u,g,x);var w=cM(x),E=new vs({width:w.w||1,height:w.h||1});for(var C in o){var k=o[C],D=d[C].paddedRect;vs.copy(k.data,E,{x:0,y:0},{x:D.x+1,y:D.y+1},k.data)}for(var z in u){var q=u[z],H=g[z].paddedRect,K=H.x+1,se=H.y+1,le=q.data.width,Te=q.data.height;vs.copy(q.data,E,{x:0,y:0},{x:K,y:se},q.data),vs.copy(q.data,E,{x:0,y:Te-1},{x:K,y:se-1},{width:le,height:1}),vs.copy(q.data,E,{x:0,y:0},{x:K,y:se+Te},{width:le,height:1}),vs.copy(q.data,E,{x:le-1,y:0},{x:K-1,y:se},{width:1,height:Te}),vs.copy(q.data,E,{x:0,y:0},{x:K+le,y:se},{width:1,height:Te})}this.image=E,this.iconPositions=d,this.patternPositions=g};wg.prototype.addImages=function(o,u,d){for(var g in o){var x=o[g],w={x:0,y:0,w:x.data.width+2,h:x.data.height+2};d.push(w),u[g]=new P1(w,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(g)}},wg.prototype.patchUpdatedImages=function(o,u){for(var d in o.dispatchRenderCallbacks(this.haveRenderCallbacks),o.updatedImages)this.patchUpdatedImage(this.iconPositions[d],o.getImage(d),u),this.patchUpdatedImage(this.patternPositions[d],o.getImage(d),u)},wg.prototype.patchUpdatedImage=function(o,u,d){if(o&&u&&o.version!==u.version){o.version=u.version;var g=o.tl;d.update(u.data,void 0,{x:g[0],y:g[1]})}},Dt("ImagePosition",P1),Dt("ImageAtlas",wg);var oo={horizontal:1,vertical:2,horizontalOnly:3},zm=function(){this.scale=1,this.fontStack="",this.imageName=null};zm.forText=function(o,u){var d=new zm;return d.scale=o||1,d.fontStack=u,d},zm.forImage=function(o){var u=new zm;return u.imageName=o,u};var Br=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function D1(o,u,d,g,x,w,E,C,k,D,z,q,H,K,se,le){var Te,ge=Br.fromFeature(o,x);q===oo.vertical&&ge.verticalizePunctuation();var Ce=Ds.processBidirectionalText,Pe=Ds.processStyledBidirectionalText;if(Ce&&ge.sections.length===1){Te=[];for(var Fe=0,ze=Ce(ge.toString(),ww(ge,D,w,u,g,K,se));Fe<ze.length;Fe+=1){var Ke=ze[Fe],dt=new Br;dt.text=Ke,dt.sections=ge.sections;for(var gt=0;gt<Ke.length;gt++)dt.sectionIndex.push(0);Te.push(dt)}}else if(Pe){Te=[];for(var jt=0,Ct=Pe(ge.text,ge.sectionIndex,ww(ge,D,w,u,g,K,se));jt<Ct.length;jt+=1){var Qt=Ct[jt],It=new Br;It.text=Qt[0],It.sectionIndex=Qt[1],It.sections=ge.sections,Te.push(It)}}else Te=function(Bt,qa){for(var La=[],oi=Bt.text,Jt=0,_i=0,en=qa;_i<en.length;_i+=1){var yn=en[_i];La.push(Bt.substring(Jt,yn)),Jt=yn}return Jt<oi.length&&La.push(Bt.substring(Jt,oi.length)),La}(ge,ww(ge,D,w,u,g,K,se));var Pa=[],oa={positionedLines:Pa,text:ge.toString(),top:z[1],bottom:z[1],left:z[0],right:z[0],writingMode:q,iconsInText:!1,verticalizable:!1};return function(Bt,qa,La,oi,Jt,_i,en,yn,hn,tn,vn,Xn){for(var Yn=0,Gr=-17,sr=0,qr=0,Mn=yn==="right"?1:yn==="left"?0:.5,or=0,$a=0,Oi=Jt;$a<Oi.length;$a+=1){var bi=Oi[$a];bi.trim();var ci=bi.getMaxScale(),ts=24*(ci-1),Lr={positionedGlyphs:[],lineOffset:0};Bt.positionedLines[or]=Lr;var Gi=Lr.positionedGlyphs,On=0;if(bi.length()){for(var Ar=0;Ar<bi.length();Ar++){var mi=bi.getSection(Ar),mu=bi.getSectionIndex(Ar),lo=bi.getCharCode(Ar),pu=0,Ln=null,fu=null,Jo=null,Zm=24,o_=!(hn===oo.horizontal||!vn&&!Tm(lo)||vn&&(F1[lo]||(_c=lo,Tt.Arabic(_c)||Tt["Arabic Supplement"](_c)||Tt["Arabic Extended-A"](_c)||Tt["Arabic Presentation Forms-A"](_c)||Tt["Arabic Presentation Forms-B"](_c))));if(mi.imageName){var Xm=oi[mi.imageName];if(!Xm)continue;Jo=mi.imageName,Bt.iconsInText=Bt.iconsInText||!0,fu=Xm.paddedRect;var hc=Xm.displaySize;mi.scale=24*mi.scale/Xn,pu=ts+(24-hc[1]*mi.scale),Zm=(Ln={width:hc[0],height:hc[1],left:1,top:-3,advance:o_?hc[1]:hc[0]}).advance;var Ym=o_?hc[0]*mi.scale-24*ci:hc[1]*mi.scale-24*ci;Ym>0&&Ym>On&&(On=Ym)}else{var j1=La[mi.fontStack],Km=j1&&j1[lo];if(Km&&Km.rect)fu=Km.rect,Ln=Km.metrics;else{var Eg=qa[mi.fontStack],H1=Eg&&Eg[lo];if(!H1)continue;Ln=H1.metrics}pu=24*(ci-mi.scale)}o_?(Bt.verticalizable=!0,Gi.push({glyph:lo,imageName:Jo,x:Yn,y:Gr+pu,vertical:o_,scale:mi.scale,fontStack:mi.fontStack,sectionIndex:mu,metrics:Ln,rect:fu}),Yn+=Zm*mi.scale+tn):(Gi.push({glyph:lo,imageName:Jo,x:Yn,y:Gr+pu,vertical:o_,scale:mi.scale,fontStack:mi.fontStack,sectionIndex:mu,metrics:Ln,rect:fu}),Yn+=Ln.advance*mi.scale+tn)}Gi.length!==0&&(sr=Math.max(Yn-tn,sr),mF(Gi,0,Gi.length-1,Mn,On)),Yn=0;var Z1=_i*ci+On;Lr.lineOffset=Math.max(On,ts),Gr+=Z1,qr=Math.max(Z1,qr),++or}else Gr+=_i,++or}var _c,Mg=Gr- -17,$m=Sw(en),bd=$m.horizontalAlign,Qm=$m.verticalAlign;(function(X1,Y1,Lg,Ag,K1,Cg,Ig,Rg,$1){var Jm,Q1=(Y1-Lg)*K1;Jm=Cg!==Ig?-Rg*Ag- -17:(-Ag*$1+.5)*Ig;for(var ep=0,Og=X1;ep<Og.length;ep+=1)for(var l_=0,kg=Og[ep].positionedGlyphs;l_<kg.length;l_+=1){var tp=kg[l_];tp.x+=Q1,tp.y+=Jm}})(Bt.positionedLines,Mn,bd,Qm,sr,qr,_i,Mg,Jt.length),Bt.top+=-Qm*Mg,Bt.bottom=Bt.top+Mg,Bt.left+=-bd*sr,Bt.right=Bt.left+sr}(oa,u,d,g,Te,E,C,k,q,D,H,le),!function(Bt){for(var qa=0,La=Bt;qa<La.length;qa+=1)if(La[qa].positionedGlyphs.length!==0)return!1;return!0}(Pa)&&oa}Br.fromFeature=function(o,u){for(var d=new Br,g=0;g<o.sections.length;g++){var x=o.sections[g];x.image?d.addImageSection(x):d.addTextSection(x,u)}return d},Br.prototype.length=function(){return this.text.length},Br.prototype.getSection=function(o){return this.sections[this.sectionIndex[o]]},Br.prototype.getSectionIndex=function(o){return this.sectionIndex[o]},Br.prototype.getCharCode=function(o){return this.text.charCodeAt(o)},Br.prototype.verticalizePunctuation=function(){this.text=function(o){for(var u="",d=0;d<o.length;d++){var g=o.charCodeAt(d+1)||null,x=o.charCodeAt(d-1)||null;u+=g&&rg(g)&&!bg[o[d+1]]||x&&rg(x)&&!bg[o[d-1]]||!bg[o[d]]?o[d]:bg[o[d]]}return u}(this.text)},Br.prototype.trim=function(){for(var o=0,u=0;u<this.text.length&&F1[this.text.charCodeAt(u)];u++)o++;for(var d=this.text.length,g=this.text.length-1;g>=0&&g>=o&&F1[this.text.charCodeAt(g)];g--)d--;this.text=this.text.substring(o,d),this.sectionIndex=this.sectionIndex.slice(o,d)},Br.prototype.substring=function(o,u){var d=new Br;return d.text=this.text.substring(o,u),d.sectionIndex=this.sectionIndex.slice(o,u),d.sections=this.sections,d},Br.prototype.toString=function(){return this.text},Br.prototype.getMaxScale=function(){var o=this;return this.sectionIndex.reduce(function(u,d){return Math.max(u,o.sections[d].scale)},0)},Br.prototype.addTextSection=function(o,u){this.text+=o.text,this.sections.push(zm.forText(o.scale,o.fontStack||u));for(var d=this.sections.length-1,g=0;g<o.text.length;++g)this.sectionIndex.push(d)},Br.prototype.addImageSection=function(o){var u=o.image?o.image.name:"";if(u.length!==0){var d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(zm.forImage(u)),this.sectionIndex.push(this.sections.length-1)):Ae("Reached maximum number of images 6401")}else Ae("Can't add FormattedSection with an empty image.")},Br.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var F1={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ns={};function dM(o,u,d,g,x,w){if(u.imageName){var E=g[u.imageName];return E?E.displaySize[0]*u.scale*24/w+x:0}var C=d[u.fontStack],k=C&&C[o];return k?k.metrics.advance*u.scale+x:0}function hM(o,u,d,g){var x=Math.pow(o-u,2);return g?o<u?x/2:2*x:x+Math.abs(d)*d}function _F(o,u,d){var g=0;return o===10&&(g-=1e4),d&&(g+=150),o!==40&&o!==65288||(g+=50),u!==41&&u!==65289||(g+=50),g}function _M(o,u,d,g,x,w){for(var E=null,C=hM(u,d,x,w),k=0,D=g;k<D.length;k+=1){var z=D[k],q=hM(u-z.x,d,x,w)+z.badness;q<=C&&(E=z,C=q)}return{index:o,x:u,priorBreak:E,badness:C}}function ww(o,u,d,g,x,w,E){if(w!=="point")return[];if(!o)return[];for(var C,k=[],D=function(Te,ge,Ce,Pe,Fe,ze){for(var Ke=0,dt=0;dt<Te.length();dt++){var gt=Te.getSection(dt);Ke+=dM(Te.getCharCode(dt),gt,Pe,Fe,ge,ze)}return Ke/Math.max(1,Math.ceil(Ke/Ce))}(o,u,d,g,x,E),z=o.text.indexOf("​")>=0,q=0,H=0;H<o.length();H++){var K=o.getSection(H),se=o.getCharCode(H);if(F1[se]||(q+=dM(se,K,g,x,u,E)),H<o.length()-1){var le=!((C=se)<11904||!(Tt["Bopomofo Extended"](C)||Tt.Bopomofo(C)||Tt["CJK Compatibility Forms"](C)||Tt["CJK Compatibility Ideographs"](C)||Tt["CJK Compatibility"](C)||Tt["CJK Radicals Supplement"](C)||Tt["CJK Strokes"](C)||Tt["CJK Symbols and Punctuation"](C)||Tt["CJK Unified Ideographs Extension A"](C)||Tt["CJK Unified Ideographs"](C)||Tt["Enclosed CJK Letters and Months"](C)||Tt["Halfwidth and Fullwidth Forms"](C)||Tt.Hiragana(C)||Tt["Ideographic Description Characters"](C)||Tt["Kangxi Radicals"](C)||Tt["Katakana Phonetic Extensions"](C)||Tt.Katakana(C)||Tt["Vertical Forms"](C)||Tt["Yi Radicals"](C)||Tt["Yi Syllables"](C)));(Ns[se]||le||K.imageName)&&k.push(_M(H+1,q,D,k,_F(se,o.getCharCode(H+1),le&&z),!1))}}return function Te(ge){return ge?Te(ge.priorBreak).concat(ge.index):[]}(_M(o.length(),q,D,k,0,!0))}function Sw(o){var u=.5,d=.5;switch(o){case"right":case"top-right":case"bottom-right":u=1;break;case"left":case"top-left":case"bottom-left":u=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:u,verticalAlign:d}}function mF(o,u,d,g,x){if(g||x)for(var w=o[d],E=(o[d].x+w.metrics.advance*w.scale)*g,C=u;C<=d;C++)o[C].x-=E,o[C].y+=x}function mM(o,u,d,g,x,w){var E,C=o.image;if(C.content){var k=C.content,D=C.pixelRatio||1;E=[k[0]/D,k[1]/D,C.displaySize[0]-k[2]/D,C.displaySize[1]-k[3]/D]}var z,q,H,K,se=u.left*w,le=u.right*w;d==="width"||d==="both"?(K=x[0]+se-g[3],q=x[0]+le+g[1]):q=(K=x[0]+(se+le-C.displaySize[0])/2)+C.displaySize[0];var Te=u.top*w,ge=u.bottom*w;return d==="height"||d==="both"?(z=x[1]+Te-g[0],H=x[1]+ge+g[2]):H=(z=x[1]+(Te+ge-C.displaySize[1])/2)+C.displaySize[1],{image:C,top:z,right:q,bottom:H,left:K,collisionPadding:E}}Ns[10]=!0,Ns[32]=!0,Ns[38]=!0,Ns[40]=!0,Ns[41]=!0,Ns[43]=!0,Ns[45]=!0,Ns[47]=!0,Ns[173]=!0,Ns[183]=!0,Ns[8203]=!0,Ns[8208]=!0,Ns[8211]=!0,Ns[8231]=!0;var Bm=function(o){function u(d,g,x,w){o.call(this,d,g),this.angle=x,w!==void 0&&(this.segment=w)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.clone=function(){return new u(this.x,this.y,this.angle,this.segment)},u}(f);function Tw(o,u){var d=u.expression;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new Ha(o+1))};if(d.kind==="source")return{kind:"source"};for(var g=d.zoomStops,x=d.interpolationType,w=0;w<g.length&&g[w]<=o;)w++;for(var E=w=Math.max(0,w-1);E<g.length&&g[E]<o+1;)E++;E=Math.min(g.length-1,E);var C=g[w],k=g[E];return d.kind==="composite"?{kind:"composite",minZoom:C,maxZoom:k,interpolationType:x}:{kind:"camera",minZoom:C,maxZoom:k,minSize:d.evaluate(new Ha(C)),maxSize:d.evaluate(new Ha(k)),interpolationType:x}}function pM(o,u,d){var g=u.uSize,x=d.lowerSize;return o.kind==="source"?x/128:o.kind==="composite"?In(x/128,d.upperSize/128,u.uSizeT):g}function fM(o,u){var d=0,g=0;if(o.kind==="constant")g=o.layoutSize;else if(o.kind!=="source"){var x=o.interpolationType,w=x?R(_r.interpolationFactor(x,u,o.minZoom,o.maxZoom),0,1):0;o.kind==="camera"?g=In(o.minSize,o.maxSize,w):d=w}return{uSizeT:d,uSize:g}}Dt("Anchor",Bm);var pF=Object.freeze({__proto__:null,getSizeData:Tw,evaluateSizeForFeature:pM,evaluateSizeForZoom:fM,SIZE_PACK_FACTOR:128});function gM(o,u,d,g,x){if(u.segment===void 0)return!0;for(var w=u,E=u.segment+1,C=0;C>-d/2;){if(--E<0)return!1;C-=o[E].dist(w),w=o[E]}C+=o[E].dist(o[E+1]),E++;for(var k=[],D=0;C<d/2;){var z=o[E],q=o[E+1];if(!q)return!1;var H=o[E-1].angleTo(z)-z.angleTo(q);for(H=Math.abs((H+3*Math.PI)%(2*Math.PI)-Math.PI),k.push({distance:C,angleDelta:H}),D+=H;C-k[0].distance>g;)D-=k.shift().angleDelta;if(D>x)return!1;E++,C+=z.dist(q)}return!0}function yM(o){for(var u=0,d=0;d<o.length-1;d++)u+=o[d].dist(o[d+1]);return u}function vM(o,u,d){return o?.6*u*d:0}function bM(o,u){return Math.max(o?o.right-o.left:0,u?u.right-u.left:0)}function fF(o,u,d,g,x,w){for(var E=vM(d,x,w),C=bM(d,g)*w,k=0,D=yM(o)/2,z=0;z<o.length-1;z++){var q=o[z],H=o[z+1],K=q.dist(H);if(k+K>D){var se=(D-k)/K,le=In(q.x,H.x,se),Te=In(q.y,H.y,se),ge=new Bm(le,Te,H.angleTo(q),z);return ge._round(),!E||gM(o,ge,C,E,u)?ge:void 0}k+=K}}function gF(o,u,d,g,x,w,E,C,k){var D=vM(g,w,E),z=bM(g,x),q=z*E,H=o[0].x===0||o[0].x===k||o[0].y===0||o[0].y===k;return u-q<u/4&&(u=q+u/4),function K(se,le,Te,ge,Ce,Pe,Fe,ze,Ke){for(var dt=Pe/2,gt=yM(se),jt=0,Ct=le-Te,Qt=[],It=0;It<se.length-1;It++){for(var Pa=se[It],oa=se[It+1],Bt=Pa.dist(oa),qa=oa.angleTo(Pa);Ct+Te<jt+Bt;){var La=((Ct+=Te)-jt)/Bt,oi=In(Pa.x,oa.x,La),Jt=In(Pa.y,oa.y,La);if(oi>=0&&oi<Ke&&Jt>=0&&Jt<Ke&&Ct-dt>=0&&Ct+dt<=gt){var _i=new Bm(oi,Jt,qa,It);_i._round(),ge&&!gM(se,_i,Pe,ge,Ce)||Qt.push(_i)}}jt+=Bt}return ze||Qt.length||Fe||(Qt=K(se,jt/2,Te,ge,Ce,Pe,Fe,!0,Ke)),Qt}(o,H?u/2*C%u:(z/2+2*w)*E*C%u,u,D,d,q,H,!1,k)}function xM(o,u,d,g,x){for(var w=[],E=0;E<o.length;E++)for(var C=o[E],k=void 0,D=0;D<C.length-1;D++){var z=C[D],q=C[D+1];z.x<u&&q.x<u||(z.x<u?z=new f(u,z.y+(u-z.x)/(q.x-z.x)*(q.y-z.y))._round():q.x<u&&(q=new f(u,z.y+(u-z.x)/(q.x-z.x)*(q.y-z.y))._round()),z.y<d&&q.y<d||(z.y<d?z=new f(z.x+(d-z.y)/(q.y-z.y)*(q.x-z.x),d)._round():q.y<d&&(q=new f(z.x+(d-z.y)/(q.y-z.y)*(q.x-z.x),d)._round()),z.x>=g&&q.x>=g||(z.x>=g?z=new f(g,z.y+(g-z.x)/(q.x-z.x)*(q.y-z.y))._round():q.x>=g&&(q=new f(g,z.y+(g-z.x)/(q.x-z.x)*(q.y-z.y))._round()),z.y>=x&&q.y>=x||(z.y>=x?z=new f(z.x+(x-z.y)/(q.y-z.y)*(q.x-z.x),x)._round():q.y>=x&&(q=new f(z.x+(x-z.y)/(q.y-z.y)*(q.x-z.x),x)._round()),k&&z.equals(k[k.length-1])||w.push(k=[z]),k.push(q)))))}return w}function wM(o,u,d,g){var x=[],w=o.image,E=w.pixelRatio,C=w.paddedRect.w-2,k=w.paddedRect.h-2,D=o.right-o.left,z=o.bottom-o.top,q=w.stretchX||[[0,C]],H=w.stretchY||[[0,k]],K=function(oi,Jt){return oi+Jt[1]-Jt[0]},se=q.reduce(K,0),le=H.reduce(K,0),Te=C-se,ge=k-le,Ce=0,Pe=se,Fe=0,ze=le,Ke=0,dt=Te,gt=0,jt=ge;if(w.content&&g){var Ct=w.content;Ce=N1(q,0,Ct[0]),Fe=N1(H,0,Ct[1]),Pe=N1(q,Ct[0],Ct[2]),ze=N1(H,Ct[1],Ct[3]),Ke=Ct[0]-Ce,gt=Ct[1]-Fe,dt=Ct[2]-Ct[0]-Pe,jt=Ct[3]-Ct[1]-ze}var Qt=function(oi,Jt,_i,en){var yn=W1(oi.stretch-Ce,Pe,D,o.left),hn=z1(oi.fixed-Ke,dt,oi.stretch,se),tn=W1(Jt.stretch-Fe,ze,z,o.top),vn=z1(Jt.fixed-gt,jt,Jt.stretch,le),Xn=W1(_i.stretch-Ce,Pe,D,o.left),Yn=z1(_i.fixed-Ke,dt,_i.stretch,se),Gr=W1(en.stretch-Fe,ze,z,o.top),sr=z1(en.fixed-gt,jt,en.stretch,le),qr=new f(yn,tn),Mn=new f(Xn,tn),or=new f(Xn,Gr),$a=new f(yn,Gr),Oi=new f(hn/E,vn/E),bi=new f(Yn/E,sr/E),ci=u*Math.PI/180;if(ci){var ts=Math.sin(ci),Lr=Math.cos(ci),Gi=[Lr,-ts,ts,Lr];qr._matMult(Gi),Mn._matMult(Gi),$a._matMult(Gi),or._matMult(Gi)}var On=oi.stretch+oi.fixed,Ar=Jt.stretch+Jt.fixed;return{tl:qr,tr:Mn,bl:$a,br:or,tex:{x:w.paddedRect.x+1+On,y:w.paddedRect.y+1+Ar,w:_i.stretch+_i.fixed-On,h:en.stretch+en.fixed-Ar},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Oi,pixelOffsetBR:bi,minFontScaleX:dt/E/D,minFontScaleY:jt/E/z,isSDF:d}};if(g&&(w.stretchX||w.stretchY))for(var It=SM(q,Te,se),Pa=SM(H,ge,le),oa=0;oa<It.length-1;oa++)for(var Bt=It[oa],qa=It[oa+1],La=0;La<Pa.length-1;La++)x.push(Qt(Bt,Pa[La],qa,Pa[La+1]));else x.push(Qt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:C+1},{fixed:0,stretch:k+1}));return x}function N1(o,u,d){for(var g=0,x=0,w=o;x<w.length;x+=1){var E=w[x];g+=Math.max(u,Math.min(d,E[1]))-Math.max(u,Math.min(d,E[0]))}return g}function SM(o,u,d){for(var g=[{fixed:-1,stretch:0}],x=0,w=o;x<w.length;x+=1){var E=w[x],C=E[0],k=E[1],D=g[g.length-1];g.push({fixed:C-D.stretch,stretch:D.stretch}),g.push({fixed:C-D.stretch,stretch:D.stretch+(k-C)})}return g.push({fixed:u+1,stretch:d}),g}function W1(o,u,d,g){return o/u*d+g}function z1(o,u,d,g){return o-u*d/g}var B1=function(o,u,d,g,x,w,E,C,k,D){if(this.boxStartIndex=o.length,k){var z=w.top,q=w.bottom,H=w.collisionPadding;H&&(z-=H[1],q+=H[3]);var K=q-z;K>0&&(K=Math.max(10,K),this.circleDiameter=K)}else{var se=w.top*E-C,le=w.bottom*E+C,Te=w.left*E-C,ge=w.right*E+C,Ce=w.collisionPadding;if(Ce&&(Te-=Ce[0]*E,se-=Ce[1]*E,ge+=Ce[2]*E,le+=Ce[3]*E),D){var Pe=new f(Te,se),Fe=new f(ge,se),ze=new f(Te,le),Ke=new f(ge,le),dt=D*Math.PI/180;Pe._rotate(dt),Fe._rotate(dt),ze._rotate(dt),Ke._rotate(dt),Te=Math.min(Pe.x,Fe.x,ze.x,Ke.x),ge=Math.max(Pe.x,Fe.x,ze.x,Ke.x),se=Math.min(Pe.y,Fe.y,ze.y,Ke.y),le=Math.max(Pe.y,Fe.y,ze.y,Ke.y)}o.emplaceBack(u.x,u.y,Te,se,ge,le,d,g,x)}this.boxEndIndex=o.length},Gm=function(o,u){if(o===void 0&&(o=[]),u===void 0&&(u=yF),this.data=o,this.length=this.data.length,this.compare=u,this.length>0)for(var d=(this.length>>1)-1;d>=0;d--)this._down(d)};function yF(o,u){return o<u?-1:o>u?1:0}function vF(o,u,d){u===void 0&&(u=1),d===void 0&&(d=!1);for(var g=1/0,x=1/0,w=-1/0,E=-1/0,C=o[0],k=0;k<C.length;k++){var D=C[k];(!k||D.x<g)&&(g=D.x),(!k||D.y<x)&&(x=D.y),(!k||D.x>w)&&(w=D.x),(!k||D.y>E)&&(E=D.y)}var z=Math.min(w-g,E-x),q=z/2,H=new Gm([],bF);if(z===0)return new f(g,x);for(var K=g;K<w;K+=z)for(var se=x;se<E;se+=z)H.push(new qm(K+q,se+q,q,o));for(var le=function(Ce){for(var Pe=0,Fe=0,ze=0,Ke=Ce[0],dt=0,gt=Ke.length,jt=gt-1;dt<gt;jt=dt++){var Ct=Ke[dt],Qt=Ke[jt],It=Ct.x*Qt.y-Qt.x*Ct.y;Fe+=(Ct.x+Qt.x)*It,ze+=(Ct.y+Qt.y)*It,Pe+=3*It}return new qm(Fe/Pe,ze/Pe,0,Ce)}(o),Te=H.length;H.length;){var ge=H.pop();(ge.d>le.d||!le.d)&&(le=ge,d&&console.log("found best %d after %d probes",Math.round(1e4*ge.d)/1e4,Te)),ge.max-le.d<=u||(H.push(new qm(ge.p.x-(q=ge.h/2),ge.p.y-q,q,o)),H.push(new qm(ge.p.x+q,ge.p.y-q,q,o)),H.push(new qm(ge.p.x-q,ge.p.y+q,q,o)),H.push(new qm(ge.p.x+q,ge.p.y+q,q,o)),Te+=4)}return d&&(console.log("num probes: "+Te),console.log("best distance: "+le.d)),le.p}function bF(o,u){return u.max-o.max}function qm(o,u,d,g){this.p=new f(o,u),this.h=d,this.d=function(x,w){for(var E=!1,C=1/0,k=0;k<w.length;k++)for(var D=w[k],z=0,q=D.length,H=q-1;z<q;H=z++){var K=D[z],se=D[H];K.y>x.y!=se.y>x.y&&x.x<(se.x-K.x)*(x.y-K.y)/(se.y-K.y)+K.x&&(E=!E),C=Math.min(C,fd(x,K,se))}return(E?1:-1)*Math.sqrt(C)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}Gm.prototype.push=function(o){this.data.push(o),this.length++,this._up(this.length-1)},Gm.prototype.pop=function(){if(this.length!==0){var o=this.data[0],u=this.data.pop();return this.length--,this.length>0&&(this.data[0]=u,this._down(0)),o}},Gm.prototype.peek=function(){return this.data[0]},Gm.prototype._up=function(o){for(var u=this.data,d=this.compare,g=u[o];o>0;){var x=o-1>>1,w=u[x];if(d(g,w)>=0)break;u[o]=w,o=x}u[o]=g},Gm.prototype._down=function(o){for(var u=this.data,d=this.compare,g=this.length>>1,x=u[o];o<g;){var w=1+(o<<1),E=u[w],C=w+1;if(C<this.length&&d(u[C],E)<0&&(w=C,E=u[C]),d(E,x)>=0)break;u[o]=E,o=w}u[o]=x};var Ew=Number.POSITIVE_INFINITY;function TM(o,u){return u[1]!==Ew?function(d,g,x){var w=0,E=0;switch(g=Math.abs(g),x=Math.abs(x),d){case"top-right":case"top-left":case"top":E=x-7;break;case"bottom-right":case"bottom-left":case"bottom":E=7-x}switch(d){case"top-right":case"bottom-right":case"right":w=-g;break;case"top-left":case"bottom-left":case"left":w=g}return[w,E]}(o,u[0],u[1]):function(d,g){var x=0,w=0;g<0&&(g=0);var E=g/Math.sqrt(2);switch(d){case"top-right":case"top-left":w=E-7;break;case"bottom-right":case"bottom-left":w=7-E;break;case"bottom":w=7-g;break;case"top":w=g-7}switch(d){case"top-right":case"bottom-right":x=-E;break;case"top-left":case"bottom-left":x=E;break;case"left":x=g;break;case"right":x=-g}return[x,w]}(o,u[0])}function Mw(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function EM(o,u,d,g,x,w,E,C,k,D,z,q,H,K,se){var le=function(Fe,ze,Ke,dt,gt,jt,Ct,Qt){for(var It=dt.layout.get("text-rotate").evaluate(jt,{})*Math.PI/180,Pa=[],oa=0,Bt=ze.positionedLines;oa<Bt.length;oa+=1)for(var qa=Bt[oa],La=0,oi=qa.positionedGlyphs;La<oi.length;La+=1){var Jt=oi[La];if(Jt.rect){var _i=Jt.rect||{},en=4,yn=!0,hn=1,tn=0,vn=(gt||Qt)&&Jt.vertical,Xn=Jt.metrics.advance*Jt.scale/2;if(Qt&&ze.verticalizable&&(tn=qa.lineOffset/2-(Jt.imageName?-(24-Jt.metrics.width*Jt.scale)/2:24*(Jt.scale-1))),Jt.imageName){var Yn=Ct[Jt.imageName];yn=Yn.sdf,en=1/(hn=Yn.pixelRatio)}var Gr=gt?[Jt.x+Xn,Jt.y]:[0,0],sr=gt?[0,0]:[Jt.x+Xn+Ke[0],Jt.y+Ke[1]-tn],qr=[0,0];vn&&(qr=sr,sr=[0,0]);var Mn=(Jt.metrics.left-en)*Jt.scale-Xn+sr[0],or=(-Jt.metrics.top-en)*Jt.scale+sr[1],$a=Mn+_i.w*Jt.scale/hn,Oi=or+_i.h*Jt.scale/hn,bi=new f(Mn,or),ci=new f($a,or),ts=new f(Mn,Oi),Lr=new f($a,Oi);if(vn){var Gi=new f(-Xn,Xn- -17),On=-Math.PI/2,Ar=12-Xn,mi=new f(22-Ar,-(Jt.imageName?Ar:0)),mu=new(Function.prototype.bind.apply(f,[null].concat(qr)));bi._rotateAround(On,Gi)._add(mi)._add(mu),ci._rotateAround(On,Gi)._add(mi)._add(mu),ts._rotateAround(On,Gi)._add(mi)._add(mu),Lr._rotateAround(On,Gi)._add(mi)._add(mu)}if(It){var lo=Math.sin(It),pu=Math.cos(It),Ln=[pu,-lo,lo,pu];bi._matMult(Ln),ci._matMult(Ln),ts._matMult(Ln),Lr._matMult(Ln)}var fu=new f(0,0),Jo=new f(0,0);Pa.push({tl:bi,tr:ci,bl:ts,br:Lr,tex:_i,writingMode:ze.writingMode,glyphOffset:Gr,sectionIndex:Jt.sectionIndex,isSDF:yn,pixelOffsetTL:fu,pixelOffsetBR:Jo,minFontScaleX:0,minFontScaleY:0})}}return Pa}(0,d,C,x,w,E,g,o.allowVerticalPlacement),Te=o.textSizeData,ge=null;Te.kind==="source"?(ge=[128*x.layout.get("text-size").evaluate(E,{})])[0]>32640&&Ae(o.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):Te.kind==="composite"&&((ge=[128*K.compositeTextSizes[0].evaluate(E,{},se),128*K.compositeTextSizes[1].evaluate(E,{},se)])[0]>32640||ge[1]>32640)&&Ae(o.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),o.addSymbols(o.text,le,ge,C,w,E,D,u,k.lineStartIndex,k.lineLength,H,se);for(var Ce=0,Pe=z;Ce<Pe.length;Ce+=1)q[Pe[Ce]]=o.text.placedSymbolArray.length-1;return 4*le.length}function MM(o){for(var u in o)return o[u];return null}function xF(o,u,d,g){var x=o.compareText;if(u in x){for(var w=x[u],E=w.length-1;E>=0;E--)if(g.dist(w[E])<d)return!0}else x[u]=[];return x[u].push(g),!1}var wF=Fm.VectorTileFeature.types,SF=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function G1(o,u,d,g,x,w,E,C,k,D,z,q,H){var K=C?Math.min(32640,Math.round(C[0])):0,se=C?Math.min(32640,Math.round(C[1])):0;o.emplaceBack(u,d,Math.round(32*g),Math.round(32*x),w,E,(K<<1)+(k?1:0),se,16*D,16*z,256*q,256*H)}function Lw(o,u,d){o.emplaceBack(u.x,u.y,d),o.emplaceBack(u.x,u.y,d),o.emplaceBack(u.x,u.y,d),o.emplaceBack(u.x,u.y,d)}function TF(o){for(var u=0,d=o.sections;u<d.length;u+=1)if(Em(d[u].text))return!0;return!1}var Um=function(o){this.layoutVertexArray=new Cm,this.indexArray=new lu,this.programConfigurations=o,this.segments=new J,this.dynamicLayoutVertexArray=new _d,this.opacityVertexArray=new $h,this.placedSymbolArray=new y};Um.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Um.prototype.upload=function(o,u,d,g){this.isEmpty()||(d&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,KD.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,u),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,$D.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,SF,!0),this.opacityVertexBuffer.itemSize=1),(d||g)&&this.programConfigurations.upload(o))},Um.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Dt("SymbolBuffers",Um);var Sg=function(o,u,d){this.layoutVertexArray=new o,this.layoutAttributes=u,this.indexArray=new d,this.segments=new J,this.collisionVertexArray=new dg};Sg.prototype.upload=function(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,QD.members,!0)},Sg.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Dt("CollisionBuffers",Sg);var Ei=function(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(w){return w.id}),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Fs([]),this.placementViewportMatrix=Fs([]);var u=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Tw(this.zoom,u["text-size"]),this.iconSizeData=Tw(this.zoom,u["icon-size"]);var d=this.layers[0].layout,g=d.get("symbol-sort-key"),x=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=x!=="viewport-y"&&g.constantOr(1)!==void 0,this.sortFeaturesByY=(x==="viewport-y"||x==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(function(w){return oo[w]})),this.stateDependentLayerIds=this.layers.filter(function(w){return w.isStateDependent()}).map(function(w){return w.id}),this.sourceID=o.sourceID};Ei.prototype.createArrays=function(){this.text=new Um(new ra(this.layers,this.zoom,function(o){return/^text/.test(o)})),this.icon=new Um(new ra(this.layers,this.zoom,function(o){return/^icon/.test(o)})),this.glyphOffsetArray=new A,this.lineVertexArray=new O,this.symbolInstances=new L},Ei.prototype.calculateGlyphDependencies=function(o,u,d,g,x){for(var w=0;w<o.length;w++)if(u[o.charCodeAt(w)]=!0,(d||g)&&x){var E=bg[o.charAt(w)];E&&(u[E.charCodeAt(0)]=!0)}},Ei.prototype.populate=function(o,u,d){var g=this.layers[0],x=g.layout,w=x.get("text-font"),E=x.get("text-field"),C=x.get("icon-image"),k=(E.value.kind!=="constant"||E.value.value instanceof tr&&!E.value.value.isEmpty()||E.value.value.toString().length>0)&&(w.value.kind!=="constant"||w.value.value.length>0),D=C.value.kind!=="constant"||!!C.value.value||Object.keys(C.parameters).length>0,z=x.get("symbol-sort-key");if(this.features=[],k||D){for(var q=u.iconDependencies,H=u.glyphDependencies,K=u.availableImages,se=new Ha(this.zoom),le=0,Te=o;le<Te.length;le+=1){var ge=Te[le],Ce=ge.feature,Pe=ge.id,Fe=ge.index,ze=ge.sourceLayerIndex,Ke=g._featureFilter.needGeometry,dt=En(Ce,Ke);if(g._featureFilter.filter(se,dt,d)){Ke||(dt.geometry=dn(Ce));var gt=void 0;if(k){var jt=g.getValueAndResolveTokens("text-field",dt,d,K),Ct=tr.factory(jt);TF(Ct)&&(this.hasRTLText=!0),(!this.hasRTLText||og()==="unavailable"||this.hasRTLText&&Ds.isParsed())&&(gt=eF(Ct,g,dt))}var Qt=void 0;if(D){var It=g.getValueAndResolveTokens("icon-image",dt,d,K);Qt=It instanceof $r?It:$r.fromString(It)}if(gt||Qt){var Pa=this.sortFeaturesByKey?z.evaluate(dt,{},d):void 0;if(this.features.push({id:Pe,text:gt,icon:Qt,index:Fe,sourceLayerIndex:ze,geometry:dt.geometry,properties:Ce.properties,type:wF[Ce.type],sortKey:Pa}),Qt&&(q[Qt.name]=!0),gt){var oa=w.evaluate(dt,{},d).join(","),Bt=x.get("text-rotation-alignment")==="map"&&x.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(oo.vertical)>=0;for(var qa=0,La=gt.sections;qa<La.length;qa+=1){var oi=La[qa];if(oi.image)q[oi.image.name]=!0;else{var Jt=ng(gt.toString()),_i=oi.fontStack||oa,en=H[_i]=H[_i]||{};this.calculateGlyphDependencies(oi.text,en,Bt,this.allowVerticalPlacement,Jt)}}}}}}x.get("symbol-placement")==="line"&&(this.features=function(yn){var hn={},tn={},vn=[],Xn=0;function Yn(Gi){vn.push(yn[Gi]),Xn++}function Gr(Gi,On,Ar){var mi=tn[Gi];return delete tn[Gi],tn[On]=mi,vn[mi].geometry[0].pop(),vn[mi].geometry[0]=vn[mi].geometry[0].concat(Ar[0]),mi}function sr(Gi,On,Ar){var mi=hn[On];return delete hn[On],hn[Gi]=mi,vn[mi].geometry[0].shift(),vn[mi].geometry[0]=Ar[0].concat(vn[mi].geometry[0]),mi}function qr(Gi,On,Ar){var mi=Ar?On[0][On[0].length-1]:On[0][0];return Gi+":"+mi.x+":"+mi.y}for(var Mn=0;Mn<yn.length;Mn++){var or=yn[Mn],$a=or.geometry,Oi=or.text?or.text.toString():null;if(Oi){var bi=qr(Oi,$a),ci=qr(Oi,$a,!0);if(bi in tn&&ci in hn&&tn[bi]!==hn[ci]){var ts=sr(bi,ci,$a),Lr=Gr(bi,ci,vn[ts].geometry);delete hn[bi],delete tn[ci],tn[qr(Oi,vn[Lr].geometry,!0)]=Lr,vn[ts].geometry=null}else bi in tn?Gr(bi,ci,$a):ci in hn?sr(bi,ci,$a):(Yn(Mn),hn[bi]=Xn-1,tn[ci]=Xn-1)}else Yn(Mn)}return vn.filter(function(Gi){return Gi.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(yn,hn){return yn.sortKey-hn.sortKey})}},Ei.prototype.update=function(o,u,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,u,this.layers,d),this.icon.programConfigurations.updatePaintArrays(o,u,this.layers,d))},Ei.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Ei.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ei.prototype.upload=function(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ei.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ei.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ei.prototype.addToLineVertexArray=function(o,u){var d=this.lineVertexArray.length;if(o.segment!==void 0){for(var g=o.dist(u[o.segment+1]),x=o.dist(u[o.segment]),w={},E=o.segment+1;E<u.length;E++)w[E]={x:u[E].x,y:u[E].y,tileUnitDistanceFromAnchor:g},E<u.length-1&&(g+=u[E+1].dist(u[E]));for(var C=o.segment||0;C>=0;C--)w[C]={x:u[C].x,y:u[C].y,tileUnitDistanceFromAnchor:x},C>0&&(x+=u[C-1].dist(u[C]));for(var k=0;k<u.length;k++){var D=w[k];this.lineVertexArray.emplaceBack(D.x,D.y,D.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}},Ei.prototype.addSymbols=function(o,u,d,g,x,w,E,C,k,D,z,q){for(var H=o.indexArray,K=o.layoutVertexArray,se=o.segments.prepareSegment(4*u.length,K,H,this.canOverlap?w.sortKey:void 0),le=this.glyphOffsetArray.length,Te=se.vertexLength,ge=this.allowVerticalPlacement&&E===oo.vertical?Math.PI/2:0,Ce=w.text&&w.text.sections,Pe=0;Pe<u.length;Pe++){var Fe=u[Pe],ze=Fe.tl,Ke=Fe.tr,dt=Fe.bl,gt=Fe.br,jt=Fe.tex,Ct=Fe.pixelOffsetTL,Qt=Fe.pixelOffsetBR,It=Fe.minFontScaleX,Pa=Fe.minFontScaleY,oa=Fe.glyphOffset,Bt=Fe.isSDF,qa=Fe.sectionIndex,La=se.vertexLength,oi=oa[1];G1(K,C.x,C.y,ze.x,oi+ze.y,jt.x,jt.y,d,Bt,Ct.x,Ct.y,It,Pa),G1(K,C.x,C.y,Ke.x,oi+Ke.y,jt.x+jt.w,jt.y,d,Bt,Qt.x,Ct.y,It,Pa),G1(K,C.x,C.y,dt.x,oi+dt.y,jt.x,jt.y+jt.h,d,Bt,Ct.x,Qt.y,It,Pa),G1(K,C.x,C.y,gt.x,oi+gt.y,jt.x+jt.w,jt.y+jt.h,d,Bt,Qt.x,Qt.y,It,Pa),Lw(o.dynamicLayoutVertexArray,C,ge),H.emplaceBack(La,La+1,La+2),H.emplaceBack(La+1,La+2,La+3),se.vertexLength+=4,se.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(oa[0]),Pe!==u.length-1&&qa===u[Pe+1].sectionIndex||o.programConfigurations.populatePaintArrays(K.length,w,w.index,{},q,Ce&&Ce[qa])}o.placedSymbolArray.emplaceBack(C.x,C.y,le,this.glyphOffsetArray.length-le,Te,k,D,C.segment,d?d[0]:0,d?d[1]:0,g[0],g[1],E,0,!1,0,z)},Ei.prototype._addCollisionDebugVertex=function(o,u,d,g,x,w){return u.emplaceBack(0,0),o.emplaceBack(d.x,d.y,g,x,Math.round(w.x),Math.round(w.y))},Ei.prototype.addCollisionDebugVertices=function(o,u,d,g,x,w,E){var C=x.segments.prepareSegment(4,x.layoutVertexArray,x.indexArray),k=C.vertexLength,D=x.layoutVertexArray,z=x.collisionVertexArray,q=E.anchorX,H=E.anchorY;this._addCollisionDebugVertex(D,z,w,q,H,new f(o,u)),this._addCollisionDebugVertex(D,z,w,q,H,new f(d,u)),this._addCollisionDebugVertex(D,z,w,q,H,new f(d,g)),this._addCollisionDebugVertex(D,z,w,q,H,new f(o,g)),C.vertexLength+=4;var K=x.indexArray;K.emplaceBack(k,k+1),K.emplaceBack(k+1,k+2),K.emplaceBack(k+2,k+3),K.emplaceBack(k+3,k),C.primitiveLength+=4},Ei.prototype.addDebugCollisionBoxes=function(o,u,d,g){for(var x=o;x<u;x++){var w=this.collisionBoxArray.get(x);this.addCollisionDebugVertices(w.x1,w.y1,w.x2,w.y2,g?this.textCollisionBox:this.iconCollisionBox,w.anchorPoint,d)}},Ei.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Sg(md,nM.members,Qh),this.iconCollisionBox=new Sg(md,nM.members,Qh);for(var o=0;o<this.symbolInstances.length;o++){var u=this.symbolInstances.get(o);this.addDebugCollisionBoxes(u.textBoxStartIndex,u.textBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.iconBoxStartIndex,u.iconBoxEndIndex,u,!1),this.addDebugCollisionBoxes(u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex,u,!1)}},Ei.prototype._deserializeCollisionBoxesForSymbol=function(o,u,d,g,x,w,E,C,k){for(var D={},z=u;z<d;z++){var q=o.get(z);D.textBox={x1:q.x1,y1:q.y1,x2:q.x2,y2:q.y2,anchorPointX:q.anchorPointX,anchorPointY:q.anchorPointY},D.textFeatureIndex=q.featureIndex;break}for(var H=g;H<x;H++){var K=o.get(H);D.verticalTextBox={x1:K.x1,y1:K.y1,x2:K.x2,y2:K.y2,anchorPointX:K.anchorPointX,anchorPointY:K.anchorPointY},D.verticalTextFeatureIndex=K.featureIndex;break}for(var se=w;se<E;se++){var le=o.get(se);D.iconBox={x1:le.x1,y1:le.y1,x2:le.x2,y2:le.y2,anchorPointX:le.anchorPointX,anchorPointY:le.anchorPointY},D.iconFeatureIndex=le.featureIndex;break}for(var Te=C;Te<k;Te++){var ge=o.get(Te);D.verticalIconBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},D.verticalIconFeatureIndex=ge.featureIndex;break}return D},Ei.prototype.deserializeCollisionBoxes=function(o){this.collisionArrays=[];for(var u=0;u<this.symbolInstances.length;u++){var d=this.symbolInstances.get(u);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}},Ei.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ei.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ei.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ei.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ei.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ei.prototype.addIndicesForPlacedSymbol=function(o,u){for(var d=o.placedSymbolArray.get(u),g=d.vertexStartIndex+4*d.numGlyphs,x=d.vertexStartIndex;x<g;x+=4)o.indexArray.emplaceBack(x,x+1,x+2),o.indexArray.emplaceBack(x+1,x+2,x+3)},Ei.prototype.getSortedSymbolIndexes=function(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var u=Math.sin(o),d=Math.cos(o),g=[],x=[],w=[],E=0;E<this.symbolInstances.length;++E){w.push(E);var C=this.symbolInstances.get(E);g.push(0|Math.round(u*C.anchorX+d*C.anchorY)),x.push(C.featureIndex)}return w.sort(function(k,D){return g[k]-g[D]||x[D]-x[k]}),w},Ei.prototype.addToSortKeyRanges=function(o,u){var d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===u?d.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:u,symbolInstanceStart:o,symbolInstanceEnd:o+1})},Ei.prototype.sortFeatures=function(o){var u=this;if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var d=0,g=this.symbolInstanceIndexes;d<g.length;d+=1){var x=this.symbolInstances.get(g[d]);this.featureSortOrder.push(x.featureIndex),[x.rightJustifiedTextSymbolIndex,x.centerJustifiedTextSymbolIndex,x.leftJustifiedTextSymbolIndex].forEach(function(w,E,C){w>=0&&C.indexOf(w)===E&&u.addIndicesForPlacedSymbol(u.text,w)}),x.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,x.verticalPlacedTextSymbolIndex),x.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,x.placedIconSymbolIndex),x.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,x.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Dt("SymbolBucket",Ei,{omit:["layers","collisionBoxArray","features","compareText"]}),Ei.MAX_GLYPHS=65535,Ei.addDynamicAttributes=Lw;var EF=new pr({"symbol-placement":new Kt(Y.layout_symbol["symbol-placement"]),"symbol-spacing":new Kt(Y.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Kt(Y.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new zt(Y.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Kt(Y.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Kt(Y.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Kt(Y.layout_symbol["icon-ignore-placement"]),"icon-optional":new Kt(Y.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Kt(Y.layout_symbol["icon-rotation-alignment"]),"icon-size":new zt(Y.layout_symbol["icon-size"]),"icon-text-fit":new Kt(Y.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Kt(Y.layout_symbol["icon-text-fit-padding"]),"icon-image":new zt(Y.layout_symbol["icon-image"]),"icon-rotate":new zt(Y.layout_symbol["icon-rotate"]),"icon-padding":new Kt(Y.layout_symbol["icon-padding"]),"icon-keep-upright":new Kt(Y.layout_symbol["icon-keep-upright"]),"icon-offset":new zt(Y.layout_symbol["icon-offset"]),"icon-anchor":new zt(Y.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Kt(Y.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Kt(Y.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Kt(Y.layout_symbol["text-rotation-alignment"]),"text-field":new zt(Y.layout_symbol["text-field"]),"text-font":new zt(Y.layout_symbol["text-font"]),"text-size":new zt(Y.layout_symbol["text-size"]),"text-max-width":new zt(Y.layout_symbol["text-max-width"]),"text-line-height":new Kt(Y.layout_symbol["text-line-height"]),"text-letter-spacing":new zt(Y.layout_symbol["text-letter-spacing"]),"text-justify":new zt(Y.layout_symbol["text-justify"]),"text-radial-offset":new zt(Y.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Kt(Y.layout_symbol["text-variable-anchor"]),"text-anchor":new zt(Y.layout_symbol["text-anchor"]),"text-max-angle":new Kt(Y.layout_symbol["text-max-angle"]),"text-writing-mode":new Kt(Y.layout_symbol["text-writing-mode"]),"text-rotate":new zt(Y.layout_symbol["text-rotate"]),"text-padding":new Kt(Y.layout_symbol["text-padding"]),"text-keep-upright":new Kt(Y.layout_symbol["text-keep-upright"]),"text-transform":new zt(Y.layout_symbol["text-transform"]),"text-offset":new zt(Y.layout_symbol["text-offset"]),"text-allow-overlap":new Kt(Y.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Kt(Y.layout_symbol["text-ignore-placement"]),"text-optional":new Kt(Y.layout_symbol["text-optional"])}),Aw={paint:new pr({"icon-opacity":new zt(Y.paint_symbol["icon-opacity"]),"icon-color":new zt(Y.paint_symbol["icon-color"]),"icon-halo-color":new zt(Y.paint_symbol["icon-halo-color"]),"icon-halo-width":new zt(Y.paint_symbol["icon-halo-width"]),"icon-halo-blur":new zt(Y.paint_symbol["icon-halo-blur"]),"icon-translate":new Kt(Y.paint_symbol["icon-translate"]),"icon-translate-anchor":new Kt(Y.paint_symbol["icon-translate-anchor"]),"text-opacity":new zt(Y.paint_symbol["text-opacity"]),"text-color":new zt(Y.paint_symbol["text-color"],{runtimeType:St,getOverride:function(o){return o.textColor},hasOverride:function(o){return!!o.textColor}}),"text-halo-color":new zt(Y.paint_symbol["text-halo-color"]),"text-halo-width":new zt(Y.paint_symbol["text-halo-width"]),"text-halo-blur":new zt(Y.paint_symbol["text-halo-blur"]),"text-translate":new Kt(Y.paint_symbol["text-translate"]),"text-translate-anchor":new Kt(Y.paint_symbol["text-translate-anchor"])}),layout:EF},Vm=function(o){this.type=o.property.overrides?o.property.overrides.runtimeType:Mt,this.defaultValue=o};Vm.prototype.evaluate=function(o){if(o.formattedSection){var u=this.defaultValue.property.overrides;if(u&&u.hasOverride(o.formattedSection))return u.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default},Vm.prototype.eachChild=function(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)},Vm.prototype.outputDefined=function(){return!1},Vm.prototype.serialize=function(){return null},Dt("FormatSectionOverride",Vm,{omit:["defaultValue"]});var MF=function(o){function u(d){o.call(this,d,Aw)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.recalculate=function(d,g){if(o.prototype.recalculate.call(this,d,g),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var x=this.layout.get("text-writing-mode");if(x){for(var w=[],E=0,C=x;E<C.length;E+=1){var k=C[E];w.indexOf(k)<0&&w.push(k)}this.layout._values["text-writing-mode"]=w}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},u.prototype.getValueAndResolveTokens=function(d,g,x,w){var E=this.layout.get(d).evaluate(g,{},x,w),C=this._unevaluatedLayout._values[d];return C.isDataDriven()||Bh(C.value)||!E?E:function(k,D){return D.replace(/{([^{}]+)}/g,function(z,q){return q in k?String(k[q]):""})}(g.properties,E)},u.prototype.createBucket=function(d){return new Ei(d)},u.prototype.queryRadius=function(){return 0},u.prototype.queryIntersectsFeature=function(){return!1},u.prototype._setPaintOverrides=function(){for(var d=0,g=Aw.paint.overridableProperties;d<g.length;d+=1){var x=g[d];if(u.hasPaintOverride(this.layout,x)){var w,E=this.paint.get(x),C=new Vm(E),k=new od(C,E.property.specification);w=E.value.kind==="constant"||E.value.kind==="source"?new Gh("source",k):new ld("composite",k,E.value.zoomStops,E.value._interpolationType),this.paint._values[x]=new Nr(E.property,w,E.parameters)}}},u.prototype._handleOverridablePaintPropertyUpdate=function(d,g,x){return!(!this.layout||g.isDataDriven()||x.isDataDriven())&&u.hasPaintOverride(this.layout,d)},u.hasPaintOverride=function(d,g){var x=d.get("text-field"),w=Aw.paint.properties[g],E=!1,C=function(z){for(var q=0,H=z;q<H.length;q+=1)if(w.overrides&&w.overrides.hasOverride(H[q]))return void(E=!0)};if(x.value.kind==="constant"&&x.value.value instanceof tr)C(x.value.value.sections);else if(x.value.kind==="source"){var k=function(z){E||(z instanceof Dr&&Tn(z.value)===tt?C(z.value.sections):z instanceof To?C(z.sections):z.eachChild(k))},D=x.value;D._styleExpression&&k(D._styleExpression.expression)}return E},u}(Yo),LF={paint:new pr({"background-color":new Kt(Y.paint_background["background-color"]),"background-pattern":new Wr(Y.paint_background["background-pattern"]),"background-opacity":new Kt(Y.paint_background["background-opacity"])})},AF=function(o){function u(d){o.call(this,d,LF)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u}(Yo),CF={paint:new pr({"raster-opacity":new Kt(Y.paint_raster["raster-opacity"]),"raster-hue-rotate":new Kt(Y.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Kt(Y.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Kt(Y.paint_raster["raster-brightness-max"]),"raster-saturation":new Kt(Y.paint_raster["raster-saturation"]),"raster-contrast":new Kt(Y.paint_raster["raster-contrast"]),"raster-resampling":new Kt(Y.paint_raster["raster-resampling"]),"raster-fade-duration":new Kt(Y.paint_raster["raster-fade-duration"])})},IF=function(o){function u(d){o.call(this,d,CF)}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u}(Yo),RF=function(o){function u(d){o.call(this,d,{}),this.implementation=d}return o&&(u.__proto__=o),(u.prototype=Object.create(o&&o.prototype)).constructor=u,u.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},u.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},u.prototype.recalculate=function(){},u.prototype.updateTransitions=function(){},u.prototype.hasTransition=function(){},u.prototype.serialize=function(){},u.prototype.onAdd=function(d){this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},u.prototype.onRemove=function(d){this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},u}(Yo),OF={circle:hw,heatmap:pD,hillshade:gD,fill:PD,"fill-extrusion":UD,line:YD,symbol:MF,background:AF,raster:IF},LM=b.HTMLImageElement,AM=b.HTMLCanvasElement,CM=b.HTMLVideoElement,IM=b.ImageData,q1=b.ImageBitmap,n_=function(o,u,d,g){this.context=o,this.format=d,this.texture=o.gl.createTexture(),this.update(u,g)};n_.prototype.update=function(o,u,d){var g=o.width,x=o.height,w=!(this.size&&this.size[0]===g&&this.size[1]===x||d),E=this.context,C=E.gl;if(this.useMipmap=!!(u&&u.useMipmap),C.bindTexture(C.TEXTURE_2D,this.texture),E.pixelStoreUnpackFlipY.set(!1),E.pixelStoreUnpack.set(1),E.pixelStoreUnpackPremultiplyAlpha.set(this.format===C.RGBA&&(!u||u.premultiply!==!1)),w)this.size=[g,x],o instanceof LM||o instanceof AM||o instanceof CM||o instanceof IM||q1&&o instanceof q1?C.texImage2D(C.TEXTURE_2D,0,this.format,this.format,C.UNSIGNED_BYTE,o):C.texImage2D(C.TEXTURE_2D,0,this.format,g,x,0,this.format,C.UNSIGNED_BYTE,o.data);else{var k=d||{x:0,y:0},D=k.x,z=k.y;o instanceof LM||o instanceof AM||o instanceof CM||o instanceof IM||q1&&o instanceof q1?C.texSubImage2D(C.TEXTURE_2D,0,D,z,C.RGBA,C.UNSIGNED_BYTE,o):C.texSubImage2D(C.TEXTURE_2D,0,D,z,g,x,C.RGBA,C.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&C.generateMipmap(C.TEXTURE_2D)},n_.prototype.bind=function(o,u,d){var g=this.context.gl;g.bindTexture(g.TEXTURE_2D,this.texture),d!==g.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(d=g.LINEAR),o!==this.filter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,o),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,d||o),this.filter=o),u!==this.wrap&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,u),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,u),this.wrap=u)},n_.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},n_.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Cw=function(o){var u=this;this._callback=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){u._triggered=!1,u._callback()})};Cw.prototype.trigger=function(){var o=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){o._triggered=!1,o._callback()},0))},Cw.prototype.remove=function(){delete this._channel,this._callback=function(){}};var jm=function(o,u,d){this.target=o,this.parent=u,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},he(["receive","process"],this),this.invoker=new Cw(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Re()?o:b};function RM(o,u,d){var g=2*Math.PI*6378137/256/Math.pow(2,d);return[o*g-2*Math.PI*6378137/2,u*g-2*Math.PI*6378137/2]}jm.prototype.send=function(o,u,d,g,x){var w=this;x===void 0&&(x=!1);var E=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[E]=d);var C=yt(this.globalScope)?void 0:[];return this.target.postMessage({id:E,type:o,hasCallback:!!d,targetMapId:g,mustQueue:x,sourceMapId:this.mapId,data:Mo(u,C)},C),{cancel:function(){d&&delete w.callbacks[E],w.target.postMessage({id:E,type:"<cancel>",targetMapId:g,sourceMapId:w.mapId})}}},jm.prototype.receive=function(o){var u=o.data,d=u.id;if(d&&(!u.targetMapId||this.mapId===u.targetMapId))if(u.type==="<cancel>"){delete this.tasks[d];var g=this.cancelCallbacks[d];delete this.cancelCallbacks[d],g&&g()}else Re()||u.mustQueue?(this.tasks[d]=u,this.taskQueue.push(d),this.invoker.trigger()):this.processTask(d,u)},jm.prototype.process=function(){if(this.taskQueue.length){var o=this.taskQueue.shift(),u=this.tasks[o];delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),u&&this.processTask(o,u)}},jm.prototype.processTask=function(o,u){var d=this;if(u.type==="<response>"){var g=this.callbacks[o];delete this.callbacks[o],g&&(u.error?g(ms(u.error)):g(null,ms(u.data)))}else{var x=!1,w=yt(this.globalScope)?void 0:[],E=u.hasCallback?function(z,q){x=!0,delete d.cancelCallbacks[o],d.target.postMessage({id:o,type:"<response>",sourceMapId:d.mapId,error:z?Mo(z):null,data:Mo(q,w)},w)}:function(z){x=!0},C=null,k=ms(u.data);if(this.parent[u.type])C=this.parent[u.type](u.sourceMapId,k,E);else if(this.parent.getWorkerSource){var D=u.type.split(".");C=this.parent.getWorkerSource(u.sourceMapId,D[0],k.source)[D[1]](k,E)}else E(new Error("Could not find function "+u.type));!x&&C&&C.cancel&&(this.cancelCallbacks[o]=C.cancel)}},jm.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Wn=function(o,u){o&&(u?this.setSouthWest(o).setNorthEast(u):o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))};Wn.prototype.setNorthEast=function(o){return this._ne=o instanceof Ji?new Ji(o.lng,o.lat):Ji.convert(o),this},Wn.prototype.setSouthWest=function(o){return this._sw=o instanceof Ji?new Ji(o.lng,o.lat):Ji.convert(o),this},Wn.prototype.extend=function(o){var u,d,g=this._sw,x=this._ne;if(o instanceof Ji)u=o,d=o;else{if(!(o instanceof Wn))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(Wn.convert(o)):this.extend(Ji.convert(o)):this;if(d=o._ne,!(u=o._sw)||!d)return this}return g||x?(g.lng=Math.min(u.lng,g.lng),g.lat=Math.min(u.lat,g.lat),x.lng=Math.max(d.lng,x.lng),x.lat=Math.max(d.lat,x.lat)):(this._sw=new Ji(u.lng,u.lat),this._ne=new Ji(d.lng,d.lat)),this},Wn.prototype.getCenter=function(){return new Ji((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Wn.prototype.getSouthWest=function(){return this._sw},Wn.prototype.getNorthEast=function(){return this._ne},Wn.prototype.getNorthWest=function(){return new Ji(this.getWest(),this.getNorth())},Wn.prototype.getSouthEast=function(){return new Ji(this.getEast(),this.getSouth())},Wn.prototype.getWest=function(){return this._sw.lng},Wn.prototype.getSouth=function(){return this._sw.lat},Wn.prototype.getEast=function(){return this._ne.lng},Wn.prototype.getNorth=function(){return this._ne.lat},Wn.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Wn.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Wn.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Wn.prototype.contains=function(o){var u=Ji.convert(o),d=u.lng,g=u.lat,x=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(x=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=g&&g<=this._ne.lat&&x},Wn.convert=function(o){return!o||o instanceof Wn?o:new Wn(o)};var Ji=function(o,u){if(isNaN(o)||isNaN(u))throw new Error("Invalid LngLat object: ("+o+", "+u+")");if(this.lng=+o,this.lat=+u,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ji.prototype.wrap=function(){return new Ji(P(this.lng,-180,180),this.lat)},Ji.prototype.toArray=function(){return[this.lng,this.lat]},Ji.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ji.prototype.distanceTo=function(o){var u=Math.PI/180,d=this.lat*u,g=o.lat*u,x=Math.sin(d)*Math.sin(g)+Math.cos(d)*Math.cos(g)*Math.cos((o.lng-this.lng)*u);return 63710088e-1*Math.acos(Math.min(x,1))},Ji.prototype.toBounds=function(o){o===void 0&&(o=0);var u=360*o/40075017,d=u/Math.cos(Math.PI/180*this.lat);return new Wn(new Ji(this.lng-d,this.lat-u),new Ji(this.lng+d,this.lat+u))},Ji.convert=function(o){if(o instanceof Ji)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new Ji(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new Ji(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var OM=2*Math.PI*63710088e-1;function kM(o){return OM*Math.cos(o*Math.PI/180)}function PM(o){return(180+o)/360}function DM(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function FM(o,u){return o/kM(u)}function Iw(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}var r_=function(o,u,d){d===void 0&&(d=0),this.x=+o,this.y=+u,this.z=+d};r_.fromLngLat=function(o,u){u===void 0&&(u=0);var d=Ji.convert(o);return new r_(PM(d.lng),DM(d.lat),FM(u,d.lat))},r_.prototype.toLngLat=function(){return new Ji(360*this.x-180,Iw(this.y))},r_.prototype.toAltitude=function(){return this.z*kM(Iw(this.y))},r_.prototype.meterInMercatorCoordinateUnits=function(){return 1/OM*(o=Iw(this.y),1/Math.cos(o*Math.PI/180));var o};var s_=function(o,u,d){this.z=o,this.x=u,this.y=d,this.key=Tg(0,o,o,u,d)};s_.prototype.equals=function(o){return this.z===o.z&&this.x===o.x&&this.y===o.y},s_.prototype.url=function(o,u){var d,g,x,w,E,C=(g=this.y,x=this.z,w=RM(256*(d=this.x),256*(g=Math.pow(2,x)-g-1),x),E=RM(256*(d+1),256*(g+1),x),w[0]+","+w[1]+","+E[0]+","+E[1]),k=function(D,z,q){for(var H,K="",se=D;se>0;se--)K+=(z&(H=1<<se-1)?1:0)+(q&H?2:0);return K}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(u==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",k).replace("{bbox-epsg-3857}",C)},s_.prototype.getTilePoint=function(o){var u=Math.pow(2,this.z);return new f(8192*(o.x*u-this.x),8192*(o.y*u-this.y))},s_.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var NM=function(o,u){this.wrap=o,this.canonical=u,this.key=Tg(o,u.z,u.z,u.x,u.y)},zn=function(o,u,d,g,x){this.overscaledZ=o,this.wrap=u,this.canonical=new s_(d,+g,+x),this.key=Tg(u,o,d,g,x)};function Tg(o,u,d,g,x){(o*=2)<0&&(o=-1*o-1);var w=1<<d;return(w*w*o+w*x+g).toString(36)+d.toString(36)+u.toString(36)}zn.prototype.equals=function(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)},zn.prototype.scaledTo=function(o){var u=this.canonical.z-o;return o>this.canonical.z?new zn(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new zn(o,this.wrap,o,this.canonical.x>>u,this.canonical.y>>u)},zn.prototype.calculateScaledKey=function(o,u){var d=this.canonical.z-o;return o>this.canonical.z?Tg(this.wrap*+u,o,this.canonical.z,this.canonical.x,this.canonical.y):Tg(this.wrap*+u,o,o,this.canonical.x>>d,this.canonical.y>>d)},zn.prototype.isChildOf=function(o){if(o.wrap!==this.wrap)return!1;var u=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.x===this.canonical.x>>u&&o.canonical.y===this.canonical.y>>u},zn.prototype.children=function(o){if(this.overscaledZ>=o)return[new zn(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var u=this.canonical.z+1,d=2*this.canonical.x,g=2*this.canonical.y;return[new zn(u,this.wrap,u,d,g),new zn(u,this.wrap,u,d+1,g),new zn(u,this.wrap,u,d,g+1),new zn(u,this.wrap,u,d+1,g+1)]},zn.prototype.isLessThan=function(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))},zn.prototype.wrapped=function(){return new zn(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},zn.prototype.unwrapTo=function(o){return new zn(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)},zn.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},zn.prototype.toUnwrapped=function(){return new NM(this.wrap,this.canonical)},zn.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},zn.prototype.getTilePoint=function(o){return this.canonical.getTilePoint(new r_(o.x-this.wrap,o.y))},Dt("CanonicalTileID",s_),Dt("OverscaledTileID",zn,{omit:["posMatrix"]});var cc=function(o,u,d){if(this.uid=o,u.height!==u.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return Ae('"'+d+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=u.height;var g=this.dim=u.height-2;this.data=new Uint32Array(u.data.buffer),this.encoding=d||"mapbox";for(var x=0;x<g;x++)this.data[this._idx(-1,x)]=this.data[this._idx(0,x)],this.data[this._idx(g,x)]=this.data[this._idx(g-1,x)],this.data[this._idx(x,-1)]=this.data[this._idx(x,0)],this.data[this._idx(x,g)]=this.data[this._idx(x,g-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(g,-1)]=this.data[this._idx(g-1,0)],this.data[this._idx(-1,g)]=this.data[this._idx(0,g-1)],this.data[this._idx(g,g)]=this.data[this._idx(g-1,g-1)]};cc.prototype.get=function(o,u){var d=new Uint8Array(this.data.buffer),g=4*this._idx(o,u);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(d[g],d[g+1],d[g+2])},cc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},cc.prototype._idx=function(o,u){if(o<-1||o>=this.dim+1||u<-1||u>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(u+1)*this.stride+(o+1)},cc.prototype._unpackMapbox=function(o,u,d){return(256*o*256+256*u+d)/10-1e4},cc.prototype._unpackTerrarium=function(o,u,d){return 256*o+u+d/256-32768},cc.prototype.getPixels=function(){return new vs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},cc.prototype.backfillBorder=function(o,u,d){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");var g=u*this.dim,x=u*this.dim+this.dim,w=d*this.dim,E=d*this.dim+this.dim;switch(u){case-1:g=x-1;break;case 1:x=g+1}switch(d){case-1:w=E-1;break;case 1:E=w+1}for(var C=-u*this.dim,k=-d*this.dim,D=w;D<E;D++)for(var z=g;z<x;z++)this.data[this._idx(z,D)]=o.data[this._idx(z+C,D+k)]},Dt("DEMData",cc);var U1=function(o){this._stringToNumber={},this._numberToString=[];for(var u=0;u<o.length;u++){var d=o[u];this._stringToNumber[d]=u,this._numberToString[u]=d}};U1.prototype.encode=function(o){return this._stringToNumber[o]},U1.prototype.decode=function(o){return this._numberToString[o]};var V1=function(o,u,d,g,x){this.type="Feature",this._vectorTileFeature=o,o._z=u,o._x=d,o._y=g,this.properties=o.properties,this.id=x},Rw={geometry:{configurable:!0}};Rw.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Rw.geometry.set=function(o){this._geometry=o},V1.prototype.toJSON=function(){var o={geometry:this.geometry};for(var u in this)u!=="_geometry"&&u!=="_vectorTileFeature"&&(o[u]=this[u]);return o},Object.defineProperties(V1.prototype,Rw);var Hm=function(){this.state={},this.stateChanges={},this.deletedStates={}};Hm.prototype.updateState=function(o,u,d){var g=String(u);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][g]=this.stateChanges[o][g]||{},F(this.stateChanges[o][g],d),this.deletedStates[o]===null)for(var x in this.deletedStates[o]={},this.state[o])x!==g&&(this.deletedStates[o][x]=null);else if(this.deletedStates[o]&&this.deletedStates[o][g]===null)for(var w in this.deletedStates[o][g]={},this.state[o][g])d[w]||(this.deletedStates[o][g][w]=null);else for(var E in d)this.deletedStates[o]&&this.deletedStates[o][g]&&this.deletedStates[o][g][E]===null&&delete this.deletedStates[o][g][E]},Hm.prototype.removeFeatureState=function(o,u,d){if(this.deletedStates[o]!==null){var g=String(u);if(this.deletedStates[o]=this.deletedStates[o]||{},d&&u!==void 0)this.deletedStates[o][g]!==null&&(this.deletedStates[o][g]=this.deletedStates[o][g]||{},this.deletedStates[o][g][d]=null);else if(u!==void 0)if(this.stateChanges[o]&&this.stateChanges[o][g])for(d in this.deletedStates[o][g]={},this.stateChanges[o][g])this.deletedStates[o][g][d]=null;else this.deletedStates[o][g]=null;else this.deletedStates[o]=null}},Hm.prototype.getState=function(o,u){var d=String(u),g=F({},(this.state[o]||{})[d],(this.stateChanges[o]||{})[d]);if(this.deletedStates[o]===null)return{};if(this.deletedStates[o]){var x=this.deletedStates[o][u];if(x===null)return{};for(var w in x)delete g[w]}return g},Hm.prototype.initializeTileState=function(o,u){o.setFeatureState(this.state,u)},Hm.prototype.coalesceChanges=function(o,u){var d={};for(var g in this.stateChanges){this.state[g]=this.state[g]||{};var x={};for(var w in this.stateChanges[g])this.state[g][w]||(this.state[g][w]={}),F(this.state[g][w],this.stateChanges[g][w]),x[w]=this.state[g][w];d[g]=x}for(var E in this.deletedStates){this.state[E]=this.state[E]||{};var C={};if(this.deletedStates[E]===null)for(var k in this.state[E])C[k]={},this.state[E][k]={};else for(var D in this.deletedStates[E]){if(this.deletedStates[E][D]===null)this.state[E][D]={};else for(var z=0,q=Object.keys(this.deletedStates[E][D]);z<q.length;z+=1)delete this.state[E][D][q[z]];C[D]=this.state[E][D]}d[E]=d[E]||{},F(d[E],C)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(var H in o)o[H].setFeatureState(d,u)};var dc=function(o,u){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new pl(8192,16,0),this.grid3D=new pl(8192,16,0),this.featureIndexArray=new U,this.promoteId=u};function WM(o,u,d,g,x){return ie(o,function(w,E){var C=u instanceof Kh?u.get(E):null;return C&&C.evaluate?C.evaluate(d,g,x):C})}function zM(o){for(var u=1/0,d=1/0,g=-1/0,x=-1/0,w=0,E=o;w<E.length;w+=1){var C=E[w];u=Math.min(u,C.x),d=Math.min(d,C.y),g=Math.max(g,C.x),x=Math.max(x,C.y)}return{minX:u,minY:d,maxX:g,maxY:x}}function kF(o,u){return u-o}dc.prototype.insert=function(o,u,d,g,x,w){var E=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,g,x);for(var C=w?this.grid3D:this.grid,k=0;k<u.length;k++){for(var D=u[k],z=[1/0,1/0,-1/0,-1/0],q=0;q<D.length;q++){var H=D[q];z[0]=Math.min(z[0],H.x),z[1]=Math.min(z[1],H.y),z[2]=Math.max(z[2],H.x),z[3]=Math.max(z[3],H.y)}z[0]<8192&&z[1]<8192&&z[2]>=0&&z[3]>=0&&C.insert(E,z[0],z[1],z[2],z[3])}},dc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Fm.VectorTile(new O1(this.rawTileData)).layers,this.sourceLayerCoder=new U1(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},dc.prototype.query=function(o,u,d,g){var x=this;this.loadVTLayers();for(var w=o.params||{},E=8192/o.tileSize/o.scale,C=vm(w.filter),k=o.queryGeometry,D=o.queryPadding*E,z=zM(k),q=this.grid.query(z.minX-D,z.minY-D,z.maxX+D,z.maxY+D),H=zM(o.cameraQueryGeometry),K=this.grid3D.query(H.minX-D,H.minY-D,H.maxX+D,H.maxY+D,function(Fe,ze,Ke,dt){return function(gt,jt,Ct,Qt,It){for(var Pa=0,oa=gt;Pa<oa.length;Pa+=1){var Bt=oa[Pa];if(jt<=Bt.x&&Ct<=Bt.y&&Qt>=Bt.x&&It>=Bt.y)return!0}var qa=[new f(jt,Ct),new f(jt,It),new f(Qt,It),new f(Qt,Ct)];if(gt.length>2){for(var La=0,oi=qa;La<oi.length;La+=1)if($o(gt,oi[La]))return!0}for(var Jt=0;Jt<gt.length-1;Jt++)if(t_(gt[Jt],gt[Jt+1],qa))return!0;return!1}(o.cameraQueryGeometry,Fe-D,ze-D,Ke+D,dt+D)}),se=0,le=K;se<le.length;se+=1)q.push(le[se]);q.sort(kF);for(var Te,ge={},Ce=function(Fe){var ze=q[Fe];if(ze!==Te){Te=ze;var Ke=x.featureIndexArray.get(ze),dt=null;x.loadMatchingFeature(ge,Ke.bucketIndex,Ke.sourceLayerIndex,Ke.featureIndex,C,w.layers,w.availableImages,u,d,g,function(gt,jt,Ct){return dt||(dt=dn(gt)),jt.queryIntersectsFeature(k,gt,Ct,dt,x.z,o.transform,E,o.pixelPosMatrix)})}},Pe=0;Pe<q.length;Pe++)Ce(Pe);return ge},dc.prototype.loadMatchingFeature=function(o,u,d,g,x,w,E,C,k,D,z){var q=this.bucketLayerIDs[u];if(!w||function(gt,jt){for(var Ct=0;Ct<gt.length;Ct++)if(jt.indexOf(gt[Ct])>=0)return!0;return!1}(w,q)){var H=this.sourceLayerCoder.decode(d),K=this.vtLayers[H].feature(g);if(x.needGeometry){var se=En(K,!0);if(!x.filter(new Ha(this.tileID.overscaledZ),se,this.tileID.canonical))return}else if(!x.filter(new Ha(this.tileID.overscaledZ),K))return;for(var le=this.getId(K,H),Te=0;Te<q.length;Te++){var ge=q[Te];if(!(w&&w.indexOf(ge)<0)){var Ce=C[ge];if(Ce){var Pe={};le!==void 0&&D&&(Pe=D.getState(Ce.sourceLayer||"_geojsonTileLayer",le));var Fe=F({},k[ge]);Fe.paint=WM(Fe.paint,Ce.paint,K,Pe,E),Fe.layout=WM(Fe.layout,Ce.layout,K,Pe,E);var ze=!z||z(K,Ce,Pe);if(ze){var Ke=new V1(K,this.z,this.x,this.y,le);Ke.layer=Fe;var dt=o[ge];dt===void 0&&(dt=o[ge]=[]),dt.push({featureIndex:g,feature:Ke,intersectionZ:ze})}}}}}},dc.prototype.lookupSymbolFeatures=function(o,u,d,g,x,w,E,C){var k={};this.loadVTLayers();for(var D=vm(x),z=0,q=o;z<q.length;z+=1)this.loadMatchingFeature(k,d,g,q[z],D,w,E,C,u);return k},dc.prototype.hasLayer=function(o){for(var u=0,d=this.bucketLayerIDs;u<d.length;u+=1)for(var g=0,x=d[u];g<x.length;g+=1)if(o===x[g])return!0;return!1},dc.prototype.getId=function(o,u){var d=o.id;return this.promoteId&&typeof(d=o.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[u]])=="boolean"&&(d=Number(d)),d},Dt("FeatureIndex",dc,{omit:["rawTileData","sourceLayerCoder"]});var rr=function(o,u){this.tileID=o,this.uid=W(),this.uses=0,this.tileSize=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};rr.prototype.registerFadeDuration=function(o){var u=o+this.timeAdded;u<hi.now()||this.fadeEndTime&&u<this.fadeEndTime||(this.fadeEndTime=u)},rr.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},rr.prototype.loadVectorData=function(o,u,d){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",o){for(var g in o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(D,z){var q={};if(!z)return q;for(var H=function(){var le=se[K],Te=le.layerIds.map(function(Pe){return z.getLayer(Pe)}).filter(Boolean);if(Te.length!==0){le.layers=Te,le.stateDependentLayerIds&&(le.stateDependentLayers=le.stateDependentLayerIds.map(function(Pe){return Te.filter(function(Fe){return Fe.id===Pe})[0]}));for(var ge=0,Ce=Te;ge<Ce.length;ge+=1)q[Ce[ge].id]=le}},K=0,se=D;K<se.length;K+=1)H();return q}(o.buckets,u.style),this.hasSymbolBuckets=!1,this.buckets){var x=this.buckets[g];if(x instanceof Ei){if(this.hasSymbolBuckets=!0,!d)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var w in this.buckets){var E=this.buckets[w];if(E instanceof Ei&&E.hasRTLText){this.hasRTLText=!0,Ds.isLoading()||Ds.isLoaded()||og()!=="deferred"||Lo();break}}for(var C in this.queryPadding=0,this.buckets){var k=this.buckets[C];this.queryPadding=Math.max(this.queryPadding,u.style.getLayer(C).queryRadius(k))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage)}else this.collisionBoxArray=new p},rr.prototype.unloadVectorData=function(){for(var o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},rr.prototype.getBucket=function(o){return this.buckets[o.id]},rr.prototype.upload=function(o){for(var u in this.buckets){var d=this.buckets[u];d.uploadPending()&&d.upload(o)}var g=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new n_(o,this.imageAtlas.image,g.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new n_(o,this.glyphAtlasImage,g.ALPHA),this.glyphAtlasImage=null)},rr.prototype.prepare=function(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)},rr.prototype.queryRenderedFeatures=function(o,u,d,g,x,w,E,C,k,D){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:x,scale:w,tileSize:this.tileSize,pixelPosMatrix:D,transform:C,params:E,queryPadding:this.queryPadding*k},o,u,d):{}},rr.prototype.querySourceFeatures=function(o,u){var d=this.latestFeatureIndex;if(d&&d.rawTileData){var g=d.loadVTLayers(),x=u?u.sourceLayer:"",w=g._geojsonTileLayer||g[x];if(w)for(var E=vm(u&&u.filter),C=this.tileID.canonical,k=C.z,D=C.x,z=C.y,q={z:k,x:D,y:z},H=0;H<w.length;H++){var K=w.feature(H);if(E.needGeometry){var se=En(K,!0);if(!E.filter(new Ha(this.tileID.overscaledZ),se,this.tileID.canonical))continue}else if(!E.filter(new Ha(this.tileID.overscaledZ),K))continue;var le=d.getId(K,x),Te=new V1(K,k,D,z,le);Te.tile=q,o.push(Te)}}},rr.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},rr.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},rr.prototype.setExpiryData=function(o){var u=this.expirationTime;if(o.cacheControl){var d=Oe(o.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){var g=Date.now(),x=!1;if(this.expirationTime>g)x=!1;else if(u)if(this.expirationTime<u)x=!0;else{var w=this.expirationTime-u;w?this.expirationTime=g+Math.max(w,3e4):x=!0}else x=!0;x?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},rr.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},rr.prototype.setFeatureState=function(o,u){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(o).length!==0){var d=this.latestFeatureIndex.loadVTLayers();for(var g in this.buckets)if(u.style.hasLayer(g)){var x=this.buckets[g],w=x.layers[0].sourceLayer||"_geojsonTileLayer",E=d[w],C=o[w];if(E&&C&&Object.keys(C).length!==0){x.update(C,E,this.imageAtlas&&this.imageAtlas.patternPositions||{});var k=u&&u.style&&u.style.getLayer(g);k&&(this.queryPadding=Math.max(this.queryPadding,k.queryRadius(x)))}}}},rr.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},rr.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<hi.now()},rr.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},rr.prototype.setHoldDuration=function(o){this.symbolFadeHoldUntil=hi.now()+o},rr.prototype.setDependencies=function(o,u){for(var d={},g=0,x=u;g<x.length;g+=1)d[x[g]]=!0;this.dependencies[o]=d},rr.prototype.hasDependency=function(o,u){for(var d=0,g=o;d<g.length;d+=1){var x=this.dependencies[g[d]];if(x){for(var w=0,E=u;w<E.length;w+=1)if(x[E[w]])return!0}}return!1};var vd=b.performance,BM=function(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},vd.mark(this._marks.start)};BM.prototype.finish=function(){vd.mark(this._marks.end);var o=vd.getEntriesByName(this._marks.measure);return o.length===0&&(vd.measure(this._marks.measure,this._marks.start,this._marks.end),o=vd.getEntriesByName(this._marks.measure),vd.clearMarks(this._marks.start),vd.clearMarks(this._marks.end),vd.clearMeasures(this._marks.measure)),o},r.Actor=jm,r.AlphaImage=i_,r.CanonicalTileID=s_,r.CollisionBoxArray=p,r.Color=li,r.DEMData=cc,r.DataConstantProperty=Kt,r.DictionaryCoder=U1,r.EXTENT=8192,r.ErrorEvent=Ee,r.EvaluationParameters=Ha,r.Event=oe,r.Evented=Se,r.FeatureIndex=dc,r.FillBucket=vl,r.FillExtrusionBucket=bl,r.ImageAtlas=wg,r.ImagePosition=P1,r.LineBucket=es,r.LngLat=Ji,r.LngLatBounds=Wn,r.MercatorCoordinate=r_,r.ONE_EM=24,r.OverscaledTileID=zn,r.Point=f,r.Point$1=f,r.Properties=pr,r.Protobuf=O1,r.RGBAImage=vs,r.RequestManager=qe,r.RequestPerformance=BM,r.ResourceType=ds,r.SegmentVector=J,r.SourceFeatureState=Hm,r.StructArrayLayout1ui2=_g,r.StructArrayLayout2f1f2i16=sc,r.StructArrayLayout2i4=rc,r.StructArrayLayout3ui6=lu,r.StructArrayLayout4i8=ug,r.SymbolBucket=Ei,r.Texture=n_,r.Tile=rr,r.Transitionable=mr,r.Uniform1f=mt,r.Uniform1i=at,r.Uniform2f=ht,r.Uniform3f=Rt,r.Uniform4f=$t,r.UniformColor=ia,r.UniformMatrix4f=ui,r.UnwrappedTileID=NM,r.ValidationError=ue,r.WritingMode=oo,r.ZoomHistory=ig,r.add=function(o,u,d){return o[0]=u[0]+d[0],o[1]=u[1]+d[1],o[2]=u[2]+d[2],o},r.addDynamicAttributes=Lw,r.asyncAll=function(o,u,d){if(!o.length)return d(null,[]);var g=o.length,x=new Array(o.length),w=null;o.forEach(function(E,C){u(E,function(k,D){k&&(w=k),x[C]=D,--g==0&&d(w,x)})})},r.bezier=M,r.bindAll=he,r.browser=hi,r.cacheEntryPossiblyAdded=function(o){++Ti>fn&&(o.getActor().send("enforceCacheSizeLimit",ii),Ti=0)},r.clamp=R,r.clearTileCache=function(o){var u=b.caches.delete("mapbox-tiles");o&&u.catch(o).then(function(){return o()})},r.clipLine=xM,r.clone=function(o){var u=new pi(16);return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=o[4],u[5]=o[5],u[6]=o[6],u[7]=o[7],u[8]=o[8],u[9]=o[9],u[10]=o[10],u[11]=o[11],u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15],u},r.clone$1=fe,r.clone$2=function(o){var u=new pi(3);return u[0]=o[0],u[1]=o[1],u[2]=o[2],u},r.collisionCircleLayout=JD,r.config=ka,r.create=function(){var o=new pi(16);return pi!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},r.create$1=function(){var o=new pi(9);return pi!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[5]=0,o[6]=0,o[7]=0),o[0]=1,o[4]=1,o[8]=1,o},r.create$2=function(){var o=new pi(4);return pi!=Float32Array&&(o[1]=0,o[2]=0),o[0]=1,o[3]=1,o},r.createCommonjsModule=l,r.createExpression=gm,r.createLayout=ir,r.createStyleLayer=function(o){return o.type==="custom"?new RF(o):new OF[o.type](o)},r.cross=function(o,u,d){var g=u[0],x=u[1],w=u[2],E=d[0],C=d[1],k=d[2];return o[0]=x*k-w*C,o[1]=w*E-g*k,o[2]=g*C-x*E,o},r.deepEqual=function o(u,d){if(Array.isArray(u)){if(!Array.isArray(d)||u.length!==d.length)return!1;for(var g=0;g<u.length;g++)if(!o(u[g],d[g]))return!1;return!0}if(typeof u=="object"&&u!==null&&d!==null){if(typeof d!="object"||Object.keys(u).length!==Object.keys(d).length)return!1;for(var x in u)if(!o(u[x],d[x]))return!1;return!0}return u===d},r.dot=function(o,u){return o[0]*u[0]+o[1]*u[1]+o[2]*u[2]},r.dot$1=function(o,u){return o[0]*u[0]+o[1]*u[1]+o[2]*u[2]+o[3]*u[3]},r.ease=I,r.emitValidationErrors=Zh,r.endsWith=_e,r.enforceCacheSizeLimit=function(o){cn(),xt&&xt.then(function(u){u.keys().then(function(d){for(var g=0;g<d.length-o;g++)u.delete(d[g])})})},r.evaluateSizeForFeature=pM,r.evaluateSizeForZoom=fM,r.evaluateVariableOffset=TM,r.evented=sg,r.extend=F,r.featureFilter=vm,r.filterObject=me,r.fromRotation=function(o,u){var d=Math.sin(u),g=Math.cos(u);return o[0]=g,o[1]=d,o[2]=0,o[3]=-d,o[4]=g,o[5]=0,o[6]=0,o[7]=0,o[8]=1,o},r.getAnchorAlignment=Sw,r.getAnchorJustification=Mw,r.getArrayBuffer=Ki,r.getImage=j,r.getJSON=function(o,u){return So(F(o,{type:"json"}),u)},r.getRTLTextPluginStatus=og,r.getReferrer=Kr,r.getVideo=function(o,u){var d,g,x=b.document.createElement("video");x.muted=!0,x.onloadstart=function(){u(null,x)};for(var w=0;w<o.length;w++){var E=b.document.createElement("source");d=o[w],g=void 0,(g=b.document.createElement("a")).href=d,(g.protocol!==b.document.location.protocol||g.host!==b.document.location.host)&&(x.crossOrigin="Anonymous"),E.src=o[w],x.appendChild(E)}return{cancel:function(){}}},r.identity=Fs,r.invert=function(o,u){var d=u[0],g=u[1],x=u[2],w=u[3],E=u[4],C=u[5],k=u[6],D=u[7],z=u[8],q=u[9],H=u[10],K=u[11],se=u[12],le=u[13],Te=u[14],ge=u[15],Ce=d*C-g*E,Pe=d*k-x*E,Fe=d*D-w*E,ze=g*k-x*C,Ke=g*D-w*C,dt=x*D-w*k,gt=z*le-q*se,jt=z*Te-H*se,Ct=z*ge-K*se,Qt=q*Te-H*le,It=q*ge-K*le,Pa=H*ge-K*Te,oa=Ce*Pa-Pe*It+Fe*Qt+ze*Ct-Ke*jt+dt*gt;return oa?(o[0]=(C*Pa-k*It+D*Qt)*(oa=1/oa),o[1]=(x*It-g*Pa-w*Qt)*oa,o[2]=(le*dt-Te*Ke+ge*ze)*oa,o[3]=(H*Ke-q*dt-K*ze)*oa,o[4]=(k*Ct-E*Pa-D*jt)*oa,o[5]=(d*Pa-x*Ct+w*jt)*oa,o[6]=(Te*Fe-se*dt-ge*Pe)*oa,o[7]=(z*dt-H*Fe+K*Pe)*oa,o[8]=(E*It-C*Ct+D*gt)*oa,o[9]=(g*Ct-d*It-w*gt)*oa,o[10]=(se*Ke-le*Fe+ge*Ce)*oa,o[11]=(q*Fe-z*Ke-K*Ce)*oa,o[12]=(C*jt-E*Qt-k*gt)*oa,o[13]=(d*Qt-g*jt+x*gt)*oa,o[14]=(le*Pe-se*ze-Te*Ce)*oa,o[15]=(z*ze-q*Pe+H*Ce)*oa,o):null},r.isChar=Tt,r.isMapboxURL=it,r.keysDifference=function(o,u){var d=[];for(var g in o)g in u||d.push(g);return d},r.makeRequest=So,r.mapObject=ie,r.mercatorXfromLng=PM,r.mercatorYfromLat=DM,r.mercatorZfromAltitude=FM,r.mul=dw,r.multiply=Jr,r.mvt=Fm,r.nextPowerOfTwo=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},r.normalize=function(o,u){var d=u[0],g=u[1],x=u[2],w=d*d+g*g+x*x;return w>0&&(w=1/Math.sqrt(w)),o[0]=u[0]*w,o[1]=u[1]*w,o[2]=u[2]*w,o},r.number=In,r.offscreenCanvasSupported=Yi,r.ortho=function(o,u,d,g,x,w,E){var C=1/(u-d),k=1/(g-x),D=1/(w-E);return o[0]=-2*C,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*k,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*D,o[11]=0,o[12]=(u+d)*C,o[13]=(x+g)*k,o[14]=(E+w)*D,o[15]=1,o},r.parseGlyphPBF=function(o){return new O1(o).readFields(cF,[])},r.pbf=O1,r.performSymbolLayout=function(o,u,d,g,x,w,E){o.createArrays(),o.tilePixelRatio=8192/(512*o.overscaling),o.compareText={},o.iconsNeedLinear=!1;var C=o.layers[0].layout,k=o.layers[0]._unevaluatedLayout._values,D={};if(o.textSizeData.kind==="composite"){var z=o.textSizeData,q=z.maxZoom;D.compositeTextSizes=[k["text-size"].possiblyEvaluate(new Ha(z.minZoom),E),k["text-size"].possiblyEvaluate(new Ha(q),E)]}if(o.iconSizeData.kind==="composite"){var H=o.iconSizeData,K=H.maxZoom;D.compositeIconSizes=[k["icon-size"].possiblyEvaluate(new Ha(H.minZoom),E),k["icon-size"].possiblyEvaluate(new Ha(K),E)]}D.layoutTextSize=k["text-size"].possiblyEvaluate(new Ha(o.zoom+1),E),D.layoutIconSize=k["icon-size"].possiblyEvaluate(new Ha(o.zoom+1),E),D.textMaxSize=k["text-size"].possiblyEvaluate(new Ha(18));for(var se=24*C.get("text-line-height"),le=C.get("text-rotation-alignment")==="map"&&C.get("symbol-placement")!=="point",Te=C.get("text-keep-upright"),ge=C.get("text-size"),Ce=function(){var ze=Fe[Pe],Ke=C.get("text-font").evaluate(ze,{},E).join(","),dt=ge.evaluate(ze,{},E),gt=D.layoutTextSize.evaluate(ze,{},E),jt=D.layoutIconSize.evaluate(ze,{},E),Ct={horizontal:{},vertical:void 0},Qt=ze.text,It=[0,0];if(Qt){var Pa=Qt.toString(),oa=24*C.get("text-letter-spacing").evaluate(ze,{},E),Bt=function($a){for(var Oi=0,bi=$a;Oi<bi.length;Oi+=1)if(ci=bi[Oi].charCodeAt(0),Tt.Arabic(ci)||Tt["Arabic Supplement"](ci)||Tt["Arabic Extended-A"](ci)||Tt["Arabic Presentation Forms-A"](ci)||Tt["Arabic Presentation Forms-B"](ci))return!1;var ci;return!0}(Pa)?oa:0,qa=C.get("text-anchor").evaluate(ze,{},E),La=C.get("text-variable-anchor");if(!La){var oi=C.get("text-radial-offset").evaluate(ze,{},E);It=oi?TM(qa,[24*oi,Ew]):C.get("text-offset").evaluate(ze,{},E).map(function($a){return 24*$a})}var Jt=le?"center":C.get("text-justify").evaluate(ze,{},E),_i=C.get("symbol-placement"),en=_i==="point"?24*C.get("text-max-width").evaluate(ze,{},E):0,yn=function(){o.allowVerticalPlacement&&ng(Pa)&&(Ct.vertical=D1(Qt,u,d,x,Ke,en,se,qa,"left",Bt,It,oo.vertical,!0,_i,gt,dt))};if(!le&&La){for(var hn=Jt==="auto"?La.map(function($a){return Mw($a)}):[Jt],tn=!1,vn=0;vn<hn.length;vn++){var Xn=hn[vn];if(!Ct.horizontal[Xn])if(tn)Ct.horizontal[Xn]=Ct.horizontal[0];else{var Yn=D1(Qt,u,d,x,Ke,en,se,"center",Xn,Bt,It,oo.horizontal,!1,_i,gt,dt);Yn&&(Ct.horizontal[Xn]=Yn,tn=Yn.positionedLines.length===1)}}yn()}else{Jt==="auto"&&(Jt=Mw(qa));var Gr=D1(Qt,u,d,x,Ke,en,se,qa,Jt,Bt,It,oo.horizontal,!1,_i,gt,dt);Gr&&(Ct.horizontal[Jt]=Gr),yn(),ng(Pa)&&le&&Te&&(Ct.vertical=D1(Qt,u,d,x,Ke,en,se,qa,Jt,Bt,It,oo.vertical,!1,_i,gt,dt))}}var sr=void 0,qr=!1;if(ze.icon&&ze.icon.name){var Mn=g[ze.icon.name];Mn&&(sr=function($a,Oi,bi){var ci=Sw(bi),ts=Oi[0]-$a.displaySize[0]*ci.horizontalAlign,Lr=Oi[1]-$a.displaySize[1]*ci.verticalAlign;return{image:$a,top:Lr,bottom:Lr+$a.displaySize[1],left:ts,right:ts+$a.displaySize[0]}}(x[ze.icon.name],C.get("icon-offset").evaluate(ze,{},E),C.get("icon-anchor").evaluate(ze,{},E)),qr=Mn.sdf,o.sdfIcons===void 0?o.sdfIcons=Mn.sdf:o.sdfIcons!==Mn.sdf&&Ae("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Mn.pixelRatio!==o.pixelRatio||C.get("icon-rotate").constantOr(1)!==0)&&(o.iconsNeedLinear=!0))}var or=MM(Ct.horizontal)||Ct.vertical;o.iconsInText=!!or&&or.iconsInText,(or||sr)&&function($a,Oi,bi,ci,ts,Lr,Gi,On,Ar,mi,mu){var lo=Lr.textMaxSize.evaluate(Oi,{});lo===void 0&&(lo=Gi);var pu,Ln=$a.layers[0].layout,fu=Ln.get("icon-offset").evaluate(Oi,{},mu),Jo=MM(bi.horizontal),Zm=Gi/24,o_=$a.tilePixelRatio*Zm,Xm=$a.tilePixelRatio*lo/24,hc=$a.tilePixelRatio*On,Ym=$a.tilePixelRatio*Ln.get("symbol-spacing"),j1=Ln.get("text-padding")*$a.tilePixelRatio,Km=Ln.get("icon-padding")*$a.tilePixelRatio,Eg=Ln.get("text-max-angle")/180*Math.PI,H1=Ln.get("text-rotation-alignment")==="map"&&Ln.get("symbol-placement")!=="point",Z1=Ln.get("icon-rotation-alignment")==="map"&&Ln.get("symbol-placement")!=="point",_c=Ln.get("symbol-placement"),Mg=Ym/2,$m=Ln.get("icon-text-fit");ci&&$m!=="none"&&($a.allowVerticalPlacement&&bi.vertical&&(pu=mM(ci,bi.vertical,$m,Ln.get("icon-text-fit-padding"),fu,Zm)),Jo&&(ci=mM(ci,Jo,$m,Ln.get("icon-text-fit-padding"),fu,Zm)));var bd=function(PF,Pg){Pg.x<0||Pg.x>=8192||Pg.y<0||Pg.y>=8192||function(An,xl,DF,xd,Dw,UM,J1,gu,ev,Dg,tv,av,Fw,VM,Fg,jM,HM,ZM,XM,YM,uo,iv,KM,yu,FF){var $M,u_,ap,ip,np,rp=An.addToLineVertexArray(xl,DF),QM=0,JM=0,e8=0,t8=0,Nw=-1,Ww=-1,mc={},a8=re(""),zw=0,Bw=0;if(gu._unevaluatedLayout.getValue("text-radial-offset")===void 0?(zw=($M=gu.layout.get("text-offset").evaluate(uo,{},yu).map(function(Wg){return 24*Wg}))[0],Bw=$M[1]):(zw=24*gu.layout.get("text-radial-offset").evaluate(uo,{},yu),Bw=Ew),An.allowVerticalPlacement&&xd.vertical){var i8=gu.layout.get("text-rotate").evaluate(uo,{},yu)+90;ip=new B1(ev,xl,Dg,tv,av,xd.vertical,Fw,VM,Fg,i8),J1&&(np=new B1(ev,xl,Dg,tv,av,J1,HM,ZM,Fg,i8))}if(Dw){var Gw=gu.layout.get("icon-rotate").evaluate(uo,{}),n8=gu.layout.get("icon-text-fit")!=="none",r8=wM(Dw,Gw,KM,n8),qw=J1?wM(J1,Gw,KM,n8):void 0;ap=new B1(ev,xl,Dg,tv,av,Dw,HM,ZM,!1,Gw),QM=4*r8.length;var s8=An.iconSizeData,Ng=null;s8.kind==="source"?(Ng=[128*gu.layout.get("icon-size").evaluate(uo,{})])[0]>32640&&Ae(An.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):s8.kind==="composite"&&((Ng=[128*iv.compositeIconSizes[0].evaluate(uo,{},yu),128*iv.compositeIconSizes[1].evaluate(uo,{},yu)])[0]>32640||Ng[1]>32640)&&Ae(An.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),An.addSymbols(An.icon,r8,Ng,YM,XM,uo,!1,xl,rp.lineStartIndex,rp.lineLength,-1,yu),Nw=An.icon.placedSymbolArray.length-1,qw&&(JM=4*qw.length,An.addSymbols(An.icon,qw,Ng,YM,XM,uo,oo.vertical,xl,rp.lineStartIndex,rp.lineLength,-1,yu),Ww=An.icon.placedSymbolArray.length-1)}for(var o8 in xd.horizontal){var nv=xd.horizontal[o8];if(!u_){a8=re(nv.text);var NF=gu.layout.get("text-rotate").evaluate(uo,{},yu);u_=new B1(ev,xl,Dg,tv,av,nv,Fw,VM,Fg,NF)}var l8=nv.positionedLines.length===1;if(e8+=EM(An,xl,nv,UM,gu,Fg,uo,jM,rp,xd.vertical?oo.horizontal:oo.horizontalOnly,l8?Object.keys(xd.horizontal):[o8],mc,Nw,iv,yu),l8)break}xd.vertical&&(t8+=EM(An,xl,xd.vertical,UM,gu,Fg,uo,jM,rp,oo.vertical,["vertical"],mc,Ww,iv,yu));var WF=u_?u_.boxStartIndex:An.collisionBoxArray.length,zF=u_?u_.boxEndIndex:An.collisionBoxArray.length,BF=ip?ip.boxStartIndex:An.collisionBoxArray.length,GF=ip?ip.boxEndIndex:An.collisionBoxArray.length,qF=ap?ap.boxStartIndex:An.collisionBoxArray.length,UF=ap?ap.boxEndIndex:An.collisionBoxArray.length,VF=np?np.boxStartIndex:An.collisionBoxArray.length,jF=np?np.boxEndIndex:An.collisionBoxArray.length,vu=-1,rv=function(Wg,c8){return Wg&&Wg.circleDiameter?Math.max(Wg.circleDiameter,c8):c8};vu=rv(u_,vu),vu=rv(ip,vu),vu=rv(ap,vu);var u8=(vu=rv(np,vu))>-1?1:0;u8&&(vu*=FF/24),An.glyphOffsetArray.length>=Ei.MAX_GLYPHS&&Ae("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),uo.sortKey!==void 0&&An.addToSortKeyRanges(An.symbolInstances.length,uo.sortKey),An.symbolInstances.emplaceBack(xl.x,xl.y,mc.right>=0?mc.right:-1,mc.center>=0?mc.center:-1,mc.left>=0?mc.left:-1,mc.vertical||-1,Nw,Ww,a8,WF,zF,BF,GF,qF,UF,VF,jF,Dg,e8,t8,QM,JM,u8,0,Fw,zw,Bw,vu)}($a,Pg,PF,bi,ci,ts,pu,$a.layers[0],$a.collisionBoxArray,Oi.index,Oi.sourceLayerIndex,$a.index,o_,j1,H1,Ar,hc,Km,Z1,fu,Oi,Lr,mi,mu,Gi)};if(_c==="line")for(var Qm=0,X1=xM(Oi.geometry,0,0,8192,8192);Qm<X1.length;Qm+=1)for(var Y1=X1[Qm],Lg=0,Ag=gF(Y1,Ym,Eg,bi.vertical||Jo,ci,24,Xm,$a.overscaling,8192);Lg<Ag.length;Lg+=1){var K1=Ag[Lg];Jo&&xF($a,Jo.text,Mg,K1)||bd(Y1,K1)}else if(_c==="line-center")for(var Cg=0,Ig=Oi.geometry;Cg<Ig.length;Cg+=1){var Rg=Ig[Cg];if(Rg.length>1){var $1=fF(Rg,Eg,bi.vertical||Jo,ci,24,Xm);$1&&bd(Rg,$1)}}else if(Oi.type==="Polygon")for(var Jm=0,Q1=yw(Oi.geometry,0);Jm<Q1.length;Jm+=1){var ep=Q1[Jm],Og=vF(ep,16);bd(ep[0],new Bm(Og.x,Og.y,0))}else if(Oi.type==="LineString")for(var l_=0,kg=Oi.geometry;l_<kg.length;l_+=1){var tp=kg[l_];bd(tp,new Bm(tp[0].x,tp[0].y,0))}else if(Oi.type==="Point")for(var Ow=0,GM=Oi.geometry;Ow<GM.length;Ow+=1)for(var kw=0,qM=GM[Ow];kw<qM.length;kw+=1){var Pw=qM[kw];bd([Pw],new Bm(Pw.x,Pw.y,0))}}(o,ze,Ct,sr,g,D,gt,jt,It,qr,E)},Pe=0,Fe=o.features;Pe<Fe.length;Pe+=1)Ce();w&&o.generateCollisionDebugBuffers()},r.perspective=function(o,u,d,g,x){var w,E=1/Math.tan(u/2);return o[0]=E/d,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=E,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,x!=null&&x!==1/0?(o[10]=(x+g)*(w=1/(g-x)),o[14]=2*x*g*w):(o[10]=-1,o[14]=-2*g),o},r.pick=function(o,u){for(var d={},g=0;g<u.length;g++){var x=u[g];x in o&&(d[x]=o[x])}return d},r.plugin=Ds,r.polygonIntersectsPolygon=du,r.postMapLoadEvent=Xi,r.postTurnstileEvent=Fa,r.potpack=cM,r.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],r.register=Dt,r.registerForPluginStateChange=function(o){return o({pluginStatus:fs,pluginURL:fl}),sg.on("pluginStateChange",o),o},r.renderColorRamp=j5,r.rotate=function(o,u,d){var g=u[0],x=u[1],w=u[2],E=u[3],C=Math.sin(d),k=Math.cos(d);return o[0]=g*k+w*C,o[1]=x*k+E*C,o[2]=g*-C+w*k,o[3]=x*-C+E*k,o},r.rotateX=function(o,u,d){var g=Math.sin(d),x=Math.cos(d),w=u[4],E=u[5],C=u[6],k=u[7],D=u[8],z=u[9],q=u[10],H=u[11];return u!==o&&(o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[12]=u[12],o[13]=u[13],o[14]=u[14],o[15]=u[15]),o[4]=w*x+D*g,o[5]=E*x+z*g,o[6]=C*x+q*g,o[7]=k*x+H*g,o[8]=D*x-w*g,o[9]=z*x-E*g,o[10]=q*x-C*g,o[11]=H*x-k*g,o},r.rotateZ=function(o,u,d){var g=Math.sin(d),x=Math.cos(d),w=u[0],E=u[1],C=u[2],k=u[3],D=u[4],z=u[5],q=u[6],H=u[7];return u!==o&&(o[8]=u[8],o[9]=u[9],o[10]=u[10],o[11]=u[11],o[12]=u[12],o[13]=u[13],o[14]=u[14],o[15]=u[15]),o[0]=w*x+D*g,o[1]=E*x+z*g,o[2]=C*x+q*g,o[3]=k*x+H*g,o[4]=D*x-w*g,o[5]=z*x-E*g,o[6]=q*x-C*g,o[7]=H*x-k*g,o},r.scale=function(o,u,d){var g=d[0],x=d[1],w=d[2];return o[0]=u[0]*g,o[1]=u[1]*g,o[2]=u[2]*g,o[3]=u[3]*g,o[4]=u[4]*x,o[5]=u[5]*x,o[6]=u[6]*x,o[7]=u[7]*x,o[8]=u[8]*w,o[9]=u[9]*w,o[10]=u[10]*w,o[11]=u[11]*w,o[12]=u[12],o[13]=u[13],o[14]=u[14],o[15]=u[15],o},r.scale$1=function(o,u,d){return o[0]=u[0]*d,o[1]=u[1]*d,o[2]=u[2]*d,o[3]=u[3]*d,o},r.scale$2=function(o,u,d){return o[0]=u[0]*d,o[1]=u[1]*d,o[2]=u[2]*d,o},r.setCacheLimits=function(o,u){ii=o,fn=u},r.setRTLTextPlugin=function(o,u,d){if(d===void 0&&(d=!1),fs==="deferred"||fs==="loading"||fs==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");fl=hi.resolveURL(o),fs="deferred",Mm=u,Yh(),d||Lo()},r.sphericalToCartesian=function(o){var u=o[0],d=o[1],g=o[2];return d+=90,d*=Math.PI/180,g*=Math.PI/180,{x:u*Math.cos(d)*Math.sin(g),y:u*Math.sin(d)*Math.sin(g),z:u*Math.cos(g)}},r.sqrLen=function(o){var u=o[0],d=o[1];return u*u+d*d},r.styleSpec=Y,r.sub=function(o,u,d){return o[0]=u[0]-d[0],o[1]=u[1]-d[1],o[2]=u[2]-d[2],o},r.symbolSize=pF,r.transformMat3=function(o,u,d){var g=u[0],x=u[1],w=u[2];return o[0]=g*d[0]+x*d[3]+w*d[6],o[1]=g*d[1]+x*d[4]+w*d[7],o[2]=g*d[2]+x*d[5]+w*d[8],o},r.transformMat4=Om,r.translate=function(o,u,d){var g,x,w,E,C,k,D,z,q,H,K,se,le=d[0],Te=d[1],ge=d[2];return u===o?(o[12]=u[0]*le+u[4]*Te+u[8]*ge+u[12],o[13]=u[1]*le+u[5]*Te+u[9]*ge+u[13],o[14]=u[2]*le+u[6]*Te+u[10]*ge+u[14],o[15]=u[3]*le+u[7]*Te+u[11]*ge+u[15]):(x=u[1],w=u[2],E=u[3],C=u[4],k=u[5],D=u[6],z=u[7],q=u[8],H=u[9],K=u[10],se=u[11],o[0]=g=u[0],o[1]=x,o[2]=w,o[3]=E,o[4]=C,o[5]=k,o[6]=D,o[7]=z,o[8]=q,o[9]=H,o[10]=K,o[11]=se,o[12]=g*le+C*Te+q*ge+u[12],o[13]=x*le+k*Te+H*ge+u[13],o[14]=w*le+D*Te+K*ge+u[14],o[15]=E*le+z*Te+se*ge+u[15]),o},r.triggerPluginCompletionEvent=E1,r.uniqueId=W,r.validateCustomStyleLayer=function(o){var u=[],d=o.id;return d===void 0&&u.push({message:"layers."+d+': missing required property "id"'}),o.render===void 0&&u.push({message:"layers."+d+': missing required method "render"'}),o.renderingMode&&o.renderingMode!=="2d"&&o.renderingMode!=="3d"&&u.push({message:"layers."+d+': property "renderingMode" must be either "2d" or "3d"'}),u},r.validateLight=uw,r.validateStyle=jh,r.values=function(o){var u=[];for(var d in o)u.push(o[d]);return u},r.vectorTile=Fm,r.version="1.13.3",r.warnOnce=Ae,r.webpSupported=Zi,r.window=b,r.wrap=P}),s(["./shared"],function(r){function l(G){var j=typeof G;if(j==="number"||j==="boolean"||j==="string"||G==null)return JSON.stringify(G);if(Array.isArray(G)){for(var X="[",ee=0,oe=G;ee<oe.length;ee+=1)X+=l(oe[ee])+",";return X+"]"}for(var Ee=Object.keys(G).sort(),Se="{",Y=0;Y<Ee.length;Y++)Se+=JSON.stringify(Ee[Y])+":"+l(G[Ee[Y]])+",";return Se+"}"}function c(G){for(var j="",X=0,ee=r.refProperties;X<ee.length;X+=1)j+="/"+l(G[ee[X]]);return j}var h=function(G){this.keyCache={},G&&this.replace(G)};h.prototype.replace=function(G){this._layerConfigs={},this._layers={},this.update(G,[])},h.prototype.update=function(G,j){for(var X=this,ee=0,oe=G;ee<oe.length;ee+=1){var Ee=oe[ee];this._layerConfigs[Ee.id]=Ee;var Se=this._layers[Ee.id]=r.createStyleLayer(Ee);Se._featureFilter=r.featureFilter(Se.filter),this.keyCache[Ee.id]&&delete this.keyCache[Ee.id]}for(var Y=0,ue=j;Y<ue.length;Y+=1){var Ie=ue[Y];delete this.keyCache[Ie],delete this._layerConfigs[Ie],delete this._layers[Ie]}this.familiesBySource={};for(var et=0,lt=function(bt,St){for(var Ra={},He=0;He<bt.length;He++){var we=St&&St[bt[He].id]||c(bt[He]);St&&(St[bt[He].id]=we);var tt=Ra[we];tt||(tt=Ra[we]=[]),tt.push(bt[He])}var rt=[];for(var Yt in Ra)rt.push(Ra[Yt]);return rt}(r.values(this._layerConfigs),this.keyCache);et<lt.length;et+=1){var Ge=lt[et].map(function(bt){return X._layers[bt.id]}),nt=Ge[0];if(nt.visibility!=="none"){var Ot=nt.source||"",Mt=this.familiesBySource[Ot];Mt||(Mt=this.familiesBySource[Ot]={});var Ve=nt.sourceLayer||"_geojsonTileLayer",At=Mt[Ve];At||(At=Mt[Ve]=[]),At.push(Ge)}}};var f=function(G){var j={},X=[];for(var ee in G){var oe=G[ee],Ee=j[ee]={};for(var Se in oe){var Y=oe[+Se];if(Y&&Y.bitmap.width!==0&&Y.bitmap.height!==0){var ue={x:0,y:0,w:Y.bitmap.width+2,h:Y.bitmap.height+2};X.push(ue),Ee[Se]={rect:ue,metrics:Y.metrics}}}}var Ie=r.potpack(X),et=new r.AlphaImage({width:Ie.w||1,height:Ie.h||1});for(var lt in G){var Ge=G[lt];for(var nt in Ge){var Ot=Ge[+nt];if(Ot&&Ot.bitmap.width!==0&&Ot.bitmap.height!==0){var Mt=j[lt][nt].rect;r.AlphaImage.copy(Ot.bitmap,et,{x:0,y:0},{x:Mt.x+1,y:Mt.y+1},Ot.bitmap)}}}this.image=et,this.positions=j};r.register("GlyphAtlas",f);var v=function(G){this.tileID=new r.OverscaledTileID(G.tileID.overscaledZ,G.tileID.wrap,G.tileID.canonical.z,G.tileID.canonical.x,G.tileID.canonical.y),this.uid=G.uid,this.zoom=G.zoom,this.pixelRatio=G.pixelRatio,this.tileSize=G.tileSize,this.source=G.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=G.showCollisionBoxes,this.collectResourceTiming=!!G.collectResourceTiming,this.returnDependencies=!!G.returnDependencies,this.promoteId=G.promoteId};function b(G,j,X){for(var ee=new r.EvaluationParameters(j),oe=0,Ee=G;oe<Ee.length;oe+=1)Ee[oe].recalculate(ee,X)}function T(G,j){var X=r.getArrayBuffer(G.request,function(ee,oe,Ee,Se){ee?j(ee):oe&&j(null,{vectorTile:new r.vectorTile.VectorTile(new r.pbf(oe)),rawData:oe,cacheControl:Ee,expires:Se})});return function(){X.cancel(),j()}}v.prototype.parse=function(G,j,X,ee,oe){var Ee=this;this.status="parsing",this.data=G,this.collisionBoxArray=new r.CollisionBoxArray;var Se=new r.DictionaryCoder(Object.keys(G.layers).sort()),Y=new r.FeatureIndex(this.tileID,this.promoteId);Y.bucketLayerIDs=[];var ue,Ie,et,lt,Ge={},nt={featureIndex:Y,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:X},Ot=j.familiesBySource[this.source];for(var Mt in Ot){var Ve=G.layers[Mt];if(Ve){Ve.version===1&&r.warnOnce('Vector tile source "'+this.source+'" layer "'+Mt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var At=Se.encode(Mt),bt=[],St=0;St<Ve.length;St++){var Ra=Ve.feature(St),He=Y.getId(Ra,Mt);bt.push({feature:Ra,id:He,index:St,sourceLayerIndex:At})}for(var we=0,tt=Ot[Mt];we<tt.length;we+=1){var rt=tt[we],Yt=rt[0];Yt.minzoom&&this.zoom<Math.floor(Yt.minzoom)||Yt.maxzoom&&this.zoom>=Yt.maxzoom||Yt.visibility!=="none"&&(b(rt,this.zoom,X),(Ge[Yt.id]=Yt.createBucket({index:Y.bucketLayerIDs.length,layers:rt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:At,sourceID:this.source})).populate(bt,nt,this.tileID.canonical),Y.bucketLayerIDs.push(rt.map(function(Ea){return Ea.id})))}}}var ya=r.mapObject(nt.glyphDependencies,function(Ea){return Object.keys(Ea).map(Number)});Object.keys(ya).length?ee.send("getGlyphs",{uid:this.uid,stacks:ya},function(Ea,Wa){ue||(ue=Ea,Ie=Wa,Ii.call(Ee))}):Ie={};var vi=Object.keys(nt.iconDependencies);vi.length?ee.send("getImages",{icons:vi,source:this.source,tileID:this.tileID,type:"icons"},function(Ea,Wa){ue||(ue=Ea,et=Wa,Ii.call(Ee))}):et={};var Ta=Object.keys(nt.patternDependencies);function Ii(){if(ue)return oe(ue);if(Ie&&et&&lt){var Ea=new f(Ie),Wa=new r.ImageAtlas(et,lt);for(var li in Ge){var Pr=Ge[li];Pr instanceof r.SymbolBucket?(b(Pr.layers,this.zoom,X),r.performSymbolLayout(Pr,Ie,Ea.positions,et,Wa.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Pr.hasPattern&&(Pr instanceof r.LineBucket||Pr instanceof r.FillBucket||Pr instanceof r.FillExtrusionBucket)&&(b(Pr.layers,this.zoom,X),Pr.addFeatures(nt,this.tileID.canonical,Wa.patternPositions))}this.status="done",oe(null,{buckets:r.values(Ge).filter(function(kh){return!kh.isEmpty()}),featureIndex:Y,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ea.image,imageAtlas:Wa,glyphMap:this.returnDependencies?Ie:null,iconMap:this.returnDependencies?et:null,glyphPositions:this.returnDependencies?Ea.positions:null})}}Ta.length?ee.send("getImages",{icons:Ta,source:this.source,tileID:this.tileID,type:"patterns"},function(Ea,Wa){ue||(ue=Ea,lt=Wa,Ii.call(Ee))}):lt={},Ii.call(this)};var M=function(G,j,X,ee){this.actor=G,this.layerIndex=j,this.availableImages=X,this.loadVectorData=ee||T,this.loading={},this.loaded={}};M.prototype.loadTile=function(G,j){var X=this,ee=G.uid;this.loading||(this.loading={});var oe=!!(G&&G.request&&G.request.collectResourceTiming)&&new r.RequestPerformance(G.request),Ee=this.loading[ee]=new v(G);Ee.abort=this.loadVectorData(G,function(Se,Y){if(delete X.loading[ee],Se||!Y)return Ee.status="done",X.loaded[ee]=Ee,j(Se);var ue=Y.rawData,Ie={};Y.expires&&(Ie.expires=Y.expires),Y.cacheControl&&(Ie.cacheControl=Y.cacheControl);var et={};if(oe){var lt=oe.finish();lt&&(et.resourceTiming=JSON.parse(JSON.stringify(lt)))}Ee.vectorTile=Y.vectorTile,Ee.parse(Y.vectorTile,X.layerIndex,X.availableImages,X.actor,function(Ge,nt){if(Ge||!nt)return j(Ge);j(null,r.extend({rawTileData:ue.slice(0)},nt,Ie,et))}),X.loaded=X.loaded||{},X.loaded[ee]=Ee})},M.prototype.reloadTile=function(G,j){var X=this,ee=this.loaded,oe=G.uid,Ee=this;if(ee&&ee[oe]){var Se=ee[oe];Se.showCollisionBoxes=G.showCollisionBoxes;var Y=function(ue,Ie){var et=Se.reloadCallback;et&&(delete Se.reloadCallback,Se.parse(Se.vectorTile,Ee.layerIndex,X.availableImages,Ee.actor,et)),j(ue,Ie)};Se.status==="parsing"?Se.reloadCallback=Y:Se.status==="done"&&(Se.vectorTile?Se.parse(Se.vectorTile,this.layerIndex,this.availableImages,this.actor,Y):Y())}},M.prototype.abortTile=function(G,j){var X=this.loading,ee=G.uid;X&&X[ee]&&X[ee].abort&&(X[ee].abort(),delete X[ee]),j()},M.prototype.removeTile=function(G,j){var X=this.loaded,ee=G.uid;X&&X[ee]&&delete X[ee],j()};var I=r.window.ImageBitmap,R=function(){this.loaded={}};function P(G,j){if(G.length!==0){F(G[0],j);for(var X=1;X<G.length;X++)F(G[X],!j)}}function F(G,j){for(var X=0,ee=0,oe=0,Ee=G.length,Se=Ee-1;oe<Ee;Se=oe++){var Y=(G[oe][0]-G[Se][0])*(G[Se][1]+G[oe][1]),ue=X+Y;ee+=Math.abs(X)>=Math.abs(Y)?X-ue+Y:Y-ue+X,X=ue}X+ee>=0!=!!j&&G.reverse()}R.prototype.loadTile=function(G,j){var X=G.uid,ee=G.encoding,oe=G.rawImageData,Ee=I&&oe instanceof I?this.getImageData(oe):oe,Se=new r.DEMData(X,Ee,ee);this.loaded=this.loaded||{},this.loaded[X]=Se,j(null,Se)},R.prototype.getImageData=function(G){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(G.width,G.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=G.width,this.offscreenCanvas.height=G.height,this.offscreenCanvasContext.drawImage(G,0,0,G.width,G.height);var j=this.offscreenCanvasContext.getImageData(-1,-1,G.width+2,G.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new r.RGBAImage({width:j.width,height:j.height},j.data)},R.prototype.removeTile=function(G){var j=this.loaded,X=G.uid;j&&j[X]&&delete j[X]};var B=r.vectorTile.VectorTileFeature.prototype.toGeoJSON,W=function(G){this._feature=G,this.extent=r.EXTENT,this.type=G.type,this.properties=G.tags,"id"in G&&!isNaN(G.id)&&(this.id=parseInt(G.id,10))};W.prototype.loadGeometry=function(){if(this._feature.type===1){for(var G=[],j=0,X=this._feature.geometry;j<X.length;j+=1){var ee=X[j];G.push([new r.Point$1(ee[0],ee[1])])}return G}for(var oe=[],Ee=0,Se=this._feature.geometry;Ee<Se.length;Ee+=1){for(var Y=[],ue=0,Ie=Se[Ee];ue<Ie.length;ue+=1){var et=Ie[ue];Y.push(new r.Point$1(et[0],et[1]))}oe.push(Y)}return oe},W.prototype.toGeoJSON=function(G,j,X){return B.call(this,G,j,X)};var Z=function(G){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=r.EXTENT,this.length=G.length,this._features=G};Z.prototype.feature=function(G){return new W(this._features[G])};var ae=r.vectorTile.VectorTileFeature,he=_e;function _e(G,j){this.options=j||{},this.features=G,this.length=G.length}function ie(G,j){this.id=typeof G.id=="number"?G.id:void 0,this.type=G.type,this.rawGeometry=G.type===1?[G.geometry]:G.geometry,this.properties=G.tags,this.extent=j||4096}_e.prototype.feature=function(G){return new ie(this.features[G],this.options.extent)},ie.prototype.loadGeometry=function(){var G=this.rawGeometry;this.geometry=[];for(var j=0;j<G.length;j++){for(var X=G[j],ee=[],oe=0;oe<X.length;oe++)ee.push(new r.Point$1(X[oe][0],X[oe][1]));this.geometry.push(ee)}return this.geometry},ie.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var G=this.geometry,j=1/0,X=-1/0,ee=1/0,oe=-1/0,Ee=0;Ee<G.length;Ee++)for(var Se=G[Ee],Y=0;Y<Se.length;Y++){var ue=Se[Y];j=Math.min(j,ue.x),X=Math.max(X,ue.x),ee=Math.min(ee,ue.y),oe=Math.max(oe,ue.y)}return[j,ee,X,oe]},ie.prototype.toGeoJSON=ae.prototype.toGeoJSON;var me=be,fe=he;function be(G){var j=new r.pbf;return function(X,ee){for(var oe in X.layers)ee.writeMessage(3,Ae,X.layers[oe])}(G,j),j.finish()}function Ae(G,j){var X;j.writeVarintField(15,G.version||1),j.writeStringField(1,G.name||""),j.writeVarintField(5,G.extent||4096);var ee={keys:[],values:[],keycache:{},valuecache:{}};for(X=0;X<G.length;X++)ee.feature=G.feature(X),j.writeMessage(2,Ye,ee);var oe=ee.keys;for(X=0;X<oe.length;X++)j.writeStringField(3,oe[X]);var Ee=ee.values;for(X=0;X<Ee.length;X++)j.writeMessage(4,yt,Ee[X])}function Ye(G,j){var X=G.feature;X.id!==void 0&&j.writeVarintField(1,X.id),j.writeMessage(2,Xe,G),j.writeVarintField(3,X.type),j.writeMessage(4,Qe,X)}function Xe(G,j){var X=G.feature,ee=G.keys,oe=G.values,Ee=G.keycache,Se=G.valuecache;for(var Y in X.properties){var ue=Ee[Y];ue===void 0&&(ee.push(Y),Ee[Y]=ue=ee.length-1),j.writeVarint(ue);var Ie=X.properties[Y],et=typeof Ie;et!=="string"&&et!=="boolean"&&et!=="number"&&(Ie=JSON.stringify(Ie));var lt=et+":"+Ie,Ge=Se[lt];Ge===void 0&&(oe.push(Ie),Se[lt]=Ge=oe.length-1),j.writeVarint(Ge)}}function Re(G,j){return(j<<3)+(7&G)}function Oe(G){return G<<1^G>>31}function Qe(G,j){for(var X=G.loadGeometry(),ee=G.type,oe=0,Ee=0,Se=X.length,Y=0;Y<Se;Y++){var ue=X[Y],Ie=1;ee===1&&(Ie=ue.length),j.writeVarint(Re(1,Ie));for(var et=ee===3?ue.length-1:ue.length,lt=0;lt<et;lt++){lt===1&&ee!==1&&j.writeVarint(Re(2,et-1));var Ge=ue[lt].x-oe,nt=ue[lt].y-Ee;j.writeVarint(Oe(Ge)),j.writeVarint(Oe(nt)),oe+=Ge,Ee+=nt}ee===3&&j.writeVarint(Re(7,1))}}function yt(G,j){var X=typeof G;X==="string"?j.writeStringField(1,G):X==="boolean"?j.writeBooleanField(7,G):X==="number"&&(G%1!=0?j.writeDoubleField(3,G):G<0?j.writeSVarintField(6,G):j.writeVarintField(5,G))}function Je(G,j,X,ee){Xt(G,X,ee),Xt(j,2*X,2*ee),Xt(j,2*X+1,2*ee+1)}function Xt(G,j,X){var ee=G[j];G[j]=G[X],G[X]=ee}function We(G,j,X,ee){var oe=G-X,Ee=j-ee;return oe*oe+Ee*Ee}me.fromVectorTileJs=be,me.fromGeojsonVt=function(G,j){j=j||{};var X={};for(var ee in G)X[ee]=new he(G[ee].features,j),X[ee].name=ee,X[ee].version=j.version,X[ee].extent=j.extent;return be({layers:X})},me.GeoJSONWrapper=fe;var la=function(G){return G[0]},ba=function(G){return G[1]},ea=function(G,j,X,ee,oe){j===void 0&&(j=la),X===void 0&&(X=ba),ee===void 0&&(ee=64),oe===void 0&&(oe=Float64Array),this.nodeSize=ee,this.points=G;for(var Ee=G.length<65536?Uint16Array:Uint32Array,Se=this.ids=new Ee(G.length),Y=this.coords=new oe(2*G.length),ue=0;ue<G.length;ue++)Se[ue]=ue,Y[2*ue]=j(G[ue]),Y[2*ue+1]=X(G[ue]);(function Ie(et,lt,Ge,nt,Ot,Mt){if(!(Ot-nt<=Ge)){var Ve=nt+Ot>>1;(function At(bt,St,Ra,He,we,tt){for(;we>He;){if(we-He>600){var rt=we-He+1,Yt=Ra-He+1,ya=Math.log(rt),vi=.5*Math.exp(2*ya/3),Ta=.5*Math.sqrt(ya*vi*(rt-vi)/rt)*(Yt-rt/2<0?-1:1);At(bt,St,Ra,Math.max(He,Math.floor(Ra-Yt*vi/rt+Ta)),Math.min(we,Math.floor(Ra+(rt-Yt)*vi/rt+Ta)),tt)}var Ii=St[2*Ra+tt],Ea=He,Wa=we;for(Je(bt,St,He,Ra),St[2*we+tt]>Ii&&Je(bt,St,He,we);Ea<Wa;){for(Je(bt,St,Ea,Wa),Ea++,Wa--;St[2*Ea+tt]<Ii;)Ea++;for(;St[2*Wa+tt]>Ii;)Wa--}St[2*He+tt]===Ii?Je(bt,St,He,Wa):Je(bt,St,++Wa,we),Wa<=Ra&&(He=Wa+1),Ra<=Wa&&(we=Wa-1)}})(et,lt,Ve,nt,Ot,Mt%2),Ie(et,lt,Ge,nt,Ve-1,Mt+1),Ie(et,lt,Ge,Ve+1,Ot,Mt+1)}})(Se,Y,ee,0,Se.length-1,0)};ea.prototype.range=function(G,j,X,ee){return function(oe,Ee,Se,Y,ue,Ie,et){for(var lt,Ge,nt=[0,oe.length-1,0],Ot=[];nt.length;){var Mt=nt.pop(),Ve=nt.pop(),At=nt.pop();if(Ve-At<=et)for(var bt=At;bt<=Ve;bt++)Ge=Ee[2*bt+1],(lt=Ee[2*bt])>=Se&&lt<=ue&&Ge>=Y&&Ge<=Ie&&Ot.push(oe[bt]);else{var St=Math.floor((At+Ve)/2);Ge=Ee[2*St+1],(lt=Ee[2*St])>=Se&&lt<=ue&&Ge>=Y&&Ge<=Ie&&Ot.push(oe[St]);var Ra=(Mt+1)%2;(Mt===0?Se<=lt:Y<=Ge)&&(nt.push(At),nt.push(St-1),nt.push(Ra)),(Mt===0?ue>=lt:Ie>=Ge)&&(nt.push(St+1),nt.push(Ve),nt.push(Ra))}}return Ot}(this.ids,this.coords,G,j,X,ee,this.nodeSize)},ea.prototype.within=function(G,j,X){return function(ee,oe,Ee,Se,Y,ue){for(var Ie=[0,ee.length-1,0],et=[],lt=Y*Y;Ie.length;){var Ge=Ie.pop(),nt=Ie.pop(),Ot=Ie.pop();if(nt-Ot<=ue)for(var Mt=Ot;Mt<=nt;Mt++)We(oe[2*Mt],oe[2*Mt+1],Ee,Se)<=lt&&et.push(ee[Mt]);else{var Ve=Math.floor((Ot+nt)/2),At=oe[2*Ve],bt=oe[2*Ve+1];We(At,bt,Ee,Se)<=lt&&et.push(ee[Ve]);var St=(Ge+1)%2;(Ge===0?Ee-Y<=At:Se-Y<=bt)&&(Ie.push(Ot),Ie.push(Ve-1),Ie.push(St)),(Ge===0?Ee+Y>=At:Se+Y>=bt)&&(Ie.push(Ve+1),Ie.push(nt),Ie.push(St))}}return et}(this.ids,this.coords,G,j,X,this.nodeSize)};var wn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(G){return G}},ca=function(G){this.options=Le(Object.create(wn),G),this.trees=new Array(this.options.maxZoom+1)};function hi(G,j,X,ee,oe){return{x:G,y:j,zoom:1/0,id:X,parentId:-1,numPoints:ee,properties:oe}}function ka(G,j){var X=G.geometry.coordinates,ee=X[1];return{x:un(X[0]),y:pe(ee),zoom:1/0,index:j,parentId:-1}}function Zi(G){return{type:"Feature",id:G.id,properties:er(G),geometry:{type:"Point",coordinates:[(ee=G.x,360*(ee-.5)),(j=G.y,X=(180-360*j)*Math.PI/180,360*Math.atan(Math.exp(X))/Math.PI-90)]}};var j,X,ee}function er(G){var j=G.numPoints,X=j>=1e4?Math.round(j/1e3)+"k":j>=1e3?Math.round(j/100)/10+"k":j;return Le(Le({},G.properties),{cluster:!0,cluster_id:G.id,point_count:j,point_count_abbreviated:X})}function un(G){return G/360+.5}function pe(G){var j=Math.sin(G*Math.PI/180),X=.5-.25*Math.log((1+j)/(1-j))/Math.PI;return X<0?0:X>1?1:X}function Le(G,j){for(var X in j)G[X]=j[X];return G}function qe(G){return G.x}function it(G){return G.y}function ut(G,j,X,ee,oe,Ee){var Se=oe-X,Y=Ee-ee;if(Se!==0||Y!==0){var ue=((G-X)*Se+(j-ee)*Y)/(Se*Se+Y*Y);ue>1?(X=oe,ee=Ee):ue>0&&(X+=Se*ue,ee+=Y*ue)}return(Se=G-X)*Se+(Y=j-ee)*Y}function ot(G,j,X,ee){var oe={id:G===void 0?null:G,type:j,geometry:X,tags:ee,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ee){var Se=Ee.geometry,Y=Ee.type;if(Y==="Point"||Y==="MultiPoint"||Y==="LineString")Et(Ee,Se);else if(Y==="Polygon"||Y==="MultiLineString")for(var ue=0;ue<Se.length;ue++)Et(Ee,Se[ue]);else if(Y==="MultiPolygon")for(ue=0;ue<Se.length;ue++)for(var Ie=0;Ie<Se[ue].length;Ie++)Et(Ee,Se[ue][Ie])}(oe),oe}function Et(G,j){for(var X=0;X<j.length;X+=3)G.minX=Math.min(G.minX,j[X]),G.minY=Math.min(G.minY,j[X+1]),G.maxX=Math.max(G.maxX,j[X]),G.maxY=Math.max(G.maxY,j[X+1])}function _t(G,j,X,ee){if(j.geometry){var oe=j.geometry.coordinates,Ee=j.geometry.type,Se=Math.pow(X.tolerance/((1<<X.maxZoom)*X.extent),2),Y=[],ue=j.id;if(X.promoteId?ue=j.properties[X.promoteId]:X.generateId&&(ue=ee||0),Ee==="Point")vt(oe,Y);else if(Ee==="MultiPoint")for(var Ie=0;Ie<oe.length;Ie++)vt(oe[Ie],Y);else if(Ee==="LineString")st(oe,Y,Se,!1);else if(Ee==="MultiLineString"){if(X.lineMetrics){for(Ie=0;Ie<oe.length;Ie++)st(oe[Ie],Y=[],Se,!1),G.push(ot(ue,"LineString",Y,j.properties));return}Nt(oe,Y,Se,!1)}else if(Ee==="Polygon")Nt(oe,Y,Se,!0);else{if(Ee!=="MultiPolygon"){if(Ee==="GeometryCollection"){for(Ie=0;Ie<j.geometry.geometries.length;Ie++)_t(G,{id:ue,geometry:j.geometry.geometries[Ie],properties:j.properties},X,ee);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ie=0;Ie<oe.length;Ie++){var et=[];Nt(oe[Ie],et,Se,!0),Y.push(et)}}G.push(ot(ue,Ee,Y,j.properties))}}function vt(G,j){j.push(xt(G[0])),j.push(Wt(G[1])),j.push(0)}function st(G,j,X,ee){for(var oe,Ee,Se=0,Y=0;Y<G.length;Y++){var ue=xt(G[Y][0]),Ie=Wt(G[Y][1]);j.push(ue),j.push(Ie),j.push(0),Y>0&&(Se+=ee?(oe*Ie-ue*Ee)/2:Math.sqrt(Math.pow(ue-oe,2)+Math.pow(Ie-Ee,2))),oe=ue,Ee=Ie}var et=j.length-3;j[2]=1,function lt(Ge,nt,Ot,Mt){for(var Ve,At=Mt,bt=Ot-nt>>1,St=Ot-nt,Ra=Ge[nt],He=Ge[nt+1],we=Ge[Ot],tt=Ge[Ot+1],rt=nt+3;rt<Ot;rt+=3){var Yt=ut(Ge[rt],Ge[rt+1],Ra,He,we,tt);if(Yt>At)Ve=rt,At=Yt;else if(Yt===At){var ya=Math.abs(rt-bt);ya<St&&(Ve=rt,St=ya)}}At>Mt&&(Ve-nt>3&&lt(Ge,nt,Ve,Mt),Ge[Ve+2]=At,Ot-Ve>3&&lt(Ge,Ve,Ot,Mt))}(j,0,et,X),j[et+2]=1,j.size=Math.abs(Se),j.start=0,j.end=j.size}function Nt(G,j,X,ee){for(var oe=0;oe<G.length;oe++){var Ee=[];st(G[oe],Ee,X,ee),j.push(Ee)}}function xt(G){return G/360+.5}function Wt(G){var j=Math.sin(G*Math.PI/180),X=.5-.25*Math.log((1+j)/(1-j))/Math.PI;return X<0?0:X>1?1:X}function Zt(G,j,X,ee,oe,Ee,Se,Y){if(ee/=j,Ee>=(X/=j)&&Se<ee)return G;if(Se<X||Ee>=ee)return null;for(var ue=[],Ie=0;Ie<G.length;Ie++){var et=G[Ie],lt=et.geometry,Ge=et.type,nt=oe===0?et.minX:et.minY,Ot=oe===0?et.maxX:et.maxY;if(nt>=X&&Ot<ee)ue.push(et);else if(!(Ot<X||nt>=ee)){var Mt=[];if(Ge==="Point"||Ge==="MultiPoint")xa(lt,Mt,X,ee,oe);else if(Ge==="LineString")Fa(lt,Mt,X,ee,oe,!1,Y.lineMetrics);else if(Ge==="MultiLineString")Xi(lt,Mt,X,ee,oe,!1);else if(Ge==="Polygon")Xi(lt,Mt,X,ee,oe,!0);else if(Ge==="MultiPolygon")for(var Ve=0;Ve<lt.length;Ve++){var At=[];Xi(lt[Ve],At,X,ee,oe,!0),At.length&&Mt.push(At)}if(Mt.length){if(Y.lineMetrics&&Ge==="LineString"){for(Ve=0;Ve<Mt.length;Ve++)ue.push(ot(et.id,Ge,Mt[Ve],et.tags));continue}Ge!=="LineString"&&Ge!=="MultiLineString"||(Mt.length===1?(Ge="LineString",Mt=Mt[0]):Ge="MultiLineString"),Ge!=="Point"&&Ge!=="MultiPoint"||(Ge=Mt.length===3?"Point":"MultiPoint"),ue.push(ot(et.id,Ge,Mt,et.tags))}}}return ue.length?ue:null}function xa(G,j,X,ee,oe){for(var Ee=0;Ee<G.length;Ee+=3){var Se=G[Ee+oe];Se>=X&&Se<=ee&&(j.push(G[Ee]),j.push(G[Ee+1]),j.push(G[Ee+2]))}}function Fa(G,j,X,ee,oe,Ee,Se){for(var Y,ue,Ie=Ga(G),et=oe===0?fn:cn,lt=G.start,Ge=0;Ge<G.length-3;Ge+=3){var nt=G[Ge],Ot=G[Ge+1],Mt=G[Ge+2],Ve=G[Ge+3],At=G[Ge+4],bt=oe===0?nt:Ot,St=oe===0?Ve:At,Ra=!1;Se&&(Y=Math.sqrt(Math.pow(nt-Ve,2)+Math.pow(Ot-At,2))),bt<X?St>X&&(ue=et(Ie,nt,Ot,Ve,At,X),Se&&(Ie.start=lt+Y*ue)):bt>ee?St<ee&&(ue=et(Ie,nt,Ot,Ve,At,ee),Se&&(Ie.start=lt+Y*ue)):ii(Ie,nt,Ot,Mt),St<X&&bt>=X&&(ue=et(Ie,nt,Ot,Ve,At,X),Ra=!0),St>ee&&bt<=ee&&(ue=et(Ie,nt,Ot,Ve,At,ee),Ra=!0),!Ee&&Ra&&(Se&&(Ie.end=lt+Y*ue),j.push(Ie),Ie=Ga(G)),Se&&(lt+=Y)}var He=G.length-3;nt=G[He],Ot=G[He+1],Mt=G[He+2],(bt=oe===0?nt:Ot)>=X&&bt<=ee&&ii(Ie,nt,Ot,Mt),He=Ie.length-3,Ee&&He>=3&&(Ie[He]!==Ie[0]||Ie[He+1]!==Ie[1])&&ii(Ie,Ie[0],Ie[1],Ie[2]),Ie.length&&j.push(Ie)}function Ga(G){var j=[];return j.size=G.size,j.start=G.start,j.end=G.end,j}function Xi(G,j,X,ee,oe,Ee){for(var Se=0;Se<G.length;Se++)Fa(G[Se],j,X,ee,oe,Ee,!1)}function ii(G,j,X,ee){G.push(j),G.push(X),G.push(ee)}function fn(G,j,X,ee,oe,Ee){var Se=(Ee-j)/(ee-j);return G.push(Ee),G.push(X+(oe-X)*Se),G.push(1),Se}function cn(G,j,X,ee,oe,Ee){var Se=(Ee-X)/(oe-X);return G.push(j+(ee-j)*Se),G.push(Ee),G.push(1),Se}function cr(G,j){for(var X=[],ee=0;ee<G.length;ee++){var oe,Ee=G[ee],Se=Ee.type;if(Se==="Point"||Se==="MultiPoint"||Se==="LineString")oe=dr(Ee.geometry,j);else if(Se==="MultiLineString"||Se==="Polygon"){oe=[];for(var Y=0;Y<Ee.geometry.length;Y++)oe.push(dr(Ee.geometry[Y],j))}else if(Se==="MultiPolygon")for(oe=[],Y=0;Y<Ee.geometry.length;Y++){for(var ue=[],Ie=0;Ie<Ee.geometry[Y].length;Ie++)ue.push(dr(Ee.geometry[Y][Ie],j));oe.push(ue)}X.push(ot(Ee.id,Se,oe,Ee.tags))}return X}function dr(G,j){var X=[];X.size=G.size,G.start!==void 0&&(X.start=G.start,X.end=G.end);for(var ee=0;ee<G.length;ee+=3)X.push(G[ee]+j,G[ee+1],G[ee+2]);return X}function Ti(G,j){if(G.transformed)return G;var X,ee,oe,Ee=1<<G.z,Se=G.x,Y=G.y;for(X=0;X<G.features.length;X++){var ue=G.features[X],Ie=ue.geometry,et=ue.type;if(ue.geometry=[],et===1)for(ee=0;ee<Ie.length;ee+=2)ue.geometry.push(Yi(Ie[ee],Ie[ee+1],j,Ee,Se,Y));else for(ee=0;ee<Ie.length;ee++){var lt=[];for(oe=0;oe<Ie[ee].length;oe+=2)lt.push(Yi(Ie[ee][oe],Ie[ee][oe+1],j,Ee,Se,Y));ue.geometry.push(lt)}}return G.transformed=!0,G}function Yi(G,j,X,ee,oe,Ee){return[Math.round(X*(G*ee-oe)),Math.round(X*(j*ee-Ee))]}function ds(G,j,X,ee,oe){for(var Ee=j===oe.maxZoom?0:oe.tolerance/((1<<j)*oe.extent),Se={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:X,y:ee,z:j,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Y=0;Y<G.length;Y++){Se.numFeatures++,Js(Se,G[Y],Ee,oe);var ue=G[Y].minX,Ie=G[Y].minY,et=G[Y].maxX,lt=G[Y].maxY;ue<Se.minX&&(Se.minX=ue),Ie<Se.minY&&(Se.minY=Ie),et>Se.maxX&&(Se.maxX=et),lt>Se.maxY&&(Se.maxY=lt)}return Se}function Js(G,j,X,ee){var oe=j.geometry,Ee=j.type,Se=[];if(Ee==="Point"||Ee==="MultiPoint")for(var Y=0;Y<oe.length;Y+=3)Se.push(oe[Y]),Se.push(oe[Y+1]),G.numPoints++,G.numSimplified++;else if(Ee==="LineString")Kr(Se,oe,G,X,!1,!1);else if(Ee==="MultiLineString"||Ee==="Polygon")for(Y=0;Y<oe.length;Y++)Kr(Se,oe[Y],G,X,Ee==="Polygon",Y===0);else if(Ee==="MultiPolygon")for(var ue=0;ue<oe.length;ue++){var Ie=oe[ue];for(Y=0;Y<Ie.length;Y++)Kr(Se,Ie[Y],G,X,!0,Y===0)}if(Se.length){var et=j.tags||null;if(Ee==="LineString"&&ee.lineMetrics){for(var lt in et={},j.tags)et[lt]=j.tags[lt];et.mapbox_clip_start=oe.start/oe.size,et.mapbox_clip_end=oe.end/oe.size}var Ge={geometry:Se,type:Ee==="Polygon"||Ee==="MultiPolygon"?3:Ee==="LineString"||Ee==="MultiLineString"?2:1,tags:et};j.id!==null&&(Ge.id=j.id),G.features.push(Ge)}}function Kr(G,j,X,ee,oe,Ee){var Se=ee*ee;if(ee>0&&j.size<(oe?Se:ee))X.numPoints+=j.length/3;else{for(var Y=[],ue=0;ue<j.length;ue+=3)(ee===0||j[ue+2]>Se)&&(X.numSimplified++,Y.push(j[ue]),Y.push(j[ue+1])),X.numPoints++;oe&&function(Ie,et){for(var lt=0,Ge=0,nt=Ie.length,Ot=nt-2;Ge<nt;Ot=Ge,Ge+=2)lt+=(Ie[Ge]-Ie[Ot])*(Ie[Ge+1]+Ie[Ot+1]);if(lt>0===et)for(Ge=0,nt=Ie.length;Ge<nt/2;Ge+=2){var Mt=Ie[Ge],Ve=Ie[Ge+1];Ie[Ge]=Ie[nt-2-Ge],Ie[Ge+1]=Ie[nt-1-Ge],Ie[nt-2-Ge]=Mt,Ie[nt-1-Ge]=Ve}}(Y,Ee),G.push(Y)}}function Sn(G,j){var X=(j=this.options=function(oe,Ee){for(var Se in Ee)oe[Se]=Ee[Se];return oe}(Object.create(this.options),j)).debug;if(X&&console.time("preprocess data"),j.maxZoom<0||j.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(j.promoteId&&j.generateId)throw new Error("promoteId and generateId cannot be used together.");var ee=function(oe,Ee){var Se=[];if(oe.type==="FeatureCollection")for(var Y=0;Y<oe.features.length;Y++)_t(Se,oe.features[Y],Ee,Y);else _t(Se,oe.type==="Feature"?oe:{geometry:oe},Ee);return Se}(G,j);this.tiles={},this.tileCoords=[],X&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",j.indexMaxZoom,j.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ee=function(oe,Ee){var Se=Ee.buffer/Ee.extent,Y=oe,ue=Zt(oe,1,-1-Se,Se,0,-1,2,Ee),Ie=Zt(oe,1,1-Se,2+Se,0,-1,2,Ee);return(ue||Ie)&&(Y=Zt(oe,1,-Se,1+Se,0,-1,2,Ee)||[],ue&&(Y=cr(ue,1).concat(Y)),Ie&&(Y=Y.concat(cr(Ie,-1)))),Y}(ee,j)).length&&this.splitTile(ee,0,0,0),X&&(ee.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Er(G,j,X){return 32*((1<<G)*X+j)+G}function So(G,j){var X=G.tileID.canonical;if(!this._geoJSONIndex)return j(null,null);var ee=this._geoJSONIndex.getTile(X.z,X.x,X.y);if(!ee)return j(null,null);var oe=new Z(ee.features),Ee=me(oe);Ee.byteOffset===0&&Ee.byteLength===Ee.buffer.byteLength||(Ee=new Uint8Array(Ee)),j(null,{vectorTile:oe,rawData:Ee.buffer})}ca.prototype.load=function(G){var j=this.options,X=j.log,ee=j.minZoom,oe=j.maxZoom,Ee=j.nodeSize;X&&console.time("total time");var Se="prepare "+G.length+" points";X&&console.time(Se),this.points=G;for(var Y=[],ue=0;ue<G.length;ue++)G[ue].geometry&&Y.push(ka(G[ue],ue));this.trees[oe+1]=new ea(Y,qe,it,Ee,Float32Array),X&&console.timeEnd(Se);for(var Ie=oe;Ie>=ee;Ie--){var et=+Date.now();Y=this._cluster(Y,Ie),this.trees[Ie]=new ea(Y,qe,it,Ee,Float32Array),X&&console.log("z%d: %d clusters in %dms",Ie,Y.length,+Date.now()-et)}return X&&console.timeEnd("total time"),this},ca.prototype.getClusters=function(G,j){var X=((G[0]+180)%360+360)%360-180,ee=Math.max(-90,Math.min(90,G[1])),oe=G[2]===180?180:((G[2]+180)%360+360)%360-180,Ee=Math.max(-90,Math.min(90,G[3]));if(G[2]-G[0]>=360)X=-180,oe=180;else if(X>oe){var Se=this.getClusters([X,ee,180,Ee],j),Y=this.getClusters([-180,ee,oe,Ee],j);return Se.concat(Y)}for(var ue=this.trees[this._limitZoom(j)],Ie=[],et=0,lt=ue.range(un(X),pe(Ee),un(oe),pe(ee));et<lt.length;et+=1){var Ge=ue.points[lt[et]];Ie.push(Ge.numPoints?Zi(Ge):this.points[Ge.index])}return Ie},ca.prototype.getChildren=function(G){var j=this._getOriginId(G),X=this._getOriginZoom(G),ee="No cluster with the specified id.",oe=this.trees[X];if(!oe)throw new Error(ee);var Ee=oe.points[j];if(!Ee)throw new Error(ee);for(var Se=this.options.radius/(this.options.extent*Math.pow(2,X-1)),Y=[],ue=0,Ie=oe.within(Ee.x,Ee.y,Se);ue<Ie.length;ue+=1){var et=oe.points[Ie[ue]];et.parentId===G&&Y.push(et.numPoints?Zi(et):this.points[et.index])}if(Y.length===0)throw new Error(ee);return Y},ca.prototype.getLeaves=function(G,j,X){var ee=[];return this._appendLeaves(ee,G,j=j||10,X=X||0,0),ee},ca.prototype.getTile=function(G,j,X){var ee=this.trees[this._limitZoom(G)],oe=Math.pow(2,G),Ee=this.options,Se=Ee.radius/Ee.extent,Y=(X-Se)/oe,ue=(X+1+Se)/oe,Ie={features:[]};return this._addTileFeatures(ee.range((j-Se)/oe,Y,(j+1+Se)/oe,ue),ee.points,j,X,oe,Ie),j===0&&this._addTileFeatures(ee.range(1-Se/oe,Y,1,ue),ee.points,oe,X,oe,Ie),j===oe-1&&this._addTileFeatures(ee.range(0,Y,Se/oe,ue),ee.points,-1,X,oe,Ie),Ie.features.length?Ie:null},ca.prototype.getClusterExpansionZoom=function(G){for(var j=this._getOriginZoom(G)-1;j<=this.options.maxZoom;){var X=this.getChildren(G);if(j++,X.length!==1)break;G=X[0].properties.cluster_id}return j},ca.prototype._appendLeaves=function(G,j,X,ee,oe){for(var Ee=0,Se=this.getChildren(j);Ee<Se.length;Ee+=1){var Y=Se[Ee],ue=Y.properties;if(ue&&ue.cluster?oe+ue.point_count<=ee?oe+=ue.point_count:oe=this._appendLeaves(G,ue.cluster_id,X,ee,oe):oe<ee?oe++:G.push(Y),G.length===X)break}return oe},ca.prototype._addTileFeatures=function(G,j,X,ee,oe,Ee){for(var Se=0,Y=G;Se<Y.length;Se+=1){var ue=j[Y[Se]],Ie=ue.numPoints,et={type:1,geometry:[[Math.round(this.options.extent*(ue.x*oe-X)),Math.round(this.options.extent*(ue.y*oe-ee))]],tags:Ie?er(ue):this.points[ue.index].properties},lt=void 0;Ie?lt=ue.id:this.options.generateId?lt=ue.index:this.points[ue.index].id&&(lt=this.points[ue.index].id),lt!==void 0&&(et.id=lt),Ee.features.push(et)}},ca.prototype._limitZoom=function(G){return Math.max(this.options.minZoom,Math.min(+G,this.options.maxZoom+1))},ca.prototype._cluster=function(G,j){for(var X=[],ee=this.options,oe=ee.reduce,Ee=ee.minPoints,Se=ee.radius/(ee.extent*Math.pow(2,j)),Y=0;Y<G.length;Y++){var ue=G[Y];if(!(ue.zoom<=j)){ue.zoom=j;for(var Ie=this.trees[j+1],et=Ie.within(ue.x,ue.y,Se),lt=ue.numPoints||1,Ge=lt,nt=0,Ot=et;nt<Ot.length;nt+=1){var Mt=Ie.points[Ot[nt]];Mt.zoom>j&&(Ge+=Mt.numPoints||1)}if(Ge>=Ee){for(var Ve=ue.x*lt,At=ue.y*lt,bt=oe&&lt>1?this._map(ue,!0):null,St=(Y<<5)+(j+1)+this.points.length,Ra=0,He=et;Ra<He.length;Ra+=1){var we=Ie.points[He[Ra]];if(!(we.zoom<=j)){we.zoom=j;var tt=we.numPoints||1;Ve+=we.x*tt,At+=we.y*tt,we.parentId=St,oe&&(bt||(bt=this._map(ue,!0)),oe(bt,this._map(we)))}}ue.parentId=St,X.push(hi(Ve/Ge,At/Ge,St,Ge,bt))}else if(X.push(ue),Ge>1)for(var rt=0,Yt=et;rt<Yt.length;rt+=1){var ya=Ie.points[Yt[rt]];ya.zoom<=j||(ya.zoom=j,X.push(ya))}}}return X},ca.prototype._getOriginId=function(G){return G-this.points.length>>5},ca.prototype._getOriginZoom=function(G){return(G-this.points.length)%32},ca.prototype._map=function(G,j){if(G.numPoints)return j?Le({},G.properties):G.properties;var X=this.points[G.index].properties,ee=this.options.map(X);return j&&ee===X?Le({},ee):ee},Sn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Sn.prototype.splitTile=function(G,j,X,ee,oe,Ee,Se){for(var Y=[G,j,X,ee],ue=this.options,Ie=ue.debug;Y.length;){ee=Y.pop(),X=Y.pop(),j=Y.pop(),G=Y.pop();var et=1<<j,lt=Er(j,X,ee),Ge=this.tiles[lt];if(!Ge&&(Ie>1&&console.time("creation"),Ge=this.tiles[lt]=ds(G,j,X,ee,ue),this.tileCoords.push({z:j,x:X,y:ee}),Ie)){Ie>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",j,X,ee,Ge.numFeatures,Ge.numPoints,Ge.numSimplified),console.timeEnd("creation"));var nt="z"+j;this.stats[nt]=(this.stats[nt]||0)+1,this.total++}if(Ge.source=G,oe){if(j===ue.maxZoom||j===oe)continue;var Ot=1<<oe-j;if(X!==Math.floor(Ee/Ot)||ee!==Math.floor(Se/Ot))continue}else if(j===ue.indexMaxZoom||Ge.numPoints<=ue.indexMaxPoints)continue;if(Ge.source=null,G.length!==0){Ie>1&&console.time("clipping");var Mt,Ve,At,bt,St,Ra,He=.5*ue.buffer/ue.extent,we=.5-He,tt=.5+He,rt=1+He;Mt=Ve=At=bt=null,St=Zt(G,et,X-He,X+tt,0,Ge.minX,Ge.maxX,ue),Ra=Zt(G,et,X+we,X+rt,0,Ge.minX,Ge.maxX,ue),G=null,St&&(Mt=Zt(St,et,ee-He,ee+tt,1,Ge.minY,Ge.maxY,ue),Ve=Zt(St,et,ee+we,ee+rt,1,Ge.minY,Ge.maxY,ue),St=null),Ra&&(At=Zt(Ra,et,ee-He,ee+tt,1,Ge.minY,Ge.maxY,ue),bt=Zt(Ra,et,ee+we,ee+rt,1,Ge.minY,Ge.maxY,ue),Ra=null),Ie>1&&console.timeEnd("clipping"),Y.push(Mt||[],j+1,2*X,2*ee),Y.push(Ve||[],j+1,2*X,2*ee+1),Y.push(At||[],j+1,2*X+1,2*ee),Y.push(bt||[],j+1,2*X+1,2*ee+1)}}},Sn.prototype.getTile=function(G,j,X){var ee=this.options,oe=ee.extent,Ee=ee.debug;if(G<0||G>24)return null;var Se=1<<G,Y=Er(G,j=(j%Se+Se)%Se,X);if(this.tiles[Y])return Ti(this.tiles[Y],oe);Ee>1&&console.log("drilling down to z%d-%d-%d",G,j,X);for(var ue,Ie=G,et=j,lt=X;!ue&&Ie>0;)Ie--,et=Math.floor(et/2),lt=Math.floor(lt/2),ue=this.tiles[Er(Ie,et,lt)];return ue&&ue.source?(Ee>1&&console.log("found parent tile z%d-%d-%d",Ie,et,lt),Ee>1&&console.time("drilling down"),this.splitTile(ue.source,Ie,et,lt,G,j,X),Ee>1&&console.timeEnd("drilling down"),this.tiles[Y]?Ti(this.tiles[Y],oe):null):null};var Ki=function(G){function j(X,ee,oe,Ee){G.call(this,X,ee,oe,So),Ee&&(this.loadGeoJSON=Ee)}return G&&(j.__proto__=G),(j.prototype=Object.create(G&&G.prototype)).constructor=j,j.prototype.loadData=function(X,ee){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=ee,this._pendingLoadDataParams=X,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},j.prototype._loadData=function(){var X=this;if(this._pendingCallback&&this._pendingLoadDataParams){var ee=this._pendingCallback,oe=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ee=!!(oe&&oe.request&&oe.request.collectResourceTiming)&&new r.RequestPerformance(oe.request);this.loadGeoJSON(oe,function(Se,Y){if(Se||!Y)return ee(Se);if(typeof Y!="object")return ee(new Error("Input data given to '"+oe.source+"' is not a valid GeoJSON object."));(function Ge(nt,Ot){var Mt,Ve=nt&&nt.type;if(Ve==="FeatureCollection")for(Mt=0;Mt<nt.features.length;Mt++)Ge(nt.features[Mt],Ot);else if(Ve==="GeometryCollection")for(Mt=0;Mt<nt.geometries.length;Mt++)Ge(nt.geometries[Mt],Ot);else if(Ve==="Feature")Ge(nt.geometry,Ot);else if(Ve==="Polygon")P(nt.coordinates,Ot);else if(Ve==="MultiPolygon")for(Mt=0;Mt<nt.coordinates.length;Mt++)P(nt.coordinates[Mt],Ot);return nt})(Y,!0);try{if(oe.filter){var ue=r.createExpression(oe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ue.result==="error")throw new Error(ue.value.map(function(Ge){return Ge.key+": "+Ge.message}).join(", "));var Ie=Y.features.filter(function(Ge){return ue.value.evaluate({zoom:0},Ge)});Y={type:"FeatureCollection",features:Ie}}X._geoJSONIndex=oe.cluster?new ca(function(Ge){var nt=Ge.superclusterOptions,Ot=Ge.clusterProperties;if(!Ot||!nt)return nt;for(var Mt={},Ve={},At={accumulated:null,zoom:0},bt={properties:null},St=Object.keys(Ot),Ra=0,He=St;Ra<He.length;Ra+=1){var we=He[Ra],tt=Ot[we],rt=tt[0],Yt=r.createExpression(tt[1]),ya=r.createExpression(typeof rt=="string"?[rt,["accumulated"],["get",we]]:rt);Mt[we]=Yt.value,Ve[we]=ya.value}return nt.map=function(vi){bt.properties=vi;for(var Ta={},Ii=0,Ea=St;Ii<Ea.length;Ii+=1){var Wa=Ea[Ii];Ta[Wa]=Mt[Wa].evaluate(At,bt)}return Ta},nt.reduce=function(vi,Ta){bt.properties=Ta;for(var Ii=0,Ea=St;Ii<Ea.length;Ii+=1){var Wa=Ea[Ii];At.accumulated=vi[Wa],vi[Wa]=Ve[Wa].evaluate(At,bt)}},nt}(oe)).load(Y.features):function(Ge,nt){return new Sn(Ge,nt)}(Y,oe.geojsonVtOptions)}catch(Ge){return ee(Ge)}X.loaded={};var et={};if(Ee){var lt=Ee.finish();lt&&(et.resourceTiming={},et.resourceTiming[oe.source]=JSON.parse(JSON.stringify(lt)))}ee(null,et)})}},j.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},j.prototype.reloadTile=function(X,ee){var oe=this.loaded;return oe&&oe[X.uid]?G.prototype.reloadTile.call(this,X,ee):this.loadTile(X,ee)},j.prototype.loadGeoJSON=function(X,ee){if(X.request)r.getJSON(X.request,ee);else{if(typeof X.data!="string")return ee(new Error("Input data given to '"+X.source+"' is not a valid GeoJSON object."));try{return ee(null,JSON.parse(X.data))}catch{return ee(new Error("Input data given to '"+X.source+"' is not a valid GeoJSON object."))}}},j.prototype.removeSource=function(X,ee){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ee()},j.prototype.getClusterExpansionZoom=function(X,ee){try{ee(null,this._geoJSONIndex.getClusterExpansionZoom(X.clusterId))}catch(oe){ee(oe)}},j.prototype.getClusterChildren=function(X,ee){try{ee(null,this._geoJSONIndex.getChildren(X.clusterId))}catch(oe){ee(oe)}},j.prototype.getClusterLeaves=function(X,ee){try{ee(null,this._geoJSONIndex.getLeaves(X.clusterId,X.limit,X.offset))}catch(oe){ee(oe)}},j}(M),ja=function(G){var j=this;this.self=G,this.actor=new r.Actor(G,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:M,geojson:Ki},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(X,ee){if(j.workerSourceTypes[X])throw new Error('Worker source with name "'+X+'" already registered.');j.workerSourceTypes[X]=ee},this.self.registerRTLTextPlugin=function(X){if(r.plugin.isParsed())throw new Error("RTL text plugin already registered.");r.plugin.applyArabicShaping=X.applyArabicShaping,r.plugin.processBidirectionalText=X.processBidirectionalText,r.plugin.processStyledBidirectionalText=X.processStyledBidirectionalText}};return ja.prototype.setReferrer=function(G,j){this.referrer=j},ja.prototype.setImages=function(G,j,X){for(var ee in this.availableImages[G]=j,this.workerSources[G]){var oe=this.workerSources[G][ee];for(var Ee in oe)oe[Ee].availableImages=j}X()},ja.prototype.setLayers=function(G,j,X){this.getLayerIndex(G).replace(j),X()},ja.prototype.updateLayers=function(G,j,X){this.getLayerIndex(G).update(j.layers,j.removedIds),X()},ja.prototype.loadTile=function(G,j,X){this.getWorkerSource(G,j.type,j.source).loadTile(j,X)},ja.prototype.loadDEMTile=function(G,j,X){this.getDEMWorkerSource(G,j.source).loadTile(j,X)},ja.prototype.reloadTile=function(G,j,X){this.getWorkerSource(G,j.type,j.source).reloadTile(j,X)},ja.prototype.abortTile=function(G,j,X){this.getWorkerSource(G,j.type,j.source).abortTile(j,X)},ja.prototype.removeTile=function(G,j,X){this.getWorkerSource(G,j.type,j.source).removeTile(j,X)},ja.prototype.removeDEMTile=function(G,j){this.getDEMWorkerSource(G,j.source).removeTile(j)},ja.prototype.removeSource=function(G,j,X){if(this.workerSources[G]&&this.workerSources[G][j.type]&&this.workerSources[G][j.type][j.source]){var ee=this.workerSources[G][j.type][j.source];delete this.workerSources[G][j.type][j.source],ee.removeSource!==void 0?ee.removeSource(j,X):X()}},ja.prototype.loadWorkerSource=function(G,j,X){try{this.self.importScripts(j.url),X()}catch(ee){X(ee.toString())}},ja.prototype.syncRTLPluginState=function(G,j,X){try{r.plugin.setState(j);var ee=r.plugin.getPluginURL();if(r.plugin.isLoaded()&&!r.plugin.isParsed()&&ee!=null){this.self.importScripts(ee);var oe=r.plugin.isParsed();X(oe?void 0:new Error("RTL Text Plugin failed to import scripts from "+ee),oe)}}catch(Ee){X(Ee.toString())}},ja.prototype.getAvailableImages=function(G){var j=this.availableImages[G];return j||(j=[]),j},ja.prototype.getLayerIndex=function(G){var j=this.layerIndexes[G];return j||(j=this.layerIndexes[G]=new h),j},ja.prototype.getWorkerSource=function(G,j,X){var ee=this;return this.workerSources[G]||(this.workerSources[G]={}),this.workerSources[G][j]||(this.workerSources[G][j]={}),this.workerSources[G][j][X]||(this.workerSources[G][j][X]=new this.workerSourceTypes[j]({send:function(oe,Ee,Se){ee.actor.send(oe,Ee,Se,G)}},this.getLayerIndex(G),this.getAvailableImages(G))),this.workerSources[G][j][X]},ja.prototype.getDEMWorkerSource=function(G,j){return this.demWorkerSources[G]||(this.demWorkerSources[G]={}),this.demWorkerSources[G][j]||(this.demWorkerSources[G][j]=new R),this.demWorkerSources[G][j]},ja.prototype.enforceCacheSizeLimit=function(G,j){r.enforceCacheSizeLimit(j)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new ja(self)),ja}),s(["./shared"],function(r){var l=r.createCommonjsModule(function(_){function p(S){return!m(S)}function m(S){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var A,O,N=new Blob([""],{type:"text/javascript"}),U=URL.createObjectURL(N);try{O=new Worker(U),A=!0}catch{A=!1}return O&&O.terminate(),URL.revokeObjectURL(U),A}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var A=document.createElement("canvas");A.width=A.height=1;var O=A.getContext("2d");if(!O)return!1;var N=O.getImageData(0,0,1,1);return N&&N.width===A.width}()?(y[L=S&&S.failIfMajorPerformanceCaveat]===void 0&&(y[L]=function(A){var O=function(U){var Q=document.createElement("canvas"),J=Object.create(p.webGLContextAttributes);return J.failIfMajorPerformanceCaveat=U,Q.probablySupportsContext?Q.probablySupportsContext("webgl",J)||Q.probablySupportsContext("experimental-webgl",J):Q.supportsContext?Q.supportsContext("webgl",J)||Q.supportsContext("experimental-webgl",J):Q.getContext("webgl",J)||Q.getContext("experimental-webgl",J)}(A);if(!O)return!1;var N=O.createShader(O.VERTEX_SHADER);return!(!N||O.isContextLost())&&(O.shaderSource(N,"void main() {}"),O.compileShader(N),O.getShaderParameter(N,O.COMPILE_STATUS)===!0)}(L)),y[L]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var L}_.exports?_.exports=p:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=p,window.mapboxgl.notSupportedReason=m);var y={};p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),c={create:function(_,p,m){var y=r.window.document.createElement(_);return p!==void 0&&(y.className=p),m&&m.appendChild(y),y},createNS:function(_,p){return r.window.document.createElementNS(_,p)}},h=r.window.document&&r.window.document.documentElement.style;function f(_){if(!h)return _[0];for(var p=0;p<_.length;p++)if(_[p]in h)return _[p];return _[0]}var v,b=f(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);c.disableDrag=function(){h&&b&&(v=h[b],h[b]="none")},c.enableDrag=function(){h&&b&&(h[b]=v)};var T=f(["transform","WebkitTransform"]);c.setTransform=function(_,p){_.style[T]=p};var M=!1;try{var I=Object.defineProperty({},"passive",{get:function(){M=!0}});r.window.addEventListener("test",I,I),r.window.removeEventListener("test",I,I)}catch{M=!1}c.addEventListener=function(_,p,m,y){y===void 0&&(y={}),_.addEventListener(p,m,"passive"in y&&M?y:y.capture)},c.removeEventListener=function(_,p,m,y){y===void 0&&(y={}),_.removeEventListener(p,m,"passive"in y&&M?y:y.capture)};var R=function(_){_.preventDefault(),_.stopPropagation(),r.window.removeEventListener("click",R,!0)};function P(_){var p=_.userImage;return!!(p&&p.render&&p.render())&&(_.data.replace(new Uint8Array(p.data.buffer)),!0)}c.suppressClick=function(){r.window.addEventListener("click",R,!0),r.window.setTimeout(function(){r.window.removeEventListener("click",R,!0)},0)},c.mousePos=function(_,p){var m=_.getBoundingClientRect();return new r.Point(p.clientX-m.left-_.clientLeft,p.clientY-m.top-_.clientTop)},c.touchPos=function(_,p){for(var m=_.getBoundingClientRect(),y=[],S=0;S<p.length;S++)y.push(new r.Point(p[S].clientX-m.left-_.clientLeft,p[S].clientY-m.top-_.clientTop));return y},c.mouseButton=function(_){return r.window.InstallTrigger!==void 0&&_.button===2&&_.ctrlKey&&r.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:_.button},c.remove=function(_){_.parentNode&&_.parentNode.removeChild(_)};var F=function(_){function p(){_.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new r.RGBAImage({width:1,height:1}),this.dirty=!0}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.isLoaded=function(){return this.loaded},p.prototype.setLoaded=function(m){if(this.loaded!==m&&(this.loaded=m,m)){for(var y=0,S=this.requestors;y<S.length;y+=1){var L=S[y];this._notify(L.ids,L.callback)}this.requestors=[]}},p.prototype.getImage=function(m){return this.images[m]},p.prototype.addImage=function(m,y){this._validate(m,y)&&(this.images[m]=y)},p.prototype._validate=function(m,y){var S=!0;return this._validateStretch(y.stretchX,y.data&&y.data.width)||(this.fire(new r.ErrorEvent(new Error('Image "'+m+'" has invalid "stretchX" value'))),S=!1),this._validateStretch(y.stretchY,y.data&&y.data.height)||(this.fire(new r.ErrorEvent(new Error('Image "'+m+'" has invalid "stretchY" value'))),S=!1),this._validateContent(y.content,y)||(this.fire(new r.ErrorEvent(new Error('Image "'+m+'" has invalid "content" value'))),S=!1),S},p.prototype._validateStretch=function(m,y){if(!m)return!0;for(var S=0,L=0,A=m;L<A.length;L+=1){var O=A[L];if(O[0]<S||O[1]<O[0]||y<O[1])return!1;S=O[1]}return!0},p.prototype._validateContent=function(m,y){return!(m&&(m.length!==4||m[0]<0||y.data.width<m[0]||m[1]<0||y.data.height<m[1]||m[2]<0||y.data.width<m[2]||m[3]<0||y.data.height<m[3]||m[2]<m[0]||m[3]<m[1]))},p.prototype.updateImage=function(m,y){y.version=this.images[m].version+1,this.images[m]=y,this.updatedImages[m]=!0},p.prototype.removeImage=function(m){var y=this.images[m];delete this.images[m],delete this.patterns[m],y.userImage&&y.userImage.onRemove&&y.userImage.onRemove()},p.prototype.listImages=function(){return Object.keys(this.images)},p.prototype.getImages=function(m,y){var S=!0;if(!this.isLoaded())for(var L=0,A=m;L<A.length;L+=1)this.images[A[L]]||(S=!1);this.isLoaded()||S?this._notify(m,y):this.requestors.push({ids:m,callback:y})},p.prototype._notify=function(m,y){for(var S={},L=0,A=m;L<A.length;L+=1){var O=A[L];this.images[O]||this.fire(new r.Event("styleimagemissing",{id:O}));var N=this.images[O];N?S[O]={data:N.data.clone(),pixelRatio:N.pixelRatio,sdf:N.sdf,version:N.version,stretchX:N.stretchX,stretchY:N.stretchY,content:N.content,hasRenderCallback:!!(N.userImage&&N.userImage.render)}:r.warnOnce('Image "'+O+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}y(null,S)},p.prototype.getPixelSize=function(){var m=this.atlasImage;return{width:m.width,height:m.height}},p.prototype.getPattern=function(m){var y=this.patterns[m],S=this.getImage(m);if(!S)return null;if(y&&y.position.version===S.version)return y.position;if(y)y.position.version=S.version;else{var L={w:S.data.width+2,h:S.data.height+2,x:0,y:0},A=new r.ImagePosition(L,S);this.patterns[m]={bin:L,position:A}}return this._updatePatternAtlas(),this.patterns[m].position},p.prototype.bind=function(m){var y=m.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new r.Texture(m,this.atlasImage,y.RGBA),this.atlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE)},p.prototype._updatePatternAtlas=function(){var m=[];for(var y in this.patterns)m.push(this.patterns[y].bin);var S=r.potpack(m),L=S.w,A=S.h,O=this.atlasImage;for(var N in O.resize({width:L||1,height:A||1}),this.patterns){var U=this.patterns[N].bin,Q=U.x+1,J=U.y+1,te=this.images[N].data,de=te.width,ce=te.height;r.RGBAImage.copy(te,O,{x:0,y:0},{x:Q,y:J},{width:de,height:ce}),r.RGBAImage.copy(te,O,{x:0,y:ce-1},{x:Q,y:J-1},{width:de,height:1}),r.RGBAImage.copy(te,O,{x:0,y:0},{x:Q,y:J+ce},{width:de,height:1}),r.RGBAImage.copy(te,O,{x:de-1,y:0},{x:Q-1,y:J},{width:1,height:ce}),r.RGBAImage.copy(te,O,{x:0,y:0},{x:Q+de,y:J},{width:1,height:ce})}this.dirty=!0},p.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},p.prototype.dispatchRenderCallbacks=function(m){for(var y=0,S=m;y<S.length;y+=1){var L=S[y];if(!this.callbackDispatchedThisFrame[L]){this.callbackDispatchedThisFrame[L]=!0;var A=this.images[L];P(A)&&this.updateImage(L,A)}}},p}(r.Evented),B=ae,W=ae,Z=1e20;function ae(_,p,m,y,S,L){this.fontSize=_||24,this.buffer=p===void 0?3:p,this.cutoff=y||.25,this.fontFamily=S||"sans-serif",this.fontWeight=L||"normal",this.radius=m||8;var A=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=A,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(A*A),this.gridInner=new Float64Array(A*A),this.f=new Float64Array(A),this.d=new Float64Array(A),this.z=new Float64Array(A+1),this.v=new Int16Array(A),this.middle=Math.round(A/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function he(_,p,m,y,S,L,A){for(var O=0;O<p;O++){for(var N=0;N<m;N++)y[N]=_[N*p+O];for(_e(y,S,L,A,m),N=0;N<m;N++)_[N*p+O]=S[N]}for(N=0;N<m;N++){for(O=0;O<p;O++)y[O]=_[N*p+O];for(_e(y,S,L,A,p),O=0;O<p;O++)_[N*p+O]=Math.sqrt(S[O])}}function _e(_,p,m,y,S){m[0]=0,y[0]=-Z,y[1]=+Z;for(var L=1,A=0;L<S;L++){for(var O=(_[L]+L*L-(_[m[A]]+m[A]*m[A]))/(2*L-2*m[A]);O<=y[A];)A--,O=(_[L]+L*L-(_[m[A]]+m[A]*m[A]))/(2*L-2*m[A]);m[++A]=L,y[A]=O,y[A+1]=+Z}for(L=0,A=0;L<S;L++){for(;y[A+1]<L;)A++;p[L]=(L-m[A])*(L-m[A])+_[m[A]]}}ae.prototype.draw=function(_){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(_,this.buffer,this.middle);for(var p=this.ctx.getImageData(0,0,this.size,this.size),m=new Uint8ClampedArray(this.size*this.size),y=0;y<this.size*this.size;y++){var S=p.data[4*y+3]/255;this.gridOuter[y]=S===1?0:S===0?Z:Math.pow(Math.max(0,.5-S),2),this.gridInner[y]=S===1?Z:S===0?0:Math.pow(Math.max(0,S-.5),2)}for(he(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),he(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),y=0;y<this.size*this.size;y++)m[y]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[y]-this.gridInner[y])/this.radius+this.cutoff))));return m},B.default=W;var ie=function(_,p){this.requestManager=_,this.localIdeographFontFamily=p,this.entries={}};ie.prototype.setURL=function(_){this.url=_},ie.prototype.getGlyphs=function(_,p){var m=this,y=[];for(var S in _)for(var L=0,A=_[S];L<A.length;L+=1)y.push({stack:S,id:A[L]});r.asyncAll(y,function(O,N){var U=O.stack,Q=O.id,J=m.entries[U];J||(J=m.entries[U]={glyphs:{},requests:{},ranges:{}});var te=J.glyphs[Q];if(te===void 0){if(te=m._tinySDF(J,U,Q))return J.glyphs[Q]=te,void N(null,{stack:U,id:Q,glyph:te});var de=Math.floor(Q/256);if(256*de>65535)N(new Error("glyphs > 65535 not supported"));else if(J.ranges[de])N(null,{stack:U,id:Q,glyph:te});else{var ce=J.requests[de];ce||(ce=J.requests[de]=[],ie.loadGlyphRange(U,de,m.url,m.requestManager,function(ve,re){if(re){for(var ye in re)m._doesCharSupportLocalGlyph(+ye)||(J.glyphs[+ye]=re[+ye]);J.ranges[de]=!0}for(var Me=0,ke=ce;Me<ke.length;Me+=1)(0,ke[Me])(ve,re);delete J.requests[de]})),ce.push(function(ve,re){ve?N(ve):re&&N(null,{stack:U,id:Q,glyph:re[Q]||null})})}}else N(null,{stack:U,id:Q,glyph:te})},function(O,N){if(O)p(O);else if(N){for(var U={},Q=0,J=N;Q<J.length;Q+=1){var te=J[Q],de=te.stack,ce=te.id,ve=te.glyph;(U[de]||(U[de]={}))[ce]=ve&&{id:ve.id,bitmap:ve.bitmap.clone(),metrics:ve.metrics}}p(null,U)}})},ie.prototype._doesCharSupportLocalGlyph=function(_){return!!this.localIdeographFontFamily&&(r.isChar["CJK Unified Ideographs"](_)||r.isChar["Hangul Syllables"](_)||r.isChar.Hiragana(_)||r.isChar.Katakana(_))},ie.prototype._tinySDF=function(_,p,m){var y=this.localIdeographFontFamily;if(y&&this._doesCharSupportLocalGlyph(m)){var S=_.tinySDF;if(!S){var L="400";/bold/i.test(p)?L="900":/medium/i.test(p)?L="500":/light/i.test(p)&&(L="200"),S=_.tinySDF=new ie.TinySDF(24,3,8,.25,y,L)}return{id:m,bitmap:new r.AlphaImage({width:30,height:30},S.draw(String.fromCharCode(m))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},ie.loadGlyphRange=function(_,p,m,y,S){var L=256*p,A=L+255,O=y.transformRequest(y.normalizeGlyphsURL(m).replace("{fontstack}",_).replace("{range}",L+"-"+A),r.ResourceType.Glyphs);r.getArrayBuffer(O,function(N,U){if(N)S(N);else if(U){for(var Q={},J=0,te=r.parseGlyphPBF(U);J<te.length;J+=1){var de=te[J];Q[de.id]=de}S(null,Q)}})},ie.TinySDF=B;var me=function(){this.specification=r.styleSpec.light.position};me.prototype.possiblyEvaluate=function(_,p){return r.sphericalToCartesian(_.expression.evaluate(p))},me.prototype.interpolate=function(_,p,m){return{x:r.number(_.x,p.x,m),y:r.number(_.y,p.y,m),z:r.number(_.z,p.z,m)}};var fe=new r.Properties({anchor:new r.DataConstantProperty(r.styleSpec.light.anchor),position:new me,color:new r.DataConstantProperty(r.styleSpec.light.color),intensity:new r.DataConstantProperty(r.styleSpec.light.intensity)}),be=function(_){function p(m){_.call(this),this._transitionable=new r.Transitionable(fe),this.setLight(m),this._transitioning=this._transitionable.untransitioned()}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getLight=function(){return this._transitionable.serialize()},p.prototype.setLight=function(m,y){if(y===void 0&&(y={}),!this._validate(r.validateLight,m,y))for(var S in m){var L=m[S];r.endsWith(S,"-transition")?this._transitionable.setTransition(S.slice(0,-11),L):this._transitionable.setValue(S,L)}},p.prototype.updateTransitions=function(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)},p.prototype.hasTransition=function(){return this._transitioning.hasTransition()},p.prototype.recalculate=function(m){this.properties=this._transitioning.possiblyEvaluate(m)},p.prototype._validate=function(m,y,S){return(!S||S.validate!==!1)&&r.emitValidationErrors(this,m.call(r.validateStyle,r.extend({value:y,style:{glyphs:!0,sprite:!0},styleSpec:r.styleSpec})))},p}(r.Evented),Ae=function(_,p){this.width=_,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};Ae.prototype.getDash=function(_,p){var m=_.join(",")+String(p);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(_,p)),this.dashEntry[m]},Ae.prototype.getDashRanges=function(_,p,m){var y=[],S=_.length%2==1?-_[_.length-1]*m:0,L=_[0]*m,A=!0;y.push({left:S,right:L,isDash:A,zeroLength:_[0]===0});for(var O=_[0],N=1;N<_.length;N++){var U=_[N];y.push({left:S=O*m,right:L=(O+=U)*m,isDash:A=!A,zeroLength:U===0})}return y},Ae.prototype.addRoundDash=function(_,p,m){for(var y=p/2,S=-m;S<=m;S++)for(var L=this.width*(this.nextRow+m+S),A=0,O=_[A],N=0;N<this.width;N++){N/O.right>1&&(O=_[++A]);var U=Math.abs(N-O.left),Q=Math.abs(N-O.right),J=Math.min(U,Q),te=void 0,de=S/m*(y+1);if(O.isDash){var ce=y-Math.abs(de);te=Math.sqrt(J*J+ce*ce)}else te=y-Math.sqrt(J*J+de*de);this.data[L+N]=Math.max(0,Math.min(255,te+128))}},Ae.prototype.addRegularDash=function(_){for(var p=_.length-1;p>=0;--p){var m=_[p],y=_[p+1];m.zeroLength?_.splice(p,1):y&&y.isDash===m.isDash&&(y.left=m.left,_.splice(p,1))}var S=_[0],L=_[_.length-1];S.isDash===L.isDash&&(S.left=L.left-this.width,L.right=S.right+this.width);for(var A=this.width*this.nextRow,O=0,N=_[O],U=0;U<this.width;U++){U/N.right>1&&(N=_[++O]);var Q=Math.abs(U-N.left),J=Math.abs(U-N.right),te=Math.min(Q,J);this.data[A+U]=Math.max(0,Math.min(255,(N.isDash?te:-te)+128))}},Ae.prototype.addDash=function(_,p){var m=p?7:0,y=2*m+1;if(this.nextRow+y>this.height)return r.warnOnce("LineAtlas out of space"),null;for(var S=0,L=0;L<_.length;L++)S+=_[L];if(S!==0){var A=this.width/S,O=this.getDashRanges(_,this.width,A);p?this.addRoundDash(O,A,m):this.addRegularDash(O)}var N={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:S};return this.nextRow+=y,this.dirty=!0,N},Ae.prototype.bind=function(_){var p=_.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))};var Ye=function _(p,m){this.workerPool=p,this.actors=[],this.currentActor=0,this.id=r.uniqueId();for(var y=this.workerPool.acquire(this.id),S=0;S<y.length;S++){var L=new _.Actor(y[S],m,this.id);L.name="Worker "+S,this.actors.push(L)}};function Xe(_,p,m){var y=function(S,L){if(S)return m(S);if(L){var A=r.pick(r.extend(L,_),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);L.vector_layers&&(A.vectorLayers=L.vector_layers,A.vectorLayerIds=A.vectorLayers.map(function(O){return O.id})),A.tiles=p.canonicalizeTileset(A,_.url),m(null,A)}};return _.url?r.getJSON(p.transformRequest(p.normalizeSourceURL(_.url),r.ResourceType.Source),y):r.browser.frame(function(){return y(null,_)})}Ye.prototype.broadcast=function(_,p,m){r.asyncAll(this.actors,function(y,S){y.send(_,p,S)},m=m||function(){})},Ye.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Ye.prototype.remove=function(){this.actors.forEach(function(_){_.remove()}),this.actors=[],this.workerPool.release(this.id)},Ye.Actor=r.Actor;var Re=function(_,p,m){this.bounds=r.LngLatBounds.convert(this.validateBounds(_)),this.minzoom=p||0,this.maxzoom=m||24};Re.prototype.validateBounds=function(_){return Array.isArray(_)&&_.length===4?[Math.max(-180,_[0]),Math.max(-90,_[1]),Math.min(180,_[2]),Math.min(90,_[3])]:[-180,-90,180,90]},Re.prototype.contains=function(_){var p=Math.pow(2,_.z),m=Math.floor(r.mercatorXfromLng(this.bounds.getWest())*p),y=Math.floor(r.mercatorYfromLat(this.bounds.getNorth())*p),S=Math.ceil(r.mercatorXfromLng(this.bounds.getEast())*p),L=Math.ceil(r.mercatorYfromLat(this.bounds.getSouth())*p);return _.x>=m&&_.x<S&&_.y>=y&&_.y<L};var Oe=function(_){function p(m,y,S,L){if(_.call(this),this.id=m,this.dispatcher=S,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,r.extend(this,r.pick(y,["url","scheme","tileSize","promoteId"])),this._options=r.extend({type:"vector"},y),this._collectResourceTiming=y.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(L)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.load=function(){var m=this;this._loaded=!1,this.fire(new r.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Xe(this._options,this.map._requestManager,function(y,S){m._tileJSONRequest=null,m._loaded=!0,y?m.fire(new r.ErrorEvent(y)):S&&(r.extend(m,S),S.bounds&&(m.tileBounds=new Re(S.bounds,m.minzoom,m.maxzoom)),r.postTurnstileEvent(S.tiles,m.map._requestManager._customAccessToken),r.postMapLoadEvent(S.tiles,m.map._getMapId(),m.map._requestManager._skuToken,m.map._requestManager._customAccessToken),m.fire(new r.Event("data",{dataType:"source",sourceDataType:"metadata"})),m.fire(new r.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.hasTile=function(m){return!this.tileBounds||this.tileBounds.contains(m.canonical)},p.prototype.onAdd=function(m){this.map=m,this.load()},p.prototype.setSourceProperty=function(m){this._tileJSONRequest&&this._tileJSONRequest.cancel(),m(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},p.prototype.setTiles=function(m){var y=this;return this.setSourceProperty(function(){y._options.tiles=m}),this},p.prototype.setUrl=function(m){var y=this;return this.setSourceProperty(function(){y.url=m,y._options.url=m}),this},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return r.extend({},this._options)},p.prototype.loadTile=function(m,y){var S=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme)),L={request:this.map._requestManager.transformRequest(S,r.ResourceType.Tile),uid:m.uid,tileID:m.tileID,zoom:m.tileID.overscaledZ,tileSize:this.tileSize*m.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:r.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function A(O,N){return delete m.request,m.aborted?y(null):O&&O.status!==404?y(O):(N&&N.resourceTiming&&(m.resourceTiming=N.resourceTiming),this.map._refreshExpiredTiles&&N&&m.setExpiryData(N),m.loadVectorData(N,this.map.painter),r.cacheEntryPossiblyAdded(this.dispatcher),y(null),void(m.reloadCallback&&(this.loadTile(m,m.reloadCallback),m.reloadCallback=null)))}L.request.collectResourceTiming=this._collectResourceTiming,m.actor&&m.state!=="expired"?m.state==="loading"?m.reloadCallback=y:m.request=m.actor.send("reloadTile",L,A.bind(this)):(m.actor=this.dispatcher.getActor(),m.request=m.actor.send("loadTile",L,A.bind(this)))},p.prototype.abortTile=function(m){m.request&&(m.request.cancel(),delete m.request),m.actor&&m.actor.send("abortTile",{uid:m.uid,type:this.type,source:this.id},void 0)},p.prototype.unloadTile=function(m){m.unloadVectorData(),m.actor&&m.actor.send("removeTile",{uid:m.uid,type:this.type,source:this.id},void 0)},p.prototype.hasTransition=function(){return!1},p}(r.Evented),Qe=function(_){function p(m,y,S,L){_.call(this),this.id=m,this.dispatcher=S,this.setEventedParent(L),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=r.extend({type:"raster"},y),r.extend(this,r.pick(y,["url","scheme","tileSize"]))}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.load=function(){var m=this;this._loaded=!1,this.fire(new r.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Xe(this._options,this.map._requestManager,function(y,S){m._tileJSONRequest=null,m._loaded=!0,y?m.fire(new r.ErrorEvent(y)):S&&(r.extend(m,S),S.bounds&&(m.tileBounds=new Re(S.bounds,m.minzoom,m.maxzoom)),r.postTurnstileEvent(S.tiles),r.postMapLoadEvent(S.tiles,m.map._getMapId(),m.map._requestManager._skuToken),m.fire(new r.Event("data",{dataType:"source",sourceDataType:"metadata"})),m.fire(new r.Event("data",{dataType:"source",sourceDataType:"content"})))})},p.prototype.loaded=function(){return this._loaded},p.prototype.onAdd=function(m){this.map=m,this.load()},p.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},p.prototype.serialize=function(){return r.extend({},this._options)},p.prototype.hasTile=function(m){return!this.tileBounds||this.tileBounds.contains(m.canonical)},p.prototype.loadTile=function(m,y){var S=this,L=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);m.request=r.getImage(this.map._requestManager.transformRequest(L,r.ResourceType.Tile),function(A,O){if(delete m.request,m.aborted)m.state="unloaded",y(null);else if(A)m.state="errored",y(A);else if(O){S.map._refreshExpiredTiles&&m.setExpiryData(O),delete O.cacheControl,delete O.expires;var N=S.map.painter.context,U=N.gl;m.texture=S.map.painter.getTileTexture(O.width),m.texture?m.texture.update(O,{useMipmap:!0}):(m.texture=new r.Texture(N,O,U.RGBA,{useMipmap:!0}),m.texture.bind(U.LINEAR,U.CLAMP_TO_EDGE,U.LINEAR_MIPMAP_NEAREST),N.extTextureFilterAnisotropic&&U.texParameterf(U.TEXTURE_2D,N.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,N.extTextureFilterAnisotropicMax)),m.state="loaded",r.cacheEntryPossiblyAdded(S.dispatcher),y(null)}})},p.prototype.abortTile=function(m,y){m.request&&(m.request.cancel(),delete m.request),y()},p.prototype.unloadTile=function(m,y){m.texture&&this.map.painter.saveTileTexture(m.texture),y()},p.prototype.hasTransition=function(){return!1},p}(r.Evented),yt=function(_){function p(m,y,S,L){_.call(this,m,y,S,L),this.type="raster-dem",this.maxzoom=22,this._options=r.extend({type:"raster-dem"},y),this.encoding=y.encoding||"mapbox"}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},p.prototype.loadTile=function(m,y){var S=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function L(A,O){A&&(m.state="errored",y(A)),O&&(m.dem=O,m.needsHillshadePrepare=!0,m.state="loaded",y(null))}m.request=r.getImage(this.map._requestManager.transformRequest(S,r.ResourceType.Tile),(function(A,O){if(delete m.request,m.aborted)m.state="unloaded",y(null);else if(A)m.state="errored",y(A);else if(O){this.map._refreshExpiredTiles&&m.setExpiryData(O),delete O.cacheControl,delete O.expires;var N=r.window.ImageBitmap&&O instanceof r.window.ImageBitmap&&r.offscreenCanvasSupported()?O:r.browser.getImageData(O,1),U={uid:m.uid,coord:m.tileID,source:this.id,rawImageData:N,encoding:this.encoding};m.actor&&m.state!=="expired"||(m.actor=this.dispatcher.getActor(),m.actor.send("loadDEMTile",U,L.bind(this)))}}).bind(this)),m.neighboringTiles=this._getNeighboringTiles(m.tileID)},p.prototype._getNeighboringTiles=function(m){var y=m.canonical,S=Math.pow(2,y.z),L=(y.x-1+S)%S,A=y.x===0?m.wrap-1:m.wrap,O=(y.x+1+S)%S,N=y.x+1===S?m.wrap+1:m.wrap,U={};return U[new r.OverscaledTileID(m.overscaledZ,A,y.z,L,y.y).key]={backfilled:!1},U[new r.OverscaledTileID(m.overscaledZ,N,y.z,O,y.y).key]={backfilled:!1},y.y>0&&(U[new r.OverscaledTileID(m.overscaledZ,A,y.z,L,y.y-1).key]={backfilled:!1},U[new r.OverscaledTileID(m.overscaledZ,m.wrap,y.z,y.x,y.y-1).key]={backfilled:!1},U[new r.OverscaledTileID(m.overscaledZ,N,y.z,O,y.y-1).key]={backfilled:!1}),y.y+1<S&&(U[new r.OverscaledTileID(m.overscaledZ,A,y.z,L,y.y+1).key]={backfilled:!1},U[new r.OverscaledTileID(m.overscaledZ,m.wrap,y.z,y.x,y.y+1).key]={backfilled:!1},U[new r.OverscaledTileID(m.overscaledZ,N,y.z,O,y.y+1).key]={backfilled:!1}),U},p.prototype.unloadTile=function(m){m.demTexture&&this.map.painter.saveTileTexture(m.demTexture),m.fbo&&(m.fbo.destroy(),delete m.fbo),m.dem&&delete m.dem,delete m.neighboringTiles,m.state="unloaded",m.actor&&m.actor.send("removeDEMTile",{uid:m.uid,source:this.id})},p}(Qe),Je=function(_){function p(m,y,S,L){_.call(this),this.id=m,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=S.getActor(),this.setEventedParent(L),this._data=y.data,this._options=r.extend({},y),this._collectResourceTiming=y.collectResourceTiming,this._resourceTiming=[],y.maxzoom!==void 0&&(this.maxzoom=y.maxzoom),y.type&&(this.type=y.type),y.attribution&&(this.attribution=y.attribution),this.promoteId=y.promoteId;var A=r.EXTENT/this.tileSize;this.workerOptions=r.extend({source:this.id,cluster:y.cluster||!1,geojsonVtOptions:{buffer:(y.buffer!==void 0?y.buffer:128)*A,tolerance:(y.tolerance!==void 0?y.tolerance:.375)*A,extent:r.EXTENT,maxZoom:this.maxzoom,lineMetrics:y.lineMetrics||!1,generateId:y.generateId||!1},superclusterOptions:{maxZoom:y.clusterMaxZoom!==void 0?Math.min(y.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,y.clusterMinPoints||2),extent:r.EXTENT,radius:(y.clusterRadius||50)*A,log:!1,generateId:y.generateId||!1},clusterProperties:y.clusterProperties,filter:y.filter},y.workerOptions)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.load=function(){var m=this;this.fire(new r.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(y){if(y)m.fire(new r.ErrorEvent(y));else{var S={dataType:"source",sourceDataType:"metadata"};m._collectResourceTiming&&m._resourceTiming&&m._resourceTiming.length>0&&(S.resourceTiming=m._resourceTiming,m._resourceTiming=[]),m.fire(new r.Event("data",S))}})},p.prototype.onAdd=function(m){this.map=m,this.load()},p.prototype.setData=function(m){var y=this;return this._data=m,this.fire(new r.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(S){if(S)y.fire(new r.ErrorEvent(S));else{var L={dataType:"source",sourceDataType:"content"};y._collectResourceTiming&&y._resourceTiming&&y._resourceTiming.length>0&&(L.resourceTiming=y._resourceTiming,y._resourceTiming=[]),y.fire(new r.Event("data",L))}}),this},p.prototype.getClusterExpansionZoom=function(m,y){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:m,source:this.id},y),this},p.prototype.getClusterChildren=function(m,y){return this.actor.send("geojson.getClusterChildren",{clusterId:m,source:this.id},y),this},p.prototype.getClusterLeaves=function(m,y,S,L){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:m,limit:y,offset:S},L),this},p.prototype._updateWorkerData=function(m){var y=this;this._loaded=!1;var S=r.extend({},this.workerOptions),L=this._data;typeof L=="string"?(S.request=this.map._requestManager.transformRequest(r.browser.resolveURL(L),r.ResourceType.Source),S.request.collectResourceTiming=this._collectResourceTiming):S.data=JSON.stringify(L),this.actor.send(this.type+".loadData",S,function(A,O){y._removed||O&&O.abandoned||(y._loaded=!0,O&&O.resourceTiming&&O.resourceTiming[y.id]&&(y._resourceTiming=O.resourceTiming[y.id].slice(0)),y.actor.send(y.type+".coalesce",{source:S.source},null),m(A))})},p.prototype.loaded=function(){return this._loaded},p.prototype.loadTile=function(m,y){var S=this,L=m.actor?"reloadTile":"loadTile";m.actor=this.actor,m.request=this.actor.send(L,{type:this.type,uid:m.uid,tileID:m.tileID,zoom:m.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:r.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(A,O){return delete m.request,m.unloadVectorData(),m.aborted?y(null):A?y(A):(m.loadVectorData(O,S.map.painter,L==="reloadTile"),y(null))})},p.prototype.abortTile=function(m){m.request&&(m.request.cancel(),delete m.request),m.aborted=!0},p.prototype.unloadTile=function(m){m.unloadVectorData(),this.actor.send("removeTile",{uid:m.uid,type:this.type,source:this.id})},p.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},p.prototype.serialize=function(){return r.extend({},this._options,{type:this.type,data:this._data})},p.prototype.hasTransition=function(){return!1},p}(r.Evented),Xt=r.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),We=function(_){function p(m,y,S,L){_.call(this),this.id=m,this.dispatcher=S,this.coordinates=y.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(L),this.options=y}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.load=function(m,y){var S=this;this._loaded=!1,this.fire(new r.Event("dataloading",{dataType:"source"})),this.url=this.options.url,r.getImage(this.map._requestManager.transformRequest(this.url,r.ResourceType.Image),function(L,A){S._loaded=!0,L?S.fire(new r.ErrorEvent(L)):A&&(S.image=A,m&&(S.coordinates=m),y&&y(),S._finishLoading())})},p.prototype.loaded=function(){return this._loaded},p.prototype.updateImage=function(m){var y=this;return this.image&&m.url?(this.options.url=m.url,this.load(m.coordinates,function(){y.texture=null}),this):this},p.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new r.Event("data",{dataType:"source",sourceDataType:"metadata"})))},p.prototype.onAdd=function(m){this.map=m,this.load()},p.prototype.setCoordinates=function(m){var y=this;this.coordinates=m;var S=m.map(r.MercatorCoordinate.fromLngLat);this.tileID=function(A){for(var O=1/0,N=1/0,U=-1/0,Q=-1/0,J=0,te=A;J<te.length;J+=1){var de=te[J];O=Math.min(O,de.x),N=Math.min(N,de.y),U=Math.max(U,de.x),Q=Math.max(Q,de.y)}var ce=Math.max(U-O,Q-N),ve=Math.max(0,Math.floor(-Math.log(ce)/Math.LN2)),re=Math.pow(2,ve);return new r.CanonicalTileID(ve,Math.floor((O+U)/2*re),Math.floor((N+Q)/2*re))}(S),this.minzoom=this.maxzoom=this.tileID.z;var L=S.map(function(A){return y.tileID.getTilePoint(A)._round()});return this._boundsArray=new r.StructArrayLayout4i8,this._boundsArray.emplaceBack(L[0].x,L[0].y,0,0),this._boundsArray.emplaceBack(L[1].x,L[1].y,r.EXTENT,0),this._boundsArray.emplaceBack(L[3].x,L[3].y,0,r.EXTENT),this._boundsArray.emplaceBack(L[2].x,L[2].y,r.EXTENT,r.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new r.Event("data",{dataType:"source",sourceDataType:"content"})),this},p.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var m=this.map.painter.context,y=m.gl;for(var S in this.boundsBuffer||(this.boundsBuffer=m.createVertexBuffer(this._boundsArray,Xt.members)),this.boundsSegments||(this.boundsSegments=r.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new r.Texture(m,this.image,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var L=this.tiles[S];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture)}}},p.prototype.loadTile=function(m,y){this.tileID&&this.tileID.equals(m.tileID.canonical)?(this.tiles[String(m.tileID.wrap)]=m,m.buckets={},y(null)):(m.state="errored",y(null))},p.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return!1},p}(r.Evented),la=function(_){function p(m,y,S,L){_.call(this,m,y,S,L),this.roundZoom=!0,this.type="video",this.options=y}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.load=function(){var m=this;this._loaded=!1;var y=this.options;this.urls=[];for(var S=0,L=y.urls;S<L.length;S+=1)this.urls.push(this.map._requestManager.transformRequest(L[S],r.ResourceType.Source).url);r.getVideo(this.urls,function(A,O){m._loaded=!0,A?m.fire(new r.ErrorEvent(A)):O&&(m.video=O,m.video.loop=!0,m.video.setAttribute("playsinline",""),m.video.addEventListener("playing",function(){m.map.triggerRepaint()}),m.map&&m.video.play(),m._finishLoading())})},p.prototype.pause=function(){this.video&&this.video.pause()},p.prototype.play=function(){this.video&&this.video.play()},p.prototype.seek=function(m){if(this.video){var y=this.video.seekable;m<y.start(0)||m>y.end(0)?this.fire(new r.ErrorEvent(new r.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+y.start(0)+" and "+y.end(0)+"-second mark."))):this.video.currentTime=m}},p.prototype.getVideo=function(){return this.video},p.prototype.onAdd=function(m){this.map||(this.map=m,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},p.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var m=this.map.painter.context,y=m.gl;for(var S in this.boundsBuffer||(this.boundsBuffer=m.createVertexBuffer(this._boundsArray,Xt.members)),this.boundsSegments||(this.boundsSegments=r.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE),y.texSubImage2D(y.TEXTURE_2D,0,0,0,y.RGBA,y.UNSIGNED_BYTE,this.video)):(this.texture=new r.Texture(m,this.video,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE)),this.tiles){var L=this.tiles[S];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this.video&&!this.video.paused},p}(We),ba=function(_){function p(m,y,S,L){_.call(this,m,y,S,L),y.coordinates?Array.isArray(y.coordinates)&&y.coordinates.length===4&&!y.coordinates.some(function(A){return!Array.isArray(A)||A.length!==2||A.some(function(O){return typeof O!="number"})})||this.fire(new r.ErrorEvent(new r.ValidationError("sources."+m,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new r.ErrorEvent(new r.ValidationError("sources."+m,null,'missing required property "coordinates"'))),y.animate&&typeof y.animate!="boolean"&&this.fire(new r.ErrorEvent(new r.ValidationError("sources."+m,null,'optional "animate" property must be a boolean value'))),y.canvas?typeof y.canvas=="string"||y.canvas instanceof r.window.HTMLCanvasElement||this.fire(new r.ErrorEvent(new r.ValidationError("sources."+m,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new r.ErrorEvent(new r.ValidationError("sources."+m,null,'missing required property "canvas"'))),this.options=y,this.animate=y.animate===void 0||y.animate}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof r.window.HTMLCanvasElement?this.options.canvas:r.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new r.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},p.prototype.getCanvas=function(){return this.canvas},p.prototype.onAdd=function(m){this.map=m,this.load(),this.canvas&&this.animate&&this.play()},p.prototype.onRemove=function(){this.pause()},p.prototype.prepare=function(){var m=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,m=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,m=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var y=this.map.painter.context,S=y.gl;for(var L in this.boundsBuffer||(this.boundsBuffer=y.createVertexBuffer(this._boundsArray,Xt.members)),this.boundsSegments||(this.boundsSegments=r.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(m||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new r.Texture(y,this.canvas,S.RGBA,{premultiply:!0}),this.tiles){var A=this.tiles[L];A.state!=="loaded"&&(A.state="loaded",A.texture=this.texture)}}},p.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},p.prototype.hasTransition=function(){return this._playing},p.prototype._hasInvalidDimensions=function(){for(var m=0,y=[this.canvas.width,this.canvas.height];m<y.length;m+=1){var S=y[m];if(isNaN(S)||S<=0)return!0}return!1},p}(We),ea={vector:Oe,raster:Qe,"raster-dem":yt,geojson:Je,video:la,image:We,canvas:ba};function wn(_,p){var m=r.identity([]);return r.translate(m,m,[1,1,0]),r.scale(m,m,[.5*_.width,.5*_.height,1]),r.multiply(m,m,_.calculatePosMatrix(p.toUnwrapped()))}function ca(_,p,m,y,S,L){var A=function(ve,re,ye){if(ve)for(var Me=0,ke=ve;Me<ke.length;Me+=1){var Be=re[ke[Me]];if(Be&&Be.source===ye&&Be.type==="fill-extrusion")return!0}else for(var Ne in re){var Ue=re[Ne];if(Ue.source===ye&&Ue.type==="fill-extrusion")return!0}return!1}(S&&S.layers,p,_.id),O=L.maxPitchScaleFactor(),N=_.tilesIn(y,O,A);N.sort(hi);for(var U=[],Q=0,J=N;Q<J.length;Q+=1){var te=J[Q];U.push({wrappedTileID:te.tileID.wrapped().key,queryResults:te.tile.queryRenderedFeatures(p,m,_._state,te.queryGeometry,te.cameraQueryGeometry,te.scale,S,L,O,wn(_.transform,te.tileID))})}var de=function(ve){for(var re={},ye={},Me=0,ke=ve;Me<ke.length;Me+=1){var Be=ke[Me],Ne=Be.queryResults,Ue=Be.wrappedTileID,at=ye[Ue]=ye[Ue]||{};for(var mt in Ne)for(var ht=Ne[mt],Rt=at[mt]=at[mt]||{},$t=re[mt]=re[mt]||[],ia=0,ta=ht;ia<ta.length;ia+=1){var ui=ta[ia];Rt[ui.featureIndex]||(Rt[ui.featureIndex]=!0,$t.push(ui))}}return re}(U);for(var ce in de)de[ce].forEach(function(ve){var re=ve.feature,ye=_.getFeatureState(re.layer["source-layer"],re.id);re.source=re.layer.source,re.layer["source-layer"]&&(re.sourceLayer=re.layer["source-layer"]),re.state=ye});return de}function hi(_,p){var m=_.tileID,y=p.tileID;return m.overscaledZ-y.overscaledZ||m.canonical.y-y.canonical.y||m.wrap-y.wrap||m.canonical.x-y.canonical.x}var ka=function(_,p){this.max=_,this.onRemove=p,this.reset()};ka.prototype.reset=function(){for(var _ in this.data)for(var p=0,m=this.data[_];p<m.length;p+=1){var y=m[p];y.timeout&&clearTimeout(y.timeout),this.onRemove(y.value)}return this.data={},this.order=[],this},ka.prototype.add=function(_,p,m){var y=this,S=_.wrapped().key;this.data[S]===void 0&&(this.data[S]=[]);var L={value:p,timeout:void 0};if(m!==void 0&&(L.timeout=setTimeout(function(){y.remove(_,L)},m)),this.data[S].push(L),this.order.push(S),this.order.length>this.max){var A=this._getAndRemoveByKey(this.order[0]);A&&this.onRemove(A)}return this},ka.prototype.has=function(_){return _.wrapped().key in this.data},ka.prototype.getAndRemove=function(_){return this.has(_)?this._getAndRemoveByKey(_.wrapped().key):null},ka.prototype._getAndRemoveByKey=function(_){var p=this.data[_].shift();return p.timeout&&clearTimeout(p.timeout),this.data[_].length===0&&delete this.data[_],this.order.splice(this.order.indexOf(_),1),p.value},ka.prototype.getByKey=function(_){var p=this.data[_];return p?p[0].value:null},ka.prototype.get=function(_){return this.has(_)?this.data[_.wrapped().key][0].value:null},ka.prototype.remove=function(_,p){if(!this.has(_))return this;var m=_.wrapped().key,y=p===void 0?0:this.data[m].indexOf(p),S=this.data[m][y];return this.data[m].splice(y,1),S.timeout&&clearTimeout(S.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(S.value),this.order.splice(this.order.indexOf(m),1),this},ka.prototype.setMaxSize=function(_){for(this.max=_;this.order.length>this.max;){var p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this},ka.prototype.filter=function(_){var p=[];for(var m in this.data)for(var y=0,S=this.data[m];y<S.length;y+=1){var L=S[y];_(L.value)||p.push(L)}for(var A=0,O=p;A<O.length;A+=1){var N=O[A];this.remove(N.value.tileID,N)}};var Zi=function(_,p,m){this.context=_;var y=_.gl;this.buffer=y.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),_.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};Zi.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Zi.prototype.updateData=function(_){var p=this.context.gl;this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,_.arrayBuffer)},Zi.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var er={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},un=function(_,p,m,y){this.length=p.length,this.attributes=m,this.itemSize=p.bytesPerElement,this.dynamicDraw=y,this.context=_;var S=_.gl;this.buffer=S.createBuffer(),_.bindVertexBuffer.set(this.buffer),S.bufferData(S.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer};un.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},un.prototype.updateData=function(_){var p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,_.arrayBuffer)},un.prototype.enableAttributes=function(_,p){for(var m=0;m<this.attributes.length;m++){var y=p.attributes[this.attributes[m].name];y!==void 0&&_.enableVertexAttribArray(y)}},un.prototype.setVertexAttribPointers=function(_,p,m){for(var y=0;y<this.attributes.length;y++){var S=this.attributes[y],L=p.attributes[S.name];L!==void 0&&_.vertexAttribPointer(L,S.components,_[er[S.type]],!1,this.itemSize,S.offset+this.itemSize*(m||0))}},un.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var pe=function(_){this.gl=_.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};pe.prototype.get=function(){return this.current},pe.prototype.set=function(_){},pe.prototype.getDefault=function(){return this.default},pe.prototype.setDefault=function(){this.set(this.default)};var Le=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return r.Color.transparent},p.prototype.set=function(m){var y=this.current;(m.r!==y.r||m.g!==y.g||m.b!==y.b||m.a!==y.a||this.dirty)&&(this.gl.clearColor(m.r,m.g,m.b,m.a),this.current=m,this.dirty=!1)},p}(pe),qe=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return 1},p.prototype.set=function(m){(m!==this.current||this.dirty)&&(this.gl.clearDepth(m),this.current=m,this.dirty=!1)},p}(pe),it=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return 0},p.prototype.set=function(m){(m!==this.current||this.dirty)&&(this.gl.clearStencil(m),this.current=m,this.dirty=!1)},p}(pe),ut=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return[!0,!0,!0,!0]},p.prototype.set=function(m){var y=this.current;(m[0]!==y[0]||m[1]!==y[1]||m[2]!==y[2]||m[3]!==y[3]||this.dirty)&&(this.gl.colorMask(m[0],m[1],m[2],m[3]),this.current=m,this.dirty=!1)},p}(pe),ot=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return!0},p.prototype.set=function(m){(m!==this.current||this.dirty)&&(this.gl.depthMask(m),this.current=m,this.dirty=!1)},p}(pe),Et=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return 255},p.prototype.set=function(m){(m!==this.current||this.dirty)&&(this.gl.stencilMask(m),this.current=m,this.dirty=!1)},p}(pe),_t=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},p.prototype.set=function(m){var y=this.current;(m.func!==y.func||m.ref!==y.ref||m.mask!==y.mask||this.dirty)&&(this.gl.stencilFunc(m.func,m.ref,m.mask),this.current=m,this.dirty=!1)},p}(pe),vt=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){var m=this.gl;return[m.KEEP,m.KEEP,m.KEEP]},p.prototype.set=function(m){var y=this.current;(m[0]!==y[0]||m[1]!==y[1]||m[2]!==y[2]||this.dirty)&&(this.gl.stencilOp(m[0],m[1],m[2]),this.current=m,this.dirty=!1)},p}(pe),st=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(m){if(m!==this.current||this.dirty){var y=this.gl;m?y.enable(y.STENCIL_TEST):y.disable(y.STENCIL_TEST),this.current=m,this.dirty=!1}},p}(pe),Nt=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return[0,1]},p.prototype.set=function(m){var y=this.current;(m[0]!==y[0]||m[1]!==y[1]||this.dirty)&&(this.gl.depthRange(m[0],m[1]),this.current=m,this.dirty=!1)},p}(pe),xt=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(m){if(m!==this.current||this.dirty){var y=this.gl;m?y.enable(y.DEPTH_TEST):y.disable(y.DEPTH_TEST),this.current=m,this.dirty=!1}},p}(pe),Wt=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.LESS},p.prototype.set=function(m){(m!==this.current||this.dirty)&&(this.gl.depthFunc(m),this.current=m,this.dirty=!1)},p}(pe),Zt=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(m){if(m!==this.current||this.dirty){var y=this.gl;m?y.enable(y.BLEND):y.disable(y.BLEND),this.current=m,this.dirty=!1}},p}(pe),xa=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){var m=this.gl;return[m.ONE,m.ZERO]},p.prototype.set=function(m){var y=this.current;(m[0]!==y[0]||m[1]!==y[1]||this.dirty)&&(this.gl.blendFunc(m[0],m[1]),this.current=m,this.dirty=!1)},p}(pe),Fa=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return r.Color.transparent},p.prototype.set=function(m){var y=this.current;(m.r!==y.r||m.g!==y.g||m.b!==y.b||m.a!==y.a||this.dirty)&&(this.gl.blendColor(m.r,m.g,m.b,m.a),this.current=m,this.dirty=!1)},p}(pe),Ga=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.FUNC_ADD},p.prototype.set=function(m){(m!==this.current||this.dirty)&&(this.gl.blendEquation(m),this.current=m,this.dirty=!1)},p}(pe),Xi=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(m){if(m!==this.current||this.dirty){var y=this.gl;m?y.enable(y.CULL_FACE):y.disable(y.CULL_FACE),this.current=m,this.dirty=!1}},p}(pe),ii=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.BACK},p.prototype.set=function(m){(m!==this.current||this.dirty)&&(this.gl.cullFace(m),this.current=m,this.dirty=!1)},p}(pe),fn=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.CCW},p.prototype.set=function(m){(m!==this.current||this.dirty)&&(this.gl.frontFace(m),this.current=m,this.dirty=!1)},p}(pe),cn=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(m){(m!==this.current||this.dirty)&&(this.gl.useProgram(m),this.current=m,this.dirty=!1)},p}(pe),cr=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return this.gl.TEXTURE0},p.prototype.set=function(m){(m!==this.current||this.dirty)&&(this.gl.activeTexture(m),this.current=m,this.dirty=!1)},p}(pe),dr=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){var m=this.gl;return[0,0,m.drawingBufferWidth,m.drawingBufferHeight]},p.prototype.set=function(m){var y=this.current;(m[0]!==y[0]||m[1]!==y[1]||m[2]!==y[2]||m[3]!==y[3]||this.dirty)&&(this.gl.viewport(m[0],m[1],m[2],m[3]),this.current=m,this.dirty=!1)},p}(pe),Ti=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(m){if(m!==this.current||this.dirty){var y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,m),this.current=m,this.dirty=!1}},p}(pe),Yi=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(m){if(m!==this.current||this.dirty){var y=this.gl;y.bindRenderbuffer(y.RENDERBUFFER,m),this.current=m,this.dirty=!1}},p}(pe),ds=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(m){if(m!==this.current||this.dirty){var y=this.gl;y.bindTexture(y.TEXTURE_2D,m),this.current=m,this.dirty=!1}},p}(pe),Js=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(m){if(m!==this.current||this.dirty){var y=this.gl;y.bindBuffer(y.ARRAY_BUFFER,m),this.current=m,this.dirty=!1}},p}(pe),Kr=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(m){var y=this.gl;y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,m),this.current=m,this.dirty=!1},p}(pe),Sn=function(_){function p(m){_.call(this,m),this.vao=m.extVertexArrayObject}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p.prototype.set=function(m){this.vao&&(m!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(m),this.current=m,this.dirty=!1)},p}(pe),Er=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return 4},p.prototype.set=function(m){if(m!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_ALIGNMENT,m),this.current=m,this.dirty=!1}},p}(pe),So=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(m){if(m!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m),this.current=m,this.dirty=!1}},p}(pe),Ki=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return!1},p.prototype.set=function(m){if(m!==this.current||this.dirty){var y=this.gl;y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,m),this.current=m,this.dirty=!1}},p}(pe),ja=function(_){function p(m,y){_.call(this,m),this.context=m,this.parent=y}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getDefault=function(){return null},p}(pe),G=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.setDirty=function(){this.dirty=!0},p.prototype.set=function(m){if(m!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,m,0),this.current=m,this.dirty=!1}},p}(ja),j=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.set=function(m){if(m!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var y=this.gl;y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,m),this.current=m,this.dirty=!1}},p}(ja),X=function(_,p,m,y){this.context=_,this.width=p,this.height=m;var S=this.framebuffer=_.gl.createFramebuffer();this.colorAttachment=new G(_,S),y&&(this.depthAttachment=new j(_,S))};X.prototype.destroy=function(){var _=this.context.gl,p=this.colorAttachment.get();if(p&&_.deleteTexture(p),this.depthAttachment){var m=this.depthAttachment.get();m&&_.deleteRenderbuffer(m)}_.deleteFramebuffer(this.framebuffer)};var ee=function(_,p,m){this.func=_,this.mask=p,this.range=m};ee.ReadOnly=!1,ee.ReadWrite=!0,ee.disabled=new ee(519,ee.ReadOnly,[0,1]);var oe=function(_,p,m,y,S,L){this.test=_,this.ref=p,this.mask=m,this.fail=y,this.depthFail=S,this.pass=L};oe.disabled=new oe({func:519,mask:0},0,0,7680,7680,7680);var Ee=function(_,p,m){this.blendFunction=_,this.blendColor=p,this.mask=m};Ee.disabled=new Ee(Ee.Replace=[1,0],r.Color.transparent,[!1,!1,!1,!1]),Ee.unblended=new Ee(Ee.Replace,r.Color.transparent,[!0,!0,!0,!0]),Ee.alphaBlended=new Ee([1,771],r.Color.transparent,[!0,!0,!0,!0]);var Se=function(_,p,m){this.enable=_,this.mode=p,this.frontFace=m};Se.disabled=new Se(!1,1029,2305),Se.backCCW=new Se(!0,1029,2305);var Y=function(_){this.gl=_,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Le(this),this.clearDepth=new qe(this),this.clearStencil=new it(this),this.colorMask=new ut(this),this.depthMask=new ot(this),this.stencilMask=new Et(this),this.stencilFunc=new _t(this),this.stencilOp=new vt(this),this.stencilTest=new st(this),this.depthRange=new Nt(this),this.depthTest=new xt(this),this.depthFunc=new Wt(this),this.blend=new Zt(this),this.blendFunc=new xa(this),this.blendColor=new Fa(this),this.blendEquation=new Ga(this),this.cullFace=new Xi(this),this.cullFaceSide=new ii(this),this.frontFace=new fn(this),this.program=new cn(this),this.activeTexture=new cr(this),this.viewport=new dr(this),this.bindFramebuffer=new Ti(this),this.bindRenderbuffer=new Yi(this),this.bindTexture=new ds(this),this.bindVertexBuffer=new Js(this),this.bindElementBuffer=new Kr(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Sn(this),this.pixelStoreUnpack=new Er(this),this.pixelStoreUnpackPremultiplyAlpha=new So(this),this.pixelStoreUnpackFlipY=new Ki(this),this.extTextureFilterAnisotropic=_.getExtension("EXT_texture_filter_anisotropic")||_.getExtension("MOZ_EXT_texture_filter_anisotropic")||_.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=_.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=_.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(_.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=_.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=_.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=_.getParameter(_.MAX_TEXTURE_SIZE)};Y.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Y.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Y.prototype.createIndexBuffer=function(_,p){return new Zi(this,_,p)},Y.prototype.createVertexBuffer=function(_,p,m){return new un(this,_,p,m)},Y.prototype.createRenderbuffer=function(_,p,m){var y=this.gl,S=y.createRenderbuffer();return this.bindRenderbuffer.set(S),y.renderbufferStorage(y.RENDERBUFFER,_,p,m),this.bindRenderbuffer.set(null),S},Y.prototype.createFramebuffer=function(_,p,m){return new X(this,_,p,m)},Y.prototype.clear=function(_){var p=_.color,m=_.depth,y=this.gl,S=0;p&&(S|=y.COLOR_BUFFER_BIT,this.clearColor.set(p),this.colorMask.set([!0,!0,!0,!0])),m!==void 0&&(S|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(m),this.depthMask.set(!0)),y.clear(S)},Y.prototype.setCullFace=function(_){_.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(_.mode),this.frontFace.set(_.frontFace))},Y.prototype.setDepthMode=function(_){_.func!==this.gl.ALWAYS||_.mask?(this.depthTest.set(!0),this.depthFunc.set(_.func),this.depthMask.set(_.mask),this.depthRange.set(_.range)):this.depthTest.set(!1)},Y.prototype.setStencilMode=function(_){_.test.func!==this.gl.ALWAYS||_.mask?(this.stencilTest.set(!0),this.stencilMask.set(_.mask),this.stencilOp.set([_.fail,_.depthFail,_.pass]),this.stencilFunc.set({func:_.test.func,ref:_.ref,mask:_.test.mask})):this.stencilTest.set(!1)},Y.prototype.setColorMode=function(_){r.deepEqual(_.blendFunction,Ee.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(_.blendFunction),this.blendColor.set(_.blendColor)),this.colorMask.set(_.mask)},Y.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ue=function(_){function p(m,y,S){var L=this;_.call(this),this.id=m,this.dispatcher=S,this.on("data",function(A){A.dataType==="source"&&A.sourceDataType==="metadata"&&(L._sourceLoaded=!0),L._sourceLoaded&&!L._paused&&A.dataType==="source"&&A.sourceDataType==="content"&&(L.reload(),L.transform&&L.update(L.transform))}),this.on("error",function(){L._sourceErrored=!0}),this._source=function(A,O,N,U){var Q=new ea[O.type](A,O,N,U);if(Q.id!==A)throw new Error("Expected Source id to be "+A+" instead of "+Q.id);return r.bindAll(["load","abort","unload","serialize","prepare"],Q),Q}(m,y,S,this),this._tiles={},this._cache=new ka(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new r.SourceFeatureState}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.onAdd=function(m){this.map=m,this._maxTileCacheSize=m?m._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(m)},p.prototype.onRemove=function(m){this._source&&this._source.onRemove&&this._source.onRemove(m)},p.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var m in this._tiles){var y=this._tiles[m];if(y.state!=="loaded"&&y.state!=="errored")return!1}return!0},p.prototype.getSource=function(){return this._source},p.prototype.pause=function(){this._paused=!0},p.prototype.resume=function(){if(this._paused){var m=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,m&&this.reload(),this.transform&&this.update(this.transform)}},p.prototype._loadTile=function(m,y){return this._source.loadTile(m,y)},p.prototype._unloadTile=function(m){if(this._source.unloadTile)return this._source.unloadTile(m,function(){})},p.prototype._abortTile=function(m){if(this._source.abortTile)return this._source.abortTile(m,function(){})},p.prototype.serialize=function(){return this._source.serialize()},p.prototype.prepare=function(m){for(var y in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var S=this._tiles[y];S.upload(m),S.prepare(this.map.style.imageManager)}},p.prototype.getIds=function(){return r.values(this._tiles).map(function(m){return m.tileID}).sort(Ie).map(function(m){return m.key})},p.prototype.getRenderableIds=function(m){var y=this,S=[];for(var L in this._tiles)this._isIdRenderable(L,m)&&S.push(this._tiles[L]);return m?S.sort(function(A,O){var N=A.tileID,U=O.tileID,Q=new r.Point(N.canonical.x,N.canonical.y)._rotate(y.transform.angle),J=new r.Point(U.canonical.x,U.canonical.y)._rotate(y.transform.angle);return N.overscaledZ-U.overscaledZ||J.y-Q.y||J.x-Q.x}).map(function(A){return A.tileID.key}):S.map(function(A){return A.tileID}).sort(Ie).map(function(A){return A.key})},p.prototype.hasRenderableParent=function(m){var y=this.findLoadedParent(m,0);return!!y&&this._isIdRenderable(y.tileID.key)},p.prototype._isIdRenderable=function(m,y){return this._tiles[m]&&this._tiles[m].hasData()&&!this._coveredTiles[m]&&(y||!this._tiles[m].holdingForFade())},p.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var m in this._cache.reset(),this._tiles)this._tiles[m].state!=="errored"&&this._reloadTile(m,"reloading")},p.prototype._reloadTile=function(m,y){var S=this._tiles[m];S&&(S.state!=="loading"&&(S.state=y),this._loadTile(S,this._tileLoaded.bind(this,S,m,y)))},p.prototype._tileLoaded=function(m,y,S,L){if(L)return m.state="errored",void(L.status!==404?this._source.fire(new r.ErrorEvent(L,{tile:m})):this.update(this.transform));m.timeAdded=r.browser.now(),S==="expired"&&(m.refreshedUponExpiration=!0),this._setTileReloadTimer(y,m),this.getSource().type==="raster-dem"&&m.dem&&this._backfillDEM(m),this._state.initializeTileState(m,this.map?this.map.painter:null),this._source.fire(new r.Event("data",{dataType:"source",tile:m,coord:m.tileID}))},p.prototype._backfillDEM=function(m){for(var y=this.getRenderableIds(),S=0;S<y.length;S++){var L=y[S];if(m.neighboringTiles&&m.neighboringTiles[L]){var A=this.getTileByID(L);O(m,A),O(A,m)}}function O(N,U){N.needsHillshadePrepare=!0;var Q=U.tileID.canonical.x-N.tileID.canonical.x,J=U.tileID.canonical.y-N.tileID.canonical.y,te=Math.pow(2,N.tileID.canonical.z),de=U.tileID.key;Q===0&&J===0||Math.abs(J)>1||(Math.abs(Q)>1&&(Math.abs(Q+te)===1?Q+=te:Math.abs(Q-te)===1&&(Q-=te)),U.dem&&N.dem&&(N.dem.backfillBorder(U.dem,Q,J),N.neighboringTiles&&N.neighboringTiles[de]&&(N.neighboringTiles[de].backfilled=!0)))}},p.prototype.getTile=function(m){return this.getTileByID(m.key)},p.prototype.getTileByID=function(m){return this._tiles[m]},p.prototype._retainLoadedChildren=function(m,y,S,L){for(var A in this._tiles){var O=this._tiles[A];if(!(L[A]||!O.hasData()||O.tileID.overscaledZ<=y||O.tileID.overscaledZ>S)){for(var N=O.tileID;O&&O.tileID.overscaledZ>y+1;){var U=O.tileID.scaledTo(O.tileID.overscaledZ-1);(O=this._tiles[U.key])&&O.hasData()&&(N=U)}for(var Q=N;Q.overscaledZ>y;)if(m[(Q=Q.scaledTo(Q.overscaledZ-1)).key]){L[N.key]=N;break}}}},p.prototype.findLoadedParent=function(m,y){if(m.key in this._loadedParentTiles){var S=this._loadedParentTiles[m.key];return S&&S.tileID.overscaledZ>=y?S:null}for(var L=m.overscaledZ-1;L>=y;L--){var A=m.scaledTo(L),O=this._getLoadedTile(A);if(O)return O}},p.prototype._getLoadedTile=function(m){var y=this._tiles[m.key];return y&&y.hasData()?y:this._cache.getByKey(m.wrapped().key)},p.prototype.updateCacheSize=function(m){var y=Math.ceil(m.width/this._source.tileSize)+1,S=Math.ceil(m.height/this._source.tileSize)+1,L=Math.floor(y*S*5),A=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,L):L;this._cache.setMaxSize(A)},p.prototype.handleWrapJump=function(m){var y=Math.round((m-(this._prevLng===void 0?m:this._prevLng))/360);if(this._prevLng=m,y){var S={};for(var L in this._tiles){var A=this._tiles[L];A.tileID=A.tileID.unwrapTo(A.tileID.wrap+y),S[A.tileID.key]=A}for(var O in this._tiles=S,this._timers)clearTimeout(this._timers[O]),delete this._timers[O];for(var N in this._tiles)this._setTileReloadTimer(N,this._tiles[N])}},p.prototype.update=function(m){var y=this;if(this.transform=m,this._sourceLoaded&&!this._paused){var S;this.updateCacheSize(m),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?S=m.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(at){return new r.OverscaledTileID(at.canonical.z,at.wrap,at.canonical.z,at.canonical.x,at.canonical.y)}):(S=m.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(S=S.filter(function(at){return y._source.hasTile(at)}))):S=[];var L=m.coveringZoomLevel(this._source),A=Math.max(L-p.maxOverzooming,this._source.minzoom),O=Math.max(L+p.maxUnderzooming,this._source.minzoom),N=this._updateRetainedTiles(S,L);if(et(this._source.type)){for(var U={},Q={},J=0,te=Object.keys(N);J<te.length;J+=1){var de=te[J],ce=N[de],ve=this._tiles[de];if(ve&&!(ve.fadeEndTime&&ve.fadeEndTime<=r.browser.now())){var re=this.findLoadedParent(ce,A);re&&(this._addTile(re.tileID),U[re.tileID.key]=re.tileID),Q[de]=ce}}for(var ye in this._retainLoadedChildren(Q,L,O,N),U)N[ye]||(this._coveredTiles[ye]=!0,N[ye]=U[ye])}for(var Me in N)this._tiles[Me].clearFadeHold();for(var ke=0,Be=r.keysDifference(this._tiles,N);ke<Be.length;ke+=1){var Ne=Be[ke],Ue=this._tiles[Ne];Ue.hasSymbolBuckets&&!Ue.holdingForFade()?Ue.setHoldDuration(this.map._fadeDuration):Ue.hasSymbolBuckets&&!Ue.symbolFadeFinished()||this._removeTile(Ne)}this._updateLoadedParentTileCache()}},p.prototype.releaseSymbolFadeTiles=function(){for(var m in this._tiles)this._tiles[m].holdingForFade()&&this._removeTile(m)},p.prototype._updateRetainedTiles=function(m,y){for(var S={},L={},A=Math.max(y-p.maxOverzooming,this._source.minzoom),O=Math.max(y+p.maxUnderzooming,this._source.minzoom),N={},U=0,Q=m;U<Q.length;U+=1){var J=Q[U],te=this._addTile(J);S[J.key]=J,te.hasData()||y<this._source.maxzoom&&(N[J.key]=J)}this._retainLoadedChildren(N,y,O,S);for(var de=0,ce=m;de<ce.length;de+=1){var ve=ce[de],re=this._tiles[ve.key];if(!re.hasData()){if(y+1>this._source.maxzoom){var ye=ve.children(this._source.maxzoom)[0],Me=this.getTile(ye);if(Me&&Me.hasData()){S[ye.key]=ye;continue}}else{var ke=ve.children(this._source.maxzoom);if(S[ke[0].key]&&S[ke[1].key]&&S[ke[2].key]&&S[ke[3].key])continue}for(var Be=re.wasRequested(),Ne=ve.overscaledZ-1;Ne>=A;--Ne){var Ue=ve.scaledTo(Ne);if(L[Ue.key]||(L[Ue.key]=!0,!(re=this.getTile(Ue))&&Be&&(re=this._addTile(Ue)),re&&(S[Ue.key]=Ue,Be=re.wasRequested(),re.hasData())))break}}}return S},p.prototype._updateLoadedParentTileCache=function(){for(var m in this._loadedParentTiles={},this._tiles){for(var y=[],S=void 0,L=this._tiles[m].tileID;L.overscaledZ>0;){if(L.key in this._loadedParentTiles){S=this._loadedParentTiles[L.key];break}y.push(L.key);var A=L.scaledTo(L.overscaledZ-1);if(S=this._getLoadedTile(A))break;L=A}for(var O=0,N=y;O<N.length;O+=1)this._loadedParentTiles[N[O]]=S}},p.prototype._addTile=function(m){var y=this._tiles[m.key];if(y)return y;(y=this._cache.getAndRemove(m))&&(this._setTileReloadTimer(m.key,y),y.tileID=m,this._state.initializeTileState(y,this.map?this.map.painter:null),this._cacheTimers[m.key]&&(clearTimeout(this._cacheTimers[m.key]),delete this._cacheTimers[m.key],this._setTileReloadTimer(m.key,y)));var S=!!y;return S||(y=new r.Tile(m,this._source.tileSize*m.overscaleFactor()),this._loadTile(y,this._tileLoaded.bind(this,y,m.key,y.state))),y?(y.uses++,this._tiles[m.key]=y,S||this._source.fire(new r.Event("dataloading",{tile:y,coord:y.tileID,dataType:"source"})),y):null},p.prototype._setTileReloadTimer=function(m,y){var S=this;m in this._timers&&(clearTimeout(this._timers[m]),delete this._timers[m]);var L=y.getExpiryTimeout();L&&(this._timers[m]=setTimeout(function(){S._reloadTile(m,"expired"),delete S._timers[m]},L))},p.prototype._removeTile=function(m){var y=this._tiles[m];y&&(y.uses--,delete this._tiles[m],this._timers[m]&&(clearTimeout(this._timers[m]),delete this._timers[m]),y.uses>0||(y.hasData()&&y.state!=="reloading"?this._cache.add(y.tileID,y,y.getExpiryTimeout()):(y.aborted=!0,this._abortTile(y),this._unloadTile(y))))},p.prototype.clearTiles=function(){for(var m in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(m);this._cache.reset()},p.prototype.tilesIn=function(m,y,S){var L=this,A=[],O=this.transform;if(!O)return A;for(var N=S?O.getCameraQueryGeometry(m):m,U=m.map(function(Ne){return O.pointCoordinate(Ne)}),Q=N.map(function(Ne){return O.pointCoordinate(Ne)}),J=this.getIds(),te=1/0,de=1/0,ce=-1/0,ve=-1/0,re=0,ye=Q;re<ye.length;re+=1){var Me=ye[re];te=Math.min(te,Me.x),de=Math.min(de,Me.y),ce=Math.max(ce,Me.x),ve=Math.max(ve,Me.y)}for(var ke=function(Ne){var Ue=L._tiles[J[Ne]];if(!Ue.holdingForFade()){var at=Ue.tileID,mt=Math.pow(2,O.zoom-Ue.tileID.overscaledZ),ht=y*Ue.queryPadding*r.EXTENT/Ue.tileSize/mt,Rt=[at.getTilePoint(new r.MercatorCoordinate(te,de)),at.getTilePoint(new r.MercatorCoordinate(ce,ve))];if(Rt[0].x-ht<r.EXTENT&&Rt[0].y-ht<r.EXTENT&&Rt[1].x+ht>=0&&Rt[1].y+ht>=0){var $t=U.map(function(ta){return at.getTilePoint(ta)}),ia=Q.map(function(ta){return at.getTilePoint(ta)});A.push({tile:Ue,tileID:at,queryGeometry:$t,cameraQueryGeometry:ia,scale:mt})}}},Be=0;Be<J.length;Be++)ke(Be);return A},p.prototype.getVisibleCoordinates=function(m){for(var y=this,S=this.getRenderableIds(m).map(function(N){return y._tiles[N].tileID}),L=0,A=S;L<A.length;L+=1){var O=A[L];O.posMatrix=this.transform.calculatePosMatrix(O.toUnwrapped())}return S},p.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(et(this._source.type))for(var m in this._tiles){var y=this._tiles[m];if(y.fadeEndTime!==void 0&&y.fadeEndTime>=r.browser.now())return!0}return!1},p.prototype.setFeatureState=function(m,y,S){this._state.updateState(m=m||"_geojsonTileLayer",y,S)},p.prototype.removeFeatureState=function(m,y,S){this._state.removeFeatureState(m=m||"_geojsonTileLayer",y,S)},p.prototype.getFeatureState=function(m,y){return this._state.getState(m=m||"_geojsonTileLayer",y)},p.prototype.setDependencies=function(m,y,S){var L=this._tiles[m];L&&L.setDependencies(y,S)},p.prototype.reloadTilesForDependencies=function(m,y){for(var S in this._tiles)this._tiles[S].hasDependency(m,y)&&this._reloadTile(S,"reloading");this._cache.filter(function(L){return!L.hasDependency(m,y)})},p}(r.Evented);function Ie(_,p){var m=Math.abs(2*_.wrap)-+(_.wrap<0),y=Math.abs(2*p.wrap)-+(p.wrap<0);return _.overscaledZ-p.overscaledZ||y-m||p.canonical.y-_.canonical.y||p.canonical.x-_.canonical.x}function et(_){return _==="raster"||_==="image"||_==="video"}function lt(){return new r.window.Worker(Rm.workerUrl)}ue.maxOverzooming=10,ue.maxUnderzooming=3;var Ge="mapboxgl_preloaded_worker_pool",nt=function(){this.active={}};nt.prototype.acquire=function(_){if(!this.workers)for(this.workers=[];this.workers.length<nt.workerCount;)this.workers.push(new lt);return this.active[_]=!0,this.workers.slice()},nt.prototype.release=function(_){delete this.active[_],this.numActive()===0&&(this.workers.forEach(function(p){p.terminate()}),this.workers=null)},nt.prototype.isPreloaded=function(){return!!this.active[Ge]},nt.prototype.numActive=function(){return Object.keys(this.active).length};var Ot,Mt=Math.floor(r.browser.hardwareConcurrency/2);function Ve(){return Ot||(Ot=new nt),Ot}function At(_,p){var m={};for(var y in _)y!=="ref"&&(m[y]=_[y]);return r.refProperties.forEach(function(S){S in p&&(m[S]=p[S])}),m}function bt(_){_=_.slice();for(var p=Object.create(null),m=0;m<_.length;m++)p[_[m].id]=_[m];for(var y=0;y<_.length;y++)"ref"in _[y]&&(_[y]=At(_[y],p[_[y].ref]));return _}nt.workerCount=Math.max(Math.min(Mt,6),1);var St={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ra(_,p,m){m.push({command:St.addSource,args:[_,p[_]]})}function He(_,p,m){p.push({command:St.removeSource,args:[_]}),m[_]=!0}function we(_,p,m,y){He(_,m,y),Ra(_,p,m)}function tt(_,p,m){var y;for(y in _[m])if(_[m].hasOwnProperty(y)&&y!=="data"&&!r.deepEqual(_[m][y],p[m][y]))return!1;for(y in p[m])if(p[m].hasOwnProperty(y)&&y!=="data"&&!r.deepEqual(_[m][y],p[m][y]))return!1;return!0}function rt(_,p,m,y,S,L){var A;for(A in p=p||{},_=_||{})_.hasOwnProperty(A)&&(r.deepEqual(_[A],p[A])||m.push({command:L,args:[y,A,p[A],S]}));for(A in p)p.hasOwnProperty(A)&&!_.hasOwnProperty(A)&&(r.deepEqual(_[A],p[A])||m.push({command:L,args:[y,A,p[A],S]}))}function Yt(_){return _.id}function ya(_,p){return _[p.id]=p,_}var vi=function(_,p){this.reset(_,p)};vi.prototype.reset=function(_,p){this.points=_||[],this._distances=[0];for(var m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding},vi.prototype.lerp=function(_){if(this.points.length===1)return this.points[0];_=r.clamp(_,0,1);for(var p=1,m=this._distances[p],y=_*this.paddedLength+this.padding;m<y&&p<this._distances.length;)m=this._distances[++p];var S=p-1,L=this._distances[S],A=m-L,O=A>0?(y-L)/A:0;return this.points[S].mult(1-O).add(this.points[p].mult(O))};var Ta=function(_,p,m){var y=this.boxCells=[],S=this.circleCells=[];this.xCellCount=Math.ceil(_/m),this.yCellCount=Math.ceil(p/m);for(var L=0;L<this.xCellCount*this.yCellCount;L++)y.push([]),S.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=_,this.height=p,this.xScale=this.xCellCount/_,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0};function Ii(_,p,m,y,S){var L=r.create();return p?(r.scale(L,L,[1/S,1/S,1]),m||r.rotateZ(L,L,y.angle)):r.multiply(L,y.labelPlaneMatrix,_),L}function Ea(_,p,m,y,S){if(p){var L=r.clone(_);return r.scale(L,L,[S,S,1]),m||r.rotateZ(L,L,-y.angle),L}return y.glCoordMatrix}function Wa(_,p){var m=[_.x,_.y,0,1];ar(m,m,p);var y=m[3];return{point:new r.Point(m[0]/y,m[1]/y),signedDistanceFromCamera:y}}function li(_,p){return .5+_/p*.5}function Pr(_,p){var m=_[0]/_[3],y=_[1]/_[3];return m>=-p[0]&&m<=p[0]&&y>=-p[1]&&y<=p[1]}function kh(_,p,m,y,S,L,A,O){var N=y?_.textSizeData:_.iconSizeData,U=r.evaluateSizeForZoom(N,m.transform.zoom),Q=[256/m.width*2+1,256/m.height*2+1],J=y?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;J.clear();for(var te=_.lineVertexArray,de=y?_.text.placedSymbolArray:_.icon.placedSymbolArray,ce=m.transform.width/m.transform.height,ve=!1,re=0;re<de.length;re++){var ye=de.get(re);if(ye.hidden||ye.writingMode===r.WritingMode.vertical&&!ve)Dr(ye.numGlyphs,J);else{ve=!1;var Me=[ye.anchorX,ye.anchorY,0,1];if(r.transformMat4(Me,Me,p),Pr(Me,Q)){var ke=li(m.transform.cameraToCenterDistance,Me[3]),Be=r.evaluateSizeForFeature(N,U,ye),Ne=A?Be/ke:Be*ke,Ue=new r.Point(ye.anchorX,ye.anchorY),at=Wa(Ue,S).point,mt={},ht=Uf(ye,Ne,!1,O,p,S,L,_.glyphOffsetArray,te,J,at,Ue,mt,ce);ve=ht.useVertical,(ht.notEnoughRoom||ve||ht.needsFlipping&&Uf(ye,Ne,!0,O,p,S,L,_.glyphOffsetArray,te,J,at,Ue,mt,ce).notEnoughRoom)&&Dr(ye.numGlyphs,J)}else Dr(ye.numGlyphs,J)}}y?_.text.dynamicLayoutVertexBuffer.updateData(J):_.icon.dynamicLayoutVertexBuffer.updateData(J)}function tr(_,p,m,y,S,L,A,O,N,U,Q){var J=O.glyphStartIndex+O.numGlyphs,te=O.lineStartIndex,de=O.lineStartIndex+O.lineLength,ce=p.getoffsetX(O.glyphStartIndex),ve=p.getoffsetX(J-1),re=Tn(_*ce,m,y,S,L,A,O.segment,te,de,N,U,Q);if(!re)return null;var ye=Tn(_*ve,m,y,S,L,A,O.segment,te,de,N,U,Q);return ye?{first:re,last:ye}:null}function $r(_,p,m,y){return _===r.WritingMode.horizontal&&Math.abs(m.y-p.y)>Math.abs(m.x-p.x)*y?{useVertical:!0}:(_===r.WritingMode.vertical?p.y<m.y:p.x>m.x)?{needsFlipping:!0}:null}function Uf(_,p,m,y,S,L,A,O,N,U,Q,J,te,de){var ce,ve=p/24,re=_.lineOffsetX*ve,ye=_.lineOffsetY*ve;if(_.numGlyphs>1){var Me=_.glyphStartIndex+_.numGlyphs,ke=_.lineStartIndex,Be=_.lineStartIndex+_.lineLength,Ne=tr(ve,O,re,ye,m,Q,J,_,N,L,te);if(!Ne)return{notEnoughRoom:!0};var Ue=Wa(Ne.first.point,A).point,at=Wa(Ne.last.point,A).point;if(y&&!m){var mt=$r(_.writingMode,Ue,at,de);if(mt)return mt}ce=[Ne.first];for(var ht=_.glyphStartIndex+1;ht<Me-1;ht++)ce.push(Tn(ve*O.getoffsetX(ht),re,ye,m,Q,J,_.segment,ke,Be,N,L,te));ce.push(Ne.last)}else{if(y&&!m){var Rt=Wa(J,S).point,$t=_.lineStartIndex+_.segment+1,ia=new r.Point(N.getx($t),N.gety($t)),ta=Wa(ia,S),ui=ta.signedDistanceFromCamera>0?ta.point:Ph(J,ia,Rt,1,S),kt=$r(_.writingMode,Rt,ui,de);if(kt)return kt}var pa=Tn(ve*O.getoffsetX(_.glyphStartIndex),re,ye,m,Q,J,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,N,L,te);if(!pa)return{notEnoughRoom:!0};ce=[pa]}for(var Oa=0,ha=ce;Oa<ha.length;Oa+=1){var da=ha[Oa];r.addDynamicAttributes(U,da.point,da.angle)}return{}}function Ph(_,p,m,y,S){var L=Wa(_.add(_.sub(p)._unit()),S).point,A=m.sub(L);return m.add(A._mult(y/A.mag()))}function Tn(_,p,m,y,S,L,A,O,N,U,Q,J){var te=y?_-p:_+p,de=te>0?1:-1,ce=0;y&&(de*=-1,ce=Math.PI),de<0&&(ce+=Math.PI);for(var ve=de>0?O+A:O+A+1,re=S,ye=S,Me=0,ke=0,Be=Math.abs(te),Ne=[];Me+ke<=Be;){if((ve+=de)<O||ve>=N)return null;if(ye=re,Ne.push(re),(re=J[ve])===void 0){var Ue=new r.Point(U.getx(ve),U.gety(ve)),at=Wa(Ue,Q);if(at.signedDistanceFromCamera>0)re=J[ve]=at.point;else{var mt=ve-de;re=Ph(Me===0?L:new r.Point(U.getx(mt),U.gety(mt)),Ue,ye,Be-Me+1,Q)}}Me+=ke,ke=ye.dist(re)}var ht=(Be-Me)/ke,Rt=re.sub(ye),$t=Rt.mult(ht)._add(ye);$t._add(Rt._unit()._perp()._mult(m*de));var ia=ce+Math.atan2(re.y-ye.y,re.x-ye.x);return Ne.push($t),{point:$t,angle:ia,path:Ne}}Ta.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ta.prototype.insert=function(_,p,m,y,S){this._forEachCell(p,m,y,S,this._insertBoxCell,this.boxUid++),this.boxKeys.push(_),this.bboxes.push(p),this.bboxes.push(m),this.bboxes.push(y),this.bboxes.push(S)},Ta.prototype.insertCircle=function(_,p,m,y){this._forEachCell(p-y,m-y,p+y,m+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(_),this.circles.push(p),this.circles.push(m),this.circles.push(y)},Ta.prototype._insertBoxCell=function(_,p,m,y,S,L){this.boxCells[S].push(L)},Ta.prototype._insertCircleCell=function(_,p,m,y,S,L){this.circleCells[S].push(L)},Ta.prototype._query=function(_,p,m,y,S,L){if(m<0||_>this.width||y<0||p>this.height)return!S&&[];var A=[];if(_<=0&&p<=0&&this.width<=m&&this.height<=y){if(S)return!0;for(var O=0;O<this.boxKeys.length;O++)A.push({key:this.boxKeys[O],x1:this.bboxes[4*O],y1:this.bboxes[4*O+1],x2:this.bboxes[4*O+2],y2:this.bboxes[4*O+3]});for(var N=0;N<this.circleKeys.length;N++){var U=this.circles[3*N],Q=this.circles[3*N+1],J=this.circles[3*N+2];A.push({key:this.circleKeys[N],x1:U-J,y1:Q-J,x2:U+J,y2:Q+J})}return L?A.filter(L):A}return this._forEachCell(_,p,m,y,this._queryCell,A,{hitTest:S,seenUids:{box:{},circle:{}}},L),S?A.length>0:A},Ta.prototype._queryCircle=function(_,p,m,y,S){var L=_-m,A=_+m,O=p-m,N=p+m;if(A<0||L>this.width||N<0||O>this.height)return!y&&[];var U=[];return this._forEachCell(L,O,A,N,this._queryCellCircle,U,{hitTest:y,circle:{x:_,y:p,radius:m},seenUids:{box:{},circle:{}}},S),y?U.length>0:U},Ta.prototype.query=function(_,p,m,y,S){return this._query(_,p,m,y,!1,S)},Ta.prototype.hitTest=function(_,p,m,y,S){return this._query(_,p,m,y,!0,S)},Ta.prototype.hitTestCircle=function(_,p,m,y){return this._queryCircle(_,p,m,!0,y)},Ta.prototype._queryCell=function(_,p,m,y,S,L,A,O){var N=A.seenUids,U=this.boxCells[S];if(U!==null)for(var Q=this.bboxes,J=0,te=U;J<te.length;J+=1){var de=te[J];if(!N.box[de]){N.box[de]=!0;var ce=4*de;if(_<=Q[ce+2]&&p<=Q[ce+3]&&m>=Q[ce+0]&&y>=Q[ce+1]&&(!O||O(this.boxKeys[de]))){if(A.hitTest)return L.push(!0),!0;L.push({key:this.boxKeys[de],x1:Q[ce],y1:Q[ce+1],x2:Q[ce+2],y2:Q[ce+3]})}}}var ve=this.circleCells[S];if(ve!==null)for(var re=this.circles,ye=0,Me=ve;ye<Me.length;ye+=1){var ke=Me[ye];if(!N.circle[ke]){N.circle[ke]=!0;var Be=3*ke;if(this._circleAndRectCollide(re[Be],re[Be+1],re[Be+2],_,p,m,y)&&(!O||O(this.circleKeys[ke]))){if(A.hitTest)return L.push(!0),!0;var Ne=re[Be],Ue=re[Be+1],at=re[Be+2];L.push({key:this.circleKeys[ke],x1:Ne-at,y1:Ue-at,x2:Ne+at,y2:Ue+at})}}}},Ta.prototype._queryCellCircle=function(_,p,m,y,S,L,A,O){var N=A.circle,U=A.seenUids,Q=this.boxCells[S];if(Q!==null)for(var J=this.bboxes,te=0,de=Q;te<de.length;te+=1){var ce=de[te];if(!U.box[ce]){U.box[ce]=!0;var ve=4*ce;if(this._circleAndRectCollide(N.x,N.y,N.radius,J[ve+0],J[ve+1],J[ve+2],J[ve+3])&&(!O||O(this.boxKeys[ce])))return L.push(!0),!0}}var re=this.circleCells[S];if(re!==null)for(var ye=this.circles,Me=0,ke=re;Me<ke.length;Me+=1){var Be=ke[Me];if(!U.circle[Be]){U.circle[Be]=!0;var Ne=3*Be;if(this._circlesCollide(ye[Ne],ye[Ne+1],ye[Ne+2],N.x,N.y,N.radius)&&(!O||O(this.circleKeys[Be])))return L.push(!0),!0}}},Ta.prototype._forEachCell=function(_,p,m,y,S,L,A,O){for(var N=this._convertToXCellCoord(_),U=this._convertToYCellCoord(p),Q=this._convertToXCellCoord(m),J=this._convertToYCellCoord(y),te=N;te<=Q;te++)for(var de=U;de<=J;de++)if(S.call(this,_,p,m,y,this.xCellCount*de+te,L,A,O))return},Ta.prototype._convertToXCellCoord=function(_){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(_*this.xScale)))},Ta.prototype._convertToYCellCoord=function(_){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(_*this.yScale)))},Ta.prototype._circlesCollide=function(_,p,m,y,S,L){var A=y-_,O=S-p,N=m+L;return N*N>A*A+O*O},Ta.prototype._circleAndRectCollide=function(_,p,m,y,S,L,A){var O=(L-y)/2,N=Math.abs(_-(y+O));if(N>O+m)return!1;var U=(A-S)/2,Q=Math.abs(p-(S+U));if(Q>U+m)return!1;if(N<=O||Q<=U)return!0;var J=N-O,te=Q-U;return J*J+te*te<=m*m};var Dh=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Dr(_,p){for(var m=0;m<_;m++){var y=p.length;p.resize(y+4),p.float32.set(Dh,3*y)}}function ar(_,p,m){var y=p[0],S=p[1];return _[0]=m[0]*y+m[4]*S+m[12],_[1]=m[1]*y+m[5]*S+m[13],_[3]=m[3]*y+m[7]*S+m[15],_}var eo=function(_,p,m){p===void 0&&(p=new Ta(_.width+200,_.height+200,25)),m===void 0&&(m=new Ta(_.width+200,_.height+200,25)),this.transform=_,this.grid=p,this.ignoredGrid=m,this.pitchfactor=Math.cos(_._pitch)*_.cameraToCenterDistance,this.screenRightBoundary=_.width+100,this.screenBottomBoundary=_.height+100,this.gridRightBoundary=_.width+200,this.gridBottomBoundary=_.height+200};function $i(_,p,m){return p*(r.EXTENT/(_.tileSize*Math.pow(2,m-_.tileID.overscaledZ)))}eo.prototype.placeCollisionBox=function(_,p,m,y,S){var L=this.projectAndGetPerspectiveRatio(y,_.anchorPointX,_.anchorPointY),A=m*L.perspectiveRatio,O=_.x1*A+L.point.x,N=_.y1*A+L.point.y,U=_.x2*A+L.point.x,Q=_.y2*A+L.point.y;return!this.isInsideGrid(O,N,U,Q)||!p&&this.grid.hitTest(O,N,U,Q,S)?{box:[],offscreen:!1}:{box:[O,N,U,Q],offscreen:this.isOffscreen(O,N,U,Q)}},eo.prototype.placeCollisionCircles=function(_,p,m,y,S,L,A,O,N,U,Q,J,te){var de=[],ce=new r.Point(p.anchorX,p.anchorY),ve=Wa(ce,L),re=li(this.transform.cameraToCenterDistance,ve.signedDistanceFromCamera),ye=(U?S/re:S*re)/r.ONE_EM,Me=Wa(ce,A).point,ke=tr(ye,y,p.lineOffsetX*ye,p.lineOffsetY*ye,!1,Me,ce,p,m,A,{}),Be=!1,Ne=!1,Ue=!0;if(ke){for(var at=.5*J*re+te,mt=new r.Point(-100,-100),ht=new r.Point(this.screenRightBoundary,this.screenBottomBoundary),Rt=new vi,$t=ke.first,ia=ke.last,ta=[],ui=$t.path.length-1;ui>=1;ui--)ta.push($t.path[ui]);for(var kt=1;kt<ia.path.length;kt++)ta.push(ia.path[kt]);var pa=2.5*at;if(O){var Oa=ta.map(function(so){return Wa(so,O)});ta=Oa.some(function(so){return so.signedDistanceFromCamera<=0})?[]:Oa.map(function(so){return so.point})}var ha=[];if(ta.length>0){for(var da=ta[0].clone(),Ia=ta[0].clone(),ua=1;ua<ta.length;ua++)da.x=Math.min(da.x,ta[ua].x),da.y=Math.min(da.y,ta[ua].y),Ia.x=Math.max(Ia.x,ta[ua].x),Ia.y=Math.max(Ia.y,ta[ua].y);ha=da.x>=mt.x&&Ia.x<=ht.x&&da.y>=mt.y&&Ia.y<=ht.y?[ta]:Ia.x<mt.x||da.x>ht.x||Ia.y<mt.y||da.y>ht.y?[]:r.clipLine([ta],mt.x,mt.y,ht.x,ht.y)}for(var ra=0,Hn=ha;ra<Hn.length;ra+=1){var gn;Rt.reset(Hn[ra],.25*at),gn=Rt.length<=.5*at?1:Math.ceil(Rt.paddedLength/pa)+1;for(var Mr=0;Mr<gn;Mr++){var nr=Mr/Math.max(gn-1,1),dn=Rt.lerp(nr),En=dn.x+100,ys=dn.y+100;de.push(En,ys,at,0);var zr=En-at,du=ys-at,Qr=En+at,Io=ys+at;if(Ue=Ue&&this.isOffscreen(zr,du,Qr,Io),Ne=Ne||this.isInsideGrid(zr,du,Qr,Io),!_&&this.grid.hitTestCircle(En,ys,at,Q)&&(Be=!0,!N))return{circles:[],offscreen:!1,collisionDetected:Be}}}}return{circles:!N&&Be||!Ne?[]:de,offscreen:Ue,collisionDetected:Be}},eo.prototype.queryRenderedSymbols=function(_){if(_.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var p=[],m=1/0,y=1/0,S=-1/0,L=-1/0,A=0,O=_;A<O.length;A+=1){var N=O[A],U=new r.Point(N.x+100,N.y+100);m=Math.min(m,U.x),y=Math.min(y,U.y),S=Math.max(S,U.x),L=Math.max(L,U.y),p.push(U)}for(var Q={},J={},te=0,de=this.grid.query(m,y,S,L).concat(this.ignoredGrid.query(m,y,S,L));te<de.length;te+=1){var ce=de[te],ve=ce.key;if(Q[ve.bucketInstanceId]===void 0&&(Q[ve.bucketInstanceId]={}),!Q[ve.bucketInstanceId][ve.featureIndex]){var re=[new r.Point(ce.x1,ce.y1),new r.Point(ce.x2,ce.y1),new r.Point(ce.x2,ce.y2),new r.Point(ce.x1,ce.y2)];r.polygonIntersectsPolygon(p,re)&&(Q[ve.bucketInstanceId][ve.featureIndex]=!0,J[ve.bucketInstanceId]===void 0&&(J[ve.bucketInstanceId]=[]),J[ve.bucketInstanceId].push(ve.featureIndex))}}return J},eo.prototype.insertCollisionBox=function(_,p,m,y,S){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:m,featureIndex:y,collisionGroupID:S},_[0],_[1],_[2],_[3])},eo.prototype.insertCollisionCircles=function(_,p,m,y,S){for(var L=p?this.ignoredGrid:this.grid,A={bucketInstanceId:m,featureIndex:y,collisionGroupID:S},O=0;O<_.length;O+=4)L.insertCircle(A,_[O],_[O+1],_[O+2])},eo.prototype.projectAndGetPerspectiveRatio=function(_,p,m){var y=[p,m,0,1];return ar(y,y,_),{point:new r.Point((y[0]/y[3]+1)/2*this.transform.width+100,(-y[1]/y[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/y[3]*.5}},eo.prototype.isOffscreen=function(_,p,m,y){return m<100||_>=this.screenRightBoundary||y<100||p>this.screenBottomBoundary},eo.prototype.isInsideGrid=function(_,p,m,y){return m>=0&&_<this.gridRightBoundary&&y>=0&&p<this.gridBottomBoundary},eo.prototype.getViewportMatrix=function(){var _=r.identity([]);return r.translate(_,_,[-100,-100,0]),_};var To=function(_,p,m,y){this.opacity=_?Math.max(0,Math.min(1,_.opacity+(_.placed?p:-p))):y&&m?1:0,this.placed=m};To.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var ks=function(_,p,m,y,S){this.text=new To(_?_.text:null,p,m,S),this.icon=new To(_?_.icon:null,p,y,S)};ks.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var K0=function(_,p,m){this.text=_,this.icon=p,this.skipFade=m},to=function(){this.invProjMatrix=r.create(),this.viewportMatrix=r.create(),this.circles=[]},$x=function(_,p,m,y,S){this.bucketInstanceId=_,this.featureIndex=p,this.sourceLayerIndex=m,this.bucketIndex=y,this.tileID=S},ml=function(_){this.crossSourceCollisions=_,this.maxGroupID=0,this.collisionGroups={}};function hr(_,p,m,y,S){var L=r.getAnchorAlignment(_),A=-(L.horizontalAlign-.5)*p,O=-(L.verticalAlign-.5)*m,N=r.evaluateVariableOffset(_,y);return new r.Point(A+N[0]*S,O+N[1]*S)}function Zo(_,p,m,y,S,L){var A=_.x1,O=_.x2,N=_.y1,U=_.y2,Q=_.anchorPointX,J=_.anchorPointY,te=new r.Point(p,m);return y&&te._rotate(S?L:-L),{x1:A+te.x,y1:N+te.y,x2:O+te.x,y2:U+te.y,anchorPointX:Q,anchorPointY:J}}ml.prototype.get=function(_){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[_]){var p=++this.maxGroupID;this.collisionGroups[_]={ID:p,predicate:function(m){return m.collisionGroupID===p}}}return this.collisionGroups[_]};var Fr=function(_,p,m,y){this.transform=_.clone(),this.collisionIndex=new eo(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new ml(m),this.collisionCircleArrays={},this.prevPlacement=y,y&&(y.prevPlacement=void 0),this.placedOrientations={}};function Vu(_,p,m,y,S){_.emplaceBack(p?1:0,m?1:0,y||0,S||0),_.emplaceBack(p?1:0,m?1:0,y||0,S||0),_.emplaceBack(p?1:0,m?1:0,y||0,S||0),_.emplaceBack(p?1:0,m?1:0,y||0,S||0)}Fr.prototype.getBucketParts=function(_,p,m,y){var S=m.getBucket(p),L=m.latestFeatureIndex;if(S&&L&&p.id===S.layerIds[0]){var A=m.collisionBoxArray,O=S.layers[0].layout,N=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),U=m.tileSize/r.EXTENT,Q=this.transform.calculatePosMatrix(m.tileID.toUnwrapped()),J=O.get("text-pitch-alignment")==="map",te=O.get("text-rotation-alignment")==="map",de=$i(m,1,this.transform.zoom),ce=Ii(Q,J,te,this.transform,de),ve=null;if(J){var re=Ea(Q,J,te,this.transform,de);ve=r.multiply([],this.transform.labelPlaneMatrix,re)}this.retainedQueryData[S.bucketInstanceId]=new $x(S.bucketInstanceId,L,S.sourceLayerIndex,S.index,m.tileID);var ye={bucket:S,layout:O,posMatrix:Q,textLabelPlaneMatrix:ce,labelToScreenMatrix:ve,scale:N,textPixelRatio:U,holdingForFade:m.holdingForFade(),collisionBoxArray:A,partiallyEvaluatedTextSize:r.evaluateSizeForZoom(S.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(S.sourceID)};if(y)for(var Me=0,ke=S.sortKeyRanges;Me<ke.length;Me+=1){var Be=ke[Me];_.push({sortKey:Be.sortKey,symbolInstanceStart:Be.symbolInstanceStart,symbolInstanceEnd:Be.symbolInstanceEnd,parameters:ye})}else _.push({symbolInstanceStart:0,symbolInstanceEnd:S.symbolInstances.length,parameters:ye})}},Fr.prototype.attemptAnchorPlacement=function(_,p,m,y,S,L,A,O,N,U,Q,J,te,de,ce){var ve,re=[J.textOffset0,J.textOffset1],ye=hr(_,m,y,re,S),Me=this.collisionIndex.placeCollisionBox(Zo(p,ye.x,ye.y,L,A,this.transform.angle),Q,O,N,U.predicate);if(!ce||this.collisionIndex.placeCollisionBox(Zo(ce,ye.x,ye.y,L,A,this.transform.angle),Q,O,N,U.predicate).box.length!==0)return Me.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[J.crossTileID]&&this.prevPlacement.placements[J.crossTileID]&&this.prevPlacement.placements[J.crossTileID].text&&(ve=this.prevPlacement.variableOffsets[J.crossTileID].anchor),this.variableOffsets[J.crossTileID]={textOffset:re,width:m,height:y,anchor:_,textBoxScale:S,prevAnchor:ve},this.markUsedJustification(te,_,J,de),te.allowVerticalPlacement&&(this.markUsedOrientation(te,de,J),this.placedOrientations[J.crossTileID]=de),{shift:ye,placedGlyphBoxes:Me}):void 0},Fr.prototype.placeLayerBucketPart=function(_,p,m){var y=this,S=_.parameters,L=S.bucket,A=S.layout,O=S.posMatrix,N=S.textLabelPlaneMatrix,U=S.labelToScreenMatrix,Q=S.textPixelRatio,J=S.holdingForFade,te=S.collisionBoxArray,de=S.partiallyEvaluatedTextSize,ce=S.collisionGroup,ve=A.get("text-optional"),re=A.get("icon-optional"),ye=A.get("text-allow-overlap"),Me=A.get("icon-allow-overlap"),ke=A.get("text-rotation-alignment")==="map",Be=A.get("text-pitch-alignment")==="map",Ne=A.get("icon-text-fit")!=="none",Ue=A.get("symbol-z-order")==="viewport-y",at=ye&&(Me||!L.hasIconData()||re),mt=Me&&(ye||!L.hasTextData()||ve);!L.collisionArrays&&te&&L.deserializeCollisionBoxes(te);var ht=function(kt,pa){if(!p[kt.crossTileID])if(J)y.placements[kt.crossTileID]=new K0(!1,!1,!1);else{var Oa,ha=!1,da=!1,Ia=!0,ua=null,ra={box:null,offscreen:null},Hn={box:null,offscreen:null},gn=null,Mr=null,nr=0,dn=0,En=0;pa.textFeatureIndex?nr=pa.textFeatureIndex:kt.useRuntimeCollisionCircles&&(nr=kt.featureIndex),pa.verticalTextFeatureIndex&&(dn=pa.verticalTextFeatureIndex);var ys=pa.textBox;if(ys){var zr=function(pi){var Fs=r.WritingMode.horizontal;if(L.allowVerticalPlacement&&!pi&&y.prevPlacement){var Jr=y.prevPlacement.placedOrientations[kt.crossTileID];Jr&&(y.placedOrientations[kt.crossTileID]=Jr,y.markUsedOrientation(L,Fs=Jr,kt))}return Fs},du=function(pi,Fs){if(L.allowVerticalPlacement&&kt.numVerticalGlyphVertices>0&&pa.verticalTextBox)for(var Jr=0,lc=L.writingModes;Jr<lc.length&&(lc[Jr]===r.WritingMode.vertical?(ra=Fs(),Hn=ra):ra=pi(),!(ra&&ra.box&&ra.box.length));Jr+=1);else ra=pi()};if(A.get("text-variable-anchor")){var Qr=A.get("text-variable-anchor");if(y.prevPlacement&&y.prevPlacement.variableOffsets[kt.crossTileID]){var Io=y.prevPlacement.variableOffsets[kt.crossTileID];Qr.indexOf(Io.anchor)>0&&(Qr=Qr.filter(function(pi){return pi!==Io.anchor})).unshift(Io.anchor)}var so=function(pi,Fs,Jr){for(var lc=pi.x2-pi.x1,dw=pi.y2-pi.y1,Om=kt.textBoxScale,hw=Ne&&!Me?Fs:null,a_={box:[],offscreen:!1},L1=ye?2*Qr.length:Qr.length,gd=0;gd<L1;++gd){var km=y.attemptAnchorPlacement(Qr[gd%Qr.length],pi,lc,dw,Om,ke,Be,Q,O,ce,gd>=Qr.length,kt,L,Jr,hw);if(km&&(a_=km.placedGlyphBoxes)&&a_.box&&a_.box.length){ha=!0,ua=km.shift;break}}return a_};du(function(){return so(ys,pa.iconBox,r.WritingMode.horizontal)},function(){var pi=pa.verticalTextBox;return L.allowVerticalPlacement&&!(ra&&ra.box&&ra.box.length)&&kt.numVerticalGlyphVertices>0&&pi?so(pi,pa.verticalIconBox,r.WritingMode.vertical):{box:null,offscreen:null}}),ra&&(ha=ra.box,Ia=ra.offscreen);var Jh=zr(ra&&ra.box);if(!ha&&y.prevPlacement){var pd=y.prevPlacement.variableOffsets[kt.crossTileID];pd&&(y.variableOffsets[kt.crossTileID]=pd,y.markUsedJustification(L,pd.anchor,kt,Jh))}}else{var hu=function(pi,Fs){var Jr=y.collisionIndex.placeCollisionBox(pi,ye,Q,O,ce.predicate);return Jr&&Jr.box&&Jr.box.length&&(y.markUsedOrientation(L,Fs,kt),y.placedOrientations[kt.crossTileID]=Fs),Jr};du(function(){return hu(ys,r.WritingMode.horizontal)},function(){var pi=pa.verticalTextBox;return L.allowVerticalPlacement&&kt.numVerticalGlyphVertices>0&&pi?hu(pi,r.WritingMode.vertical):{box:null,offscreen:null}}),zr(ra&&ra.box&&ra.box.length)}}if(ha=(Oa=ra)&&Oa.box&&Oa.box.length>0,Ia=Oa&&Oa.offscreen,kt.useRuntimeCollisionCircles){var fd=L.text.placedSymbolArray.get(kt.centerJustifiedTextSymbolIndex),e_=r.evaluateSizeForFeature(L.textSizeData,de,fd),$o=A.get("text-padding");gn=y.collisionIndex.placeCollisionCircles(ye,fd,L.lineVertexArray,L.glyphOffsetArray,e_,O,N,U,m,Be,ce.predicate,kt.collisionCircleDiameter,$o),ha=ye||gn.circles.length>0&&!gn.collisionDetected,Ia=Ia&&gn.offscreen}if(pa.iconFeatureIndex&&(En=pa.iconFeatureIndex),pa.iconBox){var t_=function(pi){var Fs=Ne&&ua?Zo(pi,ua.x,ua.y,ke,Be,y.transform.angle):pi;return y.collisionIndex.placeCollisionBox(Fs,Me,Q,O,ce.predicate)};da=Hn&&Hn.box&&Hn.box.length&&pa.verticalIconBox?(Mr=t_(pa.verticalIconBox)).box.length>0:(Mr=t_(pa.iconBox)).box.length>0,Ia=Ia&&Mr.offscreen}var Qo=ve||kt.numHorizontalGlyphVertices===0&&kt.numVerticalGlyphVertices===0,Zn=re||kt.numIconVertices===0;if(Qo||Zn?Zn?Qo||(da=da&&ha):ha=da&&ha:da=ha=da&&ha,ha&&Oa&&Oa.box&&y.collisionIndex.insertCollisionBox(Oa.box,A.get("text-ignore-placement"),L.bucketInstanceId,Hn&&Hn.box&&dn?dn:nr,ce.ID),da&&Mr&&y.collisionIndex.insertCollisionBox(Mr.box,A.get("icon-ignore-placement"),L.bucketInstanceId,En,ce.ID),gn&&(ha&&y.collisionIndex.insertCollisionCircles(gn.circles,A.get("text-ignore-placement"),L.bucketInstanceId,nr,ce.ID),m)){var yl=L.bucketInstanceId,_u=y.collisionCircleArrays[yl];_u===void 0&&(_u=y.collisionCircleArrays[yl]=new to);for(var oc=0;oc<gn.circles.length;oc+=4)_u.circles.push(gn.circles[oc+0]),_u.circles.push(gn.circles[oc+1]),_u.circles.push(gn.circles[oc+2]),_u.circles.push(gn.collisionDetected?1:0)}y.placements[kt.crossTileID]=new K0(ha||at,da||mt,Ia||L.justReloaded),p[kt.crossTileID]=!0}};if(Ue)for(var Rt=L.getSortedSymbolIndexes(this.transform.angle),$t=Rt.length-1;$t>=0;--$t){var ia=Rt[$t];ht(L.symbolInstances.get(ia),L.collisionArrays[ia])}else for(var ta=_.symbolInstanceStart;ta<_.symbolInstanceEnd;ta++)ht(L.symbolInstances.get(ta),L.collisionArrays[ta]);if(m&&L.bucketInstanceId in this.collisionCircleArrays){var ui=this.collisionCircleArrays[L.bucketInstanceId];r.invert(ui.invProjMatrix,O),ui.viewportMatrix=this.collisionIndex.getViewportMatrix()}L.justReloaded=!1},Fr.prototype.markUsedJustification=function(_,p,m,y){var S;S=y===r.WritingMode.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[r.getAnchorJustification(p)];for(var L=0,A=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];L<A.length;L+=1){var O=A[L];O>=0&&(_.text.placedSymbolArray.get(O).crossTileID=S>=0&&O!==S?0:m.crossTileID)}},Fr.prototype.markUsedOrientation=function(_,p,m){for(var y=p===r.WritingMode.horizontal||p===r.WritingMode.horizontalOnly?p:0,S=p===r.WritingMode.vertical?p:0,L=0,A=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];L<A.length;L+=1)_.text.placedSymbolArray.get(A[L]).placedOrientation=y;m.verticalPlacedTextSymbolIndex&&(_.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=S)},Fr.prototype.commit=function(_){this.commitTime=_,this.zoomAtLastRecencyCheck=this.transform.zoom;var p=this.prevPlacement,m=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;var y=p?p.symbolFadeChange(_):1,S=p?p.opacities:{},L=p?p.variableOffsets:{},A=p?p.placedOrientations:{};for(var O in this.placements){var N=this.placements[O],U=S[O];U?(this.opacities[O]=new ks(U,y,N.text,N.icon),m=m||N.text!==U.text.placed||N.icon!==U.icon.placed):(this.opacities[O]=new ks(null,y,N.text,N.icon,N.skipFade),m=m||N.text||N.icon)}for(var Q in S){var J=S[Q];if(!this.opacities[Q]){var te=new ks(J,y,!1,!1);te.isHidden()||(this.opacities[Q]=te,m=m||J.text.placed||J.icon.placed)}}for(var de in L)this.variableOffsets[de]||!this.opacities[de]||this.opacities[de].isHidden()||(this.variableOffsets[de]=L[de]);for(var ce in A)this.placedOrientations[ce]||!this.opacities[ce]||this.opacities[ce].isHidden()||(this.placedOrientations[ce]=A[ce]);m?this.lastPlacementChangeTime=_:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:_)},Fr.prototype.updateLayerOpacities=function(_,p){for(var m={},y=0,S=p;y<S.length;y+=1){var L=S[y],A=L.getBucket(_);A&&L.latestFeatureIndex&&_.id===A.layerIds[0]&&this.updateBucketOpacities(A,m,L.collisionBoxArray)}},Fr.prototype.updateBucketOpacities=function(_,p,m){var y=this;_.hasTextData()&&_.text.opacityVertexArray.clear(),_.hasIconData()&&_.icon.opacityVertexArray.clear(),_.hasIconCollisionBoxData()&&_.iconCollisionBox.collisionVertexArray.clear(),_.hasTextCollisionBoxData()&&_.textCollisionBox.collisionVertexArray.clear();var S=_.layers[0].layout,L=new ks(null,0,!1,!1,!0),A=S.get("text-allow-overlap"),O=S.get("icon-allow-overlap"),N=S.get("text-variable-anchor"),U=S.get("text-rotation-alignment")==="map",Q=S.get("text-pitch-alignment")==="map",J=S.get("icon-text-fit")!=="none",te=new ks(null,0,A&&(O||!_.hasIconData()||S.get("icon-optional")),O&&(A||!_.hasTextData()||S.get("text-optional")),!0);!_.collisionArrays&&m&&(_.hasIconCollisionBoxData()||_.hasTextCollisionBoxData())&&_.deserializeCollisionBoxes(m);for(var de=function(ye,Me,ke){for(var Be=0;Be<Me/4;Be++)ye.opacityVertexArray.emplaceBack(ke)},ce=function(ye){var Me=_.symbolInstances.get(ye),ke=Me.numHorizontalGlyphVertices,Be=Me.numVerticalGlyphVertices,Ne=Me.crossTileID,Ue=y.opacities[Ne];p[Ne]?Ue=L:Ue||(y.opacities[Ne]=Ue=te),p[Ne]=!0;var at=Me.numIconVertices>0,mt=y.placedOrientations[Me.crossTileID],ht=mt===r.WritingMode.vertical,Rt=mt===r.WritingMode.horizontal||mt===r.WritingMode.horizontalOnly;if(ke>0||Be>0){var $t=J0(Ue.text);de(_.text,ke,ht?nd:$t),de(_.text,Be,Rt?nd:$t);var ia=Ue.text.isHidden();[Me.rightJustifiedTextSymbolIndex,Me.centerJustifiedTextSymbolIndex,Me.leftJustifiedTextSymbolIndex].forEach(function(ra){ra>=0&&(_.text.placedSymbolArray.get(ra).hidden=ia||ht?1:0)}),Me.verticalPlacedTextSymbolIndex>=0&&(_.text.placedSymbolArray.get(Me.verticalPlacedTextSymbolIndex).hidden=ia||Rt?1:0);var ta=y.variableOffsets[Me.crossTileID];ta&&y.markUsedJustification(_,ta.anchor,Me,mt);var ui=y.placedOrientations[Me.crossTileID];ui&&(y.markUsedJustification(_,"left",Me,ui),y.markUsedOrientation(_,ui,Me))}if(at){var kt=J0(Ue.icon),pa=!(J&&Me.verticalPlacedIconSymbolIndex&&ht);Me.placedIconSymbolIndex>=0&&(de(_.icon,Me.numIconVertices,pa?kt:nd),_.icon.placedSymbolArray.get(Me.placedIconSymbolIndex).hidden=Ue.icon.isHidden()),Me.verticalPlacedIconSymbolIndex>=0&&(de(_.icon,Me.numVerticalIconVertices,pa?nd:kt),_.icon.placedSymbolArray.get(Me.verticalPlacedIconSymbolIndex).hidden=Ue.icon.isHidden())}if(_.hasIconCollisionBoxData()||_.hasTextCollisionBoxData()){var Oa=_.collisionArrays[ye];if(Oa){var ha=new r.Point(0,0);if(Oa.textBox||Oa.verticalTextBox){var da=!0;if(N){var Ia=y.variableOffsets[Ne];Ia?(ha=hr(Ia.anchor,Ia.width,Ia.height,Ia.textOffset,Ia.textBoxScale),U&&ha._rotate(Q?y.transform.angle:-y.transform.angle)):da=!1}Oa.textBox&&Vu(_.textCollisionBox.collisionVertexArray,Ue.text.placed,!da||ht,ha.x,ha.y),Oa.verticalTextBox&&Vu(_.textCollisionBox.collisionVertexArray,Ue.text.placed,!da||Rt,ha.x,ha.y)}var ua=!!(!Rt&&Oa.verticalIconBox);Oa.iconBox&&Vu(_.iconCollisionBox.collisionVertexArray,Ue.icon.placed,ua,J?ha.x:0,J?ha.y:0),Oa.verticalIconBox&&Vu(_.iconCollisionBox.collisionVertexArray,Ue.icon.placed,!ua,J?ha.x:0,J?ha.y:0)}}},ve=0;ve<_.symbolInstances.length;ve++)ce(ve);if(_.sortFeatures(this.transform.angle),this.retainedQueryData[_.bucketInstanceId]&&(this.retainedQueryData[_.bucketInstanceId].featureSortOrder=_.featureSortOrder),_.hasTextData()&&_.text.opacityVertexBuffer&&_.text.opacityVertexBuffer.updateData(_.text.opacityVertexArray),_.hasIconData()&&_.icon.opacityVertexBuffer&&_.icon.opacityVertexBuffer.updateData(_.icon.opacityVertexArray),_.hasIconCollisionBoxData()&&_.iconCollisionBox.collisionVertexBuffer&&_.iconCollisionBox.collisionVertexBuffer.updateData(_.iconCollisionBox.collisionVertexArray),_.hasTextCollisionBoxData()&&_.textCollisionBox.collisionVertexBuffer&&_.textCollisionBox.collisionVertexBuffer.updateData(_.textCollisionBox.collisionVertexArray),_.bucketInstanceId in this.collisionCircleArrays){var re=this.collisionCircleArrays[_.bucketInstanceId];_.placementInvProjMatrix=re.invProjMatrix,_.placementViewportMatrix=re.viewportMatrix,_.collisionCircleArray=re.circles,delete this.collisionCircleArrays[_.bucketInstanceId]}},Fr.prototype.symbolFadeChange=function(_){return this.fadeDuration===0?1:(_-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Fr.prototype.zoomAdjustment=function(_){return Math.max(0,(this.transform.zoom-_)/1.5)},Fr.prototype.hasTransitions=function(_){return this.stale||_-this.lastPlacementChangeTime<this.fadeDuration},Fr.prototype.stillRecent=function(_,p){var m=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*m>_},Fr.prototype.setStale=function(){this.stale=!0};var Qx=Math.pow(2,25),Jx=Math.pow(2,24),Vf=Math.pow(2,17),ew=Math.pow(2,16),$0=Math.pow(2,9),tw=Math.pow(2,8),Q0=Math.pow(2,1);function J0(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;var p=_.placed?1:0,m=Math.floor(127*_.opacity);return m*Qx+p*Jx+m*Vf+p*ew+m*$0+p*tw+m*Q0+p}var nd=0,jf=function(_){this._sortAcrossTiles=_.layout.get("symbol-z-order")!=="viewport-y"&&_.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};jf.prototype.continuePlacement=function(_,p,m,y,S){for(var L=this._bucketParts;this._currentTileIndex<_.length;)if(p.getBucketParts(L,y,_[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,S())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,L.sort(function(A,O){return A.sortKey-O.sortKey}));this._currentPartIndex<L.length;)if(p.placeLayerBucketPart(L[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,S())return!0;return!1};var Fh=function(_,p,m,y,S,L,A){this.placement=new Fr(_,S,L,A),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=m,this._showCollisionBoxes=y,this._done=!1};Fh.prototype.isDone=function(){return this._done},Fh.prototype.continuePlacement=function(_,p,m){for(var y=this,S=r.browser.now(),L=function(){var N=r.browser.now()-S;return!y._forceFullPlacement&&N>2};this._currentPlacementIndex>=0;){var A=p[_[this._currentPlacementIndex]],O=this.placement.collisionIndex.transform.zoom;if(A.type==="symbol"&&(!A.minzoom||A.minzoom<=O)&&(!A.maxzoom||A.maxzoom>O)){if(this._inProgressLayer||(this._inProgressLayer=new jf(A)),this._inProgressLayer.continuePlacement(m[A.source],this.placement,this._showCollisionBoxes,A,L))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Fh.prototype.commit=function(_){return this.placement.commit(_),this.placement};var e1=512/r.EXTENT/2,hm=function(_,p,m){this.tileID=_,this.indexedSymbolInstances={},this.bucketInstanceId=m;for(var y=0;y<p.length;y++){var S=p.get(y),L=S.key;this.indexedSymbolInstances[L]||(this.indexedSymbolInstances[L]=[]),this.indexedSymbolInstances[L].push({crossTileID:S.crossTileID,coord:this.getScaledCoordinates(S,_)})}};hm.prototype.getScaledCoordinates=function(_,p){var m=e1/Math.pow(2,p.canonical.z-this.tileID.canonical.z);return{x:Math.floor((p.canonical.x*r.EXTENT+_.anchorX)*m),y:Math.floor((p.canonical.y*r.EXTENT+_.anchorY)*m)}},hm.prototype.findMatches=function(_,p,m){for(var y=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z),S=0;S<_.length;S++){var L=_.get(S);if(!L.crossTileID){var A=this.indexedSymbolInstances[L.key];if(A)for(var O=this.getScaledCoordinates(L,p),N=0,U=A;N<U.length;N+=1){var Q=U[N];if(Math.abs(Q.coord.x-O.x)<=y&&Math.abs(Q.coord.y-O.y)<=y&&!m[Q.crossTileID]){m[Q.crossTileID]=!0,L.crossTileID=Q.crossTileID;break}}}}};var ao=function(){this.maxCrossTileID=0};ao.prototype.generate=function(){return++this.maxCrossTileID};var $l=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};$l.prototype.handleWrapJump=function(_){var p=Math.round((_-this.lng)/360);if(p!==0)for(var m in this.indexes){var y=this.indexes[m],S={};for(var L in y){var A=y[L];A.tileID=A.tileID.unwrapTo(A.tileID.wrap+p),S[A.tileID.key]=A}this.indexes[m]=S}this.lng=_},$l.prototype.addBucket=function(_,p,m){if(this.indexes[_.overscaledZ]&&this.indexes[_.overscaledZ][_.key]){if(this.indexes[_.overscaledZ][_.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(_.overscaledZ,this.indexes[_.overscaledZ][_.key])}for(var y=0;y<p.symbolInstances.length;y++)p.symbolInstances.get(y).crossTileID=0;this.usedCrossTileIDs[_.overscaledZ]||(this.usedCrossTileIDs[_.overscaledZ]={});var S=this.usedCrossTileIDs[_.overscaledZ];for(var L in this.indexes){var A=this.indexes[L];if(Number(L)>_.overscaledZ)for(var O in A){var N=A[O];N.tileID.isChildOf(_)&&N.findMatches(p.symbolInstances,_,S)}else{var U=A[_.scaledTo(Number(L)).key];U&&U.findMatches(p.symbolInstances,_,S)}}for(var Q=0;Q<p.symbolInstances.length;Q++){var J=p.symbolInstances.get(Q);J.crossTileID||(J.crossTileID=m.generate(),S[J.crossTileID]=!0)}return this.indexes[_.overscaledZ]===void 0&&(this.indexes[_.overscaledZ]={}),this.indexes[_.overscaledZ][_.key]=new hm(_,p.symbolInstances,p.bucketInstanceId),!0},$l.prototype.removeBucketCrossTileIDs=function(_,p){for(var m in p.indexedSymbolInstances)for(var y=0,S=p.indexedSymbolInstances[m];y<S.length;y+=1)delete this.usedCrossTileIDs[_][S[y].crossTileID]},$l.prototype.removeStaleBuckets=function(_){var p=!1;for(var m in this.indexes){var y=this.indexes[m];for(var S in y)_[y[S].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,y[S]),delete y[S],p=!0)}return p};var Ql=function(){this.layerIndexes={},this.crossTileIDs=new ao,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ql.prototype.addLayer=function(_,p,m){var y=this.layerIndexes[_.id];y===void 0&&(y=this.layerIndexes[_.id]=new $l);var S=!1,L={};y.handleWrapJump(m);for(var A=0,O=p;A<O.length;A+=1){var N=O[A],U=N.getBucket(_);U&&_.id===U.layerIds[0]&&(U.bucketInstanceId||(U.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(N.tileID,U,this.crossTileIDs)&&(S=!0),L[U.bucketInstanceId]=!0)}return y.removeStaleBuckets(L)&&(S=!0),S},Ql.prototype.pruneUnusedLayers=function(_){var p={};for(var m in _.forEach(function(y){p[y]=!0}),this.layerIndexes)p[m]||delete this.layerIndexes[m]};var ju=function(_,p){return r.emitValidationErrors(_,p&&p.filter(function(m){return m.identifier!=="source.canvas"}))},Jl=r.pick(St,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),eu=r.pick(St,["setCenter","setZoom","setBearing","setPitch"]),_m=function(){var _={},p=r.styleSpec.$version;for(var m in r.styleSpec.$root){var y,S=r.styleSpec.$root[m];S.required&&(y=m==="version"?p:S.type==="array"?[]:{})!=null&&(_[m]=y)}return _}(),hs=function(_){function p(m,y){var S=this;y===void 0&&(y={}),_.call(this),this.map=m,this.dispatcher=new Ye(Ve(),this),this.imageManager=new F,this.imageManager.setEventedParent(this),this.glyphManager=new ie(m._requestManager,y.localIdeographFontFamily),this.lineAtlas=new Ae(256,512),this.crossTileSymbolIndex=new Ql,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new r.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",r.getReferrer());var L=this;this._rtlTextPluginCallback=p.registerForPluginStateChange(function(A){L.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:A.pluginStatus,pluginURL:A.pluginURL},function(O,N){if(r.triggerPluginCompletionEvent(O),N&&N.every(function(Q){return Q}))for(var U in L.sourceCaches)L.sourceCaches[U].reload()})}),this.on("data",function(A){if(A.dataType==="source"&&A.sourceDataType==="metadata"){var O=S.sourceCaches[A.sourceId];if(O){var N=O.getSource();if(N&&N.vectorLayerIds)for(var U in S._layers){var Q=S._layers[U];Q.source===N.id&&S._validateLayer(Q)}}}})}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.loadURL=function(m,y){var S=this;y===void 0&&(y={}),this.fire(new r.Event("dataloading",{dataType:"style"}));var L=typeof y.validate=="boolean"?y.validate:!r.isMapboxURL(m);m=this.map._requestManager.normalizeStyleURL(m,y.accessToken);var A=this.map._requestManager.transformRequest(m,r.ResourceType.Style);this._request=r.getJSON(A,function(O,N){S._request=null,O?S.fire(new r.ErrorEvent(O)):N&&S._load(N,L)})},p.prototype.loadJSON=function(m,y){var S=this;y===void 0&&(y={}),this.fire(new r.Event("dataloading",{dataType:"style"})),this._request=r.browser.frame(function(){S._request=null,S._load(m,y.validate!==!1)})},p.prototype.loadEmpty=function(){this.fire(new r.Event("dataloading",{dataType:"style"})),this._load(_m,!1)},p.prototype._load=function(m,y){if(!y||!ju(this,r.validateStyle(m))){for(var S in this._loaded=!0,this.stylesheet=m,m.sources)this.addSource(S,m.sources[S],{validate:!1});m.sprite?this._loadSprite(m.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(m.glyphs);var L=bt(this.stylesheet.layers);this._order=L.map(function(U){return U.id}),this._layers={},this._serializedLayers={};for(var A=0,O=L;A<O.length;A+=1){var N=O[A];(N=r.createStyleLayer(N)).setEventedParent(this,{layer:{id:N.id}}),this._layers[N.id]=N,this._serializedLayers[N.id]=N.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new be(this.stylesheet.light),this.fire(new r.Event("data",{dataType:"style"})),this.fire(new r.Event("style.load"))}},p.prototype._loadSprite=function(m){var y=this;this._spriteRequest=function(S,L,A){var O,N,U,Q=r.browser.devicePixelRatio>1?"@2x":"",J=r.getJSON(L.transformRequest(L.normalizeSpriteURL(S,Q,".json"),r.ResourceType.SpriteJSON),function(ce,ve){J=null,U||(U=ce,O=ve,de())}),te=r.getImage(L.transformRequest(L.normalizeSpriteURL(S,Q,".png"),r.ResourceType.SpriteImage),function(ce,ve){te=null,U||(U=ce,N=ve,de())});function de(){if(U)A(U);else if(O&&N){var ce=r.browser.getImageData(N),ve={};for(var re in O){var ye=O[re],Me=ye.width,ke=ye.height,Be=ye.x,Ne=ye.y,Ue=ye.sdf,at=ye.pixelRatio,mt=ye.stretchX,ht=ye.stretchY,Rt=ye.content,$t=new r.RGBAImage({width:Me,height:ke});r.RGBAImage.copy(ce,$t,{x:Be,y:Ne},{x:0,y:0},{width:Me,height:ke}),ve[re]={data:$t,pixelRatio:at,sdf:Ue,stretchX:mt,stretchY:ht,content:Rt}}A(null,ve)}}return{cancel:function(){J&&(J.cancel(),J=null),te&&(te.cancel(),te=null)}}}(m,this.map._requestManager,function(S,L){if(y._spriteRequest=null,S)y.fire(new r.ErrorEvent(S));else if(L)for(var A in L)y.imageManager.addImage(A,L[A]);y.imageManager.setLoaded(!0),y._availableImages=y.imageManager.listImages(),y.dispatcher.broadcast("setImages",y._availableImages),y.fire(new r.Event("data",{dataType:"style"}))})},p.prototype._validateLayer=function(m){var y=this.sourceCaches[m.source];if(y){var S=m.sourceLayer;if(S){var L=y.getSource();(L.type==="geojson"||L.vectorLayerIds&&L.vectorLayerIds.indexOf(S)===-1)&&this.fire(new r.ErrorEvent(new Error('Source layer "'+S+'" does not exist on source "'+L.id+'" as specified by style layer "'+m.id+'"')))}}},p.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var m in this.sourceCaches)if(!this.sourceCaches[m].loaded())return!1;return!!this.imageManager.isLoaded()},p.prototype._serializeLayers=function(m){for(var y=[],S=0,L=m;S<L.length;S+=1){var A=this._layers[L[S]];A.type!=="custom"&&y.push(A.serialize())}return y},p.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var m in this.sourceCaches)if(this.sourceCaches[m].hasTransition())return!0;for(var y in this._layers)if(this._layers[y].hasTransition())return!0;return!1},p.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},p.prototype.update=function(m){if(this._loaded){var y=this._changed;if(this._changed){var S=Object.keys(this._updatedLayers),L=Object.keys(this._removedLayers);for(var A in(S.length||L.length)&&this._updateWorkerLayers(S,L),this._updatedSources){var O=this._updatedSources[A];O==="reload"?this._reloadSource(A):O==="clear"&&this._clearSource(A)}for(var N in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[N].updateTransitions(m);this.light.updateTransitions(m),this._resetUpdates()}var U={};for(var Q in this.sourceCaches){var J=this.sourceCaches[Q];U[Q]=J.used,J.used=!1}for(var te=0,de=this._order;te<de.length;te+=1){var ce=this._layers[de[te]];ce.recalculate(m,this._availableImages),!ce.isHidden(m.zoom)&&ce.source&&(this.sourceCaches[ce.source].used=!0)}for(var ve in U){var re=this.sourceCaches[ve];U[ve]!==re.used&&re.fire(new r.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:ve}))}this.light.recalculate(m),this.z=m.zoom,y&&this.fire(new r.Event("data",{dataType:"style"}))}},p.prototype._updateTilesForChangedImages=function(){var m=Object.keys(this._changedImages);if(m.length){for(var y in this.sourceCaches)this.sourceCaches[y].reloadTilesForDependencies(["icons","patterns"],m);this._changedImages={}}},p.prototype._updateWorkerLayers=function(m,y){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(m),removedIds:y})},p.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},p.prototype.setState=function(m){var y=this;if(this._checkLoaded(),ju(this,r.validateStyle(m)))return!1;(m=r.clone$1(m)).layers=bt(m.layers);var S=function(A,O){if(!A)return[{command:St.setStyle,args:[O]}];var N=[];try{if(!r.deepEqual(A.version,O.version))return[{command:St.setStyle,args:[O]}];r.deepEqual(A.center,O.center)||N.push({command:St.setCenter,args:[O.center]}),r.deepEqual(A.zoom,O.zoom)||N.push({command:St.setZoom,args:[O.zoom]}),r.deepEqual(A.bearing,O.bearing)||N.push({command:St.setBearing,args:[O.bearing]}),r.deepEqual(A.pitch,O.pitch)||N.push({command:St.setPitch,args:[O.pitch]}),r.deepEqual(A.sprite,O.sprite)||N.push({command:St.setSprite,args:[O.sprite]}),r.deepEqual(A.glyphs,O.glyphs)||N.push({command:St.setGlyphs,args:[O.glyphs]}),r.deepEqual(A.transition,O.transition)||N.push({command:St.setTransition,args:[O.transition]}),r.deepEqual(A.light,O.light)||N.push({command:St.setLight,args:[O.light]});var U={},Q=[];(function(te,de,ce,ve){var re;for(re in de=de||{},te=te||{})te.hasOwnProperty(re)&&(de.hasOwnProperty(re)||He(re,ce,ve));for(re in de)de.hasOwnProperty(re)&&(te.hasOwnProperty(re)?r.deepEqual(te[re],de[re])||(te[re].type==="geojson"&&de[re].type==="geojson"&&tt(te,de,re)?ce.push({command:St.setGeoJSONSourceData,args:[re,de[re].data]}):we(re,de,ce,ve)):Ra(re,de,ce))})(A.sources,O.sources,Q,U);var J=[];A.layers&&A.layers.forEach(function(te){U[te.source]?N.push({command:St.removeLayer,args:[te.id]}):J.push(te)}),N=N.concat(Q),function(te,de,ce){de=de||[];var ve,re,ye,Me,ke,Be,Ne,Ue=(te=te||[]).map(Yt),at=de.map(Yt),mt=te.reduce(ya,{}),ht=de.reduce(ya,{}),Rt=Ue.slice(),$t=Object.create(null);for(ve=0,re=0;ve<Ue.length;ve++)ht.hasOwnProperty(ye=Ue[ve])?re++:(ce.push({command:St.removeLayer,args:[ye]}),Rt.splice(Rt.indexOf(ye,re),1));for(ve=0,re=0;ve<at.length;ve++)Rt[Rt.length-1-ve]!==(ye=at[at.length-1-ve])&&(mt.hasOwnProperty(ye)?(ce.push({command:St.removeLayer,args:[ye]}),Rt.splice(Rt.lastIndexOf(ye,Rt.length-re),1)):re++,ce.push({command:St.addLayer,args:[ht[ye],Be=Rt[Rt.length-ve]]}),Rt.splice(Rt.length-ve,0,ye),$t[ye]=!0);for(ve=0;ve<at.length;ve++)if(Me=mt[ye=at[ve]],ke=ht[ye],!$t[ye]&&!r.deepEqual(Me,ke))if(r.deepEqual(Me.source,ke.source)&&r.deepEqual(Me["source-layer"],ke["source-layer"])&&r.deepEqual(Me.type,ke.type)){for(Ne in rt(Me.layout,ke.layout,ce,ye,null,St.setLayoutProperty),rt(Me.paint,ke.paint,ce,ye,null,St.setPaintProperty),r.deepEqual(Me.filter,ke.filter)||ce.push({command:St.setFilter,args:[ye,ke.filter]}),r.deepEqual(Me.minzoom,ke.minzoom)&&r.deepEqual(Me.maxzoom,ke.maxzoom)||ce.push({command:St.setLayerZoomRange,args:[ye,ke.minzoom,ke.maxzoom]}),Me)Me.hasOwnProperty(Ne)&&Ne!=="layout"&&Ne!=="paint"&&Ne!=="filter"&&Ne!=="metadata"&&Ne!=="minzoom"&&Ne!=="maxzoom"&&(Ne.indexOf("paint.")===0?rt(Me[Ne],ke[Ne],ce,ye,Ne.slice(6),St.setPaintProperty):r.deepEqual(Me[Ne],ke[Ne])||ce.push({command:St.setLayerProperty,args:[ye,Ne,ke[Ne]]}));for(Ne in ke)ke.hasOwnProperty(Ne)&&!Me.hasOwnProperty(Ne)&&Ne!=="layout"&&Ne!=="paint"&&Ne!=="filter"&&Ne!=="metadata"&&Ne!=="minzoom"&&Ne!=="maxzoom"&&(Ne.indexOf("paint.")===0?rt(Me[Ne],ke[Ne],ce,ye,Ne.slice(6),St.setPaintProperty):r.deepEqual(Me[Ne],ke[Ne])||ce.push({command:St.setLayerProperty,args:[ye,Ne,ke[Ne]]}))}else ce.push({command:St.removeLayer,args:[ye]}),Be=Rt[Rt.lastIndexOf(ye)+1],ce.push({command:St.addLayer,args:[ke,Be]})}(J,O.layers,N)}catch(te){console.warn("Unable to compute style diff:",te),N=[{command:St.setStyle,args:[O]}]}return N}(this.serialize(),m).filter(function(A){return!(A.command in eu)});if(S.length===0)return!1;var L=S.filter(function(A){return!(A.command in Jl)});if(L.length>0)throw new Error("Unimplemented: "+L.map(function(A){return A.command}).join(", ")+".");return S.forEach(function(A){A.command!=="setTransition"&&y[A.command].apply(y,A.args)}),this.stylesheet=m,!0},p.prototype.addImage=function(m,y){if(this.getImage(m))return this.fire(new r.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(m,y),this._afterImageUpdated(m)},p.prototype.updateImage=function(m,y){this.imageManager.updateImage(m,y)},p.prototype.getImage=function(m){return this.imageManager.getImage(m)},p.prototype.removeImage=function(m){if(!this.getImage(m))return this.fire(new r.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(m),this._afterImageUpdated(m)},p.prototype._afterImageUpdated=function(m){this._availableImages=this.imageManager.listImages(),this._changedImages[m]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new r.Event("data",{dataType:"style"}))},p.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},p.prototype.addSource=function(m,y,S){var L=this;if(S===void 0&&(S={}),this._checkLoaded(),this.sourceCaches[m]!==void 0)throw new Error("There is already a source with this ID");if(!y.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(y).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(y.type)>=0&&this._validate(r.validateStyle.source,"sources."+m,y,null,S))){this.map&&this.map._collectResourceTiming&&(y.collectResourceTiming=!0);var A=this.sourceCaches[m]=new ue(m,y,this.dispatcher);A.style=this,A.setEventedParent(this,function(){return{isSourceLoaded:L.loaded(),source:A.serialize(),sourceId:m}}),A.onAdd(this.map),this._changed=!0}},p.prototype.removeSource=function(m){if(this._checkLoaded(),this.sourceCaches[m]===void 0)throw new Error("There is no source with this ID");for(var y in this._layers)if(this._layers[y].source===m)return this.fire(new r.ErrorEvent(new Error('Source "'+m+'" cannot be removed while layer "'+y+'" is using it.')));var S=this.sourceCaches[m];delete this.sourceCaches[m],delete this._updatedSources[m],S.fire(new r.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:m})),S.setEventedParent(null),S.clearTiles(),S.onRemove&&S.onRemove(this.map),this._changed=!0},p.prototype.setGeoJSONSourceData=function(m,y){this._checkLoaded(),this.sourceCaches[m].getSource().setData(y),this._changed=!0},p.prototype.getSource=function(m){return this.sourceCaches[m]&&this.sourceCaches[m].getSource()},p.prototype.addLayer=function(m,y,S){S===void 0&&(S={}),this._checkLoaded();var L=m.id;if(this.getLayer(L))this.fire(new r.ErrorEvent(new Error('Layer with id "'+L+'" already exists on this map')));else{var A;if(m.type==="custom"){if(ju(this,r.validateCustomStyleLayer(m)))return;A=r.createStyleLayer(m)}else{if(typeof m.source=="object"&&(this.addSource(L,m.source),m=r.clone$1(m),m=r.extend(m,{source:L})),this._validate(r.validateStyle.layer,"layers."+L,m,{arrayIndex:-1},S))return;A=r.createStyleLayer(m),this._validateLayer(A),A.setEventedParent(this,{layer:{id:L}}),this._serializedLayers[A.id]=A.serialize()}var O=y?this._order.indexOf(y):this._order.length;if(y&&O===-1)this.fire(new r.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.')));else{if(this._order.splice(O,0,L),this._layerOrderChanged=!0,this._layers[L]=A,this._removedLayers[L]&&A.source&&A.type!=="custom"){var N=this._removedLayers[L];delete this._removedLayers[L],N.type!==A.type?this._updatedSources[A.source]="clear":(this._updatedSources[A.source]="reload",this.sourceCaches[A.source].pause())}this._updateLayer(A),A.onAdd&&A.onAdd(this.map)}}},p.prototype.moveLayer=function(m,y){if(this._checkLoaded(),this._changed=!0,this._layers[m]){if(m!==y){var S=this._order.indexOf(m);this._order.splice(S,1);var L=y?this._order.indexOf(y):this._order.length;y&&L===-1?this.fire(new r.ErrorEvent(new Error('Layer with id "'+y+'" does not exist on this map.'))):(this._order.splice(L,0,m),this._layerOrderChanged=!0)}}else this.fire(new r.ErrorEvent(new Error("The layer '"+m+"' does not exist in the map's style and cannot be moved.")))},p.prototype.removeLayer=function(m){this._checkLoaded();var y=this._layers[m];if(y){y.setEventedParent(null);var S=this._order.indexOf(m);this._order.splice(S,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[m]=y,delete this._layers[m],delete this._serializedLayers[m],delete this._updatedLayers[m],delete this._updatedPaintProps[m],y.onRemove&&y.onRemove(this.map)}else this.fire(new r.ErrorEvent(new Error("The layer '"+m+"' does not exist in the map's style and cannot be removed.")))},p.prototype.getLayer=function(m){return this._layers[m]},p.prototype.hasLayer=function(m){return m in this._layers},p.prototype.setLayerZoomRange=function(m,y,S){this._checkLoaded();var L=this.getLayer(m);L?L.minzoom===y&&L.maxzoom===S||(y!=null&&(L.minzoom=y),S!=null&&(L.maxzoom=S),this._updateLayer(L)):this.fire(new r.ErrorEvent(new Error("The layer '"+m+"' does not exist in the map's style and cannot have zoom extent.")))},p.prototype.setFilter=function(m,y,S){S===void 0&&(S={}),this._checkLoaded();var L=this.getLayer(m);if(L){if(!r.deepEqual(L.filter,y))return y==null?(L.filter=void 0,void this._updateLayer(L)):void(this._validate(r.validateStyle.filter,"layers."+L.id+".filter",y,null,S)||(L.filter=r.clone$1(y),this._updateLayer(L)))}else this.fire(new r.ErrorEvent(new Error("The layer '"+m+"' does not exist in the map's style and cannot be filtered.")))},p.prototype.getFilter=function(m){return r.clone$1(this.getLayer(m).filter)},p.prototype.setLayoutProperty=function(m,y,S,L){L===void 0&&(L={}),this._checkLoaded();var A=this.getLayer(m);A?r.deepEqual(A.getLayoutProperty(y),S)||(A.setLayoutProperty(y,S,L),this._updateLayer(A)):this.fire(new r.ErrorEvent(new Error("The layer '"+m+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getLayoutProperty=function(m,y){var S=this.getLayer(m);if(S)return S.getLayoutProperty(y);this.fire(new r.ErrorEvent(new Error("The layer '"+m+"' does not exist in the map's style.")))},p.prototype.setPaintProperty=function(m,y,S,L){L===void 0&&(L={}),this._checkLoaded();var A=this.getLayer(m);A?r.deepEqual(A.getPaintProperty(y),S)||(A.setPaintProperty(y,S,L)&&this._updateLayer(A),this._changed=!0,this._updatedPaintProps[m]=!0):this.fire(new r.ErrorEvent(new Error("The layer '"+m+"' does not exist in the map's style and cannot be styled.")))},p.prototype.getPaintProperty=function(m,y){return this.getLayer(m).getPaintProperty(y)},p.prototype.setFeatureState=function(m,y){this._checkLoaded();var S=m.source,L=m.sourceLayer,A=this.sourceCaches[S];if(A!==void 0){var O=A.getSource().type;O==="geojson"&&L?this.fire(new r.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):O!=="vector"||L?(m.id===void 0&&this.fire(new r.ErrorEvent(new Error("The feature id parameter must be provided."))),A.setFeatureState(L,m.id,y)):this.fire(new r.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new r.ErrorEvent(new Error("The source '"+S+"' does not exist in the map's style.")))},p.prototype.removeFeatureState=function(m,y){this._checkLoaded();var S=m.source,L=this.sourceCaches[S];if(L!==void 0){var A=L.getSource().type,O=A==="vector"?m.sourceLayer:void 0;A!=="vector"||O?y&&typeof m.id!="string"&&typeof m.id!="number"?this.fire(new r.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):L.removeFeatureState(O,m.id,y):this.fire(new r.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new r.ErrorEvent(new Error("The source '"+S+"' does not exist in the map's style.")))},p.prototype.getFeatureState=function(m){this._checkLoaded();var y=m.source,S=m.sourceLayer,L=this.sourceCaches[y];if(L!==void 0){if(L.getSource().type!=="vector"||S)return m.id===void 0&&this.fire(new r.ErrorEvent(new Error("The feature id parameter must be provided."))),L.getFeatureState(S,m.id);this.fire(new r.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new r.ErrorEvent(new Error("The source '"+y+"' does not exist in the map's style.")))},p.prototype.getTransition=function(){return r.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},p.prototype.serialize=function(){return r.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:r.mapObject(this.sourceCaches,function(m){return m.serialize()}),layers:this._serializeLayers(this._order)},function(m){return m!==void 0})},p.prototype._updateLayer=function(m){this._updatedLayers[m.id]=!0,m.source&&!this._updatedSources[m.source]&&this.sourceCaches[m.source].getSource().type!=="raster"&&(this._updatedSources[m.source]="reload",this.sourceCaches[m.source].pause()),this._changed=!0},p.prototype._flattenAndSortRenderedFeatures=function(m){for(var y=this,S=function(mt){return y._layers[mt].type==="fill-extrusion"},L={},A=[],O=this._order.length-1;O>=0;O--){var N=this._order[O];if(S(N)){L[N]=O;for(var U=0,Q=m;U<Q.length;U+=1){var J=Q[U][N];if(J)for(var te=0,de=J;te<de.length;te+=1)A.push(de[te])}}}A.sort(function(mt,ht){return ht.intersectionZ-mt.intersectionZ});for(var ce=[],ve=this._order.length-1;ve>=0;ve--){var re=this._order[ve];if(S(re))for(var ye=A.length-1;ye>=0;ye--){var Me=A[ye].feature;if(L[Me.layer.id]<ve)break;ce.push(Me),A.pop()}else for(var ke=0,Be=m;ke<Be.length;ke+=1){var Ne=Be[ke][re];if(Ne)for(var Ue=0,at=Ne;Ue<at.length;Ue+=1)ce.push(at[Ue].feature)}}return ce},p.prototype.queryRenderedFeatures=function(m,y,S){y&&y.filter&&this._validate(r.validateStyle.filter,"queryRenderedFeatures.filter",y.filter,null,y);var L={};if(y&&y.layers){if(!Array.isArray(y.layers))return this.fire(new r.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var A=0,O=y.layers;A<O.length;A+=1){var N=O[A],U=this._layers[N];if(!U)return this.fire(new r.ErrorEvent(new Error("The layer '"+N+"' does not exist in the map's style and cannot be queried for features."))),[];L[U.source]=!0}}var Q=[];for(var J in y.availableImages=this._availableImages,this.sourceCaches)y.layers&&!L[J]||Q.push(ca(this.sourceCaches[J],this._layers,this._serializedLayers,m,y,S));return this.placement&&Q.push(function(te,de,ce,ve,re,ye,Me){for(var ke={},Be=ye.queryRenderedSymbols(ve),Ne=[],Ue=0,at=Object.keys(Be).map(Number);Ue<at.length;Ue+=1)Ne.push(Me[at[Ue]]);Ne.sort(hi);for(var mt=function(){var ta=Rt[ht],ui=ta.featureIndex.lookupSymbolFeatures(Be[ta.bucketInstanceId],de,ta.bucketIndex,ta.sourceLayerIndex,re.filter,re.layers,re.availableImages,te);for(var kt in ui){var pa=ke[kt]=ke[kt]||[],Oa=ui[kt];Oa.sort(function(Ia,ua){var ra=ta.featureSortOrder;if(ra){var Hn=ra.indexOf(Ia.featureIndex);return ra.indexOf(ua.featureIndex)-Hn}return ua.featureIndex-Ia.featureIndex});for(var ha=0,da=Oa;ha<da.length;ha+=1)pa.push(da[ha])}},ht=0,Rt=Ne;ht<Rt.length;ht+=1)mt();var $t=function(ta){ke[ta].forEach(function(ui){var kt=ui.feature,pa=ce[te[ta].source].getFeatureState(kt.layer["source-layer"],kt.id);kt.source=kt.layer.source,kt.layer["source-layer"]&&(kt.sourceLayer=kt.layer["source-layer"]),kt.state=pa})};for(var ia in ke)$t(ia);return ke}(this._layers,this._serializedLayers,this.sourceCaches,m,y,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Q)},p.prototype.querySourceFeatures=function(m,y){y&&y.filter&&this._validate(r.validateStyle.filter,"querySourceFeatures.filter",y.filter,null,y);var S=this.sourceCaches[m];return S?function(L,A){for(var O=L.getRenderableIds().map(function(de){return L.getTileByID(de)}),N=[],U={},Q=0;Q<O.length;Q++){var J=O[Q],te=J.tileID.canonical.key;U[te]||(U[te]=!0,J.querySourceFeatures(N,A))}return N}(S,y):[]},p.prototype.addSourceType=function(m,y,S){return p.getSourceType(m)?S(new Error('A source type called "'+m+'" already exists.')):(p.setSourceType(m,y),y.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:m,url:y.workerSourceURL},S):S(null,null))},p.prototype.getLight=function(){return this.light.getLight()},p.prototype.setLight=function(m,y){y===void 0&&(y={}),this._checkLoaded();var S=this.light.getLight(),L=!1;for(var A in m)if(!r.deepEqual(m[A],S[A])){L=!0;break}if(L){var O={now:r.browser.now(),transition:r.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(m,y),this.light.updateTransitions(O)}},p.prototype._validate=function(m,y,S,L,A){return A===void 0&&(A={}),(!A||A.validate!==!1)&&ju(this,m.call(r.validateStyle,r.extend({key:y,style:this.serialize(),value:S,styleSpec:r.styleSpec},L)))},p.prototype._remove=function(){for(var m in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),r.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[m].setEventedParent(null);for(var y in this.sourceCaches)this.sourceCaches[y].clearTiles(),this.sourceCaches[y].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},p.prototype._clearSource=function(m){this.sourceCaches[m].clearTiles()},p.prototype._reloadSource=function(m){this.sourceCaches[m].resume(),this.sourceCaches[m].reload()},p.prototype._updateSources=function(m){for(var y in this.sourceCaches)this.sourceCaches[y].update(m)},p.prototype._generateCollisionBoxes=function(){for(var m in this.sourceCaches)this._reloadSource(m)},p.prototype._updatePlacement=function(m,y,S,L,A){A===void 0&&(A=!1);for(var O=!1,N=!1,U={},Q=0,J=this._order;Q<J.length;Q+=1){var te=this._layers[J[Q]];if(te.type==="symbol"){if(!U[te.source]){var de=this.sourceCaches[te.source];U[te.source]=de.getRenderableIds(!0).map(function(Me){return de.getTileByID(Me)}).sort(function(Me,ke){return ke.tileID.overscaledZ-Me.tileID.overscaledZ||(Me.tileID.isLessThan(ke.tileID)?-1:1)})}var ce=this.crossTileSymbolIndex.addLayer(te,U[te.source],m.center.lng);O=O||ce}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((A=A||this._layerOrderChanged||S===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(r.browser.now(),m.zoom))&&(this.pauseablePlacement=new Fh(m,this._order,A,y,S,L,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,U),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(r.browser.now()),N=!0),O&&this.pauseablePlacement.placement.setStale()),N||O)for(var ve=0,re=this._order;ve<re.length;ve+=1){var ye=this._layers[re[ve]];ye.type==="symbol"&&this.placement.updateLayerOpacities(ye,U[ye.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(r.browser.now())},p.prototype._releaseSymbolFadeTiles=function(){for(var m in this.sourceCaches)this.sourceCaches[m].releaseSymbolFadeTiles()},p.prototype.getImages=function(m,y,S){this.imageManager.getImages(y.icons,S),this._updateTilesForChangedImages();var L=this.sourceCaches[y.source];L&&L.setDependencies(y.tileID.key,y.type,y.icons)},p.prototype.getGlyphs=function(m,y,S){this.glyphManager.getGlyphs(y.stacks,S)},p.prototype.getResource=function(m,y,S){return r.makeRequest(y,S)},p}(r.Evented);hs.getSourceType=function(_){return ea[_]},hs.setSourceType=function(_,p){ea[_]=p},hs.registerForPluginStateChange=r.registerForPluginStateChange;var In=r.createLayout([{name:"a_pos",type:"Int16",components:2}]),rd=Ri(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),t1=Ri(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),aw=Ri(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),iw=Ri(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Hf=Ri("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Zf=Ri(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Xf=Ri(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Yf=Ri("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),a1=Ri("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),i1=Ri("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),nw=Ri(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Nh=Ri(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Wh=Ri(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),n1=Ri(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),_r=Ri(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Kf=Ri(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),tu=Ri(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),au=Ri(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Hu=Ri(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Zu=Ri(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),iu=Ri(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),Xu=Ri(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Yu=Ri(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),nu=Ri(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),r1=Ri(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),s1=Ri(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Ri(_,p){var m=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=p.match(/attribute ([\w]+) ([\w]+)/g),S=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),L=p.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),A=L?L.concat(S):S,O={};return{fragmentSource:_=_.replace(m,function(N,U,Q,J,te){return O[te]=!0,U==="define"?`
#ifndef HAS_UNIFORM_u_`+te+`
varying `+Q+" "+J+" "+te+`;
#else
uniform `+Q+" "+J+" u_"+te+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+te+`
    `+Q+" "+J+" "+te+" = u_"+te+`;
#endif
`}),vertexSource:p=p.replace(m,function(N,U,Q,J,te){var de=J==="float"?"vec2":"vec4",ce=te.match(/color/)?"color":de;return O[te]?U==="define"?`
#ifndef HAS_UNIFORM_u_`+te+`
uniform lowp float u_`+te+`_t;
attribute `+Q+" "+de+" a_"+te+`;
varying `+Q+" "+J+" "+te+`;
#else
uniform `+Q+" "+J+" u_"+te+`;
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_`+te+`
    `+te+" = a_"+te+`;
#else
    `+Q+" "+J+" "+te+" = u_"+te+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+te+`
    `+te+" = unpack_mix_"+ce+"(a_"+te+", u_"+te+`_t);
#else
    `+Q+" "+J+" "+te+" = u_"+te+`;
#endif
`:U==="define"?`
#ifndef HAS_UNIFORM_u_`+te+`
uniform lowp float u_`+te+`_t;
attribute `+Q+" "+de+" a_"+te+`;
#else
uniform `+Q+" "+J+" u_"+te+`;
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_`+te+`
    `+Q+" "+J+" "+te+" = a_"+te+`;
#else
    `+Q+" "+J+" "+te+" = u_"+te+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+te+`
    `+Q+" "+J+" "+te+" = unpack_mix_"+ce+"(a_"+te+", u_"+te+`_t);
#else
    `+Q+" "+J+" "+te+" = u_"+te+`;
#endif
`}),staticAttributes:y,staticUniforms:A}}var rw=Object.freeze({__proto__:null,prelude:rd,background:t1,backgroundPattern:aw,circle:iw,clippingMask:Hf,heatmap:Zf,heatmapTexture:Xf,collisionBox:Yf,collisionCircle:a1,debug:i1,fill:nw,fillOutline:Nh,fillOutlinePattern:Wh,fillPattern:n1,fillExtrusion:_r,fillExtrusionPattern:Kf,hillshadePrepare:tu,hillshade:au,line:Hu,lineGradient:Zu,linePattern:iu,lineSDF:Xu,raster:Yu,symbolIcon:nu,symbolSDF:r1,symbolTextAndIcon:s1}),mm=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function o1(_){for(var p=[],m=0;m<_.length;m++)if(_[m]!==null){var y=_[m].split(" ");p.push(y.pop())}return p}mm.prototype.bind=function(_,p,m,y,S,L,A,O){this.context=_;for(var N=this.boundPaintVertexBuffers.length!==y.length,U=0;!N&&U<y.length;U++)this.boundPaintVertexBuffers[U]!==y[U]&&(N=!0);_.extVertexArrayObject&&this.vao&&this.boundProgram===p&&this.boundLayoutVertexBuffer===m&&!N&&this.boundIndexBuffer===S&&this.boundVertexOffset===L&&this.boundDynamicVertexBuffer===A&&this.boundDynamicVertexBuffer2===O?(_.bindVertexArrayOES.set(this.vao),A&&A.bind(),S&&S.dynamicDraw&&S.bind(),O&&O.bind()):this.freshBind(p,m,y,S,L,A,O)},mm.prototype.freshBind=function(_,p,m,y,S,L,A){var O,N=_.numAttributes,U=this.context,Q=U.gl;if(U.extVertexArrayObject)this.vao&&this.destroy(),this.vao=U.extVertexArrayObject.createVertexArrayOES(),U.bindVertexArrayOES.set(this.vao),O=0,this.boundProgram=_,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=y,this.boundVertexOffset=S,this.boundDynamicVertexBuffer=L,this.boundDynamicVertexBuffer2=A;else{O=U.currentNumAttributes||0;for(var J=N;J<O;J++)Q.disableVertexAttribArray(J)}p.enableAttributes(Q,_);for(var te=0,de=m;te<de.length;te+=1)de[te].enableAttributes(Q,_);L&&L.enableAttributes(Q,_),A&&A.enableAttributes(Q,_),p.bind(),p.setVertexAttribPointers(Q,_,S);for(var ce=0,ve=m;ce<ve.length;ce+=1){var re=ve[ce];re.bind(),re.setVertexAttribPointers(Q,_,S)}L&&(L.bind(),L.setVertexAttribPointers(Q,_,S)),y&&y.bind(),A&&(A.bind(),A.setVertexAttribPointers(Q,_,S)),U.currentNumAttributes=N},mm.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var l1=function(_,p,m,y,S,L){var A=_.gl;this.program=A.createProgram();for(var O=o1(m.staticAttributes),N=y?y.getBinderAttributes():[],U=O.concat(N),Q=m.staticUniforms?o1(m.staticUniforms):[],J=y?y.getBinderUniforms():[],te=[],de=0,ce=Q.concat(J);de<ce.length;de+=1){var ve=ce[de];te.indexOf(ve)<0&&te.push(ve)}var re=y?y.defines():[];L&&re.push("#define OVERDRAW_INSPECTOR;");var ye=re.concat(rd.fragmentSource,m.fragmentSource).join(`
`),Me=re.concat(rd.vertexSource,m.vertexSource).join(`
`),ke=A.createShader(A.FRAGMENT_SHADER);if(A.isContextLost())this.failedToCreate=!0;else{A.shaderSource(ke,ye),A.compileShader(ke),A.attachShader(this.program,ke);var Be=A.createShader(A.VERTEX_SHADER);if(A.isContextLost())this.failedToCreate=!0;else{A.shaderSource(Be,Me),A.compileShader(Be),A.attachShader(this.program,Be),this.attributes={};var Ne={};this.numAttributes=U.length;for(var Ue=0;Ue<this.numAttributes;Ue++)U[Ue]&&(A.bindAttribLocation(this.program,Ue,U[Ue]),this.attributes[U[Ue]]=Ue);A.linkProgram(this.program),A.deleteShader(Be),A.deleteShader(ke);for(var at=0;at<te.length;at++){var mt=te[at];if(mt&&!Ne[mt]){var ht=A.getUniformLocation(this.program,mt);ht&&(Ne[mt]=ht)}}this.fixedUniforms=S(_,Ne),this.binderUniforms=y?y.getUniforms(_,Ne):[]}}};function u1(_,p,m){var y=1/$i(m,1,p.transform.tileZoom),S=Math.pow(2,m.tileID.overscaledZ),L=m.tileSize*Math.pow(2,p.transform.tileZoom)/S,A=L*(m.tileID.canonical.x+m.tileID.wrap*S),O=L*m.tileID.canonical.y;return{u_image:0,u_texsize:m.imageAtlasTexture.size,u_scale:[y,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[A>>16,O>>16],u_pixel_coord_lower:[65535&A,65535&O]}}l1.prototype.draw=function(_,p,m,y,S,L,A,O,N,U,Q,J,te,de,ce,ve){var re,ye=_.gl;if(!this.failedToCreate){for(var Me in _.program.set(this.program),_.setDepthMode(m),_.setStencilMode(y),_.setColorMode(S),_.setCullFace(L),this.fixedUniforms)this.fixedUniforms[Me].set(A[Me]);de&&de.setUniforms(_,this.binderUniforms,J,{zoom:te});for(var ke=(re={},re[ye.LINES]=2,re[ye.TRIANGLES]=3,re[ye.LINE_STRIP]=1,re)[p],Be=0,Ne=Q.get();Be<Ne.length;Be+=1){var Ue=Ne[Be],at=Ue.vaos||(Ue.vaos={});(at[O]||(at[O]=new mm)).bind(_,this,N,de?de.getPaintVertexBuffers():[],U,Ue.vertexOffset,ce,ve),ye.drawElements(p,Ue.primitiveLength*ke,ye.UNSIGNED_SHORT,Ue.primitiveOffset*ke*2)}}};var c1=function(_,p,m,y){var S=p.style.light,L=S.properties.get("position"),A=[L.x,L.y,L.z],O=r.create$1();S.properties.get("anchor")==="viewport"&&r.fromRotation(O,-p.transform.angle),r.transformMat3(A,A,O);var N=S.properties.get("color");return{u_matrix:_,u_lightpos:A,u_lightintensity:S.properties.get("intensity"),u_lightcolor:[N.r,N.g,N.b],u_vertical_gradient:+m,u_opacity:y}},Ku=function(_,p,m,y,S,L,A){return r.extend(c1(_,p,m,y),u1(L,p,A),{u_height_factor:-Math.pow(2,S.overscaledZ)/A.tileSize/8})},ru=function(_){return{u_matrix:_}},$u=function(_,p,m,y){return r.extend(ru(_),u1(m,p,y))},d1=function(_,p){return{u_matrix:_,u_world:p}},h1=function(_,p,m,y,S){return r.extend($u(_,p,m,y),{u_world:S})},$f=function(_,p,m,y){var S,L,A=_.transform;if(y.paint.get("circle-pitch-alignment")==="map"){var O=$i(m,1,A.zoom);S=!0,L=[O,O]}else S=!1,L=A.pixelsToGLUnits;return{u_camera_to_center_distance:A.cameraToCenterDistance,u_scale_with_map:+(y.paint.get("circle-pitch-scale")==="map"),u_matrix:_.translatePosMatrix(p.posMatrix,m,y.paint.get("circle-translate"),y.paint.get("circle-translate-anchor")),u_pitch_with_map:+S,u_device_pixel_ratio:r.browser.devicePixelRatio,u_extrude_scale:L}},Qu=function(_,p,m){var y=$i(m,1,p.zoom),S=Math.pow(2,p.zoom-m.tileID.overscaledZ),L=m.tileID.overscaleFactor();return{u_matrix:_,u_camera_to_center_distance:p.cameraToCenterDistance,u_pixels_to_tile_units:y,u_extrude_scale:[p.pixelsToGLUnits[0]/(y*S),p.pixelsToGLUnits[1]/(y*S)],u_overscale_factor:L}},_1=function(_,p,m){return{u_matrix:_,u_inv_matrix:p,u_camera_to_center_distance:m.cameraToCenterDistance,u_viewport_size:[m.width,m.height]}},Ju=function(_,p,m){return m===void 0&&(m=1),{u_matrix:_,u_color:p,u_overlay:0,u_overlay_scale:m}},ec=function(_){return{u_matrix:_}},m1=function(_,p,m,y){return{u_matrix:_,u_extrude_scale:$i(p,1,m),u_intensity:y}},zh=function(_,p,m){var y=_.transform;return{u_matrix:p1(_,p,m),u_ratio:1/$i(p,1,y.zoom),u_device_pixel_ratio:r.browser.devicePixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},Fi=function(_,p,m,y){return r.extend(zh(_,p,m),{u_image:0,u_image_height:y})},pm=function(_,p,m,y){var S=_.transform,L=sd(p,S);return{u_matrix:p1(_,p,m),u_texsize:p.imageAtlasTexture.size,u_ratio:1/$i(p,1,S.zoom),u_device_pixel_ratio:r.browser.devicePixelRatio,u_image:0,u_scale:[L,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]]}},sw=function(_,p,m,y,S){var L=_.lineAtlas,A=sd(p,_.transform),O=m.layout.get("line-cap")==="round",N=L.getDash(y.from,O),U=L.getDash(y.to,O),Q=N.width*S.fromScale,J=U.width*S.toScale;return r.extend(zh(_,p,m),{u_patternscale_a:[A/Q,-N.height/2],u_patternscale_b:[A/J,-U.height/2],u_sdfgamma:L.width/(256*Math.min(Q,J)*r.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:N.y,u_tex_y_b:U.y,u_mix:S.t})};function sd(_,p){return 1/$i(_,1,p.tileZoom)}function p1(_,p,m){return _.translatePosMatrix(p.tileID.posMatrix,p,m.paint.get("line-translate"),m.paint.get("line-translate-anchor"))}var ow=function(_,p,m,y,S){return{u_matrix:_,u_tl_parent:p,u_scale_parent:m,u_buffer_scale:1,u_fade_t:y.mix,u_opacity:y.opacity*S.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:S.paint.get("raster-brightness-min"),u_brightness_high:S.paint.get("raster-brightness-max"),u_saturation_factor:(A=S.paint.get("raster-saturation"),A>0?1-1/(1.001-A):-A),u_contrast_factor:(L=S.paint.get("raster-contrast"),L>0?1/(1-L):1+L),u_spin_weights:f1(S.paint.get("raster-hue-rotate"))};var L,A};function f1(_){_*=Math.PI/180;var p=Math.sin(_),m=Math.cos(_);return[(2*m+1)/3,(-Math.sqrt(3)*p-m+1)/3,(Math.sqrt(3)*p-m+1)/3]}var fm,od=function(_,p,m,y,S,L,A,O,N,U){var Q=S.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:p?p.uSizeT:0,u_size:p?p.uSize:0,u_camera_to_center_distance:Q.cameraToCenterDistance,u_pitch:Q.pitch/360*2*Math.PI,u_rotate_symbol:+m,u_aspect_ratio:Q.width/Q.height,u_fade_change:S.options.fadeDuration?S.symbolFadeChange:1,u_matrix:L,u_label_plane_matrix:A,u_coord_matrix:O,u_is_text:+N,u_pitch_with_map:+y,u_texsize:U,u_texture:0}},Bh=function(_,p,m,y,S,L,A,O,N,U,Q){var J=S.transform;return r.extend(od(_,p,m,y,S,L,A,O,N,U),{u_gamma_scale:y?Math.cos(J._pitch)*J.cameraToCenterDistance:1,u_device_pixel_ratio:r.browser.devicePixelRatio,u_is_halo:+Q})},gm=function(_,p,m,y,S,L,A,O,N,U){return r.extend(Bh(_,p,m,y,S,L,A,O,!0,N,!0),{u_texsize_icon:U,u_texture_icon:1})},Gh=function(_,p,m){return{u_matrix:_,u_opacity:p,u_color:m}},ld=function(_,p,m,y,S,L){return r.extend(function(A,O,N,U){var Q=N.imageManager.getPattern(A.from.toString()),J=N.imageManager.getPattern(A.to.toString()),te=N.imageManager.getPixelSize(),de=te.width,ce=te.height,ve=Math.pow(2,U.tileID.overscaledZ),re=U.tileSize*Math.pow(2,N.transform.tileZoom)/ve,ye=re*(U.tileID.canonical.x+U.tileID.wrap*ve),Me=re*U.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Q.tl,u_pattern_br_a:Q.br,u_pattern_tl_b:J.tl,u_pattern_br_b:J.br,u_texsize:[de,ce],u_mix:O.t,u_pattern_size_a:Q.displaySize,u_pattern_size_b:J.displaySize,u_scale_a:O.fromScale,u_scale_b:O.toScale,u_tile_units_to_pixels:1/$i(U,1,N.transform.tileZoom),u_pixel_coord_upper:[ye>>16,Me>>16],u_pixel_coord_lower:[65535&ye,65535&Me]}}(y,L,m,S),{u_matrix:_,u_opacity:p})},g1={fillExtrusion:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_lightpos:new r.Uniform3f(_,p.u_lightpos),u_lightintensity:new r.Uniform1f(_,p.u_lightintensity),u_lightcolor:new r.Uniform3f(_,p.u_lightcolor),u_vertical_gradient:new r.Uniform1f(_,p.u_vertical_gradient),u_opacity:new r.Uniform1f(_,p.u_opacity)}},fillExtrusionPattern:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_lightpos:new r.Uniform3f(_,p.u_lightpos),u_lightintensity:new r.Uniform1f(_,p.u_lightintensity),u_lightcolor:new r.Uniform3f(_,p.u_lightcolor),u_vertical_gradient:new r.Uniform1f(_,p.u_vertical_gradient),u_height_factor:new r.Uniform1f(_,p.u_height_factor),u_image:new r.Uniform1i(_,p.u_image),u_texsize:new r.Uniform2f(_,p.u_texsize),u_pixel_coord_upper:new r.Uniform2f(_,p.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(_,p.u_pixel_coord_lower),u_scale:new r.Uniform3f(_,p.u_scale),u_fade:new r.Uniform1f(_,p.u_fade),u_opacity:new r.Uniform1f(_,p.u_opacity)}},fill:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix)}},fillPattern:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_image:new r.Uniform1i(_,p.u_image),u_texsize:new r.Uniform2f(_,p.u_texsize),u_pixel_coord_upper:new r.Uniform2f(_,p.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(_,p.u_pixel_coord_lower),u_scale:new r.Uniform3f(_,p.u_scale),u_fade:new r.Uniform1f(_,p.u_fade)}},fillOutline:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_world:new r.Uniform2f(_,p.u_world)}},fillOutlinePattern:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_world:new r.Uniform2f(_,p.u_world),u_image:new r.Uniform1i(_,p.u_image),u_texsize:new r.Uniform2f(_,p.u_texsize),u_pixel_coord_upper:new r.Uniform2f(_,p.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(_,p.u_pixel_coord_lower),u_scale:new r.Uniform3f(_,p.u_scale),u_fade:new r.Uniform1f(_,p.u_fade)}},circle:function(_,p){return{u_camera_to_center_distance:new r.Uniform1f(_,p.u_camera_to_center_distance),u_scale_with_map:new r.Uniform1i(_,p.u_scale_with_map),u_pitch_with_map:new r.Uniform1i(_,p.u_pitch_with_map),u_extrude_scale:new r.Uniform2f(_,p.u_extrude_scale),u_device_pixel_ratio:new r.Uniform1f(_,p.u_device_pixel_ratio),u_matrix:new r.UniformMatrix4f(_,p.u_matrix)}},collisionBox:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_camera_to_center_distance:new r.Uniform1f(_,p.u_camera_to_center_distance),u_pixels_to_tile_units:new r.Uniform1f(_,p.u_pixels_to_tile_units),u_extrude_scale:new r.Uniform2f(_,p.u_extrude_scale),u_overscale_factor:new r.Uniform1f(_,p.u_overscale_factor)}},collisionCircle:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_inv_matrix:new r.UniformMatrix4f(_,p.u_inv_matrix),u_camera_to_center_distance:new r.Uniform1f(_,p.u_camera_to_center_distance),u_viewport_size:new r.Uniform2f(_,p.u_viewport_size)}},debug:function(_,p){return{u_color:new r.UniformColor(_,p.u_color),u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_overlay:new r.Uniform1i(_,p.u_overlay),u_overlay_scale:new r.Uniform1f(_,p.u_overlay_scale)}},clippingMask:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix)}},heatmap:function(_,p){return{u_extrude_scale:new r.Uniform1f(_,p.u_extrude_scale),u_intensity:new r.Uniform1f(_,p.u_intensity),u_matrix:new r.UniformMatrix4f(_,p.u_matrix)}},heatmapTexture:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_world:new r.Uniform2f(_,p.u_world),u_image:new r.Uniform1i(_,p.u_image),u_color_ramp:new r.Uniform1i(_,p.u_color_ramp),u_opacity:new r.Uniform1f(_,p.u_opacity)}},hillshade:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_image:new r.Uniform1i(_,p.u_image),u_latrange:new r.Uniform2f(_,p.u_latrange),u_light:new r.Uniform2f(_,p.u_light),u_shadow:new r.UniformColor(_,p.u_shadow),u_highlight:new r.UniformColor(_,p.u_highlight),u_accent:new r.UniformColor(_,p.u_accent)}},hillshadePrepare:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_image:new r.Uniform1i(_,p.u_image),u_dimension:new r.Uniform2f(_,p.u_dimension),u_zoom:new r.Uniform1f(_,p.u_zoom),u_unpack:new r.Uniform4f(_,p.u_unpack)}},line:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_ratio:new r.Uniform1f(_,p.u_ratio),u_device_pixel_ratio:new r.Uniform1f(_,p.u_device_pixel_ratio),u_units_to_pixels:new r.Uniform2f(_,p.u_units_to_pixels)}},lineGradient:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_ratio:new r.Uniform1f(_,p.u_ratio),u_device_pixel_ratio:new r.Uniform1f(_,p.u_device_pixel_ratio),u_units_to_pixels:new r.Uniform2f(_,p.u_units_to_pixels),u_image:new r.Uniform1i(_,p.u_image),u_image_height:new r.Uniform1f(_,p.u_image_height)}},linePattern:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_texsize:new r.Uniform2f(_,p.u_texsize),u_ratio:new r.Uniform1f(_,p.u_ratio),u_device_pixel_ratio:new r.Uniform1f(_,p.u_device_pixel_ratio),u_image:new r.Uniform1i(_,p.u_image),u_units_to_pixels:new r.Uniform2f(_,p.u_units_to_pixels),u_scale:new r.Uniform3f(_,p.u_scale),u_fade:new r.Uniform1f(_,p.u_fade)}},lineSDF:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_ratio:new r.Uniform1f(_,p.u_ratio),u_device_pixel_ratio:new r.Uniform1f(_,p.u_device_pixel_ratio),u_units_to_pixels:new r.Uniform2f(_,p.u_units_to_pixels),u_patternscale_a:new r.Uniform2f(_,p.u_patternscale_a),u_patternscale_b:new r.Uniform2f(_,p.u_patternscale_b),u_sdfgamma:new r.Uniform1f(_,p.u_sdfgamma),u_image:new r.Uniform1i(_,p.u_image),u_tex_y_a:new r.Uniform1f(_,p.u_tex_y_a),u_tex_y_b:new r.Uniform1f(_,p.u_tex_y_b),u_mix:new r.Uniform1f(_,p.u_mix)}},raster:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_tl_parent:new r.Uniform2f(_,p.u_tl_parent),u_scale_parent:new r.Uniform1f(_,p.u_scale_parent),u_buffer_scale:new r.Uniform1f(_,p.u_buffer_scale),u_fade_t:new r.Uniform1f(_,p.u_fade_t),u_opacity:new r.Uniform1f(_,p.u_opacity),u_image0:new r.Uniform1i(_,p.u_image0),u_image1:new r.Uniform1i(_,p.u_image1),u_brightness_low:new r.Uniform1f(_,p.u_brightness_low),u_brightness_high:new r.Uniform1f(_,p.u_brightness_high),u_saturation_factor:new r.Uniform1f(_,p.u_saturation_factor),u_contrast_factor:new r.Uniform1f(_,p.u_contrast_factor),u_spin_weights:new r.Uniform3f(_,p.u_spin_weights)}},symbolIcon:function(_,p){return{u_is_size_zoom_constant:new r.Uniform1i(_,p.u_is_size_zoom_constant),u_is_size_feature_constant:new r.Uniform1i(_,p.u_is_size_feature_constant),u_size_t:new r.Uniform1f(_,p.u_size_t),u_size:new r.Uniform1f(_,p.u_size),u_camera_to_center_distance:new r.Uniform1f(_,p.u_camera_to_center_distance),u_pitch:new r.Uniform1f(_,p.u_pitch),u_rotate_symbol:new r.Uniform1i(_,p.u_rotate_symbol),u_aspect_ratio:new r.Uniform1f(_,p.u_aspect_ratio),u_fade_change:new r.Uniform1f(_,p.u_fade_change),u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_label_plane_matrix:new r.UniformMatrix4f(_,p.u_label_plane_matrix),u_coord_matrix:new r.UniformMatrix4f(_,p.u_coord_matrix),u_is_text:new r.Uniform1i(_,p.u_is_text),u_pitch_with_map:new r.Uniform1i(_,p.u_pitch_with_map),u_texsize:new r.Uniform2f(_,p.u_texsize),u_texture:new r.Uniform1i(_,p.u_texture)}},symbolSDF:function(_,p){return{u_is_size_zoom_constant:new r.Uniform1i(_,p.u_is_size_zoom_constant),u_is_size_feature_constant:new r.Uniform1i(_,p.u_is_size_feature_constant),u_size_t:new r.Uniform1f(_,p.u_size_t),u_size:new r.Uniform1f(_,p.u_size),u_camera_to_center_distance:new r.Uniform1f(_,p.u_camera_to_center_distance),u_pitch:new r.Uniform1f(_,p.u_pitch),u_rotate_symbol:new r.Uniform1i(_,p.u_rotate_symbol),u_aspect_ratio:new r.Uniform1f(_,p.u_aspect_ratio),u_fade_change:new r.Uniform1f(_,p.u_fade_change),u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_label_plane_matrix:new r.UniformMatrix4f(_,p.u_label_plane_matrix),u_coord_matrix:new r.UniformMatrix4f(_,p.u_coord_matrix),u_is_text:new r.Uniform1i(_,p.u_is_text),u_pitch_with_map:new r.Uniform1i(_,p.u_pitch_with_map),u_texsize:new r.Uniform2f(_,p.u_texsize),u_texture:new r.Uniform1i(_,p.u_texture),u_gamma_scale:new r.Uniform1f(_,p.u_gamma_scale),u_device_pixel_ratio:new r.Uniform1f(_,p.u_device_pixel_ratio),u_is_halo:new r.Uniform1i(_,p.u_is_halo)}},symbolTextAndIcon:function(_,p){return{u_is_size_zoom_constant:new r.Uniform1i(_,p.u_is_size_zoom_constant),u_is_size_feature_constant:new r.Uniform1i(_,p.u_is_size_feature_constant),u_size_t:new r.Uniform1f(_,p.u_size_t),u_size:new r.Uniform1f(_,p.u_size),u_camera_to_center_distance:new r.Uniform1f(_,p.u_camera_to_center_distance),u_pitch:new r.Uniform1f(_,p.u_pitch),u_rotate_symbol:new r.Uniform1i(_,p.u_rotate_symbol),u_aspect_ratio:new r.Uniform1f(_,p.u_aspect_ratio),u_fade_change:new r.Uniform1f(_,p.u_fade_change),u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_label_plane_matrix:new r.UniformMatrix4f(_,p.u_label_plane_matrix),u_coord_matrix:new r.UniformMatrix4f(_,p.u_coord_matrix),u_is_text:new r.Uniform1i(_,p.u_is_text),u_pitch_with_map:new r.Uniform1i(_,p.u_pitch_with_map),u_texsize:new r.Uniform2f(_,p.u_texsize),u_texsize_icon:new r.Uniform2f(_,p.u_texsize_icon),u_texture:new r.Uniform1i(_,p.u_texture),u_texture_icon:new r.Uniform1i(_,p.u_texture_icon),u_gamma_scale:new r.Uniform1f(_,p.u_gamma_scale),u_device_pixel_ratio:new r.Uniform1f(_,p.u_device_pixel_ratio),u_is_halo:new r.Uniform1i(_,p.u_is_halo)}},background:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_opacity:new r.Uniform1f(_,p.u_opacity),u_color:new r.UniformColor(_,p.u_color)}},backgroundPattern:function(_,p){return{u_matrix:new r.UniformMatrix4f(_,p.u_matrix),u_opacity:new r.Uniform1f(_,p.u_opacity),u_image:new r.Uniform1i(_,p.u_image),u_pattern_tl_a:new r.Uniform2f(_,p.u_pattern_tl_a),u_pattern_br_a:new r.Uniform2f(_,p.u_pattern_br_a),u_pattern_tl_b:new r.Uniform2f(_,p.u_pattern_tl_b),u_pattern_br_b:new r.Uniform2f(_,p.u_pattern_br_b),u_texsize:new r.Uniform2f(_,p.u_texsize),u_mix:new r.Uniform1f(_,p.u_mix),u_pattern_size_a:new r.Uniform2f(_,p.u_pattern_size_a),u_pattern_size_b:new r.Uniform2f(_,p.u_pattern_size_b),u_scale_a:new r.Uniform1f(_,p.u_scale_a),u_scale_b:new r.Uniform1f(_,p.u_scale_b),u_pixel_coord_upper:new r.Uniform2f(_,p.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(_,p.u_pixel_coord_lower),u_tile_units_to_pixels:new r.Uniform1f(_,p.u_tile_units_to_pixels)}}};function ud(_,p,m,y,S,L,A){for(var O=_.context,N=O.gl,U=_.useProgram("collisionBox"),Q=[],J=0,te=0,de=0;de<y.length;de++){var ce=y[de],ve=p.getTile(ce),re=ve.getBucket(m);if(re){var ye=ce.posMatrix;S[0]===0&&S[1]===0||(ye=_.translatePosMatrix(ce.posMatrix,ve,S,L));var Me=A?re.textCollisionBox:re.iconCollisionBox,ke=re.collisionCircleArray;if(ke.length>0){var Be=r.create(),Ne=ye;r.mul(Be,re.placementInvProjMatrix,_.transform.glCoordMatrix),r.mul(Be,Be,re.placementViewportMatrix),Q.push({circleArray:ke,circleOffset:te,transform:Ne,invTransform:Be}),te=J+=ke.length/4}Me&&U.draw(O,N.LINES,ee.disabled,oe.disabled,_.colorModeForRenderPass(),Se.disabled,Qu(ye,_.transform,ve),m.id,Me.layoutVertexBuffer,Me.indexBuffer,Me.segments,null,_.transform.zoom,null,null,Me.collisionVertexBuffer)}}if(A&&Q.length){var Ue=_.useProgram("collisionCircle"),at=new r.StructArrayLayout2f1f2i16;at.resize(4*J),at._trim();for(var mt=0,ht=0,Rt=Q;ht<Rt.length;ht+=1)for(var $t=Rt[ht],ia=0;ia<$t.circleArray.length/4;ia++){var ta=4*ia,ui=$t.circleArray[ta+0],kt=$t.circleArray[ta+1],pa=$t.circleArray[ta+2],Oa=$t.circleArray[ta+3];at.emplace(mt++,ui,kt,pa,Oa,0),at.emplace(mt++,ui,kt,pa,Oa,1),at.emplace(mt++,ui,kt,pa,Oa,2),at.emplace(mt++,ui,kt,pa,Oa,3)}(!fm||fm.length<2*J)&&(fm=function(gn){var Mr=2*gn,nr=new r.StructArrayLayout3ui6;nr.resize(Mr),nr._trim();for(var dn=0;dn<Mr;dn++){var En=6*dn;nr.uint16[En+0]=4*dn+0,nr.uint16[En+1]=4*dn+1,nr.uint16[En+2]=4*dn+2,nr.uint16[En+3]=4*dn+2,nr.uint16[En+4]=4*dn+3,nr.uint16[En+5]=4*dn+0}return nr}(J));for(var ha=O.createIndexBuffer(fm,!0),da=O.createVertexBuffer(at,r.collisionCircleLayout.members,!0),Ia=0,ua=Q;Ia<ua.length;Ia+=1){var ra=ua[Ia],Hn=_1(ra.transform,ra.invTransform,_.transform);Ue.draw(O,N.TRIANGLES,ee.disabled,oe.disabled,_.colorModeForRenderPass(),Se.disabled,Hn,m.id,da,ha,r.SegmentVector.simpleSegment(0,2*ra.circleOffset,ra.circleArray.length,ra.circleArray.length/2),null,_.transform.zoom,null,null,null)}da.destroy(),ha.destroy()}}var Eo=r.identity(new Float32Array(16));function y1(_,p,m,y,S,L){var A=r.getAnchorAlignment(_),O=-(A.horizontalAlign-.5)*p,N=-(A.verticalAlign-.5)*m,U=r.evaluateVariableOffset(_,y);return new r.Point((O/S+U[0])*L,(N/S+U[1])*L)}function v1(_,p,m,y,S,L,A,O,N,U,Q){var J=_.text.placedSymbolArray,te=_.text.dynamicLayoutVertexArray,de=_.icon.dynamicLayoutVertexArray,ce={};te.clear();for(var ve=0;ve<J.length;ve++){var re=J.get(ve),ye=re.hidden||!re.crossTileID||_.allowVerticalPlacement&&!re.placedOrientation?null:y[re.crossTileID];if(ye){var Me=new r.Point(re.anchorX,re.anchorY),ke=Wa(Me,m?O:A),Be=li(L.cameraToCenterDistance,ke.signedDistanceFromCamera),Ne=S.evaluateSizeForFeature(_.textSizeData,U,re)*Be/r.ONE_EM;m&&(Ne*=_.tilePixelRatio/N);for(var Ue=y1(ye.anchor,ye.width,ye.height,ye.textOffset,ye.textBoxScale,Ne),at=m?Wa(Me.add(Ue),A).point:ke.point.add(p?Ue.rotate(-L.angle):Ue),mt=_.allowVerticalPlacement&&re.placedOrientation===r.WritingMode.vertical?Math.PI/2:0,ht=0;ht<re.numGlyphs;ht++)r.addDynamicAttributes(te,at,mt);Q&&re.associatedIconIndex>=0&&(ce[re.associatedIconIndex]={shiftedAnchor:at,angle:mt})}else Dr(re.numGlyphs,te)}if(Q){de.clear();for(var Rt=_.icon.placedSymbolArray,$t=0;$t<Rt.length;$t++){var ia=Rt.get($t);if(ia.hidden)Dr(ia.numGlyphs,de);else{var ta=ce[$t];if(ta)for(var ui=0;ui<ia.numGlyphs;ui++)r.addDynamicAttributes(de,ta.shiftedAnchor,ta.angle);else Dr(ia.numGlyphs,de)}}_.icon.dynamicLayoutVertexBuffer.updateData(de)}_.text.dynamicLayoutVertexBuffer.updateData(te)}function b1(_,p,m){return m.iconsInText&&p?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function tc(_,p,m,y,S,L,A,O,N,U,Q,J){for(var te=_.context,de=te.gl,ce=_.transform,ve=O==="map",re=N==="map",ye=ve&&m.layout.get("symbol-placement")!=="point",Me=ve&&!re&&!ye,ke=m.layout.get("symbol-sort-key").constantOr(1)!==void 0,Be=!1,Ne=_.depthModeForSublayer(0,ee.ReadOnly),Ue=m.layout.get("text-variable-anchor"),at=[],mt=0,ht=y;mt<ht.length;mt+=1){var Rt=ht[mt],$t=p.getTile(Rt),ia=$t.getBucket(m);if(ia){var ta=S?ia.text:ia.icon;if(ta&&ta.segments.get().length){var ui=ta.programConfigurations.get(m.id),kt=S||ia.sdfIcons,pa=S?ia.textSizeData:ia.iconSizeData,Oa=re||ce.pitch!==0,ha=_.useProgram(b1(kt,S,ia),ui),da=r.evaluateSizeForZoom(pa,ce.zoom),Ia=void 0,ua=[0,0],ra=void 0,Hn=void 0,gn=null,Mr=void 0;if(S)ra=$t.glyphAtlasTexture,Hn=de.LINEAR,Ia=$t.glyphAtlasTexture.size,ia.iconsInText&&(ua=$t.imageAtlasTexture.size,gn=$t.imageAtlasTexture,Mr=Oa||_.options.rotating||_.options.zooming||pa.kind==="composite"||pa.kind==="camera"?de.LINEAR:de.NEAREST);else{var nr=m.layout.get("icon-size").constantOr(0)!==1||ia.iconsNeedLinear;ra=$t.imageAtlasTexture,Hn=kt||_.options.rotating||_.options.zooming||nr||Oa?de.LINEAR:de.NEAREST,Ia=$t.imageAtlasTexture.size}var dn=$i($t,1,_.transform.zoom),En=Ii(Rt.posMatrix,re,ve,_.transform,dn),ys=Ea(Rt.posMatrix,re,ve,_.transform,dn),zr=Ue&&ia.hasTextData(),du=m.layout.get("icon-text-fit")!=="none"&&zr&&ia.hasIconData();ye&&kh(ia,Rt.posMatrix,_,S,En,ys,re,U);var Qr=_.translatePosMatrix(Rt.posMatrix,$t,L,A),Io=ye||S&&Ue||du?Eo:En,so=_.translatePosMatrix(ys,$t,L,A,!0),Jh=kt&&m.paint.get(S?"text-halo-width":"icon-halo-width").constantOr(1)!==0,pd={program:ha,buffers:ta,uniformValues:kt?ia.iconsInText?gm(pa.kind,da,Me,re,_,Qr,Io,so,Ia,ua):Bh(pa.kind,da,Me,re,_,Qr,Io,so,S,Ia,!0):od(pa.kind,da,Me,re,_,Qr,Io,so,S,Ia),atlasTexture:ra,atlasTextureIcon:gn,atlasInterpolation:Hn,atlasInterpolationIcon:Mr,isSDF:kt,hasHalo:Jh};if(ke&&ia.canOverlap){Be=!0;for(var hu=0,fd=ta.segments.get();hu<fd.length;hu+=1){var e_=fd[hu];at.push({segments:new r.SegmentVector([e_]),sortKey:e_.sortKey,state:pd})}}else at.push({segments:ta.segments,sortKey:0,state:pd})}}}Be&&at.sort(function(_u,oc){return _u.sortKey-oc.sortKey});for(var $o=0,t_=at;$o<t_.length;$o+=1){var Qo=t_[$o],Zn=Qo.state;if(te.activeTexture.set(de.TEXTURE0),Zn.atlasTexture.bind(Zn.atlasInterpolation,de.CLAMP_TO_EDGE),Zn.atlasTextureIcon&&(te.activeTexture.set(de.TEXTURE1),Zn.atlasTextureIcon&&Zn.atlasTextureIcon.bind(Zn.atlasInterpolationIcon,de.CLAMP_TO_EDGE)),Zn.isSDF){var yl=Zn.uniformValues;Zn.hasHalo&&(yl.u_is_halo=1,qh(Zn.buffers,Qo.segments,m,_,Zn.program,Ne,Q,J,yl)),yl.u_is_halo=0}qh(Zn.buffers,Qo.segments,m,_,Zn.program,Ne,Q,J,Zn.uniformValues)}}function qh(_,p,m,y,S,L,A,O,N){var U=y.context;S.draw(U,U.gl.TRIANGLES,L,A,O,Se.disabled,N,m.id,_.layoutVertexBuffer,_.indexBuffer,p,m.paint,y.transform.zoom,_.programConfigurations.get(m.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function ym(_,p,m,y,S,L,A){var O,N,U,Q,J,te=_.context.gl,de=m.paint.get("fill-pattern"),ce=de&&de.constantOr(1),ve=m.getCrossfadeParameters();A?(N=ce&&!m.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",O=te.LINES):(N=ce?"fillPattern":"fill",O=te.TRIANGLES);for(var re=0,ye=y;re<ye.length;re+=1){var Me=ye[re],ke=p.getTile(Me);if(!ce||ke.patternsLoaded()){var Be=ke.getBucket(m);if(Be){var Ne=Be.programConfigurations.get(m.id),Ue=_.useProgram(N,Ne);ce&&(_.context.activeTexture.set(te.TEXTURE0),ke.imageAtlasTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE),Ne.updatePaintBuffers(ve));var at=de.constantOr(null);if(at&&ke.imageAtlas){var mt=ke.imageAtlas,ht=mt.patternPositions[at.to.toString()],Rt=mt.patternPositions[at.from.toString()];ht&&Rt&&Ne.setConstantPatternPositions(ht,Rt)}var $t=_.translatePosMatrix(Me.posMatrix,ke,m.paint.get("fill-translate"),m.paint.get("fill-translate-anchor"));if(A){Q=Be.indexBuffer2,J=Be.segments2;var ia=[te.drawingBufferWidth,te.drawingBufferHeight];U=N==="fillOutlinePattern"&&ce?h1($t,_,ve,ke,ia):d1($t,ia)}else Q=Be.indexBuffer,J=Be.segments,U=ce?$u($t,_,ve,ke):ru($t);Ue.draw(_.context,O,S,_.stencilModeForClipping(Me),L,Se.disabled,U,m.id,Be.layoutVertexBuffer,Q,J,m.paint,_.transform.zoom,Ne)}}}}function Qf(_,p,m,y,S,L,A){for(var O=_.context,N=O.gl,U=m.paint.get("fill-extrusion-pattern"),Q=U.constantOr(1),J=m.getCrossfadeParameters(),te=m.paint.get("fill-extrusion-opacity"),de=0,ce=y;de<ce.length;de+=1){var ve=ce[de],re=p.getTile(ve),ye=re.getBucket(m);if(ye){var Me=ye.programConfigurations.get(m.id),ke=_.useProgram(Q?"fillExtrusionPattern":"fillExtrusion",Me);Q&&(_.context.activeTexture.set(N.TEXTURE0),re.imageAtlasTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),Me.updatePaintBuffers(J));var Be=U.constantOr(null);if(Be&&re.imageAtlas){var Ne=re.imageAtlas,Ue=Ne.patternPositions[Be.to.toString()],at=Ne.patternPositions[Be.from.toString()];Ue&&at&&Me.setConstantPatternPositions(Ue,at)}var mt=_.translatePosMatrix(ve.posMatrix,re,m.paint.get("fill-extrusion-translate"),m.paint.get("fill-extrusion-translate-anchor")),ht=m.paint.get("fill-extrusion-vertical-gradient"),Rt=Q?Ku(mt,_,ht,te,ve,J,re):c1(mt,_,ht,te);ke.draw(O,O.gl.TRIANGLES,S,L,A,Se.backCCW,Rt,m.id,ye.layoutVertexBuffer,ye.indexBuffer,ye.segments,m.paint,_.transform.zoom,Me)}}}function vm(_,p,m,y,S,L){var A=_.context,O=A.gl,N=p.fbo;if(N){var U=_.useProgram("hillshade");A.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,N.colorAttachment.get());var Q=function(J,te,de){var ce=de.paint.get("hillshade-shadow-color"),ve=de.paint.get("hillshade-highlight-color"),re=de.paint.get("hillshade-accent-color"),ye=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(ye-=J.transform.angle);var Me,ke,Be,Ne=!J.options.moving;return{u_matrix:J.transform.calculatePosMatrix(te.tileID.toUnwrapped(),Ne),u_image:0,u_latrange:(Me=te.tileID,ke=Math.pow(2,Me.canonical.z),Be=Me.canonical.y,[new r.MercatorCoordinate(0,Be/ke).toLngLat().lat,new r.MercatorCoordinate(0,(Be+1)/ke).toLngLat().lat]),u_light:[de.paint.get("hillshade-exaggeration"),ye],u_shadow:ce,u_highlight:ve,u_accent:re}}(_,p,m);U.draw(A,O.TRIANGLES,y,S,L,Se.disabled,Q,m.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}}function lw(_,p,m,y,S,L){var A=_.context,O=A.gl,N=p.dem;if(N&&N.data){var U=N.dim,Q=N.stride,J=N.getPixels();if(A.activeTexture.set(O.TEXTURE1),A.pixelStoreUnpackPremultiplyAlpha.set(!1),p.demTexture=p.demTexture||_.getTileTexture(Q),p.demTexture){var te=p.demTexture;te.update(J,{premultiply:!1}),te.bind(O.NEAREST,O.CLAMP_TO_EDGE)}else p.demTexture=new r.Texture(A,J,O.RGBA,{premultiply:!1}),p.demTexture.bind(O.NEAREST,O.CLAMP_TO_EDGE);A.activeTexture.set(O.TEXTURE0);var de=p.fbo;if(!de){var ce=new r.Texture(A,{width:U,height:U,data:null},O.RGBA);ce.bind(O.LINEAR,O.CLAMP_TO_EDGE),(de=p.fbo=A.createFramebuffer(U,U,!0)).colorAttachment.set(ce.texture)}A.bindFramebuffer.set(de.framebuffer),A.viewport.set([0,0,U,U]),_.useProgram("hillshadePrepare").draw(A,O.TRIANGLES,y,S,L,Se.disabled,function(ve,re){var ye=re.stride,Me=r.create();return r.ortho(Me,0,r.EXTENT,-r.EXTENT,0,0,1),r.translate(Me,Me,[0,-r.EXTENT,0]),{u_matrix:Me,u_image:1,u_dimension:[ye,ye],u_zoom:ve.overscaledZ,u_unpack:re.getUnpackVector()}}(p.tileID,N),m.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments),p.needsHillshadePrepare=!1}}function bm(_,p,m,y,S){var L=y.paint.get("raster-fade-duration");if(L>0){var A=r.browser.now(),O=(A-_.timeAdded)/L,N=p?(A-p.timeAdded)/L:-1,U=m.getSource(),Q=S.coveringZoomLevel({tileSize:U.tileSize,roundZoom:U.roundZoom}),J=!p||Math.abs(p.tileID.overscaledZ-Q)>Math.abs(_.tileID.overscaledZ-Q),te=J&&_.refreshedUponExpiration?1:r.clamp(J?O:1-N,0,1);return _.refreshedUponExpiration&&O>=1&&(_.refreshedUponExpiration=!1),p?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}var Jf=new r.Color(1,0,0,1),x1=new r.Color(0,1,0,1),w1=new r.Color(0,0,1,1),xm=new r.Color(1,0,1,1),eg=new r.Color(0,1,1,1);function tg(_,p,m,y){Uh(_,0,p+m/2,_.transform.width,m,y)}function ag(_,p,m,y){Uh(_,p-m/2,0,m,_.transform.height,y)}function Uh(_,p,m,y,S,L){var A=_.context,O=A.gl;O.enable(O.SCISSOR_TEST),O.scissor(p*r.browser.devicePixelRatio,m*r.browser.devicePixelRatio,y*r.browser.devicePixelRatio,S*r.browser.devicePixelRatio),A.clear({color:L}),O.disable(O.SCISSOR_TEST)}function S1(_,p,m){var y=_.context,S=y.gl,L=m.posMatrix,A=_.useProgram("debug"),O=ee.disabled,N=oe.disabled,U=_.colorModeForRenderPass();y.activeTexture.set(S.TEXTURE0),_.emptyTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE),A.draw(y,S.LINE_STRIP,O,N,U,Se.disabled,Ju(L,r.Color.red),"$debug",_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments);var Q=p.getTileByID(m.key).latestRawTileData,J=Math.floor((Q&&Q.byteLength||0)/1024),te=p.getTile(m).tileSize,de=512/Math.min(te,512)*(m.overscaledZ/_.transform.zoom)*.5,ce=m.canonical.toString();m.overscaledZ!==m.canonical.z&&(ce+=" => "+m.overscaledZ),function(ve,re){ve.initDebugOverlayCanvas();var ye=ve.debugOverlayCanvas,Me=ve.context.gl,ke=ve.debugOverlayCanvas.getContext("2d");ke.clearRect(0,0,ye.width,ye.height),ke.shadowColor="white",ke.shadowBlur=2,ke.lineWidth=1.5,ke.strokeStyle="white",ke.textBaseline="top",ke.font="bold 36px Open Sans, sans-serif",ke.fillText(re,5,5),ke.strokeText(re,5,5),ve.debugOverlayTexture.update(ye),ve.debugOverlayTexture.bind(Me.LINEAR,Me.CLAMP_TO_EDGE)}(_,ce+" "+J+"kb"),A.draw(y,S.TRIANGLES,O,N,Ee.alphaBlended,Se.disabled,Ju(L,r.Color.transparent,de),"$debug",_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments)}var ac={symbol:function(_,p,m,y,S){if(_.renderPass==="translucent"){var L=oe.disabled,A=_.colorModeForRenderPass();m.layout.get("text-variable-anchor")&&function(O,N,U,Q,J,te,de){for(var ce=N.transform,ve=J==="map",re=te==="map",ye=0,Me=O;ye<Me.length;ye+=1){var ke=Me[ye],Be=Q.getTile(ke),Ne=Be.getBucket(U);if(Ne&&Ne.text&&Ne.text.segments.get().length){var Ue=r.evaluateSizeForZoom(Ne.textSizeData,ce.zoom),at=$i(Be,1,N.transform.zoom),mt=Ii(ke.posMatrix,re,ve,N.transform,at),ht=U.layout.get("icon-text-fit")!=="none"&&Ne.hasIconData();if(Ue){var Rt=Math.pow(2,ce.zoom-Be.tileID.overscaledZ);v1(Ne,ve,re,de,r.symbolSize,ce,mt,ke.posMatrix,Rt,Ue,ht)}}}}(y,_,m,p,m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),S),m.paint.get("icon-opacity").constantOr(1)!==0&&tc(_,p,m,y,!1,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),m.layout.get("icon-rotation-alignment"),m.layout.get("icon-pitch-alignment"),m.layout.get("icon-keep-upright"),L,A),m.paint.get("text-opacity").constantOr(1)!==0&&tc(_,p,m,y,!0,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),m.layout.get("text-keep-upright"),L,A),p.map.showCollisionBoxes&&(ud(_,p,m,y,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),!0),ud(_,p,m,y,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),!1))}},circle:function(_,p,m,y){if(_.renderPass==="translucent"){var S=m.paint.get("circle-opacity"),L=m.paint.get("circle-stroke-width"),A=m.paint.get("circle-stroke-opacity"),O=m.layout.get("circle-sort-key").constantOr(1)!==void 0;if(S.constantOr(1)!==0||L.constantOr(1)!==0&&A.constantOr(1)!==0){for(var N=_.context,U=N.gl,Q=_.depthModeForSublayer(0,ee.ReadOnly),J=oe.disabled,te=_.colorModeForRenderPass(),de=[],ce=0;ce<y.length;ce++){var ve=y[ce],re=p.getTile(ve),ye=re.getBucket(m);if(ye){var Me=ye.programConfigurations.get(m.id),ke={programConfiguration:Me,program:_.useProgram("circle",Me),layoutVertexBuffer:ye.layoutVertexBuffer,indexBuffer:ye.indexBuffer,uniformValues:$f(_,ve,re,m)};if(O)for(var Be=0,Ne=ye.segments.get();Be<Ne.length;Be+=1){var Ue=Ne[Be];de.push({segments:new r.SegmentVector([Ue]),sortKey:Ue.sortKey,state:ke})}else de.push({segments:ye.segments,sortKey:0,state:ke})}}O&&de.sort(function($t,ia){return $t.sortKey-ia.sortKey});for(var at=0,mt=de;at<mt.length;at+=1){var ht=mt[at],Rt=ht.state;Rt.program.draw(N,U.TRIANGLES,Q,J,te,Se.disabled,Rt.uniformValues,m.id,Rt.layoutVertexBuffer,Rt.indexBuffer,ht.segments,m.paint,_.transform.zoom,Rt.programConfiguration)}}}},heatmap:function(_,p,m,y){if(m.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){var S=_.context,L=S.gl,A=oe.disabled,O=new Ee([L.ONE,L.ONE],r.Color.transparent,[!0,!0,!0,!0]);(function(de,ce,ve){var re=de.gl;de.activeTexture.set(re.TEXTURE1),de.viewport.set([0,0,ce.width/4,ce.height/4]);var ye=ve.heatmapFbo;if(ye)re.bindTexture(re.TEXTURE_2D,ye.colorAttachment.get()),de.bindFramebuffer.set(ye.framebuffer);else{var Me=re.createTexture();re.bindTexture(re.TEXTURE_2D,Me),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_S,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_T,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MIN_FILTER,re.LINEAR),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MAG_FILTER,re.LINEAR),ye=ve.heatmapFbo=de.createFramebuffer(ce.width/4,ce.height/4,!1),function(ke,Be,Ne,Ue){var at=ke.gl;at.texImage2D(at.TEXTURE_2D,0,at.RGBA,Be.width/4,Be.height/4,0,at.RGBA,ke.extRenderToTextureHalfFloat?ke.extTextureHalfFloat.HALF_FLOAT_OES:at.UNSIGNED_BYTE,null),Ue.colorAttachment.set(Ne)}(de,ce,Me,ye)}})(S,_,m),S.clear({color:r.Color.transparent});for(var N=0;N<y.length;N++){var U=y[N];if(!p.hasRenderableParent(U)){var Q=p.getTile(U),J=Q.getBucket(m);if(J){var te=J.programConfigurations.get(m.id);_.useProgram("heatmap",te).draw(S,L.TRIANGLES,ee.disabled,A,O,Se.disabled,m1(U.posMatrix,Q,_.transform.zoom,m.paint.get("heatmap-intensity")),m.id,J.layoutVertexBuffer,J.indexBuffer,J.segments,m.paint,_.transform.zoom,te)}}}S.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(de,ce){var ve=de.context,re=ve.gl,ye=ce.heatmapFbo;if(ye){ve.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,ye.colorAttachment.get()),ve.activeTexture.set(re.TEXTURE1);var Me=ce.colorRampTexture;Me||(Me=ce.colorRampTexture=new r.Texture(ve,ce.colorRamp,re.RGBA)),Me.bind(re.LINEAR,re.CLAMP_TO_EDGE),de.useProgram("heatmapTexture").draw(ve,re.TRIANGLES,ee.disabled,oe.disabled,de.colorModeForRenderPass(),Se.disabled,function(ke,Be,Ne,Ue){var at=r.create();r.ortho(at,0,ke.width,ke.height,0,0,1);var mt=ke.context.gl;return{u_matrix:at,u_world:[mt.drawingBufferWidth,mt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Be.paint.get("heatmap-opacity")}}(de,ce),ce.id,de.viewportBuffer,de.quadTriangleIndexBuffer,de.viewportSegments,ce.paint,de.transform.zoom)}}(_,m))},line:function(_,p,m,y){if(_.renderPass==="translucent"){var S=m.paint.get("line-opacity"),L=m.paint.get("line-width");if(S.constantOr(1)!==0&&L.constantOr(1)!==0)for(var A=_.depthModeForSublayer(0,ee.ReadOnly),O=_.colorModeForRenderPass(),N=m.paint.get("line-dasharray"),U=m.paint.get("line-pattern"),Q=U.constantOr(1),J=m.paint.get("line-gradient"),te=m.getCrossfadeParameters(),de=Q?"linePattern":N?"lineSDF":J?"lineGradient":"line",ce=_.context,ve=ce.gl,re=!0,ye=0,Me=y;ye<Me.length;ye+=1){var ke=Me[ye],Be=p.getTile(ke);if(!Q||Be.patternsLoaded()){var Ne=Be.getBucket(m);if(Ne){var Ue=Ne.programConfigurations.get(m.id),at=_.context.program.get(),mt=_.useProgram(de,Ue),ht=re||mt.program!==at,Rt=U.constantOr(null);if(Rt&&Be.imageAtlas){var $t=Be.imageAtlas,ia=$t.patternPositions[Rt.to.toString()],ta=$t.patternPositions[Rt.from.toString()];ia&&ta&&Ue.setConstantPatternPositions(ia,ta)}var ui=Q?pm(_,Be,m,te):N?sw(_,Be,m,N,te):J?Fi(_,Be,m,Ne.lineClipsArray.length):zh(_,Be,m);if(Q)ce.activeTexture.set(ve.TEXTURE0),Be.imageAtlasTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE),Ue.updatePaintBuffers(te);else if(N&&(ht||_.lineAtlas.dirty))ce.activeTexture.set(ve.TEXTURE0),_.lineAtlas.bind(ce);else if(J){var kt=Ne.gradients[m.id],pa=kt.texture;if(m.gradientVersion!==kt.version){var Oa=256;if(m.stepInterpolant){var ha=p.getSource().maxzoom,da=ke.canonical.z===ha?Math.ceil(1<<_.transform.maxZoom-ke.canonical.z):1;Oa=r.clamp(r.nextPowerOfTwo(Ne.maxLineLength/r.EXTENT*1024*da),256,ce.maxTextureSize)}kt.gradient=r.renderColorRamp({expression:m.gradientExpression(),evaluationKey:"lineProgress",resolution:Oa,image:kt.gradient||void 0,clips:Ne.lineClipsArray}),kt.texture?kt.texture.update(kt.gradient):kt.texture=new r.Texture(ce,kt.gradient,ve.RGBA),kt.version=m.gradientVersion,pa=kt.texture}ce.activeTexture.set(ve.TEXTURE0),pa.bind(m.stepInterpolant?ve.NEAREST:ve.LINEAR,ve.CLAMP_TO_EDGE)}mt.draw(ce,ve.TRIANGLES,A,_.stencilModeForClipping(ke),O,Se.disabled,ui,m.id,Ne.layoutVertexBuffer,Ne.indexBuffer,Ne.segments,m.paint,_.transform.zoom,Ue,Ne.layoutVertexBuffer2),re=!1}}}}},fill:function(_,p,m,y){var S=m.paint.get("fill-color"),L=m.paint.get("fill-opacity");if(L.constantOr(1)!==0){var A=_.colorModeForRenderPass(),O=m.paint.get("fill-pattern"),N=_.opaquePassEnabledForLayer()&&!O.constantOr(1)&&S.constantOr(r.Color.transparent).a===1&&L.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===N){var U=_.depthModeForSublayer(1,_.renderPass==="opaque"?ee.ReadWrite:ee.ReadOnly);ym(_,p,m,y,U,A,!1)}if(_.renderPass==="translucent"&&m.paint.get("fill-antialias")){var Q=_.depthModeForSublayer(m.getPaintProperty("fill-outline-color")?2:0,ee.ReadOnly);ym(_,p,m,y,Q,A,!0)}}},"fill-extrusion":function(_,p,m,y){var S=m.paint.get("fill-extrusion-opacity");if(S!==0&&_.renderPass==="translucent"){var L=new ee(_.context.gl.LEQUAL,ee.ReadWrite,_.depthRangeFor3D);if(S!==1||m.paint.get("fill-extrusion-pattern").constantOr(1))Qf(_,p,m,y,L,oe.disabled,Ee.disabled),Qf(_,p,m,y,L,_.stencilModeFor3D(),_.colorModeForRenderPass());else{var A=_.colorModeForRenderPass();Qf(_,p,m,y,L,oe.disabled,A)}}},hillshade:function(_,p,m,y){if(_.renderPass==="offscreen"||_.renderPass==="translucent"){for(var S=_.context,L=_.depthModeForSublayer(0,ee.ReadOnly),A=_.colorModeForRenderPass(),O=_.renderPass==="translucent"?_.stencilConfigForOverlap(y):[{},y],N=O[0],U=0,Q=O[1];U<Q.length;U+=1){var J=Q[U],te=p.getTile(J);te.needsHillshadePrepare&&_.renderPass==="offscreen"?lw(_,te,m,L,oe.disabled,A):_.renderPass==="translucent"&&vm(_,te,m,L,N[J.overscaledZ],A)}S.viewport.set([0,0,_.width,_.height])}},raster:function(_,p,m,y){if(_.renderPass==="translucent"&&m.paint.get("raster-opacity")!==0&&y.length)for(var S=_.context,L=S.gl,A=p.getSource(),O=_.useProgram("raster"),N=_.colorModeForRenderPass(),U=A instanceof We?[{},y]:_.stencilConfigForOverlap(y),Q=U[0],J=U[1],te=J[J.length-1].overscaledZ,de=!_.options.moving,ce=0,ve=J;ce<ve.length;ce+=1){var re=ve[ce],ye=_.depthModeForSublayer(re.overscaledZ-te,m.paint.get("raster-opacity")===1?ee.ReadWrite:ee.ReadOnly,L.LESS),Me=p.getTile(re),ke=_.transform.calculatePosMatrix(re.toUnwrapped(),de);Me.registerFadeDuration(m.paint.get("raster-fade-duration"));var Be=p.findLoadedParent(re,0),Ne=bm(Me,Be,p,m,_.transform),Ue=void 0,at=void 0,mt=m.paint.get("raster-resampling")==="nearest"?L.NEAREST:L.LINEAR;S.activeTexture.set(L.TEXTURE0),Me.texture.bind(mt,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),S.activeTexture.set(L.TEXTURE1),Be?(Be.texture.bind(mt,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),Ue=Math.pow(2,Be.tileID.overscaledZ-Me.tileID.overscaledZ),at=[Me.tileID.canonical.x*Ue%1,Me.tileID.canonical.y*Ue%1]):Me.texture.bind(mt,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST);var ht=ow(ke,at||[0,0],Ue||1,Ne,m);A instanceof We?O.draw(S,L.TRIANGLES,ye,oe.disabled,N,Se.disabled,ht,m.id,A.boundsBuffer,_.quadTriangleIndexBuffer,A.boundsSegments):O.draw(S,L.TRIANGLES,ye,Q[re.overscaledZ],N,Se.disabled,ht,m.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}},background:function(_,p,m){var y=m.paint.get("background-color"),S=m.paint.get("background-opacity");if(S!==0){var L=_.context,A=L.gl,O=_.transform,N=O.tileSize,U=m.paint.get("background-pattern");if(!_.isPatternMissing(U)){var Q=!U&&y.a===1&&S===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass===Q){var J=oe.disabled,te=_.depthModeForSublayer(0,Q==="opaque"?ee.ReadWrite:ee.ReadOnly),de=_.colorModeForRenderPass(),ce=_.useProgram(U?"backgroundPattern":"background"),ve=O.coveringTiles({tileSize:N});U&&(L.activeTexture.set(A.TEXTURE0),_.imageManager.bind(_.context));for(var re=m.getCrossfadeParameters(),ye=0,Me=ve;ye<Me.length;ye+=1){var ke=Me[ye],Be=_.transform.calculatePosMatrix(ke.toUnwrapped()),Ne=U?ld(Be,S,_,U,{tileID:ke,tileSize:N},re):Gh(Be,S,y);ce.draw(L,A.TRIANGLES,te,J,de,Se.disabled,Ne,m.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}}}}},debug:function(_,p,m){for(var y=0;y<m.length;y++)S1(_,p,m[y])},custom:function(_,p,m){var y=_.context,S=m.implementation;if(_.renderPass==="offscreen"){var L=S.prerender;L&&(_.setCustomLayerDefaults(),y.setColorMode(_.colorModeForRenderPass()),L.call(S,y.gl,_.transform.customLayerMatrix()),y.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),y.setColorMode(_.colorModeForRenderPass()),y.setStencilMode(oe.disabled);var A=S.renderingMode==="3d"?new ee(_.context.gl.LEQUAL,ee.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,ee.ReadOnly);y.setDepthMode(A),S.render(y.gl,_.transform.customLayerMatrix()),y.setDirty(),_.setBaseState(),y.bindFramebuffer.set(null)}}},Qi=function(_,p){this.context=new Y(_),this.transform=p,this._tileTextures={},this.setup(),this.numSublayers=ue.maxUnderzooming+ue.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ql,this.gpuTimers={}};Qi.prototype.resize=function(_,p){if(this.width=_*r.browser.devicePixelRatio,this.height=p*r.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var m=0,y=this.style._order;m<y.length;m+=1)this.style._layers[y[m]].resize()},Qi.prototype.setup=function(){var _=this.context,p=new r.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(r.EXTENT,0),p.emplaceBack(0,r.EXTENT),p.emplaceBack(r.EXTENT,r.EXTENT),this.tileExtentBuffer=_.createVertexBuffer(p,In.members),this.tileExtentSegments=r.SegmentVector.simpleSegment(0,0,4,2);var m=new r.StructArrayLayout2i4;m.emplaceBack(0,0),m.emplaceBack(r.EXTENT,0),m.emplaceBack(0,r.EXTENT),m.emplaceBack(r.EXTENT,r.EXTENT),this.debugBuffer=_.createVertexBuffer(m,In.members),this.debugSegments=r.SegmentVector.simpleSegment(0,0,4,5);var y=new r.StructArrayLayout4i8;y.emplaceBack(0,0,0,0),y.emplaceBack(r.EXTENT,0,r.EXTENT,0),y.emplaceBack(0,r.EXTENT,0,r.EXTENT),y.emplaceBack(r.EXTENT,r.EXTENT,r.EXTENT,r.EXTENT),this.rasterBoundsBuffer=_.createVertexBuffer(y,Xt.members),this.rasterBoundsSegments=r.SegmentVector.simpleSegment(0,0,4,2);var S=new r.StructArrayLayout2i4;S.emplaceBack(0,0),S.emplaceBack(1,0),S.emplaceBack(0,1),S.emplaceBack(1,1),this.viewportBuffer=_.createVertexBuffer(S,In.members),this.viewportSegments=r.SegmentVector.simpleSegment(0,0,4,2);var L=new r.StructArrayLayout1ui2;L.emplaceBack(0),L.emplaceBack(1),L.emplaceBack(3),L.emplaceBack(2),L.emplaceBack(0),this.tileBorderIndexBuffer=_.createIndexBuffer(L);var A=new r.StructArrayLayout3ui6;A.emplaceBack(0,1,2),A.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=_.createIndexBuffer(A),this.emptyTexture=new r.Texture(_,{width:1,height:1,data:new Uint8Array([0,0,0,0])},_.gl.RGBA);var O=this.context.gl;this.stencilClearMode=new oe({func:O.ALWAYS,mask:0},0,255,O.ZERO,O.ZERO,O.ZERO)},Qi.prototype.clearStencil=function(){var _=this.context,p=_.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var m=r.create();r.ortho(m,0,this.width,this.height,0,0,1),r.scale(m,m,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(_,p.TRIANGLES,ee.disabled,this.stencilClearMode,Ee.disabled,Se.disabled,ec(m),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Qi.prototype._renderTileClippingMasks=function(_,p){if(this.currentStencilSource!==_.source&&_.isTileClipped()&&p&&p.length){this.currentStencilSource=_.source;var m=this.context,y=m.gl;this.nextStencilID+p.length>256&&this.clearStencil(),m.setColorMode(Ee.disabled),m.setDepthMode(ee.disabled);var S=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var L=0,A=p;L<A.length;L+=1){var O=A[L],N=this._tileClippingMaskIDs[O.key]=this.nextStencilID++;S.draw(m,y.TRIANGLES,ee.disabled,new oe({func:y.ALWAYS,mask:0},N,255,y.KEEP,y.KEEP,y.REPLACE),Ee.disabled,Se.disabled,ec(O.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Qi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var _=this.nextStencilID++,p=this.context.gl;return new oe({func:p.NOTEQUAL,mask:255},_,255,p.KEEP,p.KEEP,p.REPLACE)},Qi.prototype.stencilModeForClipping=function(_){var p=this.context.gl;return new oe({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[_.key],0,p.KEEP,p.KEEP,p.REPLACE)},Qi.prototype.stencilConfigForOverlap=function(_){var p,m=this.context.gl,y=_.sort(function(N,U){return U.overscaledZ-N.overscaledZ}),S=y[y.length-1].overscaledZ,L=y[0].overscaledZ-S+1;if(L>1){this.currentStencilSource=void 0,this.nextStencilID+L>256&&this.clearStencil();for(var A={},O=0;O<L;O++)A[O+S]=new oe({func:m.GEQUAL,mask:255},O+this.nextStencilID,255,m.KEEP,m.KEEP,m.REPLACE);return this.nextStencilID+=L,[A,y]}return[(p={},p[S]=oe.disabled,p),y]},Qi.prototype.colorModeForRenderPass=function(){var _=this.context.gl;return this._showOverdrawInspector?new Ee([_.CONSTANT_COLOR,_.ONE],new r.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ee.unblended:Ee.alphaBlended},Qi.prototype.depthModeForSublayer=function(_,p,m){if(!this.opaquePassEnabledForLayer())return ee.disabled;var y=1-((1+this.currentLayer)*this.numSublayers+_)*this.depthEpsilon;return new ee(m||this.context.gl.LEQUAL,p,[y,y])},Qi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Qi.prototype.render=function(_,p){var m=this;this.style=_,this.options=p,this.lineAtlas=_.lineAtlas,this.imageManager=_.imageManager,this.glyphManager=_.glyphManager,this.symbolFadeChange=_.placement.symbolFadeChange(r.browser.now()),this.imageManager.beginFrame();var y=this.style._order,S=this.style.sourceCaches;for(var L in S){var A=S[L];A.used&&A.prepare(this.context)}var O,N,U={},Q={},J={};for(var te in S){var de=S[te];U[te]=de.getVisibleCoordinates(),Q[te]=U[te].slice().reverse(),J[te]=de.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var ce=0;ce<y.length;ce++)if(this.style._layers[y[ce]].is3D()){this.opaquePassCutoff=ce;break}this.renderPass="offscreen";for(var ve=0,re=y;ve<re.length;ve+=1){var ye=this.style._layers[re[ve]];if(ye.hasOffscreenPass()&&!ye.isHidden(this.transform.zoom)){var Me=Q[ye.source];(ye.type==="custom"||Me.length)&&this.renderLayer(this,S[ye.source],ye,Me)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?r.Color.black:r.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(_._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){var ke=this.style._layers[y[this.currentLayer]],Be=S[ke.source],Ne=U[ke.source];this._renderTileClippingMasks(ke,Ne),this.renderLayer(this,Be,ke,Ne)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){var Ue=this.style._layers[y[this.currentLayer]],at=S[Ue.source],mt=(Ue.type==="symbol"?J:Q)[Ue.source];this._renderTileClippingMasks(Ue,U[Ue.source]),this.renderLayer(this,at,Ue,mt)}this.options.showTileBoundaries&&(r.values(this.style._layers).forEach(function(ht){ht.source&&!ht.isHidden(m.transform.zoom)&&(ht.source!==(N&&N.id)&&(N=m.style.sourceCaches[ht.source]),(!O||O.getSource().maxzoom<N.getSource().maxzoom)&&(O=N))}),O&&ac.debug(this,O,O.getVisibleCoordinates())),this.options.showPadding&&function(ht){var Rt=ht.transform.padding;tg(ht,ht.transform.height-(Rt.top||0),3,Jf),tg(ht,Rt.bottom||0,3,x1),ag(ht,Rt.left||0,3,w1),ag(ht,ht.transform.width-(Rt.right||0),3,xm);var $t=ht.transform.centerPoint;(function(ia,ta,ui,kt){Uh(ia,ta-1,ui-10,2,20,kt),Uh(ia,ta-10,ui-1,20,2,kt)})(ht,$t.x,ht.transform.height-$t.y,eg)}(this),this.context.setDefault()},Qi.prototype.renderLayer=function(_,p,m,y){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="custom"||y.length)&&(this.id=m.id,this.gpuTimingStart(m),ac[m.type](_,p,m,y,this.style.placement.variableOffsets),this.gpuTimingEnd())},Qi.prototype.gpuTimingStart=function(_){if(this.options.gpuTiming){var p=this.context.extTimerQuery,m=this.gpuTimers[_.id];m||(m=this.gpuTimers[_.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),m.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,m.query)}},Qi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var _=this.context.extTimerQuery;_.endQueryEXT(_.TIME_ELAPSED_EXT)}},Qi.prototype.collectGpuTimers=function(){var _=this.gpuTimers;return this.gpuTimers={},_},Qi.prototype.queryGpuTimers=function(_){var p={};for(var m in _){var y=_[m],S=this.context.extTimerQuery,L=S.getQueryObjectEXT(y.query,S.QUERY_RESULT_EXT)/1e6;S.deleteQueryEXT(y.query),p[m]=L}return p},Qi.prototype.translatePosMatrix=function(_,p,m,y,S){if(!m[0]&&!m[1])return _;var L=S?y==="map"?this.transform.angle:0:y==="viewport"?-this.transform.angle:0;if(L){var A=Math.sin(L),O=Math.cos(L);m=[m[0]*O-m[1]*A,m[0]*A+m[1]*O]}var N=[S?m[0]:$i(p,m[0],this.transform.zoom),S?m[1]:$i(p,m[1],this.transform.zoom),0],U=new Float32Array(16);return r.translate(U,_,N),U},Qi.prototype.saveTileTexture=function(_){var p=this._tileTextures[_.size[0]];p?p.push(_):this._tileTextures[_.size[0]]=[_]},Qi.prototype.getTileTexture=function(_){var p=this._tileTextures[_];return p&&p.length>0?p.pop():null},Qi.prototype.isPatternMissing=function(_){if(!_)return!1;if(!_.from||!_.to)return!0;var p=this.imageManager.getPattern(_.from.toString()),m=this.imageManager.getPattern(_.to.toString());return!p||!m},Qi.prototype.useProgram=function(_,p){this.cache=this.cache||{};var m=""+_+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[m]||(this.cache[m]=new l1(this.context,_,rw[_],p,g1[_],this._showOverdrawInspector)),this.cache[m]},Qi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Qi.prototype.setBaseState=function(){var _=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(_.FUNC_ADD)},Qi.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=r.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new r.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Qi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var wm=function(_,p){this.points=_,this.planes=p};wm.fromInvProjectionMatrix=function(_,p,m){var y=Math.pow(2,m),S=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(A){return r.transformMat4([],A,_)}).map(function(A){return r.scale$1([],A,1/A[3]/p*y)}),L=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(A){var O=r.sub([],S[A[0]],S[A[1]]),N=r.sub([],S[A[2]],S[A[1]]),U=r.normalize([],r.cross([],O,N)),Q=-r.dot(U,S[A[1]]);return U.concat(Q)});return new wm(S,L)};var ic=function(_,p){this.min=_,this.max=p,this.center=r.scale$2([],r.add([],this.min,this.max),.5)};ic.prototype.quadrant=function(_){for(var p=[_%2==0,_<2],m=r.clone$2(this.min),y=r.clone$2(this.max),S=0;S<p.length;S++)m[S]=p[S]?this.min[S]:this.center[S],y[S]=p[S]?this.center[S]:this.max[S];return y[2]=this.max[2],new ic(m,y)},ic.prototype.distanceX=function(_){return Math.max(Math.min(this.max[0],_[0]),this.min[0])-_[0]},ic.prototype.distanceY=function(_){return Math.max(Math.min(this.max[1],_[1]),this.min[1])-_[1]},ic.prototype.intersects=function(_){for(var p=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],m=!0,y=0;y<_.planes.length;y++){for(var S=_.planes[y],L=0,A=0;A<p.length;A++)L+=r.dot$1(S,p[A])>=0;if(L===0)return 0;L!==p.length&&(m=!1)}if(m)return 2;for(var O=0;O<3;O++){for(var N=Number.MAX_VALUE,U=-Number.MAX_VALUE,Q=0;Q<_.points.length;Q++){var J=_.points[Q][O]-this.min[O];N=Math.min(N,J),U=Math.max(U,J)}if(U<0||N>this.max[O]-this.min[O])return 0}return 1};var su=function(_,p,m,y){if(_===void 0&&(_=0),p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=0),isNaN(_)||_<0||isNaN(p)||p<0||isNaN(m)||m<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=_,this.bottom=p,this.left=m,this.right=y};su.prototype.interpolate=function(_,p,m){return p.top!=null&&_.top!=null&&(this.top=r.number(_.top,p.top,m)),p.bottom!=null&&_.bottom!=null&&(this.bottom=r.number(_.bottom,p.bottom,m)),p.left!=null&&_.left!=null&&(this.left=r.number(_.left,p.left,m)),p.right!=null&&_.right!=null&&(this.right=r.number(_.right,p.right,m)),this},su.prototype.getCenter=function(_,p){var m=r.clamp((this.left+_-this.right)/2,0,_),y=r.clamp((this.top+p-this.bottom)/2,0,p);return new r.Point(m,y)},su.prototype.equals=function(_){return this.top===_.top&&this.bottom===_.bottom&&this.left===_.left&&this.right===_.right},su.prototype.clone=function(){return new su(this.top,this.bottom,this.left,this.right)},su.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var ri=function(_,p,m,y,S){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=S===void 0||S,this._minZoom=_||0,this._maxZoom=p||22,this._minPitch=m??0,this._maxPitch=y??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new r.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new su,this._posMatrixCache={},this._alignedPosMatrixCache={}},Ni={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};ri.prototype.clone=function(){var _=new ri(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return _.tileSize=this.tileSize,_.latRange=this.latRange,_.width=this.width,_.height=this.height,_._center=this._center,_.zoom=this.zoom,_.angle=this.angle,_._fov=this._fov,_._pitch=this._pitch,_._unmodified=this._unmodified,_._edgeInsets=this._edgeInsets.clone(),_._calcMatrices(),_},Ni.minZoom.get=function(){return this._minZoom},Ni.minZoom.set=function(_){this._minZoom!==_&&(this._minZoom=_,this.zoom=Math.max(this.zoom,_))},Ni.maxZoom.get=function(){return this._maxZoom},Ni.maxZoom.set=function(_){this._maxZoom!==_&&(this._maxZoom=_,this.zoom=Math.min(this.zoom,_))},Ni.minPitch.get=function(){return this._minPitch},Ni.minPitch.set=function(_){this._minPitch!==_&&(this._minPitch=_,this.pitch=Math.max(this.pitch,_))},Ni.maxPitch.get=function(){return this._maxPitch},Ni.maxPitch.set=function(_){this._maxPitch!==_&&(this._maxPitch=_,this.pitch=Math.min(this.pitch,_))},Ni.renderWorldCopies.get=function(){return this._renderWorldCopies},Ni.renderWorldCopies.set=function(_){_===void 0?_=!0:_===null&&(_=!1),this._renderWorldCopies=_},Ni.worldSize.get=function(){return this.tileSize*this.scale},Ni.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Ni.size.get=function(){return new r.Point(this.width,this.height)},Ni.bearing.get=function(){return-this.angle/Math.PI*180},Ni.bearing.set=function(_){var p=-r.wrap(_,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=r.create$2(),r.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Ni.pitch.get=function(){return this._pitch/Math.PI*180},Ni.pitch.set=function(_){var p=r.clamp(_,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())},Ni.fov.get=function(){return this._fov/Math.PI*180},Ni.fov.set=function(_){_=Math.max(.01,Math.min(60,_)),this._fov!==_&&(this._unmodified=!1,this._fov=_/180*Math.PI,this._calcMatrices())},Ni.zoom.get=function(){return this._zoom},Ni.zoom.set=function(_){var p=Math.min(Math.max(_,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.scale=this.zoomScale(p),this.tileZoom=Math.floor(p),this.zoomFraction=p-this.tileZoom,this._constrain(),this._calcMatrices())},Ni.center.get=function(){return this._center},Ni.center.set=function(_){_.lat===this._center.lat&&_.lng===this._center.lng||(this._unmodified=!1,this._center=_,this._constrain(),this._calcMatrices())},Ni.padding.get=function(){return this._edgeInsets.toJSON()},Ni.padding.set=function(_){this._edgeInsets.equals(_)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,_,1),this._calcMatrices())},Ni.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},ri.prototype.isPaddingEqual=function(_){return this._edgeInsets.equals(_)},ri.prototype.interpolatePadding=function(_,p,m){this._unmodified=!1,this._edgeInsets.interpolate(_,p,m),this._constrain(),this._calcMatrices()},ri.prototype.coveringZoomLevel=function(_){var p=(_.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/_.tileSize));return Math.max(0,p)},ri.prototype.getVisibleUnwrappedCoordinates=function(_){var p=[new r.UnwrappedTileID(0,_)];if(this._renderWorldCopies)for(var m=this.pointCoordinate(new r.Point(0,0)),y=this.pointCoordinate(new r.Point(this.width,0)),S=this.pointCoordinate(new r.Point(this.width,this.height)),L=this.pointCoordinate(new r.Point(0,this.height)),A=Math.floor(Math.min(m.x,y.x,S.x,L.x)),O=Math.floor(Math.max(m.x,y.x,S.x,L.x)),N=A-1;N<=O+1;N++)N!==0&&p.push(new r.UnwrappedTileID(N,_));return p},ri.prototype.coveringTiles=function(_){var p=this.coveringZoomLevel(_),m=p;if(_.minzoom!==void 0&&p<_.minzoom)return[];_.maxzoom!==void 0&&p>_.maxzoom&&(p=_.maxzoom);var y=r.MercatorCoordinate.fromLngLat(this.center),S=Math.pow(2,p),L=[S*y.x,S*y.y,0],A=wm.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p),O=_.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(O=p);var N=function(ht){return{aabb:new ic([ht*S,0,0],[(ht+1)*S,S,0]),zoom:0,x:0,y:0,wrap:ht,fullyVisible:!1}},U=[],Q=[],J=p,te=_.reparseOverscaled?m:p;if(this._renderWorldCopies)for(var de=1;de<=3;de++)U.push(N(-de)),U.push(N(de));for(U.push(N(0));U.length>0;){var ce=U.pop(),ve=ce.x,re=ce.y,ye=ce.fullyVisible;if(!ye){var Me=ce.aabb.intersects(A);if(Me===0)continue;ye=Me===2}var ke=ce.aabb.distanceX(L),Be=ce.aabb.distanceY(L),Ne=Math.max(Math.abs(ke),Math.abs(Be));if(ce.zoom===J||Ne>3+(1<<J-ce.zoom)-2&&ce.zoom>=O)Q.push({tileID:new r.OverscaledTileID(ce.zoom===J?te:ce.zoom,ce.wrap,ce.zoom,ve,re),distanceSq:r.sqrLen([L[0]-.5-ve,L[1]-.5-re])});else for(var Ue=0;Ue<4;Ue++){var at=(ve<<1)+Ue%2,mt=(re<<1)+(Ue>>1);U.push({aabb:ce.aabb.quadrant(Ue),zoom:ce.zoom+1,x:at,y:mt,wrap:ce.wrap,fullyVisible:ye})}}return Q.sort(function(ht,Rt){return ht.distanceSq-Rt.distanceSq}).map(function(ht){return ht.tileID})},ri.prototype.resize=function(_,p){this.width=_,this.height=p,this.pixelsToGLUnits=[2/_,-2/p],this._constrain(),this._calcMatrices()},Ni.unmodified.get=function(){return this._unmodified},ri.prototype.zoomScale=function(_){return Math.pow(2,_)},ri.prototype.scaleZoom=function(_){return Math.log(_)/Math.LN2},ri.prototype.project=function(_){var p=r.clamp(_.lat,-this.maxValidLatitude,this.maxValidLatitude);return new r.Point(r.mercatorXfromLng(_.lng)*this.worldSize,r.mercatorYfromLat(p)*this.worldSize)},ri.prototype.unproject=function(_){return new r.MercatorCoordinate(_.x/this.worldSize,_.y/this.worldSize).toLngLat()},Ni.point.get=function(){return this.project(this.center)},ri.prototype.setLocationAtPoint=function(_,p){var m=this.pointCoordinate(p),y=this.pointCoordinate(this.centerPoint),S=this.locationCoordinate(_),L=new r.MercatorCoordinate(S.x-(m.x-y.x),S.y-(m.y-y.y));this.center=this.coordinateLocation(L),this._renderWorldCopies&&(this.center=this.center.wrap())},ri.prototype.locationPoint=function(_){return this.coordinatePoint(this.locationCoordinate(_))},ri.prototype.pointLocation=function(_){return this.coordinateLocation(this.pointCoordinate(_))},ri.prototype.locationCoordinate=function(_){return r.MercatorCoordinate.fromLngLat(_)},ri.prototype.coordinateLocation=function(_){return _.toLngLat()},ri.prototype.pointCoordinate=function(_){var p=[_.x,_.y,0,1],m=[_.x,_.y,1,1];r.transformMat4(p,p,this.pixelMatrixInverse),r.transformMat4(m,m,this.pixelMatrixInverse);var y=p[3],S=m[3],L=p[1]/y,A=m[1]/S,O=p[2]/y,N=m[2]/S,U=O===N?0:(0-O)/(N-O);return new r.MercatorCoordinate(r.number(p[0]/y,m[0]/S,U)/this.worldSize,r.number(L,A,U)/this.worldSize)},ri.prototype.coordinatePoint=function(_){var p=[_.x*this.worldSize,_.y*this.worldSize,0,1];return r.transformMat4(p,p,this.pixelMatrix),new r.Point(p[0]/p[3],p[1]/p[3])},ri.prototype.getBounds=function(){return new r.LngLatBounds().extend(this.pointLocation(new r.Point(0,0))).extend(this.pointLocation(new r.Point(this.width,0))).extend(this.pointLocation(new r.Point(this.width,this.height))).extend(this.pointLocation(new r.Point(0,this.height)))},ri.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new r.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},ri.prototype.setMaxBounds=function(_){_?(this.lngRange=[_.getWest(),_.getEast()],this.latRange=[_.getSouth(),_.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},ri.prototype.calculatePosMatrix=function(_,p){p===void 0&&(p=!1);var m=_.key,y=p?this._alignedPosMatrixCache:this._posMatrixCache;if(y[m])return y[m];var S=_.canonical,L=this.worldSize/this.zoomScale(S.z),A=S.x+Math.pow(2,S.z)*_.wrap,O=r.identity(new Float64Array(16));return r.translate(O,O,[A*L,S.y*L,0]),r.scale(O,O,[L/r.EXTENT,L/r.EXTENT,1]),r.multiply(O,p?this.alignedProjMatrix:this.projMatrix,O),y[m]=new Float32Array(O),y[m]},ri.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},ri.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var _,p,m,y,S=-90,L=90,A=-180,O=180,N=this.size,U=this._unmodified;if(this.latRange){var Q=this.latRange;S=r.mercatorYfromLat(Q[1])*this.worldSize,_=(L=r.mercatorYfromLat(Q[0])*this.worldSize)-S<N.y?N.y/(L-S):0}if(this.lngRange){var J=this.lngRange;A=r.mercatorXfromLng(J[0])*this.worldSize,p=(O=r.mercatorXfromLng(J[1])*this.worldSize)-A<N.x?N.x/(O-A):0}var te=this.point,de=Math.max(p||0,_||0);if(de)return this.center=this.unproject(new r.Point(p?(O+A)/2:te.x,_?(L+S)/2:te.y)),this.zoom+=this.scaleZoom(de),this._unmodified=U,void(this._constraining=!1);if(this.latRange){var ce=te.y,ve=N.y/2;ce-ve<S&&(y=S+ve),ce+ve>L&&(y=L-ve)}if(this.lngRange){var re=te.x,ye=N.x/2;re-ye<A&&(m=A+ye),re+ye>O&&(m=O-ye)}m===void 0&&y===void 0||(this.center=this.unproject(new r.Point(m!==void 0?m:te.x,y!==void 0?y:te.y))),this._unmodified=U,this._constraining=!1}},ri.prototype._calcMatrices=function(){if(this.height){var _=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var p=Math.PI/2+this._pitch,m=this._fov*(.5+_.y/this.height),y=Math.sin(m)*this.cameraToCenterDistance/Math.sin(r.clamp(Math.PI-p-m,.01,Math.PI-.01)),S=this.point,L=S.x,A=S.y,O=1.01*(Math.cos(Math.PI/2-this._pitch)*y+this.cameraToCenterDistance),N=this.height/50,U=new Float64Array(16);r.perspective(U,this._fov,this.width/this.height,N,O),U[8]=2*-_.x/this.width,U[9]=2*_.y/this.height,r.scale(U,U,[1,-1,1]),r.translate(U,U,[0,0,-this.cameraToCenterDistance]),r.rotateX(U,U,this._pitch),r.rotateZ(U,U,this.angle),r.translate(U,U,[-L,-A,0]),this.mercatorMatrix=r.scale([],U,[this.worldSize,this.worldSize,this.worldSize]),r.scale(U,U,[1,1,r.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=U,this.invProjMatrix=r.invert([],this.projMatrix);var Q=this.width%2/2,J=this.height%2/2,te=Math.cos(this.angle),de=Math.sin(this.angle),ce=L-Math.round(L)+te*Q+de*J,ve=A-Math.round(A)+te*J+de*Q,re=new Float64Array(U);if(r.translate(re,re,[ce>.5?ce-1:ce,ve>.5?ve-1:ve,0]),this.alignedProjMatrix=re,U=r.create(),r.scale(U,U,[this.width/2,-this.height/2,1]),r.translate(U,U,[1,-1,0]),this.labelPlaneMatrix=U,U=r.create(),r.scale(U,U,[1,-1,1]),r.translate(U,U,[-1,-1,0]),r.scale(U,U,[2/this.width,2/this.height,1]),this.glCoordMatrix=U,this.pixelMatrix=r.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(U=r.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=U,this._posMatrixCache={},this._alignedPosMatrixCache={}}},ri.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var _=this.pointCoordinate(new r.Point(0,0)),p=[_.x*this.worldSize,_.y*this.worldSize,0,1];return r.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance},ri.prototype.getCameraPoint=function(){var _=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new r.Point(0,_))},ri.prototype.getCameraQueryGeometry=function(_){var p=this.getCameraPoint();if(_.length===1)return[_[0],p];for(var m=p.x,y=p.y,S=p.x,L=p.y,A=0,O=_;A<O.length;A+=1){var N=O[A];m=Math.min(m,N.x),y=Math.min(y,N.y),S=Math.max(S,N.x),L=Math.max(L,N.y)}return[new r.Point(m,y),new r.Point(S,y),new r.Point(S,L),new r.Point(m,L),new r.Point(m,y)]},Object.defineProperties(ri.prototype,Ni);var Ps=function(_){var p,m,y,S;this._hashName=_&&encodeURIComponent(_),r.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(p=this._updateHashUnthrottled.bind(this),m=!1,y=null,S=function(){y=null,m&&(p(),y=setTimeout(S,300),m=!1)},function(){return m=!0,y||S(),y})};Ps.prototype.addTo=function(_){return this._map=_,r.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ps.prototype.remove=function(){return r.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ps.prototype.getHashString=function(_){var p=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,y=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),S=Math.pow(10,y),L=Math.round(p.lng*S)/S,A=Math.round(p.lat*S)/S,O=this._map.getBearing(),N=this._map.getPitch(),U="";if(U+=_?"/"+L+"/"+A+"/"+m:m+"/"+A+"/"+L,(O||N)&&(U+="/"+Math.round(10*O)/10),N&&(U+="/"+Math.round(N)),this._hashName){var Q=this._hashName,J=!1,te=r.window.location.hash.slice(1).split("&").map(function(de){var ce=de.split("=")[0];return ce===Q?(J=!0,ce+"="+U):de}).filter(function(de){return de});return J||te.push(Q+"="+U),"#"+te.join("&")}return"#"+U},Ps.prototype._getCurrentHash=function(){var _,p=this,m=r.window.location.hash.replace("#","");return this._hashName?(m.split("&").map(function(y){return y.split("=")}).forEach(function(y){y[0]===p._hashName&&(_=y)}),(_&&_[1]||"").split("/")):m.split("/")},Ps.prototype._onHashChange=function(){var _=this._getCurrentHash();if(_.length>=3&&!_.some(function(m){return isNaN(m)})){var p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(_[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+_[2],+_[1]],zoom:+_[0],bearing:p,pitch:+(_[4]||0)}),!0}return!1},Ps.prototype._updateHashUnthrottled=function(){var _=r.window.location.href.replace(/(#.+)?$/,this.getHashString());try{r.window.history.replaceState(r.window.history.state,null,_)}catch{}};var Vh={linearity:.3,easing:r.bezier(0,0,.3,1)},cd=r.extend({deceleration:2500,maxSpeed:1400},Vh),jh=r.extend({deceleration:20,maxSpeed:1400},Vh),uw=r.extend({deceleration:1e3,maxSpeed:360},Vh),cw=r.extend({deceleration:1e3,maxSpeed:90},Vh),Hh=function(_){this._map=_,this.clear()};function Zh(_,p){(!_.duration||_.duration<p.duration)&&(_.duration=p.duration,_.easing=p.easing)}function pl(_,p,m){var y=m.maxSpeed,S=m.linearity,L=m.deceleration,A=r.clamp(_*S/(p/1e3),-y,y),O=Math.abs(A)/(L*S);return{easing:m.easing,duration:1e3*O,amount:A*(O/2)}}Hh.prototype.clear=function(){this._inertiaBuffer=[]},Hh.prototype.record=function(_){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:r.browser.now(),settings:_})},Hh.prototype._drainInertiaBuffer=function(){for(var _=this._inertiaBuffer,p=r.browser.now();_.length>0&&p-_[0].time>160;)_.shift()},Hh.prototype._onMoveEnd=function(_){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var p={zoom:0,bearing:0,pitch:0,pan:new r.Point(0,0),pinchAround:void 0,around:void 0},m=0,y=this._inertiaBuffer;m<y.length;m+=1){var S=y[m].settings;p.zoom+=S.zoomDelta||0,p.bearing+=S.bearingDelta||0,p.pitch+=S.pitchDelta||0,S.panDelta&&p.pan._add(S.panDelta),S.around&&(p.around=S.around),S.pinchAround&&(p.pinchAround=S.pinchAround)}var L=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,A={};if(p.pan.mag()){var O=pl(p.pan.mag(),L,r.extend({},cd,_||{}));A.offset=p.pan.mult(O.amount/p.pan.mag()),A.center=this._map.transform.center,Zh(A,O)}if(p.zoom){var N=pl(p.zoom,L,jh);A.zoom=this._map.transform.zoom+N.amount,Zh(A,N)}if(p.bearing){var U=pl(p.bearing,L,uw);A.bearing=this._map.transform.bearing+r.clamp(U.amount,-179,179),Zh(A,U)}if(p.pitch){var Q=pl(p.pitch,L,cw);A.pitch=this._map.transform.pitch+Q.amount,Zh(A,Q)}if(A.zoom||A.bearing){var J=p.pinchAround===void 0?p.around:p.pinchAround;A.around=J?this._map.unproject(J):this._map.getCenter()}return this.clear(),r.extend(A,{noMoveStart:!0})}};var Fn=function(_){function p(y,S,L,A){A===void 0&&(A={});var O=c.mousePos(S.getCanvasContainer(),L),N=S.unproject(O);_.call(this,y,r.extend({point:O,lngLat:N,originalEvent:L},A)),this._defaultPrevented=!1,this.target=S}_&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p;var m={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},m.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,m),p}(r.Event),Xh=function(_){function p(y,S,L){var A=y==="touchend"?L.changedTouches:L.touches,O=c.touchPos(S.getCanvasContainer(),A),N=O.map(function(J){return S.unproject(J)}),U=O.reduce(function(J,te,de,ce){return J.add(te.div(ce.length))},new r.Point(0,0)),Q=S.unproject(U);_.call(this,y,{points:O,point:U,lngLats:N,lngLat:Q,originalEvent:L}),this._defaultPrevented=!1}_&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p;var m={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},m.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,m),p}(r.Event),T1=function(_){function p(y,S,L){_.call(this,y,{originalEvent:L}),this._defaultPrevented=!1}_&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p;var m={defaultPrevented:{configurable:!0}};return p.prototype.preventDefault=function(){this._defaultPrevented=!0},m.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(p.prototype,m),p}(r.Event),Rn=function(_,p){this._map=_,this._clickTolerance=p.clickTolerance};Rn.prototype.reset=function(){delete this._mousedownPos},Rn.prototype.wheel=function(_){return this._firePreventable(new T1(_.type,this._map,_))},Rn.prototype.mousedown=function(_,p){return this._mousedownPos=p,this._firePreventable(new Fn(_.type,this._map,_))},Rn.prototype.mouseup=function(_){this._map.fire(new Fn(_.type,this._map,_))},Rn.prototype.click=function(_,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Fn(_.type,this._map,_))},Rn.prototype.dblclick=function(_){return this._firePreventable(new Fn(_.type,this._map,_))},Rn.prototype.mouseover=function(_){this._map.fire(new Fn(_.type,this._map,_))},Rn.prototype.mouseout=function(_){this._map.fire(new Fn(_.type,this._map,_))},Rn.prototype.touchstart=function(_){return this._firePreventable(new Xh(_.type,this._map,_))},Rn.prototype.touchmove=function(_){this._map.fire(new Xh(_.type,this._map,_))},Rn.prototype.touchend=function(_){this._map.fire(new Xh(_.type,this._map,_))},Rn.prototype.touchcancel=function(_){this._map.fire(new Xh(_.type,this._map,_))},Rn.prototype._firePreventable=function(_){if(this._map.fire(_),_.defaultPrevented)return{}},Rn.prototype.isEnabled=function(){return!0},Rn.prototype.isActive=function(){return!1},Rn.prototype.enable=function(){},Rn.prototype.disable=function(){};var Dt=function(_){this._map=_};Dt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Dt.prototype.mousemove=function(_){this._map.fire(new Fn(_.type,this._map,_))},Dt.prototype.mousedown=function(){this._delayContextMenu=!0},Dt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Fn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Dt.prototype.contextmenu=function(_){this._delayContextMenu?this._contextMenuEvent=_:this._map.fire(new Fn(_.type,this._map,_)),this._map.listens("contextmenu")&&_.preventDefault()},Dt.prototype.isEnabled=function(){return!0},Dt.prototype.isActive=function(){return!1},Dt.prototype.enable=function(){},Dt.prototype.disable=function(){};var _s=function(_,p){this._map=_,this._el=_.getCanvasContainer(),this._container=_.getContainer(),this._clickTolerance=p.clickTolerance||1};function Sm(_,p){for(var m={},y=0;y<_.length;y++)m[_[y].identifier]=p[y];return m}_s.prototype.isEnabled=function(){return!!this._enabled},_s.prototype.isActive=function(){return!!this._active},_s.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},_s.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},_s.prototype.mousedown=function(_,p){this.isEnabled()&&_.shiftKey&&_.button===0&&(c.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)},_s.prototype.mousemoveWindow=function(_,p){if(this._active){var m=p;if(!(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)){var y=this._startPos;this._lastPos=m,this._box||(this._box=c.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",_));var S=Math.min(y.x,m.x),L=Math.max(y.x,m.x),A=Math.min(y.y,m.y),O=Math.max(y.y,m.y);c.setTransform(this._box,"translate("+S+"px,"+A+"px)"),this._box.style.width=L-S+"px",this._box.style.height=O-A+"px"}}},_s.prototype.mouseupWindow=function(_,p){var m=this;if(this._active&&_.button===0){var y=this._startPos,S=p;if(this.reset(),c.suppressClick(),y.x!==S.x||y.y!==S.y)return this._map.fire(new r.Event("boxzoomend",{originalEvent:_})),{cameraAnimation:function(L){return L.fitScreenCoordinates(y,S,m._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",_)}},_s.prototype.keydown=function(_){this._active&&_.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",_))},_s.prototype.blur=function(){this.reset()},_s.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(c.remove(this._box),this._box=null),c.enableDrag(),delete this._startPos,delete this._lastPos},_s.prototype._fireEvent=function(_,p){return this._map.fire(new r.Event(_,{originalEvent:p}))};var dd=function(_){this.reset(),this.numTouches=_.numTouches};dd.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},dd.prototype.touchstart=function(_,p,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=_.timeStamp),m.length===this.numTouches&&(this.centroid=function(y){for(var S=new r.Point(0,0),L=0,A=y;L<A.length;L+=1)S._add(A[L]);return S.div(y.length)}(p),this.touches=Sm(m,p)))},dd.prototype.touchmove=function(_,p,m){if(!this.aborted&&this.centroid){var y=Sm(m,p);for(var S in this.touches){var L=y[S];(!L||L.dist(this.touches[S])>30)&&(this.aborted=!0)}}},dd.prototype.touchend=function(_,p,m){if((!this.centroid||_.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){var y=!this.aborted&&this.centroid;if(this.reset(),y)return y}};var Mo=function(_){this.singleTap=new dd(_),this.numTaps=_.numTaps,this.reset()};Mo.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Mo.prototype.touchstart=function(_,p,m){this.singleTap.touchstart(_,p,m)},Mo.prototype.touchmove=function(_,p,m){this.singleTap.touchmove(_,p,m)},Mo.prototype.touchend=function(_,p,m){var y=this.singleTap.touchend(_,p,m);if(y){var S=_.timeStamp-this.lastTime<500,L=!this.lastTap||this.lastTap.dist(y)<30;if(S&&L||this.reset(),this.count++,this.lastTime=_.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}};var ms=function(){this._zoomIn=new Mo({numTouches:1,numTaps:2}),this._zoomOut=new Mo({numTouches:2,numTaps:1}),this.reset()};ms.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},ms.prototype.touchstart=function(_,p,m){this._zoomIn.touchstart(_,p,m),this._zoomOut.touchstart(_,p,m)},ms.prototype.touchmove=function(_,p,m){this._zoomIn.touchmove(_,p,m),this._zoomOut.touchmove(_,p,m)},ms.prototype.touchend=function(_,p,m){var y=this,S=this._zoomIn.touchend(_,p,m),L=this._zoomOut.touchend(_,p,m);return S?(this._active=!0,_.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(A){return A.easeTo({duration:300,zoom:A.getZoom()+1,around:A.unproject(S)},{originalEvent:_})}}):L?(this._active=!0,_.preventDefault(),setTimeout(function(){return y.reset()},0),{cameraAnimation:function(A){return A.easeTo({duration:300,zoom:A.getZoom()-1,around:A.unproject(L)},{originalEvent:_})}}):void 0},ms.prototype.touchcancel=function(){this.reset()},ms.prototype.enable=function(){this._enabled=!0},ms.prototype.disable=function(){this._enabled=!1,this.reset()},ms.prototype.isEnabled=function(){return this._enabled},ms.prototype.isActive=function(){return this._active};var ig={0:1,2:2},Tt=function(_){this.reset(),this._clickTolerance=_.clickTolerance||1};Tt.prototype.blur=function(){this.reset()},Tt.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Tt.prototype._correctButton=function(_,p){return!1},Tt.prototype._move=function(_,p){return{}},Tt.prototype.mousedown=function(_,p){if(!this._lastPoint){var m=c.mouseButton(_);this._correctButton(_,m)&&(this._lastPoint=p,this._eventButton=m)}},Tt.prototype.mousemoveWindow=function(_,p){var m=this._lastPoint;if(m){if(_.preventDefault(),function(y,S){var L=ig[S];return y.buttons===void 0||(y.buttons&L)!==L}(_,this._eventButton))this.reset();else if(this._moved||!(p.dist(m)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(m,p)}},Tt.prototype.mouseupWindow=function(_){this._lastPoint&&c.mouseButton(_)===this._eventButton&&(this._moved&&c.suppressClick(),this.reset())},Tt.prototype.enable=function(){this._enabled=!0},Tt.prototype.disable=function(){this._enabled=!1,this.reset()},Tt.prototype.isEnabled=function(){return this._enabled},Tt.prototype.isActive=function(){return this._active};var ng=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.mousedown=function(m,y){_.prototype.mousedown.call(this,m,y),this._lastPoint&&(this._active=!0)},p.prototype._correctButton=function(m,y){return y===0&&!m.ctrlKey},p.prototype._move=function(m,y){return{around:y,panDelta:y.sub(m)}},p}(Tt),Tm=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype._correctButton=function(m,y){return y===0&&m.ctrlKey||y===2},p.prototype._move=function(m,y){var S=.8*(y.x-m.x);if(S)return this._active=!0,{bearingDelta:S}},p.prototype.contextmenu=function(m){m.preventDefault()},p}(Tt),rg=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype._correctButton=function(m,y){return y===0&&m.ctrlKey||y===2},p.prototype._move=function(m,y){var S=-.5*(y.y-m.y);if(S)return this._active=!0,{pitchDelta:S}},p.prototype.contextmenu=function(m){m.preventDefault()},p}(Tt),io=function(_){this._minTouches=1,this._clickTolerance=_.clickTolerance||1,this.reset()};io.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new r.Point(0,0)},io.prototype.touchstart=function(_,p,m){return this._calculateTransform(_,p,m)},io.prototype.touchmove=function(_,p,m){if(this._active&&!(m.length<this._minTouches))return _.preventDefault(),this._calculateTransform(_,p,m)},io.prototype.touchend=function(_,p,m){this._calculateTransform(_,p,m),this._active&&m.length<this._minTouches&&this.reset()},io.prototype.touchcancel=function(){this.reset()},io.prototype._calculateTransform=function(_,p,m){m.length>0&&(this._active=!0);var y=Sm(m,p),S=new r.Point(0,0),L=new r.Point(0,0),A=0;for(var O in y){var N=y[O],U=this._touches[O];U&&(S._add(N),L._add(N.sub(U)),A++,y[O]=N)}if(this._touches=y,!(A<this._minTouches)&&L.mag()){var Q=L.div(A);if(this._sum._add(Q),!(this._sum.mag()<this._clickTolerance))return{around:S.div(A),panDelta:Q}}},io.prototype.enable=function(){this._enabled=!0},io.prototype.disable=function(){this._enabled=!1,this.reset()},io.prototype.isEnabled=function(){return this._enabled},io.prototype.isActive=function(){return this._active};var ps=function(){this.reset()};function Em(_,p,m){for(var y=0;y<_.length;y++)if(_[y].identifier===m)return p[y]}function Mm(_,p){return Math.log(_/p)/Math.LN2}ps.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ps.prototype._start=function(_){},ps.prototype._move=function(_,p,m){return{}},ps.prototype.touchstart=function(_,p,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([p[0],p[1]]))},ps.prototype.touchmove=function(_,p,m){if(this._firstTwoTouches){_.preventDefault();var y=this._firstTwoTouches,S=y[1],L=Em(m,p,y[0]),A=Em(m,p,S);if(L&&A){var O=this._aroundCenter?null:L.add(A).div(2);return this._move([L,A],O,_)}}},ps.prototype.touchend=function(_,p,m){if(this._firstTwoTouches){var y=this._firstTwoTouches,S=y[1],L=Em(m,p,y[0]),A=Em(m,p,S);L&&A||(this._active&&c.suppressClick(),this.reset())}},ps.prototype.touchcancel=function(){this.reset()},ps.prototype.enable=function(_){this._enabled=!0,this._aroundCenter=!!_&&_.around==="center"},ps.prototype.disable=function(){this._enabled=!1,this.reset()},ps.prototype.isEnabled=function(){return this._enabled},ps.prototype.isActive=function(){return this._active};var fs=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.reset=function(){_.prototype.reset.call(this),delete this._distance,delete this._startDistance},p.prototype._start=function(m){this._startDistance=this._distance=m[0].dist(m[1])},p.prototype._move=function(m,y){var S=this._distance;if(this._distance=m[0].dist(m[1]),this._active||!(Math.abs(Mm(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Mm(this._distance,S),pinchAround:y}},p}(ps);function fl(_,p){return 180*_.angleWith(p)/Math.PI}var E1=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.reset=function(){_.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},p.prototype._start=function(m){this._startVector=this._vector=m[0].sub(m[1]),this._minDiameter=m[0].dist(m[1])},p.prototype._move=function(m,y){var S=this._vector;if(this._vector=m[0].sub(m[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:fl(this._vector,S),pinchAround:y}},p.prototype._isBelowThreshold=function(m){this._minDiameter=Math.min(this._minDiameter,m.mag());var y=25/(Math.PI*this._minDiameter)*360,S=fl(m,this._startVector);return Math.abs(S)<y},p}(ps);function Yh(_){return Math.abs(_.y)>Math.abs(_.x)}var sg=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.reset=function(){_.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},p.prototype._start=function(m){this._lastPoints=m,Yh(m[0].sub(m[1]))&&(this._valid=!1)},p.prototype._move=function(m,y,S){var L=m[0].sub(this._lastPoints[0]),A=m[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(L,A,S.timeStamp),this._valid)return this._lastPoints=m,this._active=!0,{pitchDelta:(L.y+A.y)/2*-.5}},p.prototype.gestureBeginsVertically=function(m,y,S){if(this._valid!==void 0)return this._valid;var L=m.mag()>=2,A=y.mag()>=2;if(L||A){if(!L||!A)return this._firstMove===void 0&&(this._firstMove=S),S-this._firstMove<100&&void 0;var O=m.y>0==y.y>0;return Yh(m)&&Yh(y)&&O}},p}(ps),og={panStep:100,bearingStep:15,pitchStep:10},Lo=function(){var _=og;this._panStep=_.panStep,this._bearingStep=_.bearingStep,this._pitchStep=_.pitchStep,this._rotationDisabled=!1};function Ds(_){return _*(2-_)}Lo.prototype.blur=function(){this.reset()},Lo.prototype.reset=function(){this._active=!1},Lo.prototype.keydown=function(_){var p=this;if(!(_.altKey||_.ctrlKey||_.metaKey)){var m=0,y=0,S=0,L=0,A=0;switch(_.keyCode){case 61:case 107:case 171:case 187:m=1;break;case 189:case 109:case 173:m=-1;break;case 37:_.shiftKey?y=-1:(_.preventDefault(),L=-1);break;case 39:_.shiftKey?y=1:(_.preventDefault(),L=1);break;case 38:_.shiftKey?S=1:(_.preventDefault(),A=-1);break;case 40:_.shiftKey?S=-1:(_.preventDefault(),A=1);break;default:return}return this._rotationDisabled&&(y=0,S=0),{cameraAnimation:function(O){var N=O.getZoom();O.easeTo({duration:300,easeId:"keyboardHandler",easing:Ds,zoom:m?Math.round(N)+m*(_.shiftKey?2:1):N,bearing:O.getBearing()+y*p._bearingStep,pitch:O.getPitch()+S*p._pitchStep,offset:[-L*p._panStep,-A*p._panStep],center:O.getCenter()},{originalEvent:_})}}}},Lo.prototype.enable=function(){this._enabled=!0},Lo.prototype.disable=function(){this._enabled=!1,this.reset()},Lo.prototype.isEnabled=function(){return this._enabled},Lo.prototype.isActive=function(){return this._active},Lo.prototype.disableRotation=function(){this._rotationDisabled=!0},Lo.prototype.enableRotation=function(){this._rotationDisabled=!1};var Ha=function(_,p){this._map=_,this._el=_.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,r.bindAll(["_onTimeout"],this)};Ha.prototype.setZoomRate=function(_){this._defaultZoomRate=_},Ha.prototype.setWheelZoomRate=function(_){this._wheelZoomRate=_},Ha.prototype.isEnabled=function(){return!!this._enabled},Ha.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Ha.prototype.isZooming=function(){return!!this._zooming},Ha.prototype.enable=function(_){this.isEnabled()||(this._enabled=!0,this._aroundCenter=_&&_.around==="center")},Ha.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ha.prototype.wheel=function(_){if(this.isEnabled()){var p=_.deltaMode===r.window.WheelEvent.DOM_DELTA_LINE?40*_.deltaY:_.deltaY,m=r.browser.now(),y=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,p!==0&&p%4.000244140625==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,_)):this._type||(this._type=Math.abs(y*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),_.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=_,this._delta-=p,this._active||this._start(_)),_.preventDefault()}},Ha.prototype._onTimeout=function(_){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_)},Ha.prototype._start=function(_){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var p=c.mousePos(this._el,_);this._around=r.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(p)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Ha.prototype.renderFrame=function(){var _=this;if(this._frameId&&(this._frameId=null,this.isActive())){var p=this._map.transform;if(this._delta!==0){var m=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,y=2/(1+Math.exp(-Math.abs(this._delta*m)));this._delta<0&&y!==0&&(y=1/y);var S=typeof this._targetZoom=="number"?p.zoomScale(this._targetZoom):p.scale;this._targetZoom=Math.min(p.maxZoom,Math.max(p.minZoom,p.scaleZoom(S*y))),this._type==="wheel"&&(this._startZoom=p.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var L,A=typeof this._targetZoom=="number"?this._targetZoom:p.zoom,O=this._startZoom,N=this._easing,U=!1;if(this._type==="wheel"&&O&&N){var Q=Math.min((r.browser.now()-this._lastWheelEventTime)/200,1),J=N(Q);L=r.number(O,A,J),Q<1?this._frameId||(this._frameId=!0):U=!0}else L=A,U=!0;return this._active=!0,U&&(this._active=!1,this._finishTimeout=setTimeout(function(){_._zooming=!1,_._handler._triggerRenderFrame(),delete _._targetZoom,delete _._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!U,zoomDelta:L-p.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Ha.prototype._smoothOutEasing=function(_){var p=r.ease;if(this._prevEase){var m=this._prevEase,y=(r.browser.now()-m.start)/m.duration,S=m.easing(y+.01)-m.easing(y),L=.27/Math.sqrt(S*S+1e-4)*.01,A=Math.sqrt(.0729-L*L);p=r.bezier(L,A,.25,1)}return this._prevEase={start:r.browser.now(),duration:_,easing:p},p},Ha.prototype.blur=function(){this.reset()},Ha.prototype.reset=function(){this._active=!1};var Xo=function(_,p){this._clickZoom=_,this._tapZoom=p};Xo.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Xo.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Xo.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Xo.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var no=function(){this.reset()};no.prototype.reset=function(){this._active=!1},no.prototype.blur=function(){this.reset()},no.prototype.dblclick=function(_,p){return _.preventDefault(),{cameraAnimation:function(m){m.easeTo({duration:300,zoom:m.getZoom()+(_.shiftKey?-1:1),around:m.unproject(p)},{originalEvent:_})}}},no.prototype.enable=function(){this._enabled=!0},no.prototype.disable=function(){this._enabled=!1,this.reset()},no.prototype.isEnabled=function(){return this._enabled},no.prototype.isActive=function(){return this._active};var mr=function(){this._tap=new Mo({numTouches:1,numTaps:1}),this.reset()};mr.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},mr.prototype.touchstart=function(_,p,m){this._swipePoint||(this._tapTime&&_.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?m.length>0&&(this._swipePoint=p[0],this._swipeTouch=m[0].identifier):this._tap.touchstart(_,p,m))},mr.prototype.touchmove=function(_,p,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;var y=p[0],S=y.y-this._swipePoint.y;return this._swipePoint=y,_.preventDefault(),this._active=!0,{zoomDelta:S/128}}}else this._tap.touchmove(_,p,m)},mr.prototype.touchend=function(_,p,m){this._tapTime?this._swipePoint&&m.length===0&&this.reset():this._tap.touchend(_,p,m)&&(this._tapTime=_.timeStamp)},mr.prototype.touchcancel=function(){this.reset()},mr.prototype.enable=function(){this._enabled=!0},mr.prototype.disable=function(){this._enabled=!1,this.reset()},mr.prototype.isEnabled=function(){return this._enabled},mr.prototype.isActive=function(){return this._active};var nc=function(_,p,m){this._el=_,this._mousePan=p,this._touchPan=m};nc.prototype.enable=function(_){this._inertiaOptions=_||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},nc.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},nc.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},nc.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ou=function(_,p,m){this._pitchWithRotate=_.pitchWithRotate,this._mouseRotate=p,this._mousePitch=m};ou.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ou.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ou.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ou.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ao=function(_,p,m,y){this._el=_,this._touchZoom=p,this._touchRotate=m,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0};Ao.prototype.enable=function(_){this._touchZoom.enable(_),this._rotationDisabled||this._touchRotate.enable(_),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Ao.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Ao.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ao.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ao.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ao.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Nr=function(_){return _.zoom||_.drag||_.pitch||_.rotate},Kh=function(_){function p(){_.apply(this,arguments)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p}(r.Event);function Kt(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}var zt=function(_,p){this._map=_,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Hh(_),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p),r.bindAll(["handleEvent","handleWindowEvent"],this);var m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[r.window.document,"mousemove",{capture:!0}],[r.window.document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[r.window,"blur",void 0]];for(var y=0,S=this._listeners;y<S.length;y+=1){var L=S[y],A=L[0];c.addEventListener(A,L[1],A===r.window.document?this.handleWindowEvent:this.handleEvent,L[2])}};zt.prototype.destroy=function(){for(var _=0,p=this._listeners;_<p.length;_+=1){var m=p[_],y=m[0];c.removeEventListener(y,m[1],y===r.window.document?this.handleWindowEvent:this.handleEvent,m[2])}},zt.prototype._addDefaultHandlers=function(_){var p=this._map,m=p.getCanvasContainer();this._add("mapEvent",new Rn(p,_));var y=p.boxZoom=new _s(p,_);this._add("boxZoom",y);var S=new ms,L=new no;p.doubleClickZoom=new Xo(L,S),this._add("tapZoom",S),this._add("clickZoom",L);var A=new mr;this._add("tapDragZoom",A);var O=p.touchPitch=new sg;this._add("touchPitch",O);var N=new Tm(_),U=new rg(_);p.dragRotate=new ou(_,N,U),this._add("mouseRotate",N,["mousePitch"]),this._add("mousePitch",U,["mouseRotate"]);var Q=new ng(_),J=new io(_);p.dragPan=new nc(m,Q,J),this._add("mousePan",Q),this._add("touchPan",J,["touchZoom","touchRotate"]);var te=new E1,de=new fs;p.touchZoomRotate=new Ao(m,de,te,A),this._add("touchRotate",te,["touchPan","touchZoom"]),this._add("touchZoom",de,["touchPan","touchRotate"]);var ce=p.scrollZoom=new Ha(p,this);this._add("scrollZoom",ce,["mousePan"]);var ve=p.keyboard=new Lo;this._add("keyboard",ve),this._add("blockableMapEvent",new Dt(p));for(var re=0,ye=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];re<ye.length;re+=1){var Me=ye[re];_.interactive&&_[Me]&&p[Me].enable(_[Me])}},zt.prototype._add=function(_,p,m){this._handlers.push({handlerName:_,handler:p,allowed:m}),this._handlersById[_]=p},zt.prototype.stop=function(_){if(!this._updatingCamera){for(var p=0,m=this._handlers;p<m.length;p+=1)m[p].handler.reset();this._inertia.clear(),this._fireEvents({},{},_),this._changes=[]}},zt.prototype.isActive=function(){for(var _=0,p=this._handlers;_<p.length;_+=1)if(p[_].handler.isActive())return!0;return!1},zt.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},zt.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},zt.prototype.isMoving=function(){return!!Nr(this._eventsInProgress)||this.isZooming()},zt.prototype._blockedByActive=function(_,p,m){for(var y in _)if(y!==m&&(!p||p.indexOf(y)<0))return!0;return!1},zt.prototype.handleWindowEvent=function(_){this.handleEvent(_,_.type+"Window")},zt.prototype._getMapTouches=function(_){for(var p=[],m=0,y=_;m<y.length;m+=1){var S=y[m];this._el.contains(S.target)&&p.push(S)}return p},zt.prototype.handleEvent=function(_,p){this._updatingCamera=!0;for(var m=_.type==="renderFrame"?void 0:_,y={needsRenderFrame:!1},S={},L={},A=_.touches?this._getMapTouches(_.touches):void 0,O=A?c.touchPos(this._el,A):c.mousePos(this._el,_),N=0,U=this._handlers;N<U.length;N+=1){var Q=U[N],J=Q.handlerName,te=Q.handler,de=Q.allowed;if(te.isEnabled()){var ce=void 0;this._blockedByActive(L,de,J)?te.reset():te[p||_.type]&&(ce=te[p||_.type](_,O,A),this.mergeHandlerResult(y,S,ce,J,m),ce&&ce.needsRenderFrame&&this._triggerRenderFrame()),(ce||te.isActive())&&(L[J]=te)}}var ve={};for(var re in this._previousActiveHandlers)L[re]||(ve[re]=m);this._previousActiveHandlers=L,(Object.keys(ve).length||Kt(y))&&(this._changes.push([y,S,ve]),this._triggerRenderFrame()),(Object.keys(L).length||Kt(y))&&this._map._stop(!0),this._updatingCamera=!1;var ye=y.cameraAnimation;ye&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ye(this._map))},zt.prototype.mergeHandlerResult=function(_,p,m,y,S){if(m){r.extend(_,m);var L={handlerName:y,originalEvent:m.originalEvent||S};m.zoomDelta!==void 0&&(p.zoom=L),m.panDelta!==void 0&&(p.drag=L),m.pitchDelta!==void 0&&(p.pitch=L),m.bearingDelta!==void 0&&(p.rotate=L)}},zt.prototype._applyChanges=function(){for(var _={},p={},m={},y=0,S=this._changes;y<S.length;y+=1){var L=S[y],A=L[0],O=L[1],N=L[2];A.panDelta&&(_.panDelta=(_.panDelta||new r.Point(0,0))._add(A.panDelta)),A.zoomDelta&&(_.zoomDelta=(_.zoomDelta||0)+A.zoomDelta),A.bearingDelta&&(_.bearingDelta=(_.bearingDelta||0)+A.bearingDelta),A.pitchDelta&&(_.pitchDelta=(_.pitchDelta||0)+A.pitchDelta),A.around!==void 0&&(_.around=A.around),A.pinchAround!==void 0&&(_.pinchAround=A.pinchAround),A.noInertia&&(_.noInertia=A.noInertia),r.extend(p,O),r.extend(m,N)}this._updateMapTransform(_,p,m),this._changes=[]},zt.prototype._updateMapTransform=function(_,p,m){var y=this._map,S=y.transform;if(!Kt(_))return this._fireEvents(p,m,!0);var L=_.panDelta,A=_.zoomDelta,O=_.bearingDelta,N=_.pitchDelta,U=_.around,Q=_.pinchAround;Q!==void 0&&(U=Q),y._stop(!0),U=U||y.transform.centerPoint;var J=S.pointLocation(L?U.sub(L):U);O&&(S.bearing+=O),N&&(S.pitch+=N),A&&(S.zoom+=A),S.setLocationAtPoint(J,U),this._map._update(),_.noInertia||this._inertia.record(_),this._fireEvents(p,m,!0)},zt.prototype._fireEvents=function(_,p,m){var y=this,S=Nr(this._eventsInProgress),L=Nr(_),A={};for(var O in _)this._eventsInProgress[O]||(A[O+"start"]=_[O].originalEvent),this._eventsInProgress[O]=_[O];for(var N in!S&&L&&this._fireEvent("movestart",L.originalEvent),A)this._fireEvent(N,A[N]);for(var U in L&&this._fireEvent("move",L.originalEvent),_)this._fireEvent(U,_[U].originalEvent);var Q,J={};for(var te in this._eventsInProgress){var de=this._eventsInProgress[te],ce=de.handlerName,ve=de.originalEvent;this._handlersById[ce].isActive()||(delete this._eventsInProgress[te],J[te+"end"]=Q=p[ce]||ve)}for(var re in J)this._fireEvent(re,J[re]);var ye=Nr(this._eventsInProgress);if(m&&(S||L)&&!ye){this._updatingCamera=!0;var Me=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ke=function(Be){return Be!==0&&-y._bearingSnap<Be&&Be<y._bearingSnap};Me?(ke(Me.bearing||this._map.getBearing())&&(Me.bearing=0),this._map.easeTo(Me,{originalEvent:Q})):(this._map.fire(new r.Event("moveend",{originalEvent:Q})),ke(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},zt.prototype._fireEvent=function(_,p){this._map.fire(new r.Event(_,p?{originalEvent:p}:{}))},zt.prototype._requestFrame=function(){var _=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(p){delete _._frameId,_.handleEvent(new Kh("renderFrame",{timeStamp:p})),_._applyChanges()})},zt.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Lm=function(_){function p(m,y){_.call(this),this._moving=!1,this._zooming=!1,this.transform=m,this._bearingSnap=y.bearingSnap,r.bindAll(["_renderFrameCallback"],this)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.getCenter=function(){return new r.LngLat(this.transform.center.lng,this.transform.center.lat)},p.prototype.setCenter=function(m,y){return this.jumpTo({center:m},y)},p.prototype.panBy=function(m,y,S){return m=r.Point.convert(m).mult(-1),this.panTo(this.transform.center,r.extend({offset:m},y),S)},p.prototype.panTo=function(m,y,S){return this.easeTo(r.extend({center:m},y),S)},p.prototype.getZoom=function(){return this.transform.zoom},p.prototype.setZoom=function(m,y){return this.jumpTo({zoom:m},y),this},p.prototype.zoomTo=function(m,y,S){return this.easeTo(r.extend({zoom:m},y),S)},p.prototype.zoomIn=function(m,y){return this.zoomTo(this.getZoom()+1,m,y),this},p.prototype.zoomOut=function(m,y){return this.zoomTo(this.getZoom()-1,m,y),this},p.prototype.getBearing=function(){return this.transform.bearing},p.prototype.setBearing=function(m,y){return this.jumpTo({bearing:m},y),this},p.prototype.getPadding=function(){return this.transform.padding},p.prototype.setPadding=function(m,y){return this.jumpTo({padding:m},y),this},p.prototype.rotateTo=function(m,y,S){return this.easeTo(r.extend({bearing:m},y),S)},p.prototype.resetNorth=function(m,y){return this.rotateTo(0,r.extend({duration:1e3},m),y),this},p.prototype.resetNorthPitch=function(m,y){return this.easeTo(r.extend({bearing:0,pitch:0,duration:1e3},m),y),this},p.prototype.snapToNorth=function(m,y){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(m,y):this},p.prototype.getPitch=function(){return this.transform.pitch},p.prototype.setPitch=function(m,y){return this.jumpTo({pitch:m},y),this},p.prototype.cameraForBounds=function(m,y){m=r.LngLatBounds.convert(m);var S=y&&y.bearing||0;return this._cameraForBoxAndBearing(m.getNorthWest(),m.getSouthEast(),S,y)},p.prototype._cameraForBoxAndBearing=function(m,y,S,L){var A={top:0,bottom:0,right:0,left:0};if(typeof(L=r.extend({padding:A,offset:[0,0],maxZoom:this.transform.maxZoom},L)).padding=="number"){var O=L.padding;L.padding={top:O,bottom:O,right:O,left:O}}L.padding=r.extend(A,L.padding);var N=this.transform,U=N.padding,Q=N.project(r.LngLat.convert(m)),J=N.project(r.LngLat.convert(y)),te=Q.rotate(-S*Math.PI/180),de=J.rotate(-S*Math.PI/180),ce=new r.Point(Math.max(te.x,de.x),Math.max(te.y,de.y)),ve=new r.Point(Math.min(te.x,de.x),Math.min(te.y,de.y)),re=ce.sub(ve),ye=(N.width-(U.left+U.right+L.padding.left+L.padding.right))/re.x,Me=(N.height-(U.top+U.bottom+L.padding.top+L.padding.bottom))/re.y;if(!(Me<0||ye<0)){var ke=Math.min(N.scaleZoom(N.scale*Math.min(ye,Me)),L.maxZoom),Be=typeof L.offset.x=="number"?new r.Point(L.offset.x,L.offset.y):r.Point.convert(L.offset),Ne=new r.Point((L.padding.left-L.padding.right)/2,(L.padding.top-L.padding.bottom)/2).rotate(S*Math.PI/180),Ue=Be.add(Ne).mult(N.scale/N.zoomScale(ke));return{center:N.unproject(Q.add(J).div(2).sub(Ue)),zoom:ke,bearing:S}}r.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},p.prototype.fitBounds=function(m,y,S){return this._fitInternal(this.cameraForBounds(m,y),y,S)},p.prototype.fitScreenCoordinates=function(m,y,S,L,A){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(r.Point.convert(m)),this.transform.pointLocation(r.Point.convert(y)),S,L),L,A)},p.prototype._fitInternal=function(m,y,S){return m?(delete(y=r.extend(m,y)).padding,y.linear?this.easeTo(y,S):this.flyTo(y,S)):this},p.prototype.jumpTo=function(m,y){this.stop();var S=this.transform,L=!1,A=!1,O=!1;return"zoom"in m&&S.zoom!==+m.zoom&&(L=!0,S.zoom=+m.zoom),m.center!==void 0&&(S.center=r.LngLat.convert(m.center)),"bearing"in m&&S.bearing!==+m.bearing&&(A=!0,S.bearing=+m.bearing),"pitch"in m&&S.pitch!==+m.pitch&&(O=!0,S.pitch=+m.pitch),m.padding==null||S.isPaddingEqual(m.padding)||(S.padding=m.padding),this.fire(new r.Event("movestart",y)).fire(new r.Event("move",y)),L&&this.fire(new r.Event("zoomstart",y)).fire(new r.Event("zoom",y)).fire(new r.Event("zoomend",y)),A&&this.fire(new r.Event("rotatestart",y)).fire(new r.Event("rotate",y)).fire(new r.Event("rotateend",y)),O&&this.fire(new r.Event("pitchstart",y)).fire(new r.Event("pitch",y)).fire(new r.Event("pitchend",y)),this.fire(new r.Event("moveend",y))},p.prototype.easeTo=function(m,y){var S=this;this._stop(!1,m.easeId),((m=r.extend({offset:[0,0],duration:500,easing:r.ease},m)).animate===!1||!m.essential&&r.browser.prefersReducedMotion)&&(m.duration=0);var L=this.transform,A=this.getZoom(),O=this.getBearing(),N=this.getPitch(),U=this.getPadding(),Q="zoom"in m?+m.zoom:A,J="bearing"in m?this._normalizeBearing(m.bearing,O):O,te="pitch"in m?+m.pitch:N,de="padding"in m?m.padding:L.padding,ce=r.Point.convert(m.offset),ve=L.centerPoint.add(ce),re=L.pointLocation(ve),ye=r.LngLat.convert(m.center||re);this._normalizeCenter(ye);var Me,ke,Be=L.project(re),Ne=L.project(ye).sub(Be),Ue=L.zoomScale(Q-A);m.around&&(Me=r.LngLat.convert(m.around),ke=L.locationPoint(Me));var at={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Q!==A,this._rotating=this._rotating||O!==J,this._pitching=this._pitching||te!==N,this._padding=!L.isPaddingEqual(de),this._easeId=m.easeId,this._prepareEase(y,m.noMoveStart,at),this._ease(function(mt){if(S._zooming&&(L.zoom=r.number(A,Q,mt)),S._rotating&&(L.bearing=r.number(O,J,mt)),S._pitching&&(L.pitch=r.number(N,te,mt)),S._padding&&(L.interpolatePadding(U,de,mt),ve=L.centerPoint.add(ce)),Me)L.setLocationAtPoint(Me,ke);else{var ht=L.zoomScale(L.zoom-A),Rt=Q>A?Math.min(2,Ue):Math.max(.5,Ue),$t=Math.pow(Rt,1-mt),ia=L.unproject(Be.add(Ne.mult(mt*$t)).mult(ht));L.setLocationAtPoint(L.renderWorldCopies?ia.wrap():ia,ve)}S._fireMoveEvents(y)},function(mt){S._afterEase(y,mt)},m),this},p.prototype._prepareEase=function(m,y,S){S===void 0&&(S={}),this._moving=!0,y||S.moving||this.fire(new r.Event("movestart",m)),this._zooming&&!S.zooming&&this.fire(new r.Event("zoomstart",m)),this._rotating&&!S.rotating&&this.fire(new r.Event("rotatestart",m)),this._pitching&&!S.pitching&&this.fire(new r.Event("pitchstart",m))},p.prototype._fireMoveEvents=function(m){this.fire(new r.Event("move",m)),this._zooming&&this.fire(new r.Event("zoom",m)),this._rotating&&this.fire(new r.Event("rotate",m)),this._pitching&&this.fire(new r.Event("pitch",m))},p.prototype._afterEase=function(m,y){if(!this._easeId||!y||this._easeId!==y){delete this._easeId;var S=this._zooming,L=this._rotating,A=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,S&&this.fire(new r.Event("zoomend",m)),L&&this.fire(new r.Event("rotateend",m)),A&&this.fire(new r.Event("pitchend",m)),this.fire(new r.Event("moveend",m))}},p.prototype.flyTo=function(m,y){var S=this;if(!m.essential&&r.browser.prefersReducedMotion){var L=r.pick(m,["center","zoom","bearing","pitch","around"]);return this.jumpTo(L,y)}this.stop(),m=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},m);var A=this.transform,O=this.getZoom(),N=this.getBearing(),U=this.getPitch(),Q=this.getPadding(),J="zoom"in m?r.clamp(+m.zoom,A.minZoom,A.maxZoom):O,te="bearing"in m?this._normalizeBearing(m.bearing,N):N,de="pitch"in m?+m.pitch:U,ce="padding"in m?m.padding:A.padding,ve=A.zoomScale(J-O),re=r.Point.convert(m.offset),ye=A.centerPoint.add(re),Me=A.pointLocation(ye),ke=r.LngLat.convert(m.center||Me);this._normalizeCenter(ke);var Be=A.project(Me),Ne=A.project(ke).sub(Be),Ue=m.curve,at=Math.max(A.width,A.height),mt=at/ve,ht=Ne.mag();if("minZoom"in m){var Rt=r.clamp(Math.min(m.minZoom,O,J),A.minZoom,A.maxZoom),$t=at/A.zoomScale(Rt-O);Ue=Math.sqrt($t/ht*2)}var ia=Ue*Ue;function ta(ua){var ra=(mt*mt-at*at+(ua?-1:1)*ia*ia*ht*ht)/(2*(ua?mt:at)*ia*ht);return Math.log(Math.sqrt(ra*ra+1)-ra)}function ui(ua){return(Math.exp(ua)-Math.exp(-ua))/2}function kt(ua){return(Math.exp(ua)+Math.exp(-ua))/2}var pa=ta(0),Oa=function(ua){return kt(pa)/kt(pa+Ue*ua)},ha=function(ua){return at*((kt(pa)*(ui(ra=pa+Ue*ua)/kt(ra))-ui(pa))/ia)/ht;var ra},da=(ta(1)-pa)/Ue;if(Math.abs(ht)<1e-6||!isFinite(da)){if(Math.abs(at-mt)<1e-6)return this.easeTo(m,y);var Ia=mt<at?-1:1;da=Math.abs(Math.log(mt/at))/Ue,ha=function(){return 0},Oa=function(ua){return Math.exp(Ia*Ue*ua)}}return m.duration="duration"in m?+m.duration:1e3*da/("screenSpeed"in m?+m.screenSpeed/Ue:+m.speed),m.maxDuration&&m.duration>m.maxDuration&&(m.duration=0),this._zooming=!0,this._rotating=N!==te,this._pitching=de!==U,this._padding=!A.isPaddingEqual(ce),this._prepareEase(y,!1),this._ease(function(ua){var ra=ua*da,Hn=1/Oa(ra);A.zoom=ua===1?J:O+A.scaleZoom(Hn),S._rotating&&(A.bearing=r.number(N,te,ua)),S._pitching&&(A.pitch=r.number(U,de,ua)),S._padding&&(A.interpolatePadding(Q,ce,ua),ye=A.centerPoint.add(re));var gn=ua===1?ke:A.unproject(Be.add(Ne.mult(ha(ra))).mult(Hn));A.setLocationAtPoint(A.renderWorldCopies?gn.wrap():gn,ye),S._fireMoveEvents(y)},function(){return S._afterEase(y)},m),this},p.prototype.isEasing=function(){return!!this._easeFrameId},p.prototype.stop=function(){return this._stop()},p.prototype._stop=function(m,y){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var S=this._onEaseEnd;delete this._onEaseEnd,S.call(this,y)}if(!m){var L=this.handlers;L&&L.stop(!1)}return this},p.prototype._ease=function(m,y,S){S.animate===!1||S.duration===0?(m(1),y()):(this._easeStart=r.browser.now(),this._easeOptions=S,this._onEaseFrame=m,this._onEaseEnd=y,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},p.prototype._renderFrameCallback=function(){var m=Math.min((r.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},p.prototype._normalizeBearing=function(m,y){m=r.wrap(m,-180,180);var S=Math.abs(m-y);return Math.abs(m-360-y)<S&&(m-=360),Math.abs(m+360-y)<S&&(m+=360),m},p.prototype._normalizeCenter=function(m){var y=this.transform;if(y.renderWorldCopies&&!y.lngRange){var S=m.lng-y.center.lng;m.lng+=S>180?-360:S<-180?360:0}},p}(r.Evented),Wr=function(_){_===void 0&&(_={}),this.options=_,r.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Wr.prototype.getDefaultPosition=function(){return"bottom-right"},Wr.prototype.onAdd=function(_){var p=this.options&&this.options.compact;return this._map=_,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=c.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=c.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),p&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),p===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Wr.prototype.onRemove=function(){c.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Wr.prototype._setElementTitle=function(_,p){var m=this._map._getUIString("AttributionControl."+p);_.title=m,_.setAttribute("aria-label",m)},Wr.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Wr.prototype._updateEditLink=function(){var _=this._editLink;_||(_=this._editLink=this._container.querySelector(".mapbox-improve-map"));var p=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||r.config.ACCESS_TOKEN}];if(_){var m=p.reduce(function(y,S,L){return S.value&&(y+=S.key+"="+S.value+(L<p.length-1?"&":"")),y},"?");_.href=r.config.FEEDBACK_URL+"/"+m+(this._map._hash?this._map._hash.getHashString(!0):""),_.rel="noopener nofollow",this._setElementTitle(_,"MapFeedback")}},Wr.prototype._updateData=function(_){!_||_.sourceDataType!=="metadata"&&_.sourceDataType!=="visibility"&&_.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Wr.prototype._updateAttributions=function(){if(this._map.style){var _=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?_=_.concat(this.options.customAttribution.map(function(O){return typeof O!="string"?"":O})):typeof this.options.customAttribution=="string"&&_.push(this.options.customAttribution)),this._map.style.stylesheet){var p=this._map.style.stylesheet;this.styleOwner=p.owner,this.styleId=p.id}var m=this._map.style.sourceCaches;for(var y in m){var S=m[y];if(S.used){var L=S.getSource();L.attribution&&_.indexOf(L.attribution)<0&&_.push(L.attribution)}}_.sort(function(O,N){return O.length-N.length});var A=(_=_.filter(function(O,N){for(var U=N+1;U<_.length;U++)if(_[U].indexOf(O)>=0)return!1;return!0})).join(" | ");A!==this._attribHTML&&(this._attribHTML=A,_.length?(this._innerContainer.innerHTML=A,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Wr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Co=function(){r.bindAll(["_updateLogo"],this),r.bindAll(["_updateCompact"],this)};Co.prototype.onAdd=function(_){this._map=_,this._container=c.create("div","mapboxgl-ctrl");var p=c.create("a","mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://www.mapbox.com/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Co.prototype.onRemove=function(){c.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Co.prototype.getDefaultPosition=function(){return"bottom-left"},Co.prototype._updateLogo=function(_){_&&_.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},Co.prototype._logoRequired=function(){if(this._map.style){var _=this._map.style.sourceCaches;for(var p in _)if(_[p].getSource().mapbox_logo)return!0;return!1}},Co.prototype._updateCompact=function(){var _=this._container.children;if(_.length){var p=_[0];this._map.getCanvasContainer().offsetWidth<250?p.classList.add("mapboxgl-compact"):p.classList.remove("mapboxgl-compact")}};var pr=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};pr.prototype.add=function(_){var p=++this._id;return this._queue.push({callback:_,id:p,cancelled:!1}),p},pr.prototype.remove=function(_){for(var p=this._currentlyRunning,m=0,y=p?this._queue.concat(p):this._queue;m<y.length;m+=1){var S=y[m];if(S.id===_)return void(S.cancelled=!0)}},pr.prototype.run=function(_){_===void 0&&(_=0);var p=this._currentlyRunning=this._queue;this._queue=[];for(var m=0,y=p;m<y.length;m+=1){var S=y[m];if(!S.cancelled&&(S.callback(_),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},pr.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Yo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},lg=r.window.HTMLImageElement,Am=r.window.HTMLElement,gi=r.window.ImageBitmap,ir={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},M1=function(_){function p(y){var S=this;if((y=r.extend({},ir,y)).minZoom!=null&&y.maxZoom!=null&&y.minZoom>y.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(y.minPitch!=null&&y.maxPitch!=null&&y.minPitch>y.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(y.minPitch!=null&&y.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(y.maxPitch!=null&&y.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var L=new ri(y.minZoom,y.maxZoom,y.minPitch,y.maxPitch,y.renderWorldCopies);if(_.call(this,L,y),this._interactive=y.interactive,this._maxTileCacheSize=y.maxTileCacheSize,this._failIfMajorPerformanceCaveat=y.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=y.preserveDrawingBuffer,this._antialias=y.antialias,this._trackResize=y.trackResize,this._bearingSnap=y.bearingSnap,this._refreshExpiredTiles=y.refreshExpiredTiles,this._fadeDuration=y.fadeDuration,this._crossSourceCollisions=y.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=y.collectResourceTiming,this._renderTaskQueue=new pr,this._controls=[],this._mapId=r.uniqueId(),this._locale=r.extend({},Yo,y.locale),this._clickTolerance=y.clickTolerance,this._requestManager=new r.RequestManager(y.transformRequest,y.accessToken),typeof y.container=="string"){if(this._container=r.window.document.getElementById(y.container),!this._container)throw new Error("Container '"+y.container+"' not found.")}else{if(!(y.container instanceof Am))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=y.container}if(y.maxBounds&&this.setMaxBounds(y.maxBounds),r.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return S._update(!1)}),this.on("moveend",function(){return S._update(!1)}),this.on("zoom",function(){return S._update(!0)}),r.window!==void 0&&(r.window.addEventListener("online",this._onWindowOnline,!1),r.window.addEventListener("resize",this._onWindowResize,!1),r.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new zt(this,y),this._hash=y.hash&&new Ps(typeof y.hash=="string"&&y.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),y.bounds&&(this.resize(),this.fitBounds(y.bounds,r.extend({},y.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=y.localIdeographFontFamily,y.style&&this.setStyle(y.style,{localIdeographFontFamily:y.localIdeographFontFamily}),y.attributionControl&&this.addControl(new Wr({customAttribution:y.customAttribution})),this.addControl(new Co,y.logoPosition),this.on("style.load",function(){S.transform.unmodified&&S.jumpTo(S.style.stylesheet)}),this.on("data",function(A){S._update(A.dataType==="style"),S.fire(new r.Event(A.dataType+"data",A))}),this.on("dataloading",function(A){S.fire(new r.Event(A.dataType+"dataloading",A))})}_&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p;var m={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return p.prototype._getMapId=function(){return this._mapId},p.prototype.addControl=function(y,S){if(S===void 0&&(S=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new r.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var L=y.onAdd(this);this._controls.push(y);var A=this._controlPositions[S];return S.indexOf("bottom")!==-1?A.insertBefore(L,A.firstChild):A.appendChild(L),this},p.prototype.removeControl=function(y){if(!y||!y.onRemove)return this.fire(new r.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var S=this._controls.indexOf(y);return S>-1&&this._controls.splice(S,1),y.onRemove(this),this},p.prototype.hasControl=function(y){return this._controls.indexOf(y)>-1},p.prototype.resize=function(y){var S=this._containerDimensions(),L=S[0],A=S[1];if(L===this.transform.width&&A===this.transform.height)return this;this._resizeCanvas(L,A),this.transform.resize(L,A),this.painter.resize(L,A);var O=!this._moving;return O&&this.fire(new r.Event("movestart",y)).fire(new r.Event("move",y)),this.fire(new r.Event("resize",y)),O&&this.fire(new r.Event("moveend",y)),this},p.prototype.getBounds=function(){return this.transform.getBounds()},p.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},p.prototype.setMaxBounds=function(y){return this.transform.setMaxBounds(r.LngLatBounds.convert(y)),this._update()},p.prototype.setMinZoom=function(y){if((y=y??-2)>=-2&&y<=this.transform.maxZoom)return this.transform.minZoom=y,this._update(),this.getZoom()<y&&this.setZoom(y),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},p.prototype.getMinZoom=function(){return this.transform.minZoom},p.prototype.setMaxZoom=function(y){if((y=y??22)>=this.transform.minZoom)return this.transform.maxZoom=y,this._update(),this.getZoom()>y&&this.setZoom(y),this;throw new Error("maxZoom must be greater than the current minZoom")},p.prototype.getMaxZoom=function(){return this.transform.maxZoom},p.prototype.setMinPitch=function(y){if((y=y??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.minPitch=y,this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},p.prototype.getMinPitch=function(){return this.transform.minPitch},p.prototype.setMaxPitch=function(y){if((y=y??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(y>=this.transform.minPitch)return this.transform.maxPitch=y,this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")},p.prototype.getMaxPitch=function(){return this.transform.maxPitch},p.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},p.prototype.setRenderWorldCopies=function(y){return this.transform.renderWorldCopies=y,this._update()},p.prototype.project=function(y){return this.transform.locationPoint(r.LngLat.convert(y))},p.prototype.unproject=function(y){return this.transform.pointLocation(r.Point.convert(y))},p.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},p.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},p.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},p.prototype._createDelegatedListener=function(y,S,L){var A,O=this;if(y==="mouseenter"||y==="mouseover"){var N=!1;return{layer:S,listener:L,delegates:{mousemove:function(Q){var J=O.getLayer(S)?O.queryRenderedFeatures(Q.point,{layers:[S]}):[];J.length?N||(N=!0,L.call(O,new Fn(y,O,Q.originalEvent,{features:J}))):N=!1},mouseout:function(){N=!1}}}}if(y==="mouseleave"||y==="mouseout"){var U=!1;return{layer:S,listener:L,delegates:{mousemove:function(Q){(O.getLayer(S)?O.queryRenderedFeatures(Q.point,{layers:[S]}):[]).length?U=!0:U&&(U=!1,L.call(O,new Fn(y,O,Q.originalEvent)))},mouseout:function(Q){U&&(U=!1,L.call(O,new Fn(y,O,Q.originalEvent)))}}}}return{layer:S,listener:L,delegates:(A={},A[y]=function(Q){var J=O.getLayer(S)?O.queryRenderedFeatures(Q.point,{layers:[S]}):[];J.length&&(Q.features=J,L.call(O,Q),delete Q.features)},A)}},p.prototype.on=function(y,S,L){if(L===void 0)return _.prototype.on.call(this,y,S);var A=this._createDelegatedListener(y,S,L);for(var O in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(A),A.delegates)this.on(O,A.delegates[O]);return this},p.prototype.once=function(y,S,L){if(L===void 0)return _.prototype.once.call(this,y,S);var A=this._createDelegatedListener(y,S,L);for(var O in A.delegates)this.once(O,A.delegates[O]);return this},p.prototype.off=function(y,S,L){var A=this;return L===void 0?_.prototype.off.call(this,y,S):(this._delegatedListeners&&this._delegatedListeners[y]&&function(O){for(var N=O[y],U=0;U<N.length;U++){var Q=N[U];if(Q.layer===S&&Q.listener===L){for(var J in Q.delegates)A.off(J,Q.delegates[J]);return N.splice(U,1),A}}}(this._delegatedListeners),this)},p.prototype.queryRenderedFeatures=function(y,S){if(!this.style)return[];var L;if(S!==void 0||y===void 0||y instanceof r.Point||Array.isArray(y)||(S=y,y=void 0),S=S||{},(y=y||[[0,0],[this.transform.width,this.transform.height]])instanceof r.Point||typeof y[0]=="number")L=[r.Point.convert(y)];else{var A=r.Point.convert(y[0]),O=r.Point.convert(y[1]);L=[A,new r.Point(O.x,A.y),O,new r.Point(A.x,O.y),A]}return this.style.queryRenderedFeatures(L,S,this.transform)},p.prototype.querySourceFeatures=function(y,S){return this.style.querySourceFeatures(y,S)},p.prototype.setStyle=function(y,S){return(S=r.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},S)).diff!==!1&&S.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,S),this):(this._localIdeographFontFamily=S.localIdeographFontFamily,this._updateStyle(y,S))},p.prototype._getUIString=function(y){var S=this._locale[y];if(S==null)throw new Error("Missing UI string '"+y+"'");return S},p.prototype._updateStyle=function(y,S){return this.style&&(this.style.setEventedParent(null),this.style._remove()),y?(this.style=new hs(this,S||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y):this.style.loadJSON(y),this):(delete this.style,this)},p.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new hs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},p.prototype._diffStyle=function(y,S){var L=this;if(typeof y=="string"){var A=this._requestManager.normalizeStyleURL(y),O=this._requestManager.transformRequest(A,r.ResourceType.Style);r.getJSON(O,function(N,U){N?L.fire(new r.ErrorEvent(N)):U&&L._updateDiff(U,S)})}else typeof y=="object"&&this._updateDiff(y,S)},p.prototype._updateDiff=function(y,S){try{this.style.setState(y)&&this._update(!0)}catch(L){r.warnOnce("Unable to perform style diff: "+(L.message||L.error||L)+".  Rebuilding the style from scratch."),this._updateStyle(y,S)}},p.prototype.getStyle=function(){if(this.style)return this.style.serialize()},p.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():r.warnOnce("There is no style added to the map.")},p.prototype.addSource=function(y,S){return this._lazyInitEmptyStyle(),this.style.addSource(y,S),this._update(!0)},p.prototype.isSourceLoaded=function(y){var S=this.style&&this.style.sourceCaches[y];if(S!==void 0)return S.loaded();this.fire(new r.ErrorEvent(new Error("There is no source with ID '"+y+"'")))},p.prototype.areTilesLoaded=function(){var y=this.style&&this.style.sourceCaches;for(var S in y){var L=y[S]._tiles;for(var A in L){var O=L[A];if(O.state!=="loaded"&&O.state!=="errored")return!1}}return!0},p.prototype.addSourceType=function(y,S,L){return this._lazyInitEmptyStyle(),this.style.addSourceType(y,S,L)},p.prototype.removeSource=function(y){return this.style.removeSource(y),this._update(!0)},p.prototype.getSource=function(y){return this.style.getSource(y)},p.prototype.addImage=function(y,S,L){L===void 0&&(L={});var A=L.pixelRatio;A===void 0&&(A=1);var O=L.sdf;O===void 0&&(O=!1);var N=L.stretchX,U=L.stretchY,Q=L.content;if(this._lazyInitEmptyStyle(),S instanceof lg||gi&&S instanceof gi){var J=r.browser.getImageData(S);this.style.addImage(y,{data:new r.RGBAImage({width:J.width,height:J.height},J.data),pixelRatio:A,stretchX:N,stretchY:U,content:Q,sdf:O,version:0})}else{if(S.width===void 0||S.height===void 0)return this.fire(new r.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var te=S;this.style.addImage(y,{data:new r.RGBAImage({width:S.width,height:S.height},new Uint8Array(S.data)),pixelRatio:A,stretchX:N,stretchY:U,content:Q,sdf:O,version:0,userImage:te}),te.onAdd&&te.onAdd(this,y)}},p.prototype.updateImage=function(y,S){var L=this.style.getImage(y);if(!L)return this.fire(new r.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var A=S instanceof lg||gi&&S instanceof gi?r.browser.getImageData(S):S,O=A.width,N=A.height,U=A.data;return O===void 0||N===void 0?this.fire(new r.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):O!==L.data.width||N!==L.data.height?this.fire(new r.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(L.data.replace(U,!(S instanceof lg||gi&&S instanceof gi)),void this.style.updateImage(y,L))},p.prototype.hasImage=function(y){return y?!!this.style.getImage(y):(this.fire(new r.ErrorEvent(new Error("Missing required image id"))),!1)},p.prototype.removeImage=function(y){this.style.removeImage(y)},p.prototype.loadImage=function(y,S){r.getImage(this._requestManager.transformRequest(y,r.ResourceType.Image),S)},p.prototype.listImages=function(){return this.style.listImages()},p.prototype.addLayer=function(y,S){return this._lazyInitEmptyStyle(),this.style.addLayer(y,S),this._update(!0)},p.prototype.moveLayer=function(y,S){return this.style.moveLayer(y,S),this._update(!0)},p.prototype.removeLayer=function(y){return this.style.removeLayer(y),this._update(!0)},p.prototype.getLayer=function(y){return this.style.getLayer(y)},p.prototype.setLayerZoomRange=function(y,S,L){return this.style.setLayerZoomRange(y,S,L),this._update(!0)},p.prototype.setFilter=function(y,S,L){return L===void 0&&(L={}),this.style.setFilter(y,S,L),this._update(!0)},p.prototype.getFilter=function(y){return this.style.getFilter(y)},p.prototype.setPaintProperty=function(y,S,L,A){return A===void 0&&(A={}),this.style.setPaintProperty(y,S,L,A),this._update(!0)},p.prototype.getPaintProperty=function(y,S){return this.style.getPaintProperty(y,S)},p.prototype.setLayoutProperty=function(y,S,L,A){return A===void 0&&(A={}),this.style.setLayoutProperty(y,S,L,A),this._update(!0)},p.prototype.getLayoutProperty=function(y,S){return this.style.getLayoutProperty(y,S)},p.prototype.setLight=function(y,S){return S===void 0&&(S={}),this._lazyInitEmptyStyle(),this.style.setLight(y,S),this._update(!0)},p.prototype.getLight=function(){return this.style.getLight()},p.prototype.setFeatureState=function(y,S){return this.style.setFeatureState(y,S),this._update()},p.prototype.removeFeatureState=function(y,S){return this.style.removeFeatureState(y,S),this._update()},p.prototype.getFeatureState=function(y){return this.style.getFeatureState(y)},p.prototype.getContainer=function(){return this._container},p.prototype.getCanvasContainer=function(){return this._canvasContainer},p.prototype.getCanvas=function(){return this._canvas},p.prototype._containerDimensions=function(){var y=0,S=0;return this._container&&(y=this._container.clientWidth||400,S=this._container.clientHeight||300),[y,S]},p.prototype._detectMissingCSS=function(){r.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&r.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},p.prototype._setupContainer=function(){var y=this._container;y.classList.add("mapboxgl-map"),(this._missingCSSCanary=c.create("div","mapboxgl-canary",y)).style.visibility="hidden",this._detectMissingCSS();var S=this._canvasContainer=c.create("div","mapboxgl-canvas-container",y);this._interactive&&S.classList.add("mapboxgl-interactive"),this._canvas=c.create("canvas","mapboxgl-canvas",S),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var L=this._containerDimensions();this._resizeCanvas(L[0],L[1]);var A=this._controlContainer=c.create("div","mapboxgl-control-container",y),O=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(N){O[N]=c.create("div","mapboxgl-ctrl-"+N,A)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},p.prototype._resizeCanvas=function(y,S){var L=r.browser.devicePixelRatio||1;this._canvas.width=L*y,this._canvas.height=L*S,this._canvas.style.width=y+"px",this._canvas.style.height=S+"px"},p.prototype._setupPainter=function(){var y=r.extend({},l.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),S=this._canvas.getContext("webgl",y)||this._canvas.getContext("experimental-webgl",y);S?(this.painter=new Qi(S,this.transform),r.webpSupported.testSupport(S)):this.fire(new r.ErrorEvent(new Error("Failed to initialize WebGL")))},p.prototype._contextLost=function(y){y.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new r.Event("webglcontextlost",{originalEvent:y}))},p.prototype._contextRestored=function(y){this._setupPainter(),this.resize(),this._update(),this.fire(new r.Event("webglcontextrestored",{originalEvent:y}))},p.prototype._onMapScroll=function(y){if(y.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},p.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},p.prototype._update=function(y){return this.style?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this},p.prototype._requestRenderFrame=function(y){return this._update(),this._renderTaskQueue.add(y)},p.prototype._cancelRenderFrame=function(y){this._renderTaskQueue.remove(y)},p.prototype._render=function(y){var S,L=this,A=0,O=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(S=O.createQueryEXT(),O.beginQueryEXT(O.TIME_ELAPSED_EXT,S),A=r.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),!this._removed){var N=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var U=this.transform.zoom,Q=r.browser.now();this.style.zoomHistory.update(U,Q);var J=new r.EvaluationParameters(U,{now:Q,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),te=J.crossFadingFactor();te===1&&te===this._crossFadingFactor||(N=!0,this._crossFadingFactor=te),this.style.update(J)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new r.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new r.Event("load"))),this.style&&(this.style.hasTransitions()||N)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var de=r.browser.now()-A;O.endQueryEXT(O.TIME_ELAPSED_EXT,S),setTimeout(function(){var re=O.getQueryObjectEXT(S,O.QUERY_RESULT_EXT)/1e6;O.deleteQueryEXT(S),L.fire(new r.Event("gpu-timing-frame",{cpuTime:de,gpuTime:re}))},50)}if(this.listens("gpu-timing-layer")){var ce=this.painter.collectGpuTimers();setTimeout(function(){var re=L.painter.queryGpuTimers(ce);L.fire(new r.Event("gpu-timing-layer",{layerTimes:re}))},50)}var ve=this._sourcesDirty||this._styleDirty||this._placementDirty;return ve||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new r.Event("idle")),!this._loaded||this._fullyLoaded||ve||(this._fullyLoaded=!0),this}},p.prototype.remove=function(){this._hash&&this._hash.remove();for(var y=0,S=this._controls;y<S.length;y+=1)S[y].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),r.window!==void 0&&(r.window.removeEventListener("resize",this._onWindowResize,!1),r.window.removeEventListener("orientationchange",this._onWindowResize,!1),r.window.removeEventListener("online",this._onWindowOnline,!1));var L=this.painter.context.gl.getExtension("WEBGL_lose_context");L&&L.loseContext(),rc(this._canvasContainer),rc(this._controlContainer),rc(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new r.Event("remove"))},p.prototype.triggerRepaint=function(){var y=this;this.style&&!this._frame&&(this._frame=r.browser.frame(function(S){y._frame=null,y._render(S)}))},p.prototype._onWindowOnline=function(){this._update()},p.prototype._onWindowResize=function(y){this._trackResize&&this.resize({originalEvent:y})._update()},m.showTileBoundaries.get=function(){return!!this._showTileBoundaries},m.showTileBoundaries.set=function(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())},m.showPadding.get=function(){return!!this._showPadding},m.showPadding.set=function(y){this._showPadding!==y&&(this._showPadding=y,this._update())},m.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},m.showCollisionBoxes.set=function(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())},m.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},m.showOverdrawInspector.set=function(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())},m.repaint.get=function(){return!!this._repaint},m.repaint.set=function(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())},m.vertices.get=function(){return!!this._vertices},m.vertices.set=function(y){this._vertices=y,this._update()},p.prototype._setCacheLimits=function(y,S){r.setCacheLimits(y,S)},m.version.get=function(){return r.version},Object.defineProperties(p.prototype,m),p}(Lm);function rc(_){_.parentNode&&_.parentNode.removeChild(_)}var ug={showCompass:!0,showZoom:!0,visualizePitch:!1},gl=function(_){var p=this;this.options=r.extend({},ug,_),this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(m){return m.preventDefault()}),this.options.showZoom&&(r.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(m){return p._map.zoomIn({},{originalEvent:m})}),c.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(m){return p._map.zoomOut({},{originalEvent:m})}),c.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(r.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(m){p.options.visualizePitch?p._map.resetNorthPitch({},{originalEvent:m}):p._map.resetNorth({},{originalEvent:m})}),this._compassIcon=c.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};gl.prototype._updateZoomButtons=function(){var _=this._map.getZoom(),p=_===this._map.getMaxZoom(),m=_===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},gl.prototype._rotateCompassArrow=function(){var _=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=_},gl.prototype.onAdd=function(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new gs(this._map,this._compass,this.options.visualizePitch)),this._container},gl.prototype.onRemove=function(){c.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},gl.prototype._createButton=function(_,p){var m=c.create("button",_,this._container);return m.type="button",m.addEventListener("click",p),m},gl.prototype._setButtonTitle=function(_,p){var m=this._map._getUIString("NavigationControl."+p);_.title=m,_.setAttribute("aria-label",m)};var gs=function(_,p,m){m===void 0&&(m=!1),this._clickTolerance=10,this.element=p,this.mouseRotate=new Tm({clickTolerance:_.dragRotate._mouseRotate._clickTolerance}),this.map=_,m&&(this.mousePitch=new rg({clickTolerance:_.dragRotate._mousePitch._clickTolerance})),r.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),c.addEventListener(p,"mousedown",this.mousedown),c.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),c.addEventListener(p,"touchmove",this.touchmove),c.addEventListener(p,"touchend",this.touchend),c.addEventListener(p,"touchcancel",this.reset)};function hd(_,p,m){if(_=new r.LngLat(_.lng,_.lat),p){var y=new r.LngLat(_.lng-360,_.lat),S=new r.LngLat(_.lng+360,_.lat),L=m.locationPoint(_).distSqr(p);m.locationPoint(y).distSqr(p)<L?_=y:m.locationPoint(S).distSqr(p)<L&&(_=S)}for(;Math.abs(_.lng-m.center.lng)>180;){var A=m.locationPoint(_);if(A.x>=0&&A.y>=0&&A.x<=m.width&&A.y<=m.height)break;_.lng>m.center.lng?_.lng-=360:_.lng+=360}return _}gs.prototype.down=function(_,p){this.mouseRotate.mousedown(_,p),this.mousePitch&&this.mousePitch.mousedown(_,p),c.disableDrag()},gs.prototype.move=function(_,p){var m=this.map,y=this.mouseRotate.mousemoveWindow(_,p);if(y&&y.bearingDelta&&m.setBearing(m.getBearing()+y.bearingDelta),this.mousePitch){var S=this.mousePitch.mousemoveWindow(_,p);S&&S.pitchDelta&&m.setPitch(m.getPitch()+S.pitchDelta)}},gs.prototype.off=function(){var _=this.element;c.removeEventListener(_,"mousedown",this.mousedown),c.removeEventListener(_,"touchstart",this.touchstart,{passive:!1}),c.removeEventListener(_,"touchmove",this.touchmove),c.removeEventListener(_,"touchend",this.touchend),c.removeEventListener(_,"touchcancel",this.reset),this.offTemp()},gs.prototype.offTemp=function(){c.enableDrag(),c.removeEventListener(r.window,"mousemove",this.mousemove),c.removeEventListener(r.window,"mouseup",this.mouseup)},gs.prototype.mousedown=function(_){this.down(r.extend({},_,{ctrlKey:!0,preventDefault:function(){return _.preventDefault()}}),c.mousePos(this.element,_)),c.addEventListener(r.window,"mousemove",this.mousemove),c.addEventListener(r.window,"mouseup",this.mouseup)},gs.prototype.mousemove=function(_){this.move(_,c.mousePos(this.element,_))},gs.prototype.mouseup=function(_){this.mouseRotate.mouseupWindow(_),this.mousePitch&&this.mousePitch.mouseupWindow(_),this.offTemp()},gs.prototype.touchstart=function(_){_.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=c.touchPos(this.element,_.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return _.preventDefault()}},this._startPos))},gs.prototype.touchmove=function(_){_.targetTouches.length!==1?this.reset():(this._lastPos=c.touchPos(this.element,_.targetTouches)[0],this.move({preventDefault:function(){return _.preventDefault()}},this._lastPos))},gs.prototype.touchend=function(_){_.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},gs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Ko={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Cm(_,p,m){var y=_.classList;for(var S in Ko)y.remove("mapboxgl-"+m+"-anchor-"+S);y.add("mapboxgl-"+m+"-anchor-"+p)}var _d,$h=function(_){function p(m,y){if(_.call(this),(m instanceof r.window.HTMLElement||y)&&(m=r.extend({element:m},y)),r.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=m&&m.anchor||"center",this._color=m&&m.color||"#3FB1CE",this._scale=m&&m.scale||1,this._draggable=m&&m.draggable||!1,this._clickTolerance=m&&m.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=m&&m.rotation||0,this._rotationAlignment=m&&m.rotationAlignment||"auto",this._pitchAlignment=m&&m.pitchAlignment&&m.pitchAlignment!=="auto"?m.pitchAlignment:this._rotationAlignment,m&&m.element)this._element=m.element,this._offset=r.Point.convert(m&&m.offset||[0,0]);else{this._defaultMarker=!0,this._element=c.create("div"),this._element.setAttribute("aria-label","Map marker");var S=c.createNS("http://www.w3.org/2000/svg","svg");S.setAttributeNS(null,"display","block"),S.setAttributeNS(null,"height","41px"),S.setAttributeNS(null,"width","27px"),S.setAttributeNS(null,"viewBox","0 0 27 41");var L=c.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"stroke","none"),L.setAttributeNS(null,"stroke-width","1"),L.setAttributeNS(null,"fill","none"),L.setAttributeNS(null,"fill-rule","evenodd");var A=c.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"fill-rule","nonzero");var O=c.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"transform","translate(3.0, 29.0)"),O.setAttributeNS(null,"fill","#000000");for(var N=0,U=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];N<U.length;N+=1){var Q=U[N],J=c.createNS("http://www.w3.org/2000/svg","ellipse");J.setAttributeNS(null,"opacity","0.04"),J.setAttributeNS(null,"cx","10.5"),J.setAttributeNS(null,"cy","5.80029008"),J.setAttributeNS(null,"rx",Q.rx),J.setAttributeNS(null,"ry",Q.ry),O.appendChild(J)}var te=c.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"fill",this._color);var de=c.createNS("http://www.w3.org/2000/svg","path");de.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),te.appendChild(de);var ce=c.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"opacity","0.25"),ce.setAttributeNS(null,"fill","#000000");var ve=c.createNS("http://www.w3.org/2000/svg","path");ve.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ce.appendChild(ve);var re=c.createNS("http://www.w3.org/2000/svg","g");re.setAttributeNS(null,"transform","translate(6.0, 7.0)"),re.setAttributeNS(null,"fill","#FFFFFF");var ye=c.createNS("http://www.w3.org/2000/svg","g");ye.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Me=c.createNS("http://www.w3.org/2000/svg","circle");Me.setAttributeNS(null,"fill","#000000"),Me.setAttributeNS(null,"opacity","0.25"),Me.setAttributeNS(null,"cx","5.5"),Me.setAttributeNS(null,"cy","5.5"),Me.setAttributeNS(null,"r","5.4999962");var ke=c.createNS("http://www.w3.org/2000/svg","circle");ke.setAttributeNS(null,"fill","#FFFFFF"),ke.setAttributeNS(null,"cx","5.5"),ke.setAttributeNS(null,"cy","5.5"),ke.setAttributeNS(null,"r","5.4999962"),ye.appendChild(Me),ye.appendChild(ke),A.appendChild(O),A.appendChild(te),A.appendChild(ce),A.appendChild(re),A.appendChild(ye),S.appendChild(A),S.setAttributeNS(null,"height",41*this._scale+"px"),S.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(S),this._offset=r.Point.convert(m&&m.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Be){Be.preventDefault()}),this._element.addEventListener("mousedown",function(Be){Be.preventDefault()}),Cm(this._element,this._anchor,"marker"),this._popup=null}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.addTo=function(m){return this.remove(),this._map=m,m.getCanvasContainer().appendChild(this._element),m.on("move",this._update),m.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},p.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),c.remove(this._element),this._popup&&this._popup.remove(),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(m){return this._lngLat=r.LngLat.convert(m),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},p.prototype.getElement=function(){return this._element},p.prototype.setPopup=function(m){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),m){if(!("offset"in m.options)){var y=Math.sqrt(Math.pow(13.5,2)/2);m.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(24.6+y)],"bottom-right":[-y,-1*(24.6+y)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=m,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},p.prototype._onKeyPress=function(m){var y=m.code,S=m.charCode||m.keyCode;y!=="Space"&&y!=="Enter"&&S!==32&&S!==13||this.togglePopup()},p.prototype._onMapClick=function(m){var y=m.originalEvent.target,S=this._element;this._popup&&(y===S||S.contains(y))&&this.togglePopup()},p.prototype.getPopup=function(){return this._popup},p.prototype.togglePopup=function(){var m=this._popup;return m?(m.isOpen()?m.remove():m.addTo(this._map),this):this},p.prototype._update=function(m){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=hd(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var y="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?y="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(y="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var S="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?S="rotateX(0deg)":this._pitchAlignment==="map"&&(S="rotateX("+this._map.getPitch()+"deg)"),m&&m.type!=="moveend"||(this._pos=this._pos.round()),c.setTransform(this._element,Ko[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+S+" "+y)}},p.prototype.getOffset=function(){return this._offset},p.prototype.setOffset=function(m){return this._offset=r.Point.convert(m),this._update(),this},p.prototype._onMove=function(m){if(!this._isDragging){var y=this._clickTolerance||this._map._clickTolerance;this._isDragging=m.point.dist(this._pointerdownPos)>=y}this._isDragging&&(this._pos=m.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new r.Event("dragstart"))),this.fire(new r.Event("drag")))},p.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new r.Event("dragend")),this._state="inactive"},p.prototype._addDragHandler=function(m){this._element.contains(m.originalEvent.target)&&(m.preventDefault(),this._positionDelta=m.point.sub(this._pos).add(this._offset),this._pointerdownPos=m.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},p.prototype.setDraggable=function(m){return this._draggable=!!m,this._map&&(m?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},p.prototype.isDraggable=function(){return this._draggable},p.prototype.setRotation=function(m){return this._rotation=m||0,this._update(),this},p.prototype.getRotation=function(){return this._rotation},p.prototype.setRotationAlignment=function(m){return this._rotationAlignment=m||"auto",this._update(),this},p.prototype.getRotationAlignment=function(){return this._rotationAlignment},p.prototype.setPitchAlignment=function(m){return this._pitchAlignment=m&&m!=="auto"?m:this._rotationAlignment,this._update(),this},p.prototype.getPitchAlignment=function(){return this._pitchAlignment},p}(r.Evented),cg={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},md=0,sc=!1,dg=function(_){function p(m){_.call(this),this.options=r.extend({},cg,m),r.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.onAdd=function(m){var y;return this._map=m,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),y=this._setupUI,_d!==void 0?y(_d):r.window.navigator.permissions!==void 0?r.window.navigator.permissions.query({name:"geolocation"}).then(function(S){y(_d=S.state!=="denied")}):y(_d=!!r.window.navigator.geolocation),this._container},p.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(r.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),c.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,md=0,sc=!1},p.prototype._isOutOfMapMaxBounds=function(m){var y=this._map.getMaxBounds(),S=m.coords;return y&&(S.longitude<y.getWest()||S.longitude>y.getEast()||S.latitude<y.getSouth()||S.latitude>y.getNorth())},p.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},p.prototype._onSuccess=function(m){if(this._map){if(this._isOutOfMapMaxBounds(m))return this._setErrorState(),this.fire(new r.Event("outofmaxbounds",m)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=m,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(m),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(m),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new r.Event("geolocate",m)),this._finish()}},p.prototype._updateCamera=function(m){var y=new r.LngLat(m.coords.longitude,m.coords.latitude),S=m.coords.accuracy,L=this._map.getBearing(),A=r.extend({bearing:L},this.options.fitBoundsOptions);this._map.fitBounds(y.toBounds(S),A,{geolocateSource:!0})},p.prototype._updateMarker=function(m){if(m){var y=new r.LngLat(m.coords.longitude,m.coords.latitude);this._accuracyCircleMarker.setLngLat(y).addTo(this._map),this._userLocationDotMarker.setLngLat(y).addTo(this._map),this._accuracy=m.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},p.prototype._updateCircleRadius=function(){var m=this._map._container.clientHeight/2,y=this._map.unproject([0,m]),S=this._map.unproject([1,m]),L=y.distanceTo(S),A=Math.ceil(2*this._accuracy/L);this._circleElement.style.width=A+"px",this._circleElement.style.height=A+"px"},p.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},p.prototype._onError=function(m){if(this._map){if(this.options.trackUserLocation)if(m.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var y=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(m.code===3&&sc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new r.Event("error",m)),this._finish()}},p.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},p.prototype._setupUI=function(m){var y=this;if(this._container.addEventListener("contextmenu",function(A){return A.preventDefault()}),this._geolocateButton=c.create("button","mapboxgl-ctrl-geolocate",this._container),c.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",m===!1){r.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var S=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=S,this._geolocateButton.setAttribute("aria-label",S)}else{var L=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=L,this._geolocateButton.setAttribute("aria-label",L)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=c.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new $h(this._dotElement),this._circleElement=c.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new $h({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(A){A.geolocateSource||y._watchState!=="ACTIVE_LOCK"||A.originalEvent&&A.originalEvent.type==="resize"||(y._watchState="BACKGROUND",y._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),y._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),y.fire(new r.Event("trackuserlocationend")))})},p.prototype.trigger=function(){if(!this._setup)return r.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new r.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":md--,sc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new r.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new r.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var m;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++md>1?(m={maximumAge:6e5,timeout:0},sc=!0):(m=this.options.positionOptions,sc=!1),this._geolocationWatchID=r.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,m)}}else r.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},p.prototype._clearWatch=function(){r.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},p}(r.Evented),lu={maxWidth:100,unit:"metric"},uu=function(_){this.options=r.extend({},lu,_),r.bindAll(["_onMove","setUnit"],this)};function Im(_,p,m){var y=m&&m.maxWidth||100,S=_._container.clientHeight/2,L=_.unproject([0,S]),A=_.unproject([y,S]),O=L.distanceTo(A);if(m&&m.unit==="imperial"){var N=3.2808*O;N>5280?cu(p,y,N/5280,_._getUIString("ScaleControl.Miles")):cu(p,y,N,_._getUIString("ScaleControl.Feet"))}else m&&m.unit==="nautical"?cu(p,y,O/1852,_._getUIString("ScaleControl.NauticalMiles")):O>=1e3?cu(p,y,O/1e3,_._getUIString("ScaleControl.Kilometers")):cu(p,y,O,_._getUIString("ScaleControl.Meters"))}function cu(_,p,m,y){var S,L,A,O=(S=m,(L=Math.pow(10,(""+Math.floor(S)).length-1))*(A=(A=S/L)>=10?10:A>=5?5:A>=3?3:A>=2?2:A>=1?1:function(N){var U=Math.pow(10,Math.ceil(-Math.log(N)/Math.LN10));return Math.round(N*U)/U}(A)));_.style.width=p*(O/m)+"px",_.innerHTML=O+"&nbsp;"+y}uu.prototype.getDefaultPosition=function(){return"bottom-left"},uu.prototype._onMove=function(){Im(this._map,this._container,this.options)},uu.prototype.onAdd=function(_){return this._map=_,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},uu.prototype.onRemove=function(){c.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},uu.prototype.setUnit=function(_){this.options.unit=_,Im(this._map,this._container,this.options)};var ro=function(_){this._fullscreen=!1,_&&_.container&&(_.container instanceof r.window.HTMLElement?this._container=_.container:r.warnOnce("Full screen control 'container' must be a DOM element.")),r.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in r.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in r.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in r.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in r.window.document&&(this._fullscreenchange="MSFullscreenChange")};ro.prototype.onAdd=function(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",r.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},ro.prototype.onRemove=function(){c.remove(this._controlContainer),this._map=null,r.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},ro.prototype._checkFullscreenSupport=function(){return!!(r.window.document.fullscreenEnabled||r.window.document.mozFullScreenEnabled||r.window.document.msFullscreenEnabled||r.window.document.webkitFullscreenEnabled)},ro.prototype._setupUI=function(){var _=this._fullscreenButton=c.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);c.create("span","mapboxgl-ctrl-icon",_).setAttribute("aria-hidden",!0),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),r.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},ro.prototype._updateTitle=function(){var _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_},ro.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},ro.prototype._isFullscreen=function(){return this._fullscreen},ro.prototype._changeIcon=function(){(r.window.document.fullscreenElement||r.window.document.mozFullScreenElement||r.window.document.webkitFullscreenElement||r.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},ro.prototype._onClickFullscreen=function(){this._isFullscreen()?r.window.document.exitFullscreen?r.window.document.exitFullscreen():r.window.document.mozCancelFullScreen?r.window.document.mozCancelFullScreen():r.window.document.msExitFullscreen?r.window.document.msExitFullscreen():r.window.document.webkitCancelFullScreen&&r.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var hg={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Qh=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),_g=function(_){function p(m){_.call(this),this.options=r.extend(Object.create(hg),m),r.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return _&&(p.__proto__=_),(p.prototype=Object.create(_&&_.prototype)).constructor=p,p.prototype.addTo=function(m){return this._map&&this.remove(),this._map=m,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new r.Event("open")),this},p.prototype.isOpen=function(){return!!this._map},p.prototype.remove=function(){return this._content&&c.remove(this._content),this._container&&(c.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new r.Event("close")),this},p.prototype.getLngLat=function(){return this._lngLat},p.prototype.setLngLat=function(m){return this._lngLat=r.LngLat.convert(m),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},p.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},p.prototype.getElement=function(){return this._container},p.prototype.setText=function(m){return this.setDOMContent(r.window.document.createTextNode(m))},p.prototype.setHTML=function(m){var y,S=r.window.document.createDocumentFragment(),L=r.window.document.createElement("body");for(L.innerHTML=m;y=L.firstChild;)S.appendChild(y);return this.setDOMContent(S)},p.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},p.prototype.setMaxWidth=function(m){return this.options.maxWidth=m,this._update(),this},p.prototype.setDOMContent=function(m){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=c.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(m),this._createCloseButton(),this._update(),this._focusFirstElement(),this},p.prototype.addClassName=function(m){this._container&&this._container.classList.add(m)},p.prototype.removeClassName=function(m){this._container&&this._container.classList.remove(m)},p.prototype.setOffset=function(m){return this.options.offset=m,this._update(),this},p.prototype.toggleClassName=function(m){if(this._container)return this._container.classList.toggle(m)},p.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=c.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},p.prototype._onMouseUp=function(m){this._update(m.point)},p.prototype._onMouseMove=function(m){this._update(m.point)},p.prototype._onDrag=function(m){this._update(m.point)},p.prototype._update=function(m){var y=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=c.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=c.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(J){return y._container.classList.add(J)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=hd(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||m)){var S=this._pos=this._trackPointer&&m?m:this._map.project(this._lngLat),L=this.options.anchor,A=function J(te){if(te){if(typeof te=="number"){var de=Math.round(Math.sqrt(.5*Math.pow(te,2)));return{center:new r.Point(0,0),top:new r.Point(0,te),"top-left":new r.Point(de,de),"top-right":new r.Point(-de,de),bottom:new r.Point(0,-te),"bottom-left":new r.Point(de,-de),"bottom-right":new r.Point(-de,-de),left:new r.Point(te,0),right:new r.Point(-te,0)}}if(te instanceof r.Point||Array.isArray(te)){var ce=r.Point.convert(te);return{center:ce,top:ce,"top-left":ce,"top-right":ce,bottom:ce,"bottom-left":ce,"bottom-right":ce,left:ce,right:ce}}return{center:r.Point.convert(te.center||[0,0]),top:r.Point.convert(te.top||[0,0]),"top-left":r.Point.convert(te["top-left"]||[0,0]),"top-right":r.Point.convert(te["top-right"]||[0,0]),bottom:r.Point.convert(te.bottom||[0,0]),"bottom-left":r.Point.convert(te["bottom-left"]||[0,0]),"bottom-right":r.Point.convert(te["bottom-right"]||[0,0]),left:r.Point.convert(te.left||[0,0]),right:r.Point.convert(te.right||[0,0])}}return J(new r.Point(0,0))}(this.options.offset);if(!L){var O,N=this._container.offsetWidth,U=this._container.offsetHeight;O=S.y+A.bottom.y<U?["top"]:S.y>this._map.transform.height-U?["bottom"]:[],S.x<N/2?O.push("left"):S.x>this._map.transform.width-N/2&&O.push("right"),L=O.length===0?"bottom":O.join("-")}var Q=S.add(A[L]).round();c.setTransform(this._container,Ko[L]+" translate("+Q.x+"px,"+Q.y+"px)"),Cm(this._container,L,"popup")}},p.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var m=this._container.querySelector(Qh);m&&m.focus()}},p.prototype._onClose=function(){this.remove()},p}(r.Evented),Rm={version:r.version,supported:l,setRTLTextPlugin:r.setRTLTextPlugin,getRTLTextPluginStatus:r.getRTLTextPluginStatus,Map:M1,NavigationControl:gl,GeolocateControl:dg,AttributionControl:Wr,ScaleControl:uu,FullscreenControl:ro,Popup:_g,Marker:$h,Style:hs,LngLat:r.LngLat,LngLatBounds:r.LngLatBounds,Point:r.Point,MercatorCoordinate:r.MercatorCoordinate,Evented:r.Evented,config:r.config,prewarm:function(){Ve().acquire(Ge)},clearPrewarmedResources:function(){var _=Ot;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Ge),Ot=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return r.config.ACCESS_TOKEN},set accessToken(_){r.config.ACCESS_TOKEN=_},get baseApiUrl(){return r.config.API_URL},set baseApiUrl(_){r.config.API_URL=_},get workerCount(){return nt.workerCount},set workerCount(_){nt.workerCount=_},get maxParallelImageRequests(){return r.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(_){r.config.MAX_PARALLEL_IMAGE_REQUESTS=_},clearStorage:function(_){r.clearTileCache(_)},workerUrl:""};return Rm}),n})})(PI);var dj=PI.exports;const y6=kI(dj);class OE extends am{constructor(e){const t=Object.assign({},e);delete t.accessToken,delete t.style,delete t.container,delete t.xyz,super(t),this.set("xyz",e.maplibreOptions.xyz),this.set("xyz_custom",e.maplibreOptions.xyz_custom),this.xyz_=e.xyz,e.accessToken&&(y6.accessToken=e.accessToken),this.map_=new y6.Map({container:e.maplibreOptions.container,style:e.maplibreOptions.style,attributionControl:!1,interactive:!1}),this.maplibreMap=this.map_}getMapBoxMap(){return this.map_}getMapLibreMap(){return this.map_}render(e){const t=this.map_.getCanvas(),i=e.viewState;t.style.position="absolute";const n=this.getVisible();t.style.display=n?"block":"none";const s=this.getOpacity().toString();s!==t.style.opacity&&(t.style.opacity=s);const r=i.rotation;return r&&this.map_.rotateTo(t0(-r),{animate:!1}),this.map_.jumpTo({center:cf(i.center),zoom:i.zoom-1,animate:!1}),this.map_._frame&&(this.map_._frame.cancel(),this.map_._frame=null),this.map_._render(),t}setLayerVisibility(e,t){this.map_.setLayoutProperty(e,"visibility",t?"visible":"none")}getStyle(){return this.map_.getStyle()}getXYZ(){return this.get("xyz")}}function DI(a,e,t){t(a,e)&&a instanceof Mh&&a.getLayers().forEach(n=>{DI(n,[...e,a],t)})}const FI=parseInt("19",10),hj=parseInt("8",10);var kE=(a=>(a.ON_LAYER_TYPE="ON_LAYER_TYPE",a))(kE||{});const G_="EPSG:3857",mf="EPSG:4326",Hl="EPSG:2169",_j=JSON.parse("[2.6, 47.7, 8.6, 51]"),mj=parseInt("8",10);let TS;const v6=Li();function Hi(){function a(){return TS}function e(){return v6.value=TS=new cj({view:new Bd({center:[682439,6379152],constrainResolution:!0,enableRotation:!0,extent:Q3(_j,"EPSG:4326","EPSG:3857"),multiWorld:!1,zoom:mj}),controls:[],keyboardEventTarget:document}),TS}function t(b,T){return b.id===T.id}function i(b,T){return b===T}function n(b,T){var M;return(M=b.layers)==null?void 0:M.some(I=>t(I,T))}function s(b,T){var I;const M=(I=b==null?void 0:b.layers)==null?void 0:I.find(R=>t(R,T));return!i(M,T)}function r(b,T){return!(T===null||!("layers"in b)||!("layers"in T)||typeof T.layers>"u"||typeof b.layers>"u"||b.layers===T.layers)}function l(b,T){return!("layers"in b)||typeof b.layers>"u"?[]:T===null||!("layers"in T)?b.layers.map((M,I)=>({layer:M,position:I})):b.layers===T.layers?[]:b.layers.reduce((M,I,R)=>n(T,I)?M:[...M,{layer:I,position:R}],[])}function c(b,T){return r(b,T)?T.layers.reduce((M,I)=>n(b,I)?M:[...M,I],[]):[]}function h(b,T){return r(b,T)?b.layers.reduce((M,I)=>s(T,I)?[...M,I]:M,[]):[]}function f(b,T,M){var P,F;const I=(P=T.layers)==null?void 0:P.find(B=>B.id===b),R=(F=M==null?void 0:M.layers)==null?void 0:F.find(B=>B.id===b);return(I==null?void 0:I.type)!==(R==null?void 0:R.type)?kE.ON_LAYER_TYPE:null}function v(){const b=Hi().getOlMap();b.updateSize(),DI(b.getLayerGroup(),[],T=>(T instanceof OE&&T.getMapLibreMap().resize(),!0))}return{olMap:v6,getOlMap:a,createMap:e,equalsLayer:t,hasLayer:n,layerHasChanged:s,contextHasChanged:r,getAddedLayers:l,getRemovedLayers:c,getMutatedLayers:h,getMutationType:f,resize:v}}function pj(a,e="fr-FR"){const t=new Date(a);return new Intl.DateTimeFormat(e).format(t)}function fj(a,e,t){if(a==null||isNaN(a))return sn.t("N/A",{ns:"client"});switch(t){case"elevation":return PE(a,e);case"area":return NI(a,e);case"length":default:return c0(a,e)}}function PE(a,e=0){return isNaN(+a)?a:`${(+a).toFixed(e)} m`}function c0(a,e=2){return a===null?sn.t("N/A",{ns:"client"}):a<1e3?`${a.toFixed(e)} m`:a>=1e3?`${(a/1e3).toFixed(e)} km`:""}function NI(a,e=2){return a===null?sn.t("N/A",{ns:"client"}):a<1e6?`${a.toFixed(e)} m²`:a>=1e6?`${(a/1e6).toFixed(e)} km²`:""}function b6(a){return a===void 0?sn.t("N/A",{ns:"client"}):`${a.number}, ${a.street}, ${a.postal_code} ${a.locality}`}function gj(a,e,t){const i=t.split(":")[2];let n=t,s;i!==void 0?n=t.slice(0,t.lastIndexOf(":")):t.endsWith("*")&&(s=cf(a,e)[0]<=6?"UTM31N":"UTM32N",n=t.replace("3*",s.slice(3,5)));const r=Ks(a,e,n),l=n===mf,c=r.map((f,v)=>(l?yj(f):f)<0?"WS"[v]:"EN"[v]),h=r.map(f=>l?vj(f,i):Math.abs(Math.round(f)).toString());return s!==void 0?`${h.join(" | ")}  (${s})`:h.map((f,v)=>`${f} ${c[v]}`).join(" | ")}function yj(a){return(a+180)%360-180}function vj(a,e){const t=(a+180)%360-180,i=Math.abs(t);if(e===void 0)return Math.round(i*1e6)/1e6;const n=Math.floor(i),s=i%1*60;if(e==="DMm"){const r=Math.round(s*1e6)/1e6;return`${n}° ${r}′`}if(e==="DMS"){const r=Math.floor(s),l=Math.round(s%1*600)/10;return`${n}° ${r}′ ${l}″`}return"N/A"}const bj={install(a){a.directive("format-measure",xj)}};function xj(a,e){let t,i=e.value;const n=(e==null?void 0:e.arg)!==void 0?+(e==null?void 0:e.arg):void 0;try{t=Object.keys(e.modifiers)[0]}catch{}i=fj(i,n,t),a.textContent=i}function wj(a){const e=Object.keys(a.defs),t=e.length;let i,n;for(i=0;i<t;++i){const s=e[i];if(!Di(s)){const r=a.defs(s);let l=r.units;!l&&r.projName==="longlat"&&(l=Cu.DEGREES),P7(new q3({code:s,axisOrientation:r.axis,metersPerUnit:r.to_meter,units:l}))}}for(i=0;i<t;++i){const s=e[i],r=Di(s);for(n=0;n<t;++n){const l=e[n],c=Di(l);if(!x7(s,l))if(a.defs[s]===a.defs[l])eT([r,c]);else{const h=a(s,l);xG(r,c,kL(r,c,h.forward),kL(c,r,h.inverse))}}}}function Sj(a){a("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),a("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),a("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)a("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),a("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");a.WGS84=a["EPSG:4326"],a["EPSG:3785"]=a["EPSG:3857"],a.GOOGLE=a["EPSG:3857"],a["EPSG:900913"]=a["EPSG:3857"],a["EPSG:102113"]=a["EPSG:3857"]}var K_=1,$_=2,Yp=3,Tj=4,_T=5,x6=6378137,Ej=6356752314e-3,w6=.0066943799901413165,Ay=484813681109536e-20,wt=Math.PI/2,Mj=.16666666666666666,Lj=.04722222222222222,Aj=.022156084656084655,Ut=1e-10,rs=.017453292519943295,Au=57.29577951308232,Ui=Math.PI/4,d0=Math.PI*2,ur=3.14159265359,xo={};xo.greenwich=0;xo.lisbon=-9.131906111111;xo.paris=2.337229166667;xo.bogota=-74.080916666667;xo.madrid=-3.687938888889;xo.rome=12.452333333333;xo.bern=7.439583333333;xo.jakarta=106.807719444444;xo.ferro=-17.666666666667;xo.brussels=4.367975;xo.stockholm=18.058277777778;xo.athens=23.7163375;xo.oslo=10.722916666667;const Cj={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var S6=/[\s_\-\/\(\)]/g;function _h(a,e){if(a[e])return a[e];for(var t=Object.keys(a),i=e.toLowerCase().replace(S6,""),n=-1,s,r;++n<t.length;)if(s=t[n],r=s.toLowerCase().replace(S6,""),r===i)return a[s]}function mT(a){var e={},t=a.split("+").map(function(l){return l.trim()}).filter(function(l){return l}).reduce(function(l,c){var h=c.split("=");return h.push(!0),l[h[0].toLowerCase()]=h[1],l},{}),i,n,s,r={proj:"projName",datum:"datumCode",rf:function(l){e.rf=parseFloat(l)},lat_0:function(l){e.lat0=l*rs},lat_1:function(l){e.lat1=l*rs},lat_2:function(l){e.lat2=l*rs},lat_ts:function(l){e.lat_ts=l*rs},lon_0:function(l){e.long0=l*rs},lon_1:function(l){e.long1=l*rs},lon_2:function(l){e.long2=l*rs},alpha:function(l){e.alpha=parseFloat(l)*rs},gamma:function(l){e.rectified_grid_angle=parseFloat(l)},lonc:function(l){e.longc=l*rs},x_0:function(l){e.x0=parseFloat(l)},y_0:function(l){e.y0=parseFloat(l)},k_0:function(l){e.k0=parseFloat(l)},k:function(l){e.k0=parseFloat(l)},a:function(l){e.a=parseFloat(l)},b:function(l){e.b=parseFloat(l)},r:function(l){e.a=e.b=parseFloat(l)},r_a:function(){e.R_A=!0},zone:function(l){e.zone=parseInt(l,10)},south:function(){e.utmSouth=!0},towgs84:function(l){e.datum_params=l.split(",").map(function(c){return parseFloat(c)})},to_meter:function(l){e.to_meter=parseFloat(l)},units:function(l){e.units=l;var c=_h(Cj,l);c&&(e.to_meter=c.to_meter)},from_greenwich:function(l){e.from_greenwich=l*rs},pm:function(l){var c=_h(xo,l);e.from_greenwich=(c||parseFloat(l))*rs},nadgrids:function(l){l==="@null"?e.datumCode="none":e.nadgrids=l},axis:function(l){var c="ewnsud";l.length===3&&c.indexOf(l.substr(0,1))!==-1&&c.indexOf(l.substr(1,1))!==-1&&c.indexOf(l.substr(2,1))!==-1&&(e.axis=l)},approx:function(){e.approx=!0}};for(i in t)n=t[i],i in r?(s=r[i],typeof s=="function"?s(n):e[s]=n):e[i]=n;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var h0=1,WI=2,zI=3,c2=4,BI=5,DE=-1,Ij=/\s/,Rj=/[A-Za-z]/,Oj=/[A-Za-z84_]/,Ox=/[,\]]/,GI=/[\d\.E\-\+]/;function td(a){if(typeof a!="string")throw new Error("not a string");this.text=a.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=h0}td.prototype.readCharicter=function(){var a=this.text[this.place++];if(this.state!==c2)for(;Ij.test(a);){if(this.place>=this.text.length)return;a=this.text[this.place++]}switch(this.state){case h0:return this.neutral(a);case WI:return this.keyword(a);case c2:return this.quoted(a);case BI:return this.afterquote(a);case zI:return this.number(a);case DE:return}};td.prototype.afterquote=function(a){if(a==='"'){this.word+='"',this.state=c2;return}if(Ox.test(a)){this.word=this.word.trim(),this.afterItem(a);return}throw new Error(`havn't handled "`+a+'" in afterquote yet, index '+this.place)};td.prototype.afterItem=function(a){if(a===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=h0;return}if(a==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=h0,this.currentObject=this.stack.pop(),this.currentObject||(this.state=DE);return}};td.prototype.number=function(a){if(GI.test(a)){this.word+=a;return}if(Ox.test(a)){this.word=parseFloat(this.word),this.afterItem(a);return}throw new Error(`havn't handled "`+a+'" in number yet, index '+this.place)};td.prototype.quoted=function(a){if(a==='"'){this.state=BI;return}this.word+=a};td.prototype.keyword=function(a){if(Oj.test(a)){this.word+=a;return}if(a==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=h0;return}if(Ox.test(a)){this.afterItem(a);return}throw new Error(`havn't handled "`+a+'" in keyword yet, index '+this.place)};td.prototype.neutral=function(a){if(Rj.test(a)){this.word=a,this.state=WI;return}if(a==='"'){this.word="",this.state=c2;return}if(GI.test(a)){this.word=a,this.state=zI;return}if(Ox.test(a)){this.afterItem(a);return}throw new Error(`havn't handled "`+a+'" in neutral yet, index '+this.place)};td.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===DE)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function kj(a){var e=new td(a);return e.output()}function ES(a,e,t){Array.isArray(e)&&(t.unshift(e),e=null);var i=e?{}:a,n=t.reduce(function(s,r){return Op(r,s),s},i);e&&(a[e]=n)}function Op(a,e){if(!Array.isArray(a)){e[a]=!0;return}var t=a.shift();if(t==="PARAMETER"&&(t=a.shift()),a.length===1){if(Array.isArray(a[0])){e[t]={},Op(a[0],e[t]);return}e[t]=a[0];return}if(!a.length){e[t]=!0;return}if(t==="TOWGS84"){e[t]=a;return}if(t==="AXIS"){t in e||(e[t]=[]),e[t].push(a);return}Array.isArray(t)||(e[t]={});var i;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[t]={name:a[0].toLowerCase(),convert:a[1]},a.length===3&&Op(a[2],e[t]);return;case"SPHEROID":case"ELLIPSOID":e[t]={name:a[0],a:a[1],rf:a[2]},a.length===4&&Op(a[3],e[t]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":a[0]=["name",a[0]],ES(e,t,a);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":a[0]=["name",a[0]],ES(e,t,a),e[t].type=t;return;default:for(i=-1;++i<a.length;)if(!Array.isArray(a[i]))return Op(a,e[t]);return ES(e,t,a)}}var Pj=.017453292519943295,Dj=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Fj(a,e){var t=e[0],i=e[1];!(t in a)&&i in a&&(a[t]=a[i],e.length===3&&(a[t]=e[2](a[t])))}function xu(a){return a*Pj}function qI(a){for(var e=Object.keys(a),t=0,i=e.length;t<i;++t){var n=e[t];Dj.indexOf(n)!==-1&&Nj(a[n]),typeof a[n]=="object"&&qI(a[n])}}function Nj(a){if(a.AUTHORITY){var e=Object.keys(a.AUTHORITY)[0];e&&e in a.AUTHORITY&&(a.title=e+":"+a.AUTHORITY[e])}if(a.type==="GEOGCS"?a.projName="longlat":a.type==="LOCAL_CS"?(a.projName="identity",a.local=!0):typeof a.PROJECTION=="object"?a.projName=Object.keys(a.PROJECTION)[0]:a.projName=a.PROJECTION,a.AXIS){for(var t="",i=0,n=a.AXIS.length;i<n;++i){var s=[a.AXIS[i][0].toLowerCase(),a.AXIS[i][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?t+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?t+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?t+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(a.axis=t)}a.UNIT&&(a.units=a.UNIT.name.toLowerCase(),a.units==="metre"&&(a.units="meter"),a.UNIT.convert&&(a.type==="GEOGCS"?a.DATUM&&a.DATUM.SPHEROID&&(a.to_meter=a.UNIT.convert*a.DATUM.SPHEROID.a):a.to_meter=a.UNIT.convert));var r=a.GEOGCS;a.type==="GEOGCS"&&(r=a),r&&(r.DATUM?a.datumCode=r.DATUM.name.toLowerCase():a.datumCode=r.name.toLowerCase(),a.datumCode.slice(0,2)==="d_"&&(a.datumCode=a.datumCode.slice(2)),a.datumCode==="new_zealand_1949"&&(a.datumCode="nzgd49"),(a.datumCode==="wgs_1984"||a.datumCode==="world_geodetic_system_1984")&&(a.PROJECTION==="Mercator_Auxiliary_Sphere"&&(a.sphere=!0),a.datumCode="wgs84"),a.datumCode==="belge_1972"&&(a.datumCode="rnb72"),r.DATUM&&r.DATUM.SPHEROID&&(a.ellps=r.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),a.ellps.toLowerCase().slice(0,13)==="international"&&(a.ellps="intl"),a.a=r.DATUM.SPHEROID.a,a.rf=parseFloat(r.DATUM.SPHEROID.rf,10)),r.DATUM&&r.DATUM.TOWGS84&&(a.datum_params=r.DATUM.TOWGS84),~a.datumCode.indexOf("osgb_1936")&&(a.datumCode="osgb36"),~a.datumCode.indexOf("osni_1952")&&(a.datumCode="osni52"),(~a.datumCode.indexOf("tm65")||~a.datumCode.indexOf("geodetic_datum_of_1965"))&&(a.datumCode="ire65"),a.datumCode==="ch1903+"&&(a.datumCode="ch1903"),~a.datumCode.indexOf("israel")&&(a.datumCode="isr93")),a.b&&!isFinite(a.b)&&(a.b=a.a);function l(f){var v=a.to_meter||1;return f*v}var c=function(f){return Fj(a,f)},h=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",xu],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",xu],["x0","false_easting",l],["y0","false_northing",l],["long0","central_meridian",xu],["lat0","latitude_of_origin",xu],["lat0","standard_parallel_1",xu],["lat1","standard_parallel_1",xu],["lat2","standard_parallel_2",xu],["azimuth","Azimuth"],["alpha","azimuth",xu],["srsCode","name"]];h.forEach(c),!a.long0&&a.longc&&(a.projName==="Albers_Conic_Equal_Area"||a.projName==="Lambert_Azimuthal_Equal_Area")&&(a.long0=a.longc),!a.lat_ts&&a.lat1&&(a.projName==="Stereographic_South_Pole"||a.projName==="Polar Stereographic (variant B)")?(a.lat0=xu(a.lat1>0?90:-90),a.lat_ts=a.lat1):!a.lat_ts&&a.lat0&&a.projName==="Polar_Stereographic"&&(a.lat_ts=a.lat0,a.lat0=xu(a.lat0>0?90:-90))}function UI(a){var e=kj(a),t=e[0],i={};return Op(e,i),qI(i),i[t]}function Gs(a){var e=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?Gs[a]=mT(arguments[1]):Gs[a]=UI(arguments[1]):Gs[a]=t}else if(arguments.length===1){if(Array.isArray(a))return a.map(function(i){Array.isArray(i)?Gs.apply(e,i):Gs(i)});if(typeof a=="string"){if(a in Gs)return Gs[a]}else"EPSG"in a?Gs["EPSG:"+a.EPSG]=a:"ESRI"in a?Gs["ESRI:"+a.ESRI]=a:"IAU2000"in a?Gs["IAU2000:"+a.IAU2000]=a:console.log(a);return}}Sj(Gs);function Wj(a){return typeof a=="string"}function zj(a){return a in Gs}var Bj=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Gj(a){return Bj.some(function(e){return a.indexOf(e)>-1})}var qj=["3857","900913","3785","102113"];function Uj(a){var e=_h(a,"authority");if(e){var t=_h(e,"epsg");return t&&qj.indexOf(t)>-1}}function Vj(a){var e=_h(a,"extension");if(e)return _h(e,"proj4")}function jj(a){return a[0]==="+"}function Hj(a){if(Wj(a)){if(zj(a))return Gs[a];if(Gj(a)){var e=UI(a);if(Uj(e))return Gs["EPSG:3857"];var t=Vj(e);return t?mT(t):e}if(jj(a))return mT(a)}else return a}function T6(a,e){a=a||{};var t,i;if(!e)return a;for(i in e)t=e[i],t!==void 0&&(a[i]=t);return a}function zu(a,e,t){var i=a*e;return t/Math.sqrt(1-i*i)}function P0(a){return a<0?-1:1}function Ht(a){return Math.abs(a)<=ur?a:a-P0(a)*d0}function Nl(a,e,t){var i=a*t,n=.5*a;return i=Math.pow((1-i)/(1+i),n),Math.tan(.5*(wt-e))/i}function _0(a,e){for(var t=.5*a,i,n,s=wt-2*Math.atan(e),r=0;r<=15;r++)if(i=a*Math.sin(s),n=wt-2*Math.atan(e*Math.pow((1-i)/(1+i),t))-s,s+=n,Math.abs(n)<=1e-10)return s;return-9999}function Zj(){var a=this.b/this.a;this.es=1-a*a,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=zu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Xj(a){var e=a.x,t=a.y;if(t*Au>90&&t*Au<-90&&e*Au>180&&e*Au<-180)return null;var i,n;if(Math.abs(Math.abs(t)-wt)<=Ut)return null;if(this.sphere)i=this.x0+this.a*this.k0*Ht(e-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(Ui+.5*t));else{var s=Math.sin(t),r=Nl(this.e,t,s);i=this.x0+this.a*this.k0*Ht(e-this.long0),n=this.y0-this.a*this.k0*Math.log(r)}return a.x=i,a.y=n,a}function Yj(a){var e=a.x-this.x0,t=a.y-this.y0,i,n;if(this.sphere)n=wt-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var s=Math.exp(-t/(this.a*this.k0));if(n=_0(this.e,s),n===-9999)return null}return i=Ht(this.long0+e/(this.a*this.k0)),a.x=i,a.y=n,a}var Kj=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const $j={init:Zj,forward:Xj,inverse:Yj,names:Kj};function Qj(){}function E6(a){return a}var Jj=["longlat","identity"];const eH={init:Qj,forward:E6,inverse:E6,names:Jj};var tH=[$j,eH],cb={},d2=[];function VI(a,e){var t=d2.length;return a.names?(d2[t]=a,a.names.forEach(function(i){cb[i.toLowerCase()]=t}),this):(console.log(e),!0)}function aH(a){if(!a)return!1;var e=a.toLowerCase();if(typeof cb[e]<"u"&&d2[cb[e]])return d2[cb[e]]}function iH(){tH.forEach(VI)}const nH={start:iH,add:VI,get:aH};var ai={};ai.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};ai.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};ai.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};ai.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};ai.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};ai.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};ai.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};ai.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};ai.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};ai.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};ai.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};ai.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};ai.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};ai.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};ai.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};ai.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};ai.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};ai.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};ai.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};ai.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};ai.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};ai.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};ai.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};ai.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};ai.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};ai.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};ai.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};ai.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};ai.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};ai.hough={a:6378270,rf:297,ellipseName:"Hough"};ai.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};ai.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};ai.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};ai.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};ai.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};ai.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};ai.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};ai.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};ai.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};ai.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};ai.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};ai.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var rH=ai.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};ai.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function sH(a,e,t,i){var n=a*a,s=e*e,r=(n-s)/n,l=0;i?(a*=1-r*(Mj+r*(Lj+r*Aj)),n=a*a,r=0):l=Math.sqrt(r);var c=(n-s)/s;return{es:r,e:l,ep2:c}}function oH(a,e,t,i,n){if(!a){var s=_h(ai,i);s||(s=rH),a=s.a,e=s.b,t=s.rf}return t&&!e&&(e=(1-1/t)*a),(t===0||Math.abs(a-e)<Ut)&&(n=!0,e=a),{a,b:e,rf:t,sphere:n}}var db={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var lH in db){var M6=db[lH];db[M6.datumName]=M6}function uH(a,e,t,i,n,s,r){var l={};return a===void 0||a==="none"?l.datum_type=_T:l.datum_type=Tj,e&&(l.datum_params=e.map(parseFloat),(l.datum_params[0]!==0||l.datum_params[1]!==0||l.datum_params[2]!==0)&&(l.datum_type=K_),l.datum_params.length>3&&(l.datum_params[3]!==0||l.datum_params[4]!==0||l.datum_params[5]!==0||l.datum_params[6]!==0)&&(l.datum_type=$_,l.datum_params[3]*=Ay,l.datum_params[4]*=Ay,l.datum_params[5]*=Ay,l.datum_params[6]=l.datum_params[6]/1e6+1)),r&&(l.datum_type=Yp,l.grids=r),l.a=t,l.b=i,l.es=n,l.ep2=s,l}var jI={};function cH(a,e){var t=new DataView(e),i=_H(t),n=mH(t,i),s=pH(t,n,i),r={header:n,subgrids:s};return jI[a]=r,r}function dH(a){if(a===void 0)return null;var e=a.split(",");return e.map(hH)}function hH(a){if(a.length===0)return null;var e=a[0]==="@";return e&&(a=a.slice(1)),a==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:a,mandatory:!e,grid:jI[a]||null,isNull:!1}}function kp(a){return a/3600*Math.PI/180}function _H(a){var e=a.getInt32(8,!1);return e===11?!1:(e=a.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function mH(a,e){return{nFields:a.getInt32(8,e),nSubgridFields:a.getInt32(24,e),nSubgrids:a.getInt32(40,e),shiftType:pT(a,56,56+8).trim(),fromSemiMajorAxis:a.getFloat64(120,e),fromSemiMinorAxis:a.getFloat64(136,e),toSemiMajorAxis:a.getFloat64(152,e),toSemiMinorAxis:a.getFloat64(168,e)}}function pT(a,e,t){return String.fromCharCode.apply(null,new Uint8Array(a.buffer.slice(e,t)))}function pH(a,e,t){for(var i=176,n=[],s=0;s<e.nSubgrids;s++){var r=gH(a,i,t),l=yH(a,i,r,t),c=Math.round(1+(r.upperLongitude-r.lowerLongitude)/r.longitudeInterval),h=Math.round(1+(r.upperLatitude-r.lowerLatitude)/r.latitudeInterval);n.push({ll:[kp(r.lowerLongitude),kp(r.lowerLatitude)],del:[kp(r.longitudeInterval),kp(r.latitudeInterval)],lim:[c,h],count:r.gridNodeCount,cvs:fH(l)}),i+=176+r.gridNodeCount*16}return n}function fH(a){return a.map(function(e){return[kp(e.longitudeShift),kp(e.latitudeShift)]})}function gH(a,e,t){return{name:pT(a,e+8,e+16).trim(),parent:pT(a,e+24,e+24+8).trim(),lowerLatitude:a.getFloat64(e+72,t),upperLatitude:a.getFloat64(e+88,t),lowerLongitude:a.getFloat64(e+104,t),upperLongitude:a.getFloat64(e+120,t),latitudeInterval:a.getFloat64(e+136,t),longitudeInterval:a.getFloat64(e+152,t),gridNodeCount:a.getInt32(e+168,t)}}function yH(a,e,t,i){for(var n=e+176,s=16,r=[],l=0;l<t.gridNodeCount;l++){var c={latitudeShift:a.getFloat32(n+l*s,i),longitudeShift:a.getFloat32(n+l*s+4,i),latitudeAccuracy:a.getFloat32(n+l*s+8,i),longitudeAccuracy:a.getFloat32(n+l*s+12,i)};r.push(c)}return r}function Ou(a,e){if(!(this instanceof Ou))return new Ou(a);e=e||function(h){if(h)throw h};var t=Hj(a);if(typeof t!="object"){e("Could not parse to valid json: "+a);return}var i=Ou.projections.get(t.projName);if(!i){e("Could not get projection name from: "+a);return}if(t.datumCode&&t.datumCode!=="none"){var n=_h(db,t.datumCode);n&&(t.datum_params=t.datum_params||(n.towgs84?n.towgs84.split(","):null),t.ellps=n.ellipse,t.datumName=n.datumName?n.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var s=oH(t.a,t.b,t.rf,t.ellps,t.sphere),r=sH(s.a,s.b,s.rf,t.R_A),l=dH(t.nadgrids),c=t.datum||uH(t.datumCode,t.datum_params,s.a,s.b,r.es,r.ep2,l);T6(this,t),T6(this,i),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=r.es,this.e=r.e,this.ep2=r.ep2,this.datum=c,this.init(),e(null,this)}Ou.projections=nH;Ou.projections.start();function vH(a,e){return a.datum_type!==e.datum_type||a.a!==e.a||Math.abs(a.es-e.es)>5e-11?!1:a.datum_type===K_?a.datum_params[0]===e.datum_params[0]&&a.datum_params[1]===e.datum_params[1]&&a.datum_params[2]===e.datum_params[2]:a.datum_type===$_?a.datum_params[0]===e.datum_params[0]&&a.datum_params[1]===e.datum_params[1]&&a.datum_params[2]===e.datum_params[2]&&a.datum_params[3]===e.datum_params[3]&&a.datum_params[4]===e.datum_params[4]&&a.datum_params[5]===e.datum_params[5]&&a.datum_params[6]===e.datum_params[6]:!0}function HI(a,e,t){var i=a.x,n=a.y,s=a.z?a.z:0,r,l,c,h;if(n<-wt&&n>-1.001*wt)n=-wt;else if(n>wt&&n<1.001*wt)n=wt;else{if(n<-wt)return{x:-1/0,y:-1/0,z:a.z};if(n>wt)return{x:1/0,y:1/0,z:a.z}}return i>Math.PI&&(i-=2*Math.PI),l=Math.sin(n),h=Math.cos(n),c=l*l,r=t/Math.sqrt(1-e*c),{x:(r+s)*h*Math.cos(i),y:(r+s)*h*Math.sin(i),z:(r*(1-e)+s)*l}}function ZI(a,e,t,i){var n=1e-12,s=n*n,r=30,l,c,h,f,v,b,T,M,I,R,P,F,B,W=a.x,Z=a.y,ae=a.z?a.z:0,he,_e,ie;if(l=Math.sqrt(W*W+Z*Z),c=Math.sqrt(W*W+Z*Z+ae*ae),l/t<n){if(he=0,c/t<n)return _e=wt,ie=-i,{x:a.x,y:a.y,z:a.z}}else he=Math.atan2(Z,W);h=ae/c,f=l/c,v=1/Math.sqrt(1-e*(2-e)*f*f),M=f*(1-e)*v,I=h*v,B=0;do B++,T=t/Math.sqrt(1-e*I*I),ie=l*M+ae*I-T*(1-e*I*I),b=e*T/(T+ie),v=1/Math.sqrt(1-b*(2-b)*f*f),R=f*(1-b)*v,P=h*v,F=P*M-R*I,M=R,I=P;while(F*F>s&&B<r);return _e=Math.atan(P/Math.abs(R)),{x:he,y:_e,z:ie}}function bH(a,e,t){if(e===K_)return{x:a.x+t[0],y:a.y+t[1],z:a.z+t[2]};if(e===$_){var i=t[0],n=t[1],s=t[2],r=t[3],l=t[4],c=t[5],h=t[6];return{x:h*(a.x-c*a.y+l*a.z)+i,y:h*(c*a.x+a.y-r*a.z)+n,z:h*(-l*a.x+r*a.y+a.z)+s}}}function xH(a,e,t){if(e===K_)return{x:a.x-t[0],y:a.y-t[1],z:a.z-t[2]};if(e===$_){var i=t[0],n=t[1],s=t[2],r=t[3],l=t[4],c=t[5],h=t[6],f=(a.x-i)/h,v=(a.y-n)/h,b=(a.z-s)/h;return{x:f+c*v-l*b,y:-c*f+v+r*b,z:l*f-r*v+b}}}function Mv(a){return a===K_||a===$_}function wH(a,e,t){if(vH(a,e)||a.datum_type===_T||e.datum_type===_T)return t;var i=a.a,n=a.es;if(a.datum_type===Yp){var s=L6(a,!1,t);if(s!==0)return;i=x6,n=w6}var r=e.a,l=e.b,c=e.es;if(e.datum_type===Yp&&(r=x6,l=Ej,c=w6),n===c&&i===r&&!Mv(a.datum_type)&&!Mv(e.datum_type))return t;if(t=HI(t,n,i),Mv(a.datum_type)&&(t=bH(t,a.datum_type,a.datum_params)),Mv(e.datum_type)&&(t=xH(t,e.datum_type,e.datum_params)),t=ZI(t,c,r,l),e.datum_type===Yp){var h=L6(e,!0,t);if(h!==0)return}return t}function L6(a,e,t){if(a.grids===null||a.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-t.x,y:t.y},n={x:Number.NaN,y:Number.NaN},s=[];e:for(var r=0;r<a.grids.length;r++){var l=a.grids[r];if(s.push(l.name),l.isNull){n=i;break}if(l.mandatory,l.grid===null){if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1;continue}for(var c=l.grid.subgrids,h=0,f=c.length;h<f;h++){var v=c[h],b=(Math.abs(v.del[1])+Math.abs(v.del[0]))/1e4,T=v.ll[0]-b,M=v.ll[1]-b,I=v.ll[0]+(v.lim[0]-1)*v.del[0]+b,R=v.ll[1]+(v.lim[1]-1)*v.del[1]+b;if(!(M>i.y||T>i.x||R<i.y||I<i.x)&&(n=SH(i,e,v),!isNaN(n.x)))break e}}return isNaN(n.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*Au+" "+i.y*Au+" tried: '"+s+"'"),-1):(t.x=-n.x,t.y=n.y,0)}function SH(a,e,t){var i={x:Number.NaN,y:Number.NaN};if(isNaN(a.x))return i;var n={x:a.x,y:a.y};n.x-=t.ll[0],n.y-=t.ll[1],n.x=Ht(n.x-Math.PI)+Math.PI;var s=A6(n,t);if(e){if(isNaN(s.x))return i;s.x=n.x-s.x,s.y=n.y-s.y;var r=9,l=1e-12,c,h;do{if(h=A6(s,t),isNaN(h.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:n.x-(h.x+s.x),y:n.y-(h.y+s.y)},s.x+=c.x,s.y+=c.y}while(r--&&Math.abs(c.x)>l&&Math.abs(c.y)>l);if(r<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=Ht(s.x+t.ll[0]),i.y=s.y+t.ll[1]}else isNaN(s.x)||(i.x=a.x+s.x,i.y=a.y+s.y);return i}function A6(a,e){var t={x:a.x/e.del[0],y:a.y/e.del[1]},i={x:Math.floor(t.x),y:Math.floor(t.y)},n={x:t.x-1*i.x,y:t.y-1*i.y},s={x:Number.NaN,y:Number.NaN},r;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return s;r=i.y*e.lim[0]+i.x;var l={x:e.cvs[r][0],y:e.cvs[r][1]};r++;var c={x:e.cvs[r][0],y:e.cvs[r][1]};r+=e.lim[0];var h={x:e.cvs[r][0],y:e.cvs[r][1]};r--;var f={x:e.cvs[r][0],y:e.cvs[r][1]},v=n.x*n.y,b=n.x*(1-n.y),T=(1-n.x)*(1-n.y),M=(1-n.x)*n.y;return s.x=T*l.x+b*c.x+M*f.x+v*h.x,s.y=T*l.y+b*c.y+M*f.y+v*h.y,s}function C6(a,e,t){var i=t.x,n=t.y,s=t.z||0,r,l,c,h={};for(c=0;c<3;c++)if(!(e&&c===2&&t.z===void 0))switch(c===0?(r=i,"ew".indexOf(a.axis[c])!==-1?l="x":l="y"):c===1?(r=n,"ns".indexOf(a.axis[c])!==-1?l="y":l="x"):(r=s,l="z"),a.axis[c]){case"e":h[l]=r;break;case"w":h[l]=-r;break;case"n":h[l]=r;break;case"s":h[l]=-r;break;case"u":t[l]!==void 0&&(h.z=r);break;case"d":t[l]!==void 0&&(h.z=-r);break;default:return null}return h}function XI(a){var e={x:a[0],y:a[1]};return a.length>2&&(e.z=a[2]),a.length>3&&(e.m=a[3]),e}function TH(a){I6(a.x),I6(a.y)}function I6(a){if(typeof Number.isFinite=="function"){if(Number.isFinite(a))return;throw new TypeError("coordinates must be finite numbers")}if(typeof a!="number"||a!==a||!isFinite(a))throw new TypeError("coordinates must be finite numbers")}function EH(a,e){return(a.datum.datum_type===K_||a.datum.datum_type===$_||a.datum.datum_type===Yp)&&e.datumCode!=="WGS84"||(e.datum.datum_type===K_||e.datum.datum_type===$_||e.datum.datum_type===Yp)&&a.datumCode!=="WGS84"}function h2(a,e,t,i){var n;Array.isArray(t)?t=XI(t):t={x:t.x,y:t.y,z:t.z,m:t.m};var s=t.z!==void 0;if(TH(t),a.datum&&e.datum&&EH(a,e)&&(n=new Ou("WGS84"),t=h2(a,n,t,i),a=n),i&&a.axis!=="enu"&&(t=C6(a,!1,t)),a.projName==="longlat")t={x:t.x*rs,y:t.y*rs,z:t.z||0};else if(a.to_meter&&(t={x:t.x*a.to_meter,y:t.y*a.to_meter,z:t.z||0}),t=a.inverse(t),!t)return;if(a.from_greenwich&&(t.x+=a.from_greenwich),t=wH(a.datum,e.datum,t),!!t)return e.from_greenwich&&(t={x:t.x-e.from_greenwich,y:t.y,z:t.z||0}),e.projName==="longlat"?t={x:t.x*Au,y:t.y*Au,z:t.z||0}:(t=e.forward(t),e.to_meter&&(t={x:t.x/e.to_meter,y:t.y/e.to_meter,z:t.z||0})),i&&e.axis!=="enu"?C6(e,!0,t):(t&&!s&&delete t.z,t)}var R6=Ou("WGS84");function MS(a,e,t,i){var n,s,r;return Array.isArray(t)?(n=h2(a,e,t,i)||{x:NaN,y:NaN},t.length>2?typeof a.name<"u"&&a.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof n.z=="number"?[n.x,n.y,n.z].concat(t.slice(3)):[n.x,n.y,t[2]].concat(t.slice(3)):[n.x,n.y].concat(t.slice(2)):[n.x,n.y]):(s=h2(a,e,t,i),r=Object.keys(t),r.length===2||r.forEach(function(l){if(typeof a.name<"u"&&a.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(l==="x"||l==="y"||l==="z")return}else if(l==="x"||l==="y")return;s[l]=t[l]}),s)}function O6(a){return a instanceof Ou?a:a.oProj?a.oProj:Ou(a)}function As(a,e,t){a=O6(a);var i=!1,n;return typeof e>"u"?(e=a,a=R6,i=!0):(typeof e.x<"u"||Array.isArray(e))&&(t=e,e=a,a=R6,i=!0),e=O6(e),t?MS(a,e,t):(n={forward:function(s,r){return MS(a,e,s,r)},inverse:function(s,r){return MS(e,a,s,r)}},i&&(n.oProj=e),n)}var k6=6,YI="AJSAJS",KI="AFAFAF",Pp=65,_o=73,al=79,ay=86,iy=90;const MH={forward:$I,inverse:LH,toPoint:QI};function $I(a,e){return e=e||5,IH(AH({lat:a[1],lon:a[0]}),e)}function LH(a){var e=FE(eR(a.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function QI(a){var e=FE(eR(a.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function LS(a){return a*(Math.PI/180)}function P6(a){return 180*(a/Math.PI)}function AH(a){var e=a.lat,t=a.lon,i=6378137,n=.00669438,s=.9996,r,l,c,h,f,v,b,T=LS(e),M=LS(t),I,R;R=Math.floor((t+180)/6)+1,t===180&&(R=60),e>=56&&e<64&&t>=3&&t<12&&(R=32),e>=72&&e<84&&(t>=0&&t<9?R=31:t>=9&&t<21?R=33:t>=21&&t<33?R=35:t>=33&&t<42&&(R=37)),r=(R-1)*6-180+3,I=LS(r),l=n/(1-n),c=i/Math.sqrt(1-n*Math.sin(T)*Math.sin(T)),h=Math.tan(T)*Math.tan(T),f=l*Math.cos(T)*Math.cos(T),v=Math.cos(T)*(M-I),b=i*((1-n/4-3*n*n/64-5*n*n*n/256)*T-(3*n/8+3*n*n/32+45*n*n*n/1024)*Math.sin(2*T)+(15*n*n/256+45*n*n*n/1024)*Math.sin(4*T)-35*n*n*n/3072*Math.sin(6*T));var P=s*c*(v+(1-h+f)*v*v*v/6+(5-18*h+h*h+72*f-58*l)*v*v*v*v*v/120)+5e5,F=s*(b+c*Math.tan(T)*(v*v/2+(5-h+9*f+4*f*f)*v*v*v*v/24+(61-58*h+h*h+600*f-330*l)*v*v*v*v*v*v/720));return e<0&&(F+=1e7),{northing:Math.round(F),easting:Math.round(P),zoneNumber:R,zoneLetter:CH(e)}}function FE(a){var e=a.northing,t=a.easting,i=a.zoneLetter,n=a.zoneNumber;if(n<0||n>60)return null;var s=.9996,r=6378137,l=.00669438,c,h=(1-Math.sqrt(1-l))/(1+Math.sqrt(1-l)),f,v,b,T,M,I,R,P,F,B=t-5e5,W=e;i<"N"&&(W-=1e7),R=(n-1)*6-180+3,c=l/(1-l),I=W/s,P=I/(r*(1-l/4-3*l*l/64-5*l*l*l/256)),F=P+(3*h/2-27*h*h*h/32)*Math.sin(2*P)+(21*h*h/16-55*h*h*h*h/32)*Math.sin(4*P)+151*h*h*h/96*Math.sin(6*P),f=r/Math.sqrt(1-l*Math.sin(F)*Math.sin(F)),v=Math.tan(F)*Math.tan(F),b=c*Math.cos(F)*Math.cos(F),T=r*(1-l)/Math.pow(1-l*Math.sin(F)*Math.sin(F),1.5),M=B/(f*s);var Z=F-f*Math.tan(F)/T*(M*M/2-(5+3*v+10*b-4*b*b-9*c)*M*M*M*M/24+(61+90*v+298*b+45*v*v-252*c-3*b*b)*M*M*M*M*M*M/720);Z=P6(Z);var ae=(M-(1+2*v+b)*M*M*M/6+(5-2*b+28*v-3*b*b+8*c+24*v*v)*M*M*M*M*M/120)/Math.cos(F);ae=R+P6(ae);var he;if(a.accuracy){var _e=FE({northing:a.northing+a.accuracy,easting:a.easting+a.accuracy,zoneLetter:a.zoneLetter,zoneNumber:a.zoneNumber});he={top:_e.lat,right:_e.lon,bottom:Z,left:ae}}else he={lat:Z,lon:ae};return he}function CH(a){var e="Z";return 84>=a&&a>=72?e="X":72>a&&a>=64?e="W":64>a&&a>=56?e="V":56>a&&a>=48?e="U":48>a&&a>=40?e="T":40>a&&a>=32?e="S":32>a&&a>=24?e="R":24>a&&a>=16?e="Q":16>a&&a>=8?e="P":8>a&&a>=0?e="N":0>a&&a>=-8?e="M":-8>a&&a>=-16?e="L":-16>a&&a>=-24?e="K":-24>a&&a>=-32?e="J":-32>a&&a>=-40?e="H":-40>a&&a>=-48?e="G":-48>a&&a>=-56?e="F":-56>a&&a>=-64?e="E":-64>a&&a>=-72?e="D":-72>a&&a>=-80&&(e="C"),e}function IH(a,e){var t="00000"+a.easting,i="00000"+a.northing;return a.zoneNumber+a.zoneLetter+RH(a.easting,a.northing,a.zoneNumber)+t.substr(t.length-5,e)+i.substr(i.length-5,e)}function RH(a,e,t){var i=JI(t),n=Math.floor(a/1e5),s=Math.floor(e/1e5)%20;return OH(n,s,i)}function JI(a){var e=a%k6;return e===0&&(e=k6),e}function OH(a,e,t){var i=t-1,n=YI.charCodeAt(i),s=KI.charCodeAt(i),r=n+a-1,l=s+e,c=!1;r>iy&&(r=r-iy+Pp-1,c=!0),(r===_o||n<_o&&r>_o||(r>_o||n<_o)&&c)&&r++,(r===al||n<al&&r>al||(r>al||n<al)&&c)&&(r++,r===_o&&r++),r>iy&&(r=r-iy+Pp-1),l>ay?(l=l-ay+Pp-1,c=!0):c=!1,(l===_o||s<_o&&l>_o||(l>_o||s<_o)&&c)&&l++,(l===al||s<al&&l>al||(l>al||s<al)&&c)&&(l++,l===_o&&l++),l>ay&&(l=l-ay+Pp-1);var h=String.fromCharCode(r)+String.fromCharCode(l);return h}function eR(a){if(a&&a.length===0)throw"MGRSPoint coverting from nothing";for(var e=a.length,t=null,i="",n,s=0;!/[A-Z]/.test(n=a.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+a;i+=n,s++}var r=parseInt(i,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+a;var l=a.charAt(s++);if(l<="A"||l==="B"||l==="Y"||l>="Z"||l==="I"||l==="O")throw"MGRSPoint zone letter "+l+" not handled: "+a;t=a.substring(s,s+=2);for(var c=JI(r),h=kH(t.charAt(0),c),f=PH(t.charAt(1),c);f<DH(l);)f+=2e6;var v=e-s;if(v%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+a;var b=v/2,T=0,M=0,I,R,P,F,B;return b>0&&(I=1e5/Math.pow(10,b),R=a.substring(s,s+b),T=parseFloat(R)*I,P=a.substring(s+b),M=parseFloat(P)*I),F=T+h,B=M+f,{easting:F,northing:B,zoneLetter:l,zoneNumber:r,accuracy:I}}function kH(a,e){for(var t=YI.charCodeAt(e-1),i=1e5,n=!1;t!==a.charCodeAt(0);){if(t++,t===_o&&t++,t===al&&t++,t>iy){if(n)throw"Bad character: "+a;t=Pp,n=!0}i+=1e5}return i}function PH(a,e){if(a>"V")throw"MGRSPoint given invalid Northing "+a;for(var t=KI.charCodeAt(e-1),i=0,n=!1;t!==a.charCodeAt(0);){if(t++,t===_o&&t++,t===al&&t++,t>ay){if(n)throw"Bad character: "+a;t=Pp,n=!0}i+=1e5}return i}function DH(a){var e;switch(a){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+a}function pf(a,e,t){if(!(this instanceof pf))return new pf(a,e,t);if(Array.isArray(a))this.x=a[0],this.y=a[1],this.z=a[2]||0;else if(typeof a=="object")this.x=a.x,this.y=a.y,this.z=a.z||0;else if(typeof a=="string"&&typeof e>"u"){var i=a.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=a,this.y=e,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}pf.fromMGRS=function(a){return new pf(QI(a))};pf.prototype.toMGRS=function(a){return $I([this.x,this.y],a)};var FH=1,NH=.25,D6=.046875,F6=.01953125,N6=.01068115234375,WH=.75,zH=.46875,BH=.013020833333333334,GH=.007120768229166667,qH=.3645833333333333,UH=.005696614583333333,VH=.3076171875;function NE(a){var e=[];e[0]=FH-a*(NH+a*(D6+a*(F6+a*N6))),e[1]=a*(WH-a*(D6+a*(F6+a*N6)));var t=a*a;return e[2]=t*(zH-a*(BH+a*GH)),t*=a,e[3]=t*(qH-a*UH),e[4]=t*a*VH,e}function kf(a,e,t,i){return t*=e,e*=e,i[0]*a-t*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var jH=20;function WE(a,e,t){for(var i=1/(1-e),n=a,s=jH;s;--s){var r=Math.sin(n),l=1-e*r*r;if(l=(kf(n,r,Math.cos(n),t)-a)*(l*Math.sqrt(l))*i,n-=l,Math.abs(l)<Ut)return n}return n}function HH(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=NE(this.es),this.ml0=kf(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function ZH(a){var e=a.x,t=a.y,i=Ht(e-this.long0),n,s,r,l=Math.sin(t),c=Math.cos(t);if(this.es){var f=c*i,v=Math.pow(f,2),b=this.ep2*Math.pow(c,2),T=Math.pow(b,2),M=Math.abs(c)>Ut?Math.tan(t):0,I=Math.pow(M,2),R=Math.pow(I,2);n=1-this.es*Math.pow(l,2),f=f/Math.sqrt(n);var P=kf(t,l,c,this.en);s=this.a*(this.k0*f*(1+v/6*(1-I+b+v/20*(5-18*I+R+14*b-58*I*b+v/42*(61+179*R-R*I-479*I)))))+this.x0,r=this.a*(this.k0*(P-this.ml0+l*i*f/2*(1+v/12*(5-I+9*b+4*T+v/30*(61+R-58*I+270*b-330*I*b+v/56*(1385+543*R-R*I-3111*I))))))+this.y0}else{var h=c*Math.sin(i);if(Math.abs(Math.abs(h)-1)<Ut)return 93;if(s=.5*this.a*this.k0*Math.log((1+h)/(1-h))+this.x0,r=c*Math.cos(i)/Math.sqrt(1-Math.pow(h,2)),h=Math.abs(r),h>=1){if(h-1>Ut)return 93;r=0}else r=Math.acos(r);t<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return a.x=s,a.y=r,a}function XH(a){var e,t,i,n,s=(a.x-this.x0)*(1/this.a),r=(a.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+r/this.k0,t=WE(e,this.es,this.en),Math.abs(t)<wt){var v=Math.sin(t),b=Math.cos(t),T=Math.abs(b)>Ut?Math.tan(t):0,M=this.ep2*Math.pow(b,2),I=Math.pow(M,2),R=Math.pow(T,2),P=Math.pow(R,2);e=1-this.es*Math.pow(v,2);var F=s*Math.sqrt(e)/this.k0,B=Math.pow(F,2);e=e*T,i=t-e*B/(1-this.es)*.5*(1-B/12*(5+3*R-9*M*R+M-4*I-B/30*(61+90*R-252*M*R+45*P+46*M-B/56*(1385+3633*R+4095*P+1574*P*R)))),n=Ht(this.long0+F*(1-B/6*(1+2*R+M-B/20*(5+28*R+24*P+8*M*R+6*M-B/42*(61+662*R+1320*P+720*P*R))))/b)}else i=wt*P0(r),n=0;else{var l=Math.exp(s/this.k0),c=.5*(l-1/l),h=this.lat0+r/this.k0,f=Math.cos(h);e=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(c,2))),i=Math.asin(e),r<0&&(i=-i),c===0&&f===0?n=0:n=Ht(Math.atan2(c,f)+this.long0)}return a.x=n,a.y=i,a}var YH=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const hb={init:HH,forward:ZH,inverse:XH,names:YH};function tR(a){var e=Math.exp(a);return e=(e-1/e)/2,e}function po(a,e){a=Math.abs(a),e=Math.abs(e);var t=Math.max(a,e),i=Math.min(a,e)/(t||1);return t*Math.sqrt(1+Math.pow(i,2))}function KH(a){var e=1+a,t=e-1;return t===0?a:a*Math.log(e)/t}function $H(a){var e=Math.abs(a);return e=KH(e*(1+e/(po(1,e)+1))),a<0?-e:e}function zE(a,e){for(var t=2*Math.cos(2*e),i=a.length-1,n=a[i],s=0,r;--i>=0;)r=-s+t*n+a[i],s=n,n=r;return e+r*Math.sin(2*e)}function QH(a,e){for(var t=2*Math.cos(e),i=a.length-1,n=a[i],s=0,r;--i>=0;)r=-s+t*n+a[i],s=n,n=r;return Math.sin(e)*r}function JH(a){var e=Math.exp(a);return e=(e+1/e)/2,e}function aR(a,e,t){for(var i=Math.sin(e),n=Math.cos(e),s=tR(t),r=JH(t),l=2*n*r,c=-2*i*s,h=a.length-1,f=a[h],v=0,b=0,T=0,M,I;--h>=0;)M=b,I=v,b=f,v=T,f=-M+l*b-c*v+a[h],T=-I+c*b+l*v;return l=i*r,c=n*s,[l*f-c*T,l*T+c*f]}function eZ(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(hb.init.apply(this),this.forward=hb.forward,this.inverse=hb.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var a=this.es/(1+Math.sqrt(1-this.es)),e=a/(2-a),t=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),t=t*e,this.cgb[1]=t*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=t*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),t=t*e,this.cgb[2]=t*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=t*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),t=t*e,this.cgb[3]=t*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=t*(1237/630+e*(-12/5+e*(-24832/14175))),t=t*e,this.cgb[4]=t*(4174/315+e*(-144838/6237)),this.cbg[4]=t*(-734/315+e*(109598/31185)),t=t*e,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=t*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=t*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),t=t*e,this.utg[2]=t*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=t*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),t=t*e,this.utg[3]=t*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=t*(49561/161280+e*(-179/168+e*(6601661/7257600))),t=t*e,this.utg[4]=t*(-4583/161280+e*(108847/3991680)),this.gtu[4]=t*(34729/80640+e*(-3418889/1995840)),t=t*e,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var i=zE(this.cbg,this.lat0);this.Zb=-this.Qn*(i+QH(this.gtu,2*i))}function tZ(a){var e=Ht(a.x-this.long0),t=a.y;t=zE(this.cbg,t);var i=Math.sin(t),n=Math.cos(t),s=Math.sin(e),r=Math.cos(e);t=Math.atan2(i,r*n),e=Math.atan2(s*n,po(i,n*r)),e=$H(Math.tan(e));var l=aR(this.gtu,2*t,2*e);t=t+l[0],e=e+l[1];var c,h;return Math.abs(e)<=2.623395162778?(c=this.a*(this.Qn*e)+this.x0,h=this.a*(this.Qn*t+this.Zb)+this.y0):(c=1/0,h=1/0),a.x=c,a.y=h,a}function aZ(a){var e=(a.x-this.x0)*(1/this.a),t=(a.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,e=e/this.Qn;var i,n;if(Math.abs(e)<=2.623395162778){var s=aR(this.utg,2*t,2*e);t=t+s[0],e=e+s[1],e=Math.atan(tR(e));var r=Math.sin(t),l=Math.cos(t),c=Math.sin(e),h=Math.cos(e);t=Math.atan2(r*h,po(c,h*l)),e=Math.atan2(c,h*l),i=Ht(e+this.long0),n=zE(this.cgb,t)}else i=1/0,n=1/0;return a.x=i,a.y=n,a}var iZ=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const _b={init:eZ,forward:tZ,inverse:aZ,names:iZ};function nZ(a,e){if(a===void 0){if(a=Math.floor((Ht(e)+Math.PI)*30/Math.PI)+1,a<0)return 0;if(a>60)return 60}return a}var rZ="etmerc";function sZ(){var a=nZ(this.zone,this.long0);if(a===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(a)-183)*rs,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,_b.init.apply(this),this.forward=_b.forward,this.inverse=_b.inverse}var oZ=["Universal Transverse Mercator System","utm"];const lZ={init:sZ,names:oZ,dependsOn:rZ};function BE(a,e){return Math.pow((1-a)/(1+a),e)}var uZ=20;function cZ(){var a=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*a*a),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(a/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ui)/(Math.pow(Math.tan(.5*this.lat0+Ui),this.C)*BE(this.e*a,this.ratexp))}function dZ(a){var e=a.x,t=a.y;return a.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+Ui),this.C)*BE(this.e*Math.sin(t),this.ratexp))-wt,a.x=this.C*e,a}function hZ(a){for(var e=1e-14,t=a.x/this.C,i=a.y,n=Math.pow(Math.tan(.5*i+Ui)/this.K,1/this.C),s=uZ;s>0&&(i=2*Math.atan(n*BE(this.e*Math.sin(a.y),-.5*this.e))-wt,!(Math.abs(i-a.y)<e));--s)a.y=i;return s?(a.x=t,a.y=i,a):null}var _Z=["gauss"];const GE={init:cZ,forward:dZ,inverse:hZ,names:_Z};function mZ(){GE.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function pZ(a){var e,t,i,n;return a.x=Ht(a.x-this.long0),GE.forward.apply(this,[a]),e=Math.sin(a.y),t=Math.cos(a.y),i=Math.cos(a.x),n=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*t*i),a.x=n*t*Math.sin(a.x),a.y=n*(this.cosc0*e-this.sinc0*t*i),a.x=this.a*a.x+this.x0,a.y=this.a*a.y+this.y0,a}function fZ(a){var e,t,i,n,s;if(a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,s=po(a.x,a.y)){var r=2*Math.atan2(s,this.R2);e=Math.sin(r),t=Math.cos(r),n=Math.asin(t*this.sinc0+a.y*e*this.cosc0/s),i=Math.atan2(a.x*e,s*this.cosc0*t-a.y*this.sinc0*e)}else n=this.phic0,i=0;return a.x=i,a.y=n,GE.inverse.apply(this,[a]),a.x=Ht(a.x+this.long0),a}var gZ=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const yZ={init:mZ,forward:pZ,inverse:fZ,names:gZ};function vZ(a,e,t){return e*=t,Math.tan(.5*(wt+a))*Math.pow((1-e)/(1+e),.5*t)}function bZ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Ut&&(this.k0=.5*(1+P0(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Ut&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Ut&&Math.abs(Math.cos(this.lat_ts))>Ut&&(this.k0=.5*this.cons*zu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Nl(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=zu(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-wt,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function xZ(a){var e=a.x,t=a.y,i=Math.sin(t),n=Math.cos(t),s,r,l,c,h,f,v=Ht(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Ut&&Math.abs(t+this.lat0)<=Ut?(a.x=NaN,a.y=NaN,a):this.sphere?(s=2*this.k0/(1+this.sinlat0*i+this.coslat0*n*Math.cos(v)),a.x=this.a*s*n*Math.sin(v)+this.x0,a.y=this.a*s*(this.coslat0*i-this.sinlat0*n*Math.cos(v))+this.y0,a):(r=2*Math.atan(this.ssfn_(t,i,this.e))-wt,c=Math.cos(r),l=Math.sin(r),Math.abs(this.coslat0)<=Ut?(h=Nl(this.e,t*this.con,this.con*i),f=2*this.a*this.k0*h/this.cons,a.x=this.x0+f*Math.sin(e-this.long0),a.y=this.y0-this.con*f*Math.cos(e-this.long0),a):(Math.abs(this.sinlat0)<Ut?(s=2*this.a*this.k0/(1+c*Math.cos(v)),a.y=s*l):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*l+this.cosX0*c*Math.cos(v))),a.y=s*(this.cosX0*l-this.sinX0*c*Math.cos(v))+this.y0),a.x=s*c*Math.sin(v)+this.x0,a))}function wZ(a){a.x-=this.x0,a.y-=this.y0;var e,t,i,n,s,r=Math.sqrt(a.x*a.x+a.y*a.y);if(this.sphere){var l=2*Math.atan(r/(2*this.a*this.k0));return e=this.long0,t=this.lat0,r<=Ut?(a.x=e,a.y=t,a):(t=Math.asin(Math.cos(l)*this.sinlat0+a.y*Math.sin(l)*this.coslat0/r),Math.abs(this.coslat0)<Ut?this.lat0>0?e=Ht(this.long0+Math.atan2(a.x,-1*a.y)):e=Ht(this.long0+Math.atan2(a.x,a.y)):e=Ht(this.long0+Math.atan2(a.x*Math.sin(l),r*this.coslat0*Math.cos(l)-a.y*this.sinlat0*Math.sin(l))),a.x=e,a.y=t,a)}else if(Math.abs(this.coslat0)<=Ut){if(r<=Ut)return t=this.lat0,e=this.long0,a.x=e,a.y=t,a;a.x*=this.con,a.y*=this.con,i=r*this.cons/(2*this.a*this.k0),t=this.con*_0(this.e,i),e=this.con*Ht(this.con*this.long0+Math.atan2(a.x,-1*a.y))}else n=2*Math.atan(r*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,r<=Ut?s=this.X0:(s=Math.asin(Math.cos(n)*this.sinX0+a.y*Math.sin(n)*this.cosX0/r),e=Ht(this.long0+Math.atan2(a.x*Math.sin(n),r*this.cosX0*Math.cos(n)-a.y*this.sinX0*Math.sin(n)))),t=-1*_0(this.e,Math.tan(.5*(wt+s)));return a.x=e,a.y=t,a}var SZ=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const TZ={init:bZ,forward:xZ,inverse:wZ,names:SZ,ssfn_:vZ};function EZ(){var a=this.lat0;this.lambda0=this.long0;var e=Math.sin(a),t=this.a,i=this.rf,n=1/i,s=2*n-Math.pow(n,2),r=this.e=Math.sqrt(s);this.R=this.k0*t*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(a),4)),this.b0=Math.asin(e/this.alpha);var l=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+a/2)),h=Math.log((1+r*e)/(1-r*e));this.K=l-this.alpha*c+this.alpha*r/2*h}function MZ(a){var e=Math.log(Math.tan(Math.PI/4-a.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(a.y))/(1-this.e*Math.sin(a.y))),i=-this.alpha*(e+t)+this.K,n=2*(Math.atan(Math.exp(i))-Math.PI/4),s=this.alpha*(a.x-this.lambda0),r=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(s))),l=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(s));return a.y=this.R/2*Math.log((1+Math.sin(l))/(1-Math.sin(l)))+this.y0,a.x=this.R*r+this.x0,a}function LZ(a){for(var e=a.x-this.x0,t=a.y-this.y0,i=e/this.R,n=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(i)),r=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(n))),l=this.lambda0+r/this.alpha,c=0,h=s,f=-1e3,v=0;Math.abs(h-f)>1e-7;){if(++v>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),f=h,h=2*Math.atan(Math.exp(c))-Math.PI/2}return a.x=l,a.y=h,a}var AZ=["somerc"];const CZ={init:EZ,forward:MZ,inverse:LZ,names:AZ};var Mp=1e-7;function IZ(a){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof a.PROJECTION=="object"?Object.keys(a.PROJECTION)[0]:a.PROJECTION;return"no_uoff"in a||"no_off"in a||e.indexOf(t)!==-1}function RZ(){var a,e,t,i,n,s,r,l,c,h,f=0,v,b=0,T=0,M=0,I=0,R=0,P=0;this.no_off=IZ(this),this.no_rot="no_rot"in this;var F=!1;"alpha"in this&&(F=!0);var B=!1;if("rectified_grid_angle"in this&&(B=!0),F&&(P=this.alpha),B&&(f=this.rectified_grid_angle*rs),F||B)b=this.longc;else if(T=this.long1,I=this.lat1,M=this.long2,R=this.lat2,Math.abs(I-R)<=Mp||(a=Math.abs(I))<=Mp||Math.abs(a-wt)<=Mp||Math.abs(Math.abs(this.lat0)-wt)<=Mp||Math.abs(Math.abs(R)-wt)<=Mp)throw new Error;var W=1-this.es;e=Math.sqrt(W),Math.abs(this.lat0)>Ut?(l=Math.sin(this.lat0),t=Math.cos(this.lat0),a=1-this.es*l*l,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/W),this.A=this.B*this.k0*e/a,i=this.B*e/(t*Math.sqrt(a)),n=i*i-1,n<=0?n=0:(n=Math.sqrt(n),this.lat0<0&&(n=-n)),this.E=n+=i,this.E*=Math.pow(Nl(this.e,this.lat0,l),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=n=1),F||B?(F?(v=Math.asin(Math.sin(P)/i),B||(f=P)):(v=f,P=Math.asin(i*Math.sin(v))),this.lam0=b-Math.asin(.5*(n-1/n)*Math.tan(v))/this.B):(s=Math.pow(Nl(this.e,I,Math.sin(I)),this.B),r=Math.pow(Nl(this.e,R,Math.sin(R)),this.B),n=this.E/s,c=(r-s)/(r+s),h=this.E*this.E,h=(h-r*s)/(h+r*s),a=T-M,a<-Math.pi?M-=d0:a>Math.pi&&(M+=d0),this.lam0=Ht(.5*(T+M)-Math.atan(h*Math.tan(.5*this.B*(T-M))/c)/this.B),v=Math.atan(2*Math.sin(this.B*Ht(T-this.lam0))/(n-1/n)),f=P=Math.asin(i*Math.sin(v))),this.singam=Math.sin(v),this.cosgam=Math.cos(v),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(P))),this.lat0<0&&(this.u_0=-this.u_0)),n=.5*v,this.v_pole_n=this.ArB*Math.log(Math.tan(Ui-n)),this.v_pole_s=this.ArB*Math.log(Math.tan(Ui+n))}function OZ(a){var e={},t,i,n,s,r,l,c,h;if(a.x=a.x-this.lam0,Math.abs(Math.abs(a.y)-wt)>Ut){if(r=this.E/Math.pow(Nl(this.e,a.y,Math.sin(a.y)),this.B),l=1/r,t=.5*(r-l),i=.5*(r+l),s=Math.sin(this.B*a.x),n=(t*this.singam-s*this.cosgam)/i,Math.abs(Math.abs(n)-1)<Ut)throw new Error;h=.5*this.ArB*Math.log((1-n)/(1+n)),l=Math.cos(this.B*a.x),Math.abs(l)<Mp?c=this.A*a.x:c=this.ArB*Math.atan2(t*this.cosgam+s*this.singam,l)}else h=a.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*a.y;return this.no_rot?(e.x=c,e.y=h):(c-=this.u_0,e.x=h*this.cosrot+c*this.sinrot,e.y=c*this.cosrot-h*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function kZ(a){var e,t,i,n,s,r,l,c={};if(a.x=(a.x-this.x0)*(1/this.a),a.y=(a.y-this.y0)*(1/this.a),this.no_rot?(t=a.y,e=a.x):(t=a.x*this.cosrot-a.y*this.sinrot,e=a.y*this.cosrot+a.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*t),n=.5*(i-1/i),s=.5*(i+1/i),r=Math.sin(this.BrA*e),l=(r*this.cosgam+n*this.singam)/s,Math.abs(Math.abs(l)-1)<Ut)c.x=0,c.y=l<0?-wt:wt;else{if(c.y=this.E/Math.sqrt((1+l)/(1-l)),c.y=_0(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(n*this.cosgam-r*this.singam,Math.cos(this.BrA*e))}return c.x+=this.lam0,c}var PZ=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const DZ={init:RZ,forward:OZ,inverse:kZ,names:PZ};function FZ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Ut)){var a=this.b/this.a;this.e=Math.sqrt(1-a*a);var e=Math.sin(this.lat1),t=Math.cos(this.lat1),i=zu(this.e,e,t),n=Nl(this.e,this.lat1,e),s=Math.sin(this.lat2),r=Math.cos(this.lat2),l=zu(this.e,s,r),c=Nl(this.e,this.lat2,s),h=Nl(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Ut?this.ns=Math.log(i/l)/Math.log(n/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function NZ(a){var e=a.x,t=a.y;Math.abs(2*Math.abs(t)-Math.PI)<=Ut&&(t=P0(t)*(wt-2*Ut));var i=Math.abs(Math.abs(t)-wt),n,s;if(i>Ut)n=Nl(this.e,t,Math.sin(t)),s=this.a*this.f0*Math.pow(n,this.ns);else{if(i=t*this.ns,i<=0)return null;s=0}var r=this.ns*Ht(e-this.long0);return a.x=this.k0*(s*Math.sin(r))+this.x0,a.y=this.k0*(this.rh-s*Math.cos(r))+this.y0,a}function WZ(a){var e,t,i,n,s,r=(a.x-this.x0)/this.k0,l=this.rh-(a.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(r*r+l*l),t=1):(e=-Math.sqrt(r*r+l*l),t=-1);var c=0;if(e!==0&&(c=Math.atan2(t*r,t*l)),e!==0||this.ns>0){if(t=1/this.ns,i=Math.pow(e/(this.a*this.f0),t),n=_0(this.e,i),n===-9999)return null}else n=-wt;return s=Ht(c/this.ns+this.long0),a.x=s,a.y=n,a}var zZ=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const BZ={init:FZ,forward:NZ,inverse:WZ,names:zZ};function GZ(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function qZ(a){var e,t,i,n,s,r,l,c=a.x,h=a.y,f=Ht(c-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),i=-f*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(i)),s=Math.asin(Math.cos(t)*Math.sin(i)/Math.cos(n)),r=this.n*s,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),a.y=l*Math.cos(r)/1,a.x=l*Math.sin(r)/1,this.czech||(a.y*=-1,a.x*=-1),a}function UZ(a){var e,t,i,n,s,r,l,c,h=a.x;a.x=a.y,a.y=h,this.czech||(a.y*=-1,a.x*=-1),r=Math.sqrt(a.x*a.x+a.y*a.y),s=Math.atan2(a.y,a.x),n=s/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),t=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(e)),a.x=this.long0-t/this.alfa,l=e,c=0;var f=0;do a.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.e/2))-this.s45),Math.abs(l-a.y)<1e-10&&(c=1),l=a.y,f+=1;while(c===0&&f<15);return f>=15?null:a}var VZ=["Krovak","krovak"];const jZ={init:GZ,forward:qZ,inverse:UZ,names:VZ};function Zs(a,e,t,i,n){return a*n-e*Math.sin(2*n)+t*Math.sin(4*n)-i*Math.sin(6*n)}function D0(a){return 1-.25*a*(1+a/16*(3+1.25*a))}function F0(a){return .375*a*(1+.25*a*(1+.46875*a))}function N0(a){return .05859375*a*a*(1+.75*a)}function W0(a){return a*a*a*(35/3072)}function ff(a,e,t){var i=e*t;return a/Math.sqrt(1-i*i)}function Ah(a){return Math.abs(a)<wt?a:a-P0(a)*Math.PI}function _2(a,e,t,i,n){var s,r;s=a/e;for(var l=0;l<15;l++)if(r=(a-(e*s-t*Math.sin(2*s)+i*Math.sin(4*s)-n*Math.sin(6*s)))/(e-2*t*Math.cos(2*s)+4*i*Math.cos(4*s)-6*n*Math.cos(6*s)),s+=r,Math.abs(r)<=1e-10)return s;return NaN}function HZ(){this.sphere||(this.e0=D0(this.es),this.e1=F0(this.es),this.e2=N0(this.es),this.e3=W0(this.es),this.ml0=this.a*Zs(this.e0,this.e1,this.e2,this.e3,this.lat0))}function ZZ(a){var e,t,i=a.x,n=a.y;if(i=Ht(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(n)*Math.sin(i)),t=this.a*(Math.atan2(Math.tan(n),Math.cos(i))-this.lat0);else{var s=Math.sin(n),r=Math.cos(n),l=ff(this.a,this.e,s),c=Math.tan(n)*Math.tan(n),h=i*Math.cos(n),f=h*h,v=this.es*r*r/(1-this.es),b=this.a*Zs(this.e0,this.e1,this.e2,this.e3,n);e=l*h*(1-f*c*(1/6-(8-c+8*v)*f/120)),t=b-this.ml0+l*s/r*f*(.5+(5-c+6*v)*f/24)}return a.x=e+this.x0,a.y=t+this.y0,a}function XZ(a){a.x-=this.x0,a.y-=this.y0;var e=a.x/this.a,t=a.y/this.a,i,n;if(this.sphere){var s=t+this.lat0;i=Math.asin(Math.sin(s)*Math.cos(e)),n=Math.atan2(Math.tan(e),Math.cos(s))}else{var r=this.ml0/this.a+t,l=_2(r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-wt)<=Ut)return a.x=this.long0,a.y=wt,t<0&&(a.y*=-1),a;var c=ff(this.a,this.e,Math.sin(l)),h=c*c*c/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(l),2),v=e*this.a/c,b=v*v;i=l-c*Math.tan(l)/h*v*v*(.5-(1+3*f)*v*v/24),n=v*(1-b*(f/3+(1+3*f)*f*b/15))/Math.cos(l)}return a.x=Ht(n+this.long0),a.y=Ah(i),a}var YZ=["Cassini","Cassini_Soldner","cass"];const KZ={init:HZ,forward:ZZ,inverse:XZ,names:YZ};function nh(a,e){var t;return a>1e-7?(t=a*e,(1-a*a)*(e/(1-t*t)-.5/a*Math.log((1-t)/(1+t)))):2*e}var $Z=1,QZ=2,JZ=3,eX=4;function tX(){var a=Math.abs(this.lat0);if(Math.abs(a-wt)<Ut?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(a)<Ut?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=nh(this.e,1),this.mmf=.5/(1-this.es),this.apa=cX(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=nh(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function aX(a){var e,t,i,n,s,r,l,c,h,f,v=a.x,b=a.y;if(v=Ht(v-this.long0),this.sphere){if(s=Math.sin(b),f=Math.cos(b),i=Math.cos(v),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+f*i:1+this.sinph0*s+this.cosph0*f*i,t<=Ut)return null;t=Math.sqrt(2/t),e=t*f*Math.sin(v),t*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*f*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(b+this.lat0)<Ut)return null;t=Ui-b*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),e=t*Math.sin(v),t*=i}}else{switch(l=0,c=0,h=0,i=Math.cos(v),n=Math.sin(v),s=Math.sin(b),r=nh(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(l=r/this.qp,c=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:h=1+this.sinb1*l+this.cosb1*c*i;break;case this.EQUIT:h=1+c*i;break;case this.N_POLE:h=wt+b,r=this.qp-r;break;case this.S_POLE:h=b-wt,r=this.qp+r;break}if(Math.abs(h)<Ut)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),this.mode===this.OBLIQ?t=this.ymf*h*(this.cosb1*l-this.sinb1*c*i):t=(h=Math.sqrt(2/(1+c*i)))*l*this.ymf,e=this.xmf*h*c*n;break;case this.N_POLE:case this.S_POLE:r>=0?(e=(h=Math.sqrt(r))*n,t=i*(this.mode===this.S_POLE?h:-h)):e=t=0;break}}return a.x=this.a*e+this.x0,a.y=this.a*t+this.y0,a}function iX(a){a.x-=this.x0,a.y-=this.y0;var e=a.x/this.a,t=a.y/this.a,i,n,s,r,l,c,h;if(this.sphere){var f=0,v,b=0;if(v=Math.sqrt(e*e+t*t),n=v*.5,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(b=Math.sin(n),f=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(v)<=Ut?0:Math.asin(t*b/v),e*=b,t=f*v;break;case this.OBLIQ:n=Math.abs(v)<=Ut?this.lat0:Math.asin(f*this.sinph0+t*b*this.cosph0/v),e*=b*this.cosph0,t=(f-Math.sin(n)*this.sinph0)*v;break;case this.N_POLE:t=-t,n=wt-n;break;case this.S_POLE:n-=wt;break}i=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,t)}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,t*=this.dd,c=Math.sqrt(e*e+t*t),c<Ut)return a.x=this.long0,a.y=this.lat0,a;r=2*Math.asin(.5*c/this.rq),s=Math.cos(r),e*=r=Math.sin(r),this.mode===this.OBLIQ?(h=s*this.sinb1+t*r*this.cosb1/c,l=this.qp*h,t=c*this.cosb1*s-t*this.sinb1*r):(h=t*r/c,l=this.qp*h,t=c*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),l=e*e+t*t,!l)return a.x=this.long0,a.y=this.lat0,a;h=1-l/this.qp,this.mode===this.S_POLE&&(h=-h)}i=Math.atan2(e,t),n=dX(Math.asin(h),this.apa)}return a.x=Ht(this.long0+i),a.y=n,a}var nX=.3333333333333333,rX=.17222222222222222,sX=.10257936507936508,oX=.06388888888888888,lX=.0664021164021164,uX=.016415012942191543;function cX(a){var e,t=[];return t[0]=a*nX,e=a*a,t[0]+=e*rX,t[1]=e*oX,e*=a,t[0]+=e*sX,t[1]+=e*lX,t[2]=e*uX,t}function dX(a,e){var t=a+a;return a+e[0]*Math.sin(t)+e[1]*Math.sin(t+t)+e[2]*Math.sin(t+t+t)}var hX=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const _X={init:tX,forward:aX,inverse:iX,names:hX,S_POLE:$Z,N_POLE:QZ,EQUIT:JZ,OBLIQ:eX};function mh(a){return Math.abs(a)>1&&(a=a>1?1:-1),Math.asin(a)}function mX(){Math.abs(this.lat1+this.lat2)<Ut||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=zu(this.e3,this.sin_po,this.cos_po),this.qs1=nh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=zu(this.e3,this.sin_po,this.cos_po),this.qs2=nh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=nh(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Ut?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function pX(a){var e=a.x,t=a.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var i=nh(this.e3,this.sin_phi),n=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*Ht(e-this.long0),r=n*Math.sin(s)+this.x0,l=this.rh-n*Math.cos(s)+this.y0;return a.x=r,a.y=l,a}function fX(a){var e,t,i,n,s,r;return a.x-=this.x0,a.y=this.rh-a.y+this.y0,this.ns0>=0?(e=Math.sqrt(a.x*a.x+a.y*a.y),i=1):(e=-Math.sqrt(a.x*a.x+a.y*a.y),i=-1),n=0,e!==0&&(n=Math.atan2(i*a.x,i*a.y)),i=e*this.ns0/this.a,this.sphere?r=Math.asin((this.c-i*i)/(2*this.ns0)):(t=(this.c-i*i)/this.ns0,r=this.phi1z(this.e3,t)),s=Ht(n/this.ns0+this.long0),a.x=s,a.y=r,a}function gX(a,e){var t,i,n,s,r,l=mh(.5*e);if(a<Ut)return l;for(var c=a*a,h=1;h<=25;h++)if(t=Math.sin(l),i=Math.cos(l),n=a*t,s=1-n*n,r=.5*s*s/i*(e/(1-c)-t/s+.5/a*Math.log((1-n)/(1+n))),l=l+r,Math.abs(r)<=1e-7)return l;return null}var yX=["Albers_Conic_Equal_Area","Albers","aea"];const vX={init:mX,forward:pX,inverse:fX,names:yX,phi1z:gX};function bX(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function xX(a){var e,t,i,n,s,r,l,c,h=a.x,f=a.y;return i=Ht(h-this.long0),e=Math.sin(f),t=Math.cos(f),n=Math.cos(i),r=this.sin_p14*e+this.cos_p14*t*n,s=1,r>0||Math.abs(r)<=Ut?(l=this.x0+this.a*s*t*Math.sin(i)/r,c=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*t*n)/r):(l=this.x0+this.infinity_dist*t*Math.sin(i),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*t*n)),a.x=l,a.y=c,a}function wX(a){var e,t,i,n,s,r;return a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,(e=Math.sqrt(a.x*a.x+a.y*a.y))?(n=Math.atan2(e,this.rc),t=Math.sin(n),i=Math.cos(n),r=mh(i*this.sin_p14+a.y*t*this.cos_p14/e),s=Math.atan2(a.x*t,e*this.cos_p14*i-a.y*this.sin_p14*t),s=Ht(this.long0+s)):(r=this.phic0,s=0),a.x=s,a.y=r,a}var SX=["gnom"];const TX={init:bX,forward:xX,inverse:wX,names:SX};function EX(a,e){var t=1-(1-a*a)/(2*a)*Math.log((1-a)/(1+a));if(Math.abs(Math.abs(e)-t)<1e-6)return e<0?-1*wt:wt;for(var i=Math.asin(.5*e),n,s,r,l,c=0;c<30;c++)if(s=Math.sin(i),r=Math.cos(i),l=a*s,n=Math.pow(1-l*l,2)/(2*r)*(e/(1-a*a)-s/(1-l*l)+.5/a*Math.log((1-l)/(1+l))),i+=n,Math.abs(n)<=1e-10)return i;return NaN}function MX(){this.sphere||(this.k0=zu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function LX(a){var e=a.x,t=a.y,i,n,s=Ht(e-this.long0);if(this.sphere)i=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var r=nh(this.e,Math.sin(t));i=this.x0+this.a*this.k0*s,n=this.y0+this.a*r*.5/this.k0}return a.x=i,a.y=n,a}function AX(a){a.x-=this.x0,a.y-=this.y0;var e,t;return this.sphere?(e=Ht(this.long0+a.x/this.a/Math.cos(this.lat_ts)),t=Math.asin(a.y/this.a*Math.cos(this.lat_ts))):(t=EX(this.e,2*a.y*this.k0/this.a),e=Ht(this.long0+a.x/(this.a*this.k0))),a.x=e,a.y=t,a}var CX=["cea"];const IX={init:MX,forward:LX,inverse:AX,names:CX};function RX(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function OX(a){var e=a.x,t=a.y,i=Ht(e-this.long0),n=Ah(t-this.lat0);return a.x=this.x0+this.a*i*this.rc,a.y=this.y0+this.a*n,a}function kX(a){var e=a.x,t=a.y;return a.x=Ht(this.long0+(e-this.x0)/(this.a*this.rc)),a.y=Ah(this.lat0+(t-this.y0)/this.a),a}var PX=["Equirectangular","Equidistant_Cylindrical","eqc"];const DX={init:RX,forward:OX,inverse:kX,names:PX};var W6=20;function FX(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=D0(this.es),this.e1=F0(this.es),this.e2=N0(this.es),this.e3=W0(this.es),this.ml0=this.a*Zs(this.e0,this.e1,this.e2,this.e3,this.lat0)}function NX(a){var e=a.x,t=a.y,i,n,s,r=Ht(e-this.long0);if(s=r*Math.sin(t),this.sphere)Math.abs(t)<=Ut?(i=this.a*r,n=-1*this.a*this.lat0):(i=this.a*Math.sin(s)/Math.tan(t),n=this.a*(Ah(t-this.lat0)+(1-Math.cos(s))/Math.tan(t)));else if(Math.abs(t)<=Ut)i=this.a*r,n=-1*this.ml0;else{var l=ff(this.a,this.e,Math.sin(t))/Math.tan(t);i=l*Math.sin(s),n=this.a*Zs(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+l*(1-Math.cos(s))}return a.x=i+this.x0,a.y=n+this.y0,a}function WX(a){var e,t,i,n,s,r,l,c,h;if(i=a.x-this.x0,n=a.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=Ut)e=Ht(i/this.a+this.long0),t=0;else{r=this.lat0+n/this.a,l=i*i/this.a/this.a+r*r,c=r;var f;for(s=W6;s;--s)if(f=Math.tan(c),h=-1*(r*(c*f+1)-c-.5*(c*c+l)*f)/((c-r)/f-1),c+=h,Math.abs(h)<=Ut){t=c;break}e=Ht(this.long0+Math.asin(i*Math.tan(c)/this.a)/Math.sin(t))}else if(Math.abs(n+this.ml0)<=Ut)t=0,e=Ht(this.long0+i/this.a);else{r=(this.ml0+n)/this.a,l=i*i/this.a/this.a+r*r,c=r;var v,b,T,M,I;for(s=W6;s;--s)if(I=this.e*Math.sin(c),v=Math.sqrt(1-I*I)*Math.tan(c),b=this.a*Zs(this.e0,this.e1,this.e2,this.e3,c),T=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),M=b/this.a,h=(r*(v*M+1)-M-.5*v*(M*M+l))/(this.es*Math.sin(2*c)*(M*M+l-2*r*M)/(4*v)+(r-M)*(v*T-2/Math.sin(2*c))-T),c-=h,Math.abs(h)<=Ut){t=c;break}v=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),e=Ht(this.long0+Math.asin(i*v/this.a)/Math.sin(t))}return a.x=e,a.y=t,a}var zX=["Polyconic","poly"];const BX={init:FX,forward:NX,inverse:WX,names:zX};function GX(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function qX(a){var e,t=a.x,i=a.y,n=i-this.lat0,s=t-this.long0,r=n/Ay*1e-5,l=s,c=1,h=0;for(e=1;e<=10;e++)c=c*r,h=h+this.A[e]*c;var f=h,v=l,b=1,T=0,M,I,R=0,P=0;for(e=1;e<=6;e++)M=b*f-T*v,I=T*f+b*v,b=M,T=I,R=R+this.B_re[e]*b-this.B_im[e]*T,P=P+this.B_im[e]*b+this.B_re[e]*T;return a.x=P*this.a+this.x0,a.y=R*this.a+this.y0,a}function UX(a){var e,t=a.x,i=a.y,n=t-this.x0,s=i-this.y0,r=s/this.a,l=n/this.a,c=1,h=0,f,v,b=0,T=0;for(e=1;e<=6;e++)f=c*r-h*l,v=h*r+c*l,c=f,h=v,b=b+this.C_re[e]*c-this.C_im[e]*h,T=T+this.C_im[e]*c+this.C_re[e]*h;for(var M=0;M<this.iterations;M++){var I=b,R=T,P,F,B=r,W=l;for(e=2;e<=6;e++)P=I*b-R*T,F=R*b+I*T,I=P,R=F,B=B+(e-1)*(this.B_re[e]*I-this.B_im[e]*R),W=W+(e-1)*(this.B_im[e]*I+this.B_re[e]*R);I=1,R=0;var Z=this.B_re[1],ae=this.B_im[1];for(e=2;e<=6;e++)P=I*b-R*T,F=R*b+I*T,I=P,R=F,Z=Z+e*(this.B_re[e]*I-this.B_im[e]*R),ae=ae+e*(this.B_im[e]*I+this.B_re[e]*R);var he=Z*Z+ae*ae;b=(B*Z+W*ae)/he,T=(W*Z-B*ae)/he}var _e=b,ie=T,me=1,fe=0;for(e=1;e<=9;e++)me=me*_e,fe=fe+this.D[e]*me;var be=this.lat0+fe*Ay*1e5,Ae=this.long0+ie;return a.x=Ae,a.y=be,a}var VX=["New_Zealand_Map_Grid","nzmg"];const jX={init:GX,forward:qX,inverse:UX,names:VX};function HX(){}function ZX(a){var e=a.x,t=a.y,i=Ht(e-this.long0),n=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return a.x=n,a.y=s,a}function XX(a){a.x-=this.x0,a.y-=this.y0;var e=Ht(this.long0+a.x/this.a),t=2.5*(Math.atan(Math.exp(.8*a.y/this.a))-Math.PI/4);return a.x=e,a.y=t,a}var YX=["Miller_Cylindrical","mill"];const KX={init:HX,forward:ZX,inverse:XX,names:YX};var $X=20;function QX(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=NE(this.es)}function JX(a){var e,t,i=a.x,n=a.y;if(i=Ht(i-this.long0),this.sphere){if(!this.m)n=this.n!==1?Math.asin(this.n*Math.sin(n)):n;else for(var s=this.n*Math.sin(n),r=$X;r;--r){var l=(this.m*n+Math.sin(n)-s)/(this.m+Math.cos(n));if(n-=l,Math.abs(l)<Ut)break}e=this.a*this.C_x*i*(this.m+Math.cos(n)),t=this.a*this.C_y*n}else{var c=Math.sin(n),h=Math.cos(n);t=this.a*kf(n,c,h,this.en),e=this.a*i*h/Math.sqrt(1-this.es*c*c)}return a.x=e,a.y=t,a}function eY(a){var e,t,i,n;return a.x-=this.x0,i=a.x/this.a,a.y-=this.y0,e=a.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=mh((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=mh(Math.sin(e)/this.n)),i=Ht(i+this.long0),e=Ah(e)):(e=WE(a.y/this.a,this.es,this.en),n=Math.abs(e),n<wt?(n=Math.sin(e),t=this.long0+a.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(e)),i=Ht(t)):n-Ut<wt&&(i=this.long0)),a.x=i,a.y=e,a}var tY=["Sinusoidal","sinu"];const aY={init:QX,forward:JX,inverse:eY,names:tY};function iY(){}function nY(a){for(var e=a.x,t=a.y,i=Ht(e-this.long0),n=t,s=Math.PI*Math.sin(t);;){var r=-(n+Math.sin(n)-s)/(1+Math.cos(n));if(n+=r,Math.abs(r)<Ut)break}n/=2,Math.PI/2-Math.abs(t)<Ut&&(i=0);var l=.900316316158*this.a*i*Math.cos(n)+this.x0,c=1.4142135623731*this.a*Math.sin(n)+this.y0;return a.x=l,a.y=c,a}function rY(a){var e,t;a.x-=this.x0,a.y-=this.y0,t=a.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),e=Math.asin(t);var i=Ht(this.long0+a.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),t=(2*e+Math.sin(2*e))/Math.PI,Math.abs(t)>1&&(t=1);var n=Math.asin(t);return a.x=i,a.y=n,a}var sY=["Mollweide","moll"];const oY={init:iY,forward:nY,inverse:rY,names:sY};function lY(){Math.abs(this.lat1+this.lat2)<Ut||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=D0(this.es),this.e1=F0(this.es),this.e2=N0(this.es),this.e3=W0(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=zu(this.e,this.sinphi,this.cosphi),this.ml1=Zs(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Ut?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=zu(this.e,this.sinphi,this.cosphi),this.ml2=Zs(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Zs(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function uY(a){var e=a.x,t=a.y,i;if(this.sphere)i=this.a*(this.g-t);else{var n=Zs(this.e0,this.e1,this.e2,this.e3,t);i=this.a*(this.g-n)}var s=this.ns*Ht(e-this.long0),r=this.x0+i*Math.sin(s),l=this.y0+this.rh-i*Math.cos(s);return a.x=r,a.y=l,a}function cY(a){a.x-=this.x0,a.y=this.rh-a.y+this.y0;var e,t,i,n;this.ns>=0?(t=Math.sqrt(a.x*a.x+a.y*a.y),e=1):(t=-Math.sqrt(a.x*a.x+a.y*a.y),e=-1);var s=0;if(t!==0&&(s=Math.atan2(e*a.x,e*a.y)),this.sphere)return n=Ht(this.long0+s/this.ns),i=Ah(this.g-t/this.a),a.x=n,a.y=i,a;var r=this.g-t/this.a;return i=_2(r,this.e0,this.e1,this.e2,this.e3),n=Ht(this.long0+s/this.ns),a.x=n,a.y=i,a}var dY=["Equidistant_Conic","eqdc"];const hY={init:lY,forward:uY,inverse:cY,names:dY};function _Y(){this.R=this.a}function mY(a){var e=a.x,t=a.y,i=Ht(e-this.long0),n,s;Math.abs(t)<=Ut&&(n=this.x0+this.R*i,s=this.y0);var r=mh(2*Math.abs(t/Math.PI));(Math.abs(i)<=Ut||Math.abs(Math.abs(t)-wt)<=Ut)&&(n=this.x0,t>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*r):s=this.y0+Math.PI*this.R*-Math.tan(.5*r));var l=.5*Math.abs(Math.PI/i-i/Math.PI),c=l*l,h=Math.sin(r),f=Math.cos(r),v=f/(h+f-1),b=v*v,T=v*(2/h-1),M=T*T,I=Math.PI*this.R*(l*(v-M)+Math.sqrt(c*(v-M)*(v-M)-(M+c)*(b-M)))/(M+c);i<0&&(I=-I),n=this.x0+I;var R=c+v;return I=Math.PI*this.R*(T*R-l*Math.sqrt((M+c)*(c+1)-R*R))/(M+c),t>=0?s=this.y0+I:s=this.y0-I,a.x=n,a.y=s,a}function pY(a){var e,t,i,n,s,r,l,c,h,f,v,b,T;return a.x-=this.x0,a.y-=this.y0,v=Math.PI*this.R,i=a.x/v,n=a.y/v,s=i*i+n*n,r=-Math.abs(n)*(1+s),l=r-2*n*n+i*i,c=-2*r+1+2*n*n+s*s,T=n*n/c+(2*l*l*l/c/c/c-9*r*l/c/c)/27,h=(r-l*l/3/c)/c,f=2*Math.sqrt(-h/3),v=3*T/h/f,Math.abs(v)>1&&(v>=0?v=1:v=-1),b=Math.acos(v)/3,a.y>=0?t=(-f*Math.cos(b+Math.PI/3)-l/3/c)*Math.PI:t=-(-f*Math.cos(b+Math.PI/3)-l/3/c)*Math.PI,Math.abs(i)<Ut?e=this.long0:e=Ht(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-n*n)+s*s))/2/i),a.x=e,a.y=t,a}var fY=["Van_der_Grinten_I","VanDerGrinten","vandg"];const gY={init:_Y,forward:mY,inverse:pY,names:fY};function yY(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function vY(a){var e=a.x,t=a.y,i=Math.sin(a.y),n=Math.cos(a.y),s=Ht(e-this.long0),r,l,c,h,f,v,b,T,M,I,R,P,F,B,W,Z,ae,he,_e,ie,me,fe,be;return this.sphere?Math.abs(this.sin_p12-1)<=Ut?(a.x=this.x0+this.a*(wt-t)*Math.sin(s),a.y=this.y0-this.a*(wt-t)*Math.cos(s),a):Math.abs(this.sin_p12+1)<=Ut?(a.x=this.x0+this.a*(wt+t)*Math.sin(s),a.y=this.y0+this.a*(wt+t)*Math.cos(s),a):(he=this.sin_p12*i+this.cos_p12*n*Math.cos(s),Z=Math.acos(he),ae=Z?Z/Math.sin(Z):1,a.x=this.x0+this.a*ae*n*Math.sin(s),a.y=this.y0+this.a*ae*(this.cos_p12*i-this.sin_p12*n*Math.cos(s)),a):(r=D0(this.es),l=F0(this.es),c=N0(this.es),h=W0(this.es),Math.abs(this.sin_p12-1)<=Ut?(f=this.a*Zs(r,l,c,h,wt),v=this.a*Zs(r,l,c,h,t),a.x=this.x0+(f-v)*Math.sin(s),a.y=this.y0-(f-v)*Math.cos(s),a):Math.abs(this.sin_p12+1)<=Ut?(f=this.a*Zs(r,l,c,h,wt),v=this.a*Zs(r,l,c,h,t),a.x=this.x0+(f+v)*Math.sin(s),a.y=this.y0+(f+v)*Math.cos(s),a):(b=i/n,T=ff(this.a,this.e,this.sin_p12),M=ff(this.a,this.e,i),I=Math.atan((1-this.es)*b+this.es*T*this.sin_p12/(M*n)),R=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(I)-this.sin_p12*Math.cos(s)),R===0?_e=Math.asin(this.cos_p12*Math.sin(I)-this.sin_p12*Math.cos(I)):Math.abs(Math.abs(R)-Math.PI)<=Ut?_e=-Math.asin(this.cos_p12*Math.sin(I)-this.sin_p12*Math.cos(I)):_e=Math.asin(Math.sin(s)*Math.cos(I)/Math.sin(R)),P=this.e*this.sin_p12/Math.sqrt(1-this.es),F=this.e*this.cos_p12*Math.cos(R)/Math.sqrt(1-this.es),B=P*F,W=F*F,ie=_e*_e,me=ie*_e,fe=me*_e,be=fe*_e,Z=T*_e*(1-ie*W*(1-W)/6+me/8*B*(1-2*W)+fe/120*(W*(4-7*W)-3*P*P*(1-7*W))-be/48*B),a.x=this.x0+Z*Math.sin(R),a.y=this.y0+Z*Math.cos(R),a))}function bY(a){a.x-=this.x0,a.y-=this.y0;var e,t,i,n,s,r,l,c,h,f,v,b,T,M,I,R,P,F,B,W,Z,ae,he,_e;return this.sphere?(e=Math.sqrt(a.x*a.x+a.y*a.y),e>2*wt*this.a?void 0:(t=e/this.a,i=Math.sin(t),n=Math.cos(t),s=this.long0,Math.abs(e)<=Ut?r=this.lat0:(r=mh(n*this.sin_p12+a.y*i*this.cos_p12/e),l=Math.abs(this.lat0)-wt,Math.abs(l)<=Ut?this.lat0>=0?s=Ht(this.long0+Math.atan2(a.x,-a.y)):s=Ht(this.long0-Math.atan2(-a.x,a.y)):s=Ht(this.long0+Math.atan2(a.x*i,e*this.cos_p12*n-a.y*this.sin_p12*i))),a.x=s,a.y=r,a)):(c=D0(this.es),h=F0(this.es),f=N0(this.es),v=W0(this.es),Math.abs(this.sin_p12-1)<=Ut?(b=this.a*Zs(c,h,f,v,wt),e=Math.sqrt(a.x*a.x+a.y*a.y),T=b-e,r=_2(T/this.a,c,h,f,v),s=Ht(this.long0+Math.atan2(a.x,-1*a.y)),a.x=s,a.y=r,a):Math.abs(this.sin_p12+1)<=Ut?(b=this.a*Zs(c,h,f,v,wt),e=Math.sqrt(a.x*a.x+a.y*a.y),T=e-b,r=_2(T/this.a,c,h,f,v),s=Ht(this.long0+Math.atan2(a.x,a.y)),a.x=s,a.y=r,a):(e=Math.sqrt(a.x*a.x+a.y*a.y),R=Math.atan2(a.x,a.y),M=ff(this.a,this.e,this.sin_p12),P=Math.cos(R),F=this.e*this.cos_p12*P,B=-F*F/(1-this.es),W=3*this.es*(1-B)*this.sin_p12*this.cos_p12*P/(1-this.es),Z=e/M,ae=Z-B*(1+B)*Math.pow(Z,3)/6-W*(1+3*B)*Math.pow(Z,4)/24,he=1-B*ae*ae/2-Z*ae*ae*ae/6,I=Math.asin(this.sin_p12*Math.cos(ae)+this.cos_p12*Math.sin(ae)*P),s=Ht(this.long0+Math.asin(Math.sin(R)*Math.sin(ae)/Math.cos(I))),_e=Math.sin(I),r=Math.atan2((_e-this.es*he*this.sin_p12)*Math.tan(I),_e*(1-this.es)),a.x=s,a.y=r,a))}var xY=["Azimuthal_Equidistant","aeqd"];const wY={init:yY,forward:vY,inverse:bY,names:xY};function SY(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function TY(a){var e,t,i,n,s,r,l,c,h=a.x,f=a.y;return i=Ht(h-this.long0),e=Math.sin(f),t=Math.cos(f),n=Math.cos(i),r=this.sin_p14*e+this.cos_p14*t*n,s=1,(r>0||Math.abs(r)<=Ut)&&(l=this.a*s*t*Math.sin(i),c=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*t*n)),a.x=l,a.y=c,a}function EY(a){var e,t,i,n,s,r,l;return a.x-=this.x0,a.y-=this.y0,e=Math.sqrt(a.x*a.x+a.y*a.y),t=mh(e/this.a),i=Math.sin(t),n=Math.cos(t),r=this.long0,Math.abs(e)<=Ut?(l=this.lat0,a.x=r,a.y=l,a):(l=mh(n*this.sin_p14+a.y*i*this.cos_p14/e),s=Math.abs(this.lat0)-wt,Math.abs(s)<=Ut?(this.lat0>=0?r=Ht(this.long0+Math.atan2(a.x,-a.y)):r=Ht(this.long0-Math.atan2(-a.x,a.y)),a.x=r,a.y=l,a):(r=Ht(this.long0+Math.atan2(a.x*i,e*this.cos_p14*n-a.y*this.sin_p14*i)),a.x=r,a.y=l,a))}var MY=["ortho"];const LY={init:SY,forward:TY,inverse:EY,names:MY};var qn={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Vi={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function AY(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=wt-Ui/2?this.face=qn.TOP:this.lat0<=-(wt-Ui/2)?this.face=qn.BOTTOM:Math.abs(this.long0)<=Ui?this.face=qn.FRONT:Math.abs(this.long0)<=wt+Ui?this.face=this.long0>0?qn.RIGHT:qn.LEFT:this.face=qn.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function CY(a){var e={x:0,y:0},t,i,n,s,r,l,c={value:0};if(a.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(a.y)):t=a.y,i=a.x,this.face===qn.TOP)s=wt-t,i>=Ui&&i<=wt+Ui?(c.value=Vi.AREA_0,n=i-wt):i>wt+Ui||i<=-(wt+Ui)?(c.value=Vi.AREA_1,n=i>0?i-ur:i+ur):i>-(wt+Ui)&&i<=-Ui?(c.value=Vi.AREA_2,n=i+wt):(c.value=Vi.AREA_3,n=i);else if(this.face===qn.BOTTOM)s=wt+t,i>=Ui&&i<=wt+Ui?(c.value=Vi.AREA_0,n=-i+wt):i<Ui&&i>=-Ui?(c.value=Vi.AREA_1,n=-i):i<-Ui&&i>=-(wt+Ui)?(c.value=Vi.AREA_2,n=-i-wt):(c.value=Vi.AREA_3,n=i>0?-i+ur:-i-ur);else{var h,f,v,b,T,M,I;this.face===qn.RIGHT?i=Kp(i,+wt):this.face===qn.BACK?i=Kp(i,+ur):this.face===qn.LEFT&&(i=Kp(i,-wt)),b=Math.sin(t),T=Math.cos(t),M=Math.sin(i),I=Math.cos(i),h=T*I,f=T*M,v=b,this.face===qn.FRONT?(s=Math.acos(h),n=Lv(s,v,f,c)):this.face===qn.RIGHT?(s=Math.acos(f),n=Lv(s,v,-h,c)):this.face===qn.BACK?(s=Math.acos(-h),n=Lv(s,v,-f,c)):this.face===qn.LEFT?(s=Math.acos(-f),n=Lv(s,v,h,c)):(s=n=0,c.value=Vi.AREA_0)}return l=Math.atan(12/ur*(n+Math.acos(Math.sin(n)*Math.cos(Ui))-wt)),r=Math.sqrt((1-Math.cos(s))/(Math.cos(l)*Math.cos(l))/(1-Math.cos(Math.atan(1/Math.cos(n))))),c.value===Vi.AREA_1?l+=wt:c.value===Vi.AREA_2?l+=ur:c.value===Vi.AREA_3&&(l+=1.5*ur),e.x=r*Math.cos(l),e.y=r*Math.sin(l),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,a.x=e.x,a.y=e.y,a}function IY(a){var e={lam:0,phi:0},t,i,n,s,r,l,c,h,f,v={value:0};if(a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,i=Math.atan(Math.sqrt(a.x*a.x+a.y*a.y)),t=Math.atan2(a.y,a.x),a.x>=0&&a.x>=Math.abs(a.y)?v.value=Vi.AREA_0:a.y>=0&&a.y>=Math.abs(a.x)?(v.value=Vi.AREA_1,t-=wt):a.x<0&&-a.x>=Math.abs(a.y)?(v.value=Vi.AREA_2,t=t<0?t+ur:t-ur):(v.value=Vi.AREA_3,t+=wt),f=ur/12*Math.tan(t),r=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),l=Math.atan(r),n=Math.cos(t),s=Math.tan(i),c=1-n*n*s*s*(1-Math.cos(Math.atan(1/Math.cos(l)))),c<-1?c=-1:c>1&&(c=1),this.face===qn.TOP)h=Math.acos(c),e.phi=wt-h,v.value===Vi.AREA_0?e.lam=l+wt:v.value===Vi.AREA_1?e.lam=l<0?l+ur:l-ur:v.value===Vi.AREA_2?e.lam=l-wt:e.lam=l;else if(this.face===qn.BOTTOM)h=Math.acos(c),e.phi=h-wt,v.value===Vi.AREA_0?e.lam=-l+wt:v.value===Vi.AREA_1?e.lam=-l:v.value===Vi.AREA_2?e.lam=-l-wt:e.lam=l<0?-l-ur:-l+ur;else{var b,T,M;b=c,f=b*b,f>=1?M=0:M=Math.sqrt(1-f)*Math.sin(l),f+=M*M,f>=1?T=0:T=Math.sqrt(1-f),v.value===Vi.AREA_1?(f=T,T=-M,M=f):v.value===Vi.AREA_2?(T=-T,M=-M):v.value===Vi.AREA_3&&(f=T,T=M,M=-f),this.face===qn.RIGHT?(f=b,b=-T,T=f):this.face===qn.BACK?(b=-b,T=-T):this.face===qn.LEFT&&(f=b,b=T,T=-f),e.phi=Math.acos(-M)-wt,e.lam=Math.atan2(T,b),this.face===qn.RIGHT?e.lam=Kp(e.lam,-wt):this.face===qn.BACK?e.lam=Kp(e.lam,-ur):this.face===qn.LEFT&&(e.lam=Kp(e.lam,+wt))}if(this.es!==0){var I,R,P;I=e.phi<0?1:0,R=Math.tan(e.phi),P=this.b/Math.sqrt(R*R+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-P*P)/(this.one_minus_f*P)),I&&(e.phi=-e.phi)}return e.lam+=this.long0,a.x=e.lam,a.y=e.phi,a}function Lv(a,e,t,i){var n;return a<Ut?(i.value=Vi.AREA_0,n=0):(n=Math.atan2(e,t),Math.abs(n)<=Ui?i.value=Vi.AREA_0:n>Ui&&n<=wt+Ui?(i.value=Vi.AREA_1,n-=wt):n>wt+Ui||n<=-(wt+Ui)?(i.value=Vi.AREA_2,n=n>=0?n-ur:n+ur):(i.value=Vi.AREA_3,n+=wt)),n}function Kp(a,e){var t=a+e;return t<-ur?t+=d0:t>+ur&&(t-=d0),t}var RY=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const OY={init:AY,forward:CY,inverse:IY,names:RY};var fT=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ny=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],iR=.8487,nR=1.3523,rR=Au/5,kY=1/rR,Dp=18,m2=function(a,e){return a[0]+e*(a[1]+e*(a[2]+e*a[3]))},PY=function(a,e){return a[1]+e*(2*a[2]+e*3*a[3])};function DY(a,e,t,i){for(var n=e;i;--i){var s=a(n);if(n-=s,Math.abs(s)<t)break}return n}function FY(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function NY(a){var e=Ht(a.x-this.long0),t=Math.abs(a.y),i=Math.floor(t*rR);i<0?i=0:i>=Dp&&(i=Dp-1),t=Au*(t-kY*i);var n={x:m2(fT[i],t)*e,y:m2(ny[i],t)};return a.y<0&&(n.y=-n.y),n.x=n.x*this.a*iR+this.x0,n.y=n.y*this.a*nR+this.y0,n}function WY(a){var e={x:(a.x-this.x0)/(this.a*iR),y:Math.abs(a.y-this.y0)/(this.a*nR)};if(e.y>=1)e.x/=fT[Dp][0],e.y=a.y<0?-wt:wt;else{var t=Math.floor(e.y*Dp);for(t<0?t=0:t>=Dp&&(t=Dp-1);;)if(ny[t][0]>e.y)--t;else if(ny[t+1][0]<=e.y)++t;else break;var i=ny[t],n=5*(e.y-i[0])/(ny[t+1][0]-i[0]);n=DY(function(s){return(m2(i,s)-e.y)/PY(i,s)},n,Ut,100),e.x/=m2(fT[t],n),e.y=(5*t+n)*rs,a.y<0&&(e.y=-e.y)}return e.x=Ht(e.x+this.long0),e}var zY=["Robinson","robin"];const BY={init:FY,forward:NY,inverse:WY,names:zY};function GY(){this.name="geocent"}function qY(a){var e=HI(a,this.es,this.a);return e}function UY(a){var e=ZI(a,this.es,this.a,this.b);return e}var VY=["Geocentric","geocentric","geocent","Geocent"];const jY={init:GY,forward:qY,inverse:UY,names:VY};var Ss={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Zg={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function HY(){if(Object.keys(Zg).forEach((function(t){if(typeof this[t]>"u")this[t]=Zg[t].def;else{if(Zg[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);Zg[t].num&&(this[t]=parseFloat(this[t]))}Zg[t].degrees&&(this[t]=this[t]*rs)}).bind(this)),Math.abs(Math.abs(this.lat0)-wt)<Ut?this.mode=this.lat0<0?Ss.S_POLE:Ss.N_POLE:Math.abs(this.lat0)<Ut?this.mode=Ss.EQUIT:(this.mode=Ss.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var a=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(a),this.sw=Math.sin(a)}function ZY(a){a.x-=this.long0;var e=Math.sin(a.y),t=Math.cos(a.y),i=Math.cos(a.x),n,s;switch(this.mode){case Ss.OBLIQ:s=this.sinph0*e+this.cosph0*t*i;break;case Ss.EQUIT:s=t*i;break;case Ss.S_POLE:s=-e;break;case Ss.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),n=s*t*Math.sin(a.x),this.mode){case Ss.OBLIQ:s*=this.cosph0*e-this.sinph0*t*i;break;case Ss.EQUIT:s*=e;break;case Ss.N_POLE:s*=-(t*i);break;case Ss.S_POLE:s*=t*i;break}var r,l;return r=s*this.cg+n*this.sg,l=1/(r*this.sw*this.h1+this.cw),n=(n*this.cg-s*this.sg)*this.cw*l,s=r*l,a.x=n*this.a,a.y=s*this.a,a}function XY(a){a.x/=this.a,a.y/=this.a;var e={x:a.x,y:a.y},t,i,n;n=1/(this.pn1-a.y*this.sw),t=this.pn1*a.x*n,i=this.pn1*a.y*this.cw*n,a.x=t*this.cg+i*this.sg,a.y=i*this.cg-t*this.sg;var s=po(a.x,a.y);if(Math.abs(s)<Ut)e.x=0,e.y=a.y;else{var r,l;switch(l=1-s*s*this.pfact,l=(this.p-Math.sqrt(l))/(this.pn1/s+s/this.pn1),r=Math.sqrt(1-l*l),this.mode){case Ss.OBLIQ:e.y=Math.asin(r*this.sinph0+a.y*l*this.cosph0/s),a.y=(r-this.sinph0*Math.sin(e.y))*s,a.x*=l*this.cosph0;break;case Ss.EQUIT:e.y=Math.asin(a.y*l/s),a.y=r*s,a.x*=l;break;case Ss.N_POLE:e.y=Math.asin(r),a.y=-a.y;break;case Ss.S_POLE:e.y=-Math.asin(r);break}e.x=Math.atan2(a.x,a.y)}return a.x=e.x+this.long0,a.y=e.y,a}var YY=["Tilted_Perspective","tpers"];const KY={init:HY,forward:ZY,inverse:XY,names:YY};function $Y(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var a=1-this.es,e=1/a;this.radius_p=Math.sqrt(a),this.radius_p2=a,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function QY(a){var e=a.x,t=a.y,i,n,s,r;if(e=e-this.long0,this.shape==="ellipse"){t=Math.atan(this.radius_p2*Math.tan(t));var l=this.radius_p/po(this.radius_p*Math.cos(t),Math.sin(t));if(n=l*Math.cos(e)*Math.cos(t),s=l*Math.sin(e)*Math.cos(t),r=l*Math.sin(t),(this.radius_g-n)*n-s*s-r*r*this.radius_p_inv2<0)return a.x=Number.NaN,a.y=Number.NaN,a;i=this.radius_g-n,this.flip_axis?(a.x=this.radius_g_1*Math.atan(s/po(r,i)),a.y=this.radius_g_1*Math.atan(r/i)):(a.x=this.radius_g_1*Math.atan(s/i),a.y=this.radius_g_1*Math.atan(r/po(s,i)))}else this.shape==="sphere"&&(i=Math.cos(t),n=Math.cos(e)*i,s=Math.sin(e)*i,r=Math.sin(t),i=this.radius_g-n,this.flip_axis?(a.x=this.radius_g_1*Math.atan(s/po(r,i)),a.y=this.radius_g_1*Math.atan(r/i)):(a.x=this.radius_g_1*Math.atan(s/i),a.y=this.radius_g_1*Math.atan(r/po(s,i))));return a.x=a.x*this.a,a.y=a.y*this.a,a}function JY(a){var e=-1,t=0,i=0,n,s,r,l;if(a.x=a.x/this.a,a.y=a.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(a.y/this.radius_g_1),t=Math.tan(a.x/this.radius_g_1)*po(1,i)):(t=Math.tan(a.x/this.radius_g_1),i=Math.tan(a.y/this.radius_g_1)*po(1,t));var c=i/this.radius_p;if(n=t*t+c*c+e*e,s=2*this.radius_g*e,r=s*s-4*n*this.C,r<0)return a.x=Number.NaN,a.y=Number.NaN,a;l=(-s-Math.sqrt(r))/(2*n),e=this.radius_g+l*e,t*=l,i*=l,a.x=Math.atan2(t,e),a.y=Math.atan(i*Math.cos(a.x)/e),a.y=Math.atan(this.radius_p_inv2*Math.tan(a.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(a.y/this.radius_g_1),t=Math.tan(a.x/this.radius_g_1)*Math.sqrt(1+i*i)):(t=Math.tan(a.x/this.radius_g_1),i=Math.tan(a.y/this.radius_g_1)*Math.sqrt(1+t*t)),n=t*t+i*i+e*e,s=2*this.radius_g*e,r=s*s-4*n*this.C,r<0)return a.x=Number.NaN,a.y=Number.NaN,a;l=(-s-Math.sqrt(r))/(2*n),e=this.radius_g+l*e,t*=l,i*=l,a.x=Math.atan2(t,e),a.y=Math.atan(i*Math.cos(a.x)/e)}return a.x=a.x+this.long0,a}var eK=["Geostationary Satellite View","Geostationary_Satellite","geos"];const tK={init:$Y,forward:QY,inverse:JY,names:eK};var Cy=1.340264,Iy=-.081106,Ry=893e-6,Oy=.003796,p2=Math.sqrt(3)/2;function aK(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function iK(a){var e=Ht(a.x-this.long0),t=a.y,i=Math.asin(p2*Math.sin(t)),n=i*i,s=n*n*n;return a.x=e*Math.cos(i)/(p2*(Cy+3*Iy*n+s*(7*Ry+9*Oy*n))),a.y=i*(Cy+Iy*n+s*(Ry+Oy*n)),a.x=this.a*a.x+this.x0,a.y=this.a*a.y+this.y0,a}function nK(a){a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a;var e=1e-9,t=12,i=a.y,n,s,r,l,c,h;for(h=0;h<t&&(n=i*i,s=n*n*n,r=i*(Cy+Iy*n+s*(Ry+Oy*n))-a.y,l=Cy+3*Iy*n+s*(7*Ry+9*Oy*n),i-=c=r/l,!(Math.abs(c)<e));++h);return n=i*i,s=n*n*n,a.x=p2*a.x*(Cy+3*Iy*n+s*(7*Ry+9*Oy*n))/Math.cos(i),a.y=Math.asin(Math.sin(i)/p2),a.x=Ht(a.x+this.long0),a}var rK=["eqearth","Equal Earth","Equal_Earth"];const sK={init:aK,forward:iK,inverse:nK,names:rK};var m0=1e-10;function oK(){var a;if(this.phi1=this.lat1,Math.abs(this.phi1)<m0)throw new Error;this.es?(this.en=NE(this.es),this.m1=kf(this.phi1,this.am1=Math.sin(this.phi1),a=Math.cos(this.phi1),this.en),this.am1=a/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=uK,this.forward=lK):(Math.abs(this.phi1)+m0>=wt?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=dK,this.forward=cK)}function lK(a){var e=Ht(a.x-(this.long0||0)),t=a.y,i,n,s;return i=this.am1+this.m1-kf(t,n=Math.sin(t),s=Math.cos(t),this.en),n=s*e/(i*Math.sqrt(1-this.es*n*n)),a.x=i*Math.sin(n),a.y=this.am1-i*Math.cos(n),a.x=this.a*a.x+(this.x0||0),a.y=this.a*a.y+(this.y0||0),a}function uK(a){a.x=(a.x-(this.x0||0))/this.a,a.y=(a.y-(this.y0||0))/this.a;var e,t,i,n;if(t=po(a.x,a.y=this.am1-a.y),n=WE(this.am1+this.m1-t,this.es,this.en),(e=Math.abs(n))<wt)e=Math.sin(n),i=t*Math.atan2(a.x,a.y)*Math.sqrt(1-this.es*e*e)/Math.cos(n);else if(Math.abs(e-wt)<=m0)i=0;else throw new Error;return a.x=Ht(i+(this.long0||0)),a.y=Ah(n),a}function cK(a){var e=Ht(a.x-(this.long0||0)),t=a.y,i,n;return n=this.cphi1+this.phi1-t,Math.abs(n)>m0?(a.x=n*Math.sin(i=e*Math.cos(t)/n),a.y=this.cphi1-n*Math.cos(i)):a.x=a.y=0,a.x=this.a*a.x+(this.x0||0),a.y=this.a*a.y+(this.y0||0),a}function dK(a){a.x=(a.x-(this.x0||0))/this.a,a.y=(a.y-(this.y0||0))/this.a;var e,t,i=po(a.x,a.y=this.cphi1-a.y);if(t=this.cphi1+this.phi1-i,Math.abs(t)>wt)throw new Error;return Math.abs(Math.abs(t)-wt)<=m0?e=0:e=i*Math.atan2(a.x,a.y)/Math.cos(t),a.x=Ht(e+(this.long0||0)),a.y=Ah(t),a}var hK=["bonne","Bonne (Werner lat_1=90)"];const _K={init:oK,names:hK};function mK(a){a.Proj.projections.add(hb),a.Proj.projections.add(_b),a.Proj.projections.add(lZ),a.Proj.projections.add(yZ),a.Proj.projections.add(TZ),a.Proj.projections.add(CZ),a.Proj.projections.add(DZ),a.Proj.projections.add(BZ),a.Proj.projections.add(jZ),a.Proj.projections.add(KZ),a.Proj.projections.add(_X),a.Proj.projections.add(vX),a.Proj.projections.add(TX),a.Proj.projections.add(IX),a.Proj.projections.add(DX),a.Proj.projections.add(BX),a.Proj.projections.add(jX),a.Proj.projections.add(KX),a.Proj.projections.add(aY),a.Proj.projections.add(oY),a.Proj.projections.add(hY),a.Proj.projections.add(gY),a.Proj.projections.add(wY),a.Proj.projections.add(LY),a.Proj.projections.add(OY),a.Proj.projections.add(BY),a.Proj.projections.add(jY),a.Proj.projections.add(KY),a.Proj.projections.add(tK),a.Proj.projections.add(sK),a.Proj.projections.add(_K)}As.defaultDatum="WGS84";As.Proj=Ou;As.WGS84=new As.Proj("WGS84");As.Point=pf;As.toPoint=XI;As.defs=Gs;As.nadgrid=cH;As.transform=h2;As.mgrs=MH;As.version="__VERSION__";mK(As);function sR(){var a,e,t;As.defs("EPSG:32632","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs"),As.defs("EPSG:32631","+proj=utm +zone=31 +datum=WGS84 +units=m +no_defs"),As.defs("EPSG:2169","+proj=tmerc +lat_0=49.83333333333334 +lon_0=6.166666666666667 +k=1 +x_0=80000 +y_0=100000 +ellps=intl +towgs84=-189.681,18.3463,-42.7695,-0.33746,-3.09264,2.53861,0.4598 +units=m +no_defs"),wj(As),(a=Di("EPSG:32632"))==null||a.setExtent([166021.44,0,833978.55,932900518e-2]),(e=Di("EPSG:32631"))==null||e.setExtent([166021.44,0,833978.55,932900518e-2]),(t=Di("EPSG:2169"))==null||t.setExtent([48225.17,56225.6,105842.04,139616.4])}const pK="main",fK="root_3d",gK=-222,us=jo("config",()=>{const a=Li(),e=$e(pK),t=Pt(()=>{var c;return(c=a.value)==null?void 0:c.themes}),i=Pt(()=>{var c;return(c=t.value)==null?void 0:c.find(h=>h.name===e.value)}),n=Pt(()=>{var c;return((c=a.value)==null?void 0:c.background_layers)||[]}),s=Pt(()=>{var h;const c=(h=t.value)==null?void 0:h.filter(f=>{var v;return((v=f.metadata)==null?void 0:v.ol3d_type)!==void 0});if(c)return{name:fK,id:gK,children:c.flatMap(f=>f!=null&&f.children?f.children:f),metadata:{}}});function r(c){a.value=c}function l(c){e.value=decodeURIComponent(c)}return{config:a,themes:t,themeName:e,theme:i,bgLayers:n,layerTrees_3d:s,setTheme:l,setThemes:r}},{}),yK=()=>({ogcServers:{"source for config://my_maps?category_id=117":{url:"https://ws.geoportail.lu/mymaps?category_id=117",urlWfs:"https://ws.geoportail.lu/mymaps?category_id=117",type:"mapserver",credential:!1,imageType:"image/png",wfsSupport:!1,isSingleTile:!0,namespace:null,attributes:null},"source for image/jpeg":{url:"https://migration.geoportail.lu/mapserv_proxy?ogcserver=source+for+image%2Fjpeg&cache_version=ddc9f661fc1b496c919d096d89f6f3fb",urlWfs:"https://migration.geoportail.lu/mapserv_proxy?ogcserver=source+for+image%2Fjpeg&cache_version=ddc9f661fc1b496c919d096d89f6f3fb",type:"mapserver",credential:!0,imageType:"image/jpeg",wfsSupport:!1,isSingleTile:!1,namespace:null,attributes:null},"Internal WMS Geoserver":{url:"https://migration.geoportail.lu/ogcproxywms",urlWfs:"https://migration.geoportail.lu/ogcproxywms",type:"geoserver",credential:!1,imageType:"image/png",wfsSupport:!1,isSingleTile:!1,namespace:null,attributes:null},"Internal WMS":{url:"https://migration.geoportail.lu/ogcproxywms",urlWfs:"https://migration.geoportail.lu/ogcproxywms",type:"mapserver",credential:!1,imageType:"image/png",wfsSupport:!1,isSingleTile:!1,namespace:null,attributes:null},"source for image/png":{url:"https://migration.geoportail.lu/mapserv_proxy?ogcserver=source+for+image%2Fpng&cache_version=ddc9f661fc1b496c919d096d89f6f3fb",urlWfs:"https://migration.geoportail.lu/mapserv_proxy?ogcserver=source+for+image%2Fpng&cache_version=ddc9f661fc1b496c919d096d89f6f3fb",type:"mapserver",credential:!0,imageType:"image/png",wfsSupport:!1,isSingleTile:!1,namespace:null,attributes:null}},themes:[{id:116,name:"main",icon:"main",children:[{id:2841,name:"Couches populaires",children:[{id:152,name:"addresses",metadata:{is_queryable:!0,metadata_id:"28b310e4-b9e1-467c-a28d-fce2e9a96548"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"addresses",imageType:"image/png"},{id:302,name:"communes",metadata:{is_queryable:!0,linked_layers:["269"],metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2049"},dimensions:{},type:"WMS",layers:"communes",imageType:"image/png",style:"default",childLayers:[{name:"communes__COMMUNES"}]},{id:262,name:"cadastre",metadata:{exclusion:"[1,11,21,31,32,33,34,35,36,37,38,39,51,52,53,54,55,56,57,58,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115]",is_queryable:!0,legend_name:"pcn_parcelles:show",metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2050"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"cadastre",imageType:"image/png"},{id:181,name:"roads",metadata:{legend_name:"road_network:show",linked_layers:["351"],metadata_id:"12627f90-f0f8-41b3-a56a-2e11a232ba59"},dimensions:{},type:"WMS",layers:"roads",imageType:"image/png",style:"default",childLayers:[{name:"roads__ROADS_NOLABELS"}]},{id:698,name:"pag_pag",metadata:{is_queryable:!0,legend_name:"pag",linked_layers:["697","696","1366","709","710"],max_dpi:128,metadata_id:"12c67295-d150-430f-aa28-fa004ecba3c7",start_opacity:.7},dimensions:{},type:"WMS",layers:"pag_pag",imageType:"image/png",style:"default",childLayers:[{name:"pag_pag__28"},{name:"pag_pag__27"},{name:"pag_pag__26"},{name:"pag_pag__25"},{name:"pag_pag__24"},{name:"pag_pag__23"},{name:"pag_pag__22"},{name:"pag_pag__21"},{name:"pag_pag__20"},{name:"pag_pag__19"},{name:"pag_pag__18"},{name:"pag_pag__17"},{name:"pag_pag__16"},{name:"pag_pag__15"},{name:"pag_pag__14"},{name:"pag_pag__13"},{name:"pag_pag__12"},{name:"pag_pag__11"},{name:"pag_pag__9"},{name:"pag_pag__8"},{name:"pag_pag__7"},{name:"pag_pag__6"},{name:"pag_pag__202"},{name:"pag_pag__5"},{name:"pag_pag__200"}]},{id:147,name:"arrets_bus",metadata:{is_queryable:!0,legend_name:"mobiliteit:arrets_de_bus",linked_layers:["813"],metadata_id:"7318c6e8-bb63-40e0-9e40-46ae7b0dc266"},dimensions:{},type:"WMS",layers:"arrets_bus",imageType:"image/png",style:"default",childLayers:[{name:"arrets_bus__0"},{name:"arrets_bus__1"}]},{id:2811,name:"tour_randonnee_all",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_randonnee_all",imageType:"image/png",style:"default",childLayers:[{name:"tour_randonnee_all__category"}]},{id:1813,name:"myenergy_solarkataster_luxemburg_solar_potentials",metadata:{is_queryable:!0,legend_name:"energie:potentiel_solaire",metadata_id:"97628fac-c53b-4426-a829-b188105b9ead",ogc_info_format:"geojson",ogc_info_srs:"epsg:3857",ogc_query_layers:["st_luxemburg_22_feature_info"]},dimensions:{},type:"WMS",layers:"myenergy_solarkataster_luxemburg_solar_potentials",imageType:"image/png",style:"default",childLayers:[{name:"myenergy_solarkataster_luxemburg_solar_potentials__st_luxemburg_22_solar_potentials"}]},{id:245,name:"env_zones_protegees",children:[{id:807,name:"zpin_group",children:[{id:804,name:"anf_zpin_declarees",metadata:{is_queryable:!0,legend_name:"anf:zpin_declarees",metadata_id:"9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"},dimensions:{},type:"WMS",layers:"anf_zpin_declarees",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_declarees__ZPIN_DECLAREES"}]},{id:805,name:"anf_zpin_a_declarer",metadata:{is_queryable:!0,legend_name:"anf:zpin_a_declarer",metadata_id:"db53336b-1a33-4b1a-94a8-42a29b55ce45"},dimensions:{},type:"WMS",layers:"anf_zpin_a_declarer",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_a_declarer__ZPIN_A_DECLARER"}]},{id:806,name:"anf_zpin_en_procedure",metadata:{is_queryable:!0,legend_name:"anf:zpin_en_procedure_reglementaire",metadata_id:"74499cf0-ab69-48bd-a357-8c151dd3d5c9"},dimensions:{},type:"WMS",layers:"anf_zpin_en_procedure",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"}]}],metadata:{},mixed:!0},{id:334,name:"env_zones_protegees_communautaires",children:[{id:146,name:"env_natura2000",children:[{id:1915,name:"anf_communes_copil_2020",metadata:{is_queryable:!0,metadata_id:"e0369dfa-0219-4a60-84c4-4ce60cec0a02"},dimensions:{},type:"WMS",layers:"anf_communes_copil_2020",imageType:"image/png",style:"default",childLayers:[{name:"anf_communes_copil_2020__COMMUNES_COPIL_2020"}]},{id:540,name:"natura2000_habitats",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"a38326c1-3d68-43da-9883-a80763ee06e9"},dimensions:{},type:"WMS",layers:"natura2000_habitats",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_habitats__1"}]},{id:533,name:"natura2000_oiseaux",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"},dimensions:{},type:"WMS",layers:"natura2000_oiseaux",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_oiseaux__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2114,name:"eau_Hochwassergefahrenkarten_2021",children:[{id:2117,name:"eau_Hochwassergefahrenkarten_HQ10_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"153130ef-8255-4bce-bca0-d2359d277995"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ10_2021",imageType:"image/png"},{id:2118,name:"eau_Hochwassergefahrenkarten_HQ100_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cdb4137d-822f-4888-8a51-4596480970fe"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ100_2021",imageType:"image/png"},{id:2119,name:"eau_Hochwassergefahrenkarten_HQext_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cd0f52f7-7226-4748-95e0-b77025284423"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0}],metadata:{is_expanded:!0},mixed:!0},{id:2846,name:"Couches récentes",children:[{id:1734,name:"log_prix_app",children:[{id:1739,name:"log_prix_app_existants",metadata:{is_queryable:!0,legend_name:"logt_prix_app_exist",metadata_id:"9679921a-f90e-4d26-9918-96e66225a171"},dimensions:{},type:"WMS",layers:"log_prix_app_existants",imageType:"image/png",style:"default",childLayers:[{name:"log_prix_app_existants__21"}]},{id:1740,name:"log_prix_app_en_construction",metadata:{is_queryable:!0,legend_name:"logt_prix_app_enconstruction",metadata_id:"bbb36662-64ba-4d2e-a9a4-7ab00d0bb264"},dimensions:{},type:"WMS",layers:"log_prix_app_en_construction",imageType:"image/png",style:"default",childLayers:[{name:"log_prix_app_en_construction__20"}]}],metadata:{},mixed:!0},{id:1735,name:"log_loyers",children:[{id:1741,name:"log_loyers_app",metadata:{is_queryable:!0,legend_name:"logt_loyers_app",metadata_id:"2c3dc437-77ac-4030-a8d0-f61fd12e8f5e"},dimensions:{},type:"WMS",layers:"log_loyers_app",imageType:"image/png",style:"default",childLayers:[{name:"log_loyers_app__18"}]},{id:1742,name:"log_loyers_maisons",metadata:{is_queryable:!0,legend_name:"logt_loyers_maisons",metadata_id:"f914e59b-6684-4a94-b5ec-b5a782708371"},dimensions:{},type:"WMS",layers:"log_loyers_maisons",imageType:"image/png",style:"default",childLayers:[{name:"log_loyers_maisons__17"}]}],metadata:{},mixed:!0},{id:2835,name:"ortho2023_IR",metadata:{exclusion:'["exclusion_ortho2023IR","exclusion_ortho2023IR_bati"]',metadata_id:"3bb6099a-67f2-4243-b820-ffaeb03e439b"},dimensions:{},type:"WMS",layers:"ortho2023_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2023_IR__0"}]},{id:2812,name:"aev_pacte_climat_2023",metadata:{is_queryable:!0,legend_name:"aev:klimapakt2023",metadata_id:"223a6d2c-ac2c-4b95-9beb-900fd9b3e168"},dimensions:{},type:"WMS",layers:"aev_pacte_climat_2023",imageType:"image/png",style:"default",childLayers:[{name:"aev_pacte_climat_2023__10"}]},{id:2794,name:"eau_restrictions_forages_prives_prelevement",metadata:{legend_name:"eau:restrictions_nouveaux_forages_prives",metadata_id:"b2f60fc1-c2e8-4472-a8e2-4e11a862b257"},dimensions:{},type:"WMS",layers:"eau_restrictions_forages_prives_prelevement",imageType:"image/png",style:"default",childLayers:[{name:"eau_restrictions_forages_prives_prelevement__475"}]}],metadata:{is_expanded:!1},mixed:!0},{id:242,name:"basisden",children:[{id:309,name:"administrative_einheiten",children:[{id:269,name:"communes_labels",metadata:{is_queryable:!0,metadata_id:"17c7d883-ff7f-4b48-a894-46bea40d2e49"},dimensions:{},type:"WMS",layers:"communes_labels",imageType:"image/png",style:"default",childLayers:[{name:"communes_labels__COMMUNES_LABELS"}]},{id:302,name:"communes",metadata:{is_queryable:!0,linked_layers:["269"],metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2049"},dimensions:{},type:"WMS",layers:"communes",imageType:"image/png",style:"default",childLayers:[{name:"communes__COMMUNES"}]},{id:346,name:"cantons_labels",metadata:{is_queryable:!0,metadata_id:"3af20a80-be4a-4819-a42b-18e49af799aa"},dimensions:{},type:"WMS",layers:"cantons_labels",imageType:"image/png",style:"default",childLayers:[{name:"cantons_labels__CANTONS_LABELS"}]},{id:329,name:"cantons",metadata:{is_queryable:!0,metadata_id:"e8a034e8-f986-4745-a848-b7ef30ce2740"},dimensions:{},type:"WMS",layers:"CANTONS",imageType:"image/png",style:"default",childLayers:[{name:"cantons__CANTONS"}]},{id:268,name:"districts_labels",metadata:{is_queryable:!0,metadata_id:"c42842e2-834a-427a-99f6-eb8cb79d1db4"},dimensions:{},type:"WMS",layers:"districts_labels",imageType:"image/png",style:"default",childLayers:[{name:"districts_labels__DISTRICTS_LABELS"}]},{id:354,name:"districts",metadata:{is_queryable:!0,metadata_id:"b9edd03f-3aef-4fd6-a3d9-db076b1cf237"},dimensions:{},type:"WMS",layers:"districts",imageType:"image/png",style:"default",childLayers:[{name:"districts__DISTRICTS"}]},{id:349,name:"country",metadata:{is_queryable:!0,metadata_id:"4c9b3c0b-85d4-447d-a68c-7416869f8d9b"},dimensions:{},type:"WMS",layers:"country",imageType:"image/png",style:"default",childLayers:[{name:"country__PAYS"}]},{id:732,name:"limadmin_judiciaire",metadata:{metadata_id:"235c0ac9-5bf6-45b6-9ceb-8680a07944ec"},dimensions:{},type:"WMS",layers:"limadmin_judiciaire",imageType:"image/png",style:"default",childLayers:[{name:"limadmin_judiciaire__ARRONDISSEMENTS JUDICIAIRES"}]},{id:733,name:"limadmin_legislatif",metadata:{metadata_id:"627b78d9-ae18-4be2-9a69-02aa6d4e38bb"},dimensions:{},type:"WMS",layers:"limadmin_legislatif",imageType:"image/png",style:"default",childLayers:[{name:"limadmin_legislatif__CIRCONSCRIPTIONS LEGISLATIVES"}]},{id:744,name:"tour_ort",metadata:{is_queryable:!0,metadata_id:"44dbfde5-664e-4e45-8802-3d60b52eb9cb",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_ort",imageType:"image/png",style:"default",childLayers:[{name:"tour_ort__3"}]},{id:746,name:"tour_leader",metadata:{is_queryable:!0,metadata_id:"a48aec89-7341-459e-a7d3-0e572982b255",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_leader",imageType:"image/png",style:"default",childLayers:[{name:"tour_leader__0"}]},{id:747,name:"tour_parcsnaturels",metadata:{is_queryable:!0,legend_name:"parcnaturel",metadata_id:"f519c4e7-4459-49b5-b8c1-569328252d44",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_parcnaturels",imageType:"image/png",style:"default",childLayers:[{name:"tour_parcsnaturels__4"}]},{id:2213,name:"at_unesco_minett",metadata:{is_queryable:!0,legend_name:"at:unesco_minett",metadata_id:"815fc4a3-95ef-47b6-a9ff-fa7e88654639"},dimensions:{},type:"WMS",layers:"at_unesco_minett",imageType:"image/png",style:"default",childLayers:[{name:"at_unesco_minett__0"}]},{id:678,name:"anf_stations_biologiques",metadata:{is_queryable:!0,metadata_id:"05e497fc-625d-4701-90af-dbe8813201ab"},dimensions:{},type:"WMS",layers:"anf_stations_biologiques",imageType:"image/png",style:"default",childLayers:[{name:"anf_stations_biologiques__STATIONS_BIOLOGIQUES"}]},{id:1364,name:"act_frontieres_isodistances",metadata:{metadata_id:"09318d11-a908-4dea-a8f9-0558d20b980f",start_opacity:.5},dimensions:{},type:"WMS",layers:"act_frontieres_isodistances",imageType:"image/png",style:"default",childLayers:[{name:"act_frontieres_isodistances__1"},{name:"act_frontieres_isodistances__0"}]}],metadata:{},mixed:!0},{id:248,name:"flurstucke_grundstucke",children:[{id:359,name:"parcels",metadata:{exclusion:'[1,11,21,31,32,33,34,35,36,37,38,39,51,52,53,54,55,56,57,58,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,"exclusion_ortho2022","exclusion_ortho2022IR","exclusion_ortho2023","exclusion_ortho2023_bati","exclusion_ortho2023IR"]',is_queryable:!0,legend_name:"pcn_parcelles:show",metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2050"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"parcels",imageType:"image/png"},{id:353,name:"parcels_labels",metadata:{metadata_id:"a65629c7-ddd6-43de-b0c3-c49647d8fd2b"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"parcels_labels",imageType:"image/png"},{id:199,name:"buildings",metadata:{is_queryable:!0,legend_name:"pcn_batiments:show",metadata_id:"5d0efc9d-a05a-4964-9f9d-a0ab9932af04"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"buildings",imageType:"image/png"},{id:320,name:"toponymes",metadata:{metadata_id:"ffa537f7-a438-47da-9e0c-8e32260646a9"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"toponymes",imageType:"image/png"},{id:350,name:"communes_cadastrales_labels",metadata:{is_queryable:!0,metadata_id:"5ae8fdfb-bb8f-4f72-b7ee-36c7664fe4b5"},dimensions:{},type:"WMS",layers:"communes_cadastrales_labels",imageType:"image/png",style:"default",childLayers:[{name:"communes_cadastrales_labels__COMMUNES_CADASTRALES_LABELS"}]},{id:153,name:"communes_cadastrales",metadata:{is_queryable:!0,metadata_id:"8a95f8b2-2cfb-42e7-a51c-02084228b364"},dimensions:{},type:"WMS",layers:"communes_cadastrales",imageType:"image/png",style:"default",childLayers:[{name:"communes_cadastrales__COMMUNES_CADASTRALES"}]},{id:266,name:"sections_cadastrales_labels",metadata:{is_queryable:!0,metadata_id:"69d1b609-11f7-4587-872a-508ee98ea76c"},dimensions:{},type:"WMS",layers:"sections_cadastrales_labels",imageType:"image/png",style:"default",childLayers:[{name:"sections_cadastrales_labels__SECTIONS_CADASTRALES_LABELS"}]},{id:355,name:"sections_cadastrales",metadata:{is_queryable:!0,metadata_id:"c9122320-8f06-4499-ac86-eb469e911369"},dimensions:{},type:"WMS",layers:"sections_cadastrales",imageType:"image/png",style:"default",childLayers:[{name:"sections_cadastrales__SECTIONS_CADASTRALES"}]},{id:256,name:"feuilles_cadastrales",metadata:{is_queryable:!0,metadata_id:"51333029-c8cf-490f-b4a6-80ba239f0cb4"},dimensions:{},type:"WMS",layers:"feuilles_cadastrales",imageType:"image/png",style:"default",childLayers:[{name:"feuilles_cadastrales__FEUILLES_CADASTRALES"}]},{id:417,name:"remembrements",metadata:{exclusion:"[301,302,303,304,305,306,307,308,309,310]",is_queryable:!0,max_dpi:128,metadata_id:"03d079f3-61fb-48bc-ab39-f3427b208702",start_opacity:.7},dimensions:{},type:"WMS",layers:"remembrements",imageType:"image/png",style:"default",childLayers:[{name:"remembrements__0"},{name:"remembrements__1"}]},{id:1643,name:"act_grid_land_tenure",children:[{id:1644,name:"act_privately_owned_land",metadata:{is_queryable:!0,legend_name:"act:privately",metadata_id:"75cb5ae7-7c48-478f-b2a6-1e5bfbdd5958"},dimensions:{},type:"WMS",layers:"act_privately_owned_land",imageType:"image/png",style:"default",childLayers:[{name:"act_privately_owned_land__6"}]},{id:1645,name:"act_state_owned_land",metadata:{is_queryable:!0,legend_name:"act:stateowned",metadata_id:"e8813b4e-43c4-4a72-853e-bd7c06fd1111"},dimensions:{},type:"WMS",layers:"act_state_owned_land",imageType:"image/png",style:"default",childLayers:[{name:"act_state_owned_land__5"}]},{id:1646,name:"act_municipality_owned_land",metadata:{is_queryable:!0,legend_name:"act:municipality",metadata_id:"89d42e03-93ae-444f-a49e-eb869b30071e"},dimensions:{},type:"WMS",layers:"act_municipality_owned_land",imageType:"image/png",style:"default",childLayers:[{name:"act_municipality_owned_land__4"}]},{id:1647,name:"act_domainepublic_owned_land",metadata:{is_queryable:!0,legend_name:"act:domainepublic",metadata_id:"ac32c380-37df-4594-bbf2-0fd394482fd9"},dimensions:{},type:"WMS",layers:"act_domainepublic_owned_land",imageType:"image/png",style:"default",childLayers:[{name:"act_domainepublic_owned_land__1"}]},{id:1648,name:"act_publicly_owned_land",metadata:{is_queryable:!0,legend_name:"act:publicly",metadata_id:"0a1852f5-1f32-4bdc-8bbc-d6103921d862"},dimensions:{},type:"WMS",layers:"act_publicly_owned_land",imageType:"image/png",style:"default",childLayers:[{name:"act_publicly_owned_land__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:165,name:"adressen",children:[{id:152,name:"addresses",metadata:{is_queryable:!0,metadata_id:"28b310e4-b9e1-467c-a28d-fce2e9a96548"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"addresses",imageType:"image/png"}],metadata:{},mixed:!0},{id:291,name:"topographische_karten",children:[{id:295,name:"topo",metadata:{exclusion:"[33,43]",metadata_id:"fe530846-9991-455e-a036-edcde4c3c566"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo",imageType:"image/png"},{id:223,name:"topo_250k",metadata:{metadata_id:"e1f601a5-ed8f-4043-8719-0cad50cbb483"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_250k",imageType:"image/png"},{id:1730,name:"topo_100k_2019",metadata:{legend_name:"topo_100k_sans_tour",metadata_id:"ce051f08-bca6-43c0-af7b-5fcf3e02376e"},dimensions:{},type:"WMS",layers:"topo_100k_2019",imageType:"image/png",style:"default",childLayers:[{name:"topo_100k_2019__topo_100k"}]},{id:1729,name:"topo_100k_BW_2019",metadata:{legend_name:"topo_100k_sans_tour",metadata_id:"8d02ddc3-8482-4e47-8ee0-520af99d4966"},dimensions:{},type:"WMS",layers:"topo_100k_BW_2019",imageType:"image/png",style:"default",childLayers:[{name:"topo_100k_BW_2019__topo_100k_bw"}]},{id:1727,name:"topo_50k_2019",metadata:{legend_name:"topo_50k_sans_tour",metadata_id:"abc505e1-224c-455e-9e7f-4f094eb4e7b0"},dimensions:{},type:"WMS",layers:"topo_50k_2019",imageType:"image/png",style:"default",childLayers:[{name:"topo_50k_2019__50K-2019-LUX_avec_ETRANGER"}]},{id:1728,name:"topo_50k_BW_2019",metadata:{legend_name:"topo_50k_sans_tour",metadata_id:"b8ccc3e8-fcf0-479c-b322-c0aee5a480e5"},dimensions:{},type:"WMS",layers:"topo_50k_BW_2019",imageType:"image/png",style:"default",childLayers:[{name:"topo_50k_BW_2019__50K-2019-LUX_avec_ETRANGER-BW"}]},{id:206,name:"topo_20k",metadata:{legend_name:"topo_20k",metadata_id:"ea998ae8-731a-43bc-aa9f-171684f97602"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_20k",imageType:"image/png"},{id:149,name:"topo_tour_20k",metadata:{legend_name:"topo_tour_20k",metadata_id:"1173_"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_tour_20k",imageType:"image/png"},{id:265,name:"topo_decoupage_r",metadata:{is_queryable:!0,metadata_id:"3a35eb1a-9eaa-4f90-927f-2891d5e865f7"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_decoupage_r",imageType:"image/png"},{id:195,name:"topo_5k",metadata:{exclusion:"[32,42]",legend_name:"topo_5k",metadata_id:"270_2012"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_5k",imageType:"image/png"},{id:313,name:"topo_carteshisto",children:[{id:2615,name:"FERRARIS",metadata:{metadata_id:"783cb2a8-a143-4263-aaf0-b4f032835e0c"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"FERRARIS",imageType:"image/png"},{id:328,name:"1907_CAHANSEN",metadata:{metadata_id:"b88e6524-67d3-4e34-b998-6f30120e3718"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"1907_CAHANSEN",imageType:"image/png"},{id:252,name:"1927_CAHANSEN",metadata:{metadata_id:"90750f9f-856d-41ac-a90f-a8befbd75434"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"1927_CAHANSEN",imageType:"image/png"},{id:220,name:"TOPO_CARTES_1944",metadata:{metadata_id:"e78c1d0a-ef3d-4552-9bba-f72a1d1d3173"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO_CARTES_1944",imageType:"image/png"},{id:2616,name:"TOPO_CARTEHISTO_1950",metadata:{metadata_id:"f29901f2-c4b0-4250-a332-640e25a84d2e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"TOPO_CARTEHISTO_1950",imageType:"image/png"},{id:274,name:"TOPO25K1954C24",metadata:{metadata_id:"7a8bc9a4-e7c7-4584-bc4f-03deaf7b69b2"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO25K1954C24",imageType:"image/png"},{id:201,name:"TOPO_CARTESHISTO_1964",metadata:{metadata_id:"58bec8c3-c9f1-44ba-ab3a-860122694952"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO_CARTESHISTO_1964",imageType:"image/png"},{id:173,name:"TOPO_CARTESHISTO_1964_RGB",metadata:{metadata_id:"27818c9d-19f1-4c3c-bcf6-0856d766d27d"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO_CARTESHISTO_1964_RGB",imageType:"image/png"},{id:217,name:"TOPO_CARTESHISTO_1966-74_50k",metadata:{metadata_id:"0cda7940-0268-4595-97ed-ae5854da628b"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO_CARTESHISTO_1966-74_50k",imageType:"image/png"},{id:156,name:"TOPO_CARTESHISTO_1979",metadata:{metadata_id:"6c2b8b34-0eb8-4b2c-8586-e8a515ad1860"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO_CARTESHISTO_1979",imageType:"image/png"},{id:191,name:"TOPO_CARTESHISTO_1979_RGB",metadata:{metadata_id:"44675358-e65a-4e3b-ac6f-e4f19fd7bfb5"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO_CARTESHISTO_1979_RGB",imageType:"image/png"},{id:285,name:"TOPO_CARTESHISTO_1989",metadata:{metadata_id:"d3e2a6d0-52b6-4f06-b833-021647f6de4c"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO_CARTESHISTO_1989",imageType:"image/png"},{id:185,name:"TOPO_CARTESHISTO_1990_50k",metadata:{metadata_id:"b68a8131-2e42-40de-99ce-5a1433d80cbf"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO_CARTESHISTO_1990_50k",imageType:"image/png"},{id:299,name:"TOPO_CARTESHISTO_1993_50k",metadata:{metadata_id:"f15bf68d-593f-422a-b855-2e05dfb34fcc"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO_CARTESHISTO_1993_50k",imageType:"image/png"},{id:278,name:"TOPO_CARTESHISTO_2000_50k",metadata:{metadata_id:"ccdd1b07-401d-48cb-821d-1ae51d489f36"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO_CARTESHISTO_2000_50k",imageType:"image/png"},{id:237,name:"TOPO_CARTESHISTO_2000",metadata:{metadata_id:"21a56aff-4a9e-4be5-9ed8-cd60dd56d5a1"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"TOPO_CARTESHISTO_2000",imageType:"image/png"},{id:155,name:"topo_50k",metadata:{legend_name:"topo_50k",metadata_id:"262"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_50k",imageType:"image/png"}],metadata:{},mixed:!0},{id:734,name:"utm_grid",metadata:{max_dpi:128,metadata_id:"84f59e51-2772-4b6d-8c5b-3ec19aa7d8f2"},dimensions:{},type:"WMS",layers:"utm_grid",imageType:"image/png",style:"default",childLayers:[{name:"utm_grid__2"},{name:"utm_grid__3"}]},{id:738,name:"luref_graticules",metadata:{max_dpi:128,metadata_id:"0d1a431c-36b0-406f-8cfd-d264d4949bf0"},dimensions:{},type:"WMS",layers:"luref_graticules",imageType:"image/png",style:"default",childLayers:[{name:"luref_graticules__0"},{name:"luref_graticules__1"}]}],metadata:{},mixed:!0},{id:330,name:"geodesy",children:[{id:1831,name:"ng_new",metadata:{is_queryable:!0,metadata_id:"3119179b-56bb-459d-8904-1e0a2bfb6bc7"},dimensions:{},type:"WMS",layers:"ng_new",imageType:"image/png",style:"default",childLayers:[{name:"ng_new__0"}]},{id:411,name:"ng",metadata:{is_queryable:!0,metadata_id:"3119179b-56bb-459d-8904-1e0a2bfb6bc7"},dimensions:{},type:"WMS",layers:"ng",imageType:"image/png",style:"default",childLayers:[{name:"ng__POINT_NG"}]},{id:1724,name:"points_reference_gps",metadata:{is_queryable:!0,metadata_id:"fd406ca9-2542-4de9-8cee-7ee0a16c7f42"},dimensions:{},type:"WMS",layers:"points_reference_gps",imageType:"image/png",style:"default",childLayers:[{name:"points_reference_gps__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:555,name:"editus_pois",children:[{id:542,name:"editus_poi_299",metadata:{is_queryable:!0,legend_name:"editus_1",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"542",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_299__POI"}]},{id:543,name:"editus_poi_286",metadata:{is_queryable:!0,legend_name:"editus_2",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"543",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_286__POI"}]},{id:544,name:"editus_poi_285",metadata:{is_queryable:!0,legend_name:"editus_3",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"544",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_285__POI"}]},{id:545,name:"editus_poi_287",metadata:{is_queryable:!0,legend_name:"editus_4",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"545",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_287__POI"}]},{id:546,name:"editus_poi_289",metadata:{is_queryable:!0,legend_name:"editus_5",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"546",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_289__POI"}]},{id:547,name:"editus_poi_290",metadata:{is_queryable:!0,legend_name:"editus_6",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"547",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_290__POI"}]},{id:549,name:"editus_poi_291",metadata:{is_queryable:!0,legend_name:"editus_7",metadata_id:"4a04ebff-4954-4c4d-9387-46d3587eccef",start_opacity:.9},dimensions:{},type:"WMS",layers:"549",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_291__POI"}]},{id:550,name:"editus_poi_292",metadata:{is_queryable:!0,legend_name:"editus_8",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"550",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_292__POI"}]},{id:551,name:"editus_poi_293",metadata:{is_queryable:!0,legend_name:"editus_9",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"551",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_293__POI"}]},{id:548,name:"editus_poi_294",metadata:{is_queryable:!0,legend_name:"editus_10",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"548",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_294__POI"}]},{id:552,name:"editus_poi_295",metadata:{is_queryable:!0,legend_name:"editus_11",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"552",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_295__POI"}]},{id:553,name:"editus_poi_296",metadata:{is_queryable:!0,legend_name:"editus_12",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"553",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_296__POI"}]},{id:554,name:"editus_poi_298",metadata:{is_queryable:!0,legend_name:"editus_13",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"554",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_298__POI"}]}],metadata:{},mixed:!0},{id:194,name:"infrastrucktur_une_kommunikation",children:[{id:339,name:"gebaude",children:[{id:199,name:"buildings",metadata:{is_queryable:!0,legend_name:"pcn_batiments:show",metadata_id:"5d0efc9d-a05a-4964-9f9d-a0ab9932af04"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"buildings",imageType:"image/png"}],metadata:{},mixed:!0},{id:196,name:"verkehrsnetze",children:[{id:181,name:"roads",metadata:{legend_name:"road_network:show",linked_layers:["351"],metadata_id:"12627f90-f0f8-41b3-a56a-2e11a232ba59"},dimensions:{},type:"WMS",layers:"roads",imageType:"image/png",style:"default",childLayers:[{name:"roads__ROADS_NOLABELS"}]},{id:351,name:"roads_labels",metadata:{metadata_id:"5d606cae-cbc6-44c3-a465-edb981e44a39"},dimensions:{},type:"WMS",layers:"roads_labels",imageType:"image/png",style:"default",childLayers:[{name:"roads_labels__ROADS_LABELS"}]},{id:2401,name:"act_ponts",metadata:{is_queryable:!0,metadata_id:"2b7d36db-987f-49b4-96d7-60e934ddf926"},dimensions:{},type:"WMS",layers:"act_ponts",imageType:"image/png",childLayers:[{name:"act_ponts__0"},{name:"act_ponts__1"},{name:"act_ponts__2"}]},{id:147,name:"arrets_bus",metadata:{is_queryable:!0,legend_name:"mobiliteit:arrets_de_bus",linked_layers:["813"],metadata_id:"7318c6e8-bb63-40e0-9e40-46ae7b0dc266"},dimensions:{},type:"WMS",layers:"arrets_bus",imageType:"image/png",style:"default",childLayers:[{name:"arrets_bus__0"},{name:"arrets_bus__1"}]},{id:813,name:"cdt_lignes_all",metadata:{is_queryable:!0,metadata_id:"bbe0523f-374d-4c94-a27d-7ce81d8bae3b"},dimensions:{},type:"WMS",layers:"cdt_lignes_all",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_all__lignes_de_bus_detaillees"},{name:"cdt_lignes_all__lignes_de_bus_detaillees_mymaps"}]},{id:812,name:"cdt_lignes_bus_par_operateur",children:[{id:814,name:"cdt_lignes_avl",metadata:{is_queryable:!0,metadata_id:"1e6f614b-e347-4115-82d7-74a72f51389f"},dimensions:{},type:"WMS",layers:"cdt_lignes_avl",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_avl__category"}]},{id:815,name:"cdt_lignes_rgtr",metadata:{is_queryable:!0,metadata_id:"eae3ed54-d2ae-45ae-a62c-0dec4d44acdf"},dimensions:{},type:"WMS",layers:"cdt_lignes_rgtr",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_rgtr__category"}]},{id:816,name:"cdt_lignes_tice",metadata:{is_queryable:!0,metadata_id:"a3cb973c-12b0-4e41-bfc0-b2fb67637513"},dimensions:{},type:"WMS",layers:"cdt_lignes_tice",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_tice__category"}]},{id:817,name:"cdt_lignes_cfl",metadata:{is_queryable:!0,metadata_id:"84ebdfbc-ba25-464c-af86-e74e588978ef"},dimensions:{},type:"WMS",layers:"cdt_lignes_cfl",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_cfl__category"}]},{id:1374,name:"cdt_lignes_tram",metadata:{is_queryable:!0,metadata_id:"0f46c673-d4b4-4c25-8d9a-fca41035f587"},dimensions:{},type:"WMS",layers:"cdt_lignes_tram",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_tram__category"}]}],metadata:{},mixed:!0},{id:1381,name:"chargy",metadata:{is_queryable:!0,legend_name:"chargy",metadata_id:"801d732a-c285-4fcd-a043-c5220d6d7eef"},dimensions:{},type:"WMS",layers:"chargy",imageType:"image/png",style:"default",childLayers:[{name:"chargy__chargy"}]},{id:2707,name:"mmtp_electromobilite_AC",metadata:{is_queryable:!0,metadata_id:"08885ef4-d534-47d4-8b93-2883c71a8452"},dimensions:{},type:"WMS",layers:"mmtp_electromobilite_AC",imageType:"image/png",style:"default",childLayers:[{name:"mmtp_electromobilite_AC__0"}]},{id:2708,name:"mmtp_electromobilite_DC",metadata:{is_queryable:!0,metadata_id:"624d34e4-1192-40bb-871a-e6c8720d766b"},dimensions:{},type:"WMS",layers:"mmtp_electromobilite_DC",imageType:"image/png",style:"default",childLayers:[{name:"mmtp_electromobilite_DC__2"}]},{id:423,name:"mobiliteit_cfl",metadata:{is_queryable:!0,legend_name:"mobiliteit:cfl",max_dpi:128,metadata_id:"0b3c42a2-275e-4519-b228-f407d46b8350"},dimensions:{},type:"WMS",layers:"mobiliteit_cfl",imageType:"image/png",style:"default",childLayers:[{name:"mobiliteit_cfl__1"}]},{id:377,name:"mobiliteit_pr",metadata:{is_queryable:!0,legend_name:"mobiliteit:pr",max_dpi:128,metadata_id:"9e0c97ae-aff9-41fc-9489-bbf97999163d"},dimensions:{},type:"WMS",layers:"mobiliteit_pr",imageType:"image/png",style:"default",childLayers:[{name:"mobiliteit_pr__0"}]},{id:808,name:"velo_by_pch",metadata:{is_queryable:!0,legend_name:"tour_velo_national",linked_layers:["1713","1714"],metadata_id:"387f6949-0fc4-43a5-b0e6-4e09bdf65225"},dimensions:{},type:"WMS",layers:"velo_by_pch",imageType:"image/png",style:"default",childLayers:[{name:"velo_by_pch__4"},{name:"velo_by_pch__5"}]},{id:512,name:"tour_pistes_velo_mymaps2",metadata:{is_queryable:!0,legend_name:"tour_velo_national",metadata_id:"e9fea021-2aab-4f58-a777-8c7536898d9b"},dimensions:{},type:"WMS",layers:"tour_pistes_velo_mymaps2",imageType:"image/png",style:"default",childLayers:[{name:"tour_pistes_velo_mymaps2__category"}]},{id:352,name:"cfl_hecto",metadata:{is_queryable:!0,metadata_id:"938f9e8e-071c-4e6b-940f-64b2a60eca74"},dimensions:{},type:"WMS",layers:"cfl_hecto",imageType:"image/png",style:"default",childLayers:[{name:"cfl_hecto__points_hecto"}]},{id:685,name:"cita_chantiers_actuel",metadata:{is_queryable:!0,metadata_id:"9c823038-5965-47cc-8dad-21496e57e3f2",start_opacity:1},dimensions:{},type:"WMS",layers:"cita_chantiers_actuel",imageType:"image/png",style:"default",childLayers:[{name:"cita_chantiers_actuel__CHANTIERS_ACTUEL"}]},{id:686,name:"cita_chantiers_futur",metadata:{is_queryable:!0,metadata_id:"063cb796-640f-4ab0-8430-955983a00e3b",start_opacity:1},dimensions:{},type:"WMS",layers:"cita_chantiers_futur",imageType:"image/png",style:"default",childLayers:[{name:"cita_chantiers_futur__CHANTIERS_FUTUR"}]},{id:1713,name:"chantiers_actuels_pc",metadata:{is_queryable:!0,metadata_id:"7d59f3a6-e8d8-464b-bbf9-73c6ca358a51",start_opacity:1},dimensions:{},type:"WMS",layers:"chantiers_actuels_pc",imageType:"image/png",style:"default",childLayers:[{name:"chantiers_actuels_pc__CHANTIERS_ACTUEL_PC"}]},{id:1714,name:"chantiers_futurs_pc",metadata:{is_queryable:!0,metadata_id:"f6b9df36-5e62-46d1-ae91-c7c58c7e2e45",start_opacity:1},dimensions:{},type:"WMS",layers:"chantiers_futurs_pc",imageType:"image/png",style:"default",childLayers:[{name:"chantiers_futurs_pc__CHANTIERS_FUTUR_PC"}]},{id:713,name:"pch_radars",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"385180ba-a9bc-49d4-8858-ba5f19942a66",start_opacity:1},dimensions:{},type:"WMS",layers:"pch_radars",imageType:"image/png",style:"default",childLayers:[{name:"pch_radars__1"},{name:"pch_radars__2"}]},{id:2729,name:"pch_points_repere",metadata:{geocatalog_open_data_last_update_date:"2024-07-26T08:50:03.7336833",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"66a3633bcf73e6f52fd83901",is_queryable:!0,metadata_id:"1dbe9ca0-638e-4034-94ef-c8a12fdaa57a"},dimensions:{},type:"WMS",layers:"pch_points_repere",imageType:"image/png",style:"default",childLayers:[{name:"pch_points_repere__6"}]}],metadata:{},mixed:!0},{id:1495,name:"fourniture_energie",children:[{id:1494,name:"gaz_naturel",metadata:{is_queryable:!0,legend_name:"gaz",metadata_id:"9e04e366-fcb7-4836-8d09-41b20f280cb0",start_opacity:.75},dimensions:{},type:"WMS",layers:"gaz_naturel",imageType:"image/png",style:"default",childLayers:[{name:"gaz_naturel__1"},{name:"gaz_naturel__3"}]}],metadata:{},mixed:!0},{id:2354,name:"ilr_couverture",children:[{id:2355,name:"ilr_couverture_selon_technologie",children:[{id:2351,name:"ilr_vhcn",metadata:{exclusion:"[360]",is_queryable:!0,metadata_id:"30ced97b-5b19-4ef0-bf25-cad75bcf3f74",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_vhcn_adresses",imageType:"image/png",childLayers:[{name:"ilr_vhcn__1"},{name:"ilr_vhcn__2"},{name:"ilr_vhcn__3"}]},{id:2352,name:"ilr_fibre_optique",metadata:{exclusion:"[360]",is_queryable:!0,metadata_id:"8ae6a358-f7ee-4d5e-81e2-5407dd34cc4e",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_fibre_optique",imageType:"image/png",childLayers:[{name:"ilr_fibre_optique__5"},{name:"ilr_fibre_optique__6"},{name:"ilr_fibre_optique__7"}]},{id:2353,name:"ilr_docsis",metadata:{exclusion:"[360]",is_queryable:!0,metadata_id:"2dd35dd3-381b-405e-b870-1489698ddd23",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_docsis",imageType:"image/png",childLayers:[{name:"ilr_docsis__9"},{name:"ilr_docsis__10"},{name:"ilr_docsis__11"}]}],metadata:{},mixed:!0},{id:2367,name:"ilr_reseau_mobile_group",children:[{id:2356,name:"ilr_technologie_5G",children:[{id:2363,name:"ilr_technologie_5G_vitesse_max",metadata:{exclusion:"[360]",is_queryable:!0,legend_name:"ilr_vitesse_realisable_5g",metadata_id:"72954d5b-29dd-47ea-a5d8-bf6f3b3ec832",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_5G_vitesse_max",imageType:"image/png",childLayers:[{name:"ilr_technologie_5G_vitesse_max__99"}]},{id:2361,name:"ilr_technologie_5G_Post",children:[{id:2369,name:"ilr_technologie_5G_post_satisfaisant",metadata:{exclusion:"[360]",metadata_id:"d4b2509f-9bc1-41b5-bcd4-c7086da93f14",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_5G_post_satisfaisant",imageType:"image/png",childLayers:[{name:"ilr_technologie_5G_post_satisfaisant__37"}]},{id:2370,name:"ilr_technologie_5G_post_tres_bien",metadata:{exclusion:"[360]",metadata_id:"d4b2509f-9bc1-41b5-bcd4-c7086da93f14",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_5G_post_tres_bien",imageType:"image/png",childLayers:[{name:"ilr_technologie_5G_post_tres_bien__40"}]},{id:2371,name:"ilr_technologie_5G_post_excellent",metadata:{exclusion:"[360]",metadata_id:"d4b2509f-9bc1-41b5-bcd4-c7086da93f14",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_5G_post_excellent",imageType:"image/png",childLayers:[{name:"ilr_technologie_5G_post_excellent__43"}]}],metadata:{},mixed:!0},{id:2360,name:"ilr_technologie_5G_Proximus",children:[{id:2364,name:"ilr_technologie_5G_proximus_satisfaisant",metadata:{exclusion:"[360]",metadata_id:"e0e72895-45a1-46b9-87ce-0ed7d02ddce5",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_5G_proximus_satisfaisant",imageType:"image/png",childLayers:[{name:"ilr_technologie_5G_proximus_satisfaisant__61"}]},{id:2365,name:"ilr_technologie_5G_proximus_tres_bien",metadata:{exclusion:"[360]",metadata_id:"e0e72895-45a1-46b9-87ce-0ed7d02ddce5",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_5G_proximus_tres_bien",imageType:"image/png",childLayers:[{name:"ilr_technologie_5G_proximus_tres_bien__64"}]},{id:2366,name:"ilr_technologie_5G_proximus_excellent",metadata:{exclusion:"[360]",metadata_id:"e0e72895-45a1-46b9-87ce-0ed7d02ddce5",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_5G_proximus_excellent",imageType:"image/png",childLayers:[{name:"ilr_technologie_5G_proximus_excellent__67"}]}],metadata:{},mixed:!0},{id:2362,name:"ilr_technologie_5G_Orange",children:[{id:2373,name:"ilr_technologie_5G_orange_satisfaisant",metadata:{exclusion:"[360]",metadata_id:"aba4901e-7a64-4ac8-898f-24b8554177d6",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_5G_orange_satisfaisant",imageType:"image/png",childLayers:[{name:"ilr_technologie_5G_orange_satisfaisant__16"}]},{id:2572,name:"ilr_technologie_5G_orange_tresbien",metadata:{exclusion:"[360]",metadata_id:"aba4901e-7a64-4ac8-898f-24b8554177d6",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_5G_orange_tresbien",imageType:"image/png",childLayers:[{name:"ilr_technologie_5G_orange_tresbien__1"}]},{id:2372,name:"ilr_technologie_5G_orange_excellent",metadata:{exclusion:"[360]",metadata_id:"aba4901e-7a64-4ac8-898f-24b8554177d6",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_5G_orange_excellent",imageType:"image/png",childLayers:[{name:"ilr_technologie_5G_orange_excellent__19"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2357,name:"ilr_technologie_4G",children:[{id:2374,name:"ilr_technologie_4G_vitesse_max",metadata:{exclusion:"[360]",is_queryable:!0,legend_name:"ilr_vitesse_realisable",metadata_id:"9eb3d402-080b-4443-9fc3-1cffa4c334bb",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_4G_vitesse_max",imageType:"image/png",childLayers:[{name:"ilr_technologie_4G_vitesse_max__88"}]},{id:2394,name:"ilr_technologie_4G_Post",children:[{id:2378,name:"ilr_technologie_4G_post_satisfaisant",metadata:{exclusion:"[360]",metadata_id:"d14aee71-6ad4-418c-bbf8-136317632163",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_4G_post_satisfaisant",imageType:"image/png",childLayers:[{name:"ilr_technologie_4G_post_satisfaisant__28"}]},{id:2380,name:"ilr_technologie_4G_post_bien",metadata:{exclusion:"[360]",metadata_id:"d14aee71-6ad4-418c-bbf8-136317632163",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_4G_post_bien",imageType:"image/png",childLayers:[{name:"ilr_technologie_4G_post_bien__31"}]},{id:2379,name:"ilr_technologie_4G_post_tres_bien",metadata:{exclusion:"[360]",metadata_id:"d14aee71-6ad4-418c-bbf8-136317632163",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_4G_post_tres_bien",imageType:"image/png",childLayers:[{name:"ilr_technologie_4G_post_tres_bien__34"}]}],metadata:{},mixed:!0},{id:2393,name:"ilr_technologie_4G_Proximus",children:[{id:2375,name:"ilr_technologie_4G_proximus_satisfaisant",metadata:{exclusion:"[360]",metadata_id:"71e3d058-b034-4cf4-bc6c-6c0bda6dde19",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_4G_proximus_satisfaisant",imageType:"image/png",childLayers:[{name:"ilr_technologie_4G_proximus_satisfaisant__52"}]},{id:2377,name:"ilr_technologie_4G_proximus_bien",metadata:{exclusion:"[360]",metadata_id:"71e3d058-b034-4cf4-bc6c-6c0bda6dde19",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_4G_proximus_bien",imageType:"image/png",childLayers:[{name:"ilr_technologie_4G_proximus_bien__55"}]},{id:2376,name:"ilr_technologie_4G_proximus_tres_bien",metadata:{exclusion:"[360]",metadata_id:"71e3d058-b034-4cf4-bc6c-6c0bda6dde19",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_4G_proximus_tres_bien",imageType:"image/png",childLayers:[{name:"ilr_technologie_4G_proximus_tres_bien__58"}]}],metadata:{},mixed:!0},{id:2395,name:"ilr_technologie_4G_Orange",children:[{id:2383,name:"ilr_technologie_4G_orange_satisfaisant",metadata:{exclusion:"[360]",metadata_id:"f5b0958f-7f6d-408f-9670-241a27697c3a",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_4G_orange_satisfaisant",imageType:"image/png",childLayers:[{name:"ilr_technologie_4G_orange_satisfaisant__7"}]},{id:2381,name:"ilr_technologie_4G_orange_bien",metadata:{exclusion:"[360]",metadata_id:"f5b0958f-7f6d-408f-9670-241a27697c3a",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_4G_orange_bien",imageType:"image/png",childLayers:[{name:"ilr_technologie_4G_orange_bien__10"}]},{id:2382,name:"ilr_technologie_4G_orange_tres_bien",metadata:{exclusion:"[360]",metadata_id:"f5b0958f-7f6d-408f-9670-241a27697c3a",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_4G_orange_tres_bien",imageType:"image/png",childLayers:[{name:"ilr_technologie_4G_orange_tres_bien__13"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2358,name:"ilr_technologie_3G",children:[{id:2391,name:"ilr_technologie_3G_vitesse_max",metadata:{exclusion:"[360]",is_queryable:!0,metadata_id:"9cef87ab-e423-4ea8-9f31-3b1473f05bfe",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_3G_vitesse_max",imageType:"image/png",childLayers:[{name:"ilr_technologie_3G_vitesse_max__110"}]},{id:2387,name:"ilr_technologie_3G_orange",metadata:{exclusion:"[360]",metadata_id:"b7d64c10-a1be-4afc-9a70-686fd2cc4c02",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_3G_orange",imageType:"image/png",childLayers:[{name:"ilr_technologie_3G_orange__4"}]}],metadata:{},mixed:!0},{id:2368,name:"ilr_technologie_2G",children:[{id:2392,name:"ilr_technologie_2G_vitesse_max",metadata:{exclusion:"[360]",is_queryable:!0,metadata_id:"f5c6ed13-5ab1-4980-8b57-e247b0f57d88",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_2G_vitesse_max",imageType:"image/png",childLayers:[{name:"ilr_technologie_2G_vitesse_max__77"}]},{id:2390,name:"ilr_technologie_2G_post",metadata:{exclusion:"[360]",metadata_id:"cc98e250-ab5a-4a1b-9dc8-2ffc689477ad",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_2G_post",imageType:"image/png",childLayers:[{name:"ilr_technologie_2G_post__76"}]},{id:2389,name:"ilr_technologie_2G_proximus",metadata:{exclusion:"[360]",metadata_id:"c93f8596-313f-4068-ad4f-0f0b11a92853",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_2G_proximus",imageType:"image/png",childLayers:[{name:"ilr_technologie_2G_proximus__46"}]},{id:2388,name:"ilr_technologie_2G_orange",metadata:{exclusion:"[360]",metadata_id:"4829085e-21b1-4c5c-945e-f731e812e29e",start_opacity:.8},dimensions:{},type:"WMS",layers:"ilr_technologie_2G_orange",imageType:"image/png",childLayers:[{name:"ilr_technologie_2G_orange__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2438,name:"seveso_group",children:[{id:798,name:"seveso",metadata:{is_queryable:!0,legend_name:"seveso",metadata_id:"b9ab14d8-4e51-4146-b019-3937715a8fe8"},dimensions:{},type:"WMS",layers:"seveso",imageType:"image/png",style:"default",childLayers:[{name:"seveso__POI"}]}],metadata:{},mixed:!0},{id:2276,name:"radio_group",children:[{id:2275,name:"smc_radio_haute_puissance",metadata:{is_queryable:!0,legend_name:"smc_radio",metadata_id:"ebfdb83f-dbc6-44fb-973d-5a782eed32e2"},dimensions:{},type:"WMS",layers:"2275",imageType:"image/png",style:"default",childLayers:[{name:"smc_radio_haute_puissance__POI"}]},{id:2278,name:"smc_radio_reseau_emission",metadata:{is_queryable:!0,legend_name:"smc_radio",metadata_id:"ebfdb83f-dbc6-44fb-973d-5a782eed32e2"},dimensions:{},type:"WMS",layers:"2278",imageType:"image/png",style:"default",childLayers:[{name:"smc_radio_reseau_emission__POI"}]},{id:2277,name:"smc_radio_locale",metadata:{is_queryable:!0,legend_name:"smc_radio",metadata_id:"ebfdb83f-dbc6-44fb-973d-5a782eed32e2"},dimensions:{},type:"WMS",layers:"2277",imageType:"image/png",style:"default",childLayers:[{name:"smc_radio_locale__POI"}]}],metadata:{},mixed:!0},{id:1832,name:"sante_group",children:[{id:1810,name:"sante_covid_altersheemer",metadata:{is_queryable:!0,legend_name:"structures_acceuil",metadata_id:"0019f21d-e492-42ce-83a9-f4212c43e2c6",start_opacity:.9},dimensions:{},type:"WMS",layers:"1810",imageType:"image/png",style:"default",childLayers:[{name:"sante_covid_altersheemer__POI"}]},{id:2004,name:"pharmacies",metadata:{is_queryable:!0,legend_name:"pharmacies",metadata_id:"4fed0407-cb2b-4c75-982a-e96f926d6b0d"},dimensions:{},type:"WMS",layers:"2004",imageType:"image/png",style:"default",childLayers:[{name:"pharmacies__POI"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:324,name:"oberflachendarstellung",children:[{id:178,name:"luft_und_satellitenbilder",children:[{id:2592,name:"act_ortho_time",metadata:{exclusion:'["exclusion_ortho2022","exclusion_ortho2022_bati"]',metadata_id:"1adb95b0-d0a5-4afa-936a-c9faa9edba2c",time_config:'{"default_time":"2023-08","time_links":{"2001-08":"ortho_2001","2004-08":"ortho_2004","2007-08":"ortho_2007","2010-08":"ortho_2010","2013-08":"ortho_2013","2016-08":"ortho_2016","2017-08":"ortho_2017","2018-08":"ortho_2018","2019-01":"ortho_2019_winter","2019-08":"ortho_2019","2020-08":"ortho_2020","2021-08":"ortho_2021","2022-08":"ortho_2022","2023-08":"ortho_2023"}}',time_layers:{"2001-08-01T00:00:00Z":"ortho_2001","2004-08-01T00:00:00Z":"ortho_2004","2007-08-01T00:00:00Z":"ortho_2007","2010-08-01T00:00:00Z":"ortho_2010","2013-08-01T00:00:00Z":"ortho_2013","2016-08-01T00:00:00Z":"ortho_2016","2017-08-01T00:00:00Z":"ortho_2017","2018-08-01T00:00:00Z":"ortho_2018","2019-01-01T00:00:00Z":"ortho_2019_winter","2019-08-01T00:00:00Z":"ortho_2019","2020-08-01T00:00:00Z":"ortho_2020","2021-08-01T00:00:00Z":"ortho_2021","2022-08-01T00:00:00Z":"ortho_2022","2023-08-01T00:00:00Z":"ortho_2023"}},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"act_ortho_time",imageType:"image/jpeg",time:{minValue:"2001-08-01T00:00:00Z",maxValue:"2023-08-01T00:00:00Z",values:["2001-08-01T00:00:00Z","2004-08-01T00:00:00Z","2007-08-01T00:00:00Z","2010-08-01T00:00:00Z","2013-08-01T00:00:00Z","2016-08-01T00:00:00Z","2017-08-01T00:00:00Z","2018-08-01T00:00:00Z","2019-01-01T00:00:00Z","2019-08-01T00:00:00Z","2020-08-01T00:00:00Z","2021-08-01T00:00:00Z","2022-08-01T00:00:00Z","2023-08-01T00:00:00Z"],resolution:"month",minDefValue:"2023-08-01T00:00:00Z",maxDefValue:null,mode:"value",widget:"slider"}},{id:2792,name:"ortho_2023",metadata:{exclusion:'["exclusion_ortho2023","exclusion_ortho2023_bati"]',metadata_id:"742d2a2e-eb7a-4a0b-a6d8-00d70831ef04"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2023",imageType:"image/jpeg"},{id:2537,name:"ortho_2022",metadata:{exclusion:'["exclusion_ortho2022","exclusion_ortho2022_bati"]',metadata_id:"63f18835-55ac-448c-a0ea-dc998933077b"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2022",imageType:"image/jpeg"},{id:2272,name:"ortho_2021",metadata:{exclusion:"[121,221]",metadata_id:"ea0bd2ff-b743-4f3a-bd9b-450976563de9"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2021",imageType:"image/jpeg"},{id:2056,name:"ortho_2020",metadata:{exclusion:"[119,219]",metadata_id:"87870b8a-10a1-4c33-bf50-7efe851fd450"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2020",imageType:"image/jpeg"},{id:1784,name:"ortho_2019",metadata:{exclusion:"[116,216]",metadata_id:"97c88ef6-6c64-4cb0-a134-06bb42b2b448"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2019",imageType:"image/jpeg"},{id:1789,name:"ortho_2019_winter",metadata:{exclusion:"[118,218]",metadata_id:"d6cc500f-b802-4be2-a49c-73f3eb2d131e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2019_winter",imageType:"image/jpeg"},{id:1527,name:"ortho_2018",metadata:{exclusion:"[113,213]",metadata_id:"6fde72c4-802f-4663-be74-5fa5901cb4f0"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2018",imageType:"image/jpeg"},{id:1371,name:"ortho_2017",metadata:{exclusion:"[111,211]",metadata_id:"1cdae616-1a7a-49d5-b35d-05864891641f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2017",imageType:"image/jpeg"},{id:745,name:"ortho_2016",metadata:{exclusion:"[107,207]",metadata_id:"bba79b6d-4205-4ce4-98e4-7b7922afcd55"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2016",imageType:"image/jpeg"},{id:360,name:"ortho_2013",metadata:{exclusion:"[106,206]",metadata_id:"ced4a3dd-135e-43d0-86b9-2318982581f7"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2013",imageType:"image/jpeg"},{id:342,name:"ortho_2010",metadata:{exclusion:"[105,205]",metadata_id:"0faf4bdb-a54b-42d7-942c-4e52fa66e963"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2010",imageType:"image/jpeg"},{id:231,name:"ortho_2007",metadata:{exclusion:"[101,201]",metadata_id:"3be3d98e-7997-4ff6-8d77-e393a5fc4fdd"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2007",imageType:"image/jpeg"},{id:224,name:"ortho_2004",metadata:{exclusion:"[103,203]",metadata_id:"a185f78a-ca9c-43f8-8d06-b1abba8ff056"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2004",imageType:"image/jpeg"},{id:225,name:"ortho_2001",metadata:{exclusion:"[104,204]",metadata_id:"e6ff269c-1c7c-401f-a90b-b805e80a046e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2001",imageType:"image/jpeg"},{id:2787,name:"ortho_1967",metadata:{metadata_id:"9be42a5c-7a6f-46b5-8815-8adb17e6aff6"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_1967",imageType:"image/jpeg"},{id:345,name:"topo_decoupage_ortho",metadata:{is_queryable:!0,metadata_id:"3a35eb1a-9eaa-4f90-927f-2891d5e865f7"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_decoupage_ortho",imageType:"image/png"},{id:292,name:"wg_ikonos_satellitendaten",metadata:{legend_name:"wg:ikonos_satellitendaten",metadata_id:"db0eea79-114a-4e61-a1f2-7e064f92cdd3"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"wg_ikonos_satellitendaten",imageType:"image/png"},{id:341,name:"aero_1951_10k",metadata:{is_queryable:!0,metadata_id:"16586649-8e46-4b04-b75c-5537a4bf214e"},dimensions:{},type:"WMS",layers:"aero_1951_10k",imageType:"image/png",style:"default",childLayers:[{name:"aero_1951_10k__1951_10k"}]},{id:229,name:"aero_1951_25k",metadata:{is_queryable:!0,metadata_id:"b3b5fc05-323c-4f0b-804c-a4c186d62a96"},dimensions:{},type:"WMS",layers:"aero_1951_25k",imageType:"image/png",style:"default",childLayers:[{name:"aero_1951_25k__1951_25k"}]},{id:140,name:"aero_1963_20k",metadata:{is_queryable:!0,metadata_id:"56b65f04-d3ab-45b6-9e93-95c8c9524c3e"},dimensions:{},type:"WMS",layers:"aero_1963_20k",imageType:"image/png",style:"default",childLayers:[{name:"aero_1963_20k__1963_20k"}]},{id:665,name:"aero_1977_30k",metadata:{is_queryable:!0,metadata_id:"d9dd951e-7345-4ba2-9a76-ce54305edf2f"},dimensions:{},type:"WMS",layers:"aero_1977_30k",imageType:"image/png",style:"default",childLayers:[{name:"aero_1977_30k__1977_30k"}]},{id:743,name:"aero_1987_30k",metadata:{is_queryable:!0,metadata_id:"98b63794-8cb1-42ff-9872-214f990ec8cd"},dimensions:{},type:"WMS",layers:"aero_1987_30k",imageType:"image/png",style:"defaults",childLayers:[{name:"aero_1987_30k__1987_30k"}]},{id:748,name:"aero_1994_30k",metadata:{is_queryable:!0,metadata_id:"abf7f6f5-8647-4317-98f6-8d4f5cd38585"},dimensions:{},type:"WMS",layers:"aero_1994_30k",imageType:"image/png",style:"defaults",childLayers:[{name:"aero_1994_30k__1994_30k"}]},{id:790,name:"Orthophotos Infrarouge",children:[{id:2835,name:"ortho2023_IR",metadata:{exclusion:'["exclusion_ortho2023IR","exclusion_ortho2023IR_bati"]',metadata_id:"3bb6099a-67f2-4243-b820-ffaeb03e439b"},dimensions:{},type:"WMS",layers:"ortho2023_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2023_IR__0"}]},{id:2595,name:"ortho2022_IR",metadata:{exclusion:'["exclusion_ortho2022IR","exclusion_ortho2022IR_bati"]',metadata_id:"c58ceaa0-d36d-4edf-ab68-ed1040bea10c"},dimensions:{},type:"WMS",layers:"ortho2022_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2022_IR__0"}]},{id:2283,name:"ortho2021_IR",metadata:{exclusion:"[122,222]",metadata_id:"067dc519-f507-45db-8e7a-f3ccc9125bc5"},dimensions:{},type:"WMS",layers:"ortho2021_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2021_IR__3"},{name:"ortho2021_IR__2"},{name:"ortho2021_IR__1"},{name:"ortho2021_IR__0"}]},{id:2089,name:"ortho2020_IR",metadata:{exclusion:"[120,220]",metadata_id:"134fb490-c022-476d-b484-dc652ae8c626"},dimensions:{},type:"WMS",layers:"ortho2020_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2020_IR__4"},{name:"ortho2020_IR__3"},{name:"ortho2020_IR__2"},{name:"ortho2020_IR__1"}]},{id:1785,name:"ortho2019_IR",metadata:{exclusion:"[117,217]",metadata_id:"3dfd031a-1721-4f35-b358-25062d5d4c26"},dimensions:{},type:"WMS",layers:"ortho2019_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2019_IR__9"},{name:"ortho2019_IR__8"},{name:"ortho2019_IR__7"},{name:"ortho2019_IR__6"}]},{id:1529,name:"ortho2018_IR",metadata:{exclusion:"[114,214]",metadata_id:"2edf6bcb-2a1c-4b8c-8488-56000133abb4"},dimensions:{},type:"WMS",layers:"ortho2018_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2018_IR__14"},{name:"ortho2018_IR__13"},{name:"ortho2018_IR__12"},{name:"ortho2018_IR__11"}]},{id:1372,name:"ortho_2017_irc",metadata:{exclusion:"[112,212]",metadata_id:"659a3236-a22e-44ae-9fa3-025cdf5d0043"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2017_irc",imageType:"image/jpeg"},{id:793,name:"ortho_2016_irc",metadata:{exclusion:"[110,210]",is_queryable:!0,metadata_id:"c313da75-7d8b-4570-9db5-bb6add56309e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2016_irc",imageType:"image/jpeg"},{id:792,name:"ortho_2013_irc",metadata:{exclusion:"[109,209]",is_queryable:!0,metadata_id:"649b34a1-a195-40b4-81c9-0100343b9661"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2013_irc",imageType:"image/jpeg"},{id:791,name:"ortho_2010_irc",metadata:{exclusion:"[108,208]",is_queryable:!0,metadata_id:"728ffc2a-9062-4822-8596-01f0e93f6b40"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2010_irc",imageType:"image/jpeg"}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:161,name:"env_obs",children:[{id:1963,name:"env_couverture_sol",children:[{id:1951,name:"LISL_Landcover_2018",metadata:{is_queryable:!0,legend_name:"lisl:lc2018",metadata_id:"6142a6a6-9356-47ac-babe-eaa2ae3628b6"},dimensions:{},type:"WMS",layers:"LISL_Landcover_2018",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landcover_2018__0"},{name:"LISL_Landcover_2018__1"}]},{id:1950,name:"LISL_Landcover_2015_v2",metadata:{is_queryable:!0,legend_name:"lisl:lc2015_2",metadata_id:"67f4ecb8-5d4b-4a9e-a60b-239fc92b25a7"},dimensions:{},type:"WMS",layers:"LISL_Landcover_2015_v2",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landcover_2015_v2__0"},{name:"LISL_Landcover_2015_v2__1"}]},{id:2714,name:"LISL_Landcover_2021",metadata:{is_queryable:!0,legend_name:"lisl:lc2018",metadata_id:"e7afeac8-c649-4c91-ab15-ea40b8986ebc"},dimensions:{},type:"WMS",layers:"LISL_Landcover_2021",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landcover_2021__0"},{name:"LISL_Landcover_2021__4"}]}],metadata:{},mixed:!0},{id:1964,name:"env_utilisation_sol",children:[{id:1970,name:"LISL_Landuse_2018",metadata:{is_queryable:!0,legend_name:"lisl_landuse_2018",metadata_id:"e4572e0b-1b40-4834-b6c3-ccab83f75f57"},dimensions:{},type:"WMS",layers:"LISL_Landuse_2018",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landuse_2018__0"}]},{id:2054,name:"LISL_Landuse_2015_v3",metadata:{is_queryable:!0,legend_name:"lisl_landuse_2015_v3",metadata_id:"65e04718-1890-4c5e-8be7-08a73f69c0cc"},dimensions:{},type:"WMS",layers:"LISL_Landuse_2015_v3",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landuse_2015_v3__0"}]},{id:1969,name:"LISL_Landuse_2007",metadata:{is_queryable:!0,legend_name:"lisl_landuse_2007",metadata_id:"257556b9-560b-4193-b773-e16a9137a690"},dimensions:{},type:"WMS",layers:"LISL_Landuse_2007",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landuse_2007__0"}]}],metadata:{},mixed:!0},{id:1965,name:"env_impermeabilisation",children:[{id:1952,name:"LISL_taux_impermeabilisation_2018",metadata:{is_queryable:!0,legend_name:"lisl_taux_impermeabilisation_2018",metadata_id:"5b40c571-dd3c-4e76-8f4f-b54746799688"},dimensions:{},type:"WMS",layers:"LISL_taux_impermeabilisation_2018",imageType:"image/png",style:"default",childLayers:[{name:"LISL_taux_impermeabilisation_2018__0"},{name:"LISL_taux_impermeabilisation_2018__1"}]},{id:2216,name:"at_impermeabilisation_grid_2018_100m",metadata:{is_queryable:!0,legend_name:"at:impermeabilisation_grid_2018_100m",metadata_id:"210db74a-e33a-401b-9e17-2cd966cdcd1f"},dimensions:{},type:"WMS",layers:"at_impermeabilisation_grid_2018_100m",imageType:"image/png",style:"default",childLayers:[{name:"at_impermeabilisation_grid_2018_100m__0"}]},{id:2215,name:"at_impermeabilisation_grid_2018_1km",metadata:{is_queryable:!0,legend_name:"at:impermeabilisation_grid_2018_1km",metadata_id:"8dc777d0-f910-4c69-a476-85a73dcd8474"},dimensions:{},type:"WMS",layers:"at_impermeabilisation_grid_2018_1km",imageType:"image/png",style:"default",childLayers:[{name:"at_impermeabilisation_grid_2018_1km__0"}]}],metadata:{},mixed:!0},{id:2212,name:"at_batiments_group",children:[{id:2214,name:"at_batiments_periode_construction",metadata:{is_queryable:!0,legend_name:"at:periode_construction_batiments",metadata_id:"7c138282-86de-4adb-91c2-467b06786821"},dimensions:{},type:"WMS",layers:"at_batiments_periode_construction",imageType:"image/png",style:"default",childLayers:[{name:"at_batiments_periode_construction__0"}]}],metadata:{},mixed:!0},{id:1966,name:"env_occupation_biophysique",children:[{id:215,name:"env_obs2007",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"bd672300-0851-4901-82c4-6099aff1fcf7"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_obs2007",imageType:"image/png"},{id:163,name:"env_obs1999",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"b4836d86-2803-4dcf-a991-7e78ab9c41b6"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_obs1999",imageType:"image/png"}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:416,name:"map_morphometrie",children:[{id:415,name:"wg_hohenlinien_10m_map",metadata:{is_queryable:!0,legend_name:"wg:hohenlinien_10m",metadata_id:"012801f3-5d2b-4ab7-ae58-1da1b3256390"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"wg_hohenlinien_10m_map",imageType:"image/png"},{id:2311,name:"act_hillshade_2019",metadata:{is_queryable:!0,metadata_id:"8171b99e-df8b-4cf0-af36-f77c222e1690"},dimensions:{},type:"WMS",layers:"act_hillshade_2019",imageType:"image/png",style:"default",childLayers:[{name:"act_hillshade_2019__3"}]},{id:1461,name:"wg_hangneigung_map",metadata:{legend_name:"wg:hangneigung",metadata_id:"6ffa94a4-af02-43ec-82e0-6796cd01a948"},dimensions:{},type:"WMS",layers:"wg_hangneigung_map",imageType:"image/png",style:"default",childLayers:[{name:"wg_hangneigung_map__0"}]},{id:1462,name:"wg_exposition_map",metadata:{legend_name:"wg:exposition",metadata_id:"7a42e4c5-6f3c-45ea-a909-3f8f28874fde"},dimensions:{},type:"WMS",layers:"wg_exposition_map",imageType:"image/png",style:"default",childLayers:[{name:"wg_exposition_map__0"}]},{id:1460,name:"wg_relief_map",metadata:{metadata_id:"7d195815-23c2-4963-863c-60e3a39ab8af"},dimensions:{},type:"WMS",layers:"wg_relief_map",imageType:"image/png",style:"default",childLayers:[{name:"wg_relief_map__0"}]}],metadata:{},mixed:!0},{id:1380,name:"lidar_group",children:[{id:1792,name:"act_lidar_2019_group",children:[{id:1753,name:"lidar_2019_mns",metadata:{legend_name:"lidar:mns2019",metadata_id:"d7bd80d7-23de-462f-bd3e-6bd863e1fc1d"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"lidar_2019_mns",imageType:"image/png"},{id:1752,name:"lidar_2019_mnt",metadata:{legend_name:"lidar:mnt2019",metadata_id:"30577c48-b240-4f69-8431-e35ecaa85ebc"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"lidar_2019_mnt",imageType:"image/png"},{id:2188,name:"act_mnt_2019_coloration_alternative_Lux",metadata:{is_queryable:!0,metadata_id:"faf3a8e8-6f3a-424a-9bee-945e99d544dd"},dimensions:{},type:"WMS",layers:"act_mnt_2019_coloration_alternative_Lux",imageType:"image/png",style:"default",childLayers:[{name:"act_mnt_2019_coloration_alternative_Lux__0"}]},{id:2187,name:"act_mnt2017_GR",metadata:{is_queryable:!0,metadata_id:"b5bad4e6-b6cf-45f4-a543-da619b07f567"},dimensions:{},type:"WMS",layers:"act_mnt2017_GR",imageType:"image/png",style:"default",childLayers:[{name:"act_mnt2017_GR__1"}]},{id:1789,name:"ortho_2019_winter",metadata:{exclusion:"[118,218]",metadata_id:"d6cc500f-b802-4be2-a49c-73f3eb2d131e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2019_winter",imageType:"image/jpeg"},{id:1788,name:"lidar_tiles_2019",metadata:{is_queryable:!0,metadata_id:"b19a500a-b8d5-4a87-a8f3-00f58c3dffcd",start_opacity:.7},dimensions:{},type:"WMS",layers:"lidar_tiles_2019",imageType:"image/png",style:"default",childLayers:[{name:"lidar_tiles_2019__3"},{name:"lidar_tiles_2019__2"}]}],metadata:{},mixed:!0},{id:1791,name:"act_lidar_2017_group",children:[{id:1377,name:"lidar_mns",metadata:{legend_name:"lidar:mns2017",metadata_id:"e7184a37-7a6a-4e07-ae8d-ff06d9969da0"},dimensions:{},type:"WMS",layers:"lidar_mns",imageType:"image/png",style:"default",childLayers:[{name:"lidar_mns__0"}]},{id:1378,name:"lidar_mnt",metadata:{legend_name:"lidar:mnt2017",metadata_id:"1adab94e-d80a-4e19-a808-28f52f633186"},dimensions:{},type:"WMS",layers:"lidar_mnt",imageType:"image/png",style:"default",childLayers:[{name:"lidar_mnt__0"}]},{id:1463,name:"lidar_mnh",metadata:{legend_name:"lidar:mnh",metadata_id:"5f189f5b-08f9-4abc-b3f0-78c37ddf0db1"},dimensions:{},type:"WMS",layers:"lidar_mnh",imageType:"image/png",style:"default",childLayers:[{name:"lidar_mnh__0"}]},{id:1787,name:"lidar_tiles_2017",metadata:{is_queryable:!0,metadata_id:"3c565aff-7394-4d51-915c-0e06dde7765a",start_opacity:.7},dimensions:{},type:"WMS",layers:"lidar_tiles_2017",imageType:"image/png",style:"default",childLayers:[{name:"lidar_tiles_2017__1"},{name:"lidar_tiles_2017__0"}]}],metadata:{},mixed:!0},{id:2470,name:"act_lidar_derivates",children:[{id:2401,name:"act_ponts",metadata:{is_queryable:!0,metadata_id:"2b7d36db-987f-49b4-96d7-60e934ddf926"},dimensions:{},type:"WMS",layers:"act_ponts",imageType:"image/png",childLayers:[{name:"act_ponts__0"},{name:"act_ponts__1"},{name:"act_ponts__2"}]},{id:1752,name:"lidar_2019_mnt",metadata:{legend_name:"lidar:mnt2019",metadata_id:"30577c48-b240-4f69-8431-e35ecaa85ebc"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"lidar_2019_mnt",imageType:"image/png"},{id:1753,name:"lidar_2019_mns",metadata:{legend_name:"lidar:mns2019",metadata_id:"d7bd80d7-23de-462f-bd3e-6bd863e1fc1d"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"lidar_2019_mns",imageType:"image/png"},{id:2311,name:"act_hillshade_2019",metadata:{is_queryable:!0,metadata_id:"8171b99e-df8b-4cf0-af36-f77c222e1690"},dimensions:{},type:"WMS",layers:"act_hillshade_2019",imageType:"image/png",style:"default",childLayers:[{name:"act_hillshade_2019__3"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:484,name:"eau_new_Hydrografie",children:[{id:450,name:"eau_new_Gewaessernetz",children:[{id:749,name:"eau_new_Gewässer",metadata:{geocatalog_open_data_last_update_date:"2024-10-04T01:04:10.2318338",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"57ece2a1cc765e1a24228124",is_queryable:!0,legend_name:"eau:primaere_gewaesser_sekundaere_gewaesser_temporaer_fliessende_baeche",metadata_id:"9da34ec3-89d5-4731-b927-e38ed8088571"},dimensions:{},type:"WMS",layers:"eau_new_Gewässer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Gewässer__23"},{name:"eau_new_Gewässer__24"},{name:"eau_new_Gewässer__25"}]},{id:651,name:"eau_new_Kanal_-__Muehlgraben",metadata:{is_queryable:!0,legend_name:"eau:kanal_-__muehlgraben",max_dpi:128,metadata_id:"909501fc-a0a9-4af8-8e82-f2a8d7f2fe2f"},dimensions:{},type:"WMS",layers:"eau_new_Kanal_-__Muehlgraben",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Kanal_-__Muehlgraben__26"}]},{id:750,name:"eau_new_Kilometrierung der Gewässer",metadata:{legend_name:"eau:kilometrierung_primaere_gewaesser_kilometrierung_sekundaere_gewaesser",metadata_id:"4002b1cf-08b5-421a-bc92-40271d62f03c"},dimensions:{},type:"WMS",layers:"eau_new_Kilometrierung der Gewässer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Kilometrierung der Gewässer__27"},{name:"eau_new_Kilometrierung der Gewässer__28"}]},{id:636,name:"eau_new_Einzugsgebiete",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:11.8156287",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ecb010cc765e17f1820811",is_queryable:!0,legend_name:"eau:einzugsgebiete",max_dpi:128,metadata_id:"a295a30a-f819-400c-842c-d0ccc695bea5"},dimensions:{},type:"WMS",layers:"eau_new_Einzugsgebiete",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Einzugsgebiete__29"}]},{id:569,name:"eau_new_Stausee_Sauer",metadata:{geocatalog_open_data_last_update_date:"2024-06-01T01:05:09.6659471",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ece210cc765e1a2422811f",is_queryable:!0,legend_name:"eau:stausee_sauer",max_dpi:128,metadata_id:"119ad2e3-b44f-4777-883d-d2d522bafeca"},dimensions:{},type:"WMS",layers:"eau_new_Stausee_Sauer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Stausee_Sauer__30"}]}],metadata:{},mixed:!0},{id:451,name:"eau_new_Fischerei",children:[{id:626,name:"eau_new_Fischereiabschnitte",metadata:{geocatalog_open_data_last_update_date:"2024-09-11T01:02:43.2828183",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ecb079111e9b02db9a6ece",is_queryable:!0,legend_name:"eau:fischereiabschnitte",max_dpi:128,metadata_id:"bd6be85a-cec4-4e4d-9657-cffa242db28f"},dimensions:{},type:"WMS",layers:"eau_new_Fischereiabschnitte",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Fischereiabschnitte__37"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:187,name:"unwelt_biologie_geologie",children:[{id:338,name:"lebensraume_une_biotope",children:[{id:146,name:"env_natura2000",children:[{id:1915,name:"anf_communes_copil_2020",metadata:{is_queryable:!0,metadata_id:"e0369dfa-0219-4a60-84c4-4ce60cec0a02"},dimensions:{},type:"WMS",layers:"anf_communes_copil_2020",imageType:"image/png",style:"default",childLayers:[{name:"anf_communes_copil_2020__COMMUNES_COPIL_2020"}]},{id:540,name:"natura2000_habitats",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"a38326c1-3d68-43da-9883-a80763ee06e9"},dimensions:{},type:"WMS",layers:"natura2000_habitats",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_habitats__1"}]},{id:533,name:"natura2000_oiseaux",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"},dimensions:{},type:"WMS",layers:"natura2000_oiseaux",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_oiseaux__0"}]}],metadata:{},mixed:!0},{id:366,name:"emwelt_biotop_kadaster",children:[{id:1367,name:"anf_biotopes_points",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_points",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_points__BIOTOPES_MO_EL_PONCTUELS_GEOPORTN"}]},{id:1368,name:"anf_biotopes_vergers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_vergers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_vergers__BIOTOPES_MO_VERGERS_GEOPORTN"}]},{id:1369,name:"anf_biotopes_surfaces",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_surfaces",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_surfaces__BIOTOPES_MO_SURFACES_GEOPORTN"}]},{id:1370,name:"anf_biotopes_tampons",metadata:{is_queryable:!0,legend_name:"env:btk_b",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_tampons",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_tampons__BIOTOPES_MO_ZONES_TAMPONS"}]},{id:2472,name:"anf_biotopes_forestiers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"18698bbe-4d55-42b8-baca-62cab9705b5f"},dimensions:{},type:"WMS",layers:"anf_biotopes_forestiers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_forestiers__BIOTOPES_MILIEU_FERME_GEOPORTN"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:335,name:"weinbau",children:[{id:297,name:"ivv_flik_parcels",metadata:{is_queryable:!0,metadata_id:"884ed54c-3b36-417e-b44b-ed7f3283302c"},dimensions:{},type:"WMS",layers:"ivv_flik_parcels",imageType:"image/png",style:"default",childLayers:[{name:"ivv_flik_parcels__0"}]},{id:510,name:"ivv_parcels",metadata:{is_queryable:!0,metadata_id:"7d372c69-4144-43bf-9622-70dcdc7bbf0b"},dimensions:{},type:"WMS",layers:"ivv_parcels",imageType:"image/png",style:"default",childLayers:[{name:"ivv_parcels__0"}]},{id:175,name:"ivv_grosslagen",metadata:{is_queryable:!0,metadata_id:"89274b7e-4742-4673-b254-9105a4a066b7",start_opacity:.5},dimensions:{},type:"WMS",layers:"ivv_grosslagen",imageType:"image/png",style:"default",childLayers:[{name:"ivv_grosslagen__lagen"},{name:"ivv_grosslagen__lagen_labels"}]},{id:240,name:"ivv_kleinlagen",metadata:{is_queryable:!0,metadata_id:"a040071a-3a72-4d69-93e0-c06d4d4c3bd1"},dimensions:{},type:"WMS",layers:"ivv_kleinlagen",imageType:"image/png",style:"default",childLayers:[{name:"ivv_kleinlagen__0"}]},{id:221,name:"ivv_klimakarte",metadata:{is_queryable:!0,legend_name:"ivv_klimakarte",metadata_id:"6d989c64-998c-499f-a196-1032e9470666",start_opacity:.5},dimensions:{},type:"WMS",layers:"ivv_klimakarte",imageType:"image/png",style:"default",childLayers:[{name:"ivv_klimakarte__klimakarte"}]},{id:2799,name:"IVV_MonESCA",children:[{id:2800,name:"IVV_MonESCA_Bonitur",children:[{id:2798,name:"ivv_bonitur_remich_2019",metadata:{metadata_id:"ece93d8a-df79-434f-a8af-6ba2e6e2b90e"},dimensions:{},type:"WMS",layers:"ivv_bonitur_remich_2019",imageType:"image/png",style:"default",childLayers:[{name:"ivv_bonitur_remich_2019__18"}]},{id:2801,name:"ivv_bonitur_remich_2020",metadata:{metadata_id:"99601a0c-3820-4f1c-93d8-4c2fac3634cd"},dimensions:{},type:"WMS",layers:"ivv_bonitur_remich_2020",imageType:"image/png",style:"default",childLayers:[{name:"ivv_bonitur_remich_2020__19"}]},{id:2802,name:"ivv_bonitur_remich_2021",metadata:{metadata_id:"4cdd8990-d1e3-462f-9f86-fa2bb58c791c"},dimensions:{},type:"WMS",layers:"ivv_bonitur_remich_2021",imageType:"image/png",style:"default",childLayers:[{name:"ivv_bonitur_remich_2021__20"}]},{id:2803,name:"ivv_bonitur_remich_2022",metadata:{metadata_id:"331fb74f-2bb9-4510-8a1d-c69271987b81"},dimensions:{},type:"WMS",layers:"ivv_bonitur_remich_2022",imageType:"image/png",style:"default",childLayers:[{name:"ivv_bonitur_remich_2022__21"}]},{id:2804,name:"ivv_bonitur_remich_2023",metadata:{metadata_id:"6a29aa9f-753b-40c0-9af8-db3b319c5e26"},dimensions:{},type:"WMS",layers:"ivv_bonitur_remich_2023",imageType:"image/png",style:"default",childLayers:[{name:"ivv_bonitur_remich_2023__22"}]}],metadata:{},mixed:!0},{id:2807,name:"IVV_MonESCA_Stress_Index",children:[{id:2805,name:"ivv_cwsi_remich_2023",metadata:{metadata_id:"bb0ac384-71f8-4aca-ab1f-3c99beeec690"},dimensions:{},type:"WMS",layers:"ivv_cwsi_remich_2023",imageType:"image/png",style:"default",childLayers:[{name:"ivv_cwsi_remich_2023__7"}]},{id:2806,name:"ivv_tir_remich_2023",metadata:{metadata_id:"95663e4b-2802-4862-b611-9b338df9bc41"},dimensions:{},type:"WMS",layers:"ivv_tir_remich_2023",imageType:"image/png",style:"default",childLayers:[{name:"ivv_tir_remich_2023__8"}]}],metadata:{},mixed:!0},{id:2808,name:"IVV_MonESCA_NDVI",children:[{id:2814,name:"ivv_ndvi_2019_09_03",metadata:{metadata_id:"7b33e77b-3d60-41cd-98af-92c1e28973fa"},dimensions:{},type:"WMS",layers:"ivv_ndvi_2019_09_03",imageType:"image/png",style:"default",childLayers:[{name:"ivv_ndvi_2019_09_03__10"}]},{id:2815,name:"ivv_ndvi_2020_07_30",metadata:{metadata_id:"0f5b69ec-5d97-470a-8992-4e5654939208"},dimensions:{},type:"WMS",layers:"ivv_ndvi_2020_07_30",imageType:"image/png",style:"default",childLayers:[{name:"ivv_ndvi_2020_07_30__11"}]},{id:2816,name:"ivv_ndvi_2020_09_08",metadata:{metadata_id:"cde967b0-724d-46b9-a13a-05fe890d394a"},dimensions:{},type:"WMS",layers:"ivv_ndvi_2020_09_08",imageType:"image/png",style:"default",childLayers:[{name:"ivv_ndvi_2020_09_08__12"}]},{id:2817,name:"ivv_ndvi_2021_09_13",metadata:{metadata_id:"e58a2ef8-0c13-4203-b4d8-835f04a07401"},dimensions:{},type:"WMS",layers:"ivv_ndvi_2021_09_13",imageType:"image/png",style:"default",childLayers:[{name:"ivv_ndvi_2021_09_13__13"}]},{id:2818,name:"ivv_ndvi_2022_08_29",metadata:{metadata_id:"80c0415d-f233-4111-846f-b11b6c3f31ed"},dimensions:{},type:"WMS",layers:"ivv_ndvi_2022_08_29",imageType:"image/png",style:"default",childLayers:[{name:"ivv_ndvi_2022_08_29__14"}]},{id:2819,name:"ivv_ndvi_2023_08_22",metadata:{metadata_id:"7e1866c7-def5-4874-a5ad-71cd69c8e970"},dimensions:{},type:"WMS",layers:"ivv_ndvi_2023_08_22",imageType:"image/png",style:"default",childLayers:[{name:"ivv_ndvi_2023_08_22__15"}]},{id:2820,name:"ivv_ndvi_2023_08_23",metadata:{metadata_id:"7925907a-08ce-48ed-bb84-5b3cb6bfe5b5"},dimensions:{},type:"WMS",layers:"ivv_ndvi_2023_08_23",imageType:"image/png",style:"default",childLayers:[{name:"ivv_ndvi_2023_08_23__16"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:233,name:"geologie_",children:[{id:2167,name:"geo_carte_geol_harmonisee",metadata:{is_queryable:!0,legend_name:"geol:geologie_harmonisee",metadata_id:"542a0caa-4b33-4019-8ce7-b8541b436106"},dimensions:{},type:"WMS",layers:"geo_carte_geol_harmonisee",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_geol_harmonisee__6"},{name:"geo_carte_geol_harmonisee__1"},{name:"geo_carte_geol_harmonisee__2"},{name:"geo_carte_geol_harmonisee__3"}]},{id:2168,name:"geo_carte_geol_harmonisee_decouverte",metadata:{is_queryable:!0,legend_name:"geol:geologie_harmonisee_decouverte",metadata_id:"d03be720-e33c-4bd4-8829-559dc951dc2d"},dimensions:{},type:"WMS",layers:"geo_carte_geol_harmonisee_decouverte",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_geol_harmonisee_decouverte__5"},{name:"geo_carte_geol_harmonisee_decouverte__1"},{name:"geo_carte_geol_harmonisee_decouverte__2"},{name:"geo_carte_geol_harmonisee_decouverte__3"}]},{id:2169,name:"geo_carte_geol_simplifiee",metadata:{is_queryable:!0,legend_name:"geol:geologie_simplifiee",metadata_id:"d5235bf1-96c8-4fc8-8d6d-2a0cde246aad"},dimensions:{},type:"WMS",layers:"geo_carte_geol_simplifiee",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_geol_simplifiee__2"},{name:"geo_carte_geol_simplifiee__1"},{name:"geo_carte_geol_simplifiee__0"}]},{id:2170,name:"geo_carte_geol_simplifiee_decouverte",metadata:{is_queryable:!0,legend_name:"geol:geologie_simplifiee_decouverte",metadata_id:"d8d627ee-ec11-4054-8a05-f4cd98adbd72"},dimensions:{},type:"WMS",layers:"geo_carte_geol_simplifiee_decouverte",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_geol_simplifiee_decouverte__0"},{name:"geo_carte_geol_simplifiee_decouverte__2"}]},{id:2173,name:"geo_coupes_geologiques",metadata:{is_queryable:!0,legend_name:"geol:coupes_geologiques",metadata_id:"8a35490a-8dc8-4dfd-9136-edfdd6d08281"},dimensions:{},type:"WMS",layers:"geo_coupes_geologiques",imageType:"image/png",style:"default",childLayers:[{name:"geo_coupes_geologiques__0"}]},{id:2175,name:"geo_epaisseurs_unites",metadata:{is_queryable:!0,legend_name:"geol:epaisseurs_unites",metadata_id:"3fab8010-2f8b-43e2-96a7-155a24233db4"},dimensions:{},type:"WMS",layers:"geo_epaisseurs_unites",imageType:"image/png",style:"default",childLayers:[{name:"geo_epaisseurs_unites__0"}]},{id:2266,name:"forages_grand_public_group",children:[{id:2176,name:"geo_forages_ref",metadata:{is_queryable:!0,legend_name:"geol:forages_ref",metadata_id:"0564eda7-c92d-4a80-b3c7-be94f5d67186"},dimensions:{},type:"WMS",layers:"geo_forages_ref",imageType:"image/png",style:"default",childLayers:[{name:"geo_forages_ref__0"}]},{id:2265,name:"eau_new_Bohrungen_grand_public",metadata:{is_queryable:!0,legend_name:"eau:bohrungen",max_dpi:128,metadata_id:"4ab49f17-a50e-4439-9a9e-01ec93421aec"},dimensions:{},type:"WMS",layers:"eau_new_Bohrungen_grand_public",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Bohrungen_grand_public__39"}]}],metadata:{},mixed:!0},{id:2267,name:"eaux_souterraines_grand_public_group",children:[{id:631,name:"eau_new_Grundwasserleiter",metadata:{geocatalog_open_data_last_update_date:"2024-06-03T01:02:35.1743465",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ecafe1cc765e18ae5ed87e",is_queryable:!0,legend_name:"eau:grundwasserleiter",max_dpi:128,metadata_id:"783a8608-e4b3-44ed-8864-68525da33760"},dimensions:{},type:"WMS",layers:"eau_new_Grundwasserleiter",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Grundwasserleiter__41"}]},{id:629,name:"eau_new_Quellen",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.4671511",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ece292cc765e1a24228123",is_queryable:!0,legend_name:"eau:quellen",max_dpi:128,metadata_id:"58fa573a-a0c3-474d-9e74-c277cf90b135"},dimensions:{},type:"WMS",layers:"eau_new_Quellen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Quellen__40"}]}],metadata:{},mixed:!0},{id:2191,name:"geo_geomorphologie_carte100K",metadata:{is_queryable:!0,legend_name:"geol:geomorphologie100k",metadata_id:"3fd5088b-021d-4207-9d4b-4040e1ccfe22"},dimensions:{},type:"WMS",layers:"geo_geomorphologie_carte100K",imageType:"image/png",style:"default",childLayers:[{name:"geo_geomorphologie_carte100K__0"}]}],metadata:{},mixed:!0},{id:321,name:"pedologie",children:[{id:272,name:"pedologie_100k",metadata:{legend_name:"pedologie",metadata_id:"2d712a34-ce79-426d-a57b-b7cadf97b80f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"pedologie_100k",imageType:"image/png"},{id:702,name:"asta_pedologie_new",metadata:{legend_name:"pedologie_new",max_dpi:128,metadata_id:"37686d89-0173-4040-88c7-be84a3648d01"},dimensions:{},type:"WMS",layers:"asta_pedologie_new",imageType:"image/png",style:"default",childLayers:[{name:"asta_pedologie_new__9"},{name:"asta_pedologie_new__10"},{name:"asta_pedologie_new__11"},{name:"asta_pedologie_new__12"},{name:"asta_pedologie_new__13"},{name:"asta_pedologie_new__14"},{name:"asta_pedologie_new__15"}]},{id:704,name:"asta_pedologie_humus",metadata:{legend_name:"asta_corg",max_dpi:128,metadata_id:"a1b0807c-9bff-4f6a-a5e7-130316742f56"},dimensions:{},type:"WMS",layers:"asta_pedologie_humus",imageType:"image/png",style:"default",childLayers:[{name:"asta_pedologie_humus__0"}]},{id:703,name:"asta_pedologie_ph",metadata:{legend_name:"asta_ph",max_dpi:128,metadata_id:"628ee73f-4c37-4689-bc4c-1fd9f6bd2663"},dimensions:{},type:"WMS",layers:"asta_pedologie_ph",imageType:"image/png",style:"default",childLayers:[{name:"asta_pedologie_ph__0"}]},{id:2408,name:"asta_erosion_group",children:[{id:2760,name:"asta_rigoles_erosion_enquete",metadata:{is_queryable:!0,metadata_id:"00c1398d-604f-4e1b-9abd-af05261d80ba"},dimensions:{},type:"WMS",layers:"asta_rigoles_erosion_enquete",imageType:"image/png",childLayers:[{name:"asta_rigoles_erosion_enquete__2"}]},{id:2407,name:"asta_erosion_2023",metadata:{is_queryable:!0,metadata_id:"427aff9b-b988-455c-8cd9-1c029cfd6b6e",start_opacity:.25},dimensions:{},type:"WMS",layers:"asta_erosion_2023",imageType:"image/png",childLayers:[{name:"asta_erosion_2023__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:486,name:"eau_new_Hochwasserrisikomanagement-Richtlinie [HWRM-RL]",children:[{id:1696,name:"eau_new_Risikogewaesser_2019_group",children:[{id:1703,name:"eau_Risikogewaesser_2019",metadata:{is_queryable:!0,legend_name:"eau:risikogewaesser_2019",metadata_id:"762cd956-9733-4855-afa7-38768a38e8a1"},dimensions:{},type:"WMS",layers:"eau_Risikogewaesser_2019",imageType:"image/png",style:"default",childLayers:[{name:"eau_Risikogewaesser_2019__16"}]}],metadata:{},mixed:!0},{id:2114,name:"eau_Hochwassergefahrenkarten_2021",children:[{id:2117,name:"eau_Hochwassergefahrenkarten_HQ10_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"153130ef-8255-4bce-bca0-d2359d277995"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ10_2021",imageType:"image/png"},{id:2118,name:"eau_Hochwassergefahrenkarten_HQ100_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cdb4137d-822f-4888-8a51-4596480970fe"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ100_2021",imageType:"image/png"},{id:2119,name:"eau_Hochwassergefahrenkarten_HQext_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cd0f52f7-7226-4748-95e0-b77025284423"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0},{id:2115,name:"eau_Hochwasserrisikokarten_2021",children:[{id:2120,name:"eau_Hochwasserrisikokarten_HQ10_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"4a428832-16cf-4861-a1da-78a1f0a8c194"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ10_2021",imageType:"image/png"},{id:2121,name:"eau_Hochwasserrisikokarten_HQ100_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"ccb959ef-0ad6-47ec-ade9-45021912353f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ100_2021",imageType:"image/png"},{id:2122,name:"eau_Hochwasserrisikokarten_HQext_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"f803b49a-336a-4bb7-acd9-5cbf508a731f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0},{id:1711,name:"eau_atlas_crues_subites",children:[{id:2045,name:"age_dangers_fortes",metadata:{legend_name:"age_dangers_fortes",metadata_id:"55dbe91c-f1e5-4c56-b0b9-4590988e23e5"},dimensions:{},type:"WMS",layers:"age_dangers_fortes",imageType:"image/png",style:"default",childLayers:[{name:"age_dangers_fortes__0"},{name:"age_dangers_fortes__1"}]},{id:2046,name:"age_risques_fortes",metadata:{legend_name:"age_risques_fortes",metadata_id:"f1d9b1cd-ad78-44df-89ac-ad591138243f"},dimensions:{},type:"WMS",layers:"age_risques_fortes",imageType:"image/png",style:"default",childLayers:[{name:"age_risques_fortes__1"},{name:"age_risques_fortes__2"},{name:"age_risques_fortes__3"},{name:"age_risques_fortes__4"},{name:"age_risques_fortes__5"}]}],metadata:{},mixed:!0},{id:461,name:"eau_new_Historische_Ueberschwemmungsgebiete",children:[{id:637,name:"eau_new_UESG_1983_-_Mosel",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.2797021",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde16111e9b03b03833be",is_queryable:!0,legend_name:"eau:uesg_1983_-_mosel",max_dpi:128,metadata_id:"e6896207-c0f9-417e-9661-119128628e8e"},dimensions:{},type:"WMS",layers:"eau_new_UESG_1983_-_Mosel",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_1983_-_Mosel__122"}]},{id:641,name:"eau_new_UESG_1993_(ausser_Mosel)",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:25.7826569",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde1e111e9b03b03833bf",is_queryable:!0,legend_name:"eau:uesg_1993_ausser_mosel",max_dpi:128,metadata_id:"78c692f3-ad20-467b-b03a-0d020a821647"},dimensions:{},type:"WMS",layers:"eau_new_UESG_1993_(ausser_Mosel)",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_1993_(ausser_Mosel)__123"}]},{id:642,name:"eau_new_UESG_Alzette_1995",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.5894792",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde26111e9b03b03833c0",is_queryable:!0,legend_name:"eau:uesg_alzette_1995",max_dpi:128,metadata_id:"aaf81780-df85-4580-a890-fded8ae03db7"},dimensions:{},type:"WMS",layers:"eau_new_UESG_Alzette_1995",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_Alzette_1995__124"}]},{id:633,name:"eau_new_UESG_Sauer_1995",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.4493603",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde30111e9b03b222c3b5",is_queryable:!0,legend_name:"eau:uesg_sauer_1995",max_dpi:128,metadata_id:"f01f7be2-0423-4571-8fff-57dd617ae632"},dimensions:{},type:"WMS",layers:"eau_new_UESG_Sauer_1995",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_Sauer_1995__125"}]},{id:2116,name:"eau_Hochwasserkarten_2021",children:[{id:2114,name:"eau_Hochwassergefahrenkarten_2021",children:[{id:2117,name:"eau_Hochwassergefahrenkarten_HQ10_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"153130ef-8255-4bce-bca0-d2359d277995"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ10_2021",imageType:"image/png"},{id:2118,name:"eau_Hochwassergefahrenkarten_HQ100_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cdb4137d-822f-4888-8a51-4596480970fe"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ100_2021",imageType:"image/png"},{id:2119,name:"eau_Hochwassergefahrenkarten_HQext_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cd0f52f7-7226-4748-95e0-b77025284423"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0},{id:2115,name:"eau_Hochwasserrisikokarten_2021",children:[{id:2120,name:"eau_Hochwasserrisikokarten_HQ10_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"4a428832-16cf-4861-a1da-78a1f0a8c194"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ10_2021",imageType:"image/png"},{id:2121,name:"eau_Hochwasserrisikokarten_HQ100_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"ccb959ef-0ad6-47ec-ade9-45021912353f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ100_2021",imageType:"image/png"},{id:2122,name:"eau_Hochwasserrisikokarten_HQext_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"f803b49a-336a-4bb7-acd9-5cbf508a731f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:463,name:"eau_new_Zusaetzliche_Informationen",children:[{id:756,name:"eau_new_Hochwasser Brennpunkte",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.8729061",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"5fd1cadde9996e5faf62ea6f",is_queryable:!0,legend_name:"eau:hochwasser_brennpunkte",metadata_id:"b2bfd06d-5f05-4abf-8f41-103d40a380e7"},dimensions:{},type:"WMS",layers:"eau_new_Hochwasser Brennpunkte",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Hochwasser Brennpunkte__309"}]},{id:758,name:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:03:13.4638796",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"66e4e0d15a1785364d6db3fb",is_queryable:!0,legend_name:"eau:massnahmens_des_hochwasserrisikomanagementplans",metadata_id:"4326fea6-7ec4-4bb9-861f-4476b0d4ceac"},dimensions:{},type:"WMS",layers:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans__314"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:373,name:"eau_new_Trinkwasser_Schutzzonen_(ZPS)",children:[{id:214,name:"eau_new_Provisorische_ZPS",metadata:{geocatalog_open_data_last_update_date:"2024-10-03T01:04:17.082383",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"57ece254111e9b03b03833c4",is_queryable:!0,legend_name:"eau:provisorische_zps",max_dpi:128,metadata_id:"ddc51f25-2fb7-4d14-866a-a08f8af8ef03"},dimensions:{},type:"WMS",layers:"eau_new_Provisorische_ZPS",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Provisorische_ZPS__130"}]},{id:664,name:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",metadata:{geocatalog_open_data_last_update_date:"2024-10-04T01:04:09.8847458",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e745b111e9b729d2f54dd",is_queryable:!0,legend_name:"eau:zps_laufende_oeffentliche_verfahrungsweise",max_dpi:128,metadata_id:"87beb1ac-7496-48f6-b5a9-8666e3897523"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise__131"}]},{id:573,name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",metadata:{geocatalog_open_data_last_update_date:"2024-10-09T01:03:43.6506495",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e7451111e9b72855243a1",is_queryable:!0,legend_name:"eau:zps_durch_grosshrzgl._verordnung_festgelegt",max_dpi:128,metadata_id:"d70f99e0-6032-4a4b-b516-5dfdfce33b26"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__132"}]},{id:1464,name:"eau_prgd_zones_protection_lac",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.5407176",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"5b571c9546f3b55625dc355c",is_queryable:!0,legend_name:"eau:prgd_stausee",metadata_id:"eab29425-71cc-4610-b48e-8d848d0a8431"},dimensions:{},type:"WMS",layers:"eau_prgd_zones_protection_lac",imageType:"image/png",style:"default",childLayers:[{name:"eau_prgd_zones_protection_lac__349"}]},{id:490,name:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",metadata:{geocatalog_open_data_last_update_date:"2024-06-01T01:05:08.8469357",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ece272cc765e1a24228122",is_queryable:!0,legend_name:"eau:sanitaere_schutzzonen_stausee",max_dpi:128,metadata_id:"e34de488-68ea-48a8-9e92-f67bb209508e"},dimensions:{},type:"WMS",layers:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer__133"}]},{id:559,name:"eau_new_Zones_interdiction_utilisation_metazachlore",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:11.3349336",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"591d66aecc765e79df289232",is_queryable:!1,legend_name:"eau_new:metazachlore",max_dpi:128,metadata_id:"803e93f8-588f-4697-8d76-972be1ad3531",start_opacity:.7},dimensions:{},type:"WMS",layers:"eau_new_Zones_interdiction_utilisation_metazachlore",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Zones_interdiction_utilisation_metazachlore__304"}]}],metadata:{},mixed:!0},{id:469,name:"eau_new_Schutzgebiete",children:[{id:656,name:"eau_new_Badegewaesser",metadata:{geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ecaff2cc765e18ae5ed87f",is_queryable:!0,legend_name:"eau:badegewaesser",max_dpi:128,metadata_id:"72f770ee-7290-4ecb-9358-580b7cfcadf7"},dimensions:{},type:"WMS",layers:"eau_new_Badegewaesser",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Badegewaesser__135"}]},{id:581,name:"eau_new_Badegewaesser_-_Qualitaet",metadata:{geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"57ece261cc765e1a24228120",is_queryable:!0,legend_name:"eau:badegewaesser_-_qualitaet",max_dpi:128,metadata_id:"c0c9c705-8b26-4a0b-b9bb-e2243cd5386a"},dimensions:{},type:"WMS",layers:"eau_new_Badegewaesser_-_Qualitaet",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Badegewaesser_-_Qualitaet__136"}]},{id:612,name:"eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)",metadata:{geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_uuid:"57ece27bcc765e1a270cf61d",is_queryable:!0,legend_name:"eau:empfindliche_gebiete_kommunalabwasserrichtlinie",max_dpi:128,metadata_id:"39952e6c-8e73-4a23-a19c-78c4f06c84d9"},dimensions:{},type:"WMS",layers:"eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)__139"}]},{id:492,name:"eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)",metadata:{geocatalog_open_data_last_update_date:"2024-09-04T01:02:59.0520396",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"66d7b1c287ac9208bf4692e9",is_queryable:!0,legend_name:"eau:gefaehrdete_gebiete_nitratrichtlinie",max_dpi:128,metadata_id:"9426a9a6-7cb1-4c1a-a504-40dabc4429c0"},dimensions:{},type:"WMS",layers:"eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)__140"}]}],metadata:{},mixed:!0},{id:807,name:"zpin_group",children:[{id:804,name:"anf_zpin_declarees",metadata:{is_queryable:!0,legend_name:"anf:zpin_declarees",metadata_id:"9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"},dimensions:{},type:"WMS",layers:"anf_zpin_declarees",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_declarees__ZPIN_DECLAREES"}]},{id:805,name:"anf_zpin_a_declarer",metadata:{is_queryable:!0,legend_name:"anf:zpin_a_declarer",metadata_id:"db53336b-1a33-4b1a-94a8-42a29b55ce45"},dimensions:{},type:"WMS",layers:"anf_zpin_a_declarer",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_a_declarer__ZPIN_A_DECLARER"}]},{id:806,name:"anf_zpin_en_procedure",metadata:{is_queryable:!0,legend_name:"anf:zpin_en_procedure_reglementaire",metadata_id:"74499cf0-ab69-48bd-a357-8c151dd3d5c9"},dimensions:{},type:"WMS",layers:"anf_zpin_en_procedure",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"}]}],metadata:{},mixed:!0},{id:470,name:"eau_new_Gewaesserschutz",children:[{id:643,name:"eau_new_Abwassersyndikate",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.7305149",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ece2dd111e9b03b03833c5",is_queryable:!0,legend_name:"eau:abwassersyndikate",max_dpi:128,metadata_id:"4b5e384c-5603-4cf4-9bd5-6e520df5c375"},dimensions:{},type:"WMS",layers:"eau_new_Abwassersyndikate",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Abwassersyndikate__143"}]},{id:645,name:"eau_new_Klaeranlagen",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.116702",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ece288cc765e1a25470f74",is_queryable:!0,legend_name:"eau:klaeranlagen",max_dpi:128,metadata_id:"53e55765-90eb-438f-a744-3ac878b06334"},dimensions:{},type:"WMS",layers:"eau_new_Klaeranlagen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Klaeranlagen__142"}]}],metadata:{},mixed:!0},{id:474,name:"eau_new_Wasserrahmenrichtlinie",children:[{id:1469,name:"eau_strahlwirkungskonzept",metadata:{is_queryable:!0,legend_name:"eau:strahlwirkungskonzept",metadata_id:"e1744b8e-101e-406d-b742-776d488a00b5"},dimensions:{},type:"WMS",layers:"eau_strahlwirkungskonzept",imageType:"image/png",style:"default",childLayers:[{name:"eau_strahlwirkungskonzept__351"},{name:"eau_strahlwirkungskonzept__352"}]},{id:475,name:"eau_new_Bewirtschaftungsplan_2009",children:[{id:644,name:"eau_new_Betrachtungsraeume_2009",metadata:{is_queryable:!0,legend_name:"eau:betrachtungsraeume_2009",max_dpi:128,metadata_id:"be15dd7d-df57-44e1-b724-0929cf05eef9"},dimensions:{},type:"WMS",layers:"eau_new_Betrachtungsraeume_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Betrachtungsraeume_2009__146"}]},{id:607,name:"eau_new_Typologie_Oberflaechengewasser_2009",metadata:{is_queryable:!0,legend_name:"eau:typologie_oberflaechengewasser_2009",max_dpi:128,metadata_id:"0d1d73f0-7644-4217-a0df-b6c497508592"},dimensions:{},type:"WMS",layers:"eau_new_Typologie_Oberflaechengewasser_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Typologie_Oberflaechengewasser_2009__147"}]},{id:601,name:"eau_new_Oberflaechenwasserkoerper_2009",metadata:{is_queryable:!0,legend_name:"eau:oberflaechenwasserkoerper_2009",max_dpi:128,metadata_id:"404cf7b4-f70b-4c2c-a44b-89e297fab0f8"},dimensions:{},type:"WMS",layers:"eau_new_Oberflaechenwasserkoerper_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Oberflaechenwasserkoerper_2009__148"}]},{id:634,name:"eau_new_Erheblich veränderte Wasserkörper 2009",metadata:{is_queryable:!0,legend_name:"eau:erheblich_veraenderte_owk_2009",max_dpi:128,metadata_id:"78da31c2-55eb-40c9-99fe-22ff409468c2"},dimensions:{},type:"WMS",layers:"eau_new_Erheblich veränderte Wasserkörper 2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Erheblich veränderte Wasserkörper 2009__149"}]},{id:603,name:"eau_new_Grundwasserkoerper_2009",metadata:{is_queryable:!0,legend_name:"eau:grundwasserkoerper_2009",max_dpi:128,metadata_id:"f23ca424-ec87-4c53-929c-7e627a8e06af"},dimensions:{},type:"WMS",layers:"eau_new_Grundwasserkoerper_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Grundwasserkoerper_2009__151"}]},{id:468,name:"eau_new_Zustand_der_Wasserkoerper_(WK)_2009",children:[{id:464,name:"eau_new_Oberflaechengewaesser_2009",children:[{id:585,name:"eau_new_Gesamtzustand_2009",metadata:{is_queryable:!0,legend_name:"eau:gesamtzustand_2009",max_dpi:128,metadata_id:"44862c13-7006-44a4-99e6-2877ea512714"},dimensions:{},type:"WMS",layers:"eau_new_Gesamtzustand_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Gesamtzustand_2009__154"}]},{id:586,name:"eau_new_Chemischer_Zustand_2009",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_2009",max_dpi:128,metadata_id:"d934fbcc-02c6-47fa-a23d-cfbe49214709"},dimensions:{},type:"WMS",layers:"eau_new_Chemischer_Zustand_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_2009__155"}]},{id:614,name:"eau_new_Oekologischer_Zustand_2009",metadata:{is_queryable:!0,legend_name:"eau:oekologischer_zustand_2009",max_dpi:128,metadata_id:"92d28c19-ed51-4e9e-8a80-831144fe3553"},dimensions:{},type:"WMS",layers:"eau_new_Oekologischer_Zustand_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Oekologischer_Zustand_2009__156"}]},{id:593,name:"eau_new_Hydromorphologischer_Zustand_2009",metadata:{is_queryable:!0,legend_name:"eau:hydromorphologischer_zustand_2009",max_dpi:128,metadata_id:"0227e64f-11ef-4f0a-8853-48fd7385f2b1"},dimensions:{},type:"WMS",layers:"eau_new_Hydromorphologischer_Zustand_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Hydromorphologischer_Zustand_2009__157"}]}],metadata:{},mixed:!0},{id:435,name:"eau_new_Grundwasser_2009",children:[{id:657,name:"eau_new_Zustand_der_WK_2009",metadata:{is_queryable:!0,legend_name:"eau:zustand_der_wk_2009",max_dpi:128,metadata_id:"2df25c38-15d5-447f-a269-4184ce781050"},dimensions:{},type:"WMS",layers:"eau_new_Zustand_der_WK_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Zustand_der_WK_2009__159"}]},{id:605,name:"eau_new_Quantitativer_Zustand_der_WK_2009",metadata:{is_queryable:!0,legend_name:"eau:quantitativer_zustand_der_wk_2009",max_dpi:128,metadata_id:"a9ebce38-6c8b-447e-9d22-46ba333fa63c"},dimensions:{},type:"WMS",layers:"eau_new_Quantitativer_Zustand_der_WK_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Quantitativer_Zustand_der_WK_2009__160"}]},{id:441,name:"eau_new_Chemischer_Zustand_der_WK_2009",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_der_wk_2009",max_dpi:128,metadata_id:"e9a72fec-29a0-4183-9e3a-6d4f49c9fea7"},dimensions:{},type:"WMS",layers:"eau_new_Chemischer_Zustand_der_WK_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_der_WK_2009__161"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:480,name:"eau_new_Bewirtschaftungsplan_2015",children:[{id:536,name:"eau_new_Oberflaechenwasserkoerper_2015",metadata:{is_queryable:!0,legend_name:"eau:oberflaechenwasserkoerper_2015",max_dpi:128,metadata_id:"ead261ed-7be1-4435-9cf5-d1527a18bd19"},dimensions:{},type:"WMS",layers:"eau_new_Oberflaechenwasserkoerper_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Oberflaechenwasserkoerper_2015__165"}]},{id:658,name:"eau_new_Erheblich veränderte Wasserkörper 2015",metadata:{is_queryable:!0,legend_name:"eau:erheblich_veraenderte_wk_2015",max_dpi:128,metadata_id:"78da31c2-55eb-40c9-99fe-22ff409468c2"},dimensions:{},type:"WMS",layers:"eau_new_Erheblich veränderte Wasserkörper 2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Erheblich veränderte Wasserkörper 2015__166"}]},{id:619,name:"eau_new_Betrachtungsraeume_2015",metadata:{is_queryable:!0,legend_name:"eau:betrachtungsraeume_2015",max_dpi:128,metadata_id:"be15dd7d-df57-44e1-b724-0929cf05eef9"},dimensions:{},type:"WMS",layers:"eau_new_Betrachtungsraeume_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Betrachtungsraeume_2015__163"}]},{id:588,name:"eau_new_Typologie_Gewaesser_2015",metadata:{is_queryable:!0,legend_name:"eau:typologie_gewaesser_2015",max_dpi:128,metadata_id:"c7eea236-ad59-47fc-8c02-630fee3292dc"},dimensions:{},type:"WMS",layers:"eau_new_Typologie_Gewaesser_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Typologie_Gewaesser_2015__164"}]},{id:1470,name:"eau_fliessgewaessertypen_2015",metadata:{is_queryable:!0,legend_name:"eau:fliessgewaessertypen_2015_lawa",metadata_id:"79f4588f-a264-4921-a382-d1f83cf48da3"},dimensions:{},type:"WMS",layers:"eau_fliessgewaessertypen_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_fliessgewaessertypen_2015__354"}]},{id:759,name:"eau_new_Strukturgütekartierung 2015 [7-stufige Bewertung]",metadata:{is_queryable:!0,legend_name:"eau:strukturguetekartierung_2015_7-stufige_bewertung",metadata_id:"dd28de7b-6182-4054-89a6-dd92b80b565f"},dimensions:{},type:"WMS",layers:"eau_new_Strukturgütekartierung 2015 [7-stufige Bewertung]",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Strukturgütekartierung 2015 [7-stufige Bewertung]__315"}]},{id:760,name:"eau_new_Strukturgütekartierung 2015 [5-stufige Bewertung]",metadata:{is_queryable:!0,legend_name:"eau:strukturguetekartierung_2015_5-stufige_bewertung",metadata_id:"ff70c904-a6b9-4989-88c0-8359ff52e57e"},dimensions:{},type:"WMS",layers:"eau_new_Strukturgütekartierung 2015 [5-stufige Bewertung]",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Strukturgütekartierung 2015 [5-stufige Bewertung]__316"}]},{id:761,name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]",metadata:{is_queryable:!0,legend_name:"eau:5-band_sohle_7-stufige_bewertung_5-band_ufer_links_7-stufige_bewertung_5-band_ufer_rechts_7-stufige_bewertung_5-band_umfeld_links_7-stufige_bewertung_5-band_umfeld_rechts_7-stufige_bewertung",metadata_id:"429d3552-5f72-4be6-9c03-95c76f0a6c07"},dimensions:{},type:"WMS",layers:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__336"},{name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__337"},{name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__338"},{name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__339"},{name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__340"}]},{id:763,name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]",metadata:{is_queryable:!0,legend_name:"eau:5-band_sohle_5-stufige_bewertung_5-band_ufer_links_5-stufige_bewertung_5-band_ufer_rechts_5-stufige_bewertung_5-band_umfeld_links_5-stufige_bewertung_5-band_umfeld_rechts_5-stufige_bewertung",metadata_id:"4c64f3a4-627f-4aa7-9e0c-d3ad003d9afe"},dimensions:{},type:"WMS",layers:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__342"},{name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__343"},{name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__344"},{name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__345"},{name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__346"}]},{id:785,name:"eau_new_WRRL und HWRM-RL Massnahmen",metadata:{is_queryable:!0,legend_name:"eau:wrrl_und_hwrm-rl_-_massnahmen",metadata_id:"9a339e4e-eb04-42a0-ac0d-5a5f354c9548"},dimensions:{},type:"WMS",layers:"eau_new_WRRL und HWRM-RL Massnahmen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_WRRL und HWRM-RL Massnahmen__347"}]},{id:1471,name:"eau_detailliertes_massnahmenprogramm_sww",metadata:{is_queryable:!0,legend_name:"eau:detailliertes_massnahmenprogramm_sww",metadata_id:"5b9d1544-da64-4a58-b519-9a03e5491e07"},dimensions:{},type:"WMS",layers:"eau_detailliertes_massnahmenprogramm_sww",imageType:"image/png",style:"default",childLayers:[{name:"eau_detailliertes_massnahmenprogramm_sww__355"}]},{id:659,name:"eau_new_Grundwasserkoerper_2015",metadata:{is_queryable:!0,legend_name:"eau:grundwasserkoerper_2015",max_dpi:128,metadata_id:"bb5f17b7-ddac-46cc-a59d-25f82d422b5b"},dimensions:{},type:"WMS",layers:"eau_new_Grundwasserkoerper_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Grundwasserkoerper_2015__168"}]},{id:476,name:"eau_new_Zustand_der_Wasserkoerper_(WK)_2015",children:[{id:479,name:"eau_new_Oberflaechengewaesser_2015",children:[{id:622,name:"eau_new_Oekologischer_Zustand_2015",metadata:{is_queryable:!0,legend_name:"eau:oekologischer_zustand_2015",max_dpi:128,metadata_id:"5b78d0a5-1984-4efc-9e7d-0cb9d7ca829d"},dimensions:{},type:"WMS",layers:"eau_new_Oekologischer_Zustand_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Oekologischer_Zustand_2015__173"}]},{id:663,name:"eau_new_Gesamtzustand_2015",metadata:{is_queryable:!0,legend_name:"eau:gesamtzustand_2015",max_dpi:128,metadata_id:"bea7140f-b938-4494-ac14-a2252a1d0fcb"},dimensions:{},type:"WMS",layers:"eau_new_Gesamtzustand_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Gesamtzustand_2015__171"}]},{id:621,name:"eau_new_Chemischer Zustand 2015_Richtlinie 2008_105_EG",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_2015",max_dpi:128,metadata_id:"7df87ec3-bfad-4d1b-a10b-68670c8073f4"},dimensions:{},type:"WMS",layers:"621",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer Zustand 2015_Richtlinie 2008_105_EG__172"}]},{id:764,name:"eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe 2015_Richtlinie_2008_105_EG",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2015_richtlinie_2008_105_eg",metadata_id:"68f761b4-e1d1-4cda-b4aa-1e61fc812588"},dimensions:{},type:"WMS",layers:"764",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe 2015_Richtlinie_2008_105_EG__318"}]},{id:765,name:"eau_new_Chemischer_Zustand_2015_Richtlinie 2013_39_EU",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_2015_richtlinie_2013_39_eu",metadata_id:"7df87ec3-bfad-4d1b-a10b-68670c8073f4"},dimensions:{},type:"WMS",layers:"765",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_2015_Richtlinie 2013_39_EU__319"}]},{id:766,name:"eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe_2015_Richtlinie 2013_39_EU",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2015_richtlinie_2013_39_eu",metadata_id:"d78ac813-7ab3-4162-945a-f87512e66654"},dimensions:{},type:"WMS",layers:"766",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe_2015_Richtlinie 2013_39_EU__320"}]},{id:466,name:"eau_new_Qualitaetskomponenten_des_oekologischen_Zustands_2015",children:[{id:767,name:"eau_new_Hydromorphologische Gesamtbewertung 2015",metadata:{is_queryable:!0,legend_name:"eau:hydromorphologischer_zustand_2015",metadata_id:"767e0a8a-31e0-4a53-913f-6ab1c76ca27c"},dimensions:{},type:"WMS",layers:"eau_new_Hydromorphologische Gesamtbewertung 2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Hydromorphologische Gesamtbewertung 2015__174"}]},{id:769,name:"eau_new_Morphologie 2015",metadata:{is_queryable:!0,legend_name:"eau:morphologie_2015",metadata_id:"b7812f62-a8b5-4ef4-bbb8-c2e3a9688c93"},dimensions:{},type:"WMS",layers:"eau_new_Morphologie 2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Morphologie 2015__330"}]},{id:770,name:"eau_new_Durchgängigkeit 2015",metadata:{is_queryable:!0,legend_name:"eau:durchgaengigkeit_2015",metadata_id:"4983c058-3d33-4b6f-b801-de1113a11f27"},dimensions:{},type:"WMS",layers:"eau_new_Durchgängigkeit 2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Durchgängigkeit 2015__331"}]},{id:583,name:"eau_new_Physiko-Chemie_2015",metadata:{is_queryable:!0,legend_name:"eau:physiko-chemie_2015",max_dpi:128,metadata_id:"45702d13-2608-4300-ba54-0e078c96386c"},dimensions:{},type:"WMS",layers:"eau_new_Physiko-Chemie_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Physiko-Chemie_2015__176"}]},{id:771,name:"eau_new_Phytoplankton 2015",metadata:{is_queryable:!0,legend_name:"eau:phytoplankton_2015",metadata_id:"e5d8434c-c367-4a56-a7d1-aa60f70a301f"},dimensions:{},type:"WMS",layers:"eau_new_Phytoplankton 2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Phytoplankton 2015__321"}]},{id:662,name:"eau_new_Makrophyten_2015",metadata:{is_queryable:!0,legend_name:"eau:aquatische_flora_2015",max_dpi:128,metadata_id:"fe673001-2447-4e3c-bce6-4606b6bf222d"},dimensions:{},type:"WMS",layers:"eau_new_Makrophyten_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Makrophyten_2015__177"}]},{id:600,name:"eau_new_Makro-Invertebraten_2015",metadata:{is_queryable:!0,legend_name:"eau:makro-invertebraten_2015",max_dpi:128,metadata_id:"b8a59482-2696-4b9a-a527-3201597a4caf"},dimensions:{},type:"WMS",layers:"eau_new_Makro-Invertebraten_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Makro-Invertebraten_2015__180"}]},{id:646,name:"eau_new_Fische_2015",metadata:{is_queryable:!0,legend_name:"eau:fische_2015",max_dpi:128,metadata_id:"f44a6aa7-6dcc-4d99-9033-c13ef23ebef4"},dimensions:{},type:"WMS",layers:"eau_new_Fische_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Fische_2015__179"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:471,name:"eau_new_Grundwasser_2015",children:[{id:591,name:"eau_new_Zustand_der_WK_2015",metadata:{is_queryable:!0,legend_name:"eau:zustand_der_wk_2015",max_dpi:128,metadata_id:"489c9b85-6c3c-4019-b3ee-096936b2683c"},dimensions:{},type:"WMS",layers:"eau_new_Zustand_der_WK_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Zustand_der_WK_2015__182"}]},{id:592,name:"eau_new_Quantitativer_Zustand_der_WK_2015",metadata:{is_queryable:!0,legend_name:"eau:quantitativer_zustand_der_wk_2015",max_dpi:128,metadata_id:"333c7e4f-cdc3-439a-aa13-ca0f9138c764"},dimensions:{},type:"WMS",layers:"eau_new_Quantitativer_Zustand_der_WK_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Quantitativer_Zustand_der_WK_2015__183"}]},{id:632,name:"eau_new_Chemischer_Zustand_der_WK_2015",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_der_wk_2015",max_dpi:128,metadata_id:"ddd64c4a-f5af-4bbb-a7d3-3db1016ee541"},dimensions:{},type:"WMS",layers:"eau_new_Chemischer_Zustand_der_WK_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_der_WK_2015__184"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2085,name:"eau_Bewirtschaftungsplan_2021",children:[{id:2090,name:"eau_Oberflaechenwasserkoerper_2021",metadata:{is_queryable:!0,legend_name:"eau:oberflaechenwasserkoerper_2021",max_dpi:128,metadata_id:"c50b2bc7-aeb7-4d3e-9349-09eb3ec0f927"},dimensions:{},type:"WMS",layers:"eau_Oberflaechenwasserkoerper_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Oberflaechenwasserkoerper_2021__386"}]},{id:2091,name:"eau_Erheblich veränderte Wasserkörper 2021",metadata:{is_queryable:!0,legend_name:"eau:erheblich_veraenderte_wk_2021",max_dpi:128,metadata_id:"311cc30b-8092-4816-9f86-87d5f2995706"},dimensions:{},type:"WMS",layers:"eau_Erheblich veränderte Wasserkörper 2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Erheblich veränderte Wasserkörper 2021__387"}]},{id:2491,name:"eau_new_Betrachtungsraeume_2021",metadata:{is_queryable:!0,legend_name:"eau:betrachtungsraeume_2021",metadata_id:"af21fbbf-3f63-4742-8c44-f8a377930197"},dimensions:{},type:"WMS",layers:"eau_new_Betrachtungsraeume_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Betrachtungsraeume_2021__455"}]},{id:2223,name:"eau_typologie_Gewässer_2021",metadata:{is_queryable:!0,legend_name:"eau:fleissgewaessertypen_2021_lu",metadata_id:"492d6faa-5c91-45d4-83d7-733398cc48d1"},dimensions:{},type:"WMS",layers:"eau_typologie_Gewässer_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_typologie_Gewässer_2021__419"}]},{id:2224,name:"eau_Fließgewässertypen_2021",metadata:{is_queryable:!0,legend_name:"eau:fleissgewaessertypen_2021_lawa",metadata_id:"8608d8c5-def8-4050-9f44-7746edd7a32e"},dimensions:{},type:"WMS",layers:"eau_Fließgewässertypen_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Fließgewässertypen_2021__420"}]},{id:2269,name:"eau_grundwasserkoerper_2021",metadata:{is_queryable:!0,legend_name:"eau:grundwasserkoerper_2021",metadata_id:"3bd42cf4-93ce-451f-8749-e3f6d1750eeb"},dimensions:{},type:"WMS",layers:"eau_grundwasserkoerper_2021",imageType:"image/png",childLayers:[{name:"eau_grundwasserkoerper_2021__444"}]},{id:2222,name:"eau_Strukturgütekartierung_2021",children:[{id:2225,name:"eau_Strukturgütekartierung_2021_7stufige_bewertung",metadata:{is_queryable:!0,legend_name:"eau:strukturguetekartierung_2021_7-stufige_bewertung",metadata_id:"87e3688f-b831-44e9-aa4f-38d89a41139a"},dimensions:{},type:"WMS",layers:"eau_Strukturgütekartierung_2021_7stufige_bewertung",imageType:"image/png",style:"default",childLayers:[{name:"eau_Strukturgütekartierung_2021_7stufige_bewertung__405"}]},{id:2226,name:"eau_Strukturgütekartierung_2021_5stufige_bewertung",metadata:{is_queryable:!0,legend_name:"eau:strukturguetekartierung_2021_5-stufige_bewertung",metadata_id:"0e36b3e4-8811-43b6-9f2d-a2ea26c817cb"},dimensions:{},type:"WMS",layers:"eau_Strukturgütekartierung_2021_5stufige_bewertung",imageType:"image/png",style:"default",childLayers:[{name:"eau_Strukturgütekartierung_2021_5stufige_bewertung__406"}]},{id:2227,name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung",metadata:{is_queryable:!0,legend_name:"eau:struktukartierung_2021_5_band_7-stufige_bewertung",metadata_id:"27c60680-00ac-4e28-857f-41a1021ae4d9"},dimensions:{},type:"WMS",layers:"eau_Struktukartierung_2021_5_band_7stufige_bewertung",imageType:"image/png",style:"default",childLayers:[{name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung__408"},{name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung__409"},{name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung__410"},{name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung__411"},{name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung__412"}]},{id:2228,name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung",metadata:{is_queryable:!0,legend_name:"eau:struktukartierung_2021_5_band_5-stufige_bewertung",metadata_id:"dedcc2a3-b587-4dfe-a967-5f4bfd8f575a"},dimensions:{},type:"WMS",layers:"eau_Struktukartierung_2021_5_band_5stufige_bewertung",imageType:"image/png",style:"default",childLayers:[{name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung__414"},{name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung__415"},{name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung__416"},{name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung__417"},{name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung__418"}]},{id:2492,name:"eau_new_Querbauwerke_2021",metadata:{geocatalog_open_data_last_update_date:"2024-08-01T01:02:32.8749807",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"66a2f595f96f574ccd9e7e7c",is_queryable:!0,legend_name:"eau:Querbauwerke%202021",metadata_id:"88b06474-f029-4544-a60d-7c46c5f32191"},dimensions:{},type:"WMS",layers:"eau_new_Querbauwerke_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Querbauwerke_2021__422"}]},{id:2493,name:"eau_new_Durchlaesse_Verrohrungen_2021",metadata:{geocatalog_open_data_last_update_date:"2024-07-31T01:02:20.8968264",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"66a2f58e7af13982e1abe7e7",is_queryable:!0,legend_name:"eau:durchlaesseverrohrungen_2021",metadata_id:"6eb34108-4bad-4cb7-881e-7db3174c7531"},dimensions:{},type:"WMS",layers:"eau_new_Durchlaesse_Verrohrungen_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Durchlaesse_Verrohrungen_2021__423"}]},{id:2494,name:"eau_new_Querprofile_2021",metadata:{is_queryable:!0,legend_name:"eau:querprofile_2021",metadata_id:"a40281d4-1ee2-42d0-9378-012f1f415afa"},dimensions:{},type:"WMS",layers:"eau_new_Querprofile_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Querprofile_2021__424"}]},{id:2495,name:"eau_new_Substratkartierung_2021",metadata:{is_queryable:!0,legend_name:"eau:substratkartierung_2021",metadata_id:"c4eb10fd-305d-43f7-ae01-b9caa32ed484"},dimensions:{},type:"WMS",layers:"eau_new_Substratkartierung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Substratkartierung_2021__425"}]}],metadata:{},mixed:!0},{id:2497,name:"eau_new_Massnahmenprogramm_2021",children:[{id:2106,name:"eau_Masssnahmenprogramm_SWW_2021",metadata:{is_queryable:!0,legend_name:"eau:detailliertes_massnahmenprogramm_sww_2021",metadata_id:"10f4a12e-1a67-42d5-b575-8993e2f3aa68"},dimensions:{},type:"WMS",layers:"eau_Masssnahmenprogramm_SWW_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Masssnahmenprogramm_SWW_2021__403"}]},{id:2496,name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021",metadata:{is_queryable:!0,legend_name:"eau:detailliertes_massnahmenprogramm_hy_2021_alle",metadata_id:"4b00cf8c-d4e6-486d-8bda-d385302792f6"},dimensions:{},type:"WMS",layers:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__389"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__390"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__391"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__392"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__393"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__394"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__395"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__396"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__397"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__398"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__399"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__400"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__401"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__402"}]},{id:2086,name:"eau_Entwurf_Massnahmenprogramm_HY_2021",children:[{id:2092,name:"eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk_2021",metadata:{is_queryable:!0,legend_name:"eau:wiederherstellung_der_oekologischen_durchgaengigkeit",metadata_id:"c150f6a5-41c7-477a-9d44-c0a26a502d85"},dimensions:{},type:"WMS",layers:"eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk",imageType:"image/png",style:"default",childLayers:[{name:"eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk_2021__389"}]},{id:2093,name:"eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021",metadata:{is_queryable:!0,legend_name:"eau:wiederherstellung_der_oekologischen_durchgaengigkeit_durchlass",metadata_id:"569bf0ea-c428-4171-aba6-8f2ace180a10"},dimensions:{},type:"WMS",layers:"eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021__390"}]},{id:2094,name:"eau_Strukturelemente_Sohle_2021",metadata:{is_queryable:!0,legend_name:"eau:einbau_von_strukturelementen_in_sohle",metadata_id:"2d233ca6-553e-43bf-ba25-f46b88f63710"},dimensions:{},type:"WMS",layers:"eau_Strukturelemente_Sohle_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Strukturelemente_Sohle_2021__391"}]},{id:2095,name:"eau_Umgestalten_Sohlverbau_2021",metadata:{is_queryable:!0,legend_name:"eau:entfernen_umgestalten_von_sohlverbau",metadata_id:"0d30a3ee-e860-4816-b5c8-9f43e93020e3"},dimensions:{},type:"WMS",layers:"eau_Umgestalten_Sohlverbau_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Umgestalten_Sohlverbau_2021__392"}]},{id:2096,name:"eau_Stroemungslenkern_2021",metadata:{is_queryable:!0,legend_name:"eau:einbau_von_stroemungslenkern_fuer_eigendynamik",metadata_id:"b86c62a9-0ec8-4d35-878f-b275e74ff02e"},dimensions:{},type:"WMS",layers:"eau_Stroemungslenkern_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Stroemungslenkern_2021__393"}]},{id:2097,name:"eau_Umgestalten_Uferverbau_2021",metadata:{is_queryable:!0,legend_name:"eau:entfernen_umgestalten_von_uferverbau",metadata_id:"bec0ccbc-09b5-4351-8b72-f0e458fc7d19"},dimensions:{},type:"WMS",layers:"eau_Umgestalten_Uferverbau_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Umgestalten_Uferverbau_2021__394"}]},{id:2098,name:"eau_naturnah_Gewaesserbett_2021",metadata:{is_queryable:!0,legend_name:"eau:wiederherstellung_von_naturnaher_laufentwicklung_und_gewaesserbett",metadata_id:"3ddf627c-90ae-4b58-a05e-20925493dcf9"},dimensions:{},type:"WMS",layers:"eau_naturnah_Gewaesserbett_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_naturnah_Gewaesserbett_2021__395"}]},{id:2099,name:"eau_Gewaesserrandstreifen_2021",metadata:{is_queryable:!0,legend_name:"eau:anlage_eines_gewaesserrandstreifens",metadata_id:"3bc0e52d-954b-47d3-8905-1ecfe7108ce0"},dimensions:{},type:"WMS",layers:"eau_Gewaesserrandstreifen_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Gewaesserrandstreifen_2021__396"}]},{id:2100,name:"eau_Gewaesserentwicklungskorridor_2021",metadata:{is_queryable:!0,legend_name:"eau:anlage_eines_gewaesser_entwicklungskorridors",metadata_id:"13299bf5-57ca-4538-993e-7c00f6247722"},dimensions:{},type:"WMS",layers:"eau_Gewaesserentwicklungskorridor_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Gewaesserentwicklungskorridor_2021__397"}]},{id:2101,name:"eau_natuerlich_Ueberflutungsraeume_2021",metadata:{is_queryable:!0,legend_name:"eau:sicherung_und_erweiterung_natuerlicher_ueberflutungsraeume_und_augewaesser",metadata_id:"7fb0080e-d178-401d-83de-7595ef1885b5"},dimensions:{},type:"WMS",layers:"eau_natuerlich_Ueberflutungsraeume_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_natuerlich_Ueberflutungsraeume_2021__398"}]},{id:2102,name:"eau_eigendynamische_Entwicklung_2021",metadata:{is_queryable:!0,legend_name:"eau:zulassen_von_eigendynamischer_entwicklung",metadata_id:"d13e22e9-d22a-48a0-838d-3d7c914ccfe3"},dimensions:{},type:"WMS",layers:"eau_eigendynamische_Entwicklung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_eigendynamische_Entwicklung_2021__399"}]},{id:2103,name:"eau_naturnahe_Abflussverhaeltnisse_2021",metadata:{is_queryable:!0,legend_name:"eau:widerherstellung_und_sicherung_naturnaher_abflussverhaeltnisse",metadata_id:"b3f8a9e0-17f7-4b64-a34b-6ee6de972b52"},dimensions:{},type:"WMS",layers:"eau_naturnahe_Abflussverhaeltnisse_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_naturnahe_Abflussverhaeltnisse_2021__400"}]},{id:2104,name:"eau_naturnaher_Wasserhaushalt_2021",metadata:{is_queryable:!0,legend_name:"eau:wiederherstellung_und_sicherung_naturnahem_wasserhaushalt",metadata_id:"91008390-557e-4db3-8d7c-e608a5478edb"},dimensions:{},type:"WMS",layers:"eau_naturnaher_Wasserhaushalt_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_naturnaher_Wasserhaushalt_2021__401"}]},{id:2105,name:"eau_Abflussregulierung_2021",metadata:{is_queryable:!0,legend_name:"eau:abflussregulierung",metadata_id:"393be87d-44ce-42e1-9b81-9585aa2d7678"},dimensions:{},type:"WMS",layers:"eau_Abflussregulierung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Abflussregulierung_2021__402"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2498,name:"eau_new_Zustand_Wasserkoerper_2021",children:[{id:2501,name:"eau_new_OWK_2021",children:[{id:2516,name:"eau_new_oekologischer_Zustand_2021",metadata:{geocatalog_open_data_last_update_date:"2024-01-12T14:27:52.9819519",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"65a14865ac485d4e6b99f6e8",is_queryable:!0,legend_name:"eau:oekologischer_zustand_2021",metadata_id:"d6e11b40-6e70-4f68-86c2-1c69c1e41c04"},dimensions:{},type:"WMS",layers:"eau_new_oekologischer_Zustand_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_oekologischer_Zustand_2021__428"}]},{id:2517,name:"eau_new_oekologisches_Potenzial_2021",metadata:{geocatalog_open_data_last_update_date:"2024-01-12T14:27:52.9441803",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"65a14865ac485d4e6b99f6e8",is_queryable:!0,legend_name:"eau:oekologisches_potenzial_2021",metadata_id:"ed63b4ab-aee0-4402-8f30-98f2a08b98a4"},dimensions:{},type:"WMS",layers:"eau_new_oekologisches_Potenzial_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_oekologisches_Potenzial_2021__429"}]},{id:2518,name:"eau_new_chemischer_Zustand_2021_2013_39_EU",metadata:{geocatalog_open_data_last_update_date:"2024-01-12T14:27:52.8760847",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"65a14865ac485d4e6b99f6e8",is_queryable:!0,legend_name:"eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2021",metadata_id:"2973678d-b858-4c7b-abfa-b99c206c32be"},dimensions:{},type:"WMS",layers:"eau_new_chemischer_Zustand_2021_2013_39_EU",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_chemischer_Zustand_2021_2013_39_EU__430"}]},{id:2519,name:"eau_new_chemischer_Zustand_ohne_ubiquitaere_stoffe_2021_2013_39_EU",metadata:{geocatalog_open_data_last_update_date:"2024-01-12T14:27:52.4632089",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"65a14865ac485d4e6b99f6e8",is_queryable:!0,legend_name:"eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2021",metadata_id:"e32c56b5-a839-4cd1-a724-85153d87c5d5"},dimensions:{},type:"WMS",layers:"eau_new_chemischer_Zustand_ohne_ubiquitaere_stoffe_2021_2013_39_EU",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_chemischer_Zustand_ohne_ubiquitaere_stoffe_2021_2013_39_EU__431"}]},{id:2499,name:"eau_new_Qualitaetskomponenten_oekologischer_Zustand_2021",children:[{id:2520,name:"eau_new_biologische_QK_Gesamtbewertung_2021",metadata:{is_queryable:!0,legend_name:"eau:biologische_qk_-_gesamtbewertung_2021",metadata_id:"61ac19af-e01b-48e3-8730-d955709d92ce"},dimensions:{},type:"WMS",layers:"eau_new_biologische_QK_Gesamtbewertung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_biologische_QK_Gesamtbewertung_2021__435"}]},{id:2521,name:"eau_new_Phytoplankton_2021",metadata:{is_queryable:!0,legend_name:"eau:phytoplankton_2021",metadata_id:"f1bb6a6e-cc76-420a-8426-cf78bebea0aa"},dimensions:{},type:"WMS",layers:"eau_new_Phytoplankton_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Phytoplankton_2021__436"}]},{id:2522,name:"eau_new_Makrophyten_und_Phytobenthos_2021",metadata:{is_queryable:!0,legend_name:"eau:makrophyten_und_phytobenthos_2021",metadata_id:"53087821-654a-4fad-b891-b6f86f347482"},dimensions:{},type:"WMS",layers:"eau_new_Makrophyten_und_Phytobenthos_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Makrophyten_und_Phytobenthos_2021__437"}]},{id:2536,name:"eau_new_Macrophytes_2021",metadata:{is_queryable:!0,legend_name:"eau:macrophytes_2021",metadata_id:"060dc4f4-8486-4b5a-ae46-2b608bd87386"},dimensions:{},type:"WMS",layers:"eau_new_Macrophytes_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Macrophytes_2021__438"}]},{id:2523,name:"eau_new_Phytobenthos_2021",metadata:{is_queryable:!0,legend_name:"eau:phytobenthos_2021",metadata_id:"83f6b866-467a-4b00-9641-0252426c0808"},dimensions:{},type:"WMS",layers:"eau_new_Phytobenthos_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Phytobenthos_2021__439"}]},{id:2524,name:"eau_new_Makrozoobenthos_2021",metadata:{is_queryable:!0,legend_name:"eau:makrozoobenthos_2021",metadata_id:"d4028c85-831b-4950-905a-6df780d6b57d"},dimensions:{},type:"WMS",layers:"eau_new_Makrozoobenthos_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Makrozoobenthos_2021__440"}]},{id:2525,name:"eau_new_Fische_2021",metadata:{is_queryable:!0,legend_name:"eau:fische_2021",metadata_id:"961e396d-f123-4842-9a58-7968806e084d"},dimensions:{},type:"WMS",layers:"eau_new_Fische_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Fische_2021__441"}]},{id:2526,name:"eau_new_physikalisch_chemische_QK_Gesamtbewertung_2021",metadata:{is_queryable:!0,legend_name:"eau:physikalisch-chemische_qk_-_gesamtbewertung_2021",metadata_id:"a254a96a-8179-4a85-bd3d-c371d84e3884"},dimensions:{},type:"WMS",layers:"eau_new_physikalisch_chemische_QK_Gesamtbewertung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_physikalisch_chemische_QK_Gesamtbewertung_2021__442"}]},{id:2527,name:"eau_new_allg_physikalisch_chemische_Parameter_2021",metadata:{is_queryable:!0,legend_name:"eau:allgemein_physikalisch-chemische_parameter_2021",metadata_id:"405ff58f-aca0-4781-9b28-c3481a7a0b0d"},dimensions:{},type:"WMS",layers:"eau_new_allg_physikalisch_chemische_Parameter_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_allg_physikalisch_chemische_Parameter_2021__443"}]},{id:2528,name:"eau_new_Flussgebietsspezifische_Schadstoffe_2021",metadata:{is_queryable:!0,legend_name:"eau:flussgebietsspezifische_schadstoffe_2021",metadata_id:"f321c03f-196d-4d12-992a-f6914088fd11"},dimensions:{},type:"WMS",layers:"eau_new_Flussgebietsspezifische_Schadstoffe_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Flussgebietsspezifische_Schadstoffe_2021__457"}]},{id:2529,name:"eau_new_Hydromorphologische_QK_Gesamtbewertung_2021",metadata:{is_queryable:!0,legend_name:"eau:hydromorphologische_qk_-_gesamtbewertung_2021",metadata_id:"673ef74f-1257-4de4-9c63-be9a82e7fbf7"},dimensions:{},type:"WMS",layers:"eau_new_Hydromorphologische_QK_Gesamtbewertung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Hydromorphologische_QK_Gesamtbewertung_2021__458"}]},{id:2530,name:"eau_new_Morphologie_2021",metadata:{is_queryable:!0,legend_name:"eau:morphologie_2021",metadata_id:"877aecd9-f5b3-4266-a520-e8cfd9d861c9"},dimensions:{},type:"WMS",layers:"eau_new_Morphologie_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Morphologie_2021__459"}]},{id:2531,name:"eau_new_Durchgaengigkeit_2021",metadata:{is_queryable:!0,legend_name:"eau:durchgaengigkeit_2021",metadata_id:"afa4a183-b069-4b65-9d9e-ca692f91f140"},dimensions:{},type:"WMS",layers:"eau_new_Durchgaengigkeit_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Durchgaengigkeit_2021__460"}]},{id:2532,name:"eau_new_Wasserhaushalt_2021",metadata:{is_queryable:!0,legend_name:"eau:wasserhaushalt_2021",metadata_id:"299eb814-3703-4119-b8d3-e9581c234c3b"},dimensions:{},type:"WMS",layers:"eau_new_Wasserhaushalt_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Wasserhaushalt_2021__461"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2500,name:"eau_new_GWK_2021",children:[{id:2533,name:"eau_new_Zustand_der_GWK_2021",metadata:{is_queryable:!0,legend_name:"eau:zustand_der_gwk_2021",metadata_id:"ef79616f-fd66-45dd-a73a-e5677948dd56"},dimensions:{},type:"WMS",layers:"eau_new_Zustand_der_GWK_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Zustand_der_GWK_2021__463"}]},{id:2534,name:"eau_new_quantitativer_Zustand_der_GWK_2021",metadata:{is_queryable:!0,legend_name:"eau:quantitativer_zustand_der_gwk_2021",metadata_id:"5b9fbb7b-26b1-4b74-a709-80df547a755d"},dimensions:{},type:"WMS",layers:"eau_new_quantitativer_Zustand_der_GWK_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_quantitativer_Zustand_der_GWK_2021__464"}]},{id:2535,name:"eau_new_chemischer_Zustand_der_GWK_2021",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_der_gwk_2021",metadata_id:"efa9de18-5db0-498f-aebb-fd659f689da7"},dimensions:{},type:"WMS",layers:"eau_new_chemischer_Zustand_der_GWK_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_chemischer_Zustand_der_GWK_2021__465"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:312,name:"umweltuberwachung",children:[{id:283,name:"asta_meteo",metadata:{is_queryable:!0,metadata_id:"23e4b02d-a93d-47a4-8597-060319ae2af5"},dimensions:{},type:"WMS",layers:"asta_meteo",imageType:"image/png",style:"default",childLayers:[{name:"asta_meteo__meteo"}]}],metadata:{},mixed:!0},{id:273,name:"anf_data_map",children:[{id:427,name:"anf_arrondissements",metadata:{is_queryable:!0,metadata_id:"0ed72c13-1975-4cef-90de-1e4b737f5fbd"},dimensions:{},type:"WMS",layers:"anf_arrondissements",imageType:"image/png",style:"default",childLayers:[{name:"anf_arrondissements__ARRONDISSEMENTS"}]},{id:428,name:"anf_triages",metadata:{is_queryable:!0,metadata_id:"d4bb012a-73ab-4d3c-ac0c-f31e9df07d34"},dimensions:{},type:"WMS",layers:"anf_triages",imageType:"image/png",style:"default",childLayers:[{name:"anf_triages__TRIAGES"}]},{id:1783,name:"anf_lots_chasse_2021",metadata:{exclusion:"[340]",is_queryable:!0,metadata_id:"a8d8f46d-f6b1-4bb0-9935-be825cffab3f"},dimensions:{},type:"WMS",layers:"anf_lots_chasse_2021",imageType:"image/png",style:"default",childLayers:[{name:"anf_lots_chasse_2021__LOTS_CHASSE_2021"}]},{id:444,name:"anf_dates_battues",metadata:{exclusion:"[340]",is_queryable:!1,metadata_id:"cd5c65e3-ce29-4317-bc07-127bc679861f"},dimensions:{},type:"WMS",layers:"anf_dates_battues",imageType:"image/png",style:"default",childLayers:[{name:"anf_dates_battues__BATTUES_CHASSE"}]},{id:677,name:"anf_proprietes_forestieres",metadata:{is_queryable:!0,legend_name:"anf:proprietes_forestieres",metadata_id:"fa6d38c7-263c-4349-b208-45652f9b98ca"},dimensions:{},type:"WMS",layers:"anf_proprietes_forestieres",imageType:"image/png",style:"default",childLayers:[{name:"anf_proprietes_forestieres__PROPRIETES_FORESTIERES"}]}],metadata:{},mixed:!0},{id:381,name:"Archeo",children:[{id:2560,name:"arch_zoa",metadata:{legend_name:"arch:zoa",metadata_id:"3bbec7de-44af-4515-a2d2-04ac569ac657",start_opacity:.5},dimensions:{},type:"WMS",layers:"arch_zoa",imageType:"image/png",childLayers:[{name:"arch_zoa__1"},{name:"arch_zoa__2"},{name:"arch_zoa__3"},{name:"arch_zoa__4"},{name:"arch_zoa__5"},{name:"arch_zoa__6"},{name:"arch_zoa__7"},{name:"arch_zoa__8"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1657,name:"main_culture",children:[{id:1656,name:"unesco_patrimoine",children:[{id:1651,name:"unesco_city_boundary",metadata:{is_queryable:!0,metadata_id:"50b22938-4d06-48de-9ff0-d1b7f5f6f39d"},dimensions:{},type:"WMS",layers:"unesco_city_boundary",imageType:"image/png",style:"default",childLayers:[{name:"unesco_city_boundary__category"}]},{id:1655,name:"unesco_city_bufferzone",metadata:{is_queryable:!0,metadata_id:"39935dc9-9529-4adb-8cd4-97f9c9600c63"},dimensions:{},type:"WMS",layers:"unesco_city_bufferzone",imageType:"image/png",style:"default",childLayers:[{name:"unesco_city_bufferzone__category"}]},{id:1652,name:"unesco_city_old_quarters",metadata:{is_queryable:!0,metadata_id:"168b93e8-7bc4-451c-a642-e2c788e1cc59"},dimensions:{},type:"WMS",layers:"unesco_city_old_quarters",imageType:"image/png",style:"default",childLayers:[{name:"unesco_city_old_quarters__category"}]},{id:1653,name:"unesco_city_other_quarters",metadata:{is_queryable:!0,metadata_id:"1d4e8d00-541a-4600-931d-b768b7a42fdb"},dimensions:{},type:"WMS",layers:"unesco_city_other_quarters",imageType:"image/png",style:"default",childLayers:[{name:"unesco_city_other_quarters__category"}]},{id:1654,name:"unesco_city_fortress",metadata:{is_queryable:!0,metadata_id:"bc00d9de-4a11-4375-ae74-2f46fb6f7359"},dimensions:{},type:"WMS",layers:"unesco_city_fortress",imageType:"image/png",style:"default",childLayers:[{name:"unesco_city_fortress__category"}]}],metadata:{},mixed:!0},{id:1811,name:"culture_institutions",children:[{id:1800,name:"sip_theatres",metadata:{is_queryable:!0,metadata_id:"6745d7eb-93e3-4f55-be5f-2286903e46f0",start_opacity:.9},dimensions:{},type:"WMS",layers:"1800",imageType:"image/png",style:"default",childLayers:[{name:"sip_theatres__POI"}]}],metadata:{},mixed:!0},{id:2561,name:"arch_group",children:[{id:2560,name:"arch_zoa",metadata:{legend_name:"arch:zoa",metadata_id:"3bbec7de-44af-4515-a2d2-04ac569ac657",start_opacity:.5},dimensions:{},type:"WMS",layers:"arch_zoa",imageType:"image/png",childLayers:[{name:"arch_zoa__1"},{name:"arch_zoa__2"},{name:"arch_zoa__3"},{name:"arch_zoa__4"},{name:"arch_zoa__5"},{name:"arch_zoa__6"},{name:"arch_zoa__7"},{name:"arch_zoa__8"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1380,name:"lidar_group",children:[{id:1792,name:"act_lidar_2019_group",children:[{id:1753,name:"lidar_2019_mns",metadata:{legend_name:"lidar:mns2019",metadata_id:"d7bd80d7-23de-462f-bd3e-6bd863e1fc1d"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"lidar_2019_mns",imageType:"image/png"},{id:1752,name:"lidar_2019_mnt",metadata:{legend_name:"lidar:mnt2019",metadata_id:"30577c48-b240-4f69-8431-e35ecaa85ebc"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"lidar_2019_mnt",imageType:"image/png"},{id:2188,name:"act_mnt_2019_coloration_alternative_Lux",metadata:{is_queryable:!0,metadata_id:"faf3a8e8-6f3a-424a-9bee-945e99d544dd"},dimensions:{},type:"WMS",layers:"act_mnt_2019_coloration_alternative_Lux",imageType:"image/png",style:"default",childLayers:[{name:"act_mnt_2019_coloration_alternative_Lux__0"}]},{id:2187,name:"act_mnt2017_GR",metadata:{is_queryable:!0,metadata_id:"b5bad4e6-b6cf-45f4-a543-da619b07f567"},dimensions:{},type:"WMS",layers:"act_mnt2017_GR",imageType:"image/png",style:"default",childLayers:[{name:"act_mnt2017_GR__1"}]},{id:1789,name:"ortho_2019_winter",metadata:{exclusion:"[118,218]",metadata_id:"d6cc500f-b802-4be2-a49c-73f3eb2d131e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2019_winter",imageType:"image/jpeg"},{id:1788,name:"lidar_tiles_2019",metadata:{is_queryable:!0,metadata_id:"b19a500a-b8d5-4a87-a8f3-00f58c3dffcd",start_opacity:.7},dimensions:{},type:"WMS",layers:"lidar_tiles_2019",imageType:"image/png",style:"default",childLayers:[{name:"lidar_tiles_2019__3"},{name:"lidar_tiles_2019__2"}]}],metadata:{},mixed:!0},{id:1791,name:"act_lidar_2017_group",children:[{id:1377,name:"lidar_mns",metadata:{legend_name:"lidar:mns2017",metadata_id:"e7184a37-7a6a-4e07-ae8d-ff06d9969da0"},dimensions:{},type:"WMS",layers:"lidar_mns",imageType:"image/png",style:"default",childLayers:[{name:"lidar_mns__0"}]},{id:1378,name:"lidar_mnt",metadata:{legend_name:"lidar:mnt2017",metadata_id:"1adab94e-d80a-4e19-a808-28f52f633186"},dimensions:{},type:"WMS",layers:"lidar_mnt",imageType:"image/png",style:"default",childLayers:[{name:"lidar_mnt__0"}]},{id:1463,name:"lidar_mnh",metadata:{legend_name:"lidar:mnh",metadata_id:"5f189f5b-08f9-4abc-b3f0-78c37ddf0db1"},dimensions:{},type:"WMS",layers:"lidar_mnh",imageType:"image/png",style:"default",childLayers:[{name:"lidar_mnh__0"}]},{id:1787,name:"lidar_tiles_2017",metadata:{is_queryable:!0,metadata_id:"3c565aff-7394-4d51-915c-0e06dde7765a",start_opacity:.7},dimensions:{},type:"WMS",layers:"lidar_tiles_2017",imageType:"image/png",style:"default",childLayers:[{name:"lidar_tiles_2017__1"},{name:"lidar_tiles_2017__0"}]}],metadata:{},mixed:!0},{id:2470,name:"act_lidar_derivates",children:[{id:2401,name:"act_ponts",metadata:{is_queryable:!0,metadata_id:"2b7d36db-987f-49b4-96d7-60e934ddf926"},dimensions:{},type:"WMS",layers:"act_ponts",imageType:"image/png",childLayers:[{name:"act_ponts__0"},{name:"act_ponts__1"},{name:"act_ponts__2"}]},{id:1752,name:"lidar_2019_mnt",metadata:{legend_name:"lidar:mnt2019",metadata_id:"30577c48-b240-4f69-8431-e35ecaa85ebc"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"lidar_2019_mnt",imageType:"image/png"},{id:1753,name:"lidar_2019_mns",metadata:{legend_name:"lidar:mns2019",metadata_id:"d7bd80d7-23de-462f-bd3e-6bd863e1fc1d"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"lidar_2019_mns",imageType:"image/png"},{id:2311,name:"act_hillshade_2019",metadata:{is_queryable:!0,metadata_id:"8171b99e-df8b-4cf0-af36-f77c222e1690"},dimensions:{},type:"WMS",layers:"act_hillshade_2019",imageType:"image/png",style:"default",childLayers:[{name:"act_hillshade_2019__3"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1929,name:"zones_UAS",children:[{id:1927,name:"zones_UAS_0_50m",metadata:{is_queryable:!0,legend_name:"drones",metadata_id:"5589a912-bfa0-4b57-a560-b67e5ff342b9",start_opacity:.6},dimensions:{},type:"WMS",layers:"zones_UAS_0_50m",imageType:"image/png",childLayers:[{name:"zones_UAS_0_50m__0"}]},{id:1928,name:"zones_UAS_50_120m",metadata:{is_queryable:!0,legend_name:"drones",metadata_id:"9e5b263b-4a81-4841-824c-8c44e6261470",start_opacity:.6},dimensions:{},type:"WMS",layers:"zones_UAS_50_120m",imageType:"image/png",childLayers:[{name:"zones_UAS_50_120m__1"}]}],metadata:{},mixed:!0},{id:2132,name:"meteo_live",children:[{id:2133,name:"meteo_live_temp",metadata:{metadata_id:"60fd8ad2-e4aa-45c7-80a7-62b7551e0c6b"},dimensions:{},type:"WMS",layers:"meteo_live_temp",imageType:"image/png",style:"default",childLayers:[{name:"meteo_live_temp__MF.PointTimeSeriesObservation_Live_ASTA_avg_ta200"}]},{id:2139,name:"meteo_live_precipitation_sum",metadata:{metadata_id:"cd98c205-6413-49f0-88dd-8c68b02bb68c"},dimensions:{},type:"WMS",layers:"meteo_live_precipitation_sum",imageType:"image/png",style:"default",childLayers:[{name:"meteo_live_precipitation_sum__MF.PointTimeSeriesObservation_Live_ASTA_sum_nn050"}]},{id:2135,name:"meteo_live_humidity",metadata:{metadata_id:"7b09bc66-20a9-4d8b-9ae9-0c89f4fddcdf"},dimensions:{},type:"WMS",layers:"meteo_live_humidity",imageType:"image/png",style:"default",childLayers:[{name:"meteo_live_humidity__MF.PointTimeSeriesObservation_Live_ASTA_avg_rh200"}]},{id:2136,name:"meteo_live_windspeed",metadata:{metadata_id:"8f12d598-539c-4f58-a401-4422a392f995"},dimensions:{},type:"WMS",layers:"meteo_live_windspeed",imageType:"image/png",style:"default",childLayers:[{name:"meteo_live_windspeed__MF.PointTimeSeriesObservation_Live_ASTA_avg_wv1000"}]},{id:2138,name:"meteo_live_sunshine",metadata:{metadata_id:"b05144c8-f416-4bd7-96fe-2d992650db9f"},dimensions:{},type:"WMS",layers:"meteo_live_sunshine",imageType:"image/png",style:"default",childLayers:[{name:"meteo_live_sunshine__MF.PointTimeSeriesObservation_Live_ASTA_sum_ssd"}]},{id:2137,name:"meteo_live_irradiation",metadata:{metadata_id:"f1fb363e-1d4e-4fba-9c05-82ddcc8f1e72"},dimensions:{},type:"WMS",layers:"meteo_live_irradiation",imageType:"image/png",style:"default",childLayers:[{name:"meteo_live_irradiation__MF.PointTimeSeriesObservation_Live_ASTA_sum_gs200"}]}],metadata:{},mixed:!0},{id:2316,name:"cadastre_commerce_group",children:[{id:2315,name:"cadastre_commerce_wirtschaftszweig",metadata:{is_queryable:!0,metadata_id:"2b6047e0-5092-4f66-926a-e9c79d6b6b88"},dimensions:{},type:"WMS",layers:"cadastre_commerce_wirtschaftszweig",imageType:"image/png",childLayers:[{name:"cadastre_commerce_wirtschaftszweig__5"}]},{id:2439,name:"cadastre_commerce_branchen",metadata:{is_queryable:!0,metadata_id:"5229ca5c-12b8-489b-b5c6-6abd373ac998"},dimensions:{},type:"WMS",layers:"cadastre_commerce_branchen",imageType:"image/png",childLayers:[{name:"cadastre_commerce_branchen__4"}]},{id:2444,name:"cadastre_commerce_betriebsform",metadata:{is_queryable:!0,metadata_id:"70f15780-a4d7-4170-8b2d-4868389c4eef"},dimensions:{},type:"WMS",layers:"cadastre_commerce_betriebsform",imageType:"image/png",childLayers:[{name:"cadastre_commerce_betriebsform__6"}]}],metadata:{},mixed:!0},{id:9999992316,name:"time_layers_e2e",children:[{id:9999991858,name:"starkregen",metadata:{time_config:'{"time_override": {"timepositions": ["2014-08-31T12:43:47.000Z/2020-12-31T23:59:59.000Z/P1M"]}}'},dimensions:{},type:"WMS",layers:"starkregen",imageType:"image/png",childLayers:[{name:"starkregen__0"}],time:{minValue:"2014-08-31T12:43:47Z",maxValue:"2020-12-31T23:59:59Z",interval:[0,1,0,0],resolution:"second",minDefValue:null,maxDefValue:null,mode:"range",widget:"slider"}},{id:9999991859,name:"parz",metadata:{time_config:'{"time_override": {"timepositions": ["2014-08-31T12:43:47.000Z/2020-12-31T23:59:59.000Z/P1M"]}}'},dimensions:{},type:"WMS",layers:"parzelle",imageType:"image/png",childLayers:[{}],time:{minValue:"2014-08-31T12:43:47Z",maxValue:"2020-12-31T23:59:59Z",interval:[0,1,0,0],resolution:"second",minDefValue:"2014-08-31T12:43:47Z",maxDefValue:null,mode:"value",widget:"datepicker"}},{id:9999991860,name:"parz_slider",metadata:{time_config:'{"time_override": {"timepositions": ["2014-08-31T12:43:47.000Z/2020-12-31T23:59:59.000Z/P1M"]}}'},dimensions:{},type:"WMS",layers:"parzelle_slider",imageType:"image/png",childLayers:[{}],time:{minValue:"2014-08-31T12:43:47Z",maxValue:"2020-12-31T23:59:59Z",interval:[0,1,0,0],resolution:"second",minDefValue:"2014-08-31T12:43:47Z",maxDefValue:null,mode:"value",widget:"slider"}},{id:9999991861,name:"act_ortho_time",metadata:{time_config:'{"default_time":"2022-08","time_links":{"2001-08":"ortho_2001","2004-08":"ortho_2004","2007-08":"ortho_2007","2010-08":"ortho_2010","2013-08":"ortho_2013","2016-08":"ortho_2016","2017-08":"ortho_2017","2018-08":"ortho_2018","2019-01":"ortho_2019_winter","2019-08":"ortho_2019","2020-08":"ortho_2020","2021-08":"ortho_2021","2022-08":"ortho_2022"}}',time_layers:{"2001-08-01T00:00:00Z":"ortho_2001","2004-08-01T00:00:00Z":"ortho_2004","2007-08-01T00:00:00Z":"ortho_2007","2010-08-01T00:00:00Z":"ortho_2010","2013-08-01T00:00:00Z":"ortho_2013","2016-08-01T00:00:00Z":"ortho_2016","2017-08-01T00:00:00Z":"ortho_2017","2018-08-01T00:00:00Z":"ortho_2018","2019-01-01T00:00:00Z":"ortho_2019_winter","2019-08-01T00:00:00Z":"ortho_2019","2020-08-01T00:00:00Z":"ortho_2020","2021-08-01T00:00:00Z":"ortho_2021","2022-08-01T00:00:00Z":"ortho_2022"}},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",layer:"act_ortho_time",imageType:"image/jpeg",time:{minValue:"2001-08-01T00:00:00Z",maxValue:"2022-08-01T00:00:00Z",values:["2001-08-01T00:00:00Z","2004-08-01T00:00:00Z","2007-08-01T00:00:00Z","2010-08-01T00:00:00Z","2013-08-01T00:00:00Z","2016-08-01T00:00:00Z","2017-08-01T00:00:00Z","2018-08-01T00:00:00Z","2019-01-01T00:00:00Z","2019-08-01T00:00:00Z","2020-08-01T00:00:00Z","2021-08-01T00:00:00Z","2022-08-01T00:00:00Z"],resolution:"month",minDefValue:"2022-08-01T00:00:00Z",maxDefValue:null,mode:"value",widget:"slider"}},{id:999999,name:"layer_datepicker_range",metadata:{time_config:'{"time_override": {"timepositions": ["2014-08-31T12:43:47.000Z/2020-12-31T23:59:59.000Z/P1M"]}}'},dimensions:{},type:"WMS",layers:"layer_datepicker_range",imageType:"image/png",childLayers:[{}],time:{minValue:"2014-08-31T12:43:47Z",maxValue:"2020-12-31T23:59:59Z",interval:[0,1,0,0],resolution:"second",minDefValue:"2014-08-31T12:43:47Z",maxDefValue:null,mode:"range",widget:"datepicker"}}]}],functionalities:{},metadata:{css:"main.css",display_in_switcher:!0,fake_scales:["750","1500","3000","6000","15000","30000","60000","150000","300000","450000","700000","1500000"],page_title:"map.geoportail.lu",print_img:"bandeau.jpg",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["1000","1500","2500","5000","10000","15000","20000","25000","50000","80000","100000","125000","200000","250000","400000"],print_short_txt_de:"map.geoportal.lu",print_short_txt_en:"map.geoportal.lu",print_short_txt_fr:"map.geoportal.lu",print_short_txt_lu:"map.geoportal.lu",resolutions:["500.0","250.0","150.0","100.0","50.0","20.0","10.0","5.0","2.0","1.0","0.5","0.25"],show_in_mobile:!0}},{id:122,name:"tourisme",icon:"tourisme",children:[{id:2005,name:"tour_rando_new",children:[{id:2006,name:"tour_rando_highlights_new",children:[{id:189,name:"tour_mullerthal_trail",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"be71ab82-8930-4da7-840d-a99374312093"},dimensions:{},type:"WMS",layers:"tour_mullerthal_trail",imageType:"image/png",style:"default",childLayers:[{name:"tour_mullerthal_trail__category"}]},{id:205,name:"tour_escape_ardenne",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"f01f9d77-cb2e-4189-89a9-df7eed16525b"},dimensions:{},type:"WMS",layers:"tour_escape_ardenne",imageType:"image/png",style:"default",childLayers:[{name:"tour_escape_ardenne__category"}]},{id:1518,name:"tour_rando_eislekpied_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"43514e15-d64c-4c53-b540-e9995a06c52e"},dimensions:{},type:"WMS",layers:"tour_rando_eislekpied_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_eislekpied_new__category"}]},{id:2019,name:"tour_rando_guttlandtrails_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"905f1710-7cb4-4f5b-9da9-3d09f82597a3"},dimensions:{},type:"WMS",layers:"tour_rando_guttlandtrails_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_guttlandtrails_new__category"}]},{id:168,name:"tour_rando_traumschleifen_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"109f2940-b476-4bdd-96a8-7301fa3c7e39"},dimensions:{},type:"WMS",layers:"tour_rando_traumschleifen_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_traumschleifen_new__category"}]},{id:250,name:"tour_DeLux",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"df101633-54fb-46bb-9d33-91d241c69ae2"},dimensions:{},type:"WMS",layers:"tour_DeLux",imageType:"image/png",style:"default",childLayers:[{name:"tour_DeLux__category"}]},{id:2020,name:"tour_rando_minetttrail_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"84002ce6-1e76-4c38-9c25-3883aa0071ba"},dimensions:{},type:"WMS",layers:"tour_rando_minetttrail_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_minetttrail_new__category"}]},{id:2141,name:"tour_circuit_du_lac",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"61ae77c3-9a90-429c-9590-60b0f616d447"},dimensions:{},type:"WMS",layers:"tour_circuit_du_lac",imageType:"image/png",style:"default",childLayers:[{name:"tour_circuit_du_lac__category"}]},{id:2142,name:"tour_sentier_adrien_ries",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"91563b6c-a5d1-4583-9633-9554e5bbda49"},dimensions:{},type:"WMS",layers:"tour_sentier_adrien_ries",imageType:"image/png",style:"default",childLayers:[{name:"tour_sentier_adrien_ries__category"}]}],metadata:{},mixed:!0},{id:2007,name:"tour_rando_rundwege_new",children:[{id:176,name:"tour_autopedestre",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"1514749f-19e9-4873-9c70-68b34ebc2e30"},dimensions:{},type:"WMS",layers:"tour_autopedestre",imageType:"image/png",style:"default",childLayers:[{name:"tour_autopedestre__category"}]},{id:2048,name:"tour_rando_lokale_wanderwege_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"5c82ad5e-8568-4f95-820d-5689a7eff3ee"},dimensions:{},type:"WMS",layers:"tour_rando_lokale_wanderwege_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_lokale_wanderwege_new__category"}]},{id:2658,name:"tour_komfort_wanderwege_public",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"5f5b3935-1645-4080-a916-24e55acc2395"},dimensions:{},type:"WMS",layers:"tour_komfort_wanderwege_public",imageType:"image/png",style:"default",childLayers:[{name:"tour_komfort_wanderwege_public__category"}]}],metadata:{},mixed:!0},{id:2008,name:"tour_rando_streckenwanderwege_new",children:[{id:235,name:"tour_sentiers_gr",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"004e728b-6e63-4ab7-9b65-f327eb2f7618"},dimensions:{},type:"WMS",layers:"tour_sentiers_gr",imageType:"image/png",style:"default",childLayers:[{name:"tour_sentiers_gr__category"}]},{id:227,name:"tour_sentiers_nationaux",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"05311fc8-28fa-470c-984e-879a410ce753"},dimensions:{},type:"WMS",layers:"tour_sentiers_nationaux",imageType:"image/png",style:"default",childLayers:[{name:"tour_sentiers_nationaux__category"}]},{id:158,name:"tour_cfl",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"cfa696a6-1c25-4ba5-bde1-beb140776881"},dimensions:{},type:"WMS",layers:"tour_cfl",imageType:"image/png",style:"default",childLayers:[{name:"tour_cfl__category"}]},{id:197,name:"tour_sentiers_ajl",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"c2587c18-ed11-44da-99dd-760a3fd73126"},dimensions:{},type:"WMS",layers:"tour_sentiers_ajl",imageType:"image/png",style:"default",childLayers:[{name:"tour_sentiers_ajl__category"}]},{id:218,name:"tour_saint_jacques",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"431c5622-7941-482b-a629-42bd1db17dfe"},dimensions:{},type:"WMS",layers:"tour_saint_jacques",imageType:"image/png",style:"default",childLayers:[{name:"tour_saint_jacques__category"}]},{id:2675,name:"tour_liberation_route",metadata:{is_queryable:!0,metadata_id:"348236c5-0894-4a5b-8a2e-39e22f0b8272"},dimensions:{},type:"WMS",layers:"tour_liberation_route",imageType:"image/png",style:"default",childLayers:[{name:"tour_liberation_route__category"}]}],metadata:{},mixed:!0},{id:2009,name:"tour_rando_thematique_new",children:[{id:2021,name:"tour_rando_natur_geologie_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"4f360781-3708-416a-a6d5-8944a4864737"},dimensions:{},type:"WMS",layers:"tour_rando_natur_geologie_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_natur_geologie_new__category"}]},{id:316,name:"env_sentiersnature",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"cfc8de82-e187-4547-a1da-83385f86c786"},dimensions:{},type:"WMS",layers:"env_sentiersnature",imageType:"image/png",style:"default",childLayers:[{name:"env_sentiersnature__sentiers_nature"}]},{id:2022,name:"tour_rando_kunst_kultur_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"8fd3ce05-52b9-4104-9ecc-c671281eb8de"},dimensions:{},type:"WMS",layers:"tour_rando_kunst_kultur_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_kunst_kultur_new__category"}]},{id:2023,name:"tour_rando_geschichte_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"92ad7d05-c898-4ed9-8833-8f5ffa4645d3"},dimensions:{},type:"WMS",layers:"tour_rando_geschichte_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_geschichte_new__category"}]},{id:2028,name:"tour_rando_wein_genuss_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"b906a49a-3f35-442d-bada-1a28f132d8fc"},dimensions:{},type:"WMS",layers:"tour_rando_wein_genuss_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_wein_genuss_new__category"}]},{id:2024,name:"tour_rando_barrierefrei_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"7d274be4-fdf0-4a33-995d-cfb45c3d27ba"},dimensions:{},type:"WMS",layers:"tour_rando_barrierefrei_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_barrierefrei_new__category"}]},{id:2029,name:"tour_rando_fitness_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"d4c74795-d5dd-40b3-b17f-1d77eacd352a"},dimensions:{},type:"WMS",layers:"tour_rando_fitness_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_fitness_new__category"}]},{id:2025,name:"tour_rando_kinder_familie_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"6ff5faaa-5a08-4619-a2e5-bdfc29feb9e0"},dimensions:{},type:"WMS",layers:"tour_rando_kinder_familie_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_kinder_familie_new__category"}]},{id:370,name:"luxembourg_on_horse",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"e142f06a-349a-4163-a2a2-9dbdffe3fc95"},dimensions:{},type:"WMS",layers:"luxembourg_on_horse",imageType:"image/png",style:"default",childLayers:[{name:"luxembourg_on_horse__category"}]}],metadata:{},mixed:!0},{id:692,name:"tour_ivv",children:[{id:688,name:"tour_ivv_perm",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"83a51232-c3f3-4670-9f48-22e66a3c2a98"},dimensions:{},type:"WMS",layers:"tour_ivv_perm",imageType:"image/png",style:"default",childLayers:[{name:"tour_ivv_perm__category"}]},{id:693,name:"tour_ivv_temp",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"f2b4174d-65d6-41f4-a612-188ca5f936be"},dimensions:{},type:"WMS",layers:"tour_ivv_temp",imageType:"image/png",style:"default",childLayers:[{name:"tour_ivv_temp__category"}]}],metadata:{},mixed:!0},{id:668,name:"tour_restrictions",children:[{id:667,name:"tour_restrictions_autre",metadata:{is_queryable:!0,metadata_id:"08bf0fb9-1158-46d7-a91a-e8bd6d3bb7f8"},dimensions:{},type:"WMS",layers:"tour_restrictions_autre",imageType:"image/png",style:"default",childLayers:[{name:"tour_restrictions_autre__category"}]},{id:444,name:"anf_dates_battues",metadata:{exclusion:"[340]",is_queryable:!1,metadata_id:"cd5c65e3-ce29-4317-bc07-127bc679861f"},dimensions:{},type:"WMS",layers:"anf_dates_battues",imageType:"image/png",style:"default",childLayers:[{name:"anf_dates_battues__BATTUES_CHASSE"}]}],metadata:{},mixed:!0},{id:2811,name:"tour_randonnee_all",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_randonnee_all",imageType:"image/png",style:"default",childLayers:[{name:"tour_randonnee_all__category"}]}],metadata:{},mixed:!0},{id:2010,name:"tour_velo_new",children:[{id:2011,name:"tour_velo_radwege_new",children:[{id:808,name:"velo_by_pch",metadata:{is_queryable:!0,legend_name:"tour_velo_national",linked_layers:["1713","1714"],metadata_id:"387f6949-0fc4-43a5-b0e6-4e09bdf65225"},dimensions:{},type:"WMS",layers:"velo_by_pch",imageType:"image/png",style:"default",childLayers:[{name:"velo_by_pch__4"},{name:"velo_by_pch__5"}]},{id:512,name:"tour_pistes_velo_mymaps2",metadata:{is_queryable:!0,legend_name:"tour_velo_national",metadata_id:"e9fea021-2aab-4f58-a777-8c7536898d9b"},dimensions:{},type:"WMS",layers:"tour_pistes_velo_mymaps2",imageType:"image/png",style:"default",childLayers:[{name:"tour_pistes_velo_mymaps2__category"}]},{id:2732,name:"tour_kommunales_radwegenetz",metadata:{is_queryable:!0,metadata_id:"dc769481-d0b2-430b-b350-41698fc3df79"},dimensions:{},type:"WMS",layers:"tour_kommunales_radwegenetz",imageType:"image/png",style:"default",childLayers:[{name:"tour_kommunales_radwegenetz__category"}]},{id:2705,name:"tour_Radwege_Nachbarlaender",metadata:{is_queryable:!0,metadata_id:"3c9b8eb4-310c-4918-abd6-8462c6d16a43"},dimensions:{},type:"WMS",layers:"tour_Radwege_Nachbarlaender",imageType:"image/png",style:"default",childLayers:[{name:"tour_Radwege_Nachbarlaender__category"}]}],metadata:{},mixed:!0},{id:2012,name:"tour_velo_radtouren_new",children:[{id:809,name:"lvi_circuits_cyclables",metadata:{is_queryable:!0,metadata_id:"e5e9ddf6-dfdb-4d3b-a0e2-d1be2272bf38"},dimensions:{},type:"WMS",layers:"lvi_circuits_cyclables",imageType:"image/png",style:"default",childLayers:[{name:"lvi_circuits_cyclables__category"}]},{id:676,name:"tour_velo_route",metadata:{is_queryable:!0,linked_layers:["1713","1714"],metadata_id:"2a07d7fb-ae3e-4385-bf61-b071a7f6ffbd"},dimensions:{},type:"WMS",layers:"tour_velo_route",imageType:"image/png",style:"default",childLayers:[{name:"tour_velo_route__category"}]},{id:293,name:"tour_pistes_vtt",metadata:{is_queryable:!0,linked_layers:["2026"],metadata_id:"2ea699a2-dc3c-4bd6-92fc-f7325b0c7fee"},dimensions:{},type:"WMS",layers:"tour_pistes_vtt",imageType:"image/png",style:"default",childLayers:[{name:"tour_pistes_vtt__category"}]}],metadata:{},mixed:!0},{id:2706,name:"tour_Fernradwege",children:[{id:2701,name:"tour_EuroVelo5",metadata:{is_queryable:!0,metadata_id:"2355f6bd-8b91-42fc-8071-b47747fef4c8"},dimensions:{},type:"WMS",layers:"tour_EuroVelo5",imageType:"image/png",style:"default",childLayers:[{name:"tour_EuroVelo5__category"}]},{id:2702,name:"tour_Vennbahn",metadata:{is_queryable:!0,metadata_id:"07a2c2d2-f642-4a5a-9c76-bac2a641e481"},dimensions:{},type:"WMS",layers:"tour_Vennbahn",imageType:"image/png",style:"default",childLayers:[{name:"tour_Vennbahn__category"}]},{id:2703,name:"tour_SaarLorLux",metadata:{is_queryable:!0,metadata_id:"23815b5b-6d7a-49a3-9635-69f8a56ce835"},dimensions:{},type:"WMS",layers:"tour_SaarLorLux",imageType:"image/png",style:"default",childLayers:[{name:"tour_SaarLorLux__category"}]},{id:2704,name:"tour_Voie_bleue",metadata:{is_queryable:!0,metadata_id:"aa88ba5e-f09c-4d8f-9bb8-a3ba09b5f6f7"},dimensions:{},type:"WMS",layers:"tour_Voie_bleue",imageType:"image/png",style:"default",childLayers:[{name:"tour_Voie_bleue__category"}]}],metadata:{},mixed:!0},{id:2013,name:"tour_fahrradstationen_new",children:[{id:2821,name:"tour_fahrradverleih",metadata:{is_queryable:!0,metadata_id:"657c2a5f-9aac-4a7f-bf0d-1bd8500c8891"},dimensions:{},type:"WMS",layers:"tour_fahrradverleih",imageType:"image/png",style:"default",childLayers:[{name:"tour_fahrradverleih__21"},{name:"tour_fahrradverleih__22"}]},{id:2040,name:"tour_ebike_ladestationen",metadata:{is_queryable:!0,metadata_id:"f2a97908-06ba-4654-b302-039e5c14ee48"},dimensions:{},type:"WMS",layers:"tour_ebike_ladestationen",imageType:"image/png",style:"default",childLayers:[{name:"tour_ebike_ladestationen__10"}]},{id:2039,name:"tour_fahrradstationen_reparatur_wasch_new",metadata:{is_queryable:!0,metadata_id:"43adb071-d70e-415d-8c4e-3b64bff2a1cb"},dimensions:{},type:"WMS",layers:"tour_fahrradstationen_reparatur_wasch_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_fahrradstationen_reparatur_wasch_new__9"}]},{id:2733,name:"tour_fahrradstationen_waschstationen_new",metadata:{is_queryable:!0,metadata_id:"4cb92c0e-933a-4c6d-8a92-8f6755594641"},dimensions:{},type:"WMS",layers:"tour_fahrradstationen_waschstationen_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_fahrradstationen_waschstationen_new__19"}]}],metadata:{},mixed:!0},{id:2014,name:"tour_restrictions_velo_new",children:[{id:1713,name:"chantiers_actuels_pc",metadata:{is_queryable:!0,metadata_id:"7d59f3a6-e8d8-464b-bbf9-73c6ca358a51",start_opacity:1},dimensions:{},type:"WMS",layers:"chantiers_actuels_pc",imageType:"image/png",style:"default",childLayers:[{name:"chantiers_actuels_pc__CHANTIERS_ACTUEL_PC"}]},{id:1714,name:"chantiers_futurs_pc",metadata:{is_queryable:!0,metadata_id:"f6b9df36-5e62-46d1-ae91-c7c58c7e2e45",start_opacity:1},dimensions:{},type:"WMS",layers:"chantiers_futurs_pc",imageType:"image/png",style:"default",childLayers:[{name:"chantiers_futurs_pc__CHANTIERS_FUTUR_PC"}]},{id:2026,name:"tour_restrictions_MTB_new",metadata:{is_queryable:!0,metadata_id:"ec4ddb2e-40b2-4844-9f1b-042427772e7b"},dimensions:{},type:"WMS",layers:"tour_restrictions_MTB_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_restrictions_MTB_new__category"}]},{id:444,name:"anf_dates_battues",metadata:{exclusion:"[340]",is_queryable:!1,metadata_id:"cd5c65e3-ce29-4317-bc07-127bc679861f"},dimensions:{},type:"WMS",layers:"anf_dates_battues",imageType:"image/png",style:"default",childLayers:[{name:"anf_dates_battues__BATTUES_CHASSE"}]}],metadata:{},mixed:!0},{id:725,name:"tour_tdl",metadata:{is_queryable:!0,metadata_id:"35226642-3f09-4f98-86b6-6e55316bce53"},dimensions:{},type:"WMS",layers:"tour_tdl",imageType:"image/png",style:"default",childLayers:[{name:"tour_tdl__category"}]}],metadata:{},mixed:!0},{id:336,name:"tour_auto_moto_v2",children:[{id:681,name:"tour_moto",metadata:{is_queryable:!0,metadata_id:"5256618e-6c50-4044-84cb-ce5740abe508"},dimensions:{},type:"WMS",layers:"tour_moto",imageType:"image/png",style:"default",childLayers:[{name:"tour_moto__category"}]},{id:254,name:"tour_touring",metadata:{is_queryable:!0,metadata_id:"89e49996-258f-4a7e-86a3-80e2e9af51c9"},dimensions:{},type:"WMS",layers:"tour_touring",imageType:"image/png",style:"default",childLayers:[{name:"tour_touring__category"}]},{id:685,name:"cita_chantiers_actuel",metadata:{is_queryable:!0,metadata_id:"9c823038-5965-47cc-8dad-21496e57e3f2",start_opacity:1},dimensions:{},type:"WMS",layers:"cita_chantiers_actuel",imageType:"image/png",style:"default",childLayers:[{name:"cita_chantiers_actuel__CHANTIERS_ACTUEL"}]},{id:2058,name:"grand_tour_luxembourg",metadata:{is_queryable:!0,metadata_id:"d0157590-ddaf-487a-8994-d7142fd07ed8"},dimensions:{},type:"WMS",layers:"grand_tour_luxembourg",imageType:"image/png",style:"default",childLayers:[{name:"grand_tour_luxembourg__category"}]},{id:2674,name:"tour_grand_tour_regionale_touren",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_grand_tour_regionale_touren",imageType:"image/png",style:"default",childLayers:[{name:"tour_grand_tour_regionale_touren__category"}]}],metadata:{},mixed:!0},{id:2015,name:"tour_mobilite_new",children:[{id:2016,name:"tour_bus_bahn_new",children:[{id:423,name:"mobiliteit_cfl",metadata:{is_queryable:!0,legend_name:"mobiliteit:cfl",max_dpi:128,metadata_id:"0b3c42a2-275e-4519-b228-f407d46b8350"},dimensions:{},type:"WMS",layers:"mobiliteit_cfl",imageType:"image/png",style:"default",childLayers:[{name:"mobiliteit_cfl__1"}]},{id:817,name:"cdt_lignes_cfl",metadata:{is_queryable:!0,metadata_id:"84ebdfbc-ba25-464c-af86-e74e588978ef"},dimensions:{},type:"WMS",layers:"cdt_lignes_cfl",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_cfl__category"}]},{id:147,name:"arrets_bus",metadata:{is_queryable:!0,legend_name:"mobiliteit:arrets_de_bus",linked_layers:["813"],metadata_id:"7318c6e8-bb63-40e0-9e40-46ae7b0dc266"},dimensions:{},type:"WMS",layers:"arrets_bus",imageType:"image/png",style:"default",childLayers:[{name:"arrets_bus__0"},{name:"arrets_bus__1"}]},{id:813,name:"cdt_lignes_all",metadata:{is_queryable:!0,metadata_id:"bbe0523f-374d-4c94-a27d-7ce81d8bae3b"},dimensions:{},type:"WMS",layers:"cdt_lignes_all",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_all__lignes_de_bus_detaillees"},{name:"cdt_lignes_all__lignes_de_bus_detaillees_mymaps"}]},{id:1374,name:"cdt_lignes_tram",metadata:{is_queryable:!0,metadata_id:"0f46c673-d4b4-4c25-8d9a-fca41035f587"},dimensions:{},type:"WMS",layers:"cdt_lignes_tram",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_tram__category"}]}],metadata:{},mixed:!0},{id:2017,name:"tour_auto_new",children:[{id:377,name:"mobiliteit_pr",metadata:{is_queryable:!0,legend_name:"mobiliteit:pr",max_dpi:128,metadata_id:"9e0c97ae-aff9-41fc-9489-bbf97999163d"},dimensions:{},type:"WMS",layers:"mobiliteit_pr",imageType:"image/png",style:"default",childLayers:[{name:"mobiliteit_pr__0"}]},{id:1381,name:"chargy",metadata:{is_queryable:!0,legend_name:"chargy",metadata_id:"801d732a-c285-4fcd-a043-c5220d6d7eef"},dimensions:{},type:"WMS",layers:"chargy",imageType:"image/png",style:"default",childLayers:[{name:"chargy__chargy"}]},{id:2707,name:"mmtp_electromobilite_AC",metadata:{is_queryable:!0,metadata_id:"08885ef4-d534-47d4-8b93-2883c71a8452"},dimensions:{},type:"WMS",layers:"mmtp_electromobilite_AC",imageType:"image/png",style:"default",childLayers:[{name:"mmtp_electromobilite_AC__0"}]},{id:2708,name:"mmtp_electromobilite_DC",metadata:{is_queryable:!0,metadata_id:"624d34e4-1192-40bb-871a-e6c8720d766b"},dimensions:{},type:"WMS",layers:"mmtp_electromobilite_DC",imageType:"image/png",style:"default",childLayers:[{name:"mmtp_electromobilite_DC__2"}]},{id:713,name:"pch_radars",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"385180ba-a9bc-49d4-8858-ba5f19942a66",start_opacity:1},dimensions:{},type:"WMS",layers:"pch_radars",imageType:"image/png",style:"default",childLayers:[{name:"pch_radars__1"},{name:"pch_radars__2"}]},{id:685,name:"cita_chantiers_actuel",metadata:{is_queryable:!0,metadata_id:"9c823038-5965-47cc-8dad-21496e57e3f2",start_opacity:1},dimensions:{},type:"WMS",layers:"cita_chantiers_actuel",imageType:"image/png",style:"default",childLayers:[{name:"cita_chantiers_actuel__CHANTIERS_ACTUEL"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2018,name:"tour_erleben_new",children:[{id:2042,name:"tour_tourist_info_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_tourist_info_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_tourist_info_new__7"}]},{id:2030,name:"tour_essen_uebernachten_new",children:[{id:2038,name:"tour_hotels_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_hotels_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_hotels_new__2"}]},{id:2037,name:"tour_camping_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_camping_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_camping_new__11"}]},{id:2036,name:"tour_jugendherberge_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_jugendherberge_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_jugendherberge_new__12"}]},{id:2035,name:"tour_fewo_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_fewo_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_fewo_new__13"}]},{id:2034,name:"tour_bb_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_bb_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_bb_new__14"}]},{id:2033,name:"tour_restaurants_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_restaurants_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_restaurants_new__15"}]}],metadata:{},mixed:!0},{id:2031,name:"tour_kultur_new",children:[{id:2044,name:"tour_burgen_schloesser_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_burgen_schloesser_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_burgen_schloesser_new__16"}]},{id:2043,name:"tour_museen_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_museen_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_museen_new__17"}]},{id:2027,name:"tour_unesco_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_unesco_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_unesco_new__category"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2032,name:"tour_erste_hilfe_new",children:[{id:2047,name:"hopitaux",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"2047",imageType:"image/png",style:"default",childLayers:[{name:"hopitaux__POI"}]},{id:1621,name:"points_sauvetage_vdl",metadata:{is_queryable:!0,metadata_id:"f8938381-7f09-45d1-becd-506b76327562"},dimensions:{},type:"WMS",layers:"points_sauvetage_vdl",imageType:"image/png",style:"default",childLayers:[{name:"points_sauvetage_vdl__0"}]}],metadata:{},mixed:!0},{id:309,name:"administrative_einheiten",children:[{id:269,name:"communes_labels",metadata:{is_queryable:!0,metadata_id:"17c7d883-ff7f-4b48-a894-46bea40d2e49"},dimensions:{},type:"WMS",layers:"communes_labels",imageType:"image/png",style:"default",childLayers:[{name:"communes_labels__COMMUNES_LABELS"}]},{id:302,name:"communes",metadata:{is_queryable:!0,linked_layers:["269"],metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2049"},dimensions:{},type:"WMS",layers:"communes",imageType:"image/png",style:"default",childLayers:[{name:"communes__COMMUNES"}]},{id:346,name:"cantons_labels",metadata:{is_queryable:!0,metadata_id:"3af20a80-be4a-4819-a42b-18e49af799aa"},dimensions:{},type:"WMS",layers:"cantons_labels",imageType:"image/png",style:"default",childLayers:[{name:"cantons_labels__CANTONS_LABELS"}]},{id:329,name:"cantons",metadata:{is_queryable:!0,metadata_id:"e8a034e8-f986-4745-a848-b7ef30ce2740"},dimensions:{},type:"WMS",layers:"CANTONS",imageType:"image/png",style:"default",childLayers:[{name:"cantons__CANTONS"}]},{id:268,name:"districts_labels",metadata:{is_queryable:!0,metadata_id:"c42842e2-834a-427a-99f6-eb8cb79d1db4"},dimensions:{},type:"WMS",layers:"districts_labels",imageType:"image/png",style:"default",childLayers:[{name:"districts_labels__DISTRICTS_LABELS"}]},{id:354,name:"districts",metadata:{is_queryable:!0,metadata_id:"b9edd03f-3aef-4fd6-a3d9-db076b1cf237"},dimensions:{},type:"WMS",layers:"districts",imageType:"image/png",style:"default",childLayers:[{name:"districts__DISTRICTS"}]},{id:349,name:"country",metadata:{is_queryable:!0,metadata_id:"4c9b3c0b-85d4-447d-a68c-7416869f8d9b"},dimensions:{},type:"WMS",layers:"country",imageType:"image/png",style:"default",childLayers:[{name:"country__PAYS"}]},{id:732,name:"limadmin_judiciaire",metadata:{metadata_id:"235c0ac9-5bf6-45b6-9ceb-8680a07944ec"},dimensions:{},type:"WMS",layers:"limadmin_judiciaire",imageType:"image/png",style:"default",childLayers:[{name:"limadmin_judiciaire__ARRONDISSEMENTS JUDICIAIRES"}]},{id:733,name:"limadmin_legislatif",metadata:{metadata_id:"627b78d9-ae18-4be2-9a69-02aa6d4e38bb"},dimensions:{},type:"WMS",layers:"limadmin_legislatif",imageType:"image/png",style:"default",childLayers:[{name:"limadmin_legislatif__CIRCONSCRIPTIONS LEGISLATIVES"}]},{id:744,name:"tour_ort",metadata:{is_queryable:!0,metadata_id:"44dbfde5-664e-4e45-8802-3d60b52eb9cb",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_ort",imageType:"image/png",style:"default",childLayers:[{name:"tour_ort__3"}]},{id:746,name:"tour_leader",metadata:{is_queryable:!0,metadata_id:"a48aec89-7341-459e-a7d3-0e572982b255",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_leader",imageType:"image/png",style:"default",childLayers:[{name:"tour_leader__0"}]},{id:747,name:"tour_parcsnaturels",metadata:{is_queryable:!0,legend_name:"parcnaturel",metadata_id:"f519c4e7-4459-49b5-b8c1-569328252d44",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_parcnaturels",imageType:"image/png",style:"default",childLayers:[{name:"tour_parcsnaturels__4"}]},{id:2213,name:"at_unesco_minett",metadata:{is_queryable:!0,legend_name:"at:unesco_minett",metadata_id:"815fc4a3-95ef-47b6-a9ff-fa7e88654639"},dimensions:{},type:"WMS",layers:"at_unesco_minett",imageType:"image/png",style:"default",childLayers:[{name:"at_unesco_minett__0"}]},{id:678,name:"anf_stations_biologiques",metadata:{is_queryable:!0,metadata_id:"05e497fc-625d-4701-90af-dbe8813201ab"},dimensions:{},type:"WMS",layers:"anf_stations_biologiques",imageType:"image/png",style:"default",childLayers:[{name:"anf_stations_biologiques__STATIONS_BIOLOGIQUES"}]},{id:1364,name:"act_frontieres_isodistances",metadata:{metadata_id:"09318d11-a908-4dea-a8f9-0558d20b980f",start_opacity:.5},dimensions:{},type:"WMS",layers:"act_frontieres_isodistances",imageType:"image/png",style:"default",childLayers:[{name:"act_frontieres_isodistances__1"},{name:"act_frontieres_isodistances__0"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{bg_layer:"pixelmaps-gray",css:"tourisme.css",display_in_switcher:!0,link_title:"Send email",page_title:"tourisme.geoportail.lu",print_img:"bandeautourisme.png",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["1000","1500","2500","5000","10000","15000","20000","25000","50000","80000","100000","125000","200000","250000","400000"],print_short_txt_de:"tourisme.geoportal.lu",print_short_txt_en:"tourisme.geoportal.lu",print_short_txt_fr:"tourisme.geoportail.lu",print_short_txt_lu:"tourisme.geoportal.lu",show_in_mobile:!0}},{id:105,name:"emwelt",icon:"emwelt",children:[{id:309,name:"administrative_einheiten",children:[{id:269,name:"communes_labels",metadata:{is_queryable:!0,metadata_id:"17c7d883-ff7f-4b48-a894-46bea40d2e49"},dimensions:{},type:"WMS",layers:"communes_labels",imageType:"image/png",style:"default",childLayers:[{name:"communes_labels__COMMUNES_LABELS"}]},{id:302,name:"communes",metadata:{is_queryable:!0,linked_layers:["269"],metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2049"},dimensions:{},type:"WMS",layers:"communes",imageType:"image/png",style:"default",childLayers:[{name:"communes__COMMUNES"}]},{id:346,name:"cantons_labels",metadata:{is_queryable:!0,metadata_id:"3af20a80-be4a-4819-a42b-18e49af799aa"},dimensions:{},type:"WMS",layers:"cantons_labels",imageType:"image/png",style:"default",childLayers:[{name:"cantons_labels__CANTONS_LABELS"}]},{id:329,name:"cantons",metadata:{is_queryable:!0,metadata_id:"e8a034e8-f986-4745-a848-b7ef30ce2740"},dimensions:{},type:"WMS",layers:"CANTONS",imageType:"image/png",style:"default",childLayers:[{name:"cantons__CANTONS"}]},{id:268,name:"districts_labels",metadata:{is_queryable:!0,metadata_id:"c42842e2-834a-427a-99f6-eb8cb79d1db4"},dimensions:{},type:"WMS",layers:"districts_labels",imageType:"image/png",style:"default",childLayers:[{name:"districts_labels__DISTRICTS_LABELS"}]},{id:354,name:"districts",metadata:{is_queryable:!0,metadata_id:"b9edd03f-3aef-4fd6-a3d9-db076b1cf237"},dimensions:{},type:"WMS",layers:"districts",imageType:"image/png",style:"default",childLayers:[{name:"districts__DISTRICTS"}]},{id:349,name:"country",metadata:{is_queryable:!0,metadata_id:"4c9b3c0b-85d4-447d-a68c-7416869f8d9b"},dimensions:{},type:"WMS",layers:"country",imageType:"image/png",style:"default",childLayers:[{name:"country__PAYS"}]},{id:732,name:"limadmin_judiciaire",metadata:{metadata_id:"235c0ac9-5bf6-45b6-9ceb-8680a07944ec"},dimensions:{},type:"WMS",layers:"limadmin_judiciaire",imageType:"image/png",style:"default",childLayers:[{name:"limadmin_judiciaire__ARRONDISSEMENTS JUDICIAIRES"}]},{id:733,name:"limadmin_legislatif",metadata:{metadata_id:"627b78d9-ae18-4be2-9a69-02aa6d4e38bb"},dimensions:{},type:"WMS",layers:"limadmin_legislatif",imageType:"image/png",style:"default",childLayers:[{name:"limadmin_legislatif__CIRCONSCRIPTIONS LEGISLATIVES"}]},{id:744,name:"tour_ort",metadata:{is_queryable:!0,metadata_id:"44dbfde5-664e-4e45-8802-3d60b52eb9cb",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_ort",imageType:"image/png",style:"default",childLayers:[{name:"tour_ort__3"}]},{id:746,name:"tour_leader",metadata:{is_queryable:!0,metadata_id:"a48aec89-7341-459e-a7d3-0e572982b255",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_leader",imageType:"image/png",style:"default",childLayers:[{name:"tour_leader__0"}]},{id:747,name:"tour_parcsnaturels",metadata:{is_queryable:!0,legend_name:"parcnaturel",metadata_id:"f519c4e7-4459-49b5-b8c1-569328252d44",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_parcnaturels",imageType:"image/png",style:"default",childLayers:[{name:"tour_parcsnaturels__4"}]},{id:2213,name:"at_unesco_minett",metadata:{is_queryable:!0,legend_name:"at:unesco_minett",metadata_id:"815fc4a3-95ef-47b6-a9ff-fa7e88654639"},dimensions:{},type:"WMS",layers:"at_unesco_minett",imageType:"image/png",style:"default",childLayers:[{name:"at_unesco_minett__0"}]},{id:678,name:"anf_stations_biologiques",metadata:{is_queryable:!0,metadata_id:"05e497fc-625d-4701-90af-dbe8813201ab"},dimensions:{},type:"WMS",layers:"anf_stations_biologiques",imageType:"image/png",style:"default",childLayers:[{name:"anf_stations_biologiques__STATIONS_BIOLOGIQUES"}]},{id:1364,name:"act_frontieres_isodistances",metadata:{metadata_id:"09318d11-a908-4dea-a8f9-0558d20b980f",start_opacity:.5},dimensions:{},type:"WMS",layers:"act_frontieres_isodistances",imageType:"image/png",style:"default",childLayers:[{name:"act_frontieres_isodistances__1"},{name:"act_frontieres_isodistances__0"}]}],metadata:{},mixed:!0},{id:245,name:"env_zones_protegees",children:[{id:807,name:"zpin_group",children:[{id:804,name:"anf_zpin_declarees",metadata:{is_queryable:!0,legend_name:"anf:zpin_declarees",metadata_id:"9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"},dimensions:{},type:"WMS",layers:"anf_zpin_declarees",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_declarees__ZPIN_DECLAREES"}]},{id:805,name:"anf_zpin_a_declarer",metadata:{is_queryable:!0,legend_name:"anf:zpin_a_declarer",metadata_id:"db53336b-1a33-4b1a-94a8-42a29b55ce45"},dimensions:{},type:"WMS",layers:"anf_zpin_a_declarer",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_a_declarer__ZPIN_A_DECLARER"}]},{id:806,name:"anf_zpin_en_procedure",metadata:{is_queryable:!0,legend_name:"anf:zpin_en_procedure_reglementaire",metadata_id:"74499cf0-ab69-48bd-a357-8c151dd3d5c9"},dimensions:{},type:"WMS",layers:"anf_zpin_en_procedure",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"}]}],metadata:{},mixed:!0},{id:334,name:"env_zones_protegees_communautaires",children:[{id:146,name:"env_natura2000",children:[{id:1915,name:"anf_communes_copil_2020",metadata:{is_queryable:!0,metadata_id:"e0369dfa-0219-4a60-84c4-4ce60cec0a02"},dimensions:{},type:"WMS",layers:"anf_communes_copil_2020",imageType:"image/png",style:"default",childLayers:[{name:"anf_communes_copil_2020__COMMUNES_COPIL_2020"}]},{id:540,name:"natura2000_habitats",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"a38326c1-3d68-43da-9883-a80763ee06e9"},dimensions:{},type:"WMS",layers:"natura2000_habitats",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_habitats__1"}]},{id:533,name:"natura2000_oiseaux",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"},dimensions:{},type:"WMS",layers:"natura2000_oiseaux",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_oiseaux__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1823,name:"anf_mesures_compensatoires_group",children:[{id:1827,name:"anf_secteurs_ecologiques_compensation_ecopoint",metadata:{is_queryable:!0,metadata_id:"22033820-7317-4bcc-9c4c-df5b9ca80550"},dimensions:{},type:"WMS",layers:"anf_secteurs_ecologiques_compensation_ecopoint",imageType:"image/png",style:"default",childLayers:[{name:"anf_secteurs_ecologiques_compensation_ecopoint__SECTEURS_COMPENSATION"}]},{id:1822,name:"anf_projets_compensation_approuves",metadata:{is_queryable:!0,metadata_id:"03aafc0c-c443-42ea-963a-8538a3f089d4"},dimensions:{},type:"WMS",layers:"anf_projets_compensation_approuves",imageType:"image/png",style:"default",childLayers:[{name:"anf_projets_compensation_approuves__ZONES_COMPENSATION_APPROUVEES"}]}],metadata:{},mixed:!0},{id:161,name:"env_obs",children:[{id:1963,name:"env_couverture_sol",children:[{id:1951,name:"LISL_Landcover_2018",metadata:{is_queryable:!0,legend_name:"lisl:lc2018",metadata_id:"6142a6a6-9356-47ac-babe-eaa2ae3628b6"},dimensions:{},type:"WMS",layers:"LISL_Landcover_2018",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landcover_2018__0"},{name:"LISL_Landcover_2018__1"}]},{id:1950,name:"LISL_Landcover_2015_v2",metadata:{is_queryable:!0,legend_name:"lisl:lc2015_2",metadata_id:"67f4ecb8-5d4b-4a9e-a60b-239fc92b25a7"},dimensions:{},type:"WMS",layers:"LISL_Landcover_2015_v2",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landcover_2015_v2__0"},{name:"LISL_Landcover_2015_v2__1"}]},{id:2714,name:"LISL_Landcover_2021",metadata:{is_queryable:!0,legend_name:"lisl:lc2018",metadata_id:"e7afeac8-c649-4c91-ab15-ea40b8986ebc"},dimensions:{},type:"WMS",layers:"LISL_Landcover_2021",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landcover_2021__0"},{name:"LISL_Landcover_2021__4"}]}],metadata:{},mixed:!0},{id:1964,name:"env_utilisation_sol",children:[{id:1970,name:"LISL_Landuse_2018",metadata:{is_queryable:!0,legend_name:"lisl_landuse_2018",metadata_id:"e4572e0b-1b40-4834-b6c3-ccab83f75f57"},dimensions:{},type:"WMS",layers:"LISL_Landuse_2018",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landuse_2018__0"}]},{id:2054,name:"LISL_Landuse_2015_v3",metadata:{is_queryable:!0,legend_name:"lisl_landuse_2015_v3",metadata_id:"65e04718-1890-4c5e-8be7-08a73f69c0cc"},dimensions:{},type:"WMS",layers:"LISL_Landuse_2015_v3",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landuse_2015_v3__0"}]},{id:1969,name:"LISL_Landuse_2007",metadata:{is_queryable:!0,legend_name:"lisl_landuse_2007",metadata_id:"257556b9-560b-4193-b773-e16a9137a690"},dimensions:{},type:"WMS",layers:"LISL_Landuse_2007",imageType:"image/png",style:"default",childLayers:[{name:"LISL_Landuse_2007__0"}]}],metadata:{},mixed:!0},{id:1965,name:"env_impermeabilisation",children:[{id:1952,name:"LISL_taux_impermeabilisation_2018",metadata:{is_queryable:!0,legend_name:"lisl_taux_impermeabilisation_2018",metadata_id:"5b40c571-dd3c-4e76-8f4f-b54746799688"},dimensions:{},type:"WMS",layers:"LISL_taux_impermeabilisation_2018",imageType:"image/png",style:"default",childLayers:[{name:"LISL_taux_impermeabilisation_2018__0"},{name:"LISL_taux_impermeabilisation_2018__1"}]},{id:2216,name:"at_impermeabilisation_grid_2018_100m",metadata:{is_queryable:!0,legend_name:"at:impermeabilisation_grid_2018_100m",metadata_id:"210db74a-e33a-401b-9e17-2cd966cdcd1f"},dimensions:{},type:"WMS",layers:"at_impermeabilisation_grid_2018_100m",imageType:"image/png",style:"default",childLayers:[{name:"at_impermeabilisation_grid_2018_100m__0"}]},{id:2215,name:"at_impermeabilisation_grid_2018_1km",metadata:{is_queryable:!0,legend_name:"at:impermeabilisation_grid_2018_1km",metadata_id:"8dc777d0-f910-4c69-a476-85a73dcd8474"},dimensions:{},type:"WMS",layers:"at_impermeabilisation_grid_2018_1km",imageType:"image/png",style:"default",childLayers:[{name:"at_impermeabilisation_grid_2018_1km__0"}]}],metadata:{},mixed:!0},{id:2212,name:"at_batiments_group",children:[{id:2214,name:"at_batiments_periode_construction",metadata:{is_queryable:!0,legend_name:"at:periode_construction_batiments",metadata_id:"7c138282-86de-4adb-91c2-467b06786821"},dimensions:{},type:"WMS",layers:"at_batiments_periode_construction",imageType:"image/png",style:"default",childLayers:[{name:"at_batiments_periode_construction__0"}]}],metadata:{},mixed:!0},{id:1966,name:"env_occupation_biophysique",children:[{id:215,name:"env_obs2007",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"bd672300-0851-4901-82c4-6099aff1fcf7"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_obs2007",imageType:"image/png"},{id:163,name:"env_obs1999",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"b4836d86-2803-4dcf-a991-7e78ab9c41b6"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_obs1999",imageType:"image/png"}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:276,name:"env_sentiers",children:[{id:316,name:"env_sentiersnature",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"cfc8de82-e187-4547-a1da-83385f86c786"},dimensions:{},type:"WMS",layers:"env_sentiersnature",imageType:"image/png",style:"default",childLayers:[{name:"env_sentiersnature__sentiers_nature"}]},{id:1857,name:"anf_itineraire_nature",metadata:{is_queryable:!0,legend_name:"anf:vakanz_doheem",metadata_id:"fb71d4b6-b11a-4bf0-9b23-cddaa17e058c"},dimensions:{},type:"WMS",layers:"anf_itineraire_nature",imageType:"image/png",style:"default",childLayers:[{name:"anf_itineraire_nature__0"}]},{id:1968,name:"np_uewersauer_randonnee_eau",metadata:{is_queryable:!0,metadata_id:"2bfd404c-1734-491d-94c3-59a16a3edf2c"},dimensions:{},type:"WMS",layers:"np_uewersauer_randonnee_eau",imageType:"image/png",style:"default",childLayers:[{name:"np_uewersauer_randonnee_eau__category"}]}],metadata:{},mixed:!0},{id:280,name:"anf_unites_admin",children:[{id:427,name:"anf_arrondissements",metadata:{is_queryable:!0,metadata_id:"0ed72c13-1975-4cef-90de-1e4b737f5fbd"},dimensions:{},type:"WMS",layers:"anf_arrondissements",imageType:"image/png",style:"default",childLayers:[{name:"anf_arrondissements__ARRONDISSEMENTS"}]},{id:428,name:"anf_triages",metadata:{is_queryable:!0,metadata_id:"d4bb012a-73ab-4d3c-ac0c-f31e9df07d34"},dimensions:{},type:"WMS",layers:"anf_triages",imageType:"image/png",style:"default",childLayers:[{name:"anf_triages__TRIAGES"}]}],metadata:{},mixed:!0},{id:241,name:"anf_forets",children:[{id:677,name:"anf_proprietes_forestieres",metadata:{is_queryable:!0,legend_name:"anf:proprietes_forestieres",metadata_id:"fa6d38c7-263c-4349-b208-45652f9b98ca"},dimensions:{},type:"WMS",layers:"anf_proprietes_forestieres",imageType:"image/png",style:"default",childLayers:[{name:"anf_proprietes_forestieres__PROPRIETES_FORESTIERES"}]},{id:1514,name:"anf_forets_publiques_fsc_pefc",metadata:{is_queryable:!0,legend_name:"anf:proprietes_forestieres",metadata_id:"ad654091-a8b2-45db-91ff-f3eef50bbe38"},dimensions:{},type:"WMS",layers:"anf_forets_publiques_fsc_pefc",imageType:"image/png",style:"default",childLayers:[{name:"anf_forets_publiques_fsc_pefc__PROPRIETES_FORESTIERES_CERTIFIEES"}]},{id:389,name:"anf_peuplements_semenciers",metadata:{is_queryable:!0,metadata_id:"5d2b9400-3f94-4962-ad67-8b7e923d6d8b"},dimensions:{},type:"WMS",layers:"anf_peuplements_semenciers",imageType:"image/png",style:"default",childLayers:[{name:"anf_peuplements_semenciers__PEUPLEMENTS_SEMENCIERS"}]}],metadata:{},mixed:!0},{id:1953,name:"anf_especes",children:[{id:1961,name:"anf_amphibiens",children:[{id:1962,name:"anf_amphibiens_sauvetage",metadata:{is_queryable:!0,metadata_id:"348a241e-27c4-4d31-8cf0-e99626efa6a1"},dimensions:{},type:"WMS",layers:"anf_amphibiens_sauvetage",imageType:"image/png",style:"default",childLayers:[{name:"anf_amphibiens_sauvetage__0"}]},{id:2759,name:"anf_roadkill",metadata:{is_queryable:!0,metadata_id:"7868aa30-1480-49a7-85ad-bb117974c55e"},dimensions:{},type:"WMS",layers:"anf_roadkill",imageType:"image/png",style:"default",childLayers:[{name:"anf_roadkill__1"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2483,name:"anf_corridors_faune_sauvage_group",children:[{id:2482,name:"anf_corridors_faune_sauvage",metadata:{metadata_id:"58a2c50b-0f4e-4d9c-95ff-5851eebf6e58"},dimensions:{},type:"WMS",layers:"anf_corridors_faune_sauvage",imageType:"image/png",style:"default",childLayers:[{name:"anf_corridors_faune_sauvage__corridors_ecologiques"}]}],metadata:{},mixed:!0},{id:180,name:"anf_secteurs_ecologiques_group",children:[{id:690,name:"anf_secteurs_ecologiques",metadata:{is_queryable:!0,metadata_id:"8afa4162-c23b-4001-b737-4074d4f5360f"},dimensions:{},type:"WMS",layers:"anf_secteurs_ecologiques",imageType:"image/png",style:"default",childLayers:[{name:"anf_secteurs_ecologiques__SECTEURS_ECOLOGIQUES"}]}],metadata:{},mixed:!0},{id:322,name:"anf_chasse",children:[{id:1783,name:"anf_lots_chasse_2021",metadata:{exclusion:"[340]",is_queryable:!0,metadata_id:"a8d8f46d-f6b1-4bb0-9935-be825cffab3f"},dimensions:{},type:"WMS",layers:"anf_lots_chasse_2021",imageType:"image/png",style:"default",childLayers:[{name:"anf_lots_chasse_2021__LOTS_CHASSE_2021"}]},{id:444,name:"anf_dates_battues",metadata:{exclusion:"[340]",is_queryable:!1,metadata_id:"cd5c65e3-ce29-4317-bc07-127bc679861f"},dimensions:{},type:"WMS",layers:"anf_dates_battues",imageType:"image/png",style:"default",childLayers:[{name:"anf_dates_battues__BATTUES_CHASSE"}]},{id:1496,name:"anf_centre_ramassage",metadata:{is_queryable:!0,metadata_id:"44f25bb0-6b7d-46fa-8388-ccdf682797ce"},dimensions:{},type:"WMS",layers:"anf_centre_ramassage",imageType:"image/png",style:"default",childLayers:[{name:"anf_centre_ramassage__RAMASSAGE_GIBIER"}]},{id:1658,name:"anf_zone_prevention_ppa",metadata:{is_queryable:!0,metadata_id:"62f2a3ed-5893-4ed2-aba7-77159b10fb2e"},dimensions:{},type:"WMS",layers:"anf_zone_prevention_ppa",imageType:"image/png",style:"default",childLayers:[{name:"anf_zone_prevention_ppa__0"}]}],metadata:{},mixed:!0},{id:366,name:"emwelt_biotop_kadaster",children:[{id:1367,name:"anf_biotopes_points",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_points",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_points__BIOTOPES_MO_EL_PONCTUELS_GEOPORTN"}]},{id:1368,name:"anf_biotopes_vergers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_vergers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_vergers__BIOTOPES_MO_VERGERS_GEOPORTN"}]},{id:1369,name:"anf_biotopes_surfaces",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_surfaces",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_surfaces__BIOTOPES_MO_SURFACES_GEOPORTN"}]},{id:1370,name:"anf_biotopes_tampons",metadata:{is_queryable:!0,legend_name:"env:btk_b",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_tampons",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_tampons__BIOTOPES_MO_ZONES_TAMPONS"}]},{id:2472,name:"anf_biotopes_forestiers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"18698bbe-4d55-42b8-baca-62cab9705b5f"},dimensions:{},type:"WMS",layers:"anf_biotopes_forestiers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_forestiers__BIOTOPES_MILIEU_FERME_GEOPORTN"}]}],metadata:{},mixed:!0},{id:1361,name:"aev_casipo_group",children:[{id:1362,name:"aev_casipo",metadata:{is_queryable:!0,metadata_id:"974688ed-130e-4704-ba2c-72154ed0cecb"},dimensions:{},type:"WMS",layers:"aev_casipo",imageType:"image/png",style:"default",childLayers:[{name:"aev_casipo__PARCELLES"}]},{id:1858,name:"aev_anciennes_decharges",metadata:{is_queryable:!0,metadata_id:"ec1a8607-5f8d-4baa-9b14-1aa8ed0a828a"},dimensions:{},type:"WMS",layers:"aev_anciennes_decharges",imageType:"image/png",style:"default",childLayers:[{name:"aev_anciennes_decharges__1"}]}],metadata:{},mixed:!0},{id:1355,name:"aev_qualite_air",children:[{id:2697,name:"aev_qualite_air_zonage",children:[{id:2698,name:"aev_qualite_air_zonage_2021",metadata:{is_queryable:!0,metadata_id:"51eddfec-31e8-4b2a-adba-595e09816ff5"},dimensions:{},type:"WMS",layers:"aev_qualite_air_zonage_2021",imageType:"image/png",style:"default",childLayers:[{name:"aev_qualite_air_zonage_2021__4"},{name:"aev_qualite_air_zonage_2021__5"}]},{id:2725,name:"aev_qualite_air_ancien_zonage",metadata:{is_queryable:!0,metadata_id:"f3a40ebf-e5ad-4495-a0ce-83bbb3df02ed"},dimensions:{},type:"WMS",layers:"aev_qualite_air_ancien_zonage",imageType:"image/png",style:"default",childLayers:[{name:"aev_qualite_air_ancien_zonage__3"}]}],metadata:{},mixed:!0},{id:1472,name:"aev_modelisation",children:[{id:1430,name:"air_quality_o3",metadata:{is_queryable:!0,legend_name:"aev:air_quality_o3",metadata_id:"4ebe5c4d-2318-4caa-bace-3e3784a41509",start_opacity:.75},dimensions:{},type:"WMS",layers:"air_quality_no2",imageType:"image/png",style:"default",childLayers:[{name:"air_quality_o3__1"},{name:"air_quality_o3__7"}]},{id:1429,name:"air_quality_no2",metadata:{is_queryable:!0,legend_name:"aev:air_quality",metadata_id:"d405406f-c1c7-4f47-ae40-e76008a91c4a",start_opacity:.75},dimensions:{},type:"WMS",layers:"air_quality_o3",imageType:"image/png",style:"default",childLayers:[{name:"air_quality_no2__0"},{name:"air_quality_no2__7"}]},{id:1425,name:"air_quality_pm10",metadata:{is_queryable:!0,legend_name:"aev:air_quality_pm10",metadata_id:"94d2f0ea-f0ce-4a79-be7f-1d018deffb61",start_opacity:.7},dimensions:{},type:"WMS",layers:"air_quality_pm10",imageType:"image/png",style:"default",childLayers:[{name:"air_quality_pm10__2"},{name:"air_quality_pm10__7"}]},{id:1480,name:"air_quality_pm2_5",metadata:{is_queryable:!0,legend_name:"aev:air_quality_pm2_5",metadata_id:"5b62c615-448c-4d74-8914-3275e64fbc1e",start_opacity:.75},dimensions:{},type:"WMS",layers:"air_quality_pm2_5",imageType:"image/png",style:"default",childLayers:[{name:"air_quality_pm2_5__7"},{name:"air_quality_pm2_5__9"}]}],metadata:{},mixed:!0},{id:1473,name:"aev_air_mesures",children:[{id:1357,name:"aev_reseau_telemetrique",metadata:{is_queryable:!0,metadata_id:"1be21b78-5824-47d6-87c1-db60c5e3d856"},dimensions:{},type:"WMS",layers:"aev_reseau_telemetrique",imageType:"image/png",style:"default",childLayers:[{name:"aev_reseau_telemetrique__0"}]},{id:1358,name:"aev_poussieres_fines",metadata:{is_queryable:!0,metadata_id:"5e6fa76e-d6d7-41d8-b88f-9ae00e3222d5"},dimensions:{},type:"WMS",layers:"aev_poussieres_fines",imageType:"image/png",style:"default",childLayers:[{name:"aev_poussieres_fines__3"}]},{id:1359,name:"aev_reseau_bergerhoff",metadata:{is_queryable:!0,metadata_id:"735a1453-00f3-402e-91b0-2cd9e677cd2c"},dimensions:{},type:"WMS",layers:"aev_reseau_bergerhoff",imageType:"image/png",style:"default",childLayers:[{name:"aev_reseau_bergerhoff__5"}]},{id:1426,name:"aev_reseau_biosurveillance",metadata:{is_queryable:!0,metadata_id:"68871fde-72b1-45e6-b891-14a8746264ea"},dimensions:{},type:"WMS",layers:"aev_reseau_biosurveillance",imageType:"image/png",style:"default",childLayers:[{name:"aev_reseau_biosurveillance__1"}]}],metadata:{},mixed:!0},{id:1704,name:"aev_mesurage_no2",children:[{id:2696,name:"aev_pacte_climat_participation_communes",metadata:{is_queryable:!0,metadata_id:"60879bfa-1eaa-4b58-984d-405bf2282b1b"},dimensions:{},type:"WMS",layers:"aev_pacte_climat_participation_communes",imageType:"image/png",style:"default",childLayers:[{name:"aev_pacte_climat_participation_communes__0"}]},{id:2812,name:"aev_pacte_climat_2023",metadata:{is_queryable:!0,legend_name:"aev:klimapakt2023",metadata_id:"223a6d2c-ac2c-4b95-9beb-900fd9b3e168"},dimensions:{},type:"WMS",layers:"aev_pacte_climat_2023",imageType:"image/png",style:"default",childLayers:[{name:"aev_pacte_climat_2023__10"}]},{id:2594,name:"aev_pacte_climat_2022",metadata:{is_queryable:!0,legend_name:"aev:klimapakt",metadata_id:"9bbf8bb1-b693-49db-8c03-222425195ddc"},dimensions:{},type:"WMS",layers:"aev_pacte_climat_2022",imageType:"image/png",style:"default",childLayers:[{name:"aev_pacte_climat_2022__9"}]},{id:2400,name:"aev_pacte_climat_2021",metadata:{is_queryable:!0,legend_name:"aev:klimapakt",metadata_id:"4ce0368e-af4e-456f-9dd1-7969b73360d7"},dimensions:{},type:"WMS",layers:"aev_pacte_climat_2021",imageType:"image/png",style:"default",childLayers:[{name:"aev_pacte_climat_2021__8"}]},{id:2088,name:"aev_pacte_climat_2020",metadata:{is_queryable:!0,legend_name:"aev:pacte_climat_2020",metadata_id:"805db173-9621-4b9a-ae8a-a8fae34a791b"},dimensions:{},type:"WMS",layers:"aev_pacte_climat_2020",imageType:"image/png",style:"default",childLayers:[{name:"aev_pacte_climat_2020__7"}]},{id:1848,name:"aev_pacte_climat_2019",metadata:{is_queryable:!0,legend_name:"aev:pacte_climat_2019",metadata_id:"aff9f715-babc-4f0b-a86b-16651d626bde"},dimensions:{},type:"WMS",layers:"aev_pacte_climat_2019",imageType:"image/png",style:"default",childLayers:[{name:"aev_pacte_climat_2019__5"},{name:"aev_pacte_climat_2019__6"}]},{id:1477,name:"aev_pacte_climat_2018",metadata:{is_queryable:!0,legend_name:"aev:pacte_climat",metadata_id:"bb5aa932-2669-4802-9c34-c370addbc798"},dimensions:{},type:"WMS",layers:"aev_pacte_climat_2018",imageType:"image/png",style:"default",childLayers:[{name:"aev_pacte_climat_2018__2"},{name:"aev_pacte_climat_2018__3"}]}],metadata:{},mixed:!0},{id:2171,name:"env_air_inventaires_emissions",children:[{id:2143,name:"env_GRETA",children:[{id:2144,name:"aev_GRETA_A_PublicPower_NOX",metadata:{is_queryable:!0,metadata_id:"587c5d9a-ac3d-42ae-8544-6688020d80df"},dimensions:{},type:"WMS",layers:"aev_GRETA_A_PublicPower_NOX",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_A_PublicPower_NOX__1"}]},{id:2145,name:"aev_GRETA_B_Industry_PCB",metadata:{is_queryable:!0,metadata_id:"a6c3a9cd-9c3d-4f68-9252-403a0a8241c8"},dimensions:{},type:"WMS",layers:"aev_GRETA_B_Industry_PCB",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_B_Industry_PCB__2"}]},{id:2146,name:"aev_GRETA_C_OtherStationaryComb_CO",metadata:{is_queryable:!0,metadata_id:"b922e53c-cfb9-4f7d-8cfe-166b3e518642"},dimensions:{},type:"WMS",layers:"aev_GRETA_C_OtherStationaryComb_CO",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_C_OtherStationaryComb_CO__3"}]},{id:2147,name:"aev_GRETA_D_Fugitive_NMVOC",metadata:{is_queryable:!0,metadata_id:"68f34bfe-dfa8-4d8e-a6df-d8ef47ea296a"},dimensions:{},type:"WMS",layers:"aev_GRETA_D_Fugitive_NMVOC",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_D_Fugitive_NMVOC__4"}]},{id:2148,name:"aev_GRETA_E_Solvents_NMVOC",metadata:{is_queryable:!0,metadata_id:"49ef5406-e0cb-4d36-91f0-c8cd349bb79e"},dimensions:{},type:"WMS",layers:"aev_GRETA_E_Solvents_NMVOC",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_E_Solvents_NMVOC__5"}]},{id:2149,name:"aev_GRETA_F_RoadTransport_NOX",metadata:{is_queryable:!0,metadata_id:"b262fc22-b815-47b4-8a58-8f4c958f0b8e"},dimensions:{},type:"WMS",layers:"aev_GRETA_F_RoadTransport_NOX",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_F_RoadTransport_NOX__6"}]},{id:2150,name:"aev_GRETA_G_Shipping_CO",metadata:{is_queryable:!0,metadata_id:"16a8476a-67ad-43e0-bf86-a0f75eb25d51"},dimensions:{},type:"WMS",layers:"aev_GRETA_G_Shipping_CO",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_G_Shipping_CO__7"}]},{id:2151,name:"aev_GRETA_H_Aviation_NOX",metadata:{is_queryable:!0,metadata_id:"86c039b8-58e8-45b4-8c80-57d341e6a192"},dimensions:{},type:"WMS",layers:"aev_GRETA_H_Aviation_NOX",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_H_Aviation_NOX__8"}]},{id:2152,name:"aev_GRETA_I_Offroad_CO",metadata:{is_queryable:!0,metadata_id:"09fed776-d254-46c3-85ad-21f4f05ac902"},dimensions:{},type:"WMS",layers:"aev_GRETA_I_Offroad_CO",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_I_Offroad_CO__9"}]},{id:2153,name:"aev_GRETA_J_Waste_PCDD",metadata:{is_queryable:!0,metadata_id:"f2219f8d-c455-4c14-9f72-5a0b62fd1fa6"},dimensions:{},type:"WMS",layers:"aev_GRETA_J_Waste_PCDD",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_J_Waste_PCDD__10"}]},{id:2154,name:"aev_GRETA_K_AgrilLivestock_NH3",metadata:{is_queryable:!0,metadata_id:"789a7a4a-0006-4512-b53d-b76173401231"},dimensions:{},type:"WMS",layers:"aev_GRETA_K_AgrilLivestock_NH3",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_K_AgrilLivestock_NH3__11"}]},{id:2155,name:"aev_GRETA_L_AgriOther_NH3",metadata:{is_queryable:!0,metadata_id:"a55b1da7-7e0e-4de0-8e4e-02700bc77a21"},dimensions:{},type:"WMS",layers:"aev_GRETA_L_AgriOther_NH3",imageType:"image/png",style:"default",childLayers:[{name:"aev_GRETA_L_AgriOther_NH3__12"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2172,name:"env_air_installations_tegistres",children:[{id:1465,name:"aev_medium_combustion_plants",metadata:{geocatalog_open_data_last_update_date:"2024-02-09T02:03:38.8412602",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"65af7951656c669c7e2c7b68",is_queryable:!0,metadata_id:"1c8dc7c5-f94f-49f6-9d96-3a129b28a922"},dimensions:{},type:"WMS",layers:"aev_medium_combustion_plants",imageType:"image/png",style:"default",childLayers:[{name:"aev_medium_combustion_plants__0"}]},{id:2459,name:"aev_ets_quota",children:[{id:2460,name:"aev_ets_quota_phase3",children:[{id:2450,name:"aev_ets_quota_2013",metadata:{is_queryable:!0,metadata_id:"3a525901-e999-43b7-b76f-4b2685c3126f"},dimensions:{},type:"WMS",layers:"aev_ets_quota_2013",imageType:"image/png",childLayers:[{name:"aev_ets_quota_2013__9"}]},{id:2451,name:"aev_ets_quota_2014",metadata:{is_queryable:!0,metadata_id:"fb7bd65d-1ba7-46ea-bd0a-8fea5ad31fa0"},dimensions:{},type:"WMS",layers:"aev_ets_quota_2014",imageType:"image/png",childLayers:[{name:"aev_ets_quota_2014__8"}]},{id:2452,name:"aev_ets_quota_2015",metadata:{is_queryable:!0,metadata_id:"8c5c24de-6cd4-4799-b15f-be94147f338f"},dimensions:{},type:"WMS",layers:"aev_ets_quota_2015",imageType:"image/png",childLayers:[{name:"aev_ets_quota_2015__7"}]},{id:2453,name:"aev_ets_quota_2016",metadata:{is_queryable:!0,metadata_id:"ae7abf2b-fcd7-4f77-8ffb-b973cdd8efe2"},dimensions:{},type:"WMS",layers:"aev_ets_quota_2016",imageType:"image/png",childLayers:[{name:"aev_ets_quota_2016__6"}]},{id:2454,name:"aev_ets_quota_2017",metadata:{is_queryable:!0,metadata_id:"49168300-890e-4005-9ff2-50db00430846"},dimensions:{},type:"WMS",layers:"aev_ets_quota_2017",imageType:"image/png",childLayers:[{name:"aev_ets_quota_2017__5"}]},{id:2455,name:"aev_ets_quota_2018",metadata:{is_queryable:!0,metadata_id:"75c126a0-0778-4c08-87a1-d568a0112674"},dimensions:{},type:"WMS",layers:"aev_ets_quota_2018",imageType:"image/png",childLayers:[{name:"aev_ets_quota_2018__4"}]},{id:2456,name:"aev_ets_quota_2019",metadata:{is_queryable:!0,metadata_id:"1fbfd062-d911-4186-900d-7ea60f49a533"},dimensions:{},type:"WMS",layers:"aev_ets_quota_2019",imageType:"image/png",childLayers:[{name:"aev_ets_quota_2019__3"}]},{id:2457,name:"aev_ets_quota_2020",metadata:{is_queryable:!0,metadata_id:"b6ad5f19-97bd-4617-8f78-b1805cd8381f"},dimensions:{},type:"WMS",layers:"aev_ets_quota_2020",imageType:"image/png",childLayers:[{name:"aev_ets_quota_2020__2"}]}],metadata:{},mixed:!0},{id:2461,name:"aev_ets_quota_phase4",children:[{id:2458,name:"aev_ets_quota_2021",metadata:{is_queryable:!0,metadata_id:"bbbc661a-2f1c-43f3-9f38-ef7cf7156081"},dimensions:{},type:"WMS",layers:"aev_ets_quota_2021",imageType:"image/png",childLayers:[{name:"aev_ets_quota_2021__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:166,name:"env_bruit",children:[{id:2123,name:"env_bruit_modelisation",children:[{id:232,name:"env_bruit_axes_routiers",children:[{id:2764,name:"aev_bruit_roads_2021_Lden",metadata:{is_queryable:!0,legend_name:"aev:routes_2021_lden",metadata_id:"5504291e-3457-416d-84a3-438a83ae029d",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"aev_bruit_roads_2021_Lden",imageType:"image/png"},{id:2763,name:"aev_bruit_roads_2021_Lngt",metadata:{is_queryable:!0,legend_name:"aev:routes_2021_lngt",metadata_id:"43e0ddd5-7575-4ce7-b558-2114196bd6fe",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"aev_bruit_roads_2021_Lngt",imageType:"image/png"},{id:1497,name:"env_bruit2016_axes_routiers_lden",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"cf1a21cc-8208-420e-bd7e-091d755b6ace",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_routiers_lden",imageType:"image/png"},{id:1500,name:"env_bruit2016_axes_routiers_lngt",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"83ae2d3b-f0d9-4584-8c48-f6722bd4f517",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_routiers_lngt",imageType:"image/png"},{id:1504,name:"env_bruit_axes_routiers_hotspots_2016",metadata:{is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"c5a6e3c5-6bef-4ff9-ac3e-aa494a34e602"},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_hotspots_2016",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_hotspots_2016__3"},{name:"env_bruit_axes_routiers_hotspots_2016__13"}]},{id:1505,name:"env_bruit_axes_routiers_agglomeration_2016",metadata:{is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"a6c63355-6e42-4795-9d72-8744b907b151"},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_agglomeration_2016",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_agglomeration_2016__6"},{name:"env_bruit_axes_routiers_agglomeration_2016__13"}]},{id:326,name:"env_bruit_axes_routiers_lden",metadata:{exclusion:"[333,332]",is_queryable:!0,legend_name:"env:bruit_lden",max_dpi:128,metadata_id:"3e3aa044-89e0-4676-9404-744f64dd7ba0",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_routiers_lden",imageType:"image/png"},{id:255,name:"env_bruit_axes_routiers_lngt",metadata:{exclusion:"[333,332]",is_queryable:!0,legend_name:"env:bruit_lngt",max_dpi:128,metadata_id:"5e4f2607-b114-4884-8e48-8e1faa997eb4",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_routiers_lngt",imageType:"image/png"},{id:1475,name:"env_bruit_axes_routiers_hotspots",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"ff6b3d63-871c-4e88-8fc0-0f276abe259a"},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_hotspots",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_hotspots__10"},{name:"env_bruit_axes_routiers_hotspots__13"}]},{id:1485,name:"env_bruit_axes_routiers_agglomeration",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"f1dd0dd5-4dd5-4d88-b556-af39a20ab137",start_opacity:.7},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_agglomeration",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_agglomeration__12"},{name:"env_bruit_axes_routiers_agglomeration__13"}]}],metadata:{},mixed:!0},{id:183,name:"env_bruit_axes_ferroviaires",children:[{id:2761,name:"aev_bruit_railways_2021_Lden",metadata:{is_queryable:!0,metadata_id:"e48e5b8f-9388-47ae-b12f-575ed7416ce1",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_railways_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_railways_2021_Lden__46"}]},{id:2762,name:"aev_bruit_railways_2021_Lngt",metadata:{is_queryable:!0,metadata_id:"c2106415-df81-4208-9714-7dad0479ab71",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_railways_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_railways_2021_Lngt__47"}]},{id:1498,name:"env_bruit2016_axes_ferroviaires_lden",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"7975b71b-2fd4-45e6-8c0a-306671d665c6",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_ferroviaires_lden",imageType:"image/png"},{id:1502,name:"env_bruit2016_axes_ferroviaires_lngt",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"170143ce-53ef-4b2b-997c-a2ccb1b84477",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_ferroviaires_lngt",imageType:"image/png"},{id:1503,name:"env_bruit_axes_ferroviaires_hotspots_2016",metadata:{is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"29ef44c6-f357-4d21-829c-f2fdd5fe1149"},dimensions:{},type:"WMS",layers:"env_bruit_axes_ferroviaires_hotspots_2016",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_ferroviaires_hotspots_2016__1"},{name:"env_bruit_axes_ferroviaires_hotspots_2016__13"}]},{id:310,name:"env_bruit_axes_ferroviaires_lden",metadata:{exclusion:"[334,332]",is_queryable:!0,legend_name:"env:bruit_lden",max_dpi:128,metadata_id:"32b40d1c-111e-4eed-91c7-61d61ef27b8d",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_ferroviaires_lden",imageType:"image/png"},{id:259,name:"env_bruit_axes_ferroviaires_lngt",metadata:{exclusion:"[334,332]",is_queryable:!0,legend_name:"env:bruit_lngt",max_dpi:128,metadata_id:"2d7e26ad-e448-45a2-9045-3dfb3e3ec15b",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_ferroviaires_lngt",imageType:"image/png"},{id:1476,name:"env_bruit_axes_ferroviaires_hotspots",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"d3b30653-d0bf-4924-96b2-251e9f61c979"},dimensions:{},type:"WMS",layers:"env_bruit_axes_ferroviaires_hotspots",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_ferroviaires_hotspots__8"},{name:"env_bruit_axes_ferroviaires_hotspots__13"}]}],metadata:{},mixed:!0},{id:190,name:"env_bruit_air",children:[{id:2667,name:"aev_bruit_aeroport_2021_Lden",metadata:{is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"4ceeb788-86c8-420d-a161-43607ed4e89a",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_aeroport_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_aeroport_2021_Lden__40"}]},{id:2668,name:"aev_bruit_aeroport_2021_Lngt",metadata:{is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"71277cc9-4b62-4199-8a2e-71ca4a863519",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_aeroport_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_aeroport_2021_Lngt__41"}]},{id:1501,name:"env_bruit2016_axes_aeroport_lden",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"26e208ff-39a3-4cf6-92db-4c6707fe972a",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_aeroport_lden",imageType:"image/png"},{id:1499,name:"env_bruit2016_axes_aeroport_lngt",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"2aa6f79d-74cc-4f22-bedd-748f8e8e30b9",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_aeroport_lngt",imageType:"image/png"},{id:157,name:"env_bruit_air_lden",metadata:{exclusion:"[335,332]",legend_name:"env:bruit_lden",max_dpi:128,metadata_id:"0f4dcfc5-e947-4e5c-9460-702b8e1a572f",start_opacity:.7},dimensions:{},type:"WMS",layers:"env_bruit_air_lden",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_air_lden__70"}]},{id:327,name:"env_bruit_air_lngt",metadata:{exclusion:"[335,332]",legend_name:"env:bruit_lngt",max_dpi:128,metadata_id:"6b031060-1f82-467d-af86-afe02a3f04fa",start_opacity:.7},dimensions:{},type:"WMS",layers:"env_bruit_air_lngt",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_air_lngt__72"}]}],metadata:{},mixed:!0},{id:2771,name:"env_bruit_agglo",children:[{id:2769,name:"aev_bruit_agglo_industry_2021_Lden",metadata:{is_queryable:!0,metadata_id:"4faed79e-f82c-4758-b4bf-df654951b27f",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_industry_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_industry_2021_Lden__37"}]},{id:2770,name:"aev_bruit_agglo_industry_2021_Lngt",metadata:{is_queryable:!0,metadata_id:"e1e006c9-c637-4e2a-840f-3b7e8a04ce1e",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_industry_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_industry_2021_Lngt__38"}]},{id:2768,name:"aev_bruit_agglo_roads_2021_Lden",metadata:{is_queryable:!0,metadata_id:"0015e212-a7e5-42f6-ba94-3fdb5014513c",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_roads_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_roads_2021_Lden__35"}]},{id:2767,name:"aev_bruit_agglo_roads_2021_Lngt",metadata:{is_queryable:!0,metadata_id:"9718d119-a073-4406-8bf1-d4b409ed6a68",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_roads_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_roads_2021_Lngt__36"}]},{id:2765,name:"aev_bruit_agglo_tram_2021_Lden",metadata:{is_queryable:!0,metadata_id:"47bbe08f-dbb4-4a4f-bbf7-8c6084e6da45",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_tram_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_tram_2021_Lden__33"}]},{id:2766,name:"aev_bruit_agglo_tram_2021_Lngt",metadata:{is_queryable:!0,metadata_id:"e11fbfdf-29c4-4845-ad12-e2fc2ef5f530",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_tram_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_tram_2021_Lngt__34"}]}],metadata:{},mixed:!0},{id:2124,name:"env_bruit_multiexposition",children:[{id:2125,name:"aev_multiexposition_Lden",metadata:{is_queryable:!0,metadata_id:"37c1c1a2-1926-4c92-8c2a-b9ce0ac6cfef"},dimensions:{},type:"WMS",layers:"aev_multiexposition_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_multiexposition_Lden__1"}]},{id:2126,name:"aev_multiexposition_Lnight",metadata:{is_queryable:!0,metadata_id:"a536e129-3c0f-4a6c-a767-0519eec880c1"},dimensions:{},type:"WMS",layers:"aev_multiexposition_Lnight",imageType:"image/png",style:"default",childLayers:[{name:"aev_multiexposition_Lnight__2"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1641,name:"aev_campagne_mesure_bruit",children:[{id:2618,name:"aev_bruit_campagne_2023",children:[{id:2726,name:"aev_campagne_bruit_aeroportuaire_2023",metadata:{is_queryable:!0,metadata_id:"3c6a1f70-51ab-4c8b-9a09-c163bafd23ff"},dimensions:{},type:"WMS",layers:"aev_campagne_bruit_aeroportuaire_2023",imageType:"image/png",style:"default",childLayers:[{name:"aev_campagne_bruit_aeroportuaire_2023__109"}]}],metadata:{},mixed:!0},{id:2475,name:"env_bruit_campagne_2022",children:[{id:2619,name:"aev_campagne_bruit_routier_2023",metadata:{is_queryable:!0,metadata_id:"e242b817-86a7-4f70-bc41-8e90d264fd19"},dimensions:{},type:"WMS",layers:"aev_campagne_bruit_routier_2023",imageType:"image/png",style:"default",childLayers:[{name:"aev_campagne_bruit_routier_2023__97"}]},{id:2620,name:"aev_campagne_bruit_ferroviaire_2023",metadata:{is_queryable:!0,metadata_id:"c3c06743-6876-4f55-802d-4599000c1681"},dimensions:{},type:"WMS",layers:"aev_campagne_bruit_ferroviaire_2023",imageType:"image/png",style:"default",childLayers:[{name:"aev_campagne_bruit_ferroviaire_2023__94"}]}],metadata:{},mixed:!0},{id:1916,name:"aev_silent_cities_2020",children:[{id:1917,name:"aev_silent_cities_2020_phase1",metadata:{is_queryable:!0,legend_name:"aev:silent_cities",metadata_id:"58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"},dimensions:{},type:"WMS",layers:"aev_silent_cities_2020_phase1",imageType:"image/png",childLayers:[{name:"aev_silent_cities_2020_phase1__7"}]},{id:1918,name:"aev_silent_cities_2020_phase2",metadata:{is_queryable:!0,legend_name:"aev:silent_cities",metadata_id:"58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"},dimensions:{},type:"WMS",layers:"aev_silent_cities_2020_phase2",imageType:"image/png",childLayers:[{name:"aev_silent_cities_2020_phase2__8"}]},{id:1919,name:"aev_silent_cities_2020_phase3",metadata:{is_queryable:!0,legend_name:"aev:silent_cities",metadata_id:"58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"},dimensions:{},type:"WMS",layers:"aev_silent_cities_2020_phase3",imageType:"image/png",childLayers:[{name:"aev_silent_cities_2020_phase3__9"}]}],metadata:{},mixed:!0},{id:1921,name:"env_bruit_routes_hotspots_2019_group",children:[{id:1642,name:"env_bruit_routes_hotspots_2019",metadata:{is_queryable:!0,legend_name:"aev:hotspots_rail",metadata_id:"f898e289-c5dd-432b-b3e6-de4c3681b77a"},dimensions:{},type:"WMS",layers:"env_bruit_routes_hotspots_2019",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_routes_hotspots_2019__4"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1382,name:"aev_zones_calmes",children:[{id:1383,name:"aev_zones_calmes_rurales",metadata:{is_queryable:!0,legend_name:"aev:zones_calmes",metadata_id:"49cfe40d-b006-4aaa-831b-11d1e19e1411"},dimensions:{},type:"WMS",layers:"aev_zones_calmes_rurales",imageType:"image/png",style:"default",childLayers:[{name:"aev_zones_calmes_rurales__12"}]},{id:1384,name:"aev_zones_calmes_urbaines",metadata:{is_queryable:!0,legend_name:"aev:zones_calmes",metadata_id:"82ba068d-81c3-41d3-a24a-f5dc2545d005"},dimensions:{},type:"WMS",layers:"aev_zones_calmes_urbaines",imageType:"image/png",style:"default",childLayers:[{name:"aev_zones_calmes_urbaines__10"},{name:"aev_zones_calmes_urbaines__7"}]},{id:1385,name:"aev_oases_urbaines",metadata:{is_queryable:!0,legend_name:"aev:zones_calmes",metadata_id:"655d2f1e-c4b6-4f33-a4d1-4171d64bc3b1"},dimensions:{},type:"WMS",layers:"aev_oases_urbaines",imageType:"image/png",style:"default",childLayers:[{name:"aev_oases_urbaines__11"},{name:"aev_oases_urbaines__8"}]},{id:1828,name:"aev_zones_calmes_campagne_groupe",children:[{id:1829,name:"aev_zones_calmes_camp2020_ZCP",metadata:{is_queryable:!0,legend_name:"aev:zones_calmes_20",metadata_id:"d6f1740a-4c8a-40aa-a564-ddb6735f5a34"},dimensions:{},type:"WMS",layers:"aev_zones_calmes_camp2020_ZCP",imageType:"image/png",style:"default",childLayers:[{name:"aev_zones_calmes_camp2020_ZCP__13"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2131,name:"env_esch22",children:[{id:2130,name:"env_esch22_soundwalks",children:[{id:2127,name:"aev_soundwalks_fading_thunders",metadata:{is_queryable:!0,metadata_id:"1374bb36-c9c4-4be0-b81c-d7d1d7ae9684"},dimensions:{},type:"WMS",layers:"aev_soundwalks_fading_thunders",imageType:"image/png",style:"default",childLayers:[{name:"aev_soundwalks_fading_thunders__1"},{name:"aev_soundwalks_fading_thunders__2"}]},{id:2128,name:"aev_soundwalks_city_stories",metadata:{is_queryable:!0,metadata_id:"0e47e8c5-1a26-4928-9a94-d26eba39c738"},dimensions:{},type:"WMS",layers:"aev_soundwalks_city_stories",imageType:"image/png",style:"default",childLayers:[{name:"aev_soundwalks_city_stories__4"},{name:"aev_soundwalks_city_stories__5"}]},{id:2129,name:"aev_soundwalks_blue_noise",metadata:{is_queryable:!0,metadata_id:"3e7eea7f-c751-4c7a-9abb-7bdda313628c"},dimensions:{},type:"WMS",layers:"aev_soundwalks_blue_noise",imageType:"image/png",style:"default",childLayers:[{name:"aev_soundwalks_blue_noise__7"},{name:"aev_soundwalks_blue_noise__8"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1510,name:"aev_dechets",children:[{id:1509,name:"aev_dechets_biogas",metadata:{is_queryable:!0,metadata_id:"2f4a0025-33a4-4015-9acd-4660cef27129"},dimensions:{},type:"WMS",layers:"aev_dechets_biogas",imageType:"image/png",style:"default",childLayers:[{name:"aev_dechets_biogas__1"}]},{id:1506,name:"aev_dechets_composting",metadata:{is_queryable:!0,metadata_id:"fe751427-564d-44b3-9d06-90a5d1a5054c"},dimensions:{},type:"WMS",layers:"aev_dechets_composting",imageType:"image/png",style:"default",childLayers:[{name:"aev_dechets_composting__0"}]},{id:1507,name:"aev_dechets_inert_waste",metadata:{is_queryable:!0,metadata_id:"e17908a0-c45d-4312-bc8b-fdde4b5c5d83"},dimensions:{},type:"WMS",layers:"aev_dechets_inert_waste",imageType:"image/png",style:"default",childLayers:[{name:"aev_dechets_inert_waste__2"}]},{id:1508,name:"aev_dechets_recycling",metadata:{is_queryable:!0,metadata_id:"7dc38059-fbac-4287-99aa-4d04bb7dd761"},dimensions:{},type:"WMS",layers:"aev_dechets_recycling",imageType:"image/png",style:"default",childLayers:[{name:"aev_dechets_recycling__3"}]},{id:1801,name:"aev_dechets_menager",metadata:{is_queryable:!0,metadata_id:"8e63ec89-7d10-4374-88bc-580caabf9783"},dimensions:{},type:"WMS",layers:"aev_dechets_menager",imageType:"image/png",style:"default",childLayers:[{name:"aev_dechets_menager__5"}]},{id:1933,name:"aev_dechets_stations_epuration",metadata:{is_queryable:!0,metadata_id:"b821085f-91a1-431e-a385-2f9e0dfef43d"},dimensions:{},type:"WMS",layers:"aev_dechets_stations_epuration",imageType:"image/png",style:"default",childLayers:[{name:"aev_dechets_stations_epuration__6"}]},{id:2723,name:"aev_dechets_boues_epuration",metadata:{is_queryable:!0,metadata_id:"2c6d717e-6534-4c2b-86a7-b3b99c4cf114"},dimensions:{},type:"WMS",layers:"aev_dechets_boues_epuration",imageType:"image/png",style:"default",childLayers:[{name:"aev_dechets_boues_epuration__7"}]}],metadata:{},mixed:!0},{id:1466,name:"aev_facilities_registers",children:[{id:803,name:"cadastre_hertzien_group",children:[{id:811,name:"mat_antennes_moins_50_watt",metadata:{is_queryable:!0,legend_name:"at:antennesbelow50w",metadata_id:"cbf57825-26ba-4e36-98e8-083c1945066c"},dimensions:{},type:"WMS",layers:"mat_antennes_moins_50_watt",imageType:"image/png",style:"default",childLayers:[{name:"mat_antennes_moins_50_watt__0"}]},{id:1930,name:"mat_5G_antennes_plus_50_watt",metadata:{is_queryable:!0,metadata_id:"76e25a5d-8e78-40cb-a54b-9cfc27b16e60"},dimensions:{},type:"WMS",layers:"mat_5G_antennes_plus_50_watt",imageType:"image/png",style:"default",childLayers:[{name:"mat_5G_antennes_plus_50_watt__0"}]},{id:2053,name:"mat_5G-3.6GHZ_antennes_plus_50_watt",metadata:{is_queryable:!0,metadata_id:"e048acda-0ec7-4f52-8221-613d9312c28b"},dimensions:{},type:"WMS",layers:"mat_5G-3.6GHZ_antennes_plus_50_watt",imageType:"image/png",style:"default",childLayers:[{name:"mat_5G-3.6GHZ_antennes_plus_50_watt__0"}]},{id:801,name:"mat_antennes_plus_50_watt",metadata:{is_queryable:!0,legend_name:"at:antennes",metadata_id:"e4a24392-591c-4d20-a62b-f75a9191488d"},dimensions:{},type:"WMS",layers:"mat_antennes_plus_50_watt",imageType:"image/png",style:"default",childLayers:[{name:"mat_antennes_plus_50_watt__0"}]},{id:802,name:"mat_points_mesure",metadata:{is_queryable:!0,legend_name:"at:pointmesure",metadata_id:"f8f71353-40b8-4e10-b72c-85d8fe9e0577"},dimensions:{},type:"WMS",layers:"mat_points_mesure",imageType:"image/png",style:"default",childLayers:[{name:"mat_points_mesure__0"}]}],metadata:{is_expanded:!0},mixed:!0},{id:1360,name:"aev_emplacements_eoliennes",metadata:{geocatalog_open_data_last_update_date:"2024-10-09T01:02:39.4998465",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"5e739028d2bfb222b781c722",is_queryable:!0,legend_name:"aev:eoliennes",metadata_id:"354c5313-a733-4121-8f0d-5e0932d563b7"},dimensions:{},type:"WMS",layers:"aev_emplacements_eoliennes",imageType:"image/png",style:"default",childLayers:[{name:"aev_emplacements_eoliennes__2"}]},{id:1826,name:"aev_facilities_ied",metadata:{geocatalog_open_data_last_update_date:"2024-07-17T01:05:05.5508376",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"6690f0b6663adf116ea5d0f9",is_queryable:!0,legend_name:"aev_facilities_ied",metadata_id:"2606152c-0169-41a2-843e-861e15e9024c"},dimensions:{},type:"WMS",layers:"aev_facilities_ied",imageType:"image/png",style:"default",childLayers:[{name:"aev_facilities_ied__0"}]},{id:798,name:"seveso",metadata:{is_queryable:!0,legend_name:"seveso",metadata_id:"b9ab14d8-4e51-4146-b019-3937715a8fe8"},dimensions:{},type:"WMS",layers:"seveso",imageType:"image/png",style:"default",childLayers:[{name:"seveso__POI"}]}],metadata:{},mixed:!0},{id:1467,name:"radon",children:[{id:1468,name:"carte_radon_communes",metadata:{is_queryable:!0,legend_name:"radon",metadata_id:"80309cdb-b664-4ea8-a3a4-c602f5814f79",start_opacity:.7},dimensions:{},type:"WMS",layers:"carte_radon_communes",imageType:"image/png",style:"default",childLayers:[{name:"carte_radon_communes__3"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{bg_layer:"pixelmaps-gray",css:"anf.css",display_in_switcher:!0,link_title:"Portail Environnement",page_title:"emwelt.geoportail.lu",print_img:"anf_right.jpg",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["1000","1500","2500","5000","10000","15000","20000","25000","50000","80000","100000","125000","200000","250000","400000"],print_short_txt_de:"emwelt.geoportal.lu",print_short_txt_en:"emwelt.geoportal.lu",print_short_txt_fr:"emwelt.geoportail.lu",print_short_txt_lu:"emwelt.geoportal.lu",show_in_mobile:!0}},{id:128,name:"eau",icon:"eau",children:[{id:234,name:"eau_basisdaten",children:[{id:317,name:"eau_topographie",children:[{id:206,name:"topo_20k",metadata:{legend_name:"topo_20k",metadata_id:"ea998ae8-731a-43bc-aa9f-171684f97602"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_20k",imageType:"image/png"}],metadata:{},mixed:!0},{id:160,name:"eau_luft_sat_bilder",children:[{id:2056,name:"ortho_2020",metadata:{exclusion:"[119,219]",metadata_id:"87870b8a-10a1-4c33-bf50-7efe851fd450"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2020",imageType:"image/jpeg"},{id:1789,name:"ortho_2019_winter",metadata:{exclusion:"[118,218]",metadata_id:"d6cc500f-b802-4be2-a49c-73f3eb2d131e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2019_winter",imageType:"image/jpeg"},{id:1784,name:"ortho_2019",metadata:{exclusion:"[116,216]",metadata_id:"97c88ef6-6c64-4cb0-a134-06bb42b2b448"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2019",imageType:"image/jpeg"},{id:1527,name:"ortho_2018",metadata:{exclusion:"[113,213]",metadata_id:"6fde72c4-802f-4663-be74-5fa5901cb4f0"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2018",imageType:"image/jpeg"},{id:1371,name:"ortho_2017",metadata:{exclusion:"[111,211]",metadata_id:"1cdae616-1a7a-49d5-b35d-05864891641f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2017",imageType:"image/jpeg"},{id:745,name:"ortho_2016",metadata:{exclusion:"[107,207]",metadata_id:"bba79b6d-4205-4ce4-98e4-7b7922afcd55"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2016",imageType:"image/jpeg"},{id:224,name:"ortho_2004",metadata:{exclusion:"[103,203]",metadata_id:"a185f78a-ca9c-43f8-8d06-b1abba8ff056"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2004",imageType:"image/jpeg"},{id:225,name:"ortho_2001",metadata:{exclusion:"[104,204]",metadata_id:"e6ff269c-1c7c-401f-a90b-b805e80a046e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2001",imageType:"image/jpeg"},{id:292,name:"wg_ikonos_satellitendaten",metadata:{legend_name:"wg:ikonos_satellitendaten",metadata_id:"db0eea79-114a-4e61-a1f2-7e064f92cdd3"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"wg_ikonos_satellitendaten",imageType:"image/png"}],metadata:{},mixed:!0},{id:318,name:"eau_landnutzung",children:[{id:301,name:"wg_landnutzung",metadata:{is_queryable:!0,legend_name:"wg:landnutzung",metadata_id:"f53e9c0b-a269-48e6-b77c-061e7ac2e116",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"wg_landnutzung",imageType:"image/png"},{id:308,name:"wg_versiegelungsklassen",metadata:{legend_name:"wg:versiegelungsklassen",metadata_id:"7e48b187-3080-4bf6-aaa8-6a58fe513380",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"wg_versiegelungsklassen",imageType:"image/png"}],metadata:{},mixed:!0},{id:186,name:"eau_grenzen",children:[{id:349,name:"country",metadata:{is_queryable:!0,metadata_id:"4c9b3c0b-85d4-447d-a68c-7416869f8d9b"},dimensions:{},type:"WMS",layers:"country",imageType:"image/png",style:"default",childLayers:[{name:"country__PAYS"}]},{id:346,name:"cantons_labels",metadata:{is_queryable:!0,metadata_id:"3af20a80-be4a-4819-a42b-18e49af799aa"},dimensions:{},type:"WMS",layers:"cantons_labels",imageType:"image/png",style:"default",childLayers:[{name:"cantons_labels__CANTONS_LABELS"}]},{id:329,name:"cantons",metadata:{is_queryable:!0,metadata_id:"e8a034e8-f986-4745-a848-b7ef30ce2740"},dimensions:{},type:"WMS",layers:"CANTONS",imageType:"image/png",style:"default",childLayers:[{name:"cantons__CANTONS"}]},{id:269,name:"communes_labels",metadata:{is_queryable:!0,metadata_id:"17c7d883-ff7f-4b48-a894-46bea40d2e49"},dimensions:{},type:"WMS",layers:"communes_labels",imageType:"image/png",style:"default",childLayers:[{name:"communes_labels__COMMUNES_LABELS"}]},{id:302,name:"communes",metadata:{is_queryable:!0,linked_layers:["269"],metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2049"},dimensions:{},type:"WMS",layers:"communes",imageType:"image/png",style:"default",childLayers:[{name:"communes__COMMUNES"}]}],metadata:{},mixed:!0},{id:165,name:"adressen",children:[{id:152,name:"addresses",metadata:{is_queryable:!0,metadata_id:"28b310e4-b9e1-467c-a28d-fce2e9a96548"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"addresses",imageType:"image/png"}],metadata:{},mixed:!0},{id:169,name:"eau_zones_protegees",children:[{id:207,name:"eau_zones_protegees_nationales",children:[{id:319,name:"eau_anf_reserves",children:[{id:804,name:"anf_zpin_declarees",metadata:{is_queryable:!0,legend_name:"anf:zpin_declarees",metadata_id:"9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"},dimensions:{},type:"WMS",layers:"anf_zpin_declarees",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_declarees__ZPIN_DECLAREES"}]},{id:805,name:"anf_zpin_a_declarer",metadata:{is_queryable:!0,legend_name:"anf:zpin_a_declarer",metadata_id:"db53336b-1a33-4b1a-94a8-42a29b55ce45"},dimensions:{},type:"WMS",layers:"anf_zpin_a_declarer",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_a_declarer__ZPIN_A_DECLARER"}]},{id:806,name:"anf_zpin_en_procedure",metadata:{is_queryable:!0,legend_name:"anf:zpin_en_procedure_reglementaire",metadata_id:"74499cf0-ab69-48bd-a357-8c151dd3d5c9"},dimensions:{},type:"WMS",layers:"anf_zpin_en_procedure",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:330,name:"geodesy",children:[{id:1831,name:"ng_new",metadata:{is_queryable:!0,metadata_id:"3119179b-56bb-459d-8904-1e0a2bfb6bc7"},dimensions:{},type:"WMS",layers:"ng_new",imageType:"image/png",style:"default",childLayers:[{name:"ng_new__0"}]},{id:411,name:"ng",metadata:{is_queryable:!0,metadata_id:"3119179b-56bb-459d-8904-1e0a2bfb6bc7"},dimensions:{},type:"WMS",layers:"ng",imageType:"image/png",style:"default",childLayers:[{name:"ng__POINT_NG"}]},{id:1724,name:"points_reference_gps",metadata:{is_queryable:!0,metadata_id:"fd406ca9-2542-4de9-8cee-7ee0a16c7f42"},dimensions:{},type:"WMS",layers:"points_reference_gps",imageType:"image/png",style:"default",childLayers:[{name:"points_reference_gps__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:453,name:"eau_new_Messstationen",children:[{id:485,name:"eau_new_Hydrologische_Messstationen",children:[{id:655,name:"eau_new_Wasserstand",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:12.0164112",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"59c220a4111e9b1de61d8864",is_queryable:!0,legend_name:"eau:wasserstand",max_dpi:128,metadata_id:"124abb10-1d87-4449-912b-06fbf307a95f"},dimensions:{},type:"WMS",layers:"eau_new_Wasserstand",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Wasserstand__2"}]},{id:653,name:"eau_new_Alluvialer_Grundwasserspiegel",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:11.915308",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"5fd1caf5e9996e5faf62ea74",is_queryable:!0,legend_name:"eau:alluvialer_grundwasserspiegel",max_dpi:128,metadata_id:"4d328b62-5df3-4205-a45a-4d3d36dc0fa8"},dimensions:{},type:"WMS",layers:"eau_new_Alluvialer_Grundwasserspiegel",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Alluvialer_Grundwasserspiegel__3"}]}],metadata:{},mixed:!0},{id:460,name:"eau_new_Klimatologische_Messstationen",children:[{id:609,name:"eau_new_Niederschlag",metadata:{is_queryable:!0,legend_name:"eau:niederschlag",max_dpi:128,metadata_id:"288300c6-5d83-45a6-98ef-4146f37129e2"},dimensions:{},type:"WMS",layers:"eau_new_Niederschlag",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Niederschlag__5"}]},{id:595,name:"eau_new_Lufttemperatur",metadata:{is_queryable:!0,legend_name:"eau:lufttemperatur",max_dpi:128,metadata_id:"6d73e310-0ef2-4e19-863d-387a90405e78"},dimensions:{},type:"WMS",layers:"eau_new_Lufttemperatur",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Lufttemperatur__6"}]},{id:620,name:"eau_new_Bodentemperatur",metadata:{is_queryable:!0,legend_name:"eau:bodentemperatur",max_dpi:128,metadata_id:"ebded1e9-613e-4f58-a47f-386676a0a39f"},dimensions:{},type:"WMS",layers:"eau_new_Bodentemperatur",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Bodentemperatur__7"}]},{id:610,name:"eau_new_Schneehoehe",metadata:{is_queryable:!0,legend_name:"eau:schneehoehe",max_dpi:128,metadata_id:"60c9ec41-6fa8-4aed-8822-bfdad9ab755d"},dimensions:{},type:"WMS",layers:"eau_new_Schneehoehe",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Schneehoehe__8"}]},{id:615,name:"eau_new_Luftfeucht",metadata:{is_queryable:!0,legend_name:"eau:luftfeucht",max_dpi:128,metadata_id:"bbb784cd-a8f2-4f60-8d2d-8a7bd341ac73"},dimensions:{},type:"WMS",layers:"eau_new_Luftfeucht",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Luftfeucht__9"}]},{id:563,name:"eau_new_Luftdruck",metadata:{is_queryable:!0,legend_name:"eau:luftdruck",max_dpi:128,metadata_id:"1ebc644b-0643-495f-84ed-c820459920cc"},dimensions:{},type:"WMS",layers:"eau_new_Luftdruck",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Luftdruck__10"}]},{id:616,name:"eau_new_Globalstrahlung",metadata:{is_queryable:!0,legend_name:"eau:globalstrahlung",max_dpi:128,metadata_id:"f5d2d484-adb2-46fc-95f0-9a94c85db5de"},dimensions:{},type:"WMS",layers:"eau_new_Globalstrahlung",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Globalstrahlung__11"}]}],metadata:{},mixed:!0},{id:472,name:"eau_new_Oberflaechengewaesser_Messstationen",children:[{id:2487,name:"eau_new_WRRL_Ueberwachungsnetzwerk_OWK_2e_zyklus",metadata:{is_queryable:!0,legend_name:"eau:wrrl_ueberwachungsnetzwerk_owk_-_2e_zyklus",metadata_id:"97e6564c-7758-4850-9606-c690a1c1c4ba"},dimensions:{},type:"WMS",layers:"eau_new_WRRL_Ueberwachungsnetzwerk_OWK_2e_zyklus",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_WRRL_Ueberwachungsnetzwerk_OWK_2e_zyklus__432"}]},{id:2488,name:"eau_new_WRRL_Ueberwachungsnetzwerk_OWK_3e_zyklus",metadata:{is_queryable:!0,legend_name:"eau:wrrl_ueberwachungsnetzwerk_owk_-_3e_zyklus",metadata_id:"01a0bbed-f787-4f5b-a89f-1abed736896c"},dimensions:{},type:"WMS",layers:"eau_new_WRRL_Ueberwachungsnetzwerk_OWK_3e_zyklus",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_WRRL_Ueberwachungsnetzwerk_OWK_3e_zyklus__433"}]},{id:654,name:"eau_new_Oberflächengewässer_Nitratrichtlinie_91_676_CEE",metadata:{geocatalog_open_data_last_update_date:"2024-09-03T01:02:57.1228277",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"66d6604000b5fead3c39cf42",is_queryable:!0,legend_name:"eau:nitratrichtlinie_messstationen",max_dpi:128,metadata_id:"dc7d9871-2693-4714-b1f6-ab202a59d28b"},dimensions:{},type:"WMS",layers:"654",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Oberflächengewässer_Nitratrichtlinie_91_676_CEE__16"}]}],metadata:{},mixed:!0},{id:473,name:"eau_new_Grundwasser_Messstationen",children:[{id:2489,name:"eau_new_WRRL_Ueberwachungsnetzwerk_GWK_2e_zyklus",metadata:{is_queryable:!0,legend_name:"eau:wrrl_ueberwachungsnetzwerk_gwk_-_2e_zyklus",metadata_id:"b3fda5d5-c071-4ea0-bb1c-d2bf9ca36af1"},dimensions:{},type:"WMS",layers:"eau_new_WRRL_Ueberwachungsnetzwerk_GWK_2e_zyklus",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_WRRL_Ueberwachungsnetzwerk_GWK_2e_zyklus__466"}]},{id:2490,name:"eau_new_WRRL_Ueberwachungsnetzwerk_GWK_3e_zyklus",metadata:{is_queryable:!0,legend_name:"eau:wrrl_ueberwachungsnetzwerk_gwk_-_3e_zyklus",metadata_id:"d0f6a240-48c4-434c-a762-cd2fdb427cf9"},dimensions:{},type:"WMS",layers:"eau_new_WRRL_Ueberwachungsnetzwerk_GWK_3e_zyklus",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_WRRL_Ueberwachungsnetzwerk_GWK_3e_zyklus__467"}]},{id:570,name:"eau_new_Grundwasser_Nitratrichtlinie_91_676_CEE",metadata:{geocatalog_open_data_last_update_date:"2024-09-04T01:03:05.9320276",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"66d7b1c987ac9208bf4692ea",is_queryable:!0,legend_name:"eau:grundwasser_nitratrichtlinie",max_dpi:128,metadata_id:"9b358488-a605-46af-81eb-90c4ab7c9931"},dimensions:{},type:"WMS",layers:"570",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Grundwasser_Nitratrichtlinie_91_676_CEE__320"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:484,name:"eau_new_Hydrografie",children:[{id:450,name:"eau_new_Gewaessernetz",children:[{id:749,name:"eau_new_Gewässer",metadata:{geocatalog_open_data_last_update_date:"2024-10-04T01:04:10.2318338",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"57ece2a1cc765e1a24228124",is_queryable:!0,legend_name:"eau:primaere_gewaesser_sekundaere_gewaesser_temporaer_fliessende_baeche",metadata_id:"9da34ec3-89d5-4731-b927-e38ed8088571"},dimensions:{},type:"WMS",layers:"eau_new_Gewässer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Gewässer__23"},{name:"eau_new_Gewässer__24"},{name:"eau_new_Gewässer__25"}]},{id:651,name:"eau_new_Kanal_-__Muehlgraben",metadata:{is_queryable:!0,legend_name:"eau:kanal_-__muehlgraben",max_dpi:128,metadata_id:"909501fc-a0a9-4af8-8e82-f2a8d7f2fe2f"},dimensions:{},type:"WMS",layers:"eau_new_Kanal_-__Muehlgraben",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Kanal_-__Muehlgraben__26"}]},{id:750,name:"eau_new_Kilometrierung der Gewässer",metadata:{legend_name:"eau:kilometrierung_primaere_gewaesser_kilometrierung_sekundaere_gewaesser",metadata_id:"4002b1cf-08b5-421a-bc92-40271d62f03c"},dimensions:{},type:"WMS",layers:"eau_new_Kilometrierung der Gewässer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Kilometrierung der Gewässer__27"},{name:"eau_new_Kilometrierung der Gewässer__28"}]},{id:636,name:"eau_new_Einzugsgebiete",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:11.8156287",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ecb010cc765e17f1820811",is_queryable:!0,legend_name:"eau:einzugsgebiete",max_dpi:128,metadata_id:"a295a30a-f819-400c-842c-d0ccc695bea5"},dimensions:{},type:"WMS",layers:"eau_new_Einzugsgebiete",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Einzugsgebiete__29"}]},{id:569,name:"eau_new_Stausee_Sauer",metadata:{geocatalog_open_data_last_update_date:"2024-06-01T01:05:09.6659471",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ece210cc765e1a2422811f",is_queryable:!0,legend_name:"eau:stausee_sauer",max_dpi:128,metadata_id:"119ad2e3-b44f-4777-883d-d2d522bafeca"},dimensions:{},type:"WMS",layers:"eau_new_Stausee_Sauer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Stausee_Sauer__30"}]}],metadata:{},mixed:!0},{id:451,name:"eau_new_Fischerei",children:[{id:626,name:"eau_new_Fischereiabschnitte",metadata:{geocatalog_open_data_last_update_date:"2024-09-11T01:02:43.2828183",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ecb079111e9b02db9a6ece",is_queryable:!0,legend_name:"eau:fischereiabschnitte",max_dpi:128,metadata_id:"bd6be85a-cec4-4e4d-9657-cffa242db28f"},dimensions:{},type:"WMS",layers:"eau_new_Fischereiabschnitte",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Fischereiabschnitte__37"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:483,name:"eau_new_Grundwasser",children:[{id:628,name:"eau_new_Bohrungen",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:02:16.7602644",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ecb039cc765e18ae5ed882",is_queryable:!0,legend_name:"eau:bohrungen",max_dpi:128,metadata_id:"4ab49f17-a50e-4439-9a9e-01ec93421aec"},dimensions:{},type:"WMS",layers:"eau_new_Bohrungen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Bohrungen__39"}]},{id:629,name:"eau_new_Quellen",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.4671511",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ece292cc765e1a24228123",is_queryable:!0,legend_name:"eau:quellen",max_dpi:128,metadata_id:"58fa573a-a0c3-474d-9e74-c277cf90b135"},dimensions:{},type:"WMS",layers:"eau_new_Quellen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Quellen__40"}]},{id:631,name:"eau_new_Grundwasserleiter",metadata:{geocatalog_open_data_last_update_date:"2024-06-03T01:02:35.1743465",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ecafe1cc765e18ae5ed87e",is_queryable:!0,legend_name:"eau:grundwasserleiter",max_dpi:128,metadata_id:"783a8608-e4b3-44ed-8864-68525da33760"},dimensions:{},type:"WMS",layers:"eau_new_Grundwasserleiter",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Grundwasserleiter__41"}]},{id:2396,name:"eau_new_Einschraenkung_Waermepumpe_(public)",metadata:{legend_name:"eau:einschraenkung_waermepumpe",max_dpi:128,metadata_id:"ed3ff125-47cc-4247-abaf-77e05cf60984"},dimensions:{},type:"WMS",layers:"eau_new_Einschraenkung_Waermepumpe_(public)",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Einschraenkung_Waermepumpe_(public)__453"}]},{id:2288,name:"eau_new_Einschraenkung_Waermepumpe_nouvelle_couche",metadata:{legend_name:"eau:einschraenkung_waermepumpe_15m",max_dpi:128,metadata_id:"b2d715ed-660e-46e6-8c5f-ee3327e0fcb9"},dimensions:{},type:"WMS",layers:"eau_new_Einschraenkung_Waermepumpe_nouvelle_couche",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Einschraenkung_Waermepumpe_nouvelle_couche__446"}]},{id:2794,name:"eau_restrictions_forages_prives_prelevement",metadata:{legend_name:"eau:restrictions_nouveaux_forages_prives",metadata_id:"b2f60fc1-c2e8-4472-a8e2-4e11a862b257"},dimensions:{},type:"WMS",layers:"eau_restrictions_forages_prives_prelevement",imageType:"image/png",style:"default",childLayers:[{name:"eau_restrictions_forages_prives_prelevement__475"}]}],metadata:{},mixed:!0},{id:448,name:"eau_new_Trinkwasser",children:[{id:567,name:"eau_new_Trinkwasserentnahmepunkte",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.3958552",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ecb044cc765e17f1820812",is_queryable:!0,legend_name:"eau:trinkwasserentnahmepunkte",max_dpi:128,metadata_id:"a049086b-9c17-4ba6-b9bf-78cb4af8ee68"},dimensions:{},type:"WMS",layers:"eau_new_Trinkwasserentnahmepunkte",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Trinkwasserentnahmepunkte__47"}]},{id:598,name:"eau_new_Trinkwasserbehaelter",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:02:23.7053926",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ecb062cc765e18ae5ed883",is_queryable:!0,legend_name:"eau:trinkwasserbehaelter",max_dpi:128,metadata_id:"abe5466d-e045-4872-a17c-7379adc497f5"},dimensions:{},type:"WMS",layers:"eau_new_Trinkwasserbehaelter",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Trinkwasserbehaelter__49"}]},{id:538,name:"eau_new_Trinkwassersyndikate",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.3237467",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ecb057111e9b02db9a6ecd",is_queryable:!0,legend_name:"eau_new:trinkwassersyndikate",max_dpi:128,metadata_id:"63ecd69e-5714-4311-b05a-5bfa191ac546"},dimensions:{},type:"WMS",layers:"eau_new_Trinkwassersyndikate",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Trinkwassersyndikate__50"}]},{id:2573,name:"eau_certificat_drepsi",metadata:{geocatalog_open_data_last_update_date:"2024-06-01T01:05:09.7919567",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"665921c12d0aeb8d9802c3d3",is_queryable:!0,legend_name:"eau:drepsi",metadata_id:"5ecb8e6f-383d-424c-a399-f2faa3e24a8d"},dimensions:{},type:"WMS",layers:"eau_certificat_drepsi",imageType:"image/png",style:"default",childLayers:[{name:"eau_certificat_drepsi__468"}]},{id:1754,name:"eau_new_qualite_eau_potable",children:[{id:1767,name:"eau_new_wasserhaerte",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:11.6951685",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"665921c72d0aeb8d9802c3d4",legend_name:"eau:wasserhaerte",metadata_id:"28e8de6e-9274-4e62-be68-a071b6e8db1c"},dimensions:{},type:"WMS",layers:"eau_new_wasserhaerte",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_wasserhaerte__361"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:373,name:"eau_new_Trinkwasser_Schutzzonen_(ZPS)",children:[{id:214,name:"eau_new_Provisorische_ZPS",metadata:{geocatalog_open_data_last_update_date:"2024-10-03T01:04:17.082383",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"57ece254111e9b03b03833c4",is_queryable:!0,legend_name:"eau:provisorische_zps",max_dpi:128,metadata_id:"ddc51f25-2fb7-4d14-866a-a08f8af8ef03"},dimensions:{},type:"WMS",layers:"eau_new_Provisorische_ZPS",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Provisorische_ZPS__130"}]},{id:664,name:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",metadata:{geocatalog_open_data_last_update_date:"2024-10-04T01:04:09.8847458",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e745b111e9b729d2f54dd",is_queryable:!0,legend_name:"eau:zps_laufende_oeffentliche_verfahrungsweise",max_dpi:128,metadata_id:"87beb1ac-7496-48f6-b5a9-8666e3897523"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise__131"}]},{id:573,name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",metadata:{geocatalog_open_data_last_update_date:"2024-10-09T01:03:43.6506495",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e7451111e9b72855243a1",is_queryable:!0,legend_name:"eau:zps_durch_grosshrzgl._verordnung_festgelegt",max_dpi:128,metadata_id:"d70f99e0-6032-4a4b-b516-5dfdfce33b26"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__132"}]},{id:1464,name:"eau_prgd_zones_protection_lac",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.5407176",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"5b571c9546f3b55625dc355c",is_queryable:!0,legend_name:"eau:prgd_stausee",metadata_id:"eab29425-71cc-4610-b48e-8d848d0a8431"},dimensions:{},type:"WMS",layers:"eau_prgd_zones_protection_lac",imageType:"image/png",style:"default",childLayers:[{name:"eau_prgd_zones_protection_lac__349"}]},{id:490,name:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",metadata:{geocatalog_open_data_last_update_date:"2024-06-01T01:05:08.8469357",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ece272cc765e1a24228122",is_queryable:!0,legend_name:"eau:sanitaere_schutzzonen_stausee",max_dpi:128,metadata_id:"e34de488-68ea-48a8-9e92-f67bb209508e"},dimensions:{},type:"WMS",layers:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer__133"}]},{id:559,name:"eau_new_Zones_interdiction_utilisation_metazachlore",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:11.3349336",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"591d66aecc765e79df289232",is_queryable:!1,legend_name:"eau_new:metazachlore",max_dpi:128,metadata_id:"803e93f8-588f-4697-8d76-972be1ad3531",start_opacity:.7},dimensions:{},type:"WMS",layers:"eau_new_Zones_interdiction_utilisation_metazachlore",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Zones_interdiction_utilisation_metazachlore__304"}]}],metadata:{},mixed:!0},{id:469,name:"eau_new_Schutzgebiete",children:[{id:656,name:"eau_new_Badegewaesser",metadata:{geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ecaff2cc765e18ae5ed87f",is_queryable:!0,legend_name:"eau:badegewaesser",max_dpi:128,metadata_id:"72f770ee-7290-4ecb-9358-580b7cfcadf7"},dimensions:{},type:"WMS",layers:"eau_new_Badegewaesser",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Badegewaesser__135"}]},{id:581,name:"eau_new_Badegewaesser_-_Qualitaet",metadata:{geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"57ece261cc765e1a24228120",is_queryable:!0,legend_name:"eau:badegewaesser_-_qualitaet",max_dpi:128,metadata_id:"c0c9c705-8b26-4a0b-b9bb-e2243cd5386a"},dimensions:{},type:"WMS",layers:"eau_new_Badegewaesser_-_Qualitaet",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Badegewaesser_-_Qualitaet__136"}]},{id:612,name:"eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)",metadata:{geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_uuid:"57ece27bcc765e1a270cf61d",is_queryable:!0,legend_name:"eau:empfindliche_gebiete_kommunalabwasserrichtlinie",max_dpi:128,metadata_id:"39952e6c-8e73-4a23-a19c-78c4f06c84d9"},dimensions:{},type:"WMS",layers:"eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Empfindliche_Gebiete_(Kommunalabwasserrichtlinie)__139"}]},{id:492,name:"eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)",metadata:{geocatalog_open_data_last_update_date:"2024-09-04T01:02:59.0520396",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"66d7b1c287ac9208bf4692e9",is_queryable:!0,legend_name:"eau:gefaehrdete_gebiete_nitratrichtlinie",max_dpi:128,metadata_id:"9426a9a6-7cb1-4c1a-a504-40dabc4429c0"},dimensions:{},type:"WMS",layers:"eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Gefaehrdete_Gebiete_(Nitratrichtlinie)__140"}]}],metadata:{},mixed:!0},{id:470,name:"eau_new_Gewaesserschutz",children:[{id:643,name:"eau_new_Abwassersyndikate",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.7305149",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ece2dd111e9b03b03833c5",is_queryable:!0,legend_name:"eau:abwassersyndikate",max_dpi:128,metadata_id:"4b5e384c-5603-4cf4-9bd5-6e520df5c375"},dimensions:{},type:"WMS",layers:"eau_new_Abwassersyndikate",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Abwassersyndikate__143"}]},{id:645,name:"eau_new_Klaeranlagen",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.116702",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ece288cc765e1a25470f74",is_queryable:!0,legend_name:"eau:klaeranlagen",max_dpi:128,metadata_id:"53e55765-90eb-438f-a744-3ac878b06334"},dimensions:{},type:"WMS",layers:"eau_new_Klaeranlagen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Klaeranlagen__142"}]}],metadata:{},mixed:!0},{id:486,name:"eau_new_Hochwasserrisikomanagement-Richtlinie [HWRM-RL]",children:[{id:1696,name:"eau_new_Risikogewaesser_2019_group",children:[{id:1703,name:"eau_Risikogewaesser_2019",metadata:{is_queryable:!0,legend_name:"eau:risikogewaesser_2019",metadata_id:"762cd956-9733-4855-afa7-38768a38e8a1"},dimensions:{},type:"WMS",layers:"eau_Risikogewaesser_2019",imageType:"image/png",style:"default",childLayers:[{name:"eau_Risikogewaesser_2019__16"}]}],metadata:{},mixed:!0},{id:2114,name:"eau_Hochwassergefahrenkarten_2021",children:[{id:2117,name:"eau_Hochwassergefahrenkarten_HQ10_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"153130ef-8255-4bce-bca0-d2359d277995"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ10_2021",imageType:"image/png"},{id:2118,name:"eau_Hochwassergefahrenkarten_HQ100_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cdb4137d-822f-4888-8a51-4596480970fe"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ100_2021",imageType:"image/png"},{id:2119,name:"eau_Hochwassergefahrenkarten_HQext_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cd0f52f7-7226-4748-95e0-b77025284423"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0},{id:2115,name:"eau_Hochwasserrisikokarten_2021",children:[{id:2120,name:"eau_Hochwasserrisikokarten_HQ10_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"4a428832-16cf-4861-a1da-78a1f0a8c194"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ10_2021",imageType:"image/png"},{id:2121,name:"eau_Hochwasserrisikokarten_HQ100_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"ccb959ef-0ad6-47ec-ade9-45021912353f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ100_2021",imageType:"image/png"},{id:2122,name:"eau_Hochwasserrisikokarten_HQext_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"f803b49a-336a-4bb7-acd9-5cbf508a731f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0},{id:1711,name:"eau_atlas_crues_subites",children:[{id:2045,name:"age_dangers_fortes",metadata:{legend_name:"age_dangers_fortes",metadata_id:"55dbe91c-f1e5-4c56-b0b9-4590988e23e5"},dimensions:{},type:"WMS",layers:"age_dangers_fortes",imageType:"image/png",style:"default",childLayers:[{name:"age_dangers_fortes__0"},{name:"age_dangers_fortes__1"}]},{id:2046,name:"age_risques_fortes",metadata:{legend_name:"age_risques_fortes",metadata_id:"f1d9b1cd-ad78-44df-89ac-ad591138243f"},dimensions:{},type:"WMS",layers:"age_risques_fortes",imageType:"image/png",style:"default",childLayers:[{name:"age_risques_fortes__1"},{name:"age_risques_fortes__2"},{name:"age_risques_fortes__3"},{name:"age_risques_fortes__4"},{name:"age_risques_fortes__5"}]}],metadata:{},mixed:!0},{id:461,name:"eau_new_Historische_Ueberschwemmungsgebiete",children:[{id:637,name:"eau_new_UESG_1983_-_Mosel",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.2797021",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde16111e9b03b03833be",is_queryable:!0,legend_name:"eau:uesg_1983_-_mosel",max_dpi:128,metadata_id:"e6896207-c0f9-417e-9661-119128628e8e"},dimensions:{},type:"WMS",layers:"eau_new_UESG_1983_-_Mosel",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_1983_-_Mosel__122"}]},{id:641,name:"eau_new_UESG_1993_(ausser_Mosel)",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:25.7826569",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde1e111e9b03b03833bf",is_queryable:!0,legend_name:"eau:uesg_1993_ausser_mosel",max_dpi:128,metadata_id:"78c692f3-ad20-467b-b03a-0d020a821647"},dimensions:{},type:"WMS",layers:"eau_new_UESG_1993_(ausser_Mosel)",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_1993_(ausser_Mosel)__123"}]},{id:642,name:"eau_new_UESG_Alzette_1995",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.5894792",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde26111e9b03b03833c0",is_queryable:!0,legend_name:"eau:uesg_alzette_1995",max_dpi:128,metadata_id:"aaf81780-df85-4580-a890-fded8ae03db7"},dimensions:{},type:"WMS",layers:"eau_new_UESG_Alzette_1995",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_Alzette_1995__124"}]},{id:633,name:"eau_new_UESG_Sauer_1995",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.4493603",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde30111e9b03b222c3b5",is_queryable:!0,legend_name:"eau:uesg_sauer_1995",max_dpi:128,metadata_id:"f01f7be2-0423-4571-8fff-57dd617ae632"},dimensions:{},type:"WMS",layers:"eau_new_UESG_Sauer_1995",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_Sauer_1995__125"}]},{id:2116,name:"eau_Hochwasserkarten_2021",children:[{id:2114,name:"eau_Hochwassergefahrenkarten_2021",children:[{id:2117,name:"eau_Hochwassergefahrenkarten_HQ10_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"153130ef-8255-4bce-bca0-d2359d277995"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ10_2021",imageType:"image/png"},{id:2118,name:"eau_Hochwassergefahrenkarten_HQ100_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cdb4137d-822f-4888-8a51-4596480970fe"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ100_2021",imageType:"image/png"},{id:2119,name:"eau_Hochwassergefahrenkarten_HQext_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cd0f52f7-7226-4748-95e0-b77025284423"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0},{id:2115,name:"eau_Hochwasserrisikokarten_2021",children:[{id:2120,name:"eau_Hochwasserrisikokarten_HQ10_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"4a428832-16cf-4861-a1da-78a1f0a8c194"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ10_2021",imageType:"image/png"},{id:2121,name:"eau_Hochwasserrisikokarten_HQ100_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"ccb959ef-0ad6-47ec-ade9-45021912353f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ100_2021",imageType:"image/png"},{id:2122,name:"eau_Hochwasserrisikokarten_HQext_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"f803b49a-336a-4bb7-acd9-5cbf508a731f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:463,name:"eau_new_Zusaetzliche_Informationen",children:[{id:756,name:"eau_new_Hochwasser Brennpunkte",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.8729061",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"5fd1cadde9996e5faf62ea6f",is_queryable:!0,legend_name:"eau:hochwasser_brennpunkte",metadata_id:"b2bfd06d-5f05-4abf-8f41-103d40a380e7"},dimensions:{},type:"WMS",layers:"eau_new_Hochwasser Brennpunkte",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Hochwasser Brennpunkte__309"}]},{id:758,name:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:03:13.4638796",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"66e4e0d15a1785364d6db3fb",is_queryable:!0,legend_name:"eau:massnahmens_des_hochwasserrisikomanagementplans",metadata_id:"4326fea6-7ec4-4bb9-861f-4476b0d4ceac"},dimensions:{},type:"WMS",layers:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans__314"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:474,name:"eau_new_Wasserrahmenrichtlinie",children:[{id:1469,name:"eau_strahlwirkungskonzept",metadata:{is_queryable:!0,legend_name:"eau:strahlwirkungskonzept",metadata_id:"e1744b8e-101e-406d-b742-776d488a00b5"},dimensions:{},type:"WMS",layers:"eau_strahlwirkungskonzept",imageType:"image/png",style:"default",childLayers:[{name:"eau_strahlwirkungskonzept__351"},{name:"eau_strahlwirkungskonzept__352"}]},{id:475,name:"eau_new_Bewirtschaftungsplan_2009",children:[{id:644,name:"eau_new_Betrachtungsraeume_2009",metadata:{is_queryable:!0,legend_name:"eau:betrachtungsraeume_2009",max_dpi:128,metadata_id:"be15dd7d-df57-44e1-b724-0929cf05eef9"},dimensions:{},type:"WMS",layers:"eau_new_Betrachtungsraeume_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Betrachtungsraeume_2009__146"}]},{id:607,name:"eau_new_Typologie_Oberflaechengewasser_2009",metadata:{is_queryable:!0,legend_name:"eau:typologie_oberflaechengewasser_2009",max_dpi:128,metadata_id:"0d1d73f0-7644-4217-a0df-b6c497508592"},dimensions:{},type:"WMS",layers:"eau_new_Typologie_Oberflaechengewasser_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Typologie_Oberflaechengewasser_2009__147"}]},{id:601,name:"eau_new_Oberflaechenwasserkoerper_2009",metadata:{is_queryable:!0,legend_name:"eau:oberflaechenwasserkoerper_2009",max_dpi:128,metadata_id:"404cf7b4-f70b-4c2c-a44b-89e297fab0f8"},dimensions:{},type:"WMS",layers:"eau_new_Oberflaechenwasserkoerper_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Oberflaechenwasserkoerper_2009__148"}]},{id:634,name:"eau_new_Erheblich veränderte Wasserkörper 2009",metadata:{is_queryable:!0,legend_name:"eau:erheblich_veraenderte_owk_2009",max_dpi:128,metadata_id:"78da31c2-55eb-40c9-99fe-22ff409468c2"},dimensions:{},type:"WMS",layers:"eau_new_Erheblich veränderte Wasserkörper 2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Erheblich veränderte Wasserkörper 2009__149"}]},{id:603,name:"eau_new_Grundwasserkoerper_2009",metadata:{is_queryable:!0,legend_name:"eau:grundwasserkoerper_2009",max_dpi:128,metadata_id:"f23ca424-ec87-4c53-929c-7e627a8e06af"},dimensions:{},type:"WMS",layers:"eau_new_Grundwasserkoerper_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Grundwasserkoerper_2009__151"}]},{id:468,name:"eau_new_Zustand_der_Wasserkoerper_(WK)_2009",children:[{id:464,name:"eau_new_Oberflaechengewaesser_2009",children:[{id:585,name:"eau_new_Gesamtzustand_2009",metadata:{is_queryable:!0,legend_name:"eau:gesamtzustand_2009",max_dpi:128,metadata_id:"44862c13-7006-44a4-99e6-2877ea512714"},dimensions:{},type:"WMS",layers:"eau_new_Gesamtzustand_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Gesamtzustand_2009__154"}]},{id:586,name:"eau_new_Chemischer_Zustand_2009",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_2009",max_dpi:128,metadata_id:"d934fbcc-02c6-47fa-a23d-cfbe49214709"},dimensions:{},type:"WMS",layers:"eau_new_Chemischer_Zustand_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_2009__155"}]},{id:614,name:"eau_new_Oekologischer_Zustand_2009",metadata:{is_queryable:!0,legend_name:"eau:oekologischer_zustand_2009",max_dpi:128,metadata_id:"92d28c19-ed51-4e9e-8a80-831144fe3553"},dimensions:{},type:"WMS",layers:"eau_new_Oekologischer_Zustand_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Oekologischer_Zustand_2009__156"}]},{id:593,name:"eau_new_Hydromorphologischer_Zustand_2009",metadata:{is_queryable:!0,legend_name:"eau:hydromorphologischer_zustand_2009",max_dpi:128,metadata_id:"0227e64f-11ef-4f0a-8853-48fd7385f2b1"},dimensions:{},type:"WMS",layers:"eau_new_Hydromorphologischer_Zustand_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Hydromorphologischer_Zustand_2009__157"}]}],metadata:{},mixed:!0},{id:435,name:"eau_new_Grundwasser_2009",children:[{id:657,name:"eau_new_Zustand_der_WK_2009",metadata:{is_queryable:!0,legend_name:"eau:zustand_der_wk_2009",max_dpi:128,metadata_id:"2df25c38-15d5-447f-a269-4184ce781050"},dimensions:{},type:"WMS",layers:"eau_new_Zustand_der_WK_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Zustand_der_WK_2009__159"}]},{id:605,name:"eau_new_Quantitativer_Zustand_der_WK_2009",metadata:{is_queryable:!0,legend_name:"eau:quantitativer_zustand_der_wk_2009",max_dpi:128,metadata_id:"a9ebce38-6c8b-447e-9d22-46ba333fa63c"},dimensions:{},type:"WMS",layers:"eau_new_Quantitativer_Zustand_der_WK_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Quantitativer_Zustand_der_WK_2009__160"}]},{id:441,name:"eau_new_Chemischer_Zustand_der_WK_2009",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_der_wk_2009",max_dpi:128,metadata_id:"e9a72fec-29a0-4183-9e3a-6d4f49c9fea7"},dimensions:{},type:"WMS",layers:"eau_new_Chemischer_Zustand_der_WK_2009",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_der_WK_2009__161"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:480,name:"eau_new_Bewirtschaftungsplan_2015",children:[{id:536,name:"eau_new_Oberflaechenwasserkoerper_2015",metadata:{is_queryable:!0,legend_name:"eau:oberflaechenwasserkoerper_2015",max_dpi:128,metadata_id:"ead261ed-7be1-4435-9cf5-d1527a18bd19"},dimensions:{},type:"WMS",layers:"eau_new_Oberflaechenwasserkoerper_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Oberflaechenwasserkoerper_2015__165"}]},{id:658,name:"eau_new_Erheblich veränderte Wasserkörper 2015",metadata:{is_queryable:!0,legend_name:"eau:erheblich_veraenderte_wk_2015",max_dpi:128,metadata_id:"78da31c2-55eb-40c9-99fe-22ff409468c2"},dimensions:{},type:"WMS",layers:"eau_new_Erheblich veränderte Wasserkörper 2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Erheblich veränderte Wasserkörper 2015__166"}]},{id:619,name:"eau_new_Betrachtungsraeume_2015",metadata:{is_queryable:!0,legend_name:"eau:betrachtungsraeume_2015",max_dpi:128,metadata_id:"be15dd7d-df57-44e1-b724-0929cf05eef9"},dimensions:{},type:"WMS",layers:"eau_new_Betrachtungsraeume_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Betrachtungsraeume_2015__163"}]},{id:588,name:"eau_new_Typologie_Gewaesser_2015",metadata:{is_queryable:!0,legend_name:"eau:typologie_gewaesser_2015",max_dpi:128,metadata_id:"c7eea236-ad59-47fc-8c02-630fee3292dc"},dimensions:{},type:"WMS",layers:"eau_new_Typologie_Gewaesser_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Typologie_Gewaesser_2015__164"}]},{id:1470,name:"eau_fliessgewaessertypen_2015",metadata:{is_queryable:!0,legend_name:"eau:fliessgewaessertypen_2015_lawa",metadata_id:"79f4588f-a264-4921-a382-d1f83cf48da3"},dimensions:{},type:"WMS",layers:"eau_fliessgewaessertypen_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_fliessgewaessertypen_2015__354"}]},{id:759,name:"eau_new_Strukturgütekartierung 2015 [7-stufige Bewertung]",metadata:{is_queryable:!0,legend_name:"eau:strukturguetekartierung_2015_7-stufige_bewertung",metadata_id:"dd28de7b-6182-4054-89a6-dd92b80b565f"},dimensions:{},type:"WMS",layers:"eau_new_Strukturgütekartierung 2015 [7-stufige Bewertung]",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Strukturgütekartierung 2015 [7-stufige Bewertung]__315"}]},{id:760,name:"eau_new_Strukturgütekartierung 2015 [5-stufige Bewertung]",metadata:{is_queryable:!0,legend_name:"eau:strukturguetekartierung_2015_5-stufige_bewertung",metadata_id:"ff70c904-a6b9-4989-88c0-8359ff52e57e"},dimensions:{},type:"WMS",layers:"eau_new_Strukturgütekartierung 2015 [5-stufige Bewertung]",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Strukturgütekartierung 2015 [5-stufige Bewertung]__316"}]},{id:761,name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]",metadata:{is_queryable:!0,legend_name:"eau:5-band_sohle_7-stufige_bewertung_5-band_ufer_links_7-stufige_bewertung_5-band_ufer_rechts_7-stufige_bewertung_5-band_umfeld_links_7-stufige_bewertung_5-band_umfeld_rechts_7-stufige_bewertung",metadata_id:"429d3552-5f72-4be6-9c03-95c76f0a6c07"},dimensions:{},type:"WMS",layers:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__336"},{name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__337"},{name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__338"},{name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__339"},{name:"eau_new_Struktukartierung 2015 in 5 Band [7-stufige Bewertung]__340"}]},{id:763,name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]",metadata:{is_queryable:!0,legend_name:"eau:5-band_sohle_5-stufige_bewertung_5-band_ufer_links_5-stufige_bewertung_5-band_ufer_rechts_5-stufige_bewertung_5-band_umfeld_links_5-stufige_bewertung_5-band_umfeld_rechts_5-stufige_bewertung",metadata_id:"4c64f3a4-627f-4aa7-9e0c-d3ad003d9afe"},dimensions:{},type:"WMS",layers:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__342"},{name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__343"},{name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__344"},{name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__345"},{name:"eau_new_Struktukartierung 2015 in 5 Band [5-stufige Bewertung]__346"}]},{id:785,name:"eau_new_WRRL und HWRM-RL Massnahmen",metadata:{is_queryable:!0,legend_name:"eau:wrrl_und_hwrm-rl_-_massnahmen",metadata_id:"9a339e4e-eb04-42a0-ac0d-5a5f354c9548"},dimensions:{},type:"WMS",layers:"eau_new_WRRL und HWRM-RL Massnahmen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_WRRL und HWRM-RL Massnahmen__347"}]},{id:1471,name:"eau_detailliertes_massnahmenprogramm_sww",metadata:{is_queryable:!0,legend_name:"eau:detailliertes_massnahmenprogramm_sww",metadata_id:"5b9d1544-da64-4a58-b519-9a03e5491e07"},dimensions:{},type:"WMS",layers:"eau_detailliertes_massnahmenprogramm_sww",imageType:"image/png",style:"default",childLayers:[{name:"eau_detailliertes_massnahmenprogramm_sww__355"}]},{id:659,name:"eau_new_Grundwasserkoerper_2015",metadata:{is_queryable:!0,legend_name:"eau:grundwasserkoerper_2015",max_dpi:128,metadata_id:"bb5f17b7-ddac-46cc-a59d-25f82d422b5b"},dimensions:{},type:"WMS",layers:"eau_new_Grundwasserkoerper_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Grundwasserkoerper_2015__168"}]},{id:476,name:"eau_new_Zustand_der_Wasserkoerper_(WK)_2015",children:[{id:479,name:"eau_new_Oberflaechengewaesser_2015",children:[{id:622,name:"eau_new_Oekologischer_Zustand_2015",metadata:{is_queryable:!0,legend_name:"eau:oekologischer_zustand_2015",max_dpi:128,metadata_id:"5b78d0a5-1984-4efc-9e7d-0cb9d7ca829d"},dimensions:{},type:"WMS",layers:"eau_new_Oekologischer_Zustand_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Oekologischer_Zustand_2015__173"}]},{id:663,name:"eau_new_Gesamtzustand_2015",metadata:{is_queryable:!0,legend_name:"eau:gesamtzustand_2015",max_dpi:128,metadata_id:"bea7140f-b938-4494-ac14-a2252a1d0fcb"},dimensions:{},type:"WMS",layers:"eau_new_Gesamtzustand_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Gesamtzustand_2015__171"}]},{id:621,name:"eau_new_Chemischer Zustand 2015_Richtlinie 2008_105_EG",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_2015",max_dpi:128,metadata_id:"7df87ec3-bfad-4d1b-a10b-68670c8073f4"},dimensions:{},type:"WMS",layers:"621",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer Zustand 2015_Richtlinie 2008_105_EG__172"}]},{id:764,name:"eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe 2015_Richtlinie_2008_105_EG",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2015_richtlinie_2008_105_eg",metadata_id:"68f761b4-e1d1-4cda-b4aa-1e61fc812588"},dimensions:{},type:"WMS",layers:"764",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe 2015_Richtlinie_2008_105_EG__318"}]},{id:765,name:"eau_new_Chemischer_Zustand_2015_Richtlinie 2013_39_EU",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_2015_richtlinie_2013_39_eu",metadata_id:"7df87ec3-bfad-4d1b-a10b-68670c8073f4"},dimensions:{},type:"WMS",layers:"765",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_2015_Richtlinie 2013_39_EU__319"}]},{id:766,name:"eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe_2015_Richtlinie 2013_39_EU",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2015_richtlinie_2013_39_eu",metadata_id:"d78ac813-7ab3-4162-945a-f87512e66654"},dimensions:{},type:"WMS",layers:"766",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_ohne_ubiquitaere_Stoffe_2015_Richtlinie 2013_39_EU__320"}]},{id:466,name:"eau_new_Qualitaetskomponenten_des_oekologischen_Zustands_2015",children:[{id:767,name:"eau_new_Hydromorphologische Gesamtbewertung 2015",metadata:{is_queryable:!0,legend_name:"eau:hydromorphologischer_zustand_2015",metadata_id:"767e0a8a-31e0-4a53-913f-6ab1c76ca27c"},dimensions:{},type:"WMS",layers:"eau_new_Hydromorphologische Gesamtbewertung 2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Hydromorphologische Gesamtbewertung 2015__174"}]},{id:769,name:"eau_new_Morphologie 2015",metadata:{is_queryable:!0,legend_name:"eau:morphologie_2015",metadata_id:"b7812f62-a8b5-4ef4-bbb8-c2e3a9688c93"},dimensions:{},type:"WMS",layers:"eau_new_Morphologie 2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Morphologie 2015__330"}]},{id:770,name:"eau_new_Durchgängigkeit 2015",metadata:{is_queryable:!0,legend_name:"eau:durchgaengigkeit_2015",metadata_id:"4983c058-3d33-4b6f-b801-de1113a11f27"},dimensions:{},type:"WMS",layers:"eau_new_Durchgängigkeit 2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Durchgängigkeit 2015__331"}]},{id:583,name:"eau_new_Physiko-Chemie_2015",metadata:{is_queryable:!0,legend_name:"eau:physiko-chemie_2015",max_dpi:128,metadata_id:"45702d13-2608-4300-ba54-0e078c96386c"},dimensions:{},type:"WMS",layers:"eau_new_Physiko-Chemie_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Physiko-Chemie_2015__176"}]},{id:771,name:"eau_new_Phytoplankton 2015",metadata:{is_queryable:!0,legend_name:"eau:phytoplankton_2015",metadata_id:"e5d8434c-c367-4a56-a7d1-aa60f70a301f"},dimensions:{},type:"WMS",layers:"eau_new_Phytoplankton 2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Phytoplankton 2015__321"}]},{id:662,name:"eau_new_Makrophyten_2015",metadata:{is_queryable:!0,legend_name:"eau:aquatische_flora_2015",max_dpi:128,metadata_id:"fe673001-2447-4e3c-bce6-4606b6bf222d"},dimensions:{},type:"WMS",layers:"eau_new_Makrophyten_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Makrophyten_2015__177"}]},{id:600,name:"eau_new_Makro-Invertebraten_2015",metadata:{is_queryable:!0,legend_name:"eau:makro-invertebraten_2015",max_dpi:128,metadata_id:"b8a59482-2696-4b9a-a527-3201597a4caf"},dimensions:{},type:"WMS",layers:"eau_new_Makro-Invertebraten_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Makro-Invertebraten_2015__180"}]},{id:646,name:"eau_new_Fische_2015",metadata:{is_queryable:!0,legend_name:"eau:fische_2015",max_dpi:128,metadata_id:"f44a6aa7-6dcc-4d99-9033-c13ef23ebef4"},dimensions:{},type:"WMS",layers:"eau_new_Fische_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Fische_2015__179"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:471,name:"eau_new_Grundwasser_2015",children:[{id:591,name:"eau_new_Zustand_der_WK_2015",metadata:{is_queryable:!0,legend_name:"eau:zustand_der_wk_2015",max_dpi:128,metadata_id:"489c9b85-6c3c-4019-b3ee-096936b2683c"},dimensions:{},type:"WMS",layers:"eau_new_Zustand_der_WK_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Zustand_der_WK_2015__182"}]},{id:592,name:"eau_new_Quantitativer_Zustand_der_WK_2015",metadata:{is_queryable:!0,legend_name:"eau:quantitativer_zustand_der_wk_2015",max_dpi:128,metadata_id:"333c7e4f-cdc3-439a-aa13-ca0f9138c764"},dimensions:{},type:"WMS",layers:"eau_new_Quantitativer_Zustand_der_WK_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Quantitativer_Zustand_der_WK_2015__183"}]},{id:632,name:"eau_new_Chemischer_Zustand_der_WK_2015",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_der_wk_2015",max_dpi:128,metadata_id:"ddd64c4a-f5af-4bbb-a7d3-3db1016ee541"},dimensions:{},type:"WMS",layers:"eau_new_Chemischer_Zustand_der_WK_2015",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Chemischer_Zustand_der_WK_2015__184"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2085,name:"eau_Bewirtschaftungsplan_2021",children:[{id:2090,name:"eau_Oberflaechenwasserkoerper_2021",metadata:{is_queryable:!0,legend_name:"eau:oberflaechenwasserkoerper_2021",max_dpi:128,metadata_id:"c50b2bc7-aeb7-4d3e-9349-09eb3ec0f927"},dimensions:{},type:"WMS",layers:"eau_Oberflaechenwasserkoerper_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Oberflaechenwasserkoerper_2021__386"}]},{id:2091,name:"eau_Erheblich veränderte Wasserkörper 2021",metadata:{is_queryable:!0,legend_name:"eau:erheblich_veraenderte_wk_2021",max_dpi:128,metadata_id:"311cc30b-8092-4816-9f86-87d5f2995706"},dimensions:{},type:"WMS",layers:"eau_Erheblich veränderte Wasserkörper 2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Erheblich veränderte Wasserkörper 2021__387"}]},{id:2491,name:"eau_new_Betrachtungsraeume_2021",metadata:{is_queryable:!0,legend_name:"eau:betrachtungsraeume_2021",metadata_id:"af21fbbf-3f63-4742-8c44-f8a377930197"},dimensions:{},type:"WMS",layers:"eau_new_Betrachtungsraeume_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Betrachtungsraeume_2021__455"}]},{id:2223,name:"eau_typologie_Gewässer_2021",metadata:{is_queryable:!0,legend_name:"eau:fleissgewaessertypen_2021_lu",metadata_id:"492d6faa-5c91-45d4-83d7-733398cc48d1"},dimensions:{},type:"WMS",layers:"eau_typologie_Gewässer_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_typologie_Gewässer_2021__419"}]},{id:2224,name:"eau_Fließgewässertypen_2021",metadata:{is_queryable:!0,legend_name:"eau:fleissgewaessertypen_2021_lawa",metadata_id:"8608d8c5-def8-4050-9f44-7746edd7a32e"},dimensions:{},type:"WMS",layers:"eau_Fließgewässertypen_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Fließgewässertypen_2021__420"}]},{id:2269,name:"eau_grundwasserkoerper_2021",metadata:{is_queryable:!0,legend_name:"eau:grundwasserkoerper_2021",metadata_id:"3bd42cf4-93ce-451f-8749-e3f6d1750eeb"},dimensions:{},type:"WMS",layers:"eau_grundwasserkoerper_2021",imageType:"image/png",childLayers:[{name:"eau_grundwasserkoerper_2021__444"}]},{id:2222,name:"eau_Strukturgütekartierung_2021",children:[{id:2225,name:"eau_Strukturgütekartierung_2021_7stufige_bewertung",metadata:{is_queryable:!0,legend_name:"eau:strukturguetekartierung_2021_7-stufige_bewertung",metadata_id:"87e3688f-b831-44e9-aa4f-38d89a41139a"},dimensions:{},type:"WMS",layers:"eau_Strukturgütekartierung_2021_7stufige_bewertung",imageType:"image/png",style:"default",childLayers:[{name:"eau_Strukturgütekartierung_2021_7stufige_bewertung__405"}]},{id:2226,name:"eau_Strukturgütekartierung_2021_5stufige_bewertung",metadata:{is_queryable:!0,legend_name:"eau:strukturguetekartierung_2021_5-stufige_bewertung",metadata_id:"0e36b3e4-8811-43b6-9f2d-a2ea26c817cb"},dimensions:{},type:"WMS",layers:"eau_Strukturgütekartierung_2021_5stufige_bewertung",imageType:"image/png",style:"default",childLayers:[{name:"eau_Strukturgütekartierung_2021_5stufige_bewertung__406"}]},{id:2227,name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung",metadata:{is_queryable:!0,legend_name:"eau:struktukartierung_2021_5_band_7-stufige_bewertung",metadata_id:"27c60680-00ac-4e28-857f-41a1021ae4d9"},dimensions:{},type:"WMS",layers:"eau_Struktukartierung_2021_5_band_7stufige_bewertung",imageType:"image/png",style:"default",childLayers:[{name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung__408"},{name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung__409"},{name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung__410"},{name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung__411"},{name:"eau_Struktukartierung_2021_5_band_7stufige_bewertung__412"}]},{id:2228,name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung",metadata:{is_queryable:!0,legend_name:"eau:struktukartierung_2021_5_band_5-stufige_bewertung",metadata_id:"dedcc2a3-b587-4dfe-a967-5f4bfd8f575a"},dimensions:{},type:"WMS",layers:"eau_Struktukartierung_2021_5_band_5stufige_bewertung",imageType:"image/png",style:"default",childLayers:[{name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung__414"},{name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung__415"},{name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung__416"},{name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung__417"},{name:"eau_Struktukartierung_2021_5_band_5stufige_bewertung__418"}]},{id:2492,name:"eau_new_Querbauwerke_2021",metadata:{geocatalog_open_data_last_update_date:"2024-08-01T01:02:32.8749807",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"66a2f595f96f574ccd9e7e7c",is_queryable:!0,legend_name:"eau:Querbauwerke%202021",metadata_id:"88b06474-f029-4544-a60d-7c46c5f32191"},dimensions:{},type:"WMS",layers:"eau_new_Querbauwerke_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Querbauwerke_2021__422"}]},{id:2493,name:"eau_new_Durchlaesse_Verrohrungen_2021",metadata:{geocatalog_open_data_last_update_date:"2024-07-31T01:02:20.8968264",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"66a2f58e7af13982e1abe7e7",is_queryable:!0,legend_name:"eau:durchlaesseverrohrungen_2021",metadata_id:"6eb34108-4bad-4cb7-881e-7db3174c7531"},dimensions:{},type:"WMS",layers:"eau_new_Durchlaesse_Verrohrungen_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Durchlaesse_Verrohrungen_2021__423"}]},{id:2494,name:"eau_new_Querprofile_2021",metadata:{is_queryable:!0,legend_name:"eau:querprofile_2021",metadata_id:"a40281d4-1ee2-42d0-9378-012f1f415afa"},dimensions:{},type:"WMS",layers:"eau_new_Querprofile_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Querprofile_2021__424"}]},{id:2495,name:"eau_new_Substratkartierung_2021",metadata:{is_queryable:!0,legend_name:"eau:substratkartierung_2021",metadata_id:"c4eb10fd-305d-43f7-ae01-b9caa32ed484"},dimensions:{},type:"WMS",layers:"eau_new_Substratkartierung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Substratkartierung_2021__425"}]}],metadata:{},mixed:!0},{id:2497,name:"eau_new_Massnahmenprogramm_2021",children:[{id:2106,name:"eau_Masssnahmenprogramm_SWW_2021",metadata:{is_queryable:!0,legend_name:"eau:detailliertes_massnahmenprogramm_sww_2021",metadata_id:"10f4a12e-1a67-42d5-b575-8993e2f3aa68"},dimensions:{},type:"WMS",layers:"eau_Masssnahmenprogramm_SWW_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Masssnahmenprogramm_SWW_2021__403"}]},{id:2496,name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021",metadata:{is_queryable:!0,legend_name:"eau:detailliertes_massnahmenprogramm_hy_2021_alle",metadata_id:"4b00cf8c-d4e6-486d-8bda-d385302792f6"},dimensions:{},type:"WMS",layers:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__389"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__390"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__391"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__392"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__393"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__394"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__395"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__396"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__397"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__398"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__399"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__400"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__401"},{name:"eau_new_Detailliertes_Massnahmenprogramm_HY_2021__402"}]},{id:2086,name:"eau_Entwurf_Massnahmenprogramm_HY_2021",children:[{id:2092,name:"eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk_2021",metadata:{is_queryable:!0,legend_name:"eau:wiederherstellung_der_oekologischen_durchgaengigkeit",metadata_id:"c150f6a5-41c7-477a-9d44-c0a26a502d85"},dimensions:{},type:"WMS",layers:"eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk",imageType:"image/png",style:"default",childLayers:[{name:"eau_Weiderherstellung_Durchgaengigkeit_Querbauwerk_2021__389"}]},{id:2093,name:"eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021",metadata:{is_queryable:!0,legend_name:"eau:wiederherstellung_der_oekologischen_durchgaengigkeit_durchlass",metadata_id:"569bf0ea-c428-4171-aba6-8f2ace180a10"},dimensions:{},type:"WMS",layers:"eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Weiderherstellung_Durchgaengigkeit_Verrohrung_2021__390"}]},{id:2094,name:"eau_Strukturelemente_Sohle_2021",metadata:{is_queryable:!0,legend_name:"eau:einbau_von_strukturelementen_in_sohle",metadata_id:"2d233ca6-553e-43bf-ba25-f46b88f63710"},dimensions:{},type:"WMS",layers:"eau_Strukturelemente_Sohle_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Strukturelemente_Sohle_2021__391"}]},{id:2095,name:"eau_Umgestalten_Sohlverbau_2021",metadata:{is_queryable:!0,legend_name:"eau:entfernen_umgestalten_von_sohlverbau",metadata_id:"0d30a3ee-e860-4816-b5c8-9f43e93020e3"},dimensions:{},type:"WMS",layers:"eau_Umgestalten_Sohlverbau_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Umgestalten_Sohlverbau_2021__392"}]},{id:2096,name:"eau_Stroemungslenkern_2021",metadata:{is_queryable:!0,legend_name:"eau:einbau_von_stroemungslenkern_fuer_eigendynamik",metadata_id:"b86c62a9-0ec8-4d35-878f-b275e74ff02e"},dimensions:{},type:"WMS",layers:"eau_Stroemungslenkern_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Stroemungslenkern_2021__393"}]},{id:2097,name:"eau_Umgestalten_Uferverbau_2021",metadata:{is_queryable:!0,legend_name:"eau:entfernen_umgestalten_von_uferverbau",metadata_id:"bec0ccbc-09b5-4351-8b72-f0e458fc7d19"},dimensions:{},type:"WMS",layers:"eau_Umgestalten_Uferverbau_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Umgestalten_Uferverbau_2021__394"}]},{id:2098,name:"eau_naturnah_Gewaesserbett_2021",metadata:{is_queryable:!0,legend_name:"eau:wiederherstellung_von_naturnaher_laufentwicklung_und_gewaesserbett",metadata_id:"3ddf627c-90ae-4b58-a05e-20925493dcf9"},dimensions:{},type:"WMS",layers:"eau_naturnah_Gewaesserbett_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_naturnah_Gewaesserbett_2021__395"}]},{id:2099,name:"eau_Gewaesserrandstreifen_2021",metadata:{is_queryable:!0,legend_name:"eau:anlage_eines_gewaesserrandstreifens",metadata_id:"3bc0e52d-954b-47d3-8905-1ecfe7108ce0"},dimensions:{},type:"WMS",layers:"eau_Gewaesserrandstreifen_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Gewaesserrandstreifen_2021__396"}]},{id:2100,name:"eau_Gewaesserentwicklungskorridor_2021",metadata:{is_queryable:!0,legend_name:"eau:anlage_eines_gewaesser_entwicklungskorridors",metadata_id:"13299bf5-57ca-4538-993e-7c00f6247722"},dimensions:{},type:"WMS",layers:"eau_Gewaesserentwicklungskorridor_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Gewaesserentwicklungskorridor_2021__397"}]},{id:2101,name:"eau_natuerlich_Ueberflutungsraeume_2021",metadata:{is_queryable:!0,legend_name:"eau:sicherung_und_erweiterung_natuerlicher_ueberflutungsraeume_und_augewaesser",metadata_id:"7fb0080e-d178-401d-83de-7595ef1885b5"},dimensions:{},type:"WMS",layers:"eau_natuerlich_Ueberflutungsraeume_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_natuerlich_Ueberflutungsraeume_2021__398"}]},{id:2102,name:"eau_eigendynamische_Entwicklung_2021",metadata:{is_queryable:!0,legend_name:"eau:zulassen_von_eigendynamischer_entwicklung",metadata_id:"d13e22e9-d22a-48a0-838d-3d7c914ccfe3"},dimensions:{},type:"WMS",layers:"eau_eigendynamische_Entwicklung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_eigendynamische_Entwicklung_2021__399"}]},{id:2103,name:"eau_naturnahe_Abflussverhaeltnisse_2021",metadata:{is_queryable:!0,legend_name:"eau:widerherstellung_und_sicherung_naturnaher_abflussverhaeltnisse",metadata_id:"b3f8a9e0-17f7-4b64-a34b-6ee6de972b52"},dimensions:{},type:"WMS",layers:"eau_naturnahe_Abflussverhaeltnisse_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_naturnahe_Abflussverhaeltnisse_2021__400"}]},{id:2104,name:"eau_naturnaher_Wasserhaushalt_2021",metadata:{is_queryable:!0,legend_name:"eau:wiederherstellung_und_sicherung_naturnahem_wasserhaushalt",metadata_id:"91008390-557e-4db3-8d7c-e608a5478edb"},dimensions:{},type:"WMS",layers:"eau_naturnaher_Wasserhaushalt_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_naturnaher_Wasserhaushalt_2021__401"}]},{id:2105,name:"eau_Abflussregulierung_2021",metadata:{is_queryable:!0,legend_name:"eau:abflussregulierung",metadata_id:"393be87d-44ce-42e1-9b81-9585aa2d7678"},dimensions:{},type:"WMS",layers:"eau_Abflussregulierung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_Abflussregulierung_2021__402"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2498,name:"eau_new_Zustand_Wasserkoerper_2021",children:[{id:2501,name:"eau_new_OWK_2021",children:[{id:2516,name:"eau_new_oekologischer_Zustand_2021",metadata:{geocatalog_open_data_last_update_date:"2024-01-12T14:27:52.9819519",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"65a14865ac485d4e6b99f6e8",is_queryable:!0,legend_name:"eau:oekologischer_zustand_2021",metadata_id:"d6e11b40-6e70-4f68-86c2-1c69c1e41c04"},dimensions:{},type:"WMS",layers:"eau_new_oekologischer_Zustand_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_oekologischer_Zustand_2021__428"}]},{id:2517,name:"eau_new_oekologisches_Potenzial_2021",metadata:{geocatalog_open_data_last_update_date:"2024-01-12T14:27:52.9441803",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"65a14865ac485d4e6b99f6e8",is_queryable:!0,legend_name:"eau:oekologisches_potenzial_2021",metadata_id:"ed63b4ab-aee0-4402-8f30-98f2a08b98a4"},dimensions:{},type:"WMS",layers:"eau_new_oekologisches_Potenzial_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_oekologisches_Potenzial_2021__429"}]},{id:2518,name:"eau_new_chemischer_Zustand_2021_2013_39_EU",metadata:{geocatalog_open_data_last_update_date:"2024-01-12T14:27:52.8760847",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"65a14865ac485d4e6b99f6e8",is_queryable:!0,legend_name:"eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2021",metadata_id:"2973678d-b858-4c7b-abfa-b99c206c32be"},dimensions:{},type:"WMS",layers:"eau_new_chemischer_Zustand_2021_2013_39_EU",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_chemischer_Zustand_2021_2013_39_EU__430"}]},{id:2519,name:"eau_new_chemischer_Zustand_ohne_ubiquitaere_stoffe_2021_2013_39_EU",metadata:{geocatalog_open_data_last_update_date:"2024-01-12T14:27:52.4632089",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"65a14865ac485d4e6b99f6e8",is_queryable:!0,legend_name:"eau:chemischer_zustand_ohne_ubiquitaere_stoffe_2021",metadata_id:"e32c56b5-a839-4cd1-a724-85153d87c5d5"},dimensions:{},type:"WMS",layers:"eau_new_chemischer_Zustand_ohne_ubiquitaere_stoffe_2021_2013_39_EU",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_chemischer_Zustand_ohne_ubiquitaere_stoffe_2021_2013_39_EU__431"}]},{id:2499,name:"eau_new_Qualitaetskomponenten_oekologischer_Zustand_2021",children:[{id:2520,name:"eau_new_biologische_QK_Gesamtbewertung_2021",metadata:{is_queryable:!0,legend_name:"eau:biologische_qk_-_gesamtbewertung_2021",metadata_id:"61ac19af-e01b-48e3-8730-d955709d92ce"},dimensions:{},type:"WMS",layers:"eau_new_biologische_QK_Gesamtbewertung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_biologische_QK_Gesamtbewertung_2021__435"}]},{id:2521,name:"eau_new_Phytoplankton_2021",metadata:{is_queryable:!0,legend_name:"eau:phytoplankton_2021",metadata_id:"f1bb6a6e-cc76-420a-8426-cf78bebea0aa"},dimensions:{},type:"WMS",layers:"eau_new_Phytoplankton_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Phytoplankton_2021__436"}]},{id:2522,name:"eau_new_Makrophyten_und_Phytobenthos_2021",metadata:{is_queryable:!0,legend_name:"eau:makrophyten_und_phytobenthos_2021",metadata_id:"53087821-654a-4fad-b891-b6f86f347482"},dimensions:{},type:"WMS",layers:"eau_new_Makrophyten_und_Phytobenthos_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Makrophyten_und_Phytobenthos_2021__437"}]},{id:2536,name:"eau_new_Macrophytes_2021",metadata:{is_queryable:!0,legend_name:"eau:macrophytes_2021",metadata_id:"060dc4f4-8486-4b5a-ae46-2b608bd87386"},dimensions:{},type:"WMS",layers:"eau_new_Macrophytes_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Macrophytes_2021__438"}]},{id:2523,name:"eau_new_Phytobenthos_2021",metadata:{is_queryable:!0,legend_name:"eau:phytobenthos_2021",metadata_id:"83f6b866-467a-4b00-9641-0252426c0808"},dimensions:{},type:"WMS",layers:"eau_new_Phytobenthos_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Phytobenthos_2021__439"}]},{id:2524,name:"eau_new_Makrozoobenthos_2021",metadata:{is_queryable:!0,legend_name:"eau:makrozoobenthos_2021",metadata_id:"d4028c85-831b-4950-905a-6df780d6b57d"},dimensions:{},type:"WMS",layers:"eau_new_Makrozoobenthos_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Makrozoobenthos_2021__440"}]},{id:2525,name:"eau_new_Fische_2021",metadata:{is_queryable:!0,legend_name:"eau:fische_2021",metadata_id:"961e396d-f123-4842-9a58-7968806e084d"},dimensions:{},type:"WMS",layers:"eau_new_Fische_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Fische_2021__441"}]},{id:2526,name:"eau_new_physikalisch_chemische_QK_Gesamtbewertung_2021",metadata:{is_queryable:!0,legend_name:"eau:physikalisch-chemische_qk_-_gesamtbewertung_2021",metadata_id:"a254a96a-8179-4a85-bd3d-c371d84e3884"},dimensions:{},type:"WMS",layers:"eau_new_physikalisch_chemische_QK_Gesamtbewertung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_physikalisch_chemische_QK_Gesamtbewertung_2021__442"}]},{id:2527,name:"eau_new_allg_physikalisch_chemische_Parameter_2021",metadata:{is_queryable:!0,legend_name:"eau:allgemein_physikalisch-chemische_parameter_2021",metadata_id:"405ff58f-aca0-4781-9b28-c3481a7a0b0d"},dimensions:{},type:"WMS",layers:"eau_new_allg_physikalisch_chemische_Parameter_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_allg_physikalisch_chemische_Parameter_2021__443"}]},{id:2528,name:"eau_new_Flussgebietsspezifische_Schadstoffe_2021",metadata:{is_queryable:!0,legend_name:"eau:flussgebietsspezifische_schadstoffe_2021",metadata_id:"f321c03f-196d-4d12-992a-f6914088fd11"},dimensions:{},type:"WMS",layers:"eau_new_Flussgebietsspezifische_Schadstoffe_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Flussgebietsspezifische_Schadstoffe_2021__457"}]},{id:2529,name:"eau_new_Hydromorphologische_QK_Gesamtbewertung_2021",metadata:{is_queryable:!0,legend_name:"eau:hydromorphologische_qk_-_gesamtbewertung_2021",metadata_id:"673ef74f-1257-4de4-9c63-be9a82e7fbf7"},dimensions:{},type:"WMS",layers:"eau_new_Hydromorphologische_QK_Gesamtbewertung_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Hydromorphologische_QK_Gesamtbewertung_2021__458"}]},{id:2530,name:"eau_new_Morphologie_2021",metadata:{is_queryable:!0,legend_name:"eau:morphologie_2021",metadata_id:"877aecd9-f5b3-4266-a520-e8cfd9d861c9"},dimensions:{},type:"WMS",layers:"eau_new_Morphologie_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Morphologie_2021__459"}]},{id:2531,name:"eau_new_Durchgaengigkeit_2021",metadata:{is_queryable:!0,legend_name:"eau:durchgaengigkeit_2021",metadata_id:"afa4a183-b069-4b65-9d9e-ca692f91f140"},dimensions:{},type:"WMS",layers:"eau_new_Durchgaengigkeit_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Durchgaengigkeit_2021__460"}]},{id:2532,name:"eau_new_Wasserhaushalt_2021",metadata:{is_queryable:!0,legend_name:"eau:wasserhaushalt_2021",metadata_id:"299eb814-3703-4119-b8d3-e9581c234c3b"},dimensions:{},type:"WMS",layers:"eau_new_Wasserhaushalt_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Wasserhaushalt_2021__461"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2500,name:"eau_new_GWK_2021",children:[{id:2533,name:"eau_new_Zustand_der_GWK_2021",metadata:{is_queryable:!0,legend_name:"eau:zustand_der_gwk_2021",metadata_id:"ef79616f-fd66-45dd-a73a-e5677948dd56"},dimensions:{},type:"WMS",layers:"eau_new_Zustand_der_GWK_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Zustand_der_GWK_2021__463"}]},{id:2534,name:"eau_new_quantitativer_Zustand_der_GWK_2021",metadata:{is_queryable:!0,legend_name:"eau:quantitativer_zustand_der_gwk_2021",metadata_id:"5b9fbb7b-26b1-4b74-a709-80df547a755d"},dimensions:{},type:"WMS",layers:"eau_new_quantitativer_Zustand_der_GWK_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_quantitativer_Zustand_der_GWK_2021__464"}]},{id:2535,name:"eau_new_chemischer_Zustand_der_GWK_2021",metadata:{is_queryable:!0,legend_name:"eau:chemischer_zustand_der_gwk_2021",metadata_id:"efa9de18-5db0-498f-aebb-fd659f689da7"},dimensions:{},type:"WMS",layers:"eau_new_chemischer_Zustand_der_GWK_2021",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_chemischer_Zustand_der_GWK_2021__465"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:482,name:"eau_new_Nitratrichtlinie",children:[{id:589,name:"eau_new_Messstationen_Oberflaechengewaesser_-_Nitratrichtlinie",metadata:{is_queryable:!0,legend_name:"eau:messstationen_oberflaechengewaesser_-_nitratrichtlinie",max_dpi:128,metadata_id:"e3d8df5f-eb08-4e11-831f-ae2a90294ccf"},dimensions:{},type:"WMS",layers:"eau_new_Messstationen_Oberflaechengewaesser_-_Nitratrichtlinie",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Messstationen_Oberflaechengewaesser_-_Nitratrichtlinie__192"}]},{id:582,name:"eau_new_Messstationen_Grundwasser_-_Nitratrichtlinie",metadata:{is_queryable:!0,legend_name:"eau:messstationen_grundwasser_-_nitratrichtlinie",max_dpi:128,metadata_id:"e15fcc8c-217c-4577-b5a0-e62f08e480c1"},dimensions:{},type:"WMS",layers:"eau_new_Messstationen_Grundwasser_-_Nitratrichtlinie",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Messstationen_Grundwasser_-_Nitratrichtlinie__193"}]}],metadata:{},mixed:!0},{id:478,name:"eau_new_Plan_im_Fall_einer_Trockenheit",children:[{id:797,name:"eau_new_trockenheit_gelb",metadata:{is_queryable:!0,legend_name:"eau:vorbeugungsphase_phase_gelb",metadata_id:"2ec1e46e-2411-4828-b702-cc3f41b3ad04"},dimensions:{},type:"WMS",layers:"eau_new_trockenheit_gelb",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_trockenheit_gelb__348"}]},{id:617,name:"eau_new_Trinkwasserknappheit_(Zustand_orange)",metadata:{is_queryable:!0,legend_name:"eau:trinkwasserknappheit_zustand_orange",max_dpi:128,metadata_id:"c5a93247-af34-494d-bce2-9bc112fa50d8"},dimensions:{},type:"WMS",layers:"eau_new_Trinkwasserknappheit_(Zustand_orange)",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Trinkwasserknappheit_(Zustand_orange)__195"}]},{id:481,name:"eau_new_Erhoehte_Trinkwasserknappheit_(Zustand_rot)",metadata:{is_queryable:!0,legend_name:"eau:erhoehte_trinkwasserknappheit_zustand_rot",max_dpi:128,metadata_id:"620eea7b-266a-4ba5-9646-8006ff5915d4"},dimensions:{},type:"WMS",layers:"eau_new_Erhoehte_Trinkwasserknappheit_(Zustand_rot)",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Erhoehte_Trinkwasserknappheit_(Zustand_rot)__196"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{bg_layer:"pixelmaps-gray",css:"eau.css",display_in_switcher:!0,link_title:"Administration de la gestion d'eau",page_title:"eau.geoportail.lu",print_img:"bandeauEau.png",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["1000","1500","2500","5000","10000","15000","20000","25000","50000","80000","100000","125000","200000","250000","400000"],print_short_txt_de:"eau.geoportal.lu",print_short_txt_en:"eau.geoportal.lu",print_short_txt_fr:"eau.geoportail.lu",print_short_txt_lu:"eau.geoportal.lu"}},{id:130,name:"pag",icon:"pag",children:[{id:706,name:"basisden_pag",children:[{id:309,name:"administrative_einheiten",children:[{id:269,name:"communes_labels",metadata:{is_queryable:!0,metadata_id:"17c7d883-ff7f-4b48-a894-46bea40d2e49"},dimensions:{},type:"WMS",layers:"communes_labels",imageType:"image/png",style:"default",childLayers:[{name:"communes_labels__COMMUNES_LABELS"}]},{id:302,name:"communes",metadata:{is_queryable:!0,linked_layers:["269"],metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2049"},dimensions:{},type:"WMS",layers:"communes",imageType:"image/png",style:"default",childLayers:[{name:"communes__COMMUNES"}]},{id:346,name:"cantons_labels",metadata:{is_queryable:!0,metadata_id:"3af20a80-be4a-4819-a42b-18e49af799aa"},dimensions:{},type:"WMS",layers:"cantons_labels",imageType:"image/png",style:"default",childLayers:[{name:"cantons_labels__CANTONS_LABELS"}]},{id:329,name:"cantons",metadata:{is_queryable:!0,metadata_id:"e8a034e8-f986-4745-a848-b7ef30ce2740"},dimensions:{},type:"WMS",layers:"CANTONS",imageType:"image/png",style:"default",childLayers:[{name:"cantons__CANTONS"}]},{id:268,name:"districts_labels",metadata:{is_queryable:!0,metadata_id:"c42842e2-834a-427a-99f6-eb8cb79d1db4"},dimensions:{},type:"WMS",layers:"districts_labels",imageType:"image/png",style:"default",childLayers:[{name:"districts_labels__DISTRICTS_LABELS"}]},{id:354,name:"districts",metadata:{is_queryable:!0,metadata_id:"b9edd03f-3aef-4fd6-a3d9-db076b1cf237"},dimensions:{},type:"WMS",layers:"districts",imageType:"image/png",style:"default",childLayers:[{name:"districts__DISTRICTS"}]},{id:349,name:"country",metadata:{is_queryable:!0,metadata_id:"4c9b3c0b-85d4-447d-a68c-7416869f8d9b"},dimensions:{},type:"WMS",layers:"country",imageType:"image/png",style:"default",childLayers:[{name:"country__PAYS"}]},{id:732,name:"limadmin_judiciaire",metadata:{metadata_id:"235c0ac9-5bf6-45b6-9ceb-8680a07944ec"},dimensions:{},type:"WMS",layers:"limadmin_judiciaire",imageType:"image/png",style:"default",childLayers:[{name:"limadmin_judiciaire__ARRONDISSEMENTS JUDICIAIRES"}]},{id:733,name:"limadmin_legislatif",metadata:{metadata_id:"627b78d9-ae18-4be2-9a69-02aa6d4e38bb"},dimensions:{},type:"WMS",layers:"limadmin_legislatif",imageType:"image/png",style:"default",childLayers:[{name:"limadmin_legislatif__CIRCONSCRIPTIONS LEGISLATIVES"}]},{id:744,name:"tour_ort",metadata:{is_queryable:!0,metadata_id:"44dbfde5-664e-4e45-8802-3d60b52eb9cb",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_ort",imageType:"image/png",style:"default",childLayers:[{name:"tour_ort__3"}]},{id:746,name:"tour_leader",metadata:{is_queryable:!0,metadata_id:"a48aec89-7341-459e-a7d3-0e572982b255",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_leader",imageType:"image/png",style:"default",childLayers:[{name:"tour_leader__0"}]},{id:747,name:"tour_parcsnaturels",metadata:{is_queryable:!0,legend_name:"parcnaturel",metadata_id:"f519c4e7-4459-49b5-b8c1-569328252d44",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_parcnaturels",imageType:"image/png",style:"default",childLayers:[{name:"tour_parcsnaturels__4"}]},{id:2213,name:"at_unesco_minett",metadata:{is_queryable:!0,legend_name:"at:unesco_minett",metadata_id:"815fc4a3-95ef-47b6-a9ff-fa7e88654639"},dimensions:{},type:"WMS",layers:"at_unesco_minett",imageType:"image/png",style:"default",childLayers:[{name:"at_unesco_minett__0"}]},{id:678,name:"anf_stations_biologiques",metadata:{is_queryable:!0,metadata_id:"05e497fc-625d-4701-90af-dbe8813201ab"},dimensions:{},type:"WMS",layers:"anf_stations_biologiques",imageType:"image/png",style:"default",childLayers:[{name:"anf_stations_biologiques__STATIONS_BIOLOGIQUES"}]},{id:1364,name:"act_frontieres_isodistances",metadata:{metadata_id:"09318d11-a908-4dea-a8f9-0558d20b980f",start_opacity:.5},dimensions:{},type:"WMS",layers:"act_frontieres_isodistances",imageType:"image/png",style:"default",childLayers:[{name:"act_frontieres_isodistances__1"},{name:"act_frontieres_isodistances__0"}]}],metadata:{},mixed:!0},{id:165,name:"adressen",children:[{id:152,name:"addresses",metadata:{is_queryable:!0,metadata_id:"28b310e4-b9e1-467c-a28d-fce2e9a96548"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"addresses",imageType:"image/png"}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:694,name:"pag_group",children:[{id:698,name:"pag_pag",metadata:{is_queryable:!0,legend_name:"pag",linked_layers:["697","696","1366","709","710"],max_dpi:128,metadata_id:"12c67295-d150-430f-aa28-fa004ecba3c7",start_opacity:.7},dimensions:{},type:"WMS",layers:"pag_pag",imageType:"image/png",style:"default",childLayers:[{name:"pag_pag__28"},{name:"pag_pag__27"},{name:"pag_pag__26"},{name:"pag_pag__25"},{name:"pag_pag__24"},{name:"pag_pag__23"},{name:"pag_pag__22"},{name:"pag_pag__21"},{name:"pag_pag__20"},{name:"pag_pag__19"},{name:"pag_pag__18"},{name:"pag_pag__17"},{name:"pag_pag__16"},{name:"pag_pag__15"},{name:"pag_pag__14"},{name:"pag_pag__13"},{name:"pag_pag__12"},{name:"pag_pag__11"},{name:"pag_pag__9"},{name:"pag_pag__8"},{name:"pag_pag__7"},{name:"pag_pag__6"},{name:"pag_pag__202"},{name:"pag_pag__5"},{name:"pag_pag__200"}]},{id:696,name:"pag_pap_approuves",metadata:{is_queryable:!1,max_dpi:128,metadata_id:"7fd67f56-d2f6-4697-9d3b-5d9a6be770c9",start_opacity:1},dimensions:{},type:"WMS",layers:"pag_pap_approuves",imageType:"image/png",style:"default",childLayers:[{name:"pag_pap_approuves__2"}]},{id:1366,name:"pag_infos_supp",metadata:{metadata_id:"5ab48871-aa35-4b74-ada2-3033c6666748"},dimensions:{},type:"WMS",layers:"pag_infos_supp",imageType:"image/png",style:"default",childLayers:[{name:"pag_infos_supp__103"},{name:"pag_infos_supp__102"},{name:"pag_infos_supp__101"}]},{id:697,name:"pag_pcn",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"672e2e56-b888-45bb-b665-1b8132a0e147",start_opacity:1},dimensions:{},type:"WMS",layers:"pag_pcn",imageType:"image/png",style:"default",childLayers:[{name:"pag_pcn__pag_fonds"}]}],metadata:{},mixed:!0},{id:695,name:"pag_addtional_layers",children:[{id:716,name:"pag_at",children:[{id:710,name:"pag_pos",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"a5f51e0e-c737-44e6-b0e0-7a0016d87707",start_opacity:1},dimensions:{},type:"WMS",layers:"pag_pos",imageType:"image/png",style:"default",childLayers:[{name:"pag_pos__0"}]}],metadata:{},mixed:!0},{id:717,name:"pag_env",children:[{id:533,name:"natura2000_oiseaux",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"},dimensions:{},type:"WMS",layers:"natura2000_oiseaux",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_oiseaux__0"}]},{id:540,name:"natura2000_habitats",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"a38326c1-3d68-43da-9883-a80763ee06e9"},dimensions:{},type:"WMS",layers:"natura2000_habitats",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_habitats__1"}]},{id:804,name:"anf_zpin_declarees",metadata:{is_queryable:!0,legend_name:"anf:zpin_declarees",metadata_id:"9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"},dimensions:{},type:"WMS",layers:"anf_zpin_declarees",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_declarees__ZPIN_DECLAREES"}]},{id:366,name:"emwelt_biotop_kadaster",children:[{id:1367,name:"anf_biotopes_points",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_points",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_points__BIOTOPES_MO_EL_PONCTUELS_GEOPORTN"}]},{id:1368,name:"anf_biotopes_vergers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_vergers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_vergers__BIOTOPES_MO_VERGERS_GEOPORTN"}]},{id:1369,name:"anf_biotopes_surfaces",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_surfaces",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_surfaces__BIOTOPES_MO_SURFACES_GEOPORTN"}]},{id:1370,name:"anf_biotopes_tampons",metadata:{is_queryable:!0,legend_name:"env:btk_b",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_tampons",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_tampons__BIOTOPES_MO_ZONES_TAMPONS"}]},{id:2472,name:"anf_biotopes_forestiers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"18698bbe-4d55-42b8-baca-62cab9705b5f"},dimensions:{},type:"WMS",layers:"anf_biotopes_forestiers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_forestiers__BIOTOPES_MILIEU_FERME_GEOPORTN"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:720,name:"pag_eau",children:[{id:573,name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",metadata:{geocatalog_open_data_last_update_date:"2024-10-09T01:03:43.6506495",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e7451111e9b72855243a1",is_queryable:!0,legend_name:"eau:zps_durch_grosshrzgl._verordnung_festgelegt",max_dpi:128,metadata_id:"d70f99e0-6032-4a4b-b516-5dfdfce33b26"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__132"}]},{id:664,name:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",metadata:{geocatalog_open_data_last_update_date:"2024-10-04T01:04:09.8847458",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e745b111e9b729d2f54dd",is_queryable:!0,legend_name:"eau:zps_laufende_oeffentliche_verfahrungsweise",max_dpi:128,metadata_id:"87beb1ac-7496-48f6-b5a9-8666e3897523"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise__131"}]},{id:490,name:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",metadata:{geocatalog_open_data_last_update_date:"2024-06-01T01:05:08.8469357",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ece272cc765e1a24228122",is_queryable:!0,legend_name:"eau:sanitaere_schutzzonen_stausee",max_dpi:128,metadata_id:"e34de488-68ea-48a8-9e92-f67bb209508e"},dimensions:{},type:"WMS",layers:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer__133"}]}],metadata:{},mixed:!0},{id:718,name:"pag_hum",children:[{id:232,name:"env_bruit_axes_routiers",children:[{id:2764,name:"aev_bruit_roads_2021_Lden",metadata:{is_queryable:!0,legend_name:"aev:routes_2021_lden",metadata_id:"5504291e-3457-416d-84a3-438a83ae029d",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"aev_bruit_roads_2021_Lden",imageType:"image/png"},{id:2763,name:"aev_bruit_roads_2021_Lngt",metadata:{is_queryable:!0,legend_name:"aev:routes_2021_lngt",metadata_id:"43e0ddd5-7575-4ce7-b558-2114196bd6fe",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"aev_bruit_roads_2021_Lngt",imageType:"image/png"},{id:1497,name:"env_bruit2016_axes_routiers_lden",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"cf1a21cc-8208-420e-bd7e-091d755b6ace",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_routiers_lden",imageType:"image/png"},{id:1500,name:"env_bruit2016_axes_routiers_lngt",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"83ae2d3b-f0d9-4584-8c48-f6722bd4f517",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_routiers_lngt",imageType:"image/png"},{id:1504,name:"env_bruit_axes_routiers_hotspots_2016",metadata:{is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"c5a6e3c5-6bef-4ff9-ac3e-aa494a34e602"},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_hotspots_2016",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_hotspots_2016__3"},{name:"env_bruit_axes_routiers_hotspots_2016__13"}]},{id:1505,name:"env_bruit_axes_routiers_agglomeration_2016",metadata:{is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"a6c63355-6e42-4795-9d72-8744b907b151"},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_agglomeration_2016",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_agglomeration_2016__6"},{name:"env_bruit_axes_routiers_agglomeration_2016__13"}]},{id:326,name:"env_bruit_axes_routiers_lden",metadata:{exclusion:"[333,332]",is_queryable:!0,legend_name:"env:bruit_lden",max_dpi:128,metadata_id:"3e3aa044-89e0-4676-9404-744f64dd7ba0",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_routiers_lden",imageType:"image/png"},{id:255,name:"env_bruit_axes_routiers_lngt",metadata:{exclusion:"[333,332]",is_queryable:!0,legend_name:"env:bruit_lngt",max_dpi:128,metadata_id:"5e4f2607-b114-4884-8e48-8e1faa997eb4",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_routiers_lngt",imageType:"image/png"},{id:1475,name:"env_bruit_axes_routiers_hotspots",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"ff6b3d63-871c-4e88-8fc0-0f276abe259a"},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_hotspots",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_hotspots__10"},{name:"env_bruit_axes_routiers_hotspots__13"}]},{id:1485,name:"env_bruit_axes_routiers_agglomeration",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"f1dd0dd5-4dd5-4d88-b556-af39a20ab137",start_opacity:.7},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_agglomeration",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_agglomeration__12"},{name:"env_bruit_axes_routiers_agglomeration__13"}]}],metadata:{},mixed:!0},{id:183,name:"env_bruit_axes_ferroviaires",children:[{id:2761,name:"aev_bruit_railways_2021_Lden",metadata:{is_queryable:!0,metadata_id:"e48e5b8f-9388-47ae-b12f-575ed7416ce1",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_railways_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_railways_2021_Lden__46"}]},{id:2762,name:"aev_bruit_railways_2021_Lngt",metadata:{is_queryable:!0,metadata_id:"c2106415-df81-4208-9714-7dad0479ab71",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_railways_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_railways_2021_Lngt__47"}]},{id:1498,name:"env_bruit2016_axes_ferroviaires_lden",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"7975b71b-2fd4-45e6-8c0a-306671d665c6",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_ferroviaires_lden",imageType:"image/png"},{id:1502,name:"env_bruit2016_axes_ferroviaires_lngt",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"170143ce-53ef-4b2b-997c-a2ccb1b84477",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_ferroviaires_lngt",imageType:"image/png"},{id:1503,name:"env_bruit_axes_ferroviaires_hotspots_2016",metadata:{is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"29ef44c6-f357-4d21-829c-f2fdd5fe1149"},dimensions:{},type:"WMS",layers:"env_bruit_axes_ferroviaires_hotspots_2016",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_ferroviaires_hotspots_2016__1"},{name:"env_bruit_axes_ferroviaires_hotspots_2016__13"}]},{id:310,name:"env_bruit_axes_ferroviaires_lden",metadata:{exclusion:"[334,332]",is_queryable:!0,legend_name:"env:bruit_lden",max_dpi:128,metadata_id:"32b40d1c-111e-4eed-91c7-61d61ef27b8d",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_ferroviaires_lden",imageType:"image/png"},{id:259,name:"env_bruit_axes_ferroviaires_lngt",metadata:{exclusion:"[334,332]",is_queryable:!0,legend_name:"env:bruit_lngt",max_dpi:128,metadata_id:"2d7e26ad-e448-45a2-9045-3dfb3e3ec15b",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_ferroviaires_lngt",imageType:"image/png"},{id:1476,name:"env_bruit_axes_ferroviaires_hotspots",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"d3b30653-d0bf-4924-96b2-251e9f61c979"},dimensions:{},type:"WMS",layers:"env_bruit_axes_ferroviaires_hotspots",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_ferroviaires_hotspots__8"},{name:"env_bruit_axes_ferroviaires_hotspots__13"}]}],metadata:{},mixed:!0},{id:190,name:"env_bruit_air",children:[{id:2667,name:"aev_bruit_aeroport_2021_Lden",metadata:{is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"4ceeb788-86c8-420d-a161-43607ed4e89a",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_aeroport_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_aeroport_2021_Lden__40"}]},{id:2668,name:"aev_bruit_aeroport_2021_Lngt",metadata:{is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"71277cc9-4b62-4199-8a2e-71ca4a863519",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_aeroport_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_aeroport_2021_Lngt__41"}]},{id:1501,name:"env_bruit2016_axes_aeroport_lden",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"26e208ff-39a3-4cf6-92db-4c6707fe972a",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_aeroport_lden",imageType:"image/png"},{id:1499,name:"env_bruit2016_axes_aeroport_lngt",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"2aa6f79d-74cc-4f22-bedd-748f8e8e30b9",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_aeroport_lngt",imageType:"image/png"},{id:157,name:"env_bruit_air_lden",metadata:{exclusion:"[335,332]",legend_name:"env:bruit_lden",max_dpi:128,metadata_id:"0f4dcfc5-e947-4e5c-9460-702b8e1a572f",start_opacity:.7},dimensions:{},type:"WMS",layers:"env_bruit_air_lden",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_air_lden__70"}]},{id:327,name:"env_bruit_air_lngt",metadata:{exclusion:"[335,332]",legend_name:"env:bruit_lngt",max_dpi:128,metadata_id:"6b031060-1f82-467d-af86-afe02a3f04fa",start_opacity:.7},dimensions:{},type:"WMS",layers:"env_bruit_air_lngt",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_air_lngt__72"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:719,name:"pag_sites_et_monuments",children:[{id:709,name:"pag_ssmn",metadata:{is_queryable:!1,max_dpi:128,metadata_id:"ab8bba00-fe68-4e1f-8fad-9dbd2f8c7809",start_opacity:1},dimensions:{},type:"WMS",layers:"pag_ssmn",imageType:"image/png",style:"default",childLayers:[{name:"pag_ssmn__2"},{name:"pag_ssmn__1"},{name:"pag_ssmn__0"}]}],metadata:{},mixed:!0},{id:196,name:"verkehrsnetze",children:[{id:181,name:"roads",metadata:{legend_name:"road_network:show",linked_layers:["351"],metadata_id:"12627f90-f0f8-41b3-a56a-2e11a232ba59"},dimensions:{},type:"WMS",layers:"roads",imageType:"image/png",style:"default",childLayers:[{name:"roads__ROADS_NOLABELS"}]},{id:351,name:"roads_labels",metadata:{metadata_id:"5d606cae-cbc6-44c3-a465-edb981e44a39"},dimensions:{},type:"WMS",layers:"roads_labels",imageType:"image/png",style:"default",childLayers:[{name:"roads_labels__ROADS_LABELS"}]},{id:2401,name:"act_ponts",metadata:{is_queryable:!0,metadata_id:"2b7d36db-987f-49b4-96d7-60e934ddf926"},dimensions:{},type:"WMS",layers:"act_ponts",imageType:"image/png",childLayers:[{name:"act_ponts__0"},{name:"act_ponts__1"},{name:"act_ponts__2"}]},{id:147,name:"arrets_bus",metadata:{is_queryable:!0,legend_name:"mobiliteit:arrets_de_bus",linked_layers:["813"],metadata_id:"7318c6e8-bb63-40e0-9e40-46ae7b0dc266"},dimensions:{},type:"WMS",layers:"arrets_bus",imageType:"image/png",style:"default",childLayers:[{name:"arrets_bus__0"},{name:"arrets_bus__1"}]},{id:813,name:"cdt_lignes_all",metadata:{is_queryable:!0,metadata_id:"bbe0523f-374d-4c94-a27d-7ce81d8bae3b"},dimensions:{},type:"WMS",layers:"cdt_lignes_all",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_all__lignes_de_bus_detaillees"},{name:"cdt_lignes_all__lignes_de_bus_detaillees_mymaps"}]},{id:812,name:"cdt_lignes_bus_par_operateur",children:[{id:814,name:"cdt_lignes_avl",metadata:{is_queryable:!0,metadata_id:"1e6f614b-e347-4115-82d7-74a72f51389f"},dimensions:{},type:"WMS",layers:"cdt_lignes_avl",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_avl__category"}]},{id:815,name:"cdt_lignes_rgtr",metadata:{is_queryable:!0,metadata_id:"eae3ed54-d2ae-45ae-a62c-0dec4d44acdf"},dimensions:{},type:"WMS",layers:"cdt_lignes_rgtr",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_rgtr__category"}]},{id:816,name:"cdt_lignes_tice",metadata:{is_queryable:!0,metadata_id:"a3cb973c-12b0-4e41-bfc0-b2fb67637513"},dimensions:{},type:"WMS",layers:"cdt_lignes_tice",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_tice__category"}]},{id:817,name:"cdt_lignes_cfl",metadata:{is_queryable:!0,metadata_id:"84ebdfbc-ba25-464c-af86-e74e588978ef"},dimensions:{},type:"WMS",layers:"cdt_lignes_cfl",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_cfl__category"}]},{id:1374,name:"cdt_lignes_tram",metadata:{is_queryable:!0,metadata_id:"0f46c673-d4b4-4c25-8d9a-fca41035f587"},dimensions:{},type:"WMS",layers:"cdt_lignes_tram",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_tram__category"}]}],metadata:{},mixed:!0},{id:1381,name:"chargy",metadata:{is_queryable:!0,legend_name:"chargy",metadata_id:"801d732a-c285-4fcd-a043-c5220d6d7eef"},dimensions:{},type:"WMS",layers:"chargy",imageType:"image/png",style:"default",childLayers:[{name:"chargy__chargy"}]},{id:2707,name:"mmtp_electromobilite_AC",metadata:{is_queryable:!0,metadata_id:"08885ef4-d534-47d4-8b93-2883c71a8452"},dimensions:{},type:"WMS",layers:"mmtp_electromobilite_AC",imageType:"image/png",style:"default",childLayers:[{name:"mmtp_electromobilite_AC__0"}]},{id:2708,name:"mmtp_electromobilite_DC",metadata:{is_queryable:!0,metadata_id:"624d34e4-1192-40bb-871a-e6c8720d766b"},dimensions:{},type:"WMS",layers:"mmtp_electromobilite_DC",imageType:"image/png",style:"default",childLayers:[{name:"mmtp_electromobilite_DC__2"}]},{id:423,name:"mobiliteit_cfl",metadata:{is_queryable:!0,legend_name:"mobiliteit:cfl",max_dpi:128,metadata_id:"0b3c42a2-275e-4519-b228-f407d46b8350"},dimensions:{},type:"WMS",layers:"mobiliteit_cfl",imageType:"image/png",style:"default",childLayers:[{name:"mobiliteit_cfl__1"}]},{id:377,name:"mobiliteit_pr",metadata:{is_queryable:!0,legend_name:"mobiliteit:pr",max_dpi:128,metadata_id:"9e0c97ae-aff9-41fc-9489-bbf97999163d"},dimensions:{},type:"WMS",layers:"mobiliteit_pr",imageType:"image/png",style:"default",childLayers:[{name:"mobiliteit_pr__0"}]},{id:808,name:"velo_by_pch",metadata:{is_queryable:!0,legend_name:"tour_velo_national",linked_layers:["1713","1714"],metadata_id:"387f6949-0fc4-43a5-b0e6-4e09bdf65225"},dimensions:{},type:"WMS",layers:"velo_by_pch",imageType:"image/png",style:"default",childLayers:[{name:"velo_by_pch__4"},{name:"velo_by_pch__5"}]},{id:512,name:"tour_pistes_velo_mymaps2",metadata:{is_queryable:!0,legend_name:"tour_velo_national",metadata_id:"e9fea021-2aab-4f58-a777-8c7536898d9b"},dimensions:{},type:"WMS",layers:"tour_pistes_velo_mymaps2",imageType:"image/png",style:"default",childLayers:[{name:"tour_pistes_velo_mymaps2__category"}]},{id:352,name:"cfl_hecto",metadata:{is_queryable:!0,metadata_id:"938f9e8e-071c-4e6b-940f-64b2a60eca74"},dimensions:{},type:"WMS",layers:"cfl_hecto",imageType:"image/png",style:"default",childLayers:[{name:"cfl_hecto__points_hecto"}]},{id:685,name:"cita_chantiers_actuel",metadata:{is_queryable:!0,metadata_id:"9c823038-5965-47cc-8dad-21496e57e3f2",start_opacity:1},dimensions:{},type:"WMS",layers:"cita_chantiers_actuel",imageType:"image/png",style:"default",childLayers:[{name:"cita_chantiers_actuel__CHANTIERS_ACTUEL"}]},{id:686,name:"cita_chantiers_futur",metadata:{is_queryable:!0,metadata_id:"063cb796-640f-4ab0-8430-955983a00e3b",start_opacity:1},dimensions:{},type:"WMS",layers:"cita_chantiers_futur",imageType:"image/png",style:"default",childLayers:[{name:"cita_chantiers_futur__CHANTIERS_FUTUR"}]},{id:1713,name:"chantiers_actuels_pc",metadata:{is_queryable:!0,metadata_id:"7d59f3a6-e8d8-464b-bbf9-73c6ca358a51",start_opacity:1},dimensions:{},type:"WMS",layers:"chantiers_actuels_pc",imageType:"image/png",style:"default",childLayers:[{name:"chantiers_actuels_pc__CHANTIERS_ACTUEL_PC"}]},{id:1714,name:"chantiers_futurs_pc",metadata:{is_queryable:!0,metadata_id:"f6b9df36-5e62-46d1-ae91-c7c58c7e2e45",start_opacity:1},dimensions:{},type:"WMS",layers:"chantiers_futurs_pc",imageType:"image/png",style:"default",childLayers:[{name:"chantiers_futurs_pc__CHANTIERS_FUTUR_PC"}]},{id:713,name:"pch_radars",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"385180ba-a9bc-49d4-8858-ba5f19942a66",start_opacity:1},dimensions:{},type:"WMS",layers:"pch_radars",imageType:"image/png",style:"default",childLayers:[{name:"pch_radars__1"},{name:"pch_radars__2"}]},{id:2729,name:"pch_points_repere",metadata:{geocatalog_open_data_last_update_date:"2024-07-26T08:50:03.7336833",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_uuid:"66a3633bcf73e6f52fd83901",is_queryable:!0,metadata_id:"1dbe9ca0-638e-4034-94ef-c8a12fdaa57a"},dimensions:{},type:"WMS",layers:"pch_points_repere",imageType:"image/png",style:"default",childLayers:[{name:"pch_points_repere__6"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],functionalities:{},metadata:{bg_layer:"pixelmaps-gray",bg_opacity:.01,css:"pag.css",display_in_switcher:!0,page_title:"pag.geoportail.lu",print_img:"PAG.png",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["2500","5000","10000","15000","20000","25000","50000","100000","200000","250000","400000"],print_short_txt_de:"pag.geoportal.lu",print_short_txt_en:"pag.geoportal.lu",print_short_txt_fr:"pag.geoportail.lu",print_short_txt_lu:"pag.geoportal.lu",show_in_mobile:!1,start_layers:["pag_pag","pag_pcn","pag_pap_approuves","pag_ssmn","pag_pos"]}},{id:126,name:"agriculture",icon:"agriculture",children:[{id:307,name:"asta",children:[{id:1637,name:"asta_flik_parcels",metadata:{is_queryable:!0,metadata_id:"f511a4ee-928a-4900-ac05-52aa0ce03bba"},dimensions:{},type:"WMS",layers:"asta_flik_parcels",imageType:"image/png",style:"default",childLayers:[{name:"asta_flik_parcels__3"}]},{id:1511,name:"asta_prairies_permanentes",metadata:{is_queryable:!0,metadata_id:"f6f493c2-f57b-419d-8953-ab8018576ac7"},dimensions:{},type:"WMS",layers:"asta_prairies_permanentes",imageType:"image/png",style:"default",childLayers:[{name:"asta_prairies_permanentes__0"}]},{id:740,name:"asta_herbages_sensibles",metadata:{metadata_id:"e5d2717e-4541-43f1-b586-1b18cdf11827"},dimensions:{},type:"WMS",layers:"asta_herbages_sensibles",imageType:"image/png",style:"default",childLayers:[{name:"asta_herbages_sensibles__gruenland"}]}],metadata:{},mixed:!0},{id:340,name:"asta_zones_prot",children:[{id:540,name:"natura2000_habitats",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"a38326c1-3d68-43da-9883-a80763ee06e9"},dimensions:{},type:"WMS",layers:"natura2000_habitats",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_habitats__1"}]},{id:533,name:"natura2000_oiseaux",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"},dimensions:{},type:"WMS",layers:"natura2000_oiseaux",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_oiseaux__0"}]},{id:805,name:"anf_zpin_a_declarer",metadata:{is_queryable:!0,legend_name:"anf:zpin_a_declarer",metadata_id:"db53336b-1a33-4b1a-94a8-42a29b55ce45"},dimensions:{},type:"WMS",layers:"anf_zpin_a_declarer",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_a_declarer__ZPIN_A_DECLARER"}]},{id:804,name:"anf_zpin_declarees",metadata:{is_queryable:!0,legend_name:"anf:zpin_declarees",metadata_id:"9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"},dimensions:{},type:"WMS",layers:"anf_zpin_declarees",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_declarees__ZPIN_DECLAREES"}]},{id:806,name:"anf_zpin_en_procedure",metadata:{is_queryable:!0,legend_name:"anf:zpin_en_procedure_reglementaire",metadata_id:"74499cf0-ab69-48bd-a357-8c151dd3d5c9"},dimensions:{},type:"WMS",layers:"anf_zpin_en_procedure",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"}]},{id:214,name:"eau_new_Provisorische_ZPS",metadata:{geocatalog_open_data_last_update_date:"2024-10-03T01:04:17.082383",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"57ece254111e9b03b03833c4",is_queryable:!0,legend_name:"eau:provisorische_zps",max_dpi:128,metadata_id:"ddc51f25-2fb7-4d14-866a-a08f8af8ef03"},dimensions:{},type:"WMS",layers:"eau_new_Provisorische_ZPS",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Provisorische_ZPS__130"}]},{id:664,name:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",metadata:{geocatalog_open_data_last_update_date:"2024-10-04T01:04:09.8847458",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e745b111e9b729d2f54dd",is_queryable:!0,legend_name:"eau:zps_laufende_oeffentliche_verfahrungsweise",max_dpi:128,metadata_id:"87beb1ac-7496-48f6-b5a9-8666e3897523"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise__131"}]},{id:1464,name:"eau_prgd_zones_protection_lac",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.5407176",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"5b571c9546f3b55625dc355c",is_queryable:!0,legend_name:"eau:prgd_stausee",metadata_id:"eab29425-71cc-4610-b48e-8d848d0a8431"},dimensions:{},type:"WMS",layers:"eau_prgd_zones_protection_lac",imageType:"image/png",style:"default",childLayers:[{name:"eau_prgd_zones_protection_lac__349"}]},{id:573,name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",metadata:{geocatalog_open_data_last_update_date:"2024-10-09T01:03:43.6506495",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e7451111e9b72855243a1",is_queryable:!0,legend_name:"eau:zps_durch_grosshrzgl._verordnung_festgelegt",max_dpi:128,metadata_id:"d70f99e0-6032-4a4b-b516-5dfdfce33b26"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__132"}]},{id:490,name:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",metadata:{geocatalog_open_data_last_update_date:"2024-06-01T01:05:08.8469357",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ece272cc765e1a24228122",is_queryable:!0,legend_name:"eau:sanitaere_schutzzonen_stausee",max_dpi:128,metadata_id:"e34de488-68ea-48a8-9e92-f67bb209508e"},dimensions:{},type:"WMS",layers:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer__133"}]},{id:559,name:"eau_new_Zones_interdiction_utilisation_metazachlore",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:11.3349336",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"591d66aecc765e79df289232",is_queryable:!1,legend_name:"eau_new:metazachlore",max_dpi:128,metadata_id:"803e93f8-588f-4697-8d76-972be1ad3531",start_opacity:.7},dimensions:{},type:"WMS",layers:"eau_new_Zones_interdiction_utilisation_metazachlore",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Zones_interdiction_utilisation_metazachlore__304"}]},{id:1481,name:"asta_projet_rgd",children:[{id:1484,name:"eau_asta_prgd_zones_protection_lac",metadata:{is_queryable:!0,legend_name:"eau:prgd_stausee",metadata_id:"eab29425-71cc-4610-b48e-8d848d0a8431"},dimensions:{},type:"WMS",layers:"eau_asta_prgd_zones_protection_lac",imageType:"image/png",style:"default",childLayers:[{name:"eau_asta_prgd_zones_protection_lac__349"}]},{id:1482,name:"asta_contrainte_stockage_engrais",metadata:{legend_name:"asta:stockage_engrais",metadata_id:"e94ac1bb-890b-412e-97e9-f71dbef88ab7"},dimensions:{},type:"WMS",layers:"asta_contrainte_stockage_engrais",imageType:"image/png",style:"default",childLayers:[{name:"asta_contrainte_stockage_engrais__1"}]},{id:1483,name:"asta_contrainte_utilisation_engrais",metadata:{legend_name:"asta:utilisation_engrais",metadata_id:"47f9de64-9636-4ce6-bf73-cb85cdd7b8d9"},dimensions:{},type:"WMS",layers:"asta_contrainte_utilisation_engrais",imageType:"image/png",style:"default",childLayers:[{name:"asta_contrainte_utilisation_engrais__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:321,name:"pedologie",children:[{id:272,name:"pedologie_100k",metadata:{legend_name:"pedologie",metadata_id:"2d712a34-ce79-426d-a57b-b7cadf97b80f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"pedologie_100k",imageType:"image/png"},{id:702,name:"asta_pedologie_new",metadata:{legend_name:"pedologie_new",max_dpi:128,metadata_id:"37686d89-0173-4040-88c7-be84a3648d01"},dimensions:{},type:"WMS",layers:"asta_pedologie_new",imageType:"image/png",style:"default",childLayers:[{name:"asta_pedologie_new__9"},{name:"asta_pedologie_new__10"},{name:"asta_pedologie_new__11"},{name:"asta_pedologie_new__12"},{name:"asta_pedologie_new__13"},{name:"asta_pedologie_new__14"},{name:"asta_pedologie_new__15"}]},{id:704,name:"asta_pedologie_humus",metadata:{legend_name:"asta_corg",max_dpi:128,metadata_id:"a1b0807c-9bff-4f6a-a5e7-130316742f56"},dimensions:{},type:"WMS",layers:"asta_pedologie_humus",imageType:"image/png",style:"default",childLayers:[{name:"asta_pedologie_humus__0"}]},{id:703,name:"asta_pedologie_ph",metadata:{legend_name:"asta_ph",max_dpi:128,metadata_id:"628ee73f-4c37-4689-bc4c-1fd9f6bd2663"},dimensions:{},type:"WMS",layers:"asta_pedologie_ph",imageType:"image/png",style:"default",childLayers:[{name:"asta_pedologie_ph__0"}]},{id:2408,name:"asta_erosion_group",children:[{id:2760,name:"asta_rigoles_erosion_enquete",metadata:{is_queryable:!0,metadata_id:"00c1398d-604f-4e1b-9abd-af05261d80ba"},dimensions:{},type:"WMS",layers:"asta_rigoles_erosion_enquete",imageType:"image/png",childLayers:[{name:"asta_rigoles_erosion_enquete__2"}]},{id:2407,name:"asta_erosion_2023",metadata:{is_queryable:!0,metadata_id:"427aff9b-b988-455c-8cd9-1c029cfd6b6e",start_opacity:.25},dimensions:{},type:"WMS",layers:"asta_erosion_2023",imageType:"image/png",childLayers:[{name:"asta_erosion_2023__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:204,name:"asta_meteo_group",children:[{id:283,name:"asta_meteo",metadata:{is_queryable:!0,metadata_id:"23e4b02d-a93d-47a4-8597-060319ae2af5"},dimensions:{},type:"WMS",layers:"asta_meteo",imageType:"image/png",style:"default",childLayers:[{name:"asta_meteo__meteo"}]}],metadata:{},mixed:!0},{id:309,name:"administrative_einheiten",children:[{id:269,name:"communes_labels",metadata:{is_queryable:!0,metadata_id:"17c7d883-ff7f-4b48-a894-46bea40d2e49"},dimensions:{},type:"WMS",layers:"communes_labels",imageType:"image/png",style:"default",childLayers:[{name:"communes_labels__COMMUNES_LABELS"}]},{id:302,name:"communes",metadata:{is_queryable:!0,linked_layers:["269"],metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2049"},dimensions:{},type:"WMS",layers:"communes",imageType:"image/png",style:"default",childLayers:[{name:"communes__COMMUNES"}]},{id:346,name:"cantons_labels",metadata:{is_queryable:!0,metadata_id:"3af20a80-be4a-4819-a42b-18e49af799aa"},dimensions:{},type:"WMS",layers:"cantons_labels",imageType:"image/png",style:"default",childLayers:[{name:"cantons_labels__CANTONS_LABELS"}]},{id:329,name:"cantons",metadata:{is_queryable:!0,metadata_id:"e8a034e8-f986-4745-a848-b7ef30ce2740"},dimensions:{},type:"WMS",layers:"CANTONS",imageType:"image/png",style:"default",childLayers:[{name:"cantons__CANTONS"}]},{id:268,name:"districts_labels",metadata:{is_queryable:!0,metadata_id:"c42842e2-834a-427a-99f6-eb8cb79d1db4"},dimensions:{},type:"WMS",layers:"districts_labels",imageType:"image/png",style:"default",childLayers:[{name:"districts_labels__DISTRICTS_LABELS"}]},{id:354,name:"districts",metadata:{is_queryable:!0,metadata_id:"b9edd03f-3aef-4fd6-a3d9-db076b1cf237"},dimensions:{},type:"WMS",layers:"districts",imageType:"image/png",style:"default",childLayers:[{name:"districts__DISTRICTS"}]},{id:349,name:"country",metadata:{is_queryable:!0,metadata_id:"4c9b3c0b-85d4-447d-a68c-7416869f8d9b"},dimensions:{},type:"WMS",layers:"country",imageType:"image/png",style:"default",childLayers:[{name:"country__PAYS"}]},{id:732,name:"limadmin_judiciaire",metadata:{metadata_id:"235c0ac9-5bf6-45b6-9ceb-8680a07944ec"},dimensions:{},type:"WMS",layers:"limadmin_judiciaire",imageType:"image/png",style:"default",childLayers:[{name:"limadmin_judiciaire__ARRONDISSEMENTS JUDICIAIRES"}]},{id:733,name:"limadmin_legislatif",metadata:{metadata_id:"627b78d9-ae18-4be2-9a69-02aa6d4e38bb"},dimensions:{},type:"WMS",layers:"limadmin_legislatif",imageType:"image/png",style:"default",childLayers:[{name:"limadmin_legislatif__CIRCONSCRIPTIONS LEGISLATIVES"}]},{id:744,name:"tour_ort",metadata:{is_queryable:!0,metadata_id:"44dbfde5-664e-4e45-8802-3d60b52eb9cb",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_ort",imageType:"image/png",style:"default",childLayers:[{name:"tour_ort__3"}]},{id:746,name:"tour_leader",metadata:{is_queryable:!0,metadata_id:"a48aec89-7341-459e-a7d3-0e572982b255",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_leader",imageType:"image/png",style:"default",childLayers:[{name:"tour_leader__0"}]},{id:747,name:"tour_parcsnaturels",metadata:{is_queryable:!0,legend_name:"parcnaturel",metadata_id:"f519c4e7-4459-49b5-b8c1-569328252d44",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_parcnaturels",imageType:"image/png",style:"default",childLayers:[{name:"tour_parcsnaturels__4"}]},{id:2213,name:"at_unesco_minett",metadata:{is_queryable:!0,legend_name:"at:unesco_minett",metadata_id:"815fc4a3-95ef-47b6-a9ff-fa7e88654639"},dimensions:{},type:"WMS",layers:"at_unesco_minett",imageType:"image/png",style:"default",childLayers:[{name:"at_unesco_minett__0"}]},{id:678,name:"anf_stations_biologiques",metadata:{is_queryable:!0,metadata_id:"05e497fc-625d-4701-90af-dbe8813201ab"},dimensions:{},type:"WMS",layers:"anf_stations_biologiques",imageType:"image/png",style:"default",childLayers:[{name:"anf_stations_biologiques__STATIONS_BIOLOGIQUES"}]},{id:1364,name:"act_frontieres_isodistances",metadata:{metadata_id:"09318d11-a908-4dea-a8f9-0558d20b980f",start_opacity:.5},dimensions:{},type:"WMS",layers:"act_frontieres_isodistances",imageType:"image/png",style:"default",childLayers:[{name:"act_frontieres_isodistances__1"},{name:"act_frontieres_isodistances__0"}]}],metadata:{},mixed:!0},{id:366,name:"emwelt_biotop_kadaster",children:[{id:1367,name:"anf_biotopes_points",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_points",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_points__BIOTOPES_MO_EL_PONCTUELS_GEOPORTN"}]},{id:1368,name:"anf_biotopes_vergers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_vergers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_vergers__BIOTOPES_MO_VERGERS_GEOPORTN"}]},{id:1369,name:"anf_biotopes_surfaces",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_surfaces",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_surfaces__BIOTOPES_MO_SURFACES_GEOPORTN"}]},{id:1370,name:"anf_biotopes_tampons",metadata:{is_queryable:!0,legend_name:"env:btk_b",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_tampons",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_tampons__BIOTOPES_MO_ZONES_TAMPONS"}]},{id:2472,name:"anf_biotopes_forestiers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"18698bbe-4d55-42b8-baca-62cab9705b5f"},dimensions:{},type:"WMS",layers:"anf_biotopes_forestiers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_forestiers__BIOTOPES_MILIEU_FERME_GEOPORTN"}]}],metadata:{},mixed:!0},{id:509,name:"asta_esp_group",children:[{id:139,name:"asta_esp_esp",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"16f911c8-1008-4f86-b8c1-75584010f79b",start_opacity:.75},dimensions:{},type:"WMS",layers:"asta_esp_esp",imageType:"image/png",style:"default",childLayers:[{name:"asta_esp_esp__0"},{name:"asta_esp_esp__1"}]},{id:138,name:"asta_esp_lisiere",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"e3dd4b8c-760b-44b3-887a-08c6be34c72d",start_opacity:.5},dimensions:{},type:"WMS",layers:"asta_esp_lisiere",imageType:"image/png",style:"default",childLayers:[{name:"asta_esp_lisiere__2"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{bg_layer:"streets",bg_opacity:.01,css:"agriculture.css",display_in_switcher:!0,link_title:"Administration des services techniques de l'agriculture",page_title:"agriculture.geoportail.lu",print_img:"bandeau_asta.png",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["1000","1500","2500","5000","10000","15000","20000","25000","50000","80000","100000","125000","200000","250000","400000"],print_short_txt_de:"agriculture.geoportal.lu",print_short_txt_en:"agriculture.geoportal.lu",print_short_txt_fr:"agriculture.geoportail.lu",print_short_txt_lu:"agriculture.geoportal.lu",start_layers:["asta_flik_parcels_2016"]}},{id:132,name:"lenoz",icon:"lenoz",children:[{id:429,name:"group_lenoz",children:[{id:494,name:"lenoz_lmg",metadata:{is_queryable:!0,metadata_id:"22d587f3-2b7d-4ebc-8564-7816cd3f2f13"},dimensions:{},type:"WMS",layers:"494",imageType:"image/png",style:"default",childLayers:[{name:"lenoz_lmg__POI"}]},{id:496,name:"lenoz_creches",metadata:{is_queryable:!0,metadata_id:"b355d9f7-174c-4349-b1c6-0e4d6f091ab3"},dimensions:{},type:"WMS",layers:"496",imageType:"image/png",style:"default",childLayers:[{name:"lenoz_creches__POI"}]},{id:495,name:"lenoz_ecoles",metadata:{is_queryable:!0,metadata_id:"f528b8f4-e84f-4e0c-9cf3-0b46c272f85d"},dimensions:{},type:"WMS",layers:"495",imageType:"image/png",style:"default",childLayers:[{name:"lenoz_ecoles__POI"}]},{id:511,name:"lenoz_Post",metadata:{is_queryable:!0,metadata_id:"efa463e0-9d5d-4120-9430-e1dd816c0ad2"},dimensions:{},type:"WMS",layers:"511",imageType:"image/png",style:"default",childLayers:[{name:"lenoz_Post__POI"}]},{id:516,name:"lenoz_Banken",metadata:{is_queryable:!0,metadata_id:"ccb93f63-b711-4113-9ffb-5ad40016ed05"},dimensions:{},type:"WMS",layers:"516",imageType:"image/png",style:"default",childLayers:[{name:"lenoz_Banken__POI"}]},{id:504,name:"lenoz_Ärzte",metadata:{is_queryable:!0,metadata_id:"7f97be71-db0c-4b2c-8b17-f5913d9b70aa"},dimensions:{},type:"WMS",layers:"504",imageType:"image/png",style:"default",childLayers:[{name:"lenoz_Ärzte__POI"}]},{id:519,name:"lenoz_Restaurants",metadata:{is_queryable:!0,metadata_id:"5fffa197-d8ba-43a2-9e6b-d4f593cb2f41"},dimensions:{},type:"WMS",layers:"519",imageType:"image/png",style:"default",childLayers:[{name:"lenoz_Restaurants__POI"}]},{id:505,name:"lenoz_Lycees",metadata:{is_queryable:!0,metadata_id:"35ffa708-81e1-48b8-814e-3a81647f108d"},dimensions:{},type:"WMS",layers:"505",imageType:"image/png",style:"default",childLayers:[{name:"lenoz_Lycees__POI"}]},{id:506,name:"lenoz_Tankstelle",metadata:{is_queryable:!0,metadata_id:"7301092d-ff3c-48a5-b3b7-d6a35ccab45f"},dimensions:{},type:"WMS",layers:"506",imageType:"image/png",style:"default",childLayers:[{name:"lenoz_Tankstelle__POI"}]},{id:147,name:"arrets_bus",metadata:{is_queryable:!0,legend_name:"mobiliteit:arrets_de_bus",linked_layers:["813"],metadata_id:"7318c6e8-bb63-40e0-9e40-46ae7b0dc266"},dimensions:{},type:"WMS",layers:"arrets_bus",imageType:"image/png",style:"default",childLayers:[{name:"arrets_bus__0"},{name:"arrets_bus__1"}]},{id:423,name:"mobiliteit_cfl",metadata:{is_queryable:!0,legend_name:"mobiliteit:cfl",max_dpi:128,metadata_id:"0b3c42a2-275e-4519-b228-f407d46b8350"},dimensions:{},type:"WMS",layers:"mobiliteit_cfl",imageType:"image/png",style:"default",childLayers:[{name:"mobiliteit_cfl__1"}]},{id:808,name:"velo_by_pch",metadata:{is_queryable:!0,legend_name:"tour_velo_national",linked_layers:["1713","1714"],metadata_id:"387f6949-0fc4-43a5-b0e6-4e09bdf65225"},dimensions:{},type:"WMS",layers:"velo_by_pch",imageType:"image/png",style:"default",childLayers:[{name:"velo_by_pch__4"},{name:"velo_by_pch__5"}]}],metadata:{},mixed:!0},{id:486,name:"eau_new_Hochwasserrisikomanagement-Richtlinie [HWRM-RL]",children:[{id:1696,name:"eau_new_Risikogewaesser_2019_group",children:[{id:1703,name:"eau_Risikogewaesser_2019",metadata:{is_queryable:!0,legend_name:"eau:risikogewaesser_2019",metadata_id:"762cd956-9733-4855-afa7-38768a38e8a1"},dimensions:{},type:"WMS",layers:"eau_Risikogewaesser_2019",imageType:"image/png",style:"default",childLayers:[{name:"eau_Risikogewaesser_2019__16"}]}],metadata:{},mixed:!0},{id:2114,name:"eau_Hochwassergefahrenkarten_2021",children:[{id:2117,name:"eau_Hochwassergefahrenkarten_HQ10_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"153130ef-8255-4bce-bca0-d2359d277995"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ10_2021",imageType:"image/png"},{id:2118,name:"eau_Hochwassergefahrenkarten_HQ100_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cdb4137d-822f-4888-8a51-4596480970fe"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ100_2021",imageType:"image/png"},{id:2119,name:"eau_Hochwassergefahrenkarten_HQext_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cd0f52f7-7226-4748-95e0-b77025284423"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0},{id:2115,name:"eau_Hochwasserrisikokarten_2021",children:[{id:2120,name:"eau_Hochwasserrisikokarten_HQ10_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"4a428832-16cf-4861-a1da-78a1f0a8c194"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ10_2021",imageType:"image/png"},{id:2121,name:"eau_Hochwasserrisikokarten_HQ100_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"ccb959ef-0ad6-47ec-ade9-45021912353f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ100_2021",imageType:"image/png"},{id:2122,name:"eau_Hochwasserrisikokarten_HQext_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"f803b49a-336a-4bb7-acd9-5cbf508a731f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0},{id:1711,name:"eau_atlas_crues_subites",children:[{id:2045,name:"age_dangers_fortes",metadata:{legend_name:"age_dangers_fortes",metadata_id:"55dbe91c-f1e5-4c56-b0b9-4590988e23e5"},dimensions:{},type:"WMS",layers:"age_dangers_fortes",imageType:"image/png",style:"default",childLayers:[{name:"age_dangers_fortes__0"},{name:"age_dangers_fortes__1"}]},{id:2046,name:"age_risques_fortes",metadata:{legend_name:"age_risques_fortes",metadata_id:"f1d9b1cd-ad78-44df-89ac-ad591138243f"},dimensions:{},type:"WMS",layers:"age_risques_fortes",imageType:"image/png",style:"default",childLayers:[{name:"age_risques_fortes__1"},{name:"age_risques_fortes__2"},{name:"age_risques_fortes__3"},{name:"age_risques_fortes__4"},{name:"age_risques_fortes__5"}]}],metadata:{},mixed:!0},{id:461,name:"eau_new_Historische_Ueberschwemmungsgebiete",children:[{id:637,name:"eau_new_UESG_1983_-_Mosel",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.2797021",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde16111e9b03b03833be",is_queryable:!0,legend_name:"eau:uesg_1983_-_mosel",max_dpi:128,metadata_id:"e6896207-c0f9-417e-9661-119128628e8e"},dimensions:{},type:"WMS",layers:"eau_new_UESG_1983_-_Mosel",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_1983_-_Mosel__122"}]},{id:641,name:"eau_new_UESG_1993_(ausser_Mosel)",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:25.7826569",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde1e111e9b03b03833bf",is_queryable:!0,legend_name:"eau:uesg_1993_ausser_mosel",max_dpi:128,metadata_id:"78c692f3-ad20-467b-b03a-0d020a821647"},dimensions:{},type:"WMS",layers:"eau_new_UESG_1993_(ausser_Mosel)",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_1993_(ausser_Mosel)__123"}]},{id:642,name:"eau_new_UESG_Alzette_1995",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.5894792",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde26111e9b03b03833c0",is_queryable:!0,legend_name:"eau:uesg_alzette_1995",max_dpi:128,metadata_id:"aaf81780-df85-4580-a890-fded8ae03db7"},dimensions:{},type:"WMS",layers:"eau_new_UESG_Alzette_1995",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_Alzette_1995__124"}]},{id:633,name:"eau_new_UESG_Sauer_1995",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.4493603",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde30111e9b03b222c3b5",is_queryable:!0,legend_name:"eau:uesg_sauer_1995",max_dpi:128,metadata_id:"f01f7be2-0423-4571-8fff-57dd617ae632"},dimensions:{},type:"WMS",layers:"eau_new_UESG_Sauer_1995",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_Sauer_1995__125"}]},{id:2116,name:"eau_Hochwasserkarten_2021",children:[{id:2114,name:"eau_Hochwassergefahrenkarten_2021",children:[{id:2117,name:"eau_Hochwassergefahrenkarten_HQ10_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"153130ef-8255-4bce-bca0-d2359d277995"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ10_2021",imageType:"image/png"},{id:2118,name:"eau_Hochwassergefahrenkarten_HQ100_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cdb4137d-822f-4888-8a51-4596480970fe"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ100_2021",imageType:"image/png"},{id:2119,name:"eau_Hochwassergefahrenkarten_HQext_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cd0f52f7-7226-4748-95e0-b77025284423"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0},{id:2115,name:"eau_Hochwasserrisikokarten_2021",children:[{id:2120,name:"eau_Hochwasserrisikokarten_HQ10_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"4a428832-16cf-4861-a1da-78a1f0a8c194"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ10_2021",imageType:"image/png"},{id:2121,name:"eau_Hochwasserrisikokarten_HQ100_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"ccb959ef-0ad6-47ec-ade9-45021912353f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQ100_2021",imageType:"image/png"},{id:2122,name:"eau_Hochwasserrisikokarten_HQext_2021",metadata:{legend_name:"eau:risque_inondations_2019",metadata_id:"f803b49a-336a-4bb7-acd9-5cbf508a731f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwasserrisikokarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:463,name:"eau_new_Zusaetzliche_Informationen",children:[{id:756,name:"eau_new_Hochwasser Brennpunkte",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.8729061",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"5fd1cadde9996e5faf62ea6f",is_queryable:!0,legend_name:"eau:hochwasser_brennpunkte",metadata_id:"b2bfd06d-5f05-4abf-8f41-103d40a380e7"},dimensions:{},type:"WMS",layers:"eau_new_Hochwasser Brennpunkte",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Hochwasser Brennpunkte__309"}]},{id:758,name:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:03:13.4638796",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"66e4e0d15a1785364d6db3fb",is_queryable:!0,legend_name:"eau:massnahmens_des_hochwasserrisikomanagementplans",metadata_id:"4326fea6-7ec4-4bb9-861f-4476b0d4ceac"},dimensions:{},type:"WMS",layers:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans__314"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:166,name:"env_bruit",children:[{id:2123,name:"env_bruit_modelisation",children:[{id:232,name:"env_bruit_axes_routiers",children:[{id:2764,name:"aev_bruit_roads_2021_Lden",metadata:{is_queryable:!0,legend_name:"aev:routes_2021_lden",metadata_id:"5504291e-3457-416d-84a3-438a83ae029d",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"aev_bruit_roads_2021_Lden",imageType:"image/png"},{id:2763,name:"aev_bruit_roads_2021_Lngt",metadata:{is_queryable:!0,legend_name:"aev:routes_2021_lngt",metadata_id:"43e0ddd5-7575-4ce7-b558-2114196bd6fe",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"aev_bruit_roads_2021_Lngt",imageType:"image/png"},{id:1497,name:"env_bruit2016_axes_routiers_lden",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"cf1a21cc-8208-420e-bd7e-091d755b6ace",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_routiers_lden",imageType:"image/png"},{id:1500,name:"env_bruit2016_axes_routiers_lngt",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"83ae2d3b-f0d9-4584-8c48-f6722bd4f517",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_routiers_lngt",imageType:"image/png"},{id:1504,name:"env_bruit_axes_routiers_hotspots_2016",metadata:{is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"c5a6e3c5-6bef-4ff9-ac3e-aa494a34e602"},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_hotspots_2016",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_hotspots_2016__3"},{name:"env_bruit_axes_routiers_hotspots_2016__13"}]},{id:1505,name:"env_bruit_axes_routiers_agglomeration_2016",metadata:{is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"a6c63355-6e42-4795-9d72-8744b907b151"},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_agglomeration_2016",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_agglomeration_2016__6"},{name:"env_bruit_axes_routiers_agglomeration_2016__13"}]},{id:326,name:"env_bruit_axes_routiers_lden",metadata:{exclusion:"[333,332]",is_queryable:!0,legend_name:"env:bruit_lden",max_dpi:128,metadata_id:"3e3aa044-89e0-4676-9404-744f64dd7ba0",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_routiers_lden",imageType:"image/png"},{id:255,name:"env_bruit_axes_routiers_lngt",metadata:{exclusion:"[333,332]",is_queryable:!0,legend_name:"env:bruit_lngt",max_dpi:128,metadata_id:"5e4f2607-b114-4884-8e48-8e1faa997eb4",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_routiers_lngt",imageType:"image/png"},{id:1475,name:"env_bruit_axes_routiers_hotspots",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"ff6b3d63-871c-4e88-8fc0-0f276abe259a"},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_hotspots",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_hotspots__10"},{name:"env_bruit_axes_routiers_hotspots__13"}]},{id:1485,name:"env_bruit_axes_routiers_agglomeration",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"f1dd0dd5-4dd5-4d88-b556-af39a20ab137",start_opacity:.7},dimensions:{},type:"WMS",layers:"env_bruit_axes_routiers_agglomeration",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_routiers_agglomeration__12"},{name:"env_bruit_axes_routiers_agglomeration__13"}]}],metadata:{},mixed:!0},{id:183,name:"env_bruit_axes_ferroviaires",children:[{id:2761,name:"aev_bruit_railways_2021_Lden",metadata:{is_queryable:!0,metadata_id:"e48e5b8f-9388-47ae-b12f-575ed7416ce1",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_railways_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_railways_2021_Lden__46"}]},{id:2762,name:"aev_bruit_railways_2021_Lngt",metadata:{is_queryable:!0,metadata_id:"c2106415-df81-4208-9714-7dad0479ab71",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_railways_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_railways_2021_Lngt__47"}]},{id:1498,name:"env_bruit2016_axes_ferroviaires_lden",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"7975b71b-2fd4-45e6-8c0a-306671d665c6",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_ferroviaires_lden",imageType:"image/png"},{id:1502,name:"env_bruit2016_axes_ferroviaires_lngt",metadata:{exclusion:"[336,332]",is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"170143ce-53ef-4b2b-997c-a2ccb1b84477",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_ferroviaires_lngt",imageType:"image/png"},{id:1503,name:"env_bruit_axes_ferroviaires_hotspots_2016",metadata:{is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"29ef44c6-f357-4d21-829c-f2fdd5fe1149"},dimensions:{},type:"WMS",layers:"env_bruit_axes_ferroviaires_hotspots_2016",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_ferroviaires_hotspots_2016__1"},{name:"env_bruit_axes_ferroviaires_hotspots_2016__13"}]},{id:310,name:"env_bruit_axes_ferroviaires_lden",metadata:{exclusion:"[334,332]",is_queryable:!0,legend_name:"env:bruit_lden",max_dpi:128,metadata_id:"32b40d1c-111e-4eed-91c7-61d61ef27b8d",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_ferroviaires_lden",imageType:"image/png"},{id:259,name:"env_bruit_axes_ferroviaires_lngt",metadata:{exclusion:"[334,332]",is_queryable:!0,legend_name:"env:bruit_lngt",max_dpi:128,metadata_id:"2d7e26ad-e448-45a2-9045-3dfb3e3ec15b",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit_axes_ferroviaires_lngt",imageType:"image/png"},{id:1476,name:"env_bruit_axes_ferroviaires_hotspots",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"aev:noise_hotspots",metadata_id:"d3b30653-d0bf-4924-96b2-251e9f61c979"},dimensions:{},type:"WMS",layers:"env_bruit_axes_ferroviaires_hotspots",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_axes_ferroviaires_hotspots__8"},{name:"env_bruit_axes_ferroviaires_hotspots__13"}]}],metadata:{},mixed:!0},{id:190,name:"env_bruit_air",children:[{id:2667,name:"aev_bruit_aeroport_2021_Lden",metadata:{is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"4ceeb788-86c8-420d-a161-43607ed4e89a",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_aeroport_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_aeroport_2021_Lden__40"}]},{id:2668,name:"aev_bruit_aeroport_2021_Lngt",metadata:{is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"71277cc9-4b62-4199-8a2e-71ca4a863519",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_aeroport_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_aeroport_2021_Lngt__41"}]},{id:1501,name:"env_bruit2016_axes_aeroport_lden",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"env:bruit_lden",metadata_id:"26e208ff-39a3-4cf6-92db-4c6707fe972a",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_aeroport_lden",imageType:"image/png"},{id:1499,name:"env_bruit2016_axes_aeroport_lngt",metadata:{exclusion:"[332,336]",is_queryable:!0,legend_name:"env:bruit_lngt",metadata_id:"2aa6f79d-74cc-4f22-bedd-748f8e8e30b9",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"env_bruit2016_axes_aeroport_lngt",imageType:"image/png"},{id:157,name:"env_bruit_air_lden",metadata:{exclusion:"[335,332]",legend_name:"env:bruit_lden",max_dpi:128,metadata_id:"0f4dcfc5-e947-4e5c-9460-702b8e1a572f",start_opacity:.7},dimensions:{},type:"WMS",layers:"env_bruit_air_lden",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_air_lden__70"}]},{id:327,name:"env_bruit_air_lngt",metadata:{exclusion:"[335,332]",legend_name:"env:bruit_lngt",max_dpi:128,metadata_id:"6b031060-1f82-467d-af86-afe02a3f04fa",start_opacity:.7},dimensions:{},type:"WMS",layers:"env_bruit_air_lngt",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_air_lngt__72"}]}],metadata:{},mixed:!0},{id:2771,name:"env_bruit_agglo",children:[{id:2769,name:"aev_bruit_agglo_industry_2021_Lden",metadata:{is_queryable:!0,metadata_id:"4faed79e-f82c-4758-b4bf-df654951b27f",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_industry_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_industry_2021_Lden__37"}]},{id:2770,name:"aev_bruit_agglo_industry_2021_Lngt",metadata:{is_queryable:!0,metadata_id:"e1e006c9-c637-4e2a-840f-3b7e8a04ce1e",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_industry_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_industry_2021_Lngt__38"}]},{id:2768,name:"aev_bruit_agglo_roads_2021_Lden",metadata:{is_queryable:!0,metadata_id:"0015e212-a7e5-42f6-ba94-3fdb5014513c",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_roads_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_roads_2021_Lden__35"}]},{id:2767,name:"aev_bruit_agglo_roads_2021_Lngt",metadata:{is_queryable:!0,metadata_id:"9718d119-a073-4406-8bf1-d4b409ed6a68",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_roads_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_roads_2021_Lngt__36"}]},{id:2765,name:"aev_bruit_agglo_tram_2021_Lden",metadata:{is_queryable:!0,metadata_id:"47bbe08f-dbb4-4a4f-bbf7-8c6084e6da45",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_tram_2021_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_tram_2021_Lden__33"}]},{id:2766,name:"aev_bruit_agglo_tram_2021_Lngt",metadata:{is_queryable:!0,metadata_id:"e11fbfdf-29c4-4845-ad12-e2fc2ef5f530",start_opacity:.7},dimensions:{},type:"WMS",layers:"aev_bruit_agglo_tram_2021_Lngt",imageType:"image/png",style:"default",childLayers:[{name:"aev_bruit_agglo_tram_2021_Lngt__34"}]}],metadata:{},mixed:!0},{id:2124,name:"env_bruit_multiexposition",children:[{id:2125,name:"aev_multiexposition_Lden",metadata:{is_queryable:!0,metadata_id:"37c1c1a2-1926-4c92-8c2a-b9ce0ac6cfef"},dimensions:{},type:"WMS",layers:"aev_multiexposition_Lden",imageType:"image/png",style:"default",childLayers:[{name:"aev_multiexposition_Lden__1"}]},{id:2126,name:"aev_multiexposition_Lnight",metadata:{is_queryable:!0,metadata_id:"a536e129-3c0f-4a6c-a767-0519eec880c1"},dimensions:{},type:"WMS",layers:"aev_multiexposition_Lnight",imageType:"image/png",style:"default",childLayers:[{name:"aev_multiexposition_Lnight__2"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1641,name:"aev_campagne_mesure_bruit",children:[{id:2618,name:"aev_bruit_campagne_2023",children:[{id:2726,name:"aev_campagne_bruit_aeroportuaire_2023",metadata:{is_queryable:!0,metadata_id:"3c6a1f70-51ab-4c8b-9a09-c163bafd23ff"},dimensions:{},type:"WMS",layers:"aev_campagne_bruit_aeroportuaire_2023",imageType:"image/png",style:"default",childLayers:[{name:"aev_campagne_bruit_aeroportuaire_2023__109"}]}],metadata:{},mixed:!0},{id:2475,name:"env_bruit_campagne_2022",children:[{id:2619,name:"aev_campagne_bruit_routier_2023",metadata:{is_queryable:!0,metadata_id:"e242b817-86a7-4f70-bc41-8e90d264fd19"},dimensions:{},type:"WMS",layers:"aev_campagne_bruit_routier_2023",imageType:"image/png",style:"default",childLayers:[{name:"aev_campagne_bruit_routier_2023__97"}]},{id:2620,name:"aev_campagne_bruit_ferroviaire_2023",metadata:{is_queryable:!0,metadata_id:"c3c06743-6876-4f55-802d-4599000c1681"},dimensions:{},type:"WMS",layers:"aev_campagne_bruit_ferroviaire_2023",imageType:"image/png",style:"default",childLayers:[{name:"aev_campagne_bruit_ferroviaire_2023__94"}]}],metadata:{},mixed:!0},{id:1916,name:"aev_silent_cities_2020",children:[{id:1917,name:"aev_silent_cities_2020_phase1",metadata:{is_queryable:!0,legend_name:"aev:silent_cities",metadata_id:"58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"},dimensions:{},type:"WMS",layers:"aev_silent_cities_2020_phase1",imageType:"image/png",childLayers:[{name:"aev_silent_cities_2020_phase1__7"}]},{id:1918,name:"aev_silent_cities_2020_phase2",metadata:{is_queryable:!0,legend_name:"aev:silent_cities",metadata_id:"58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"},dimensions:{},type:"WMS",layers:"aev_silent_cities_2020_phase2",imageType:"image/png",childLayers:[{name:"aev_silent_cities_2020_phase2__8"}]},{id:1919,name:"aev_silent_cities_2020_phase3",metadata:{is_queryable:!0,legend_name:"aev:silent_cities",metadata_id:"58cd0d5a-e69a-4381-8d1c-7cdfd7d98272"},dimensions:{},type:"WMS",layers:"aev_silent_cities_2020_phase3",imageType:"image/png",childLayers:[{name:"aev_silent_cities_2020_phase3__9"}]}],metadata:{},mixed:!0},{id:1921,name:"env_bruit_routes_hotspots_2019_group",children:[{id:1642,name:"env_bruit_routes_hotspots_2019",metadata:{is_queryable:!0,legend_name:"aev:hotspots_rail",metadata_id:"f898e289-c5dd-432b-b3e6-de4c3681b77a"},dimensions:{},type:"WMS",layers:"env_bruit_routes_hotspots_2019",imageType:"image/png",style:"default",childLayers:[{name:"env_bruit_routes_hotspots_2019__4"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],functionalities:{},metadata:{bg_layer:"webbasemap",css:"lenoz.css",display_in_switcher:!0,fake_scales:["3000","6000","15000","30000","60000","150000","300000","450000","700000","1500000"],page_title:"lenoz.geoportail.lu",print_img:"bandeaulenoz.png",print_long_txt_de:"Luxemburgische Nachhaltigkeitszertifierung",print_long_txt_en:"Luxembourgish durability certification",print_long_txt_fr:"Certification en durabilité luxembourgeoise",print_long_txt_lu:"Lëtzebuergesch Nohaltëgkeetszertifizéirung",print_scales:["10000"],print_short_txt_de:"lenoz.geoportail.lu",print_short_txt_en:"lenoz.geoportail.lu",print_short_txt_fr:"lenoz.geoportail.lu",print_short_txt_lu:"lenoz.geoportail.lu",resolutions:["500.0","250.0","150.0","100.0","50.0","20.0","10.0","5.0","2.0","1.0"],start_layers:["poi_ecoles"]}},{id:124,name:"preizerdaul",icon:"preizerdaul",children:[{id:287,name:"group_ac_preizerdaul_pag",children:[{id:331,name:"ac_preizerdaul_pag",metadata:{is_queryable:!0,legend_name:"preizerdaul:pag",max_dpi:128,metadata_id:"2eb99e09-635c-400f-a32f-fbc7129854c3",start_opacity:.7},dimensions:{},type:"WMS",layers:"ac_preizerdaul_pag",imageType:"image/png",style:"default",childLayers:[{name:"ac_preizerdaul_pag__0"}]},{id:363,name:"ac_preizerdaul_ortho",metadata:{max_dpi:128,metadata_id:"83700e3f-2590-4bab-b93f-47390186a04f"},dimensions:{},type:"WMS",layers:"ac_preizerdaul_ortho",imageType:"image/png",style:"default",childLayers:[{name:"ac_preizerdaul_ortho__0"}]},{id:137,name:"ac_preizerdaul_ortho_2009",metadata:{max_dpi:128,metadata_id:"2d9a745c-4574-42dd-9c7b-ce8f6ddeb4e3"},dimensions:{},type:"WMS",layers:"ac_preizerdaul_ortho_2009",imageType:"image/png",style:"default",childLayers:[{name:"ac_preizerdaul_ortho_2009__1"},{name:"ac_preizerdaul_ortho_2009__0"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{bg_layer:"webbasemap",bg_opacity:0,css:"preizerdaul.css",link_title:"Administration communale de Préizerdaul",page_title:"preizerdaul.geoportail.lu",print_img:"preizerdaul.png",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["1000","1500","2500","5000","10000","15000","20000","25000","50000","80000","100000","125000","200000","250000","400000"],print_short_txt_de:"preizerdaul.geoportal.lu",print_short_txt_en:"preizerdaul.geoportal.lu",print_short_txt_fr:"preizerdaul.geoportail.lu",print_short_txt_lu:"preizerdaul.geoportal.lu",start_layers:["ac_preizerdaul_ortho","ac_preizerdaul_pag"],start_x:95500,start_y:63500,start_zoom:7}},{id:125,name:"wellenstein",icon:"wellenstein",children:[{id:279,name:"group_ac_wellenstein_pag",children:[{id:210,name:"ac_wellenstein_pag_complet",metadata:{legend_name:"wellenstein:pag_complet",metadata_id:"f92b66ee-4d6c-48fe-a553-83236e8f0ed6",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ac_wellenstein_pag_complet",imageType:"image/png"},{id:182,name:"ac_wellenstein_pag_zones",metadata:{legend_name:"wellenstein:pag_complet",metadata_id:"f92b66ee-4d6c-48fe-a553-83236e8f0ed6",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ac_wellenstein_pag_zones",imageType:"image/png"},{id:257,name:"ac_wellenstein_pag_limites",metadata:{legend_name:"wellenstein:pag_complet",metadata_id:"f92b66ee-4d6c-48fe-a553-83236e8f0ed6"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ac_wellenstein_pag_limites",imageType:"image/png"},{id:258,name:"ac_wellenstein_pag_voies_acces",metadata:{legend_name:"wellenstein:pag_complet",metadata_id:"310c9c19-b3fd-42f2-a537-41a5525fa4a2"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ac_wellenstein_pag_voies_acces",imageType:"image/png"},{id:300,name:"ac_wellenstein_pag_perimetres_zones",metadata:{legend_name:"wellenstein:pag_complet",metadata_id:"f92b66ee-4d6c-48fe-a553-83236e8f0ed6"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ac_wellenstein_pag_perimetres_zones",imageType:"image/png"},{id:305,name:"ac_wellenstein_pag_volumes_a_sauvegarder",metadata:{legend_name:"wellenstein:pag_complet",metadata_id:"f92b66ee-4d6c-48fe-a553-83236e8f0ed6"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ac_wellenstein_pag_volumes_a_sauvegarder",imageType:"image/png"},{id:162,name:"ac_wellenstein_pag_volumes_batiments",metadata:{legend_name:"wellenstein:pag_complet",metadata_id:"f92b66ee-4d6c-48fe-a553-83236e8f0ed6"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ac_wellenstein_pag_volumes_batiments",imageType:"image/png"},{id:282,name:"ac_wellenstein_pag_alignements_a_preserver",metadata:{legend_name:"wellenstein:pag_complet",metadata_id:"f92b66ee-4d6c-48fe-a553-83236e8f0ed6"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ac_wellenstein_pag_alignements_a_preserver",imageType:"image/png"}],metadata:{},mixed:!0}],functionalities:{},metadata:{bg_layer:"streets",css:"wellenstein.css",link_title:"Commune de Wellenstein",page_title:"wellenstein.geoportail.lu",print_img:"wellenstein.png",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["1000","1500","2500","5000","10000","15000","20000","25000","50000","80000","100000","125000","200000","250000","400000"],print_short_txt_de:"wellenstein.geoportal.lu",print_short_txt_en:"wellenstein.geoportal.lu",print_short_txt_fr:"wellenstein.geoportail.lu",print_short_txt_lu:"wellenstein.geoportal.lu",start_layers:["ac_wellenstein_pag_complet"],start_x:64965,start_y:93325.5,start_zoom:6}},{id:131,name:"lintgen",icon:"lintgen",children:[{id:422,name:"pag_lintgen",children:[{id:425,name:"pag_lintgen_layer",metadata:{legend_name:"lintgen",metadata_id:"809bceff-4802-47d2-983d-290a0956b327",start_opacity:.6},dimensions:{},type:"WMS",layers:"pag_lintgen_layer",imageType:"image/png",style:"default",childLayers:[{name:"pag_lintgen_layer__pag_lintgen"}]}],metadata:{},mixed:!0},{id:421,name:"eau_4_lintgen",children:[{id:628,name:"eau_new_Bohrungen",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:02:16.7602644",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ecb039cc765e18ae5ed882",is_queryable:!0,legend_name:"eau:bohrungen",max_dpi:128,metadata_id:"4ab49f17-a50e-4439-9a9e-01ec93421aec"},dimensions:{},type:"WMS",layers:"eau_new_Bohrungen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Bohrungen__39"}]},{id:629,name:"eau_new_Quellen",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.4671511",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ece292cc765e1a24228123",is_queryable:!0,legend_name:"eau:quellen",max_dpi:128,metadata_id:"58fa573a-a0c3-474d-9e74-c277cf90b135"},dimensions:{},type:"WMS",layers:"eau_new_Quellen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Quellen__40"}]},{id:641,name:"eau_new_UESG_1993_(ausser_Mosel)",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:25.7826569",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde1e111e9b03b03833bf",is_queryable:!0,legend_name:"eau:uesg_1993_ausser_mosel",max_dpi:128,metadata_id:"78c692f3-ad20-467b-b03a-0d020a821647"},dimensions:{},type:"WMS",layers:"eau_new_UESG_1993_(ausser_Mosel)",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_1993_(ausser_Mosel)__123"}]},{id:642,name:"eau_new_UESG_Alzette_1995",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.5894792",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"57ecde26111e9b03b03833c0",is_queryable:!0,legend_name:"eau:uesg_alzette_1995",max_dpi:128,metadata_id:"aaf81780-df85-4580-a890-fded8ae03db7"},dimensions:{},type:"WMS",layers:"eau_new_UESG_Alzette_1995",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_UESG_Alzette_1995__124"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{bg_layer:"voidLayer",bg_opacity:.01,css:"lintgen.css",fake_scales:["2000","2500","5000","10000","15000","30000"],page_title:"lintgen.geoportail.lu",print_img:"Lintgen.jpg",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["5000","10000","15000","20000","25000"],print_short_txt_de:"lintgen.geoportal.lu",print_short_txt_en:"lintgen.geoportal.lu",print_short_txt_fr:"lintgen.geoportail.lu",print_short_txt_lu:"lintgen.geoportal.lu",start_layers:["pag_lintgen_layer"],start_x:87430,start_y:77248,start_zoom:1}},{id:120,name:"remich",icon:"remich",children:[{id:236,name:"group_ac_remich_pag",children:[{id:344,name:"ac_remich_pag",metadata:{legend_name:"remich:pag",metadata_id:"14d4159d-e103-4cac-a2a0-418ff24edaee",start_opacity:.7},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ac_remich_pag",imageType:"image/png"},{id:267,name:"ac_remich_ortho",metadata:{metadata_id:"a2d86966-e7e6-477e-b581-ae3a0e9f8e68"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ac_remich_ortho",imageType:"image/png"}],metadata:{},mixed:!0}],functionalities:{},metadata:{bg_layer:"streets",css:"remich.css",link_title:"Administration communale de Remich",page_title:"remich.geoportail.lu",print_img:"remich.png",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["1000","1500","2500","5000","10000","15000","20000","25000","50000","80000","100000","125000","200000","250000","400000"],print_short_txt_de:"remich.geoportal.lu",print_short_txt_en:"remich.geoportal.lu",print_short_txt_fr:"remich.geoportail.lu",print_short_txt_lu:"remich.geoportal.lu",start_layers:["ac_remich_ortho","ac_remich_pag"],start_x:67965,start_y:94325.5,start_zoom:6}},{id:114,name:"commande",icon:"commande",children:[{id:253,name:"commande_grp",children:[{id:200,name:"topo_decoupage_100k",metadata:{is_queryable:!0,metadata_id:"0d331d41-73ff-4091-84e1-bf949e092a52"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_decoupage_100k",imageType:"image/png"},{id:219,name:"topo_decoupage_50k",metadata:{is_queryable:!0,metadata_id:"f3714ffe-11ec-4a4a-8d51-549ba41086da"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_decoupage_50k",imageType:"image/png"},{id:193,name:"topo_decoupage_5000",metadata:{is_queryable:!0,metadata_id:"036d0cd3-c605-40cb-90d3-8c7afd4ddff6"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_decoupage_5000",imageType:"image/png"},{id:188,name:"topo_decoupage_tc",metadata:{is_queryable:!0,metadata_id:"ef075fce-9bea-4ecd-89a5-73a2587a464a"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_decoupage_tc",imageType:"image/png"},{id:216,name:"decoupage_communes",metadata:{is_queryable:!0,metadata_id:"e71c2d85-3495-435d-90b7-98ac18f9235f"},dimensions:{},type:"WMS",layers:"decoupage_communes",imageType:"image/png",style:"default",childLayers:[{name:"decoupage_communes__DECOUPAGE_COMMUNE"}]},{id:306,name:"decoupage_geo25k",metadata:{is_queryable:!0,metadata_id:"5cf702be-f598-4d49-9af0-67724acf5ae2"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"decoupage_geo25k",imageType:"image/png"},{id:211,name:"decoupage_geo25_50k",metadata:{is_queryable:!0,metadata_id:"26ebc97c-166b-426c-ac5c-60ae42256f9e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"decoupage_geo25_50k",imageType:"image/png"},{id:262,name:"cadastre",metadata:{exclusion:"[1,11,21,31,32,33,34,35,36,37,38,39,51,52,53,54,55,56,57,58,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115]",is_queryable:!0,legend_name:"pcn_parcelles:show",metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2050"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"cadastre",imageType:"image/png"},{id:374,name:"topo_decoupage_ortho_2013",metadata:{is_queryable:!0,metadata_id:"3a35eb1a-9eaa-4f90-927f-2891d5e865f7"},dimensions:{},type:"WMS",layers:"topo_decoupage_ortho_2013",imageType:"image/png",style:"default",childLayers:[{name:"topo_decoupage_ortho_2013__DECOUPAGE_ORTHO_2013"}]},{id:418,name:"repere_alti",metadata:{is_queryable:!1,metadata_id:"3119179b-56bb-459d-8904-1e0a2bfb6bc7"},dimensions:{},type:"WMS",layers:"418",imageType:"image/png",style:"default",childLayers:[{name:"repere_alti__POI"}]},{id:457,name:"topo_decoupage_5000_ed2015",metadata:{is_queryable:!0,metadata_id:"01182ea0-3c30-4fc0-9bc2-e2dc778592da"},dimensions:{},type:"WMS",layers:"topo_decoupage_5000_ed2015",imageType:"image/png",style:"default",childLayers:[{name:"topo_decoupage_5000_ed2015__DECOUPAGE_5000_ED2015"}]},{id:823,name:"feuilles_cadastrales_urplang2",metadata:{is_queryable:!0,metadata_id:"3a35eb1a-9eaa-4f90-927f-2891d5e865f7"},dimensions:{},type:"WMS",layers:"feuilles_cadastrales_urplang",imageType:"image/png",style:"default",childLayers:[{name:"feuilles_cadastrales_urplang2__FEUILLES_CADASTRALES"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{css:"main.css",page_title:"map.geoportail.lu",print_img:"bandeau.jpg",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["1000","1500","2500","5000","10000","15000","20000","25000","50000","80000","100000","125000","200000","250000","400000"],print_short_txt_de:"map.geoportal.lu",print_short_txt_en:"map.geoportal.lu",print_short_txt_fr:"map.geoportal.lu",print_short_txt_lu:"map.geoportal.lu"}},{id:123,name:"at",icon:"at",children:[{id:394,name:"at_ps",children:[{id:392,name:"at_pst",children:[{id:410,name:"at_pst1",metadata:{is_queryable:!0,legend_name:"at:projetspst",max_dpi:128,metadata_id:"10568679-86b2-487b-b19b-b371c39773c1",start_opacity:.7},dimensions:{},type:"WMS",layers:"at_pst1",imageType:"image/png",style:"default",childLayers:[{name:"at_pst1__0"},{name:"at_pst1__1"}]},{id:408,name:"at_pst2",metadata:{is_queryable:!0,legend_name:"at:couloirpst",max_dpi:128,metadata_id:"10568679-86b2-487b-b19b-b371c39773c1",start_opacity:.7},dimensions:{},type:"WMS",layers:"at_pst2",imageType:"image/png",style:"default",childLayers:[{name:"at_pst2__0"}]}],metadata:{},mixed:!0},{id:398,name:"at_psp",children:[{id:396,name:"at_psp_cv",metadata:{is_queryable:!0,legend_name:"at:coupureverte",max_dpi:128,metadata_id:"84763751-9311-4d45-8f30-06e8370aeffa",start_opacity:.7},dimensions:{},type:"WMS",layers:"at_psp_cv",imageType:"image/png",style:"default",childLayers:[{name:"at_psp_cv__0"}]},{id:409,name:"at_psp_zvi",metadata:{is_queryable:!0,legend_name:"at:zoneverteinterurbaine",max_dpi:128,metadata_id:"7428ad86-57d1-4186-98aa-c4c2fb94578f",start_opacity:.7},dimensions:{},type:"WMS",layers:"at_psp_zvi",imageType:"image/png",style:"default",childLayers:[{name:"at_psp_zvi__0"}]},{id:395,name:"at_psp_gep",metadata:{is_queryable:!0,legend_name:"at:grandsensemblespaysagers",max_dpi:128,metadata_id:"84763751-9311-4d45-8f30-06e8370aeffa",start_opacity:.7},dimensions:{},type:"WMS",layers:"at_psp_gep",imageType:"image/png",style:"default",childLayers:[{name:"at_psp_gep__0"}]}],metadata:{},mixed:!0},{id:393,name:"at_pszae",children:[{id:407,name:"at_pszae1",metadata:{is_queryable:!0,legend_name:"at:zaeexistante",max_dpi:128,metadata_id:"2133d9bd-6941-4181-8866-0d8db0e1d041",start_opacity:.7},dimensions:{},type:"WMS",layers:"at_pszae1",imageType:"image/png",style:"default",childLayers:[{name:"at_pszae1__0"},{name:"at_pszae1__1"}]},{id:402,name:"at_pszae2",metadata:{is_queryable:!0,legend_name:"at:zaenouvext",max_dpi:128,metadata_id:"ea5da181-a572-43fb-9813-e373ad3ac0c1",start_opacity:.7},dimensions:{},type:"WMS",layers:"at_pszae2",imageType:"image/png",style:"default",childLayers:[{name:"at_pszae2__0"},{name:"at_pszae2__1"}]},{id:403,name:"at_pszae3",metadata:{is_queryable:!0,legend_name:"at:zoneareclasser",max_dpi:128,metadata_id:"ea5da181-a572-43fb-9813-e373ad3ac0c1",start_opacity:.7},dimensions:{},type:"WMS",layers:"at_pszae3",imageType:"image/png",style:"default",childLayers:[{name:"at_pszae3__0"},{name:"at_pszae3__1"}]},{id:1435,name:"at_pszae_droit_preemption",metadata:{is_queryable:!0,metadata_id:"ac28744b-e9cd-4db1-8904-7bfe137aafcd"},dimensions:{},type:"WMS",layers:"at_pszae_droit_preemption",imageType:"image/png",style:"default",childLayers:[{name:"at_pszae_droit_preemption__0"}]}],metadata:{},mixed:!0},{id:400,name:"at_psl",children:[{id:401,name:"at_psl1",metadata:{is_queryable:!0,legend_name:"at:zoneprojenvergurehabitat",max_dpi:128,metadata_id:"a0c94819-73be-40b8-9327-e3b8b0407633",start_opacity:.7},dimensions:{},type:"WMS",layers:"at_psl1",imageType:"image/png",style:"default",childLayers:[{name:"at_psl1__0"},{name:"at_psl1__1"}]},{id:1436,name:"at_psl_droit_preemption",metadata:{is_queryable:!0,metadata_id:"ec647d3d-46bf-4c3d-84dc-fc42f5c875a7"},dimensions:{},type:"WMS",layers:"at_psl_droit_preemption",imageType:"image/png",style:"default",childLayers:[{name:"at_psl_droit_preemption__0"}]}],metadata:{},mixed:!0},{id:1493,name:"at_pds_parcels_group",children:[{id:1492,name:"at_pds_parcels",metadata:{is_queryable:!0,legend_name:"attestation_pds",metadata_id:"2b5a9769-3c31-4468-b457-724037bc8657"},dimensions:{},type:"WMS",layers:"at_pds_parcels",imageType:"image/png",style:"default",childLayers:[{name:"at_pds_parcels__0"}]},{id:1712,name:"at_psl_fond_de_plan",metadata:{metadata_id:"6c0d4541-6626-4ab4-8d02-baebcd2496bb"},dimensions:{},type:"WMS",layers:"at_psl_fond_de_plan",imageType:"image/png",style:"default",childLayers:[{name:"at_psl_fond_de_plan__0"}]}],metadata:{},mixed:!0}],metadata:{is_expanded:!0},mixed:!0},{id:2208,name:"at_diagnostique_terr_group",children:[{id:2209,name:"at_impermeabilisation_group",children:[{id:1952,name:"LISL_taux_impermeabilisation_2018",metadata:{is_queryable:!0,legend_name:"lisl_taux_impermeabilisation_2018",metadata_id:"5b40c571-dd3c-4e76-8f4f-b54746799688"},dimensions:{},type:"WMS",layers:"LISL_taux_impermeabilisation_2018",imageType:"image/png",style:"default",childLayers:[{name:"LISL_taux_impermeabilisation_2018__0"},{name:"LISL_taux_impermeabilisation_2018__1"}]},{id:2281,name:"at_impermeabilisation_communes_2018",metadata:{is_queryable:!0,legend_name:"at:impermeabilisation_communes_2018",metadata_id:"dae9931e-abd9-4f88-8180-024815cd0e1f"},dimensions:{},type:"WMS",layers:"at_impermeabilisation_communes_2018",imageType:"image/png",style:"default",childLayers:[{name:"at_impermeabilisation_communes_2018__0"}]},{id:2282,name:"at_impermeabilisation_communes_utilisateur_2018",metadata:{is_queryable:!0,legend_name:"at:impermeabilisation_communes_utilisateur_2018",metadata_id:"6bd9208a-01a0-42fc-b7dc-55c26ea95e02"},dimensions:{},type:"WMS",layers:"at_impermeabilisation_communes_utilisateur_2018",imageType:"image/png",style:"default",childLayers:[{name:"at_impermeabilisation_communes_utilisateur_2018__0"}]},{id:2216,name:"at_impermeabilisation_grid_2018_100m",metadata:{is_queryable:!0,legend_name:"at:impermeabilisation_grid_2018_100m",metadata_id:"210db74a-e33a-401b-9e17-2cd966cdcd1f"},dimensions:{},type:"WMS",layers:"at_impermeabilisation_grid_2018_100m",imageType:"image/png",style:"default",childLayers:[{name:"at_impermeabilisation_grid_2018_100m__0"}]},{id:2215,name:"at_impermeabilisation_grid_2018_1km",metadata:{is_queryable:!0,legend_name:"at:impermeabilisation_grid_2018_1km",metadata_id:"8dc777d0-f910-4c69-a476-85a73dcd8474"},dimensions:{},type:"WMS",layers:"at_impermeabilisation_grid_2018_1km",imageType:"image/png",style:"default",childLayers:[{name:"at_impermeabilisation_grid_2018_1km__0"}]}],metadata:{},mixed:!0},{id:2212,name:"at_batiments_group",children:[{id:2214,name:"at_batiments_periode_construction",metadata:{is_queryable:!0,legend_name:"at:periode_construction_batiments",metadata_id:"7c138282-86de-4adb-91c2-467b06786821"},dimensions:{},type:"WMS",layers:"at_batiments_periode_construction",imageType:"image/png",style:"default",childLayers:[{name:"at_batiments_periode_construction__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2211,name:"at_regional_group",children:[{id:2218,name:"at_region_sud_group",children:[{id:2213,name:"at_unesco_minett",metadata:{is_queryable:!0,legend_name:"at:unesco_minett",metadata_id:"815fc4a3-95ef-47b6-a9ff-fa7e88654639"},dimensions:{},type:"WMS",layers:"at_unesco_minett",imageType:"image/png",style:"default",childLayers:[{name:"at_unesco_minett__0"}]},{id:2603,name:"at_fruitiers",metadata:{is_queryable:!0,metadata_id:"d47a0780-2fb9-4d01-8774-64a1532f6280"},dimensions:{},type:"WMS",layers:"at_fruitiers",imageType:"image/png",style:"default",childLayers:[{name:"at_fruitiers__0"}]},{id:2604,name:"at_fruitiers_parking",metadata:{is_queryable:!0,metadata_id:"87fca8cd-aa11-4bd6-bc55-72f96a6016b4"},dimensions:{},type:"WMS",layers:"at_fruitiers_parking",imageType:"image/png",style:"default",childLayers:[{name:"at_fruitiers_parking__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2313,name:"at_pos_group",children:[{id:710,name:"pag_pos",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"a5f51e0e-c737-44e6-b0e0-7a0016d87707",start_opacity:1},dimensions:{},type:"WMS",layers:"pag_pos",imageType:"image/png",style:"default",childLayers:[{name:"pag_pos__0"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{bg_layer:"pixelmaps-gray",bg_opacity:100,css:"at.css",display_in_switcher:!0,fake_scales:["750","1500","3000","6000","15000","30000","60000","150000","300000","450000","700000","1500000"],link_title:"Aménagement du territoire",page_title:"at.geoportail.lu",print_img:"bandeau_at.png",print_long_txt_de:"Das öffentliche Geoportal des Grossherzogtums Luxemburg",print_long_txt_en:"The official geoportal for the Grand-Duchy of Luxembourg",print_long_txt_fr:"Le géoportail officiel du Grand-Duché de Luxembourg",print_long_txt_lu:"Den offizielle Geoportal vu Lëtzebuerg",print_scales:["1000","1500","2500","5000","10000","15000","20000","25000","50000","80000","100000","125000","200000","250000","400000"],print_short_txt_de:"at.geoportal.lu",print_short_txt_en:"at.geoportal.lu",print_short_txt_fr:"at.geoportail.lu",print_short_txt_lu:"at.geoportal.lu",resolutions:["500.0","250.0","150.0","100.0","50.0","20.0","10.0","5.0","2.0","1.0","0.5","0.25"]}},{id:800,name:"cadastre_hertzien",icon:"main",children:[{id:803,name:"cadastre_hertzien_group",children:[{id:811,name:"mat_antennes_moins_50_watt",metadata:{is_queryable:!0,legend_name:"at:antennesbelow50w",metadata_id:"cbf57825-26ba-4e36-98e8-083c1945066c"},dimensions:{},type:"WMS",layers:"mat_antennes_moins_50_watt",imageType:"image/png",style:"default",childLayers:[{name:"mat_antennes_moins_50_watt__0"}]},{id:1930,name:"mat_5G_antennes_plus_50_watt",metadata:{is_queryable:!0,metadata_id:"76e25a5d-8e78-40cb-a54b-9cfc27b16e60"},dimensions:{},type:"WMS",layers:"mat_5G_antennes_plus_50_watt",imageType:"image/png",style:"default",childLayers:[{name:"mat_5G_antennes_plus_50_watt__0"}]},{id:2053,name:"mat_5G-3.6GHZ_antennes_plus_50_watt",metadata:{is_queryable:!0,metadata_id:"e048acda-0ec7-4f52-8221-613d9312c28b"},dimensions:{},type:"WMS",layers:"mat_5G-3.6GHZ_antennes_plus_50_watt",imageType:"image/png",style:"default",childLayers:[{name:"mat_5G-3.6GHZ_antennes_plus_50_watt__0"}]},{id:801,name:"mat_antennes_plus_50_watt",metadata:{is_queryable:!0,legend_name:"at:antennes",metadata_id:"e4a24392-591c-4d20-a62b-f75a9191488d"},dimensions:{},type:"WMS",layers:"mat_antennes_plus_50_watt",imageType:"image/png",style:"default",childLayers:[{name:"mat_antennes_plus_50_watt__0"}]},{id:802,name:"mat_points_mesure",metadata:{is_queryable:!0,legend_name:"at:pointmesure",metadata_id:"f8f71353-40b8-4e10-b72c-85d8fe9e0577"},dimensions:{},type:"WMS",layers:"mat_points_mesure",imageType:"image/png",style:"default",childLayers:[{name:"mat_points_mesure__0"}]}],metadata:{is_expanded:!0},mixed:!0}],functionalities:{},metadata:{display_in_switcher:!0}},{id:1672,name:"urban_farming",icon:"urban_farming",children:[{id:1678,name:"urban_farming_donnees_disponibles_group",children:[{id:1679,name:"Données disponibles",metadata:{is_queryable:!0,legend_name:"uf:donnees_disponibles",metadata_id:"aaa7619b-8b65-4283-829d-f990c62e7f4c"},dimensions:{},type:"WMS",layers:"Données disponibles",imageType:"image/png",style:"default",childLayers:[{name:"Données disponibles__2"},{name:"Données disponibles__3"}]}],metadata:{},mixed:!0},{id:1690,name:"Analyse Ensoleillement",children:[{id:1806,name:"Ensoleillement au 15.02",metadata:{is_queryable:!0,legend_name:"uf:ensoleillement_fr",metadata_id:"ece9ef19-b1ff-4acc-9d19-c00f7233d648"},dimensions:{},type:"WMS",layers:"Ensoleillement au 15.02",imageType:"image/png",style:"default",childLayers:[{name:"Ensoleillement au 15.02__15"}]},{id:1683,name:"Ensoleillement au 15.05",metadata:{is_queryable:!0,legend_name:"uf:ensoleillement_fr",metadata_id:"ece9ef19-b1ff-4acc-9d19-c00f7233d648"},dimensions:{},type:"WMS",layers:"Ensoleillement au 15.05",imageType:"image/png",style:"default",childLayers:[{name:"Ensoleillement au 15.05__16"}]},{id:1682,name:"Ensoleillement au 15.08",metadata:{is_queryable:!0,legend_name:"uf:ensoleillement_fr",metadata_id:"89b63cab-2220-4b00-abd5-2bfbe35352cd"},dimensions:{},type:"WMS",layers:"Ensoleillement au 15.08",imageType:"image/png",style:"default",childLayers:[{name:"Ensoleillement au 15.08__17"}]}],metadata:{legend_name:"uf:solar_hiver",metadata_id:"15446cbb-82d8-4d68-b049-a0ad24ae670e"},mixed:!0},{id:1673,name:"Projet en extérieur, hors sol, professionnel, en toiture",children:[{id:1674,name:"Toitures plates",metadata:{legend_name:"uf:roof_type",metadata_id:"65ba3e71-d581-4cde-b037-b6e852963fe6"},dimensions:{},type:"WMS",layers:"Toitures plates",imageType:"image/png",style:"default",childLayers:[{name:"Toitures plates__7"}]},{id:1675,name:"Hauteur des bâtiments",metadata:{legend_name:"uf:building_height",metadata_id:"021f0cc2-68ea-46b9-97c5-169cc5052e5e"},dimensions:{},type:"WMS",layers:"Hauteur des bâtiments",imageType:"image/png",style:"default",childLayers:[{name:"Hauteur des bâtiments__8"}]},{id:1680,name:"Accessibilité légale",metadata:{legend_name:"uf:parcels_streets",metadata_id:"a53e2022-a799-47b3-9d21-414c992f1019"},dimensions:{},type:"WMS",layers:"Accessibilité légale",imageType:"image/png",style:"default",childLayers:[{name:"Accessibilité légale__6"}]},{id:1676,name:"Ensoleillement",metadata:{is_queryable:!0,legend_name:"uf:ensoleillement",metadata_id:"15446cbb-82d8-4d68-b049-a0ad24ae670e"},dimensions:{},type:"WMS",layers:"Ensoleillement",imageType:"image/png",style:"default",childLayers:[{name:"Ensoleillement__9"}]},{id:1681,name:"Sites de commercialisation et consommation",metadata:{is_queryable:!0,legend_name:"uf:commerce_closeby",metadata_id:"54c3973e-3168-4a0a-9df0-ce5c97360d0d"},dimensions:{},type:"WMS",layers:"Sites de commercialisation et consommation",imageType:"image/png",style:"default",childLayers:[{name:"Sites de commercialisation et consommation__5"}]},{id:1687,name:"Typologie 1 - Carte pondérée pour le 15.02",metadata:{is_queryable:!0,legend_name:"uf:typologie1",metadata_id:"aa400ef6-b447-403e-9070-8795067e9017"},dimensions:{},type:"WMS",layers:"Typologie 1 - Carte pondérée pour le 15.02",imageType:"image/png",style:"default",childLayers:[{name:"Typologie 1 - Carte pondérée pour le 15.02__11"}]}],metadata:{},mixed:!0},{id:1685,name:"Projet en extérieur, hors sol, professionnel, au sol",children:[{id:1676,name:"Ensoleillement",metadata:{is_queryable:!0,legend_name:"uf:ensoleillement",metadata_id:"15446cbb-82d8-4d68-b049-a0ad24ae670e"},dimensions:{},type:"WMS",layers:"Ensoleillement",imageType:"image/png",style:"default",childLayers:[{name:"Ensoleillement__9"}]},{id:1681,name:"Sites de commercialisation et consommation",metadata:{is_queryable:!0,legend_name:"uf:commerce_closeby",metadata_id:"54c3973e-3168-4a0a-9df0-ce5c97360d0d"},dimensions:{},type:"WMS",layers:"Sites de commercialisation et consommation",imageType:"image/png",style:"default",childLayers:[{name:"Sites de commercialisation et consommation__5"}]},{id:1688,name:"Typologie 2 - Carte pondérée pour le 15.02",metadata:{legend_name:"uf:typologie2",metadata_id:"2fdba3ac-42ef-4a4d-9480-a0641b9d9cdc"},dimensions:{},type:"WMS",layers:"Typologie 2 - Carte pondérée pour le 15.02",imageType:"image/png",style:"default",childLayers:[{name:"Typologie 2 - Carte pondérée pour le 15.02__12"}]}],metadata:{},mixed:!0},{id:1686,name:"Projet en extérieur, hors sol, communautaire, en toiture",children:[{id:1674,name:"Toitures plates",metadata:{legend_name:"uf:roof_type",metadata_id:"65ba3e71-d581-4cde-b037-b6e852963fe6"},dimensions:{},type:"WMS",layers:"Toitures plates",imageType:"image/png",style:"default",childLayers:[{name:"Toitures plates__7"}]},{id:1675,name:"Hauteur des bâtiments",metadata:{legend_name:"uf:building_height",metadata_id:"021f0cc2-68ea-46b9-97c5-169cc5052e5e"},dimensions:{},type:"WMS",layers:"Hauteur des bâtiments",imageType:"image/png",style:"default",childLayers:[{name:"Hauteur des bâtiments__8"}]},{id:1676,name:"Ensoleillement",metadata:{is_queryable:!0,legend_name:"uf:ensoleillement",metadata_id:"15446cbb-82d8-4d68-b049-a0ad24ae670e"},dimensions:{},type:"WMS",layers:"Ensoleillement",imageType:"image/png",style:"default",childLayers:[{name:"Ensoleillement__9"}]},{id:1689,name:"Typologie 3 - Carte pondérée pour le 15.02",metadata:{legend_name:"uf:typologie3",metadata_id:"1fe3fa11-8d55-4612-b044-95a124cb5740"},dimensions:{},type:"WMS",layers:"Typologie 3 - Carte pondérée pour le 15.02",imageType:"image/png",style:"default",childLayers:[{name:"Typologie 3 - Carte pondérée pour le 15.02__13"}]}],metadata:{},mixed:!0},{id:248,name:"flurstucke_grundstucke",children:[{id:359,name:"parcels",metadata:{exclusion:'[1,11,21,31,32,33,34,35,36,37,38,39,51,52,53,54,55,56,57,58,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,"exclusion_ortho2022","exclusion_ortho2022IR","exclusion_ortho2023","exclusion_ortho2023_bati","exclusion_ortho2023IR"]',is_queryable:!0,legend_name:"pcn_parcelles:show",metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2050"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"parcels",imageType:"image/png"},{id:353,name:"parcels_labels",metadata:{metadata_id:"a65629c7-ddd6-43de-b0c3-c49647d8fd2b"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"parcels_labels",imageType:"image/png"},{id:199,name:"buildings",metadata:{is_queryable:!0,legend_name:"pcn_batiments:show",metadata_id:"5d0efc9d-a05a-4964-9f9d-a0ab9932af04"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"buildings",imageType:"image/png"},{id:320,name:"toponymes",metadata:{metadata_id:"ffa537f7-a438-47da-9e0c-8e32260646a9"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"toponymes",imageType:"image/png"},{id:350,name:"communes_cadastrales_labels",metadata:{is_queryable:!0,metadata_id:"5ae8fdfb-bb8f-4f72-b7ee-36c7664fe4b5"},dimensions:{},type:"WMS",layers:"communes_cadastrales_labels",imageType:"image/png",style:"default",childLayers:[{name:"communes_cadastrales_labels__COMMUNES_CADASTRALES_LABELS"}]},{id:153,name:"communes_cadastrales",metadata:{is_queryable:!0,metadata_id:"8a95f8b2-2cfb-42e7-a51c-02084228b364"},dimensions:{},type:"WMS",layers:"communes_cadastrales",imageType:"image/png",style:"default",childLayers:[{name:"communes_cadastrales__COMMUNES_CADASTRALES"}]},{id:266,name:"sections_cadastrales_labels",metadata:{is_queryable:!0,metadata_id:"69d1b609-11f7-4587-872a-508ee98ea76c"},dimensions:{},type:"WMS",layers:"sections_cadastrales_labels",imageType:"image/png",style:"default",childLayers:[{name:"sections_cadastrales_labels__SECTIONS_CADASTRALES_LABELS"}]},{id:355,name:"sections_cadastrales",metadata:{is_queryable:!0,metadata_id:"c9122320-8f06-4499-ac86-eb469e911369"},dimensions:{},type:"WMS",layers:"sections_cadastrales",imageType:"image/png",style:"default",childLayers:[{name:"sections_cadastrales__SECTIONS_CADASTRALES"}]},{id:256,name:"feuilles_cadastrales",metadata:{is_queryable:!0,metadata_id:"51333029-c8cf-490f-b4a6-80ba239f0cb4"},dimensions:{},type:"WMS",layers:"feuilles_cadastrales",imageType:"image/png",style:"default",childLayers:[{name:"feuilles_cadastrales__FEUILLES_CADASTRALES"}]},{id:417,name:"remembrements",metadata:{exclusion:"[301,302,303,304,305,306,307,308,309,310]",is_queryable:!0,max_dpi:128,metadata_id:"03d079f3-61fb-48bc-ab39-f3427b208702",start_opacity:.7},dimensions:{},type:"WMS",layers:"remembrements",imageType:"image/png",style:"default",childLayers:[{name:"remembrements__0"},{name:"remembrements__1"}]},{id:1643,name:"act_grid_land_tenure",children:[{id:1644,name:"act_privately_owned_land",metadata:{is_queryable:!0,legend_name:"act:privately",metadata_id:"75cb5ae7-7c48-478f-b2a6-1e5bfbdd5958"},dimensions:{},type:"WMS",layers:"act_privately_owned_land",imageType:"image/png",style:"default",childLayers:[{name:"act_privately_owned_land__6"}]},{id:1645,name:"act_state_owned_land",metadata:{is_queryable:!0,legend_name:"act:stateowned",metadata_id:"e8813b4e-43c4-4a72-853e-bd7c06fd1111"},dimensions:{},type:"WMS",layers:"act_state_owned_land",imageType:"image/png",style:"default",childLayers:[{name:"act_state_owned_land__5"}]},{id:1646,name:"act_municipality_owned_land",metadata:{is_queryable:!0,legend_name:"act:municipality",metadata_id:"89d42e03-93ae-444f-a49e-eb869b30071e"},dimensions:{},type:"WMS",layers:"act_municipality_owned_land",imageType:"image/png",style:"default",childLayers:[{name:"act_municipality_owned_land__4"}]},{id:1647,name:"act_domainepublic_owned_land",metadata:{is_queryable:!0,legend_name:"act:domainepublic",metadata_id:"ac32c380-37df-4594-bbf2-0fd394482fd9"},dimensions:{},type:"WMS",layers:"act_domainepublic_owned_land",imageType:"image/png",style:"default",childLayers:[{name:"act_domainepublic_owned_land__1"}]},{id:1648,name:"act_publicly_owned_land",metadata:{is_queryable:!0,legend_name:"act:publicly",metadata_id:"0a1852f5-1f32-4bdc-8bbc-d6103921d862"},dimensions:{},type:"WMS",layers:"act_publicly_owned_land",imageType:"image/png",style:"default",childLayers:[{name:"act_publicly_owned_land__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],functionalities:{},metadata:{display_in_switcher:!0}},{id:1530,name:"atlas_demographique",icon:"https://migration.geoportail.lu/static/ddc9f661fc1b496c919d096d89f6f3fb/images/blank.png",children:[{id:2515,name:"statec_census_grid",children:[{id:2720,name:"statec_census_group_repartition_territoriale",children:[{id:2596,name:"statec_population_commune",metadata:{is_queryable:!0,metadata_id:"5b0ec0de-1ed8-467c-b750-b4421e532cee",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_population_commune",imageType:"image/png",style:"default",childLayers:[{name:"statec_population_commune__0"},{name:"statec_population_commune__1"}]},{id:2597,name:"statec_densite_population_commune",metadata:{is_queryable:!0,metadata_id:"e469230d-68bd-4d9c-8c0b-beda13b4c713",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_densite_population_commune",imageType:"image/png",style:"default",childLayers:[{name:"statec_densite_population_commune__0"},{name:"statec_densite_population_commune__2"}]}],metadata:{},mixed:!0},{id:2721,name:"statec_census_group_repartition_km2",children:[{id:2514,name:"statec_population_grid",metadata:{is_queryable:!0,metadata_id:"3d252bbe-6491-4d22-b03b-d8070d863448",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_population_grid",imageType:"image/png",childLayers:[{name:"statec_population_grid__0"},{name:"statec_population_grid__1"},{name:"statec_population_grid__2"},{name:"statec_population_grid__3"},{name:"statec_population_grid__4"}]}],metadata:{},mixed:!0},{id:2719,name:"statec_census_group_nationalite",children:[{id:2613,name:"statec_census_etrangers",metadata:{is_queryable:!0,metadata_id:"45428d05-75c1-4eb9-93fd-9bbd7030be01",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_census_etrangers",imageType:"image/png",style:"default",childLayers:[{name:"statec_census_etrangers__0"},{name:"statec_census_etrangers__1"}]},{id:2612,name:"statec_census_allemands",metadata:{is_queryable:!0,metadata_id:"e4a62561-3787-4cee-a28b-cd79975df871",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_census_allemands",imageType:"image/png",style:"default",childLayers:[{name:"statec_census_allemands__0"},{name:"statec_census_allemands__6"}]},{id:2611,name:"statec_census_belges",metadata:{is_queryable:!0,metadata_id:"9d44ce99-10bf-40c6-b34f-2197aa78d0e3",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_census_belges",imageType:"image/png",style:"default",childLayers:[{name:"statec_census_belges__0"},{name:"statec_census_belges__5"}]},{id:2609,name:"statec_census_francais",metadata:{is_queryable:!0,metadata_id:"eae3d241-9146-48f6-b1fb-cfd9d6ef8b45",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_census_francais",imageType:"image/png",style:"default",childLayers:[{name:"statec_census_francais__0"},{name:"statec_census_francais__3"}]},{id:2610,name:"statec_census_italiens",metadata:{is_queryable:!0,metadata_id:"4906e802-8b67-4e46-8d32-daf5ee442d4c",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_census_italiens",imageType:"image/png",style:"default",childLayers:[{name:"statec_census_italiens__0"},{name:"statec_census_italiens__4"}]},{id:2608,name:"statec_census_portugais",metadata:{is_queryable:!0,metadata_id:"2d0daf15-9519-4d10-af52-8fcda45a352c",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_census_portugais",imageType:"image/png",style:"default",childLayers:[{name:"statec_census_portugais__0"},{name:"statec_census_portugais__2"}]}],metadata:{},mixed:!0},{id:2722,name:"statec_census_group_structure_urbaine",children:[{id:2715,name:"statec_census_nuclei",metadata:{is_queryable:!0,metadata_id:"7da8cd39-c078-4ed0-8015-49aef4b47aae",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_census_nuclei",imageType:"image/png",style:"default",childLayers:[{name:"statec_census_nuclei__11"},{name:"statec_census_nuclei__10"},{name:"statec_census_nuclei__7"}]},{id:2717,name:"statec_census_degre_urbanisation",metadata:{is_queryable:!0,metadata_id:"409e0940-6c92-49a7-84b0-3b064cf41e30",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_census_degre_urbanisation",imageType:"image/png",style:"default",childLayers:[{name:"statec_census_degre_urbanisation__7"},{name:"statec_census_degre_urbanisation__8"},{name:"statec_census_degre_urbanisation__2"},{name:"statec_census_degre_urbanisation__5"}]},{id:2718,name:"statec_census_evolution_poulation_grid",metadata:{is_queryable:!0,metadata_id:"3f7216af-0849-40cd-8c3a-de71065fd51b",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_census_evolution_poulation_grid",imageType:"image/png",style:"default",childLayers:[{name:"statec_census_evolution_poulation_grid__9"},{name:"statec_census_evolution_poulation_grid__8"},{name:"statec_census_evolution_poulation_grid__3"},{name:"statec_census_evolution_poulation_grid__4"}]}],metadata:{},mixed:!0},{id:2741,name:"statec_recensement_2011_langues",children:[{id:2735,name:"statec_rec_langue_lux",metadata:{is_queryable:!0,metadata_id:"f3e10304-cf5a-4578-b126-90474e40cdf5",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_rec_langue_lux",imageType:"image/png",childLayers:[{name:"statec_rec_langue_lux__3"},{name:"statec_rec_langue_lux__4"},{name:"statec_rec_langue_lux__7"}]},{id:2736,name:"statec_rec_langue_fr",metadata:{is_queryable:!0,metadata_id:"8f95bc60-c665-4429-b04e-afcd13580e9a",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_rec_langue_fr",imageType:"image/png",childLayers:[{name:"statec_rec_langue_fr__3"},{name:"statec_rec_langue_fr__4"},{name:"statec_rec_langue_fr__8"}]},{id:2737,name:"statec_rec_langue_all",metadata:{is_queryable:!0,metadata_id:"e6531436-b506-4229-a1fa-7f1e69a93e8f",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_rec_langue_all",imageType:"image/png",childLayers:[{name:"statec_rec_langue_all__3"},{name:"statec_rec_langue_all__4"},{name:"statec_rec_langue_all__9"}]},{id:2739,name:"statec_rec_langue_eng",metadata:{is_queryable:!0,metadata_id:"0a382635-e8e6-408a-a8f0-20c6a07c3913",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_rec_langue_eng",imageType:"image/png",childLayers:[{name:"statec_rec_langue_eng__3"},{name:"statec_rec_langue_eng__4"},{name:"statec_rec_langue_eng__11"}]},{id:2738,name:"statec_rec_langue_por",metadata:{is_queryable:!0,metadata_id:"54df3b86-a6cd-423e-aafa-8f24075f6402",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_rec_langue_por",imageType:"image/png",childLayers:[{name:"statec_rec_langue_por__3"},{name:"statec_rec_langue_por__4"},{name:"statec_rec_langue_por__10"}]},{id:2740,name:"statec_rec_langue_allo",metadata:{is_queryable:!0,metadata_id:"ae08301b-2fe3-4ed5-8dd4-45d94961e518",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_rec_langue_allo",imageType:"image/png",childLayers:[{name:"statec_rec_langue_allo__12"}]}],metadata:{},mixed:!0},{id:2772,name:"statec_recensement_2011_immigration",children:[{id:2773,name:"statec_nee_etr_pop_tot",children:[{id:2776,name:"statec_nee_etr_pop_tot_par_grid",metadata:{is_queryable:!0,metadata_id:"44f3db25-9487-4735-8148-2704fc5573d0",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_nee_etr_pop_tot_par_grid",imageType:"image/png",childLayers:[{name:"statec_nee_etr_pop_tot_par_grid__23"},{name:"statec_nee_etr_pop_tot_par_grid__28"},{name:"statec_nee_etr_pop_tot_par_grid__21"}]}],metadata:{},mixed:!0},{id:2774,name:"statec_nee_etr_region",children:[{id:2780,name:"statec_nee_etr_region_portugal",metadata:{is_queryable:!0,metadata_id:"0fedc058-9bcb-4abf-a32b-53af46b7b3fd",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_nee_etr_region_portugal",imageType:"image/png",childLayers:[{name:"statec_nee_etr_region_portugal__27"},{name:"statec_nee_etr_region_portugal__28"},{name:"statec_nee_etr_region_portugal__21"}]},{id:2778,name:"statec_nee_etr_region_UE",metadata:{is_queryable:!0,metadata_id:"ced2cc65-dac6-4804-ab9e-46673c3777d7",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_nee_etr_region_UE",imageType:"image/png",childLayers:[{name:"statec_nee_etr_region_UE__25"},{name:"statec_nee_etr_region_UE__28"},{name:"statec_nee_etr_region_UE__21"}]},{id:2779,name:"statec_nee_etr_region_hors_UE",metadata:{is_queryable:!0,metadata_id:"d7eb9236-facf-4130-a2e2-71d3962cb081",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_nee_etr_region_hors_UE",imageType:"image/png",childLayers:[{name:"statec_nee_etr_region_hors_UE__26"},{name:"statec_nee_etr_region_hors_UE__28"},{name:"statec_nee_etr_region_hors_UE__21"}]}],metadata:{},mixed:!0},{id:2775,name:"statec_nee_etr_duree_sejour",children:[{id:2781,name:"statec_nee_etr_duree_sejour_0_4",metadata:{is_queryable:!0,metadata_id:"bebdb67a-db53-4f21-9f55-8f6b9f6b8242",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_nee_etr_duree_sejour_0_4",imageType:"image/png",childLayers:[{name:"statec_nee_etr_duree_sejour_0_4__2"},{name:"statec_nee_etr_duree_sejour_0_4__0"}]},{id:2782,name:"statec_nee_etr_duree_sejour_5_10",metadata:{is_queryable:!0,metadata_id:"26468daa-2fb2-4285-9e29-ed9b5212f6d8",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_nee_etr_duree_sejour_5_10",imageType:"image/png",childLayers:[{name:"statec_nee_etr_duree_sejour_5_10__30"},{name:"statec_nee_etr_duree_sejour_5_10__28"},{name:"statec_nee_etr_duree_sejour_5_10__21"}]},{id:2783,name:"statec_nee_etr_duree_sejour_11_20",metadata:{is_queryable:!0,metadata_id:"f3d49e73-7c46-4dd2-961a-6a0ee484954f",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_nee_etr_duree_sejour_11_20",imageType:"image/png",childLayers:[{name:"statec_nee_etr_duree_sejour_11_20__31"},{name:"statec_nee_etr_duree_sejour_11_20__28"},{name:"statec_nee_etr_duree_sejour_11_20__21"}]},{id:2784,name:"statec_nee_etr_duree_sejour_plus_20",metadata:{is_queryable:!0,metadata_id:"7eaff321-ad4c-4134-8180-e5c8c61d4721",start_opacity:.7},dimensions:{},type:"WMS",layers:"statec_nee_etr_duree_sejour_plus_20",imageType:"image/png",childLayers:[{name:"statec_nee_etr_duree_sejour_plus_20__32"},{name:"statec_nee_etr_duree_sejour_plus_20__28"},{name:"statec_nee_etr_duree_sejour_plus_20__21"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2728,name:"statec_atlas_demographique_group",children:[{id:1546,name:"ad_org_territoriale",children:[{id:1547,name:"ad_org_terr_lux",children:[{id:1532,name:"ad_communes_cantons",metadata:{is_queryable:!0,legend_name:"ad:communes_cantons",metadata_id:"fbf159ad-4c67-40f4-9b40-547d1eb35642"},dimensions:{},type:"WMS",layers:"ad_communes_cantons",imageType:"image/png",style:"default",childLayers:[{name:"ad_communes_cantons__1"},{name:"ad_communes_cantons__0"}]},{id:1531,name:"ad_fusions_communes",metadata:{is_queryable:!0,legend_name:"ad:fusions_communes",metadata_id:"07ce11d6-1cc7-4e87-9d09-ceb89c39bfe1"},dimensions:{},type:"WMS",layers:"ad_fusions_communes",imageType:"image/png",style:"default",childLayers:[{name:"ad_fusions_communes__9"},{name:"ad_fusions_communes__10"},{name:"ad_fusions_communes__11"},{name:"ad_fusions_communes__12"},{name:"ad_fusions_communes__13"},{name:"ad_fusions_communes__14"},{name:"ad_fusions_communes__15"},{name:"ad_fusions_communes__0"}]},{id:1574,name:"ad_poles_urbains",metadata:{is_queryable:!0,legend_name:"ad:poles_urbains",metadata_id:"891c4e2b-8972-4fd7-a1aa-6330f6dafbf8"},dimensions:{},type:"WMS",layers:"ad_poles_urbains",imageType:"image/png",style:"default",childLayers:[{name:"ad_poles_urbains__17"},{name:"ad_poles_urbains__18"},{name:"ad_poles_urbains__19"},{name:"ad_poles_urbains__20"},{name:"ad_poles_urbains__21"},{name:"ad_poles_urbains__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1548,name:"ad_etat_population",children:[{id:1549,name:"ad_population_stock_evolution_densite",children:[{id:1575,name:"ad_population_commune_canton",children:[{id:1576,name:"ad_population_canton",metadata:{is_queryable:!0,legend_name:"ad:population_canton",metadata_id:"18ceedb6-1867-419f-ab92-11e9787782a0"},dimensions:{},type:"WMS",layers:"ad_population_canton",imageType:"image/png",style:"default",childLayers:[{name:"ad_population_canton__24"},{name:"ad_population_canton__0"}]},{id:1577,name:"ad_population_commune",metadata:{is_queryable:!0,legend_name:"ad:population_commune",metadata_id:"26308dad-cae4-4ba7-af9f-5585488efb9d"},dimensions:{},type:"WMS",layers:"ad_population_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_population_commune__23"},{name:"ad_population_commune__0"}]}],metadata:{},mixed:!0},{id:1550,name:"ad_evolution_pop_comm",children:[{id:1533,name:"ad_evol_pop_1981_2018",metadata:{is_queryable:!0,legend_name:"ad:accroissement:1981:2018",metadata_id:"bb9534dd-5a4c-4cfd-8733-90f4b4501379"},dimensions:{},type:"WMS",layers:"ad_evol_pop_1981_2018",imageType:"image/png",style:"default",childLayers:[{name:"ad_evol_pop_1981_2018__25"},{name:"ad_evol_pop_1981_2018__0"}]}],metadata:{},mixed:!0},{id:1551,name:"ad_densite_pop",children:[{id:1535,name:"ad_densite_pop_comm",metadata:{is_queryable:!0,legend_name:"ad:population_densite_commune",metadata_id:"1c6bd461-d2f8-4d87-ab8e-48291eb18cbd"},dimensions:{},type:"WMS",layers:"ad_densite_pop_comm",imageType:"image/png",style:"default",childLayers:[{name:"ad_densite_pop_comm__28"},{name:"ad_densite_pop_comm__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1552,name:"ad_rapport_hommes_femmes",children:[{id:1578,name:"ad_prop_femmes_comm_2018",metadata:{is_queryable:!0,legend_name:"ad:proportion_femmes",metadata_id:"4424bbe2-bb9b-4bab-b0fd-b754d833ce07"},dimensions:{},type:"WMS",layers:"ad_prop_femmes_comm_2018",imageType:"image/png",style:"default",childLayers:[{name:"ad_prop_femmes_comm_2018__29"},{name:"ad_prop_femmes_comm_2018__0"}]}],metadata:{},mixed:!0},{id:1554,name:"ad_etrangers_lieu_naissance",children:[{id:1545,name:"ad_part_etrangers_comm",children:[{id:1579,name:"ad_structure_pop_comm",metadata:{is_queryable:!0,legend_name:"ad:structure_population",metadata_id:"a12c27e9-37a5-4a1e-a98d-6cfccff42c21"},dimensions:{},type:"WMS",layers:"ad_structure_pop_comm",imageType:"image/png",style:"default",childLayers:[{name:"ad_structure_pop_comm__27"},{name:"ad_structure_pop_comm__0"}]}],metadata:{},mixed:!0},{id:1555,name:"ad_nationalites_commune_2018",children:[{id:1536,name:"ad_part_portugais_commune",metadata:{is_queryable:!0,legend_name:"ad:part_portugais",metadata_id:"78513942-ee02-43c1-bd56-a32e57688bf7"},dimensions:{},type:"WMS",layers:"ad_part_portugais_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_part_portugais_commune__34"},{name:"ad_part_portugais_commune__35"},{name:"ad_part_portugais_commune__0"}]},{id:1534,name:"ad_part_francais_commune",metadata:{is_queryable:!0,legend_name:"ad:part_francais",metadata_id:"aff2570e-da08-47a3-a943-a9d8b16bcebb"},dimensions:{},type:"WMS",layers:"ad_part_francais_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_part_francais_commune__36"},{name:"ad_part_francais_commune__37"},{name:"ad_part_francais_commune__0"}]},{id:1544,name:"ad_part_italiens_commune",metadata:{is_queryable:!0,legend_name:"ad:part_italiens",metadata_id:"c983db23-867c-40b0-8388-80a6bc35cc96"},dimensions:{},type:"WMS",layers:"ad_part_italiens_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_part_italiens_commune__38"},{name:"ad_part_italiens_commune__39"},{name:"ad_part_italiens_commune__0"}]},{id:1541,name:"ad_part_belges_commune",metadata:{is_queryable:!0,legend_name:"ad:part_belges",metadata_id:"9b2484d9-1085-43df-bab0-e1ada3a02fde"},dimensions:{},type:"WMS",layers:"ad_part_belges_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_part_belges_commune__40"},{name:"ad_part_belges_commune__41"},{name:"ad_part_belges_commune__0"}]},{id:1538,name:"ad_part_allemands_commune",metadata:{is_queryable:!0,legend_name:"ad:part_allemands",metadata_id:"0c638f13-5530-41fc-8f3b-68eba2cbf8db"},dimensions:{},type:"WMS",layers:"ad_part_allemands_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_part_allemands_commune__42"},{name:"ad_part_allemands_commune__43"},{name:"ad_part_allemands_commune__0"}]},{id:1543,name:"ad_part_UE28_commune",metadata:{is_queryable:!0,legend_name:"ad:part_ue28",metadata_id:"2e232af1-5a76-44ba-b793-2e891c4d2056"},dimensions:{},type:"WMS",layers:"ad_part_UE28_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_part_UE28_commune__44"},{name:"ad_part_UE28_commune__45"},{name:"ad_part_UE28_commune__0"}]},{id:1542,name:"ad_part_nonUE28_commune",metadata:{is_queryable:!0,legend_name:"ad:part_non_ue28",metadata_id:"448fb00f-a7e6-442e-bc45-4f4eb2ba57b8"},dimensions:{},type:"WMS",layers:"ad_part_nonUE28_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_part_nonUE28_commune__46"},{name:"ad_part_nonUE28_commune__47"},{name:"ad_part_nonUE28_commune__0"}]},{id:1537,name:"ad_part_africains_commune",metadata:{is_queryable:!0,legend_name:"ad:part_africains",metadata_id:"4cda15de-4bf7-442c-b4ea-cf9eb48132e2"},dimensions:{},type:"WMS",layers:"ad_part_africains_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_part_africains_commune__48"},{name:"ad_part_africains_commune__49"},{name:"ad_part_africains_commune__0"}]},{id:1539,name:"ad_part_americains_commune",metadata:{is_queryable:!0,legend_name:"ad:part_americains",metadata_id:"5b9181b3-29a1-41a6-a44a-9e54a8677efd"},dimensions:{},type:"WMS",layers:"ad_part_americains_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_part_americains_commune__50"},{name:"ad_part_americains_commune__51"},{name:"ad_part_americains_commune__0"}]},{id:1540,name:"ad_part_asiates_commune",metadata:{is_queryable:!0,legend_name:"ad:part_asiates",metadata_id:"8f83aa66-4b95-4632-90c3-164f591ad99d"},dimensions:{},type:"WMS",layers:"ad_part_asiates_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_part_asiates_commune__52"},{name:"ad_part_asiates_commune__53"},{name:"ad_part_asiates_commune__0"}]}],metadata:{},mixed:!0},{id:1580,name:"ad_lieu_naissance_lux_etr",children:[{id:1581,name:"ad_lieu_naissance_commune",metadata:{is_queryable:!0,legend_name:"ad:lieu_naissance",metadata_id:"34c8f0cb-08fd-41d9-8f6c-e0036e48a7a2"},dimensions:{},type:"WMS",layers:"ad_lieu_naissance_commune",imageType:"image/png",style:"default",childLayers:[{name:"ad_lieu_naissance_commune__54"},{name:"ad_lieu_naissance_commune__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1556,name:"ad_structure_age",children:[{id:1557,name:"ad_age_moyen",children:[{id:1561,name:"ad_age_moyen_femmes",metadata:{is_queryable:!0,legend_name:"ad:age_moyen_femmes",metadata_id:"d371cccb-da30-4a98-9d6e-1b0a6cb43e84"},dimensions:{},type:"WMS",layers:"ad_age_moyen_femmes",imageType:"image/png",style:"default",childLayers:[{name:"ad_age_moyen_femmes__3"},{name:"ad_age_moyen_femmes__0"}]},{id:1562,name:"ad_age_moyen_hommes",metadata:{is_queryable:!0,legend_name:"ad:age_moyen_hommes",metadata_id:"6448bc58-c7a2-483e-8fef-381bcd24c007"},dimensions:{},type:"WMS",layers:"ad_age_moyen_hommes",imageType:"image/png",style:"default",childLayers:[{name:"ad_age_moyen_hommes__4"},{name:"ad_age_moyen_hommes__0"}]},{id:1563,name:"ad_age_moyen_2",metadata:{is_queryable:!0,legend_name:"ad:age_moyen_2",metadata_id:"d5e02e7a-859e-445e-984f-c88cc03f107e"},dimensions:{},type:"WMS",layers:"ad_age_moyen_2",imageType:"image/png",style:"default",childLayers:[{name:"ad_age_moyen_2__5"},{name:"ad_age_moyen_2__0"}]}],metadata:{},mixed:!0},{id:1558,name:"ad_proportion_classes_age",children:[{id:1564,name:"ad_moins20",metadata:{is_queryable:!0,legend_name:"ad:age_moins20",metadata_id:"5834d06d-316a-41e8-823d-68e522b77550"},dimensions:{},type:"WMS",layers:"ad_moins20",imageType:"image/png",style:"default",childLayers:[{name:"ad_moins20__7"},{name:"ad_moins20__0"}]},{id:1565,name:"ad_20_64",metadata:{is_queryable:!0,legend_name:"ad:age_20_64",metadata_id:"8d1624c9-9c5e-4131-8ebe-4989a1214be1"},dimensions:{},type:"WMS",layers:"ad_20_64",imageType:"image/png",style:"default",childLayers:[{name:"ad_20_64__8"},{name:"ad_20_64__0"}]},{id:1566,name:"ad_65plus",metadata:{is_queryable:!0,legend_name:"ad:age_65plus",metadata_id:"e263aee4-2f0f-454c-84d5-7abd64406211"},dimensions:{},type:"WMS",layers:"ad_65plus",imageType:"image/png",style:"default",childLayers:[{name:"ad_65plus__9"},{name:"ad_65plus__0"}]}],metadata:{},mixed:!0},{id:1559,name:"ad_proportion_jeunes",children:[{id:1567,name:"ad_moins3",metadata:{is_queryable:!0,legend_name:"ad:age_moin3",metadata_id:"e270926d-1f82-42c5-be80-c8f0d551e52c"},dimensions:{},type:"WMS",layers:"ad_moins3",imageType:"image/png",style:"default",childLayers:[{name:"ad_moins3__11"},{name:"ad_moins3__0"}]},{id:1568,name:"ad_3_5",metadata:{is_queryable:!0,legend_name:"ad:age_3_5",metadata_id:"68791225-c16c-45c8-ba06-fa88be4ef4e0"},dimensions:{},type:"WMS",layers:"ad_3_5",imageType:"image/png",style:"default",childLayers:[{name:"ad_3_5__12"},{name:"ad_3_5__0"}]},{id:1569,name:"ad_6_10",metadata:{is_queryable:!0,legend_name:"ad:age_6_10",metadata_id:"2e54caf6-b57c-4da5-855e-0dd521518862"},dimensions:{},type:"WMS",layers:"ad_6_10",imageType:"image/png",style:"default",childLayers:[{name:"ad_6_10__13"},{name:"ad_6_10__0"}]},{id:1570,name:"ad_11_17",metadata:{is_queryable:!0,legend_name:"ad:age_11_17",metadata_id:"cc51e192-a9b7-4d2f-9406-4ed6639280ed"},dimensions:{},type:"WMS",layers:"ad_11_17",imageType:"image/png",style:"default",childLayers:[{name:"ad_11_17__14"},{name:"ad_11_17__0"}]}],metadata:{},mixed:!0},{id:1560,name:"ad_proportion_ages",children:[{id:1571,name:"ad_65_74",metadata:{is_queryable:!0,legend_name:"ad:age_65_74",metadata_id:"fb59a479-3177-417b-a905-bff71f9eb335"},dimensions:{},type:"WMS",layers:"ad_65_74",imageType:"image/png",style:"default",childLayers:[{name:"ad_65_74__16"},{name:"ad_65_74__0"}]},{id:1572,name:"ad_75_89",metadata:{is_queryable:!0,legend_name:"ad:age_75_89",metadata_id:"ee4a9399-501f-4a1f-93b0-d3827d3dd016"},dimensions:{},type:"WMS",layers:"ad_75_89",imageType:"image/png",style:"default",childLayers:[{name:"ad_75_89__17"},{name:"ad_75_89__0"}]},{id:1573,name:"ad_90plus",metadata:{is_queryable:!0,legend_name:"ad:age_90plus",metadata_id:"c859f388-6e37-49c5-bc23-404703ad9215"},dimensions:{},type:"WMS",layers:"ad_90plus",imageType:"image/png",style:"default",childLayers:[{name:"ad_90plus__18"},{name:"ad_90plus__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1589,name:"ad_rapport_dependance",children:[{id:1582,name:"ad_rapport_dependance_personnes_agees",metadata:{is_queryable:!0,legend_name:"ad:rapport_dependance_ages",metadata_id:"b739896e-28cb-471b-afc8-4c9d8a36fcf5"},dimensions:{},type:"WMS",layers:"ad_rapport_dependance_personnes_agees",imageType:"image/png",style:"default",childLayers:[{name:"ad_rapport_dependance_personnes_agees__19"},{name:"ad_rapport_dependance_personnes_agees__0"}]},{id:1583,name:"ad_rapport_dependance_jeunes",metadata:{is_queryable:!0,legend_name:"ad:rapport_dependance_jeunes",metadata_id:"711df835-4cf0-4557-80dc-67c7c18d5f3c"},dimensions:{},type:"WMS",layers:"ad_rapport_dependance_jeunes",imageType:"image/png",style:"default",childLayers:[{name:"ad_rapport_dependance_jeunes__20"},{name:"ad_rapport_dependance_jeunes__0"}]},{id:1584,name:"ad_rapport_dependance_total",metadata:{is_queryable:!0,legend_name:"ad:rapport_dependance_total",metadata_id:"b898fae0-2073-4cc2-88b4-a4851e93e16f"},dimensions:{},type:"WMS",layers:"ad_rapport_dependance_total",imageType:"image/png",style:"default",childLayers:[{name:"ad_rapport_dependance_total__21"},{name:"ad_rapport_dependance_total__0"}]}],metadata:{},mixed:!0},{id:1590,name:"ad_situation_matrimoniale",children:[{id:1585,name:"ad_celibataires",metadata:{is_queryable:!0,legend_name:"ad:celibataires",metadata_id:"40c3ab92-f09b-4722-b401-a6a271f083a4"},dimensions:{},type:"WMS",layers:"ad_celibataires",imageType:"image/png",style:"default",childLayers:[{name:"ad_celibataires__23"},{name:"ad_celibataires__0"}]},{id:1586,name:"ad_maries_pacses",metadata:{is_queryable:!0,legend_name:"ad:maries",metadata_id:"764c6af3-bc24-43a6-9741-d3e4f7cf83bb"},dimensions:{},type:"WMS",layers:"ad_maries_pacses",imageType:"image/png",style:"default",childLayers:[{name:"ad_maries_pacses__24"},{name:"ad_maries_pacses__0"}]},{id:1587,name:"ad_divorces_separes",metadata:{is_queryable:!0,legend_name:"ad:divorces",metadata_id:"7eb6a7f9-1419-4b34-adbc-fecaef5b5954"},dimensions:{},type:"WMS",layers:"ad_divorces_separes",imageType:"image/png",style:"default",childLayers:[{name:"ad_divorces_separes__25"},{name:"ad_divorces_separes__0"}]},{id:1588,name:"ad_veufs_veuves",metadata:{is_queryable:!0,legend_name:"ad:veufs",metadata_id:"e17b3af4-b31b-47ec-9a38-c01e8d3ccb30"},dimensions:{},type:"WMS",layers:"ad_veufs_veuves",imageType:"image/png",style:"default",childLayers:[{name:"ad_veufs_veuves__26"},{name:"ad_veufs_veuves__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1591,name:"ad_mouvement_population",children:[{id:1592,name:"ad_naissances",children:[{id:1597,name:"ad_naissances_taux_natalite",metadata:{is_queryable:!0,legend_name:"ad:naissances_taux_natalite",metadata_id:"9930d837-0412-47a3-bca1-711cdd61af6a"},dimensions:{},type:"WMS",layers:"ad_naissances_taux_natalite",imageType:"image/png",style:"default",childLayers:[{name:"ad_naissances_taux_natalite__4"},{name:"ad_naissances_taux_natalite__5"},{name:"ad_naissances_taux_natalite__0"}]},{id:1598,name:"ad_naissances_mariage",metadata:{is_queryable:!0,legend_name:"ad:naissances_mariage",metadata_id:"535ff8a9-86b6-486d-8a68-2e73e0c7a979"},dimensions:{},type:"WMS",layers:"ad_naissances_mariage",imageType:"image/png",style:"default",childLayers:[{name:"ad_naissances_mariage__7"},{name:"ad_naissances_mariage__0"}]},{id:1599,name:"ad_naissances_age_maternite",metadata:{is_queryable:!0,legend_name:"ad:naissances_age_maternite",metadata_id:"75a40efe-456c-4f72-8ce7-ea860143ea29"},dimensions:{},type:"WMS",layers:"ad_naissances_age_maternite",imageType:"image/png",style:"default",childLayers:[{name:"ad_naissances_age_maternite__9"},{name:"ad_naissances_age_maternite__0"}]}],metadata:{},mixed:!0},{id:1593,name:"ad_deces",children:[{id:1600,name:"ad_deces_taux_mortalite",metadata:{is_queryable:!0,legend_name:"ad:deces_taux_mortalite",metadata_id:"68b8de6b-b71f-4f93-9d07-150181d2dfba"},dimensions:{},type:"WMS",layers:"ad_deces_taux_mortalite",imageType:"image/png",style:"default",childLayers:[{name:"ad_deces_taux_mortalite__12"},{name:"ad_deces_taux_mortalite__13"},{name:"ad_deces_taux_mortalite__0"}]}],metadata:{},mixed:!0},{id:1594,name:"ad_solde_naturel",children:[{id:1601,name:"ad_solde_naturel_nombre_absolu",metadata:{is_queryable:!0,legend_name:"ad:solde_naturel",metadata_id:"7a2fd409-5e34-48b6-89a1-83d14b519dff"},dimensions:{},type:"WMS",layers:"ad_solde_naturel_nombre_absolu",imageType:"image/png",style:"default",childLayers:[{name:"ad_solde_naturel_nombre_absolu__16"},{name:"ad_solde_naturel_nombre_absolu__17"},{name:"ad_solde_naturel_nombre_absolu__18"},{name:"ad_solde_naturel_nombre_absolu__0"}]}],metadata:{},mixed:!0},{id:1595,name:"ad_migrations",children:[{id:1603,name:"ad_migrations_solde_interne",metadata:{is_queryable:!0,legend_name:"ad:migrations_solde",metadata_id:"2d500aa2-fe45-4a07-ab9f-506b11153744"},dimensions:{},type:"WMS",layers:"ad_migrations_solde_interne",imageType:"image/png",style:"default",childLayers:[{name:"ad_migrations_solde_interne__21"},{name:"ad_migrations_solde_interne__22"},{name:"ad_migrations_solde_interne__23"},{name:"ad_migrations_solde_interne__0"}]},{id:1604,name:"ad_migrations_solde_international",metadata:{is_queryable:!0,legend_name:"ad:migrations_solde_international",metadata_id:"48795eb2-baf4-4f60-bb41-bed3b7dac520"},dimensions:{},type:"WMS",layers:"ad_migrations_solde_international",imageType:"image/png",style:"default",childLayers:[{name:"ad_migrations_solde_international__25"},{name:"ad_migrations_solde_international__26"},{name:"ad_migrations_solde_international__27"},{name:"ad_migrations_solde_international__0"}]},{id:1605,name:"ad_migrations_solde_total",metadata:{is_queryable:!0,legend_name:"ad:migrations_solde_total",metadata_id:"27cdcc17-8190-4381-94df-e06dcbe7808a"},dimensions:{},type:"WMS",layers:"ad_migrations_solde_total",imageType:"image/png",style:"default",childLayers:[{name:"ad_migrations_solde_total__29"},{name:"ad_migrations_solde_total__30"},{name:"ad_migrations_solde_total__31"},{name:"ad_migrations_solde_total__0"}]}],metadata:{},mixed:!0},{id:1596,name:"ad_mariages",children:[{id:1606,name:"ad_mariages_taux_nuptialite",metadata:{is_queryable:!0,legend_name:"ad:mariages_taux_nuptialite",metadata_id:"25192002-b1b7-49fd-a0d7-b83642c07c68"},dimensions:{},type:"WMS",layers:"ad_mariages_taux_nuptialite",imageType:"image/png",style:"default",childLayers:[{name:"ad_mariages_taux_nuptialite__34"},{name:"ad_mariages_taux_nuptialite__35"},{name:"ad_mariages_taux_nuptialite__0"}]},{id:1607,name:"ad_mariages_age_femme",metadata:{is_queryable:!0,legend_name:"ad:mariages_age_femmes",metadata_id:"727febc6-600f-425c-a8d6-1349890f5e31"},dimensions:{},type:"WMS",layers:"ad_mariages_age_femme",imageType:"image/png",style:"default",childLayers:[{name:"ad_mariages_age_femme__37"},{name:"ad_mariages_age_femme__0"}]},{id:1608,name:"ad_mariage_age_hommes",metadata:{is_queryable:!0,legend_name:"ad:mariages_age_homme",metadata_id:"e7334b68-11fe-430f-95d5-d2f792d24011"},dimensions:{},type:"WMS",layers:"ad_mariage_age_hommes",imageType:"image/png",style:"default",childLayers:[{name:"ad_mariage_age_hommes__38"},{name:"ad_mariage_age_hommes__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1602,name:"ad_langues_lux",children:[{id:1616,name:"ad_langue_principale_2018",children:[{id:1609,name:"ad_langues_luxembourgeois",metadata:{is_queryable:!0,legend_name:"ad:langues_lux",metadata_id:"665006fe-aaff-40d3-8adc-76f41909a2cf"},dimensions:{},type:"WMS",layers:"ad_langues_luxembourgeois",imageType:"image/png",style:"default",childLayers:[{name:"ad_langues_luxembourgeois__42"},{name:"ad_langues_luxembourgeois__43"},{name:"ad_langues_luxembourgeois__0"}]},{id:1610,name:"ad_langues_francais",metadata:{is_queryable:!0,legend_name:"ad:langues_francais",metadata_id:"207b92c0-6479-4bbc-b8a3-3ddef53d3029"},dimensions:{},type:"WMS",layers:"ad_langues_francais",imageType:"image/png",style:"default",childLayers:[{name:"ad_langues_francais__45"},{name:"ad_langues_francais__46"},{name:"ad_langues_francais__0"}]},{id:1611,name:"ad_langues_allemand",metadata:{is_queryable:!0,legend_name:"ad:langues_allemand",metadata_id:"2fbdab89-6330-426c-af00-a1ce4b6294f5"},dimensions:{},type:"WMS",layers:"ad_langues_allemand",imageType:"image/png",style:"default",childLayers:[{name:"ad_langues_allemand__48"},{name:"ad_langues_allemand__49"},{name:"ad_langues_allemand__0"}]},{id:1612,name:"ad_langues_portugais",metadata:{is_queryable:!0,legend_name:"ad:langues_portugais",metadata_id:"a0efcf68-9445-4d39-8193-a6f9cebf500b"},dimensions:{},type:"WMS",layers:"ad_langues_portugais",imageType:"image/png",style:"default",childLayers:[{name:"ad_langues_portugais__51"},{name:"ad_langues_portugais__52"},{name:"ad_langues_portugais__0"}]},{id:1613,name:"ad_langues_italien",metadata:{is_queryable:!0,legend_name:"ad:langues_italien",metadata_id:"aa83ba2b-297e-4d1a-9dbf-00853a3a01bd"},dimensions:{},type:"WMS",layers:"ad_langues_italien",imageType:"image/png",style:"default",childLayers:[{name:"ad_langues_italien__54"},{name:"ad_langues_italien__55"},{name:"ad_langues_italien__0"}]},{id:1614,name:"ad_langues_anglais",metadata:{is_queryable:!0,legend_name:"ad:langues_anglais",metadata_id:"2fef731d-4c11-4c56-be6c-69b2f800931d"},dimensions:{},type:"WMS",layers:"ad_langues_anglais",imageType:"image/png",style:"default",childLayers:[{name:"ad_langues_anglais__57"},{name:"ad_langues_anglais__58"},{name:"ad_langues_anglais__0"}]},{id:1615,name:"ad_langues_autre",metadata:{is_queryable:!0,legend_name:"ad:langues_autre",metadata_id:"6c87f276-7219-4507-b4ba-a7f8a2378856"},dimensions:{},type:"WMS",layers:"ad_langues_autre",imageType:"image/png",style:"default",childLayers:[{name:"ad_langues_autre__60"},{name:"ad_langues_autre__61"},{name:"ad_langues_autre__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],functionalities:{},metadata:{display_in_switcher:!0}},{id:818,name:"API_ONLY",icon:"main",children:[{id:2841,name:"Couches populaires",children:[{id:152,name:"addresses",metadata:{is_queryable:!0,metadata_id:"28b310e4-b9e1-467c-a28d-fce2e9a96548"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"addresses",imageType:"image/png"},{id:302,name:"communes",metadata:{is_queryable:!0,linked_layers:["269"],metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2049"},dimensions:{},type:"WMS",layers:"communes",imageType:"image/png",style:"default",childLayers:[{name:"communes__COMMUNES"}]},{id:262,name:"cadastre",metadata:{exclusion:"[1,11,21,31,32,33,34,35,36,37,38,39,51,52,53,54,55,56,57,58,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115]",is_queryable:!0,legend_name:"pcn_parcelles:show",metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2050"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"cadastre",imageType:"image/png"},{id:181,name:"roads",metadata:{legend_name:"road_network:show",linked_layers:["351"],metadata_id:"12627f90-f0f8-41b3-a56a-2e11a232ba59"},dimensions:{},type:"WMS",layers:"roads",imageType:"image/png",style:"default",childLayers:[{name:"roads__ROADS_NOLABELS"}]},{id:698,name:"pag_pag",metadata:{is_queryable:!0,legend_name:"pag",linked_layers:["697","696","1366","709","710"],max_dpi:128,metadata_id:"12c67295-d150-430f-aa28-fa004ecba3c7",start_opacity:.7},dimensions:{},type:"WMS",layers:"pag_pag",imageType:"image/png",style:"default",childLayers:[{name:"pag_pag__28"},{name:"pag_pag__27"},{name:"pag_pag__26"},{name:"pag_pag__25"},{name:"pag_pag__24"},{name:"pag_pag__23"},{name:"pag_pag__22"},{name:"pag_pag__21"},{name:"pag_pag__20"},{name:"pag_pag__19"},{name:"pag_pag__18"},{name:"pag_pag__17"},{name:"pag_pag__16"},{name:"pag_pag__15"},{name:"pag_pag__14"},{name:"pag_pag__13"},{name:"pag_pag__12"},{name:"pag_pag__11"},{name:"pag_pag__9"},{name:"pag_pag__8"},{name:"pag_pag__7"},{name:"pag_pag__6"},{name:"pag_pag__202"},{name:"pag_pag__5"},{name:"pag_pag__200"}]},{id:147,name:"arrets_bus",metadata:{is_queryable:!0,legend_name:"mobiliteit:arrets_de_bus",linked_layers:["813"],metadata_id:"7318c6e8-bb63-40e0-9e40-46ae7b0dc266"},dimensions:{},type:"WMS",layers:"arrets_bus",imageType:"image/png",style:"default",childLayers:[{name:"arrets_bus__0"},{name:"arrets_bus__1"}]},{id:2811,name:"tour_randonnee_all",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_randonnee_all",imageType:"image/png",style:"default",childLayers:[{name:"tour_randonnee_all__category"}]},{id:1813,name:"myenergy_solarkataster_luxemburg_solar_potentials",metadata:{is_queryable:!0,legend_name:"energie:potentiel_solaire",metadata_id:"97628fac-c53b-4426-a829-b188105b9ead",ogc_info_format:"geojson",ogc_info_srs:"epsg:3857",ogc_query_layers:["st_luxemburg_22_feature_info"]},dimensions:{},type:"WMS",layers:"myenergy_solarkataster_luxemburg_solar_potentials",imageType:"image/png",style:"default",childLayers:[{name:"myenergy_solarkataster_luxemburg_solar_potentials__st_luxemburg_22_solar_potentials"}]},{id:245,name:"env_zones_protegees",children:[{id:807,name:"zpin_group",children:[{id:804,name:"anf_zpin_declarees",metadata:{is_queryable:!0,legend_name:"anf:zpin_declarees",metadata_id:"9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"},dimensions:{},type:"WMS",layers:"anf_zpin_declarees",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_declarees__ZPIN_DECLAREES"}]},{id:805,name:"anf_zpin_a_declarer",metadata:{is_queryable:!0,legend_name:"anf:zpin_a_declarer",metadata_id:"db53336b-1a33-4b1a-94a8-42a29b55ce45"},dimensions:{},type:"WMS",layers:"anf_zpin_a_declarer",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_a_declarer__ZPIN_A_DECLARER"}]},{id:806,name:"anf_zpin_en_procedure",metadata:{is_queryable:!0,legend_name:"anf:zpin_en_procedure_reglementaire",metadata_id:"74499cf0-ab69-48bd-a357-8c151dd3d5c9"},dimensions:{},type:"WMS",layers:"anf_zpin_en_procedure",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"}]}],metadata:{},mixed:!0},{id:334,name:"env_zones_protegees_communautaires",children:[{id:146,name:"env_natura2000",children:[{id:1915,name:"anf_communes_copil_2020",metadata:{is_queryable:!0,metadata_id:"e0369dfa-0219-4a60-84c4-4ce60cec0a02"},dimensions:{},type:"WMS",layers:"anf_communes_copil_2020",imageType:"image/png",style:"default",childLayers:[{name:"anf_communes_copil_2020__COMMUNES_COPIL_2020"}]},{id:540,name:"natura2000_habitats",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"a38326c1-3d68-43da-9883-a80763ee06e9"},dimensions:{},type:"WMS",layers:"natura2000_habitats",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_habitats__1"}]},{id:533,name:"natura2000_oiseaux",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"},dimensions:{},type:"WMS",layers:"natura2000_oiseaux",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_oiseaux__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2114,name:"eau_Hochwassergefahrenkarten_2021",children:[{id:2117,name:"eau_Hochwassergefahrenkarten_HQ10_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"153130ef-8255-4bce-bca0-d2359d277995"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ10_2021",imageType:"image/png"},{id:2118,name:"eau_Hochwassergefahrenkarten_HQ100_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cdb4137d-822f-4888-8a51-4596480970fe"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ100_2021",imageType:"image/png"},{id:2119,name:"eau_Hochwassergefahrenkarten_HQext_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cd0f52f7-7226-4748-95e0-b77025284423"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0}],metadata:{is_expanded:!0},mixed:!0},{id:2846,name:"Couches récentes",children:[{id:1734,name:"log_prix_app",children:[{id:1739,name:"log_prix_app_existants",metadata:{is_queryable:!0,legend_name:"logt_prix_app_exist",metadata_id:"9679921a-f90e-4d26-9918-96e66225a171"},dimensions:{},type:"WMS",layers:"log_prix_app_existants",imageType:"image/png",style:"default",childLayers:[{name:"log_prix_app_existants__21"}]},{id:1740,name:"log_prix_app_en_construction",metadata:{is_queryable:!0,legend_name:"logt_prix_app_enconstruction",metadata_id:"bbb36662-64ba-4d2e-a9a4-7ab00d0bb264"},dimensions:{},type:"WMS",layers:"log_prix_app_en_construction",imageType:"image/png",style:"default",childLayers:[{name:"log_prix_app_en_construction__20"}]}],metadata:{},mixed:!0},{id:1735,name:"log_loyers",children:[{id:1741,name:"log_loyers_app",metadata:{is_queryable:!0,legend_name:"logt_loyers_app",metadata_id:"2c3dc437-77ac-4030-a8d0-f61fd12e8f5e"},dimensions:{},type:"WMS",layers:"log_loyers_app",imageType:"image/png",style:"default",childLayers:[{name:"log_loyers_app__18"}]},{id:1742,name:"log_loyers_maisons",metadata:{is_queryable:!0,legend_name:"logt_loyers_maisons",metadata_id:"f914e59b-6684-4a94-b5ec-b5a782708371"},dimensions:{},type:"WMS",layers:"log_loyers_maisons",imageType:"image/png",style:"default",childLayers:[{name:"log_loyers_maisons__17"}]}],metadata:{},mixed:!0},{id:2835,name:"ortho2023_IR",metadata:{exclusion:'["exclusion_ortho2023IR","exclusion_ortho2023IR_bati"]',metadata_id:"3bb6099a-67f2-4243-b820-ffaeb03e439b"},dimensions:{},type:"WMS",layers:"ortho2023_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2023_IR__0"}]},{id:2812,name:"aev_pacte_climat_2023",metadata:{is_queryable:!0,legend_name:"aev:klimapakt2023",metadata_id:"223a6d2c-ac2c-4b95-9beb-900fd9b3e168"},dimensions:{},type:"WMS",layers:"aev_pacte_climat_2023",imageType:"image/png",style:"default",childLayers:[{name:"aev_pacte_climat_2023__10"}]},{id:2794,name:"eau_restrictions_forages_prives_prelevement",metadata:{legend_name:"eau:restrictions_nouveaux_forages_prives",metadata_id:"b2f60fc1-c2e8-4472-a8e2-4e11a862b257"},dimensions:{},type:"WMS",layers:"eau_restrictions_forages_prives_prelevement",imageType:"image/png",style:"default",childLayers:[{name:"eau_restrictions_forages_prives_prelevement__475"}]}],metadata:{is_expanded:!1},mixed:!0},{id:820,name:"API_ONLY_LAYERS",children:[{id:1363,name:"reagis",metadata:{is_queryable:!0,metadata_id:"aafa412b-a2df-428e-a6d2-19a5774c8000"},dimensions:{},type:"WMS",layers:"reagis",imageType:"image/png",style:"dfault",childLayers:[{name:"reagis__POI"}]},{id:1375,name:"makerspaces",metadata:{is_queryable:!0,metadata_id:"4344ba7d-463c-499f-8a15-29e8baf46d9a"},dimensions:{},type:"WMS",layers:"makerspaces",imageType:"image/png",style:"default",childLayers:[{name:"makerspaces__POI"}]},{id:1376,name:"parcels_daily",metadata:{is_queryable:!0,metadata_id:"205a55db-473d-4f0e-8fbb-265dcb4dd8e2"},dimensions:{},type:"WMS",layers:"parcels_daily",imageType:"image/png",style:"default",childLayers:[{name:"parcels_daily__PARCELLES"}]},{id:1459,name:"OSM_MQ",metadata:{attribution:'&copy; <a href="https://www.mapzen.com/rights">CARTO</a>  &copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors for data outside of Luxembourg',metadata_id:"537f7a04-3d75-4f03-9ac4-7212ad78219c"},dimensions:{},type:"WMS",layers:"OSM_MQ",imageType:"image/png",style:"default",childLayers:[{name:"OSM_MQ__category"}]},{id:1798,name:"sante_infrastructures_covid19",metadata:{is_queryable:!0,legend_name:"sante_infrastructures_covid19",metadata_id:"3f86620b-cb97-49fb-a363-898575f6628c",start_opacity:.9},dimensions:{},type:"WMS",layers:"1798",imageType:"image/png",style:"default",childLayers:[{name:"sante_infrastructures_covid19__POI"}]},{id:1800,name:"sip_theatres",metadata:{is_queryable:!0,metadata_id:"6745d7eb-93e3-4f55-be5f-2286903e46f0",start_opacity:.9},dimensions:{},type:"WMS",layers:"1800",imageType:"image/png",style:"default",childLayers:[{name:"sip_theatres__POI"}]},{id:1960,name:"stations_sps_Lux",metadata:{},dimensions:{},type:"WMS",layers:"1078",imageType:"image/png",style:"default",childLayers:[{name:"stations_sps_Lux__POI"}]},{id:2575,name:"asta_uferrandstreifen",metadata:{is_queryable:!0,metadata_id:"b8f5042b-793f-4d78-a96a-b9a7c8837c7c"},dimensions:{},type:"WMS",layers:"asta_uferrandstreifen",imageType:"image/png",childLayers:[{name:"asta_uferrandstreifen__0"}]},{id:2709,name:"geo_carte_geol_harmonisee_forage_virtuel",metadata:{is_queryable:!0,legend_name:"geol:geologie_harmonisee",return_clicked_point:"true"},dimensions:{},type:"WMS",layers:"geo_carte_geol_harmonisee_forage_virtuel",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_geol_harmonisee_forage_virtuel__6"},{name:"geo_carte_geol_harmonisee_forage_virtuel__1"},{name:"geo_carte_geol_harmonisee_forage_virtuel__2"},{name:"geo_carte_geol_harmonisee_forage_virtuel__3"}]},{id:2710,name:"meteolux_meteo_en_europe",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"meteolux_meteo_en_europe",imageType:"image/png",style:"default",childLayers:[{name:"meteolux_meteo_en_europe__0"}]},{id:2711,name:"meteolux_meteo_gr",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"meteolux_meteo_gr",imageType:"image/png",style:"default",childLayers:[{name:"meteolux_meteo_gr__1"}]},{id:2787,name:"ortho_1967",metadata:{metadata_id:"9be42a5c-7a6f-46b5-8815-8adb17e6aff6"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_1967",imageType:"image/jpeg"},{id:2825,name:"geoportail_minecraft_exports",metadata:{is_queryable:!0,metadata_id:"0fedc058-9bcb-4abf-a32b-53af46b7b3fd",start_opacity:.7},dimensions:{},type:"WMS",layers:"geoportail_minecraft_exports",imageType:"image/png",childLayers:[{name:"geoportail_minecraft_exports__0"}]},{id:2836,name:"map_new-geoportail-lu-roadmap",metadata:{},dimensions:{},type:"WMTS",url:"https://maptiler.geoportail.lu/api/maps/new-geoportail-lu-roadmap/WMTSCapabilities.xml",style:"default",matrixSet:"map_new-geoportail-lu-roadmap",layer:"map_new-geoportail-lu-roadmap",imageType:"image/jpeg"},{id:2842,name:"test_sproochatlas_audio",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"test_sproochatlas_audio",imageType:"image/png",style:"default",childLayers:[{name:"test_sproochatlas_audio__1"},{name:"test_sproochatlas_audio__2"},{name:"test_sproochatlas_audio__23"},{name:"test_sproochatlas_audio__24"},{name:"test_sproochatlas_audio__25"}]},{id:2868,name:"aev_enoise_hotspots_2021_major_roads",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"aev_enoise_hotspots_2021_major_roads",imageType:"image/png",style:"default",childLayers:[{name:"aev_enoise_hotspots_2021_major_roads__9"}]},{id:2869,name:"aev_enoise_hotspots_2021_major_railways",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"aev_enoise_hotspots_2021_major_railways",imageType:"image/png",style:"default",childLayers:[{name:"aev_enoise_hotspots_2021_major_railways__8"}]},{id:2870,name:"aev_enoise_hotspots_2021_agglo_lux",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"aev_enoise_hotspots_2021_agglo_lux",imageType:"image/png",style:"default",childLayers:[{name:"aev_enoise_hotspots_2021_agglo_lux__7"}]},{id:2871,name:"aev_enoise_hotspots_2021_agglo_sud",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"aev_enoise_hotspots_2021_agglo_sud",imageType:"image/png",style:"default",childLayers:[{name:"aev_enoise_hotspots_2021_agglo_sud__6"}]},{id:2872,name:"aev_enoise_batiments_sensibles_2021",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"aev_enoise_batiments_sensibles_2021",imageType:"image/png",style:"default",childLayers:[{name:"aev_enoise_batiments_sensibles_2021__12"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{ol3d_options:{cesium3DTileStyle:{show:"${id} !== 'gml1c41b6db-cb10-4593-9eed-62b660c786b9' && ${id} !== 'gml6a0ef1e9-a3f5-4962-84b0-e776b0eb9b21'"}}}},{id:1732,name:"logement",icon:"https://migration.geoportail.lu/static/ddc9f661fc1b496c919d096d89f6f3fb/images/blank.png",children:[{id:1733,name:"log_prix",children:[{id:1734,name:"log_prix_app",children:[{id:1739,name:"log_prix_app_existants",metadata:{is_queryable:!0,legend_name:"logt_prix_app_exist",metadata_id:"9679921a-f90e-4d26-9918-96e66225a171"},dimensions:{},type:"WMS",layers:"log_prix_app_existants",imageType:"image/png",style:"default",childLayers:[{name:"log_prix_app_existants__21"}]},{id:1740,name:"log_prix_app_en_construction",metadata:{is_queryable:!0,legend_name:"logt_prix_app_enconstruction",metadata_id:"bbb36662-64ba-4d2e-a9a4-7ab00d0bb264"},dimensions:{},type:"WMS",layers:"log_prix_app_en_construction",imageType:"image/png",style:"default",childLayers:[{name:"log_prix_app_en_construction__20"}]}],metadata:{},mixed:!0},{id:1735,name:"log_loyers",children:[{id:1741,name:"log_loyers_app",metadata:{is_queryable:!0,legend_name:"logt_loyers_app",metadata_id:"2c3dc437-77ac-4030-a8d0-f61fd12e8f5e"},dimensions:{},type:"WMS",layers:"log_loyers_app",imageType:"image/png",style:"default",childLayers:[{name:"log_loyers_app__18"}]},{id:1742,name:"log_loyers_maisons",metadata:{is_queryable:!0,legend_name:"logt_loyers_maisons",metadata_id:"f914e59b-6684-4a94-b5ec-b5a782708371"},dimensions:{},type:"WMS",layers:"log_loyers_maisons",imageType:"image/png",style:"default",childLayers:[{name:"log_loyers_maisons__17"}]}],metadata:{},mixed:!0},{id:1736,name:"log_prix_terrains",children:[{id:1743,name:"log_prix_median_terrain_15_17",metadata:{is_queryable:!0,legend_name:"logt_prix_median_terrain",metadata_id:"3d5b4a58-3817-41fe-b2db-9310fa605635"},dimensions:{},type:"WMS",layers:"log_prix_median_terrain_15_17",imageType:"image/png",style:"default",childLayers:[{name:"log_prix_median_terrain_15_17__14"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1737,name:"log_potentiel_foncier",children:[{id:1744,name:"log_superficie_2016",metadata:{is_queryable:!0,legend_name:"logt_superficie_dispo",metadata_id:"c3fb1ec8-10d3-4e2b-9272-bb0a7396cdb5"},dimensions:{},type:"WMS",layers:"log_superficie_2016",imageType:"image/png",style:"default",childLayers:[{name:"log_superficie_2016__12"}]},{id:1745,name:"log_superficie_selon_type_2016",metadata:{is_queryable:!0,legend_name:"logt_superficie_selon_type",metadata_id:"8c6408ca-4195-4cf0-b4bc-8c095f372c42"},dimensions:{},type:"WMS",layers:"log_superficie_selon_type_2016",imageType:"image/png",style:"default",childLayers:[{name:"log_superficie_selon_type_2016__11"}]}],metadata:{},mixed:!0},{id:1738,name:"log_consommation_fonciere",children:[{id:1746,name:"log_superficie_consommee",metadata:{is_queryable:!0,legend_name:"logt_superficie_consommee",metadata_id:"6766fa1f-26fe-402b-9f21-e3d6e903f13b"},dimensions:{},type:"WMS",layers:"log_superficie_consommee",imageType:"image/png",style:"default",childLayers:[{name:"log_superficie_consommee__9"}]},{id:1747,name:"log_superficie_reconstruite",metadata:{is_queryable:!0,legend_name:"logt_superficie_reconstruite",metadata_id:"ea8570b2-f85b-4445-a5d1-a63ac01fa2c1"},dimensions:{},type:"WMS",layers:"log_superficie_reconstruite",imageType:"image/png",style:"default",childLayers:[{name:"log_superficie_reconstruite__8"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{display_in_switcher:!0}},{id:1833,name:"energie",icon:"https://migration.geoportail.lu/static/ddc9f661fc1b496c919d096d89f6f3fb/images/blank.png",children:[{id:1842,name:"energie_solaire_group",children:[{id:1821,name:"myenergy_solarkataster",children:[{id:1813,name:"myenergy_solarkataster_luxemburg_solar_potentials",metadata:{is_queryable:!0,legend_name:"energie:potentiel_solaire",metadata_id:"97628fac-c53b-4426-a829-b188105b9ead",ogc_info_format:"geojson",ogc_info_srs:"epsg:3857",ogc_query_layers:["st_luxemburg_22_feature_info"]},dimensions:{},type:"WMS",layers:"myenergy_solarkataster_luxemburg_solar_potentials",imageType:"image/png",style:"default",childLayers:[{name:"myenergy_solarkataster_luxemburg_solar_potentials__st_luxemburg_22_solar_potentials"}]},{id:1819,name:"myenergy_solarkataster_luxemburg_feed_in_potential",metadata:{is_queryable:!0,legend_name:"energie:tarifs_injection",metadata_id:"23e8adfb-b628-4a4f-89ea-0f057baf6ec8",ogc_info_format:"geojson",ogc_info_srs:"epsg:3857"},dimensions:{},type:"WMS",layers:"myenergy_solarkataster_luxemburg_feed_in_potential",imageType:"image/png",style:"default",childLayers:[{name:"myenergy_solarkataster_luxemburg_feed_in_potential__st_luxemburg_22_feed_in_potential"}]},{id:1818,name:"myenergy_solarkataster_luxemburg_roofs_above_30_kWp",metadata:{is_queryable:!0,legend_name:"energie:toitures",metadata_id:"a16c315e-abae-4904-95bc-90199393e8ae",ogc_info_format:"geojson",ogc_info_srs:"epsg:3857"},dimensions:{},type:"WMS",layers:"myenergy_solarkataster_luxemburg_roofs_above_30_kWp",imageType:"image/png",style:"default",childLayers:[{name:"myenergy_solarkataster_luxemburg_roofs_above_30_kWp__st_luxemburg_22_roofs_above_30_kWp"}]},{id:152,name:"addresses",metadata:{is_queryable:!0,metadata_id:"28b310e4-b9e1-467c-a28d-fce2e9a96548"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"addresses",imageType:"image/png"}],metadata:{},mixed:!0},{id:1690,name:"Analyse Ensoleillement",children:[{id:1806,name:"Ensoleillement au 15.02",metadata:{is_queryable:!0,legend_name:"uf:ensoleillement_fr",metadata_id:"ece9ef19-b1ff-4acc-9d19-c00f7233d648"},dimensions:{},type:"WMS",layers:"Ensoleillement au 15.02",imageType:"image/png",style:"default",childLayers:[{name:"Ensoleillement au 15.02__15"}]},{id:1683,name:"Ensoleillement au 15.05",metadata:{is_queryable:!0,legend_name:"uf:ensoleillement_fr",metadata_id:"ece9ef19-b1ff-4acc-9d19-c00f7233d648"},dimensions:{},type:"WMS",layers:"Ensoleillement au 15.05",imageType:"image/png",style:"default",childLayers:[{name:"Ensoleillement au 15.05__16"}]},{id:1682,name:"Ensoleillement au 15.08",metadata:{is_queryable:!0,legend_name:"uf:ensoleillement_fr",metadata_id:"89b63cab-2220-4b00-abd5-2bfbe35352cd"},dimensions:{},type:"WMS",layers:"Ensoleillement au 15.08",imageType:"image/png",style:"default",childLayers:[{name:"Ensoleillement au 15.08__17"}]}],metadata:{legend_name:"uf:solar_hiver",metadata_id:"15446cbb-82d8-4d68-b049-a0ad24ae670e"},mixed:!0}],metadata:{},mixed:!0},{id:1843,name:"energie_eolienne_group",children:[{id:1360,name:"aev_emplacements_eoliennes",metadata:{geocatalog_open_data_last_update_date:"2024-10-09T01:02:39.4998465",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"5e739028d2bfb222b781c722",is_queryable:!0,legend_name:"aev:eoliennes",metadata_id:"354c5313-a733-4121-8f0d-5e0932d563b7"},dimensions:{},type:"WMS",layers:"aev_emplacements_eoliennes",imageType:"image/png",style:"default",childLayers:[{name:"aev_emplacements_eoliennes__2"}]}],metadata:{},mixed:!0},{id:1835,name:"ilr_energie_group",children:[{id:2473,name:"ilr_energie_canton_commune",children:[{id:1836,name:"ilr_energie_biogas",metadata:{is_queryable:!0,legend_name:"energie:ilr:biogaz",metadata_id:"3caf3f4a-f492-4635-8c8e-b1b7ad37ae24-intranet",start_opacity:.7},dimensions:{},type:"WMS",layers:"ilr_energie_biogas",imageType:"image/png",style:"default",childLayers:[{name:"ilr_energie_biogas__1"},{name:"ilr_energie_biogas__2"},{name:"ilr_energie_biogas__0"}]},{id:1837,name:"ilr_energie_biomasse",metadata:{is_queryable:!0,legend_name:"energie:ilr:biomasse",metadata_id:"021ba8d1-2af9-45b7-8e30-c461ae56416a",start_opacity:.7},dimensions:{},type:"WMS",layers:"ilr_energie_biomasse",imageType:"image/png",style:"default",childLayers:[{name:"ilr_energie_biomasse__3"},{name:"ilr_energie_biomasse__4"},{name:"ilr_energie_biomasse__0"}]},{id:1838,name:"ilr_energie_cogeneration",metadata:{is_queryable:!0,legend_name:"energie:ilr:cogeneration",metadata_id:"71a854b4-010d-48a4-acc1-8eddc2bb87c1-intranet",start_opacity:.7},dimensions:{},type:"WMS",layers:"ilr_energie_cogeneration",imageType:"image/png",style:"default",childLayers:[{name:"ilr_energie_cogeneration__5"},{name:"ilr_energie_cogeneration__6"},{name:"ilr_energie_cogeneration__0"}]},{id:1839,name:"ilr_energie_eolienne",metadata:{is_queryable:!0,legend_name:"energie:ilr:eolienne",metadata_id:"97ce42fc-848c-4c1c-a361-61a9736ae97f-intranet",start_opacity:.7},dimensions:{},type:"WMS",layers:"ilr_energie_eolienne",imageType:"image/png",style:"default",childLayers:[{name:"ilr_energie_eolienne__7"},{name:"ilr_energie_eolienne__8"},{name:"ilr_energie_eolienne__0"}]},{id:1840,name:"ilr_energie_hydroelectrique",metadata:{is_queryable:!0,legend_name:"energie:ilr:hydroelectrique",metadata_id:"a96e0c84-8dcc-49af-a753-7321072aa198-intranet",start_opacity:.7},dimensions:{},type:"WMS",layers:"ilr_energie_hydroelectrique",imageType:"image/png",style:"default",childLayers:[{name:"ilr_energie_hydroelectrique__9"},{name:"ilr_energie_hydroelectrique__10"},{name:"ilr_energie_hydroelectrique__0"}]},{id:1841,name:"ilr_energie_photovoltaique",metadata:{is_queryable:!0,legend_name:"energie:ilr:solaire",metadata_id:"1bd8193e-5728-4020-be60-9677f3a2c2d6-intranet",start_opacity:.7},dimensions:{},type:"WMS",layers:"ilr_energie_photovoltaique",imageType:"image/png",style:"default",childLayers:[{name:"ilr_energie_photovoltaique__11"},{name:"ilr_energie_photovoltaique__12"},{name:"ilr_energie_photovoltaique__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1847,name:"energie_disponibilite",children:[{id:1494,name:"gaz_naturel",metadata:{is_queryable:!0,legend_name:"gaz",metadata_id:"9e04e366-fcb7-4836-8d09-41b20f280cb0",start_opacity:.75},dimensions:{},type:"WMS",layers:"gaz_naturel",imageType:"image/png",style:"default",childLayers:[{name:"gaz_naturel__1"},{name:"gaz_naturel__3"}]}],metadata:{},mixed:!0},{id:1845,name:"electromobilite_group",children:[{id:1381,name:"chargy",metadata:{is_queryable:!0,legend_name:"chargy",metadata_id:"801d732a-c285-4fcd-a043-c5220d6d7eef"},dimensions:{},type:"WMS",layers:"chargy",imageType:"image/png",style:"default",childLayers:[{name:"chargy__chargy"}]},{id:2707,name:"mmtp_electromobilite_AC",metadata:{is_queryable:!0,metadata_id:"08885ef4-d534-47d4-8b93-2883c71a8452"},dimensions:{},type:"WMS",layers:"mmtp_electromobilite_AC",imageType:"image/png",style:"default",childLayers:[{name:"mmtp_electromobilite_AC__0"}]},{id:2708,name:"mmtp_electromobilite_DC",metadata:{is_queryable:!0,metadata_id:"624d34e4-1192-40bb-871a-e6c8720d766b"},dimensions:{},type:"WMS",layers:"mmtp_electromobilite_DC",imageType:"image/png",style:"default",childLayers:[{name:"mmtp_electromobilite_DC__2"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{display_in_switcher:!0}},{id:1834,name:"np_our",icon:"https://migration.geoportail.lu/static/ddc9f661fc1b496c919d096d89f6f3fb/images/blank.png",children:[{id:1860,name:"npour_basisdaten",children:[{id:1861,name:"npour_basisdaten_verwaltungseinheiten",children:[{id:302,name:"communes",metadata:{is_queryable:!0,linked_layers:["269"],metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2049"},dimensions:{},type:"WMS",layers:"communes",imageType:"image/png",style:"default",childLayers:[{name:"communes__COMMUNES"}]},{id:269,name:"communes_labels",metadata:{is_queryable:!0,metadata_id:"17c7d883-ff7f-4b48-a894-46bea40d2e49"},dimensions:{},type:"WMS",layers:"communes_labels",imageType:"image/png",style:"default",childLayers:[{name:"communes_labels__COMMUNES_LABELS"}]},{id:329,name:"cantons",metadata:{is_queryable:!0,metadata_id:"e8a034e8-f986-4745-a848-b7ef30ce2740"},dimensions:{},type:"WMS",layers:"CANTONS",imageType:"image/png",style:"default",childLayers:[{name:"cantons__CANTONS"}]},{id:346,name:"cantons_labels",metadata:{is_queryable:!0,metadata_id:"3af20a80-be4a-4819-a42b-18e49af799aa"},dimensions:{},type:"WMS",layers:"cantons_labels",imageType:"image/png",style:"default",childLayers:[{name:"cantons_labels__CANTONS_LABELS"}]},{id:744,name:"tour_ort",metadata:{is_queryable:!0,metadata_id:"44dbfde5-664e-4e45-8802-3d60b52eb9cb",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_ort",imageType:"image/png",style:"default",childLayers:[{name:"tour_ort__3"}]},{id:746,name:"tour_leader",metadata:{is_queryable:!0,metadata_id:"a48aec89-7341-459e-a7d3-0e572982b255",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_leader",imageType:"image/png",style:"default",childLayers:[{name:"tour_leader__0"}]},{id:747,name:"tour_parcsnaturels",metadata:{is_queryable:!0,legend_name:"parcnaturel",metadata_id:"f519c4e7-4459-49b5-b8c1-569328252d44",start_opacity:.7},dimensions:{},type:"WMS",layers:"tour_parcnaturels",imageType:"image/png",style:"default",childLayers:[{name:"tour_parcsnaturels__4"}]}],metadata:{},mixed:!0},{id:1862,name:"npour_basisdaten_adressen",children:[{id:152,name:"addresses",metadata:{is_queryable:!0,metadata_id:"28b310e4-b9e1-467c-a28d-fce2e9a96548"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"addresses",imageType:"image/png"}],metadata:{},mixed:!0},{id:1863,name:"npour_basisdaten_topo",children:[{id:223,name:"topo_250k",metadata:{metadata_id:"e1f601a5-ed8f-4043-8719-0cad50cbb483"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_250k",imageType:"image/png"},{id:1730,name:"topo_100k_2019",metadata:{legend_name:"topo_100k_sans_tour",metadata_id:"ce051f08-bca6-43c0-af7b-5fcf3e02376e"},dimensions:{},type:"WMS",layers:"topo_100k_2019",imageType:"image/png",style:"default",childLayers:[{name:"topo_100k_2019__topo_100k"}]},{id:1727,name:"topo_50k_2019",metadata:{legend_name:"topo_50k_sans_tour",metadata_id:"abc505e1-224c-455e-9e7f-4f094eb4e7b0"},dimensions:{},type:"WMS",layers:"topo_50k_2019",imageType:"image/png",style:"default",childLayers:[{name:"topo_50k_2019__50K-2019-LUX_avec_ETRANGER"}]},{id:206,name:"topo_20k",metadata:{legend_name:"topo_20k",metadata_id:"ea998ae8-731a-43bc-aa9f-171684f97602"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_20k",imageType:"image/png"},{id:149,name:"topo_tour_20k",metadata:{legend_name:"topo_tour_20k",metadata_id:"1173_"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_tour_20k",imageType:"image/png"},{id:195,name:"topo_5k",metadata:{exclusion:"[32,42]",legend_name:"topo_5k",metadata_id:"270_2012"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_5k",imageType:"image/png"}],metadata:{},mixed:!0},{id:178,name:"luft_und_satellitenbilder",children:[{id:2592,name:"act_ortho_time",metadata:{exclusion:'["exclusion_ortho2022","exclusion_ortho2022_bati"]',metadata_id:"1adb95b0-d0a5-4afa-936a-c9faa9edba2c",time_config:'{"default_time":"2023-08","time_links":{"2001-08":"ortho_2001","2004-08":"ortho_2004","2007-08":"ortho_2007","2010-08":"ortho_2010","2013-08":"ortho_2013","2016-08":"ortho_2016","2017-08":"ortho_2017","2018-08":"ortho_2018","2019-01":"ortho_2019_winter","2019-08":"ortho_2019","2020-08":"ortho_2020","2021-08":"ortho_2021","2022-08":"ortho_2022","2023-08":"ortho_2023"}}',time_layers:{"2001-08-01T00:00:00Z":"ortho_2001","2004-08-01T00:00:00Z":"ortho_2004","2007-08-01T00:00:00Z":"ortho_2007","2010-08-01T00:00:00Z":"ortho_2010","2013-08-01T00:00:00Z":"ortho_2013","2016-08-01T00:00:00Z":"ortho_2016","2017-08-01T00:00:00Z":"ortho_2017","2018-08-01T00:00:00Z":"ortho_2018","2019-01-01T00:00:00Z":"ortho_2019_winter","2019-08-01T00:00:00Z":"ortho_2019","2020-08-01T00:00:00Z":"ortho_2020","2021-08-01T00:00:00Z":"ortho_2021","2022-08-01T00:00:00Z":"ortho_2022","2023-08-01T00:00:00Z":"ortho_2023"}},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"act_ortho_time",imageType:"image/jpeg",time:{minValue:"2001-08-01T00:00:00Z",maxValue:"2023-08-01T00:00:00Z",values:["2001-08-01T00:00:00Z","2004-08-01T00:00:00Z","2007-08-01T00:00:00Z","2010-08-01T00:00:00Z","2013-08-01T00:00:00Z","2016-08-01T00:00:00Z","2017-08-01T00:00:00Z","2018-08-01T00:00:00Z","2019-01-01T00:00:00Z","2019-08-01T00:00:00Z","2020-08-01T00:00:00Z","2021-08-01T00:00:00Z","2022-08-01T00:00:00Z","2023-08-01T00:00:00Z"],resolution:"month",minDefValue:"2023-08-01T00:00:00Z",maxDefValue:null,mode:"value",widget:"slider"}},{id:2792,name:"ortho_2023",metadata:{exclusion:'["exclusion_ortho2023","exclusion_ortho2023_bati"]',metadata_id:"742d2a2e-eb7a-4a0b-a6d8-00d70831ef04"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2023",imageType:"image/jpeg"},{id:2537,name:"ortho_2022",metadata:{exclusion:'["exclusion_ortho2022","exclusion_ortho2022_bati"]',metadata_id:"63f18835-55ac-448c-a0ea-dc998933077b"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2022",imageType:"image/jpeg"},{id:2272,name:"ortho_2021",metadata:{exclusion:"[121,221]",metadata_id:"ea0bd2ff-b743-4f3a-bd9b-450976563de9"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2021",imageType:"image/jpeg"},{id:2056,name:"ortho_2020",metadata:{exclusion:"[119,219]",metadata_id:"87870b8a-10a1-4c33-bf50-7efe851fd450"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2020",imageType:"image/jpeg"},{id:1784,name:"ortho_2019",metadata:{exclusion:"[116,216]",metadata_id:"97c88ef6-6c64-4cb0-a134-06bb42b2b448"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2019",imageType:"image/jpeg"},{id:1789,name:"ortho_2019_winter",metadata:{exclusion:"[118,218]",metadata_id:"d6cc500f-b802-4be2-a49c-73f3eb2d131e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2019_winter",imageType:"image/jpeg"},{id:1527,name:"ortho_2018",metadata:{exclusion:"[113,213]",metadata_id:"6fde72c4-802f-4663-be74-5fa5901cb4f0"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2018",imageType:"image/jpeg"},{id:1371,name:"ortho_2017",metadata:{exclusion:"[111,211]",metadata_id:"1cdae616-1a7a-49d5-b35d-05864891641f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2017",imageType:"image/jpeg"},{id:745,name:"ortho_2016",metadata:{exclusion:"[107,207]",metadata_id:"bba79b6d-4205-4ce4-98e4-7b7922afcd55"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2016",imageType:"image/jpeg"},{id:360,name:"ortho_2013",metadata:{exclusion:"[106,206]",metadata_id:"ced4a3dd-135e-43d0-86b9-2318982581f7"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2013",imageType:"image/jpeg"},{id:342,name:"ortho_2010",metadata:{exclusion:"[105,205]",metadata_id:"0faf4bdb-a54b-42d7-942c-4e52fa66e963"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2010",imageType:"image/jpeg"},{id:231,name:"ortho_2007",metadata:{exclusion:"[101,201]",metadata_id:"3be3d98e-7997-4ff6-8d77-e393a5fc4fdd"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2007",imageType:"image/jpeg"},{id:224,name:"ortho_2004",metadata:{exclusion:"[103,203]",metadata_id:"a185f78a-ca9c-43f8-8d06-b1abba8ff056"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2004",imageType:"image/jpeg"},{id:225,name:"ortho_2001",metadata:{exclusion:"[104,204]",metadata_id:"e6ff269c-1c7c-401f-a90b-b805e80a046e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2001",imageType:"image/jpeg"},{id:2787,name:"ortho_1967",metadata:{metadata_id:"9be42a5c-7a6f-46b5-8815-8adb17e6aff6"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_1967",imageType:"image/jpeg"},{id:345,name:"topo_decoupage_ortho",metadata:{is_queryable:!0,metadata_id:"3a35eb1a-9eaa-4f90-927f-2891d5e865f7"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_decoupage_ortho",imageType:"image/png"},{id:292,name:"wg_ikonos_satellitendaten",metadata:{legend_name:"wg:ikonos_satellitendaten",metadata_id:"db0eea79-114a-4e61-a1f2-7e064f92cdd3"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"wg_ikonos_satellitendaten",imageType:"image/png"},{id:341,name:"aero_1951_10k",metadata:{is_queryable:!0,metadata_id:"16586649-8e46-4b04-b75c-5537a4bf214e"},dimensions:{},type:"WMS",layers:"aero_1951_10k",imageType:"image/png",style:"default",childLayers:[{name:"aero_1951_10k__1951_10k"}]},{id:229,name:"aero_1951_25k",metadata:{is_queryable:!0,metadata_id:"b3b5fc05-323c-4f0b-804c-a4c186d62a96"},dimensions:{},type:"WMS",layers:"aero_1951_25k",imageType:"image/png",style:"default",childLayers:[{name:"aero_1951_25k__1951_25k"}]},{id:140,name:"aero_1963_20k",metadata:{is_queryable:!0,metadata_id:"56b65f04-d3ab-45b6-9e93-95c8c9524c3e"},dimensions:{},type:"WMS",layers:"aero_1963_20k",imageType:"image/png",style:"default",childLayers:[{name:"aero_1963_20k__1963_20k"}]},{id:665,name:"aero_1977_30k",metadata:{is_queryable:!0,metadata_id:"d9dd951e-7345-4ba2-9a76-ce54305edf2f"},dimensions:{},type:"WMS",layers:"aero_1977_30k",imageType:"image/png",style:"default",childLayers:[{name:"aero_1977_30k__1977_30k"}]},{id:743,name:"aero_1987_30k",metadata:{is_queryable:!0,metadata_id:"98b63794-8cb1-42ff-9872-214f990ec8cd"},dimensions:{},type:"WMS",layers:"aero_1987_30k",imageType:"image/png",style:"defaults",childLayers:[{name:"aero_1987_30k__1987_30k"}]},{id:748,name:"aero_1994_30k",metadata:{is_queryable:!0,metadata_id:"abf7f6f5-8647-4317-98f6-8d4f5cd38585"},dimensions:{},type:"WMS",layers:"aero_1994_30k",imageType:"image/png",style:"defaults",childLayers:[{name:"aero_1994_30k__1994_30k"}]},{id:790,name:"Orthophotos Infrarouge",children:[{id:2835,name:"ortho2023_IR",metadata:{exclusion:'["exclusion_ortho2023IR","exclusion_ortho2023IR_bati"]',metadata_id:"3bb6099a-67f2-4243-b820-ffaeb03e439b"},dimensions:{},type:"WMS",layers:"ortho2023_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2023_IR__0"}]},{id:2595,name:"ortho2022_IR",metadata:{exclusion:'["exclusion_ortho2022IR","exclusion_ortho2022IR_bati"]',metadata_id:"c58ceaa0-d36d-4edf-ab68-ed1040bea10c"},dimensions:{},type:"WMS",layers:"ortho2022_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2022_IR__0"}]},{id:2283,name:"ortho2021_IR",metadata:{exclusion:"[122,222]",metadata_id:"067dc519-f507-45db-8e7a-f3ccc9125bc5"},dimensions:{},type:"WMS",layers:"ortho2021_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2021_IR__3"},{name:"ortho2021_IR__2"},{name:"ortho2021_IR__1"},{name:"ortho2021_IR__0"}]},{id:2089,name:"ortho2020_IR",metadata:{exclusion:"[120,220]",metadata_id:"134fb490-c022-476d-b484-dc652ae8c626"},dimensions:{},type:"WMS",layers:"ortho2020_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2020_IR__4"},{name:"ortho2020_IR__3"},{name:"ortho2020_IR__2"},{name:"ortho2020_IR__1"}]},{id:1785,name:"ortho2019_IR",metadata:{exclusion:"[117,217]",metadata_id:"3dfd031a-1721-4f35-b358-25062d5d4c26"},dimensions:{},type:"WMS",layers:"ortho2019_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2019_IR__9"},{name:"ortho2019_IR__8"},{name:"ortho2019_IR__7"},{name:"ortho2019_IR__6"}]},{id:1529,name:"ortho2018_IR",metadata:{exclusion:"[114,214]",metadata_id:"2edf6bcb-2a1c-4b8c-8488-56000133abb4"},dimensions:{},type:"WMS",layers:"ortho2018_IR",imageType:"image/png",style:"default",childLayers:[{name:"ortho2018_IR__14"},{name:"ortho2018_IR__13"},{name:"ortho2018_IR__12"},{name:"ortho2018_IR__11"}]},{id:1372,name:"ortho_2017_irc",metadata:{exclusion:"[112,212]",metadata_id:"659a3236-a22e-44ae-9fa3-025cdf5d0043"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2017_irc",imageType:"image/jpeg"},{id:793,name:"ortho_2016_irc",metadata:{exclusion:"[110,210]",is_queryable:!0,metadata_id:"c313da75-7d8b-4570-9db5-bb6add56309e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2016_irc",imageType:"image/jpeg"},{id:792,name:"ortho_2013_irc",metadata:{exclusion:"[109,209]",is_queryable:!0,metadata_id:"649b34a1-a195-40b4-81c9-0100343b9661"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2013_irc",imageType:"image/jpeg"},{id:791,name:"ortho_2010_irc",metadata:{exclusion:"[108,208]",is_queryable:!0,metadata_id:"728ffc2a-9062-4822-8596-01f0e93f6b40"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2010_irc",imageType:"image/jpeg"}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1865,name:"npour_poi_group",children:[{id:1879,name:"npour_poi_propres",children:[{id:1880,name:"npour_poi_admin",metadata:{is_queryable:!0,metadata_id:"d5e79fbd-4a11-428f-a7be-4a765508e791"},dimensions:{},type:"WMS",layers:"npour_poi_admin",imageType:"image/png",childLayers:[{name:"npour_poi_admin__14"}]},{id:1881,name:"npour_poi_batiments_reli",metadata:{is_queryable:!0,metadata_id:"a3384282-5913-4610-b28e-72fa46ea18ea"},dimensions:{},type:"WMS",layers:"npour_poi_batiments_reli",imageType:"image/png",childLayers:[{name:"npour_poi_batiments_reli__12"}]},{id:1894,name:"npour_poi_culture",metadata:{is_queryable:!0,metadata_id:"d4b40114-f351-484d-9b09-bbfc0fd20abd"},dimensions:{},type:"WMS",layers:"npour_poi_culture",imageType:"image/png",childLayers:[{name:"npour_poi_culture__2"}]},{id:1883,name:"npour_poi_secours",metadata:{is_queryable:!0,metadata_id:"988f5449-959b-488b-acfe-bfb2eee23247"},dimensions:{},type:"WMS",layers:"npour_poi_secours",imageType:"image/png",childLayers:[{name:"npour_poi_secours__0"}]},{id:1884,name:"npour_poi_autres",metadata:{is_queryable:!0,metadata_id:"ed8ad1e0-d4ff-46ee-8c2b-91323f45786b"},dimensions:{},type:"WMS",layers:"npour_poi_autres",imageType:"image/png",childLayers:[{name:"npour_poi_autres__3"}]},{id:1878,name:"npour_poi_transport",metadata:{is_queryable:!0,metadata_id:"3821f8ee-0d90-47a0-b54f-02235af78fc2"},dimensions:{},type:"WMS",layers:"npour_poi_transport",imageType:"image/png",childLayers:[{name:"npour_poi_transport__4"}]},{id:1885,name:"npour_poi_sociale",metadata:{is_queryable:!0,metadata_id:"fa6c56a3-1bb6-4147-916b-956d0ce795e8"},dimensions:{},type:"WMS",layers:"npour_poi_sociale",imageType:"image/png",childLayers:[{name:"npour_poi_sociale__7"}]},{id:1886,name:"npour_poi_enseignement",metadata:{is_queryable:!0,metadata_id:"6b31dedb-5bd7-44f3-a34e-48871adae269"},dimensions:{},type:"WMS",layers:"npour_poi_enseignement",imageType:"image/png",childLayers:[{name:"npour_poi_enseignement__10"}]},{id:1887,name:"npour_poi_sante",metadata:{is_queryable:!0,metadata_id:"f6480b65-fd0e-441d-a5fe-fd240540b57b"},dimensions:{},type:"WMS",layers:"npour_poi_sante",imageType:"image/png",childLayers:[{name:"npour_poi_sante__8"}]},{id:1888,name:"npour_poi_attraction",metadata:{is_queryable:!0,metadata_id:"7e66c353-2a0d-4d58-a782-f2ec67371166"},dimensions:{},type:"WMS",layers:"npour_poi_attraction",imageType:"image/png",childLayers:[{name:"npour_poi_attraction__13"}]},{id:1889,name:"npour_poi_logement",metadata:{is_queryable:!0,metadata_id:"d9f9d25d-2c2e-41a8-84fb-ba6d941ddb05"},dimensions:{},type:"WMS",layers:"npour_poi_logement",imageType:"image/png",childLayers:[{name:"npour_poi_logement__9"}]},{id:1890,name:"npour_poi_gastronomie",metadata:{is_queryable:!0,metadata_id:"54de547d-f500-4985-9893-96f58f9b8bc1"},dimensions:{},type:"WMS",layers:"npour_poi_gastronomie",imageType:"image/png",childLayers:[{name:"npour_poi_gastronomie__1"}]},{id:1891,name:"npour_poi_sport",metadata:{is_queryable:!0,metadata_id:"43b24d55-7198-41f2-86d4-e6203d71ec09"},dimensions:{},type:"WMS",layers:"npour_poi_sport",imageType:"image/png",childLayers:[{name:"npour_poi_sport__6"}]},{id:1892,name:"npour_poi_tourisme",metadata:{is_queryable:!0,metadata_id:"c36ba1cd-0d28-491f-8d51-e268e420a8f9"},dimensions:{},type:"WMS",layers:"npour_poi_tourisme",imageType:"image/png",childLayers:[{name:"npour_poi_tourisme__5"}]},{id:1893,name:"npour_poi_commerce",metadata:{is_queryable:!0,metadata_id:"87c0fcc6-3452-47f7-9b23-0fd9c9f38189"},dimensions:{},type:"WMS",layers:"npour_poi_commerce",imageType:"image/png",childLayers:[{name:"npour_poi_commerce__11"}]}],metadata:{},mixed:!0},{id:684,name:"editus_pois_tourisme",children:[{id:542,name:"editus_poi_299",metadata:{is_queryable:!0,legend_name:"editus_1",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"542",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_299__POI"}]},{id:543,name:"editus_poi_286",metadata:{is_queryable:!0,legend_name:"editus_2",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"543",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_286__POI"}]},{id:544,name:"editus_poi_285",metadata:{is_queryable:!0,legend_name:"editus_3",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"544",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_285__POI"}]},{id:545,name:"editus_poi_287",metadata:{is_queryable:!0,legend_name:"editus_4",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"545",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_287__POI"}]},{id:546,name:"editus_poi_289",metadata:{is_queryable:!0,legend_name:"editus_5",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"546",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_289__POI"}]},{id:547,name:"editus_poi_290",metadata:{is_queryable:!0,legend_name:"editus_6",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"547",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_290__POI"}]},{id:549,name:"editus_poi_291",metadata:{is_queryable:!0,legend_name:"editus_7",metadata_id:"4a04ebff-4954-4c4d-9387-46d3587eccef",start_opacity:.9},dimensions:{},type:"WMS",layers:"549",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_291__POI"}]},{id:550,name:"editus_poi_292",metadata:{is_queryable:!0,legend_name:"editus_8",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"550",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_292__POI"}]},{id:551,name:"editus_poi_293",metadata:{is_queryable:!0,legend_name:"editus_9",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"551",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_293__POI"}]},{id:548,name:"editus_poi_294",metadata:{is_queryable:!0,legend_name:"editus_10",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"548",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_294__POI"}]},{id:552,name:"editus_poi_295",metadata:{is_queryable:!0,legend_name:"editus_11",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"552",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_295__POI"}]},{id:553,name:"editus_poi_296",metadata:{is_queryable:!0,legend_name:"editus_12",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"553",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_296__POI"}]},{id:554,name:"editus_poi_298",metadata:{is_queryable:!0,legend_name:"editus_13",metadata_id:"ae1bc422-5751-4efa-92af-c24287609dbb",start_opacity:.9},dimensions:{},type:"WMS",layers:"554",imageType:"image/png",style:"default",childLayers:[{name:"editus_poi_298__POI"}]}],metadata:{},mixed:!0},{id:2018,name:"tour_erleben_new",children:[{id:2042,name:"tour_tourist_info_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_tourist_info_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_tourist_info_new__7"}]},{id:2030,name:"tour_essen_uebernachten_new",children:[{id:2038,name:"tour_hotels_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_hotels_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_hotels_new__2"}]},{id:2037,name:"tour_camping_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_camping_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_camping_new__11"}]},{id:2036,name:"tour_jugendherberge_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_jugendherberge_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_jugendherberge_new__12"}]},{id:2035,name:"tour_fewo_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_fewo_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_fewo_new__13"}]},{id:2034,name:"tour_bb_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_bb_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_bb_new__14"}]},{id:2033,name:"tour_restaurants_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_restaurants_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_restaurants_new__15"}]}],metadata:{},mixed:!0},{id:2031,name:"tour_kultur_new",children:[{id:2044,name:"tour_burgen_schloesser_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_burgen_schloesser_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_burgen_schloesser_new__16"}]},{id:2043,name:"tour_museen_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_museen_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_museen_new__17"}]},{id:2027,name:"tour_unesco_new",metadata:{is_queryable:!0},dimensions:{},type:"WMS",layers:"tour_unesco_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_unesco_new__category"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1866,name:"npour_wanderwege_group",children:[{id:1867,name:"npour_wanderwege_eigene_group",children:[{id:1895,name:"npour_wanderwege_eigene",metadata:{is_queryable:!0,metadata_id:"ef5983e1-a28f-4770-845a-8fcbd6f22fc0"},dimensions:{},type:"WMS",layers:"npour_wanderwege_eigene",imageType:"image/png",childLayers:[{name:"npour_wanderwege_eigene__15"}]}],metadata:{},mixed:!0},{id:304,name:"tour_quality",children:[{id:189,name:"tour_mullerthal_trail",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"be71ab82-8930-4da7-840d-a99374312093"},dimensions:{},type:"WMS",layers:"tour_mullerthal_trail",imageType:"image/png",style:"default",childLayers:[{name:"tour_mullerthal_trail__category"}]},{id:205,name:"tour_escape_ardenne",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"f01f9d77-cb2e-4189-89a9-df7eed16525b"},dimensions:{},type:"WMS",layers:"tour_escape_ardenne",imageType:"image/png",style:"default",childLayers:[{name:"tour_escape_ardenne__category"}]},{id:250,name:"tour_DeLux",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"df101633-54fb-46bb-9d33-91d241c69ae2"},dimensions:{},type:"WMS",layers:"tour_DeLux",imageType:"image/png",style:"default",childLayers:[{name:"tour_DeLux__category"}]},{id:168,name:"tour_rando_traumschleifen_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"109f2940-b476-4bdd-96a8-7301fa3c7e39"},dimensions:{},type:"WMS",layers:"tour_rando_traumschleifen_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_traumschleifen_new__category"}]}],metadata:{is_expanded:!0},mixed:!0},{id:1868,name:"npour_wanderwege_andere",children:[{id:176,name:"tour_autopedestre",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"1514749f-19e9-4873-9c70-68b34ebc2e30"},dimensions:{},type:"WMS",layers:"tour_autopedestre",imageType:"image/png",style:"default",childLayers:[{name:"tour_autopedestre__category"}]},{id:227,name:"tour_sentiers_nationaux",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"05311fc8-28fa-470c-984e-879a410ce753"},dimensions:{},type:"WMS",layers:"tour_sentiers_nationaux",imageType:"image/png",style:"default",childLayers:[{name:"tour_sentiers_nationaux__category"}]},{id:158,name:"tour_cfl",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"cfa696a6-1c25-4ba5-bde1-beb140776881"},dimensions:{},type:"WMS",layers:"tour_cfl",imageType:"image/png",style:"default",childLayers:[{name:"tour_cfl__category"}]},{id:197,name:"tour_sentiers_ajl",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"c2587c18-ed11-44da-99dd-760a3fd73126"},dimensions:{},type:"WMS",layers:"tour_sentiers_ajl",imageType:"image/png",style:"default",childLayers:[{name:"tour_sentiers_ajl__category"}]},{id:235,name:"tour_sentiers_gr",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"004e728b-6e63-4ab7-9b65-f327eb2f7618"},dimensions:{},type:"WMS",layers:"tour_sentiers_gr",imageType:"image/png",style:"default",childLayers:[{name:"tour_sentiers_gr__category"}]},{id:218,name:"tour_saint_jacques",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"431c5622-7941-482b-a629-42bd1db17dfe"},dimensions:{},type:"WMS",layers:"tour_saint_jacques",imageType:"image/png",style:"default",childLayers:[{name:"tour_saint_jacques__category"}]},{id:316,name:"env_sentiersnature",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"cfc8de82-e187-4547-a1da-83385f86c786"},dimensions:{},type:"WMS",layers:"env_sentiersnature",imageType:"image/png",style:"default",childLayers:[{name:"env_sentiersnature__sentiers_nature"}]},{id:179,name:"tour_sentiers_locaux",children:[{id:177,name:"tour_sentiers_communaux",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"4d39824a-6a5d-4020-bc88-a0bb3d3e28e6"},dimensions:{},type:"WMS",layers:"tour_sentiers_communaux",imageType:"image/png",style:"default",childLayers:[{name:"tour_sentiers_communaux__category"}]},{id:246,name:"tour_sentiers_syndicats",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"3e98c2a3-b991-4b11-b3cc-d18aaf6eac80"},dimensions:{},type:"WMS",layers:"tour_sentiers_syndicats",imageType:"image/png",style:"default",childLayers:[{name:"tour_sentiers_syndicats__category"}]}],metadata:{is_expanded:!0},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1869,name:"npour_radwege_group",children:[{id:281,name:"tour_velo_v2",children:[{id:808,name:"velo_by_pch",metadata:{is_queryable:!0,legend_name:"tour_velo_national",linked_layers:["1713","1714"],metadata_id:"387f6949-0fc4-43a5-b0e6-4e09bdf65225"},dimensions:{},type:"WMS",layers:"velo_by_pch",imageType:"image/png",style:"default",childLayers:[{name:"velo_by_pch__4"},{name:"velo_by_pch__5"}]},{id:512,name:"tour_pistes_velo_mymaps2",metadata:{is_queryable:!0,legend_name:"tour_velo_national",metadata_id:"e9fea021-2aab-4f58-a777-8c7536898d9b"},dimensions:{},type:"WMS",layers:"tour_pistes_velo_mymaps2",imageType:"image/png",style:"default",childLayers:[{name:"tour_pistes_velo_mymaps2__category"}]},{id:809,name:"lvi_circuits_cyclables",metadata:{is_queryable:!0,metadata_id:"e5e9ddf6-dfdb-4d3b-a0e2-d1be2272bf38"},dimensions:{},type:"WMS",layers:"lvi_circuits_cyclables",imageType:"image/png",style:"default",childLayers:[{name:"lvi_circuits_cyclables__category"}]},{id:293,name:"tour_pistes_vtt",metadata:{is_queryable:!0,linked_layers:["2026"],metadata_id:"2ea699a2-dc3c-4bd6-92fc-f7325b0c7fee"},dimensions:{},type:"WMS",layers:"tour_pistes_vtt",imageType:"image/png",style:"default",childLayers:[{name:"tour_pistes_vtt__category"}]},{id:676,name:"tour_velo_route",metadata:{is_queryable:!0,linked_layers:["1713","1714"],metadata_id:"2a07d7fb-ae3e-4385-bf61-b071a7f6ffbd"},dimensions:{},type:"WMS",layers:"tour_velo_route",imageType:"image/png",style:"default",childLayers:[{name:"tour_velo_route__category"}]},{id:1650,name:"unseco_biketour",metadata:{is_queryable:!0,metadata_id:"eda8222e-b76f-4016-8fea-87b27d0f622f"},dimensions:{},type:"WMS",layers:"unseco_biketour",imageType:"image/png",style:"default",childLayers:[{name:"unseco_biketour__category"}]},{id:725,name:"tour_tdl",metadata:{is_queryable:!0,metadata_id:"35226642-3f09-4f98-86b6-6e55316bce53"},dimensions:{},type:"WMS",layers:"tour_tdl",imageType:"image/png",style:"default",childLayers:[{name:"tour_tdl__category"}]},{id:1913,name:"tour_restrictions_velo",children:[{id:1713,name:"chantiers_actuels_pc",metadata:{is_queryable:!0,metadata_id:"7d59f3a6-e8d8-464b-bbf9-73c6ca358a51",start_opacity:1},dimensions:{},type:"WMS",layers:"chantiers_actuels_pc",imageType:"image/png",style:"default",childLayers:[{name:"chantiers_actuels_pc__CHANTIERS_ACTUEL_PC"}]},{id:1714,name:"chantiers_futurs_pc",metadata:{is_queryable:!0,metadata_id:"f6b9df36-5e62-46d1-ae91-c7c58c7e2e45",start_opacity:1},dimensions:{},type:"WMS",layers:"chantiers_futurs_pc",imageType:"image/png",style:"default",childLayers:[{name:"chantiers_futurs_pc__CHANTIERS_FUTUR_PC"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1870,name:"npour_infrastruktur",children:[{id:1871,name:"npour_verkehrsnetze",children:[{id:181,name:"roads",metadata:{legend_name:"road_network:show",linked_layers:["351"],metadata_id:"12627f90-f0f8-41b3-a56a-2e11a232ba59"},dimensions:{},type:"WMS",layers:"roads",imageType:"image/png",style:"default",childLayers:[{name:"roads__ROADS_NOLABELS"}]},{id:351,name:"roads_labels",metadata:{metadata_id:"5d606cae-cbc6-44c3-a465-edb981e44a39"},dimensions:{},type:"WMS",layers:"roads_labels",imageType:"image/png",style:"default",childLayers:[{name:"roads_labels__ROADS_LABELS"}]},{id:147,name:"arrets_bus",metadata:{is_queryable:!0,legend_name:"mobiliteit:arrets_de_bus",linked_layers:["813"],metadata_id:"7318c6e8-bb63-40e0-9e40-46ae7b0dc266"},dimensions:{},type:"WMS",layers:"arrets_bus",imageType:"image/png",style:"default",childLayers:[{name:"arrets_bus__0"},{name:"arrets_bus__1"}]},{id:813,name:"cdt_lignes_all",metadata:{is_queryable:!0,metadata_id:"bbe0523f-374d-4c94-a27d-7ce81d8bae3b"},dimensions:{},type:"WMS",layers:"cdt_lignes_all",imageType:"image/png",style:"default",childLayers:[{name:"cdt_lignes_all__lignes_de_bus_detaillees"},{name:"cdt_lignes_all__lignes_de_bus_detaillees_mymaps"}]},{id:1381,name:"chargy",metadata:{is_queryable:!0,legend_name:"chargy",metadata_id:"801d732a-c285-4fcd-a043-c5220d6d7eef"},dimensions:{},type:"WMS",layers:"chargy",imageType:"image/png",style:"default",childLayers:[{name:"chargy__chargy"}]},{id:423,name:"mobiliteit_cfl",metadata:{is_queryable:!0,legend_name:"mobiliteit:cfl",max_dpi:128,metadata_id:"0b3c42a2-275e-4519-b228-f407d46b8350"},dimensions:{},type:"WMS",layers:"mobiliteit_cfl",imageType:"image/png",style:"default",childLayers:[{name:"mobiliteit_cfl__1"}]},{id:377,name:"mobiliteit_pr",metadata:{is_queryable:!0,legend_name:"mobiliteit:pr",max_dpi:128,metadata_id:"9e0c97ae-aff9-41fc-9489-bbf97999163d"},dimensions:{},type:"WMS",layers:"mobiliteit_pr",imageType:"image/png",style:"default",childLayers:[{name:"mobiliteit_pr__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1924,name:"npour_umwelt",children:[{id:807,name:"zpin_group",children:[{id:804,name:"anf_zpin_declarees",metadata:{is_queryable:!0,legend_name:"anf:zpin_declarees",metadata_id:"9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"},dimensions:{},type:"WMS",layers:"anf_zpin_declarees",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_declarees__ZPIN_DECLAREES"}]},{id:805,name:"anf_zpin_a_declarer",metadata:{is_queryable:!0,legend_name:"anf:zpin_a_declarer",metadata_id:"db53336b-1a33-4b1a-94a8-42a29b55ce45"},dimensions:{},type:"WMS",layers:"anf_zpin_a_declarer",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_a_declarer__ZPIN_A_DECLARER"}]},{id:806,name:"anf_zpin_en_procedure",metadata:{is_queryable:!0,legend_name:"anf:zpin_en_procedure_reglementaire",metadata_id:"74499cf0-ab69-48bd-a357-8c151dd3d5c9"},dimensions:{},type:"WMS",layers:"anf_zpin_en_procedure",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_en_procedure__ZPIN_EN_PROCEDURE_REGLEMENTAIRE"}]}],metadata:{},mixed:!0},{id:334,name:"env_zones_protegees_communautaires",children:[{id:146,name:"env_natura2000",children:[{id:1915,name:"anf_communes_copil_2020",metadata:{is_queryable:!0,metadata_id:"e0369dfa-0219-4a60-84c4-4ce60cec0a02"},dimensions:{},type:"WMS",layers:"anf_communes_copil_2020",imageType:"image/png",style:"default",childLayers:[{name:"anf_communes_copil_2020__COMMUNES_COPIL_2020"}]},{id:540,name:"natura2000_habitats",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"a38326c1-3d68-43da-9883-a80763ee06e9"},dimensions:{},type:"WMS",layers:"natura2000_habitats",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_habitats__1"}]},{id:533,name:"natura2000_oiseaux",metadata:{is_queryable:!0,max_dpi:128,metadata_id:"080b7d2e-f8d5-4943-8dbf-04d3dfd4fe09"},dimensions:{},type:"WMS",layers:"natura2000_oiseaux",imageType:"image/png",style:"default",childLayers:[{name:"natura2000_oiseaux__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:180,name:"anf_secteurs_ecologiques_group",children:[{id:690,name:"anf_secteurs_ecologiques",metadata:{is_queryable:!0,metadata_id:"8afa4162-c23b-4001-b737-4074d4f5360f"},dimensions:{},type:"WMS",layers:"anf_secteurs_ecologiques",imageType:"image/png",style:"default",childLayers:[{name:"anf_secteurs_ecologiques__SECTEURS_ECOLOGIQUES"}]}],metadata:{},mixed:!0},{id:366,name:"emwelt_biotop_kadaster",children:[{id:1367,name:"anf_biotopes_points",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_points",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_points__BIOTOPES_MO_EL_PONCTUELS_GEOPORTN"}]},{id:1368,name:"anf_biotopes_vergers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_vergers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_vergers__BIOTOPES_MO_VERGERS_GEOPORTN"}]},{id:1369,name:"anf_biotopes_surfaces",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_surfaces",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_surfaces__BIOTOPES_MO_SURFACES_GEOPORTN"}]},{id:1370,name:"anf_biotopes_tampons",metadata:{is_queryable:!0,legend_name:"env:btk_b",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_tampons",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_tampons__BIOTOPES_MO_ZONES_TAMPONS"}]},{id:2472,name:"anf_biotopes_forestiers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"18698bbe-4d55-42b8-baca-62cab9705b5f"},dimensions:{},type:"WMS",layers:"anf_biotopes_forestiers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_forestiers__BIOTOPES_MILIEU_FERME_GEOPORTN"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1872,name:"npour_agri",children:[{id:307,name:"asta",children:[{id:1637,name:"asta_flik_parcels",metadata:{is_queryable:!0,metadata_id:"f511a4ee-928a-4900-ac05-52aa0ce03bba"},dimensions:{},type:"WMS",layers:"asta_flik_parcels",imageType:"image/png",style:"default",childLayers:[{name:"asta_flik_parcels__3"}]},{id:1511,name:"asta_prairies_permanentes",metadata:{is_queryable:!0,metadata_id:"f6f493c2-f57b-419d-8953-ab8018576ac7"},dimensions:{},type:"WMS",layers:"asta_prairies_permanentes",imageType:"image/png",style:"default",childLayers:[{name:"asta_prairies_permanentes__0"}]},{id:740,name:"asta_herbages_sensibles",metadata:{metadata_id:"e5d2717e-4541-43f1-b586-1b18cdf11827"},dimensions:{},type:"WMS",layers:"asta_herbages_sensibles",imageType:"image/png",style:"default",childLayers:[{name:"asta_herbages_sensibles__gruenland"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:1873,name:"npour_eau",children:[{id:1874,name:"npour_eau_surface",children:[{id:749,name:"eau_new_Gewässer",metadata:{geocatalog_open_data_last_update_date:"2024-10-04T01:04:10.2318338",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"57ece2a1cc765e1a24228124",is_queryable:!0,legend_name:"eau:primaere_gewaesser_sekundaere_gewaesser_temporaer_fliessende_baeche",metadata_id:"9da34ec3-89d5-4731-b927-e38ed8088571"},dimensions:{},type:"WMS",layers:"eau_new_Gewässer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Gewässer__23"},{name:"eau_new_Gewässer__24"},{name:"eau_new_Gewässer__25"}]},{id:651,name:"eau_new_Kanal_-__Muehlgraben",metadata:{is_queryable:!0,legend_name:"eau:kanal_-__muehlgraben",max_dpi:128,metadata_id:"909501fc-a0a9-4af8-8e82-f2a8d7f2fe2f"},dimensions:{},type:"WMS",layers:"eau_new_Kanal_-__Muehlgraben",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Kanal_-__Muehlgraben__26"}]},{id:750,name:"eau_new_Kilometrierung der Gewässer",metadata:{legend_name:"eau:kilometrierung_primaere_gewaesser_kilometrierung_sekundaere_gewaesser",metadata_id:"4002b1cf-08b5-421a-bc92-40271d62f03c"},dimensions:{},type:"WMS",layers:"eau_new_Kilometrierung der Gewässer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Kilometrierung der Gewässer__27"},{name:"eau_new_Kilometrierung der Gewässer__28"}]},{id:636,name:"eau_new_Einzugsgebiete",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:11.8156287",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ecb010cc765e17f1820811",is_queryable:!0,legend_name:"eau:einzugsgebiete",max_dpi:128,metadata_id:"a295a30a-f819-400c-842c-d0ccc695bea5"},dimensions:{},type:"WMS",layers:"eau_new_Einzugsgebiete",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Einzugsgebiete__29"}]}],metadata:{},mixed:!0},{id:1875,name:"npour_eau_souterraine",children:[{id:628,name:"eau_new_Bohrungen",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:02:16.7602644",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ecb039cc765e18ae5ed882",is_queryable:!0,legend_name:"eau:bohrungen",max_dpi:128,metadata_id:"4ab49f17-a50e-4439-9a9e-01ec93421aec"},dimensions:{},type:"WMS",layers:"eau_new_Bohrungen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Bohrungen__39"}]},{id:629,name:"eau_new_Quellen",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.4671511",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ece292cc765e1a24228123",is_queryable:!0,legend_name:"eau:quellen",max_dpi:128,metadata_id:"58fa573a-a0c3-474d-9e74-c277cf90b135"},dimensions:{},type:"WMS",layers:"eau_new_Quellen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Quellen__40"}]},{id:631,name:"eau_new_Grundwasserleiter",metadata:{geocatalog_open_data_last_update_date:"2024-06-03T01:02:35.1743465",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ecafe1cc765e18ae5ed87e",is_queryable:!0,legend_name:"eau:grundwasserleiter",max_dpi:128,metadata_id:"783a8608-e4b3-44ed-8864-68525da33760"},dimensions:{},type:"WMS",layers:"eau_new_Grundwasserleiter",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Grundwasserleiter__41"}]}],metadata:{},mixed:!0},{id:1876,name:"npour_eau_zps",children:[{id:214,name:"eau_new_Provisorische_ZPS",metadata:{geocatalog_open_data_last_update_date:"2024-10-03T01:04:17.082383",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"57ece254111e9b03b03833c4",is_queryable:!0,legend_name:"eau:provisorische_zps",max_dpi:128,metadata_id:"ddc51f25-2fb7-4d14-866a-a08f8af8ef03"},dimensions:{},type:"WMS",layers:"eau_new_Provisorische_ZPS",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Provisorische_ZPS__130"}]},{id:664,name:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",metadata:{geocatalog_open_data_last_update_date:"2024-10-04T01:04:09.8847458",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e745b111e9b729d2f54dd",is_queryable:!0,legend_name:"eau:zps_laufende_oeffentliche_verfahrungsweise",max_dpi:128,metadata_id:"87beb1ac-7496-48f6-b5a9-8666e3897523"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_laufende_oeffentliche_Verfahrungsweise__131"}]},{id:573,name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",metadata:{geocatalog_open_data_last_update_date:"2024-10-09T01:03:43.6506495",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e7451111e9b72855243a1",is_queryable:!0,legend_name:"eau:zps_durch_grosshrzgl._verordnung_festgelegt",max_dpi:128,metadata_id:"d70f99e0-6032-4a4b-b516-5dfdfce33b26"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__132"}]},{id:1464,name:"eau_prgd_zones_protection_lac",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.5407176",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"5b571c9546f3b55625dc355c",is_queryable:!0,legend_name:"eau:prgd_stausee",metadata_id:"eab29425-71cc-4610-b48e-8d848d0a8431"},dimensions:{},type:"WMS",layers:"eau_prgd_zones_protection_lac",imageType:"image/png",style:"default",childLayers:[{name:"eau_prgd_zones_protection_lac__349"}]},{id:490,name:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",metadata:{geocatalog_open_data_last_update_date:"2024-06-01T01:05:08.8469357",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ece272cc765e1a24228122",is_queryable:!0,legend_name:"eau:sanitaere_schutzzonen_stausee",max_dpi:128,metadata_id:"e34de488-68ea-48a8-9e92-f67bb209508e"},dimensions:{},type:"WMS",layers:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Sanitaere_Schutzzonen_Stausee_EschSauer__133"}]},{id:559,name:"eau_new_Zones_interdiction_utilisation_metazachlore",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:11.3349336",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"591d66aecc765e79df289232",is_queryable:!1,legend_name:"eau_new:metazachlore",max_dpi:128,metadata_id:"803e93f8-588f-4697-8d76-972be1ad3531",start_opacity:.7},dimensions:{},type:"WMS",layers:"eau_new_Zones_interdiction_utilisation_metazachlore",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Zones_interdiction_utilisation_metazachlore__304"}]}],metadata:{},mixed:!0},{id:1877,name:"npour_eau_protection",children:[{id:643,name:"eau_new_Abwassersyndikate",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.7305149",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ece2dd111e9b03b03833c5",is_queryable:!0,legend_name:"eau:abwassersyndikate",max_dpi:128,metadata_id:"4b5e384c-5603-4cf4-9bd5-6e520df5c375"},dimensions:{},type:"WMS",layers:"eau_new_Abwassersyndikate",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Abwassersyndikate__143"}]},{id:645,name:"eau_new_Klaeranlagen",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:05:26.116702",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ece288cc765e1a25470f74",is_queryable:!0,legend_name:"eau:klaeranlagen",max_dpi:128,metadata_id:"53e55765-90eb-438f-a744-3ac878b06334"},dimensions:{},type:"WMS",layers:"eau_new_Klaeranlagen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Klaeranlagen__142"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],functionalities:{},metadata:{display_in_switcher:!0}},{id:2177,name:"geosciences",icon:"https://migration.geoportail.lu/static/ddc9f661fc1b496c919d096d89f6f3fb/images/blank.png",children:[{id:2178,name:"geo_geologie_group",children:[{id:2167,name:"geo_carte_geol_harmonisee",metadata:{is_queryable:!0,legend_name:"geol:geologie_harmonisee",metadata_id:"542a0caa-4b33-4019-8ce7-b8541b436106"},dimensions:{},type:"WMS",layers:"geo_carte_geol_harmonisee",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_geol_harmonisee__6"},{name:"geo_carte_geol_harmonisee__1"},{name:"geo_carte_geol_harmonisee__2"},{name:"geo_carte_geol_harmonisee__3"}]},{id:2168,name:"geo_carte_geol_harmonisee_decouverte",metadata:{is_queryable:!0,legend_name:"geol:geologie_harmonisee_decouverte",metadata_id:"d03be720-e33c-4bd4-8829-559dc951dc2d"},dimensions:{},type:"WMS",layers:"geo_carte_geol_harmonisee_decouverte",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_geol_harmonisee_decouverte__5"},{name:"geo_carte_geol_harmonisee_decouverte__1"},{name:"geo_carte_geol_harmonisee_decouverte__2"},{name:"geo_carte_geol_harmonisee_decouverte__3"}]},{id:2185,name:"geo_carte_detail_25k",metadata:{is_queryable:!0,legend_name:"geol:geo25k_ned",metadata_id:"f8e6c6ca-948a-404e-9d15-54d9a423627b"},dimensions:{},type:"WMS",layers:"geo_carte_detail_25k",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_detail_25k__0"}]},{id:2186,name:"geo_carte_generale_100k",metadata:{is_queryable:!0,legend_name:"geol:geologie_generale",metadata_id:"61b929b6-7964-449d-bc3e-87483a7997f5"},dimensions:{},type:"WMS",layers:"geo_carte_generale_100k",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_generale_100k__0"}]},{id:2169,name:"geo_carte_geol_simplifiee",metadata:{is_queryable:!0,legend_name:"geol:geologie_simplifiee",metadata_id:"d5235bf1-96c8-4fc8-8d6d-2a0cde246aad"},dimensions:{},type:"WMS",layers:"geo_carte_geol_simplifiee",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_geol_simplifiee__2"},{name:"geo_carte_geol_simplifiee__1"},{name:"geo_carte_geol_simplifiee__0"}]},{id:2170,name:"geo_carte_geol_simplifiee_decouverte",metadata:{is_queryable:!0,legend_name:"geol:geologie_simplifiee_decouverte",metadata_id:"d8d627ee-ec11-4054-8a05-f4cd98adbd72"},dimensions:{},type:"WMS",layers:"geo_carte_geol_simplifiee_decouverte",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_geol_simplifiee_decouverte__0"},{name:"geo_carte_geol_simplifiee_decouverte__2"}]},{id:2199,name:"geo_cartes_geologiques_historiques",children:[{id:2202,name:"geo_geologie_wies_siegen",metadata:{is_queryable:!0,legend_name:"geol:geologie_wies_siegen",metadata_id:"f595fd68-0036-433f-ae93-2bbace506f0a"},dimensions:{},type:"WMS",layers:"geo_geologie_wies_siegen",imageType:"image/png",style:"default",childLayers:[{name:"geo_geologie_wies_siegen__0"}]},{id:2203,name:"geo_geologie_van_werweke",metadata:{is_queryable:!0,legend_name:"geol:geologie_van_werweke",metadata_id:"5156b574-f67c-4bee-b349-e769581fe079"},dimensions:{},type:"WMS",layers:"geo_geologie_van_werweke",imageType:"image/png",style:"default",childLayers:[{name:"geo_geologie_van_werweke__1"}]},{id:2204,name:"geo_geologie_lucius",metadata:{is_queryable:!0,legend_name:"geol:geologie_lucius",metadata_id:"34e148cb-7d47-455a-8d5f-0f2623ab6a4e"},dimensions:{},type:"WMS",layers:"geo_geologie_lucius",imageType:"image/png",style:"default",childLayers:[{name:"geo_geologie_lucius__3"}]},{id:2205,name:"geo_geologie_robert",metadata:{is_queryable:!0,legend_name:"geol:geologie_robert",metadata_id:"a299b930-a36c-4709-8712-b52cfd7c9fa1"},dimensions:{},type:"WMS",layers:"geo_geologie_robert",imageType:"image/png",style:"default",childLayers:[{name:"geo_geologie_robert__2"}]},{id:2206,name:"geo_geologie_detail_anc_edition",metadata:{is_queryable:!0,legend_name:"geol:geo25_50k_aed",metadata_id:"a3342917-2a84-48ee-bf20-668810bb4c80"},dimensions:{},type:"WMS",layers:"geo_geologie_detail_anc_edition",imageType:"image/png",style:"default",childLayers:[{name:"geo_geologie_detail_anc_edition__12"}]}],metadata:{},mixed:!0},{id:2173,name:"geo_coupes_geologiques",metadata:{is_queryable:!0,legend_name:"geol:coupes_geologiques",metadata_id:"8a35490a-8dc8-4dfd-9136-edfdd6d08281"},dimensions:{},type:"WMS",layers:"geo_coupes_geologiques",imageType:"image/png",style:"default",childLayers:[{name:"geo_coupes_geologiques__0"}]},{id:2175,name:"geo_epaisseurs_unites",metadata:{is_queryable:!0,legend_name:"geol:epaisseurs_unites",metadata_id:"3fab8010-2f8b-43e2-96a7-155a24233db4"},dimensions:{},type:"WMS",layers:"geo_epaisseurs_unites",imageType:"image/png",style:"default",childLayers:[{name:"geo_epaisseurs_unites__0"}]},{id:2201,name:"geo_forages_group",children:[{id:2176,name:"geo_forages_ref",metadata:{is_queryable:!0,legend_name:"geol:forages_ref",metadata_id:"0564eda7-c92d-4a80-b3c7-be94f5d67186"},dimensions:{},type:"WMS",layers:"geo_forages_ref",imageType:"image/png",style:"default",childLayers:[{name:"geo_forages_ref__0"}]},{id:628,name:"eau_new_Bohrungen",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:02:16.7602644",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ecb039cc765e18ae5ed882",is_queryable:!0,legend_name:"eau:bohrungen",max_dpi:128,metadata_id:"4ab49f17-a50e-4439-9a9e-01ec93421aec"},dimensions:{},type:"WMS",layers:"eau_new_Bohrungen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Bohrungen__39"}]},{id:2791,name:"pch_sgl_demande_forage_virtuel",metadata:{is_queryable:!0,legend_name:"geol:geologie_harmonisee",linked_layers:["2847"],metadata_id:"4858f69e-4ce5-4d49-984f-fecb1d8b61ac",return_clicked_point:"true"},dimensions:{},type:"WMS",layers:"pch_sgl_demande_forage_virtuel",imageType:"image/png",style:"default",childLayers:[{name:"pch_sgl_demande_forage_virtuel__6"},{name:"pch_sgl_demande_forage_virtuel__1"},{name:"pch_sgl_demande_forage_virtuel__2"},{name:"pch_sgl_demande_forage_virtuel__3"}]},{id:2847,name:"pch_sgl_demande_forage_virtuel_masque",metadata:{metadata_id:"b1f69cb4-30ad-4856-926c-0fc28bb331ca"},dimensions:{},type:"WMS",layers:"pch_sgl_demande_forage_virtuel_masque",imageType:"image/png",style:"default",childLayers:[{name:"pch_sgl_demande_forage_virtuel_masque__0"}]}],metadata:{},mixed:!0},{id:2200,name:"geo_eaux_souterraines",children:[{id:631,name:"eau_new_Grundwasserleiter",metadata:{geocatalog_open_data_last_update_date:"2024-06-03T01:02:35.1743465",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"yearly",geocatalog_open_data_uuid:"57ecafe1cc765e18ae5ed87e",is_queryable:!0,legend_name:"eau:grundwasserleiter",max_dpi:128,metadata_id:"783a8608-e4b3-44ed-8864-68525da33760"},dimensions:{},type:"WMS",layers:"eau_new_Grundwasserleiter",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Grundwasserleiter__41"}]},{id:629,name:"eau_new_Quellen",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.4671511",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ece292cc765e1a24228123",is_queryable:!0,legend_name:"eau:quellen",max_dpi:128,metadata_id:"58fa573a-a0c3-474d-9e74-c277cf90b135"},dimensions:{},type:"WMS",layers:"eau_new_Quellen",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Quellen__40"}]},{id:573,name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",metadata:{geocatalog_open_data_last_update_date:"2024-10-09T01:03:43.6506495",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e7451111e9b72855243a1",is_queryable:!0,legend_name:"eau:zps_durch_grosshrzgl._verordnung_festgelegt",max_dpi:128,metadata_id:"d70f99e0-6032-4a4b-b516-5dfdfce33b26"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__132"}]}],metadata:{},mixed:!0},{id:2191,name:"geo_geomorphologie_carte100K",metadata:{is_queryable:!0,legend_name:"geol:geomorphologie100k",metadata_id:"3fd5088b-021d-4207-9d4b-4040e1ccfe22"},dimensions:{},type:"WMS",layers:"geo_geomorphologie_carte100K",imageType:"image/png",style:"default",childLayers:[{name:"geo_geomorphologie_carte100K__0"}]}],metadata:{},mixed:!0},{id:2182,name:"geo_geophysique_group",children:[{id:2192,name:"geo_geophysique_comptage_uranium",metadata:{is_queryable:!0,legend_name:"geol:geophysique_aeroportee_uranium",metadata_id:"6b9443de-b85c-4360-9c3b-b937c5804303"},dimensions:{},type:"WMS",layers:"geo_geophysique_comptage_uranium",imageType:"image/png",style:"default",childLayers:[{name:"geo_geophysique_comptage_uranium__0"}]},{id:2193,name:"geo_geophysique_comptage_thorium",metadata:{is_queryable:!0,legend_name:"geol:geophysique_aeroportee_thorium",metadata_id:"335aec3a-52e5-49c4-8325-cd57b0751b47"},dimensions:{},type:"WMS",layers:"geo_geophysique_comptage_thorium",imageType:"image/png",style:"default",childLayers:[{name:"geo_geophysique_comptage_thorium__1"}]},{id:2194,name:"geo_geophysique_comptage_potassium",metadata:{is_queryable:!0,legend_name:"geol:geophysique_aeroportee_potassium",metadata_id:"39b205a1-2a16-44fe-9a16-c6e1fdd60084"},dimensions:{},type:"WMS",layers:"geo_geophysique_comptage_potassium",imageType:"image/png",style:"default",childLayers:[{name:"geo_geophysique_comptage_potassium__2"}]},{id:2195,name:"geo_geophysique_synthese_uthk",metadata:{is_queryable:!0,legend_name:"geol:geophysique_aeroportee_uthk",metadata_id:"bcbbc55a-e6b7-4b5a-ac62-dc5ce8b0825a"},dimensions:{},type:"WMS",layers:"geo_geophysique_synthese_uthk",imageType:"image/png",style:"default",childLayers:[{name:"geo_geophysique_synthese_uthk__3"}]},{id:2196,name:"geo_geophysique_champ_vlf",metadata:{is_queryable:!0,legend_name:"geol:geophysique_aeroportee_vlf",metadata_id:"ce816301-b6eb-480a-a891-6d394b635ff7"},dimensions:{},type:"WMS",layers:"geo_geophysique_champ_vlf",imageType:"image/png",style:"default",childLayers:[{name:"geo_geophysique_champ_vlf__4"}]},{id:2197,name:"geo_geophysique_champ_total",metadata:{is_queryable:!0,legend_name:"geol:geophysique_aeroportee_total_residuel",metadata_id:"efcea741-1392-4c97-8233-3d31b64eb82a"},dimensions:{},type:"WMS",layers:"geo_geophysique_champ_total",imageType:"image/png",style:"default",childLayers:[{name:"geo_geophysique_champ_total__5"}]},{id:2198,name:"geo_geophysique_champ_total_reduit_pole",metadata:{is_queryable:!0,legend_name:"geol:geophysique_aeroportee_total_residuel_reduit_pole",metadata_id:"b1b387a3-96d2-4a4b-9a1f-0add1712840c"},dimensions:{},type:"WMS",layers:"geo_geophysique_champ_total_reduit_pole",imageType:"image/png",style:"default",childLayers:[{name:"geo_geophysique_champ_total_reduit_pole__6"}]}],metadata:{},mixed:!0},{id:321,name:"pedologie",children:[{id:272,name:"pedologie_100k",metadata:{legend_name:"pedologie",metadata_id:"2d712a34-ce79-426d-a57b-b7cadf97b80f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"pedologie_100k",imageType:"image/png"},{id:702,name:"asta_pedologie_new",metadata:{legend_name:"pedologie_new",max_dpi:128,metadata_id:"37686d89-0173-4040-88c7-be84a3648d01"},dimensions:{},type:"WMS",layers:"asta_pedologie_new",imageType:"image/png",style:"default",childLayers:[{name:"asta_pedologie_new__9"},{name:"asta_pedologie_new__10"},{name:"asta_pedologie_new__11"},{name:"asta_pedologie_new__12"},{name:"asta_pedologie_new__13"},{name:"asta_pedologie_new__14"},{name:"asta_pedologie_new__15"}]},{id:704,name:"asta_pedologie_humus",metadata:{legend_name:"asta_corg",max_dpi:128,metadata_id:"a1b0807c-9bff-4f6a-a5e7-130316742f56"},dimensions:{},type:"WMS",layers:"asta_pedologie_humus",imageType:"image/png",style:"default",childLayers:[{name:"asta_pedologie_humus__0"}]},{id:703,name:"asta_pedologie_ph",metadata:{legend_name:"asta_ph",max_dpi:128,metadata_id:"628ee73f-4c37-4689-bc4c-1fd9f6bd2663"},dimensions:{},type:"WMS",layers:"asta_pedologie_ph",imageType:"image/png",style:"default",childLayers:[{name:"asta_pedologie_ph__0"}]},{id:2408,name:"asta_erosion_group",children:[{id:2760,name:"asta_rigoles_erosion_enquete",metadata:{is_queryable:!0,metadata_id:"00c1398d-604f-4e1b-9abd-af05261d80ba"},dimensions:{},type:"WMS",layers:"asta_rigoles_erosion_enquete",imageType:"image/png",childLayers:[{name:"asta_rigoles_erosion_enquete__2"}]},{id:2407,name:"asta_erosion_2023",metadata:{is_queryable:!0,metadata_id:"427aff9b-b988-455c-8cd9-1c029cfd6b6e",start_opacity:.25},dimensions:{},type:"WMS",layers:"asta_erosion_2023",imageType:"image/png",childLayers:[{name:"asta_erosion_2023__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2183,name:"geo_relief_group",children:[{id:1460,name:"wg_relief_map",metadata:{metadata_id:"7d195815-23c2-4963-863c-60e3a39ab8af"},dimensions:{},type:"WMS",layers:"wg_relief_map",imageType:"image/png",style:"default",childLayers:[{name:"wg_relief_map__0"}]},{id:1461,name:"wg_hangneigung_map",metadata:{legend_name:"wg:hangneigung",metadata_id:"6ffa94a4-af02-43ec-82e0-6796cd01a948"},dimensions:{},type:"WMS",layers:"wg_hangneigung_map",imageType:"image/png",style:"default",childLayers:[{name:"wg_hangneigung_map__0"}]},{id:1752,name:"lidar_2019_mnt",metadata:{legend_name:"lidar:mnt2019",metadata_id:"30577c48-b240-4f69-8431-e35ecaa85ebc"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"lidar_2019_mnt",imageType:"image/png"}],metadata:{},mixed:!0},{id:2184,name:"geo_decouverte_group",children:[{id:2021,name:"tour_rando_natur_geologie_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"4f360781-3708-416a-a6d5-8944a4864737"},dimensions:{},type:"WMS",layers:"tour_rando_natur_geologie_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_natur_geologie_new__category"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{display_in_switcher:!0}},{id:2332,name:"3D Layers",icon:"https://migration.geoportail.lu/static/ddc9f661fc1b496c919d096d89f6f3fb/images/blank.png",children:[{id:1958,name:"3d Layers",children:[{id:2346,name:"ACT2022_BD_L_BATI3D_LOD2",metadata:{exclusion:'["mesh_2020_vs_bd-l-bati-3d"]',metadata_id:"2e8b722a-87ea-4b62-a307-423832adabab",ol3d_defaultlayer:!0,ol3d_options:{cesium3DTileStyle:{show:"! ( ${id} === '00855_00750-000001'||${id} === '00850_00755-000001_1on9'||${id} === '00850_00755-000001_2on9'||${id} === '00850_00755-000001_3on9'||${id} === '00850_00755-000001_4on9'||${id} === '00850_00755-000001_5on9'||${id} === '00850_00755-000001_6on9'||${id} === '00850_00755-000001_7on9'||${id} === '00850_00755-000001_8on9'||${id} === '00850_00755-000001_9on9'||${id} === '00850_00750-000001'||${id} === '00635_00675-000004_1on8'||${id} === '00635_00675-000004_2on8'||${id} === '00635_00675-000004_3on8'||${id} === '00635_00675-000004_4on8'||${id} === '00635_00675-000004_5on8'||${id} === '00635_00675-000004_6on8'||${id} === '00635_00675-000004_7on8'||${id} === '00635_00675-000004_8on8'||${id} === '00635_00675-000005_1on5'||${id} === '00635_00675-000005_2on5'||${id} === '00635_00675-000005_3on5'||${id} === '00635_00675-000005_4on5'||${id} === '00635_00675-000005_5on5'||${id} === '00635_00675-000002_1on2'||${id} === '00635_00675-000002_2on2'||${id} === '00635_00675-000003_1on2'||${id} === '00635_00675-000003_2on2'||${id} === '01020_00905-000023_1on9'||${id} === '01020_00905-000023_2on9'||${id} === '01020_00905-000023_3on9'||${id} === '01020_00905-000023_4on9'||${id} === '01020_00905-000023_5on9'||${id} === '01020_00905-000023_6on9'||${id} === '01020_00905-000023_7on9'||${id} === '01020_00905-000023_8on9'||${id} === '01020_00905-000023_9on9' )"}}},dimensions:{},type:"WMTS",url:"https://acts3.geoportail.lu/3d-data/3d-tiles",layer:"ACT2022_BD_L_BATI3D_LOD2",imageType:"image/png"},{id:2348,name:"VDL2022_LOD2_IMPORT",metadata:{exclusion:'["mesh_2020_vs_bd-l-bati-3d_vdl"]',metadata_id:"a116f21e-faf1-4bdd-9a29-064fd9a30b8d",ol3d_defaultlayer:!0},dimensions:{},type:"WMTS",url:"https://acts3.geoportail.lu/3d-data/3d-tiles",layer:"VDL2022_LOD2_IMPORT_old",imageType:"image/png"},{id:2350,name:"VDL2022_BRIDGES_IMPORT",metadata:{exclusion:'["mesh_2020_vs_bridges_vdl"]',metadata_id:"95c91657-5d7b-4b1f-bc74-de0e2db0f5c7",ol3d_defaultlayer:!0},dimensions:{},type:"WMTS",url:"https://acts3.geoportail.lu/3d-data/3d-tiles",layer:"Bridges_LOD2",imageType:"image/png"},{id:2397,name:"ACT2019_LiDAR_Bridges",metadata:{exclusion:'["mesh_2020_vs_bridges_ACT"]',metadata_id:"0690e5cb-50df-4cf8-8cf3-d12dbecfc171",ol3d_defaultlayer:!0},dimensions:{},type:"WMTS",url:"https://acts3.geoportail.lu/3d-data/3d-tiles",layer:"ACT2019_LiDAR_Bridges_LOD1",imageType:"image/png"},{id:2384,name:"ACT2019_LiDAR_Vegetation",metadata:{exclusion:'["mesh_2020_vs_trees"]',metadata_id:"99180a32-bf64-46c2-b901-ce055b0f01fe",ol3d_defaultlayer:!0},dimensions:{},type:"WMTS",url:"https://acts3.geoportail.lu/3d-data/3d-tiles",layer:"ACT2019_LiDAR_Vegetation",imageType:"image/png"},{id:2538,name:"ACT2019_LiDAR_Powerlines",metadata:{},dimensions:{},type:"WMTS",url:"https://acts3.geoportail.lu/3d-data/3d-tiles",layer:"ACT2019_LiDAR_Powerlines",imageType:"image/png"}],metadata:{display_in_switcher:!0,is_expanded:!0},mixed:!0},{id:2447,name:"reference_objects_3d",children:[{id:2446,name:"OBJ3D_sharedBikes",metadata:{},dimensions:{},type:"WMTS",url:"https://acts3.geoportail.lu/3d-data/3d-tiles/OBJECTS3D",layer:"SharedBikes",imageType:"image/png"}],metadata:{},mixed:!0}],functionalities:{},metadata:{ol3d_type:"data"}},{id:2576,name:"anf_expo",icon:"https://migration.geoportail.lu/static/ddc9f661fc1b496c919d096d89f6f3fb/images/blank.png",children:[{id:2577,name:"anf_expo_einleitung",children:[{id:2601,name:"anf_overlay_expo_biosphere",metadata:{is_queryable:!0,start_opacity:.7},dimensions:{},type:"WMS",layers:"anf_overlay_expo_ort",imageType:"image/png",style:"default",childLayers:[{name:"anf_overlay_expo_biosphere__2"},{name:"anf_overlay_expo_biosphere__3"}]},{id:302,name:"communes",metadata:{is_queryable:!0,linked_layers:["269"],metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2049"},dimensions:{},type:"WMS",layers:"communes",imageType:"image/png",style:"default",childLayers:[{name:"communes__COMMUNES"}]},{id:269,name:"communes_labels",metadata:{is_queryable:!0,metadata_id:"17c7d883-ff7f-4b48-a894-46bea40d2e49"},dimensions:{},type:"WMS",layers:"communes_labels",imageType:"image/png",style:"default",childLayers:[{name:"communes_labels__COMMUNES_LABELS"}]},{id:2213,name:"at_unesco_minett",metadata:{is_queryable:!0,legend_name:"at:unesco_minett",metadata_id:"815fc4a3-95ef-47b6-a9ff-fa7e88654639"},dimensions:{},type:"WMS",layers:"at_unesco_minett",imageType:"image/png",style:"default",childLayers:[{name:"at_unesco_minett__0"}]}],metadata:{},mixed:!0},{id:2578,name:"anf_expo_biodiversitaet",children:[{id:804,name:"anf_zpin_declarees",metadata:{is_queryable:!0,legend_name:"anf:zpin_declarees",metadata_id:"9439d9b1-eff6-47b5-a4c7-4c5bde2744f4"},dimensions:{},type:"WMS",layers:"anf_zpin_declarees",imageType:"image/png",style:"default",childLayers:[{name:"anf_zpin_declarees__ZPIN_DECLAREES"}]},{id:2482,name:"anf_corridors_faune_sauvage",metadata:{metadata_id:"58a2c50b-0f4e-4d9c-95ff-5851eebf6e58"},dimensions:{},type:"WMS",layers:"anf_corridors_faune_sauvage",imageType:"image/png",style:"default",childLayers:[{name:"anf_corridors_faune_sauvage__corridors_ecologiques"}]},{id:1822,name:"anf_projets_compensation_approuves",metadata:{is_queryable:!0,metadata_id:"03aafc0c-c443-42ea-963a-8538a3f089d4"},dimensions:{},type:"WMS",layers:"anf_projets_compensation_approuves",imageType:"image/png",style:"default",childLayers:[{name:"anf_projets_compensation_approuves__ZONES_COMPENSATION_APPROUVEES"}]}],metadata:{},mixed:!0},{id:2580,name:"anf_expo_landwirtschaft",children:[{id:559,name:"eau_new_Zones_interdiction_utilisation_metazachlore",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:11.3349336",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"591d66aecc765e79df289232",is_queryable:!1,legend_name:"eau_new:metazachlore",max_dpi:128,metadata_id:"803e93f8-588f-4697-8d76-972be1ad3531",start_opacity:.7},dimensions:{},type:"WMS",layers:"eau_new_Zones_interdiction_utilisation_metazachlore",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Zones_interdiction_utilisation_metazachlore__304"}]},{id:1368,name:"anf_biotopes_vergers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_vergers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_vergers__BIOTOPES_MO_VERGERS_GEOPORTN"}]},{id:1369,name:"anf_biotopes_surfaces",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"f46eace4-8a83-4fa5-b2dd-a417a46fc720"},dimensions:{},type:"WMS",layers:"anf_biotopes_surfaces",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_surfaces__BIOTOPES_MO_SURFACES_GEOPORTN"}]}],metadata:{},mixed:!0},{id:2582,name:"anf_expo_wasser",children:[{id:573,name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",metadata:{geocatalog_open_data_last_update_date:"2024-10-09T01:03:43.6506495",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"596e7451111e9b72855243a1",is_queryable:!0,legend_name:"eau:zps_durch_grosshrzgl._verordnung_festgelegt",max_dpi:128,metadata_id:"d70f99e0-6032-4a4b-b516-5dfdfce33b26"},dimensions:{},type:"WMS",layers:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_ZPS_durch_grosshrzgl._Verordnung_festgelegt__132"}]},{id:567,name:"eau_new_Trinkwasserentnahmepunkte",metadata:{geocatalog_open_data_last_update_date:"2024-09-12T01:04:21.3958552",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"57ecb044cc765e17f1820812",is_queryable:!0,legend_name:"eau:trinkwasserentnahmepunkte",max_dpi:128,metadata_id:"a049086b-9c17-4ba6-b9bf-78cb4af8ee68"},dimensions:{},type:"WMS",layers:"eau_new_Trinkwasserentnahmepunkte",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Trinkwasserentnahmepunkte__47"}]},{id:749,name:"eau_new_Gewässer",metadata:{geocatalog_open_data_last_update_date:"2024-10-04T01:04:10.2318338",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"57ece2a1cc765e1a24228124",is_queryable:!0,legend_name:"eau:primaere_gewaesser_sekundaere_gewaesser_temporaer_fliessende_baeche",metadata_id:"9da34ec3-89d5-4731-b927-e38ed8088571"},dimensions:{},type:"WMS",layers:"eau_new_Gewässer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Gewässer__23"},{name:"eau_new_Gewässer__24"},{name:"eau_new_Gewässer__25"}]},{id:2119,name:"eau_Hochwassergefahrenkarten_HQext_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"cd0f52f7-7226-4748-95e0-b77025284423"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQext_2021",imageType:"image/png"}],metadata:{},mixed:!0},{id:2581,name:"anf_expo_stadt",children:[{id:1952,name:"LISL_taux_impermeabilisation_2018",metadata:{is_queryable:!0,legend_name:"lisl_taux_impermeabilisation_2018",metadata_id:"5b40c571-dd3c-4e76-8f4f-b54746799688"},dimensions:{},type:"WMS",layers:"LISL_taux_impermeabilisation_2018",imageType:"image/png",style:"default",childLayers:[{name:"LISL_taux_impermeabilisation_2018__0"},{name:"LISL_taux_impermeabilisation_2018__1"}]},{id:1813,name:"myenergy_solarkataster_luxemburg_solar_potentials",metadata:{is_queryable:!0,legend_name:"energie:potentiel_solaire",metadata_id:"97628fac-c53b-4426-a829-b188105b9ead",ogc_info_format:"geojson",ogc_info_srs:"epsg:3857",ogc_query_layers:["st_luxemburg_22_feature_info"]},dimensions:{},type:"WMS",layers:"myenergy_solarkataster_luxemburg_solar_potentials",imageType:"image/png",style:"default",childLayers:[{name:"myenergy_solarkataster_luxemburg_solar_potentials__st_luxemburg_22_solar_potentials"}]}],metadata:{},mixed:!0},{id:2579,name:"anf_expo_wald",children:[{id:2472,name:"anf_biotopes_forestiers",metadata:{is_queryable:!0,legend_name:"env:cadastre_biotopes",metadata_id:"18698bbe-4d55-42b8-baca-62cab9705b5f"},dimensions:{},type:"WMS",layers:"anf_biotopes_forestiers",imageType:"image/png",style:"default",childLayers:[{name:"anf_biotopes_forestiers__BIOTOPES_MILIEU_FERME_GEOPORTN"}]}],metadata:{},mixed:!0}],functionalities:{},metadata:{}},{id:2742,name:"school",icon:"https://migration.geoportail.lu/static/ddc9f661fc1b496c919d096d89f6f3fb/images/blank.png",children:[{id:2753,name:"school_basisdaten",children:[{id:2754,name:"school_verwaltungseinheiten",children:[{id:302,name:"communes",metadata:{is_queryable:!0,linked_layers:["269"],metadata_id:"de5373d6-340f-4203-a065-da7550a03cc4_2049"},dimensions:{},type:"WMS",layers:"communes",imageType:"image/png",style:"default",childLayers:[{name:"communes__COMMUNES"}]},{id:269,name:"communes_labels",metadata:{is_queryable:!0,metadata_id:"17c7d883-ff7f-4b48-a894-46bea40d2e49"},dimensions:{},type:"WMS",layers:"communes_labels",imageType:"image/png",style:"default",childLayers:[{name:"communes_labels__COMMUNES_LABELS"}]},{id:329,name:"cantons",metadata:{is_queryable:!0,metadata_id:"e8a034e8-f986-4745-a848-b7ef30ce2740"},dimensions:{},type:"WMS",layers:"CANTONS",imageType:"image/png",style:"default",childLayers:[{name:"cantons__CANTONS"}]},{id:346,name:"cantons_labels",metadata:{is_queryable:!0,metadata_id:"3af20a80-be4a-4819-a42b-18e49af799aa"},dimensions:{},type:"WMS",layers:"cantons_labels",imageType:"image/png",style:"default",childLayers:[{name:"cantons_labels__CANTONS_LABELS"}]},{id:354,name:"districts",metadata:{is_queryable:!0,metadata_id:"b9edd03f-3aef-4fd6-a3d9-db076b1cf237"},dimensions:{},type:"WMS",layers:"districts",imageType:"image/png",style:"default",childLayers:[{name:"districts__DISTRICTS"}]},{id:268,name:"districts_labels",metadata:{is_queryable:!0,metadata_id:"c42842e2-834a-427a-99f6-eb8cb79d1db4"},dimensions:{},type:"WMS",layers:"districts_labels",imageType:"image/png",style:"default",childLayers:[{name:"districts_labels__DISTRICTS_LABELS"}]}],metadata:{},mixed:!0},{id:2755,name:"school_adressen",children:[{id:165,name:"adressen",children:[{id:152,name:"addresses",metadata:{is_queryable:!0,metadata_id:"28b310e4-b9e1-467c-a28d-fce2e9a96548"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"addresses",imageType:"image/png"}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2757,name:"school_topo_karten",children:[{id:734,name:"utm_grid",metadata:{max_dpi:128,metadata_id:"84f59e51-2772-4b6d-8c5b-3ec19aa7d8f2"},dimensions:{},type:"WMS",layers:"utm_grid",imageType:"image/png",style:"default",childLayers:[{name:"utm_grid__2"},{name:"utm_grid__3"}]},{id:738,name:"luref_graticules",metadata:{max_dpi:128,metadata_id:"0d1a431c-36b0-406f-8cfd-d264d4949bf0"},dimensions:{},type:"WMS",layers:"luref_graticules",imageType:"image/png",style:"default",childLayers:[{name:"luref_graticules__0"},{name:"luref_graticules__1"}]}],metadata:{},mixed:!0},{id:2756,name:"school_luftbilder",children:[{id:2537,name:"ortho_2022",metadata:{exclusion:'["exclusion_ortho2022","exclusion_ortho2022_bati"]',metadata_id:"63f18835-55ac-448c-a0ea-dc998933077b"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2022",imageType:"image/jpeg"},{id:2272,name:"ortho_2021",metadata:{exclusion:"[121,221]",metadata_id:"ea0bd2ff-b743-4f3a-bd9b-450976563de9"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2021",imageType:"image/jpeg"},{id:2056,name:"ortho_2020",metadata:{exclusion:"[119,219]",metadata_id:"87870b8a-10a1-4c33-bf50-7efe851fd450"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"ortho_2020",imageType:"image/jpeg"},{id:1784,name:"ortho_2019",metadata:{exclusion:"[116,216]",metadata_id:"97c88ef6-6c64-4cb0-a134-06bb42b2b448"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2019",imageType:"image/jpeg"},{id:1527,name:"ortho_2018",metadata:{exclusion:"[113,213]",metadata_id:"6fde72c4-802f-4663-be74-5fa5901cb4f0"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2018",imageType:"image/jpeg"},{id:1371,name:"ortho_2017",metadata:{exclusion:"[111,211]",metadata_id:"1cdae616-1a7a-49d5-b35d-05864891641f"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2017",imageType:"image/jpeg"},{id:745,name:"ortho_2016",metadata:{exclusion:"[107,207]",metadata_id:"bba79b6d-4205-4ce4-98e4-7b7922afcd55"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2016",imageType:"image/jpeg"},{id:360,name:"ortho_2013",metadata:{exclusion:"[106,206]",metadata_id:"ced4a3dd-135e-43d0-86b9-2318982581f7"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2013",imageType:"image/jpeg"},{id:342,name:"ortho_2010",metadata:{exclusion:"[105,205]",metadata_id:"0faf4bdb-a54b-42d7-942c-4e52fa66e963"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2010",imageType:"image/jpeg"},{id:231,name:"ortho_2007",metadata:{exclusion:"[101,201]",metadata_id:"3be3d98e-7997-4ff6-8d77-e393a5fc4fdd"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2007",imageType:"image/jpeg"},{id:224,name:"ortho_2004",metadata:{exclusion:"[103,203]",metadata_id:"a185f78a-ca9c-43f8-8d06-b1abba8ff056"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2004",imageType:"image/jpeg"},{id:225,name:"ortho_2001",metadata:{exclusion:"[104,204]",metadata_id:"e6ff269c-1c7c-401f-a90b-b805e80a046e"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"ortho_2001",imageType:"image/jpeg"},{id:2592,name:"act_ortho_time",metadata:{exclusion:'["exclusion_ortho2022","exclusion_ortho2022_bati"]',metadata_id:"1adb95b0-d0a5-4afa-936a-c9faa9edba2c",time_config:'{"default_time":"2023-08","time_links":{"2001-08":"ortho_2001","2004-08":"ortho_2004","2007-08":"ortho_2007","2010-08":"ortho_2010","2013-08":"ortho_2013","2016-08":"ortho_2016","2017-08":"ortho_2017","2018-08":"ortho_2018","2019-01":"ortho_2019_winter","2019-08":"ortho_2019","2020-08":"ortho_2020","2021-08":"ortho_2021","2022-08":"ortho_2022","2023-08":"ortho_2023"}}',time_layers:{"2001-08-01T00:00:00Z":"ortho_2001","2004-08-01T00:00:00Z":"ortho_2004","2007-08-01T00:00:00Z":"ortho_2007","2010-08-01T00:00:00Z":"ortho_2010","2013-08-01T00:00:00Z":"ortho_2013","2016-08-01T00:00:00Z":"ortho_2016","2017-08-01T00:00:00Z":"ortho_2017","2018-08-01T00:00:00Z":"ortho_2018","2019-01-01T00:00:00Z":"ortho_2019_winter","2019-08-01T00:00:00Z":"ortho_2019","2020-08-01T00:00:00Z":"ortho_2020","2021-08-01T00:00:00Z":"ortho_2021","2022-08-01T00:00:00Z":"ortho_2022","2023-08-01T00:00:00Z":"ortho_2023"}},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR_4_V3",layer:"act_ortho_time",imageType:"image/jpeg",time:{minValue:"2001-08-01T00:00:00Z",maxValue:"2023-08-01T00:00:00Z",values:["2001-08-01T00:00:00Z","2004-08-01T00:00:00Z","2007-08-01T00:00:00Z","2010-08-01T00:00:00Z","2013-08-01T00:00:00Z","2016-08-01T00:00:00Z","2017-08-01T00:00:00Z","2018-08-01T00:00:00Z","2019-01-01T00:00:00Z","2019-08-01T00:00:00Z","2020-08-01T00:00:00Z","2021-08-01T00:00:00Z","2022-08-01T00:00:00Z","2023-08-01T00:00:00Z"],resolution:"month",minDefValue:"2023-08-01T00:00:00Z",maxDefValue:null,mode:"value",widget:"slider"}}],metadata:{},mixed:!0}],metadata:{},mixed:!0},{id:2747,name:"school_themen",children:[{id:2743,name:"school_thema_gesteinskreislauf",children:[{id:2169,name:"geo_carte_geol_simplifiee",metadata:{is_queryable:!0,legend_name:"geol:geologie_simplifiee",metadata_id:"d5235bf1-96c8-4fc8-8d6d-2a0cde246aad"},dimensions:{},type:"WMS",layers:"geo_carte_geol_simplifiee",imageType:"image/png",style:"default",childLayers:[{name:"geo_carte_geol_simplifiee__2"},{name:"geo_carte_geol_simplifiee__1"},{name:"geo_carte_geol_simplifiee__0"}]},{id:2173,name:"geo_coupes_geologiques",metadata:{is_queryable:!0,legend_name:"geol:coupes_geologiques",metadata_id:"8a35490a-8dc8-4dfd-9136-edfdd6d08281"},dimensions:{},type:"WMS",layers:"geo_coupes_geologiques",imageType:"image/png",style:"default",childLayers:[{name:"geo_coupes_geologiques__0"}]},{id:2176,name:"geo_forages_ref",metadata:{is_queryable:!0,legend_name:"geol:forages_ref",metadata_id:"0564eda7-c92d-4a80-b3c7-be94f5d67186"},dimensions:{},type:"WMS",layers:"geo_forages_ref",imageType:"image/png",style:"default",childLayers:[{name:"geo_forages_ref__0"}]},{id:2021,name:"tour_rando_natur_geologie_new",metadata:{is_queryable:!0,linked_layers:["667"],metadata_id:"4f360781-3708-416a-a6d5-8944a4864737"},dimensions:{},type:"WMS",layers:"tour_rando_natur_geologie_new",imageType:"image/png",style:"default",childLayers:[{name:"tour_rando_natur_geologie_new__category"}]}],metadata:{},mixed:!0},{id:2744,name:"school_thema_fluesse",children:[{id:749,name:"eau_new_Gewässer",metadata:{geocatalog_open_data_last_update_date:"2024-10-04T01:04:10.2318338",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"weekly",geocatalog_open_data_uuid:"57ece2a1cc765e1a24228124",is_queryable:!0,legend_name:"eau:primaere_gewaesser_sekundaere_gewaesser_temporaer_fliessende_baeche",metadata_id:"9da34ec3-89d5-4731-b927-e38ed8088571"},dimensions:{},type:"WMS",layers:"eau_new_Gewässer",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Gewässer__23"},{name:"eau_new_Gewässer__24"},{name:"eau_new_Gewässer__25"}]},{id:655,name:"eau_new_Wasserstand",metadata:{geocatalog_open_data_last_update_date:"2024-09-29T01:05:12.0164112",geocatalog_open_data_only_add_gpkg:!0,geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"monthly",geocatalog_open_data_uuid:"59c220a4111e9b1de61d8864",is_queryable:!0,legend_name:"eau:wasserstand",max_dpi:128,metadata_id:"124abb10-1d87-4449-912b-06fbf307a95f"},dimensions:{},type:"WMS",layers:"eau_new_Wasserstand",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Wasserstand__2"}]}],metadata:{},mixed:!0},{id:2745,name:"school_thema_ueberschwemmungen",children:[{id:2117,name:"eau_Hochwassergefahrenkarten_HQ10_2021",metadata:{legend_name:"eau:inondations_2019",metadata_id:"153130ef-8255-4bce-bca0-d2359d277995"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"eau_Hochwassergefahrenkarten_HQ10_2021",imageType:"image/png"},{id:2045,name:"age_dangers_fortes",metadata:{legend_name:"age_dangers_fortes",metadata_id:"55dbe91c-f1e5-4c56-b0b9-4590988e23e5"},dimensions:{},type:"WMS",layers:"age_dangers_fortes",imageType:"image/png",style:"default",childLayers:[{name:"age_dangers_fortes__0"},{name:"age_dangers_fortes__1"}]},{id:758,name:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans",metadata:{geocatalog_open_data_last_update_date:"2024-09-14T01:03:13.4638796",geocatalog_open_data_publish_flag:!0,geocatalog_open_data_update_frequency:"once",geocatalog_open_data_uuid:"66e4e0d15a1785364d6db3fb",is_queryable:!0,legend_name:"eau:massnahmens_des_hochwasserrisikomanagementplans",metadata_id:"4326fea6-7ec4-4bb9-861f-4476b0d4ceac"},dimensions:{},type:"WMS",layers:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans",imageType:"image/png",style:"default",childLayers:[{name:"eau_new_Maßnahmens des Hochwasserrisikomanagementplans__314"}]},{id:1952,name:"LISL_taux_impermeabilisation_2018",metadata:{is_queryable:!0,legend_name:"lisl_taux_impermeabilisation_2018",metadata_id:"5b40c571-dd3c-4e76-8f4f-b54746799688"},dimensions:{},type:"WMS",layers:"LISL_taux_impermeabilisation_2018",imageType:"image/png",style:"default",childLayers:[{name:"LISL_taux_impermeabilisation_2018__0"},{name:"LISL_taux_impermeabilisation_2018__1"}]}],metadata:{},mixed:!0},{id:2746,name:"school_thema_minette",children:[{id:2213,name:"at_unesco_minett",metadata:{is_queryable:!0,legend_name:"at:unesco_minett",metadata_id:"815fc4a3-95ef-47b6-a9ff-fa7e88654639"},dimensions:{},type:"WMS",layers:"at_unesco_minett",imageType:"image/png",style:"default",childLayers:[{name:"at_unesco_minett__0"}]}],metadata:{},mixed:!0}],metadata:{},mixed:!0}],functionalities:{},metadata:{}}],background_layers:[{id:556,name:"basemap_2015_global",metadata:{attribution:`&copy; <a href='https://www.maptiler.com/copyright/'>MapTiler</a> &copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors for data outside of Luxembourg`,exclusion:"[31, 32]",legend_name:"act:roadmap_vt",metadata_id:"a1fea2a0-e0a0-4e5f-a61d-9b3c3a9426bd"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"basemap_2015_global",imageType:"image/png"},{id:502,name:"topo_bw_jpeg",metadata:{attribution:`&copy; <a href='https://www.maptiler.com/copyright/'>MapTiler</a> &copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors for data outside of Luxembourg`,exclusion:"[35, 45]",legend_name:"act_topovt_bw",metadata_id:"b786acc2-b87e-4c7a-aff7-52778357243b"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topo_bw_jpeg",imageType:"image/jpeg"},{id:529,name:"topogr_global",metadata:{attribution:`&copy; <a href='https://www.maptiler.com/copyright/'>MapTiler</a> &copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors for data outside of Luxembourg`,exclusion:"[36, 46]",legend_name:"act_topovt",metadata_id:"b786acc2-b87e-4c7a-aff7-52778357243b"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"topogr_global",imageType:"image/png"},{id:530,name:"orthogr_2013_global",metadata:{exclusion:"[21, 22]",hasRetina:!1,metadata_id:"554cb3f9-a6e7-4e0e-8d62-0853dfd33c32"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"orthogr_2013_global",imageType:"image/jpeg"},{id:501,name:"streets_jpeg",metadata:{exclusion:"[11, 12]",hasRetina:!1,metadata_id:"c427b194-53ba-418d-9b4a-226a8cbfd568"},dimensions:{},type:"WMTS",url:"http://wmts.geoportail.lu/mapproxy_4_v3/wmts/1.0.0/WMTSCapabilities.xml",style:"default",matrixSet:"GLOBAL_WEBMERCATOR",layer:"streets_jpeg",imageType:"image/png"}],errors:[],lux_3d:{terrain_url:"https://acts3.geoportail.lu/3d-data/3d-tiles/terrain3D/lidar_2019_terrain/3DTiles"}}),vK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAAAoCAMAAABq645qAAACPVBMVEUAAABaW13////tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy7tGy5aW13tGy5DjxTaAAAAvXRSTlMAAAABAgMEBQYHCAkKCwwNDg8QERESFBUWFxkaGx0eHyAhIiInKSosMTIzNTY5Ojs8PUFCQ0RERkpMTk9QU1RVVldaXmFjZWZmamtwcXJzdXd3eHl7fX+AgYKDhIaHiIiKi4yOj5CTlJWWl5iZmZqcnZ+goaKjpKanqKqqq6ywsbK0tbW4u7u8vb6/wMHExcbHysvMzM7P0NDS1NXa29zd3t/g4eTl5ujp6uvs7e7u8PLz9PX29/j5+vv8/f5cALqzAAAEcklEQVRo3u3Z+ZPUVBAH8O63LsLKijoIgotHFI+HgiKNeGC8MCqgUUFAJYjgAQ6HKMgGEQQiqChIPFh1iciiwPIEhvv49t/mD5lBORa2tHbLTO2rmqnUTCrJZ3r65ZuEjDHGGLrMWGcKMah7mh/7NP8PzXBqbqgfzdtPb7i/fjQPvq8r5jUVXNNIY4moYeL6+XNfn9Ov6LUZ2/Z7Pxo3YaZWTp/uLPw/reXYbqLRPz/38g+qJ/oTEV396IzmgmquXHZoIRHd/sTs31T1DqIBcyqHZjQWtTbf6nQiokHLVVWn7ju4euXGjsX9LtTAGgPAGGMzOPZSOGFYtmAXsO8skFkgZovQgi2QcZKyIGAAjJQtIgAB/5vRTc2IvbqSqOWNJQdUVdfe+/zitmsu2jeQ/GWMC43HacRhxhAWcJRyEgmYBSVYgROwgJkzeGVEDGEGotqnPaih1Xp63KSvVFVVtz0wt23AvMVda5AZY2FM7OWO/N2DwBMgESBiQZyABUgYSYQkYSBjhAh7QXN3Zfey7YdyzXh6aQpdu2fIpWsD30CykKOU4XPgmBPEnNcmC1jgIT9uCx9ZkOW1kQi9oBm6aMvO3KIVomUPES19/KIaoNo34uA8cUgtB4DzmQXCFoCFhbXgMtgC8DNGKMj7xnIKtj2toeGf55X5c9+ZRpo1lWjyq5c/33Avj+5obpz25miiwd+p6q4/2jfvIrqtrYlemF5MzZObTuhHCw6cUd2y/91ftj5DRJOn0JKniqm56jPtUNXDx44u6NywvaPzPqL+G5v3jCimhhqaX/vyi6VTxtzyYkVV9dSsRvrmnVXUI5oo7GkNEV2RH/igaRVV1Y8fOdE+tEc0tlzqBU1tND+7U1W18t51F8/QAFJrkUccL4VjABFb+MwoMyznszWzBZxfDT2SIbZgm0/TzBbIpLqcr8GwScJxfF4UiliAgGEZ1gKx8VK4bmuafmpdrqr6cFdXBJBSORPkp9A0ZI8hAi4jYQY8CEN8MDML2K/FBBdwKU80kOp3eSBirq7BkJJLstK5UShw+eYhDBGUYNPQeN3WTND2rd+r6oquNUZQ00A49gCEJQg8RhJD8j0DQX6IEBZYMLMAAANZrpHa8lkNBwjOi0Ion90KRIDIQEzsdVfzlurhT1X11F2XqE3qwfNQMiYLGYIYNgAQMcTltXHV3z9w1dAD/8LapH/XJt9eycWudG4U8lGrjYeSIAtMFlaD1SU1NxAR0cA9qrpqr6ruaOmybxLPREBojLEOzoMNkAXsO4YNYRnIpNo3WS30+EByXt+kttY3AEdAyGmZ4/TcKORCDgDhEAg5D0wO7vK1mbmwhajxA9XWkXTTh8dVj6wZX9gr6ZFL9eTm1nbVhUREdOs2Vb25sJqmRTuOq+r+rwfmgGEHVYcU+H7a8KNrdP6kYTXBJ6qPFVjT2DxwzD/msbWqE+vnrvqvevSeutGMUm0dXC+ahk3asb5unt+8cvLIqOvr52nU7Dv7nq31afo0/0mzrhiavwAx1n2SsZnMdgAAAABJRU5ErkJggg==",bK="fr",xK=!0,wK=!1,SK=!1,TK=!1,EK=!1,MK=!1,LK=!1,AK=!1,CK=!1,IK=!1,fi=jo("app",()=>{const a=$e(!1),e=$e(bK),t=$e(xK),i=$e(wK),n=$e(SK),s=$e(TK),r=$e(),l=$e(EK),c=$e(MK),h=$e(LK),f=$e(AK),v=$e(CK),b=$e(IK),T=$e(),M=$e(!1),I=$e(void 0),R=$e(!1),P=$e(!1),F=$e(!1),B=$e(!1),W=$e(!1);function Z(Je){W.value=Je}function ae(Je){e.value=Je}function he(Je){t.value=Je}function _e(Je){n.value=Je,n.value&&(s.value=!1,i.value=!1)}function ie(Je){s.value=Je,s.value&&(M.value=!1,i.value=!1)}function me(){s.value?(t.value=!1,i.value=!1,l.value=!1,s.value=!1):(s.value=!0,t.value=!0,i.value=!1,l.value=!1,c.value=!1,M.value=!1,n.value&&(n.value=!1))}function fe(Je){T.value=Je}function be(Je){r.value=Je}function Ae(){M.value=!0,t.value=!1}function Ye(){M.value=!1,t.value=!0}function Xe(Je){R.value=Je??!R.value}function Re(Je){l.value=Je??!l.value}function Oe(Je){i.value=Je??!i.value}function Qe(Je){c.value=Je??!c.value}function yt(Je){F.value=Je??!F.value}return{embedded:a,lang:e,layersOpen:t,legendsOpen:i,myLayersTabOpen:n,themeGridOpen:s,mapId:r,myMapsOpen:l,infoOpen:c,feedbackOpen:h,feedbackanfOpen:f,feedbackageOpen:v,feedbackcruesOpen:b,styleEditorOpen:M,styleEditorOpenedSection:I,remoteLayersOpen:T,drawToolbarOpen:R,measureToolbarOpen:P,isOffLine:B,isApp:W,setIsApp:Z,printToolbarOpen:F,setLang:ae,setLayersOpen:he,setMyLayersTabOpen:_e,setThemeGridOpen:ie,setRemoteLayersOpen:fe,setMapId:be,openStyleEditorPanel:Ae,closeStyleEditorPanel:Ye,toggleDrawToolbarOpen:Xe,togglePrintToolbarOpen:yt,toggleMyMapsOpen:Re,toggleInfoOpen:Qe,toggleThemeGrid:me,toggleLegendsOpen:Oe}},{}),kx=jo("user-manager",()=>{const a=fi(),{isOffLine:e}=Gt(a),t=$e(void 0),i=Pt(()=>e.value||!!t.value);function n(){return i.value}function s(l){if(l.login)t.value=l;else throw r(),new Error("Invalid username or password")}function r(){t.value=void 0}return{authenticated:i,currentUser:t,clearUser:r,isAuthenticated:n,setCurrentUser:s}},{}),AS="same-origin",RK="/login",OK="/logout",kK="/getuserinfo";class PK{async authenticate(e,t,i=!1){const n=new URLSearchParams({login:e,password:t,app:i?"true":"false"}),s=await fetch(RK,{method:"POST",credentials:AS,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});if(!s.ok)throw new Error("Error while trying to authenticate user");const r=await s.json();return this.mapUserApiToUser(r)}async logout(){const e=await fetch(OK,{credentials:AS});if(!e.ok)throw new Error("Error while trying to logout user");return await e.text()}async getUserInfo(){const e=new URLSearchParams({}),t=await fetch(kK,{method:"POST",credentials:AS,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}),i=t.ok&&await t.json();if(!i.login)throw new Error("Error while trying to get user info");return this.mapUserApiToUser(i)}mapUserApiToUser(e){const{is_admin:t,login:i,mail:n,mymaps_role:s,role:r,role_id:l,sn:c,typeUtilisateur:h}=e;return{login:i,mail:n,isAdmin:t,mymapsRole:s,name:c,role:r,roleId:l,sn:c,typeUtilisateur:h}}}const CS=new PK;var is=[];for(var IS=0;IS<256;++IS)is.push((IS+256).toString(16).slice(1));function DK(a,e=0){return(is[a[e+0]]+is[a[e+1]]+is[a[e+2]]+is[a[e+3]]+"-"+is[a[e+4]]+is[a[e+5]]+"-"+is[a[e+6]]+is[a[e+7]]+"-"+is[a[e+8]]+is[a[e+9]]+"-"+is[a[e+10]]+is[a[e+11]]+is[a[e+12]]+is[a[e+13]]+is[a[e+14]]+is[a[e+15]]).toLowerCase()}var Av,FK=new Uint8Array(16);function NK(){if(!Av&&(Av=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Av))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Av(FK)}var WK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const z6={randomUUID:WK};function oR(a,e,t){if(z6.randomUUID&&!e&&!a)return z6.randomUUID();a=a||{};var i=a.random||(a.rng||NK)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(var n=0;n<16;++n)e[t+n]=i[n];return e}return DK(i)}var Bu=(a=>(a.INFO="alert-info",a.WARNING="alert-warning",a.ERROR="alert-danger",a))(Bu||{});class zK{constructor(e,t,i,n,s){Sa(this,"timeoutID");this.uuid=e,this.message=t,this.type=i,this.duration=n,this.timer=s,this.start()}start(){this.timer&&(this.timeoutID=setTimeout(()=>this.timer(this.uuid),this.duration))}cancel(){clearTimeout(this.timeoutID)}}const BK=Bu.INFO,GK=7e3,qK=4e3,jc=jo("alert-notifications",()=>{const a=$e([]);function e(i,n=BK,s){s=s??(n===Bu.WARNING?qK:GK);const r=new zK(oR(),i,n,s,l=>t(l));return a.value.push(r),r.uuid}function t(i){a.value=a.value.filter(n=>(n.uuid===i&&n.cancel(),n.uuid!==i))}return{notifications:a,addNotification:e,removeNotification:t}},{}),UK={"data-cy":"authForm",class:"lux-account bg-secondary"},VK={class:"lux-panel-title pt-5 mb-5 pl-5 h-16 shrink-0 flex justify-between"},jK={class:"lux-account-content"},HK={class:"flex flex-col gap-2 mb-2"},ZK=["placeholder"],XK=["placeholder"],YK={class:"flex mt-3 items-center"},KK={class:"grow leading-5"},$K=["href"],QK=["href"],JK=["value"],e$={key:1},t$={class:"flex flex-col gap-[1px] mb-2 text-white"},a$={class:"bg-secondary py-1 px-3"},i$={class:"bg-secondary py-1 px-3"},n$={class:"flex items-center gap-3 justify-end"},r$=["href"],s$=ft({__name:"auth-form",setup(a){const e="https://myaccount.geoportail.lu",t="https://myaccount.geoportail.lu/recover-password",i="https://myaccount.geoportail.lu/new-user",{t:n}=ma(),{addNotification:s}=jc(),{lang:r,isApp:l}=Gt(fi()),c=kx(),{setCurrentUser:h,clearUser:f}=c,{authenticated:v,currentUser:b}=Gt(c),T=$e(!1),M=$e(""),I=$e("");Vt(v,Z=>{!T.value&&Z&&s(n("Vous êtes maintenant correctement connecté."))}),jn(()=>{CS.getUserInfo().then(Z=>{T.value=!0,F(Z)}).catch(()=>{})});function R(){CS.logout().then(()=>f()).catch(()=>s(n("Une erreur est survenue durant la déconnexion."),Bu.ERROR)),W()}function P(){CS.authenticate(M.value,I.value,l.value).then(Z=>{T.value=!1,F(Z)}).catch(B),W()}function F(Z){h(Z)}function B(){s(n("Invalid username or password."),Bu.WARNING),f()}function W(){M.value="",I.value=""}return(Z,ae)=>{var he,_e;return ne(),xe("div",UK,[$("h4",VK,De(V(n)("My account")),1),$("fieldset",null,[ae[2]||(ae[2]=$("legend",{class:"lux-account-tab"},null,-1)),$("div",jK,[V(v)?(ne(),xe("div",e$,[$("div",t$,[$("div",a$,De((he=V(b))==null?void 0:he.login),1),$("div",i$,De((_e=V(b))==null?void 0:_e.mail),1)]),$("div",n$,[$("div",null,[$("a",{class:"text-secondary hover:underline hover:text-white",target:"_blank",href:`${V(e)}?lang=${V(r)}`},De(V(n)("My account")),9,r$)]),$("div",null,[$("button",{class:"lux-btn",onClick:R},De(V(n)("Logout")),1)])])])):(ne(),xe("form",{key:0,onSubmit:Rl(P,["prevent"])},[$("div",HK,[$("div",null,[Ai($("input",{class:"w-full lux-input h-11",type:"text",name:"userName","onUpdate:modelValue":ae[0]||(ae[0]=ie=>M.value=ie),placeholder:V(n)("Username"),required:""},null,8,ZK),[[Uc,M.value]])]),$("div",null,[Ai($("input",{class:"w-full lux-input h-11",type:"password",name:"userPassword","onUpdate:modelValue":ae[1]||(ae[1]=ie=>I.value=ie),placeholder:V(n)("Password"),required:""},null,8,XK),[[Uc,I.value]])])]),$("div",YK,[$("div",KK,[$("p",null,[$("a",{"data-cy":"authFormLostPwd",class:"text-secondary hover:underline hover:text-white",target:"_blank",href:V(t)},De(V(n)("I lost my password")),9,$K)]),$("p",null,[$("a",{"data-cy":"authFormNewAccount",class:"text-secondary hover:underline hover:text-white",target:"_blank",href:V(i)},De(V(n)("Create a new user account")),9,QK)])]),$("div",null,[$("input",{class:"lux-btn h-11 w-24 text-white placeholder:italic bg-secondary border-none uppercase hover:text-primary hover:bg-secondary",type:"submit",value:V(n)("Submit")},null,8,JK)])])],32))])])])}}}),o$={class:"h-full w-full"},l$=["aria-expanded"],u$={class:"lux-dropdown-wrapper"},c$=ft({__name:"dropdown-content",props:{placeholder:{},enableClickOutside:{type:Boolean,default:!0},isOpen:{type:Boolean,default:!1},direction:{}},emits:["toggleDropdown"],setup(a,{emit:e}){const t=a,i=e,n=Li(t.isOpen);Vt(()=>t.isOpen,f=>{n.value=f});function s(f){n.value=f===void 0?!n.value:f,i("toggleDropdown",n.value)}function r(f){f.stopImmediatePropagation(),s()}function l(){s(!1)}const c=$e(null),h=$e("");return jn(()=>{t.enableClickOutside&&document.addEventListener("click",l),h.value=c.value?"lux-btn-"+getComputedStyle(c.value).getPropertyValue("--button-theme"):""}),Os(()=>t.enableClickOutside&&document.removeEventListener("click",l)),(f,v)=>(ne(),xe("div",B3({class:"lux-dropdown"},f.$attrs,{ref_key:"root",ref:c}),[$("div",o$,[$("button",{type:"button",class:ei(["lux-btn lux-dropdown-btn",[n.value?"expanded":"",h.value]]),"aria-expanded":n.value,"aria-haspopup":"true",onClick:r},[$("span",null,De(t.placeholder),1),$("span",{class:ei(["lux-caret ml-1",{up:f.direction==="up"}])},null,2)],10,l$)]),$("div",u$,[$("div",{class:ei(["lux-dropdown-content",n.value?"":"hidden"]),tabindex:"-1"},[Va(f.$slots,"default",{},void 0,!0)],2)])],16))}});const qE=(a,e)=>{const t=a.__vccOpts||a;for(const[i,n]of e)t[i]=n;return t},lR=qE(c$,[["__scopeId","data-v-63914dd3"]]),d$=["data-cy"],h$=["aria-label","data-value"],f2=ft({__name:"dropdown-list",props:{placeholder:{},options:{default:()=>[{label:"Default label",value:"Default value"}]},modelValue:{},direction:{default:"down"}},emits:["change"],setup(a,{emit:e}){const t=a,i=e,n=Li(),s=b9(t.direction);function r(c){n.value=c.target.dataset.value,i("change",n.value)}function l(){var c;return t.placeholder??((c=t.options.find(h=>h.value===t.modelValue))==null?void 0:c.label)}return(c,h)=>(ne(),ga(lR,B3({placeholder:l(),direction:s.value},c.$attrs),{default:Xa(()=>[$("ul",{class:ei(["lux-dropdown-list",s.value])},[(ne(!0),xe(sa,null,Cn(t.options,f=>(ne(),xe("li",{key:f.value,class:ei(c.modelValue===f.value?"selected":""),"data-cy":`dropdownItem-${f.value}`},[$("button",{class:"lux-dropdown-list-item","aria-label":f.ariaLabel,"data-value":f.value,onClick:r},De(f.label),9,h$)],10,d$))),128))],2)]),_:1},16,["placeholder","direction"]))}});function _$(a){return{fr:"fre",en:"eng",de:"ger",lb:"ltz"}[a.toLowerCase()]}function m$(a){return new DOMParser().parseFromString(a,"text/html").body}function p$(a){const e=[];function t(i){if(!i)return;const n=i.split("|");n[3]==="WWW:LINK-1.0-http--link"&&e.indexOf(n[2])===-1&&e.push(n[2])}return Array.isArray(a)?a.forEach(t,a):t(a),e}function f$(a){const t=(Array.isArray(a)?a:[a]).filter(i=>i.split("|")[1]==="metadata");return{organisaton:t[0].split("|")[2],name:t[0].split("|")[5],unknown:t[0].split("|")[6],address:t[0].split("|")[7],email:t[0].split("|")[4]}}const g$="/";var uR=(a=>(a.PNG="image/png",a.JPG="image/jpeg",a))(uR||{}),kc=(a=>(a.VALUE="value",a.RANGE="range",a))(kc||{}),mb=(a=>(a.DATEPICKER="datepicker",a.SLIDER="slider",a))(mb||{});function qo(){const a=zc();function e(h,f){try{const v=JSON.parse(h).concat(JSON.parse(f));return new Set(v).size<v.length}catch{return!1}}function t(h){var f;return h.opacity=h.previousOpacity=((f=h.metadata)==null?void 0:f.start_opacity)??1,i(h),h}function i(h){var v,b,T,M,I;h.currentTimeMinValue||(h.currentTimeMinValue=((v=h.time)==null?void 0:v.minDefValue)??((b=h.time)==null?void 0:b.minValue));const f=((T=h.time)==null?void 0:T.mode)===kc.RANGE;!h.currentTimeMaxValue&&f&&(h.currentTimeMaxValue=((M=h.time)==null?void 0:M.maxDefValue)??((I=h.time)==null?void 0:I.maxValue))}function n(h){var b,T;const f=s(h);let v=h.name;return f&&(v=((T=(b=h.metadata)==null?void 0:b.time_layers)==null?void 0:T[f])??v),v}function s(h){return[h.currentTimeMinValue,...h.currentTimeMaxValue?[h.currentTimeMaxValue]:[]].join(g$)}function r(h){var T,M;const f=jc();if(!((T=h.metadata)!=null&&T.exclusion))return;const v=on(),b=v.layers.filter(I=>{var R,P;return e((R=h==null?void 0:h.metadata)==null?void 0:R.exclusion,(P=I==null?void 0:I.metadata)==null?void 0:P.exclusion)});b.length>0&&(v.removeLayers(...b.map(I=>I.id)),f.addNotification(sn.t("The layer <b>{{layersToRemove}}</b> has been removed because it cannot be displayed while the layer <b>{{layer}}</b> is displayed",{count:b.length,layersToRemove:b.map(I=>sn.t(I.name,{ns:"client"})).join(", "),layer:sn.t(h.name,{ns:"client"}),ns:"client"}),Bu.WARNING)),h.id!==((M=v.bgLayer)==null?void 0:M.id)&&l(h)}function l(h){var b,T,M;const f=on(),v=jc();e((b=h.metadata)==null?void 0:b.exclusion,(M=(T=f.bgLayer)==null?void 0:T.metadata)==null?void 0:M.exclusion)&&(f.setBgLayer(null),v.addNotification(sn.t("Background has been deactivated because the layer {{layer}} cannot be displayed on top of it.",{layer:sn.t(h.name,{ns:"client"}),ns:"client"}),Bu.WARNING))}function c(h,f=!0,v,b){var P;const T=us(),M=on(),I=v?T.layerTrees_3d:T.theme,R=a.findById(h,b?I:void 0);if(R){const F=((P=R.metadata)==null?void 0:P.linked_layers)||[];f===!1?M.removeLayers(R.id,...F):(r(R),(v?M.add3dLayers:M.addLayers)(t(R),...F.map(W=>t(a.findById(parseInt(W,10))))))}}return{initLayer:t,getLayerCurrentLabel:n,getLayerCurrentTime:s,handleExclusionLayers:r,toggleLayer:c}}class om extends Error{}class y$ extends om{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class v$ extends om{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class b$ extends om{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Fp extends om{}class cR extends om{constructor(e){super(`Invalid unit ${e}`)}}class Ts extends om{}class Md extends om{constructor(){super("Zone is an abstract class")}}const qt="numeric",Vl="short",Uo="long",g2={year:qt,month:qt,day:qt},dR={year:qt,month:Vl,day:qt},x$={year:qt,month:Vl,day:qt,weekday:Vl},hR={year:qt,month:Uo,day:qt},_R={year:qt,month:Uo,day:qt,weekday:Uo},mR={hour:qt,minute:qt},pR={hour:qt,minute:qt,second:qt},fR={hour:qt,minute:qt,second:qt,timeZoneName:Vl},gR={hour:qt,minute:qt,second:qt,timeZoneName:Uo},yR={hour:qt,minute:qt,hourCycle:"h23"},vR={hour:qt,minute:qt,second:qt,hourCycle:"h23"},bR={hour:qt,minute:qt,second:qt,hourCycle:"h23",timeZoneName:Vl},xR={hour:qt,minute:qt,second:qt,hourCycle:"h23",timeZoneName:Uo},wR={year:qt,month:qt,day:qt,hour:qt,minute:qt},SR={year:qt,month:qt,day:qt,hour:qt,minute:qt,second:qt},TR={year:qt,month:Vl,day:qt,hour:qt,minute:qt},ER={year:qt,month:Vl,day:qt,hour:qt,minute:qt,second:qt},w$={year:qt,month:Vl,day:qt,weekday:Vl,hour:qt,minute:qt},MR={year:qt,month:Uo,day:qt,hour:qt,minute:qt,timeZoneName:Vl},LR={year:qt,month:Uo,day:qt,hour:qt,minute:qt,second:qt,timeZoneName:Vl},AR={year:qt,month:Uo,day:qt,weekday:Uo,hour:qt,minute:qt,timeZoneName:Uo},CR={year:qt,month:Uo,day:qt,weekday:Uo,hour:qt,minute:qt,second:qt,timeZoneName:Uo};class z0{get type(){throw new Md}get name(){throw new Md}get ianaName(){return this.name}get isUniversal(){throw new Md}offsetName(e,t){throw new Md}formatOffset(e,t){throw new Md}offset(e){throw new Md}equals(e){throw new Md}get isValid(){throw new Md}}let RS=null;class Px extends z0{static get instance(){return RS===null&&(RS=new Px),RS}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return BR(e,t,i)}formatOffset(e,t){return ky(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const gT=new Map;function S$(a){let e=gT.get(a);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),gT.set(a,e)),e}const T$={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function E$(a,e){const t=a.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,n,s,r,l,c,h,f]=i;return[r,n,s,l,c,h,f]}function M$(a,e){const t=a.formatToParts(e),i=[];for(let n=0;n<t.length;n++){const{type:s,value:r}=t[n],l=T$[s];s==="era"?i[l]=r:Za(l)||(i[l]=parseInt(r,10))}return i}const OS=new Map;class Hc extends z0{static create(e){let t=OS.get(e);return t===void 0&&OS.set(e,t=new Hc(e)),t}static resetCache(){OS.clear(),gT.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Hc.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return BR(e,t,i,this.name)}formatOffset(e,t){return ky(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const i=S$(this.name);let[n,s,r,l,c,h,f]=i.formatToParts?M$(i,t):E$(i,t);l==="BC"&&(n=-Math.abs(n)+1);const b=Fx({year:n,month:s,day:r,hour:c===24?0:c,minute:h,second:f,millisecond:0});let T=+t;const M=T%1e3;return T-=M>=0?M:1e3+M,(b-T)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let B6={};function L$(a,e={}){const t=JSON.stringify([a,e]);let i=B6[t];return i||(i=new Intl.ListFormat(a,e),B6[t]=i),i}const yT=new Map;function vT(a,e={}){const t=JSON.stringify([a,e]);let i=yT.get(t);return i===void 0&&(i=new Intl.DateTimeFormat(a,e),yT.set(t,i)),i}const bT=new Map;function A$(a,e={}){const t=JSON.stringify([a,e]);let i=bT.get(t);return i===void 0&&(i=new Intl.NumberFormat(a,e),bT.set(t,i)),i}const xT=new Map;function C$(a,e={}){const{base:t,...i}=e,n=JSON.stringify([a,i]);let s=xT.get(n);return s===void 0&&(s=new Intl.RelativeTimeFormat(a,e),xT.set(n,s)),s}let ry=null;function I$(){return ry||(ry=new Intl.DateTimeFormat().resolvedOptions().locale,ry)}const wT=new Map;function IR(a){let e=wT.get(a);return e===void 0&&(e=new Intl.DateTimeFormat(a).resolvedOptions(),wT.set(a,e)),e}const ST=new Map;function R$(a){let e=ST.get(a);if(!e){const t=new Intl.Locale(a);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...RR,...e}),ST.set(a,e)}return e}function O$(a){const e=a.indexOf("-x-");e!==-1&&(a=a.substring(0,e));const t=a.indexOf("-u-");if(t===-1)return[a];{let i,n;try{i=vT(a).resolvedOptions(),n=a}catch{const c=a.substring(0,t);i=vT(c).resolvedOptions(),n=c}const{numberingSystem:s,calendar:r}=i;return[n,s,r]}}function k$(a,e,t){return(t||e)&&(a.includes("-u-")||(a+="-u"),t&&(a+=`-ca-${t}`),e&&(a+=`-nu-${e}`)),a}function P$(a){const e=[];for(let t=1;t<=12;t++){const i=Ua.utc(2009,t,1);e.push(a(i))}return e}function D$(a){const e=[];for(let t=1;t<=7;t++){const i=Ua.utc(2016,11,13+t);e.push(a(i))}return e}function Cv(a,e,t,i){const n=a.listingMode();return n==="error"?null:n==="en"?t(e):i(e)}function F$(a){return a.numberingSystem&&a.numberingSystem!=="latn"?!1:a.numberingSystem==="latn"||!a.locale||a.locale.startsWith("en")||IR(a.locale).numberingSystem==="latn"}class N${constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:n,floor:s,...r}=i;if(!t||Object.keys(r).length>0){const l={useGrouping:!1,...i};i.padTo>0&&(l.minimumIntegerDigits=i.padTo),this.inf=A$(e,l)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):ZE(e,3);return gr(t,this.padTo)}}}class W${constructor(e,t,i){this.opts=i,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const r=-1*(e.offset/60),l=r>=0?`Etc/GMT+${r}`:`Etc/GMT${r}`;e.offset!==0&&Hc.create(l).valid?(n=l,this.dt=e):(n="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||n,this.dtf=vT(t,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:i}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class z${constructor(e,t,i){this.opts={style:"long",...i},!t&&WR()&&(this.rtf=C$(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):oQ(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const RR={firstDay:1,minimalDays:4,weekend:[6,7]};class ji{static fromOpts(e){return ji.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,i,n,s=!1){const r=e||Qn.defaultLocale,l=r||(s?"en-US":I$()),c=t||Qn.defaultNumberingSystem,h=i||Qn.defaultOutputCalendar,f=ET(n)||Qn.defaultWeekSettings;return new ji(l,c,h,f,r)}static resetCache(){ry=null,yT.clear(),bT.clear(),xT.clear(),wT.clear(),ST.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:i,weekSettings:n}={}){return ji.create(e,t,i,n)}constructor(e,t,i,n,s){const[r,l,c]=O$(e);this.locale=r,this.numberingSystem=t||l||null,this.outputCalendar=i||c||null,this.weekSettings=n,this.intl=k$(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=F$(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ji.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,ET(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Cv(this,e,UR,()=>{const i=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=P$(s=>this.extract(s,i,"month"))),this.monthsCache[n][e]})}weekdays(e,t=!1){return Cv(this,e,HR,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=D$(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[n][e]})}meridiems(){return Cv(this,void 0,()=>ZR,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ua.utc(2016,11,13,9),Ua.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Cv(this,e,XR,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Ua.utc(-40,1,1),Ua.utc(2017,1,1)].map(i=>this.extract(i,t,"era"))),this.eraCache[e]})}extract(e,t,i){const n=this.dtFormatter(e,t),s=n.formatToParts(),r=s.find(l=>l.type.toLowerCase()===i);return r?r.value:null}numberFormatter(e={}){return new N$(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new W$(e,this.intl,t)}relFormatter(e={}){return new z$(this.intl,this.isEnglish(),e)}listFormatter(e={}){return L$(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||IR(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:zR()?R$(this.locale):RR}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let kS=null;class Xs extends z0{static get utcInstance(){return kS===null&&(kS=new Xs(0)),kS}static instance(e){return e===0?Xs.utcInstance:new Xs(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Xs(Nx(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${ky(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${ky(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return ky(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class B$ extends z0{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Gd(a,e){if(Za(a)||a===null)return e;if(a instanceof z0)return a;if(H$(a)){const t=a.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Px.instance:t==="utc"||t==="gmt"?Xs.utcInstance:Xs.parseSpecifier(t)||Hc.create(a)}else return rh(a)?Xs.instance(a):typeof a=="object"&&"offset"in a&&typeof a.offset=="function"?a:new B$(a)}const UE={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},G6={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},G$=UE.hanidec.replace(/[\[|\]]/g,"").split("");function q$(a){let e=parseInt(a,10);if(isNaN(e)){e="";for(let t=0;t<a.length;t++){const i=a.charCodeAt(t);if(a[t].search(UE.hanidec)!==-1)e+=G$.indexOf(a[t]);else for(const n in G6){const[s,r]=G6[n];i>=s&&i<=r&&(e+=i-s)}}return parseInt(e,10)}else return e}const TT=new Map;function U$(){TT.clear()}function Tl({numberingSystem:a},e=""){const t=a||"latn";let i=TT.get(t);i===void 0&&(i=new Map,TT.set(t,i));let n=i.get(e);return n===void 0&&(n=new RegExp(`${UE[t]}${e}`),i.set(e,n)),n}let q6=()=>Date.now(),U6="system",V6=null,j6=null,H6=null,Z6=60,X6,Y6=null;class Qn{static get now(){return q6}static set now(e){q6=e}static set defaultZone(e){U6=e}static get defaultZone(){return Gd(U6,Px.instance)}static get defaultLocale(){return V6}static set defaultLocale(e){V6=e}static get defaultNumberingSystem(){return j6}static set defaultNumberingSystem(e){j6=e}static get defaultOutputCalendar(){return H6}static set defaultOutputCalendar(e){H6=e}static get defaultWeekSettings(){return Y6}static set defaultWeekSettings(e){Y6=ET(e)}static get twoDigitCutoffYear(){return Z6}static set twoDigitCutoffYear(e){Z6=e%100}static get throwOnInvalid(){return X6}static set throwOnInvalid(e){X6=e}static resetCaches(){ji.resetCache(),Hc.resetCache(),Ua.resetCache(),U$()}}class Pl{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const OR=[0,31,59,90,120,151,181,212,243,273,304,334],kR=[0,31,60,91,121,152,182,213,244,274,305,335];function nl(a,e){return new Pl("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${a}, which is invalid`)}function VE(a,e,t){const i=new Date(Date.UTC(a,e-1,t));a<100&&a>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const n=i.getUTCDay();return n===0?7:n}function PR(a,e,t){return t+(B0(a)?kR:OR)[e-1]}function DR(a,e){const t=B0(a)?kR:OR,i=t.findIndex(s=>s<e),n=e-t[i];return{month:i+1,day:n}}function jE(a,e){return(a-e+7)%7+1}function y2(a,e=4,t=1){const{year:i,month:n,day:s}=a,r=PR(i,n,s),l=jE(VE(i,n,s),t);let c=Math.floor((r-l+14-e)/7),h;return c<1?(h=i-1,c=p0(h,e,t)):c>p0(i,e,t)?(h=i+1,c=1):h=i,{weekYear:h,weekNumber:c,weekday:l,...Wx(a)}}function K6(a,e=4,t=1){const{weekYear:i,weekNumber:n,weekday:s}=a,r=jE(VE(i,1,e),t),l=$p(i);let c=n*7+s-r-7+e,h;c<1?(h=i-1,c+=$p(h)):c>l?(h=i+1,c-=$p(i)):h=i;const{month:f,day:v}=DR(h,c);return{year:h,month:f,day:v,...Wx(a)}}function PS(a){const{year:e,month:t,day:i}=a,n=PR(e,t,i);return{year:e,ordinal:n,...Wx(a)}}function $6(a){const{year:e,ordinal:t}=a,{month:i,day:n}=DR(e,t);return{year:e,month:i,day:n,...Wx(a)}}function Q6(a,e){if(!Za(a.localWeekday)||!Za(a.localWeekNumber)||!Za(a.localWeekYear)){if(!Za(a.weekday)||!Za(a.weekNumber)||!Za(a.weekYear))throw new Fp("Cannot mix locale-based week fields with ISO-based week fields");return Za(a.localWeekday)||(a.weekday=a.localWeekday),Za(a.localWeekNumber)||(a.weekNumber=a.localWeekNumber),Za(a.localWeekYear)||(a.weekYear=a.localWeekYear),delete a.localWeekday,delete a.localWeekNumber,delete a.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function V$(a,e=4,t=1){const i=Dx(a.weekYear),n=rl(a.weekNumber,1,p0(a.weekYear,e,t)),s=rl(a.weekday,1,7);return i?n?s?!1:nl("weekday",a.weekday):nl("week",a.weekNumber):nl("weekYear",a.weekYear)}function j$(a){const e=Dx(a.year),t=rl(a.ordinal,1,$p(a.year));return e?t?!1:nl("ordinal",a.ordinal):nl("year",a.year)}function FR(a){const e=Dx(a.year),t=rl(a.month,1,12),i=rl(a.day,1,v2(a.year,a.month));return e?t?i?!1:nl("day",a.day):nl("month",a.month):nl("year",a.year)}function NR(a){const{hour:e,minute:t,second:i,millisecond:n}=a,s=rl(e,0,23)||e===24&&t===0&&i===0&&n===0,r=rl(t,0,59),l=rl(i,0,59),c=rl(n,0,999);return s?r?l?c?!1:nl("millisecond",n):nl("second",i):nl("minute",t):nl("hour",e)}function Za(a){return typeof a>"u"}function rh(a){return typeof a=="number"}function Dx(a){return typeof a=="number"&&a%1===0}function H$(a){return typeof a=="string"}function Z$(a){return Object.prototype.toString.call(a)==="[object Date]"}function WR(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function zR(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function X$(a){return Array.isArray(a)?a:[a]}function J6(a,e,t){if(a.length!==0)return a.reduce((i,n)=>{const s=[e(n),n];return i&&t(i[0],s[0])===i[0]?i:s},null)[1]}function Y$(a,e){return e.reduce((t,i)=>(t[i]=a[i],t),{})}function gf(a,e){return Object.prototype.hasOwnProperty.call(a,e)}function ET(a){if(a==null)return null;if(typeof a!="object")throw new Ts("Week settings must be an object");if(!rl(a.firstDay,1,7)||!rl(a.minimalDays,1,7)||!Array.isArray(a.weekend)||a.weekend.some(e=>!rl(e,1,7)))throw new Ts("Invalid week settings");return{firstDay:a.firstDay,minimalDays:a.minimalDays,weekend:Array.from(a.weekend)}}function rl(a,e,t){return Dx(a)&&a>=e&&a<=t}function K$(a,e){return a-e*Math.floor(a/e)}function gr(a,e=2){const t=a<0;let i;return t?i="-"+(""+-a).padStart(e,"0"):i=(""+a).padStart(e,"0"),i}function Nd(a){if(!(Za(a)||a===null||a===""))return parseInt(a,10)}function g_(a){if(!(Za(a)||a===null||a===""))return parseFloat(a)}function HE(a){if(!(Za(a)||a===null||a==="")){const e=parseFloat("0."+a)*1e3;return Math.floor(e)}}function ZE(a,e,t=!1){const i=10**e;return(t?Math.trunc:Math.round)(a*i)/i}function B0(a){return a%4===0&&(a%100!==0||a%400===0)}function $p(a){return B0(a)?366:365}function v2(a,e){const t=K$(e-1,12)+1,i=a+(e-t)/12;return t===2?B0(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Fx(a){let e=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);return a.year<100&&a.year>=0&&(e=new Date(e),e.setUTCFullYear(a.year,a.month-1,a.day)),+e}function eA(a,e,t){return-jE(VE(a,1,e),t)+e-1}function p0(a,e=4,t=1){const i=eA(a,e,t),n=eA(a+1,e,t);return($p(a)-i+n)/7}function MT(a){return a>99?a:a>Qn.twoDigitCutoffYear?1900+a:2e3+a}function BR(a,e,t,i=null){const n=new Date(a),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const r={timeZoneName:e,...s},l=new Intl.DateTimeFormat(t,r).formatToParts(n).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function Nx(a,e){let t=parseInt(a,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,n=t<0||Object.is(t,-0)?-i:i;return t*60+n}function GR(a){const e=Number(a);if(typeof a=="boolean"||a===""||Number.isNaN(e))throw new Ts(`Invalid unit value ${a}`);return e}function b2(a,e){const t={};for(const i in a)if(gf(a,i)){const n=a[i];if(n==null)continue;t[e(i)]=GR(n)}return t}function ky(a,e){const t=Math.trunc(Math.abs(a/60)),i=Math.trunc(Math.abs(a%60)),n=a>=0?"+":"-";switch(e){case"short":return`${n}${gr(t,2)}:${gr(i,2)}`;case"narrow":return`${n}${t}${i>0?`:${i}`:""}`;case"techie":return`${n}${gr(t,2)}${gr(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Wx(a){return Y$(a,["hour","minute","second","millisecond"])}const $$=["January","February","March","April","May","June","July","August","September","October","November","December"],qR=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Q$=["J","F","M","A","M","J","J","A","S","O","N","D"];function UR(a){switch(a){case"narrow":return[...Q$];case"short":return[...qR];case"long":return[...$$];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const VR=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],jR=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],J$=["M","T","W","T","F","S","S"];function HR(a){switch(a){case"narrow":return[...J$];case"short":return[...jR];case"long":return[...VR];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ZR=["AM","PM"],eQ=["Before Christ","Anno Domini"],tQ=["BC","AD"],aQ=["B","A"];function XR(a){switch(a){case"narrow":return[...aQ];case"short":return[...tQ];case"long":return[...eQ];default:return null}}function iQ(a){return ZR[a.hour<12?0:1]}function nQ(a,e){return HR(e)[a.weekday-1]}function rQ(a,e){return UR(e)[a.month-1]}function sQ(a,e){return XR(e)[a.year<0?0:1]}function oQ(a,e,t="always",i=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(a)===-1;if(t==="auto"&&s){const v=a==="days";switch(e){case 1:return v?"tomorrow":`next ${n[a][0]}`;case-1:return v?"yesterday":`last ${n[a][0]}`;case 0:return v?"today":`this ${n[a][0]}`}}const r=Object.is(e,-0)||e<0,l=Math.abs(e),c=l===1,h=n[a],f=i?c?h[1]:h[2]||h[1]:c?n[a][0]:a;return r?`${l} ${f} ago`:`in ${l} ${f}`}function tA(a,e){let t="";for(const i of a)i.literal?t+=i.val:t+=e(i.val);return t}const lQ={D:g2,DD:dR,DDD:hR,DDDD:_R,t:mR,tt:pR,ttt:fR,tttt:gR,T:yR,TT:vR,TTT:bR,TTTT:xR,f:wR,ff:TR,fff:MR,ffff:AR,F:SR,FF:ER,FFF:LR,FFFF:CR};class Ls{static create(e,t={}){return new Ls(e,t)}static parseFormat(e){let t=null,i="",n=!1;const s=[];for(let r=0;r<e.length;r++){const l=e.charAt(r);l==="'"?(i.length>0&&s.push({literal:n||/^\s+$/.test(i),val:i}),t=null,i="",n=!n):n||l===t?i+=l:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=l,t=l)}return i.length>0&&s.push({literal:n||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return lQ[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return gr(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(T,M)=>this.loc.extract(e,T,M),r=T=>e.isOffsetFixed&&e.offset===0&&T.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,T.format):"",l=()=>i?iQ(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(T,M)=>i?rQ(e,T):s(M?{month:T}:{month:T,day:"numeric"},"month"),h=(T,M)=>i?nQ(e,T):s(M?{weekday:T}:{weekday:T,month:"long",day:"numeric"},"weekday"),f=T=>{const M=Ls.macroTokenToFormatOpts(T);return M?this.formatWithSystemDefault(e,M):T},v=T=>i?sQ(e,T):s({era:T},"era"),b=T=>{switch(T){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return r({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return r({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return r({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return n?s({day:"numeric"},"day"):this.num(e.day);case"dd":return n?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return n?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return n?s({month:"numeric"},"month"):this.num(e.month);case"MM":return n?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return n?s({year:"numeric"},"year"):this.num(e.year);case"yy":return n?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return v("short");case"GG":return v("long");case"GGGGG":return v("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(T)}};return tA(Ls.parseFormat(t),b)}formatDurationFromString(e,t){const i=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=c=>h=>{const f=i(h);return f?this.num(c.get(f),h.length):h},s=Ls.parseFormat(t),r=s.reduce((c,{literal:h,val:f})=>h?c:c.concat(f),[]),l=e.shiftTo(...r.map(i).filter(c=>c));return tA(s,n(l))}}const YR=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Pf(...a){const e=a.reduce((t,i)=>t+i.source,"");return RegExp(`^${e}$`)}function Df(...a){return e=>a.reduce(([t,i,n],s)=>{const[r,l,c]=s(e,n);return[{...t,...r},l||i,c]},[{},null,1]).slice(0,2)}function Ff(a,...e){if(a==null)return[null,null];for(const[t,i]of e){const n=t.exec(a);if(n)return i(n)}return[null,null]}function KR(...a){return(e,t)=>{const i={};let n;for(n=0;n<a.length;n++)i[a[n]]=Nd(e[t+n]);return[i,null,t+n]}}const $R=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,uQ=`(?:${$R.source}?(?:\\[(${YR.source})\\])?)?`,XE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,QR=RegExp(`${XE.source}${uQ}`),YE=RegExp(`(?:T${QR.source})?`),cQ=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,dQ=/(\d{4})-?W(\d\d)(?:-?(\d))?/,hQ=/(\d{4})-?(\d{3})/,_Q=KR("weekYear","weekNumber","weekDay"),mQ=KR("year","ordinal"),pQ=/(\d{4})-(\d\d)-(\d\d)/,JR=RegExp(`${XE.source} ?(?:${$R.source}|(${YR.source}))?`),fQ=RegExp(`(?: ${JR.source})?`);function Qp(a,e,t){const i=a[e];return Za(i)?t:Nd(i)}function gQ(a,e){return[{year:Qp(a,e),month:Qp(a,e+1,1),day:Qp(a,e+2,1)},null,e+3]}function Nf(a,e){return[{hours:Qp(a,e,0),minutes:Qp(a,e+1,0),seconds:Qp(a,e+2,0),milliseconds:HE(a[e+3])},null,e+4]}function G0(a,e){const t=!a[e]&&!a[e+1],i=Nx(a[e+1],a[e+2]),n=t?null:Xs.instance(i);return[{},n,e+3]}function q0(a,e){const t=a[e]?Hc.create(a[e]):null;return[{},t,e+1]}const yQ=RegExp(`^T?${XE.source}$`),vQ=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function bQ(a){const[e,t,i,n,s,r,l,c,h]=a,f=e[0]==="-",v=c&&c[0]==="-",b=(T,M=!1)=>T!==void 0&&(M||T&&f)?-T:T;return[{years:b(g_(t)),months:b(g_(i)),weeks:b(g_(n)),days:b(g_(s)),hours:b(g_(r)),minutes:b(g_(l)),seconds:b(g_(c),c==="-0"),milliseconds:b(HE(h),v)}]}const xQ={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function KE(a,e,t,i,n,s,r){const l={year:e.length===2?MT(Nd(e)):Nd(e),month:qR.indexOf(t)+1,day:Nd(i),hour:Nd(n),minute:Nd(s)};return r&&(l.second=Nd(r)),a&&(l.weekday=a.length>3?VR.indexOf(a)+1:jR.indexOf(a)+1),l}const wQ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function SQ(a){const[,e,t,i,n,s,r,l,c,h,f,v]=a,b=KE(e,n,i,t,s,r,l);let T;return c?T=xQ[c]:h?T=0:T=Nx(f,v),[b,new Xs(T)]}function TQ(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const EQ=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,MQ=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,LQ=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function aA(a){const[,e,t,i,n,s,r,l]=a;return[KE(e,n,i,t,s,r,l),Xs.utcInstance]}function AQ(a){const[,e,t,i,n,s,r,l]=a;return[KE(e,l,t,i,n,s,r),Xs.utcInstance]}const CQ=Pf(cQ,YE),IQ=Pf(dQ,YE),RQ=Pf(hQ,YE),OQ=Pf(QR),eO=Df(gQ,Nf,G0,q0),kQ=Df(_Q,Nf,G0,q0),PQ=Df(mQ,Nf,G0,q0),DQ=Df(Nf,G0,q0);function FQ(a){return Ff(a,[CQ,eO],[IQ,kQ],[RQ,PQ],[OQ,DQ])}function NQ(a){return Ff(TQ(a),[wQ,SQ])}function WQ(a){return Ff(a,[EQ,aA],[MQ,aA],[LQ,AQ])}function zQ(a){return Ff(a,[vQ,bQ])}const BQ=Df(Nf);function GQ(a){return Ff(a,[yQ,BQ])}const qQ=Pf(pQ,fQ),UQ=Pf(JR),VQ=Df(Nf,G0,q0);function jQ(a){return Ff(a,[qQ,eO],[UQ,VQ])}const iA="Invalid Duration",tO={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},HQ={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...tO},tl=146097/400,_p=146097/4800,ZQ={years:{quarters:4,months:12,weeks:tl/7,days:tl,hours:tl*24,minutes:tl*24*60,seconds:tl*24*60*60,milliseconds:tl*24*60*60*1e3},quarters:{months:3,weeks:tl/28,days:tl/4,hours:tl*24/4,minutes:tl*24*60/4,seconds:tl*24*60*60/4,milliseconds:tl*24*60*60*1e3/4},months:{weeks:_p/7,days:_p,hours:_p*24,minutes:_p*24*60,seconds:_p*24*60*60,milliseconds:_p*24*60*60*1e3},...tO},k_=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],XQ=k_.slice(0).reverse();function Ld(a,e,t=!1){const i={values:t?e.values:{...a.values,...e.values||{}},loc:a.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||a.conversionAccuracy,matrix:e.matrix||a.matrix};return new Pi(i)}function aO(a,e){let t=e.milliseconds??0;for(const i of XQ.slice(1))e[i]&&(t+=e[i]*a[i].milliseconds);return t}function nA(a,e){const t=aO(a,e)<0?-1:1;k_.reduceRight((i,n)=>{if(Za(e[n]))return i;if(i){const s=e[i]*t,r=a[n][i],l=Math.floor(s/r);e[n]+=l*t,e[i]-=l*r*t}return n},null),k_.reduce((i,n)=>{if(Za(e[n]))return i;if(i){const s=e[i]%1;e[i]-=s,e[n]+=s*a[i][n]}return n},null)}function YQ(a){const e={};for(const[t,i]of Object.entries(a))i!==0&&(e[t]=i);return e}class Pi{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let i=t?ZQ:HQ;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||ji.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return Pi.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Ts(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Pi({values:b2(e,Pi.normalizeUnit),loc:ji.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(rh(e))return Pi.fromMillis(e);if(Pi.isDuration(e))return e;if(typeof e=="object")return Pi.fromObject(e);throw new Ts(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=zQ(e);return i?Pi.fromObject(i,t):Pi.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=GQ(e);return i?Pi.fromObject(i,t):Pi.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Ts("need to specify a reason the Duration is invalid");const i=e instanceof Pl?e:new Pl(e,t);if(Qn.throwOnInvalid)throw new b$(i);return new Pi({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new cR(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?Ls.create(this.loc,i).formatDurationFromString(this,e):iA}toHuman(e={}){if(!this.isValid)return iA;const t=k_.map(i=>{const n=this.values[i];return Za(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(n)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ZE(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Ua.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?aO(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Pi.fromDurationLike(e),i={};for(const n of k_)(gf(t.values,n)||gf(this.values,n))&&(i[n]=t.get(n)+this.get(n));return Ld(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=Pi.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=GR(e(this.values[i],i));return Ld(this,{values:t},!0)}get(e){return this[Pi.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...b2(e,Pi.normalizeUnit)};return Ld(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:n}={}){const r={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:n,conversionAccuracy:i};return Ld(this,r)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return nA(this.matrix,e),Ld(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=YQ(this.normalize().shiftToAll().toObject());return Ld(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(r=>Pi.normalizeUnit(r));const t={},i={},n=this.toObject();let s;for(const r of k_)if(e.indexOf(r)>=0){s=r;let l=0;for(const h in i)l+=this.matrix[h][r]*i[h],i[h]=0;rh(n[r])&&(l+=n[r]);const c=Math.trunc(l);t[r]=c,i[r]=(l*1e3-c*1e3)/1e3}else rh(n[r])&&(i[r]=n[r]);for(const r in i)i[r]!==0&&(t[s]+=r===s?i[r]:i[r]/this.matrix[s][r]);return nA(this.matrix,t),Ld(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Ld(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,n){return i===void 0||i===0?n===void 0||n===0:i===n}for(const i of k_)if(!t(this.values[i],e.values[i]))return!1;return!0}}const mp="Invalid Interval";function KQ(a,e){return!a||!a.isValid?$n.invalid("missing or invalid start"):!e||!e.isValid?$n.invalid("missing or invalid end"):e<a?$n.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${e.toISO()}`):null}class $n{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Ts("need to specify a reason the Interval is invalid");const i=e instanceof Pl?e:new Pl(e,t);if(Qn.throwOnInvalid)throw new v$(i);return new $n({invalid:i})}static fromDateTimes(e,t){const i=Xg(e),n=Xg(t),s=KQ(i,n);return s??new $n({start:i,end:n})}static after(e,t){const i=Pi.fromDurationLike(t),n=Xg(e);return $n.fromDateTimes(n,n.plus(i))}static before(e,t){const i=Pi.fromDurationLike(t),n=Xg(e);return $n.fromDateTimes(n.minus(i),n)}static fromISO(e,t){const[i,n]=(e||"").split("/",2);if(i&&n){let s,r;try{s=Ua.fromISO(i,t),r=s.isValid}catch{r=!1}let l,c;try{l=Ua.fromISO(n,t),c=l.isValid}catch{c=!1}if(r&&c)return $n.fromDateTimes(s,l);if(r){const h=Pi.fromISO(n,t);if(h.isValid)return $n.after(s,h)}else if(c){const h=Pi.fromISO(i,t);if(h.isValid)return $n.before(l,h)}}return $n.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const i=this.start.startOf(e,t);let n;return t!=null&&t.useLocaleWeeks?n=this.end.reconfigure({locale:i.locale}):n=this.end,n=n.startOf(e,t),Math.floor(n.diff(i,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?$n.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Xg).filter(r=>this.contains(r)).sort((r,l)=>r.toMillis()-l.toMillis()),i=[];let{s:n}=this,s=0;for(;n<this.e;){const r=t[s]||this.e,l=+r>+this.e?this.e:r;i.push($n.fromDateTimes(n,l)),n=l,s+=1}return i}splitBy(e){const t=Pi.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,n=1,s;const r=[];for(;i<this.e;){const l=this.start.plus(t.mapUnits(c=>c*n));s=+l>+this.e?this.e:l,r.push($n.fromDateTimes(i,s)),i=s,n+=1}return r}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:$n.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return $n.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((n,s)=>n.s-s.s).reduce(([n,s],r)=>s?s.overlaps(r)||s.abutsStart(r)?[n,s.union(r)]:[n.concat([s]),r]:[n,r],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const n=[],s=e.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),r=Array.prototype.concat(...s),l=r.sort((c,h)=>c.time-h.time);for(const c of l)i+=c.type==="s"?1:-1,i===1?t=c.time:(t&&+t!=+c.time&&n.push($n.fromDateTimes(t,c.time)),t=null);return $n.merge(n)}difference(...e){return $n.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:mp}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=g2,t={}){return this.isValid?Ls.create(this.s.loc.clone(t),e).formatInterval(this):mp}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:mp}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:mp}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:mp}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:mp}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Pi.invalid(this.invalidReason)}mapEndpoints(e){return $n.fromDateTimes(e(this.s),e(this.e))}}class Iv{static hasDST(e=Qn.defaultZone){const t=Ua.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Hc.isValidZone(e)}static normalizeZone(e){return Gd(e,Qn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||ji.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||ji.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||ji.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||ji.create(t,i,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||ji.create(t,i,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null}={}){return(n||ji.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null}={}){return(n||ji.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ji.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return ji.create(t,null,"gregory").eras(e)}static features(){return{relative:WR(),localeWeek:zR()}}}function rA(a,e){const t=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(a);return Math.floor(Pi.fromMillis(i).as("days"))}function $Q(a,e,t){const i=[["years",(c,h)=>h.year-c.year],["quarters",(c,h)=>h.quarter-c.quarter+(h.year-c.year)*4],["months",(c,h)=>h.month-c.month+(h.year-c.year)*12],["weeks",(c,h)=>{const f=rA(c,h);return(f-f%7)/7}],["days",rA]],n={},s=a;let r,l;for(const[c,h]of i)t.indexOf(c)>=0&&(r=c,n[c]=h(a,e),l=s.plus(n),l>e?(n[c]--,a=s.plus(n),a>e&&(l=a,n[c]--,a=s.plus(n))):a=l);return[a,n,l,r]}function QQ(a,e,t,i){let[n,s,r,l]=$Q(a,e,t);const c=e-n,h=t.filter(v=>["hours","minutes","seconds","milliseconds"].indexOf(v)>=0);h.length===0&&(r<e&&(r=n.plus({[l]:1})),r!==n&&(s[l]=(s[l]||0)+c/(r-n)));const f=Pi.fromObject(s,i);return h.length>0?Pi.fromMillis(c,i).shiftTo(...h).plus(f):f}const JQ="missing Intl.DateTimeFormat.formatToParts support";function zi(a,e=t=>t){return{regex:a,deser:([t])=>e(q$(t))}}const eJ=String.fromCharCode(160),iO=`[ ${eJ}]`,nO=new RegExp(iO,"g");function tJ(a){return a.replace(/\./g,"\\.?").replace(nO,iO)}function sA(a){return a.replace(/\./g,"").replace(nO," ").toLowerCase()}function El(a,e){return a===null?null:{regex:RegExp(a.map(tJ).join("|")),deser:([t])=>a.findIndex(i=>sA(t)===sA(i))+e}}function oA(a,e){return{regex:a,deser:([,t,i])=>Nx(t,i),groups:e}}function Rv(a){return{regex:a,deser:([e])=>e}}function aJ(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function iJ(a,e){const t=Tl(e),i=Tl(e,"{2}"),n=Tl(e,"{3}"),s=Tl(e,"{4}"),r=Tl(e,"{6}"),l=Tl(e,"{1,2}"),c=Tl(e,"{1,3}"),h=Tl(e,"{1,6}"),f=Tl(e,"{1,9}"),v=Tl(e,"{2,4}"),b=Tl(e,"{4,6}"),T=R=>({regex:RegExp(aJ(R.val)),deser:([P])=>P,literal:!0}),I=(R=>{if(a.literal)return T(R);switch(R.val){case"G":return El(e.eras("short"),0);case"GG":return El(e.eras("long"),0);case"y":return zi(h);case"yy":return zi(v,MT);case"yyyy":return zi(s);case"yyyyy":return zi(b);case"yyyyyy":return zi(r);case"M":return zi(l);case"MM":return zi(i);case"MMM":return El(e.months("short",!0),1);case"MMMM":return El(e.months("long",!0),1);case"L":return zi(l);case"LL":return zi(i);case"LLL":return El(e.months("short",!1),1);case"LLLL":return El(e.months("long",!1),1);case"d":return zi(l);case"dd":return zi(i);case"o":return zi(c);case"ooo":return zi(n);case"HH":return zi(i);case"H":return zi(l);case"hh":return zi(i);case"h":return zi(l);case"mm":return zi(i);case"m":return zi(l);case"q":return zi(l);case"qq":return zi(i);case"s":return zi(l);case"ss":return zi(i);case"S":return zi(c);case"SSS":return zi(n);case"u":return Rv(f);case"uu":return Rv(l);case"uuu":return zi(t);case"a":return El(e.meridiems(),0);case"kkkk":return zi(s);case"kk":return zi(v,MT);case"W":return zi(l);case"WW":return zi(i);case"E":case"c":return zi(t);case"EEE":return El(e.weekdays("short",!1),1);case"EEEE":return El(e.weekdays("long",!1),1);case"ccc":return El(e.weekdays("short",!0),1);case"cccc":return El(e.weekdays("long",!0),1);case"Z":case"ZZ":return oA(new RegExp(`([+-]${l.source})(?::(${i.source}))?`),2);case"ZZZ":return oA(new RegExp(`([+-]${l.source})(${i.source})?`),2);case"z":return Rv(/[a-z_+-/]{1,256}?/i);case" ":return Rv(/[^\S\n\r]/);default:return T(R)}})(a)||{invalidReason:JQ};return I.token=a,I}const nJ={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function rJ(a,e,t){const{type:i,value:n}=a;if(i==="literal"){const c=/^\s+$/.test(n);return{literal:!c,val:c?" ":n}}const s=e[i];let r=i;i==="hour"&&(e.hour12!=null?r=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?r="hour12":r="hour24":r=t.hour12?"hour12":"hour24");let l=nJ[r];if(typeof l=="object"&&(l=l[s]),l)return{literal:!1,val:l}}function sJ(a){return[`^${a.map(t=>t.regex).reduce((t,i)=>`${t}(${i.source})`,"")}$`,a]}function oJ(a,e,t){const i=a.match(e);if(i){const n={};let s=1;for(const r in t)if(gf(t,r)){const l=t[r],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(n[l.token.val[0]]=l.deser(i.slice(s,s+c))),s+=c}return[i,n]}else return[i,{}]}function lJ(a){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return Za(a.z)||(t=Hc.create(a.z)),Za(a.Z)||(t||(t=new Xs(a.Z)),i=a.Z),Za(a.q)||(a.M=(a.q-1)*3+1),Za(a.h)||(a.h<12&&a.a===1?a.h+=12:a.h===12&&a.a===0&&(a.h=0)),a.G===0&&a.y&&(a.y=-a.y),Za(a.u)||(a.S=HE(a.u)),[Object.keys(a).reduce((s,r)=>{const l=e(r);return l&&(s[l]=a[r]),s},{}),t,i]}let DS=null;function uJ(){return DS||(DS=Ua.fromMillis(1555555555555)),DS}function cJ(a,e){if(a.literal)return a;const t=Ls.macroTokenToFormatOpts(a.val),i=lO(t,e);return i==null||i.includes(void 0)?a:i}function rO(a,e){return Array.prototype.concat(...a.map(t=>cJ(t,e)))}class sO{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=rO(Ls.parseFormat(t),e),this.units=this.tokens.map(i=>iJ(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,n]=sJ(this.units);this.regex=RegExp(i,"i"),this.handlers=n}}explainFromTokens(e){if(this.isValid){const[t,i]=oJ(e,this.regex,this.handlers),[n,s,r]=i?lJ(i):[null,null,void 0];if(gf(i,"a")&&gf(i,"H"))throw new Fp("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:i,result:n,zone:s,specificOffset:r}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function oO(a,e,t){return new sO(a,t).explainFromTokens(e)}function dJ(a,e,t){const{result:i,zone:n,specificOffset:s,invalidReason:r}=oO(a,e,t);return[i,n,s,r]}function lO(a,e){if(!a)return null;const i=Ls.create(e,a).dtFormatter(uJ()),n=i.formatToParts(),s=i.resolvedOptions();return n.map(r=>rJ(r,a,s))}const FS="Invalid DateTime",lA=864e13;function sy(a){return new Pl("unsupported zone",`the zone "${a.name}" is not supported`)}function NS(a){return a.weekData===null&&(a.weekData=y2(a.c)),a.weekData}function WS(a){return a.localWeekData===null&&(a.localWeekData=y2(a.c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a.localWeekData}function y_(a,e){const t={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Ua({...t,...e,old:t})}function uO(a,e,t){let i=a-e*60*1e3;const n=t.offset(i);if(e===n)return[i,e];i-=(n-e)*60*1e3;const s=t.offset(i);return n===s?[i,n]:[a-Math.min(n,s)*60*1e3,Math.max(n,s)]}function Ov(a,e){a+=e*60*1e3;const t=new Date(a);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function pb(a,e,t){return uO(Fx(a),e,t)}function uA(a,e){const t=a.o,i=a.c.year+Math.trunc(e.years),n=a.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...a.c,year:i,month:n,day:Math.min(a.c.day,v2(i,n))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},r=Pi.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=Fx(s);let[c,h]=uO(l,t,a.zone);return r!==0&&(c+=r,h=a.zone.offset(c)),{ts:c,o:h}}function pp(a,e,t,i,n,s){const{setZone:r,zone:l}=t;if(a&&Object.keys(a).length!==0||e){const c=e||l,h=Ua.fromObject(a,{...t,zone:c,specificOffset:s});return r?h:h.setZone(l)}else return Ua.invalid(new Pl("unparsable",`the input "${n}" can't be parsed as ${i}`))}function kv(a,e,t=!0){return a.isValid?Ls.create(ji.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(a,e):null}function zS(a,e){const t=a.c.year>9999||a.c.year<0;let i="";return t&&a.c.year>=0&&(i+="+"),i+=gr(a.c.year,t?6:4),e?(i+="-",i+=gr(a.c.month),i+="-",i+=gr(a.c.day)):(i+=gr(a.c.month),i+=gr(a.c.day)),i}function cA(a,e,t,i,n,s){let r=gr(a.c.hour);return e?(r+=":",r+=gr(a.c.minute),(a.c.millisecond!==0||a.c.second!==0||!t)&&(r+=":")):r+=gr(a.c.minute),(a.c.millisecond!==0||a.c.second!==0||!t)&&(r+=gr(a.c.second),(a.c.millisecond!==0||!i)&&(r+=".",r+=gr(a.c.millisecond,3))),n&&(a.isOffsetFixed&&a.offset===0&&!s?r+="Z":a.o<0?(r+="-",r+=gr(Math.trunc(-a.o/60)),r+=":",r+=gr(Math.trunc(-a.o%60))):(r+="+",r+=gr(Math.trunc(a.o/60)),r+=":",r+=gr(Math.trunc(a.o%60)))),s&&(r+="["+a.zone.ianaName+"]"),r}const cO={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},hJ={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},_J={ordinal:1,hour:0,minute:0,second:0,millisecond:0},dO=["year","month","day","hour","minute","second","millisecond"],mJ=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],pJ=["year","ordinal","hour","minute","second","millisecond"];function fJ(a){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!e)throw new cR(a);return e}function dA(a){switch(a.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return fJ(a)}}function gJ(a){if(oy===void 0&&(oy=Qn.now()),a.type!=="iana")return a.offset(oy);const e=a.name;let t=LT.get(e);return t===void 0&&(t=a.offset(oy),LT.set(e,t)),t}function hA(a,e){const t=Gd(e.zone,Qn.defaultZone);if(!t.isValid)return Ua.invalid(sy(t));const i=ji.fromObject(e);let n,s;if(Za(a.year))n=Qn.now();else{for(const c of dO)Za(a[c])&&(a[c]=cO[c]);const r=FR(a)||NR(a);if(r)return Ua.invalid(r);const l=gJ(t);[n,s]=pb(a,l,t)}return new Ua({ts:n,zone:t,loc:i,o:s})}function _A(a,e,t){const i=Za(t.round)?!0:t.round,n=(r,l)=>(r=ZE(r,i||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(r,l)),s=r=>t.calendary?e.hasSame(a,r)?0:e.startOf(r).diff(a.startOf(r),r).get(r):e.diff(a,r).get(r);if(t.unit)return n(s(t.unit),t.unit);for(const r of t.units){const l=s(r);if(Math.abs(l)>=1)return n(l,r)}return n(a>e?-0:0,t.units[t.units.length-1])}function mA(a){let e={},t;return a.length>0&&typeof a[a.length-1]=="object"?(e=a[a.length-1],t=Array.from(a).slice(0,a.length-1)):t=Array.from(a),[e,t]}let oy;const LT=new Map;class Ua{constructor(e){const t=e.zone||Qn.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Pl("invalid input"):null)||(t.isValid?null:sy(t));this.ts=Za(e.ts)?Qn.now():e.ts;let n=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,s]=[e.old.c,e.old.o];else{const l=rh(e.o)&&!e.old?e.o:t.offset(this.ts);n=Ov(this.ts,l),i=Number.isNaN(n.year)?new Pl("invalid input"):null,n=i?null:n,s=i?null:l}this._zone=t,this.loc=e.loc||ji.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=n,this.o=s,this.isLuxonDateTime=!0}static now(){return new Ua({})}static local(){const[e,t]=mA(arguments),[i,n,s,r,l,c,h]=t;return hA({year:i,month:n,day:s,hour:r,minute:l,second:c,millisecond:h},e)}static utc(){const[e,t]=mA(arguments),[i,n,s,r,l,c,h]=t;return e.zone=Xs.utcInstance,hA({year:i,month:n,day:s,hour:r,minute:l,second:c,millisecond:h},e)}static fromJSDate(e,t={}){const i=Z$(e)?e.valueOf():NaN;if(Number.isNaN(i))return Ua.invalid("invalid input");const n=Gd(t.zone,Qn.defaultZone);return n.isValid?new Ua({ts:i,zone:n,loc:ji.fromObject(t)}):Ua.invalid(sy(n))}static fromMillis(e,t={}){if(rh(e))return e<-lA||e>lA?Ua.invalid("Timestamp out of range"):new Ua({ts:e,zone:Gd(t.zone,Qn.defaultZone),loc:ji.fromObject(t)});throw new Ts(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(rh(e))return new Ua({ts:e*1e3,zone:Gd(t.zone,Qn.defaultZone),loc:ji.fromObject(t)});throw new Ts("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=Gd(t.zone,Qn.defaultZone);if(!i.isValid)return Ua.invalid(sy(i));const n=ji.fromObject(t),s=b2(e,dA),{minDaysInFirstWeek:r,startOfWeek:l}=Q6(s,n),c=Qn.now(),h=Za(t.specificOffset)?i.offset(c):t.specificOffset,f=!Za(s.ordinal),v=!Za(s.year),b=!Za(s.month)||!Za(s.day),T=v||b,M=s.weekYear||s.weekNumber;if((T||f)&&M)throw new Fp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&f)throw new Fp("Can't mix ordinal dates with month/day");const I=M||s.weekday&&!T;let R,P,F=Ov(c,h);I?(R=mJ,P=hJ,F=y2(F,r,l)):f?(R=pJ,P=_J,F=PS(F)):(R=dO,P=cO);let B=!1;for(const me of R){const fe=s[me];Za(fe)?B?s[me]=P[me]:s[me]=F[me]:B=!0}const W=I?V$(s,r,l):f?j$(s):FR(s),Z=W||NR(s);if(Z)return Ua.invalid(Z);const ae=I?K6(s,r,l):f?$6(s):s,[he,_e]=pb(ae,h,i),ie=new Ua({ts:he,zone:i,o:_e,loc:n});return s.weekday&&T&&e.weekday!==ie.weekday?Ua.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${ie.toISO()}`):ie.isValid?ie:Ua.invalid(ie.invalid)}static fromISO(e,t={}){const[i,n]=FQ(e);return pp(i,n,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,n]=NQ(e);return pp(i,n,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,n]=WQ(e);return pp(i,n,t,"HTTP",t)}static fromFormat(e,t,i={}){if(Za(e)||Za(t))throw new Ts("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:s=null}=i,r=ji.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),[l,c,h,f]=dJ(r,e,t);return f?Ua.invalid(f):pp(l,c,i,`format ${t}`,e,h)}static fromString(e,t,i={}){return Ua.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,n]=jQ(e);return pp(i,n,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Ts("need to specify a reason the DateTime is invalid");const i=e instanceof Pl?e:new Pl(e,t);if(Qn.throwOnInvalid)throw new y$(i);return new Ua({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=lO(e,ji.fromObject(t));return i?i.map(n=>n?n.val:null).join(""):null}static expandFormat(e,t={}){return rO(Ls.parseFormat(e),ji.fromObject(t)).map(n=>n.val).join("")}static resetCache(){oy=void 0,LT.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?NS(this).weekYear:NaN}get weekNumber(){return this.isValid?NS(this).weekNumber:NaN}get weekday(){return this.isValid?NS(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?WS(this).weekday:NaN}get localWeekNumber(){return this.isValid?WS(this).weekNumber:NaN}get localWeekYear(){return this.isValid?WS(this).weekYear:NaN}get ordinal(){return this.isValid?PS(this.c).ordinal:NaN}get monthShort(){return this.isValid?Iv.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Iv.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Iv.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Iv.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=Fx(this.c),n=this.zone.offset(i-e),s=this.zone.offset(i+e),r=this.zone.offset(i-n*t),l=this.zone.offset(i-s*t);if(r===l)return[this];const c=i-r*t,h=i-l*t,f=Ov(c,r),v=Ov(h,l);return f.hour===v.hour&&f.minute===v.minute&&f.second===v.second&&f.millisecond===v.millisecond?[y_(this,{ts:c}),y_(this,{ts:h})]:[this]}get isInLeapYear(){return B0(this.year)}get daysInMonth(){return v2(this.year,this.month)}get daysInYear(){return this.isValid?$p(this.year):NaN}get weeksInWeekYear(){return this.isValid?p0(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?p0(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:n}=Ls.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:n}}toUTC(e=0,t={}){return this.setZone(Xs.instance(e),t)}toLocal(){return this.setZone(Qn.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=Gd(e,Qn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||i){const s=e.offset(this.ts),r=this.toObject();[n]=pb(r,s,e)}return y_(this,{ts:n,zone:e})}else return Ua.invalid(sy(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const n=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return y_(this,{loc:n})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=b2(e,dA),{minDaysInFirstWeek:i,startOfWeek:n}=Q6(t,this.loc),s=!Za(t.weekYear)||!Za(t.weekNumber)||!Za(t.weekday),r=!Za(t.ordinal),l=!Za(t.year),c=!Za(t.month)||!Za(t.day),h=l||c,f=t.weekYear||t.weekNumber;if((h||r)&&f)throw new Fp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&r)throw new Fp("Can't mix ordinal dates with month/day");let v;s?v=K6({...y2(this.c,i,n),...t},i,n):Za(t.ordinal)?(v={...this.toObject(),...t},Za(t.day)&&(v.day=Math.min(v2(v.year,v.month),v.day))):v=$6({...PS(this.c),...t});const[b,T]=pb(v,this.o,this.zone);return y_(this,{ts:b,o:T})}plus(e){if(!this.isValid)return this;const t=Pi.fromDurationLike(e);return y_(this,uA(this,t))}minus(e){if(!this.isValid)return this;const t=Pi.fromDurationLike(e).negate();return y_(this,uA(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const i={},n=Pi.normalizeUnit(e);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(n==="weeks")if(t){const s=this.loc.getStartOfWeek(),{weekday:r}=this;r<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(n==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?Ls.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):FS}toLocaleString(e=g2,t={}){return this.isValid?Ls.create(this.loc.clone(t),e).formatDateTime(this):FS}toLocaleParts(e={}){return this.isValid?Ls.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const r=e==="extended";let l=zS(this,r);return l+="T",l+=cA(this,r,t,i,n,s),l}toISODate({format:e="extended"}={}){return this.isValid?zS(this,e==="extended"):null}toISOWeekDate(){return kv(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:s=!1,format:r="extended"}={}){return this.isValid?(n?"T":"")+cA(this,r==="extended",t,e,i,s):null}toRFC2822(){return kv(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return kv(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?zS(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return(t||e)&&(i&&(n+=" "),t?n+="z":e&&(n+="ZZ")),kv(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():FS}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return Pi.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=X$(t).map(Pi.normalizeUnit),r=e.valueOf()>this.valueOf(),l=r?this:e,c=r?e:this,h=QQ(l,c,s,n);return r?h.negate():h}diffNow(e="milliseconds",t={}){return this.diff(Ua.now(),e,t)}until(e){return this.isValid?$n.fromDateTimes(this,e):this}hasSame(e,t,i){if(!this.isValid)return!1;const n=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t,i)<=n&&n<=s.endOf(t,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||Ua.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(n=e.unit,s=void 0),_A(t,this.plus(i),{...e,numeric:"always",units:n,unit:s})}toRelativeCalendar(e={}){return this.isValid?_A(e.base||Ua.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Ua.isDateTime))throw new Ts("min requires all arguments be DateTimes");return J6(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(Ua.isDateTime))throw new Ts("max requires all arguments be DateTimes");return J6(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:n=null,numberingSystem:s=null}=i,r=ji.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return oO(r,e,t)}static fromStringExplain(e,t,i={}){return Ua.fromFormatExplain(e,t,i)}static buildFormatParser(e,t={}){const{locale:i=null,numberingSystem:n=null}=t,s=ji.fromOpts({locale:i,numberingSystem:n,defaultToEN:!0});return new sO(s,e)}static fromFormatParser(e,t,i={}){if(Za(e)||Za(t))throw new Ts("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:s=null}=i,r=ji.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});if(!r.equals(t.locale))throw new Ts(`fromFormatParser called with a locale of ${r}, but the format parser was created for ${t.locale}`);const{result:l,zone:c,specificOffset:h,invalidReason:f}=t.explainFromTokens(e);return f?Ua.invalid(f):pp(l,c,i,`format ${t.format}`,e,h)}static get DATE_SHORT(){return g2}static get DATE_MED(){return dR}static get DATE_MED_WITH_WEEKDAY(){return x$}static get DATE_FULL(){return hR}static get DATE_HUGE(){return _R}static get TIME_SIMPLE(){return mR}static get TIME_WITH_SECONDS(){return pR}static get TIME_WITH_SHORT_OFFSET(){return fR}static get TIME_WITH_LONG_OFFSET(){return gR}static get TIME_24_SIMPLE(){return yR}static get TIME_24_WITH_SECONDS(){return vR}static get TIME_24_WITH_SHORT_OFFSET(){return bR}static get TIME_24_WITH_LONG_OFFSET(){return xR}static get DATETIME_SHORT(){return wR}static get DATETIME_SHORT_WITH_SECONDS(){return SR}static get DATETIME_MED(){return TR}static get DATETIME_MED_WITH_SECONDS(){return ER}static get DATETIME_MED_WITH_WEEKDAY(){return w$}static get DATETIME_FULL(){return MR}static get DATETIME_FULL_WITH_SECONDS(){return LR}static get DATETIME_HUGE(){return AR}static get DATETIME_HUGE_WITH_SECONDS(){return CR}}function Xg(a){if(Ua.isDateTime(a))return a;if(a&&a.valueOf&&rh(a.valueOf()))return Ua.fromJSDate(a);if(a&&typeof a=="object")return Ua.fromObject(a);throw new Ts(`Unknown datetime argument: ${a}, of type ${typeof a}`)}const hO=[0,1,0,0];function pA(a,e="second",t,i){const{t:n}=ma(),s=new Date(a).toISOString(),r={year:n("yyyy"),month:n("M/yyyy"),day:n("M/d/yyyy"),second:n("M/d/yyyy HH:mm:ss")},c=(t?{year:"yyyy",month:"yyyy-MM",day:"yyyy-MM-dd",second:void 0}:r)[e];return c?Ua.fromISO(s).toFormat(`${i?"UTC:":""}${c}`):s.replace(/\.\d{3}/,"")}function AT(a){return new Date(a).toISOString().split(".")[0]+"Z"}function BS(a){return Ua.fromISO(a).toFormat("yyyy-MM-dd")}function yJ(a,e){return a<=e.minValue?e.minValue:a>=e.maxValue?e.maxValue:e.timeValueList?vJ(a,e):bJ(a,e)}function vJ(a,e){const t=e.timeValueList??[];let i,n=0,s=t.length-1;for(;s-n>1;)i=Math.floor((n+s)/2),t[i]>=a?s=i:n=i;const r=Math.abs(t[n]-a),l=Math.abs(t[s]-a);return t[r<l?n:s]}function bJ(a,e){const t=e.timeInterval??hO,i=new Date(a).getTime(),n=new Date(e.minValue),s=e.maxValue;let r=e.minValue,l=Math.abs(i-r);for(let c=1;;c++){const h=new Date(n.getTime());if(h.setFullYear(n.getFullYear()+c*t[0]),h.setMonth(n.getMonth()+c*t[1],n.getDate()+c*t[2]),h.setSeconds(n.getSeconds()+c*t[3]),h.getTime()>s)break;const f=Math.abs(i-h.getTime());if(f<=l)r=h.getTime(),l=f;else break}return r}const on=jo("map",()=>{const a=qo(),e=$e({}),t=Li([]),i=Li([]),n=$e(!1),s=$e(!1),r=$e(void 0),l=$e(void 0),c=$e(void 0);function h(W){r.value=W}function f(...W){t.value=[...new Set([...t.value,...W])]}function v(...W){i.value=[...new Set([...i.value,...W])]}function b(...W){t.value=t.value.filter(Z=>W.indexOf(Z.id)===-1),i.value=i.value.filter(Z=>W.indexOf(Z.id)===-1)}function T(){t.value=[]}function M(W){var Z;return!!((Z=t.value)!=null&&Z.find(ae=>ae.id===W))}function I(W,Z=!1){var he;const ae=Z?i:t;ae.value=[...((he=ae.value)==null?void 0:he.sort((_e,ie)=>W.indexOf(_e.id)-W.indexOf(ie.id)))||[]]}function R(W,Z){t.value=t.value.map(ae=>ae.id===W?{...ae,opacity:Z,previousOpacity:ae.opacity}:ae)}function P(W,Z,ae){t.value=t.value.map(he=>{if(he.id===W){const _e={...he,currentTimeMinValue:Z?AT(Z):void 0,currentTimeMaxValue:ae?AT(ae):void 0};return _e.type==="WMTS"&&(_e.name=a.getLayerCurrentLabel(_e)),_e}return he})}function F(W){n.value=W}function B(W){s.value=W}return{map:e,layers:t,layers3d:i,is3dActive:n,is3dMesh:s,bgLayer:r,minZoom:l,maxZoom:c,addLayers:f,add3dLayers:v,removeLayers:b,removeAllLayers:T,reorderLayers:I,setLayerOpacity:R,setLayerTime:P,setBgLayer:h,setIs3dActive:F,setIs3dMesh:B,hasLayer:M}});function zc(){function a(h,f){return t(h,void 0,f)}function e(h,f){return t(void 0,h,f)}function t(h,f,v){const{themes:b}=us();if(v=v||(b==null?void 0:b.find(T=>t(h,f,T))),h&&(v==null?void 0:v.id)===+h||f&&(v==null?void 0:v.name)===f)return v;if(v!=null&&v.children)for(const T of v.children){const M=t(h,f,T);if(M)return M}}function i(h){const{layerTrees_3d:f}=us();return t(h,void 0,f)}function n(h){const{bgLayers:f}=us();return f.find(v=>v.id===h)}function s(h){const{bgLayers:f}=us();return f.find(v=>v.name===h)}function r(h){return n(+h)||a(+h)||i(+h)}function l(h){const{setTheme:f}=us();f(h),c(h)}function c(h){const{maxZoom:f}=Gt(on()),v=e(h),{resolutions:b}=(v==null?void 0:v.metadata)||{};f.value=b?b.length+7:FI}return{findById:a,findByName:e,find3dLayerById:i,findBgLayerById:n,findBgLayerByName:s,findAnyLayerById:r,setTheme:l}}var ku=(a=>(a.WMS="WMS",a.WMTS="WMTS",a))(ku||{});class GS{constructor(e,t=0,i=!1){this.message=e,this.httpStatus=t,this.isCrossOriginRelated=i}}let xJ=0;function wJ(){return xJ++}function SJ(a,e,t){return new Promise((i,n)=>{const s=wJ(),r={requestId:s,taskName:a,params:t};e===null?window.dispatchEvent(new CustomEvent("ogc-client.request",{detail:r})):e.postMessage(r);const l=({detail:c,data:h})=>{const f=c||h;f.requestId===s&&(e===null?window.removeEventListener("message",l):e.removeEventListener("message",l),"error"in f?n(f.error):i(f.response))};e===null?window.addEventListener("ogc-client.response",l):e.addEventListener("message",l)})}function $E(a,e,t){const i=typeof WorkerGlobalScope<"u",n=async({detail:s,data:r})=>{const l=s||r;if(l.taskName===a){let c,h;try{c=await t(l.params)}catch(v){h=v}const f={taskName:a,requestId:l.requestId,...c&&{response:c},...h&&{error:h}};i?e.postMessage(f):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:f}))}};i?e.addEventListener("message",n):e.addEventListener("ogc-client.request",n)}let qS;function TJ(){return qS||(qS=new Worker(URL.createObjectURL(new Blob([`function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o={exports:{}};!function(t){var e=function(t){var e,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(t,e,r){var n=h;return function(o,i){if(n===v)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=v;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?d:p,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",d="completed",y={};function m(){}function g(){}function b(){}var S={};S[a]=function(){return this};var E=Object.getPrototypeOf,w=E&&E(E(C([])));w&&w!==r&&o.call(w,a)&&(S=w);var O=b.prototype=m.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(i,a,c,u){var s=l(t[i],t,a);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"===n(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(h).then((function(t){f.value=t,c(f)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}}function k(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function C(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:G}}function G(){return{value:e,done:!0}}return g.prototype=O.constructor=b,b.constructor=g,g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},x(P.prototype),P.prototype[c]=function(){return this},t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(O),s(O,u,"Generator"),O[a]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(o);var i=o.exports;function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(t,e,n){var o="undefined"!=typeof WorkerGlobalScope,a=function(){var a=r(i.mark((function r(a){var u,s,f,l,h,p;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=a.detail,s=a.data,(f=u||s).taskName!==t){r.next=14;break}return r.prev=3,r.next=6,n(f.params);case 6:l=r.sent,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),h=r.t0;case 12:p=c(c({taskName:t,requestId:f.requestId},l&&{response:l}),h&&{error:h}),o?e.postMessage(p):e.dispatchEvent(new CustomEvent("ogc-client.response",{detail:p}));case 14:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(t){return a.apply(this,arguments)}}();o?e.addEventListener("message",a):e.addEventListener("ogc-client.request",a)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function v(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t,e,r){return m=y()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&h(o,r.prototype),o},m.apply(null,arguments)}function g(t){var e="function"==typeof Map?new Map:void 0;return g=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return m(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)},g(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),t}var E=function(){function t(e){l(this,t),this.chars=f(e),this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;var r=this.chars,n=this.charCount,o=this.charsToBytes;if(n===e.length)for(var i=0;i<n;++i)o[i]=i;else{for(var a=0,c=0;c<n;++c)o[c]=a,a+=r[c].length;this.multiByteMode=!0}}return S(t,[{key:"isEnd",get:function(){return this.charIndex>=this.charCount}},{key:"_charLength",value:function(t){var e=t.length;return e<2||!this.multiByteMode?e:t.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,"_").length}},{key:"advance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.charIndex=Math.min(this.charCount,this.charIndex+t)}},{key:"consume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.peek(t);return this.advance(t),e}},{key:"consumeMatch",value:function(t){if(!t.sticky)throw new Error('\`regex\` must have a sticky flag ("y")');t.lastIndex=this.charsToBytes[this.charIndex];var e=t.exec(this.string);if(null===e)return"";var r=e[0];return this.advance(this._charLength(r)),r}},{key:"consumeMatchFn",value:function(t){for(var e=this.charIndex;!this.isEnd&&t(this.peek());)this.advance();return this.charIndex>e?this.string.slice(this.charsToBytes[e],this.charsToBytes[this.charIndex]):""}},{key:"consumeString",value:function(t){if(this.consumeStringFast(t))return t;if(!this.multiByteMode)return"";var e=t.length,r=this._charLength(t);return r!==e&&t===this.peek(r)?(this.advance(r),t):""}},{key:"consumeStringFast",value:function(t){if(this.peek()===t[0]){var e=t.length;if(1===e)return this.advance(),t;if(this.peek(e)===t)return this.advance(e),t}return""}},{key:"consumeUntilMatch",value:function(t){if(!t.global)throw new Error('\`regex\` must have a global flag ("g")');var e=this.charsToBytes[this.charIndex];t.lastIndex=e;var r=t.exec(this.string);if(null===r||r.index===e)return"";var n=this.string.slice(e,r.index);return this.advance(this._charLength(n)),n}},{key:"consumeUntilString",value:function(t){var e=this.charIndex,r=this.charsToBytes,n=this.string,o=r[e],i=n.indexOf(t,o);if(i<=0)return"";var a=n.slice(o,i);return this.advance(this._charLength(a)),a}},{key:"peek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.charIndex>=this.charCount)return"";if(1===t)return this.chars[this.charIndex];var e=this.charsToBytes,r=this.charIndex;return this.string.slice(e[r],e[r+t])}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.charIndex=t>=0?Math.min(this.charCount,t):Math.max(0,this.charIndex+t)}}]),t}(),w=E,O={},x=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));function P(t){if(k(t))return!0;var e=T(t);return 45===e||46===e||e>=48&&e<=57||183===e||e>=768&&e<=879||e>=8255&&e<=8256}function k(t){var e=T(t);return 58===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function R(t){var e=T(t);return 9===e||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}function T(t){return t.codePointAt(0)||-1}O.predefinedEntities=x,O.isNameChar=P,O.isNameStartChar=k,O.isNotXmlChar=function(t){return!R(t)},O.isReferenceChar=function(t){return"#"===t||P(t)},O.isWhitespace=function(t){var e=T(t);return 32===e||9===e||10===e||13===e},O.isXmlChar=R;var j=function(){function t(){l(this,t),this.parent=null}return S(t,[{key:"document",get:function(){return this.parent?this.parent.document:null}},{key:"isRootNode",get:function(){return!!this.parent&&this.parent===this.document}},{key:"preserveWhitespace",get:function(){return Boolean(this.parent&&this.parent.preserveWhitespace)}},{key:"type",get:function(){return""}},{key:"toJSON",value:function(){var t={type:this.type};return this.isRootNode&&(t.isRootNode=!0),this.preserveWhitespace&&(t.preserveWhitespace=!0),t}}]),t}();j.TYPE_CDATA="cdata",j.TYPE_COMMENT="comment",j.TYPE_DOCUMENT="document",j.TYPE_ELEMENT="element",j.TYPE_PROCESSING_INSTRUCTION="pi",j.TYPE_TEXT="text";var C=j;function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var N=C,A=function(t){p(r,N);var e=G(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).text=n,t}return S(r,[{key:"type",get:function(){return N.TYPE_TEXT}},{key:"toJSON",value:function(){return Object.assign(N.prototype.toJSON.call(this),{text:this.text})}}]),r}(),F=A;function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var L=C,M=F,B=function(t){p(r,M);var e=I(r);function r(){return l(this,r),e.apply(this,arguments)}return S(r,[{key:"type",get:function(){return L.TYPE_CDATA}}]),r}(),_=B;function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var D=C,W=function(t){p(r,D);var e=U(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(this,r),(t=e.call(this)).content=n,t}return S(r,[{key:"type",get:function(){return D.TYPE_COMMENT}},{key:"toJSON",value:function(){return Object.assign(D.prototype.toJSON.call(this),{content:this.content})}}]),r}(),X=W;function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var q=C,J=function(t){p(r,q);var e=Y(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return l(this,r),(n=e.call(this)).name=t,n.attributes=o,n.children=i,n}return S(r,[{key:"isEmpty",get:function(){return 0===this.children.length}},{key:"preserveWhitespace",get:function(){for(var t=this;t instanceof r;){if("xml:space"in t.attributes)return"preserve"===t.attributes["xml:space"];t=t.parent}return!1}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return q.TYPE_ELEMENT}},{key:"toJSON",value:function(){return Object.assign(q.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),V=J;function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var K=V,z=C,H=function(t){p(r,z);var e=$(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(this,r),(t=e.call(this)).children=n,t}return S(r,[{key:"document",get:function(){return this}},{key:"root",get:function(){return this.children.find((function(t){return t instanceof K}))||null}},{key:"text",get:function(){return this.children.map((function(t){return"text"in t?t.text:""})).join("")}},{key:"type",get:function(){return z.TYPE_DOCUMENT}},{key:"toJSON",value:function(){return Object.assign(z.prototype.toJSON.call(this),{children:this.children.map((function(t){return t.toJSON()}))})}}]),r}(),Q=H;function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var tt=C,et=function(t){p(r,tt);var e=Z(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(this,r),(n=e.call(this)).name=t,n.content=o,n}return S(r,[{key:"type",get:function(){return tt.TYPE_PROCESSING_INSTRUCTION}},{key:"toJSON",value:function(){return Object.assign(tt.prototype.toJSON.call(this),{name:this.name,content:this.content})}}]),r}(),rt=et;function nt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=w,at=O,ct=_,ut=X,st=Q,ft=V,lt=rt,ht=F,pt=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(l(this,t),this.document=new st,this.currentNode=this.document,this.options=r,this.scanner=new it(vt(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}return S(t,[{key:"addNode",value:function(t){t.parent=this.currentNode,this.currentNode.children.push(t)}},{key:"addText",value:function(t){var e=this.currentNode.children;if(e.length>0){var r=e[e.length-1];if(r instanceof ht)return void(r.text+=t)}this.addNode(new ht(t))}},{key:"consumeAttributeValue",value:function(){var t,e=this.scanner,r=e.peek();if('"'!==r&&"'"!==r)return!1;e.advance();var n=!1,o="",i='"'===r?new RegExp('[^"&<]+',"y"):new RegExp("[^'&<]+","y");t:for(;!e.isEnd;){switch((t=e.consumeMatch(i))&&(this.validateChars(t),o+=t.replace(/[\\t\\r\\n]/g," ")),e.peek()){case r:n=!0;break t;case"&":o+=this.consumeReference();continue;case"<":this.error("Unescaped \`<\` is not allowed in an attribute value");break;case"":this.error("Unclosed attribute")}}return n||this.error("Unclosed attribute"),e.advance(),o}},{key:"consumeCdataSection",value:function(){var t=this.scanner;if(!t.consumeStringFast("<![CDATA["))return!1;var e=t.consumeUntilString("]]>");return this.validateChars(e),t.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new ct(e)):this.addText(e),!0}},{key:"consumeCharData",value:function(){var t=this.scanner,e=t.consumeUntilMatch(/<|&|]]>/g);return!!e&&(this.validateChars(e),"]"===t.peek()&&"]]>"===t.peek(3)&&this.error("Element content may not contain the CDATA section close delimiter \`]]>\`"),this.addText(e),!0)}},{key:"consumeComment",value:function(){var t=this.scanner;if(!t.consumeStringFast("\\x3c!--"))return!1;var e=t.consumeUntilString("--");return this.validateChars(e),t.consumeStringFast("--\\x3e")||("--"===t.peek(2)?this.error("The string \`--\` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new ut(e.trim())),!0}},{key:"consumeContentReference",value:function(){var t=this.consumeReference();return!!t&&(this.addText(t),!0)}},{key:"consumeDoctypeDeclaration",value:function(){var t=this.scanner;return!(!t.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace())&&(t.consumeMatch(new RegExp("[^[>]+","y")),t.consumeMatch(new RegExp("\\\\[[\\\\s\\\\S]+?\\\\][\\\\x20\\\\t\\\\r\\\\n]*>","y"))||t.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}},{key:"consumeElement",value:function(){var t=this.scanner,e=t.charIndex;if("<"!==t.peek())return!1;t.advance();var r=this.consumeName();if(!r)return t.reset(e),!1;for(var n=Object.create(null);this.consumeWhitespace();){var o=this.consumeName();if(o){var i=this.consumeEqual()&&this.consumeAttributeValue();!1===i&&this.error("Attribute value expected"),o in n&&this.error("Duplicate attribute: ".concat(o)),"xml:space"===o&&"default"!==i&&"preserve"!==i&&this.error('Value of the \`xml:space\` attribute must be "default" or "preserve"'),n[o]=i}}if(this.options.sortAttributes){for(var a=Object.keys(n).sort(),c=Object.create(null),u=0;u<a.length;++u){var s=a[u];c[s]=n[s]}n=c}var f=Boolean(t.consumeStringFast("/>")),l=new ft(r,n);if(l.parent=this.currentNode,!f){for(t.consumeStringFast(">")||this.error("Unclosed start tag for element \`".concat(r,"\`")),this.currentNode=l,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();var h,p=t.charIndex;t.consumeStringFast("</")&&(h=this.consumeName())&&h===r||(t.reset(p),this.error("Missing end tag for element ".concat(r))),this.consumeWhitespace(),t.consumeStringFast(">")||this.error("Unclosed end tag for element ".concat(r)),this.currentNode=l.parent}return this.addNode(l),!0}},{key:"consumeEqual",value:function(){return this.consumeWhitespace(),!!this.scanner.consumeStringFast("=")&&(this.consumeWhitespace(),!0)}},{key:"consumeMisc",value:function(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}},{key:"consumeName",value:function(){return at.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(at.isNameChar):""}},{key:"consumeProcessingInstruction",value:function(){var t=this.scanner,e=t.charIndex;if(!t.consumeStringFast("<?"))return!1;var r=this.consumeName();if(r?"xml"===r.toLowerCase()&&(t.reset(e),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(t.consumeStringFast("?>"))return this.addNode(new lt(r)),!0;this.error("Whitespace is required after a processing instruction name")}var n=t.consumeUntilString("?>");return this.validateChars(n),t.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new lt(r,n)),!0}},{key:"consumeProlog",value:function(){var t=this.scanner,e=t.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return e<t.charIndex}},{key:"consumeReference",value:function(){var t=this.scanner;if("&"!==t.peek())return!1;t.advance();var e,r=t.consumeMatchFn(at.isReferenceChar);if(";"!==t.consume()&&this.error("Unterminated reference (a reference must end with \`;\`)"),"#"===r[0]){var o="x"===r[1]?parseInt(r.slice(2),16):parseInt(r.slice(1),10);isNaN(o)&&this.error("Invalid character reference"),e=String.fromCodePoint(o),at.isXmlChar(e)||this.error("Character reference resolves to an invalid character")}else if(void 0===(e=at.predefinedEntities[r])){var i=this.options,a=i.ignoreUndefinedEntities,c=i.resolveUndefinedEntity,u="&".concat(r,";");if(c){var s=c(u);if(null!=s){var f=n(s);if("string"!==f)throw new TypeError("\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ".concat(f));return s}}if(a)return u;t.reset(-u.length),this.error("Named entity isn't defined: ".concat(u))}return e}},{key:"consumeSystemLiteral",value:function(){var t=this.scanner,e=t.consumeStringFast('"')||t.consumeStringFast("'");if(!e)return!1;var r=t.consumeUntilString(e);return this.validateChars(r),t.consumeStringFast(e)||this.error("Missing end quote"),r}},{key:"consumeWhitespace",value:function(){return Boolean(this.scanner.consumeMatchFn(at.isWhitespace))}},{key:"consumeXmlDeclaration",value:function(){var t=this.scanner;if(!t.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");var e=Boolean(t.consumeStringFast("version"))&&this.consumeEqual()&&this.consumeSystemLiteral();if(!1===e?this.error("XML version is missing or invalid"):/^1\\.[0-9]+$/.test(e)||this.error("Invalid character in version number"),this.consumeWhitespace()){Boolean(t.consumeStringFast("encoding"))&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();var r=Boolean(t.consumeStringFast("standalone"))&&this.consumeEqual()&&this.consumeSystemLiteral();r&&("yes"!==r&&"no"!==r&&this.error('Only "yes" and "no" are permitted as values of \`standalone\`'),this.consumeWhitespace())}return t.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}},{key:"error",value:function(t){for(var e=this.scanner,r=e.charIndex,n=e.string,o=1,i="",a=1,c=0;c<r;++c){var u=n[c];"\\n"===u?(o=1,i="",a+=1):(o+=1,i+=u)}var s=n.indexOf("\\n",r),f=0;(i+=-1===s?n.slice(r):n.slice(r,s)).length>50&&(o<40?i=i.slice(0,50):(f=o-20,i=i.slice(f,o+30)));var l=new Error("".concat(t," (line ").concat(a,", column ").concat(o,")\\n")+"  ".concat(i,"\\n")+" ".repeat(o-f+1)+"^\\n");throw Object.assign(l,{column:o,excerpt:i,line:a,pos:r}),l}},{key:"validateChars",value:function(t){var e,r=0,n=nt(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;at.isNotXmlChar(o)&&(this.scanner.reset(-(f(t).length-r)),this.error("Invalid character")),r+=1}}catch(t){n.e(t)}finally{n.f()}}}]),t}();function vt(t){return"\\ufeff"===t[0]&&(t=t.slice(1)),t.replace(/\\r\\n?/g,"\\n")}var dt=pt,yt=_,mt=X,gt=Q,bt=V,St=C,Et=rt,wt=F;function Ot(t,e){return new dt(t,e).document}Ot.XmlCdata=yt,Ot.XmlComment=mt,Ot.XmlDocument=gt,Ot.XmlElement=bt,Ot.XmlNode=St,Ot.XmlProcessingInstruction=Et,Ot.XmlText=wt;var xt=Ot;function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var kt=function(t){p(r,g(Error));var e=Pt(r);function r(t){return l(this,r),e.call(this,t)}return r}();function Rt(t){return t.children[0]}function Tt(t){var e=t.indexOf(":");return e>-1?t.substr(e+1):t}function jt(t){return t.name||""}function Ct(t,e,r){var n=Tt(e);return t&&Array.isArray(t.children)?t.children.reduce((function t(e,o){return Tt(jt(o))===n&&e.push(o),r&&Array.isArray(o.children)?[].concat(f(e),f(o.children.reduce(t,[]))):e}),[]):[]}function Gt(t,e,r){return Ct(t,e,r)[0]||null}function Nt(t){return t&&Array.isArray(t.children)?f(t.children.filter((function(t){return"XmlElement"===t.constructor.name}))):[]}function At(t){var e=t&&Array.isArray(t.children)?t.children.find((function(t){return"text"===t.type})):null;return e?e.text:""}function Ft(t,e){return t&&t.attributes[e]||""}var It=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(this,t),this.message=e,this.httpStatus=r,this.isCrossOriginRelated=n};function Lt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bt=["utf-8","utf-16","iso-8859-1"];function _t(t,e){var r,n=e?function(t){var e=/charset=([^;]+)/.exec(t);return e?e[1]:null}(e):null,o=Lt(n?[n].concat(Bt):Bt);try{for(o.s();!(r=o.n()).done;){var i=r.value;try{return new TextDecoder(i,{fatal:!0}).decode(t)}catch(t){}}}catch(t){o.e(t)}finally{o.f()}return console.warn("XML document encoding could not be determined, falling back to ".concat("utf-8",".")),new TextDecoder("utf-8").decode(t)}function Ut(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wt=new Map;function Xt(t){return function(t){if(Wt.has(t))return Wt.get(t);var e=fetch(t);return e.finally((function(){return Wt.delete(t)})),Wt.set(t,e),e}(t).catch((function(){return fetch(t,{method:"HEAD",mode:"no-cors"}).catch((function(t){throw new It("Fetching the document failed either due to network errors or unreachable host, error is: ".concat(t.message),0,!1)})).then((function(){throw new It("The document could not be fetched due to CORS limitations",0,!0)}))})).then(function(){var t=r(i.mark((function t(e){var r,n,o;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=5;break}return t.next=3,e.text();case 3:throw r=t.sent,new It("Received an error with code ".concat(e.status,": ").concat(r),e.status,!1);case 5:return t.next=7,e.arrayBuffer();case 7:return n=t.sent,o=e.headers.get("Content-Type"),t.abrupt("return",_t(n,o));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return function(t){var e=null;try{e=xt(t)}catch(t){throw new kt(t.message)}return e}(t)}))}function Yt(t,e){var r=t.match(/(https?%3A%2F%2F[^/]+)$/);if(r){var n=r[1],o=Yt(decodeURIComponent(n),e);return t.replace(n,encodeURIComponent(o))}var i,a=new URL(t),c=Object.keys(e),u=c.map((function(t){return t.toLowerCase()})),s=[],f=Ut(a.searchParams.keys());try{for(f.s();!(i=f.n()).done;){var l=i.value;u.indexOf(l.toLowerCase())>-1&&s.push(l)}}catch(t){f.e(t)}finally{f.f()}return s.map((function(t){return a.searchParams.delete(t)})),c.forEach((function(t){return a.searchParams.set(t,!0===e[t]?"":e[t])})),a.toString()}var qt=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function Jt(t){return qt.indexOf(Vt(t))>-1}function Vt(t){if(/^urn:(?:x-)?ogc:def:crs:epsg:/.test(t.toLowerCase())){var e=/([0-9]+)$/.exec(t)[1];return"EPSG:".concat(e)}return t}function $t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?$t(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(t){return Rt(t).attributes.version}function Ht(t){var e=zt(t);return Ct(Gt(Rt(t),"Capability"),"Layer").map((function(t){return Qt(t,e)}))}function Qt(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a="1.3.0"===r?"CRS":"SRS",c=Ct(e,a).map(At),u=c.length>0?c:n,s=Ct(e,"Style").map(Zt),f=s.length>0?s:o;function l(t){return(Jt(Ft(t,a))&&"1.3.0"===r?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map((function(e){return Ft(t,e)}))}var h=Gt(e,"Attribution"),p=null!==h?te(h):i,v=Ct(e,"Layer").map((function(t){return Qt(t,r,u,f,p)}));return Kt({name:At(Gt(e,"Name")),title:At(Gt(e,"Title")),abstract:At(Gt(e,"Abstract")),availableCrs:u,styles:f,attribution:p,boundingBoxes:Ct(e,"BoundingBox").reduce((function(e,r){return Kt(Kt({},e),{},t({},Ft(r,a),l(r)))}),{})},v.length&&{children:v})}function Zt(t){var e=Ft(Gt(Gt(t,"LegendURL"),"OnlineResource"),"xlink:href");return Kt({name:At(Gt(t,"Name")),title:At(Gt(t,"Title"))},e&&{legendUrl:e})}function te(t){var e=Ft(Gt(Gt(t,"LogoURL"),"OnlineResource"),"xlink:href"),r=Ft(Gt(t,"OnlineResource"),"xlink:href"),n=At(Gt(t,"Title"));return Kt(Kt(Kt({},n&&{title:n}),r&&{url:r}),e&&{logoUrl:e})}function ee(t){return Rt(t).attributes.version}function re(t){var e;if(ee(t).startsWith("1.0")){var r=Gt(Gt(Gt(Rt(t),"Capability"),"Request"),"GetFeature");e=Nt(Gt(r,"ResultFormat")).map(jt)}else{var n=Ct(Gt(Rt(t),"OperationsMetadata"),"Operation").find((function(t){return"GetFeature"===Ft(t,"name")})),o=Ct(n,"Parameter").find((function(t){return"outputFormat"===Ft(t,"name")}));e=Ct(o,"Value",!0).map(At)}return e}function ne(t){var e=ee(t),r=re(t);return Ct(Gt(Rt(t),"FeatureTypeList"),"FeatureType").map((function(t){return function(t,e,r){var n=e.startsWith("2.")?"CRS":"SRS",o=e.startsWith("1.0")?"SRS":"Default".concat(n);function i(){var e=Gt(t,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map((function(t){return Ft(e,t)})).map(parseFloat)}function a(){var e=Gt(t,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map((function(t){return Gt(e,t)})).map((function(t){return At(t).split(" ")})).reduce((function(t,e){return[].concat(f(t),f(e))})).map(parseFloat)}var c=e.startsWith("1.0")?[]:Ct(t,"Other".concat(n)).map(At).map(Vt),u=e.startsWith("1.0")?[]:Ct(Gt(t,"OutputFormats"),"Format").map(At);return{name:At(Gt(t,"Name")),title:At(Gt(t,"Title")),abstract:At(Gt(t,"Abstract")),defaultCrs:Vt(At(Gt(t,o))),otherCrs:c,outputFormats:u.length>0?u:r,latLonBoundingBox:e.startsWith("1.0")?i():a()}}(t,e,r)}))}function oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?oe(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,r,n){var o,i=Rt(e);if(n.startsWith("2.0"))o=Ct(i,"member").map((function(t){return Nt(t)[0]}));else{var a=Gt(i,"featureMembers");o=a?Nt(a):Ct(i,"featureMember").map((function(t){return Nt(t)[0]}))}var c="1.0.0"===n?"fid":"gml:id";function u(e){return Nt(e).filter((function(t){return Tt(jt(t))in r.properties})).reduce((function(e,n){var o=Tt(jt(n));return ie(ie({},e),{},t({},o,function(t,e){switch(r.properties[t]){case"integer":return parseInt(e);case"float":return parseFloat(e);case"boolean":return"true"===e;default:return e}}(o,At(n))))}),{})}return o.map((function(t){return{id:Ft(t,c),properties:u(t)}}))}function ce(e,r,n,o,i,a,c,u,s,f){var l="2.0.0"===r?"COUNT":"MAXFEATURES",h=t({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:r},"2.0.0"===r?"TYPENAMES":"TYPENAME",n);if(void 0!==o&&(h.OUTPUTFORMAT=o),void 0!==a&&(h.PROPERTYNAME=a.join(",")),c?(h.RESULTTYPE="hits",h[l]="1"):void 0!==i&&(h[l]=i.toString(10)),u&&(h.SRSNAME=u),s){var p=s.join(",");h.BBOX=f?"".concat(p,",").concat(f):p}return Yt(e,h)}u("parseWmsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,r=Gt(Rt(e),"Service"),n=Ct(Gt(r,"KeywordList"),"Keyword").map(At).filter((function(t,e,r){return r.indexOf(t)===e})),{title:At(Gt(r,"Title")),name:At(Gt(r,"Name")),abstract:At(Gt(r,"Abstract")),fees:At(Gt(r,"Fees")),constraints:At(Gt(r,"AccessConstraints")),keywords:n}),layers:Ht(t),version:zt(t)};var e,r,n}))})),u("parseWfsCapabilities",self,(function(t){return Xt(t.url).then((function(t){return{info:(e=t,n=ee(e),o=n.startsWith("1.0")?"Service":"ServiceIdentification",i=n.startsWith("1.0")?"Name":"ServiceType",a=Gt(Rt(e),o),r=n.startsWith("1.0")?At(Gt(a,"Keywords")).split(",").map((function(t){return t.trim()})):Ct(Gt(a,"Keywords"),"Keyword").map(At),{title:At(Gt(a,"Title")),name:At(Gt(a,i)),abstract:At(Gt(a,"Abstract")),fees:At(Gt(a,"Fees")),constraints:At(Gt(a,"AccessConstraints")),keywords:r,outputFormats:re(e)}),featureTypes:ne(t),version:ee(t)};var e,r,n,o,i,a}))})),u("queryWfsFeatureTypeDetails",self,(function(t){var e=t.url,r=t.serviceVersion,n=t.featureTypeFull;return Xt(ce(e,r,n.name,void 0,void 0,Object.keys(n.properties))).then((function(t){return{props:(e=ae(t,n,r),e.reduce((function(t,e){var r=function(r){var n=e.properties[r];r in t||(t[r]={uniqueValues:[]});var o=t[r].uniqueValues.find((function(t){return t.value===n}));o?o.count++:t[r].uniqueValues.push({value:n,count:1})};for(var n in e.properties)r(n);return t}),{}))};var e}))}));
`],{type:"application/javascript"})),{type:"module"})),qS}function EJ(a){return SJ("parseWmsCapabilities",TJ(),{url:a})}const Ad="";let MJ=class{constructor(e){this.chars=[...e],this.charCount=this.chars.length,this.charIndex=0,this.charsToBytes=new Array(this.charCount),this.multiByteMode=!1,this.string=e;let{chars:t,charCount:i,charsToBytes:n}=this;if(i===e.length)for(let s=0;s<i;++s)n[s]=s;else{for(let s=0,r=0;r<i;++r)n[r]=s,s+=t[r].length;this.multiByteMode=!0}}get isEnd(){return this.charIndex>=this.charCount}_charLength(e){let{length:t}=e;return t<2||!this.multiByteMode?t:e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}advance(e=1){this.charIndex=Math.min(this.charCount,this.charIndex+e)}consume(e=1){let t=this.peek(e);return this.advance(e),t}consumeMatch(e){if(!e.sticky)throw new Error('`regex` must have a sticky flag ("y")');e.lastIndex=this.charsToBytes[this.charIndex];let t=e.exec(this.string);if(t===null)return Ad;let i=t[0];return this.advance(this._charLength(i)),i}consumeMatchFn(e){let t=this.charIndex;for(;!this.isEnd&&e(this.peek());)this.advance();return this.charIndex>t?this.string.slice(this.charsToBytes[t],this.charsToBytes[this.charIndex]):Ad}consumeString(e){if(this.consumeStringFast(e))return e;if(!this.multiByteMode)return Ad;let{length:t}=e,i=this._charLength(e);return i!==t&&e===this.peek(i)?(this.advance(i),e):Ad}consumeStringFast(e){if(this.peek()===e[0]){let{length:t}=e;if(t===1)return this.advance(),e;if(this.peek(t)===e)return this.advance(t),e}return Ad}consumeUntilMatch(e){if(!e.global)throw new Error('`regex` must have a global flag ("g")');let t=this.charsToBytes[this.charIndex];e.lastIndex=t;let i=e.exec(this.string);if(i===null||i.index===t)return Ad;let n=this.string.slice(t,i.index);return this.advance(this._charLength(n)),n}consumeUntilString(e){let{charIndex:t,charsToBytes:i,string:n}=this,s=i[t],r=n.indexOf(e,s);if(r<=0)return Ad;let l=n.slice(s,r);return this.advance(this._charLength(l)),l}peek(e=1){if(this.charIndex>=this.charCount)return Ad;if(e===1)return this.chars[this.charIndex];let{charsToBytes:t,charIndex:i}=this;return this.string.slice(t[i],t[i+e])}reset(e=0){this.charIndex=e>=0?Math.min(this.charCount,e):Math.max(0,this.charIndex+e)}};var LJ=MJ,Ch={};const AJ=Object.freeze(Object.assign(Object.create(null),{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}));Ch.predefinedEntities=AJ;function _O(a){if(mO(a))return!0;let e=zx(a);return e===45||e===46||e>=48&&e<=57||e===183||e>=768&&e<=879||e>=8255&&e<=8256}Ch.isNameChar=_O;function mO(a){let e=zx(a);return e===58||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}Ch.isNameStartChar=mO;function CJ(a){return!pO(a)}Ch.isNotXmlChar=CJ;function IJ(a){return a==="#"||_O(a)}Ch.isReferenceChar=IJ;function RJ(a){let e=zx(a);return e===32||e===9||e===10||e===13}Ch.isWhitespace=RJ;function pO(a){let e=zx(a);return e===9||e===10||e===13||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}Ch.isXmlChar=pO;function zx(a){return a.codePointAt(0)||-1}let lm=class{constructor(){this.parent=null}get document(){return this.parent?this.parent.document:null}get isRootNode(){return this.parent?this.parent===this.document:!1}get preserveWhitespace(){return!!(this.parent&&this.parent.preserveWhitespace)}get type(){return""}toJSON(){let e={type:this.type};return this.isRootNode&&(e.isRootNode=!0),this.preserveWhitespace&&(e.preserveWhitespace=!0),e}};lm.TYPE_CDATA="cdata";lm.TYPE_COMMENT="comment";lm.TYPE_DOCUMENT="document";lm.TYPE_ELEMENT="element";lm.TYPE_PROCESSING_INSTRUCTION="pi";lm.TYPE_TEXT="text";var um=lm;const US=um;let OJ=class extends US{constructor(e=""){super(),this.text=e}get type(){return US.TYPE_TEXT}toJSON(){return Object.assign(US.prototype.toJSON.call(this),{text:this.text})}};var QE=OJ;const kJ=um,PJ=QE;let DJ=class extends PJ{get type(){return kJ.TYPE_CDATA}};var fO=DJ;const VS=um;let FJ=class extends VS{constructor(e=""){super(),this.content=e}get type(){return VS.TYPE_COMMENT}toJSON(){return Object.assign(VS.prototype.toJSON.call(this),{content:this.content})}};var gO=FJ;const jS=um;let NJ=class yO extends jS{constructor(e,t=Object.create(null),i=[]){super(),this.name=e,this.attributes=t,this.children=i}get isEmpty(){return this.children.length===0}get preserveWhitespace(){let e=this;for(;e instanceof yO;){if("xml:space"in e.attributes)return e.attributes["xml:space"]==="preserve";e=e.parent}return!1}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return jS.TYPE_ELEMENT}toJSON(){return Object.assign(jS.prototype.toJSON.call(this),{name:this.name,attributes:this.attributes,children:this.children.map(e=>e.toJSON())})}};var JE=NJ;const WJ=JE,HS=um;let zJ=class extends HS{constructor(e=[]){super(),this.children=e}get document(){return this}get root(){return this.children.find(e=>e instanceof WJ)||null}get text(){return this.children.map(e=>"text"in e?e.text:"").join("")}get type(){return HS.TYPE_DOCUMENT}toJSON(){return Object.assign(HS.prototype.toJSON.call(this),{children:this.children.map(e=>e.toJSON())})}};var vO=zJ;const ZS=um;let BJ=class extends ZS{constructor(e,t=""){super(),this.name=e,this.content=t}get type(){return ZS.TYPE_PROCESSING_INSTRUCTION}toJSON(){return Object.assign(ZS.prototype.toJSON.call(this),{name:this.name,content:this.content})}};var bO=BJ;const GJ=LJ,v_=Ch,qJ=fO,UJ=gO,VJ=vO,jJ=JE,fA=bO,gA=QE,XS="";let HJ=class{constructor(e,t={}){for(this.document=new VJ,this.currentNode=this.document,this.options=t,this.scanner=new GJ(XJ(e)),this.consumeProlog(),this.consumeElement()||this.error("Root element is missing or invalid");this.consumeMisc(););this.scanner.isEnd||this.error("Extra content at the end of the document")}addNode(e){e.parent=this.currentNode,this.currentNode.children.push(e)}addText(e){let{children:t}=this.currentNode;if(t.length>0){let i=t[t.length-1];if(i instanceof gA){i.text+=e;return}}this.addNode(new gA(e))}consumeAttributeValue(){let{scanner:e}=this,t=e.peek();if(t!=='"'&&t!=="'")return!1;e.advance();let i,n=!1,s=XS,r=t==='"'?/[^"&<]+/y:/[^'&<]+/y;e:for(;!e.isEnd;)switch(i=e.consumeMatch(r),i&&(this.validateChars(i),s+=i.replace(/[\t\r\n]/g," ")),e.peek()){case t:n=!0;break e;case"&":s+=this.consumeReference();continue;case"<":this.error("Unescaped `<` is not allowed in an attribute value");break;case XS:this.error("Unclosed attribute");break}return n||this.error("Unclosed attribute"),e.advance(),s}consumeCdataSection(){let{scanner:e}=this;if(!e.consumeStringFast("<![CDATA["))return!1;let t=e.consumeUntilString("]]>");return this.validateChars(t),e.consumeStringFast("]]>")||this.error("Unclosed CDATA section"),this.options.preserveCdata?this.addNode(new qJ(t)):this.addText(t),!0}consumeCharData(){let{scanner:e}=this,t=e.consumeUntilMatch(/<|&|]]>/g);return t?(this.validateChars(t),e.peek()==="]"&&e.peek(3)==="]]>"&&this.error("Element content may not contain the CDATA section close delimiter `]]>`"),this.addText(t),!0):!1}consumeComment(){let{scanner:e}=this;if(!e.consumeStringFast("<!--"))return!1;let t=e.consumeUntilString("--");return this.validateChars(t),e.consumeStringFast("-->")||(e.peek(2)==="--"?this.error("The string `--` isn't allowed inside a comment"):this.error("Unclosed comment")),this.options.preserveComments&&this.addNode(new UJ(t.trim())),!0}consumeContentReference(){let e=this.consumeReference();return e?(this.addText(e),!0):!1}consumeDoctypeDeclaration(){let{scanner:e}=this;return!e.consumeStringFast("<!DOCTYPE")||!this.consumeWhitespace()?!1:(e.consumeMatch(/[^[>]+/y),e.consumeMatch(/\[[\s\S]+?\][\x20\t\r\n]*>/y)||e.consumeStringFast(">")||this.error("Unclosed doctype declaration"),!0)}consumeElement(){let{scanner:e}=this,t=e.charIndex;if(e.peek()!=="<")return!1;e.advance();let i=this.consumeName();if(!i)return e.reset(t),!1;let n=Object.create(null);for(;this.consumeWhitespace();){let l=this.consumeName();if(!l)continue;let c=this.consumeEqual()&&this.consumeAttributeValue();c===!1&&this.error("Attribute value expected"),l in n&&this.error(`Duplicate attribute: ${l}`),l==="xml:space"&&c!=="default"&&c!=="preserve"&&this.error('Value of the `xml:space` attribute must be "default" or "preserve"'),n[l]=c}if(this.options.sortAttributes){let l=Object.keys(n).sort(),c=Object.create(null);for(let h=0;h<l.length;++h){let f=l[h];c[f]=n[f]}n=c}let s=!!e.consumeStringFast("/>"),r=new jJ(i,n);if(r.parent=this.currentNode,!s){for(e.consumeStringFast(">")||this.error(`Unclosed start tag for element \`${i}\``),this.currentNode=r,this.consumeCharData();this.consumeElement()||this.consumeContentReference()||this.consumeCdataSection()||this.consumeProcessingInstruction()||this.consumeComment();)this.consumeCharData();let l=e.charIndex,c;(!e.consumeStringFast("</")||!(c=this.consumeName())||c!==i)&&(e.reset(l),this.error(`Missing end tag for element ${i}`)),this.consumeWhitespace(),e.consumeStringFast(">")||this.error(`Unclosed end tag for element ${i}`),this.currentNode=r.parent}return this.addNode(r),!0}consumeEqual(){return this.consumeWhitespace(),this.scanner.consumeStringFast("=")?(this.consumeWhitespace(),!0):!1}consumeMisc(){return this.consumeComment()||this.consumeProcessingInstruction()||this.consumeWhitespace()}consumeName(){return v_.isNameStartChar(this.scanner.peek())?this.scanner.consumeMatchFn(v_.isNameChar):XS}consumeProcessingInstruction(){let{scanner:e}=this,t=e.charIndex;if(!e.consumeStringFast("<?"))return!1;let i=this.consumeName();if(i?i.toLowerCase()==="xml"&&(e.reset(t),this.error("XML declaration isn't allowed here")):this.error("Invalid processing instruction"),!this.consumeWhitespace()){if(e.consumeStringFast("?>"))return this.addNode(new fA(i)),!0;this.error("Whitespace is required after a processing instruction name")}let n=e.consumeUntilString("?>");return this.validateChars(n),e.consumeStringFast("?>")||this.error("Unterminated processing instruction"),this.addNode(new fA(i,n)),!0}consumeProlog(){let{scanner:e}=this,t=e.charIndex;for(this.consumeXmlDeclaration();this.consumeMisc(););if(this.consumeDoctypeDeclaration())for(;this.consumeMisc(););return t<e.charIndex}consumeReference(){let{scanner:e}=this;if(e.peek()!=="&")return!1;e.advance();let t=e.consumeMatchFn(v_.isReferenceChar);e.consume()!==";"&&this.error("Unterminated reference (a reference must end with `;`)");let i;if(t[0]==="#"){let n=t[1]==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);isNaN(n)&&this.error("Invalid character reference"),i=String.fromCodePoint(n),v_.isXmlChar(i)||this.error("Character reference resolves to an invalid character")}else if(i=v_.predefinedEntities[t],i===void 0){let{ignoreUndefinedEntities:n,resolveUndefinedEntity:s}=this.options,r=`&${t};`;if(s){let l=s(r);if(l!=null){let c=typeof l;if(c!=="string")throw new TypeError(`\`resolveUndefinedEntity()\` must return a string, \`null\`, or \`undefined\`, but returned a value of type ${c}`);return l}}if(n)return r;e.reset(-r.length),this.error(`Named entity isn't defined: ${r}`)}return i}consumeSystemLiteral(){let{scanner:e}=this,t=e.consumeStringFast('"')||e.consumeStringFast("'");if(!t)return!1;let i=e.consumeUntilString(t);return this.validateChars(i),e.consumeStringFast(t)||this.error("Missing end quote"),i}consumeWhitespace(){return!!this.scanner.consumeMatchFn(v_.isWhitespace)}consumeXmlDeclaration(){let{scanner:e}=this;if(!e.consumeStringFast("<?xml"))return!1;this.consumeWhitespace()||this.error("Invalid XML declaration");let t=!!e.consumeStringFast("version")&&this.consumeEqual()&&this.consumeSystemLiteral();if(t===!1?this.error("XML version is missing or invalid"):/^1\.[0-9]+$/.test(t)||this.error("Invalid character in version number"),this.consumeWhitespace()){!!e.consumeStringFast("encoding")&&this.consumeEqual()&&this.consumeSystemLiteral()&&this.consumeWhitespace();let n=!!e.consumeStringFast("standalone")&&this.consumeEqual()&&this.consumeSystemLiteral();n&&(n!=="yes"&&n!=="no"&&this.error('Only "yes" and "no" are permitted as values of `standalone`'),this.consumeWhitespace())}return e.consumeStringFast("?>")||this.error("Invalid or unclosed XML declaration"),!0}error(e){let{charIndex:t,string:i}=this.scanner,n=1,s="",r=1;for(let f=0;f<t;++f){let v=i[f];v===`
`?(n=1,s="",r+=1):(n+=1,s+=v)}let l=i.indexOf(`
`,t);s+=l===-1?i.slice(t):i.slice(t,l);let c=0;s.length>50&&(n<40?s=s.slice(0,50):(c=n-20,s=s.slice(c,n+30)));let h=new Error(`${e} (line ${r}, column ${n})
  ${s}
`+" ".repeat(n-c+1)+`^
`);throw Object.assign(h,{column:n,excerpt:s,line:r,pos:t}),h}validateChars(e){let t=0;for(let i of e)v_.isNotXmlChar(i)&&(this.scanner.reset(-([...e].length-t)),this.error("Invalid character")),t+=1}};var ZJ=HJ;function XJ(a){return a[0]==="\uFEFF"&&(a=a.slice(1)),a.replace(/\r\n?/g,`
`)}const YJ=ZJ,KJ=fO,$J=gO,QJ=vO,JJ=JE,eee=um,tee=bO,aee=QE;function Ih(a,e){return new YJ(a,e).document}Ih.XmlCdata=KJ;Ih.XmlComment=$J;Ih.XmlDocument=QJ;Ih.XmlElement=JJ;Ih.XmlNode=eee;Ih.XmlProcessingInstruction=tee;Ih.XmlText=aee;var iee=Ih;const nee=kI(iee);class ree extends Error{constructor(e){super(e)}}function see(a){let e=null;try{e=nee(a)}catch(t){throw new ree(t.message)}return e}function Zc(a){return a.children[0]}function x2(a){const e=a.indexOf(":");return e>-1?a.substr(e+1):a}function w2(a){return a.name||""}function Cs(a,e,t){const i=x2(e);function n(s,r){return x2(w2(r))===i&&s.push(r),t&&Array.isArray(r.children)?[...s,...r.children.reduce(n,[])]:s}return a&&Array.isArray(a.children)?a.children.reduce(n,[]):[]}function si(a,e,t){return Cs(a,e,t)[0]||null}function ly(a){return a&&Array.isArray(a.children)?[...a.children.filter(e=>e.constructor.name==="XmlElement")]:[]}function nn(a){const e=a&&Array.isArray(a.children)?a.children.find(t=>t.type==="text"):null;return e?e.text:""}function Pu(a,e){return a&&a.attributes[e]||""}const yA=["utf-8","utf-16","iso-8859-1"],vA="utf-8";function oee(a){const e=/charset=([^;]+)/.exec(a);return e?e[1]:null}function lee(a,e){const t=e?oee(e):null,i=t?[t,...yA]:yA;for(const n of i)try{return new TextDecoder(n,{fatal:!0}).decode(a)}catch{}return console.warn(`XML document encoding could not be determined, falling back to ${vA}.`),new TextDecoder(vA).decode(a)}const Pv=new Map;function uee(a){if(Pv.has(a))return Pv.get(a);const e=fetch(a);return e.finally(()=>Pv.delete(a)),Pv.set(a,e),e}function e5(a){return uee(a).catch(()=>fetch(a,{method:"HEAD",mode:"no-cors"}).catch(e=>{throw new GS(`Fetching the document failed either due to network errors or unreachable host, error is: ${e.message}`,0,!1)}).then(()=>{throw new GS("The document could not be fetched due to CORS limitations",0,!0)})).then(async e=>{if(!e.ok){const n=await e.text();throw new GS(`Received an error with code ${e.status}: ${n}`,e.status,!1)}const t=await e.arrayBuffer(),i=e.headers.get("Content-Type");return lee(t,i)}).then(e=>see(e))}function t5(a,e){const t=a.match(/(https?%3A%2F%2F[^/]+)$/);if(t){const l=t[1],c=t5(decodeURIComponent(l),e);return a.replace(l,encodeURIComponent(c))}const i=new URL(a),n=Object.keys(e),s=n.map(l=>l.toLowerCase()),r=[];for(const l of i.searchParams.keys())s.indexOf(l.toLowerCase())>-1&&r.push(l);return r.map(l=>i.searchParams.delete(l)),n.forEach(l=>i.searchParams.set(l,e[l]===!0?"":e[l])),i.toString()}let cee=1e3*60*60;function dee(){return cee}const ph="caches"in self?caches.open("ogc-client"):null;async function hee(a,...e){if(!ph)return;const t="https://cache/"+e.join("/");await(await ph).put(t,new Response(JSON.stringify(a),{headers:{"x-expiry":(Date.now()+dee()).toString(10)}}))}async function _ee(...a){if(!ph)return!1;const e="https://cache/"+a.join("/");return(await ph).match(e).then(i=>!!i&&parseInt(i.headers.get("x-expiry"))>Date.now())}async function mee(...a){if(!ph)return null;const e="https://cache/"+a.join("/"),i=await(await ph).match(e);return i?i.clone().json():null}const Dv=new Map;async function pee(a,...e){if(await fee(),await _ee(...e))return mee(...e);const t=e.join("#");if(Dv.has(t))return Dv.get(t);const i=a();i instanceof Promise&&(i.then(()=>Dv.delete(t)),Dv.set(t,i));const n=await i;return await hee(n,...e),n}async function fee(){if(!ph)return;const a=await ph,e=await a.keys();for(let t of e){const i=await a.match(t);parseInt(i.headers.get("x-expiry"))<=Date.now()&&await a.delete(t)}}function gee(a,e,t,i,n,s,r,l,c,h){const f=e==="2.0.0"?"TYPENAMES":"TYPENAME",v=e==="2.0.0"?"COUNT":"MAXFEATURES",b={SERVICE:"WFS",REQUEST:"GetFeature",VERSION:e,[f]:t};if(i!==void 0&&(b.OUTPUTFORMAT=i),s!==void 0&&(b.PROPERTYNAME=s.join(",")),r?(b.RESULTTYPE="hits",b[v]="1"):n!==void 0&&(b[v]=n.toString(10)),l&&(b.SRSNAME=l),c){const T=c.join(",");b.BBOX=h?`${T},${h}`:T}return t5(a,b)}class yee{constructor(e){const t=t5(e,{SERVICE:"WMS",REQUEST:"GetCapabilities"});this._capabilitiesPromise=pee(()=>EJ(t),"WMS","CAPABILITIES",t).then(({info:i,layers:n,version:s})=>{this._info=i,this._layers=n,this._version=s}),this._info=null,this._layers=null,this._version=null}isReady(){return this._capabilitiesPromise.then(()=>this)}getServiceInfo(){return this._info}getLayers(){function e(t){return{title:t.title,name:t.name,abstract:t.abstract,..."children"in t&&{children:t.children.map(e)}}}return this._layers.map(e)}getLayerByName(e){let t=null;function i(n){if(t===null){if(n.name===e){t=n;return}"children"in n&&n.children.map(i)}}return this._layers.map(i),t}getVersion(){return this._version}}const vee=["EPSG:4046","EPSG:4075","EPSG:4120","EPSG:4122","EPSG:4124","EPSG:4126","EPSG:4149","EPSG:4151","EPSG:4153","EPSG:4155","EPSG:4157","EPSG:4159","EPSG:4161","EPSG:4163","EPSG:4165","EPSG:4167","EPSG:4169","EPSG:4171","EPSG:4173","EPSG:4175","EPSG:4178","EPSG:4180","EPSG:4182","EPSG:4184","EPSG:4188","EPSG:4190","EPSG:4191","EPSG:4196","EPSG:4198","EPSG:4202","EPSG:4210","EPSG:4211","EPSG:4214","EPSG:4226","EPSG:4229","EPSG:4231","EPSG:4233","EPSG:4236","EPSG:4238","EPSG:4240","EPSG:4242","EPSG:4244","EPSG:4246","EPSG:4248","EPSG:4250","EPSG:4252","EPSG:4255","EPSG:4258","EPSG:4261","EPSG:4264","EPSG:4267","EPSG:4270","EPSG:4273","EPSG:4276","EPSG:4279","EPSG:4281","EPSG:4284","EPSG:4286","EPSG:4288","EPSG:4292","EPSG:4295","EPSG:4297","EPSG:4299","EPSG:4302","EPSG:4324","EPSG:4326"];function bee(a){return vee.indexOf(CT(a))>-1}function CT(a){return/^urn:(?:x-)?ogc:def:crs:epsg:/.test(a.toLowerCase())?`EPSG:${/([0-9]+)$/.exec(a)[1]}`:a}function xO(a){return Zc(a).attributes.version}function xee(a){const e=xO(a),t=si(Zc(a),"Capability");return Cs(t,"Layer").map(i=>wO(i,e))}function wee(a){const e=si(Zc(a),"Service"),t=Cs(si(e,"KeywordList"),"Keyword").map(nn).filter((i,n,s)=>s.indexOf(i)===n);return{title:nn(si(e,"Title")),name:nn(si(e,"Name")),abstract:nn(si(e,"Abstract")),fees:nn(si(e,"Fees")),constraints:nn(si(e,"AccessConstraints")),keywords:t}}function wO(a,e,t=[],i=[],n=null){const s=e==="1.3.0"?"CRS":"SRS",r=Cs(a,s).map(nn),l=r.length>0?r:t,c=Cs(a,"Style").map(See),h=c.length>0?c:i;function f(M){const I=Pu(M,s);return(bee(I)&&e==="1.3.0"?["miny","minx","maxy","maxx"]:["minx","miny","maxx","maxy"]).map(P=>Pu(M,P))}const v=si(a,"Attribution"),b=v!==null?Tee(v):n,T=Cs(a,"Layer").map(M=>wO(M,e,l,h,b));return{name:nn(si(a,"Name")),title:nn(si(a,"Title")),abstract:nn(si(a,"Abstract")),availableCrs:l,styles:h,attribution:b,boundingBoxes:Cs(a,"BoundingBox").reduce((M,I)=>({...M,[Pu(I,s)]:f(I)}),{}),...T.length&&{children:T}}}function See(a){const e=Pu(si(si(a,"LegendURL"),"OnlineResource"),"xlink:href");return{name:nn(si(a,"Name")),title:nn(si(a,"Title")),...e&&{legendUrl:e}}}function Tee(a){const e=Pu(si(si(a,"LogoURL"),"OnlineResource"),"xlink:href"),t=Pu(si(a,"OnlineResource"),"xlink:href"),i=nn(si(a,"Title"));return{...i&&{title:i},...t&&{url:t},...e&&{logoUrl:e}}}function Bx(a){return Zc(a).attributes.version}function SO(a){const e=Bx(a);let t;if(e.startsWith("1.0")){const i=si(si(si(Zc(a),"Capability"),"Request"),"GetFeature");t=ly(si(i,"ResultFormat")).map(w2)}else{const i=si(Zc(a),"OperationsMetadata"),n=Cs(i,"Operation").find(r=>Pu(r,"name")==="GetFeature"),s=Cs(n,"Parameter").find(r=>Pu(r,"name")==="outputFormat");t=Cs(s,"Value",!0).map(nn)}return t}function Eee(a){const e=Bx(a),t=e.startsWith("1.0")?"Service":"ServiceIdentification",i=e.startsWith("1.0")?"Name":"ServiceType",n=si(Zc(a),t);let s;return e.startsWith("1.0")?s=nn(si(n,"Keywords")).split(",").map(r=>r.trim()):s=Cs(si(n,"Keywords"),"Keyword").map(nn),{title:nn(si(n,"Title")),name:nn(si(n,i)),abstract:nn(si(n,"Abstract")),fees:nn(si(n,"Fees")),constraints:nn(si(n,"AccessConstraints")),keywords:s,outputFormats:SO(a)}}function Mee(a){const e=Bx(a),t=SO(a),i=si(Zc(a),"FeatureTypeList");return Cs(i,"FeatureType").map(n=>Lee(n,e,t))}function Lee(a,e,t){const i=e.startsWith("2.")?"CRS":"SRS",n=e.startsWith("1.0")?"SRS":`Default${i}`;function s(){const h=si(a,"LatLongBoundingBox");return["minx","miny","maxx","maxy"].map(f=>Pu(h,f)).map(parseFloat)}function r(){const h=si(a,"WGS84BoundingBox");return["LowerCorner","UpperCorner"].map(f=>si(h,f)).map(f=>nn(f).split(" ")).reduce((f,v)=>[...f,...v]).map(parseFloat)}const l=e.startsWith("1.0")?[]:Cs(a,`Other${i}`).map(nn).map(CT),c=e.startsWith("1.0")?[]:Cs(si(a,"OutputFormats"),"Format").map(nn);return{name:nn(si(a,"Name")),title:nn(si(a,"Title")),abstract:nn(si(a,"Abstract")),defaultCrs:CT(nn(si(a,n))),otherCrs:l,outputFormats:c.length>0?c:t,latLonBoundingBox:e.startsWith("1.0")?s():r()}}function Aee(a,e,t){const i=Zc(a);let n;if(t.startsWith("2.0"))n=Cs(i,"member").map(h=>ly(h)[0]);else{const h=si(i,"featureMembers");n=h?ly(h):Cs(i,"featureMember").map(f=>ly(f)[0])}const s=t==="1.0.0"?"fid":"gml:id";function r(h){return h in e.properties}function l(h,f){switch(e.properties[h]){case"integer":return parseInt(f);case"float":return parseFloat(f);case"boolean":return f==="true";default:return f}}function c(h){return ly(h).filter(f=>r(x2(w2(f)))).reduce((f,v)=>{const b=x2(w2(v));return{...f,[b]:l(b,nn(v))}},{})}return n.map(h=>({id:Pu(h,s),properties:c(h)}))}function Cee(a){return a.reduce((e,t)=>{for(const i in t.properties){const n=t.properties[i];i in e||(e[i]={uniqueValues:[]});const s=e[i].uniqueValues.find(r=>r.value===n);s?s.count++:e[i].uniqueValues.push({value:n,count:1})}return e},{})}$E("parseWmsCapabilities",self,({url:a})=>e5(a).then(e=>({info:wee(e),layers:xee(e),version:xO(e)})));$E("parseWfsCapabilities",self,({url:a})=>e5(a).then(e=>({info:Eee(e),featureTypes:Mee(e),version:Bx(e)})));$E("queryWfsFeatureTypeDetails",self,({url:a,serviceVersion:e,featureTypeFull:t})=>{const i=gee(a,e,t.name,void 0,void 0,Object.keys(t.properties));return e5(i).then(n=>({props:Cee(Aee(n,t,e))}))});const Iee=()=>[{url:"http://wmts1.geoportail.lu/opendata/service",label:"Open Data Webservices WMS"},{url:"http://ows.terrestris.de/osm-gray/service",label:"OpenStreetMap by Terrestris (Grey)"},{url:"http://ows.terrestris.de/osm/service",label:"OpenStreetMap by Terrestris (Color)"}],S2="http://www.w3.org/2001/XMLSchema-instance";function Xc(a,e){return Wf().createElementNS(a,e)}function Zl(a,e){return TO(a,e,[]).join("")}function TO(a,e,t){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)e?t.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(a.nodeValue);else{let i;for(i=a.firstChild;i;i=i.nextSibling)TO(i,e,t)}return t}function Zd(a){return"documentElement"in a}function Xd(a){return new DOMParser().parseFromString(a,"application/xml")}function bA(a,e){return function(t,i){const n=a.call(e!==void 0?e:this,t,i);if(n!==void 0){const s=i[i.length-1];xn(s,n)}}}function fo(a,e){return function(t,i){const n=a.call(e!==void 0?e:this,t,i);n!==void 0&&i[i.length-1].push(n)}}function a5(a,e){return function(t,i){const n=a.call(e!==void 0?e:this,t,i);n!==void 0&&(i[i.length-1]=n)}}function zo(a,e,t){return function(i,n){const s=a.call(t!==void 0?t:this,i,n);if(s!==void 0){const r=n[n.length-1],l=e!==void 0?e:i.localName;let c;l in r?c=r[l]:(c=[],r[l]=c),c.push(s)}}}function je(a,e,t){return function(i,n){const s=a.call(t!==void 0?t:this,i,n);if(s!==void 0){const r=n[n.length-1],l=e!==void 0?e:i.localName;r[l]=s}}}function Lt(a,e){return function(t,i,n){a.call(e!==void 0?e:this,t,i,n),n[n.length-1].node.appendChild(t)}}function EO(a,e){let t,i;return function(n,s,r){if(t===void 0){t={};const l={};l[n.localName]=a,t[n.namespaceURI]=l,i=Xl(n.localName)}MO(t,i,s,r)}}function Xl(a,e){const t=a;return function(i,n,s){const l=n[n.length-1].node;let c=t;c===void 0&&(c=s);const h=e!==void 0?e:l.namespaceURI;return Xc(h,c)}}const Rs=Xl();function bo(a,e){const t=e.length,i=new Array(t);for(let n=0;n<t;++n)i[n]=a[e[n]];return i}function pt(a,e,t){const i=t!==void 0?t:{};let n,s;for(n=0,s=a.length;n<s;++n)i[a[n]]=e;return i}function Rh(a,e,t,i){let n;for(n=e.firstElementChild;n;n=n.nextElementSibling){const s=a[n.namespaceURI];if(s!==void 0){const r=s[n.localName];r!==void 0&&r.call(i,n,t)}}}function va(a,e,t,i,n){return i.push(a),Rh(e,t,i,n),i.pop()}function MO(a,e,t,i,n,s){const r=(n!==void 0?n:t).length;let l,c;for(let h=0;h<r;++h)l=t[h],l!==void 0&&(c=e.call(s!==void 0?s:this,l,i,n!==void 0?n[h]:void 0),c!==void 0&&a[c.namespaceURI][c.localName].call(s,c,l,i))}function pn(a,e,t,i,n,s,r){return n.push(a),MO(e,t,i,n,s,r),n.pop()}let YS;function Ree(){return YS===void 0&&typeof XMLSerializer<"u"&&(YS=new XMLSerializer),YS}let KS;function Wf(){return KS===void 0&&typeof document<"u"&&(KS=document.implementation.createDocument("","",null)),KS}class Oee{read(e){if(e)if(typeof e=="string"){const t=Xd(e);return this.readFromDocument(t)}else return Zd(e)?this.readFromDocument(e):this.readFromNode(e);else return null}readFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null}readFromNode(e){}}const LO=Oee,kee="http://www.w3.org/1999/xlink";function i5(a){return a.getAttributeNS(kee,"href")}function fh(a){const e=Zl(a,!1);return Pee(e)}function Pee(a){const e=/^\s*(true|1)|(false|0)\s*$/.exec(a);if(e)return e[1]!==void 0||!1}function n5(a){const e=Zl(a,!1),t=Date.parse(e);return isNaN(t)?void 0:t/1e3}function mn(a){const e=Zl(a,!1);return Dee(e)}function Dee(a){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a);if(e)return parseFloat(e[1])}function sl(a){const e=Zl(a,!1);return Fee(e)}function Fee(a){const e=/^\s*(\d+)\s*$/.exec(a);if(e)return parseInt(e[1],10)}function aa(a){return Zl(a,!1).trim()}function yf(a,e){Bi(a,e?"1":"0")}function Nee(a,e){a.appendChild(Wf().createCDATASection(e))}function Wee(a,e){const t=new Date(e*1e3),i=t.getUTCFullYear()+"-"+Vg(t.getUTCMonth()+1,2)+"-"+Vg(t.getUTCDate(),2)+"T"+Vg(t.getUTCHours(),2)+":"+Vg(t.getUTCMinutes(),2)+":"+Vg(t.getUTCSeconds(),2)+"Z";a.appendChild(Wf().createTextNode(i))}function mo(a,e){const t=e.toPrecision();a.appendChild(Wf().createTextNode(t))}function T2(a,e){const t=e.toString();a.appendChild(Wf().createTextNode(t))}function Bi(a,e){a.appendChild(Wf().createTextNode(e))}const wo=[null,"http://www.opengis.net/ows/1.1"],zee=pt(wo,{ServiceIdentification:je(cte),ServiceProvider:je(hte),OperationsMetadata:je(lte)});class Bee extends LO{constructor(){super()}readFromNode(e){const t=va({},zee,e,[]);return t||null}}const Gee=pt(wo,{DeliveryPoint:je(aa),City:je(aa),AdministrativeArea:je(aa),PostalCode:je(aa),Country:je(aa),ElectronicMailAddress:je(aa)}),qee=pt(wo,{Value:zo(_te)}),Uee=pt(wo,{AllowedValues:je(tte)}),Vee=pt(wo,{Phone:je(ute),Address:je(ete)}),jee=pt(wo,{HTTP:je(ste)}),Hee=pt(wo,{Get:zo(rte),Post:void 0}),Zee=pt(wo,{DCP:je(nte)}),Xee=pt(wo,{Operation:ote}),Yee=pt(wo,{Voice:je(aa),Facsimile:je(aa)}),Kee=pt(wo,{Constraint:zo(ate)}),$ee=pt(wo,{IndividualName:je(aa),PositionName:je(aa),ContactInfo:je(ite)}),Qee=pt(wo,{Abstract:je(aa),AccessConstraints:je(aa),Fees:je(aa),Title:je(aa),ServiceTypeVersion:je(aa),ServiceType:je(aa)}),Jee=pt(wo,{ProviderName:je(aa),ProviderSite:je(i5),ServiceContact:je(dte)});function ete(a,e){return va({},Gee,a,e)}function tte(a,e){return va({},qee,a,e)}function ate(a,e){const t=a.getAttribute("name");if(t)return va({name:t},Uee,a,e)}function ite(a,e){return va({},Vee,a,e)}function nte(a,e){return va({},jee,a,e)}function rte(a,e){const t=i5(a);if(t)return va({href:t},Kee,a,e)}function ste(a,e){return va({},Hee,a,e)}function ote(a,e){const t=a.getAttribute("name"),i=va({},Zee,a,e);if(!i)return;const n=e[e.length-1];n[t]=i}function lte(a,e){return va({},Xee,a,e)}function ute(a,e){return va({},Yee,a,e)}function cte(a,e){return va({},Qee,a,e)}function dte(a,e){return va({},$ee,a,e)}function hte(a,e){return va({},Jee,a,e)}function _te(a,e){return aa(a)}const mte=Bee,qu=[null,"http://www.opengis.net/wmts/1.0"],zf=[null,"http://www.opengis.net/ows/1.1"],pte=pt(qu,{Contents:je(Lte)});class fte extends LO{constructor(){super(),this.owsParser_=new mte}readFromNode(e){let t=e.getAttribute("version");t&&(t=t.trim());let i=this.owsParser_.readFromNode(e);return i?(i.version=t,i=va(i,pte,e,[]),i||null):null}}const gte=pt(qu,{Layer:zo(Ate),TileMatrixSet:zo(Cte)}),yte=pt(qu,{Style:zo(Ite),Format:zo(aa),TileMatrixSetLink:zo(Rte),Dimension:zo(Ote),ResourceURL:zo(kte)},pt(zf,{Title:je(aa),Abstract:je(aa),WGS84BoundingBox:je(AO),Identifier:je(aa)})),vte=pt(qu,{LegendURL:zo(Pte)},pt(zf,{Title:je(aa),Identifier:je(aa)})),bte=pt(qu,{TileMatrixSet:je(aa),TileMatrixSetLimits:je(Fte)}),xte=pt(qu,{TileMatrixLimits:fo(Nte)}),wte=pt(qu,{TileMatrix:je(aa),MinTileRow:je(sl),MaxTileRow:je(sl),MinTileCol:je(sl),MaxTileCol:je(sl)}),Ste=pt(qu,{Default:je(aa),Value:zo(aa)},pt(zf,{Identifier:je(aa)})),Tte=pt(zf,{LowerCorner:fo(IT),UpperCorner:fo(IT)}),Ete=pt(qu,{WellKnownScaleSet:je(aa),TileMatrix:zo(Dte)},pt(zf,{SupportedCRS:je(aa),Identifier:je(aa),BoundingBox:je(AO)})),Mte=pt(qu,{TopLeftCorner:je(IT),ScaleDenominator:je(mn),TileWidth:je(sl),TileHeight:je(sl),MatrixWidth:je(sl),MatrixHeight:je(sl)},pt(zf,{Identifier:je(aa)}));function Lte(a,e){return va({},gte,a,e)}function Ate(a,e){return va({},yte,a,e)}function Cte(a,e){return va({},Ete,a,e)}function Ite(a,e){const t=va({},vte,a,e);if(!t)return;const i=a.getAttribute("isDefault")==="true";return t.isDefault=i,t}function Rte(a,e){return va({},bte,a,e)}function Ote(a,e){return va({},Ste,a,e)}function kte(a,e){const t=a.getAttribute("format"),i=a.getAttribute("template"),n=a.getAttribute("resourceType"),s={};return t&&(s.format=t),i&&(s.template=i),n&&(s.resourceType=n),s}function AO(a,e){const t=va([],Tte,a,e);if(t.length==2)return Do(t)}function Pte(a,e){const t={};return t.format=a.getAttribute("format"),t.href=i5(a),t}function IT(a,e){const t=aa(a).split(/\s+/);if(!t||t.length!=2)return;const i=+t[0],n=+t[1];if(!(isNaN(i)||isNaN(n)))return[i,n]}function Dte(a,e){return va({},Mte,a,e)}function Fte(a,e){return va([],xte,a,e)}function Nte(a,e){return va({},wte,a,e)}class Wte{constructor(e){Sa(this,"capabilitiesPromise");Sa(this,"serviceInfo");Sa(this,"layers");const t=new fte;let i="&";e.indexOf("?")===-1&&(i="?"),e.indexOf("Capabilities")===-1&&(e=e+i+"SERVICE=WMTS&REQUEST=GetCapabilities"),this.capabilitiesPromise=fetch(e).then(n=>n.text()).then(n=>{var r;const s=t.read(n);this.serviceInfo=this.mapServiceInfo(s.ServiceIdentification),this.layers=this.mapToRemoteLayers((r=s.Contents)==null?void 0:r.Layer)})}mapToRemoteLayers(e){return[{type:ku.WMTS,children:e.map(t=>({type:ku.WMTS,abstract:t.Abstract,format:t.Format,name:t.Identifier,title:t.Title,tileMatrixSetLink:t.TileMatrixSetLink,wgs84BoundingBox:t.WGS84BoundingBox}))}]}mapServiceInfo(e){return{type:ku.WMTS,title:e.Title,abstract:e.Abstract,fees:e.Fees,constraints:e.AccessConstraints,serviceTypeVersion:e.ServiceTypeVersion}}isReady(){return this.capabilitiesPromise.then(()=>this)}getLayerByName(e){return this.layers[0].children.filter(t=>t.name===e)[0]}getLayers(){return this.layers}getServiceInfo(){return this.serviceInfo}}const zte="https://migration.geoportail.lu/ogcproxywms",Bte="https://migration.geoportail.lu/httpsproxy";class Gte{constructor(){Sa(this,"_wmsProxyUrl",zte);Sa(this,"_remoteProxyUrl",Bte)}get wmsProxyUrl(){return this._wmsProxyUrl===void 0&&console.warn("Warning: proxyWmsUrl is not set."),this._wmsProxyUrl}get remoteProxyUrl(){return this._remoteProxyUrl===void 0&&console.warn("Warning: remoteProxy is not set."),this._remoteProxyUrl}getProxyfiedUrl(e){return e.indexOf("httpsproxy")>0?e:this.remoteProxyUrl+"?url="+encodeURIComponent(e)}init_v3(e,t){e&&(this._wmsProxyUrl=e),t&&(this._remoteProxyUrl=t),console.warn("Deprecated: ProxyUrlHelper.init_v3() is meant to be removed when v4 is fully operational")}}const f0=new Gte;class qte{async getRemoteEndpoint(e){let t;return await this.getWmsEndpoint(e).isReady().catch(async()=>{t=await this.getWmtsEndpoint(e).isReady()})||t}getWmsEndpoint(e){return new yee(f0.getProxyfiedUrl(e))}getWmtsEndpoint(e){return new Wte(f0.getProxyfiedUrl(e))}async fetchRemoteWmsEndpoint(){return new Promise(e=>e(Iee()))}isRemoteLayer(e){return typeof e=="string"&&(e.indexOf(ku.WMS)===0||e.indexOf(ku.WMTS)===0)}}const g0=new qte;class CO{}class Ute extends CO{async getMetadata(e,t,i){const n=g0.getWmsEndpoint(t);await n.isReady();const s=n==null?void 0:n.getServiceInfo(),r=n==null?void 0:n.getLayerByName(i);return{title:r.title,description:r.abstract,keywords:s.keywords,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const Vte=new Ute;class jte extends CO{async getMetadata(e,t,i){const n=g0.getWmtsEndpoint(t);await n.isReady();const s=n==null?void 0:n.getServiceInfo(),r=n==null?void 0:n.getLayerByName(i);return{title:r.title,description:r.abstract,accessConstraints:s.constraints,serviceDescription:s.abstract}}}const Hte=new jte;class Zte{async getMetadata(e,t,i){if(e===ku.WMS)return Vte.getMetadata(e,t,i);if(e===ku.WMTS)return Hte.getMetadata(e,t,i);throw new Error(`Unsupported service type: ${e}`)}}const Xte=new Zte,Fv=new Map,Yte="https://geocatalogue.geoportail.lu/geonetwork/srv",Kte="https://migration.geoportail.lu/legends/get_html",$te="https://migration.geoportail.lu/getMetadata";class Qte{async getLayerMetadata(e,t){let i;const s=zc().findAnyLayerById(e);return Fv.has(e)?Fv.get(e):(s?i=this.getLayerMetadataLocal(s,t):i=this.getLayerMetadataRemote(e),Fv.set(e,i),i)}async getLayerMetadataRemote(e){const[t,i,n]=String(e).split("%2D").join("-").split("||");return Xte.getMetadata(t,i,n)}async getLayerMetadataLocal(e,t){const i=e.metadata,n=i==null?void 0:i.metadata_id,s=n?await this.getLocalMetadata($te,n,t):{isError:!0},r=e.name,l=(i==null?void 0:i.legend_name)||"",c=e==null?void 0:e.id,h=await this.getLegendHtml(Kte,l,c,t),f=!!h&&h.hasChildNodes();return{...s,title:r,hasLegend:f,...f&&{legendHtml:h}}}getLocalMetadata(e,t,i){return fetch(`${e}?lang=${i}&uid=${t}`).then(async n=>{const s=(await n.json()).metadata;return{name:s.title,serviceDescription:s.serviceDescription,description:s.abstract,legalConstraints:s.legalConstraints,link:p$(s.link),revisionDate:s.revisionDate,keyword:s.keyword,responsibleParty:s.responsibleParty?f$(s.responsibleParty):void 0,metadataLink:`${Yte}/${_$(i)}/catalog.search#/metadata/${t}`,isError:!1}}).catch(()=>({isError:!0}))}getLegendHtml(e,t,i,n){const s={lang:n,...t&&{name:t},...i&&{id:i.toString()}};if(s.lang){window.devicePixelRatio>1&&(s.dpi=(window.devicePixelRatio*96).toString());const r=`${e}?${new URLSearchParams(s).toString()}`;return fetch(r).then(async l=>{if(l.status>=400&&l.status<600)throw new Error("Server responded with error code");const c=await l.text();return c?m$(c):void 0}).catch(()=>{})}}clearCache(){Fv.clear()}}const E2=new Qte,Bf="ipv6",M2="address",cm="applogin",gh="localforage",Jp="debug",Jte="embedded",IO="embeddedserver",RO="embeddedserverprotocol",RT="features",vf="fid",sh="lang",L2="layersOpen",OT="version",eae="map_id",xA="layers",wA="bgLayer",SA="opacities",y0="theme",TA="time",EA="zoom",MA="rotation",tae="SRS",kT="X",PT="Y",$S="crosshair",v0="serial",OO=["basemap_2015_global","topogr_global","topo_bw_jpeg"],DT="lc",FT="sliderRatio",kO="bgOpacity",aae="layers_indices",LA="layers_opacity",AA="layers_visibility";var os=(a=>(a[a.localStorage=0]="localStorage",a[a.permalink=1]="permalink",a[a.permalinkAsPath=2]="permalinkAsPath",a[a.permalinkAndLocalStorage=3]="permalinkAndLocalStorage",a))(os||{});class PO{}function Py(a,e){let t;return(...i)=>{clearTimeout(t),t=setTimeout(()=>{a.apply(i)},e)}}const iae=(a,e)=>{let t=null;return(...i)=>new Promise((n,s)=>{t&&clearTimeout(t),t=setTimeout(async()=>{try{const r=await a(...i);n(r)}catch(r){s(r)}},e)})};function DO(a,e){let t,i;return function(...n){const s=this;i?(clearTimeout(t),t=setTimeout(function(){Date.now()-i>=e&&(a.apply(s,n),i=Date.now())},e-(Date.now()-i))):(a.apply(s,n),i=Date.now())}}function P_(a){return a!=null&&a.trim()&&!isNaN(Number(a))?Number(a):void 0}function nae(a,e){return(a==null?void 0:a.split(e).map(t=>t!==null&&!isNaN(Number(t))?parseFloat(t):void 0))||[]}function rae(a,e){return(a==null?void 0:a.split(e).map(r5))||[]}function r5(a){return(a==null?void 0:a.trim())==="true"?!0:(a==null?void 0:a.trim())==="false"?!1:void 0}function FO(){return window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches}function Du(a){return typeof window<"u"&&window.navigator&&a.test(navigator.userAgent)}function sae(a){const e=new RegExp("[^/]*//[^/]+/(.*)"),t=a.match(e);return t?t[1]:null}const oae=Du(/firefox/i);Du(/safari/i)&&!Du(/chrome/i)&&Du(/android/i);Du(/iP(ad|od|hone)/i);Du(/chrome/i)&&Du(/android/i);Du(/chrome/i);Du(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i);Du(/Edge/i);function CA(a){return a.replace(/\s+/g,"_").replace(/[^a-z0-9\-_]/gi,"")||"_"}async function lae(a,e){const t=await fetch(a);if(!t.ok)throw new Error;const i=await t.blob();NO(e,i)}function uae(a,e,t="text/plain"){const i=new Blob([e],{type:t});NO(a,i)}function NO(a,e){const t=URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download=a,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t)}function cae(a){return a.charAt(0).toUpperCase()+a.slice(1)}class A2 extends PO{static processRules(e){return A2.ruleUseLocalStorage(e)?os.localStorage:os.permalink}static processRulesForKey(e,t){if(OO.includes(e))return os.localStorage;if(e===v0)return os.permalink;if(e===L2)return os.localStorage}static ruleUseLocalStorage(e){return[dae,hae,_ae].reduce((t,i)=>t||i(e),!1)}}const dae=a=>Object.keys(a).length===0,hae=a=>Object.keys(a).length===1&&(a.hasOwnProperty(Bf)||a.hasOwnProperty(cm)||a.hasOwnProperty(gh)),_ae=a=>Object.keys(a).length===3&&a.hasOwnProperty(Bf)&&a.hasOwnProperty(cm)&&a.hasOwnProperty(gh);class C2 extends PO{static processRules(){return os.permalinkAndLocalStorage}static processRulesForKey(e,t){if(C2.ruleUsePermalink(e))return os.permalink;if(e===L2||OO.includes(e))return os.localStorage;if(e===v0||e===RT)return os.permalink;if(e===y0)return os.permalinkAsPath}static ruleUsePermalink(e){return[mae,pae,fae].reduce((t,i)=>t||i(e),!1)}}const mae=a=>a===DT||a===FT,pae=a=>a===OT,fae=a=>a===y0&&!0;class WO{constructor(){Sa(this,"snappedUrl");this.snappedUrl=new URL(window.location.toString())}get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}getStrippedUrl(e){const t=new URL(window.location.toString()),i=new URLSearchParams(t.search);return e!==void 0&&(i.set("X",Math.round(e[0]).toString()),i.set("Y",Math.round(e[1]).toString())),i.delete(gh),i.delete(cm),i.delete(Bf),i.delete(IO),i.delete(RO),t.search=i.toString(),t}getRelativeUrl(){const e=this.getStrippedUrl(void 0);return e.pathname+e.search}async getShortUrl(e){const t=this.getStrippedUrl(e).toString().replace(/https:\/\/geoportail-luxembourg.github.io\/luxembourg-geoportail\/.+\//,"https://migration.geoportail.lu/").replace(/http:\/\/localhost:[45]173\//,"https://migration.geoportail.lu/"),i=new URLSearchParams;return i.set("url",t),await(await fetch("https://migration.geoportail.lu/short/create",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i.toString()})).json()}getSnappedUrl(){return this.snappedUrl}getSnappedParamsAsObj(){return this.getSnappedParams().reduce((e,t)=>{const[i,n]=t.split("=");return{...e,[i]:n}},{})}getSnappedParams(){return this.getSnappedUrl().search.replace("?","").split("&").filter(e=>e.split("=")[1])}setItem(e,t){const i=new URLSearchParams(new URL(window.location.toString()).search);i.set(encodeURIComponent(e),encodeURIComponent(t));try{window.history.replaceState(null,"","?"+i.toString())}catch{}}getItem(e){const t=this.getSnappedUrl().searchParams.get(e);return t!==null?decodeURIComponent(t):t}removeItem(e){const t=new URLSearchParams(new URL(window.location.toString()).search);t.delete(e);try{window.history.replaceState(null,"","?"+t.toString())}catch{}}encodeQueryParam(e,t){return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`}removeQueryParam(e){const t=new URL(window.location.href);t.searchParams.delete(e),window.history.replaceState({},document.title,t.toString())}}const oh=new WO;class gae extends WO{getItem(e){const t=this.getSnappedUrl().pathname.split("/"),i=t.findIndex(n=>n===e);return t[i+1]}setItem(e,t){const i=new URL(window.location.toString()).search,n=`/luxembourg-geoportail/main/${e}/${t}${i}`;try{window.history.replaceState(null,"",n)}catch{}}}const zO=new gae;class yae{get length(){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method key() not implemented. "+e)}removeItem(e){const t=this.getWriteStorages(e);t==null||t.map(i=>i.removeItem(e))}setItem(e,t){this.setValue(e,t)}getItem(e){return this.getValue(e)}get paramKeys(){return oh.getSnappedParamsAsObj()}getValue(e){var n;const t=(n=this.correspondingStorages(A2.processRules(this.paramKeys)))==null?void 0:n.pop(),i=this.storageForKey(e,A2,t);return i?i.getItem(e):null}setValue(e,t){const i=this.getWriteStorages(e);i==null||i.map(n=>n.setItem(e,t))}getWriteStorages(e){const t=this.correspondingStorages(C2.processRules()),i=this.storageForKey(e,C2);return i?[i]:t}storageForKey(e,t,i){var s;return((s=this.correspondingStorages(t.processRulesForKey(e,this.paramKeys)))==null?void 0:s.pop())??i}correspondingStorages(e){if(e===os.permalinkAndLocalStorage)return[oh,localStorage];if(e===os.localStorage)return[localStorage];if(e===os.permalink)return[oh];if(e===os.permalinkAsPath)return[zO]}}const Nv=new yae;function vae(a){return bae(a)||xae(a)||wae(a)||Sae(a)}const bae=a=>Object.keys(a).length===0,xae=a=>{const e=Object.keys(a);return Object.keys(a).length===1&&[Bf,cm,gh,vf,sh,M2,Jp].some(t=>e.indexOf(t)!==-1)},wae=a=>{const e=Object.keys(a),t=n=>e.indexOf(n)!==-1,i=[[cm,gh],[Jp,vf],[sh,vf],[Jp,sh],[Jp,M2],[sh,M2]];return Object.keys(a).length===2&&i.reduce((n,s)=>n||s.every(t),!1)},Sae=a=>{const e=Object.keys(a),t=r=>e.indexOf(r)!==-1,i=[Bf,cm,gh].every(t),n=[Jp,vf,sh].every(t),s=[Jp,M2,sh].every(t);return Object.keys(a).length===3&&(i||n||s)};class Tae{constructor(){Sa(this,"intialVersion");const e=Nv.paramKeys,t=this.getValue(OT,P_);this.intialVersion=t?Math.max(2,Math.min(t,3)):vae(e)?3:2,this.setValue(OT,3)}getInitialVersion(){return this.intialVersion}mapToEntity(e,t){return t?t(e):e}mapToStorage(e,t){return t?t(e):String(e)}getValue(e,t){return this.mapToEntity(Nv.getValue(e),t)}setValue(e,t,i){Nv.setValue(e,this.mapToStorage(t,i))}removeItem(e){Nv.removeItem(e)}}const wa=new Tae;class Eae{bootstrap(){this.restore();let e;e=Vn(()=>{this.persist(),e&&e()})}persist(){const e=fi(),{lang:t}=Gt(e);Vt(t,(i,n)=>{n!==i&&(wa.setValue(sh,i),document.documentElement.setAttribute("lang",i))},{immediate:!0})}restore(){const e=wa.getValue(sh);if(e){const{setLang:t}=fi(),{i18next:i}=ma();i.changeLanguage(e),t(e)}}}const Mae=new Eae,Lae=ft({__name:"language-selector",setup(a){const{i18next:e,t}=ma(),{setLang:i}=fi(),{lang:n}=Gt(fi()),s=Pt(()=>["en","de","fr","lb"].map(c=>({label:t(c),value:c,ariaLabel:t("Change language: {{lang}}",{ns:"app",lang:c})}))),r=t("Change language",{ns:"app"});Mae.bootstrap(),Vt(()=>e.language,()=>{E2.clearCache()});function l(c){e.changeLanguage(c),i(c)}return(c,h)=>(ne(),ga(f2,{class:"lux-navbar-dropdown lux-dropdown-inline text-white h-full",options:s.value,placeholder:V(r),modelValue:V(n),"onUpdate:modelValue":h[0]||(h[0]=f=>Dn(n)?n.value=f:null),onChange:l},null,8,["options","placeholder","modelValue"]))}}),Aae={class:"w-full h-14 flex bg-white shadow-header z-10 shrink-0"},Cae={class:"h-full flex"},Iae={class:"hidden lg:inline-block"},Rae={class:"border-l-[1px] border-stone-300 h-full"},Oae={class:"border-l-[1px] border-stone-300 h-full"},kae=ft({__name:"header-bar",setup(a){const{t:e}=ma(),t=fi(),{toggleThemeGrid:i}=t,{themeName:n}=Gt(us()),{authenticated:s}=Gt(kx()),r=$e(!1),l=$e(!1);Vt(s,f=>f&&(r.value=!1));function c(f){l.value=f,f&&(r.value=!1)}function h(f){r.value=f,f&&(l.value=!1)}return(f,v)=>(ne(),xe("header",Aae,[v[1]||(v[1]=$("div",{class:"flex-2 p-[5px]"},[$("img",{src:vK})],-1)),v[2]||(v[2]=$("div",{class:"grow text-center"},"search",-1)),$("div",null,[$("ul",Cae,[$("li",null,[$("button",{class:ei(["flex items-center before:font-icons before:text-3xl before:w-16 text-primary uppercase h-full mr-3",`before:content-${V(n)}`]),"data-cy":"selectedThemeIcon",onClick:v[0]||(v[0]=(...b)=>V(i)&&V(i)(...b))},[$("span",Iae,De(V(e)(`${V(n)}`)),1)],2)]),$("li",Rae,[ct(Lae,{"data-cy":"langSelect",class:"flex-none h-full",isOpen:l.value,onToggleDropdown:c},null,8,["isOpen"])]),$("li",Oae,[ct(lR,{"data-cy":"authFormIcon",class:"lux-navbar-dropdown lux-navbar-dropdown-auth h-full",enableClickOutside:!1,isOpen:r.value,onToggleDropdown:h},{default:Xa(()=>[ct(s$,{class:"w-80"})]),_:1},8,["isOpen"])])])])]))}}),$s=jo("draw",()=>{const a=$e(void 0),e=$e(void 0),t=$e(void 0),i=$e(void 0),n=$e([]),s=$e(!1);function r(M){var I;((I=i.value)==null?void 0:I.replace("edit",""))===(M==null?void 0:M.replace("draw",""))?(t.value=void 0,i.value=void 0,e.value=void 0):t.value===M?t.value=void 0:l(M)}function l(M){M&&(i.value=void 0,e.value=void 0),t.value=M}function c(M){M?t.value=void 0:e.value=void 0,i.value=M}function h(M){n.value=[...n.value,M],a.value=na(M),e.value=na(M),i.value=M.featureType.replace("drawn","edit"),t.value=void 0}function f(M){const I=n.value.findIndex(R=>R.id===M.id);I!==-1&&(n.value[I]=M),n.value=[...n.value]}function v(M){n.value=M}function b(M){n.value=n.value.filter(I=>na(I)!==M),a.value===M&&(a.value=void 0,e.value=void 0)}function T(M){n.value=n.value.map(I=>Object.assign(I,{display_order:M.indexOf(`f-${na(I)}`)}))}return{activeFeatureId:a,editingFeatureId:e,drawStateActive:t,editStateActive:i,drawnFeatures:n,featureEditionDocked:s,removeFeature:b,reorderFeatures:T,toggleDrawActiveState:r,setDrawActiveState:l,setEditActiveState:c,addDrawnFeature:h,updateDrawnFeature:f,setDrawnFeatures:v}}),Q_=jo("featureInfo",()=>{const a=Li(),e=Li(),t=Li(!1),i=Li(!1);function n(h){!h||h.length===0?a.value=void 0:(a.value=[...h],t.value=!1)}function s(){a.value=void 0,t.value=!1}function r(h){e.value=h}function l(h){t.value=h}function c(h){i.value=h}return{featureInfoPanelContent:a,fid:e,isLoading:t,displayStarOnMobile:i,setFeatureInfoPanelContent:n,clearContent:s,setFid:r,setLoading:l,setDisplayStarOnMobile:c}},{}),Pae={class:"block text-[13px] sm:text-base uppercase"},vc=ft({__name:"button-icon",props:{label:{},icon:{},active:{type:Boolean}},setup(a){const e=a;return(t,i)=>(ne(),xe("button",{class:ei(["h-[42px] w-full sm:h-full sm:w-16 hover:text-white hover:bg-primary",e.active?"bg-primary text-white":""])},[$("span",{class:ei(["block text-[1.7rem] sm:text-[2rem] -mt-1.5 -mb-3 after:font-icons",e.active?"lux-close-cross":`after:content-${e.icon}`])},null,2),$("span",Pae,De(e.label),1)],2))}}),Dae=["href"],Cd=ft({__name:"button-link",props:{label:{},link:{}},setup(a){const e=a;return(t,i)=>(ne(),xe("a",{class:"h-full flex flex-col justify-center px-[7px] uppercase hover:text-white hover:bg-primary",href:`${e.link}`,target:"_blank"},De(t.$props.label),9,Dae))}}),Fae={class:"block"},Lp=ft({__name:"button-text",props:{label:{},active:{type:Boolean}},setup(a){const e=a;return(t,i)=>(ne(),xe("button",{class:ei(["h-16 w-16 text-white hover:bg-primary",e.active?"bg-primary":"bg-tertiary"])},[$("span",Fae,De(e.label),1)],2))}}),Nae={"data-cy":"toolbarDraw"},Wae={class:"absolute bottom-full top-auto z-20 flex flex-row justify-start divide-y-0 divide-x divide-gray-400 divide-solid box-content border-y-0 border-x border-gray-400"},zae={key:0,class:"absolute bottom-full top-auto z-10 pl-[130px] pb-16 w-[326px]","data-cy":"followRoads"},Bae={class:"flex flex-row justify-center text-white bg-tertiary hover:bg-primary py-2 box-content border-y border-x border-gray-400"},Gae=ft({__name:"toolbar-draw",setup(a){const{t:e}=ma(),t=$s(),{toggleDrawActiveState:i,setDrawActiveState:n}=t,{drawStateActive:s,editStateActive:r}=Gt(t);return O3(()=>{n(void 0)}),(l,c)=>(ne(),xe("div",Nae,[$("ul",Wae,[$("li",null,[ct(Lp,{label:V(e)("Draw Point",{ns:"client"}),active:V(s)==="drawPoint"||V(r)==="editPoint",onClick:c[0]||(c[0]=()=>V(i)("drawPoint")),"data-cy":"drawPointButton"},null,8,["label","active"])]),$("li",null,[ct(Lp,{label:V(e)("Label",{ns:"client"}),active:V(s)==="drawLabel"||V(r)==="editLabel",onClick:c[1]||(c[1]=()=>V(i)("drawLabel")),"data-cy":"drawLabelButton"},null,8,["label","active"])]),$("li",null,[ct(Lp,{label:V(e)("Line",{ns:"client"}),active:V(s)==="drawLine"||V(r)==="editLine",onClick:c[2]||(c[2]=()=>V(i)("drawLine")),"data-cy":"drawLineButton"},null,8,["label","active"])]),$("li",null,[ct(Lp,{label:V(e)("Polygon",{ns:"client"}),active:V(s)==="drawPolygon"||V(r)==="editPolygon",onClick:c[3]||(c[3]=()=>V(i)("drawPolygon")),"data-cy":"drawPolygonButton"},null,8,["label","active"])]),$("li",null,[ct(Lp,{label:V(e)("Circle",{ns:"client"}),active:V(s)==="drawCircle"||V(r)==="editCircle",onClick:c[4]||(c[4]=()=>V(i)("drawCircle")),"data-cy":"drawCircleButton"},null,8,["label","active"])])]),V(s)==="drawLine"||V(r)==="editLine"?(ne(),xe("ul",zae,[$("li",Bae,[$("label",null,[c[5]||(c[5]=$("input",{type:"checkbox"},null,-1)),xr(" "+De(V(e)("Suivre la route",{ns:"client"})),1)])])])):Ze("",!0)]))}}),qae="/luxembourg-geoportail/main/assets/images/profile-81368bb1.png";var NT="http://www.w3.org/1999/xhtml";const IA={svg:"http://www.w3.org/2000/svg",xhtml:NT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gx(a){var e=a+="",t=e.indexOf(":");return t>=0&&(e=a.slice(0,t))!=="xmlns"&&(a=a.slice(t+1)),IA.hasOwnProperty(e)?{space:IA[e],local:a}:a}function Uae(a){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===NT&&e.documentElement.namespaceURI===NT?e.createElement(a):e.createElementNS(t,a)}}function Vae(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function BO(a){var e=Gx(a);return(e.local?Vae:Uae)(e)}function jae(){}function s5(a){return a==null?jae:function(){return this.querySelector(a)}}function Hae(a){typeof a!="function"&&(a=s5(a));for(var e=this._groups,t=e.length,i=new Array(t),n=0;n<t;++n)for(var s=e[n],r=s.length,l=i[n]=new Array(r),c,h,f=0;f<r;++f)(c=s[f])&&(h=a.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),l[f]=h);return new Qs(i,this._parents)}function GO(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}function Zae(){return[]}function qO(a){return a==null?Zae:function(){return this.querySelectorAll(a)}}function Xae(a){return function(){return GO(a.apply(this,arguments))}}function Yae(a){typeof a=="function"?a=Xae(a):a=qO(a);for(var e=this._groups,t=e.length,i=[],n=[],s=0;s<t;++s)for(var r=e[s],l=r.length,c,h=0;h<l;++h)(c=r[h])&&(i.push(a.call(c,c.__data__,h,r)),n.push(c));return new Qs(i,n)}function UO(a){return function(){return this.matches(a)}}function VO(a){return function(e){return e.matches(a)}}var Kae=Array.prototype.find;function $ae(a){return function(){return Kae.call(this.children,a)}}function Qae(){return this.firstElementChild}function Jae(a){return this.select(a==null?Qae:$ae(typeof a=="function"?a:VO(a)))}var eie=Array.prototype.filter;function tie(){return Array.from(this.children)}function aie(a){return function(){return eie.call(this.children,a)}}function iie(a){return this.selectAll(a==null?tie:aie(typeof a=="function"?a:VO(a)))}function nie(a){typeof a!="function"&&(a=UO(a));for(var e=this._groups,t=e.length,i=new Array(t),n=0;n<t;++n)for(var s=e[n],r=s.length,l=i[n]=[],c,h=0;h<r;++h)(c=s[h])&&a.call(c,c.__data__,h,s)&&l.push(c);return new Qs(i,this._parents)}function jO(a){return new Array(a.length)}function rie(){return new Qs(this._enter||this._groups.map(jO),this._parents)}function I2(a,e){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=e}I2.prototype={constructor:I2,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,e){return this._parent.insertBefore(a,e)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};function sie(a){return function(){return a}}function oie(a,e,t,i,n,s){for(var r=0,l,c=e.length,h=s.length;r<h;++r)(l=e[r])?(l.__data__=s[r],i[r]=l):t[r]=new I2(a,s[r]);for(;r<c;++r)(l=e[r])&&(n[r]=l)}function lie(a,e,t,i,n,s,r){var l,c,h=new Map,f=e.length,v=s.length,b=new Array(f),T;for(l=0;l<f;++l)(c=e[l])&&(b[l]=T=r.call(c,c.__data__,l,e)+"",h.has(T)?n[l]=c:h.set(T,c));for(l=0;l<v;++l)T=r.call(a,s[l],l,s)+"",(c=h.get(T))?(i[l]=c,c.__data__=s[l],h.delete(T)):t[l]=new I2(a,s[l]);for(l=0;l<f;++l)(c=e[l])&&h.get(b[l])===c&&(n[l]=c)}function uie(a){return a.__data__}function cie(a,e){if(!arguments.length)return Array.from(this,uie);var t=e?lie:oie,i=this._parents,n=this._groups;typeof a!="function"&&(a=sie(a));for(var s=n.length,r=new Array(s),l=new Array(s),c=new Array(s),h=0;h<s;++h){var f=i[h],v=n[h],b=v.length,T=die(a.call(f,f&&f.__data__,h,i)),M=T.length,I=l[h]=new Array(M),R=r[h]=new Array(M),P=c[h]=new Array(b);t(f,v,I,R,P,T,e);for(var F=0,B=0,W,Z;F<M;++F)if(W=I[F]){for(F>=B&&(B=F+1);!(Z=R[B])&&++B<M;);W._next=Z||null}}return r=new Qs(r,i),r._enter=l,r._exit=c,r}function die(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function hie(){return new Qs(this._exit||this._groups.map(jO),this._parents)}function _ie(a,e,t){var i=this.enter(),n=this,s=this.exit();return typeof a=="function"?(i=a(i),i&&(i=i.selection())):i=i.append(a+""),e!=null&&(n=e(n),n&&(n=n.selection())),t==null?s.remove():t(s),i&&n?i.merge(n).order():n}function mie(a){for(var e=a.selection?a.selection():a,t=this._groups,i=e._groups,n=t.length,s=i.length,r=Math.min(n,s),l=new Array(n),c=0;c<r;++c)for(var h=t[c],f=i[c],v=h.length,b=l[c]=new Array(v),T,M=0;M<v;++M)(T=h[M]||f[M])&&(b[M]=T);for(;c<n;++c)l[c]=t[c];return new Qs(l,this._parents)}function pie(){for(var a=this._groups,e=-1,t=a.length;++e<t;)for(var i=a[e],n=i.length-1,s=i[n],r;--n>=0;)(r=i[n])&&(s&&r.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(r,s),s=r);return this}function fie(a){a||(a=gie);function e(v,b){return v&&b?a(v.__data__,b.__data__):!v-!b}for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s){for(var r=t[s],l=r.length,c=n[s]=new Array(l),h,f=0;f<l;++f)(h=r[f])&&(c[f]=h);c.sort(e)}return new Qs(n,this._parents).order()}function gie(a,e){return a<e?-1:a>e?1:a>=e?0:NaN}function yie(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}function vie(){return Array.from(this)}function bie(){for(var a=this._groups,e=0,t=a.length;e<t;++e)for(var i=a[e],n=0,s=i.length;n<s;++n){var r=i[n];if(r)return r}return null}function xie(){let a=0;for(const e of this)++a;return a}function wie(){return!this.node()}function Sie(a){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],s=0,r=n.length,l;s<r;++s)(l=n[s])&&a.call(l,l.__data__,s,n);return this}function Tie(a){return function(){this.removeAttribute(a)}}function Eie(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Mie(a,e){return function(){this.setAttribute(a,e)}}function Lie(a,e){return function(){this.setAttributeNS(a.space,a.local,e)}}function Aie(a,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(a):this.setAttribute(a,t)}}function Cie(a,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,t)}}function Iie(a,e){var t=Gx(a);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((e==null?t.local?Eie:Tie:typeof e=="function"?t.local?Cie:Aie:t.local?Lie:Mie)(t,e))}function HO(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function Rie(a){return function(){this.style.removeProperty(a)}}function Oie(a,e,t){return function(){this.style.setProperty(a,e,t)}}function kie(a,e,t){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(a):this.style.setProperty(a,i,t)}}function Pie(a,e,t){return arguments.length>1?this.each((e==null?Rie:typeof e=="function"?kie:Oie)(a,e,t??"")):bf(this.node(),a)}function bf(a,e){return a.style.getPropertyValue(e)||HO(a).getComputedStyle(a,null).getPropertyValue(e)}function Die(a){return function(){delete this[a]}}function Fie(a,e){return function(){this[a]=e}}function Nie(a,e){return function(){var t=e.apply(this,arguments);t==null?delete this[a]:this[a]=t}}function Wie(a,e){return arguments.length>1?this.each((e==null?Die:typeof e=="function"?Nie:Fie)(a,e)):this.node()[a]}function ZO(a){return a.trim().split(/^|\s+/)}function o5(a){return a.classList||new XO(a)}function XO(a){this._node=a,this._names=ZO(a.getAttribute("class")||"")}XO.prototype={add:function(a){var e=this._names.indexOf(a);e<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var e=this._names.indexOf(a);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};function YO(a,e){for(var t=o5(a),i=-1,n=e.length;++i<n;)t.add(e[i])}function KO(a,e){for(var t=o5(a),i=-1,n=e.length;++i<n;)t.remove(e[i])}function zie(a){return function(){YO(this,a)}}function Bie(a){return function(){KO(this,a)}}function Gie(a,e){return function(){(e.apply(this,arguments)?YO:KO)(this,a)}}function qie(a,e){var t=ZO(a+"");if(arguments.length<2){for(var i=o5(this.node()),n=-1,s=t.length;++n<s;)if(!i.contains(t[n]))return!1;return!0}return this.each((typeof e=="function"?Gie:e?zie:Bie)(t,e))}function Uie(){this.textContent=""}function Vie(a){return function(){this.textContent=a}}function jie(a){return function(){var e=a.apply(this,arguments);this.textContent=e??""}}function Hie(a){return arguments.length?this.each(a==null?Uie:(typeof a=="function"?jie:Vie)(a)):this.node().textContent}function Zie(){this.innerHTML=""}function Xie(a){return function(){this.innerHTML=a}}function Yie(a){return function(){var e=a.apply(this,arguments);this.innerHTML=e??""}}function Kie(a){return arguments.length?this.each(a==null?Zie:(typeof a=="function"?Yie:Xie)(a)):this.node().innerHTML}function $ie(){this.nextSibling&&this.parentNode.appendChild(this)}function Qie(){return this.each($ie)}function Jie(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ene(){return this.each(Jie)}function tne(a){var e=typeof a=="function"?a:BO(a);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ane(){return null}function ine(a,e){var t=typeof a=="function"?a:BO(a),i=e==null?ane:typeof e=="function"?e:s5(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function nne(){var a=this.parentNode;a&&a.removeChild(this)}function rne(){return this.each(nne)}function sne(){var a=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(a,this.nextSibling):a}function one(){var a=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(a,this.nextSibling):a}function lne(a){return this.select(a?one:sne)}function une(a){return arguments.length?this.property("__data__",a):this.node().__data__}function cne(a){return function(e){a.call(this,e,this.__data__)}}function dne(a){return a.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function hne(a){return function(){var e=this.__on;if(e){for(var t=0,i=-1,n=e.length,s;t<n;++t)s=e[t],(!a.type||s.type===a.type)&&s.name===a.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function _ne(a,e,t){return function(){var i=this.__on,n,s=cne(e);if(i){for(var r=0,l=i.length;r<l;++r)if((n=i[r]).type===a.type&&n.name===a.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=s,n.options=t),n.value=e;return}}this.addEventListener(a.type,s,t),n={type:a.type,name:a.name,value:e,listener:s,options:t},i?i.push(n):this.__on=[n]}}function mne(a,e,t){var i=dne(a+""),n,s=i.length,r;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,h=l.length,f;c<h;++c)for(n=0,f=l[c];n<s;++n)if((r=i[n]).type===f.type&&r.name===f.name)return f.value}return}for(l=e?_ne:hne,n=0;n<s;++n)this.each(l(i[n],e,t));return this}function $O(a,e,t){var i=HO(a),n=i.CustomEvent;typeof n=="function"?n=new n(e,t):(n=i.document.createEvent("Event"),t?(n.initEvent(e,t.bubbles,t.cancelable),n.detail=t.detail):n.initEvent(e,!1,!1)),a.dispatchEvent(n)}function pne(a,e){return function(){return $O(this,a,e)}}function fne(a,e){return function(){return $O(this,a,e.apply(this,arguments))}}function gne(a,e){return this.each((typeof e=="function"?fne:pne)(a,e))}function*yne(){for(var a=this._groups,e=0,t=a.length;e<t;++e)for(var i=a[e],n=0,s=i.length,r;n<s;++n)(r=i[n])&&(yield r)}var l5=[null];function Qs(a,e){this._groups=a,this._parents=e}function U0(){return new Qs([[document.documentElement]],l5)}function vne(){return this}Qs.prototype=U0.prototype={constructor:Qs,select:Hae,selectAll:Yae,selectChild:Jae,selectChildren:iie,filter:nie,data:cie,enter:rie,exit:hie,join:_ie,merge:mie,selection:vne,order:pie,sort:fie,call:yie,nodes:vie,node:bie,size:xie,empty:wie,each:Sie,attr:Iie,style:Pie,property:Wie,classed:qie,text:Hie,html:Kie,raise:Qie,lower:ene,append:tne,insert:ine,remove:rne,clone:lne,datum:une,on:mne,dispatch:gne,[Symbol.iterator]:yne};function QO(a){return typeof a=="string"?new Qs([[document.querySelector(a)]],[document.documentElement]):new Qs([[a]],l5)}function bne(a){let e;for(;e=a.sourceEvent;)a=e;return a}function xne(a,e){if(a=bne(a),e===void 0&&(e=a.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=a.clientX,i.y=a.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();return[a.clientX-n.left-e.clientLeft,a.clientY-n.top-e.clientTop]}}return[a.pageX,a.pageY]}function wne(a){return typeof a=="string"?new Qs([document.querySelectorAll(a)],[document.documentElement]):new Qs([GO(a)],l5)}var Sne={value:()=>{}};function JO(){for(var a=0,e=arguments.length,t={},i;a<e;++a){if(!(i=arguments[a]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new fb(t)}function fb(a){this._=a}function Tne(a,e){return a.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}fb.prototype=JO.prototype={constructor:fb,on:function(a,e){var t=this._,i=Tne(a+"",t),n,s=-1,r=i.length;if(arguments.length<2){for(;++s<r;)if((n=(a=i[s]).type)&&(n=Ene(t[n],a.name)))return n;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<r;)if(n=(a=i[s]).type)t[n]=RA(t[n],a.name,e);else if(e==null)for(n in t)t[n]=RA(t[n],a.name,null);return this},copy:function(){var a={},e=this._;for(var t in e)a[t]=e[t].slice();return new fb(a)},call:function(a,e){if((n=arguments.length-2)>0)for(var t=new Array(n),i=0,n,s;i<n;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(s=this._[a],i=0,n=s.length;i<n;++i)s[i].value.apply(e,t)},apply:function(a,e,t){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var i=this._[a],n=0,s=i.length;n<s;++n)i[n].value.apply(e,t)}};function Ene(a,e){for(var t=0,i=a.length,n;t<i;++t)if((n=a[t]).name===e)return n.value}function RA(a,e,t){for(var i=0,n=a.length;i<n;++i)if(a[i].name===e){a[i]=Sne,a=a.slice(0,i).concat(a.slice(i+1));break}return t!=null&&a.push({name:e,value:t}),a}var xf=0,uy=0,Yg=0,ek=1e3,R2,cy,O2=0,J_=0,qx=0,b0=typeof performance=="object"&&performance.now?performance:Date,tk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function u5(){return J_||(tk(Mne),J_=b0.now()+qx)}function Mne(){J_=0}function k2(){this._call=this._time=this._next=null}k2.prototype=ak.prototype={constructor:k2,restart:function(a,e,t){if(typeof a!="function")throw new TypeError("callback is not a function");t=(t==null?u5():+t)+(e==null?0:+e),!this._next&&cy!==this&&(cy?cy._next=this:R2=this,cy=this),this._call=a,this._time=t,WT()},stop:function(){this._call&&(this._call=null,this._time=1/0,WT())}};function ak(a,e,t){var i=new k2;return i.restart(a,e,t),i}function Lne(){u5(),++xf;for(var a=R2,e;a;)(e=J_-a._time)>=0&&a._call.call(void 0,e),a=a._next;--xf}function OA(){J_=(O2=b0.now())+qx,xf=uy=0;try{Lne()}finally{xf=0,Cne(),J_=0}}function Ane(){var a=b0.now(),e=a-O2;e>ek&&(qx-=e,O2=a)}function Cne(){for(var a,e=R2,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),a=e,e=e._next):(t=e._next,e._next=null,e=a?a._next=t:R2=t);cy=a,WT(i)}function WT(a){if(!xf){uy&&(uy=clearTimeout(uy));var e=a-J_;e>24?(a<1/0&&(uy=setTimeout(OA,a-b0.now()-qx)),Yg&&(Yg=clearInterval(Yg))):(Yg||(O2=b0.now(),Yg=setInterval(Ane,ek)),xf=1,tk(OA))}}function kA(a,e,t){var i=new k2;return e=e==null?0:+e,i.restart(n=>{i.stop(),a(n+e)},e,t),i}var Ine=JO("start","end","cancel","interrupt"),Rne=[],ik=0,PA=1,zT=2,gb=3,DA=4,BT=5,yb=6;function Ux(a,e,t,i,n,s){var r=a.__transition;if(!r)a.__transition={};else if(t in r)return;One(a,t,{name:e,index:i,group:n,on:Ine,tween:Rne,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:ik})}function c5(a,e){var t=Yl(a,e);if(t.state>ik)throw new Error("too late; already scheduled");return t}function Uu(a,e){var t=Yl(a,e);if(t.state>gb)throw new Error("too late; already running");return t}function Yl(a,e){var t=a.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function One(a,e,t){var i=a.__transition,n;i[e]=t,t.timer=ak(s,0,t.time);function s(h){t.state=PA,t.timer.restart(r,t.delay,t.time),t.delay<=h&&r(h-t.delay)}function r(h){var f,v,b,T;if(t.state!==PA)return c();for(f in i)if(T=i[f],T.name===t.name){if(T.state===gb)return kA(r);T.state===DA?(T.state=yb,T.timer.stop(),T.on.call("interrupt",a,a.__data__,T.index,T.group),delete i[f]):+f<e&&(T.state=yb,T.timer.stop(),T.on.call("cancel",a,a.__data__,T.index,T.group),delete i[f])}if(kA(function(){t.state===gb&&(t.state=DA,t.timer.restart(l,t.delay,t.time),l(h))}),t.state=zT,t.on.call("start",a,a.__data__,t.index,t.group),t.state===zT){for(t.state=gb,n=new Array(b=t.tween.length),f=0,v=-1;f<b;++f)(T=t.tween[f].value.call(a,a.__data__,t.index,t.group))&&(n[++v]=T);n.length=v+1}}function l(h){for(var f=h<t.duration?t.ease.call(null,h/t.duration):(t.timer.restart(c),t.state=BT,1),v=-1,b=n.length;++v<b;)n[v].call(a,f);t.state===BT&&(t.on.call("end",a,a.__data__,t.index,t.group),c())}function c(){t.state=yb,t.timer.stop(),delete i[e];for(var h in i)return;delete a.__transition}}function kne(a,e){var t=a.__transition,i,n,s=!0,r;if(t){e=e==null?null:e+"";for(r in t){if((i=t[r]).name!==e){s=!1;continue}n=i.state>zT&&i.state<BT,i.state=yb,i.timer.stop(),i.on.call(n?"interrupt":"cancel",a,a.__data__,i.index,i.group),delete t[r]}s&&delete a.__transition}}function Pne(a){return this.each(function(){kne(this,a)})}function d5(a,e,t){a.prototype=e.prototype=t,t.constructor=a}function nk(a,e){var t=Object.create(a.prototype);for(var i in e)t[i]=e[i];return t}function V0(){}var x0=.7,P2=1/x0,ef="\\s*([+-]?\\d+)\\s*",w0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dne=/^#([0-9a-f]{3,8})$/,Fne=new RegExp(`^rgb\\(${ef},${ef},${ef}\\)$`),Nne=new RegExp(`^rgb\\(${Fu},${Fu},${Fu}\\)$`),Wne=new RegExp(`^rgba\\(${ef},${ef},${ef},${w0}\\)$`),zne=new RegExp(`^rgba\\(${Fu},${Fu},${Fu},${w0}\\)$`),Bne=new RegExp(`^hsl\\(${w0},${Fu},${Fu}\\)$`),Gne=new RegExp(`^hsla\\(${w0},${Fu},${Fu},${w0}\\)$`),FA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};d5(V0,em,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:NA,formatHex:NA,formatHex8:qne,formatHsl:Une,formatRgb:WA,toString:WA});function NA(){return this.rgb().formatHex()}function qne(){return this.rgb().formatHex8()}function Une(){return rk(this).formatHsl()}function WA(){return this.rgb().formatRgb()}function em(a){var e,t;return a=(a+"").trim().toLowerCase(),(e=Dne.exec(a))?(t=e[1].length,e=parseInt(e[1],16),t===6?zA(e):t===3?new yo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Wv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Wv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fne.exec(a))?new yo(e[1],e[2],e[3],1):(e=Nne.exec(a))?new yo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wne.exec(a))?Wv(e[1],e[2],e[3],e[4]):(e=zne.exec(a))?Wv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bne.exec(a))?qA(e[1],e[2]/100,e[3]/100,1):(e=Gne.exec(a))?qA(e[1],e[2]/100,e[3]/100,e[4]):FA.hasOwnProperty(a)?zA(FA[a]):a==="transparent"?new yo(NaN,NaN,NaN,0):null}function zA(a){return new yo(a>>16&255,a>>8&255,a&255,1)}function Wv(a,e,t,i){return i<=0&&(a=e=t=NaN),new yo(a,e,t,i)}function Vne(a){return a instanceof V0||(a=em(a)),a?(a=a.rgb(),new yo(a.r,a.g,a.b,a.opacity)):new yo}function GT(a,e,t,i){return arguments.length===1?Vne(a):new yo(a,e,t,i??1)}function yo(a,e,t,i){this.r=+a,this.g=+e,this.b=+t,this.opacity=+i}d5(yo,GT,nk(V0,{brighter(a){return a=a==null?P2:Math.pow(P2,a),new yo(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=a==null?x0:Math.pow(x0,a),new yo(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new yo(q_(this.r),q_(this.g),q_(this.b),D2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BA,formatHex:BA,formatHex8:jne,formatRgb:GA,toString:GA}));function BA(){return`#${D_(this.r)}${D_(this.g)}${D_(this.b)}`}function jne(){return`#${D_(this.r)}${D_(this.g)}${D_(this.b)}${D_((isNaN(this.opacity)?1:this.opacity)*255)}`}function GA(){const a=D2(this.opacity);return`${a===1?"rgb(":"rgba("}${q_(this.r)}, ${q_(this.g)}, ${q_(this.b)}${a===1?")":`, ${a})`}`}function D2(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function q_(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function D_(a){return a=q_(a),(a<16?"0":"")+a.toString(16)}function qA(a,e,t,i){return i<=0?a=e=t=NaN:t<=0||t>=1?a=e=NaN:e<=0&&(a=NaN),new kl(a,e,t,i)}function rk(a){if(a instanceof kl)return new kl(a.h,a.s,a.l,a.opacity);if(a instanceof V0||(a=em(a)),!a)return new kl;if(a instanceof kl)return a;a=a.rgb();var e=a.r/255,t=a.g/255,i=a.b/255,n=Math.min(e,t,i),s=Math.max(e,t,i),r=NaN,l=s-n,c=(s+n)/2;return l?(e===s?r=(t-i)/l+(t<i)*6:t===s?r=(i-e)/l+2:r=(e-t)/l+4,l/=c<.5?s+n:2-s-n,r*=60):l=c>0&&c<1?0:r,new kl(r,l,c,a.opacity)}function Hne(a,e,t,i){return arguments.length===1?rk(a):new kl(a,e,t,i??1)}function kl(a,e,t,i){this.h=+a,this.s=+e,this.l=+t,this.opacity=+i}d5(kl,Hne,nk(V0,{brighter(a){return a=a==null?P2:Math.pow(P2,a),new kl(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=a==null?x0:Math.pow(x0,a),new kl(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,e=isNaN(a)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,n=2*t-i;return new yo(QS(a>=240?a-240:a+120,n,i),QS(a,n,i),QS(a<120?a+240:a-120,n,i),this.opacity)},clamp(){return new kl(UA(this.h),zv(this.s),zv(this.l),D2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=D2(this.opacity);return`${a===1?"hsl(":"hsla("}${UA(this.h)}, ${zv(this.s)*100}%, ${zv(this.l)*100}%${a===1?")":`, ${a})`}`}}));function UA(a){return a=(a||0)%360,a<0?a+360:a}function zv(a){return Math.max(0,Math.min(1,a||0))}function QS(a,e,t){return(a<60?e+(t-e)*a/60:a<180?t:a<240?e+(t-e)*(240-a)/60:e)*255}const h5=a=>()=>a;function Zne(a,e){return function(t){return a+t*e}}function Xne(a,e,t){return a=Math.pow(a,t),e=Math.pow(e,t)-a,t=1/t,function(i){return Math.pow(a+i*e,t)}}function Yne(a){return(a=+a)==1?sk:function(e,t){return t-e?Xne(e,t,a):h5(isNaN(e)?t:e)}}function sk(a,e){var t=e-a;return t?Zne(a,t):h5(isNaN(a)?e:a)}const F2=function a(e){var t=Yne(e);function i(n,s){var r=t((n=GT(n)).r,(s=GT(s)).r),l=t(n.g,s.g),c=t(n.b,s.b),h=sk(n.opacity,s.opacity);return function(f){return n.r=r(f),n.g=l(f),n.b=c(f),n.opacity=h(f),n+""}}return i.gamma=a,i}(1);function Kne(a,e){e||(e=[]);var t=a?Math.min(e.length,a.length):0,i=e.slice(),n;return function(s){for(n=0;n<t;++n)i[n]=a[n]*(1-s)+e[n]*s;return i}}function $ne(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function Qne(a,e){var t=e?e.length:0,i=a?Math.min(t,a.length):0,n=new Array(i),s=new Array(t),r;for(r=0;r<i;++r)n[r]=_5(a[r],e[r]);for(;r<t;++r)s[r]=e[r];return function(l){for(r=0;r<i;++r)s[r]=n[r](l);return s}}function Jne(a,e){var t=new Date;return a=+a,e=+e,function(i){return t.setTime(a*(1-i)+e*i),t}}function Il(a,e){return a=+a,e=+e,function(t){return a*(1-t)+e*t}}function ere(a,e){var t={},i={},n;(a===null||typeof a!="object")&&(a={}),(e===null||typeof e!="object")&&(e={});for(n in e)n in a?t[n]=_5(a[n],e[n]):i[n]=e[n];return function(s){for(n in t)i[n]=t[n](s);return i}}var qT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JS=new RegExp(qT.source,"g");function tre(a){return function(){return a}}function are(a){return function(e){return a(e)+""}}function ok(a,e){var t=qT.lastIndex=JS.lastIndex=0,i,n,s,r=-1,l=[],c=[];for(a=a+"",e=e+"";(i=qT.exec(a))&&(n=JS.exec(e));)(s=n.index)>t&&(s=e.slice(t,s),l[r]?l[r]+=s:l[++r]=s),(i=i[0])===(n=n[0])?l[r]?l[r]+=n:l[++r]=n:(l[++r]=null,c.push({i:r,x:Il(i,n)})),t=JS.lastIndex;return t<e.length&&(s=e.slice(t),l[r]?l[r]+=s:l[++r]=s),l.length<2?c[0]?are(c[0].x):tre(e):(e=c.length,function(h){for(var f=0,v;f<e;++f)l[(v=c[f]).i]=v.x(h);return l.join("")})}function _5(a,e){var t=typeof e,i;return e==null||t==="boolean"?h5(e):(t==="number"?Il:t==="string"?(i=em(e))?(e=i,F2):ok:e instanceof em?F2:e instanceof Date?Jne:$ne(e)?Kne:Array.isArray(e)?Qne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ere:Il)(a,e)}function ire(a,e){return a=+a,e=+e,function(t){return Math.round(a*(1-t)+e*t)}}var VA=180/Math.PI,UT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lk(a,e,t,i,n,s){var r,l,c;return(r=Math.sqrt(a*a+e*e))&&(a/=r,e/=r),(c=a*t+e*i)&&(t-=a*c,i-=e*c),(l=Math.sqrt(t*t+i*i))&&(t/=l,i/=l,c/=l),a*i<e*t&&(a=-a,e=-e,c=-c,r=-r),{translateX:n,translateY:s,rotate:Math.atan2(e,a)*VA,skewX:Math.atan(c)*VA,scaleX:r,scaleY:l}}var Bv;function nre(a){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return e.isIdentity?UT:lk(e.a,e.b,e.c,e.d,e.e,e.f)}function rre(a){return a==null||(Bv||(Bv=document.createElementNS("http://www.w3.org/2000/svg","g")),Bv.setAttribute("transform",a),!(a=Bv.transform.baseVal.consolidate()))?UT:(a=a.matrix,lk(a.a,a.b,a.c,a.d,a.e,a.f))}function uk(a,e,t,i){function n(h){return h.length?h.pop()+" ":""}function s(h,f,v,b,T,M){if(h!==v||f!==b){var I=T.push("translate(",null,e,null,t);M.push({i:I-4,x:Il(h,v)},{i:I-2,x:Il(f,b)})}else(v||b)&&T.push("translate("+v+e+b+t)}function r(h,f,v,b){h!==f?(h-f>180?f+=360:f-h>180&&(h+=360),b.push({i:v.push(n(v)+"rotate(",null,i)-2,x:Il(h,f)})):f&&v.push(n(v)+"rotate("+f+i)}function l(h,f,v,b){h!==f?b.push({i:v.push(n(v)+"skewX(",null,i)-2,x:Il(h,f)}):f&&v.push(n(v)+"skewX("+f+i)}function c(h,f,v,b,T,M){if(h!==v||f!==b){var I=T.push(n(T)+"scale(",null,",",null,")");M.push({i:I-4,x:Il(h,v)},{i:I-2,x:Il(f,b)})}else(v!==1||b!==1)&&T.push(n(T)+"scale("+v+","+b+")")}return function(h,f){var v=[],b=[];return h=a(h),f=a(f),s(h.translateX,h.translateY,f.translateX,f.translateY,v,b),r(h.rotate,f.rotate,v,b),l(h.skewX,f.skewX,v,b),c(h.scaleX,h.scaleY,f.scaleX,f.scaleY,v,b),h=f=null,function(T){for(var M=-1,I=b.length,R;++M<I;)v[(R=b[M]).i]=R.x(T);return v.join("")}}}var sre=uk(nre,"px, ","px)","deg)"),ore=uk(rre,", ",")",")");function lre(a,e){var t,i;return function(){var n=Uu(this,a),s=n.tween;if(s!==t){i=t=s;for(var r=0,l=i.length;r<l;++r)if(i[r].name===e){i=i.slice(),i.splice(r,1);break}}n.tween=i}}function ure(a,e,t){var i,n;if(typeof t!="function")throw new Error;return function(){var s=Uu(this,a),r=s.tween;if(r!==i){n=(i=r).slice();for(var l={name:e,value:t},c=0,h=n.length;c<h;++c)if(n[c].name===e){n[c]=l;break}c===h&&n.push(l)}s.tween=n}}function cre(a,e){var t=this._id;if(a+="",arguments.length<2){for(var i=Yl(this.node(),t).tween,n=0,s=i.length,r;n<s;++n)if((r=i[n]).name===a)return r.value;return null}return this.each((e==null?lre:ure)(t,a,e))}function m5(a,e,t){var i=a._id;return a.each(function(){var n=Uu(this,i);(n.value||(n.value={}))[e]=t.apply(this,arguments)}),function(n){return Yl(n,i).value[e]}}function ck(a,e){var t;return(typeof e=="number"?Il:e instanceof em?F2:(t=em(e))?(e=t,F2):ok)(a,e)}function dre(a){return function(){this.removeAttribute(a)}}function hre(a){return function(){this.removeAttributeNS(a.space,a.local)}}function _re(a,e,t){var i,n=t+"",s;return function(){var r=this.getAttribute(a);return r===n?null:r===i?s:s=e(i=r,t)}}function mre(a,e,t){var i,n=t+"",s;return function(){var r=this.getAttributeNS(a.space,a.local);return r===n?null:r===i?s:s=e(i=r,t)}}function pre(a,e,t){var i,n,s;return function(){var r,l=t(this),c;return l==null?void this.removeAttribute(a):(r=this.getAttribute(a),c=l+"",r===c?null:r===i&&c===n?s:(n=c,s=e(i=r,l)))}}function fre(a,e,t){var i,n,s;return function(){var r,l=t(this),c;return l==null?void this.removeAttributeNS(a.space,a.local):(r=this.getAttributeNS(a.space,a.local),c=l+"",r===c?null:r===i&&c===n?s:(n=c,s=e(i=r,l)))}}function gre(a,e){var t=Gx(a),i=t==="transform"?ore:ck;return this.attrTween(a,typeof e=="function"?(t.local?fre:pre)(t,i,m5(this,"attr."+a,e)):e==null?(t.local?hre:dre)(t):(t.local?mre:_re)(t,i,e))}function yre(a,e){return function(t){this.setAttribute(a,e.call(this,t))}}function vre(a,e){return function(t){this.setAttributeNS(a.space,a.local,e.call(this,t))}}function bre(a,e){var t,i;function n(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&vre(a,s)),t}return n._value=e,n}function xre(a,e){var t,i;function n(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&yre(a,s)),t}return n._value=e,n}function wre(a,e){var t="attr."+a;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var i=Gx(a);return this.tween(t,(i.local?bre:xre)(i,e))}function Sre(a,e){return function(){c5(this,a).delay=+e.apply(this,arguments)}}function Tre(a,e){return e=+e,function(){c5(this,a).delay=e}}function Ere(a){var e=this._id;return arguments.length?this.each((typeof a=="function"?Sre:Tre)(e,a)):Yl(this.node(),e).delay}function Mre(a,e){return function(){Uu(this,a).duration=+e.apply(this,arguments)}}function Lre(a,e){return e=+e,function(){Uu(this,a).duration=e}}function Are(a){var e=this._id;return arguments.length?this.each((typeof a=="function"?Mre:Lre)(e,a)):Yl(this.node(),e).duration}function Cre(a,e){if(typeof e!="function")throw new Error;return function(){Uu(this,a).ease=e}}function Ire(a){var e=this._id;return arguments.length?this.each(Cre(e,a)):Yl(this.node(),e).ease}function Rre(a,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;Uu(this,a).ease=t}}function Ore(a){if(typeof a!="function")throw new Error;return this.each(Rre(this._id,a))}function kre(a){typeof a!="function"&&(a=UO(a));for(var e=this._groups,t=e.length,i=new Array(t),n=0;n<t;++n)for(var s=e[n],r=s.length,l=i[n]=[],c,h=0;h<r;++h)(c=s[h])&&a.call(c,c.__data__,h,s)&&l.push(c);return new Yc(i,this._parents,this._name,this._id)}function Pre(a){if(a._id!==this._id)throw new Error;for(var e=this._groups,t=a._groups,i=e.length,n=t.length,s=Math.min(i,n),r=new Array(i),l=0;l<s;++l)for(var c=e[l],h=t[l],f=c.length,v=r[l]=new Array(f),b,T=0;T<f;++T)(b=c[T]||h[T])&&(v[T]=b);for(;l<i;++l)r[l]=e[l];return new Yc(r,this._parents,this._name,this._id)}function Dre(a){return(a+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function Fre(a,e,t){var i,n,s=Dre(e)?c5:Uu;return function(){var r=s(this,a),l=r.on;l!==i&&(n=(i=l).copy()).on(e,t),r.on=n}}function Nre(a,e){var t=this._id;return arguments.length<2?Yl(this.node(),t).on.on(a):this.each(Fre(t,a,e))}function Wre(a){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==a)return;e&&e.removeChild(this)}}function zre(){return this.on("end.remove",Wre(this._id))}function Bre(a){var e=this._name,t=this._id;typeof a!="function"&&(a=s5(a));for(var i=this._groups,n=i.length,s=new Array(n),r=0;r<n;++r)for(var l=i[r],c=l.length,h=s[r]=new Array(c),f,v,b=0;b<c;++b)(f=l[b])&&(v=a.call(f,f.__data__,b,l))&&("__data__"in f&&(v.__data__=f.__data__),h[b]=v,Ux(h[b],e,t,b,h,Yl(f,t)));return new Yc(s,this._parents,e,t)}function Gre(a){var e=this._name,t=this._id;typeof a!="function"&&(a=qO(a));for(var i=this._groups,n=i.length,s=[],r=[],l=0;l<n;++l)for(var c=i[l],h=c.length,f,v=0;v<h;++v)if(f=c[v]){for(var b=a.call(f,f.__data__,v,c),T,M=Yl(f,t),I=0,R=b.length;I<R;++I)(T=b[I])&&Ux(T,e,t,I,b,M);s.push(b),r.push(f)}return new Yc(s,r,e,t)}var qre=U0.prototype.constructor;function Ure(){return new qre(this._groups,this._parents)}function Vre(a,e){var t,i,n;return function(){var s=bf(this,a),r=(this.style.removeProperty(a),bf(this,a));return s===r?null:s===t&&r===i?n:n=e(t=s,i=r)}}function dk(a){return function(){this.style.removeProperty(a)}}function jre(a,e,t){var i,n=t+"",s;return function(){var r=bf(this,a);return r===n?null:r===i?s:s=e(i=r,t)}}function Hre(a,e,t){var i,n,s;return function(){var r=bf(this,a),l=t(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(a),bf(this,a))),r===c?null:r===i&&c===n?s:(n=c,s=e(i=r,l))}}function Zre(a,e){var t,i,n,s="style."+e,r="end."+s,l;return function(){var c=Uu(this,a),h=c.on,f=c.value[s]==null?l||(l=dk(e)):void 0;(h!==t||n!==f)&&(i=(t=h).copy()).on(r,n=f),c.on=i}}function Xre(a,e,t){var i=(a+="")=="transform"?sre:ck;return e==null?this.styleTween(a,Vre(a,i)).on("end.style."+a,dk(a)):typeof e=="function"?this.styleTween(a,Hre(a,i,m5(this,"style."+a,e))).each(Zre(this._id,a)):this.styleTween(a,jre(a,i,e),t).on("end.style."+a,null)}function Yre(a,e,t){return function(i){this.style.setProperty(a,e.call(this,i),t)}}function Kre(a,e,t){var i,n;function s(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&Yre(a,r,t)),i}return s._value=e,s}function $re(a,e,t){var i="style."+(a+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Kre(a,e,t??""))}function Qre(a){return function(){this.textContent=a}}function Jre(a){return function(){var e=a(this);this.textContent=e??""}}function ese(a){return this.tween("text",typeof a=="function"?Jre(m5(this,"text",a)):Qre(a==null?"":a+""))}function tse(a){return function(e){this.textContent=a.call(this,e)}}function ase(a){var e,t;function i(){var n=a.apply(this,arguments);return n!==t&&(e=(t=n)&&tse(n)),e}return i._value=a,i}function ise(a){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(a==null)return this.tween(e,null);if(typeof a!="function")throw new Error;return this.tween(e,ase(a))}function nse(){for(var a=this._name,e=this._id,t=hk(),i=this._groups,n=i.length,s=0;s<n;++s)for(var r=i[s],l=r.length,c,h=0;h<l;++h)if(c=r[h]){var f=Yl(c,e);Ux(c,a,t,h,r,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Yc(i,this._parents,a,t)}function rse(){var a,e,t=this,i=t._id,n=t.size();return new Promise(function(s,r){var l={value:r},c={value:function(){--n===0&&s()}};t.each(function(){var h=Uu(this,i),f=h.on;f!==a&&(e=(a=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),h.on=e}),n===0&&s()})}var sse=0;function Yc(a,e,t,i){this._groups=a,this._parents=e,this._name=t,this._id=i}function hk(){return++sse}var bc=U0.prototype;Yc.prototype={constructor:Yc,select:Bre,selectAll:Gre,selectChild:bc.selectChild,selectChildren:bc.selectChildren,filter:kre,merge:Pre,selection:Ure,transition:nse,call:bc.call,nodes:bc.nodes,node:bc.node,size:bc.size,empty:bc.empty,each:bc.each,on:Nre,attr:gre,attrTween:wre,style:Xre,styleTween:$re,text:ese,textTween:ise,remove:zre,tween:cre,delay:Ere,duration:Are,ease:Ire,easeVarying:Ore,end:rse,[Symbol.iterator]:bc[Symbol.iterator]};function ose(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var lse={time:null,delay:0,duration:250,ease:ose};function use(a,e){for(var t;!(t=a.__transition)||!(t=t[e]);)if(!(a=a.parentNode))throw new Error(`transition ${e} not found`);return t}function cse(a){var e,t;a instanceof Yc?(e=a._id,a=a._name):(e=hk(),(t=lse).time=u5(),a=a==null?null:a+"");for(var i=this._groups,n=i.length,s=0;s<n;++s)for(var r=i[s],l=r.length,c,h=0;h<l;++h)(c=r[h])&&Ux(c,a,e,h,r,t||use(c,e));return new Yc(i,this._parents,a,e)}U0.prototype.interrupt=Pne;U0.prototype.transition=cse;function vb(a,e){return a==null||e==null?NaN:a<e?-1:a>e?1:a>=e?0:NaN}function dse(a,e){return a==null||e==null?NaN:e<a?-1:e>a?1:e>=a?0:NaN}function p5(a){let e,t,i;a.length!==2?(e=vb,t=(l,c)=>vb(a(l),c),i=(l,c)=>a(l)-c):(e=a===vb||a===dse?a:hse,t=a,i=a);function n(l,c,h=0,f=l.length){if(h<f){if(e(c,c)!==0)return f;do{const v=h+f>>>1;t(l[v],c)<0?h=v+1:f=v}while(h<f)}return h}function s(l,c,h=0,f=l.length){if(h<f){if(e(c,c)!==0)return f;do{const v=h+f>>>1;t(l[v],c)<=0?h=v+1:f=v}while(h<f)}return h}function r(l,c,h=0,f=l.length){const v=n(l,c,h,f-1);return v>h&&i(l[v-1],c)>-i(l[v],c)?v-1:v}return{left:n,center:r,right:s}}function hse(){return 0}function _se(a){return a===null?NaN:+a}const mse=p5(vb),pse=mse.right;p5(_se).center;const fse=pse;function gse(a,e){let t,i;if(e===void 0)for(const n of a)n!=null&&(t===void 0?n>=n&&(t=i=n):(t>n&&(t=n),i<n&&(i=n)));else{let n=-1;for(let s of a)(s=e(s,++n,a))!=null&&(t===void 0?s>=s&&(t=i=s):(t>s&&(t=s),i<s&&(i=s)))}return[t,i]}const yse=Math.sqrt(50),vse=Math.sqrt(10),bse=Math.sqrt(2);function N2(a,e,t){const i=(e-a)/Math.max(0,t),n=Math.floor(Math.log10(i)),s=i/Math.pow(10,n),r=s>=yse?10:s>=vse?5:s>=bse?2:1;let l,c,h;return n<0?(h=Math.pow(10,-n)/r,l=Math.round(a*h),c=Math.round(e*h),l/h<a&&++l,c/h>e&&--c,h=-h):(h=Math.pow(10,n)*r,l=Math.round(a/h),c=Math.round(e/h),l*h<a&&++l,c*h>e&&--c),c<l&&.5<=t&&t<2?N2(a,e,t*2):[l,c,h]}function xse(a,e,t){if(e=+e,a=+a,t=+t,!(t>0))return[];if(a===e)return[a];const i=e<a,[n,s,r]=i?N2(e,a,t):N2(a,e,t);if(!(s>=n))return[];const l=s-n+1,c=new Array(l);if(i)if(r<0)for(let h=0;h<l;++h)c[h]=(s-h)/-r;else for(let h=0;h<l;++h)c[h]=(s-h)*r;else if(r<0)for(let h=0;h<l;++h)c[h]=(n+h)/-r;else for(let h=0;h<l;++h)c[h]=(n+h)*r;return c}function VT(a,e,t){return e=+e,a=+a,t=+t,N2(a,e,t)[2]}function wse(a,e,t){e=+e,a=+a,t=+t;const i=e<a,n=i?VT(e,a,t):VT(a,e,t);return(i?-1:1)*(n<0?1/-n:n)}function Sse(a){return a}var e4=1,t4=2,jT=3,dy=4,jA=1e-6;function Tse(a){return"translate("+a+",0)"}function Ese(a){return"translate(0,"+a+")"}function Mse(a){return e=>+a(e)}function Lse(a,e){return e=Math.max(0,a.bandwidth()-e*2)/2,a.round()&&(e=Math.round(e)),t=>+a(t)+e}function Ase(){return!this.__axis}function _k(a,e){var t=[],i=null,n=null,s=6,r=6,l=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=a===e4||a===dy?-1:1,f=a===dy||a===t4?"x":"y",v=a===e4||a===jT?Tse:Ese;function b(T){var M=i??(e.ticks?e.ticks.apply(e,t):e.domain()),I=n??(e.tickFormat?e.tickFormat.apply(e,t):Sse),R=Math.max(s,0)+l,P=e.range(),F=+P[0]+c,B=+P[P.length-1]+c,W=(e.bandwidth?Lse:Mse)(e.copy(),c),Z=T.selection?T.selection():T,ae=Z.selectAll(".domain").data([null]),he=Z.selectAll(".tick").data(M,e).order(),_e=he.exit(),ie=he.enter().append("g").attr("class","tick"),me=he.select("line"),fe=he.select("text");ae=ae.merge(ae.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),he=he.merge(ie),me=me.merge(ie.append("line").attr("stroke","currentColor").attr(f+"2",h*s)),fe=fe.merge(ie.append("text").attr("fill","currentColor").attr(f,h*R).attr("dy",a===e4?"0em":a===jT?"0.71em":"0.32em")),T!==Z&&(ae=ae.transition(T),he=he.transition(T),me=me.transition(T),fe=fe.transition(T),_e=_e.transition(T).attr("opacity",jA).attr("transform",function(be){return isFinite(be=W(be))?v(be+c):this.getAttribute("transform")}),ie.attr("opacity",jA).attr("transform",function(be){var Ae=this.parentNode.__axis;return v((Ae&&isFinite(Ae=Ae(be))?Ae:W(be))+c)})),_e.remove(),ae.attr("d",a===dy||a===t4?r?"M"+h*r+","+F+"H"+c+"V"+B+"H"+h*r:"M"+c+","+F+"V"+B:r?"M"+F+","+h*r+"V"+c+"H"+B+"V"+h*r:"M"+F+","+c+"H"+B),he.attr("opacity",1).attr("transform",function(be){return v(W(be)+c)}),me.attr(f+"2",h*s),fe.attr(f,h*R).text(I),Z.filter(Ase).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",a===t4?"start":a===dy?"end":"middle"),Z.each(function(){this.__axis=W})}return b.scale=function(T){return arguments.length?(e=T,b):e},b.ticks=function(){return t=Array.from(arguments),b},b.tickArguments=function(T){return arguments.length?(t=T==null?[]:Array.from(T),b):t.slice()},b.tickValues=function(T){return arguments.length?(i=T==null?null:Array.from(T),b):i&&i.slice()},b.tickFormat=function(T){return arguments.length?(n=T,b):n},b.tickSize=function(T){return arguments.length?(s=r=+T,b):s},b.tickSizeInner=function(T){return arguments.length?(s=+T,b):s},b.tickSizeOuter=function(T){return arguments.length?(r=+T,b):r},b.tickPadding=function(T){return arguments.length?(l=+T,b):l},b.offset=function(T){return arguments.length?(c=+T,b):c},b}function Cse(a){return _k(jT,a)}function Ise(a){return _k(dy,a)}function Rse(a,e){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(e).domain(a);break}return this}function Ose(a){return function(){return a}}function kse(a){return+a}var HA=[0,1];function Np(a){return a}function HT(a,e){return(e-=a=+a)?function(t){return(t-a)/e}:Ose(isNaN(e)?NaN:.5)}function Pse(a,e){var t;return a>e&&(t=a,a=e,e=t),function(i){return Math.max(a,Math.min(e,i))}}function Dse(a,e,t){var i=a[0],n=a[1],s=e[0],r=e[1];return n<i?(i=HT(n,i),s=t(r,s)):(i=HT(i,n),s=t(s,r)),function(l){return s(i(l))}}function Fse(a,e,t){var i=Math.min(a.length,e.length)-1,n=new Array(i),s=new Array(i),r=-1;for(a[i]<a[0]&&(a=a.slice().reverse(),e=e.slice().reverse());++r<i;)n[r]=HT(a[r],a[r+1]),s[r]=t(e[r],e[r+1]);return function(l){var c=fse(a,l,1,i)-1;return s[c](n[c](l))}}function Nse(a,e){return e.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function Wse(){var a=HA,e=HA,t=_5,i,n,s,r=Np,l,c,h;function f(){var b=Math.min(a.length,e.length);return r!==Np&&(r=Pse(a[0],a[b-1])),l=b>2?Fse:Dse,c=h=null,v}function v(b){return b==null||isNaN(b=+b)?s:(c||(c=l(a.map(i),e,t)))(i(r(b)))}return v.invert=function(b){return r(n((h||(h=l(e,a.map(i),Il)))(b)))},v.domain=function(b){return arguments.length?(a=Array.from(b,kse),f()):a.slice()},v.range=function(b){return arguments.length?(e=Array.from(b),f()):e.slice()},v.rangeRound=function(b){return e=Array.from(b),t=ire,f()},v.clamp=function(b){return arguments.length?(r=b?!0:Np,f()):r!==Np},v.interpolate=function(b){return arguments.length?(t=b,f()):t},v.unknown=function(b){return arguments.length?(s=b,v):s},function(b,T){return i=b,n=T,f()}}function zse(){return Wse()(Np,Np)}function Bse(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)}function W2(a,e){if((t=(a=e?a.toExponential(e-1):a.toExponential()).indexOf("e"))<0)return null;var t,i=a.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+a.slice(t+1)]}function wf(a){return a=W2(Math.abs(a)),a?a[1]:NaN}function Gse(a,e){return function(t,i){for(var n=t.length,s=[],r=0,l=a[0],c=0;n>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),s.push(t.substring(n-=l,n+l)),!((c+=l+1)>i));)l=a[r=(r+1)%a.length];return s.reverse().join(e)}}function qse(a){return function(e){return e.replace(/[0-9]/g,function(t){return a[+t]})}}var Use=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function z2(a){if(!(e=Use.exec(a)))throw new Error("invalid format: "+a);var e;return new f5({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}z2.prototype=f5.prototype;function f5(a){this.fill=a.fill===void 0?" ":a.fill+"",this.align=a.align===void 0?">":a.align+"",this.sign=a.sign===void 0?"-":a.sign+"",this.symbol=a.symbol===void 0?"":a.symbol+"",this.zero=!!a.zero,this.width=a.width===void 0?void 0:+a.width,this.comma=!!a.comma,this.precision=a.precision===void 0?void 0:+a.precision,this.trim=!!a.trim,this.type=a.type===void 0?"":a.type+""}f5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vse(a){e:for(var e=a.length,t=1,i=-1,n;t<e;++t)switch(a[t]){case".":i=n=t;break;case"0":i===0&&(i=t),n=t;break;default:if(!+a[t])break e;i>0&&(i=0);break}return i>0?a.slice(0,i)+a.slice(n+1):a}var mk;function jse(a,e){var t=W2(a,e);if(!t)return a+"";var i=t[0],n=t[1],s=n-(mk=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,r=i.length;return s===r?i:s>r?i+new Array(s-r+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+W2(a,Math.max(0,e+s-1))[0]}function ZA(a,e){var t=W2(a,e);if(!t)return a+"";var i=t[0],n=t[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")}const XA={"%":(a,e)=>(a*100).toFixed(e),b:a=>Math.round(a).toString(2),c:a=>a+"",d:Bse,e:(a,e)=>a.toExponential(e),f:(a,e)=>a.toFixed(e),g:(a,e)=>a.toPrecision(e),o:a=>Math.round(a).toString(8),p:(a,e)=>ZA(a*100,e),r:ZA,s:jse,X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function YA(a){return a}var KA=Array.prototype.map,$A=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Hse(a){var e=a.grouping===void 0||a.thousands===void 0?YA:Gse(KA.call(a.grouping,Number),a.thousands+""),t=a.currency===void 0?"":a.currency[0]+"",i=a.currency===void 0?"":a.currency[1]+"",n=a.decimal===void 0?".":a.decimal+"",s=a.numerals===void 0?YA:qse(KA.call(a.numerals,String)),r=a.percent===void 0?"%":a.percent+"",l=a.minus===void 0?"−":a.minus+"",c=a.nan===void 0?"NaN":a.nan+"";function h(v){v=z2(v);var b=v.fill,T=v.align,M=v.sign,I=v.symbol,R=v.zero,P=v.width,F=v.comma,B=v.precision,W=v.trim,Z=v.type;Z==="n"?(F=!0,Z="g"):XA[Z]||(B===void 0&&(B=12),W=!0,Z="g"),(R||b==="0"&&T==="=")&&(R=!0,b="0",T="=");var ae=I==="$"?t:I==="#"&&/[boxX]/.test(Z)?"0"+Z.toLowerCase():"",he=I==="$"?i:/[%p]/.test(Z)?r:"",_e=XA[Z],ie=/[defgprs%]/.test(Z);B=B===void 0?6:/[gprs]/.test(Z)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function me(fe){var be=ae,Ae=he,Ye,Xe,Re;if(Z==="c")Ae=_e(fe)+Ae,fe="";else{fe=+fe;var Oe=fe<0||1/fe<0;if(fe=isNaN(fe)?c:_e(Math.abs(fe),B),W&&(fe=Vse(fe)),Oe&&+fe==0&&M!=="+"&&(Oe=!1),be=(Oe?M==="("?M:l:M==="-"||M==="("?"":M)+be,Ae=(Z==="s"?$A[8+mk/3]:"")+Ae+(Oe&&M==="("?")":""),ie){for(Ye=-1,Xe=fe.length;++Ye<Xe;)if(Re=fe.charCodeAt(Ye),48>Re||Re>57){Ae=(Re===46?n+fe.slice(Ye+1):fe.slice(Ye))+Ae,fe=fe.slice(0,Ye);break}}}F&&!R&&(fe=e(fe,1/0));var Qe=be.length+fe.length+Ae.length,yt=Qe<P?new Array(P-Qe+1).join(b):"";switch(F&&R&&(fe=e(yt+fe,yt.length?P-Ae.length:1/0),yt=""),T){case"<":fe=be+fe+Ae+yt;break;case"=":fe=be+yt+fe+Ae;break;case"^":fe=yt.slice(0,Qe=yt.length>>1)+be+fe+Ae+yt.slice(Qe);break;default:fe=yt+be+fe+Ae;break}return s(fe)}return me.toString=function(){return v+""},me}function f(v,b){var T=h((v=z2(v),v.type="f",v)),M=Math.max(-8,Math.min(8,Math.floor(wf(b)/3)))*3,I=Math.pow(10,-M),R=$A[8+M/3];return function(P){return T(I*P)+R}}return{format:h,formatPrefix:f}}var Gv,pk,fk;Zse({thousands:",",grouping:[3],currency:["$",""]});function Zse(a){return Gv=Hse(a),pk=Gv.format,fk=Gv.formatPrefix,Gv}function Xse(a){return Math.max(0,-wf(Math.abs(a)))}function Yse(a,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wf(e)/3)))*3-wf(Math.abs(a)))}function Kse(a,e){return a=Math.abs(a),e=Math.abs(e)-a,Math.max(0,wf(e)-wf(a))+1}function $se(a,e,t,i){var n=wse(a,e,t),s;switch(i=z2(i??",f"),i.type){case"s":{var r=Math.max(Math.abs(a),Math.abs(e));return i.precision==null&&!isNaN(s=Yse(n,r))&&(i.precision=s),fk(i,r)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Kse(n,Math.max(Math.abs(a),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Xse(n))&&(i.precision=s-(i.type==="%")*2);break}}return pk(i)}function Qse(a){var e=a.domain;return a.ticks=function(t){var i=e();return xse(i[0],i[i.length-1],t??10)},a.tickFormat=function(t,i){var n=e();return $se(n[0],n[n.length-1],t??10,i)},a.nice=function(t){t==null&&(t=10);var i=e(),n=0,s=i.length-1,r=i[n],l=i[s],c,h,f=10;for(l<r&&(h=r,r=l,l=h,h=n,n=s,s=h);f-- >0;){if(h=VT(r,l,t),h===c)return i[n]=r,i[s]=l,e(i);if(h>0)r=Math.floor(r/h)*h,l=Math.ceil(l/h)*h;else if(h<0)r=Math.ceil(r*h)/h,l=Math.floor(l*h)/h;else break;c=h}return a},a}function gk(){var a=zse();return a.copy=function(){return Nse(a,gk())},Rse.apply(a,arguments),Qse(a)}function Vr(a){return function(){return a}}const ZT=Math.PI,XT=2*ZT,M_=1e-6,Jse=XT-M_;function yk(a){this._+=a[0];for(let e=1,t=a.length;e<t;++e)this._+=arguments[e]+a[e]}function eoe(a){let e=Math.floor(a);if(!(e>=0))throw new Error(`invalid digits: ${a}`);if(e>15)return yk;const t=10**e;return function(i){this._+=i[0];for(let n=1,s=i.length;n<s;++n)this._+=Math.round(arguments[n]*t)/t+i[n]}}class toe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yk:eoe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,n){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+n}`}bezierCurveTo(e,t,i,n,s,r){this._append`C${+e},${+t},${+i},${+n},${this._x1=+s},${this._y1=+r}`}arcTo(e,t,i,n,s){if(e=+e,t=+t,i=+i,n=+n,s=+s,s<0)throw new Error(`negative radius: ${s}`);let r=this._x1,l=this._y1,c=i-e,h=n-t,f=r-e,v=l-t,b=f*f+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(b>M_)if(!(Math.abs(v*c-h*f)>M_)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let T=i-r,M=n-l,I=c*c+h*h,R=T*T+M*M,P=Math.sqrt(I),F=Math.sqrt(b),B=s*Math.tan((ZT-Math.acos((I+b-R)/(2*P*F)))/2),W=B/F,Z=B/P;Math.abs(W-1)>M_&&this._append`L${e+W*f},${t+W*v}`,this._append`A${s},${s},0,0,${+(v*T>f*M)},${this._x1=e+Z*c},${this._y1=t+Z*h}`}}arc(e,t,i,n,s,r){if(e=+e,t=+t,i=+i,r=!!r,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(n),c=i*Math.sin(n),h=e+l,f=t+c,v=1^r,b=r?n-s:s-n;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>M_||Math.abs(this._y1-f)>M_)&&this._append`L${h},${f}`,i&&(b<0&&(b=b%XT+XT),b>Jse?this._append`A${i},${i},0,1,${v},${e-l},${t-c}A${i},${i},0,1,${v},${this._x1=h},${this._y1=f}`:b>M_&&this._append`A${i},${i},0,${+(b>=ZT)},${v},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+n}h${-i}Z`}toString(){return this._}}function vk(a){let e=3;return a.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return a},()=>new toe(e)}function bk(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function xk(a){this._context=a}xk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2;default:this._context.lineTo(a,e);break}}};function wk(a){return new xk(a)}function Sk(a){return a[0]}function Tk(a){return a[1]}function Ek(a,e){var t=Vr(!0),i=null,n=wk,s=null,r=vk(l);a=typeof a=="function"?a:a===void 0?Sk:Vr(a),e=typeof e=="function"?e:e===void 0?Tk:Vr(e);function l(c){var h,f=(c=bk(c)).length,v,b=!1,T;for(i==null&&(s=n(T=r())),h=0;h<=f;++h)!(h<f&&t(v=c[h],h,c))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+a(v,h,c),+e(v,h,c));if(T)return s=null,T+""||null}return l.x=function(c){return arguments.length?(a=typeof c=="function"?c:Vr(+c),l):a},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Vr(+c),l):e},l.defined=function(c){return arguments.length?(t=typeof c=="function"?c:Vr(!!c),l):t},l.curve=function(c){return arguments.length?(n=c,i!=null&&(s=n(i)),l):n},l.context=function(c){return arguments.length?(c==null?i=s=null:s=n(i=c),l):i},l}function aoe(a,e,t){var i=null,n=Vr(!0),s=null,r=wk,l=null,c=vk(h);a=typeof a=="function"?a:a===void 0?Sk:Vr(+a),e=typeof e=="function"?e:Vr(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?Tk:Vr(+t);function h(v){var b,T,M,I=(v=bk(v)).length,R,P=!1,F,B=new Array(I),W=new Array(I);for(s==null&&(l=r(F=c())),b=0;b<=I;++b){if(!(b<I&&n(R=v[b],b,v))===P)if(P=!P)T=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),M=b-1;M>=T;--M)l.point(B[M],W[M]);l.lineEnd(),l.areaEnd()}P&&(B[b]=+a(R,b,v),W[b]=+e(R,b,v),l.point(i?+i(R,b,v):B[b],t?+t(R,b,v):W[b]))}if(F)return l=null,F+""||null}function f(){return Ek().defined(n).curve(r).context(s)}return h.x=function(v){return arguments.length?(a=typeof v=="function"?v:Vr(+v),i=null,h):a},h.x0=function(v){return arguments.length?(a=typeof v=="function"?v:Vr(+v),h):a},h.x1=function(v){return arguments.length?(i=v==null?null:typeof v=="function"?v:Vr(+v),h):i},h.y=function(v){return arguments.length?(e=typeof v=="function"?v:Vr(+v),t=null,h):e},h.y0=function(v){return arguments.length?(e=typeof v=="function"?v:Vr(+v),h):e},h.y1=function(v){return arguments.length?(t=v==null?null:typeof v=="function"?v:Vr(+v),h):t},h.lineX0=h.lineY0=function(){return f().x(a).y(e)},h.lineY1=function(){return f().x(a).y(t)},h.lineX1=function(){return f().x(i).y(e)},h.defined=function(v){return arguments.length?(n=typeof v=="function"?v:Vr(!!v),h):n},h.curve=function(v){return arguments.length?(r=v,s!=null&&(l=r(s)),h):r},h.context=function(v){return arguments.length?(v==null?s=l=null:l=r(s=v),h):s},h}const Ro={bisector:p5,extent:gse,axisBottom:Cse,axisLeft:Ise,scaleLinear:gk,pointer:xne,select:QO,selectAll:wne,area:aoe,line:Ek};function ioe(a){const e=a.light!==void 0?a.light:!1,t=e?{top:0,right:0,bottom:0,left:0}:{top:10,right:20,bottom:30,left:40},i=a.hoverCallback!==void 0?a.hoverCallback:()=>{},n=a.outCallback!==void 0?a.outCallback:()=>{},s=a.distanceExtractor,r=a.linesConfiguration,l=Object.keys(r).length,c=Ro.bisector(me=>s(me)).left,h=a.poiExtractor,f=a.styleDefs,v=a.poiLabelAngle!==void 0?a.poiLabelAngle:-60,b=me=>String(me),T={xhover:b,yhover:b,xtick:b,ytick:b,xlabel:()=>"Distance",ylabel:()=>"Elevation",...a.formatter},M=a.lightXAxis!==void 0?a.lightXAxis:!1;let I,R,P;const F=a.scaleModifier;let B,W,Z,ae,he;const _e=me=>{me.each(function(fe){if(Ro.select(this).selectAll("svg").remove(),fe===void 0)return;Z=Math.max(this.clientWidth-t.right-t.left,0),R=Ro.scaleLinear().range([0,Z]),W=Math.max(this.clientHeight-t.top-t.bottom,0),P=Ro.scaleLinear().range([W,0]);const be=Ro.axisBottom(R),Ae=Ro.axisLeft(P),Ye=l===1?Ro.area().x(We=>R(s(We))).y0(W).y1(We=>{const la=Object.keys(r)[0];return P(r[la].zExtractor(We))}):void 0;I=Ro.select(this).selectAll("svg").data([fe]);const Xe=I.enter().append("svg");I=Ro.select(this).selectAll("svg").data([fe]),f!==void 0&&Xe.append("defs").append("style").attr("type","text/css").text(f);const Re=Xe.append("g");ie(),Re.style("font","11px Arial"),l===1&&Re.append("path").attr("class","area").style("fill","rgba(222, 222, 222, 0.5)"),Re.insert("g",":first-child").attr("class","grid-y"),e||(Re.append("g").attr("class","x axis").attr("transform",`translate(0,${W})`),Re.append("text").attr("class","x label").attr("text-anchor","end").attr("x",Z-4).attr("y",W-4),Re.append("g").attr("class","y axis"),Re.append("text").attr("class","y label").attr("text-anchor","end").attr("y",6).attr("dy",".75em").attr("transform","rotate(-90)").style("fill","grey").text(T.ylabel()),Re.append("g").attr("class","metas").attr("transform",`translate(${Z+3}, 0)`)),Re.append("g").attr("class","pois");const Oe=Re.append("g").attr("class","x grid-hover");Oe.append("svg:line").attr("stroke-dasharray","5,5"),Oe.append("text"),Re.append("rect").attr("class","overlay").attr("width",Z).attr("height",W).style("fill","none").style("pointer-events","all"),I.attr("width",Z+t.left+t.right).attr("height",W+t.top+t.bottom),B=I.select("g").attr("transform",`translate(${t.left},${t.top})`),he=Ro.extent(fe,We=>s(We)),R.domain(he);const Qe=(()=>{let We=[];for(const la in r){const ba=Ro.extent(fe,ea=>r[la].zExtractor(ea));ba.every(Number.isFinite)&&(We=We.concat(ba))}return[Math.min.apply(null,We),Math.max.apply(null,We)]})();if(P.domain(Qe),F!==void 0)F(R,P,Z,W);else{const We=(Qe[1]-Qe[0])*.1;P.domain([Qe[0]-We,Qe[1]+We])}l===1&&B.select(".area").transition().attr("d",Ye);let yt,Je,Xt;for(Je in r)Re.append("path").attr("class",`line ${Je}`).style("stroke",r[Je].color||"#F00").style("fill","none"),Xt=Re.append("g").attr("class",`y grid-hover ${Je}`),Xt.append("svg:line").attr("stroke-dasharray","5,5"),Xt.append("text"),yt=Ro.line().x(We=>R(s(We))).y(We=>P(r[Je].zExtractor(We))).defined(We=>r[Je].zExtractor(We)!==null),B.select(`.line.${Je}`).transition().attr("d",yt);he[1]>2e3?ae=1e3:ae=1,e||(be.tickFormat(We=>T.xtick(We/ae)),M&&be.tickValues([0,R.domain()[1]]),Ae.tickFormat(We=>T.ytick(We)),B.select(".x.axis").transition().call(be),B.select(".x.label").text(T.xlabel(ae)).style("fill","grey").style("shape-rendering","crispEdges"),W/15<10&&Ae.ticks(W/15),B.select(".y.axis").transition().call(Ae)),B.select(".grid-y").transition().call(Ae.tickSize(-Z).tickFormat(()=>"")).selectAll(".tick line").style("stroke","#ccc").style("opacity",.7),B.selectAll(".axis").selectAll("path, line").style("fill","none").style("stroke","#000").style("shape-rendering","crispEdges"),B.select(".grid-y").select("path").style("stroke","none"),B.selectAll(".grid-hover line").style("stroke","#222").style("opacity",.8),B.select(".overlay").on("mouseout",()=>_e.clearHighlight()).on("mousemove",We=>{const[la]=Ro.pointer(We),ba=R.invert(la);_e.highlight(ba)})})};_e.clearHighlight=()=>{B.selectAll(".grid-hover").style("display","none"),n.call(null)},_e.highlight=me=>{const fe=I.datum(),be=c(fe,me);if(be>=fe.length)return;const Ae=fe[be],Ye=s(Ae);let Xe;const Re=[],Oe={};let Qe;for(Qe in r)Xe=r[Qe].zExtractor(Ae),Number.isFinite(Xe)?(Re.push(Xe),Oe[Qe]=Xe,B.select(`.y.grid-hover.${Qe}`).style("display","inline").select("line").attr("x1",R(0)).attr("y1",P(Xe)).attr("x2",Z).attr("y2",P(Xe))):B.select(`.y.grid-hover.${Qe}`).style("display","none");const yt=P(Math.max.apply(null,Re));B.select(".x.grid-hover").style("display","inline").select("line").attr("x1",R(Ye)).attr("y1",W).attr("x2",R(Ye)).attr("y2",Number.isFinite(yt)?yt:0);const Je=Ye>he[1]/2;let Xt=R(Ye);if(Xt+=Je?-10:10,B.select(".x.grid-hover text").text(T.xhover(Ye)).style("text-anchor",Je?"end":"start").attr("transform",`translate(${Xt},${W-10})`),l===1){const We=Re[0]===null?"no value":T.yhover(Re[0]);B.select(".y.grid-hover text").text(We).style("text-anchor",Je?"end":"start").attr("transform",`translate(${Xt},${P(Re[0])-10})`)}i.call(null,Ae,Ye,Oe)},_e.showPois=me=>{me=me!==void 0?me:[];const fe=h,be=I.select("g"),Ae=I.datum(),Re=be.select(".pois").selectAll(".poi").data(me,Oe=>{const Qe=c(Ae,fe?Math.round(fe.dist(Oe)*10)/10:void 0,1),yt=Ae[Qe];if(yt){let Je;const Xt=[];for(Je in r)Xt.push(r[Je].zExtractor(yt));const We=Math.max.apply(null,Xt);fe==null||fe.z(Oe,We)}return fe==null?void 0:fe.id(Oe)}).enter().append("g").attr("class","poi");Re.append("text").attr("x",e?0:9).attr("dy",".35em").attr("text-anchor",e?"middle":"start"),Re.append("line").style("shape-rendering","crispEdges"),Re.style("opacity",0).transition().duration(1e3).delay(100).style("opacity",1),Re.selectAll("text").attr("transform",Oe=>e?[`translate(${R(fe.dist(Oe))},${P(fe.z(Oe))-10})`]:[`translate(${R(fe.dist(Oe))},${P(fe.z(Oe))-20}) rotate(${v})`]).text(Oe=>fe.sort(Oe)+(e?"":` - ${fe.title(Oe)}`)),Re.selectAll("line").style("stroke","grey").attr("x1",Oe=>R(fe.dist(Oe))).attr("y1",()=>P(P.domain()[0])).attr("x2",Oe=>R(fe.dist(Oe))).attr("y2",Oe=>P(fe.z(Oe))),Re.exit().remove()};function ie(){_e.showPois([])}return _e}const noe=ft({__name:"d3-graph-elevation",props:{showTooltip:{type:Boolean,default:!0},dataset:{},highlightDistance:{},labelXFormatter:{},labelYFormatter:{},xFormatter:{},yFormatter:{}},emits:["hover:profile","out:profile"],setup(a,{emit:e}){const t=e,i=a,n=$e();let s,r,l=(f,v,b)=>t("hover:profile",f,v,b);jn(()=>{r=QO(n.value),s=ioe(h()),c()}),Vt(()=>i.highlightDistance,f=>{f&&f>0?s.highlight(f):s.clearHighlight()}),Ma(window,"resize",Py(c,50));function c(){s!==void 0&&r.datum(i.dataset).call(s)}function h(){return{linesConfiguration:{line1:{zExtractor:f=>{var v,b;return parseFloat((b=(v=f==null?void 0:f.values)==null?void 0:v.dhm)==null?void 0:b.toPrecision(5))||0}}},distanceExtractor:f=>f.dist??0,hoverCallback:l,outCallback:()=>t("out:profile"),formatter:{xhover:i.xFormatter,yhover:i.yFormatter,xlabel:i.labelXFormatter,ylabel:i.labelYFormatter}}}return(f,v)=>(ne(),xe("div",{class:"h-[250px]",ref_key:"graphElement",ref:n},null,512))}}),roe={key:1,class:"text-center"},soe=ft({__name:"elevation-profile",props:{profileData:{},highlightDistance:{}},setup(a){const{t:e}=ma();return(t,i)=>t.profileData?(ne(),ga(noe,{key:0,dataset:t.profileData,highlightDistance:t.highlightDistance,labelXFormatter:n=>`${V(e)("Distance")} [${n===1?"m":"km"}]`,labelYFormatter:()=>`${V(e)("Elevation")} [m]`,xFormatter:n=>V(c0)(n,2),yFormatter:n=>V(PE)(n,1)},null,8,["dataset","highlightDistance","labelXFormatter","labelYFormatter","xFormatter","yFormatter"])):(ne(),xe("div",roe,i[0]||(i[0]=[$("img",{class:"inline-block min-h-64 p-1",src:qae,alt:""},null,-1)])))}});class B2 extends X7{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(rn),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(Ma(this.geometries_[e],Da.CHANGE,this.changed,this))}clone(){const e=new B2(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<tm(this.getExtent(),e,t))return n;const s=this.geometries_;for(let r=0,l=s.length;r<l;++r)n=s[r].closestPointXY(e,t,i,n);return n}containsXY(e,t){const i=this.geometries_;for(let n=0,s=i.length;n<s;++n)if(i[n].containsXY(e,t))return!0;return!1}computeExtent(e){I0(e);const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)j3(e,t[i].getExtent());return e}getGeometries(){return QA(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let n=!1;for(let s=0,r=i.length;s<r;++s){const l=i[s],c=l.getSimplifiedGeometry(e);t.push(c),c!==l&&(n=!0)}if(n){const s=new B2(null);return s.setGeometriesArray(t),s}else return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const i=this.geometries_;for(let n=0,s=i.length;n<s;++n)i[n].rotate(e,t);this.changed()}scale(e,t,i){let n=i;n||(n=Wu(this.getExtent()));const s=this.geometries_;for(let r=0,l=s.length;r<l;++r)s[r].scale(e,t,n);this.changed()}setGeometries(e){this.setGeometriesArray(QA(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let n=0,s=i.length;n<s;++n)i[n].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function QA(a){const e=[];for(let t=0,i=a.length;t<i;++t)e.push(a[t].clone());return e}const lh=B2,Ap=new Map;function ooe(){Ap.clear()}class loe{styleSerialToStyle(e){return e?JSON.parse(decodeURIComponent(e))||[]:[]}styleLocalStorageToStyle(e){return e?JSON.parse(e).medium||[]:[]}styleToSerial(e){return e&&e.length>0?JSON.stringify(e):""}styleToLocalStorage(e){return e&&e.length>0?JSON.stringify({medium:e}):""}}const qv=new loe;var Fo=(a=>(a[a.simpleStyle=0]="simpleStyle",a[a.mediumStyle=1]="mediumStyle",a[a.advancedStyle=2]="advancedStyle",a))(Fo||{});const uoe=["line","fill","symbol","fill-extrusion","background","hillshade"],coe="https://vectortiles-staging.geoportail.lu",doe="https://migration.geoportail.lu/getvtstyle",hoe="https://migration.geoportail.lu/uploadvtstyle",_oe="https://migration.geoportail.lu/deletevtstyle";class moe{constructor(){Sa(this,"_vectortilesUrl",coe);Sa(this,"_mvtStylesGetUrl",doe);Sa(this,"_mvtStylesUploadUrl",hoe);Sa(this,"_mvtStylesDeleteUrl",_oe)}get vectortilesUrl(){return this._vectortilesUrl===void 0&&console.warn("Warning: vectortilesUrl is not set."),this._vectortilesUrl}get mvtStylesGetUrl(){return this._mvtStylesGetUrl===void 0&&console.warn("Warning: mvtStylesGetUrl is not set."),this._mvtStylesGetUrl}get mvtStylesUploadUrl(){return this._mvtStylesUploadUrl===void 0&&console.warn("Warning: mvtStylesUploadUrl is not set."),this._mvtStylesUploadUrl}get mvtStylesDeleteUrl(){return this._mvtStylesDeleteUrl===void 0&&console.warn("Warning: mvtStylesDeleteUrl is not set."),this._mvtStylesDeleteUrl}setRegisterUrl_v3(e){e.get&&(this._mvtStylesGetUrl=e.get),e.upload&&(this._mvtStylesUploadUrl=e.upload),e.delete&&(this._mvtStylesDeleteUrl=e.delete),e.vectortiles&&(this._vectortilesUrl=e.vectortiles),console.warn("Deprecated: StylesUrlHelper.setRegisterUrl_v3() is meant to be removed when v4 is fully operational")}}const hy=new moe,Bc=()=>({bg_layers:[{icon_id:"route",vector_id:"roadmap",simple_style_class:"road",medium_style_class:"road",expert_style_class:"maputnik",id:556,is_default:!0},{icon_id:"topo",vector_id:"topomap",medium_style_class:"topo",expert_style_class:"maputnik",id:529},{icon_id:"topo_bw",vector_id:"topomap_gray",medium_style_class:"topo",expert_style_class:"maputnik",id:502},{icon_id:"ortho",id:530},{icon_id:"hybrid",id:501},{icon_id:"blank",id:0}],bg_layer_theme_defaults:{tourisme:502},simple_styles:{road:[{unlocalized_label:"Light grey",hillshade:!1,colors:["#ffffff","#ffffff","#d6e0d7","#e1e1e1","#cccccc","#f2f2f2"],selected:!1},{unlocalized_label:"Dark grey",hillshade:!1,colors:["#808080","#808080","#494b4a","#505052","#232426","#454545"],selected:!1},{unlocalized_label:"Dark sand",hillshade:!1,colors:["#9e9375","#9e9375","#6b6249","#403928","#b8aa84","#1a1814"],selected:!1},{unlocalized_label:"Kids",hillshade:!1,colors:["#f9c50d","#ffffff","#839836","#d6d3ce","#2a5ba8","#eeeeee"],selected:!1},{unlocalized_label:"Light mauve",hillshade:!1,colors:["#f3edf5","#f3edf5","#9d7da8","#caa9d1","#613b5c","#e5d3e6"],selected:!1},{unlocalized_label:"Light Blue",hillshade:!1,colors:["#dceaf5","#dceaf5","#5598cf","#81b7e3","#3b576e","#b6cde0"],selected:!1}]},medium_default_styles:{road:[{label:"Roads primary",color:"#f7f7f7",lines:["lu_road_trunk_primary","lu_bridge_major","lu_tunnel_major","lu_road_major_motorway"],visible:!0},{label:"Roads secondary",color:"#f7f7f7",lines:["lu_road_minor","lu_road_secondary_tertiary","lu_bridge_minor","lu_road_path","lu_bridge_path","lu_bridge_railway case","lu_bridge_path case"],visible:!0},{label:"Vegetation",color:"#B8D293",opacity:"1",fills:["lu_landcover_wood","lu_landcover_grass","lu_landuse_stadium","lu_landuse_cemetery"],visible:!0},{label:"Buildings",color:"#D6AA85",opacity:"1",fillExtrusions:["lu_building-3d_public","lu_building-3d"],fills:["lu_building","lu_building_public"],lines:["lu_bridge_railway","lu_railway","lu_tunnel_railway"],visible:!0},{label:"Water",color:"#94c1e1",lines:["lu_waterway","lu_waterway_tunnel","lu_waterway_intermittent"],fills:["lu_water"],visible:!0},{label:"Background",color:"#e7e7e7",backgrounds:["background"],visible:!0},{label:"Hillshade",hillshades:["hillshade"],visible:!0}],topo:[{label:"Primary Names",symbols:["lu_place-label_other","lu_place-label_city","lu_place-label_canton","lu_country-label-other","lu_country-label","place_label_other","place_label_city","country_label-other","country_label"],visible:!0},{label:"Secondary Names",symbols:["lu_place-label_isolated","lu_place-label_locality_forest","lu_place-label_locality_lieudit"],visible:!0},{label:"Transport",lines:["lu_tunnel_track-casing","lu_tunnel_major_motorway-casing","lu_tunnel_railway_transit","lu_tunnel_railway","lu_tunnel_railway-hatching","lu_tunnel_path","lu_tunnel_track","lu_tunnel_minor","lu_tunnel_major_motorway","lu_tunnel_secondary_tertiary","lu_tunnel_trunk_primary","lu_road_track-casing","lu_road_minor-casing","lu_road_major_motorway-casing","lu_road_secondary_tertiary-casing","lu_road_trunk_primary-casing","lu_road_pier","lu_road_path","lu_road_track","lu_road_minor","lu_road_major_motorway","lu_road_secondary_tertiary","lu_road_trunk_primary","lu_tram","lu_tram-hatching","lu_railway_transit","lu_railway","lu_railway-hatching","lu_bridge_railway-casing","lu_bridge_track-casing","lu_bridge_path-casing","lu_bridge_minor-casing","lu_bridge_major_motorway-casing","lu_bridge_secondary_tertiary-casing","lu_bridge_trunk_primary-casing","lu_bridge_railway","lu_bridge_path","lu_bridge_track","lu_bridge_minor","lu_bridge_major_motorway","lu_bridge_secondary_tertiary","lu_bridge_trunk_primary","tunnel_track-casing","tunnel_major_motorway-casing","tunnel_railway_transit","tunnel_railway_transit-hatching","tunnel_railway","tunnel_railway-hatching","tunnel_path","tunnel_track","tunnel_minor","tunnel_major_motorway","tunnel_secondary_tertiary","tunnel_trunk_primary","road_track-casing","road_minor-casing","road_major_motorway-casing","road_secondary_tertiary-casing","road_trunk_primary-casing","road_pier","road_path","road_track","road_minor","road_major_motorway","road_secondary_tertiary","road_trunk_primary","railway-transit","railway-transit-hatching","railway","railway-hatching","bridge_railway-casing","bridge_path-casing","bridge_track_casing","bridge_minor-casing","bridge_major_motorway-casing","bridge_secondary_tertiary-casing","bridge_trunk_primary-casing","bridge_railway","bridge_path","bridge_track","bridge_minor","bridge_major_motorway","bridge_secondary_tertiary","bridge_trunk_primary"],symbols:["lu_road_major-label","lu_motorway-shield","lu_road-shield"],visible:!0},{label:"Vegetation",fills:["lu_landuse_stadium","lu_landuse_cemetery","lu_landuse_gras","lu_landuse_park","lu_landuse_park-outline","lu_landuse_vineyard","lu_landuse_orchard","lu_landuse_wood","landcover_grass","landcover_wood"],visible:!0},{label:"Electricity",fills:["lu_power_station","lu_power_pylone"],lines:["lu_power_line","lu_power_station-outline"],symbols:["lu_power_station-label","lu_eolienne"],visible:!0},{label:"Contours and Height Points",lines:["lu_contour-100","lu_contour-50","lu_contour-20","lu_contour-10","lu_contour"],symbols:["lu_contour-label-100","lu_contour-label-20","lu_apex-label"],visible:!0},{label:"Hillshade",hillshades:["lu_hillshade"],visible:!0}]},http_bg_server:"wmts{1-2}",https_bg_server:"wmts{3-4}",bg_wmts_server_path:"mapproxy_4_v3/wmts/{Layer}",bg_wmts_tile_template:"{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}",bg_layer_projection:"EPSG:3857",olcs_extent:[5.31,49.38,6.64,50.21],olcs_extent_projection:"EPSG:3857",bg_layer_resolutions:[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],bg_matrix_ids:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"]});function Oh(){function a(I){const R=oh.getItem(IO),P=oh.getItem(RO)||"http";return(R?`${P}://${R}`:hy.vectortilesUrl)+`/styles/${I}/style.json`}function e(I){return`${hy.vectortilesUrl}/styles/${I}/{z}/{x}/{y}.png`}function t(I,R){const P=Wl();if(I==null)return;const F=new Map;P.bgVectorSources.forEach((B,W)=>{if(W===I.id){const Z={...B,xyz_custom:R};F.set(W,Z)}else F.set(W,B)}),P.setBgVectorSources(F)}function i(I,R,P=!1){const F="",B=a(R),W=e(R),Z={label:I,defaultMapBoxStyle:B,defaultMapBoxStyleXYZ:W,xyz:W,xyz_custom:F,style:B};if(!oh.getItem(v0)){if(!P)return Promise.resolve(Z)}return Promise.resolve(Z)}function n(I){const R=Bc().medium_default_styles.road;if(I){I.colors.forEach((F,B)=>{R[B].color=F});const P=R.findIndex(F=>F.label==="Hillshade");R[P].visible=I.hillshade}return R}function s(I,R,P){if(!I||!R.get(I.id))return;const F=JSON.parse(JSON.stringify(R.get(I.id)));if(F&&!(!F||!F.layers))return P&&P.forEach(B=>{F==null||F.layers.forEach((W,Z)=>{for(const ae of uoe)if((B[`${ae}s`]||[]).includes(W.id)){const _e=Object.assign({},F.layers[Z].paint);B.color&&(_e[`${ae}-color`]=B.color,_e[`${ae}-opacity`]=1,F.layers[Z].paint=_e),F.layers[Z].layout=Object.assign({},F.layers[Z].layout,{visibility:B.visible?"visible":"none"})}})}),F}function r(I){return I?fetch(`${hy.mvtStylesDeleteUrl}?id=${I}`).catch(console.warn):Promise.resolve()}async function l(I,R){await r(R);const P=new FormData,F=JSON.stringify(I),B=new Blob([F],{type:"application/json"});P.append("style",B,"style.json");const W={method:"POST",body:P};return fetch(hy.mvtStylesUploadUrl,W).then(Z=>Z.json()).then(Z=>Z.id).catch(console.warn)}function c(I,R){if(!R)return;const P=I.maplibreMap;P&&(P.loaded()?P.setStyle(R):new Promise(F=>P.once("data",F)).then(()=>P.setStyle(R)))}function h(I){return Bc().bg_layers.find(R=>R.id==(I==null?void 0:I.id))}function f(I){const R=h(I);return R==null?void 0:R.vector_id}function v(I){const R=h(I);return(R==null?void 0:R.vector_id)!==void 0}function b(I){const R=h(I),P=[...R!=null&&R.simple_style_class?[Fo.simpleStyle]:[],...R!=null&&R.medium_style_class?[Fo.mediumStyle]:[],...R!=null&&R.expert_style_class?[Fo.advancedStyle]:[]];return{isEditable:(R==null?void 0:R.vector_id)!==void 0,styleEditors:P}}function T(I,R){return R.map(P=>Object.assign(P,{selected:P.colors.every((F,B)=>{var W;return((W=I[B])==null?void 0:W.color)===F})}))}function M(){const I=[],R=Wl();Bc().bg_layers.forEach(P=>{if(P.vector_id){const F=i(P.icon_id,P.vector_id);I.push(F.then(B=>({id:P.id,config:B})))}}),Promise.all(I).then(P=>{const F=new Map;P.forEach(B=>F.set(B.id,B.config)),R.setBgVectorSources(F)})}return{getDefaultMapBoxStyleUrl:a,getDefaultMapBoxStyleXYZ:e,setConfigForLayer:i,getRoadStyleFromSimpleStyle:n,applyDefaultStyle:s,applyConsolidatedStyle:c,getVectorId:f,setCustomStyleSerial:t,unregisterStyle:r,registerStyle:l,checkSelection:T,isLayerStyleEditable:v,getStyleCapabilitiesFromLayer:b,initBackgroundsConfigs:M}}const Wl=jo("style",()=>{const a=Oh(),e=Li(),t=Li(new Map),i=Li(new Map),n=Li(!1),s=Li(null),r=Li();function l(M){t.value=M}function c(M){const I=new Map;i.value.forEach((R,P)=>{P!==M&&I.set(P,R)}),i.value=I}function h(M,I){const R=new Map;i.value.forEach((P,F)=>R.set(F,P)),R.set(M,I),i.value=R}function f(M){e.value=a.getRoadStyleFromSimpleStyle(M),b()}function v(M){e.value=M,b()}function b(){n.value=!1}function T(){n.value=!0}return{bgStyle:e,bgVectorSources:t,bgVectorBaseStyles:i,isExpertStyleActive:n,appliedStyle:r,removeBaseStyle:c,setBaseStyle:h,setBgVectorSources:l,setSimpleStyle:f,setStyle:v,disableExpertStyle:b,enableExpertStyle:T,styleSerial:s}},{});class poe{constructor(){Sa(this,"styleWatcher")}bootstrap(){const e=Wl();let t,i=!1;t=Vn(()=>{e.bgVectorSources&&(this.restore(!1),i&&this.persist(),i=!0,t&&t())})}persist(){const e=Wl(),{bgStyle:t}=Gt(e);this.styleWatcher||(this.styleWatcher=Vt(t,(i,n)=>{if(n!==i){const s=on();s.bgLayer&&e.bgVectorSources.has(s.bgLayer.id)&&(i&&i.length?wa.setValue(s.bgLayer.name,i||[],qv.styleToLocalStorage):wa.removeItem(s.bgLayer.name),wa.setValue(v0,i||[],qv.styleToSerial))}},{immediate:!0}))}restore(e){const t=Wl();t.setStyle(null);const n=on().bgLayer;if(n){let s=[];e||(s=wa.getValue(v0,qv.styleSerialToStyle)),s.length===0&&(s=wa.getValue(n.name,qv.styleLocalStorageToStyle)),s&&s.length>0&&t.setStyle(s)}}}const Mk=new poe;var F_=(a=>(a.LAYER_OFFLINE_TILE="tile",a.LAYER_OFFLINE_VECTOR="vector",a.LAYER_OFFLINE_BG_VECTOR="bg_vector",a.LAYER_OFFLINE_BG_WMTS="off_bg_wmts",a))(F_||{}),Gc=(a=>(a.WMS="WMS",a.WFS="WFS",a.WMTS="WMTS",a.BG_WMTS="BG WMTS",a.BG_MVT="BG MVT",a["3D"]="3D",a.TILE_WMS="tileWMS",a))(Gc||{});const YT="id",KT="label",Lk="layer_name",Ak="metadata",foe="queryable_id",goe="current_time",yoe="time",voe="defaultMapBoxStyle";class boe extends am{constructor(e){const t=e||{};super(t)}}const xoe=boe,Ck=.5,G2={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Ik={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0};class woe extends AE{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],i=e.pixelRatio,n=e.viewState,s=n.resolution,r=this.getLayer().getSource(),l=e.viewHints;let c=e.extent;if(t.extent!==void 0&&(c=ah(c,Mu(t.extent,n.projection))),!l[Pn.ANIMATING]&&!l[Pn.INTERACTING]&&!wx(c))if(r){let h=n.projection;const f=r.getImage(c,s,i,h);f&&(this.loadImage(f)?this.image_=f:f.getState()===Ja.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),n=Gn(t.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!Sh(s,n))return null;const r=this.image_.getExtent(),l=this.image_.getImage(),c=Si(r),h=Math.floor(l.width*((n[0]-r[0])/c));if(h<0||h>=l.width)return null;const f=wr(r),v=Math.floor(l.height*((r[3]-n[1])/f));return v<0||v>=l.height?null:this.getImageData(l,h,v)}renderFrame(e,t){const i=this.image_,n=i.getExtent(),s=i.getResolution(),r=i.getPixelRatio(),l=e.layerStatesArray[e.layerIndex],c=e.pixelRatio,h=e.viewState,f=h.center,v=h.resolution,b=c*s/(v*r),T=e.extent,M=h.resolution,I=h.rotation,R=Math.round(Si(T)/M*c),P=Math.round(wr(T)/M*c);dl(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/c,1/c,I,-R/2,-P/2),Mx(this.inversePixelTransform,this.pixelTransform);const F=iE(this.pixelTransform);this.useContainer(t,F,this.getBackground(e));const B=this.context,W=B.canvas;W.width!=R||W.height!=P?(W.width=R,W.height=P):this.containerReused||B.clearRect(0,0,R,P);let Z=!1,ae=!0;if(l.extent){const fe=Mu(l.extent,h.projection);ae=Ir(fe,e.extent),Z=ae&&!Eu(fe,e.extent),Z&&this.clipUnrotated(B,e,fe)}const he=i.getImage(),_e=dl(this.tempTransform,R/2,P/2,b,b,0,r*(n[0]-f[0])/s,r*(f[1]-n[3])/s);this.renderedResolution=s*c/r;const ie=he.width*_e[0],me=he.height*_e[3];if(this.getLayer().getSource().getInterpolate()||Ci(B,G2),this.preRender(B,e),ae&&ie>=.5&&me>=.5){const fe=_e[4],be=_e[5],Ae=l.opacity;let Ye;Ae!==1&&(Ye=B.globalAlpha,B.globalAlpha=Ae),B.drawImage(he,0,0,+he.width,+he.height,fe,be,ie,me),Ae!==1&&(B.globalAlpha=Ye)}return this.postRender(B,e),Z&&B.restore(),Ci(B,Ik),F!==W.style.transform&&(W.style.transform=F),this.container}}const Soe=woe;class bb extends xoe{constructor(e){super(e)}createRenderer(){return new Soe(this)}getData(e){return super.getData(e)}}const Toe=10,JA=.25;class Eoe{constructor(e,t,i,n,s,r){this.sourceProj_=e,this.targetProj_=t;let l={};const c=df(this.targetProj_,this.sourceProj_);this.transformInv_=function(F){const B=F[0]+"/"+F[1];return l[B]||(l[B]=c(F)),l[B]},this.maxSourceExtent_=n,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&Si(n)==Si(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Si(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Si(this.targetProj_.getExtent()):null;const h=Jc(i),f=xx(i),v=bx(i),b=vx(i),T=this.transformInv_(h),M=this.transformInv_(f),I=this.transformInv_(v),R=this.transformInv_(b),P=Toe+(r?Math.max(0,Math.ceil(YB(K4(i)/(r*r*256*256)))):0);if(this.addQuad_(h,f,v,b,T,M,I,R,P),this.wrapsXInSource_){let F=1/0;this.triangles_.forEach(function(B,W,Z){F=Math.min(F,B.source[0][0],B.source[1][0],B.source[2][0])}),this.triangles_.forEach((function(B){if(Math.max(B.source[0][0],B.source[1][0],B.source[2][0])-F>this.sourceWorldWidth_/2){const W=[[B.source[0][0],B.source[0][1]],[B.source[1][0],B.source[1][1]],[B.source[2][0],B.source[2][1]]];W[0][0]-F>this.sourceWorldWidth_/2&&(W[0][0]-=this.sourceWorldWidth_),W[1][0]-F>this.sourceWorldWidth_/2&&(W[1][0]-=this.sourceWorldWidth_),W[2][0]-F>this.sourceWorldWidth_/2&&(W[2][0]-=this.sourceWorldWidth_);const Z=Math.min(W[0][0],W[1][0],W[2][0]);Math.max(W[0][0],W[1][0],W[2][0])-Z<this.sourceWorldWidth_/2&&(B.source=W)}}).bind(this))}l={}}addTriangle_(e,t,i,n,s,r){this.triangles_.push({source:[n,s,r],target:[e,t,i]})}addQuad_(e,t,i,n,s,r,l,c,h){const f=Do([s,r,l,c]),v=this.sourceWorldWidth_?Si(f)/this.sourceWorldWidth_:null,b=this.sourceWorldWidth_,T=this.sourceProj_.canWrapX()&&v>.5&&v<1;let M=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const R=Do([e,t,i,n]);M=Si(R)/this.targetWorldWidth_>JA||M}!T&&this.sourceProj_.isGlobal()&&v&&(M=v>JA||M)}if(!M&&this.maxSourceExtent_&&isFinite(f[0])&&isFinite(f[1])&&isFinite(f[2])&&isFinite(f[3])&&!Ir(f,this.maxSourceExtent_))return;let I=0;if(!M&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(r[0])||!isFinite(r[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(c[0])||!isFinite(c[1]))){if(h>0)M=!0;else if(I=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(r[0])||!isFinite(r[1])?4:0)+(!isFinite(l[0])||!isFinite(l[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),I!=1&&I!=2&&I!=4&&I!=8)return}if(h>0){if(!M){const R=[(e[0]+i[0])/2,(e[1]+i[1])/2],P=this.transformInv_(R);let F;T?F=(Fc(s[0],b)+Fc(l[0],b))/2-Fc(P[0],b):F=(s[0]+l[0])/2-P[0];const B=(s[1]+l[1])/2-P[1];M=F*F+B*B>this.errorThresholdSquared_}if(M){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const R=[(t[0]+i[0])/2,(t[1]+i[1])/2],P=this.transformInv_(R),F=[(n[0]+e[0])/2,(n[1]+e[1])/2],B=this.transformInv_(F);this.addQuad_(e,t,R,F,s,r,P,B,h-1),this.addQuad_(F,R,i,n,B,P,l,c,h-1)}else{const R=[(e[0]+t[0])/2,(e[1]+t[1])/2],P=this.transformInv_(R),F=[(i[0]+n[0])/2,(i[1]+n[1])/2],B=this.transformInv_(F);this.addQuad_(e,R,F,n,s,P,B,c,h-1),this.addQuad_(R,t,i,F,P,r,l,B,h-1)}return}}if(T){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}I&11||this.addTriangle_(e,i,n,s,l,c),I&14||this.addTriangle_(e,i,t,s,l,r),I&&(I&13||this.addTriangle_(t,n,e,r,c,s),I&7||this.addTriangle_(t,n,i,r,c,l))}calculateSourceExtent(){const e=Vo();return this.triangles_.forEach(function(t,i,n){const s=t.source;Ey(e,s[0]),Ey(e,s[1]),Ey(e,s[2])}),e}getTriangles(){return this.triangles_}}const Rk=Eoe;let a4;const Ok=[];function eC(a,e,t,i,n){a.beginPath(),a.moveTo(0,0),a.lineTo(e,t),a.lineTo(i,n),a.closePath(),a.save(),a.clip(),a.fillRect(0,0,Math.max(e,i)+1,Math.max(t,n)),a.restore()}function i4(a,e){return Math.abs(a[e*4]-210)>2||Math.abs(a[e*4+3]-.75*255)>2}function Moe(){if(a4===void 0){const a=document.createElement("canvas").getContext("2d");a.globalCompositeOperation="lighter",a.fillStyle="rgba(210, 0, 0, 0.75)",eC(a,4,5,4,0),eC(a,4,5,0,5);const e=a.getImageData(0,0,3,3).data;a4=i4(e,0)||i4(e,4)||i4(e,8)}return a4}function S0(a,e,t,i){const n=Ks(t,e,a);let s=J4(e,i,t);const r=e.getMetersPerUnit();r!==void 0&&(s*=r);const l=a.getMetersPerUnit();l!==void 0&&(s/=l);const c=a.getExtent();if(!c||Sh(c,n)){const h=J4(a,s,n)/s;isFinite(h)&&h>0&&(s/=h)}return s}function Loe(a,e,t,i){const n=Wu(t);let s=S0(a,e,n,i);return(!isFinite(s)||s<=0)&&H3(t,function(r){return s=S0(a,e,r,i),isFinite(s)&&s>0}),s}function kk(a,e,t,i,n,s,r,l,c,h,f,v){const b=vo(Math.round(t*a),Math.round(t*e),Ok);if(v||Ci(b,G2),c.length===0)return b.canvas;b.scale(t,t);function T(W){return Math.round(W*t)/t}b.globalCompositeOperation="lighter";const M=Vo();c.forEach(function(W,Z,ae){j3(M,W.extent)});const I=Si(M),R=wr(M),P=vo(Math.round(t*I/i),Math.round(t*R/i));v||Ci(P,G2);const F=t/i;c.forEach(function(W,Z,ae){const he=W.extent[0]-M[0],_e=-(W.extent[3]-M[3]),ie=Si(W.extent),me=wr(W.extent);W.image.width>0&&W.image.height>0&&P.drawImage(W.image,h,h,W.image.width-2*h,W.image.height-2*h,he*F,_e*F,ie*F,me*F)});const B=Jc(r);return l.getTriangles().forEach(function(W,Z,ae){const he=W.source,_e=W.target;let ie=he[0][0],me=he[0][1],fe=he[1][0],be=he[1][1],Ae=he[2][0],Ye=he[2][1];const Xe=T((_e[0][0]-B[0])/s),Re=T(-(_e[0][1]-B[1])/s),Oe=T((_e[1][0]-B[0])/s),Qe=T(-(_e[1][1]-B[1])/s),yt=T((_e[2][0]-B[0])/s),Je=T(-(_e[2][1]-B[1])/s),Xt=ie,We=me;ie=0,me=0,fe-=Xt,be-=We,Ae-=Xt,Ye-=We;const la=[[fe,be,0,0,Oe-Xe],[Ae,Ye,0,0,yt-Xe],[0,0,fe,be,Qe-Re],[0,0,Ae,Ye,Je-Re]],ba=$B(la);if(ba){if(b.save(),b.beginPath(),Moe()||!v){b.moveTo(Oe,Qe);const ea=4,wn=Xe-Oe,ca=Re-Qe;for(let hi=0;hi<ea;hi++)b.lineTo(Oe+T((hi+1)*wn/ea),Qe+T(hi*ca/(ea-1))),hi!=ea-1&&b.lineTo(Oe+T((hi+1)*wn/ea),Qe+T((hi+1)*ca/(ea-1)));b.lineTo(yt,Je)}else b.moveTo(Oe,Qe),b.lineTo(Xe,Re),b.lineTo(yt,Je);b.clip(),b.transform(ba[0],ba[2],ba[1],ba[3],Xe,Re),b.translate(M[0]-Xt,M[3]-We),b.scale(i/t,-i/t),b.drawImage(P.canvas,0,0),b.restore()}}),f&&(b.save(),b.globalCompositeOperation="source-over",b.strokeStyle="black",b.lineWidth=1,l.getTriangles().forEach(function(W,Z,ae){const he=W.target,_e=(he[0][0]-B[0])/s,ie=-(he[0][1]-B[1])/s,me=(he[1][0]-B[0])/s,fe=-(he[1][1]-B[1])/s,be=(he[2][0]-B[0])/s,Ae=-(he[2][1]-B[1])/s;b.beginPath(),b.moveTo(me,fe),b.lineTo(_e,ie),b.lineTo(be,Ae),b.closePath(),b.stroke()}),b.restore()),b.canvas}class Aoe extends LI{constructor(e,t,i,n,s,r,l){const c=e.getExtent(),h=t.getExtent(),f=h?ah(i,h):i,v=Wu(f),b=S0(e,t,v,n),T=Ck,M=new Rk(e,t,f,c,b*T,n),I=M.calculateSourceExtent(),R=r(I,b,s),P=R?Ja.IDLE:Ja.EMPTY,F=R?R.getPixelRatio():1;super(i,n,F,P),this.targetProj_=t,this.maxSourceExtent_=c,this.triangulation_=M,this.targetResolution_=n,this.targetExtent_=i,this.sourceImage_=R,this.sourcePixelRatio_=F,this.interpolate_=l,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Ja.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==Ja.LOADED){const t=Si(this.targetExtent_)/this.targetResolution_,i=wr(this.targetExtent_)/this.targetResolution_;this.canvas_=kk(t,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e,this.changed()}load(){if(this.state==Ja.IDLE){this.state=Ja.LOADING,this.changed();const e=this.sourceImage_.getState();e==Ja.LOADED||e==Ja.ERROR?this.reproject_():(this.sourceListenerKey_=Ma(this.sourceImage_,Da.CHANGE,function(t){const i=this.sourceImage_.getState();(i==Ja.LOADED||i==Ja.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}}unlistenSource_(){rn(this.sourceListenerKey_),this.sourceListenerKey_=null}}const Coe=Aoe,n4={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class Ioe extends Ho{constructor(e,t){super(e),this.image=t}}class Roe extends IE{constructor(e){let t=e.imageSmoothing!==void 0?e.imageSmoothing:!0;e.interpolate!==void 0&&(t=e.interpolate),super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:t}),this.on,this.once,this.un,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}getResolutions(){return this.resolutions_}findNearestResolution(e){if(this.resolutions_){const t=Sx(this.resolutions_,e,0);e=this.resolutions_[t]}return e}getImage(e,t,i,n){const s=this.getProjection();if(!s||!n||Rc(s,n))return s&&(n=s),this.getImageInternal(e,t,i,n);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Rc(this.reprojectedImage_.getProjection(),n)&&this.reprojectedImage_.getResolution()==t&&j_(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Coe(s,n,e,t,i,(function(r,l,c){return this.getImageInternal(r,l,c,s)}).bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,i,n){return _a()}handleImageChange(e){const t=e.target;let i;switch(t.getState()){case Ja.LOADING:this.loading=!0,i=n4.IMAGELOADSTART;break;case Ja.LOADED:this.loading=!1,i=n4.IMAGELOADEND;break;case Ja.ERROR:this.loading=!1,i=n4.IMAGELOADERROR;break;default:return}this.hasListener(i)&&this.dispatchEvent(new Ioe(i,t))}}function Ooe(a,e){a.getImage().src=e}const koe=Roe,Yd="1.3.0";function Sf(a,e){const t=[];Object.keys(e).forEach(function(n){e[n]!==null&&e[n]!==void 0&&t.push(n+"="+encodeURIComponent(e[n]))});const i=t.join("&");return a=a.replace(/[?&]$/,""),a=a.indexOf("?")===-1?a+"?":a+"&",a+i}const Id=4,tC=[101,101];class q2 extends koe{constructor(e){const t=e||{};let i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(i=t.interpolate),super({attributions:t.attributions,interpolate:i,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=t.imageLoadFunction!==void 0?t.imageLoadFunction:Ooe,this.params_=t.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=t.serverType,this.hidpi_=t.hidpi!==void 0?t.hidpi:!0,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=t.ratio!==void 0?t.ratio:1.5}getFeatureInfoUrl(e,t,i,n){if(this.url_===void 0)return;const s=Di(i),r=this.getProjection();r&&r!==s&&(t=S0(r,s,e,t),e=Ks(e,s,r));const l=Zp(e,t,0,tC),c={SERVICE:"WMS",VERSION:Yd,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Ci(c,this.params_,n);const h=Ip((e[0]-l[0])/t,Id),f=Ip((l[3]-e[1])/t,Id);return c[this.v13_?"I":"X"]=h,c[this.v13_?"J":"Y"]=f,this.getRequestUrl_(l,tC,1,r||s,c)}getLegendUrl(e,t){if(this.url_===void 0)return;const i={SERVICE:"WMS",VERSION:Yd,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(t===void 0||t.LAYER===void 0){const n=this.params_.LAYERS;if(!(!Array.isArray(n)||n.length===1))return;i.LAYER=n}if(e!==void 0){const n=this.getProjection()?this.getProjection().getMetersPerUnit():1,s=28e-5;i.SCALE=e*n/s}return Ci(i,t),Sf(this.url_,i)}getParams(){return this.params_}getImageInternal(e,t,i,n){if(this.url_===void 0)return null;t=this.findNearestResolution(t),i!=1&&(!this.hidpi_||this.serverType_===void 0)&&(i=1);const s=t/i,r=Wu(e),l=Ud(Si(e)/s,Id),c=Ud(wr(e)/s,Id),h=Zp(r,s,0,[l,c]),f=Ud(this.ratio_*Si(e)/s,Id),v=Ud(this.ratio_*wr(e)/s,Id),b=Zp(r,s,0,[f,v]),T=this.image_;if(T&&this.renderedRevision_==this.getRevision()&&T.getResolution()==t&&T.getPixelRatio()==i&&Eu(T.getExtent(),h))return T;const M={SERVICE:"WMS",VERSION:Yd,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Ci(M,this.params_),this.imageSize_[0]=LL(Si(b)/s,Id),this.imageSize_[1]=LL(wr(b)/s,Id);const I=this.getRequestUrl_(b,this.imageSize_,i,n,M);return this.image_=new CV(b,t,i,I,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(Da.CHANGE,this.handleImageChange.bind(this)),this.image_}getImageLoadFunction(){return this.imageLoadFunction_}getRequestUrl_(e,t,i,n,s){if(Ka(this.url_!==void 0,9),s[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(s.STYLES=""),i!=1)switch(this.serverType_){case"geoserver":const c=90*i+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+c:s.FORMAT_OPTIONS="dpi:"+c;break;case"mapserver":s.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":s.DPI=90*i;break;default:Ka(!1,8);break}s.WIDTH=t[0],s.HEIGHT=t[1];const r=n.getAxisOrientation();let l;return this.v13_&&r.substr(0,2)=="ne"?l=[e[1],e[0],e[3],e[2]]:l=e,s.BBOX=l.join(","),Sf(this.url_,s)}getUrl(){return this.url_}setImageLoadFunction(e){this.image_=null,this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())}updateParams(e){Ci(this.params_,e),this.updateV13_(),this.image_=null,this.changed()}updateV13_(){const e=this.params_.VERSION||Yd;this.v13_=L7(e,"1.3")>=0}}function Pk(){return Q3([5.31,49.38,6.64,50.21],mf,G_)}function Dk(a){var e;return!!((e=a==null?void 0:a.metadata)!=null&&e.hasRetina)&&FO()}function Poe(a,e="https"){const t=a.imageType.split("/")[1],i=wa.getValue(Bf,r5)?"app.geoportail.lu":"geoportail.lu";return`${e==="https"?"//wmts{3-4}.":"//wmts{1-2}."}${i}/mapproxy_4_v3/wmts/{Layer}${Dk(a)?"_hd":""}/{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}.${t}`}class Doe{createOlLayer(e){const{name:t,layers:i,imageType:n,url:s,id:r}=e,l=new q2({url:s||f0.wmsProxyUrl,hidpi:FO(),serverType:"mapserver",params:{FORMAT:n,LAYERS:i}});return new bb({properties:{"olcs.extent":Pk(),label:t,id:r},source:l})}setLayerTime(e,t){const i=e.getParams();i.TIME=t,e.updateParams(i)}}const Fk=new Doe,Kd={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class Foe extends am{constructor(e){const t=e||{},i=Ci({},t);delete i.preload,delete i.useInterimTilesOnError,super(i),this.on,this.once,this.un,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getPreload(){return this.get(Kd.PRELOAD)}setPreload(e){this.set(Kd.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Kd.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Kd.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const Noe=Foe;class Woe extends Cf{constructor(e,t,i){super();const n=i||{};this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=n.transition===void 0?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(Da.CHANGE)}release(){}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==Aa.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,t=this;do{if(e.getState()==Aa.LOADED){e.interimTile=null;break}else e.getState()==Aa.LOADING?t=e:e.getState()==Aa.IDLE?t.interimTile=e.interimTile:t=e;e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Aa.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){_a()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const n=t-i+1e3/60;return n>=this.transition_?1:H7(n/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}const Nk=Woe;class zoe extends Nk{constructor(e,t,i,n,s,r){super(e,t,r),this.crossOrigin_=n,this.src_=i,this.key=i,this.image_=new Image,n!==null&&(this.image_.crossOrigin=n),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Aa.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Aa.ERROR,this.unlistenImage_(),this.image_=Boe(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Aa.LOADED:this.state=Aa.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Aa.ERROR&&(this.state=Aa.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Aa.IDLE&&(this.state=Aa.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=CE(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function Boe(){const a=vo(1,1);return a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1),a.canvas}const Wk=zoe;class Goe extends Nk{constructor(e,t,i,n,s,r,l,c,h,f,v,b){super(s,Aa.IDLE,{interpolate:!!b}),this.renderEdges_=v!==void 0?v:!1,this.pixelRatio_=l,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=n,this.wrappedTileCoord_=r||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const T=n.getTileCoordExtent(this.wrappedTileCoord_),M=this.targetTileGrid_.getExtent();let I=this.sourceTileGrid_.getExtent();const R=M?ah(T,M):T;if(K4(R)===0){this.state=Aa.EMPTY;return}const P=e.getExtent();P&&(I?I=ah(I,P):I=P);const F=n.getResolution(this.wrappedTileCoord_[0]),B=Loe(e,i,R,F);if(!isFinite(B)||B<=0){this.state=Aa.EMPTY;return}const W=f!==void 0?f:Ck;if(this.triangulation_=new Rk(e,i,R,I,B*W,F),this.triangulation_.getTriangles().length===0){this.state=Aa.EMPTY;return}this.sourceZ_=t.getZForResolution(B);let Z=this.triangulation_.calculateSourceExtent();if(I&&(e.canWrapX()?(Z[1]=Jn(Z[1],I[1],I[3]),Z[3]=Jn(Z[3],I[1],I[3])):Z=ah(Z,I)),!K4(Z))this.state=Aa.EMPTY;else{const ae=t.getTileRangeForExtentAndZ(Z,this.sourceZ_);for(let he=ae.minX;he<=ae.maxX;he++)for(let _e=ae.minY;_e<=ae.maxY;_e++){const ie=h(this.sourceZ_,he,_e,l);ie&&this.sourceTiles_.push(ie)}this.sourceTiles_.length===0&&(this.state=Aa.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach((function(t,i,n){t&&t.getState()==Aa.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}).bind(this)),this.sourceTiles_.length=0,e.length===0)this.state=Aa.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),n=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],r=this.targetTileGrid_.getResolution(t),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=kk(n,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),r,c,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Aa.LOADED}this.changed()}load(){if(this.state==Aa.IDLE){this.state=Aa.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(t,i,n){const s=t.getState();if(s==Aa.IDLE||s==Aa.LOADING){e++;const r=Ma(t,Da.CHANGE,function(l){const c=t.getState();(c==Aa.LOADED||c==Aa.ERROR||c==Aa.EMPTY)&&(rn(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}).bind(this)),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,i,n){t.getState()==Aa.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(rn),this.sourcesListenerKeys_=null}release(){this.canvas_&&(q7(this.canvas_.getContext("2d")),Ok.push(this.canvas_),this.canvas_=null),super.release()}}const zk=Goe;class Bk{constructor(e,t,i,n){this.minX=e,this.maxX=t,this.minY=i,this.maxY=n}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function fp(a,e,t,i,n){return n!==void 0?(n.minX=a,n.maxX=e,n.minY=t,n.maxY=i,n):new Bk(a,e,t,i)}const Gk=Bk;class qoe extends AE{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Vo(),this.tmpTileRange_=new Gk(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),i=e.getState(),n=t.getUseInterimTilesOnError();return i==Aa.LOADED||i==Aa.EMPTY||i==Aa.ERROR&&!n}getTile(e,t,i,n){const s=n.pixelRatio,r=n.viewState.projection,l=this.getLayer();let h=l.getSource().getTile(e,t,i,s,r);return h.getState()==Aa.ERROR&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(this.newTiles_=!0):h.setState(Aa.LOADED)),this.isDrawableTile(h)||(h=h.getInterimTile()),h}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),n=Gn(t.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!Sh(s,n))return null;const r=t.pixelRatio,l=t.viewState.projection,c=t.viewState,h=i.getRenderSource(),f=h.getTileGridForProjection(c.projection),v=h.getTilePixelRatio(t.pixelRatio);for(let b=f.getZForResolution(c.resolution);b>=f.getMinZoom();--b){const T=f.getTileCoordForCoordAndZ(n,b),M=h.getTile(b,T[1],T[2],r,l);if(!(M instanceof Wk||M instanceof zk))return null;if(M.getState()!==Aa.LOADED)continue;const I=f.getOrigin(b),R=ls(f.getTileSize(b)),P=f.getResolution(b),F=Math.floor(v*((n[0]-I[0])/P-T[1]*R[0])),B=Math.floor(v*((I[1]-n[1])/P-T[2]*R[1])),W=Math.round(v*h.getGutterForProjection(c.projection));return this.getImageData(M.getImage(),F+W,B+W)}return null}loadedTileCallback(e,t,i){return this.isDrawableTile(i)?super.loadedTileCallback(e,t,i):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex],n=e.viewState,s=n.projection,r=n.resolution,l=n.center,c=n.rotation,h=e.pixelRatio,f=this.getLayer(),v=f.getSource(),b=v.getRevision(),T=v.getTileGridForProjection(s),M=T.getZForResolution(r,v.zDirection),I=T.getResolution(M);let R=e.extent;const P=e.viewState.resolution,F=v.getTilePixelRatio(h),B=Math.round(Si(R)/P*h),W=Math.round(wr(R)/P*h),Z=i.extent&&Mu(i.extent);Z&&(R=ah(R,Mu(i.extent)));const ae=I*B/2/F,he=I*W/2/F,_e=[l[0]-ae,l[1]-he,l[0]+ae,l[1]+he],ie=T.getTileRangeForExtentAndZ(R,M),me={};me[M]={};const fe=this.createLoadedTileFinder(v,s,me),be=this.tmpExtent,Ae=this.tmpTileRange_;this.newTiles_=!1;const Ye=c?$4(n.center,P,c,e.size):void 0;for(let la=ie.minX;la<=ie.maxX;++la)for(let ba=ie.minY;ba<=ie.maxY;++ba){if(c&&!T.tileCoordIntersectsViewport([M,la,ba],Ye))continue;const ea=this.getTile(M,la,ba,e);if(this.isDrawableTile(ea)){const hi=na(this);if(ea.getState()==Aa.LOADED){me[M][ea.tileCoord.toString()]=ea;let ka=ea.inTransition(hi);ka&&i.opacity!==1&&(ea.endTransition(hi),ka=!1),!this.newTiles_&&(ka||this.renderedTiles.indexOf(ea)===-1)&&(this.newTiles_=!0)}if(ea.getAlpha(hi,e.time)===1)continue}const wn=T.getTileCoordChildTileRange(ea.tileCoord,Ae,be);let ca=!1;wn&&(ca=fe(M+1,wn)),ca||T.forEachTileCoordParentTileRange(ea.tileCoord,fe,Ae,be)}const Xe=I/r*h/F;dl(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/h,1/h,c,-B/2,-W/2);const Re=iE(this.pixelTransform);this.useContainer(t,Re,this.getBackground(e));const Oe=this.context,Qe=Oe.canvas;Mx(this.inversePixelTransform,this.pixelTransform),dl(this.tempTransform,B/2,W/2,Xe,Xe,0,-B/2,-W/2),Qe.width!=B||Qe.height!=W?(Qe.width=B,Qe.height=W):this.containerReused||Oe.clearRect(0,0,B,W),Z&&this.clipUnrotated(Oe,e,Z),v.getInterpolate()||Ci(Oe,G2),this.preRender(Oe,e),this.renderedTiles.length=0;let yt=Object.keys(me).map(Number);yt.sort(H_);let Je,Xt,We;i.opacity===1&&(!this.containerReused||v.getOpaque(e.viewState.projection))?yt=yt.reverse():(Je=[],Xt=[]);for(let la=yt.length-1;la>=0;--la){const ba=yt[la],ea=v.getTilePixelSize(ba,h,s),ca=T.getResolution(ba)/I,hi=ea[0]*ca*Xe,ka=ea[1]*ca*Xe,Zi=T.getTileCoordForCoordAndZ(Jc(_e),ba),er=T.getTileCoordExtent(Zi),un=Gn(this.tempTransform,[F*(er[0]-_e[0])/I,F*(_e[3]-er[3])/I]),pe=F*v.getGutterForProjection(s),Le=me[ba];for(const qe in Le){const it=Le[qe],ut=it.tileCoord,ot=Zi[1]-ut[1],Et=Math.round(un[0]-(ot-1)*hi),_t=Zi[2]-ut[2],vt=Math.round(un[1]-(_t-1)*ka),st=Math.round(un[0]-ot*hi),Nt=Math.round(un[1]-_t*ka),xt=Et-st,Wt=vt-Nt,Zt=M===ba,xa=Zt&&it.getAlpha(na(this),e.time)!==1;let Fa=!1;if(!xa)if(Je){We=[st,Nt,st+xt,Nt,st+xt,Nt+Wt,st,Nt+Wt];for(let Ga=0,Xi=Je.length;Ga<Xi;++Ga)if(M!==ba&&ba<Xt[Ga]){const ii=Je[Ga];Ir([st,Nt,st+xt,Nt+Wt],[ii[0],ii[3],ii[4],ii[7]])&&(Fa||(Oe.save(),Fa=!0),Oe.beginPath(),Oe.moveTo(We[0],We[1]),Oe.lineTo(We[2],We[3]),Oe.lineTo(We[4],We[5]),Oe.lineTo(We[6],We[7]),Oe.moveTo(ii[6],ii[7]),Oe.lineTo(ii[4],ii[5]),Oe.lineTo(ii[2],ii[3]),Oe.lineTo(ii[0],ii[1]),Oe.clip())}Je.push(We),Xt.push(ba)}else Oe.clearRect(st,Nt,xt,Wt);this.drawTileImage(it,e,st,Nt,xt,Wt,pe,Zt),Je&&!xa?(Fa&&Oe.restore(),this.renderedTiles.unshift(it)):this.renderedTiles.push(it),this.updateUsedTiles(e.usedTiles,v,it)}}return this.renderedRevision=b,this.renderedResolution=I,this.extentChanged=!this.renderedExtent_||!j_(this.renderedExtent_,_e),this.renderedExtent_=_e,this.renderedPixelRatio=h,this.renderedProjection=s,this.manageTilePyramid(e,v,T,h,s,R,M,f.getPreload()),this.scheduleExpireCache(e,v),this.postRender(Oe,e),i.extent&&Oe.restore(),Ci(Oe,Ik),Re!==Qe.style.transform&&(Qe.style.transform=Re),this.container}drawTileImage(e,t,i,n,s,r,l,c){const h=this.getTileImage(e);if(!h)return;const f=na(this),v=t.layerStatesArray[t.layerIndex],b=v.opacity*(c?e.getAlpha(f,t.time):1),T=b!==this.context.globalAlpha;T&&(this.context.save(),this.context.globalAlpha=b),this.context.drawImage(h,l,l,h.width-2*l,h.height-2*l,i,n,s,r),T&&this.context.restore(),b!==v.opacity?t.animate=!0:c&&e.endTransition(f)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const i=(function(n,s,r){const l=na(n);l in r.usedTiles&&n.expireCache(r.viewState.projection,r.usedTiles[l])}).bind(null,t);e.postRenderFunctions.push(i)}}updateUsedTiles(e,t,i){const n=na(t);n in e||(e[n]={}),e[n][i.getKey()]=!0}manageTilePyramid(e,t,i,n,s,r,l,c,h){const f=na(t);f in e.wantedTiles||(e.wantedTiles[f]={});const v=e.wantedTiles[f],b=e.tileQueue,T=i.getMinZoom(),M=e.viewState.rotation,I=M?$4(e.viewState.center,e.viewState.resolution,M,e.size):void 0;let R=0,P,F,B,W,Z,ae;for(ae=T;ae<=l;++ae)for(F=i.getTileRangeForExtentAndZ(r,ae,F),B=i.getResolution(ae),W=F.minX;W<=F.maxX;++W)for(Z=F.minY;Z<=F.maxY;++Z)M&&!i.tileCoordIntersectsViewport([ae,W,Z],I)||(l-ae<=c?(++R,P=t.getTile(ae,W,Z,n,s),P.getState()==Aa.IDLE&&(v[P.getKey()]=!0,b.isKeyQueued(P.getKey())||b.enqueue([P,f,i.getTileCoordCenter(P.tileCoord),B])),h!==void 0&&h(P)):t.useTile(ae,W,Z,s));t.updateCacheSize(R,s)}}const qk=qoe;class Wp extends Noe{constructor(e){super(e)}createRenderer(){return new qk(this)}}class Uoe{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Ka(i!==void 0,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Ka(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Ka(!(e in this.entries_),16);const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}const Voe=Uoe;function aC(a,e,t,i){return i!==void 0?(i[0]=a,i[1]=e,i[2]=t,i):[a,e,t]}function Vx(a,e,t){return a+"/"+e+"/"+t}function Uk(a){return Vx(a[0],a[1],a[2])}function joe(a){return a.split("/").map(Number)}function Vk(a){return(a[1]<<a[0])+a[2]}function Hoe(a,e){const t=a[0],i=a[1],n=a[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const s=e.getFullTileRange(t);return s?s.containsXY(i,n):!0}class Zoe extends Voe{expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),i=joe(e)[0];this.forEach((function(n){n.tileCoord[0]!==i&&(this.remove(Uk(n.tileCoord)),n.release())}).bind(this))}}const jk=Zoe,r4={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},Xoe=[0,0,0],Rd=5;class Yoe{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Ka(LG(this.resolutions_,function(n,s){return s-n},!0),17);let t;if(!e.origins){for(let n=0,s=this.resolutions_.length-1;n<s;++n)if(!t)t=this.resolutions_[n]/this.resolutions_[n+1];else if(this.resolutions_[n]/this.resolutions_[n+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Ka(this.origins_.length==this.resolutions_.length,20));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Jc(i)),Ka(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Ka(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:sE,Ka(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(n,s){const r=new Gk(Math.min(0,n[0]),Math.max(n[0]-1,-1),Math.min(0,n[1]),Math.max(n[1]-1,-1));if(i){const l=this.getTileRangeForExtentAndZ(i,s);r.minX=Math.max(l.minX,r.minX),r.maxX=Math.min(l.maxX,r.maxX),r.minY=Math.max(l.minY,r.minY),r.maxY=Math.min(l.maxY,r.maxY)}return r},this):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const n=this.getTileRangeForExtentAndZ(e,t);for(let s=n.minX,r=n.maxX;s<=r;++s)for(let l=n.minY,c=n.maxY;l<=c;++l)i([t,s,l])}forEachTileCoordParentTileRange(e,t,i,n){let s,r,l,c=null,h=e[0]-1;for(this.zoomFactor_===2?(r=e[1],l=e[2]):c=this.getTileCoordExtent(e,n);h>=this.minZoom;){if(this.zoomFactor_===2?(r=Math.floor(r/2),l=Math.floor(l/2),s=fp(r,r,l,l,i)):s=this.getTileRangeForExtentAndZ(c,h,i),t(h,s))return!0;--h}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,r=e[2]*2;return fp(s,s+1,r,r+1,t)}const n=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(n,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const n=e[0],s=e[1],r=e[2];if(t===n)return fp(s,r,s,r,i);if(this.zoomFactor_){const c=Math.pow(this.zoomFactor_,t-n),h=Math.floor(s*c),f=Math.floor(r*c);if(t<n)return fp(h,h,f,f,i);const v=Math.floor(c*(s+1))-1,b=Math.floor(c*(r+1))-1;return fp(h,v,f,b,i)}const l=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,t,i)}getTileRangeExtent(e,t,i){const n=this.getOrigin(e),s=this.getResolution(e),r=ls(this.getTileSize(e),this.tmpSize_),l=n[0]+t.minX*r[0]*s,c=n[0]+(t.maxX+1)*r[0]*s,h=n[1]+t.minY*r[1]*s,f=n[1]+(t.maxY+1)*r[1]*s;return ql(l,h,c,f,i)}getTileRangeForExtentAndZ(e,t,i){const n=Xoe;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,n);const s=n[1],r=n[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,n),fp(s,n[1],r,n[2],i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),n=ls(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*n[0]*i,t[1]-(e[2]+.5)*n[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),n=this.getResolution(e[0]),s=ls(this.getTileSize(e[0]),this.tmpSize_),r=i[0]+e[1]*s[0]*n,l=i[1]-(e[2]+1)*s[1]*n,c=r+s[0]*n,h=l+s[1]*n;return ql(r,l,c,h,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,n,s){const r=this.getZForResolution(i),l=i/this.getResolution(r),c=this.getOrigin(r),h=ls(this.getTileSize(r),this.tmpSize_);let f=l*(e-c[0])/i/h[0],v=l*(c[1]-t)/i/h[1];return n?(f=Ud(f,Rd)-1,v=Ud(v,Rd)-1):(f=Ip(f,Rd),v=Ip(v,Rd)),aC(r,f,v,s)}getTileCoordForXYAndZ_(e,t,i,n,s){const r=this.getOrigin(i),l=this.getResolution(i),c=ls(this.getTileSize(i),this.tmpSize_);let h=(e-r[0])/l/c[0],f=(r[1]-t)/l/c[1];return n?(h=Ud(h,Rd)-1,f=Ud(f,Rd)-1):(h=Ip(h,Rd),f=Ip(f,Rd)),aC(i,h,f,s)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=Sx(this.resolutions_,e,t||0);return Jn(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return aI(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let n=this.minZoom;n<t;++n)i[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=i}}const jx=Yoe;function Hk(a){let e=a.getDefaultTileGrid();return e||(e=Joe(a),a.setDefaultTileGrid(e)),e}function Koe(a,e,t){const i=e[0],n=a.getTileCoordCenter(e),s=g5(t);if(Sh(s,n))return e;{const r=Si(s),l=Math.ceil((s[0]-n[0])/r);return n[0]+=r*l,a.getTileCoordForCoordAndZ(n,i)}}function $oe(a,e,t,i){const n=i!==void 0?i:"top-left",s=Zk(a,e,t);return new jx({extent:a,origin:dG(a,n),resolutions:s,tileSize:t})}function Qoe(a){const e=a||{},t=e.extent||Di("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Zk(t,e.maxZoom,e.tileSize,e.maxResolution)};return new jx(i)}function Zk(a,e,t,i){const n=e!==void 0?e:bq,s=wr(a),r=Si(a),l=ls(t!==void 0?t:sE),c=i>0?i:Math.max(r/l[0],s/l[1]),h=n+1,f=new Array(h);for(let v=0;v<h;++v)f[v]=c/Math.pow(2,v);return f}function Joe(a,e,t,i){const n=g5(a);return $oe(n,e,t,i)}function g5(a){a=Di(a);let e=a.getExtent();if(!e){const t=180*Gl[Cu.DEGREES]/a.getMetersPerUnit();e=ql(-t,-t,t,t)}return e}class ele extends IE{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&ls(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new jk(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}forEachLoadedTile(e,t,i,n){const s=this.getTileCacheForProjection(e);if(!s)return!1;let r=!0,l,c,h;for(let f=i.minX;f<=i.maxX;++f)for(let v=i.minY;v<=i.maxY;++v)c=Vx(t,f,v),h=!1,s.containsKey(c)&&(l=s.get(c),h=l.getState()===Aa.LOADED,h&&(h=n(l)!==!1)),h||(r=!1);return r}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(){return this.tileGrid?this.tileGrid.getResolutions():null}getTile(e,t,i,n,s){return _a()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Hk(e)}getTileCacheForProjection(e){const t=this.getProjection();return Ka(t===null||Rc(t,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const n=this.getTileGridForProjection(i),s=this.getTilePixelRatio(t),r=ls(n.getTileSize(e),this.tmpSize);return s==1?r:sI(r,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const i=t!==void 0?t:this.getProjection(),n=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=Koe(n,e,i)),Hoe(e,n)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const i=this.getTileCacheForProjection(t);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,t,i,n){}}class tle extends Ho{constructor(e,t){super(e),this.tile=t}}const ale=ele;function ile(a,e){const t=/\{z\}/g,i=/\{x\}/g,n=/\{y\}/g,s=/\{-y\}/g;return function(r,l,c){if(r)return a.replace(t,r[0].toString()).replace(i,r[1].toString()).replace(n,r[2].toString()).replace(s,function(){const h=r[0],f=e.getFullTileRange(h);return Ka(f,55),(f.getHeight()-r[2]-1).toString()})}}function nle(a,e){const t=a.length,i=new Array(t);for(let n=0;n<t;++n)i[n]=ile(a[n],e);return $T(i)}function $T(a){return a.length===1?a[0]:function(e,t,i){if(e){const n=Vk(e),s=Fc(n,a.length);return a[s](e,t,i)}else return}}function Xk(a){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(a);if(t){const i=t[1].charCodeAt(0),n=t[2].charCodeAt(0);let s;for(s=i;s<=n;++s)e.push(a.replace(t[0],String.fromCharCode(s)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(a),t){const i=parseInt(t[2],10);for(let n=parseInt(t[1],10);n<=i;n++)e.push(a.replace(t[0],n.toString()));return e}return e.push(a),e}class y5 extends ale{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===y5.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=na(t),n=t.getState();let s;n==Aa.LOADING?(this.tileLoadingKeys_[i]=!0,s=r4.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=n==Aa.ERROR?r4.TILELOADERROR:n==Aa.LOADED?r4.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new tle(s,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=Xk(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(nle(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){const n=Vx(e,t,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)}}const rle=y5;class sle extends rle{constructor(e){let t=e.imageSmoothing!==void 0?e.imageSmoothing:!0;e.interpolate!==void 0&&(t=e.interpolate),super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ole,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:t,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Wk,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(const n in this.tileCacheForProjection){const s=this.tileCacheForProjection[n];s.expireCache(s==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Rc(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!Rc(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||Rc(t,e)))return this.tileGrid;{const i=na(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Hk(e)),this.tileGridForProjection[i]}}getTileCacheForProjection(e){const t=this.getProjection();if(!t||Rc(t,e))return this.tileCache;{const i=na(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new jk(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}}createTile_(e,t,i,n,s,r){const l=[e,t,i],c=this.getTileCoordForTileUrlFunction(l,s),h=c?this.tileUrlFunction(c,n,s):void 0,f=new this.tileClass(l,h!==void 0?Aa.IDLE:Aa.EMPTY,h!==void 0?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=r,f.addEventListener(Da.CHANGE,this.handleTileChange.bind(this)),f}getTile(e,t,i,n,s){const r=this.getProjection();if(!r||!s||Rc(r,s))return this.getTileInternal(e,t,i,n,r||s);{const l=this.getTileCacheForProjection(s),c=[e,t,i];let h;const f=Uk(c);l.containsKey(f)&&(h=l.get(f));const v=this.getKey();if(h&&h.key==v)return h;{const b=this.getTileGridForProjection(r),T=this.getTileGridForProjection(s),M=this.getTileCoordForTileUrlFunction(c,s),I=new zk(r,b,s,T,c,M,this.getTilePixelRatio(n),this.getGutter(),(function(R,P,F,B){return this.getTileInternal(R,P,F,B,r)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return I.key=v,h?(I.interimTile=h,I.refreshInterimChain(),l.replace(f,I)):l.set(f,I),I}}}getTileInternal(e,t,i,n,s){let r=null;const l=Vx(e,t,i),c=this.getKey();if(!this.tileCache.containsKey(l))r=this.createTile_(e,t,i,n,s,c),this.tileCache.set(l,r);else if(r=this.tileCache.get(l),r.key!=c){const h=r;r=this.createTile_(e,t,i,n,s,c),h.getState()==Aa.IDLE?r.interimTile=h.interimTile:r.interimTile=h,r.refreshInterimChain(),this.tileCache.replace(l,r)}return r}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){{const i=Di(e);if(i){const n=na(i);n in this.tileGridForProjection||(this.tileGridForProjection[n]=t)}}}}function ole(a,e){a.getImage().src=e}const v5=sle;class lle extends jx{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}const b5=lle;class T0 extends v5{constructor(e){let t=e.imageSmoothing!==void 0?e.imageSmoothing:!0;e.interpolate!==void 0&&(t=e.interpolate);const i=e.requestEncoding!==void 0?e.requestEncoding:"KVP",n=e.tileGrid;let s=e.urls;s===void 0&&e.url!==void 0&&(s=Xk(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:t,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:s,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition,zDirection:e.zDirection}),this.version_=e.version!==void 0?e.version:"1.0.0",this.format_=e.format!==void 0?e.format:"image/jpeg",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=i,this.setKey(this.getKeyForDimensions_()),s&&s.length>0&&(this.tileUrlFunction=$T(s.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const t=e.join(`
`);this.setTileUrlFunction($T(e.map(this.createFromWMTSTemplate.bind(this))),t)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){let e=0;const t=[];for(const i in this.dimensions_)t[e++]=i+"-"+this.dimensions_[i];return t.join("/")}updateDimensions(e){Ci(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const t=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};t=="KVP"&&Ci(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=t=="KVP"?Sf(e,i):e.replace(/\{(\w+?)\}/g,function(r,l){return l.toLowerCase()in i?i[l.toLowerCase()]:r});const n=this.tileGrid,s=this.dimensions_;return function(r,l,c){if(r){const h={TileMatrix:n.getMatrixId(r[0]),TileCol:r[1],TileRow:r[2]};Ci(h,s);let f=e;return t=="KVP"?f=Sf(f,h):f=f.replace(/\{(\w+?)\}/g,function(v,b){return h[b]}),f}else return}}}const ule=[156543.033928,78271.516964,39135.758482,19567.879241,9783.9396205,4891.96981025,2445.98490513,1222.99245256,611.496226281,305.748113141,152.87405657,76.4370282852,38.2185141426,19.1092570713,9.55462853565,4.77731426782,2.38865713391,1.19432856696,.597164283478,.298582141739,.1492910708695,.07464553543475],cle=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"];class dle{createOlLayer(e){const{name:t,imageType:i,id:n}=e,s=Dk(e),r=Di(G_),l=r.getExtent(),c=new T0({url:Poe(e),tilePixelRatio:s?2:1,layer:t,matrixSet:`GLOBAL_WEBMERCATOR_4_V3${s?"_HD":""}`,format:i,requestEncoding:"REST",projection:r,tileGrid:new b5({origin:Jc(l),extent:l,resolutions:ule,matrixIds:cle}),style:"default",crossOrigin:"anonymous"});return new Wp({source:c,properties:{"olcs.extent":Pk(),label:t,id:n}})}setLayerTime(e,t,i){const n=e.get(Ak).time_layers[i],s=t.getUrls();if(s){const r=this.transformUrls(s,n);t.setUrls(r),e.set(KT,n),e.set(Lk,n)}}transformUrls(e,t){return e.map(i=>i.replace(/[/][^/]*[/]{TileMatrixSet}/,`/${t}/{TileMatrixSet}`))}}const Yk=new dle;class hle{createOlLayer(e,t){const i=Hi(),{id:n,metadata:s,name:r}=e,l=t.get(n);if(!l)return;const c={container:i.getOlMap().getTarget(),...l},h=new OE({maplibreOptions:c,label:r,id:n,queryable_id:n,metadata:s}),f=Wl(),v=Oh();return h.getMapLibreMap().loaded()?f.setBaseStyle(n,h.getMapLibreMap().getStyle()):new Promise(b=>h.getMapLibreMap().once("data",b)).then(()=>f.setBaseStyle(n,h.getMapLibreMap().getStyle())),h.set(voe,v.getDefaultMapBoxStyleUrl(v.getVectorId(e))),h}}const _le=new hle;class QT extends v5{constructor(e){const t=e||{};let i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(i=t.interpolate);const n=t.params||{},s="TRANSPARENT"in n?n.TRANSPARENT:!0;super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:i,opaque:!s,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0,this.params_=n,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=t.hidpi!==void 0?t.hidpi:!0,this.tmpExtent_=Vo(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,i,n){const s=Di(i),r=this.getProjection();let l=this.getTileGrid();l||(l=this.getTileGridForProjection(s));const c=l.getZForResolution(t,this.zDirection),h=l.getTileCoordForCoordAndZ(e,c);if(l.getResolutions().length<=h[0])return;let f=l.getResolution(h[0]),v=l.getTileCoordExtent(h,this.tmpExtent_),b=ls(l.getTileSize(h[0]),this.tmpSize);const T=this.gutter_;T!==0&&(b=$L(b,T,this.tmpSize),v=dh(v,f*T,v)),r&&r!==s&&(f=S0(r,s,e,f),v=Q3(v,s,r),e=Ks(e,s,r));const M={SERVICE:"WMS",VERSION:Yd,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Ci(M,this.params_,n);const I=Math.floor((e[0]-v[0])/f),R=Math.floor((v[3]-e[1])/f);return M[this.v13_?"I":"X"]=I,M[this.v13_?"J":"Y"]=R,this.getRequestUrl_(h,b,v,1,r||s,M)}getLegendUrl(e,t){if(this.urls[0]===void 0)return;const i={SERVICE:"WMS",VERSION:Yd,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(t===void 0||t.LAYER===void 0){const n=this.params_.LAYERS;if(!(!Array.isArray(n)||n.length===1))return;i.LAYER=n}if(e!==void 0){const n=this.getProjection()?this.getProjection().getMetersPerUnit():1,s=28e-5;i.SCALE=e*n/s}return Ci(i,t),Sf(this.urls[0],i)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,i,n,s,r){const l=this.urls;if(!l)return;if(r.WIDTH=t[0],r.HEIGHT=t[1],r[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(r.STYLES=""),n!=1)switch(this.serverType_){case"geoserver":const v=90*n+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+v:r.FORMAT_OPTIONS="dpi:"+v;break;case"mapserver":r.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":r.DPI=90*n;break;default:Ka(!1,52);break}const c=s.getAxisOrientation(),h=i;if(this.v13_&&c.substr(0,2)=="ne"){let v;v=i[0],h[0]=i[1],h[1]=v,v=i[2],h[2]=i[3],h[3]=v}r.BBOX=h.join(",");let f;if(l.length==1)f=l[0];else{const v=Fc(Vk(e),l.length);f=l[v]}return Sf(f,r)}getTilePixelRatio(e){return!this.hidpi_||this.serverType_===void 0?1:e}getKeyForParams_(){let e=0;const t=[];for(const i in this.params_)t[e++]=i+"-"+this.params_[i];return t.join("/")}updateParams(e){Ci(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const e=this.params_.VERSION||Yd;this.v13_=L7(e,"1.3")>=0}tileUrlFunction(e,t,i){let n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(i)),n.getResolutions().length<=e[0])return;t!=1&&(!this.hidpi_||this.serverType_===void 0)&&(t=1);const s=n.getResolution(e[0]);let r=n.getTileCoordExtent(e,this.tmpExtent_),l=ls(n.getTileSize(e[0]),this.tmpSize);const c=this.gutter_;c!==0&&(l=$L(l,c,this.tmpSize),r=dh(r,s*c,r)),t!=1&&(l=sI(l,t,this.tmpSize));const h={SERVICE:"WMS",VERSION:Yd,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Ci(h,this.params_),this.getRequestUrl_(e,l,r,t,i,h)}}function mle(){const{initLayer:a}=qo(),{addLayers:e,setBgLayer:t}=on(),{findBgLayerByName:i}=zc();function n(r){if(r.layerType===F_.LAYER_OFFLINE_BG_VECTOR)return i(r.key);{const l=JSON.parse(r.layerSerialization),{id:c,label:h,opacity:f}=l;let v=r.layerType;return v===Gc.BG_WMTS&&(v=F_.LAYER_OFFLINE_BG_WMTS),{id:c,name:h,options:l,type:v,metadata:{start_opacity:f}}}}function s(r){if([F_.LAYER_OFFLINE_TILE,F_.LAYER_OFFLINE_BG_VECTOR].includes(r.layerType))try{const c=a(n(r));r.backgroundLayer?t(c):e(c)}catch{throw new Error("Invalid offline layer specification.")}}return{createOfflineLayer:s,offlineLayerToLayer:n}}let iC;function Tf(){const a=on(),e=mle(),{isOffLine:t}=Gt(fi()),{minZoom:i,maxZoom:n}=Gt(a),{removeAllLayers:s,setBgLayer:r}=a;function l(M){iC=M,console.warn("Deprecated: useOffline.initLocalforage_v3() is meant to be removed when v4 is fully operational")}function c(){return t.value}function h(M){t.value=M}function f(M){v(),b(M),T(M)}function v(){ooe(),s(),r(null)}function b(M){const{zooms:I}=M;i.value=I[0],n.value=I[I.length-1]}function T(M){[...M.layers].reverse().forEach(I=>e.createOfflineLayer(I))}return{localforage_v3:iC,isOffLine:t,initLocalforage_v3:l,getIsOffline:c,setIsOffline:h,doRestore:f}}class Kk{createOlLayer(e){const t=this.deserializeTileLayer(e.options);return new Wp(t)}createTileLoadFunction(){const e=Tf().localforage_v3;return(i,n)=>{const s=sae(n);e.getItem(s).then(r=>{i.getImage().src=r||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="}).catch(()=>i.setState(3))}}}class ple extends Kk{deserializeTileLayer(e){const t=JSON.parse(e.source);if(t.tileLoadFunction=this.createTileLoadFunction(),t.gutter=parseInt("96",10),t.tileGrid){const i=new jx(JSON.parse(t.tileGrid));t.tileGrid=i}return e.source=new QT(t),e}serializeTileLayer(){throw new Error("Method not implemented.")}}const fle=new ple;class gle extends Kk{deserializeTileLayer(e){const t=JSON.parse(e.source);if(t.tileLoadFunction=this.createTileLoadFunction(),t.tileGrid){const i=new b5(JSON.parse(t.tileGrid));t.tileGrid=i}return e.source=new T0(t),e}serializeTileLayer(){throw new Error("Method not implemented.")}}const yle=new gle;class vle{createOlLayer(e){let t;switch(this.getOfflineLayerSourceType(e)){case Gc.WMTS:t=yle.createOlLayer(e);break;case Gc.TILE_WMS:t=fle.createOlLayer(e);break;default:throw new Error(`Unrecognized offline layer type: ${e.type}`)}return t}getOfflineLayerSourceType(e){return e.options.sourceType}}const ble=new vle;function xle(){return new kr({image:wle})}const wle=new _l({radius:4,fill:new Yr({color:"white"}),stroke:new br({color:"white",width:1})}),Sle=1002,Tle="featurePositionLayer";class Ele extends hl{constructor(t){const i=new ed({features:[],useSpatialIndex:!1});super({...t,source:i});Sa(this,"geoMarker")}moveGeoMarker(t,i){var n,s,r;(n=this.geoMarker)!=null&&n.getGeometry()||this.createGeoMarker(),(r=(s=this.geoMarker)==null?void 0:s.getGeometry())==null||r.setCoordinates([t,i])}createGeoMarker(){var t,i;this.geoMarker=new Rr({geometry:new Xr([0,0])}),(t=this.getSource())==null||t.clear(),(i=this.getSource())==null||i.addFeature(this.geoMarker)}removeGeoMarker(){var t;(t=this.getSource())==null||t.clear(),this.geoMarker=void 0}}class Mle{createOlLayer(){const e=xle(),t=new Ele({declutter:!0,zIndex:Sle,style:e,updateWhileAnimating:!0,updateWhileInteracting:!0});return t.set("cyLayerType",Tle),t}}const Lle=new Mle;class Ale{createOlLayer(e,t){let i;if(t&&(i=_le.createOlLayer(e,t)),!i)switch(e.type){case"position":return this.createOlLayerFeaturePosition(e);case Gc.WMS:i=Fk.createOlLayer(e);break;case Gc.WMTS:case Gc.BG_WMTS:i=Yk.createOlLayer(e);break;case F_.LAYER_OFFLINE_TILE:case F_.LAYER_OFFLINE_BG_VECTOR:i=ble.createOlLayer(e);break;default:throw new Error(`Unrecognized layer type: ${e.type}`)}return this.setOlProps(e,i),i}createOlLayerFeaturePosition(e){const t=Lle.createOlLayer();return t.set(YT,e.id),t.set(KT,e.name),t}setOlProps(e,t){t.set(YT,e.id),t.set(KT,e.name),t.set(Lk,e.name),t.set(Ak,e.metadata),t.set(foe,e.id),t.set(goe,qo().getLayerCurrentTime(e)),t.set(yoe,e.time),t.setOpacity(e.opacity)}}const s4=new Ale;class Cle{setLayerTime(e,t){const i=e.getSource();i instanceof q2&&Fk.setLayerTime(i,t),i instanceof T0&&Yk.setLayerTime(e,i,t)}}const Ile=new Cle,Uv=-200;function x5(){function a(M,I){if(!I)return;const R=f(I);M.addLayer(R)}function e(M,I){if(!I)return;const R=s4.createOlLayer(I);return M.addLayer(R),R}function t(M,I){return M.getLayers().getArray().find(R=>R.get("id")===I)}function i(M,I){const R=t(M,I);R&&M.removeLayer(R)}function n(M,I){const R=M.getLayers().getArray();I.forEach((P,F)=>{const B=R.find(W=>W.get("id")===P.id);B==null||B.setZIndex(F+1)})}function s(M,I,R){const P=M.getLayers().getArray().find(F=>F.get("id")===I);P&&P.setOpacity(R)}function r(M,I){const R=qo(),P=t(M,I.id),F=R.getLayerCurrentTime(I);F&&P&&Ile.setLayerTime(P,F)}function l(M){Ap.delete(M)}function c(M){return Ap.has(M.id)}function h(M,I){Ap.set(M,I)}function f(M){const I=M.id,R=Ap.get(I);if(R)return R;{const P=s4.createOlLayer(M);return h(I,P),P}}function v(M){return M&&Ap.get(M.id)||null}function b(M,I){const P=M.getLayers().getArray().find(F=>F.getZIndex()===Uv);P&&I(P)}function T(M,I,R){var Z;const P=M.getLayers(),F=P.getArray().findIndex(ae=>ae.getZIndex()===Uv),B=(Z=P.getArray()[F])==null?void 0:Z.get("id");let W;I&&(c(I)?W=v(I):(W=s4.createOlLayer(I,R),h(I.id,W))),F>=0?W?(W.setZIndex(Uv),P.setAt(F,W)):P.removeAt(F):W&&(W.setZIndex(Uv),M.addLayer(W)),B&&B!==(I==null?void 0:I.id)&&Mk.restore(!0)}return{addLayer:a,addFeatureLayer:e,findLayer:t,removeLayer:i,removeFromCache:l,reorderLayers:n,setLayerOpacity:s,setLayerTime:r,getLayerFromCache:v,setBgLayer:T,applyOnBgLayer:b}}const $k=jo("profile-position",()=>{const a=$e(void 0),e=$e(void 0);function t(i,n){a.value=i,e.value=n}return{x:a,y:e,setPosition:t}},{}),Qk="lux-feat-position";let co;function Rle(a,e=!0){const t=x5(),i=$k(),n=$s(),{drawStateActive:s,editStateActive:r}=Gt(n),{x:l,y:c}=Gt(i),h=Li(a),f=Li(void 0),v=$e(!0),b=new cs([0,0],ti.XYM),T=$e(!0),M=DO(ae=>Z(ae),15);let I,R;jn(()=>{I=Hi().getOlMap(),P(),B()}),Os(()=>W()),Vt(()=>lW(e),ae=>{T.value=ae??!0,ae||co==null||co.removeGeoMarker()}),Vt(h,ae=>{ae&&F(ae)}),Vt([l,c],([ae,he])=>{T.value&&!s.value&&ae&&he&&v.value?co==null||co.moveGeoMarker(ae,he):co==null||co.removeGeoMarker()});function P(){if(co)return;const ae={id:Qk,type:"position"};co=t.addFeatureLayer(I,ae)}function F(ae){const he=ae==null?void 0:ae.map(_e=>{const ie=Ks([_e.x,_e.y],Hl,I.getView().getProjection());return new Xr(ie).getCoordinates().concat(_e.dist)});b.setCoordinates(he)}function B(){R===void 0&&(R=Ma(I,"pointermove",M))}function W(){R&&(rn(R),R=void 0,co==null||co.removeGeoMarker())}function Z(ae){if(ae.dragging||s.value||!T.value)return;let he,_e;const ie=I.getEventCoordinate(ae.originalEvent),me=b.getClosestPoint(ie),fe=me[0]-ie[0],be=me[1]-ie[1],Ae=fe*fe+be*be,Ye=I.getView().getResolution();Ae/(Ye*Ye)<64?(f.value=me[2],v.value=r.value!=="editLine",he=me[0],_e=me[1]):(f.value=-1,v.value=!0,he=void 0,_e=void 0),i.setPosition(he,_e)}return{profileData:h,highlightDistance:f}}const U2=function(a,e){let t=0,i=[];a.getType()==="Polygon"?i=a.getCoordinates()[0]:a.getType()==="LineString"&&(i=a.getCoordinates());for(let n=0,s=i.length-1;n<s;++n){const r=Ks(i[n],e,mf),l=Ks(i[n+1],e,mf);t+=Hb(r,l)}return t},Jk=function(a){return Math.abs(R7(a))},Ole=function(a,e){const t=V2(a,e);return 2*Math.PI*t},kle=function(a,e){return Math.PI*Math.pow(V2(a,e),2)},V2=function(a,e){const t=a.getLastCoordinate(),i=a.getCenter();return i!==null&&t!==null?U2(new cs([i,t]),e):0},eP=function(a,e,t){const i=a.getCenter(),n=t.getView().getProjection(),s=t.getView().getResolution()||0,r=J4(n,s,i),l=s/r;e=e/Gl.m*l,a.setRadius(e)};function tP(a){const e=a.getGeometry();return a.featureType==="drawnCircle"&&(e==null?void 0:e.getType())==="Circle"&&a.setGeometry(rI(e,64)),a}function Ple(a){const e=Hi().getOlMap(),t=a.getGeometry();if(a.featureType==="drawnCircle"&&(t==null?void 0:t.getType())==="Polygon"){const i=t.getExtent(),n=[(i[0]+i[2])/2,(i[1]+i[3])/2],s=t.getCoordinates()[0];let r=0;s.forEach(c=>{const h=Hb(cf(n),cf(c));h>r&&(r=h)});const l=new gI(n);eP(l,r,e),a.setGeometry(l)}return a}function Dle(a,e){const t=a.canvas,i=e||{},n=i.pixelRatio||tE,s=i.size;s&&(t.width=s[0]*n,t.height=s[1]*n,t.style.width=s[0]+"px",t.style.height=s[1]+"px");const r=[0,0,t.width,t.height],l=ub(Go(),n,n);return new MI(a,n,r,l,0)}function Vv(a,e){return Gn(a.inversePixelTransform,e.slice(0))}class w5{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,t){let i;if(t){let n=t.dataProjection?Di(t.dataProjection):this.readProjection(e);t.extent&&n&&n.getUnits()===Cu.TILE_PIXELS&&(n=Di(n),n.setWorldExtent(t.extent)),i={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(i)}adaptOptions(e){return Ci({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return _a()}readFeature(e,t){return _a()}readFeatures(e,t){return _a()}readGeometry(e,t){return _a()}readProjection(e){return _a()}writeFeature(e,t){return _a()}writeFeatures(e,t){return _a()}writeGeometry(e,t){return _a()}}function Kl(a,e,t){const i=t?Di(t.featureProjection):null,n=t?Di(t.dataProjection):null;let s;if(i&&n&&!Rc(i,n)?s=(e?a.clone():a).transform(e?i:n,e?n:i):s=a,e&&t&&t.decimals!==void 0){const r=Math.pow(10,t.decimals),l=function(c){for(let h=0,f=c.length;h<f;++h)c[h]=Math.round(c[h]*r)/r;return c};s===a&&(s=a.clone()),s.applyTransform(l)}return s}class Fle extends w5{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(jv(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(jv(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return _a()}readFeaturesFromObject(e,t){return _a()}readGeometry(e,t){return this.readGeometryFromObject(jv(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return _a()}readProjection(e){return this.readProjectionFromObject(jv(e))}readProjectionFromObject(e){return _a()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return _a()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return _a()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return _a()}}function jv(a){if(typeof a=="string"){const e=JSON.parse(a);return e||null}else return a!==null?a:null}const Nle=Fle;class dm extends Nle{constructor(e){const t=e||{};super(),this.dataProjection=Di(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=Di(t.featureProjection)),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const n=JT(i.geometry,t),s=new Rr;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&s.setGeometryName(i.geometry_name),s.setGeometry(n),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s}readFeaturesFromObject(e,t){const i=e;let n=null;if(i.type==="FeatureCollection"){const s=e;n=[];const r=s.features;for(let l=0,c=r.length;l<c;++l)n.push(this.readFeatureFromObject(r[l],t))}else n=[this.readFeatureFromObject(e,t)];return n}readGeometryFromObject(e,t){return JT(e,t)}readProjectionFromObject(e){const t=e.crs;let i;return t?t.type=="name"?i=Di(t.properties.name):t.type==="EPSG"?i=Di("EPSG:"+t.properties.code):Ka(!1,36):i=this.dataProjection,i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},n=e.getId();if(n!==void 0&&(i.id=n),!e.hasProperties())return i;const s=e.getProperties(),r=e.getGeometry();return r&&(i.geometry=e3(r,t),delete s[e.getGeometryName()]),of(s)||(i.properties=s),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let n=0,s=e.length;n<s;++n)i.push(this.writeFeatureObject(e[n],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return e3(e,this.adaptOptions(t))}}function JT(a,e){if(!a)return null;let t;switch(a.type){case"Point":{t=zle(a);break}case"LineString":{t=Ble(a);break}case"Polygon":{t=Vle(a);break}case"MultiPoint":{t=qle(a);break}case"MultiLineString":{t=Gle(a);break}case"MultiPolygon":{t=Ule(a);break}case"GeometryCollection":{t=Wle(a);break}default:throw new Error("Unsupported GeoJSON type: "+a.type)}return Kl(t,!1,e)}function Wle(a,e){const t=a.geometries.map(function(i){return JT(i,e)});return new lh(t)}function zle(a){return new Xr(a.coordinates)}function Ble(a){return new cs(a.coordinates)}function Gle(a){return new sm(a.coordinates)}function qle(a){return new Y_(a.coordinates)}function Ule(a){return new Rx(a.coordinates)}function Vle(a){return new Vc(a.coordinates)}function e3(a,e){a=Kl(a,!0,e);const t=a.getType();let i;switch(t){case"Point":{i=Kle(a);break}case"LineString":{i=Hle(a);break}case"Polygon":{i=$le(a,e);break}case"MultiPoint":{i=Xle(a);break}case"MultiLineString":{i=Zle(a);break}case"MultiPolygon":{i=Yle(a,e);break}case"GeometryCollection":{i=jle(a,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function jle(a,e){return{type:"GeometryCollection",geometries:a.getGeometriesArray().map(function(i){const n=Ci({},e);return delete n.featureProjection,e3(i,n)})}}function Hle(a,e){return{type:"LineString",coordinates:a.getCoordinates()}}function Zle(a,e){return{type:"MultiLineString",coordinates:a.getCoordinates()}}function Xle(a,e){return{type:"MultiPoint",coordinates:a.getCoordinates()}}function Yle(a,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:a.getCoordinates(t)}}function Kle(a,e){return{type:"Point",coordinates:a.getCoordinates()}}function $le(a,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:a.getCoordinates(t)}}const Qle="same-origin";async function Gf(a,e,t="GET",i){const n={},s={method:t,credentials:Qle,headers:n};let r=a;if(t==="GET"){const c=new URLSearchParams(e);r=`${a}?${c.toString()}`}else e instanceof FormData?s.body=e:i==="application/json"?(n["Content-Type"]="application/json",s.body=JSON.stringify(e)):(n["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",s.body=new URLSearchParams(e));const l=await fetch(r,s);if(!l.ok)throw new Error("Error while trying to call api");return l}const Jle="https://migration.geoportail.lu/profile.json";async function eue(a,e,t="dhm",i=100){const n={geom:a,nbPoints:i+"",layers:t,id:e+""},s=await Gf(Jle,n,"POST");if(!s.ok)throw new Error("Error while trying to get profile");return await s.json()}function tue(a,e=1){if(!/^#[0-9A-Fa-f]{6}$/.test(a))throw new Error(`Invalid hex color string: ${a}`);const i=parseInt(a.slice(1,3),16),n=parseInt(a.slice(3,5),16),s=parseInt(a.slice(5,7),16);return[i,n,s,e]}function aP(a){const[e,t,i]=a;if(e!==(e&255)||t!==(t&255)||i!==(i&255))throw Error(`"(${e},${t},${i})" is not a valid RGB color`);const n=o4(e.toString(16)),s=o4(t.toString(16)),r=o4(i.toString(16));return`#${n}${s}${r}`}function o4(a){return a.length===1?`0${a}`:a}const aue="https://migration.geoportail.lu/mymaps",iue="https://migration.geoportail.lu/mymaps/symbol",nue=aue+"/getarrow";class j0 extends Rr{constructor(t){var e=(...args)=>{super(...args);Sa(this,"id");Sa(this,"label");Sa(this,"description");Sa(this,"display_order");Sa(this,"editable");Sa(this,"selected");Sa(this,"map_id");Sa(this,"saving");Sa(this,"featureType");Sa(this,"_featureStyle");Sa(this,"map",Hi().getOlMap());Sa(this,"profileData")};t?(e(t.getGeometry()),this.label=t.label,this.featureType=t.featureType,this.map_id=t.map_id,this.description=t.description,this.display_order=t.display_order,this.editable=t.editable,this.selected=t.selected,this._featureStyle=t.featureStyle,this.id=t.id,this.saving=t.saving,this.setProperties(t.getProperties())):e()}get featureStyle(){return this._featureStyle}set featureStyle(t){this._featureStyle=t,this.changed()}fit(){var n;const t=this.map.getSize(),i=(n=this.getGeometry())==null?void 0:n.getExtent();this.map.getView().fit(i,{size:t})}async getProfile(){const t=this.getGeometry();if(!((t==null?void 0:t.getType())!=="LineString"&&(t==null?void 0:t.getType())!=="MultiLineString")){if(this.profileData===void 0){const i={dataProjection:Hl,featureProjection:G_},n=new dm().writeGeometry(this.getGeometry(),i),s=await eue(n,this.id);let r=0,l=0,c=0,h;this.profileData=s.profile.map(f=>{const v={...f,cumulativeElevation:0,elevationGain:0,elevationLoss:0},b=v.values.dhm;if(h!==void 0){const T=b-h;c=c+T,T>0?r=r+T:l=l+T}return v.cumulativeElevation=c,v.elevationGain=r,v.elevationLoss=l,h=b,v})}return this.profileData}}toProperties(){return{angle:this.featureStyle.angle,color:this.featureStyle.color,description:this.description,stroke:this.featureStyle.stroke,isLabel:this.featureType==="drawnLabel",linestyle:this.featureStyle.linestyle,name:this.label,opacity:this.featureStyle.opacity,showOrientation:this.featureStyle.showOrientation,shape:this.featureStyle.shape,size:this.featureStyle.size,isCircle:this.featureType==="drawnCircle",symbolId:this.featureStyle.symbolId,symboltype:this.featureStyle.symboltype}}getStyleFunction(){const t=[],i=new kr({image:new Oc({radius:6,points:4,angle:Math.PI/4,fill:new Yr({color:[255,255,255,.5]}),stroke:new br({color:[0,0,0,1]})}),geometry:function(l){const c=l.getGeometry();let h;return c instanceof cs?(h=c.getCoordinates(),new Y_(h)):c instanceof Vc?(h=c.getCoordinates()[0],new Y_(h)):c}}),n=new Yr,s=nue,r=this.map;return function(l,c){var W,Z;c===void 0&&(c=l,l=this),t.length=0,l.editable&&l.selected&&t.push(i);let h=l.display_order;h===void 0&&(h=0);const f=l.featureStyle.color||"#FF0000",v=tue(f,1);let b=l.featureStyle.opacity;b===void 0&&(b=1);const T=v.slice();if(T[3]=b,n.setColor(T),((W=l.getGeometry())==null?void 0:W.getType())==="LineString"&&l.featureStyle.showOrientation){let ae,he,_e=l.featureStyle.arrowcolor;_e==null&&(_e=f),(Z=l.getGeometry())==null||Z.forEachSegment(function(ie,me){const fe=new Xr([(ie[0]+me[0])/2,(ie[1]+me[1])/2]),be=me[0]-ie[0],Ae=me[1]-ie[1];if(ae!=null){const Ye=r.getPixelFromCoordinate(fe.getCoordinates()),Xe=r.getPixelFromCoordinate(ae.getCoordinates()),Re=Xe[0]-Ye[0],Oe=Xe[1]-Ye[1];he=Math.sqrt(Re*Re+Oe*Oe)}if(!ae||he>600){const Ye=s,Xe=Math.PI/2-Math.atan2(Ae,be);t.push(new kr({geometry:fe,zIndex:h,image:new Ul({color:_e,rotation:Xe,src:Ye})})),ae=fe}})}let M;if(l.featureStyle.linestyle)switch(l.featureStyle.linestyle){case"dashed":M=[10,10];break;case"dotted":M=[1,6];break}let I,R=l.featureStyle.stroke;R>0&&(!l.editable&&l.selected&&(R=R+3),I=new br({color:v,width:R,lineDash:M}));let P=l.featureStyle.size;!l.editable&&l.selected&&(P=P+3);const F={fill:n,stroke:new br({color:v,width:P/7}),radius:P};let B=null;if(l.featureStyle.symbolId){const ae={...F,src:iue+"/"+l.featureStyle.symbolId+"?scale="+P,scale:1,rotation:l.featureStyle.angle};B=new Ul(ae)}else{const ae=l.featureStyle.shape;ae==="circle"?B=new _l(F):ae==="square"?(Object.assign(F,{points:4,angle:Math.PI/4,rotation:l.featureStyle.angle}),B=new Oc(F)):ae==="triangle"?(Object.assign(F,{points:3,angle:0,rotation:l.featureStyle.angle}),B=new Oc(F)):ae==="star"?(Object.assign(F,{points:5,angle:Math.PI/4,rotation:l.featureStyle.angle,radius2:P}),B=new Oc(F)):ae==="cross"&&(Object.assign(F,{points:4,angle:0,rotation:l.featureStyle.angle,radius2:0}),B=new Oc(F))}return l.featureType==="drawnLabel"?[new kr({text:new Of({text:l.label,textAlign:"left",font:"normal "+P+"px Sans-serif",rotation:l.featureStyle.angle,fill:new Yr({color:v}),stroke:new br({color:[255,255,255],width:2})})})]:(B&&t.push(new kr({image:B,fill:n,stroke:I,zIndex:h})),t)}}}class Hx{constructor(e){Sa(this,"encodeOptions");this.encodeOptions={dataProjection:mf,featureProjection:e.getView().getProjection()}}download(e,t,i="txt",n="text/plain"){const s=`${CA(e)}.${CA(i)}`;uae(s,t,n)}exploseFeatures(e){const t=[];return(Array.isArray(e)?e:[e]).forEach(i=>{var n;switch((n=i.getGeometry())==null?void 0:n.getType()){case"GeometryCollection":{i.getGeometry().getGeometriesArray().forEach(r=>t.push(this.cloneFeatureWithGeom(i,r)));break}case"MultiLineString":{i.getGeometry().getLineStrings().forEach(r=>t.push(this.cloneFeatureWithGeom(i,r)));break}case"Circle":{const s=new j0(i);t.push(tP(s));break}default:t.push(i);break}}),t}cloneFeatureWithGeom(e,t){const i=e.clone();return i.setGeometry(t),i}}class rue extends w5{constructor(){super(),this.xmlSerializer_=Ree()}getType(){return"xml"}readFeature(e,t){if(e)if(typeof e=="string"){const i=Xd(e);return this.readFeatureFromDocument(i,t)}else return Zd(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t);else return null}readFeatureFromDocument(e,t){const i=this.readFeaturesFromDocument(e,t);return i.length>0?i[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(e)if(typeof e=="string"){const i=Xd(e);return this.readFeaturesFromDocument(i,t)}else return Zd(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t);else return[]}readFeaturesFromDocument(e,t){const i=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&xn(i,this.readFeaturesFromNode(n,t));return i}readFeaturesFromNode(e,t){return _a()}readGeometry(e,t){if(e)if(typeof e=="string"){const i=Xd(e);return this.readGeometryFromDocument(i,t)}else return Zd(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t);else return null}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(e)if(typeof e=="string"){const t=Xd(e);return this.readProjectionFromDocument(t)}else return Zd(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e);else return null}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){const i=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(i)}writeFeatureNode(e,t){return null}writeFeatures(e,t){const i=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(i)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){const i=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(i)}writeGeometryNode(e,t){return null}}const iP=rue,Tr=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],sue="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",oue={rte:nP,trk:rP,wpt:sP},lue=pt(Tr,{rte:fo(nP),trk:fo(rP),wpt:fo(sP)}),uue=pt(Tr,{text:je(aa,"linkText"),type:je(aa,"linkType")}),cue=pt(Tr,{rte:Lt(Pue),trk:Lt(Due),wpt:Lt(Nue)});let due=class extends iP{constructor(e){super();const t=e||{};this.dataProjection=Di("EPSG:4326"),this.readExtensions_=t.readExtensions}handleReadExtensions_(e){e||(e=[]);for(let t=0,i=e.length;t<i;++t){const n=e[t];if(this.readExtensions_){const s=n.get("extensionsNode_")||null;this.readExtensions_(n,s)}n.set("extensionsNode_",void 0)}}readFeatureFromNode(e,t){if(!ss(Tr,e.namespaceURI))return null;const i=oue[e.localName];if(!i)return null;const n=i(e,[this.getReadOptions(e,t)]);return n?(this.handleReadExtensions_([n]),n):null}readFeaturesFromNode(e,t){if(!ss(Tr,e.namespaceURI))return[];if(e.localName=="gpx"){const i=va([],lue,e,[this.getReadOptions(e,t)]);return i?(this.handleReadExtensions_(i),i):[]}return[]}writeFeaturesNode(e,t){t=this.adaptOptions(t);const i=Xc("http://www.topografix.com/GPX/1/1","gpx"),n="http://www.w3.org/2000/xmlns/";return i.setAttributeNS(n,"xmlns:xsi",S2),i.setAttributeNS(S2,"xsi:schemaLocation",sue),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),pn({node:i},cue,Iue,e,[t]),i}};const hue=pt(Tr,{name:je(aa),cmt:je(aa),desc:je(aa),src:je(aa),link:E5,number:je(sl),extensions:M5,type:je(aa),rtept:Rue}),_ue=pt(Tr,{ele:je(mn),time:je(n5)}),mue=pt(Tr,{name:je(aa),cmt:je(aa),desc:je(aa),src:je(aa),link:E5,number:je(sl),type:je(aa),extensions:M5,trkseg:kue}),pue=pt(Tr,{trkpt:Oue}),fue=pt(Tr,{ele:je(mn),time:je(n5)}),gue=pt(Tr,{ele:je(mn),time:je(n5),magvar:je(mn),geoidheight:je(mn),name:je(aa),cmt:je(aa),desc:je(aa),src:je(aa),link:E5,sym:je(aa),type:je(aa),fix:je(aa),sat:je(sl),hdop:je(mn),vdop:je(mn),pdop:je(mn),ageofdgpsdata:je(mn),dgpsid:je(sl),extensions:M5}),yue=["text","type"],vue=pt(Tr,{text:Lt(Bi),type:Lt(Bi)}),bue=pt(Tr,["name","cmt","desc","src","link","number","type","rtept"]),xue=pt(Tr,{name:Lt(Bi),cmt:Lt(Bi),desc:Lt(Bi),src:Lt(Bi),link:Lt(L5),number:Lt(T2),type:Lt(Bi),rtept:EO(Lt(A5))}),wue=pt(Tr,["ele","time"]),Sue=pt(Tr,["name","cmt","desc","src","link","number","type","trkseg"]),Tue=pt(Tr,{name:Lt(Bi),cmt:Lt(Bi),desc:Lt(Bi),src:Lt(Bi),link:Lt(L5),number:Lt(T2),type:Lt(Bi),trkseg:EO(Lt(Fue))}),Eue=Xl("trkpt"),Mue=pt(Tr,{trkpt:Lt(A5)}),Lue=pt(Tr,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),Aue=pt(Tr,{ele:Lt(mo),time:Lt(Wee),magvar:Lt(mo),geoidheight:Lt(mo),name:Lt(Bi),cmt:Lt(Bi),desc:Lt(Bi),src:Lt(Bi),link:Lt(L5),sym:Lt(Bi),type:Lt(Bi),fix:Lt(Bi),sat:Lt(T2),hdop:Lt(mo),vdop:Lt(mo),pdop:Lt(mo),ageofdgpsdata:Lt(mo),dgpsid:Lt(T2)}),Cue={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Iue(a,e,t){const i=a.getGeometry();if(i){const n=Cue[i.getType()];if(n){const s=e[e.length-1].node;return Xc(s.namespaceURI,n)}}}function S5(a,e,t,i){return a.push(parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))),"ele"in i?(a.push(i.ele),delete i.ele,e.hasZ=!0):a.push(0),"time"in i?(a.push(i.time),delete i.time,e.hasM=!0):a.push(0),a}function T5(a,e,t){let i=ti.XY,n=2;if(a.hasZ&&a.hasM?(i=ti.XYZM,n=4):a.hasZ?(i=ti.XYZ,n=3):a.hasM&&(i=ti.XYM,n=3),n!==4){for(let s=0,r=e.length/4;s<r;s++)e[s*n]=e[s*4],e[s*n+1]=e[s*4+1],a.hasZ&&(e[s*n+2]=e[s*4+2]),a.hasM&&(e[s*n+2]=e[s*4+3]);if(e.length=e.length/4*n,t)for(let s=0,r=t.length;s<r;s++)t[s]=t[s]/4*n}return i}function E5(a,e){const t=e[e.length-1],i=a.getAttribute("href");i!==null&&(t.link=i),Rh(uue,a,e)}function M5(a,e){const t=e[e.length-1];t.extensionsNode_=a}function Rue(a,e){const t=va({},_ue,a,e);if(t){const i=e[e.length-1],n=i.flatCoordinates,s=i.layoutOptions;S5(n,s,a,t)}}function Oue(a,e){const t=va({},fue,a,e);if(t){const i=e[e.length-1],n=i.flatCoordinates,s=i.layoutOptions;S5(n,s,a,t)}}function kue(a,e){const t=e[e.length-1];Rh(pue,a,e);const i=t.flatCoordinates;t.ends.push(i.length)}function nP(a,e){const t=e[0],i=va({flatCoordinates:[],layoutOptions:{}},hue,a,e);if(!i)return;const n=i.flatCoordinates;delete i.flatCoordinates;const s=i.layoutOptions;delete i.layoutOptions;const r=T5(s,n),l=new cs(n,r);Kl(l,!1,t);const c=new Rr(l);return c.setProperties(i,!0),c}function rP(a,e){const t=e[0],i=va({flatCoordinates:[],ends:[],layoutOptions:{}},mue,a,e);if(!i)return;const n=i.flatCoordinates;delete i.flatCoordinates;const s=i.ends;delete i.ends;const r=i.layoutOptions;delete i.layoutOptions;const l=T5(r,n,s),c=new sm(n,l,s);Kl(c,!1,t);const h=new Rr(c);return h.setProperties(i,!0),h}function sP(a,e){const t=e[0],i=va({},gue,a,e);if(!i)return;const n={},s=S5([],n,a,i),r=T5(n,s),l=new Xr(s,r);Kl(l,!1,t);const c=new Rr(l);return c.setProperties(i,!0),c}function L5(a,e,t){a.setAttribute("href",e);const n=t[t.length-1].properties,s=[n.linkText,n.linkType];pn({node:a},vue,Rs,s,t,yue)}function A5(a,e,t){const i=t[t.length-1],s=i.node.namespaceURI,r=i.properties;switch(a.setAttributeNS(null,"lat",String(e[1])),a.setAttributeNS(null,"lon",String(e[0])),i.geometryLayout){case ti.XYZM:e[3]!==0&&(r.time=e[3]);case ti.XYZ:e[2]!==0&&(r.ele=e[2]);break;case ti.XYM:e[2]!==0&&(r.time=e[2]);break}const c=a.nodeName=="rtept"?wue[s]:Lue[s],h=bo(r,c);pn({node:a,properties:r},Aue,Rs,h,t,c)}function Pue(a,e,t){const i=t[0],n=e.getProperties(),s={node:a};s.properties=n;const r=e.getGeometry();if(r.getType()=="LineString"){const f=Kl(r,!0,i);s.geometryLayout=f.getLayout(),n.rtept=f.getCoordinates()}const l=t[t.length-1].node,c=bue[l.namespaceURI],h=bo(n,c);pn(s,xue,Rs,h,t,c)}function Due(a,e,t){const i=t[0],n=e.getProperties(),s={node:a};s.properties=n;const r=e.getGeometry();if(r.getType()=="MultiLineString"){const f=Kl(r,!0,i);n.trkseg=f.getLineStrings()}const l=t[t.length-1].node,c=Sue[l.namespaceURI],h=bo(n,c);pn(s,Tue,Rs,h,t,c)}function Fue(a,e,t){const i={node:a};i.geometryLayout=e.getLayout(),i.properties={},pn(i,Mue,Eue,e.getCoordinates(),t)}function Nue(a,e,t){const i=t[0],n=t[t.length-1];n.properties=e.getProperties();const s=e.getGeometry();if(s.getType()=="Point"){const r=Kl(s,!0,i);n.geometryLayout=r.getLayout(),A5(a,r.getCoordinates(),t)}}const Wue=due;class zue extends Wue{writeFeaturesNode(e,t){const i=super.writeFeaturesNode(e,t);if("metadata"in t&&"name"in t.metadata){const n="http://www.topografix.com/GPX/1/1",s=Xc(n,"metadata"),r=Xc(n,"name");Bi(r,t.metadata.name),s.appendChild(r),i.childNodes.length>0?i.insertBefore(s,i.childNodes[0]):i.appendChild(s)}return i}}class Bue extends Hx{export(e,t,i=!1){const n=this.prepareFeatures(e,i),s=this.generateContent(n,t);this.download(t,s,"gpx","application/gpx")}prepareFeatures(e,t=!1){e.forEach(n=>{const s=n.getProperties();"feature_name"in s&&n.set("name",s.feature_name,!0)});let i=this.exploseFeatures(e);return t?i=this.changeLineToMultiline(i):i=this.changeMultilineToLine(i),i=this.changePolygonToLine(i),i}generateContent(e,t){return new zue().writeFeatures(this.orderFeaturesForGpx(e),{...this.encodeOptions,metadata:{name:t}})}changePolygonToLine(e){return e.map(t=>{var n;const i=t.getGeometry();if((i==null?void 0:i.getType())==="Polygon"){const r=((n=t.getGeometry().getLinearRing(0))==null?void 0:n.getCoordinates())||[],l=new cs(r);return this.cloneFeatureWithGeom(t,l)}return t})}changeMultilineToLine(e){return e.reduce((t,i)=>{const n=i.getGeometry();return(n==null?void 0:n.getType())==="MultiLineString"?n.getLineStrings().forEach(r=>t.push(this.cloneFeatureWithGeom(i,r))):t.push(i),t},[])}changeLineToMultiline(e){return e.map(t=>{const i=t.getGeometry();return(i==null?void 0:i.getType())==="LineString"?this.cloneFeatureWithGeom(t,new sm([i.getCoordinates()])):t})}orderFeaturesForGpx(e){const t=[],i=[],n=[];return e.forEach(s=>{var l;switch((l=s.getGeometry())==null?void 0:l.getType()){case"Point":t.push(s);break;case"LineString":i.push(s);break;default:n.push(s);break}}),[...t,...i,...n]}}const ad=["http://www.google.com/kml/ext/2.2"],fa=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Gue="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",nC={fraction:Vs.FRACTION,pixels:Vs.PIXELS,insetPixels:Vs.PIXELS},que=pt(fa,{ExtendedData:xP,Region:wP,MultiGeometry:je(yP,"geometry"),LineString:je(fP,"geometry"),LinearRing:je(gP,"geometry"),Point:je(vP,"geometry"),Polygon:je(bP,"geometry"),Style:je(R5),StyleMap:Tce,address:je(aa),description:je(aa),name:je(aa),open:je(fh),phoneNumber:je(aa),styleUrl:je(dP),visibility:je(fh)},pt(ad,{MultiTrack:je(dce,"geometry"),Track:je(pP,"geometry")})),Uue=pt(fa,{ExtendedData:xP,Region:wP,Link:Fce,address:je(aa),description:je(aa),name:je(aa),open:je(fh),phoneNumber:je(aa),visibility:je(fh)}),Vue=pt(fa,{href:je(cP)}),oP=pt(fa,{LatLonAltBox:Cce,Lod:Rce}),jue=pt(fa,["Document","Placemark"]),Hue=pt(fa,{Document:Lt(Vce),Placemark:Lt(EP)});let tf,xb=null,t3,Dy,Fy,Ny,j2,a3=null,C5,i3=null,n3,N_=null,rC=null,r3=null;function H2(a){return 32/Math.min(a[0],a[1])}function Zue(){tf=[255,255,255,1],xb=new Yr({color:tf}),t3=[20,2],Dy=Vs.PIXELS,Fy=Vs.PIXELS,Ny=[64,64],j2="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",a3=new Ul({anchor:t3,anchorOrigin:Cr.BOTTOM_LEFT,anchorXUnits:Dy,anchorYUnits:Fy,crossOrigin:"anonymous",rotation:0,scale:H2(Ny),size:Ny,src:j2}),C5="NO_IMAGE",i3=new br({color:tf,width:1}),n3=new br({color:[51,51,51,1],width:2}),N_=new Of({font:"bold 16px Helvetica",fill:xb,stroke:n3,scale:.8}),rC=new kr({fill:xb,image:a3,text:N_,stroke:i3,zIndex:0}),r3=[rC]}let Hv;function Xue(a){return a}class Yue extends iP{constructor(e){super();const t=e||{};r3||Zue(),this.dataProjection=Di("EPSG:4326"),this.defaultStyle_=t.defaultStyle?t.defaultStyle:r3,this.extractStyles_=t.extractStyles!==void 0?t.extractStyles:!0,this.writeStyles_=t.writeStyles!==void 0?t.writeStyles:!0,this.sharedStyles_={},this.showPointNames_=t.showPointNames!==void 0?t.showPointNames:!0,this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",this.iconUrlFunction_=t.iconUrlFunction?t.iconUrlFunction:Xue,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(e,t){const i=pt(fa,{Document:bA(this.readDocumentOrFolder_,this),Folder:bA(this.readDocumentOrFolder_,this),Placemark:fo(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),n=va([],i,e,t,this);if(n)return n}readPlacemark_(e,t){const i=va({geometry:null},que,e,t,this);if(!i)return;const n=new Rr,s=e.getAttribute("id");s!==null&&n.setId(s);const r=t[0],l=i.geometry;if(l&&Kl(l,!1,r),n.setGeometry(l),delete i.geometry,this.extractStyles_){const c=i.Style,h=i.styleUrl,f=$ue(c,h,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);n.setStyle(f)}return delete i.Style,n.setProperties(i,!0),n}readSharedStyle_(e,t){const i=e.getAttribute("id");if(i!==null){const n=R5.call(this,e,t);if(n){let s,r=e.baseURI;(!r||r=="about:blank")&&(r=window.location.href),r?s=new URL("#"+i,r).href:s="#"+i,this.sharedStyles_[s]=n}}}readSharedStyleMap_(e,t){const i=e.getAttribute("id");if(i===null)return;const n=_P.call(this,e,t);if(!n)return;let s,r=e.baseURI;(!r||r=="about:blank")&&(r=window.location.href),r?s=new URL("#"+i,r).href:s="#"+i,this.sharedStyles_[s]=n}readFeatureFromNode(e,t){if(!ss(fa,e.namespaceURI))return null;const i=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return i||null}readFeaturesFromNode(e,t){if(!ss(fa,e.namespaceURI))return[];let i;const n=e.localName;if(n=="Document"||n=="Folder")return i=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]),i||[];if(n=="Placemark"){const s=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return s?[s]:[]}else if(n=="kml"){i=[];for(let s=e.firstElementChild;s;s=s.nextElementSibling){const r=this.readFeaturesFromNode(s,t);r&&xn(i,r)}return i}else return[]}readName(e){if(e)if(typeof e=="string"){const t=Xd(e);return this.readNameFromDocument(t)}else return Zd(e)?this.readNameFromDocument(e):this.readNameFromNode(e);else return}readNameFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){const i=this.readNameFromNode(t);if(i)return i}}readNameFromNode(e){for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(ss(fa,t.namespaceURI)&&t.localName=="name")return aa(t);for(let t=e.firstElementChild;t;t=t.nextElementSibling){const i=t.localName;if(ss(fa,t.namespaceURI)&&(i=="Document"||i=="Folder"||i=="Placemark"||i=="kml")){const n=this.readNameFromNode(t);if(n)return n}}}readNetworkLinks(e){const t=[];if(typeof e=="string"){const i=Xd(e);xn(t,this.readNetworkLinksFromDocument(i))}else Zd(e)?xn(t,this.readNetworkLinksFromDocument(e)):xn(t,this.readNetworkLinksFromNode(e));return t}readNetworkLinksFromDocument(e){const t=[];for(let i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&xn(t,this.readNetworkLinksFromNode(i));return t}readNetworkLinksFromNode(e){const t=[];for(let i=e.firstElementChild;i;i=i.nextElementSibling)if(ss(fa,i.namespaceURI)&&i.localName=="NetworkLink"){const n=va({},Uue,i,[]);t.push(n)}for(let i=e.firstElementChild;i;i=i.nextElementSibling){const n=i.localName;ss(fa,i.namespaceURI)&&(n=="Document"||n=="Folder"||n=="kml")&&xn(t,this.readNetworkLinksFromNode(i))}return t}readRegion(e){const t=[];if(typeof e=="string"){const i=Xd(e);xn(t,this.readRegionFromDocument(i))}else Zd(e)?xn(t,this.readRegionFromDocument(e)):xn(t,this.readRegionFromNode(e));return t}readRegionFromDocument(e){const t=[];for(let i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&xn(t,this.readRegionFromNode(i));return t}readRegionFromNode(e){const t=[];for(let i=e.firstElementChild;i;i=i.nextElementSibling)if(ss(fa,i.namespaceURI)&&i.localName=="Region"){const n=va({},oP,i,[]);t.push(n)}for(let i=e.firstElementChild;i;i=i.nextElementSibling){const n=i.localName;ss(fa,i.namespaceURI)&&(n=="Document"||n=="Folder"||n=="kml")&&xn(t,this.readRegionFromNode(i))}return t}writeFeaturesNode(e,t){t=this.adaptOptions(t);const i=Xc(fa[4],"kml"),n="http://www.w3.org/2000/xmlns/";i.setAttributeNS(n,"xmlns:gx",ad[0]),i.setAttributeNS(n,"xmlns:xsi",S2),i.setAttributeNS(S2,"xsi:schemaLocation",Gue);const s={node:i},r={};e.length>1?r.Document=e:e.length==1&&(r.Placemark=e[0]);const l=jue[i.namespaceURI],c=bo(r,l);return pn(s,Hue,Rs,c,[t],l,this),i}}function Kue(a,e){const t=[0,0];let i="start";const n=a.getImage();if(n){const l=n.getSize();if(l&&l.length==2){const c=n.getScaleArray(),h=n.getAnchor();t[0]=c[0]*(l[0]-h[0]),t[1]=c[1]*(l[1]/2-h[1]),i="left"}}let s=a.getText();return s?(s=s.clone(),s.setFont(s.getFont()||N_.getFont()),s.setScale(s.getScale()||N_.getScale()),s.setFill(s.getFill()||N_.getFill()),s.setStroke(s.getStroke()||n3)):s=N_.clone(),s.setText(e),s.setOffsetX(t[0]),s.setOffsetY(t[1]),s.setTextAlign(i),new kr({image:n,text:s})}function $ue(a,e,t,i,n){return function(s,r){let l=n,c="",h=[];if(l){const v=s.getGeometry();if(v)if(v instanceof lh)h=v.getGeometriesArrayRecursive().filter(function(b){const T=b.getType();return T==="Point"||T==="MultiPoint"}),l=h.length>0;else{const b=v.getType();l=b==="Point"||b==="MultiPoint"}}l&&(c=s.get("name"),l=l&&!!c,l&&c.search(/&[^&]+;/)>-1&&(Hv||(Hv=document.createElement("textarea")),Hv.innerHTML=c,c=Hv.value));let f=t;if(a?f=a:e&&(f=lP(e,t,i)),l){const v=Kue(f[0],c);if(h.length>0){v.setGeometry(new lh(h));const b=new kr({geometry:f[0].getGeometry(),image:null,fill:f[0].getFill(),stroke:f[0].getStroke(),text:null});return[v,b].concat(f.slice(1))}return v}return f}}function lP(a,e,t){return Array.isArray(a)?a:typeof a=="string"?lP(t[a],e,t):e}function Zx(a){const e=Zl(a,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(t){const i=t[1];return[parseInt(i.substr(6,2),16),parseInt(i.substr(4,2),16),parseInt(i.substr(2,2),16),parseInt(i.substr(0,2),16)/255]}else return}function uP(a){let e=Zl(a,!1);const t=[];e=e.replace(/\s*,\s*/g,",");const i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;let n;for(;n=i.exec(e);){const s=parseFloat(n[1]),r=parseFloat(n[2]),l=n[3]?parseFloat(n[3]):0;t.push(s,r,l),e=e.substr(n[0].length)}if(e==="")return t}function cP(a){const e=Zl(a,!1).trim();let t=a.baseURI;return(!t||t=="about:blank")&&(t=window.location.href),t?new URL(e,t).href:e}function dP(a){const e=Zl(a,!1).trim().replace(/^(?!.*#)/,"#");let t=a.baseURI;return(!t||t=="about:blank")&&(t=window.location.href),t?new URL(e,t).href:e}function Que(a){const e=a.getAttribute("xunits"),t=a.getAttribute("yunits");let i;return e!=="insetPixels"?t!=="insetPixels"?i=Cr.BOTTOM_LEFT:i=Cr.TOP_LEFT:t!=="insetPixels"?i=Cr.BOTTOM_RIGHT:i=Cr.TOP_RIGHT,{x:parseFloat(a.getAttribute("x")),xunits:nC[e],y:parseFloat(a.getAttribute("y")),yunits:nC[t],origin:i}}function hP(a){return mn(a)}const Jue=pt(fa,{Pair:Sce});function _P(a,e){return va(void 0,Jue,a,e,this)}const ece=pt(fa,{Icon:je(mce),color:je(Zx),heading:je(mn),hotSpot:je(Que),scale:je(hP)});function tce(a,e){const t=va({},ece,a,e);if(!t)return;const i=e[e.length-1],n="Icon"in t?t.Icon:{},s=!("Icon"in t)||Object.keys(n).length>0;let r;const l=n.href;l?r=l:s&&(r=j2);let c,h,f,v=Cr.BOTTOM_LEFT;const b=t.hotSpot;b?(c=[b.x,b.y],h=b.xunits,f=b.yunits,v=b.origin):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(r)&&(/pushpin/.test(r)?(c=t3,h=Dy,f=Fy):/arrow-reverse/.test(r)?(c=[54,42],h=Dy,f=Fy):/paddle/.test(r)&&(c=[32,1],h=Dy,f=Fy));let T;const M=n.x,I=n.y;M!==void 0&&I!==void 0&&(T=[M,I]);let R;const P=n.w,F=n.h;P!==void 0&&F!==void 0&&(R=[P,F]);let B;const W=t.heading;W!==void 0&&(B=Dc(W));const Z=t.scale,ae=t.color;if(s){r==j2&&(R=Ny);const he=new Ul({anchor:c,anchorOrigin:v,anchorXUnits:h,anchorYUnits:f,crossOrigin:this.crossOrigin_,offset:T,offsetOrigin:Cr.BOTTOM_LEFT,rotation:B,scale:Z,size:R,src:this.iconUrlFunction_(r),color:ae}),_e=he.getScaleArray()[0],ie=he.getSize();if(ie===null){const me=he.getImageState();if(me===Ja.IDLE||me===Ja.LOADING){const fe=function(){const be=he.getImageState();if(!(be===Ja.IDLE||be===Ja.LOADING)){const Ae=he.getSize();if(Ae&&Ae.length==2){const Ye=H2(Ae);he.setScale(_e*Ye)}he.unlistenImageChange(fe)}};he.listenImageChange(fe),me===Ja.IDLE&&he.load()}}else if(ie.length==2){const me=H2(ie);he.setScale(_e*me)}i.imageStyle=he}else i.imageStyle=C5}const ace=pt(fa,{color:je(Zx),scale:je(hP)});function ice(a,e){const t=va({},ace,a,e);if(!t)return;const i=e[e.length-1],n=new Of({fill:new Yr({color:"color"in t?t.color:tf}),scale:t.scale});i.textStyle=n}const nce=pt(fa,{color:je(Zx),width:je(mn)});function rce(a,e){const t=va({},nce,a,e);if(!t)return;const i=e[e.length-1],n=new br({color:"color"in t?t.color:tf,width:"width"in t?t.width:1});i.strokeStyle=n}const sce=pt(fa,{color:je(Zx),fill:je(fh),outline:je(fh)});function oce(a,e){const t=va({},sce,a,e);if(!t)return;const i=e[e.length-1],n=new Yr({color:"color"in t?t.color:tf});i.fillStyle=n;const s=t.fill;s!==void 0&&(i.fill=s);const r=t.outline;r!==void 0&&(i.outline=r)}const lce=pt(fa,{coordinates:a5(uP)});function mP(a,e){return va(null,lce,a,e)}function uce(a,e){const i=e[e.length-1].coordinates,n=Zl(a,!1),r=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n);if(r){const l=parseFloat(r[1]),c=parseFloat(r[2]),h=parseFloat(r[3]);i.push([l,c,h])}else i.push([])}const cce=pt(ad,{Track:fo(pP)});function dce(a,e){const t=va([],cce,a,e);if(t)return new sm(t)}const hce=pt(fa,{when:Nce},pt(ad,{coord:uce}));function pP(a,e){const t=va({coordinates:[],whens:[]},hce,a,e);if(!t)return;const i=[],n=t.coordinates,s=t.whens;for(let r=0,l=Math.min(n.length,s.length);r<l;++r)n[r].length==3&&i.push(n[r][0],n[r][1],n[r][2],s[r]);return new cs(i,ti.XYZM)}const _ce=pt(fa,{href:je(cP)},pt(ad,{x:je(mn),y:je(mn),w:je(mn),h:je(mn)}));function mce(a,e){const t=va({},_ce,a,e);return t||null}const pce=pt(fa,{coordinates:a5(uP)});function I5(a,e){return va(null,pce,a,e)}const Xx=pt(fa,{extrude:je(fh),tessellate:je(fh),altitudeMode:je(aa)});function fP(a,e){const t=va({},Xx,a,e),i=I5(a,e);if(i){const n=new cs(i,ti.XYZ);return n.setProperties(t,!0),n}else return}function gP(a,e){const t=va({},Xx,a,e),i=I5(a,e);if(i){const n=new Vc(i,ti.XYZ,[i.length]);return n.setProperties(t,!0),n}else return}const fce=pt(fa,{LineString:fo(fP),LinearRing:fo(gP),MultiGeometry:fo(yP),Point:fo(vP),Polygon:fo(bP)});function yP(a,e){const t=va([],fce,a,e);if(!t)return null;if(t.length===0)return new lh(t);let i,n=!0;const s=t[0].getType();let r;for(let l=1,c=t.length;l<c;++l)if(r=t[l],r.getType()!=s){n=!1;break}if(n){let l,c;if(s=="Point"){const h=t[0];l=h.getLayout(),c=h.getFlatCoordinates();for(let f=1,v=t.length;f<v;++f)r=t[f],xn(c,r.getFlatCoordinates());i=new Y_(c,l),l4(i,t)}else s=="LineString"?(i=new sm(t),l4(i,t)):s=="Polygon"?(i=new Rx(t),l4(i,t)):s=="GeometryCollection"?i=new lh(t):Ka(!1,37)}else i=new lh(t);return i}function vP(a,e){const t=va({},Xx,a,e),i=I5(a,e);if(i){const n=new Xr(i,ti.XYZ);return n.setProperties(t,!0),n}else return}const gce=pt(fa,{innerBoundaryIs:kce,outerBoundaryIs:Dce});function bP(a,e){const t=va({},Xx,a,e),i=va([null],gce,a,e);if(i&&i[0]){const n=i[0],s=[n.length];for(let l=1,c=i.length;l<c;++l)xn(n,i[l]),s.push(n.length);const r=new Vc(n,ti.XYZ,s);return r.setProperties(t,!0),r}else return}const yce=pt(fa,{IconStyle:tce,LabelStyle:ice,LineStyle:rce,PolyStyle:oce});function R5(a,e){const t=va({},yce,a,e,this);if(!t)return null;let i="fillStyle"in t?t.fillStyle:xb;const n=t.fill;n!==void 0&&!n&&(i=null);let s;"imageStyle"in t?t.imageStyle!=C5&&(s=t.imageStyle):s=a3;const r="textStyle"in t?t.textStyle:N_,l="strokeStyle"in t?t.strokeStyle:i3,c=t.outline;return c!==void 0&&!c?[new kr({geometry:function(h){const f=h.getGeometry(),v=f.getType();if(v==="GeometryCollection"){const b=f;return new lh(b.getGeometriesArrayRecursive().filter(function(T){const M=T.getType();return M!=="Polygon"&&M!=="MultiPolygon"}))}else if(v!=="Polygon"&&v!=="MultiPolygon")return f},fill:i,image:s,stroke:l,text:r,zIndex:void 0}),new kr({geometry:function(h){const f=h.getGeometry(),v=f.getType();if(v==="GeometryCollection"){const b=f;return new lh(b.getGeometriesArrayRecursive().filter(function(T){const M=T.getType();return M==="Polygon"||M==="MultiPolygon"}))}else if(v==="Polygon"||v==="MultiPolygon")return f},fill:i,stroke:null,zIndex:void 0})]:[new kr({fill:i,image:s,stroke:l,text:r,zIndex:void 0})]}function l4(a,e){const t=e.length,i=new Array(e.length),n=new Array(e.length),s=new Array(e.length);let r,l,c;r=!1,l=!1,c=!1;for(let h=0;h<t;++h){const f=e[h];i[h]=f.get("extrude"),n[h]=f.get("tessellate"),s[h]=f.get("altitudeMode"),r=r||i[h]!==void 0,l=l||n[h]!==void 0,c=c||s[h]}r&&a.set("extrude",i),l&&a.set("tessellate",n),c&&a.set("altitudeMode",s)}const vce=pt(fa,{displayName:je(aa),value:je(aa)});function bce(a,e){const t=a.getAttribute("name");Rh(vce,a,e);const i=e[e.length-1];t&&i.displayName?i[t]={value:i.value,displayName:i.displayName,toString:function(){return i.value}}:t!==null?i[t]=i.value:i.displayName!==null&&(i[i.displayName]=i.value),delete i.value}const xce=pt(fa,{Data:bce,SchemaData:Mce});function xP(a,e){Rh(xce,a,e)}function wP(a,e){Rh(oP,a,e)}const wce=pt(fa,{Style:je(R5),key:je(aa),styleUrl:je(dP)});function Sce(a,e){const t=va({},wce,a,e,this);if(!t)return;const i=t.key;if(i&&i=="normal"){const n=t.styleUrl;n&&(e[e.length-1]=n);const s=t.Style;s&&(e[e.length-1]=s)}}function Tce(a,e){const t=_P.call(this,a,e);if(!t)return;const i=e[e.length-1];Array.isArray(t)?i.Style=t:typeof t=="string"?i.styleUrl=t:Ka(!1,38)}const Ece=pt(fa,{SimpleData:Lce});function Mce(a,e){Rh(Ece,a,e)}function Lce(a,e){const t=a.getAttribute("name");if(t!==null){const i=aa(a),n=e[e.length-1];n[t]=i}}const Ace=pt(fa,{altitudeMode:je(aa),minAltitude:je(mn),maxAltitude:je(mn),north:je(mn),south:je(mn),east:je(mn),west:je(mn)});function Cce(a,e){const t=va({},Ace,a,e);if(!t)return;const i=e[e.length-1],n=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)];i.extent=n,i.altitudeMode=t.altitudeMode,i.minAltitude=parseFloat(t.minAltitude),i.maxAltitude=parseFloat(t.maxAltitude)}const Ice=pt(fa,{minLodPixels:je(mn),maxLodPixels:je(mn),minFadeExtent:je(mn),maxFadeExtent:je(mn)});function Rce(a,e){const t=va({},Ice,a,e);if(!t)return;const i=e[e.length-1];i.minLodPixels=parseFloat(t.minLodPixels),i.maxLodPixels=parseFloat(t.maxLodPixels),i.minFadeExtent=parseFloat(t.minFadeExtent),i.maxFadeExtent=parseFloat(t.maxFadeExtent)}const Oce=pt(fa,{LinearRing:fo(mP)});function kce(a,e){const t=va([],Oce,a,e);t.length>0&&e[e.length-1].push(...t)}const Pce=pt(fa,{LinearRing:a5(mP)});function Dce(a,e){const t=va(void 0,Pce,a,e);if(t){const i=e[e.length-1];i[0]=t}}function Fce(a,e){Rh(Vue,a,e)}function Nce(a,e){const i=e[e.length-1].whens,n=Zl(a,!1),s=Date.parse(n);i.push(isNaN(s)?0:s)}function Yx(a,e){const t=Iu(e),n=[(t.length==4?t[3]:1)*255,t[2],t[1],t[0]];for(let s=0;s<4;++s){const r=Math.floor(n[s]).toString(16);n[s]=r.length==1?"0"+r:r}Bi(a,n.join(""))}function Wce(a,e,t){const i=t[t.length-1],n=i.layout,s=i.stride;let r;n==ti.XY||n==ti.XYM?r=2:n==ti.XYZ||n==ti.XYZM?r=3:Ka(!1,34);const l=e.length;let c="";if(l>0){c+=e[0];for(let h=1;h<r;++h)c+=","+e[h];for(let h=s;h<l;h+=s){c+=" "+e[h];for(let f=1;f<r;++f)c+=","+e[h+f]}}Bi(a,c)}const wb=pt(fa,{Data:Lt(zce),value:Lt(Gce),displayName:Lt(Bce)});function zce(a,e,t){a.setAttribute("name",e.name);const i={node:a},n=e.value;typeof n=="object"?(n!==null&&n.displayName&&pn(i,wb,Rs,[n.displayName],t,["displayName"]),n!==null&&n.value&&pn(i,wb,Rs,[n.value],t,["value"])):pn(i,wb,Rs,[n],t,["value"])}function Bce(a,e){Nee(a,e)}function Gce(a,e){Bi(a,e)}const qce=pt(fa,{Placemark:Lt(EP)}),Uce=function(a,e,t){const i=e[e.length-1].node;return Xc(i.namespaceURI,"Placemark")};function Vce(a,e,t){pn({node:a},qce,Uce,e,t,void 0,this)}const jce=Xl("Data");function Hce(a,e,t){const i={node:a},n=e.names,s=e.values,r=n.length;for(let l=0;l<r;l++)pn(i,wb,jce,[{name:n[l],value:s[l]}],t)}const sC=pt(fa,["href"],pt(ad,["x","y","w","h"])),oC=pt(fa,{href:Lt(Bi)},pt(ad,{x:Lt(mo),y:Lt(mo),w:Lt(mo),h:Lt(mo)})),Zce=function(a,e,t){return Xc(ad[0],"gx:"+t)};function Xce(a,e,t){const i={node:a},n=t[t.length-1].node;let s=sC[n.namespaceURI],r=bo(e,s);pn(i,oC,Rs,r,t,s),s=sC[ad[0]],r=bo(e,s),pn(i,oC,Zce,r,t,s)}const Yce=pt(fa,["scale","heading","Icon","color","hotSpot"]),Kce=pt(fa,{Icon:Lt(Xce),color:Lt(Yx),heading:Lt(mo),hotSpot:Lt(Sde),scale:Lt(LP)});function $ce(a,e,t){const i={node:a},n={},s=e.getSrc(),r=e.getSize(),l=e.getImageSize(),c={href:s};if(r){c.w=r[0],c.h=r[1];const R=e.getAnchor(),P=e.getOrigin();if(P&&l&&P[0]!==0&&P[1]!==r[1]&&(c.x=P[0],c.y=l[1]-(P[1]+r[1])),R&&(R[0]!==r[0]/2||R[1]!==r[1]/2)){const F={x:R[0],xunits:Vs.PIXELS,y:r[1]-R[1],yunits:Vs.PIXELS};n.hotSpot=F}}n.Icon=c;let h=e.getScaleArray()[0],f=r;if(f===null&&(f=Ny),f.length==2){const R=H2(f);h=h/R}h!==1&&(n.scale=h);const v=e.getRotation();v!==0&&(n.heading=v);const b=e.getColor();b&&(n.color=b);const T=t[t.length-1].node,M=Yce[T.namespaceURI],I=bo(n,M);pn(i,Kce,Rs,I,t,M)}const Qce=pt(fa,["color","scale"]),Jce=pt(fa,{color:Lt(Yx),scale:Lt(LP)});function ede(a,e,t){const i={node:a},n={},s=e.getFill();s&&(n.color=s.getColor());const r=e.getScale();r&&r!==1&&(n.scale=r);const l=t[t.length-1].node,c=Qce[l.namespaceURI],h=bo(n,c);pn(i,Jce,Rs,h,t,c)}const tde=pt(fa,["color","width"]),ade=pt(fa,{color:Lt(Yx),width:Lt(mo)});function ide(a,e,t){const i={node:a},n={color:e.getColor(),width:Number(e.getWidth())||1},s=t[t.length-1].node,r=tde[s.namespaceURI],l=bo(n,r);pn(i,ade,Rs,l,t,r)}const nde={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},SP=function(a,e,t){if(a){const i=e[e.length-1].node;return Xc(i.namespaceURI,nde[a.getType()])}},rde=Xl("Point"),sde=Xl("LineString"),ode=Xl("LinearRing"),lde=Xl("Polygon"),ude=pt(fa,{LineString:Lt(af),Point:Lt(af),Polygon:Lt(MP),GeometryCollection:Lt(TP)});function TP(a,e,t){const i={node:a},n=e.getType();let s=[],r;n==="GeometryCollection"?(e.getGeometriesArrayRecursive().forEach(function(l){const c=l.getType();c==="MultiPoint"?s=s.concat(l.getPoints()):c==="MultiLineString"?s=s.concat(l.getLineStrings()):c==="MultiPolygon"?s=s.concat(l.getPolygons()):c==="Point"||c==="LineString"||c==="Polygon"?s.push(l):Ka(!1,39)}),r=SP):n==="MultiPoint"?(s=e.getPoints(),r=rde):n==="MultiLineString"?(s=e.getLineStrings(),r=sde):n==="MultiPolygon"?(s=e.getPolygons(),r=lde):Ka(!1,39),pn(i,ude,r,s,t)}const cde=pt(fa,{LinearRing:Lt(af)});function lC(a,e,t){pn({node:a},cde,ode,[e],t)}const u4=pt(fa,{ExtendedData:Lt(Hce),MultiGeometry:Lt(TP),LineString:Lt(af),LinearRing:Lt(af),Point:Lt(af),Polygon:Lt(MP),Style:Lt(wde),address:Lt(Bi),description:Lt(Bi),name:Lt(Bi),open:Lt(yf),phoneNumber:Lt(Bi),styleUrl:Lt(Bi),visibility:Lt(yf)}),dde=pt(fa,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),hde=Xl("ExtendedData");function EP(a,e,t){const i={node:a};e.getId()&&a.setAttribute("id",e.getId());const n=e.getProperties(),s={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};s[e.getGeometryName()]=1;const r=Object.keys(n||{}).sort().filter(function(T){return!s[T]}),l=e.getStyleFunction();if(l){const T=l(e,0);if(T){const M=Array.isArray(T)?T:[T];let I=M;if(e.getGeometry()&&(I=M.filter(function(R){const P=R.getGeometryFunction()(e);if(P){const F=P.getType();return F==="GeometryCollection"?P.getGeometriesArrayRecursive().filter(function(B){const W=B.getType();return W==="Point"||W==="MultiPoint"}).length:F==="Point"||F==="MultiPoint"}})),this.writeStyles_){let R=M,P=M;e.getGeometry()&&(R=M.filter(function(F){const B=F.getGeometryFunction()(e);if(B){const W=B.getType();return W==="GeometryCollection"?B.getGeometriesArrayRecursive().filter(function(Z){const ae=Z.getType();return ae==="LineString"||ae==="MultiLineString"}).length:W==="LineString"||W==="MultiLineString"}}),P=M.filter(function(F){const B=F.getGeometryFunction()(e);if(B){const W=B.getType();return W==="GeometryCollection"?B.getGeometriesArrayRecursive().filter(function(Z){const ae=Z.getType();return ae==="Polygon"||ae==="MultiPolygon"}).length:W==="Polygon"||W==="MultiPolygon"}})),n.Style={pointStyles:I,lineStyles:R,polyStyles:P}}if(I.length&&n.name===void 0){const R=I[0].getText();R&&(n.name=R.getText())}}}const c=t[t.length-1].node,h=dde[c.namespaceURI],f=bo(n,h);if(pn(i,u4,Rs,f,t,h),r.length>0){const T=bo(n,r);pn(i,u4,hde,[{names:r,values:T}],t)}const v=t[0];let b=e.getGeometry();b&&(b=Kl(b,!0,v)),pn(i,u4,SP,[b],t)}const _de=pt(fa,["extrude","tessellate","altitudeMode","coordinates"]),mde=pt(fa,{extrude:Lt(yf),tessellate:Lt(yf),altitudeMode:Lt(Bi),coordinates:Lt(Wce)});function af(a,e,t){const i=e.getFlatCoordinates(),n={node:a};n.layout=e.getLayout(),n.stride=e.getStride();const s=e.getProperties();s.coordinates=i;const r=t[t.length-1].node,l=_de[r.namespaceURI],c=bo(s,l);pn(n,mde,Rs,c,t,l)}const pde=pt(fa,["color","fill","outline"]),uC=pt(fa,{outerBoundaryIs:Lt(lC),innerBoundaryIs:Lt(lC)}),fde=Xl("innerBoundaryIs"),gde=Xl("outerBoundaryIs");function MP(a,e,t){const i=e.getLinearRings(),n=i.shift(),s={node:a};pn(s,uC,fde,i,t),pn(s,uC,gde,[n],t)}const yde=pt(fa,{color:Lt(Yx),fill:Lt(yf),outline:Lt(yf)});function vde(a,e,t){const i={node:a},n=e.getFill(),s=e.getStroke(),r={color:n?n.getColor():void 0,fill:n?void 0:!1,outline:s?void 0:!1},l=t[t.length-1].node,c=pde[l.namespaceURI],h=bo(r,c);pn(i,yde,Rs,h,t,c)}function LP(a,e){mo(a,Math.round(e*1e6)/1e6)}const bde=pt(fa,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),xde=pt(fa,{IconStyle:Lt($ce),LabelStyle:Lt(ede),LineStyle:Lt(ide),PolyStyle:Lt(vde)});function wde(a,e,t){const i={node:a},n={};if(e.pointStyles.length){const c=e.pointStyles[0].getText();c&&(n.LabelStyle=c);const h=e.pointStyles[0].getImage();h&&typeof h.getSrc=="function"&&(n.IconStyle=h)}if(e.lineStyles.length){const c=e.lineStyles[0].getStroke();c&&(n.LineStyle=c)}if(e.polyStyles.length){const c=e.polyStyles[0].getStroke();c&&!n.LineStyle&&(n.LineStyle=c),n.PolyStyle=e.polyStyles[0]}const s=t[t.length-1].node,r=bde[s.namespaceURI],l=bo(n,r);pn(i,xde,Rs,l,t,r)}function Sde(a,e){a.setAttribute("x",String(e.x)),a.setAttribute("y",String(e.y)),a.setAttribute("xunits",e.xunits),a.setAttribute("yunits",e.yunits)}class Tde extends Hx{export(e,t){const i=this.generateContent(e);this.download(t,i,"kml","application/vnd.google-earth.kml+xml")}generateContent(e){return new Yue().writeFeatures(this.exploseFeatures(e),this.encodeOptions)}}const Ede="https://migration.geoportail.lu/mymaps/exportgpxkml";class Mde extends Hx{constructor(e){super(e),this.encodeOptions.dataProjection=Hl}async export(e,t){const i=this.generateContent(e),n=Ede,s=new URLSearchParams({format:"shape",name:t,doc:i}),r=await fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s.toString()});if(!r.ok)throw new Error("Error while requesting shapefile");const l=await r.blob();this.download(t,l,"zip","application/octet-stream")}generateContent(e){return new dm().writeFeatures(this.exploseFeatures(e),this.encodeOptions)}async fetchFileContent(e,t){return await(await fetch("mymaps/exportgpxkml",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify({doc:e,format:"shape",name:t})})).blob()}}class Lde extends Hx{async export(e,t){const i=await this.generateContent(e);this.download(t,i,"csv","application/csv")}async generateContent(e){const t=await e.getProfile();return t?this.getCsvContent(t):""}getCsvContent(e){const t=`dist,MNT,y,x,lon,lat
`;return e.reduce((i,n)=>i+this.getCsvContentRow(n),t)}getCsvContentRow(e){const t=cf([e.x,e.y],Hl);return`${e.dist},${e.values.dhm},${e.x},${e.y},${t[0]},${t[1]}
`}}class Ade{export(e,t,i,n,s=!1){var r;(r=this.getExporter(e,t))==null||r.export(i,n,s)}getExporter(e,t){switch(t){case"gpx":return new Bue(e);case"kml":return new Tde(e);case"shapefile":return new Mde(e);case"csv":return new Lde(e)}}}const O5=new Ade,Cde={"data-cy":"featItemProfile",class:"lux-profile relative"},Ide={class:"flex justify-between w-full px-1 gap-3 whitespace-nowrap"},Rde={class:"grow cursor-default","data-cy":"featItemProfileCumul"},Ode=["aria-label"],kde={key:0,class:"no-print w-full absolute mt-2 text-center"},Pde={class:"text-gray-700 rounded p-2 bg-[rgba(120,120,120,0.5)]"},Dde="mnt",k5=ft({__name:"feature-elevation-profile",props:{feature:{},enableExportCSV:{type:Boolean,default:!0},activatePositioning:{type:Boolean,default:!0}},emits:["close"],setup(a){const e=a,t=Rle(void 0,()=>e.activatePositioning),i=$k(),{t:n}=ma(),s=Pt(()=>{var P,F,B;return(B=(F=(P=n7())==null?void 0:P.vnode)==null?void 0:F.props)==null?void 0:B.onClose}),r=Li(void 0),l=Pt(()=>{var P;return((P=r.value)==null?void 0:P.length)||0}),c=Pt(()=>r.value&&r.value[l.value-1]),h=Pt(()=>{var P;return(P=c.value)==null?void 0:P.elevationGain}),f=Pt(()=>{var P;return(P=c.value)==null?void 0:P.elevationLoss}),v=Pt(()=>{var P;return(P=c.value)==null?void 0:P.cumulativeElevation}),b=Pt(()=>e.feature&&!r.value),T=Pt(()=>!e.feature);jn(()=>{e.feature&&e.feature.getProfile().then(P=>r.value=P)}),Os(()=>{i.setPosition(void 0,void 0)}),Vn(()=>{var P;e.feature&&!e.feature.profileData?(r.value=void 0,(P=e.feature)==null||P.getProfile().then(F=>r.value=F)):r.value=void 0}),Vt(r,P=>t.profileData.value=P);function M(){var P;e.feature&&O5.export((P=e.feature)==null?void 0:P.map,"csv",e.feature,e.feature.label||Dde)}function I(P){var B;const F=Ks([P.x,P.y],Hl,(B=e.feature)==null?void 0:B.map.getView().getProjection());i.setPosition(F[0],F[1])}function R(){i.setPosition(void 0,void 0)}return(P,F)=>{const B=wh("format-measure");return ne(),xe("div",Cde,[$("div",Ide,[$("div",Rde,[r.value?(ne(),xe(sa,{key:0},[$("span",null,[F[2]||(F[2]=xr(" Δ+")),Ai($("span",null,null,512),[[B,h.value,void 0,{elevation:!0}]])]),$("span",null,[F[3]||(F[3]=xr(" Δ")),Ai($("span",null,null,512),[[B,f.value,void 0,{elevation:!0}]])]),$("span",null,[F[4]||(F[4]=xr(" Δ")),Ai($("span",null,null,512),[[B,v.value,void 0,{elevation:!0}]])])],64)):Ze("",!0)]),P.enableExportCSV&&r.value?(ne(),xe("button",{key:0,"data-cy":"featItemProfileCSV",class:"profile-export no-print text-secondary hover:underline",onClick:F[0]||(F[0]=()=>M())},De(V(n)("Export csv")),1)):Ze("",!0),s.value?(ne(),xe("button",{key:1,"aria-label":V(n)("Close"),class:"fa-solid fa-close text-secondary hover:text-tertiary",onClick:F[1]||(F[1]=W=>P.$emit("close"))},null,8,Ode)):Ze("",!0)]),b.value||T.value?(ne(),xe("div",kde,[$("span",Pde,De(b.value?V(n)("Please wait, the profile is loading."):T.value?V(n)("Draw a line on the map to display an elevation profile."):""),1)])):Ze("",!0),ct(soe,{profileData:r.value,class:"w-full",highlightDistance:V(t).highlightDistance.value,"onHover:profile":I,"onOut:profile":R},null,8,["profileData","highlightDistance"])])}}}),Fde={"data-cy":"toolbarMeasure"},Nde={key:0,class:"absolute bottom-full top-auto z-20 flex flex-row justify-start"},Wde={key:1,class:"absolute bottom-full top-auto z-20 flex flex-row justify-start divide-y-0 divide-x divide-gray-400 divide-solid box-content border-y-0 border-x border-gray-400"},zde=ft({__name:"toolbar-measure",setup(a){const{t:e}=ma(),t=$e(!1),i=[{label:e("Length"),active:!1,onClick:()=>alert("TODO Length")},{label:e("Surface"),active:!1,onClick:()=>alert("TODO Surface")},{label:e("Azimut"),active:!1,onClick:()=>alert("TODO Azimut")},{label:e("Profile"),active:!1,onClick:()=>t.value=!0},{label:e("Profil Lidar"),active:!1,onClick:()=>alert("TODO Profil Lidar")},{label:e("Reset"),active:!1,onClick:()=>alert("TODO Reset")}];function n(){t.value=!1}return(s,r)=>(ne(),xe("div",Fde,[t.value?(ne(),xe("div",Nde,[ct(k5,{class:"w-[450px]",onClose:n,feature:void 0})])):(ne(),xe("ul",Wde,[(ne(),xe(sa,null,Cn(i,(l,c)=>$("li",{key:c},[ct(Lp,{label:l.label,active:l.active,onClick:l.onClick},null,8,["label","active","onClick"])])),64))]))]))}});class Bde{constructor(e){Sa(this,"printExtent");this.setPrintExtent(e||[0,0,1/0,1/0])}getPrintExtent(){return this.printExtent}setPrintExtent(e){this.printExtent=e}layerFilter(e){return!0}geometryFilter(e){return!0}feature(e,t){}line(e,t,i,n){}point(e,t,i,n){}text(e,t,i,n){}wmtsLayer(e,t,i){}wmsLayer(e,t,i){}}const AP={WMTS_PIXEL_SIZE:28e-5,DOTS_PER_INCH:72,METERS_PER_INCH:.0254,CIRCLE_TO_POLYGON_SIDES:64};function c4(a){return a.length===1?`0${a}`:a}function d4(a){const e=a[0],t=a[1],i=a[2];if(e!==(e&255)||t!==(t&255)||i!==(i&255))throw new Error(`"(${e},${t},${i})" is not a valid RGB color`);const n=c4(e.toString(16)),s=c4(t.toString(16)),r=c4(i.toString(16));return`#${n}${s}${r}`}function Gde(a){const e=a.getProjection(),t=a.getTileGrid();console.assert(t instanceof b5);const i=t.getMatrixIds(),n=[],s=e.getMetersPerUnit();console.assert(!!s);for(let r=0;r<i.length;r++){const l=t.getFullTileRange(r),c=t.getResolution(r)*s;n.push({identifier:i[r],scaleDenominator:c/AP.WMTS_PIXEL_SIZE,tileSize:ls(t.getTileSize(r)),topLeftCorner:t.getOrigin(r),matrixSize:[l.maxX-l.minX+1,l.maxY-l.minY+1]})}return n}const Zv=document.createElement("canvas");function qde(a,e){const t=Zv.getContext("2d");return Zv.width=a.width,Zv.height=a.height,t.globalAlpha=e,t.drawImage(a,0,0),Zv}function Ude(a){const e=document.createElement("a");return e.href=encodeURI(a),decodeURI(e.href)}function Vde(a){const e=a.getUrls();return console.assert(e.length>0),Ude(e[0])}function jde(a,e,t,i,n,s){e&&a.forEach(r=>{const l=r.getGeometry();if(!l)return;const c=l.clone();c.applyTransform((f,v,b)=>ih(f,0,f.length,b||2,i,v));const h=e(r,t);h&&(Array.isArray(h)?h.forEach(f=>{n.setStyle(f),n.drawGeometry(c)}):(n.setStyle(h),n.drawGeometry(c)),s&&s(n,c))})}function Hde(a,e,t){const i=Go(),n=Wu(a);return dl(i,t[0]/2,t[1]/2,1/e,-1/e,0,-n[0],-n[1]),i}class Zde extends v5{constructor(e){const t=e||{};let i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(i=t.interpolate);const n=t.projection!==void 0?t.projection:"EPSG:3857",s=t.tileGrid!==void 0?t.tileGrid:Qoe({extent:g5(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:i,opaque:t.opaque,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const Xde=Zde,Yde='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Kde extends Xde{constructor(e){const t=e||{};let i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(i=t.interpolate);let n;t.attributions!==void 0?n=t.attributions:n=[Yde];const s=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:s,interpolate:i,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,opaque:t.opaque!==void 0?t.opaque:!0,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}}const $d={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},$de={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Qde={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class Jde extends qk{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.tmpTransform_=Go()}prepareTile(e,t,i){let n;const s=e.getState();return(s===Aa.LOADED||s===Aa.ERROR)&&(this.updateExecutorGroup_(e,t,i),this.tileImageNeedsRender_(e)&&(n=!0)),n}getTile(e,t,i,n){const s=n.pixelRatio,r=n.viewState,l=r.resolution,c=r.projection,h=this.getLayer(),f=h.getSource().getTile(e,t,i,s,c),v=n.viewHints,b=!(v[Pn.ANIMATING]||v[Pn.INTERACTING]);return(b||!f.wantedResolution)&&(f.wantedResolution=l),this.prepareTile(f,s,c)&&(b||Date.now()-n.time<8)&&h.getRenderMode()!==$d.VECTOR&&this.renderTileImage_(f,n),super.getTile(e,t,i,n)}isDrawableTile(e){const t=this.getLayer();return super.isDrawableTile(e)&&(t.getRenderMode()===$d.VECTOR?na(t)in e.executorGroups:e.hasContext(t))}getTileImage(e){return e.getImage(this.getLayer())}prepareFrame(e){const t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,t,i){const n=this.getLayer(),s=n.getRevision(),r=n.getRenderOrder()||null,l=e.wantedResolution,c=e.getReplayState(n);if(!c.dirty&&c.renderedResolution===l&&c.renderedRevision==s&&c.renderedRenderOrder==r)return;const h=n.getSource(),f=n.getDeclutter(),v=h.getTileGrid(),T=h.getTileGridForProjection(i).getTileCoordExtent(e.wrappedTileCoord),M=h.getSourceTiles(t,i,e),I=na(n);delete e.hitDetectionImageData[I],e.executorGroups[I]=[],f&&(e.declutterExecutorGroups[I]=[]),c.dirty=!1;for(let R=0,P=M.length;R<P;++R){const F=M[R];if(F.getState()!=Aa.LOADED)continue;const B=F.tileCoord,W=v.getTileCoordExtent(B),Z=ah(T,W),ae=dh(Z,n.getRenderBuffer()*l,this.tmpExtent),he=j_(W,Z)?null:ae,_e=new o2(0,ae,l,t),ie=f?new o2(0,Z,l,t):void 0,me=RI(l,t),fe=function(Re){let Oe;const Qe=Re.getStyleFunction()||n.getStyleFunction();if(Qe&&(Oe=Qe(Re,l)),Oe){const yt=this.renderFeature(Re,me,Oe,_e,ie);c.dirty=c.dirty||yt}},be=F.getFeatures();r&&r!==c.renderedRenderOrder&&be.sort(r);for(let Re=0,Oe=be.length;Re<Oe;++Re){const Qe=be[Re];(!he||Ir(he,Qe.getGeometry().getExtent()))&&fe.call(this,Qe)}const Ae=_e.finish(),Ye=n.getRenderMode()!==$d.VECTOR&&f&&M.length===1?null:Z,Xe=new l2(Ye,l,t,h.getOverlaps(),Ae,n.getRenderBuffer());if(e.executorGroups[I].push(Xe),ie){const Re=new l2(null,l,t,h.getOverlaps(),ie.finish(),n.getRenderBuffer());e.declutterExecutorGroups[I].push(Re)}}c.renderedRevision=s,c.renderedRenderOrder=r,c.renderedResolution=l}forEachFeatureAtCoordinate(e,t,i,n,s){const r=t.viewState.resolution,l=t.viewState.rotation;i=i??0;const c=this.getLayer(),f=c.getSource().getTileGridForProjection(t.viewState.projection),v=Do([e]);dh(v,r*i,v);const b={},T=function(R,P,F){let B=R.getId();B===void 0&&(B=na(R));const W=b[B];if(W){if(W!==!0&&F<W.distanceSq){if(F===0)return b[B]=!0,s.splice(s.lastIndexOf(W),1),n(R,c,P);W.geometry=P,W.distanceSq=F}}else{if(F===0)return b[B]=!0,n(R,c,P);s.push(b[B]={feature:R,layer:c,geometry:P,distanceSq:F,callback:n})}},M=this.renderedTiles;let I;for(let R=0,P=M.length;!I&&R<P;++R){const F=M[R],B=f.getTileCoordExtent(F.wrappedTileCoord);if(!Ir(B,v))continue;const W=na(c),Z=[F.executorGroups[W]],ae=F.declutterExecutorGroups[W];ae&&Z.push(ae),Z.some(he=>{const _e=he===ae?t.declutterTree.all().map(ie=>ie.value):null;for(let ie=0,me=he.length;ie<me;++ie)if(I=he[ie].forEachFeatureAtCoordinate(e,r,l,i,T,_e),I)return!0})}return I}getFeatures(e){return new Promise((function(t,i){const n=this.getLayer(),s=na(n),r=n.getSource(),l=this.renderedProjection,c=l.getExtent(),h=this.renderedResolution,f=r.getTileGridForProjection(l),v=Gn(this.renderedPixelToCoordinateTransform_,e.slice()),b=f.getTileCoordForCoordAndResolution(v,h);let T;for(let B=0,W=this.renderedTiles.length;B<W;++B)if(b.toString()===this.renderedTiles[B].tileCoord.toString()){if(T=this.renderedTiles[B],T.getState()===Aa.LOADED){const Z=f.getTileCoordExtent(T.tileCoord);r.getWrapX()&&l.canWrapX()&&!Eu(c,Z)&&X3(v,l);break}T=void 0}if(!T||T.loadingSourceTiles>0){t([]);return}const M=f.getTileCoordExtent(T.wrappedTileCoord),I=Jc(M),R=[(v[0]-I[0])/h,(I[1]-v[1])/h],P=T.getSourceTiles().reduce(function(B,W){return B.concat(W.getFeatures())},[]);let F=T.hitDetectionImageData[s];if(!F&&!this.animatingOrInteracting_){const B=ls(f.getTileSize(f.getZForResolution(h,r.zDirection))),W=this.renderedRotation_,Z=[this.getRenderTransform(f.getTileCoordCenter(T.wrappedTileCoord),h,0,Wo,B[0]*Wo,B[1]*Wo,0)];F=AI(B,Z,P,n.getStyleFunction(),f.getTileCoordExtent(T.wrappedTileCoord),T.getReplayState(n).renderedResolution,W),T.hitDetectionImageData[s]=F}t(CI(R,P,F))}).bind(this))}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e){const t=this.context,i=t.globalAlpha;t.globalAlpha=this.getLayer().getOpacity();const n=e.viewHints,s=!(n[Pn.ANIMATING]||n[Pn.INTERACTING]),r=this.renderedTiles;for(let l=0,c=r.length;l<c;++l){const h=r[l],f=h.declutterExecutorGroups[na(this.getLayer())];if(f)for(let v=f.length-1;v>=0;--v)f[v].execute(this.context,1,this.getTileRenderTransform(h,e),e.viewState.rotation,s,void 0,e.declutterTree)}t.globalAlpha=i}getTileRenderTransform(e,t){const i=t.pixelRatio,n=t.viewState,s=n.center,r=n.resolution,l=n.rotation,c=t.size,h=Math.round(c[0]*i),f=Math.round(c[1]*i),b=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),T=e.tileCoord,M=b.getTileCoordExtent(e.wrappedTileCoord),I=b.getTileCoordExtent(T,this.tmpExtent)[0]-M[0];return aE(ub(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,r,l,i,h,f,I))}renderFrame(e,t){const i=e.viewHints,n=!(i[Pn.ANIMATING]||i[Pn.INTERACTING]);super.renderFrame(e,t),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;const s=this.getLayer(),r=s.getRenderMode(),l=this.context,c=l.globalAlpha;l.globalAlpha=s.getOpacity();const h=Qde[r],f=e.viewState,v=f.rotation,b=s.getSource(),M=b.getTileGridForProjection(f.projection).getZForResolution(f.resolution,b.zDirection),I=this.renderedTiles,R=[],P=[];let F=!0;for(let B=I.length-1;B>=0;--B){const W=I[B];F=F&&!W.getReplayState(s).dirty;const Z=W.executorGroups[na(s)].filter(me=>me.hasExecutors(h));if(Z.length===0)continue;const ae=this.getTileRenderTransform(W,e),he=W.tileCoord[0];let _e=!1;const ie=Z[0].getClipCoords(ae);if(ie){for(let me=0,fe=R.length;me<fe;++me)if(M!==he&&he<P[me]){const be=R[me];Ir([ie[0],ie[3],ie[4],ie[7]],[be[0],be[3],be[4],be[7]])&&(_e||(l.save(),_e=!0),l.beginPath(),l.moveTo(ie[0],ie[1]),l.lineTo(ie[2],ie[3]),l.lineTo(ie[4],ie[5]),l.lineTo(ie[6],ie[7]),l.moveTo(be[6],be[7]),l.lineTo(be[4],be[5]),l.lineTo(be[2],be[3]),l.lineTo(be[0],be[1]),l.clip())}R.push(ie),P.push(he)}for(let me=0,fe=Z.length;me<fe;++me)Z[me].execute(l,1,ae,v,n,h);_e&&l.restore()}return l.globalAlpha=c,this.ready=F,this.container}renderFeature(e,t,i,n,s){if(!i)return!1;let r=!1;if(Array.isArray(i))for(let l=0,c=i.length;l<c;++l)r=u2(n,e,i[l],t,this.boundHandleStyleImageChange_,void 0,s)||r;else r=u2(n,e,i,t,this.boundHandleStyleImageChange_,void 0,s);return r}tileImageNeedsRender_(e){const t=this.getLayer();if(t.getRenderMode()===$d.VECTOR)return!1;const i=e.getReplayState(t),n=t.getRevision(),s=e.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==n}renderTileImage_(e,t){const i=this.getLayer(),n=e.getReplayState(i),s=i.getRevision(),r=e.executorGroups[na(i)];n.renderedTileRevision=s;const l=e.wrappedTileCoord,c=l[0],h=i.getSource();let f=t.pixelRatio;const b=t.viewState.projection,T=h.getTileGridForProjection(b),M=T.getResolution(e.tileCoord[0]),I=t.pixelRatio/e.wantedResolution*M,R=T.getResolution(c),P=e.getContext(i);f=Math.round(Math.max(f,I/f));const F=h.getTilePixelSize(c,f,b);P.canvas.width=F[0],P.canvas.height=F[1];const B=f/I;if(B!==1){const he=PL(this.tmpTransform_);ub(he,B,B),P.setTransform.apply(P,he)}const W=T.getTileCoordExtent(l,this.tmpExtent),Z=I/R,ae=PL(this.tmpTransform_);ub(ae,Z,-Z),DG(ae,-W[0],-W[3]);for(let he=0,_e=r.length;he<_e;++he)r[he].execute(P,B,ae,0,!0,$de[i.getRenderMode()]);n.renderedTileResolution=e.wantedResolution}}const ehe=Jde;class the extends SI{constructor(e){const t=e||{},i=Ci({},t);delete i.preload,delete i.useInterimTilesOnError,super(i),this.on,this.once,this.un,t.renderMode===$d.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),t.renderMode=void 0);const n=t.renderMode||$d.HYBRID;Ka(n==$d.HYBRID||n==$d.VECTOR,28),this.renderMode_=n,this.setPreload(t.preload?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0),this.getBackground,this.setBackground}createRenderer(){return new ehe(this)}getFeatures(e){return super.getFeatures(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(Kd.PRELOAD)}getUseInterimTilesOnError(){return this.get(Kd.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(Kd.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(Kd.USE_INTERIM_TILES_ON_ERROR,e)}}class ahe extends w5{constructor(){super()}getType(){return"text"}readFeature(e,t){return this.readFeatureFromText(Xv(e),this.adaptOptions(t))}readFeatureFromText(e,t){return _a()}readFeatures(e,t){return this.readFeaturesFromText(Xv(e),this.adaptOptions(t))}readFeaturesFromText(e,t){return _a()}readGeometry(e,t){return this.readGeometryFromText(Xv(e),this.adaptOptions(t))}readGeometryFromText(e,t){return _a()}readProjection(e){return this.readProjectionFromText(Xv(e))}readProjectionFromText(e){return this.dataProjection}writeFeature(e,t){return this.writeFeatureText(e,this.adaptOptions(t))}writeFeatureText(e,t){return _a()}writeFeatures(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))}writeFeaturesText(e,t){return _a()}writeGeometry(e,t){return this.writeGeometryText(e,this.adaptOptions(t))}writeGeometryText(e,t){return _a()}}function Xv(a){return typeof a=="string"?a:""}const Lc={LINE_STRING:"LineString",POINT:"Point",POLYGON:"Polygon"},CP=Object.freeze({LineString:Lc.LINE_STRING,Point:Lc.POINT,Polygon:Lc.POLYGON,MultiLineString:Lc.LINE_STRING,MultiPoint:Lc.POINT,MultiPolygon:Lc.POLYGON});function ihe(a){return a in CP}const Sb="_mfp_style",nhe=a=>{const e=a.geometry;return e&&e.type==="Point"?0:1},h4=a=>{const e=Array.isArray(a)?a.join(","):a;return`[${Sb} = '${e}']`};class IP{constructor(e,t){Sa(this,"layerState_");Sa(this,"layer_");Sa(this,"customizer_");Sa(this,"geojsonFormat",new dm);Sa(this,"deepIds_",new Map);Sa(this,"lastDeepId_",0);this.layerState_=e,this.layer_=this.layerState_.layer,this.customizer_=t}encodeVectorLayer(e){const t=this.layer_.getSource();if(!t)return null;console.assert(t instanceof ed);const i=t.getFeaturesInExtent(this.customizer_.getPrintExtent()),n=[],s={version:2};return i.forEach(l=>this.encodeFeature(l,e,n,s)),n.length<=0||Object.keys(s).length<=1?null:(n.sort((l,c)=>{const h=nhe;return h(c)-h(l)}),{geoJson:{type:"FeatureCollection",features:n},opacity:this.layerState_.opacity,style:s,type:"geojson",name:this.layer_.get("name")})}encodeFeature(e,t,i,n){let s=null;const r=e.getStyleFunction()||this.layer_.getStyleFunction();r&&(s=r(e,t)),e.getGeometry().getType()==="Circle"&&(e=this.featureCircleAsPolygon(e));const l=this.geojsonFormat.writeFeatureObject(e);let c=s!==null&&!Array.isArray(s)?[s]:s;if(!c||(c=c.filter(f=>!!f),c.length===0))return;console.assert(Array.isArray(c));let h=!1;c.forEach(f=>{let v=f.getGeometry(),b;if(typeof v=="function"&&(v=v(e)),v&&typeof v=="object"){const T=e.clone();T.setGeometry(v),b=this.geojsonFormat.writeFeatureObject(T),i.push(b)}else{if(b=l,v=e.getGeometry(),!v||!this.customizer_.geometryFilter(v))return;h||(i.push(b),h=!0)}this.addVectorStyle(n,b,f)})}getDeepStyleUid(e){const t=[e];let i="";for(;t.length;){const s=t.pop();i+="_k"+na(s);for(const[r,l]of Object.entries(s))l!=null&&(["number","string","boolean"].includes(typeof l)?i+=`_${r}:${l}`:t.push(l))}if(this.deepIds_.has(i))return this.deepIds_.get(i).toString();const n=++this.lastDeepId_;return this.deepIds_.set(i,n),n.toString()}addVectorStyle(e,t,i){const n=this.getDeepStyleUid(i),s=h4(n);let r;if(s in e)r=!0;else{const l=this.encodeVectorStyle(t,i);r=l&&l.symbolizers.length!==0,r&&(e[s]=l)}if(r){t.properties||(t.properties={}),this.customizer_.feature(this.layerState_,t);const l=t.properties[Sb];if(l){const c=[...l.split(","),n];e[h4(c)]={symbolizers:[...e[h4(l)].symbolizers,...e[s].symbolizers]},t.properties[Sb]=c.join(",")}else t.properties[Sb]=n}}encodeVectorStyle(e,t){const i=e.geometry.type;if(!ihe(i))return console.warn("Unsupported geometry type: ",i),null;const n=CP[i],s={symbolizers:[]},r=t.getFill(),l=t.getImage(),c=t.getStroke(),h=t.getText();return n===Lc.POLYGON?r!==null&&this.encodeVectorStylePolygon(e,s.symbolizers,r,c):n===Lc.LINE_STRING?c!==null&&this.encodeVectorStyleLine(e,s.symbolizers,c):n===Lc.POINT&&l!==null&&this.encodeVectorStylePoint(e,s.symbolizers,l),h!==null&&this.encodeVectorStyleText(e,s.symbolizers,h),s}encodeVectorStyleFill(e,t,i){let n=i.getColor();n!==null&&(console.assert(typeof n=="string"||Array.isArray(n)),n=Iu(n),console.assert(Array.isArray(n),"only supporting fill colors"),t.fillColor=d4(n),t.fillOpacity=n[3])}encodeVectorStyleLine(e,t,i){const n={type:"line"};this.encodeVectorStyleStroke(e,n,i),this.customizer_.line(this.layerState_,e,n,i),t.push(n)}encodeVectorStylePoint(e,t,i){let n;i instanceof _l?n=this.encodeVectorStylePointStyleCircle(e,i):i instanceof Ul&&(n=this.encodeVectorStylePointStyleIcon(e,i)),n&&(this.customizer_.point(this.layerState_,e,n,i),t.push(n))}encodeVectorStylePointStyleCircle(e,t){const i={type:"point"};i.pointRadius=t.getRadius();const n=t.getScale();n&&(Array.isArray(n)?i.pointRadius*=(n[0]+n[1])/2:i.pointRadius*=n);const s=t.getFill();let r=t.getStroke();return s!==null&&(this.encodeVectorStyleFill(e,i,s),r||(r=new br({color:s.getColor()}))),r!==null&&this.encodeVectorStyleStroke(e,i,r),i}encodeVectorStylePointStyleIcon(e,t){const i=t.getSrc();if(i===void 0)return;const n={type:"point",externalGraphic:i},s=t.getOpacity();s!==null&&(n.graphicOpacity=s);const r=t.getSize();if(r!==null){let c=t.getScale();Array.isArray(c)&&(c=(c[0]+c[1])/2),isNaN(c)&&(c=1);const h=r[0]*c,f=r[1]*c;n.graphicWidth=f,this.addGraphicOffset_(n,t,h,f)}let l=t.getRotation();return isNaN(l)&&(l=0),n.rotation=t0(l),n}addGraphicOffset_(e,t,i,n){if(this.hasDefaultAnchor_(t))return;const s=t.getAnchor(),r=i/2-s[0],l=n/2-s[1];e.graphicXOffset=r,e.graphicYOffset=l}hasDefaultAnchor_(e){const t=e,i=t.anchor_[0]===.5&&t.anchor_[1]===.5,n=t.anchorOrigin_==="top-left",s=t.anchorXUnits_==="fraction",r=t.anchorYUnits_==="fraction";return i&&n&&s&&r}encodeVectorStylePolygon(e,t,i,n){const s={type:"polygon"};this.encodeVectorStyleFill(e,s,i),n!==null&&this.encodeVectorStyleStroke(e,s,n),t.push(s)}encodeVectorStyleStroke(e,t,i){const n=i.getColor();if(n!==null){console.assert(typeof n=="string"||Array.isArray(n));const h=Iu(n);console.assert(Array.isArray(h),"only supporting stroke colors"),t.strokeColor=d4(h),t.strokeOpacity=h[3]}const s=i.getLineDash();s!==null&&(t.strokeDashstyle=s.join(" "));const r=i.getWidth();r!==void 0&&(t.strokeWidth=r);const l=i.getLineCap();l&&(t.strokeLinecap=l);const c=i.getLineJoin();c&&(t.strokeLinejoin=c)}encodeVectorStyleText(e,t,i){if(i.getText()){const s=rE(i.getFont()||"12px sans-serif"),r={type:"text",label:i.getText(),fontFamily:(s==null?void 0:s.family)??"sans-serif",fontSize:(s==null?void 0:s.size)??"12px",fontStyle:(s==null?void 0:s.style)??"normal",fontWeight:(s==null?void 0:s.weight)??"normal",labelXOffset:i.getOffsetX(),labelYOffset:-i.getOffsetY(),labelAlign:"cm"},l=i.getFill();l!==null&&(this.encodeVectorStyleFill(e,r,l),r.fontColor=r.fillColor);const c=i.getStroke();if(c!==null){const h=c.getColor();if(h){console.assert(typeof h=="string"||Array.isArray(h));const v=Iu(h);console.assert(Array.isArray(v),"only supporting stroke colors"),r.haloColor=d4(v),r.haloOpacity=v[3]}const f=c.getWidth();f!==void 0&&(r.haloRadius=f)}this.customizer_.text(this.layerState_,e,r,i),t.push(r)}}featureCircleAsPolygon(e){return new Rr({...e.getProperties(),geometry:rI(e.getGeometry(),AP.CIRCLE_TO_POLYGON_SIDES)})}}class rhe{constructor(e){Sa(this,"url");Sa(this,"scratchCanvas",document.createElement("canvas"));this.url=e}async encodeMap(e){const t=e.map.getView(),i=t.getCenter(),n=t.getProjection().getCode(),s=t0(t.getRotation()),r=e.map.getLayerGroup(),l=await this.encodeLayerGroup(r,e.printResolution,e.customizer);return{center:i,dpi:e.dpi,projection:n,rotation:s,scale:e.scale,layers:l}}async encodeLayerGroup(e,t,i){const n=e.getLayerStatesArray().filter(i.layerFilter).sort((r,l)=>(r.zIndex||0)-(l.zIndex||0)).reverse(),s=[];for(const r of n){const l=await this.encodeLayerState(r,t,i);l&&(Array.isArray(l)?s.push(...l):s.push(l))}return s}async encodeLayerState(e,t,i){if(!e.visible||t<e.minResolution||t>=e.maxResolution)return null;const n=e.layer;if(n instanceof bb)return this.encodeImageLayerState(e,i);if(n instanceof hl){const s=new IP(e,i).encodeVectorLayer(t),r=e.layer.get("renderAsSvg");return r!==void 0&&(s.renderAsSvg=r),s}return n instanceof Wp?this.encodeTileLayerState(e,i):n instanceof the?await this.encodeMVTLayerState(e,t,i):null}encodeImageLayerState(e,t){const i=e.layer;return i instanceof bb||console.assert(i instanceof bb),i.getSource()instanceof q2?this.encodeImageWmsLayerState(e,t):null}encodeImageWmsLayerState(e,t){const n=e.layer.getSource();console.assert(n instanceof q2);const s=n.getUrl();return s!==void 0?this.encodeWmsLayerState(e,s,n.getParams(),t):null}encodeWmsLayerState(e,t,i,n){var l;const s=e.layer,r={...i};return["SERVICE","REQUEST","FORMAT","LAYERS","VERSION","STYLES"].forEach(c=>delete r[c]),{name:s.get("name"),baseURL:t,imageFormat:i.FORMAT,layers:i.LAYERS.split(","),customParams:r,serverType:"mapserver",type:"wms",opacity:s.getOpacity(),version:i.VERSION,useNativeAngle:!0,styles:((l=i.STYLES)==null?void 0:l.split(","))??[""]}}encodeTileLayerState(e,t){const i=e.layer;console.assert(i instanceof Wp);const n=i.getSource();return n instanceof T0?this.encodeTileWmtsLayerState(e,t):n instanceof QT?this.encodeTileWmsLayerState(e,t):n instanceof Kde?this.encodeOSMLayerState(e,t):null}encodeTileWmsLayerState(e,t){const i=e.layer;console.assert(i instanceof Wp);const n=i.getSource();console.assert(n instanceof QT);const s=n.getUrls();console.assert(!!s);const r=this.encodeWmsLayerState(e,s[0],n.getParams(),t);return t.wmsLayer(e,r,n),r}encodeOSMLayerState(e,t){const i=e.layer;return{type:"osm",baseURL:i.getSource().getUrls()[0],opacity:e.opacity,name:i.get("name")}}encodeTileWmtsLayerState(e,t){const i=e.layer;console.assert(i instanceof Wp);const n=i.getSource();console.assert(n instanceof T0);const s=n.getDimensions(),r=Object.keys(s),l={type:"wmts",baseURL:Vde(n),dimensions:r,dimensionParams:s,imageFormat:n.getFormat(),name:i.get("name"),layer:n.getLayer(),matrices:Gde(n),matrixSet:n.getMatrixSet(),opacity:e.opacity,requestEncoding:n.getRequestEncoding(),style:n.getStyle(),version:n.getVersion()};return t.wmtsLayer(e,l,n),l}async encodeMVTLayerState(e,t,i){const n=e.layer,{MVTEncoder:s}=await qC(()=>import("./main-e364f730.js"),[]),r=new s,l=i.getPrintExtent(),c=Si(l)/t,h=wr(l)/t,f=[c,h],v={layer:n,printExtent:i.getPrintExtent(),tileResolution:t,styleResolution:t,canvasSize:f};return(await r.encodeMVTLayer(v)).filter(T=>T.baseURL.length>6).map(T=>Object.assign({type:"image",name:n.get("name"),opacity:1,imageFormat:"image/png"},T))}async encodeAsImageLayer(e,t,i,n){const s=e.layer,r=i.getPrintExtent(),l=Si(r)/t,c=wr(r)/t,h=[l,c],f=Dle(this.scratchCanvas.getContext("2d"),{size:h,pixelRatio:1}),v=Hde(r,t,h),b=s.getSource().getFeatures(),T=s.getStyleFunction();return jde(b,T,t,v,f,n),{type:"image",extent:r,imageFormat:"image/png",opacity:1,name:s.get("name"),baseURL:qde(this.scratchCanvas,s.getOpacity()).toDataURL("PNG")}}}const s3=39.37,o3=72;class she extends am{constructor(e={}){super(e),this.context_=vo(),this.context_.canvas.style.opacity="0.5",this.context_.canvas.style.position="absolute",this.size=void 0,this.rotation=void 0,this.scale=void 0}render(e){const t=this.context_.canvas.width=e.size[0],i=this.context_.canvas.height=e.size[1],n=[t/2,i/2];this.context_.beginPath(),this.context_.moveTo(0,0),this.context_.lineTo(t,0),this.context_.lineTo(t,i),this.context_.lineTo(0,i),this.context_.lineTo(0,0),this.context_.closePath();const s=this.getSize();if(!s)return;const r=s[1],l=s[0],c=this.getScale();if(!c)return;const h=e.viewState.resolution,f=l/o3/s3*c/h/2,v=r/o3/s3*c/h/2,b=this.getRotation()!==void 0?Dc(this.getRotation()):0,T=Math.sqrt(Math.pow(f,2)+Math.pow(v,2)),M=Math.atan(v/f)-b,I=Math.atan(f/v)-b,R=n[0]-Math.cos(M)*T,P=n[1]+Math.sin(M)*T,F=n[0]+Math.sin(I)*T,B=n[1]+Math.cos(I)*T,W=n[0]+Math.cos(M)*T,Z=n[1]-Math.sin(M)*T,ae=n[0]-Math.sin(I)*T,he=n[1]-Math.cos(I)*T;return this.context_.moveTo(R,P),this.context_.lineTo(F,B),this.context_.lineTo(W,Z),this.context_.lineTo(ae,he),this.context_.lineTo(R,P),this.context_.closePath(),this.context_.fillStyle="#000",this.context_.fill(),this.context_.canvas}getSize(){return this.size}getScale(){return this.scale}getRotation(){return this.rotation}setSize(e){this.size=e}setScale(e){this.scale=e}setRotation(e){this.rotation=e}}const ohe=ft({__name:"notification-item",props:{notification:{}},emits:["close"],setup(a){const e=a,t=Li(!0);function i(n,s){setTimeout(()=>{t.value=!1},e.notification.duration),s()}return(n,s)=>{const r=wh("dompurify-html");return ne(),ga(G3,{name:"fade-out",appear:"","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0",onEnter:i,onAfterLeave:s[0]||(s[0]=l=>n.$emit("close"))},{default:Xa(()=>[t.value?Ai((ne(),xe("div",{key:0,"data-cy":"notification",class:ei(["lux-alert",`lux-${e.notification.type}`]),role:"alert"},null,2)),[[r,e.notification.message]]):Ze("",!0)]),_:1})}}}),lhe={key:0,class:"lux-notifications fixed w-[500px] top-10 left-1/2 ml-[-250px] z-50","data-cy":"alertNotifications"},uhe=ft({__name:"alert-notifications",setup(a){const e=jc(),{notifications:t}=Gt(e);function i(n){e.removeNotification(n)}return(n,s)=>(ne(),ga(dx,{to:"body"},[V(t).length?(ne(),xe("div",lhe,[(ne(!0),xe(sa,null,Cn(V(t),(r,l)=>(ne(),ga(ohe,{key:l,notification:r,onClose:()=>i(r.uuid)},null,8,["notification","onClose"]))),128))])):Ze("",!0)]))}}),Z2={name:"blank",id:0};function RP(){const a=fi(),{mapId:e}=Gt(a),t=zc(),i=on(),n=qo(),s=Pt(()=>{var v;if(!e.value){const b=(v=us().theme)==null?void 0:v.name;if(b)return Bc().bg_layer_theme_defaults[b]||c()}return c()});function r(v){const b=t.findBgLayerById(v);l(b||null)}function l(v){if(v){if(v.type===Gc.WMTS||v.type===Gc.BG_WMTS)v.type="BG WMTS";else throw new Error(`Only WMTS and MVT BG layers are currently implemented (not ${v.type} for ${v.name})`);n.handleExclusionLayers(v),i.setBgLayer(n.initLayer(v))}else i.setBgLayer(null)}function c(){var v;return((v=f().find(b=>b.is_default))==null?void 0:v.id)||Z2.id}function h(){return Z2.id}function f(){return Bc().bg_layers}return{setBgLayer:r,setMapBackground:l,getBgLayersFromConfig:f,getNullId:h,getDefaultSelectedId:c,defaultSelectedBgId:s}}const che=["title"],cC=ft({__name:"background-selector-item",props:{bgTitle:{type:String,default:""},bgName:{type:String,default:""}},setup(a){const{t:e}=ma(),t=a,i=Pt(()=>{const s=e(t.bgTitle),r=t.bgTitle.length>0,l=e(t.bgName);return`${s}${r?" - ":""}${l}`}),n=Pt(()=>`h-full w-full rounded-sm lux-bg-sel-icon
        lux-bg-sel-${t.bgName}
        bg-${t.bgName}_sm
        md:bg-${t.bgName}
        hd:bg-${t.bgName}_sm_hi
        hd_md:bg-${t.bgName}_hi`);return(s,r)=>(ne(),xe("button",{title:i.value,class:ei(n.value)},null,10,che))}}),dhe={key:0,class:"flex flex-row-reverse"},dC=ft({__name:"background-selector",props:{isOpen:{type:Boolean,default:!1}},setup(a){const{t:e,i18next:t}=ma(),i=RP(),n=on(),s=us(),{bgLayer:r,is3dMesh:l}=Gt(n),h=$e(a.isOpen),f=$e(!1),v=$e([]),b=Pt(()=>{var R;return((R=r.value)==null?void 0:R.id)??i.getNullId()}),T=Pt(()=>{var R,P;return(P=(R=v.value)==null?void 0:R.find(F=>F.id===b.value))==null?void 0:P.name});Vt(()=>s.bgLayers,R=>{v.value=Bc().bg_layers.map(P=>Object.assign({id:P.id},R.find(F=>P.id===F.id),{name:P.icon_id}))},{immediate:!0}),Vt(()=>n.bgLayer,(R,P)=>{const F=n.layers;P===void 0&&R===null&&(F==null?void 0:F.length)===0&&(i.setBgLayer(i.defaultSelectedBgId.value),R===null&&(f.value=!0))}),Vt([f,()=>t.isInitialized],([R,P])=>{R&&P&&jc().addNotification(e("Aucune couche n'étant définie pour cette carte, une couche de fond a automatiquement été ajoutée."))});function M(R){i.setBgLayer(R.id),h.value=!1}function I(){h.value=!h.value}return(R,P)=>V(l)?Ze("",!0):(ne(),xe("div",dhe,[$("div",{"data-cy":"selectedBg",class:ei(["lux-bg-sel border border-black",h.value===!0?"hidden":"block"])},[ct(cC,{"aria-expanded":h.value,"bg-title":"Select BG layer","bg-name":T.value,onClick:I},null,8,["aria-expanded","bg-name"])],2),$("div",{"data-cy":"available-bgs",class:ei(h.value===!0?"flex flex-col md:flex-row":"hidden")},[(ne(!0),xe(sa,null,Cn(v.value,F=>(ne(),xe("div",{key:F.id,class:ei(["lux-bg-sel hover:bg-cyan-600",F.id===b.value?"border-red-500 border-2":"border-black border"])},[ct(cC,{"bg-name":F.name,onClick:B=>M(F)},null,8,["bg-name","onClick"])],2))),128))],2)]))}}),Kc=jo("info",()=>{const a=$e(void 0),e=$e(void 0),t=$e(!1),i=$e(!1),n=$e(!0),s=$e(!1),r=$e(!1),l=$e(void 0),c=$e(void 0);return{locationInfoCoords:a,locationInfoInfos:e,hidePointer:t,isStreetviewActive:i,noDataAtLocation:n,streetViewLoading:s,panoPositionChanging:r,svFeature:l,routingFeatureTemp:c}}),hhe=1501,_he="infoFeatureLayer";function mhe(){const a=Hi().getOlMap();let e,t=null;const{infoOpen:i}=Gt(fi()),{locationInfoCoords:n,hidePointer:s}=Gt(Kc()),{clearContent:r}=Q_(),l=new hl({source:new ed({features:[]}),zIndex:hhe});l.set("cyLayerType",_he),f(l),a.addLayer(l),Vt(i,v=>{v||(n.value=void 0)}),Vt([n,s],([v,b])=>{var T,M;if((T=l.getSource())==null||T.clear(),v&&!b){i.value=!0;const I=new Rr(new Xr(v));(M=l.getSource())==null||M.addFeature(I)}},{immediate:!0}),a.getViewport().addEventListener("contextmenu",v=>v.preventDefault()),Ma(a,"pointerdown",v=>h(v));function c(v){return a.getEventCoordinate(v.originalEvent)}function h(v){t=v.pixel,v.originalEvent.button===2?(n.value=c(v),r()):v.originalEvent.pointerType==="touch"&&(window.clearTimeout(e),e=window.setTimeout(()=>{n.value=c(v),r()}))}Ma(a,"pointerup",v=>{t&&v.originalEvent.button===0&&(s.value||(n.value=void 0)),window.clearTimeout(e),t=null}),Ma(a,"pointermove",v=>{if(t!==null){const b=v.pixel,T=Math.abs(t[0]-b[0]),M=Math.abs(t[1]-b[1]);T+M>6&&(window.clearTimeout(e),t=null)}});function f(v){const b=new Yr({color:[255,255,0,.6]}),T=new br({color:[255,155,55,1],width:3}),M=new _l({radius:10,fill:b,stroke:T});v.setStyle([new kr({image:M})])}}const phe="https://migration.geoportail.lu/raster",fhe="EPSG:3857",ghe="EPSG:2169",P5=async a=>{const e=Ks(a,fhe,ghe);try{const t=await fetch(`${phe}?lon=${e[0]}&lat=${e[1]}`);if(!t.ok)throw new Error("Network response was not ok");return(await t.json()).dhm}catch{return null}},yhe=iae(P5,300),vhe={"EPSG:2169":"Luref","EPSG:4326":"Lon/Lat WGS84","EPSG:4326:DMS":"Lon/Lat WGS84 DMS","EPSG:4326:DMm":"Lon/Lat WGS84 DM","EPSG:3263*":"WGS84 UTM"},bhe=[46602,53725,106944,141219];async function xhe(a,e){const t=Ks(a,e,Hl),[i,n,s]=(await Promise.allSettled([She(a),P5(a),The(t)])).map(r=>r.status==="fulfilled"?r.value:void 0);return{shortUrl:i,elevation:n,address:s,clickCoordinateLuref:t,isInBoxOfLidar:whe(t)}}function whe(a){return Sh(bhe,a)}async function She(a){return(await oh.getShortUrl(a)).short_url.replace("http://g-o.lu/migration/","https://migration.geoportail.lu/s/")}async function The(a){return(await(await fetch(`https://migration.geoportail.lu/geocode/reverse?easting=${a[0]}&northing=${a[1]}`)).json()).results[0]}async function Ehe(){return await new Promise(a=>{if(window.hasOwnProperty("google"))a("loaded");else{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyCObzX7dJqeGm5Wv2VwS4JzNyEtLsOgWX8",e.onload=function(){a("loaded")},document.getElementsByTagName("head")[0].appendChild(e)}})}const Mhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACVxJREFUeNrsne9vFEUYx+e2XIG2pHcgBFrFMyrBYEIRor4hFnxplB8vfCn0pb4p/AGm9q1v6j9gWl6Y6AtpjRhDorTqC0wIWhAhISFeMRYFhCvQa+F6XZ+nt3vObXf3dm9/zOzs8002bEt7O53PfJ95Zm5mjjESiZQeZUQ8VNd1Yc+WUHomE39VrElbo5MNuqgHCwGPLZxcL87toh2/LPj5MkBPl+M516cZfkXkw4VWOsBfNkK+ljLoSyLdziRxG7b89Snq76sAfUl0IYSDx5YPwopYmxLwCzIUQor+FeA/AfjtKejvH2P3RuBXOyGvcoiHa1GWwkgDHpxQBddjxXQpCv6B6IROVscj/EcAv0vBkL+A3ZlMBZKxgktwbVUsxN+XrVDSgQdnLILrH8FtzuuvCCqq17D9rywJneyOR90zwGcTDr4M0B/KWMFSgjdm9G7DbUFS13t1+y1Z+x9pkyiA/wDgz3sc4skIfla2hC4R4A3NwLXJYzkzEkGfB+izMles1OBxThtcfxNudyYM/FXZhxrSj5cB/t8A/xm43SgBeC/QZ6DMJQIfjq7A9YaHLD8jGHwZrhtJqNBEgAcHLRghf5dA8F7cfhHKWiHw4cK/CvCfa5LliwT/p+wJXSLBGzoP11FBrncD/8QoGyPw0bj+Hrj+Mty+GjP4Zm6/IPOYXQXHoy7B1QdXd0zwm0G/CdAvJa0SEwceKvkxuP4s3L4Xo+vd4E8l0DzJfN8b4M8A/GtwuzcG+G7Qv4Oy/EPg49U3BviOCMG7Qce3W79PauUlFrwxtv8Cbj8Q5PjPE2yaZC9xAvjTRsjfFxF8J+jfwrOvE3ix+swI+Z0hg3eCjm8Vjye90hIPHpx3G1z/Jdy+H7LrncB/DM+cJ/BywB8H+Afh9pWIH/UjPOu8EnXGFBGA78G+N8JH4Nq5d5M0H6+84w3XzwL8T+F2MKJHjKgCXSnHc87HsfXLIb/sFYD+pkr1pCL4/fDP2ZBf9jUA/xsjSQ9/RA9PQ1SjyQGfg+uPEKDja+RUrKOMwvD74Z9J8+tSRWfTc9WVa67SOETvzmZYX3cb639qVa57AEL8FIFPmCbvVCa/mq30T9yqsGLZ2/Y1bADHnm1n+zetGduXXzOgat2oCf70/cPGsK4/4CtNwDXMjuanCbzcwHFlzogTcAzl6Ohce+OfXZxfrncDDhqD6yQ0gBKBlw/6CQN6g45vb2eHerLs8LbmG28xD8Bu4dTMEzZ1d9XBVAj9CMCfSj14PKNO1JGcFuijyJj/1kcvrWODz69luax9+T658bgeAeyEOcHJywsrDcGiAYA/JkHyGqjugx4siGeVZYxDCqWAjiB/PbiBDe1c5wgd9cOdJTtX11Xo0Nj4650rl+V1RuGZx0UCxzoPatqgjrf+fu1k4riigAU6hvXRvR2eQnr+zFy9kXj5+QM/PbLmALE5nzNWQ8UGOUwp7KNEM7FFgVqf7hv6SqpuhG8E6WWYh46f3N9l7RZGjWQyLneH6qYoz5A1G0D4jeD/7N03dBSM7Vc1ghbhj0NZclHADiOciwJv2whCer0Rvk/3A93M3E1hBu9VCN/S5xfgOhES8MhhiwDPdwNaoChw+n4/P073A93O4V7DPZ/0DcGIgdMglKkQ0N1aFOFcFvDWRqC12AiG+CGb03DMS5g35Zbd2+kEDBO5ef0c87n4g4OtiZpLkeGceLMRNG8Atb697nYcp/uVHWS7xtBMgy80PPt4C+4WKpk+IMBLFDjGJ3Ru43SnMF+q6J6/7yacCcSwX3d97f0BN9hSAJcRvLVcbWYj4OvbvMFpWL9yc7bX7N4Kn9Mhm1DeJmsdy/6RIGYUaNt0ppRn3IGHXube/cBtJdxbGl+frO62U2JW2ZarbI95b7NgouUwH8TxlnL0sQR9tk5iClpZ1nfzQ6oww3wQ+PyoYsPXc7sJfMjSudOsC51aS44Po3HYTeqYquosMevzUvGZbxfuLLKeJ/dYT5Ofuz4LEPcW0lAl6QD/YnaRfbj0S/PuRFvPvB+YnWyl4oP+crkc6+xsPrX7dG8PS4uSk4VmVk6yXtF0qer797u2bGv6M/ne7b5fl5/nb8uwEoEPu0/KZIp2le1VzaC2Z7Osr2ejr9fE4SFflodvd18i8KEm9Gy5/E73ubrj56q+p1gRaqV9veP/d3qICFZZ5v2nWO0TsnUCHwJw/JgSXGJkLOeaDjLmduvDW+nfLcO/aaOcCL8qeyOQETxWXtUEbvm/U/WbGf8niDqF+zIMbnp9grcu6ODLho2UawRSNgBNRne7/NwEH2b99vVO4R6hB3ynr+i028ZoALpsDUATDFu3hHJ3Hc1jgjdmfonr3v1qR8+WwGEegQ9fa/iY2OFmvyNbFNAEultvcXnwMO86v3293bBuR+8WfwUA6Fy0KfKRyIssjUAX0QjiBO/P3R5dP3Cx7CvDx7Be5iYsl/JbWTbr/S1e7GJwF05DQwywp05UV6DF4G49gLuddJLV9rLVNzt4hY99OZ/I7Sr0en4oDiOP/DzfOIQLaVMFFwViiQBahO7WjT8m/FevOewID8QPfL5P99q/2zyjoQxhymwEUXYDWkTujj5W1XatDljBeMn0zXCPYX5zR7un8G4D/UDU26ZN40QRBTTp3e0Of8wKf8+5h9Y+2DHcNwvzCBpHDg7QYz0sIewooMb++Nru1VH+W7gsCpdAO63N+734Fytsztu+a2dOzliyd2HQI2lITBXV1tzjqdIF/tu4TAvh48JIt7V6CBtDOk7DOqzPm2K1gxGUOBVDtaNQcOkT7mXDnS22y6BWjkKxzNKhq11yg6IxZBtTqapUPfyoaQPwoKIxWTSh0tk3aoNvbAS4CQM3O/QZl2sCz2rvAJ5S8aSrdIE3hx7GnjVcAm1dDdvRxmbuvtWNDq9KcaYPgQ8VvJdtteb8ufLSUgI9Q0ZIIXg/QEM8tYPAC3a7XycT+JT+jWLP7YtJqdhJw/zPbWdYQlbLkuPD7a+VD/dpSe7ibDQEPmFJXaqksuODQlc6ySPwKe3rlQQfYv9M4CnJI/CU1BF4Zft25ZM8Ap/Svl6pKVvDmepPtJPj43OmauGesvqUhntlwMfhSJVcr5EjqY8nt6eocWnk9nSGe0ruUur6xINPw/o4Ai+JA1VobBq5nUYQJBKJRCKRSCQSiUQikUgkEolEIpFIJBKJRApd/wkwAAHhnfmUwUh3AAAAAElFTkSuQmCC",Lhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACR9JREFUeNrsne9vFEUYx+e2vQNaau9UGmkRzyhE9AUlGMMLScD4jiiFxMT4xvJeU/gDCPYvAN/pG1te+oYWxXcGC/gCY9DWaPwRtIcBVCBwZ+GA3l3X5+ntnnPL7u3u7a+Z2eebTLqW9m46n/k+88zczMgYiUQikUgkEolEIpFIJFmUSboCuq4LUY9YGz2T0ZOuQ68AjZA2+LoIlegVqDG0FMBfEcHtwoA3XL8Cj1nFnb5CY7z9eN8rUBQKW8vQwYUBL1ojN6DkFAz5dZGgCwcexz/QQ3jsVyzEL4tWKeHCKsBvAPw6PK4VeMjyk6AtiZLQCQ3e0H0o66D0SA7+IUCvidjAQoI3Qv4SPG4QELxX6Dim3xV1/BE2gwb4ywC/Co+PSer42zhsEfjuVIEy6KGeojn+PkBfErlhhQaPUyBw/Q14fFaQkO8FOrr8huhTDeEXSwB+FeCX4XFIEvBXRU3opAJv6G8j0VsjOPh/AfpNGRpUCvDG3H4RHrcnCN4NOq49LEpiJHnWxQF+BeD/A4/PJATfDfwvUMcHBD4a/QHlaSh9McN3g34LoP8pU0NKBR6TJnD9AjzujdnxncDjOvyCZAaS7yNQTJ6M8f5FQRz/K9TpHoGPR+iwLazzql4mBugY4hdkbEApwRvLuefh8a2EHX9OUuPIu9sF4F8F+D/C4ysJOf68LHN2pcAbugBlFEohIvBO0K8D9AsyN5zU4HHeDK6fgcf3I3K9E/gZyQ0j/8ZGgH8Z4M/D46shw3eCfhre8xqBF0OfQtnN7PfqhQl+EaB/pkKDKbObFVy/C74cjRj8ewB+UYX2UmYPOwC5aIT83RG9xSeqQFfK8YbrB+DLF1AGAv6Nuk0Wv0+ltlLurBrAfx2+fBzyy74D4L9RqZ2UO64EgL4E+F/DY1gO/Ug16Eo63nA9btC8DCUf8KVKUF7GvQCMJA38MT249qjaPhnF4eMK2xg+l2s6m680Vkul1p67DWYzbHSwh+15sm3kOwFOP6Jq2/SqDH7vhbsfAtCx2b9qrFT1dlgVO8Dbm3LlS+X6SZXbRk3Hn7qDLp+AEjRUz0KZZAcL8wRebOD4Sd1xJ+AYytHR+Vz7n126t9IaBhw0DeUIdIAygRcP+mEDepvGN+fY/uEsG9vofssK5gE4LJy8sszmbtUf+WcoBwD+XOrB421VeH+NANCnkDH/rQ+2rWUTz61h+ax9/U78/rAVAWzncZATHPnh/mpHsOgQwJ8WIHEN1PZa0I4DFcgY15UJAR1Bfv/aADv2wlpH6KhzN+t2rm6p2KexmV39q8XyOlPwnuNJAsc2D2raoI63/n7zwrq4ooAFOob1qZ19rr+GIb1wptLqJF5+HmYI1hwgNudzxmpr2CA3bWgh1zETWxRojum+oa+m6kb4RpBepnno+K92r7cOC1NGMhmXu0N1kxZhvc0OEH4n+D979w0ddfp67ZFO0CX8GahLPgrYYYTzpMDbdoKQXu84P6b7gW5m7qYwg/cqhG8Z84tQDocEPHLYSYDnhwEtUBQ4dWcPP0/3A93O4V7DPZ/0HdvWdiHXBNSpGNDdWhThXBTw1k6gddkJjvFTNqfpmJcwb6pTdm+nwzBN5Nb186y5SujX3RpL8P7epMDbdQL3DtAc21tux3m6X9lBtusMbpp4vu29x7twd6ISAbyfKPAun9B1mqc7hflyTff8/U7ClUAM+y3XNz8f6ARbqNu5RQJvrVeP2Qn49jYfcBnWrzo522t2b4XPab9NKO8RtY1FBW+NAj1PnCkXjCzartG7SuyChntL5xsV1d12kubz+GqD7TCfLRsmAoX5II631GNUAiNJ4/iWaiv6dn5KFWaYDwKfn1UMfF7ZTuBDls5tnCz2a105PozOYbeoY6qhs7ws7an01itT3958wIaXb7Nhl5/77TpA3FlMQ5OkA/yW7AN2tP6d+3CirePzR6WlpeGPzOfzrL/ffWl308gwS4vkyUIz7Ir5PF/2fxv4+qGNrj9TGNns+3X5df6eDCsT+LDHpEymZNfYXuUGNZfNstHhx329Jk4P+bosvTG4QOBDTejZSvXNwbMtx1cavpdYEWott87x3/s9RASrLOv+c6z5f6XQCXwIwPHOetxiZGznmg8y5+40hnczvlumf/NGPRF+Q/ROICJ4bLyGCdzyb63TLX42ULiF+ypMbkZ8grdu6ODrhp2U6wRCdgBNRHd3+LlZPsz6Heudwj1CD/hJX8nptI3RAXTROoCWMGzdEso762ABE7xp8z9x37tfbR0eChzmEfjkz203lE+6/Y5oUUBL0N16l9uDJ3nX+R3r7aZ1W0eG/FUAoHPRpsRHIi+ydAI9iU4QJ3h/7vbo+kOXqr4yfAzrVW7Bsl54imWz3j/ixSEGT+G0dcQAZ+qSGgq0GNytB3C3k/DcetkMu3jYwSt8HMv5RO6l4ojnN8Vp5IGL99qncCEdquCiQCwRQIvQ3brxx4T/6k2HHeCB+IHPj+lex3eb92irQ5gyO0GUw4AWkbujj1XNU6uHrGC8ZPpmuMcwv6Ev5ym820DfG/WxadM4UUQBTXh3d4Y/bYW/4+ySdQx2DPduYR5B48zBAXqslyWEHQXUOB/fPL06xX8Lt0XhFminvXk/la6x4oaC7ad25uKMJXtPDHokHYmpouaee7zsqMh/G7dpIXzcGNlprx7CxpCOy7AO+/PmWPNiBCVuxVDtKhTc+oRn2fBki+02qNWrUCyrdOjqDrlByZiyTavUVKpefuTaATyoZCwWzap0943a4Ns7AR7CwMMOo0bpmMCz5ieAJ1W86Spd4M2ph3FmDbdAW3fD9vWwK7f2DaLDG0Lc6UPgQwXv5VituX6uvLSUQM+QEVII3g/QEG/tIPAJu92vkwl8Sv/GZO/ti0mpOEnD/K9tZ5gku2XJ8eGO18qH+7Qkd3F2GgIvWVKXKqns+KDQlU7yCHxKx3olwYc4PhN4SvIIPCV1BF7ZsV35JI/Ap3SsV2rJ1nCm+gvt5Pj4nKlauKesPqXhXhnwcThSJddr5Ega48ntKepcGrk9neGekruUul568GnYH0fgBXGgCp1NI7fTDIJEIpFIJBKJRCKRSCQSiUQikUgkEolEIpFIoes/AQYAq9k65sP/+QUAAAAASUVORK5CYII=",Ahe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACL1JREFUeNrsndtvFFUcx89Mu6W0YHdVGmgJWSOiRCNFXnxQAW8vRgETE9+EJ30rPPhosK9GA/9BS+KDiQnUSOKLwaImmuClmigJCcnWCxAhdAu2XLbb8ffrzKxnDzOzZ3ZuZ878vslwlu3udOZ8zvd3LnPOKWMkEolEIpFIJBKJRCKRSCQSiUQikUgkEolESlCGihdlWVaYa8vqHiypizMMi8CHg4/XZip6D7IwmwCeHN8F/B5F4VuS0Fco1Hcf8tcoBl8W+l2q46O7fq1C92FJ/HxJ1bo9N+Ad+Gsd5+fB8YsAvUGt+vjgVyDpVRz8HYB+g7pz8YIvQTKc8f0EQV+G46rKDbpcgnfglyGpZHRPnUL8ZYB+Oy95mSvwDvxqQH1vZOT2eYD+T57yMY/g+yF5VCHHY7ftAoBvEvjk4Y9CsjngnowEoPuB/x2g38xbHuYSvAN/FyTrUgLv12D7C6BfzGP+5Rn8ekieSem+vNx+C45vAfwygU8f/lZIdiR8b34h/ixAv5bXvMs1eAf+S5BsTBn8eYD+Q57zTQfwGPLf8OniGQlAx5G5T1V/CKM9eAf+U5C8kBL4TwD6n3nPs14dwAOInwD+k/DyoYTBf6cDdG0c77geh3LfZfc+wjVign4djg8B/C0Crx78FyF5MyHwHwD0C7rkVa9O4AHMlwAf+/ZPRIQvQj+tE3TtHO+4fhCSj1n7qF4U8FfgeAfALxJ49eE/B8lHXd6r6Pa3sfGoWx716ggeQH0N8M/By5cjnmpSR+jaOt5x/X2QzMIx1OUp/oBjd16mUpHa4e+Do9nlsVvnvDEKAP8UJPvrDYvNLjRXj4VGezU+VDLY2FAP2/Ngq+Y7Dk4/onO+9GpN/eT82OgXN+p9JmO1Jbk5kFgAoJAswHer7PVKjRyfL+D74d9xOPZEPNM0HBNQAGYJvOIOh3+P+QHHUI6OLve133ZtcaVVDfhoCo4jUADqBF496Icd6G06uKWP7Rspsf2bSh1Pge2A6csNdmLuLpu5ds/EGoR+AODPFB48LmpUYhnwyflJZMy/9f72fjb+8BpWLnlf3/GLd1oRwEvYJjjy663VgiDoEMCfUqDRGinvzagFB9exO6talYCOIH9+fj07+li/L3TU2avLXq5uqTpgslNPD64ewnkm4XcezBK4s3eAkaXjxe/bW1mkFQUE6BjWJ3cNSIX0yumFViGR+fzeb/4V2wCpOZ8zVlvGRlmRa8Z8jUZqUcCu00NDX22qO+EbQcp089DxXz27TqwWJp3GZFrujtVNZoLX7RaA+AvB/6330NBRn11q3FMIuoR/Cq6lnATsOMJ5VuA9C0FM5zvG1+lhoLstd1fYgpcVwhfq/Coch2MCnjjsLMDz1YAZKQqcnN/D99PDQPdyuGy45xt9R7f382+Nr47yRXO3yZJZAaQEeLEQmF0WgqN8l82vOyYT5l0Fte69dBi6idy4fpnZo4Rh3W06+Z9Jfzgr8F6FoHMBsOv2ltuxnx5WXpC9CkMnjW9t+90Hu3B3plIBfJgo8BbfoAvqp/uF+XrDkn4/SDgSiGG/5Xr7+UAQbCWAqwhevK4etxDw+e2+wGHYsApytmzrXoTPaZ9HKO9RNY9VBS9GgZ4HTtcrTivaK9O7athFDfdC4RtT1d1eys3z+KUm2+m+5hpWkcN8FMcL1zGWAyPlxvEtNVasHXyXKs4wHwU+36tY//nCDgIfsyy722SDHzS7cnwchcNrUMdV02LlvOSn3lOvHJ27epuN3L3ORjp87sIlgLirWoQsKQb4R0q32XvLnafHN8y1fPtRa5lFuMlyucwGBzsP7W4eHWFFUX5aoQabc1/P1sNvKbdueFPHz1RGt4Q+Lz/O32OwOoGPu04yjJpXZsuqE9S+UomNjdwf6pzYPeSv5earQ78Q+Fgb9Gxl6bWhMy3HLzRDD7Ei1Eaf/7b3gxIRQZQw7j/D7P3wLAIfA3DcDRqnGDnTuWaj9LmD6vBu6neh+zfrXCfCb6peCFQEj5nXdIELPzvRejEXftMpv3C/BJ2b0ZDgxQkd/LVhIeUKgZIFwFTR3QGfm+bDbNi63i/cI/SIT/pqfqttnAJgqVYAzIxhW0IoD5a9lm3K/S/Oew+rbSPDkcM8Ap8437Y1/USn76gWBcwM3W11OT14gndd2Lreq1u3bXQ43AUAdC7a1PhIJCOhEFhZFII0wYdzt6TrD/24FKqFj2F9iRuwXK5sZKWS/CNerGJwFU5bQYywpi6rqsBMwd1WBHf7Cdeu192wi4sdZOFjXc435B6vjkr/UuxGHvh+sb0LF9OiCi4KpBIBzATdbTk3E//ZbYcd4IGEgc/X6bL1u8fvaLuGOOUWgiSrATMhdycfq+xVq4dEMDItfTfcY5jfMNAnFd49oO9Netm0a5wkooCpvLuD4U+J8HeeuSnWwb7hvlOYR9DYc/CBnupmCXFHAT3Wx9urVyf5t3BaFE6B9pub91vtb1bdUPF8aucOzgit98ygJ1KQmC6y59zjRkdV/m2cpoXwcWJk0Fw9hI0hHYdhfebnzTB7YwQtdsXQbSsUnPqEa9lwZYvnNKjVrVCEUTp0dUDboOZ02aZ0yipdNz/qWAAkVHMGi6Z12vtGb/DthQAXYeBihzHnCGzAM/sJ4Akdd7oqFni36+GsWcMp0OJs2IEeNnftlSF0eFOJPX0IfKzgZZbVWnn5a9AEXg66ITtmkbe/EUvgJcK85MdXYn6uQOAzgo5JmN0TChHuDXK7p7Rv5BUFfOiv6R7uDc2hd72hkO7hnsAX1PU6/00axqI9dibwBXQ737Uj8AVo1BXG9Qa5vZiNPAJfUNfr+LdlozbqCDy5Xd9Gno7gk1groJ3rDc2gJ3ZPBF79MJ/Y6XUK9wS+oK43NIKexv1o43qD3E7gye0FCvcGub2YrifwBXW9oQH01O+DwBfQ7bqEe4PcTn16EolEIpFIJBKJRCKRSCQSiUQikUgkEolEIsWu/wQYAFI1RGtTz7nqAAAAAElFTkSuQmCC",Che="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACGZJREFUeNrsnV1vFFUYx8/MsqW0YLcIBFqDNSiReMESEoMXJsULb4zycmdiAnyClg9Aai+9wm/Q8gEsBbkkWKMXJAZbTYyRaNwaXkyo0Aos0HY7Pk9nZj17mLez83rOPP9k0mW7nZ05v+f/nJc558AYiUQikUgkEolEIpFIJBKJRCKRSCQSiUQikVKUofoNWJaVyz0YhmGpXG4mxX538ab6DZgEoSu3MwKfd12lAQQCr4brLQJfQtfrkmGocVdCt+sG3iK3lxA8NfIky0s5W1tWXvdj6RR4WxQN2EoO8K2A9zfI8dm43gwIWiOF+7J8wON76yoO3yrpeCjoDWeMfktGbRc/R79Qdcxe1VSPWoVjq0/aT9L1fm5fBejr1LjLJ+Vj4O7KAXwLjiWVn9Cp7HhM+esAv+kD30zR7XdUfyyrNHgH/r8AvwYvX0nB9V7g78N3rqpebsqDd3QXjp1w9CbserFR9xCg/6NDgWkz3AWu3w4/3kv4/ni3P4PjpsoNOh0djyn/CcD/E17WE4Ivpvh5XaBrBd6B/zvAfx1evhETvAj9Fpx7Saey0gq8o+/hOADHQIxGHt+o+wugz+tWSFo+0gLX74Uf4wk4Huv1LwD8c93KSEfHY8r/G+Bfh5efdgnfBa8ldG3BO/CvA/x3nZZ+N+CvwDlua1s+TGM5XbyrcOyQuFeE/htA/0znstF+2grAPwY/vpL4kxU4PgTwdwi8+vAvLK9ZE/MrLbaw3GLwuuP3tarB6rUKO75rs+Y7DdCv6l4meoOfeYSDOWfgOAnHSMS/WoDjEhyz7PRgg8CrBRxBj8ExGvNMs3BMQgAsEPjiO/yiH/BRSOX1gQqr9XTeduPpBlvAamCl5XfmaTjOQwAsE/jiQR93oHfo7P4edmKoyk7uq4aeAuv+2ftr7NLiKptbemlYHqGfAvhzpQePU50LMa145tEUMubf+vxQLxs7sHWz4ealL/940c4AXmo0N9j5n59tBoKgcwB/ugAN1lhlH/d5tYGTHkPmumcKHUHOf7CDTbzd6wsd9e2DdS9XtzXSZ7LLx/o3D+E8U/CdZ/ME7kw0NfJ0vOEx+JFdFhCgY1qfOtoXKaUPXltpB0mUzx//7onYBsjM+ZyxOgo2zvSvpKchG5llAbtOl4a+2VR30jeCxJQeJnT8N+9vF6uFKacxmZW7E3VTmmvn3ABIPgj+b71LQ0ddubf2UhB0Cf8yXEstDdhJpPO8wHsGQULnu8jX6TLQ3Za7K2zBRxXCF+p8HBQaTwh46rDzAM9XA2asLDDzaJTvp8tA93J41HTPN/omDnXM6RyDaxqJ6W6TpbP0qxDgxSAwuwyCCb7L5tcdi5LmXQW17r00Dt3E0V3tJ9o1Zo8SyrrbdMo/l/5wEdbHu0EQHgB23d52O/bTZeUF2SsYwjT2Zsd3n+3C3bmqSBsjRMkCZ/gGXVA/3S/Ni0/mgt4PEo4EYtpvu95+PhAEuxDAiwhevK6KGwR8ebsvcBhWVkHOjtq6F+FzOuGRyitFLeOib4XiZoHKq9eWBxn3aDXK2LsM3G7SvRB89aK620vKzLlrttgR9zXXsIqd5uM4XriOOlNoTyFlLnRtwzrMd6mSTPNx4PO9ih1frxwm8AnLsrtNNvh+syvHJxEcXoM6rloWq6lSntpOr+b1w4PnbGj1IRsK+dztewDx6EgZiqQc4N+qPmcX1n8Mr07MbSz61Dy1VYotTWu1GuvvDx/afW14iJVF6rRCDbbovsYp0rLavmdf6GcGh/dLn5cf568YbJnAJ10nGUbDq7CjKgxqT7XK6kM7pc6J3UP+Wh5/PPATgU+0Qc82mp8M3Gg7fqUlPcSKUNd6tvn+vj9CRhAljPvPMXvrFIvAJwAcNzPEKUbOdK6FOH3uoDq8m/pd6P4tONeJ8FtFD4IigsfCa7nAhd9dar9YlN94yi/dN6FzMywJXpzQwV8bBikXBIUMALOI7g743CyfZmXrer90j9BjPulr+K22cQLAKloAmDnDtoRUHix7Ldu0+0+c9y6rg0N7Yqd5BD75a8d+CZNhf1O0LGDm6G6ry+nBk7zrZOt6r27dweE9chcA0Lls0+AzURQJQWDlEQRZgpdzd0TXn7vVlGrhY1pvcgOW64N7WbUa/REvVjG4CqcjEGOsqcurKjAzcLcVw91+Os/stWztxQ5R4WNdzjfk3hkZjvyl2I08dfNpZxcuoUUVXBbIJAOYKbrbcm4m+bPbDjvFA5GBz9fpUet3j+/ouIYk5QZBmtWAmZK7089V9qrVcyKYKC19N91jmt/d1xMpvXtAP572smnXOGlkAbPw7g6GPy3CP3LjsVgH+6b7sDSPoLHn4AM9080Sks4CeqyPt1evTvFv4bQonALtNzfvl8ZdNrJ70POpnTs4I7Tec4OeSiAxXWTPub/MhAfqOE0L4ePEyKC5eggbUzoOw/rMz5tj9sYIWuyKodtWKDj1Cdey4coWz2lQm1uhCKN06OqAtkHD6bJN61RUum5+FBoAEdRwBotmddr7Rm/wnUGAizBwsUOdvbyXvVc6t7c703Cnq3KBd7sezpo1nAItzobtq7DFpY8G0OGtsvwftWUCH2VZrTt+rr3MkkA3yAglBC8DNMFdOwh8zm6XdTKBL+k95rtvX0YqxUoaJj+2bTBFZsuS45Otr7VP92Vp3GUZNAResUZdqaSz4+NC17qRR+BLWtdrCT7B+pnAUyOPwFOjjsBrW7dr38gj8CWt67UasnWcqf9AOzk+O2fqlu6pVV/SdK8N+CwcqZPrTXIk1fHk9hIFl0luL2e6p8ZdSV2vPPgyzI8j8AVxoA7BZpLbqQdBIpFIJBKJRCKRSCQSiUQikUgkEolEIpFIpMT1nwADAMyDqFmN8AVAAAAAAElFTkSuQmCC",Ihe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACVRJREFUeNrsnU9sFFUcx99M3VJaSHcFKrQEmogowYQSPHAxKXhTkT9evAnxbAoHPRhNaWK8eADjwWOLxugJqhLjCdt4IUGgmKDR+GcJCkYauqVQoNvt+Pvtzixvp7O7Mzv/3p/fNxlmWtqd1/d539/7M++9YYxEIukjI+kbWpaVyn0Fl2UYhhbgTWL9KEu0AG/DNwh+VUsA3VI+1HOuf4yYl51e0qKOd7k+ozn4YhpuT72RBfARfJvG0Etp3Txt8Hj/Dg3r+xJAf6BVd84DPjq+U7NW/DyAX9IavA1/JZxWaAL+PkB/mHYiRAGP6chqUN8vAvSCCAkRZgQN4LfD6XHFwU8D+EUCvxz+GjitVBT6HYB+R5TEiAYeW/d9Cob8hwD9pkgJEu5hCcDvgtMGxcBfF6FBJzR4G/5GOK1WBPotgD4tWqJEHS/HsNitQMhfgGNGxIQJ+1wcXI/duy2Sg/8V3D4nYsKEfUKG/V2Af1fiLt4NUaEL7Xjb9VgwdzP5HuHiOPyPovTZpQNvw++B007JwF8A6LdFTqDwToIM/A/gYyaulwT6n6JDl8Lxtuvxuf2LcLRL0Ir/FsAXCXy0fftBwZM5AdD/liE/pWk0YYYCfOwTizqql5cFulSOt12Po3mvMfGe3eNw7KeiDcsq4Xjb9XMA/yJcviBY0r6TCbp04G34lwD+s3C5WZAk4ejc79LlI5NQAD4HpzdZ+s/u78PxMYCfkS0PpVzUgBkN8Cfh8pAAIX5GxjyUdjULZPgkwH8OLp9OMcRPSpt/TGIB+LVw+gCOroRvfQ+Od0R8zq68423XTwP8r+HyjYRv/YXM0KV3POf8D+G0I6HbXQHob8meZ6qAxwc4YyyZ6VqvAvh/Zc8zJZYqIwiA/xlcvh3zrT5RAboyjuec/zmrTNyIQz8D9H2q5JVq4LfD6VxMH78XwF9VJa+U2pUCwQD8j+Dy3Yg/+n2VoCsrgH/Zik6XKUflAT8QIfhBFfPIUBj+cTgNO18Xihabmi2Vj9li7bYz3RmDDXS3scG1y2q+kxDijxF4yXT+9uJfX15f6B+/WWT5eX8bUGABeH1zO3v5iUx+yypzpyjr2Qm8H52eOQD/DrHwc/TG4Rhhh3JTBF5s4APw74l6wDGUo6Oz7bV/dv7eUrUaqKMxOI5BASgQePGgH7Wh1+jwpna2vzfDDmxovqUetgOwWjh1bYFNTC9bBIPQDwL8Ce3B4w6VSe/BWgf6KDLmv3V8WwcbenIFy2a803fyj4fVCOAlbBMc++l+uSC4dATgjwnQeA2V92H3lzNw4yJ7i1IhoCPIy3tXs+FnOupCR03eWvRydVX9nSY7s7urfLg+ZxTueThN4PZmUUaajnf/fmVP8qSigAs6hvXRXc23zMOQnjs7Wy0kfn5+zw933W2AxJzPGasmY8Nshxr1jpJGYlGgUqcHhl5uqtvhG0H66eah479/fpW7Whi1G5NJuTtSN8W5lahTAKIvBI9a74Gho766UVxWCFqEfwbSko0DdhThPC3wnoUgos87wdfpQaA7LXdH2IL3K4TvqvP74TgaEfDYYacBnq8GzFBR4PTMIN9PDwLdy+F+wz3f6Bve1sF/awjS1B/S3WYc4VwU8O5CYLZYCIb5Llu97pifMO+oUeveS0ehm8iN62dZZZQwqLtNO/9T6Q+LsF24UwiaF4BK3V51O/bTg8oLsldhaKahLTX3PtyCu1OVSPvE+4kCr/MNukb99HphvlC0fH+/kXAkEMN+1fWV5wONYAsBXETw7nS1OYWAz2/nAodhg6qRs/227t3wOe33COVtouax6G+GcKJA25qzhZzdivbK9JYadmHDvavwDYjqbi9JM+duvvRo5yuPCRMth/kwjnelY4BJ9IoVaRJaXLJ28F2qKMN8GPh8r2L1N7M7CHzEsirdpgr4LrMlx0dROLwGdRyVLJaVJT+1eOnfhVsPWO/Cbdbb5Od+uwEQd/XrkCV6gH8q84C9t3ipeXViruTbj0pLi/e9ZbNZ1tXVfGh3Y18v00XytEINds25nioEf0Hjqp7m2+Pl+jYF/lx+nL/NYAUCH3WdZBh5r8z2q2ZQ2zMZNtAbbId07B7yaZnb132FwEfaoGdL8690VxdD4hO1oEOsCLXYXn+TrK6e4Btmusb9JzCddnoJfFjg+CpOnGJkT+eaCtPnblSHt1K/u7p/U3Y6EX5J9EIgIvjyO9Ud4K7/O1W9CDCBolm4n4fOTV9A8O4JHXzasJByhUDIAmCK6O4GPzfOh9mgdX29cI/QQz7py9dbbWMXAEu0AmCmDNtyhfLGOpTDBt6Y8yXOew+qrb09ocM8Ah/5peYt4CPNfke0KGCm6G6rxenBI7zrgtb1Xt26rX09wRIA0Llok+cjkR+5CoGVRiFIEnwwd/t0/ZGL84Fa+BjW57kBy8XcepbJ+H/Ei1UMrsKpKYgh1tSlVRWYCbjbCuHuesI16wUn7OJiB7/wsS7nG3Lb+/t83xS7kQfP36vtwkW0qIKLAolEADNGd1v2HxP9p1ccdpAHEgQ+X6f7rd897lGThijlFII4qwEzJnfHH6sqq1aPuMH4aek74R7D/LrO5u83wvDuAX1P3MumHePEEQVM4d3dGP6YG/7Oc3PuOrhuuG8W5hE09hzqQE90s4Soo4Aa6+Mrq1dH+W/htCicAl1vbt7V/D+sf13O86mdMzjjar2nBj2WgsRUUWXO/RnmeqCO07QQPk6MbDRXD2FjSMdh2Drz8yZYZWMEJXbFUG0rFJz6hGvZcGWL5zSo8lYorlE6dHWDtkHe7rKNqZRVqm5+1LQA+FDeHiwaV2nvG7XB1xYCXISBix0G7KNhA55VngCeUnGnK73AO10Pe80aToF2z4btbGPXpl/qRoeXhNjTh8BHCt7Pslpn/JzAKwLd8DtmgXMBCLxiYd7njy9F/FyBwKcEHU9Bdk/QItwb5HZPKd/I0wV84F9TPdwbikNveUMh1cM9gdfU9Sq/oYKxcI+dCbyGbue7dgReg0adNq43yO16NvIIvKauNxSEHrZRR+DJ7eo28lQEH8daAeVcr9rbpGP7mwi8+GE+to9XKdwTeE1dbygEPYm/RxnXG+R2Ak9u1yjcG+R2PV1P4DV1vaEA9MT/DgKvodtVCfcGuZ369CQSiUQikUgkEolEIpFIJBKJRCKRSCQSiUSKXP8LMAAgIM/5WinRSgAAAABJRU5ErkJggg==",Rhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACQJJREFUeNrsne1vFEUcx2f2egVasFeFBlokTUAi4QVFYuILjaCJLzTKQ3xveW9S8L3B/gX4H1ASE19JayT6SmiiicYn6gOSkIBXH5BIoVcejpbjuv5+d7vH3LK3t3s7ezsz+/smkx7l7jo7n/n+5mFnZhkjkUjZEdchk7Zta5NXzrlN4OWCt3TIKoGXD9/SIL+rBF4+eMxrTvEw/5Da+GTg5xXOcxXAVwl8MuB74EePotlb0SXM6wge89unqNuXaTiXLPy18COvWLaWAXyFwCcf7tcrNoRb0q0ctQPvwC8o1NbfB/D3CHx3wK+DHwOKZOeGTr153cHjZM5mlv5sHrbtCzqWoZbgHfgbFWjrFwD8XQLfXfBr4MfTKV4DDuGu6lp+PbpmHAp9BeBj27oupSzcZhqrh+mtEqQNKbgeZ+gWCXx6QtflUriO2xBxHhD49MJ9FcL9HXg51EXXa+92ExyPug5paxfBV6DC/Ufg03f9XXA9ht0nuuT2GwaYxQjHo/6CNNYF1yP4Pwm8WuEeZ/HWJAy9BBHmNoFXJ9xXINxju7sjYfBXDDGKMY5HXYa0O8FwvwLpbwKvnutvgutvOj38JNx+Vfexu6mOd12/Q7Lr3XV0v5pUUEaBB0deBNe/Di/Xyu48mjB2N9nxqN8hvSjR9ej4H0wrJBPBfwPpNUngEXoZ0iUCr364vwXhHidZnpX0lRfgO+8TeD30HaTnJLgeHX/exALihoLHFTofsXhLsxD6H+D290wsH1Mdj/oa0pEYlRvBf2Fq4ZjseFyF+0mMr8D7/G/rupgys44HYNcBPvbGn+/wK740FbrpoR71OaQDHX72Y5MLhhsOHkM+TuNG3XXzG7j9VZPLxXTHo2YgvRvxM6cYSXvHj9rRtOhsyiQZAH86AvhMuJ1nBPyhUsWenluqMkxLleYTSwbynI0N5Nj+jbWWby+073MEXmedWcQFmO9AOgRpNOSnEPrpWt/gyGCRwOsFHEFPQNovoWM4CRVgjsCr7/CTrYBjKMeQXuhtvuzivVXmNgMtNAXpOFSAEoFXD/oxB3qTxrf1soPDeXZoS/vzkqAfwGb+rbDT8w/Y7MJjZxUi9MMAfzbz4PGMWegIqQAde+Lj4q8+2LWWTWxfwwp5//x9eGWlEQH8VCyvsuO/3K9VBI+OAvwpBTqssco+Lnj383ZqFcADHUGe2tfXEqirw9/eYy9v6mHHtgfvwUDwR38s16KBCvDFk7zjHKgoC3zjV06GUoGOYR2hhwnpg2eXapXjwisbQr3/wFd3vX2ArsF3YD/GKw542YcHYcY4Vgghs0m26ZGhuy6ujdsAJIb0dsLm4vxL671R5JTTmUwUuGMuLrs/luSpUW4FkF8JHvXeI0NHfXqt8lgl6BD+NOSlkARsAXgi6tZxYVy4GBk66W3Tw8rtubvCHnxYIfzpF/rFDiNOCh2TBDxx2GmAF5sBK1YUOLO4XxynR4Hu5/Cw4b5Bus9iJ3Y17deYgDyNxnS3lUQ4VwW8txJYHVaCE+KQrV3vPSjMu/IZswcKRwLOvH4tELD6LGFUd1tO+acyHFLhOS9uJWhfAepte8PtE9ujb4f3g+xXGdppYkfT3x7vwN2pSqUH/ISJAu+IHbpWkzNBYd4zHg/8fZBwJhDDfsP19fsDQbCVeqaOqk92wnzl3Eoglrf7AqdhoyrI2WF79174gg76hPKcqmWs+iO93CiQe+psaZAJt1bDzL1HgdtJuPdUvjFV3e0nbdbclatsr/ta6FjFDvNxHO/JxxjT49l4Wji+ocqqvUccUskM83Hgi6OKDZ8t7SHwkmXXh0118P1WR46XUTn8JnVcVW2mzSLNLCyvZt/fWGbDD26x4Tbvu3wNIO4bzUKRZAP8M/ll9v7Dn9o3J9Y6Fn5pnt6ysnCRhUKB9fe3n9rdOjLMsiJ9eqGczbuv50rRn/2zfmhL2/cMjmyL/L3iPH+OsxKBl90mcV70K+ywage1N59nY8NPRvpOHB6Kebnz5sDPBF5qh56tlt8aONdw/FI18hQrQq30tn6KSX+IiOCVZ95/FvPJHp2LR+DjAOec157J7iznmosz5g5qwztp3z3Dvzknnwi/qnolUBE8Fl7VBe75v9ONF/PRTxdtFe7LMLgZiQjeu6BDzBtWUqESKFkBLBXdHfC+GTHMRm3rW4V7hB7zTl+x1W4bpwLYqlUAK2XYtieUB6u+l23K/Seue4+qncNDscM8Ap+81PTU8Ml2n1EtClgputvucHnwpOi6qG2937Bu58hQtAwAdCHaFMVIFEaeSmCnUQm6CT6au0O63mezQ6AwrJeFCcuHg5tZPh/+Fi82MbgLp6kixthTl1ZTYHXB3XYMd7fScVbfy9bY7BAWPrblYkdu9+hI6D+Kw0jcgdM0hJO0qUKIAl2JAFaC7radi5H/7XWHHRaBRIEvtulh23efv9GUB5lyK0GSzYCVkLuTj1X1XatHvWDC9PTdcI9hflNfb6jw7gP9QNLbpl3jJBEFLOXdHQx/ygt/77k73ja4ZbhvF+YRNI4cWkDv6mEJsqOAGfvjzyyOM88RZbgsCpdAt1qbd7H4DxvdNOh7186dnPH03lODnkhFYqaovuZ+mnluqOMyLYSPCyOD1uohbAzpOA3bYn3eLKsfjGDEqRimHYWCS59wLxvubPFdBlU7CsUzS4euDugbFJ0h25RJRWXq4UdtK0AIFZ3JohmTzr4xG3xzJcBNGLjZYcxJgR145h53ZuBJV9kC7w49nD1ruATauxq2L8fmF94YQIdXlTjTh8BLBR9mW607f07gDYHOw85Z4FoAAm9YmA/59lXJ9xUIfErQ8UeU0xMyEe45ud1XxnfysgI+8sdMD/fccOgdHyhkergn8Bl1vckPHGQs3m1nAp9Bt4tDOwKfgU5dZlzPye3Z7OQR+Iy6nhsIPW6njsCT283t5JkIPom9Asa5nhsGPbFrIvDqh/nEvt6kcE/gM+p6bhD0blyPMa7n5HYCT27PULjn5PZsup7AZ9T13ADoXb8OAp9Bt5sS7jm5ncb0JBKJRCKRSCQSiUQikUgkEolEIpFIJBKJRJKu/wUYAE/SbDaNtIpTAAAAAElFTkSuQmCC",Ohe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACNpJREFUeNrsnWtvVEUYx+ecZUtpwW65KS1iI0hEX1BCTHyjAaLxhQrULwB8ANPyAQz2E+B7jS1fAGrE+Epa4xsSI1QTITFilhhQLPTCZaFsd4/Ps+ecZXY41z23OXOefzLuWnbPzs5v/s9czsxsiZEKqRIVAYEnEXgSgScReBKBJxF4Uh6l5SWjhmFIn1dN0wwCHz94fNAlzmITwJPjE4JfkjTPBkBvUKhPDjw6fp2EWVsD8E0Cnyz89ZLlG9ug1TyF+byCL8NDj0RZegrQ69SrT6d3v1GivD/MW5jPJXgLfj88rM/we9jDNgzxj2gcn27vfosE4BcB/BqBTxf+ZnjYkMH34N1+N6/ll2fwvfDwYoaOXwDwNQKfDfyXrbY+bcfjuL2a57Jbx/KtB5BeSLEit9v2nJdbvh1vuf4NroefBnjszF3L2xStao5HrUDamSL4xbxDVwX8HUivWN9FSxi6/XmMwGfdVsE4GsI9un44Ydcj+FvweU8IvDz6C9LuBPsuttv/VaS81AAPLnwMrr9nuV5LyO3/wefcI/Dy6U9IexJ0/N8KlZU64MGNd8D1eMNka8zwEfp9uP4NAi+vrkH6IAHHzytWTmqBB1deA9cfgacDMcJ/DOkqgZdfVyB9FBN4DPPXoUKtEnj5he48ysxbtloM4GcVLCP1wFtDO2yT34/YyUPoV+B6iwQ+P/oB0lgM4GcVLR81wYNLF8D1l+HpexHA38DOIoHPn2Y513ej7xQum/zfj/eM1YbxJTy81cVbccLmXZXLRmXHo76HdKSL932teLmo7XjL9Tiu3xXyba+C4+8zUq7BfwqpHiJ9RaWmBvgKpCUjuEaKUC5aQeCfXa4bE/MrDYZppd55cMVAWWOjAyV2aOu6OQjxhwl83nV+aRT+ewLScUhBnYyzfucgzbBPBqsEPl/AEfQ4pEMRrzQDaRIqwDyBl9/hZ92AQyhvhfRKT+fXrj5qMrsZcNE0pNNQAZYJvHzQJyzoHTq5q4cdGyqz4zvKvpeAfgCb+afOzt18yubuPrcJFqGPAfy5woPHk6ikOALk/NIUMub/9Pm+Xja+ez2rlJ3z98WN1XYEcFK11mSnf3vcqgiCTgH8aQk6rJHKPurxYRqeUGEdRSYFdAR59cgmdub1XlfoqB8X1pxc3dZIn84uvN3fSsJ1puAzT2YJ3DoVRMvS8eL7WzUgtSggQMewPnWwL1BIH7y40q4kQV5/+KeHYh8gNedzxuoo2CgHKsZ9YKCWWhQw2/TQ0FtddSt8I0gM6X5Cx8++s1FsFqaszmRa7o7VTUmeFGlXgPgrwbPee2joqG9u15+rBF3CvwB5qSQBO45wnhV4x0oQ0/XO8m16GOh2z90W9uCDCuELbT5OCk3EBDxx2FmA55sBPVIUOL90iB+nh4Hu5PCg4Z7v9J3Z18v/aRzyNBLR3XoS4VwW8GIl0LusBGf4IZvbcCxImLfl1bt30gQME3EoaAcCZs4ShnW3bpV/JuNhGU6DtiuBfwUw2/a223GcHlZOkJ0qg5/G93R89sku3J2pZDoGPEgUOMF36LzG6W5hfrluBP67l3AmEMN+2/Xm/QEv2FIAlxG8mK+SXQn48raf4DRsWHk5O2jvXoTP6ZhDKC/JWsYyH/zPR4HSlovLg4y7tRpk7j0M3G7CvVD5RmV1t5Nys9iy1mAH7OdcxypymI/ieCEfozkwUm4c31a9aeznh1Rxhvko8PlRxaZvV/YT+JhlmMMmE3y/3pXj46gcTpM6thoGq+SlPFVfV9/SzwtP2NDTRTbk87o/bgPEgyNFKJJigH+t/IR9tnbFvznRN7DgS/PyLb0IX7JSqbD+fv+p3Z3DQ6woyk8vVGM37efzy+FPFN24fYfvawaHd4W+Lj/PX9LYMoGPu03ijgkPc1MlKNSecpmNDm0OdU0cHvJ5efDxwK8EPtYOPWvWjg5cajt+pRF6ihWh1ns2uP57f4CIIEqY95/DfLJnp2AS+CjA8ReecImRtZxrPsqY26sN76Z9F4Z/81Y+EX5D9kogI/jWz3XawIV/O9d+EmIBhV+4r8HgZjgkeHFBB583rKRcJZCyAugyutvjdTN8mA3b1ruFe4Qe8U5f1W23jVUBDNkqgJ4xbEMI5d4y97JN2/+L697Dau/Q9shhHoFPXu84vXzS7z2yRQE9Q3cbXS4PnuRdF7atdxrW7R3eHi4DAJ2LNlU+EgWRUAmMLCpBmuDDuTug60/9UgvVw8ewXuMmLNcGX2LlcvBbvNjE4C6cjooYYU9dVk2BnoK7jQjudtNpZu5la292CAof23K+I/fmyHDgD8Vh5NjlR51DuJg2VXBRIJUIoCfobsP6MvFf3XTYGA8kDHy+TQ/avjt8Rkce4pRdCZJsBvSE3J18rDJ3rZ4SwQTp6dvhHsP8tj7/XyTH8O4A/XDS26Zt4yQRBXTp3e0Nf1qEf+DSA7ENdg33fmEeQePIwQV6qoclxB0F1Ngfb+5eneL/hMuicAm029q836u32Mi2Qce7dvbkjNB7zwx6IhWJqSJzzf0FJtxQx2VaCB8XRnqt1UPYGNJxGtZlfd4cMw9GUOJUDNWOQsGlT7iXDXe2OC6Dah2FIszSoas9+gZVa8g2rVJRqXr4kW8FCKCqNVk0o9LZN2qD76wEuAkDNzuMWsmzA8/s484UPOmqWODtoYe1Zw2XQIurYftK7ObdDwfQ4Q0pzvQh8LGCD7Kt1p4/J/CKQNeCzlmo8BPhBF4I8wFf3oz5vgKBzwg6PoQ5PaEQ4V4jtztK+U5eUcCHfpvq4V71HyPq+kAh1cM9gS+o6zWFoTMW7bYzgS+g2/mhHYEvQKeuMK7XyO3F7OQR+IK6XlMQetROHYEnt6vbyVMRfBJ7BZRzvaYY9MS+E4GXP8wndnmVwj2BL6jrNYWgp/F9lHG9Rm4n8OT2AoV7jdxeTNcT+IK6XlMAeurfg8AX0O2qhHuN3E5jelKBVKIiIPAkAk8i8CQCTyLwJAJPIvAkAk8i8CQCTyLwJAJPIvCklPS/AAMAlvlZg3Y9pJwAAAAASUVORK5CYII=",khe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACFZJREFUeNrsnU1vG0UYx2fXcWiThtiFBJqgYgmoQAg1VTn0gtQiISEQtEXi3PQTpP0AUHLhWr5B0jtKg+iJQwlwASFaUwRIiAoHlBbom9M0bhLHXp4nu2vG0931jvd99vlLU7YhXq/n9/yfefHMlDESiUQikUgkEolEIpFIJBKJRCKRSCQSiUQiRSgtiw9tGAb/7El9BnwIQ9M0Ah8zfN16fi1B6O2s1t9AhrMVVn4hoQDG997OcqrPLHhwG5je0BKAj9Db+P4EPnnXa+T2HIEH1zXB9bvhUo8Rfgvfl8Anry0oIzGC31RhOKcK+IGYXN+CskHg05Hu25DuH8JlOeJOHrbtjSwP4VRzPOo+lKcidjyCX1OkvtQAb7m+AZd7I4R/R4VOnWqOR/0LZYJFM5uHbq8rVFfqgAc3boLrH8DlWATg78L91wh8enUTyv4IwP+tWD2pBR5ceRdcvx6y69fhvv8Q+PRrBcqzIYK/qmAdqQce3HkdXH8ELh8PAT5O1vxF4LOjKpS3QgBfhUDaIvDZ0XXrs+0OeJ9fFK0fNcGDSzcg3V+ByzcDuP47uE+dwGdPX0N5PwD4LxSuG3XBg1sfguuxR36sD/g/wevvEPjs6lMoJ/oAv6B4vagNHidewPW/w+WrEvBX4HXXCHz2NQflDYnf/zgHdZLddfUyAtcvwX9e8fGrf4LbDzGSMuBPQWn5KB/mpU60vHzQO5vtP67db1Wqqy222uxeEj9a1NjUaIEdfXKgrPLYPT/gF+5NwZ+nrJ59xeercLr3ApRF9l65RuCzBRxBz0A5GvBOi1BmIQCqBD79Dj/vBhxS+U5KLw12f+zaepthE4DFRfNQzkIA1Al8+qCfsaB3aXr/IDs+UWQn9hV73qIObf/izSa7sLzFlm4/sksKoZ8E+Eu5B4/71FOxP3zhHo7Vp/kfffTSLjbz3GOsVHR+vk+ub3YygJNqjTY7e+3hTiAIOg3w51MwUglU93rQwMEdq9ZBBamAjiCvvj7Czr24yxU66qtb206u7qgypLOLR4Z3inCfOXjP6SSBW7uEtSQdL77ePKoiriwgQMe0Pnd4yFdKL19a7QSJn98/9s0DsQ8Qm/M5Y3VVbJCt2nrIz6jFlgXMNl0a+k5X3UrfCBJTei+h4798bY/YLMxZncm43B2qm/QIn9sOgPCD4P/euzR01Gc3mo8EQZ/wL8KzlKKAHUY6Twq8YxCEdL/zfJsuA93uudvCHrxfIXyhzcdJoTMhAY8cdhLg+WZAD5QFFu4d5cfpMtCdHO433fOdvnMwYuA0A89UCeju2A9yihO8GAR6n0Fwjh+yuQ3H/KR5W169eyedgWEiDgXtRMDMWUJZd+ss3pM8UgHeKQh6B4DZtnfcjuN0WTlBdgqGXpp5vuu9p/twd6JKA3iZLHCK79B5jdPd0ny9afj+uZdwJhDTfsf15vcDXrBTATyN4MXnKthBwNe3fYHTsLLycrbf3r0In9Nxh1ReSGsdpxW8mAUKT1yqlxn31aqfuXcZuP2keyH4ptLqbidlZs1do8U6S6K4jlXgNB/E8cJzTGXASJlxfEfNtnGQH1KFmeaDwOdHFSOfrx4k8CHLMIdNJvhhvS/HhxEcTpM6tloGK2WlPvOwvJp9f2uDTWzd3Tkgx0u/3QCIhyt5qJJ8gH+huME+2L7SuznRdzP/S/OyLT0PH7JUKrHh4d5Tu89MTrC8KDu9UI0t29fVekv69XvG9/X8nfLkfun78vP8BS07R6JlBvyAptWcKtuvekEdLBbZ1MReqXvi8JB/lrV3Rn8k8KF26Fm78e7o5Y7jV1vSU6wItTnofkDGsI+MIEqY91/C57Sel8AHBY7HleISI2s5VzXImNurDe+nfReGf1XrORF+K+1BkEbwWHktG7jw/y50LpblzyRyS/cNGNxMSoIXF3Twz4ZBygVBKgNAT6O7PX5vkU+zsm29W7pH6AG/6au57baxAsBIWwDoCcM2hFTuLXMv27z9V1z3LqsDE+OB0zwCn/21698rmO31mrRlAT1Bdxt9Lg+e5V0n29Y7DesOTI7LPQBA57JNjc9EfiQEgZFEEMQJXs7dPl1/+oeGVA8f03qDm7DcLj/NikX/X/FiE4O7cLoCMcCeuqSaAj0GdxsB3O2ms8w6P97e7OAXPrblfEfu5cqk7zfFYeTJb9e7h3AhbargskAsGUCP0N2G9WHCv7vpsJM8EBn4fJvut313eI+uZwhTdhBE2QzoEbk7+lxl7lo9LYLx09O30z2m+bGhQV/p3QH6sai3TdvGiSIL6Kl3tzf8eRH+octrYhvsmu57pXkEjSMHF+ixHpYQdhZQY3+8uXt1jv8RLovCJdBua/N+rq2wyljZ8Vs7e3JG6L0nBj2SQGKqyFxzf5EJX6jjMi2EjwsjvdbqIWxM6TgN67I+b4mZByMocSqGakeh4NIn3MuGO1scl0HtHIUizNKhqz36BjVryDavUlWpevhRzwDwoZo1WbSo0tk3aoPvDgLchIGbHaas4tmBZ/ZxZwqedJUv8PbQw9qzhkugxdWwQwW2fPvtUXR4KxVn+hD4UMH72VZrqPKPBsc5gZNm6BoZIYfgZYCGeGoHgU/Y7bJOJvA5/YzJntsXk3Kxk4bJz21rLCOrZcnx4bbXyqf7vHTu4gwaAp+xTl2upLLjg0JXupNH4HPa1isJPsT2mcBTJ4/AU6eOwCvbtivfySPwOW3rlZqytZyp/kQ7OT4+Z6qW7qlXn9N0rwz4OBypkut1ciS18eT2HAWXTm7PZ7qnzl1OXZ958HlYH0fgU+JAFYJNJ7fTCIJEIpFIJBKJRCKRSCQSiUQikUgkEolEIpFIoes/AQYApGLE962DTScAAAAASUVORK5CYII=",Phe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACBpJREFUeNrsnV1vFFUYx8+Zdgu0kG7REmkNaaKgxAtK8IIbEzDeGKOAN17S3nll4QMY7CfAb9D21ou2Bq5r1Wg0iq4YYkJi3JoAiSC01K6F7XY8z87MevYwb2dnZmf2Oc8/GbpsZ2fnzO/5P+dlzpkyRiKRSCQSiUQikUgkEolEIpFIJBKJRCKRSKQMxXu9ALZt51IGzrlN4M0Dbwvw5PicwXe9HL3udhTg83A9gTfT9T2f5tGA76brMbidwBvqdmzgMy8PFrejAt8N1xN4Mx2PJs1jrOOtDMvUIMcXF3zJLVPa5QLgTwl8ceHvET/6XeenKYD+BNO1wgYegA+n7Hpw+boAv0vgiw0fwA+mWLYtAX0D23XCCB5S/ZGU0j24fU2A38F2nfrRRbKAJOBDfXwwhcB+iBE6SsdLjbyTKbj+BrZGHVrHu65/IuBvipfjCQ5zFyt0tOBd/SG24wmy2jeIrw1e8MKtNeH6v8TLVzr4+G3x+S0C37uqiO10B66vIL8uuMEL1z4WroeU/7pOg05sGwS+97Uitrc19v8e0104Y8ELiH8L198UL9+KsfuvYvvTADMwbkIhBfjD4se1GLt+KALlRxOuSb8R0c35PQH/K/Hyg5DdvhXbT8wQ9ZtS0M/u1BdG9/CPKusNtl5vv61eLnH2eMe+deXVvbYp1wN3ql98NCn+vSi282Kb0OjKLYhtmb0/UiXwvQUcQM+I7UzCIy2LbVYEQIXAF9/hV4OAn3m+n00O97HyQHuxq1u7rLLRaG4BmhfbZREA6wS+eNAvudDbNHVkgJ0bK7Hzh0uRh4C6f/lenS2sPWWrD565GwvQLwj4q8aDhynNhRjsWHw0B4zltz45vpfNvLSn2XDz06e/P2llAD9Va7vs8s1/m4GgaFrAny9AFzXRtU96v5rD7FZ3TnshoAPIn988wEQLPRA66Mv7O36ubmli0GJLp4eam3KcOfGdU3kCd2cU8zwdr37edvvNuUCHtD53ajBWSh+5vtEKkjj7n/36H7UN0DXnS8biyviEnZfj/QKpO1nAqdO1oTeb6m76BpCQ0qMEjv/ijf1qtTDnNia75e5U3WRleN5eAKQfBP+33rWhgz6/W38mCDqEvyTOpZwF7DTSeV7gfYMgpeNdlet0Hehey90TtODjCuArdT4MCl1KCXjmsPMAL1cDVqIssPjojNxP14Hu5/C46V5u9F0RPQZJM+KcJhK622LZLP0qBHg1CKwOg+CK3GUL6o7FSfOewlr3frokuonQFfQSAXNGCXXdbbFsF3kWErxfEEQHgFO3t9wO/XRd+UH2C4Yozbzc9t1THbg7VxUBvE4WuCg36ML66UFpXr0zF/Z+mGAkENJ+y/XO/YEw2IUAXkTw6nn1eUEgX2/vBQzD6irM2XFb9yp8Sed8UnlfUa9xUcGrWaDvuevrI0y6tRpn7F0HbifpXgm+yaK62089MxGj1mguiWpKalglTvNJHK+cx2QPGKlnHN9Sfdc+IXep0kzzSeDLvYoD1zZOEPiUZTvdJgf8kNWR49MIDr9BHU8Nm5V75XoaMefuh/vbbOzpQzYWsd/tuwLiqQkTLokZ4I+WttnHO9ETaOvWPhZ/al5vyzKhkOVymQ0NRQ/tvjg+xkxR77RCOVvzXsMUaV3tP3Q4cp+R8SPax5XH+fs4WyfwaddJnFf9LnZcRUEdKJXY5NhBrWNC91A+l813h38h8Kk26Nlu7b3hlZbjNxraQ6wAtT6wL/D3QzEygipl3H8VztM9XwKfFDg8Xw6mGLnTuSpJ+txhdXgn9bvS/au45wnwG0UPgiKCh4vX8IArv1tovdCYQBGV7muiczOuCV6d0CGfGwSpFASFDACriO4O2W9ZTrO6dX1QugfoCe/0VYNW27gBYBctAKycYdtKKg+Xs5Zt3vsvzHvX1bGxQ4nTPACf/W1bfms26jNFywJWju62O5wePCu7Treu9+vWHRs/pHcCArqUbapyJoojJQjsPIKgm+D13B3T9dM3alotfEjrNWnAcmfkBVYqxb/FC1UMrMJpC8QEa+ryqgqsLrjbTuDuIF1mzlq21mKHuPChLpcbcq9NxH8GInQjL3y31d6FS2lRhZQFupIBrAzdbbuFSf/ojsMuyEB04Mt1etz63ec72s4hTXlBkGU1YGXk7uxzlbNqdVoFE6el76V7SPOjgwOx0rsP9LNZL5v2jJNFFrAK7+5w+PMq/JMrm2odHJjuo9I8gIaeQwD0rj4sIe0sgGN9vLN6dU5+C6ZFwRTooLl5t6p32MToiO9dO29wRmm95wY9k0BiWOTMuV9iyg11mKYF8GFiZNhcPYANKR2GYQPm560y58EIKJ6Kge1RKDD1CdaywcoW32lQzUehKKN04OqQtkHV7bLNY7pUWB9+FBkAMVR1B4uWMT37Bjf49iCARRiw2GHS3UIb8Mx73BnCJ12ZBd7rerhr1mAKtDobdrCPrT14Zxgc3jDhAcamgY+zrNbG9vfljAYv/d3ZOP3lBoFHluZj7r6L6W/IGgveXW6t8/QEI9I9J7f7Cn0jzxTw2h/Dnu45cugdP1AIe7on8Ia6niOGzliy284E3kC3y107Am9Ao84Y13Nyu5mNPAJvqOs5QuhJG3UEntyOt5GHEXwWawXQuZ4jg55ZmQh88dN8ZofHlO4JvKGu54igd6M8aFzPye0EntxuULrn5HYzXU/gDXU9RwC96+Ug8Aa6HUu65+R26tOTSCQSiUQikUgkEolEIpFIJBKJRCKRSCQSKXX9J8AACQLZIqSxzDsAAAAASUVORK5CYII=",Dhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACNNJREFUeNrsXc9zFEUU7p24ERKo7KKgJBS1VSCS4kCQixc1cLUQsMoqb8BfEDh4tDB/AXrxmnD1EGLBzSoMZalUqRhRC7XKclMo8iOQXUOWkM3u+F5mZu0dZ3and35197yvqmFYdnt6+3vf6/d6unsZIxAI2UFO5saZpil9G/2ansvJ3exnpLZK6DyVySfiNfdMHmjK3kDpiQfVg+hNlYiX3s2rpHh0m32KtHVdhUaqQnwDSl4RtTeJ+GiDPFOB9q6pMh6ponhEHUq/5MPROhEfveqbkqv+KQaiRHx8rnSTpG37R6WOVIp4UNSaPaEjW7tXVQnqVFU8ogZlm2RteqJaJ6pI/CqzZvJkyevroPanRHwyQR4qrCBJkx4qKB4lFY+oQtkuQTuaYIjLRHxyqq+D6h/DZTHlptxTVDjKKh5RgfJCym1YIuKTV/0yqB5n8wZTasJ9TC+J+PRc7f6U7r2ocscpTTwo7i6ofh9cbk741stw7woRny7uQnk54XveVr3TdCD+DyijLLkndyugdiJektTuPlzuSeiWv2ogFi0Uj/gRyoGE7vULES+P6h+D6nHqdCTmW91SOYXTUfGIb6HsTcCzMCJeLtXfBtXjk7u4Ht4swD3uE/Fy4kso78RU9086dZRuxN+y/x6IuN6HoPYbRLy87v4JuPuv4PJYDJ6EEfFy42so70ZY34pdJxEvueoXQfXX4fJoRFVehzprRLwauBahu/9Exw7SknhQ6E1QPU6tvhKyqhtQ1z0iXi18BuX1kHXM6No5OY2Jx42W6PJ39fjxP0Htb+jaNzorHnEZyns9fvZjnTtGd8UPMWtSR3QaF1fXjILiq4ygLPlTpjguUM+pT3ypB+JLuveL7mM8pnZlIHKuUjfH56sNhqVab9/GPpTPsbGhPjb+/EZ3zOJntO8Xrb/dzNIY/HkKygkogVS8rT9XfrRmfoQGwN4ulol4tQhHoiegjIesaRbKJBjAPBEvv8Iv+BGOrhxdeqG//WuXV5rMGQZ8MA3lHBhAhYiXj/SzNultOL27nx0fzrMTO7uflgZxAJv9u84uLqyxucV1rxTvJJA/l3ni8VgSKU5xnFmaQo75lz4Y3cQm9jzLCnnv9n34+9OWB/BCudZk524+2TAEF84A+dMSZCuh+t4Iazh43Kh9Lo0UpCOR3x/dys7v3+RLOuLag3UvVbdQGjDYpVcHN4qrnim45+k0CbePeM2lqXj35007hUqFdHTrU4e7r7pCl168Um0ZSZD3H/nisTsGSEz5nLByrlTVTEvxXoaUjBewxnRh0jdCddt9I5Ho0rsBFf/5a1vcw8KUHUwmpe5I1WTE2G7HAKI3gv+id2HSEZ/eqf/PCHok/xK0pRAH2VG487SI9zSCiOq7wI/pIqQ7kbsDjOCDAsl3jfk4KXQ2IsJjJzsN4vlhwAjlBWaWxvk8XYR0L4UHdfd80Hd+tO1wzQloUymkuo043LksxLuNwOjRCM7zKZtfOhbEzTvoFN174Sykifa8/oYjYNYsoai6Dbv/U8mH0yLeywi6G4A1trfUjnm6KLxI9jKGbpjY23bv0z2oO1XIQLyIFzjFB3Sd8nQ/N1+pm4Ff7wScCUS331K99XygE9lSEC4j8e529TlGwPe3c4HTsKLopOyg0b2bfA7HPVx5n6x9LCvxbi/Q99yVSpFxj1aDzL2LkNuLu3cZ35is6vaCMgsxag12yLnmAqvQbj6M4l3tGFNASMoovoV60zzIp1RRuvkw5PNZxdbL1YNEfMQwuZWypUGjJ8VHYRxekzoOGqY0J2rr4+rD4JsHq2x47REb7vK+3+4AiYdLWeiSbBD/Un6Vvb/e/VyDurGZBVyapzyMLHzJQqHABge7T+3uGhlmWYE6UWiOLTjX85WG8Oe37NjZ9T3Fkd3C9fLz/H05ViHiox6TuLXuIg9VgpLan8+zsWGx3zjC9JBvy/KxoR+I+EgDetasvTV0taX4akN4ihVJrff7H3I9GMAjuOGa959j1s+Hm0R8BITjjw/hEiN7Odd8mJy70xjey/juSv/m7XYi+Q3ZjUBG4rHzGg7hrv+72LpYED9Z1M/d1yC5GREk3r2gg28bGilnBFIagCGjuju8b5Z3s6JjvZ+7R9JDPukr++22sQ3AlM0AjJTJNl2uvDOsvWzTzj9x3bso9g3vCO3mkfDJW6v8S5PdPiObFzBSVLfZ4/LgSV51omO9V1q3b2SHWAOAdM7blHlPFAQuIzDTMIIkiRdTd0DVn/muJhTho1uvcROW68UXWT4f/BEvDjG4C6fNEEPsqUtrKDASULcZQt1+OMesvWytzQ5BycexnA/kDpSCH3GPaeTJ6yvtKVxEmyo4L5CIBzBiVLdpf5noa7cUdpInRIR8fkwPOr573KOtDVHCMYI4hwEjJnXH76usXatn3MQEifQdd49ufvtA998wQvfuQfqRuLdNO8KJwwsY0qu7M/nTbvIPXV12j8G+7r6bm0eiMXPwIT3RwxKi9gJ67I+3dq9O8S/hsihcAu23Nu/n8l+stL3o+dTOmZxxRe+pkR6LITFdYK25v8RcD9RxmRaSjwsjO63VQ7LRpeM0rM/6vDlmHYygxakYuh2FgkufcC8b7mzxXAa1cRSKa5YOVd0hNijbKdu0Tl2l6+FHXQ0gAMr2ZNGsTmff6E18uxHgJgzc7DBml44BPLOeAF7U8aSrbBHvpB72njVcAu1eDTvQxxYW3xxChTekONOHiI+U+CDbap35c+1hZIT0HAkhg8SLEBrhqR1EfMpqF1UyEZ/R75juuX0JIRM7aZj43HaOKbJalhQf7XitvbvPSnCXpNEQ8YoFdZmCzooPS7rWQR4Rn9GxXkviIxyfiXgK8oh4CuqIeG3Hdu2DPCI+o2O9VlO2tjL1n2gnxSenTN3cPUX1GXX32hCfhCJ1Ur1BiqQxntSeIeMySO3ZdPcU3GVU9coTn4X1cUS8JArUwdgMUjtlEAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUCIHP8KMAADkjHSt0v8dQAAAABJRU5ErkJggg==",Fhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACL9JREFUeNrsXU2PFEUYru5hFtiF7I4KkVnENQhCjGEIFy8m4NUo4MErcDAeF36Awf0F+A92OXph18jNBNcQowbEFWNQE8JsVBD52FlWZhdmZtt6p7vGmqJ7pmv6q7rqfZLScZ3p7unnfZ73reqqGkIQCIQ5sPJ64Y7jqHDtjmXl8xZuwMCNTj4Sbx7x63m9cUi8gTafa+LpTXe8PJ/V3W/lWTF5Vzzk10JG524i8dkBVLcxi9xOHWcdic/W7uGljWo3S/FM9UUk3jzimyl/jxZ1mhYSn73dNz27T+u7NDQQixaKZ2RsSulcT5F4dbBKWyklm19F4lXoyLuDOKB4K4Xvs8YeDkGPAolXR/XPJXyOOos3VLwCovfUvppCt67uqR2tXoGqnnhV/SPiDt8mNYRbIzkfn9fR6pnqV2jbntA5Huli89oQz6keVLkzodM81MXmdSvuAPeJO25fTID0pi5q1414ZvdA0ksxH/uBTmrXinjB7vfEfPi/NXNG7awemL9N4n1Gv+R14xwkXm3AWPpd2l6O6XiLutm8dsRzdv8nba/FdNi7GopDS8UD87do2xzDsZa9noKDxOdD9U9isvvrJOfTqE1SPFP9Tdr2RzzOz5reH62J/5W2DyL23e/k/fGrUcR7dv/Ay8+DDub8oWNu113xDFdo2xfB5pH4HKoe5txfoy8/GuDjj2m7qmNRZ4ri/yHucOtuyc99o/l90Z54sOobtL0h+bnvdS3qOo6oe2RTu4cc/5nkxyq6E6+74gG/EbkJGl/qXNQZQ7xX5F2mLz8M+ZF5nYs6Y6zes/sD9F/fhnx7mRJfIwgtiId2y+mPOVPuiW3Cl/Ss++swNm8K8ZYpX/TqUvPYStOZXVhukeVGd+02WrRIZbRADr+w4RUaJFUkPu+4sFSh/zxB2zHaJkJ+aoG287TNkfdLVSQ+X4QD0ZO0HY54JMj5UzQAFpB49RV+LohwauVtSx8b6v7a1cfrBFIAtADM0HaGBkANiVeP9NMe6V04uWuIHC0XybEd/ddY1Gjun7vTIOcXn5L5+89scwOkH6fkzxtPPHSTlBjsuLA0DRzzf/pk/yYyuXsjGSv6X9+nN590HMAP1fo6OXN9tR0IAk5R8mdU6KJGufdRu3MwLGZ5M1uVIB2I/PHtreTsvk2BpLf7dveafqruYGLYJrNvjrSbcJxpes6TGY9JRN7RM6rixc87XL85ddLB1qcPDYey9NLF5U6QhHn/kcv/ijVAasrnhGUJ4xNOVor3C6R0XMDN6dKkt0t1z76BSLD0fgDFf/XWFjEtTHvFZFrqjlVNSY7csQCIPwj+r96lSQd8frvxTBAMSP4svZaxJMhOeoPmtIZsLe7LxIFzfE6XIZ1V7gxQwYcFkC/kfBgUOh0T4Vaau3GnOVbP0oAdyQUuLB3m++kypPspPKzd80Xf2f1dW+pN0muaiKhuOwk7V4V4MQjsAYPgLN9lC+qOhbF5hl7VvR9O024idAWZERB3lFBW3bZ3/zPpD6vwdI4FQf8AcHN7R+3QT5eFH8l+wdAPk692nfvkAOrOFCo9lg3jAif4gq5XPz3I5msNJ/TfewFGAsH2O6p3nw/0IlsJwlUkXryuAgsC/n6zFzAMK4teyg5b3YvkczjqY+UFVe+x6hMxmAsUnr9YKxHu0WqYsXcZcgexeyH4Kqqq2w+5mWxZb5GD7DVXWEW2+SiKF66jQnI0oyk3F9pYb0+Y7HSp4rT5KOTzvYqtXywfQOJjhuN2m1ziR+yBFB9HcPgN6jC0HDKWl/tpwoIKcuXeGik/fUjKfd73+21K4qEJE26JGcTvKa6Rj5vX+qcTezMJPzUv3zBievXY2BgZGek/tLtzvExMQX6qUMvdbw6wUJPfPXzL9h1931Ma3yV9XH6cv2CRGhIfd07i5rvLPFQJS+pQsUgqZbkfuIDuIX8tK++O/oTEx1rQk/X6e6OXOopfbkkPsQKpjaHgre9GQjiCCGHcf564PyvuIPExEA6/4QpTjLzpXAtR+ty9cvgg+V3o/i141wnkt1QPAhWJh5vXYoQL/+9858Wi/M+/Bdl9nXZuxiWJFyd08NcGQcoFgZIBYKuo7h7vm+NtVjbXB9k9kB7xSV81aLWNFwCOagFgZ0y2I1h5b7hr2WbYf8K8d1nsLW+PbPNA+NSNNf5PU/0+o5oL2Bmq2xlwevAUrzrZXO/Xrds7Lvf7RUA65zZV3onCQAgCJ4sgSJN4OXWHVP2pH+pSFT7Yep0bsGyWXiTFYvhHvJBiYBVOVyBGWFOXVSqwU1C3E0HdQThD3LVsncUOYcmHXM4Xcq9PjIc+KXQjj3/3uLsLF9OiCs4FUnEAO0F1O96Xif/orsKO84TIkM/n9LD53eccXdcQJ1gQJJkG7ITUnbxXuatWT4nEhKn0md2DzW8bHgpl7z6kH0l62TQTThIuYCuv7t7kz4jkH7y0IubgQLvvZ/NANPQcAkhPdbOEuF1Aj/Xx7urVaf5PMC0KpkAHzc37pfoXmdhW8n1qxwZnhOo9M9ITCSSiC9w597NEeKAO07SAfJgY2WuuHpANlg7DsAHz8+aJuzGCFrti6LYVCkx9grVssLLFdxpUeysUYZQOVN2jNqh6XbYZnW6Vrpsf9Q2AEKh6g0VzOu19ozfx3UEAizBgsUPFaz0LeMK2O9NwpyuziGddD2/NGkyBFmfDDhfI4v13RkHhLRM2MDaN+DDLatn4ufawDSHdQiEYSLwMoTHu2oHEZ6x2WSUj8YZ+x2z37UsJRqykIfJj2xbR/HdptFZ8hHytvd2bUtylGTRIfM6KOqOgs+Kjkq51kYfEG5rrtSQ+xvyMxGORh8RjUYfEa5vbtS/ykHhDc71WQ7aeMvUfaEfFp6dM3eweq3pD7V4b4tNQpE6qt1GRmONR7QYFl41qN9PusbgzVPW5J96E+XFIvCIK1CHYbFQ79iAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCETv+E2AA7+Ttiwz0jN0AAAAASUVORK5CYII=",Nhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACKNJREFUeNrsnd1yFEUUx7tnswGyobIrBiVBKhQKRXlBkBu9oAzeWYoQL70BniDwABbmCfAFLMILhKhcY6rwgtJCoohUYWFttASVjyQVCIHNZuyTmV56h9n52JnZ6T19/lVdJGFndmZ+/T/dp7e7lzESiUQikUgkEolEIpFI3SLezRdv23Zu98A5twl8vvCtPN6WwOsBvtPw6wQ+f/BwD8UOu71Gbbwe8Dd18F7qBF4f8L0ddP2qAF8n8HqAL4h/Sh0K88uUzunTxoMGRClk/HbPRHlC6Zxe4LeKsiXjt1ty4YPzyfE5g5f3sVmUbRm+1boo9zC4HVMbL+/jjQxz+seiPMQCvofhkO1W4uduyM+kN6+8F3XuNHM9QN+V0VvcxOJ2TI6XWnZDfdr3tYjJ7djAy3AP6dZgBhWKdXtPHiV4gOL28CHl2pmR4wm8xq6HnjcM5KQ1hPufKGuYwjxG8FILKXbyHmIL8+jAK+H+vih7UzrtvxidgdHxQP6uG+57E57rT1Fq2MI8SvCK6/8RZV/C00EFsrGFecxtPJD/S5TRhOeZR/p8UIO/w5zBnM1tnuO2KM+wjNQZAd4N97br2HfaPM0fGNt27I5XXXu4zWNvEfjudD2Y/oYb7vtiHn5dlBWMnTpTHA+O/U2UsZjH3UD+XIwAPyfKxzGPu4a1U2cEeLeTd9X9tT/iYd8zZ7YNOR6B66+JcjTi63/A3KkzBrzbybsifvwsRphH7wbOTLC8s7Dyd+bMvQ/Sr6Icwd6+GyMYyxHlK1FqIWWCnhY++ON2uHab8jy4KTda+maxcum90qO5pTpbqjVH8oEiZ/v6rfkPXyvuNiXM4wY/vQCfzp0Q5bgoIxGPgrz/gigz7NNKlcB3F3AADe31WMIzzYgyKSrAHIHX3+HnWgEfe7WHjQ4UWLm3+barT9YZNAFQWmhKlDOiAiwSeP2gn3ahN+nkrl52bKjIju8In3S7KNr+mXs1dmH+OZt9sPbSf4syLuDPGg8e0iQtBjumF84DY/VPX+zfzCb2bGLlov/1fXnnWSMC+Km6ss7O/PJ0oyJ4dErAn9IhRU3y7JOCl8fnNy/NAx1Anj/U1xKo1PjVJ+z9wR52es+m4EZegD91bWUjGugAX93bL0kGkhb4xp/cC8oFOoR1gB4lpFcuLW1UjusfbI30+iNXHnv7AB2D78J+iVcS8GmvJYcLg8Fxrlxslm16bOjSxRt5mwAJIT1M0Fx8d7jfG0XOu53JTIG75uJp98ey3BhQVoD0K8GL3nts6KCv79ZeqgRtwr8orqWcBWwFeCbq1I6QXLmZNHTO26ZHley5S0EPPqoA/sV3S2qHEQaFTqcEPHPYeYBXmwErURSYXhhT8/Q40P0cHjXcN0j3Wezs/qYZ2xPimkYSutvKIpzrAt5bCaw2K8FZNWUL670HhXkpn5w9UJAJQCooAwFzRgnjulvuwZtLOpQXeL9KEF4BnLa94faJkFTMT36Q/SpDmCbebHrvk224O1fpAD5OFDihduhaDc4EhXlPPh749yDBSCCE/Ybrnc8HgmBrAVxH8N7rKshKoD5v+QMMw8ZVkLOj9u698BUd8wnlBV2fsa7gvVGgsO3SYoUpH61GGXuPA7edcO+pfKO6uttPXTPZcqXODsqflY5V4jCfxPGe6xjtAiN1jeMbqq3bB9SUKs0wnwS+mlVs/XbpAIFPWbaTNjngS1Zbjk+jcvgN6kjVbVbuludpwoIK9uP9VTb0/BEbCnnd7bsC4qEREx6JGeDfKq6yz9d+Cm9OrC0s+tS87pZlwk2Wy2VWKoUP7e4cHmKmqHt6ofzFfjRzi/G/EqZ/+47Q11SG42+Np47zF3j37IDZNeB7OK/6PeyoCoPaWyyy0aFXYp0T0kP1WpaPDvxM4FPt0LP1lU8GLjccv1SPPcQKUGu9rb+5pBQhInjlGfefZc63WNgEPgXgnHMock7fXJKcO6gNb6d996R/c+51Avy67pVAR/Dw8OoSuOf/LjR+iDGBIizcr4jkZjgmeO+EDvXaoJIqlUDLCmDp6O6A182oYTZuW98q3AP0hJ/0VVuttnErgK1bBbByhm17QnmwnLVsU/JXmPceV3uHticO8wB88taq+qfJsGN0iwJWju5u96u4J1XXxW3r/dK6vcPb412AgK5Em6oaiaLIUwnsPCpBJ8HHc3dE1/ssdggUhPUVZcByrfI6Kxajf8QLTQyswmmqiAnW1OXVFFgdcLedwN2tdIa5XxciFztEhQ9tudqRe3tkOPKbQhoJK3CaUriUFlUoUaAjEcDK0N22ezPpn91x2LgKJA58tU2P2r77vEfTNaQpWQmybAasjNydfaxyVq2e8oKJ0tOX4R7C/GBf+HcZQHj3gX4k62XT0jhZRAFLe3cHw5/ywj94ednbBrcM92FhHkBD5tACekc3S0g7CuBYHz+9cJLBWjZFMC0KpkC3mpt3s/o3Gxms+H5qJwdnPL333KBnUpEYFjlz7i8yzwfqME0L4MPEyKC5egAbQjoMw7aYnzfLnI0RUOyKgW0rFJj6BGvZYGWL7zSoja1QPKN04OqAvkHVTdmmMD0qrJsfhVaACKq6g0UzmPa+wQ2+uRLAIgxY7DDKwr+cCMK5s90Zwp2uzAIvUw93zRpMgfbOhu0rsPkHHw2Aw+smbGBsGvgoy2rl+DmBRwKdRx2zgLkABB5ZmI/48nUT9rPlBkCHf+LsnmBEuOfkdl+h7+SZAj72YdjDPUcOve0NhbCHewJvqOs5YuiMJfvYmcAb6HY1tSPwBnTqjHE9J7eb2ckj8Ia6niOEnrRTR+DJ7Xg7eRjBZ7FWAJ3rOTLomd0Tgdc/zGd2ekzhnsAb6nqOCHon7geN6zm5ncCT2w0K95zcbqbrCbyhrucIoHf8Pgi8gW7HEu45uZ1yehKJRCKRSCQSiUQikUgkEolEIpFIJBKJRCKlrv8FGAD3ATtB8UJeEwAAAABJRU5ErkJggg==",Whe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACFRJREFUeNrsXe1uVEUYnnPKFmghu1VppFXSRCEYQyjBGP+YgH+NAnoBwBUULkCxV4B30OIFQBX+mWCNxpgoWkGjITFuMWLkw+5aKC3b7XHenjPL7HC+Zs/nvvM+yUjdnj179jzv87zvzJmZMkYgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAiEDGH1+xdwHMfK8bs4nRtnWU4/37ctyALZzvj8bTUAiPgCRe+p3cmY+A1J7YyILzpXcRK43efxnR5jskYsVi9UD1a8NaPzo7F5NMRLqt/w7N7OSu0YbB5jcSfIT1v1jzCpHRvxwu7XeKumHEhrmNSOinjJ7lteAFRSOvUyQldEZ/VC9ZCTh1M65yo2m8ea44VKd6dwHqjkH2CzeXTES3a/6lX2SYu8u+zJ4BAR3yd2v5xCkdfEaPMoiZdUf4e3vQlOtc7bfSAdm81jzvGOp3gnQZG3yBADM/GWp9hdPZ7jjucgDhHfX3YPhP3B22s9nAIGbP7EmNuxK17gvtcl0y3y6liLOvTEg0V7s3Nu8na0B+JRFnWmKB4Ue523YxrvgQcyvyG/L0YQv8Rbg7cXY77nBuaizgjipT7997wdiPm2nzHn9s69wf4FvTwP4/afxDgcxuXfh4IQc343wepFkfeP1y/fF3H419iLOmOIl3L957y9HnHcNybYvBFW79k9/DPB27WQw+CBzF6u9rYJ98QIxXtF3i3mjr8fDDjsM1PUbpLVsx2Xm9XzB7bfeNh2DjVb3fxWKxb7r+Xc+nD/NmOIx231F5cm+X9P8nbcs/o4WODtAm9z7L2ROhHfX4QD0VO8HUl4pjnepnkALBDx5Vf4+SDCjzy3hU1WB1htsPtr1x9usIVme7MFYJa3szwAGkR8+Ug/45HehVN7BtmxsQo7vjt6tnWD5/65v1vswuJjNn9v/alf83aCkz9vPPHQTSrFYMfFpRngWH7po1e2samXtrJaxf/6Pv59reMAfqivbLCz1x9tBoKC05z82TJ0UZPc+6RrzGBYzFJWqxZKOhD541s72bn92wJJB3x5d91P1R1MDNns0hvDm005zwz/zFNFEu4NQ1tFKl59vyP6zUWQDrY+c3golqWPXGl2giTO8Ue/eqDWALkpXxKWpYxPOEUp3i+Q8nEBN6drk75Zqnv2DUSCpUcBFP/FmzvUtDDjFZN5qTtVNWW5g4QIgPSD4En1rk064NPbraeCoEfyL/FrqWVBdhp2XhTxvkGQ0vnOyzldh3RRuQtABR8XQL6S82FQ6ExKhGdOdhHEy2nATuQCF5eOyP10HdL9FB7X7uWi7xzvMUiY4tc0kVDddhZ2Xhbi1SCwewyCc3KXLag7FsfmBcKqez+c4d1E6AoKI2DuKKGuusXOHYX0h4si3i8IogPAze0dtUM/XRd+JPsFQxSmXu767FM9qLtQlIF4HRc4KRd0Yf30IJtvtJzYr4cBRgLB9juqd58PhJFdCsLLSLx6XQMiCOT7LX6AYVhdhCk7bnWvki/hmI+VD5T1HpeVeNUFBp690hhh0qPVOGPvOuT2YvdK8E2WVd1+6JuJGCttdkj8LBVWiW0+ieKV65jsAyH1jeI7aG04B+UuVZo2n4R8uVex83LzIBGfMhy32+QSP2z3pPg0gsNvUEeg7bBav9xPI+bcfXd3lY09/peNRRx38zYn8fCECbfEDOL3VlbZB+s/RKcTezuLPzWvv2Gb8CVrtRobHo4e2n1hfIyZgv6pQq0ne9IsNPTXPOwYjd72bmR8j/Z55XH+AYs1iPi0c5Jl1f1udlxEkTpYqbDJsWe0zgndQ/lalt+p/kTEp1rQs42Vd6tXO4pvtrWHWIHU1uD2wN8Pj+pvhKmM+88zd8Njh4hPgXDLsqCJFawLSfrcYTm8l/yudP8WvOsE8ttlD4IyEg83ry0IV353ofPDov5fCgmy+xXeuRnXJF6d0CFfGwSpFASlDAC7jOoOOW5OtlndXB9k90B6wid99aDVNl4AOGULALtgsh3FysPhrmWbFf8L8951sW9sNLHNA+HTv67KL01HvadsLmAXqG6nx+nB07LqdHO9X7du3/io3gVw0iW3qctOFAdKEDhFBEGexOupO6bqT19b0arwwdZXpAHL9ZHnWaUS/xEvpBhYhdMViAnW1BWVCuwc1O0kUHcQzjJ3LVtnsUNc8iGXy4XcqxPjsT8UupEnvn3Y3YVLaVGF5AK5OICdobod78ukf3ZXYSdkQnTIl3N63Pzu8xld15AmRBBkmQbsjNSdvVe5q1ZPq8TEqfSF3YPN7xoajGXvPqQfzXrZtBBOFi5gl17d4eTPquQfurqs5uBAu4+yeSAaeg4BpOe6WULaLoBjfby7enVGfgmmRcEU6KC5eb/U/2ITu0Z8n9qJwRmlei+M9EwCiWGBO+f+ElMeqMM0LSAfJkaGzdUDssHSYRg2YH7ePHM3RkCxKwa2rVBg6hOsZYOVLb7ToDa3QlFG6UDVIbVB3euyzWK6VVg3P4oMgBioe4NFc5j2vsFNfHcQwCIMWOww6bXQAp6J7c4Q7nRlFvGi6+GtWYMp0Ops2KEBtnjv7SoovG3CBsamER9nWa0YP0cP2xDSLRKCgcTrEJrirh1EfMFq11UyEW/odyx2376cYNJfqNBNDQ6pAX9RZ5zdm1Lc5Rk0RHyfFXVGAbPik5KOusgj4g3N9SiJTzE/E/FU5BHxVNQR8WhzO/oij4g3NNejGrL1lGnMX4skxeegTGx2T1W9oXaPhvg8FIlJ9TYpknI8qd2g4LJJ7WbaPRV3hqq+74k3YX4cEV8SBWIINpvUTj0IAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIKSO/wUYAGgjrA0dN9CPAAAAAElFTkSuQmCC",zhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACBdJREFUeNrsXV1vG0UUnV3XSZq0ig00oglUFoWqwEMT9aUSQqQ88tE2/IGmvyDND4CQX1AeeOIlyTNSEtQ+t0FICAkBoQhVIBUcoZaPliahrZM2sYe58aw7nu56Z7xr7+7MPdJQY3vX6z33nHtnPDMhBIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAdhJP1L0ApTeQ7OI5Ds3zfXIz99uIt61/ARRLaUjtB4pPOVQaQgMRnQ/UUibdQ9aY4DBZ3FqrdNOIpqt1C4rHIs9vqaUbP3XXsMzSgnZiCGsiumegoRhEP5FDaEGaORB+SrnLyqWnKMFHxVCA8H/FcOybavJHEC6oHtfZEONWup3YTC0dTc3wjNzP0tnmORyZX9SYT73CrLrZ5jn+4g1AkPlt2D4Q9YO1FXujp4D/uGBQVn12AZQ9pHnPL1KLOeOLBovnsnDusvaRZ1K2bWtTZonhQ7H3+PQcUjylb4IJWEA+y/YO1U4rH/G5yUWcF8UKfHoh/R+GQDdbumZzbbSruPLv/i7XXQt77NXeIGhJvRpEHD2+y9lbI238xvaizSfGe6q/zAi+oyPuJtX9tsHmbiAfrfsjaDdbeC3jPZzYUdQ0nJLZInlKXV/af+7y8ydob8C8jvoaKNwgHLm8O1ijp++h4b+9WlRTE17aq9O9Pf3s8VjkzeM2W+2G24hfXR9l/z7N2jrWS4lGrrC2wtkw+KJaR+GwRDkRPsTYe8UzLrM2yAFhF4tOv8EtBhI8/t4+MDuZIoaf5a5cf1sjqZnWvBWCetWkWABtIfPpIv8hJb8LkkR5ydjhPzh0On4W1sUPJ8p87ZGHtMVm5u/vUy6xNMPJXrCceBkZSMdixuD4HHItPffxqH5k62ksKef/r++Tmo4YD+KFcqZHp61t7gSDhAiN/PgW9lEj3PuoUZBgWc4SZrYmTDkT+8PZBMnO8L5B0wJd3dv1U3UCp3yVLpwb2mnSeOfaZk0kSzn9udpJUvHw85YMgiZAOtj53sl/J0otXNhtBovL+0189kGuArilfEFbTjY0y2BT3Shqnay5Qz+napO+V6ty+gUiw9DCA4q+9eUBOC3O8mOyWumNVUyeXUHkBEH8QPKnetUkHfHF756kgaJP8JXYthU6QHYedJ0W8bxDEdL5LYk7XId2r3D1ABa8KIF/K+TAodDEmwjtOdhLEi2nAjeQCi+vjYj9dh3Q/havavVj0zbAeg4Apdk2liOp2O2HnaSFeDgK3zSCYEbtsQd0xFZv30Kq698NF1k2ErqBnBKQ+Sqirbpff/0T6w2lYJu0FQXgA1HN7Q+3QT9eFH8l+wRCGqZebPnuyDXUnijStj1dxgfNiQdeqnx5k85DjVZ9vBRgJBNtvqL7++0ArslNBeBqJl68r5wWBeL+9BzAMq4tWylat7mXyBZz1sfJcWu9x2nfE8Fwg9+yVjSIRflpVGXvXIbcdu5eCbzSt6vZDZiZiVKpkzHssFFaRbT6K4qXrGCUZ2lomMxe6U6MnxC5VnDYfhXyxV3Hw8uYJJD5mUPJkulRpwG1L8XEEh9+gjocqJYWs3E8r5tx9e2ebDD++R4ZD3vfrbUbiyZINt8QO4l/Jb5MPd78PTyfufqI+NS/bsGJL00KhQAYGwod2XxgZJrYgO1WoQ9a8x6sbVe3jDwwdDn1PceSI9nnFcf6cQzaQ+LhzkuOU/W62KsJI7cnnyejwM1rnhO6heC333x/8EYmPtaAntcqZwasNxW9WtYdYgdSdnv2Brw8oOIIMadx/hWRo3xw37YTDkiaYYsSnc61G6XO3yuHt5Hep+7fKrxPIr6Y9CNJIPNy8qke49NpC44HGBIowu6+wzs2IJvHyhA7x2iBIhSBIZQC4aVR3i/ctizarm+uD7B5Ij/hLXzlotQ0PAJq2AHATJptKVt4a9bVs897/wrx3XRwbHops80D47I1t8anZsGPS5gJuguqmbU4PnhVVp5vr/bp1x0b0tsED0gW3KYtOpAIpCBLZHbubxOupW1H1F76raFX4YOsVYcByt/g8yefVf+KFFAOrcJoCMcKauqRSgdsFddMI6g7CNKmvZWssdlAlH3K5WMi9XhpR/lDoRk5887C5CxfTogrBBbriAG4H1U35l4n/7HWFTYiE6JAv5nTV/O7zGU3XECe8IOhkGnA7pO7Oe1V91eoFmRiVSt+ze7D5Q/3hW9qDvfuQfrrTy6Y94XTCBdzUq7s1+fMy+WNX78s5ONDuw2weiIaeQwDpXd0sIW4XMGN9fH316pz4FEyLginQQXPzfi7fIqVDRd9f7bzBGal6T4z0jgQSMQX1OfdLRPpBHaZpAfkwMbLVXD0gGywdhmED5uetkPrGCEbsimHaVigw9QnWssHKFt9pUHtboUijdKDqFrVBmXfZ5k26VaZufhQaAAoo88GiZZP2vjGb+OYggEUYsNhhlLeWBTzxtjszcKcru4j3uh58zRpMgZZnw/bnyNrddwdB4VVb/katTcSrLKultmxp6lpCuoNCsJB4HUJj3LUDiU9Y7bpKRuIt/Y7J7tvXJdj0Fyp0UwNFNZhf1Fln97YUd90MGiQ+Y0WdVTBZ8VFJN7rIQ+ItzfVGEh9jfkbischD4rGoQ+KNze3GF3lIvKW53qghW65MK/42LCq+S8o0ze6xqrfU7o0hvhuKNEn1LioSczyq3aLgclHtdto9FneWqj7zxNswPw6JT4kCTQg2F9WOPQgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAxI7/BRgAfI6LD5gJ800AAAAASUVORK5CYII=",Bhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACJ1JREFUeNrsXV1vVEUYnnOWLdBSuytCpDVkE5RINKGEGy40AS+M0SjghfGO9oLrwg8w2F+A/6Dl2gRK5MLEBKomxkiQakIQE3QbpX6A7ZbCWrrdPc6755x1djhnz5k9X3Nm3icZWrZ7Pnae93lm3jkzswWC0BIFrAI9sSWPN21ZFvwwZLkdwzCQ+BRhIOmaEQ+VLYnqLbR6fVWPxKeMVsb3DzaPis/I7o0MVd9ExWer+oGMrr2BxGcHUJ2Zkc23kPjs7L7l9O4LqHa9FA9o0LI15WvWkXg5iE/zc7So06DiJbD7JrX7NDt5jzGPlwfrtAymdK0nSLw8gDZ3d0o2X0fi5bH7TWr3kNptS/hSq4oIRRnFA9ZoGU74Go+QePnwkJZKws7yEImXz+43qN1DajeU0CWWFRKJUop3U61yQueuIfHy4i9a9iV07gdIvLx2v0btfjOBnP5PyByQeLnxDy3PxnzO+6pVkorEL9LyasznXELi5bf7Fad3H1dOv6jCQxkdFO8q9GBM5/pNxQpSlfg7tBxBm9eMeGrNf1O7hyd2pajpoUqjdTooHvALLa9FPMctVStHZeIXaHkz4jluI/H5s/t71O7h2fnOfjt19BzLSHw+UaVlb5/HXle5YlQn/iYtb/V57PdIfH7t/jvLnni/Q/DQu5AZIPH5xg1a3hY85ifVK0UH4r+h5QPBYz5H4vNv99eceffPhDzkd3rMHSReDXxFy4cC7yVIvBr4gpbTId/7KUGoA2r38Lg2CL/qUh+mRtzPxfQetPpc5XS15uW1TWtiYbVJVhvdW9eMFA0yPlIgR5/bckGX+lB716iLK+P031O0nCDhF1vAw50LbfW/X64i8fkiHIieouVoDM3DNA2ABSRefoWf9yOcWnnb0ksD3R+7+rhFoAmA4oNZWs7SAKgh8fKRfsYhvQsTewfI8dEiObGnGHiKGm375/5okAuLG2T+wVPT6IH0k5T8ee2Jh+cfUuzlenFlBjhmX/r4wDYytW8rKRW97++Tu086DuCFar1Fzv74bzsQOExS8mclSE8j1X3UdM6ATQadnaekIB2IvPnGMDn38jZf0gFf3t/0UnUHlUGTXDoy1C7ceWboNSeyJDyOjR2jKp4/3t5ZOC0X4EgHW585HLx6Ciy9fGW1EyRh3n/s60d8HyA15TPC6qrYKFuqxj2AY6TmAnabLkx6u6vu2DcQCZYeBFD8tdd38M3CjNOZTEvdsaopyZE7NwDiD4L/e+/CpAMuLzWeCoI+yb9E76WUBNlJ79Ob1pCtwXyYOHCebdNFSHd77i6gBx8WQD7X5sOg0JmYCDfS3JQ5zbF6txkwI7nAxZWjbJ4uQrqXwsPaPdvpO3ega4+lKXpPlYjqNpOwc1mI54PA7DMIzrEpm186FsbmXfTq3XvhDE0TIRV0jYDYo4Si6jad+s8kH5bh6ZwbBMEBYLftHbVDni4KL5K9giEIUy92XXuiD3VnCpkey4ZxgVNsh65Xnu5n87WGFfr1XoCRQLD9jurt5wO9yJaCcBmJ5++r4AYBW9/uLzAMK4peyg7bu+fJZ3Dcw8oLstax7BMxXBco7LxSKxPm0WqYsXcRcvuxey74xmVVtxdyMxGj3iSH3N+ZjlVkm4+ieO4+xkmOZjTl5kYbLesgm1LFafNRyGeziuHPVg8i8THDYjY5qAyZfSk+juDwGtRx0bRIKS/1qcWcu+v318noxjIZDXjfz0uUxMMVHapED+JfKq6TjzaDF782zO0k4X2Q0erTRKlUIkNDwUO7L4yNEl2Qn16o0d64sI2FmviXPO7YvSfwPeUx8T0U2HH+gpGfjY5zQ/wWw6h6VXZYBJE6UCyS8VGxnVAhPWTvZe3dkR+Q+Fg79KRVf2/kakfxq03hIVYgtTGw3ffvQyEcgQc37j9P7K88tZD4GAiHb5OEKUbOdK6FKDl3rza8n/adS/8WnPsE8puyB4GMxEPlNV3Cub91ljiJTKAIsvs6TW7GBInnJ3Sw9wZBygSBlAFgyqjuHu+bY21WtK33s3sgPeKTvqrfahsnACzZAsDMmGyLs/LesNeyzbr/hXnvotg/ujuyzQPh07fX2Zemg46RzQXMDNVt9Tk9eJpVnWhb75XW7R8T+65CIJ1xmyoRXF7NBYGVRRCkSbyYukOqfvJGXaiHD7ZeZwYsN8vPk2Ix/CNeaGJgFU5XIEZYU5dVU2CmoG4rgrr9cJY43wrlLnYISz605WxH7pXKWOiLQhp58tvH3SlcTIsqGBdIxQHMBNVtOR8m/rPbCjvJEiJCPtumh23fPa7RdQ9xwg2CJJsBMyF1J+9V9qrVSZ6YMD191+7B5ncNBn/7ONi7B+nHkl427QonCRcwpVd3b/JnefIPXV3j22Bfuw+yeSAaMgcf0lPdLCFuF1Bjfby9enWGfQmmRcEUaL+5ebeq90hlV9nzqZ07OMP13jMjPZFAIqrAnnN/iXAP1GGaFpAPEyN7zdUDssHSYRjWZ37ePLE3RlBiVwzVtkKBqU+wlg1WtnhOg2pvhcKN0oGqe/QNqk7KNqtSVam6+VFgAIRA1RksmlNp7xu1ie8OAliEAYsdxp3SswNP3O3OFNzpSi/i3dTDWbMGU6D52bCDBbL44J0RUHhTij19kPhYiQ+zrNYdP1cepiakGygEDYkXITTGXTuQ+IzVLqpkJF7Tz5jtvn0pQZdty0WZNEhOZsui4uNtr5W3e52+oSKtoEHic9ap0woqKz4q6Up38pB4Tdt6JYmPsX1G4rGTh8Rjpw6JV7ZtV76Th8Rr2tYrNWTrKFP9gXZUfHrKVM3usVevqd0rQ3wailRJ9SYqEtt4VLtGwWWi2vW0e+zcaar63BOvw/w4JF4SBaoQbCaqXU+7z/WQrbPODb2+DxSwCpB4BBKPQOIRSDwCiUcg8QgkHoHEI5B4BBKPQOIRSDwCiUekhP8EGABiGM8vAae5iAAAAABJRU5ErkJggg==",Ghe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACHtJREFUeNrsXVtvE0cUnl3jAElQnFJQSSoUqS0q6gNBvPSlEvS1Kpf+AeAPNPDeikbqO/0HCX8AUsEzpOpL1aptQOpFVSuZXqAqaeMQMEljezon3nHHw15mvGvves75pEHG8a539zvfuczNjBEIBDzwXL45znmae+Se5+7j2YXAsNOwx4l4fF6Nu/xQSPFIgUHxfk8W43kNIn540eqReE6KH2Y/L7JykdmXeji0ScQ7UNWJZkt+g4h3A7bEe0Q8zvskV+8Amj3cJyV3GO/T9VIOBfGCxC2R2dvc5zYpYRhSds5NErGSRT3fMDmnMChOxA9HnN9t+NkNDDmAC8Rzg/ILevDKGYYPcvUFiOFy3D1J8SOGp6xTjHdH9ZsWxLcwlHpOEG+g+pYF8U9dd/OYkruaYXL3DIPaXSM+yd17BgneBga1O0W8gbuHOL+PEjs3XX2c6rcM3H0Lg5vHFOMl8XsSPvMIg5t3jnjF3XsRCV4S8Y2IY50brXNR8VHuHkjdm3DsKgY37yTxMUnebwmKr0WR7uKKGldjfJTqvRjV/4ko30FH/Jpo+yOO+TvCg3AifrjcfRj5T2IU38AQ2zGWc4DHoo1F/O1nIt4N1fOQmTS/izYaccgzDEkdFsXr7n4zRvFVSu7cJf5ehOIfYknqUBAfUdPDG/pgzTqW2C7hM/chVS/br6KNa62qfYYWVDiS5KlvrQZkq9jCktRhK+fUWP9XiKv/EpObx0Q8jLPLFbPfs+c7cR5jSeowxXg5ls5jyra7mNSOSfFs/Ob6RIuz49stfuyD17sH6T7+cfP9su/drZ+euIPlebidxVxfmxX/nhftrGgzhketiHZNtCX23mSViB8uwoHoOdFOpjzTkmjzwgBWiPjiK/xqFOEnX9zFZidKrDLSfdvVpy22st7caRFYFO2yMIAaEV880i8FpHfhwuERdmaqzM4eSl4zWdvmbOnhNrt2/1+2vPrcKC2Qfk6Qv4yeeOgYKURnx/W1BeBYfeujo3vY3Cu7WaUcfn2f/LLV8QBhqNZb7PK9ZzuGoOGiIH8x946JlM8+bTkH3WKewWrVgZEORH779j52RWTuUaQDPnvUCFN1BzOjPrvx5thO086zIL7zQp6EB8PNXp6K14/nSt08cNLBrS+cGDVy6ZO31jtGYvL5U58/0XOAgSlfEZan9U/wvBQfZkiD8QLtmG5N+k6qHrhvIBJcehJA8XfeGtfDwkKQTA5K3ZmqqZ89d9IAsjeC/7N3a9IBnz7Yfs4IeiT/hriWSj/IzsKd50V8qBFkdL6raky3IV1m7hKQwZsCyNdiPnQKXcqI8L6TnQfxahjwU3mB62sn1TrdhvQwhZu6ezXpu3K0q8t3TlzTTEp1+2zAe+vnNUgDN+j3aARX1JItqhwzcfMScdl9GC6JMhFKQekIWLuX0FbdfvD8c6mHizA6J40g2QDasb2jdqjTbRFGcpgxJGHu1a7vvtCDunNFkYZlTbzAeTWhi6vTo9w8xHjT9+MAPYHg9juqb48PxJFdCMKLSLx+XSVpBOrzli+gG9YWcco2ze518hWcCXHlpaI+46JPxJBeoLT/Vm2SKUOrJn3vNuT24u4145stqrrDMDQTMepNdly+VhKr1G4+jeK165hlQzSjaWguFGbOqCVVlm4+DflqVbHv5voxIj5j8HbZ1CZ+zO9J8VkYR1injkSTs8qwPE8Uc+6+erTJpv79h00lfO6nB4LEEzMYHgkO4l8rb7IPG98khxN/LzOfmjfcQDG9ulKpsLGx5K7dl6enGBYMTxbqsfvy9UrN/keixg8eSvzM5PRh6/Oq/fwlj9WI+KxjkudVwx62KZJIHSmX2ezUC1bnhPJQvZaNdyfuEvGZJvSsVT89cbuj+PWmdRcrkLo9Er3N3ZiBR9Ch9fsvs/ZSLU7EZ0C453nQ5ArWlTQ1d1wM7yW+a+XfSnCdQH6z6EZQROLh4TUl4drfrnVeWEygSHL3dVHcTFsSr0/oUK8NjFQxgkIagF9Edcd8bkl1s7axPsrdA+kpR/qqUattAgPgRTMAP2eyuebK49Fey7Yo/wvz3m1xZOpgajcPhM//sKm+NZ90TNG8gJ+junmP04PnVdXZxvqwsu7I9EG7CxCkK96mqnoiE2hGwPMwgkESb6duQ9Vf/LpuleGDW68rHZaNyZdYuWw+xAshBlbhdBliijV1eYUCfwDq5inUHYXLLNhtWi52MCUfYrmayL0xM238pVBGnvviaXcJl9GiCsULDMQD+H1UNw9uJvuztxV2TiXEhnw1ppvG95Dv6LqGLCGNoJ9hwO+Tuvvvq9qrVi/qxJhk+tLdg5s/MJr8c3Tg3kNIP9XvZdNSOP3wAn7h1R1P/qJO/vHbG3oMjnT3SW4eiIbKIYL0gW6WkLUXcGN9fHv16oL6FkyLginQUXPzvqv+wWYOTIaO2snOGS17z430vhgScwXtOfc3mDagDtO0gHyYGBk3Vw/IBpcO3bAR8/OWWXtjBCd2xXBtKxSY+gRr2WBlS+g0qJ2tULReOlB1TG5QDUq2RZcelaubHyUagAGqQWfRkkt737hNfLcRwCIMWOwwG7TYBJ7J7c4c3OkKF/Gy9AjWrMEUaH027GiJ3V99ZwIU3sSwgTE24k2W1cr+c+fhIyHdIyEgJN6G0Ax37SDic1a7rZKJeKT3mO++fQMCpl+osA0NnNTgflKHzt1jSe4GaTRE/JAldajgsuLTku50kkfEI431ThKfYXwm4inJI+IpqSPinY3tzid5RDzSWO9Ul22gTDQ/E0qKH4AyXXP3lNUjdffOED8IRbqkep8USTGe1I7IuHxSO053T8kdUtUPPfEY5scR8QVRoAvG5pPaqYIgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEQub4T4ABAEMis7ec/iolAAAAAElFTkSuQmCC",qhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACEpJREFUeNrsnU1vG0UYx2fXddrmBTtAIpqgKhJQUXFoql64ILVcEX3hCzT5AqS9g0o+QTlxTfoF2qD23AZxQUKAi4QQiCJH0BTRqklI6zZx7GWe7K47nu7LjHft3Z3n+UtTuY53vbu/521mZ9aMkUgkEolEIpFIJBKJRCqKLNNP0HGcns7RsizH5OtygAw82F5MvyAYwNs9gG8ReHPgE3gCT6EeC/iSZmHHCHzx1dYEv4fBEwoPXrG7VtbbZfw+i97dwxLqweuHFD+7g6EGMAG8o9hdK2vsz/gaoPDgAQIPzWmea5tyvDle39Tw+OcYunpGgFf0+oMKu2qpfBeBL46eKhZ32xi83TTwceHeVjjfNgZvNwq8QriHPD+SNNQT+OJ5PfTPD8Vs/wxDmMeU433Fgd/BEOaNAy+E+yBKGwrg/wvZ1ri7dSZ6fFi4h5svhyO2e4IlzBsJPqLI24gBvxEG3cTbtKbm+DCvB6+eiAjzaIQNPLw3rNOHN3W2rZHgvXAfBP8Bb8dDNvsbQ27H2p2DAi9sEGeXwJvh9UEzaf7hbTRkk/sYijosHi+H+8ch4OvIIh868A9DwDtYijpftsknFxKq//Dgi+03LLkdU3HnSAYO3bZXpM80pcjQJvBmFHlyPh+TPnYPS1GHrTsn5vp/eatIf1/HFOYxgRdX0zwIAP8XlqIOnXi4t3kreU1UTXjfxnI90Izcjd7cqrQddrLZdk589u6L2/KPd53qV3/ufFq2rbuNs5U7WK6H2VXM9Y1Z/u9F3s7zNqO4VY23a7ytsE/G6wS+WMAB9AJvpxPuaYW3RW4ANQKffw+/Ggb89OsH2GylxKpD3addf9pmta3WfgvRMm+XuQFsEvj8Qb/kQe/S3NEhdm6qzM4fiV9Btdl02MqDJru2tstWH720TB6gX+DwV9GDh4GRXAx2XN9YAsbiW18cP8QW3jrIquXg4/vy3k4nAgSp3mizyz8/2zcESfMc/nIOeimJrn3S7gsMi1mKq1UHAh1A/vThGLvCK/cw6KBvHu4FeXVHM8M2u/H+yH6T9rPEv3MuS+De7WYrS4+Xt3e8QZBMoENYXzo1rBTSx29tdYxE5fNnvn0i1wAD83zBsboubJLBprQHLKyBRQE3p2tD3y/VvfANICGkxwk8/s4Ho3JaWPKKyUF5d6re1M+RKt8A0jeCF9W7NnTQ1+vNl4ygR/g3+LFU+wE7jXCeFfhAI0hpf1fFnK4D3a/cfUEFryqAL+V8GBS6lBLwvsPOAryYBuxEUeD6xmmxn64DPcjDVcO9WPRdOd61EmuBH9NMQu+2+xHO8wJeNgK7RyO4InbZwrpjKmHeV1R1H6RLvJsIXUE/EDB3lFDXu23W23N2Cw0+yAjiDcDN7R1vh366roIgBxlDnBbe7vruuR68O1Pl6TakShS4KBZ0Uf30sDAPOV71/SjBSCCE/Y7Xu/cHomDnAngewcvHVfKNQLze/gsYhtVVlGerVvcyfEHnAkJ5Ka/XOO8TD/woUHrt1uY4E26tqoy968DtJdxLxjebV+8OUmEmYjRa7KT/WiisEof5JB4vHccsK9B09cIcKMycEbtUaYb5JPDFXsXYza0TBD5lOW63yQU/Yvfk8WkYR9Cgjq+Ww6pFuZ4o5tx9//A5m9p9zKZiPvf7Ood4agbDJcEB/p3yc/b53o/x6cQ+zNSn5hVbKKYTV6tVNjISP7T75vQUw6LiVKEWW/Nf1zb1H0A5Onkk9jPj00e19yuO85cstkng085JllUPutiqioM6VC6z2alXtfYJ3UPxWLY/rtwl8KkW9KzdOFu53fH4rZb2ECtAbQ6FP+1sRCEiyJLG/VeZu1TLIfApALcsC5q/grWWpM8dlcN7ye9S96/mHSfAb+XdCPIIHi5eywcu/e1a54XGBIq4cN/gnZtpTfDyhA7x2MBIBSPIpQHYefTuiM+tiGFWN9eHhXuAnvBOXz1stY1nAE7eDMDOGLYjhfJouWvZlv3/wrx3XR2bmkwc5gH44q9dP12zGLdN3qKAnaF3Oz1OD14UvU431wd1645NT+odAIcuRJu6GIlUJBmBk4URDBK8nncrev38Dw2tCh/CekMYsNwbf4OVy+q3eCHFwCqcLkNMsKYuq1RgD8C7nQTeHabLzF3L1lnsoAofcrlYyL03M638pdCNvPDd0+4uXEqLKoQoMJAIYPfRux3vZNLfu+thF0QgOvDFnK6a3wO+o+sY0pRvBP1MA3afvLv/scpdtTovg1Gp9P1wD2F+Yjj+V8kgvAdAP9PvZdO+4/QjCti59+5o+Msy/JO3t+UcHBru48I8gIaeQwj0gT4sIe0oYMb6eHf16pL4FkyLginQYXPzfqnfZzMT44F37fzBGal6zwx6XwyJmSJ3zv0NJt1Qh2laAB8mRkbN1QPYENJhGDZkft4qcx+MYMRTMUx7FApMfYK1bLCyJXAa1P6jUKRROvDqiNqg7nXZlk26VKY+/CjWABRU9waLVkx69o3Z4LuNABZhwGKHWa9FFvDMf9yZgU+6wgXe73p4a9ZgCrQ8G3a4xNYefVQBD29heIAxNvAqy2r98XPjZSOBbpEjIASvAzTFp3YQ+Iy9XdeTCTzSc8z2uX0DEqZfqNBNDfQrVAiKOnThHs0vMgzQaAh8wYo6VDLZ45NCN7rII/BIc72R4FPMzwSeijwCT0UdgTc2txtf5BF4pLneqCFbzzPpt2ERerzVZ6Mi8AhlEfj8hvnCfweBpwKMwOfIEy0Cj9TbTQn3VNwh9frCg8cwP47A58QDTTA2m7ydehAkEolEIpFIJBKJRCKRSCQSiUQikUgkEolESl3/CzAAtePBYBnUpcwAAAAASUVORK5CYII=",Uhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACCRJREFUeNrsXd1uE0cUnl1jA0mQ7bREJamQ1R9U1AsScdObStDbqvz0BYDbXjTwABXNE9A3SPICSSq4hlS9qVS1DUiFqmolowq4gDYJFJPEsad77F13POzPrPd/zvmkRcGx17v7ne87Z2bPbBgjEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEQoIwin4CnHMjgfPkgTs0DF7k63YAUYCrkt+NIzCI+BREr0Aq/N6Mi3hL7YyIz1rKFgmW3cd5rm0MFqiL1auovhSThXMivjiq7yie6z4Gm8dU3DE7x5ciEs91uRg6ER9k90B8JWAfOxjUrhXxCnbfVSAeRWGno9X7qZ4rEM8x2Dy2HA9qPhTwnl0MNq8d8YLdGx6F22Gfj7cC3IKIL6jd7wYofgeLzWtJfECRB6o/4vG7R16k62bzOud4L9XDRM4YI6AjvuVD/AsPB+FEfLHs3o18yOMTHh/bxJDbMQ7nAK98iN8j4vVQPXfpzvnLg/gmlqIOi+Ld7L7sMp43GDJgJB5y+ZT02t9YijoUxHuM6aGyr0mvPcGS2zEVd0CiKQ3bqi6FnegMXSJejyJPfOm+i+LvYSnqsA3nxFwvW/1zbDaPiXiwbqft6jdrqwu/e4CpqHNgYjhJ27pFQh/aqoftD2xqx6R4NnFzu9rlbK7d5ae+eOfg5GTF6AX9/eeduZXH7S/LpnG3da56B8v10LuKWdmctf69ZG0XrK2h+KkNa1u2tjX2eb1JxBeLcCB63trORNzTmrUtWAGwQcTnX+E3vAg/8+YBNlstsVpl+LSbL7tsY7vT2zywZG3XrADYIuLzR/pVm/QhXD5eYeeny+zCsXLgLrbanK09abPlh3ts/dlrayuA9IsW+evoiYeJkVxMdqxsLgLH4ktfnzzE5t89yGpl9+P75s/dgQO4odnqsmv3XvUCQcIVi/ylzCcmIl77qMM5mBYzFFerpkI6EPnLJ0fY9Q8OeZIO+O7pvpuqB2iMmWz1o/HeJu1n0frOy1kSbt9uNrJUvPx5LoybUycdbH3xdHBLHVh6/db2IEhU3n/2+3/lGiA15QvCMqT5CZ6V4t0CKR0X6Of00KT3SnXbvoFIsPQggOLvfDwhp4VFu5hMS92xqinJmTsnAOIPgv+r99CkA7593H4tCEYkf9U6lloSZMdh51kR7xoEMe3vhpjTw5DuVO4OoIJXBZAv5XyYFLoaE+GJk50F8WIaMCO5wMrmGXGcHoZ0N4Wr2r1Y9F0/ObQgZ946pkZEdZtJ2HleiJeDwBwxCK6LQzav4ZiKzTvwq+7dcNUaJsJQ0DEC1p8lDKtu077+mYyH83B3zgmC4ADo5/aB2mGcHhZuJLsFQxDm3xv67ssjqDtT5Om2rIoLXBILOr9xupfNQ45Xfd0PMBMItj9Qff/+gB/ZuSA8j8TLx1VygkC83s4PMA0bFn7KVq3uZfIFnHex8lJer3HeGzEcFyi9cWurzoRbqypz72HIHcXupeCbzau63VCYRoxWh805PwuFVWSbj6J46ThmWYE6mgpzoNA5Iw6p4rT5KOSLo4ojN7dPEfExgwudsY1xcyTFxxEcbpM6Djqc1YpyPVH03P34dIdN7/3DpgPe9/tji8TTDQyXBAfx75d32Ff7PwenE/MwU2/NKzZQtFfXajU2Ph48tfv2zDTDguJUoUavF76Hja1O6M9PTB0LfE995njo/Yrz/CWDbRHxceckw2i6XWxVBJFaKZfZ7PRkqH3C8FA8lhefVe8S8bEW9KzbOle9PVD8dif0FCuQ2q54P99wXMERZEjz/uusv1SLE/ExEG4YBmzOCtaNKGNuvxw+Sn6Xhn8b9nEC+Z28B0EeiYeL13EIl363PPghRANFkN23rMHNTEji5YYO8dggSIUgyGUAmHlUt8/71kSbDZvrveweSI94p6/ptdrGDgCetwAwMyabS1buj/5atiXnv9D3HhYnpqci2zwQvvBg6NG3C0GfyZsLmBmqm4/YHrwgqi5srncb1p2YmQp3ABbpgts0RSdSgRQEPIsgSJP4cOpWVP2Vn1qhKnyw9ZYwYblff4uVy+q3eCHFwCqcoUCMsKYuq1RgpqBuHkHdXrjG+mvZBosdVMmHXC4Wch82ZpS/FIaRF394OTyEi2lRheACqTiAmaC6uX0y8e+9r7CLIiFhyBdzump+d/mOoWOIE04QJJkGzITUnbxX9VetXpGJUan0HbsHmz86Vgl8P9i7C+lnk1427QgnCRcwc69uf/KXZPLnbr+Qc7Cn3QfZPBANIwcP0lN9WELcLqDH+vj+6tVF8SVoi4IWaK/evF+bj1jjaN31rp0zOSNV75mRnkggMV3Q77lfZdINdWjTAvKhMdKvVw/IBkuHaViP/rx11n8wghZPxdDtUSjQ+gRr2WBli2sbVO9RKNIsHajapzZo2kO2JZ0ula4PPwoMAAU07cmiNZ2efaM38cNBAIswYLHDrL35FvDMedyZhk+6wkW8M/Sw16xBC7TcDTtWYg+ffVoFhXcwPMAYG/Eqy2qd+XPtYSIh3SAhICQ+DKExPrWDiM9Y7WGVTMQjPcdsn9uXEjD9hYqwqYGTGvQv6tDZPZbiLs2gIeILVtShgs6Kj0q61kUeEY8012tJfIz5mYinIo+Ip6KOiNc2t2tf5BHxSHO9VlO2tjLR/JlQUnwKytTN7qmqR2r32hCfhiJ1Ur1JiqQcT2pHFFwmqR2n3VNxh1T1hSceQ38cEZ8TBeoQbCapnUYQBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQIgd/wkwAJojlsInQDPqAAAAAElFTkSuQmCC",Vhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACCpJREFUeNrsnd1uG0UUx2fXcSBxItuFBOqgylKh4uOiiXrDDZByi2gTbrhs+gRpHwCVPEF5gyQvkAS13LaRuEFCgIOEkJBALqItqBGJVeKmSexljr3rjKcz++Hd9e7OnL+0rbvxOrv7O/8zZ8YzW0JQKBQKhUKhUCgUCoVCoVAoFAqFQqFQKBQKFaOMrF+AZVmJXINhGBaC1w+8RcGj4xMGP/TryLrblQCfhOsRvJ6uz3yaVwb8MF2vgtsRvKZuVw187NejituVAj8M1yN4PV2vTJrXDTzsNz0+oqWD25UDz6R7Q3KteZdD23Q7cXE7gs+A62XOLrgcCtCfy4JCpTSvJHgbvgz8JN1GJD97RrdDHdyuMnhZui/SbUxy2J7E8QhegXRftjeR/qLbkaCoa6t4j0ZUvChoj60ufT6wAey45LAjUQwRRTVC9BIUcBOC/Qey5IHgs+d6SzCS91wC/pmkbScIPqPNvSTdT3H7HmqW+bQED/tKXqlexUpeG/B2kcfvhmHZM9y+Q13adp2KO4vr2v0jAP+EywxtBK9Gkcfuesy18X/qVNTp1p1j23qo4AvkdNz+D93SvE7gIXXnmH836Hbefr2rU1GnFXjBSB6k+7P26we6uV0nx5OJO41i2yJzx23r4kIl/+G7k7nXYP83fx9/vtNovZ03jZ3mleJ9Xe6H2lXMxt4s/fMa3RboVvV5VI1u63TbIp+V6wg+W8AB9DLd5kN+0hbdVmgA1BB8+h1+WwZ8/tURMlvMkdJo/2XXD9qk1mh1NonW6HaTBsA+gk8f9Bs29D4tnRslVyt5snA27/kR+8cW2Xp8TNYfHJHt3Rem3wH0RQp/W3vwUCinYrBjY28VGLO7vnznZbJ8/iVSyovP76vfn/cygEj1Zpvc/PlZJxA4Xafw1xIfmAh578OCd45PbrSLgw4gVy+NS4E6WvzugHw0NUJu0OBwbeQp+Os/NDvZIA3w2SnkYcYcogLf1w8eWhBw0CGtA3Q/Kb18t9EJjp8+nvT1/svf/sfXAEODzww5G9z4xMDgzYjPsTPJEQJC8K1YHG16YOiOizv9NgoSUrqXoLm4/8EEn0VW7WIyVuDMxNFI3WTGeN5OAEQfBKfVe2DooK8fHb8QBAPC36TnUooDtstM4dSDFwZBRJ93m2/T/cqp3B1BBe9XAH/z/QJbMMKg0I2IgMcOOwnwbDNghsoCG3vzbD89CHSRw/2m+x7pcZPcoj0GRsv0nKoh3W3Gkc7TAp4PAnPAILjFdtm8qne3NO9I0Gd3FfQEoCvoJALSHSUM6m7Tvv+JdIeSAi8KAu8A6LbtPbcve3TFRBJBFgWDl5bf7PvdSwO4O1GlAXyQLHCNLehkgzNuaZ7rj7vudxOMBELa77m++/2AG+xUAE8jeP68ck4QsPfbeQHDsEHl5my/1T0Pn9FVQSrPpfUepxU8nwVyr9zdLxPmq1U/Y+9B4A6S7rngm02ru0XKzESMZovMOa+Zwip0mg/jeO48ZjNgpMw4vieYOcN2qaJM82Hgs72KyTuNiwg+YlnM6pdqwRzI8VEEh2hQx1HLIqWs3E8t5tx9/+SQVI7+JRWP9/32iEK8VNXhlugB/q38Ifni5Efv5sQcI/6n5mVbpg4XWSqVSKHgPbT7xkyF6KLsVKHG6fz32n4r8PET02c931OeORf4c9lx/pxB9hF81G2SYdRFN9uvvKCO5vNktnIm0GdC95A9l6efFncQfKQFPWk3rxTv9RzfaAUeYgWox6Nj0p8XfGQEXty4/zbpLtWyEHwEwOGpUzDFyJ7OVQvT53Zrwwdp37nuX80+T4DfSnsQpBE83LyWA5z72XrvRYAJFF7pvkk7NzMBwfMTOthzgyBlgiCVAWCm0d0u79ti02zQtl6W7gF6yG/66rLVNnYAWGkLADNh2BaXyt3VXcu25vwT5r0H1YXKdOg0D8BXfu17esqK1zFpywJmgu4e9FGhK6zrgrb1om7dhZnpYCdAoTPZps5mIj/igsBKIgiGCT6Yu326XrDYwVWQ1pvMgOVJ+XWSz/v/iheaGFiF0xeIIdbUJdUUmENwtxXC3TLdJN21bL3FDn7hQ1vOFnLvVWd8/1LoRsIKnL4uXESLKpgsMJQMYMbobsu+mOg/veuwRRZIEPhsm+63fRf8jr5ziFJOEMTZDJgxuTv+XNVdtXqdB+On0nfSPaT5qfFRX+ldAP1y3MumHePEkQXM1LvbHf4aD3/u3lO+DZame680D6Ch5yCBPtSHJUSdBdRYH7+xt0RgLRsjmBYFU6Blc/N+qT8k1amy8Fs7Z3CGq94Tgx5LIBFV1J1zv0m4L9RhmhbAh4mRbnP1ADakdBiGlczP2ybdByMo8VQM1R6FAlOfYC0brGwRToPqPAqFG6UDV7vUBnW7y7am0q1S9eFHngHgQ3V7sGhLpWffqA2+PwhgEQYsdpi1N9cCnjiPO1PwSVd6gXe6HvaaNZgCzc+GHc+RB7ufFMHhLR0eYKwbeD/Lai1V/9cpLcHb6+98jVnAXAAEr1ia9/n2tg5PsDY0gA5/BXl6ghbp3kC3C6V8kacL+MCHqZ7uDcWhD/xAIdXTPYLX1PWGwtAJCfe1M4LX0O1s1w7Ba1DUaeN6A92uZ5GH4DV1vaEg9LBFHYJHt6tb5KkIPo61Asq53lAMemzXhODTn+Zj+3iV0j2C19T1hkLQh3E9yrjeQLcjeHS7RuneQLfr6XoEr6nrDQWgD/06ELyGblcl3RvoduzTo1AoFAqFQqFQKBQKhUKhUCgUCoVCoVAoFCpy/S/AAP2n3JUi8RqLAAAAAElFTkSuQmCC",jhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+CAYAAADiI6WIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACDtJREFUeNrsnd1uG0UUx2c2cdImreIAqWiCqkillRAXddUbbhAttwja8gJtnyDpA6CSJyhvkPQFkiB6XSJxUwkBoQIhIVAdoC2iUZOQ1k3i2Msce9eMp/sx4921d8+cvzSJk3jt9f7OOXPO7MyEMRKJZI845g/num6Sz+hyzgl8QcHzhOBdAl9c8E6PhzcJfHHBOwnANwh8scEP93RhOD+g5K7Yyd2RHvv3fQJfbPjjPYb5PQJfbPBj4tuQ4WEH5PE4wI8YHrZHHo8D/JjhYTsCfJ3AFxv8qPg2aXjYpgB/SOCLD37KsJT7C/t1QQ/egz9r8PS6AP8I+zUZZnbIZASvbsMFsQV8Q7RRzefuEng8aopWYiQrPV63lq8ReDzaMwDfJPC4Qr0WeJHRvyDwWGpWzre9ej5OL6mPR8hfI8HbJfA4+/njlNjZB35fo5ZvEnic4ONm4zwl8Pi0rQG+TuDxCaAejcn+Nwk8vpLuT1HSHYmJCIzA4y3pwrz+bwKPV89EOxPyt00Cj1fPIzz+kMDj1b+ihc2z/43A4xXMpQubcbtH4PFqL8zjRdb/kMDjLekehCypemKZA1jn8SBYSanerNmx7SI4FoL/Q7RjSntIHo9fTz3YsvYJPH79ExDq7xN4/PqJvTqIs8tIyDM71624imy8DvZ4/PJWWXyt8JXtyufvHFH/Ni++rrNPJ9esKW2Rw66Ir9dEuyLarOZR66LdEW1VGEKVwBcLOICeE+1iwldaFW1BGMA6gc+/h98OA37xjWFWmRhi5ZHuj1190WTrO41WC9GSaDeFAWwT+PxBn/egd+n6qRF2ebrErpyMXzO5XXfZ6pM6u7NxwNY2X7lLC9CvYskDEoGHhDgXG/0uby0CY/lXkMDNnR5l5VLw+X3x+34nAgSpWmuymw9etgxB0Q0BfykH1Umia58UvH/84HZ6VqADyMULY6FAfV29/4J9MDXM5k9HT7UH8De+q7WiQR7gyztyJ9lyNS3wnV95JzQQ6BDWAbpOSJ+8u9Myjh8+PK71/EvfPFdzgL7Bl4Yaui5sEvBp36RpbRMOBpH5uEi7TzeG7ntxq24TICGkxwm6i6/fP6ZGkUUvmcwUuLT1eqrelOXdOd8A0jeC/7N3Y+igLx/XXzGCHuGveANDqcNOuNf+QMEHGkFKr3db7dN15WfuviCD1xXAX3lvXE4YYVBoPiXgmcMeBHi5G3ASRYHlrYtynW4CPcjDdcN9h/SYw251D/nOiXOaTejdThbhPC/gVSNwejSCW3LJFpe9R4V5XwE1e6SgEoBS0A8ErD1KaOrd/hZsAymH8jADxzeCeANo9+0db587PWr8ZkGQg4whTnNvd7339R68e6DK09QrnShwTU7owgZnosK8Uo9H/j5KMBIIYb/j9e37A1GwcwE8j+DV8xryjUC+3v4DGIY1VZRn62b3KnxJlwNC+VBer3HeJ1v6UWDo9bvbk0y6taoz9m4Ct5dwrxhfJa/eHaTCTMSoNdh5/7GUWCUO80k8XjmPCivQrOXCnGi96Z6TS6o0w3wS+HJVcfyrnXMEPmW57bKpDX7c6cnj0zCOoEEdXw2XlYtyPa2Yc/ft0z02ffCMTcc879fHAuKFWRsuiR3gz5T22GeH38d3J85Rpj81r9iyYglVuVxm4+PxQ7tvzUwzW1ScLJSzDf/x+nbD+PhjJ07GPmdy5pTx68rj/EO8OBsoFQb8MOfVoIutqzioI6USq0y/ZvSaUB7K57L78cSPBD7VhJ41a59M3Ot4/E7DeIgVoNZHwre5G9eICKqUcf811t4S1SXwKQDnnLf+j7s3nWs9Sc0d1Yf30r8r5d+6d54Av5F3I8gjeLh4DR+48rc7nQcb5v/lOyzc10RxM2MIXp3QIZ8bGKlkBLk0ACeP3h3xvFU5zJr29WHhHqAnvNNXDVtt4xmAmzcDcAYM21VCebTaa9mW/B9h3rupzk6fSBzmAfjCL12bZC3EHZO3KOAM0LvdHqcHL8heZ9rXB5V1Z2dOmJ2AgC5Fm6ociXSkGIE7CCPoJ3gz79b0+oDFDpGCsF6TBiwPJ99kpZL+LV7oYmAVTpchJlhTN6iuwOmDd7sJvDtMN5m327S/2EEXPvTlciL37uyM9ptCGQkrcLpKuJQWVUhRoC8RwMnQu13vw6T/6m0PuyoDMYEv9+m6/XvAe3SdQ5ryjSDLbsDJyLuzj1XtVas3VDA6mb4f7iHMT43F/zs6CO8B0C9lvWzad5wsooCTe++Ohr+kwj9/b1ftg0PDfVyYB9BQOYRA7+tmCWlHARzr45e3rjNYyyYJpkXBFOiwuXk/Vx+x2anJwLt2/uCMkr0PDHomhsSwqD3nfoUpN9RhmhbAh4mRUXP1ADaEdBiGDZmft8baGyOg2BUD21YoMPUJ1rLBypbAaVCtrVCUUTrw6ojcoOqVbEuYLhXWzY9iDUBDVW+waBXT3je4wXcbASzCgMUOFa9FJvDM3+4M4U5XdoH3Sw9vzRpMgVZnw44NsY3NjybAwxu52NOHwKcKXmdZrT9+TuCRQOe6YxYwF4DAIwvzmk9vpnxfgcAPCDp8M9k9wYpwz8nbA4U+ybMFvPFh2MM9Rw695w2FsId7Am+p13PE0BlLdtuZwFvo7XJpR+AtSOqs8XpO3m5nkkfgLfV6jhB60qSOwJO3403yMILPYq0AOq/nyKBn9pkIfP7DfGYvjyncE3hLvZ4jgt6Pz4PG6zl5O4Enb7co3HPydju9nsBb6vUcAfS+fw4Cb6G3Ywn3nLydanoSiUQikUgkEolEIpFIJBKJRCKRSCQSiUQipa7/BBgAYvLXIX7F9AUAAAAASUVORK5CYII=",Hhe={direction_sv_zl1_p0:Mhe,direction_sv_zl1_p1:Lhe,direction_sv_zl1_p2:Ahe,direction_sv_zl1_p3:Che,direction_sv_zl1:Ihe,direction_sv_zl2_p0:Rhe,direction_sv_zl2_p1:Ohe,direction_sv_zl2_p2:khe,direction_sv_zl2_p3:Phe,direction_sv_zl2:Dhe,direction_sv_zl3_p0:Fhe,direction_sv_zl3_p1:Nhe,direction_sv_zl3_p2:Whe,direction_sv_zl3_p3:zhe,direction_sv_zl3:Bhe,direction_sv_zl4_p0:Ghe,direction_sv_zl4_p1:qhe,direction_sv_zl4_p2:Uhe,direction_sv_zl4_p3:Vhe,direction_sv_zl4:jhe},Zhe=new Map(Object.entries(Hhe));class Xhe extends Rr{constructor(){super(...arguments);Sa(this,"zoom");Sa(this,"heading");Sa(this,"pitch")}getStyleFunction(){return function(t){let i=t.zoom;i<1?i=1:i>4&&(i=4);const n=Math.abs(t.pitch);let s=0;n>=0&&n<=23?s=0:n>23&&n<=45&&(s=1),n>45&&n<=68&&(s=2),n>68&&(s=3);const r=`direction_sv_zl${i}_p${s}`;return[new kr({image:new Ul({src:Zhe.get(r),rotation:t.heading*Math.PI/180})})]}}}const Yhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAYCAYAAAH/g49WAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAbhJREFUeNpi/P//PwM6YIIxGNe9/w/CYA5Y5dp3/0E0jA0QQAzIHDgbWQBIf4DYgaQCJgEQQIzotsMtY2D4+D9IUAAmzoKuACjJiCYG1bD2XQO6VegYJA8QQIzYPI4NMKELoAQKLoUwN6F5CjN4YQ6HeQhZMROm7yAAXTEjOC7QFGELV4AAIsrXuCIBq1p8BmILJUIGYzUQzSAUzfjkMAwkpJgYS8EGkmIQIYNZyDUIR3LYABBADPgSP1ImWADEDsSoJZhsgDYvAFLxUK4h0EUXSMpUeAwDgfNAMQOyDMRiGFGGMhFpmCEQLyTGUCZiDAOFGxAnEGMoEzGGISURgoYyEWsYsYYykWIYMYYyghMtCYYRCiJYwUmyYTgMPQjyciK5hqF7H8h2AAgwouspEl0KqpkcyHEgSTUAmfGCUlNQ6lCyHUjAYVRzKMkOJCLEHgCxPrUcSrQDSY1KakU9qfUTyRZRrB+XA6md+Mk1D1tLnLa5ktSkAnMgrR1GrkNBVUkBkNNPL4eR6FBw1fQAh8MMoV0QmjkOVrVBm6oLsUhfQI5iUHUPagc/AGp4wDBAAOgOB6jDD4BoAGlo9P09koqFAAAAAElFTkSuQmCC";class Yv extends Rr{constructor(e,t,i,n){super(e),this.heading=t,this.description=i,this.pano=n,this.setStyle(this.createStyleFunction())}createStyleFunction(){return function(e){return[new kr({image:new Ul({anchor:[.5,50],anchorXUnits:"fraction",anchorYUnits:"pixels",src:Yhe,rotation:e.heading*Math.PI/180})})]}}}const Khe=1502,$he="svFeatureLayer",Qhe=90;function Jhe(a){const{infoOpen:e}=Gt(fi()),{locationInfoCoords:t,hidePointer:i,isStreetviewActive:n,noDataAtLocation:s,streetViewLoading:r,panoPositionChanging:l,svFeature:c}=Gt(Kc()),h=Hi().getOlMap();let f=null,v=null,b=null,T=null,M=null;const I=new lj({filter:ie=>ie instanceof Yv});I.on("select",Z);const R=new Xr([0,0]),P=new Xhe;P.setGeometry(R);const F=new hl({source:new ed({features:[]}),zIndex:Khe});F.set("cyLayerType",$he),h.addLayer(F);function B(ie){if(ie&&b!==null&&!l.value){const me=cf(ie,h.getView().getProjection());v.getPanorama({location:{lat:me[1],lng:me[0]},radius:Qhe},W)}}function W(ie,me){me===google.maps.StreetViewStatus.OK?(s.value=!1,Xy(()=>{var fe;b.setPosition(((fe=ie==null?void 0:ie.location)==null?void 0:fe.latLng)||null),b.setVisible(!0)})):(s.value=!0,r.value=!1,c.value=void 0,b.setVisible(!1))}Vt(e,ie=>{ie?n.value&&t.value&&he(t.value):c.value=void 0}),Vt(t,ie=>{ie?n.value&&!l.value&&(r.value=!0,B(ie)):(c.value=void 0,h.getViewport().style.cursor="")}),Vt([n,a],async([ie,me])=>{ie&&me?(r.value=!0,await Ehe(),window.hasOwnProperty("google")&&(f=window.google.maps),v===null&&(v=new f.StreetViewService),b===null&&(b=new f.StreetViewPanorama(me,{pov:{heading:0,pitch:0},visible:!1,zoom:1})),T===null&&(T=f.event.addListener(b,"links_changed",()=>_e(!0))),M===null&&(M=f.event.addListener(b,"pov_changed",()=>_e(!1))),B(t.value)):(b!==null&&b.setVisible(!1),c.value=void 0,M&&(f.event.removeListener(M),M=null),T&&(f.event.removeListener(T),T=null))}),Vt(c,ie=>{var me,fe;(me=F.getSource())==null||me.clear(),ie?((fe=F.getSource())==null||fe.addFeature(ie.compass),ie.directions.forEach(be=>{var Ae;return(Ae=F.getSource())==null?void 0:Ae.addFeature(be)}),i.value=!0,h.addInteraction(I),h.on("pointermove",ae),F.once("postrender",()=>{r.value=!1})):(h.un("pointermove",ae),h.removeInteraction(I),i.value=!1)});function Z(ie){if(ie.target.getFeatures().getLength()!==0){const me=ie.target.getFeatures().getArray()[0];me.pano&&(ie.target.getFeatures().clear(),b.setPano(me.pano))}}function ae(ie){if(n.value){const me=h.forEachFeatureAtPixel(ie.pixel,function(fe){return fe instanceof Yv});h.getViewport().style.cursor=me?"pointer":""}}function he(ie){R.setCoordinates(ie);const me=b.getPov();P.heading=me.heading,P.zoom=Math.floor(b.getZoom()),P.pitch=me.pitch,new Yv(R,3,"5","5").heading;const be=b.getLinks()||[];c.value={compass:P,directions:be.map(Ae=>new Yv(R,(Ae==null?void 0:Ae.heading)||0,(Ae==null?void 0:Ae.description)||"",Ae==null?void 0:Ae.pano))}}function _e(ie){l.value=!0;const me=b.getPosition();if(me){const fe=[me.lng(),me.lat()],be=wG(fe);he(be),ie&&(t.value=be),t.value&&!Sh(h.getView().calculateExtent(h.getSize()),be)&&h.getView().setCenter(be)}Xy(()=>{l.value=!1})}}const e_e={class:"grid"},t_e={class:"grid col-start-1 row-start-1 before:content-streetview before:col-start-1 before:row-start-1","data-cy":"streetviewNoData"},a_e={class:"col-start-1 row-start-1 text-white py-[15px]"},i_e={"data-cy":"streetviewLoading",class:"col-start-1 row-start-1 lux-loader"},n_e=ft({__name:"street-view",setup(a){const{t:e}=ma(),{isStreetviewActive:t,streetViewLoading:i,noDataAtLocation:n}=Gt(Kc()),s=$e(null);Jhe(s);const r=Hi().getOlMap();return Vt(i,l=>{l?r.getViewport().style.cursor="wait":r.getViewport().style.cursor=""}),(l,c)=>(ne(),xe("div",e_e,[Ai($("div",t_e,[$("span",a_e,De(V(e)("Il n'y a pas de panorama google disponible à cet endroit")),1)],512),[[th,V(t)&&V(n)]]),Ai($("div",i_e,null,512),[[th,V(i)]]),Ai($("div",{ref_key:"streetviewDiv",ref:s,class:"h-[500px] col-start-1 row-start-1"},null,512),[[th,V(t)&&!V(n)]])]))}}),D5=jo("print",()=>{const a=$e(void 0),e=$e(void 0);return{featureInfoPrintableRef:a,locationInfoPrintableRef:e}},{});function r_e(a){return a&&`https://migration.geoportail.lu/qr?url=${a}`}function s_e(a){return typeof a!==void 0?`https://migration.geoportail.lu/qr?url=https://migration.geoportail.lu/qr?map_id=${a}`:void 0}function hC(a){if(a)return a.startsWith("data:image")?a:(a.startsWith("/")&&"https://migration.geoportail.lu/".endsWith("/")&&(a="."+a),`https://migration.geoportail.lu/${a}`)}const o_e={class:"flex flex-row"},l_e={class:"no-print grow-[2] flex flex-col justify-end content-end"},u_e={id:"short_url_title",class:"text-3xl text-white"},c_e=["value"],d_e=["src"],h_e={class:"mt-5 text-3xl text-white"},__e={class:"lux-info-table"},m_e={style:{"text-align":"left"}},p_e={style:{"text-align":"left"}},f_e=["disabled"],g_e={class:"flex flex-wrap mt-1 gap-x-1"},y_e=["href"],v_e=["href"],b_e=["href"],x_e={class:"create-itinerary-text"},w_e={key:1},S_e={class:"create-itinerary-text"},T_e={key:0,class:"grid before:content-streetview before:col-start-1 before:row-start-1"},E_e={key:0,class:"col-start-1 row-start-1 text-center"},M_e=ft({__name:"location-info",setup(a){const{t:e}=ma(),{locationInfoCoords:t,locationInfoInfos:i,isStreetviewActive:n,routingFeatureTemp:s}=Gt(Kc()),{currentUser:r}=Gt(kx()),{addNotification:l}=jc(),c=Hi().getOlMap(),h=$e(),f=$e(),v=$e(),b=$e(),T=$e(),M=$e({}),I=$e(!1),R=$e(!1),P=$e("ACT"),F=$e("base");mhe(),B(t.value),Vt(t,B);async function B(Re){Re&&(i.value=await xhe(Re,c.getView().getProjection()),h.value=i.value.shortUrl,f.value=r_e(i.value.shortUrl),T.value=i.value.clickCoordinateLuref,M.value=Object.fromEntries(Object.entries(vhe).map(([Oe,Qe])=>[Qe,gj(Re,c.getView().getProjection(),Oe)])),v.value=i.value.elevation===null?"N/A":PE(i.value.elevation),b.value=i.value.address,R.value=i.value.isInBoxOfLidar)}Vt(r,Re=>{P.value=(Re==null?void 0:Re.role)||"anonymous",F.value=(Re==null?void 0:Re.role)||"base"});const{locationInfoPrintableRef:W}=Gt(D5()),Z=Re=>W.value=Re,ae=Pt(()=>P.value==="ACT"),he=Pt(()=>F.value==="etat"||F.value==="commune"||P.value==="MinTour"),_e=Pt(()=>!0),ie=Pt(()=>T.value?`https://lidar.geoportail.lu?COORD_X=${T.value[0]}&COORD_Y=${T.value[1]}&COORD_Z=${parseInt(v.value||"0")}`:""),me=Pt(()=>T.value?`/getRapportForageVirtuel?x=${T.value[0]}&y=${T.value[1]}`:""),fe=Pt(()=>T.value?`http://streetsmart.cyclomedia.com/streetsmart?q=${T.value[0]};${T.value[1]}`:""),be=Pt(()=>T.value?`https://oblique.geoportail.lu/publication/viewer?x=${T.value[0]}&y=${T.value[1]}&crs=2169`:"");function Ae(){if(!t.value)return;const Re=new Rr(new Xr(t.value));b.value&&b.value.distance<=100?Re.set("label",b6(b.value)):Re.set("label",M.value.Luref),s.value=Re}function Ye(){n.value=!n.value}async function Xe(){I.value=!0;try{await lae(me.value,"")}catch{l(e("An error occurred while downloading forage."),Bu.ERROR)}finally{I.value=!1}}return Vt(I,Re=>{Re?c.getViewport().style.cursor="wait":c.getViewport().style.cursor=""}),(Re,Oe)=>{var Qe;return ne(),xe(sa,null,[$("div",{ref:Z},[$("div",o_e,[$("div",l_e,[$("h3",u_e,De(V(e)("Short Url",{ns:"client"})),1),$("input",{"aria-labelledby":"short_url_title",onclick:"this.select();",class:"lux-input",type:"text",value:h.value,readonly:"true"},null,8,c_e)]),f.value?(ne(),xe("img",{key:0,class:"mx-5 mt-5",src:f.value},null,8,d_e)):Ze("",!0)]),$("div",null,[$("h3",h_e,De(V(e)("Location Coordinates",{ns:"client"})),1),$("table",null,[$("tbody",__e,[(ne(!0),xe(sa,null,Cn(M.value,(yt,Je)=>(ne(),xe("tr",{key:Je},[$("th",null,De(V(e)(Je)),1),$("td",null,De(yt),1)]))),128)),$("tr",null,[$("th",null,De(V(e)("Elevation")),1),$("td",null,De(v.value),1)]),$("tr",null,[$("th",m_e,De(V(e)("Adresse la plus proche")),1),$("td",null,De(V(b6)(b.value)),1)]),$("tr",null,[$("th",p_e,De(V(e)("Distance approximative")),1),$("td",null,De(V(c0)(((Qe=b.value)==null?void 0:Qe.distance)||null,0)),1)])])])])]),$("div",null,[ae.value?(ne(),xe("button",{key:0,disabled:I.value,class:"lux-btn mt-1",onClick:Oe[0]||(Oe[0]=yt=>Xe())},De(V(e)("Rapport forage virtuel")),9,f_e)):Ze("",!0),$("div",g_e,[R.value?(ne(),xe("a",{key:0,class:"lux-btn whitespace-nowrap",href:ie.value,target:"_geoportal_ext_lidar"},De(V(e)("Lien vers la démo lidar")),9,y_e)):Ze("",!0),he.value?(ne(),xe("a",{key:1,class:"lux-btn whitespace-nowrap",href:fe.value,target:"_geoportal_ext_cyclomedia"},De(V(e)("Lien vers Cyclomédia")),9,v_e)):Ze("",!0),_e.value?(ne(),xe("a",{key:2,class:"lux-btn whitespace-nowrap",href:be.value,target:"_geoportal_ext_obliques"},De(V(e)("Images obliques")),9,b_e)):Ze("",!0)]),$("div",null,[$("button",{class:"lux-btn mt-1",onClick:Oe[1]||(Oe[1]=yt=>Ae())},[$("span",x_e,De(V(e)("Ajouter étape à mon itinéraire")),1)])]),V(n)?(ne(),xe("div",w_e,[$("button",{"data-cy":"streetviewOff",class:"lux-btn mt-3",onClick:Oe[2]||(Oe[2]=yt=>Ye())},[$("span",S_e,De(V(e)("Désactiver Google Streetview")),1)])])):Ze("",!0)]),$("div",null,[Ai(ct(n_e,null,null,512),[[th,V(n)]]),V(n)?Ze("",!0):(ne(),xe("div",T_e,[V(n)?Ze("",!0):(ne(),xe("div",E_e,[$("button",{"data-cy":"streetviewOn",class:"lux-btn mt-3 no-print",onClick:Oe[3]||(Oe[3]=yt=>Ye())},De(V(e)("Activer Google Streetview")),1)]))]))])],64)}}}),F5=jo("metadata",()=>{const a=Li();function e(i){a.value=i}function t(){a.value=void 0}return{metadataLayer:a,setMetadataLayer:e,clearMetadataLayer:t}},{}),L_e={class:"bg-white shadow-modal rounded-lg overflow-hidden w-[700px]"},A_e={class:"relative flex flex-row justify-center p-4 border-b-[1px]"},C_e={class:"text-xl"},I_e={key:0,class:"p-[15px] border-t-[1px]"},R_e={class:"flex flex-row justify-end"},OP=ft({__name:"modal-dialog",props:{footer:{type:Boolean,default:!0},maxHeight:{type:Boolean,default:!1},title:String},emits:["close"],setup(a){const{t:e}=ma(),t=$e();jn(()=>{t.value.focus()});const i=Li(!0);function n(){i.value=!1}return(s,r)=>(ne(),ga(dx,{to:"body"},[r[5]||(r[5]=$("div",{class:"fixed inset-0 bg-gray-900 opacity-40 z-[1050]"},null,-1)),ct(G3,{appear:"","enter-active-class":"duration-200 ease-out","enter-from-class":"transform opacity-0 -translate-y-60","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-60",onAfterLeave:r[3]||(r[3]=l=>s.$emit("close"))},{default:Xa(()=>[i.value?(ne(),xe("div",{key:0,role:"dialog",ref_key:"modal",ref:t,tabindex:"0",onKeydown:r[2]||(r[2]=Ol(Rl(l=>n(),["stop"]),["esc"])),class:"fixed inset-x-0 inset-y-8 flex items-start justify-center z-[1100] outline-none"},[$("div",L_e,[$("div",A_e,[$("h4",C_e,De(a.title),1),$("button",{type:"button",class:"absolute right-2 top-1 text-slate-400 text-[24px]","data-dismiss":"modal","aria-label":"Close",onClick:r[0]||(r[0]=l=>n())},r[4]||(r[4]=[$("span",{"aria-hidden":"true"},"×",-1)]))]),$("div",{class:ei(["p-[15px] overflow-y-auto",a.maxHeight?"max-h-96":"max-h-full"])},[Va(s.$slots,"content")],2),a.footer?(ne(),xe("div",I_e,[$("div",R_e,[$("button",{type:"button",class:"lux-btn","data-dismiss":"modal",onClick:r[1]||(r[1]=l=>n())},De(V(e)("Close",{ns:"client"})),1)])])):Ze("",!0)])],544)):Ze("",!0)]),_:3})]))}});function O_e(){const{t:a}=ma();return{translate:(t,i)=>{const s=new DOMParser().parseFromString(t,"text/html");return s.querySelectorAll("[translate]").forEach(l=>{var h;const c=(h=l.textContent)==null?void 0:h.trim();c&&(l.textContent=a(c,i),l.removeAttribute("translate"))}),new XMLSerializer().serializeToString(s)}}}const k_e={key:0,class:"lux-legend"},P_e={key:1},l3=ft({__name:"legend-item",props:{layer:{},displayEmptyLegend:{type:Boolean,default:!1}},emits:["hasLegend","removedLegend"],setup(a,{emit:e}){const{t,i18next:i}=ma(),{translate:n}=O_e(),s=$e(),r=a,l=e;Vt(()=>i.language,()=>c()),jn(()=>c()),Os(()=>l("removedLegend"));async function c(){var h;s.value=await E2.getLayerMetadata(r.layer.id,i.language),l("hasLegend",!!((h=s.value)!=null&&h.hasLegend))}return(h,f)=>{var b,T,M;const v=wh("dompurify-html");return s.value&&((b=s.value.legendHtml)!=null&&b.innerHTML)?(ne(),xe("div",k_e,[Va(h.$slots,"title"),Ai($("div",null,null,512),[[v,V(n)((T=s.value.legendHtml)==null?void 0:T.innerHTML)]])])):!((M=s.value)!=null&&M.hasLegend)&&h.displayEmptyLegend?(ne(),xe("div",P_e,De(V(t)("The legend is not available for this layer")),1)):Ze("",!0)}}}),D_e={class:"font-bold"},F_e={class:"col-span-2"},Kg=ft({__name:"layer-metadata-item",props:{label:{},value:{}},setup(a){const e=a;return(t,i)=>(ne(),xe(sa,null,[$("span",D_e,De(e.label),1),$("span",F_e,De(e.value),1)],64))}}),N_e={"data-cy":"metadata",class:"grid gap-2 grid-cols-3 pt-3 text-[13px] font-arial break-words"},W_e={key:2,class:"col-span-3 grid gap-2 grid-cols-3"},z_e={class:"font-bold"},B_e={class:"col-span-2"},G_e=["title"],q_e=["title"],U_e={key:4,class:"col-span-3"},V_e={class:"font-bold"},j_e={class:"col-span-2"},H_e=["href"],Z_e={key:7,class:"col-span-3 grid gap-2 grid-cols-3"},X_e={class:"font-bold"},Y_e={class:"col-span-2"},K_e={key:0},$_e={key:1},Q_e={key:2},J_e={key:3},eme={key:4},tme=["href"],ame={key:8,class:"grid gap-2 grid-cols-3 col-span-3"},ime={class:"font-bold"},nme={class:"col-span-2"},rme=["href"],sme={key:9,class:"col-span-3"},_4=220,ome=ft({__name:"layer-metadata",setup(a){const e=F5(),{metadataLayer:t}=Gt(e),{t:i,i18next:n}=ma(),s=$e(),r=$e(!0);Vt(t,async v=>{var b,T;s.value=v?await E2.getLayerMetadata(v.id,n.language):void 0,r.value=(((T=(b=s.value)==null?void 0:b.description)==null?void 0:T.length)||0)<_4}),Vt(()=>n.language,async v=>{t.value&&(s.value=await E2.getLayerMetadata(t.value.id,v))});const l=Pt(()=>{var v,b,T;return r.value?(v=s.value)==null?void 0:v.description:(T=(b=s.value)==null?void 0:b.description)==null?void 0:T.slice(0,_4)});function c(){r.value=!0}function h(){r.value=!1}function f(){e.clearMetadataLayer()}return(v,b)=>{const T=wh("dompurify-html");return s.value?(ne(),ga(OP,{key:0,footer:!1,"max-height":!0,title:V(i)(`${s.value.title}`,{ns:"client"}),onClose:f},{content:Xa(()=>{var M,I,R,P,F,B,W,Z,ae,he,_e,ie,me,fe;return[$("div",N_e,[s.value.name?(ne(),ga(Kg,{key:0,label:V(i)("Name"),value:s.value.name},null,8,["label","value"])):Ze("",!0),s.value.serviceDescription?(ne(),ga(Kg,{key:1,label:V(i)("Description du Service"),value:s.value.serviceDescription},null,8,["label","value"])):Ze("",!0),s.value.description?(ne(),xe("div",W_e,[$("span",z_e,De(V(i)("Description")),1),$("span",B_e,[Ai($("span",null,null,512),[[T,l.value]]),r.value?Ze("",!0):(ne(),xe("button",{key:0,title:V(i)("Display full description",{ns:"app"}),onClick:c,class:"text-secondary hover:underline"}," ... ",8,G_e)),r.value&&(((M=l.value)==null?void 0:M.length)||0)>_4?(ne(),xe("button",{key:1,title:V(i)("Hide full description",{ns:"app"}),onClick:h,class:"text-secondary hover:underline"}," - ",8,q_e)):Ze("",!0)])])):Ze("",!0),s.value.legalConstraints?(ne(),ga(Kg,{key:3,label:V(i)("Contrainte d'utilisation"),value:s.value.legalConstraints},null,8,["label","value"])):Ze("",!0),((I=s.value.link)==null?void 0:I.length)!==0?(ne(),xe("div",U_e,[(ne(!0),xe(sa,null,Cn(s.value.link,be=>(ne(),xe("div",{class:"grid gap-2 grid-cols-3",key:be},[$("span",V_e,De(V(i)("Url vers la resource")),1),$("span",j_e,[$("a",{class:"text-secondary hover:underline",target:"_blank",href:be},De(be),9,H_e)])]))),128))])):Ze("",!0),s.value.revisionDate?(ne(),ga(Kg,{key:5,label:V(i)("Revision date"),value:V(pj)(s.value.revisionDate,V(n).language)},null,8,["label","value"])):Ze("",!0),s.value.keyword?(ne(),ga(Kg,{key:6,label:V(i)("Keywords"),value:(R=s.value.keyword)==null?void 0:R.join(",")},null,8,["label","value"])):Ze("",!0),s.value.responsibleParty?(ne(),xe("div",Z_e,[$("div",X_e,De(V(i)("Contact")),1),$("div",Y_e,[(P=s.value.responsibleParty)!=null&&P.organisaton?(ne(),xe("p",K_e,De((F=s.value.responsibleParty)==null?void 0:F.organisaton),1)):Ze("",!0),(B=s.value.responsibleParty)!=null&&B.name?(ne(),xe("p",$_e,De((W=s.value.responsibleParty)==null?void 0:W.name),1)):Ze("",!0),(Z=s.value.responsibleParty)!=null&&Z.unknown?(ne(),xe("p",Q_e,De((ae=s.value.responsibleParty)==null?void 0:ae.unknown),1)):Ze("",!0),(he=s.value.responsibleParty)!=null&&he.address?(ne(),xe("p",J_e,De((_e=s.value.responsibleParty)==null?void 0:_e.address),1)):Ze("",!0),(ie=s.value.responsibleParty)!=null&&ie.email?(ne(),xe("p",eme,[$("a",{class:"text-secondary hover:underline",href:"mailto:"+((me=s.value.responsibleParty)==null?void 0:me.email)},De((fe=s.value.responsibleParty)==null?void 0:fe.email),9,tme)])):Ze("",!0)])])):Ze("",!0),s.value.metadataLink?(ne(),xe("div",ame,[$("span",ime,De(V(i)("Link to the metadata")),1),$("span",nme,[$("a",{class:"text-secondary hover:underline",target:"_blank",href:s.value.metadataLink},De(V(i)("link")),9,rme)])])):Ze("",!0),s.value.isError?(ne(),xe("div",sme,De(V(i)("The metadata is right now not available")),1)):V(t)?(ne(),ga(l3,{key:10,class:"mt-5 col-span-3",layer:V(t),displayEmptyLegend:!0},{title:Xa(()=>[$("h4",null,De(V(i)("Legend")),1)]),_:1},8,["layer"])):Ze("",!0)])]}),_:1},8,["title"])):Ze("",!0)}}}),lme={class:"flex flex-row flex-wrap pl-2.5","data-cy":"themeGrid"},ume=["onClick"],cme={class:"text-2xl absolute top-5"},dme=ft({__name:"theme-grid",props:{themes:{}},setup(a){const{t:e}=ma(),t=a;return(i,n)=>(ne(),xe("div",lme,[(ne(!0),xe(sa,null,Cn(t.themes,s=>(ne(),xe("button",{class:ei(["relative shrink-0 h-[150px] w-1/2 px-2.5 text-start text-gray-100/40 uppercase hover:bg-[#ccc]",`bg-${s.name}-primary hover:text-${s.name}-primary`]),key:s.id,onClick:r=>i.$emit("setTheme",s.name)},[$("div",cme,De(V(e)(`${s.name}`)),1),$("div",{class:ei(["text-6xl absolute bottom-1 after:font-icons",`after:content-${s.name}`])},null,2)],10,ume))),128))]))}}),hme=["aria-expanded"],_me={class:"py-0.5"},mme={class:"px-1 py-0.5 shrink-0 flex flex-row text-[12px] bg-secondary text-white"},pme={class:"py-[3px]"},fme={class:"flex flex-row flex-wrap ml-1 w-12"},gme=ft({__name:"theme-selector-button",props:{themes:{},themeName:{},currentTheme:{},isOpen:{type:Boolean}},setup(a){const{t:e}=ma(),t=a,i=Pt(()=>{var n;return((n=t.themes)==null?void 0:n.slice(0,8))||[]});return(n,s)=>(ne(),xe("button",{class:"w-full flex flex-row justify-between bg-tertiary text-white px-2 py-1.5 uppercase cursor-pointer hover:bg-white hover:text-primary","aria-expanded":t.isOpen},[$("span",_me,De(V(e)("Theme"))+": "+De(V(e)(`${t.themeName}`)),1),$("span",mme,[$("span",pme,De(V(e)("Changer")),1),$("span",fme,[(ne(!0),xe(sa,null,Cn(i.value,r=>(ne(),xe("div",{class:ei(`h-2.5 w-2.5 m-px bg-${r.name}-primary`),key:r.id},null,2))),128))])])],8,hme))}});class yme{setCurrentThemeColors(e){const t=document.querySelector(":root");["primary","secondary","tertiary","quaternary"].forEach(n=>{const s=getComputedStyle(t).getPropertyValue(`--${e.replace(/\s/g,"_")}-${n}`);t.style.setProperty(`--color-${n}`,s)})}}const vme=new yme,bme={key:0,class:"absolute inset-x-0 top-14 bottom-0 mt-1 bg-primary overflow-y-auto overflow-x-hidden"},xme=ft({__name:"theme-selector",setup(a){const e=fi(),{setThemeGridOpen:t}=e,{themeGridOpen:i}=Gt(e),n=us(),s=zc(),{theme:r,themes:l,themeName:c}=Gt(n),h=Pt(()=>{var b;return((b=l.value)==null?void 0:b.filter(T=>{var M;return((M=T.metadata)==null?void 0:M.display_in_switcher)===!0}))||[]});Vt(c,b=>{b&&vme.setCurrentThemeColors(b)},{immediate:!0});function f(){t(!i.value)}function v(b){s.setTheme(b),f()}return(b,T)=>(ne(),xe(sa,null,[ct(gme,{"data-cy":"themeSelectorButton",onClick:f,themes:h.value,currentTheme:V(r),themeName:V(c),isOpen:V(i)},null,8,["themes","currentTheme","themeName","isOpen"]),V(i)?(ne(),xe("div",bme,[ct(dme,{onSetTheme:v,themes:h.value},null,8,["themes"])])):Ze("",!0)],64))}}),wme=["aria-expanded"],Sme={class:"leading-6"},Tme={key:0},Tb=ft({__name:"expandable-panel",props:{expanded:{type:Boolean},title:{}},emits:["togglePanel"],setup(a){return(e,t)=>(ne(),xe(sa,null,[$("button",{onClick:t[0]||(t[0]=i=>e.$emit("togglePanel")),class:"group w-full text-left flex px-2 py-1.5 uppercase bg-tertiary","aria-expanded":e.expanded},[$("span",{class:ei(["grow",e.expanded?"text-white":"text-secondary"])},De(e.title),3),$("span",Sme,[$("span",{class:ei(["fa fa-sharp fa-solid group-hover:text-white text-primary",e.expanded?"fa-caret-up":"fa-caret-down"])},null,2)])],8,wme),ct(G3,{name:"slide"},{default:Xa(()=>[e.expanded?(ne(),xe("div",Tme,[Va(e.$slots,"default")])):Ze("",!0)]),_:3})],64))}});const Eme={class:"mb-px",key:"node.id"},Mme=["data-cy"],Lme=["aria-expanded","data-cy"],Ame={class:"grow"},Cme={class:"leading-6"},Ime=["data-cy"],Rme={key:1,class:"flex text-tertiary pr-2"},Ome=["data-cy"],kme=["data-cy"],Pme={class:"ml-1 hover:underline"},u3=ft({__name:"layer-tree-node",props:{node:{}},emits:["toggleLayer","toggleParent"],setup(a,{emit:e}){const t=a,i=e,{t:n}=ma(),{setMetadataLayer:s}=F5(),r=!!t.node.children,l=t.node.depth===0,c=t.node.depth>=10,h=Pt(()=>n(t.node.name,{ns:"client"}));function f(b){i("toggleLayer",b)}function v(b){i("toggleParent",b)}return(b,T)=>{const M=PW("layer-tree-node",!0);return r?(ne(),xe("div",Eme,[b.node.depth===1?(ne(),xe("div",{key:0,"data-cy":`parentLayerLabel-${b.node.id}`},[ct(Tb,{title:h.value,expanded:b.node.expanded,onTogglePanel:T[0]||(T[0]=I=>v(b.node))},null,8,["title","expanded"])],8,Mme)):b.node.depth>1&&!c?(ne(),xe("button",{key:1,class:ei(["w-full text-left flex px-2 py-1.5 pl-2",b.node.expanded?"text-tertiary":"bg-white text-primary"]),"aria-expanded":b.node.expanded,onClick:T[1]||(T[1]=I=>v(b.node)),"data-cy":`parentLayerLabel-${b.node.id}`},[$("div",Ame,De(h.value),1),$("div",Cme,[$("div",{class:ei(["fa-sharp fa-solid",b.node.expanded?"fa-minus":"fa-plus"])},null,2)])],10,Lme)):Ze("",!0),c?Ze("",!0):(ne(),xe("div",{key:2,class:ei(["bg-secondary",[{"pl-2":b.node.depth>1},{"lux-collapse":!l},{expanded:!l&&b.node.expanded}]]),"data-cy":`subLayerLabel-${b.node.id}`},[(ne(!0),xe(sa,null,Cn(b.node.children,I=>(ne(),ga(M,{key:I.id,node:I,onToggleParent:T[2]||(T[2]=R=>v(R)),onToggleLayer:T[3]||(T[3]=R=>f(R))},null,8,["node"]))),128))],10,Ime))])):(ne(),xe("div",Rme,[$("button",{"data-cy":`layerMetadata-${b.node.id}`,class:"self-start before:text-[.85rem] before:transform before:translate-y-[.1rem] before:inline-block before:content-['\\f129'] fa-solid fa-fw fa-fh fa-info",onClick:T[4]||(T[4]=I=>V(s)(b.node))},null,8,Ome),$("button",{class:ei(["w-full text-left",{"font-bold":b.node.checked}]),onClick:T[5]||(T[5]=I=>f(b.node)),"data-cy":`layerLabel-${b.node.id}`},[$("i",{class:ei(["fa-solid",b.node.checked?"fa-check-square":"fa-square"])},null,2),$("span",Pme,De(h.value),1)],10,kme)]))}}});function c3(a,e=0){const{name:t,id:i,children:n,metadata:s}=a;return{name:t,id:i,depth:e,children:n==null?void 0:n.map(r=>c3(r,e+1)),checked:!1,expanded:(s==null?void 0:s.is_expanded)||!1}}class Dme{toggleNode(e,t,i){var n;return(t==null?void 0:t.id)===e?{...t,[i]:!t[i]}:{...t,children:(n=t.children)==null?void 0:n.map(s=>this.toggleNode(e,s,i))}}updateLayers(e,t){const{id:i}=e;if(e.children)return{...e,children:e.children.map(n=>this.updateLayers(n,t))};{const n=!!(t!=null&&t.find(s=>s.id===i));return{...e,checked:n}}}}const nf=new Dme,Fme={key:0,class:"mb-7"},Nme=ft({__name:"catalog-tree",setup(a){const e=on(),t=us(),i=qo(),n=Li(),s=Li(),r=Pt(()=>!e.is3dActive||e.is3dActive&&!e.is3dMesh),{layerTrees_3d:l}=Gt(t);Vn(c);function c(){var v;if(t.theme&&e.layers){const b=n.value&&n.value.id===((v=t.theme)==null?void 0:v.id)?n.value:c3(t.theme);n.value=nf.updateLayers(b,e.layers)}}Vn(()=>{if(l.value){const v=s.value?s.value:c3(l.value);s.value=nf.updateLayers(v,e.layers3d)}});function h(v,b){const T=b?s:n;T.value=nf.toggleNode(v.id,T.value,"expanded")}function f(v,b){i.toggleLayer(+v.id,!v.checked,b,!0)}return(v,b)=>(ne(),xe("div",null,[s.value&&V(e).is3dActive?(ne(),xe("div",Fme,[(ne(),ga(u3,{node:s.value,key:s.value.id,onToggleParent:b[0]||(b[0]=T=>h(T,!0)),onToggleLayer:b[1]||(b[1]=T=>f(T,!0))},null,8,["node"]))])):Ze("",!0),n.value&&r.value?(ne(),ga(u3,{node:n.value,key:n.value.id,onToggleParent:b[2]||(b[2]=T=>h(T,!1)),onToggleLayer:b[3]||(b[3]=T=>f(T,!1))},null,8,["node"])):Ze("",!0)]))}}),Wme=ft({__name:"catalog-tab",setup(a){const{themeGridOpen:e}=Gt(fi());return(t,i)=>(ne(),xe(sa,null,[ct(xme),V(e)===!1?(ne(),ga(Nme,{key:0,"data-cy":"catalog",class:"pt-5 absolute inset-x-2.5 bg-primary overflow-y-auto overflow-x-hidden"})):Ze("",!0)],64))}});/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function _C(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),t.push.apply(t,i)}return t}function Gu(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(t),!0).forEach(function(i){zme(a,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):_C(Object(t)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(t,i))})}return a}function Eb(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eb=function(e){return typeof e}:Eb=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(a)}function zme(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function $c(){return $c=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i])}return a},$c.apply(this,arguments)}function Bme(a,e){if(a==null)return{};var t={},i=Object.keys(a),n,s;for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&(t[n]=a[n]);return t}function Gme(a,e){if(a==null)return{};var t=Bme(a,e),i,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);for(n=0;n<s.length;n++)i=s[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(a,i)&&(t[i]=a[i])}return t}var qme="1.15.6";function qc(a){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(a)}var id=qc(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),H0=qc(/Edge/i),mC=qc(/firefox/i),Wy=qc(/safari/i)&&!qc(/chrome/i)&&!qc(/android/i),N5=qc(/iP(ad|od|hone)/i),kP=qc(/chrome/i)&&qc(/android/i),PP={capture:!1,passive:!1};function xi(a,e,t){a.addEventListener(e,t,!id&&PP)}function yi(a,e,t){a.removeEventListener(e,t,!id&&PP)}function X2(a,e){if(e){if(e[0]===">"&&(e=e.substring(1)),a)try{if(a.matches)return a.matches(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e)}catch{return!1}return!1}}function DP(a){return a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode}function Cl(a,e,t,i){if(a){t=t||document;do{if(e!=null&&(e[0]===">"?a.parentNode===t&&X2(a,e):X2(a,e))||i&&a===t)return a;if(a===t)break}while(a=DP(a))}return null}var pC=/\s+/g;function Oo(a,e,t){if(a&&e)if(a.classList)a.classList[t?"add":"remove"](e);else{var i=(" "+a.className+" ").replace(pC," ").replace(" "+e+" "," ");a.className=(i+(t?" "+e:"")).replace(pC," ")}}function za(a,e,t){var i=a&&a.style;if(i){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(t=a.currentStyle),e===void 0?t:t[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=t+(typeof t=="string"?"":"px")}}function rf(a,e){var t="";if(typeof a=="string")t=a;else do{var i=za(a,"transform");i&&i!=="none"&&(t=i+" "+t)}while(!e&&(a=a.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(t)}function FP(a,e,t){if(a){var i=a.getElementsByTagName(e),n=0,s=i.length;if(t)for(;n<s;n++)t(i[n],n);return i}return[]}function Nu(){var a=document.scrollingElement;return a||document.documentElement}function yr(a,e,t,i,n){if(!(!a.getBoundingClientRect&&a!==window)){var s,r,l,c,h,f,v;if(a!==window&&a.parentNode&&a!==Nu()?(s=a.getBoundingClientRect(),r=s.top,l=s.left,c=s.bottom,h=s.right,f=s.height,v=s.width):(r=0,l=0,c=window.innerHeight,h=window.innerWidth,f=window.innerHeight,v=window.innerWidth),(e||t)&&a!==window&&(n=n||a.parentNode,!id))do if(n&&n.getBoundingClientRect&&(za(n,"transform")!=="none"||t&&za(n,"position")!=="static")){var b=n.getBoundingClientRect();r-=b.top+parseInt(za(n,"border-top-width")),l-=b.left+parseInt(za(n,"border-left-width")),c=r+s.height,h=l+s.width;break}while(n=n.parentNode);if(i&&a!==window){var T=rf(n||a),M=T&&T.a,I=T&&T.d;T&&(r/=I,l/=M,v/=M,f/=I,c=r+f,h=l+v)}return{top:r,left:l,bottom:c,right:h,width:v,height:f}}}function fC(a,e,t){for(var i=Qd(a,!0),n=yr(a)[e];i;){var s=yr(i)[t],r=void 0;if(t==="top"||t==="left"?r=n>=s:r=n<=s,!r)return i;if(i===Nu())break;i=Qd(i,!1)}return!1}function Ef(a,e,t,i){for(var n=0,s=0,r=a.children;s<r.length;){if(r[s].style.display!=="none"&&r[s]!==Ba.ghost&&(i||r[s]!==Ba.dragged)&&Cl(r[s],t.draggable,a,!1)){if(n===e)return r[s];n++}s++}return null}function W5(a,e){for(var t=a.lastElementChild;t&&(t===Ba.ghost||za(t,"display")==="none"||e&&!X2(t,e));)t=t.previousElementSibling;return t||null}function il(a,e){var t=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)a.nodeName.toUpperCase()!=="TEMPLATE"&&a!==Ba.clone&&(!e||X2(a,e))&&t++;return t}function gC(a){var e=0,t=0,i=Nu();if(a)do{var n=rf(a),s=n.a,r=n.d;e+=a.scrollLeft*s,t+=a.scrollTop*r}while(a!==i&&(a=a.parentNode));return[e,t]}function Ume(a,e){for(var t in a)if(a.hasOwnProperty(t)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===a[t][i])return Number(t)}return-1}function Qd(a,e){if(!a||!a.getBoundingClientRect)return Nu();var t=a,i=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var n=za(t);if(t.clientWidth<t.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Nu();if(i||e)return t;i=!0}}while(t=t.parentNode);return Nu()}function Vme(a,e){if(a&&e)for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t]);return a}function m4(a,e){return Math.round(a.top)===Math.round(e.top)&&Math.round(a.left)===Math.round(e.left)&&Math.round(a.height)===Math.round(e.height)&&Math.round(a.width)===Math.round(e.width)}var zy;function NP(a,e){return function(){if(!zy){var t=arguments,i=this;t.length===1?a.call(i,t[0]):a.apply(i,t),zy=setTimeout(function(){zy=void 0},e)}}}function jme(){clearTimeout(zy),zy=void 0}function WP(a,e,t){a.scrollLeft+=e,a.scrollTop+=t}function zP(a){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(a).cloneNode(!0):t?t(a).clone(!0)[0]:a.cloneNode(!0)}function BP(a,e,t){var i={};return Array.from(a.children).forEach(function(n){var s,r,l,c;if(!(!Cl(n,e.draggable,a,!1)||n.animated||n===t)){var h=yr(n);i.left=Math.min((s=i.left)!==null&&s!==void 0?s:1/0,h.left),i.top=Math.min((r=i.top)!==null&&r!==void 0?r:1/0,h.top),i.right=Math.max((l=i.right)!==null&&l!==void 0?l:-1/0,h.right),i.bottom=Math.max((c=i.bottom)!==null&&c!==void 0?c:-1/0,h.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var go="Sortable"+new Date().getTime();function Hme(){var a=[],e;return{captureAnimationState:function(){if(a=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(n){if(!(za(n,"display")==="none"||n===Ba.ghost)){a.push({target:n,rect:yr(n)});var s=Gu({},a[a.length-1].rect);if(n.thisAnimationDuration){var r=rf(n,!0);r&&(s.top-=r.f,s.left-=r.e)}n.fromRect=s}})}},addAnimationState:function(i){a.push(i)},removeAnimationState:function(i){a.splice(Ume(a,{target:i}),1)},animateAll:function(i){var n=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var s=!1,r=0;a.forEach(function(l){var c=0,h=l.target,f=h.fromRect,v=yr(h),b=h.prevFromRect,T=h.prevToRect,M=l.rect,I=rf(h,!0);I&&(v.top-=I.f,v.left-=I.e),h.toRect=v,h.thisAnimationDuration&&m4(b,v)&&!m4(f,v)&&(M.top-v.top)/(M.left-v.left)===(f.top-v.top)/(f.left-v.left)&&(c=Xme(M,b,T,n.options)),m4(v,f)||(h.prevFromRect=f,h.prevToRect=v,c||(c=n.options.animation),n.animate(h,M,v,c)),c&&(s=!0,r=Math.max(r,c),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0,h.prevFromRect=null,h.fromRect=null,h.prevToRect=null,h.thisAnimationDuration=null},c),h.thisAnimationDuration=c)}),clearTimeout(e),s?e=setTimeout(function(){typeof i=="function"&&i()},r):typeof i=="function"&&i(),a=[]},animate:function(i,n,s,r){if(r){za(i,"transition",""),za(i,"transform","");var l=rf(this.el),c=l&&l.a,h=l&&l.d,f=(n.left-s.left)/(c||1),v=(n.top-s.top)/(h||1);i.animatingX=!!f,i.animatingY=!!v,za(i,"transform","translate3d("+f+"px,"+v+"px,0)"),this.forRepaintDummy=Zme(i),za(i,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),za(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){za(i,"transition",""),za(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},r)}}}}function Zme(a){return a.offsetWidth}function Xme(a,e,t,i){return Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*i.animation}var gp=[],p4={initializeByDefault:!0},Z0={mount:function(e){for(var t in p4)p4.hasOwnProperty(t)&&!(t in e)&&(e[t]=p4[t]);gp.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),gp.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var s=e+"Global";gp.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][s]&&t[r.pluginName][s](Gu({sortable:t},i)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](Gu({sortable:t},i)))})},initializePlugins:function(e,t,i,n){gp.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var h=new l(e,t,e.options);h.sortable=e,h.options=e.options,e[c]=h,$c(i,h.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var r=this.modifyOption(e,s,e.options[s]);typeof r<"u"&&(e.options[s]=r)}},getEventProperties:function(e,t){var i={};return gp.forEach(function(n){typeof n.eventProperties=="function"&&$c(i,n.eventProperties.call(t[n.pluginName],e))}),i},modifyOption:function(e,t,i){var n;return gp.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[t]=="function"&&(n=s.optionListeners[t].call(e[s.pluginName],i))}),n}};function Yme(a){var e=a.sortable,t=a.rootEl,i=a.name,n=a.targetEl,s=a.cloneEl,r=a.toEl,l=a.fromEl,c=a.oldIndex,h=a.newIndex,f=a.oldDraggableIndex,v=a.newDraggableIndex,b=a.originalEvent,T=a.putSortable,M=a.extraEventProperties;if(e=e||t&&t[go],!!e){var I,R=e.options,P="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!id&&!H0?I=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(I=document.createEvent("Event"),I.initEvent(i,!0,!0)),I.to=r||t,I.from=l||t,I.item=n||t,I.clone=s,I.oldIndex=c,I.newIndex=h,I.oldDraggableIndex=f,I.newDraggableIndex=v,I.originalEvent=b,I.pullMode=T?T.lastPutMode:void 0;var F=Gu(Gu({},M),Z0.getEventProperties(i,e));for(var B in F)I[B]=F[B];t&&t.dispatchEvent(I),R[P]&&R[P].call(e,I)}}var Kme=["evt"],ho=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.evt,s=Gme(i,Kme);Z0.pluginEvent.bind(Ba)(e,t,Gu({dragEl:Ft,parentEl:Kn,ghostEl:ni,rootEl:kn,nextEl:L_,lastDownEl:Mb,cloneEl:Bn,cloneHidden:qd,dragStarted:_y,putSortable:ns,activeSortable:Ba.active,originalEvent:n,oldIndex:zp,oldDraggableIndex:By,newIndex:Po,newDraggableIndex:Wd,hideGhostForTarget:VP,unhideGhostForTarget:jP,cloneNowHidden:function(){qd=!0},cloneNowShown:function(){qd=!1},dispatchSortableEvent:function(l){zs({sortable:t,name:l,originalEvent:n})}},s))};function zs(a){Yme(Gu({putSortable:ns,cloneEl:Bn,targetEl:Ft,rootEl:kn,oldIndex:zp,oldDraggableIndex:By,newIndex:Po,newDraggableIndex:Wd},a))}var Ft,Kn,ni,kn,L_,Mb,Bn,qd,zp,Po,By,Wd,Kv,ns,Cp=!1,Y2=!1,K2=[],b_,Ml,f4,g4,yC,vC,_y,yp,Gy,qy=!1,$v=!1,Lb,xs,y4=[],d3=!1,$2=[],Kx=typeof document<"u",Qv=N5,bC=H0||id?"cssFloat":"float",$me=Kx&&!kP&&!N5&&"draggable"in document.createElement("div"),GP=function(){if(Kx){if(id)return!1;var a=document.createElement("x");return a.style.cssText="pointer-events:auto",a.style.pointerEvents==="auto"}}(),qP=function(e,t){var i=za(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=Ef(e,0,t),r=Ef(e,1,t),l=s&&za(s),c=r&&za(r),h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+yr(s).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+yr(r).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&l.float&&l.float!=="none"){var v=l.float==="left"?"left":"right";return r&&(c.clear==="both"||c.clear===v)?"vertical":"horizontal"}return s&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||h>=n&&i[bC]==="none"||r&&i[bC]==="none"&&h+f>n)?"vertical":"horizontal"},Qme=function(e,t,i){var n=i?e.left:e.top,s=i?e.right:e.bottom,r=i?e.width:e.height,l=i?t.left:t.top,c=i?t.right:t.bottom,h=i?t.width:t.height;return n===l||s===c||n+r/2===l+h/2},Jme=function(e,t){var i;return K2.some(function(n){var s=n[go].options.emptyInsertThreshold;if(!(!s||W5(n))){var r=yr(n),l=e>=r.left-s&&e<=r.right+s,c=t>=r.top-s&&t<=r.bottom+s;if(l&&c)return i=n}}),i},UP=function(e){function t(s,r){return function(l,c,h,f){var v=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(s==null&&(r||v))return!0;if(s==null||s===!1)return!1;if(r&&s==="clone")return s;if(typeof s=="function")return t(s(l,c,h,f),r)(l,c,h,f);var b=(r?l:c).options.group.name;return s===!0||typeof s=="string"&&s===b||s.join&&s.indexOf(b)>-1}}var i={},n=e.group;(!n||Eb(n)!="object")&&(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},VP=function(){!GP&&ni&&za(ni,"display","none")},jP=function(){!GP&&ni&&za(ni,"display","")};Kx&&!kP&&document.addEventListener("click",function(a){if(Y2)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),Y2=!1,!1},!0);var x_=function(e){if(Ft){e=e.touches?e.touches[0]:e;var t=Jme(e.clientX,e.clientY);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[go]._onDragOver(i)}}},epe=function(e){Ft&&Ft.parentNode[go]._isOutsideThisEl(e.target)};function Ba(a,e){if(!(a&&a.nodeType&&a.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a,this.options=e=$c({},e),a[go]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qP(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ba.supportPointer!==!1&&"PointerEvent"in window&&(!Wy||N5),emptyInsertThreshold:5};Z0.initializePlugins(this,a,t);for(var i in t)!(i in e)&&(e[i]=t[i]);UP(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:$me,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?xi(a,"pointerdown",this._onTapStart):(xi(a,"mousedown",this._onTapStart),xi(a,"touchstart",this._onTapStart)),this.nativeDraggable&&(xi(a,"dragover",this),xi(a,"dragenter",this)),K2.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),$c(this,Hme())}Ba.prototype={constructor:Ba,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(yp=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,Ft):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,s=n.preventOnFilter,r=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,h=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,f=n.filter;if(lpe(i),!Ft&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||n.disabled)&&!h.isContentEditable&&!(!this.nativeDraggable&&Wy&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Cl(c,n.draggable,i,!1),!(c&&c.animated)&&Mb!==c)){if(zp=il(c),By=il(c,n.draggable),typeof f=="function"){if(f.call(this,e,c,this)){zs({sortable:t,rootEl:h,name:"filter",targetEl:c,toEl:i,fromEl:i}),ho("filter",t,{evt:e}),s&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(v){if(v=Cl(h,v.trim(),i,!1),v)return zs({sortable:t,rootEl:v,name:"filter",targetEl:c,fromEl:i,toEl:i}),ho("filter",t,{evt:e}),!0}),f)){s&&e.preventDefault();return}n.handle&&!Cl(h,n.handle,i,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,t,i){var n=this,s=n.el,r=n.options,l=s.ownerDocument,c;if(i&&!Ft&&i.parentNode===s){var h=yr(i);if(kn=s,Ft=i,Kn=Ft.parentNode,L_=Ft.nextSibling,Mb=i,Kv=r.group,Ba.dragged=Ft,b_={target:Ft,clientX:(t||e).clientX,clientY:(t||e).clientY},yC=b_.clientX-h.left,vC=b_.clientY-h.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Ft.style["will-change"]="all",c=function(){if(ho("delayEnded",n,{evt:e}),Ba.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!mC&&n.nativeDraggable&&(Ft.draggable=!0),n._triggerDragStart(e,t),zs({sortable:n,name:"choose",originalEvent:e}),Oo(Ft,r.chosenClass,!0)},r.ignore.split(",").forEach(function(f){FP(Ft,f.trim(),v4)}),xi(l,"dragover",x_),xi(l,"mousemove",x_),xi(l,"touchmove",x_),r.supportPointer?(xi(l,"pointerup",n._onDrop),!this.nativeDraggable&&xi(l,"pointercancel",n._onDrop)):(xi(l,"mouseup",n._onDrop),xi(l,"touchend",n._onDrop),xi(l,"touchcancel",n._onDrop)),mC&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ft.draggable=!0),ho("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(H0||id))){if(Ba.eventCanceled){this._onDrop();return}r.supportPointer?(xi(l,"pointerup",n._disableDelayedDrag),xi(l,"pointercancel",n._disableDelayedDrag)):(xi(l,"mouseup",n._disableDelayedDrag),xi(l,"touchend",n._disableDelayedDrag),xi(l,"touchcancel",n._disableDelayedDrag)),xi(l,"mousemove",n._delayedDragTouchMoveHandler),xi(l,"touchmove",n._delayedDragTouchMoveHandler),r.supportPointer&&xi(l,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(c,r.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ft&&v4(Ft),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;yi(e,"mouseup",this._disableDelayedDrag),yi(e,"touchend",this._disableDelayedDrag),yi(e,"touchcancel",this._disableDelayedDrag),yi(e,"pointerup",this._disableDelayedDrag),yi(e,"pointercancel",this._disableDelayedDrag),yi(e,"mousemove",this._delayedDragTouchMoveHandler),yi(e,"touchmove",this._delayedDragTouchMoveHandler),yi(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?xi(document,"pointermove",this._onTouchMove):t?xi(document,"touchmove",this._onTouchMove):xi(document,"mousemove",this._onTouchMove):(xi(Ft,"dragend",this),xi(kn,"dragstart",this._onDragStart));try{document.selection?Ab(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Cp=!1,kn&&Ft){ho("dragStarted",this,{evt:t}),this.nativeDraggable&&xi(document,"dragover",epe);var i=this.options;!e&&Oo(Ft,i.dragClass,!1),Oo(Ft,i.ghostClass,!0),Ba.active=this,e&&this._appendGhost(),zs({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ml){this._lastX=Ml.clientX,this._lastY=Ml.clientY,VP();for(var e=document.elementFromPoint(Ml.clientX,Ml.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ml.clientX,Ml.clientY),e!==t);)t=e;if(Ft.parentNode[go]._isOutsideThisEl(e),t)do{if(t[go]){var i=void 0;if(i=t[go]._onDragOver({clientX:Ml.clientX,clientY:Ml.clientY,target:e,rootEl:t}),i&&!this.options.dragoverBubble)break}e=t}while(t=DP(t));jP()}},_onTouchMove:function(e){if(b_){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,s=e.touches?e.touches[0]:e,r=ni&&rf(ni,!0),l=ni&&r&&r.a,c=ni&&r&&r.d,h=Qv&&xs&&gC(xs),f=(s.clientX-b_.clientX+n.x)/(l||1)+(h?h[0]-y4[0]:0)/(l||1),v=(s.clientY-b_.clientY+n.y)/(c||1)+(h?h[1]-y4[1]:0)/(c||1);if(!Ba.active&&!Cp){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(ni){r?(r.e+=f-(f4||0),r.f+=v-(g4||0)):r={a:1,b:0,c:0,d:1,e:f,f:v};var b="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");za(ni,"webkitTransform",b),za(ni,"mozTransform",b),za(ni,"msTransform",b),za(ni,"transform",b),f4=f,g4=v,Ml=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ni){var e=this.options.fallbackOnBody?document.body:kn,t=yr(Ft,!0,Qv,!0,e),i=this.options;if(Qv){for(xs=e;za(xs,"position")==="static"&&za(xs,"transform")==="none"&&xs!==document;)xs=xs.parentNode;xs!==document.body&&xs!==document.documentElement?(xs===document&&(xs=Nu()),t.top+=xs.scrollTop,t.left+=xs.scrollLeft):xs=Nu(),y4=gC(xs)}ni=Ft.cloneNode(!0),Oo(ni,i.ghostClass,!1),Oo(ni,i.fallbackClass,!0),Oo(ni,i.dragClass,!0),za(ni,"transition",""),za(ni,"transform",""),za(ni,"box-sizing","border-box"),za(ni,"margin",0),za(ni,"top",t.top),za(ni,"left",t.left),za(ni,"width",t.width),za(ni,"height",t.height),za(ni,"opacity","0.8"),za(ni,"position",Qv?"absolute":"fixed"),za(ni,"zIndex","100000"),za(ni,"pointerEvents","none"),Ba.ghost=ni,e.appendChild(ni),za(ni,"transform-origin",yC/parseInt(ni.style.width)*100+"% "+vC/parseInt(ni.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,s=i.options;if(ho("dragStart",this,{evt:e}),Ba.eventCanceled){this._onDrop();return}ho("setupClone",this),Ba.eventCanceled||(Bn=zP(Ft),Bn.removeAttribute("id"),Bn.draggable=!1,Bn.style["will-change"]="",this._hideClone(),Oo(Bn,this.options.chosenClass,!1),Ba.clone=Bn),i.cloneId=Ab(function(){ho("clone",i),!Ba.eventCanceled&&(i.options.removeCloneOnHide||kn.insertBefore(Bn,Ft),i._hideClone(),zs({sortable:i,name:"clone"}))}),!t&&Oo(Ft,s.dragClass,!0),t?(Y2=!0,i._loopId=setInterval(i._emulateDragOver,50)):(yi(document,"mouseup",i._onDrop),yi(document,"touchend",i._onDrop),yi(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(i,n,Ft)),xi(document,"drop",i),za(Ft,"transform","translateZ(0)")),Cp=!0,i._dragStartId=Ab(i._dragStarted.bind(i,t,e)),xi(document,"selectstart",i),_y=!0,window.getSelection().removeAllRanges(),Wy&&za(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,i=e.target,n,s,r,l=this.options,c=l.group,h=Ba.active,f=Kv===c,v=l.sort,b=ns||h,T,M=this,I=!1;if(d3)return;function R(Qe,yt){ho(Qe,M,Gu({evt:e,isOwner:f,axis:T?"vertical":"horizontal",revert:r,dragRect:n,targetRect:s,canSort:v,fromSortable:b,target:i,completed:F,onMove:function(Xt,We){return Jv(kn,t,Ft,n,Xt,yr(Xt),e,We)},changed:B},yt))}function P(){R("dragOverAnimationCapture"),M.captureAnimationState(),M!==b&&b.captureAnimationState()}function F(Qe){return R("dragOverCompleted",{insertion:Qe}),Qe&&(f?h._hideClone():h._showClone(M),M!==b&&(Oo(Ft,ns?ns.options.ghostClass:h.options.ghostClass,!1),Oo(Ft,l.ghostClass,!0)),ns!==M&&M!==Ba.active?ns=M:M===Ba.active&&ns&&(ns=null),b===M&&(M._ignoreWhileAnimating=i),M.animateAll(function(){R("dragOverAnimationComplete"),M._ignoreWhileAnimating=null}),M!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(i===Ft&&!Ft.animated||i===t&&!i.animated)&&(yp=null),!l.dragoverBubble&&!e.rootEl&&i!==document&&(Ft.parentNode[go]._isOutsideThisEl(e.target),!Qe&&x_(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),I=!0}function B(){Po=il(Ft),Wd=il(Ft,l.draggable),zs({sortable:M,name:"change",toEl:t,newIndex:Po,newDraggableIndex:Wd,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=Cl(i,l.draggable,t,!0),R("dragOver"),Ba.eventCanceled)return I;if(Ft.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||M._ignoreWhileAnimating===i)return F(!1);if(Y2=!1,h&&!l.disabled&&(f?v||(r=Kn!==kn):ns===this||(this.lastPutMode=Kv.checkPull(this,h,Ft,e))&&c.checkPut(this,h,Ft,e))){if(T=this._getDirection(e,i)==="vertical",n=yr(Ft),R("dragOverValid"),Ba.eventCanceled)return I;if(r)return Kn=kn,P(),this._hideClone(),R("revert"),Ba.eventCanceled||(L_?kn.insertBefore(Ft,L_):kn.appendChild(Ft)),F(!0);var W=W5(t,l.draggable);if(!W||npe(e,T,this)&&!W.animated){if(W===Ft)return F(!1);if(W&&t===e.target&&(i=W),i&&(s=yr(i)),Jv(kn,t,Ft,n,i,s,e,!!i)!==!1)return P(),W&&W.nextSibling?t.insertBefore(Ft,W.nextSibling):t.appendChild(Ft),Kn=t,B(),F(!0)}else if(W&&ipe(e,T,this)){var Z=Ef(t,0,l,!0);if(Z===Ft)return F(!1);if(i=Z,s=yr(i),Jv(kn,t,Ft,n,i,s,e,!1)!==!1)return P(),t.insertBefore(Ft,Z),Kn=t,B(),F(!0)}else if(i.parentNode===t){s=yr(i);var ae=0,he,_e=Ft.parentNode!==t,ie=!Qme(Ft.animated&&Ft.toRect||n,i.animated&&i.toRect||s,T),me=T?"top":"left",fe=fC(i,"top","top")||fC(Ft,"top","top"),be=fe?fe.scrollTop:void 0;yp!==i&&(he=s[me],qy=!1,$v=!ie&&l.invertSwap||_e),ae=rpe(e,i,s,T,ie?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,$v,yp===i);var Ae;if(ae!==0){var Ye=il(Ft);do Ye-=ae,Ae=Kn.children[Ye];while(Ae&&(za(Ae,"display")==="none"||Ae===ni))}if(ae===0||Ae===i)return F(!1);yp=i,Gy=ae;var Xe=i.nextElementSibling,Re=!1;Re=ae===1;var Oe=Jv(kn,t,Ft,n,i,s,e,Re);if(Oe!==!1)return(Oe===1||Oe===-1)&&(Re=Oe===1),d3=!0,setTimeout(ape,30),P(),Re&&!Xe?t.appendChild(Ft):i.parentNode.insertBefore(Ft,Re?Xe:i),fe&&WP(fe,0,be-fe.scrollTop),Kn=Ft.parentNode,he!==void 0&&!$v&&(Lb=Math.abs(he-yr(i)[me])),B(),F(!0)}if(t.contains(Ft))return F(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){yi(document,"mousemove",this._onTouchMove),yi(document,"touchmove",this._onTouchMove),yi(document,"pointermove",this._onTouchMove),yi(document,"dragover",x_),yi(document,"mousemove",x_),yi(document,"touchmove",x_)},_offUpEvents:function(){var e=this.el.ownerDocument;yi(e,"mouseup",this._onDrop),yi(e,"touchend",this._onDrop),yi(e,"pointerup",this._onDrop),yi(e,"pointercancel",this._onDrop),yi(e,"touchcancel",this._onDrop),yi(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;if(Po=il(Ft),Wd=il(Ft,i.draggable),ho("drop",this,{evt:e}),Kn=Ft&&Ft.parentNode,Po=il(Ft),Wd=il(Ft,i.draggable),Ba.eventCanceled){this._nulling();return}Cp=!1,$v=!1,qy=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),h3(this.cloneId),h3(this._dragStartId),this.nativeDraggable&&(yi(document,"drop",this),yi(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Wy&&za(document.body,"user-select",""),za(Ft,"transform",""),e&&(_y&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),ni&&ni.parentNode&&ni.parentNode.removeChild(ni),(kn===Kn||ns&&ns.lastPutMode!=="clone")&&Bn&&Bn.parentNode&&Bn.parentNode.removeChild(Bn),Ft&&(this.nativeDraggable&&yi(Ft,"dragend",this),v4(Ft),Ft.style["will-change"]="",_y&&!Cp&&Oo(Ft,ns?ns.options.ghostClass:this.options.ghostClass,!1),Oo(Ft,this.options.chosenClass,!1),zs({sortable:this,name:"unchoose",toEl:Kn,newIndex:null,newDraggableIndex:null,originalEvent:e}),kn!==Kn?(Po>=0&&(zs({rootEl:Kn,name:"add",toEl:Kn,fromEl:kn,originalEvent:e}),zs({sortable:this,name:"remove",toEl:Kn,originalEvent:e}),zs({rootEl:Kn,name:"sort",toEl:Kn,fromEl:kn,originalEvent:e}),zs({sortable:this,name:"sort",toEl:Kn,originalEvent:e})),ns&&ns.save()):Po!==zp&&Po>=0&&(zs({sortable:this,name:"update",toEl:Kn,originalEvent:e}),zs({sortable:this,name:"sort",toEl:Kn,originalEvent:e})),Ba.active&&((Po==null||Po===-1)&&(Po=zp,Wd=By),zs({sortable:this,name:"end",toEl:Kn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ho("nulling",this),kn=Ft=Kn=ni=L_=Bn=Mb=qd=b_=Ml=_y=Po=Wd=zp=By=yp=Gy=ns=Kv=Ba.dragged=Ba.ghost=Ba.clone=Ba.active=null,$2.forEach(function(e){e.checked=!0}),$2.length=f4=g4=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ft&&(this._onDragOver(e),tpe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,i=this.el.children,n=0,s=i.length,r=this.options;n<s;n++)t=i[n],Cl(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||ope(t));return e},sort:function(e,t){var i={},n=this.el;this.toArray().forEach(function(s,r){var l=n.children[r];Cl(l,this.options.draggable,n,!1)&&(i[s]=l)},this),t&&this.captureAnimationState(),e.forEach(function(s){i[s]&&(n.removeChild(i[s]),n.appendChild(i[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Cl(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(t===void 0)return i[e];var n=Z0.modifyOption(this,e,t);typeof n<"u"?i[e]=n:i[e]=t,e==="group"&&UP(i)},destroy:function(){ho("destroy",this);var e=this.el;e[go]=null,yi(e,"mousedown",this._onTapStart),yi(e,"touchstart",this._onTapStart),yi(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(yi(e,"dragover",this),yi(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),K2.splice(K2.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!qd){if(ho("hideClone",this),Ba.eventCanceled)return;za(Bn,"display","none"),this.options.removeCloneOnHide&&Bn.parentNode&&Bn.parentNode.removeChild(Bn),qd=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(qd){if(ho("showClone",this),Ba.eventCanceled)return;Ft.parentNode==kn&&!this.options.group.revertClone?kn.insertBefore(Bn,Ft):L_?kn.insertBefore(Bn,L_):kn.appendChild(Bn),this.options.group.revertClone&&this.animate(Ft,Bn),za(Bn,"display",""),qd=!1}}};function tpe(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault()}function Jv(a,e,t,i,n,s,r,l){var c,h=a[go],f=h.options.onMove,v;return window.CustomEvent&&!id&&!H0?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=a,c.dragged=t,c.draggedRect=i,c.related=n||e,c.relatedRect=s||yr(e),c.willInsertAfter=l,c.originalEvent=r,a.dispatchEvent(c),f&&(v=f.call(h,c,r)),v}function v4(a){a.draggable=!1}function ape(){d3=!1}function ipe(a,e,t){var i=yr(Ef(t.el,0,t.options,!0)),n=BP(t.el,t.options,ni),s=10;return e?a.clientX<n.left-s||a.clientY<i.top&&a.clientX<i.right:a.clientY<n.top-s||a.clientY<i.bottom&&a.clientX<i.left}function npe(a,e,t){var i=yr(W5(t.el,t.options.draggable)),n=BP(t.el,t.options,ni),s=10;return e?a.clientX>n.right+s||a.clientY>i.bottom&&a.clientX>i.left:a.clientY>n.bottom+s||a.clientX>i.right&&a.clientY>i.top}function rpe(a,e,t,i,n,s,r,l){var c=i?a.clientY:a.clientX,h=i?t.height:t.width,f=i?t.top:t.left,v=i?t.bottom:t.right,b=!1;if(!r){if(l&&Lb<h*n){if(!qy&&(Gy===1?c>f+h*s/2:c<v-h*s/2)&&(qy=!0),qy)b=!0;else if(Gy===1?c<f+Lb:c>v-Lb)return-Gy}else if(c>f+h*(1-n)/2&&c<v-h*(1-n)/2)return spe(e)}return b=b||r,b&&(c<f+h*s/2||c>v-h*s/2)?c>f+h/2?1:-1:0}function spe(a){return il(Ft)<il(a)?1:-1}function ope(a){for(var e=a.tagName+a.className+a.src+a.href+a.textContent,t=e.length,i=0;t--;)i+=e.charCodeAt(t);return i.toString(36)}function lpe(a){$2.length=0;for(var e=a.getElementsByTagName("input"),t=e.length;t--;){var i=e[t];i.checked&&$2.push(i)}}function Ab(a){return setTimeout(a,0)}function h3(a){return clearTimeout(a)}Kx&&xi(document,"touchmove",function(a){(Ba.active||Cp)&&a.cancelable&&a.preventDefault()});Ba.utils={on:xi,off:yi,css:za,find:FP,is:function(e,t){return!!Cl(e,t,e,!1)},extend:Vme,throttle:NP,closest:Cl,toggleClass:Oo,clone:zP,index:il,nextTick:Ab,cancelNextTick:h3,detectDirection:qP,getChild:Ef,expando:go};Ba.get=function(a){return a[go]};Ba.mount=function(){for(var a=arguments.length,e=new Array(a),t=0;t<a;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Ba.utils=Gu(Gu({},Ba.utils),i.utils)),Z0.mount(i)})};Ba.create=function(a,e){return new Ba(a,e)};Ba.version=qme;var fr=[],my,_3,m3=!1,b4,x4,Q2,py;function upe(){function a(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return a.prototype={dragStarted:function(t){var i=t.originalEvent;this.sortable.nativeDraggable?xi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?xi(document,"pointermove",this._handleFallbackAutoScroll):i.touches?xi(document,"touchmove",this._handleFallbackAutoScroll):xi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var i=t.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?yi(document,"dragover",this._handleAutoScroll):(yi(document,"pointermove",this._handleFallbackAutoScroll),yi(document,"touchmove",this._handleFallbackAutoScroll),yi(document,"mousemove",this._handleFallbackAutoScroll)),xC(),Cb(),jme()},nulling:function(){Q2=_3=my=m3=py=b4=x4=null,fr.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,i){var n=this,s=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(s,r);if(Q2=t,i||this.options.forceAutoScrollFallback||H0||id||Wy){w4(t,this.options,l,i);var c=Qd(l,!0);m3&&(!py||s!==b4||r!==x4)&&(py&&xC(),py=setInterval(function(){var h=Qd(document.elementFromPoint(s,r),!0);h!==c&&(c=h,Cb()),w4(t,n.options,h,i)},10),b4=s,x4=r)}else{if(!this.options.bubbleScroll||Qd(l,!0)===Nu()){Cb();return}w4(t,this.options,Qd(l,!1),!1)}}},$c(a,{pluginName:"scroll",initializeByDefault:!0})}function Cb(){fr.forEach(function(a){clearInterval(a.pid)}),fr=[]}function xC(){clearInterval(py)}var w4=NP(function(a,e,t,i){if(e.scroll){var n=(a.touches?a.touches[0]:a).clientX,s=(a.touches?a.touches[0]:a).clientY,r=e.scrollSensitivity,l=e.scrollSpeed,c=Nu(),h=!1,f;_3!==t&&(_3=t,Cb(),my=e.scroll,f=e.scrollFn,my===!0&&(my=Qd(t,!0)));var v=0,b=my;do{var T=b,M=yr(T),I=M.top,R=M.bottom,P=M.left,F=M.right,B=M.width,W=M.height,Z=void 0,ae=void 0,he=T.scrollWidth,_e=T.scrollHeight,ie=za(T),me=T.scrollLeft,fe=T.scrollTop;T===c?(Z=B<he&&(ie.overflowX==="auto"||ie.overflowX==="scroll"||ie.overflowX==="visible"),ae=W<_e&&(ie.overflowY==="auto"||ie.overflowY==="scroll"||ie.overflowY==="visible")):(Z=B<he&&(ie.overflowX==="auto"||ie.overflowX==="scroll"),ae=W<_e&&(ie.overflowY==="auto"||ie.overflowY==="scroll"));var be=Z&&(Math.abs(F-n)<=r&&me+B<he)-(Math.abs(P-n)<=r&&!!me),Ae=ae&&(Math.abs(R-s)<=r&&fe+W<_e)-(Math.abs(I-s)<=r&&!!fe);if(!fr[v])for(var Ye=0;Ye<=v;Ye++)fr[Ye]||(fr[Ye]={});(fr[v].vx!=be||fr[v].vy!=Ae||fr[v].el!==T)&&(fr[v].el=T,fr[v].vx=be,fr[v].vy=Ae,clearInterval(fr[v].pid),(be!=0||Ae!=0)&&(h=!0,fr[v].pid=setInterval((function(){i&&this.layer===0&&Ba.active._onTouchMove(Q2);var Xe=fr[this.layer].vy?fr[this.layer].vy*l:0,Re=fr[this.layer].vx?fr[this.layer].vx*l:0;typeof f=="function"&&f.call(Ba.dragged.parentNode[go],Re,Xe,a,Q2,fr[this.layer].el)!=="continue"||WP(fr[this.layer].el,Re,Xe)}).bind({layer:v}),24))),v++}while(e.bubbleScroll&&b!==c&&(b=Qd(b,!1)));m3=h}},30),HP=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,s=e.activeSortable,r=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var h=i||s;l();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,v=document.elementFromPoint(f.clientX,f.clientY);c(),h&&!h.el.contains(v)&&(r("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function z5(){}z5.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=Ef(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:HP};$c(z5,{pluginName:"revertOnSpill"});function B5(){}B5.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable,n=i||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:HP};$c(B5,{pluginName:"removeOnSpill"});Ba.mount(new upe);Ba.mount(B5,z5);function p3(a,e){let t;const i={dragClass:"lux-sortable-drag",ghostClass:"lux-sortable-ghost",sort:!0,handle:".drag-handle",forceFallback:oae};return e!=null&&e.onSort&&(i.onSort=n=>e.onSort(n.to.children)),a&&(t=Ba.create(a,{...i,...e&&(({onSort:n,...s})=>s)(e)||{}})),t}const ZP=.5,cpe=!1,J2=jo("slider",()=>{const a=on(),e=$e(ZP),t=$e(cpe),i=Pt(()=>[...a.layers].reverse()[0]);function n(r){let l=r;r<.1?l=.1:r>.9&&(l=.9),e.value=l}function s(r){t.value=r??!t.value}return{sliderActive:t,sliderRatio:e,sliderTopLayer:i,setRatio:n,toggleSlider:s}},{});function XP(a,e){const{t}=ma();function i(){e==null||e.emit("clickInfo",a)}return{t,onClickInfo:i}}const dpe={class:"lux-layer-manager-item mt-2.5"},hpe=["title"],_pe={class:"flex-1 text-left cursor-default"},mpe=["aria-label","title"],ppe=ft({__name:"layer-item-background",props:{showEditButton:{type:Boolean},layer:{}},emits:["clickEdit","clickInfo"],setup(a,{emit:e}){const t=a,i=e,{t:n,onClickInfo:s}=XP(t.layer,{emit:i}),r=Pt(()=>n('Display informations for "{{layerName}}"',{ns:"app",layerName:c()})),l=Pt(()=>!Tf().isOffLine.value);function c(){return n(t.layer.name,{ns:"client"})}return(h,f)=>(ne(),xe("div",dpe,[l.value?(ne(),xe("button",{key:0,class:"fa fa-info w-3",title:r.value,onClick:f[0]||(f[0]=(...v)=>V(s)&&V(s)(...v))},null,8,hpe)):Ze("",!0),$("span",_pe,De(c()),1),h.showEditButton?(ne(),xe("button",{key:1,"data-cy":"openStylePanel",class:"fa fa-pencil","aria-label":V(n)("Open editor panel",{ns:"app"}),title:V(n)("Open editor panel",{ns:"app"}),onClick:f[1]||(f[1]=v=>h.$emit("clickEdit"))},null,8,mpe)):Ze("",!0)]))}}),fpe=["id"],gpe=["aria-checked","title"],ype=["id","value","aria-label"],vpe=["aria-checked","aria-label"],bpe=ft({__name:"layer-item-sub",props:{layer:{},isOpen:{type:Boolean},isLayerComparatorOpen:{type:Boolean},displayLayerComparatorOpen:{type:Boolean}},emits:["changeOpacity","clickToggleLayerComparator"],setup(a,{emit:e}){var T,M;const t=a,i=e,{t:n}=ma(),s=qo(),r=Pt(()=>n(s.getLayerCurrentLabel(t.layer),{ns:"client"})),l=Li((((T=t.layer)==null?void 0:T.opacity)??1)*100),c=Li((((M=t.layer)==null?void 0:M.previousOpacity)??l.value)*100);function h(){l.value===0?l.value=c.value:(c.value=l.value,l.value=0),b()}function f(I){I.target&&(l.value=parseInt(I.target.value),b())}function v(){i("clickToggleLayerComparator",t.layer)}function b(){i("changeOpacity",t.layer,l.value)}return(I,R)=>(ne(),xe("div",{class:ei(["lux-layer-manager-item-content",I.isOpen?"h-6":"h-0"]),id:`layer-manager-item-content-${I.layer.id}`,"data-cy":"myLayerSubContent"},[$("button",{class:ei(["w-5 fa-solid",l.value===0?"fa-eye-slash":"fa-eye"]),role:"switch","aria-checked":l.value===0,title:V(n)("Toggle layer opacity for {{layerName}}",{ns:"app",layerName:r.value}),onClick:h},null,10,gpe),$("input",{id:`${I.layer.id}-steps-range`,type:"range",min:"0",max:"100",value:l.value,step:"25",onChange:f,class:"m-2.5 w-16 h-[5px] rounded-lg appearance-none cursor-pointer","aria-label":V(n)("Change opacity for {{layerName}}",{ns:"app",layerName:r.value})},null,40,ype),I.displayLayerComparatorOpen?(ne(),xe("button",{key:0,"data-cy":"myLayerComparatorBtn",role:"switch",class:ei(["fa ml-auto text-sm cursor-pointer",I.isLayerComparatorOpen?"fa-adjust":"fa-circle"]),"aria-checked":I.isLayerComparatorOpen,"aria-label":V(n)("Toggle layer comparator for {{ layerName }}",{ns:"app",layerName:r.value}),onClick:v},null,10,vpe)):Ze("",!0)],10,fpe))}}),xpe=["min","max","value"],f3=ft({__name:"layer-time-datepicker",props:{minDateAllowed:{default:""},maxDateAllowed:{default:""},dateValue:{}},emits:["change"],setup(a,{emit:e}){const t=a,i=e,n=Pt(()=>BS(t.minDateAllowed)),s=Pt(()=>BS(t.maxDateAllowed));function r(l){i("change",l.target.value)}return(l,c)=>(ne(),xe("input",{class:"lux-time-datepicker",type:"date",min:n.value,max:s.value,value:l.dateValue?V(BS)(l.dateValue):"",onChange:r},null,40,xpe))}}),wpe={class:"lux-time-slider w-full"},Spe=["for"],Tpe=ft({__name:"layer-time-datepicker-value",props:{layer:{}},emits:["changeTime"],setup(a){const{t:e}=ma(),t=a,i=Li(t.layer.currentTimeMinValue);return(n,s)=>{var r,l;return ne(),xe("div",wpe,[$("div",null,[$("label",{for:`${n.layer.id}-time-slider-start`,class:"lux-time-slider-label"},De(V(e)("Date:")),9,Spe),ct(f3,{id:`${n.layer.id}-time-slider-start`,"date-value":i.value,"min-date-allowed":(r=t.layer.time)==null?void 0:r.minValue,"max-date-allowed":(l=t.layer.time)==null?void 0:l.maxValue,onChange:s[0]||(s[0]=c=>n.$emit("changeTime",c))},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),Epe={class:"lux-time-slider w-full"},Mpe=["for"],Lpe=["for"],Ape=ft({__name:"layer-time-datepicker-range",props:{layer:{}},emits:["changeTime"],setup(a,{emit:e}){const{t}=ma(),i=a,n=e,s=Li(i.layer.currentTimeMinValue),r=Li(i.layer.currentTimeMaxValue);function l(h){n("changeTime",h,i.layer.currentTimeMaxValue)}function c(h){n("changeTime",i.layer.currentTimeMinValue,h)}return(h,f)=>{var v,b,T,M;return ne(),xe("div",Epe,[$("div",null,[$("label",{for:`${h.layer.id}-time-slider-start`,class:"lux-time-slider-label"},De(V(t)("From:")),9,Mpe),ct(f3,{id:`${h.layer.id}-time-slider-start`,"date-value":s.value,"min-date-allowed":(v=i.layer.time)==null?void 0:v.minValue,"max-date-allowed":(b=i.layer.time)==null?void 0:b.maxValue,onChange:l},null,8,["id","date-value","min-date-allowed","max-date-allowed"])]),$("div",null,[$("label",{for:`${h.layer.id}-time-slider-end`,class:"lux-time-slider-label"},De(V(t)("To:")),9,Lpe),ct(f3,{id:`${h.layer.id}-time-slider-end`,"date-value":r.value,"min-date-allowed":(T=i.layer.time)==null?void 0:T.minValue,"max-date-allowed":(M=i.layer.time)==null?void 0:M.maxValue,onChange:c},null,8,["id","date-value","min-date-allowed","max-date-allowed"])])])}}}),Cpe=["onKeydown","aria-label","title"],wC=ft({__name:"slider-range-thumb",props:{ariaLabel:{},maxLimit:{default:100},minLimit:{default:0},selectedValue:{}},emits:["change"],setup(a,{emit:e}){const t=a,i=e,n=$e(!1),s=$e(),r=$e(),l=Pt(()=>{var B;return((B=s.value)==null?void 0:B.offsetWidth)||274}),c=Pt(()=>{var B;return((B=r.value)==null?void 0:B.offsetWidth)||9}),h=$e(t.selectedValue),f=Pt(()=>l.value*h.value/100-c.value/2),v=Pt(()=>({left:`${f.value}px`}));Os(()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",P)}),Vt(()=>t.selectedValue,B=>{h.value=B});function b(B){h.value=Math.max(Math.min(B,100),0),i("change",h.value,n.value)}function T(){b(h.value-1)}function M(){b(h.value+1)}function I(){n.value=!0,document.addEventListener("mousemove",R),document.addEventListener("mouseup",P)}function R(B){n.value&&b(F(B))}function P(B){n.value=!1,b(F(B)),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",P)}function F(B){var Z,ae;const W=(Z=s.value)!=null&&Z.offsetWidth?(B.clientX-c.value*2)*100/((ae=s.value)==null?void 0:ae.offsetWidth):0;return Math.round(Math.max(Math.min(W,t.maxLimit),t.minLimit))}return(B,W)=>(ne(),xe("div",{class:"w-full",role:"slider",ref_key:"elRefTrack",ref:s},[$("button",{class:ei(["lux-slidebar-thumb",n.value?"dragging":""]),ref_key:"elRefThumb",ref:r,style:vh(v.value),onKeydown:[Ol(Rl(M,["stop"]),["space"]),Ol(Rl(M,["stop"]),["right"]),Ol(Rl(T,["stop"]),["left"]),Ol(Rl(T,["stop"]),["delete"])],onMousedown:I,onMousemove:R,onMouseup:P,"aria-label":B.ariaLabel,title:B.ariaLabel},null,46,Cpe)],512))}}),Ipe=ft({__name:"slider-range-active-track",props:{selectedMinValue:{},selectedMaxValue:{}},emits:["change"],setup(a,{emit:e}){const t=a,i=e,n=$e(),s=$e(),r=Pt(()=>n.value?Math.round(n.value.offsetWidth*t.selectedMinValue/100):0),l=Pt(()=>{var v,b;let f=0;return t.selectedMaxValue!==void 0&&((v=n.value)!=null&&v.offsetWidth)&&(f=((b=n.value)==null?void 0:b.offsetWidth)*t.selectedMaxValue/100-r.value),Math.round(f)}),c=Pt(()=>({left:`${r.value}px`,width:`${l.value}px`}));function h(f){if(n.value){const v=n.value.getBoundingClientRect().x,b=(f.clientX-v)*100/n.value.offsetWidth;i("change",b)}}return(f,v)=>(ne(),xe("div",{ref_key:"elRefFullTrack",ref:n,class:"lux-slidebar-track"},[f.selectedMaxValue!==void 0?(ne(),xe("div",{key:0,ref_key:"elRefSelectionTrack",ref:s,class:"lux-slidebar-track-selection",style:vh(c.value),onClick:h},null,4)):Ze("",!0),$("div",{class:"lux-slidebar-track-full",onClick:h})],512))}}),Rpe={class:"lux-slidebar-fake"},SC=ft({__name:"slider-range",props:{selectedMinValue:{},selectedMaxValue:{},ariaLabelMin:{},ariaLabelMax:{}},emits:["change"],setup(a,{emit:e}){const t=a,i=e,n=$e(t.selectedMinValue),s=$e(t.selectedMaxValue);function r(h,f){i("change",h,t.selectedMaxValue,f)}function l(h,f){i("change",t.selectedMinValue,h,f)}function c(h){s.value===void 0?n.value=h:h>=s.value?s.value=h:h<=t.selectedMinValue?n.value=h:Math.abs(s.value-h)<Math.abs(n.value-h)?s.value=h:n.value=h,i("change",n.value,s.value,!1)}return(h,f)=>(ne(),xe("div",Rpe,[s.value!==void 0?(ne(),ga(wC,{key:0,ariaLabel:h.ariaLabelMax,minLimit:h.selectedMinValue,selectedValue:s.value,onChange:l},null,8,["ariaLabel","minLimit","selectedValue"])):Ze("",!0),ct(wC,{ariaLabel:h.ariaLabelMin,maxLimit:h.selectedMaxValue,selectedValue:n.value,onChange:r},null,8,["ariaLabel","maxLimit","selectedValue"]),ct(Ipe,{selectedMinValue:h.selectedMinValue,selectedMaxValue:h.selectedMaxValue,onChange:c},null,8,["selectedMinValue","selectedMaxValue"])]))}}),Ope={class:"lux-time-slider w-full"},kpe={key:0,class:"lux-time-slider-value mr-1.5"},Ppe={key:1,class:"lux-time-slider-range mr-1.5"},Dpe={class:"lux-time-displayed-dates"},Fpe={key:0,class:"lux-time-start-date grow"},Npe={key:1,class:"lux-time-slider-end-date grow text-right"},Wpe=ft({__name:"layer-time-slider",props:{layer:{}},emits:["changeTime"],setup(a,{emit:e}){const{t}=ma(),i=a,n=e,s=Pt(R),r=Pt(()=>{var W,Z;return(W=i.layer.time)!=null&&W.minValue?new Date((Z=i.layer.time)==null?void 0:Z.minValue).getTime():0}),l=Pt(()=>{var W,Z;return(W=i.layer.time)!=null&&W.maxValue?new Date((Z=i.layer.time)==null?void 0:Z.maxValue).getTime():0}),c=Pt(()=>l.value-r.value),h=$e(i.layer.currentTimeMaxValue),f=$e(i.layer.currentTimeMinValue),v=Pt(()=>f.value?new Date(f.value).getTime():void 0),b=Pt(()=>h.value?new Date(h.value).getTime():void 0),T=Pt(()=>I(v.value)),M=Pt(()=>I(b.value));function I(W){return W?(W-r.value)/c.value*100:0}function R(){const W=i.layer.time,Z=[];if(!W)return;if(W.values)return W.values.map(fe=>new Date(fe).getTime());const ae=new Date(W.minValue),he=new Date(W.maxValue??Date.now()),_e=1024,ie=new Date(ae.getTime()),me=W.interval??hO;if(ie.setFullYear(ae.getFullYear()+_e*me[0]),ie.setMonth(ae.getMonth()+_e*me[1],ae.getDate()+_e*me[2]),ie.setSeconds(ae.getSeconds()+_e*me[3]),ie>he)for(let fe=0;;fe++){const be=new Date(ae.getTime());if(be.setFullYear(ae.getFullYear()+fe*me[0]),be.setMonth(ae.getMonth()+fe*me[1],ae.getDate()+fe*me[2]),be.setSeconds(ae.getSeconds()+fe*me[3]),be<=he)Z.push(be.getTime());else break}return Z}function P(W){var he;const Z=W/100*(l.value-r.value)+r.value,ae=yJ(Z,{minValue:r.value,maxValue:l.value,timeValueList:s.value,timeInterval:(he=i.layer.time)==null?void 0:he.interval});return AT(ae)}function F(W,Z){const ae=P(W);if(f.value=ae,Z){const he=P(Z);h.value=he}}function B(W,Z,ae){F(W,Z),ae||n("changeTime",f.value,h.value)}return(W,Z)=>{var ae,he,_e,ie,me,fe,be;return ne(),xe("div",Ope,[((ae=W.layer.time)==null?void 0:ae.mode)===V(kc).VALUE?(ne(),xe("div",kpe,[ct(SC,{ariaLabelMin:`${V(t)("Edit the start date",{ns:"app"})}`,selectedMinValue:T.value,onChange:B},null,8,["ariaLabelMin","selectedMinValue"])])):Ze("",!0),((he=W.layer.time)==null?void 0:he.mode)===V(kc).RANGE?(ne(),xe("div",Ppe,[ct(SC,{ariaLabelMin:`${V(t)("Edit the start date",{ns:"app"})}`,ariaLabelMax:`${V(t)("Edit the end date",{ns:"app"})}`,selectedMinValue:T.value,selectedMaxValue:M.value,onChange:B},null,8,["ariaLabelMin","ariaLabelMax","selectedMinValue","selectedMaxValue"])])):Ze("",!0),$("div",Dpe,[((_e=W.layer.time)==null?void 0:_e.mode)===V(kc).RANGE||((ie=W.layer.time)==null?void 0:ie.mode)===V(kc).VALUE?(ne(),xe("div",Fpe,[$("span",null,De(f.value?V(pA)(f.value,(me=W.layer.time)==null?void 0:me.resolution):"-"),1)])):Ze("",!0),((fe=W.layer.time)==null?void 0:fe.mode)===V(kc).RANGE?(ne(),xe("div",Npe,[$("span",null,De(h.value?V(pA)(h.value,(be=W.layer.time)==null?void 0:be.resolution):"-"),1)])):Ze("",!0)])])}}}),zpe=ft({__name:"layer-time",props:{layer:{}},emits:["changeTime"],setup(a,{emit:e}){const t=e;function i(n,s){t("changeTime",n,s)}return(n,s)=>{var r,l,c,h,f;return ne(),xe(sa,null,[((r=n.layer.time)==null?void 0:r.widget)===V(mb).SLIDER?(ne(),ga(Wpe,{key:0,layer:n.layer,onChangeTime:i},null,8,["layer"])):Ze("",!0),((l=n.layer.time)==null?void 0:l.widget)===V(mb).DATEPICKER&&((c=n.layer.time)==null?void 0:c.mode)===V(kc).VALUE?(ne(),ga(Tpe,{key:1,layer:n.layer,onChangeTime:i},null,8,["layer"])):Ze("",!0),((h=n.layer.time)==null?void 0:h.widget)===V(mb).DATEPICKER&&((f=n.layer.time)==null?void 0:f.mode)===V(kc).RANGE?(ne(),ga(Ape,{key:2,layer:n.layer,onChangeTime:i},null,8,["layer"])):Ze("",!0)],64)}}}),Bpe={class:"lux-layer-manager-item relative"},Gpe={class:"w-full flex flex-nowrap items-start gap-x-2"},qpe=["title"],Upe=["aria-label","title"],Vpe=["aria-expanded","aria-controls","data-cy"],jpe={class:"grow"},Hpe=["title","aria-label"],TC=ft({__name:"layer-item",props:{is3d:{type:Boolean},layer:{},dragHandleClassName:{},isOpen:{type:Boolean},isLayerComparatorOpen:{type:Boolean},displayLayerComparatorOpen:{type:Boolean}},emits:["clickInfo","clickToggle","clickToggleLayerComparator","clickRemove","changeOpacity","changeTime"],setup(a,{emit:e}){const t=a,i=e,{t:n,onClickInfo:s}=XP(t.layer,{emit:i}),r=qo(),l=Pt(()=>n(r.getLayerCurrentLabel(t.layer),{ns:"client"})),c=Pt(()=>!Tf().isOffLine.value),h=Pt(()=>n('Sort "{{layerName}}" in the list',{ns:"app",layerName:l.value})),f=Pt(()=>n('Display informations for "{{layerName}}"',{ns:"app",layerName:l.value})),v=Pt(()=>n('Remove layer "{{layerName}}"',{ns:"app",layerName:l.value}));function b(T,M){i("changeTime",T,M)}return(T,M)=>(ne(),xe("div",Bpe,[$("div",Gpe,[$("button",{class:ei(["fa-solid fa-bars cursor-move mt-1",T.dragHandleClassName]),title:h.value},null,10,qpe),c.value?(ne(),xe("button",{key:0,class:"fa-solid fa-info mt-1","aria-label":f.value,title:f.value,onClick:M[0]||(M[0]=(...I)=>V(s)&&V(s)(...I))},null,8,Upe)):Ze("",!0),$("button",{"aria-expanded":T.isOpen,"aria-controls":`layer-manager-item-content-${T.layer.id}`,"data-cy":`myLayerItemLabel-${T.layer.id}`,class:ei([T.is3d?"cursor-default":"","grow text-left break-words w-[70%] flex items-center"]),onClick:M[1]||(M[1]=I=>T.$emit("clickToggle",T.layer))},[$("span",jpe,De(l.value),1),T.is3d?Ze("",!0):(ne(),xe("span",{key:0,class:ei(["w-3.5 fa-solid",T.isOpen?"fa-xmark":"fa-ellipsis"]),"aria-hidden":"true"},null,2))],10,Vpe),$("button",{class:"mt-1 fa-regular fa-trash-can",title:v.value,"aria-label":v.value,onClick:M[2]||(M[2]=I=>T.$emit("clickRemove",T.layer))},null,8,Hpe)]),T.is3d?Ze("",!0):(ne(),ga(bpe,{key:0,layer:T.layer,isOpen:T.isOpen,isLayerComparatorOpen:T.isLayerComparatorOpen,displayLayerComparatorOpen:T.displayLayerComparatorOpen,onClickToggleLayerComparator:M[3]||(M[3]=I=>T.$emit("clickToggleLayerComparator",I)),onChangeOpacity:M[4]||(M[4]=(I,R)=>T.$emit("changeOpacity",I,R))},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen"])),T.layer.time?(ne(),ga(zpe,{key:1,layer:T.layer,onChangeTime:b},null,8,["layer"])):Ze("",!0)]))}}),Zpe={key:0,class:"text-black"},Xpe={key:1,class:"mb-4 sortable-layers-3d"},Ype=["id"],Kpe={class:"sortable-layers"},$pe=["id"],Qpe={key:2,class:"flex flex-row justify-center space-x-1 my-2"},EC="drag-handle",Jpe=ft({__name:"layer-manager",emits:["displayCatalog"],setup(a,{emit:e}){const{t}=ma(),{setMetadataLayer:i}=F5(),n=on(),s=fi(),r=Oh(),l=J2(),{bgLayer:c}=Gt(n),{sliderActive:h}=Gt(l),{isOffLine:f}=Gt(s),{setRemoteLayersOpen:v}=s,b=Pt(()=>[...n.layers].reverse()),T=Pt(()=>[...n.layers3d].reverse()),M=Li(),I=Pt(()=>r.isLayerStyleEditable(c.value)),R=Pt(()=>!f.value),P=e;jn(()=>{const me=document.querySelector(".sortable-layers"),fe=document.querySelector(".sortable-layers-3d");p3(me,{onSort:F}),p3(fe,{onSort:B})});function F(me,fe){const be=[...me].map(Ae=>Number(Ae.id)).reverse();n.reorderLayers(be,fe)}function B(me){F(me,!0)}function W(me,fe){n.setLayerOpacity(me.id,fe/100)}function Z(me,fe,be){n.setLayerTime(me.id,fe,be)}function ae(me){n.removeLayers(me.id)}function he(me){M.value=M.value!==me.id?me.id:void 0}function _e(){s.openStyleEditorPanel()}function ie(){l.toggleSlider()}return(me,fe)=>(ne(),xe("div",null,[V(f)&&b.value.length===0?(ne(),xe("div",Zpe,De(V(t)("No layer selected",{ns:"client"})),1)):Ze("",!0),T.value.length>0?(ne(),xe("ul",Xpe,[(ne(!0),xe(sa,null,Cn(T.value,(be,Ae)=>(ne(),xe("li",{key:be.id,id:be.id,"data-cy":"myLayer"},[ct(TC,{is3d:!0,dragHandleClassName:EC,layer:be,isOpen:M.value===be.id,isLayerComparatorOpen:V(h),displayLayerComparatorOpen:Ae===0,onClickRemove:ae,onClickToggle:he,onClickToggleLayerComparator:ie,onClickInfo:Ye=>V(i)(be),onChangeOpacity:W,onChangeTime:(Ye,Xe)=>Z(be,Ye,Xe)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,Ype))),128))])):Ze("",!0),$("ul",Kpe,[(ne(!0),xe(sa,null,Cn(b.value,(be,Ae)=>(ne(),xe("li",{key:be.id,id:be.id,"data-cy":"myLayer"},[ct(TC,{is3d:!1,dragHandleClassName:EC,layer:be,isOpen:M.value===be.id,isLayerComparatorOpen:V(h),displayLayerComparatorOpen:Ae===0,onClickRemove:ae,onClickToggle:he,onClickToggleLayerComparator:ie,onClickInfo:Ye=>V(i)(be),onChangeOpacity:W,onChangeTime:(Ye,Xe)=>Z(be,Ye,Xe)},null,8,["layer","isOpen","isLayerComparatorOpen","displayLayerComparatorOpen","onClickInfo","onChangeTime"])],8,$pe))),128))]),ct(ppe,{layer:V(c)||V(Z2),showEditButton:I.value,onClickInfo:fe[0]||(fe[0]=()=>V(c)&&V(i)(V(c))),onClickEdit:_e},null,8,["layer","showEditButton"]),R.value?(ne(),xe("div",Qpe,[$("button",{"data-cy":"addLayer",class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:fe[1]||(fe[1]=be=>P("displayCatalog"))},De(V(t)("+ Add layers",{ns:"client"})),1),$("button",{"data-cy":"addRemoteLayer",class:"bg-white text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:fe[2]||(fe[2]=be=>V(v)(!0))},De(V(t)("+ Add external Wms",{ns:"client"})),1)])):Ze("",!0),fe[3]||(fe[3]=$("div",{class:"lux-preload"},[$("i",{class:"fa-regular fa-trash-can"})],-1))]))}}),efe=["data-cy"],tfe={key:0,class:"lux-panel-title h-16 shrink-0 flex justify-between"},afe=["aria-label"],ife={key:1,class:"lux-panel-tabs flex flex-row gap-2 h-10 text-2xl"},nfe={class:"lux-panel-content relative grow p-2.5 bg-primary overflow-auto"},X0=ft({__name:"side-panel-layout",props:{dataCyValue:{},closeFn:{type:Function}},setup(a){const{t:e}=ma();return(t,i)=>(ne(),xe("div",{"data-cy":t.dataCyValue,class:"lux-panel flex flex-col h-full pt-1.5"},[t.$slots.header?(ne(),xe("div",tfe,[Va(t.$slots,"header"),$("span",null,[$("button",{"data-cy":"panelClose",onClick:i[0]||(i[0]=()=>t.closeFn()),"aria-label":V(e)("Close",{ns:"client"}),class:"fa-sharp fa-solid fa-close"},null,8,afe)])])):Ze("",!0),t.$slots.tabs?(ne(),xe("div",ife,[Va(t.$slots,"tabs")])):Ze("",!0),$("div",nfe,[Va(t.$slots,"content")])],8,efe))}}),rfe=["aria-expanded"],sfe={key:0},ofe=["aria-expanded"],lfe=ft({__name:"layer-panel",setup(a){const{t:e}=ma(),t=fi(),{setLayersOpen:i}=t,{myLayersTabOpen:n}=Gt(t),{layers:s}=Gt(on()),r=Pt(()=>!Tf().isOffLine.value),l=Pt(()=>n.value||Tf().isOffLine.value);function c(){t.setMyLayersTabOpen(!0)}function h(){t.setMyLayersTabOpen(!1)}return(f,v)=>(ne(),ga(X0,{"data-cy-value":"layerPanel","close-fn":()=>V(i)(!1)},{header:Xa(()=>[$("h1",null,De(V(e)("layers",{ns:"client"})),1)]),tabs:Xa(()=>[$("button",{"data-cy":"myLayersButton",onClick:c,class:ei(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",l.value?"bg-primary":"bg-tertiary"]),"aria-expanded":l.value},[xr(De(V(e)("my_layers",{ns:"client"}))+" ",1),V(s).length?(ne(),xe("span",sfe,"("+De(V(s).length)+")",1)):Ze("",!0)],10,rfe),r.value?(ne(),xe("button",{key:0,"data-cy":"catalogButton",onClick:h,class:ei(["text-white px-4 hover:bg-primary cursor-pointer text-center uppercase",l.value?"bg-tertiary":"bg-primary"]),"aria-expanded":!l.value},De(V(e)("Catalog",{ns:"client"})),11,ofe)):Ze("",!0)]),content:Xa(()=>[Ai(ct(Jpe,{"data-cy":"myLayers",onDisplayCatalog:h},null,512),[[th,l.value]]),Ai($("div",null,[ct(Wme)],512),[[th,!l.value]])]),_:1},8,["close-fn"]))}}),ufe={class:"lux-legends absolute"},cfe={key:0,class:"text-white"},dfe={class:"pb-5"},hfe={class:"pb-5"},_fe=ft({__name:"legends-panel",setup(a){const{t:e}=ma(),t=fi(),i=on(),n=qo(),{layers:s,bgLayer:r}=Gt(i),l=Pt(()=>[...s.value].reverse()),c=$e(new Map),h=$e(!1);return Vn(()=>h.value=[...c.value].some(([f,v])=>v)),Os(()=>c.value.clear()),N9(()=>c.value.clear()),(f,v)=>(ne(),ga(X0,{"data-cy-value":"legendsPanel","close-fn":()=>V(t).toggleLegendsOpen(!1)},{header:Xa(()=>[$("h1",null,De(V(e)("Legends")),1)]),content:Xa(()=>[$("div",ufe,[h.value?Ze("",!0):(ne(),xe("div",cfe,De(V(e)("Aucune légende n'est disponible pour les couches sélectionnées.")),1)),(ne(!0),xe(sa,null,Cn(l.value,b=>(ne(),ga(l3,{"data-cy":"legendLayer",class:"pt-10",key:b.id,layer:b,onHasLegend:T=>c.value.set(b.id,T),onRemovedLegend:()=>c.value.delete(b.id)},{title:Xa(()=>[$("h1",dfe,De(V(e)(V(n).getLayerCurrentLabel(b))),1)]),_:2},1032,["layer","onHasLegend","onRemovedLegend"]))),128)),V(r)?(ne(),ga(l3,{"data-cy":"legendBgLayer",class:"pt-10",key:V(r).id,layer:V(r)},{title:Xa(()=>[$("h1",hfe,De(V(e)(V(n).getLayerCurrentLabel(V(r)))),1)]),_:1},8,["layer"])):Ze("",!0)])]),_:1},8,["close-fn"]))}});class mfe{constructor(e){Sa(this,"timeoutID");const t=on(),i=Wl(),n=Hi(),s=Oh(),r=x5(),{getIsOffline:l}=Tf(),{appliedStyle:c}=Gt(i);Vt(()=>t.layers,(h,f)=>{const v={layers:f},b={layers:h},T=n.getRemovedLayers(b,v),M=n.getAddedLayers(b,v),I=n.getMutatedLayers(b,v);T.forEach(R=>r.removeLayer(e,R.id)),M.forEach(R=>{r.addLayer(e,R.layer),r.setLayerTime(e,R.layer)}),I.forEach(R=>{n.getMutationType(R.id,b,v)===kE.ON_LAYER_TYPE?(r.removeLayer(e,R.id),r.addLayer(e,R)):r.setLayerOpacity(e,R.id,R.opacity),r.setLayerTime(e,R)}),b.layers&&r.reorderLayers(e,b.layers)}),Vt(()=>t.bgLayer,h=>h!==void 0&&r.setBgLayer(e,h,i.bgVectorSources)),Vn(()=>{i.isExpertStyleActive||(c.value=s.applyDefaultStyle(t.bgLayer,i.bgVectorBaseStyles,i.bgStyle))}),Vt(c,h=>{l()||(i.bgStyle===null&&!i.isExpertStyleActive?s.unregisterStyle(i.styleSerial).then(i.styleSerial=null):(clearTimeout(this.timeoutID),this.timeoutID=setTimeout(()=>{s.registerStyle(h,i.styleSerial).then(f=>{var b;i.styleSerial=f;const v=(b=t==null?void 0:t.bgLayer)==null?void 0:b.id;t!=null&&t.bgLayer&&v!==void 0&&f!==void 0&&r.setBgLayer(e,t==null?void 0:t.bgLayer,i.bgVectorSources)})},2e3))),r.applyOnBgLayer(e,f=>s.applyConsolidatedStyle(f,h))}),Vt(()=>i.bgVectorSources,(h,f)=>{var v;for(const b of h.keys())(!f||f.get(b)!==h.get(b))&&(r.removeFromCache(b),b===((v=t==null?void 0:t.bgLayer)==null?void 0:v.id)&&r.setBgLayer(e,t==null?void 0:t.bgLayer,h))})}}class pfe{constructor(e){const t=e.getView(),i=on();t.setMaxZoom(FI),t.setMinZoom(hj),t.setConstrainResolution(!0),Vt(()=>i.minZoom,n=>n!==void 0&&t.setMinZoom(n)),Vt(()=>i.maxZoom,n=>n!==void 0&&t.setMaxZoom(n))}}const ffe={0:8,1:9,2:9,3:10,4:11,5:12,6:13,7:14,8:16,9:17,10:18,11:19,12:20,13:21};class gfe{bootstrap(){this.restore(),this.persist()}persistZoom(){const e=Hi().getOlMap().getView(),t=()=>{const i=e.getZoom();wa.setValue(EA,i?Math.ceil(i):null)};t(),Ma(e,"change:resolution",Py(t,300))}persistRotation(){const e=Hi().getOlMap().getView(),t=()=>{const i=e.getRotation();wa.setValue(MA,i||0)};t(),Ma(e,"change:rotation",Py(t,300))}persistXY(){const e=Hi().getOlMap().getView(),t=()=>{const i=e.getCenter();wa.setValue(kT,i?Math.round(i[0]):null),wa.setValue(PT,i?Math.round(i[1]):null)};t(),Ma(e,X_.PROPERTYCHANGE,Py(t,300))}persist(){this.persistXY(),this.persistZoom(),this.persistRotation()}restore(){const e=Hi().getOlMap().getView(),t=wa.getValue(EA,P_),i=wa.getValue(MA,P_),n=wa.getInitialVersion(),s=wa.getValue(kT,P_),r=wa.getValue(PT,P_),l=wa.getValue(tae),c=df(Hl,G_);let h,f;t!==void 0?f=n===3?Number(t):ffe[t]:f=parseInt("8",10),s!=null&&r!=null?n===3&&l!=null?h=Ks([s,r],l,G_):h=n===3?[s,r]:c([r,s],void 0,2):h=Ks([6,49.7],mf,G_),e.setCenter(h),e.setZoom(f),e.setRotation(i||0)}}const yfe=new gfe,wc={ANGLE:"a",COLOR:"c",IS_CIRCLE:"l",IS_RECTANGLE:"r",IS_TEXT:"t",NAME:"n",SHOW_LABEL:"b",OPACITY:"o",AZIMUT:"z",SHOW_MEASURE:"m",SIZE:"s",STROKE:"k"},Ac={LINE_STRING:"LineString",POINT:"Point",POLYGON:"Polygon"},vfe={LineString:Ac.LINE_STRING,Point:Ac.POINT,Polygon:Ac.POLYGON,MultiLineString:Ac.LINE_STRING,MultiPoint:Ac.POINT,MultiPolygon:Ac.POLYGON};let Uy={};class bfe extends ahe{constructor(t){super();Sa(this,"accuracy_");Sa(this,"encodeStyles_");Sa(this,"propertiesFunction_");Sa(this,"setStyle_");Sa(this,"prevX_");Sa(this,"prevY_");const i=t??{};this.accuracy_=i.accuracy??xfe,this.encodeStyles_=i.encodeStyles??!0,this.propertiesFunction_=i.properties??wfe,this.setStyle_=i.setStyle??!0,this.prevX_=0,this.prevY_=0,Uy=i.propertiesType!==void 0&&i.propertiesType}decodeCoordinates_(t,i){const n=t.length;let s=0;const r=i!==void 0?i:[];let l=r.length;for(;s<n;){let c,h=0,f=0;do c=ex.indexOf(t.charAt(s++)),f|=(c&31)<<h,h+=5;while(c>=32);const v=f&1?~(f>>1):f>>1;this.prevX_+=v,h=0,f=0;do c=ex.indexOf(t.charAt(s++)),f|=(c&31)<<h,h+=5;while(c>=32);const b=f&1?~(f>>1):f>>1;this.prevY_+=b,r[l++]=this.prevX_*this.accuracy_,r[l++]=this.prevY_*this.accuracy_}return r}encodeCoordinates_(t,i,n,s){let r="";for(let l=n;l<s;l+=i){let c=t[l],h=t[l+1];c=Math.floor(c/this.accuracy_),h=Math.floor(h/this.accuracy_);const f=c-this.prevX_,v=h-this.prevY_;this.prevX_=c,this.prevY_=h,r+=MC(f)+MC(v)}return r}readFeatureFromText(t){let i=t.indexOf("~");const n=i>=0?t.substring(0,i)+")":t,s=this.readGeometryFromText(n),r=new Rr(s);if(i>=0){const l=t.substring(i+1,t.length-1);i=l.indexOf("~");const c=i>=0?l.substring(0,i):l;if(c!=""){const h=c.split("'");for(let f=0;f<h.length;++f){const b=h[f].split("*");let T=b[0];const M=b[1];!this.setStyle_&&Uy[T]&&(T=Uy[T]),r.set(T,M)}}if(i>=0){const h=l.substring(i+1);this.setStyle_?Dfe(h,r):Ffe(h,r)}}return r}readFeaturesFromText(t){const i=[];for(t=t.substring(1);t.length>0;){const n=t.indexOf(")"),s=this.readFeatureFromText(t.substring(0,n+1));i.push(s),t=t.substring(n+1)}return i}readGeometryFromText(t){const i=Ufe[t[0]];return this.prevX_=0,this.prevY_=0,i.call(this,t)}getCastShortProperty(t,i){const n=Bp[i];return YP(i,t.get(n))}decodeShortProperties(t,i){var f;const n=(f=t.getGeometry())==null?void 0:f.getType(),s=this.getCastShortProperty(t,"isCircle")?"drawnCircle":this.getCastShortProperty(t,"isLabel")?"drawnLabel":`drawn${n==null?void 0:n.replace("String","")}`,r={showOrientation:!1,...Object.fromEntries(jfe.map(v=>[v,this.getCastShortProperty(t,v)]))},l=t.get(Bp.name),c=t.get(Bp.description);return Object.values(Bp).forEach(v=>t.unset(v)),Object.assign(new j0,t,{id:Math.floor(Math.random()*Date.now()),label:l,description:c,editable:!1,display_order:i,selected:!1,map_id:void 0,saving:!1,featureType:s,featureStyle:r})}writeFeatureText(t,i){const n=[];let s="";const r=t.getGeometry();r!=null&&(s=this.writeGeometryText(r,i)),s.length>0&&(s=s.substring(0,s.length-1),n.push(s));const l=[],c=function(f,v){if(v!==t.getGeometryName()){l.length!==0&&l.push("'");const b=v.replace(/[()'*]/g,"_")+"*"+f.toString().replace(/[()'*]/g,"_");l.push(b)}},h=this.propertiesFunction_(t);for(const f in h)c(h[f],f);if(l.length>0&&(n.push("~"),Array.prototype.push.apply(n,l)),this.encodeStyles_){const f=t.getStyleFunction();if(f!==void 0){let v=f.call(this,t,0);if(v!==null){const b=[];v=Array.isArray(v)?v:[v],Tfe(v,r==null?void 0:r.getType(),b),b.length>0&&(n.push("~"),Array.prototype.push.apply(n,b))}}}return n.push(")"),n.join("")}writeFeaturesText(t,i){const n=[];if(t.length>0){n.push("F");for(let s=0,r=t.length;s<r;++s)n.push(this.writeFeatureText(t[s],i))}return n.join("")}writeGeometryText(t,i){const n=Vfe[t.getType()],s=Kl(t,!0,i);return this.prevX_=0,this.prevY_=0,n.call(this,s)}}const ex=".-_!*ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghjkmnpqrstuvwxyz",xfe=1;function wfe(a){return a.getProperties()}function MC(a){let e=a<<1;return a<0&&(e=~e),Sfe(e)}function Sfe(a){let e="";for(;a>=32;)e+=ex.charAt(32|a&31),a>>=5;return e+=ex.charAt(a),e}function Tfe(a,e,t){const i=vfe[e];for(let n=0;n<a.length;++n){const s=a[n],r=s.getFill(),l=s.getImage(),c=s.getStroke(),h=s.getText();i==Ac.POLYGON?r!==null&&Lfe(r,c,t):i==Ac.LINE_STRING?c!==null&&Efe(c,t):i==Ac.POINT&&l!==null&&Mfe(l,t),h!==null&&Afe(h,t)}}function Efe(a,e){q5(a,e)}function Mfe(a,e){if(a instanceof _l){const t=a.getRadius();e.length>0&&e.push("'"),e.push("pointRadius*"+t);const i=a.getFill();i!==null&&G5(i,e);const n=a.getStroke();n!==null&&q5(n,e)}}function Lfe(a,e,t){G5(a,t),e!==null&&q5(e,t)}function G5(a,e,t){const i=t!==void 0?t:"fillColor",n=a.getColor();if(n!==null){const s=Iu(n),r=aP(s);e.length>0&&e.push("'"),e.push(i+"*"+r)}}function q5(a,e){const t=a.getColor();if(t!==null){const n=Iu(t),s=aP(n);e.length>0&&e.push("'"),e.push("strokeColor*"+s)}const i=a.getWidth();i!==void 0&&(e.length>0&&e.push("'"),e.push("strokeWidth*"+i))}function Afe(a,e){const t=a.getFont();if(t!==void 0){const n=t.split(" ");n.length>=3&&(e.length>0&&e.push("'"),e.push("fontSize*"+n[1]))}const i=a.getFill();i!==null&&G5(i,e,"fontColor")}function Cfe(a){a=a.substring(2,a.length-1);const e=this==null?void 0:this.decodeCoordinates_(a);return new cs(e,ti.XY)}function Ife(a){a=a.substring(2,a.length-1);let e=[];const t=[],i=a.split("'");for(let n=0,s=i.length;n<s;++n)e=this==null?void 0:this.decodeCoordinates_(i[n],e),t[n]=e.length;return new sm(e,ti.XY,t)}function Rfe(a){a=a.substring(2,a.length-1);const e=this==null?void 0:this.decodeCoordinates_(a);return new Xr(e,ti.XY)}function Ofe(a){a=a.substring(2,a.length-1);const e=this==null?void 0:this.decodeCoordinates_(a);return new Y_(e,ti.XY)}function kfe(a){a=a.substring(2,a.length-1);let e=[];const t=[],i=a.split("'");for(let n=0,s=i.length;n<s;++n){e=this==null?void 0:this.decodeCoordinates_(i[n],e);let r=e.length;n===0?(e[r++]=e[0],e[r++]=e[1]):(e[r++]=e[t[n-1]],e[r++]=e[t[n-1]+1]),t[n]=r}return new Vc(e,ti.XY,t)}function Pfe(a){a=a.substring(2,a.length-1);let e=[];const t=[],i=a.split(")(");for(let n=0,s=i.length;n<s;++n){const r=i[n].split("'"),l=t[n]=[];for(let c=0,h=r.length;c<h;++c){e=this==null?void 0:this.decodeCoordinates_(r[c],e);let f=e.length;c===0?(e[f++]=e[0],e[f++]=e[1]):(e[f++]=e[l[c-1]],e[f++]=e[l[c-1]+1]),l[c]=f}}return new Rx(e,ti.XY,t)}function Dfe(a,e){if(a=="")return;const t=KP(a),i=t.fillColor,n=t.fontSize,s=t.fontColor,r=t.pointRadius,l=t.strokeColor,c=t.strokeWidth;let h;i!==void 0&&(h=new Yr({color:i}));let f;l!==void 0&&c!==void 0&&(f=new br({color:l,width:c}));let v;r!==void 0&&(v=new _l({radius:r,fill:h,stroke:f}),h=f=void 0);let b;n!==void 0&&s!==void 0&&(b=new Of({font:n+" sans-serif",fill:new Yr({color:s})}));const T=new kr({fill:h,image:v,stroke:f,text:b});e.setStyle(T)}function Ffe(a,e){const t=KP(a),i=e.getGeometry();if(i instanceof Xr?t.isLabel||t[wc.IS_TEXT]?(delete t.strokeColor,delete t.fillColor):(delete t.fontColor,delete t.fontSize):(delete t.fontColor,i instanceof cs&&(delete t.fillColor,delete t.fillOpacity)),t.fontSize){let s=parseFloat(t.fontSize);t.fontSize.indexOf("px")!==-1&&(s=Math.round(s/1.333333)),t.fontSize=s}const n={};for(const s in t){const r=t[s];Uy[s]?n[Uy[s]]=r:n[s]=r}e.setProperties(n)}function YP(a,e){const t=[wc.ANGLE,wc.OPACITY,wc.SIZE,wc.STROKE,"pointRadius","strokeWidth","stroke","angle","opacity","size"],i=[wc.IS_CIRCLE,wc.IS_RECTANGLE,wc.IS_TEXT,wc.SHOW_MEASURE,"isCircle","isRectangle","isLabel","showMeasure","showOrientation"];return ss(t,a)?+e:ss(i,a)?e==="true":e}function KP(a){const e=a.split("'"),t={};for(let i=0;i<e.length;++i){const s=e[i].split("*"),r=s[0],l=s[1];t[r]=YP(r,l)}return t}function Nfe(a){const e=a,t=e.getFlatCoordinates(),i=e.getStride(),n=t.length;return"l("+(this==null?void 0:this.encodeCoordinates_(t,i,0,n))+")"}function Wfe(a){const e=a,t=e.getEnds(),i=t.length,n=e.getFlatCoordinates(),s=e.getStride();let r=0;const l=["L("];for(let c=0;c<i;++c){const h=t[c],f=this==null?void 0:this.encodeCoordinates_(n,s,r,h);c!==0&&l.push("'"),l.push(f),r=h}return l.push(")"),l.join("")}function zfe(a){const e=a,t=e.getFlatCoordinates(),i=e.getStride(),n=t.length;return"p("+(this==null?void 0:this.encodeCoordinates_(t,i,0,n))+")"}function Bfe(a){const e=a,t=e.getFlatCoordinates(),i=e.getStride(),n=t.length;return"P("+(this==null?void 0:this.encodeCoordinates_(t,i,0,n))+")"}function $P(a,e,t,i,n){const s=i.length;for(let r=0;r<s;++r){const l=i[r]-e,c=this==null?void 0:this.encodeCoordinates_(a,e,t,l);r!==0&&n.push("'"),n.push(c),t=i[r]}return t}function Gfe(a){const e=a,t=e.getFlatCoordinates(),i=e.getStride(),n=e.getEnds(),s=0,r=["a("];return $P.call(this,t,i,s,n,r),r.push(")"),r.join("")}function qfe(a){const e=a,t=e.getFlatCoordinates(),i=e.getStride(),n=e.getEndss(),s=n.length;let r=0;const l=["A"];for(let c=0;c<s;++c){const h=n[c];l.push("("),r=$P.call(this,t,i,r,h,l),l.push(")")}return l.join("")}const Ufe={P:Ofe,L:Ife,A:Pfe,l:Cfe,p:Rfe,a:kfe},Vfe={MultiLineString:Wfe,MultiPoint:Bfe,MultiPolygon:qfe,LineString:Nfe,Point:zfe,Polygon:Gfe},Bp={angle:"a",color:"c",description:"d",stroke:"e",isLabel:"i",linestyle:"l",name:"n",opacity:"o",showOrientation:"r",shape:"s",size:"t",isCircle:"u",symbolId:"symbolId",symboltype:"symboltype"},jfe=["angle","color","stroke","linestyle","opacity","showOrientation","shape","size","symbolId","symboltype"],Ib=new bfe({encodeStyles:!1,properties:function(a){const e=a.toProperties();for(const t in e)if(e[t]===null||e[t]===void 0)delete e[t];else if(Bp[t]){const i=e[t];delete e[t],e[Bp[t]]=i}return e}});window.Cypress&&(window.featureHash=Ib);class Hfe{featuresToUrl(e){if(!e)return"";const t=e.filter(i=>!i.map_id).sort((i,n)=>i.display_order-n.display_order).map(i=>{const n=new j0(i);return tP(n)});return t.length>0?Ib.writeFeatures(t):""}urlToFeatures(e){return(e?Ib.readFeatures(e):[]).map((n,s)=>Ib.decodeShortProperties(n,s)).map(n=>Ple(n))}}const LC=new Hfe;class Zfe{bootstrap(){this.restore();let e;e=Vn(()=>{this.persist(),e&&e()})}persist(){const{drawnFeatures:e}=Gt($s());Vt(e,t=>{wa.setValue(RT,t,LC.featuresToUrl)},{immediate:!0})}restore(){const{drawnFeatures:e}=Gt($s()),i=wa.getValue(RT,LC.urlToFeatures).filter(n=>n!=null);e.value=[...e.value,...i]}}const Xfe=new Zfe;class Yfe{bootstrap(){this.restore();let e;e=Vn(()=>{this.persist(),e&&e()})}persist(){const{locationInfoCoords:e}=Gt(Kc());Vt(e,t=>{t===void 0?wa.removeItem($S):(wa.setValue($S,!0),wa.setValue(kT,t[0]),wa.setValue(PT,t[1]))},{immediate:!0})}restore(){const{locationInfoCoords:e}=Gt(Kc()),t=Hi().getOlMap(),i=wa.getValue($S);i&&i!=="false"&&(e.value=t.getView().getCenter())}}const Kfe=new Yfe,$fe={key:0,"data-cy":"attributionControl",class:"absolute bottom-0 z-10 text-[0.8em] px-[4px] text-[#6b818f] bg-[#ffffffb3]"},Qfe=ft({__name:"attribution-control",setup(a){const e=on(),t=$e("");return Vn(()=>{var i,n;t.value=((n=(i=e.bgLayer)==null?void 0:i.metadata)==null?void 0:n.attribution)||""}),(i,n)=>{const s=wh("dompurify-html");return t.value?Ai((ne(),xe("div",$fe,null,512)),[[s,t.value]]):Ze("",!0)}}});function qf(a,e){const t=new a(e),i=Hi(),n=Is("olMap");return jn(()=>{n.addControl(t),n.changed()}),Os(()=>{const s=i.getOlMap();s.removeControl(t),s.changed()}),{control:t}}const Jfe=["title"],ege=ft({__name:"location-control",props:{className:{default:"location-button"},label:{default:""},tipLabel:{default:"Location"}},setup(a){const{t:e}=ma(),t=a,i=$e(null);function n(){}return jn(()=>qf(nm,{...t,target:i})),(s,r)=>(ne(),xe("div",{ref_key:"controlElement",ref:i,class:ei(`tracker-off ${t.className} ${V(Eh)} ${V(im)}`)},[$("button",{title:V(e)(t.tipLabel),onClick:n},De(t.label),9,Jfe)],2))}}),tge=["title"],age=ft({__name:"map-3d",props:{className:{default:"map-3d-button"},label:{default:""},tipLabel:{default:"3d"}},setup(a){const e=on(),{t}=ma(),i=a,n=$e(null);jn(()=>qf(nm,{...i,target:n}));const s=()=>{e.setIs3dActive(!e.is3dActive)};return(r,l)=>(ne(),xe("div",{ref_key:"controlElement",ref:n,class:ei(`${i.className} ${V(Eh)} ${V(im)} ${V(e).is3dActive?"active":""}`)},[$("button",{title:V(t)(i.tipLabel),onClick:s},De(i.label),9,tge)],2))}}),ige=ft({__name:"fullscreen-control",props:{className:{},label:{default:""},labelActive:{default:""}},setup(a){return qf(cU,a),(t,i)=>Ze("",!0)}}),nge=ft({__name:"zoom-control",props:{className:{},zoomInLabel:{default:""},zoomOutLabel:{default:""}},setup(a){return qf(cI,a),(t,i)=>Ze("",!0)}}),rge=ft({__name:"rotate-control",props:{className:{},label:{}},setup(a){return qf(uI,a),(t,i)=>Ze("",!0)}});class sge extends _U{constructor(t){super(t);Sa(this,"ol3dm")}handleZoomToExtent(){this.ol3dm&&this.ol3dm.luxCameraExtentInRadians&&this.ol3dm.is3dEnabled()||super.handleZoomToExtent()}}const oge=ft({__name:"zoom-to-extent-control",props:{className:{},label:{default:""},tipLabel:{},extent:{}},setup(a){return qf(sge,a),(t,i)=>Ze("",!0)}}),lge={xs:0,sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function U5(a){return window.innerWidth>=lge[a]}function QP(){const a=$s(),{drawStateActive:e,drawnFeatures:t}=Gt(a),{addDrawnFeature:i}=a,{feedbackOpen:n,feedbackanfOpen:s,feedbackageOpen:r,feedbackcruesOpen:l}=Gt(fi()),{toggleMyMapsOpen:c}=fi(),h=t.value;function f(b){var F;const T=h.length,M=e.value==="drawCircle"?"drawnCircle":e.value==="drawLabel"?"drawnLabel":`drawn${(F=b.getGeometry())==null?void 0:F.getType().replace("String","")}`,I=b.get("name")||`${hN(M.replace("drawn",""))} ${t.value.length+1}`,R={angle:0,color:"#ed1c24",arrowcolor:void 0,stroke:1.25,linestyle:"plain",opacity:.2,showOrientation:!1,shape:"circle",symbolId:void 0,symboltype:void 0,size:10},P=Object.assign(new j0,b,{id:Math.floor(Math.random()*Date.now()),label:I,description:"",display_order:T,editable:!0,selected:!1,map_id:void 0,saving:!1,featureType:M,featureStyle:R});i(P),U5("md")&&n.value!==!0&&s.value!==!0&&r.value!==!0&&l.value!==!0&&c(!0)}function v(b){const T=b.getGeometry();let M;if(T)switch(T.getType()){case"Point":M=T.getFlatCoordinates();break;case"LineString":M=T.getFlatMidpoint();break;case"Polygon":M=T.getFlatInteriorPoint();break;case"Circle":M=T.getCenter();break}return M}return{addFeature:f,getFeatCoordinates:v}}class uge{constructor(){Sa(this,"measureTooltipElement",null);Sa(this,"measureTooltipOverlay",null);Sa(this,"changeEventKey",null)}add(e,t){this.createMeasureTooltip(e);const i=t.feature.getGeometry();if(i===void 0)return;const n=e.getView().getProjection();this.changeEventKey=Ma(i,"change",()=>this.updateTootip(i,n),this)}remove(){this.removeMeasureTooltip(),this.changeEventKey!==null&&(nE(this.changeEventKey),this.changeEventKey=null)}createMeasureTooltip(e){this.removeMeasureTooltip(),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.classList.add("lux-tooltip"),this.measureTooltipOverlay=new hI({element:this.measureTooltipElement,offset:[0,-15],positioning:"bottom-center",stopEvent:!1}),e.addOverlay(this.measureTooltipOverlay)}removeMeasureTooltip(){var e;this.measureTooltipElement!==null&&((e=this.measureTooltipElement.parentNode)==null||e.removeChild(this.measureTooltipElement),this.measureTooltipElement=null,this.measureTooltipOverlay=null)}updateTootip(e,t){var s;let i,n="";if(e.getType()==="LineString"){const r=e;i=r.getLastCoordinate(),i!==null&&(n=c0(U2(r,t)))}else if(e.getType()==="Polygon"){const r=e;r.getCoordinates()[0].length>2&&(i=r.getInteriorPoint().getCoordinates()),i!==null&&(n=NI(Jk(r)))}else if(e.getType()==="Circle"){const r=e;i=r.getLastCoordinate();const l=r.getCenter();l!==null&&i!==null&&(n=c0(U2(new cs([l,i]),t)))}this.measureTooltipElement&&(this.measureTooltipElement.innerText=n,(s=this.measureTooltipOverlay)==null||s.setPosition(i))}}const S4=new uge;function $g(a){const{addFeature:e}=QP(),t=new ej(a);t.setActive(!1);const i=Hi().getOlMap();i.addInteraction(t),Ma(t,"drawstart",r=>S4.add(i,r)),Ma(t,"drawend",r=>{n(r)}),Ma(document,"keyup",r=>{s(r)});function n(r){S4.remove(),e(r.feature),r.stopPropagation()}function s(r){r.key==="Escape"&&(S4.remove(),t.finishDrawing(),t.setActive(!1))}return{drawInteraction:t}}function cge(){const{t:a}=ma(),{addNotification:e}=jc(),{drawStateActive:t}=Gt($s());Vt(t,i);function i(n){let s;switch(n){case"drawPoint":s=a("Click to draw the point");break;case"drawLine":s=a("Click to start drawing line<br>Double-click to finish");break;case"drawPolygon":s=a("Click to start drawing polygon<br>Double-click or click last point to finish");break;case"drawCircle":s=a("Click to start drawing circle");break;case"drawLabel":s=a("Click to place the label");break}s&&e(s)}return{}}const dge=1001,hge="featureEditLayer";function _ge(){const{editStateActive:a,editingFeatureId:e,drawnFeatures:t}=Gt($s()),{updateDrawnFeature:i,setEditActiveState:n}=$s();let s;const r=Hi().getOlMap(),l=new ed({features:[]}),c=new hl({source:l,zIndex:dge});c.set("cyLayerType",hge),r.addLayer(c),Vt(a,f=>{f?h():r.removeInteraction(s)}),Vt(e,f=>{f||(n(void 0),t.value.forEach(b=>{b.editable&&(b.editable=!1,b.changed())})),l.clear();const v=t.value.find(b=>na(b)===f);if(v){const b=v.featureType.replace("drawn","edit");n(b),v.editable=!0,v.changed(),l.addFeature(v)}});function h(){s&&r.removeInteraction(s),s=new nj({source:l,pixelTolerance:20,deleteCondition:function(f){return Cx(f)&&wE(f)}}),r.addInteraction(s),Ma(s,"modifyend",f=>{const v=f.features.getArray()[0];v.profileData=void 0,i(v)})}return{}}const mge=1e3,pge="featureLayer";function fge(){const{drawStateActive:a,drawnFeatures:e}=Gt($s());cge(),_ge();const t={drawPoint:$g({type:"Point"}).drawInteraction,drawLabel:$g({type:"Point"}).drawInteraction,drawLine:$g({type:"LineString"}).drawInteraction,drawCircle:$g({type:"Circle"}).drawInteraction,drawPolygon:$g({type:"Polygon"}).drawInteraction};Vt(a,r=>{Object.keys(t).forEach(l=>{`${[l]}`==`${r}`?t[l].setActive(!0):t[l].setActive(!1)})});const i=new hl({source:new ed({features:[]}),zIndex:mge});i.set("cyLayerType",pge),Vt(()=>e.value,r=>{s(r)});function n(r){r.addLayer(i)}function s(r){var l,c;(l=i.getSource())==null||l.clear(),(c=i.getSource())==null||c.addFeatures(r)}return{addDrawLayer:n}}function gge(){const a=Hi().getOlMap(),e=fi(),{drawStateActive:t,editStateActive:i,activeFeatureId:n,editingFeatureId:s,drawnFeatures:r}=Gt($s()),{layersOpen:l,myMapsOpen:c}=Gt(e),{layers:h}=Gt(on());Ma(a,"click",v=>f(v)),Vt(n,(v,b)=>{s.value!==v&&(s.value=void 0),r.value.filter(T=>na(T)==b).forEach(T=>{T.selected=!1,T.changed()}),r.value.filter(T=>na(T)==v).forEach(T=>{T.selected=!0,T.editable=!1,T.changed()})});const f=function(v){const b=v.pixel;if(t.value!==void 0||i.value!==void 0)return!0;if(n.value=void 0,a.forEachFeatureAtPixel(b,M=>{const I=ss(r.value,M);if(I&&(l.value||c.value)&&r.value.length>0||I&&h.value.length===0)return e.toggleMyMapsOpen(!0),n.value=na(M),!0},{hitTolerance:5}))return!1}}const yge="featureInfoLayer",vge=17;class bge{constructor(){Sa(this,"map");Sa(this,"featureLayer")}init(e){this.map=e,this.createFeatureLayer()}createFeatureLayer(){this.featureLayer=new hl({source:new ed,zIndex:1e3});const e=new Yr({color:[255,255,0,.6]}),t=new br({color:[255,155,55,1],width:3}),i=new _l({radius:10,fill:e,stroke:t});this.featureLayer.set("cyLayerType",yge),this.featureLayer.setStyle(function(n){var h;const s=n.get("color")||"#ffcc33",r=n.get("width")||3,l=[new kr({fill:new Yr({color:[255,255,0,.6]})}),new kr({stroke:new br({color:"#ffffff",width:5})}),new kr({stroke:new br({color:s,width:r})})],c=(h=n.getGeometry())==null?void 0:h.getType();return c==="Point"||c==="MultiPoint"?[new kr({image:i})]:l}),this.map.addLayer(this.featureLayer)}highlightFeatures(e,t,i){var n,s,r,l;if(e!=null){this.map.getLayers().getArray().indexOf(this.featureLayer)===-1&&this.map.addLayer(this.featureLayer);const c={dataProjection:Hl,featureProjection:this.map.getView().getProjection()},h=new dm().readFeatures({type:"FeatureCollection",features:e},c);if(h.length>0){let f=((n=h[0].getGeometry())==null?void 0:n.getExtent())||[0,0,0,0];for(const v of h){const b=((s=v.getGeometry())==null?void 0:s.getExtent())||[0,0,0,0];f=j3(f,b),v.getId()==null&&v.setId(void 0),((r=v.getGeometry())==null?void 0:r.getType())==="GeometryCollection"?v.getGeometry().getGeometriesArray().forEach(M=>{var R;const I=v.clone();I.setGeometry(M),(R=this.featureLayer.getSource())==null||R.addFeature(I)}):(l=this.featureLayer.getSource())==null||l.addFeature(v)}if(t&&f){const v={size:this.map.getSize(),maxZoom:i||vge};this.map.getView().fit(f,v)}}}}clearFeatures(){var e;(e=this.featureLayer.getSource())==null||e.clear()}}const fy=new bge,xge="https://migration.geoportail.lu/getfeatureinfo";async function AC(a){const e=await Gf(xge,a,"GET");if(!e.ok)throw new Error("Error while trying to get profile");return await e.json()}function wge(){const a=Hi().getOlMap(),{setFeatureInfoPanelContent:e,setLoading:t,setDisplayStarOnMobile:i}=Q_(),{fid:n,isLoading:s}=Gt(Q_()),{toggleInfoOpen:r}=fi(),{layersOpen:l,myMapsOpen:c}=Gt(fi()),{findById:h}=zc(),{drawStateActive:f,editStateActive:v,drawnFeatures:b}=Gt($s()),{locationInfoCoords:T,isStreetviewActive:M}=Gt(Kc()),{maxZoom:I}=Gt(on()),R=$e([]),P=$e([]),F=$e([]),B=$e([]),W=$e(null);function Z(){fy.init(a),Ma(a,"pointerdown",Ae=>{F.value=Ae.pixel}),Ma(a,"pointerup",DO(Ae=>ae(Ae),499)),Ma(a,"pointermove",Ae=>he(Ae)),Vn(()=>{n.value&&(async()=>await _e(n.value))()})}function ae(Ae){(async()=>(B.value=Ae.pixel,!(Ae.originalEvent.button===2||M.value&&T.value||f.value||v.value||s.value)&&(W.value=window.setTimeout(()=>{let Ye=!1;if((l.value||c.value)&&b.value.length>0&&(Ye=be(Ae.pixel)),!Ye&&F.value&&B.value){const Xe=Math.abs(F.value[0]-B.value[0]),Re=Math.abs(F.value[1]-B.value[1]);Xe+Re<6&&(ie(Ae),F.value=null,B.value=null)}},500))))()}function he(Ae){if(!(Ae.dragging||s.value))if(f.value)a.getViewport().style.cursor="";else{const Ye=a.getEventPixel(Ae.originalEvent);let Xe=!1;try{Xe=a.forEachLayerAtPixel(Ye,Re=>{if(Re){const Oe=Re.get("metadata");if(Oe&&Oe.is_queryable&&Re.getVisible()&&Re.getOpacity()>0)return!0}return!1},{layerFilter:Re=>!!Re.getSource()})}catch{Xe=!1}a.getViewport().style.cursor=Xe?"pointer":""}}async function _e(Ae){const Ye=Ae.split(",");for(const Xe of Ye){const Re=Xe.split("_")[0],Oe=[Re],Qe={};try{if(Oe.length>0){t(!0),a.getViewport().style.cursor="wait";const yt=await AC({fid:Xe});let Je=!1;U5("sm")?(Je=!0,i(!1)):i(!0);const Xt=h(Re);Xt&&(Qe[Re]=Xt.layers),yt.length>0&&me(!0,yt,Qe,Je,!0)}}catch{fe()}}}async function ie(Ae){const Ye=a.getLayers().getArray(),Xe=[],Re={};for(let Oe=Ye.length-1;Oe>=0;Oe--){const Qe=Ye[Oe].get("metadata");if(Qe!=null&&Qe.is_queryable&&Ye[Oe].getVisible()&&Ye[Oe].getOpacity()>0){const yt=Ye[Oe].get("queryable_id");Xe.push(yt),Re[yt]=Ye[Oe].get("label")}}if(Xe.length>0){const Oe=a.getView().getResolution();let Qe=0,yt=0;Oe&&(Qe=20*Oe,yt=1*Oe);const Je=Ks(Ae.coordinate,a.getView().getProjection(),Hl),Xt=[[Je[0]-Qe,Je[1]+Qe],[Je[0]+Qe,Je[1]-Qe]],We=[[Je[0]-yt,Je[1]+yt],[Je[0]+yt,Je[1]-yt]];t(!0),a.getViewport().style.cursor="wait";const la=a.getSize()||[0,0],ea=a.getView().calculateExtent(la).join(","),wn={layers:Xe.join(),box1:Xt.join(),box2:We.join(),srs:G_,zoom:a.getView().getZoom(),BBOX:ea,WIDTH:la[0],HEIGHT:la[1],X:Ae.pixel[0],Y:Ae.pixel[1]};try{const ca=await AC(wn);ca.length>0?me(Ae.originalEvent.shiftKey,ca,Re,!0,!1):(P.value=[],fy.highlightFeatures(P.value,!1,I.value),fe())}catch{fe()}}}function me(Ae,Ye,Xe,Re,Oe){Ae?Ye.forEach(Je=>{Je.layerLabel=Xe[Je.layer];let Xt=!1;for(let We=0;We<R.value.length;We++)if(R.value[We].layer===Je.layer){Xt=!0;let la=!1;for(let ba=0;ba<Je.features.length;ba++){for(let ea=0;ea<R.value[We].features.length;ea++)if(R.value[We].features[ea].fid==Je.features[ba].fid){la=!0,R.value[We].features.splice(ea,1);break}la||(R.value[We].features=R.value[We].features.concat(Je.features[ba]))}break}Xt||R.value.push(Je)}):(R.value=Ye,R.value.forEach(Je=>{Je.layerLabel=Xe[Je.layer]}));const Qe=R.value.filter(Je=>"features"in Je&&Je.features.length>0),yt=R.value.length>0?Re:!1;fe(yt),P.value=[];for(let Je=0;Je<R.value.length;Je++)P.value.push(...R.value[Je].features);fy.highlightFeatures(P.value,Oe,I.value),e(Qe)}function fe(Ae=!1){r(Ae),t(!1),a.getViewport().style.cursor="",fy.clearFeatures()}function be(Ae){const Ye=[];return a.forEachFeatureAtPixel(Ae,Xe=>b.value.indexOf(Xe)!==-1?(Ye.push(Xe),!1):!0,{hitTolerance:5}),Ye.length>0}return{init:Z}}const CC=ft({__name:"map-container",props:{v4_standalone:{type:Boolean,default:!1}},setup(a){const e=fi(),{embedded:t}=Gt(e),i=Hi(),n=$e(null),s=i.createMap(),r=a;s.getInteractions().forEach(h=>{h instanceof uT&&s.removeInteraction(h)});const l=new uT({condition:SU});s.addInteraction(l),r.v4_standalone&&(fge().addDrawLayer(s),gge(),wge().init());const c=[425152.9429259216,632446599999133e-8,914349.9239510496,6507914867875754e-9];return jn(()=>{n.value&&(new mfe(s),new pfe(s),yfe.bootstrap(),Xfe.bootstrap(),Kfe.bootstrap(),s.setTarget(n.value),window.olMap=s)}),Vn(()=>{n.value&&t.value&&setTimeout(()=>{i.resize()},1e3)}),mx("olMap",s),(h,f)=>(ne(),xe("div",{id:"map-container","data-cy":"mapContainer",ref_key:"mapContainer",ref:n,class:"h-full w-full bg-white relative"},[ct(nge),ct(oge,{extent:c}),V(t)?Ze("",!0):(ne(),xe(sa,{key:0},[ct(ige),ct(Qfe),h.v4_standalone?(ne(),ga(age,{key:0})):Ze("",!0),ct(ege),ct(rge)],64))],512))}});function Sge(a,e){var t,i;return a.children&&!e.children||((t=e.children)==null?void 0:t.length)===0?1:e.children&&!a.children||((i=a.children)==null?void 0:i.length)===0?-1:0}function JP(a,e,t=0){const{name:i="",type:n=ku.WMS,children:s}=a,r=`${n}||${e}||${i}`.split("-").join("%2D"),l=on();return{id:r,name:i,depth:t,children:s==null?void 0:s.sort(Sge).map(c=>JP(c,e,t+1)),checked:l.hasLayer(r),expanded:!1}}function Tge(a){const e=decodeURIComponent(a),[t,i,n]=e.split("||");return eD({id:e,url:f0.getProxyfiedUrl(i),remoteLayer:{name:n,type:t}})}function eD({id:a,url:e,remoteLayer:t}){const{name:i="",type:n=ku.WMS}=t;return{id:a,name:i,layers:i,url:e,type:n,imageType:uR.PNG}}const Ege={class:"relative text-center","data-cy":"remoteLayerModalContent"},Mge=["placeholder","value"],Lge={key:0,class:"text-center"},Age={class:"lux-label"},Cge={key:1,class:"text-center"},Ige={class:"lux-label"},Rge={key:2,class:"text-center"},Oge={key:3,class:"overflow-auto max-h-[calc(400px-36px)]"},kge=ft({__name:"remote-layers",setup(a){const{t:e}=ma(),t=on(),i=qo(),n=Li([]),s=Li(),{remoteLayersOpen:r}=Gt(fi()),{setRemoteLayersOpen:l}=fi();let c=!1,h,f,v;Vn(b);function b(){s.value=s.value?nf.updateLayers(s.value,t.layers):void 0}g0.fetchRemoteWmsEndpoint().then(W=>{n.value=W.map(({url:Z,label:ae})=>({label:ae,value:Z}))});async function T(W){c=!0,v=await g0.getRemoteEndpoint(W).catch(()=>alert(e("Impossible de contacter ce WMS",{ns:"client"}))),f=W,c=!1}async function M(){const W=v,Z=W==null?void 0:W.getLayers();if(Z&&Z[0]){const ae=JP(Z[0],f);s.value=nf.updateLayers(ae,t.layers)}}async function I(W){f=h=W,await T(f),M()}function R(W){h=W.target.value}async function P(){await T(h),M()}function F(W){s.value=nf.toggleNode(W.id,s.value,"expanded")}function B(W){const{id:Z,name:ae}=W,he=v;if(W.checked===!0)t.removeLayers(Z);else{const _e=he==null?void 0:he.getLayerByName(ae);if(_e){const ie=i.initLayer(eD({id:Z,url:f0.getProxyfiedUrl(f),remoteLayer:_e}));t.addLayers(ie)}}}return(W,Z)=>V(r)?(ne(),ga(OP,{key:0,title:V(e)("Add external data",{ns:"client"}),onClose:Z[0]||(Z[0]=ae=>V(l)(!1))},{content:Xa(()=>{var ae,he;return[$("div",Ege,[ct(f2,{class:"lux-remote-services-dropdown",options:n.value,placeholder:V(e)("Predefined wms",{ns:"client"}),onChange:I},null,8,["options","placeholder"]),$("input",{class:"lux-input w-[300px]",type:"url",placeholder:V(e)("Choose or write a WMS url",{ns:"client"}),value:V(f)||"",onChange:R},null,40,Mge),$("button",{type:"button",class:"lux-btn",onClick:P},De(V(e)("Get the layers",{ns:"client"})),1)]),!V(c)&&V(v)?(ne(),xe("div",Lge,[$("span",Age,De(V(e)("Description du service :",{ns:"client"})),1),xr(" "+De((ae=V(v).getServiceInfo())==null?void 0:ae.abstract),1)])):Ze("",!0),!V(c)&&V(v)?(ne(),xe("div",Cge,[$("span",Ige,De(V(e)("Access constraints :",{ns:"client"})),1),xr(" "+De((he=V(v).getServiceInfo())==null?void 0:he.constraints),1)])):Ze("",!0),V(c)?(ne(),xe("div",Rge,[Z[1]||(Z[1]=$("div",{class:"fa fa-refresh fa-spin"},null,-1)),$("span",null,De(V(e)("Chargement des informations",{ns:"client"})),1)])):Ze("",!0),V(c)?Ze("",!0):(ne(),xe("div",Oge,[s.value?(ne(),ga(u3,{key:0,class:"block p-[10px] mb-[11px]",node:s.value,onToggleParent:F,onToggleLayer:B},null,8,["node"])):Ze("",!0)]))]}),_:1},8,["title"])):Ze("",!0)}});class Pge{bootstrap(){let e;e=Vn(()=>{this.restore(),this.persist(),e&&e()})}persist(){const e=J2();Vt([()=>e.sliderActive,()=>e.sliderRatio],([t,i],[n])=>{t!==n&&wa.setValue(DT,t),wa.setValue(FT,i)})}restore(){const e=wa.getValue(DT,r5),t=wa.getValue(FT,P_),{toggleSlider:i,setRatio:n}=J2();typeof e<"u"&&e!==null&&(i(e),typeof t!==void 0&&t!==null&&n(t??ZP))}}const Dge=new Pge,Fge=["onKeydown"],Nge={key:0,"data-cy":"sliderLayerLabel",class:"lux-slider-layer-label"},IC=30,Wge=ft({__name:"splitter-element",props:{sliderActive:{type:Boolean},sliderRatio:{},sliderTopLayer:{},sliderOffset:{},containerOffset:{}},emits:["moveSplitBar","escSplitBar"],setup(a,{expose:e,emit:t}){const i=a,n=t,{t:s}=ma(),r=$e(null),l=Pt(()=>({left:`${i.sliderOffset}px`}));let c=!1;e({sliderElement:r});function h(R){n("moveSplitBar",R+r.value.offsetWidth/2)}function f(){c=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",b)}function v(R){c&&h(R.clientX)}function b(){c=!1,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b)}function T(){const R=i.containerOffset+r.value.offsetLeft;h(R+IC)}function M(){const R=i.containerOffset+r.value.offsetLeft;h(R-IC)}function I(){n("escSplitBar")}return jn(()=>{var R;(R=r.value)==null||R.focus({focusVisible:!0})}),Os(()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b)}),(R,P)=>(ne(),xe("button",{ref_key:"sliderElement",ref:r,onMousedown:f,onMousemove:v,onMouseup:b,onKeydown:[Ol(Rl(T,["stop"]),["space"]),Ol(Rl(T,["stop"]),["right"]),Ol(Rl(M,["stop"]),["left"]),Ol(Rl(M,["stop"]),["delete"]),Ol(Rl(I,["stop"]),["esc"])],class:"left-[20px] absolute h-full w-[32px] block",style:vh(l.value),role:"seperator","aria-controls":"map-container","data-cy":"sliderElement"},[P[1]||(P[1]=$("span",{class:"lux-slider-line"},null,-1)),P[2]||(P[2]=$("span",{class:"lux-slider-arrows"},[$("span"),$("span")],-1)),R.sliderTopLayer?(ne(),xe("span",Nge,[P[0]||(P[0]=$("i",{class:"fa fa-arrow-left mr-2"},null,-1)),$("span",null,De(V(s)(R.sliderTopLayer.name)),1)])):Ze("",!0)],44,Fge))}}),zge=ft({__name:"slider-comparator",setup(a){const e=J2(),t=x5(),i=Hi().olMap,n=$e(null),{sliderActive:s,sliderRatio:r,sliderTopLayer:l}=Gt(e),c=Pt(()=>{var W,Z;return((Z=(W=n.value)==null?void 0:W.sliderElement)==null?void 0:Z.offsetWidth)||0}),h=$e([0,0]),f=function(){var Z,ae,he;let W=(he=(ae=(Z=i.value)==null?void 0:Z.getViewport())==null?void 0:ae.parentElement)==null?void 0:he.offsetLeft;return(W===void 0||W===0)&&(W=I==null?void 0:I.offsetLeft),W!==void 0?W:0},v=Pt(()=>{var W,Z;return i.value&&n.value?r.value*h.value[0]-((Z=(W=n.value)==null?void 0:W.sliderElement)==null?void 0:Z.offsetWidth)/2:0});let b,T,M,I;Dge.bootstrap(),Vt([l,s],([W,Z],[ae])=>{var he;W&&Z?(W!==ae&&P(),R()):P(),(he=i.value)==null||he.render()}),Vt(v,()=>{var W;(W=i.value)==null||W.render()});function R(){var Z;const W=t.getLayerFromCache(l.value);h.value=(Z=i.value)==null?void 0:Z.getSize(),W&&(b=W.on(Ru.PRERENDER,function(ae){const he=ae.context,_e=v.value+c.value/2,ie=Vv(ae,[0,0]),me=Vv(ae,[_e,0]),fe=Vv(ae,[0,h.value[1]]),be=Vv(ae,[_e,h.value[1]]);he.save(),he.beginPath(),he.moveTo(ie[0],ie[1]),he.lineTo(fe[0],fe[1]),he.lineTo(be[0],be[1]),he.lineTo(me[0],me[1]),he.closePath(),he.clip()}),T=W.on(Ru.POSTRENDER,function(ae){ae.context.restore()}),M=i==null?void 0:i.value.on("change:size",()=>{var ae;h.value=(ae=i.value)==null?void 0:ae.getSize()}))}function P(){nE([b,T,M])}function F(W){var he;const Z=(he=i.value)==null?void 0:he.getSize(),ae=(W-f())/Z[0];e.setRatio(ae)}function B(){e.toggleSlider()}return jn(()=>{var W,Z;I=(Z=(W=i.value)==null?void 0:W.getTargetElement())==null?void 0:Z.closest(".map-wrapper")}),Os(()=>{P()}),(W,Z)=>V(l)&&V(s)?(ne(),ga(Wge,{key:0,ref_key:"splitterElement",ref:n,sliderActive:V(s),sliderRatio:V(r),sliderTopLayer:V(l),sliderOffset:v.value,containerOffset:f(),onMoveSplitBar:F,onEscSplitBar:B},null,8,["sliderActive","sliderRatio","sliderTopLayer","sliderOffset","containerOffset"])):Ze("",!0)}}),Bge=ft({__name:"simple-style-item",props:{styleName:{},colors:{}},setup(a){const e=a;return(t,i)=>(ne(!0),xe(sa,null,Cn(e.colors,(n,s)=>(ne(),xe("span",{key:`${t.styleName}-${s}`,class:"grow m-px",style:vh(`background-color: ${n}`)},"   ",4))),128))}}),Gge={class:"text-white border-2 p-[10px] m-[10px]"},qge={class:"text-center mb-3"},Uge=["title"],Vge={class:"text-white"},jge=["title","onClick"],Hge={class:"flex"},Zge=ft({__name:"simple-style-selector",setup(a){const{t:e}=ma(),t=Wl(),i=Oh(),{bgStyle:n}=Gt(t),s=Bc().simple_styles.road,r=$e(s);Vt(n,c=>r.value=i.checkSelection(c||[],s),{immediate:!0});function l(c){t.setSimpleStyle(c)}return(c,h)=>(ne(),xe("div",Gge,[$("h5",qge,De(V(e)("Sélectionner un set de couleurs",{ns:"client"})),1),(ne(!0),xe(sa,null,Cn(r.value,f=>(ne(),xe("div",{key:f.unlocalized_label,title:V(e)(f.unlocalized_label,{ns:"client"}),class:ei(`${f.selected?"border-dotted":"border-hidden"} border-2 p-px`)},[$("span",Vge,De(V(e)(f.unlocalized_label,{ns:"client"}))+" : ",1),$("button",{title:V(e)("Select style: {{styleName}}",{ns:"app",styleName:V(e)(f.unlocalized_label)}),onClick:v=>l(f),class:"w-full"},[$("span",Hge,[ct(Bge,{colors:f.colors,"style-name":f.unlocalized_label},null,8,["colors","style-name"])])],8,jge)],10,Uge))),128))]))}});function Xge(a){const e=Yge(a);return!e||!e.medium_style_class?[]:Bc().medium_default_styles[e.medium_style_class]}function Yge(a){return Bc().bg_layers.find(e=>e.id==(a==null?void 0:a.id))}const Kge={class:"flex w-full items-center"},$ge={for:"colorId",class:"w-40 m-0 font-medium"},Qge={class:"grow"},Jge=["value"],eye=["checked","aria-label"],tye=ft({__name:"medium-style-item",props:{style:{},colorEditable:{type:Boolean}},emits:["changeStyle"],setup(a,{emit:e}){const{t}=ma(),i=a,n=e;function s(l){if(l.target){const c={...i.style,color:l.target.value};n("changeStyle",c)}}function r(l){if(l){const c={...i.style,visible:l.target.checked};n("changeStyle",c)}}return(l,c)=>(ne(),xe("div",Kge,[$("label",$ge,De(V(t)(l.style.label)),1),$("div",Qge,[l.colorEditable&&i.style.color?(ne(),xe("input",{key:0,id:"colorId",type:"color",class:"w-11 h-5 py-[1px] px-[2px]",value:i.style.color,onInput:s},null,40,Jge)):Ze("",!0)]),$("input",{type:"checkbox",class:"flex-none mr-3",checked:i.style.visible,onChange:r,"aria-label":V(t)("Show or hide {{thematicName}}",{ns:"app",thematicName:i.style.label})},null,40,eye)]))}}),aye={class:"text-white border-2 p-[10px] m-[10px]"},iye={class:"text-center mb-3"},nye=ft({__name:"medium-style-selector",props:{layer:{}},setup(a){const e=["basemap_2015_global"],t=Wl(),{bgStyle:i}=Gt(t),{t:n}=ma(),s=a,r=Pt(()=>e.includes(s.layer.name)),l=Pt(()=>i.value||Xge(s.layer));function c(h,f){i.value=l.value.map((v,b)=>b===h?f:v),t.disableExpertStyle()}return(h,f)=>(ne(),xe("div",aye,[$("h5",iye,De(r.value?V(n)("Sélectionner une couleur par couche"):V(n)("Afficher une catégorie par couche")),1),(ne(!0),xe(sa,null,Cn(l.value,(v,b)=>(ne(),ga(tye,{key:v.label,style:vh(v),onChangeStyle:T=>c(b,T),colorEditable:r.value},null,8,["style","onChangeStyle","colorEditable"]))),128))]))}});var tD={exports:{}};(function(a,e){(function(t,i){i()})(Ep,function(){function t(h,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function i(h,f,v){var b=new XMLHttpRequest;b.open("GET",h),b.responseType="blob",b.onload=function(){c(b.response,f,v)},b.onerror=function(){console.error("could not download file")},b.send()}function n(h){var f=new XMLHttpRequest;f.open("HEAD",h,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(f)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ep=="object"&&Ep.global===Ep?Ep:void 0,l=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(h,f,v){var b=r.URL||r.webkitURL,T=document.createElement("a");f=f||h.name||"download",T.download=f,T.rel="noopener",typeof h=="string"?(T.href=h,T.origin===location.origin?s(T):n(T.href)?i(h,f,v):s(T,T.target="_blank")):(T.href=b.createObjectURL(h),setTimeout(function(){b.revokeObjectURL(T.href)},4e4),setTimeout(function(){s(T)},0))}:"msSaveOrOpenBlob"in navigator?function(h,f,v){if(f=f||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,v),f);else if(n(h))i(h,f,v);else{var b=document.createElement("a");b.href=h,b.target="_blank",setTimeout(function(){s(b)})}}:function(h,f,v,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof h=="string")return i(h,f,v);var T=h.type==="application/octet-stream",M=/constructor/i.test(r.HTMLElement)||r.safari,I=/CriOS\/[\d]+/.test(navigator.userAgent);if((I||T&&M||l)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var B=R.result;B=I?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=B:location=B,b=null},R.readAsDataURL(h)}else{var P=r.URL||r.webkitURL,F=P.createObjectURL(h);b?b.location=F:location.href=F,b=null,setTimeout(function(){P.revokeObjectURL(F)},4e4)}});r.saveAs=c.saveAs=c,a.exports=c})})(tD);var rye=tD.exports;const sye={class:"text-white border-2 p-[10px] m-[10px] flex flex-col overflow-hidden"},oye={class:"text-center mb-3"},lye={class:"flex flex-row justify-center"},uye={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium text-white"},cye={class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] text-sm hover:bg-secondary"},dye={class:"'block z-[5] w-full h-full cursor-pointer after:absolute after:pt-[15px] after:px-[15px] after:w-full after:text-center after:content-upload",for:"uploadMvtStyle"},hye={class:"absolute top-[70px] w-full text-center text-base leading-3 font-medium"},_ye=["href"],mye=ft({__name:"expert-style-selector",setup(a){const e=on(),t=Wl(),i=Oh(),{appliedStyle:n}=Gt(t),{t:s}=ma();function r(){const h=n.value,f=JSON.stringify(h),v=new Blob([f],{type:"text/plain;charset=utf-8"}),b="styles.json";rye.saveAs(v,b)}function l(h){const f=h.target.files;if((f==null?void 0:f.length)!==1)return;const v=f[0];v.type==="application/json"&&(v.text().then(b=>{t.enableExpertStyle(),n.value=JSON.parse(b)}),h.target.value="")}function c(){return t.styleSerial===null?i.getDefaultMapBoxStyleUrl(i.getVectorId(e.bgLayer)):`${hy.mvtStylesGetUrl}?id=${t.styleSerial}`}return(h,f)=>(ne(),xe("div",sye,[$("h5",oye,De(V(s)("Lancer éditeur externe ou importer json")),1),$("div",lye,[$("a",{href:"#",class:"text-white border-2 relative h-[100px] w-[85px] mx-[10px] my-0 mb-[15px] z-5 text-sm after:absolute after:left-[20px] after:top-[10px] after:z-4 after:w-[3.6em] after:text-center after:content-download hover:bg-secondary",onClick:f[0]||(f[0]=v=>r())},[$("span",uye,De(V(s)("Download style")),1)]),$("div",cye,[$("label",dye,[$("span",hye,De(V(s)("Upload style")),1)]),$("input",{class:"invisible",type:"file",name:"uploadMvtStyle",id:"uploadMvtStyle",onChange:l},null,32)])]),$("a",{href:`https://maputnik.github.io/editor/?style=${c()}`,target:"_blank",class:"lux-btn text-center"},De(V(s)("Open Maputnik editor")),9,_ye)]))}}),pye={key:0,class:"lux","data-cy":"styleSelector"},fye={key:0,class:"mb-px"},gye={key:1,class:"mb-px"},yye={key:2,class:"mb-px"},vye=ft({__name:"style-selector",setup(a){const{t:e}=ma(),t=on(),i=fi(),n=Wl(),{bgStyle:s,isExpertStyleActive:r}=Gt(n),{bgLayer:l}=Gt(t),{styleEditorOpenedSection:c}=Gt(i),h=Oh(),f=Pt(()=>h.getStyleCapabilitiesFromLayer(l.value)),v=Pt(()=>f.value.styleEditors);Vt(l,I=>{h.isLayerStyleEditable(I)?b():i.closeStyleEditorPanel()}),jn(()=>{b()});function b(){(!c.value||!v.value.includes(c.value))&&(c.value=v.value[0])}function T(){n.setStyle(null)}function M(I){c.value=c.value===I?void 0:I}return(I,R)=>f.value.isEditable?(ne(),xe("div",pye,[v.value.includes(V(Fo).simpleStyle)?(ne(),xe("div",fye,[ct(Tb,{title:V(e)("Simple"),expanded:V(c)===V(Fo).simpleStyle,onTogglePanel:R[0]||(R[0]=()=>M(V(Fo).simpleStyle))},{default:Xa(()=>[ct(Zge)]),_:1},8,["title","expanded"])])):Ze("",!0),v.value.includes(V(Fo).mediumStyle)?(ne(),xe("div",gye,[ct(Tb,{title:V(e)("Medium"),expanded:V(c)===V(Fo).mediumStyle,onTogglePanel:R[1]||(R[1]=()=>M(V(Fo).mediumStyle))},{default:Xa(()=>[V(l)?(ne(),ga(nye,{key:0,layer:V(l)},null,8,["layer"])):Ze("",!0)]),_:1},8,["title","expanded"])])):Ze("",!0),v.value.includes(V(Fo).advancedStyle)?(ne(),xe("div",yye,[ct(Tb,{title:V(e)("Expert (style.json)"),expanded:V(c)===V(Fo).advancedStyle,onTogglePanel:R[2]||(R[2]=()=>M(V(Fo).advancedStyle))},{default:Xa(()=>[V(l)?(ne(),ga(mye,{key:0,layer:V(l)},null,8,["layer"])):Ze("",!0)]),_:1},8,["title","expanded"])])):Ze("",!0),V(s)||V(r)?(ne(),xe("button",{key:3,onClick:T,class:"lux-btn my-2"},De(V(e)("Réinitialiser style",{ns:"client"})),1)):Ze("",!0)])):Ze("",!0)}}),bye=ft({__name:"style-panel",setup(a){const{t:e}=ma(),t=fi();return(i,n)=>(ne(),ga(X0,{"data-cy-value":"stylePanel","close-fn":V(t).closeStyleEditorPanel},{header:Xa(()=>[$("h1",null,De(V(e)("Vector tiles editor",{ns:"client"})),1)]),content:Xa(()=>[ct(vye)]),_:1},8,["close-fn"]))}});class xye{bootstrap(){this.restore();let e;e=Vn(()=>{this.persist(),e&&e()})}persist(){this.persistLayersOpen()}persistLayersOpen(){const e=fi(),{layersOpen:t}=Gt(e);Vt(t,(i,n)=>{n!==i&&wa.setValue(L2,i)},{immediate:!0})}restore(){this.restoreLayersOpen(),this.restoreEmbeddedMode(),this.restoreIsAppMode()}restoreEmbeddedMode(){const e=wa.getValue(Jte),t=e!==null&&e!=="false",{embedded:i}=Gt(fi());i.value=t}restoreLayersOpen(){const e=wa.getValue(L2)!=="false",{setLayersOpen:t}=fi();t(e)}restoreIsAppMode(){const{setIsApp:e}=fi(),t=wa.getValue(gh)==="android"||wa.getValue(gh)==="ios"||wa.getValue(cm)==="yes";e(t)}}const wye=new xye,eb="-",T4=",",RC="--";class Sye{constructor(){Sa(this,"layersOpacitiesToNumbersV2",e=>this.layersOpacitiesToNumbers(e,T4))}layerTimesToStrings(e){return e?e.split(RC):[]}layerIdsToLayers(e){const t=zc(),i=qo();return(e?e.split(eb):[]).map(s=>{const r=g0.isRemoteLayer(s)?Tge(s):t.findById(parseInt(s,10));return r?i.initLayer(r):void 0}).reverse()}layerNamesToLayersV2(e){const t=zc(),i=qo();return(e?e.split(T4):[]).map(s=>{const r=t.findByName(s);return r?i.initLayer(r):void 0}).reverse()}layersOpacitiesToNumbers(e,t=eb){return nae(e,t).reverse()}layersVisibilitiesToBooleansV2(e){return rae(e,T4)}layersToLayerIds(e){return(e==null?void 0:e.map(t=>t.id).reverse().join(eb))||""}layersToLayerOpacities(e){return(e==null?void 0:e.map(t=>t.opacity??1).reverse().join(eb))||""}layersToLayerTimes(e){return(e==null?void 0:e.map(t=>qo().getLayerCurrentTime(t)??"").reverse().join(RC))||""}bgLayerNameToBgLayer(e){const t=zc();return e?t.findBgLayerByName(e):null}bgLayerToBgLayerName(e){return(e==null?void 0:e.name)||Z2.name}}const No=new Sye,Tye="basemap_2015_global",Eye="orthogr_2013_global",Mye={webbasemap:"basemap_2015_global","pixelmaps-color":"topogr_global","pixelmaps-gray":"topo_bw_jpeg",streets:"streets_jpeg",voidlayer:"blank"};class Lye{bootstrap(){const e=us();let t;t=Vn(()=>{e.bgLayers.length>0&&(this.restore(),this.persist(),t&&t())})}persist(){const e=on(),{bgLayer:t}=Gt(e);Vt(t,(i,n)=>{n!==i&&wa.setValue(wA,i,No.bgLayerToBgLayerName)},{immediate:!0})}restore(){const{setMapBackground:e}=RP(),t=this.getBgLayerFromStorage();e(t)}getBgLayerFromStorage(){const e=wa.getInitialVersion(),t=wa.getValue(wA);return t?e===2?this.getBgLayerFromStorageV2(t):No.bgLayerNameToBgLayer(t):No.bgLayerNameToBgLayer(Tye)}getBgLayerFromStorageV2(e){const t=wa.getValue(kO,P_);let i="";return e?i=Mye[e]:t===0&&(i=Eye),No.bgLayerNameToBgLayer(i)}}const Aye=new Lye;class Cye{bootstrap(){const e=us();let t;t=Vn(()=>{e.themes&&(this.restore(),this.persist(),t&&t())})}persist(){const e=on(),{layers:t}=Gt(e);Vt(t,(i,n)=>{n!==i&&(wa.setValue(xA,i,No.layersToLayerIds),wa.setValue(SA,i,No.layersToLayerOpacities),wa.setValue(TA,i,No.layersToLayerTimes))},{immediate:!0})}restore(){const e=wa.getInitialVersion(),t=on(),i=wa.getValue(xA,e===2?No.layerNamesToLayersV2:No.layerIdsToLayers);this.restoreLayersOpacities(i,e),this.restoreLayersTimes(i),e===2&&(wa.removeItem(kO),wa.removeItem(aae),wa.removeItem(LA),wa.removeItem(AA)),t.addLayers(...(i==null?void 0:i.filter(n=>n))||[])}restoreLayersOpacities(e,t){const i=t===2?this.getOpacitiesFromStorageV2():this.getOpacitiesFromStorage();i.length&&(e==null||e.forEach((n,s)=>n&&(n.opacity=i[s]??1)))}restoreLayersTimes(e){const t=wa.getValue(TA,No.layerTimesToStrings);t.length&&(e==null||e.forEach((i,n)=>i&&t[n]&&this.restoreLayerTime(i,t[n])))}restoreLayerTime(e,t){const i=t.split("/");e.currentTimeMinValue=i[0],e.currentTimeMaxValue=i[1]}getOpacitiesFromStorage(){return wa.getValue(SA,No.layersOpacitiesToNumbers)}getOpacitiesFromStorageV2(){const e=wa.getValue(LA,No.layersOpacitiesToNumbersV2),t=wa.getValue(AA,No.layersVisibilitiesToBooleansV2);return e.map((i,n)=>t[n]?i:0).reverse()}}const Iye=new Cye;class Rye{bootstrap(){this.restore();let e;e=Vn(()=>{this.persist(),e&&e()})}persist(){}restore(){const e=wa.getValue(eae);fi().setMapId(e)}}const Oye=new Rye;class kye{themeToThemeName(e){return(e==null?void 0:e.name)||""}}const Pye=new kye;class Dye{bootstrap(){this.restore();let e;e=Vn(()=>{this.persist(),e&&e()})}persist(){const e=us();Vt(()=>e.theme,(t,i)=>{i!==t&&t&&wa.setValue(y0,t,Pye.themeToThemeName)},{immediate:!0})}restore(){const e=wa.getValue(y0);if(e){const{setTheme:t}=us();t(e)}}}const Fye=new Dye;sR();class Nye extends IP{constructor(){super(...arguments);Sa(this,"geojsonFormatCustom",new dm)}encodeVectorStylePoint(t,i,n){let s;n instanceof _l?s=this.encodeVectorStylePointStyleCircle(t,n):n instanceof Ul?s=this.encodeVectorStylePointStyleIcon(t,n):n instanceof Oc&&(s=this.encodeVectorStylePointRegularShape(t,n)),s&&(this.customizer_.point(this.layerState_,t,s,n),i.push(s))}encodeVectorStylePointRegularShape(t,i){const n={type:"point"},s=i.getPoints(),r=i.getAngle();s===4&&r!==0?n.graphicName="square":s===4&&r===0?n.graphicName="cross":s===3?n.graphicName="triangle":s===5?n.graphicName="star":s===8&&(n.graphicName="cross");const l=i.getOpacity();l!==null&&(n.graphicOpacity=l);const c=i.getSize();if(c!==null){let b=i.getScale();Array.isArray(b)&&(b=(b[0]+b[1])/2),isNaN(b)&&(b=1),n.graphicWidth=c[1]*b}let h=i.getRotation();isNaN(h)&&(h=0),n.rotation=t0(h);const f=i.getFill(),v=i.getStroke();return f!==null&&this.encodeVectorStyleFill(t,n,f),v!==null&&this.encodeVectorStyleStroke(t,n,v),n!==void 0&&n.graphicName==="cross"&&(n.strokeWidth=0,n.fillOpacity=1),n}encodeVectorStylePointStyleIcon(t,i){const n=i.getSrc();if(n===void 0)return;const s={type:"point",externalGraphic:n},r=i.getOpacity();r!==null&&(s.graphicOpacity=r);const l=i.getSize();if(l!==null){let h=i.getScale();Array.isArray(h)&&(h=(h[0]+h[1])/2),isNaN(h)&&(h=1);const f=l[0]*h,v=l[1]*h;s.graphicWidth=v,this.addGraphicOffset_(s,i,f,v)}let c=i.getRotation();return isNaN(c)&&(c=0),s.rotation=t0(c),s.labelAlign&&(s.labelAlign="lm"),s.externalGraphic&&(s.graphicFormat="image/png",s.externalGraphic.indexOf("scale=")>0?delete s.graphicWidth:s.externalGraphic.indexOf("getarrow")>0&&(s.graphicWidth=10)),s}}const OC=127;class Wye extends rhe{async encodeLayerState(e,t,i){let n;const s=e.layer;if(s instanceof OE)n=this.encodeXYZLayer_(s.getXYZ());else if(s instanceof hl){n=new Nye(e,i).encodeVectorLayer(t);const r=e.layer.get("renderAsSvg");r!==void 0&&(n.renderAsSvg=r)}else n=await super.encodeLayerState(e,t,i);return Array.isArray(n)?n=n.map(r=>this.legacyMFPAppendCustomParams(s,r)):n&&(n=this.legacyMFPAppendCustomParams(s,n)),n}legacyMFPAppendCustomParams(e,t){return t?{...t,...e instanceof hl?{}:{customParams:{TRANSPARENT:!0,MAP_RESOLUTION:OC}}}:null}encodeXYZLayer_(e){const t=e.indexOf("/{z}/{x}/{y}"),i=e.lastIndexOf(".");if(t===-1||i===-1)return;const n=e.substring(0,t),s=e.substring(i+1),r=n.substring(n.lastIndexOf("/styles/")+8);return r==="topomap"||r==="roadmap"||r==="topomap_gray"?{baseURL:"https://wms.geoportail.lu/vectortiles_wms_4_print/service",imageFormat:"image/"+s,layers:[r],customParams:{TRANSPARENT:!0,MAP_RESOLUTION:OC},type:"wms",opacity:1,version:"1.1.1",useNativeAngle:!0}:{baseURL:n,type:"OSM",imageExtension:s}}}const Qg="https://migration.geoportail.lu",zye="https://migration.geoportail.lu/legends/get_html",Bye="https://migration.geoportail.lu/short/create",kC="https://migration.geoportail.lu/printproxy",Gye="https://migration.geoportail.lu/qr",qye=[1500,2500,5e3,1e4,15e3,2e4,25e3,5e4,8e4,1e5,125e3,2e5,25e4,4e5],E4=[[715,395],[470,650],[1065,640],[715,975],[1558,985],[1064,1475],[2255,1482],[1558,2175],[3241,2173],[2254,3155]],M4=["A4 landscape","A4 portrait","A3 landscape","A3 portrait","A2 landscape","A2 portrait","A1 landscape","A1 portrait","A0 landscape","A0 portrait"],PC=127,Uye=(a,e,t)=>Math.round(e/o3/s3*a/t);class Vye{getScales(){var t,i;const e=(t=us().theme)==null?void 0:t.metadata;return((i=e==null?void 0:e.print_scales)==null?void 0:i.map(n=>+n).sort((n,s)=>n-s))||qye}getLayouts(){return M4}async print(e,t){const i=`${kC}/report.${t.toLocaleLowerCase()||"pdf"}`,s=await(await fetch(i,{method:"POST",body:JSON.stringify(e)})).json(),r=Qg+s.statusURL.replace(/print/,"printproxy");return{downloadURL:Qg+s.downloadURL.replace(/print/,"printproxy"),ref:s.ref,statusURL:r}}cancel(e){return fetch(`${kC}/cancel/${e}`,{method:"DELETE"})}async getJobStatus(e){const t=await(await fetch(e)).json();return t.downloadURL&&(t.downloadURL=Qg+t.downloadURL.replace(/print/,"printproxy")),t}async getSpec(e,t){const i=new Wye(Qg),n=new Bde,s=await this.getShortLink(),r=await i.encodeMap({map:t,scale:e.scale,printResolution:t.getView().getResolution(),dpi:PC,customizer:n});r.layers=r.layers.filter(f=>f!==null);const l=await this.getLegends(t.getLayers().getArray(),e.lang),c=[];return aD(t.getLayerGroup(),c,e.framestate),{attributes:{map:r,disclaimer:e.disclaimer,scaleTitle:e.scaleTitle,appTitle:e.appTitle,scale:e.scale,name:e.title,url:s,qrimage:`${Gye}?url=${s}`,lang:e.lang,legend:e.legend?l:null,scalebar:{geodetic:!0},dataOwner:[...new Set(c)].join(" "),dateText:e.dateText,queryResults:e.queryResults},format:e.format.toLowerCase(),layout:e.layout}}getLayersForPrint(e){return e.getLayers().getArray().filter(i=>i.get(YT)!==Qk)}getSize(e){return E4[M4.indexOf(e)]}getNearestScale(e,t,i){const n=this.getScales(),s=E4[M4.indexOf(t)][0]||E4[0][0];return n.reverse().find(r=>Uye(r,s,i)<e)||n[0]}async getShortLink(){const t={url:Qg+zO.getRelativeUrl()};return(await(await Gf(Bye,t,"POST")).json()).short_url}async getLegends(e,t){const i=[];let n=PC;const s=zye;return e.reverse().forEach(r=>{const l=r.get("metadata"),c=l==null?void 0:l.max_dpi;if(c!==void 0){const f=parseInt(c,10);n>f&&(n=f)}const h=l==null?void 0:l.legend_name;if(h!==void 0)i.push({name:h});else{const f=r.get("queryable_id");if(l!=null&&l.isExternalWms){const v=l==null?void 0:l.legendUrl,b=l==null?void 0:l.legendAccessConstraints,T=l==null?void 0:l.legendTitle;v!==void 0&&i.push({name:null,legendUrl:v,accessConstraints:b,legendTitle:T})}else if(f!==void 0){const v=new URLSearchParams({lang:t,id:f,dpi:n.toString(),legend_title:r.get("label")});i.push({name:r.get("label"),restUrl:s+"?"+v.toString(),legendTitle:r.get("label")})}}}),i}}function aD(a,e,t){var i,n;if(a instanceof Mh)a.getLayers().forEach(s=>aD(s,e,t));else{const s=(i=a.getSource())==null?void 0:i.getAttributions(),r=(n=a.get("metadata"))==null?void 0:n.attribution,l=[];s&&l.push(...s(t)),r&&l.push(r),e.push(...l)}}const Jd=new Vye,jye=1e3;function Hye(a){return typeof a=="number"&&a>=400&&a<=500||a==="error"}function Zye(){const a=$e(null),e=$e(null),t=$e(!1),i=$e(!1);let n=null;const s=async c=>{try{const{status:h,done:f,downloadURL:v}=await Jd.getJobStatus(c);a.value=h,Hye(h)&&(t.value=!0,l()),h==="finished"&&f&&v&&(e.value=v,l())}catch{l()}},r=(c,h=jye)=>{t.value=!1,l(),i.value=!0,n=window.setInterval(()=>s(c),h)},l=()=>{n!==null&&(clearInterval(n),n=null),a.value=null,i.value=!1,t.value=!1};return Os(()=>l()),{jobStatus:a,url:e,startPolling:r,clearPolling:l,error:t,loading:i}}function Xye(){const{t:a}=ma(),{featureInfoPrintableRef:e,locationInfoPrintableRef:t}=Gt(D5()),{locationInfoCoords:i}=Gt(Kc()),{startPolling:n,clearPolling:s,url:r,error:l,loading:c}=Zye(),h=Hi().getOlMap(),f=$e(null);async function v(P){const F=b(),B={disclaimer:a(`www.geoportail.lu est un portail d'accès aux informations géolocalisées, données et services qui sont mis à disposition par les administrations publiques luxembourgeoises. Responsabilité: Malgré la grande attention qu’elles portent à la justesse des informations diffusées sur ce site, les autorités ne peuvent endosser aucune responsabilité quant à la fidélité, à l’exactitude, à l’actualité, à la fiabilité et à l’intégralité de ces informations. Information dépourvue de foi publique. 
Droits d'auteur: Administration du Cadastre et de la Topographie. http://g-o.lu/copyright`),scaleTitle:a("Echelle approximative 1:"),appTitle:a("Le géoportail national du Grand-Duché du Luxembourg",{ns:"app"}),dateText:a("Date d'impression:"),queryResults:F,...P},W=await Jd.getSpec(B,h);try{const Z=await Jd.print(W,P.format);f.value=Z.ref,n(Z.statusURL)}catch{f.value=null,l.value=!0,s()}}function b(){const P=M(),F=I();return`${P??""}${F??""}`||void 0}async function T(){f.value&&(await Jd.cancel(f.value),f.value=null,s())}function M(){if(!(!i.value||!t.value))return R(t.value)}function I(){if(!(i.value||!e.value))return R(e.value)}function R(P){const F=P.cloneNode(!0);return F.querySelectorAll("[data-cy], [v-]").forEach(Z=>{Z.removeAttribute("data-cy"),Z.removeAttribute("v-")}),F.querySelectorAll(".no-print").forEach(Z=>Z.remove()),F.innerHTML}return{print:v,abortPrint:T,url:r,error:l,loading:c}}var g3=(a=>(a.PDF="PDF",a.PNG="PNG",a))(g3||{});const Yye={"data-cy":"toolbarPrint"},Kye={class:"absolute bottom-full top-auto z-20 flex flex-col divide-gray-400 divide-solid box-content border-y border-x border-gray-400 bg-primary md:w-64 p-3 gap-3"},$ye={class:"md:w-full"},Qye=["placeholder"],Jye={class:"flex gap-1 items-center"},e0e=["id"],t0e=["for"],a0e={class:"flex gap-1 items-center secondary-button"},i0e={class:"md:w-1/2"},n0e={class:"md:w-1/2"},r0e={class:"flex gap-1 justify-end items-center"},s0e={key:0,"data-cy":"printLoading",class:"mr-4 flex gap-2 items-center"},o0e=["disabled"],l0e=["disabled"],u0e=2e3,c0e=ft({__name:"toolbar-print",setup(a){const{addNotification:e}=jc(),{t}=ma(),{lang:i}=fi(),{print:n,abortPrint:s,url:r,error:l,loading:c}=Xye(),h=oR();let f=null;const v=Hi().getOlMap(),b=new she({id:"mask",opacity:0});b.setZIndex(u0e);const T=$e(""),M=$e(!1),I=Pt(()=>!M.value),R=$e(""),P=Pt(()=>Jd.getLayouts().map(_e=>({label:t(_e),value:_e,ariaLabel:t("Change layout:",{ns:"app"})}))),F=_e=>{R.value=_e,B.value=_e,b.setSize(Jd.getSize(_e)),v.render()},B=$e(""),W=$e(""),Z=Pt(()=>Jd.getScales().map(_e=>({label:`1 : ${_e.toLocaleString()}`,value:_e.toString(),ariaLabel:t("Change scale:",{ns:"app"})}))),ae=_e=>{W.value=_e,b.setScale(parseInt(_e,10)),v.render()};function he(_e){n({format:_e,layout:R.value,scale:parseInt(W.value,10),resolution:v.getView().getResolution(),title:T.value,legend:M.value,lang:i,framestate:f})}return Vt(l,_e=>{_e&&e(t("An error occurred while printing"),Bu.ERROR)}),Vt(r,_e=>_e&&window.open(_e,"_blank")),jn(()=>{v.addLayer(b),b.setOpacity(.5),v.on("rendercomplete",_e=>{f=_e.frameState||null}),F(P.value[0].value),ae(Jd.getNearestScale(v.getSize()[0],R.value,v.getView().getResolution()).toString())}),Os(()=>{v.removeLayer(b),b.setOpacity(0)}),(_e,ie)=>(ne(),xe("div",Yye,[$("div",Kye,[$("div",$ye,[Ai($("input",{class:"cursor-pointer w-full p-2 lux-input",type:"text","onUpdate:modelValue":ie[0]||(ie[0]=me=>T.value=me),placeholder:V(t)("Title",{ns:"client"}),"data-cy":"printTitle"},null,8,Qye),[[Uc,T.value]])]),$("div",Jye,[Ai($("input",{id:V(h),class:"hover:cursor-pointer",type:"checkbox","onUpdate:modelValue":ie[1]||(ie[1]=me=>M.value=me),"data-cy":"printWithLegend"},null,8,e0e),[[Xz,M.value]]),$("label",{class:"font-bold block lux-text-default hover:cursor-pointer",for:V(h)},De(V(t)("Avec légende")),9,t0e)]),$("div",a0e,[$("div",i0e,[ct(f2,{"data-cy":"printLayouts",class:"w-full",options:P.value,modelValue:R.value,"onUpdate:modelValue":ie[2]||(ie[2]=me=>R.value=me),onChange:F,direction:"up"},null,8,["options","modelValue"])]),$("div",n0e,[ct(f2,{"data-cy":"printScales",class:"w-full",options:Z.value,modelValue:W.value,"onUpdate:modelValue":ie[3]||(ie[3]=me=>W.value=me),onChange:ae,direction:"up"},null,8,["options","modelValue"])])]),$("div",r0e,[V(c)?(ne(),xe("div",s0e,[ie[7]||(ie[7]=$("span",{class:"text-black fa-solid fa-arrows-rotate animate-spin","aria-hidden":"true"},null,-1)),$("button",{class:"btn btn-link opacity-75 text-white hover:underline hover:opacity-100",onClick:ie[4]||(ie[4]=me=>V(s)())},De(V(t)("Abort")),1)])):Ze("",!0),$("button",{"data-cy":"printPng",class:"bg-white disabled:opacity-75 disabled:cursor-not-allowed text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:ie[5]||(ie[5]=me=>he(V(g3).PNG)),disabled:V(c)||!I.value},De(V(t)("PNG")),9,o0e),$("button",{"data-cy":"printPdf",class:"bg-white disabled:opacity-75 disabled:cursor-not-allowed text-primary hover:bg-primary hover:text-white border border-slate-300 py-1.5 px-2.5",onClick:ie[6]||(ie[6]=me=>he(V(g3).PDF)),disabled:V(c)},De(V(t)("PDF")),9,l0e)])])]))}});const d0e=qE(c0e,[["__scopeId","data-v-1f33b197"]]),h0e={class:"flex flex-col w-12 justify-between bg-white z-5 shrink-0 sm:flex-row sm:w-full sm:h-14 sm:shadow-footer"},_0e={class:"flex flex-col w-full sm:w-80 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},m0e={"data-cy":"layersOpenClose"},p0e={"data-cy":"mymapsOpenClose"},f0e={"data-cy":"infoOpenClose"},g0e={"data-cy":"legendsOpenClose"},y0e={class:"relative flex flex-col w-12 sm:w-64 sm:flex-row justify-start text-primary divide-y sm:divide-y-0 sm:divide-x divide-gray-400 divide-solid box-content border-y sm:border-y-0 border-x border-gray-400"},v0e={class:"w-[466px] hidden sm:flex flex-row justify-end text-gray-500 whitespace-nowrap"},b0e=ft({__name:"footer-bar",setup(a){const{t:e,i18next:t}=ma(),i=fi(),n=$s(),{setLayersOpen:s,togglePrintToolbarOpen:r,toggleDrawToolbarOpen:l,toggleMyMapsOpen:c,toggleLegendsOpen:h,toggleInfoOpen:f}=i,{layersOpen:v,legendsOpen:b,drawToolbarOpen:T,measureToolbarOpen:M,styleEditorOpen:I,myMapsOpen:R,infoOpen:P,themeGridOpen:F,printToolbarOpen:B}=Gt(i),{setEditActiveState:W}=n;function Z(){const me=!v.value;s(me),me&&(I.value=!1,R.value=!1,P.value=!1),F.value=!1}Vt(T,me=>{me?(M.value=!1,B.value=!1):W(void 0)}),Vt(M,me=>{me&&(T.value=!1,B.value=!1)}),Vt(B,me=>{me&&(T.value=!1,M.value=!1)});const ae=Q_(),{displayStarOnMobile:he}=Gt(ae),{setDisplayStarOnMobile:_e}=ae;function ie(){f(),_e(!1)}return(me,fe)=>(ne(),xe("footer",h0e,[$("ul",_0e,[$("li",m0e,[ct(vc,{label:V(e)("layers",{ns:"client"}),icon:"layers",active:V(v),onClick:Z},null,8,["label","active"])]),$("li",p0e,[ct(vc,{label:V(e)("my_maps",{ns:"client"}),icon:"mymaps",active:V(R),onClick:fe[0]||(fe[0]=()=>V(c)())},null,8,["label","active"])]),$("li",f0e,[ct(vc,{label:`${V(e)("Infos",{ns:"client"})}${V(he)?"(*)":""}`,icon:"infos",active:V(P),onClick:ie},null,8,["label","active"])]),$("li",g0e,[ct(vc,{label:V(e)("Legends",{ns:"client"}),icon:"legends",active:V(b),onClick:fe[1]||(fe[1]=()=>V(h)())},null,8,["label","active"])]),$("li",null,[ct(vc,{class:"text-gray-300",label:V(e)("Routing",{ns:"client"}),icon:"routing"},null,8,["label"])])]),$("div",y0e,[V(T)?(ne(),ga(Gae,{key:0})):Ze("",!0),V(B)?(ne(),ga(d0e,{key:1})):Ze("",!0),ct(vc,{label:V(e)("Dessin",{ns:"client"}),icon:"draw",active:V(T),onClick:fe[2]||(fe[2]=()=>V(l)()),"data-cy":"drawButton"},null,8,["label","active"]),V(M)?(ne(),ga(zde,{key:2})):Ze("",!0),ct(vc,{label:V(e)("Mesurer",{ns:"client"}),active:V(M),icon:"measure",onClick:fe[3]||(fe[3]=()=>M.value=!V(M))},null,8,["label","active"]),ct(vc,{class:"hidden sm:block",label:V(e)("Imprimer",{ns:"client"}),active:V(B),onClick:fe[4]||(fe[4]=()=>V(r)()),icon:"print","data-cy":"printButton"},null,8,["label","active"]),ct(vc,{class:"text-gray-300",label:V(e)("Partager",{ns:"client"}),icon:"share"},null,8,["label"])]),$("div",v0e,[ct(Cd,{class:"hidden lg:flex text-gray-500",label:V(e)("What's new",{ns:"client"}),link:`https://geoportail.lu/${V(t).language}/questions/whats-new/`},null,8,["label","link"]),ct(Cd,{class:"hidden lg:flex text-gray-500",label:V(e)("Geocatalogue",{ns:"client"}),link:""},null,8,["label"]),ct(Cd,{class:"hidden lg:flex text-gray-500",label:V(e)("Feedback",{ns:"client"}),link:""},null,8,["label"]),ct(Cd,{class:"hidden lg:flex text-gray-500",label:V(e)("A Propos",{ns:"client"}),link:`https://www.geoportail.lu/${V(t).language}/propos/`},null,8,["label","link"]),ct(Cd,{class:"hidden lg:flex text-gray-500",label:V(e)("Aide",{ns:"client"}),link:`https://www.geoportail.lu/${V(t).language}/documentation/`},null,8,["label","link"]),ct(Cd,{class:"hidden lg:flex text-gray-500",label:V(e)("Contact",{ns:"client"}),link:`https://www.geoportail.lu/${V(t).language}/propos/contactez-nous/`},null,8,["label","link"]),ct(Cd,{class:"text-gray-500",label:V(e)("Legalites",{ns:"client"}),link:`https://www.geoportail.lu/${V(t).language}/propos/mentions-legales/`},null,8,["label","link"]),ct(Cd,{class:"text-gray-500",label:V(e)("ACT",{ns:"client"}),link:"http://www.act.public.lu/"},null,8,["label"])])]))}}),x0e={class:"lux-menu-popup"},w0e=["aria-label","aria-labelledby"],iD=ft({__name:"menu-popup",props:{items:{},direction:{},ariaLabel:{},ariaLabelledby:{}},setup(a){const e=a,t=Li(!1),i=$e(null),n=$e(null);function s(c){c.stopPropagation(),r()}function r(c){t.value=c??!t.value}function l(){r(!1)}return jn(()=>document.addEventListener("click",l)),Os(()=>document.removeEventListener("click",l)),Vt(t,c=>{if(!c)return;const h=i.value,f=n.value,v=h.getBoundingClientRect(),b=e.direction==="down"?v.bottom:v.top-f.offsetHeight;f.style.top=`${b}px`,f.style.left=`${v.left+v.width-f.offsetWidth}px`}),(c,h)=>(ne(),xe("div",x0e,[$("button",{onClick:s,ref_key:"btnElement",ref:i},[Va(c.$slots,"default")],512),(ne(),ga(dx,{to:"body"},[$("ul",{"aria-label":c.ariaLabel,"aria-labelledby":c.ariaLabelledby,class:ei(["lux-menu-popup-list",t.value?"":"invisible"]),ref_key:"ddElement",ref:n,role:"menu"},[(ne(!0),xe(sa,null,Cn(e.items,f=>(ne(),xe("li",{key:f.label},[Va(c.$slots,"item",{item:f},()=>[xr(De(f.label),1)])]))),128))],10,w0e)]))]))}}),nD=ft({__name:"menu-popup-item",props:{item:{}},emits:["click"],setup(a,{emit:e}){const t=a,i=e;function n(){i("click",t.item)}return(s,r)=>(ne(),xe("button",{class:"lux-dropdown-list-item",onClick:n},[Va(s.$slots,"default",{},()=>[xr(De(s.item.label),1)])]))}}),S0e=ft({__name:"feature-menu-popup",setup(a){const{t:e}=ma(),t=Is("feature");function i(s){O5.export(t.map,s,[t],t.label,!0)}let n=[{label:"Exporter un GPX",action:()=>i("gpx")},{label:"Exporter un KML",action:()=>i("kml")},{label:"Exporter un Shapefile",action:()=>i("shapefile")}];return(t==null?void 0:t.featureType)==="drawnLine"&&(n=[...n,{label:"Continuer la ligne",action:()=>alert("TODO: Continuer la ligne (!!!ne pas oublier de unset profileData)")},{label:"Changer sens de la ligne",action:()=>alert("TODO: Draw feature click drawingMenuOptions")}]),(t==null?void 0:t.featureType)==="drawnCircle"&&(n=[...n,{label:"Créer cercle concentrique",action:()=>alert("TODO: Draw feature click drawingMenuOptions")}]),(s,r)=>(ne(),ga(iD,{"data-cy":"featMenuPopup",items:V(n),direction:"up",ariaLabel:V(e)("Drawings menu")},{item:Xa(({item:l})=>[ct(nD,{"data-cy":"featMenuPopupItem",item:l,onClick:()=>l.action&&l.action()},{default:Xa(()=>[xr(De(V(e)(l.label)),1)]),_:2},1032,["item","onClick"])]),default:Xa(()=>[r[0]||(r[0]=$("i",{class:"fa-solid fa-square-caret-down hover:text-tertiary"},null,-1))]),_:1},8,["items","ariaLabel"]))}}),DC=ft({__name:"feature-confirm-delete",setup(a){const{t:e}=ma();return(t,i)=>(ne(),xe(sa,null,[xr(De(V(e)("Êtes-vous certain de vouloir effacer cet élément de la carte ?"))+" ",1),Va(t.$slots,"footer")],64))}}),FC=ft({__name:"feature-edit-info",setup(a){const{t:e}=ma(),t=Is("feature");return(i,n)=>(ne(),xe(sa,null,[xr(De(V(e)("Modification des informations"))+" ",1),V(t)?Ai((ne(),xe("input",{key:0,"data-cy":"featureLabelEdit",type:"text",class:"form-control block mt-2 mb-4","onUpdate:modelValue":n[0]||(n[0]=s=>V(t).label=s)},null,512)),[[Uc,V(t).label]]):Ze("",!0),V(t)?Ai((ne(),xe("textarea",{key:1,rows:"3",class:"form-control block w-full","onUpdate:modelValue":n[1]||(n[1]=s=>V(t).description=s)},null,512)),[[Uc,V(t).description]]):Ze("",!0),Va(i.$slots,"footer")],64))}}),T0e={class:"flex"},E0e=["min","max","name","step"],M0e=["min","max","name","step"],tb=ft({__name:"range-input",props:{min:{default:0},max:{default:10},step:{default:1},value:{default:0},name:{default:"range"}},emits:["change"],setup(a){const t=$e(a.value);return(i,n)=>(ne(),xe("div",T0e,[Ai($("input",{type:"range",class:"m-2.5 w-16 h-[5px] rounded-lg appearance-none cursor-pointer",min:i.min,max:i.max,name:`range-${i.name}`,step:i.step,"onUpdate:modelValue":n[0]||(n[0]=s=>t.value=s),onInput:n[1]||(n[1]=s=>i.$emit("change",t.value))},null,40,E0e),[[Uc,t.value,void 0,{number:!0}]]),Ai($("input",{type:"number",class:"w-12",min:i.min,max:i.max,name:i.name,step:i.step,"onUpdate:modelValue":n[2]||(n[2]=s=>t.value=s),onChange:n[3]||(n[3]=s=>i.$emit("change",t.value))},null,40,M0e),[[Uc,t.value]])]))}}),L0e=ft({__name:"feature-edit-style-circle",props:{feature:{}},setup(a){return(e,t)=>(ne(),xe(sa,null,[Va(e.$slots,"title"),Va(e.$slots,"color"),Va(e.$slots,"lineWidth"),Va(e.$slots,"transparency"),Va(e.$slots,"footer")],64))}}),A0e=ft({__name:"feature-edit-style-point",props:{feature:{}},setup(a){const e=$e(!1);function t(){e.value=!1}return(i,n)=>e.value?Va(i.$slots,"symbolIcon",{key:1,closeEditIcon:t},()=>[Va(i.$slots,"symbolcolor")]):(ne(),xe(sa,{key:0},[Va(i.$slots,"title"),Va(i.$slots,"color"),Va(i.$slots,"styleSymbol",{openEditIcon:()=>e.value=!0}),Va(i.$slots,"size",{maxsize:900}),Va(i.$slots,"angle"),Va(i.$slots,"footer")],64))}}),C0e=ft({__name:"feature-edit-style-line",props:{feature:{}},setup(a){return(e,t)=>(ne(),xe(sa,null,[Va(e.$slots,"title"),Va(e.$slots,"color"),Va(e.$slots,"lineWidth"),Va(e.$slots,"style"),Va(e.$slots,"orientation"),Va(e.$slots,"footer")],64))}}),I0e=ft({__name:"feature-edit-style-polygon",props:{feature:{}},setup(a){return(e,t)=>(ne(),xe(sa,null,[Va(e.$slots,"title"),Va(e.$slots,"color"),Va(e.$slots,"lineWidth"),Va(e.$slots,"transparency"),Va(e.$slots,"footer")],64))}}),R0e=ft({__name:"feature-edit-style-label",props:{feature:{}},setup(a){return(e,t)=>(ne(),xe(sa,null,[Va(e.$slots,"title"),Va(e.$slots,"color"),Va(e.$slots,"size",{maxsize:40}),Va(e.$slots,"angle"),Va(e.$slots,"footer")],64))}}),O0e=ft({__name:"feature-edit-linestyle-item",props:{linestyle:{}},emits:["changeLinestyle"],setup(a,{emit:e}){const{t}=ma(),i=e,n=Is("feature");function s(r){i("changeLinestyle",r)}return(r,l)=>(ne(),xe("button",{class:ei(`lux-btn-grey${V(n).featureStyle.linestyle===r.linestyle?" pressed":""}`),onClick:l[0]||(l[0]=c=>s(r.linestyle))},De(V(t)(V(cae)(r.linestyle))),3))}}),k0e=["cx","cy","r","fill"],rD=ft({__name:"circleSymbol",props:{radius:{default:9},fillColor:{default:"red"}},setup(a){const t=a.radius*2;return(i,n)=>(ne(),xe("svg",{height:t,width:t},[$("circle",{cx:i.radius,cy:i.radius,r:i.radius,fill:i.fillColor},null,8,k0e)]))}}),P0e=["height","width"],D0e=["fill"],sD=ft({__name:"squareSymbol",props:{fillColor:{default:"red"},height:{default:18},width:{default:18}},setup(a){return(e,t)=>(ne(),xe("svg",{height:e.height,width:e.width},[$("rect",{height:"100%",width:"100%",fill:e.fillColor},null,8,D0e)],8,P0e))}}),F0e=["height","width"],N0e=["y","font-size","fill"],oD=ft({__name:"crossSymbol",props:{fillColor:{default:"red"},fontSize:{default:42},height:{default:18},width:{default:18}},setup(a){return(e,t)=>(ne(),xe("svg",{height:e.height,width:e.width},[$("text",{x:"1",y:e.height+2,"font-size":e.fontSize,fill:e.fillColor},"+",8,N0e)],8,F0e))}}),W0e=["height","width"],z0e=["fill"],lD=ft({__name:"triangleSymbol",props:{fillColor:{default:"red"},size:{default:18}},setup(a){const e=a,t=e.size/2,i=`0,${e.size} ${t},0 ${e.size},${e.size}`;return(n,s)=>(ne(),xe("svg",{height:n.size,width:n.size},[$("polygon",{points:i,fill:n.fillColor},null,8,z0e)],8,W0e))}}),B0e={class:"flex gap-2 items-center mt-1 mb-2"},G0e={class:"font-bold block"},q0e=["src"],U0e=ft({__name:"feature-edit-style-symbol",emits:["clickSymbolIcon"],setup(a){const e="https://migration.geoportail.lu/mymaps/symbol",{t}=ma(),i=Is("feature"),n={circle:rD,square:sD,cross:oD,triangle:lD};return(s,r)=>(ne(),xe("div",B0e,[$("label",G0e,De(V(t)("Symbol")),1),V(i).featureStyle.symbolId?(ne(),xe("button",{key:0,class:"lux-btn items-center",onClick:r[0]||(r[0]=l=>s.$emit("clickSymbolIcon")),"data-cy":"featStyleSymbolEdit"},[$("img",{class:"symbol-style max-h-10",src:`${V(e)}/${V(i).featureStyle.symbolId}`},null,8,q0e)])):(ne(),xe("button",{key:1,class:"lux-btn items-center flex gap-2",onClick:r[1]||(r[1]=l=>s.$emit("clickSymbolIcon")),"data-cy":"featStyleSymbolEdit"},[xr(De(V(t)("Symbole"))+" ",1),V(i).featureStyle.shape?(ne(),ga(L0(n[V(i).featureStyle.shape]),{key:0,fillColor:V(i).featureStyle.color},null,8,["fillColor"])):Ze("",!0)]))]))}}),uD="https://migration.geoportail.lu/mymaps/symbols",V0e="https://migration.geoportail.lu/mymaps",j0e="http://migration.geoportail.lu/mymaps/upload_symbol";let w_,S_;async function H0e(a=!1){return(!(w_!=null&&w_.results)||a)&&(w_=await(await Gf(uD,{symboltype:"public"},"GET")).json()),w_==null?void 0:w_.results}async function Z0e(a=!1){return(!(S_!=null&&S_.results)||a)&&(S_=await(await Gf(uD,{symboltype:"us"},"GET")).json()),S_==null?void 0:S_.results}async function X0e(a){const e=new FormData;return e.append("file",a),await Gf(j0e,e,"POST")}const Y0e=["placeholder"],K0e=["id","title","onClick"],$0e={class:"w-12"},Q0e=["src"],J0e={class:"break-all"},e1e=ft({__name:"feature-edit-symbol-list",props:{symbols:{}},emits:["change"],setup(a,{emit:e}){const t=a,i=e,{t:n}=ma(),s=$e(""),r=Pt(()=>s.value?t.symbols.filter(c=>c.name.includes(s.value)):t.symbols);function l(c){i("change",c)}return(c,h)=>(ne(),xe("div",null,[Ai($("input",{"data-cy":"featStyleSymbolFilterList",class:"text-white w-full placeholder-white border-[1px] border-gray-300 mb-2",type:"text",placeholder:V(n)("Rechercher un symbole"),"onUpdate:modelValue":h[0]||(h[0]=f=>s.value=f)},null,8,Y0e),[[Uc,s.value,void 0,{trim:!0}]]),xr(" "+De(V(n)("Symbole"))+" ",1),$("ul",null,[(ne(!0),xe(sa,null,Cn(r.value,f=>(ne(),xe("li",{key:f.id,class:"border-b-[1px] border-b-gray-300"},[$("button",{id:f.id.toString(),class:"leading-5 p-1 items-center flex hover:bg-slate-100 w-full text-left",title:f.name,onClick:()=>l(f.id),"data-cy":"featStyleSymbolIcon"},[$("span",$0e,[$("img",{class:"max-h-10",src:`${V(V0e)}${f.url}`},null,8,Q0e)]),$("span",J0e,De(f.name),1)],8,K0e)]))),128))])]))}}),t1e={class:"border-b-gray-300 border-b-[1px] mb-2"},a1e=["data-cy","onClick"],i1e={class:"flex gap-1 my-2"},n1e=["onClick","data-cy"],r1e={class:"text-right mt-3"};var cD=(a=>(a.configurables="Configurables",a.mySymbols="Mes symboles",a.publics="Publics",a))(cD||{});const s1e=ft({__name:"feature-edit-symbol-icon",emits:["close","changeSymbolIcon","changeSymbolShape"],setup(a,{emit:e}){const t=e,{t:i}=ma(),{addNotification:n}=jc(),s=kx(),r=Is("feature"),l={circle:rD,square:sD,cross:oD,triangle:lD},c=$e("Configurables"),h=$e(void 0),f=$e([]);Vt(c,async M=>{if(M==="Mes symboles"||M==="Publics")try{f.value=await v(M==="Mes symboles")}catch{f.value=[]}}),jn(()=>{r.featureStyle.symbolId&&(c.value=r.featureStyle.symboltype==="us"?"Mes symboles":"Publics")});async function v(M=!1,I=!1){const R=M?await Z0e(I):await H0e(I);return R.sort((P,F)=>P.name.localeCompare(F.name)),R}async function b(){var M;if((M=h.value)!=null&&M.files&&h.value.files[0]){const I=h.value.files[0];try{await X0e(I),f.value=await v(!0,!0)}catch{n(i("Error while trying to upload new symbol."),Bu.ERROR)}}}function T(M){t("changeSymbolShape",M)}return(M,I)=>(ne(),xe(sa,null,[xr(De(V(i)("Veuillez choisir un symbole dans une des catégories"))+" ",1),$("div",t1e,[(ne(),xe(sa,null,Cn(cD,(R,P)=>(ne(),xe(sa,{key:P},[P==="mySymbols"&&!V(s).isAuthenticated()?Ze("",!0):(ne(),xe("button",{key:0,"data-cy":`featStyleSymbolTab${P==="mySymbols"?"_private":""}`,onClick:()=>c.value=R,class:ei(["lux-tab",{active:c.value===R}])},De(V(i)(R)),11,a1e))],64))),64))]),c.value==="Configurables"?(ne(),xe(sa,{key:0},[$("div",i1e,[(ne(!0),xe(sa,null,Cn(Object.keys(l),R=>(ne(),xe("button",{key:R,class:"lux-btn p-2 rounded-sm border-gray-600",onClick:P=>T(R),"data-cy":`featStyleSymbol_${R}`},[(ne(),ga(L0(l[R]),{fillColor:V(r).featureStyle.color},null,8,["fillColor"]))],8,n1e))),128))]),Va(M.$slots,"symbolcolor")],64)):Ze("",!0),c.value==="Publics"||c.value==="Mes symboles"?(ne(),ga(e1e,{key:1,symbols:f.value,class:"max-h-80 overflow-y-auto",onChange:I[0]||(I[0]=R=>M.$emit("changeSymbolIcon",`${R}`,c.value==="Mes symboles"?"us":"public"))},null,8,["symbols"])):Ze("",!0),$("div",r1e,[c.value==="Mes symboles"?(ne(),xe(sa,{key:0},[$("input",{accept:"image/*",ref_key:"fileInput",ref:h,type:"file",id:"file",hidden:"",onChange:b},null,544),$("button",{class:"lux-btn mr-2",onClick:I[1]||(I[1]=()=>{var R;return(R=h.value)==null?void 0:R.click()})},De(V(i)("Importer un symbole")),1)],64)):Ze("",!0),$("button",{class:"lux-btn",onClick:I[2]||(I[2]=()=>M.$emit("close")),"data-cy":"featClosePopup"},De(V(i)("Fermer")),1)])],64))}}),o1e={class:"flex gap-1 items-center"},l1e={class:"font-bold block",for:"color"},u1e={class:"md:w-2/3"},c1e=["value"],d1e={class:"flex gap-1 items-center mt-1"},h1e={class:"font-bold block",for:"size"},_1e={key:0,class:"flex gap-1 items-center mt-1 mb-2"},m1e={class:"font-bold block",for:"angle"},p1e={class:"flex gap-1 items-center mt-1 mb-2","data-cy":"featStyleLineStyle"},f1e={class:"font-bold block"},g1e={class:"flex gap-1"},y1e={class:"flex gap-1 items-center"},v1e={class:"font-bold block",for:"color"},b1e={class:"md:w-2/3"},x1e=["value"],w1e={class:"flex gap-1 items-center mt-1"},S1e={class:"font-bold block",for:"stroke"},T1e={class:"flex gap-1 items-center mt-1"},E1e={class:"font-bold block",for:"transparency"},M1e={class:"flex gap-2 items-center mt-1 mb-2"},L1e={class:"font-bold block",for:"showOrientation"},A1e=["checked"],C1e={class:"flex gap-1 items-center mt-1 mb-2"},NC=ft({__name:"feature-edit-style",setup(a){const{t:e}=ma(),t=Is("feature"),i=Pt(()=>!(t.featureType==="drawnPoint"&&t.featureStyle.shape==="circle")),n={FeatureEditStyleCircle:L0e,FeatureEditStyleLine:C0e,FeatureEditStylePoint:A0e,FeatureEditStylePolygon:I0e,FeatureEditStyleLabel:R0e},s=["plain","dashed","dotted"],r=Pt(()=>t==null?void 0:t.featureType.replace("drawn","FeatureEditStyle"));function l(P){t.featureStyle={...t.featureStyle,color:P.target.value}}function c(P){t.featureStyle={...t.featureStyle,size:P}}function h(P){t.featureStyle={...t.featureStyle,angle:P*Math.PI/180}}function f(P){t.featureStyle={...t.featureStyle,stroke:P}}function v(P){t.featureStyle={...t.featureStyle,opacity:(100-P)/100}}function b(P){t.featureStyle={...t.featureStyle,showOrientation:P.target.checked}}function T(){const P=t.getGeometry().getCoordinates().reverse(),F=new cs(P);t.setGeometry(F)}function M(P){t.featureStyle={...t.featureStyle,linestyle:P}}function I(P,F){t.featureStyle={...t.featureStyle,shape:P,symbolId:void 0,symboltype:void 0},F&&F()}function R(P,F,B){t.featureStyle={...t.featureStyle,symbolId:P,symboltype:F,size:100,shape:void 0},B&&B()}return(P,F)=>(ne(),ga(L0(n[r.value]),{feature:V(t)},{title:Xa(()=>[xr(De(V(e)("Style your drawing")),1)]),color:Xa(()=>[$("div",o1e,[$("label",l1e,De(V(e)("Color")),1),$("div",u1e,[$("input",{name:"color",class:"cursor-pointer",type:"color",value:V(t).featureStyle.color,onInput:l,"data-cy":"featStyleColor"},null,40,c1e)])])]),size:Xa(B=>[$("div",d1e,[$("label",h1e,De(V(e)("Size")),1),ct(tb,{name:"size",class:"md:w-2/3",max:B.maxsize,value:V(t).featureStyle.size,"data-cy":"featStyleSize",onChange:c},null,8,["max","value"])])]),angle:Xa(()=>[i.value?(ne(),xe("div",_1e,[$("label",m1e,De(V(e)("Angle")),1),ct(tb,{name:"angle",class:"md:w-2/3",min:-180,max:180,value:(Math.round(V(t).featureStyle.angle*180/Math.PI)+180)%360-180,onChange:h,"data-cy":"featStyleAngle"},null,8,["value"])])):Ze("",!0)]),style:Xa(()=>[$("div",p1e,[$("label",f1e,De(V(e)("Style")),1),$("div",g1e,[(ne(),xe(sa,null,Cn(s,(B,W)=>ct(O0e,{key:W,linestyle:B,onChangeLinestyle:M},null,8,["linestyle"])),64))])])]),styleSymbol:Xa(({openEditIcon:B})=>[ct(U0e,{"data-cy":"featStyleSymbol",onClickSymbolIcon:B},null,8,["onClickSymbolIcon"])]),symbolIcon:Xa(({closeEditIcon:B})=>[ct(s1e,{onChangeSymbolIcon:(W,Z)=>R(W,Z,B),onChangeSymbolShape:W=>I(W,B),onClose:B},{symbolcolor:Xa(()=>[$("div",y1e,[$("label",v1e,De(V(e)("Color")),1),$("div",b1e,[$("input",{name:"color",class:"cursor-pointer",type:"color",value:V(t).featureStyle.color,onInput:l,"data-cy":"featStyleColor"},null,40,x1e)])])]),_:2},1032,["onChangeSymbolIcon","onChangeSymbolShape","onClose"])]),lineWidth:Xa(()=>[$("div",w1e,[$("label",S1e,De(V(e)("Stroke width")),1),ct(tb,{name:"stroke","data-cy":"featStyleLineWidth",value:V(t).featureStyle.stroke,onChange:f},null,8,["value"])])]),transparency:Xa(()=>[$("div",T1e,[$("label",E1e,De(V(e)("Transparence")),1),ct(tb,{name:"transparency",class:"md:w-2/3","data-cy":"featStyleTransparency",max:100,value:100-V(t).featureStyle.opacity*100,onChange:v},null,8,["value"])])]),orientation:Xa(()=>[$("div",M1e,[$("label",L1e,De(V(e)("Show orientation")),1),$("input",{type:"checkbox",id:"showOrientation",onChange:b,checked:V(t).featureStyle.showOrientation},null,40,A1e)]),$("div",C1e,[$("button",{class:"lux-btn-primary",onClick:T},De(V(e)("Changer sens de la ligne")),1)])]),footer:Xa(()=>[Va(P.$slots,"footer")]),_:3},8,["feature"]))}}),I1e={class:"flex items-center"},R1e={class:"flex items-center"},O1e=ft({__name:"feature-concentric-circle",setup(a){const{t:e}=ma();return(t,i)=>(ne(),xe(sa,null,[xr(De(V(e)("Veuillez entrer les caractéristiques de votre nouveau cercle"))+" ",1),$("div",I1e,[$("span",null,De(V(e)("Rayon:")),1),$("div",R1e,[i[0]||(i[0]=$("input",{class:"form-control block mr-1",type:"text"},null,-1)),$("span",null,De(V(e)("mètres")),1)])]),Va(t.$slots,"footer")],64))}});function k1e(a,e,t,i){const n=a.getGeometry();(n==null?void 0:n.getType())==="Circle"&&(eP(n,e,t),i.updateDrawnFeature(a))}const P1e={class:"lux-drawing-item-measurements"},D1e={key:0,"data-cy":"featItemLength"},F1e={key:1,"data-cy":"featItemArea"},N1e={key:2,"data-cy":"featItemRadius",class:"flex items-center"},W1e={key:0},z1e={key:1,class:"flex"},B1e={key:3},G1e={"data-cy":"featItemElevation"},q1e=ft({__name:"feature-measurements",props:{isEditingFeature:{type:Boolean}},setup(a){var M,I;const{t:e}=ma(),t=$s(),i=Hi().getOlMap(),n=i.getView().getProjection(),s=$e(Is("feature")),r=$e(((M=s.value)==null?void 0:M.featureType)||""),l=$e((I=s.value)==null?void 0:I.getGeometry()),c=Pt(()=>{if(l.value){if(["drawnLine","drawnPolygon"].includes(r.value))return U2(l.value,n);if(r.value==="drawnCircle")return Ole(l.value,n)}}),h=Pt(()=>{if(l.value){if(r.value==="drawnPolygon")return Jk(l.value);if(r.value==="drawnCircle")return kle(l.value,n)}}),f=Pt(()=>l.value&&r.value==="drawnCircle"?V2(l.value,n):void 0),v=$e(f.value||0),b=$e();Vn(async()=>{const R=l.value.getCoordinates();l.value&&r.value==="drawnPoint"?b.value?b.value=await yhe(R):b.value=await P5(R):b.value=void 0}),Vn(()=>{v.value=r.value==="drawnCircle"?parseFloat(V2(l.value,n).toFixed(2)):0});function T(R){s.value&&k1e(s.value,R,i,t)}return(R,P)=>{const F=wh("format-measure");return ne(),xe("div",P1e,[c.value?(ne(),xe("div",D1e,[$("span",null,De(V(e)("Length:"))+" ",1),Ai($("span",null,null,512),[[F,c.value,void 0,{length:!0}]])])):Ze("",!0),h.value?(ne(),xe("div",F1e,[$("span",null,De(V(e)("Area:"))+" ",1),Ai($("span",null,null,512),[[F,h.value,void 0,{area:!0}]])])):Ze("",!0),r.value==="drawnCircle"?(ne(),xe("div",N1e,[$("span",null,De(V(e)("Rayon:"))+" ",1),R.isEditingFeature?(ne(),xe("div",z1e,[Ai($("input",{"data-cy":"featItemInputRadius",class:"form-control block bg-secondary text-white border !border-gray-300",type:"number","onUpdate:modelValue":P[0]||(P[0]=B=>v.value=B),onKeyup:P[1]||(P[1]=Ol(B=>T(v.value),["enter"]))},null,544),[[Uc,v.value]]),$("button",{class:"lux-btn-primary",onClick:P[2]||(P[2]=B=>T(v.value))},De(V(e)("Valider")),1)])):Ai((ne(),xe("span",W1e,null,512)),[[F,f.value,void 0,{length:!0}]])])):Ze("",!0),r.value==="drawnPoint"?(ne(),xe("div",B1e,[$("span",null,De(V(e)("Elevation"))+": ",1),Ai($("span",G1e,null,512),[[F,b.value,"2",{elevation:!0}]])])):Ze("",!0),r.value==="drawnLine"?(ne(),ga(k5,{key:4,class:"mb-2",feature:s.value},null,8,["feature"])):Ze("",!0)])}}}),U1e={key:1},V1e={class:"flex justify-between items-center mt-1 gap-2"},j1e={"data-cy":"featItemActions"},H1e={class:"flex text-primary items-center gap-1"},Z1e={class:"mt-3 text-right"},X1e=ft({__name:"feature-sub-content",props:{isDocked:{type:Boolean},isEditingFeature:{type:Boolean}},emits:["toggleEditFeature","toggleDock","clickDelete","resetInfo","resetStyle","submitEditFeature"],setup(a,{emit:e}){const t=e,{t:i}=ma(),n=Is("feature");let s=n.label,r=n.description,l={...n.featureStyle};const c={FeatureConcentricCircle:O1e,FeatureEditInfo:FC,FeatureEditStyle:NC,FeatureConfirmDelete:DC},h=$e(void 0);mx("currentEditCompKey",h);function f(){h.value==="FeatureEditStyle"?(n.selected=!0,t("resetStyle",l)):h.value==="FeatureEditInfo"&&t("resetInfo",s,r),h.value=void 0}function v(){const T=c[h.value];s=n.label,r=n.description,l={...n.featureStyle},T===DC?t("clickDelete"):T===FC||T===NC?(n.selected=!0,t("submitEditFeature")):alert("TODO: Draw feature click onClickValidate()"),h.value=void 0}function b(){n.selected=!1,n.changed(),h.value="FeatureEditStyle"}return(T,M)=>{var I;return h.value?(ne(),ga(L0(c[h.value]),{key:1},{footer:Xa(()=>[$("div",Z1e,[$("button",{"data-cy":"featureEditCancel",class:"lux-btn mr-2",onClick:f},De(V(i)("Cancel")),1),$("button",{"data-cy":"featureEditValidate",class:"lux-btn-primary",onClick:v},De(V(i)("Validate")),1)])]),_:1})):(ne(),xe(sa,{key:0},[T.isDocked?Ze("",!0):(ne(),xe("i",{key:0,"data-cy":"featItemDock",class:"fa fa-object-ungroup float-right",role:"button",onClick:M[0]||(M[0]=()=>t("toggleDock"))})),T.isDocked?(ne(),xe("h6",U1e,De((I=V(n))==null?void 0:I.label),1)):Ze("",!0),M[10]||(M[10]=$("div",{class:"min-h-2"},null,-1)),ct(q1e,{isEditingFeature:T.isEditingFeature},null,8,["isEditingFeature"]),$("div",V1e,[$("div",null,[$("button",{"data-cy":"featItemToggleEdit",class:"lux-btn-primary",onClick:M[1]||(M[1]=R=>t("toggleEditFeature",V(n)))},De(T.isEditingFeature?V(i)("Terminer édition"):V(i)("Editer l'objet")),1)]),$("div",j1e,[$("div",H1e,[$("button",{"data-cy":"featItemActionSearch",class:"hover:text-tertiary",onClick:M[2]||(M[2]=()=>{var R;return(R=V(n))==null?void 0:R.fit()})},M[6]||(M[6]=[$("i",{class:"fa fa-search"},null,-1)])),$("button",{"data-cy":"featItemActionEdit",class:"hover:text-tertiary",onClick:M[3]||(M[3]=()=>h.value="FeatureEditInfo")},M[7]||(M[7]=[$("i",{class:"fa fa-pencil"},null,-1)])),$("button",{"data-cy":"featItemActionStyle",class:"hover:text-tertiary",onClick:M[4]||(M[4]=R=>b())},M[8]||(M[8]=[$("i",{class:"fa fa-paint-brush"},null,-1)])),$("button",{"data-cy":"featItemActionDelete",class:"hover:text-tertiary",onClick:M[5]||(M[5]=()=>h.value="FeatureConfirmDelete")},M[9]||(M[9]=[$("i",{class:"fa fa-trash"},null,-1)])),ct(S0e)])])])],64))}}}),Y1e=ft({__name:"map-popup",props:{anchor:{}},emits:["closePopup"],setup(a,{emit:e}){const t=a,i=e,n=Hi(),s=$e(null),r=Li(new hI({autoPan:{animation:{duration:250}}}));return jn(()=>{s.value&&(r.value.setElement(s.value),n.getOlMap().addOverlay(r.value))}),Vn(()=>{r.value.setPosition(t.anchor)}),(l,c)=>(ne(),ga(dx,{to:"body"},[$("div",{ref_key:"popupContainer",ref:s,"data-cy":"mapPopup",class:"popup"},[$("button",{class:"fa-sharp fa-solid fa-close float-right mt-2 hover:text-primary",onClick:c[0]||(c[0]=()=>i("closePopup"))}),Va(l.$slots,"default")],512)]))}});const K1e=ft({__name:"feature-sub-wrapper",props:{isDocked:{type:Boolean}},emits:["closePopup"],setup(a,{emit:e}){const{getFeatCoordinates:t}=QP(),i=e,n=Is("feature"),s=$e(c());function r(){i("closePopup")}const l=Py(()=>{s.value=c()},1e3);function c(){return JSON.parse(JSON.stringify(t(n)))}return Vn(()=>{n!=null&&n.getGeometry()&&t(n)&&l()}),(h,f)=>h.isDocked?(ne(),ga(Y1e,{key:0,anchor:s.value,onClosePopup:r},{default:Xa(()=>[Va(h.$slots,"default")]),_:3},8,["anchor"])):Va(h.$slots,"default",{key:1})}}),$1e=["aria-expanded","aria-controls"],Q1e=["id"],J1e=ft({__name:"feature-item",props:{isDocked:{type:Boolean,default:!1},isEditing:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},feature:{}},emits:["clickDelete","closePopup","toggleFeatureSub","toggleFeatureEdit","toggleDock","submitFeature"],setup(a,{emit:e}){const t=a,i=t.feature,n=e;mx("feature",t.feature);function s(){n("toggleFeatureSub",na(t.feature),!t.isOpen)}function r(){n("toggleFeatureEdit",na(t.feature),!t.isEditing)}function l(){n("clickDelete",na(t.feature))}function c(v,b){i.label=v,i.description=b}function h(v){i.featureStyle={...v}}function f(){n("submitFeature",t.feature)}return(v,b)=>(ne(),xe(sa,null,[$("button",{"data-cy":"featItemName",class:"lux-drawing-item-label flex items-center gap-1","aria-expanded":v.isOpen,"aria-controls":`drawing-item-content-${v.feature.id}`,onClick:s},[b[2]||(b[2]=$("span",{class:"sortable-handle drag-handle fa fa-reorder ui-sortable-handle cursor-move"},null,-1)),$("span",{class:ei(["lux-icon",{point:v.feature.featureType==="drawnPoint"||v.feature.featureType==="drawnLabel",line:v.feature.featureType==="drawnLine",polygon:v.feature.featureType==="drawnPolygon"||v.feature.featureType==="drawnCircle"}])},null,2),$("span",{class:ei({selected:v.isOpen})},De(v.feature.label),3)],8,$1e),v.isOpen?(ne(),ga(K1e,{key:0,isDocked:v.isDocked,onClosePopup:b[1]||(b[1]=()=>n("toggleDock"))},{default:Xa(()=>[$("div",{class:"lux-drawing-item-content",id:`drawing-item-content-${v.feature.id}`},[ct(X1e,{isDocked:v.isDocked,isEditingFeature:v.isEditing,onToggleEditFeature:r,onToggleDock:b[0]||(b[0]=()=>n("toggleDock")),onClickDelete:l,onResetInfo:c,onResetStyle:h,onSubmitEditFeature:f},null,8,["isDocked","isEditingFeature"])],8,Q1e)]),_:1},8,["isDocked"])):Ze("",!0)],64))}}),eve={key:0,class:"mx-1 sortable-features"},tve=["id"],ave=ft({__name:"draw-panel-features",setup(a){const e=$s(),{activeFeatureId:t,editingFeatureId:i,drawnFeatures:n,featureEditionDocked:s}=Gt(e);function r(h,f){t.value=f?h:void 0,i.value=void 0}function l(h,f){i.value=f?h:void 0}function c(h){const f=[...h].map(v=>v.id);e.reorderFeatures(f)}return jn(()=>{p3(document.querySelector(".sortable-features"),{onSort:c})}),(h,f)=>V(n).length?(ne(),xe("ul",eve,[(ne(!0),xe(sa,null,Cn(V(n),(v,b)=>(ne(),xe("li",{class:"lux-drawing-item",id:`f-${V(na)(v)}`,key:b},[ct(J1e,{isDocked:V(s),isEditing:V(i)===V(na)(v),isOpen:V(t)===V(na)(v),feature:v,onToggleFeatureSub:r,onToggleFeatureEdit:l,onToggleDock:f[0]||(f[0]=()=>s.value=!V(s)),onClosePopup:f[1]||(f[1]=()=>s.value=!1),onClickDelete:f[2]||(f[2]=T=>V(e).removeFeature(T)),onSubmitFeature:T=>V(e).updateDrawnFeature(T)},null,8,["isDocked","isEditing","isOpen","feature","onSubmitFeature"])],8,tve))),128))])):Ze("",!0)}}),ive={class:"lux-draw-panel absolute w-[93%]","data-cy":"drawPanel"},nve={class:"lux-draw-panel-title flex"},rve={class:"grow"},sve=ft({__name:"draw-panel",setup(a){const{t:e}=ma(),t=$s(),{drawnFeatures:i}=Gt(t),n=[{label:"Copier dans ma carte",action:()=>alert("TODO: Draw feature click drawingMenuOptions")},{label:"Effacer tous les dessins",action:()=>alert("TODO: Draw feature click drawingMenuOptions")},{label:"Créer une nouvelle carte à partir de ces dessins",action:()=>alert("TODO: Draw feature click drawingMenuOptions")},{label:"Fusionner des lignes",action:()=>alert("TODO: Draw feature click drawingMenuOptions")},{label:"Couper une ligne",action:()=>alert("TODO: Draw feature click drawingMenuOptions")}];return(s,r)=>V(i).length>0?(ne(),xe(sa,{key:0},[r[1]||(r[1]=$("hr",{class:"separator my-5"},null,-1)),$("div",ive,[$("div",nve,[$("h5",rve,De(V(e)("Dessins")),1),ct(iD,{"data-cy":"drawPanelMenuPopup",items:n,direction:"down",ariaLabel:V(e)("Drawings menu")},{item:Xa(({item:l})=>[ct(nD,{"data-cy":"drawPanelMenuPopupItem",item:l,onClick:()=>l.action&&l.action()},{default:Xa(()=>[xr(De(V(e)(l.label)),1)]),_:2},1032,["item","onClick"])]),default:Xa(()=>[r[0]||(r[0]=$("i",{class:"fa-solid fa-square-caret-down hover:text-tertiary"},null,-1))]),_:1},8,["ariaLabel"])]),ct(ave)])],64)):Ze("",!0)}});const ove=qE(sve,[["__scopeId","data-v-6c1ac536"]]),lve={class:"text-white"},uve={class:"flex justify-center flex-col items-center"},cve=ft({__name:"my-maps-panel",setup(a){const{t:e}=ma(),t=fi();function i(){alert("TODO: clickOpenMap")}function n(){alert("TODO: clickCreateNewMap")}return(s,r)=>(ne(),ga(X0,{"data-cy-value":"myMapsPanel","close-fn":()=>V(t).toggleMyMapsOpen(!1)},{header:Xa(()=>[$("h1",null,De(V(e)("My Maps",{ns:"client"})),1)]),content:Xa(()=>[$("div",lve,De(V(e)("Create, save and share your own maps.",{ns:"client"})),1),$("div",uve,[$("button",{class:"lux-btn mt-3",onClick:i},De(V(e)("Ouvrir une carte",{ns:"client"})),1),$("button",{class:"lux-btn mt-3",onClick:n},De(V(e)("Créer une nouvelle carte",{ns:"client"})),1)]),ct(ove)]),_:1},8,["close-fn"]))}});var V5={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.BLANK_URL=Hr.relativeFirstCharacters=Hr.whitespaceEscapeCharsRegex=Hr.urlSchemeRegex=Hr.ctrlCharactersRegex=Hr.htmlCtrlEntityRegex=Hr.htmlEntitiesRegex=Hr.invalidProtocolRegex=void 0;Hr.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;Hr.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;Hr.htmlCtrlEntityRegex=/&(newline|tab);/gi;Hr.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;Hr.urlSchemeRegex=/^.+(:|&colon;)/gim;Hr.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;Hr.relativeFirstCharacters=[".","/"];Hr.BLANK_URL="about:blank";Object.defineProperty(V5,"__esModule",{value:!0});var dD=V5.sanitizeUrl=void 0,ws=Hr;function dve(a){return ws.relativeFirstCharacters.indexOf(a[0])>-1}function hve(a){var e=a.replace(ws.ctrlCharactersRegex,"");return e.replace(ws.htmlEntitiesRegex,function(t,i){return String.fromCharCode(i)})}function _ve(a){return URL.canParse(a)}function WC(a){try{return decodeURIComponent(a)}catch{return a}}function mve(a){if(!a)return ws.BLANK_URL;var e,t=WC(a.trim());do t=hve(t).replace(ws.htmlCtrlEntityRegex,"").replace(ws.ctrlCharactersRegex,"").replace(ws.whitespaceEscapeCharsRegex,"").trim(),t=WC(t),e=t.match(ws.ctrlCharactersRegex)||t.match(ws.htmlEntitiesRegex)||t.match(ws.htmlCtrlEntityRegex)||t.match(ws.whitespaceEscapeCharsRegex);while(e&&e.length>0);var i=t;if(!i)return ws.BLANK_URL;if(dve(i))return i;var n=i.trimStart(),s=n.match(ws.urlSchemeRegex);if(!s)return i;var r=s[0].toLowerCase().trim();if(ws.invalidProtocolRegex.test(r))return ws.BLANK_URL;var l=n.replace(/\\/g,"/");if(r==="mailto:"||r.includes("://"))return l;if(r==="http:"||r==="https:"){if(!_ve(l))return ws.BLANK_URL;var c=new URL(l);return c.protocol=c.protocol.toLowerCase(),c.hostname=c.hostname.toLowerCase(),c.toString()}return l}dD=V5.sanitizeUrl=mve;function pve(a,e){const t="f_";return Object.entries(a).filter(([i])=>i!=="showProfile").map(([i,n])=>({key:t+i,value:n})).sort((i,n)=>e?0:i.key.localeCompare(n.key))}function y3(a){return a.attributes!==void 0&&Object.keys(a.attributes).length>0}function fve(a){return a==null||a.length===0}function vp(a){const e=String(a).toLowerCase();return e.startsWith("http://")||e.startsWith("https://")}function gve(a,e,t){const{key:i}=a;let n=!1;return e==="2407"&&(i==="f_Cl_erosion"||i==="f_Erosion_kl"||i==="f_Erosion_Cl"||i==="f_Erosioun_K")?(t==="fr"&&i==="f_Cl_erosion"||t==="de"&&i==="f_Erosion_kl"||t==="en"&&i==="f_Erosion_Cl"||t==="lb"&&i==="f_Erosioun_K")&&(n=!0):e==="2714"&&(i==="f_LABEL_eng"||i==="f_LC_class_name_fr"||i==="f_LC_class_name_de"||i==="f_LC_class_name")?(t==="fr"&&i==="f_LC_class_name_fr"||t==="de"&&i==="f_LC_class_name_de"||t==="en"&&i==="f_LABEL_eng"||t==="lb"&&i==="f_LC_class_name")&&(n=!0):e==="2444"&&(i==="f_Betriebsform"||i==="f_Forme_d_entreprise"||i==="f_Operation_Form"||i==="f_Form_vun_Geschaeft")?(t==="fr"&&i==="f_Forme_d_entreprise"||t==="de"&&i==="f_Betriebsform"||t==="en"&&i==="f_Operation_Form"||t==="lb"&&i==="f_Form_vun_Geschaeft")&&(n=!0):i.endsWith("_FR")||i.endsWith("_DE")||i.endsWith("_EN")||i.endsWith("_LU")||i.endsWith("_LB")?(t==="fr"&&i.endsWith("_FR")||t==="de"&&i.endsWith("_DE")||t==="en"&&i.endsWith("_EN")||t==="lb"&&(i.endsWith("_LB")||i.endsWith("_LU")))&&(n=!0):n=!0,n}function hD(a){return"fid"in a&&yve(a.fid)}function yve(a){return a==null?!1:a.split(",").every(t=>!!t&&t.split("_").length>=2)}function vve(a){return dD(a)}const _D=ft({__name:"profile-feature-info",props:{feature:{}},setup(a){const e=a,t=Hi().getOlMap(),i=Pt(()=>new j0(new dm().readFeature(e.feature,{dataProjection:Hl,featureProjection:t.getView().getProjection()})));return(n,s)=>(ne(),ga(k5,{feature:i.value},null,8,["feature"]))}}),bve={class:"flex flex-col"},xve={class:"lux-poi-title","data-cy":"defaultTemplateTitle"},wve={key:0},Sve={key:1,"data-cy":"defaultTemplateAttributes"},Tve={key:0},Eve={key:0},Mve={key:1},Lve=["href"],Ave=["href"],Cve={class:"lux-solarkataster-button"},Ive={key:4},Rve={controls:"",autoplay:"",style:{width:"260px",height:"50px"}},Ove=["src"],kve=["src"],Pve={key:2,class:"query-profile"},Dve={key:3,class:"no-print"},Fve=["onClick"],Nve=["onClick"],Wve={key:4,class:"no-print"},zve={key:5,class:"no-print"},Bve=["href"],Gve=ft({__name:"default-template",props:{layers:{type:Object,required:!0}},emits:["export"],setup(a){const{t:e}=ma(),t=window.location.href;function i(l,c){return!(l.startsWith("myenergy_solarkataster_luxemburg")||l.startsWith("eau_new_Wasserstand"))&&vp(c.value)}function n(l,c){return l.startsWith("myenergy_solarkataster_luxemburg")&&vp(c.value)&&c.key==="f_href"}function s(l,c){return l.startsWith("eau_new_Wasserstand")&&vp(c.value)&&c.key==="f_Graph"}function r(l){return vp(l.value)&&l.key==="f_AudioURL"}return(l,c)=>{const h=wh("dompurify-html");return ne(),xe("div",bve,[$("div",null,[$("h2",xve,De(V(e)(a.layers.layerLabel)),1),(ne(!0),xe(sa,null,Cn(a.layers.features,f=>(ne(),xe("div",{key:f.id,class:"lux-feature-info"},[f.attributes.label?(ne(),xe("h4",wve,De(V(e)(f.attributes.label)),1)):Ze("",!0),V(y3)(f)?(ne(),xe("div",Sve,[(ne(!0),xe(sa,null,Cn(V(pve)(f.attributes,a.layers.ordered),v=>(ne(),xe("div",{key:v.key},[!V(fve)(v.value)&&V(gve)(v,a.layers.layer,V(sn).language)?(ne(),xe("div",Tve,[V(vp)(v.value)?Ze("",!0):(ne(),xe("label",Eve,De(V(e)(v.key))+" : ",1)),V(vp)(v.value)?Ze("",!0):Ai((ne(),xe("span",Mve,null,512)),[[h,v.value]]),i(a.layers.layerLabel,v)?(ne(),xe("a",{key:2,href:v.value,target:"_blank"},De(V(e)(v.key)),9,Lve)):Ze("",!0),n(a.layers.layerLabel,v)?(ne(),xe("a",{key:3,"data-cy":"defaultTemplateSolarLink",href:v.value,target:"_blank"},[$("button",Cve,[$("span",null,De(V(e)("Lien direct vers le calculateur d'efficacité économique")),1)])],8,Ave)):Ze("",!0),r(v)?(ne(),xe("span",Ive,[$("audio",Rve,[$("source",{src:v.value,type:"audio/wav"},null,8,Ove)])])):Ze("",!0),s(a.layers.layerLabel,v)?(ne(),xe("iframe",{key:5,width:"260px",height:"560px",src:V(vve)(v.value),title:"water level graph"},null,8,kve)):Ze("",!0)])):Ze("",!0)]))),128))])):Ze("",!0),a.layers.has_profile?(ne(),xe("div",Pve,[ct(_D,{feature:f},null,8,["feature"])])):Ze("",!0),a.layers.has_profile?(ne(),xe("div",Dve,[$("button",{class:"lux-feature-info-export",onClick:v=>l.$emit("export",{feature:f,format:"kml"})},De(V(e)("Exporter KMl")),9,Fve),$("button",{class:"lux-feature-info-export",onClick:v=>l.$emit("export",{feature:f,format:"gpx"})},De(V(e)("Exporter GPX")),9,Nve)])):Ze("",!0),V(y3)(f)?Ze("",!0):(ne(),xe("div",Wve,[$("span",null,De(V(e)("Aucune information disponible pour cette couche")),1)])),V(hD)(f)?(ne(),xe("div",zve,[$("span",null,[$("a",{"data-cy":"defaultTemplateLink",href:V(t)+"&fid="+f.fid,target:"_blank"},De(V(e)("Lien direct vers cet objet")),9,Bve)])])):Ze("",!0)]))),128))])])}}}),qve={class:"flex flex-col"},Uve={"data-cy":"mymapsTemplate"},Vve={class:"lux-poi-title","data-cy":"mymapsTemplateTitle"},jve={key:0},Hve=["href"],Zve=["src"],Xve={key:2},Yve={key:3},Kve={key:4},$ve={key:5},Qve={key:6,class:"query-profile"},Jve={key:7,class:"no-print"},ebe=["onClick"],tbe=["onClick"],abe={key:8,class:"no-print"},ibe=["src"],nbe={key:9,class:"no-print"},rbe=["href"],sbe={key:10,class:"no-print"},obe=["href"],lbe=ft({__name:"mymaps-template",props:{layers:{type:Object,required:!0}},emits:["export"],setup(a){const{t:e}=ma(),t=window.location.href;return(i,n)=>{const s=wh("dompurify-html");return ne(),xe("div",qve,[$("div",Uve,[$("h2",Vve,De(V(e)(a.layers.layerLabel)),1),(ne(!0),xe(sa,null,Cn(a.layers.features,r=>(ne(),xe("div",{key:r.id,class:"lux-feature-info"},[r.attributes.sentier?(ne(),xe("h4",jve,De(V(e)(r.attributes.sentier)),1)):Ze("",!0),r.attributes.image&&r.attributes.thumbnail?(ne(),xe("a",{key:1,href:V(hC)(r.attributes.image),target:"_blank"},[$("img",{src:V(hC)(r.attributes.thumbnail)},null,8,Zve)],8,Hve)):Ze("",!0),r.attributes.sentier?(ne(),xe("div",Xve,[$("label",null,De(V(e)("sentier")),1),Ai($("span",null,null,512),[[s,r.attributes.sentier]])])):Ze("",!0),r.attributes.name?(ne(),xe("div",Yve,[$("label",null,De(V(e)("name"))+": ",1),Ai($("span",null,null,512),[[s,r.attributes.name]])])):Ze("",!0),r.attributes.description?(ne(),xe("div",Kve,[$("label",null,De(V(e)("description"))+": ",1),Ai($("span",null,null,512),[[s,r.attributes.description]])])):Ze("",!0),r.attributes.length?(ne(),xe("div",$ve,[$("label",null,De(V(e)("length"))+": ",1),Ai((ne(),xe("span",null,n[0]||(n[0]=[xr(" Km")]))),[[s,r.attributes.length]])])):Ze("",!0),a.layers.has_profile?(ne(),xe("div",Qve,[ct(_D,{feature:r},null,8,["feature"])])):Ze("",!0),a.layers.has_profile?(ne(),xe("div",Jve,[$("button",{class:"lux-feature-info-export",onClick:l=>i.$emit("export",{feature:r,format:"kml"})},De(V(e)("Exporter KMl")),9,ebe),$("button",{class:"lux-feature-info-export",onClick:l=>i.$emit("export",{feature:r,format:"gpx"})},De(V(e)("Exporter GPX")),9,tbe)])):Ze("",!0),V(y3)(r)?Ze("",!0):(ne(),xe("div",abe,[$("span",null,De(V(e)("Aucune information disponible pour cette couche")),1)])),n[1]||(n[1]=$("br",null,null,-1)),$("img",{src:V(s_e)(r.attributes.map_id),alt:"QR code"},null,8,ibe),r.attributes.map_id?(ne(),xe("div",nbe,[$("span",null,[$("a",{"data-cy":"mymapsTemplateLinkMap",href:V(t)+"&map_id="+r.attributes.map_id,target:"_blank"},De(V(e)("Lien vers la carte")),9,rbe)])])):Ze("",!0),V(hD)(r)?(ne(),xe("div",sbe,[$("span",null,[$("a",{"data-cy":"mymapsTemplateLink",href:V(t)+"&fid="+r.fid,target:"_blank"},De(V(e)("Lien direct vers cet objet")),9,obe)])])):Ze("",!0)]))),128))])])}}}),ube=ft({__name:"lignes-bus-template",props:{layers:{type:Object,required:!0}},emits:["export"],setup(a){return(e,t)=>(ne(),xe("h1",null,De(a.layers.layerLabel),1))}}),cbe=ft({__name:"feature-info",props:{content:{type:Array,required:!0}},emits:["export"],setup(a){const e=Hi().getOlMap(),{featureInfoPrintableRef:t}=Gt(D5()),i=r=>t.value=r;Os(()=>fy.clearFeatures());function n(r){switch(r){case"mymaps.html":return lbe;case"lignes_bus.html":return ube;case"default.html":default:return Gve}}function s(r){r.feature.attributes&&!r.feature.properties&&(r.feature.properties=r.feature.attributes);const l=new dm().readFeature(r.feature,{dataProjection:Hl,featureProjection:e.getView().getProjection()});O5.export(e,r.format,[l],r.feature.attributes.name||r.format,!0)}return(r,l)=>a.content&&a.content.length?(ne(),xe("div",{key:0,ref:i,class:"absolute w-11/12"},[(ne(!0),xe(sa,null,Cn(a.content,(c,h)=>(ne(),ga(L0(n(c.template)),{key:h,layers:c,onExport:s},null,40,["layers"]))),128))])):Ze("",!0)}}),dbe={key:0,"data-cy":"locationInfo",class:"absolute"},hbe={key:1,class:"text-white absolute"},_be={class:"list-disc pl-10"},mbe=ft({__name:"info-panel",setup(a){const{t:e}=ma(),t=fi(),{locationInfoCoords:i}=Gt(Kc()),n=Hi().olMap,{infoOpen:s}=Gt(t),{clearContent:r}=Q_(),{featureInfoPanelContent:l,isLoading:c}=Gt(Q_());return Vt(s,h=>{h||r()}),(h,f)=>(ne(),ga(X0,{"data-cy-value":"infoPanel","close-fn":()=>V(t).toggleInfoOpen(!1)},{header:Xa(()=>[$("h1",null,De(V(e)("infos",{ns:"client"})),1)]),content:Xa(()=>[V(n)?Ai((ne(),xe("div",dbe,[ct(M_e)],512)),[[th,V(i)]]):Ze("",!0),!V(i)&&!V(l)?(ne(),xe("div",hbe,[$("ul",_be,[$("li",null,De(V(e)("A right click (tap and hold on mobile)...",{ns:"app"})),1),$("li",null,De(V(e)("A short click (tap on mobile)...",{ns:"app"})),1)])])):Ze("",!0),V(l)&&!V(c)?(ne(),ga(cbe,{key:2,content:V(l)},null,8,["content"])):Ze("",!0)]),_:1},8,["close-fn"]))}}),pbe={key:0,class:"w-full md:w-80 bg-secondary z-10"},fbe={key:1,class:"w-full md:w-80 bg-secondary z-10"},gbe={key:2,class:"w-full md:w-80 bg-secondary z-10"},ybe={key:3,class:"w-full md:w-80 bg-secondary z-10"},vbe={class:"w-full md:w-80 bg-secondary z-10"},bbe=ft({__name:"side-panel",setup(a){const e=fi(),{layersOpen:t,legendsOpen:i,myMapsOpen:n,infoOpen:s,styleEditorOpen:r,themeGridOpen:l,drawToolbarOpen:c}=Gt(e);return Vt(t,h=>{h&&(i.value=n.value=r.value=!1)}),Vt(n,h=>{h&&(r.value=t.value=l.value=i.value=s.value=!1)}),Vt(i,h=>{h&&(n.value=r.value=t.value=l.value=s.value=!1)}),Vt(c,h=>{h&&U5("md")&&(n.value=!0,t.value=!1,i.value=!1,l.value=!1,s.value=!1)}),Vt(s,h=>{h&&(n.value=r.value=t.value=l.value=i.value=!1)}),(h,f)=>(ne(),xe(sa,null,[V(t)?(ne(),xe("div",pbe,[ct(lfe)])):Ze("",!0),V(i)?(ne(),xe("div",fbe,[ct(_fe)])):Ze("",!0),V(r)?(ne(),xe("div",gbe,[ct(bye)])):Ze("",!0),V(n)?(ne(),xe("div",ybe,[ct(cve)])):Ze("",!0),Ai($("div",vbe,[ct(mbe)],512),[[th,V(s)]])],64))}});class xbe{bootstrap(){this.restore()}restore(){const e=wa.getValue(vf);if(e){const{setFid:t}=Q_();t(e),oh.removeQueryParam(vf)}}}const wbe=new xbe,Sbe={class:"h-screen flex flex-col overflow-hidden"},Tbe={class:"flex grow"},Ebe={class:"map-wrapper grow bg-blue-100 relative"},Mbe={class:"absolute right-1 top-16"},Lbe={key:1,class:"flex grow"},Abe={class:"map-wrapper grow bg-blue-100 relative"},Cbe={class:"absolute right-1 top-2"},Ibe=ft({__name:"App",setup(a){const e=fi(),t=Oh(),i=Hi();Oye.bootstrap(),Iye.bootstrap(),Fye.bootstrap(),wye.bootstrap(),Mk.bootstrap(),Aye.bootstrap(),t.initBackgroundsConfigs(),wbe.bootstrap();const{embedded:n,layersOpen:s,legendsOpen:r,myMapsOpen:l,infoOpen:c,styleEditorOpen:h}=Gt(e);Vt(s,f),Vt(r,f),Vt(h,f),Vt(l,f),Vt(c,f);function f(){setTimeout(()=>i.resize(),50)}return jn(()=>window.addEventListener("resize",i.resize)),Os(()=>window.removeEventListener("resize",i.resize)),(v,b)=>(ne(),xe("div",Sbe,[V(n)?(ne(),xe("main",Lbe,[$("div",Abe,[ct(CC,{v4_standalone:!0})]),$("div",Cbe,[ct(dC)])])):(ne(),xe(sa,{key:0},[ct(kae),$("main",Tbe,[ct(bbe),$("div",Ebe,[ct(CC,{v4_standalone:!0}),ct(zge,{class:"absolute top-0"}),ct(kge),ct(ome)]),$("div",Mbe,[ct(dC)])]),ct(b0e,{class:"fixed bottom-5 sm:static"}),ct(uhe)],64))]))}});sR();sn.use(jC);sn.init({lng:"fr",debug:!1,defaultNS:"client",returnEmptyString:!1,supportedLngs:["de","en","fr","lb"],ns:["app","client","legends","server","tooltips"],fallbackLng:"en",backend:{loadPath:"/luxembourg-geoportail/main/assets/locales/{{ns}}.{{lng}}.json"},nsSeparator:!1,keySeparator:!1});const Y0=tB(Ibe);Y0.use(GB());Y0.use(nB,{i18next:sn});Y0.use(zB);Y0.use(bj);Y0.mount("#app");us().setThemes(yK());export{DG as A,ub as B,o2 as C,l2 as D,Dle as E,w5 as F,u2 as G,cs as L,q3 as P,xI as R,Cu as U,oG as V,lb as a,T7 as b,Ep as c,Wu as d,eI as e,Uq as f,kI as g,xn as h,yI as i,Di as j,wr as k,ZU as l,dl as m,Go as n,Ka as o,Pbe as p,Rx as q,ti as r,Vc as s,ih as t,Xr as u,Y_ as v,sm as w,Kl as x,vx as y,Si as z};
